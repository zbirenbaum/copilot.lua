"use strict";var rGe=Object.create;var rb=Object.defineProperty;var Yue=Object.getOwnPropertyDescriptor;var nGe=Object.getOwnPropertyNames;var iGe=Object.getPrototypeOf,oGe=Object.prototype.hasOwnProperty;var $ue=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),zue=e=>{throw TypeError(e)};var o=(e,t)=>rb(e,"name",{value:t,configurable:!0});var sGe=(e,t)=>()=>(e&&(t=e(e=0)),t);var V=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),qg=(e,t)=>{for(var r in t)rb(e,r,{get:t[r],enumerable:!0})},Kue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of nGe(t))!oGe.call(e,i)&&i!==r&&rb(e,i,{get:()=>t[i],enumerable:!(n=Yue(t,i))||n.enumerable});return e};var nt=(e,t,r)=>(r=e!=null?rGe(iGe(e)):{},Kue(t||!e||!e.__esModule?rb(r,"default",{value:e,enumerable:!0}):r,e)),aGe=e=>Kue(rb({},"__esModule",{value:!0}),e),fu=(e,t,r,n)=>{for(var i=n>1?void 0:n?Yue(t,r):t,s=e.length-1,a;s>=0;s--)(a=e[s])&&(i=(n?a(t,r,i):a(i))||i);return n&&i&&rb(t,r,i),i},ba=(e,t)=>(r,n)=>t(r,n,e);var r$=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&zue("Object expected");var n,i;r&&(n=t[$ue("asyncDispose")]),n===void 0&&(n=t[$ue("dispose")],r&&(i=n)),typeof n!="function"&&zue("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},n$=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,l,c,u){return u=Error(c),u.name="SuppressedError",u.error=a,u.suppressed=l,u},i=a=>t=r?new n(a,t,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=e.pop();)try{var l=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(l).then(s,c=>(i(c),s()))}catch(c){i(c)}if(r)throw t};return s()};var importMetaUrlShim,d=sGe(()=>{"use strict";importMetaUrlShim=typeof document>"u"?require("node:url").pathToFileURL(__filename).href:importMetaUrlShim});var Xue=V(i$=>{d();var Jue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");i$.encode=function(e){if(0<=e&&e<Jue.length)return Jue[e];throw new TypeError("Must be between 0 and 63: "+e)};i$.decode=function(e){var t=65,r=90,n=97,i=122,s=48,a=57,l=43,c=47,u=26,f=52;return t<=e&&e<=r?e-t:n<=e&&e<=i?e-n+u:s<=e&&e<=a?e-s+f:e==l?62:e==c?63:-1}});var a$=V(s$=>{d();var Zue=Xue(),o$=5,efe=1<<o$,tfe=efe-1,rfe=efe;function lGe(e){return e<0?(-e<<1)+1:(e<<1)+0}o(lGe,"toVLQSigned");function cGe(e){var t=(e&1)===1,r=e>>1;return t?-r:r}o(cGe,"fromVLQSigned");s$.encode=o(function(t){var r="",n,i=lGe(t);do n=i&tfe,i>>>=o$,i>0&&(n|=rfe),r+=Zue.encode(n);while(i>0);return r},"base64VLQ_encode");s$.decode=o(function(t,r,n){var i=t.length,s=0,a=0,l,c;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(c=Zue.decode(t.charCodeAt(r++)),c===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));l=!!(c&rfe),c&=tfe,s=s+(c<<a),a+=o$}while(l);n.value=cGe(s),n.rest=r},"base64VLQ_decode")});var ob=V(s0=>{d();function uGe(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}o(uGe,"getArg");s0.getArg=uGe;var nfe=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,fGe=/^data:.+\,.+$/;function d7(e){var t=e.match(nfe);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}o(d7,"urlParse");s0.urlParse=d7;function nb(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}o(nb,"urlGenerate");s0.urlGenerate=nb;function l$(e){var t=e,r=d7(e);if(r){if(!r.path)return e;t=r.path}for(var n=s0.isAbsolute(t),i=t.split(/\/+/),s,a=0,l=i.length-1;l>=0;l--)s=i[l],s==="."?i.splice(l,1):s===".."?a++:a>0&&(s===""?(i.splice(l+1,a),a=0):(i.splice(l,2),a--));return t=i.join("/"),t===""&&(t=n?"/":"."),r?(r.path=t,nb(r)):t}o(l$,"normalize");s0.normalize=l$;function ife(e,t){e===""&&(e="."),t===""&&(t=".");var r=d7(t),n=d7(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),nb(r);if(r||t.match(fGe))return t;if(n&&!n.host&&!n.path)return n.host=t,nb(n);var i=t.charAt(0)==="/"?t:l$(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,nb(n)):i}o(ife,"join");s0.join=ife;s0.isAbsolute=function(e){return e.charAt(0)==="/"||nfe.test(e)};function dGe(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}o(dGe,"relative");s0.relative=dGe;var ofe=function(){var e=Object.create(null);return!("__proto__"in e)}();function sfe(e){return e}o(sfe,"identity");function mGe(e){return afe(e)?"$"+e:e}o(mGe,"toSetString");s0.toSetString=ofe?sfe:mGe;function hGe(e){return afe(e)?e.slice(1):e}o(hGe,"fromSetString");s0.fromSetString=ofe?sfe:hGe;function afe(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}o(afe,"isProtoString");function pGe(e,t,r){var n=ib(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:ib(e.name,t.name)}o(pGe,"compareByOriginalPositions");s0.compareByOriginalPositions=pGe;function gGe(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=ib(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:ib(e.name,t.name)}o(gGe,"compareByGeneratedPositionsDeflated");s0.compareByGeneratedPositionsDeflated=gGe;function ib(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}o(ib,"strcmp");function AGe(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=ib(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:ib(e.name,t.name)}o(AGe,"compareByGeneratedPositionsInflated");s0.compareByGeneratedPositionsInflated=AGe;function yGe(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}o(yGe,"parseSourceMapInput");s0.parseSourceMapInput=yGe;function CGe(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=d7(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=ife(nb(n),t)}return l$(t)}o(CGe,"computeSourceURL");s0.computeSourceURL=CGe});var f$=V(lfe=>{d();var c$=ob(),u$=Object.prototype.hasOwnProperty,i3=typeof Map<"u";function Wg(){this._array=[],this._set=i3?new Map:Object.create(null)}o(Wg,"ArraySet");Wg.fromArray=o(function(t,r){for(var n=new Wg,i=0,s=t.length;i<s;i++)n.add(t[i],r);return n},"ArraySet_fromArray");Wg.prototype.size=o(function(){return i3?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");Wg.prototype.add=o(function(t,r){var n=i3?t:c$.toSetString(t),i=i3?this.has(t):u$.call(this._set,n),s=this._array.length;(!i||r)&&this._array.push(t),i||(i3?this._set.set(t,s):this._set[n]=s)},"ArraySet_add");Wg.prototype.has=o(function(t){if(i3)return this._set.has(t);var r=c$.toSetString(t);return u$.call(this._set,r)},"ArraySet_has");Wg.prototype.indexOf=o(function(t){if(i3){var r=this._set.get(t);if(r>=0)return r}else{var n=c$.toSetString(t);if(u$.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");Wg.prototype.at=o(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");Wg.prototype.toArray=o(function(){return this._array.slice()},"ArraySet_toArray");lfe.ArraySet=Wg});var ffe=V(ufe=>{d();var cfe=ob();function EGe(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,s=t.generatedColumn;return n>r||n==r&&s>=i||cfe.compareByGeneratedPositionsInflated(e,t)<=0}o(EGe,"generatedPositionAfter");function zB(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o(zB,"MappingList");zB.prototype.unsortedForEach=o(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");zB.prototype.add=o(function(t){EGe(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");zB.prototype.toArray=o(function(){return this._sorted||(this._array.sort(cfe.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");ufe.MappingList=zB});var d$=V(dfe=>{d();var m7=a$(),va=ob(),YB=f$().ArraySet,xGe=ffe().MappingList;function Sf(e){e||(e={}),this._file=va.getArg(e,"file",null),this._sourceRoot=va.getArg(e,"sourceRoot",null),this._skipValidation=va.getArg(e,"skipValidation",!1),this._sources=new YB,this._names=new YB,this._mappings=new xGe,this._sourcesContents=null}o(Sf,"SourceMapGenerator");Sf.prototype._version=3;Sf.fromSourceMap=o(function(t){var r=t.sourceRoot,n=new Sf({file:t.file,sourceRoot:r});return t.eachMapping(function(i){var s={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(s.source=i.source,r!=null&&(s.source=va.relative(r,s.source)),s.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(s.name=i.name)),n.addMapping(s)}),t.sources.forEach(function(i){var s=i;r!==null&&(s=va.relative(r,i)),n._sources.has(s)||n._sources.add(s);var a=t.sourceContentFor(i);a!=null&&n.setSourceContent(i,a)}),n},"SourceMapGenerator_fromSourceMap");Sf.prototype.addMapping=o(function(t){var r=va.getArg(t,"generated"),n=va.getArg(t,"original",null),i=va.getArg(t,"source",null),s=va.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,n,i,s),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s})},"SourceMapGenerator_addMapping");Sf.prototype.setSourceContent=o(function(t,r){var n=t;this._sourceRoot!=null&&(n=va.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[va.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[va.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");Sf.prototype.applySourceMap=o(function(t,r,n){var i=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var s=this._sourceRoot;s!=null&&(i=va.relative(s,i));var a=new YB,l=new YB;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){var u=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});u.source!=null&&(c.source=u.source,n!=null&&(c.source=va.join(n,c.source)),s!=null&&(c.source=va.relative(s,c.source)),c.originalLine=u.line,c.originalColumn=u.column,u.name!=null&&(c.name=u.name))}var f=c.source;f!=null&&!a.has(f)&&a.add(f);var m=c.name;m!=null&&!l.has(m)&&l.add(m)},this),this._sources=a,this._names=l,t.sources.forEach(function(c){var u=t.sourceContentFor(c);u!=null&&(n!=null&&(c=va.join(n,c)),s!=null&&(c=va.relative(s,c)),this.setSourceContent(c,u))},this)},"SourceMapGenerator_applySourceMap");Sf.prototype._validateMapping=o(function(t,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!i)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i}))}},"SourceMapGenerator_validateMapping");Sf.prototype._serializeMappings=o(function(){for(var t=0,r=1,n=0,i=0,s=0,a=0,l="",c,u,f,m,h=this._mappings.toArray(),p=0,A=h.length;p<A;p++){if(u=h[p],c="",u.generatedLine!==r)for(t=0;u.generatedLine!==r;)c+=";",r++;else if(p>0){if(!va.compareByGeneratedPositionsInflated(u,h[p-1]))continue;c+=","}c+=m7.encode(u.generatedColumn-t),t=u.generatedColumn,u.source!=null&&(m=this._sources.indexOf(u.source),c+=m7.encode(m-a),a=m,c+=m7.encode(u.originalLine-1-i),i=u.originalLine-1,c+=m7.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(f=this._names.indexOf(u.name),c+=m7.encode(f-s),s=f)),l+=c}return l},"SourceMapGenerator_serializeMappings");Sf.prototype._generateSourcesContent=o(function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=va.relative(r,n));var i=va.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");Sf.prototype.toJSON=o(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");Sf.prototype.toString=o(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");dfe.SourceMapGenerator=Sf});var mfe=V(o3=>{d();o3.GREATEST_LOWER_BOUND=1;o3.LEAST_UPPER_BOUND=2;function m$(e,t,r,n,i,s){var a=Math.floor((t-e)/2)+e,l=i(r,n[a],!0);return l===0?a:l>0?t-a>1?m$(a,t,r,n,i,s):s==o3.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?m$(e,a,r,n,i,s):s==o3.LEAST_UPPER_BOUND?a:e<0?-1:e}o(m$,"recursiveSearch");o3.search=o(function(t,r,n,i){if(r.length===0)return-1;var s=m$(-1,r.length,t,r,n,i||o3.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(r[s],r[s-1],!0)===0;)--s;return s},"search")});var pfe=V(hfe=>{d();function h$(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}o(h$,"swap");function bGe(e,t){return Math.round(e+Math.random()*(t-e))}o(bGe,"randomIntInRange");function p$(e,t,r,n){if(r<n){var i=bGe(r,n),s=r-1;h$(e,i,n);for(var a=e[n],l=r;l<n;l++)t(e[l],a)<=0&&(s+=1,h$(e,s,l));h$(e,s+1,l);var c=s+1;p$(e,t,r,c-1),p$(e,t,c+1,n)}}o(p$,"doQuickSort");hfe.quickSort=function(e,t){p$(e,t,0,e.length-1)}});var Afe=V(KB=>{d();var Pr=ob(),g$=mfe(),sb=f$().ArraySet,vGe=a$(),h7=pfe().quickSort;function Vo(e,t){var r=e;return typeof e=="string"&&(r=Pr.parseSourceMapInput(e)),r.sections!=null?new sm(r,t):new Nl(r,t)}o(Vo,"SourceMapConsumer");Vo.fromSourceMap=function(e,t){return Nl.fromSourceMap(e,t)};Vo.prototype._version=3;Vo.prototype.__generatedMappings=null;Object.defineProperty(Vo.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:o(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});Vo.prototype.__originalMappings=null;Object.defineProperty(Vo.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:o(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});Vo.prototype._charIsMappingSeparator=o(function(t,r){var n=t.charAt(r);return n===";"||n===","},"SourceMapConsumer_charIsMappingSeparator");Vo.prototype._parseMappings=o(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");Vo.GENERATED_ORDER=1;Vo.ORIGINAL_ORDER=2;Vo.GREATEST_LOWER_BOUND=1;Vo.LEAST_UPPER_BOUND=2;Vo.prototype.eachMapping=o(function(t,r,n){var i=r||null,s=n||Vo.GENERATED_ORDER,a;switch(s){case Vo.GENERATED_ORDER:a=this._generatedMappings;break;case Vo.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;a.map(function(c){var u=c.source===null?null:this._sources.at(c.source);return u=Pr.computeSourceURL(l,u,this._sourceMapURL),{source:u,generatedLine:c.generatedLine,generatedColumn:c.generatedColumn,originalLine:c.originalLine,originalColumn:c.originalColumn,name:c.name===null?null:this._names.at(c.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");Vo.prototype.allGeneratedPositionsFor=o(function(t){var r=Pr.getArg(t,"line"),n={source:Pr.getArg(t,"source"),originalLine:r,originalColumn:Pr.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Pr.compareByOriginalPositions,g$.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(t.column===void 0)for(var l=a.originalLine;a&&a.originalLine===l;)i.push({line:Pr.getArg(a,"generatedLine",null),column:Pr.getArg(a,"generatedColumn",null),lastColumn:Pr.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var c=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==c;)i.push({line:Pr.getArg(a,"generatedLine",null),column:Pr.getArg(a,"generatedColumn",null),lastColumn:Pr.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return i},"SourceMapConsumer_allGeneratedPositionsFor");KB.SourceMapConsumer=Vo;function Nl(e,t){var r=e;typeof e=="string"&&(r=Pr.parseSourceMapInput(e));var n=Pr.getArg(r,"version"),i=Pr.getArg(r,"sources"),s=Pr.getArg(r,"names",[]),a=Pr.getArg(r,"sourceRoot",null),l=Pr.getArg(r,"sourcesContent",null),c=Pr.getArg(r,"mappings"),u=Pr.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=Pr.normalize(a)),i=i.map(String).map(Pr.normalize).map(function(f){return a&&Pr.isAbsolute(a)&&Pr.isAbsolute(f)?Pr.relative(a,f):f}),this._names=sb.fromArray(s.map(String),!0),this._sources=sb.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(f){return Pr.computeSourceURL(a,f,t)}),this.sourceRoot=a,this.sourcesContent=l,this._mappings=c,this._sourceMapURL=t,this.file=u}o(Nl,"BasicSourceMapConsumer");Nl.prototype=Object.create(Vo.prototype);Nl.prototype.consumer=Vo;Nl.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=Pr.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};Nl.fromSourceMap=o(function(t,r){var n=Object.create(Nl.prototype),i=n._names=sb.fromArray(t._names.toArray(),!0),s=n._sources=sb.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return Pr.computeSourceURL(n.sourceRoot,p,r)});for(var a=t._mappings.toArray().slice(),l=n.__generatedMappings=[],c=n.__originalMappings=[],u=0,f=a.length;u<f;u++){var m=a[u],h=new gfe;h.generatedLine=m.generatedLine,h.generatedColumn=m.generatedColumn,m.source&&(h.source=s.indexOf(m.source),h.originalLine=m.originalLine,h.originalColumn=m.originalColumn,m.name&&(h.name=i.indexOf(m.name)),c.push(h)),l.push(h)}return h7(n.__originalMappings,Pr.compareByOriginalPositions),n},"SourceMapConsumer_fromSourceMap");Nl.prototype._version=3;Object.defineProperty(Nl.prototype,"sources",{get:o(function(){return this._absoluteSources.slice()},"get")});function gfe(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}o(gfe,"Mapping");Nl.prototype._parseMappings=o(function(t,r){for(var n=1,i=0,s=0,a=0,l=0,c=0,u=t.length,f=0,m={},h={},p=[],A=[],E,x,b,v,S;f<u;)if(t.charAt(f)===";")n++,f++,i=0;else if(t.charAt(f)===",")f++;else{for(E=new gfe,E.generatedLine=n,v=f;v<u&&!this._charIsMappingSeparator(t,v);v++);if(x=t.slice(f,v),b=m[x],b)f+=x.length;else{for(b=[];f<v;)vGe.decode(t,f,h),S=h.value,f=h.rest,b.push(S);if(b.length===2)throw new Error("Found a source, but no line and column");if(b.length===3)throw new Error("Found a source and line, but no column");m[x]=b}E.generatedColumn=i+b[0],i=E.generatedColumn,b.length>1&&(E.source=l+b[1],l+=b[1],E.originalLine=s+b[2],s=E.originalLine,E.originalLine+=1,E.originalColumn=a+b[3],a=E.originalColumn,b.length>4&&(E.name=c+b[4],c+=b[4])),A.push(E),typeof E.originalLine=="number"&&p.push(E)}h7(A,Pr.compareByGeneratedPositionsDeflated),this.__generatedMappings=A,h7(p,Pr.compareByOriginalPositions),this.__originalMappings=p},"SourceMapConsumer_parseMappings");Nl.prototype._findMapping=o(function(t,r,n,i,s,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return g$.search(t,r,s,a)},"SourceMapConsumer_findMapping");Nl.prototype.computeColumnSpans=o(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");Nl.prototype.originalPositionFor=o(function(t){var r={generatedLine:Pr.getArg(t,"line"),generatedColumn:Pr.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",Pr.compareByGeneratedPositionsDeflated,Pr.getArg(t,"bias",Vo.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var s=Pr.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=Pr.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=Pr.getArg(i,"name",null);return a!==null&&(a=this._names.at(a)),{source:s,line:Pr.getArg(i,"originalLine",null),column:Pr.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");Nl.prototype.hasContentsOfAllSources=o(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");Nl.prototype.sourceContentFor=o(function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var i=t;this.sourceRoot!=null&&(i=Pr.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=Pr.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");Nl.prototype.generatedPositionFor=o(function(t){var r=Pr.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Pr.getArg(t,"line"),originalColumn:Pr.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Pr.compareByOriginalPositions,Pr.getArg(t,"bias",Vo.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:Pr.getArg(s,"generatedLine",null),column:Pr.getArg(s,"generatedColumn",null),lastColumn:Pr.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");KB.BasicSourceMapConsumer=Nl;function sm(e,t){var r=e;typeof e=="string"&&(r=Pr.parseSourceMapInput(e));var n=Pr.getArg(r,"version"),i=Pr.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new sb,this._names=new sb;var s={line:-1,column:0};this._sections=i.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var l=Pr.getArg(a,"offset"),c=Pr.getArg(l,"line"),u=Pr.getArg(l,"column");if(c<s.line||c===s.line&&u<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=l,{generatedOffset:{generatedLine:c+1,generatedColumn:u+1},consumer:new Vo(Pr.getArg(a,"map"),t)}})}o(sm,"IndexedSourceMapConsumer");sm.prototype=Object.create(Vo.prototype);sm.prototype.constructor=Vo;sm.prototype._version=3;Object.defineProperty(sm.prototype,"sources",{get:o(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});sm.prototype.originalPositionFor=o(function(t){var r={generatedLine:Pr.getArg(t,"line"),generatedColumn:Pr.getArg(t,"column")},n=g$.search(r,this._sections,function(s,a){var l=s.generatedLine-a.generatedOffset.generatedLine;return l||s.generatedColumn-a.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");sm.prototype.hasContentsOfAllSources=o(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");sm.prototype.sourceContentFor=o(function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],s=i.consumer.sourceContentFor(t,!0);if(s)return s}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");sm.prototype.generatedPositionFor=o(function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Pr.getArg(t,"source"))!==-1){var i=n.consumer.generatedPositionFor(t);if(i){var s={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");sm.prototype._parseMappings=o(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,a=0;a<s.length;a++){var l=s[a],c=i.consumer._sources.at(l.source);c=Pr.computeSourceURL(i.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var u=null;l.name&&(u=i.consumer._names.at(l.name),this._names.add(u),u=this._names.indexOf(u));var f={source:c,generatedLine:l.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(i.generatedOffset.generatedLine===l.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:u};this.__generatedMappings.push(f),typeof f.originalLine=="number"&&this.__originalMappings.push(f)}h7(this.__generatedMappings,Pr.compareByGeneratedPositionsDeflated),h7(this.__originalMappings,Pr.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");KB.IndexedSourceMapConsumer=sm});var Cfe=V(yfe=>{d();var IGe=d$().SourceMapGenerator,JB=ob(),TGe=/(\r?\n)/,wGe=10,ab="$$$isSourceNode$$$";function du(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=e??null,this.column=t??null,this.source=r??null,this.name=i??null,this[ab]=!0,n!=null&&this.add(n)}o(du,"SourceNode");du.fromStringWithSourceMap=o(function(t,r,n){var i=new du,s=t.split(TGe),a=0,l=o(function(){var h=A(),p=A()||"";return h+p;function A(){return a<s.length?s[a++]:void 0}},"shiftNextLine"),c=1,u=0,f=null;return r.eachMapping(function(h){if(f!==null)if(c<h.generatedLine)m(f,l()),c++,u=0;else{var p=s[a]||"",A=p.substr(0,h.generatedColumn-u);s[a]=p.substr(h.generatedColumn-u),u=h.generatedColumn,m(f,A),f=h;return}for(;c<h.generatedLine;)i.add(l()),c++;if(u<h.generatedColumn){var p=s[a]||"";i.add(p.substr(0,h.generatedColumn)),s[a]=p.substr(h.generatedColumn),u=h.generatedColumn}f=h},this),a<s.length&&(f&&m(f,l()),i.add(s.splice(a).join(""))),r.sources.forEach(function(h){var p=r.sourceContentFor(h);p!=null&&(n!=null&&(h=JB.join(n,h)),i.setSourceContent(h,p))}),i;function m(h,p){if(h===null||h.source===void 0)i.add(p);else{var A=n?JB.join(n,h.source):h.source;i.add(new du(h.originalLine,h.originalColumn,A,p,h.name))}}o(m,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");du.prototype.add=o(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[ab]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");du.prototype.prepend=o(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[ab]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");du.prototype.walk=o(function(t){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[ab]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");du.prototype.join=o(function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this},"SourceNode_join");du.prototype.replaceRight=o(function(t,r){var n=this.children[this.children.length-1];return n[ab]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");du.prototype.setSourceContent=o(function(t,r){this.sourceContents[JB.toSetString(t)]=r},"SourceNode_setSourceContent");du.prototype.walkSourceContents=o(function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][ab]&&this.children[r].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)t(JB.fromSetString(i[r]),this.sourceContents[i[r]])},"SourceNode_walkSourceContents");du.prototype.toString=o(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");du.prototype.toStringWithSourceMap=o(function(t){var r={code:"",line:1,column:0},n=new IGe(t),i=!1,s=null,a=null,l=null,c=null;return this.walk(function(u,f){r.code+=u,f.source!==null&&f.line!==null&&f.column!==null?((s!==f.source||a!==f.line||l!==f.column||c!==f.name)&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name}),s=f.source,a=f.line,l=f.column,c=f.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),s=null,i=!1);for(var m=0,h=u.length;m<h;m++)u.charCodeAt(m)===wGe?(r.line++,r.column=0,m+1===h?(s=null,i=!1):i&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name})):r.column++}),this.walkSourceContents(function(u,f){n.setSourceContent(u,f)}),{code:r.code,map:n}},"SourceNode_toStringWithSourceMap");yfe.SourceNode=du});var Efe=V(XB=>{d();XB.SourceMapGenerator=d$().SourceMapGenerator;XB.SourceMapConsumer=Afe().SourceMapConsumer;XB.SourceNode=Cfe().SourceNode});var bfe=V((MFt,xfe)=>{d();var SGe=Object.prototype.toString,A$=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function _Ge(e){return SGe.call(e).slice(8,-1)==="ArrayBuffer"}o(_Ge,"isArrayBuffer");function kGe(e,t,r){t>>>=0;var n=e.byteLength-t;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return A$?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}o(kGe,"fromArrayBuffer");function BGe(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return A$?Buffer.from(e,t):new Buffer(e,t)}o(BGe,"fromString");function RGe(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return _Ge(e)?kGe(e,t,r):typeof e=="string"?BGe(e,t):A$?Buffer.from(e):new Buffer(e)}o(RGe,"bufferFrom");xfe.exports=RGe});var Bfe=V((a3,x$)=>{d();var DGe=Efe().SourceMapConsumer,y$=require("path"),jh;try{jh=require("fs"),(!jh.existsSync||!jh.readFileSync)&&(jh=null)}catch{}var PGe=bfe();function vfe(e,t){return e.require(t)}o(vfe,"dynamicRequire");var Ife=!1,Tfe=!1,C$=!1,p7="auto",s3={},g7={},FGe=/^data:application\/json[^,]+base64,/,U2=[],q2=[];function b$(){return p7==="browser"?!0:p7==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}o(b$,"isInBrowser");function NGe(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}o(NGe,"hasGlobalProcessEventEmitter");function LGe(){return typeof process=="object"&&process!==null?process.version:""}o(LGe,"globalProcessVersion");function QGe(){if(typeof process=="object"&&process!==null)return process.stderr}o(QGe,"globalProcessStderr");function MGe(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}o(MGe,"globalProcessExit");function ZB(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}o(ZB,"handlerExec");var v$=ZB(U2);U2.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),e in s3)return s3[e];var t="";try{if(jh)jh.existsSync(e)&&(t=jh.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return s3[e]=t});function E$(e,t){if(!e)return t;var r=y$.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",s=r.slice(i.length);return i&&/^\/\w\:/.test(s)?(i+="/",i+y$.resolve(r.slice(i.length),t).replace(/\\/g,"/")):i+y$.resolve(r.slice(i.length),t)}o(E$,"supportRelativeURL");function OGe(e){var t;if(b$())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}t=v$(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,s,a;a=i.exec(t);)s=a;return s?s[1]:null}o(OGe,"retrieveSourceMapURL");var I$=ZB(q2);q2.push(function(e){var t=OGe(e);if(!t)return null;var r;if(FGe.test(t)){var n=t.slice(t.indexOf(",")+1);r=PGe(n,"base64").toString(),t=e}else t=E$(e,t),r=v$(t);return r?{url:t,map:r}:null});function T$(e){var t=g7[e.source];if(!t){var r=I$(e.source);r?(t=g7[e.source]={url:r.url,map:new DGe(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,s){var a=t.map.sourcesContent[s];if(a){var l=E$(t.url,i);s3[l]=a}})):t=g7[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var n=t.map.originalPositionFor(e);if(n.source!==null)return n.source=E$(t.url,n.source),n}return e}o(T$,"mapSourcePosition");function Sfe(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=T$({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+Sfe(t[2])+")":e}o(Sfe,"mapEvalOrigin");function UGe(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",s=this.getFunctionName(),a=!0,l=this.isConstructor(),c=!(this.isToplevel()||l);if(c){var u=this.getTypeName();u==="[object Object]"&&(u="null");var f=this.getMethodName();s?(u&&s.indexOf(u)!=0&&(i+=u+"."),i+=s,f&&s.indexOf("."+f)!=s.length-f.length-1&&(i+=" [as "+f+"]")):i+=u+"."+(f||"<anonymous>")}else l?i+="new "+(s||"<anonymous>"):s?i+=s:(i+=t,a=!1);return a&&(i+=" ("+t+")"),i}o(UGe,"CallSiteToString");function wfe(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=UGe,t}o(wfe,"cloneCallSite");function _fe(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,s=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,a=s.test(LGe())?0:62;n===1&&i>a&&!b$()&&!e.isEval()&&(i-=a);var l=T$({source:r,line:n,column:i});t.curPosition=l,e=wfe(e);var c=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?c():t.nextPosition.name||c()},e.getFileName=function(){return l.source},e.getLineNumber=function(){return l.line},e.getColumnNumber=function(){return l.column+1},e.getScriptNameOrSourceURL=function(){return l.source},e}var u=e.isEval()&&e.getEvalOrigin();return u&&(u=Sfe(u),e=wfe(e),e.getEvalOrigin=function(){return u}),e}o(_fe,"wrapCallSite");function qGe(e,t){C$&&(s3={},g7={});for(var r=e.name||"Error",n=e.message||"",i=r+": "+n,s={nextPosition:null,curPosition:null},a=[],l=t.length-1;l>=0;l--)a.push(`
    at `+_fe(t[l],s)),s.nextPosition=s.curPosition;return s.curPosition=s.nextPosition=null,i+a.reverse().join("")}o(qGe,"prepareStackTrace");function kfe(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],n=+t[2],i=+t[3],s=s3[r];if(!s&&jh&&jh.existsSync(r))try{s=jh.readFileSync(r,"utf8")}catch{s=""}if(s){var a=s.split(/(?:\r\n|\r|\n)/)[n-1];if(a)return r+":"+n+`
`+a+`
`+new Array(i).join(" ")+"^"}}return null}o(kfe,"getErrorSource");function WGe(e){var t=kfe(e),r=QGe();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),MGe(1)}o(WGe,"printErrorAndExit");function GGe(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(t).length>0;if(r&&!n)return WGe(arguments[1])}return e.apply(this,arguments)}}o(GGe,"shimEmitUncaughtException");var HGe=U2.slice(0),VGe=q2.slice(0);a3.wrapCallSite=_fe;a3.getErrorSource=kfe;a3.mapSourcePosition=T$;a3.retrieveSourceMap=I$;a3.install=function(e){if(e=e||{},e.environment&&(p7=e.environment,["node","browser","auto"].indexOf(p7)===-1))throw new Error("environment "+p7+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(U2.length=0),U2.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(q2.length=0),q2.unshift(e.retrieveSourceMap)),e.hookRequire&&!b$()){var t=vfe(x$,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(s,a){return s3[a]=s,g7[a]=void 0,r.call(this,s,a)},t.prototype._compile.__sourceMapSupport=!0)}if(C$||(C$="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),Ife||(Ife=!0,Error.prepareStackTrace=qGe),!Tfe){var n="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=vfe(x$,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&NGe()&&(Tfe=!0,GGe())}};a3.resetRetrieveHandlers=function(){U2.length=0,q2.length=0,U2=HGe.slice(0),q2=VGe.slice(0),I$=ZB(q2),v$=ZB(U2)}});var w$=V(()=>{d();Bfe().install()});var bi=V((eR,Rfe)=>{d();(function(e,t){typeof eR=="object"?Rfe.exports=eR=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(eR,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),s=Object.create||function(){function b(){}return o(b,"F"),function(v){var S;return b.prototype=v,S=new b,b.prototype=null,S}}(),a={},l=a.lib={},c=l.Base=function(){return{extend:o(function(b){var v=s(this);return b&&v.mixIn(b),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},"extend"),create:o(function(){var b=this.extend();return b.init.apply(b,arguments),b},"create"),init:o(function(){},"init"),mixIn:o(function(b){for(var v in b)b.hasOwnProperty(v)&&(this[v]=b[v]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},"mixIn"),clone:o(function(){return this.init.prototype.extend(this)},"clone")}}(),u=l.WordArray=c.extend({init:o(function(b,v){b=this.words=b||[],v!=r?this.sigBytes=v:this.sigBytes=b.length*4},"init"),toString:o(function(b){return(b||m).stringify(this)},"toString"),concat:o(function(b){var v=this.words,S=b.words,B=this.sigBytes,P=b.sigBytes;if(this.clamp(),B%4)for(var F=0;F<P;F++){var G=S[F>>>2]>>>24-F%4*8&255;v[B+F>>>2]|=G<<24-(B+F)%4*8}else for(var re=0;re<P;re+=4)v[B+re>>>2]=S[re>>>2];return this.sigBytes+=P,this},"concat"),clamp:o(function(){var b=this.words,v=this.sigBytes;b[v>>>2]&=4294967295<<32-v%4*8,b.length=t.ceil(v/4)},"clamp"),clone:o(function(){var b=c.clone.call(this);return b.words=this.words.slice(0),b},"clone"),random:o(function(b){for(var v=[],S=0;S<b;S+=4)v.push(i());return new u.init(v,b)},"random")}),f=a.enc={},m=f.Hex={stringify:o(function(b){for(var v=b.words,S=b.sigBytes,B=[],P=0;P<S;P++){var F=v[P>>>2]>>>24-P%4*8&255;B.push((F>>>4).toString(16)),B.push((F&15).toString(16))}return B.join("")},"stringify"),parse:o(function(b){for(var v=b.length,S=[],B=0;B<v;B+=2)S[B>>>3]|=parseInt(b.substr(B,2),16)<<24-B%8*4;return new u.init(S,v/2)},"parse")},h=f.Latin1={stringify:o(function(b){for(var v=b.words,S=b.sigBytes,B=[],P=0;P<S;P++){var F=v[P>>>2]>>>24-P%4*8&255;B.push(String.fromCharCode(F))}return B.join("")},"stringify"),parse:o(function(b){for(var v=b.length,S=[],B=0;B<v;B++)S[B>>>2]|=(b.charCodeAt(B)&255)<<24-B%4*8;return new u.init(S,v)},"parse")},p=f.Utf8={stringify:o(function(b){try{return decodeURIComponent(escape(h.stringify(b)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:o(function(b){return h.parse(unescape(encodeURIComponent(b)))},"parse")},A=l.BufferedBlockAlgorithm=c.extend({reset:o(function(){this._data=new u.init,this._nDataBytes=0},"reset"),_append:o(function(b){typeof b=="string"&&(b=p.parse(b)),this._data.concat(b),this._nDataBytes+=b.sigBytes},"_append"),_process:o(function(b){var v,S=this._data,B=S.words,P=S.sigBytes,F=this.blockSize,G=F*4,re=P/G;b?re=t.ceil(re):re=t.max((re|0)-this._minBufferSize,0);var pe=re*F,Z=t.min(pe*4,P);if(pe){for(var W=0;W<pe;W+=F)this._doProcessBlock(B,W);v=B.splice(0,pe),S.sigBytes-=Z}return new u.init(v,Z)},"_process"),clone:o(function(){var b=c.clone.call(this);return b._data=this._data.clone(),b},"clone"),_minBufferSize:0}),E=l.Hasher=A.extend({cfg:c.extend(),init:o(function(b){this.cfg=this.cfg.extend(b),this.reset()},"init"),reset:o(function(){A.reset.call(this),this._doReset()},"reset"),update:o(function(b){return this._append(b),this._process(),this},"update"),finalize:o(function(b){b&&this._append(b);var v=this._doFinalize();return v},"finalize"),blockSize:512/32,_createHelper:o(function(b){return function(v,S){return new b.init(S).finalize(v)}},"_createHelper"),_createHmacHelper:o(function(b){return function(v,S){return new x.HMAC.init(b,S).finalize(v)}},"_createHmacHelper")}),x=a.algo={};return a}(Math);return e})});var y7=V((tR,Dfe)=>{d();(function(e,t){typeof tR=="object"?Dfe.exports=tR=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(tR,function(e){return function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:o(function(u,f){this.high=u,this.low=f},"init")}),c=a.WordArray=i.extend({init:o(function(u,f){u=this.words=u||[],f!=t?this.sigBytes=f:this.sigBytes=u.length*8},"init"),toX32:o(function(){for(var u=this.words,f=u.length,m=[],h=0;h<f;h++){var p=u[h];m.push(p.high),m.push(p.low)}return s.create(m,this.sigBytes)},"toX32"),clone:o(function(){for(var u=i.clone.call(this),f=u.words=this.words.slice(0),m=f.length,h=0;h<m;h++)f[h]=f[h].clone();return u},"clone")})}(),e})});var Ffe=V((rR,Pfe)=>{d();(function(e,t){typeof rR=="object"?Pfe.exports=rR=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(rR,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,s=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,c=[],u=0;u<l;u++)c[u>>>2]|=a[u]<<24-u%4*8;i.call(this,c,l)}else i.apply(this,arguments)};s.prototype=n}}(),e.lib.WordArray})});var Lfe=V((nR,Nfe)=>{d();(function(e,t){typeof nR=="object"?Nfe.exports=nR=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(nR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Utf16=i.Utf16BE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=c[m>>>2]>>>16-m%4*8&65535;f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return n.create(u,c*2)},"parse")};i.Utf16LE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=a(c[m>>>2]>>>16-m%4*8&65535);f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return n.create(u,c*2)},"parse")};function a(l){return l<<8&4278255360|l>>>8&16711935}o(a,"swapEndian")}(),e.enc.Utf16})});var W2=V((iR,Qfe)=>{d();(function(e,t){typeof iR=="object"?Qfe.exports=iR=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(iR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64={stringify:o(function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var m=[],h=0;h<u;h+=3)for(var p=c[h>>>2]>>>24-h%4*8&255,A=c[h+1>>>2]>>>24-(h+1)%4*8&255,E=c[h+2>>>2]>>>24-(h+2)%4*8&255,x=p<<16|A<<8|E,b=0;b<4&&h+b*.75<u;b++)m.push(f.charAt(x>>>6*(3-b)&63));var v=f.charAt(64);if(v)for(;m.length%4;)m.push(v);return m.join("")},"stringify"),parse:o(function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<u.length;m++)f[u.charCodeAt(m)]=m}var h=u.charAt(64);if(h){var p=l.indexOf(h);p!==-1&&(c=p)}return a(l,c,f)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,A=u[l.charCodeAt(h)]>>>6-h%4*2,E=p|A;f[m>>>2]|=E<<24-m%4*8,m++}return n.create(f,m)}o(a,"parseLoop")}(),e.enc.Base64})});var Ofe=V((oR,Mfe)=>{d();(function(e,t){typeof oR=="object"?Mfe.exports=oR=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(oR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64url={stringify:o(function(l,c){c===void 0&&(c=!0);var u=l.words,f=l.sigBytes,m=c?this._safe_map:this._map;l.clamp();for(var h=[],p=0;p<f;p+=3)for(var A=u[p>>>2]>>>24-p%4*8&255,E=u[p+1>>>2]>>>24-(p+1)%4*8&255,x=u[p+2>>>2]>>>24-(p+2)%4*8&255,b=A<<16|E<<8|x,v=0;v<4&&p+v*.75<f;v++)h.push(m.charAt(b>>>6*(3-v)&63));var S=m.charAt(64);if(S)for(;h.length%4;)h.push(S);return h.join("")},"stringify"),parse:o(function(l,c){c===void 0&&(c=!0);var u=l.length,f=c?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var h=0;h<f.length;h++)m[f.charCodeAt(h)]=h}var p=f.charAt(64);if(p){var A=l.indexOf(p);A!==-1&&(u=A)}return a(l,u,m)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,A=u[l.charCodeAt(h)]>>>6-h%4*2,E=p|A;f[m>>>2]|=E<<24-m%4*8,m++}return n.create(f,m)}o(a,"parseLoop")}(),e.enc.Base64url})});var G2=V((sR,Ufe)=>{d();(function(e,t){typeof sR=="object"?Ufe.exports=sR=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(sR,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[];(function(){for(var p=0;p<64;p++)l[p]=t.abs(t.sin(p+1))*4294967296|0})();var c=a.MD5=s.extend({_doReset:o(function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:o(function(p,A){for(var E=0;E<16;E++){var x=A+E,b=p[x];p[x]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var v=this._hash.words,S=p[A+0],B=p[A+1],P=p[A+2],F=p[A+3],G=p[A+4],re=p[A+5],pe=p[A+6],Z=p[A+7],W=p[A+8],q=p[A+9],se=p[A+10],ne=p[A+11],H=p[A+12],O=p[A+13],j=p[A+14],J=p[A+15],le=v[0],ee=v[1],ae=v[2],ce=v[3];le=u(le,ee,ae,ce,S,7,l[0]),ce=u(ce,le,ee,ae,B,12,l[1]),ae=u(ae,ce,le,ee,P,17,l[2]),ee=u(ee,ae,ce,le,F,22,l[3]),le=u(le,ee,ae,ce,G,7,l[4]),ce=u(ce,le,ee,ae,re,12,l[5]),ae=u(ae,ce,le,ee,pe,17,l[6]),ee=u(ee,ae,ce,le,Z,22,l[7]),le=u(le,ee,ae,ce,W,7,l[8]),ce=u(ce,le,ee,ae,q,12,l[9]),ae=u(ae,ce,le,ee,se,17,l[10]),ee=u(ee,ae,ce,le,ne,22,l[11]),le=u(le,ee,ae,ce,H,7,l[12]),ce=u(ce,le,ee,ae,O,12,l[13]),ae=u(ae,ce,le,ee,j,17,l[14]),ee=u(ee,ae,ce,le,J,22,l[15]),le=f(le,ee,ae,ce,B,5,l[16]),ce=f(ce,le,ee,ae,pe,9,l[17]),ae=f(ae,ce,le,ee,ne,14,l[18]),ee=f(ee,ae,ce,le,S,20,l[19]),le=f(le,ee,ae,ce,re,5,l[20]),ce=f(ce,le,ee,ae,se,9,l[21]),ae=f(ae,ce,le,ee,J,14,l[22]),ee=f(ee,ae,ce,le,G,20,l[23]),le=f(le,ee,ae,ce,q,5,l[24]),ce=f(ce,le,ee,ae,j,9,l[25]),ae=f(ae,ce,le,ee,F,14,l[26]),ee=f(ee,ae,ce,le,W,20,l[27]),le=f(le,ee,ae,ce,O,5,l[28]),ce=f(ce,le,ee,ae,P,9,l[29]),ae=f(ae,ce,le,ee,Z,14,l[30]),ee=f(ee,ae,ce,le,H,20,l[31]),le=m(le,ee,ae,ce,re,4,l[32]),ce=m(ce,le,ee,ae,W,11,l[33]),ae=m(ae,ce,le,ee,ne,16,l[34]),ee=m(ee,ae,ce,le,j,23,l[35]),le=m(le,ee,ae,ce,B,4,l[36]),ce=m(ce,le,ee,ae,G,11,l[37]),ae=m(ae,ce,le,ee,Z,16,l[38]),ee=m(ee,ae,ce,le,se,23,l[39]),le=m(le,ee,ae,ce,O,4,l[40]),ce=m(ce,le,ee,ae,S,11,l[41]),ae=m(ae,ce,le,ee,F,16,l[42]),ee=m(ee,ae,ce,le,pe,23,l[43]),le=m(le,ee,ae,ce,q,4,l[44]),ce=m(ce,le,ee,ae,H,11,l[45]),ae=m(ae,ce,le,ee,J,16,l[46]),ee=m(ee,ae,ce,le,P,23,l[47]),le=h(le,ee,ae,ce,S,6,l[48]),ce=h(ce,le,ee,ae,Z,10,l[49]),ae=h(ae,ce,le,ee,j,15,l[50]),ee=h(ee,ae,ce,le,re,21,l[51]),le=h(le,ee,ae,ce,H,6,l[52]),ce=h(ce,le,ee,ae,F,10,l[53]),ae=h(ae,ce,le,ee,se,15,l[54]),ee=h(ee,ae,ce,le,B,21,l[55]),le=h(le,ee,ae,ce,W,6,l[56]),ce=h(ce,le,ee,ae,J,10,l[57]),ae=h(ae,ce,le,ee,pe,15,l[58]),ee=h(ee,ae,ce,le,O,21,l[59]),le=h(le,ee,ae,ce,G,6,l[60]),ce=h(ce,le,ee,ae,ne,10,l[61]),ae=h(ae,ce,le,ee,P,15,l[62]),ee=h(ee,ae,ce,le,q,21,l[63]),v[0]=v[0]+le|0,v[1]=v[1]+ee|0,v[2]=v[2]+ae|0,v[3]=v[3]+ce|0},"_doProcessBlock"),_doFinalize:o(function(){var p=this._data,A=p.words,E=this._nDataBytes*8,x=p.sigBytes*8;A[x>>>5]|=128<<24-x%32;var b=t.floor(E/4294967296),v=E;A[(x+64>>>9<<4)+15]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,A[(x+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,p.sigBytes=(A.length+1)*4,this._process();for(var S=this._hash,B=S.words,P=0;P<4;P++){var F=B[P];B[P]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return S},"_doFinalize"),clone:o(function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},"clone")});function u(p,A,E,x,b,v,S){var B=p+(A&E|~A&x)+b+S;return(B<<v|B>>>32-v)+A}o(u,"FF");function f(p,A,E,x,b,v,S){var B=p+(A&x|E&~x)+b+S;return(B<<v|B>>>32-v)+A}o(f,"GG");function m(p,A,E,x,b,v,S){var B=p+(A^E^x)+b+S;return(B<<v|B>>>32-v)+A}o(m,"HH");function h(p,A,E,x,b,v,S){var B=p+(E^(A|~x))+b+S;return(B<<v|B>>>32-v)+A}o(h,"II"),r.MD5=s._createHelper(c),r.HmacMD5=s._createHmacHelper(c)}(Math),e.MD5})});var S$=V((aR,qfe)=>{d();(function(e,t){typeof aR=="object"?qfe.exports=aR=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(aR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,s=t.algo,a=[],l=s.SHA1=i.extend({_doReset:o(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(c,u){for(var f=this._hash.words,m=f[0],h=f[1],p=f[2],A=f[3],E=f[4],x=0;x<80;x++){if(x<16)a[x]=c[u+x]|0;else{var b=a[x-3]^a[x-8]^a[x-14]^a[x-16];a[x]=b<<1|b>>>31}var v=(m<<5|m>>>27)+E+a[x];x<20?v+=(h&p|~h&A)+1518500249:x<40?v+=(h^p^A)+1859775393:x<60?v+=(h&p|h&A|p&A)-1894007588:v+=(h^p^A)-899497514,E=A,A=p,p=h<<30|h>>>2,h=m,m=v}f[0]=f[0]+m|0,f[1]=f[1]+h|0,f[2]=f[2]+p|0,f[3]=f[3]+A|0,f[4]=f[4]+E|0},"_doProcessBlock"),_doFinalize:o(function(){var c=this._data,u=c.words,f=this._nDataBytes*8,m=c.sigBytes*8;return u[m>>>5]|=128<<24-m%32,u[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(m+64>>>9<<4)+15]=f,c.sigBytes=u.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c},"clone")});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var cR=V((lR,Wfe)=>{d();(function(e,t){typeof lR=="object"?Wfe.exports=lR=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(lR,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[],c=[];(function(){function m(E){for(var x=t.sqrt(E),b=2;b<=x;b++)if(!(E%b))return!1;return!0}o(m,"isPrime");function h(E){return(E-(E|0))*4294967296|0}o(h,"getFractionalBits");for(var p=2,A=0;A<64;)m(p)&&(A<8&&(l[A]=h(t.pow(p,1/2))),c[A]=h(t.pow(p,1/3)),A++),p++})();var u=[],f=a.SHA256=s.extend({_doReset:o(function(){this._hash=new i.init(l.slice(0))},"_doReset"),_doProcessBlock:o(function(m,h){for(var p=this._hash.words,A=p[0],E=p[1],x=p[2],b=p[3],v=p[4],S=p[5],B=p[6],P=p[7],F=0;F<64;F++){if(F<16)u[F]=m[h+F]|0;else{var G=u[F-15],re=(G<<25|G>>>7)^(G<<14|G>>>18)^G>>>3,pe=u[F-2],Z=(pe<<15|pe>>>17)^(pe<<13|pe>>>19)^pe>>>10;u[F]=re+u[F-7]+Z+u[F-16]}var W=v&S^~v&B,q=A&E^A&x^E&x,se=(A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22),ne=(v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25),H=P+ne+W+c[F]+u[F],O=se+q;P=B,B=S,S=v,v=b+H|0,b=x,x=E,E=A,A=H+O|0}p[0]=p[0]+A|0,p[1]=p[1]+E|0,p[2]=p[2]+x|0,p[3]=p[3]+b|0,p[4]=p[4]+v|0,p[5]=p[5]+S|0,p[6]=p[6]+B|0,p[7]=p[7]+P|0},"_doProcessBlock"),_doFinalize:o(function(){var m=this._data,h=m.words,p=this._nDataBytes*8,A=m.sigBytes*8;return h[A>>>5]|=128<<24-A%32,h[(A+64>>>9<<4)+14]=t.floor(p/4294967296),h[(A+64>>>9<<4)+15]=p,m.sigBytes=h.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m},"clone")});r.SHA256=s._createHelper(f),r.HmacSHA256=s._createHmacHelper(f)}(Math),e.SHA256})});var Hfe=V((uR,Gfe)=>{d();(function(e,t,r){typeof uR=="object"?Gfe.exports=uR=t(bi(),cR()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(uR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:o(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:o(function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});t.SHA224=s._createHelper(a),t.HmacSHA224=s._createHmacHelper(a)}(),e.SHA224})});var _$=V((fR,Vfe)=>{d();(function(e,t,r){typeof fR=="object"?Vfe.exports=fR=t(bi(),y7()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(fR,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,s=i.Word,a=i.WordArray,l=t.algo;function c(){return s.create.apply(s,arguments)}o(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var h=0;h<80;h++)f[h]=c()})();var m=l.SHA512=n.extend({_doReset:o(function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:o(function(h,p){for(var A=this._hash.words,E=A[0],x=A[1],b=A[2],v=A[3],S=A[4],B=A[5],P=A[6],F=A[7],G=E.high,re=E.low,pe=x.high,Z=x.low,W=b.high,q=b.low,se=v.high,ne=v.low,H=S.high,O=S.low,j=B.high,J=B.low,le=P.high,ee=P.low,ae=F.high,ce=F.low,Re=G,ve=re,Ue=pe,ke=Z,Je=W,ft=q,ot=se,at=ne,ie=H,Pe=O,Ae=j,We=J,z=le,te=ee,Ne=ae,Se=ce,Ce=0;Ce<80;Ce++){var Oe,Ve,Ze=f[Ce];if(Ce<16)Ve=Ze.high=h[p+Ce*2]|0,Oe=Ze.low=h[p+Ce*2+1]|0;else{var yt=f[Ce-15],Rt=yt.high,At=yt.low,Ht=(Rt>>>1|At<<31)^(Rt>>>8|At<<24)^Rt>>>7,$t=(At>>>1|Rt<<31)^(At>>>8|Rt<<24)^(At>>>7|Rt<<25),ir=f[Ce-2],ge=ir.high,Le=ir.low,Ke=(ge>>>19|Le<<13)^(ge<<3|Le>>>29)^ge>>>6,et=(Le>>>19|ge<<13)^(Le<<3|ge>>>29)^(Le>>>6|ge<<26),St=f[Ce-7],xt=St.high,Nt=St.low,Qt=f[Ce-16],Tt=Qt.high,_t=Qt.low;Oe=$t+Nt,Ve=Ht+xt+(Oe>>>0<$t>>>0?1:0),Oe=Oe+et,Ve=Ve+Ke+(Oe>>>0<et>>>0?1:0),Oe=Oe+_t,Ve=Ve+Tt+(Oe>>>0<_t>>>0?1:0),Ze.high=Ve,Ze.low=Oe}var wt=ie&Ae^~ie&z,Ot=Pe&We^~Pe&te,Wt=Re&Ue^Re&Je^Ue&Je,zt=ve&ke^ve&ft^ke&ft,lr=(Re>>>28|ve<<4)^(Re<<30|ve>>>2)^(Re<<25|ve>>>7),hr=(ve>>>28|Re<<4)^(ve<<30|Re>>>2)^(ve<<25|Re>>>7),sr=(ie>>>14|Pe<<18)^(ie>>>18|Pe<<14)^(ie<<23|Pe>>>9),cr=(Pe>>>14|ie<<18)^(Pe>>>18|ie<<14)^(Pe<<23|ie>>>9),Zt=u[Ce],ur=Zt.high,be=Zt.low,M=Se+cr,de=Ne+sr+(M>>>0<Se>>>0?1:0),M=M+Ot,de=de+wt+(M>>>0<Ot>>>0?1:0),M=M+be,de=de+ur+(M>>>0<be>>>0?1:0),M=M+Oe,de=de+Ve+(M>>>0<Oe>>>0?1:0),ye=hr+zt,Y=lr+Wt+(ye>>>0<hr>>>0?1:0);Ne=z,Se=te,z=Ae,te=We,Ae=ie,We=Pe,Pe=at+M|0,ie=ot+de+(Pe>>>0<at>>>0?1:0)|0,ot=Je,at=ft,Je=Ue,ft=ke,Ue=Re,ke=ve,ve=M+ye|0,Re=de+Y+(ve>>>0<M>>>0?1:0)|0}re=E.low=re+ve,E.high=G+Re+(re>>>0<ve>>>0?1:0),Z=x.low=Z+ke,x.high=pe+Ue+(Z>>>0<ke>>>0?1:0),q=b.low=q+ft,b.high=W+Je+(q>>>0<ft>>>0?1:0),ne=v.low=ne+at,v.high=se+ot+(ne>>>0<at>>>0?1:0),O=S.low=O+Pe,S.high=H+ie+(O>>>0<Pe>>>0?1:0),J=B.low=J+We,B.high=j+Ae+(J>>>0<We>>>0?1:0),ee=P.low=ee+te,P.high=le+z+(ee>>>0<te>>>0?1:0),ce=F.low=ce+Se,F.high=ae+Ne+(ce>>>0<Se>>>0?1:0)},"_doProcessBlock"),_doFinalize:o(function(){var h=this._data,p=h.words,A=this._nDataBytes*8,E=h.sigBytes*8;p[E>>>5]|=128<<24-E%32,p[(E+128>>>10<<5)+30]=Math.floor(A/4294967296),p[(E+128>>>10<<5)+31]=A,h.sigBytes=p.length*4,this._process();var x=this._hash.toX32();return x},"_doFinalize"),clone:o(function(){var h=n.clone.call(this);return h._hash=this._hash.clone(),h},"clone"),blockSize:1024/32});t.SHA512=n._createHelper(m),t.HmacSHA512=n._createHmacHelper(m)}(),e.SHA512})});var $fe=V((dR,jfe)=>{d();(function(e,t,r){typeof dR=="object"?jfe.exports=dR=t(bi(),y7(),_$()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(dR,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,s=t.algo,a=s.SHA512,l=s.SHA384=a.extend({_doReset:o(function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:o(function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c},"_doFinalize")});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var Yfe=V((mR,zfe)=>{d();(function(e,t,r){typeof mR=="object"?zfe.exports=mR=t(bi(),y7()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(mR,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.x64,l=a.Word,c=r.algo,u=[],f=[],m=[];(function(){for(var A=1,E=0,x=0;x<24;x++){u[A+5*E]=(x+1)*(x+2)/2%64;var b=E%5,v=(2*A+3*E)%5;A=b,E=v}for(var A=0;A<5;A++)for(var E=0;E<5;E++)f[A+5*E]=E+(2*A+3*E)%5*5;for(var S=1,B=0;B<24;B++){for(var P=0,F=0,G=0;G<7;G++){if(S&1){var re=(1<<G)-1;re<32?F^=1<<re:P^=1<<re-32}S&128?S=S<<1^113:S<<=1}m[B]=l.create(P,F)}})();var h=[];(function(){for(var A=0;A<25;A++)h[A]=l.create()})();var p=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:o(function(){for(var A=this._state=[],E=0;E<25;E++)A[E]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:o(function(A,E){for(var x=this._state,b=this.blockSize/2,v=0;v<b;v++){var S=A[E+2*v],B=A[E+2*v+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360;var P=x[v];P.high^=B,P.low^=S}for(var F=0;F<24;F++){for(var G=0;G<5;G++){for(var re=0,pe=0,Z=0;Z<5;Z++){var P=x[G+5*Z];re^=P.high,pe^=P.low}var W=h[G];W.high=re,W.low=pe}for(var G=0;G<5;G++)for(var q=h[(G+4)%5],se=h[(G+1)%5],ne=se.high,H=se.low,re=q.high^(ne<<1|H>>>31),pe=q.low^(H<<1|ne>>>31),Z=0;Z<5;Z++){var P=x[G+5*Z];P.high^=re,P.low^=pe}for(var O=1;O<25;O++){var re,pe,P=x[O],j=P.high,J=P.low,le=u[O];le<32?(re=j<<le|J>>>32-le,pe=J<<le|j>>>32-le):(re=J<<le-32|j>>>64-le,pe=j<<le-32|J>>>64-le);var ee=h[f[O]];ee.high=re,ee.low=pe}var ae=h[0],ce=x[0];ae.high=ce.high,ae.low=ce.low;for(var G=0;G<5;G++)for(var Z=0;Z<5;Z++){var O=G+5*Z,P=x[O],Re=h[O],ve=h[(G+1)%5+5*Z],Ue=h[(G+2)%5+5*Z];P.high=Re.high^~ve.high&Ue.high,P.low=Re.low^~ve.low&Ue.low}var P=x[0],ke=m[F];P.high^=ke.high,P.low^=ke.low}},"_doProcessBlock"),_doFinalize:o(function(){var A=this._data,E=A.words,x=this._nDataBytes*8,b=A.sigBytes*8,v=this.blockSize*32;E[b>>>5]|=1<<24-b%32,E[(t.ceil((b+1)/v)*v>>>5)-1]|=128,A.sigBytes=E.length*4,this._process();for(var S=this._state,B=this.cfg.outputLength/8,P=B/8,F=[],G=0;G<P;G++){var re=S[G],pe=re.high,Z=re.low;pe=(pe<<8|pe>>>24)&16711935|(pe<<24|pe>>>8)&4278255360,Z=(Z<<8|Z>>>24)&16711935|(Z<<24|Z>>>8)&4278255360,F.push(Z),F.push(pe)}return new i.init(F,B)},"_doFinalize"),clone:o(function(){for(var A=s.clone.call(this),E=A._state=this._state.slice(0),x=0;x<25;x++)E[x]=E[x].clone();return A},"clone")});r.SHA3=s._createHelper(p),r.HmacSHA3=s._createHmacHelper(p)}(Math),e.SHA3})});var Jfe=V((hR,Kfe)=>{d();(function(e,t){typeof hR=="object"?Kfe.exports=hR=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(hR,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=s.extend({_doReset:o(function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(B,P){for(var F=0;F<16;F++){var G=P+F,re=B[G];B[G]=(re<<8|re>>>24)&16711935|(re<<24|re>>>8)&4278255360}var pe=this._hash.words,Z=m.words,W=h.words,q=l.words,se=c.words,ne=u.words,H=f.words,O,j,J,le,ee,ae,ce,Re,ve,Ue;ae=O=pe[0],ce=j=pe[1],Re=J=pe[2],ve=le=pe[3],Ue=ee=pe[4];for(var ke,F=0;F<80;F+=1)ke=O+B[P+q[F]]|0,F<16?ke+=A(j,J,le)+Z[0]:F<32?ke+=E(j,J,le)+Z[1]:F<48?ke+=x(j,J,le)+Z[2]:F<64?ke+=b(j,J,le)+Z[3]:ke+=v(j,J,le)+Z[4],ke=ke|0,ke=S(ke,ne[F]),ke=ke+ee|0,O=ee,ee=le,le=S(J,10),J=j,j=ke,ke=ae+B[P+se[F]]|0,F<16?ke+=v(ce,Re,ve)+W[0]:F<32?ke+=b(ce,Re,ve)+W[1]:F<48?ke+=x(ce,Re,ve)+W[2]:F<64?ke+=E(ce,Re,ve)+W[3]:ke+=A(ce,Re,ve)+W[4],ke=ke|0,ke=S(ke,H[F]),ke=ke+Ue|0,ae=Ue,Ue=ve,ve=S(Re,10),Re=ce,ce=ke;ke=pe[1]+J+ve|0,pe[1]=pe[2]+le+Ue|0,pe[2]=pe[3]+ee+ae|0,pe[3]=pe[4]+O+ce|0,pe[4]=pe[0]+j+Re|0,pe[0]=ke},"_doProcessBlock"),_doFinalize:o(function(){var B=this._data,P=B.words,F=this._nDataBytes*8,G=B.sigBytes*8;P[G>>>5]|=128<<24-G%32,P[(G+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,B.sigBytes=(P.length+1)*4,this._process();for(var re=this._hash,pe=re.words,Z=0;Z<5;Z++){var W=pe[Z];pe[Z]=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360}return re},"_doFinalize"),clone:o(function(){var B=s.clone.call(this);return B._hash=this._hash.clone(),B},"clone")});function A(B,P,F){return B^P^F}o(A,"f1");function E(B,P,F){return B&P|~B&F}o(E,"f2");function x(B,P,F){return(B|~P)^F}o(x,"f3");function b(B,P,F){return B&F|P&~F}o(b,"f4");function v(B,P,F){return B^(P|~F)}o(v,"f5");function S(B,P){return B<<P|B>>>32-P}o(S,"rotl"),r.RIPEMD160=s._createHelper(p),r.HmacRIPEMD160=s._createHmacHelper(p)}(Math),e.RIPEMD160})});var gR=V((pR,Xfe)=>{d();(function(e,t){typeof pR=="object"?Xfe.exports=pR=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(pR,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,s=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:o(function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=s.parse(u));var f=c.blockSize,m=f*4;u.sigBytes>m&&(u=c.finalize(u)),u.clamp();for(var h=this._oKey=u.clone(),p=this._iKey=u.clone(),A=h.words,E=p.words,x=0;x<f;x++)A[x]^=1549556828,E[x]^=909522486;h.sigBytes=p.sigBytes=m,this.reset()},"init"),reset:o(function(){var c=this._hasher;c.reset(),c.update(this._iKey)},"reset"),update:o(function(c){return this._hasher.update(c),this},"update"),finalize:o(function(c){var u=this._hasher,f=u.finalize(c);u.reset();var m=u.finalize(this._oKey.clone().concat(f));return m},"finalize")})})()})});var ede=V((AR,Zfe)=>{d();(function(e,t,r){typeof AR=="object"?Zfe.exports=AR=t(bi(),cR(),gR()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(AR,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.SHA256,l=s.HMAC,c=s.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:o(function(u){this.cfg=this.cfg.extend(u)},"init"),compute:o(function(u,f){for(var m=this.cfg,h=l.create(m.hasher,u),p=i.create(),A=i.create([1]),E=p.words,x=A.words,b=m.keySize,v=m.iterations;E.length<b;){var S=h.update(f).finalize(A);h.reset();for(var B=S.words,P=B.length,F=S,G=1;G<v;G++){F=h.finalize(F),h.reset();for(var re=F.words,pe=0;pe<P;pe++)B[pe]^=re[pe]}p.concat(S),x[0]++}return p.sigBytes=b*4,p},"compute")});t.PBKDF2=function(u,f,m){return c.create(m).compute(u,f)}}(),e.PBKDF2})});var Gg=V((yR,tde)=>{d();(function(e,t,r){typeof yR=="object"?tde.exports=yR=t(bi(),S$(),gR()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(yR,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.MD5,l=s.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:o(function(c){this.cfg=this.cfg.extend(c)},"init"),compute:o(function(c,u){for(var f,m=this.cfg,h=m.hasher.create(),p=i.create(),A=p.words,E=m.keySize,x=m.iterations;A.length<E;){f&&h.update(f),f=h.update(c).finalize(u),h.reset();for(var b=1;b<x;b++)f=h.finalize(f),h.reset();p.concat(f)}return p.sigBytes=E*4,p},"compute")});t.EvpKDF=function(c,u,f){return l.create(f).compute(c,u)}}(),e.EvpKDF})});var $a=V((CR,rde)=>{d();(function(e,t,r){typeof CR=="object"?rde.exports=CR=t(bi(),Gg()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(CR,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,c=l.Utf8,u=l.Base64,f=r.algo,m=f.EvpKDF,h=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:o(function(W,q){return this.create(this._ENC_XFORM_MODE,W,q)},"createEncryptor"),createDecryptor:o(function(W,q){return this.create(this._DEC_XFORM_MODE,W,q)},"createDecryptor"),init:o(function(W,q,se){this.cfg=this.cfg.extend(se),this._xformMode=W,this._key=q,this.reset()},"init"),reset:o(function(){a.reset.call(this),this._doReset()},"reset"),process:o(function(W){return this._append(W),this._process()},"process"),finalize:o(function(W){W&&this._append(W);var q=this._doFinalize();return q},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function W(q){return typeof q=="string"?Z:G}return o(W,"selectCipherStrategy"),function(q){return{encrypt:o(function(se,ne,H){return W(ne).encrypt(q,se,ne,H)},"encrypt"),decrypt:o(function(se,ne,H){return W(ne).decrypt(q,se,ne,H)},"decrypt")}}}()}),p=n.StreamCipher=h.extend({_doFinalize:o(function(){var W=this._process(!0);return W},"_doFinalize"),blockSize:1}),A=r.mode={},E=n.BlockCipherMode=i.extend({createEncryptor:o(function(W,q){return this.Encryptor.create(W,q)},"createEncryptor"),createDecryptor:o(function(W,q){return this.Decryptor.create(W,q)},"createDecryptor"),init:o(function(W,q){this._cipher=W,this._iv=q},"init")}),x=A.CBC=function(){var W=E.extend();W.Encryptor=W.extend({processBlock:o(function(se,ne){var H=this._cipher,O=H.blockSize;q.call(this,se,ne,O),H.encryptBlock(se,ne),this._prevBlock=se.slice(ne,ne+O)},"processBlock")}),W.Decryptor=W.extend({processBlock:o(function(se,ne){var H=this._cipher,O=H.blockSize,j=se.slice(ne,ne+O);H.decryptBlock(se,ne),q.call(this,se,ne,O),this._prevBlock=j},"processBlock")});function q(se,ne,H){var O,j=this._iv;j?(O=j,this._iv=t):O=this._prevBlock;for(var J=0;J<H;J++)se[ne+J]^=O[J]}return o(q,"xorBlock"),W}(),b=r.pad={},v=b.Pkcs7={pad:o(function(W,q){for(var se=q*4,ne=se-W.sigBytes%se,H=ne<<24|ne<<16|ne<<8|ne,O=[],j=0;j<ne;j+=4)O.push(H);var J=s.create(O,ne);W.concat(J)},"pad"),unpad:o(function(W){var q=W.words[W.sigBytes-1>>>2]&255;W.sigBytes-=q},"unpad")},S=n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:x,padding:v}),reset:o(function(){var W;h.reset.call(this);var q=this.cfg,se=q.iv,ne=q.mode;this._xformMode==this._ENC_XFORM_MODE?W=ne.createEncryptor:(W=ne.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==W?this._mode.init(this,se&&se.words):(this._mode=W.call(ne,this,se&&se.words),this._mode.__creator=W)},"reset"),_doProcessBlock:o(function(W,q){this._mode.processBlock(W,q)},"_doProcessBlock"),_doFinalize:o(function(){var W,q=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(q.pad(this._data,this.blockSize),W=this._process(!0)):(W=this._process(!0),q.unpad(W)),W},"_doFinalize"),blockSize:128/32}),B=n.CipherParams=i.extend({init:o(function(W){this.mixIn(W)},"init"),toString:o(function(W){return(W||this.formatter).stringify(this)},"toString")}),P=r.format={},F=P.OpenSSL={stringify:o(function(W){var q,se=W.ciphertext,ne=W.salt;return ne?q=s.create([1398893684,1701076831]).concat(ne).concat(se):q=se,q.toString(u)},"stringify"),parse:o(function(W){var q,se=u.parse(W),ne=se.words;return ne[0]==1398893684&&ne[1]==1701076831&&(q=s.create(ne.slice(2,4)),ne.splice(0,4),se.sigBytes-=16),B.create({ciphertext:se,salt:q})},"parse")},G=n.SerializableCipher=i.extend({cfg:i.extend({format:F}),encrypt:o(function(W,q,se,ne){ne=this.cfg.extend(ne);var H=W.createEncryptor(se,ne),O=H.finalize(q),j=H.cfg;return B.create({ciphertext:O,key:se,iv:j.iv,algorithm:W,mode:j.mode,padding:j.padding,blockSize:W.blockSize,formatter:ne.format})},"encrypt"),decrypt:o(function(W,q,se,ne){ne=this.cfg.extend(ne),q=this._parse(q,ne.format);var H=W.createDecryptor(se,ne).finalize(q.ciphertext);return H},"decrypt"),_parse:o(function(W,q){return typeof W=="string"?q.parse(W,this):W},"_parse")}),re=r.kdf={},pe=re.OpenSSL={execute:o(function(W,q,se,ne,H){if(ne||(ne=s.random(64/8)),H)var O=m.create({keySize:q+se,hasher:H}).compute(W,ne);else var O=m.create({keySize:q+se}).compute(W,ne);var j=s.create(O.words.slice(q),se*4);return O.sigBytes=q*4,B.create({key:O,iv:j,salt:ne})},"execute")},Z=n.PasswordBasedCipher=G.extend({cfg:G.cfg.extend({kdf:pe}),encrypt:o(function(W,q,se,ne){ne=this.cfg.extend(ne);var H=ne.kdf.execute(se,W.keySize,W.ivSize,ne.salt,ne.hasher);ne.iv=H.iv;var O=G.encrypt.call(this,W,q,H.key,ne);return O.mixIn(H),O},"encrypt"),decrypt:o(function(W,q,se,ne){ne=this.cfg.extend(ne),q=this._parse(q,ne.format);var H=ne.kdf.execute(se,W.keySize,W.ivSize,q.salt,ne.hasher);ne.iv=H.iv;var O=G.decrypt.call(this,W,q,H.key,ne);return O},"decrypt")})}()})});var ide=V((ER,nde)=>{d();(function(e,t,r){typeof ER=="object"?nde.exports=ER=t(bi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(ER,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize;r.call(this,n,i,a,s),this._prevBlock=n.slice(i,i+a)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,s),this._prevBlock=l},"processBlock")});function r(n,i,s,a){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var u=0;u<s;u++)n[i+u]^=l[u]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var sde=V((xR,ode)=>{d();(function(e,t,r){typeof xR=="object"?ode.exports=xR=t(bi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(xR,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var u=c.slice(0);s.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var f=0;f<a;f++)n[i+f]^=u[f]},"processBlock")});return t.Decryptor=r,t}(),e.mode.CTR})});var lde=V((bR,ade)=>{d();(function(e,t,r){typeof bR=="object"?ade.exports=bR=t(bi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(bR,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(s){if((s>>24&255)===255){var a=s>>16&255,l=s>>8&255,c=s&255;a===255?(a=0,l===255?(l=0,c===255?c=0:++c):++l):++a,s=0,s+=a<<16,s+=l<<8,s+=c}else s+=1<<24;return s}o(r,"incWord");function n(s){return(s[0]=r(s[0]))===0&&(s[1]=r(s[1])),s}o(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:o(function(s,a){var l=this._cipher,c=l.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),n(f);var m=f.slice(0);l.encryptBlock(m,0);for(var h=0;h<c;h++)s[a+h]^=m[h]},"processBlock")});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var ude=V((vR,cde)=>{d();(function(e,t,r){typeof vR=="object"?cde.exports=vR=t(bi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(vR,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var u=0;u<a;u++)n[i+u]^=c[u]},"processBlock")});return t.Decryptor=r,t}(),e.mode.OFB})});var dde=V((IR,fde)=>{d();(function(e,t,r){typeof IR=="object"?fde.exports=IR=t(bi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(IR,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:o(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),t}(),e.mode.ECB})});var hde=V((TR,mde)=>{d();(function(e,t,r){typeof TR=="object"?mde.exports=TR=t(bi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(TR,function(e){return e.pad.AnsiX923={pad:o(function(t,r){var n=t.sigBytes,i=r*4,s=i-n%i,a=n+s-1;t.clamp(),t.words[a>>>2]|=s<<24-a%4*8,t.sigBytes+=s},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Ansix923})});var gde=V((wR,pde)=>{d();(function(e,t,r){typeof wR=="object"?pde.exports=wR=t(bi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(wR,function(e){return e.pad.Iso10126={pad:o(function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Iso10126})});var yde=V((SR,Ade)=>{d();(function(e,t,r){typeof SR=="object"?Ade.exports=SR=t(bi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(SR,function(e){return e.pad.Iso97971={pad:o(function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},"pad"),unpad:o(function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--},"unpad")},e.pad.Iso97971})});var Ede=V((_R,Cde)=>{d();(function(e,t,r){typeof _R=="object"?Cde.exports=_R=t(bi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(_R,function(e){return e.pad.ZeroPadding={pad:o(function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},"pad"),unpad:o(function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}},"unpad")},e.pad.ZeroPadding})});var bde=V((kR,xde)=>{d();(function(e,t,r){typeof kR=="object"?xde.exports=kR=t(bi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(kR,function(e){return e.pad.NoPadding={pad:o(function(){},"pad"),unpad:o(function(){},"unpad")},e.pad.NoPadding})});var Ide=V((BR,vde)=>{d();(function(e,t,r){typeof BR=="object"?vde.exports=BR=t(bi(),$a()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(BR,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,s=r.enc,a=s.Hex,l=r.format,c=l.Hex={stringify:o(function(u){return u.ciphertext.toString(a)},"stringify"),parse:o(function(u){var f=a.parse(u);return i.create({ciphertext:f})},"parse")}}(),e.format.Hex})});var wde=V((RR,Tde)=>{d();(function(e,t,r){typeof RR=="object"?Tde.exports=RR=t(bi(),W2(),G2(),Gg(),$a()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(RR,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,s=[],a=[],l=[],c=[],u=[],f=[],m=[],h=[],p=[],A=[];(function(){for(var b=[],v=0;v<256;v++)v<128?b[v]=v<<1:b[v]=v<<1^283;for(var S=0,B=0,v=0;v<256;v++){var P=B^B<<1^B<<2^B<<3^B<<4;P=P>>>8^P&255^99,s[S]=P,a[P]=S;var F=b[S],G=b[F],re=b[G],pe=b[P]*257^P*16843008;l[S]=pe<<24|pe>>>8,c[S]=pe<<16|pe>>>16,u[S]=pe<<8|pe>>>24,f[S]=pe;var pe=re*16843009^G*65537^F*257^S*16843008;m[P]=pe<<24|pe>>>8,h[P]=pe<<16|pe>>>16,p[P]=pe<<8|pe>>>24,A[P]=pe,S?(S=F^b[b[b[re^F]]],B^=b[b[B]]):S=B=1}})();var E=[0,1,2,4,8,16,32,64,128,27,54],x=i.AES=n.extend({_doReset:o(function(){var b;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var v=this._keyPriorReset=this._key,S=v.words,B=v.sigBytes/4,P=this._nRounds=B+6,F=(P+1)*4,G=this._keySchedule=[],re=0;re<F;re++)re<B?G[re]=S[re]:(b=G[re-1],re%B?B>6&&re%B==4&&(b=s[b>>>24]<<24|s[b>>>16&255]<<16|s[b>>>8&255]<<8|s[b&255]):(b=b<<8|b>>>24,b=s[b>>>24]<<24|s[b>>>16&255]<<16|s[b>>>8&255]<<8|s[b&255],b^=E[re/B|0]<<24),G[re]=G[re-B]^b);for(var pe=this._invKeySchedule=[],Z=0;Z<F;Z++){var re=F-Z;if(Z%4)var b=G[re];else var b=G[re-4];Z<4||re<=4?pe[Z]=b:pe[Z]=m[s[b>>>24]]^h[s[b>>>16&255]]^p[s[b>>>8&255]]^A[s[b&255]]}}},"_doReset"),encryptBlock:o(function(b,v){this._doCryptBlock(b,v,this._keySchedule,l,c,u,f,s)},"encryptBlock"),decryptBlock:o(function(b,v){var S=b[v+1];b[v+1]=b[v+3],b[v+3]=S,this._doCryptBlock(b,v,this._invKeySchedule,m,h,p,A,a);var S=b[v+1];b[v+1]=b[v+3],b[v+3]=S},"decryptBlock"),_doCryptBlock:o(function(b,v,S,B,P,F,G,re){for(var pe=this._nRounds,Z=b[v]^S[0],W=b[v+1]^S[1],q=b[v+2]^S[2],se=b[v+3]^S[3],ne=4,H=1;H<pe;H++){var O=B[Z>>>24]^P[W>>>16&255]^F[q>>>8&255]^G[se&255]^S[ne++],j=B[W>>>24]^P[q>>>16&255]^F[se>>>8&255]^G[Z&255]^S[ne++],J=B[q>>>24]^P[se>>>16&255]^F[Z>>>8&255]^G[W&255]^S[ne++],le=B[se>>>24]^P[Z>>>16&255]^F[W>>>8&255]^G[q&255]^S[ne++];Z=O,W=j,q=J,se=le}var O=(re[Z>>>24]<<24|re[W>>>16&255]<<16|re[q>>>8&255]<<8|re[se&255])^S[ne++],j=(re[W>>>24]<<24|re[q>>>16&255]<<16|re[se>>>8&255]<<8|re[Z&255])^S[ne++],J=(re[q>>>24]<<24|re[se>>>16&255]<<16|re[Z>>>8&255]<<8|re[W&255])^S[ne++],le=(re[se>>>24]<<24|re[Z>>>16&255]<<16|re[W>>>8&255]<<8|re[q&255])^S[ne++];b[v]=O,b[v+1]=j,b[v+2]=J,b[v+3]=le},"_doCryptBlock"),keySize:256/32});t.AES=n._createHelper(x)}(),e.AES})});var _de=V((DR,Sde)=>{d();(function(e,t,r){typeof DR=="object"?Sde.exports=DR=t(bi(),W2(),G2(),Gg(),$a()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(DR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,s=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=s.DES=i.extend({_doReset:o(function(){for(var E=this._key,x=E.words,b=[],v=0;v<56;v++){var S=a[v]-1;b[v]=x[S>>>5]>>>31-S%32&1}for(var B=this._subKeys=[],P=0;P<16;P++){for(var F=B[P]=[],G=c[P],v=0;v<24;v++)F[v/6|0]|=b[(l[v]-1+G)%28]<<31-v%6,F[4+(v/6|0)]|=b[28+(l[v+24]-1+G)%28]<<31-v%6;F[0]=F[0]<<1|F[0]>>>31;for(var v=1;v<7;v++)F[v]=F[v]>>>(v-1)*4+3;F[7]=F[7]<<5|F[7]>>>27}for(var re=this._invSubKeys=[],v=0;v<16;v++)re[v]=B[15-v]},"_doReset"),encryptBlock:o(function(E,x){this._doCryptBlock(E,x,this._subKeys)},"encryptBlock"),decryptBlock:o(function(E,x){this._doCryptBlock(E,x,this._invSubKeys)},"decryptBlock"),_doCryptBlock:o(function(E,x,b){this._lBlock=E[x],this._rBlock=E[x+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var v=0;v<16;v++){for(var S=b[v],B=this._lBlock,P=this._rBlock,F=0,G=0;G<8;G++)F|=u[G][((P^S[G])&f[G])>>>0];this._lBlock=P,this._rBlock=B^F}var re=this._lBlock;this._lBlock=this._rBlock,this._rBlock=re,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),E[x]=this._lBlock,E[x+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function h(E,x){var b=(this._lBlock>>>E^this._rBlock)&x;this._rBlock^=b,this._lBlock^=b<<E}o(h,"exchangeLR");function p(E,x){var b=(this._rBlock>>>E^this._lBlock)&x;this._lBlock^=b,this._rBlock^=b<<E}o(p,"exchangeRL"),t.DES=i._createHelper(m);var A=s.TripleDES=i.extend({_doReset:o(function(){var E=this._key,x=E.words;if(x.length!==2&&x.length!==4&&x.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var b=x.slice(0,2),v=x.length<4?x.slice(0,2):x.slice(2,4),S=x.length<6?x.slice(0,2):x.slice(4,6);this._des1=m.createEncryptor(n.create(b)),this._des2=m.createEncryptor(n.create(v)),this._des3=m.createEncryptor(n.create(S))},"_doReset"),encryptBlock:o(function(E,x){this._des1.encryptBlock(E,x),this._des2.decryptBlock(E,x),this._des3.encryptBlock(E,x)},"encryptBlock"),decryptBlock:o(function(E,x){this._des3.decryptBlock(E,x),this._des2.encryptBlock(E,x),this._des1.decryptBlock(E,x)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(A)}(),e.TripleDES})});var Bde=V((PR,kde)=>{d();(function(e,t,r){typeof PR=="object"?kde.exports=PR=t(bi(),W2(),G2(),Gg(),$a()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(PR,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=i.RC4=n.extend({_doReset:o(function(){for(var c=this._key,u=c.words,f=c.sigBytes,m=this._S=[],h=0;h<256;h++)m[h]=h;for(var h=0,p=0;h<256;h++){var A=h%f,E=u[A>>>2]>>>24-A%4*8&255;p=(p+m[h]+E)%256;var x=m[h];m[h]=m[p],m[p]=x}this._i=this._j=0},"_doReset"),_doProcessBlock:o(function(c,u){c[u]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,f=this._j,m=0,h=0;h<4;h++){u=(u+1)%256,f=(f+c[u])%256;var p=c[u];c[u]=c[f],c[f]=p,m|=c[(c[u]+c[f])%256]<<24-h*8}return this._i=u,this._j=f,m}o(a,"generateKeystreamWord"),t.RC4=n._createHelper(s);var l=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:o(function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)},"_doReset")});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var Dde=V((FR,Rde)=>{d();(function(e,t,r){typeof FR=="object"?Rde.exports=FR=t(bi(),W2(),G2(),Gg(),$a()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(FR,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.Rabbit=n.extend({_doReset:o(function(){for(var f=this._key.words,m=this.cfg.iv,h=0;h<4;h++)f[h]=(f[h]<<8|f[h]>>>24)&16711935|(f[h]<<24|f[h]>>>8)&4278255360;var p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],A=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var h=0;h<4;h++)u.call(this);for(var h=0;h<8;h++)A[h]^=p[h+4&7];if(m){var E=m.words,x=E[0],b=E[1],v=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,B=v>>>16|S&4294901760,P=S<<16|v&65535;A[0]^=v,A[1]^=B,A[2]^=S,A[3]^=P,A[4]^=v,A[5]^=B,A[6]^=S,A[7]^=P;for(var h=0;h<4;h++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,m){var h=this._X;u.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[m+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],A=p&65535,E=p>>>16,x=((A*A>>>17)+A*E>>>15)+E*E,b=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=x^b}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var Fde=V((NR,Pde)=>{d();(function(e,t,r){typeof NR=="object"?Pde.exports=NR=t(bi(),W2(),G2(),Gg(),$a()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(NR,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.RabbitLegacy=n.extend({_doReset:o(function(){var f=this._key.words,m=this.cfg.iv,h=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],p=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var A=0;A<4;A++)u.call(this);for(var A=0;A<8;A++)p[A]^=h[A+4&7];if(m){var E=m.words,x=E[0],b=E[1],v=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,S=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,B=v>>>16|S&4294901760,P=S<<16|v&65535;p[0]^=v,p[1]^=B,p[2]^=S,p[3]^=P,p[4]^=v,p[5]^=B,p[6]^=S,p[7]^=P;for(var A=0;A<4;A++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,m){var h=this._X;u.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[m+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],A=p&65535,E=p>>>16,x=((A*A>>>17)+A*E>>>15)+E*E,b=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=x^b}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var Lde=V((LR,Nde)=>{d();(function(e,t,r){typeof LR=="object"?Nde.exports=LR=t(bi(),W2(),G2(),Gg(),$a()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(LR,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let s=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(A,E){let x=E>>24&255,b=E>>16&255,v=E>>8&255,S=E&255,B=A.sbox[0][x]+A.sbox[1][b];return B=B^A.sbox[2][v],B=B+A.sbox[3][S],B}o(u,"F");function f(A,E,x){let b=E,v=x,S;for(let B=0;B<s;++B)b=b^A.pbox[B],v=u(A,b)^v,S=b,b=v,v=S;return S=b,b=v,v=S,v=v^A.pbox[s],b=b^A.pbox[s+1],{left:b,right:v}}o(f,"BlowFish_Encrypt");function m(A,E,x){let b=E,v=x,S;for(let B=s+1;B>1;--B)b=b^A.pbox[B],v=u(A,b)^v,S=b,b=v,v=S;return S=b,b=v,v=S,v=v^A.pbox[1],b=b^A.pbox[0],{left:b,right:v}}o(m,"BlowFish_Decrypt");function h(A,E,x){for(let P=0;P<4;P++){A.sbox[P]=[];for(let F=0;F<256;F++)A.sbox[P][F]=l[P][F]}let b=0;for(let P=0;P<s+2;P++)A.pbox[P]=a[P]^E[b],b++,b>=x&&(b=0);let v=0,S=0,B=0;for(let P=0;P<s+2;P+=2)B=f(A,v,S),v=B.left,S=B.right,A.pbox[P]=v,A.pbox[P+1]=S;for(let P=0;P<4;P++)for(let F=0;F<256;F+=2)B=f(A,v,S),v=B.left,S=B.right,A.sbox[P][F]=v,A.sbox[P][F+1]=S;return!0}o(h,"BlowFishInit");var p=i.Blowfish=n.extend({_doReset:o(function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key,E=A.words,x=A.sigBytes/4;h(c,E,x)}},"_doReset"),encryptBlock:o(function(A,E){var x=f(c,A[E],A[E+1]);A[E]=x.left,A[E+1]=x.right},"encryptBlock"),decryptBlock:o(function(A,E){var x=m(c,A[E],A[E+1]);A[E]=x.left,A[E+1]=x.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var H2=V((QR,Qde)=>{d();(function(e,t,r){typeof QR=="object"?Qde.exports=QR=t(bi(),y7(),Ffe(),Lfe(),W2(),Ofe(),G2(),S$(),cR(),Hfe(),_$(),$fe(),Yfe(),Jfe(),gR(),ede(),Gg(),$a(),ide(),sde(),lde(),ude(),dde(),hde(),gde(),yde(),Ede(),bde(),Ide(),wde(),_de(),Bde(),Dde(),Fde(),Lde()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(QR,function(e){return e})});var Ode=V((ILt,Mde)=>{d();var lb=1e3,cb=lb*60,ub=cb*60,c3=ub*24,$Ge=c3*7,zGe=c3*365.25;Mde.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return YGe(e);if(r==="number"&&isFinite(e))return t.long?JGe(e):KGe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function YGe(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*zGe;case"weeks":case"week":case"w":return r*$Ge;case"days":case"day":case"d":return r*c3;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ub;case"minutes":case"minute":case"mins":case"min":case"m":return r*cb;case"seconds":case"second":case"secs":case"sec":case"s":return r*lb;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(YGe,"parse");function KGe(e){var t=Math.abs(e);return t>=c3?Math.round(e/c3)+"d":t>=ub?Math.round(e/ub)+"h":t>=cb?Math.round(e/cb)+"m":t>=lb?Math.round(e/lb)+"s":e+"ms"}o(KGe,"fmtShort");function JGe(e){var t=Math.abs(e);return t>=c3?OR(e,t,c3,"day"):t>=ub?OR(e,t,ub,"hour"):t>=cb?OR(e,t,cb,"minute"):t>=lb?OR(e,t,lb,"second"):e+" ms"}o(JGe,"fmtLong");function OR(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}o(OR,"plural")});var B$=V((SLt,Ude)=>{d();function XGe(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=a,r.humanize=Ode(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let m=0;for(let h=0;h<f.length;h++)m=(m<<5)-m+f.charCodeAt(h),m|=0;return r.colors[Math.abs(m)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(f){let m,h=null,p,A;function E(...x){if(!E.enabled)return;let b=E,v=Number(new Date),S=v-(m||v);b.diff=S,b.prev=m,b.curr=v,m=v,x[0]=r.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let B=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(F,G)=>{if(F==="%%")return"%";B++;let re=r.formatters[G];if(typeof re=="function"){let pe=x[B];F=re.call(b,pe),x.splice(B,1),B--}return F}),r.formatArgs.call(b,x),(b.log||r.log).apply(b,x)}return o(E,"debug"),E.namespace=f,E.useColors=r.useColors(),E.color=r.selectColor(f),E.extend=n,E.destroy=r.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:o(()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,A=r.enabled(f)),A),"get"),set:o(x=>{h=x},"set")}),typeof r.init=="function"&&r.init(E),E}o(r,"createDebug");function n(f,m){let h=r(this.namespace+(typeof m>"u"?":":m)+f);return h.log=this.log,h}o(n,"extend");function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let m,h=(typeof f=="string"?f:"").split(/[\s,]+/),p=h.length;for(m=0;m<p;m++)h[m]&&(f=h[m].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}o(i,"enable");function s(){let f=[...r.names.map(l),...r.skips.map(l).map(m=>"-"+m)].join(",");return r.enable(""),f}o(s,"disable");function a(f){if(f[f.length-1]==="*")return!0;let m,h;for(m=0,h=r.skips.length;m<h;m++)if(r.skips[m].test(f))return!1;for(m=0,h=r.names.length;m<h;m++)if(r.names[m].test(f))return!0;return!1}o(a,"enabled");function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}o(l,"toNamespace");function c(f){return f instanceof Error?f.stack||f.message:f}o(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(u,"destroy"),r.enable(r.load()),r}o(XGe,"setup");Ude.exports=XGe});var qde=V((mu,UR)=>{d();mu.formatArgs=eHe;mu.save=tHe;mu.load=rHe;mu.useColors=ZGe;mu.storage=nHe();mu.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();mu.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ZGe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(ZGe,"useColors");function eHe(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+UR.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}o(eHe,"formatArgs");mu.log=console.debug||console.log||(()=>{});function tHe(e){try{e?mu.storage.setItem("debug",e):mu.storage.removeItem("debug")}catch{}}o(tHe,"save");function rHe(){let e;try{e=mu.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}o(rHe,"load");function nHe(){try{return localStorage}catch{}}o(nHe,"localstorage");UR.exports=B$()(mu);var{formatters:iHe}=UR.exports;iHe.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Gde=V((DLt,Wde)=>{"use strict";d();Wde.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var jde=V((FLt,Vde)=>{"use strict";d();var oHe=require("os"),Hde=require("tty"),kf=Gde(),{env:ll}=process,V2;kf("no-color")||kf("no-colors")||kf("color=false")||kf("color=never")?V2=0:(kf("color")||kf("colors")||kf("color=true")||kf("color=always"))&&(V2=1);"FORCE_COLOR"in ll&&(ll.FORCE_COLOR==="true"?V2=1:ll.FORCE_COLOR==="false"?V2=0:V2=ll.FORCE_COLOR.length===0?1:Math.min(parseInt(ll.FORCE_COLOR,10),3));function R$(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}o(R$,"translateLevel");function D$(e,t){if(V2===0)return 0;if(kf("color=16m")||kf("color=full")||kf("color=truecolor"))return 3;if(kf("color=256"))return 2;if(e&&!t&&V2===void 0)return 0;let r=V2||0;if(ll.TERM==="dumb")return r;if(process.platform==="win32"){let n=oHe.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in ll)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in ll)||ll.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in ll)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ll.TEAMCITY_VERSION)?1:0;if(ll.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ll){let n=parseInt((ll.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ll.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ll.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ll.TERM)||"COLORTERM"in ll?1:r}o(D$,"supportsColor");function sHe(e){let t=D$(e,e&&e.isTTY);return R$(t)}o(sHe,"getSupportLevel");Vde.exports={supportsColor:sHe,stdout:R$(D$(!0,Hde.isatty(1))),stderr:R$(D$(!0,Hde.isatty(2)))}});var zde=V((Ll,WR)=>{d();var aHe=require("tty"),qR=require("util");Ll.init=hHe;Ll.log=fHe;Ll.formatArgs=cHe;Ll.save=dHe;Ll.load=mHe;Ll.useColors=lHe;Ll.destroy=qR.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ll.colors=[6,2,3,4,5,1];try{let e=jde();e&&(e.stderr||e).level>=2&&(Ll.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ll.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function lHe(){return"colors"in Ll.inspectOpts?!!Ll.inspectOpts.colors:aHe.isatty(process.stderr.fd)}o(lHe,"useColors");function cHe(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} \x1B[0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+WR.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=uHe()+t+" "+e[0]}o(cHe,"formatArgs");function uHe(){return Ll.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(uHe,"getDate");function fHe(...e){return process.stderr.write(qR.format(...e)+`
`)}o(fHe,"log");function dHe(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(dHe,"save");function mHe(){return process.env.DEBUG}o(mHe,"load");function hHe(e){e.inspectOpts={};let t=Object.keys(Ll.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Ll.inspectOpts[t[r]]}o(hHe,"init");WR.exports=B$()(Ll);var{formatters:$de}=WR.exports;$de.o=function(e){return this.inspectOpts.colors=this.useColors,qR.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};$de.O=function(e){return this.inspectOpts.colors=this.useColors,qR.inspect(e,this.inspectOpts)}});var u3=V((OLt,P$)=>{d();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?P$.exports=qde():P$.exports=zde()});var O$=V((GLt,Xde)=>{d();var E7=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,pHe=typeof AbortController=="function",GR=pHe?AbortController:class{static{o(this,"AbortController")}constructor(){this.signal=new Yde}abort(){this.signal.dispatchEvent("abort")}},gHe=typeof AbortSignal=="function",AHe=typeof GR.AbortSignal=="function",Yde=gHe?AbortSignal:AHe?GR.AbortController:class{static{o(this,"AbortSignal")}constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},Q$=new Set,F$=o((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;HR(r)&&M$(r,`${e} option`,`options.${t}`,db)},"deprecatedOption"),N$=o((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(HR(r)){let{prototype:n}=db,{get:i}=Object.getOwnPropertyDescriptor(n,e);M$(r,`${e} method`,`cache.${t}()`,i)}},"deprecatedMethod"),yHe=o((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(HR(r)){let{prototype:n}=db,{get:i}=Object.getOwnPropertyDescriptor(n,e);M$(r,`${e} property`,`cache.${t}`,i)}},"deprecatedProperty"),Kde=o((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),HR=o(e=>!Q$.has(e),"shouldWarn"),M$=o((e,t,r,n)=>{Q$.add(e);let i=`The ${t} is deprecated. Please use ${r} instead.`;Kde(i,"DeprecationWarning",e,n)},"warn"),f3=o(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),Jde=o(e=>f3(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?fb:null:null,"getUintArray"),fb=class extends Array{static{o(this,"ZeroArray")}constructor(t){super(t),this.fill(0)}},L$=class{static{o(this,"Stack")}constructor(t){if(t===0)return[];let r=Jde(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},db=class e{static{o(this,"LRUCache")}constructor(t={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:c,dispose:u,disposeAfter:f,noDisposeOnSet:m,noUpdateTTL:h,maxSize:p=0,sizeCalculation:A,fetchMethod:E,fetchContext:x,noDeleteOnFetchRejection:b,noDeleteOnStaleGet:v}=t,{length:S,maxAge:B,stale:P}=t instanceof e?{}:t;if(r!==0&&!f3(r))throw new TypeError("max option must be a nonnegative integer");let F=r?Jde(r):Array;if(!F)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=p,this.sizeCalculation=A||S,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=E||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=x,!this.fetchMethod&&x!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new F(r),this.prev=new F(r),this.head=0,this.tail=0,this.free=new L$(r),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof f=="function"?(this.disposeAfter=f,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!m,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!b,this.maxSize!==0){if(!f3(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!P,this.noDeleteOnStaleGet=!!v,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=f3(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||B||0,this.ttl){if(!f3(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let G="LRU_CACHE_UNBOUNDED";HR(G)&&(Q$.add(G),Kde("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",G,e))}P&&F$("stale","allowStale"),B&&F$("maxAge","ttl"),S&&F$("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new fb(this.max),this.starts=new fb(this.max),this.setItemTTL=(n,i,s=E7.now())=>{if(this.starts[n]=i!==0?s:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?E7.now():0};let t=0,r=o(()=>{let n=E7.now();if(this.ttlResolution>0){t=n;let i=setTimeout(()=>t=0,this.ttlResolution);i.unref&&i.unref()}return n},"getNow");this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new fb(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,i)=>{if(!f3(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,t),!f3(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return N$("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){a.ttl=this.ttls[r];let l=E7.now()-this.starts[r];a.start=Math.floor(Date.now()-l)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let i=Date.now()-n.start;n.start=E7.now()-i}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,l),this.maxSize&&a>this.maxSize)return this;let u=this.size===0?void 0:this.keyMap.get(t);if(u===void 0)u=this.newIndex(),this.keyList[u]=t,this.valList[u]=r,this.keyMap.set(t,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,a),c=!1;else{let f=this.valList[u];r!==f&&(this.isBackgroundFetch(f)?f.__abortController.abort():s||(this.dispose(f,t,"set"),this.disposeAfter&&this.disposed.push([f,t,"set"])),this.removeItemSize(u),this.valList[u]=r,this.addItemSize(u,a)),this.moveToTail(u)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(u,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(t,r,n,i){let s=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(s))return s;let a=new GR,l={signal:a.signal,options:n,context:i},c=o(h=>(a.signal.aborted||this.set(t,h,l.options),h),"cb"),u=o(h=>{if(this.valList[r]===m&&(!n.noDeleteOnFetchRejection||m.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=m.__staleWhileFetching),m.__returned===m)throw h},"eb"),f=o(h=>h(this.fetchMethod(t,s,l)),"pcall"),m=new Promise(f).then(c,u);return m.__abortController=a,m.__staleWhileFetching=s,m.__returned=null,r===void 0?(this.set(t,m,l.options),r=this.keyMap.get(t)):this.valList[r]=m,m}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,fetchContext:m=this.fetchContext,forceRefresh:h=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let p={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f},A=this.keyMap.get(t);if(A===void 0){let E=this.backgroundFetch(t,A,p,m);return E.__returned=E}else{let E=this.valList[A];if(this.isBackgroundFetch(E))return r&&E.__staleWhileFetching!==void 0?E.__staleWhileFetching:E.__returned=E;if(!h&&!this.isStale(A))return this.moveToTail(A),n&&this.updateItemAge(A),E;let x=this.backgroundFetch(t,A,p,m);return r&&x.__staleWhileFetching!==void 0?x.__staleWhileFetching:x.__returned=x}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let s=this.keyMap.get(t);if(s!==void 0){let a=this.valList[s],l=this.isBackgroundFetch(a);return this.isStale(s)?l?r?a.__staleWhileFetching:void 0:(i||this.delete(t),r?a:void 0):l?void 0:(this.moveToTail(s),n&&this.updateItemAge(s),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return N$("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,t,"delete"),this.disposeAfter&&this.disposed.push([i,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return N$("reset","clear"),this.clear}get length(){return yHe("length","size"),this.size}static get AbortController(){return GR}static get AbortSignal(){return Yde}};Xde.exports=db});var W$=V((jLt,Zde)=>{"use strict";d();var x7=class extends Error{static{o(this,"FetchBaseError")}constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}},U$=class extends x7{static{o(this,"FetchError")}constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},q$=class extends x7{static{o(this,"AbortError")}constructor(t,r="aborted"){super(t,r,"AbortError")}};Zde.exports={FetchBaseError:x7,FetchError:U$,AbortError:q$}});var Hg=V((YLt,tme)=>{"use strict";d();var{constants:{MAX_LENGTH:CHe}}=require("buffer"),{pipeline:VR,PassThrough:EHe}=require("stream"),{promisify:xHe}=require("util"),{createGunzip:bHe,createInflate:vHe,createBrotliDecompress:IHe,constants:{Z_SYNC_FLUSH:eme}}=require("zlib"),THe=u3()("helix-fetch:utils"),wHe=xHe(VR),SHe=o((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),_He=o((e,t,r,n)=>{if(!SHe(e,t))return r;let i=o(s=>{s&&(THe(`encountered error while decoding stream: ${s}`),n(s))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return VR(r,bHe({flush:eme,finishFlush:eme}),i);case"deflate":case"x-deflate":return VR(r,vHe(),i);case"br":return VR(r,IHe(),i);default:return r}},"decodeStream"),kHe=o(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),jR=o((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?BHe(e,t):RHe(e,t);default:return 0}},"calcSize"),BHe=o((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:jR(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),RHe=o((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let i in e)n.push(i);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(i=>{if(r+=jR(i,t),typeof e[i]=="object"&&e[i]!==null){if(t.has(e[i]))return;t.add(e[i])}r+=jR(e[i],t)}),r},"calcObjectSize"),DHe=o(e=>jR(e,new WeakSet),"sizeof"),PHe=o(async e=>{let t=new EHe,r=0,n=[];return t.on("data",i=>{if(r+i.length>CHe)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await wHe(e,t),Buffer.concat(n,r)},"streamToBuffer");tme.exports={decodeStream:_He,isPlainObject:kHe,sizeof:DHe,streamToBuffer:PHe}});var zR=V((XLt,ome)=>{"use strict";d();var{PassThrough:rme,Readable:Vg}=require("stream"),{types:{isAnyArrayBuffer:ime}}=require("util"),{FetchError:FHe,FetchBaseError:NHe}=W$(),{streamToBuffer:LHe}=Hg(),QHe=Buffer.alloc(0),Bf=Symbol("Body internals"),MHe=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),nme=o(async e=>{if(e[Bf].disturbed)throw new TypeError("Already read");if(e[Bf].error)throw new TypeError(`Stream had error: ${e[Bf].error.message}`);e[Bf].disturbed=!0;let{stream:t}=e[Bf];return t===null?QHe:LHe(t)},"consume"),$R=class{static{o(this,"Body")}constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=Vg.from(t.toString()):t instanceof Vg?r=t:Buffer.isBuffer(t)?r=Vg.from(t):ime(t)?r=Vg.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=Vg.from(t):r=Vg.from(String(t)),this[Bf]={stream:r,disturbed:!1,error:null},t instanceof Vg&&r.on("error",n=>{let i=n instanceof NHe?n:new FHe(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[Bf].error=i})}get body(){return this[Bf].stream}get bodyUsed(){return this[Bf].disturbed}async buffer(){return nme(this)}async arrayBuffer(){return MHe(await this.buffer())}async text(){return(await nme(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties($R.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var OHe=o(e=>{if(e[Bf].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[Bf],r=t;if(t instanceof Vg){r=new rme;let n=new rme;t.pipe(r),t.pipe(n),e[Bf].stream=n}return r},"cloneStream"),UHe=o(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||ime(e)||e instanceof Vg?null:"text/plain; charset=utf-8","guessContentType");ome.exports={Body:$R,cloneStream:OHe,guessContentType:UHe}});var mb=V((tQt,cme)=>{"use strict";d();var{validateHeaderName:sme,validateHeaderValue:ame}=require("http"),{isPlainObject:qHe}=Hg(),jg=Symbol("Headers internals"),b7=o(e=>{let t=typeof e!="string"?String(e):e;if(typeof sme=="function")sme(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),lme=o((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof ame=="function")ame(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),YR=class e{static{o(this,"Headers")}constructor(t={}){if(this[jg]={map:new Map},t instanceof e)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(qHe(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[jg].map.set(b7(t),lme(r,t))}has(t){return this[jg].map.has(b7(t))}get(t){let r=this[jg].map.get(b7(t));return r===void 0?null:r}append(t,r){let n=b7(t),i=lme(r,t),s=this[jg].map.get(n);this[jg].map.set(n,s?`${s}, ${i}`:i)}delete(t){this[jg].map.delete(b7(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[jg].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[jg].map)}};Object.defineProperties(YR.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));cme.exports={Headers:YR}});var G$=V((iQt,ume)=>{"use strict";d();var{EventEmitter:WHe}=require("events"),am=Symbol("AbortSignal internals"),hb=class{static{o(this,"AbortSignal")}constructor(){this[am]={eventEmitter:new WHe,onabort:null,aborted:!1}}get aborted(){return this[am].aborted}get onabort(){return this[am].onabort}set onabort(t){this[am].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[am].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[am].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[am][n]=="function"&&this[n](r),this[am].eventEmitter.emit(t,r)}fire(){this[am].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties(hb.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var JR=class extends hb{static{o(this,"TimeoutSignal")}constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[am].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[am].timerId)}};Object.defineProperties(JR.prototype,{clear:{enumerable:!0}});var KR=Symbol("AbortController internals"),XR=class{static{o(this,"AbortController")}constructor(){this[KR]={signal:new hb}}get signal(){return this[KR].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[KR].signal.aborted||this[KR].signal.fire()}};Object.defineProperties(XR.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});ume.exports={AbortController:XR,AbortSignal:hb,TimeoutSignal:JR}});var v7=V((aQt,mme)=>{"use strict";d();var{randomBytes:GHe}=require("crypto"),{Readable:HHe}=require("stream"),V$=o(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),VHe=o(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),fme=o(e=>`--${e}--\r
\r
`,"getFooter"),dme=o((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,V$(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*jHe(e,t){for(let[r,n]of e)yield dme(t,r,n),V$(n)?yield*n.stream():yield n,yield`\r
`;yield fme(t)}o(jHe,"formDataIterator");var $He=o((e,t)=>{let r=0;for(let[n,i]of e)r+=Buffer.byteLength(dme(t,n,i)),r+=V$(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(fme(t)),r},"getFormDataLength"),H$=class{static{o(this,"FormDataSerializer")}constructor(t){this.fd=t,this.boundary=GHe(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=$He(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return HHe.from(jHe(this.fd,this.boundary))}};mme.exports={isFormData:VHe,FormDataSerializer:H$}});var pme=V((uQt,hme)=>{"use strict";d();var{AbortSignal:zHe}=G$(),{Body:YHe,cloneStream:KHe,guessContentType:JHe}=zR(),{Headers:XHe}=mb(),{isPlainObject:ZHe}=Hg(),{isFormData:eVe,FormDataSerializer:tVe}=v7(),rVe=20,j2=Symbol("Request internals"),ZR=class e extends YHe{static{o(this,"Request")}constructor(t,r={}){let n=t instanceof e?t:null,i=n?new URL(n.url):new URL(t),s=r.method||n&&n.method||"GET";if(s=s.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(s))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?KHe(n):null),l=new XHe(r.headers||n&&n.headers||{});if(eVe(a)&&!l.has("content-type")){let m=new tVe(a);a=m.stream(),l.set("content-type",m.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",m.length())}if(!l.has("content-type"))if(ZHe(a))a=JSON.stringify(a),l.set("content-type","application/json");else{let m=JHe(a);m&&l.set("content-type",m)}super(a);let c=n?n.signal:null;if("signal"in r&&(c=r.signal),c&&!(c instanceof zHe))throw new TypeError("signal needs to be an instance of AbortSignal");let u=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(u))throw new TypeError(`'${u}' is not a valid redirect option`);let f=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(f))throw new TypeError(`'${f}' is not a valid cache option`);this[j2]={init:{...r},method:s,redirect:u,cache:f,headers:l,parsedURL:i,signal:c},r.follow===void 0?!n||n.follow===void 0?this.follow=rVe:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[j2].method}get url(){return this[j2].parsedURL.toString()}get headers(){return this[j2].headers}get redirect(){return this[j2].redirect}get cache(){return this[j2].cache}get signal(){return this[j2].signal}clone(){return new e(this)}get init(){return this[j2].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(ZR.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});hme.exports={Request:ZR}});var j$=V((mQt,gme)=>{"use strict";d();var{Body:nVe,cloneStream:iVe,guessContentType:oVe}=zR(),{Headers:sVe}=mb(),{isPlainObject:aVe}=Hg(),{isFormData:lVe,FormDataSerializer:cVe}=v7(),lm=Symbol("Response internals"),eD=class e extends nVe{static{o(this,"Response")}constructor(t=null,r={}){let n=new sVe(r.headers),i=t;if(lVe(i)&&!n.has("content-type")){let s=new cVe(i);i=s.stream(),n.set("content-type",s.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",s.length())}if(i!==null&&!n.has("content-type"))if(aVe(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let s=oVe(i);s&&n.set("content-type",s)}super(i),this[lm]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[lm].url||""}get status(){return this[lm].status}get statusText(){return this[lm].statusText}get ok(){return this[lm].status>=200&&this[lm].status<300}get redirected(){return this[lm].counter>0}get headers(){return this[lm].headers}get httpVersion(){return this[lm].httpVersion}get decoded(){return this[lm].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new e(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new e(iVe(this),{...this[lm]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(eD.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});gme.exports={Response:eD}});var yme=V((AQt,Ame)=>{"use strict";d();var uVe=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),fVe=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),dVe=new Set([500,502,503,504]),mVe={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},hVe={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function d3(e){let t=parseInt(e,10);return isFinite(t)?t:0}o(d3,"toNumberOrZero");function pVe(e){return e?dVe.has(e.status):!0}o(pVe,"isErrorResponse");function $$(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[i,s]=n.split(/=/,2);t[i.trim()]=s===void 0?!0:s.trim().replace(/^"|"$/g,"")}return t}o($$,"parseCacheControl");function gVe(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}o(gVe,"formatCacheControl");Ame.exports=class{static{o(this,"CachePolicy")}constructor(t,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:s,ignoreCargoCult:a,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=$$(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=$$(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":gVe(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&fVe.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||uVe.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=$$(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)mVe[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return d3(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return d3(this._rescc["s-maxage"])}if(this._rescc["max-age"])return d3(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+d3(this._rescc["stale-if-error"]),n=t+d3(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+d3(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+d3(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&pVe(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let i={};for(let a in this._resHeaders)i[a]=a in r.headers&&!hVe[a]?r.headers[a]:this._resHeaders[a];let s=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(t,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var bme=V((EQt,xme)=>{"use strict";d();var AVe=yme(),{Headers:yVe}=mb(),Cme=o(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),Eme=o(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),z$=class{static{o(this,"CachePolicyWrapper")}constructor(t,r,n){this.policy=new AVe(Cme(t),Eme(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(Cme(t))}responseHeaders(t){return new yVe(this.policy.responseHeaders(Eme(t)))}timeToLive(){return this.policy.timeToLive()}};xme.exports=z$});var Tme=V((vQt,Ime)=>{"use strict";d();var{Readable:CVe}=require("stream"),{Headers:vme}=mb(),{Response:EVe}=j$(),$2=Symbol("CacheableResponse internals"),xVe=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),Y$=class e extends EVe{static{o(this,"CacheableResponse")}constructor(t,r){super(t,r);let n=new vme(r.headers);this[$2]={headers:n,bufferedBody:t}}get headers(){return this[$2].headers}set headers(t){if(t instanceof vme)this[$2].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return CVe.from(this[$2].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[$2].bufferedBody}async arrayBuffer(){return xVe(this[$2].bufferedBody)}async text(){return this[$2].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:l}=this;return new e(this[$2].bufferedBody,{url:t,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}},bVe=o(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:l,counter:c}=e;return new Y$(t,{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:l,counter:c})},"cacheableResponse");Ime.exports={cacheableResponse:bVe}});var tD=V((wQt,wme)=>{"use strict";d();var K$=class extends Error{static{o(this,"RequestAbortedError")}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};wme.exports={RequestAbortedError:K$}});var Rme=V((kQt,Bme)=>{"use strict";d();var _me=require("http"),kme=require("https"),{Readable:vVe}=require("stream"),$g=u3()("helix-fetch:h1"),{RequestAbortedError:Sme}=tD(),{decodeStream:IVe}=Hg(),TVe=o((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new kme.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new _me.Agent(n),r.httpAgent):void 0},"getAgent"),wVe=o(e=>{e.h1={}},"setupContext"),SVe=o(async({h1:e})=>{e.httpAgent&&($g("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&($g("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),_Ve=o((e,t,r)=>{let{statusCode:n,statusMessage:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:l,headers:c}=e,u=t?IVe(n,c,e,r):e;return{statusCode:n,statusText:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:l,headers:c,readable:u,decoded:!!(t&&u!==e)}},"createResponse"),kVe=o(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?kme:_me,i=TVe(e,t.protocol),s={...r,agent:i},{socket:a,body:l}=s;return a&&(delete s.socket,a.assigned||(a.assigned=!0,i?s.agent=new Proxy(i,{get:o((c,u)=>u==="createConnection"&&!a.inUse?(f,m)=>{$g(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,m(null,a)}:c[u],"get")}):s.createConnection=(c,u)=>{$g(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,u(null,a)})),new Promise((c,u)=>{$g(`${s.method} ${t.href}`);let f,{signal:m}=s,h=o(()=>{m.removeEventListener("abort",h),a&&!a.inUse&&($g(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u(new Sme),f&&f.abort()},"onAbortSignal");if(m){if(m.aborted){u(new Sme);return}m.addEventListener("abort",h)}f=n(t,s),f.once("response",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&($g(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(_Ve(p,s.decode,u))}),f.once("error",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&($g(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),f.aborted||($g(`${s.method} ${t.href} failed with: ${p.message}`),f.abort(),u(p))}),l instanceof vVe?l.pipe(f):(l&&f.write(l),f.end())})},"h1Request");Bme.exports={request:kVe,setupContext:wVe,resetContext:SVe}});var Nme=V((DQt,Fme)=>{"use strict";d();var{connect:BVe,constants:RVe}=require("http2"),{Readable:DVe}=require("stream"),jo=u3()("helix-fetch:h2"),{RequestAbortedError:Dme}=tD(),{decodeStream:PVe}=Hg(),{NGHTTP2_CANCEL:I7}=RVe,FVe=5*60*1e3,NVe=5e3,LVe=o(e=>{e.h2={sessionCache:{}}},"setupContext"),QVe=o(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),jo(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),Pme=o((e,t,r,n=()=>{})=>{let i={...e},s=i[":status"];delete i[":status"];let a=r?PVe(s,e,t,n):t;return{statusCode:s,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),MVe=o((e,t,r,n,i,s)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:l,pushedStreamIdleTimeout:c=NVe}}}=e,u=i[":path"],f=`${t}${u}`;jo(`received PUSH_PROMISE: ${f}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${s}`),a&&a(f,i,o(()=>{n.close(I7)},"rejectPush")),n.on("push",(m,h)=>{jo(`received push headers for ${t}${u}, stream #${n.id}, headers: ${JSON.stringify(m)}, flags: ${h}`),n.setTimeout(c,()=>{jo(`closing pushed stream #${n.id} after ${c} ms of inactivity`),n.close(I7)}),l&&l(f,i,Pme(m,n,r))}),n.on("aborted",()=>{jo(`pushed stream #${n.id} aborted`)}),n.on("error",m=>{jo(`pushed stream #${n.id} encountered error: ${m}`)}),n.on("frameError",(m,h,p)=>{jo(`pushed stream #${n.id} encountered frameError: type: ${m}, code: ${h}, id: ${p}`)})},"handlePush"),OVe=o(async(e,t,r)=>{let{origin:n,pathname:i,search:s,hash:a}=t,l=`${i}${s}${a}`,{options:{h2:c={}},h2:{sessionCache:u}}=e,{idleSessionTimeout:f=FVe,pushPromiseHandler:m,pushHandler:h}=c,p={...r},{method:A,headers:E,socket:x,body:b,decode:v}=p;return x&&delete p.socket,E.host&&(E[":authority"]=E.host,delete E.host),new Promise((S,B)=>{let P=u[n];if(!P||P.closed||P.destroyed){let Z=!(e.options.rejectUnauthorized===!1||c.rejectUnauthorized===!1),W={...c,rejectUnauthorized:Z};x&&!x.inUse&&(W.createConnection=()=>(jo(`reusing socket #${x.id} (${x.servername})`),x.inUse=!0,x)),P=BVe(n,{...W,settings:{enablePush:!!(m||h)}}),P.setMaxListeners(1e3),P.setTimeout(f,()=>{jo(`closing session ${n} after ${f} ms of inactivity`),P.close()}),P.once("connect",()=>{jo(`session ${n} established`),jo(`caching session ${n}`),u[n]=P}),P.on("localSettings",se=>{jo(`session ${n} localSettings: ${JSON.stringify(se)}`)}),P.on("remoteSettings",se=>{jo(`session ${n} remoteSettings: ${JSON.stringify(se)}`)}),P.once("close",()=>{jo(`session ${n} closed`),u[n]===P&&(jo(`discarding cached session ${n}`),delete u[n])}),P.once("error",se=>{jo(`session ${n} encountered error: ${se}`),u[n]===P&&(jo(`discarding cached session ${n}`),delete u[n])}),P.on("frameError",(se,ne,H)=>{jo(`session ${n} encountered frameError: type: ${se}, code: ${ne}, id: ${H}`)}),P.once("goaway",(se,ne,H)=>{jo(`session ${n} received GOAWAY frame: errorCode: ${se}, lastStreamID: ${ne}, opaqueData: ${H?H.toString():void 0}`)}),P.on("stream",(se,ne,H)=>{MVe(e,n,v,se,ne,H)})}else x&&x.id!==P.socket.id&&!x.inUse&&(jo(`discarding redundant socket used for ALPN: #${x.id} ${x.servername}`),x.destroy());jo(`${A} ${t.host}${l}`);let F,{signal:G}=p,re=o(()=>{G.removeEventListener("abort",re),B(new Dme),F&&F.close(I7)},"onAbortSignal");if(G){if(G.aborted){B(new Dme);return}G.addEventListener("abort",re)}let pe=o(Z=>{jo(`session ${n} encountered error during ${p.method} ${t.href}: ${Z}`),B(Z)},"onSessionError");P.once("error",pe),F=P.request({":method":A,":path":l,...E}),F.once("response",Z=>{P.off("error",pe),G&&G.removeEventListener("abort",re),S(Pme(Z,F,p.decode,B))}),F.once("error",Z=>{P.off("error",pe),G&&G.removeEventListener("abort",re),F.rstCode!==I7&&(jo(`${p.method} ${t.href} failed with: ${Z.message}`),F.close(I7),B(Z))}),F.once("frameError",(Z,W,q)=>{P.off("error",pe),jo(`encountered frameError during ${p.method} ${t.href}: type: ${Z}, code: ${W}, id: ${q}`)}),F.on("push",(Z,W)=>{jo(`received 'push' event: headers: ${JSON.stringify(Z)}, flags: ${W}`)}),b instanceof DVe?b.pipe(F):(b&&F.write(b),F.end())})},"request");Fme.exports={request:OVe,setupContext:LVe,resetContext:QVe}});var Qme=V((NQt,Lme)=>{"use strict";d();var{EventEmitter:UVe}=require("events"),qVe=o(()=>{let e={},t=new UVe;return t.setMaxListeners(0),{acquire:o(r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let i=o(s=>{e[r]||(e[r]=!0,t.removeListener(r,i),n(s))},"tryAcquire");t.on(r,i)}),"acquire"),release:o((r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))},"release")}},"lock");Lme.exports=qVe});var Mme=V((MQt,WVe)=>{WVe.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var Gme=V((OQt,Wme)=>{"use strict";d();var{Readable:GVe}=require("stream"),HVe=require("tls"),{types:{isAnyArrayBuffer:VVe}}=require("util"),jVe=O$(),J$=u3()("helix-fetch:core"),{RequestAbortedError:rD}=tD(),X$=Rme(),nD=Nme(),$Ve=Qme(),{isPlainObject:zVe}=Hg(),{isFormData:YVe,FormDataSerializer:KVe}=v7(),{version:JVe}=Mme(),Z$="h2",ez="h2c",tz="http/1.0",m3="http/1.1",XVe=100,ZVe=60*60*1e3,eje=[Z$,m3,tz],tje=`helix-fetch/${JVe}`,rje={method:"GET",compress:!0,decode:!0},Ome=0,Ume=$Ve(),qme=o((e,t)=>new Promise((r,n)=>{let{signal:i}=t,s,a=o(()=>{i.removeEventListener("abort",a);let u=new rD;n(u),s&&s.destroy(u)},"onAbortSignal");if(i){if(i.aborted){n(new rD);return}i.addEventListener("abort",a)}let l=+e.port||443,c=o(u=>{i&&i.removeEventListener("abort",a),u instanceof rD||(J$(`connecting to ${e.hostname}:${l} failed with: ${u.message}`),n(u))},"onError");s=HVe.connect(l,e.hostname,t),s.once("secureConnect",()=>{i&&i.removeEventListener("abort",a),s.off("error",c),Ome+=1,s.id=Ome,s.secureConnecting=!1,J$(`established TLS connection: #${s.id} (${s.servername})`),r(s)}),s.once("error",c)}),"connectTLS"),nje=o(async(e,t)=>{let r=await Ume.acquire(e.origin);try{return r||(r=await qme(e,t)),r}finally{Ume.release(e.origin,r)}},"connect"),ije=o(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,i=e.alpnCache.get(n);if(i)return{protocol:i};switch(t.protocol){case"http:":return i=m3,e.alpnCache.set(n,i),{protocol:i};case"http2:":return i=ez,e.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:s,h1:a={},h2:l={}}}=e,c=!(s===!1||a.rejectUnauthorized===!1||l.rejectUnauthorized===!1),u={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:c};e.options.ca&&(u.ca=e.options.ca);let f=await nje(t,u);return i=f.alpnProtocol,i||(i=m3),e.alpnCache.set(n,i),{protocol:i,socket:f}},"determineProtocol"),oje=o(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),sje=o(async(e,t,r,n)=>{let i=t.protocol==="https:",s;t.port?s=t.port:i?s=443:s=80;let a={...r,host:t.host,hostname:t.hostname,port:s},l=await e(a);if(i){let u={...a,ALPNProtocols:n};u.socket=l,u.servername=a.host;let f=await qme(t,u);return{protocol:f.alpnProtocol||m3,socket:f}}return{protocol:l.alpnProtocol||m3,socket:l}},"getProtocolAndSocketFromFactory"),aje=o(async(e,t,r)=>{let n=new URL(t),i={...rje,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=oje(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),e.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=e.userAgent);let s;if(i.body instanceof URLSearchParams)s="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(YVe(i.body)){let u=new KVe(i.body);s=u.contentType(),i.body=u.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(u.length()))}else typeof i.body=="string"||i.body instanceof String?s="text/plain; charset=utf-8":zVe(i.body)?(i.body=JSON.stringify(i.body),s="application/json"):VVe(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&s!==void 0&&(i.headers["content-type"]=s),i.body!=null&&(i.body instanceof GVe||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=i,{protocol:l,socket:c=null}=e.socketFactory?await sje(e.socketFactory,n,i,e.alpnProtocols):await ije(e,n,a);switch(J$(`${n.host} -> ${l}`),l){case Z$:try{return await nD.request(e,n,c?{...i,socket:c}:i)}catch(u){let{code:f,message:m}=u;throw f==="ERR_HTTP2_ERROR"&&m==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),u}case ez:return nD.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),c?{...i,socket:c}:i);case tz:case m3:return X$.request(e,n,c?{...i,socket:c}:i);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),lje=o(async e=>(e.alpnCache.clear(),Promise.all([X$.resetContext(e),nD.resetContext(e)])),"resetContext"),cje=o(e=>{let{options:{alpnProtocols:t=eje,alpnCacheTTL:r=ZVe,alpnCacheSize:n=XVe,userAgent:i=tje,socketFactory:s}}=e;e.alpnProtocols=t,e.alpnCache=new jVe({max:n,ttl:r}),e.userAgent=i,e.socketFactory=s,X$.setupContext(e),nD.setupContext(e)},"setupContext");Wme.exports={request:aje,setupContext:cje,resetContext:lje,RequestAbortedError:rD,ALPN_HTTP2:Z$,ALPN_HTTP2C:ez,ALPN_HTTP1_1:m3,ALPN_HTTP1_0:tz}});var Vme=V((WQt,Hme)=>{"use strict";d();var uje=u3()("helix-fetch:core"),{request:fje,setupContext:dje,resetContext:mje,RequestAbortedError:hje,ALPN_HTTP2:pje,ALPN_HTTP2C:gje,ALPN_HTTP1_1:Aje,ALPN_HTTP1_0:yje}=Gme(),rz=class e{static{o(this,"RequestContext")}constructor(t){this.options={...t||{}},dje(this)}api(){return{request:o(async(t,r)=>this.request(t,r),"request"),context:o((t={})=>new e(t).api(),"context"),setCA:o(t=>this.setCA(t),"setCA"),reset:o(async()=>this.reset(),"reset"),RequestAbortedError:hje,ALPN_HTTP2:pje,ALPN_HTTP2C:gje,ALPN_HTTP1_1:Aje,ALPN_HTTP1_0:yje}}async request(t,r){return fje(this,t,r)}setCA(t){this.options.ca=t}async reset(){return uje("resetting context"),mje(this)}};Hme.exports=new rz().api()});var Kme=V((VQt,Yme)=>{"use strict";d();var{EventEmitter:Cje}=require("events"),{Readable:T7}=require("stream"),nz=u3()("helix-fetch"),Eje=O$(),{Body:xje}=zR(),{Headers:az}=mb(),{Request:h3}=pme(),{Response:oz}=j$(),{FetchBaseError:bje,FetchError:w7,AbortError:iD}=W$(),{AbortController:vje,AbortSignal:Ije,TimeoutSignal:Tje}=G$(),wje=bme(),{cacheableResponse:Sje}=Tme(),{sizeof:_je}=Hg(),{isFormData:kje}=v7(),{context:Bje,RequestAbortedError:Rje}=Vme(),jme=["GET","HEAD"],Dje=500,Pje=100*1024*1024,iz="push",$me=o(async(e,t,r)=>{let{request:n}=e.context,i=t instanceof h3&&typeof r>"u"?t:new h3(t,r),{method:s,body:a,signal:l,compress:c,decode:u,follow:f,redirect:m,init:{body:h}}=i,p;if(l&&l.aborted){let P=new iD("The operation was aborted.");throw i.init.body instanceof T7&&i.init.body.destroy(P),P}try{p=await n(i.url,{...r,method:s,headers:i.headers.plain(),body:h&&!(h instanceof T7)&&!kje(h)?h:a,compress:c,decode:u,follow:f,redirect:m,signal:l})}catch(P){throw h instanceof T7&&h.destroy(P),P instanceof TypeError?P:P instanceof Rje?new iD("The operation was aborted."):new w7(P.message,"system",P)}let A=o(()=>{l.removeEventListener("abort",A);let P=new iD("The operation was aborted.");i.init.body instanceof T7&&i.init.body.destroy(P),p.readable.emit("error",P)},"abortHandler");l&&l.addEventListener("abort",A);let{statusCode:E,statusText:x,httpVersion:b,headers:v,readable:S,decoded:B}=p;if([301,302,303,307,308].includes(E)){let{location:P}=v,F=P==null?null:new URL(P,i.url);switch(i.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",A),new w7(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(F===null)break;if(i.counter>=i.follow)throw l&&l.removeEventListener("abort",A),new w7(`maximum redirect reached at: ${i.url}`,"max-redirect");let G={headers:new az(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(E!==303&&i.body&&i.init.body instanceof T7)throw l&&l.removeEventListener("abort",A),new w7("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(E===303||(E===301||E===302)&&i.method==="POST")&&(G.method="GET",G.body=void 0,G.headers.delete("content-length")),l&&l.removeEventListener("abort",A),$me(e,new h3(F,G))}default:}}return l&&(S.once("end",()=>{l.removeEventListener("abort",A)}),S.once("error",()=>{l.removeEventListener("abort",A)})),new oz(S,{url:i.url,status:E,statusText:x,headers:v,httpVersion:b,decoded:B,counter:i.counter})},"fetch"),zme=o(async(e,t,r)=>{if(e.options.maxCacheSize===0||!jme.includes(t.method))return r;let n=new wje(t,r,{shared:!1});if(n.storable()){let i=await Sje(r);return e.cache.set(t.url,{policy:n,response:i},n.timeToLive()),i}else return r},"cacheResponse"),Fje=o(async(e,t,r)=>{let n=new h3(t,r);if(e.options.maxCacheSize!==0&&jme.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:l}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){l.headers=new az(a.responseHeaders(l));let c=l.clone();return c.fromCache=!0,c}}let s=await $me(e,n);return n.cache!=="no-store"?zme(e,n,s):s},"cachingFetch"),Nje=o((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>r.searchParams.append(n,s)):r.searchParams.append(n,i)}),r.href},"createUrl"),Lje=o(e=>new Tje(e),"timeoutSignal"),sz=class e{static{o(this,"FetchContext")}constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:Pje,i=Dje;n===0&&(n=1,i=1);let s=o(({response:l},c)=>_je(l),"sizeCalculation");this.cache=new Eje({max:i,maxSize:n,sizeCalculation:s}),this.eventEmitter=new Cje,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(m=>m.startsWith(":")).forEach(m=>delete f[m]),this.pushPromiseHandler(l,f,u)},this.options.h2.pushHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(b=>b.startsWith(":")).forEach(b=>delete f[b]);let{statusCode:m,statusText:h,httpVersion:p,headers:A,readable:E,decoded:x}=u;this.pushHandler(l,f,new oz(E,{url:l,status:m,statusText:h,headers:A,httpVersion:p,decoded:x}))}),this.context=Bje(this.options)}api(){return{fetch:o(async(t,r)=>this.fetch(t,r),"fetch"),Body:xje,Headers:az,Request:h3,Response:oz,AbortController:vje,AbortSignal:Ije,FetchBaseError:bje,FetchError:w7,AbortError:iD,context:o((t={})=>new e(t).api(),"context"),setCA:o(t=>this.setCA(t),"setCA"),noCache:o((t={})=>new e({...t,maxCacheSize:0}).api(),"noCache"),h1:o((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1"),keepAlive:o((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAlive"),h1NoCache:o((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1NoCache"),keepAliveNoCache:o((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAliveNoCache"),reset:o(async()=>this.context.reset(),"reset"),onPush:o(t=>this.onPush(t),"onPush"),offPush:o(t=>this.offPush(t),"offPush"),createUrl:Nje,timeoutSignal:Lje,clearCache:o(()=>this.clearCache(),"clearCache"),cacheStats:o(()=>this.cacheStats(),"cacheStats"),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return Fje(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(iz,t)}offPush(t){return this.eventEmitter.off(iz,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){nz(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let i=new h3(t,{headers:r}),{policy:s}=this.cache.get(t)||{};s&&s.satisfiesWithoutRevalidation(i)&&(nz(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){nz(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await zme(this,new h3(t,{headers:r}),n);this.eventEmitter.emit(iz,t,i)}};Yme.exports=new sz().api()});var Xme=V((zQt,Jme)=>{"use strict";d();Jme.exports=Kme()});var Ub=V(d0=>{"use strict";d();Object.defineProperty(d0,"__esModule",{value:!0});d0.stringArray=d0.array=d0.func=d0.error=d0.number=d0.string=d0.boolean=void 0;function _Je(e){return e===!0||e===!1}o(_Je,"boolean");d0.boolean=_Je;function Age(e){return typeof e=="string"||e instanceof String}o(Age,"string");d0.string=Age;function kJe(e){return typeof e=="number"||e instanceof Number}o(kJe,"number");d0.number=kJe;function BJe(e){return e instanceof Error}o(BJe,"error");d0.error=BJe;function RJe(e){return typeof e=="function"}o(RJe,"func");d0.func=RJe;function yge(e){return Array.isArray(e)}o(yge,"array");d0.array=yge;function DJe(e){return yge(e)&&e.every(t=>Age(t))}o(DJe,"stringArray");d0.stringArray=DJe});var gY=V(zr=>{"use strict";d();Object.defineProperty(zr,"__esModule",{value:!0});zr.Message=zr.NotificationType9=zr.NotificationType8=zr.NotificationType7=zr.NotificationType6=zr.NotificationType5=zr.NotificationType4=zr.NotificationType3=zr.NotificationType2=zr.NotificationType1=zr.NotificationType0=zr.NotificationType=zr.RequestType9=zr.RequestType8=zr.RequestType7=zr.RequestType6=zr.RequestType5=zr.RequestType4=zr.RequestType3=zr.RequestType2=zr.RequestType1=zr.RequestType=zr.RequestType0=zr.AbstractMessageSignature=zr.ParameterStructures=zr.ResponseError=zr.ErrorCodes=void 0;var T3=Ub(),jz;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(jz||(zr.ErrorCodes=jz={}));var $z=class e extends Error{static{o(this,"ResponseError")}constructor(t,r,n){super(r),this.code=T3.number(t)?t:jz.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};zr.ResponseError=$z;var Ic=class e{static{o(this,"ParameterStructures")}constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};zr.ParameterStructures=Ic;Ic.auto=new Ic("auto");Ic.byPosition=new Ic("byPosition");Ic.byName=new Ic("byName");var Jo=class{static{o(this,"AbstractMessageSignature")}constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return Ic.auto}};zr.AbstractMessageSignature=Jo;var zz=class extends Jo{static{o(this,"RequestType0")}constructor(t){super(t,0)}};zr.RequestType0=zz;var Yz=class extends Jo{static{o(this,"RequestType")}constructor(t,r=Ic.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};zr.RequestType=Yz;var Kz=class extends Jo{static{o(this,"RequestType1")}constructor(t,r=Ic.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};zr.RequestType1=Kz;var Jz=class extends Jo{static{o(this,"RequestType2")}constructor(t){super(t,2)}};zr.RequestType2=Jz;var Xz=class extends Jo{static{o(this,"RequestType3")}constructor(t){super(t,3)}};zr.RequestType3=Xz;var Zz=class extends Jo{static{o(this,"RequestType4")}constructor(t){super(t,4)}};zr.RequestType4=Zz;var eY=class extends Jo{static{o(this,"RequestType5")}constructor(t){super(t,5)}};zr.RequestType5=eY;var tY=class extends Jo{static{o(this,"RequestType6")}constructor(t){super(t,6)}};zr.RequestType6=tY;var rY=class extends Jo{static{o(this,"RequestType7")}constructor(t){super(t,7)}};zr.RequestType7=rY;var nY=class extends Jo{static{o(this,"RequestType8")}constructor(t){super(t,8)}};zr.RequestType8=nY;var iY=class extends Jo{static{o(this,"RequestType9")}constructor(t){super(t,9)}};zr.RequestType9=iY;var oY=class extends Jo{static{o(this,"NotificationType")}constructor(t,r=Ic.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};zr.NotificationType=oY;var sY=class extends Jo{static{o(this,"NotificationType0")}constructor(t){super(t,0)}};zr.NotificationType0=sY;var aY=class extends Jo{static{o(this,"NotificationType1")}constructor(t,r=Ic.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};zr.NotificationType1=aY;var lY=class extends Jo{static{o(this,"NotificationType2")}constructor(t){super(t,2)}};zr.NotificationType2=lY;var cY=class extends Jo{static{o(this,"NotificationType3")}constructor(t){super(t,3)}};zr.NotificationType3=cY;var uY=class extends Jo{static{o(this,"NotificationType4")}constructor(t){super(t,4)}};zr.NotificationType4=uY;var fY=class extends Jo{static{o(this,"NotificationType5")}constructor(t){super(t,5)}};zr.NotificationType5=fY;var dY=class extends Jo{static{o(this,"NotificationType6")}constructor(t){super(t,6)}};zr.NotificationType6=dY;var mY=class extends Jo{static{o(this,"NotificationType7")}constructor(t){super(t,7)}};zr.NotificationType7=mY;var hY=class extends Jo{static{o(this,"NotificationType8")}constructor(t){super(t,8)}};zr.NotificationType8=hY;var pY=class extends Jo{static{o(this,"NotificationType9")}constructor(t){super(t,9)}};zr.NotificationType9=pY;var Cge;(function(e){function t(i){let s=i;return s&&T3.string(s.method)&&(T3.string(s.id)||T3.number(s.id))}o(t,"isRequest"),e.isRequest=t;function r(i){let s=i;return s&&T3.string(s.method)&&i.id===void 0}o(r,"isNotification"),e.isNotification=r;function n(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(T3.string(s.id)||T3.number(s.id)||s.id===null)}o(n,"isResponse"),e.isResponse=n})(Cge||(zr.Message=Cge={}))});var yY=V(n5=>{"use strict";d();var Ege;Object.defineProperty(n5,"__esModule",{value:!0});n5.LRUCache=n5.LinkedMap=n5.Touch=void 0;var m0;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(m0||(n5.Touch=m0={}));var PD=class{static{o(this,"LinkedMap")}constructor(){this[Ege]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=m0.None){let n=this._map.get(t);if(n)return r!==m0.None&&this.touch(n,r),n.value}set(t,r,n=m0.None){let i=this._map.get(t);if(i)i.value=r,n!==m0.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case m0.None:this.addItemLast(i);break;case m0.First:this.addItemFirst(i);break;case m0.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(Ege=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==m0.First&&r!==m0.Last)){if(r===m0.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===m0.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};n5.LinkedMap=PD;var AY=class extends PD{static{o(this,"LRUCache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=m0.AsNew){return super.get(t,r)}peek(t){return super.get(t,m0.None)}set(t,r){return super.set(t,r,m0.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};n5.LRUCache=AY});var bge=V(FD=>{"use strict";d();Object.defineProperty(FD,"__esModule",{value:!0});FD.Disposable=void 0;var xge;(function(e){function t(r){return{dispose:r}}o(t,"create"),e.create=t})(xge||(FD.Disposable=xge={}))});var i5=V(xY=>{"use strict";d();Object.defineProperty(xY,"__esModule",{value:!0});var CY;function EY(){if(CY===void 0)throw new Error("No runtime abstraction layer installed");return CY}o(EY,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");CY=r}o(t,"install"),e.install=t})(EY||(EY={}));xY.default=EY});var Wb=V(qb=>{"use strict";d();Object.defineProperty(qb,"__esModule",{value:!0});qb.Emitter=qb.Event=void 0;var PJe=i5(),vge;(function(e){let t={dispose(){}};e.None=function(){return t}})(vge||(qb.Event=vge={}));var bY=class{static{o(this,"CallbackList")}add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:o(()=>this.remove(t,r),"dispose")})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=n.length;s<a;s++)try{r.push(n[s].apply(i[s],t))}catch(l){(0,PJe.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},ND=class e{static{o(this,"Emitter")}constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new bY),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};qb.Emitter=ND;ND._noop=function(){}});var MD=V(Gb=>{"use strict";d();Object.defineProperty(Gb,"__esModule",{value:!0});Gb.CancellationTokenSource=Gb.CancellationToken=void 0;var FJe=i5(),NJe=Ub(),vY=Wb(),LD;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:vY.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:vY.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||NJe.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}o(t,"is"),e.is=t})(LD||(Gb.CancellationToken=LD={}));var LJe=Object.freeze(function(e,t){let r=(0,FJe.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),QD=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?LJe:(this._emitter||(this._emitter=new vY.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},IY=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new QD),this._token}cancel(){this._token?this._token.cancel():this._token=LD.Cancelled}dispose(){this._token?this._token instanceof QD&&this._token.dispose():this._token=LD.None}};Gb.CancellationTokenSource=IY});var Ige=V(Hb=>{"use strict";d();Object.defineProperty(Hb,"__esModule",{value:!0});Hb.SharedArrayReceiverStrategy=Hb.SharedArraySenderStrategy=void 0;var QJe=MD(),j7;(function(e){e.Continue=0,e.Cancelled=1})(j7||(j7={}));var TY=class{static{o(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=j7.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,j7.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};Hb.SharedArraySenderStrategy=TY;var wY=class{static{o(this,"SharedArrayBufferCancellationToken")}constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===j7.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},SY=class{static{o(this,"SharedArrayBufferCancellationTokenSource")}constructor(t){this.token=new wY(t)}cancel(){}dispose(){}},_Y=class{static{o(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new QJe.CancellationTokenSource:new SY(r)}};Hb.SharedArrayReceiverStrategy=_Y});var BY=V(OD=>{"use strict";d();Object.defineProperty(OD,"__esModule",{value:!0});OD.Semaphore=void 0;var MJe=i5(),kY=class{static{o(this,"Semaphore")}constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,MJe.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};OD.Semaphore=kY});var wge=V(o5=>{"use strict";d();Object.defineProperty(o5,"__esModule",{value:!0});o5.ReadableStreamMessageReader=o5.AbstractMessageReader=o5.MessageReader=void 0;var DY=i5(),Vb=Ub(),RY=Wb(),OJe=BY(),Tge;(function(e){function t(r){let n=r;return n&&Vb.func(n.listen)&&Vb.func(n.dispose)&&Vb.func(n.onError)&&Vb.func(n.onClose)&&Vb.func(n.onPartialMessage)}o(t,"is"),e.is=t})(Tge||(o5.MessageReader=Tge={}));var UD=class{static{o(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new RY.Emitter,this.closeEmitter=new RY.Emitter,this.partialMessageEmitter=new RY.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Vb.string(t.message)?t.message:"unknown"}`)}};o5.AbstractMessageReader=UD;var PY;(function(e){function t(r){let n,i,s,a=new Map,l,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,a.set(s.name,s)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)a.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,c.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return l===void 0&&(l=(0,DY.default)().applicationJson.decoder,c.set(l.name,l)),{charset:n,contentDecoder:s,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:c}}o(t,"fromOptions"),e.fromOptions=t})(PY||(PY={}));var FY=class extends UD{static{o(this,"ReadableStreamMessageReader")}constructor(t,r){super(),this.readable=t,this.options=PY.fromOptions(r),this.buffer=(0,DY.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new OJe.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,DY.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};o5.ReadableStreamMessageReader=FY});var Rge=V(s5=>{"use strict";d();Object.defineProperty(s5,"__esModule",{value:!0});s5.WriteableStreamMessageWriter=s5.AbstractMessageWriter=s5.MessageWriter=void 0;var Sge=i5(),$7=Ub(),UJe=BY(),_ge=Wb(),qJe="Content-Length: ",kge=`\r
`,Bge;(function(e){function t(r){let n=r;return n&&$7.func(n.dispose)&&$7.func(n.onClose)&&$7.func(n.onError)&&$7.func(n.write)}o(t,"is"),e.is=t})(Bge||(s5.MessageWriter=Bge={}));var qD=class{static{o(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new _ge.Emitter,this.closeEmitter=new _ge.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${$7.string(t.message)?t.message:"unknown"}`)}};s5.AbstractMessageWriter=qD;var NY;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,Sge.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,Sge.default)().applicationJson.encoder}}o(t,"fromOptions"),e.fromOptions=t})(NY||(NY={}));var LY=class extends qD{static{o(this,"WriteableStreamMessageWriter")}constructor(t,r){super(),this.writable=t,this.options=NY.fromOptions(r),this.errorCount=0,this.writeSemaphore=new UJe.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(qJe,n.byteLength.toString(),kge),i.push(kge),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};s5.WriteableStreamMessageWriter=LY});var Dge=V(WD=>{"use strict";d();Object.defineProperty(WD,"__esModule",{value:!0});WD.AbstractMessageBuffer=void 0;var WJe=13,GJe=10,HJe=`\r
`,QY=class{static{o(this,"AbstractMessageBuffer")}constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,s=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case WJe:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case GJe:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}s+=u.byteLength,n++}if(r!==4)return;let a=this._read(s+i),l=new Map,c=this.toString(a,"ascii").split(HJe);if(c.length<2)return l;for(let u=0;u<c.length-2;u++){let f=c[u],m=f.indexOf(":");if(m===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let h=f.substr(0,m),p=f.substr(m+1).trim();l.set(t?h.toLowerCase():h,p)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(s)}if(this._chunks[0].byteLength>t){let s=this._chunks[0],a=this.asNative(s,t);return this._chunks[0]=s.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let s=this._chunks[i];if(s.byteLength>t){let a=s.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=s.slice(t),this._totalLength-=t,t-=t}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,t-=s.byteLength}return r}};WD.AbstractMessageBuffer=QY});var Qge=V(On=>{"use strict";d();Object.defineProperty(On,"__esModule",{value:!0});On.createMessageConnection=On.ConnectionOptions=On.MessageStrategy=On.CancellationStrategy=On.CancellationSenderStrategy=On.CancellationReceiverStrategy=On.RequestCancellationReceiverStrategy=On.IdCancellationReceiverStrategy=On.ConnectionStrategy=On.ConnectionError=On.ConnectionErrors=On.LogTraceNotification=On.SetTraceNotification=On.TraceFormat=On.TraceValues=On.Trace=On.NullLogger=On.ProgressType=On.ProgressToken=void 0;var Pge=i5(),Ps=Ub(),Cn=gY(),Fge=yY(),z7=Wb(),MY=MD(),J7;(function(e){e.type=new Cn.NotificationType("$/cancelRequest")})(J7||(J7={}));var OY;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}o(t,"is"),e.is=t})(OY||(On.ProgressToken=OY={}));var Y7;(function(e){e.type=new Cn.NotificationType("$/progress")})(Y7||(Y7={}));var UY=class{static{o(this,"ProgressType")}constructor(){}};On.ProgressType=UY;var qY;(function(e){function t(r){return Ps.func(r)}o(t,"is"),e.is=t})(qY||(qY={}));On.NullLogger=Object.freeze({error:o(()=>{},"error"),warn:o(()=>{},"warn"),info:o(()=>{},"info"),log:o(()=>{},"log")});var io;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(io||(On.Trace=io={}));var Nge;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(Nge||(On.TraceValues=Nge={}));(function(e){function t(n){if(!Ps.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}o(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}o(r,"toString"),e.toString=r})(io||(On.Trace=io={}));var bu;(function(e){e.Text="text",e.JSON="json"})(bu||(On.TraceFormat=bu={}));(function(e){function t(r){return Ps.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}o(t,"fromString"),e.fromString=t})(bu||(On.TraceFormat=bu={}));var WY;(function(e){e.type=new Cn.NotificationType("$/setTrace")})(WY||(On.SetTraceNotification=WY={}));var GD;(function(e){e.type=new Cn.NotificationType("$/logTrace")})(GD||(On.LogTraceNotification=GD={}));var K7;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(K7||(On.ConnectionErrors=K7={}));var jb=class e extends Error{static{o(this,"ConnectionError")}constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};On.ConnectionError=jb;var GY;(function(e){function t(r){let n=r;return n&&Ps.func(n.cancelUndispatched)}o(t,"is"),e.is=t})(GY||(On.ConnectionStrategy=GY={}));var HD;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Ps.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Ps.func(n.dispose))}o(t,"is"),e.is=t})(HD||(On.IdCancellationReceiverStrategy=HD={}));var HY;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Ps.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Ps.func(n.dispose))}o(t,"is"),e.is=t})(HY||(On.RequestCancellationReceiverStrategy=HY={}));var VD;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new MY.CancellationTokenSource}});function t(r){return HD.is(r)||HY.is(r)}o(t,"is"),e.is=t})(VD||(On.CancellationReceiverStrategy=VD={}));var jD;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(J7.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Ps.func(n.sendCancellation)&&Ps.func(n.cleanup)}o(t,"is"),e.is=t})(jD||(On.CancellationSenderStrategy=jD={}));var $D;(function(e){e.Message=Object.freeze({receiver:VD.Message,sender:jD.Message});function t(r){let n=r;return n&&VD.is(n.receiver)&&jD.is(n.sender)}o(t,"is"),e.is=t})($D||(On.CancellationStrategy=$D={}));var zD;(function(e){function t(r){let n=r;return n&&Ps.func(n.handleMessage)}o(t,"is"),e.is=t})(zD||(On.MessageStrategy=zD={}));var Lge;(function(e){function t(r){let n=r;return n&&($D.is(n.cancellationStrategy)||GY.is(n.connectionStrategy)||zD.is(n.messageStrategy))}o(t,"is"),e.is=t})(Lge||(On.ConnectionOptions=Lge={}));var Em;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(Em||(Em={}));function VJe(e,t,r,n){let i=r!==void 0?r:On.NullLogger,s=0,a=0,l=0,c="2.0",u,f=new Map,m,h=new Map,p=new Map,A,E=new Fge.LinkedMap,x=new Map,b=new Set,v=new Map,S=io.Off,B=bu.Text,P,F=Em.New,G=new z7.Emitter,re=new z7.Emitter,pe=new z7.Emitter,Z=new z7.Emitter,W=new z7.Emitter,q=n&&n.cancellationStrategy?n.cancellationStrategy:$D.Message;function se(ge){if(ge===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+ge.toString()}o(se,"createRequestQueueKey");function ne(ge){return ge===null?"res-unknown-"+(++l).toString():"res-"+ge.toString()}o(ne,"createResponseQueueKey");function H(){return"not-"+(++a).toString()}o(H,"createNotificationQueueKey");function O(ge,Le){Cn.Message.isRequest(Le)?ge.set(se(Le.id),Le):Cn.Message.isResponse(Le)?ge.set(ne(Le.id),Le):ge.set(H(),Le)}o(O,"addMessageToQueue");function j(ge){}o(j,"cancelUndispatched");function J(){return F===Em.Listening}o(J,"isListening");function le(){return F===Em.Closed}o(le,"isClosed");function ee(){return F===Em.Disposed}o(ee,"isDisposed");function ae(){(F===Em.New||F===Em.Listening)&&(F=Em.Closed,re.fire(void 0))}o(ae,"closeHandler");function ce(ge){G.fire([ge,void 0,void 0])}o(ce,"readErrorHandler");function Re(ge){G.fire(ge)}o(Re,"writeErrorHandler"),e.onClose(ae),e.onError(ce),t.onClose(ae),t.onError(Re);function ve(){A||E.size===0||(A=(0,Pge.default)().timer.setImmediate(()=>{A=void 0,ke()}))}o(ve,"triggerMessageQueue");function Ue(ge){Cn.Message.isRequest(ge)?ft(ge):Cn.Message.isNotification(ge)?at(ge):Cn.Message.isResponse(ge)?ot(ge):ie(ge)}o(Ue,"handleMessage");function ke(){if(E.size===0)return;let ge=E.shift();try{let Le=n?.messageStrategy;zD.is(Le)?Le.handleMessage(ge,Ue):Ue(ge)}finally{ve()}}o(ke,"processMessageQueue");let Je=o(ge=>{try{if(Cn.Message.isNotification(ge)&&ge.method===J7.type.method){let Le=ge.params.id,Ke=se(Le),et=E.get(Ke);if(Cn.Message.isRequest(et)){let xt=n?.connectionStrategy,Nt=xt&&xt.cancelUndispatched?xt.cancelUndispatched(et,j):void 0;if(Nt&&(Nt.error!==void 0||Nt.result!==void 0)){E.delete(Ke),v.delete(Le),Nt.id=et.id,z(Nt,ge.method,Date.now()),t.write(Nt).catch(()=>i.error("Sending response for canceled message failed."));return}}let St=v.get(Le);if(St!==void 0){St.cancel(),Ne(ge);return}else b.add(Le)}O(E,ge)}finally{ve()}},"callback");function ft(ge){if(ee())return;function Le(Tt,_t,wt){let Ot={jsonrpc:c,id:ge.id};Tt instanceof Cn.ResponseError?Ot.error=Tt.toJson():Ot.result=Tt===void 0?null:Tt,z(Ot,_t,wt),t.write(Ot).catch(()=>i.error("Sending response failed."))}o(Le,"reply");function Ke(Tt,_t,wt){let Ot={jsonrpc:c,id:ge.id,error:Tt.toJson()};z(Ot,_t,wt),t.write(Ot).catch(()=>i.error("Sending response failed."))}o(Ke,"replyError");function et(Tt,_t,wt){Tt===void 0&&(Tt=null);let Ot={jsonrpc:c,id:ge.id,result:Tt};z(Ot,_t,wt),t.write(Ot).catch(()=>i.error("Sending response failed."))}o(et,"replySuccess"),te(ge);let St=f.get(ge.method),xt,Nt;St&&(xt=St.type,Nt=St.handler);let Qt=Date.now();if(Nt||u){let Tt=ge.id??String(Date.now()),_t=HD.is(q.receiver)?q.receiver.createCancellationTokenSource(Tt):q.receiver.createCancellationTokenSource(ge);ge.id!==null&&b.has(ge.id)&&_t.cancel(),ge.id!==null&&v.set(Tt,_t);try{let wt;if(Nt)if(ge.params===void 0){if(xt!==void 0&&xt.numberOfParams!==0){Ke(new Cn.ResponseError(Cn.ErrorCodes.InvalidParams,`Request ${ge.method} defines ${xt.numberOfParams} params but received none.`),ge.method,Qt);return}wt=Nt(_t.token)}else if(Array.isArray(ge.params)){if(xt!==void 0&&xt.parameterStructures===Cn.ParameterStructures.byName){Ke(new Cn.ResponseError(Cn.ErrorCodes.InvalidParams,`Request ${ge.method} defines parameters by name but received parameters by position`),ge.method,Qt);return}wt=Nt(...ge.params,_t.token)}else{if(xt!==void 0&&xt.parameterStructures===Cn.ParameterStructures.byPosition){Ke(new Cn.ResponseError(Cn.ErrorCodes.InvalidParams,`Request ${ge.method} defines parameters by position but received parameters by name`),ge.method,Qt);return}wt=Nt(ge.params,_t.token)}else u&&(wt=u(ge.method,ge.params,_t.token));let Ot=wt;wt?Ot.then?Ot.then(Wt=>{v.delete(Tt),Le(Wt,ge.method,Qt)},Wt=>{v.delete(Tt),Wt instanceof Cn.ResponseError?Ke(Wt,ge.method,Qt):Wt&&Ps.string(Wt.message)?Ke(new Cn.ResponseError(Cn.ErrorCodes.InternalError,`Request ${ge.method} failed with message: ${Wt.message}`),ge.method,Qt):Ke(new Cn.ResponseError(Cn.ErrorCodes.InternalError,`Request ${ge.method} failed unexpectedly without providing any details.`),ge.method,Qt)}):(v.delete(Tt),Le(wt,ge.method,Qt)):(v.delete(Tt),et(wt,ge.method,Qt))}catch(wt){v.delete(Tt),wt instanceof Cn.ResponseError?Le(wt,ge.method,Qt):wt&&Ps.string(wt.message)?Ke(new Cn.ResponseError(Cn.ErrorCodes.InternalError,`Request ${ge.method} failed with message: ${wt.message}`),ge.method,Qt):Ke(new Cn.ResponseError(Cn.ErrorCodes.InternalError,`Request ${ge.method} failed unexpectedly without providing any details.`),ge.method,Qt)}}else Ke(new Cn.ResponseError(Cn.ErrorCodes.MethodNotFound,`Unhandled method ${ge.method}`),ge.method,Qt)}o(ft,"handleRequest");function ot(ge){if(!ee())if(ge.id===null)ge.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(ge.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Le=ge.id,Ke=x.get(Le);if(Se(ge,Ke),Ke!==void 0){x.delete(Le);try{if(ge.error){let et=ge.error;Ke.reject(new Cn.ResponseError(et.code,et.message,et.data))}else if(ge.result!==void 0)Ke.resolve(ge.result);else throw new Error("Should never happen.")}catch(et){et.message?i.error(`Response handler '${Ke.method}' failed with message: ${et.message}`):i.error(`Response handler '${Ke.method}' failed unexpectedly.`)}}}}o(ot,"handleResponse");function at(ge){if(ee())return;let Le,Ke;if(ge.method===J7.type.method){let et=ge.params.id;b.delete(et),Ne(ge);return}else{let et=h.get(ge.method);et&&(Ke=et.handler,Le=et.type)}if(Ke||m)try{if(Ne(ge),Ke)if(ge.params===void 0)Le!==void 0&&Le.numberOfParams!==0&&Le.parameterStructures!==Cn.ParameterStructures.byName&&i.error(`Notification ${ge.method} defines ${Le.numberOfParams} params but received none.`),Ke();else if(Array.isArray(ge.params)){let et=ge.params;ge.method===Y7.type.method&&et.length===2&&OY.is(et[0])?Ke({token:et[0],value:et[1]}):(Le!==void 0&&(Le.parameterStructures===Cn.ParameterStructures.byName&&i.error(`Notification ${ge.method} defines parameters by name but received parameters by position`),Le.numberOfParams!==ge.params.length&&i.error(`Notification ${ge.method} defines ${Le.numberOfParams} params but received ${et.length} arguments`)),Ke(...et))}else Le!==void 0&&Le.parameterStructures===Cn.ParameterStructures.byPosition&&i.error(`Notification ${ge.method} defines parameters by position but received parameters by name`),Ke(ge.params);else m&&m(ge.method,ge.params)}catch(et){et.message?i.error(`Notification handler '${ge.method}' failed with message: ${et.message}`):i.error(`Notification handler '${ge.method}' failed unexpectedly.`)}else pe.fire(ge)}o(at,"handleNotification");function ie(ge){if(!ge){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(ge,null,4)}`);let Le=ge;if(Ps.string(Le.id)||Ps.number(Le.id)){let Ke=Le.id,et=x.get(Ke);et&&et.reject(new Error("The received response has neither a result nor an error property."))}}o(ie,"handleInvalidMessage");function Pe(ge){if(ge!=null)switch(S){case io.Verbose:return JSON.stringify(ge,null,4);case io.Compact:return JSON.stringify(ge);default:return}}o(Pe,"stringifyTrace");function Ae(ge){if(!(S===io.Off||!P))if(B===bu.Text){let Le;(S===io.Verbose||S===io.Compact)&&ge.params&&(Le=`Params: ${Pe(ge.params)}

`),P.log(`Sending request '${ge.method} - (${ge.id})'.`,Le)}else Ce("send-request",ge)}o(Ae,"traceSendingRequest");function We(ge){if(!(S===io.Off||!P))if(B===bu.Text){let Le;(S===io.Verbose||S===io.Compact)&&(ge.params?Le=`Params: ${Pe(ge.params)}

`:Le=`No parameters provided.

`),P.log(`Sending notification '${ge.method}'.`,Le)}else Ce("send-notification",ge)}o(We,"traceSendingNotification");function z(ge,Le,Ke){if(!(S===io.Off||!P))if(B===bu.Text){let et;(S===io.Verbose||S===io.Compact)&&(ge.error&&ge.error.data?et=`Error data: ${Pe(ge.error.data)}

`:ge.result?et=`Result: ${Pe(ge.result)}

`:ge.error===void 0&&(et=`No result returned.

`)),P.log(`Sending response '${Le} - (${ge.id})'. Processing request took ${Date.now()-Ke}ms`,et)}else Ce("send-response",ge)}o(z,"traceSendingResponse");function te(ge){if(!(S===io.Off||!P))if(B===bu.Text){let Le;(S===io.Verbose||S===io.Compact)&&ge.params&&(Le=`Params: ${Pe(ge.params)}

`),P.log(`Received request '${ge.method} - (${ge.id})'.`,Le)}else Ce("receive-request",ge)}o(te,"traceReceivedRequest");function Ne(ge){if(!(S===io.Off||!P||ge.method===GD.type.method))if(B===bu.Text){let Le;(S===io.Verbose||S===io.Compact)&&(ge.params?Le=`Params: ${Pe(ge.params)}

`:Le=`No parameters provided.

`),P.log(`Received notification '${ge.method}'.`,Le)}else Ce("receive-notification",ge)}o(Ne,"traceReceivedNotification");function Se(ge,Le){if(!(S===io.Off||!P))if(B===bu.Text){let Ke;if((S===io.Verbose||S===io.Compact)&&(ge.error&&ge.error.data?Ke=`Error data: ${Pe(ge.error.data)}

`:ge.result?Ke=`Result: ${Pe(ge.result)}

`:ge.error===void 0&&(Ke=`No result returned.

`)),Le){let et=ge.error?` Request failed: ${ge.error.message} (${ge.error.code}).`:"";P.log(`Received response '${Le.method} - (${ge.id})' in ${Date.now()-Le.timerStart}ms.${et}`,Ke)}else P.log(`Received response ${ge.id} without active response promise.`,Ke)}else Ce("receive-response",ge)}o(Se,"traceReceivedResponse");function Ce(ge,Le){if(!P||S===io.Off)return;let Ke={isLSPMessage:!0,type:ge,message:Le,timestamp:Date.now()};P.log(Ke)}o(Ce,"logLSPMessage");function Oe(){if(le())throw new jb(K7.Closed,"Connection is closed.");if(ee())throw new jb(K7.Disposed,"Connection is disposed.")}o(Oe,"throwIfClosedOrDisposed");function Ve(){if(J())throw new jb(K7.AlreadyListening,"Connection is already listening")}o(Ve,"throwIfListening");function Ze(){if(!J())throw new Error("Call listen() first.")}o(Ze,"throwIfNotListening");function yt(ge){return ge===void 0?null:ge}o(yt,"undefinedToNull");function Rt(ge){if(ge!==null)return ge}o(Rt,"nullToUndefined");function At(ge){return ge!=null&&!Array.isArray(ge)&&typeof ge=="object"}o(At,"isNamedParam");function Ht(ge,Le){switch(ge){case Cn.ParameterStructures.auto:return At(Le)?Rt(Le):[yt(Le)];case Cn.ParameterStructures.byName:if(!At(Le))throw new Error("Received parameters by name but param is not an object literal.");return Rt(Le);case Cn.ParameterStructures.byPosition:return[yt(Le)];default:throw new Error(`Unknown parameter structure ${ge.toString()}`)}}o(Ht,"computeSingleParam");function $t(ge,Le){let Ke,et=ge.numberOfParams;switch(et){case 0:Ke=void 0;break;case 1:Ke=Ht(ge.parameterStructures,Le[0]);break;default:Ke=[];for(let St=0;St<Le.length&&St<et;St++)Ke.push(yt(Le[St]));if(Le.length<et)for(let St=Le.length;St<et;St++)Ke.push(null);break}return Ke}o($t,"computeMessageParams");let ir={sendNotification:o((ge,...Le)=>{Oe();let Ke,et;if(Ps.string(ge)){Ke=ge;let xt=Le[0],Nt=0,Qt=Cn.ParameterStructures.auto;Cn.ParameterStructures.is(xt)&&(Nt=1,Qt=xt);let Tt=Le.length,_t=Tt-Nt;switch(_t){case 0:et=void 0;break;case 1:et=Ht(Qt,Le[Nt]);break;default:if(Qt===Cn.ParameterStructures.byName)throw new Error(`Received ${_t} parameters for 'by Name' notification parameter structure.`);et=Le.slice(Nt,Tt).map(wt=>yt(wt));break}}else{let xt=Le;Ke=ge.method,et=$t(ge,xt)}let St={jsonrpc:c,method:Ke,params:et};return We(St),t.write(St).catch(xt=>{throw i.error("Sending notification failed."),xt})},"sendNotification"),onNotification:o((ge,Le)=>{Oe();let Ke;return Ps.func(ge)?m=ge:Le&&(Ps.string(ge)?(Ke=ge,h.set(ge,{type:void 0,handler:Le})):(Ke=ge.method,h.set(ge.method,{type:ge,handler:Le}))),{dispose:o(()=>{Ke!==void 0?h.delete(Ke):m=void 0},"dispose")}},"onNotification"),onProgress:o((ge,Le,Ke)=>{if(p.has(Le))throw new Error(`Progress handler for token ${Le} already registered`);return p.set(Le,Ke),{dispose:o(()=>{p.delete(Le)},"dispose")}},"onProgress"),sendProgress:o((ge,Le,Ke)=>ir.sendNotification(Y7.type,{token:Le,value:Ke}),"sendProgress"),onUnhandledProgress:Z.event,sendRequest:o((ge,...Le)=>{Oe(),Ze();let Ke,et,St;if(Ps.string(ge)){Ke=ge;let Tt=Le[0],_t=Le[Le.length-1],wt=0,Ot=Cn.ParameterStructures.auto;Cn.ParameterStructures.is(Tt)&&(wt=1,Ot=Tt);let Wt=Le.length;MY.CancellationToken.is(_t)&&(Wt=Wt-1,St=_t);let zt=Wt-wt;switch(zt){case 0:et=void 0;break;case 1:et=Ht(Ot,Le[wt]);break;default:if(Ot===Cn.ParameterStructures.byName)throw new Error(`Received ${zt} parameters for 'by Name' request parameter structure.`);et=Le.slice(wt,Wt).map(lr=>yt(lr));break}}else{let Tt=Le;Ke=ge.method,et=$t(ge,Tt);let _t=ge.numberOfParams;St=MY.CancellationToken.is(Tt[_t])?Tt[_t]:void 0}let xt=s++,Nt;St&&(Nt=St.onCancellationRequested(()=>{let Tt=q.sender.sendCancellation(ir,xt);return Tt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${xt}`),Promise.resolve()):Tt.catch(()=>{i.log(`Sending cancellation messages for id ${xt} failed`)})}));let Qt={jsonrpc:c,id:xt,method:Ke,params:et};return Ae(Qt),typeof q.sender.enableCancellation=="function"&&q.sender.enableCancellation(Qt),new Promise(async(Tt,_t)=>{let wt=o(zt=>{Tt(zt),q.sender.cleanup(xt),Nt?.dispose()},"resolveWithCleanup"),Ot=o(zt=>{_t(zt),q.sender.cleanup(xt),Nt?.dispose()},"rejectWithCleanup"),Wt={method:Ke,timerStart:Date.now(),resolve:wt,reject:Ot};try{await t.write(Qt),x.set(xt,Wt)}catch(zt){throw i.error("Sending request failed."),Wt.reject(new Cn.ResponseError(Cn.ErrorCodes.MessageWriteError,zt.message?zt.message:"Unknown reason")),zt}})},"sendRequest"),onRequest:o((ge,Le)=>{Oe();let Ke=null;return qY.is(ge)?(Ke=void 0,u=ge):Ps.string(ge)?(Ke=null,Le!==void 0&&(Ke=ge,f.set(ge,{handler:Le,type:void 0}))):Le!==void 0&&(Ke=ge.method,f.set(ge.method,{type:ge,handler:Le})),{dispose:o(()=>{Ke!==null&&(Ke!==void 0?f.delete(Ke):u=void 0)},"dispose")}},"onRequest"),hasPendingResponse:o(()=>x.size>0,"hasPendingResponse"),trace:o(async(ge,Le,Ke)=>{let et=!1,St=bu.Text;Ke!==void 0&&(Ps.boolean(Ke)?et=Ke:(et=Ke.sendNotification||!1,St=Ke.traceFormat||bu.Text)),S=ge,B=St,S===io.Off?P=void 0:P=Le,et&&!le()&&!ee()&&await ir.sendNotification(WY.type,{value:io.toString(ge)})},"trace"),onError:G.event,onClose:re.event,onUnhandledNotification:pe.event,onDispose:W.event,end:o(()=>{t.end()},"end"),dispose:o(()=>{if(ee())return;F=Em.Disposed,W.fire(void 0);let ge=new Cn.ResponseError(Cn.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Le of x.values())Le.reject(ge);x=new Map,v=new Map,b=new Set,E=new Fge.LinkedMap,Ps.func(t.dispose)&&t.dispose(),Ps.func(e.dispose)&&e.dispose()},"dispose"),listen:o(()=>{Oe(),Ve(),F=Em.Listening,e.listen(Je)},"listen"),inspect:o(()=>{(0,Pge.default)().console.log("inspect")},"inspect")};return ir.onNotification(GD.type,ge=>{if(S===io.Off||!P)return;let Le=S===io.Verbose||S===io.Compact;P.log(ge.message,Le?ge.verbose:void 0)}),ir.onNotification(Y7.type,ge=>{let Le=p.get(ge.token);Le?Le(ge.value):Z.fire(ge)}),ir}o(VJe,"createMessageConnection");On.createMessageConnection=VJe});var YD=V(pt=>{"use strict";d();Object.defineProperty(pt,"__esModule",{value:!0});pt.ProgressType=pt.ProgressToken=pt.createMessageConnection=pt.NullLogger=pt.ConnectionOptions=pt.ConnectionStrategy=pt.AbstractMessageBuffer=pt.WriteableStreamMessageWriter=pt.AbstractMessageWriter=pt.MessageWriter=pt.ReadableStreamMessageReader=pt.AbstractMessageReader=pt.MessageReader=pt.SharedArrayReceiverStrategy=pt.SharedArraySenderStrategy=pt.CancellationToken=pt.CancellationTokenSource=pt.Emitter=pt.Event=pt.Disposable=pt.LRUCache=pt.Touch=pt.LinkedMap=pt.ParameterStructures=pt.NotificationType9=pt.NotificationType8=pt.NotificationType7=pt.NotificationType6=pt.NotificationType5=pt.NotificationType4=pt.NotificationType3=pt.NotificationType2=pt.NotificationType1=pt.NotificationType0=pt.NotificationType=pt.ErrorCodes=pt.ResponseError=pt.RequestType9=pt.RequestType8=pt.RequestType7=pt.RequestType6=pt.RequestType5=pt.RequestType4=pt.RequestType3=pt.RequestType2=pt.RequestType1=pt.RequestType0=pt.RequestType=pt.Message=pt.RAL=void 0;pt.MessageStrategy=pt.CancellationStrategy=pt.CancellationSenderStrategy=pt.CancellationReceiverStrategy=pt.ConnectionError=pt.ConnectionErrors=pt.LogTraceNotification=pt.SetTraceNotification=pt.TraceFormat=pt.TraceValues=pt.Trace=void 0;var No=gY();Object.defineProperty(pt,"Message",{enumerable:!0,get:o(function(){return No.Message},"get")});Object.defineProperty(pt,"RequestType",{enumerable:!0,get:o(function(){return No.RequestType},"get")});Object.defineProperty(pt,"RequestType0",{enumerable:!0,get:o(function(){return No.RequestType0},"get")});Object.defineProperty(pt,"RequestType1",{enumerable:!0,get:o(function(){return No.RequestType1},"get")});Object.defineProperty(pt,"RequestType2",{enumerable:!0,get:o(function(){return No.RequestType2},"get")});Object.defineProperty(pt,"RequestType3",{enumerable:!0,get:o(function(){return No.RequestType3},"get")});Object.defineProperty(pt,"RequestType4",{enumerable:!0,get:o(function(){return No.RequestType4},"get")});Object.defineProperty(pt,"RequestType5",{enumerable:!0,get:o(function(){return No.RequestType5},"get")});Object.defineProperty(pt,"RequestType6",{enumerable:!0,get:o(function(){return No.RequestType6},"get")});Object.defineProperty(pt,"RequestType7",{enumerable:!0,get:o(function(){return No.RequestType7},"get")});Object.defineProperty(pt,"RequestType8",{enumerable:!0,get:o(function(){return No.RequestType8},"get")});Object.defineProperty(pt,"RequestType9",{enumerable:!0,get:o(function(){return No.RequestType9},"get")});Object.defineProperty(pt,"ResponseError",{enumerable:!0,get:o(function(){return No.ResponseError},"get")});Object.defineProperty(pt,"ErrorCodes",{enumerable:!0,get:o(function(){return No.ErrorCodes},"get")});Object.defineProperty(pt,"NotificationType",{enumerable:!0,get:o(function(){return No.NotificationType},"get")});Object.defineProperty(pt,"NotificationType0",{enumerable:!0,get:o(function(){return No.NotificationType0},"get")});Object.defineProperty(pt,"NotificationType1",{enumerable:!0,get:o(function(){return No.NotificationType1},"get")});Object.defineProperty(pt,"NotificationType2",{enumerable:!0,get:o(function(){return No.NotificationType2},"get")});Object.defineProperty(pt,"NotificationType3",{enumerable:!0,get:o(function(){return No.NotificationType3},"get")});Object.defineProperty(pt,"NotificationType4",{enumerable:!0,get:o(function(){return No.NotificationType4},"get")});Object.defineProperty(pt,"NotificationType5",{enumerable:!0,get:o(function(){return No.NotificationType5},"get")});Object.defineProperty(pt,"NotificationType6",{enumerable:!0,get:o(function(){return No.NotificationType6},"get")});Object.defineProperty(pt,"NotificationType7",{enumerable:!0,get:o(function(){return No.NotificationType7},"get")});Object.defineProperty(pt,"NotificationType8",{enumerable:!0,get:o(function(){return No.NotificationType8},"get")});Object.defineProperty(pt,"NotificationType9",{enumerable:!0,get:o(function(){return No.NotificationType9},"get")});Object.defineProperty(pt,"ParameterStructures",{enumerable:!0,get:o(function(){return No.ParameterStructures},"get")});var VY=yY();Object.defineProperty(pt,"LinkedMap",{enumerable:!0,get:o(function(){return VY.LinkedMap},"get")});Object.defineProperty(pt,"LRUCache",{enumerable:!0,get:o(function(){return VY.LRUCache},"get")});Object.defineProperty(pt,"Touch",{enumerable:!0,get:o(function(){return VY.Touch},"get")});var jJe=bge();Object.defineProperty(pt,"Disposable",{enumerable:!0,get:o(function(){return jJe.Disposable},"get")});var Mge=Wb();Object.defineProperty(pt,"Event",{enumerable:!0,get:o(function(){return Mge.Event},"get")});Object.defineProperty(pt,"Emitter",{enumerable:!0,get:o(function(){return Mge.Emitter},"get")});var Oge=MD();Object.defineProperty(pt,"CancellationTokenSource",{enumerable:!0,get:o(function(){return Oge.CancellationTokenSource},"get")});Object.defineProperty(pt,"CancellationToken",{enumerable:!0,get:o(function(){return Oge.CancellationToken},"get")});var Uge=Ige();Object.defineProperty(pt,"SharedArraySenderStrategy",{enumerable:!0,get:o(function(){return Uge.SharedArraySenderStrategy},"get")});Object.defineProperty(pt,"SharedArrayReceiverStrategy",{enumerable:!0,get:o(function(){return Uge.SharedArrayReceiverStrategy},"get")});var jY=wge();Object.defineProperty(pt,"MessageReader",{enumerable:!0,get:o(function(){return jY.MessageReader},"get")});Object.defineProperty(pt,"AbstractMessageReader",{enumerable:!0,get:o(function(){return jY.AbstractMessageReader},"get")});Object.defineProperty(pt,"ReadableStreamMessageReader",{enumerable:!0,get:o(function(){return jY.ReadableStreamMessageReader},"get")});var $Y=Rge();Object.defineProperty(pt,"MessageWriter",{enumerable:!0,get:o(function(){return $Y.MessageWriter},"get")});Object.defineProperty(pt,"AbstractMessageWriter",{enumerable:!0,get:o(function(){return $Y.AbstractMessageWriter},"get")});Object.defineProperty(pt,"WriteableStreamMessageWriter",{enumerable:!0,get:o(function(){return $Y.WriteableStreamMessageWriter},"get")});var $Je=Dge();Object.defineProperty(pt,"AbstractMessageBuffer",{enumerable:!0,get:o(function(){return $Je.AbstractMessageBuffer},"get")});var Ol=Qge();Object.defineProperty(pt,"ConnectionStrategy",{enumerable:!0,get:o(function(){return Ol.ConnectionStrategy},"get")});Object.defineProperty(pt,"ConnectionOptions",{enumerable:!0,get:o(function(){return Ol.ConnectionOptions},"get")});Object.defineProperty(pt,"NullLogger",{enumerable:!0,get:o(function(){return Ol.NullLogger},"get")});Object.defineProperty(pt,"createMessageConnection",{enumerable:!0,get:o(function(){return Ol.createMessageConnection},"get")});Object.defineProperty(pt,"ProgressToken",{enumerable:!0,get:o(function(){return Ol.ProgressToken},"get")});Object.defineProperty(pt,"ProgressType",{enumerable:!0,get:o(function(){return Ol.ProgressType},"get")});Object.defineProperty(pt,"Trace",{enumerable:!0,get:o(function(){return Ol.Trace},"get")});Object.defineProperty(pt,"TraceValues",{enumerable:!0,get:o(function(){return Ol.TraceValues},"get")});Object.defineProperty(pt,"TraceFormat",{enumerable:!0,get:o(function(){return Ol.TraceFormat},"get")});Object.defineProperty(pt,"SetTraceNotification",{enumerable:!0,get:o(function(){return Ol.SetTraceNotification},"get")});Object.defineProperty(pt,"LogTraceNotification",{enumerable:!0,get:o(function(){return Ol.LogTraceNotification},"get")});Object.defineProperty(pt,"ConnectionErrors",{enumerable:!0,get:o(function(){return Ol.ConnectionErrors},"get")});Object.defineProperty(pt,"ConnectionError",{enumerable:!0,get:o(function(){return Ol.ConnectionError},"get")});Object.defineProperty(pt,"CancellationReceiverStrategy",{enumerable:!0,get:o(function(){return Ol.CancellationReceiverStrategy},"get")});Object.defineProperty(pt,"CancellationSenderStrategy",{enumerable:!0,get:o(function(){return Ol.CancellationSenderStrategy},"get")});Object.defineProperty(pt,"CancellationStrategy",{enumerable:!0,get:o(function(){return Ol.CancellationStrategy},"get")});Object.defineProperty(pt,"MessageStrategy",{enumerable:!0,get:o(function(){return Ol.MessageStrategy},"get")});var zJe=i5();pt.RAL=zJe.default});var Gge=V(JY=>{"use strict";d();Object.defineProperty(JY,"__esModule",{value:!0});var qge=require("util"),o1=YD(),KD=class e extends o1.AbstractMessageBuffer{static{o(this,"MessageBuffer")}constructor(t="utf-8"){super(t)}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new qge.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};KD.emptyBuffer=Buffer.allocUnsafe(0);var zY=class{static{o(this,"ReadableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),o1.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),o1.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),o1.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),o1.Disposable.create(()=>this.stream.off("data",t))}},YY=class{static{o(this,"WritableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),o1.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),o1.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),o1.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,i)=>{let s=o(a=>{a==null?n():i(a)},"callback");typeof t=="string"?this.stream.write(t,r,s):this.stream.write(t,s)})}end(){this.stream.end()}},Wge=Object.freeze({messageBuffer:Object.freeze({create:o(e=>new KD(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:o((e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:o((e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new qge.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}},"decode")})}),stream:Object.freeze({asReadableStream:o(e=>new zY(e),"asReadableStream"),asWritableStream:o(e=>new YY(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:o(()=>clearTimeout(n),"dispose")}},setImmediate(e,...t){let r=setImmediate(e,...t);return{dispose:o(()=>clearImmediate(r),"dispose")}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:o(()=>clearInterval(n),"dispose")}}})});function KY(){return Wge}o(KY,"RIL");(function(e){function t(){o1.RAL.install(Wge)}o(t,"install"),e.install=t})(KY||(KY={}));JY.default=KY});var _3=V(Di=>{"use strict";d();var YJe=Di&&Di.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KJe=Di&&Di.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&YJe(t,e,r)};Object.defineProperty(Di,"__esModule",{value:!0});Di.createMessageConnection=Di.createServerSocketTransport=Di.createClientSocketTransport=Di.createServerPipeTransport=Di.createClientPipeTransport=Di.generateRandomPipeName=Di.StreamMessageWriter=Di.StreamMessageReader=Di.SocketMessageWriter=Di.SocketMessageReader=Di.PortMessageWriter=Di.PortMessageReader=Di.IPCMessageWriter=Di.IPCMessageReader=void 0;var $b=Gge();$b.default.install();var Hge=require("path"),JJe=require("os"),XJe=require("crypto"),ZD=require("net"),vu=YD();KJe(YD(),Di);var XY=class extends vu.AbstractMessageReader{static{o(this,"IPCMessageReader")}constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),vu.Disposable.create(()=>this.process.off("message",t))}};Di.IPCMessageReader=XY;var ZY=class extends vu.AbstractMessageWriter{static{o(this,"IPCMessageWriter")}constructor(t){super(),this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};Di.IPCMessageWriter=ZY;var eK=class extends vu.AbstractMessageReader{static{o(this,"PortMessageReader")}constructor(t){super(),this.onData=new vu.Emitter,t.on("close",()=>this.fireClose),t.on("error",r=>this.fireError(r)),t.on("message",r=>{this.onData.fire(r)})}listen(t){return this.onData.event(t)}};Di.PortMessageReader=eK;var tK=class extends vu.AbstractMessageWriter{static{o(this,"PortMessageWriter")}constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};Di.PortMessageWriter=tK;var w3=class extends vu.ReadableStreamMessageReader{static{o(this,"SocketMessageReader")}constructor(t,r="utf-8"){super((0,$b.default)().stream.asReadableStream(t),r)}};Di.SocketMessageReader=w3;var S3=class extends vu.WriteableStreamMessageWriter{static{o(this,"SocketMessageWriter")}constructor(t,r){super((0,$b.default)().stream.asWritableStream(t),r),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};Di.SocketMessageWriter=S3;var JD=class extends vu.ReadableStreamMessageReader{static{o(this,"StreamMessageReader")}constructor(t,r){super((0,$b.default)().stream.asReadableStream(t),r)}};Di.StreamMessageReader=JD;var XD=class extends vu.WriteableStreamMessageWriter{static{o(this,"StreamMessageWriter")}constructor(t,r){super((0,$b.default)().stream.asWritableStream(t),r)}};Di.StreamMessageWriter=XD;var Vge=process.env.XDG_RUNTIME_DIR,ZJe=new Map([["linux",107],["darwin",103]]);function eXe(){let e=(0,XJe.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;Vge?t=Hge.join(Vge,`vscode-ipc-${e}.sock`):t=Hge.join(JJe.tmpdir(),`vscode-${e}.sock`);let r=ZJe.get(process.platform);return r!==void 0&&t.length>r&&(0,$b.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}o(eXe,"generateRandomPipeName");Di.generateRandomPipeName=eXe;function tXe(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,ZD.createServer)(l=>{a.close(),r([new w3(l,t),new S3(l,t)])});a.on("error",s),a.listen(e,()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(tXe,"createClientPipeTransport");Di.createClientPipeTransport=tXe;function rXe(e,t="utf-8"){let r=(0,ZD.createConnection)(e);return[new w3(r,t),new S3(r,t)]}o(rXe,"createServerPipeTransport");Di.createServerPipeTransport=rXe;function nXe(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,ZD.createServer)(l=>{a.close(),r([new w3(l,t),new S3(l,t)])});a.on("error",s),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(nXe,"createClientSocketTransport");Di.createClientSocketTransport=nXe;function iXe(e,t="utf-8"){let r=(0,ZD.createConnection)(e,"127.0.0.1");return[new w3(r,t),new S3(r,t)]}o(iXe,"createServerSocketTransport");Di.createServerSocketTransport=iXe;function oXe(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}o(oXe,"isReadableStream");function sXe(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}o(sXe,"isWritableStream");function aXe(e,t,r,n){r||(r=vu.NullLogger);let i=oXe(e)?new JD(e):e,s=sXe(t)?new XD(t):t;return vu.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,vu.createMessageConnection)(i,s,r,n)}o(aXe,"createMessageConnection");Di.createMessageConnection=aXe});var rK=V((Aer,jge)=>{"use strict";d();jge.exports=_3()});var tP=V(($ge,eP)=>{d();(function(e){if(typeof eP=="object"&&typeof eP.exports=="object"){var t=e(require,$ge);t!==void 0&&(eP.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(M){function de(ye){return typeof ye=="string"}o(de,"is"),M.is=de})(r||(t.DocumentUri=r={}));var n;(function(M){function de(ye){return typeof ye=="string"}o(de,"is"),M.is=de})(n||(t.URI=n={}));var i;(function(M){M.MIN_VALUE=-2147483648,M.MAX_VALUE=2147483647;function de(ye){return typeof ye=="number"&&M.MIN_VALUE<=ye&&ye<=M.MAX_VALUE}o(de,"is"),M.is=de})(i||(t.integer=i={}));var s;(function(M){M.MIN_VALUE=0,M.MAX_VALUE=2147483647;function de(ye){return typeof ye=="number"&&M.MIN_VALUE<=ye&&ye<=M.MAX_VALUE}o(de,"is"),M.is=de})(s||(t.uinteger=s={}));var a;(function(M){function de(Y,L){return Y===Number.MAX_VALUE&&(Y=s.MAX_VALUE),L===Number.MAX_VALUE&&(L=s.MAX_VALUE),{line:Y,character:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&be.uinteger(L.line)&&be.uinteger(L.character)}o(ye,"is"),M.is=ye})(a||(t.Position=a={}));var l;(function(M){function de(Y,L,Ie,Me){if(be.uinteger(Y)&&be.uinteger(L)&&be.uinteger(Ie)&&be.uinteger(Me))return{start:a.create(Y,L),end:a.create(Ie,Me)};if(a.is(Y)&&a.is(L))return{start:Y,end:L};throw new Error("Range#create called with invalid arguments[".concat(Y,", ").concat(L,", ").concat(Ie,", ").concat(Me,"]"))}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&a.is(L.start)&&a.is(L.end)}o(ye,"is"),M.is=ye})(l||(t.Range=l={}));var c;(function(M){function de(Y,L){return{uri:Y,range:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&l.is(L.range)&&(be.string(L.uri)||be.undefined(L.uri))}o(ye,"is"),M.is=ye})(c||(t.Location=c={}));var u;(function(M){function de(Y,L,Ie,Me){return{targetUri:Y,targetRange:L,targetSelectionRange:Ie,originSelectionRange:Me}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&l.is(L.targetRange)&&be.string(L.targetUri)&&l.is(L.targetSelectionRange)&&(l.is(L.originSelectionRange)||be.undefined(L.originSelectionRange))}o(ye,"is"),M.is=ye})(u||(t.LocationLink=u={}));var f;(function(M){function de(Y,L,Ie,Me){return{red:Y,green:L,blue:Ie,alpha:Me}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&be.numberRange(L.red,0,1)&&be.numberRange(L.green,0,1)&&be.numberRange(L.blue,0,1)&&be.numberRange(L.alpha,0,1)}o(ye,"is"),M.is=ye})(f||(t.Color=f={}));var m;(function(M){function de(Y,L){return{range:Y,color:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&l.is(L.range)&&f.is(L.color)}o(ye,"is"),M.is=ye})(m||(t.ColorInformation=m={}));var h;(function(M){function de(Y,L,Ie){return{label:Y,textEdit:L,additionalTextEdits:Ie}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&be.string(L.label)&&(be.undefined(L.textEdit)||P.is(L))&&(be.undefined(L.additionalTextEdits)||be.typedArray(L.additionalTextEdits,P.is))}o(ye,"is"),M.is=ye})(h||(t.ColorPresentation=h={}));var p;(function(M){M.Comment="comment",M.Imports="imports",M.Region="region"})(p||(t.FoldingRangeKind=p={}));var A;(function(M){function de(Y,L,Ie,Me,Ct,Ut){var Pt={startLine:Y,endLine:L};return be.defined(Ie)&&(Pt.startCharacter=Ie),be.defined(Me)&&(Pt.endCharacter=Me),be.defined(Ct)&&(Pt.kind=Ct),be.defined(Ut)&&(Pt.collapsedText=Ut),Pt}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&be.uinteger(L.startLine)&&be.uinteger(L.startLine)&&(be.undefined(L.startCharacter)||be.uinteger(L.startCharacter))&&(be.undefined(L.endCharacter)||be.uinteger(L.endCharacter))&&(be.undefined(L.kind)||be.string(L.kind))}o(ye,"is"),M.is=ye})(A||(t.FoldingRange=A={}));var E;(function(M){function de(Y,L){return{location:Y,message:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&c.is(L.location)&&be.string(L.message)}o(ye,"is"),M.is=ye})(E||(t.DiagnosticRelatedInformation=E={}));var x;(function(M){M.Error=1,M.Warning=2,M.Information=3,M.Hint=4})(x||(t.DiagnosticSeverity=x={}));var b;(function(M){M.Unnecessary=1,M.Deprecated=2})(b||(t.DiagnosticTag=b={}));var v;(function(M){function de(ye){var Y=ye;return be.objectLiteral(Y)&&be.string(Y.href)}o(de,"is"),M.is=de})(v||(t.CodeDescription=v={}));var S;(function(M){function de(Y,L,Ie,Me,Ct,Ut){var Pt={range:Y,message:L};return be.defined(Ie)&&(Pt.severity=Ie),be.defined(Me)&&(Pt.code=Me),be.defined(Ct)&&(Pt.source=Ct),be.defined(Ut)&&(Pt.relatedInformation=Ut),Pt}o(de,"create"),M.create=de;function ye(Y){var L,Ie=Y;return be.defined(Ie)&&l.is(Ie.range)&&be.string(Ie.message)&&(be.number(Ie.severity)||be.undefined(Ie.severity))&&(be.integer(Ie.code)||be.string(Ie.code)||be.undefined(Ie.code))&&(be.undefined(Ie.codeDescription)||be.string((L=Ie.codeDescription)===null||L===void 0?void 0:L.href))&&(be.string(Ie.source)||be.undefined(Ie.source))&&(be.undefined(Ie.relatedInformation)||be.typedArray(Ie.relatedInformation,E.is))}o(ye,"is"),M.is=ye})(S||(t.Diagnostic=S={}));var B;(function(M){function de(Y,L){for(var Ie=[],Me=2;Me<arguments.length;Me++)Ie[Me-2]=arguments[Me];var Ct={title:Y,command:L};return be.defined(Ie)&&Ie.length>0&&(Ct.arguments=Ie),Ct}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&be.string(L.title)&&be.string(L.command)}o(ye,"is"),M.is=ye})(B||(t.Command=B={}));var P;(function(M){function de(Ie,Me){return{range:Ie,newText:Me}}o(de,"replace"),M.replace=de;function ye(Ie,Me){return{range:{start:Ie,end:Ie},newText:Me}}o(ye,"insert"),M.insert=ye;function Y(Ie){return{range:Ie,newText:""}}o(Y,"del"),M.del=Y;function L(Ie){var Me=Ie;return be.objectLiteral(Me)&&be.string(Me.newText)&&l.is(Me.range)}o(L,"is"),M.is=L})(P||(t.TextEdit=P={}));var F;(function(M){function de(Y,L,Ie){var Me={label:Y};return L!==void 0&&(Me.needsConfirmation=L),Ie!==void 0&&(Me.description=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&be.string(L.label)&&(be.boolean(L.needsConfirmation)||L.needsConfirmation===void 0)&&(be.string(L.description)||L.description===void 0)}o(ye,"is"),M.is=ye})(F||(t.ChangeAnnotation=F={}));var G;(function(M){function de(ye){var Y=ye;return be.string(Y)}o(de,"is"),M.is=de})(G||(t.ChangeAnnotationIdentifier=G={}));var re;(function(M){function de(Ie,Me,Ct){return{range:Ie,newText:Me,annotationId:Ct}}o(de,"replace"),M.replace=de;function ye(Ie,Me,Ct){return{range:{start:Ie,end:Ie},newText:Me,annotationId:Ct}}o(ye,"insert"),M.insert=ye;function Y(Ie,Me){return{range:Ie,newText:"",annotationId:Me}}o(Y,"del"),M.del=Y;function L(Ie){var Me=Ie;return P.is(Me)&&(F.is(Me.annotationId)||G.is(Me.annotationId))}o(L,"is"),M.is=L})(re||(t.AnnotatedTextEdit=re={}));var pe;(function(M){function de(Y,L){return{textDocument:Y,edits:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&le.is(L.textDocument)&&Array.isArray(L.edits)}o(ye,"is"),M.is=ye})(pe||(t.TextDocumentEdit=pe={}));var Z;(function(M){function de(Y,L,Ie){var Me={kind:"create",uri:Y};return L!==void 0&&(L.overwrite!==void 0||L.ignoreIfExists!==void 0)&&(Me.options=L),Ie!==void 0&&(Me.annotationId=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&L.kind==="create"&&be.string(L.uri)&&(L.options===void 0||(L.options.overwrite===void 0||be.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||be.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||G.is(L.annotationId))}o(ye,"is"),M.is=ye})(Z||(t.CreateFile=Z={}));var W;(function(M){function de(Y,L,Ie,Me){var Ct={kind:"rename",oldUri:Y,newUri:L};return Ie!==void 0&&(Ie.overwrite!==void 0||Ie.ignoreIfExists!==void 0)&&(Ct.options=Ie),Me!==void 0&&(Ct.annotationId=Me),Ct}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&L.kind==="rename"&&be.string(L.oldUri)&&be.string(L.newUri)&&(L.options===void 0||(L.options.overwrite===void 0||be.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||be.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||G.is(L.annotationId))}o(ye,"is"),M.is=ye})(W||(t.RenameFile=W={}));var q;(function(M){function de(Y,L,Ie){var Me={kind:"delete",uri:Y};return L!==void 0&&(L.recursive!==void 0||L.ignoreIfNotExists!==void 0)&&(Me.options=L),Ie!==void 0&&(Me.annotationId=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&L.kind==="delete"&&be.string(L.uri)&&(L.options===void 0||(L.options.recursive===void 0||be.boolean(L.options.recursive))&&(L.options.ignoreIfNotExists===void 0||be.boolean(L.options.ignoreIfNotExists)))&&(L.annotationId===void 0||G.is(L.annotationId))}o(ye,"is"),M.is=ye})(q||(t.DeleteFile=q={}));var se;(function(M){function de(ye){var Y=ye;return Y&&(Y.changes!==void 0||Y.documentChanges!==void 0)&&(Y.documentChanges===void 0||Y.documentChanges.every(function(L){return be.string(L.kind)?Z.is(L)||W.is(L)||q.is(L):pe.is(L)}))}o(de,"is"),M.is=de})(se||(t.WorkspaceEdit=se={}));var ne=function(){function M(de,ye){this.edits=de,this.changeAnnotations=ye}return o(M,"TextEditChangeImpl"),M.prototype.insert=function(de,ye,Y){var L,Ie;if(Y===void 0?L=P.insert(de,ye):G.is(Y)?(Ie=Y,L=re.insert(de,ye,Y)):(this.assertChangeAnnotations(this.changeAnnotations),Ie=this.changeAnnotations.manage(Y),L=re.insert(de,ye,Ie)),this.edits.push(L),Ie!==void 0)return Ie},M.prototype.replace=function(de,ye,Y){var L,Ie;if(Y===void 0?L=P.replace(de,ye):G.is(Y)?(Ie=Y,L=re.replace(de,ye,Y)):(this.assertChangeAnnotations(this.changeAnnotations),Ie=this.changeAnnotations.manage(Y),L=re.replace(de,ye,Ie)),this.edits.push(L),Ie!==void 0)return Ie},M.prototype.delete=function(de,ye){var Y,L;if(ye===void 0?Y=P.del(de):G.is(ye)?(L=ye,Y=re.del(de,ye)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(ye),Y=re.del(de,L)),this.edits.push(Y),L!==void 0)return L},M.prototype.add=function(de){this.edits.push(de)},M.prototype.all=function(){return this.edits},M.prototype.clear=function(){this.edits.splice(0,this.edits.length)},M.prototype.assertChangeAnnotations=function(de){if(de===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},M}(),H=function(){function M(de){this._annotations=de===void 0?Object.create(null):de,this._counter=0,this._size=0}return o(M,"ChangeAnnotations"),M.prototype.all=function(){return this._annotations},Object.defineProperty(M.prototype,"size",{get:o(function(){return this._size},"get"),enumerable:!1,configurable:!0}),M.prototype.manage=function(de,ye){var Y;if(G.is(de)?Y=de:(Y=this.nextId(),ye=de),this._annotations[Y]!==void 0)throw new Error("Id ".concat(Y," is already in use."));if(ye===void 0)throw new Error("No annotation provided for id ".concat(Y));return this._annotations[Y]=ye,this._size++,Y},M.prototype.nextId=function(){return this._counter++,this._counter.toString()},M}(),O=function(){function M(de){var ye=this;this._textEditChanges=Object.create(null),de!==void 0?(this._workspaceEdit=de,de.documentChanges?(this._changeAnnotations=new H(de.changeAnnotations),de.changeAnnotations=this._changeAnnotations.all(),de.documentChanges.forEach(function(Y){if(pe.is(Y)){var L=new ne(Y.edits,ye._changeAnnotations);ye._textEditChanges[Y.textDocument.uri]=L}})):de.changes&&Object.keys(de.changes).forEach(function(Y){var L=new ne(de.changes[Y]);ye._textEditChanges[Y]=L})):this._workspaceEdit={}}return o(M,"WorkspaceChange"),Object.defineProperty(M.prototype,"edit",{get:o(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),M.prototype.getTextEditChange=function(de){if(le.is(de)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var ye={uri:de.uri,version:de.version},Y=this._textEditChanges[ye.uri];if(!Y){var L=[],Ie={textDocument:ye,edits:L};this._workspaceEdit.documentChanges.push(Ie),Y=new ne(L,this._changeAnnotations),this._textEditChanges[ye.uri]=Y}return Y}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var Y=this._textEditChanges[de];if(!Y){var L=[];this._workspaceEdit.changes[de]=L,Y=new ne(L),this._textEditChanges[de]=Y}return Y}},M.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new H,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},M.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},M.prototype.createFile=function(de,ye,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;F.is(ye)||G.is(ye)?L=ye:Y=ye;var Ie,Me;if(L===void 0?Ie=Z.create(de,Y):(Me=G.is(L)?L:this._changeAnnotations.manage(L),Ie=Z.create(de,Y,Me)),this._workspaceEdit.documentChanges.push(Ie),Me!==void 0)return Me},M.prototype.renameFile=function(de,ye,Y,L){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Ie;F.is(Y)||G.is(Y)?Ie=Y:L=Y;var Me,Ct;if(Ie===void 0?Me=W.create(de,ye,L):(Ct=G.is(Ie)?Ie:this._changeAnnotations.manage(Ie),Me=W.create(de,ye,L,Ct)),this._workspaceEdit.documentChanges.push(Me),Ct!==void 0)return Ct},M.prototype.deleteFile=function(de,ye,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;F.is(ye)||G.is(ye)?L=ye:Y=ye;var Ie,Me;if(L===void 0?Ie=q.create(de,Y):(Me=G.is(L)?L:this._changeAnnotations.manage(L),Ie=q.create(de,Y,Me)),this._workspaceEdit.documentChanges.push(Ie),Me!==void 0)return Me},M}();t.WorkspaceChange=O;var j;(function(M){function de(Y){return{uri:Y}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&be.string(L.uri)}o(ye,"is"),M.is=ye})(j||(t.TextDocumentIdentifier=j={}));var J;(function(M){function de(Y,L){return{uri:Y,version:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&be.string(L.uri)&&be.integer(L.version)}o(ye,"is"),M.is=ye})(J||(t.VersionedTextDocumentIdentifier=J={}));var le;(function(M){function de(Y,L){return{uri:Y,version:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&be.string(L.uri)&&(L.version===null||be.integer(L.version))}o(ye,"is"),M.is=ye})(le||(t.OptionalVersionedTextDocumentIdentifier=le={}));var ee;(function(M){function de(Y,L,Ie,Me){return{uri:Y,languageId:L,version:Ie,text:Me}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&be.string(L.uri)&&be.string(L.languageId)&&be.integer(L.version)&&be.string(L.text)}o(ye,"is"),M.is=ye})(ee||(t.TextDocumentItem=ee={}));var ae;(function(M){M.PlainText="plaintext",M.Markdown="markdown";function de(ye){var Y=ye;return Y===M.PlainText||Y===M.Markdown}o(de,"is"),M.is=de})(ae||(t.MarkupKind=ae={}));var ce;(function(M){function de(ye){var Y=ye;return be.objectLiteral(ye)&&ae.is(Y.kind)&&be.string(Y.value)}o(de,"is"),M.is=de})(ce||(t.MarkupContent=ce={}));var Re;(function(M){M.Text=1,M.Method=2,M.Function=3,M.Constructor=4,M.Field=5,M.Variable=6,M.Class=7,M.Interface=8,M.Module=9,M.Property=10,M.Unit=11,M.Value=12,M.Enum=13,M.Keyword=14,M.Snippet=15,M.Color=16,M.File=17,M.Reference=18,M.Folder=19,M.EnumMember=20,M.Constant=21,M.Struct=22,M.Event=23,M.Operator=24,M.TypeParameter=25})(Re||(t.CompletionItemKind=Re={}));var ve;(function(M){M.PlainText=1,M.Snippet=2})(ve||(t.InsertTextFormat=ve={}));var Ue;(function(M){M.Deprecated=1})(Ue||(t.CompletionItemTag=Ue={}));var ke;(function(M){function de(Y,L,Ie){return{newText:Y,insert:L,replace:Ie}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&be.string(L.newText)&&l.is(L.insert)&&l.is(L.replace)}o(ye,"is"),M.is=ye})(ke||(t.InsertReplaceEdit=ke={}));var Je;(function(M){M.asIs=1,M.adjustIndentation=2})(Je||(t.InsertTextMode=Je={}));var ft;(function(M){function de(ye){var Y=ye;return Y&&(be.string(Y.detail)||Y.detail===void 0)&&(be.string(Y.description)||Y.description===void 0)}o(de,"is"),M.is=de})(ft||(t.CompletionItemLabelDetails=ft={}));var ot;(function(M){function de(ye){return{label:ye}}o(de,"create"),M.create=de})(ot||(t.CompletionItem=ot={}));var at;(function(M){function de(ye,Y){return{items:ye||[],isIncomplete:!!Y}}o(de,"create"),M.create=de})(at||(t.CompletionList=at={}));var ie;(function(M){function de(Y){return Y.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(de,"fromPlainText"),M.fromPlainText=de;function ye(Y){var L=Y;return be.string(L)||be.objectLiteral(L)&&be.string(L.language)&&be.string(L.value)}o(ye,"is"),M.is=ye})(ie||(t.MarkedString=ie={}));var Pe;(function(M){function de(ye){var Y=ye;return!!Y&&be.objectLiteral(Y)&&(ce.is(Y.contents)||ie.is(Y.contents)||be.typedArray(Y.contents,ie.is))&&(ye.range===void 0||l.is(ye.range))}o(de,"is"),M.is=de})(Pe||(t.Hover=Pe={}));var Ae;(function(M){function de(ye,Y){return Y?{label:ye,documentation:Y}:{label:ye}}o(de,"create"),M.create=de})(Ae||(t.ParameterInformation=Ae={}));var We;(function(M){function de(ye,Y){for(var L=[],Ie=2;Ie<arguments.length;Ie++)L[Ie-2]=arguments[Ie];var Me={label:ye};return be.defined(Y)&&(Me.documentation=Y),be.defined(L)?Me.parameters=L:Me.parameters=[],Me}o(de,"create"),M.create=de})(We||(t.SignatureInformation=We={}));var z;(function(M){M.Text=1,M.Read=2,M.Write=3})(z||(t.DocumentHighlightKind=z={}));var te;(function(M){function de(ye,Y){var L={range:ye};return be.number(Y)&&(L.kind=Y),L}o(de,"create"),M.create=de})(te||(t.DocumentHighlight=te={}));var Ne;(function(M){M.File=1,M.Module=2,M.Namespace=3,M.Package=4,M.Class=5,M.Method=6,M.Property=7,M.Field=8,M.Constructor=9,M.Enum=10,M.Interface=11,M.Function=12,M.Variable=13,M.Constant=14,M.String=15,M.Number=16,M.Boolean=17,M.Array=18,M.Object=19,M.Key=20,M.Null=21,M.EnumMember=22,M.Struct=23,M.Event=24,M.Operator=25,M.TypeParameter=26})(Ne||(t.SymbolKind=Ne={}));var Se;(function(M){M.Deprecated=1})(Se||(t.SymbolTag=Se={}));var Ce;(function(M){function de(ye,Y,L,Ie,Me){var Ct={name:ye,kind:Y,location:{uri:Ie,range:L}};return Me&&(Ct.containerName=Me),Ct}o(de,"create"),M.create=de})(Ce||(t.SymbolInformation=Ce={}));var Oe;(function(M){function de(ye,Y,L,Ie){return Ie!==void 0?{name:ye,kind:Y,location:{uri:L,range:Ie}}:{name:ye,kind:Y,location:{uri:L}}}o(de,"create"),M.create=de})(Oe||(t.WorkspaceSymbol=Oe={}));var Ve;(function(M){function de(Y,L,Ie,Me,Ct,Ut){var Pt={name:Y,detail:L,kind:Ie,range:Me,selectionRange:Ct};return Ut!==void 0&&(Pt.children=Ut),Pt}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&be.string(L.name)&&be.number(L.kind)&&l.is(L.range)&&l.is(L.selectionRange)&&(L.detail===void 0||be.string(L.detail))&&(L.deprecated===void 0||be.boolean(L.deprecated))&&(L.children===void 0||Array.isArray(L.children))&&(L.tags===void 0||Array.isArray(L.tags))}o(ye,"is"),M.is=ye})(Ve||(t.DocumentSymbol=Ve={}));var Ze;(function(M){M.Empty="",M.QuickFix="quickfix",M.Refactor="refactor",M.RefactorExtract="refactor.extract",M.RefactorInline="refactor.inline",M.RefactorRewrite="refactor.rewrite",M.Source="source",M.SourceOrganizeImports="source.organizeImports",M.SourceFixAll="source.fixAll"})(Ze||(t.CodeActionKind=Ze={}));var yt;(function(M){M.Invoked=1,M.Automatic=2})(yt||(t.CodeActionTriggerKind=yt={}));var Rt;(function(M){function de(Y,L,Ie){var Me={diagnostics:Y};return L!=null&&(Me.only=L),Ie!=null&&(Me.triggerKind=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&be.typedArray(L.diagnostics,S.is)&&(L.only===void 0||be.typedArray(L.only,be.string))&&(L.triggerKind===void 0||L.triggerKind===yt.Invoked||L.triggerKind===yt.Automatic)}o(ye,"is"),M.is=ye})(Rt||(t.CodeActionContext=Rt={}));var At;(function(M){function de(Y,L,Ie){var Me={title:Y},Ct=!0;return typeof L=="string"?(Ct=!1,Me.kind=L):B.is(L)?Me.command=L:Me.edit=L,Ct&&Ie!==void 0&&(Me.kind=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L&&be.string(L.title)&&(L.diagnostics===void 0||be.typedArray(L.diagnostics,S.is))&&(L.kind===void 0||be.string(L.kind))&&(L.edit!==void 0||L.command!==void 0)&&(L.command===void 0||B.is(L.command))&&(L.isPreferred===void 0||be.boolean(L.isPreferred))&&(L.edit===void 0||se.is(L.edit))}o(ye,"is"),M.is=ye})(At||(t.CodeAction=At={}));var Ht;(function(M){function de(Y,L){var Ie={range:Y};return be.defined(L)&&(Ie.data=L),Ie}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&l.is(L.range)&&(be.undefined(L.command)||B.is(L.command))}o(ye,"is"),M.is=ye})(Ht||(t.CodeLens=Ht={}));var $t;(function(M){function de(Y,L){return{tabSize:Y,insertSpaces:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&be.uinteger(L.tabSize)&&be.boolean(L.insertSpaces)}o(ye,"is"),M.is=ye})($t||(t.FormattingOptions=$t={}));var ir;(function(M){function de(Y,L,Ie){return{range:Y,target:L,data:Ie}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&l.is(L.range)&&(be.undefined(L.target)||be.string(L.target))}o(ye,"is"),M.is=ye})(ir||(t.DocumentLink=ir={}));var ge;(function(M){function de(Y,L){return{range:Y,parent:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&l.is(L.range)&&(L.parent===void 0||M.is(L.parent))}o(ye,"is"),M.is=ye})(ge||(t.SelectionRange=ge={}));var Le;(function(M){M.namespace="namespace",M.type="type",M.class="class",M.enum="enum",M.interface="interface",M.struct="struct",M.typeParameter="typeParameter",M.parameter="parameter",M.variable="variable",M.property="property",M.enumMember="enumMember",M.event="event",M.function="function",M.method="method",M.macro="macro",M.keyword="keyword",M.modifier="modifier",M.comment="comment",M.string="string",M.number="number",M.regexp="regexp",M.operator="operator",M.decorator="decorator"})(Le||(t.SemanticTokenTypes=Le={}));var Ke;(function(M){M.declaration="declaration",M.definition="definition",M.readonly="readonly",M.static="static",M.deprecated="deprecated",M.abstract="abstract",M.async="async",M.modification="modification",M.documentation="documentation",M.defaultLibrary="defaultLibrary"})(Ke||(t.SemanticTokenModifiers=Ke={}));var et;(function(M){function de(ye){var Y=ye;return be.objectLiteral(Y)&&(Y.resultId===void 0||typeof Y.resultId=="string")&&Array.isArray(Y.data)&&(Y.data.length===0||typeof Y.data[0]=="number")}o(de,"is"),M.is=de})(et||(t.SemanticTokens=et={}));var St;(function(M){function de(Y,L){return{range:Y,text:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&be.string(L.text)}o(ye,"is"),M.is=ye})(St||(t.InlineValueText=St={}));var xt;(function(M){function de(Y,L,Ie){return{range:Y,variableName:L,caseSensitiveLookup:Ie}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&be.boolean(L.caseSensitiveLookup)&&(be.string(L.variableName)||L.variableName===void 0)}o(ye,"is"),M.is=ye})(xt||(t.InlineValueVariableLookup=xt={}));var Nt;(function(M){function de(Y,L){return{range:Y,expression:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return L!=null&&l.is(L.range)&&(be.string(L.expression)||L.expression===void 0)}o(ye,"is"),M.is=ye})(Nt||(t.InlineValueEvaluatableExpression=Nt={}));var Qt;(function(M){function de(Y,L){return{frameId:Y,stoppedLocation:L}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.defined(L)&&l.is(Y.stoppedLocation)}o(ye,"is"),M.is=ye})(Qt||(t.InlineValueContext=Qt={}));var Tt;(function(M){M.Type=1,M.Parameter=2;function de(ye){return ye===1||ye===2}o(de,"is"),M.is=de})(Tt||(t.InlayHintKind=Tt={}));var _t;(function(M){function de(Y){return{value:Y}}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&(L.tooltip===void 0||be.string(L.tooltip)||ce.is(L.tooltip))&&(L.location===void 0||c.is(L.location))&&(L.command===void 0||B.is(L.command))}o(ye,"is"),M.is=ye})(_t||(t.InlayHintLabelPart=_t={}));var wt;(function(M){function de(Y,L,Ie){var Me={position:Y,label:L};return Ie!==void 0&&(Me.kind=Ie),Me}o(de,"create"),M.create=de;function ye(Y){var L=Y;return be.objectLiteral(L)&&a.is(L.position)&&(be.string(L.label)||be.typedArray(L.label,_t.is))&&(L.kind===void 0||Tt.is(L.kind))&&L.textEdits===void 0||be.typedArray(L.textEdits,P.is)&&(L.tooltip===void 0||be.string(L.tooltip)||ce.is(L.tooltip))&&(L.paddingLeft===void 0||be.boolean(L.paddingLeft))&&(L.paddingRight===void 0||be.boolean(L.paddingRight))}o(ye,"is"),M.is=ye})(wt||(t.InlayHint=wt={}));var Ot;(function(M){function de(ye){return{kind:"snippet",value:ye}}o(de,"createSnippet"),M.createSnippet=de})(Ot||(t.StringValue=Ot={}));var Wt;(function(M){function de(ye,Y,L,Ie){return{insertText:ye,filterText:Y,range:L,command:Ie}}o(de,"create"),M.create=de})(Wt||(t.InlineCompletionItem=Wt={}));var zt;(function(M){function de(ye){return{items:ye}}o(de,"create"),M.create=de})(zt||(t.InlineCompletionList=zt={}));var lr;(function(M){M.Invoked=0,M.Automatic=1})(lr||(t.InlineCompletionTriggerKind=lr={}));var hr;(function(M){function de(ye,Y){return{range:ye,text:Y}}o(de,"create"),M.create=de})(hr||(t.SelectedCompletionInfo=hr={}));var sr;(function(M){function de(ye,Y){return{triggerKind:ye,selectedCompletionInfo:Y}}o(de,"create"),M.create=de})(sr||(t.InlineCompletionContext=sr={}));var cr;(function(M){function de(ye){var Y=ye;return be.objectLiteral(Y)&&n.is(Y.uri)&&be.string(Y.name)}o(de,"is"),M.is=de})(cr||(t.WorkspaceFolder=cr={})),t.EOL=[`
`,`\r
`,"\r"];var Zt;(function(M){function de(Ie,Me,Ct,Ut){return new ur(Ie,Me,Ct,Ut)}o(de,"create"),M.create=de;function ye(Ie){var Me=Ie;return!!(be.defined(Me)&&be.string(Me.uri)&&(be.undefined(Me.languageId)||be.string(Me.languageId))&&be.uinteger(Me.lineCount)&&be.func(Me.getText)&&be.func(Me.positionAt)&&be.func(Me.offsetAt))}o(ye,"is"),M.is=ye;function Y(Ie,Me){for(var Ct=Ie.getText(),Ut=L(Me,function(ar,Do){var qd=ar.range.start.line-Do.range.start.line;return qd===0?ar.range.start.character-Do.range.start.character:qd}),Pt=Ct.length,rr=Ut.length-1;rr>=0;rr--){var or=Ut[rr],Mt=Ie.offsetAt(or.range.start),vt=Ie.offsetAt(or.range.end);if(vt<=Pt)Ct=Ct.substring(0,Mt)+or.newText+Ct.substring(vt,Ct.length);else throw new Error("Overlapping edit");Pt=Mt}return Ct}o(Y,"applyEdits"),M.applyEdits=Y;function L(Ie,Me){if(Ie.length<=1)return Ie;var Ct=Ie.length/2|0,Ut=Ie.slice(0,Ct),Pt=Ie.slice(Ct);L(Ut,Me),L(Pt,Me);for(var rr=0,or=0,Mt=0;rr<Ut.length&&or<Pt.length;){var vt=Me(Ut[rr],Pt[or]);vt<=0?Ie[Mt++]=Ut[rr++]:Ie[Mt++]=Pt[or++]}for(;rr<Ut.length;)Ie[Mt++]=Ut[rr++];for(;or<Pt.length;)Ie[Mt++]=Pt[or++];return Ie}o(L,"mergeSort")})(Zt||(t.TextDocument=Zt={}));var ur=function(){function M(de,ye,Y,L){this._uri=de,this._languageId=ye,this._version=Y,this._content=L,this._lineOffsets=void 0}return o(M,"FullTextDocument"),Object.defineProperty(M.prototype,"uri",{get:o(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"languageId",{get:o(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"version",{get:o(function(){return this._version},"get"),enumerable:!1,configurable:!0}),M.prototype.getText=function(de){if(de){var ye=this.offsetAt(de.start),Y=this.offsetAt(de.end);return this._content.substring(ye,Y)}return this._content},M.prototype.update=function(de,ye){this._content=de.text,this._version=ye,this._lineOffsets=void 0},M.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var de=[],ye=this._content,Y=!0,L=0;L<ye.length;L++){Y&&(de.push(L),Y=!1);var Ie=ye.charAt(L);Y=Ie==="\r"||Ie===`
`,Ie==="\r"&&L+1<ye.length&&ye.charAt(L+1)===`
`&&L++}Y&&ye.length>0&&de.push(ye.length),this._lineOffsets=de}return this._lineOffsets},M.prototype.positionAt=function(de){de=Math.max(Math.min(de,this._content.length),0);var ye=this.getLineOffsets(),Y=0,L=ye.length;if(L===0)return a.create(0,de);for(;Y<L;){var Ie=Math.floor((Y+L)/2);ye[Ie]>de?L=Ie:Y=Ie+1}var Me=Y-1;return a.create(Me,de-ye[Me])},M.prototype.offsetAt=function(de){var ye=this.getLineOffsets();if(de.line>=ye.length)return this._content.length;if(de.line<0)return 0;var Y=ye[de.line],L=de.line+1<ye.length?ye[de.line+1]:this._content.length;return Math.max(Math.min(Y+de.character,L),Y)},Object.defineProperty(M.prototype,"lineCount",{get:o(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),M}(),be;(function(M){var de=Object.prototype.toString;function ye(vt){return typeof vt<"u"}o(ye,"defined"),M.defined=ye;function Y(vt){return typeof vt>"u"}o(Y,"undefined"),M.undefined=Y;function L(vt){return vt===!0||vt===!1}o(L,"boolean"),M.boolean=L;function Ie(vt){return de.call(vt)==="[object String]"}o(Ie,"string"),M.string=Ie;function Me(vt){return de.call(vt)==="[object Number]"}o(Me,"number"),M.number=Me;function Ct(vt,ar,Do){return de.call(vt)==="[object Number]"&&ar<=vt&&vt<=Do}o(Ct,"numberRange"),M.numberRange=Ct;function Ut(vt){return de.call(vt)==="[object Number]"&&-2147483648<=vt&&vt<=2147483647}o(Ut,"integer"),M.integer=Ut;function Pt(vt){return de.call(vt)==="[object Number]"&&0<=vt&&vt<=2147483647}o(Pt,"uinteger"),M.uinteger=Pt;function rr(vt){return de.call(vt)==="[object Function]"}o(rr,"func"),M.func=rr;function or(vt){return vt!==null&&typeof vt=="object"}o(or,"objectLiteral"),M.objectLiteral=or;function Mt(vt,ar){return Array.isArray(vt)&&vt.every(ar)}o(Mt,"typedArray"),M.typedArray=Mt})(be||(be={}))})});var As=V(Tc=>{"use strict";d();Object.defineProperty(Tc,"__esModule",{value:!0});Tc.ProtocolNotificationType=Tc.ProtocolNotificationType0=Tc.ProtocolRequestType=Tc.ProtocolRequestType0=Tc.RegistrationType=Tc.MessageDirection=void 0;var zb=_3(),zge;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(zge||(Tc.MessageDirection=zge={}));var nK=class{static{o(this,"RegistrationType")}constructor(t){this.method=t}};Tc.RegistrationType=nK;var iK=class extends zb.RequestType0{static{o(this,"ProtocolRequestType0")}constructor(t){super(t)}};Tc.ProtocolRequestType0=iK;var oK=class extends zb.RequestType{static{o(this,"ProtocolRequestType")}constructor(t){super(t,zb.ParameterStructures.byName)}};Tc.ProtocolRequestType=oK;var sK=class extends zb.NotificationType0{static{o(this,"ProtocolNotificationType0")}constructor(t){super(t)}};Tc.ProtocolNotificationType0=sK;var aK=class extends zb.NotificationType{static{o(this,"ProtocolNotificationType")}constructor(t){super(t,zb.ParameterStructures.byName)}};Tc.ProtocolNotificationType=aK});var rP=V(wa=>{"use strict";d();Object.defineProperty(wa,"__esModule",{value:!0});wa.objectLiteral=wa.typedArray=wa.stringArray=wa.array=wa.func=wa.error=wa.number=wa.string=wa.boolean=void 0;function lXe(e){return e===!0||e===!1}o(lXe,"boolean");wa.boolean=lXe;function Yge(e){return typeof e=="string"||e instanceof String}o(Yge,"string");wa.string=Yge;function cXe(e){return typeof e=="number"||e instanceof Number}o(cXe,"number");wa.number=cXe;function uXe(e){return e instanceof Error}o(uXe,"error");wa.error=uXe;function fXe(e){return typeof e=="function"}o(fXe,"func");wa.func=fXe;function Kge(e){return Array.isArray(e)}o(Kge,"array");wa.array=Kge;function dXe(e){return Kge(e)&&e.every(t=>Yge(t))}o(dXe,"stringArray");wa.stringArray=dXe;function mXe(e,t){return Array.isArray(e)&&e.every(t)}o(mXe,"typedArray");wa.typedArray=mXe;function hXe(e){return e!==null&&typeof e=="object"}o(hXe,"objectLiteral");wa.objectLiteral=hXe});var Zge=V(nP=>{"use strict";d();Object.defineProperty(nP,"__esModule",{value:!0});nP.ImplementationRequest=void 0;var Jge=As(),Xge;(function(e){e.method="textDocument/implementation",e.messageDirection=Jge.MessageDirection.clientToServer,e.type=new Jge.ProtocolRequestType(e.method)})(Xge||(nP.ImplementationRequest=Xge={}))});var r1e=V(iP=>{"use strict";d();Object.defineProperty(iP,"__esModule",{value:!0});iP.TypeDefinitionRequest=void 0;var e1e=As(),t1e;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=e1e.MessageDirection.clientToServer,e.type=new e1e.ProtocolRequestType(e.method)})(t1e||(iP.TypeDefinitionRequest=t1e={}))});var o1e=V(Yb=>{"use strict";d();Object.defineProperty(Yb,"__esModule",{value:!0});Yb.DidChangeWorkspaceFoldersNotification=Yb.WorkspaceFoldersRequest=void 0;var oP=As(),n1e;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=oP.MessageDirection.serverToClient,e.type=new oP.ProtocolRequestType0(e.method)})(n1e||(Yb.WorkspaceFoldersRequest=n1e={}));var i1e;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=oP.MessageDirection.clientToServer,e.type=new oP.ProtocolNotificationType(e.method)})(i1e||(Yb.DidChangeWorkspaceFoldersNotification=i1e={}))});var l1e=V(sP=>{"use strict";d();Object.defineProperty(sP,"__esModule",{value:!0});sP.ConfigurationRequest=void 0;var s1e=As(),a1e;(function(e){e.method="workspace/configuration",e.messageDirection=s1e.MessageDirection.serverToClient,e.type=new s1e.ProtocolRequestType(e.method)})(a1e||(sP.ConfigurationRequest=a1e={}))});var f1e=V(Kb=>{"use strict";d();Object.defineProperty(Kb,"__esModule",{value:!0});Kb.ColorPresentationRequest=Kb.DocumentColorRequest=void 0;var aP=As(),c1e;(function(e){e.method="textDocument/documentColor",e.messageDirection=aP.MessageDirection.clientToServer,e.type=new aP.ProtocolRequestType(e.method)})(c1e||(Kb.DocumentColorRequest=c1e={}));var u1e;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=aP.MessageDirection.clientToServer,e.type=new aP.ProtocolRequestType(e.method)})(u1e||(Kb.ColorPresentationRequest=u1e={}))});var h1e=V(Jb=>{"use strict";d();Object.defineProperty(Jb,"__esModule",{value:!0});Jb.FoldingRangeRefreshRequest=Jb.FoldingRangeRequest=void 0;var lP=As(),d1e;(function(e){e.method="textDocument/foldingRange",e.messageDirection=lP.MessageDirection.clientToServer,e.type=new lP.ProtocolRequestType(e.method)})(d1e||(Jb.FoldingRangeRequest=d1e={}));var m1e;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=lP.MessageDirection.serverToClient,e.type=new lP.ProtocolRequestType0(e.method)})(m1e||(Jb.FoldingRangeRefreshRequest=m1e={}))});var A1e=V(cP=>{"use strict";d();Object.defineProperty(cP,"__esModule",{value:!0});cP.DeclarationRequest=void 0;var p1e=As(),g1e;(function(e){e.method="textDocument/declaration",e.messageDirection=p1e.MessageDirection.clientToServer,e.type=new p1e.ProtocolRequestType(e.method)})(g1e||(cP.DeclarationRequest=g1e={}))});var E1e=V(uP=>{"use strict";d();Object.defineProperty(uP,"__esModule",{value:!0});uP.SelectionRangeRequest=void 0;var y1e=As(),C1e;(function(e){e.method="textDocument/selectionRange",e.messageDirection=y1e.MessageDirection.clientToServer,e.type=new y1e.ProtocolRequestType(e.method)})(C1e||(uP.SelectionRangeRequest=C1e={}))});var I1e=V(a5=>{"use strict";d();Object.defineProperty(a5,"__esModule",{value:!0});a5.WorkDoneProgressCancelNotification=a5.WorkDoneProgressCreateRequest=a5.WorkDoneProgress=void 0;var pXe=_3(),fP=As(),x1e;(function(e){e.type=new pXe.ProgressType;function t(r){return r===e.type}o(t,"is"),e.is=t})(x1e||(a5.WorkDoneProgress=x1e={}));var b1e;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=fP.MessageDirection.serverToClient,e.type=new fP.ProtocolRequestType(e.method)})(b1e||(a5.WorkDoneProgressCreateRequest=b1e={}));var v1e;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=fP.MessageDirection.clientToServer,e.type=new fP.ProtocolNotificationType(e.method)})(v1e||(a5.WorkDoneProgressCancelNotification=v1e={}))});var _1e=V(l5=>{"use strict";d();Object.defineProperty(l5,"__esModule",{value:!0});l5.CallHierarchyOutgoingCallsRequest=l5.CallHierarchyIncomingCallsRequest=l5.CallHierarchyPrepareRequest=void 0;var Xb=As(),T1e;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=Xb.MessageDirection.clientToServer,e.type=new Xb.ProtocolRequestType(e.method)})(T1e||(l5.CallHierarchyPrepareRequest=T1e={}));var w1e;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=Xb.MessageDirection.clientToServer,e.type=new Xb.ProtocolRequestType(e.method)})(w1e||(l5.CallHierarchyIncomingCallsRequest=w1e={}));var S1e;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=Xb.MessageDirection.clientToServer,e.type=new Xb.ProtocolRequestType(e.method)})(S1e||(l5.CallHierarchyOutgoingCallsRequest=S1e={}))});var F1e=V(wc=>{"use strict";d();Object.defineProperty(wc,"__esModule",{value:!0});wc.SemanticTokensRefreshRequest=wc.SemanticTokensRangeRequest=wc.SemanticTokensDeltaRequest=wc.SemanticTokensRequest=wc.SemanticTokensRegistrationType=wc.TokenFormat=void 0;var s1=As(),k1e;(function(e){e.Relative="relative"})(k1e||(wc.TokenFormat=k1e={}));var X7;(function(e){e.method="textDocument/semanticTokens",e.type=new s1.RegistrationType(e.method)})(X7||(wc.SemanticTokensRegistrationType=X7={}));var B1e;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=s1.MessageDirection.clientToServer,e.type=new s1.ProtocolRequestType(e.method),e.registrationMethod=X7.method})(B1e||(wc.SemanticTokensRequest=B1e={}));var R1e;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=s1.MessageDirection.clientToServer,e.type=new s1.ProtocolRequestType(e.method),e.registrationMethod=X7.method})(R1e||(wc.SemanticTokensDeltaRequest=R1e={}));var D1e;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=s1.MessageDirection.clientToServer,e.type=new s1.ProtocolRequestType(e.method),e.registrationMethod=X7.method})(D1e||(wc.SemanticTokensRangeRequest=D1e={}));var P1e;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=s1.MessageDirection.serverToClient,e.type=new s1.ProtocolRequestType0(e.method)})(P1e||(wc.SemanticTokensRefreshRequest=P1e={}))});var Q1e=V(dP=>{"use strict";d();Object.defineProperty(dP,"__esModule",{value:!0});dP.ShowDocumentRequest=void 0;var N1e=As(),L1e;(function(e){e.method="window/showDocument",e.messageDirection=N1e.MessageDirection.serverToClient,e.type=new N1e.ProtocolRequestType(e.method)})(L1e||(dP.ShowDocumentRequest=L1e={}))});var U1e=V(mP=>{"use strict";d();Object.defineProperty(mP,"__esModule",{value:!0});mP.LinkedEditingRangeRequest=void 0;var M1e=As(),O1e;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=M1e.MessageDirection.clientToServer,e.type=new M1e.ProtocolRequestType(e.method)})(O1e||(mP.LinkedEditingRangeRequest=O1e={}))});var z1e=V(h0=>{"use strict";d();Object.defineProperty(h0,"__esModule",{value:!0});h0.WillDeleteFilesRequest=h0.DidDeleteFilesNotification=h0.DidRenameFilesNotification=h0.WillRenameFilesRequest=h0.DidCreateFilesNotification=h0.WillCreateFilesRequest=h0.FileOperationPatternKind=void 0;var Of=As(),q1e;(function(e){e.file="file",e.folder="folder"})(q1e||(h0.FileOperationPatternKind=q1e={}));var W1e;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Of.MessageDirection.clientToServer,e.type=new Of.ProtocolRequestType(e.method)})(W1e||(h0.WillCreateFilesRequest=W1e={}));var G1e;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Of.MessageDirection.clientToServer,e.type=new Of.ProtocolNotificationType(e.method)})(G1e||(h0.DidCreateFilesNotification=G1e={}));var H1e;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Of.MessageDirection.clientToServer,e.type=new Of.ProtocolRequestType(e.method)})(H1e||(h0.WillRenameFilesRequest=H1e={}));var V1e;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Of.MessageDirection.clientToServer,e.type=new Of.ProtocolNotificationType(e.method)})(V1e||(h0.DidRenameFilesNotification=V1e={}));var j1e;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Of.MessageDirection.clientToServer,e.type=new Of.ProtocolNotificationType(e.method)})(j1e||(h0.DidDeleteFilesNotification=j1e={}));var $1e;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Of.MessageDirection.clientToServer,e.type=new Of.ProtocolRequestType(e.method)})($1e||(h0.WillDeleteFilesRequest=$1e={}))});var Z1e=V(c5=>{"use strict";d();Object.defineProperty(c5,"__esModule",{value:!0});c5.MonikerRequest=c5.MonikerKind=c5.UniquenessLevel=void 0;var Y1e=As(),K1e;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(K1e||(c5.UniquenessLevel=K1e={}));var J1e;(function(e){e.$import="import",e.$export="export",e.local="local"})(J1e||(c5.MonikerKind=J1e={}));var X1e;(function(e){e.method="textDocument/moniker",e.messageDirection=Y1e.MessageDirection.clientToServer,e.type=new Y1e.ProtocolRequestType(e.method)})(X1e||(c5.MonikerRequest=X1e={}))});var nAe=V(u5=>{"use strict";d();Object.defineProperty(u5,"__esModule",{value:!0});u5.TypeHierarchySubtypesRequest=u5.TypeHierarchySupertypesRequest=u5.TypeHierarchyPrepareRequest=void 0;var Zb=As(),eAe;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=Zb.MessageDirection.clientToServer,e.type=new Zb.ProtocolRequestType(e.method)})(eAe||(u5.TypeHierarchyPrepareRequest=eAe={}));var tAe;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=Zb.MessageDirection.clientToServer,e.type=new Zb.ProtocolRequestType(e.method)})(tAe||(u5.TypeHierarchySupertypesRequest=tAe={}));var rAe;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=Zb.MessageDirection.clientToServer,e.type=new Zb.ProtocolRequestType(e.method)})(rAe||(u5.TypeHierarchySubtypesRequest=rAe={}))});var sAe=V(ev=>{"use strict";d();Object.defineProperty(ev,"__esModule",{value:!0});ev.InlineValueRefreshRequest=ev.InlineValueRequest=void 0;var hP=As(),iAe;(function(e){e.method="textDocument/inlineValue",e.messageDirection=hP.MessageDirection.clientToServer,e.type=new hP.ProtocolRequestType(e.method)})(iAe||(ev.InlineValueRequest=iAe={}));var oAe;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=hP.MessageDirection.serverToClient,e.type=new hP.ProtocolRequestType0(e.method)})(oAe||(ev.InlineValueRefreshRequest=oAe={}))});var uAe=V(f5=>{"use strict";d();Object.defineProperty(f5,"__esModule",{value:!0});f5.InlayHintRefreshRequest=f5.InlayHintResolveRequest=f5.InlayHintRequest=void 0;var tv=As(),aAe;(function(e){e.method="textDocument/inlayHint",e.messageDirection=tv.MessageDirection.clientToServer,e.type=new tv.ProtocolRequestType(e.method)})(aAe||(f5.InlayHintRequest=aAe={}));var lAe;(function(e){e.method="inlayHint/resolve",e.messageDirection=tv.MessageDirection.clientToServer,e.type=new tv.ProtocolRequestType(e.method)})(lAe||(f5.InlayHintResolveRequest=lAe={}));var cAe;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=tv.MessageDirection.serverToClient,e.type=new tv.ProtocolRequestType0(e.method)})(cAe||(f5.InlayHintRefreshRequest=cAe={}))});var AAe=V(Uf=>{"use strict";d();Object.defineProperty(Uf,"__esModule",{value:!0});Uf.DiagnosticRefreshRequest=Uf.WorkspaceDiagnosticRequest=Uf.DocumentDiagnosticRequest=Uf.DocumentDiagnosticReportKind=Uf.DiagnosticServerCancellationData=void 0;var gAe=_3(),gXe=rP(),rv=As(),fAe;(function(e){function t(r){let n=r;return n&&gXe.boolean(n.retriggerRequest)}o(t,"is"),e.is=t})(fAe||(Uf.DiagnosticServerCancellationData=fAe={}));var dAe;(function(e){e.Full="full",e.Unchanged="unchanged"})(dAe||(Uf.DocumentDiagnosticReportKind=dAe={}));var mAe;(function(e){e.method="textDocument/diagnostic",e.messageDirection=rv.MessageDirection.clientToServer,e.type=new rv.ProtocolRequestType(e.method),e.partialResult=new gAe.ProgressType})(mAe||(Uf.DocumentDiagnosticRequest=mAe={}));var hAe;(function(e){e.method="workspace/diagnostic",e.messageDirection=rv.MessageDirection.clientToServer,e.type=new rv.ProtocolRequestType(e.method),e.partialResult=new gAe.ProgressType})(hAe||(Uf.WorkspaceDiagnosticRequest=hAe={}));var pAe;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=rv.MessageDirection.serverToClient,e.type=new rv.ProtocolRequestType0(e.method)})(pAe||(Uf.DiagnosticRefreshRequest=pAe={}))});var IAe=V(Ws=>{"use strict";d();Object.defineProperty(Ws,"__esModule",{value:!0});Ws.DidCloseNotebookDocumentNotification=Ws.DidSaveNotebookDocumentNotification=Ws.DidChangeNotebookDocumentNotification=Ws.NotebookCellArrayChange=Ws.DidOpenNotebookDocumentNotification=Ws.NotebookDocumentSyncRegistrationType=Ws.NotebookDocument=Ws.NotebookCell=Ws.ExecutionSummary=Ws.NotebookCellKind=void 0;var Z7=tP(),xm=rP(),Zh=As(),lK;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(lK||(Ws.NotebookCellKind=lK={}));var cK;(function(e){function t(i,s){let a={executionOrder:i};return(s===!0||s===!1)&&(a.success=s),a}o(t,"create"),e.create=t;function r(i){let s=i;return xm.objectLiteral(s)&&Z7.uinteger.is(s.executionOrder)&&(s.success===void 0||xm.boolean(s.success))}o(r,"is"),e.is=r;function n(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}o(n,"equals"),e.equals=n})(cK||(Ws.ExecutionSummary=cK={}));var pP;(function(e){function t(s,a){return{kind:s,document:a}}o(t,"create"),e.create=t;function r(s){let a=s;return xm.objectLiteral(a)&&lK.is(a.kind)&&Z7.DocumentUri.is(a.document)&&(a.metadata===void 0||xm.objectLiteral(a.metadata))}o(r,"is"),e.is=r;function n(s,a){let l=new Set;return s.document!==a.document&&l.add("document"),s.kind!==a.kind&&l.add("kind"),s.executionSummary!==a.executionSummary&&l.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!i(s.metadata,a.metadata)&&l.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!cK.equals(s.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}o(n,"diff"),e.diff=n;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;let l=Array.isArray(s),c=Array.isArray(a);if(l!==c)return!1;if(l&&c){if(s.length!==a.length)return!1;for(let u=0;u<s.length;u++)if(!i(s[u],a[u]))return!1}if(xm.objectLiteral(s)&&xm.objectLiteral(a)){let u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length||(u.sort(),f.sort(),!i(u,f)))return!1;for(let m=0;m<u.length;m++){let h=u[m];if(!i(s[h],a[h]))return!1}}return!0}o(i,"equalsMetadata")})(pP||(Ws.NotebookCell=pP={}));var yAe;(function(e){function t(n,i,s,a){return{uri:n,notebookType:i,version:s,cells:a}}o(t,"create"),e.create=t;function r(n){let i=n;return xm.objectLiteral(i)&&xm.string(i.uri)&&Z7.integer.is(i.version)&&xm.typedArray(i.cells,pP.is)}o(r,"is"),e.is=r})(yAe||(Ws.NotebookDocument=yAe={}));var nv;(function(e){e.method="notebookDocument/sync",e.messageDirection=Zh.MessageDirection.clientToServer,e.type=new Zh.RegistrationType(e.method)})(nv||(Ws.NotebookDocumentSyncRegistrationType=nv={}));var CAe;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Zh.MessageDirection.clientToServer,e.type=new Zh.ProtocolNotificationType(e.method),e.registrationMethod=nv.method})(CAe||(Ws.DidOpenNotebookDocumentNotification=CAe={}));var EAe;(function(e){function t(n){let i=n;return xm.objectLiteral(i)&&Z7.uinteger.is(i.start)&&Z7.uinteger.is(i.deleteCount)&&(i.cells===void 0||xm.typedArray(i.cells,pP.is))}o(t,"is"),e.is=t;function r(n,i,s){let a={start:n,deleteCount:i};return s!==void 0&&(a.cells=s),a}o(r,"create"),e.create=r})(EAe||(Ws.NotebookCellArrayChange=EAe={}));var xAe;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Zh.MessageDirection.clientToServer,e.type=new Zh.ProtocolNotificationType(e.method),e.registrationMethod=nv.method})(xAe||(Ws.DidChangeNotebookDocumentNotification=xAe={}));var bAe;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Zh.MessageDirection.clientToServer,e.type=new Zh.ProtocolNotificationType(e.method),e.registrationMethod=nv.method})(bAe||(Ws.DidSaveNotebookDocumentNotification=bAe={}));var vAe;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Zh.MessageDirection.clientToServer,e.type=new Zh.ProtocolNotificationType(e.method),e.registrationMethod=nv.method})(vAe||(Ws.DidCloseNotebookDocumentNotification=vAe={}))});var SAe=V(gP=>{"use strict";d();Object.defineProperty(gP,"__esModule",{value:!0});gP.InlineCompletionRequest=void 0;var TAe=As(),wAe;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=TAe.MessageDirection.clientToServer,e.type=new TAe.ProtocolRequestType(e.method)})(wAe||(gP.InlineCompletionRequest=wAe={}))});var U2e=V(xe=>{"use strict";d();Object.defineProperty(xe,"__esModule",{value:!0});xe.WorkspaceSymbolRequest=xe.CodeActionResolveRequest=xe.CodeActionRequest=xe.DocumentSymbolRequest=xe.DocumentHighlightRequest=xe.ReferencesRequest=xe.DefinitionRequest=xe.SignatureHelpRequest=xe.SignatureHelpTriggerKind=xe.HoverRequest=xe.CompletionResolveRequest=xe.CompletionRequest=xe.CompletionTriggerKind=xe.PublishDiagnosticsNotification=xe.WatchKind=xe.RelativePattern=xe.FileChangeType=xe.DidChangeWatchedFilesNotification=xe.WillSaveTextDocumentWaitUntilRequest=xe.WillSaveTextDocumentNotification=xe.TextDocumentSaveReason=xe.DidSaveTextDocumentNotification=xe.DidCloseTextDocumentNotification=xe.DidChangeTextDocumentNotification=xe.TextDocumentContentChangeEvent=xe.DidOpenTextDocumentNotification=xe.TextDocumentSyncKind=xe.TelemetryEventNotification=xe.LogMessageNotification=xe.ShowMessageRequest=xe.ShowMessageNotification=xe.MessageType=xe.DidChangeConfigurationNotification=xe.ExitNotification=xe.ShutdownRequest=xe.InitializedNotification=xe.InitializeErrorCodes=xe.InitializeRequest=xe.WorkDoneProgressOptions=xe.TextDocumentRegistrationOptions=xe.StaticRegistrationOptions=xe.PositionEncodingKind=xe.FailureHandlingKind=xe.ResourceOperationKind=xe.UnregistrationRequest=xe.RegistrationRequest=xe.DocumentSelector=xe.NotebookCellTextDocumentFilter=xe.NotebookDocumentFilter=xe.TextDocumentFilter=void 0;xe.MonikerRequest=xe.MonikerKind=xe.UniquenessLevel=xe.WillDeleteFilesRequest=xe.DidDeleteFilesNotification=xe.WillRenameFilesRequest=xe.DidRenameFilesNotification=xe.WillCreateFilesRequest=xe.DidCreateFilesNotification=xe.FileOperationPatternKind=xe.LinkedEditingRangeRequest=xe.ShowDocumentRequest=xe.SemanticTokensRegistrationType=xe.SemanticTokensRefreshRequest=xe.SemanticTokensRangeRequest=xe.SemanticTokensDeltaRequest=xe.SemanticTokensRequest=xe.TokenFormat=xe.CallHierarchyPrepareRequest=xe.CallHierarchyOutgoingCallsRequest=xe.CallHierarchyIncomingCallsRequest=xe.WorkDoneProgressCancelNotification=xe.WorkDoneProgressCreateRequest=xe.WorkDoneProgress=xe.SelectionRangeRequest=xe.DeclarationRequest=xe.FoldingRangeRefreshRequest=xe.FoldingRangeRequest=xe.ColorPresentationRequest=xe.DocumentColorRequest=xe.ConfigurationRequest=xe.DidChangeWorkspaceFoldersNotification=xe.WorkspaceFoldersRequest=xe.TypeDefinitionRequest=xe.ImplementationRequest=xe.ApplyWorkspaceEditRequest=xe.ExecuteCommandRequest=xe.PrepareRenameRequest=xe.RenameRequest=xe.PrepareSupportDefaultBehavior=xe.DocumentOnTypeFormattingRequest=xe.DocumentRangesFormattingRequest=xe.DocumentRangeFormattingRequest=xe.DocumentFormattingRequest=xe.DocumentLinkResolveRequest=xe.DocumentLinkRequest=xe.CodeLensRefreshRequest=xe.CodeLensResolveRequest=xe.CodeLensRequest=xe.WorkspaceSymbolResolveRequest=void 0;xe.InlineCompletionRequest=xe.DidCloseNotebookDocumentNotification=xe.DidSaveNotebookDocumentNotification=xe.DidChangeNotebookDocumentNotification=xe.NotebookCellArrayChange=xe.DidOpenNotebookDocumentNotification=xe.NotebookDocumentSyncRegistrationType=xe.NotebookDocument=xe.NotebookCell=xe.ExecutionSummary=xe.NotebookCellKind=xe.DiagnosticRefreshRequest=xe.WorkspaceDiagnosticRequest=xe.DocumentDiagnosticRequest=xe.DocumentDiagnosticReportKind=xe.DiagnosticServerCancellationData=xe.InlayHintRefreshRequest=xe.InlayHintResolveRequest=xe.InlayHintRequest=xe.InlineValueRefreshRequest=xe.InlineValueRequest=xe.TypeHierarchySupertypesRequest=xe.TypeHierarchySubtypesRequest=xe.TypeHierarchyPrepareRequest=void 0;var Kt=As(),_Ae=tP(),cl=rP(),AXe=Zge();Object.defineProperty(xe,"ImplementationRequest",{enumerable:!0,get:o(function(){return AXe.ImplementationRequest},"get")});var yXe=r1e();Object.defineProperty(xe,"TypeDefinitionRequest",{enumerable:!0,get:o(function(){return yXe.TypeDefinitionRequest},"get")});var L2e=o1e();Object.defineProperty(xe,"WorkspaceFoldersRequest",{enumerable:!0,get:o(function(){return L2e.WorkspaceFoldersRequest},"get")});Object.defineProperty(xe,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:o(function(){return L2e.DidChangeWorkspaceFoldersNotification},"get")});var CXe=l1e();Object.defineProperty(xe,"ConfigurationRequest",{enumerable:!0,get:o(function(){return CXe.ConfigurationRequest},"get")});var Q2e=f1e();Object.defineProperty(xe,"DocumentColorRequest",{enumerable:!0,get:o(function(){return Q2e.DocumentColorRequest},"get")});Object.defineProperty(xe,"ColorPresentationRequest",{enumerable:!0,get:o(function(){return Q2e.ColorPresentationRequest},"get")});var M2e=h1e();Object.defineProperty(xe,"FoldingRangeRequest",{enumerable:!0,get:o(function(){return M2e.FoldingRangeRequest},"get")});Object.defineProperty(xe,"FoldingRangeRefreshRequest",{enumerable:!0,get:o(function(){return M2e.FoldingRangeRefreshRequest},"get")});var EXe=A1e();Object.defineProperty(xe,"DeclarationRequest",{enumerable:!0,get:o(function(){return EXe.DeclarationRequest},"get")});var xXe=E1e();Object.defineProperty(xe,"SelectionRangeRequest",{enumerable:!0,get:o(function(){return xXe.SelectionRangeRequest},"get")});var hK=I1e();Object.defineProperty(xe,"WorkDoneProgress",{enumerable:!0,get:o(function(){return hK.WorkDoneProgress},"get")});Object.defineProperty(xe,"WorkDoneProgressCreateRequest",{enumerable:!0,get:o(function(){return hK.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(xe,"WorkDoneProgressCancelNotification",{enumerable:!0,get:o(function(){return hK.WorkDoneProgressCancelNotification},"get")});var pK=_1e();Object.defineProperty(xe,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:o(function(){return pK.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(xe,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:o(function(){return pK.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(xe,"CallHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return pK.CallHierarchyPrepareRequest},"get")});var iv=F1e();Object.defineProperty(xe,"TokenFormat",{enumerable:!0,get:o(function(){return iv.TokenFormat},"get")});Object.defineProperty(xe,"SemanticTokensRequest",{enumerable:!0,get:o(function(){return iv.SemanticTokensRequest},"get")});Object.defineProperty(xe,"SemanticTokensDeltaRequest",{enumerable:!0,get:o(function(){return iv.SemanticTokensDeltaRequest},"get")});Object.defineProperty(xe,"SemanticTokensRangeRequest",{enumerable:!0,get:o(function(){return iv.SemanticTokensRangeRequest},"get")});Object.defineProperty(xe,"SemanticTokensRefreshRequest",{enumerable:!0,get:o(function(){return iv.SemanticTokensRefreshRequest},"get")});Object.defineProperty(xe,"SemanticTokensRegistrationType",{enumerable:!0,get:o(function(){return iv.SemanticTokensRegistrationType},"get")});var bXe=Q1e();Object.defineProperty(xe,"ShowDocumentRequest",{enumerable:!0,get:o(function(){return bXe.ShowDocumentRequest},"get")});var vXe=U1e();Object.defineProperty(xe,"LinkedEditingRangeRequest",{enumerable:!0,get:o(function(){return vXe.LinkedEditingRangeRequest},"get")});var k3=z1e();Object.defineProperty(xe,"FileOperationPatternKind",{enumerable:!0,get:o(function(){return k3.FileOperationPatternKind},"get")});Object.defineProperty(xe,"DidCreateFilesNotification",{enumerable:!0,get:o(function(){return k3.DidCreateFilesNotification},"get")});Object.defineProperty(xe,"WillCreateFilesRequest",{enumerable:!0,get:o(function(){return k3.WillCreateFilesRequest},"get")});Object.defineProperty(xe,"DidRenameFilesNotification",{enumerable:!0,get:o(function(){return k3.DidRenameFilesNotification},"get")});Object.defineProperty(xe,"WillRenameFilesRequest",{enumerable:!0,get:o(function(){return k3.WillRenameFilesRequest},"get")});Object.defineProperty(xe,"DidDeleteFilesNotification",{enumerable:!0,get:o(function(){return k3.DidDeleteFilesNotification},"get")});Object.defineProperty(xe,"WillDeleteFilesRequest",{enumerable:!0,get:o(function(){return k3.WillDeleteFilesRequest},"get")});var gK=Z1e();Object.defineProperty(xe,"UniquenessLevel",{enumerable:!0,get:o(function(){return gK.UniquenessLevel},"get")});Object.defineProperty(xe,"MonikerKind",{enumerable:!0,get:o(function(){return gK.MonikerKind},"get")});Object.defineProperty(xe,"MonikerRequest",{enumerable:!0,get:o(function(){return gK.MonikerRequest},"get")});var AK=nAe();Object.defineProperty(xe,"TypeHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return AK.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(xe,"TypeHierarchySubtypesRequest",{enumerable:!0,get:o(function(){return AK.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(xe,"TypeHierarchySupertypesRequest",{enumerable:!0,get:o(function(){return AK.TypeHierarchySupertypesRequest},"get")});var O2e=sAe();Object.defineProperty(xe,"InlineValueRequest",{enumerable:!0,get:o(function(){return O2e.InlineValueRequest},"get")});Object.defineProperty(xe,"InlineValueRefreshRequest",{enumerable:!0,get:o(function(){return O2e.InlineValueRefreshRequest},"get")});var yK=uAe();Object.defineProperty(xe,"InlayHintRequest",{enumerable:!0,get:o(function(){return yK.InlayHintRequest},"get")});Object.defineProperty(xe,"InlayHintResolveRequest",{enumerable:!0,get:o(function(){return yK.InlayHintResolveRequest},"get")});Object.defineProperty(xe,"InlayHintRefreshRequest",{enumerable:!0,get:o(function(){return yK.InlayHintRefreshRequest},"get")});var eT=AAe();Object.defineProperty(xe,"DiagnosticServerCancellationData",{enumerable:!0,get:o(function(){return eT.DiagnosticServerCancellationData},"get")});Object.defineProperty(xe,"DocumentDiagnosticReportKind",{enumerable:!0,get:o(function(){return eT.DocumentDiagnosticReportKind},"get")});Object.defineProperty(xe,"DocumentDiagnosticRequest",{enumerable:!0,get:o(function(){return eT.DocumentDiagnosticRequest},"get")});Object.defineProperty(xe,"WorkspaceDiagnosticRequest",{enumerable:!0,get:o(function(){return eT.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(xe,"DiagnosticRefreshRequest",{enumerable:!0,get:o(function(){return eT.DiagnosticRefreshRequest},"get")});var ep=IAe();Object.defineProperty(xe,"NotebookCellKind",{enumerable:!0,get:o(function(){return ep.NotebookCellKind},"get")});Object.defineProperty(xe,"ExecutionSummary",{enumerable:!0,get:o(function(){return ep.ExecutionSummary},"get")});Object.defineProperty(xe,"NotebookCell",{enumerable:!0,get:o(function(){return ep.NotebookCell},"get")});Object.defineProperty(xe,"NotebookDocument",{enumerable:!0,get:o(function(){return ep.NotebookDocument},"get")});Object.defineProperty(xe,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:o(function(){return ep.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(xe,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:o(function(){return ep.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(xe,"NotebookCellArrayChange",{enumerable:!0,get:o(function(){return ep.NotebookCellArrayChange},"get")});Object.defineProperty(xe,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:o(function(){return ep.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(xe,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:o(function(){return ep.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(xe,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:o(function(){return ep.DidCloseNotebookDocumentNotification},"get")});var IXe=SAe();Object.defineProperty(xe,"InlineCompletionRequest",{enumerable:!0,get:o(function(){return IXe.InlineCompletionRequest},"get")});var uK;(function(e){function t(r){let n=r;return cl.string(n)||cl.string(n.language)||cl.string(n.scheme)||cl.string(n.pattern)}o(t,"is"),e.is=t})(uK||(xe.TextDocumentFilter=uK={}));var fK;(function(e){function t(r){let n=r;return cl.objectLiteral(n)&&(cl.string(n.notebookType)||cl.string(n.scheme)||cl.string(n.pattern))}o(t,"is"),e.is=t})(fK||(xe.NotebookDocumentFilter=fK={}));var dK;(function(e){function t(r){let n=r;return cl.objectLiteral(n)&&(cl.string(n.notebook)||fK.is(n.notebook))&&(n.language===void 0||cl.string(n.language))}o(t,"is"),e.is=t})(dK||(xe.NotebookCellTextDocumentFilter=dK={}));var mK;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!cl.string(n)&&!uK.is(n)&&!dK.is(n))return!1;return!0}o(t,"is"),e.is=t})(mK||(xe.DocumentSelector=mK={}));var kAe;(function(e){e.method="client/registerCapability",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType(e.method)})(kAe||(xe.RegistrationRequest=kAe={}));var BAe;(function(e){e.method="client/unregisterCapability",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType(e.method)})(BAe||(xe.UnregistrationRequest=BAe={}));var RAe;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(RAe||(xe.ResourceOperationKind=RAe={}));var DAe;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(DAe||(xe.FailureHandlingKind=DAe={}));var PAe;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(PAe||(xe.PositionEncodingKind=PAe={}));var FAe;(function(e){function t(r){let n=r;return n&&cl.string(n.id)&&n.id.length>0}o(t,"hasId"),e.hasId=t})(FAe||(xe.StaticRegistrationOptions=FAe={}));var NAe;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||mK.is(n.documentSelector))}o(t,"is"),e.is=t})(NAe||(xe.TextDocumentRegistrationOptions=NAe={}));var LAe;(function(e){function t(n){let i=n;return cl.objectLiteral(i)&&(i.workDoneProgress===void 0||cl.boolean(i.workDoneProgress))}o(t,"is"),e.is=t;function r(n){let i=n;return i&&cl.boolean(i.workDoneProgress)}o(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(LAe||(xe.WorkDoneProgressOptions=LAe={}));var QAe;(function(e){e.method="initialize",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(QAe||(xe.InitializeRequest=QAe={}));var MAe;(function(e){e.unknownProtocolVersion=1})(MAe||(xe.InitializeErrorCodes=MAe={}));var OAe;(function(e){e.method="initialized",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(OAe||(xe.InitializedNotification=OAe={}));var UAe;(function(e){e.method="shutdown",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType0(e.method)})(UAe||(xe.ShutdownRequest=UAe={}));var qAe;(function(e){e.method="exit",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType0(e.method)})(qAe||(xe.ExitNotification=qAe={}));var WAe;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(WAe||(xe.DidChangeConfigurationNotification=WAe={}));var GAe;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(GAe||(xe.MessageType=GAe={}));var HAe;(function(e){e.method="window/showMessage",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolNotificationType(e.method)})(HAe||(xe.ShowMessageNotification=HAe={}));var VAe;(function(e){e.method="window/showMessageRequest",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType(e.method)})(VAe||(xe.ShowMessageRequest=VAe={}));var jAe;(function(e){e.method="window/logMessage",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolNotificationType(e.method)})(jAe||(xe.LogMessageNotification=jAe={}));var $Ae;(function(e){e.method="telemetry/event",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolNotificationType(e.method)})($Ae||(xe.TelemetryEventNotification=$Ae={}));var zAe;(function(e){e.None=0,e.Full=1,e.Incremental=2})(zAe||(xe.TextDocumentSyncKind=zAe={}));var YAe;(function(e){e.method="textDocument/didOpen",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(YAe||(xe.DidOpenTextDocumentNotification=YAe={}));var KAe;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}o(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}o(r,"isFull"),e.isFull=r})(KAe||(xe.TextDocumentContentChangeEvent=KAe={}));var JAe;(function(e){e.method="textDocument/didChange",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(JAe||(xe.DidChangeTextDocumentNotification=JAe={}));var XAe;(function(e){e.method="textDocument/didClose",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(XAe||(xe.DidCloseTextDocumentNotification=XAe={}));var ZAe;(function(e){e.method="textDocument/didSave",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(ZAe||(xe.DidSaveTextDocumentNotification=ZAe={}));var e2e;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(e2e||(xe.TextDocumentSaveReason=e2e={}));var t2e;(function(e){e.method="textDocument/willSave",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(t2e||(xe.WillSaveTextDocumentNotification=t2e={}));var r2e;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(r2e||(xe.WillSaveTextDocumentWaitUntilRequest=r2e={}));var n2e;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(n2e||(xe.DidChangeWatchedFilesNotification=n2e={}));var i2e;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(i2e||(xe.FileChangeType=i2e={}));var o2e;(function(e){function t(r){let n=r;return cl.objectLiteral(n)&&(_Ae.URI.is(n.baseUri)||_Ae.WorkspaceFolder.is(n.baseUri))&&cl.string(n.pattern)}o(t,"is"),e.is=t})(o2e||(xe.RelativePattern=o2e={}));var s2e;(function(e){e.Create=1,e.Change=2,e.Delete=4})(s2e||(xe.WatchKind=s2e={}));var a2e;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolNotificationType(e.method)})(a2e||(xe.PublishDiagnosticsNotification=a2e={}));var l2e;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(l2e||(xe.CompletionTriggerKind=l2e={}));var c2e;(function(e){e.method="textDocument/completion",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(c2e||(xe.CompletionRequest=c2e={}));var u2e;(function(e){e.method="completionItem/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(u2e||(xe.CompletionResolveRequest=u2e={}));var f2e;(function(e){e.method="textDocument/hover",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(f2e||(xe.HoverRequest=f2e={}));var d2e;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(d2e||(xe.SignatureHelpTriggerKind=d2e={}));var m2e;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(m2e||(xe.SignatureHelpRequest=m2e={}));var h2e;(function(e){e.method="textDocument/definition",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(h2e||(xe.DefinitionRequest=h2e={}));var p2e;(function(e){e.method="textDocument/references",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(p2e||(xe.ReferencesRequest=p2e={}));var g2e;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(g2e||(xe.DocumentHighlightRequest=g2e={}));var A2e;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(A2e||(xe.DocumentSymbolRequest=A2e={}));var y2e;(function(e){e.method="textDocument/codeAction",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(y2e||(xe.CodeActionRequest=y2e={}));var C2e;(function(e){e.method="codeAction/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(C2e||(xe.CodeActionResolveRequest=C2e={}));var E2e;(function(e){e.method="workspace/symbol",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(E2e||(xe.WorkspaceSymbolRequest=E2e={}));var x2e;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(x2e||(xe.WorkspaceSymbolResolveRequest=x2e={}));var b2e;(function(e){e.method="textDocument/codeLens",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(b2e||(xe.CodeLensRequest=b2e={}));var v2e;(function(e){e.method="codeLens/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(v2e||(xe.CodeLensResolveRequest=v2e={}));var I2e;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType0(e.method)})(I2e||(xe.CodeLensRefreshRequest=I2e={}));var T2e;(function(e){e.method="textDocument/documentLink",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(T2e||(xe.DocumentLinkRequest=T2e={}));var w2e;(function(e){e.method="documentLink/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(w2e||(xe.DocumentLinkResolveRequest=w2e={}));var S2e;(function(e){e.method="textDocument/formatting",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(S2e||(xe.DocumentFormattingRequest=S2e={}));var _2e;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(_2e||(xe.DocumentRangeFormattingRequest=_2e={}));var k2e;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(k2e||(xe.DocumentRangesFormattingRequest=k2e={}));var B2e;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(B2e||(xe.DocumentOnTypeFormattingRequest=B2e={}));var R2e;(function(e){e.Identifier=1})(R2e||(xe.PrepareSupportDefaultBehavior=R2e={}));var D2e;(function(e){e.method="textDocument/rename",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(D2e||(xe.RenameRequest=D2e={}));var P2e;(function(e){e.method="textDocument/prepareRename",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(P2e||(xe.PrepareRenameRequest=P2e={}));var F2e;(function(e){e.method="workspace/executeCommand",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(F2e||(xe.ExecuteCommandRequest=F2e={}));var N2e;(function(e){e.method="workspace/applyEdit",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType("workspace/applyEdit")})(N2e||(xe.ApplyWorkspaceEditRequest=N2e={}))});var W2e=V(AP=>{"use strict";d();Object.defineProperty(AP,"__esModule",{value:!0});AP.createProtocolConnection=void 0;var q2e=_3();function TXe(e,t,r,n){return q2e.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,q2e.createMessageConnection)(e,t,r,n)}o(TXe,"createProtocolConnection");AP.createProtocolConnection=TXe});var H2e=V(Sc=>{"use strict";d();var wXe=Sc&&Sc.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yP=Sc&&Sc.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wXe(t,e,r)};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.LSPErrorCodes=Sc.createProtocolConnection=void 0;yP(_3(),Sc);yP(tP(),Sc);yP(As(),Sc);yP(U2e(),Sc);var SXe=W2e();Object.defineProperty(Sc,"createProtocolConnection",{enumerable:!0,get:o(function(){return SXe.createProtocolConnection},"get")});var G2e;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(G2e||(Sc.LSPErrorCodes=G2e={}))});var ri=V(tp=>{"use strict";d();var _Xe=tp&&tp.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),V2e=tp&&tp.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_Xe(t,e,r)};Object.defineProperty(tp,"__esModule",{value:!0});tp.createProtocolConnection=void 0;var kXe=rK();V2e(rK(),tp);V2e(H2e(),tp);function BXe(e,t,r,n){return(0,kXe.createMessageConnection)(e,t,r,n)}o(BXe,"createProtocolConnection");tp.createProtocolConnection=BXe});var b5e=V((PP,x5e)=>{d();(function(e,t){typeof PP=="object"&&typeof x5e<"u"?t(PP):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(PP,function(e){"use strict";function t(w,k){return w||k}o(t,"_pureAssign");function r(w,k){return w[k]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",A="length",E="name",x="call",b="toString",v=t(Object),S=r(v,c),B=t(String),P=r(B,c),F=t(Math),G=t(Array),re=r(G,c),pe=r(re,"slice");function Z(w,k){try{return{v:w.apply(this,k)}}catch(R){return{e:R}}}o(Z,"safe");function W(w){return function(k){return typeof k===w}}o(W,"_createIs");function q(w){var k="[object "+w+"]";return function(R){return!!(R&&se(R)===k)}}o(q,"_createObjIs");function se(w){return S[b].call(w)}o(se,"objToString");function ne(w){return typeof w===f||w===f}o(ne,"isUndefined");function H(w){return!j(w)}o(H,"isStrictUndefined");function O(w){return w===i||ne(w)}o(O,"isNullOrUndefined");function j(w){return!!w||w!==n}o(j,"isDefined");var J=W("string"),le=W(a);function ee(w){return!w&&O(w)?!1:!!w&&typeof w===l}o(ee,"isObject");var ae=r(G,"isArray"),ce=q("Error"),Re=r(v,"getOwnPropertyDescriptor");function ve(w,k){return!!w&&S.hasOwnProperty[x](w,k)}o(ve,"objHasOwnProperty");var Ue=t(r(v,"hasOwn"),ke);function ke(w,k){return ve(w,k)||!!Re(w,k)}o(ke,"polyObjHasOwn");function Je(w,k,R){if(w&&ee(w)){for(var Q in w)if(Ue(w,Q)&&k[x](R||w,Q,w[Q])===-1)break}}o(Je,"objForEachKey");var ft={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function ot(w){var k={};if(k[ft.c]=!0,k[ft.e]=!0,w.l){k.get=function(){return w.l.v};var R=Re(w.l,"v");R&&R.set&&(k.set=function(Q){w.l.v=Q})}return Je(w,function(Q,ue){k[ft[Q]]=H(ue)?k[ft[Q]]:ue}),k}o(ot,"_createProp");var at=r(v,"defineProperty");function ie(w,k,R){return at(w,k,ot(R))}o(ie,"objDefine");function Pe(w,k,R,Q,ue){var Te={};return Je(w,function(Be,He){Ae(Te,Be,k?He:Be),Ae(Te,He,R?He:Be)}),Q?Q(Te):Te}o(Pe,"_createKeyValueMap");function Ae(w,k,R,Q){at(w,k,{value:R,enumerable:!0,writable:!1})}o(Ae,"_assignMapValue");var We=t(B),z="[object Error]";function te(w,k){var R=s,Q=S[b][x](w);Q===z&&(w={stack:We(w.stack),message:We(w.message),name:We(w.name)});try{R=JSON.stringify(w,i,k?typeof k=="number"?k:4:n),R=(R?R.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||We(w)}catch(ue){R=" - "+te(ue,k)}return Q+": "+R}o(te,"dumpObj");function Ne(w){throw new Error(w)}o(Ne,"throwError");function Se(w){throw new TypeError(w)}o(Se,"throwTypeError");var Ce=r(v,"freeze");function Oe(w){return w}o(Oe,"_doNothing");function Ve(w){return w[u]||i}o(Ve,"_getProto");var Ze=r(v,"assign"),yt=r(v,"keys"),Rt=t(Ce,Oe),At=t(r(v,"getPrototypeOf"),Ve);function Ht(w){return Pe(w,1,0,Rt)}o(Ht,"createEnum");function $t(w){var k={};return Je(w,function(R,Q){Ae(k,R,Q[1]),Ae(k,Q[0],Q[1])}),Rt(k)}o($t,"createSimpleMap");function ir(w){return $t(w)}o(ir,"createTypeMap");var ge="__tsUtils$gblCfg",Le;function Ke(){var w;return typeof globalThis!==f&&(w=globalThis),!w&&typeof self!==f&&(w=self),!w&&typeof window!==f&&(w=window),!w&&typeof global!==f&&(w=global),w}o(Ke,"_getGlobalValue");function et(){if(!Le){var w=Z(Ke).v||{};Le=w[ge]=w[ge]||{}}return Le}o(et,"_getGlobalConfig");var St=xt;function xt(w,k,R){var Q=k?k[w]:i;return function(ue){var Te=(ue?ue[w]:i)||Q;if(Te||R){var Be=arguments;return(Te||R).apply(ue,Te?pe[x](Be,1):Be)}Se('"'+We(w)+'" not defined for '+te(ue))}}o(xt,"_unwrapFunctionWithPoly");var Nt=r(F,"min"),Qt=r(F,"max"),Tt=St("slice",P),_t=St("substring",P),wt=xt("substr",P,Ot);function Ot(w,k,R){return O(w)&&Se("Invalid "+te(w)),R<0?s:(k=k||0,k<0&&(k=Qt(k+w[A],0)),ne(R)?Tt(w,k):Tt(w,k,k+R))}o(Ot,"polyStrSubstr");function Wt(w,k){return _t(w,0,k)}o(Wt,"strLeft");var zt="_urid",lr;function hr(){if(!lr){var w=et();lr=w.gblSym=w.gblSym||{k:{},s:{}}}return lr}o(hr,"_globalSymbolRegistry");function sr(w){var k={description:We(w),toString:o(function(){return h+"("+w+")"},"toString")};return k[p]=!0,k}o(sr,"polyNewSymbol");function cr(w){var k=hr();if(!Ue(k.k,w)){var R=sr(w),Q=yt(k.s).length;R[zt]=function(){return Q+"_"+R[b]()},k.k[w]=R,k.s[R[zt]()]=We(w)}return k.k[w]}o(cr,"polySymbolFor");var Zt;function ur(){Zt=et()}o(ur,"_initTestHooks");function be(w){return at({toJSON:o(function(){return w},"toJSON")},"v",{value:w})}o(be,"createCachedValue");var M="window",de;function ye(w,k){var R;return function(){return!Zt&&ur(),(!R||Zt.lzy)&&(R=be(Z(w,k).v)),R.v}}o(ye,"_getGlobalInstFn");function Y(w){return!Zt&&ur(),(!de||w===!1||Zt.lzy)&&(de=be(Z(Ke).v||i)),de.v}o(Y,"getGlobal");function L(w,k){var R;if(!de||k===!1?R=Y(k):R=de.v,R&&R[w])return R[w];if(w===M)try{return window}catch{}return i}o(L,"getInst");var Ie=ye(L,["document"]);function Me(){return!!Ct()}o(Me,"hasWindow");var Ct=ye(L,[M]);function Ut(){return!!Pt()}o(Ut,"hasNavigator");var Pt=ye(L,["navigator"]),rr,or;function Mt(){return rr=be(Z(L,[h]).v),rr}o(Mt,"_initSymbol");function vt(w){var k=(Zt.lzy?0:rr)||Mt();return k.v?k.v[w]:n}o(vt,"_getSymbolKey");function ar(w,k){!Zt&&ur();var R=(Zt.lzy?0:rr)||Mt();return R.v?R.v(w):k?i:sr(w)}o(ar,"newSymbol");function Do(w){return!Zt&&ur(),or=(Zt.lzy?0:or)||be(Z(vt,["for"]).v),(or.v||cr)(w)}o(Do,"symbolFor");function qd(w,k,R){return w.apply(k,R)}o(qd,"fnApply");function tl(w,k,R){if(w)for(var Q=w[A]>>>0,ue=0;ue<Q&&!(ue in w&&k[x](R||w,w[ue],ue,w)===-1);ue++);}o(tl,"arrForEach");var Wd=St("indexOf",re),df=St("map",re),Os=St("reduce",re),hh=t(r(v,"create"),IA);function IA(w){if(!w)return{};var k=typeof w;k!==l&&k!==a&&Se("Prototype must be an Object or function: "+te(w));function R(){}return o(R,"tempFunc"),R[c]=w,new R}o(IA,"polyObjCreate");var G6;function Gd(w,k){var R=v.setPrototypeOf||function(Q,ue){var Te;!G6&&(G6=be((Te={},Te[u]=[],Te instanceof Array))),G6.v?Q[u]=ue:Je(ue,function(Be,He){return Q[Be]=He})};return R(w,k)}o(Gd,"objSetPrototypeOf");function xV(w,k,R){Z(ie,[k,E,{v:w,c:!0,e:!1}]),k=Gd(k,R);function Q(){this[m]=k,Z(ie,[this,E,{v:w,c:!0,e:!1}])}return o(Q,"__"),k[c]=R===i?hh(R):(Q[c]=R[c],new Q),k}o(xV,"_createCustomError");function ph(w,k){k&&(w[E]=k)}o(ph,"_setName");function bV(w,k,R){var Q=R||Error,ue=Q[c][E],Te=Error.captureStackTrace;return xV(w,function(){var Be=this,He=arguments;try{Z(ph,[Q,w]);var rt=qd(Q,Be,pe[x](He))||Be;if(rt!==Be){var Et=At(Be);Et!==At(rt)&&Gd(rt,Et)}return Te&&Te(rt,Be[m]),k&&k(rt,He),rt}finally{Z(ph,[Q,ue])}},Q)}o(bV,"createCustomError");function hg(){return(Date.now||H6)()}o(hg,"utcNow");function H6(){return new Date().getTime()}o(H6,"polyUtcNow");function UE(w){return o(function(R){return O(R)&&Se("strTrim called ["+te(R)+"]"),R&&R.replace&&(R=R.replace(w,s)),R},"_doTrim")}o(UE,"_createTrimFn");var vV=UE(/^\s+|(?=\s)\s+$/g),t0=xt("trim",P,vV),gh=r(F,"floor"),sC,pg,aC;function Ah(w){if(!w||typeof w!==l)return!1;aC||(aC=Me()?Ct():!0);var k=!1;if(w!==aC){pg||(sC=Function[c][b],pg=sC[x](v));try{var R=At(w);k=!R,k||(ve(R,m)&&(R=R[m]),k=!!(R&&typeof R===a&&sC[x](R)===pg))}catch{}}return k}o(Ah,"isPlainObject");var qE;function lC(){return!Zt&&ur(),(!qE||Zt.lzy)&&(qE=be(Z(L,["performance"]).v)),qE.v}o(lC,"getPerformance");var V6=r(F,"round"),TA=xt("endsWith",P,wA);function wA(w,k,R){J(w)||Se("'"+te(w)+"' is not a string");var Q=J(k)?k:We(k),ue=!ne(R)&&R<w[A]?R:w[A];return _t(w,ue-Q[A],ue)===Q}o(wA,"polyStrEndsWith");var Vr=St("indexOf",P),k0="ref",gg="unref",SA="hasRef",IV="enabled";function yh(w,k,R){var Q=!0,ue=w?k(i):i,Te;function Be(){return Q=!1,ue&&ue[gg]&&ue[gg](),Te}o(Be,"_unref");function He(){ue&&R(ue),ue=i}o(He,"_cancel");function rt(){return ue=k(ue),Q||Be(),Te}o(rt,"_refresh");function Et(yr){!yr&&ue&&He(),yr&&!ue&&rt()}return o(Et,"_setEnabled"),Te={cancel:He,refresh:rt},Te[SA]=function(){return ue&&ue[SA]?ue[SA]():Q},Te[k0]=function(){return Q=!0,ue&&ue[k0]&&ue[k0](),Te},Te[gg]=Be,Te=at(Te,IV,{get:o(function(){return!!ue},"get"),set:Et}),{h:Te,dn:o(function(){ue=i},"dn")}}o(yh,"_createTimerHandler");function TV(w,k,R){var Q=ae(k),ue=Q?k.length:0,Te=(ue>0?k[0]:Q?n:k)||setTimeout,Be=(ue>1?k[1]:n)||clearTimeout,He=R[0];R[0]=function(){rt.dn(),qd(He,n,pe[x](arguments))};var rt=yh(w,function(Et){if(Et){if(Et.refresh)return Et.refresh(),Et;qd(Be,n,[Et])}return qd(Te,n,R)},function(Et){qd(Be,n,[Et])});return rt.h}o(TV,"_createTimeoutWith");function j6(w,k){return TV(!0,n,pe[x](arguments))}o(j6,"scheduleTimeout");var cC=Ht,wV=ir,uC="toLowerCase",Aa="length",Ch="warnToConsole",fC="throwInternal",hk="watch",SV="apply",Pi="push",Ag="splice",Eh="logger",$6="cancel",dC="name",B0="unload",pk="version",gk="loggingLevelConsole",z6="messageId",yg="message",Y6="diagLog",Ak="userAgent",K6="split",_A="replace",xh="type",yk="evtName",WE="traceFlags",J6="getAttribute",GE;function _V(w,k){GE||(GE=bV("AggregationError",function(Q,ue){ue[Aa]>1&&(Q.errors=ue[1])}));var R=w||"One or more errors occurred.";throw tl(k,function(Q,ue){R+=`
`.concat(ue," > ").concat(te(Q))}),new GE(R,k||[])}o(_V,"throwAggregationError");var kV="function",Ck="object",BV="undefined",Hd="prototype",HE=Object,X6=HE[Hd];(Y()||{}).Symbol,(Y()||{}).Reflect;var VE="hasOwnProperty",RV=o(function(w){for(var k,R=1,Q=arguments.length;R<Q;R++){k=arguments[R];for(var ue in k)X6[VE].call(k,ue)&&(w[ue]=k[ue])}return w},"__objAssignFnImpl"),jE=Ze||RV,$E=o(function(w,k){return $E=HE.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,Q){R.__proto__=Q}||function(R,Q){for(var ue in Q)Q[VE](ue)&&(R[ue]=Q[ue])},$E(w,k)},"extendStaticsFn");function bh(w,k){typeof k!==kV&&k!==null&&Se("Class extends value "+String(k)+" is not a constructor or null"),$E(w,k);function R(){this.constructor=w}o(R,"__"),w[Hd]=k===null?hh(k):(R[Hd]=k[Hd],new R)}o(bh,"__extendsFn");var zE,Cg="constructor",uc="prototype",fc="function",Eg="_dynInstFuncs",kA="_isDynProxy",vh="_dynClass",BA="_dynCls$",Z6="_dynInstChk",xg=Z6,RA="_dfOpts",e9="_unknown_",YE="__proto__",DA="_dyn"+YE,mC="__dynProto$Gbl",KE="_dynInstProto",PA="useBaseInst",FA="setInstFuncs",hC=Object,bg=hC.getPrototypeOf,NA=hC.getOwnPropertyNames,t9=Y(),JE=t9[mC]||(t9[mC]={o:(zE={},zE[FA]=!0,zE[PA]=!0,zE),n:1e3});function LA(w){return w&&(w===hC[uc]||w===Array[uc])}o(LA,"_isObjectOrArrayPrototype");function QA(w){return LA(w)||w===Function[uc]}o(QA,"_isObjectArrayOrFunctionPrototype");function Vd(w){var k;if(w){if(bg)return bg(w);var R=w[YE]||w[uc]||(w[Cg]?w[Cg][uc]:null);k=w[DA]||R,ve(w,DA)||(delete w[KE],k=w[DA]=w[KE]||w[DA],w[KE]=R)}return k}o(Vd,"_getObjProto");function mf(w,k){var R=[];if(NA)R=NA(w);else for(var Q in w)typeof Q=="string"&&ve(w,Q)&&R.push(Q);if(R&&R.length>0)for(var ue=0;ue<R.length;ue++)k(R[ue])}o(mf,"_forEachProp");function MA(w,k,R){return k!==Cg&&typeof w[k]===fc&&(R||ve(w,k))&&k!==YE&&k!==uc}o(MA,"_isDynamicCandidate");function OA(w){Se("DynamicProto: "+w)}o(OA,"_throwTypeError");function XE(w){var k=hh(null);return mf(w,function(R){!k[R]&&MA(w,R,!1)&&(k[R]=w[R])}),k}o(XE,"_getInstanceFuncs");function r9(w,k){for(var R=w.length-1;R>=0;R--)if(w[R]===k)return!0;return!1}o(r9,"_hasVisited");function n9(w,k,R,Q){function ue(rt,Et,yr){var gn=Et[yr];if(gn[kA]&&Q){var kn=rt[Eg]||{};kn[xg]!==!1&&(gn=(kn[Et[vh]]||{})[yr]||gn)}return function(){return gn.apply(rt,arguments)}}o(ue,"_instFuncProxy");var Te=hh(null);mf(R,function(rt){Te[rt]=ue(k,R,rt)});for(var Be=Vd(w),He=[];Be&&!QA(Be)&&!r9(He,Be);)mf(Be,function(rt){!Te[rt]&&MA(Be,rt,!bg)&&(Te[rt]=ue(k,Be,rt))}),He.push(Be),Be=Vd(Be);return Te}o(n9,"_getBaseFuncs");function DV(w,k,R,Q){var ue=null;if(w&&ve(R,vh)){var Te=w[Eg]||hh(null);if(ue=(Te[R[vh]]||hh(null))[k],ue||OA("Missing ["+k+"] "+fc),!ue[Z6]&&Te[xg]!==!1){for(var Be=!ve(w,k),He=Vd(w),rt=[];Be&&He&&!QA(He)&&!r9(rt,He);){var Et=He[k];if(Et){Be=Et===Q;break}rt.push(He),He=Vd(He)}try{Be&&(w[k]=ue),ue[Z6]=1}catch{Te[xg]=!1}}}return ue}o(DV,"_getInstFunc");function PV(w,k,R){var Q=k[w];return Q===R&&(Q=Vd(k)[w]),typeof Q!==fc&&OA("["+w+"] is not a "+fc),Q}o(PV,"_getProtoFunc");function FV(w,k,R,Q,ue){function Te(rt,Et){var yr=o(function(){var gn=DV(this,Et,rt,yr)||PV(Et,rt,yr);return gn.apply(this,arguments)},"dynProtoProxy");return yr[kA]=1,yr}if(o(Te,"_createDynamicPrototype"),!LA(w)){var Be=R[Eg]=R[Eg]||hh(null);if(!LA(Be)){var He=Be[k]=Be[k]||hh(null);Be[xg]!==!1&&(Be[xg]=!!ue),LA(He)||mf(R,function(rt){MA(R,rt,!1)&&R[rt]!==Q[rt]&&(He[rt]=R[rt],delete R[rt],(!ve(w,rt)||w[rt]&&!w[rt][kA])&&(w[rt]=Te(w,rt)))})}}}o(FV,"_populatePrototype");function NV(w,k){if(bg){for(var R=[],Q=Vd(k);Q&&!QA(Q)&&!r9(R,Q);){if(Q===w)return!0;R.push(Q),Q=Vd(Q)}return!1}return!0}o(NV,"_checkPrototype");function i9(w,k){return ve(w,uc)?w.name||k||e9:((w||{})[Cg]||{}).name||k||e9}o(i9,"_getObjName");function pC(w,k,R,Q){ve(w,uc)||OA("theClass is an invalid class definition.");var ue=w[uc];NV(ue,k)||OA("["+i9(w)+"] not in hierarchy of ["+i9(k)+"]");var Te=null;ve(ue,vh)?Te=ue[vh]:(Te=BA+i9(w,"_")+"$"+JE.n,JE.n++,ue[vh]=Te);var Be=pC[RA],He=!!Be[PA];He&&Q&&Q[PA]!==void 0&&(He=!!Q[PA]);var rt=XE(k),Et=n9(ue,k,rt,He);R(k,Et);var yr=!!bg&&!!Be[FA];yr&&Q&&(yr=!!Q[FA]),FV(ue,Te,k,rt,yr!==!1)}o(pC,"dynamicProto"),pC[RA]=JE.o;var Bl=void 0,Ss="",Ek="Not dynamic - ",xk=/-([a-z])/g,gC=/([^\w\d_$])/g,o9=/^(\d+[\w\d_$])/;function s9(w){return!O(w)}o(s9,"isNotNullOrUndefined");function ZE(w){var k=w;return k&&J(k)&&(k=k[_A](xk,function(R,Q){return Q.toUpperCase()}),k=k[_A](gC,"_"),k=k[_A](o9,function(R,Q){return"_"+Q})),k}o(ZE,"normalizeJsName");function bk(w,k){return w&&k?Vr(w,k)!==-1:!1}o(bk,"strContains");function jd(w){return w&&w.toISOString()||""}o(jd,"toISOString");function Ih(w){return ce(w)?w[dC]:Ss}o(Ih,"getExceptionName");function AC(w){return function(){function k(){var R=this;w&&Je(w,function(Q,ue){R[Q]=ue})}return o(k,"class_1"),k}()}o(AC,"createClassFromInterface");var vk="console",ex="JSON",LV="crypto",Th="msCrypto",UA="msie",Ln="trident/",qA=null,vg=null,$d=null;function tx(){return typeof console!==BV?console:L(vk)}o(tx,"getConsole");function Fi(){return!!(typeof JSON===Ck&&JSON||L(ex)!==null)}o(Fi,"hasJSON");function WA(){return Fi()?JSON||L(ex):null}o(WA,"getJSON");function ea(){return L(LV)}o(ea,"getCrypto");function GA(){return L(Th)}o(GA,"getMsCrypto");function yC(){var w=Pt();if(w&&(w[Ak]!==vg||qA===null)){vg=w[Ak];var k=(vg||Ss)[uC]();qA=bk(k,UA)||bk(k,Ln)}return qA}o(yC,"isIE");function wh(w){return($d===null||w===!1)&&($d=Ut()&&!!Pt().sendBeacon),$d}o(wh,"isBeaconsSupported");function CC(w,k){if(w)for(var R=0;R<w[Aa];R++){var Q=w[R];if(Q[dC]&&Q[dC]===k)return Q}return{}}o(CC,"_getNamedValue");function rx(w){var k=Ie();return k&&w?CC(k.querySelectorAll("meta"),w).content:null}o(rx,"findMetaTag");function hf(w){var k,R=lC();if(R){var Q=R.getEntriesByType("navigation")||[];k=CC((Q[Aa]>0?Q[0]:{}).serverTiming,w).description}return k}o(hf,"findNamedServerTiming");var HA=4294967296,iu=4294967295,VA=123456789,Sh=987654321,rl=!1,jA=VA,pf=Sh;function Ik(w){w<0&&(w>>>=0),jA=VA+w&iu,pf=Sh-w&iu,rl=!0}o(Ik,"_mwcSeed");function Ig(){try{var w=hg()&2147483647;Ik((Math.random()*HA^w)+w)}catch{}}o(Ig,"_autoSeedMwc");function nx(w){return w>0?gh($A()/iu*(w+1))>>>0:0}o(nx,"randomValue");function $A(w){var k=0,R=ea()||GA();return R&&R.getRandomValues&&(k=R.getRandomValues(new Uint32Array(1))[0]&iu),k===0&&yC()&&(rl||Ig(),k=Tk()&iu),k===0&&(k=gh(HA*Math.random()|0)),w||(k>>>=0),k}o($A,"random32");function Tk(w){pf=36969*(pf&65535)+(pf>>16)&iu,jA=18e3*(jA&65535)+(jA>>16)&iu;var k=(pf<<16)+(jA&65535)>>>0&iu|0;return w||(k>>>=0),k}o(Tk,"mwcRandom32");function Tg(w){w===void 0&&(w=22);for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=$A()>>>0,Q=0,ue=Ss;ue[Aa]<w;)Q++,ue+=k.charAt(R&63),R>>>=6,Q===5&&(R=($A()<<2&4294967295|R&3)>>>0,Q=0);return ue}o(Tg,"newId");var gf="3.3.6",ix="."+Tg(6),wg=0;function Af(w){return w.nodeType===1||w.nodeType===9||!+w.nodeType}o(Af,"_canAcceptData");function ox(w,k){var R=k[w.id];if(!R){R={};try{Af(k)&&ie(k,w.id,{e:!1,v:R})}catch{}}return R}o(ox,"_getCache");function zd(w,k){return k===void 0&&(k=!1),ZE(w+wg+++(k?"."+gf:Ss)+ix)}o(zd,"createUniqueNamespace");function yf(w){var k={id:zd("_aiData-"+(w||Ss)+"."+gf),accept:o(function(R){return Af(R)},"accept"),get:o(function(R,Q,ue,Te){var Be=R[k.id];return Be?Be[ZE(Q)]:(Te&&(Be=ox(k,R),Be[ZE(Q)]=ue),ue)},"get"),kill:o(function(R,Q){if(R&&R[Q])try{delete R[Q]}catch{}},"kill")};return k}o(yf,"createElmNodeData");function _h(w){return w&&ee(w)&&(w.isVal||w.fb||Ue(w,"v")||Ue(w,"mrg")||Ue(w,"ref")||w.set)}o(_h,"_isConfigDefaults");function sx(w,k,R){var Q,ue=R.dfVal||j;if(k&&R.fb){var Te=R.fb;ae(Te)||(Te=[Te]);for(var Be=0;Be<Te[Aa];Be++){var He=Te[Be],rt=k[He];if(ue(rt)?Q=rt:w&&(rt=w.cfg[He],ue(rt)&&(Q=rt),w.set(w.cfg,We(He),rt)),ue(Q))break}}return!ue(Q)&&ue(R.v)&&(Q=R.v),Q}o(sx,"_getDefault");function kh(w,k,R){var Q=R;if(R&&_h(R)&&(Q=sx(w,k,R)),Q){_h(Q)&&(Q=kh(w,k,Q));var ue;ae(Q)?(ue=[],ue[Aa]=Q[Aa]):Ah(Q)&&(ue={}),ue&&(Je(Q,function(Te,Be){Be&&_h(Be)&&(Be=kh(w,k,Be)),ue[Te]=Be}),Q=ue)}return Q}o(kh,"_resolveDefaultValue");function Bh(w,k,R,Q){var ue,Te,Be,He=Q,rt,Et,yr,gn;_h(He)?(ue=He.isVal,Te=He.set,yr=He.rdOnly,gn=He.blkVal,rt=He.mrg,Et=He.ref,!Et&&ne(Et)&&(Et=!!rt),Be=sx(w,k,He)):Be=Q,gn&&w.blkVal(k,R);var kn,vr=!0,Br=k[R];(Br||!O(Br))&&(kn=Br,vr=!1,ue&&kn!==Be&&!ue(kn)&&(kn=Be,vr=!0),Te&&(kn=Te(kn,Be,k),vr=kn===Be)),vr?Be?kn=kh(w,k,Be):kn=Be:(Ah(kn)||ae(Be))&&rt&&Be&&(Ah(Be)||ae(Be))&&Je(Be,function(Sn,An){Bh(w,kn,Sn,An)}),w.set(k,R,kn),Et&&w.ref(k,R),yr&&w.rdOnly(k,R)}o(Bh,"_applyDefaultValue");var Rl=Do("[[ai_dynCfg_1]]"),a9=Do("[[ai_blkDynCfg_1]]"),EC=Do("[[ai_frcDynCfg_1]]");function l9(w){if(w){var k;if(ae(w)?(k=[],k[Aa]=w[Aa]):Ah(w)&&(k={}),k)return Je(w,function(R,Q){k[R]=l9(Q)}),k}return w}o(l9,"_cfgDeepCopy");function c9(w){if(w){var k=w[Rl]||w;if(k.cfg&&(k.cfg===w||k.cfg[Rl]===k))return k}return null}o(c9,"getDynamicConfigHandler");function zA(w){if(w&&(Ah(w)||ae(w)))try{w[a9]=!0}catch{}return w}o(zA,"blockDynamicConversion");function Rh(w,k,R){var Q=!1;return R&&!w[k.blkVal]&&(Q=R[EC],!Q&&!R[a9]&&(Q=Ah(R)||ae(R))),Q}o(Rh,"_canMakeDynamic");function ou(w){Se("InvalidAccess:"+w)}o(ou,"throwInvalidAccess");var wk=["push","pop","shift","unshift","splice"],Yd=o(function(w,k,R,Q){w&&w[fC](3,108,"".concat(R," [").concat(k,"] failed - ")+te(Q))},"_throwDynamicError");function u9(w,k,R){ae(k)&&tl(wk,function(Q){var ue=k[Q];k[Q]=function(){for(var Te=[],Be=0;Be<arguments.length;Be++)Te[Be]=arguments[Be];var He=ue[SV](this,Te);return Sg(w,k,R,"Patching"),He}})}o(u9,"_patchArray");function Kd(w,k){var R=Re(w,k);return R&&R.get}o(Kd,"_getOwnPropGetter");function Sk(w,k,R,Q){var ue={n:R,h:[],trk:o(function(Et){Et&&Et.fn&&(Wd(ue.h,Et)===-1&&ue.h[Pi](Et),w.trk(Et,ue))},"trk"),clr:o(function(Et){var yr=Wd(ue.h,Et);yr!==-1&&ue.h[Ag](yr,1)},"clr")},Te=!0,Be=!1;function He(){Te&&(Be=Be||Rh(He,w,Q),Q&&!Q[Rl]&&Be&&(Q=Sg(w,Q,R,"Converting")),Te=!1);var Et=w.act;return Et&&ue.trk(Et),Q}o(He,"_getProperty"),He[w.prop]={chng:o(function(){w.add(ue)},"chng")};function rt(Et){if(Q!==Et){He[w.ro]&&!w.upd&&ou("["+R+"] is read-only:"+te(k)),Te&&(Be=Be||Rh(He,w,Q),Te=!1);var yr=Be&&He[w.rf];if(Be)if(yr){Je(Q,function(kn){Q[kn]=Et?Et[kn]:Bl});try{Je(Et,function(kn,vr){YA(w,Q,kn,vr)}),Et=Q}catch(kn){Yd((w.hdlr||{})[Eh],R,"Assigning",kn),Be=!1}}else Q&&Q[Rl]&&Je(Q,function(kn){var vr=Kd(Q,kn);if(vr){var Br=vr[w.prop];Br&&Br.chng()}});if(Et!==Q){var gn=Et&&Rh(He,w,Et);!yr&&gn&&(Et=Sg(w,Et,R,"Converting")),Q=Et,Be=gn}w.add(ue)}}o(rt,"_setProperty"),ie(k,ue.n,{g:He,s:rt})}o(Sk,"_createDynamicProperty");function YA(w,k,R,Q){if(k){var ue=Kd(k,R),Te=ue&&!!ue[w.prop];Te?k[R]=Q:Sk(w,k,R,Q)}return k}o(YA,"_setDynamicProperty");function f9(w,k,R,Q){if(k){var ue=Kd(k,R),Te=ue&&!!ue[w.prop],Be=Q&&Q[0],He=Q&&Q[1],rt=Q&&Q[2];if(!Te){if(rt)try{zA(k)}catch(Et){Yd((w.hdlr||{})[Eh],R,"Blocking",Et)}try{YA(w,k,R,k[R]),ue=Kd(k,R)}catch(Et){Yd((w.hdlr||{})[Eh],R,"State",Et)}}Be&&(ue[w.rf]=Be),He&&(ue[w.ro]=He),rt&&(ue[w.blkVal]=!0)}return k}o(f9,"_setDynamicPropertyState");function Sg(w,k,R,Q){try{Je(k,function(ue,Te){YA(w,k,ue,Te)}),k[Rl]||(at(k,Rl,{get:o(function(){return w.hdlr},"get")}),u9(w,k,R))}catch(ue){Yd((w.hdlr||{})[Eh],R,Q,ue)}return k}o(Sg,"_makeDynamicObject");var _g="[[ai_",dc="]]";function _k(w){var k=ar(_g+"get"+w.uid+dc),R=ar(_g+"ro"+w.uid+dc),Q=ar(_g+"rf"+w.uid+dc),ue=ar(_g+"blkVal"+w.uid+dc),Te=ar(_g+"dtl"+w.uid+dc),Be=null,He=null,rt;function Et(vr,Br){var Sn=rt.act;try{rt.act=vr,vr&&vr[Te]&&(tl(vr[Te],function(si){si.clr(vr)}),vr[Te]=[]),Br({cfg:w.cfg,set:w.set.bind(w),setDf:w.setDf.bind(w),ref:w.ref.bind(w),rdOnly:w.rdOnly.bind(w)})}catch(si){var An=w[Eh];throw An&&An[fC](1,107,te(si)),si}finally{rt.act=Sn||null}}o(Et,"_useHandler");function yr(){if(Be){var vr=Be;Be=null,He&&He[$6](),He=null;var Br=[];if(tl(vr,function(Sn){if(Sn&&(Sn[Te]&&(tl(Sn[Te],function(An){An.clr(Sn)}),Sn[Te]=null),Sn.fn))try{Et(Sn,Sn.fn)}catch(An){Br[Pi](An)}}),Be)try{yr()}catch(Sn){Br[Pi](Sn)}Br[Aa]>0&&_V("Watcher error(s): ",Br)}}o(yr,"_notifyWatchers");function gn(vr){if(vr&&vr.h[Aa]>0){Be||(Be=[]),He||(He=j6(function(){He=null,yr()},0));for(var Br=0;Br<vr.h[Aa];Br++){var Sn=vr.h[Br];Sn&&Wd(Be,Sn)===-1&&Be[Pi](Sn)}}}o(gn,"_addWatcher");function kn(vr,Br){if(vr){var Sn=vr[Te]=vr[Te]||[];Wd(Sn,Br)===-1&&Sn[Pi](Br)}}return o(kn,"_trackHandler"),rt={prop:k,ro:R,rf:Q,blkVal:ue,hdlr:w,add:gn,notify:yr,use:Et,trk:kn},rt}o(_k,"_createState");function QV(w,k){var R={fn:k,rm:o(function(){R.fn=null,w=null,k=null},"rm")};return ie(R,"toJSON",{v:o(function(){return"WatcherHandler"+(R.fn?"":"[X]")},"v")}),w.use(R,k),R}o(QV,"_createAndUseHandler");function kk(w,k,R){var Q=c9(k);if(Q)return Q;var ue=zd("dyncfg",!0),Te=k&&R!==!1?k:l9(k),Be;function He(){Be.notify()}o(He,"_notifyWatchers");function rt(An,si,Vi){try{An=YA(Be,An,si,Vi)}catch(xi){Yd(w,si,"Setting value",xi)}return An[si]}o(rt,"_setValue");function Et(An){return QV(Be,An)}o(Et,"_watch");function yr(An,si){Be.use(null,function(Vi){var xi=Be.upd;try{ne(si)||(Be.upd=si),An(Vi)}finally{Be.upd=xi}})}o(yr,"_block");function gn(An,si){var Vi;return f9(Be,An,si,(Vi={},Vi[0]=!0,Vi))[si]}o(gn,"_ref");function kn(An,si){var Vi;return f9(Be,An,si,(Vi={},Vi[1]=!0,Vi))[si]}o(kn,"_rdOnly");function vr(An,si){var Vi;return f9(Be,An,si,(Vi={},Vi[2]=!0,Vi))[si]}o(vr,"_blkPropValue");function Br(An,si){return si&&Je(si,function(Vi,xi){Bh(Sn,An,Vi,xi)}),An}o(Br,"_applyDefaults");var Sn={uid:null,cfg:Te,logger:w,notify:He,set:rt,setDf:Br,watch:Et,ref:gn,rdOnly:kn,blkVal:vr,_block:yr};return ie(Sn,"uid",{c:!1,e:!1,w:!1,v:ue}),Be=_k(Sn),Sg(Be,Te,"config","Creating"),Sn}o(kk,"_createDynamicHandler");function Bk(w,k){w?(w[Ch](k),w[fC](2,108,k)):ou(k)}o(Bk,"_logInvalidAccess");function xC(w,k,R,Q){var ue=kk(R,w||{},Q);return k&&ue.setDf(ue.cfg,k),ue}o(xC,"createDynamicConfig");function Rk(w,k,R){var Q=w[Rl]||w;return Q.cfg&&(Q.cfg===w||Q.cfg[Rl]===Q)?Q[hk](k):(Bk(R,Ek+te(w)),xC(w,null,R)[hk](k))}o(Rk,"onConfigChange");var ax=null;function Dk(){var w=L("Microsoft");return w&&(ax=w.ApplicationInsights),ax}o(Dk,"_getExtensionNamespace");function MV(w){var k=ax;return!k&&w.disableDbgExt!==!0&&(k=ax||Dk()),k?k.ChromeDbgExt:null}o(MV,"getDebugExt");var KA,lx="warnToConsole",Pk="AI (Internal): ",Fk="AI: ",OV="AITR_",UV={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Nk=(KA={},KA[0]=null,KA[1]="errorToConsole",KA[2]=lx,KA[3]="debugToConsole",KA);function Lk(w){return w?'"'+w[_A](/\"/g,Ss)+'"':Ss}o(Lk,"_sanitizeDiagnosticText");function cx(w,k){var R=tx();if(R){var Q="log";R[w]&&(Q=w),le(R[Q])&&R[Q](k)}}o(cx,"_logToConsole");var ux=function(){function w(k,R,Q,ue){Q===void 0&&(Q=!1);var Te=this;Te[z6]=k,Te[yg]=(Q?Fk:Pk)+k;var Be=Ss;Fi()&&(Be=WA().stringify(ue));var He=(R?" message:"+Lk(R):Ss)+(ue?" props:"+Lk(Be):Ss);Te[yg]+=He}return o(w,"_InternalLogMessage"),w.dataType="MessageData",w}();function qV(w,k){return(w||{})[Eh]||new fx(k)}o(qV,"safeGetLogger");var fx=function(){function w(k){this.identifier="DiagnosticLogger",this.queue=[];var R=0,Q={},ue,Te,Be,He,rt;pC(w,this,function(Et){rt=gn(k||{}),Et.consoleLoggingLevel=function(){return ue},Et[fC]=function(Br,Sn,An,si,Vi){Vi===void 0&&(Vi=!1);var xi=new ux(Sn,An,Vi,si);if(He)throw te(xi);var ya=Nk[Br]||lx;if(ne(xi[yg]))vr("throw"+(Br===1?"Critical":"Warning"),xi);else{if(Vi){var S2=+xi[z6];!Q[S2]&&ue>=Br&&(Et[ya](xi[yg]),Q[S2]=!0)}else ue>=Br&&Et[ya](xi[yg]);yr(Br,xi)}},Et.debugToConsole=function(Br){cx("debug",Br),vr("warning",Br)},Et[Ch]=function(Br){cx("warn",Br),vr("warning",Br)},Et.errorToConsole=function(Br){cx("error",Br),vr("error",Br)},Et.resetInternalMessageCount=function(){R=0,Q={}},Et.logInternalMessage=yr,Et[B0]=function(Br){rt&&rt.rm(),rt=null};function yr(Br,Sn){if(!kn()){var An=!0,si=OV+Sn[z6];if(Q[si]?An=!1:Q[si]=!0,An&&(Br<=Te&&(Et.queue[Pi](Sn),R++,vr(Br===1?"error":"warn",Sn)),R===Be)){var Vi="Internal events throttle limit per PageView reached for this app.",xi=new ux(23,Vi,!1);Et.queue[Pi](xi),Br===1?Et.errorToConsole(Vi):Et[Ch](Vi)}}}o(yr,"_logInternalMessage");function gn(Br){return Rk(xC(Br,UV,Et).cfg,function(Sn){var An=Sn.cfg;ue=An[gk],Te=An.loggingLevelTelemetry,Be=An.maxMessageLimit,He=An.enableDebug})}o(gn,"_setDefaultsFromConfig");function kn(){return R>=Be}o(kn,"_areInternalMessagesThrottled");function vr(Br,Sn){var An=MV(k||{});An&&An[Y6]&&An[Y6](Br,Sn)}o(vr,"_debugExtMsg")})}return o(w,"DiagnosticLogger"),w.__ieDyn=1,w}();function dx(w){return w||new fx}o(dx,"_getLogger");function R0(w,k,R,Q,ue,Te){Te===void 0&&(Te=!1),dx(w)[fC](k,R,Q,ue,Te)}o(R0,"_throwInternal");function mx(){for(var w=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],k=Ss,R,Q=0;Q<4;Q++)R=$A(),k+=w[R&15]+w[R>>4&15]+w[R>>8&15]+w[R>>12&15]+w[R>>16&15]+w[R>>20&15]+w[R>>24&15]+w[R>>28&15];var ue=w[8+($A()&3)|0];return wt(k,0,8)+wt(k,9,4)+"4"+wt(k,13,3)+ue+wt(k,16,3)+wt(k,19,12)}o(mx,"generateW3CId");var JA=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,d9="00",mc="ff",oi="00000000000000000000000000000000",Jd="0000000000000000",ta=1;function su(w,k,R){return w&&w[Aa]===k&&w!==R?!!w.match(/^[\da-f]*$/i):!1}o(su,"_isValid");function hx(w,k,R){return su(w,k)?w:R}o(hx,"_formatValue");function kg(w){(isNaN(w)||w<0||w>255)&&(w=1);for(var k=w.toString(16);k[Aa]<2;)k="0"+k;return k}o(kg,"_formatFlags");function XA(w,k,R,Q){return{version:su(Q,2,mc)?Q:d9,traceId:ZA(w)?w:mx(),spanId:e2(k)?k:Wt(mx(),16),traceFlags:R>=0&&R<=255?R:1}}o(XA,"createTraceParent");function hc(w,k){if(!w||(ae(w)&&(w=w[0]||""),!w||!J(w)||w[Aa]>8192))return null;if(w.indexOf(",")!==-1){var R=w[K6](",");w=R[k>0&&R[Aa]>k?k:0]}var Q=JA.exec(t0(w));return!Q||Q[1]===mc||Q[2]===oi||Q[3]===Jd?null:{version:(Q[1]||Ss)[uC](),traceId:(Q[2]||Ss)[uC](),spanId:(Q[3]||Ss)[uC](),traceFlags:parseInt(Q[4],16)}}o(hc,"parseTraceParent");function ZA(w){return su(w,32,oi)}o(ZA,"isValidTraceId");function e2(w){return su(w,16,Jd)}o(e2,"isValidSpanId");function t2(w){return!(!w||!su(w[pk],2,mc)||!su(w.traceId,32,oi)||!su(w.spanId,16,Jd)||!su(kg(w[WE]),2))}o(t2,"isValidTraceParent");function px(w){return t2(w)?(w[WE]&ta)===ta:!1}o(px,"isSampledFlag");function Bg(w){if(w){var k=kg(w[WE]);su(k,2)||(k="01");var R=w[pk]||d9;return R!=="00"&&R!=="ff"&&(R=d9),"".concat(R.toLowerCase(),"-").concat(hx(w.traceId,32,oi).toLowerCase(),"-").concat(hx(w.spanId,16,Jd).toLowerCase(),"-").concat(k.toLowerCase())}return""}o(Bg,"formatTraceParent");function m9(w){var k="traceparent",R=hc(rx(k),w);return R||(R=hc(hf(k),w)),R}o(m9,"findW3cTraceParent");function h9(w){var k=w.getElementsByTagName("script"),R=[];return tl(k,function(Q){var ue=Q[J6]("src");if(ue){var Te=Q[J6]("crossorigin"),Be=Q.hasAttribute("async")===!0,He=Q.hasAttribute("defer")===!0,rt=Q[J6]("referrerpolicy"),Et={url:ue};Te&&(Et.crossOrigin=Te),Be&&(Et.async=Be),He&&(Et.defer=He),rt&&(Et.referrerPolicy=rt),R[Pi](Et)}}),R}o(h9,"findAllScripts");var gx="on",bC="attachEvent",Ax="addEventListener",yx="detachEvent",Qk="removeEventListener",p9="events";zd("aiEvtPageHide"),zd("aiEvtPageShow");var WV=/\.[\.]+/g,GV=/[\.]+$/,Cx=1,r2=yf("events"),nl=/^([^.]*)(?:\.(.+)|)/;function vC(w){return w&&w[_A]?w[_A](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ss):w}o(vC,"_normalizeNamespace");function Ha(w,k){if(k){var R=Ss;ae(k)?(R=Ss,tl(k,function(ue){ue=vC(ue),ue&&(ue[0]!=="."&&(ue="."+ue),R+=ue)})):R=vC(k),R&&(R[0]!=="."&&(R="."+R),w=(w||Ss)+R)}var Q=nl.exec(w||Ss)||[];return{type:Q[1],ns:(Q[2]||Ss).replace(WV,".").replace(GV,Ss)[K6](".").sort().join(".")}}o(Ha,"_getEvtNamespace");function Dh(w,k,R){R===void 0&&(R=!0);var Q=r2.get(w,p9,{},R),ue=Q[k];return ue||(ue=Q[k]=[]),ue}o(Dh,"_getRegisteredEvents");function Mk(w,k,R,Q){w&&k&&k[xh]&&(w[Qk]?w[Qk](k[xh],R,Q):w[yx]&&w[yx](gx+k[xh],R))}o(Mk,"_doDetach");function HV(w,k,R,Q){var ue=!1;return w&&k&&k[xh]&&R&&(w[Ax]?(w[Ax](k[xh],R,Q),ue=!0):w[bC]&&(w[bC](gx+k[xh],R),ue=!0)),ue}o(HV,"_doAttach");function IC(w,k,R,Q){for(var ue=k[Aa];ue--;){var Te=k[ue];Te&&(!R.ns||R.ns===Te[yk].ns)&&(!Q||Q(Te))&&(Mk(w,Te[yk],Te.handler,Te.capture),k[Ag](ue,1))}}o(IC,"_doUnregister");function g9(w,k,R){if(k[xh])IC(w,Dh(w,k[xh]),k,R);else{var Q=r2.get(w,p9,{});Je(Q,function(ue,Te){IC(w,Te,k,R)}),yt(Q)[Aa]===0&&r2.kill(w,p9)}}o(g9,"_unregisterEvents");function VV(w,k){var R;return k?(ae(k)?R=[w].concat(k):R=[w,k],R=Ha("xx",R).ns[K6](".")):R=w,R}o(VV,"mergeEvtNamespace");function A9(w,k,R,Q,ue){ue===void 0&&(ue=!1);var Te=!1;if(w)try{var Be=Ha(k,Q);if(Te=HV(w,Be,R,ue),Te&&r2.accept(w)){var He={guid:Cx++,evtName:Be,handler:R,capture:ue};Dh(w,Be.type)[Pi](He)}}catch{}return Te}o(A9,"eventOn");function Ok(w,k,R,Q,ue){if(ue===void 0&&(ue=!1),w)try{var Te=Ha(k,Q),Be=!1;g9(w,Te,function(He){return Te.ns&&!R||He.handler===R?(Be=!0,!0):!1}),Be||Mk(w,Te,R,ue)}catch{}}o(Ok,"eventOff");var Ex="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Uk="sampleRate",xx="ProcessLegacy",qk="http.method",y9="https://dc.services.visualstudio.com",TC="/v2/track",Cf="not_specified",C9="iKey",Wk=wV({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Ph="split",pn="length",n2="toLowerCase",Rg="ingestionendpoint",Dg="toString",E9="removeItem",wC="message",i2="count",bx="preTriggerDate",x9="getUTCDate",vx="stringify",o2="pathname",Pg="match",b9="correlationHeaderExcludePatterns",pc="name",s2="extensionConfig",Ef="properties",r0="measurements",a2="sizeInBytes",SC="typeName",l2="exceptions",_C="severityLevel",c2="problemGroup",D0="parsedStack",Ix="hasFullStack",Tx="assembly",au="fileName",u2="line",Fh="aiDataContract",kC="duration";function v9(w,k,R){var Q=k[pn],ue=I9(w,k);if(ue[pn]!==Q){for(var Te=0,Be=ue;R[Be]!==void 0;)Te++,Be=_t(ue,0,147)+Gk(Te);ue=Be}return ue}o(v9,"dataSanitizeKeyAndAddUniqueness");function I9(w,k){var R;return k&&(k=t0(We(k)),k[pn]>150&&(R=_t(k,0,150),R0(w,2,57,"name is too long.  It has been truncated to 150 characters.",{name:k},!0))),R||k}o(I9,"dataSanitizeKey");function Va(w,k,R){R===void 0&&(R=1024);var Q;return k&&(R=R||1024,k=t0(We(k)),k[pn]>R&&(Q=_t(k,0,R),R0(w,2,61,"string value is too long. It has been truncated to "+R+" characters.",{value:k},!0))),Q||k}o(Va,"dataSanitizeString");function xf(w,k){return w9(w,k,2048,66)}o(xf,"dataSanitizeUrl");function wx(w,k){var R;return k&&k[pn]>32768&&(R=_t(k,0,32768),R0(w,2,56,"message is too long, it has been truncated to 32768 characters.",{message:k},!0)),R||k}o(wx,"dataSanitizeMessage");function T9(w,k){var R;if(k){var Q=""+k;Q[pn]>32768&&(R=_t(Q,0,32768),R0(w,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:k},!0))}return R||k}o(T9,"dataSanitizeException");function Xd(w,k){if(k){var R={};Je(k,function(Q,ue){if(ee(ue)&&Fi())try{ue=WA()[vx](ue)}catch(Te){R0(w,2,49,"custom property is not valid",{exception:Te},!0)}ue=Va(w,ue,8192),Q=v9(w,Q,R),R[Q]=ue}),k=R}return k}o(Xd,"dataSanitizeProperties");function gc(w,k){if(k){var R={};Je(k,function(Q,ue){Q=v9(w,Q,R),R[Q]=ue}),k=R}return k}o(gc,"dataSanitizeMeasurements");function f2(w,k){return k&&w9(w,k,128,69)[Dg]()}o(f2,"dataSanitizeId");function w9(w,k,R,Q){var ue;return k&&(k=t0(We(k)),k[pn]>R&&(ue=_t(k,0,R),R0(w,2,Q,"input is too long, it has been truncated to "+R+" characters.",{data:k},!0))),ue||k}o(w9,"dataSanitizeInput");function Gk(w){var k="00"+w;return wt(k,k[pn]-3)}o(Gk,"dsPadNumber");var S9=Ie()||{},Hk=0,jV=[null,null,null,null,null];function d2(w){var k=Hk,R=jV,Q=R[k];return S9.createElement?R[k]||(Q=R[k]=S9.createElement("a")):Q={host:jk(w,!0)},Q.href=w,k++,k>=R[pn]&&(k=0),Hk=k,Q}o(d2,"urlParseUrl");function $V(w){var k,R=d2(w);return R&&(k=R.href),k}o($V,"urlGetAbsoluteUrl");function zV(w){var k,R=d2(w);return R&&(k=R[o2]),k}o(zV,"urlGetPathName");function Vk(w,k){return w?w.toUpperCase()+" "+k:k}o(Vk,"urlGetCompleteUrl");function jk(w,k){var R=Zd(w,k)||"";if(R){var Q=R[Pg](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[pn]>3&&J(Q[2])&&Q[2][pn]>0)return Q[2]+(Q[3]||"")}return R}o(jk,"urlParseHost");function Zd(w,k){var R=null;if(w){var Q=w[Pg](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[pn]>2&&J(Q[2])&&Q[2][pn]>0&&(R=Q[2]||"",k&&Q[pn]>2)){var ue=(Q[1]||"")[n2](),Te=Q[3]||"";(ue==="http"&&Te===":80"||ue==="https"&&Te===":443")&&(Te=""),R+=Te}}return R}o(Zd,"urlParseFullHost");var $k=[y9+TC,"https://breeze.aimon.applicationinsights.io"+TC,"https://dc-int.services.visualstudio.com"+TC],m2="cid-v1:";function zk(w){return Wd($k,w[n2]())!==-1}o(zk,"isInternalApplicationInsightsEndpoint");function _9(w){m2=w}o(_9,"correlationIdSetPrefix");function k9(){return m2}o(k9,"correlationIdGetPrefix");function Nh(w,k,R){if(!k||w&&w.disableCorrelationHeaders)return!1;if(w&&w[b9]){for(var Q=0;Q<w.correlationHeaderExcludePatterns[pn];Q++)if(w[b9][Q].test(k))return!1}var ue=d2(k).host[n2]();if(ue&&(Vr(ue,":443")!==-1||Vr(ue,":80")!==-1)&&(ue=(Zd(k,!0)||"")[n2]()),(!w||!w.enableCorsCorrelation)&&ue&&ue!==R)return!1;var Te=w&&w.correlationHeaderDomains;if(Te){var Be;if(tl(Te,function(Et){var yr=new RegExp(Et.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Be=Be||yr.test(ue)}),!Be)return!1}var He=w&&w.correlationHeaderExcludedDomains;if(!He||He[pn]===0)return!0;for(var Q=0;Q<He[pn];Q++){var rt=new RegExp(He[Q].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(rt.test(ue))return!1}return ue&&ue[pn]>0}o(Nh,"correlationIdCanIncludeCorrelationHeader");function Yk(w){if(w){var k=Kk(w,Wk[1]);if(k&&k!==m2)return k}}o(Yk,"correlationIdGetCorrelationContext");function Kk(w,k){if(w)for(var R=w[Ph](","),Q=0;Q<R[pn];++Q){var ue=R[Q][Ph]("=");if(ue[pn]===2&&ue[0]===k)return ue[1]}}o(Kk,"correlationIdGetCorrelationContextValue");function Jk(w,k,R,Q){var ue,Te=Q,Be=Q;if(k&&k[pn]>0){var He=d2(k);if(ue=He.host,!Te)if(He[o2]!=null){var rt=He.pathname[pn]===0?"/":He[o2];rt.charAt(0)!=="/"&&(rt="/"+rt),Be=He[o2],Te=Va(w,R?R+" "+rt:rt)}else Te=Va(w,k)}else ue=Q,Te=Q;return{target:ue,name:Te,data:Be}}o(Jk,"AjaxHelperParseDependencyPath");function YV(){var w=lC();if(w&&w.now&&w.timing){var k=w.now()+w.timing.navigationStart;if(k>0)return k}return hg()}o(YV,"dateTimeUtilsNow");function KV(w,k){var R=null;return w!==0&&k!==0&&!O(w)&&!O(k)&&(R=k-w),R}o(KV,"dateTimeUtilsDuration");function B9(w,k){var R=w||{};return{getName:o(function(){return R[pc]},"getName"),setName:o(function(Q){k&&k.setName(Q),R[pc]=Q},"setName"),getTraceId:o(function(){return R.traceID},"getTraceId"),setTraceId:o(function(Q){k&&k.setTraceId(Q),ZA(Q)&&(R.traceID=Q)},"setTraceId"),getSpanId:o(function(){return R.parentID},"getSpanId"),setSpanId:o(function(Q){k&&k.setSpanId(Q),e2(Q)&&(R.parentID=Q)},"setSpanId"),getTraceFlags:o(function(){return R.traceFlags},"getTraceFlags"),setTraceFlags:o(function(Q){k&&k.setTraceFlags(Q),R.traceFlags=Q},"setTraceFlags")}}o(B9,"createDistributedTraceContextFromTrace");var h2=cC({LocalStorage:0,SessionStorage:1}),JV=cC({AI:0,AI_AND_W3C:1,W3C:2}),BC=cC({Normal:1,Critical:2}),Lh=void 0,lu=void 0,Xk="";function p2(){return Sx()?g2(h2.LocalStorage):null}o(p2,"_getLocalStorageObject");function g2(w){try{if(O(Y()))return null;var k=new Date()[Dg](),R=L(w===h2.LocalStorage?"localStorage":"sessionStorage"),Q=Xk+k;R.setItem(Q,k);var ue=R.getItem(Q)!==k;if(R[E9](Q),!ue)return R}catch{}return null}o(g2,"_getVerifiedStorageObject");function A2(){return em()?g2(h2.SessionStorage):null}o(A2,"_getSessionStorageObject");function RC(){Lh=!1,lu=!1}o(RC,"utlDisableStorage");function DC(w){Xk=w||""}o(DC,"utlSetStoragePrefix");function XV(){Lh=Sx(!0),lu=em(!0)}o(XV,"utlEnableStorage");function Sx(w){return(w||Lh===void 0)&&(Lh=!!g2(h2.LocalStorage)),Lh}o(Sx,"utlCanUseLocalStorage");function Zk(w,k){var R=p2();if(R!==null)try{return R.getItem(k)}catch(Q){Lh=!1,R0(w,2,1,"Browser failed read of local storage. "+Ih(Q),{exception:te(Q)})}return null}o(Zk,"utlGetLocalStorage");function eB(w,k,R){var Q=p2();if(Q!==null)try{return Q.setItem(k,R),!0}catch(ue){Lh=!1,R0(w,2,3,"Browser failed write to local storage. "+Ih(ue),{exception:te(ue)})}return!1}o(eB,"utlSetLocalStorage");function Ac(w,k){var R=p2();if(R!==null)try{return R[E9](k),!0}catch(Q){Lh=!1,R0(w,2,5,"Browser failed removal of local storage item. "+Ih(Q),{exception:te(Q)})}return!1}o(Ac,"utlRemoveStorage");function em(w){return(w||lu===void 0)&&(lu=!!g2(h2.SessionStorage)),lu}o(em,"utlCanUseSessionStorage");function y2(){var w=[];return em()&&Je(L("sessionStorage"),function(k){w.push(k)}),w}o(y2,"utlGetSessionStorageKeys");function tB(w,k){var R=A2();if(R!==null)try{return R.getItem(k)}catch(Q){lu=!1,R0(w,2,2,"Browser failed read of session storage. "+Ih(Q),{exception:te(Q)})}return null}o(tB,"utlGetSessionStorage");function ZV(w,k,R){var Q=A2();if(Q!==null)try{return Q.setItem(k,R),!0}catch(ue){lu=!1,R0(w,2,4,"Browser failed write to session storage. "+Ih(ue),{exception:te(ue)})}return!1}o(ZV,"utlSetSessionStorage");function rB(w,k){var R=A2();if(R!==null)try{return R[E9](k),!0}catch(Q){lu=!1,R0(w,2,6,"Browser failed removal of session storage item. "+Ih(Q),{exception:te(Q)})}return!1}o(rB,"utlRemoveSessionStorage");var ej="appInsightsThrottle",tj=function(){function w(k,R){var Q=this,ue,Te,Be,He,rt,Et,yr,gn=!1,kn=!1;Br(),Q._getDbgPlgTargets=function(){return[yr]},Q.getConfig=function(){return Be},Q.canThrottle=function(Ft){var Qr=H9(Ft),rn=Sn(Ft);return Vi(rn,ue,Qr)},Q.isTriggered=function(Ft){return CB(Ft)},Q.isReady=function(){return gn},Q.flush=function(Ft){try{var Qr=EB(Ft);if(Qr&&Qr[pn]>0){var rn=Qr.slice(0);return yr[Ft]=[],tl(rn,function(bo){vr(bo.msgID,bo[wC],bo.severity,!1)}),!0}}catch{}return!1},Q.flushAll=function(){try{if(yr){var Ft=!0;return Je(yr,function(Qr){var rn=Q.flush(parseInt(Qr));Ft=Ft&&rn}),Ft}}catch{}return!1},Q.onReadyState=function(Ft,Qr){return Qr===void 0&&(Qr=!0),gn=O(Ft)?!0:Ft,gn&&Qr?Q.flushAll():null},Q.sendMessage=function(Ft,Qr,rn){return vr(Ft,Qr,rn,!0)};function vr(Ft,Qr,rn,bo){if(gn){var Ca=Cj(Ft);if(!Ca)return;var _s=Sn(Ft),Ea=H9(Ft),Ng=Vi(_s,ue,Ea),qh=!1,_2=0,xB=CB(Ft);try{Ng&&!xB?(_2=Nt(_s.limit.maxSendNumber,Ea[i2]+1),Ea[i2]=0,qh=!0,rt[Ft]=!0,Ea[bx]=new Date):(rt[Ft]=Ng,Ea[i2]+=1);var bB=xi(Ft);G9(Te,bB,Ea);for(var qx=0;qx<_2;qx++)yB(Ft,Te,Qr,rn)}catch{}return{isThrottled:qh,throttleNum:_2}}else if(bo){var Ej=EB(Ft);Ej.push({msgID:Ft,message:Qr,severity:rn})}return null}o(vr,"_flushMessage");function Br(){Te=qV(k),rt={},He={},yr={},Be={},An(109),Et=s9(R)?R:"",k.addUnloadHook(Rk(k.config,function(Ft){var Qr=Ft.cfg;ue=Sx();var rn=Qr.throttleMgrCfg||{};Je(rn,function(bo,Ca){An(parseInt(bo),Ca)})}))}o(Br,"_initConfig");function Sn(Ft){return Be[Ft]||Be[109]}o(Sn,"_getCfgByKey");function An(Ft,Qr){var rn,bo;try{var Ca=Qr||{},_s={};_s.disabled=!!Ca.disabled;var Ea=Ca.interval||{};kn=Ea?.daysOfMonth&&Ea?.daysOfMonth[pn]>0,_s.interval=si(Ea);var Ng={samplingRate:((rn=Ca.limit)===null||rn===void 0?void 0:rn.samplingRate)||100,maxSendNumber:((bo=Ca.limit)===null||bo===void 0?void 0:bo.maxSendNumber)||1};_s.limit=Ng,Be[Ft]=_s}catch{}}o(An,"_setCfgByKey");function si(Ft){Ft=Ft||{};var Qr=Ft?.monthInterval,rn=Ft?.dayInterval;return O(Qr)&&O(rn)&&(Ft.monthInterval=3,kn||(Ft.daysOfMonth=[28],kn=!0)),Ft={monthInterval:Ft?.monthInterval,dayInterval:Ft?.dayInterval,daysOfMonth:Ft?.daysOfMonth},Ft}o(si,"_getIntervalConfig");function Vi(Ft,Qr,rn){if(Ft&&!Ft.disabled&&Qr&&s9(rn)){var bo=UC(),Ca=rn.date,_s=Ft.interval,Ea=1;if(_s?.monthInterval){var Ng=(bo.getUTCFullYear()-Ca.getUTCFullYear())*12+bo.getUTCMonth()-Ca.getUTCMonth();Ea=Ux(_s.monthInterval,0,Ng)}var qh=1;if(kn)qh=Wd(_s.daysOfMonth,bo[x9]());else if(_s?.dayInterval){var _2=gh((bo.getTime()-Ca.getTime())/864e5);qh=Ux(_s.dayInterval,0,_2)}return Ea>=0&&qh>=0}return!1}o(Vi,"_canThrottle");function xi(Ft,Qr){var rn=s9(Qr)?Qr:"";return Ft?ej+rn+"-"+Ft:null}o(xi,"_getLocalStorageName");function ya(Ft){try{if(Ft){var Qr=new Date;return Ft.getUTCFullYear()===Qr.getUTCFullYear()&&Ft.getUTCMonth()===Qr.getUTCMonth()&&Ft[x9]()===Qr[x9]()}}catch{}return!1}o(ya,"_isTriggeredOnCurDate");function S2(Ft,Qr,rn){try{var bo={date:UC(),count:0};if(Ft){var Ca=JSON.parse(Ft),_s={date:UC(Ca.date)||bo.date,count:Ca[i2]||bo[i2],preTriggerDate:Ca.preTriggerDate?UC(Ca[bx]):void 0};return _s}else return G9(Qr,rn,bo),bo}catch{}return null}o(S2,"_getLocalStorageObj");function UC(Ft){try{if(Ft){var Qr=new Date(Ft);if(!isNaN(Qr.getDate()))return Qr}else return new Date}catch{}return null}o(UC,"_getThrottleDate");function G9(Ft,Qr,rn){try{return eB(Ft,Qr,t0(JSON[vx](rn)))}catch{}return!1}o(G9,"_resetLocalStorage");function Ux(Ft,Qr,rn){return Ft<=0?1:rn>=Qr&&(rn-Qr)%Ft==0?gh((rn-Qr)/Ft)+1:-1}o(Ux,"_checkInterval");function yB(Ft,Qr,rn,bo){R0(Qr,bo||1,Ft,rn)}o(yB,"_sendMessage");function Cj(Ft){try{var Qr=Sn(Ft);return nx(1e6)<=Qr.limit.samplingRate}catch{}return!1}o(Cj,"_canSampledIn");function H9(Ft){try{var Qr=He[Ft];if(!Qr){var rn=xi(Ft,Et);Qr=S2(Zk(Te,rn),Te,rn),He[Ft]=Qr}return He[Ft]}catch{}return null}o(H9,"_getLocalStorageObjByKey");function CB(Ft){var Qr=rt[Ft];if(O(Qr)){Qr=!1;var rn=H9(Ft);rn&&(Qr=ya(rn[bx])),rt[Ft]=Qr}return rt[Ft]}o(CB,"_isTrigger");function EB(Ft){return yr=yr||{},O(yr[Ft])&&(yr[Ft]=[]),yr[Ft]}o(EB,"_getQueueByKey")}return o(w,"ThrottleMgr"),w}(),R9=";",bf="=";function _x(w){if(!w)return{};var k=w[Ph](R9),R=Os(k,function(ue,Te){var Be=Te[Ph](bf);if(Be[pn]===2){var He=Be[0][n2](),rt=Be[1];ue[He]=rt}return ue},{});if(yt(R)[pn]>0){if(R.endpointsuffix){var Q=R.location?R.location+".":"";R[Rg]=R[Rg]||"https://"+Q+"dc."+R.endpointsuffix}R[Rg]=R[Rg]||y9,TA(R[Rg],"/")&&(R[Rg]=R[Rg].slice(0,-1))}return R}o(_x,"parseConnectionString");var kx={parse:_x},Bx=function(){function w(k,R,Q){var ue=this,Te=this;Te.ver=1,Te.sampleRate=100,Te.tags={},Te[pc]=Va(k,Q)||Cf,Te.data=R,Te.time=jd(new Date),Te[Fh]={time:1,iKey:1,name:1,sampleRate:o(function(){return ue.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(w,"Envelope"),w}(),rj=function(){function w(k,R,Q,ue){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Te=this;Te.ver=2,Te[pc]=Va(k,R)||Cf,Te[Ef]=Xd(k,Q),Te[r0]=gc(k,ue)}return o(w,"Event"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Event",w.dataType="EventData",w}(),nj=58,nB=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,ij=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,C2=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,iB=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,oj=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,sj=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,aj=/([^\(\s\n]+):([0-9]+)$/,oB="<no_method>",E2="error",P0="stack",PC="stackDetails",Rx="errorSrc",FC="message",NC="description",D9=[{re:ij,len:5,m:1,fn:2,ln:3,col:4},{chk:Dx,pre:Dr,re:C2,len:4,m:1,fn:2,ln:3},{re:iB,len:3,m:1,fn:2,hdl:F9},{re:oj,len:2,fn:1,hdl:F9}];function Dr(w){return w.replace(/(\(anonymous\))/,"<anonymous>")}o(Dr,"_scrubAnonymous");function Dx(w){return Vr(w,"[native")<0}o(Dx,"_ignoreNative");function LC(w,k){var R=w;return R&&!J(R)&&(JSON&&JSON[vx]?(R=JSON[vx](w),k&&(!R||R==="{}")&&(le(w[Dg])?R=w[Dg]():R=""+w)):R=""+w+" - (Missing JSON.stringify)"),R||""}o(LC,"_stringify");function Qh(w,k){var R=w;return w&&(R&&!J(R)&&(R=w[FC]||w[NC]||R),R&&!J(R)&&(R=LC(R,!0)),w.filename&&(R=R+" @"+(w.filename||"")+":"+(w.lineno||"?")+":"+(w.colno||"?"))),k&&k!=="String"&&k!=="Object"&&k!=="Error"&&Vr(R||"",k)===-1&&(R=k+": "+R),R||""}o(Qh,"_formatMessage");function sB(w){try{if(ee(w))return"hasFullStack"in w&&"typeName"in w}catch{}return!1}o(sB,"_isExceptionDetailsInternal");function aB(w){try{if(ee(w))return"ver"in w&&"exceptions"in w&&"properties"in w}catch{}return!1}o(aB,"_isExceptionInternal");function Px(w){return w&&w.src&&J(w.src)&&w.obj&&ae(w.obj)}o(Px,"_isStackDetails");function tm(w){var k=w||"";J(k)||(J(k[P0])?k=k[P0]:k=""+k);var R=k[Ph](`
`);return{src:k,obj:R}}o(tm,"_convertStackObj");function lB(w){for(var k=[],R=w[Ph](`
`),Q=0;Q<R[pn];Q++){var ue=R[Q];R[Q+1]&&(ue+="@"+R[Q+1],Q++),k.push(ue)}return{src:w,obj:k}}o(lB,"_getOperaStack");function Fx(w){var k=null;if(w)try{if(w[P0])k=tm(w[P0]);else if(w[E2]&&w[E2][P0])k=tm(w[E2][P0]);else if(w.exception&&w.exception[P0])k=tm(w.exception[P0]);else if(Px(w))k=w;else if(Px(w[PC]))k=w[PC];else if(Ct()&&Ct().opera&&w[FC])k=lB(w[wC]);else if(w.reason&&w.reason[P0])k=tm(w.reason[P0]);else if(J(w))k=tm(w);else{var R=w[FC]||w[NC]||"";J(w[Rx])&&(R&&(R+=`
`),R+=" from "+w[Rx]),R&&(k=tm(R))}}catch(Q){k=tm(Q)}return k||{src:"",obj:null}}o(Fx,"_getStackFromErrorObj");function cB(w){var k="";return w&&(w.obj?k=w.obj.join(`
`):k=w.src||""),k}o(cB,"_formatStackTrace");function Nx(w){var k,R=w.obj;if(R&&R[pn]>0){k=[];var Q=0,ue=!1,Te=0;tl(R,function(Sn){if(ue||lj(Sn)){var An=We(Sn);ue=!0;var si=cj(An,Q);si&&(Te+=si[a2],k.push(si),Q++)}});var Be=32*1024;if(Te>Be)for(var He=0,rt=k[pn]-1,Et=0,yr=He,gn=rt;He<rt;){var kn=k[He][a2],vr=k[rt][a2];if(Et+=kn+vr,Et>Be){var Br=gn-yr+1;k.splice(yr,Br);break}yr=He,gn=rt,He++,rt--}}return k}o(Nx,"_parseStack");function x2(w){var k="";if(w&&(k=w.typeName||w[pc]||"",!k))try{var R=/function (.{1,200})\(/,Q=R.exec(w.constructor[Dg]());k=Q&&Q[pn]>1?Q[1]:""}catch{}return k}o(x2,"_getErrorType");function Lx(w){if(w)try{if(!J(w)){var k=x2(w),R=LC(w,!1);return(!R||R==="{}")&&(w[E2]&&(w=w[E2],k=x2(w)),R=LC(w,!0)),Vr(R,k)!==0&&k!=="String"?k+":"+R:R}}catch{}return""+(w||"")}o(Lx,"_formatErrorCode");var vf=function(){function w(k,R,Q,ue,Te,Be){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var He=this;He.ver=2,aB(R)?(He[l2]=R[l2]||[],He[Ef]=R[Ef],He[r0]=R[r0],R[_C]&&(He[_C]=R[_C]),R.id&&(He.id=R.id,R[Ef].id=R.id),R[c2]&&(He[c2]=R[c2]),O(R.isManual)||(He.isManual=R.isManual)):(Q||(Q={}),Be&&(Q.id=Be),He[l2]=[dB(k,R,Q)],He[Ef]=Xd(k,Q),He[r0]=gc(k,ue),Te&&(He[_C]=Te),Be&&(He.id=Be))}return o(w,"Exception"),w.CreateAutoException=function(k,R,Q,ue,Te,Be,He,rt){var Et=x2(Te||Be||k);return{message:Qh(k,Et),url:R,lineNumber:Q,columnNumber:ue,error:Lx(Te||Be||k),evt:Lx(Be||k),typeName:Et,stackDetails:Fx(He||Te||Be),errorSrc:rt}},w.CreateFromInterface=function(k,R,Q,ue){var Te=R[l2]&&df(R[l2],function(He){return P9(k,He)}),Be=new w(k,jE(jE({},R),{exceptions:Te}),Q,ue);return Be},w.prototype.toInterface=function(){var k=this,R=k.exceptions,Q=k.properties,ue=k.measurements,Te=k.severityLevel,Be=k.problemGroup,He=k.id,rt=k.isManual,Et=R instanceof Array&&df(R,function(yr){return yr.toInterface()})||void 0;return{ver:"4.0",exceptions:Et,severityLevel:Te,properties:Q,measurements:ue,problemGroup:Be,id:He,isManual:rt}},w.CreateSimpleException=function(k,R,Q,ue,Te,Be){var He;return{exceptions:[(He={},He[Ix]=!0,He.message=k,He.stack=Te,He.typeName=R,He)]}},w.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",w.dataType="ExceptionData",w.formatError=Lx,w}(),uB=Rt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function fB(){var w=this,k=ae(w[D0])&&df(w[D0],function(Q){return hB(Q)}),R={id:w.id,outerId:w.outerId,typeName:w[SC],message:w[wC],hasFullStack:w[Ix],stack:w[P0],parsedStack:k||void 0};return R}o(fB,"_toInterface");function dB(w,k,R){var Q,ue,Te,Be,He,rt,Et,yr;if(sB(k))Be=k[SC],He=k[wC],Et=k[P0],yr=k[D0]||[],rt=k[Ix];else{var gn=k,kn=gn&&gn.evt;ce(gn)||(gn=gn[E2]||kn||gn),Be=Va(w,x2(gn))||Cf,He=wx(w,Qh(k||gn,Be))||Cf;var vr=k[PC]||Fx(k);yr=Nx(vr),ae(yr)&&df(yr,function(Br){Br[Tx]=Va(w,Br[Tx]),Br[au]=Va(w,Br[au])}),Et=T9(w,cB(vr)),rt=ae(yr)&&yr[pn]>0,R&&(R[SC]=R[SC]||Be)}return Q={},Q[Fh]=uB,Q.id=ue,Q.outerId=Te,Q.typeName=Be,Q.message=He,Q[Ix]=rt,Q.stack=Et,Q.parsedStack=yr,Q.toInterface=fB,Q}o(dB,"_createExceptionDetails");function P9(w,k){var R=ae(k[D0])&&df(k[D0],function(ue){return mB(ue)})||k[D0],Q=dB(w,jE(jE({},k),{parsedStack:R}));return Q}o(P9,"_createExDetailsFromInterface");function QC(w,k){var R=k[Pg](sj);if(R&&R[pn]>=4)w[au]=R[1],w[u2]=parseInt(R[2]);else{var Q=k[Pg](aj);Q&&Q[pn]>=3?(w[au]=Q[1],w[u2]=parseInt(Q[2])):w[au]=k}}o(QC,"_parseFilename");function F9(w,k,R){var Q=w[au];k.fn&&R&&R[pn]>k.fn&&(k.ln&&R[pn]>k.ln?(Q=t0(R[k.fn]||""),w[u2]=parseInt(t0(R[k.ln]||""))||0):Q=t0(R[k.fn]||"")),Q&&QC(w,Q)}o(F9,"_handleFilename");function lj(w){var k=!1;if(w&&J(w)){var R=t0(w);R&&(k=nB.test(R))}return k}o(lj,"_isStackFrame");var N9=Rt({level:1,method:1,assembly:0,fileName:0,line:0});function cj(w,k){var R,Q;if(w&&J(w)&&t0(w)){Q=(R={},R[Fh]=N9,R.level=k,R.assembly=t0(w),R.method=oB,R.fileName="",R.line=0,R.sizeInBytes=0,R);for(var ue=0;ue<D9[pn];){var Te=D9[ue];if(Te.chk&&!Te.chk(w))break;Te.pre&&(w=Te.pre(w));var Be=w[Pg](Te.re);if(Be&&Be[pn]>=Te.len){Te.m&&(Q.method=t0(Be[Te.m]||oB)),Te.hdl?Te.hdl(Q,Te,Be):Te.fn&&(Te.ln?(Q[au]=t0(Be[Te.fn]||""),Q[u2]=parseInt(t0(Be[Te.ln]||""))||0):QC(Q,Be[Te.fn]||""));break}ue++}}return L9(Q)}o(cj,"_extractStackFrame");function mB(w){var k,R=(k={},k[Fh]=N9,k.level=w.level,k.method=w.method,k.assembly=w[Tx],k.fileName=w[au],k.line=w[u2],k.sizeInBytes=0,k);return L9(R)}o(mB,"_stackFrameFromInterface");function L9(w){var k=nj;return w&&(k+=w.method[pn],k+=w.assembly[pn],k+=w.fileName[pn],k+=w.level.toString()[pn],k+=w.line.toString()[pn],w[a2]=k),w}o(L9,"_populateFrameSizeInBytes");function hB(w){return{level:w.level,method:w.method,assembly:w[Tx],fileName:w[au],line:w[u2]}}o(hB,"_parsedFrameToInterface");var pB=function(){function w(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(w,"DataPoint"),w}(),uj=function(){function w(k,R,Q,ue,Te,Be,He,rt,Et){this.aiDataContract={ver:1,metrics:1,properties:0};var yr=this;yr.ver=2;var gn=new pB;gn[i2]=ue>0?ue:void 0,gn.max=isNaN(Be)||Be===null?void 0:Be,gn.min=isNaN(Te)||Te===null?void 0:Te,gn[pc]=Va(k,R)||Cf,gn.value=Q,gn.stdDev=isNaN(He)||He===null?void 0:He,yr.metrics=[gn],yr[Ef]=Xd(k,rt),yr[r0]=gc(k,Et)}return o(w,"Metric"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",w.dataType="MetricData",w}(),b2="";function fj(w,k){return k===void 0&&(k=!1),w==null?k:w.toString()[n2]()==="true"}o(fj,"stringToBoolOrDefault");function Q9(w){(isNaN(w)||w<0)&&(w=0),w=V6(w);var k=b2+w%1e3,R=b2+gh(w/1e3)%60,Q=b2+gh(w/(1e3*60))%60,ue=b2+gh(w/(1e3*60*60))%24,Te=gh(w/(1e3*60*60*24));return k=k[pn]===1?"00"+k:k[pn]===2?"0"+k:k,R=R[pn]<2?"0"+R:R,Q=Q[pn]<2?"0"+Q:Q,ue=ue[pn]<2?"0"+ue:ue,(Te>0?Te+".":b2)+ue+":"+Q+":"+R+"."+k}o(Q9,"msToTimeSpan");function dj(w,k){var R=null;return tl(w,function(Q){if(Q.identifier===k)return R=Q,-1}),R}o(dj,"getExtensionByName");function Mh(w,k,R,Q,ue){return!ue&&J(w)&&(w==="Script error."||w==="Script error")}o(Mh,"isCrossOriginError");var mj=function(){function w(k,R,Q,ue,Te,Be,He){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var rt=this;rt.ver=2,rt.id=f2(k,He),rt.url=xf(k,Q),rt[pc]=Va(k,R)||Cf,isNaN(ue)||(rt[kC]=Q9(ue)),rt[Ef]=Xd(k,Te),rt[r0]=gc(k,Be)}return o(w,"PageView"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",w.dataType="PageviewData",w}(),v2=function(){function w(k,R,Q,ue,Te,Be,He,rt,Et,yr,gn,kn){Et===void 0&&(Et="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var vr=this;vr.ver=2,vr.id=R,vr[kC]=Q9(Te),vr.success=Be,vr.resultCode=He+"",vr.type=Va(k,Et);var Br=Jk(k,Q,rt,ue);vr.data=xf(k,ue)||Br.data,vr.target=Va(k,Br.target),yr&&(vr.target="".concat(vr.target," | ").concat(yr)),vr[pc]=Va(k,Br[pc]),vr[Ef]=Xd(k,gn),vr[r0]=gc(k,kn)}return o(w,"RemoteDependencyData"),w.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",w.dataType="RemoteDependencyData",w}(),M9=function(){function w(k,R,Q,ue,Te){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Be=this;Be.ver=2,R=R||Cf,Be[wC]=wx(k,R),Be[Ef]=Xd(k,ue),Be[r0]=gc(k,Te),Q&&(Be[_C]=Q)}return o(w,"Trace"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Message",w.dataType="MessageData",w}(),MC=function(){function w(k,R,Q,ue,Te,Be,He){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var rt=this;rt.ver=2,rt.url=xf(k,Q),rt[pc]=Va(k,R)||Cf,rt[Ef]=Xd(k,Te),rt[r0]=gc(k,Be),He&&(rt.domProcessing=He.domProcessing,rt[kC]=He[kC],rt.networkConnect=He.networkConnect,rt.perfTotal=He.perfTotal,rt.receivedResponse=He.receivedResponse,rt.sentRequest=He.sentRequest)}return o(w,"PageViewPerformance"),w.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",w.dataType="PageviewPerformanceData",w}(),hj=function(){function w(k,R){this.aiDataContract={baseType:1,baseData:1},this.baseType=k,this.baseData=R}return o(w,"Data"),w}(),Qx=cC({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),pj=function(){function w(){}return o(w,"ConfigurationManager"),w.getConfig=function(k,R,Q,ue){ue===void 0&&(ue=!1);var Te;return Q&&k[s2]&&k[s2][Q]&&!O(k[s2][Q][R])?Te=k[s2][Q][R]:Te=k[R],O(Te)?ue:Te},w}();function If(w){var k="ai."+w+".";return function(R){return k+R}}o(If,"_aiNameFunc");var I2=If("application"),ra=If("device"),Mx=If("location"),T2=If("operation"),Ox=If("session"),Oh=If("user"),Fg=If("cloud"),OC=If("internal"),Uh=function(w){bh(k,w);function k(){return w.call(this)||this}return o(k,"ContextTagKeys"),k}(AC({applicationVersion:I2("ver"),applicationBuild:I2("build"),applicationTypeId:I2("typeId"),applicationId:I2("applicationId"),applicationLayer:I2("layer"),deviceId:ra("id"),deviceIp:ra("ip"),deviceLanguage:ra("language"),deviceLocale:ra("locale"),deviceModel:ra("model"),deviceFriendlyName:ra("friendlyName"),deviceNetwork:ra("network"),deviceNetworkName:ra("networkName"),deviceOEMName:ra("oemName"),deviceOS:ra("os"),deviceOSVersion:ra("osVersion"),deviceRoleInstance:ra("roleInstance"),deviceRoleName:ra("roleName"),deviceScreenResolution:ra("screenResolution"),deviceType:ra("type"),deviceMachineName:ra("machineName"),deviceVMName:ra("vmName"),deviceBrowser:ra("browser"),deviceBrowserVersion:ra("browserVersion"),locationIp:Mx("ip"),locationCountry:Mx("country"),locationProvince:Mx("province"),locationCity:Mx("city"),operationId:T2("id"),operationName:T2("name"),operationParentId:T2("parentId"),operationRootId:T2("rootId"),operationSyntheticSource:T2("syntheticSource"),operationCorrelationVector:T2("correlationVector"),sessionId:Ox("id"),sessionIsFirst:Ox("isFirst"),sessionIsNew:Ox("isNew"),userAccountAcquisitionDate:Oh("accountAcquisitionDate"),userAccountId:Oh("accountId"),userAgent:Oh("userAgent"),userId:Oh("id"),userStoreRegion:Oh("storeRegion"),userAuthUserId:Oh("authUserId"),userAnonymousUserAcquisitionDate:Oh("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Oh("authUserAcquisitionDate"),cloudName:Fg("name"),cloudRole:Fg("role"),cloudRoleVer:Fg("roleVer"),cloudRoleInstance:Fg("roleInstance"),cloudEnvironment:Fg("environment"),cloudLocation:Fg("location"),cloudDeploymentUnit:Fg("deploymentUnit"),internalNodeName:OC("nodeName"),internalSdkVersion:OC("sdkVersion"),internalAgentVersion:OC("agentVersion"),internalSnippet:OC("snippet"),internalSdkSrc:OC("sdkSrc")}));function O9(w,k,R,Q,ue,Te){R=Va(Q,R)||Cf,(O(w)||O(k)||O(R))&&Ne("Input doesn't contain all required fields");var Be="";w[C9]&&(Be=w[C9],delete w[C9]);var He={name:R,time:jd(new Date),iKey:Be,ext:Te||{},tags:[],data:{},baseType:k,baseData:w};return O(ue)||Je(ue,function(rt,Et){He.data[rt]=Et}),He}o(O9,"createTelemetryItem");var U9=function(){function w(){}return o(w,"TelemetryItemCreator"),w.create=O9,w}(),gj={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Aj=new Uh;function gB(w){var k=null;if(le(Event))k=new Event(w);else{var R=Ie();R&&R.createEvent&&(k=R.createEvent("Event"),k.initEvent(w,!0,!0))}return k}o(gB,"createDomEvent");function q9(w,k){Ok(w,null,null,k)}o(q9,"_disableEvents");function AB(w){var k=Ie(),R=Pt(),Q=!1,ue=[],Te=1;R&&!O(R.onLine)&&!R.onLine&&(Te=2);var Be=0,He=kn(),rt=VV(zd("OfflineListener"),w);try{if(yr(Ct())&&(Q=!0),k){var Et=k.body||k;Et.ononline&&yr(Et)&&(Q=!0)}}catch{Q=!1}function yr(xi){var ya=!1;return xi&&(ya=A9(xi,"online",Sn,rt),ya&&A9(xi,"offline",An,rt)),ya}o(yr,"_enableEvents");function gn(){return He}o(gn,"_isOnline");function kn(){return!(Be===2||Te===2)}o(kn,"calCurrentState");function vr(){var xi=kn();He!==xi&&(He=xi,tl(ue,function(ya){var S2={isOnline:He,rState:Te,uState:Be};try{ya(S2)}catch{}}))}o(vr,"listnerNoticeCheck");function Br(xi){Be=xi,vr()}o(Br,"setOnlineState");function Sn(){Te=1,vr()}o(Sn,"_setOnline");function An(){Te=2,vr()}o(An,"_setOffline");function si(){var xi=Ct();if(xi&&Q){if(q9(xi,rt),k){var ya=k.body||k;ne(ya.ononline)||q9(ya,rt)}Q=!1}}o(si,"_unload");function Vi(xi){return ue.push(xi),{rm:o(function(){var ya=ue.indexOf(xi);if(ya>-1)return ue.splice(ya,1)},"rm")}}return o(Vi,"addListener"),{isOnline:gn,isListening:o(function(){return Q},"isListening"),unload:si,addListener:Vi,setOnlineState:Br}}o(AB,"createOfflineListener");var yj="AppInsightsPropertiesPlugin",W9="AppInsightsChannelPlugin",w2="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=w2,e.BreezeChannelIdentifier=W9,e.ConfigurationManager=pj,e.ConnectionStringParser=kx,e.ContextTagKeys=Uh,e.CtxTagKeys=Aj,e.DEFAULT_BREEZE_ENDPOINT=y9,e.DEFAULT_BREEZE_PATH=TC,e.Data=hj,e.DisabledPropertyName=Ex,e.DistributedTracingModes=JV,e.Envelope=Bx,e.Event=rj,e.EventPersistence=BC,e.Exception=vf,e.Extensions=gj,e.HttpMethod=qk,e.Metric=uj,e.PageView=mj,e.PageViewPerformance=MC,e.ProcessLegacy=xx,e.PropertiesPluginIdentifier=yj,e.RemoteDependencyData=v2,e.RequestHeaders=Wk,e.SampleRate=Uk,e.SeverityLevel=Qx,e.TelemetryItemCreator=U9,e.ThrottleMgr=tj,e.Trace=M9,e.correlationIdCanIncludeCorrelationHeader=Nh,e.correlationIdGetCorrelationContext=Yk,e.correlationIdGetCorrelationContextValue=Kk,e.correlationIdGetPrefix=k9,e.correlationIdSetPrefix=_9,e.createDistributedTraceContextFromTrace=B9,e.createDomEvent=gB,e.createOfflineListener=AB,e.createTelemetryItem=O9,e.createTraceParent=XA,e.dataSanitizeException=T9,e.dataSanitizeId=f2,e.dataSanitizeInput=w9,e.dataSanitizeKey=I9,e.dataSanitizeKeyAndAddUniqueness=v9,e.dataSanitizeMeasurements=gc,e.dataSanitizeMessage=wx,e.dataSanitizeProperties=Xd,e.dataSanitizeString=Va,e.dataSanitizeUrl=xf,e.dateTimeUtilsDuration=KV,e.dateTimeUtilsNow=YV,e.dsPadNumber=Gk,e.findAllScripts=h9,e.findW3cTraceParent=m9,e.formatTraceParent=Bg,e.getExtensionByName=dj,e.isBeaconApiSupported=wh,e.isCrossOriginError=Mh,e.isInternalApplicationInsightsEndpoint=zk,e.isSampledFlag=px,e.isValidSpanId=e2,e.isValidTraceId=ZA,e.isValidTraceParent=t2,e.msToTimeSpan=Q9,e.parseConnectionString=_x,e.parseTraceParent=hc,e.strNotSpecified=Cf,e.stringToBoolOrDefault=fj,e.urlGetAbsoluteUrl=$V,e.urlGetCompleteUrl=Vk,e.urlGetPathName=zV,e.urlParseFullHost=Zd,e.urlParseHost=jk,e.urlParseUrl=d2,e.utlCanUseLocalStorage=Sx,e.utlCanUseSessionStorage=em,e.utlDisableStorage=RC,e.utlEnableStorage=XV,e.utlGetLocalStorage=Zk,e.utlGetSessionStorage=tB,e.utlGetSessionStorageKeys=y2,e.utlRemoveSessionStorage=rB,e.utlRemoveStorage=Ac,e.utlSetLocalStorage=eB,e.utlSetSessionStorage=ZV,e.utlSetStoragePrefix=DC})});var I5e=V((FP,v5e)=>{d();(function(e,t){typeof FP=="object"&&typeof v5e<"u"?t(FP):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(FP,function(e){"use strict";function t(g,y){return g||y}o(t,"_pureAssign");function r(g,y){return g[y]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",A="length",E="name",x="call",b="toString",v=t(Object),S=r(v,c),B=t(String),P=r(B,c),F=t(Math),G=t(Array),re=r(G,c),pe=r(re,"slice");function Z(g,y){try{return{v:g.apply(this,y)}}catch(T){return{e:T}}}o(Z,"safe");function W(g,y){var T=Z(g);return T.e?y:T.v}o(W,"safeGet");var q;function se(g){return function(y){return typeof y===g}}o(se,"_createIs");function ne(g){var y="[object "+g+"]";return function(T){return!!(T&&H(T)===y)}}o(ne,"_createObjIs");function H(g){return S[b].call(g)}o(H,"objToString");function O(g){return typeof g===f||g===f}o(O,"isUndefined");function j(g){return!ee(g)}o(j,"isStrictUndefined");function J(g){return g===i||O(g)}o(J,"isNullOrUndefined");function le(g){return g===i||!ee(g)}o(le,"isStrictNullOrUndefined");function ee(g){return!!g||g!==n}o(ee,"isDefined");function ae(g){return!q&&(q=["string","number","boolean",f,"symbol","bigint"]),g!==l&&q.indexOf(g)!==-1}o(ae,"isPrimitiveType");var ce=se("string"),Re=se(a);function ve(g){return!g&&J(g)?!1:!!g&&typeof g===l}o(ve,"isObject");var Ue=r(G,"isArray"),ke=ne("Date"),Je=se("number"),ft=se("boolean"),ot=ne("Error");function at(g){return!!(g&&g.then&&Re(g.then))}o(at,"isPromiseLike");function ie(g){return!(!g||W(function(){return!(g&&0+g)},!g))}o(ie,"isTruthy");var Pe=r(v,"getOwnPropertyDescriptor");function Ae(g,y){return!!g&&S.hasOwnProperty[x](g,y)}o(Ae,"objHasOwnProperty");var We=t(r(v,"hasOwn"),z);function z(g,y){return Ae(g,y)||!!Pe(g,y)}o(z,"polyObjHasOwn");function te(g,y,T){if(g&&ve(g)){for(var _ in g)if(We(g,_)&&y[x](T||g,_,g[_])===-1)break}}o(te,"objForEachKey");var Ne={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Se(g){var y={};if(y[Ne.c]=!0,y[Ne.e]=!0,g.l){y.get=function(){return g.l.v};var T=Pe(g.l,"v");T&&T.set&&(y.set=function(_){g.l.v=_})}return te(g,function(_,D){y[Ne[_]]=j(D)?y[Ne[_]]:D}),y}o(Se,"_createProp");var Ce=r(v,"defineProperty");function Oe(g,y,T){return Ce(g,y,Se(T))}o(Oe,"objDefine");function Ve(g,y,T,_,D){var N={};return te(g,function(U,oe){Ze(N,U,y?oe:U),Ze(N,oe,T?oe:U)}),_?_(N):N}o(Ve,"_createKeyValueMap");function Ze(g,y,T,_){Ce(g,y,{value:T,enumerable:!0,writable:!1})}o(Ze,"_assignMapValue");var yt=t(B),Rt="[object Error]";function At(g,y){var T=s,_=S[b][x](g);_===Rt&&(g={stack:yt(g.stack),message:yt(g.message),name:yt(g.name)});try{T=JSON.stringify(g,i,y?typeof y=="number"?y:4:n),T=(T?T.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||yt(g)}catch(D){T=" - "+At(D,y)}return _+": "+T}o(At,"dumpObj");function Ht(g){throw new Error(g)}o(Ht,"throwError");function $t(g){throw new TypeError(g)}o($t,"throwTypeError");var ir=r(v,"freeze");function ge(g){return g}o(ge,"_doNothing");function Le(g){return g[u]||i}o(Le,"_getProto");var Ke=r(v,"assign"),et=r(v,"keys");function St(g){return ir&&te(g,function(y,T){(Ue(T)||ve(T))&&St(T)}),xt(g)}o(St,"objDeepFreeze");var xt=t(ir,ge),Nt=t(r(v,"getPrototypeOf"),Le);function Qt(g){return Ve(g,1,0,xt)}o(Qt,"createEnum");function Tt(g){return Ve(g,0,0,xt)}o(Tt,"createEnumKeyMap");function _t(g){var y={};return te(g,function(T,_){Ze(y,T,_[1]),Ze(y,_[0],_[1])}),xt(y)}o(_t,"createSimpleMap");function wt(g){return _t(g)}o(wt,"createTypeMap");var Ot=Tt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Wt="__tsUtils$gblCfg",zt;function lr(){var g;return typeof globalThis!==f&&(g=globalThis),!g&&typeof self!==f&&(g=self),!g&&typeof window!==f&&(g=window),!g&&typeof global!==f&&(g=global),g}o(lr,"_getGlobalValue");function hr(){if(!zt){var g=Z(lr).v||{};zt=g[Wt]=g[Wt]||{}}return zt}o(hr,"_getGlobalConfig");var sr=cr;function cr(g,y,T){var _=y?y[g]:i;return function(D){var N=(D?D[g]:i)||_;if(N||T){var U=arguments;return(N||T).apply(D,N?pe[x](U,1):U)}$t('"'+yt(g)+'" not defined for '+At(D))}}o(cr,"_unwrapFunctionWithPoly");function Zt(g){return function(y){return y[g]}}o(Zt,"_unwrapProp");var ur=r(F,"min"),be=r(F,"max"),M=sr("slice",P),de=sr("substring",P),ye=cr("substr",P,Y);function Y(g,y,T){return J(g)&&$t("Invalid "+At(g)),T<0?s:(y=y||0,y<0&&(y=be(y+g[A],0)),O(T)?M(g,y):M(g,y,y+T))}o(Y,"polyStrSubstr");function L(g,y){return de(g,0,y)}o(L,"strLeft");var Ie="_urid",Me;function Ct(){if(!Me){var g=hr();Me=g.gblSym=g.gblSym||{k:{},s:{}}}return Me}o(Ct,"_globalSymbolRegistry");var Ut;function Pt(g){var y={description:yt(g),toString:o(function(){return h+"("+g+")"},"toString")};return y[p]=!0,y}o(Pt,"polyNewSymbol");function rr(g){var y=Ct();if(!We(y.k,g)){var T=Pt(g),_=et(y.s).length;T[Ie]=function(){return _+"_"+T[b]()},y.k[g]=T,y.s[T[Ie]()]=yt(g)}return y.k[g]}o(rr,"polySymbolFor");function or(g){!Ut&&(Ut={});var y,T=Ot[g];return T&&(y=Ut[T]=Ut[T]||Pt(h+"."+T)),y}o(or,"polyGetKnownSymbol");var Mt;function vt(){Mt=hr()}o(vt,"_initTestHooks");function ar(g){var y={};return!Mt&&vt(),y.b=Mt.lzy,Ce(y,"v",{configurable:!0,get:o(function(){var T=g();return Mt.lzy||Ce(y,"v",{value:T}),y.b=Mt.lzy,T},"get")}),y}o(ar,"getLazy");function Do(g){return Ce({toJSON:o(function(){return g},"toJSON")},"v",{value:g})}o(Do,"createCachedValue");var qd="window",tl;function Wd(g,y){var T;return function(){return!Mt&&vt(),(!T||Mt.lzy)&&(T=Do(Z(g,y).v)),T.v}}o(Wd,"_getGlobalInstFn");function df(g){return!Mt&&vt(),(!tl||g===!1||Mt.lzy)&&(tl=Do(Z(lr).v||i)),tl.v}o(df,"getGlobal");function Os(g,y){var T;if(!tl||y===!1?T=df(y):T=tl.v,T&&T[g])return T[g];if(g===qd)try{return window}catch{}return i}o(Os,"getInst");function hh(){return!!IA()}o(hh,"hasDocument");var IA=Wd(Os,["document"]);function G6(){return!!Gd()}o(G6,"hasWindow");var Gd=Wd(Os,[qd]);function xV(){return!!ph()}o(xV,"hasNavigator");var ph=Wd(Os,["navigator"]),bV=Wd(function(){return!!Z(function(){return process&&(process.versions||{}).node}).v}),hg,H6;function UE(){return hg=Do(Z(Os,[h]).v),hg}o(UE,"_initSymbol");function vV(g){var y=(Mt.lzy?0:hg)||UE();return y.v?y.v[g]:n}o(vV,"_getSymbolKey");function t0(){return!!gh()}o(t0,"hasSymbol");function gh(){return!Mt&&vt(),((Mt.lzy?0:hg)||UE()).v}o(gh,"getSymbol");function sC(g,y){var T=Ot[g];!Mt&&vt();var _=(Mt.lzy?0:hg)||UE();return _.v?_.v[T||g]:y?n:or(g)}o(sC,"getKnownSymbol");function pg(g,y){!Mt&&vt();var T=(Mt.lzy?0:hg)||UE();return T.v?T.v(g):y?i:Pt(g)}o(pg,"newSymbol");function aC(g){return!Mt&&vt(),H6=(Mt.lzy?0:H6)||Do(Z(vV,["for"]).v),(H6.v||rr)(g)}o(aC,"symbolFor");function Ah(g){return!!g&&Re(g.next)}o(Ah,"isIterator");function qE(g){return!le(g)&&Re(g[sC(3)])}o(qE,"isIterable");var lC;function V6(g,y,T){if(g&&(Ah(g)||(!lC&&(lC=Do(sC(3))),g=g[lC.v]?g[lC.v]():i),Ah(g))){var _=n,D=n;try{for(var N=0;!(D=g.next()).done&&y[x](T||g,D.value,N,g)!==-1;)N++}catch(U){_={e:U},g.throw&&(D=i,g.throw(_))}finally{try{D&&!D.done&&g.return&&g.return(D)}finally{if(_)throw _.e}}}}o(V6,"iterForOf");function TA(g,y,T){return g.apply(y,T)}o(TA,"fnApply");function wA(g,y){return!O(y)&&g&&(Ue(y)?TA(g.push,g,y):Ah(y)||qE(y)?V6(y,function(T){g.push(T)}):g.push(y)),g}o(wA,"arrAppend");function Vr(g,y,T){if(g)for(var _=g[A]>>>0,D=0;D<_&&!(D in g&&y[x](T||g,g[D],D,g)===-1);D++);}o(Vr,"arrForEach");var k0=sr("indexOf",re),gg=sr("map",re);function SA(g,y,T){return((g?g.slice:i)||pe).apply(g,pe[x](arguments,1))}o(SA,"arrSlice");var IV=sr("reduce",re),yh=t(r(v,"create"),TV);function TV(g){if(!g)return{};var y=typeof g;y!==l&&y!==a&&$t("Prototype must be an Object or function: "+At(g));function T(){}return o(T,"tempFunc"),T[c]=g,new T}o(TV,"polyObjCreate");var j6;function cC(g,y){var T=v.setPrototypeOf||function(_,D){var N;!j6&&(j6=Do((N={},N[u]=[],N instanceof Array))),j6.v?_[u]=D:te(D,function(U,oe){return _[U]=oe})};return T(g,y)}o(cC,"objSetPrototypeOf");function wV(g,y,T){Z(Oe,[y,E,{v:g,c:!0,e:!1}]),y=cC(y,T);function _(){this[m]=y,Z(Oe,[this,E,{v:g,c:!0,e:!1}])}return o(_,"__"),y[c]=T===i?yh(T):(_[c]=T[c],new _),y}o(wV,"_createCustomError");function uC(g,y){y&&(g[E]=y)}o(uC,"_setName");function Aa(g,y,T){var _=T||Error,D=_[c][E],N=Error.captureStackTrace;return wV(g,function(){var U=this,oe=arguments;try{Z(uC,[_,g]);var fe=TA(_,U,pe[x](oe))||U;if(fe!==U){var Ee=Nt(U);Ee!==Nt(fe)&&cC(fe,Ee)}return N&&N(fe,U[m]),y&&y(fe,oe),fe}finally{Z(uC,[_,D])}},_)}o(Aa,"createCustomError");function Ch(){return(Date.now||fC)()}o(Ch,"utcNow");function fC(){return new Date().getTime()}o(fC,"polyUtcNow");function hk(g){return o(function(T){return J(T)&&$t("strTrim called ["+At(T)+"]"),T&&T.replace&&(T=T.replace(g,s)),T},"_doTrim")}o(hk,"_createTrimFn");var SV=hk(/^\s+|(?=\s)\s+$/g),Pi=cr("trim",P,SV),Ag=r(F,"floor"),Eh,$6,dC;function B0(g){if(!g||typeof g!==l)return!1;dC||(dC=G6()?Gd():!0);var y=!1;if(g!==dC){$6||(Eh=Function[c][b],$6=Eh[x](v));try{var T=Nt(g);y=!T,y||(Ae(T,m)&&(T=T[m]),y=!!(T&&typeof T===a&&Eh[x](T)===$6))}catch{}}return y}o(B0,"isPlainObject");function pk(g){return g.value&&WE(g),!0}o(pk,"_defaultDeepCopyHandler");var gk=[_A,WE,yk,xh];function z6(g,y,T,_){var D;return Vr(g,function(N){if(N.k===y)return D=N,-1}),D||(D={k:y,v:y},g.push(D),_(D)),D.v}o(z6,"_getSetVisited");function yg(g,y,T,_){var D=T.handler,N=T.path?_?T.path.concat(_):T.path:[],U={handler:T.handler,src:T.src,path:N},oe=typeof y,fe=!1,Ee=y===i;Ee||(y&&oe===l?fe=B0(y):Ee=ae(oe));var _e={type:oe,isPrim:Ee,isPlain:fe,value:y,result:y,path:N,origin:T.src,copy:o(function(qe,Xe){return yg(g,qe,Xe?U:T,Xe)},"copy"),copyTo:o(function(qe,Xe){return Y6(g,qe,Xe,U)},"copyTo")};return _e.isPrim?D&&D[x](T,_e)?_e.result:y:z6(g,y,N,function(qe){Oe(_e,"result",{g:o(function(){return qe.v},"g"),s:o(function(ze){qe.v=ze},"s")});for(var Xe=0,Ge=D;!(Ge||(Xe<gk.length?gk[Xe++]:pk))[x](T,_e);)Ge=i})}o(yg,"_deepCopy");function Y6(g,y,T,_){if(!J(T))for(var D in T)y[D]=yg(g,T[D],_,D);return y}o(Y6,"_copyProps");function Ak(g,y,T){var _={handler:T,src:y,path:[]};return Y6([],g,y,_)}o(Ak,"objCopyProps");function K6(g,y){var T={handler:y,src:g};return yg([],g,T)}o(K6,"objDeepCopy");function _A(g){var y=g.value;if(Ue(y)){var T=g.result=[];return T.length=y.length,g.copyTo(T,y),!0}return!1}o(_A,"arrayDeepCopyHandler");function xh(g){var y=g.value;return ke(y)?(g.result=new Date(y.getTime()),!0):!1}o(xh,"dateDeepCopyHandler");function yk(g){return g.type===a}o(yk,"functionDeepCopyHandler");function WE(g){var y=g.value;if(y&&g.isPlain){var T=g.result={};return g.copyTo(T,y),!0}return!1}o(WE,"plainObjDeepCopyHandler");function J6(g,y){return Vr(y,function(T){Ak(g,T)}),g}o(J6,"_doExtend");function GE(g,y,T,_,D,N,U){return J6(K6(g)||{},pe[x](arguments))}o(GE,"deepExtend");var _V=Zt(A),kV=r(F,"round"),Ck=cr("endsWith",P,BV);function BV(g,y,T){ce(g)||$t("'"+At(g)+"' is not a string");var _=ce(y)?y:yt(y),D=!O(T)&&T<g[A]?T:g[A];return de(g,D-_[A],D)===_}o(BV,"polyStrEndsWith");var Hd=sr("indexOf",P),HE="ref",X6="unref",VE="hasRef",RV="enabled";function jE(g,y,T){var _=!0,D=g?y(i):i,N;function U(){return _=!1,D&&D[X6]&&D[X6](),N}o(U,"_unref");function oe(){D&&T(D),D=i}o(oe,"_cancel");function fe(){return D=y(D),_||U(),N}o(fe,"_refresh");function Ee(_e){!_e&&D&&oe(),_e&&!D&&fe()}return o(Ee,"_setEnabled"),N={cancel:oe,refresh:fe},N[VE]=function(){return D&&D[VE]?D[VE]():_},N[HE]=function(){return _=!0,D&&D[HE]&&D[HE](),N},N[X6]=U,N=Ce(N,RV,{get:o(function(){return!!D},"get"),set:Ee}),{h:N,dn:o(function(){D=i},"dn")}}o(jE,"_createTimerHandler");function $E(g,y,T){var _=Ue(y),D=_?y.length:0,N=(D>0?y[0]:_?n:y)||setTimeout,U=(D>1?y[1]:n)||clearTimeout,oe=T[0];T[0]=function(){fe.dn(),TA(oe,n,pe[x](arguments))};var fe=jE(g,function(Ee){if(Ee){if(Ee.refresh)return Ee.refresh(),Ee;TA(U,n,[Ee])}return TA(N,n,T)},function(Ee){TA(U,n,[Ee])});return fe.h}o($E,"_createTimeoutWith");function bh(g,y){return $E(!0,n,pe[x](arguments))}o(bh,"scheduleTimeout");function zE(g,y){return $E(!1,n,pe[x](arguments))}o(zE,"createTimeout");var Cg,uc="constructor",fc="prototype",Eg="function",kA="_dynInstFuncs",vh="_isDynProxy",BA="_dynClass",Z6="_dynCls$",xg="_dynInstChk",RA=xg,e9="_dfOpts",YE="_unknown_",DA="__proto__",mC="_dyn"+DA,KE="__dynProto$Gbl",PA="_dynInstProto",FA="useBaseInst",hC="setInstFuncs",bg=Object,NA=bg.getPrototypeOf,t9=bg.getOwnPropertyNames,JE=df(),LA=JE[KE]||(JE[KE]={o:(Cg={},Cg[hC]=!0,Cg[FA]=!0,Cg),n:1e3});function QA(g){return g&&(g===bg[fc]||g===Array[fc])}o(QA,"_isObjectOrArrayPrototype");function Vd(g){return QA(g)||g===Function[fc]}o(Vd,"_isObjectArrayOrFunctionPrototype");function mf(g){var y;if(g){if(NA)return NA(g);var T=g[DA]||g[fc]||(g[uc]?g[uc][fc]:null);y=g[mC]||T,Ae(g,mC)||(delete g[PA],y=g[mC]=g[PA]||g[mC],g[PA]=T)}return y}o(mf,"_getObjProto");function MA(g,y){var T=[];if(t9)T=t9(g);else for(var _ in g)typeof _=="string"&&Ae(g,_)&&T.push(_);if(T&&T.length>0)for(var D=0;D<T.length;D++)y(T[D])}o(MA,"_forEachProp");function OA(g,y,T){return y!==uc&&typeof g[y]===Eg&&(T||Ae(g,y))&&y!==DA&&y!==fc}o(OA,"_isDynamicCandidate");function XE(g){$t("DynamicProto: "+g)}o(XE,"_throwTypeError");function r9(g){var y=yh(null);return MA(g,function(T){!y[T]&&OA(g,T,!1)&&(y[T]=g[T])}),y}o(r9,"_getInstanceFuncs");function n9(g,y){for(var T=g.length-1;T>=0;T--)if(g[T]===y)return!0;return!1}o(n9,"_hasVisited");function DV(g,y,T,_){function D(fe,Ee,_e){var qe=Ee[_e];if(qe[vh]&&_){var Xe=fe[kA]||{};Xe[RA]!==!1&&(qe=(Xe[Ee[BA]]||{})[_e]||qe)}return function(){return qe.apply(fe,arguments)}}o(D,"_instFuncProxy");var N=yh(null);MA(T,function(fe){N[fe]=D(y,T,fe)});for(var U=mf(g),oe=[];U&&!Vd(U)&&!n9(oe,U);)MA(U,function(fe){!N[fe]&&OA(U,fe,!NA)&&(N[fe]=D(y,U,fe))}),oe.push(U),U=mf(U);return N}o(DV,"_getBaseFuncs");function PV(g,y,T,_){var D=null;if(g&&Ae(T,BA)){var N=g[kA]||yh(null);if(D=(N[T[BA]]||yh(null))[y],D||XE("Missing ["+y+"] "+Eg),!D[xg]&&N[RA]!==!1){for(var U=!Ae(g,y),oe=mf(g),fe=[];U&&oe&&!Vd(oe)&&!n9(fe,oe);){var Ee=oe[y];if(Ee){U=Ee===_;break}fe.push(oe),oe=mf(oe)}try{U&&(g[y]=D),D[xg]=1}catch{N[RA]=!1}}}return D}o(PV,"_getInstFunc");function FV(g,y,T){var _=y[g];return _===T&&(_=mf(y)[g]),typeof _!==Eg&&XE("["+g+"] is not a "+Eg),_}o(FV,"_getProtoFunc");function NV(g,y,T,_,D){function N(fe,Ee){var _e=o(function(){var qe=PV(this,Ee,fe,_e)||FV(Ee,fe,_e);return qe.apply(this,arguments)},"dynProtoProxy");return _e[vh]=1,_e}if(o(N,"_createDynamicPrototype"),!QA(g)){var U=T[kA]=T[kA]||yh(null);if(!QA(U)){var oe=U[y]=U[y]||yh(null);U[RA]!==!1&&(U[RA]=!!D),QA(oe)||MA(T,function(fe){OA(T,fe,!1)&&T[fe]!==_[fe]&&(oe[fe]=T[fe],delete T[fe],(!Ae(g,fe)||g[fe]&&!g[fe][vh])&&(g[fe]=N(g,fe)))})}}}o(NV,"_populatePrototype");function i9(g,y){if(NA){for(var T=[],_=mf(y);_&&!Vd(_)&&!n9(T,_);){if(_===g)return!0;T.push(_),_=mf(_)}return!1}return!0}o(i9,"_checkPrototype");function pC(g,y){return Ae(g,fc)?g.name||y||YE:((g||{})[uc]||{}).name||y||YE}o(pC,"_getObjName");function Bl(g,y,T,_){Ae(g,fc)||XE("theClass is an invalid class definition.");var D=g[fc];i9(D,y)||XE("["+pC(g)+"] not in hierarchy of ["+pC(y)+"]");var N=null;Ae(D,BA)?N=D[BA]:(N=Z6+pC(g,"_")+"$"+LA.n,LA.n++,D[BA]=N);var U=Bl[e9],oe=!!U[FA];oe&&_&&_[FA]!==void 0&&(oe=!!_[FA]);var fe=r9(y),Ee=DV(D,y,fe,oe);T(y,Ee);var _e=!!NA&&!!U[hC];_e&&_&&(_e=!!_[hC]),NV(D,N,y,fe,_e!==!1)}o(Bl,"dynamicProto"),Bl[e9]=LA.o;var Ss="function",Ek="object",xk="undefined",gC="prototype",o9=Object,s9=o9[gC];(df()||{}).Symbol,(df()||{}).Reflect;var ZE="hasOwnProperty",bk=o(function(g){for(var y,T=1,_=arguments.length;T<_;T++){y=arguments[T];for(var D in y)s9[ZE].call(y,D)&&(g[D]=y[D])}return g},"__objAssignFnImpl"),jd=Ke||bk,Ih=o(function(g,y){return Ih=o9.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,_){T.__proto__=_}||function(T,_){for(var D in _)_[ZE](D)&&(T[D]=_[D])},Ih(g,y)},"extendStaticsFn");function AC(g,y){typeof y!==Ss&&y!==null&&$t("Class extends value "+String(y)+" is not a constructor or null"),Ih(g,y);function T(){this.constructor=g}o(T,"__"),g[gC]=y===null?yh(y):(T[gC]=y[gC],new T)}o(AC,"__extendsFn");function vk(g,y){for(var T=0,_=y.length,D=g.length;T<_;T++,D++)g[D]=y[T];return g}o(vk,"__spreadArrayFn");var ex=Qt,LV=wt,Th=ex({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),UA="toLowerCase",Ln="length",qA="warnToConsole",vg="throwInternal",$d="watch",tx="apply",Fi="push",WA="splice",ea="logger",GA="cancel",yC="initialize",wh="identifier",CC="removeNotificationListener",rx="addNotificationListener",hf="isInitialized",HA="value",iu="getNotifyMgr",VA="getPlugin",Sh="name",rl="processNext",jA="getProcessTelContext",pf="enabled",Ik="stopPollingInternalLogs",Ig="unload",nx="onComplete",$A="version",Tk="loggingLevelConsole",Tg="createNew",gf="teardown",ix="messageId",wg="message",Af="diagLog",ox="_doTeardown",zd="update",yf="getNext",_h="setNextPlugin",sx="userAgent",kh="split",Bh="replace",Rl="type",a9="evtName",EC="status",l9="getAllResponseHeaders",c9="isChildEvt",zA="data",Rh="getCtx",ou="setCtx",wk="itemsReceived",Yd="urlString",u9="headers",Kd="timeout",Sk="traceFlags",YA;function f9(g,y){YA||(YA=Aa("AggregationError",function(_,D){D[Ln]>1&&(_.errors=D[1])}));var T=g||"One or more errors occurred.";throw Vr(y,function(_,D){T+=`
`.concat(D," > ").concat(At(_))}),new YA(T,y||[])}o(f9,"throwAggregationError");var Sg="Promise",_g="rejected";function dc(g,y){return _k(g,function(T){return y?y({status:"fulfilled",rejected:!1,value:T}):T},function(T){return y?y({status:_g,rejected:!0,reason:T}):T})}o(dc,"doAwaitResponse");function _k(g,y,T,_){var D=g;try{if(at(g))(y||T)&&(D=g.then(y,T));else try{y&&(D=y(g))}catch(N){if(T)D=T(N);else throw N}}finally{_&&QV(D,_)}return D}o(_k,"doAwait");function QV(g,y){var T=g;return y&&(at(g)?g.finally?T=g.finally(y):T=g.then(function(_){return y(),_},function(_){throw y(),_}):y()),T}o(QV,"doFinally");var kk=["pending","resolving","resolved",_g],Bk="dispatchEvent",xC;function Rk(g){var y;return g&&g.createEvent&&(y=g.createEvent("Event")),!!y&&y.initEvent}o(Rk,"_hasInitEventFn");function ax(g,y,T,_){var D=IA();!xC&&(xC=Do(!!Z(Rk,[D]).v));var N=xC.v?D.createEvent("Event"):_?new Event(y):{};if(T&&T(N),xC.v&&N.initEvent(y,!1,!0),N&&g[Bk])g[Bk](N);else{var U=g["on"+y];if(U)U(N);else{var oe=Os("console");oe&&(oe.error||oe.log)(y,At(N))}}}o(ax,"emitEvent");var Dk="unhandledRejection",MV=Dk.toLowerCase(),KA=10,lx;function Pk(g){return Re(g)?g.toString():At(g)}o(Pk,"dumpFnObj");function Fk(g,y,T){var _=SA(arguments,3),D=0,N=!1,U,oe=[],fe=!1,Ee=null,_e;function qe(fr,wr){try{fe=!0,Ee&&Ee.cancel(),Ee=null;var Pn=g(function(di,mi){oe.push(function(){try{var ro=D===2?fr:wr,sn=O(ro)?U:Re(ro)?ro(U):ro;at(sn)?sn.then(di,mi):ro?di(sn):D===3?mi(sn):di(sn)}catch(Wr){mi(Wr)}}),N&&ht()},_);return Pn}finally{}}o(qe,"_then");function Xe(fr){return qe(void 0,fr)}o(Xe,"_catch");function Ge(fr){var wr=fr,Pn=fr;return Re(fr)&&(wr=o(function(di){return fr&&fr(),di},"thenFinally"),Pn=o(function(di){throw fr&&fr(),di},"catchFinally")),qe(wr,Pn)}o(Ge,"_finally");function ze(){return kk[D]}o(ze,"_strState");function ht(){if(oe.length>0){var fr=oe.slice();oe=[],fe=!0,Ee&&Ee.cancel(),Ee=null,y(fr)}}o(ht,"_processQueue");function lt(fr,wr){return function(Pn){if(D===wr){if(fr===2&&at(Pn)){D=1,Pn.then(lt(2,1),lt(3,1));return}D=fr,N=!0,U=Pn,ht(),!fe&&fr===3&&!Ee&&(Ee=bh(It,KA))}}}o(lt,"_createSettleIfFn");function It(){if(!fe)if(fe=!0,bV())process.emit(Dk,U,_e);else{var fr=Gd()||df();!lx&&(lx=Do(Z(Os,[Sg+"RejectionEvent"]).v)),ax(fr,MV,function(wr){return Oe(wr,"promise",{g:o(function(){return _e},"g")}),wr.reason=U,wr},!!lx.v)}}o(It,"_notifyUnhandledRejection"),_e={then:qe,catch:Xe,finally:Ge},Ce(_e,"state",{get:ze}),t0()&&(_e[sC(11)]="IPromise");function Vt(){return"IPromise "+ze()+(N?" - "+Pk(U):"")}return o(Vt,"_toString"),_e.toString=Vt,o(function(){Re(T)||$t(Sg+": executor is not a function - "+Pk(T));var wr=lt(3,0);try{T.call(_e,lt(2,0),wr)}catch(Pn){wr(Pn)}},"_initialize")(),_e}o(Fk,"_createPromise");function OV(g){return function(y){var T=SA(arguments,1);return g(function(_,D){try{var N=[],U=1;V6(y,function(oe,fe){oe&&(U++,_k(oe,function(Ee){N[fe]=Ee,--U===0&&_(N)},D))}),U--,U===0&&_(N)}catch(oe){D(oe)}},T)}}o(OV,"_createAllPromise");function UV(g){return Do(function(y){var T=SA(arguments,1);return g(function(_,D){var N=[],U=1;function oe(fe,Ee){U++,dc(fe,function(_e){_e.rejected?N[Ee]={status:_g,reason:_e.reason}:N[Ee]={status:"fulfilled",value:_e.value},--U===0&&_(N)})}o(oe,"processItem");try{Ue(y)?Vr(y,oe):qE(y)?V6(y,oe):$t("Input is not an iterable"),U--,U===0&&_(N)}catch(fe){D(fe)}},T)})}o(UV,"_createAllSettledPromise");function Nk(g){Vr(g,function(y){try{y()}catch{}})}o(Nk,"syncItemProcessor");function Lk(g){var y=Je(g)?g:0;return function(T){bh(function(){Nk(T)},y)}}o(Lk,"timeoutItemProcessor");function cx(g,y){return Fk(cx,Lk(y),g,y)}o(cx,"createAsyncPromise");var ux;function qV(g,y){!ux&&(ux=Do(Z(Os,[Sg]).v||null));var T=ux.v;if(!T)return cx(g);Re(g)||$t(Sg+": executor is not a function - "+At(g));var _=0;function D(){return kk[_]}o(D,"_strState");var N=new T(function(U,oe){function fe(_e){_=2,U(_e)}o(fe,"_resolve");function Ee(_e){_=3,oe(_e)}o(Ee,"_reject"),g(fe,Ee)});return Ce(N,"state",{get:D}),N}o(qV,"createNativePromise");var fx;function dx(g){return Fk(dx,Nk,g)}o(dx,"createSyncPromise");function R0(g,y){return!fx&&(fx=UV(dx)),fx.v(g,y)}o(R0,"createSyncAllSettledPromise");var mx;function JA(g,y){return!mx&&(mx=Do(qV)),mx.v.call(this,g,y)}o(JA,"createPromise");var d9=OV(JA),mc=void 0,oi="",Jd="channels",ta="core",su="createPerfMgr",hx="disabled",kg="extensionConfig",XA="extensions",hc="processTelemetry",ZA="priority",e2="eventsSent",t2="eventsDiscarded",px="eventsSendRequest",Bg="perfEvent",m9="offlineEventsStored",h9="offlineBatchSent",gx="offlineBatchDrop",bC="getPerfMgr",Ax="domain",yx="path",Qk="Not dynamic - ",p9=/-([a-z])/g,WV=/([^\w\d_$])/g,GV=/^(\d+[\w\d_$])/;function Cx(g){return!J(g)}o(Cx,"isNotNullOrUndefined");function r2(g){var y=g;return y&&ce(y)&&(y=y[Bh](p9,function(T,_){return _.toUpperCase()}),y=y[Bh](WV,"_"),y=y[Bh](GV,function(T,_){return"_"+_})),y}o(r2,"normalizeJsName");function nl(g,y){return g&&y?Hd(g,y)!==-1:!1}o(nl,"strContains");function vC(g){return g&&g.toISOString()||""}o(vC,"toISOString");function Ha(g){return ot(g)?g[Sh]:oi}o(Ha,"getExceptionName");function Dh(g,y,T,_,D){var N=T;return g&&(N=g[y],N!==T&&(!D||D(N))&&(!_||_(T))&&(N=T,g[y]=N)),N}o(Dh,"setValue");function Mk(g,y,T){var _;return g?(_=g[y],!_&&J(_)&&(_=O(T)?{}:T,g[y]=_)):_=O(T)?{}:T,_}o(Mk,"getSetValue");function HV(g,y){var T=null,_=null;return Re(g)?T=g:_=g,function(){var D=arguments;if(T&&(_=T()),_)return _[y][tx](_,D)}}o(HV,"_createProxyFunction");function IC(g,y,T,_,D){g&&y&&T&&(D!==!1||O(g[y]))&&(g[y]=HV(T,_))}o(IC,"proxyFunctionAs");function g9(g,y,T,_){return g&&y&&ve(g)&&Ue(T)&&Vr(T,function(D){ce(D)&&IC(g,D,y,D,_)}),g}o(g9,"proxyFunctions");function VV(g){return function(){function y(){var T=this;g&&te(g,function(_,D){T[_]=D})}return o(y,"class_1"),y}()}o(VV,"createClassFromInterface");function A9(g){return g&&Ke&&(g=o9(Ke({},g))),g}o(A9,"optimizeObject");function Ok(g,y,T,_,D,N){var U=arguments,oe=U[0]||{},fe=U[Ln],Ee=!1,_e=1;for(fe>0&&ft(oe)&&(Ee=oe,oe=U[_e]||{},_e++),ve(oe)||(oe={});_e<fe;_e++){var qe=U[_e],Xe=Ue(qe),Ge=ve(qe);for(var ze in qe){var ht=Xe&&ze in qe||Ge&&We(qe,ze);if(ht){var lt=qe[ze],It=void 0;if(Ee&&lt&&((It=Ue(lt))||B0(lt))){var Vt=oe[ze];It?Ue(Vt)||(Vt=[]):B0(Vt)||(Vt={}),lt=Ok(Ee,Vt,lt)}lt!==void 0&&(oe[ze]=lt)}}}return oe}o(Ok,"objExtend");function Ex(g){try{return g.responseText}catch{}return null}o(Ex,"getResponseText");function Uk(g,y){return g?"XDomainRequest,Response:"+Ex(g)||"":y}o(Uk,"formatErrorMessageXdr");function xx(g,y){return g?"XMLHttpRequest,Status:"+g[EC]+",Response:"+Ex(g)||g.response||"":y}o(xx,"formatErrorMessageXhr");function qk(g,y){return y&&(Je(y)?g=[y].concat(g):Ue(y)&&(g=y.concat(g))),g}o(qk,"prependTransports");var y9="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",TC="withCredentials",Cf="timeout";function C9(g,y,T,_,D,N){_===void 0&&(_=!1),D===void 0&&(D=!1);function U(fe,Ee,_e){try{fe[Ee]=_e}catch{}}o(U,"_wrapSetXhrProp");var oe=new XMLHttpRequest;return _&&U(oe,y9,_),T&&U(oe,TC,T),oe.open(g,y,!D),T&&U(oe,TC,T),!D&&N&&U(oe,Cf,N),oe}o(C9,"openXhr");function Wk(g){var y={};if(ce(g)){var T=Pi(g)[kh](/[\r\n]+/);Vr(T,function(_){if(_){var D=_.indexOf(": ");if(D!==-1){var N=Pi(_.substring(0,D))[UA](),U=Pi(_.substring(D+1));y[N]=U}else y[Pi(_)]=1}})}return y}o(Wk,"convertAllHeadersToMap");function Ph(g,y,T){if(!g[T]&&y&&y.getResponseHeader){var _=y.getResponseHeader(T);_&&(g[T]=Pi(_))}return g}o(Ph,"_appendHeader");var pn="kill-duration",n2="kill-duration-seconds",Rg="time-delta-millis";function Dg(g,y){var T={};return g[l9]?T=Wk(g[l9]()):y&&(T=Ph(T,g,Rg),T=Ph(T,g,pn),T=Ph(T,g,n2)),T}o(Dg,"_getAllResponseHeaders");var E9="documentMode",wC="location",i2="console",bx="JSON",x9="crypto",vx="msCrypto",o2="msie",Pg="trident/",b9="XMLHttpRequest",pc=null,s2=null,Ef=!1,r0=null,a2=null;function SC(g,y){var T=!1;if(g){try{if(T=y in g,!T){var _=g[gC];_&&(T=y in _)}}catch{}if(!T)try{var D=new g;T=!O(D[y])}catch{}}return T}o(SC,"_hasProperty");function l2(g){if(g&&Ef){var y=Os("__mockLocation");if(y)return y}return typeof location===Ek&&location?location:Os(wC)}o(l2,"getLocation");function _C(){return typeof console!==xk?console:Os(i2)}o(_C,"getConsole");function c2(){return!!(typeof JSON===Ek&&JSON||Os(bx)!==null)}o(c2,"hasJSON");function D0(){return c2()?JSON||Os(bx):null}o(D0,"getJSON");function Ix(){return Os(x9)}o(Ix,"getCrypto");function Tx(){return Os(vx)}o(Tx,"getMsCrypto");function au(){var g=ph();if(g&&(g[sx]!==s2||pc===null)){s2=g[sx];var y=(s2||oi)[UA]();pc=nl(y,o2)||nl(y,Pg)}return pc}o(au,"isIE");function u2(g){if(g===void 0&&(g=null),!g){var y=ph()||{};g=y?(y.userAgent||oi)[UA]():oi}var T=(g||oi)[UA]();if(nl(T,o2)){var _=IA()||{};return be(parseInt(T[kh](o2)[1]),_[E9]||0)}else if(nl(T,Pg)){var D=parseInt(T[kh](Pg)[1]);if(D)return D+4}return null}o(u2,"getIEVersion");function Fh(g){return(a2===null||g===!1)&&(a2=xV()&&!!ph().sendBeacon),a2}o(Fh,"isBeaconsSupported");function kC(g){var y=!1;try{y=!!Os("fetch");var T=Os("Request");y&&g&&T&&(y=SC(T,"keepalive"))}catch{}return y}o(kC,"isFetchSupported");function v9(){return r0===null&&(r0=typeof XDomainRequest!==xk,r0&&I9()&&(r0=r0&&!SC(Os(b9),"withCredentials"))),r0}o(v9,"useXDomainRequest");function I9(){var g=!1;try{var y=Os(b9);g=!!y}catch{}return g}o(I9,"isXhrSupported");var Va=4294967296,xf=4294967295,wx=123456789,T9=987654321,Xd=!1,gc=wx,f2=T9;function w9(g){g<0&&(g>>>=0),gc=wx+g&xf,f2=T9-g&xf,Xd=!0}o(w9,"_mwcSeed");function Gk(){try{var g=Ch()&2147483647;w9((Math.random()*Va^g)+g)}catch{}}o(Gk,"_autoSeedMwc");function S9(g){var y=0,T=Ix()||Tx();return T&&T.getRandomValues&&(y=T.getRandomValues(new Uint32Array(1))[0]&xf),y===0&&au()&&(Xd||Gk(),y=Hk()&xf),y===0&&(y=Ag(Va*Math.random()|0)),g||(y>>>=0),y}o(S9,"random32");function Hk(g){f2=36969*(f2&65535)+(f2>>16)&xf,gc=18e3*(gc&65535)+(gc>>16)&xf;var y=(f2<<16)+(gc&65535)>>>0&xf|0;return g||(y>>>=0),y}o(Hk,"mwcRandom32");function jV(g){g===void 0&&(g=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=S9()>>>0,_=0,D=oi;D[Ln]<g;)_++,D+=y.charAt(T&63),T>>>=6,_===5&&(T=(S9()<<2&4294967295|T&3)>>>0,_=0);return D}o(jV,"newId");var d2="3.3.6",$V="."+jV(6),zV=0;function Vk(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType}o(Vk,"_canAcceptData");function jk(g,y){var T=y[g.id];if(!T){T={};try{Vk(y)&&Oe(y,g.id,{e:!1,v:T})}catch{}}return T}o(jk,"_getCache");function Zd(g,y){return y===void 0&&(y=!1),r2(g+zV+++(y?"."+d2:oi)+$V)}o(Zd,"createUniqueNamespace");function $k(g){var y={id:Zd("_aiData-"+(g||oi)+"."+d2),accept:o(function(T){return Vk(T)},"accept"),get:o(function(T,_,D,N){var U=T[y.id];return U?U[r2(_)]:(N&&(U=jk(y,T),U[r2(_)]=D),D)},"get"),kill:o(function(T,_){if(T&&T[_])try{delete T[_]}catch{}},"kill")};return y}o($k,"createElmNodeData");function m2(g){return g&&ve(g)&&(g.isVal||g.fb||We(g,"v")||We(g,"mrg")||We(g,"ref")||g.set)}o(m2,"_isConfigDefaults");function zk(g,y,T){var _,D=T.dfVal||ee;if(y&&T.fb){var N=T.fb;Ue(N)||(N=[N]);for(var U=0;U<N[Ln];U++){var oe=N[U],fe=y[oe];if(D(fe)?_=fe:g&&(fe=g.cfg[oe],D(fe)&&(_=fe),g.set(g.cfg,yt(oe),fe)),D(_))break}}return!D(_)&&D(T.v)&&(_=T.v),_}o(zk,"_getDefault");function _9(g,y,T){var _=T;if(T&&m2(T)&&(_=zk(g,y,T)),_){m2(_)&&(_=_9(g,y,_));var D;Ue(_)?(D=[],D[Ln]=_[Ln]):B0(_)&&(D={}),D&&(te(_,function(N,U){U&&m2(U)&&(U=_9(g,y,U)),D[N]=U}),_=D)}return _}o(_9,"_resolveDefaultValue");function k9(g,y,T,_){var D,N,U,oe=_,fe,Ee,_e,qe;m2(oe)?(D=oe.isVal,N=oe.set,_e=oe.rdOnly,qe=oe.blkVal,fe=oe.mrg,Ee=oe.ref,!Ee&&O(Ee)&&(Ee=!!fe),U=zk(g,y,oe)):U=_,qe&&g.blkVal(y,T);var Xe,Ge=!0,ze=y[T];(ze||!J(ze))&&(Xe=ze,Ge=!1,D&&Xe!==U&&!D(Xe)&&(Xe=U,Ge=!0),N&&(Xe=N(Xe,U,y),Ge=Xe===U)),Ge?U?Xe=_9(g,y,U):Xe=U:(B0(Xe)||Ue(U))&&fe&&U&&(B0(U)||Ue(U))&&te(U,function(ht,lt){k9(g,Xe,ht,lt)}),g.set(y,T,Xe),Ee&&g.ref(y,T),_e&&g.rdOnly(y,T)}o(k9,"_applyDefaultValue");var Nh=aC("[[ai_dynCfg_1]]"),Yk=aC("[[ai_blkDynCfg_1]]"),Kk=aC("[[ai_frcDynCfg_1]]");function Jk(g){if(g){var y;if(Ue(g)?(y=[],y[Ln]=g[Ln]):B0(g)&&(y={}),y)return te(g,function(T,_){y[T]=Jk(_)}),y}return g}o(Jk,"_cfgDeepCopy");function YV(g){if(g){var y=g[Nh]||g;if(y.cfg&&(y.cfg===g||y.cfg[Nh]===y))return y}return null}o(YV,"getDynamicConfigHandler");function KV(g){if(g&&(B0(g)||Ue(g)))try{g[Yk]=!0}catch{}return g}o(KV,"blockDynamicConversion");function B9(g,y,T){var _=!1;return T&&!g[y.blkVal]&&(_=T[Kk],!_&&!T[Yk]&&(_=B0(T)||Ue(T))),_}o(B9,"_canMakeDynamic");function h2(g){$t("InvalidAccess:"+g)}o(h2,"throwInvalidAccess");var JV=["push","pop","shift","unshift","splice"],BC=o(function(g,y,T,_){g&&g[vg](3,108,"".concat(T," [").concat(y,"] failed - ")+At(_))},"_throwDynamicError");function Lh(g,y,T){Ue(y)&&Vr(JV,function(_){var D=y[_];y[_]=function(){for(var N=[],U=0;U<arguments.length;U++)N[U]=arguments[U];var oe=D[tx](this,N);return A2(g,y,T,"Patching"),oe}})}o(Lh,"_patchArray");function lu(g,y){var T=Pe(g,y);return T&&T.get}o(lu,"_getOwnPropGetter");function Xk(g,y,T,_){var D={n:T,h:[],trk:o(function(Ee){Ee&&Ee.fn&&(k0(D.h,Ee)===-1&&D.h[Fi](Ee),g.trk(Ee,D))},"trk"),clr:o(function(Ee){var _e=k0(D.h,Ee);_e!==-1&&D.h[WA](_e,1)},"clr")},N=!0,U=!1;function oe(){N&&(U=U||B9(oe,g,_),_&&!_[Nh]&&U&&(_=A2(g,_,T,"Converting")),N=!1);var Ee=g.act;return Ee&&D.trk(Ee),_}o(oe,"_getProperty"),oe[g.prop]={chng:o(function(){g.add(D)},"chng")};function fe(Ee){if(_!==Ee){oe[g.ro]&&!g.upd&&h2("["+T+"] is read-only:"+At(y)),N&&(U=U||B9(oe,g,_),N=!1);var _e=U&&oe[g.rf];if(U)if(_e){te(_,function(Xe){_[Xe]=Ee?Ee[Xe]:mc});try{te(Ee,function(Xe,Ge){p2(g,_,Xe,Ge)}),Ee=_}catch(Xe){BC((g.hdlr||{})[ea],T,"Assigning",Xe),U=!1}}else _&&_[Nh]&&te(_,function(Xe){var Ge=lu(_,Xe);if(Ge){var ze=Ge[g.prop];ze&&ze.chng()}});if(Ee!==_){var qe=Ee&&B9(oe,g,Ee);!_e&&qe&&(Ee=A2(g,Ee,T,"Converting")),_=Ee,U=qe}g.add(D)}}o(fe,"_setProperty"),Oe(y,D.n,{g:oe,s:fe})}o(Xk,"_createDynamicProperty");function p2(g,y,T,_){if(y){var D=lu(y,T),N=D&&!!D[g.prop];N?y[T]=_:Xk(g,y,T,_)}return y}o(p2,"_setDynamicProperty");function g2(g,y,T,_){if(y){var D=lu(y,T),N=D&&!!D[g.prop],U=_&&_[0],oe=_&&_[1],fe=_&&_[2];if(!N){if(fe)try{KV(y)}catch(Ee){BC((g.hdlr||{})[ea],T,"Blocking",Ee)}try{p2(g,y,T,y[T]),D=lu(y,T)}catch(Ee){BC((g.hdlr||{})[ea],T,"State",Ee)}}U&&(D[g.rf]=U),oe&&(D[g.ro]=oe),fe&&(D[g.blkVal]=!0)}return y}o(g2,"_setDynamicPropertyState");function A2(g,y,T,_){try{te(y,function(D,N){p2(g,y,D,N)}),y[Nh]||(Ce(y,Nh,{get:o(function(){return g.hdlr},"get")}),Lh(g,y,T))}catch(D){BC((g.hdlr||{})[ea],T,_,D)}return y}o(A2,"_makeDynamicObject");var RC="[[ai_",DC="]]";function XV(g){var y=pg(RC+"get"+g.uid+DC),T=pg(RC+"ro"+g.uid+DC),_=pg(RC+"rf"+g.uid+DC),D=pg(RC+"blkVal"+g.uid+DC),N=pg(RC+"dtl"+g.uid+DC),U=null,oe=null,fe;function Ee(Ge,ze){var ht=fe.act;try{fe.act=Ge,Ge&&Ge[N]&&(Vr(Ge[N],function(It){It.clr(Ge)}),Ge[N]=[]),ze({cfg:g.cfg,set:g.set.bind(g),setDf:g.setDf.bind(g),ref:g.ref.bind(g),rdOnly:g.rdOnly.bind(g)})}catch(It){var lt=g[ea];throw lt&&lt[vg](1,107,At(It)),It}finally{fe.act=ht||null}}o(Ee,"_useHandler");function _e(){if(U){var Ge=U;U=null,oe&&oe[GA](),oe=null;var ze=[];if(Vr(Ge,function(ht){if(ht&&(ht[N]&&(Vr(ht[N],function(lt){lt.clr(ht)}),ht[N]=null),ht.fn))try{Ee(ht,ht.fn)}catch(lt){ze[Fi](lt)}}),U)try{_e()}catch(ht){ze[Fi](ht)}ze[Ln]>0&&f9("Watcher error(s): ",ze)}}o(_e,"_notifyWatchers");function qe(Ge){if(Ge&&Ge.h[Ln]>0){U||(U=[]),oe||(oe=bh(function(){oe=null,_e()},0));for(var ze=0;ze<Ge.h[Ln];ze++){var ht=Ge.h[ze];ht&&k0(U,ht)===-1&&U[Fi](ht)}}}o(qe,"_addWatcher");function Xe(Ge,ze){if(Ge){var ht=Ge[N]=Ge[N]||[];k0(ht,ze)===-1&&ht[Fi](ze)}}return o(Xe,"_trackHandler"),fe={prop:y,ro:T,rf:_,blkVal:D,hdlr:g,add:qe,notify:_e,use:Ee,trk:Xe},fe}o(XV,"_createState");function Sx(g,y){var T={fn:y,rm:o(function(){T.fn=null,g=null,y=null},"rm")};return Oe(T,"toJSON",{v:o(function(){return"WatcherHandler"+(T.fn?"":"[X]")},"v")}),g.use(T,y),T}o(Sx,"_createAndUseHandler");function Zk(g,y,T){var _=YV(y);if(_)return _;var D=Zd("dyncfg",!0),N=y&&T!==!1?y:Jk(y),U;function oe(){U.notify()}o(oe,"_notifyWatchers");function fe(lt,It,Vt){try{lt=p2(U,lt,It,Vt)}catch(fr){BC(g,It,"Setting value",fr)}return lt[It]}o(fe,"_setValue");function Ee(lt){return Sx(U,lt)}o(Ee,"_watch");function _e(lt,It){U.use(null,function(Vt){var fr=U.upd;try{O(It)||(U.upd=It),lt(Vt)}finally{U.upd=fr}})}o(_e,"_block");function qe(lt,It){var Vt;return g2(U,lt,It,(Vt={},Vt[0]=!0,Vt))[It]}o(qe,"_ref");function Xe(lt,It){var Vt;return g2(U,lt,It,(Vt={},Vt[1]=!0,Vt))[It]}o(Xe,"_rdOnly");function Ge(lt,It){var Vt;return g2(U,lt,It,(Vt={},Vt[2]=!0,Vt))[It]}o(Ge,"_blkPropValue");function ze(lt,It){return It&&te(It,function(Vt,fr){k9(ht,lt,Vt,fr)}),lt}o(ze,"_applyDefaults");var ht={uid:null,cfg:N,logger:g,notify:oe,set:fe,setDf:ze,watch:Ee,ref:qe,rdOnly:Xe,blkVal:Ge,_block:_e};return Oe(ht,"uid",{c:!1,e:!1,w:!1,v:D}),U=XV(ht),A2(U,N,"config","Creating"),ht}o(Zk,"_createDynamicHandler");function eB(g,y){g?(g[qA](y),g[vg](2,108,y)):h2(y)}o(eB,"_logInvalidAccess");function Ac(g,y,T,_){var D=Zk(T,g||{},_);return y&&D.setDf(D.cfg,y),D}o(Ac,"createDynamicConfig");function em(g,y,T){var _=g[Nh]||g;return _.cfg&&(_.cfg===g||_.cfg[Nh]===_)?_[$d](y):(eB(T,Qk+At(g)),Ac(g,null,T)[$d](y))}o(em,"onConfigChange");function y2(g,y){if(g&&g[Ig])return g[Ig](y)}o(y2,"runTargetUnload");function tB(g,y,T){var _;return T||(_=JA(function(D){T=D})),g&&_V(g)>0?dc(y2(g[0],y),function(){tB(SA(g,1),y,T)}):T(),_}o(tB,"doUnloadAll");var ZV=500,rB="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function ej(g,y,T){return!g&&J(g)?y:ft(g)?g:yt(g)[UA]()==="true"}o(ej,"_stringToBoolOrDefault");function tj(g){return{mrg:!0,v:g}}o(tj,"cfgDfMerge");function R9(g,y,T){return{fb:T,isVal:g,v:y}}o(R9,"cfgDfValidate");function bf(g,y){return{fb:y,set:ej,v:!!g}}o(bf,"cfgDfBoolean");var _x=[e2,t2,px,Bg],kx=null,Bx;function rj(g,y){return function(){var T=arguments,_=nB(y);if(_){var D=_.listener;D&&D[g]&&D[g][tx](D,T)}}}o(rj,"_listenerProxyFunc");function nj(){var g=Os("Microsoft");return g&&(kx=g.ApplicationInsights),kx}o(nj,"_getExtensionNamespace");function nB(g){var y=kx;return!y&&g.disableDbgExt!==!0&&(y=kx||nj()),y?y.ChromeDbgExt:null}o(nB,"getDebugExt");function ij(g){if(!Bx){Bx={};for(var y=0;y<_x[Ln];y++)Bx[_x[y]]=rj(_x[y],g)}return Bx}o(ij,"getDebugListener");var C2,iB="warnToConsole",oj="AI (Internal): ",sj="AI: ",aj="AITR_",oB={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},E2=(C2={},C2[0]=null,C2[1]="errorToConsole",C2[2]=iB,C2[3]="debugToConsole",C2);function P0(g){return g?'"'+g[Bh](/\"/g,oi)+'"':oi}o(P0,"_sanitizeDiagnosticText");function PC(g,y){var T=_C();if(T){var _="log";T[g]&&(_=g),Re(T[_])&&T[_](y)}}o(PC,"_logToConsole");var Rx=function(){function g(y,T,_,D){_===void 0&&(_=!1);var N=this;N[ix]=y,N[wg]=(_?sj:oj)+y;var U=oi;c2()&&(U=D0().stringify(D));var oe=(T?" message:"+P0(T):oi)+(D?" props:"+P0(U):oi);N[wg]+=oe}return o(g,"_InternalLogMessage"),g.dataType="MessageData",g}();function FC(g,y){return(g||{})[ea]||new NC(y)}o(FC,"safeGetLogger");var NC=function(){function g(y){this.identifier="DiagnosticLogger",this.queue=[];var T=0,_={},D,N,U,oe,fe;Bl(g,this,function(Ee){fe=qe(y||{}),Ee.consoleLoggingLevel=function(){return D},Ee[vg]=function(ze,ht,lt,It,Vt){Vt===void 0&&(Vt=!1);var fr=new Rx(ht,lt,Vt,It);if(oe)throw At(fr);var wr=E2[ze]||iB;if(O(fr[wg]))Ge("throw"+(ze===1?"Critical":"Warning"),fr);else{if(Vt){var Pn=+fr[ix];!_[Pn]&&D>=ze&&(Ee[wr](fr[wg]),_[Pn]=!0)}else D>=ze&&Ee[wr](fr[wg]);_e(ze,fr)}},Ee.debugToConsole=function(ze){PC("debug",ze),Ge("warning",ze)},Ee[qA]=function(ze){PC("warn",ze),Ge("warning",ze)},Ee.errorToConsole=function(ze){PC("error",ze),Ge("error",ze)},Ee.resetInternalMessageCount=function(){T=0,_={}},Ee.logInternalMessage=_e,Ee[Ig]=function(ze){fe&&fe.rm(),fe=null};function _e(ze,ht){if(!Xe()){var lt=!0,It=aj+ht[ix];if(_[It]?lt=!1:_[It]=!0,lt&&(ze<=N&&(Ee.queue[Fi](ht),T++,Ge(ze===1?"error":"warn",ht)),T===U)){var Vt="Internal events throttle limit per PageView reached for this app.",fr=new Rx(23,Vt,!1);Ee.queue[Fi](fr),ze===1?Ee.errorToConsole(Vt):Ee[qA](Vt)}}}o(_e,"_logInternalMessage");function qe(ze){return em(Ac(ze,oB,Ee).cfg,function(ht){var lt=ht.cfg;D=lt[Tk],N=lt.loggingLevelTelemetry,U=lt.maxMessageLimit,oe=lt.enableDebug})}o(qe,"_setDefaultsFromConfig");function Xe(){return T>=U}o(Xe,"_areInternalMessagesThrottled");function Ge(ze,ht){var lt=nB(y||{});lt&&lt[Af]&&lt[Af](ze,ht)}o(Ge,"_debugExtMsg")})}return o(g,"DiagnosticLogger"),g.__ieDyn=1,g}();function D9(g){return g||new NC}o(D9,"_getLogger");function Dr(g,y,T,_,D,N){N===void 0&&(N=!1),D9(g)[vg](y,T,_,D,N)}o(Dr,"_throwInternal");function Dx(g,y){D9(g)[qA](y)}o(Dx,"_warnToConsole");var LC,Qh,sB="toGMTString",aB="toUTCString",Px="cookie",tm="expires",lB="isCookieUseDisabled",Fx="disableCookiesUsage",cB="_ckMgr",Nx=null,x2=null,Lx=null,vf,uB={},fB={},dB=(LC={cookieCfg:tj((Qh={},Qh[Ax]={fb:"cookieDomain",dfVal:Cx},Qh.path={fb:"cookiePath",dfVal:Cx},Qh.enabled=mc,Qh.ignoreCookies=mc,Qh.blockedCookies=mc,Qh)),cookieDomain:mc,cookiePath:mc},LC[Fx]=mc,LC);function P9(){!vf&&(vf=ar(function(){return IA()}))}o(P9,"_getDoc");function QC(g){return g?g.isEnabled():!0}o(QC,"_isMgrEnabled");function F9(g,y){return y&&g&&Ue(g.ignoreCookies)?k0(g.ignoreCookies,y)!==-1:!1}o(F9,"_isIgnoredCookie");function lj(g,y){return y&&g&&Ue(g.blockedCookies)&&k0(g.blockedCookies,y)!==-1?!0:F9(g,y)}o(lj,"_isBlockedCookie");function N9(g,y){var T=y[pf];if(J(T)){var _=void 0;O(g[lB])||(_=!g[lB]),O(g[Fx])||(_=!g[Fx]),T=_}return T}o(N9,"_isCfgEnabled");function cj(g,y){var T,_,D,N,U,oe,fe,Ee;g=Ac(g||fB,null,y).cfg,N=em(g,function(qe){qe.setDf(qe.cfg,dB),T=qe.ref(qe.cfg,"cookieCfg"),_=T[yx]||"/",D=T[Ax],U=N9(g,T)!==!1,oe=T.getCookie||uj,fe=T.setCookie||b2,Ee=T.delCookie||b2},y);var _e={isEnabled:o(function(){var qe=N9(g,T)!==!1&&U&&mB(y),Xe=fB[cB];return qe&&Xe&&_e!==Xe&&(qe=QC(Xe)),qe},"isEnabled"),setEnabled:o(function(qe){U=qe!==!1,T[pf]=qe},"setEnabled"),set:o(function(qe,Xe,Ge,ze,ht){var lt=!1;if(QC(_e)&&!lj(T,qe)){var It={},Vt=Pi(Xe||oi),fr=Hd(Vt,";");if(fr!==-1&&(Vt=Pi(L(Xe,fr)),It=L9(de(Xe,fr+1))),Dh(It,Ax,ze||D,ie,O),!J(Ge)){var wr=au();if(O(It[tm])){var Pn=Ch(),di=Pn+Ge*1e3;if(di>0){var mi=new Date;mi.setTime(di),Dh(It,tm,hB(mi,wr?sB:aB)||hB(mi,wr?sB:aB)||oi,ie)}}wr||Dh(It,"max-age",oi+Ge,null,O)}var ro=l2();ro&&ro.protocol==="https:"&&(Dh(It,"secure",null,null,O),x2===null&&(x2=!fj((ph()||{})[sx])),x2&&Dh(It,"SameSite","None",null,O)),Dh(It,yx,ht||_,null,O),fe(qe,pB(Vt,It)),lt=!0}return lt},"set"),get:o(function(qe){var Xe=oi;return QC(_e)&&!F9(T,qe)&&(Xe=oe(qe)),Xe},"get"),del:o(function(qe,Xe){var Ge=!1;return QC(_e)&&(Ge=_e.purge(qe,Xe)),Ge},"del"),purge:o(function(qe,Xe){var Ge,ze=!1;if(mB(y)){var ht=(Ge={},Ge[yx]=Xe||"/",Ge[tm]="Thu, 01 Jan 1970 00:00:01 GMT",Ge);au()||(ht["max-age"]="0"),Ee(qe,pB(oi,ht)),ze=!0}return ze},"purge"),unload:o(function(qe){N&&N.rm(),N=null},"unload")};return _e[cB]=_e,_e}o(cj,"createCookieMgr");function mB(g){if(Nx===null){Nx=!1,!vf&&P9();try{var y=vf.v||{};Nx=y[Px]!==void 0}catch(T){Dr(g,2,68,"Cannot access document.cookie - "+Ha(T),{exception:At(T)})}}return Nx}o(mB,"areCookiesSupported");function L9(g){var y={};if(g&&g[Ln]){var T=Pi(g)[kh](";");Vr(T,function(_){if(_=Pi(_||oi),_){var D=Hd(_,"=");D===-1?y[_]=null:y[Pi(L(_,D))]=Pi(de(_,D+1))}})}return y}o(L9,"_extractParts");function hB(g,y){return Re(g[y])?g[y]():null}o(hB,"_formatDate");function pB(g,y){var T=g||oi;return te(y,function(_,D){T+="; "+_+(J(D)?oi:"="+D)}),T}o(pB,"_formatCookieValue");function uj(g){var y=oi;if(!vf&&P9(),vf.v){var T=vf.v[Px]||oi;Lx!==T&&(uB=L9(T),Lx=T),y=Pi(uB[g]||oi)}return y}o(uj,"_getCookieValue");function b2(g,y){!vf&&P9(),vf.v&&(vf.v[Px]=g+"="+y)}o(b2,"_setCookieValue");function fj(g){return ce(g)?!!(nl(g,"CPU iPhone OS 12")||nl(g,"iPad; CPU OS 12")||nl(g,"Macintosh; Intel Mac OS X 10_14")&&nl(g,"Version/")&&nl(g,"Safari")||nl(g,"Macintosh; Intel Mac OS X 10_14")&&Ck(g,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||nl(g,"Chrome/5")||nl(g,"Chrome/6")||nl(g,"UnrealEngine")&&!nl(g,"Chrome")||nl(g,"UCBrowser/12")||nl(g,"UCBrowser/11")):!1}o(fj,"uaDisallowsSameSiteNone");var Q9={perfEvtsSendAll:!1};function dj(g){g.h=null;var y=g.cb;g.cb=[],Vr(y,function(T){Z(T.fn,[T.arg])})}o(dj,"_runScheduledListeners");function Mh(g,y,T,_){Vr(g,function(D){D&&D[y]&&(T?(T.cb[Fi]({fn:_,arg:D}),T.h=T.h||bh(dj,0,T)):Z(_,[D]))})}o(Mh,"_runListeners");var mj=function(){function g(y){this.listeners=[];var T,_,D=[],N={h:null,cb:[]},U=Ac(y,Q9);_=U[$d](function(oe){T=!!oe.cfg.perfEvtsSendAll}),Bl(g,this,function(oe){Oe(oe,"listeners",{g:o(function(){return D},"g")}),oe[rx]=function(fe){D[Fi](fe)},oe[CC]=function(fe){for(var Ee=k0(D,fe);Ee>-1;)D[WA](Ee,1),Ee=k0(D,fe)},oe[e2]=function(fe){Mh(D,e2,N,function(Ee){Ee[e2](fe)})},oe[t2]=function(fe,Ee){Mh(D,t2,N,function(_e){_e[t2](fe,Ee)})},oe[px]=function(fe,Ee){Mh(D,px,Ee?N:null,function(_e){_e[px](fe,Ee)})},oe[Bg]=function(fe){fe&&(T||!fe[c9]())&&Mh(D,Bg,null,function(Ee){fe.isAsync?bh(function(){return Ee[Bg](fe)},0):Ee[Bg](fe)})},oe[m9]=function(fe){fe&&fe[Ln]&&Mh(D,m9,N,function(Ee){Ee[m9](fe)})},oe[h9]=function(fe){fe&&fe[zA]&&Mh(D,h9,N,function(Ee){Ee[h9](fe)})},oe[gx]=function(fe,Ee){if(fe>0){var _e=Ee||0;Mh(D,gx,N,function(qe){qe[gx](fe,_e)})}},oe[Ig]=function(fe){var Ee=o(function(){_&&_.rm(),_=null,D=[],N.h&&N.h[GA](),N.h=null,N.cb=[]},"_finishUnload"),_e;if(Mh(D,"unload",null,function(qe){var Xe=qe[Ig](fe);Xe&&(_e||(_e=[]),_e[Fi](Xe))}),_e)return JA(function(qe){return dc(d9(_e),function(){Ee(),qe()})});Ee()}})}return o(g,"NotificationManager"),g.__ieDyn=1,g}(),v2="ctx",M9="ParentContextKey",MC="ChildrenContextKey",hj=null,Qx=function(){function g(y,T,_){var D=this;if(D.start=Ch(),D[Sh]=y,D.isAsync=_,D[c9]=function(){return!1},Re(T)){var N;Oe(D,"payload",{g:o(function(){return!N&&Re(T)&&(N=T(),T=null),N},"g")})}D[Rh]=function(U){return U?U===g[M9]||U===g[MC]?D[U]:(D[v2]||{})[U]:null},D[ou]=function(U,oe){if(U)if(U===g[M9])D[U]||(D[c9]=function(){return!0}),D[U]=oe;else if(U===g[MC])D[U]=oe;else{var fe=D[v2]=D[v2]||{};fe[U]=oe}},D.complete=function(){var U=0,oe=D[Rh](g[MC]);if(Ue(oe))for(var fe=0;fe<oe[Ln];fe++){var Ee=oe[fe];Ee&&(U+=Ee.time)}D.time=Ch()-D.start,D.exTime=D.time-U,D.complete=function(){}}}return o(g,"PerfEvent"),g.ParentContextKey="parent",g.ChildrenContextKey="childEvts",g}(),pj=function(){function g(y){this.ctx={},Bl(g,this,function(T){T.create=function(_,D,N){return new Qx(_,D,N)},T.fire=function(_){_&&(_.complete(),y&&Re(y[Bg])&&y[Bg](_))},T[ou]=function(_,D){if(_){var N=T[v2]=T[v2]||{};N[_]=D}},T[Rh]=function(_){return(T[v2]||{})[_]}})}return o(g,"PerfManager"),g.__ieDyn=1,g}(),If="CoreUtils.doPerf";function I2(g,y,T,_,D){if(g){var N=g;if(N[bC]&&(N=N[bC]()),N){var U=void 0,oe=N[Rh](If);try{if(U=N.create(y(),_,D),U){if(oe&&U[ou]&&(U[ou](Qx[M9],oe),oe[Rh]&&oe[ou])){var fe=oe[Rh](Qx[MC]);fe||(fe=[],oe[ou](Qx[MC],fe)),fe[Fi](U)}return N[ou](If,U),T(U)}}catch(Ee){U&&U[ou]&&U[ou]("exception",Ee)}finally{U&&N.fire(U),N[ou](If,oe)}}}return T()}o(I2,"doPerf");function ra(){return hj}o(ra,"getGblPerfMgr");var Mx="00000000000000000000000000000000",T2="0000000000000000";function Ox(g,y,T){return g&&g[Ln]===y&&g!==T?!!g.match(/^[\da-f]*$/i):!1}o(Ox,"_isValid");function Oh(g){return Ox(g,32,Mx)}o(Oh,"isValidTraceId");function Fg(g){return Ox(g,16,T2)}o(Fg,"isValidSpanId");var OC=$k("plugin");function Uh(g){return OC.get(g,"state",{},!0)}o(Uh,"_getPluginState");function O9(g,y){for(var T=[],_=null,D=g[yf](),N;D;){var U=D[VA]();if(U){_&&_[_h]&&U[hc]&&_[_h](U),N=Uh(U);var oe=!!N[hf];U[hf]&&(oe=U[hf]()),oe||T[Fi](U),_=U,D=D[yf]()}}Vr(T,function(fe){var Ee=g[ta]();fe[yC](g.getCfg(),Ee,y,g[yf]()),N=Uh(fe),!fe[ta]&&!N[ta]&&(N[ta]=Ee),N[hf]=!0,delete N[gf]})}o(O9,"initializePlugins");function U9(g){return g.sort(function(y,T){var _=0;if(T){var D=T[hc];y[hc]?_=D?y[ZA]-T[ZA]:1:D&&(_=-1)}else _=y?1:-1;return _})}o(U9,"sortPlugins");function gj(g){var y={};return{getName:o(function(){return y[Sh]},"getName"),setName:o(function(T){g&&g.setName(T),y[Sh]=T},"setName"),getTraceId:o(function(){return y.traceId},"getTraceId"),setTraceId:o(function(T){g&&g.setTraceId(T),Oh(T)&&(y.traceId=T)},"setTraceId"),getSpanId:o(function(){return y.spanId},"getSpanId"),setSpanId:o(function(T){g&&g.setSpanId(T),Fg(T)&&(y.spanId=T)},"setSpanId"),getTraceFlags:o(function(){return y[Sk]},"getTraceFlags"),setTraceFlags:o(function(T){g&&g.setTraceFlags(T),y[Sk]=T},"setTraceFlags")}}o(gj,"createDistributedTraceContext");var Aj="TelemetryPluginChain",gB="_hasRun",q9="_getTelCtx",AB=0;function yj(g,y,T){for(;g;){if(g[VA]()===T)return g;g=g[yf]()}return R([T],y.config||{},y)}o(yj,"_getNextProxyStart");function W9(g,y,T,_){var D=null,N=[];y||(y=Ac({},null,T[ea])),_!==null&&(D=_?yj(g,T,_):g);var U={_next:fe,ctx:{core:o(function(){return T},"core"),diagLog:o(function(){return FC(T,y.cfg)},"diagLog"),getCfg:o(function(){return y.cfg},"getCfg"),getExtCfg:_e,getConfig:qe,hasNext:o(function(){return!!D},"hasNext"),getNext:o(function(){return D},"getNext"),setNext:o(function(Ge){D=Ge},"setNext"),iterate:Xe,onComplete:oe}};function oe(Ge,ze){for(var ht=[],lt=2;lt<arguments.length;lt++)ht[lt-2]=arguments[lt];Ge&&N[Fi]({func:Ge,self:O(ze)?U.ctx:ze,args:ht})}o(oe,"_addOnComplete");function fe(){var Ge=D;if(D=Ge?Ge[yf]():null,!Ge){var ze=N;ze&&ze[Ln]>0&&(Vr(ze,function(ht){try{ht.func.call(ht.self,ht.args)}catch(lt){Dr(T[ea],2,73,"Unexpected Exception during onComplete - "+At(lt))}}),N=[])}return Ge}o(fe,"_moveNext");function Ee(Ge,ze){var ht=null,lt=y.cfg;if(lt&&Ge){var It=lt[kg];!It&&ze&&(It={}),lt[kg]=It,It=y.ref(lt,kg),It&&(ht=It[Ge],!ht&&ze&&(ht={}),It[Ge]=ht,ht=y.ref(It,Ge))}return ht}o(Ee,"_getExtCfg");function _e(Ge,ze){var ht=Ee(Ge,!0);return ze&&te(ze,function(lt,It){if(J(ht[lt])){var Vt=y.cfg[lt];(Vt||!J(Vt))&&(ht[lt]=Vt)}k9(y,ht,lt,It)}),y.setDf(ht,ze)}o(_e,"_resolveExtCfg");function qe(Ge,ze,ht){ht===void 0&&(ht=!1);var lt,It=Ee(Ge,!1),Vt=y.cfg;return It&&(It[ze]||!J(It[ze]))?lt=It[ze]:(Vt[ze]||!J(Vt[ze]))&&(lt=Vt[ze]),lt||!J(lt)?lt:ht}o(qe,"_getConfig");function Xe(Ge){for(var ze;ze=U._next();){var ht=ze[VA]();ht&&Ge(ht)}}return o(Xe,"_iterateChain"),U}o(W9,"_createInternalContext");function w2(g,y,T,_){var D=Ac(y),N=W9(g,D,T,_),U=N.ctx;function oe(Ee){var _e=N._next();return _e&&_e[hc](Ee,U),!_e}o(oe,"_processNext");function fe(Ee,_e){return Ee===void 0&&(Ee=null),Ue(Ee)&&(Ee=R(Ee,D.cfg,T,_e)),w2(Ee||U[yf](),D.cfg,T,_e)}return o(fe,"_createNew"),U[rl]=oe,U[Tg]=fe,U}o(w2,"createProcessTelemetryContext");function w(g,y,T){var _=Ac(y.config),D=W9(g,_,y,T),N=D.ctx;function U(fe){var Ee=D._next();return Ee&&Ee[Ig](N,fe),!Ee}o(U,"_processNext");function oe(fe,Ee){return fe===void 0&&(fe=null),Ue(fe)&&(fe=R(fe,_.cfg,y,Ee)),w(fe||N[yf](),y,Ee)}return o(oe,"_createNew"),N[rl]=U,N[Tg]=oe,N}o(w,"createProcessTelemetryUnloadContext");function k(g,y,T){var _=Ac(y.config),D=W9(g,_,y,T),N=D.ctx;function U(fe){return N.iterate(function(Ee){Re(Ee[zd])&&Ee[zd](N,fe)})}o(U,"_processNext");function oe(fe,Ee){return fe===void 0&&(fe=null),Ue(fe)&&(fe=R(fe,_.cfg,y,Ee)),k(fe||N[yf](),y,Ee)}return o(oe,"_createNew"),N[rl]=U,N[Tg]=oe,N}o(k,"createProcessTelemetryUpdateContext");function R(g,y,T,_){var D=null,N=!_;if(Ue(g)&&g[Ln]>0){var U=null;Vr(g,function(oe){if(!N&&_===oe&&(N=!0),N&&oe&&Re(oe[hc])){var fe=Q(oe,y,T);D||(D=fe),U&&U._setNext(fe),U=fe}})}return _&&!D?R([_],y,T):D}o(R,"createTelemetryProxyChain");function Q(g,y,T){var _=null,D=Re(g[hc]),N=Re(g[_h]),U;g?U=g[wh]+"-"+g[ZA]+"-"+AB++:U="Unknown-0-"+AB++;var oe={getPlugin:o(function(){return g},"getPlugin"),getNext:o(function(){return _},"getNext"),processTelemetry:_e,unload:qe,update:Xe,_id:U,_setNext:o(function(Ge){_=Ge},"_setNext")};function fe(){var Ge;return g&&Re(g[q9])&&(Ge=g[q9]()),Ge||(Ge=w2(oe,y,T)),Ge}o(fe,"_getTelCtx");function Ee(Ge,ze,ht,lt,It){var Vt=!1,fr=g?g[wh]:Aj,wr=Ge[gB];return wr||(wr=Ge[gB]={}),Ge.setNext(_),g&&I2(Ge[ta](),function(){return fr+":"+ht},function(){wr[U]=!0;try{var Pn=_?_._id:oi;Pn&&(wr[Pn]=!1),Vt=ze(Ge)}catch(mi){var di=_?wr[_._id]:!0;di&&(Vt=!0),(!_||!di)&&Dr(Ge[Af](),1,73,"Plugin ["+fr+"] failed during "+ht+" - "+At(mi)+", run flags: "+At(wr))}},lt,It),Vt}o(Ee,"_processChain");function _e(Ge,ze){ze=ze||fe();function ht(lt){if(!g||!D)return!1;var It=Uh(g);return It[gf]||It[hx]?!1:(N&&g[_h](_),g[hc](Ge,lt),!0)}o(ht,"_callProcessTelemetry"),Ee(ze,ht,"processTelemetry",function(){return{item:Ge}},!Ge.sync)||ze[rl](Ge)}o(_e,"_processTelemetry");function qe(Ge,ze){function ht(){var lt=!1;if(g){var It=Uh(g),Vt=g[ta]||It[ta];g&&(!Vt||Vt===Ge.core())&&!It[gf]&&(It[ta]=null,It[gf]=!0,It[hf]=!1,g[gf]&&g[gf](Ge,ze)===!0&&(lt=!0))}return lt}o(ht,"_callTeardown"),Ee(Ge,ht,"unload",function(){},ze.isAsync)||Ge[rl](ze)}o(qe,"_unloadPlugin");function Xe(Ge,ze){function ht(){var lt=!1;if(g){var It=Uh(g),Vt=g[ta]||It[ta];g&&(!Vt||Vt===Ge.core())&&!It[gf]&&g[zd]&&g[zd](Ge,ze)===!0&&(lt=!0)}return lt}o(ht,"_callUpdate"),Ee(Ge,ht,"update",function(){},!1)||Ge[rl](ze)}return o(Xe,"_updatePlugin"),xt(oe)}o(Q,"createTelemetryPluginProxy");function ue(){var g=[];function y(_){_&&g[Fi](_)}o(y,"_addHandler");function T(_,D){Vr(g,function(N){try{N(_,D)}catch(U){Dr(_[Af](),2,73,"Unexpected error calling unload handler - "+At(U))}}),g=[]}return o(T,"_runHandlers"),{add:y,run:T}}o(ue,"createUnloadHandlerContainer");function Te(){var g=[];function y(_){var D=g;g=[],Vr(D,function(N){try{(N.rm||N.remove).call(N)}catch(U){Dr(_,2,73,"Unloading:"+At(U))}})}o(y,"_doUnload");function T(_){_&&wA(g,_)}return o(T,"_addHook"),{run:y,add:T}}o(Te,"createUnloadHookContainer");var Be,He="getPlugin",rt=(Be={},Be[kg]={isVal:Cx,v:{}},Be),Et=function(){function g(){var y=this,T,_,D,N,U;Ee(),Bl(g,y,function(_e){_e[yC]=function(qe,Xe,Ge,ze){fe(qe,Xe,ze),T=!0},_e[gf]=function(qe,Xe){var Ge=_e[ta];if(!Ge||qe&&Ge!==qe[ta]())return;var ze,ht=!1,lt=qe||w(null,Ge,D&&D[He]?D[He]():D),It=Xe||{reason:0,isAsync:!1};function Vt(){ht||(ht=!0,N.run(lt,Xe),U.run(lt[Af]()),ze===!0&&lt[rl](It),Ee())}return o(Vt,"_unloadCallback"),!_e[ox]||_e[ox](lt,It,Vt)!==!0?Vt():ze=!0,ze},_e[zd]=function(qe,Xe){var Ge=_e[ta];if(!Ge||qe&&Ge!==qe[ta]())return;var ze,ht=!1,lt=qe||k(null,Ge,D&&D[He]?D[He]():D),It=Xe||{reason:0};function Vt(){ht||(ht=!0,fe(lt.getCfg(),lt.core(),lt[yf]()))}return o(Vt,"_updateCallback"),!_e._doUpdate||_e._doUpdate(lt,It,Vt)!==!0?Vt():ze=!0,ze},IC(_e,"_addUnloadCb",function(){return N},"add"),IC(_e,"_addHook",function(){return U},"add"),Oe(_e,"_unloadHooks",{g:o(function(){return U},"g")})}),y[Af]=function(_e){return oe(_e)[Af]()},y[hf]=function(){return T},y.setInitialized=function(_e){T=_e},y[_h]=function(_e){D=_e},y[rl]=function(_e,qe){qe?qe[rl](_e):D&&Re(D[hc])&&D[hc](_e,null)},y._getTelCtx=oe;function oe(_e){_e===void 0&&(_e=null);var qe=_e;if(!qe){var Xe=_||w2(null,{},y[ta]);D&&D[He]?qe=Xe[Tg](null,D[He]):qe=Xe[Tg](null,D)}return qe}o(oe,"_getTelCtx");function fe(_e,qe,Xe){Ac(_e,rt,FC(qe)),!Xe&&qe&&(Xe=qe[jA]()[yf]());var Ge=D;D&&D[He]&&(Ge=D[He]()),y[ta]=qe,_=w2(Xe,_e,qe,Ge)}o(fe,"_setDefaults");function Ee(){T=!1,y[ta]=null,_=null,D=null,U=Te(),N=ue()}o(Ee,"_initDefaults")}return o(g,"BaseTelemetryPlugin"),g.__ieDyn=1,g}();function yr(g,y,T){var _={id:y,fn:T};wA(g,_);var D={remove:o(function(){Vr(g,function(N,U){if(N.id===_.id)return g[WA](U,1),-1})},"remove")};return D}o(yr,"_addInitializer");function gn(g,y,T){for(var _=!1,D=g[Ln],N=0;N<D;++N){var U=g[N];if(U)try{if(U.fn[tx](null,[y])===!1){_=!0;break}}catch(oe){Dr(T,2,64,"Telemetry initializer failed: "+Ha(oe),{exception:At(oe)},!0)}}return!_}o(gn,"_runInitializers");var kn=function(g){AC(y,g);function y(){var T=g.call(this)||this;T.identifier="TelemetryInitializerPlugin",T.priority=199;var _,D;N(),Bl(y,T,function(U,oe){U.addTelemetryInitializer=function(fe){return yr(D,_++,fe)},U[hc]=function(fe,Ee){gn(D,fe,Ee?Ee[Af]():U[Af]())&&U[rl](fe,Ee)},U[ox]=function(){N()}});function N(){_=0,D=[]}return o(N,"_initDefaults"),T}return o(y,"TelemetryInitializerPlugin"),y.__ieDyn=1,y}(Et),vr,Br="Plugins must provide initialize method",Sn="_notificationManager",An="SDK is still unloading...",si="SDK is not initialized",Vi=100,xi=5e4,ya=St((vr={cookieCfg:{}},vr[XA]={rdOnly:!0,ref:!0,v:[]},vr[Jd]={rdOnly:!0,ref:!0,v:[]},vr[kg]={ref:!0,v:{}},vr[su]=mc,vr.loggingLevelConsole=0,vr.diagnosticLogInterval=mc,vr));function S2(g,y){return new pj(y)}o(S2,"_createPerfManager");function UC(g,y,T){var _=[],D=[],N={};return Vr(T,function(U){(J(U)||J(U[yC]))&&Ht(Br);var oe=U[ZA],fe=U[wh];U&&oe&&(J(N[oe])?N[oe]=fe:Dx(g,"Two extensions have same priority #"+oe+" - "+N[oe]+", "+fe)),!oe||oe<y?_[Fi](U):D[Fi](U)}),{core:_,channels:D}}o(UC,"_validateExtensions");function G9(g,y){var T=!1;return Vr(y,function(_){if(_===g)return T=!0,-1}),T}o(G9,"_isPluginPresent");function Ux(g,y,T,_){T&&te(T,function(D,N){_&&B0(N)&&B0(y[D])&&Ux(g,y[D],N,_),_&&B0(N)&&B0(y[D])?Ux(g,y[D],N,_):g.set(y,D,N)})}o(Ux,"_deepMergeConfig");function yB(g,y){var T=null,_=-1;return Vr(g,function(D,N){if(D.w===y)return T=D,_=N,-1}),{i:_,l:T}}o(yB,"_findWatcher");function Cj(g,y){var T=yB(g,y).l;return T||(T={w:y,rm:o(function(){var _=yB(g,y);_.i!==-1&&g[WA](_.i,1)},"rm")},g[Fi](T)),T}o(Cj,"_addDelayedCfgListener");function H9(g,y,T){Vr(y,function(_){var D=em(g,_.w,T);delete _.w,_.rm=function(){D.rm()}})}o(H9,"_registerDelayedCfgListener");function CB(g,y,T,_){return y.add(g[$d](function(D){var N=D.cfg.disableDbgExt;N===!0&&_&&(T[CC](_),_=null),T&&!_&&N!==!0&&(_=ij(D.cfg),T[rx](_))})),_}o(CB,"_initDebugListener");function EB(g){return Oe({rm:o(function(){g.rm()},"rm")},"toJSON",{v:o(function(){return"aicore::onCfgChange<"+JSON.stringify(g)+">"},"v")})}o(EB,"_createUnloadHook");var Ft=function(){function g(){var y,T,_,D,N,U,oe,fe,Ee,_e,qe,Xe,Ge,ze,ht,lt,It,Vt,fr,wr,Pn,di,mi,ro,sn,Wr,hi,ds,wo,Yt,Gr,ji;Bl(g,this,function(Dt){dt(),Dt._getDbgPlgTargets=function(){return[mi,D]},Dt[hf]=function(){return T},Dt.activeStatus=function(){return Wr},Dt._setPendingStatus=function(){Wr=3},Dt[yC]=function(gt,Tr,xn,Mr){Ge&&Ht(An),Dt[hf]()&&Ht("Core cannot be initialized more than once"),y=Ac(gt,ya,xn||Dt[ea],!1),gt=y.cfg,Pl(y[$d](function(po){var Ho=po.cfg,o0=Wr===3;if(!o0){ds=Ho.initInMemoMaxSize||Vi;var yc=Ho.instrumentationKey,im=Ho.endpointUrl;if(J(yc)){Pn=null,Wr=Th.INACTIVE;var om="Please provide instrumentation key";T?(Dr(_,1,100,om),ks()):Ht(om);return}var Zx=[];if(at(yc)?(Zx[Fi](yc),Pn=null):Pn=yc,at(im)?(Zx[Fi](im),hi=null):hi=im,Zx[Ln]){wo=!1,Wr=3;var u7=Cx(Ho.initTimeOut)?Ho.initTimeOut:xi,Jj=R0(Zx);bh(function(){wo||yn()},u7),dc(Jj,function(M2){try{if(wo)return;if(!M2.rejected){var O2=M2[HA];if(O2&&O2[Ln]){var HB=O2[0];if(Pn=HB&&HB[HA],O2[Ln]>1){var VB=O2[1];hi=VB&&VB[HA]}}Pn&&(gt.instrumentationKey=Pn,gt.endpointUrl=hi)}yn()}catch{wo||yn()}})}else yn();var eb=po.ref(po.cfg,kg);te(eb,function(M2){po.ref(eb,M2)})}})),N=Mr,fr=CB(y,Vt,N&&Dt[iu](),fr),L2(),Dt[ea]=xn;var bn=gt[XA];if(_e=[],_e[Fi].apply(_e,vk(vk([],Tr,!1),bn)),qe=gt[Jd],Bs(null),(!Xe||Xe[Ln]===0)&&Ht("No "+Jd+" available"),qe&&qe[Ln]>1){var uo=Dt[VA]("TeeChannelController");(!uo||!uo.plugin)&&Dr(_,1,28,"TeeChannel required")}H9(gt,di,_),di=null,T=!0,Wr===Th.ACTIVE&&ks()},Dt.getChannels=function(){var gt=[];return Xe&&Vr(Xe,function(Tr){gt[Fi](Tr)}),xt(gt)},Dt.track=function(gt){I2(Dt[bC](),function(){return"AppInsightsCore:track"},function(){gt===null&&(ms(gt),Ht("Invalid telemetry item")),!gt[Sh]&&J(gt[Sh])&&(ms(gt),Ht("telemetry name required")),gt.iKey=gt.iKey||Pn,gt.time=gt.time||vC(new Date),gt.ver=gt.ver||"4.0",!Ge&&Dt[hf]()&&Wr===Th.ACTIVE?xa()[rl](gt):Wr!==Th.INACTIVE&&D[Ln]<=ds&&D[Fi](gt)},function(){return{item:gt}},!gt.sync)},Dt[jA]=xa,Dt[iu]=function(){return N||(N=new mj(y.cfg),Dt[Sn]=N),N},Dt[rx]=function(gt){Dt.getNotifyMgr()[rx](gt)},Dt[CC]=function(gt){N&&N[CC](gt)},Dt.getCookieMgr=function(){return fe||(fe=cj(y.cfg,Dt[ea])),fe},Dt.setCookieMgr=function(gt){fe!==gt&&(y2(fe,!1),fe=gt)},Dt[bC]=function(){return U||oe||ra()},Dt.setPerfMgr=function(gt){U=gt},Dt.eventCnt=function(){return D[Ln]},Dt.releaseQueue=function(){if(T&&D[Ln]>0){var gt=D;D=[],Wr===2?Vr(gt,function(Tr){Tr.iKey=Tr.iKey||Pn,xa()[rl](Tr)}):Dr(_,2,20,"core init status is not active")}},Dt.pollInternalLogs=function(gt){return ht=gt||null,ji=!1,Yt&&Yt[GA](),no(!0)};function yn(){wo=!0,J(Pn)?(Wr=Th.INACTIVE,Dr(_,1,112,"ikey can't be resolved from promises")):Wr=Th.ACTIVE,ks()}o(yn,"_setStatus");function ks(){T&&(Dt.releaseQueue(),Dt.pollInternalLogs())}o(ks,"_releaseQueues");function no(gt){if((!Yt||!Yt[pf])&&!ji){var Tr=gt||_&&_.queue[Ln]>0;Tr&&(Gr||(Gr=!0,Pl(y[$d](function(xn){var Mr=xn.cfg.diagnosticLogInterval;(!Mr||!(Mr>0))&&(Mr=1e4);var bn=!1;Yt&&(bn=Yt[pf],Yt[GA]()),Yt=zE(N2,Mr),Yt.unref(),Yt[pf]=bn}))),Yt[pf]=!0)}return Yt}o(no,"_startLogPoller"),Dt[Ik]=function(){ji=!0,Yt&&Yt[GA](),N2()},g9(Dt,function(){return ze},["addTelemetryInitializer"]),Dt[Ig]=function(gt,Tr,xn){gt===void 0&&(gt=!0),T||Ht(si),Ge&&Ht(An);var Mr={reason:50,isAsync:gt,flushComplete:!1},bn;gt&&!Tr&&(bn=JA(function(Ho){Tr=Ho}));var uo=w(wf(),Dt);uo[nx](function(){Vt.run(Dt[ea]),tB([fe,N,_],gt,function(){dt(),Tr&&Tr(Mr)})},Dt);function po(Ho){Mr.flushComplete=Ho,Ge=!0,It.run(uo,Mr),Dt[Ik](),uo[rl](Mr)}return o(po,"_doUnload"),N2(),rm(gt,po,6,xn),bn},Dt[VA]=al,Dt.addPlugin=function(gt,Tr,xn,Mr){if(!gt){Mr&&Mr(!1),Q2(Br);return}var bn=al(gt[wh]);if(bn&&!Tr){Mr&&Mr(!1),Q2("Plugin ["+gt[wh]+"] is already loaded!");return}var uo={reason:16};function po(yc){_e[Fi](gt),uo.added=[gt],Bs(uo),Mr&&Mr(!0)}if(o(po,"_addPlugin"),bn){var Ho=[bn.plugin],o0={reason:2,isAsync:!!xn};F0(Ho,o0,function(yc){yc?(uo.removed=Ho,uo.reason|=32,po()):Mr&&Mr(!1)})}else po()},Dt.updateCfg=function(gt,Tr){Tr===void 0&&(Tr=!0);var xn;if(Dt[hf]()){xn={reason:1,cfg:y.cfg,oldCfg:GE({},y.cfg),newConfig:GE({},gt),merge:Tr},gt=xn.newConfig;var Mr=y.cfg;gt[XA]=Mr[XA],gt[Jd]=Mr[Jd]}y._block(function(bn){var uo=bn.cfg;Ux(bn,uo,gt,Tr),Tr||te(uo,function(po){We(gt,po)||bn.set(uo,po,mc)}),bn.setDf(uo,ya)},!0),y.notify(),xn&&nm(xn)},Dt.evtNamespace=function(){return lt},Dt.flush=rm,Dt.getTraceCtx=function(gt){return wr||(wr=gj()),wr},Dt.setTraceCtx=function(gt){wr=gt||null},Dt.addUnloadHook=Pl,IC(Dt,"addUnloadCb",function(){return It},"add"),Dt.onCfgChange=function(gt){var Tr;return T?Tr=em(y.cfg,gt,Dt[ea]):Tr=Cj(di,gt),EB(Tr)},Dt.getWParam=function(){return hh()||y.cfg.enableWParam?0:-1};function sl(){var gt={};ro=[];var Tr=o(function(xn){xn&&Vr(xn,function(Mr){if(Mr[wh]&&Mr[$A]&&!gt[Mr.identifier]){var bn=Mr[wh]+"="+Mr[$A];ro[Fi](bn),gt[Mr.identifier]=Mr}})},"_addPluginVersions");Tr(Xe),qe&&Vr(qe,function(xn){Tr(xn)}),Tr(_e)}o(sl,"_setPluginVersions");function dt(){T=!1,y=Ac({},ya,Dt[ea]),y.cfg[Tk]=1,Oe(Dt,"config",{g:o(function(){return y.cfg},"g"),s:o(function(Tr){Dt.updateCfg(Tr,!1)},"s")}),Oe(Dt,"pluginVersionStringArr",{g:o(function(){return ro||sl(),ro},"g")}),Oe(Dt,"pluginVersionString",{g:o(function(){return sn||(ro||sl(),sn=ro.join(";")),sn||oi},"g")}),Oe(Dt,"logger",{g:o(function(){return _||(_=new NC(y.cfg),y[ea]=_),_},"g"),s:o(function(Tr){y[ea]=Tr,_!==Tr&&(y2(_,!1),_=Tr)},"s")}),Dt[ea]=new NC(y.cfg),mi=[];var gt=Dt.config[XA]||[];gt.splice(0,gt[Ln]),wA(gt,mi),ze=new kn,D=[],y2(N,!1),N=null,U=null,oe=null,y2(fe,!1),fe=null,Ee=null,_e=[],qe=null,Xe=null,Ge=!1,ht=null,lt=Zd("AIBaseCore",!0),It=ue(),wr=null,Pn=null,Vt=Te(),di=[],sn=null,ro=null,ji=!1,Yt=null,Gr=!1,Wr=0,hi=null,ds=null,wo=!1}o(dt,"_initDefaults");function xa(){var gt=w2(wf(),y.cfg,Dt);return gt[nx](no),gt}o(xa,"_createTelCtx");function Bs(gt){var Tr=UC(Dt[ea],ZV,_e);Ee=null,sn=null,ro=null,Xe=(qe||[])[0]||[],Xe=U9(wA(Xe,Tr[Jd]));var xn=wA(U9(Tr[ta]),Xe);mi=xt(xn);var Mr=Dt.config[XA]||[];Mr.splice(0,Mr[Ln]),wA(Mr,mi);var bn=xa();Xe&&Xe[Ln]>0&&O9(bn[Tg](Xe),xn),O9(bn,xn),gt&&nm(gt)}o(Bs,"_initPluginChain");function al(gt){var Tr=null,xn=null,Mr=[];return Vr(mi,function(bn){if(bn[wh]===gt&&bn!==ze)return xn=bn,-1;bn.getChannel&&Mr[Fi](bn)}),!xn&&Mr[Ln]>0&&Vr(Mr,function(bn){if(xn=bn.getChannel(gt),!xn)return-1}),xn&&(Tr={plugin:xn,setEnabled:o(function(bn){Uh(xn)[hx]=!bn},"setEnabled"),isEnabled:o(function(){var bn=Uh(xn);return!bn[gf]&&!bn[hx]},"isEnabled"),remove:o(function(bn,uo){bn===void 0&&(bn=!0);var po=[xn],Ho={reason:1,isAsync:bn};F0(po,Ho,function(o0){o0&&Bs({reason:32,removed:po}),uo&&uo(o0)})},"remove")}),Tr}o(al,"_getPlugin");function wf(){if(!Ee){var gt=(mi||[]).slice();k0(gt,ze)===-1&&gt[Fi](ze),Ee=R(U9(gt),y.cfg,Dt)}return Ee}o(wf,"_getPluginChain");function F0(gt,Tr,xn){if(gt&&gt[Ln]>0){var Mr=R(gt,y.cfg,Dt),bn=w(Mr,Dt);bn[nx](function(){var uo=!1,po=[];Vr(_e,function(o0,yc){G9(o0,gt)?uo=!0:po[Fi](o0)}),_e=po,sn=null,ro=null;var Ho=[];qe&&(Vr(qe,function(o0,yc){var im=[];Vr(o0,function(om){G9(om,gt)?uo=!0:im[Fi](om)}),Ho[Fi](im)}),qe=Ho),xn&&xn(uo),no()}),bn[rl](Tr)}else xn(!1)}o(F0,"_removePlugins");function N2(){if(_&&_.queue){var gt=_.queue.slice(0);_.queue[Ln]=0,Vr(gt,function(Tr){var xn={name:ht||"InternalMessageId: "+Tr[ix],iKey:Pn,time:vC(new Date),baseType:Rx.dataType,baseData:{message:Tr[wg]}};Dt.track(xn)})}}o(N2,"_flushInternalLogs");function rm(gt,Tr,xn,Mr){var bn=1,uo=!1,po=null;Mr=Mr||5e3;function Ho(){bn--,uo&&bn===0&&(po&&po[GA](),po=null,Tr&&Tr(uo),Tr=null)}if(o(Ho,"doCallback"),Xe&&Xe[Ln]>0){var o0=xa()[Tg](Xe);o0.iterate(function(yc){if(yc.flush){bn++;var im=!1;yc.flush(gt,function(){im=!0,Ho()},xn)||im||(gt&&po==null?po=bh(function(){po=null,Ho()},Mr):Ho())}})}return uo=!0,Ho(),!0}o(rm,"_flushChannels");function L2(){var gt;Pl(y[$d](function(Tr){var xn=Tr.cfg.enablePerfMgr;if(xn){var Mr=Tr.cfg[su];(gt!==Mr||!gt)&&(Mr||(Mr=S2),Mk(Tr.cfg,su,Mr),gt=Mr,oe=null),!U&&!oe&&Re(Mr)&&(oe=Mr(Dt,Dt[iu]()))}else oe=null,gt=null}))}o(L2,"_initPerfManager");function nm(gt){var Tr=k(wf(),Dt);Tr[nx](no),(!Dt._updateHook||Dt._updateHook(Tr,gt)!==!0)&&Tr[rl](gt)}o(nm,"_doUpdate");function Q2(gt){var Tr=Dt[ea];Tr?(Dr(Tr,2,73,gt),no()):Ht(gt)}o(Q2,"_logOrThrowError");function ms(gt){var Tr=Dt[iu]();Tr&&Tr[t2]([gt],2)}o(ms,"_notifyInvalidEvent");function Pl(gt){Vt.add(gt)}o(Pl,"_addUnloadHook")})}return o(g,"AppInsightsCore"),g.__ieDyn=1,g}();function Qr(g,y){try{if(g&&g!==""){var T=D0().parse(g);if(T&&T[wk]&&T[wk]>=T.itemsAccepted&&T.itemsReceived-T.itemsAccepted===T.errors[Ln])return T}}catch(_){Dr(y,1,43,"Cannot parse the response. "+(_[Sh]||At(_)),{response:g})}return null}o(Qr,"parseResponse");var rn="",bo="NoResponseBody",Ca="&"+bo+"=true",_s="POST",Ea=function(){function g(){var y=0,T,_,D,N,U,oe,fe,Ee,_e,qe,Xe,Ge,ze,ht;Bl(g,this,function(lt,It){var Vt=!0;wo(),lt[yC]=function(Yt,Gr){D=Gr,_&&Dr(D,1,28,"Sender is already initialized"),lt.SetConfig(Yt),_=!0},lt._getDbgPlgTargets=function(){return[_,N,oe,T]},lt.SetConfig=function(Yt){try{if(U=Yt.senderOnCompleteCallBack||{},oe=!!Yt.disableCredentials,fe=Yt.fetchCredentials,N=!!Yt.isOneDs,T=!!Yt.enableSendPromise,_e=!!Yt.disableXhr,qe=!!Yt.disableBeacon,Xe=!!Yt.disableBeaconSync,ht=Yt.timeWrapper,ze=!!Yt.addNoResponse,Ge=!!Yt.disableFetchKeepAlive,Ee={sendPOST:Wr},N||(Vt=!1),oe){var Gr=l2();Gr&&Gr.protocol&&Gr.protocol[UA]()==="file:"&&(Vt=!1)}return!0}catch{}return!1},lt.getSyncFetchPayload=function(){return y},lt.getSenderInst=function(Yt,Gr){return Yt&&Yt[Ln]?di(Yt,Gr):null},lt.getFallbackInst=function(){return Ee},lt[ox]=function(Yt,Gr){wo()};function fr(Yt,Gr){mi(Gr,200,{},Yt)}o(fr,"_onSuccess");function wr(Yt,Gr){Dr(D,2,26,"Failed to send telemetry.",{message:Yt}),mi(Gr,400,{})}o(wr,"_onError");function Pn(Yt){wr("No endpoint url is provided for the batch",Yt)}o(Pn,"_onNoPayloadUrl");function di(Yt,Gr){for(var ji=0,Dt=null,yn=0;Dt==null&&yn<Yt[Ln];)ji=Yt[yn],!_e&&ji===1?v9()?Dt=ds:I9()&&(Dt=Wr):ji===2&&kC(Gr)&&(!Gr||!Ge)?Dt=hi:ji===3&&Fh()&&(Gr?!Xe:!qe)&&(Dt=sn),yn++;return Dt?{_transport:ji,_isSync:Gr,sendPOST:Dt}:null}o(di,"_getSenderInterface");function mi(Yt,Gr,ji,Dt){try{Yt&&Yt(Gr,ji,Dt)}catch{}}o(mi,"_doOnComplete");function ro(Yt,Gr){var ji=ph(),Dt=Yt[Yd];if(!Dt)return Pn(Gr),!0;Dt=Yt[Yd]+(ze?Ca:rn);var yn=Yt[zA],ks=N?yn:new Blob([yn],{type:"text/plain;charset=UTF-8"}),no=ji.sendBeacon(Dt,ks);return no}o(ro,"_doBeaconSend");function sn(Yt,Gr,ji){var Dt=Yt[zA];try{if(Dt)if(ro(Yt,Gr))fr(rn,Gr);else{var yn=U&&U.beaconOnRetry;yn&&Re(yn)?yn(Yt,Gr,ro):(Ee&&Ee.sendPOST(Yt,Gr,!0),Dr(D,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(ks){N&&Dx(D,"Failed to send telemetry using sendBeacon API. Ex:"+At(ks)),mi(Gr,N?0:400,{},rn)}}o(sn,"_beaconSender");function Wr(Yt,Gr,ji){var Dt,yn,ks,no=Yt[u9]||{};!ji&&T&&(Dt=JA(function(Bs,al){yn=Bs,ks=al})),N&&ji&&Yt.disableXhrSync&&(ji=!1);var sl=Yt[Yd];if(!sl){Pn(Gr),yn&&yn(!1);return}var dt=C9(_s,sl,Vt,!0,ji,Yt[Kd]);N||dt.setRequestHeader("Content-type","application/json"),Vr(et(no),function(Bs){dt.setRequestHeader(Bs,no[Bs])}),dt.onreadystatechange=function(){N||(xa(dt),dt.readyState===4&&yn&&yn(!0))},dt.onload=function(){N&&xa(dt)};function xa(Bs){var al=U&&U.xhrOnComplete,wf=al&&Re(al);if(wf)al(Bs,Gr,Yt);else{var F0=Ex(Bs);mi(Gr,Bs[EC],Dg(Bs,N),F0)}}return o(xa,"_doOnReadyFunc"),dt.onerror=function(Bs){mi(Gr,N?dt[EC]:400,Dg(dt,N),N?rn:xx(dt)),ks&&ks(Bs)},dt.ontimeout=function(){mi(Gr,N?dt[EC]:500,Dg(dt,N),N?rn:xx(dt)),yn&&yn(!1)},dt.send(Yt[zA]),Dt}o(Wr,"_xhrSender");function hi(Yt,Gr,ji){var Dt,yn=Yt[Yd],ks=Yt[zA],no=N?ks:new Blob([ks],{type:"application/json"}),sl,dt,xa,Bs=new Headers,al=ks[Ln],wf=!1,F0=!1,N2=Yt[u9]||{},rm=(Dt={method:_s,body:no},Dt[rB]=!0,Dt);Yt.headers&&et(Yt.headers)[Ln]>0&&(Vr(et(N2),function(ms){Bs.append(ms,N2[ms])}),rm[u9]=Bs),fe?rm.credentials=fe:Vt&&N&&(rm.credentials="include"),ji&&(rm.keepalive=!0,y+=al,N?Yt._sendReason===2&&(wf=!0,ze&&(yn+=Ca)):wf=!0);var L2=new Request(yn,rm);try{L2[rB]=!0}catch{}if(!ji&&T&&(sl=JA(function(ms,Pl){dt=ms,xa=Pl})),!yn){Pn(Gr),dt&&dt(!1);return}function nm(ms){mi(Gr,N?0:400,{},N?rn:ms)}o(nm,"_handleError");function Q2(ms,Pl,gt){var Tr=ms[EC],xn=U.fetchOnComplete;xn&&Re(xn)?xn(ms,Gr,gt||rn,Pl):mi(Gr,Tr,{},gt||rn)}o(Q2,"_onFetchComplete");try{dc(fetch(N?yn:L2,N?rm:null),function(ms){if(ji&&(y-=al,al=0),!F0)if(F0=!0,ms.rejected)nm(ms.reason&&ms.reason[wg]),xa&&xa(ms.reason);else{var Pl=ms[HA];try{!N&&!Pl.ok?(nm(Pl.statusText),dt&&dt(!1)):N&&!Pl.body?(Q2(Pl,null,rn),dt&&dt(!0)):dc(Pl.text(),function(gt){Q2(Pl,Yt,gt[HA]),dt&&dt(!0)})}catch(gt){nm(At(gt)),xa&&xa(gt)}}})}catch(ms){F0||(nm(At(ms)),xa&&xa(ms))}return wf&&!F0&&(F0=!0,mi(Gr,200,{}),dt&&dt(!0)),N&&!F0&&Yt[Kd]>0&&ht&&ht.set(function(){F0||(F0=!0,mi(Gr,500,{}),dt&&dt(!0))},Yt[Kd]),sl}o(hi,"_doFetchSender");function ds(Yt,Gr,ji){var Dt=Gd(),yn=new XDomainRequest,ks=Yt[zA];yn.onload=function(){var Bs=Ex(yn),al=U&&U.xdrOnComplete;al&&Re(al)?al(yn,Gr,Yt):mi(Gr,200,{},Bs)},yn.onerror=function(){mi(Gr,400,{},N?rn:Uk(yn))},yn.ontimeout=function(){mi(Gr,500,{})},yn.onprogress=function(){};var no=Dt&&Dt.location&&Dt.location.protocol||"",sl=Yt[Yd];if(!sl){Pn(Gr);return}if(!N&&sl.lastIndexOf(no,0)!==0){var dt="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Dr(D,2,40,". "+dt),wr(dt,Gr);return}var xa=N?sl:sl[Bh](/^(https?:)/,"");yn.open(_s,xa),Yt[Kd]&&(yn[Kd]=Yt[Kd]),yn.send(ks),N&&ji?ht&&ht.set(function(){yn.send(ks)},0):yn.send(ks)}o(ds,"_xdrSender");function wo(){y=0,_=!1,T=!1,D=null,N=null,U=null,oe=null,fe=null,Ee=null,_e=!1,qe=!1,Xe=!1,Ge=!1,ze=!1,ht=null}o(wo,"_initDefaults")})}return o(g,"SenderPostManager"),g.__ieDyn=1,g}(),Ng="on",qh="attachEvent",_2="addEventListener",xB="detachEvent",bB="removeEventListener",qx="events";Zd("aiEvtPageHide"),Zd("aiEvtPageShow");var Ej=/\.[\.]+/g,zce=/[\.]+$/,Qqe=1,vB=$k("events"),Mqe=/^([^.]*)(?:\.(.+)|)/;function Yce(g){return g&&g[Bh]?g[Bh](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,oi):g}o(Yce,"_normalizeNamespace");function xj(g,y){if(y){var T=oi;Ue(y)?(T=oi,Vr(y,function(D){D=Yce(D),D&&(D[0]!=="."&&(D="."+D),T+=D)})):T=Yce(y),T&&(T[0]!=="."&&(T="."+T),g=(g||oi)+T)}var _=Mqe.exec(g||oi)||[];return{type:_[1],ns:(_[2]||oi).replace(Ej,".").replace(zce,oi)[kh](".").sort().join(".")}}o(xj,"_getEvtNamespace");function Kce(g,y,T){T===void 0&&(T=!0);var _=vB.get(g,qx,{},T),D=_[y];return D||(D=_[y]=[]),D}o(Kce,"_getRegisteredEvents");function Jce(g,y,T,_){g&&y&&y[Rl]&&(g[bB]?g[bB](y[Rl],T,_):g[xB]&&g[xB](Ng+y[Rl],T))}o(Jce,"_doDetach");function Oqe(g,y,T,_){var D=!1;return g&&y&&y[Rl]&&T&&(g[_2]?(g[_2](y[Rl],T,_),D=!0):g[qh]&&(g[qh](Ng+y[Rl],T),D=!0)),D}o(Oqe,"_doAttach");function Xce(g,y,T,_){for(var D=y[Ln];D--;){var N=y[D];N&&(!T.ns||T.ns===N[a9].ns)&&(!_||_(N))&&(Jce(g,N[a9],N.handler,N.capture),y[WA](D,1))}}o(Xce,"_doUnregister");function Uqe(g,y,T){if(y[Rl])Xce(g,Kce(g,y[Rl]),y,T);else{var _=vB.get(g,qx,{});te(_,function(D,N){Xce(g,N,y,T)}),et(_)[Ln]===0&&vB.kill(g,qx)}}o(Uqe,"_unregisterEvents");function Zce(g,y){var T;return y?(Ue(y)?T=[g].concat(y):T=[g,y],T=xj("xx",T).ns[kh](".")):T=g,T}o(Zce,"mergeEvtNamespace");function eue(g,y,T,_,D){D===void 0&&(D=!1);var N=!1;if(g)try{var U=xj(y,_);if(N=Oqe(g,U,T,D),N&&vB.accept(g)){var oe={guid:Qqe++,evtName:U,handler:T,capture:D};Kce(g,U.type)[Fi](oe)}}catch{}return N}o(eue,"eventOn");function qqe(g,y,T,_,D){if(D===void 0&&(D=!1),g)try{var N=xj(y,_),U=!1;Uqe(g,N,function(oe){return N.ns&&!T||oe.handler===T?(U=!0,!0):!1}),U||Jce(g,N,T,D)}catch{}}o(qqe,"eventOff");var tue="sampleRate",bj="ProcessLegacy",rue="http.method",vj="https://dc.services.visualstudio.com",Wx="/v2/track",k2="not_specified",nue=LV({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),IB="split",ti="length",Ij="toLowerCase",qC="ingestionendpoint",V9="toString",iue="removeItem",TB="message",Wqe="count",Tj="stringify",wj="pathname",j9="match",B2="name",Wh="properties",Lg="measurements",wB="sizeInBytes",SB="typeName",$9="exceptions",z9="severityLevel",Sj="problemGroup",Gx="parsedStack",_B="hasFullStack",kB="assembly",Qg="fileName",Hx="line",BB="aiDataContract",RB="duration";function oue(g,y,T){var _=y[ti],D=Gqe(g,y);if(D[ti]!==_){for(var N=0,U=D;T[U]!==void 0;)N++,U=de(D,0,147)+jqe(N);D=U}return D}o(oue,"dataSanitizeKeyAndAddUniqueness");function Gqe(g,y){var T;return y&&(y=Pi(yt(y)),y[ti]>150&&(T=de(y,0,150),Dr(g,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),T||y}o(Gqe,"dataSanitizeKey");function n0(g,y,T){T===void 0&&(T=1024);var _;return y&&(T=T||1024,y=Pi(yt(y)),y[ti]>T&&(_=de(y,0,T),Dr(g,2,61,"string value is too long. It has been truncated to "+T+" characters.",{value:y},!0))),_||y}o(n0,"dataSanitizeString");function _j(g,y){return aue(g,y,2048,66)}o(_j,"dataSanitizeUrl");function sue(g,y){var T;return y&&y[ti]>32768&&(T=de(y,0,32768),Dr(g,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),T||y}o(sue,"dataSanitizeMessage");function Hqe(g,y){var T;if(y){var _=""+y;_[ti]>32768&&(T=de(_,0,32768),Dr(g,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return T||y}o(Hqe,"dataSanitizeException");function WC(g,y){if(y){var T={};te(y,function(_,D){if(ve(D)&&c2())try{D=D0()[Tj](D)}catch(N){Dr(g,2,49,"custom property is not valid",{exception:N},!0)}D=n0(g,D,8192),_=oue(g,_,T),T[_]=D}),y=T}return y}o(WC,"dataSanitizeProperties");function GC(g,y){if(y){var T={};te(y,function(_,D){_=oue(g,_,T),T[_]=D}),y=T}return y}o(GC,"dataSanitizeMeasurements");function Vqe(g,y){return y&&aue(g,y,128,69)[V9]()}o(Vqe,"dataSanitizeId");function aue(g,y,T,_){var D;return y&&(y=Pi(yt(y)),y[ti]>T&&(D=de(y,0,T),Dr(g,2,_,"input is too long, it has been truncated to "+T+" characters.",{data:y},!0))),D||y}o(aue,"dataSanitizeInput");function jqe(g){var y="00"+g;return ye(y,y[ti]-3)}o(jqe,"dsPadNumber");var lue=IA()||{},cue=0,$qe=[null,null,null,null,null];function zqe(g){var y=cue,T=$qe,_=T[y];return lue.createElement?T[y]||(_=T[y]=lue.createElement("a")):_={host:Yqe(g,!0)},_.href=g,y++,y>=T[ti]&&(y=0),cue=y,_}o(zqe,"urlParseUrl");function Yqe(g,y){var T=Kqe(g,y)||"";if(T){var _=T[j9](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(_!=null&&_[ti]>3&&ce(_[2])&&_[2][ti]>0)return _[2]+(_[3]||"")}return T}o(Yqe,"urlParseHost");function Kqe(g,y){var T=null;if(g){var _=g[j9](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(_!=null&&_[ti]>2&&ce(_[2])&&_[2][ti]>0&&(T=_[2]||"",y&&_[ti]>2)){var D=(_[1]||"")[Ij](),N=_[3]||"";(D==="http"&&N===":80"||D==="https"&&N===":443")&&(N=""),T+=N}}return T}o(Kqe,"urlParseFullHost");var Jqe=[vj+Wx,"https://breeze.aimon.applicationinsights.io"+Wx,"https://dc-int.services.visualstudio.com"+Wx];function uue(g){return k0(Jqe,g[Ij]())!==-1}o(uue,"isInternalApplicationInsightsEndpoint");function Xqe(g,y,T,_){var D,N=_,U=_;if(y&&y[ti]>0){var oe=zqe(y);if(D=oe.host,!N)if(oe[wj]!=null){var fe=oe.pathname[ti]===0?"/":oe[wj];fe.charAt(0)!=="/"&&(fe="/"+fe),U=oe[wj],N=n0(g,T?T+" "+fe:fe)}else N=n0(g,y)}else D=_,N=_;return{target:D,name:N,data:U}}o(Xqe,"AjaxHelperParseDependencyPath");var kj=ex({LocalStorage:0,SessionStorage:1}),Vx=void 0,fue="";function due(g){try{if(J(df()))return null;var y=new Date()[V9](),T=Os(g===kj.LocalStorage?"localStorage":"sessionStorage"),_=fue+y;T.setItem(_,y);var D=T.getItem(_)!==y;if(T[iue](_),!D)return T}catch{}return null}o(due,"_getVerifiedStorageObject");function Bj(){return mue()?due(kj.SessionStorage):null}o(Bj,"_getSessionStorageObject");function Zqe(g){fue=g||""}o(Zqe,"utlSetStoragePrefix");function mue(g){return(g||Vx===void 0)&&(Vx=!!due(kj.SessionStorage)),Vx}o(mue,"utlCanUseSessionStorage");function eWe(g,y){var T=Bj();if(T!==null)try{return T.getItem(y)}catch(_){Vx=!1,Dr(g,2,2,"Browser failed read of session storage. "+Ha(_),{exception:At(_)})}return null}o(eWe,"utlGetSessionStorage");function tWe(g,y,T){var _=Bj();if(_!==null)try{return _.setItem(y,T),!0}catch(D){Vx=!1,Dr(g,2,4,"Browser failed write to session storage. "+Ha(D),{exception:At(D)})}return!1}o(tWe,"utlSetSessionStorage");function rWe(g,y){var T=Bj();if(T!==null)try{return T[iue](y),!0}catch(_){Vx=!1,Dr(g,2,6,"Browser failed removal of session storage item. "+Ha(_),{exception:At(_)})}return!1}o(rWe,"utlRemoveSessionStorage");var nWe=";",iWe="=";function Rj(g){if(!g)return{};var y=g[IB](nWe),T=IV(y,function(D,N){var U=N[IB](iWe);if(U[ti]===2){var oe=U[0][Ij](),fe=U[1];D[oe]=fe}return D},{});if(et(T)[ti]>0){if(T.endpointsuffix){var _=T.location?T.location+".":"";T[qC]=T[qC]||"https://"+_+"dc."+T.endpointsuffix}T[qC]=T[qC]||vj,Ck(T[qC],"/")&&(T[qC]=T[qC].slice(0,-1))}return T}o(Rj,"parseConnectionString");var oWe=function(){function g(y,T,_){var D=this,N=this;N.ver=1,N.sampleRate=100,N.tags={},N[B2]=n0(y,_)||k2,N.data=T,N.time=vC(new Date),N[BB]={time:1,iKey:1,name:1,sampleRate:o(function(){return D.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(g,"Envelope"),g}(),jx=function(){function g(y,T,_,D){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var N=this;N.ver=2,N[B2]=n0(y,T)||k2,N[Wh]=WC(y,_),N[Lg]=GC(y,D)}return o(g,"Event"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Event",g.dataType="EventData",g}(),sWe=58,aWe=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,lWe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,cWe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,uWe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,fWe=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,dWe=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,mWe=/([^\(\s\n]+):([0-9]+)$/,hue="<no_method>",$x="error",Tf="stack",Dj="stackDetails",pue="errorSrc",Pj="message",gue="description",Aue=[{re:lWe,len:5,m:1,fn:2,ln:3,col:4},{chk:pWe,pre:hWe,re:cWe,len:4,m:1,fn:2,ln:3},{re:uWe,len:3,m:1,fn:2,hdl:vue},{re:fWe,len:2,fn:1,hdl:vue}];function hWe(g){return g.replace(/(\(anonymous\))/,"<anonymous>")}o(hWe,"_scrubAnonymous");function pWe(g){return Hd(g,"[native")<0}o(pWe,"_ignoreNative");function Fj(g,y){var T=g;return T&&!ce(T)&&(JSON&&JSON[Tj]?(T=JSON[Tj](g),y&&(!T||T==="{}")&&(Re(g[V9])?T=g[V9]():T=""+g)):T=""+g+" - (Missing JSON.stringify)"),T||""}o(Fj,"_stringify");function yue(g,y){var T=g;return g&&(T&&!ce(T)&&(T=g[Pj]||g[gue]||T),T&&!ce(T)&&(T=Fj(T,!0)),g.filename&&(T=T+" @"+(g.filename||"")+":"+(g.lineno||"?")+":"+(g.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&Hd(T||"",y)===-1&&(T=y+": "+T),T||""}o(yue,"_formatMessage");function gWe(g){try{if(ve(g))return"hasFullStack"in g&&"typeName"in g}catch{}return!1}o(gWe,"_isExceptionDetailsInternal");function AWe(g){try{if(ve(g))return"ver"in g&&"exceptions"in g&&"properties"in g}catch{}return!1}o(AWe,"_isExceptionInternal");function Cue(g){return g&&g.src&&ce(g.src)&&g.obj&&Ue(g.obj)}o(Cue,"_isStackDetails");function HC(g){var y=g||"";ce(y)||(ce(y[Tf])?y=y[Tf]:y=""+y);var T=y[IB](`
`);return{src:y,obj:T}}o(HC,"_convertStackObj");function yWe(g){for(var y=[],T=g[IB](`
`),_=0;_<T[ti];_++){var D=T[_];T[_+1]&&(D+="@"+T[_+1],_++),y.push(D)}return{src:g,obj:y}}o(yWe,"_getOperaStack");function Eue(g){var y=null;if(g)try{if(g[Tf])y=HC(g[Tf]);else if(g[$x]&&g[$x][Tf])y=HC(g[$x][Tf]);else if(g.exception&&g.exception[Tf])y=HC(g.exception[Tf]);else if(Cue(g))y=g;else if(Cue(g[Dj]))y=g[Dj];else if(Gd()&&Gd().opera&&g[Pj])y=yWe(g[TB]);else if(g.reason&&g.reason[Tf])y=HC(g.reason[Tf]);else if(ce(g))y=HC(g);else{var T=g[Pj]||g[gue]||"";ce(g[pue])&&(T&&(T+=`
`),T+=" from "+g[pue]),T&&(y=HC(T))}}catch(_){y=HC(_)}return y||{src:"",obj:null}}o(Eue,"_getStackFromErrorObj");function CWe(g){var y="";return g&&(g.obj?y=g.obj.join(`
`):y=g.src||""),y}o(CWe,"_formatStackTrace");function EWe(g){var y,T=g.obj;if(T&&T[ti]>0){y=[];var _=0,D=!1,N=0;Vr(T,function(ht){if(D||IWe(ht)){var lt=yt(ht);D=!0;var It=TWe(lt,_);It&&(N+=It[wB],y.push(It),_++)}});var U=32*1024;if(N>U)for(var oe=0,fe=y[ti]-1,Ee=0,_e=oe,qe=fe;oe<fe;){var Xe=y[oe][wB],Ge=y[fe][wB];if(Ee+=Xe+Ge,Ee>U){var ze=qe-_e+1;y.splice(_e,ze);break}_e=oe,qe=fe,oe++,fe--}}return y}o(EWe,"_parseStack");function DB(g){var y="";if(g&&(y=g.typeName||g[B2]||"",!y))try{var T=/function (.{1,200})\(/,_=T.exec(g.constructor[V9]());y=_&&_[ti]>1?_[1]:""}catch{}return y}o(DB,"_getErrorType");function Nj(g){if(g)try{if(!ce(g)){var y=DB(g),T=Fj(g,!1);return(!T||T==="{}")&&(g[$x]&&(g=g[$x],y=DB(g)),T=Fj(g,!0)),Hd(T,y)!==0&&y!=="String"?y+":"+T:T}}catch{}return""+(g||"")}o(Nj,"_formatErrorCode");var PB=function(){function g(y,T,_,D,N,U){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var oe=this;oe.ver=2,AWe(T)?(oe[$9]=T[$9]||[],oe[Wh]=T[Wh],oe[Lg]=T[Lg],T[z9]&&(oe[z9]=T[z9]),T.id&&(oe.id=T.id,T[Wh].id=T.id),T[Sj]&&(oe[Sj]=T[Sj]),J(T.isManual)||(oe.isManual=T.isManual)):(_||(_={}),U&&(_.id=U),oe[$9]=[xue(y,T,_)],oe[Wh]=WC(y,_),oe[Lg]=GC(y,D),N&&(oe[z9]=N),U&&(oe.id=U))}return o(g,"Exception"),g.CreateAutoException=function(y,T,_,D,N,U,oe,fe){var Ee=DB(N||U||y);return{message:yue(y,Ee),url:T,lineNumber:_,columnNumber:D,error:Nj(N||U||y),evt:Nj(U||y),typeName:Ee,stackDetails:Eue(oe||N||U),errorSrc:fe}},g.CreateFromInterface=function(y,T,_,D){var N=T[$9]&&gg(T[$9],function(oe){return vWe(y,oe)}),U=new g(y,jd(jd({},T),{exceptions:N}),_,D);return U},g.prototype.toInterface=function(){var y=this,T=y.exceptions,_=y.properties,D=y.measurements,N=y.severityLevel,U=y.problemGroup,oe=y.id,fe=y.isManual,Ee=T instanceof Array&&gg(T,function(_e){return _e.toInterface()})||void 0;return{ver:"4.0",exceptions:Ee,severityLevel:N,properties:_,measurements:D,problemGroup:U,id:oe,isManual:fe}},g.CreateSimpleException=function(y,T,_,D,N,U){var oe;return{exceptions:[(oe={},oe[_B]=!0,oe.message=y,oe.stack=N,oe.typeName=T,oe)]}},g.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",g.dataType="ExceptionData",g.formatError=Nj,g}(),xWe=xt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function bWe(){var g=this,y=Ue(g[Gx])&&gg(g[Gx],function(_){return SWe(_)}),T={id:g.id,outerId:g.outerId,typeName:g[SB],message:g[TB],hasFullStack:g[_B],stack:g[Tf],parsedStack:y||void 0};return T}o(bWe,"_toInterface");function xue(g,y,T){var _,D,N,U,oe,fe,Ee,_e;if(gWe(y))U=y[SB],oe=y[TB],Ee=y[Tf],_e=y[Gx]||[],fe=y[_B];else{var qe=y,Xe=qe&&qe.evt;ot(qe)||(qe=qe[$x]||Xe||qe),U=n0(g,DB(qe))||k2,oe=sue(g,yue(y||qe,U))||k2;var Ge=y[Dj]||Eue(y);_e=EWe(Ge),Ue(_e)&&gg(_e,function(ze){ze[kB]=n0(g,ze[kB]),ze[Qg]=n0(g,ze[Qg])}),Ee=Hqe(g,CWe(Ge)),fe=Ue(_e)&&_e[ti]>0,T&&(T[SB]=T[SB]||U)}return _={},_[BB]=xWe,_.id=D,_.outerId=N,_.typeName=U,_.message=oe,_[_B]=fe,_.stack=Ee,_.parsedStack=_e,_.toInterface=bWe,_}o(xue,"_createExceptionDetails");function vWe(g,y){var T=Ue(y[Gx])&&gg(y[Gx],function(D){return wWe(D)})||y[Gx],_=xue(g,jd(jd({},y),{parsedStack:T}));return _}o(vWe,"_createExDetailsFromInterface");function bue(g,y){var T=y[j9](dWe);if(T&&T[ti]>=4)g[Qg]=T[1],g[Hx]=parseInt(T[2]);else{var _=y[j9](mWe);_&&_[ti]>=3?(g[Qg]=_[1],g[Hx]=parseInt(_[2])):g[Qg]=y}}o(bue,"_parseFilename");function vue(g,y,T){var _=g[Qg];y.fn&&T&&T[ti]>y.fn&&(y.ln&&T[ti]>y.ln?(_=Pi(T[y.fn]||""),g[Hx]=parseInt(Pi(T[y.ln]||""))||0):_=Pi(T[y.fn]||"")),_&&bue(g,_)}o(vue,"_handleFilename");function IWe(g){var y=!1;if(g&&ce(g)){var T=Pi(g);T&&(y=aWe.test(T))}return y}o(IWe,"_isStackFrame");var Iue=xt({level:1,method:1,assembly:0,fileName:0,line:0});function TWe(g,y){var T,_;if(g&&ce(g)&&Pi(g)){_=(T={},T[BB]=Iue,T.level=y,T.assembly=Pi(g),T.method=hue,T.fileName="",T.line=0,T.sizeInBytes=0,T);for(var D=0;D<Aue[ti];){var N=Aue[D];if(N.chk&&!N.chk(g))break;N.pre&&(g=N.pre(g));var U=g[j9](N.re);if(U&&U[ti]>=N.len){N.m&&(_.method=Pi(U[N.m]||hue)),N.hdl?N.hdl(_,N,U):N.fn&&(N.ln?(_[Qg]=Pi(U[N.fn]||""),_[Hx]=parseInt(Pi(U[N.ln]||""))||0):bue(_,U[N.fn]||""));break}D++}}return Tue(_)}o(TWe,"_extractStackFrame");function wWe(g){var y,T=(y={},y[BB]=Iue,y.level=g.level,y.method=g.method,y.assembly=g[kB],y.fileName=g[Qg],y.line=g[Hx],y.sizeInBytes=0,y);return Tue(T)}o(wWe,"_stackFrameFromInterface");function Tue(g){var y=sWe;return g&&(y+=g.method[ti],y+=g.assembly[ti],y+=g.fileName[ti],y+=g.level.toString()[ti],y+=g.line.toString()[ti],g[wB]=y),g}o(Tue,"_populateFrameSizeInBytes");function SWe(g){return{level:g.level,method:g.method,assembly:g[kB],fileName:g[Qg],line:g[Hx]}}o(SWe,"_parsedFrameToInterface");var _We=function(){function g(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(g,"DataPoint"),g}(),Y9=function(){function g(y,T,_,D,N,U,oe,fe,Ee){this.aiDataContract={ver:1,metrics:1,properties:0};var _e=this;_e.ver=2;var qe=new _We;qe[Wqe]=D>0?D:void 0,qe.max=isNaN(U)||U===null?void 0:U,qe.min=isNaN(N)||N===null?void 0:N,qe[B2]=n0(y,T)||k2,qe.value=_,qe.stdDev=isNaN(oe)||oe===null?void 0:oe,_e.metrics=[qe],_e[Wh]=WC(y,fe),_e[Lg]=GC(y,Ee)}return o(g,"Metric"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",g.dataType="MetricData",g}(),K9="";function wue(g){(isNaN(g)||g<0)&&(g=0),g=kV(g);var y=K9+g%1e3,T=K9+Ag(g/1e3)%60,_=K9+Ag(g/(1e3*60))%60,D=K9+Ag(g/(1e3*60*60))%24,N=Ag(g/(1e3*60*60*24));return y=y[ti]===1?"00"+y:y[ti]===2?"0"+y:y,T=T[ti]<2?"0"+T:T,_=_[ti]<2?"0"+_:_,D=D[ti]<2?"0"+D:D,(N>0?N+".":K9)+D+":"+_+":"+T+"."+y}o(wue,"msToTimeSpan");var FB=function(){function g(y,T,_,D,N,U,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var fe=this;fe.ver=2,fe.id=Vqe(y,oe),fe.url=_j(y,_),fe[B2]=n0(y,T)||k2,isNaN(D)||(fe[RB]=wue(D)),fe[Wh]=WC(y,N),fe[Lg]=GC(y,U)}return o(g,"PageView"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",g.dataType="PageviewData",g}(),NB=function(){function g(y,T,_,D,N,U,oe,fe,Ee,_e,qe,Xe){Ee===void 0&&(Ee="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Ge=this;Ge.ver=2,Ge.id=T,Ge[RB]=wue(N),Ge.success=U,Ge.resultCode=oe+"",Ge.type=n0(y,Ee);var ze=Xqe(y,_,fe,D);Ge.data=_j(y,D)||ze.data,Ge.target=n0(y,ze.target),_e&&(Ge.target="".concat(Ge.target," | ").concat(_e)),Ge[B2]=n0(y,ze[B2]),Ge[Wh]=WC(y,qe),Ge[Lg]=GC(y,Xe)}return o(g,"RemoteDependencyData"),g.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",g.dataType="RemoteDependencyData",g}(),LB=function(){function g(y,T,_,D,N){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var U=this;U.ver=2,T=T||k2,U[TB]=sue(y,T),U[Wh]=WC(y,D),U[Lg]=GC(y,N),_&&(U[z9]=_)}return o(g,"Trace"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Message",g.dataType="MessageData",g}(),QB=function(){function g(y,T,_,D,N,U,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var fe=this;fe.ver=2,fe.url=_j(y,_),fe[B2]=n0(y,T)||k2,fe[Wh]=WC(y,N),fe[Lg]=GC(y,U),oe&&(fe.domProcessing=oe.domProcessing,fe[RB]=oe[RB],fe.networkConnect=oe.networkConnect,fe.perfTotal=oe.perfTotal,fe.receivedResponse=oe.receivedResponse,fe.sentRequest=oe.sentRequest)}return o(g,"PageViewPerformance"),g.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",g.dataType="PageviewPerformanceData",g}(),VC=function(){function g(y,T){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=T}return o(g,"Data"),g}(),kWe=ex({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function R2(g){var y="ai."+g+".";return function(T){return y+T}}o(R2,"_aiNameFunc");var J9=R2("application"),ja=R2("device"),MB=R2("location"),zx=R2("operation"),Lj=R2("session"),D2=R2("user"),jC=R2("cloud"),X9=R2("internal"),Sue=function(g){AC(y,g);function y(){return g.call(this)||this}return o(y,"ContextTagKeys"),y}(VV({applicationVersion:J9("ver"),applicationBuild:J9("build"),applicationTypeId:J9("typeId"),applicationId:J9("applicationId"),applicationLayer:J9("layer"),deviceId:ja("id"),deviceIp:ja("ip"),deviceLanguage:ja("language"),deviceLocale:ja("locale"),deviceModel:ja("model"),deviceFriendlyName:ja("friendlyName"),deviceNetwork:ja("network"),deviceNetworkName:ja("networkName"),deviceOEMName:ja("oemName"),deviceOS:ja("os"),deviceOSVersion:ja("osVersion"),deviceRoleInstance:ja("roleInstance"),deviceRoleName:ja("roleName"),deviceScreenResolution:ja("screenResolution"),deviceType:ja("type"),deviceMachineName:ja("machineName"),deviceVMName:ja("vmName"),deviceBrowser:ja("browser"),deviceBrowserVersion:ja("browserVersion"),locationIp:MB("ip"),locationCountry:MB("country"),locationProvince:MB("province"),locationCity:MB("city"),operationId:zx("id"),operationName:zx("name"),operationParentId:zx("parentId"),operationRootId:zx("rootId"),operationSyntheticSource:zx("syntheticSource"),operationCorrelationVector:zx("correlationVector"),sessionId:Lj("id"),sessionIsFirst:Lj("isFirst"),sessionIsNew:Lj("isNew"),userAccountAcquisitionDate:D2("accountAcquisitionDate"),userAccountId:D2("accountId"),userAgent:D2("userAgent"),userId:D2("id"),userStoreRegion:D2("storeRegion"),userAuthUserId:D2("authUserId"),userAnonymousUserAcquisitionDate:D2("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:D2("authUserAcquisitionDate"),cloudName:jC("name"),cloudRole:jC("role"),cloudRoleVer:jC("roleVer"),cloudRoleInstance:jC("roleInstance"),cloudEnvironment:jC("environment"),cloudLocation:jC("location"),cloudDeploymentUnit:jC("deploymentUnit"),internalNodeName:X9("nodeName"),internalSdkVersion:X9("sdkVersion"),internalAgentVersion:X9("agentVersion"),internalSnippet:X9("snippet"),internalSdkSrc:X9("sdkSrc")})),il=new Sue;function _ue(g,y){qqe(g,null,null,y)}o(_ue,"_disableEvents");function BWe(g){var y=IA(),T=ph(),_=!1,D=[],N=1;T&&!J(T.onLine)&&!T.onLine&&(N=2);var U=0,oe=Xe(),fe=Zce(Zd("OfflineListener"),g);try{if(_e(Gd())&&(_=!0),y){var Ee=y.body||y;Ee.ononline&&_e(Ee)&&(_=!0)}}catch{_=!1}function _e(fr){var wr=!1;return fr&&(wr=eue(fr,"online",ht,fe),wr&&eue(fr,"offline",lt,fe)),wr}o(_e,"_enableEvents");function qe(){return oe}o(qe,"_isOnline");function Xe(){return!(U===2||N===2)}o(Xe,"calCurrentState");function Ge(){var fr=Xe();oe!==fr&&(oe=fr,Vr(D,function(wr){var Pn={isOnline:oe,rState:N,uState:U};try{wr(Pn)}catch{}}))}o(Ge,"listnerNoticeCheck");function ze(fr){U=fr,Ge()}o(ze,"setOnlineState");function ht(){N=1,Ge()}o(ht,"_setOnline");function lt(){N=2,Ge()}o(lt,"_setOffline");function It(){var fr=Gd();if(fr&&_){if(_ue(fr,fe),y){var wr=y.body||y;O(wr.ononline)||_ue(wr,fe)}_=!1}}o(It,"_unload");function Vt(fr){return D.push(fr),{rm:o(function(){var wr=D.indexOf(fr);if(wr>-1)return D.splice(wr,1)},"rm")}}return o(Vt,"addListener"),{isOnline:qe,isListening:o(function(){return _},"isListening"),unload:It,addListener:Vt,setOnlineState:ze}}o(BWe,"createOfflineListener");var RWe="AppInsightsChannelPlugin",$C="duration",Dl="tags",Qj="deviceType",cu="data",Mg="name",Z9="traceID",ai="length",e7="stringify",zC="measurements",Gh="dataType",YC="envelopeType",KC="toString",JC="enqueue",XC="count",Og="push",Mj="emitLineDelimitedJson",Yx="clear",OB="markAsSent",t7="clearSent",Oj="bufferOverride",r7="BUFFER_KEY",P2="SENT_BUFFER_KEY",Kx="concat",n7="MAX_BUFFER_SIZE",i7="triggerSend",i0="diagLog",Uj="initialize",o7="_sender",s7="endpointUrl",a7="instrumentationKey",qj="customHeaders",kue="maxBatchSizeInBytes",Wj="onunloadDisableBeacon",Gj="isBeaconApiDisabled",Bue="alwaysUseXhrOverride",Rue="enableSessionStorageBuffer",Hh="_buffer",Due="onunloadDisableFetch",Pue="disableSendBeaconSplit",UB="getSenderInst",ZC="_onError",Hj="_onPartialSuccess",qB="_onSuccess",Vj="itemsReceived",jj="itemsAccepted",$j="baseType",WB="sampleRate",DWe="getHashCodeScore",zj="baseType",us="baseData",ol="properties",Fue="true";function na(g,y,T){return Dh(g,y,T,ie)}o(na,"_setValueIf");function PWe(g,y,T){var _=T[Dl]=T[Dl]||{},D=y.ext=y.ext||{},N=y[Dl]=y[Dl]||[],U=D.user;U&&(na(_,il.userAuthUserId,U.authId),na(_,il.userId,U.id||U.localId));var oe=D.app;oe&&na(_,il.sessionId,oe.sesId);var fe=D.device;fe&&(na(_,il.deviceId,fe.id||fe.localId),na(_,il[Qj],fe.deviceClass),na(_,il.deviceIp,fe.ip),na(_,il.deviceModel,fe.model),na(_,il[Qj],fe[Qj]));var Ee=y.ext.web;if(Ee){na(_,il.deviceLanguage,Ee.browserLang),na(_,il.deviceBrowserVersion,Ee.browserVer),na(_,il.deviceBrowser,Ee.browser);var _e=T[cu]=T[cu]||{},qe=_e[us]=_e[us]||{},Xe=qe[ol]=qe[ol]||{};na(Xe,"domain",Ee.domain),na(Xe,"isManual",Ee.isManual?Fue:null),na(Xe,"screenRes",Ee.screenRes),na(Xe,"userConsent",Ee.userConsent?Fue:null)}var Ge=D.os;Ge&&(na(_,il.deviceOS,Ge[Mg]),na(_,il.deviceOSVersion,Ge.osVer));var ze=D.trace;ze&&(na(_,il.operationParentId,ze.parentID),na(_,il.operationName,n0(g,ze[Mg])),na(_,il.operationId,ze[Z9]));for(var ht={},lt=N[ai]-1;lt>=0;lt--){var It=N[lt];te(It,function(fr,wr){ht[fr]=wr}),N.splice(lt,1)}te(N,function(fr,wr){ht[fr]=wr});var Vt=jd(jd({},_),ht);Vt[il.internalSdkVersion]||(Vt[il.internalSdkVersion]=n0(g,"javascript:".concat(FWe.Version),64)),T[Dl]=A9(Vt)}o(PWe,"_extractPartAExtensions");function F2(g,y,T){J(g)||te(g,function(_,D){Je(D)?T[_]=D:ce(D)?y[_]=D:c2()&&(y[_]=D0()[e7](D))})}o(F2,"_extractPropsAndMeasurements");function e3(g,y){J(g)||te(g,function(T,_){g[T]=_||y})}o(e3,"_convertPropsUndefinedToCustomDefinedValue");function t3(g,y,T,_){var D=new oWe(g,_,y);na(D,"sampleRate",T[tue]),(T[us]||{}).startTime&&(D.time=vC(T[us].startTime)),D.iKey=T.iKey;var N=T.iKey.replace(/-/g,"");return D[Mg]=D[Mg].replace("{0}",N),PWe(g,T,D),T[Dl]=T[Dl]||[],A9(D)}o(t3,"_createEnvelope");function r3(g,y){J(y[us])&&Dr(g,1,46,"telemetryItem.baseData cannot be null.")}o(r3,"EnvelopeCreatorInit");var FWe={Version:"3.3.6"};function NWe(g,y,T){r3(g,y);var _=y[us][zC]||{},D=y[us][ol]||{};F2(y[cu],D,_),J(T)||e3(D,T);var N=y[us];if(J(N))return Dx(g,"Invalid input for dependency data"),null;var U=N[ol]&&N[ol][rue]?N[ol][rue]:"GET",oe=new NB(g,N.id,N.target,N[Mg],N[$C],N.success,N.responseCode,U,N.type,N.correlationContext,D,_),fe=new VC(NB[Gh],oe);return t3(g,NB[YC],y,fe)}o(NWe,"DependencyEnvelopeCreator");function Nue(g,y,T){r3(g,y);var _={},D={};y[zj]!==jx[Gh]&&(_.baseTypeSource=y[zj]),y[zj]===jx[Gh]?(_=y[us][ol]||{},D=y[us][zC]||{}):y[us]&&F2(y[us],_,D),F2(y[cu],_,D),J(T)||e3(_,T);var N=y[us][Mg],U=new jx(g,N,_,D),oe=new VC(jx[Gh],U);return t3(g,jx[YC],y,oe)}o(Nue,"EventEnvelopeCreator");function LWe(g,y,T){r3(g,y);var _=y[us][zC]||{},D=y[us][ol]||{};F2(y[cu],D,_),J(T)||e3(D,T);var N=y[us],U=PB.CreateFromInterface(g,N,D,_),oe=new VC(PB[Gh],U);return t3(g,PB[YC],y,oe)}o(LWe,"ExceptionEnvelopeCreator");function QWe(g,y,T){r3(g,y);var _=y[us],D=_[ol]||{},N=_[zC]||{};F2(y[cu],D,N),J(T)||e3(D,T);var U=new Y9(g,_[Mg],_.average,_.sampleCount,_.min,_.max,_.stdDev,D,N),oe=new VC(Y9[Gh],U);return t3(g,Y9[YC],y,oe)}o(QWe,"MetricEnvelopeCreator");function MWe(g,y,T){r3(g,y);var _,D=y[us];!J(D)&&!J(D[ol])&&!J(D[ol][$C])?(_=D[ol][$C],delete D[ol][$C]):!J(y[cu])&&!J(y[cu][$C])&&(_=y[cu][$C],delete y[cu][$C]);var N=y[us],U;((y.ext||{}).trace||{})[Z9]&&(U=y.ext.trace[Z9]);var oe=N.id||U,fe=N[Mg],Ee=N.uri,_e=N[ol]||{},qe=N[zC]||{};if(J(N.refUri)||(_e.refUri=N.refUri),J(N.pageType)||(_e.pageType=N.pageType),J(N.isLoggedIn)||(_e.isLoggedIn=N.isLoggedIn[KC]()),!J(N[ol])){var Xe=N[ol];te(Xe,function(ht,lt){_e[ht]=lt})}F2(y[cu],_e,qe),J(T)||e3(_e,T);var Ge=new FB(g,fe,Ee,_,_e,qe,oe),ze=new VC(FB[Gh],Ge);return t3(g,FB[YC],y,ze)}o(MWe,"PageViewEnvelopeCreator");function OWe(g,y,T){r3(g,y);var _=y[us],D=_[Mg],N=_.uri||_.url,U=_[ol]||{},oe=_[zC]||{};F2(y[cu],U,oe),J(T)||e3(U,T);var fe=new QB(g,D,N,void 0,U,oe,_),Ee=new VC(QB[Gh],fe);return t3(g,QB[YC],y,Ee)}o(OWe,"PageViewPerformanceEnvelopeCreator");function UWe(g,y,T){r3(g,y);var _=y[us].message,D=y[us].severityLevel,N=y[us][ol]||{},U=y[us][zC]||{};F2(y[cu],N,U),J(T)||e3(N,T);var oe=new LB(g,_,D,N,U),fe=new VC(LB[Gh],oe);return t3(g,LB[YC],y,fe)}o(UWe,"TraceEnvelopeCreator");var Lue=function(){function g(y,T){var _=[],D=!1,N=T.maxRetryCnt;this._get=function(){return _},this._set=function(U){return _=U,_},Bl(g,this,function(U){U[JC]=function(oe){if(U[XC]()>=T.eventsLimitInMem){D||(Dr(y,2,105,"Maximum in-memory buffer size reached: "+U[XC](),!0),D=!0);return}oe.cnt=oe.cnt||0,!(!J(N)&&oe.cnt>N)&&_[Og](oe)},U[XC]=function(){return _[ai]},U.size=function(){for(var oe=_[ai],fe=0;fe<_[ai];fe++)oe+=_[fe].item[ai];return T[Mj]||(oe+=2),oe},U[Yx]=function(){_=[],D=!1},U.getItems=function(){return _.slice(0)},U.batchPayloads=function(oe){if(oe&&oe[ai]>0){var fe=[];Vr(oe,function(_e){fe[Og](_e.item)});var Ee=T[Mj]?fe.join(`
`):"["+fe.join(",")+"]";return Ee}return null},U.createNew=function(oe,fe,Ee){var _e=_.slice(0);oe=oe||y,fe=fe||{};var qe=Ee?new Que(oe,fe):new Yj(oe,fe);return Vr(_e,function(Xe){qe[JC](Xe)}),qe}})}return o(g,"BaseSendBuffer"),g.__ieDyn=1,g}(),Yj=function(g){AC(y,g);function y(T,_){var D=g.call(this,T,_)||this;return Bl(y,D,function(N,U){N[OB]=function(oe){U[Yx]()},N[t7]=function(oe){}}),D}return o(y,"ArraySendBuffer"),y.__ieDyn=1,y}(Lue),qWe=["AI_buffer","AI_sentBuffer"],Que=function(g){AC(y,g);function y(_,D){var N=g.call(this,_,D)||this,U=!1,oe=D?.namePrefix,fe=D[Oj]||{getItem:eWe,setItem:tWe},Ee=fe.getItem,_e=fe.setItem,qe=D.maxRetryCnt;return Bl(y,N,function(Xe,Ge){var ze=wr(y[r7]),ht=wr(y[P2]),lt=mi(),It=ht[Kx](lt),Vt=Xe._set(ze[Kx](It));Vt[ai]>y[n7]&&(Vt[ai]=y[n7]),di(y[P2],[]),di(y[r7],Vt),Xe[JC]=function(sn){if(Xe[XC]()>=y[n7]){U||(Dr(_,2,67,"Maximum buffer size reached: "+Xe[XC](),!0),U=!0);return}sn.cnt=sn.cnt||0,!(!J(qe)&&sn.cnt>qe)&&(Ge[JC](sn),di(y[r7],Xe._get()))},Xe[Yx]=function(){Ge[Yx](),di(y[r7],Xe._get()),di(y[P2],[]),U=!1},Xe[OB]=function(sn){di(y[r7],Xe._set(fr(sn,Xe._get())));var Wr=wr(y[P2]);Wr instanceof Array&&sn instanceof Array&&(Wr=Wr[Kx](sn),Wr[ai]>y[n7]&&(Dr(_,1,67,"Sent buffer reached its maximum size: "+Wr[ai],!0),Wr[ai]=y[n7]),di(y[P2],Wr))},Xe[t7]=function(sn){var Wr=wr(y[P2]);Wr=fr(sn,Wr),di(y[P2],Wr)},Xe.createNew=function(sn,Wr,hi){hi=!!hi;var ds=Xe._get().slice(0),wo=wr(y[P2]).slice(0);sn=sn||_,Wr=Wr||{},Xe[Yx]();var Yt=hi?new y(sn,Wr):new Yj(sn,Wr);return Vr(ds,function(Gr){Yt[JC](Gr)}),hi&&Yt[OB](wo),Yt};function fr(sn,Wr){var hi=[],ds=[];return Vr(sn,function(wo){ds[Og](wo.item)}),Vr(Wr,function(wo){!Re(wo)&&k0(ds,wo.item)===-1&&hi[Og](wo)}),hi}o(fr,"_removePayloadsFromBuffer");function wr(sn){var Wr=sn;return Wr=oe?oe+"_"+Wr:Wr,Pn(Wr)}o(wr,"_getBuffer");function Pn(sn){try{var Wr=Ee(_,sn);if(Wr){var hi=D0().parse(Wr);if(ce(hi)&&(hi=D0().parse(hi)),hi&&Ue(hi))return hi}}catch(ds){Dr(_,1,42," storage key: "+sn+", "+Ha(ds),{exception:At(ds)})}return[]}o(Pn,"_getBufferBase");function di(sn,Wr){var hi=sn;try{hi=oe?oe+"_"+hi:hi;var ds=JSON[e7](Wr);_e(_,hi,ds)}catch(wo){_e(_,hi,JSON[e7]([])),Dr(_,2,41," storage key: "+hi+", "+Ha(wo)+". Buffer cleared",{exception:At(wo)})}}o(di,"_setBuffer");function mi(){var sn=[];try{return Vr(qWe,function(Wr){var hi=ro(Wr);if(sn=sn[Kx](hi),oe){var ds=oe+"_"+Wr,wo=ro(ds);sn=sn[Kx](wo)}}),sn}catch(Wr){Dr(_,2,41,"Transfer events from previous buffers: "+Ha(Wr)+". previous Buffer items can not be removed",{exception:At(Wr)})}return[]}o(mi,"_getPreviousEvents");function ro(sn){try{var Wr=Pn(sn),hi=[];return Vr(Wr,function(ds){var wo={item:ds,cnt:0};hi[Og](wo)}),rWe(_,sn),hi}catch{}return[]}o(ro,"_getItemsFromPreviousKey")}),N}o(y,"SessionStorageSendBuffer");var T;return T=y,y.VERSION="_1",y.BUFFER_KEY="AI_buffer"+T.VERSION,y.SENT_BUFFER_KEY="AI_sentBuffer"+T.VERSION,y.MAX_BUFFER_SIZE=2e3,y}(Lue),WWe=function(){function g(y){Bl(g,this,function(T){T.serialize=function(U){var oe=_(U,"root");try{return D0()[e7](oe)}catch(fe){Dr(y,1,48,fe&&Re(fe[KC])?fe[KC]():"Error serializing object",null,!0)}};function _(U,oe){var fe="__aiCircularRefCheck",Ee={};if(!U)return Dr(y,1,48,"cannot serialize object because it is null or undefined",{name:oe},!0),Ee;if(U[fe])return Dr(y,2,50,"Circular reference detected while serializing object",{name:oe},!0),Ee;if(!U.aiDataContract){if(oe==="measurements")Ee=N(U,"number",oe);else if(oe==="properties")Ee=N(U,"string",oe);else if(oe==="tags")Ee=N(U,"string",oe);else if(Ue(U))Ee=D(U,oe);else{Dr(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:oe},!0);try{D0()[e7](U),Ee=U}catch(_e){Dr(y,1,48,_e&&Re(_e[KC])?_e[KC]():"Error serializing object",null,!0)}}return Ee}return U[fe]=!0,te(U.aiDataContract,function(_e,qe){var Xe=Re(qe)?qe()&1:qe&1,Ge=Re(qe)?qe()&4:qe&4,ze=qe&2,ht=U[_e]!==void 0,lt=ve(U[_e])&&U[_e]!==null;if(Xe&&!ht&&!ze)Dr(y,1,24,"Missing required field specification. The field is required but not present on source",{field:_e,name:oe});else if(!Ge){var It=void 0;lt?ze?It=D(U[_e],_e):It=_(U[_e],_e):It=U[_e],It!==void 0&&(Ee[_e]=It)}}),delete U[fe],Ee}o(_,"_serializeObject");function D(U,oe){var fe;if(U)if(!Ue(U))Dr(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:oe},!0);else{fe=[];for(var Ee=0;Ee<U[ai];Ee++){var _e=U[Ee],qe=_(_e,oe+"["+Ee+"]");fe[Og](qe)}}return fe}o(D,"_serializeArray");function N(U,oe,fe){var Ee;return U&&(Ee={},te(U,function(_e,qe){if(oe==="string")qe===void 0?Ee[_e]="undefined":qe===null?Ee[_e]="null":qe[KC]?Ee[_e]=qe[KC]():Ee[_e]="invalid field: toString() is not defined.";else if(oe==="number")if(qe===void 0)Ee[_e]="undefined";else if(qe===null)Ee[_e]="null";else{var Xe=parseFloat(qe);Ee[_e]=Xe}else Ee[_e]="invalid field: "+fe+" is of unknown type.",Dr(y,1,Ee[_e],null,!0)})),Ee}o(N,"_serializeStringMap")})}return o(g,"Serializer"),g.__ieDyn=1,g}(),GWe=8,HWe=function(){function g(){}return o(g,"HashCodeScoreGenerator"),g.prototype.getHashCodeScore=function(y){var T=this.getHashCode(y)/g.INT_MAX_VALUE;return T*100},g.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[ai]<GWe;)y=y[Kx](y);for(var T=5381,_=0;_<y[ai];++_)T=(T<<5)+T+y.charCodeAt(_),T=T&T;return Math.abs(T)},g.INT_MAX_VALUE=2147483647,g}(),VWe=function(){function g(){var y=this,T=new HWe,_=new Sue;y.getSamplingScore=function(D){var N=0;return D[Dl]&&D[Dl][_.userId]?N=T.getHashCodeScore(D[Dl][_.userId]):D.ext&&D.ext.user&&D.ext.user.id?N=T[DWe](D.ext.user.id):D[Dl]&&D[Dl][_.operationId]?N=T.getHashCodeScore(D[Dl][_.operationId]):D.ext&&D.ext.telemetryTrace&&D.ext.telemetryTrace[Z9]?N=T.getHashCodeScore(D.ext.telemetryTrace[Z9]):N=Math.random()*100,N}}return o(g,"SamplingScoreGenerator"),g}(),jWe=function(){function g(y,T){this.INT_MAX_VALUE=2147483647;var _=T||FC(null);(y>100||y<0)&&(_.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[WB]=y,this.samplingScoreGenerator=new VWe}return o(g,"Sample"),g.prototype.isSampledIn=function(y){var T=this[WB],_=!1;return T==null||T>=100||y.baseType===Y9[Gh]?!0:(_=this.samplingScoreGenerator.getSamplingScore(y)<T,_)},g}(),Go,Ug,Vh=void 0,Mue="",$We=65e3;function Oue(g){try{return g.responseText}catch{}return null}o(Oue,"_getResponseText");function zWe(g){return g&&g.sendPOST}o(zWe,"isOverrideFn");var Uue=St((Go={endpointUrl:R9(ie,vj+Wx)},Go[Mj]=bf(),Go.maxBatchInterval=15e3,Go[kue]=102400,Go.disableTelemetry=bf(),Go[Rue]=bf(!0),Go.isRetryDisabled=bf(),Go[Gj]=bf(!0),Go[Pue]=bf(!0),Go.disableXhr=bf(),Go[Due]=bf(),Go[Wj]=bf(),Go[a7]=Vh,Go.namePrefix=Vh,Go.samplingPercentage=R9(YWe,100),Go[qj]=Vh,Go.convertUndefined=Vh,Go.eventsLimitInMem=1e4,Go[Oj]=!1,Go.httpXHROverride={isVal:zWe,v:Vh},Go[Bue]=bf(),Go.transports=Vh,Go.retryCodes=Vh,Go.maxRetryCnt={isVal:Je,v:10},Go));function YWe(g){return!isNaN(g)&&g>0&&g<=100}o(YWe,"_chkSampling");var KWe=(Ug={},Ug[jx.dataType]=Nue,Ug[LB.dataType]=UWe,Ug[FB.dataType]=MWe,Ug[QB.dataType]=OWe,Ug[PB.dataType]=LWe,Ug[Y9.dataType]=QWe,Ug[NB.dataType]=NWe,Ug),que=function(g){AC(y,g);function y(){var T=g.call(this)||this;T.priority=1001,T.identifier=RWe;var _,D,N,U,oe,fe,Ee,_e=0,qe,Xe,Ge,ze,ht,lt,It,Vt,fr,wr,Pn,di,mi,ro,sn,Wr,hi,ds,wo,Yt,Gr,ji,Dt,yn,ks,no,sl;return Bl(y,T,function(dt,xa){Gue(),dt.pause=function(){M2(),N=!0},dt.resume=function(){N&&(N=!1,D=null,po(),eb())},dt.flush=function(je,bt,pr){if(je===void 0&&(je=!0),!N){M2();try{return dt[i7](je,null,pr||1)}catch(Lr){Dr(dt[i0](),1,22,"flush failed, telemetry will not be collected: "+Ha(Lr),{exception:At(Lr)})}}},dt.onunloadFlush=function(){if(!N)if(It||Yt)try{return dt[i7](!0,yc,2)}catch(je){Dr(dt[i0](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Ha(je),{exception:At(je)})}else dt.flush(!1)},dt.addHeader=function(je,bt){Ee[je]=bt},dt[Uj]=function(je,bt,pr,Lr){dt.isInitialized()&&Dr(dt[i0](),1,28,"Sender is already initialized"),xa[Uj](je,bt,pr,Lr);var vn=dt.identifier;oe=new WWe(bt.logger),_=0,D=null,dt[o7]=null,fe=0;var ln=dt[i0]();Ge=Zce(Zd("Sender"),bt.evtNamespace&&bt.evtNamespace()),Xe=BWe(Ge),dt._addHook(em(je,function(Ni){var ia=Ni.cfg;ia.storagePrefix&&Zqe(ia.storagePrefix);var uu=w2(null,ia,bt),Yn=uu.getExtCfg(vn,Uue),Hue=Yn[s7];if(ze&&Hue===ze){var Xj=ia[s7];Xj&&Xj!==Hue&&(Yn[s7]=Xj)}at(Yn[a7])&&(Yn[a7]=ia[a7]),Oe(dt,"_senderConfig",{g:o(function(){return Yn},"g")}),ht!==Yn[s7]&&(ze=ht=Yn[s7]),bt.activeStatus()===Th.PENDING?dt.pause():bt.activeStatus()===Th.ACTIVE&&dt.resume(),wr&&wr!==Yn[qj]&&Vr(wr,function(Fl){delete Ee[Fl.header]}),lt=Yn[kue],It=(Yn[Wj]===!1||Yn[Gj]===!1)&&Fh(),Vt=Yn[Wj]===!1&&Fh(),fr=Yn[Gj]===!1&&Fh(),Yt=Yn[Bue],Gr=!!Yn.disableXhr,sl=Yn.retryCodes;var Zj=Yn[Oj],tb=!!Yn[Rue]&&(!!Zj||mue()),Vue=Yn.namePrefix,eGe=tb!==Wr||tb&&ds!==Vue||tb&&hi!==Zj;if(dt[Hh]){if(eGe)try{dt[Hh]=dt[Hh].createNew(ln,Yn,tb)}catch(Fl){Dr(dt[i0](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Ha(Fl),{exception:At(Fl)})}po()}else dt[Hh]=tb?new Que(ln,Yn):new Yj(ln,Yn);ds=Vue,Wr=tb,hi=Zj,ji=!Yn[Due]&&kC(!0),ks=!!Yn[Pue],dt._sample=new jWe(Yn.samplingPercentage,ln),di=Yn[a7],!at(di)&&!Wue(di,ia)&&Dr(ln,1,100,"Invalid Instrumentation key "+di),wr=Yn[qj],ce(ze)&&!uue(ze)&&wr&&wr[ai]>0?Vr(wr,function(Fl){T.addHeader(Fl.header,Fl.value)}):wr=null,wo=Yn.enableSendPromise;var jue=al();no?no.SetConfig(jue):(no=new Ea,no[Uj](jue,ln));var jB=Yn.httpXHROverride,$B=null,f7=null,tGe=qk([3,1,2],Yn.transports);$B=no&&no[UB](tGe,!1);var e$=no&&no.getFallbackInst();Dt=o(function(Fl,n3){return Mr(e$,Fl,n3)},"_xhrSend"),yn=o(function(Fl,n3){return Mr(e$,Fl,n3,!1)},"_fallbackSend"),$B=Yt?jB:$B||jB||e$,dt[o7]=function(Fl,n3){return Mr($B,Fl,n3)},ji&&(qe=Zx);var t$=qk([3,1],Yn.unloadTransports);ji||(t$=t$.filter(function(Fl){return Fl!==2})),f7=no&&no[UB](t$,!0),f7=Yt?jB:f7||jB,(Yt||Yn.unloadTransports||!qe)&&f7&&(qe=o(function(Fl,n3){return Mr(f7,Fl,n3)},"_syncUnloadSender")),qe||(qe=Dt),Pn=Yn.disableTelemetry,mi=Yn.convertUndefined||Vh,ro=Yn.isRetryDisabled,sn=Yn.maxBatchInterval}))},dt.processTelemetry=function(je,bt){bt=dt._getTelCtx(bt);var pr=bt[i0]();try{var Lr=nm(je,pr);if(!Lr)return;var vn=Q2(je,pr);if(!vn)return;var ln=oe.serialize(vn),Ni=dt[Hh];po(ln);var ia={item:ln,cnt:0};Ni[JC](ia),eb()}catch(uu){Dr(pr,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Ha(uu),{exception:At(uu)})}dt.processNext(je,bt)},dt.isCompletelyIdle=function(){return!N&&_e===0&&dt._buffer[XC]()===0},dt.getOfflineListener=function(){return Xe},dt._xhrReadyStateChange=function(je,bt,pr){if(!om(bt))return wf(je,bt,pr)},dt[i7]=function(je,bt,pr){je===void 0&&(je=!0);var Lr;if(!N)try{var vn=dt[Hh];if(Pn)vn[Yx]();else if(vn[XC]()>0){var ln=vn.getItems();VB(pr||0,je),bt?Lr=bt.call(dt,ln,je):Lr=dt[o7](ln,je)}M2()}catch(ia){var Ni=u2();(!Ni||Ni>9)&&Dr(dt[i0](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Ha(ia),{exception:At(ia)})}return Lr},dt.getOfflineSupport=function(){return{getUrl:o(function(){return ze},"getUrl"),createPayload:gt,serialize:ms,batch:Pl,shouldProcess:o(function(je){return!!nm(je)},"shouldProcess")}},dt._doTeardown=function(je,bt){dt.onunloadFlush(),y2(Xe,!1),Gue()},dt[ZC]=function(je,bt,pr){if(!om(je))return F0(je,bt)},dt[Hj]=function(je,bt){if(!om(je))return N2(je,bt)},dt[qB]=function(je,bt){if(!om(je))return rm(je)},dt._xdrOnLoad=function(je,bt){if(!om(bt))return Bs(je,bt)};function Bs(je,bt){var pr=Oue(je);if(je&&(pr+""=="200"||pr===""))_=0,dt[qB](bt,0);else{var Lr=Qr(pr);Lr&&Lr[Vj]&&Lr[Vj]>Lr[jj]&&!ro?dt[Hj](bt,Lr):dt[ZC](bt,Uk(je))}}o(Bs,"_xdrOnLoad");function al(){try{var je={xdrOnComplete:o(function(pr,Lr,vn){var ln=L2(vn);if(ln)return Bs(pr,ln)},"xdrOnComplete"),fetchOnComplete:o(function(pr,Lr,vn,ln){var Ni=L2(ln);if(Ni)return Ho(pr.status,Ni,pr.url,Ni[ai],pr.statusText,vn||"")},"fetchOnComplete"),xhrOnComplete:o(function(pr,Lr,vn){var ln=L2(vn);if(ln)return wf(pr,ln,ln[ai])},"xhrOnComplete"),beaconOnRetry:o(function(pr,Lr,vn){return im(pr,Lr,vn)},"beaconOnRetry")},bt={enableSendPromise:wo,isOneDs:!1,disableCredentials:!1,disableXhr:Gr,disableBeacon:!fr,disableBeaconSync:!Vt,senderOnCompleteCallBack:je};return bt}catch{}return null}o(al,"_getSendPostMgrConfig");function wf(je,bt,pr){je.readyState===4&&Ho(je.status,bt,je.responseURL,pr,xx(je),Oue(je)||je.response)}o(wf,"_xhrReadyStateChange");function F0(je,bt,pr){Dr(dt[i0](),2,26,"Failed to send telemetry.",{message:bt}),dt._buffer&&dt._buffer[t7](je)}o(F0,"_onError");function N2(je,bt){for(var pr=[],Lr=[],vn=bt.errors.reverse(),ln=0,Ni=vn;ln<Ni.length;ln++){var ia=Ni[ln],uu=je.splice(ia.index,1)[0];O2(ia.statusCode)?Lr[Og](uu):pr[Og](uu)}je[ai]>0&&dt[qB](je,bt[jj]),pr[ai]>0&&dt[ZC](pr,xx(null,["partial success",bt[jj],"of",bt.itemsReceived].join(" "))),Lr[ai]>0&&(u7(Lr),Dr(dt[i0](),2,40,"Partial success. Delivered: "+je[ai]+", Failed: "+pr[ai]+". Will retry to send "+Lr[ai]+" our of "+bt[Vj]+" items"))}o(N2,"_onPartialSuccess");function rm(je,bt){dt._buffer&&dt._buffer[t7](je)}o(rm,"_onSuccess");function L2(je){try{if(je){var bt=je,pr=bt.oriPayload;return pr&&pr[ai]?pr:null}}catch{}return null}o(L2,"_getPayloadArr");function nm(je,bt){if(Pn)return!1;if(!je)return bt&&Dr(bt,1,7,"Cannot send empty telemetry"),!1;if(je.baseData&&!je[$j])return bt&&Dr(bt,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(je[$j]||(je[$j]="EventData"),!dt[o7])return bt&&Dr(bt,1,28,"Sender was not initialized"),!1;if(Tr(je))je[tue]=dt._sample[WB];else return bt&&Dr(bt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:dt._sample[WB]}),!1;return!0}o(nm,"_validate");function Q2(je,bt){var pr=je.iKey||di,Lr=y.constructEnvelope(je,pr,bt,mi);if(!Lr){Dr(bt,1,47,"Unable to create an AppInsights envelope");return}var vn=!1;if(je[Dl]&&je[Dl][bj]&&(Vr(je[Dl][bj],function(ln){try{ln&&ln(Lr)===!1&&(vn=!0,Dx(bt,"Telemetry processor check returns false"))}catch(Ni){Dr(bt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Ha(Ni),{exception:At(Ni)},!0)}}),delete je[Dl][bj]),!vn)return Lr}o(Q2,"_getEnvelope");function ms(je){var bt=Mue,pr=dt[i0]();try{var Lr=nm(je,pr),vn=null;Lr&&(vn=Q2(je,pr)),vn&&(bt=oe.serialize(vn))}catch{}return bt}o(ms,"_serialize");function Pl(je){var bt=Mue;return je&&je[ai]&&(bt="["+je.join(",")+"]"),bt}o(Pl,"_batch");function gt(je){var bt=uo();return{urlString:ze,data:je,headers:bt}}o(gt,"_createPayload");function Tr(je){return dt._sample.isSampledIn(je)}o(Tr,"_isSampledIn");function xn(je,bt,pr,Lr){bt===200&&je?dt._onSuccess(je,je[ai]):Lr&&dt[ZC](je,Lr)}o(xn,"_getOnComplete");function Mr(je,bt,pr,Lr){Lr===void 0&&(Lr=!0);var vn=o(function(ia,uu,Yn){return xn(bt,ia,uu,Yn)},"onComplete"),ln=bn(bt),Ni=je&&je.sendPOST;return Ni&&ln?(Lr&&dt._buffer[OB](bt),Ni(ln,vn,!pr)):null}o(Mr,"_doSend");function bn(je){if(Ue(je)&&je[ai]>0){var bt=dt[Hh].batchPayloads(je),pr=uo(),Lr={data:bt,urlString:ze,headers:pr,disableXhrSync:Gr,disableFetchKeepAlive:!ji,oriPayload:je};return Lr}return null}o(bn,"_getPayload");function uo(){try{var je=Ee||{};return uue(ze)&&(je[nue[6]]=nue[7]),je}catch{}return null}o(uo,"_getHeaders");function po(je){var bt=je?je[ai]:0;return dt[Hh].size()+bt>lt?((!Xe||Xe.isOnline())&&dt[i7](!0,null,10),!0):!1}o(po,"_checkMaxSize");function Ho(je,bt,pr,Lr,vn,ln){var Ni=null;if(dt._appId||(Ni=Qr(ln),Ni&&Ni.appId&&(dt._appId=Ni.appId)),(je<200||je>=300)&&je!==0){if((je===301||je===307||je===308)&&!o0(pr)){dt[ZC](bt,vn);return}if(Xe&&!Xe.isOnline()){if(!ro){var ia=10;u7(bt,ia),Dr(dt[i0](),2,40,". Offline - Response Code: ".concat(je,". Offline status: ").concat(!Xe.isOnline(),". Will retry to send ").concat(bt.length," items."))}return}!ro&&O2(je)?(u7(bt),Dr(dt[i0](),2,40,". Response code "+je+". Will retry to send "+bt[ai]+" items.")):dt[ZC](bt,vn)}else o0(pr),je===206?(Ni||(Ni=Qr(ln)),Ni&&!ro?dt[Hj](bt,Ni):dt[ZC](bt,vn)):(_=0,dt[qB](bt,Lr))}o(Ho,"_checkResponsStatus");function o0(je){return fe>=10?!1:!J(je)&&je!==""&&je!==ze?(ze=je,++fe,!0):!1}o(o0,"_checkAndUpdateEndPointUrl");function yc(je,bt){if(qe)qe(je,!1);else{var pr=no&&no[UB]([3],!0);return Mr(pr,je,bt)}}o(yc,"_doUnloadSend");function im(je,bt,pr){var Lr=je,vn=Lr&&Lr.oriPayload;if(ks)yn&&yn(vn,!0),Dr(dt[i0](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var ln=[],Ni=0;Ni<vn[ai];Ni++){var ia=vn[Ni],uu=[ia],Yn=bn(uu);pr(Yn,bt)?dt._onSuccess(uu,uu[ai]):ln[Og](ia)}ln[ai]>0&&(yn&&yn(ln,!0),Dr(dt[i0](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(im,"_onBeaconRetry");function om(je){try{if(je&&je[ai])return ce(je[0])}catch{}return null}o(om,"_isStringArr");function Zx(je,bt){var pr=null;if(Ue(je)){for(var Lr=je[ai],vn=0;vn<je[ai];vn++)Lr+=je[vn].item[ai];var ln=no.getSyncFetchPayload();ln+Lr<=$We?pr=2:Fh()?pr=3:(pr=1,Dr(dt[i0](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Ni=no&&no[UB]([pr],!0);return Mr(Ni,je,bt)}return null}o(Zx,"_fetchKeepAliveSender");function u7(je,bt){if(bt===void 0&&(bt=1),!(!je||je[ai]===0)){var pr=dt[Hh];pr[t7](je),_++;for(var Lr=0,vn=je;Lr<vn.length;Lr++){var ln=vn[Lr];ln.cnt=ln.cnt||0,ln.cnt++,pr[JC](ln)}Jj(bt),eb()}}o(u7,"_resendPayload");function Jj(je){var bt=10,pr;if(_<=1)pr=bt;else{var Lr=(Math.pow(2,_)-1)/2,vn=Ag(Math.random()*Lr*bt)+1;vn=je*vn,pr=be(ur(vn,3600),bt)}var ln=Ch()+pr*1e3;D=ln}o(Jj,"_setRetryTime");function eb(){if(!U&&!N){var je=D?be(0,D-Ch()):0,bt=be(sn,je);U=bh(function(){U=null,dt[i7](!0,null,1)},bt)}}o(eb,"_setupTimer");function M2(){U&&U.cancel(),U=null,D=null}o(M2,"_clearScheduledTimer");function O2(je){return J(sl)?je===401||je===408||je===429||je===500||je===502||je===503||je===504:sl[ai]&&sl.indexOf(je)>-1}o(O2,"_isRetriable");function HB(){var je="getNotifyMgr";return dt.core[je]?dt.core[je]():dt.core._notificationManager}o(HB,"_getNotifyMgr");function VB(je,bt){var pr=HB();if(pr&&pr.eventsSendRequest)try{pr.eventsSendRequest(je,bt)}catch(Lr){Dr(dt[i0](),1,74,"send request notification failed: "+Ha(Lr),{exception:At(Lr)})}}o(VB,"_notifySendRequest");function Wue(je,bt){var pr=bt.disableInstrumentationKeyValidation,Lr=J(pr)?!1:pr;if(Lr)return!0;var vn="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",ln=new RegExp(vn);return ln.test(je)}o(Wue,"_validateInstrumentationKey");function Gue(){dt[o7]=null,dt[Hh]=null,dt._appId=null,dt._sample=null,Ee={},Xe=null,_=0,D=null,N=!1,U=null,oe=null,fe=0,_e=0,qe=null,Ge=null,ze=null,ht=null,lt=0,It=!1,wr=null,Pn=!1,di=null,mi=Vh,ro=!1,Wr=null,ds=Vh,Gr=!1,ji=!1,ks=!1,Dt=null,yn=null,no=null,Oe(dt,"_senderConfig",{g:o(function(){return Ok({},Uue)},"g")})}o(Gue,"_initDefaults")}),T}return o(y,"Sender"),y.constructEnvelope=function(T,_,D,N){var U;_!==T.iKey&&!J(_)?U=jd(jd({},T),{iKey:_}):U=T;var oe=KWe[U.baseType]||Nue;return oe(D,U,N)},y}(Et),Jx="instrumentationKey",GB="connectionString",l7="endpointUrl",c7="userOverrideEndpointUrl",Xx,Kj=void 0,JWe=(Xx={diagnosticLogInterval:R9(XWe,1e4)},Xx[GB]=Kj,Xx.endpointUrl=Kj,Xx[Jx]=Kj,Xx.extensionConfig={},Xx);function XWe(g){return g&&g>0}o(XWe,"_chkDiagLevel");var ZWe=function(){function g(y){var T=new Ft,_;(J(y)||J(y[Jx])&&J(y[GB]))&&Ht("Invalid input configuration"),Bl(g,this,function(N){Oe(N,"config",{g:o(function(){return _},"g")}),U(),N.initialize=U,N.track=D,g9(N,T,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function U(){var oe=Ac(y||{},JWe);_=oe.cfg,T.addUnloadHook(em(oe,function(){var fe=_[GB];if(at(fe)){var Ee=dx(function(Ge,ze){dc(fe,function(ht){var lt=ht.value,It=_[Jx];if(!ht.rejected&&lt){_[GB]=lt;var Vt=Rj(lt);It=Vt.instrumentationkey||It}Ge(It)})}),_e=dx(function(Ge,ze){dc(fe,function(ht){var lt=ht.value,It=_[l7];if(!ht.rejected&&lt){var Vt=Rj(lt),fr=Vt.ingestionendpoint;It=fr?fr+Wx:It}Ge(It)})});_[Jx]=Ee,_[l7]=_[c7]||_e}if(ce(fe)){var qe=Rj(fe),Xe=qe.ingestionendpoint;_[l7]=_[c7]?_[c7]:Xe+Wx,_[Jx]=qe.instrumentationkey||_[Jx]}_[l7]=_[c7]?_[c7]:_[l7]})),T.initialize(_,[new que])}o(U,"_initialize")});function D(N){N&&(N.baseData=N.baseData||{},N.baseType=N.baseType||"EventData"),T.track(N)}o(D,"_track")}return o(g,"ApplicationInsights"),g.__ieDyn=1,g}();e.AppInsightsCore=Ft,e.ApplicationInsights=ZWe,e.Sender=que,e.SeverityLevel=kWe,e.arrForEach=Vr,e.isNullOrUndefined=J,e.proxyFunctions=g9,e.throwError=Ht})});var gJ=V((wfr,Jye)=>{"use strict";d();Jye.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var Zye=V((kfr,Xye)=>{"use strict";d();var Cit=gJ();function Eit(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=Cit(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(Eit,"parsePath");Xye.exports=Eit});var oCe=V((Dfr,iCe)=>{"use strict";d();var xit=Zye();function bit(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(bit,"_interopDefaultLegacy");var vit=bit(xit);function Iit(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=o(function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)},"a");r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:o(function(){return e[n]},"get")})}),r}o(Iit,"getAugmentedNamespace");var tCe={},Tit="text/plain",wit="us-ascii",eCe=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),Sit=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:s}=r.groups,a=n.split(";");s=t?"":s;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let c=(a.shift()||"").toLowerCase(),f=[...a.map(m=>{let[h,p=""]=m.split("=").map(A=>A.trim());return h==="charset"&&(p=p.toLowerCase(),p===wit)?"":`${h}${p?`=${p}`:""}`}).filter(Boolean)];return l&&f.push("base64"),(f.length>0||c&&c!==Tit)&&f.unshift(c),`data:${f.join(";")},${l?i.trim():i}${s?`#${s}`:""}`},"normalizeDataURL");function _it(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return Sit(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let f=a.exec(i.pathname);if(!f)break;let m=f[0],h=f.index,p=i.pathname.slice(l,h);c+=p.replace(/\/{2,}/g,"/"),c+=m,l=h+m.length}let u=i.pathname.slice(l,i.pathname.length);c+=u.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];eCe(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])eCe(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(_it,"normalizeUrl");var kit=Object.freeze({__proto__:null,default:_it}),Bit=Iit(kit);Object.defineProperty(tCe,"__esModule",{value:!0});var Rit=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dit=Bit,Pit=rCe(Dit),Fit=vit.default,Nit=rCe(Fit);function rCe(e){return e&&e.__esModule?e:{default:e}}o(rCe,"_interopRequireDefault");var nCe=o(function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,i=o(function(c){var u=new Error(c);throw u.subject_url=t,u},"throwErr");(typeof t!="string"||!t.trim())&&i("Invalid url."),t.length>e.MAX_INPUT_LENGTH&&i("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":Rit(r))!=="object"&&(r={stripHash:!1}),t=(0,Pit.default)(t,r));var s=(0,Nit.default)(t);if(s.parse_failed){var a=s.href.match(n);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname="/"+a[3],s.parse_failed=!1):i("URL parsing failed.")}return s},"parseUrl");nCe.MAX_INPUT_LENGTH=2048;var Lit=tCe.default=nCe;iCe.exports=Lit});var lCe=V((Nfr,aCe)=>{"use strict";d();var Qit=gJ();function sCe(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=Qit(e);if(e=e.substring(e.indexOf("://")+3),sCe(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(sCe,"isSsh");aCe.exports=sCe});var fCe=V((Mfr,uCe)=>{"use strict";d();var Mit=oCe(),cCe=lCe();function Oit(e){var t=Mit(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),cCe(t.protocols)||t.protocols.length===0&&cCe(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(Oit,"gitUp");uCe.exports=Oit});var mCe=V((qfr,dCe)=>{"use strict";d();var Uit=fCe();function AJ(e,t){if(t=t||[],typeof e!="string")throw new Error("The url must be a string.");if(!t.every(function(v){return typeof v=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(e)&&(e="https://github.com/"+e);var n=Uit(e),i=n.resource.split("."),s=null;switch(n.toString=function(v){return AJ.stringify(this,v)},n.source=i.length>2?i.slice(1-i.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=i[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3],n.full_name=s[2]+"/"+s[3]);break}else{s=n.name.split("/"),s.length===2?(n.owner=s[1],n.name=s[1],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3]);break}else{s=n.name.split("/"),s.length===5?(n.organization=s[0],n.owner=s[1],n.name=s[4],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:s=n.name.split("/");var a=s.length-1;if(s.length>=2){var l=s.indexOf("-",2),c=s.indexOf("blob",2),u=s.indexOf("tree",2),f=s.indexOf("commit",2),m=s.indexOf("issues",2),h=s.indexOf("src",2),p=s.indexOf("raw",2),A=s.indexOf("edit",2);a=l>0?l-1:c>0&&u>0?Math.min(c-1,u-1):c>0?c-1:m>0?m-1:u>0?u-1:f>0?f-1:h>0?h-1:p>0?p-1:A>0?A-1:a,n.owner=s.slice(0,a).join("/"),n.name=s[a],f&&m<0&&(n.commit=s[a+2])}n.ref="",n.filepathtype="",n.filepath="";var E=s.length>a&&s[a+1]==="-"?a+1:a;s.length>E+2&&["raw","src","blob","tree","edit"].indexOf(s[E+1])>=0&&(n.filepathtype=s[E+1],n.ref=s[E+2],s.length>E+3&&(n.filepath=s.slice(E+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var x=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,b=x.exec(n.pathname);return b!=null&&(n.source="bitbucket-server",b[1]==="users"?n.owner="~"+b[2]:n.owner=b[2],n.organization=n.owner,n.name=b[3],s=b[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(n.filepathtype=s[1],s.length>2&&(n.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(n.commit=s[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),t.length!==0&&n.ref&&(n.ref=Git(n.href,t)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}o(AJ,"gitUrlParse");AJ.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var s=e.token?qit(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+s+e.resource+r+"/"+Wit(e)+i;default:return e.href}};function qit(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(qit,"buildToken");function Wit(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var t=e.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return t}}o(Wit,"buildPath");function Git(e,t){var r="";return t.forEach(function(n){e.includes(n)&&n.length>r.length&&(r=n)}),r}o(Git,"findLongestMatchingSubstring");dCe.exports=AJ});var TCe=V(lp=>{"use strict";d();Object.defineProperty(lp,"__esModule",{value:!0});lp.bytePairEncode=lp.BinaryMap=lp.binaryMapKey=void 0;var sot=o((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),s=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return s+16777216*l},"binaryMapKey");lp.binaryMapKey=sot;var wJ=class e{static{o(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){let i=n<6+r,s=(0,lp.binaryMapKey)(t,r,n);return i?this.final.get(s):this.nested.get(s)?.get(t,6+r,n)}set(t,r){let n=(0,lp.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let s=this.nested.get(n);if(s instanceof e)s.set(t.subarray(6),r);else{let a=new e;a.set(t.subarray(6),r),this.nested.set(n,a)}}};lp.BinaryMap=wJ;var ap=new Int32Array(128),U0=new Int32Array(128);function aot(e,t,r){if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;ap.length<r*2;)U0=new Int32Array(U0.length*2),ap=new Int32Array(ap.length*2);for(let c=0;c<r-1;c++){let u=t.get(e,c,c+2)??2147483647;u<n&&(n=u,i=c),U0[c]=c,ap[c]=u}U0[r-1]=r-1,ap[r-1]=2147483647,U0[r]=r,ap[r]=2147483647;let s=r+1;function a(c,u=0){if(c+u+2<s){let f=t.get(e,U0[c],U0[c+u+2]);if(f!==void 0)return f}return 2147483647}for(o(a,"getRank");n!==2147483647;){ap[U0[i]]=a(i,1),i>0&&(ap[U0[i-1]]=a(i-1,1));for(let c=i+1;c<s-1;c++)U0[c]=U0[c+1];s--,i=-1,n=2147483647;for(let c=0;c<s-1;c++){let u=ap[U0[c]];ap[U0[c]]<n&&(n=u,i=c)}}let l=[];for(let c=0;c<s-1;c++)l.push(t.get(e,U0[c],U0[c+1]));return l}o(aot,"bytePairEncode");lp.bytePairEncode=aot});var wCe=V(wF=>{"use strict";d();Object.defineProperty(wF,"__esModule",{value:!0});wF.makeTextEncoder=void 0;var SJ=class{static{o(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}},_J=class{static{o(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}},lot=o(()=>typeof Buffer<"u"?new _J:new SJ,"makeTextEncoder");wF.makeTextEncoder=lot});var SCe=V(SF=>{"use strict";d();Object.defineProperty(SF,"__esModule",{value:!0});SF.LRUCache=void 0;var kJ=class{static{o(this,"LRUCache")}constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new BJ(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};SF.LRUCache=kJ;var BJ=class{static{o(this,"Node")}constructor(t,r){this.key=t,this.value=r}}});var DJ=V(kF=>{"use strict";d();Object.defineProperty(kF,"__esModule",{value:!0});kF.TikTokenizer=void 0;var cot=require("fs"),uot=require("util"),_F=TCe(),fot=wCe(),dot=SCe();function mot(e){let t=new Map;try{let n=cot.readFileSync(e,"utf-8");return r(n),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let s=i.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),l=parseInt(s[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${s[1]} to integer`)}}o(r,"processBpeRanks")}o(mot,"loadTikTokenBpe");function hot(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(hot,"escapeRegExp");var RJ=class{static{o(this,"TikTokenizer")}constructor(t,r,n,i=8192){this.textEncoder=(0,fot.makeTextEncoder)(),this.textDecoder=new uot.TextDecoder("utf-8"),this.cache=new dot.LRUCache(i);let s=typeof t=="string"?mot(t):t;this.init(s,r,n)}init(t,r,n){this.encoder=new _F.BinaryMap;for(let[i,s]of t)this.encoder.set(i,s);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>hot(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,s]of t)this.decoder.set(s,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,s]of r)this.specialTokensDecoder.set(s,i)}findNextSpecialToken(t,r,n){let i=r,s=null;if(n&&this.specialTokensRegex)for(;s=t.slice(i).match(this.specialTokensRegex),!(!s||n&&n.includes(s[0]));)i+=s.index+1;let a=s?i+s.index:t.length;return[s,a]}encode(t,r){let n=[],i=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),s){if(i=i+this.encodeSpecialToken(n,s),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){let n=this.specialTokensEncoder?.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let s,a=t.substring(n,i);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let l=this.cache.get(s[0]);if(l)for(let c of l)r.push(c);else{let c=this.textEncoder.encode(s[0]),u=this.encoder.get(c,0,this.textEncoder.length);if(u!==void 0)r.push(u),this.cache.set(s[0],[u]);else{let f=(0,_F.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let m of f)r.push(m);this.cache.set(s[0],f)}}}}encodeTrimSuffixByIndex(t,r,n,i,s,a,l){let c,u=t.substring(n,i);for(this.regex.lastIndex=0;c=this.regex.exec(u);){let f=c[0],m=this.cache.get(f);if(m)if(a+m.length<=s)a+=m.length,l+=f.length,r.push(...m);else{let h=s-a;a+=h,l+=f.length,r.push(...m.slice(0,h));break}else{let h=this.textEncoder.encode(f),p=this.encoder.get(h,0,h.length);if(p!==void 0)if(this.cache.set(f,[p]),a+1<=s)a++,l+=f.length,r.push(p);else break;else{let A=(0,_F.bytePairEncode)(h,this.encoder,this.textEncoder.length);if(this.cache.set(f,A),a+A.length<=s){a+=A.length,l+=f.length;for(let E of A)r.push(E)}else{let E=s-a;a+=E,l+=f.length;for(let x=0;x<E;x++)r.push(A[x]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],s=0,a=0,l=0;for(;;){let u,f;if([u,f]=this.findNextSpecialToken(t,s,n),f>s){let{tokenCount:m,encodeLength:h}=this.encodeTrimSuffixByIndex(t,i,s,f,r,a,l);if(a=m,l=h,a>=r)break}if(u!==null){if(a++,a<=r&&(s=s+this.encodeSpecialToken(i,u),l+=u[0].length,s>=t.length)||a>=r)break}else break}let c=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:c}}encodeTrimPrefix(t,r,n){let i=[],s=0,a=0,l=0,c=new Map;for(c.set(a,l);;){let h,p;if([h,p]=this.findNextSpecialToken(t,s,n),p>s){let A,E=t.substring(s,p);for(this.regex.lastIndex=0;A=this.regex.exec(E);){let x=A[0],b=this.cache.get(x);if(b)a+=b.length,l+=x.length,i.push(...b),c.set(a,l);else{let v=this.textEncoder.encode(x),S=this.encoder.get(v);if(S!==void 0)this.cache.set(x,[S]),a++,l+=x.length,i.push(S),c.set(a,l);else{let B=(0,_F.bytePairEncode)(v,this.encoder,this.textEncoder.length);this.cache.set(x,B),a+=B.length,l+=x.length;for(let P of B)i.push(P);c.set(a,l)}}}}if(h!==null){if(s=s+this.encodeSpecialToken(i,h),a++,l+=h[0].length,c.set(a,l),s>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let u=a-r,f=0,m=0;for(let[h,p]of c)if(h>=u){f=h,m=p;break}if(f>r){let h=this.encode(t,n),p=h.slice(h.length-r);return{tokenIds:p,text:this.decode(p)}}return{tokenIds:i.slice(f),text:t.slice(m)}}decode(t){let r=[];for(let n of t){let i=[],s=this.decoder?.get(n);if(s!==void 0)i=Array.from(s);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let l=this.textEncoder.encode(a);i=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};kF.TikTokenizer=RJ});var QCe=V(_a=>{"use strict";d();Object.defineProperty(_a,"__esModule",{value:!0});_a.createTokenizer=_a.createByEncoderName=_a.createByModelName=_a.getRegexByModel=_a.getRegexByEncoder=_a.getSpecialTokensByModel=_a.getSpecialTokensByEncoder=_a.MODEL_TO_ENCODING=void 0;var RF=require("fs"),PJ=require("path"),pot=DJ(),got=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);_a.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var BF="<|endoftext|>",_Ce="<|fim_prefix|>",kCe="<|fim_middle|>",BCe="<|fim_suffix|>",RCe="<|endofprompt|>",yT="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",DCe="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",Aot=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],PCe=Aot.join("|");function FJ(e){let t="";if(_a.MODEL_TO_ENCODING.has(e))t=_a.MODEL_TO_ENCODING.get(e);else for(let[r,n]of got)if(e.startsWith(r)){t=n;break}return t}o(FJ,"getEncoderFromModelName");async function yot(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let n=await r.text();RF.writeFileSync(t,n)}o(yot,"fetchAndSaveFile");function NJ(e){let t=new Map([[BF,50256]]);switch(e){case"o200k_base":t=new Map([[BF,199999],[RCe,200018]]);break;case"cl100k_base":t=new Map([[BF,100257],[_Ce,100258],[kCe,100259],[BCe,100260],[RCe,100276]]);break;case"p50k_edit":t=new Map([[BF,50256],[_Ce,50281],[kCe,50282],[BCe,50283]]);break;default:break}return t}o(NJ,"getSpecialTokensByEncoder");_a.getSpecialTokensByEncoder=NJ;function Cot(e){let t=FJ(e);return NJ(t)}o(Cot,"getSpecialTokensByModel");_a.getSpecialTokensByModel=Cot;function FCe(e){switch(e){case"o200k_base":return PCe;case"cl100k_base":return DCe;default:break}return yT}o(FCe,"getRegexByEncoder");_a.getRegexByEncoder=FCe;function Eot(e){let t=FJ(e);return FCe(t)}o(Eot,"getRegexByModel");_a.getRegexByModel=Eot;async function xot(e,t=null){return NCe(FJ(e),t)}o(xot,"createByModelName");_a.createByModelName=xot;async function NCe(e,t=null){let r,n,i=NJ(e);switch(e){case"o200k_base":r=PCe,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=DCe,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=yT,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=yT,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=yT,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=yT,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let s=PJ.basename(n),a=PJ.resolve(__dirname,"..","model");RF.existsSync(a)||RF.mkdirSync(a,{recursive:!0});let l=PJ.resolve(a,s);return RF.existsSync(l)||(console.log(`Downloading file from ${n}`),await yot(n,l),console.log(`Saved file to ${l}`)),LCe(l,i,r)}o(NCe,"createByEncoderName");_a.createByEncoderName=NCe;function LCe(e,t,r,n=8192){return new pot.TikTokenizer(e,t,r,n)}o(LCe,"createTokenizer");_a.createTokenizer=LCe});var MCe=V(ka=>{"use strict";d();Object.defineProperty(ka,"__esModule",{value:!0});ka.createTokenizer=ka.createByEncoderName=ka.createByModelName=ka.getSpecialTokensByModel=ka.getSpecialTokensByEncoder=ka.getRegexByModel=ka.getRegexByEncoder=ka.MODEL_TO_ENCODING=ka.TikTokenizer=void 0;var bot=DJ();Object.defineProperty(ka,"TikTokenizer",{enumerable:!0,get:o(function(){return bot.TikTokenizer},"get")});var x5=QCe();Object.defineProperty(ka,"MODEL_TO_ENCODING",{enumerable:!0,get:o(function(){return x5.MODEL_TO_ENCODING},"get")});Object.defineProperty(ka,"getRegexByEncoder",{enumerable:!0,get:o(function(){return x5.getRegexByEncoder},"get")});Object.defineProperty(ka,"getRegexByModel",{enumerable:!0,get:o(function(){return x5.getRegexByModel},"get")});Object.defineProperty(ka,"getSpecialTokensByEncoder",{enumerable:!0,get:o(function(){return x5.getSpecialTokensByEncoder},"get")});Object.defineProperty(ka,"getSpecialTokensByModel",{enumerable:!0,get:o(function(){return x5.getSpecialTokensByModel},"get")});Object.defineProperty(ka,"createByModelName",{enumerable:!0,get:o(function(){return x5.createByModelName},"get")});Object.defineProperty(ka,"createByEncoderName",{enumerable:!0,get:o(function(){return x5.createByEncoderName},"get")});Object.defineProperty(ka,"createTokenizer",{enumerable:!0,get:o(function(){return x5.createTokenizer},"get")})});var e3e=V((exports,module)=>{d();var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{o(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=o((e,t)=>{throw t},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}o(locateFile,"locateFile");function logExceptionOnExit(e){e instanceof ExitStatus||err("exiting due to exception: "+e)}if(o(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=o((e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),"read_"),readBinary=o(e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},"readBinary"),readAsync=o((e,t,r)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,function(n,i){n?r(n):t(i.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=o((e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},"readBinary")),readAsync=o((e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=o(e=>document.title=e,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,i));for(var s="";t<i;){var a=e[t++];if(128&a){var l=63&e[t++];if((224&a)!=192){var c=63&e[t++];if((a=(240&a)==224?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&e[t++])<65536)s+=String.fromCharCode(a);else{var u=a-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else s+=String.fromCharCode((31&a)<<6|l)}else s+=String.fromCharCode(a)}return s}o(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}o(UTF8ToString,"UTF8ToString");function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var i=r,s=r+n-1,a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++a)),l<=127){if(r>=s)break;t[r++]=l}else if(l<=2047){if(r+1>=s)break;t[r++]=192|l>>6,t[r++]=128|63&l}else if(l<=65535){if(r+2>=s)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|63&l}else{if(r+3>=s)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|63&l}}return t[r]=0,r-i}o(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}o(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}o(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun");function addOnPreRun(e){__ATPRERUN__.unshift(e)}o(addOnPreRun,"addOnPreRun");function addOnInit(e){__ATINIT__.unshift(e)}o(addOnInit,"addOnInit");function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}o(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency");function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}o(removeRunDependency,"removeRunDependency");function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}o(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI");function isFileURI(e){return e.startsWith("file://")}o(isFileURI,"isFileURI");function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}o(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(e,t){readAsync(wasmBinaryFile,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise");function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function t(i,s){var a=i.exports;a=relocateExports(a,1024);var l=getDylinkMetadata(s);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(t,"t");function r(i){t(i.instance,i.module)}o(r,"r");function n(i){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,e)}).then(function(s){return s}).then(i,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(o(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,e).then(r,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}o(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}o(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:o(function(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(r.required=!0),r},"get")};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(e){var t=0,r=0;function n(){for(var b=0,v=1;;){var S=e[t++];if(b+=(127&S)*v,v*=128,!(128&S))break}return b}o(n,"_");function i(){var b=n();return UTF8ArrayToString(e,(t+=b)-b,b)}o(i,"n");function s(b,v){if(b)throw new Error(v)}o(s,"s");var a="dylink.0";if(e instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(e,a);l.length===0&&(a="dylink",l=WebAssembly.Module.customSections(e,a)),s(l.length===0,"need dylink section"),r=(e=new Uint8Array(l[0])).length}else{s(new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(e[8]!==0,"need the dylink section to be first"),t=9;var c=n();r=t+c,a=i()}var u={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();for(var f=n(),m=0;m<f;++m){var h=i();u.neededDynlibs.push(h)}}else for(s(a!=="dylink.0");t<r;){var p=e[t++],A=n();if(p===1)u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();else if(p===2)for(f=n(),m=0;m<f;++m)h=i(),u.neededDynlibs.push(h);else if(p===3)for(var E=n();E--;){var x=i();256&n()&&u.tlsExports.add(x)}else if(p===4)for(E=n();E--;)i(),x=i(),(3&n())==1&&u.weakImports.add(x);else t+=A}return u}o(getDylinkMetadata,"getDylinkMetadata");function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort("invalid type for getValue: "+t)}return null}o(getValue,"getValue");function asmjsMangle(e){return e.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}o(asmjsMangle,"asmjsMangle");function mergeLibSymbols(e,t){for(var r in e)if(e.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=e[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=e[r]),r=="__main_argc_argv"&&(Module._main=e[r])}}o(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,r){var n=Module["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}o(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}o(getWasmTableEntry,"getWasmTableEntry");function dynCall(e,t,r){return e.includes("j")?dynCallLegacy(e,t,r):getWasmTableEntry(t).apply(null,r)}o(dynCall,"dynCall");function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(t),r!==r+0)throw r;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}o(zeroMemory,"zeroMemory");function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+e+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,t}o(getMemory,"getMemory");function isInternalSym(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(e)}o(isInternalSym,"isInternalSym");function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}o(uleb128Encode,"uleb128Encode");function sigToWasmTypes(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]),e[n]==="j"&&r.parameters.push("i32");return r}o(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(e,t){var r=e.slice(0,1),n=e.slice(1),i={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(n.length,t);for(var s=0;s<n.length;++s)t.push(i[n[s]]);r=="v"?t.push(0):t.push(1,i[r])}o(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(e,t){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(e,t){if(functionsInTableMap)for(var r=e;r<e+t;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}o(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}o(setWasmTableEntry,"setWasmTableEntry");function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,r),r}o(addFunction,"addFunction");function updateGOT(e,t){for(var r in e)if(!isInternalSym(r)){var n=e[r];r.startsWith("orig$")&&(r=r.split("$")[1],t=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}o(updateGOT,"updateGOT");function relocateExports(e,t,r){var n={};for(var i in e){var s=e[i];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=t),n[i]=s}return updateGOT(n,r),n}o(relocateExports,"relocateExports");function resolveGlobalSymbol(e,t){var r;return t&&(r=asmLibraryArg["orig$"+e]),r||(r=asmLibraryArg[e])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(e)]),!r&&e.startsWith("invoke_")&&(r=createInvokeFunction(e.split("_")[1])),r}o(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(e,t){return Math.ceil(e/t)*t}o(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}o(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:o(function(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(t in asmLibraryArg)return asmLibraryArg[t];var r;return t in e||(e[t]=function(){return r||(r=resolveSymbol(t)),r.apply(null,arguments)}),e[t]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(e){return postInstantiation(e.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(e){loadDynamicLibrary(e,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(e,t,r){t=t||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[e];if(n)return t.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,e)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!t.loadAsync||Promise.resolve(!0);function i(l){if(t.fs&&t.fs.findObject(l)){var c=t.fs.readFile(l,{encoding:"binary"});return c instanceof Uint8Array||(c=new Uint8Array(c)),t.loadAsync?Promise.resolve(c):c}if(l=locateFile(l),t.loadAsync)return new Promise(function(u,f){readAsync(l,m=>u(new Uint8Array(m)),f)});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}o(i,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[e]){var l=preloadedWasm[e];return t.loadAsync?Promise.resolve(l):l}return t.loadAsync?i(e).then(function(c){return loadWebAssemblyModule(c,t,r)}):loadWebAssemblyModule(i(e),t,r)}o(s,"s");function a(l){n.global&&mergeLibSymbols(l,e),n.module=l}return o(a,"a"),n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},LDSO.loadedLibsByName[e]=n,r&&(LDSO.loadedLibsByHandle[r]=n),t.loadAsync?s().then(function(l){return a(l),!0}):(a(s()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var e in GOT)if(GOT[e].value==0){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if(typeof t=="function")GOT[e].value=addFunction(t,t.sig);else{if(typeof t!="number")throw new Error("bad export type for `"+e+"`: "+typeof t);GOT[e].value=t}}}o(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs");function setValue(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort("invalid type for setValue: "+r)}}o(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var n=1;n<=4;n*=2){var i=t*(1+.2/n);if(i=Math.min(i,e+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(e,i))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:o(function(e,t,r){if(PATH.isAbs(t))return t;var n;if(e===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(e).path,t.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,t)},"calculateAt"),doStat:o(function(e,t,r){try{var n=e(t)}catch(l){if(l&&l.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),s=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:o(function(e,t,r,n,i){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var s=HEAPU8.slice(e,e+r);FS.msync(t,s,i,r,n)},"doMsync"),varargs:void 0,get:o(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:o(function(e){return UTF8ToString(e)},"getStr"),getStreamFromFD:o(function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t},"getStreamFromFD")};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}o(_proc_exit,"_proc_exit");function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}o(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}o(_fd_close,"_fd_close");function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(e,t,r,n,i){try{var s=convertI32PairToI53Checked(t,r);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(e);return FS.llseek(a,s,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],a.getdents&&s===0&&n===0&&(a.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}o(_fd_seek,"_fd_seek");function doWritev(e,t,r,n){for(var i=0,s=0;s<r;s++){var a=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.write(e,HEAP8,a,l,n);if(c<0)return-1;i+=c,n!==void 0&&(n+=c)}return i}o(doWritev,"doWritev");function _fd_write(e,t,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(e),t,r);return HEAPU32[n>>2]=i,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}o(_fd_write,"_fd_write");function _tree_sitter_log_callback(e,t){if(currentLogCallback){let r=UTF8ToString(t);currentLogCallback(r,e!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(e,t,r,n,i){var s=currentParseCallback(t,{row:r,column:n});typeof s=="string"?(setValue(i,s.length,"i32"),stringToUTF16(s,e,10240)):setValue(i,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(e){if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)}o(handleException,"handleException");function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8Array(e,HEAP8,r,t),r}o(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,s=0;s<i;++s){var a=e.charCodeAt(s);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}o(stringToUTF16,"stringToUTF16");function AsciiToString(e){for(var t="";;){var r=HEAPU8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}o(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var r=e.length,n=stackAlloc(4*(r+1)),i=n>>2;e.forEach(a=>{HEAP32[i++]=allocateUTF8OnStack(a)}),HEAP32[i]=0;try{var s=t(r,n);return exitJS(s,!0),s}catch(a){return handleException(a)}}}o(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=o(function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},"e");var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}o(t,"t"),e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}if(o(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{o(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(t){let r;if(t){if(t.constructor!==Language)throw new Error("Argument must be a Language");{r=t[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,t=null;return this.language=t,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(t,r,n){if(typeof t=="string")currentParseCallback=o((c,u,f)=>t.slice(c,f),"currentParseCallback");else{if(typeof t!="function")throw new Error("Argument must be a string or a function");currentParseCallback=t}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,s=0;if(n&&n.includedRanges){i=n.includedRanges.length,s=C._calloc(i,SIZE_OF_RANGE);let c=s;for(let u=0;u<i;u++)marshalRange(c,n.includedRanges[u]),c+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,s,i);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(t){C._ts_parser_set_timeout_micros(this[0],t)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(t){if(t){if(typeof t!="function")throw new Error("Logger callback must be a function")}else t=null;return this.logCallback=t,this}getLogger(){return this.logCallback}}class Tree{static{o(this,"Tree")}constructor(t,r,n,i){assertInternal(t),this[0]=r,this.language=n,this.textCallback=i}copy(){let t=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,t,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(t){marshalEdit(t),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(t){if(t.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],t[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let s=n;for(let a=0;a<r;a++)i[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{static{o(this,"Node")}constructor(t,r){assertInternal(t),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(t){return this.id===t.id}child(t){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}namedChild(t){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldId(t){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldName(t){let r=this.tree.language.fields.indexOf(t);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(t,r,n){Array.isArray(t)||(t=[t]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],s=this.tree.language.types;for(let f=0,m=s.length;f<m;f++)t.includes(s[f])&&i.push(f);let a=C._malloc(SIZE_OF_INT*i.length);for(let f=0,m=i.length;f<m;f++)setValue(a+f*SIZE_OF_INT,i[f],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,i.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=new Array(l);if(l>0){let f=c;for(let m=0;m<l;m++)u[m]=unmarshalNode(this.tree,f),f+=SIZE_OF_NODE}return C._free(c),C._free(a),u}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let t=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(t);return C._free(t),r}}class TreeCursor{static{o(this,"TreeCursor")}constructor(t,r){assertInternal(t),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(t){marshalNode(t),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let t=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,t,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoNextSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoParent(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}}class Language{static{o(this,"Language")}constructor(t,r){assertInternal(t),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let s=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(t){let r=this.fields.indexOf(t);return r!==-1?r:null}fieldNameForId(t){return this.fields[t]||null}idForNodeType(t,r){let n=lengthBytesUTF8(t),i=C._malloc(n+1);stringToUTF8(t,i,n+1);let s=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(t){let r=C._ts_language_symbol_name(this[0],t);return r?UTF8ToString(r):null}nodeTypeIsNamed(t){return!!C._ts_language_type_is_named_wasm(this[0],t)}nodeTypeIsVisible(t){return!!C._ts_language_type_is_visible_wasm(this[0],t)}query(t){let r=lengthBytesUTF8(t),n=C._malloc(r+1);stringToUTF8(t,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let E=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),x=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,b=t.substr(x,100).split(`
`)[0],v,S=b.match(QUERY_WORD_REGEX)[0];switch(E){case 2:v=new RangeError(`Bad node name '${S}'`);break;case 3:v=new RangeError(`Bad field name '${S}'`);break;case 4:v=new RangeError(`Bad capture name @${S}`);break;case 5:v=new TypeError(`Bad pattern structure at offset ${x}: '${b}'...`),S="";break;default:v=new SyntaxError(`Bad syntax at offset ${x}: '${b}'...`),S=""}throw v.index=x,v.length=S.length,C._free(n),v}let s=C._ts_query_string_count(i),a=C._ts_query_capture_count(i),l=C._ts_query_pattern_count(i),c=new Array(a),u=new Array(s);for(let E=0;E<a;E++){let x=C._ts_query_capture_name_for_id(i,E,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");c[E]=UTF8ToString(x,b)}for(let E=0;E<s;E++){let x=C._ts_query_string_value_for_id(i,E,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");u[E]=UTF8ToString(x,b)}let f=new Array(l),m=new Array(l),h=new Array(l),p=new Array(l),A=new Array(l);for(let E=0;E<l;E++){let x=C._ts_query_predicates_for_pattern(i,E,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");p[E]=[],A[E]=[];let v=[],S=x;for(let B=0;B<b;B++){let P=getValue(S,"i32");S+=SIZE_OF_INT;let F=getValue(S,"i32");if(S+=SIZE_OF_INT,P===PREDICATE_STEP_TYPE_CAPTURE)v.push({type:"capture",name:c[F]});else if(P===PREDICATE_STEP_TYPE_STRING)v.push({type:"string",value:u[F]});else if(v.length>0){if(v[0].type!=="string")throw new Error("Predicates must begin with a literal value");let G=v[0].value,re=!0;switch(G){case"not-eq?":re=!1;case"eq?":if(v.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(v.length-1));if(v[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${v[1].value}"`);if(v[2].type==="capture"){let q=v[1].name,se=v[2].name;A[E].push(function(ne){let H,O;for(let j of ne)j.name===q&&(H=j.node),j.name===se&&(O=j.node);return H===void 0||O===void 0||H.text===O.text===re})}else{let q=v[1].name,se=v[2].value;A[E].push(function(ne){for(let H of ne)if(H.name===q)return H.node.text===se===re;return!0})}break;case"not-match?":re=!1;case"match?":if(v.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${v.length-1}.`);if(v[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${v[1].value}".`);if(v[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${v[2].value}.`);let pe=v[1].name,Z=new RegExp(v[2].value);A[E].push(function(q){for(let se of q)if(se.name===pe)return Z.test(se.node.text)===re;return!0});break;case"set!":if(v.length<2||v.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${v.length-1}.`);if(v.some(q=>q.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');f[E]||(f[E]={}),f[E][v[1].value]=v[2]?v[2].value:null;break;case"is?":case"is-not?":if(v.length<2||v.length>3)throw new Error(`Wrong number of arguments to \`#${G}\` predicate. Expected 1 or 2. Got ${v.length-1}.`);if(v.some(q=>q.type!=="string"))throw new Error(`Arguments to \`#${G}\` predicate must be a strings.".`);let W=G==="is?"?m:h;W[E]||(W[E]={}),W[E][v[1].value]=v[2]?v[2].value:null;break;default:p[E].push({operator:G,operands:v.slice(1)})}v.length=0}}Object.freeze(f[E]),Object.freeze(m[E]),Object.freeze(h[E])}return C._free(n),new Query(INTERNAL,i,c,A,p,Object.freeze(f),Object.freeze(m),Object.freeze(h))}static load(t){let r;if(t instanceof Uint8Array)r=Promise.resolve(t);else{let i=t;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");r=Promise.resolve(s.readFileSync(i))}else r=fetch(i).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let l=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${l}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let s=Object.keys(i),a=s.find(c=>LANGUAGE_FUNCTION_REGEX.test(c)&&!c.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let l=i[a]();return new Language(INTERNAL,l)})}}class Query{static{o(this,"Query")}constructor(t,r,n,i,s,a,l,c){assertInternal(t),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=s,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=c,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_matches_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=new Array(a);this.exceededMatchLimit=!!c;let f=0,m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let A=getValue(m,"i32");m+=SIZE_OF_INT;let E=new Array(A);if(m=unmarshalCaptures(this,t.tree,m,E),this.textPredicates[p].every(x=>x(E))){u[f++]={pattern:p,captures:E};let x=this.setProperties[p];x&&(u[h].setProperties=x);let b=this.assertedProperties[p];b&&(u[h].assertedProperties=b);let v=this.refutedProperties[p];v&&(u[h].refutedProperties=v)}}return u.length=f,C._free(l),u}captures(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_captures_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=[];this.exceededMatchLimit=!!c;let f=[],m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let A=getValue(m,"i32");m+=SIZE_OF_INT;let E=getValue(m,"i32");if(m+=SIZE_OF_INT,f.length=A,m=unmarshalCaptures(this,t.tree,m,f),this.textPredicates[p].every(x=>x(f))){let x=f[E],b=this.setProperties[p];b&&(x.setProperties=b);let v=this.assertedProperties[p];v&&(x.assertedProperties=v);let S=this.refutedProperties[p];S&&(x.refutedProperties=S),u.push(x)}}return C._free(l),u}predicatesForPattern(t){return this.predicates[t]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){let n=r-t,i=e.textCallback(t,null,r);for(t+=i.length;t<r;){let s=e.textCallback(t,null,r);if(!(s&&s.length>0))break;t+=s.length,i+=s}return t>r&&(i=i.slice(0,n)),i}o(getText,"getText");function unmarshalCaptures(e,t,r,n){for(let i=0,s=n.length;i<s;i++){let a=getValue(r,"i32"),l=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:e.captureNames[a],node:l}}return r}o(unmarshalCaptures,"unmarshalCaptures");function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal");function isPoint(e){return e&&typeof e.row=="number"&&typeof e.column=="number"}o(isPoint,"isPoint");function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}o(marshalNode,"marshalNode");function unmarshalNode(e,t=TRANSFER_BUFFER){let r=getValue(t,"i32");if(r===0)return null;let n=getValue(t+=SIZE_OF_INT,"i32"),i=getValue(t+=SIZE_OF_INT,"i32"),s=getValue(t+=SIZE_OF_INT,"i32"),a=getValue(t+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,e);return l.id=r,l.startIndex=n,l.startPosition={row:i,column:s},l[0]=a,l}o(unmarshalNode,"unmarshalNode");function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}o(marshalPoint,"marshalPoint");function unmarshalPoint(e){return{row:getValue(e,"i32"),column:getValue(e+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint");function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}o(marshalRange,"marshalRange");function unmarshalRange(e){let t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32"),e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32"),t}o(unmarshalRange,"unmarshalRange");function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}o(marshalEdit,"marshalEdit");for(let e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var bX=V((N2r,M3e)=>{d();var xX=require("fs"),TN=require("path"),FT=TN.join,lat=TN.dirname,L3e=xX.accessSync&&function(e){try{xX.accessSync(e)}catch{return!1}return!0}||xX.existsSync||TN.existsSync,Q3e={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function cat(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(Q3e).map(function(c){c in e||(e[c]=Q3e[c])}),e.module_root||(e.module_root=uat(__filename)),TN.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=e.try.length,s,a,l;n<i;n++){s=FT.apply(null,e.try[n].map(function(c){return e[c]||c})),r.push(s);try{return a=e.path?t.resolve(s):t(s),e.path||(a.path=s),a}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return e.arrow+c}).join(`
`)),l.tries=r,l}o(cat,"bindings");M3e.exports=cat;function uat(e){for(var t=lat(e),r;;){if(t==="."&&(t=process.cwd()),L3e(FT(t,"dist")))return FT(t,"dist");if(L3e(FT(t,"compiled")))return t;if(r===t)throw new Error('Could not find module root given file: "'+e+'". Do you have a `dist` or `compiled` directory? ');r=t,t=FT(t,"..")}}o(uat,"getRoot")});var U3e=V((M2r,O3e)=>{d();O3e.exports=bX()("node_sqlite3.node")});var G3e=V(W3e=>{d();var fat=require("util");function dat(e,t,r){let n=e[t];e[t]=function(){let i=new Error,s=e.constructor.name+"#"+t+"("+Array.prototype.slice.call(arguments).map(function(l){return fat.inspect(l,!1,0)}).join(", ")+")";typeof r>"u"&&(r=-1),r<0&&(r+=arguments.length);let a=arguments[r];return typeof arguments[r]=="function"&&(arguments[r]=o(function(){let c=arguments[0];return c&&c.stack&&!c.__augmented&&(c.stack=q3e(c).join(`
`),c.stack+=`
--> in `+s,c.stack+=`
`+q3e(i).slice(1).join(`
`),c.__augmented=!0),a.apply(this,arguments)},"replacement")),n.apply(this,arguments)}}o(dat,"extendTrace");W3e.extendTrace=dat;function q3e(e){return e.stack.split(`
`).filter(function(t){return t.indexOf(__filename)<0})}o(q3e,"filter")});var $3e=V((V3e,j3e)=>{d();var mat=require("path"),Jf=U3e(),Ov=require("events").EventEmitter;j3e.exports=V3e=Jf;function Uv(e){return function(t){let r,n=Array.prototype.slice.call(arguments,1);if(typeof n[n.length-1]=="function"){let s=n[n.length-1];r=o(function(a){a&&s(a)},"errBack")}let i=new wN(this,t,r);return e.call(this,i,n)}}o(Uv,"normalizeMethod");function IX(e,t){for(let r in t.prototype)e.prototype[r]=t.prototype[r]}o(IX,"inherits");Jf.cached={Database:o(function(e,t,r){if(e===""||e===":memory:")return new q0(e,t,r);let n;if(e=mat.resolve(e),!Jf.cached.objects[e])n=Jf.cached.objects[e]=new q0(e,t,r);else{n=Jf.cached.objects[e];let s=typeof t=="number"?r:t;if(typeof s=="function"){let a=function(){s.call(n,null)};var i=a;o(a,"cb"),n.open?process.nextTick(a):n.once("open",a)}}return n},"Database"),objects:{}};var q0=Jf.Database,wN=Jf.Statement,vX=Jf.Backup;IX(q0,Ov);IX(wN,Ov);IX(vX,Ov);q0.prototype.prepare=Uv(function(e,t){return t.length?e.bind.apply(e,t):e});q0.prototype.run=Uv(function(e,t){return e.run.apply(e,t).finalize(),this});q0.prototype.get=Uv(function(e,t){return e.get.apply(e,t).finalize(),this});q0.prototype.all=Uv(function(e,t){return e.all.apply(e,t).finalize(),this});q0.prototype.each=Uv(function(e,t){return e.each.apply(e,t).finalize(),this});q0.prototype.map=Uv(function(e,t){return e.map.apply(e,t).finalize(),this});q0.prototype.backup=function(){let e;return arguments.length<=2?e=new vX(this,arguments[0],"main","main",!0,arguments[1]):e=new vX(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),e.retryErrors=[Jf.BUSY,Jf.LOCKED],e};wN.prototype.map=function(){let e=Array.prototype.slice.call(arguments),t=e.pop();return e.push(function(r,n){if(r)return t(r);let i={};if(n.length){let s=Object.keys(n[0]),a=s[0];if(s.length>2)for(let l=0;l<n.length;l++)i[n[l][a]]=n[l];else{let l=s[1];for(let c=0;c<n.length;c++)i[n[c][a]]=n[c][l]}}t(r,i)}),this.all.apply(this,e)};var H3e=!1,TX=["trace","profile","change"];q0.prototype.addListener=q0.prototype.on=function(e){let t=Ov.prototype.addListener.apply(this,arguments);return TX.indexOf(e)>=0&&this.configure(e,!0),t};q0.prototype.removeListener=function(e){let t=Ov.prototype.removeListener.apply(this,arguments);return TX.indexOf(e)>=0&&!this._events[e]&&this.configure(e,!1),t};q0.prototype.removeAllListeners=function(e){let t=Ov.prototype.removeAllListeners.apply(this,arguments);return TX.indexOf(e)>=0&&this.configure(e,!1),t};Jf.verbose=function(){if(!H3e){let e=G3e();["prepare","get","run","all","each","map","close","exec"].forEach(function(t){e.extendTrace(q0.prototype,t)}),["bind","get","run","all","each","map","reset","finalize"].forEach(function(t){e.extendTrace(wN.prototype,t)}),H3e=!0}return Jf}});var ON=V(Da=>{"use strict";d();Object.defineProperty(Da,"__esModule",{value:!0});Da.thenable=Da.typedArray=Da.stringArray=Da.array=Da.func=Da.error=Da.number=Da.string=Da.boolean=void 0;function pat(e){return e===!0||e===!1}o(pat,"boolean");Da.boolean=pat;function Z3e(e){return typeof e=="string"||e instanceof String}o(Z3e,"string");Da.string=Z3e;function gat(e){return typeof e=="number"||e instanceof Number}o(gat,"number");Da.number=gat;function Aat(e){return e instanceof Error}o(Aat,"error");Da.error=Aat;function e4e(e){return typeof e=="function"}o(e4e,"func");Da.func=e4e;function t4e(e){return Array.isArray(e)}o(t4e,"array");Da.array=t4e;function yat(e){return t4e(e)&&e.every(t=>Z3e(t))}o(yat,"stringArray");Da.stringArray=yat;function Cat(e,t){return Array.isArray(e)&&e.every(t)}o(Cat,"typedArray");Da.typedArray=Cat;function Eat(e){return e&&e4e(e.then)}o(Eat,"thenable");Da.thenable=Eat});var _X=V(Zf=>{"use strict";d();Object.defineProperty(Zf,"__esModule",{value:!0});Zf.generateUuid=Zf.parse=Zf.isUUID=Zf.v4=Zf.empty=void 0;var QT=class{static{o(this,"ValueUUID")}constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},MT=class e extends QT{static{o(this,"V4UUID")}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}};MT._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];MT._timeHighBits=["8","9","a","b"];Zf.empty=new QT("00000000-0000-0000-0000-000000000000");function r4e(){return new MT}o(r4e,"v4");Zf.v4=r4e;var xat=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function n4e(e){return xat.test(e)}o(n4e,"isUUID");Zf.isUUID=n4e;function bat(e){if(!n4e(e))throw new Error("invalid uuid");return new QT(e)}o(bat,"parse");Zf.parse=bat;function vat(){return r4e().asHex()}o(vat,"generateUuid");Zf.generateUuid=vat});var i4e=V(S5=>{"use strict";d();Object.defineProperty(S5,"__esModule",{value:!0});S5.attachPartialResult=S5.ProgressFeature=S5.attachWorkDone=void 0;var w5=ri(),Iat=_X(),Z3=class e{static{o(this,"WorkDoneProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r,e.Instances.set(this._token,this)}begin(t,r,n,i){let s={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(w5.WorkDoneProgress.type,this._token,s)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(w5.WorkDoneProgress.type,this._token,n)}done(){e.Instances.delete(this._token),this._connection.sendProgress(w5.WorkDoneProgress.type,this._token,{kind:"end"})}};Z3.Instances=new Map;var UN=class extends Z3{static{o(this,"WorkDoneProgressServerReporterImpl")}constructor(t,r){super(t,r),this._source=new w5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},OT=class{static{o(this,"NullProgressReporter")}constructor(){}begin(){}report(){}done(){}},qN=class extends OT{static{o(this,"NullProgressServerReporter")}constructor(){super(),this._source=new w5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function Tat(e,t){if(t===void 0||t.workDoneToken===void 0)return new OT;let r=t.workDoneToken;return delete t.workDoneToken,new Z3(e,r)}o(Tat,"attachWorkDone");S5.attachWorkDone=Tat;var wat=o(e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(w5.WorkDoneProgressCancelNotification.type,r=>{let n=Z3.Instances.get(r.token);(n instanceof UN||n instanceof qN)&&n.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new OT:new Z3(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,Iat.generateUuid)();return this.connection.sendRequest(w5.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new UN(this.connection,t))}else return Promise.resolve(new qN)}},"ProgressFeature");S5.ProgressFeature=wat;var kX;(function(e){e.type=new w5.ProgressType})(kX||(kX={}));var BX=class{static{o(this,"ResultProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(kX.type,this._token,t)}};function Sat(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new BX(e,r)}o(Sat,"attachPartialResult");S5.attachPartialResult=Sat});var o4e=V(WN=>{"use strict";d();Object.defineProperty(WN,"__esModule",{value:!0});WN.ConfigurationFeature=void 0;var _at=ri(),kat=ON(),Bat=o(e=>class extends e{getConfiguration(t){return t?kat.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(_at.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(t)?n:n[0]:Array.isArray(t)?[]:null)}},"ConfigurationFeature");WN.ConfigurationFeature=Bat});var s4e=V(HN=>{"use strict";d();Object.defineProperty(HN,"__esModule",{value:!0});HN.WorkspaceFoldersFeature=void 0;var GN=ri(),Rat=o(e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new GN.Emitter,this.connection.onNotification(GN.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let r=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(GN.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(GN.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}},"WorkspaceFoldersFeature");HN.WorkspaceFoldersFeature=Rat});var a4e=V(VN=>{"use strict";d();Object.defineProperty(VN,"__esModule",{value:!0});VN.CallHierarchyFeature=void 0;var RX=ri(),Dat=o(e=>class extends e{get callHierarchy(){return{onPrepare:o(t=>this.connection.onRequest(RX.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onIncomingCalls:o(t=>{let r=RX.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onIncomingCalls"),onOutgoingCalls:o(t=>{let r=RX.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onOutgoingCalls")}}},"CallHierarchyFeature");VN.CallHierarchyFeature=Dat});var PX=V(_5=>{"use strict";d();Object.defineProperty(_5,"__esModule",{value:!0});_5.SemanticTokensBuilder=_5.SemanticTokensDiff=_5.SemanticTokensFeature=void 0;var jN=ri(),Pat=o(e=>class extends e{get semanticTokens(){return{refresh:o(()=>this.connection.sendRequest(jN.SemanticTokensRefreshRequest.type),"refresh"),on:o(t=>{let r=jN.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on"),onDelta:o(t=>{let r=jN.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onDelta"),onRange:o(t=>{let r=jN.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onRange")}}},"SemanticTokensFeature");_5.SemanticTokensFeature=Pat;var $N=class{static{o(this,"SemanticTokensDiff")}constructor(t,r){this.originalSequence=t,this.modifiedSequence=r}computeDiff(){let t=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<t&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<t){let i=t-1,s=r-1;for(;i>=n&&s>=n&&this.originalSequence[i]===this.modifiedSequence[s];)i--,s--;(i<n||s<n)&&(i++,s++);let a=i-n+1,l=this.modifiedSequence.slice(n,s+1);return l.length===1&&l[0]===this.originalSequence[i]?[{start:n,deleteCount:a-1}]:[{start:n,deleteCount:a,data:l}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<t?[{start:n,deleteCount:t-n}]:[]}};_5.SemanticTokensDiff=$N;var DX=class{static{o(this,"SemanticTokensBuilder")}constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,s){let a=t,l=r;this._dataLen>0&&(a-=this._prevLine,a===0&&(l-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=l,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new $N(this._prevData,this._data).computeDiff()}:this.build()}};_5.SemanticTokensBuilder=DX});var l4e=V(zN=>{"use strict";d();Object.defineProperty(zN,"__esModule",{value:!0});zN.ShowDocumentFeature=void 0;var Fat=ri(),Nat=o(e=>class extends e{showDocument(t){return this.connection.sendRequest(Fat.ShowDocumentRequest.type,t)}},"ShowDocumentFeature");zN.ShowDocumentFeature=Nat});var c4e=V(YN=>{"use strict";d();Object.defineProperty(YN,"__esModule",{value:!0});YN.FileOperationsFeature=void 0;var Wv=ri(),Lat=o(e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(Wv.DidCreateFilesNotification.type,r=>{t(r)})}onDidRenameFiles(t){return this.connection.onNotification(Wv.DidRenameFilesNotification.type,r=>{t(r)})}onDidDeleteFiles(t){return this.connection.onNotification(Wv.DidDeleteFilesNotification.type,r=>{t(r)})}onWillCreateFiles(t){return this.connection.onRequest(Wv.WillCreateFilesRequest.type,(r,n)=>t(r,n))}onWillRenameFiles(t){return this.connection.onRequest(Wv.WillRenameFilesRequest.type,(r,n)=>t(r,n))}onWillDeleteFiles(t){return this.connection.onRequest(Wv.WillDeleteFilesRequest.type,(r,n)=>t(r,n))}},"FileOperationsFeature");YN.FileOperationsFeature=Lat});var u4e=V(KN=>{"use strict";d();Object.defineProperty(KN,"__esModule",{value:!0});KN.LinkedEditingRangeFeature=void 0;var Qat=ri(),Mat=o(e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(Qat.LinkedEditingRangeRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))}},"LinkedEditingRangeFeature");KN.LinkedEditingRangeFeature=Mat});var f4e=V(JN=>{"use strict";d();Object.defineProperty(JN,"__esModule",{value:!0});JN.TypeHierarchyFeature=void 0;var FX=ri(),Oat=o(e=>class extends e{get typeHierarchy(){return{onPrepare:o(t=>this.connection.onRequest(FX.TypeHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onSupertypes:o(t=>{let r=FX.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSupertypes"),onSubtypes:o(t=>{let r=FX.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSubtypes")}}},"TypeHierarchyFeature");JN.TypeHierarchyFeature=Oat});var m4e=V(XN=>{"use strict";d();Object.defineProperty(XN,"__esModule",{value:!0});XN.InlineValueFeature=void 0;var d4e=ri(),Uat=o(e=>class extends e{get inlineValue(){return{refresh:o(()=>this.connection.sendRequest(d4e.InlineValueRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(d4e.InlineValueRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineValueFeature");XN.InlineValueFeature=Uat});var p4e=V(ZN=>{"use strict";d();Object.defineProperty(ZN,"__esModule",{value:!0});ZN.FoldingRangeFeature=void 0;var h4e=ri(),qat=o(e=>class extends e{get foldingRange(){return{refresh:o(()=>this.connection.sendRequest(h4e.FoldingRangeRefreshRequest.type),"refresh"),on:o(t=>{let r=h4e.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"FoldingRangeFeature");ZN.FoldingRangeFeature=qat});var g4e=V(eL=>{"use strict";d();Object.defineProperty(eL,"__esModule",{value:!0});eL.InlayHintFeature=void 0;var NX=ri(),Wat=o(e=>class extends e{get inlayHint(){return{refresh:o(()=>this.connection.sendRequest(NX.InlayHintRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(NX.InlayHintRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on"),resolve:o(t=>this.connection.onRequest(NX.InlayHintResolveRequest.type,(r,n)=>t(r,n)),"resolve")}}},"InlayHintFeature");eL.InlayHintFeature=Wat});var A4e=V(tL=>{"use strict";d();Object.defineProperty(tL,"__esModule",{value:!0});tL.DiagnosticFeature=void 0;var UT=ri(),Gat=o(e=>class extends e{get diagnostics(){return{refresh:o(()=>this.connection.sendRequest(UT.DiagnosticRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(UT.DocumentDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(UT.DocumentDiagnosticRequest.partialResult,r))),"on"),onWorkspace:o(t=>this.connection.onRequest(UT.WorkspaceDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(UT.WorkspaceDiagnosticRequest.partialResult,r))),"onWorkspace")}}},"DiagnosticFeature");tL.DiagnosticFeature=Gat});var QX=V(rL=>{"use strict";d();Object.defineProperty(rL,"__esModule",{value:!0});rL.TextDocuments=void 0;var e4=ri(),LX=class{static{o(this,"TextDocuments")}constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new e4.Emitter,this._onDidOpen=new e4.Emitter,this._onDidClose=new e4.Emitter,this._onDidSave=new e4.Emitter,this._onWillSave=new e4.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=e4.TextDocumentSyncKind.Incremental;let r=[];return r.push(t.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,s);let a=Object.freeze({document:s});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),r.push(t.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges;if(s.length===0)return;let{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=this._syncedDocuments.get(i.uri);l!==void 0&&(l=this._configuration.update(l,s,a),this._syncedDocuments.set(i.uri,l),this._onDidChangeContent.fire(Object.freeze({document:l})))})),r.push(t.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(t.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(t.onWillSaveTextDocumentWaitUntil((n,i)=>{let s=this._syncedDocuments.get(n.textDocument.uri);return s!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:s,reason:n.reason}),i):[]})),r.push(t.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),e4.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};rL.TextDocuments=LX});var OX=V(Gv=>{"use strict";d();Object.defineProperty(Gv,"__esModule",{value:!0});Gv.NotebookDocuments=Gv.NotebookSyncFeature=void 0;var ed=ri(),y4e=QX(),Hat=o(e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:o(t=>this.connection.onNotification(ed.DidOpenNotebookDocumentNotification.type,r=>{t(r)}),"onDidOpenNotebookDocument"),onDidChangeNotebookDocument:o(t=>this.connection.onNotification(ed.DidChangeNotebookDocumentNotification.type,r=>{t(r)}),"onDidChangeNotebookDocument"),onDidSaveNotebookDocument:o(t=>this.connection.onNotification(ed.DidSaveNotebookDocumentNotification.type,r=>{t(r)}),"onDidSaveNotebookDocument"),onDidCloseNotebookDocument:o(t=>this.connection.onNotification(ed.DidCloseNotebookDocumentNotification.type,r=>{t(r)}),"onDidCloseNotebookDocument")}}},"NotebookSyncFeature");Gv.NotebookSyncFeature=Hat;var nL=class e{static{o(this,"CellTextDocumentConnection")}onDidOpenTextDocument(t){return this.openHandler=t,ed.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,ed.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,ed.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};nL.NULL_DISPOSE=Object.freeze({dispose:o(()=>{},"dispose")});var MX=class{static{o(this,"NotebookDocuments")}constructor(t){t instanceof y4e.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new y4e.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new ed.Emitter,this._onDidChange=new ed.Emitter,this._onDidSave=new ed.Emitter,this._onDidClose=new ed.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let r=this.notebookCellMap.get(t);return r&&r[0]}findNotebookDocumentForCell(t){let r=typeof t=="string"?t:t.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let r=new nL,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let s of i.cellTextDocuments)r.openTextDocument({textDocument:s});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s===void 0)return;s.version=i.notebookDocument.version;let a=s.metadata,l=!1,c=i.change;c.metadata!==void 0&&(l=!0,s.metadata=c.metadata);let u=[],f=[],m=[],h=[];if(c.cells!==void 0){let b=c.cells;if(b.structure!==void 0){let v=b.structure.array;if(s.cells.splice(v.start,v.deleteCount,...v.cells!==void 0?v.cells:[]),b.structure.didOpen!==void 0)for(let S of b.structure.didOpen)r.openTextDocument({textDocument:S}),u.push(S.uri);if(b.structure.didClose)for(let S of b.structure.didClose)r.closeTextDocument({textDocument:S}),f.push(S.uri)}if(b.data!==void 0){let v=new Map(b.data.map(S=>[S.document,S]));for(let S=0;S<=s.cells.length;S++){let B=v.get(s.cells[S].document);if(B!==void 0){let P=s.cells.splice(S,1,B);if(m.push({old:P[0],new:B}),v.delete(B.document),v.size===0)break}}}if(b.textContent!==void 0)for(let v of b.textContent)r.changeTextDocument({textDocument:v.document,contentChanges:v.changes}),h.push(v.document.uri)}this.updateCellMap(s);let p={notebookDocument:s};l&&(p.metadata={old:a,new:s.metadata});let A=[];for(let b of u)A.push(this.getNotebookCell(b));let E=[];for(let b of f)E.push(this.getNotebookCell(b));let x=[];for(let b of h)x.push(this.getNotebookCell(b));(A.length>0||E.length>0||m.length>0||x.length>0)&&(p.cells={added:A,removed:E,changed:{data:m,textContent:x}}),(p.metadata!==void 0||p.cells!==void 0)&&this._onDidChange.fire(p)})),n.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);s!==void 0&&this._onDidSave.fire(s)})),n.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s!==void 0){this._onDidClose.fire(s);for(let a of i.cellTextDocuments)r.closeTextDocument({textDocument:a});this.notebookDocuments.delete(i.notebookDocument.uri);for(let a of s.cells)this.notebookCellMap.delete(a.document)}})),ed.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(t){for(let r of t.cells)this.notebookCellMap.set(r.document,[r,t])}};Gv.NotebookDocuments=MX});var C4e=V(iL=>{"use strict";d();Object.defineProperty(iL,"__esModule",{value:!0});iL.MonikerFeature=void 0;var Vat=ri(),jat=o(e=>class extends e{get moniker(){return{on:o(t=>{let r=Vat.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"MonikerFeature");iL.MonikerFeature=jat});var VX=V(eo=>{"use strict";d();Object.defineProperty(eo,"__esModule",{value:!0});eo.createConnection=eo.combineFeatures=eo.combineNotebooksFeatures=eo.combineLanguagesFeatures=eo.combineWorkspaceFeatures=eo.combineWindowFeatures=eo.combineClientFeatures=eo.combineTracerFeatures=eo.combineTelemetryFeatures=eo.combineConsoleFeatures=eo._NotebooksImpl=eo._LanguagesImpl=eo.BulkUnregistration=eo.BulkRegistration=eo.ErrorMessageTracker=void 0;var dr=ri(),td=ON(),qX=_X(),Qn=i4e(),$at=o4e(),zat=s4e(),Yat=a4e(),Kat=PX(),Jat=l4e(),Xat=c4e(),Zat=u4e(),elt=f4e(),tlt=m4e(),rlt=p4e(),nlt=g4e(),ilt=A4e(),olt=OX(),slt=C4e();function UX(e){if(e!==null)return e}o(UX,"null2Undefined");var WX=class{static{o(this,"ErrorMessageTracker")}constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};eo.ErrorMessageTracker=WX;var oL=class{static{o(this,"RemoteConsoleImpl")}constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(dr.MessageType.Error,t)}warn(t){this.send(dr.MessageType.Warning,t)}info(t){this.send(dr.MessageType.Info,t)}log(t){this.send(dr.MessageType.Log,t)}debug(t){this.send(dr.MessageType.Debug,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(dr.LogMessageNotification.type,{type:t,message:r}).catch(()=>{(0,dr.RAL)().console.error("Sending log message failed")})}},GX=class{static{o(this,"_RemoteWindowImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:dr.MessageType.Error,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(UX)}showWarningMessage(t,...r){let n={type:dr.MessageType.Warning,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(UX)}showInformationMessage(t,...r){let n={type:dr.MessageType.Info,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(UX)}},E4e=(0,Jat.ShowDocumentFeature)((0,Qn.ProgressFeature)(GX)),x4e;(function(e){function t(){return new sL}o(t,"create"),e.create=t})(x4e||(eo.BulkRegistration=x4e={}));var sL=class{static{o(this,"BulkRegistrationImpl")}constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=td.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=qX.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},b4e;(function(e){function t(){return new qT(void 0,[])}o(t,"create"),e.create=t})(b4e||(eo.BulkUnregistration=b4e={}));var qT=class{static{o(this,"BulkUnregistrationImpl")}constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(dr.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=td.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(dr.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},s=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},aL=class{static{o(this,"RemoteClientImpl")}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof sL?this.registerMany(t):t instanceof qT?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=td.string(r)?r:r.method,s=qX.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(dr.RegistrationRequest.type,a).then(l=>(t.add({id:s,method:i}),t),l=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(l)))}registerSingle2(t,r){let n=td.string(t)?t:t.method,i=qX.generateUuid(),s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(dr.RegistrationRequest.type,s).then(a=>dr.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),a=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(a)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this.connection.sendRequest(dr.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this.connection.sendRequest(dr.RegistrationRequest.type,r).then(()=>new qT(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},HX=class{static{o(this,"_RemoteWorkspaceImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}o(r,"isApplyWorkspaceEditParams");let n=r(t)?t:{edit:t};return this.connection.sendRequest(dr.ApplyWorkspaceEditRequest.type,n)}},v4e=(0,Xat.FileOperationsFeature)((0,zat.WorkspaceFoldersFeature)((0,$at.ConfigurationFeature)(HX))),lL=class{static{o(this,"TracerImpl")}constructor(){this._trace=dr.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==dr.Trace.Off&&this.connection.sendNotification(dr.LogTraceNotification.type,{message:t,verbose:this._trace===dr.Trace.Verbose?r:void 0}).catch(()=>{})}},cL=class{static{o(this,"TelemetryImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(dr.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},uL=class{static{o(this,"_LanguagesImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Qn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Qn.attachPartialResult)(this.connection,r)}};eo._LanguagesImpl=uL;var I4e=(0,rlt.FoldingRangeFeature)((0,slt.MonikerFeature)((0,ilt.DiagnosticFeature)((0,nlt.InlayHintFeature)((0,tlt.InlineValueFeature)((0,elt.TypeHierarchyFeature)((0,Zat.LinkedEditingRangeFeature)((0,Kat.SemanticTokensFeature)((0,Yat.CallHierarchyFeature)(uL))))))))),fL=class{static{o(this,"_NotebooksImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Qn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Qn.attachPartialResult)(this.connection,r)}};eo._NotebooksImpl=fL;var T4e=(0,olt.NotebookSyncFeature)(fL);function w4e(e,t){return function(r){return t(e(r))}}o(w4e,"combineConsoleFeatures");eo.combineConsoleFeatures=w4e;function S4e(e,t){return function(r){return t(e(r))}}o(S4e,"combineTelemetryFeatures");eo.combineTelemetryFeatures=S4e;function _4e(e,t){return function(r){return t(e(r))}}o(_4e,"combineTracerFeatures");eo.combineTracerFeatures=_4e;function k4e(e,t){return function(r){return t(e(r))}}o(k4e,"combineClientFeatures");eo.combineClientFeatures=k4e;function B4e(e,t){return function(r){return t(e(r))}}o(B4e,"combineWindowFeatures");eo.combineWindowFeatures=B4e;function R4e(e,t){return function(r){return t(e(r))}}o(R4e,"combineWorkspaceFeatures");eo.combineWorkspaceFeatures=R4e;function D4e(e,t){return function(r){return t(e(r))}}o(D4e,"combineLanguagesFeatures");eo.combineLanguagesFeatures=D4e;function P4e(e,t){return function(r){return t(e(r))}}o(P4e,"combineNotebooksFeatures");eo.combineNotebooksFeatures=P4e;function alt(e,t){function r(i,s,a){return i&&s?a(i,s):i||s}return o(r,"combine"),{__brand:"features",console:r(e.console,t.console,w4e),tracer:r(e.tracer,t.tracer,_4e),telemetry:r(e.telemetry,t.telemetry,S4e),client:r(e.client,t.client,k4e),window:r(e.window,t.window,B4e),workspace:r(e.workspace,t.workspace,R4e),languages:r(e.languages,t.languages,D4e),notebooks:r(e.notebooks,t.notebooks,P4e)}}o(alt,"combineFeatures");eo.combineFeatures=alt;function llt(e,t,r){let n=r&&r.console?new(r.console(oL)):new oL,i=e(n);n.rawAttach(i);let s=r&&r.tracer?new(r.tracer(lL)):new lL,a=r&&r.telemetry?new(r.telemetry(cL)):new cL,l=r&&r.client?new(r.client(aL)):new aL,c=r&&r.window?new(r.window(E4e)):new E4e,u=r&&r.workspace?new(r.workspace(v4e)):new v4e,f=r&&r.languages?new(r.languages(I4e)):new I4e,m=r&&r.notebooks?new(r.notebooks(T4e)):new T4e,h=[n,s,a,l,c,u,f,m];function p(v){return v instanceof Promise?v:td.thenable(v)?new Promise((S,B)=>{v.then(P=>S(P),P=>B(P))}):Promise.resolve(v)}o(p,"asPromise");let A,E,x,b={listen:o(()=>i.listen(),"listen"),sendRequest:o((v,...S)=>i.sendRequest(td.string(v)?v:v.method,...S),"sendRequest"),onRequest:o((v,S)=>i.onRequest(v,S),"onRequest"),sendNotification:o((v,S)=>{let B=td.string(v)?v:v.method;return i.sendNotification(B,S)},"sendNotification"),onNotification:o((v,S)=>i.onNotification(v,S),"onNotification"),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:o(v=>(E=v,{dispose:o(()=>{E=void 0},"dispose")}),"onInitialize"),onInitialized:o(v=>i.onNotification(dr.InitializedNotification.type,v),"onInitialized"),onShutdown:o(v=>(A=v,{dispose:o(()=>{A=void 0},"dispose")}),"onShutdown"),onExit:o(v=>(x=v,{dispose:o(()=>{x=void 0},"dispose")}),"onExit"),get console(){return n},get telemetry(){return a},get tracer(){return s},get client(){return l},get window(){return c},get workspace(){return u},get languages(){return f},get notebooks(){return m},onDidChangeConfiguration:o(v=>i.onNotification(dr.DidChangeConfigurationNotification.type,v),"onDidChangeConfiguration"),onDidChangeWatchedFiles:o(v=>i.onNotification(dr.DidChangeWatchedFilesNotification.type,v),"onDidChangeWatchedFiles"),__textDocumentSync:void 0,onDidOpenTextDocument:o(v=>i.onNotification(dr.DidOpenTextDocumentNotification.type,v),"onDidOpenTextDocument"),onDidChangeTextDocument:o(v=>i.onNotification(dr.DidChangeTextDocumentNotification.type,v),"onDidChangeTextDocument"),onDidCloseTextDocument:o(v=>i.onNotification(dr.DidCloseTextDocumentNotification.type,v),"onDidCloseTextDocument"),onWillSaveTextDocument:o(v=>i.onNotification(dr.WillSaveTextDocumentNotification.type,v),"onWillSaveTextDocument"),onWillSaveTextDocumentWaitUntil:o(v=>i.onRequest(dr.WillSaveTextDocumentWaitUntilRequest.type,v),"onWillSaveTextDocumentWaitUntil"),onDidSaveTextDocument:o(v=>i.onNotification(dr.DidSaveTextDocumentNotification.type,v),"onDidSaveTextDocument"),sendDiagnostics:o(v=>i.sendNotification(dr.PublishDiagnosticsNotification.type,v),"sendDiagnostics"),onHover:o(v=>i.onRequest(dr.HoverRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),void 0)),"onHover"),onCompletion:o(v=>i.onRequest(dr.CompletionRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onCompletion"),onCompletionResolve:o(v=>i.onRequest(dr.CompletionResolveRequest.type,v),"onCompletionResolve"),onSignatureHelp:o(v=>i.onRequest(dr.SignatureHelpRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),void 0)),"onSignatureHelp"),onDeclaration:o(v=>i.onRequest(dr.DeclarationRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDeclaration"),onDefinition:o(v=>i.onRequest(dr.DefinitionRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDefinition"),onTypeDefinition:o(v=>i.onRequest(dr.TypeDefinitionRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onTypeDefinition"),onImplementation:o(v=>i.onRequest(dr.ImplementationRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onImplementation"),onReferences:o(v=>i.onRequest(dr.ReferencesRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onReferences"),onDocumentHighlight:o(v=>i.onRequest(dr.DocumentHighlightRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDocumentHighlight"),onDocumentSymbol:o(v=>i.onRequest(dr.DocumentSymbolRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDocumentSymbol"),onWorkspaceSymbol:o(v=>i.onRequest(dr.WorkspaceSymbolRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onWorkspaceSymbol"),onWorkspaceSymbolResolve:o(v=>i.onRequest(dr.WorkspaceSymbolResolveRequest.type,v),"onWorkspaceSymbolResolve"),onCodeAction:o(v=>i.onRequest(dr.CodeActionRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onCodeAction"),onCodeActionResolve:o(v=>i.onRequest(dr.CodeActionResolveRequest.type,(S,B)=>v(S,B)),"onCodeActionResolve"),onCodeLens:o(v=>i.onRequest(dr.CodeLensRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onCodeLens"),onCodeLensResolve:o(v=>i.onRequest(dr.CodeLensResolveRequest.type,(S,B)=>v(S,B)),"onCodeLensResolve"),onDocumentFormatting:o(v=>i.onRequest(dr.DocumentFormattingRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),void 0)),"onDocumentFormatting"),onDocumentRangeFormatting:o(v=>i.onRequest(dr.DocumentRangeFormattingRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),void 0)),"onDocumentRangeFormatting"),onDocumentOnTypeFormatting:o(v=>i.onRequest(dr.DocumentOnTypeFormattingRequest.type,(S,B)=>v(S,B)),"onDocumentOnTypeFormatting"),onRenameRequest:o(v=>i.onRequest(dr.RenameRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),void 0)),"onRenameRequest"),onPrepareRename:o(v=>i.onRequest(dr.PrepareRenameRequest.type,(S,B)=>v(S,B)),"onPrepareRename"),onDocumentLinks:o(v=>i.onRequest(dr.DocumentLinkRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDocumentLinks"),onDocumentLinkResolve:o(v=>i.onRequest(dr.DocumentLinkResolveRequest.type,(S,B)=>v(S,B)),"onDocumentLinkResolve"),onDocumentColor:o(v=>i.onRequest(dr.DocumentColorRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onDocumentColor"),onColorPresentation:o(v=>i.onRequest(dr.ColorPresentationRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onColorPresentation"),onFoldingRanges:o(v=>i.onRequest(dr.FoldingRangeRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onFoldingRanges"),onSelectionRanges:o(v=>i.onRequest(dr.SelectionRangeRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),(0,Qn.attachPartialResult)(i,S))),"onSelectionRanges"),onExecuteCommand:o(v=>i.onRequest(dr.ExecuteCommandRequest.type,(S,B)=>v(S,B,(0,Qn.attachWorkDone)(i,S),void 0)),"onExecuteCommand"),dispose:o(()=>i.dispose(),"dispose")};for(let v of h)v.attach(b);return i.onRequest(dr.InitializeRequest.type,v=>{t.initialize(v),td.string(v.trace)&&(s.trace=dr.Trace.fromString(v.trace));for(let S of h)S.initialize(v.capabilities);if(E){let S=E(v,new dr.CancellationTokenSource().token,(0,Qn.attachWorkDone)(i,v),void 0);return p(S).then(B=>{if(B instanceof dr.ResponseError)return B;let P=B;P||(P={capabilities:{}});let F=P.capabilities;F||(F={},P.capabilities=F),F.textDocumentSync===void 0||F.textDocumentSync===null?F.textDocumentSync=td.number(b.__textDocumentSync)?b.__textDocumentSync:dr.TextDocumentSyncKind.None:!td.number(F.textDocumentSync)&&!td.number(F.textDocumentSync.change)&&(F.textDocumentSync.change=td.number(b.__textDocumentSync)?b.__textDocumentSync:dr.TextDocumentSyncKind.None);for(let G of h)G.fillServerCapabilities(F);return P})}else{let S={capabilities:{textDocumentSync:dr.TextDocumentSyncKind.None}};for(let B of h)B.fillServerCapabilities(S.capabilities);return S}}),i.onRequest(dr.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,A)return A(new dr.CancellationTokenSource().token)}),i.onNotification(dr.ExitNotification.type,()=>{try{x&&x()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(dr.SetTraceNotification.type,v=>{s.trace=dr.Trace.fromString(v.value)}),b}o(llt,"createConnection");eo.createConnection=llt});var F4e=V(Pc=>{"use strict";d();Object.defineProperty(Pc,"__esModule",{value:!0});Pc.resolveModulePath=Pc.FileSystem=Pc.resolveGlobalYarnPath=Pc.resolveGlobalNodePath=Pc.resolve=Pc.uriToFilePath=void 0;var clt=require("url"),Fm=require("path"),jX=require("fs"),KX=require("child_process");function ult(e){let t=clt.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],a=r[1];s.length===0&&a.length>1&&a[1]===":"&&r.shift()}return Fm.normalize(r.join("/"))}o(ult,"uriToFilePath");Pc.uriToFilePath=ult;function $X(){return process.platform==="win32"}o($X,"isWindows");function dL(e,t,r,n){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,l)=>{let c=process.env,u=Object.create(null);Object.keys(c).forEach(f=>u[f]=c[f]),t&&jX.existsSync(t)&&(u[i]?u[i]=t+Fm.delimiter+u[i]:u[i]=t,n&&n(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let f=(0,KX.fork)("",[],{cwd:r,env:u,execArgv:["-e",s]});if(f.pid===void 0){l(new Error(`Starting process to resolve node module  ${e} failed`));return}f.on("error",h=>{l(h)}),f.on("message",h=>{h.c==="r"&&(f.send({c:"e"}),h.s?a(h.r):l(new Error(`Failed to resolve module: ${e}`)))});let m={c:"rs",a:e};f.send(m)}catch(f){l(f)}})}o(dL,"resolve");Pc.resolve=dL;function zX(e){let t="npm",r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};$X()&&(t="npm.cmd",n.shell=!0);let i=o(()=>{},"handler");try{process.on("SIGPIPE",i);let s=(0,KX.spawnSync)(t,["config","get","prefix"],n).stdout;if(!s){e&&e("'npm config get prefix' didn't return a value.");return}let a=s.trim();return e&&e(`'npm config get prefix' value is: ${a}`),a.length>0?$X()?Fm.join(a,"node_modules"):Fm.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}o(zX,"resolveGlobalNodePath");Pc.resolveGlobalNodePath=zX;function flt(e){let t="yarn",r={encoding:"utf8"};$X()&&(t="yarn.cmd",r.shell=!0);let n=o(()=>{},"handler");try{process.on("SIGPIPE",n);let i=(0,KX.spawnSync)(t,["global","dir","--json"],r),s=i.stdout;if(!s){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let l of a)try{let c=JSON.parse(l);if(c.type==="log")return Fm.join(c.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",n)}}o(flt,"resolveGlobalYarnPath");Pc.resolveGlobalYarnPath=flt;var YX;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!jX.existsSync(__filename.toUpperCase())||!jX.existsSync(__filename.toLowerCase())),t}o(r,"isCaseSensitive"),e.isCaseSensitive=r;function n(i,s){return r()?Fm.normalize(s).indexOf(Fm.normalize(i))===0:Fm.normalize(s).toLowerCase().indexOf(Fm.normalize(i).toLowerCase())===0}o(n,"isParent"),e.isParent=n})(YX||(Pc.FileSystem=YX={}));function dlt(e,t,r,n){return r?(Fm.isAbsolute(r)||(r=Fm.join(e,r)),dL(t,r,r,n).then(i=>YX.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>dL(t,zX(n),e,n))):dL(t,zX(n),e,n)}o(dlt,"resolveModulePath");Pc.resolveModulePath=dlt});var JX=V((tCr,N4e)=>{"use strict";d();N4e.exports=ri()});var L4e=V(mL=>{"use strict";d();Object.defineProperty(mL,"__esModule",{value:!0});mL.InlineCompletionFeature=void 0;var mlt=ri(),hlt=o(e=>class extends e{get inlineCompletion(){return{on:o(t=>this.connection.onRequest(mlt.InlineCompletionRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineCompletionFeature");mL.InlineCompletionFeature=hlt});var O4e=V(C0=>{"use strict";d();var plt=C0&&C0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),M4e=C0&&C0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&plt(t,e,r)};Object.defineProperty(C0,"__esModule",{value:!0});C0.ProposedFeatures=C0.NotebookDocuments=C0.TextDocuments=C0.SemanticTokensBuilder=void 0;var glt=PX();Object.defineProperty(C0,"SemanticTokensBuilder",{enumerable:!0,get:o(function(){return glt.SemanticTokensBuilder},"get")});var Alt=L4e();M4e(ri(),C0);var ylt=QX();Object.defineProperty(C0,"TextDocuments",{enumerable:!0,get:o(function(){return ylt.TextDocuments},"get")});var Clt=OX();Object.defineProperty(C0,"NotebookDocuments",{enumerable:!0,get:o(function(){return Clt.NotebookDocuments},"get")});M4e(VX(),C0);var Q4e;(function(e){e.all={__brand:"features",languages:Alt.InlineCompletionFeature}})(Q4e||(C0.ProposedFeatures=Q4e={}))});var E0=V(rd=>{"use strict";d();var Elt=rd&&rd.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),G4e=rd&&rd.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Elt(t,e,r)};Object.defineProperty(rd,"__esModule",{value:!0});rd.createConnection=rd.Files=void 0;var U4e=require("node:util"),XX=ON(),xlt=VX(),WT=F4e(),t4=JX();G4e(JX(),rd);G4e(O4e(),rd);var q4e;(function(e){e.uriToFilePath=WT.uriToFilePath,e.resolveGlobalNodePath=WT.resolveGlobalNodePath,e.resolveGlobalYarnPath=WT.resolveGlobalYarnPath,e.resolve=WT.resolve,e.resolveModulePath=WT.resolveModulePath})(q4e||(rd.Files=q4e={}));var W4e;function hL(){if(W4e!==void 0)try{W4e.end()}catch{}}o(hL,"endProtocolConnection");var Hv=!1,H4e;function blt(){let e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(H4e=setInterval(()=>{try{process.kill(n,0)}catch{hL(),process.exit(Hv?0:1)}},3e3))}catch{}}o(t,"runTimer");for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}o(blt,"setupExitTimer");blt();var vlt={initialize:o(e=>{let t=e.processId;XX.number(t)&&H4e===void 0&&setInterval(()=>{try{process.kill(t,0)}catch{process.exit(Hv?0:1)}},3e3)},"initialize"),get shutdownReceived(){return Hv},set shutdownReceived(e){Hv=e},exit:o(e=>{hL(),process.exit(e)},"exit")};function Ilt(e,t,r,n){let i,s,a,l;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),t4.ConnectionStrategy.is(e)||t4.ConnectionOptions.is(e)?l=e:(s=e,a=t,l=r),Tlt(s,a,l,i)}o(Ilt,"createConnection");rd.createConnection=Ilt;function Tlt(e,t,r,n){let i=!1;if(!e&&!t&&process.argv.length>2){let c,u,f=process.argv.slice(2);for(let m=0;m<f.length;m++){let h=f[m];if(h==="--node-ipc"){e=new t4.IPCMessageReader(process),t=new t4.IPCMessageWriter(process);break}else if(h==="--stdio"){i=!0,e=process.stdin,t=process.stdout;break}else if(h==="--socket"){c=parseInt(f[m+1]);break}else if(h==="--pipe"){u=f[m+1];break}else{var s=h.split("=");if(s[0]==="--socket"){c=parseInt(s[1]);break}else if(s[0]==="--pipe"){u=s[1];break}}}if(c){let m=(0,t4.createServerSocketTransport)(c);e=m[0],t=m[1]}else if(u){let m=(0,t4.createServerPipeTransport)(u);e=m[0],t=m[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+a);if(!t)throw new Error("Connection output stream is not set. "+a);if(XX.func(e.read)&&XX.func(e.on)){let c=e;c.on("end",()=>{hL(),process.exit(Hv?0:1)}),c.on("close",()=>{hL(),process.exit(Hv?0:1)})}let l=o(c=>{let u=(0,t4.createProtocolConnection)(e,t,c,r);return i&&wlt(c),u},"connectionFactory");return(0,xlt.createConnection)(l,vlt,n)}o(Tlt,"_createConnection");function wlt(e){function t(n){return n.map(i=>typeof i=="string"?i:(0,U4e.inspect)(i)).join(" ")}o(t,"serialize");let r=new Map;console.assert=o(function(i,...s){if(!i)if(s.length===0)e.error("Assertion failed");else{let[a,...l]=s;e.error(`Assertion failed: ${a} ${t(l)}`)}},"assert"),console.count=o(function(i="default"){let s=String(i),a=r.get(s)??0;a+=1,r.set(s,a),e.log(`${s}: ${s}`)},"count"),console.countReset=o(function(i){i===void 0?r.clear():r.delete(String(i))},"countReset"),console.debug=o(function(...i){e.log(t(i))},"debug"),console.dir=o(function(i,s){e.log((0,U4e.inspect)(i,s))},"dir"),console.log=o(function(...i){e.log(t(i))},"log"),console.error=o(function(...i){e.error(t(i))},"error"),console.trace=o(function(...i){let s=new Error().stack.replace(/(.+\n){2}/,""),a="Trace";i.length!==0&&(a+=`: ${t(i)}`),e.log(`${a}
${s}`)},"trace"),console.warn=o(function(...i){e.warn(t(i))},"warn")}o(wlt,"patchConsole")});var dp=V((mCr,V4e)=>{"use strict";d();V4e.exports=E0()});var Fbe=V((xIr,Pbe)=>{"use strict";d();Pbe.exports=Rbe;function Rbe(e,t,r){e instanceof RegExp&&(e=Bbe(e,r)),t instanceof RegExp&&(t=Bbe(t,r));var n=Dbe(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(Rbe,"balanced");function Bbe(e,t){var r=t.match(e);return r?r[0]:null}o(Bbe,"maybeMatch");Rbe.range=Dbe;function Dbe(e,t,r){var n,i,s,a,l,c=r.indexOf(e),u=r.indexOf(t,c+1),f=c;if(c>=0&&u>0){if(e===t)return[c,u];for(n=[],s=r.length;f>=0&&!l;)f==c?(n.push(f),c=r.indexOf(e,f+1)):n.length==1?l=[n.pop(),u]:(i=n.pop(),i<s&&(s=i,a=u),u=r.indexOf(t,f+1)),f=c<u&&c>=0?c:u;n.length&&(l=[s,a])}return l}o(Dbe,"range")});var Wbe=V((IIr,qbe)=>{d();var Nbe=Fbe();qbe.exports=P0t;var Lbe="\0SLASH"+Math.random()+"\0",Qbe="\0OPEN"+Math.random()+"\0",see="\0CLOSE"+Math.random()+"\0",Mbe="\0COMMA"+Math.random()+"\0",Obe="\0PERIOD"+Math.random()+"\0";function oee(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(oee,"numeric");function R0t(e){return e.split("\\\\").join(Lbe).split("\\{").join(Qbe).split("\\}").join(see).split("\\,").join(Mbe).split("\\.").join(Obe)}o(R0t,"escapeBraces");function D0t(e){return e.split(Lbe).join("\\").split(Qbe).join("{").split(see).join("}").split(Mbe).join(",").split(Obe).join(".")}o(D0t,"unescapeBraces");function Ube(e){if(!e)return[""];var t=[],r=Nbe("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=Ube(s);return s.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}o(Ube,"parseCommaParts");function P0t(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),cw(R0t(e),!0).map(D0t)):[]}o(P0t,"expandTop");function F0t(e){return"{"+e+"}"}o(F0t,"embrace");function N0t(e){return/^-?0\d/.test(e)}o(N0t,"isPadded");function L0t(e,t){return e<=t}o(L0t,"lte");function Q0t(e,t){return e>=t}o(Q0t,"gte");function cw(e,t){var r=[],n=Nbe("{","}",e);if(!n)return[e];var i=n.pre,s=n.post.length?cw(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var l=i+"{"+n.body+"}"+s[a];r.push(l)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=c||u,m=n.body.indexOf(",")>=0;if(!f&&!m)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+see+n.post,cw(e)):[e];var h;if(f)h=n.body.split(/\.\./);else if(h=Ube(n.body),h.length===1&&(h=cw(h[0],!1).map(F0t),h.length===1))return s.map(function(Z){return n.pre+h[0]+Z});var p;if(f){var A=oee(h[0]),E=oee(h[1]),x=Math.max(h[0].length,h[1].length),b=h.length==3?Math.abs(oee(h[2])):1,v=L0t,S=E<A;S&&(b*=-1,v=Q0t);var B=h.some(N0t);p=[];for(var P=A;v(P,E);P+=b){var F;if(u)F=String.fromCharCode(P),F==="\\"&&(F="");else if(F=String(P),B){var G=x-F.length;if(G>0){var re=new Array(G+1).join("0");P<0?F="-"+re+F.slice(1):F=re+F}}p.push(F)}}else{p=[];for(var pe=0;pe<h.length;pe++)p.push.apply(p,cw(h[pe],!1))}for(var pe=0;pe<p.length;pe++)for(var a=0;a<s.length;a++){var l=i+p[pe]+s[a];(!t||f||l)&&r.push(l)}}return r}o(cw,"expand")});var uI=V(Ap=>{"use strict";d();Object.defineProperty(Ap,"__esModule",{value:!0});Ap.BaseTokensPerName=Ap.BaseTokensPerMessage=Ap.BaseTokensPerCompletion=Ap.ChatRole=void 0;var Cve;(function(e){e.System="system",e.User="user",e.Assistant="assistant",e.Function="function",e.Tool="tool"})(Cve||(Ap.ChatRole=Cve={}));Ap.BaseTokensPerCompletion=3;Ap.BaseTokensPerMessage=3;Ap.BaseTokensPerName=1});var Eve=V(Aee=>{"use strict";d();Object.defineProperty(Aee,"__esModule",{value:!0});Aee.once=Mct;function Mct(e){let t,r=!1,n=o((...i)=>(r||(t=e(...i),r=!0),t),"wrappedFunction");return n.clear=()=>{r=!1},n}o(Mct,"once")});var xee=V(yp=>{"use strict";d();Object.defineProperty(yp,"__esModule",{value:!0});yp.MaterializedChatMessageImage=yp.MaterializedChatMessage=yp.MaterializedChatMessageTextChunk=yp.MaterializedContainer=void 0;var fI=Eve(),E4=uI(),O5=class e{static{o(this,"MaterializedContainer")}parent;id;name;priority;metadata;flags;children;keepWithId;constructor(t,r,n,i,s,a,l){if(this.parent=t,this.id=r,this.name=n,this.priority=i,this.metadata=a,this.flags=l,this.children=s(this),l&8){if(this.children.length!==2)throw new Error("Invalid number of children for EmptyAlternate flag");let[c,u]=this.children;u.isEmpty?this.children=[c]:this.children=[u]}}has(t){return!!(this.flags&t)}async tokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=b4(n)?await n.tokenCount(t):await n.upperBoundTokenCount(t);r+=i})),r}async upperBoundTokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r}replaceNode(t,r){return wve(t,this.children,r)}allMetadata(){return Tve(this)}findById(t){return Eee(t,this)}get isEmpty(){return!this.children.some(t=>!t.isEmpty)}onChunksChange(){this.parent?.onChunksChange()}*toChatMessages(){for(let t of this.children)Oct(t),t instanceof e?yield*t.toChatMessages():!t.isEmpty&&t instanceof dI&&(yield t.toChatMessage())}removeLowestPriorityChild(){let t=[];return Cee(this,t),t}};yp.MaterializedContainer=O5;var x4=class{static{o(this,"MaterializedChatMessageTextChunk")}parent;text;priority;metadata;lineBreakBefore;constructor(t,r,n,i=[],s){this.parent=t,this.text=r,this.priority=n,this.metadata=i,this.lineBreakBefore=s}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,fI.once)(async t=>await t.tokenLength(this.text)+(this.lineBreakBefore!==0?1:0));get isEmpty(){return!/\S/.test(this.text)}};yp.MaterializedChatMessageTextChunk=x4;var dI=class{static{o(this,"MaterializedChatMessage")}parent;id;role;name;toolCalls;toolCallId;priority;metadata;children;constructor(t,r,n,i,s,a,l,c,u){this.parent=t,this.id=r,this.role=n,this.name=i,this.toolCalls=s,this.toolCallId=a,this.priority=l,this.metadata=c,this.children=u(this)}async tokenCount(t){return this._tokenCount(t)}async upperBoundTokenCount(t){return this._upperBound(t)}get text(){return this._text()}get isEmpty(){return!this.toolCalls?.length&&!this.children.some(t=>!t.isEmpty)}replaceNode(t,r){let n=wve(t,this.children,r);return n&&this.onChunksChange(),n}removeLowestPriorityChild(){let t=[];return Cee(this,t),t}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear(),this.parent?.onChunksChange()}findById(t){return Eee(t,this)}_tokenCount=(0,fI.once)(async t=>t.countMessageTokens(this.toChatMessage()));_upperBound=(0,fI.once)(async t=>{let r=await this._baseMessageTokenCount(t);return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r});_baseMessageTokenCount=(0,fI.once)(t=>t.countMessageTokens({...this.toChatMessage(),content:""}));_text=(0,fI.once)(()=>{let t=[];for(let{text:r,isTextSibling:n}of Ive(this)){if(r instanceof Om){t.push(r);continue}if(r.lineBreakBefore===1||r.lineBreakBefore===2&&!n){let i=t[t.length-1];typeof i=="string"&&!i.endsWith(`
`)&&(t[t.length-1]=i+`
`)}typeof t[t.length-1]=="string"?t[t.length-1]+=r.text:t.push(r.text)}return t});toChatMessage(){let t=this.text.filter(r=>typeof r=="string").join("").trim();if(this.text.some(r=>r instanceof Om)){if(this.role!==E4.ChatRole.User)throw new Error("Only User messages can have images");let r=this.text.map(n=>{if(typeof n=="string")return{type:"text",text:n};if(n instanceof Om)return{type:"image_url",image_url:{url:Sve(n.src),detail:n.detail}};throw new Error("Unexpected element type")});return{role:E4.ChatRole.User,content:r}}if(this.role===E4.ChatRole.System)return{role:this.role,content:t,...this.name?{name:this.name}:{}};if(this.role===E4.ChatRole.Assistant){let r={role:this.role,content:t};return this.name&&(r.name=this.name),this.toolCalls?.length&&(r.tool_calls=this.toolCalls.map(n=>({function:n.function,id:n.id,type:n.type}))),r}else return this.role===E4.ChatRole.User?{role:this.role,content:t,...this.name?{name:this.name}:{}}:this.role===E4.ChatRole.Tool?{role:this.role,content:t,tool_call_id:this.toolCallId}:{role:this.role,content:t,name:this.name}}};yp.MaterializedChatMessage=dI;var Om=class{static{o(this,"MaterializedChatMessageImage")}parent;id;src;priority;metadata;lineBreakBefore;detail;constructor(t,r,n,i,s=[],a,l){this.parent=t,this.id=r,this.src=n,this.priority=i,this.metadata=s,this.lineBreakBefore=a,this.detail=l}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,fI.once)(async t=>await t.countMessageTokens({role:E4.ChatRole.User,content:[{type:"image_url",image_url:{url:Sve(this.src),detail:this.detail}}]}));isEmpty=!1};yp.MaterializedChatMessageImage=Om;function b4(e){return!(e instanceof x4||e instanceof Om)}o(b4,"isContainerType");function Oct(e){if(!(e instanceof O5)&&!(e instanceof dI)&&!(e instanceof Om))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${e.text}"`)}o(Oct,"assertContainerOrChatMessage");function*Ive(e,t=!1){for(let r of e.children)r instanceof x4?(yield{text:r,isTextSibling:t},t=!0):r instanceof Om?yield{text:r,isTextSibling:!1}:(r&&(yield*Ive(r,t)),t=!1)}o(Ive,"textChunks");function Uct(e,t){let r;function n(i,s){if(i instanceof x4||i instanceof Om)(!r||i.priority<r.node.priority)&&(r={chain:s.slice(),node:i});else{s.push(i);for(let a of i.children)n(a,s);s.pop()}}if(o(n,"findLowestInTree"),n(e,[]),!r)throw new Error("No lowest priority node found");mw(r.node,t)}o(Uct,"removeLowestPriorityLegacy");function Cee(e,t){let r;if(e instanceof O5&&e.has(1)){Uct(e,t);return}let n=e.children.map((i,s)=>({chain:[e],index:s}));for(let i=0;i<n.length;i++){let{chain:s,index:a}=n[i],l=s[s.length-1].children[a];if(l instanceof O5&&l.has(4)){let c=[...s,l];n.splice(i+1,0,...l.children.map((u,f)=>({chain:c,index:f})))}else if(!r||l.priority<r.value.priority)r={chain:s,index:a,value:l};else if(l.priority===r.value.priority){r.lowestNested??=xve(r.value);let c=xve(l);c<r.lowestNested&&(r={chain:s,index:a,value:l,lowestNested:c})}}if(!r)throw new Error("No lowest priority node found");r.value instanceof x4||r.value instanceof Om||r.value instanceof O5&&r.value.has(2)||b4(r.value)&&!r.value.children.length?mw(r.value,t):Cee(r.value,t)}o(Cee,"removeLowestPriorityChild");function xve(e){if(!b4(e))return-1;let t=Number.MAX_SAFE_INTEGER;for(let r of e.children)t=Math.min(t,r.priority);return t}o(xve,"getLowestPriorityAmongChildren");function*Tve(e){yield*e.metadata;for(let t of e.children)b4(t)?yield*Tve(t):yield*t.metadata}o(Tve,"allMetadata");function wve(e,t,r){for(let n=0;n<t.length;n++){let i=t[n];if(b4(i)){if(i.id===e){let a=t[n];return r.parent=i.parent,t[n]=r,a}let s=i.replaceNode(e,r);if(s)return s}}}o(wve,"replaceNode");function*bve(e){let t=[e];for(;t.length>0;){let r=t.pop();yield r,b4(r)&&t.push(...r.children)}}o(bve,"forEachNode");function qct(e){let t=e;for(;t.parent;)t=t.parent;return t}o(qct,"getRoot");function vve(e){return e instanceof O5&&e.keepWithId!==void 0}o(vve,"isKeepWith");var yee=new Set;function Wct(e,t){let r=new Set;for(let n of bve(e))vve(n)&&!yee.has(n.keepWithId)&&r.add(n.keepWithId);if(r.size===0)return!1;for(let n of r)yee.add(n);try{let n=qct(e);for(let i of bve(n))vve(i)&&r.has(i.keepWithId)?mw(i,t):i instanceof dI&&i.toolCalls&&(i.toolCalls=Gct(i.toolCalls,s=>!(s.keepWith&&r.has(s.keepWith.id))),i.isEmpty&&mw(i,t))}finally{for(let n of r)yee.delete(n)}}o(Wct,"removeOtherKeepWiths");function Eee(e,t){if(t.id===e)return t;for(let r of t.children)if(b4(r)){let n=Eee(e,r);if(n)return n}}o(Eee,"findNodeById");function mw(e,t){let r=e.parent;if(!r)return;let n=r.children.indexOf(e);n!==-1&&(r.children.splice(n,1),t.push(e),Wct(e,t),r.isEmpty?mw(r,t):r.onChunksChange())}o(mw,"removeNode");function Sve(e){let t={"/9j/":"image/jpeg",iVBOR:"image/png",R0lGOD:"image/gif",UklGR:"image/webp"};for(let r of Object.keys(t))if(e.startsWith(r))return`data:${t[r]};base64,${e}`;return e}o(Sve,"getEncodedBase64");function Gct(e,t){for(let r=0;r<e.length;r++){if(t(e[r]))continue;let n=e.slice(0,r);for(let i=r+1;i<e.length;i++)t(e[i])&&n.push(e[i]);return n}return e}o(Gct,"filterIfDifferent")});var kve=V(()=>{"use strict";d();function Hct(e,t,...r){return{ctor:e,props:t,children:r.flat()}}o(Hct,"_vscpp");function _ve(){throw new Error("This should not be invoked!")}o(_ve,"_vscppf");_ve.isFragment=!0;globalThis.vscpp=Hct;globalThis.vscppf=_ve});var vee=V(TQ=>{"use strict";d();Object.defineProperty(TQ,"__esModule",{value:!0});TQ.PromptElement=void 0;kve();var bee=class{static{o(this,"PromptElement")}props;get priority(){return this.props.priority??Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}constructor(t){this.props=t}};TQ.PromptElement=bee});var Fee=V(wi=>{"use strict";d();Object.defineProperty(wi,"__esModule",{value:!0});wi.IfEmpty=wi.AbstractKeepWith=wi.TokenLimit=wi.Expandable=wi.Chunk=wi.LegacyPrioritization=wi.ToolResult=wi.PrioritizedList=wi.BaseImageMessage=wi.TextChunk=wi.ToolMessage=wi.FunctionMessage=wi.AssistantMessage=wi.UserMessage=wi.SystemMessage=wi.BaseChatMessage=void 0;wi.isChatMessagePromptElement=Vct;wi.useKeepWith=Yct;var hw=uI(),Cp=vee();function Vct(e){return e instanceof wQ||e instanceof SQ||e instanceof _Q}o(Vct,"isChatMessagePromptElement");var w1=class extends Cp.PromptElement{static{o(this,"BaseChatMessage")}render(){return vscpp(vscppf,null,this.props.children)}};wi.BaseChatMessage=w1;var wQ=class extends w1{static{o(this,"SystemMessage")}constructor(t){t.role=hw.ChatRole.System,super(t)}};wi.SystemMessage=wQ;var SQ=class extends w1{static{o(this,"UserMessage")}constructor(t){t.role=hw.ChatRole.User,super(t)}};wi.UserMessage=SQ;var _Q=class extends w1{static{o(this,"AssistantMessage")}constructor(t){t.role=hw.ChatRole.Assistant,super(t)}};wi.AssistantMessage=_Q;var jct=/\s+/g,Iee=class extends w1{static{o(this,"FunctionMessage")}constructor(t){t.role=hw.ChatRole.Function,super(t)}};wi.FunctionMessage=Iee;var Tee=class extends w1{static{o(this,"ToolMessage")}constructor(t){t.role=hw.ChatRole.Tool,super(t)}};wi.ToolMessage=Tee;var kQ=class extends Cp.PromptElement{static{o(this,"TextChunk")}async prepare(t,r,n){let i=this.props.breakOnWhitespace?jct:this.props.breakOn;if(!i)return vscpp(vscppf,null,this.props.children);let s="",a=[];for(let c of this.props.children||[])if(c&&typeof c=="object"){if(typeof c.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");c.ctor==="br"?s+=`
`:a.push(c)}else c!=null&&(s+=c);let l=await $ct(t,i,s,n);return vscpp(vscppf,null,a,l)}render(t){return t}};wi.TextChunk=kQ;async function $ct(e,t,r,n){if(t instanceof RegExp){if(!t.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${t})`);t.lastIndex=0}let i="",s=-1;for(;s<r.length;){let a;typeof t=="string"?a=r.indexOf(t,s===-1?0:s+t.length):a=t.exec(r)?.index??-1,a===-1&&(a=r.length);let l=i+r.slice(Math.max(0,s),a);if(await e.countTokens(l,n)>e.tokenBudget)return i;i=l,s=a}return i}o($ct,"getTextContentBelowBudget");var wee=class extends w1{static{o(this,"BaseImageMessage")}constructor(t){super(t)}};wi.BaseImageMessage=wee;var See=class extends Cp.PromptElement{static{o(this,"PrioritizedList")}render(){let{children:t,priority:r=0,descending:n}=this.props;if(t)return vscpp(vscppf,null,t.map((i,s)=>{if(!i)return;let a=n?r-s:r-t.length+s;return typeof i!="object"?vscpp(kQ,{priority:a},i):(i.props??={},i.props.priority=a,i)}))}};wi.PrioritizedList=See;var _ee=class extends Cp.PromptElement{static{o(this,"ToolResult")}render(){return vscpp(vscppf,null,this.props.data.content.map(t=>{if(t&&typeof t.value=="string")return t.value;if(t&&t.value&&typeof t.value.node=="object")return vscpp("elementJSON",{data:t.value})}))}};wi.ToolResult=_ee;var kee=class extends Cp.PromptElement{static{o(this,"LegacyPrioritization")}render(){return vscpp(vscppf,null,this.props.children)}};wi.LegacyPrioritization=kee;var Bee=class extends Cp.PromptElement{static{o(this,"Chunk")}render(){return vscpp(vscppf,null,this.props.children)}};wi.Chunk=Bee;var Ree=class extends Cp.PromptElement{static{o(this,"Expandable")}async render(t,r){return vscpp(vscppf,null,await this.props.value(r))}};wi.Expandable=Ree;var Dee=class extends Cp.PromptElement{static{o(this,"TokenLimit")}render(){return vscpp(vscppf,null,this.props.children)}};wi.TokenLimit=Dee;var BQ=class extends Cp.PromptElement{static{o(this,"AbstractKeepWith")}};wi.AbstractKeepWith=BQ;var zct=0;function Yct(){let e=zct++;return class extends BQ{static{o(this,"KeepWith")}static id=e;id=e;render(){return vscpp(vscppf,null,this.props.children)}}}o(Yct,"useKeepWith");var Pee=class extends Cp.PromptElement{static{o(this,"IfEmpty")}render(){return vscpp(vscppf,null,[this.props.alt,this.props.children])}};wi.IfEmpty=Pee});var Rve=V(pw=>{"use strict";d();Object.defineProperty(pw,"__esModule",{value:!0});pw.localize=Kct;pw.localize2=Jct;pw.getConfiguredDefaultLocale=Xct;function Bve(e,t){let r;return t.length===0?r=e:r=e.replace(/\{(\d+)\}/g,function(n,i){let s=i[0];return typeof t[s]<"u"?t[s]:n}),r}o(Bve,"_format");function Kct(e,t,...r){return Bve(t,r)}o(Kct,"localize");function Jct(e,t,...r){let n=Bve(t,r);return{original:n,value:n}}o(Jct,"localize2");function Xct(e){}o(Xct,"getConfiguredDefaultLocale")});var Mee=V(Jt=>{"use strict";d();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.isAndroid=Jt.isEdge=Jt.isSafari=Jt.isFirefox=Jt.isChrome=Jt.OS=Jt.setTimeout0=Jt.setTimeout0IsFaster=Jt.translationsConfigFile=Jt.platformLocale=Jt.locale=Jt.Language=Jt.language=Jt.userAgent=Jt.platform=Jt.isCI=Jt.isMobile=Jt.isIOS=Jt.webWorkerOrigin=Jt.isWebWorker=Jt.isWeb=Jt.isElectron=Jt.isNative=Jt.isLinuxSnap=Jt.isLinux=Jt.isMacintosh=Jt.isWindows=Jt.LANGUAGE_DEFAULT=void 0;Jt.PlatformToString=eut;Jt.isLittleEndian=tut;Jt.isBigSurOrNewer=rut;var Dve=Rve();Jt.LANGUAGE_DEFAULT="en";var yw=!1,Cw=!1,Aw=!1,Lve=!1,Qve=!1,Lee=!1,Mve=!1,Qee=!1,Ove=!1,Uve=!1,gw,RQ=Jt.LANGUAGE_DEFAULT,Nee=Jt.LANGUAGE_DEFAULT,qve,S1,_1=globalThis,Wu;typeof _1.vscode<"u"&&typeof _1.vscode.process<"u"?Wu=_1.vscode.process:typeof process<"u"&&(Wu=process);var Wve=typeof Wu?.versions?.electron=="string",Zct=Wve&&Wu?.type==="renderer";if(typeof Wu=="object"){yw=Wu.platform==="win32",Cw=Wu.platform==="darwin",Aw=Wu.platform==="linux",Lve=Aw&&!!Wu.env.SNAP&&!!Wu.env.SNAP_REVISION,Mve=Wve,Ove=!!Wu.env.CI||!!Wu.env.BUILD_ARTIFACTSTAGINGDIRECTORY,gw=Jt.LANGUAGE_DEFAULT,RQ=Jt.LANGUAGE_DEFAULT;let e=Wu.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e),r=t.availableLanguages["*"];gw=t.locale,Nee=t.osLocale,RQ=r||Jt.LANGUAGE_DEFAULT,qve=t._translationsConfigFile}catch{}Qve=!0}else typeof navigator=="object"&&!Zct?(S1=navigator.userAgent,yw=S1.indexOf("Windows")>=0,Cw=S1.indexOf("Macintosh")>=0,Qee=(S1.indexOf("Macintosh")>=0||S1.indexOf("iPad")>=0||S1.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Aw=S1.indexOf("Linux")>=0,Uve=S1?.indexOf("Mobi")>=0,Lee=!0,gw=Dve.getConfiguredDefaultLocale(Dve.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||Jt.LANGUAGE_DEFAULT,RQ=gw,Nee=navigator.language):console.error("Unable to resolve platform.");function eut(e){switch(e){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}o(eut,"PlatformToString");var DQ=0;Cw?DQ=1:yw?DQ=3:Aw&&(DQ=2);Jt.isWindows=yw;Jt.isMacintosh=Cw;Jt.isLinux=Aw;Jt.isLinuxSnap=Lve;Jt.isNative=Qve;Jt.isElectron=Mve;Jt.isWeb=Lee;Jt.isWebWorker=Lee&&typeof _1.importScripts=="function";Jt.webWorkerOrigin=Jt.isWebWorker?_1.origin:void 0;Jt.isIOS=Qee;Jt.isMobile=Uve;Jt.isCI=Ove;Jt.platform=DQ;Jt.userAgent=S1;Jt.language=RQ;var Pve;(function(e){function t(){return Jt.language}o(t,"value"),e.value=t;function r(){return Jt.language.length===2?Jt.language==="en":Jt.language.length>=3?Jt.language[0]==="e"&&Jt.language[1]==="n"&&Jt.language[2]==="-":!1}o(r,"isDefaultVariant"),e.isDefaultVariant=r;function n(){return Jt.language==="en"}o(n,"isDefault"),e.isDefault=n})(Pve||(Jt.Language=Pve={}));Jt.locale=gw;Jt.platformLocale=Nee;Jt.translationsConfigFile=qve;Jt.setTimeout0IsFaster=typeof _1.postMessage=="function"&&!_1.importScripts;Jt.setTimeout0=(()=>{if(Jt.setTimeout0IsFaster){let e=[];_1.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),_1.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();Jt.OS=Cw||Qee?2:yw?1:3;var Fve=!0,Nve=!1;function tut(){if(!Nve){Nve=!0;let e=new Uint8Array(2);e[0]=1,e[1]=2,Fve=new Uint16Array(e.buffer)[0]===513}return Fve}o(tut,"isLittleEndian");Jt.isChrome=!!(Jt.userAgent&&Jt.userAgent.indexOf("Chrome")>=0);Jt.isFirefox=!!(Jt.userAgent&&Jt.userAgent.indexOf("Firefox")>=0);Jt.isSafari=!!(!Jt.isChrome&&Jt.userAgent&&Jt.userAgent.indexOf("Safari")>=0);Jt.isEdge=!!(Jt.userAgent&&Jt.userAgent.indexOf("Edg/")>=0);Jt.isAndroid=!!(Jt.userAgent&&Jt.userAgent.indexOf("Android")>=0);function rut(e){return parseFloat(e)>=20}o(rut,"isBigSurOrNewer")});var Hve=V(Ep=>{"use strict";d();Object.defineProperty(Ep,"__esModule",{value:!0});Ep.arch=Ep.platform=Ep.env=Ep.cwd=void 0;var Gve=Mee(),v4,Oee=globalThis.vscode;if(typeof Oee<"u"&&typeof Oee.process<"u"){let e=Oee.process;v4={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"?v4={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:v4={get platform(){return Gve.isWindows?"win32":Gve.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};Ep.cwd=v4.cwd;Ep.env=v4.env;Ep.platform=v4.platform;Ep.arch=v4.arch});var jve=V(br=>{"use strict";d();Object.defineProperty(br,"__esModule",{value:!0});br.delimiter=br.sep=br.toNamespacedPath=br.parse=br.format=br.extname=br.basename=br.dirname=br.relative=br.resolve=br.join=br.isAbsolute=br.normalize=br.posix=br.win32=void 0;var mI=Hve(),nut=65,iut=97,sut=90,aut=122,W5=46,pl=47,Mc=92,U5=58,lut=63,PQ=class extends Error{static{o(this,"ErrorInvalidArgType")}code;constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function cut(e,t){if(e===null||typeof e!="object")throw new PQ(t,"Object",e)}o(cut,"validateObject");function $s(e,t){if(typeof e!="string")throw new PQ(t,"string",e)}o($s,"validateString");var Oc=mI.platform==="win32";function Hn(e){return e===pl||e===Mc}o(Hn,"isPathSeparator");function Uee(e){return e===pl}o(Uee,"isPosixPathSeparator");function q5(e){return e>=nut&&e<=sut||e>=iut&&e<=aut}o(q5,"isWindowsDeviceRoot");function FQ(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=pl}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==W5||i.charCodeAt(i.length-2)!==W5){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===W5&&l!==-1?++l:l=-1}return i}o(FQ,"normalizeString");function Vve(e,t){cut(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(Vve,"_format");br.win32={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],$s(s,"path"),s.length===0)continue}else t.length===0?s=mI.cwd():(s=mI.env[`=${t}`]||mI.cwd(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===Mc)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)Hn(f)&&(l=1,u=!0);else if(Hn(f))if(u=!0,Hn(s.charCodeAt(1))){let m=2,h=m;for(;m<a&&!Hn(s.charCodeAt(m));)m++;if(m<a&&m!==h){let p=s.slice(h,m);for(h=m;m<a&&Hn(s.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!Hn(s.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${s.slice(h,m)}`,l=m)}}}else l=1;else q5(f)&&s.charCodeAt(1)===U5&&(c=s.slice(0,2),l=2,a>2&&Hn(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=FQ(r,!n,"\\",Hn),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){$s(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return Uee(s)?"\\":e;if(Hn(s))if(i=!0,Hn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!Hn(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&Hn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!Hn(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else q5(s)&&e.charCodeAt(1)===U5&&(n=e.slice(0,2),r=2,t>2&&Hn(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?FQ(e.slice(r),!i,"\\",Hn):"";return a.length===0&&!i&&(a="."),a.length>0&&Hn(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){$s(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return Hn(r)||t>2&&q5(r)&&e.charCodeAt(1)===U5&&Hn(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];$s(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&Hn(r.charCodeAt(0))){++i;let s=r.length;s>1&&Hn(r.charCodeAt(1))&&(++i,s>2&&(Hn(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&Hn(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return br.win32.normalize(t)},relative(e,t){if($s(e,"from"),$s(t,"to"),e===t)return"";let r=br.win32.resolve(e),n=br.win32.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===Mc;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===Mc;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===Mc;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===Mc;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let A=e.charCodeAt(i+h);if(A!==t.charCodeAt(l+h))break;A===Mc&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===Mc)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===Mc?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=s;++h)(h===s||e.charCodeAt(h)===Mc)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===Mc&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=br.win32.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===Mc){if(t.charCodeAt(1)===Mc){let r=t.charCodeAt(2);if(r!==lut&&r!==W5)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(q5(t.charCodeAt(0))&&t.charCodeAt(1)===U5&&t.charCodeAt(2)===Mc)return`\\\\?\\${t}`;return e},dirname(e){$s(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return Hn(i)?e:".";if(Hn(i)){if(r=n=1,Hn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!Hn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&Hn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!Hn(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else q5(i)&&e.charCodeAt(1)===U5&&(r=t>2&&Hn(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if(Hn(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&$s(t,"ext"),$s(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&q5(e.charCodeAt(0))&&e.charCodeAt(1)===U5&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if(Hn(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if(Hn(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){$s(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===U5&&q5(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(Hn(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===W5?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:Vve.bind(null,"\\"),parse(e){$s(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return Hn(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(Hn(i)){if(n=1,Hn(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!Hn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&Hn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!Hn(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(q5(i)&&e.charCodeAt(1)===U5){if(r<=2)return t.root=t.dir=e,t;if(n=2,Hn(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),Hn(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===W5?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null};var uut=(()=>{if(Oc){let e=/\\/g;return()=>{let t=mI.cwd().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>mI.cwd()})();br.posix={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:uut();$s(i,"path"),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===pl)}return t=FQ(t,!r,"/",Uee),r?`/${t}`:t.length>0?t:"."},normalize(e){if($s(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===pl,r=e.charCodeAt(e.length-1)===pl;return e=FQ(e,!t,"/",Uee),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return $s(e,"path"),e.length>0&&e.charCodeAt(0)===pl},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];$s(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":br.posix.normalize(t)},relative(e,t){if($s(e,"from"),$s(t,"to"),e===t||(e=br.posix.resolve(e),t=br.posix.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(s+u))break;m===pl&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===pl)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===pl?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===pl)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if($s(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===pl,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===pl){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&$s(t,"ext"),$s(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===pl){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===pl){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){$s(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===pl){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===W5?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:Vve.bind(null,"/"),parse(e){$s(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===pl,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===pl){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===W5?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};br.posix.win32=br.win32.win32=br.win32;br.posix.posix=br.win32.posix=br.posix;br.normalize=Oc?br.win32.normalize:br.posix.normalize;br.isAbsolute=Oc?br.win32.isAbsolute:br.posix.isAbsolute;br.join=Oc?br.win32.join:br.posix.join;br.resolve=Oc?br.win32.resolve:br.posix.resolve;br.relative=Oc?br.win32.relative:br.posix.relative;br.dirname=Oc?br.win32.dirname:br.posix.dirname;br.basename=Oc?br.win32.basename:br.posix.basename;br.extname=Oc?br.win32.extname:br.posix.extname;br.format=Oc?br.win32.format:br.posix.format;br.parse=Oc?br.win32.parse:br.posix.parse;br.toNamespacedPath=Oc?br.win32.toNamespacedPath:br.posix.toNamespacedPath;br.sep=Oc?br.win32.sep:br.posix.sep;br.delimiter=Oc?br.win32.delimiter:br.posix.delimiter});var Zve=V(hI=>{"use strict";d();Object.defineProperty(hI,"__esModule",{value:!0});hI.URI=void 0;hI.isUriComponents=yut;hI.uriToFsPath=MQ;var $ve=jve(),LQ=Mee(),fut=/^\w[\w\d+.-]*$/,dut=/^\//,mut=/^\/\//;function hut(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!fut.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!dut.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(mut.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(hut,"_validateUri");function put(e,t){return!e&&!t?"file":e}o(put,"_schemeFix");function gut(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Um&&(t=Um+t):t=Um;break}return t}o(gut,"_referenceResolution");var ko="",Um="/",Aut=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,QQ=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}scheme;authority;path;query;fragment;constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||ko,this.authority=t.authority||ko,this.path=t.path||ko,this.query=t.query||ko,this.fragment=t.fragment||ko):(this.scheme=put(t,a),this.authority=r||ko,this.path=gut(this.scheme,n||ko),this.query=i||ko,this.fragment=s||ko,hut(this,a))}get fsPath(){return MQ(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=ko),n===void 0?n=this.authority:n===null&&(n=ko),i===void 0?i=this.path:i===null&&(i=ko),s===void 0?s=this.query:s===null&&(s=ko),a===void 0?a=this.fragment:a===null&&(a=ko),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new G5(r,n,i,s,a)}static parse(t,r=!1){let n=Aut.exec(t);return n?new G5(n[2]||ko,NQ(n[4]||ko),NQ(n[5]||ko),NQ(n[7]||ko),NQ(n[9]||ko),r):new G5(ko,ko,ko,ko,ko)}static file(t){let r=ko;if(LQ.isWindows&&(t=t.replace(/\\/g,Um)),t[0]===Um&&t[1]===Um){let n=t.indexOf(Um,2);n===-1?(r=t.substring(2),t=Um):(r=t.substring(2,n),t=t.substring(n)||Um)}return new G5("file",r,t,ko,ko)}static from(t,r){return new G5(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return LQ.isWindows&&t.scheme==="file"?n=e.file($ve.win32.join(MQ(t,!0),...r)).path:n=$ve.posix.join(t.path,...r),t.with({path:n})}toString(t=!1){return qee(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new G5(t);return r._formatted=t.external??null,r._fsPath=t._sep===Kve?t.fsPath??null:null,r}}else return t}};hI.URI=QQ;function yut(e){return!e||typeof e!="object"?!1:typeof e.scheme=="string"&&(typeof e.authority=="string"||typeof e.authority>"u")&&(typeof e.path=="string"||typeof e.path>"u")&&(typeof e.query=="string"||typeof e.query>"u")&&(typeof e.fragment=="string"||typeof e.fragment>"u")}o(yut,"isUriComponents");var Kve=LQ.isWindows?1:void 0,G5=class extends QQ{static{o(this,"Uri")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=MQ(this,!1)),this._fsPath}toString(t=!1){return t?qee(this,!0):(this._formatted||(this._formatted=qee(this,!1)),this._formatted)}toJSON(){let t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=Kve),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}},Jve={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function zve(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=Jve[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(zve,"encodeURIComponentFast");function Cut(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=Jve[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(Cut,"encodeURIComponentMinimal");function MQ(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,LQ.isWindows&&(r=r.replace(/\//g,"\\")),r}o(MQ,"uriToFsPath");function qee(e,t){let r=t?Cut:zve,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=Um,n+=Um),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:zve(c,!1,!1)),n}o(qee,"_asFormatted");function Xve(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+Xve(e.substr(3)):e}}o(Xve,"decodeURIComponentGraceful");var Yve=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function NQ(e){return e.match(Yve)?e.replace(Yve,t=>Xve(t)):e}o(NQ,"percentDecode")});var Hee=V(H5=>{"use strict";d();Object.defineProperty(H5,"__esModule",{value:!0});H5.PromptReference=H5.ChatResponseReferencePartStatusKind=H5.PromptMetadata=void 0;var Ew=Zve(),Wee=class{static{o(this,"PromptMetadata")}_marker;toString(){return Object.getPrototypeOf(this).constructor.name}};H5.PromptMetadata=Wee;var eIe;(function(e){e[e.Complete=1]="Complete",e[e.Partial=2]="Partial",e[e.Omitted=3]="Omitted"})(eIe||(H5.ChatResponseReferencePartStatusKind=eIe={}));var Gee=class e{static{o(this,"PromptReference")}anchor;iconPath;options;static fromJSON(t){let r=o(n=>"scheme"in n?Ew.URI.from(n):{uri:Ew.URI.from(n.uri),range:n.range},"uriOrLocation");return new e("variableName"in t.anchor?{variableName:t.anchor.variableName,value:t.anchor.value&&r(t.anchor.value)}:r(t.anchor),t.iconPath&&("scheme"in t.iconPath?Ew.URI.from(t.iconPath):"light"in t.iconPath?{light:Ew.URI.from(t.iconPath.light),dark:Ew.URI.from(t.iconPath.dark)}:t.iconPath),t.options)}constructor(t,r,n){this.anchor=t,this.iconPath=r,this.options=n}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}};H5.PromptReference=Gee});var Xee=V(pI=>{"use strict";d();Object.defineProperty(pI,"__esModule",{value:!0});pI.PromptRenderer=pI.MetadataMap=void 0;var OQ=xee(),jl=Fee(),Jee=Hee(),tIe;(function(e){e.empty={get:o(()=>{},"get"),getAll:o(()=>[],"getAll")}})(tIe||(pI.MetadataMap=tIe={}));var Vee=class{static{o(this,"PromptRenderer")}_endpoint;_ctor;_props;_tokenizer;_usedContext=[];_ignoredFiles=[];_growables=[];_root=new qQ(null,0);_tokenLimits=[];tracer=void 0;constructor(t,r,n,i){this._endpoint=t,this._ctor=r,this._props=n,this._tokenizer=i}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(t){return new t.ctor(t.props)}async _processPromptPieces(t,r,n,i){let s=new Map;for(let[c,u]of r.entries()){if(Array.isArray(u.children)&&(u.props=u.props??{},u.props.children=u.children),!u.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");let f=this.createElement(u),m;f instanceof jl.TokenLimit&&(m=u.props.max,this._tokenLimits.push({limit:m,id:u.node.id})),u.node.setObj(f);let h=u.props.flexGrow??1/0,p=s.get(h);p||(p=[],s.set(h,p)),p.push({element:u,promptElementInstance:f,tokenLimit:m})}if(s.size===0)return;let a=[...s.entries()].sort(([c],[u])=>u-c).map(([c,u])=>u),l=o(c=>{let u=0;for(let f=c+1;f<a.length;f++)for(let{element:m}of a[f]){if(!m.props.flexReserve)continue;let h=typeof m.props.flexReserve=="string"?Math.floor(t.remainingTokenBudget/Number(m.props.flexReserve.slice(1))):m.props.flexReserve;u+=h}return t.consume(u),u},"setReserved");for(let[c,u]of a.entries()){let f=l(c),m=0;for(let{element:x}of u)m+=x.props.flexBasis??1;let h=0,p=u.map(x=>{if(x.tokenLimit===void 0)return!1;let b=x.element.props.flexBasis??1,v=b/m;return Math.floor(t.remainingTokenBudget*v)<x.tokenLimit?!1:(m-=b,h+=x.tokenLimit,!0)}),A=u.map((x,b)=>{let v=(x.element.props.flexBasis??1)/m;return{tokenBudget:p[b]?x.tokenLimit:Math.floor((t.remainingTokenBudget-h)*v),endpoint:t.endpoint,countTokens:o((S,B)=>this._tokenizer.tokenLength(S,B),"countTokens")}});t.consume(-f),this.tracer?.addRenderEpoch?.({inNode:u[0].element.node.parent?.id,flexValue:u[0].element.props.flexGrow??0,tokenBudget:t.remainingTokenBudget,reservedTokens:f,elements:u.map((x,b)=>({id:x.element.node.id,tokenBudget:A[b].tokenBudget}))}),await Promise.all(u.map(async({element:x,promptElementInstance:b},v)=>{let S=await b.prepare?.(A[v],n,i);x.node.setState(S)}));let E=await Promise.all(u.map(async({element:x,promptElementInstance:b},v)=>{let S=A[v];return await b.render(x.node.getState(),S,n,i)}));for(let[x,{element:b,promptElementInstance:v}]of u.entries()){let S=A[x],B=E[x];if(!B)continue;let P=await this._processPromptRenderPiece(new I4(S.tokenBudget,this._endpoint),b,v,B,n,i);v instanceof jl.Expandable&&this._growables.push({initialConsume:P,elem:b.node}),t.consume(P)}}}async _processPromptRenderPiece(t,r,n,i,s,a){let l=rIe(i),c=new I4(t.tokenBudget,this._endpoint),{tokensConsumed:u}=await Eut(this._tokenizer,r,n,l);return c.consume(u),await this._handlePromptChildren(r,l,c,s,a),c.consumed}async renderElementJSON(t){return await this._processPromptPieces(new I4(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,t),{node:this._root.toJSON()}}async render(t,r){await this._processPromptPieces(new I4(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],t,r);let{container:n,allMetadata:i,removed:s}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,r);this.tracer?.didMaterializeTree?.({budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:n,removed:s,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:o(h=>this._getFinalElementTree(h,void 0).then(p=>({...p,budget:h})),"renderTree")});let a=[...n.toChatMessages()],l=await n.tokenCount(this._tokenizer),c=[...n.allMetadata()],u=new Set,f=c.map(h=>{if(!(h instanceof xp))return;let p=h.reference,A="variableName"in p.anchor;if(A&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!A)return p}).filter(Yee),m=i.map(h=>{if(!(h instanceof xp)||c.includes(h))return;let p=h.reference,A="variableName"in p.anchor;if(A&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!A)return p}).filter(Yee);return{metadata:{get:o(h=>c.find(p=>p instanceof h),"get"),getAll:o(h=>c.filter(p=>p instanceof h),"getAll")},messages:a,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:l,references:f,omittedReferences:m}}async _getFinalElementTree(t,r){let n=this._root.materialize(),i=[...n.allMetadata()],s=[{limit:t,id:this._root.id},...this._tokenLimits],a=0;for(let l=s.length-1;l>=0;l--){let c=s[l];if(c.limit>t)continue;let u=n.findById(c.id);if(!u)continue;let f=await u.tokenCount(this._tokenizer);if(f<c.limit&&!await this._grow(u,f,c.limit,r))continue;let m=await u.tokenCount(this._tokenizer);for(;m>c.limit;){for(;m>c.limit;)for(let h of u.removeLowestPriorityChild()){a++;let p=h.upperBoundTokenCount(this._tokenizer);m-=typeof p=="number"?p:await p}m=await u.tokenCount(this._tokenizer)}}return{container:n,allMetadata:i,removed:a}}async _grow(t,r,n,i){if(!this._growables.length)return!1;for(let s of this._growables){if(!t.findById(s.elem.id))continue;let a=s.elem.getObj();if(!(a instanceof jl.Expandable))throw new Error("unreachable: expected growable");let l=new qQ(null,0,s.elem.id),c=new I4(n-r+s.initialConsume,this._endpoint),u=await this._processPromptRenderPiece(c,{node:l,ctor:this._ctor,props:{},children:[]},a,await a.render(void 0,{tokenBudget:c.tokenBudget,endpoint:this._endpoint,countTokens:o((h,p)=>this._tokenizer.tokenLength(h,p),"countTokens")}),void 0,i),f=l.materialize();if(!t.replaceNode(s.elem.id,f))throw new Error("unreachable: could not find old element to replace");if(r-=s.initialConsume,r+=u,r>=n)break}return!0}_handlePromptChildren(t,r,n,i,s){if(t.ctor===jl.TextChunk){this._handleExtrinsicTextChunkChildren(t.node,t.node,t.props,r);return}let a=[];for(let l of r){if(l.kind==="literal"){t.node.appendStringChild(l.value,t.props.priority??Number.MAX_SAFE_INTEGER);continue}if(l.kind==="intrinsic"){this._handleIntrinsic(t.node,l.name,{priority:t.props.priority??Number.MAX_SAFE_INTEGER,...l.props},UQ(l.children));continue}let c=t.node.createChild();a.push({node:c,ctor:l.ctor,props:l.props,children:l.children})}return this._processPromptPieces(n,a,i,s)}_handleIntrinsic(t,r,n,i,s){switch(r){case"meta":return this._handleIntrinsicMeta(t,n,i);case"br":return this._handleIntrinsicLineBreak(t,n,i,n.priority,s);case"usedContext":return this._handleIntrinsicUsedContext(t,n,i);case"references":return this._handleIntrinsicReferences(t,n,i);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(t,n,i);case"elementJSON":return this._handleIntrinsicElementJSON(t,n.data)}throw new Error(`Unknown intrinsic element ${r}!`)}_handleIntrinsicMeta(t,r,n){if(n.length>0)throw new Error("<meta /> must not have children!");r.local?t.addMetadata(r.value):this._root.addMetadata(r.value)}_handleIntrinsicLineBreak(t,r,n,i,s){if(n.length>0)throw new Error("<br /> must not have children!");t.appendLineBreak(i??Number.MAX_SAFE_INTEGER,s)}_handleIntrinsicElementJSON(t,r){let n=t.appendPieceJSON(r.node);if(this.tracer?.includeInEpoch)for(let i of n.elements())this.tracer.includeInEpoch({id:i.id,tokenBudget:0})}_handleIntrinsicUsedContext(t,r,n){if(n.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...r.value)}_handleIntrinsicReferences(t,r,n){if(n.length>0)throw new Error("<reference /> must not have children!");for(let i of r.value)t.addMetadata(new xp(i))}_handleIntrinsicIgnoredFiles(t,r,n){if(n.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...r.value)}_handleExtrinsicTextChunkChildren(t,r,n,i){let s=[],a=[];for(let l of i){if(l.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if(l.kind==="literal"&&s.push(l.value),l.kind==="intrinsic")if(l.name==="br")s.push(`
`);else if(l.name==="references")for(let c of l.props.value)a.push(new xp(c));else this._handleIntrinsic(t,l.name,l.props,UQ(l.children),r.childIndex)}t.appendStringChild(s.join(""),n?.priority??Number.MAX_SAFE_INTEGER,a,r.childIndex,!0)}};pI.PromptRenderer=Vee;async function Eut(e,t,r,n){let i=0;(0,jl.isChatMessagePromptElement)(r)&&(i+=await e.countMessageTokens({role:t.props.role,content:"",...t.props.name?{name:t.props.name}:void 0,...t.props.toolCalls?{tool_calls:t.props.toolCalls}:void 0,...t.props.toolCallId?{tool_call_id:t.props.toolCallId}:void 0}));for(let s of n)s.kind==="literal"&&(i+=await e.tokenLength(s.value));return{tokensConsumed:i}}o(Eut,"computeTokensConsumedByLiterals");function rIe(e,t=[]){return typeof e>"u"||typeof e=="boolean"?[]:(typeof e=="string"||typeof e=="number"?t.push(new zee(String(e))):xut(e)?UQ(e.children,t):but(e)?UQ(e,t):typeof e.ctor=="string"?t.push(new jee(e.ctor,e.props,e.children)):t.push(new $ee(e.ctor,e.props,e.children)),t)}o(rIe,"flattenAndReduce");function UQ(e,t=[]){for(let r of e)rIe(r,t);return t}o(UQ,"flattenAndReduceArr");var jee=class{static{o(this,"IntrinsicPromptPiece")}name;props;children;kind="intrinsic";constructor(t,r,n){this.name=t,this.props=r,this.children=n}},$ee=class{static{o(this,"ExtrinsicPromptPiece")}ctor;props;children;kind="extrinsic";constructor(t,r,n){this.ctor=t,this.props=r,this.children=n}},zee=class{static{o(this,"LiteralPromptPiece")}value;priority;kind="literal";constructor(t,r){this.value=t,this.priority=r}},I4=class{static{o(this,"PromptSizingContext")}tokenBudget;endpoint;_consumed=0;constructor(t,r){this.tokenBudget=t,this.endpoint=r}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(t){this._consumed+=t}},qQ=class e{static{o(this,"PromptTreeElement")}parent;childIndex;id;static _nextId=0;static fromJSON(t,r){let n=new e(null,t);switch(n._metadata=r.references?.map(i=>new xp(Jee.PromptReference.fromJSON(i)))??[],n._children=r.children.map((i,s)=>{switch(i.type){case 1:return e.fromJSON(s,i);case 2:return xw.fromJSON(n,s,i);default:}}).filter(Yee),r.ctor){case 1:n._obj=new jl.BaseChatMessage(r.props);break;case 2:break;case 3:n._obj=new jl.BaseImageMessage(r.props);break;default:}return n}kind=1;_obj=null;_state=void 0;_children=[];_metadata=[];constructor(t=null,r,n=e._nextId++){this.parent=t,this.childIndex=r,this.id=n}setObj(t){this._obj=t}getObj(){return this._obj}setState(t){this._state=t}getState(){return this._state}createChild(){let t=new e(this,this._children.length);return this._children.push(t),t}appendPieceJSON(t){let r=e.fromJSON(this._children.length,t);return this._children.push(r),r}appendStringChild(t,r,n,i=this._children.length,s=!1){this._children.push(new xw(this,i,t,r,n,s))}appendLineBreak(t,r=this._children.length){this._children.push(new xw(this,r,`
`,t))}toJSON(){let t={type:1,ctor:2,children:this._children.slice().sort((r,n)=>r.childIndex-n.childIndex).map(r=>r.toJSON()),priority:this._obj?.props.priority,references:this._metadata.filter(r=>r instanceof xp).map(r=>r.reference.toJSON())};if(this._obj instanceof jl.BaseChatMessage)t.ctor=1,t.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId};else if(this._obj instanceof jl.BaseImageMessage)return{...t,ctor:3,props:{src:this._obj.props.src,detail:this._obj.props.detail}};return t}materialize(t){if(this._children.sort((r,n)=>r.childIndex-n.childIndex),this._obj instanceof jl.BaseImageMessage)return new OQ.MaterializedChatMessageImage(t,1,this._obj.props.src,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,0,this._obj.props.detail??void 0);if(this._obj instanceof jl.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new OQ.MaterializedChatMessage(t,this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof jl.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof jl.ToolMessage?this._obj.props.toolCallId:void 0,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,r=>this._children.map(n=>n.materialize(r)))}else{let r=0;this._obj instanceof jl.LegacyPrioritization&&(r|=1),this._obj instanceof jl.Chunk&&(r|=2),this._obj instanceof jl.IfEmpty&&(r|=8),this._obj?.props.passPriority&&(r|=4);let n=new OQ.MaterializedContainer(t,this.id,this._obj?.constructor.name,this._obj?.props.priority??(this._obj?.props.passPriority?0:Number.MAX_SAFE_INTEGER),i=>this._children.map(s=>s.materialize(i)),this._metadata,r);return this._obj instanceof jl.AbstractKeepWith&&(n.keepWithId=this._obj.id),n}}addMetadata(t){this._metadata.push(t)}*elements(){yield this;for(let t of this._children)t instanceof e&&(yield*t.elements())}},xw=class e{static{o(this,"PromptText")}parent;childIndex;text;priority;metadata;lineBreakBefore;static fromJSON(t,r,n){return new e(t,r,n.text,n.priority,n.references?.map(i=>new xp(Jee.PromptReference.fromJSON(i))),n.lineBreakBefore)}kind=2;constructor(t,r,n,i,s,a=!1){this.parent=t,this.childIndex=r,this.text=n,this.priority=i,this.metadata=s,this.lineBreakBefore=a}collectLeafs(t){t.push(this)}materialize(t){let r=this.lineBreakBefore?1:this.childIndex===0?2:0;return new OQ.MaterializedChatMessageTextChunk(t,this.text,this.priority??Number.MAX_SAFE_INTEGER,this.metadata||[],r)}toJSON(){return{type:2,priority:this.priority,text:this.text,references:this.metadata?.filter(t=>t instanceof xp).map(t=>t.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}};function xut(e){return(typeof e.ctor=="function"&&e.ctor.isFragment)??!1}o(xut,"isFragmentCtor");function Yee(e){return e!==void 0}o(Yee,"isDefined");var Kee=class extends Jee.PromptMetadata{static{o(this,"InternalMetadata")}},xp=class extends Kee{static{o(this,"ReferenceMetadata")}reference;constructor(t){super(),this.reference=t}};function but(e){return!!e&&typeof e[Symbol.iterator]=="function"}o(but,"isIterable")});var nIe=V(WQ=>{"use strict";d();Object.defineProperty(WQ,"__esModule",{value:!0});WQ.AnyTokenizer=void 0;var bw=uI(),Zee=class{static{o(this,"AnyTokenizer")}countTokens;constructor(t,r){if(this.countTokens=t,r!=="vscode")throw new Error("`mode` must be set to vscode when using vscode.LanguageModelChat as the tokenizer")}async tokenLength(t,r){return this.countTokens(t,r)}async countMessageTokens(t){let r=await Promise.resolve().then(()=>require("vscode"));return this.countTokens({role:this.toChatRole(t.role),content:[new r.LanguageModelTextPart(this.extractText(t))],name:"name"in t?t.name:void 0})}extractText(t){return t.content instanceof Array?t.content.map(r=>"text"in r?r.text:"").join(""):t.content}toChatRole(t){switch(t){case bw.ChatRole.User:return 1;case bw.ChatRole.Assistant:return 2;case bw.ChatRole.System:return 1;case bw.ChatRole.Function:return 1;case bw.ChatRole.Tool:return 1}}};WQ.AnyTokenizer=Zee});var iIe=V(gI=>{"use strict";d();Object.defineProperty(gI,"__esModule",{value:!0});gI.tracerCss=gI.tracerSrc=void 0;gI.tracerSrc='"use strict";(()=>{var $,m,se,Ue,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function N(t){return t.children}function B(t,e){this.props=t,this.context=e}function I(t,e){if(e==null)return t.__?I(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?I(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??I(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,x,C=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,C),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:C[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),x==null&&b!=null&&(x=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=x}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(N,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=I(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=I(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,x,C,h,v,H,M,P,F,oe,z,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?C=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(U){U&&(U.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,x)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),z=0;z<i._sb.length;z++)i.__h.push(i._sb[z]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(x=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===N&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),C&&(i.__E=i.__=null)}catch(U){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(U,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,x,C=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)C===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),C=n.props||D,!a&&_!=null)for(C={},s=0;s<t.attributes.length;s++)C[(d=t.attributes[s]).name]=d.value;for(s in C)if(d=C[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?x=d:a&&typeof d!="function"||C[s]===d||A(t,s,d,C[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&I(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==C[s])&&A(t,s,b,C[s],r),s="checked",x!==void 0&&x!==t[s]&&A(t,s,x,C[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(N,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,Ue=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=N,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,Ce=y.diffed,xe=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ne,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ne(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ie(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ie(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){Ce&&Ce(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),xe&&xe(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ie(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ne(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(N,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var ze=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(ze,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(ze,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n';gI.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`});var cIe=V(HQ=>{"use strict";d();Object.defineProperty(HQ,"__esModule",{value:!0});HQ.HTMLTracer=void 0;var oIe=iIe(),vw=xee(),ete=class{static{o(this,"HTMLTracer")}traceData;epochs=[];addRenderEpoch(t){this.epochs.push(t)}includeInEpoch(t){this.epochs[this.epochs.length-1].elements.push(t)}didMaterializeTree(t){this.traceData=t}async serveHTML(){return tte.create({epochs:this.epochs,traceData:aIe(this.traceData)})}serveRouter(t){return new GQ({baseAddress:t,epochs:this.epochs,traceData:aIe(this.traceData)})}};HQ.HTMLTracer=ete;var GQ=class{static{o(this,"RequestRouter")}opts;serverToken=crypto.randomUUID();constructor(t){this.opts=t}route(t,r){let n=t,i=r,s=new URL(n.url||"/","http://localhost"),a=`/${this.serverToken}`;switch(s.pathname){case a:case`${a}/`:this.onRoot(s,n,i);break;case`${a}/regen`:this.onRegen(s,n,i);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){let{traceData:t,epochs:r}=this.opts;return`<body>
			<style>${oIe.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(t.budget)};
				const EPOCHS = ${JSON.stringify(r)};
				const DEFAULT_MODEL = ${JSON.stringify(await sIe(t.tokenizer,t.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${oIe.tracerSrc}
			</script>
		</body>`}async onRegen(t,r,n){let{traceData:i}=this.opts,s=Number(t.searchParams.get("n")||i.budget),a=await i.renderTree(s),l=await sIe(i.tokenizer,a),c=JSON.stringify(l);n.setHeader("Content-Type","application/json"),n.setHeader("Content-Length",Buffer.byteLength(c)),n.end(c)}onRoot(t,r,n){this.getHTML().then(i=>{n.setHeader("Content-Type","text/html"),n.setHeader("Content-Length",Buffer.byteLength(i)),n.end(i)})}},tte=class e extends GQ{static{o(this,"RequestServer")}server;static async create(t){let{createServer:r}=await Promise.resolve().then(()=>require("http")),n=r((a,l)=>{try{s.route(a,l)||(l.statusCode=404,l.end("Not Found"))}catch(c){l.statusCode=500,l.end(String(c))}}),i=await new Promise((a,l)=>{n.listen(0,"127.0.0.1",()=>a(n.address().port)).on("error",l)}),s=new e({...t,baseAddress:`http://127.0.0.1:${i}`},n);return s}constructor(t,r){super(t),this.server=r}dispose(){this.server.closeAllConnections(),this.server.close()}};async function sIe(e,t){return{container:await lIe(e,t.container,!1),removed:t.removed,budget:t.budget}}o(sIe,"serializeRenderData");async function lIe(e,t,r){let n={metadata:t.metadata.map(Iut),priority:t.priority};if(t instanceof vw.MaterializedChatMessageTextChunk)return{...n,type:2,value:t.text,tokens:await t.upperBoundTokenCount(e)};if(t instanceof vw.MaterializedChatMessageImage)return{...n,name:t.id.toString(),id:t.id,type:3,value:t.src,tokens:await t.upperBoundTokenCount(e)};{let i={...n,id:t.id,name:t.name,children:await Promise.all(t.children.map(s=>lIe(e,s,r||t instanceof vw.MaterializedChatMessage))),tokens:r?await t.upperBoundTokenCount(e):await t.tokenCount(e)};if(t instanceof vw.MaterializedContainer)return{...i,type:0};if(t instanceof vw.MaterializedChatMessage){let s=t.text.filter(a=>typeof a=="string").join("").trim();return{...i,type:1,role:t.role,text:s}}}vut(t)}o(lIe,"serializeMaterialized");function vut(e){throw new Error("unreachable")}o(vut,"assertNever");function Iut(e){return{name:e.constructor.name,value:JSON.stringify(e)}}o(Iut,"serializeMetadata");var aIe=o(e=>{if(e===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return e},"mustGet")});var fIe=V(rte=>{"use strict";d();Object.defineProperty(rte,"__esModule",{value:!0});rte.forEachNode=uIe;function uIe(e,t){if(t(e),e.type===1)for(let r of e.children)uIe(r,t)}o(uIe,"forEachNode")});var mIe=V(dIe=>{"use strict";d();Object.defineProperty(dIe,"__esModule",{value:!0})});var pIe=V(hIe=>{"use strict";d();Object.defineProperty(hIe,"__esModule",{value:!0})});var AIe=V(gIe=>{"use strict";d();Object.defineProperty(gIe,"__esModule",{value:!0})});var AI=V(wn=>{"use strict";d();var Tut=wn&&wn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Iw=wn&&wn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Tut(t,e,r)};Object.defineProperty(wn,"__esModule",{value:!0});wn.contentType=wn.PromptRenderer=wn.MetadataMap=wn.PromptElement=wn.useKeepWith=wn.ToolResult=wn.UserMessage=wn.ToolMessage=wn.TextChunk=wn.SystemMessage=wn.PrioritizedList=wn.LegacyPrioritization=wn.FunctionMessage=wn.Chunk=wn.AssistantMessage=wn.ChatRole=wn.JSONTree=void 0;wn.renderPrompt=kut;wn.renderElementJSON=But;wn.toVsCodeChatMessages=EIe;var VQ=uI(),yIe=Xee(),wut=nIe();Iw(cIe(),wn);wn.JSONTree=fIe();var Sut=uI();Object.defineProperty(wn,"ChatRole",{enumerable:!0,get:o(function(){return Sut.ChatRole},"get")});Iw(Hee(),wn);Iw(mIe(),wn);Iw(pIe(),wn);Iw(AIe(),wn);var qm=Fee();Object.defineProperty(wn,"AssistantMessage",{enumerable:!0,get:o(function(){return qm.AssistantMessage},"get")});Object.defineProperty(wn,"Chunk",{enumerable:!0,get:o(function(){return qm.Chunk},"get")});Object.defineProperty(wn,"FunctionMessage",{enumerable:!0,get:o(function(){return qm.FunctionMessage},"get")});Object.defineProperty(wn,"LegacyPrioritization",{enumerable:!0,get:o(function(){return qm.LegacyPrioritization},"get")});Object.defineProperty(wn,"PrioritizedList",{enumerable:!0,get:o(function(){return qm.PrioritizedList},"get")});Object.defineProperty(wn,"SystemMessage",{enumerable:!0,get:o(function(){return qm.SystemMessage},"get")});Object.defineProperty(wn,"TextChunk",{enumerable:!0,get:o(function(){return qm.TextChunk},"get")});Object.defineProperty(wn,"ToolMessage",{enumerable:!0,get:o(function(){return qm.ToolMessage},"get")});Object.defineProperty(wn,"UserMessage",{enumerable:!0,get:o(function(){return qm.UserMessage},"get")});Object.defineProperty(wn,"ToolResult",{enumerable:!0,get:o(function(){return qm.ToolResult},"get")});Object.defineProperty(wn,"useKeepWith",{enumerable:!0,get:o(function(){return qm.useKeepWith},"get")});var _ut=vee();Object.defineProperty(wn,"PromptElement",{enumerable:!0,get:o(function(){return _ut.PromptElement},"get")});var CIe=Xee();Object.defineProperty(wn,"MetadataMap",{enumerable:!0,get:o(function(){return CIe.MetadataMap},"get")});Object.defineProperty(wn,"PromptRenderer",{enumerable:!0,get:o(function(){return CIe.PromptRenderer},"get")});async function kut(e,t,r,n,i,s,a="vscode"){let l="countTokens"in n?new wut.AnyTokenizer((E,x)=>n.countTokens(E,x),a):n,c=new yIe.PromptRenderer(r,e,t,l),u=await c.render(i,s),{tokenCount:f,references:m,metadata:h}=u,p=u.messages,A=c.getUsedContext();return a==="vscode"&&(p=EIe(p)),{messages:p,tokenCount:f,metadatas:h,metadata:h,usedContext:A,references:m}}o(kut,"renderPrompt");wn.contentType="application/vnd.codechat.prompt+json.1";function But(e,t,r,n){return new yIe.PromptRenderer({modelMaxPromptTokens:r?.tokenBudget??Number.MAX_SAFE_INTEGER},e,t,{countMessageTokens(s){throw new Error("Tools may only return text, not messages.")},tokenLength(s,a){return Promise.resolve(r?.countTokens(s,a)??Promise.resolve(1))}}).renderElementJSON(n)}o(But,"renderElementJSON");function EIe(e){let t=require("vscode");return e.map(r=>{switch(r.role){case VQ.ChatRole.Assistant:let n=t.LanguageModelChatMessage.Assistant(r.content,r.name);return r.tool_calls&&(n.content=[new t.LanguageModelTextPart(r.content),...r.tool_calls.map(i=>{let s;try{s=JSON.parse(i.function.arguments)}catch{throw new Error("Invalid JSON in tool call arguments for tool call: "+i.id)}return new t.LanguageModelToolCallPart(i.id,i.function.name,s)})]),n;case VQ.ChatRole.User:return t.LanguageModelChatMessage.User(r.content,r.name);case VQ.ChatRole.Function:{let i=t.LanguageModelChatMessage.User("");return i.content=[new t.LanguageModelToolResultPart(r.name,[new t.LanguageModelTextPart(r.content)])],i}case VQ.ChatRole.Tool:{let i=t.LanguageModelChatMessage.User("");return i.content=[new t.LanguageModelToolResultPart(r.tool_call_id,[new t.LanguageModelTextPart(r.content)])],i}default:throw new Error(`Converting chat message with role ${r.role} to VS Code chat message is not supported.`)}})}o(EIe,"toVsCodeChatMessages")});var Ts=V((_Or,k6e)=>{d();k6e.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var lo=V((BOr,B6e)=>{"use strict";d();var Ls=class extends Error{static{o(this,"UndiciError")}constructor(t){super(t),this.name="UndiciError",this.code="UND_ERR"}},hre=class extends Ls{static{o(this,"ConnectTimeoutError")}constructor(t){super(t),this.name="ConnectTimeoutError",this.message=t||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},pre=class extends Ls{static{o(this,"HeadersTimeoutError")}constructor(t){super(t),this.name="HeadersTimeoutError",this.message=t||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},gre=class extends Ls{static{o(this,"HeadersOverflowError")}constructor(t){super(t),this.name="HeadersOverflowError",this.message=t||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},Are=class extends Ls{static{o(this,"BodyTimeoutError")}constructor(t){super(t),this.name="BodyTimeoutError",this.message=t||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},yre=class extends Ls{static{o(this,"ResponseStatusCodeError")}constructor(t,r,n,i){super(t),this.name="ResponseStatusCodeError",this.message=t||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=r,this.statusCode=r,this.headers=n}},Cre=class extends Ls{static{o(this,"InvalidArgumentError")}constructor(t){super(t),this.name="InvalidArgumentError",this.message=t||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},Ere=class extends Ls{static{o(this,"InvalidReturnValueError")}constructor(t){super(t),this.name="InvalidReturnValueError",this.message=t||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},nO=class extends Ls{static{o(this,"AbortError")}constructor(t){super(t),this.name="AbortError",this.message=t||"The operation was aborted"}},xre=class extends nO{static{o(this,"RequestAbortedError")}constructor(t){super(t),this.name="AbortError",this.message=t||"Request aborted",this.code="UND_ERR_ABORTED"}},bre=class extends Ls{static{o(this,"InformationalError")}constructor(t){super(t),this.name="InformationalError",this.message=t||"Request information",this.code="UND_ERR_INFO"}},vre=class extends Ls{static{o(this,"RequestContentLengthMismatchError")}constructor(t){super(t),this.name="RequestContentLengthMismatchError",this.message=t||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},Ire=class extends Ls{static{o(this,"ResponseContentLengthMismatchError")}constructor(t){super(t),this.name="ResponseContentLengthMismatchError",this.message=t||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},Tre=class extends Ls{static{o(this,"ClientDestroyedError")}constructor(t){super(t),this.name="ClientDestroyedError",this.message=t||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},wre=class extends Ls{static{o(this,"ClientClosedError")}constructor(t){super(t),this.name="ClientClosedError",this.message=t||"The client is closed",this.code="UND_ERR_CLOSED"}},Sre=class extends Ls{static{o(this,"SocketError")}constructor(t,r){super(t),this.name="SocketError",this.message=t||"Socket error",this.code="UND_ERR_SOCKET",this.socket=r}},_re=class extends Ls{static{o(this,"NotSupportedError")}constructor(t){super(t),this.name="NotSupportedError",this.message=t||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},kre=class extends Ls{static{o(this,"BalancedPoolMissingUpstreamError")}constructor(t){super(t),this.name="MissingUpstreamError",this.message=t||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},Bre=class extends Error{static{o(this,"HTTPParserError")}constructor(t,r,n){super(t),this.name="HTTPParserError",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}},Rre=class extends Ls{static{o(this,"ResponseExceededMaxSizeError")}constructor(t){super(t),this.name="ResponseExceededMaxSizeError",this.message=t||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},Dre=class extends Ls{static{o(this,"RequestRetryError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="RequestRetryError",this.message=t||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=r,this.data=i,this.headers=n}},Pre=class extends Ls{static{o(this,"ResponseError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="ResponseError",this.message=t||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=r,this.data=i,this.headers=n}},Fre=class extends Ls{static{o(this,"SecureProxyConnectionError")}constructor(t,r,n){super(r,{cause:t,...n??{}}),this.name="SecureProxyConnectionError",this.message=r||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=t}};B6e.exports={AbortError:nO,HTTPParserError:Bre,UndiciError:Ls,HeadersTimeoutError:pre,HeadersOverflowError:gre,BodyTimeoutError:Are,RequestContentLengthMismatchError:vre,ConnectTimeoutError:hre,ResponseStatusCodeError:yre,InvalidArgumentError:Cre,InvalidReturnValueError:Ere,RequestAbortedError:xre,ClientDestroyedError:Tre,ClientClosedError:wre,InformationalError:bre,SocketError:Sre,NotSupportedError:_re,ResponseContentLengthMismatchError:Ire,BalancedPoolMissingUpstreamError:kre,ResponseExceededMaxSizeError:Rre,RequestRetryError:Dre,ResponseError:Pre,SecureProxyConnectionError:Fre}});var oO=V((POr,R6e)=>{"use strict";d();var iO={},Nre=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let e=0;e<Nre.length;++e){let t=Nre[e],r=t.toLowerCase();iO[t]=iO[r]=r}Object.setPrototypeOf(iO,null);R6e.exports={wellknownHeaderNames:Nre,headerNameLowerCasedRecord:iO}});var N6e=V((NOr,F6e)=>{"use strict";d();var{wellknownHeaderNames:D6e,headerNameLowerCasedRecord:amt}=oO(),Lre=class e{static{o(this,"TstNode")}value=null;left=null;middle=null;right=null;code;constructor(t,r,n){if(n===void 0||n>=t.length)throw new TypeError("Unreachable");if((this.code=t.charCodeAt(n))>127)throw new TypeError("key must be ascii string");t.length!==++n?this.middle=new e(t,r,n):this.value=r}add(t,r){let n=t.length;if(n===0)throw new TypeError("Unreachable");let i=0,s=this;for(;;){let a=t.charCodeAt(i);if(a>127)throw new TypeError("key must be ascii string");if(s.code===a)if(n===++i){s.value=r;break}else if(s.middle!==null)s=s.middle;else{s.middle=new e(t,r,i);break}else if(s.code<a)if(s.left!==null)s=s.left;else{s.left=new e(t,r,i);break}else if(s.right!==null)s=s.right;else{s.right=new e(t,r,i);break}}}search(t){let r=t.length,n=0,i=this;for(;i!==null&&n<r;){let s=t[n];for(s<=90&&s>=65&&(s|=32);i!==null;){if(s===i.code){if(r===++n)return i;i=i.middle;break}i=i.code<s?i.left:i.right}}return null}},sO=class{static{o(this,"TernarySearchTree")}node=null;insert(t,r){this.node===null?this.node=new Lre(t,r,0):this.node.add(t,r)}lookup(t){return this.node?.search(t)?.value??null}},P6e=new sO;for(let e=0;e<D6e.length;++e){let t=amt[D6e[e]];P6e.insert(t,t)}F6e.exports={TernarySearchTree:sO,tree:P6e}});var fi=V((MOr,J6e)=>{"use strict";d();var Lw=require("node:assert"),{kDestroyed:Q6e,kBodyUsed:UI,kListeners:Qre,kBody:L6e}=Ts(),{IncomingMessage:lmt}=require("node:http"),cO=require("node:stream"),cmt=require("node:net"),{Blob:umt}=require("node:buffer"),fmt=require("node:util"),{stringify:dmt}=require("node:querystring"),{EventEmitter:mmt}=require("node:events"),{InvalidArgumentError:yl}=lo(),{headerNameLowerCasedRecord:hmt}=oO(),{tree:M6e}=N6e(),[pmt,gmt]=process.versions.node.split(".").map(e=>Number(e)),lO=class{static{o(this,"BodyAsyncIterable")}constructor(t){this[L6e]=t,this[UI]=!1}async*[Symbol.asyncIterator](){Lw(!this[UI],"disturbed"),this[UI]=!0,yield*this[L6e]}};function Amt(e){return uO(e)?(G6e(e)===0&&e.on("data",function(){Lw(!1)}),typeof e.readableDidRead!="boolean"&&(e[UI]=!1,mmt.prototype.on.call(e,"data",function(){this[UI]=!0})),e):e&&typeof e.pipeTo=="function"?new lO(e):e&&typeof e!="string"&&!ArrayBuffer.isView(e)&&W6e(e)?new lO(e):e}o(Amt,"wrapRequestBody");function ymt(){}o(ymt,"nop");function uO(e){return e&&typeof e=="object"&&typeof e.pipe=="function"&&typeof e.on=="function"}o(uO,"isStream");function O6e(e){if(e===null)return!1;if(e instanceof umt)return!0;if(typeof e!="object")return!1;{let t=e[Symbol.toStringTag];return(t==="Blob"||t==="File")&&("stream"in e&&typeof e.stream=="function"||"arrayBuffer"in e&&typeof e.arrayBuffer=="function")}}o(O6e,"isBlobLike");function Cmt(e,t){if(e.includes("?")||e.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let r=dmt(t);return r&&(e+="?"+r),e}o(Cmt,"buildURL");function U6e(e){let t=parseInt(e,10);return t===Number(e)&&t>=0&&t<=65535}o(U6e,"isValidPort");function aO(e){return e!=null&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&(e[4]===":"||e[4]==="s"&&e[5]===":")}o(aO,"isHttpOrHttpsPrefixed");function q6e(e){if(typeof e=="string"){if(e=new URL(e),!aO(e.origin||e.protocol))throw new yl("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}if(!e||typeof e!="object")throw new yl("Invalid URL: The URL argument must be a non-null object.");if(!(e instanceof URL)){if(e.port!=null&&e.port!==""&&U6e(e.port)===!1)throw new yl("Invalid URL: port must be a valid integer or a string representation of an integer.");if(e.path!=null&&typeof e.path!="string")throw new yl("Invalid URL path: the path must be a string or null/undefined.");if(e.pathname!=null&&typeof e.pathname!="string")throw new yl("Invalid URL pathname: the pathname must be a string or null/undefined.");if(e.hostname!=null&&typeof e.hostname!="string")throw new yl("Invalid URL hostname: the hostname must be a string or null/undefined.");if(e.origin!=null&&typeof e.origin!="string")throw new yl("Invalid URL origin: the origin must be a string or null/undefined.");if(!aO(e.origin||e.protocol))throw new yl("Invalid URL protocol: the URL must start with `http:` or `https:`.");let t=e.port!=null?e.port:e.protocol==="https:"?443:80,r=e.origin!=null?e.origin:`${e.protocol||""}//${e.hostname||""}:${t}`,n=e.path!=null?e.path:`${e.pathname||""}${e.search||""}`;return r[r.length-1]==="/"&&(r=r.slice(0,r.length-1)),n&&n[0]!=="/"&&(n=`/${n}`),new URL(`${r}${n}`)}if(!aO(e.origin||e.protocol))throw new yl("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}o(q6e,"parseURL");function Emt(e){if(e=q6e(e),e.pathname!=="/"||e.search||e.hash)throw new yl("invalid url");return e}o(Emt,"parseOrigin");function xmt(e){if(e[0]==="["){let r=e.indexOf("]");return Lw(r!==-1),e.substring(1,r)}let t=e.indexOf(":");return t===-1?e:e.substring(0,t)}o(xmt,"getHostname");function bmt(e){if(!e)return null;Lw(typeof e=="string");let t=xmt(e);return cmt.isIP(t)?"":t}o(bmt,"getServerName");function vmt(e){return JSON.parse(JSON.stringify(e))}o(vmt,"deepClone");function Imt(e){return e!=null&&typeof e[Symbol.asyncIterator]=="function"}o(Imt,"isAsyncIterable");function W6e(e){return e!=null&&(typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function")}o(W6e,"isIterable");function G6e(e){if(e==null)return 0;if(uO(e)){let t=e._readableState;return t&&t.objectMode===!1&&t.ended===!0&&Number.isFinite(t.length)?t.length:null}else{if(O6e(e))return e.size!=null?e.size:null;if(j6e(e))return e.byteLength}return null}o(G6e,"bodyLength");function H6e(e){return e&&!!(e.destroyed||e[Q6e]||cO.isDestroyed?.(e))}o(H6e,"isDestroyed");function Tmt(e,t){e==null||!uO(e)||H6e(e)||(typeof e.destroy=="function"?(Object.getPrototypeOf(e).constructor===lmt&&(e.socket=null),e.destroy(t)):t&&queueMicrotask(()=>{e.emit("error",t)}),e.destroyed!==!0&&(e[Q6e]=!0))}o(Tmt,"destroy");var wmt=/timeout=(\d+)/;function Smt(e){let t=e.toString().match(wmt);return t?parseInt(t[1],10)*1e3:null}o(Smt,"parseKeepAliveTimeout");function V6e(e){return typeof e=="string"?hmt[e]??e.toLowerCase():M6e.lookup(e)??e.toString("latin1").toLowerCase()}o(V6e,"headerNameToString");function _mt(e){return M6e.lookup(e)??e.toString("latin1").toLowerCase()}o(_mt,"bufferToLowerCasedHeaderName");function kmt(e,t){t===void 0&&(t={});for(let r=0;r<e.length;r+=2){let n=V6e(e[r]),i=t[n];if(i)typeof i=="string"&&(i=[i],t[n]=i),i.push(e[r+1].toString("utf8"));else{let s=e[r+1];typeof s=="string"?t[n]=s:t[n]=Array.isArray(s)?s.map(a=>a.toString("utf8")):s.toString("utf8")}}return"content-length"in t&&"content-disposition"in t&&(t["content-disposition"]=Buffer.from(t["content-disposition"]).toString("latin1")),t}o(kmt,"parseHeaders");function Bmt(e){let t=e.length,r=new Array(t),n=!1,i=-1,s,a,l=0;for(let c=0;c<e.length;c+=2)s=e[c],a=e[c+1],typeof s!="string"&&(s=s.toString()),typeof a!="string"&&(a=a.toString("utf8")),l=s.length,l===14&&s[7]==="-"&&(s==="content-length"||s.toLowerCase()==="content-length")?n=!0:l===19&&s[7]==="-"&&(s==="content-disposition"||s.toLowerCase()==="content-disposition")&&(i=c+1),r[c]=s,r[c+1]=a;return n&&i!==-1&&(r[i]=Buffer.from(r[i]).toString("latin1")),r}o(Bmt,"parseRawHeaders");function j6e(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}o(j6e,"isBuffer");function Rmt(e,t,r){if(!e||typeof e!="object")throw new yl("handler must be an object");if(typeof e.onConnect!="function")throw new yl("invalid onConnect method");if(typeof e.onError!="function")throw new yl("invalid onError method");if(typeof e.onBodySent!="function"&&e.onBodySent!==void 0)throw new yl("invalid onBodySent method");if(r||t==="CONNECT"){if(typeof e.onUpgrade!="function")throw new yl("invalid onUpgrade method")}else{if(typeof e.onHeaders!="function")throw new yl("invalid onHeaders method");if(typeof e.onData!="function")throw new yl("invalid onData method");if(typeof e.onComplete!="function")throw new yl("invalid onComplete method")}}o(Rmt,"validateHandler");function Dmt(e){return!!(e&&(cO.isDisturbed(e)||e[UI]))}o(Dmt,"isDisturbed");function Pmt(e){return!!(e&&cO.isErrored(e))}o(Pmt,"isErrored");function Fmt(e){return!!(e&&cO.isReadable(e))}o(Fmt,"isReadable");function Nmt(e){return{localAddress:e.localAddress,localPort:e.localPort,remoteAddress:e.remoteAddress,remotePort:e.remotePort,remoteFamily:e.remoteFamily,timeout:e.timeout,bytesWritten:e.bytesWritten,bytesRead:e.bytesRead}}o(Nmt,"getSocketInfo");function Lmt(e){let t;return new ReadableStream({async start(){t=e[Symbol.asyncIterator]()},async pull(r){let{done:n,value:i}=await t.next();if(n)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let s=Buffer.isBuffer(i)?i:Buffer.from(i);s.byteLength&&r.enqueue(new Uint8Array(s))}return r.desiredSize>0},async cancel(r){await t.return()},type:"bytes"})}o(Lmt,"ReadableStreamFrom");function Qmt(e){return e&&typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&e[Symbol.toStringTag]==="FormData"}o(Qmt,"isFormDataLike");function Mmt(e,t){return"addEventListener"in e?(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)):(e.addListener("abort",t),()=>e.removeListener("abort",t))}o(Mmt,"addAbortListener");var Omt=typeof String.prototype.toWellFormed=="function",Umt=typeof String.prototype.isWellFormed=="function";function $6e(e){return Omt?`${e}`.toWellFormed():fmt.toUSVString(e)}o($6e,"toUSVString");function qmt(e){return Umt?`${e}`.isWellFormed():$6e(e)===`${e}`}o(qmt,"isUSVString");function z6e(e){switch(e){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return e>=33&&e<=126}}o(z6e,"isTokenCharCode");function Wmt(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t)if(!z6e(e.charCodeAt(t)))return!1;return!0}o(Wmt,"isValidHTTPToken");var Gmt=/[^\t\x20-\x7e\x80-\xff]/;function Hmt(e){return!Gmt.test(e)}o(Hmt,"isValidHeaderValue");function Vmt(e){if(e==null||e==="")return{start:0,end:null,size:null};let t=e?e.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return t?{start:parseInt(t[1]),end:t[2]?parseInt(t[2]):null,size:t[3]?parseInt(t[3]):null}:null}o(Vmt,"parseRangeHeader");function jmt(e,t,r){return(e[Qre]??=[]).push([t,r]),e.on(t,r),e}o(jmt,"addListener");function $mt(e){for(let[t,r]of e[Qre]??[])e.removeListener(t,r);e[Qre]=null}o($mt,"removeAllListeners");function zmt(e,t,r){try{t.onError(r),Lw(t.aborted)}catch(n){e.emit("error",n)}}o(zmt,"errorRequest");var Y6e=Object.create(null);Y6e.enumerable=!0;var Mre={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},K6e={...Mre,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(Mre,null);Object.setPrototypeOf(K6e,null);J6e.exports={kEnumerableProperty:Y6e,nop:ymt,isDisturbed:Dmt,isErrored:Pmt,isReadable:Fmt,toUSVString:$6e,isUSVString:qmt,isBlobLike:O6e,parseOrigin:Emt,parseURL:q6e,getServerName:bmt,isStream:uO,isIterable:W6e,isAsyncIterable:Imt,isDestroyed:H6e,headerNameToString:V6e,bufferToLowerCasedHeaderName:_mt,addListener:jmt,removeAllListeners:$mt,errorRequest:zmt,parseRawHeaders:Bmt,parseHeaders:kmt,parseKeepAliveTimeout:Smt,destroy:Tmt,bodyLength:G6e,deepClone:vmt,ReadableStreamFrom:Lmt,isBuffer:j6e,validateHandler:Rmt,getSocketInfo:Nmt,isFormDataLike:Qmt,buildURL:Cmt,addAbortListener:Mmt,isValidHTTPToken:Wmt,isValidHeaderValue:Hmt,isTokenCharCode:z6e,parseRangeHeader:Vmt,normalizedMethodRecordsBase:Mre,normalizedMethodRecords:K6e,isValidPort:U6e,isHttpOrHttpsPrefixed:aO,nodeMajor:pmt,nodeMinor:gmt,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:Amt}});var qI=V((qOr,Z6e)=>{"use strict";d();var fo=require("node:diagnostics_channel"),Ure=require("node:util"),fO=Ure.debuglog("undici"),Ore=Ure.debuglog("fetch"),M4=Ure.debuglog("websocket"),X6e=!1,Ymt={beforeConnect:fo.channel("undici:client:beforeConnect"),connected:fo.channel("undici:client:connected"),connectError:fo.channel("undici:client:connectError"),sendHeaders:fo.channel("undici:client:sendHeaders"),create:fo.channel("undici:request:create"),bodySent:fo.channel("undici:request:bodySent"),headers:fo.channel("undici:request:headers"),trailers:fo.channel("undici:request:trailers"),error:fo.channel("undici:request:error"),open:fo.channel("undici:websocket:open"),close:fo.channel("undici:websocket:close"),socketError:fo.channel("undici:websocket:socket_error"),ping:fo.channel("undici:websocket:ping"),pong:fo.channel("undici:websocket:pong")};if(fO.enabled||Ore.enabled){let e=Ore.enabled?Ore:fO;fo.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connecting to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),fo.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connected to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),fo.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=t;e("connection to %s using %s%s errored - %s",`${s}${i?`:${i}`:""}`,n,r,a.message)}),fo.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)}),fo.channel("undici:request:headers").subscribe(t=>{let{request:{method:r,path:n,origin:i},response:{statusCode:s}}=t;e("received response to %s %s/%s - HTTP %d",r,i,n,s)}),fo.channel("undici:request:trailers").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("trailers received from %s %s/%s",r,i,n)}),fo.channel("undici:request:error").subscribe(t=>{let{request:{method:r,path:n,origin:i},error:s}=t;e("request to %s %s/%s errored - %s",r,i,n,s.message)}),X6e=!0}if(M4.enabled){if(!X6e){let e=fO.enabled?fO:M4;fo.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connecting to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),fo.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connected to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),fo.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=t;e("connection to %s%s using %s%s errored - %s",s,i?`:${i}`:"",n,r,a.message)}),fo.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)})}fo.channel("undici:websocket:open").subscribe(e=>{let{address:{address:t,port:r}}=e;M4("connection opened %s%s",t,r?`:${r}`:"")}),fo.channel("undici:websocket:close").subscribe(e=>{let{websocket:t,code:r,reason:n}=e;M4("closed connection to %s - %s %s",t.url,r,n)}),fo.channel("undici:websocket:socket_error").subscribe(e=>{M4("connection errored - %s",e.message)}),fo.channel("undici:websocket:ping").subscribe(e=>{M4("ping received")}),fo.channel("undici:websocket:pong").subscribe(e=>{M4("pong received")})}Z6e.exports={channels:Ymt}});var i9e=V((GOr,n9e)=>{"use strict";d();var{InvalidArgumentError:Qs,NotSupportedError:Kmt}=lo(),O1=require("node:assert"),{isValidHTTPToken:r9e,isValidHeaderValue:e9e,isStream:Jmt,destroy:Xmt,isBuffer:Zmt,isFormDataLike:eht,isIterable:tht,isBlobLike:rht,buildURL:nht,validateHandler:iht,getServerName:oht,normalizedMethodRecords:sht}=fi(),{channels:kp}=qI(),{headerNameLowerCasedRecord:t9e}=oO(),aht=/[^\u0021-\u00ff]/,yd=Symbol("handler"),qre=class{static{o(this,"Request")}constructor(t,{path:r,method:n,body:i,headers:s,query:a,idempotent:l,blocking:c,upgrade:u,headersTimeout:f,bodyTimeout:m,reset:h,throwOnError:p,expectContinue:A,servername:E},x){if(typeof r!="string")throw new Qs("path must be a string");if(r[0]!=="/"&&!(r.startsWith("http://")||r.startsWith("https://"))&&n!=="CONNECT")throw new Qs("path must be an absolute URL or start with a slash");if(aht.test(r))throw new Qs("invalid request path");if(typeof n!="string")throw new Qs("method must be a string");if(sht[n]===void 0&&!r9e(n))throw new Qs("invalid request method");if(u&&typeof u!="string")throw new Qs("upgrade must be a string");if(f!=null&&(!Number.isFinite(f)||f<0))throw new Qs("invalid headersTimeout");if(m!=null&&(!Number.isFinite(m)||m<0))throw new Qs("invalid bodyTimeout");if(h!=null&&typeof h!="boolean")throw new Qs("invalid reset");if(A!=null&&typeof A!="boolean")throw new Qs("invalid expectContinue");if(this.headersTimeout=f,this.bodyTimeout=m,this.throwOnError=p===!0,this.method=n,this.abort=null,i==null)this.body=null;else if(Jmt(i)){this.body=i;let b=this.body._readableState;(!b||!b.autoDestroy)&&(this.endHandler=o(function(){Xmt(this)},"autoDestroy"),this.body.on("end",this.endHandler)),this.errorHandler=v=>{this.abort?this.abort(v):this.error=v},this.body.on("error",this.errorHandler)}else if(Zmt(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(eht(i)||tht(i)||rht(i))this.body=i;else throw new Qs("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=u||null,this.path=a?nht(r,a):r,this.origin=t,this.idempotent=l??(n==="HEAD"||n==="GET"),this.blocking=c??!1,this.reset=h??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=A??!1,Array.isArray(s)){if(s.length%2!==0)throw new Qs("headers array must be even");for(let b=0;b<s.length;b+=2)dO(this,s[b],s[b+1])}else if(s&&typeof s=="object")if(s[Symbol.iterator])for(let b of s){if(!Array.isArray(b)||b.length!==2)throw new Qs("headers must be in key-value pair format");dO(this,b[0],b[1])}else{let b=Object.keys(s);for(let v=0;v<b.length;++v)dO(this,b[v],s[b[v]])}else if(s!=null)throw new Qs("headers must be an object or an array");iht(x,n,u),this.servername=E||oht(this.host),this[yd]=x,kp.create.hasSubscribers&&kp.create.publish({request:this})}onBodySent(t){if(this[yd].onBodySent)try{return this[yd].onBodySent(t)}catch(r){this.abort(r)}}onRequestSent(){if(kp.bodySent.hasSubscribers&&kp.bodySent.publish({request:this}),this[yd].onRequestSent)try{return this[yd].onRequestSent()}catch(t){this.abort(t)}}onConnect(t){if(O1(!this.aborted),O1(!this.completed),this.error)t(this.error);else return this.abort=t,this[yd].onConnect(t)}onResponseStarted(){return this[yd].onResponseStarted?.()}onHeaders(t,r,n,i){O1(!this.aborted),O1(!this.completed),kp.headers.hasSubscribers&&kp.headers.publish({request:this,response:{statusCode:t,headers:r,statusText:i}});try{return this[yd].onHeaders(t,r,n,i)}catch(s){this.abort(s)}}onData(t){O1(!this.aborted),O1(!this.completed);try{return this[yd].onData(t)}catch(r){return this.abort(r),!1}}onUpgrade(t,r,n){return O1(!this.aborted),O1(!this.completed),this[yd].onUpgrade(t,r,n)}onComplete(t){this.onFinally(),O1(!this.aborted),this.completed=!0,kp.trailers.hasSubscribers&&kp.trailers.publish({request:this,trailers:t});try{return this[yd].onComplete(t)}catch(r){this.onError(r)}}onError(t){if(this.onFinally(),kp.error.hasSubscribers&&kp.error.publish({request:this,error:t}),!this.aborted)return this.aborted=!0,this[yd].onError(t)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(t,r){return dO(this,t,r),this}};function dO(e,t,r){if(r&&typeof r=="object"&&!Array.isArray(r))throw new Qs(`invalid ${t} header`);if(r===void 0)return;let n=t9e[t];if(n===void 0&&(n=t.toLowerCase(),t9e[n]===void 0&&!r9e(n)))throw new Qs("invalid header key");if(Array.isArray(r)){let i=[];for(let s=0;s<r.length;s++)if(typeof r[s]=="string"){if(!e9e(r[s]))throw new Qs(`invalid ${t} header`);i.push(r[s])}else if(r[s]===null)i.push("");else{if(typeof r[s]=="object")throw new Qs(`invalid ${t} header`);i.push(`${r[s]}`)}r=i}else if(typeof r=="string"){if(!e9e(r))throw new Qs(`invalid ${t} header`)}else r===null?r="":r=`${r}`;if(e.host===null&&n==="host"){if(typeof r!="string")throw new Qs("invalid host header");e.host=r}else if(e.contentLength===null&&n==="content-length"){if(e.contentLength=parseInt(r,10),!Number.isFinite(e.contentLength))throw new Qs("invalid content-length header")}else if(e.contentType===null&&n==="content-type")e.contentType=r,e.headers.push(t,r);else{if(n==="transfer-encoding"||n==="keep-alive"||n==="upgrade")throw new Qs(`invalid ${n} header`);if(n==="connection"){let i=typeof r=="string"?r.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new Qs("invalid connection header");i==="close"&&(e.reset=!0)}else{if(n==="expect")throw new Kmt("expect header not supported");e.headers.push(t,r)}}}o(dO,"processHeader");n9e.exports=qre});var Qw=V((jOr,o9e)=>{"use strict";d();var lht=require("node:events"),mO=class extends lht{static{o(this,"Dispatcher")}dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...t){let r=Array.isArray(t[0])?t[0]:t,n=this.dispatch.bind(this);for(let i of r)if(i!=null){if(typeof i!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof i}`);if(n=i(n),n==null||typeof n!="function"||n.length!==2)throw new TypeError("invalid interceptor")}return new Wre(this,n)}},Wre=class extends mO{static{o(this,"ComposedDispatcher")}#e=null;#t=null;constructor(t,r){super(),this.#e=t,this.#t=r}dispatch(...t){this.#t(...t)}close(...t){return this.#e.close(...t)}destroy(...t){return this.#e.destroy(...t)}};o9e.exports=mO});var VI=V((YOr,s9e)=>{"use strict";d();var cht=Qw(),{ClientDestroyedError:Gre,ClientClosedError:uht,InvalidArgumentError:WI}=lo(),{kDestroy:fht,kClose:dht,kClosed:Mw,kDestroyed:GI,kDispatch:Hre,kInterceptors:O4}=Ts(),U1=Symbol("onDestroyed"),HI=Symbol("onClosed"),hO=Symbol("Intercepted Dispatch"),Vre=class extends cht{static{o(this,"DispatcherBase")}constructor(){super(),this[GI]=!1,this[U1]=null,this[Mw]=!1,this[HI]=[]}get destroyed(){return this[GI]}get closed(){return this[Mw]}get interceptors(){return this[O4]}set interceptors(t){if(t){for(let r=t.length-1;r>=0;r--)if(typeof this[O4][r]!="function")throw new WI("interceptor must be an function")}this[O4]=t}close(t){if(t===void 0)return new Promise((n,i)=>{this.close((s,a)=>s?i(s):n(a))});if(typeof t!="function")throw new WI("invalid callback");if(this[GI]){queueMicrotask(()=>t(new Gre,null));return}if(this[Mw]){this[HI]?this[HI].push(t):queueMicrotask(()=>t(null,null));return}this[Mw]=!0,this[HI].push(t);let r=o(()=>{let n=this[HI];this[HI]=null;for(let i=0;i<n.length;i++)n[i](null,null)},"onClosed");this[dht]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(t,r){if(typeof t=="function"&&(r=t,t=null),r===void 0)return new Promise((i,s)=>{this.destroy(t,(a,l)=>a?s(a):i(l))});if(typeof r!="function")throw new WI("invalid callback");if(this[GI]){this[U1]?this[U1].push(r):queueMicrotask(()=>r(null,null));return}t||(t=new Gre),this[GI]=!0,this[U1]=this[U1]||[],this[U1].push(r);let n=o(()=>{let i=this[U1];this[U1]=null;for(let s=0;s<i.length;s++)i[s](null,null)},"onDestroyed");this[fht](t).then(()=>{queueMicrotask(n)})}[hO](t,r){if(!this[O4]||this[O4].length===0)return this[hO]=this[Hre],this[Hre](t,r);let n=this[Hre].bind(this);for(let i=this[O4].length-1;i>=0;i--)n=this[O4][i](n);return this[hO]=n,n(t,r)}dispatch(t,r){if(!r||typeof r!="object")throw new WI("handler must be an object");try{if(!t||typeof t!="object")throw new WI("opts must be an object.");if(this[GI]||this[U1])throw new Gre;if(this[Mw])throw new uht;return this[hO](t,r)}catch(n){if(typeof r.onError!="function")throw new WI("invalid onError method");return r.onError(n),!1}}};s9e.exports=Vre});var Xre=V((XOr,u9e)=>{"use strict";d();var jI=0,jre=1e3,$re=(jre>>1)-1,q1,zre=Symbol("kFastTimer"),W1=[],Yre=-2,Kre=-1,l9e=0,a9e=1;function Jre(){jI+=$re;let e=0,t=W1.length;for(;e<t;){let r=W1[e];r._state===l9e?(r._idleStart=jI-$re,r._state=a9e):r._state===a9e&&jI>=r._idleStart+r._idleTimeout&&(r._state=Kre,r._idleStart=-1,r._onTimeout(r._timerArg)),r._state===Kre?(r._state=Yre,--t!==0&&(W1[e]=W1[t])):++e}W1.length=t,W1.length!==0&&c9e()}o(Jre,"onTick");function c9e(){q1?q1.refresh():(clearTimeout(q1),q1=setTimeout(Jre,$re),q1.unref&&q1.unref())}o(c9e,"refreshTimeout");var pO=class{static{o(this,"FastTimer")}[zre]=!0;_state=Yre;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(t,r,n){this._onTimeout=t,this._idleTimeout=r,this._timerArg=n,this.refresh()}refresh(){this._state===Yre&&W1.push(this),(!q1||W1.length===1)&&c9e(),this._state=l9e}clear(){this._state=Kre,this._idleStart=-1}};u9e.exports={setTimeout(e,t,r){return t<=jre?setTimeout(e,t,r):new pO(e,t,r)},clearTimeout(e){e[zre]?e.clear():clearTimeout(e)},setFastTimeout(e,t,r){return new pO(e,t,r)},clearFastTimeout(e){e.clear()},now(){return jI},tick(e=0){jI+=e-jre+1,Jre(),Jre()},reset(){jI=0,W1.length=0,clearTimeout(q1),q1=null},kFastTimer:zre}});var Ow=V((nUr,p9e)=>{"use strict";d();var mht=require("node:net"),f9e=require("node:assert"),h9e=fi(),{InvalidArgumentError:hht,ConnectTimeoutError:pht}=lo(),gO=Xre();function d9e(){}o(d9e,"noop");var Zre,ene;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?ene=class{static{o(this,"WeakSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(t){let r=this._sessionCache.get(t);return r?r.deref():null}set(t,r){this._maxCachedSessions!==0&&(this._sessionCache.set(t,new WeakRef(r)),this._sessionRegistry.register(r,t))}}:ene=class{static{o(this,"SimpleSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map}get(t){return this._sessionCache.get(t)}set(t,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(t,r)}}};function ght({allowH2:e,maxCachedSessions:t,socketPath:r,timeout:n,session:i,...s}){if(t!=null&&(!Number.isInteger(t)||t<0))throw new hht("maxCachedSessions must be a positive integer or zero");let a={path:r,...s},l=new ene(t??100);return n=n??1e4,e=e??!1,o(function({hostname:u,host:f,protocol:m,port:h,servername:p,localAddress:A,httpSocket:E},x){let b;if(m==="https:"){Zre||(Zre=require("node:tls")),p=p||a.servername||h9e.getServerName(f)||null;let S=p||u;f9e(S);let B=i||l.get(S)||null;h=h||443,b=Zre.connect({highWaterMark:16384,...a,servername:p,session:B,localAddress:A,ALPNProtocols:e?["http/1.1","h2"]:["http/1.1"],socket:E,port:h,host:u}),b.on("session",function(P){l.set(S,P)})}else f9e(!E,"httpSocket can only be sent on TLS update"),h=h||80,b=mht.connect({highWaterMark:64*1024,...a,localAddress:A,port:h,host:u});if(a.keepAlive==null||a.keepAlive){let S=a.keepAliveInitialDelay===void 0?6e4:a.keepAliveInitialDelay;b.setKeepAlive(!0,S)}let v=Aht(new WeakRef(b),{timeout:n,hostname:u,port:h});return b.setNoDelay(!0).once(m==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(v),x){let S=x;x=null,S(null,this)}}).on("error",function(S){if(queueMicrotask(v),x){let B=x;x=null,B(S)}}),b},"connect")}o(ght,"buildConnector");var Aht=process.platform==="win32"?(e,t)=>{if(!t.timeout)return d9e;let r=null,n=null,i=gO.setFastTimeout(()=>{r=setImmediate(()=>{n=setImmediate(()=>m9e(e.deref(),t))})},t.timeout);return()=>{gO.clearFastTimeout(i),clearImmediate(r),clearImmediate(n)}}:(e,t)=>{if(!t.timeout)return d9e;let r=null,n=gO.setFastTimeout(()=>{r=setImmediate(()=>{m9e(e.deref(),t)})},t.timeout);return()=>{gO.clearFastTimeout(n),clearImmediate(r)}};function m9e(e,t){if(e==null)return;let r="Connect Timeout Error";Array.isArray(e.autoSelectFamilyAttemptedAddresses)?r+=` (attempted addresses: ${e.autoSelectFamilyAttemptedAddresses.join(", ")},`:r+=` (attempted address: ${t.hostname}:${t.port},`,r+=` timeout: ${t.timeout}ms)`,h9e.destroy(e,new pht(r))}o(m9e,"onConnectTimeout");p9e.exports=ght});var g9e=V(AO=>{"use strict";d();Object.defineProperty(AO,"__esModule",{value:!0});AO.enumToMap=void 0;function yht(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];typeof n=="number"&&(t[r]=n)}),t}o(yht,"enumToMap");AO.enumToMap=yht});var A9e=V(tr=>{"use strict";d();Object.defineProperty(tr,"__esModule",{value:!0});tr.SPECIAL_HEADERS=tr.HEADER_STATE=tr.MINOR=tr.MAJOR=tr.CONNECTION_TOKEN_CHARS=tr.HEADER_CHARS=tr.TOKEN=tr.STRICT_TOKEN=tr.HEX=tr.URL_CHAR=tr.STRICT_URL_CHAR=tr.USERINFO_CHARS=tr.MARK=tr.ALPHANUM=tr.NUM=tr.HEX_MAP=tr.NUM_MAP=tr.ALPHA=tr.FINISH=tr.H_METHOD_MAP=tr.METHOD_MAP=tr.METHODS_RTSP=tr.METHODS_ICE=tr.METHODS_HTTP=tr.METHODS=tr.LENIENT_FLAGS=tr.FLAGS=tr.TYPE=tr.ERROR=void 0;var Cht=g9e(),Eht;(function(e){e[e.OK=0]="OK",e[e.INTERNAL=1]="INTERNAL",e[e.STRICT=2]="STRICT",e[e.LF_EXPECTED=3]="LF_EXPECTED",e[e.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",e[e.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",e[e.INVALID_METHOD=6]="INVALID_METHOD",e[e.INVALID_URL=7]="INVALID_URL",e[e.INVALID_CONSTANT=8]="INVALID_CONSTANT",e[e.INVALID_VERSION=9]="INVALID_VERSION",e[e.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",e[e.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",e[e.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",e[e.INVALID_STATUS=13]="INVALID_STATUS",e[e.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",e[e.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",e[e.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",e[e.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",e[e.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",e[e.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",e[e.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",e[e.PAUSED=21]="PAUSED",e[e.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",e[e.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",e[e.USER=24]="USER"})(Eht=tr.ERROR||(tr.ERROR={}));var xht;(function(e){e[e.BOTH=0]="BOTH",e[e.REQUEST=1]="REQUEST",e[e.RESPONSE=2]="RESPONSE"})(xht=tr.TYPE||(tr.TYPE={}));var bht;(function(e){e[e.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",e[e.CHUNKED=8]="CHUNKED",e[e.UPGRADE=16]="UPGRADE",e[e.CONTENT_LENGTH=32]="CONTENT_LENGTH",e[e.SKIPBODY=64]="SKIPBODY",e[e.TRAILING=128]="TRAILING",e[e.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(bht=tr.FLAGS||(tr.FLAGS={}));var vht;(function(e){e[e.HEADERS=1]="HEADERS",e[e.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",e[e.KEEP_ALIVE=4]="KEEP_ALIVE"})(vht=tr.LENIENT_FLAGS||(tr.LENIENT_FLAGS={}));var on;(function(e){e[e.DELETE=0]="DELETE",e[e.GET=1]="GET",e[e.HEAD=2]="HEAD",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.CONNECT=5]="CONNECT",e[e.OPTIONS=6]="OPTIONS",e[e.TRACE=7]="TRACE",e[e.COPY=8]="COPY",e[e.LOCK=9]="LOCK",e[e.MKCOL=10]="MKCOL",e[e.MOVE=11]="MOVE",e[e.PROPFIND=12]="PROPFIND",e[e.PROPPATCH=13]="PROPPATCH",e[e.SEARCH=14]="SEARCH",e[e.UNLOCK=15]="UNLOCK",e[e.BIND=16]="BIND",e[e.REBIND=17]="REBIND",e[e.UNBIND=18]="UNBIND",e[e.ACL=19]="ACL",e[e.REPORT=20]="REPORT",e[e.MKACTIVITY=21]="MKACTIVITY",e[e.CHECKOUT=22]="CHECKOUT",e[e.MERGE=23]="MERGE",e[e["M-SEARCH"]=24]="M-SEARCH",e[e.NOTIFY=25]="NOTIFY",e[e.SUBSCRIBE=26]="SUBSCRIBE",e[e.UNSUBSCRIBE=27]="UNSUBSCRIBE",e[e.PATCH=28]="PATCH",e[e.PURGE=29]="PURGE",e[e.MKCALENDAR=30]="MKCALENDAR",e[e.LINK=31]="LINK",e[e.UNLINK=32]="UNLINK",e[e.SOURCE=33]="SOURCE",e[e.PRI=34]="PRI",e[e.DESCRIBE=35]="DESCRIBE",e[e.ANNOUNCE=36]="ANNOUNCE",e[e.SETUP=37]="SETUP",e[e.PLAY=38]="PLAY",e[e.PAUSE=39]="PAUSE",e[e.TEARDOWN=40]="TEARDOWN",e[e.GET_PARAMETER=41]="GET_PARAMETER",e[e.SET_PARAMETER=42]="SET_PARAMETER",e[e.REDIRECT=43]="REDIRECT",e[e.RECORD=44]="RECORD",e[e.FLUSH=45]="FLUSH"})(on=tr.METHODS||(tr.METHODS={}));tr.METHODS_HTTP=[on.DELETE,on.GET,on.HEAD,on.POST,on.PUT,on.CONNECT,on.OPTIONS,on.TRACE,on.COPY,on.LOCK,on.MKCOL,on.MOVE,on.PROPFIND,on.PROPPATCH,on.SEARCH,on.UNLOCK,on.BIND,on.REBIND,on.UNBIND,on.ACL,on.REPORT,on.MKACTIVITY,on.CHECKOUT,on.MERGE,on["M-SEARCH"],on.NOTIFY,on.SUBSCRIBE,on.UNSUBSCRIBE,on.PATCH,on.PURGE,on.MKCALENDAR,on.LINK,on.UNLINK,on.PRI,on.SOURCE];tr.METHODS_ICE=[on.SOURCE];tr.METHODS_RTSP=[on.OPTIONS,on.DESCRIBE,on.ANNOUNCE,on.SETUP,on.PLAY,on.PAUSE,on.TEARDOWN,on.GET_PARAMETER,on.SET_PARAMETER,on.REDIRECT,on.RECORD,on.FLUSH,on.GET,on.POST];tr.METHOD_MAP=Cht.enumToMap(on);tr.H_METHOD_MAP={};Object.keys(tr.METHOD_MAP).forEach(e=>{/^H/.test(e)&&(tr.H_METHOD_MAP[e]=tr.METHOD_MAP[e])});var Iht;(function(e){e[e.SAFE=0]="SAFE",e[e.SAFE_WITH_CB=1]="SAFE_WITH_CB",e[e.UNSAFE=2]="UNSAFE"})(Iht=tr.FINISH||(tr.FINISH={}));tr.ALPHA=[];for(let e=65;e<=90;e++)tr.ALPHA.push(String.fromCharCode(e)),tr.ALPHA.push(String.fromCharCode(e+32));tr.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};tr.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};tr.NUM=["0","1","2","3","4","5","6","7","8","9"];tr.ALPHANUM=tr.ALPHA.concat(tr.NUM);tr.MARK=["-","_",".","!","~","*","'","(",")"];tr.USERINFO_CHARS=tr.ALPHANUM.concat(tr.MARK).concat(["%",";",":","&","=","+","$",","]);tr.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(tr.ALPHANUM);tr.URL_CHAR=tr.STRICT_URL_CHAR.concat(["	","\f"]);for(let e=128;e<=255;e++)tr.URL_CHAR.push(e);tr.HEX=tr.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);tr.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(tr.ALPHANUM);tr.TOKEN=tr.STRICT_TOKEN.concat([" "]);tr.HEADER_CHARS=["	"];for(let e=32;e<=255;e++)e!==127&&tr.HEADER_CHARS.push(e);tr.CONNECTION_TOKEN_CHARS=tr.HEADER_CHARS.filter(e=>e!==44);tr.MAJOR=tr.NUM_MAP;tr.MINOR=tr.MAJOR;var $I;(function(e){e[e.GENERAL=0]="GENERAL",e[e.CONNECTION=1]="CONNECTION",e[e.CONTENT_LENGTH=2]="CONTENT_LENGTH",e[e.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",e[e.UPGRADE=4]="UPGRADE",e[e.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",e[e.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})($I=tr.HEADER_STATE||(tr.HEADER_STATE={}));tr.SPECIAL_HEADERS={connection:$I.CONNECTION,"content-length":$I.CONTENT_LENGTH,"proxy-connection":$I.CONNECTION,"transfer-encoding":$I.TRANSFER_ENCODING,upgrade:$I.UPGRADE}});var tne=V((fUr,y9e)=>{"use strict";d();var{Buffer:Tht}=require("node:buffer");y9e.exports=Tht.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK07MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtXACAAQRhqQgA3AwAgAEIANwMAIABBOGpCADcDACAAQTBqQgA3AwAgAEEoakIANwMAIABBIGpCADcDACAAQRBqQgA3AwAgAEEIakIANwMAIABB3QE2AhwLBgAgABAyC5otAQt/IwBBEGsiCiQAQaTQACgCACIJRQRAQeTTACgCACIFRQRAQfDTAEJ/NwIAQejTAEKAgISAgIDAADcCAEHk0wAgCkEIakFwcUHYqtWqBXMiBTYCAEH40wBBADYCAEHI0wBBADYCAAtBzNMAQYDUBDYCAEGc0ABBgNQENgIAQbDQACAFNgIAQazQAEF/NgIAQdDTAEGArAM2AgADQCABQcjQAGogAUG80ABqIgI2AgAgAiABQbTQAGoiAzYCACABQcDQAGogAzYCACABQdDQAGogAUHE0ABqIgM2AgAgAyACNgIAIAFB2NAAaiABQczQAGoiAjYCACACIAM2AgAgAUHU0ABqIAI2AgAgAUEgaiIBQYACRw0AC0GM1ARBwasDNgIAQajQAEH00wAoAgA2AgBBmNAAQcCrAzYCAEGk0ABBiNQENgIAQcz/B0E4NgIAQYjUBCEJCwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB7AFNBEBBjNAAKAIAIgZBECAAQRNqQXBxIABBC0kbIgRBA3YiAHYiAUEDcQRAAkAgAUEBcSAAckEBcyICQQN0IgBBtNAAaiIBIABBvNAAaigCACIAKAIIIgNGBEBBjNAAIAZBfiACd3E2AgAMAQsgASADNgIIIAMgATYCDAsgAEEIaiEBIAAgAkEDdCICQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDBELQZTQACgCACIIIARPDQEgAQRAAkBBAiAAdCICQQAgAmtyIAEgAHRxaCIAQQN0IgJBtNAAaiIBIAJBvNAAaigCACICKAIIIgNGBEBBjNAAIAZBfiAAd3EiBjYCAAwBCyABIAM2AgggAyABNgIMCyACIARBA3I2AgQgAEEDdCIAIARrIQUgACACaiAFNgIAIAIgBGoiBCAFQQFyNgIEIAgEQCAIQXhxQbTQAGohAEGg0AAoAgAhAwJ/QQEgCEEDdnQiASAGcUUEQEGM0AAgASAGcjYCACAADAELIAAoAggLIgEgAzYCDCAAIAM2AgggAyAANgIMIAMgATYCCAsgAkEIaiEBQaDQACAENgIAQZTQACAFNgIADBELQZDQACgCACILRQ0BIAtoQQJ0QbzSAGooAgAiACgCBEF4cSAEayEFIAAhAgNAAkAgAigCECIBRQRAIAJBFGooAgAiAUUNAQsgASgCBEF4cSAEayIDIAVJIQIgAyAFIAIbIQUgASAAIAIbIQAgASECDAELCyAAKAIYIQkgACgCDCIDIABHBEBBnNAAKAIAGiADIAAoAggiATYCCCABIAM2AgwMEAsgAEEUaiICKAIAIgFFBEAgACgCECIBRQ0DIABBEGohAgsDQCACIQcgASIDQRRqIgIoAgAiAQ0AIANBEGohAiADKAIQIgENAAsgB0EANgIADA8LQX8hBCAAQb9/Sw0AIABBE2oiAUFwcSEEQZDQACgCACIIRQ0AQQAgBGshBQJAAkACQAJ/QQAgBEGAAkkNABpBHyAEQf///wdLDQAaIARBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBvNIAaigCACICRQRAQQAhAUEAIQMMAQtBACEBIARBGSAGQQF2a0EAIAZBH0cbdCEAQQAhAwNAAkAgAigCBEF4cSAEayIHIAVPDQAgAiEDIAciBQ0AQQAhBSACIQEMAwsgASACQRRqKAIAIgcgByACIABBHXZBBHFqQRBqKAIAIgJGGyABIAcbIQEgAEEBdCEAIAINAAsLIAEgA3JFBEBBACEDQQIgBnQiAEEAIABrciAIcSIARQ0DIABoQQJ0QbzSAGooAgAhAQsgAUUNAQsDQCABKAIEQXhxIARrIgIgBUkhACACIAUgABshBSABIAMgABshAyABKAIQIgAEfyAABSABQRRqKAIACyIBDQALCyADRQ0AIAVBlNAAKAIAIARrTw0AIAMoAhghByADIAMoAgwiAEcEQEGc0AAoAgAaIAAgAygCCCIBNgIIIAEgADYCDAwOCyADQRRqIgIoAgAiAUUEQCADKAIQIgFFDQMgA0EQaiECCwNAIAIhBiABIgBBFGoiAigCACIBDQAgAEEQaiECIAAoAhAiAQ0ACyAGQQA2AgAMDQtBlNAAKAIAIgMgBE8EQEGg0AAoAgAhAQJAIAMgBGsiAkEQTwRAIAEgBGoiACACQQFyNgIEIAEgA2ogAjYCACABIARBA3I2AgQMAQsgASADQQNyNgIEIAEgA2oiACAAKAIEQQFyNgIEQQAhAEEAIQILQZTQACACNgIAQaDQACAANgIAIAFBCGohAQwPC0GY0AAoAgAiAyAESwRAIAQgCWoiACADIARrIgFBAXI2AgRBpNAAIAA2AgBBmNAAIAE2AgAgCSAEQQNyNgIEIAlBCGohAQwPC0EAIQEgBAJ/QeTTACgCAARAQezTACgCAAwBC0Hw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBDGpBcHFB2KrVqgVzNgIAQfjTAEEANgIAQcjTAEEANgIAQYCABAsiACAEQccAaiIFaiIGQQAgAGsiB3EiAk8EQEH80wBBMDYCAAwPCwJAQcTTACgCACIBRQ0AQbzTACgCACIIIAJqIQAgACABTSAAIAhLcQ0AQQAhAUH80wBBMDYCAAwPC0HI0wAtAABBBHENBAJAAkAgCQRAQczTACEBA0AgASgCACIAIAlNBEAgACABKAIEaiAJSw0DCyABKAIIIgENAAsLQQAQMyIAQX9GDQUgAiEGQejTACgCACIBQQFrIgMgAHEEQCACIABrIAAgA2pBACABa3FqIQYLIAQgBk8NBSAGQf7///8HSw0FQcTTACgCACIDBEBBvNMAKAIAIgcgBmohASABIAdNDQYgASADSw0GCyAGEDMiASAARw0BDAcLIAYgA2sgB3EiBkH+////B0sNBCAGEDMhACAAIAEoAgAgASgCBGpGDQMgACEBCwJAIAYgBEHIAGpPDQAgAUF/Rg0AQezTACgCACIAIAUgBmtqQQAgAGtxIgBB/v///wdLBEAgASEADAcLIAAQM0F/RwRAIAAgBmohBiABIQAMBwtBACAGaxAzGgwECyABIgBBf0cNBQwDC0EAIQMMDAtBACEADAoLIABBf0cNAgtByNMAQcjTACgCAEEEcjYCAAsgAkH+////B0sNASACEDMhAEEAEDMhASAAQX9GDQEgAUF/Rg0BIAAgAU8NASABIABrIgYgBEE4ak0NAQtBvNMAQbzTACgCACAGaiIBNgIAQcDTACgCACABSQRAQcDTACABNgIACwJAAkACQEGk0AAoAgAiAgRAQczTACEBA0AgACABKAIAIgMgASgCBCIFakYNAiABKAIIIgENAAsMAgtBnNAAKAIAIgFBAEcgACABT3FFBEBBnNAAIAA2AgALQQAhAUHQ0wAgBjYCAEHM0wAgADYCAEGs0ABBfzYCAEGw0ABB5NMAKAIANgIAQdjTAEEANgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBeCAAa0EPcSIBIABqIgIgBkE4ayIDIAFrIgFBAXI2AgRBqNAAQfTTACgCADYCAEGY0AAgATYCAEGk0AAgAjYCACAAIANqQTg2AgQMAgsgACACTQ0AIAIgA0kNACABKAIMQQhxDQBBeCACa0EPcSIAIAJqIgNBmNAAKAIAIAZqIgcgAGsiAEEBcjYCBCABIAUgBmo2AgRBqNAAQfTTACgCADYCAEGY0AAgADYCAEGk0AAgAzYCACACIAdqQTg2AgQMAQsgAEGc0AAoAgBJBEBBnNAAIAA2AgALIAAgBmohA0HM0wAhAQJAAkACQANAIAMgASgCAEcEQCABKAIIIgENAQwCCwsgAS0ADEEIcUUNAQtBzNMAIQEDQCABKAIAIgMgAk0EQCADIAEoAgRqIgUgAksNAwsgASgCCCEBDAALAAsgASAANgIAIAEgASgCBCAGajYCBCAAQXggAGtBD3FqIgkgBEEDcjYCBCADQXggA2tBD3FqIgYgBCAJaiIEayEBIAIgBkYEQEGk0AAgBDYCAEGY0ABBmNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEDAgLQaDQACgCACAGRgRAQaDQACAENgIAQZTQAEGU0AAoAgAgAWoiADYCACAEIABBAXI2AgQgACAEaiAANgIADAgLIAYoAgQiBUEDcUEBRw0GIAVBeHEhCCAFQf8BTQRAIAVBA3YhAyAGKAIIIgAgBigCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBwsgAiAANgIIIAAgAjYCDAwGCyAGKAIYIQcgBiAGKAIMIgBHBEAgACAGKAIIIgI2AgggAiAANgIMDAULIAZBFGoiAigCACIFRQRAIAYoAhAiBUUNBCAGQRBqIQILA0AgAiEDIAUiAEEUaiICKAIAIgUNACAAQRBqIQIgACgCECIFDQALIANBADYCAAwEC0F4IABrQQ9xIgEgAGoiByAGQThrIgMgAWsiAUEBcjYCBCAAIANqQTg2AgQgAiAFQTcgBWtBD3FqQT9rIgMgAyACQRBqSRsiA0EjNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAc2AgAgA0EQakHU0wApAgA3AgAgA0HM0wApAgA3AghB1NMAIANBCGo2AgBB0NMAIAY2AgBBzNMAIAA2AgBB2NMAQQA2AgAgA0EkaiEBA0AgAUEHNgIAIAUgAUEEaiIBSw0ACyACIANGDQAgAyADKAIEQX5xNgIEIAMgAyACayIFNgIAIAIgBUEBcjYCBCAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIDcUUEQEGM0AAgASADcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEGQ0AAoAgAiA0EBIAF0IgZxRQRAIAAgAjYCAEGQ0AAgAyAGcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQMCQANAIAMiACgCBEF4cSAFRg0BIAFBHXYhAyABQQF0IQEgACADQQRxakEQaiIGKAIAIgMNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAtBmNAAKAIAIgEgBE0NAEGk0AAoAgAiACAEaiICIAEgBGsiAUEBcjYCBEGY0AAgATYCAEGk0AAgAjYCACAAIARBA3I2AgQgAEEIaiEBDAgLQQAhAUH80wBBMDYCAAwHC0EAIQALIAdFDQACQCAGKAIcIgJBAnRBvNIAaiIDKAIAIAZGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAdBEEEUIAcoAhAgBkYbaiAANgIAIABFDQELIAAgBzYCGCAGKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAGQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAIaiEBIAYgCGoiBigCBCEFCyAGIAVBfnE2AgQgASAEaiABNgIAIAQgAUEBcjYCBCABQf8BTQRAIAFBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASABQQN2dCIBcUUEQEGM0AAgASACcjYCACAADAELIAAoAggLIgEgBDYCDCAAIAQ2AgggBCAANgIMIAQgATYCCAwBC0EfIQUgAUH///8HTQRAIAFBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmohBQsgBCAFNgIcIARCADcCECAFQQJ0QbzSAGohAEGQ0AAoAgAiAkEBIAV0IgNxRQRAIAAgBDYCAEGQ0AAgAiADcjYCACAEIAA2AhggBCAENgIIIAQgBDYCDAwBCyABQRkgBUEBdmtBACAFQR9HG3QhBSAAKAIAIQACQANAIAAiAigCBEF4cSABRg0BIAVBHXYhACAFQQF0IQUgAiAAQQRxakEQaiIDKAIAIgANAAsgAyAENgIAIAQgAjYCGCAEIAQ2AgwgBCAENgIIDAELIAIoAggiACAENgIMIAIgBDYCCCAEQQA2AhggBCACNgIMIAQgADYCCAsgCUEIaiEBDAILAkAgB0UNAAJAIAMoAhwiAUECdEG80gBqIgIoAgAgA0YEQCACIAA2AgAgAA0BQZDQACAIQX4gAXdxIgg2AgAMAgsgB0EQQRQgBygCECADRhtqIAA2AgAgAEUNAQsgACAHNgIYIAMoAhAiAQRAIAAgATYCECABIAA2AhgLIANBFGooAgAiAUUNACAAQRRqIAE2AgAgASAANgIYCwJAIAVBD00EQCADIAQgBWoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARqIgIgBUEBcjYCBCADIARBA3I2AgQgAiAFaiAFNgIAIAVB/wFNBEAgBUF4cUG00ABqIQACf0GM0AAoAgAiAUEBIAVBA3Z0IgVxRQRAQYzQACABIAVyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRBvNIAaiEAQQEgAXQiBCAIcUUEQCAAIAI2AgBBkNAAIAQgCHI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEEAkADQCAEIgAoAgRBeHEgBUYNASABQR12IQQgAUEBdCEBIAAgBEEEcWpBEGoiBigCACIEDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLIANBCGohAQwBCwJAIAlFDQACQCAAKAIcIgFBAnRBvNIAaiICKAIAIABGBEAgAiADNgIAIAMNAUGQ0AAgC0F+IAF3cTYCAAwCCyAJQRBBFCAJKAIQIABGG2ogAzYCACADRQ0BCyADIAk2AhggACgCECIBBEAgAyABNgIQIAEgAzYCGAsgAEEUaigCACIBRQ0AIANBFGogATYCACABIAM2AhgLAkAgBUEPTQRAIAAgBCAFaiIBQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEDAELIAAgBGoiByAFQQFyNgIEIAAgBEEDcjYCBCAFIAdqIAU2AgAgCARAIAhBeHFBtNAAaiEBQaDQACgCACEDAn9BASAIQQN2dCICIAZxRQRAQYzQACACIAZyNgIAIAEMAQsgASgCCAsiAiADNgIMIAEgAzYCCCADIAE2AgwgAyACNgIIC0Gg0AAgBzYCAEGU0AAgBTYCAAsgAEEIaiEBCyAKQRBqJAAgAQtDACAARQRAPwBBEHQPCwJAIABB//8DcQ0AIABBAEgNACAAQRB2QAAiAEF/RgRAQfzTAEEwNgIAQX8PCyAAQRB0DwsACwvcPyIAQYAICwkBAAAAAgAAAAMAQZQICwUEAAAABQBBpAgLCQYAAAAHAAAACABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var E9e=V((mUr,C9e)=>{"use strict";d();var{Buffer:wht}=require("node:buffer");C9e.exports=wht.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK77MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtzACAAQRBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAA/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQTBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQSBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQd0BNgIcCwYAIAAQMguaLQELfyMAQRBrIgokAEGk0AAoAgAiCUUEQEHk0wAoAgAiBUUEQEHw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBCGpBcHFB2KrVqgVzIgU2AgBB+NMAQQA2AgBByNMAQQA2AgALQczTAEGA1AQ2AgBBnNAAQYDUBDYCAEGw0AAgBTYCAEGs0ABBfzYCAEHQ0wBBgKwDNgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBjNQEQcGrAzYCAEGo0ABB9NMAKAIANgIAQZjQAEHAqwM2AgBBpNAAQYjUBDYCAEHM/wdBODYCAEGI1AQhCQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAQewBTQRAQYzQACgCACIGQRAgAEETakFwcSAAQQtJGyIEQQN2IgB2IgFBA3EEQAJAIAFBAXEgAHJBAXMiAkEDdCIAQbTQAGoiASAAQbzQAGooAgAiACgCCCIDRgRAQYzQACAGQX4gAndxNgIADAELIAEgAzYCCCADIAE2AgwLIABBCGohASAAIAJBA3QiAkEDcjYCBCAAIAJqIgAgACgCBEEBcjYCBAwRC0GU0AAoAgAiCCAETw0BIAEEQAJAQQIgAHQiAkEAIAJrciABIAB0cWgiAEEDdCICQbTQAGoiASACQbzQAGooAgAiAigCCCIDRgRAQYzQACAGQX4gAHdxIgY2AgAMAQsgASADNgIIIAMgATYCDAsgAiAEQQNyNgIEIABBA3QiACAEayEFIAAgAmogBTYCACACIARqIgQgBUEBcjYCBCAIBEAgCEF4cUG00ABqIQBBoNAAKAIAIQMCf0EBIAhBA3Z0IgEgBnFFBEBBjNAAIAEgBnI2AgAgAAwBCyAAKAIICyIBIAM2AgwgACADNgIIIAMgADYCDCADIAE2AggLIAJBCGohAUGg0AAgBDYCAEGU0AAgBTYCAAwRC0GQ0AAoAgAiC0UNASALaEECdEG80gBqKAIAIgAoAgRBeHEgBGshBSAAIQIDQAJAIAIoAhAiAUUEQCACQRRqKAIAIgFFDQELIAEoAgRBeHEgBGsiAyAFSSECIAMgBSACGyEFIAEgACACGyEAIAEhAgwBCwsgACgCGCEJIAAoAgwiAyAARwRAQZzQACgCABogAyAAKAIIIgE2AgggASADNgIMDBALIABBFGoiAigCACIBRQRAIAAoAhAiAUUNAyAAQRBqIQILA0AgAiEHIAEiA0EUaiICKAIAIgENACADQRBqIQIgAygCECIBDQALIAdBADYCAAwPC0F/IQQgAEG/f0sNACAAQRNqIgFBcHEhBEGQ0AAoAgAiCEUNAEEAIARrIQUCQAJAAkACf0EAIARBgAJJDQAaQR8gBEH///8HSw0AGiAEQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qCyIGQQJ0QbzSAGooAgAiAkUEQEEAIQFBACEDDAELQQAhASAEQRkgBkEBdmtBACAGQR9HG3QhAEEAIQMDQAJAIAIoAgRBeHEgBGsiByAFTw0AIAIhAyAHIgUNAEEAIQUgAiEBDAMLIAEgAkEUaigCACIHIAcgAiAAQR12QQRxakEQaigCACICRhsgASAHGyEBIABBAXQhACACDQALCyABIANyRQRAQQAhA0ECIAZ0IgBBACAAa3IgCHEiAEUNAyAAaEECdEG80gBqKAIAIQELIAFFDQELA0AgASgCBEF4cSAEayICIAVJIQAgAiAFIAAbIQUgASADIAAbIQMgASgCECIABH8gAAUgAUEUaigCAAsiAQ0ACwsgA0UNACAFQZTQACgCACAEa08NACADKAIYIQcgAyADKAIMIgBHBEBBnNAAKAIAGiAAIAMoAggiATYCCCABIAA2AgwMDgsgA0EUaiICKAIAIgFFBEAgAygCECIBRQ0DIANBEGohAgsDQCACIQYgASIAQRRqIgIoAgAiAQ0AIABBEGohAiAAKAIQIgENAAsgBkEANgIADA0LQZTQACgCACIDIARPBEBBoNAAKAIAIQECQCADIARrIgJBEE8EQCABIARqIgAgAkEBcjYCBCABIANqIAI2AgAgASAEQQNyNgIEDAELIAEgA0EDcjYCBCABIANqIgAgACgCBEEBcjYCBEEAIQBBACECC0GU0AAgAjYCAEGg0AAgADYCACABQQhqIQEMDwtBmNAAKAIAIgMgBEsEQCAEIAlqIgAgAyAEayIBQQFyNgIEQaTQACAANgIAQZjQACABNgIAIAkgBEEDcjYCBCAJQQhqIQEMDwtBACEBIAQCf0Hk0wAoAgAEQEHs0wAoAgAMAQtB8NMAQn83AgBB6NMAQoCAhICAgMAANwIAQeTTACAKQQxqQXBxQdiq1aoFczYCAEH40wBBADYCAEHI0wBBADYCAEGAgAQLIgAgBEHHAGoiBWoiBkEAIABrIgdxIgJPBEBB/NMAQTA2AgAMDwsCQEHE0wAoAgAiAUUNAEG80wAoAgAiCCACaiEAIAAgAU0gACAIS3ENAEEAIQFB/NMAQTA2AgAMDwtByNMALQAAQQRxDQQCQAJAIAkEQEHM0wAhAQNAIAEoAgAiACAJTQRAIAAgASgCBGogCUsNAwsgASgCCCIBDQALC0EAEDMiAEF/Rg0FIAIhBkHo0wAoAgAiAUEBayIDIABxBEAgAiAAayAAIANqQQAgAWtxaiEGCyAEIAZPDQUgBkH+////B0sNBUHE0wAoAgAiAwRAQbzTACgCACIHIAZqIQEgASAHTQ0GIAEgA0sNBgsgBhAzIgEgAEcNAQwHCyAGIANrIAdxIgZB/v///wdLDQQgBhAzIQAgACABKAIAIAEoAgRqRg0DIAAhAQsCQCAGIARByABqTw0AIAFBf0YNAEHs0wAoAgAiACAFIAZrakEAIABrcSIAQf7///8HSwRAIAEhAAwHCyAAEDNBf0cEQCAAIAZqIQYgASEADAcLQQAgBmsQMxoMBAsgASIAQX9HDQUMAwtBACEDDAwLQQAhAAwKCyAAQX9HDQILQcjTAEHI0wAoAgBBBHI2AgALIAJB/v///wdLDQEgAhAzIQBBABAzIQEgAEF/Rg0BIAFBf0YNASAAIAFPDQEgASAAayIGIARBOGpNDQELQbzTAEG80wAoAgAgBmoiATYCAEHA0wAoAgAgAUkEQEHA0wAgATYCAAsCQAJAAkBBpNAAKAIAIgIEQEHM0wAhAQNAIAAgASgCACIDIAEoAgQiBWpGDQIgASgCCCIBDQALDAILQZzQACgCACIBQQBHIAAgAU9xRQRAQZzQACAANgIAC0EAIQFB0NMAIAY2AgBBzNMAIAA2AgBBrNAAQX82AgBBsNAAQeTTACgCADYCAEHY0wBBADYCAANAIAFByNAAaiABQbzQAGoiAjYCACACIAFBtNAAaiIDNgIAIAFBwNAAaiADNgIAIAFB0NAAaiABQcTQAGoiAzYCACADIAI2AgAgAUHY0ABqIAFBzNAAaiICNgIAIAIgAzYCACABQdTQAGogAjYCACABQSBqIgFBgAJHDQALQXggAGtBD3EiASAAaiICIAZBOGsiAyABayIBQQFyNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAI2AgAgACADakE4NgIEDAILIAAgAk0NACACIANJDQAgASgCDEEIcQ0AQXggAmtBD3EiACACaiIDQZjQACgCACAGaiIHIABrIgBBAXI2AgQgASAFIAZqNgIEQajQAEH00wAoAgA2AgBBmNAAIAA2AgBBpNAAIAM2AgAgAiAHakE4NgIEDAELIABBnNAAKAIASQRAQZzQACAANgIACyAAIAZqIQNBzNMAIQECQAJAAkADQCADIAEoAgBHBEAgASgCCCIBDQEMAgsLIAEtAAxBCHFFDQELQczTACEBA0AgASgCACIDIAJNBEAgAyABKAIEaiIFIAJLDQMLIAEoAgghAQwACwALIAEgADYCACABIAEoAgQgBmo2AgQgAEF4IABrQQ9xaiIJIARBA3I2AgQgA0F4IANrQQ9xaiIGIAQgCWoiBGshASACIAZGBEBBpNAAIAQ2AgBBmNAAQZjQACgCACABaiIANgIAIAQgAEEBcjYCBAwIC0Gg0AAoAgAgBkYEQEGg0AAgBDYCAEGU0ABBlNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwICyAGKAIEIgVBA3FBAUcNBiAFQXhxIQggBUH/AU0EQCAFQQN2IQMgBigCCCIAIAYoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAcLIAIgADYCCCAAIAI2AgwMBgsgBigCGCEHIAYgBigCDCIARwRAIAAgBigCCCICNgIIIAIgADYCDAwFCyAGQRRqIgIoAgAiBUUEQCAGKAIQIgVFDQQgBkEQaiECCwNAIAIhAyAFIgBBFGoiAigCACIFDQAgAEEQaiECIAAoAhAiBQ0ACyADQQA2AgAMBAtBeCAAa0EPcSIBIABqIgcgBkE4ayIDIAFrIgFBAXI2AgQgACADakE4NgIEIAIgBUE3IAVrQQ9xakE/ayIDIAMgAkEQakkbIgNBIzYCBEGo0ABB9NMAKAIANgIAQZjQACABNgIAQaTQACAHNgIAIANBEGpB1NMAKQIANwIAIANBzNMAKQIANwIIQdTTACADQQhqNgIAQdDTACAGNgIAQczTACAANgIAQdjTAEEANgIAIANBJGohAQNAIAFBBzYCACAFIAFBBGoiAUsNAAsgAiADRg0AIAMgAygCBEF+cTYCBCADIAMgAmsiBTYCACACIAVBAXI2AgQgBUH/AU0EQCAFQXhxQbTQAGohAAJ/QYzQACgCACIBQQEgBUEDdnQiA3FFBEBBjNAAIAEgA3I2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEG80gBqIQBBkNAAKAIAIgNBASABdCIGcUUEQCAAIAI2AgBBkNAAIAMgBnI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEDAkADQCADIgAoAgRBeHEgBUYNASABQR12IQMgAUEBdCEBIAAgA0EEcWpBEGoiBigCACIDDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLQZjQACgCACIBIARNDQBBpNAAKAIAIgAgBGoiAiABIARrIgFBAXI2AgRBmNAAIAE2AgBBpNAAIAI2AgAgACAEQQNyNgIEIABBCGohAQwIC0EAIQFB/NMAQTA2AgAMBwtBACEACyAHRQ0AAkAgBigCHCICQQJ0QbzSAGoiAygCACAGRgRAIAMgADYCACAADQFBkNAAQZDQACgCAEF+IAJ3cTYCAAwCCyAHQRBBFCAHKAIQIAZGG2ogADYCACAARQ0BCyAAIAc2AhggBigCECICBEAgACACNgIQIAIgADYCGAsgBkEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgCGohASAGIAhqIgYoAgQhBQsgBiAFQX5xNgIEIAEgBGogATYCACAEIAFBAXI2AgQgAUH/AU0EQCABQXhxQbTQAGohAAJ/QYzQACgCACICQQEgAUEDdnQiAXFFBEBBjNAAIAEgAnI2AgAgAAwBCyAAKAIICyIBIAQ2AgwgACAENgIIIAQgADYCDCAEIAE2AggMAQtBHyEFIAFB////B00EQCABQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qIQULIAQgBTYCHCAEQgA3AhAgBUECdEG80gBqIQBBkNAAKAIAIgJBASAFdCIDcUUEQCAAIAQ2AgBBkNAAIAIgA3I2AgAgBCAANgIYIAQgBDYCCCAEIAQ2AgwMAQsgAUEZIAVBAXZrQQAgBUEfRxt0IQUgACgCACEAAkADQCAAIgIoAgRBeHEgAUYNASAFQR12IQAgBUEBdCEFIAIgAEEEcWpBEGoiAygCACIADQALIAMgBDYCACAEIAI2AhggBCAENgIMIAQgBDYCCAwBCyACKAIIIgAgBDYCDCACIAQ2AgggBEEANgIYIAQgAjYCDCAEIAA2AggLIAlBCGohAQwCCwJAIAdFDQACQCADKAIcIgFBAnRBvNIAaiICKAIAIANGBEAgAiAANgIAIAANAUGQ0AAgCEF+IAF3cSIINgIADAILIAdBEEEUIAcoAhAgA0YbaiAANgIAIABFDQELIAAgBzYCGCADKAIQIgEEQCAAIAE2AhAgASAANgIYCyADQRRqKAIAIgFFDQAgAEEUaiABNgIAIAEgADYCGAsCQCAFQQ9NBEAgAyAEIAVqIgBBA3I2AgQgACADaiIAIAAoAgRBAXI2AgQMAQsgAyAEaiICIAVBAXI2AgQgAyAEQQNyNgIEIAIgBWogBTYCACAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIFcUUEQEGM0AAgASAFcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEEBIAF0IgQgCHFFBEAgACACNgIAQZDQACAEIAhyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhBAJAA0AgBCIAKAIEQXhxIAVGDQEgAUEddiEEIAFBAXQhASAAIARBBHFqQRBqIgYoAgAiBA0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIICyADQQhqIQEMAQsCQCAJRQ0AAkAgACgCHCIBQQJ0QbzSAGoiAigCACAARgRAIAIgAzYCACADDQFBkNAAIAtBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAARhtqIAM2AgAgA0UNAQsgAyAJNgIYIAAoAhAiAQRAIAMgATYCECABIAM2AhgLIABBFGooAgAiAUUNACADQRRqIAE2AgAgASADNgIYCwJAIAVBD00EQCAAIAQgBWoiAUEDcjYCBCAAIAFqIgEgASgCBEEBcjYCBAwBCyAAIARqIgcgBUEBcjYCBCAAIARBA3I2AgQgBSAHaiAFNgIAIAgEQCAIQXhxQbTQAGohAUGg0AAoAgAhAwJ/QQEgCEEDdnQiAiAGcUUEQEGM0AAgAiAGcjYCACABDAELIAEoAggLIgIgAzYCDCABIAM2AgggAyABNgIMIAMgAjYCCAtBoNAAIAc2AgBBlNAAIAU2AgALIABBCGohAQsgCkEQaiQAIAELQwAgAEUEQD8AQRB0DwsCQCAAQf//A3ENACAAQQBIDQAgAEEQdkAAIgBBf0YEQEH80wBBMDYCAEF/DwsgAEEQdA8LAAsL3D8iAEGACAsJAQAAAAIAAAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var Uw=V((pUr,_9e)=>{"use strict";d();var x9e=["GET","HEAD","POST"],Sht=new Set(x9e),_ht=[101,204,205,304],b9e=[301,302,303,307,308],kht=new Set(b9e),v9e=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],Bht=new Set(v9e),I9e=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],Rht=new Set(I9e),Dht=["follow","manual","error"],T9e=["GET","HEAD","OPTIONS","TRACE"],Pht=new Set(T9e),Fht=["navigate","same-origin","no-cors","cors"],Nht=["omit","same-origin","include"],Lht=["default","no-store","reload","no-cache","force-cache","only-if-cached"],Qht=["content-encoding","content-language","content-location","content-type","content-length"],Mht=["half"],w9e=["CONNECT","TRACE","TRACK"],Oht=new Set(w9e),S9e=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],Uht=new Set(S9e);_9e.exports={subresource:S9e,forbiddenMethods:w9e,requestBodyHeader:Qht,referrerPolicy:I9e,requestRedirect:Dht,requestMode:Fht,requestCredentials:Nht,requestCache:Lht,redirectStatus:b9e,corsSafeListedMethods:x9e,nullBodyStatus:_ht,safeMethods:T9e,badPorts:v9e,requestDuplex:Mht,subresourceSet:Uht,badPortsSet:Bht,redirectStatusSet:kht,corsSafeListedMethodsSet:Sht,safeMethodsSet:Pht,forbiddenMethodsSet:Oht,referrerPolicySet:Rht}});var nne=V((AUr,k9e)=>{"use strict";d();var rne=Symbol.for("undici.globalOrigin.1");function qht(){return globalThis[rne]}o(qht,"getGlobalOrigin");function Wht(e){if(e===void 0){Object.defineProperty(globalThis,rne,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let t=new URL(e);if(t.protocol!=="http:"&&t.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${t.protocol}`);Object.defineProperty(globalThis,rne,{value:t,writable:!0,enumerable:!1,configurable:!1})}o(Wht,"setGlobalOrigin");k9e.exports={getGlobalOrigin:qht,setGlobalOrigin:Wht}});var Gc=V((EUr,L9e)=>{"use strict";d();var CO=require("node:assert"),Ght=new TextEncoder,qw=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,Hht=/[\u000A\u000D\u0009\u0020]/,Vht=/[\u0009\u000A\u000C\u000D\u0020]/g,jht=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function $ht(e){CO(e.protocol==="data:");let t=D9e(e,!0);t=t.slice(5);let r={position:0},n=zI(",",t,r),i=n.length;if(n=Zht(n,!0,!0),r.position>=t.length)return"failure";r.position++;let s=t.slice(i+1),a=P9e(s);if(/;(\u0020){0,}base64$/i.test(n)){let c=N9e(a);if(a=Yht(c),a==="failure")return"failure";n=n.slice(0,-6),n=n.replace(/(\u0020)+$/,""),n=n.slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let l=ine(n);return l==="failure"&&(l=ine("text/plain;charset=US-ASCII")),{mimeType:l,body:a}}o($ht,"dataURLProcessor");function D9e(e,t=!1){if(!t)return e.href;let r=e.href,n=e.hash.length,i=n===0?r:r.substring(0,r.length-n);return!n&&r.endsWith("#")?i.slice(0,-1):i}o(D9e,"URLSerializer");function EO(e,t,r){let n="";for(;r.position<t.length&&e(t[r.position]);)n+=t[r.position],r.position++;return n}o(EO,"collectASequenceOfCodePoints");function zI(e,t,r){let n=t.indexOf(e,r.position),i=r.position;return n===-1?(r.position=t.length,t.slice(i)):(r.position=n,t.slice(i,r.position))}o(zI,"collectASequenceOfCodePointsFast");function P9e(e){let t=Ght.encode(e);return zht(t)}o(P9e,"stringPercentDecode");function B9e(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}o(B9e,"isHexCharByte");function R9e(e){return e>=48&&e<=57?e-48:(e&223)-55}o(R9e,"hexByteToNumber");function zht(e){let t=e.length,r=new Uint8Array(t),n=0;for(let i=0;i<t;++i){let s=e[i];s!==37?r[n++]=s:s===37&&!(B9e(e[i+1])&&B9e(e[i+2]))?r[n++]=37:(r[n++]=R9e(e[i+1])<<4|R9e(e[i+2]),i+=2)}return t===n?r:r.subarray(0,n)}o(zht,"percentDecode");function ine(e){e=yO(e,!0,!0);let t={position:0},r=zI("/",e,t);if(r.length===0||!qw.test(r)||t.position>e.length)return"failure";t.position++;let n=zI(";",e,t);if(n=yO(n,!1,!0),n.length===0||!qw.test(n))return"failure";let i=r.toLowerCase(),s=n.toLowerCase(),a={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;t.position<e.length;){t.position++,EO(u=>Hht.test(u),e,t);let l=EO(u=>u!==";"&&u!=="=",e,t);if(l=l.toLowerCase(),t.position<e.length){if(e[t.position]===";")continue;t.position++}if(t.position>e.length)break;let c=null;if(e[t.position]==='"')c=F9e(e,t,!0),zI(";",e,t);else if(c=zI(";",e,t),c=yO(c,!1,!0),c.length===0)continue;l.length!==0&&qw.test(l)&&(c.length===0||jht.test(c))&&!a.parameters.has(l)&&a.parameters.set(l,c)}return a}o(ine,"parseMIMEType");function Yht(e){e=e.replace(Vht,"");let t=e.length;if(t%4===0&&e.charCodeAt(t-1)===61&&(--t,e.charCodeAt(t-1)===61&&--t),t%4===1||/[^+/0-9A-Za-z]/.test(e.length===t?e:e.substring(0,t)))return"failure";let r=Buffer.from(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}o(Yht,"forgivingBase64");function F9e(e,t,r){let n=t.position,i="";for(CO(e[t.position]==='"'),t.position++;i+=EO(a=>a!=='"'&&a!=="\\",e,t),!(t.position>=e.length);){let s=e[t.position];if(t.position++,s==="\\"){if(t.position>=e.length){i+="\\";break}i+=e[t.position],t.position++}else{CO(s==='"');break}}return r?i:e.slice(n,t.position)}o(F9e,"collectAnHTTPQuotedString");function Kht(e){CO(e!=="failure");let{parameters:t,essence:r}=e,n=r;for(let[i,s]of t.entries())n+=";",n+=i,n+="=",qw.test(s)||(s=s.replace(/(\\|")/g,"\\$1"),s='"'+s,s+='"'),n+=s;return n}o(Kht,"serializeAMimeType");function Jht(e){return e===13||e===10||e===9||e===32}o(Jht,"isHTTPWhiteSpace");function yO(e,t=!0,r=!0){return one(e,t,r,Jht)}o(yO,"removeHTTPWhitespace");function Xht(e){return e===13||e===10||e===9||e===12||e===32}o(Xht,"isASCIIWhitespace");function Zht(e,t=!0,r=!0){return one(e,t,r,Xht)}o(Zht,"removeASCIIWhitespace");function one(e,t,r,n){let i=0,s=e.length-1;if(t)for(;i<e.length&&n(e.charCodeAt(i));)i++;if(r)for(;s>0&&n(e.charCodeAt(s));)s--;return i===0&&s===e.length-1?e:e.slice(i,s+1)}o(one,"removeChars");function N9e(e){let t=e.length;if(65535>t)return String.fromCharCode.apply(null,e);let r="",n=0,i=65535;for(;n<t;)n+i>t&&(i=t-n),r+=String.fromCharCode.apply(null,e.subarray(n,n+=i));return r}o(N9e,"isomorphicDecode");function ept(e){switch(e.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return e.subtype.endsWith("+json")?"application/json":e.subtype.endsWith("+xml")?"application/xml":""}o(ept,"minimizeSupportedMimeType");L9e.exports={dataURLProcessor:$ht,URLSerializer:D9e,collectASequenceOfCodePoints:EO,collectASequenceOfCodePointsFast:zI,stringPercentDecode:P9e,parseMIMEType:ine,collectAnHTTPQuotedString:F9e,serializeAMimeType:Kht,removeChars:one,removeHTTPWhitespace:yO,minimizeSupportedMimeType:ept,HTTP_TOKEN_CODEPOINTS:qw,isomorphicDecode:N9e}});var $l=V((vUr,Q9e)=>{"use strict";d();var{types:Bp,inspect:tpt}=require("node:util"),{markAsUncloneable:rpt}=require("node:worker_threads"),{toUSVString:npt}=fi(),Gt={};Gt.converters={};Gt.util={};Gt.errors={};Gt.errors.exception=function(e){return new TypeError(`${e.header}: ${e.message}`)};Gt.errors.conversionFailed=function(e){let t=e.types.length===1?"":" one of",r=`${e.argument} could not be converted to${t}: ${e.types.join(", ")}.`;return Gt.errors.exception({header:e.prefix,message:r})};Gt.errors.invalidArgument=function(e){return Gt.errors.exception({header:e.prefix,message:`"${e.value}" is an invalid ${e.type}.`})};Gt.brandCheck=function(e,t,r){if(r?.strict!==!1){if(!(e instanceof t)){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}}else if(e?.[Symbol.toStringTag]!==t.prototype[Symbol.toStringTag]){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}};Gt.argumentLengthCheck=function({length:e},t,r){if(e<t)throw Gt.errors.exception({message:`${t} argument${t!==1?"s":""} required, but${e?" only":""} ${e} found.`,header:r})};Gt.illegalConstructor=function(){throw Gt.errors.exception({header:"TypeError",message:"Illegal constructor"})};Gt.util.Type=function(e){switch(typeof e){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return e===null?"Null":"Object"}};Gt.util.markAsUncloneable=rpt||(()=>{});Gt.util.ConvertToInt=function(e,t,r,n){let i,s;t===64?(i=Math.pow(2,53)-1,r==="unsigned"?s=0:s=Math.pow(-2,53)+1):r==="unsigned"?(s=0,i=Math.pow(2,t)-1):(s=Math.pow(-2,t)-1,i=Math.pow(2,t-1)-1);let a=Number(e);if(a===0&&(a=0),n?.enforceRange===!0){if(Number.isNaN(a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)throw Gt.errors.exception({header:"Integer conversion",message:`Could not convert ${Gt.util.Stringify(e)} to an integer.`});if(a=Gt.util.IntegerPart(a),a<s||a>i)throw Gt.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${a}.`});return a}return!Number.isNaN(a)&&n?.clamp===!0?(a=Math.min(Math.max(a,s),i),Math.floor(a)%2===0?a=Math.floor(a):a=Math.ceil(a),a):Number.isNaN(a)||a===0&&Object.is(0,a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY?0:(a=Gt.util.IntegerPart(a),a=a%Math.pow(2,t),r==="signed"&&a>=Math.pow(2,t)-1?a-Math.pow(2,t):a)};Gt.util.IntegerPart=function(e){let t=Math.floor(Math.abs(e));return e<0?-1*t:t};Gt.util.Stringify=function(e){switch(Gt.util.Type(e)){case"Symbol":return`Symbol(${e.description})`;case"Object":return tpt(e);case"String":return`"${e}"`;default:return`${e}`}};Gt.sequenceConverter=function(e){return(t,r,n,i)=>{if(Gt.util.Type(t)!=="Object")throw Gt.errors.exception({header:r,message:`${n} (${Gt.util.Stringify(t)}) is not iterable.`});let s=typeof i=="function"?i():t?.[Symbol.iterator]?.(),a=[],l=0;if(s===void 0||typeof s.next!="function")throw Gt.errors.exception({header:r,message:`${n} is not iterable.`});for(;;){let{done:c,value:u}=s.next();if(c)break;a.push(e(u,r,`${n}[${l++}]`))}return a}};Gt.recordConverter=function(e,t){return(r,n,i)=>{if(Gt.util.Type(r)!=="Object")throw Gt.errors.exception({header:n,message:`${i} ("${Gt.util.Type(r)}") is not an Object.`});let s={};if(!Bp.isProxy(r)){let l=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let c of l){let u=e(c,n,i),f=t(r[c],n,i);s[u]=f}return s}let a=Reflect.ownKeys(r);for(let l of a)if(Reflect.getOwnPropertyDescriptor(r,l)?.enumerable){let u=e(l,n,i),f=t(r[l],n,i);s[u]=f}return s}};Gt.interfaceConverter=function(e){return(t,r,n,i)=>{if(i?.strict!==!1&&!(t instanceof e))throw Gt.errors.exception({header:r,message:`Expected ${n} ("${Gt.util.Stringify(t)}") to be an instance of ${e.name}.`});return t}};Gt.dictionaryConverter=function(e){return(t,r,n)=>{let i=Gt.util.Type(t),s={};if(i==="Null"||i==="Undefined")return s;if(i!=="Object")throw Gt.errors.exception({header:r,message:`Expected ${t} to be one of: Null, Undefined, Object.`});for(let a of e){let{key:l,defaultValue:c,required:u,converter:f}=a;if(u===!0&&!Object.hasOwn(t,l))throw Gt.errors.exception({header:r,message:`Missing required key "${l}".`});let m=t[l],h=Object.hasOwn(a,"defaultValue");if(h&&m!==null&&(m??=c()),u||h||m!==void 0){if(m=f(m,r,`${n}.${l}`),a.allowedValues&&!a.allowedValues.includes(m))throw Gt.errors.exception({header:r,message:`${m} is not an accepted type. Expected one of ${a.allowedValues.join(", ")}.`});s[l]=m}}return s}};Gt.nullableConverter=function(e){return(t,r,n)=>t===null?t:e(t,r,n)};Gt.converters.DOMString=function(e,t,r,n){if(e===null&&n?.legacyNullToEmptyString)return"";if(typeof e=="symbol")throw Gt.errors.exception({header:t,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(e)};Gt.converters.ByteString=function(e,t,r){let n=Gt.converters.DOMString(e,t,r);for(let i=0;i<n.length;i++)if(n.charCodeAt(i)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${i} has a value of ${n.charCodeAt(i)} which is greater than 255.`);return n};Gt.converters.USVString=npt;Gt.converters.boolean=function(e){return!!e};Gt.converters.any=function(e){return e};Gt.converters["long long"]=function(e,t,r){return Gt.util.ConvertToInt(e,64,"signed",void 0,t,r)};Gt.converters["unsigned long long"]=function(e,t,r){return Gt.util.ConvertToInt(e,64,"unsigned",void 0,t,r)};Gt.converters["unsigned long"]=function(e,t,r){return Gt.util.ConvertToInt(e,32,"unsigned",void 0,t,r)};Gt.converters["unsigned short"]=function(e,t,r,n){return Gt.util.ConvertToInt(e,16,"unsigned",n,t,r)};Gt.converters.ArrayBuffer=function(e,t,r,n){if(Gt.util.Type(e)!=="Object"||!Bp.isAnyArrayBuffer(e))throw Gt.errors.conversionFailed({prefix:t,argument:`${r} ("${Gt.util.Stringify(e)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&Bp.isSharedArrayBuffer(e))throw Gt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.resizable||e.growable)throw Gt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Gt.converters.TypedArray=function(e,t,r,n,i){if(Gt.util.Type(e)!=="Object"||!Bp.isTypedArray(e)||e.constructor.name!==t.name)throw Gt.errors.conversionFailed({prefix:r,argument:`${n} ("${Gt.util.Stringify(e)}")`,types:[t.name]});if(i?.allowShared===!1&&Bp.isSharedArrayBuffer(e.buffer))throw Gt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw Gt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Gt.converters.DataView=function(e,t,r,n){if(Gt.util.Type(e)!=="Object"||!Bp.isDataView(e))throw Gt.errors.exception({header:t,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&Bp.isSharedArrayBuffer(e.buffer))throw Gt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw Gt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Gt.converters.BufferSource=function(e,t,r,n){if(Bp.isAnyArrayBuffer(e))return Gt.converters.ArrayBuffer(e,t,r,{...n,allowShared:!1});if(Bp.isTypedArray(e))return Gt.converters.TypedArray(e,e.constructor,t,r,{...n,allowShared:!1});if(Bp.isDataView(e))return Gt.converters.DataView(e,t,r,{...n,allowShared:!1});throw Gt.errors.conversionFailed({prefix:t,argument:`${r} ("${Gt.util.Stringify(e)}")`,types:["BufferSource"]})};Gt.converters["sequence<ByteString>"]=Gt.sequenceConverter(Gt.converters.ByteString);Gt.converters["sequence<sequence<ByteString>>"]=Gt.sequenceConverter(Gt.converters["sequence<ByteString>"]);Gt.converters["record<ByteString, ByteString>"]=Gt.recordConverter(Gt.converters.ByteString,Gt.converters.ByteString);Q9e.exports={webidl:Gt}});var $u=V((TUr,J9e)=>{"use strict";d();var{Transform:ipt}=require("node:stream"),M9e=require("node:zlib"),{redirectStatusSet:opt,referrerPolicySet:spt,badPortsSet:apt}=Uw(),{getGlobalOrigin:O9e}=nne(),{collectASequenceOfCodePoints:U4,collectAnHTTPQuotedString:lpt,removeChars:cpt,parseMIMEType:upt}=Gc(),{performance:fpt}=require("node:perf_hooks"),{isBlobLike:dpt,ReadableStreamFrom:mpt,isValidHTTPToken:U9e,normalizedMethodRecordsBase:hpt}=fi(),q4=require("node:assert"),{isUint8Array:ppt}=require("node:util/types"),{webidl:Ww}=$l(),q9e=[],bO;try{bO=require("node:crypto");let e=["sha256","sha384","sha512"];q9e=bO.getHashes().filter(t=>e.includes(t))}catch{}function W9e(e){let t=e.urlList,r=t.length;return r===0?null:t[r-1].toString()}o(W9e,"responseURL");function gpt(e,t){if(!opt.has(e.status))return null;let r=e.headersList.get("location",!0);return r!==null&&H9e(r)&&(G9e(r)||(r=Apt(r)),r=new URL(r,W9e(e))),r&&!r.hash&&(r.hash=t),r}o(gpt,"responseLocationURL");function G9e(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>126||r<32)return!1}return!0}o(G9e,"isValidEncodedURL");function Apt(e){return Buffer.from(e,"binary").toString("utf8")}o(Apt,"normalizeBinaryStringToUtf8");function Hw(e){return e.urlList[e.urlList.length-1]}o(Hw,"requestCurrentURL");function ypt(e){let t=Hw(e);return Y9e(t)&&apt.has(t.port)?"blocked":"allowed"}o(ypt,"requestBadPort");function Cpt(e){return e instanceof Error||e?.constructor?.name==="Error"||e?.constructor?.name==="DOMException"}o(Cpt,"isErrorLike");function Ept(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}o(Ept,"isValidReasonPhrase");var xpt=U9e;function H9e(e){return(e[0]==="	"||e[0]===" "||e[e.length-1]==="	"||e[e.length-1]===" "||e.includes(`
`)||e.includes("\r")||e.includes("\0"))===!1}o(H9e,"isValidHeaderValue");function bpt(e,t){let{headersList:r}=t,n=(r.get("referrer-policy",!0)??"").split(","),i="";if(n.length>0)for(let s=n.length;s!==0;s--){let a=n[s-1].trim();if(spt.has(a)){i=a;break}}i!==""&&(e.referrerPolicy=i)}o(bpt,"setRequestReferrerPolicyOnRedirect");function vpt(){return"allowed"}o(vpt,"crossOriginResourcePolicyCheck");function Ipt(){return"success"}o(Ipt,"corsCheck");function Tpt(){return"success"}o(Tpt,"TAOCheck");function wpt(e){let t=null;t=e.mode,e.headersList.set("sec-fetch-mode",t,!0)}o(wpt,"appendFetchMetadata");function Spt(e){let t=e.origin;if(!(t==="client"||t===void 0)){if(e.responseTainting==="cors"||e.mode==="websocket")e.headersList.append("origin",t,!0);else if(e.method!=="GET"&&e.method!=="HEAD"){switch(e.referrerPolicy){case"no-referrer":t=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":e.origin&&ane(e.origin)&&!ane(Hw(e))&&(t=null);break;case"same-origin":vO(e,Hw(e))||(t=null);break;default:}e.headersList.append("origin",t,!0)}}}o(Spt,"appendRequestOriginHeader");function YI(e,t){return e}o(YI,"coarsenTime");function _pt(e,t,r){return!e?.startTime||e.startTime<t?{domainLookupStartTime:t,domainLookupEndTime:t,connectionStartTime:t,connectionEndTime:t,secureConnectionStartTime:t,ALPNNegotiatedProtocol:e?.ALPNNegotiatedProtocol}:{domainLookupStartTime:YI(e.domainLookupStartTime,r),domainLookupEndTime:YI(e.domainLookupEndTime,r),connectionStartTime:YI(e.connectionStartTime,r),connectionEndTime:YI(e.connectionEndTime,r),secureConnectionStartTime:YI(e.secureConnectionStartTime,r),ALPNNegotiatedProtocol:e.ALPNNegotiatedProtocol}}o(_pt,"clampAndCoarsenConnectionTimingInfo");function kpt(e){return YI(fpt.now(),e)}o(kpt,"coarsenedSharedCurrentTime");function Bpt(e){return{startTime:e.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:e.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}o(Bpt,"createOpaqueTimingInfo");function V9e(){return{referrerPolicy:"strict-origin-when-cross-origin"}}o(V9e,"makePolicyContainer");function Rpt(e){return{referrerPolicy:e.referrerPolicy}}o(Rpt,"clonePolicyContainer");function Dpt(e){let t=e.referrerPolicy;q4(t);let r=null;if(e.referrer==="client"){let l=O9e();if(!l||l.origin==="null")return"no-referrer";r=new URL(l)}else e.referrer instanceof URL&&(r=e.referrer);let n=sne(r),i=sne(r,!0);n.toString().length>4096&&(n=i);let s=vO(e,n),a=Gw(n)&&!Gw(e.url);switch(t){case"origin":return i??sne(r,!0);case"unsafe-url":return n;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?n:i;case"strict-origin-when-cross-origin":{let l=Hw(e);return vO(n,l)?n:Gw(n)&&!Gw(l)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return a?"no-referrer":i}}o(Dpt,"determineRequestsReferrer");function sne(e,t){return q4(e instanceof URL),e=new URL(e),e.protocol==="file:"||e.protocol==="about:"||e.protocol==="blank:"?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}o(sne,"stripURLForReferrer");function Gw(e){if(!(e instanceof URL))return!1;if(e.href==="about:blank"||e.href==="about:srcdoc"||e.protocol==="data:"||e.protocol==="file:")return!0;return t(e.origin);function t(r){if(r==null||r==="null")return!1;let n=new URL(r);return!!(n.protocol==="https:"||n.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(n.hostname)||n.hostname==="localhost"||n.hostname.includes("localhost.")||n.hostname.endsWith(".localhost"))}}o(Gw,"isURLPotentiallyTrustworthy");function Ppt(e,t){if(bO===void 0)return!0;let r=j9e(t);if(r==="no metadata"||r.length===0)return!0;let n=Npt(r),i=Lpt(r,n);for(let s of i){let a=s.algo,l=s.hash,c=bO.createHash(a).update(e).digest("base64");if(c[c.length-1]==="="&&(c[c.length-2]==="="?c=c.slice(0,-2):c=c.slice(0,-1)),Qpt(c,l))return!0}return!1}o(Ppt,"bytesMatch");var Fpt=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function j9e(e){let t=[],r=!0;for(let n of e.split(" ")){r=!1;let i=Fpt.exec(n);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let s=i.groups.algo.toLowerCase();q9e.includes(s)&&t.push(i.groups)}return r===!0?"no metadata":t}o(j9e,"parseMetadata");function Npt(e){let t=e[0].algo;if(t[3]==="5")return t;for(let r=1;r<e.length;++r){let n=e[r];if(n.algo[3]==="5"){t="sha512";break}else{if(t[3]==="3")continue;n.algo[3]==="3"&&(t="sha384")}}return t}o(Npt,"getStrongestMetadata");function Lpt(e,t){if(e.length===1)return e;let r=0;for(let n=0;n<e.length;++n)e[n].algo===t&&(e[r++]=e[n]);return e.length=r,e}o(Lpt,"filterMetadataListByAlgorithm");function Qpt(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]){if(e[r]==="+"&&t[r]==="-"||e[r]==="/"&&t[r]==="_")continue;return!1}return!0}o(Qpt,"compareBase64Mixed");function Mpt(e){}o(Mpt,"tryUpgradeRequestToAPotentiallyTrustworthyURL");function vO(e,t){return e.origin===t.origin&&e.origin==="null"||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}o(vO,"sameOrigin");function Opt(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}o(Opt,"createDeferredPromise");function Upt(e){return e.controller.state==="aborted"}o(Upt,"isAborted");function qpt(e){return e.controller.state==="aborted"||e.controller.state==="terminated"}o(qpt,"isCancelled");function Wpt(e){return hpt[e.toLowerCase()]??e}o(Wpt,"normalizeMethod");function Gpt(e){let t=JSON.stringify(e);if(t===void 0)throw new TypeError("Value is not JSON serializable");return q4(typeof t=="string"),t}o(Gpt,"serializeJavascriptValueToJSONString");var Hpt=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function $9e(e,t,r=0,n=1){class i{static{o(this,"FastIterableIterator")}#e;#t;#i;constructor(a,l){this.#e=a,this.#t=l,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${e} Iterator.`);let a=this.#i,l=this.#e[t],c=l.length;if(a>=c)return{value:void 0,done:!0};let{[r]:u,[n]:f}=l[a];this.#i=a+1;let m;switch(this.#t){case"key":m=u;break;case"value":m=f;break;case"key+value":m=[u,f];break}return{value:m,done:!1}}}return delete i.prototype.constructor,Object.setPrototypeOf(i.prototype,Hpt),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${e} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(s,a){return new i(s,a)}}o($9e,"createIterator");function Vpt(e,t,r,n=0,i=1){let s=$9e(e,r,n,i),a={keys:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return Ww.brandCheck(this,t),s(this,"key")},"keys")},values:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return Ww.brandCheck(this,t),s(this,"value")},"values")},entries:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return Ww.brandCheck(this,t),s(this,"key+value")},"entries")},forEach:{writable:!0,enumerable:!0,configurable:!0,value:o(function(c,u=globalThis){if(Ww.brandCheck(this,t),Ww.argumentLengthCheck(arguments,1,`${e}.forEach`),typeof c!="function")throw new TypeError(`Failed to execute 'forEach' on '${e}': parameter 1 is not of type 'Function'.`);for(let{0:f,1:m}of s(this,"key+value"))c.call(u,m,f,this)},"forEach")}};return Object.defineProperties(t.prototype,{...a,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:a.entries.value}})}o(Vpt,"iteratorMixin");async function jpt(e,t,r){let n=t,i=r,s;try{s=e.stream.getReader()}catch(a){i(a);return}try{n(await z9e(s))}catch(a){i(a)}}o(jpt,"fullyReadBody");function $pt(e){return e instanceof ReadableStream||e[Symbol.toStringTag]==="ReadableStream"&&typeof e.tee=="function"}o($pt,"isReadableStreamLike");function zpt(e){try{e.close(),e.byobRequest?.respond(0)}catch(t){if(!t.message.includes("Controller is already closed")&&!t.message.includes("ReadableStream is already closed"))throw t}}o(zpt,"readableStreamClose");var Ypt=/[^\x00-\xFF]/;function xO(e){return q4(!Ypt.test(e)),e}o(xO,"isomorphicEncode");async function z9e(e){let t=[],r=0;for(;;){let{done:n,value:i}=await e.read();if(n)return Buffer.concat(t,r);if(!ppt(i))throw new TypeError("Received non-Uint8Array chunk");t.push(i),r+=i.length}}o(z9e,"readAllBytes");function Kpt(e){q4("protocol"in e);let t=e.protocol;return t==="about:"||t==="blob:"||t==="data:"}o(Kpt,"urlIsLocal");function ane(e){return typeof e=="string"&&e[5]===":"&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&e[4]==="s"||e.protocol==="https:"}o(ane,"urlHasHttpsScheme");function Y9e(e){q4("protocol"in e);let t=e.protocol;return t==="http:"||t==="https:"}o(Y9e,"urlIsHttpHttpsScheme");function Jpt(e,t){let r=e;if(!r.startsWith("bytes"))return"failure";let n={position:5};if(t&&U4(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==61)return"failure";n.position++,t&&U4(c=>c==="	"||c===" ",r,n);let i=U4(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),s=i.length?Number(i):null;if(t&&U4(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==45)return"failure";n.position++,t&&U4(c=>c==="	"||c===" ",r,n);let a=U4(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),l=a.length?Number(a):null;return n.position<r.length||l===null&&s===null||s>l?"failure":{rangeStartValue:s,rangeEndValue:l}}o(Jpt,"simpleRangeHeaderValue");function Xpt(e,t,r){let n="bytes ";return n+=xO(`${e}`),n+="-",n+=xO(`${t}`),n+="/",n+=xO(`${r}`),n}o(Xpt,"buildContentRange");var lne=class extends ipt{static{o(this,"InflateStream")}#e;constructor(t){super(),this.#e=t}_transform(t,r,n){if(!this._inflateStream){if(t.length===0){n();return}this._inflateStream=(t[0]&15)===8?M9e.createInflate(this.#e):M9e.createInflateRaw(this.#e),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",i=>this.destroy(i))}this._inflateStream.write(t,r,n)}_final(t){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),t()}};function Zpt(e){return new lne(e)}o(Zpt,"createInflate");function egt(e){let t=null,r=null,n=null,i=K9e("content-type",e);if(i===null)return"failure";for(let s of i){let a=upt(s);a==="failure"||a.essence==="*/*"||(n=a,n.essence!==r?(t=null,n.parameters.has("charset")&&(t=n.parameters.get("charset")),r=n.essence):!n.parameters.has("charset")&&t!==null&&n.parameters.set("charset",t))}return n??"failure"}o(egt,"extractMimeType");function tgt(e){let t=e,r={position:0},n=[],i="";for(;r.position<t.length;){if(i+=U4(s=>s!=='"'&&s!==",",t,r),r.position<t.length)if(t.charCodeAt(r.position)===34){if(i+=lpt(t,r),r.position<t.length)continue}else q4(t.charCodeAt(r.position)===44),r.position++;i=cpt(i,!0,!0,s=>s===9||s===32),n.push(i),i=""}return n}o(tgt,"gettingDecodingSplitting");function K9e(e,t){let r=t.get(e,!0);return r===null?null:tgt(r)}o(K9e,"getDecodeSplit");var rgt=new TextDecoder;function ngt(e){return e.length===0?"":(e[0]===239&&e[1]===187&&e[2]===191&&(e=e.subarray(3)),rgt.decode(e))}o(ngt,"utf8DecodeBytes");var cne=class{static{o(this,"EnvironmentSettingsObjectBase")}get baseUrl(){return O9e()}get origin(){return this.baseUrl?.origin}policyContainer=V9e()},une=class{static{o(this,"EnvironmentSettingsObject")}settingsObject=new cne},igt=new une;J9e.exports={isAborted:Upt,isCancelled:qpt,isValidEncodedURL:G9e,createDeferredPromise:Opt,ReadableStreamFrom:mpt,tryUpgradeRequestToAPotentiallyTrustworthyURL:Mpt,clampAndCoarsenConnectionTimingInfo:_pt,coarsenedSharedCurrentTime:kpt,determineRequestsReferrer:Dpt,makePolicyContainer:V9e,clonePolicyContainer:Rpt,appendFetchMetadata:wpt,appendRequestOriginHeader:Spt,TAOCheck:Tpt,corsCheck:Ipt,crossOriginResourcePolicyCheck:vpt,createOpaqueTimingInfo:Bpt,setRequestReferrerPolicyOnRedirect:bpt,isValidHTTPToken:U9e,requestBadPort:ypt,requestCurrentURL:Hw,responseURL:W9e,responseLocationURL:gpt,isBlobLike:dpt,isURLPotentiallyTrustworthy:Gw,isValidReasonPhrase:Ept,sameOrigin:vO,normalizeMethod:Wpt,serializeJavascriptValueToJSONString:Gpt,iteratorMixin:Vpt,createIterator:$9e,isValidHeaderName:xpt,isValidHeaderValue:H9e,isErrorLike:Cpt,fullyReadBody:jpt,bytesMatch:Ppt,isReadableStreamLike:$pt,readableStreamClose:zpt,isomorphicEncode:xO,urlIsLocal:Kpt,urlHasHttpsScheme:ane,urlIsHttpHttpsScheme:Y9e,readAllBytes:z9e,simpleRangeHeaderValue:Jpt,buildContentRange:Xpt,parseMetadata:j9e,createInflate:Zpt,extractMimeType:egt,getDecodeSplit:K9e,utf8DecodeBytes:ngt,environmentSettingsObject:igt}});var iy=V((_Ur,X9e)=>{"use strict";d();X9e.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var dne=V((BUr,Z9e)=>{"use strict";d();var{Blob:ogt,File:sgt}=require("node:buffer"),{kState:G1}=iy(),{webidl:Rp}=$l(),fne=class e{static{o(this,"FileLike")}constructor(t,r,n={}){let i=r,s=n.type,a=n.lastModified??Date.now();this[G1]={blobLike:t,name:i,type:s,lastModified:a}}stream(...t){return Rp.brandCheck(this,e),this[G1].blobLike.stream(...t)}arrayBuffer(...t){return Rp.brandCheck(this,e),this[G1].blobLike.arrayBuffer(...t)}slice(...t){return Rp.brandCheck(this,e),this[G1].blobLike.slice(...t)}text(...t){return Rp.brandCheck(this,e),this[G1].blobLike.text(...t)}get size(){return Rp.brandCheck(this,e),this[G1].blobLike.size}get type(){return Rp.brandCheck(this,e),this[G1].blobLike.type}get name(){return Rp.brandCheck(this,e),this[G1].name}get lastModified(){return Rp.brandCheck(this,e),this[G1].lastModified}get[Symbol.toStringTag](){return"File"}};Rp.converters.Blob=Rp.interfaceConverter(ogt);function agt(e){return e instanceof sgt||e&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&e[Symbol.toStringTag]==="File"}o(agt,"isFileLike");Z9e.exports={FileLike:fne,isFileLike:agt}});var jw=V((PUr,i7e)=>{"use strict";d();var{isBlobLike:IO,iteratorMixin:lgt}=$u(),{kState:z0}=iy(),{kEnumerableProperty:KI}=fi(),{FileLike:e7e,isFileLike:cgt}=dne(),{webidl:Oo}=$l(),{File:n7e}=require("node:buffer"),t7e=require("node:util"),r7e=globalThis.File??n7e,Vw=class e{static{o(this,"FormData")}constructor(t){if(Oo.util.markAsUncloneable(this),t!==void 0)throw Oo.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[z0]=[]}append(t,r,n=void 0){Oo.brandCheck(this,e);let i="FormData.append";if(Oo.argumentLengthCheck(arguments,2,i),arguments.length===3&&!IO(r))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");t=Oo.converters.USVString(t,i,"name"),r=IO(r)?Oo.converters.Blob(r,i,"value",{strict:!1}):Oo.converters.USVString(r,i,"value"),n=arguments.length===3?Oo.converters.USVString(n,i,"filename"):void 0;let s=mne(t,r,n);this[z0].push(s)}delete(t){Oo.brandCheck(this,e);let r="FormData.delete";Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name"),this[z0]=this[z0].filter(n=>n.name!==t)}get(t){Oo.brandCheck(this,e);let r="FormData.get";Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name");let n=this[z0].findIndex(i=>i.name===t);return n===-1?null:this[z0][n].value}getAll(t){Oo.brandCheck(this,e);let r="FormData.getAll";return Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name"),this[z0].filter(n=>n.name===t).map(n=>n.value)}has(t){Oo.brandCheck(this,e);let r="FormData.has";return Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name"),this[z0].findIndex(n=>n.name===t)!==-1}set(t,r,n=void 0){Oo.brandCheck(this,e);let i="FormData.set";if(Oo.argumentLengthCheck(arguments,2,i),arguments.length===3&&!IO(r))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");t=Oo.converters.USVString(t,i,"name"),r=IO(r)?Oo.converters.Blob(r,i,"name",{strict:!1}):Oo.converters.USVString(r,i,"name"),n=arguments.length===3?Oo.converters.USVString(n,i,"name"):void 0;let s=mne(t,r,n),a=this[z0].findIndex(l=>l.name===t);a!==-1?this[z0]=[...this[z0].slice(0,a),s,...this[z0].slice(a+1).filter(l=>l.name!==t)]:this[z0].push(s)}[t7e.inspect.custom](t,r){let n=this[z0].reduce((s,a)=>(s[a.name]?Array.isArray(s[a.name])?s[a.name].push(a.value):s[a.name]=[s[a.name],a.value]:s[a.name]=a.value,s),{__proto__:null});r.depth??=t,r.colors??=!0;let i=t7e.formatWithOptions(r,n);return`FormData ${i.slice(i.indexOf("]")+2)}`}};lgt("FormData",Vw,z0,"name","value");Object.defineProperties(Vw.prototype,{append:KI,delete:KI,get:KI,getAll:KI,has:KI,set:KI,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function mne(e,t,r){if(typeof t!="string"){if(cgt(t)||(t=t instanceof Blob?new r7e([t],"blob",{type:t.type}):new e7e(t,"blob",{type:t.type})),r!==void 0){let n={type:t.type,lastModified:t.lastModified};t=t instanceof n7e?new r7e([t],r,n):new e7e(t,r,n)}}return{name:e,value:t}}o(mne,"makeEntry");i7e.exports={FormData:Vw,makeEntry:mne}});var u7e=V((LUr,c7e)=>{"use strict";d();var{isUSVString:o7e,bufferToLowerCasedHeaderName:ugt}=fi(),{utf8DecodeBytes:fgt}=$u(),{HTTP_TOKEN_CODEPOINTS:dgt,isomorphicDecode:s7e}=Gc(),{isFileLike:mgt}=dne(),{makeEntry:hgt}=jw(),TO=require("node:assert"),{File:pgt}=require("node:buffer"),ggt=globalThis.File??pgt,Agt=Buffer.from('form-data; name="'),a7e=Buffer.from("; filename"),ygt=Buffer.from("--"),Cgt=Buffer.from(`--\r
`);function Egt(e){for(let t=0;t<e.length;++t)if((e.charCodeAt(t)&-128)!==0)return!1;return!0}o(Egt,"isAsciiString");function xgt(e){let t=e.length;if(t<27||t>70)return!1;for(let r=0;r<t;++r){let n=e.charCodeAt(r);if(!(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||n===39||n===45||n===95))return!1}return!0}o(xgt,"validateBoundary");function bgt(e,t){TO(t!=="failure"&&t.essence==="multipart/form-data");let r=t.parameters.get("boundary");if(r===void 0)return"failure";let n=Buffer.from(`--${r}`,"utf8"),i=[],s={position:0};for(;e[s.position]===13&&e[s.position+1]===10;)s.position+=2;let a=e.length;for(;e[a-1]===10&&e[a-2]===13;)a-=2;for(a!==e.length&&(e=e.subarray(0,a));;){if(e.subarray(s.position,s.position+n.length).equals(n))s.position+=n.length;else return"failure";if(s.position===e.length-2&&wO(e,ygt,s)||s.position===e.length-4&&wO(e,Cgt,s))return i;if(e[s.position]!==13||e[s.position+1]!==10)return"failure";s.position+=2;let l=vgt(e,s);if(l==="failure")return"failure";let{name:c,filename:u,contentType:f,encoding:m}=l;s.position+=2;let h;{let A=e.indexOf(n.subarray(2),s.position);if(A===-1)return"failure";h=e.subarray(s.position,A-4),s.position+=h.length,m==="base64"&&(h=Buffer.from(h.toString(),"base64"))}if(e[s.position]!==13||e[s.position+1]!==10)return"failure";s.position+=2;let p;u!==null?(f??="text/plain",Egt(f)||(f=""),p=new ggt([h],u,{type:f})):p=fgt(Buffer.from(h)),TO(o7e(c)),TO(typeof p=="string"&&o7e(p)||mgt(p)),i.push(hgt(c,p,u))}}o(bgt,"multipartFormDataParser");function vgt(e,t){let r=null,n=null,i=null,s=null;for(;;){if(e[t.position]===13&&e[t.position+1]===10)return r===null?"failure":{name:r,filename:n,contentType:i,encoding:s};let a=JI(l=>l!==10&&l!==13&&l!==58,e,t);if(a=hne(a,!0,!0,l=>l===9||l===32),!dgt.test(a.toString())||e[t.position]!==58)return"failure";switch(t.position++,JI(l=>l===32||l===9,e,t),ugt(a)){case"content-disposition":{if(r=n=null,!wO(e,Agt,t)||(t.position+=17,r=l7e(e,t),r===null))return"failure";if(wO(e,a7e,t)){let l=t.position+a7e.length;if(e[l]===42&&(t.position+=1,l+=1),e[l]!==61||e[l+1]!==34||(t.position+=12,n=l7e(e,t),n===null))return"failure"}break}case"content-type":{let l=JI(c=>c!==10&&c!==13,e,t);l=hne(l,!1,!0,c=>c===9||c===32),i=s7e(l);break}case"content-transfer-encoding":{let l=JI(c=>c!==10&&c!==13,e,t);l=hne(l,!1,!0,c=>c===9||c===32),s=s7e(l);break}default:JI(l=>l!==10&&l!==13,e,t)}if(e[t.position]!==13&&e[t.position+1]!==10)return"failure";t.position+=2}}o(vgt,"parseMultipartFormDataHeaders");function l7e(e,t){TO(e[t.position-1]===34);let r=JI(n=>n!==10&&n!==13&&n!==34,e,t);return e[t.position]!==34?null:(t.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),r)}o(l7e,"parseMultipartFormDataName");function JI(e,t,r){let n=r.position;for(;n<t.length&&e(t[n]);)++n;return t.subarray(r.position,r.position=n)}o(JI,"collectASequenceOfBytes");function hne(e,t,r,n){let i=0,s=e.length-1;if(t)for(;i<e.length&&n(e[i]);)i++;if(r)for(;s>0&&n(e[s]);)s--;return i===0&&s===e.length-1?e:e.subarray(i,s+1)}o(hne,"removeChars");function wO(e,t,r){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[r.position+n])return!1;return!0}o(wO,"bufferStartsWith");c7e.exports={multipartFormDataParser:bgt,validateBoundary:xgt}});var e8=V((OUr,y7e)=>{"use strict";d();var $w=fi(),{ReadableStreamFrom:Igt,isBlobLike:f7e,isReadableStreamLike:Tgt,readableStreamClose:wgt,createDeferredPromise:Sgt,fullyReadBody:_gt,extractMimeType:kgt,utf8DecodeBytes:h7e}=$u(),{FormData:d7e}=jw(),{kState:ZI}=iy(),{webidl:Bgt}=$l(),{Blob:Rgt}=require("node:buffer"),pne=require("node:assert"),{isErrored:p7e,isDisturbed:Dgt}=require("node:stream"),{isArrayBuffer:Pgt}=require("node:util/types"),{serializeAMimeType:Fgt}=Gc(),{multipartFormDataParser:Ngt}=u7e(),gne;try{let e=require("node:crypto");gne=o(t=>e.randomInt(0,t),"random")}catch{gne=o(e=>Math.floor(Math.random(e)),"random")}var SO=new TextEncoder;function Lgt(){}o(Lgt,"noop");var Ane=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,yne;Ane&&(yne=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&!Dgt(t)&&!p7e(t)&&t.cancel("Response object has been garbage collected").catch(Lgt)}));function g7e(e,t=!1){let r=null;e instanceof ReadableStream?r=e:f7e(e)?r=e.stream():r=new ReadableStream({async pull(c){let u=typeof i=="string"?SO.encode(i):i;u.byteLength&&c.enqueue(u),queueMicrotask(()=>wgt(c))},start(){},type:"bytes"}),pne(Tgt(r));let n=null,i=null,s=null,a=null;if(typeof e=="string")i=e,a="text/plain;charset=UTF-8";else if(e instanceof URLSearchParams)i=e.toString(),a="application/x-www-form-urlencoded;charset=UTF-8";else if(Pgt(e))i=new Uint8Array(e.slice());else if(ArrayBuffer.isView(e))i=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));else if($w.isFormDataLike(e)){let c=`----formdata-undici-0${`${gne(1e11)}`.padStart(11,"0")}`,u=`--${c}\r
Content-Disposition: form-data`;let f=o(x=>x.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"escape"),m=o(x=>x.replace(/\r?\n|\r/g,`\r
`),"normalizeLinefeeds"),h=[],p=new Uint8Array([13,10]);s=0;let A=!1;for(let[x,b]of e)if(typeof b=="string"){let v=SO.encode(u+`; name="${f(m(x))}"\r
\r
${m(b)}\r
`);h.push(v),s+=v.byteLength}else{let v=SO.encode(`${u}; name="${f(m(x))}"`+(b.name?`; filename="${f(b.name)}"`:"")+`\r
Content-Type: ${b.type||"application/octet-stream"}\r
\r
`);h.push(v,b,p),typeof b.size=="number"?s+=v.byteLength+b.size+p.byteLength:A=!0}let E=SO.encode(`--${c}--`);h.push(E),s+=E.byteLength,A&&(s=null),i=e,n=o(async function*(){for(let x of h)x.stream?yield*x.stream():yield x},"action"),a=`multipart/form-data; boundary=${c}`}else if(f7e(e))i=e,s=e.size,e.type&&(a=e.type);else if(typeof e[Symbol.asyncIterator]=="function"){if(t)throw new TypeError("keepalive");if($w.isDisturbed(e)||e.locked)throw new TypeError("Response body object should not be disturbed or locked");r=e instanceof ReadableStream?e:Igt(e)}if((typeof i=="string"||$w.isBuffer(i))&&(s=Buffer.byteLength(i)),n!=null){let c;r=new ReadableStream({async start(){c=n(e)[Symbol.asyncIterator]()},async pull(u){let{value:f,done:m}=await c.next();if(m)queueMicrotask(()=>{u.close(),u.byobRequest?.respond(0)});else if(!p7e(r)){let h=new Uint8Array(f);h.byteLength&&u.enqueue(h)}return u.desiredSize>0},async cancel(u){await c.return()},type:"bytes"})}return[{stream:r,source:i,length:s},a]}o(g7e,"extractBody");function Qgt(e,t=!1){return e instanceof ReadableStream&&(pne(!$w.isDisturbed(e),"The body has already been consumed."),pne(!e.locked,"The stream is locked.")),g7e(e,t)}o(Qgt,"safelyExtractBody");function Mgt(e,t){let[r,n]=t.stream.tee();return Ane&&yne.register(e,new WeakRef(r)),t.stream=r,{stream:n,length:t.length,source:t.source}}o(Mgt,"cloneBody");function Ogt(e){if(e.aborted)throw new DOMException("The operation was aborted.","AbortError")}o(Ogt,"throwIfAborted");function Ugt(e){return{blob(){return XI(this,r=>{let n=m7e(this);return n===null?n="":n&&(n=Fgt(n)),new Rgt([r],{type:n})},e)},arrayBuffer(){return XI(this,r=>new Uint8Array(r).buffer,e)},text(){return XI(this,h7e,e)},json(){return XI(this,Wgt,e)},formData(){return XI(this,r=>{let n=m7e(this);if(n!==null)switch(n.essence){case"multipart/form-data":{let i=Ngt(r,n);if(i==="failure")throw new TypeError("Failed to parse body as FormData.");let s=new d7e;return s[ZI]=i,s}case"application/x-www-form-urlencoded":{let i=new URLSearchParams(r.toString()),s=new d7e;for(let[a,l]of i)s.append(a,l);return s}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},e)},bytes(){return XI(this,r=>new Uint8Array(r),e)}}}o(Ugt,"bodyMixinMethods");function qgt(e){Object.assign(e.prototype,Ugt(e))}o(qgt,"mixinBody");async function XI(e,t,r){if(Bgt.brandCheck(e,r),A7e(e))throw new TypeError("Body is unusable: Body has already been read");Ogt(e[ZI]);let n=Sgt(),i=o(a=>n.reject(a),"errorSteps"),s=o(a=>{try{n.resolve(t(a))}catch(l){i(l)}},"successSteps");return e[ZI].body==null?(s(Buffer.allocUnsafe(0)),n.promise):(await _gt(e[ZI].body,s,i),n.promise)}o(XI,"consumeBody");function A7e(e){let t=e[ZI].body;return t!=null&&(t.stream.locked||$w.isDisturbed(t.stream))}o(A7e,"bodyUnusable");function Wgt(e){return JSON.parse(h7e(e))}o(Wgt,"parseJSONFromBytes");function m7e(e){let t=e[ZI].headersList,r=kgt(t);return r==="failure"?null:r}o(m7e,"bodyMimeType");y7e.exports={extractBody:g7e,safelyExtractBody:Qgt,cloneBody:Mgt,mixinBody:qgt,streamRegistry:yne,hasFinalizationRegistry:Ane,bodyUnusable:A7e}});var k7e=V((WUr,_7e)=>{"use strict";d();var dn=require("node:assert"),Nn=fi(),{channels:C7e}=qI(),Cne=Xre(),{RequestContentLengthMismatchError:W4,ResponseContentLengthMismatchError:Ggt,RequestAbortedError:T7e,HeadersTimeoutError:Hgt,HeadersOverflowError:Vgt,SocketError:PO,InformationalError:t8,BodyTimeoutError:jgt,HTTPParserError:$gt,ResponseExceededMaxSizeError:zgt}=lo(),{kUrl:w7e,kReset:Hc,kClient:vne,kParser:Ks,kBlocking:Kw,kRunning:b0,kPending:Ygt,kSize:E7e,kWriting:sy,kQueue:Vm,kNoRef:zw,kKeepAliveDefaultTimeout:Kgt,kHostHeader:Jgt,kPendingIdx:Xgt,kRunningIdx:Cd,kError:Ed,kPipelining:RO,kSocket:r8,kKeepAliveTimeoutValue:FO,kMaxHeadersSize:Ene,kKeepAliveMaxTimeout:Zgt,kKeepAliveTimeoutThreshold:e1t,kHeadersTimeout:t1t,kBodyTimeout:r1t,kStrictContentLength:Ine,kMaxRequests:x7e,kCounter:n1t,kMaxResponseSize:i1t,kOnError:o1t,kResume:oy,kHTTPContext:S7e}=Ts(),Dp=A9e(),s1t=Buffer.alloc(0),_O=Buffer[Symbol.species],kO=Nn.addListener,a1t=Nn.removeAllListeners,xne;async function l1t(){let e=process.env.JEST_WORKER_ID?tne():void 0,t;try{t=await WebAssembly.compile(E9e())}catch{t=await WebAssembly.compile(e||tne())}return await WebAssembly.instantiate(t,{env:{wasm_on_url:o((r,n,i)=>0,"wasm_on_url"),wasm_on_status:o((r,n,i)=>{dn(Ja.ptr===r);let s=n-Fp+Pp.byteOffset;return Ja.onStatus(new _O(Pp.buffer,s,i))||0},"wasm_on_status"),wasm_on_message_begin:o(r=>(dn(Ja.ptr===r),Ja.onMessageBegin()||0),"wasm_on_message_begin"),wasm_on_header_field:o((r,n,i)=>{dn(Ja.ptr===r);let s=n-Fp+Pp.byteOffset;return Ja.onHeaderField(new _O(Pp.buffer,s,i))||0},"wasm_on_header_field"),wasm_on_header_value:o((r,n,i)=>{dn(Ja.ptr===r);let s=n-Fp+Pp.byteOffset;return Ja.onHeaderValue(new _O(Pp.buffer,s,i))||0},"wasm_on_header_value"),wasm_on_headers_complete:o((r,n,i,s)=>(dn(Ja.ptr===r),Ja.onHeadersComplete(n,!!i,!!s)||0),"wasm_on_headers_complete"),wasm_on_body:o((r,n,i)=>{dn(Ja.ptr===r);let s=n-Fp+Pp.byteOffset;return Ja.onBody(new _O(Pp.buffer,s,i))||0},"wasm_on_body"),wasm_on_message_complete:o(r=>(dn(Ja.ptr===r),Ja.onMessageComplete()||0),"wasm_on_message_complete")}})}o(l1t,"lazyllhttp");var bne=null,Tne=l1t();Tne.catch();var Ja=null,Pp=null,BO=0,Fp=null,c1t=0,Yw=1,n8=2|Yw,DO=4|Yw,wne=8|c1t,Sne=class{static{o(this,"Parser")}constructor(t,r,{exports:n}){dn(Number.isFinite(t[Ene])&&t[Ene]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(Dp.TYPE.RESPONSE),this.client=t,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=t[Ene],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=t[i1t]}setTimeout(t,r){t!==this.timeoutValue||r&Yw^this.timeoutType&Yw?(this.timeout&&(Cne.clearTimeout(this.timeout),this.timeout=null),t&&(r&Yw?this.timeout=Cne.setFastTimeout(b7e,t,new WeakRef(this)):(this.timeout=setTimeout(b7e,t,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=t):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=r}resume(){this.socket.destroyed||!this.paused||(dn(this.ptr!=null),dn(Ja==null),this.llhttp.llhttp_resume(this.ptr),dn(this.timeoutType===DO),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||s1t),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let t=this.socket.read();if(t===null)break;this.execute(t)}}execute(t){dn(this.ptr!=null),dn(Ja==null),dn(!this.paused);let{socket:r,llhttp:n}=this;t.length>BO&&(Fp&&n.free(Fp),BO=Math.ceil(t.length/4096)*4096,Fp=n.malloc(BO)),new Uint8Array(n.memory.buffer,Fp,BO).set(t);try{let i;try{Pp=t,Ja=this,i=n.llhttp_execute(this.ptr,Fp,t.length)}catch(a){throw a}finally{Ja=null,Pp=null}let s=n.llhttp_get_error_pos(this.ptr)-Fp;if(i===Dp.ERROR.PAUSED_UPGRADE)this.onUpgrade(t.slice(s));else if(i===Dp.ERROR.PAUSED)this.paused=!0,r.unshift(t.slice(s));else if(i!==Dp.ERROR.OK){let a=n.llhttp_get_error_reason(this.ptr),l="";if(a){let c=new Uint8Array(n.memory.buffer,a).indexOf(0);l="Response does not match the HTTP/1.1 protocol ("+Buffer.from(n.memory.buffer,a,c).toString()+")"}throw new $gt(l,Dp.ERROR[i],t.slice(s))}}catch(i){Nn.destroy(r,i)}}destroy(){dn(this.ptr!=null),dn(Ja==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&Cne.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(t){this.statusText=t.toString()}onMessageBegin(){let{socket:t,client:r}=this;if(t.destroyed)return-1;let n=r[Vm][r[Cd]];if(!n)return-1;n.onResponseStarted()}onHeaderField(t){let r=this.headers.length;(r&1)===0?this.headers.push(t):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]),this.trackHeader(t.length)}onHeaderValue(t){let r=this.headers.length;(r&1)===1?(this.headers.push(t),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]);let n=this.headers[r-2];if(n.length===10){let i=Nn.bufferToLowerCasedHeaderName(n);i==="keep-alive"?this.keepAlive+=t.toString():i==="connection"&&(this.connection+=t.toString())}else n.length===14&&Nn.bufferToLowerCasedHeaderName(n)==="content-length"&&(this.contentLength+=t.toString());this.trackHeader(t.length)}trackHeader(t){this.headersSize+=t,this.headersSize>=this.headersMaxSize&&Nn.destroy(this.socket,new Vgt)}onUpgrade(t){let{upgrade:r,client:n,socket:i,headers:s,statusCode:a}=this;dn(r),dn(n[r8]===i),dn(!i.destroyed),dn(!this.paused),dn((s.length&1)===0);let l=n[Vm][n[Cd]];dn(l),dn(l.upgrade||l.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,this.headers=[],this.headersSize=0,i.unshift(t),i[Ks].destroy(),i[Ks]=null,i[vne]=null,i[Ed]=null,a1t(i),n[r8]=null,n[S7e]=null,n[Vm][n[Cd]++]=null,n.emit("disconnect",n[w7e],[n],new t8("upgrade"));try{l.onUpgrade(a,s,i)}catch(c){Nn.destroy(i,c)}n[oy]()}onHeadersComplete(t,r,n){let{client:i,socket:s,headers:a,statusText:l}=this;if(s.destroyed)return-1;let c=i[Vm][i[Cd]];if(!c)return-1;if(dn(!this.upgrade),dn(this.statusCode<200),t===100)return Nn.destroy(s,new PO("bad response",Nn.getSocketInfo(s))),-1;if(r&&!c.upgrade)return Nn.destroy(s,new PO("bad upgrade",Nn.getSocketInfo(s))),-1;if(dn(this.timeoutType===n8),this.statusCode=t,this.shouldKeepAlive=n||c.method==="HEAD"&&!s[Hc]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let f=c.bodyTimeout!=null?c.bodyTimeout:i[r1t];this.setTimeout(f,DO)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(c.method==="CONNECT")return dn(i[b0]===1),this.upgrade=!0,2;if(r)return dn(i[b0]===1),this.upgrade=!0,2;if(dn((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[RO]){let f=this.keepAlive?Nn.parseKeepAliveTimeout(this.keepAlive):null;if(f!=null){let m=Math.min(f-i[e1t],i[Zgt]);m<=0?s[Hc]=!0:i[FO]=m}else i[FO]=i[Kgt]}else s[Hc]=!0;let u=c.onHeaders(t,a,this.resume,l)===!1;return c.aborted?-1:c.method==="HEAD"||t<200?1:(s[Kw]&&(s[Kw]=!1,i[oy]()),u?Dp.ERROR.PAUSED:0)}onBody(t){let{client:r,socket:n,statusCode:i,maxResponseSize:s}=this;if(n.destroyed)return-1;let a=r[Vm][r[Cd]];if(dn(a),dn(this.timeoutType===DO),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),dn(i>=200),s>-1&&this.bytesRead+t.length>s)return Nn.destroy(n,new zgt),-1;if(this.bytesRead+=t.length,a.onData(t)===!1)return Dp.ERROR.PAUSED}onMessageComplete(){let{client:t,socket:r,statusCode:n,upgrade:i,headers:s,contentLength:a,bytesRead:l,shouldKeepAlive:c}=this;if(r.destroyed&&(!n||c))return-1;if(i)return;dn(n>=100),dn((this.headers.length&1)===0);let u=t[Vm][t[Cd]];if(dn(u),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,!(n<200)){if(u.method!=="HEAD"&&a&&l!==parseInt(a,10))return Nn.destroy(r,new Ggt),-1;if(u.onComplete(s),t[Vm][t[Cd]++]=null,r[sy])return dn(t[b0]===0),Nn.destroy(r,new t8("reset")),Dp.ERROR.PAUSED;if(c){if(r[Hc]&&t[b0]===0)return Nn.destroy(r,new t8("reset")),Dp.ERROR.PAUSED;t[RO]==null||t[RO]===1?setImmediate(()=>t[oy]()):t[oy]()}else return Nn.destroy(r,new t8("reset")),Dp.ERROR.PAUSED}}};function b7e(e){let{socket:t,timeoutType:r,client:n,paused:i}=e.deref();r===n8?(!t[sy]||t.writableNeedDrain||n[b0]>1)&&(dn(!i,"cannot be paused while waiting for headers"),Nn.destroy(t,new Hgt)):r===DO?i||Nn.destroy(t,new jgt):r===wne&&(dn(n[b0]===0&&n[FO]),Nn.destroy(t,new t8("socket idle timeout")))}o(b7e,"onParserTimeout");async function u1t(e,t){e[r8]=t,bne||(bne=await Tne,Tne=null),t[zw]=!1,t[sy]=!1,t[Hc]=!1,t[Kw]=!1,t[Ks]=new Sne(e,t,bne),kO(t,"error",function(n){dn(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let i=this[Ks];if(n.code==="ECONNRESET"&&i.statusCode&&!i.shouldKeepAlive){i.onMessageComplete();return}this[Ed]=n,this[vne][o1t](n)}),kO(t,"readable",function(){let n=this[Ks];n&&n.readMore()}),kO(t,"end",function(){let n=this[Ks];if(n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}Nn.destroy(this,new PO("other side closed",Nn.getSocketInfo(this)))}),kO(t,"close",function(){let n=this[vne],i=this[Ks];i&&(!this[Ed]&&i.statusCode&&!i.shouldKeepAlive&&i.onMessageComplete(),this[Ks].destroy(),this[Ks]=null);let s=this[Ed]||new PO("closed",Nn.getSocketInfo(this));if(n[r8]=null,n[S7e]=null,n.destroyed){dn(n[Ygt]===0);let a=n[Vm].splice(n[Cd]);for(let l=0;l<a.length;l++){let c=a[l];Nn.errorRequest(n,c,s)}}else if(n[b0]>0&&s.code!=="UND_ERR_INFO"){let a=n[Vm][n[Cd]];n[Vm][n[Cd]++]=null,Nn.errorRequest(n,a,s)}n[Xgt]=n[Cd],dn(n[b0]===0),n.emit("disconnect",n[w7e],[n],s),n[oy]()});let r=!1;return t.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write(...n){return m1t(e,...n)},resume(){f1t(e)},destroy(n,i){r?queueMicrotask(i):t.destroy(n).on("close",i)},get destroyed(){return t.destroyed},busy(n){return!!(t[sy]||t[Hc]||t[Kw]||n&&(e[b0]>0&&!n.idempotent||e[b0]>0&&(n.upgrade||n.method==="CONNECT")||e[b0]>0&&Nn.bodyLength(n.body)!==0&&(Nn.isStream(n.body)||Nn.isAsyncIterable(n.body)||Nn.isFormDataLike(n.body))))}}}o(u1t,"connectH1");function f1t(e){let t=e[r8];if(t&&!t.destroyed){if(e[E7e]===0?!t[zw]&&t.unref&&(t.unref(),t[zw]=!0):t[zw]&&t.ref&&(t.ref(),t[zw]=!1),e[E7e]===0)t[Ks].timeoutType!==wne&&t[Ks].setTimeout(e[FO],wne);else if(e[b0]>0&&t[Ks].statusCode<200&&t[Ks].timeoutType!==n8){let r=e[Vm][e[Cd]],n=r.headersTimeout!=null?r.headersTimeout:e[t1t];t[Ks].setTimeout(n,n8)}}}o(f1t,"resumeH1");function d1t(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}o(d1t,"shouldSendContentLength");function m1t(e,t){let{method:r,path:n,host:i,upgrade:s,blocking:a,reset:l}=t,{body:c,headers:u,contentLength:f}=t,m=r==="PUT"||r==="POST"||r==="PATCH"||r==="QUERY"||r==="PROPFIND"||r==="PROPPATCH";if(Nn.isFormDataLike(c)){xne||(xne=e8().extractBody);let[x,b]=xne(c);t.contentType==null&&u.push("content-type",b),c=x.stream,f=x.length}else Nn.isBlobLike(c)&&t.contentType==null&&c.type&&u.push("content-type",c.type);c&&typeof c.read=="function"&&c.read(0);let h=Nn.bodyLength(c);if(f=h??f,f===null&&(f=t.contentLength),f===0&&!m&&(f=null),d1t(r)&&f>0&&t.contentLength!==null&&t.contentLength!==f){if(e[Ine])return Nn.errorRequest(e,t,new W4),!1;process.emitWarning(new W4)}let p=e[r8],A=o(x=>{t.aborted||t.completed||(Nn.errorRequest(e,t,x||new T7e),Nn.destroy(c),Nn.destroy(p,new t8("aborted")))},"abort");try{t.onConnect(A)}catch(x){Nn.errorRequest(e,t,x)}if(t.aborted)return!1;r==="HEAD"&&(p[Hc]=!0),(s||r==="CONNECT")&&(p[Hc]=!0),l!=null&&(p[Hc]=l),e[x7e]&&p[n1t]++>=e[x7e]&&(p[Hc]=!0),a&&(p[Kw]=!0);let E=`${r} ${n} HTTP/1.1\r
`;if(typeof i=="string"?E+=`host: ${i}\r
`:E+=e[Jgt],s?E+=`connection: upgrade\r
upgrade: ${s}\r
`:e[RO]&&!p[Hc]?E+=`connection: keep-alive\r
`:E+=`connection: close\r
`,Array.isArray(u))for(let x=0;x<u.length;x+=2){let b=u[x+0],v=u[x+1];if(Array.isArray(v))for(let S=0;S<v.length;S++)E+=`${b}: ${v[S]}\r
`;else E+=`${b}: ${v}\r
`}return C7e.sendHeaders.hasSubscribers&&C7e.sendHeaders.publish({request:t,headers:E,socket:p}),!c||h===0?v7e(A,null,e,t,p,f,E,m):Nn.isBuffer(c)?v7e(A,c,e,t,p,f,E,m):Nn.isBlobLike(c)?typeof c.stream=="function"?I7e(A,c.stream(),e,t,p,f,E,m):p1t(A,c,e,t,p,f,E,m):Nn.isStream(c)?h1t(A,c,e,t,p,f,E,m):Nn.isIterable(c)?I7e(A,c,e,t,p,f,E,m):dn(!1),!0}o(m1t,"writeH1");function h1t(e,t,r,n,i,s,a,l){dn(s!==0||r[b0]===0,"stream body cannot be pipelined");let c=!1,u=new NO({abort:e,socket:i,request:n,contentLength:s,client:r,expectsPayload:l,header:a}),f=o(function(A){if(!c)try{!u.write(A)&&this.pause&&this.pause()}catch(E){Nn.destroy(this,E)}},"onData"),m=o(function(){c||t.resume&&t.resume()},"onDrain"),h=o(function(){if(queueMicrotask(()=>{t.removeListener("error",p)}),!c){let A=new T7e;queueMicrotask(()=>p(A))}},"onClose"),p=o(function(A){if(!c){if(c=!0,dn(i.destroyed||i[sy]&&r[b0]<=1),i.off("drain",m).off("error",p),t.removeListener("data",f).removeListener("end",p).removeListener("close",h),!A)try{u.end()}catch(E){A=E}u.destroy(A),A&&(A.code!=="UND_ERR_INFO"||A.message!=="reset")?Nn.destroy(t,A):Nn.destroy(t)}},"onFinished");t.on("data",f).on("end",p).on("error",p).on("close",h),t.resume&&t.resume(),i.on("drain",m).on("error",p),t.errorEmitted??t.errored?setImmediate(()=>p(t.errored)):(t.endEmitted??t.readableEnded)&&setImmediate(()=>p(null)),(t.closeEmitted??t.closed)&&setImmediate(h)}o(h1t,"writeStream");function v7e(e,t,r,n,i,s,a,l){try{t?Nn.isBuffer(t)&&(dn(s===t.byteLength,"buffer body must have content length"),i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(t),i.uncork(),n.onBodySent(t),!l&&n.reset!==!1&&(i[Hc]=!0)):s===0?i.write(`${a}content-length: 0\r
\r
`,"latin1"):(dn(s===null,"no body must not have content length"),i.write(`${a}\r
`,"latin1")),n.onRequestSent(),r[oy]()}catch(c){e(c)}}o(v7e,"writeBuffer");async function p1t(e,t,r,n,i,s,a,l){dn(s===t.size,"blob body must have content length");try{if(s!=null&&s!==t.size)throw new W4;let c=Buffer.from(await t.arrayBuffer());i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(c),i.uncork(),n.onBodySent(c),n.onRequestSent(),!l&&n.reset!==!1&&(i[Hc]=!0),r[oy]()}catch(c){e(c)}}o(p1t,"writeBlob");async function I7e(e,t,r,n,i,s,a,l){dn(s!==0||r[b0]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let h=c;c=null,h()}}o(u,"onDrain");let f=o(()=>new Promise((h,p)=>{dn(c===null),i[Ed]?p(i[Ed]):c=h}),"waitForDrain");i.on("close",u).on("drain",u);let m=new NO({abort:e,socket:i,request:n,contentLength:s,client:r,expectsPayload:l,header:a});try{for await(let h of t){if(i[Ed])throw i[Ed];m.write(h)||await f()}m.end()}catch(h){m.destroy(h)}finally{i.off("close",u).off("drain",u)}}o(I7e,"writeIterable");var NO=class{static{o(this,"AsyncWriter")}constructor({abort:t,socket:r,request:n,contentLength:i,client:s,expectsPayload:a,header:l}){this.socket=r,this.request=n,this.contentLength=i,this.client=s,this.bytesWritten=0,this.expectsPayload=a,this.header=l,this.abort=t,r[sy]=!0}write(t){let{socket:r,request:n,contentLength:i,client:s,bytesWritten:a,expectsPayload:l,header:c}=this;if(r[Ed])throw r[Ed];if(r.destroyed)return!1;let u=Buffer.byteLength(t);if(!u)return!0;if(i!==null&&a+u>i){if(s[Ine])throw new W4;process.emitWarning(new W4)}r.cork(),a===0&&(!l&&n.reset!==!1&&(r[Hc]=!0),i===null?r.write(`${c}transfer-encoding: chunked\r
`,"latin1"):r.write(`${c}content-length: ${i}\r
\r
`,"latin1")),i===null&&r.write(`\r
${u.toString(16)}\r
`,"latin1"),this.bytesWritten+=u;let f=r.write(t);return r.uncork(),n.onBodySent(t),f||r[Ks].timeout&&r[Ks].timeoutType===n8&&r[Ks].timeout.refresh&&r[Ks].timeout.refresh(),f}end(){let{socket:t,contentLength:r,client:n,bytesWritten:i,expectsPayload:s,header:a,request:l}=this;if(l.onRequestSent(),t[sy]=!1,t[Ed])throw t[Ed];if(!t.destroyed){if(i===0?s?t.write(`${a}content-length: 0\r
\r
`,"latin1"):t.write(`${a}\r
`,"latin1"):r===null&&t.write(`\r
0\r
\r
`,"latin1"),r!==null&&i!==r){if(n[Ine])throw new W4;process.emitWarning(new W4)}t[Ks].timeout&&t[Ks].timeoutType===n8&&t[Ks].timeout.refresh&&t[Ks].timeout.refresh(),n[oy]()}}destroy(t){let{socket:r,client:n,abort:i}=this;r[sy]=!1,t&&(dn(n[b0]<=1,"pipeline should only contain this request"),i(t))}};_7e.exports=u1t});var Q7e=V((VUr,L7e)=>{"use strict";d();var xd=require("node:assert"),{pipeline:g1t}=require("node:stream"),Si=fi(),{RequestContentLengthMismatchError:_ne,RequestAbortedError:B7e,SocketError:Jw,InformationalError:kne}=lo(),{kUrl:LO,kReset:MO,kClient:i8,kRunning:OO,kPending:A1t,kQueue:ay,kPendingIdx:Bne,kRunningIdx:jm,kError:zm,kSocket:Cl,kStrictContentLength:y1t,kOnError:Rne,kMaxConcurrentStreams:N7e,kHTTP2Session:$m,kResume:ly,kSize:C1t,kHTTPContext:E1t}=Ts(),H1=Symbol("open streams"),R7e,D7e=!1,QO;try{QO=require("node:http2")}catch{QO={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:x1t,HTTP2_HEADER_METHOD:b1t,HTTP2_HEADER_PATH:v1t,HTTP2_HEADER_SCHEME:I1t,HTTP2_HEADER_CONTENT_LENGTH:T1t,HTTP2_HEADER_EXPECT:w1t,HTTP2_HEADER_STATUS:S1t}}=QO;function _1t(e){let t=[];for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let i of n)t.push(Buffer.from(r),Buffer.from(i));else t.push(Buffer.from(r),Buffer.from(n));return t}o(_1t,"parseH2Headers");async function k1t(e,t){e[Cl]=t,D7e||(D7e=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=QO.connect(e[LO],{createConnection:o(()=>t,"createConnection"),peerMaxConcurrentStreams:e[N7e]});r[H1]=0,r[i8]=e,r[Cl]=t,Si.addListener(r,"error",R1t),Si.addListener(r,"frameError",D1t),Si.addListener(r,"end",P1t),Si.addListener(r,"goaway",F1t),Si.addListener(r,"close",function(){let{[i8]:i}=this,{[Cl]:s}=i,a=this[Cl][zm]||this[zm]||new Jw("closed",Si.getSocketInfo(s));if(i[$m]=null,i.destroyed){xd(i[A1t]===0);let l=i[ay].splice(i[jm]);for(let c=0;c<l.length;c++){let u=l[c];Si.errorRequest(i,u,a)}}}),r.unref(),e[$m]=r,t[$m]=r,Si.addListener(t,"error",function(i){xd(i.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[zm]=i,this[i8][Rne](i)}),Si.addListener(t,"end",function(){Si.destroy(this,new Jw("other side closed",Si.getSocketInfo(this)))}),Si.addListener(t,"close",function(){let i=this[zm]||new Jw("closed",Si.getSocketInfo(this));e[Cl]=null,this[$m]!=null&&this[$m].destroy(i),e[Bne]=e[jm],xd(e[OO]===0),e.emit("disconnect",e[LO],[e],i),e[ly]()});let n=!1;return t.on("close",()=>{n=!0}),{version:"h2",defaultPipelining:1/0,write(...i){return L1t(e,...i)},resume(){B1t(e)},destroy(i,s){n?queueMicrotask(s):t.destroy(i).on("close",s)},get destroyed(){return t.destroyed},busy(){return!1}}}o(k1t,"connectH2");function B1t(e){let t=e[Cl];t?.destroyed===!1&&(e[C1t]===0&&e[N7e]===0?(t.unref(),e[$m].unref()):(t.ref(),e[$m].ref()))}o(B1t,"resumeH2");function R1t(e){xd(e.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Cl][zm]=e,this[i8][Rne](e)}o(R1t,"onHttp2SessionError");function D1t(e,t,r){if(r===0){let n=new kne(`HTTP/2: "frameError" received - type ${e}, code ${t}`);this[Cl][zm]=n,this[i8][Rne](n)}}o(D1t,"onHttp2FrameError");function P1t(){let e=new Jw("other side closed",Si.getSocketInfo(this[Cl]));this.destroy(e),Si.destroy(this[Cl],e)}o(P1t,"onHttp2SessionEnd");function F1t(e){let t=this[zm]||new Jw(`HTTP/2: "GOAWAY" frame received with code ${e}`,Si.getSocketInfo(this)),r=this[i8];if(r[Cl]=null,r[E1t]=null,this[$m]!=null&&(this[$m].destroy(t),this[$m]=null),Si.destroy(this[Cl],t),r[jm]<r[ay].length){let n=r[ay][r[jm]];r[ay][r[jm]++]=null,Si.errorRequest(r,n,t),r[Bne]=r[jm]}xd(r[OO]===0),r.emit("disconnect",r[LO],[r],t),r[ly]()}o(F1t,"onHTTP2GoAway");function N1t(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}o(N1t,"shouldSendContentLength");function L1t(e,t){let r=e[$m],{method:n,path:i,host:s,upgrade:a,expectContinue:l,signal:c,headers:u}=t,{body:f}=t;if(a)return Si.errorRequest(e,t,new Error("Upgrade not supported for H2")),!1;let m={};for(let B=0;B<u.length;B+=2){let P=u[B+0],F=u[B+1];if(Array.isArray(F))for(let G=0;G<F.length;G++)m[P]?m[P]+=`,${F[G]}`:m[P]=F[G];else m[P]=F}let h,{hostname:p,port:A}=e[LO];m[x1t]=s||`${p}${A?`:${A}`:""}`,m[b1t]=n;let E=o(B=>{t.aborted||t.completed||(B=B||new B7e,Si.errorRequest(e,t,B),h!=null&&Si.destroy(h,B),Si.destroy(f,B),e[ay][e[jm]++]=null,e[ly]())},"abort");try{t.onConnect(E)}catch(B){Si.errorRequest(e,t,B)}if(t.aborted)return!1;if(n==="CONNECT")return r.ref(),h=r.request(m,{endStream:!1,signal:c}),h.id&&!h.pending?(t.onUpgrade(null,null,h),++r[H1],e[ay][e[jm]++]=null):h.once("ready",()=>{t.onUpgrade(null,null,h),++r[H1],e[ay][e[jm]++]=null}),h.once("close",()=>{r[H1]-=1,r[H1]===0&&r.unref()}),!0;m[v1t]=i,m[I1t]="https";let x=n==="PUT"||n==="POST"||n==="PATCH";f&&typeof f.read=="function"&&f.read(0);let b=Si.bodyLength(f);if(Si.isFormDataLike(f)){R7e??=e8().extractBody;let[B,P]=R7e(f);m["content-type"]=P,f=B.stream,b=B.length}if(b==null&&(b=t.contentLength),(b===0||!x)&&(b=null),N1t(n)&&b>0&&t.contentLength!=null&&t.contentLength!==b){if(e[y1t])return Si.errorRequest(e,t,new _ne),!1;process.emitWarning(new _ne)}b!=null&&(xd(f,"no body must not have content length"),m[T1t]=`${b}`),r.ref();let v=n==="GET"||n==="HEAD"||f===null;return l?(m[w1t]="100-continue",h=r.request(m,{endStream:v,signal:c}),h.once("continue",S)):(h=r.request(m,{endStream:v,signal:c}),S()),++r[H1],h.once("response",B=>{let{[S1t]:P,...F}=B;if(t.onResponseStarted(),t.aborted){let G=new B7e;Si.errorRequest(e,t,G),Si.destroy(h,G);return}t.onHeaders(Number(P),_1t(F),h.resume.bind(h),"")===!1&&h.pause(),h.on("data",G=>{t.onData(G)===!1&&h.pause()})}),h.once("end",()=>{(h.state?.state==null||h.state.state<6)&&t.onComplete([]),r[H1]===0&&r.unref(),E(new kne("HTTP/2: stream half-closed (remote)")),e[ay][e[jm]++]=null,e[Bne]=e[jm],e[ly]()}),h.once("close",()=>{r[H1]-=1,r[H1]===0&&r.unref()}),h.once("error",function(B){E(B)}),h.once("frameError",(B,P)=>{E(new kne(`HTTP/2: "frameError" received - type ${B}, code ${P}`))}),!0;function S(){!f||b===0?P7e(E,h,null,e,t,e[Cl],b,x):Si.isBuffer(f)?P7e(E,h,f,e,t,e[Cl],b,x):Si.isBlobLike(f)?typeof f.stream=="function"?F7e(E,h,f.stream(),e,t,e[Cl],b,x):M1t(E,h,f,e,t,e[Cl],b,x):Si.isStream(f)?Q1t(E,e[Cl],x,h,f,e,t,b):Si.isIterable(f)?F7e(E,h,f,e,t,e[Cl],b,x):xd(!1)}o(S,"writeBodyH2")}o(L1t,"writeH2");function P7e(e,t,r,n,i,s,a,l){try{r!=null&&Si.isBuffer(r)&&(xd(a===r.byteLength,"buffer body must have content length"),t.cork(),t.write(r),t.uncork(),t.end(),i.onBodySent(r)),l||(s[MO]=!0),i.onRequestSent(),n[ly]()}catch(c){e(c)}}o(P7e,"writeBuffer");function Q1t(e,t,r,n,i,s,a,l){xd(l!==0||s[OO]===0,"stream body cannot be pipelined");let c=g1t(i,n,f=>{f?(Si.destroy(c,f),e(f)):(Si.removeAllListeners(c),a.onRequestSent(),r||(t[MO]=!0),s[ly]())});Si.addListener(c,"data",u);function u(f){a.onBodySent(f)}o(u,"onPipeData")}o(Q1t,"writeStream");async function M1t(e,t,r,n,i,s,a,l){xd(a===r.size,"blob body must have content length");try{if(a!=null&&a!==r.size)throw new _ne;let c=Buffer.from(await r.arrayBuffer());t.cork(),t.write(c),t.uncork(),t.end(),i.onBodySent(c),i.onRequestSent(),l||(s[MO]=!0),n[ly]()}catch(c){e(c)}}o(M1t,"writeBlob");async function F7e(e,t,r,n,i,s,a,l){xd(a!==0||n[OO]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let m=c;c=null,m()}}o(u,"onDrain");let f=o(()=>new Promise((m,h)=>{xd(c===null),s[zm]?h(s[zm]):c=m}),"waitForDrain");t.on("close",u).on("drain",u);try{for await(let m of r){if(s[zm])throw s[zm];let h=t.write(m);i.onBodySent(m),h||await f()}t.end(),i.onRequestSent(),l||(s[MO]=!0),n[ly]()}catch(m){e(m)}finally{t.off("close",u).off("drain",u)}}o(F7e,"writeIterable");L7e.exports=k1t});var qO=V((zUr,U7e)=>{"use strict";d();var Np=fi(),{kBodyUsed:Xw}=Ts(),Pne=require("node:assert"),{InvalidArgumentError:O1t}=lo(),U1t=require("node:events"),q1t=[300,301,302,303,307,308],M7e=Symbol("body"),UO=class{static{o(this,"BodyAsyncIterable")}constructor(t){this[M7e]=t,this[Xw]=!1}async*[Symbol.asyncIterator](){Pne(!this[Xw],"disturbed"),this[Xw]=!0,yield*this[M7e]}},Dne=class{static{o(this,"RedirectHandler")}constructor(t,r,n,i){if(r!=null&&(!Number.isInteger(r)||r<0))throw new O1t("maxRedirections must be a positive number");Np.validateHandler(i,n.method,n.upgrade),this.dispatch=t,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=i,this.history=[],this.redirectionLimitReached=!1,Np.isStream(this.opts.body)?(Np.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){Pne(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[Xw]=!1,U1t.prototype.on.call(this.opts.body,"data",function(){this[Xw]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new UO(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&Np.isIterable(this.opts.body)&&(this.opts.body=new UO(this.opts.body))}onConnect(t){this.abort=t,this.handler.onConnect(t,{history:this.history})}onUpgrade(t,r,n){this.handler.onUpgrade(t,r,n)}onError(t){this.handler.onError(t)}onHeaders(t,r,n,i){if(this.location=this.history.length>=this.maxRedirections||Np.isDisturbed(this.opts.body)?null:W1t(t,r),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(t,r,n,i);let{origin:s,pathname:a,search:l}=Np.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),c=l?`${a}${l}`:a;this.opts.headers=G1t(this.opts.headers,t===303,this.opts.origin!==s),this.opts.path=c,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,t===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(t){if(!this.location)return this.handler.onData(t)}onComplete(t){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(t)}onBodySent(t){this.handler.onBodySent&&this.handler.onBodySent(t)}};function W1t(e,t){if(q1t.indexOf(e)===-1)return null;for(let r=0;r<t.length;r+=2)if(t[r].length===8&&Np.headerNameToString(t[r])==="location")return t[r+1]}o(W1t,"parseLocation");function O7e(e,t,r){if(e.length===4)return Np.headerNameToString(e)==="host";if(t&&Np.headerNameToString(e).startsWith("content-"))return!0;if(r&&(e.length===13||e.length===6||e.length===19)){let n=Np.headerNameToString(e);return n==="authorization"||n==="cookie"||n==="proxy-authorization"}return!1}o(O7e,"shouldRemoveHeader");function G1t(e,t,r){let n=[];if(Array.isArray(e))for(let i=0;i<e.length;i+=2)O7e(e[i],t,r)||n.push(e[i],e[i+1]);else if(e&&typeof e=="object")for(let i of Object.keys(e))O7e(i,t,r)||n.push(i,e[i]);else Pne(e==null,"headers must be an object or an array");return n}o(G1t,"cleanRequestHeaders");U7e.exports=Dne});var WO=V((JUr,q7e)=>{"use strict";d();var H1t=qO();function V1t({maxRedirections:e}){return t=>o(function(n,i){let{maxRedirections:s=e}=n;if(!s)return t(n,i);let a=new H1t(t,s,n,i);return n={...n,maxRedirections:0},t(n,a)},"Intercept")}o(V1t,"createRedirectInterceptor");q7e.exports=V1t});var oS=V((eqr,J7e)=>{"use strict";d();var V1=require("node:assert"),$7e=require("node:net"),j1t=require("node:http"),G4=fi(),{channels:o8}=qI(),$1t=i9e(),z1t=VI(),{InvalidArgumentError:ha,InformationalError:Y1t,ClientDestroyedError:K1t}=lo(),J1t=Ow(),{kUrl:Lp,kServerName:cy,kClient:X1t,kBusy:Fne,kConnect:Z1t,kResuming:H4,kRunning:nS,kPending:iS,kSize:rS,kQueue:Ym,kConnected:eAt,kConnecting:s8,kNeedDrain:fy,kKeepAliveDefaultTimeout:W7e,kHostHeader:tAt,kPendingIdx:Km,kRunningIdx:j1,kError:rAt,kPipelining:GO,kKeepAliveTimeoutValue:nAt,kMaxHeadersSize:iAt,kKeepAliveMaxTimeout:oAt,kKeepAliveTimeoutThreshold:sAt,kHeadersTimeout:aAt,kBodyTimeout:lAt,kStrictContentLength:cAt,kConnector:Zw,kMaxRedirections:uAt,kMaxRequests:Nne,kCounter:fAt,kClose:dAt,kDestroy:mAt,kDispatch:hAt,kInterceptors:G7e,kLocalAddress:eS,kMaxResponseSize:pAt,kOnError:gAt,kHTTPContext:pa,kMaxConcurrentStreams:AAt,kResume:tS}=Ts(),yAt=k7e(),CAt=Q7e(),H7e=!1,uy=Symbol("kClosedResolve"),V7e=o(()=>{},"noop");function z7e(e){return e[GO]??e[pa]?.defaultPipelining??1}o(z7e,"getPipelining");var Lne=class extends z1t{static{o(this,"Client")}constructor(t,{interceptors:r,maxHeaderSize:n,headersTimeout:i,socketTimeout:s,requestTimeout:a,connectTimeout:l,bodyTimeout:c,idleTimeout:u,keepAlive:f,keepAliveTimeout:m,maxKeepAliveTimeout:h,keepAliveMaxTimeout:p,keepAliveTimeoutThreshold:A,socketPath:E,pipelining:x,tls:b,strictContentLength:v,maxCachedSessions:S,maxRedirections:B,connect:P,maxRequestsPerClient:F,localAddress:G,maxResponseSize:re,autoSelectFamily:pe,autoSelectFamilyAttemptTimeout:Z,maxConcurrentStreams:W,allowH2:q}={}){if(super(),f!==void 0)throw new ha("unsupported keepAlive, use pipelining=0 instead");if(s!==void 0)throw new ha("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(a!==void 0)throw new ha("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(u!==void 0)throw new ha("unsupported idleTimeout, use keepAliveTimeout instead");if(h!==void 0)throw new ha("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(n!=null&&!Number.isFinite(n))throw new ha("invalid maxHeaderSize");if(E!=null&&typeof E!="string")throw new ha("invalid socketPath");if(l!=null&&(!Number.isFinite(l)||l<0))throw new ha("invalid connectTimeout");if(m!=null&&(!Number.isFinite(m)||m<=0))throw new ha("invalid keepAliveTimeout");if(p!=null&&(!Number.isFinite(p)||p<=0))throw new ha("invalid keepAliveMaxTimeout");if(A!=null&&!Number.isFinite(A))throw new ha("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new ha("headersTimeout must be a positive integer or zero");if(c!=null&&(!Number.isInteger(c)||c<0))throw new ha("bodyTimeout must be a positive integer or zero");if(P!=null&&typeof P!="function"&&typeof P!="object")throw new ha("connect must be a function or an object");if(B!=null&&(!Number.isInteger(B)||B<0))throw new ha("maxRedirections must be a positive number");if(F!=null&&(!Number.isInteger(F)||F<0))throw new ha("maxRequestsPerClient must be a positive number");if(G!=null&&(typeof G!="string"||$7e.isIP(G)===0))throw new ha("localAddress must be valid string IP address");if(re!=null&&(!Number.isInteger(re)||re<-1))throw new ha("maxResponseSize must be a positive number");if(Z!=null&&(!Number.isInteger(Z)||Z<-1))throw new ha("autoSelectFamilyAttemptTimeout must be a positive number");if(q!=null&&typeof q!="boolean")throw new ha("allowH2 must be a valid boolean value");if(W!=null&&(typeof W!="number"||W<1))throw new ha("maxConcurrentStreams must be a positive integer, greater than 0");typeof P!="function"&&(P=J1t({...b,maxCachedSessions:S,allowH2:q,socketPath:E,timeout:l,...pe?{autoSelectFamily:pe,autoSelectFamilyAttemptTimeout:Z}:void 0,...P})),r?.Client&&Array.isArray(r.Client)?(this[G7e]=r.Client,H7e||(H7e=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[G7e]=[EAt({maxRedirections:B})],this[Lp]=G4.parseOrigin(t),this[Zw]=P,this[GO]=x??1,this[iAt]=n||j1t.maxHeaderSize,this[W7e]=m??4e3,this[oAt]=p??6e5,this[sAt]=A??2e3,this[nAt]=this[W7e],this[cy]=null,this[eS]=G??null,this[H4]=0,this[fy]=0,this[tAt]=`host: ${this[Lp].hostname}${this[Lp].port?`:${this[Lp].port}`:""}\r
`,this[lAt]=c??3e5,this[aAt]=i??3e5,this[cAt]=v??!0,this[uAt]=B,this[Nne]=F,this[uy]=null,this[pAt]=re>-1?re:-1,this[AAt]=W??100,this[pa]=null,this[Ym]=[],this[j1]=0,this[Km]=0,this[tS]=se=>Qne(this,se),this[gAt]=se=>Y7e(this,se)}get pipelining(){return this[GO]}set pipelining(t){this[GO]=t,this[tS](!0)}get[iS](){return this[Ym].length-this[Km]}get[nS](){return this[Km]-this[j1]}get[rS](){return this[Ym].length-this[j1]}get[eAt](){return!!this[pa]&&!this[s8]&&!this[pa].destroyed}get[Fne](){return!!(this[pa]?.busy(null)||this[rS]>=(z7e(this)||1)||this[iS]>0)}[Z1t](t){K7e(this),this.once("connect",t)}[hAt](t,r){let n=t.origin||this[Lp].origin,i=new $1t(n,t,r);return this[Ym].push(i),this[H4]||(G4.bodyLength(i.body)==null&&G4.isIterable(i.body)?(this[H4]=1,queueMicrotask(()=>Qne(this))):this[tS](!0)),this[H4]&&this[fy]!==2&&this[Fne]&&(this[fy]=2),this[fy]<2}async[dAt](){return new Promise(t=>{this[rS]?this[uy]=t:t(null)})}async[mAt](t){return new Promise(r=>{let n=this[Ym].splice(this[Km]);for(let s=0;s<n.length;s++){let a=n[s];G4.errorRequest(this,a,t)}let i=o(()=>{this[uy]&&(this[uy](),this[uy]=null),r(null)},"callback");this[pa]?(this[pa].destroy(t,i),this[pa]=null):queueMicrotask(i),this[tS]()})}},EAt=WO();function Y7e(e,t){if(e[nS]===0&&t.code!=="UND_ERR_INFO"&&t.code!=="UND_ERR_SOCKET"){V1(e[Km]===e[j1]);let r=e[Ym].splice(e[j1]);for(let n=0;n<r.length;n++){let i=r[n];G4.errorRequest(e,i,t)}V1(e[rS]===0)}}o(Y7e,"onError");async function K7e(e){V1(!e[s8]),V1(!e[pa]);let{host:t,hostname:r,protocol:n,port:i}=e[Lp];if(r[0]==="["){let s=r.indexOf("]");V1(s!==-1);let a=r.substring(1,s);V1($7e.isIP(a)),r=a}e[s8]=!0,o8.beforeConnect.hasSubscribers&&o8.beforeConnect.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[pa]?.version,servername:e[cy],localAddress:e[eS]},connector:e[Zw]});try{let s=await new Promise((a,l)=>{e[Zw]({host:t,hostname:r,protocol:n,port:i,servername:e[cy],localAddress:e[eS]},(c,u)=>{c?l(c):a(u)})});if(e.destroyed){G4.destroy(s.on("error",V7e),new K1t);return}V1(s);try{e[pa]=s.alpnProtocol==="h2"?await CAt(e,s):await yAt(e,s)}catch(a){throw s.destroy().on("error",V7e),a}e[s8]=!1,s[fAt]=0,s[Nne]=e[Nne],s[X1t]=e,s[rAt]=null,o8.connected.hasSubscribers&&o8.connected.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[pa]?.version,servername:e[cy],localAddress:e[eS]},connector:e[Zw],socket:s}),e.emit("connect",e[Lp],[e])}catch(s){if(e.destroyed)return;if(e[s8]=!1,o8.connectError.hasSubscribers&&o8.connectError.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[pa]?.version,servername:e[cy],localAddress:e[eS]},connector:e[Zw],error:s}),s.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(V1(e[nS]===0);e[iS]>0&&e[Ym][e[Km]].servername===e[cy];){let a=e[Ym][e[Km]++];G4.errorRequest(e,a,s)}else Y7e(e,s);e.emit("connectionError",e[Lp],[e],s)}e[tS]()}o(K7e,"connect");function j7e(e){e[fy]=0,e.emit("drain",e[Lp],[e])}o(j7e,"emitDrain");function Qne(e,t){e[H4]!==2&&(e[H4]=2,xAt(e,t),e[H4]=0,e[j1]>256&&(e[Ym].splice(0,e[j1]),e[Km]-=e[j1],e[j1]=0))}o(Qne,"resume");function xAt(e,t){for(;;){if(e.destroyed){V1(e[iS]===0);return}if(e[uy]&&!e[rS]){e[uy](),e[uy]=null;return}if(e[pa]&&e[pa].resume(),e[Fne])e[fy]=2;else if(e[fy]===2){t?(e[fy]=1,queueMicrotask(()=>j7e(e))):j7e(e);continue}if(e[iS]===0||e[nS]>=(z7e(e)||1))return;let r=e[Ym][e[Km]];if(e[Lp].protocol==="https:"&&e[cy]!==r.servername){if(e[nS]>0)return;e[cy]=r.servername,e[pa]?.destroy(new Y1t("servername changed"),()=>{e[pa]=null,Qne(e)})}if(e[s8])return;if(!e[pa]){K7e(e);return}if(e[pa].destroyed||e[pa].busy(r))return;!r.aborted&&e[pa].write(r)?e[Km]++:e[Ym].splice(e[Km],1)}}o(xAt,"_resume");J7e.exports=Lne});var Mne=V((iqr,X7e)=>{"use strict";d();var HO=class{static{o(this,"FixedCircularBuffer")}constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(t){this.list[this.top]=t,this.top=this.top+1&2047}shift(){let t=this.list[this.bottom];return t===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,t)}};X7e.exports=class{static{o(this,"FixedQueue")}constructor(){this.head=this.tail=new HO}isEmpty(){return this.head.isEmpty()}push(t){this.head.isFull()&&(this.head=this.head.next=new HO),this.head.push(t)}shift(){let t=this.tail,r=t.shift();return t.isEmpty()&&t.next!==null&&(this.tail=t.next),r}}});var eTe=V((aqr,Z7e)=>{d();var{kFree:bAt,kConnected:vAt,kPending:IAt,kQueued:TAt,kRunning:wAt,kSize:SAt}=Ts(),V4=Symbol("pool"),One=class{static{o(this,"PoolStats")}constructor(t){this[V4]=t}get connected(){return this[V4][vAt]}get free(){return this[V4][bAt]}get pending(){return this[V4][IAt]}get queued(){return this[V4][TAt]}get running(){return this[V4][wAt]}get size(){return this[V4][SAt]}};Z7e.exports=One});var Vne=V((uqr,uTe)=>{"use strict";d();var _At=VI(),kAt=Mne(),{kConnected:Une,kSize:tTe,kRunning:rTe,kPending:nTe,kQueued:sS,kBusy:BAt,kFree:RAt,kUrl:DAt,kClose:PAt,kDestroy:FAt,kDispatch:NAt}=Ts(),LAt=eTe(),Vc=Symbol("clients"),Y0=Symbol("needDrain"),aS=Symbol("queue"),qne=Symbol("closed resolve"),Wne=Symbol("onDrain"),iTe=Symbol("onConnect"),oTe=Symbol("onDisconnect"),sTe=Symbol("onConnectionError"),Gne=Symbol("get dispatcher"),lTe=Symbol("add client"),cTe=Symbol("remove client"),aTe=Symbol("stats"),Hne=class extends _At{static{o(this,"PoolBase")}constructor(){super(),this[aS]=new kAt,this[Vc]=[],this[sS]=0;let t=this;this[Wne]=o(function(n,i){let s=t[aS],a=!1;for(;!a;){let l=s.shift();if(!l)break;t[sS]--,a=!this.dispatch(l.opts,l.handler)}this[Y0]=a,!this[Y0]&&t[Y0]&&(t[Y0]=!1,t.emit("drain",n,[t,...i])),t[qne]&&s.isEmpty()&&Promise.all(t[Vc].map(l=>l.close())).then(t[qne])},"onDrain"),this[iTe]=(r,n)=>{t.emit("connect",r,[t,...n])},this[oTe]=(r,n,i)=>{t.emit("disconnect",r,[t,...n],i)},this[sTe]=(r,n,i)=>{t.emit("connectionError",r,[t,...n],i)},this[aTe]=new LAt(this)}get[BAt](){return this[Y0]}get[Une](){return this[Vc].filter(t=>t[Une]).length}get[RAt](){return this[Vc].filter(t=>t[Une]&&!t[Y0]).length}get[nTe](){let t=this[sS];for(let{[nTe]:r}of this[Vc])t+=r;return t}get[rTe](){let t=0;for(let{[rTe]:r}of this[Vc])t+=r;return t}get[tTe](){let t=this[sS];for(let{[tTe]:r}of this[Vc])t+=r;return t}get stats(){return this[aTe]}async[PAt](){this[aS].isEmpty()?await Promise.all(this[Vc].map(t=>t.close())):await new Promise(t=>{this[qne]=t})}async[FAt](t){for(;;){let r=this[aS].shift();if(!r)break;r.handler.onError(t)}await Promise.all(this[Vc].map(r=>r.destroy(t)))}[NAt](t,r){let n=this[Gne]();return n?n.dispatch(t,r)||(n[Y0]=!0,this[Y0]=!this[Gne]()):(this[Y0]=!0,this[aS].push({opts:t,handler:r}),this[sS]++),!this[Y0]}[lTe](t){return t.on("drain",this[Wne]).on("connect",this[iTe]).on("disconnect",this[oTe]).on("connectionError",this[sTe]),this[Vc].push(t),this[Y0]&&queueMicrotask(()=>{this[Y0]&&this[Wne](t[DAt],[this,t])}),this}[cTe](t){t.close(()=>{let r=this[Vc].indexOf(t);r!==-1&&this[Vc].splice(r,1)}),this[Y0]=this[Vc].some(r=>!r[Y0]&&r.closed!==!0&&r.destroyed!==!0)}};uTe.exports={PoolBase:Hne,kClients:Vc,kNeedDrain:Y0,kAddClient:lTe,kRemoveClient:cTe,kGetDispatcher:Gne}});var a8=V((mqr,pTe)=>{"use strict";d();var{PoolBase:QAt,kClients:fTe,kNeedDrain:MAt,kAddClient:OAt,kGetDispatcher:UAt}=Vne(),qAt=oS(),{InvalidArgumentError:jne}=lo(),dTe=fi(),{kUrl:mTe,kInterceptors:WAt}=Ts(),GAt=Ow(),$ne=Symbol("options"),zne=Symbol("connections"),hTe=Symbol("factory");function HAt(e,t){return new qAt(e,t)}o(HAt,"defaultFactory");var Yne=class extends QAt{static{o(this,"Pool")}constructor(t,{connections:r,factory:n=HAt,connect:i,connectTimeout:s,tls:a,maxCachedSessions:l,socketPath:c,autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f,allowH2:m,...h}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new jne("invalid connections");if(typeof n!="function")throw new jne("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new jne("connect must be a function or an object");typeof i!="function"&&(i=GAt({...a,maxCachedSessions:l,allowH2:m,socketPath:c,timeout:s,...u?{autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f}:void 0,...i})),this[WAt]=h.interceptors?.Pool&&Array.isArray(h.interceptors.Pool)?h.interceptors.Pool:[],this[zne]=r||null,this[mTe]=dTe.parseOrigin(t),this[$ne]={...dTe.deepClone(h),connect:i,allowH2:m},this[$ne].interceptors=h.interceptors?{...h.interceptors}:void 0,this[hTe]=n}[UAt](){for(let t of this[fTe])if(!t[MAt])return t;if(!this[zne]||this[fTe].length<this[zne]){let t=this[hTe](this[mTe],this[$ne]);return this[OAt](t),t}}};pTe.exports=Yne});var ETe=V((gqr,CTe)=>{"use strict";d();var{BalancedPoolMissingUpstreamError:VAt,InvalidArgumentError:jAt}=lo(),{PoolBase:$At,kClients:v0,kNeedDrain:lS,kAddClient:zAt,kRemoveClient:YAt,kGetDispatcher:KAt}=Vne(),JAt=a8(),{kUrl:Kne,kInterceptors:XAt}=Ts(),{parseOrigin:gTe}=fi(),ATe=Symbol("factory"),VO=Symbol("options"),yTe=Symbol("kGreatestCommonDivisor"),j4=Symbol("kCurrentWeight"),$4=Symbol("kIndex"),bd=Symbol("kWeight"),jO=Symbol("kMaxWeightPerServer"),$O=Symbol("kErrorPenalty");function ZAt(e,t){if(e===0)return t;for(;t!==0;){let r=t;t=e%t,e=r}return e}o(ZAt,"getGreatestCommonDivisor");function e2t(e,t){return new JAt(e,t)}o(e2t,"defaultFactory");var Jne=class extends $At{static{o(this,"BalancedPool")}constructor(t=[],{factory:r=e2t,...n}={}){if(super(),this[VO]=n,this[$4]=-1,this[j4]=0,this[jO]=this[VO].maxWeightPerServer||100,this[$O]=this[VO].errorPenalty||15,Array.isArray(t)||(t=[t]),typeof r!="function")throw new jAt("factory must be a function.");this[XAt]=n.interceptors?.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[ATe]=r;for(let i of t)this.addUpstream(i);this._updateBalancedPoolStats()}addUpstream(t){let r=gTe(t).origin;if(this[v0].find(i=>i[Kne].origin===r&&i.closed!==!0&&i.destroyed!==!0))return this;let n=this[ATe](r,Object.assign({},this[VO]));this[zAt](n),n.on("connect",()=>{n[bd]=Math.min(this[jO],n[bd]+this[$O])}),n.on("connectionError",()=>{n[bd]=Math.max(1,n[bd]-this[$O]),this._updateBalancedPoolStats()}),n.on("disconnect",(...i)=>{let s=i[2];s&&s.code==="UND_ERR_SOCKET"&&(n[bd]=Math.max(1,n[bd]-this[$O]),this._updateBalancedPoolStats())});for(let i of this[v0])i[bd]=this[jO];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let t=0;for(let r=0;r<this[v0].length;r++)t=ZAt(this[v0][r][bd],t);this[yTe]=t}removeUpstream(t){let r=gTe(t).origin,n=this[v0].find(i=>i[Kne].origin===r&&i.closed!==!0&&i.destroyed!==!0);return n&&this[YAt](n),this}get upstreams(){return this[v0].filter(t=>t.closed!==!0&&t.destroyed!==!0).map(t=>t[Kne].origin)}[KAt](){if(this[v0].length===0)throw new VAt;if(!this[v0].find(s=>!s[lS]&&s.closed!==!0&&s.destroyed!==!0)||this[v0].map(s=>s[lS]).reduce((s,a)=>s&&a,!0))return;let n=0,i=this[v0].findIndex(s=>!s[lS]);for(;n++<this[v0].length;){this[$4]=(this[$4]+1)%this[v0].length;let s=this[v0][this[$4]];if(s[bd]>this[v0][i][bd]&&!s[lS]&&(i=this[$4]),this[$4]===0&&(this[j4]=this[j4]-this[yTe],this[j4]<=0&&(this[j4]=this[jO])),s[bd]>=this[j4]&&!s[lS])return s}return this[j4]=this[v0][i][bd],this[$4]=i,this[v0][i]}};CTe.exports=Jne});var l8=V((Cqr,STe)=>{"use strict";d();var{InvalidArgumentError:zO}=lo(),{kClients:dy,kRunning:xTe,kClose:t2t,kDestroy:r2t,kDispatch:n2t,kInterceptors:i2t}=Ts(),o2t=VI(),s2t=a8(),a2t=oS(),l2t=fi(),c2t=WO(),bTe=Symbol("onConnect"),vTe=Symbol("onDisconnect"),ITe=Symbol("onConnectionError"),u2t=Symbol("maxRedirections"),TTe=Symbol("onDrain"),wTe=Symbol("factory"),Xne=Symbol("options");function f2t(e,t){return t&&t.connections===1?new a2t(e,t):new s2t(e,t)}o(f2t,"defaultFactory");var Zne=class extends o2t{static{o(this,"Agent")}constructor({factory:t=f2t,maxRedirections:r=0,connect:n,...i}={}){if(super(),typeof t!="function")throw new zO("factory must be a function.");if(n!=null&&typeof n!="function"&&typeof n!="object")throw new zO("connect must be a function or an object");if(!Number.isInteger(r)||r<0)throw new zO("maxRedirections must be a positive number");n&&typeof n!="function"&&(n={...n}),this[i2t]=i.interceptors?.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[c2t({maxRedirections:r})],this[Xne]={...l2t.deepClone(i),connect:n},this[Xne].interceptors=i.interceptors?{...i.interceptors}:void 0,this[u2t]=r,this[wTe]=t,this[dy]=new Map,this[TTe]=(s,a)=>{this.emit("drain",s,[this,...a])},this[bTe]=(s,a)=>{this.emit("connect",s,[this,...a])},this[vTe]=(s,a,l)=>{this.emit("disconnect",s,[this,...a],l)},this[ITe]=(s,a,l)=>{this.emit("connectionError",s,[this,...a],l)}}get[xTe](){let t=0;for(let r of this[dy].values())t+=r[xTe];return t}[n2t](t,r){let n;if(t.origin&&(typeof t.origin=="string"||t.origin instanceof URL))n=String(t.origin);else throw new zO("opts.origin must be a non-empty string or URL.");let i=this[dy].get(n);return i||(i=this[wTe](t.origin,this[Xne]).on("drain",this[TTe]).on("connect",this[bTe]).on("disconnect",this[vTe]).on("connectionError",this[ITe]),this[dy].set(n,i)),i.dispatch(t,r)}async[t2t](){let t=[];for(let r of this[dy].values())t.push(r.close());this[dy].clear(),await Promise.all(t)}async[r2t](t){let r=[];for(let n of this[dy].values())r.push(n.destroy(t));this[dy].clear(),await Promise.all(r)}};STe.exports=Zne});var rie=V((bqr,RTe)=>{"use strict";d();var{kProxy:d2t,kClose:m2t,kDestroy:h2t,kInterceptors:p2t}=Ts(),{URL:cS}=require("node:url"),g2t=l8(),A2t=a8(),y2t=VI(),{InvalidArgumentError:JO,RequestAbortedError:C2t,SecureProxyConnectionError:E2t}=lo(),_Te=Ow(),YO=Symbol("proxy agent"),KO=Symbol("proxy client"),uS=Symbol("proxy headers"),eie=Symbol("request tls settings"),kTe=Symbol("proxy tls settings"),BTe=Symbol("connect endpoint function");function x2t(e){return e==="https:"?443:80}o(x2t,"defaultProtocolPort");function b2t(e,t){return new A2t(e,t)}o(b2t,"defaultFactory");var v2t=o(()=>{},"noop"),tie=class extends y2t{static{o(this,"ProxyAgent")}constructor(t){if(super(),!t||typeof t=="object"&&!(t instanceof cS)&&!t.uri)throw new JO("Proxy uri is mandatory");let{clientFactory:r=b2t}=t;if(typeof r!="function")throw new JO("Proxy opts.clientFactory must be a function.");let n=this.#e(t),{href:i,origin:s,port:a,protocol:l,username:c,password:u,hostname:f}=n;if(this[d2t]={uri:i,protocol:l},this[p2t]=t.interceptors?.ProxyAgent&&Array.isArray(t.interceptors.ProxyAgent)?t.interceptors.ProxyAgent:[],this[eie]=t.requestTls,this[kTe]=t.proxyTls,this[uS]=t.headers||{},t.auth&&t.token)throw new JO("opts.auth cannot be used in combination with opts.token");t.auth?this[uS]["proxy-authorization"]=`Basic ${t.auth}`:t.token?this[uS]["proxy-authorization"]=t.token:c&&u&&(this[uS]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(c)}:${decodeURIComponent(u)}`).toString("base64")}`);let m=_Te({...t.proxyTls});this[BTe]=_Te({...t.requestTls}),this[KO]=r(n,{connect:m}),this[YO]=new g2t({...t,connect:o(async(h,p)=>{let A=h.host;h.port||(A+=`:${x2t(h.protocol)}`);try{let{socket:E,statusCode:x}=await this[KO].connect({origin:s,port:a,path:A,signal:h.signal,headers:{...this[uS],host:h.host},servername:this[kTe]?.servername||f});if(x!==200&&(E.on("error",v2t).destroy(),p(new C2t(`Proxy response (${x}) !== 200 when HTTP Tunneling`))),h.protocol!=="https:"){p(null,E);return}let b;this[eie]?b=this[eie].servername:b=h.servername,this[BTe]({...h,servername:b,httpSocket:E},p)}catch(E){E.code==="ERR_TLS_CERT_ALTNAME_INVALID"?p(new E2t(E)):p(E)}},"connect")})}dispatch(t,r){let n=I2t(t.headers);if(T2t(n),n&&!("host"in n)&&!("Host"in n)){let{host:i}=new cS(t.origin);n.host=i}return this[YO].dispatch({...t,headers:n},r)}#e(t){return typeof t=="string"?new cS(t):t instanceof cS?t:new cS(t.uri)}async[m2t](){await this[YO].close(),await this[KO].close()}async[h2t](){await this[YO].destroy(),await this[KO].destroy()}};function I2t(e){if(Array.isArray(e)){let t={};for(let r=0;r<e.length;r+=2)t[e[r]]=e[r+1];return t}return e}o(I2t,"buildHeaders");function T2t(e){if(e&&Object.keys(e).find(r=>r.toLowerCase()==="proxy-authorization"))throw new JO("Proxy-Authorization should be sent in ProxyAgent constructor")}o(T2t,"throwIfProxyAuthIsSent");RTe.exports=tie});var QTe=V((Tqr,LTe)=>{"use strict";d();var w2t=VI(),{kClose:S2t,kDestroy:_2t,kClosed:DTe,kDestroyed:PTe,kDispatch:k2t,kNoProxyAgent:fS,kHttpProxyAgent:my,kHttpsProxyAgent:z4}=Ts(),FTe=rie(),B2t=l8(),R2t={"http:":80,"https:":443},NTe=!1,nie=class extends w2t{static{o(this,"EnvHttpProxyAgent")}#e=null;#t=null;#i=null;constructor(t={}){super(),this.#i=t,NTe||(NTe=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:r,httpsProxy:n,noProxy:i,...s}=t;this[fS]=new B2t(s);let a=r??process.env.http_proxy??process.env.HTTP_PROXY;a?this[my]=new FTe({...s,uri:a}):this[my]=this[fS];let l=n??process.env.https_proxy??process.env.HTTPS_PROXY;l?this[z4]=new FTe({...s,uri:l}):this[z4]=this[my],this.#o()}[k2t](t,r){let n=new URL(t.origin);return this.#n(n).dispatch(t,r)}async[S2t](){await this[fS].close(),this[my][DTe]||await this[my].close(),this[z4][DTe]||await this[z4].close()}async[_2t](t){await this[fS].destroy(t),this[my][PTe]||await this[my].destroy(t),this[z4][PTe]||await this[z4].destroy(t)}#n(t){let{protocol:r,host:n,port:i}=t;return n=n.replace(/:\d*$/,"").toLowerCase(),i=Number.parseInt(i,10)||R2t[r]||0,this.#r(n,i)?r==="https:"?this[z4]:this[my]:this[fS]}#r(t,r){if(this.#s&&this.#o(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let n=0;n<this.#t.length;n++){let i=this.#t[n];if(!(i.port&&i.port!==r)){if(/^[.*]/.test(i.hostname)){if(t.endsWith(i.hostname.replace(/^\*/,"")))return!1}else if(t===i.hostname)return!1}}return!0}#o(){let t=this.#i.noProxy??this.#a,r=t.split(/[,\s]/),n=[];for(let i=0;i<r.length;i++){let s=r[i];if(!s)continue;let a=s.match(/^(.+):(\d+)$/);n.push({hostname:(a?a[1]:s).toLowerCase(),port:a?Number.parseInt(a[2],10):0})}this.#e=t,this.#t=n}get#s(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};LTe.exports=nie});var XO=V((_qr,qTe)=>{"use strict";d();var c8=require("node:assert"),{kRetryHandlerDefaultRetry:MTe}=Ts(),{RequestRetryError:dS}=lo(),{isDisturbed:OTe,parseHeaders:D2t,parseRangeHeader:UTe,wrapRequestBody:P2t}=fi();function F2t(e){let t=Date.now();return new Date(e).getTime()-t}o(F2t,"calculateRetryAfterHeader");var iie=class e{static{o(this,"RetryHandler")}constructor(t,r){let{retryOptions:n,...i}=t,{retry:s,maxRetries:a,maxTimeout:l,minTimeout:c,timeoutFactor:u,methods:f,errorCodes:m,retryAfter:h,statusCodes:p}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts={...i,body:P2t(t.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:s??e[MTe],retryAfter:h??!0,maxTimeout:l??30*1e3,minTimeout:c??500,timeoutFactor:u??2,maxRetries:a??5,methods:f??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:p??[500,502,503,504,429],errorCodes:m??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(A=>{this.aborted=!0,this.abort?this.abort(A):this.reason=A})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(t,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(t,r,n)}onConnect(t){this.aborted?t(this.reason):this.abort=t}onBodySent(t){if(this.handler.onBodySent)return this.handler.onBodySent(t)}static[MTe](t,{state:r,opts:n},i){let{statusCode:s,code:a,headers:l}=t,{method:c,retryOptions:u}=n,{maxRetries:f,minTimeout:m,maxTimeout:h,timeoutFactor:p,statusCodes:A,errorCodes:E,methods:x}=u,{counter:b}=r;if(a&&a!=="UND_ERR_REQ_RETRY"&&!E.includes(a)){i(t);return}if(Array.isArray(x)&&!x.includes(c)){i(t);return}if(s!=null&&Array.isArray(A)&&!A.includes(s)){i(t);return}if(b>f){i(t);return}let v=l?.["retry-after"];v&&(v=Number(v),v=Number.isNaN(v)?F2t(v):v*1e3);let S=v>0?Math.min(v,h):Math.min(m*p**(b-1),h);setTimeout(()=>i(null),S)}onHeaders(t,r,n,i){let s=D2t(r);if(this.retryCount+=1,t>=300)return this.retryOpts.statusCodes.includes(t)===!1?this.handler.onHeaders(t,r,n,i):(this.abort(new dS("Request failed",t,{headers:s,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,t!==206&&(this.start>0||t!==200))return this.abort(new dS("server does not support the range header and the payload was partially consumed",t,{headers:s,data:{count:this.retryCount}})),!1;let l=UTe(s["content-range"]);if(!l)return this.abort(new dS("Content-Range mismatch",t,{headers:s,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==s.etag)return this.abort(new dS("ETag mismatch",t,{headers:s,data:{count:this.retryCount}})),!1;let{start:c,size:u,end:f=u-1}=l;return c8(this.start===c,"content-range mismatch"),c8(this.end==null||this.end===f,"content-range mismatch"),this.resume=n,!0}if(this.end==null){if(t===206){let l=UTe(s["content-range"]);if(l==null)return this.handler.onHeaders(t,r,n,i);let{start:c,size:u,end:f=u-1}=l;c8(c!=null&&Number.isFinite(c),"content-range mismatch"),c8(f!=null&&Number.isFinite(f),"invalid content-length"),this.start=c,this.end=f}if(this.end==null){let l=s["content-length"];this.end=l!=null?Number(l)-1:null}return c8(Number.isFinite(this.start)),c8(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=n,this.etag=s.etag!=null?s.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(t,r,n,i)}let a=new dS("Request failed",t,{headers:s,data:{count:this.retryCount}});return this.abort(a),!1}onData(t){return this.start+=t.length,this.handler.onData(t)}onComplete(t){return this.retryCount=0,this.handler.onComplete(t)}onError(t){if(this.aborted||OTe(this.opts.body))return this.handler.onError(t);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(t,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||OTe(this.opts.body))return this.handler.onError(n);if(this.start!==0){let i={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(i["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...i}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}o(r,"onRetry")}};qTe.exports=iie});var GTe=V((Rqr,WTe)=>{"use strict";d();var N2t=Qw(),L2t=XO(),oie=class extends N2t{static{o(this,"RetryAgent")}#e=null;#t=null;constructor(t,r={}){super(r),this.#e=t,this.#t=r}dispatch(t,r){let n=new L2t({...t,retryOptions:this.#t},{dispatch:this.#e.dispatch.bind(this.#e),handler:r});return this.#e.dispatch(t,n)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};WTe.exports=oie});var fie=V((Fqr,XTe)=>{"use strict";d();var zTe=require("node:assert"),{Readable:Q2t}=require("node:stream"),{RequestAbortedError:YTe,NotSupportedError:M2t,InvalidArgumentError:O2t,AbortError:sie}=lo(),KTe=fi(),{ReadableStreamFrom:U2t}=fi(),zu=Symbol("kConsume"),mS=Symbol("kReading"),hy=Symbol("kBody"),HTe=Symbol("kAbort"),JTe=Symbol("kContentType"),VTe=Symbol("kContentLength"),q2t=o(()=>{},"noop"),aie=class extends Q2t{static{o(this,"BodyReadable")}constructor({resume:t,abort:r,contentType:n="",contentLength:i,highWaterMark:s=64*1024}){super({autoDestroy:!0,read:t,highWaterMark:s}),this._readableState.dataEmitted=!1,this[HTe]=r,this[zu]=null,this[hy]=null,this[JTe]=n,this[VTe]=i,this[mS]=!1}destroy(t){return!t&&!this._readableState.endEmitted&&(t=new YTe),t&&this[HTe](),super.destroy(t)}_destroy(t,r){this[mS]?r(t):setImmediate(()=>{r(t)})}on(t,...r){return(t==="data"||t==="readable")&&(this[mS]=!0),super.on(t,...r)}addListener(t,...r){return this.on(t,...r)}off(t,...r){let n=super.off(t,...r);return(t==="data"||t==="readable")&&(this[mS]=this.listenerCount("data")>0||this.listenerCount("readable")>0),n}removeListener(t,...r){return this.off(t,...r)}push(t){return this[zu]&&t!==null?(cie(this[zu],t),this[mS]?super.push(t):!0):super.push(t)}async text(){return hS(this,"text")}async json(){return hS(this,"json")}async blob(){return hS(this,"blob")}async bytes(){return hS(this,"bytes")}async arrayBuffer(){return hS(this,"arrayBuffer")}async formData(){throw new M2t}get bodyUsed(){return KTe.isDisturbed(this)}get body(){return this[hy]||(this[hy]=U2t(this),this[zu]&&(this[hy].getReader(),zTe(this[hy].locked))),this[hy]}async dump(t){let r=Number.isFinite(t?.limit)?t.limit:131072,n=t?.signal;if(n!=null&&(typeof n!="object"||!("aborted"in n)))throw new O2t("signal must be an AbortSignal");return n?.throwIfAborted(),this._readableState.closeEmitted?null:await new Promise((i,s)=>{this[VTe]>r&&this.destroy(new sie);let a=o(()=>{this.destroy(n.reason??new sie)},"onAbort");n?.addEventListener("abort",a),this.on("close",function(){n?.removeEventListener("abort",a),n?.aborted?s(n.reason??new sie):i(null)}).on("error",q2t).on("data",function(l){r-=l.length,r<=0&&this.destroy()}).resume()})}};function W2t(e){return e[hy]&&e[hy].locked===!0||e[zu]}o(W2t,"isLocked");function G2t(e){return KTe.isDisturbed(e)||W2t(e)}o(G2t,"isUnusable");async function hS(e,t){return zTe(!e[zu]),new Promise((r,n)=>{if(G2t(e)){let i=e._readableState;i.destroyed&&i.closeEmitted===!1?e.on("error",s=>{n(s)}).on("close",()=>{n(new TypeError("unusable"))}):n(i.errored??new TypeError("unusable"))}else queueMicrotask(()=>{e[zu]={type:t,stream:e,resolve:r,reject:n,length:0,body:[]},e.on("error",function(i){uie(this[zu],i)}).on("close",function(){this[zu].body!==null&&uie(this[zu],new YTe)}),H2t(e[zu])})})}o(hS,"consume");function H2t(e){if(e.body===null)return;let{_readableState:t}=e.stream;if(t.bufferIndex){let r=t.bufferIndex,n=t.buffer.length;for(let i=r;i<n;i++)cie(e,t.buffer[i])}else for(let r of t.buffer)cie(e,r);for(t.endEmitted?$Te(this[zu]):e.stream.on("end",function(){$Te(this[zu])}),e.stream.resume();e.stream.read()!=null;);}o(H2t,"consumeStart");function lie(e,t){if(e.length===0||t===0)return"";let r=e.length===1?e[0]:Buffer.concat(e,t),n=r.length,i=n>2&&r[0]===239&&r[1]===187&&r[2]===191?3:0;return r.utf8Slice(i,n)}o(lie,"chunksDecode");function jTe(e,t){if(e.length===0||t===0)return new Uint8Array(0);if(e.length===1)return new Uint8Array(e[0]);let r=new Uint8Array(Buffer.allocUnsafeSlow(t).buffer),n=0;for(let i=0;i<e.length;++i){let s=e[i];r.set(s,n),n+=s.length}return r}o(jTe,"chunksConcat");function $Te(e){let{type:t,body:r,resolve:n,stream:i,length:s}=e;try{t==="text"?n(lie(r,s)):t==="json"?n(JSON.parse(lie(r,s))):t==="arrayBuffer"?n(jTe(r,s).buffer):t==="blob"?n(new Blob(r,{type:i[JTe]})):t==="bytes"&&n(jTe(r,s)),uie(e)}catch(a){i.destroy(a)}}o($Te,"consumeEnd");function cie(e,t){e.length+=t.length,e.body.push(t)}o(cie,"consumePush");function uie(e,t){e.body!==null&&(t?e.reject(t):e.resolve(),e.type=null,e.stream=null,e.resolve=null,e.reject=null,e.length=0,e.body=null)}o(uie,"consumeFinish");XTe.exports={Readable:aie,chunksDecode:lie}});var die=V((Qqr,nwe)=>{d();var V2t=require("node:assert"),{ResponseStatusCodeError:ZTe}=lo(),{chunksDecode:ewe}=fie(),j2t=128*1024;async function $2t({callback:e,body:t,contentType:r,statusCode:n,statusMessage:i,headers:s}){V2t(t);let a=[],l=0;try{for await(let m of t)if(a.push(m),l+=m.length,l>j2t){a=[],l=0;break}}catch{a=[],l=0}let c=`Response status code ${n}${i?`: ${i}`:""}`;if(n===204||!r||!l){queueMicrotask(()=>e(new ZTe(c,n,s)));return}let u=Error.stackTraceLimit;Error.stackTraceLimit=0;let f;try{twe(r)?f=JSON.parse(ewe(a,l)):rwe(r)&&(f=ewe(a,l))}catch{}finally{Error.stackTraceLimit=u}queueMicrotask(()=>e(new ZTe(c,n,s,f)))}o($2t,"getResolveErrorBodyCallback");var twe=o(e=>e.length>15&&e[11]==="/"&&e[0]==="a"&&e[1]==="p"&&e[2]==="p"&&e[3]==="l"&&e[4]==="i"&&e[5]==="c"&&e[6]==="a"&&e[7]==="t"&&e[8]==="i"&&e[9]==="o"&&e[10]==="n"&&e[12]==="j"&&e[13]==="s"&&e[14]==="o"&&e[15]==="n","isContentTypeApplicationJson"),rwe=o(e=>e.length>4&&e[4]==="/"&&e[0]==="t"&&e[1]==="e"&&e[2]==="x"&&e[3]==="t","isContentTypeText");nwe.exports={getResolveErrorBodyCallback:$2t,isContentTypeApplicationJson:twe,isContentTypeText:rwe}});var swe=V((Uqr,mie)=>{"use strict";d();var z2t=require("node:assert"),{Readable:Y2t}=fie(),{InvalidArgumentError:u8,RequestAbortedError:iwe}=lo(),Yu=fi(),{getResolveErrorBodyCallback:K2t}=die(),{AsyncResource:J2t}=require("node:async_hooks"),ZO=class extends J2t{static{o(this,"RequestHandler")}constructor(t,r){if(!t||typeof t!="object")throw new u8("invalid opts");let{signal:n,method:i,opaque:s,body:a,onInfo:l,responseHeaders:c,throwOnError:u,highWaterMark:f}=t;try{if(typeof r!="function")throw new u8("invalid callback");if(f&&(typeof f!="number"||f<0))throw new u8("invalid highWaterMark");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new u8("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new u8("invalid method");if(l&&typeof l!="function")throw new u8("invalid onInfo callback");super("UNDICI_REQUEST")}catch(m){throw Yu.isStream(a)&&Yu.destroy(a.on("error",Yu.nop),m),m}this.method=i,this.responseHeaders=c||null,this.opaque=s||null,this.callback=r,this.res=null,this.abort=null,this.body=a,this.trailers={},this.context=null,this.onInfo=l||null,this.throwOnError=u,this.highWaterMark=f,this.signal=n,this.reason=null,this.removeAbortListener=null,Yu.isStream(a)&&a.on("error",m=>{this.onError(m)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new iwe:this.removeAbortListener=Yu.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new iwe,this.res?Yu.destroy(this.res.on("error",Yu.nop),this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(t,r){if(this.reason){t(this.reason);return}z2t(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{callback:s,opaque:a,abort:l,context:c,responseHeaders:u,highWaterMark:f}=this,m=u==="raw"?Yu.parseRawHeaders(r):Yu.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:m});return}let h=u==="raw"?Yu.parseHeaders(r):m,p=h["content-type"],A=h["content-length"],E=new Y2t({resume:n,abort:l,contentType:p,contentLength:this.method!=="HEAD"&&A?Number(A):null,highWaterMark:f});this.removeAbortListener&&E.on("close",this.removeAbortListener),this.callback=null,this.res=E,s!==null&&(this.throwOnError&&t>=400?this.runInAsyncScope(K2t,null,{callback:s,body:E,contentType:p,statusCode:t,statusMessage:i,headers:m}):this.runInAsyncScope(s,null,null,{statusCode:t,headers:m,trailers:this.trailers,opaque:a,body:E,context:c}))}onData(t){return this.res.push(t)}onComplete(t){Yu.parseHeaders(t,this.trailers),this.res.push(null)}onError(t){let{res:r,callback:n,body:i,opaque:s}=this;n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:s})})),r&&(this.res=null,queueMicrotask(()=>{Yu.destroy(r,t)})),i&&(this.body=null,Yu.destroy(i,t)),this.removeAbortListener&&(r?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function owe(e,t){if(t===void 0)return new Promise((r,n)=>{owe.call(this,e,(i,s)=>i?n(i):r(s))});try{this.dispatch(e,new ZO(e,t))}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(owe,"request");mie.exports=owe;mie.exports.RequestHandler=ZO});var pS=V((Gqr,cwe)=>{d();var{addAbortListener:X2t}=fi(),{RequestAbortedError:Z2t}=lo(),f8=Symbol("kListener"),Qp=Symbol("kSignal");function awe(e){e.abort?e.abort(e[Qp]?.reason):e.reason=e[Qp]?.reason??new Z2t,lwe(e)}o(awe,"abort");function e5t(e,t){if(e.reason=null,e[Qp]=null,e[f8]=null,!!t){if(t.aborted){awe(e);return}e[Qp]=t,e[f8]=()=>{awe(e)},X2t(e[Qp],e[f8])}}o(e5t,"addSignal");function lwe(e){e[Qp]&&("removeEventListener"in e[Qp]?e[Qp].removeEventListener("abort",e[f8]):e[Qp].removeListener("abort",e[f8]),e[Qp]=null,e[f8]=null)}o(lwe,"removeSignal");cwe.exports={addSignal:e5t,removeSignal:lwe}});var mwe=V((jqr,dwe)=>{"use strict";d();var t5t=require("node:assert"),{finished:r5t,PassThrough:n5t}=require("node:stream"),{InvalidArgumentError:d8,InvalidReturnValueError:i5t}=lo(),Jm=fi(),{getResolveErrorBodyCallback:o5t}=die(),{AsyncResource:s5t}=require("node:async_hooks"),{addSignal:a5t,removeSignal:uwe}=pS(),hie=class extends s5t{static{o(this,"StreamHandler")}constructor(t,r,n){if(!t||typeof t!="object")throw new d8("invalid opts");let{signal:i,method:s,opaque:a,body:l,onInfo:c,responseHeaders:u,throwOnError:f}=t;try{if(typeof n!="function")throw new d8("invalid callback");if(typeof r!="function")throw new d8("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new d8("signal must be an EventEmitter or EventTarget");if(s==="CONNECT")throw new d8("invalid method");if(c&&typeof c!="function")throw new d8("invalid onInfo callback");super("UNDICI_STREAM")}catch(m){throw Jm.isStream(l)&&Jm.destroy(l.on("error",Jm.nop),m),m}this.responseHeaders=u||null,this.opaque=a||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=l,this.onInfo=c||null,this.throwOnError=f||!1,Jm.isStream(l)&&l.on("error",m=>{this.onError(m)}),a5t(this,i)}onConnect(t,r){if(this.reason){t(this.reason);return}t5t(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{factory:s,opaque:a,context:l,callback:c,responseHeaders:u}=this,f=u==="raw"?Jm.parseRawHeaders(r):Jm.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:f});return}this.factory=null;let m;if(this.throwOnError&&t>=400){let A=(u==="raw"?Jm.parseHeaders(r):f)["content-type"];m=new n5t,this.callback=null,this.runInAsyncScope(o5t,null,{callback:c,body:m,contentType:A,statusCode:t,statusMessage:i,headers:f})}else{if(s===null)return;if(m=this.runInAsyncScope(s,null,{statusCode:t,headers:f,opaque:a,context:l}),!m||typeof m.write!="function"||typeof m.end!="function"||typeof m.on!="function")throw new i5t("expected Writable");r5t(m,{readable:!1},p=>{let{callback:A,res:E,opaque:x,trailers:b,abort:v}=this;this.res=null,(p||!E.readable)&&Jm.destroy(E,p),this.callback=null,this.runInAsyncScope(A,null,p||null,{opaque:x,trailers:b}),p&&v()})}return m.on("drain",n),this.res=m,(m.writableNeedDrain!==void 0?m.writableNeedDrain:m._writableState?.needDrain)!==!0}onData(t){let{res:r}=this;return r?r.write(t):!0}onComplete(t){let{res:r}=this;uwe(this),r&&(this.trailers=Jm.parseHeaders(t),r.end())}onError(t){let{res:r,callback:n,opaque:i,body:s}=this;uwe(this),this.factory=null,r?(this.res=null,Jm.destroy(r,t)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:i})})),s&&(this.body=null,Jm.destroy(s,t))}};function fwe(e,t,r){if(r===void 0)return new Promise((n,i)=>{fwe.call(this,e,t,(s,a)=>s?i(s):n(a))});try{this.dispatch(e,new hie(e,t,r))}catch(n){if(typeof r!="function")throw n;let i=e?.opaque;queueMicrotask(()=>r(n,{opaque:i}))}}o(fwe,"stream");dwe.exports=fwe});var Awe=V((Yqr,gwe)=>{"use strict";d();var{Readable:pwe,Duplex:l5t,PassThrough:c5t}=require("node:stream"),{InvalidArgumentError:gS,InvalidReturnValueError:u5t,RequestAbortedError:pie}=lo(),vd=fi(),{AsyncResource:f5t}=require("node:async_hooks"),{addSignal:d5t,removeSignal:m5t}=pS(),hwe=require("node:assert"),m8=Symbol("resume"),gie=class extends pwe{static{o(this,"PipelineRequest")}constructor(){super({autoDestroy:!0}),this[m8]=null}_read(){let{[m8]:t}=this;t&&(this[m8]=null,t())}_destroy(t,r){this._read(),r(t)}},Aie=class extends pwe{static{o(this,"PipelineResponse")}constructor(t){super({autoDestroy:!0}),this[m8]=t}_read(){this[m8]()}_destroy(t,r){!t&&!this._readableState.endEmitted&&(t=new pie),r(t)}},yie=class extends f5t{static{o(this,"PipelineHandler")}constructor(t,r){if(!t||typeof t!="object")throw new gS("invalid opts");if(typeof r!="function")throw new gS("invalid handler");let{signal:n,method:i,opaque:s,onInfo:a,responseHeaders:l}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new gS("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new gS("invalid method");if(a&&typeof a!="function")throw new gS("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=l||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=a||null,this.req=new gie().on("error",vd.nop),this.ret=new l5t({readableObjectMode:t.objectMode,autoDestroy:!0,read:o(()=>{let{body:c}=this;c?.resume&&c.resume()},"read"),write:o((c,u,f)=>{let{req:m}=this;m.push(c,u)||m._readableState.destroyed?f():m[m8]=f},"write"),destroy:o((c,u)=>{let{body:f,req:m,res:h,ret:p,abort:A}=this;!c&&!p._readableState.endEmitted&&(c=new pie),A&&c&&A(),vd.destroy(f,c),vd.destroy(m,c),vd.destroy(h,c),m5t(this),u(c)},"destroy")}).on("prefinish",()=>{let{req:c}=this;c.push(null)}),this.res=null,d5t(this,n)}onConnect(t,r){let{ret:n,res:i}=this;if(this.reason){t(this.reason);return}hwe(!i,"pipeline cannot be retried"),hwe(!n.destroyed),this.abort=t,this.context=r}onHeaders(t,r,n){let{opaque:i,handler:s,context:a}=this;if(t<200){if(this.onInfo){let c=this.responseHeaders==="raw"?vd.parseRawHeaders(r):vd.parseHeaders(r);this.onInfo({statusCode:t,headers:c})}return}this.res=new Aie(n);let l;try{this.handler=null;let c=this.responseHeaders==="raw"?vd.parseRawHeaders(r):vd.parseHeaders(r);l=this.runInAsyncScope(s,null,{statusCode:t,headers:c,opaque:i,body:this.res,context:a})}catch(c){throw this.res.on("error",vd.nop),c}if(!l||typeof l.on!="function")throw new u5t("expected Readable");l.on("data",c=>{let{ret:u,body:f}=this;!u.push(c)&&f.pause&&f.pause()}).on("error",c=>{let{ret:u}=this;vd.destroy(u,c)}).on("end",()=>{let{ret:c}=this;c.push(null)}).on("close",()=>{let{ret:c}=this;c._readableState.ended||vd.destroy(c,new pie)}),this.body=l}onData(t){let{res:r}=this;return r.push(t)}onComplete(t){let{res:r}=this;r.push(null)}onError(t){let{ret:r}=this;this.handler=null,vd.destroy(r,t)}};function h5t(e,t){try{let r=new yie(e,t);return this.dispatch({...e,body:r.req},r),r.ret}catch(r){return new c5t().destroy(r)}}o(h5t,"pipeline");gwe.exports=h5t});var vwe=V((Xqr,bwe)=>{"use strict";d();var{InvalidArgumentError:Cie,SocketError:p5t}=lo(),{AsyncResource:g5t}=require("node:async_hooks"),ywe=fi(),{addSignal:A5t,removeSignal:Cwe}=pS(),Ewe=require("node:assert"),Eie=class extends g5t{static{o(this,"UpgradeHandler")}constructor(t,r){if(!t||typeof t!="object")throw new Cie("invalid opts");if(typeof r!="function")throw new Cie("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new Cie("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=r,this.abort=null,this.context=null,A5t(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}Ewe(this.callback),this.abort=t,this.context=null}onHeaders(){throw new p5t("bad upgrade",null)}onUpgrade(t,r,n){Ewe(t===101);let{callback:i,opaque:s,context:a}=this;Cwe(this),this.callback=null;let l=this.responseHeaders==="raw"?ywe.parseRawHeaders(r):ywe.parseHeaders(r);this.runInAsyncScope(i,null,null,{headers:l,socket:n,opaque:s,context:a})}onError(t){let{callback:r,opaque:n}=this;Cwe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function xwe(e,t){if(t===void 0)return new Promise((r,n)=>{xwe.call(this,e,(i,s)=>i?n(i):r(s))});try{let r=new Eie(e,t);this.dispatch({...e,method:e.method||"GET",upgrade:e.protocol||"Websocket"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(xwe,"upgrade");bwe.exports=xwe});var _we=V((tWr,Swe)=>{"use strict";d();var y5t=require("node:assert"),{AsyncResource:C5t}=require("node:async_hooks"),{InvalidArgumentError:xie,SocketError:E5t}=lo(),Iwe=fi(),{addSignal:x5t,removeSignal:Twe}=pS(),bie=class extends C5t{static{o(this,"ConnectHandler")}constructor(t,r){if(!t||typeof t!="object")throw new xie("invalid opts");if(typeof r!="function")throw new xie("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new xie("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=s||null,this.callback=r,this.abort=null,x5t(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}y5t(this.callback),this.abort=t,this.context=r}onHeaders(){throw new E5t("bad connect",null)}onUpgrade(t,r,n){let{callback:i,opaque:s,context:a}=this;Twe(this),this.callback=null;let l=r;l!=null&&(l=this.responseHeaders==="raw"?Iwe.parseRawHeaders(r):Iwe.parseHeaders(r)),this.runInAsyncScope(i,null,null,{statusCode:t,headers:l,socket:n,opaque:s,context:a})}onError(t){let{callback:r,opaque:n}=this;Twe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function wwe(e,t){if(t===void 0)return new Promise((r,n)=>{wwe.call(this,e,(i,s)=>i?n(i):r(s))});try{let r=new bie(e,t);this.dispatch({...e,method:"CONNECT"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(wwe,"connect");Swe.exports=wwe});var kwe=V((iWr,h8)=>{"use strict";d();h8.exports.request=swe();h8.exports.stream=mwe();h8.exports.pipeline=Awe();h8.exports.upgrade=vwe();h8.exports.connect=_we()});var Iie=V((sWr,Bwe)=>{"use strict";d();var{UndiciError:b5t}=lo(),vie=class e extends b5t{static{o(this,"MockNotMatchedError")}constructor(t){super(t),Error.captureStackTrace(this,e),this.name="MockNotMatchedError",this.message=t||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};Bwe.exports={MockNotMatchedError:vie}});var p8=V((cWr,Rwe)=>{"use strict";d();Rwe.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var AS=V((fWr,Wwe)=>{"use strict";d();var{MockNotMatchedError:Y4}=Iie(),{kDispatches:eU,kMockAgent:v5t,kOriginalDispatch:I5t,kOrigin:T5t,kGetNetConnect:w5t}=p8(),{buildURL:S5t}=fi(),{STATUS_CODES:_5t}=require("node:http"),{types:{isPromise:k5t}}=require("node:util");function $1(e,t){return typeof e=="string"?e===t:e instanceof RegExp?e.test(t):typeof e=="function"?e(t)===!0:!1}o($1,"matchValue");function Pwe(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t.toLocaleLowerCase(),r]))}o(Pwe,"lowerCaseEntries");function Fwe(e,t){if(Array.isArray(e)){for(let r=0;r<e.length;r+=2)if(e[r].toLocaleLowerCase()===t.toLocaleLowerCase())return e[r+1];return}else return typeof e.get=="function"?e.get(t):Pwe(e)[t.toLocaleLowerCase()]}o(Fwe,"getHeaderByName");function Sie(e){let t=e.slice(),r=[];for(let n=0;n<t.length;n+=2)r.push([t[n],t[n+1]]);return Object.fromEntries(r)}o(Sie,"buildHeadersFromArray");function Nwe(e,t){if(typeof e.headers=="function")return Array.isArray(t)&&(t=Sie(t)),e.headers(t?Pwe(t):{});if(typeof e.headers>"u")return!0;if(typeof t!="object"||typeof e.headers!="object")return!1;for(let[r,n]of Object.entries(e.headers)){let i=Fwe(t,r);if(!$1(n,i))return!1}return!0}o(Nwe,"matchHeaders");function Dwe(e){if(typeof e!="string")return e;let t=e.split("?");if(t.length!==2)return e;let r=new URLSearchParams(t.pop());return r.sort(),[...t,r.toString()].join("?")}o(Dwe,"safeUrl");function B5t(e,{path:t,method:r,body:n,headers:i}){let s=$1(e.path,t),a=$1(e.method,r),l=typeof e.body<"u"?$1(e.body,n):!0,c=Nwe(e,i);return s&&a&&l&&c}o(B5t,"matchKey");function Lwe(e){return Buffer.isBuffer(e)||e instanceof Uint8Array||e instanceof ArrayBuffer?e:typeof e=="object"?JSON.stringify(e):e.toString()}o(Lwe,"getResponseData");function Qwe(e,t){let r=t.query?S5t(t.path,t.query):t.path,n=typeof r=="string"?Dwe(r):r,i=e.filter(({consumed:s})=>!s).filter(({path:s})=>$1(Dwe(s),n));if(i.length===0)throw new Y4(`Mock dispatch not matched for path '${n}'`);if(i=i.filter(({method:s})=>$1(s,t.method)),i.length===0)throw new Y4(`Mock dispatch not matched for method '${t.method}' on path '${n}'`);if(i=i.filter(({body:s})=>typeof s<"u"?$1(s,t.body):!0),i.length===0)throw new Y4(`Mock dispatch not matched for body '${t.body}' on path '${n}'`);if(i=i.filter(s=>Nwe(s,t.headers)),i.length===0){let s=typeof t.headers=="object"?JSON.stringify(t.headers):t.headers;throw new Y4(`Mock dispatch not matched for headers '${s}' on path '${n}'`)}return i[0]}o(Qwe,"getMockDispatch");function R5t(e,t,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof r=="function"?{callback:r}:{...r},s={...n,...t,pending:!0,data:{error:null,...i}};return e.push(s),s}o(R5t,"addMockDispatch");function Tie(e,t){let r=e.findIndex(n=>n.consumed?B5t(n,t):!1);r!==-1&&e.splice(r,1)}o(Tie,"deleteMockDispatch");function Mwe(e){let{path:t,method:r,body:n,headers:i,query:s}=e;return{path:t,method:r,body:n,headers:i,query:s}}o(Mwe,"buildKey");function wie(e){let t=Object.keys(e),r=[];for(let n=0;n<t.length;++n){let i=t[n],s=e[i],a=Buffer.from(`${i}`);if(Array.isArray(s))for(let l=0;l<s.length;++l)r.push(a,Buffer.from(`${s[l]}`));else r.push(a,Buffer.from(`${s}`))}return r}o(wie,"generateKeyValues");function Owe(e){return _5t[e]||"unknown"}o(Owe,"getStatusText");async function D5t(e){let t=[];for await(let r of e)t.push(r);return Buffer.concat(t).toString("utf8")}o(D5t,"getResponse");function Uwe(e,t){let r=Mwe(e),n=Qwe(this[eU],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(e)});let{data:{statusCode:i,data:s,headers:a,trailers:l,error:c},delay:u,persist:f}=n,{timesInvoked:m,times:h}=n;if(n.consumed=!f&&m>=h,n.pending=m<h,c!==null)return Tie(this[eU],r),t.onError(c),!0;typeof u=="number"&&u>0?setTimeout(()=>{p(this[eU])},u):p(this[eU]);function p(E,x=s){let b=Array.isArray(e.headers)?Sie(e.headers):e.headers,v=typeof x=="function"?x({...e,headers:b}):x;if(k5t(v)){v.then(F=>p(E,F));return}let S=Lwe(v),B=wie(a),P=wie(l);t.onConnect?.(F=>t.onError(F),null),t.onHeaders?.(i,B,A,Owe(i)),t.onData?.(Buffer.from(S)),t.onComplete?.(P),Tie(E,r)}o(p,"handleReply");function A(){}return o(A,"resume"),!0}o(Uwe,"mockDispatch");function P5t(){let e=this[v5t],t=this[T5t],r=this[I5t];return o(function(i,s){if(e.isMockActive)try{Uwe.call(this,i,s)}catch(a){if(a instanceof Y4){let l=e[w5t]();if(l===!1)throw new Y4(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect disabled)`);if(qwe(l,t))r.call(this,i,s);else throw new Y4(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect is not enabled for this origin)`)}else throw a}else r.call(this,i,s)},"dispatch")}o(P5t,"buildMockDispatch");function qwe(e,t){let r=new URL(t);return e===!0?!0:!!(Array.isArray(e)&&e.some(n=>$1(n,r.host)))}o(qwe,"checkNetConnect");function F5t(e){if(e){let{agent:t,...r}=e;return r}}o(F5t,"buildMockOptions");Wwe.exports={getResponseData:Lwe,getMockDispatch:Qwe,addMockDispatch:R5t,deleteMockDispatch:Tie,buildKey:Mwe,generateKeyValues:wie,matchValue:$1,getResponse:D5t,getStatusText:Owe,mockDispatch:Uwe,buildMockDispatch:P5t,checkNetConnect:qwe,buildMockOptions:F5t,getHeaderByName:Fwe,buildHeadersFromArray:Sie}});var Fie=V((hWr,Pie)=>{"use strict";d();var{getResponseData:N5t,buildKey:L5t,addMockDispatch:_ie}=AS(),{kDispatches:tU,kDispatchKey:rU,kDefaultHeaders:kie,kDefaultTrailers:Bie,kContentLength:Rie,kMockDispatch:nU}=p8(),{InvalidArgumentError:Mp}=lo(),{buildURL:Q5t}=fi(),g8=class{static{o(this,"MockScope")}constructor(t){this[nU]=t}delay(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new Mp("waitInMs must be a valid integer > 0");return this[nU].delay=t,this}persist(){return this[nU].persist=!0,this}times(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new Mp("repeatTimes must be a valid integer > 0");return this[nU].times=t,this}},Die=class{static{o(this,"MockInterceptor")}constructor(t,r){if(typeof t!="object")throw new Mp("opts must be an object");if(typeof t.path>"u")throw new Mp("opts.path must be defined");if(typeof t.method>"u"&&(t.method="GET"),typeof t.path=="string")if(t.query)t.path=Q5t(t.path,t.query);else{let n=new URL(t.path,"data://");t.path=n.pathname+n.search}typeof t.method=="string"&&(t.method=t.method.toUpperCase()),this[rU]=L5t(t),this[tU]=r,this[kie]={},this[Bie]={},this[Rie]=!1}createMockScopeDispatchData({statusCode:t,data:r,responseOptions:n}){let i=N5t(r),s=this[Rie]?{"content-length":i.length}:{},a={...this[kie],...s,...n.headers},l={...this[Bie],...n.trailers};return{statusCode:t,data:r,headers:a,trailers:l}}validateReplyParameters(t){if(typeof t.statusCode>"u")throw new Mp("statusCode must be defined");if(typeof t.responseOptions!="object"||t.responseOptions===null)throw new Mp("responseOptions must be an object")}reply(t){if(typeof t=="function"){let s=o(l=>{let c=t(l);if(typeof c!="object"||c===null)throw new Mp("reply options callback must return an object");let u={data:"",responseOptions:{},...c};return this.validateReplyParameters(u),{...this.createMockScopeDispatchData(u)}},"wrappedDefaultsCallback"),a=_ie(this[tU],this[rU],s);return new g8(a)}let r={statusCode:t,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(r);let n=this.createMockScopeDispatchData(r),i=_ie(this[tU],this[rU],n);return new g8(i)}replyWithError(t){if(typeof t>"u")throw new Mp("error must be defined");let r=_ie(this[tU],this[rU],{error:t});return new g8(r)}defaultReplyHeaders(t){if(typeof t>"u")throw new Mp("headers must be defined");return this[kie]=t,this}defaultReplyTrailers(t){if(typeof t>"u")throw new Mp("trailers must be defined");return this[Bie]=t,this}replyContentLength(){return this[Rie]=!0,this}};Pie.exports.MockInterceptor=Die;Pie.exports.MockScope=g8});var Qie=V((AWr,Ywe)=>{"use strict";d();var{promisify:M5t}=require("node:util"),O5t=oS(),{buildMockDispatch:U5t}=AS(),{kDispatches:Gwe,kMockAgent:Hwe,kClose:Vwe,kOriginalClose:jwe,kOrigin:$we,kOriginalDispatch:q5t,kConnected:Nie}=p8(),{MockInterceptor:W5t}=Fie(),zwe=Ts(),{InvalidArgumentError:G5t}=lo(),Lie=class extends O5t{static{o(this,"MockClient")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new G5t("Argument opts.agent must implement Agent");this[Hwe]=r.agent,this[$we]=t,this[Gwe]=[],this[Nie]=1,this[q5t]=this.dispatch,this[jwe]=this.close.bind(this),this.dispatch=U5t.call(this),this.close=this[Vwe]}get[zwe.kConnected](){return this[Nie]}intercept(t){return new W5t(t,this[Gwe])}async[Vwe](){await M5t(this[jwe])(),this[Nie]=0,this[Hwe][zwe.kClients].delete(this[$we])}};Ywe.exports=Lie});var Uie=V((EWr,rSe)=>{"use strict";d();var{promisify:H5t}=require("node:util"),V5t=a8(),{buildMockDispatch:j5t}=AS(),{kDispatches:Kwe,kMockAgent:Jwe,kClose:Xwe,kOriginalClose:Zwe,kOrigin:eSe,kOriginalDispatch:$5t,kConnected:Mie}=p8(),{MockInterceptor:z5t}=Fie(),tSe=Ts(),{InvalidArgumentError:Y5t}=lo(),Oie=class extends V5t{static{o(this,"MockPool")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new Y5t("Argument opts.agent must implement Agent");this[Jwe]=r.agent,this[eSe]=t,this[Kwe]=[],this[Mie]=1,this[$5t]=this.dispatch,this[Zwe]=this.close.bind(this),this.dispatch=j5t.call(this),this.close=this[Xwe]}get[tSe.kConnected](){return this[Mie]}intercept(t){return new z5t(t,this[Kwe])}async[Xwe](){await H5t(this[Zwe])(),this[Mie]=0,this[Jwe][tSe.kClients].delete(this[eSe])}};rSe.exports=Oie});var iSe=V((IWr,nSe)=>{"use strict";d();var K5t={pronoun:"it",is:"is",was:"was",this:"this"},J5t={pronoun:"they",is:"are",was:"were",this:"these"};nSe.exports=class{static{o(this,"Pluralizer")}constructor(t,r){this.singular=t,this.plural=r}pluralize(t){let r=t===1,n=r?K5t:J5t,i=r?this.singular:this.plural;return{...n,count:t,noun:i}}}});var sSe=V((_Wr,oSe)=>{"use strict";d();var{Transform:X5t}=require("node:stream"),{Console:Z5t}=require("node:console"),eyt=process.versions.icu?"\u2705":"Y ",tyt=process.versions.icu?"\u274C":"N ";oSe.exports=class{static{o(this,"PendingInterceptorsFormatter")}constructor({disableColors:t}={}){this.transform=new X5t({transform(r,n,i){i(null,r)}}),this.logger=new Z5t({stdout:this.transform,inspectOptions:{colors:!t&&!process.env.CI}})}format(t){let r=t.map(({method:n,path:i,data:{statusCode:s},persist:a,times:l,timesInvoked:c,origin:u})=>({Method:n,Origin:u,Path:i,"Status code":s,Persistent:a?eyt:tyt,Invocations:c,Remaining:a?1/0:l-c}));return this.logger.table(r),this.transform.read().toString()}}});var uSe=V((RWr,cSe)=>{"use strict";d();var{kClients:K4}=Ts(),ryt=l8(),{kAgent:qie,kMockAgentSet:iU,kMockAgentGet:aSe,kDispatches:Wie,kIsMockActive:oU,kNetConnect:J4,kGetNetConnect:nyt,kOptions:sU,kFactory:aU}=p8(),iyt=Qie(),oyt=Uie(),{matchValue:syt,buildMockOptions:ayt}=AS(),{InvalidArgumentError:lSe,UndiciError:lyt}=lo(),cyt=Qw(),uyt=iSe(),fyt=sSe(),Gie=class extends cyt{static{o(this,"MockAgent")}constructor(t){if(super(t),this[J4]=!0,this[oU]=!0,t?.agent&&typeof t.agent.dispatch!="function")throw new lSe("Argument opts.agent must implement Agent");let r=t?.agent?t.agent:new ryt(t);this[qie]=r,this[K4]=r[K4],this[sU]=ayt(t)}get(t){let r=this[aSe](t);return r||(r=this[aU](t),this[iU](t,r)),r}dispatch(t,r){return this.get(t.origin),this[qie].dispatch(t,r)}async close(){await this[qie].close(),this[K4].clear()}deactivate(){this[oU]=!1}activate(){this[oU]=!0}enableNetConnect(t){if(typeof t=="string"||typeof t=="function"||t instanceof RegExp)Array.isArray(this[J4])?this[J4].push(t):this[J4]=[t];else if(typeof t>"u")this[J4]=!0;else throw new lSe("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[J4]=!1}get isMockActive(){return this[oU]}[iU](t,r){this[K4].set(t,r)}[aU](t){let r=Object.assign({agent:this},this[sU]);return this[sU]&&this[sU].connections===1?new iyt(t,r):new oyt(t,r)}[aSe](t){let r=this[K4].get(t);if(r)return r;if(typeof t!="string"){let n=this[aU]("http://localhost:9999");return this[iU](t,n),n}for(let[n,i]of Array.from(this[K4]))if(i&&typeof n!="string"&&syt(n,t)){let s=this[aU](t);return this[iU](t,s),s[Wie]=i[Wie],s}}[nyt](){return this[J4]}pendingInterceptors(){let t=this[K4];return Array.from(t.entries()).flatMap(([r,n])=>n[Wie].map(i=>({...i,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:t=new fyt}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new uyt("interceptor","interceptors").pluralize(r.length);throw new lyt(`
${n.count} ${n.noun} ${n.is} pending:

${t.format(r)}
`.trim())}};cSe.exports=Gie});var lU=V((FWr,hSe)=>{"use strict";d();var fSe=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:dyt}=lo(),myt=l8();mSe()===void 0&&dSe(new myt);function dSe(e){if(!e||typeof e.dispatch!="function")throw new dyt("Argument agent must implement Agent");Object.defineProperty(globalThis,fSe,{value:e,writable:!0,enumerable:!1,configurable:!1})}o(dSe,"setGlobalDispatcher");function mSe(){return globalThis[fSe]}o(mSe,"getGlobalDispatcher");hSe.exports={setGlobalDispatcher:dSe,getGlobalDispatcher:mSe}});var cU=V((MWr,pSe)=>{"use strict";d();pSe.exports=class{static{o(this,"DecoratorHandler")}#e;constructor(t){if(typeof t!="object"||t===null)throw new TypeError("handler must be an object");this.#e=t}onConnect(...t){return this.#e.onConnect?.(...t)}onError(...t){return this.#e.onError?.(...t)}onUpgrade(...t){return this.#e.onUpgrade?.(...t)}onResponseStarted(...t){return this.#e.onResponseStarted?.(...t)}onHeaders(...t){return this.#e.onHeaders?.(...t)}onData(...t){return this.#e.onData?.(...t)}onComplete(...t){return this.#e.onComplete?.(...t)}onBodySent(...t){return this.#e.onBodySent?.(...t)}}});var ASe=V((qWr,gSe)=>{"use strict";d();var hyt=qO();gSe.exports=e=>{let t=e?.maxRedirections;return r=>o(function(i,s){let{maxRedirections:a=t,...l}=i;if(!a)return r(i,s);let c=new hyt(r,a,i,s);return r(l,c)},"redirectInterceptor")}});var CSe=V((HWr,ySe)=>{"use strict";d();var pyt=XO();ySe.exports=e=>t=>o(function(n,i){return t(n,new pyt({...n,retryOptions:{...e,...n.retryOptions}},{handler:i,dispatch:t}))},"retryInterceptor")});var xSe=V(($Wr,ESe)=>{"use strict";d();var gyt=fi(),{InvalidArgumentError:Ayt,RequestAbortedError:yyt}=lo(),Cyt=cU(),Hie=class extends Cyt{static{o(this,"DumpHandler")}#e=1024*1024;#t=null;#i=!1;#n=!1;#r=0;#o=null;#s=null;constructor({maxSize:t},r){if(super(r),t!=null&&(!Number.isFinite(t)||t<1))throw new Ayt("maxSize must be a number greater than 0");this.#e=t??this.#e,this.#s=r}onConnect(t){this.#t=t,this.#s.onConnect(this.#a.bind(this))}#a(t){this.#n=!0,this.#o=t}onHeaders(t,r,n,i){let a=gyt.parseHeaders(r)["content-length"];if(a!=null&&a>this.#e)throw new yyt(`Response size (${a}) larger than maxSize (${this.#e})`);return this.#n?!0:this.#s.onHeaders(t,r,n,i)}onError(t){this.#i||(t=this.#o??t,this.#s.onError(t))}onData(t){return this.#r=this.#r+t.length,this.#r>=this.#e&&(this.#i=!0,this.#n?this.#s.onError(this.#o):this.#s.onComplete([])),!0}onComplete(t){if(!this.#i){if(this.#n){this.#s.onError(this.reason);return}this.#s.onComplete(t)}}};function Eyt({maxSize:e}={maxSize:1024*1024}){return t=>o(function(n,i){let{dumpMaxSize:s=e}=n,a=new Hie({maxSize:s},i);return t(n,a)},"Intercept")}o(Eyt,"createDumpInterceptor");ESe.exports=Eyt});var ISe=V((KWr,vSe)=>{"use strict";d();var{isIP:xyt}=require("node:net"),{lookup:byt}=require("node:dns"),vyt=cU(),{InvalidArgumentError:A8,InformationalError:Iyt}=lo(),bSe=Math.pow(2,31)-1,Vie=class{static{o(this,"DNSInstance")}#e=0;#t=0;#i=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(t){this.#e=t.maxTTL,this.#t=t.maxItems,this.dualStack=t.dualStack,this.affinity=t.affinity,this.lookup=t.lookup??this.#n,this.pick=t.pick??this.#r}get full(){return this.#i.size===this.#t}runLookup(t,r,n){let i=this.#i.get(t.hostname);if(i==null&&this.full){n(null,t.origin);return}let s={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...r.dns,maxTTL:this.#e,maxItems:this.#t};if(i==null)this.lookup(t,s,(a,l)=>{if(a||l==null||l.length===0){n(a??new Iyt("No DNS entries found"));return}this.setRecords(t,l);let c=this.#i.get(t.hostname),u=this.pick(t,c,s.affinity),f;typeof u.port=="number"?f=`:${u.port}`:t.port!==""?f=`:${t.port}`:f="",n(null,`${t.protocol}//${u.family===6?`[${u.address}]`:u.address}${f}`)});else{let a=this.pick(t,i,s.affinity);if(a==null){this.#i.delete(t.hostname),this.runLookup(t,r,n);return}let l;typeof a.port=="number"?l=`:${a.port}`:t.port!==""?l=`:${t.port}`:l="",n(null,`${t.protocol}//${a.family===6?`[${a.address}]`:a.address}${l}`)}}#n(t,r,n){byt(t.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(i,s)=>{if(i)return n(i);let a=new Map;for(let l of s)a.set(`${l.address}:${l.family}`,l);n(null,a.values())})}#r(t,r,n){let i=null,{records:s,offset:a}=r,l;if(this.dualStack?(n==null&&(a==null||a===bSe?(r.offset=0,n=4):(r.offset++,n=(r.offset&1)===1?6:4)),s[n]!=null&&s[n].ips.length>0?l=s[n]:l=s[n===4?6:4]):l=s[n],l==null||l.ips.length===0)return i;l.offset==null||l.offset===bSe?l.offset=0:l.offset++;let c=l.offset%l.ips.length;return i=l.ips[c]??null,i==null?i:Date.now()-i.timestamp>i.ttl?(l.ips.splice(c,1),this.pick(t,r,n)):i}setRecords(t,r){let n=Date.now(),i={records:{4:null,6:null}};for(let s of r){s.timestamp=n,typeof s.ttl=="number"?s.ttl=Math.min(s.ttl,this.#e):s.ttl=this.#e;let a=i.records[s.family]??{ips:[]};a.ips.push(s),i.records[s.family]=a}this.#i.set(t.hostname,i)}getHandler(t,r){return new jie(this,t,r)}},jie=class extends vyt{static{o(this,"DNSDispatchHandler")}#e=null;#t=null;#i=null;#n=null;#r=null;constructor(t,{origin:r,handler:n,dispatch:i},s){super(n),this.#r=r,this.#n=n,this.#t={...s},this.#e=t,this.#i=i}onError(t){switch(t.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#e.dualStack){this.#e.runLookup(this.#r,this.#t,(r,n)=>{if(r)return this.#n.onError(r);let i={...this.#t,origin:n};this.#i(i,this)});return}this.#n.onError(t);return}case"ENOTFOUND":this.#e.deleteRecord(this.#r);default:this.#n.onError(t);break}}};vSe.exports=e=>{if(e?.maxTTL!=null&&(typeof e?.maxTTL!="number"||e?.maxTTL<0))throw new A8("Invalid maxTTL. Must be a positive number");if(e?.maxItems!=null&&(typeof e?.maxItems!="number"||e?.maxItems<1))throw new A8("Invalid maxItems. Must be a positive number and greater than zero");if(e?.affinity!=null&&e?.affinity!==4&&e?.affinity!==6)throw new A8("Invalid affinity. Must be either 4 or 6");if(e?.dualStack!=null&&typeof e?.dualStack!="boolean")throw new A8("Invalid dualStack. Must be a boolean");if(e?.lookup!=null&&typeof e?.lookup!="function")throw new A8("Invalid lookup. Must be a function");if(e?.pick!=null&&typeof e?.pick!="function")throw new A8("Invalid pick. Must be a function");let t=e?.dualStack??!0,r;t?r=e?.affinity??null:r=e?.affinity??4;let n={maxTTL:e?.maxTTL??1e4,lookup:e?.lookup??null,pick:e?.pick??null,dualStack:t,affinity:r,maxItems:e?.maxItems??1/0},i=new Vie(n);return s=>o(function(l,c){let u=l.origin.constructor===URL?l.origin:new URL(l.origin);return xyt(u.hostname)!==0?s(l,c):(i.runLookup(u,l,(f,m)=>{if(f)return c.onError(f);let h=null;h={...l,servername:u.hostname,origin:m,headers:{host:u.hostname,...l.headers}},s(h,i.getHandler({origin:u,dispatch:s,handler:c},l))}),!0)},"dnsInterceptor")}});var X4=V((ZWr,RSe)=>{"use strict";d();var{kConstruct:Tyt}=Ts(),{kEnumerableProperty:y8}=fi(),{iteratorMixin:wyt,isValidHeaderName:yS,isValidHeaderValue:wSe}=$u(),{webidl:qi}=$l(),$ie=require("node:assert"),uU=require("node:util"),La=Symbol("headers map"),Ku=Symbol("headers map sorted");function TSe(e){return e===10||e===13||e===9||e===32}o(TSe,"isHTTPWhiteSpaceCharCode");function SSe(e){let t=0,r=e.length;for(;r>t&&TSe(e.charCodeAt(r-1));)--r;for(;r>t&&TSe(e.charCodeAt(t));)++t;return t===0&&r===e.length?e:e.substring(t,r)}o(SSe,"headerValueNormalize");function _Se(e,t){if(Array.isArray(t))for(let r=0;r<t.length;++r){let n=t[r];if(n.length!==2)throw qi.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});zie(e,n[0],n[1])}else if(typeof t=="object"&&t!==null){let r=Object.keys(t);for(let n=0;n<r.length;++n)zie(e,r[n],t[r[n]])}else throw qi.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}o(_Se,"fill");function zie(e,t,r){if(r=SSe(r),yS(t)){if(!wSe(r))throw qi.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw qi.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header name"});if(BSe(e)==="immutable")throw new TypeError("immutable");return Yie(e).append(t,r,!1)}o(zie,"appendHeader");function kSe(e,t){return e[0]<t[0]?-1:1}o(kSe,"compareHeaderName");var fU=class e{static{o(this,"HeadersList")}cookies=null;constructor(t){t instanceof e?(this[La]=new Map(t[La]),this[Ku]=t[Ku],this.cookies=t.cookies===null?null:[...t.cookies]):(this[La]=new Map(t),this[Ku]=null)}contains(t,r){return this[La].has(r?t:t.toLowerCase())}clear(){this[La].clear(),this[Ku]=null,this.cookies=null}append(t,r,n){this[Ku]=null;let i=n?t:t.toLowerCase(),s=this[La].get(i);if(s){let a=i==="cookie"?"; ":", ";this[La].set(i,{name:s.name,value:`${s.value}${a}${r}`})}else this[La].set(i,{name:t,value:r});i==="set-cookie"&&(this.cookies??=[]).push(r)}set(t,r,n){this[Ku]=null;let i=n?t:t.toLowerCase();i==="set-cookie"&&(this.cookies=[r]),this[La].set(i,{name:t,value:r})}delete(t,r){this[Ku]=null,r||(t=t.toLowerCase()),t==="set-cookie"&&(this.cookies=null),this[La].delete(t)}get(t,r){return this[La].get(r?t:t.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:t,1:{value:r}}of this[La])yield[t,r]}get entries(){let t={};if(this[La].size!==0)for(let{name:r,value:n}of this[La].values())t[r]=n;return t}rawValues(){return this[La].values()}get entriesList(){let t=[];if(this[La].size!==0)for(let{0:r,1:{name:n,value:i}}of this[La])if(r==="set-cookie")for(let s of this.cookies)t.push([n,s]);else t.push([n,i]);return t}toSortedArray(){let t=this[La].size,r=new Array(t);if(t<=32){if(t===0)return r;let n=this[La][Symbol.iterator](),i=n.next().value;r[0]=[i[0],i[1].value],$ie(i[1].value!==null);for(let s=1,a=0,l=0,c=0,u=0,f,m;s<t;++s){for(m=n.next().value,f=r[s]=[m[0],m[1].value],$ie(f[1]!==null),c=0,l=s;c<l;)u=c+(l-c>>1),r[u][0]<=f[0]?c=u+1:l=u;if(s!==u){for(a=s;a>c;)r[a]=r[--a];r[c]=f}}if(!n.next().done)throw new TypeError("Unreachable");return r}else{let n=0;for(let{0:i,1:{value:s}}of this[La])r[n++]=[i,s],$ie(s!==null);return r.sort(kSe)}}},Xm=class e{static{o(this,"Headers")}#e;#t;constructor(t=void 0){qi.util.markAsUncloneable(this),t!==Tyt&&(this.#t=new fU,this.#e="none",t!==void 0&&(t=qi.converters.HeadersInit(t,"Headers contructor","init"),_Se(this,t)))}append(t,r){qi.brandCheck(this,e),qi.argumentLengthCheck(arguments,2,"Headers.append");let n="Headers.append";return t=qi.converters.ByteString(t,n,"name"),r=qi.converters.ByteString(r,n,"value"),zie(this,t,r)}delete(t){if(qi.brandCheck(this,e),qi.argumentLengthCheck(arguments,1,"Headers.delete"),t=qi.converters.ByteString(t,"Headers.delete","name"),!yS(t))throw qi.errors.invalidArgument({prefix:"Headers.delete",value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(t,!1)&&this.#t.delete(t,!1)}get(t){qi.brandCheck(this,e),qi.argumentLengthCheck(arguments,1,"Headers.get");let r="Headers.get";if(t=qi.converters.ByteString(t,r,"name"),!yS(t))throw qi.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.get(t,!1)}has(t){qi.brandCheck(this,e),qi.argumentLengthCheck(arguments,1,"Headers.has");let r="Headers.has";if(t=qi.converters.ByteString(t,r,"name"),!yS(t))throw qi.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.contains(t,!1)}set(t,r){qi.brandCheck(this,e),qi.argumentLengthCheck(arguments,2,"Headers.set");let n="Headers.set";if(t=qi.converters.ByteString(t,n,"name"),r=qi.converters.ByteString(r,n,"value"),r=SSe(r),yS(t)){if(!wSe(r))throw qi.errors.invalidArgument({prefix:n,value:r,type:"header value"})}else throw qi.errors.invalidArgument({prefix:n,value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(t,r,!1)}getSetCookie(){qi.brandCheck(this,e);let t=this.#t.cookies;return t?[...t]:[]}get[Ku](){if(this.#t[Ku])return this.#t[Ku];let t=[],r=this.#t.toSortedArray(),n=this.#t.cookies;if(n===null||n.length===1)return this.#t[Ku]=r;for(let i=0;i<r.length;++i){let{0:s,1:a}=r[i];if(s==="set-cookie")for(let l=0;l<n.length;++l)t.push([s,n[l]]);else t.push([s,a])}return this.#t[Ku]=t}[uU.inspect.custom](t,r){return r.depth??=t,`Headers ${uU.formatWithOptions(r,this.#t.entries)}`}static getHeadersGuard(t){return t.#e}static setHeadersGuard(t,r){t.#e=r}static getHeadersList(t){return t.#t}static setHeadersList(t,r){t.#t=r}},{getHeadersGuard:BSe,setHeadersGuard:Syt,getHeadersList:Yie,setHeadersList:_yt}=Xm;Reflect.deleteProperty(Xm,"getHeadersGuard");Reflect.deleteProperty(Xm,"setHeadersGuard");Reflect.deleteProperty(Xm,"getHeadersList");Reflect.deleteProperty(Xm,"setHeadersList");wyt("Headers",Xm,Ku,0,1);Object.defineProperties(Xm.prototype,{append:y8,delete:y8,get:y8,has:y8,set:y8,getSetCookie:y8,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[uU.inspect.custom]:{enumerable:!1}});qi.converters.HeadersInit=function(e,t,r){if(qi.util.Type(e)==="Object"){let n=Reflect.get(e,Symbol.iterator);if(!uU.types.isProxy(e)&&n===Xm.prototype.entries)try{return Yie(e).entriesList}catch{}return typeof n=="function"?qi.converters["sequence<sequence<ByteString>>"](e,t,r,n.bind(e)):qi.converters["record<ByteString, ByteString>"](e,t,r)}throw qi.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};RSe.exports={fill:_Se,compareHeaderName:kSe,Headers:Xm,HeadersList:fU,getHeadersGuard:BSe,setHeadersGuard:Syt,setHeadersList:_yt,getHeadersList:Yie}});var ES=V((rGr,qSe)=>{"use strict";d();var{Headers:QSe,HeadersList:DSe,fill:kyt,getHeadersGuard:Byt,setHeadersGuard:MSe,setHeadersList:OSe}=X4(),{extractBody:PSe,cloneBody:Ryt,mixinBody:Dyt,hasFinalizationRegistry:Pyt,streamRegistry:Fyt,bodyUnusable:Nyt}=e8(),Kie=fi(),FSe=require("node:util"),{kEnumerableProperty:Ju}=Kie,{isValidReasonPhrase:Lyt,isCancelled:Qyt,isAborted:Myt,isBlobLike:Oyt,serializeJavascriptValueToJSONString:Uyt,isErrorLike:qyt,isomorphicEncode:Wyt,environmentSettingsObject:Gyt}=$u(),{redirectStatusSet:Hyt,nullBodyStatus:Vyt}=Uw(),{kState:Js,kHeaders:z1}=iy(),{webidl:$n}=$l(),{FormData:jyt}=jw(),{URLSerializer:NSe}=Gc(),{kConstruct:mU}=Ts(),Jie=require("node:assert"),{types:$yt}=require("node:util"),zyt=new TextEncoder("utf-8"),Z4=class e{static{o(this,"Response")}static error(){return CS(hU(),"immutable")}static json(t,r={}){$n.argumentLengthCheck(arguments,1,"Response.json"),r!==null&&(r=$n.converters.ResponseInit(r));let n=zyt.encode(Uyt(t)),i=PSe(n),s=CS(C8({}),"response");return LSe(s,r,{body:i[0],type:"application/json"}),s}static redirect(t,r=302){$n.argumentLengthCheck(arguments,1,"Response.redirect"),t=$n.converters.USVString(t),r=$n.converters["unsigned short"](r);let n;try{n=new URL(t,Gyt.settingsObject.baseUrl)}catch(a){throw new TypeError(`Failed to parse URL from ${t}`,{cause:a})}if(!Hyt.has(r))throw new RangeError(`Invalid status code ${r}`);let i=CS(C8({}),"immutable");i[Js].status=r;let s=Wyt(NSe(n));return i[Js].headersList.append("location",s,!0),i}constructor(t=null,r={}){if($n.util.markAsUncloneable(this),t===mU)return;t!==null&&(t=$n.converters.BodyInit(t)),r=$n.converters.ResponseInit(r),this[Js]=C8({}),this[z1]=new QSe(mU),MSe(this[z1],"response"),OSe(this[z1],this[Js].headersList);let n=null;if(t!=null){let[i,s]=PSe(t);n={body:i,type:s}}LSe(this,r,n)}get type(){return $n.brandCheck(this,e),this[Js].type}get url(){$n.brandCheck(this,e);let t=this[Js].urlList,r=t[t.length-1]??null;return r===null?"":NSe(r,!0)}get redirected(){return $n.brandCheck(this,e),this[Js].urlList.length>1}get status(){return $n.brandCheck(this,e),this[Js].status}get ok(){return $n.brandCheck(this,e),this[Js].status>=200&&this[Js].status<=299}get statusText(){return $n.brandCheck(this,e),this[Js].statusText}get headers(){return $n.brandCheck(this,e),this[z1]}get body(){return $n.brandCheck(this,e),this[Js].body?this[Js].body.stream:null}get bodyUsed(){return $n.brandCheck(this,e),!!this[Js].body&&Kie.isDisturbed(this[Js].body.stream)}clone(){if($n.brandCheck(this,e),Nyt(this))throw $n.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let t=Xie(this[Js]);return CS(t,Byt(this[z1]))}[FSe.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${FSe.formatWithOptions(r,n)}`}};Dyt(Z4);Object.defineProperties(Z4.prototype,{type:Ju,url:Ju,status:Ju,ok:Ju,redirected:Ju,statusText:Ju,headers:Ju,clone:Ju,body:Ju,bodyUsed:Ju,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(Z4,{json:Ju,redirect:Ju,error:Ju});function Xie(e){if(e.internalResponse)return USe(Xie(e.internalResponse),e.type);let t=C8({...e,body:null});return e.body!=null&&(t.body=Ryt(t,e.body)),t}o(Xie,"cloneResponse");function C8(e){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...e,headersList:e?.headersList?new DSe(e?.headersList):new DSe,urlList:e?.urlList?[...e.urlList]:[]}}o(C8,"makeResponse");function hU(e){let t=qyt(e);return C8({type:"error",status:0,error:t?e:new Error(e&&String(e)),aborted:e&&e.name==="AbortError"})}o(hU,"makeNetworkError");function Yyt(e){return e.type==="error"&&e.status===0}o(Yyt,"isNetworkError");function dU(e,t){return t={internalResponse:e,...t},new Proxy(e,{get(r,n){return n in t?t[n]:r[n]},set(r,n,i){return Jie(!(n in t)),r[n]=i,!0}})}o(dU,"makeFilteredResponse");function USe(e,t){if(t==="basic")return dU(e,{type:"basic",headersList:e.headersList});if(t==="cors")return dU(e,{type:"cors",headersList:e.headersList});if(t==="opaque")return dU(e,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(t==="opaqueredirect")return dU(e,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});Jie(!1)}o(USe,"filterResponse");function Kyt(e,t=null){return Jie(Qyt(e)),Myt(e)?hU(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:t})):hU(Object.assign(new DOMException("Request was cancelled."),{cause:t}))}o(Kyt,"makeAppropriateNetworkError");function LSe(e,t,r){if(t.status!==null&&(t.status<200||t.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in t&&t.statusText!=null&&!Lyt(String(t.statusText)))throw new TypeError("Invalid statusText");if("status"in t&&t.status!=null&&(e[Js].status=t.status),"statusText"in t&&t.statusText!=null&&(e[Js].statusText=t.statusText),"headers"in t&&t.headers!=null&&kyt(e[z1],t.headers),r){if(Vyt.includes(e.status))throw $n.errors.exception({header:"Response constructor",message:`Invalid response status code ${e.status}`});e[Js].body=r.body,r.type!=null&&!e[Js].headersList.contains("content-type",!0)&&e[Js].headersList.append("content-type",r.type,!0)}}o(LSe,"initializeResponse");function CS(e,t){let r=new Z4(mU);return r[Js]=e,r[z1]=new QSe(mU),OSe(r[z1],e.headersList),MSe(r[z1],t),Pyt&&e.body?.stream&&Fyt.register(r,new WeakRef(e.body.stream)),r}o(CS,"fromInnerResponse");$n.converters.ReadableStream=$n.interfaceConverter(ReadableStream);$n.converters.FormData=$n.interfaceConverter(jyt);$n.converters.URLSearchParams=$n.interfaceConverter(URLSearchParams);$n.converters.XMLHttpRequestBodyInit=function(e,t,r){return typeof e=="string"?$n.converters.USVString(e,t,r):Oyt(e)?$n.converters.Blob(e,t,r,{strict:!1}):ArrayBuffer.isView(e)||$yt.isArrayBuffer(e)?$n.converters.BufferSource(e,t,r):Kie.isFormDataLike(e)?$n.converters.FormData(e,t,r,{strict:!1}):e instanceof URLSearchParams?$n.converters.URLSearchParams(e,t,r):$n.converters.DOMString(e,t,r)};$n.converters.BodyInit=function(e,t,r){return e instanceof ReadableStream?$n.converters.ReadableStream(e,t,r):e?.[Symbol.asyncIterator]?e:$n.converters.XMLHttpRequestBodyInit(e,t,r)};$n.converters.ResponseInit=$n.dictionaryConverter([{key:"status",converter:$n.converters["unsigned short"],defaultValue:o(()=>200,"defaultValue")},{key:"statusText",converter:$n.converters.ByteString,defaultValue:o(()=>"","defaultValue")},{key:"headers",converter:$n.converters.HeadersInit}]);qSe.exports={isNetworkError:Yyt,makeNetworkError:hU,makeResponse:C8,makeAppropriateNetworkError:Kyt,filterResponse:USe,Response:Z4,cloneResponse:Xie,fromInnerResponse:CS}});var VSe=V((oGr,HSe)=>{"use strict";d();var{kConnected:WSe,kSize:GSe}=Ts(),Zie=class{static{o(this,"CompatWeakRef")}constructor(t){this.value=t}deref(){return this.value[WSe]===0&&this.value[GSe]===0?void 0:this.value}},eoe=class{static{o(this,"CompatFinalizer")}constructor(t){this.finalizer=t}register(t,r){t.on&&t.on("disconnect",()=>{t[WSe]===0&&t[GSe]===0&&this.finalizer(r)})}unregister(t){}};HSe.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:Zie,FinalizationRegistry:eoe}):{WeakRef,FinalizationRegistry}}});var E8=V((lGr,s_e)=>{"use strict";d();var{extractBody:Jyt,mixinBody:Xyt,cloneBody:Zyt,bodyUnusable:jSe}=e8(),{Headers:t_e,fill:eCt,HeadersList:yU,setHeadersGuard:roe,getHeadersGuard:tCt,setHeadersList:r_e,getHeadersList:$Se}=X4(),{FinalizationRegistry:rCt}=VSe()(),gU=fi(),zSe=require("node:util"),{isValidHTTPToken:nCt,sameOrigin:YSe,environmentSettingsObject:pU}=$u(),{forbiddenMethodsSet:iCt,corsSafeListedMethodsSet:oCt,referrerPolicy:sCt,requestRedirect:aCt,requestMode:lCt,requestCredentials:cCt,requestCache:uCt,requestDuplex:fCt}=Uw(),{kEnumerableProperty:Qa,normalizedMethodRecordsBase:dCt,normalizedMethodRecords:mCt}=gU,{kHeaders:Xu,kSignal:AU,kState:is,kDispatcher:toe}=iy(),{webidl:mn}=$l(),{URLSerializer:hCt}=Gc(),{kConstruct:CU}=Ts(),pCt=require("node:assert"),{getMaxListeners:KSe,setMaxListeners:JSe,getEventListeners:gCt,defaultMaxListeners:XSe}=require("node:events"),ACt=Symbol("abortController"),n_e=new rCt(({signal:e,abort:t})=>{e.removeEventListener("abort",t)}),EU=new WeakMap;function ZSe(e){return t;function t(){let r=e.deref();if(r!==void 0){n_e.unregister(t),this.removeEventListener("abort",t),r.abort(this.reason);let n=EU.get(r.signal);if(n!==void 0){if(n.size!==0){for(let i of n){let s=i.deref();s!==void 0&&s.abort(this.reason)}n.clear()}EU.delete(r.signal)}}}}o(ZSe,"buildAbort");var e_e=!1,py=class e{static{o(this,"Request")}constructor(t,r={}){if(mn.util.markAsUncloneable(this),t===CU)return;let n="Request constructor";mn.argumentLengthCheck(arguments,1,n),t=mn.converters.RequestInfo(t,n,"input"),r=mn.converters.RequestInit(r,n,"init");let i=null,s=null,a=pU.settingsObject.baseUrl,l=null;if(typeof t=="string"){this[toe]=r.dispatcher;let b;try{b=new URL(t,a)}catch(v){throw new TypeError("Failed to parse URL from "+t,{cause:v})}if(b.username||b.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+t);i=xU({urlList:[b]}),s="cors"}else this[toe]=r.dispatcher||t[toe],pCt(t instanceof e),i=t[is],l=t[AU];let c=pU.settingsObject.origin,u="client";if(i.window?.constructor?.name==="EnvironmentSettingsObject"&&YSe(i.window,c)&&(u=i.window),r.window!=null)throw new TypeError(`'window' option '${u}' must be null`);"window"in r&&(u="no-window"),i=xU({method:i.method,headersList:i.headersList,unsafeRequest:i.unsafeRequest,client:pU.settingsObject,window:u,priority:i.priority,origin:i.origin,referrer:i.referrer,referrerPolicy:i.referrerPolicy,mode:i.mode,credentials:i.credentials,cache:i.cache,redirect:i.redirect,integrity:i.integrity,keepalive:i.keepalive,reloadNavigation:i.reloadNavigation,historyNavigation:i.historyNavigation,urlList:[...i.urlList]});let f=Object.keys(r).length!==0;if(f&&(i.mode==="navigate"&&(i.mode="same-origin"),i.reloadNavigation=!1,i.historyNavigation=!1,i.origin="client",i.referrer="client",i.referrerPolicy="",i.url=i.urlList[i.urlList.length-1],i.urlList=[i.url]),r.referrer!==void 0){let b=r.referrer;if(b==="")i.referrer="no-referrer";else{let v;try{v=new URL(b,a)}catch(S){throw new TypeError(`Referrer "${b}" is not a valid URL.`,{cause:S})}v.protocol==="about:"&&v.hostname==="client"||c&&!YSe(v,pU.settingsObject.baseUrl)?i.referrer="client":i.referrer=v}}r.referrerPolicy!==void 0&&(i.referrerPolicy=r.referrerPolicy);let m;if(r.mode!==void 0?m=r.mode:m=s,m==="navigate")throw mn.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(m!=null&&(i.mode=m),r.credentials!==void 0&&(i.credentials=r.credentials),r.cache!==void 0&&(i.cache=r.cache),i.cache==="only-if-cached"&&i.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(r.redirect!==void 0&&(i.redirect=r.redirect),r.integrity!=null&&(i.integrity=String(r.integrity)),r.keepalive!==void 0&&(i.keepalive=!!r.keepalive),r.method!==void 0){let b=r.method,v=mCt[b];if(v!==void 0)i.method=v;else{if(!nCt(b))throw new TypeError(`'${b}' is not a valid HTTP method.`);let S=b.toUpperCase();if(iCt.has(S))throw new TypeError(`'${b}' HTTP method is unsupported.`);b=dCt[S]??b,i.method=b}!e_e&&i.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),e_e=!0)}r.signal!==void 0&&(l=r.signal),this[is]=i;let h=new AbortController;if(this[AU]=h.signal,l!=null){if(!l||typeof l.aborted!="boolean"||typeof l.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(l.aborted)h.abort(l.reason);else{this[ACt]=h;let b=new WeakRef(h),v=ZSe(b);try{(typeof KSe=="function"&&KSe(l)===XSe||gCt(l,"abort").length>=XSe)&&JSe(1500,l)}catch{}gU.addAbortListener(l,v),n_e.register(h,{signal:l,abort:v},v)}}if(this[Xu]=new t_e(CU),r_e(this[Xu],i.headersList),roe(this[Xu],"request"),m==="no-cors"){if(!oCt.has(i.method))throw new TypeError(`'${i.method} is unsupported in no-cors mode.`);roe(this[Xu],"request-no-cors")}if(f){let b=$Se(this[Xu]),v=r.headers!==void 0?r.headers:new yU(b);if(b.clear(),v instanceof yU){for(let{name:S,value:B}of v.rawValues())b.append(S,B,!1);b.cookies=v.cookies}else eCt(this[Xu],v)}let p=t instanceof e?t[is].body:null;if((r.body!=null||p!=null)&&(i.method==="GET"||i.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let A=null;if(r.body!=null){let[b,v]=Jyt(r.body,i.keepalive);A=b,v&&!$Se(this[Xu]).contains("content-type",!0)&&this[Xu].append("content-type",v)}let E=A??p;if(E!=null&&E.source==null){if(A!=null&&r.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(i.mode!=="same-origin"&&i.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');i.useCORSPreflightFlag=!0}let x=E;if(A==null&&p!=null){if(jSe(t))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let b=new TransformStream;p.stream.pipeThrough(b),x={source:p.source,length:p.length,stream:b.readable}}this[is].body=x}get method(){return mn.brandCheck(this,e),this[is].method}get url(){return mn.brandCheck(this,e),hCt(this[is].url)}get headers(){return mn.brandCheck(this,e),this[Xu]}get destination(){return mn.brandCheck(this,e),this[is].destination}get referrer(){return mn.brandCheck(this,e),this[is].referrer==="no-referrer"?"":this[is].referrer==="client"?"about:client":this[is].referrer.toString()}get referrerPolicy(){return mn.brandCheck(this,e),this[is].referrerPolicy}get mode(){return mn.brandCheck(this,e),this[is].mode}get credentials(){return this[is].credentials}get cache(){return mn.brandCheck(this,e),this[is].cache}get redirect(){return mn.brandCheck(this,e),this[is].redirect}get integrity(){return mn.brandCheck(this,e),this[is].integrity}get keepalive(){return mn.brandCheck(this,e),this[is].keepalive}get isReloadNavigation(){return mn.brandCheck(this,e),this[is].reloadNavigation}get isHistoryNavigation(){return mn.brandCheck(this,e),this[is].historyNavigation}get signal(){return mn.brandCheck(this,e),this[AU]}get body(){return mn.brandCheck(this,e),this[is].body?this[is].body.stream:null}get bodyUsed(){return mn.brandCheck(this,e),!!this[is].body&&gU.isDisturbed(this[is].body.stream)}get duplex(){return mn.brandCheck(this,e),"half"}clone(){if(mn.brandCheck(this,e),jSe(this))throw new TypeError("unusable");let t=i_e(this[is]),r=new AbortController;if(this.signal.aborted)r.abort(this.signal.reason);else{let n=EU.get(this.signal);n===void 0&&(n=new Set,EU.set(this.signal,n));let i=new WeakRef(r);n.add(i),gU.addAbortListener(r.signal,ZSe(i))}return o_e(t,r.signal,tCt(this[Xu]))}[zSe.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${zSe.formatWithOptions(r,n)}`}};Xyt(py);function xU(e){return{method:e.method??"GET",localURLsOnly:e.localURLsOnly??!1,unsafeRequest:e.unsafeRequest??!1,body:e.body??null,client:e.client??null,reservedClient:e.reservedClient??null,replacesClientId:e.replacesClientId??"",window:e.window??"client",keepalive:e.keepalive??!1,serviceWorkers:e.serviceWorkers??"all",initiator:e.initiator??"",destination:e.destination??"",priority:e.priority??null,origin:e.origin??"client",policyContainer:e.policyContainer??"client",referrer:e.referrer??"client",referrerPolicy:e.referrerPolicy??"",mode:e.mode??"no-cors",useCORSPreflightFlag:e.useCORSPreflightFlag??!1,credentials:e.credentials??"same-origin",useCredentials:e.useCredentials??!1,cache:e.cache??"default",redirect:e.redirect??"follow",integrity:e.integrity??"",cryptoGraphicsNonceMetadata:e.cryptoGraphicsNonceMetadata??"",parserMetadata:e.parserMetadata??"",reloadNavigation:e.reloadNavigation??!1,historyNavigation:e.historyNavigation??!1,userActivation:e.userActivation??!1,taintedOrigin:e.taintedOrigin??!1,redirectCount:e.redirectCount??0,responseTainting:e.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:e.preventNoCacheCacheControlHeaderModification??!1,done:e.done??!1,timingAllowFailed:e.timingAllowFailed??!1,urlList:e.urlList,url:e.urlList[0],headersList:e.headersList?new yU(e.headersList):new yU}}o(xU,"makeRequest");function i_e(e){let t=xU({...e,body:null});return e.body!=null&&(t.body=Zyt(t,e.body)),t}o(i_e,"cloneRequest");function o_e(e,t,r){let n=new py(CU);return n[is]=e,n[AU]=t,n[Xu]=new t_e(CU),r_e(n[Xu],e.headersList),roe(n[Xu],r),n}o(o_e,"fromInnerRequest");Object.defineProperties(py.prototype,{method:Qa,url:Qa,headers:Qa,redirect:Qa,clone:Qa,signal:Qa,duplex:Qa,destination:Qa,body:Qa,bodyUsed:Qa,isHistoryNavigation:Qa,isReloadNavigation:Qa,keepalive:Qa,integrity:Qa,cache:Qa,credentials:Qa,attribute:Qa,referrerPolicy:Qa,referrer:Qa,mode:Qa,[Symbol.toStringTag]:{value:"Request",configurable:!0}});mn.converters.Request=mn.interfaceConverter(py);mn.converters.RequestInfo=function(e,t,r){return typeof e=="string"?mn.converters.USVString(e,t,r):e instanceof py?mn.converters.Request(e,t,r):mn.converters.USVString(e,t,r)};mn.converters.AbortSignal=mn.interfaceConverter(AbortSignal);mn.converters.RequestInit=mn.dictionaryConverter([{key:"method",converter:mn.converters.ByteString},{key:"headers",converter:mn.converters.HeadersInit},{key:"body",converter:mn.nullableConverter(mn.converters.BodyInit)},{key:"referrer",converter:mn.converters.USVString},{key:"referrerPolicy",converter:mn.converters.DOMString,allowedValues:sCt},{key:"mode",converter:mn.converters.DOMString,allowedValues:lCt},{key:"credentials",converter:mn.converters.DOMString,allowedValues:cCt},{key:"cache",converter:mn.converters.DOMString,allowedValues:uCt},{key:"redirect",converter:mn.converters.DOMString,allowedValues:aCt},{key:"integrity",converter:mn.converters.DOMString},{key:"keepalive",converter:mn.converters.boolean},{key:"signal",converter:mn.nullableConverter(e=>mn.converters.AbortSignal(e,"RequestInit","signal",{strict:!1}))},{key:"window",converter:mn.converters.any},{key:"duplex",converter:mn.converters.DOMString,allowedValues:fCt},{key:"dispatcher",converter:mn.converters.any}]);s_e.exports={Request:py,makeRequest:xU,fromInnerRequest:o_e,cloneRequest:i_e}});var bS=V((fGr,x_e)=>{"use strict";d();var{makeNetworkError:xo,makeAppropriateNetworkError:bU,filterResponse:noe,makeResponse:vU,fromInnerResponse:yCt}=ES(),{HeadersList:a_e}=X4(),{Request:CCt,cloneRequest:ECt}=E8(),gy=require("node:zlib"),{bytesMatch:xCt,makePolicyContainer:bCt,clonePolicyContainer:vCt,requestBadPort:ICt,TAOCheck:TCt,appendRequestOriginHeader:wCt,responseLocationURL:SCt,requestCurrentURL:Op,setRequestReferrerPolicyOnRedirect:_Ct,tryUpgradeRequestToAPotentiallyTrustworthyURL:kCt,createOpaqueTimingInfo:loe,appendFetchMetadata:BCt,corsCheck:RCt,crossOriginResourcePolicyCheck:DCt,determineRequestsReferrer:PCt,coarsenedSharedCurrentTime:xS,createDeferredPromise:FCt,isBlobLike:NCt,sameOrigin:aoe,isCancelled:eE,isAborted:l_e,isErrorLike:LCt,fullyReadBody:QCt,readableStreamClose:MCt,isomorphicEncode:IU,urlIsLocal:OCt,urlIsHttpHttpsScheme:coe,urlHasHttpsScheme:UCt,clampAndCoarsenConnectionTimingInfo:qCt,simpleRangeHeaderValue:WCt,buildContentRange:GCt,createInflate:HCt,extractMimeType:VCt}=$u(),{kState:d_e,kDispatcher:jCt}=iy(),tE=require("node:assert"),{safelyExtractBody:uoe,extractBody:c_e}=e8(),{redirectStatusSet:m_e,nullBodyStatus:h_e,safeMethodsSet:$Ct,requestBodyHeader:zCt,subresourceSet:YCt}=Uw(),KCt=require("node:events"),{Readable:JCt,pipeline:XCt,finished:ZCt}=require("node:stream"),{addAbortListener:e3t,isErrored:t3t,isReadable:TU,bufferToLowerCasedHeaderName:u_e}=fi(),{dataURLProcessor:r3t,serializeAMimeType:n3t,minimizeSupportedMimeType:i3t}=Gc(),{getGlobalDispatcher:o3t}=lU(),{webidl:s3t}=$l(),{STATUS_CODES:a3t}=require("node:http"),l3t=["GET","HEAD"],c3t=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",ioe,wU=class extends KCt{static{o(this,"Fetch")}constructor(t){super(),this.dispatcher=t,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(t){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(t),this.emit("terminated",t))}abort(t){this.state==="ongoing"&&(this.state="aborted",t||(t=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=t,this.connection?.destroy(t),this.emit("terminated",t))}};function u3t(e){p_e(e,"fetch")}o(u3t,"handleFetchDone");function f3t(e,t=void 0){s3t.argumentLengthCheck(arguments,1,"globalThis.fetch");let r=FCt(),n;try{n=new CCt(e,t)}catch(f){return r.reject(f),r.promise}let i=n[d_e];if(n.signal.aborted)return ooe(r,i,null,n.signal.reason),r.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let a=null,l=!1,c=null;return e3t(n.signal,()=>{l=!0,tE(c!=null),c.abort(n.signal.reason);let f=a?.deref();ooe(r,i,f,n.signal.reason)}),c=A_e({request:i,processResponseEndOfBody:u3t,processResponse:o(f=>{if(!l){if(f.aborted){ooe(r,i,a,c.serializedAbortReason);return}if(f.type==="error"){r.reject(new TypeError("fetch failed",{cause:f.error}));return}a=new WeakRef(yCt(f,"immutable")),r.resolve(a.deref()),r=null}},"processResponse"),dispatcher:n[jCt]}),r.promise}o(f3t,"fetch");function p_e(e,t="other"){if(e.type==="error"&&e.aborted||!e.urlList?.length)return;let r=e.urlList[0],n=e.timingInfo,i=e.cacheState;coe(r)&&n!==null&&(e.timingAllowPassed||(n=loe({startTime:n.startTime}),i=""),n.endTime=xS(),e.timingInfo=n,g_e(n,r.href,t,globalThis,i))}o(p_e,"finalizeAndReportTiming");var g_e=performance.markResourceTiming;function ooe(e,t,r,n){if(e&&e.reject(n),t.body!=null&&TU(t.body?.stream)&&t.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s}),r==null)return;let i=r[d_e];i.body!=null&&TU(i.body?.stream)&&i.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s})}o(ooe,"abortFetch");function A_e({request:e,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:a=!1,dispatcher:l=o3t()}){tE(l);let c=null,u=!1;e.client!=null&&(c=e.client.globalObject,u=e.client.crossOriginIsolatedCapability);let f=xS(u),m=loe({startTime:f}),h={controller:new wU(l),request:e,timingInfo:m,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:c,crossOriginIsolatedCapability:u};return tE(!e.body||e.body.stream),e.window==="client"&&(e.window=e.client?.globalObject?.constructor?.name==="Window"?e.client:"no-window"),e.origin==="client"&&(e.origin=e.client.origin),e.policyContainer==="client"&&(e.client!=null?e.policyContainer=vCt(e.client.policyContainer):e.policyContainer=bCt()),e.headersList.contains("accept",!0)||e.headersList.append("accept","*/*",!0),e.headersList.contains("accept-language",!0)||e.headersList.append("accept-language","*",!0),e.priority,YCt.has(e.destination),y_e(h).catch(p=>{h.controller.terminate(p)}),h.controller}o(A_e,"fetching");async function y_e(e,t=!1){let r=e.request,n=null;if(r.localURLsOnly&&!OCt(Op(r))&&(n=xo("local URLs only")),kCt(r),ICt(r)==="blocked"&&(n=xo("bad port")),r.referrerPolicy===""&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!=="no-referrer"&&(r.referrer=PCt(r)),n===null&&(n=await(async()=>{let s=Op(r);return aoe(s,r.url)&&r.responseTainting==="basic"||s.protocol==="data:"||r.mode==="navigate"||r.mode==="websocket"?(r.responseTainting="basic",await f_e(e)):r.mode==="same-origin"?xo('request mode cannot be "same-origin"'):r.mode==="no-cors"?r.redirect!=="follow"?xo('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await f_e(e)):coe(Op(r))?(r.responseTainting="cors",await C_e(e)):xo("URL scheme must be a HTTP(S) scheme")})()),t)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting==="basic"?n=noe(n,"basic"):r.responseTainting==="cors"?n=noe(n,"cors"):r.responseTainting==="opaque"?n=noe(n,"opaque"):tE(!1));let i=n.status===0?n:n.internalResponse;if(i.urlList.length===0&&i.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type==="opaque"&&i.status===206&&i.rangeRequested&&!r.headers.contains("range",!0)&&(n=i=xo()),n.status!==0&&(r.method==="HEAD"||r.method==="CONNECT"||h_e.includes(i.status))&&(i.body=null,e.controller.dump=!0),r.integrity){let s=o(l=>soe(e,xo(l)),"processBodyError");if(r.responseTainting==="opaque"||n.body==null){s(n.error);return}let a=o(l=>{if(!xCt(l,r.integrity)){s("integrity mismatch");return}n.body=uoe(l)[0],soe(e,n)},"processBody");await QCt(n.body,a,s)}else soe(e,n)}o(y_e,"mainFetch");function f_e(e){if(eE(e)&&e.request.redirectCount===0)return Promise.resolve(bU(e));let{request:t}=e,{protocol:r}=Op(t);switch(r){case"about:":return Promise.resolve(xo("about scheme is not supported"));case"blob:":{ioe||(ioe=require("node:buffer").resolveObjectURL);let n=Op(t);if(n.search.length!==0)return Promise.resolve(xo("NetworkError when attempting to fetch resource."));let i=ioe(n.toString());if(t.method!=="GET"||!NCt(i))return Promise.resolve(xo("invalid method"));let s=vU(),a=i.size,l=IU(`${a}`),c=i.type;if(t.headersList.contains("range",!0)){s.rangeRequested=!0;let u=t.headersList.get("range",!0),f=WCt(u,!0);if(f==="failure")return Promise.resolve(xo("failed to fetch the data URL"));let{rangeStartValue:m,rangeEndValue:h}=f;if(m===null)m=a-h,h=m+h-1;else{if(m>=a)return Promise.resolve(xo("Range start is greater than the blob's size."));(h===null||h>=a)&&(h=a-1)}let p=i.slice(m,h,c),A=c_e(p);s.body=A[0];let E=IU(`${p.size}`),x=GCt(m,h,a);s.status=206,s.statusText="Partial Content",s.headersList.set("content-length",E,!0),s.headersList.set("content-type",c,!0),s.headersList.set("content-range",x,!0)}else{let u=c_e(i);s.statusText="OK",s.body=u[0],s.headersList.set("content-length",l,!0),s.headersList.set("content-type",c,!0)}return Promise.resolve(s)}case"data:":{let n=Op(t),i=r3t(n);if(i==="failure")return Promise.resolve(xo("failed to fetch the data URL"));let s=n3t(i.mimeType);return Promise.resolve(vU({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:s}]],body:uoe(i.body)[0]}))}case"file:":return Promise.resolve(xo("not implemented... yet..."));case"http:":case"https:":return C_e(e).catch(n=>xo(n));default:return Promise.resolve(xo("unknown scheme"))}}o(f_e,"schemeFetch");function d3t(e,t){e.request.done=!0,e.processResponseDone!=null&&queueMicrotask(()=>e.processResponseDone(t))}o(d3t,"finalizeResponse");function soe(e,t){let r=e.timingInfo,n=o(()=>{let s=Date.now();e.request.destination==="document"&&(e.controller.fullTimingInfo=r),e.controller.reportTimingSteps=()=>{if(e.request.url.protocol!=="https:")return;r.endTime=s;let l=t.cacheState,c=t.bodyInfo;t.timingAllowPassed||(r=loe(r),l="");let u=0;if(e.request.mode!=="navigator"||!t.hasCrossOriginRedirects){u=t.status;let f=VCt(t.headersList);f!=="failure"&&(c.contentType=i3t(f))}e.request.initiatorType!=null&&g_e(r,e.request.url.href,e.request.initiatorType,globalThis,l,c,u)};let a=o(()=>{e.request.done=!0,e.processResponseEndOfBody!=null&&queueMicrotask(()=>e.processResponseEndOfBody(t)),e.request.initiatorType!=null&&e.controller.reportTimingSteps()},"processResponseEndOfBodyTask");queueMicrotask(()=>a())},"processResponseEndOfBody");e.processResponse!=null&&queueMicrotask(()=>{e.processResponse(t),e.processResponse=null});let i=t.type==="error"?t:t.internalResponse??t;i.body==null?n():ZCt(i.body.stream,()=>{n()})}o(soe,"fetchFinale");async function C_e(e){let t=e.request,r=null,n=null,i=e.timingInfo;if(t.serviceWorkers,r===null){if(t.redirect==="follow"&&(t.serviceWorkers="none"),n=r=await E_e(e),t.responseTainting==="cors"&&RCt(t,r)==="failure")return xo("cors failure");TCt(t,r)==="failure"&&(t.timingAllowFailed=!0)}return(t.responseTainting==="opaque"||r.type==="opaque")&&DCt(t.origin,t.client,t.destination,n)==="blocked"?xo("blocked"):(m_e.has(n.status)&&(t.redirect!=="manual"&&e.controller.connection.destroy(void 0,!1),t.redirect==="error"?r=xo("unexpected redirect"):t.redirect==="manual"?r=n:t.redirect==="follow"?r=await m3t(e,r):tE(!1)),r.timingInfo=i,r)}o(C_e,"httpFetch");function m3t(e,t){let r=e.request,n=t.internalResponse?t.internalResponse:t,i;try{if(i=SCt(n,Op(r).hash),i==null)return t}catch(a){return Promise.resolve(xo(a))}if(!coe(i))return Promise.resolve(xo("URL scheme must be a HTTP(S) scheme"));if(r.redirectCount===20)return Promise.resolve(xo("redirect count exceeded"));if(r.redirectCount+=1,r.mode==="cors"&&(i.username||i.password)&&!aoe(r,i))return Promise.resolve(xo('cross origin not allowed for request mode "cors"'));if(r.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(xo('URL cannot contain credentials for request mode "cors"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(xo());if([301,302].includes(n.status)&&r.method==="POST"||n.status===303&&!l3t.includes(r.method)){r.method="GET",r.body=null;for(let a of zCt)r.headersList.delete(a)}aoe(Op(r),i)||(r.headersList.delete("authorization",!0),r.headersList.delete("proxy-authorization",!0),r.headersList.delete("cookie",!0),r.headersList.delete("host",!0)),r.body!=null&&(tE(r.body.source!=null),r.body=uoe(r.body.source)[0]);let s=e.timingInfo;return s.redirectEndTime=s.postRedirectStartTime=xS(e.crossOriginIsolatedCapability),s.redirectStartTime===0&&(s.redirectStartTime=s.startTime),r.urlList.push(i),_Ct(r,n),y_e(e,!0)}o(m3t,"httpRedirectFetch");async function E_e(e,t=!1,r=!1){let n=e.request,i=null,s=null,a=null,l=null,c=!1;n.window==="no-window"&&n.redirect==="error"?(i=e,s=n):(s=ECt(n),i={...e},i.request=s);let u=n.credentials==="include"||n.credentials==="same-origin"&&n.responseTainting==="basic",f=s.body?s.body.length:null,m=null;if(s.body==null&&["POST","PUT"].includes(s.method)&&(m="0"),f!=null&&(m=IU(`${f}`)),m!=null&&s.headersList.append("content-length",m,!0),f!=null&&s.keepalive,s.referrer instanceof URL&&s.headersList.append("referer",IU(s.referrer.href),!0),wCt(s),BCt(s),s.headersList.contains("user-agent",!0)||s.headersList.append("user-agent",c3t),s.cache==="default"&&(s.headersList.contains("if-modified-since",!0)||s.headersList.contains("if-none-match",!0)||s.headersList.contains("if-unmodified-since",!0)||s.headersList.contains("if-match",!0)||s.headersList.contains("if-range",!0))&&(s.cache="no-store"),s.cache==="no-cache"&&!s.preventNoCacheCacheControlHeaderModification&&!s.headersList.contains("cache-control",!0)&&s.headersList.append("cache-control","max-age=0",!0),(s.cache==="no-store"||s.cache==="reload")&&(s.headersList.contains("pragma",!0)||s.headersList.append("pragma","no-cache",!0),s.headersList.contains("cache-control",!0)||s.headersList.append("cache-control","no-cache",!0)),s.headersList.contains("range",!0)&&s.headersList.append("accept-encoding","identity",!0),s.headersList.contains("accept-encoding",!0)||(UCt(Op(s))?s.headersList.append("accept-encoding","br, gzip, deflate",!0):s.headersList.append("accept-encoding","gzip, deflate",!0)),s.headersList.delete("host",!0),l==null&&(s.cache="no-store"),s.cache!=="no-store"&&s.cache,a==null){if(s.cache==="only-if-cached")return xo("only if cached");let h=await h3t(i,u,r);!$Ct.has(s.method)&&h.status>=200&&h.status<=399,c&&h.status,a==null&&(a=h)}if(a.urlList=[...s.urlList],s.headersList.contains("range",!0)&&(a.rangeRequested=!0),a.requestIncludesCredentials=u,a.status===407)return n.window==="no-window"?xo():eE(e)?bU(e):xo("proxy authentication required");if(a.status===421&&!r&&(n.body==null||n.body.source!=null)){if(eE(e))return bU(e);e.controller.connection.destroy(),a=await E_e(e,t,!0)}return a}o(E_e,"httpNetworkOrCacheFetch");async function h3t(e,t=!1,r=!1){tE(!e.controller.connection||e.controller.connection.destroyed),e.controller.connection={abort:null,destroyed:!1,destroy(A,E=!0){this.destroyed||(this.destroyed=!0,E&&this.abort?.(A??new DOMException("The operation was aborted.","AbortError")))}};let n=e.request,i=null,s=e.timingInfo;null==null&&(n.cache="no-store");let l=r?"yes":"no";n.mode;let c=null;if(n.body==null&&e.processRequestEndOfBody)queueMicrotask(()=>e.processRequestEndOfBody());else if(n.body!=null){let A=o(async function*(b){eE(e)||(yield b,e.processRequestBodyChunkLength?.(b.byteLength))},"processBodyChunk"),E=o(()=>{eE(e)||e.processRequestEndOfBody&&e.processRequestEndOfBody()},"processEndOfBody"),x=o(b=>{eE(e)||(b.name==="AbortError"?e.controller.abort():e.controller.terminate(b))},"processBodyError");c=async function*(){try{for await(let b of n.body.stream)yield*A(b);E()}catch(b){x(b)}}()}try{let{body:A,status:E,statusText:x,headersList:b,socket:v}=await p({body:c});if(v)i=vU({status:E,statusText:x,headersList:b,socket:v});else{let S=A[Symbol.asyncIterator]();e.controller.next=()=>S.next(),i=vU({status:E,statusText:x,headersList:b})}}catch(A){return A.name==="AbortError"?(e.controller.connection.destroy(),bU(e,A)):xo(A)}let u=o(async()=>{await e.controller.resume()},"pullAlgorithm"),f=o(A=>{eE(e)||e.controller.abort(A)},"cancelAlgorithm"),m=new ReadableStream({async start(A){e.controller.controller=A},async pull(A){await u(A)},async cancel(A){await f(A)},type:"bytes"});i.body={stream:m,source:null,length:null},e.controller.onAborted=h,e.controller.on("terminated",h),e.controller.resume=async()=>{for(;;){let A,E;try{let{done:b,value:v}=await e.controller.next();if(l_e(e))break;A=b?void 0:v}catch(b){e.controller.ended&&!s.encodedBodySize?A=void 0:(A=b,E=!0)}if(A===void 0){MCt(e.controller.controller),d3t(e,i);return}if(s.decodedBodySize+=A?.byteLength??0,E){e.controller.terminate(A);return}let x=new Uint8Array(A);if(x.byteLength&&e.controller.controller.enqueue(x),t3t(m)){e.controller.terminate();return}if(e.controller.controller.desiredSize<=0)return}};function h(A){l_e(e)?(i.aborted=!0,TU(m)&&e.controller.controller.error(e.controller.serializedAbortReason)):TU(m)&&e.controller.controller.error(new TypeError("terminated",{cause:LCt(A)?A:void 0})),e.controller.connection.destroy()}return o(h,"onAborted"),i;function p({body:A}){let E=Op(n),x=e.controller.dispatcher;return new Promise((b,v)=>x.dispatch({path:E.pathname+E.search,origin:E.origin,method:n.method,body:x.isMockActive?n.body&&(n.body.source||n.body.stream):A,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(S){let{connection:B}=e.controller;s.finalConnectionTimingInfo=qCt(void 0,s.postRedirectStartTime,e.crossOriginIsolatedCapability),B.destroyed?S(new DOMException("The operation was aborted.","AbortError")):(e.controller.on("terminated",S),this.abort=B.abort=S),s.finalNetworkRequestStartTime=xS(e.crossOriginIsolatedCapability)},onResponseStarted(){s.finalNetworkResponseStartTime=xS(e.crossOriginIsolatedCapability)},onHeaders(S,B,P,F){if(S<200)return;let G=[],re="",pe=new a_e;for(let ne=0;ne<B.length;ne+=2)pe.append(u_e(B[ne]),B[ne+1].toString("latin1"),!0);let Z=pe.get("content-encoding",!0);Z&&(G=Z.toLowerCase().split(",").map(ne=>ne.trim())),re=pe.get("location",!0),this.body=new JCt({read:P});let W=[],q=re&&n.redirect==="follow"&&m_e.has(S);if(G.length!==0&&n.method!=="HEAD"&&n.method!=="CONNECT"&&!h_e.includes(S)&&!q)for(let ne=G.length-1;ne>=0;--ne){let H=G[ne];if(H==="x-gzip"||H==="gzip")W.push(gy.createGunzip({flush:gy.constants.Z_SYNC_FLUSH,finishFlush:gy.constants.Z_SYNC_FLUSH}));else if(H==="deflate")W.push(HCt({flush:gy.constants.Z_SYNC_FLUSH,finishFlush:gy.constants.Z_SYNC_FLUSH}));else if(H==="br")W.push(gy.createBrotliDecompress({flush:gy.constants.BROTLI_OPERATION_FLUSH,finishFlush:gy.constants.BROTLI_OPERATION_FLUSH}));else{W.length=0;break}}let se=this.onError.bind(this);return b({status:S,statusText:F,headersList:pe,body:W.length?XCt(this.body,...W,ne=>{ne&&this.onError(ne)}).on("error",se):this.body.on("error",se)}),!0},onData(S){if(e.controller.dump)return;let B=S;return s.encodedBodySize+=B.byteLength,this.body.push(B)},onComplete(){this.abort&&e.controller.off("terminated",this.abort),e.controller.onAborted&&e.controller.off("terminated",e.controller.onAborted),e.controller.ended=!0,this.body.push(null)},onError(S){this.abort&&e.controller.off("terminated",this.abort),this.body?.destroy(S),e.controller.terminate(S),v(S)},onUpgrade(S,B,P){if(S!==101)return;let F=new a_e;for(let G=0;G<B.length;G+=2)F.append(u_e(B[G]),B[G+1].toString("latin1"),!0);return b({status:S,statusText:a3t[S],headersList:F,socket:P}),!0}}))}o(p,"dispatch")}o(h3t,"httpNetworkFetch");x_e.exports={fetch:f3t,Fetch:wU,fetching:A_e,finalizeAndReportTiming:p_e}});var foe=V((hGr,b_e)=>{"use strict";d();b_e.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var I_e=V((gGr,v_e)=>{"use strict";d();var{webidl:Zu}=$l(),SU=Symbol("ProgressEvent state"),doe=class e extends Event{static{o(this,"ProgressEvent")}constructor(t,r={}){t=Zu.converters.DOMString(t,"ProgressEvent constructor","type"),r=Zu.converters.ProgressEventInit(r??{}),super(t,r),this[SU]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return Zu.brandCheck(this,e),this[SU].lengthComputable}get loaded(){return Zu.brandCheck(this,e),this[SU].loaded}get total(){return Zu.brandCheck(this,e),this[SU].total}};Zu.converters.ProgressEventInit=Zu.dictionaryConverter([{key:"lengthComputable",converter:Zu.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"loaded",converter:Zu.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"total",converter:Zu.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"bubbles",converter:Zu.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:Zu.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:Zu.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}]);v_e.exports={ProgressEvent:doe}});var w_e=V((CGr,T_e)=>{"use strict";d();function p3t(e){if(!e)return"failure";switch(e.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}o(p3t,"getEncoding");T_e.exports={getEncoding:p3t}});var F_e=V((bGr,P_e)=>{"use strict";d();var{kState:x8,kError:moe,kResult:S_e,kAborted:vS,kLastProgressEventFired:hoe}=foe(),{ProgressEvent:g3t}=I_e(),{getEncoding:__e}=w_e(),{serializeAMimeType:A3t,parseMIMEType:k_e}=Gc(),{types:y3t}=require("node:util"),{StringDecoder:B_e}=require("string_decoder"),{btoa:R_e}=require("node:buffer"),C3t={enumerable:!0,writable:!1,configurable:!1};function E3t(e,t,r,n){if(e[x8]==="loading")throw new DOMException("Invalid state","InvalidStateError");e[x8]="loading",e[S_e]=null,e[moe]=null;let s=t.stream().getReader(),a=[],l=s.read(),c=!0;(async()=>{for(;!e[vS];)try{let{done:u,value:f}=await l;if(c&&!e[vS]&&queueMicrotask(()=>{Ay("loadstart",e)}),c=!1,!u&&y3t.isUint8Array(f))a.push(f),(e[hoe]===void 0||Date.now()-e[hoe]>=50)&&!e[vS]&&(e[hoe]=Date.now(),queueMicrotask(()=>{Ay("progress",e)})),l=s.read();else if(u){queueMicrotask(()=>{e[x8]="done";try{let m=x3t(a,r,t.type,n);if(e[vS])return;e[S_e]=m,Ay("load",e)}catch(m){e[moe]=m,Ay("error",e)}e[x8]!=="loading"&&Ay("loadend",e)});break}}catch(u){if(e[vS])return;queueMicrotask(()=>{e[x8]="done",e[moe]=u,Ay("error",e),e[x8]!=="loading"&&Ay("loadend",e)});break}})()}o(E3t,"readOperation");function Ay(e,t){let r=new g3t(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(r)}o(Ay,"fireAProgressEvent");function x3t(e,t,r,n){switch(t){case"DataURL":{let i="data:",s=k_e(r||"application/octet-stream");s!=="failure"&&(i+=A3t(s)),i+=";base64,";let a=new B_e("latin1");for(let l of e)i+=R_e(a.write(l));return i+=R_e(a.end()),i}case"Text":{let i="failure";if(n&&(i=__e(n)),i==="failure"&&r){let s=k_e(r);s!=="failure"&&(i=__e(s.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),b3t(e,i)}case"ArrayBuffer":return D_e(e).buffer;case"BinaryString":{let i="",s=new B_e("latin1");for(let a of e)i+=s.write(a);return i+=s.end(),i}}}o(x3t,"packageData");function b3t(e,t){let r=D_e(e),n=v3t(r),i=0;n!==null&&(t=n,i=n==="UTF-8"?3:2);let s=r.slice(i);return new TextDecoder(t).decode(s)}o(b3t,"decode");function v3t(e){let[t,r,n]=e;return t===239&&r===187&&n===191?"UTF-8":t===254&&r===255?"UTF-16BE":t===255&&r===254?"UTF-16LE":null}o(v3t,"BOMSniffing");function D_e(e){let t=e.reduce((n,i)=>n+i.byteLength,0),r=0;return e.reduce((n,i)=>(n.set(i,r),r+=i.byteLength,n),new Uint8Array(t))}o(D_e,"combineByteSequences");P_e.exports={staticPropertyDescriptors:C3t,readOperation:E3t,fireAProgressEvent:Ay}});var M_e=V((TGr,Q_e)=>{"use strict";d();var{staticPropertyDescriptors:b8,readOperation:_U,fireAProgressEvent:N_e}=F_e(),{kState:rE,kError:L_e,kResult:kU,kEvents:co,kAborted:I3t}=foe(),{webidl:To}=$l(),{kEnumerableProperty:jc}=fi(),Zm=class e extends EventTarget{static{o(this,"FileReader")}constructor(){super(),this[rE]="empty",this[kU]=null,this[L_e]=null,this[co]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(t){To.brandCheck(this,e),To.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),t=To.converters.Blob(t,{strict:!1}),_U(this,t,"ArrayBuffer")}readAsBinaryString(t){To.brandCheck(this,e),To.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),t=To.converters.Blob(t,{strict:!1}),_U(this,t,"BinaryString")}readAsText(t,r=void 0){To.brandCheck(this,e),To.argumentLengthCheck(arguments,1,"FileReader.readAsText"),t=To.converters.Blob(t,{strict:!1}),r!==void 0&&(r=To.converters.DOMString(r,"FileReader.readAsText","encoding")),_U(this,t,"Text",r)}readAsDataURL(t){To.brandCheck(this,e),To.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),t=To.converters.Blob(t,{strict:!1}),_U(this,t,"DataURL")}abort(){if(this[rE]==="empty"||this[rE]==="done"){this[kU]=null;return}this[rE]==="loading"&&(this[rE]="done",this[kU]=null),this[I3t]=!0,N_e("abort",this),this[rE]!=="loading"&&N_e("loadend",this)}get readyState(){switch(To.brandCheck(this,e),this[rE]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return To.brandCheck(this,e),this[kU]}get error(){return To.brandCheck(this,e),this[L_e]}get onloadend(){return To.brandCheck(this,e),this[co].loadend}set onloadend(t){To.brandCheck(this,e),this[co].loadend&&this.removeEventListener("loadend",this[co].loadend),typeof t=="function"?(this[co].loadend=t,this.addEventListener("loadend",t)):this[co].loadend=null}get onerror(){return To.brandCheck(this,e),this[co].error}set onerror(t){To.brandCheck(this,e),this[co].error&&this.removeEventListener("error",this[co].error),typeof t=="function"?(this[co].error=t,this.addEventListener("error",t)):this[co].error=null}get onloadstart(){return To.brandCheck(this,e),this[co].loadstart}set onloadstart(t){To.brandCheck(this,e),this[co].loadstart&&this.removeEventListener("loadstart",this[co].loadstart),typeof t=="function"?(this[co].loadstart=t,this.addEventListener("loadstart",t)):this[co].loadstart=null}get onprogress(){return To.brandCheck(this,e),this[co].progress}set onprogress(t){To.brandCheck(this,e),this[co].progress&&this.removeEventListener("progress",this[co].progress),typeof t=="function"?(this[co].progress=t,this.addEventListener("progress",t)):this[co].progress=null}get onload(){return To.brandCheck(this,e),this[co].load}set onload(t){To.brandCheck(this,e),this[co].load&&this.removeEventListener("load",this[co].load),typeof t=="function"?(this[co].load=t,this.addEventListener("load",t)):this[co].load=null}get onabort(){return To.brandCheck(this,e),this[co].abort}set onabort(t){To.brandCheck(this,e),this[co].abort&&this.removeEventListener("abort",this[co].abort),typeof t=="function"?(this[co].abort=t,this.addEventListener("abort",t)):this[co].abort=null}};Zm.EMPTY=Zm.prototype.EMPTY=0;Zm.LOADING=Zm.prototype.LOADING=1;Zm.DONE=Zm.prototype.DONE=2;Object.defineProperties(Zm.prototype,{EMPTY:b8,LOADING:b8,DONE:b8,readAsArrayBuffer:jc,readAsBinaryString:jc,readAsText:jc,readAsDataURL:jc,abort:jc,readyState:jc,result:jc,error:jc,onloadstart:jc,onprogress:jc,onload:jc,onabort:jc,onerror:jc,onloadend:jc,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Zm,{EMPTY:b8,LOADING:b8,DONE:b8});Q_e.exports={FileReader:Zm}});var BU=V((_Gr,O_e)=>{"use strict";d();O_e.exports={kConstruct:Ts().kConstruct}});var W_e=V((BGr,q_e)=>{"use strict";d();var T3t=require("node:assert"),{URLSerializer:U_e}=Gc(),{isValidHeaderName:w3t}=$u();function S3t(e,t,r=!1){let n=U_e(e,r),i=U_e(t,r);return n===i}o(S3t,"urlEquals");function _3t(e){T3t(e!==null);let t=[];for(let r of e.split(","))r=r.trim(),w3t(r)&&t.push(r);return t}o(_3t,"getFieldValues");q_e.exports={urlEquals:S3t,getFieldValues:_3t}});var V_e=V((PGr,H_e)=>{"use strict";d();var{kConstruct:k3t}=BU(),{urlEquals:B3t,getFieldValues:poe}=W_e(),{kEnumerableProperty:nE,isDisturbed:R3t}=fi(),{webidl:Xr}=$l(),{Response:D3t,cloneResponse:P3t,fromInnerResponse:F3t}=ES(),{Request:Y1,fromInnerRequest:N3t}=E8(),{kState:eh}=iy(),{fetching:L3t}=bS(),{urlIsHttpHttpsScheme:RU,createDeferredPromise:v8,readAllBytes:Q3t}=$u(),goe=require("node:assert"),DU=class e{static{o(this,"Cache")}#e;constructor(){arguments[0]!==k3t&&Xr.illegalConstructor(),Xr.util.markAsUncloneable(this),this.#e=arguments[1]}async match(t,r={}){Xr.brandCheck(this,e);let n="Cache.match";Xr.argumentLengthCheck(arguments,1,n),t=Xr.converters.RequestInfo(t,n,"request"),r=Xr.converters.CacheQueryOptions(r,n,"options");let i=this.#r(t,r,1);if(i.length!==0)return i[0]}async matchAll(t=void 0,r={}){Xr.brandCheck(this,e);let n="Cache.matchAll";return t!==void 0&&(t=Xr.converters.RequestInfo(t,n,"request")),r=Xr.converters.CacheQueryOptions(r,n,"options"),this.#r(t,r)}async add(t){Xr.brandCheck(this,e);let r="Cache.add";Xr.argumentLengthCheck(arguments,1,r),t=Xr.converters.RequestInfo(t,r,"request");let n=[t];return await this.addAll(n)}async addAll(t){Xr.brandCheck(this,e);let r="Cache.addAll";Xr.argumentLengthCheck(arguments,1,r);let n=[],i=[];for(let h of t){if(h===void 0)throw Xr.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(h=Xr.converters.RequestInfo(h),typeof h=="string")continue;let p=h[eh];if(!RU(p.url)||p.method!=="GET")throw Xr.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let s=[];for(let h of t){let p=new Y1(h)[eh];if(!RU(p.url))throw Xr.errors.exception({header:r,message:"Expected http/s scheme."});p.initiator="fetch",p.destination="subresource",i.push(p);let A=v8();s.push(L3t({request:p,processResponse(E){if(E.type==="error"||E.status===206||E.status<200||E.status>299)A.reject(Xr.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(E.headersList.contains("vary")){let x=poe(E.headersList.get("vary"));for(let b of x)if(b==="*"){A.reject(Xr.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let v of s)v.abort();return}}},processResponseEndOfBody(E){if(E.aborted){A.reject(new DOMException("aborted","AbortError"));return}A.resolve(E)}})),n.push(A.promise)}let l=await Promise.all(n),c=[],u=0;for(let h of l){let p={type:"put",request:i[u],response:h};c.push(p),u++}let f=v8(),m=null;try{this.#t(c)}catch(h){m=h}return queueMicrotask(()=>{m===null?f.resolve(void 0):f.reject(m)}),f.promise}async put(t,r){Xr.brandCheck(this,e);let n="Cache.put";Xr.argumentLengthCheck(arguments,2,n),t=Xr.converters.RequestInfo(t,n,"request"),r=Xr.converters.Response(r,n,"response");let i=null;if(t instanceof Y1?i=t[eh]:i=new Y1(t)[eh],!RU(i.url)||i.method!=="GET")throw Xr.errors.exception({header:n,message:"Expected an http/s scheme when method is not GET"});let s=r[eh];if(s.status===206)throw Xr.errors.exception({header:n,message:"Got 206 status"});if(s.headersList.contains("vary")){let p=poe(s.headersList.get("vary"));for(let A of p)if(A==="*")throw Xr.errors.exception({header:n,message:"Got * vary field value"})}if(s.body&&(R3t(s.body.stream)||s.body.stream.locked))throw Xr.errors.exception({header:n,message:"Response body is locked or disturbed"});let a=P3t(s),l=v8();if(s.body!=null){let A=s.body.stream.getReader();Q3t(A).then(l.resolve,l.reject)}else l.resolve(void 0);let c=[],u={type:"put",request:i,response:a};c.push(u);let f=await l.promise;a.body!=null&&(a.body.source=f);let m=v8(),h=null;try{this.#t(c)}catch(p){h=p}return queueMicrotask(()=>{h===null?m.resolve():m.reject(h)}),m.promise}async delete(t,r={}){Xr.brandCheck(this,e);let n="Cache.delete";Xr.argumentLengthCheck(arguments,1,n),t=Xr.converters.RequestInfo(t,n,"request"),r=Xr.converters.CacheQueryOptions(r,n,"options");let i=null;if(t instanceof Y1){if(i=t[eh],i.method!=="GET"&&!r.ignoreMethod)return!1}else goe(typeof t=="string"),i=new Y1(t)[eh];let s=[],a={type:"delete",request:i,options:r};s.push(a);let l=v8(),c=null,u;try{u=this.#t(s)}catch(f){c=f}return queueMicrotask(()=>{c===null?l.resolve(!!u?.length):l.reject(c)}),l.promise}async keys(t=void 0,r={}){Xr.brandCheck(this,e);let n="Cache.keys";t!==void 0&&(t=Xr.converters.RequestInfo(t,n,"request")),r=Xr.converters.CacheQueryOptions(r,n,"options");let i=null;if(t!==void 0)if(t instanceof Y1){if(i=t[eh],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new Y1(t)[eh]);let s=v8(),a=[];if(t===void 0)for(let l of this.#e)a.push(l[0]);else{let l=this.#i(i,r);for(let c of l)a.push(c[0])}return queueMicrotask(()=>{let l=[];for(let c of a){let u=N3t(c,new AbortController().signal,"immutable");l.push(u)}s.resolve(Object.freeze(l))}),s.promise}#t(t){let r=this.#e,n=[...r],i=[],s=[];try{for(let a of t){if(a.type!=="delete"&&a.type!=="put")throw Xr.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(a.type==="delete"&&a.response!=null)throw Xr.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(a.request,a.options,i).length)throw new DOMException("???","InvalidStateError");let l;if(a.type==="delete"){if(l=this.#i(a.request,a.options),l.length===0)return[];for(let c of l){let u=r.indexOf(c);goe(u!==-1),r.splice(u,1)}}else if(a.type==="put"){if(a.response==null)throw Xr.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let c=a.request;if(!RU(c.url))throw Xr.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(c.method!=="GET")throw Xr.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(a.options!=null)throw Xr.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});l=this.#i(a.request);for(let u of l){let f=r.indexOf(u);goe(f!==-1),r.splice(f,1)}r.push([a.request,a.response]),i.push([a.request,a.response])}s.push([a.request,a.response])}return s}catch(a){throw this.#e.length=0,this.#e=n,a}}#i(t,r,n){let i=[],s=n??this.#e;for(let a of s){let[l,c]=a;this.#n(t,l,c,r)&&i.push(a)}return i}#n(t,r,n=null,i){let s=new URL(t.url),a=new URL(r.url);if(i?.ignoreSearch&&(a.search="",s.search=""),!B3t(s,a,!0))return!1;if(n==null||i?.ignoreVary||!n.headersList.contains("vary"))return!0;let l=poe(n.headersList.get("vary"));for(let c of l){if(c==="*")return!1;let u=r.headersList.get(c),f=t.headersList.get(c);if(u!==f)return!1}return!0}#r(t,r,n=1/0){let i=null;if(t!==void 0)if(t instanceof Y1){if(i=t[eh],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new Y1(t)[eh]);let s=[];if(t===void 0)for(let l of this.#e)s.push(l[1]);else{let l=this.#i(i,r);for(let c of l)s.push(c[1])}let a=[];for(let l of s){let c=F3t(l,"immutable");if(a.push(c.clone()),a.length>=n)break}return Object.freeze(a)}};Object.defineProperties(DU.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:nE,matchAll:nE,add:nE,addAll:nE,put:nE,delete:nE,keys:nE});var G_e=[{key:"ignoreSearch",converter:Xr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreMethod",converter:Xr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreVary",converter:Xr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];Xr.converters.CacheQueryOptions=Xr.dictionaryConverter(G_e);Xr.converters.MultiCacheQueryOptions=Xr.dictionaryConverter([...G_e,{key:"cacheName",converter:Xr.converters.DOMString}]);Xr.converters.Response=Xr.interfaceConverter(D3t);Xr.converters["sequence<RequestInfo>"]=Xr.sequenceConverter(Xr.converters.RequestInfo);H_e.exports={Cache:DU}});var $_e=V((LGr,j_e)=>{"use strict";d();var{kConstruct:IS}=BU(),{Cache:PU}=V_e(),{webidl:I0}=$l(),{kEnumerableProperty:TS}=fi(),FU=class e{static{o(this,"CacheStorage")}#e=new Map;constructor(){arguments[0]!==IS&&I0.illegalConstructor(),I0.util.markAsUncloneable(this)}async match(t,r={}){if(I0.brandCheck(this,e),I0.argumentLengthCheck(arguments,1,"CacheStorage.match"),t=I0.converters.RequestInfo(t),r=I0.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new PU(IS,n).match(t,r)}}else for(let n of this.#e.values()){let s=await new PU(IS,n).match(t,r);if(s!==void 0)return s}}async has(t){I0.brandCheck(this,e);let r="CacheStorage.has";return I0.argumentLengthCheck(arguments,1,r),t=I0.converters.DOMString(t,r,"cacheName"),this.#e.has(t)}async open(t){I0.brandCheck(this,e);let r="CacheStorage.open";if(I0.argumentLengthCheck(arguments,1,r),t=I0.converters.DOMString(t,r,"cacheName"),this.#e.has(t)){let i=this.#e.get(t);return new PU(IS,i)}let n=[];return this.#e.set(t,n),new PU(IS,n)}async delete(t){I0.brandCheck(this,e);let r="CacheStorage.delete";return I0.argumentLengthCheck(arguments,1,r),t=I0.converters.DOMString(t,r,"cacheName"),this.#e.delete(t)}async keys(){return I0.brandCheck(this,e),[...this.#e.keys()]}};Object.defineProperties(FU.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:TS,has:TS,open:TS,delete:TS,keys:TS});j_e.exports={CacheStorage:FU}});var Y_e=V((OGr,z_e)=>{"use strict";d();z_e.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var Aoe=V((qGr,eke)=>{"use strict";d();function M3t(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>=0&&r<=8||r>=10&&r<=31||r===127)return!0}return!1}o(M3t,"isCTLExcludingHtab");function K_e(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===60||r===62||r===64||r===44||r===59||r===58||r===92||r===47||r===91||r===93||r===63||r===61||r===123||r===125)throw new Error("Invalid cookie name")}}o(K_e,"validateCookieName");function J_e(e){let t=e.length,r=0;if(e[0]==='"'){if(t===1||e[t-1]!=='"')throw new Error("Invalid cookie value");--t,++r}for(;r<t;){let n=e.charCodeAt(r++);if(n<33||n>126||n===34||n===44||n===59||n===92)throw new Error("Invalid cookie value")}}o(J_e,"validateCookieValue");function X_e(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<32||r===127||r===59)throw new Error("Invalid cookie path")}}o(X_e,"validateCookiePath");function O3t(e){if(e.startsWith("-")||e.endsWith(".")||e.endsWith("-"))throw new Error("Invalid cookie domain")}o(O3t,"validateCookieDomain");var U3t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],q3t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],NU=Array(61).fill(0).map((e,t)=>t.toString().padStart(2,"0"));function Z_e(e){return typeof e=="number"&&(e=new Date(e)),`${U3t[e.getUTCDay()]}, ${NU[e.getUTCDate()]} ${q3t[e.getUTCMonth()]} ${e.getUTCFullYear()} ${NU[e.getUTCHours()]}:${NU[e.getUTCMinutes()]}:${NU[e.getUTCSeconds()]} GMT`}o(Z_e,"toIMFDate");function W3t(e){if(e<0)throw new Error("Invalid cookie max-age")}o(W3t,"validateCookieMaxAge");function G3t(e){if(e.name.length===0)return null;K_e(e.name),J_e(e.value);let t=[`${e.name}=${e.value}`];e.name.startsWith("__Secure-")&&(e.secure=!0),e.name.startsWith("__Host-")&&(e.secure=!0,e.domain=null,e.path="/"),e.secure&&t.push("Secure"),e.httpOnly&&t.push("HttpOnly"),typeof e.maxAge=="number"&&(W3t(e.maxAge),t.push(`Max-Age=${e.maxAge}`)),e.domain&&(O3t(e.domain),t.push(`Domain=${e.domain}`)),e.path&&(X_e(e.path),t.push(`Path=${e.path}`)),e.expires&&e.expires.toString()!=="Invalid Date"&&t.push(`Expires=${Z_e(e.expires)}`),e.sameSite&&t.push(`SameSite=${e.sameSite}`);for(let r of e.unparsed){if(!r.includes("="))throw new Error("Invalid unparsed");let[n,...i]=r.split("=");t.push(`${n.trim()}=${i.join("=")}`)}return t.join("; ")}o(G3t,"stringify");eke.exports={isCTLExcludingHtab:M3t,validateCookieName:K_e,validateCookiePath:X_e,validateCookieValue:J_e,toIMFDate:Z_e,stringify:G3t}});var rke=V((HGr,tke)=>{"use strict";d();var{maxNameValuePairSize:H3t,maxAttributeValueSize:V3t}=Y_e(),{isCTLExcludingHtab:j3t}=Aoe(),{collectASequenceOfCodePointsFast:LU}=Gc(),$3t=require("node:assert");function z3t(e){if(j3t(e))return null;let t="",r="",n="",i="";if(e.includes(";")){let s={position:0};t=LU(";",e,s),r=e.slice(s.position)}else t=e;if(!t.includes("="))i=t;else{let s={position:0};n=LU("=",t,s),i=t.slice(s.position+1)}return n=n.trim(),i=i.trim(),n.length+i.length>H3t?null:{name:n,value:i,...I8(r)}}o(z3t,"parseSetCookie");function I8(e,t={}){if(e.length===0)return t;$3t(e[0]===";"),e=e.slice(1);let r="";e.includes(";")?(r=LU(";",e,{position:0}),e=e.slice(r.length)):(r=e,e="");let n="",i="";if(r.includes("=")){let a={position:0};n=LU("=",r,a),i=r.slice(a.position+1)}else n=r;if(n=n.trim(),i=i.trim(),i.length>V3t)return I8(e,t);let s=n.toLowerCase();if(s==="expires"){let a=new Date(i);t.expires=a}else if(s==="max-age"){let a=i.charCodeAt(0);if((a<48||a>57)&&i[0]!=="-"||!/^\d+$/.test(i))return I8(e,t);let l=Number(i);t.maxAge=l}else if(s==="domain"){let a=i;a[0]==="."&&(a=a.slice(1)),a=a.toLowerCase(),t.domain=a}else if(s==="path"){let a="";i.length===0||i[0]!=="/"?a="/":a=i,t.path=a}else if(s==="secure")t.secure=!0;else if(s==="httponly")t.httpOnly=!0;else if(s==="samesite"){let a="Default",l=i.toLowerCase();l.includes("none")&&(a="None"),l.includes("strict")&&(a="Strict"),l.includes("lax")&&(a="Lax"),t.sameSite=a}else t.unparsed??=[],t.unparsed.push(`${n}=${i}`);return I8(e,t)}o(I8,"parseUnparsedAttributes");tke.exports={parseSetCookie:z3t,parseUnparsedAttributes:I8}});var oke=V(($Gr,ike)=>{"use strict";d();var{parseSetCookie:Y3t}=rke(),{stringify:K3t}=Aoe(),{webidl:_i}=$l(),{Headers:QU}=X4();function J3t(e){_i.argumentLengthCheck(arguments,1,"getCookies"),_i.brandCheck(e,QU,{strict:!1});let t=e.get("cookie"),r={};if(!t)return r;for(let n of t.split(";")){let[i,...s]=n.split("=");r[i.trim()]=s.join("=")}return r}o(J3t,"getCookies");function X3t(e,t,r){_i.brandCheck(e,QU,{strict:!1});let n="deleteCookie";_i.argumentLengthCheck(arguments,2,n),t=_i.converters.DOMString(t,n,"name"),r=_i.converters.DeleteCookieAttributes(r),nke(e,{name:t,value:"",expires:new Date(0),...r})}o(X3t,"deleteCookie");function Z3t(e){_i.argumentLengthCheck(arguments,1,"getSetCookies"),_i.brandCheck(e,QU,{strict:!1});let t=e.getSetCookie();return t?t.map(r=>Y3t(r)):[]}o(Z3t,"getSetCookies");function nke(e,t){_i.argumentLengthCheck(arguments,2,"setCookie"),_i.brandCheck(e,QU,{strict:!1}),t=_i.converters.Cookie(t);let r=K3t(t);r&&e.append("Set-Cookie",r)}o(nke,"setCookie");_i.converters.DeleteCookieAttributes=_i.dictionaryConverter([{converter:_i.nullableConverter(_i.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")}]);_i.converters.Cookie=_i.dictionaryConverter([{converter:_i.converters.DOMString,key:"name"},{converter:_i.converters.DOMString,key:"value"},{converter:_i.nullableConverter(e=>typeof e=="number"?_i.converters["unsigned long long"](e):new Date(e)),key:"expires",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters["long long"]),key:"maxAge",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.boolean),key:"secure",defaultValue:o(()=>null,"defaultValue")},{converter:_i.nullableConverter(_i.converters.boolean),key:"httpOnly",defaultValue:o(()=>null,"defaultValue")},{converter:_i.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:_i.sequenceConverter(_i.converters.DOMString),key:"unparsed",defaultValue:o(()=>new Array(0),"defaultValue")}]);ike.exports={getCookies:J3t,deleteCookie:X3t,getSetCookies:Z3t,setCookie:nke}});var w8=V((KGr,ake)=>{"use strict";d();var{webidl:Yr}=$l(),{kEnumerableProperty:$c}=fi(),{kConstruct:ske}=Ts(),{MessagePort:e4t}=require("node:worker_threads"),T8=class e extends Event{static{o(this,"MessageEvent")}#e;constructor(t,r={}){if(t===ske){super(arguments[1],arguments[2]),Yr.util.markAsUncloneable(this);return}let n="MessageEvent constructor";Yr.argumentLengthCheck(arguments,1,n),t=Yr.converters.DOMString(t,n,"type"),r=Yr.converters.MessageEventInit(r,n,"eventInitDict"),super(t,r),this.#e=r,Yr.util.markAsUncloneable(this)}get data(){return Yr.brandCheck(this,e),this.#e.data}get origin(){return Yr.brandCheck(this,e),this.#e.origin}get lastEventId(){return Yr.brandCheck(this,e),this.#e.lastEventId}get source(){return Yr.brandCheck(this,e),this.#e.source}get ports(){return Yr.brandCheck(this,e),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(t,r=!1,n=!1,i=null,s="",a="",l=null,c=[]){return Yr.brandCheck(this,e),Yr.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new e(t,{bubbles:r,cancelable:n,data:i,origin:s,lastEventId:a,source:l,ports:c})}static createFastMessageEvent(t,r){let n=new e(ske,t,r);return n.#e=r,n.#e.data??=null,n.#e.origin??="",n.#e.lastEventId??="",n.#e.source??=null,n.#e.ports??=[],n}},{createFastMessageEvent:t4t}=T8;delete T8.createFastMessageEvent;var MU=class e extends Event{static{o(this,"CloseEvent")}#e;constructor(t,r={}){let n="CloseEvent constructor";Yr.argumentLengthCheck(arguments,1,n),t=Yr.converters.DOMString(t,n,"type"),r=Yr.converters.CloseEventInit(r),super(t,r),this.#e=r,Yr.util.markAsUncloneable(this)}get wasClean(){return Yr.brandCheck(this,e),this.#e.wasClean}get code(){return Yr.brandCheck(this,e),this.#e.code}get reason(){return Yr.brandCheck(this,e),this.#e.reason}},OU=class e extends Event{static{o(this,"ErrorEvent")}#e;constructor(t,r){let n="ErrorEvent constructor";Yr.argumentLengthCheck(arguments,1,n),super(t,r),Yr.util.markAsUncloneable(this),t=Yr.converters.DOMString(t,n,"type"),r=Yr.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return Yr.brandCheck(this,e),this.#e.message}get filename(){return Yr.brandCheck(this,e),this.#e.filename}get lineno(){return Yr.brandCheck(this,e),this.#e.lineno}get colno(){return Yr.brandCheck(this,e),this.#e.colno}get error(){return Yr.brandCheck(this,e),this.#e.error}};Object.defineProperties(T8.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:$c,origin:$c,lastEventId:$c,source:$c,ports:$c,initMessageEvent:$c});Object.defineProperties(MU.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:$c,code:$c,wasClean:$c});Object.defineProperties(OU.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:$c,filename:$c,lineno:$c,colno:$c,error:$c});Yr.converters.MessagePort=Yr.interfaceConverter(e4t);Yr.converters["sequence<MessagePort>"]=Yr.sequenceConverter(Yr.converters.MessagePort);var yoe=[{key:"bubbles",converter:Yr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:Yr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:Yr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];Yr.converters.MessageEventInit=Yr.dictionaryConverter([...yoe,{key:"data",converter:Yr.converters.any,defaultValue:o(()=>null,"defaultValue")},{key:"origin",converter:Yr.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lastEventId",converter:Yr.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"source",converter:Yr.nullableConverter(Yr.converters.MessagePort),defaultValue:o(()=>null,"defaultValue")},{key:"ports",converter:Yr.converters["sequence<MessagePort>"],defaultValue:o(()=>new Array(0),"defaultValue")}]);Yr.converters.CloseEventInit=Yr.dictionaryConverter([...yoe,{key:"wasClean",converter:Yr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"code",converter:Yr.converters["unsigned short"],defaultValue:o(()=>0,"defaultValue")},{key:"reason",converter:Yr.converters.USVString,defaultValue:o(()=>"","defaultValue")}]);Yr.converters.ErrorEventInit=Yr.dictionaryConverter([...yoe,{key:"message",converter:Yr.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"filename",converter:Yr.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lineno",converter:Yr.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"colno",converter:Yr.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"error",converter:Yr.converters.any}]);ake.exports={MessageEvent:T8,CloseEvent:MU,ErrorEvent:OU,createFastMessageEvent:t4t}});var iE=V((ZGr,lke)=>{"use strict";d();var r4t="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",n4t={enumerable:!0,writable:!1,configurable:!1},i4t={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},o4t={NOT_SENT:0,PROCESSING:1,SENT:2},s4t={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},a4t=2**16-1,l4t={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},c4t=Buffer.allocUnsafe(0),u4t={string:1,typedArray:2,arrayBuffer:3,blob:4};lke.exports={uid:r4t,sentCloseFrameState:o4t,staticPropertyDescriptors:n4t,states:i4t,opcodes:s4t,maxUnsigned16Bit:a4t,parserStates:l4t,emptyBuffer:c4t,sendHints:u4t}});var wS=V((tHr,cke)=>{"use strict";d();cke.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var kS=V((nHr,yke)=>{"use strict";d();var{kReadyState:SS,kController:f4t,kResponse:d4t,kBinaryType:m4t,kWebSocketURL:h4t}=wS(),{states:_S,opcodes:yy}=iE(),{ErrorEvent:p4t,createFastMessageEvent:g4t}=w8(),{isUtf8:A4t}=require("node:buffer"),{collectASequenceOfCodePointsFast:y4t,removeHTTPWhitespace:uke}=Gc();function C4t(e){return e[SS]===_S.CONNECTING}o(C4t,"isConnecting");function E4t(e){return e[SS]===_S.OPEN}o(E4t,"isEstablished");function x4t(e){return e[SS]===_S.CLOSING}o(x4t,"isClosing");function b4t(e){return e[SS]===_S.CLOSED}o(b4t,"isClosed");function Coe(e,t,r=(i,s)=>new Event(i,s),n={}){let i=r(e,n);t.dispatchEvent(i)}o(Coe,"fireEvent");function v4t(e,t,r){if(e[SS]!==_S.OPEN)return;let n;if(t===yy.TEXT)try{n=Ake(r)}catch{dke(e,"Received invalid UTF-8 in text frame.");return}else t===yy.BINARY&&(e[m4t]==="blob"?n=new Blob([r]):n=I4t(r));Coe("message",e,g4t,{origin:e[h4t].origin,data:n})}o(v4t,"websocketMessageReceived");function I4t(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}o(I4t,"toArrayBuffer");function T4t(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===44||r===47||r===58||r===59||r===60||r===61||r===62||r===63||r===64||r===91||r===92||r===93||r===123||r===125)return!1}return!0}o(T4t,"isValidSubprotocol");function w4t(e){return e>=1e3&&e<1015?e!==1004&&e!==1005&&e!==1006:e>=3e3&&e<=4999}o(w4t,"isValidStatusCode");function dke(e,t){let{[f4t]:r,[d4t]:n}=e;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),t&&Coe("error",e,(i,s)=>new p4t(i,s),{error:new Error(t),message:t})}o(dke,"failWebsocketConnection");function mke(e){return e===yy.CLOSE||e===yy.PING||e===yy.PONG}o(mke,"isControlFrame");function hke(e){return e===yy.CONTINUATION}o(hke,"isContinuationFrame");function pke(e){return e===yy.TEXT||e===yy.BINARY}o(pke,"isTextBinaryFrame");function S4t(e){return pke(e)||hke(e)||mke(e)}o(S4t,"isValidOpcode");function _4t(e){let t={position:0},r=new Map;for(;t.position<e.length;){let n=y4t(";",e,t),[i,s=""]=n.split("=");r.set(uke(i,!0,!1),uke(s,!1,!0)),t.position++}return r}o(_4t,"parseExtensions");function k4t(e){for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0}o(k4t,"isValidClientWindowBits");var gke=typeof process.versions.icu=="string",fke=gke?new TextDecoder("utf-8",{fatal:!0}):void 0,Ake=gke?fke.decode.bind(fke):function(e){if(A4t(e))return e.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};yke.exports={isConnecting:C4t,isEstablished:E4t,isClosing:x4t,isClosed:b4t,fireEvent:Coe,isValidSubprotocol:T4t,isValidStatusCode:w4t,failWebsocketConnection:dke,websocketMessageReceived:v4t,utf8Decode:Ake,isControlFrame:mke,isContinuationFrame:hke,isTextBinaryFrame:pke,isValidOpcode:S4t,parseExtensions:_4t,isValidClientWindowBits:k4t}});var qU=V((sHr,Cke)=>{"use strict";d();var{maxUnsigned16Bit:B4t}=iE(),UU=16386,Eoe,BS=null,S8=UU;try{Eoe=require("node:crypto")}catch{Eoe={randomFillSync:o(function(t,r,n){for(let i=0;i<t.length;++i)t[i]=Math.random()*255|0;return t},"randomFillSync")}}function R4t(){return S8===UU&&(S8=0,Eoe.randomFillSync(BS??=Buffer.allocUnsafe(UU),0,UU)),[BS[S8++],BS[S8++],BS[S8++],BS[S8++]]}o(R4t,"generateMask");var xoe=class{static{o(this,"WebsocketFrameSend")}constructor(t){this.frameData=t}createFrame(t){let r=this.frameData,n=R4t(),i=r?.byteLength??0,s=i,a=6;i>B4t?(a+=8,s=127):i>125&&(a+=2,s=126);let l=Buffer.allocUnsafe(i+a);l[0]=l[1]=0,l[0]|=128,l[0]=(l[0]&240)+t;l[a-4]=n[0],l[a-3]=n[1],l[a-2]=n[2],l[a-1]=n[3],l[1]=s,s===126?l.writeUInt16BE(i,2):s===127&&(l[2]=l[3]=0,l.writeUIntBE(i,4,6)),l[1]|=128;for(let c=0;c<i;++c)l[a+c]=r[c]^n[c&3];return l}};Cke.exports={WebsocketFrameSend:xoe}});var voe=V((cHr,wke)=>{"use strict";d();var{uid:D4t,states:RS,sentCloseFrameState:WU,emptyBuffer:P4t,opcodes:F4t}=iE(),{kReadyState:DS,kSentClose:GU,kByteParser:xke,kReceivedClose:Eke,kResponse:bke}=wS(),{fireEvent:N4t,failWebsocketConnection:Cy,isClosing:L4t,isClosed:Q4t,isEstablished:M4t,parseExtensions:O4t}=kS(),{channels:_8}=qI(),{CloseEvent:U4t}=w8(),{makeRequest:q4t}=E8(),{fetching:W4t}=bS(),{Headers:G4t,getHeadersList:H4t}=X4(),{getDecodeSplit:V4t}=$u(),{WebsocketFrameSend:j4t}=qU(),boe;try{boe=require("node:crypto")}catch{}function $4t(e,t,r,n,i,s){let a=e;a.protocol=e.protocol==="ws:"?"http:":"https:";let l=q4t({urlList:[a],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(s.headers){let m=H4t(new G4t(s.headers));l.headersList=m}let c=boe.randomBytes(16).toString("base64");l.headersList.append("sec-websocket-key",c),l.headersList.append("sec-websocket-version","13");for(let m of t)l.headersList.append("sec-websocket-protocol",m);return l.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),W4t({request:l,useParallelQueue:!0,dispatcher:s.dispatcher,processResponse(m){if(m.type==="error"||m.status!==101){Cy(n,"Received network error or non-101 status code.");return}if(t.length!==0&&!m.headersList.get("Sec-WebSocket-Protocol")){Cy(n,"Server did not respond with sent protocols.");return}if(m.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){Cy(n,'Server did not set Upgrade header to "websocket".');return}if(m.headersList.get("Connection")?.toLowerCase()!=="upgrade"){Cy(n,'Server did not set Connection header to "upgrade".');return}let h=m.headersList.get("Sec-WebSocket-Accept"),p=boe.createHash("sha1").update(c+D4t).digest("base64");if(h!==p){Cy(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let A=m.headersList.get("Sec-WebSocket-Extensions"),E;if(A!==null&&(E=O4t(A),!E.has("permessage-deflate"))){Cy(n,"Sec-WebSocket-Extensions header does not match.");return}let x=m.headersList.get("Sec-WebSocket-Protocol");if(x!==null&&!V4t("sec-websocket-protocol",l.headersList).includes(x)){Cy(n,"Protocol was not set in the opening handshake.");return}m.socket.on("data",vke),m.socket.on("close",Ike),m.socket.on("error",Tke),_8.open.hasSubscribers&&_8.open.publish({address:m.socket.address(),protocol:x,extensions:A}),i(m,E)}})}o($4t,"establishWebSocketConnection");function z4t(e,t,r,n){if(!(L4t(e)||Q4t(e)))if(!M4t(e))Cy(e,"Connection was closed before it was established."),e[DS]=RS.CLOSING;else if(e[GU]===WU.NOT_SENT){e[GU]=WU.PROCESSING;let i=new j4t;t!==void 0&&r===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(t,0)):t!==void 0&&r!==void 0?(i.frameData=Buffer.allocUnsafe(2+n),i.frameData.writeUInt16BE(t,0),i.frameData.write(r,2,"utf-8")):i.frameData=P4t,e[bke].socket.write(i.createFrame(F4t.CLOSE)),e[GU]=WU.SENT,e[DS]=RS.CLOSING}else e[DS]=RS.CLOSING}o(z4t,"closeWebSocketConnection");function vke(e){this.ws[xke].write(e)||this.pause()}o(vke,"onSocketData");function Ike(){let{ws:e}=this,{[bke]:t}=e;t.socket.off("data",vke),t.socket.off("close",Ike),t.socket.off("error",Tke);let r=e[GU]===WU.SENT&&e[Eke],n=1005,i="",s=e[xke].closingInfo;s&&!s.error?(n=s.code??1005,i=s.reason):e[Eke]||(n=1006),e[DS]=RS.CLOSED,N4t("close",e,(a,l)=>new U4t(a,l),{wasClean:r,code:n,reason:i}),_8.close.hasSubscribers&&_8.close.publish({websocket:e,code:n,reason:i})}o(Ike,"onSocketClose");function Tke(e){let{ws:t}=this;t[DS]=RS.CLOSING,_8.socketError.hasSubscribers&&_8.socketError.publish(e),this.destroy()}o(Tke,"onSocketError");wke.exports={establishWebSocketConnection:$4t,closeWebSocketConnection:z4t}});var _ke=V((dHr,Ske)=>{"use strict";d();var{createInflateRaw:Y4t,Z_DEFAULT_WINDOWBITS:K4t}=require("node:zlib"),{isValidClientWindowBits:J4t}=kS(),X4t=Buffer.from([0,0,255,255]),HU=Symbol("kBuffer"),VU=Symbol("kLength"),Ioe=class{static{o(this,"PerMessageDeflate")}#e;#t={};constructor(t){this.#t.serverNoContextTakeover=t.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=t.get("server_max_window_bits")}decompress(t,r,n){if(!this.#e){let i=K4t;if(this.#t.serverMaxWindowBits){if(!J4t(this.#t.serverMaxWindowBits)){n(new Error("Invalid server_max_window_bits"));return}i=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=Y4t({windowBits:i}),this.#e[HU]=[],this.#e[VU]=0,this.#e.on("data",s=>{this.#e[HU].push(s),this.#e[VU]+=s.length}),this.#e.on("error",s=>{this.#e=null,n(s)})}this.#e.write(t),r&&this.#e.write(X4t),this.#e.flush(()=>{let i=Buffer.concat(this.#e[HU],this.#e[VU]);this.#e[HU].length=0,this.#e[VU]=0,n(null,i)})}};Ske.exports={PerMessageDeflate:Ioe}});var Oke=V((pHr,Mke)=>{"use strict";d();var{Writable:Z4t}=require("node:stream"),eEt=require("node:assert"),{parserStates:zc,opcodes:k8,states:tEt,emptyBuffer:kke,sentCloseFrameState:Bke}=iE(),{kReadyState:rEt,kSentClose:Rke,kResponse:Dke,kReceivedClose:Pke}=wS(),{channels:jU}=qI(),{isValidStatusCode:nEt,isValidOpcode:iEt,failWebsocketConnection:Id,websocketMessageReceived:Fke,utf8Decode:oEt,isControlFrame:Nke,isTextBinaryFrame:Toe,isContinuationFrame:sEt}=kS(),{WebsocketFrameSend:Lke}=qU(),{closeWebSocketConnection:Qke}=voe(),{PerMessageDeflate:aEt}=_ke(),woe=class extends Z4t{static{o(this,"ByteParser")}#e=[];#t=0;#i=!1;#n=zc.INFO;#r={};#o=[];#s;constructor(t,r){super(),this.ws=t,this.#s=r??new Map,this.#s.has("permessage-deflate")&&this.#s.set("permessage-deflate",new aEt(r))}_write(t,r,n){this.#e.push(t),this.#t+=t.length,this.#i=!0,this.run(n)}run(t){for(;this.#i;)if(this.#n===zc.INFO){if(this.#t<2)return t();let r=this.consume(2),n=(r[0]&128)!==0,i=r[0]&15,s=(r[1]&128)===128,a=!n&&i!==k8.CONTINUATION,l=r[1]&127,c=r[0]&64,u=r[0]&32,f=r[0]&16;if(!iEt(i))return Id(this.ws,"Invalid opcode received"),t();if(s)return Id(this.ws,"Frame cannot be masked"),t();if(c!==0&&!this.#s.has("permessage-deflate")){Id(this.ws,"Expected RSV1 to be clear.");return}if(u!==0||f!==0){Id(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(a&&!Toe(i)){Id(this.ws,"Invalid frame type was fragmented.");return}if(Toe(i)&&this.#o.length>0){Id(this.ws,"Expected continuation frame");return}if(this.#r.fragmented&&a){Id(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((l>125||a)&&Nke(i)){Id(this.ws,"Control frame either too large or fragmented");return}if(sEt(i)&&this.#o.length===0&&!this.#r.compressed){Id(this.ws,"Unexpected continuation frame");return}l<=125?(this.#r.payloadLength=l,this.#n=zc.READ_DATA):l===126?this.#n=zc.PAYLOADLENGTH_16:l===127&&(this.#n=zc.PAYLOADLENGTH_64),Toe(i)&&(this.#r.binaryType=i,this.#r.compressed=c!==0),this.#r.opcode=i,this.#r.masked=s,this.#r.fin=n,this.#r.fragmented=a}else if(this.#n===zc.PAYLOADLENGTH_16){if(this.#t<2)return t();let r=this.consume(2);this.#r.payloadLength=r.readUInt16BE(0),this.#n=zc.READ_DATA}else if(this.#n===zc.PAYLOADLENGTH_64){if(this.#t<8)return t();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){Id(this.ws,"Received payload length > 2^31 bytes.");return}let i=r.readUInt32BE(4);this.#r.payloadLength=(n<<8)+i,this.#n=zc.READ_DATA}else if(this.#n===zc.READ_DATA){if(this.#t<this.#r.payloadLength)return t();let r=this.consume(this.#r.payloadLength);if(Nke(this.#r.opcode))this.#i=this.parseControlFrame(r),this.#n=zc.INFO;else if(this.#r.compressed){this.#s.get("permessage-deflate").decompress(r,this.#r.fin,(n,i)=>{if(n){Qke(this.ws,1007,n.message,n.message.length);return}if(this.#o.push(i),!this.#r.fin){this.#n=zc.INFO,this.#i=!0,this.run(t);return}Fke(this.ws,this.#r.binaryType,Buffer.concat(this.#o)),this.#i=!0,this.#n=zc.INFO,this.#o.length=0,this.run(t)}),this.#i=!1;break}else{if(this.#o.push(r),!this.#r.fragmented&&this.#r.fin){let n=Buffer.concat(this.#o);Fke(this.ws,this.#r.binaryType,n),this.#o.length=0}this.#n=zc.INFO}}}consume(t){if(t>this.#t)throw new Error("Called consume() before buffers satiated.");if(t===0)return kke;if(this.#e[0].length===t)return this.#t-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(t),n=0;for(;n!==t;){let i=this.#e[0],{length:s}=i;if(s+n===t){r.set(this.#e.shift(),n);break}else if(s+n>t){r.set(i.subarray(0,t-n),n),this.#e[0]=i.subarray(t-n);break}else r.set(this.#e.shift(),n),n+=i.length}return this.#t-=t,r}parseCloseBody(t){eEt(t.length!==1);let r;if(t.length>=2&&(r=t.readUInt16BE(0)),r!==void 0&&!nEt(r))return{code:1002,reason:"Invalid status code",error:!0};let n=t.subarray(2);n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3));try{n=oEt(n)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:r,reason:n,error:!1}}parseControlFrame(t){let{opcode:r,payloadLength:n}=this.#r;if(r===k8.CLOSE){if(n===1)return Id(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#r.closeInfo=this.parseCloseBody(t),this.#r.closeInfo.error){let{code:i,reason:s}=this.#r.closeInfo;return Qke(this.ws,i,s,s.length),Id(this.ws,s),!1}if(this.ws[Rke]!==Bke.SENT){let i=kke;this.#r.closeInfo.code&&(i=Buffer.allocUnsafe(2),i.writeUInt16BE(this.#r.closeInfo.code,0));let s=new Lke(i);this.ws[Dke].socket.write(s.createFrame(k8.CLOSE),a=>{a||(this.ws[Rke]=Bke.SENT)})}return this.ws[rEt]=tEt.CLOSING,this.ws[Pke]=!0,!1}else if(r===k8.PING){if(!this.ws[Pke]){let i=new Lke(t);this.ws[Dke].socket.write(i.createFrame(k8.PONG)),jU.ping.hasSubscribers&&jU.ping.publish({payload:t})}}else r===k8.PONG&&jU.pong.hasSubscribers&&jU.pong.publish({payload:t});return!0}get closingInfo(){return this.#r.closeInfo}};Mke.exports={ByteParser:woe}});var Hke=V((yHr,Gke)=>{"use strict";d();var{WebsocketFrameSend:lEt}=qU(),{opcodes:Uke,sendHints:B8}=iE(),cEt=Mne(),qke=Buffer[Symbol.species],Soe=class{static{o(this,"SendQueue")}#e=new cEt;#t=!1;#i;constructor(t){this.#i=t}add(t,r,n){if(n!==B8.blob){let s=Wke(t,n);if(!this.#t)this.#i.write(s,r);else{let a={promise:null,callback:r,frame:s};this.#e.push(a)}return}let i={promise:t.arrayBuffer().then(s=>{i.promise=null,i.frame=Wke(s,n)}),callback:r,frame:null};this.#e.push(i),this.#t||this.#n()}async#n(){this.#t=!0;let t=this.#e;for(;!t.isEmpty();){let r=t.shift();r.promise!==null&&await r.promise,this.#i.write(r.frame,r.callback),r.callback=r.frame=null}this.#t=!1}};function Wke(e,t){return new lEt(uEt(e,t)).createFrame(t===B8.string?Uke.TEXT:Uke.BINARY)}o(Wke,"createFrame");function uEt(e,t){switch(t){case B8.string:return Buffer.from(e);case B8.arrayBuffer:case B8.blob:return new qke(e);case B8.typedArray:return new qke(e.buffer,e.byteOffset,e.byteLength)}}o(uEt,"toBuffer");Gke.exports={SendQueue:Soe}});var Zke=V((xHr,Xke)=>{"use strict";d();var{webidl:_n}=$l(),{URLSerializer:fEt}=Gc(),{environmentSettingsObject:Vke}=$u(),{staticPropertyDescriptors:Ey,states:PS,sentCloseFrameState:dEt,sendHints:$U}=iE(),{kWebSocketURL:jke,kReadyState:_oe,kController:mEt,kBinaryType:zU,kResponse:$ke,kSentClose:hEt,kByteParser:pEt}=wS(),{isConnecting:gEt,isEstablished:AEt,isClosing:yEt,isValidSubprotocol:CEt,fireEvent:zke}=kS(),{establishWebSocketConnection:EEt,closeWebSocketConnection:Yke}=voe(),{ByteParser:xEt}=Oke(),{kEnumerableProperty:Td,isBlobLike:Kke}=fi(),{getGlobalDispatcher:bEt}=lU(),{types:Jke}=require("node:util"),{ErrorEvent:vEt,CloseEvent:IEt}=w8(),{SendQueue:TEt}=Hke(),ef=class e extends EventTarget{static{o(this,"WebSocket")}#e={open:null,error:null,close:null,message:null};#t=0;#i="";#n="";#r;constructor(t,r=[]){super(),_n.util.markAsUncloneable(this);let n="WebSocket constructor";_n.argumentLengthCheck(arguments,1,n);let i=_n.converters["DOMString or sequence<DOMString> or WebSocketInit"](r,n,"options");t=_n.converters.USVString(t,n,"url"),r=i.protocols;let s=Vke.settingsObject.baseUrl,a;try{a=new URL(t,s)}catch(c){throw new DOMException(c,"SyntaxError")}if(a.protocol==="http:"?a.protocol="ws:":a.protocol==="https:"&&(a.protocol="wss:"),a.protocol!=="ws:"&&a.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${a.protocol}`,"SyntaxError");if(a.hash||a.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof r=="string"&&(r=[r]),r.length!==new Set(r.map(c=>c.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(r.length>0&&!r.every(c=>CEt(c)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[jke]=new URL(a.href);let l=Vke.settingsObject;this[mEt]=EEt(a,r,l,this,(c,u)=>this.#o(c,u),i),this[_oe]=e.CONNECTING,this[hEt]=dEt.NOT_SENT,this[zU]="blob"}close(t=void 0,r=void 0){_n.brandCheck(this,e);let n="WebSocket.close";if(t!==void 0&&(t=_n.converters["unsigned short"](t,n,"code",{clamp:!0})),r!==void 0&&(r=_n.converters.USVString(r,n,"reason")),t!==void 0&&t!==1e3&&(t<3e3||t>4999))throw new DOMException("invalid code","InvalidAccessError");let i=0;if(r!==void 0&&(i=Buffer.byteLength(r),i>123))throw new DOMException(`Reason must be less than 123 bytes; received ${i}`,"SyntaxError");Yke(this,t,r,i)}send(t){_n.brandCheck(this,e);let r="WebSocket.send";if(_n.argumentLengthCheck(arguments,1,r),t=_n.converters.WebSocketSendData(t,r,"data"),gEt(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!AEt(this)||yEt(this)))if(typeof t=="string"){let n=Buffer.byteLength(t);this.#t+=n,this.#r.add(t,()=>{this.#t-=n},$U.string)}else Jke.isArrayBuffer(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},$U.arrayBuffer)):ArrayBuffer.isView(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},$U.typedArray)):Kke(t)&&(this.#t+=t.size,this.#r.add(t,()=>{this.#t-=t.size},$U.blob))}get readyState(){return _n.brandCheck(this,e),this[_oe]}get bufferedAmount(){return _n.brandCheck(this,e),this.#t}get url(){return _n.brandCheck(this,e),fEt(this[jke])}get extensions(){return _n.brandCheck(this,e),this.#n}get protocol(){return _n.brandCheck(this,e),this.#i}get onopen(){return _n.brandCheck(this,e),this.#e.open}set onopen(t){_n.brandCheck(this,e),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onerror(){return _n.brandCheck(this,e),this.#e.error}set onerror(t){_n.brandCheck(this,e),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}get onclose(){return _n.brandCheck(this,e),this.#e.close}set onclose(t){_n.brandCheck(this,e),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof t=="function"?(this.#e.close=t,this.addEventListener("close",t)):this.#e.close=null}get onmessage(){return _n.brandCheck(this,e),this.#e.message}set onmessage(t){_n.brandCheck(this,e),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get binaryType(){return _n.brandCheck(this,e),this[zU]}set binaryType(t){_n.brandCheck(this,e),t!=="blob"&&t!=="arraybuffer"?this[zU]="blob":this[zU]=t}#o(t,r){this[$ke]=t;let n=new xEt(this,r);n.on("drain",wEt),n.on("error",SEt.bind(this)),t.socket.ws=this,this[pEt]=n,this.#r=new TEt(t.socket),this[_oe]=PS.OPEN;let i=t.headersList.get("sec-websocket-extensions");i!==null&&(this.#n=i);let s=t.headersList.get("sec-websocket-protocol");s!==null&&(this.#i=s),zke("open",this)}};ef.CONNECTING=ef.prototype.CONNECTING=PS.CONNECTING;ef.OPEN=ef.prototype.OPEN=PS.OPEN;ef.CLOSING=ef.prototype.CLOSING=PS.CLOSING;ef.CLOSED=ef.prototype.CLOSED=PS.CLOSED;Object.defineProperties(ef.prototype,{CONNECTING:Ey,OPEN:Ey,CLOSING:Ey,CLOSED:Ey,url:Td,readyState:Td,bufferedAmount:Td,onopen:Td,onerror:Td,onclose:Td,close:Td,onmessage:Td,binaryType:Td,send:Td,extensions:Td,protocol:Td,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(ef,{CONNECTING:Ey,OPEN:Ey,CLOSING:Ey,CLOSED:Ey});_n.converters["sequence<DOMString>"]=_n.sequenceConverter(_n.converters.DOMString);_n.converters["DOMString or sequence<DOMString>"]=function(e,t,r){return _n.util.Type(e)==="Object"&&Symbol.iterator in e?_n.converters["sequence<DOMString>"](e):_n.converters.DOMString(e,t,r)};_n.converters.WebSocketInit=_n.dictionaryConverter([{key:"protocols",converter:_n.converters["DOMString or sequence<DOMString>"],defaultValue:o(()=>new Array(0),"defaultValue")},{key:"dispatcher",converter:_n.converters.any,defaultValue:o(()=>bEt(),"defaultValue")},{key:"headers",converter:_n.nullableConverter(_n.converters.HeadersInit)}]);_n.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(e){return _n.util.Type(e)==="Object"&&!(Symbol.iterator in e)?_n.converters.WebSocketInit(e):{protocols:_n.converters["DOMString or sequence<DOMString>"](e)}};_n.converters.WebSocketSendData=function(e){if(_n.util.Type(e)==="Object"){if(Kke(e))return _n.converters.Blob(e,{strict:!1});if(ArrayBuffer.isView(e)||Jke.isArrayBuffer(e))return _n.converters.BufferSource(e)}return _n.converters.USVString(e)};function wEt(){this.ws[$ke].socket.resume()}o(wEt,"onParserDrain");function SEt(e){let t,r;e instanceof IEt?(t=e.reason,r=e.code):t=e.message,zke("error",this,()=>new vEt("error",{error:e,message:t})),Yke(this,r)}o(SEt,"onParserError");Xke.exports={WebSocket:ef}});var koe=V((IHr,eBe)=>{"use strict";d();function _Et(e){return e.indexOf("\0")===-1}o(_Et,"isValidLastEventId");function kEt(e){if(e.length===0)return!1;for(let t=0;t<e.length;t++)if(e.charCodeAt(t)<48||e.charCodeAt(t)>57)return!1;return!0}o(kEt,"isASCIINumber");function BEt(e){return new Promise(t=>{setTimeout(t,e).unref()})}o(BEt,"delay");eBe.exports={isValidLastEventId:_Et,isASCIINumber:kEt,delay:BEt}});var iBe=V((SHr,nBe)=>{"use strict";d();var{Transform:REt}=require("node:stream"),{isASCIINumber:tBe,isValidLastEventId:rBe}=koe(),K1=[239,187,191],Boe=10,YU=13,DEt=58,PEt=32,Roe=class extends REt{static{o(this,"EventSourceStream")}state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(t={}){t.readableObjectMode=!0,super(t),this.state=t.eventSourceSettings||{},t.push&&(this.push=t.push)}_transform(t,r,n){if(t.length===0){n();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,t]):this.buffer=t,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===K1[0]){n();return}this.checkBOM=!1,n();return;case 2:if(this.buffer[0]===K1[0]&&this.buffer[1]===K1[1]){n();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===K1[0]&&this.buffer[1]===K1[1]&&this.buffer[2]===K1[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,n();return}this.checkBOM=!1;break;default:this.buffer[0]===K1[0]&&this.buffer[1]===K1[1]&&this.buffer[2]===K1[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===Boe){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===Boe||this.buffer[this.pos]===YU){this.buffer[this.pos]===YU&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===Boe||this.buffer[this.pos]===YU){this.buffer[this.pos]===YU&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}n()}parseLine(t,r){if(t.length===0)return;let n=t.indexOf(DEt);if(n===0)return;let i="",s="";if(n!==-1){i=t.subarray(0,n).toString("utf8");let a=n+1;t[a]===PEt&&++a,s=t.subarray(a).toString("utf8")}else i=t.toString("utf8"),s="";switch(i){case"data":r[i]===void 0?r[i]=s:r[i]+=`
${s}`;break;case"retry":tBe(s)&&(r[i]=s);break;case"id":rBe(s)&&(r[i]=s);break;case"event":s.length>0&&(r[i]=s);break}}processEvent(t){t.retry&&tBe(t.retry)&&(this.state.reconnectionTime=parseInt(t.retry,10)),t.id&&rBe(t.id)&&(this.state.lastEventId=t.id),t.data!==void 0&&this.push({type:t.event||"message",options:{data:t.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};nBe.exports={EventSourceStream:Roe}});var dBe=V((BHr,fBe)=>{"use strict";d();var{pipeline:FEt}=require("node:stream"),{fetching:NEt}=bS(),{makeRequest:LEt}=E8(),{webidl:J1}=$l(),{EventSourceStream:QEt}=iBe(),{parseMIMEType:MEt}=Gc(),{createFastMessageEvent:OEt}=w8(),{isNetworkError:oBe}=ES(),{delay:UEt}=koe(),{kEnumerableProperty:oE}=fi(),{environmentSettingsObject:sBe}=$u(),aBe=!1,lBe=3e3,NS=0,cBe=1,LS=2,qEt="anonymous",WEt="use-credentials",R8=class e extends EventTarget{static{o(this,"EventSource")}#e={open:null,error:null,message:null};#t=null;#i=!1;#n=NS;#r=null;#o=null;#s;#a;constructor(t,r={}){super(),J1.util.markAsUncloneable(this);let n="EventSource constructor";J1.argumentLengthCheck(arguments,1,n),aBe||(aBe=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),t=J1.converters.USVString(t,n,"url"),r=J1.converters.EventSourceInitDict(r,n,"eventSourceInitDict"),this.#s=r.dispatcher,this.#a={lastEventId:"",reconnectionTime:lBe};let i=sBe,s;try{s=new URL(t,i.settingsObject.baseUrl),this.#a.origin=s.origin}catch(c){throw new DOMException(c,"SyntaxError")}this.#t=s.href;let a=qEt;r.withCredentials&&(a=WEt,this.#i=!0);let l={redirect:"follow",keepalive:!0,mode:"cors",credentials:a==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};l.client=sBe.settingsObject,l.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],l.cache="no-store",l.initiator="other",l.urlList=[new URL(this.#t)],this.#r=LEt(l),this.#l()}get readyState(){return this.#n}get url(){return this.#t}get withCredentials(){return this.#i}#l(){if(this.#n===LS)return;this.#n=NS;let t={request:this.#r,dispatcher:this.#s},r=o(n=>{oBe(n)&&(this.dispatchEvent(new Event("error")),this.close()),this.#c()},"processEventSourceEndOfBody");t.processResponseEndOfBody=r,t.processResponse=n=>{if(oBe(n))if(n.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#c();return}let i=n.headersList.get("content-type",!0),s=i!==null?MEt(i):"failure",a=s!=="failure"&&s.essence==="text/event-stream";if(n.status!==200||a===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#n=cBe,this.dispatchEvent(new Event("open")),this.#a.origin=n.urlList[n.urlList.length-1].origin;let l=new QEt({eventSourceSettings:this.#a,push:o(c=>{this.dispatchEvent(OEt(c.type,c.options))},"push")});FEt(n.body.stream,l,c=>{c?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#o=NEt(t)}async#c(){this.#n!==LS&&(this.#n=NS,this.dispatchEvent(new Event("error")),await UEt(this.#a.reconnectionTime),this.#n===NS&&(this.#a.lastEventId.length&&this.#r.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#l()))}close(){J1.brandCheck(this,e),this.#n!==LS&&(this.#n=LS,this.#o.abort(),this.#r=null)}get onopen(){return this.#e.open}set onopen(t){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(t){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(t){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}},uBe={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:NS,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:cBe,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:LS,writable:!1}};Object.defineProperties(R8,uBe);Object.defineProperties(R8.prototype,uBe);Object.defineProperties(R8.prototype,{close:oE,onerror:oE,onmessage:oE,onopen:oE,readyState:oE,url:oE,withCredentials:oE});J1.converters.EventSourceInitDict=J1.dictionaryConverter([{key:"withCredentials",converter:J1.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"dispatcher",converter:J1.converters.any}]);fBe.exports={EventSource:R8,defaultReconnectionTime:lBe}});var gBe=V((PHr,En)=>{"use strict";d();var GEt=oS(),mBe=Qw(),HEt=a8(),VEt=ETe(),jEt=l8(),$Et=rie(),zEt=QTe(),YEt=GTe(),hBe=lo(),JU=fi(),{InvalidArgumentError:KU}=hBe,D8=kwe(),KEt=Ow(),JEt=Qie(),XEt=uSe(),ZEt=Uie(),ext=Iie(),txt=XO(),{getGlobalDispatcher:pBe,setGlobalDispatcher:rxt}=lU(),nxt=cU(),ixt=qO(),oxt=WO();Object.assign(mBe.prototype,D8);En.exports.Dispatcher=mBe;En.exports.Client=GEt;En.exports.Pool=HEt;En.exports.BalancedPool=VEt;En.exports.Agent=jEt;En.exports.ProxyAgent=$Et;En.exports.EnvHttpProxyAgent=zEt;En.exports.RetryAgent=YEt;En.exports.RetryHandler=txt;En.exports.DecoratorHandler=nxt;En.exports.RedirectHandler=ixt;En.exports.createRedirectInterceptor=oxt;En.exports.interceptors={redirect:ASe(),retry:CSe(),dump:xSe(),dns:ISe()};En.exports.buildConnector=KEt;En.exports.errors=hBe;En.exports.util={parseHeaders:JU.parseHeaders,headerNameToString:JU.headerNameToString};function QS(e){return(t,r,n)=>{if(typeof r=="function"&&(n=r,r=null),!t||typeof t!="string"&&typeof t!="object"&&!(t instanceof URL))throw new KU("invalid url");if(r!=null&&typeof r!="object")throw new KU("invalid opts");if(r&&r.path!=null){if(typeof r.path!="string")throw new KU("invalid opts.path");let a=r.path;r.path.startsWith("/")||(a=`/${a}`),t=new URL(JU.parseOrigin(t).origin+a)}else r||(r=typeof t=="object"?t:{}),t=JU.parseURL(t);let{agent:i,dispatcher:s=pBe()}=r;if(i)throw new KU("unsupported opts.agent. Did you mean opts.client?");return e.call(s,{...r,origin:t.origin,path:t.search?`${t.pathname}${t.search}`:t.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}o(QS,"makeDispatcher");En.exports.setGlobalDispatcher=rxt;En.exports.getGlobalDispatcher=pBe;var sxt=bS().fetch;En.exports.fetch=o(async function(t,r=void 0){try{return await sxt(t,r)}catch(n){throw n&&typeof n=="object"&&Error.captureStackTrace(n),n}},"fetch");En.exports.Headers=X4().Headers;En.exports.Response=ES().Response;En.exports.Request=E8().Request;En.exports.FormData=jw().FormData;En.exports.File=globalThis.File??require("node:buffer").File;En.exports.FileReader=M_e().FileReader;var{setGlobalOrigin:axt,getGlobalOrigin:lxt}=nne();En.exports.setGlobalOrigin=axt;En.exports.getGlobalOrigin=lxt;var{CacheStorage:cxt}=$_e(),{kConstruct:uxt}=BU();En.exports.caches=new cxt(uxt);var{deleteCookie:fxt,getCookies:dxt,getSetCookies:mxt,setCookie:hxt}=oke();En.exports.deleteCookie=fxt;En.exports.getCookies=dxt;En.exports.getSetCookies=mxt;En.exports.setCookie=hxt;var{parseMIMEType:pxt,serializeAMimeType:gxt}=Gc();En.exports.parseMIMEType=pxt;En.exports.serializeAMimeType=gxt;var{CloseEvent:Axt,ErrorEvent:yxt,MessageEvent:Cxt}=w8();En.exports.WebSocket=Zke().WebSocket;En.exports.CloseEvent=Axt;En.exports.ErrorEvent=yxt;En.exports.MessageEvent=Cxt;En.exports.request=QS(D8.request);En.exports.stream=QS(D8.stream);En.exports.pipeline=QS(D8.pipeline);En.exports.connect=QS(D8.connect);En.exports.upgrade=QS(D8.upgrade);En.exports.MockClient=JEt;En.exports.MockPool=ZEt;En.exports.MockAgent=XEt;En.exports.mockErrors=ext;var{EventSource:Ext}=dBe();En.exports.EventSource=Ext});var Xn=V((LHr,ABe)=>{d();ABe.exports={options:{usePureJavaScript:!1}}});var EBe=V((MHr,CBe)=>{d();var Doe={};CBe.exports=Doe;var yBe={};Doe.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=xxt(e,t);else{var i=0,s=t.length,a=t.charAt(0),l=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<l.length;++c)u+=l[c]<<8,l[c]=u%s,u=u/s|0;for(;u>0;)l.push(u%s),u=u/s|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=a;for(i=l.length-1;i>=0;--i)n+=t[l[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};Doe.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=yBe[t];if(!r){r=yBe[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,s=t.charAt(0),a=[0],n=0;n<e.length;n++){var l=r[e.charCodeAt(n)];if(l===void 0)return;for(var c=0,u=l;c<a.length;++c)u+=a[c]*i,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var f=0;e[f]===s&&f<e.length-1;++f)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function xxt(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var a=0,l=e.at(r);a<s.length;++a)l+=s[a]<<8,s[a]=l%n,l=l/n|0;for(;l>0;)s.push(l%n),l=l/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=s.length-1;r>=0;--r)c+=t[s[r]];return c}o(xxt,"_encodeWithByteBuffer")});var Ji=V((qHr,IBe)=>{d();var xBe=Xn(),bBe=EBe(),Fe=IBe.exports=xBe.util=xBe.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){Fe.nextTick=process.nextTick,typeof setImmediate=="function"?Fe.setImmediate=setImmediate:Fe.setImmediate=Fe.nextTick;return}if(typeof setImmediate=="function"){Fe.setImmediate=function(){return setImmediate.apply(void 0,arguments)},Fe.nextTick=function(l){return setImmediate(l)};return}if(Fe.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(f){f()})}};var a=l;o(l,"handler");var e="forge.setImmediate",t=[];Fe.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(i,{attributes:!0});var s=Fe.setImmediate;Fe.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),s(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}Fe.nextTick=Fe.setImmediate})();Fe.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;Fe.globalScope=function(){return Fe.isNodejs?global:typeof self>"u"?window:self}();Fe.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};Fe.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};Fe.isArrayBufferView=function(e){return e&&Fe.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function MS(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}o(MS,"_checkBitsParam");Fe.ByteBuffer=Poe;function Poe(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(Fe.isArrayBuffer(e)||Fe.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof Poe||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}o(Poe,"ByteStringBuffer");Fe.ByteStringBuffer=Poe;var bxt=4096;Fe.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>bxt&&(this.data.substr(0,1),this._constructedStringLength=0)};Fe.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};Fe.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};Fe.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};Fe.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};Fe.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};Fe.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(Fe.encodeUtf8(e))};Fe.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Fe.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Fe.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Fe.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};Fe.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};Fe.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};Fe.ByteStringBuffer.prototype.putInt=function(e,t){MS(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};Fe.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};Fe.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};Fe.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};Fe.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};Fe.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};Fe.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};Fe.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};Fe.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};Fe.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};Fe.ByteStringBuffer.prototype.getInt=function(e){MS(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};Fe.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Fe.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Fe.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Fe.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};Fe.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};Fe.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};Fe.ByteStringBuffer.prototype.copy=function(){var e=Fe.createBuffer(this.data);return e.read=this.read,e};Fe.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};Fe.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};Fe.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};Fe.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Fe.ByteStringBuffer.prototype.toString=function(){return Fe.decodeUtf8(this.bytes())};function vxt(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=Fe.isArrayBuffer(e),n=Fe.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o(vxt,"DataBuffer");Fe.DataBuffer=vxt;Fe.DataBuffer.prototype.length=function(){return this.write-this.read};Fe.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};Fe.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};Fe.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};Fe.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};Fe.DataBuffer.prototype.putBytes=function(e,t){if(Fe.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(Fe.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof Fe.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&Fe.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof Fe.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var s;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=Fe.binary.hex.decode(e,s,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=Fe.binary.base64.decode(e,s,this.write),this;if(t==="utf8"&&(e=Fe.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=Fe.binary.raw.decode(s),this;if(t==="utf16")return this.accommodate(e.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=Fe.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};Fe.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};Fe.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};Fe.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};Fe.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};Fe.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};Fe.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};Fe.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};Fe.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};Fe.DataBuffer.prototype.putInt=function(e,t){MS(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};Fe.DataBuffer.prototype.putSignedInt=function(e,t){return MS(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};Fe.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};Fe.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};Fe.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};Fe.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};Fe.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};Fe.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};Fe.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};Fe.DataBuffer.prototype.getInt=function(e){MS(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};Fe.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Fe.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Fe.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Fe.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};Fe.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};Fe.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};Fe.DataBuffer.prototype.copy=function(){return new Fe.DataBuffer(this)};Fe.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};Fe.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};Fe.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};Fe.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Fe.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return Fe.binary.raw.encode(t);if(e==="hex")return Fe.binary.hex.encode(t);if(e==="base64")return Fe.binary.base64.encode(t);if(e==="utf8")return Fe.text.utf8.decode(t);if(e==="utf16")return Fe.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};Fe.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=Fe.encodeUtf8(e)),new Fe.ByteBuffer(e)};Fe.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};Fe.xorBytes=function(e,t,r){for(var n="",i="",s="",a=0,l=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),l>=10&&(n+=s,s="",l=0),s+=String.fromCharCode(i),++l;return n+=s,n};Fe.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};Fe.bytesToHex=function(e){return Fe.createBuffer(e).toHex()};Fe.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var xy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",by=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],vBe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Fe.encode64=function(e,t){for(var r="",n="",i,s,a,l=0;l<e.length;)i=e.charCodeAt(l++),s=e.charCodeAt(l++),a=e.charCodeAt(l++),r+=xy.charAt(i>>2),r+=xy.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=xy.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":xy.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Fe.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,s,a=0;a<e.length;)r=by[e.charCodeAt(a++)-43],n=by[e.charCodeAt(a++)-43],i=by[e.charCodeAt(a++)-43],s=by[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(t+=String.fromCharCode((i&3)<<6|s)));return t};Fe.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};Fe.decodeUtf8=function(e){return decodeURIComponent(escape(e))};Fe.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:bBe.encode,decode:bBe.decode}};Fe.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};Fe.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};Fe.binary.hex.encode=Fe.bytesToHex;Fe.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,s=r;for(e.length&1&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n};Fe.binary.base64.encode=function(e,t){for(var r="",n="",i,s,a,l=0;l<e.byteLength;)i=e[l++],s=e[l++],a=e[l++],r+=xy.charAt(i>>2),r+=xy.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=xy.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":xy.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Fe.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,a,l,c=0,u=r;c<e.length;)i=by[e.charCodeAt(c++)-43],s=by[e.charCodeAt(c++)-43],a=by[e.charCodeAt(c++)-43],l=by[e.charCodeAt(c++)-43],n[u++]=i<<2|s>>4,a!==64&&(n[u++]=(s&15)<<4|a>>2,l!==64&&(n[u++]=(a&3)<<6|l));return t?u-r:n.subarray(0,u)};Fe.binary.base58.encode=function(e,t){return Fe.binary.baseN.encode(e,vBe,t)};Fe.binary.base58.decode=function(e,t){return Fe.binary.baseN.decode(e,vBe,t)};Fe.text={utf8:{},utf16:{}};Fe.text.utf8.encode=function(e,t,r){e=Fe.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};Fe.text.utf8.decode=function(e){return Fe.decodeUtf8(String.fromCharCode.apply(null,e))};Fe.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,a=r,l=0;l<e.length;++l)i[a++]=e.charCodeAt(l),s+=2;return t?s-r:n};Fe.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};Fe.deflate=function(e,t,r){if(t=Fe.decode64(e.deflate(Fe.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};Fe.inflate=function(e,t,r){var n=e.inflate(Fe.encode64(t)).rval;return n===null?null:Fe.decode64(n)};var Foe=o(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=Fe.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),Noe=o(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(Fe.decode64(r))),r},"_getStorageObject"),Ixt=o(function(e,t,r,n){var i=Noe(e,t);i===null&&(i={}),i[r]=n,Foe(e,t,i)},"_setItem"),Txt=o(function(e,t,r){var n=Noe(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),wxt=o(function(e,t,r){var n=Noe(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),Foe(e,t,n)}},"_removeItem"),Sxt=o(function(e,t){Foe(e,t,null)},"_clearItems"),XU=o(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,a=null;for(var l in r){i=r[l];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),s=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),s=!0)}catch(c){a=c}if(s)break}if(!s)throw a;return n},"_callStorageFunction");Fe.setItem=function(e,t,r,n,i){XU(Ixt,arguments,i)};Fe.getItem=function(e,t,r,n){return XU(Txt,arguments,n)};Fe.removeItem=function(e,t,r,n){XU(wxt,arguments,n)};Fe.clearItems=function(e,t,r){XU(Sxt,arguments,r)};Fe.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};Fe.format=function(e){for(var t=/%./g,r,n,i=0,s=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&s.push(n),a=t.lastIndex;var l=r[0][1];switch(l){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+l+"?>")}}return s.push(e.substring(a)),s.join("")};Fe.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,l=n===void 0?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",f=u.length>3?u.length%3:0;return c+(f?u.substr(0,f)+l:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+l)+(s?a+Math.abs(i-u).toFixed(s).slice(2):"")};Fe.formatSize=function(e){return e>=1073741824?e=Fe.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=Fe.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=Fe.formatNumber(e/1024,0)+" KiB":e=Fe.formatNumber(e,0)+" bytes",e};Fe.bytesFromIP=function(e){return e.indexOf(".")!==-1?Fe.bytesFromIPv4(e):e.indexOf(":")!==-1?Fe.bytesFromIPv6(e):null};Fe.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=Fe.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};Fe.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=Fe.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=Fe.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};Fe.bytesToIP=function(e){return e.length===4?Fe.bytesToIPv4(e):e.length===16?Fe.bytesToIPv6(e):null};Fe.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};Fe.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=Fe.bytesToHex(e[i]+e[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var a=r[r.length-1],l=t.length;!a||l!==a.end+1?r.push({start:l,end:l}):(a.end=l,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};Fe.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in Fe&&!e.update)return t(null,Fe.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return Fe.cores=navigator.hardwareConcurrency,t(null,Fe.cores);if(typeof Worker>"u")return Fe.cores=1,t(null,Fe.cores);if(typeof Blob>"u")return Fe.cores=2,t(null,Fe.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var l=Date.now(),c=l+4;Date.now()<c;);self.postMessage({st:l,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,l,c){if(l===0){var u=Math.floor(a.reduce(function(f,m){return f+m},0)/a.length);return Fe.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,Fe.cores)}i(c,function(f,m){a.push(s(c,m)),n(a,l-1,c)})}o(n,"sample");function i(a,l){for(var c=[],u=[],f=0;f<a;++f){var m=new Worker(r);m.addEventListener("message",function(h){if(u.push(h.data),u.length===a){for(var p=0;p<a;++p)c[p].terminate();l(null,u)}}),c.push(m)}for(var f=0;f<a;++f)c[f].postMessage(f)}o(i,"map");function s(a,l){for(var c=[],u=0;u<a;++u)for(var f=l[u],m=c[u]=[],h=0;h<a;++h)if(u!==h){var p=l[h];(f.st>p.st&&f.st<p.et||p.st>f.st&&p.st<f.et)&&m.push(h)}return c.reduce(function(A,E){return Math.max(A,E.length)},0)}o(s,"reduce")}});var ZU=V((HHr,TBe)=>{d();var El=Xn();Ji();TBe.exports=El.cipher=El.cipher||{};El.cipher.algorithms=El.cipher.algorithms||{};El.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=El.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new El.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};El.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=El.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new El.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};El.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),El.cipher.algorithms[e]=t};El.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in El.cipher.algorithms?El.cipher.algorithms[e]:null};var Loe=El.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};Loe.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=El.util.createBuffer(),this.output=e.output||El.util.createBuffer(),this.mode.start(t)};Loe.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Loe.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var Moe=V((jHr,wBe)=>{d();var xl=Xn();Ji();xl.cipher=xl.cipher||{};var yi=wBe.exports=xl.cipher.modes=xl.cipher.modes||{};yi.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};yi.ecb.prototype.start=function(e){};yi.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};yi.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};yi.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};yi.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};yi.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};yi.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=eq(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};yi.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};yi.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};yi.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};yi.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};yi.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=xl.util.createBuffer(),this._partialBytes=0};yi.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=eq(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};yi.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};yi.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};yi.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=xl.util.createBuffer(),this._partialBytes=0};yi.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=eq(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};yi.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};yi.ofb.prototype.decrypt=yi.ofb.prototype.encrypt;yi.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=xl.util.createBuffer(),this._partialBytes=0};yi.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=eq(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};yi.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}tq(this._inBlock)};yi.ctr.prototype.decrypt=yi.ctr.prototype.encrypt;yi.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=xl.util.createBuffer(),this._partialBytes=0,this._R=3774873600};yi.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=xl.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=xl.util.createBuffer(e.additionalData):r=xl.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=xl.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Qoe(n*8)))}this._inBlock=this._j0.slice(0),tq(this._inBlock),this._partialBytes=0,r=xl.util.createBuffer(r),this._aDataLength=Qoe(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};yi.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),tq(this._inBlock)};yi.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),tq(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};yi.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=xl.util.createBuffer();var n=this._aDataLength.concat(Qoe(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};yi.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var s=e[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};yi.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};yi.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,s=this._m[r][i];t[0]^=s[0],t[1]^=s[1],t[2]^=s[2],t[3]^=s[3]}return t};yi.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};yi.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var l=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;l[c]=1<<t-1<<u,s[a]=this.generateSubHashTable(this.multiply(l,e),t)}return s};yi.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var l=i[s],c=i[a];i[s+a]=[l[0]^c[0],l[1]^c[1],l[2]^c[2],l[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var u=i[s^n];i[s]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function eq(e,t){if(typeof e=="string"&&(e=xl.util.createBuffer(e)),xl.util.isArray(e)&&e.length>4){var r=e;e=xl.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!xl.util.isArray(e)){for(var i=[],s=t/4,n=0;n<s;++n)i.push(e.getInt32());e=i}return e}o(eq,"transformIV");function tq(e){e[e.length-1]=e[e.length-1]+1&4294967295}o(tq,"inc32");function Qoe(e){return[e/4294967296|0,e&4294967295]}o(Qoe,"from64To32")});var vy=V((YHr,BBe)=>{d();var Uo=Xn();ZU();Moe();Ji();BBe.exports=Uo.aes=Uo.aes||{};Uo.aes.startEncrypting=function(e,t,r,n){var i=rq({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};Uo.aes.createEncryptionCipher=function(e,t){return rq({key:e,output:null,decrypt:!1,mode:t})};Uo.aes.startDecrypting=function(e,t,r,n){var i=rq({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};Uo.aes.createDecryptionCipher=function(e,t){return rq({key:e,output:null,decrypt:!0,mode:t})};Uo.aes.Algorithm=function(e,t){qoe||_Be();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:o(function(n,i){return Uoe(r._w,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return Uoe(r._w,n,i,!0)},"decrypt")}}),r._init=!1};Uo.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=Uo.util.createBuffer(t);else if(Uo.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=Uo.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!Uo.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!Uo.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=kBe(t,e.decrypt&&!a),this._init=!0}};Uo.aes._expandKey=function(e,t){return qoe||_Be(),kBe(e,t)};Uo.aes._updateBlock=Uoe;F8("AES-ECB",Uo.cipher.modes.ecb);F8("AES-CBC",Uo.cipher.modes.cbc);F8("AES-CFB",Uo.cipher.modes.cfb);F8("AES-OFB",Uo.cipher.modes.ofb);F8("AES-CTR",Uo.cipher.modes.ctr);F8("AES-GCM",Uo.cipher.modes.gcm);function F8(e,t){var r=o(function(){return new Uo.aes.Algorithm(e,t)},"factory");Uo.cipher.registerAlgorithm(e,r)}o(F8,"registerAlgorithm");var qoe=!1,P8=4,K0,Ooe,SBe,sE,th;function _Be(){qoe=!0,SBe=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;K0=new Array(256),Ooe=new Array(256),sE=new Array(4),th=new Array(4);for(var t=0;t<4;++t)sE[t]=new Array(256),th[t]=new Array(256);for(var r=0,n=0,i,s,a,l,c,u,f,t=0;t<256;++t){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,K0[r]=l,Ooe[l]=r,c=e[l],i=e[r],s=e[i],a=e[s],u=c<<24^l<<16^l<<8^(l^c),f=(i^s^a)<<24^(r^a)<<16^(r^s^a)<<8^(r^i^a);for(var m=0;m<4;++m)sE[m][r]=u,th[m][l]=f,u=u<<24|u>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^e[e[e[i^a]]],n^=e[e[n]])}}o(_Be,"initialize");function kBe(e,t){for(var r=e.slice(0),n,i=1,s=r.length,a=s+6+1,l=P8*a,c=s;c<l;++c)n=r[c-1],c%s===0?(n=K0[n>>>16&255]<<24^K0[n>>>8&255]<<16^K0[n&255]<<8^K0[n>>>24]^SBe[i]<<24,i++):s>6&&c%s===4&&(n=K0[n>>>24]<<24^K0[n>>>16&255]<<16^K0[n>>>8&255]<<8^K0[n&255]),r[c]=r[c-s]^n;if(t){var u,f=th[0],m=th[1],h=th[2],p=th[3],A=r.slice(0);l=r.length;for(var c=0,E=l-P8;c<l;c+=P8,E-=P8)if(c===0||c===l-P8)A[c]=r[E],A[c+1]=r[E+3],A[c+2]=r[E+2],A[c+3]=r[E+1];else for(var x=0;x<P8;++x)u=r[E+x],A[c+(3&-x)]=f[K0[u>>>24]]^m[K0[u>>>16&255]]^h[K0[u>>>8&255]]^p[K0[u&255]];r=A}return r}o(kBe,"_expandKey");function Uoe(e,t,r,n){var i=e.length/4-1,s,a,l,c,u;n?(s=th[0],a=th[1],l=th[2],c=th[3],u=Ooe):(s=sE[0],a=sE[1],l=sE[2],c=sE[3],u=K0);var f,m,h,p,A,E,x;f=t[0]^e[0],m=t[n?3:1]^e[1],h=t[2]^e[2],p=t[n?1:3]^e[3];for(var b=3,v=1;v<i;++v)A=s[f>>>24]^a[m>>>16&255]^l[h>>>8&255]^c[p&255]^e[++b],E=s[m>>>24]^a[h>>>16&255]^l[p>>>8&255]^c[f&255]^e[++b],x=s[h>>>24]^a[p>>>16&255]^l[f>>>8&255]^c[m&255]^e[++b],p=s[p>>>24]^a[f>>>16&255]^l[m>>>8&255]^c[h&255]^e[++b],f=A,m=E,h=x;r[0]=u[f>>>24]<<24^u[m>>>16&255]<<16^u[h>>>8&255]<<8^u[p&255]^e[++b],r[n?3:1]=u[m>>>24]<<24^u[h>>>16&255]<<16^u[p>>>8&255]<<8^u[f&255]^e[++b],r[2]=u[h>>>24]<<24^u[p>>>16&255]<<16^u[f>>>8&255]<<8^u[m&255]^e[++b],r[n?1:3]=u[p>>>24]<<24^u[f>>>16&255]<<16^u[m>>>8&255]<<8^u[h&255]^e[++b]}o(Uoe,"_updateBlock");function rq(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=Uo.cipher.createDecipher(r,e.key):n=Uo.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var l=null;a instanceof Uo.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=s,i.call(n,a)},n}o(rq,"_createCipher")});var Iy=V((XHr,RBe)=>{d();var OS=Xn();OS.pki=OS.pki||{};var Woe=RBe.exports=OS.pki.oids=OS.oids=OS.oids||{};function Lt(e,t){Woe[e]=t,Woe[t]=e}o(Lt,"_IN");function mo(e,t){Woe[e]=t}o(mo,"_I_");Lt("1.2.840.113549.1.1.1","rsaEncryption");Lt("1.2.840.113549.1.1.4","md5WithRSAEncryption");Lt("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Lt("1.2.840.113549.1.1.7","RSAES-OAEP");Lt("1.2.840.113549.1.1.8","mgf1");Lt("1.2.840.113549.1.1.9","pSpecified");Lt("1.2.840.113549.1.1.10","RSASSA-PSS");Lt("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Lt("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Lt("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Lt("1.3.101.112","EdDSA25519");Lt("1.2.840.10040.4.3","dsa-with-sha1");Lt("1.3.14.3.2.7","desCBC");Lt("1.3.14.3.2.26","sha1");Lt("1.3.14.3.2.29","sha1WithRSASignature");Lt("2.16.840.1.101.3.4.2.1","sha256");Lt("2.16.840.1.101.3.4.2.2","sha384");Lt("2.16.840.1.101.3.4.2.3","sha512");Lt("2.16.840.1.101.3.4.2.4","sha224");Lt("2.16.840.1.101.3.4.2.5","sha512-224");Lt("2.16.840.1.101.3.4.2.6","sha512-256");Lt("1.2.840.113549.2.2","md2");Lt("1.2.840.113549.2.5","md5");Lt("1.2.840.113549.1.7.1","data");Lt("1.2.840.113549.1.7.2","signedData");Lt("1.2.840.113549.1.7.3","envelopedData");Lt("1.2.840.113549.1.7.4","signedAndEnvelopedData");Lt("1.2.840.113549.1.7.5","digestedData");Lt("1.2.840.113549.1.7.6","encryptedData");Lt("1.2.840.113549.1.9.1","emailAddress");Lt("1.2.840.113549.1.9.2","unstructuredName");Lt("1.2.840.113549.1.9.3","contentType");Lt("1.2.840.113549.1.9.4","messageDigest");Lt("1.2.840.113549.1.9.5","signingTime");Lt("1.2.840.113549.1.9.6","counterSignature");Lt("1.2.840.113549.1.9.7","challengePassword");Lt("1.2.840.113549.1.9.8","unstructuredAddress");Lt("1.2.840.113549.1.9.14","extensionRequest");Lt("1.2.840.113549.1.9.20","friendlyName");Lt("1.2.840.113549.1.9.21","localKeyId");Lt("1.2.840.113549.1.9.22.1","x509Certificate");Lt("1.2.840.113549.1.12.10.1.1","keyBag");Lt("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Lt("1.2.840.113549.1.12.10.1.3","certBag");Lt("1.2.840.113549.1.12.10.1.4","crlBag");Lt("1.2.840.113549.1.12.10.1.5","secretBag");Lt("1.2.840.113549.1.12.10.1.6","safeContentsBag");Lt("1.2.840.113549.1.5.13","pkcs5PBES2");Lt("1.2.840.113549.1.5.12","pkcs5PBKDF2");Lt("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Lt("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Lt("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Lt("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Lt("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Lt("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Lt("1.2.840.113549.2.7","hmacWithSHA1");Lt("1.2.840.113549.2.8","hmacWithSHA224");Lt("1.2.840.113549.2.9","hmacWithSHA256");Lt("1.2.840.113549.2.10","hmacWithSHA384");Lt("1.2.840.113549.2.11","hmacWithSHA512");Lt("1.2.840.113549.3.7","des-EDE3-CBC");Lt("2.16.840.1.101.3.4.1.2","aes128-CBC");Lt("2.16.840.1.101.3.4.1.22","aes192-CBC");Lt("2.16.840.1.101.3.4.1.42","aes256-CBC");Lt("2.5.4.3","commonName");Lt("2.5.4.4","surname");Lt("2.5.4.5","serialNumber");Lt("2.5.4.6","countryName");Lt("2.5.4.7","localityName");Lt("2.5.4.8","stateOrProvinceName");Lt("2.5.4.9","streetAddress");Lt("2.5.4.10","organizationName");Lt("2.5.4.11","organizationalUnitName");Lt("2.5.4.12","title");Lt("2.5.4.13","description");Lt("2.5.4.15","businessCategory");Lt("2.5.4.17","postalCode");Lt("2.5.4.42","givenName");Lt("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Lt("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Lt("2.16.840.1.113730.1.1","nsCertType");Lt("2.16.840.1.113730.1.13","nsComment");mo("2.5.29.1","authorityKeyIdentifier");mo("2.5.29.2","keyAttributes");mo("2.5.29.3","certificatePolicies");mo("2.5.29.4","keyUsageRestriction");mo("2.5.29.5","policyMapping");mo("2.5.29.6","subtreesConstraint");mo("2.5.29.7","subjectAltName");mo("2.5.29.8","issuerAltName");mo("2.5.29.9","subjectDirectoryAttributes");mo("2.5.29.10","basicConstraints");mo("2.5.29.11","nameConstraints");mo("2.5.29.12","policyConstraints");mo("2.5.29.13","basicConstraints");Lt("2.5.29.14","subjectKeyIdentifier");Lt("2.5.29.15","keyUsage");mo("2.5.29.16","privateKeyUsagePeriod");Lt("2.5.29.17","subjectAltName");Lt("2.5.29.18","issuerAltName");Lt("2.5.29.19","basicConstraints");mo("2.5.29.20","cRLNumber");mo("2.5.29.21","cRLReason");mo("2.5.29.22","expirationDate");mo("2.5.29.23","instructionCode");mo("2.5.29.24","invalidityDate");mo("2.5.29.25","cRLDistributionPoints");mo("2.5.29.26","issuingDistributionPoint");mo("2.5.29.27","deltaCRLIndicator");mo("2.5.29.28","issuingDistributionPoint");mo("2.5.29.29","certificateIssuer");mo("2.5.29.30","nameConstraints");Lt("2.5.29.31","cRLDistributionPoints");Lt("2.5.29.32","certificatePolicies");mo("2.5.29.33","policyMappings");mo("2.5.29.34","policyConstraints");Lt("2.5.29.35","authorityKeyIdentifier");mo("2.5.29.36","policyConstraints");Lt("2.5.29.37","extKeyUsage");mo("2.5.29.46","freshestCRL");mo("2.5.29.54","inhibitAnyPolicy");Lt("1.3.6.1.4.1.11129.2.4.2","timestampList");Lt("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Lt("1.3.6.1.5.5.7.3.1","serverAuth");Lt("1.3.6.1.5.5.7.3.2","clientAuth");Lt("1.3.6.1.5.5.7.3.3","codeSigning");Lt("1.3.6.1.5.5.7.3.4","emailProtection");Lt("1.3.6.1.5.5.7.3.8","timeStamping")});var rh=V((tVr,PBe)=>{d();var os=Xn();Ji();Iy();var Ar=PBe.exports=os.asn1=os.asn1||{};Ar.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Ar.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Ar.create=function(e,t,r,n,i){if(os.util.isArray(n)){for(var s=[],a=0;a<n.length;++a)n[a]!==void 0&&s.push(n[a]);n=s}var l={tagClass:e,type:t,constructed:r,composed:r||os.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=Ar.copy(l)),l};Ar.copy=function(e,t){var r;if(os.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(Ar.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:Ar.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};Ar.equals=function(e,t,r){if(os.util.isArray(e)){if(!os.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Ar.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&Ar.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};Ar.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function US(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}o(US,"_checkBufferLength");var _xt=o(function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;US(e,t,s),n=e.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");Ar.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=os.util.createBuffer(e));var r=e.length(),n=nq(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function nq(e,t,r,n){var i;US(e,t,2);var s=e.getByte();t--;var a=s&192,l=s&31;i=e.length();var c=_xt(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var f,m,h=(s&32)===32;if(h)if(f=[],c===void 0)for(;;){if(US(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}i=e.length(),f.push(nq(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),f.push(nq(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(f===void 0&&a===Ar.Class.UNIVERSAL&&l===Ar.Type.BITSTRING&&(m=e.bytes(c)),f===void 0&&n.decodeBitStrings&&a===Ar.Class.UNIVERSAL&&l===Ar.Type.BITSTRING&&c>1){var p=e.read,A=t,E=0;if(l===Ar.Type.BITSTRING&&(US(e,t,1),E=e.getByte(),t--),E===0)try{i=e.length();var x={strict:!0,decodeBitStrings:!0},b=nq(e,t,r+1,x),v=i-e.length();t-=v,l==Ar.Type.BITSTRING&&v++;var S=b.tagClass;v===c&&(S===Ar.Class.UNIVERSAL||S===Ar.Class.CONTEXT_SPECIFIC)&&(f=[b])}catch{}f===void 0&&(e.read=p,t=A)}if(f===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(l===Ar.Type.BMPSTRING)for(f="";c>0;c-=2)US(e,t,2),f+=String.fromCharCode(e.getInt16()),t-=2;else f=e.getBytes(c),t-=c}var B=m===void 0?null:{bitStringContents:m};return Ar.create(a,l,h,f,B)}o(nq,"_fromDer");Ar.toDer=function(e){var t=os.util.createBuffer(),r=e.tagClass|e.type,n=os.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=Ar.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var s=0;s<e.value.length;++s)e.value[s]!==void 0&&n.putBuffer(Ar.toDer(e.value[s]))}else if(e.type===Ar.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)n.putInt16(e.value.charCodeAt(s));else e.type===Ar.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)===0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),l="";do l+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(l.length|128);for(var s=l.length-1;s>=0;--s)t.putByte(l.charCodeAt(s))}return t.putBuffer(n),t};Ar.oidToDer=function(e){var t=e.split("."),r=os.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,s,a,l=2;l<t.length;++l){n=!0,i=[],s=parseInt(t[l],10);do a=s&127,s=s>>>7,n||(a|=128),i.push(a),n=!1;while(s>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};Ar.derToOid=function(e){var t;typeof e=="string"&&(e=os.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};Ar.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),l=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(l=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,l,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var f=parseInt(e.substr(u+1,2),10),m=parseInt(e.substr(u+4,2),10),h=f*60+m;h*=6e4,c==="+"?t.setTime(+t-h):t.setTime(+t+h)}return t};Ar.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),l=parseInt(e.substr(12,2),10),c=0,u=0,f=!1;e.charAt(e.length-1)==="Z"&&(f=!0);var m=e.length-5,h=e.charAt(m);if(h==="+"||h==="-"){var p=parseInt(e.substr(m+1,2),10),A=parseInt(e.substr(m+4,2),10);u=p*60+A,u*=6e4,h==="+"&&(u*=-1),f=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),f?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,l,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(s,a,l,c)),t};Ar.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Ar.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Ar.integerToDer=function(e){var t=os.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};Ar.derToInteger=function(e){typeof e=="string"&&(e=os.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};Ar.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&os.util.isArray(t.value))for(var s=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[s]&&(i=Ar.validate(e.value[s],t.value[a],r,n),i?++s:t.value[a].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var l;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var DBe=/[^\\u0000-\\u00ff]/;Ar.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",s=0;s<t*r;++s)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case Ar.Class.UNIVERSAL:n+="Universal:";break;case Ar.Class.APPLICATION:n+="Application:";break;case Ar.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Ar.Class.PRIVATE:n+="Private:";break}if(e.tagClass===Ar.Class.UNIVERSAL)switch(n+=e.type,e.type){case Ar.Type.NONE:n+=" (None)";break;case Ar.Type.BOOLEAN:n+=" (Boolean)";break;case Ar.Type.INTEGER:n+=" (Integer)";break;case Ar.Type.BITSTRING:n+=" (Bit string)";break;case Ar.Type.OCTETSTRING:n+=" (Octet string)";break;case Ar.Type.NULL:n+=" (Null)";break;case Ar.Type.OID:n+=" (Object Identifier)";break;case Ar.Type.ODESC:n+=" (Object Descriptor)";break;case Ar.Type.EXTERNAL:n+=" (External or Instance of)";break;case Ar.Type.REAL:n+=" (Real)";break;case Ar.Type.ENUMERATED:n+=" (Enumerated)";break;case Ar.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Ar.Type.UTF8:n+=" (UTF8)";break;case Ar.Type.ROID:n+=" (Relative Object Identifier)";break;case Ar.Type.SEQUENCE:n+=" (Sequence)";break;case Ar.Type.SET:n+=" (Set)";break;case Ar.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Ar.Type.IA5String:n+=" (IA5String (ASCII))";break;case Ar.Type.UTCTIME:n+=" (UTC time)";break;case Ar.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Ar.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,l="",s=0;s<e.value.length;++s)e.value[s]!==void 0&&(a+=1,l+=Ar.prettyPrint(e.value[s],t+1,r),s+1<e.value.length&&(l+=","));n+=i+"Sub values: "+a+l}else{if(n+=i+"Value: ",e.type===Ar.Type.OID){var c=Ar.derToOid(e.value);n+=c,os.pki&&os.pki.oids&&c in os.pki.oids&&(n+=" ("+os.pki.oids[c]+") ")}if(e.type===Ar.Type.INTEGER)try{n+=Ar.derToInteger(e.value)}catch{n+="0x"+os.util.bytesToHex(e.value)}else if(e.type===Ar.Type.BITSTRING){if(e.value.length>1?n+="0x"+os.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===Ar.Type.OCTETSTRING)DBe.test(e.value)||(n+="("+e.value+") "),n+="0x"+os.util.bytesToHex(e.value);else if(e.type===Ar.Type.UTF8)try{n+=os.util.decodeUtf8(e.value)}catch(f){if(f.message==="URI malformed")n+="0x"+os.util.bytesToHex(e.value)+" (malformed UTF8)";else throw f}else e.type===Ar.Type.PRINTABLESTRING||e.type===Ar.Type.IA5String?n+=e.value:DBe.test(e.value)?n+="0x"+os.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Up=V((iVr,FBe)=>{d();var iq=Xn();FBe.exports=iq.md=iq.md||{};iq.md.algorithms=iq.md.algorithms||{}});var N8=V((sVr,NBe)=>{d();var X1=Xn();Up();Ji();var kxt=NBe.exports=X1.hmac=X1.hmac||{};kxt.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(s,a){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in X1.md.algorithms)t=X1.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else t=s;if(a===null)a=e;else{if(typeof a=="string")a=X1.util.createBuffer(a);else if(X1.util.isArray(a)){var l=a;a=X1.util.createBuffer();for(var c=0;c<l.length;++c)a.putByte(l[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=X1.util.createBuffer(),n=X1.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var l=a.at(c);r.putByte(54^l),n.putByte(92^l)}if(u<t.blockLength)for(var l=t.blockLength-u,c=0;c<l;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(s){t.update(s)},i.getMac=function(){var s=t.digest().bytes();return t.start(),t.update(n),t.update(s),t.digest()},i.digest=i.getMac,i}});var sq=V((lVr,OBe)=>{d();var qp=Xn();Up();Ji();var QBe=OBe.exports=qp.md5=qp.md5||{};qp.md.md5=qp.md.algorithms.md5=QBe;QBe.create=function(){MBe||Bxt();var e=null,t=qp.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=qp.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=qp.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),LBe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=qp.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(Goe.substr(0,n.blockLength-a));for(var l,c=0,u=n.fullMessageLength.length-1;u>=0;--u)l=n.fullMessageLength[u]*8+c,c=l/4294967296>>>0,i.putInt32Le(l>>>0);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};LBe(f,r,i);var m=qp.util.createBuffer();return m.putInt32Le(f.h0),m.putInt32Le(f.h1),m.putInt32Le(f.h2),m.putInt32Le(f.h3),m},n};var Goe=null,oq=null,qS=null,L8=null,MBe=!1;function Bxt(){Goe="\x80",Goe+=qp.util.fillString("\0",64),oq=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],qS=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],L8=new Array(64);for(var e=0;e<64;++e)L8[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);MBe=!0}o(Bxt,"_init");function LBe(e,t,r){for(var n,i,s,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,s=e.h1,a=e.h2,l=e.h3,f=0;f<16;++f)t[f]=r.getInt32Le(),c=l^s&(a^l),n=i+c+L8[f]+t[f],u=qS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<32;++f)c=a^l&(s^a),n=i+c+L8[f]+t[oq[f]],u=qS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<48;++f)c=s^a^l,n=i+c+L8[f]+t[oq[f]],u=qS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<64;++f)c=a^(s|~l),n=i+c+L8[f]+t[oq[f]],u=qS[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,m-=64}}o(LBe,"_update")});var aE=V((fVr,qBe)=>{d();var lq=Xn();Ji();var UBe=qBe.exports=lq.pem=lq.pem||{};UBe.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=aq(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=aq(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=aq(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=aq(e.headers[i]);return e.procType&&(r+=`\r
`),r+=lq.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};UBe.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(e),!!s;){var a=s[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var l={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:lq.util.decode64(s[3])};if(t.push(l),!!s[2]){for(var c=s[2].split(i),u=0;s&&u<c.length;){for(var f=c[u].replace(/\s+$/,""),m=u+1;m<c.length;++m){var h=c[m];if(!/\s/.test(h[0]))break;f+=h,u=m}if(s=f.match(n),s){for(var p={name:s[1],values:[]},A=s[2].split(","),E=0;E<A.length;++E)p.values.push(Rxt(A[E]));if(l.procType)if(!l.contentDomain&&p.name==="Content-Domain")l.contentDomain=A[0]||"";else if(!l.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:A[0],parameters:A[1]||null}}else l.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:A[0],type:A[1]}}}++u}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function aq(e){for(var t=e.name+": ",r=[],n=o(function(c,u){return" "+u},"insertSpace"),i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var s=0,a=-1,i=0;i<t.length;++i,++s)if(s>65&&a!==-1){var l=t[a];l===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+l+t.substr(a+1),s=i-a-1,a=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(a=i);return t}o(aq,"foldHeader");function Rxt(e){return e.replace(/^\s+/,"")}o(Rxt,"ltrim")});var WS=V((hVr,GBe)=>{d();var ws=Xn();ZU();Moe();Ji();GBe.exports=ws.des=ws.des||{};ws.des.startEncrypting=function(e,t,r,n){var i=cq({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};ws.des.createEncryptionCipher=function(e,t){return cq({key:e,output:null,decrypt:!1,mode:t})};ws.des.startDecrypting=function(e,t,r,n){var i=cq({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};ws.des.createDecryptionCipher=function(e,t){return cq({key:e,output:null,decrypt:!0,mode:t})};ws.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:o(function(n,i){return WBe(r._keys,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return WBe(r._keys,n,i,!0)},"decrypt")}}),r._init=!1};ws.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=ws.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=Uxt(t),this._init=!0}};Wp("DES-ECB",ws.cipher.modes.ecb);Wp("DES-CBC",ws.cipher.modes.cbc);Wp("DES-CFB",ws.cipher.modes.cfb);Wp("DES-OFB",ws.cipher.modes.ofb);Wp("DES-CTR",ws.cipher.modes.ctr);Wp("3DES-ECB",ws.cipher.modes.ecb);Wp("3DES-CBC",ws.cipher.modes.cbc);Wp("3DES-CFB",ws.cipher.modes.cfb);Wp("3DES-OFB",ws.cipher.modes.ofb);Wp("3DES-CTR",ws.cipher.modes.ctr);function Wp(e,t){var r=o(function(){return new ws.des.Algorithm(e,t)},"factory");ws.cipher.registerAlgorithm(e,r)}o(Wp,"registerAlgorithm");var Dxt=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Pxt=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],Fxt=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],Nxt=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],Lxt=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Qxt=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Mxt=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Oxt=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function Uxt(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],m=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],A=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],E=e.length()>8?3:1,x=[],b=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],v=0,S,B=0;B<E;B++){var P=e.getInt32(),F=e.getInt32();S=(P>>>4^F)&252645135,F^=S,P^=S<<4,S=(F>>>-16^P)&65535,P^=S,F^=S<<-16,S=(P>>>2^F)&858993459,F^=S,P^=S<<2,S=(F>>>-16^P)&65535,P^=S,F^=S<<-16,S=(P>>>1^F)&1431655765,F^=S,P^=S<<1,S=(F>>>8^P)&16711935,P^=S,F^=S<<8,S=(P>>>1^F)&1431655765,F^=S,P^=S<<1,S=P<<8|F>>>20&240,P=F<<24|F<<8&16711680|F>>>8&65280|F>>>24&240,F=S;for(var G=0;G<b.length;++G){b[G]?(P=P<<2|P>>>26,F=F<<2|F>>>26):(P=P<<1|P>>>27,F=F<<1|F>>>27),P&=-15,F&=-15;var re=t[P>>>28]|r[P>>>24&15]|n[P>>>20&15]|i[P>>>16&15]|s[P>>>12&15]|a[P>>>8&15]|l[P>>>4&15],pe=c[F>>>28]|u[F>>>24&15]|f[F>>>20&15]|m[F>>>16&15]|h[F>>>12&15]|p[F>>>8&15]|A[F>>>4&15];S=(pe>>>16^re)&65535,x[v++]=re^S,x[v++]=pe^S<<16}}return x}o(Uxt,"_createKeys");function WBe(e,t,r,n){var i=e.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,l=t[0],c=t[1];a=(l>>>4^c)&252645135,c^=a,l^=a<<4,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,l=l<<1|l>>>31,c=c<<1|c>>>31;for(var u=0;u<i;u+=3){for(var f=s[u+1],m=s[u+2],h=s[u];h!=f;h+=m){var p=c^e[h],A=(c>>>4|c<<28)^e[h+1];a=l,l=c,c=a^(Pxt[p>>>24&63]|Nxt[p>>>16&63]|Qxt[p>>>8&63]|Oxt[p&63]|Dxt[A>>>24&63]|Fxt[A>>>16&63]|Lxt[A>>>8&63]|Mxt[A&63])}a=l,l=c,c=a}l=l>>>1|l<<31,c=c>>>1|c<<31,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(l>>>4^c)&252645135,c^=a,l^=a<<4,r[0]=l,r[1]=c}o(WBe,"_updateBlock");function cq(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=ws.cipher.createDecipher(r,e.key):n=ws.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var l=null;a instanceof ws.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=s,i.call(n,a)},n}o(cq,"_createCipher")});var uq=V((AVr,HBe)=>{d();var J0=Xn();N8();Up();Ji();var qxt=J0.pkcs5=J0.pkcs5||{},Z1;J0.util.isNodejs&&!J0.options.usePureJavaScript&&(Z1=require("crypto"));HBe.exports=J0.pbkdf2=qxt.pbkdf2=function(e,t,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),J0.util.isNodejs&&!J0.options.usePureJavaScript&&Z1.pbkdf2&&(i===null||typeof i!="object")&&(Z1.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s?Z1.pbkdf2Sync.length===4?Z1.pbkdf2(e,t,r,n,function(S,B){if(S)return s(S);s(null,B.toString("binary"))}):Z1.pbkdf2(e,t,r,n,i,function(S,B){if(S)return s(S);s(null,B.toString("binary"))}):Z1.pbkdf2Sync.length===4?Z1.pbkdf2Sync(e,t,r,n).toString("binary"):Z1.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in J0.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=J0.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var l=new Error("Derived key is too long.");if(s)return s(l);throw l}var c=Math.ceil(n/a),u=n-(c-1)*a,f=J0.hmac.create();f.start(i,e);var m="",h,p,A;if(!s){for(var E=1;E<=c;++E){f.start(null,null),f.update(t),f.update(J0.util.int32ToBytes(E)),h=A=f.digest().getBytes();for(var x=2;x<=r;++x)f.start(null,null),f.update(A),p=f.digest().getBytes(),h=J0.util.xorBytes(h,p,a),A=p;m+=E<c?h:h.substr(0,u)}return m}var E=1,x;function b(){if(E>c)return s(null,m);f.start(null,null),f.update(t),f.update(J0.util.int32ToBytes(E)),h=A=f.digest().getBytes(),x=2,v()}o(b,"outer");function v(){if(x<=r)return f.start(null,null),f.update(A),p=f.digest().getBytes(),h=J0.util.xorBytes(h,p,a),A=p,++x,J0.util.setImmediate(v);m+=E<c?h:h.substr(0,u),++E,b()}o(v,"inner"),b()}});var Voe=V((EVr,YBe)=>{d();var Gp=Xn();Up();Ji();var jBe=YBe.exports=Gp.sha256=Gp.sha256||{};Gp.md.sha256=Gp.md.algorithms.sha256=jBe;jBe.create=function(){$Be||Wxt();var e=null,t=Gp.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Gp.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Gp.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),VBe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Gp.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(Hoe.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};VBe(m,r,i);var h=Gp.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h.putInt32(m.h5),h.putInt32(m.h6),h.putInt32(m.h7),h},n};var Hoe=null,$Be=!1,zBe=null;function Wxt(){Hoe="\x80",Hoe+=Gp.util.fillString("\0",64),zBe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],$Be=!0}o(Wxt,"_init");function VBe(e,t,r){for(var n,i,s,a,l,c,u,f,m,h,p,A,E,x,b,v=r.length();v>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(f=e.h0,m=e.h1,h=e.h2,p=e.h3,A=e.h4,E=e.h5,x=e.h6,b=e.h7,u=0;u<64;++u)a=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7),l=x^A&(E^x),s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),c=f&m|h&(f^m),n=b+a+l+zBe[u]+t[u],i=s+c,b=x,x=E,E=A,A=p+n>>>0,p=h,h=m,m=f,f=n+i>>>0;e.h0=e.h0+f|0,e.h1=e.h1+m|0,e.h2=e.h2+h|0,e.h3=e.h3+p|0,e.h4=e.h4+A|0,e.h5=e.h5+E|0,e.h6=e.h6+x|0,e.h7=e.h7+b|0,v-=64}}o(VBe,"_update")});var joe=V((vVr,KBe)=>{d();var Hp=Xn();Ji();var fq=null;Hp.util.isNodejs&&!Hp.options.usePureJavaScript&&!process.versions["node-webkit"]&&(fq=require("crypto"));var Gxt=KBe.exports=Hp.prng=Hp.prng||{};Gxt.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(u,f){if(!f)return t.generateSync(u);var m=t.plugin.cipher,h=t.plugin.increment,p=t.plugin.formatKey,A=t.plugin.formatSeed,E=Hp.util.createBuffer();t.key=null,x();function x(b){if(b)return f(b);if(E.length()>=u)return f(null,E.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return Hp.util.nextTick(function(){s(x)});var v=m(t.key,t.seed);t.generated+=v.length,E.putBytes(v),t.key=p(m(t.key,h(t.seed))),t.seed=A(m(t.key,t.seed)),Hp.util.setImmediate(x)}o(x,"generate")},t.generateSync=function(u){var f=t.plugin.cipher,m=t.plugin.increment,h=t.plugin.formatKey,p=t.plugin.formatSeed;t.key=null;for(var A=Hp.util.createBuffer();A.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var E=f(t.key,t.seed);t.generated+=E.length,A.putBytes(E),t.key=h(f(t.key,m(t.seed))),t.seed=p(f(t.key,t.seed))}return A.getBytes(u)};function s(u){if(t.pools[0].messageLength>=32)return l(),u();var f=32-t.pools[0].messageLength<<5;t.seedFile(f,function(m,h){if(m)return u(m);t.collect(h),l(),u()})}o(s,"_reseed");function a(){if(t.pools[0].messageLength>=32)return l();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),l()}o(a,"_reseedSync");function l(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var f=1,m=0;m<32;++m)t.reseeds%f===0&&(u.update(t.pools[m].digest().getBytes()),t.pools[m].start()),f=f<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var h=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(h),t.generated=0}o(l,"_seed");function c(u){var f=null,m=Hp.util.globalScope,h=m.crypto||m.msCrypto;h&&h.getRandomValues&&(f=o(function(P){return h.getRandomValues(P)},"getRandomValues"));var p=Hp.util.createBuffer();if(f)for(;p.length()<u;){var A=Math.max(1,Math.min(u-p.length(),65536)/4),E=new Uint32Array(Math.floor(A));try{f(E);for(var x=0;x<E.length;++x)p.putInt32(E[x])}catch(P){if(!(typeof QuotaExceededError<"u"&&P instanceof QuotaExceededError))throw P}}if(p.length()<u)for(var b,v,S,B=Math.floor(Math.random()*65536);p.length()<u;){v=16807*(B&65535),b=16807*(B>>16),v+=(b&32767)<<16,v+=b>>15,v=(v&2147483647)+(v>>31),B=v&4294967295;for(var x=0;x<3;++x)S=B>>>(x<<3),S^=Math.floor(Math.random()*256),p.putByte(S&255)}return p.getBytes(u)}return o(c,"defaultSeedFile"),fq?(t.seedFile=function(u,f){fq.randomBytes(u,function(m,h){if(m)return f(m);f(null,h.toString())})},t.seedFileSync=function(u){return fq.randomBytes(u).toString()}):(t.seedFile=function(u,f){try{f(null,c(u))}catch(m){f(m)}},t.seedFileSync=c),t.collect=function(u){for(var f=u.length,m=0;m<f;++m)t.pools[t.pool].update(u.substr(m,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,f){for(var m="",h=0;h<f;h+=8)m+=String.fromCharCode(u>>h&255);t.collect(m)},t.registerWorker=function(u){if(u===self)t.seedFile=function(m,h){function p(A){var E=A.data;E.forge&&E.forge.prng&&(self.removeEventListener("message",p),h(E.forge.prng.err,E.forge.prng.bytes))}o(p,"listener"),self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:m}}})};else{var f=o(function(m){var h=m.data;h.forge&&h.forge.prng&&t.seedFile(h.forge.prng.needed,function(p,A){u.postMessage({forge:{prng:{err:p,bytes:A}}})})},"listener");u.addEventListener("message",f)}},t}});var wd=V((wVr,$oe)=>{d();var bl=Xn();vy();Voe();joe();Ji();(function(){if(bl.random&&bl.random.getBytes){$oe.exports=bl.random;return}(function(e){var t={},r=new Array(4),n=bl.util.createBuffer();t.formatKey=function(m){var h=bl.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),bl.aes._expandKey(m,!1)},t.formatSeed=function(m){var h=bl.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),m},t.cipher=function(m,h){return bl.aes._updateBlock(m,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(m){return++m[3],m},t.md=bl.md.sha256;function i(){var m=bl.prng.create(t);return m.getBytes=function(h,p){return m.generate(h,p)},m.getBytesSync=function(h){return m.generate(h)},m}o(i,"spawnPrng");var s=i(),a=null,l=bl.util.globalScope,c=l.crypto||l.msCrypto;if(c&&c.getRandomValues&&(a=o(function(m){return c.getRandomValues(m)},"getRandomValues")),bl.options.usePureJavaScript||!bl.util.isNodejs&&!a){if(typeof window>"u"||window.document,s.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var f in navigator)try{typeof navigator[f]=="string"&&(u+=navigator[f])}catch{}s.collect(u),u=null}e&&(e().mousemove(function(m){s.collectInt(m.clientX,16),s.collectInt(m.clientY,16)}),e().keypress(function(m){s.collectInt(m.charCode,8)}))}if(!bl.random)bl.random=s;else for(var f in s)bl.random[f]=s[f];bl.random.createInstance=i,$oe.exports=bl.random})(typeof jQuery<"u"?jQuery:null)})()});var Yoe=V((kVr,ZBe)=>{d();var Yc=Xn();Ji();var zoe=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],JBe=[1,2,3,5],Hxt=o(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),Vxt=o(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");ZBe.exports=Yc.rc2=Yc.rc2||{};Yc.rc2.expandKey=function(e,t){typeof e=="string"&&(e=Yc.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,s=Math.ceil(i/8),a=255>>(i&7),l;for(l=n;l<128;l++)r.putByte(zoe[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-s,zoe[r.at(128-s)&a]),l=127-s;l>=0;l--)r.setAt(l,zoe[r.at(l+1)^r.at(l+s)]);return r};var XBe=o(function(e,t,r){var n=!1,i=null,s=null,a=null,l,c,u,f,m=[];for(e=Yc.rc2.expandKey(e,t),u=0;u<64;u++)m.push(e.getInt16Le());r?(l=o(function(A){for(u=0;u<4;u++)A[u]+=m[f]+(A[(u+3)%4]&A[(u+2)%4])+(~A[(u+3)%4]&A[(u+1)%4]),A[u]=Hxt(A[u],JBe[u]),f++},"mixRound"),c=o(function(A){for(u=0;u<4;u++)A[u]+=m[A[(u+3)%4]&63]},"mashRound")):(l=o(function(A){for(u=3;u>=0;u--)A[u]=Vxt(A[u],JBe[u]),A[u]-=m[f]+(A[(u+3)%4]&A[(u+2)%4])+(~A[(u+3)%4]&A[(u+1)%4]),f--},"mixRound"),c=o(function(A){for(u=3;u>=0;u--)A[u]-=m[A[(u+3)%4]&63]},"mashRound"));var h=o(function(A){var E=[];for(u=0;u<4;u++){var x=i.getInt16Le();a!==null&&(r?x^=a.getInt16Le():a.putInt16Le(x)),E.push(x&65535)}f=r?0:63;for(var b=0;b<A.length;b++)for(var v=0;v<A[b][0];v++)A[b][1](E);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(E[u]):E[u]^=a.getInt16Le()),s.putInt16Le(E[u])},"runPlan"),p=null;return p={start:o(function(A,E){A&&typeof A=="string"&&(A=Yc.util.createBuffer(A)),n=!1,i=Yc.util.createBuffer(),s=E||new Yc.util.createBuffer,a=A,p.output=s},"start"),update:o(function(A){for(n||i.putBuffer(A);i.length()>=8;)h([[5,l],[1,c],[6,l],[1,c],[5,l]])},"update"),finish:o(function(A){var E=!0;if(r)if(A)E=A(8,i,!r);else{var x=i.length()===8?8:8-i.length();i.fillWithByte(x,x)}if(E&&(n=!0,p.update()),!r&&(E=i.length()===0,E))if(A)E=A(8,s,!r);else{var b=s.length(),v=s.at(b-1);v>b?E=!1:s.truncate(v)}return E},"finish")},p},"createCipher");Yc.rc2.startEncrypting=function(e,t,r){var n=Yc.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};Yc.rc2.createEncryptionCipher=function(e,t){return XBe(e,t,!0)};Yc.rc2.startDecrypting=function(e,t,r){var n=Yc.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};Yc.rc2.createDecryptionCipher=function(e,t){return XBe(e,t,!1)}});var HS=V((DVr,aRe)=>{d();var Koe=Xn();aRe.exports=Koe.jsbn=Koe.jsbn||{};var eA,jxt=0xdeadbeefcafe,eRe=(jxt&16777215)==15715070;function kt(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}o(kt,"BigInteger");Koe.jsbn.BigInteger=kt;function Xi(){return new kt(null)}o(Xi,"nbi");function $xt(e,t,r,n,i,s){for(;--s>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}o($xt,"am1");function zxt(e,t,r,n,i,s){for(var a=t&32767,l=t>>15;--s>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,f=l*c+u*a;c=a*c+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+l*u+(i>>>30),r.data[n++]=c&1073741823}return i}o(zxt,"am2");function tRe(e,t,r,n,i,s){for(var a=t&16383,l=t>>14;--s>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,f=l*c+u*a;c=a*c+((f&16383)<<14)+r.data[n]+i,i=(c>>28)+(f>>14)+l*u,r.data[n++]=c&268435455}return i}o(tRe,"am3");typeof navigator>"u"?(kt.prototype.am=tRe,eA=28):eRe&&navigator.appName=="Microsoft Internet Explorer"?(kt.prototype.am=zxt,eA=30):eRe&&navigator.appName!="Netscape"?(kt.prototype.am=$xt,eA=26):(kt.prototype.am=tRe,eA=28);kt.prototype.DB=eA;kt.prototype.DM=(1<<eA)-1;kt.prototype.DV=1<<eA;var Joe=52;kt.prototype.FV=Math.pow(2,Joe);kt.prototype.F1=Joe-eA;kt.prototype.F2=2*eA-Joe;var Yxt="0123456789abcdefghijklmnopqrstuvwxyz",dq=new Array,Q8,Sd;Q8=48;for(Sd=0;Sd<=9;++Sd)dq[Q8++]=Sd;Q8=97;for(Sd=10;Sd<36;++Sd)dq[Q8++]=Sd;Q8=65;for(Sd=10;Sd<36;++Sd)dq[Q8++]=Sd;function rRe(e){return Yxt.charAt(e)}o(rRe,"int2char");function nRe(e,t){var r=dq[e.charCodeAt(t)];return r??-1}o(nRe,"intAt");function Kxt(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}o(Kxt,"bnpCopyTo");function Jxt(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}o(Jxt,"bnpFromInt");function Ty(e){var t=Xi();return t.fromInt(e),t}o(Ty,"nbv");function Xxt(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var a=r==8?e[n]&255:nRe(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&kt.ZERO.subTo(this,this)}o(Xxt,"bnpFromString");function Zxt(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}o(Zxt,"bnpClamp");function ebt(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,s="",a=this.t,l=this.DB-a*this.DB%t;if(a-- >0)for(l<this.DB&&(n=this.data[a]>>l)>0&&(i=!0,s=rRe(n));a>=0;)l<t?(n=(this.data[a]&(1<<l)-1)<<t-l,n|=this.data[--a]>>(l+=this.DB-t)):(n=this.data[a]>>(l-=t)&r,l<=0&&(l+=this.DB,--a)),n>0&&(i=!0),i&&(s+=rRe(n));return i?s:"0"}o(ebt,"bnToString");function tbt(){var e=Xi();return kt.ZERO.subTo(this,e),e}o(tbt,"bnNegate");function rbt(){return this.s<0?this.negate():this}o(rbt,"bnAbs");function nbt(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}o(nbt,"bnCompareTo");function mq(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}o(mq,"nbits");function ibt(){return this.t<=0?0:this.DB*(this.t-1)+mq(this.data[this.t-1]^this.s&this.DM)}o(ibt,"bnBitLength");function obt(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}o(obt,"bnpDLShiftTo");function sbt(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}o(sbt,"bnpDRShiftTo");function abt(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)t.data[l+s+1]=this.data[l]>>n|a,a=(this.data[l]&i)<<r;for(l=s-1;l>=0;--l)t.data[l]=0;t.data[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}o(abt,"bnpLShiftTo");function lbt(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&s)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}o(lbt,"bnpRShiftTo");function cbt(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}o(cbt,"bnpSubTo");function ubt(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&kt.ZERO.subTo(t,t)}o(ubt,"bnpMultiplyTo");function fbt(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}o(fbt,"bnpSquareTo");function dbt(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Xi());var s=Xi(),a=this.s,l=e.s,c=this.DB-mq(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),i.lShiftTo(c,r)):(n.copyTo(s),i.copyTo(r));var u=s.t,f=s.data[u-1];if(f!=0){var m=f*(1<<this.F1)+(u>1?s.data[u-2]>>this.F2:0),h=this.FV/m,p=(1<<this.F1)/m,A=1<<this.F2,E=r.t,x=E-u,b=t??Xi();for(s.dlShiftTo(x,b),r.compareTo(b)>=0&&(r.data[r.t++]=1,r.subTo(b,r)),kt.ONE.dlShiftTo(u,b),b.subTo(s,s);s.t<u;)s.data[s.t++]=0;for(;--x>=0;){var v=r.data[--E]==f?this.DM:Math.floor(r.data[E]*h+(r.data[E-1]+A)*p);if((r.data[E]+=s.am(0,v,r,x,0,u))<v)for(s.dlShiftTo(x,b),r.subTo(b,r);r.data[E]<--v;)r.subTo(b,r)}t!=null&&(r.drShiftTo(u,t),a!=l&&kt.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&kt.ZERO.subTo(r,r)}}}o(dbt,"bnpDivRemTo");function mbt(e){var t=Xi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(kt.ZERO)>0&&e.subTo(t,t),t}o(mbt,"bnMod");function lE(e){this.m=e}o(lE,"Classic");function hbt(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}o(hbt,"cConvert");function pbt(e){return e}o(pbt,"cRevert");function gbt(e){e.divRemTo(this.m,null,e)}o(gbt,"cReduce");function Abt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(Abt,"cMulTo");function ybt(e,t){e.squareTo(t),this.reduce(t)}o(ybt,"cSqrTo");lE.prototype.convert=hbt;lE.prototype.revert=pbt;lE.prototype.reduce=gbt;lE.prototype.mulTo=Abt;lE.prototype.sqrTo=ybt;function Cbt(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}o(Cbt,"bnpInvDigit");function cE(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}o(cE,"Montgomery");function Ebt(e){var t=Xi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(kt.ZERO)>0&&this.m.subTo(t,t),t}o(Ebt,"montConvert");function xbt(e){var t=Xi();return e.copyTo(t),this.reduce(t),t}o(xbt,"montRevert");function bbt(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}o(bbt,"montReduce");function vbt(e,t){e.squareTo(t),this.reduce(t)}o(vbt,"montSqrTo");function Ibt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(Ibt,"montMulTo");cE.prototype.convert=Ebt;cE.prototype.revert=xbt;cE.prototype.reduce=bbt;cE.prototype.mulTo=Ibt;cE.prototype.sqrTo=vbt;function Tbt(){return(this.t>0?this.data[0]&1:this.s)==0}o(Tbt,"bnpIsEven");function wbt(e,t){if(e>4294967295||e<1)return kt.ONE;var r=Xi(),n=Xi(),i=t.convert(this),s=mq(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}o(wbt,"bnpExp");function Sbt(e,t){var r;return e<256||t.isEven()?r=new lE(t):r=new cE(t),this.exp(e,r)}o(Sbt,"bnModPowInt");kt.prototype.copyTo=Kxt;kt.prototype.fromInt=Jxt;kt.prototype.fromString=Xxt;kt.prototype.clamp=Zxt;kt.prototype.dlShiftTo=obt;kt.prototype.drShiftTo=sbt;kt.prototype.lShiftTo=abt;kt.prototype.rShiftTo=lbt;kt.prototype.subTo=cbt;kt.prototype.multiplyTo=ubt;kt.prototype.squareTo=fbt;kt.prototype.divRemTo=dbt;kt.prototype.invDigit=Cbt;kt.prototype.isEven=Tbt;kt.prototype.exp=wbt;kt.prototype.toString=ebt;kt.prototype.negate=tbt;kt.prototype.abs=rbt;kt.prototype.compareTo=nbt;kt.prototype.bitLength=ibt;kt.prototype.mod=mbt;kt.prototype.modPowInt=Sbt;kt.ZERO=Ty(0);kt.ONE=Ty(1);function _bt(){var e=Xi();return this.copyTo(e),e}o(_bt,"bnClone");function kbt(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(kbt,"bnIntValue");function Bbt(){return this.t==0?this.s:this.data[0]<<24>>24}o(Bbt,"bnByteValue");function Rbt(){return this.t==0?this.s:this.data[0]<<16>>16}o(Rbt,"bnShortValue");function Dbt(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}o(Dbt,"bnpChunkSize");function Pbt(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o(Pbt,"bnSigNum");function Fbt(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=Ty(r),i=Xi(),s=Xi(),a="";for(this.divRemTo(n,i,s);i.signum()>0;)a=(r+s.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,s);return s.intValue().toString(e)+a}o(Fbt,"bnpToRadix");function Nbt(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,a=0,l=0;l<e.length;++l){var c=nRe(e,l);if(c<0){e.charAt(l)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&kt.ZERO.subTo(this,this)}o(Nbt,"bnpFromRadix");function Lbt(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(kt.ONE.shiftLeft(e-1),Xoe,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(kt.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}o(Lbt,"bnpFromNumber");function Qbt(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}o(Qbt,"bnToByteArray");function Mbt(e){return this.compareTo(e)==0}o(Mbt,"bnEquals");function Obt(e){return this.compareTo(e)<0?this:e}o(Obt,"bnMin");function Ubt(e){return this.compareTo(e)>0?this:e}o(Ubt,"bnMax");function qbt(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}o(qbt,"bnpBitwiseTo");function Wbt(e,t){return e&t}o(Wbt,"op_and");function Gbt(e){var t=Xi();return this.bitwiseTo(e,Wbt,t),t}o(Gbt,"bnAnd");function Xoe(e,t){return e|t}o(Xoe,"op_or");function Hbt(e){var t=Xi();return this.bitwiseTo(e,Xoe,t),t}o(Hbt,"bnOr");function iRe(e,t){return e^t}o(iRe,"op_xor");function Vbt(e){var t=Xi();return this.bitwiseTo(e,iRe,t),t}o(Vbt,"bnXor");function oRe(e,t){return e&~t}o(oRe,"op_andnot");function jbt(e){var t=Xi();return this.bitwiseTo(e,oRe,t),t}o(jbt,"bnAndNot");function $bt(){for(var e=Xi(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}o($bt,"bnNot");function zbt(e){var t=Xi();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}o(zbt,"bnShiftLeft");function Ybt(e){var t=Xi();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}o(Ybt,"bnShiftRight");function Kbt(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}o(Kbt,"lbit");function Jbt(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+Kbt(this.data[e]);return this.s<0?this.t*this.DB:-1}o(Jbt,"bnGetLowestSetBit");function Xbt(e){for(var t=0;e!=0;)e&=e-1,++t;return t}o(Xbt,"cbit");function Zbt(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=Xbt(this.data[r]^t);return e}o(Zbt,"bnBitCount");function evt(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}o(evt,"bnTestBit");function tvt(e,t){var r=kt.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}o(tvt,"bnpChangeBit");function rvt(e){return this.changeBit(e,Xoe)}o(rvt,"bnSetBit");function nvt(e){return this.changeBit(e,oRe)}o(nvt,"bnClearBit");function ivt(e){return this.changeBit(e,iRe)}o(ivt,"bnFlipBit");function ovt(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}o(ovt,"bnpAddTo");function svt(e){var t=Xi();return this.addTo(e,t),t}o(svt,"bnAdd");function avt(e){var t=Xi();return this.subTo(e,t),t}o(avt,"bnSubtract");function lvt(e){var t=Xi();return this.multiplyTo(e,t),t}o(lvt,"bnMultiply");function cvt(e){var t=Xi();return this.divRemTo(e,t,null),t}o(cvt,"bnDivide");function uvt(e){var t=Xi();return this.divRemTo(e,null,t),t}o(uvt,"bnRemainder");function fvt(e){var t=Xi(),r=Xi();return this.divRemTo(e,t,r),new Array(t,r)}o(fvt,"bnDivideAndRemainder");function dvt(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}o(dvt,"bnpDMultiply");function mvt(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}o(mvt,"bnpDAddOffset");function GS(){}o(GS,"NullExp");function sRe(e){return e}o(sRe,"nNop");function hvt(e,t,r){e.multiplyTo(t,r)}o(hvt,"nMulTo");function pvt(e,t){e.squareTo(t)}o(pvt,"nSqrTo");GS.prototype.convert=sRe;GS.prototype.revert=sRe;GS.prototype.mulTo=hvt;GS.prototype.sqrTo=pvt;function gvt(e){return this.exp(e,new GS)}o(gvt,"bnPow");function Avt(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}o(Avt,"bnpMultiplyLowerTo");function yvt(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}o(yvt,"bnpMultiplyUpperTo");function M8(e){this.r2=Xi(),this.q3=Xi(),kt.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}o(M8,"Barrett");function Cvt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Xi();return e.copyTo(t),this.reduce(t),t}o(Cvt,"barrettConvert");function Evt(e){return e}o(Evt,"barrettRevert");function xvt(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}o(xvt,"barrettReduce");function bvt(e,t){e.squareTo(t),this.reduce(t)}o(bvt,"barrettSqrTo");function vvt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(vvt,"barrettMulTo");M8.prototype.convert=Cvt;M8.prototype.revert=Evt;M8.prototype.reduce=xvt;M8.prototype.mulTo=vvt;M8.prototype.sqrTo=bvt;function Ivt(e,t){var r=e.bitLength(),n,i=Ty(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new lE(t):t.isEven()?s=new M8(t):s=new cE(t);var a=new Array,l=3,c=n-1,u=(1<<n)-1;if(a[1]=s.convert(this),n>1){var f=Xi();for(s.sqrTo(a[1],f);l<=u;)a[l]=Xi(),s.mulTo(f,a[l-2],a[l]),l+=2}var m=e.t-1,h,p=!0,A=Xi(),E;for(r=mq(e.data[m])-1;m>=0;){for(r>=c?h=e.data[m]>>r-c&u:(h=(e.data[m]&(1<<r+1)-1)<<c-r,m>0&&(h|=e.data[m-1]>>this.DB+r-c)),l=n;(h&1)==0;)h>>=1,--l;if((r-=l)<0&&(r+=this.DB,--m),p)a[h].copyTo(i),p=!1;else{for(;l>1;)s.sqrTo(i,A),s.sqrTo(A,i),l-=2;l>0?s.sqrTo(i,A):(E=i,i=A,A=E),s.mulTo(A,a[h],i)}for(;m>=0&&(e.data[m]&1<<r)==0;)s.sqrTo(i,A),E=i,i=A,A=E,--r<0&&(r=this.DB-1,--m)}return s.revert(i)}o(Ivt,"bnModPow");function Tvt(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}o(Tvt,"bnGCD");function wvt(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}o(wvt,"bnpModInt");function Svt(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return kt.ZERO;for(var r=e.clone(),n=this.clone(),i=Ty(1),s=Ty(0),a=Ty(0),l=Ty(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!l.isEven())&&(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),s.subTo(l,s)):(n.subTo(r,n),t&&a.subTo(i,a),l.subTo(s,l))}if(n.compareTo(kt.ONE)!=0)return kt.ZERO;if(l.compareTo(e)>=0)return l.subtract(e);if(l.signum()<0)l.addTo(e,l);else return l;return l.signum()<0?l.add(e):l}o(Svt,"bnModInverse");var nh=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],_vt=(1<<26)/nh[nh.length-1];function kvt(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=nh[nh.length-1]){for(t=0;t<nh.length;++t)if(r.data[0]==nh[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<nh.length;){for(var n=nh[t],i=t+1;i<nh.length&&n<_vt;)n*=nh[i++];for(n=r.modInt(n);t<i;)if(n%nh[t++]==0)return!1}return r.millerRabin(e)}o(kvt,"bnIsProbablePrime");function Bvt(e){var t=this.subtract(kt.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=Rvt(),s,a=0;a<e;++a){do s=new kt(this.bitLength(),i);while(s.compareTo(kt.ONE)<=0||s.compareTo(t)>=0);var l=s.modPow(n,this);if(l.compareTo(kt.ONE)!=0&&l.compareTo(t)!=0){for(var c=1;c++<r&&l.compareTo(t)!=0;)if(l=l.modPowInt(2,this),l.compareTo(kt.ONE)==0)return!1;if(l.compareTo(t)!=0)return!1}}return!0}o(Bvt,"bnpMillerRabin");function Rvt(){return{nextBytes:o(function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)},"nextBytes")}}o(Rvt,"bnGetPrng");kt.prototype.chunkSize=Dbt;kt.prototype.toRadix=Fbt;kt.prototype.fromRadix=Nbt;kt.prototype.fromNumber=Lbt;kt.prototype.bitwiseTo=qbt;kt.prototype.changeBit=tvt;kt.prototype.addTo=ovt;kt.prototype.dMultiply=dvt;kt.prototype.dAddOffset=mvt;kt.prototype.multiplyLowerTo=Avt;kt.prototype.multiplyUpperTo=yvt;kt.prototype.modInt=wvt;kt.prototype.millerRabin=Bvt;kt.prototype.clone=_bt;kt.prototype.intValue=kbt;kt.prototype.byteValue=Bbt;kt.prototype.shortValue=Rbt;kt.prototype.signum=Pbt;kt.prototype.toByteArray=Qbt;kt.prototype.equals=Mbt;kt.prototype.min=Obt;kt.prototype.max=Ubt;kt.prototype.and=Gbt;kt.prototype.or=Hbt;kt.prototype.xor=Vbt;kt.prototype.andNot=jbt;kt.prototype.not=$bt;kt.prototype.shiftLeft=zbt;kt.prototype.shiftRight=Ybt;kt.prototype.getLowestSetBit=Jbt;kt.prototype.bitCount=Zbt;kt.prototype.testBit=evt;kt.prototype.setBit=rvt;kt.prototype.clearBit=nvt;kt.prototype.flipBit=ivt;kt.prototype.add=svt;kt.prototype.subtract=avt;kt.prototype.multiply=lvt;kt.prototype.divide=cvt;kt.prototype.remainder=uvt;kt.prototype.divideAndRemainder=fvt;kt.prototype.modPow=Ivt;kt.prototype.modInverse=Svt;kt.prototype.pow=gvt;kt.prototype.gcd=Tvt;kt.prototype.isProbablePrime=kvt});var O8=V((NVr,fRe)=>{d();var Vp=Xn();Up();Ji();var cRe=fRe.exports=Vp.sha1=Vp.sha1||{};Vp.md.sha1=Vp.md.algorithms.sha1=cRe;cRe.create=function(){uRe||Dvt();var e=null,t=Vp.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Vp.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Vp.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),lRe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Vp.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(Zoe.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};lRe(m,r,i);var h=Vp.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h},n};var Zoe=null,uRe=!1;function Dvt(){Zoe="\x80",Zoe+=Vp.util.fillString("\0",64),uRe=!0}o(Dvt,"_init");function lRe(e,t,r){for(var n,i,s,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,s=e.h1,a=e.h2,l=e.h3,c=e.h4,f=0;f<16;++f)n=r.getInt32(),t[f]=n,u=l^s&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<20;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=l^s&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<32;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<40;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<60;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s&a|l&(s^a),n=(i<<5|i>>>27)+u+c+2400959708+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<80;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+3395469782+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,e.h4=e.h4+c|0,m-=64}}o(lRe,"_update")});var ese=V((MVr,mRe)=>{d();var jp=Xn();Ji();wd();O8();var dRe=mRe.exports=jp.pkcs1=jp.pkcs1||{};dRe.encode_rsa_oaep=function(e,t,r){var n,i,s,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),s?s.start():s=jp.md.sha1.create(),a||(a=s);var l=Math.ceil(e.n.bitLength()/8),c=l-2*s.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),s.update(n,"raw");for(var f=s.digest(),m="",h=c-t.length,p=0;p<h;p++)m+="\0";var A=f.getBytes()+m+""+t;if(!i)i=jp.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=s.digestLength,u}var E=hq(i,l-s.digestLength-1,a),x=jp.util.xorBytes(A,E,A.length),b=hq(x,s.digestLength,a),v=jp.util.xorBytes(i,b,i.length);return"\0"+v+x};dRe.decode_rsa_oaep=function(e,t,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var x=new Error("RSAES-OAEP encoded message length is invalid.");throw x.length=t.length,x.expectedLength=a,x}if(i===void 0?i=jp.md.sha1.create():i.start(),s||(s=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var l=i.digest().getBytes(),c=t.charAt(0),u=t.substring(1,i.digestLength+1),f=t.substring(1+i.digestLength),m=hq(f,i.digestLength,s),h=jp.util.xorBytes(u,m,u.length),p=hq(h,a-i.digestLength-1,s),A=jp.util.xorBytes(f,p,f.length),E=A.substring(0,i.digestLength),x=c!=="\0",b=0;b<i.digestLength;++b)x|=l.charAt(b)!==E.charAt(b);for(var v=1,S=i.digestLength,B=i.digestLength;B<A.length;B++){var P=A.charCodeAt(B),F=P&1^1,G=v?65534:0;x|=P&G,v=v&F,S+=v}if(x||A.charCodeAt(S)!==1)throw new Error("Invalid RSAES-OAEP padding.");return A.substring(S+1)};function hq(e,t,r){r||(r=jp.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}o(hq,"rsa_mgf1")});var rse=V((qVr,tse)=>{d();var wy=Xn();Ji();HS();wd();(function(){if(wy.prime){tse.exports=wy.prime;return}var e=tse.exports=wy.prime=wy.prime||{},t=wy.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=o(function(m,h){return m|h},"op_or");e.generateProbablePrime=function(m,h,p){typeof h=="function"&&(p=h,h={}),h=h||{};var A=h.algorithm||"PRIMEINC";typeof A=="string"&&(A={name:A}),A.options=A.options||{};var E=h.prng||wy.random,x={nextBytes:o(function(b){for(var v=E.getBytesSync(b.length),S=0;S<b.length;++S)b[S]=v.charCodeAt(S)},"nextBytes")};if(A.name==="PRIMEINC")return s(m,x,A.options,p);throw new Error("Invalid prime generation algorithm: "+A.name)};function s(m,h,p,A){return"workers"in p?c(m,h,p,A):a(m,h,p,A)}o(s,"primeincFindPrime");function a(m,h,p,A){var E=u(m,h),x=0,b=f(E.bitLength());"millerRabinTests"in p&&(b=p.millerRabinTests);var v=10;"maxBlockTime"in p&&(v=p.maxBlockTime),l(E,m,h,x,b,v,A)}o(a,"primeincFindPrimeWithoutWorkers");function l(m,h,p,A,E,x,b){var v=+new Date;do{if(m.bitLength()>h&&(m=u(h,p)),m.isProbablePrime(E))return b(null,m);m.dAddOffset(r[A++%8],0)}while(x<0||+new Date-v<x);wy.util.setImmediate(function(){l(m,h,p,A,E,x,b)})}o(l,"_primeinc");function c(m,h,p,A){if(typeof Worker>"u")return a(m,h,p,A);var E=u(m,h),x=p.workers,b=p.workLoad||100,v=b*30/8,S=p.workerScript||"forge/prime.worker.js";if(x===-1)return wy.util.estimateCores(function(P,F){P&&(F=2),x=F-1,B()});B();function B(){x=Math.max(1,x);for(var P=[],F=0;F<x;++F)P[F]=new Worker(S);for(var G=x,F=0;F<x;++F)P[F].addEventListener("message",pe);var re=!1;function pe(Z){if(!re){--G;var W=Z.data;if(W.found){for(var q=0;q<P.length;++q)P[q].terminate();return re=!0,A(null,new t(W.prime,16))}E.bitLength()>m&&(E=u(m,h));var se=E.toString(16);Z.target.postMessage({hex:se,workLoad:b}),E.dAddOffset(v,0)}}o(pe,"workerMessage")}o(B,"generate")}o(c,"primeincFindPrimeWithWorkers");function u(m,h){var p=new t(m,h),A=m-1;return p.testBit(A)||p.bitwiseTo(t.ONE.shiftLeft(A),i,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}o(u,"generateRandom");function f(m){return m<=100?27:m<=150?18:m<=200?15:m<=250?12:m<=300?9:m<=350?8:m<=400?7:m<=500?6:m<=600?5:m<=800?4:m<=1250?3:2}o(f,"getMillerRabinTests")})()});var VS=V((HVr,ERe)=>{d();var Zr=Xn();rh();HS();Iy();ese();rse();wd();Ji();typeof Wi>"u"&&(Wi=Zr.jsbn.BigInteger);var Wi,nse=Zr.util.isNodejs?require("crypto"):null,$e=Zr.asn1,_d=Zr.util;Zr.pki=Zr.pki||{};ERe.exports=Zr.pki.rsa=Zr.rsa=Zr.rsa||{};var Un=Zr.pki,Pvt=[6,4,2,4,2,4,6,2],Fvt={name:"PrivateKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Nvt={name:"RSAPrivateKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},Lvt={name:"RSAPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Qvt=Zr.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Mvt={name:"DigestInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:$e.Class.UNIVERSAL,type:$e.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},Ovt=o(function(e){var t;if(e.algorithm in Un.oids)t=Un.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=$e.oidToDer(t).getBytes(),i=$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[]),s=$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[]);s.value.push($e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,n)),s.value.push($e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,""));var a=$e.create($e.Class.UNIVERSAL,$e.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(a),$e.toDer(i).getBytes()},"emsaPkcs1v15encode"),yRe=o(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(Wi.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(Wi.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new Wi(Zr.util.bytesToHex(Zr.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(Wi.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(s)<0;)i=i.add(t.p);var a=i.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");Un.rsa.encrypt=function(e,t,r){var n=r,i,s=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=CRe(e,t,r)):(i=Zr.util.createBuffer(),i.putBytes(e));for(var a=new Wi(i.toHex(),16),l=yRe(a,t,n),c=l.toString(16),u=Zr.util.createBuffer(),f=s-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(Zr.util.hexToBytes(c)),u.getBytes()};Un.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=i,s}var a=new Wi(Zr.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=yRe(a,t,r),c=l.toString(16),u=Zr.util.createBuffer(),f=i-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(Zr.util.hexToBytes(c)),n!==!1?pq(u.getBytes(),t,r):u.getBytes()};Un.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||Zr.random,i={nextBytes:o(function(l){for(var c=n.getBytesSync(l.length),u=0;u<l.length;++u)l[u]=c.charCodeAt(u)},"nextBytes")},s=r.algorithm||"PRIMEINC",a;if(s==="PRIMEINC")a={algorithm:s,state:0,bits:e,rng:i,eInt:t||65537,e:new Wi(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+s);return a};Un.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new Wi(null);r.fromInt(30);for(var n=0,i=o(function(m,h){return m|h},"op_or"),s=+new Date,a,l=0;e.keys===null&&(t<=0||l<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new Wi(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(Wi.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(qvt(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(Pvt[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(Wi.ONE).gcd(e.e).compareTo(Wi.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(Wi.ONE),e.q1=e.q.subtract(Wi.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(Wi.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var f=e.e.modInverse(e.phi);e.keys={privateKey:Un.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:Un.rsa.setPublicKey(e.n,e.e)}}a=+new Date,l+=a-s,s=a}return e.keys!==null};Un.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!Zr.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(hRe("generateKeyPair"))return nse.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,c,u){if(l)return n(l);n(null,{privateKey:Un.privateKeyFromPem(u),publicKey:Un.publicKeyFromPem(c)})});if(pRe("generateKey")&&pRe("exportKey"))return _d.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:ARe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return _d.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var c=Un.privateKeyFromAsn1($e.fromDer(Zr.util.createBuffer(l)));n(null,{privateKey:c,publicKey:Un.setRsaPublicKey(c.n,c.e)})}});if(gRe("generateKey")&&gRe("exportKey")){var i=_d.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:ARe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(l){var c=l.target.result,u=_d.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(f){var m=f.target.result,h=Un.privateKeyFromAsn1($e.fromDer(Zr.util.createBuffer(m)));n(null,{privateKey:h,publicKey:Un.setRsaPublicKey(h.n,h.e)})},u.onerror=function(f){n(f)}},i.onerror=function(l){n(l)};return}}else if(hRe("generateKeyPairSync")){var s=nse.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Un.privateKeyFromPem(s.privateKey),publicKey:Un.publicKeyFromPem(s.publicKey)}}}var a=Un.rsa.createKeyPairGenerationState(e,t,r);if(!n)return Un.rsa.stepKeyPairGenerationState(a,0),a.keys;Uvt(a,r,n)};Un.setRsaPublicKey=Un.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:o(function(l,c,u){return CRe(l,c,2).getBytes()},"encode")};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:o(function(l,c){return Zr.pkcs1.encode_rsa_oaep(c,l,s)},"encode")};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:o(function(l){return l},"encode")};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return Un.rsa.encrypt(a,r,!0)},r.verify=function(n,i,s,a){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:o(function(c,u){u=pq(u,r,!0);var f=$e.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),m={},h=[];if(!$e.validate(f,Mvt,m,h)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=h,p}var A=$e.derToOid(m.algorithmIdentifier);if(!(A===Zr.oids.md2||A===Zr.oids.md5||A===Zr.oids.sha1||A===Zr.oids.sha224||A===Zr.oids.sha256||A===Zr.oids.sha384||A===Zr.oids.sha512||A===Zr.oids["sha512-224"]||A===Zr.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=A,p}if((A===Zr.oids.md2||A===Zr.oids.md5)&&!("parameters"in m))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===m.digest},"verify")}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:o(function(c,u){return u=pq(u,r,!0),c===u},"verify")});var l=Un.rsa.decrypt(i,r,!0,!1);return s.verify(n,l,r.n.bitLength())},r};Un.setRsaPrivateKey=Un.rsa.setPrivateKey=function(e,t,r,n,i,s,a,l){var c={n:e,e:t,d:r,p:n,q:i,dP:s,dQ:a,qInv:l};return c.decrypt=function(u,f,m){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var h=Un.rsa.decrypt(u,c,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:pq};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:o(function(p,A){return Zr.pkcs1.decode_rsa_oaep(A,p,m)},"decode")};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:o(function(p){return p},"decode")};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(h,c,!1)},c.sign=function(u,f){var m=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:Ovt},m=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:o(function(){return u},"encode")},m=1);var h=f.encode(u,c.n.bitLength());return Un.rsa.encrypt(h,c,m)},c};Un.wrapRsaPrivateKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$e.integerToDer(0).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,$e.oidToDer(Un.oids.rsaEncryption).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,"")]),$e.create($e.Class.UNIVERSAL,$e.Type.OCTETSTRING,!1,$e.toDer(e).getBytes())])};Un.privateKeyFromAsn1=function(e){var t={},r=[];if($e.validate(e,Fvt,t,r)&&(e=$e.fromDer(Zr.util.createBuffer(t.privateKey))),t={},r=[],!$e.validate(e,Nvt,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,a,l,c,u,f,m;return i=Zr.util.createBuffer(t.privateKeyModulus).toHex(),s=Zr.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=Zr.util.createBuffer(t.privateKeyPrivateExponent).toHex(),l=Zr.util.createBuffer(t.privateKeyPrime1).toHex(),c=Zr.util.createBuffer(t.privateKeyPrime2).toHex(),u=Zr.util.createBuffer(t.privateKeyExponent1).toHex(),f=Zr.util.createBuffer(t.privateKeyExponent2).toHex(),m=Zr.util.createBuffer(t.privateKeyCoefficient).toHex(),Un.setRsaPrivateKey(new Wi(i,16),new Wi(s,16),new Wi(a,16),new Wi(l,16),new Wi(c,16),new Wi(u,16),new Wi(f,16),new Wi(m,16))};Un.privateKeyToAsn1=Un.privateKeyToRSAPrivateKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$e.integerToDer(0).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$p(e.n)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$p(e.e)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$p(e.d)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$p(e.p)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$p(e.q)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$p(e.dP)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$p(e.dQ)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$p(e.qInv))])};Un.publicKeyFromAsn1=function(e){var t={},r=[];if($e.validate(e,Qvt,t,r)){var n=$e.derToOid(t.publicKeyOid);if(n!==Un.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!$e.validate(e,Lvt,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=Zr.util.createBuffer(t.publicKeyModulus).toHex(),a=Zr.util.createBuffer(t.publicKeyExponent).toHex();return Un.setRsaPublicKey(new Wi(s,16),new Wi(a,16))};Un.publicKeyToAsn1=Un.publicKeyToSubjectPublicKeyInfo=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,$e.oidToDer(Un.oids.rsaEncryption).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,"")]),$e.create($e.Class.UNIVERSAL,$e.Type.BITSTRING,!1,[Un.publicKeyToRSAPublicKey(e)])])};Un.publicKeyToRSAPublicKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$p(e.n)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$p(e.e))])};function CRe(e,t,r){var n=Zr.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var a=i-3-e.length,l;if(r===0||r===1){l=r===0?0:255;for(var c=0;c<a;++c)n.putByte(l)}else for(;a>0;){for(var u=0,f=Zr.random.getBytes(a),c=0;c<a;++c)l=f.charCodeAt(c),l===0?++u:n.putByte(l);a=u}return n.putByte(0),n.putBytes(e),n}o(CRe,"_encodePkcs1_v1_5");function pq(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),s=Zr.util.createBuffer(e),a=s.getByte(),l=s.getByte();if(a!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(l===0){c=i-3-n;for(var u=0;u<c;++u)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(c=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++c}else if(l===2)for(c=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++c}var f=s.getByte();if(f!==0||c!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}o(pq,"_decodePkcs1_v1_5");function Uvt(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){s(e.pBits,function(l,c){if(l)return r(l);if(e.p=c,e.q!==null)return a(l,e.q);s(e.qBits,a)})}o(i,"generate");function s(l,c){Zr.prime.generateProbablePrime(l,n,c)}o(s,"getPrime");function a(l,c){if(l)return r(l);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(Wi.ONE).gcd(e.e).compareTo(Wi.ONE)!==0){e.p=null,i();return}if(e.q.subtract(Wi.ONE).gcd(e.e).compareTo(Wi.ONE)!==0){e.q=null,s(e.qBits,a);return}if(e.p1=e.p.subtract(Wi.ONE),e.q1=e.q.subtract(Wi.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(Wi.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,s(e.qBits,a);return}var f=e.e.modInverse(e.phi);e.keys={privateKey:Un.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:Un.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}o(a,"finish")}o(Uvt,"_generateKeyPair");function $p(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=Zr.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o($p,"_bnToBytes");function qvt(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}o(qvt,"_getMillerRabinTests");function hRe(e){return Zr.util.isNodejs&&typeof nse[e]=="function"}o(hRe,"_detectNodeCrypto");function pRe(e){return typeof _d.globalScope<"u"&&typeof _d.globalScope.crypto=="object"&&typeof _d.globalScope.crypto.subtle=="object"&&typeof _d.globalScope.crypto.subtle[e]=="function"}o(pRe,"_detectSubtleCrypto");function gRe(e){return typeof _d.globalScope<"u"&&typeof _d.globalScope.msCrypto=="object"&&typeof _d.globalScope.msCrypto.subtle=="object"&&typeof _d.globalScope.msCrypto.subtle[e]=="function"}o(gRe,"_detectSubtleMsCrypto");function ARe(e){for(var t=Zr.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}o(ARe,"_intToUint8Array")});var ise=V(($Vr,TRe)=>{d();var Ir=Xn();vy();rh();WS();Up();Iy();uq();aE();wd();Yoe();VS();Ji();typeof xRe>"u"&&(xRe=Ir.jsbn.BigInteger);var xRe,mt=Ir.asn1,zn=Ir.pki=Ir.pki||{};TRe.exports=zn.pbe=Ir.pbe=Ir.pbe||{};var uE=zn.oids,Wvt={name:"EncryptedPrivateKeyInfo",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},Gvt={name:"PBES2Algorithms",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Hvt={name:"pkcs-12PbeParams",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,capture:"iterations"}]};zn.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=Ir.random.getBytesSync(r.saltSize),i=r.count,s=mt.integerToDer(i),a,l,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,f,m;switch(r.algorithm){case"aes128":a=16,u=16,f=uE["aes128-CBC"],m=Ir.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,f=uE["aes192-CBC"],m=Ir.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,f=uE["aes256-CBC"],m=Ir.aes.createEncryptionCipher;break;case"des":a=8,u=8,f=uE.desCBC,m=Ir.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),A=IRe(p),E=Ir.pkcs5.pbkdf2(t,n,i,a,A),x=Ir.random.getBytesSync(u),b=m(E);b.start(x),b.update(mt.toDer(e)),b.finish(),c=b.output.getBytes();var v=Vvt(n,s,a,p);l=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(uE.pkcs5PBES2).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(uE.pkcs5PBKDF2).getBytes()),v]),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(f).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,x)])])])}else if(r.algorithm==="3des"){a=24;var S=new Ir.util.ByteBuffer(n),E=zn.pbe.generatePkcs12Key(t,S,1,i,a),x=zn.pbe.generatePkcs12Key(t,S,2,i,a),b=Ir.des.createEncryptionCipher(E);b.start(x),b.update(mt.toDer(e)),b.finish(),c=b.output.getBytes(),l=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(uE["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,n),mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,s.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var B=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[l,mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,c)]);return B};zn.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!mt.validate(e,Wvt,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=mt.derToOid(n.encryptionOid),l=zn.pbe.getCipher(a,n.encryptionParams,t),c=Ir.util.createBuffer(n.encryptedData);return l.update(c),l.finish()&&(r=mt.fromDer(l.output)),r};zn.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:mt.toDer(e).getBytes()};return Ir.pem.encode(r,{maxline:t})};zn.encryptedPrivateKeyFromPem=function(e){var t=Ir.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return mt.fromDer(t.body)};zn.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=zn.wrapRsaPrivateKey(zn.privateKeyToAsn1(e));return n=zn.encryptPrivateKeyInfo(n,t,r),zn.encryptedPrivateKeyToPem(n)}var i,s,a,l;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,s=Ir.random.getBytesSync(16),l=Ir.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,s=Ir.random.getBytesSync(16),l=Ir.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,s=Ir.random.getBytesSync(16),l=Ir.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,s=Ir.random.getBytesSync(8),l=Ir.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,s=Ir.random.getBytesSync(8),l=Ir.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=Ir.pbe.opensslDeriveBytes(t,s.substr(0,8),a),f=l(u);f.start(s),f.update(mt.toDer(zn.privateKeyToAsn1(e))),f.finish();var m={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:Ir.util.bytesToHex(s).toUpperCase()},body:f.output.getBytes()};return Ir.pem.encode(m)};zn.decryptRsaPrivateKey=function(e,t){var r=null,n=Ir.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,a;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,a=Ir.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,a=Ir.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,a=Ir.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,a=Ir.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,a=Ir.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,a=o(function(m){return Ir.rc2.createDecryptionCipher(m,40)},"cipherFn");break;case"RC2-64-CBC":s=8,a=o(function(m){return Ir.rc2.createDecryptionCipher(m,64)},"cipherFn");break;case"RC2-128-CBC":s=16,a=o(function(m){return Ir.rc2.createDecryptionCipher(m,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var l=Ir.util.hexToBytes(n.dekInfo.parameters),c=Ir.pbe.opensslDeriveBytes(t,l.substr(0,8),s),u=a(c);if(u.start(l),u.update(Ir.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=zn.decryptPrivateKeyInfo(mt.fromDer(r),t):r=mt.fromDer(r),r!==null&&(r=zn.privateKeyFromAsn1(r)),r};zn.pbe.generatePkcs12Key=function(e,t,r,n,i,s){var a,l;if(typeof s>"u"||s===null){if(!("sha1"in Ir.md))throw new Error('"sha1" hash algorithm unavailable.');s=Ir.md.sha1.create()}var c=s.digestLength,u=s.blockLength,f=new Ir.util.ByteBuffer,m=new Ir.util.ByteBuffer;if(e!=null){for(l=0;l<e.length;l++)m.putInt16(e.charCodeAt(l));m.putInt16(0)}var h=m.length(),p=t.length(),A=new Ir.util.ByteBuffer;A.fillWithByte(r,u);var E=u*Math.ceil(p/u),x=new Ir.util.ByteBuffer;for(l=0;l<E;l++)x.putByte(t.at(l%p));var b=u*Math.ceil(h/u),v=new Ir.util.ByteBuffer;for(l=0;l<b;l++)v.putByte(m.at(l%h));var S=x;S.putBuffer(v);for(var B=Math.ceil(i/c),P=1;P<=B;P++){var F=new Ir.util.ByteBuffer;F.putBytes(A.bytes()),F.putBytes(S.bytes());for(var G=0;G<n;G++)s.start(),s.update(F.getBytes()),F=s.digest();var re=new Ir.util.ByteBuffer;for(l=0;l<u;l++)re.putByte(F.at(l%c));var pe=Math.ceil(p/u)+Math.ceil(h/u),Z=new Ir.util.ByteBuffer;for(a=0;a<pe;a++){var W=new Ir.util.ByteBuffer(S.getBytes(u)),q=511;for(l=re.length()-1;l>=0;l--)q=q>>8,q+=re.at(l)+W.at(l),W.setAt(l,q&255);Z.putBuffer(W)}S=Z,f.putBuffer(F)}return f.truncate(f.length()-i),f};zn.pbe.getCipher=function(e,t,r){switch(e){case zn.oids.pkcs5PBES2:return zn.pbe.getCipherForPBES2(e,t,r);case zn.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case zn.oids["pbewithSHAAnd40BitRC2-CBC"]:return zn.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};zn.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!mt.validate(t,Gvt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(e=mt.derToOid(n.kdfOid),e!==zn.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=e,s.supportedOids=["pkcs5PBKDF2"],s}if(e=mt.derToOid(n.encOid),e!==zn.oids["aes128-CBC"]&&e!==zn.oids["aes192-CBC"]&&e!==zn.oids["aes256-CBC"]&&e!==zn.oids["des-EDE3-CBC"]&&e!==zn.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=e,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var a=n.kdfSalt,l=Ir.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var c,u;switch(zn.oids[e]){case"aes128-CBC":c=16,u=Ir.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=Ir.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=Ir.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=Ir.des.createDecryptionCipher;break;case"desCBC":c=8,u=Ir.des.createDecryptionCipher;break}var f=vRe(n.prfOid),m=Ir.pkcs5.pbkdf2(r,a,l,c,f),h=n.encIv,p=u(m);return p.start(h),p};zn.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!mt.validate(t,Hvt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=Ir.util.createBuffer(n.salt),l=Ir.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var c,u,f;switch(e){case zn.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=Ir.des.startDecrypting;break;case zn.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=o(function(E,x){var b=Ir.rc2.createDecryptionCipher(E,40);return b.start(x,null),b},"cipherFn");break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=e,s}var m=vRe(n.prfOid),h=zn.pbe.generatePkcs12Key(r,a,1,l,c,m);m.start();var p=zn.pbe.generatePkcs12Key(r,a,2,l,u,m);return f(h,p)};zn.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in Ir.md))throw new Error('"md5" hash algorithm unavailable.');n=Ir.md.md5.create()}t===null&&(t="");for(var i=[bRe(n,e+t)],s=16,a=1;s<r;++a,s+=16)i.push(bRe(n,i[a-1]+e+t));return i.join("").substr(0,r)};function bRe(e,t){return e.start().update(t).digest().getBytes()}o(bRe,"hash");function vRe(e){var t;if(!e)t="hmacWithSHA1";else if(t=zn.oids[mt.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return IRe(t)}o(vRe,"prfOidToMessageDigest");function IRe(e){var t=Ir.md;switch(e){case"hmacWithSHA224":t=Ir.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o(IRe,"prfAlgorithmToMessageDigest");function Vvt(e,t,r,n){var i=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,e),mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,Ir.util.hexToBytes(r.toString(16))),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(zn.oids[n]).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.NULL,!1,"")])),i}o(Vvt,"createPbkdf2Params")});var ose=V((KVr,_Re)=>{d();var U8=Xn();rh();Ji();var Er=U8.asn1,q8=_Re.exports=U8.pkcs7asn1=U8.pkcs7asn1||{};U8.pkcs7=U8.pkcs7||{};U8.pkcs7.asn1=q8;var wRe={name:"ContentInfo",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Er.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};q8.contentInfoValidator=wRe;var SRe={name:"EncryptedContentInfo",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Er.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Er.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};q8.envelopedDataValidator={name:"EnvelopedData",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(SRe)};q8.encryptedDataValidator={name:"EncryptedData",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"version"}].concat(SRe)};var jvt={name:"SignerInfo",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Er.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Er.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Er.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};q8.signedDataValidator={name:"SignedData",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},wRe,{name:"SignedData.Certificates",tagClass:Er.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Er.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SET,capture:"signerInfos",optional:!0,value:[jvt]}]};q8.recipientInfoValidator={name:"RecipientInfo",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Er.Class.UNIVERSAL,type:Er.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Er.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Er.Class.UNIVERSAL,type:Er.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var sse=V((XVr,kRe)=>{d();var fE=Xn();Ji();fE.mgf=fE.mgf||{};var $vt=kRe.exports=fE.mgf.mgf1=fE.mgf1=fE.mgf1||{};$vt.create=function(e){var t={generate:o(function(r,n){for(var i=new fE.util.ByteBuffer,s=Math.ceil(n/e.digestLength),a=0;a<s;a++){var l=new fE.util.ByteBuffer;l.putInt32(a),e.start(),e.update(r+l.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()},"generate")};return t}});var RRe=V((tjr,BRe)=>{d();var gq=Xn();sse();BRe.exports=gq.mgf=gq.mgf||{};gq.mgf.mgf1=gq.mgf1});var Aq=V((njr,DRe)=>{d();var dE=Xn();wd();Ji();var zvt=DRe.exports=dE.pss=dE.pss||{};zvt.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=dE.util.createBuffer(i));var s;if("saltLength"in e)s=e.saltLength;else if(i!==null)s=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==s)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||dE.random,l={};return l.encode=function(c,u){var f,m=u-1,h=Math.ceil(m/8),p=c.digest().getBytes();if(h<n+s+2)throw new Error("Message is too long to encrypt.");var A;i===null?A=a.getBytesSync(s):A=i.bytes();var E=new dE.util.ByteBuffer;E.fillWithByte(0,8),E.putBytes(p),E.putBytes(A),t.start(),t.update(E.getBytes());var x=t.digest().getBytes(),b=new dE.util.ByteBuffer;b.fillWithByte(0,h-s-n-2),b.putByte(1),b.putBytes(A);var v=b.getBytes(),S=h-n-1,B=r.generate(x,S),P="";for(f=0;f<S;f++)P+=String.fromCharCode(v.charCodeAt(f)^B.charCodeAt(f));var F=65280>>8*h-m&255;return P=String.fromCharCode(P.charCodeAt(0)&~F)+P.substr(1),P+x+"\xBC"},l.verify=function(c,u,f){var m,h=f-1,p=Math.ceil(h/8);if(u=u.substr(-p),p<n+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var A=p-n-1,E=u.substr(0,A),x=u.substr(A,n),b=65280>>8*p-h&255;if((E.charCodeAt(0)&b)!==0)throw new Error("Bits beyond keysize not zero as expected.");var v=r.generate(x,A),S="";for(m=0;m<A;m++)S+=String.fromCharCode(E.charCodeAt(m)^v.charCodeAt(m));S=String.fromCharCode(S.charCodeAt(0)&~b)+S.substr(1);var B=p-n-s-2;for(m=0;m<B;m++)if(S.charCodeAt(m)!==0)throw new Error("Leftmost octets not zero as expected");if(S.charCodeAt(B)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var P=S.substr(-s),F=new dE.util.ByteBuffer;F.fillWithByte(0,8),F.putBytes(c),F.putBytes(P),t.start(),t.update(F.getBytes());var G=t.digest().getBytes();return x===G},l}});var Eq=V((ojr,QRe)=>{d();var en=Xn();vy();rh();WS();Up();RRe();Iy();aE();Aq();VS();Ji();var $=en.asn1,nr=QRe.exports=en.pki=en.pki||{},Gi=nr.oids,Xs={};Xs.CN=Gi.commonName;Xs.commonName="CN";Xs.C=Gi.countryName;Xs.countryName="C";Xs.L=Gi.localityName;Xs.localityName="L";Xs.ST=Gi.stateOrProvinceName;Xs.stateOrProvinceName="ST";Xs.O=Gi.organizationName;Xs.organizationName="O";Xs.OU=Gi.organizationalUnitName;Xs.organizationalUnitName="OU";Xs.E=Gi.emailAddress;Xs.emailAddress="E";var FRe=en.pki.rsa.publicKeyValidator,Yvt={name:"Certificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},FRe,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},Kvt={name:"rsapss",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},Jvt={name:"CertificationRequestInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},FRe,{name:"CertificationRequestInfo.attributes",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:$.Class.UNIVERSAL,type:$.Type.SET,constructed:!0}]}]}]},Xvt={name:"CertificationRequest",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[Jvt,{name:"CertificationRequest.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};nr.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,s,a=0;a<e.value.length;++a){n=e.value[a];for(var l=0;l<n.value.length;++l)s={},i=n.value[l],s.type=$.derToOid(i.value[0].value),s.value=i.value[1].value,s.valueTagClass=i.value[1].type,s.type in Gi&&(s.name=Gi[s.type],s.name in Xs&&(s.shortName=Xs[s.name])),t&&(t.update(s.type),t.update(s.value)),r.push(s)}return r};nr.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=$.derToOid(n.value[0].value),s=n.value[1].value,a=0;a<s.length;++a){var l={};if(l.type=i,l.value=s[a].value,l.valueTagClass=s[a].type,l.type in Gi&&(l.name=Gi[l.type],l.name in Xs&&(l.shortName=Xs[l.name])),l.type===Gi.extensionRequest){l.extensions=[];for(var c=0;c<l.value.length;++c)l.extensions.push(nr.certificateExtensionFromAsn1(l.value[c]))}t.push(l)}return t};function Sy(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o(Sy,"_getAttribute");var yq=o(function(e,t,r){var n={};if(e!==Gi["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Gi.sha1},mgf:{algorithmOid:Gi.mgf1,hash:{algorithmOid:Gi.sha1}},saltLength:20});var i={},s=[];if(!$.validate(t,Kvt,i,s)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=s,a}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=$.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=$.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=$.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),Cq=o(function(e){switch(Gi[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return en.md.sha1.create();case"md5WithRSAEncryption":return en.md.md5.create();case"sha256WithRSAEncryption":return en.md.sha256.create();case"sha384WithRSAEncryption":return en.md.sha384.create();case"sha512WithRSAEncryption":return en.md.sha512.create();case"RSASSA-PSS":return en.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),NRe=o(function(e){var t=e.certificate,r;switch(t.signatureOid){case Gi.sha1WithRSAEncryption:case Gi.sha1WithRSASignature:break;case Gi["RSASSA-PSS"]:var n,i;if(n=Gi[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||en.md[n]===void 0){var s=new Error("Unsupported MGF hash function.");throw s.oid=t.signatureParameters.mgf.hash.algorithmOid,s.name=n,s}if(i=Gi[t.signatureParameters.mgf.algorithmOid],i===void 0||en.mgf[i]===void 0){var s=new Error("Unsupported MGF function.");throw s.oid=t.signatureParameters.mgf.algorithmOid,s.name=i,s}if(i=en.mgf[i].create(en.md[n].create()),n=Gi[t.signatureParameters.hash.algorithmOid],n===void 0||en.md[n]===void 0){var s=new Error("Unsupported RSASSA-PSS hash function.");throw s.oid=t.signatureParameters.hash.algorithmOid,s.name=n,s}r=en.pss.create(en.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");nr.certificateFromPem=function(e,t,r){var n=en.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=$.fromDer(n.body,r);return nr.certificateFromAsn1(s,t)};nr.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:$.toDer(nr.certificateToAsn1(e)).getBytes()};return en.pem.encode(r,{maxline:t})};nr.publicKeyFromPem=function(e){var t=en.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=$.fromDer(t.body);return nr.publicKeyFromAsn1(n)};nr.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:$.toDer(nr.publicKeyToAsn1(e)).getBytes()};return en.pem.encode(r,{maxline:t})};nr.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:$.toDer(nr.publicKeyToRSAPublicKey(e)).getBytes()};return en.pem.encode(r,{maxline:t})};nr.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||en.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=$.toDer(nr.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=$.toDer(nr.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var s=r.digest();if(t.encoding==="hex"){var a=s.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};nr.certificationRequestFromPem=function(e,t,r){var n=en.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=$.fromDer(n.body,r);return nr.certificationRequestFromAsn1(s,t)};nr.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:$.toDer(nr.certificationRequestToAsn1(e)).getBytes()};return en.pem.encode(r,{maxline:t})};nr.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return Sy(e.issuer,t)},e.issuer.addField=function(t){kd([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return Sy(e.subject,t)},e.subject.addField=function(t){kd([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){kd(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){kd(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)LRe(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||en.md.sha1.create();var n=Gi[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=nr.getTBSCertificate(e);var s=$.toDer(e.tbsCertificate);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=i.attributes,s.actualIssuer=n.attributes,s}var a=t.md;if(a===null){a=Cq({signatureOid:t.signatureOid,type:"certificate"});var l=t.tbsCertificate||nr.getTBSCertificate(t),c=$.toDer(l);a.update(c.getBytes())}return a!==null&&(r=NRe({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var s,a,l=0;r&&l<n.attributes.length;++l)s=n.attributes[l],a=i.attributes[l],(s.type!==a.type||s.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return nr.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Gi.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return en.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};nr.certificateFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,Yvt,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var s=$.derToOid(r.publicKeyOid);if(s!==nr.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=nr.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=en.util.createBuffer(r.certSerialNumber);a.serialNumber=l.toHex(),a.signatureOid=en.asn1.derToOid(r.certSignatureOid),a.signatureParameters=yq(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=en.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=yq(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=c[0],a.validity.notAfter=c[1],a.tbsCertificate=r.tbsCertificate,t){a.md=Cq({signatureOid:a.signatureOid,type:"certificate"});var u=$.toDer(a.tbsCertificate);a.md.update(u.getBytes())}var f=en.md.sha1.create(),m=$.toDer(r.certIssuer);f.update(m.getBytes()),a.issuer.getField=function(A){return Sy(a.issuer,A)},a.issuer.addField=function(A){kd([A]),a.issuer.attributes.push(A)},a.issuer.attributes=nr.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=f.digest().toHex();var h=en.md.sha1.create(),p=$.toDer(r.certSubject);return h.update(p.getBytes()),a.subject.getField=function(A){return Sy(a.subject,A)},a.subject.addField=function(A){kd([A]),a.subject.attributes.push(A)},a.subject.attributes=nr.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=h.digest().toHex(),r.certExtensions?a.extensions=nr.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=nr.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};nr.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(nr.certificateExtensionFromAsn1(n.value[i]));return t};nr.certificateExtensionFromAsn1=function(e){var t={};if(t.id=$.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===$.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Gi){if(t.name=Gi[t.id],t.name==="keyUsage"){var r=$.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=$.fromDer(t.value);r.value.length>0&&r.value[0].type===$.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var s=null;r.value.length>0&&r.value[0].type===$.Type.INTEGER?s=r.value[0].value:r.value.length>1&&(s=r.value[1].value),s!==null&&(t.pathLenConstraint=$.derToInteger(s))}else if(t.name==="extKeyUsage")for(var r=$.fromDer(t.value),a=0;a<r.value.length;++a){var l=$.derToOid(r.value[a].value);l in Gi?t[Gi[l]]=!0:t[l]=!0}else if(t.name==="nsCertType"){var r=$.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=$.fromDer(t.value),u=0;u<r.value.length;++u){c=r.value[u];var f={type:c.type,value:c.value};switch(t.altNames.push(f),c.type){case 1:case 2:case 6:break;case 7:f.ip=en.util.bytesToIP(c.value);break;case 8:f.oid=$.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=$.fromDer(t.value);t.subjectKeyIdentifier=en.util.bytesToHex(r.value)}}return t};nr.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,Xvt,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var s=$.derToOid(r.publicKeyOid);if(s!==nr.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=nr.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=en.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=yq(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=en.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=yq(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=Cq({signatureOid:a.signatureOid,type:"certification request"});var l=$.toDer(a.certificationRequestInfo);a.md.update(l.getBytes())}var c=en.md.sha1.create();return a.subject.getField=function(u){return Sy(a.subject,u)},a.subject.addField=function(u){kd([u]),a.subject.attributes.push(u)},a.subject.attributes=nr.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),a.subject.hash=c.digest().toHex(),a.publicKey=nr.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(u){return Sy(a,u)},a.addAttribute=function(u){kd([u]),a.attributes.push(u)},a.attributes=nr.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};nr.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return Sy(e.subject,t)},e.subject.addField=function(t){kd([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return Sy(e,t)},e.addAttribute=function(t){kd([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){kd(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){kd(t),e.attributes=t},e.sign=function(t,r){e.md=r||en.md.sha1.create();var n=Gi[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=nr.getCertificationRequestInfo(e);var s=$.toDer(e.certificationRequestInfo);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=Cq({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||nr.getCertificationRequestInfo(e),i=$.toDer(n);r.update(i.getBytes())}return r!==null&&(t=NRe({certificate:e,md:r,signature:e.signature})),t},e};function W8(e){for(var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,s=0;s<i.length;++s){r=i[s];var a=r.value,l=$.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===$.Type.UTF8&&(a=en.util.encodeUtf8(a))),n=$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(r.type).getBytes()),$.create($.Class.UNIVERSAL,l,!1,a)])]),t.value.push(n)}return t}o(W8,"_dnToAsn1");function kd(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in nr.oids?t.name=nr.oids[t.type]:t.shortName&&t.shortName in Xs&&(t.name=nr.oids[Xs[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in nr.oids)t.type=nr.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in Xs&&(t.shortName=Xs[t.name]),t.type===Gi.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=$.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(nr.certificateExtensionToAsn1(LRe(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}o(kd,"_fillMissingFields");function LRe(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in nr.oids&&(e.name=nr.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in nr.oids)e.id=nr.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,s=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(s|=128,n=7);var a=String.fromCharCode(n);s!==0?a+=String.fromCharCode(i)+String.fromCharCode(s):i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var c in e)e[c]===!0&&(c in Gi?l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(Gi[c]).getBytes())):c.indexOf(".")!==-1&&l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var a=String.fromCharCode(n);i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=en.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));e.value.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=$.create($.Class.UNIVERSAL,$.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var m=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=m.toHex(),e.value=$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,m.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;if(e.keyIdentifier){var h=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push($.create($.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var p=[$.create($.Class.CONTEXT_SPECIFIC,4,!0,[W8(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];l.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,p))}if(e.serialNumber){var A=en.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);l.push($.create($.Class.CONTEXT_SPECIFIC,2,!1,A))}}else if(e.name==="cRLDistributionPoints"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var l=e.value.value,E=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),x=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]),u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=en.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));x.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}E.value.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[x])),l.push(E)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}o(LRe,"_fillMissingExtensionFields");function ase(e,t){switch(e){case Gi["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(t.saltLength).getBytes())])),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,r);default:return $.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")}}o(ase,"_signatureParametersToAsn1");function Zvt(e){var t=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],s=i.value,a=$.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===$.Type.UTF8&&(s=en.util.encodeUtf8(s));var l=!1;"valueConstructed"in i&&(l=i.valueConstructed);var c=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(i.type).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,a,l,s)])]);t.value.push(c)}return t}o(Zvt,"_CRIAttributesToAsn1");var eIt=new Date("1950-01-01T00:00:00Z"),tIt=new Date("2050-01-01T00:00:00Z");function PRe(e){return e>=eIt&&e<tIt?$.create($.Class.UNIVERSAL,$.Type.UTCTIME,!1,$.dateToUtcTime(e)):$.create($.Class.UNIVERSAL,$.Type.GENERALIZEDTIME,!1,$.dateToGeneralizedTime(e))}o(PRe,"_dateToAsn1");nr.getTBSCertificate=function(e){var t=PRe(e.validity.notBefore),r=PRe(e.validity.notAfter),n=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes())]),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,en.util.hexToBytes(e.serialNumber)),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.siginfo.algorithmOid).getBytes()),ase(e.siginfo.algorithmOid,e.siginfo.parameters)]),W8(e.issuer),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,r]),W8(e.subject),nr.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(nr.certificateExtensionsToAsn1(e.extensions)),n};nr.getCertificationRequestInfo=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes()),W8(e.subject),nr.publicKeyToAsn1(e.publicKey),Zvt(e)]);return t};nr.distinguishedNameToAsn1=function(e){return W8(e)};nr.certificateToAsn1=function(e){var t=e.tbsCertificate||nr.getTBSCertificate(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),ase(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};nr.certificateExtensionsToAsn1=function(e){var t=$.create($.Class.CONTEXT_SPECIFIC,3,!0,[]),r=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(nr.certificateExtensionToAsn1(e[n]));return t};nr.certificateExtensionToAsn1=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.id).getBytes())),e.critical&&t.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=$.toDer(r).getBytes()),t.value.push($.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,r)),t};nr.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||nr.getCertificationRequestInfo(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),ase(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};nr.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var l=r(a.issuer);return l},t.addCertificate=function(a){if(typeof a=="string"&&(a=en.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var l=t.certs[a.subject.hash];en.util.isArray(l)||(l=[l]),l.push(a),t.certs[a.subject.hash]=l}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=en.pki.certificateFromPem(a));var l=r(a.subject);if(!l)return!1;en.util.isArray(l)||(l=[l]);for(var c=$.toDer(nr.certificateToAsn1(a)).getBytes(),u=0;u<l.length;++u){var f=$.toDer(nr.certificateToAsn1(l[u])).getBytes();if(c===f)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var l in t.certs)if(t.certs.hasOwnProperty(l)){var c=t.certs[l];if(!en.util.isArray(c))a.push(c);else for(var u=0;u<c.length;++u)a.push(c[u])}return a},t.removeCertificate=function(a){var l;if(typeof a=="string"&&(a=en.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var c=r(a.subject);if(!en.util.isArray(c))return l=t.certs[a.subject.hash],delete t.certs[a.subject.hash],l;for(var u=$.toDer(nr.certificateToAsn1(a)).getBytes(),f=0;f<c.length;++f){var m=$.toDer(nr.certificateToAsn1(c[f])).getBytes();u===m&&(l=c[f],c.splice(f,1))}return c.length===0&&delete t.certs[a.subject.hash],l};function r(a){return n(a),t.certs[a.hash]||null}o(r,"getBySubject");function n(a){if(!a.hash){var l=en.md.sha1.create();a.attributes=nr.RDNAttributesAsArray(W8(a),l),a.hash=l.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),e)for(var i=0;i<e.length;++i){var s=e[i];t.addCertificate(s)}return t};nr.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};nr.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var s=!0,a=null,l=0;do{var c=t.shift(),u=null,f=!1;if(i&&(i<c.validity.notBefore||i>c.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:nr.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}),a===null){if(u=t[0]||e.getIssuer(c),u===null&&c.isIssuer(c)&&(f=!0,u=c),u){var m=u;en.util.isArray(m)||(m=[m]);for(var h=!1;!h&&m.length>0;){u=m.shift();try{h=u.verify(c)}catch{}}h||(a={message:"Certificate signature is invalid.",error:nr.certificateError.bad_certificate})}a===null&&(!u||f)&&!e.hasCertificate(c)&&(a={message:"Certificate is not trusted.",error:nr.certificateError.unknown_ca})}if(a===null&&u&&!c.isIssuer(u)&&(a={message:"Certificate issuer is invalid.",error:nr.certificateError.bad_certificate}),a===null)for(var p={keyUsage:!0,basicConstraints:!0},A=0;a===null&&A<c.extensions.length;++A){var E=c.extensions[A];E.critical&&!(E.name in p)&&(a={message:"Certificate has an unsupported critical extension.",error:nr.certificateError.unsupported_certificate})}if(a===null&&(!s||t.length===0&&(!u||f))){var x=c.getExtension("basicConstraints"),b=c.getExtension("keyUsage");if(b!==null&&(!b.keyCertSign||x===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:nr.certificateError.bad_certificate}),a===null&&x!==null&&!x.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:nr.certificateError.bad_certificate}),a===null&&b!==null&&"pathLenConstraint"in x){var v=l-1;v>x.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:nr.certificateError.bad_certificate})}}var S=a===null?!0:a.error,B=r.verify?r.verify(S,l,n):S;if(B===!0)a=null;else throw S===!0&&(a={message:"The application rejected the certificate.",error:nr.certificateError.bad_certificate}),(B||B===0)&&(typeof B=="object"&&!en.util.isArray(B)?(B.message&&(a.message=B.message),B.error&&(a.error=B.error)):typeof B=="string"&&(a.error=B)),a;s=!1,++l}while(t.length>0);return!0}});var cse=V((ljr,ORe)=>{d();var qo=Xn();rh();N8();Iy();ose();ise();wd();VS();O8();Ji();Eq();var we=qo.asn1,Ci=qo.pki,$S=ORe.exports=qo.pkcs12=qo.pkcs12||{},MRe={name:"ContentInfo",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},rIt={name:"PFX",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:we.Class.UNIVERSAL,type:we.Type.INTEGER,constructed:!1,capture:"version"},MRe,{name:"PFX.macData",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:we.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:we.Class.UNIVERSAL,type:we.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:we.Class.UNIVERSAL,type:we.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:we.Class.UNIVERSAL,type:we.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},nIt={name:"SafeBag",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:we.Class.UNIVERSAL,type:we.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},iIt={name:"Attribute",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:we.Class.UNIVERSAL,type:we.Type.SET,constructed:!0,capture:"values"}]},oIt={name:"CertBag",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:we.Class.UNIVERSAL,type:we.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function jS(e,t,r,n){for(var i=[],s=0;s<e.length;s++)for(var a=0;a<e[s].safeBags.length;a++){var l=e[s].safeBags[a];if(!(n!==void 0&&l.type!==n)){if(t===null){i.push(l);continue}l.attributes[t]!==void 0&&l.attributes[t].indexOf(r)>=0&&i.push(l)}}return i}o(jS,"_getBagsByAttribute");$S.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!we.validate(e,rIt,n,i)){var s=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw s.errors=s,s}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:o(function(x){var b={},v;return"localKeyId"in x?v=x.localKeyId:"localKeyIdHex"in x&&(v=qo.util.hexToBytes(x.localKeyIdHex)),v===void 0&&!("friendlyName"in x)&&"bagType"in x&&(b[x.bagType]=jS(a.safeContents,null,null,x.bagType)),v!==void 0&&(b.localKeyId=jS(a.safeContents,"localKeyId",v,x.bagType)),"friendlyName"in x&&(b.friendlyName=jS(a.safeContents,"friendlyName",x.friendlyName,x.bagType)),b},"getBags"),getBagsByFriendlyName:o(function(x,b){return jS(a.safeContents,"friendlyName",x,b)},"getBagsByFriendlyName"),getBagsByLocalKeyId:o(function(x,b){return jS(a.safeContents,"localKeyId",x,b)},"getBagsByLocalKeyId")};if(n.version.charCodeAt(0)!==3){var s=new Error("PKCS#12 PFX of version other than 3 not supported.");throw s.version=n.version.charCodeAt(0),s}if(we.derToOid(n.contentType)!==Ci.oids.data){var s=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw s.oid=we.derToOid(n.contentType),s}var l=n.content.value[0];if(l.tagClass!==we.Class.UNIVERSAL||l.type!==we.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=lse(l),n.mac){var c=null,u=0,f=we.derToOid(n.macAlgorithm);switch(f){case Ci.oids.sha1:c=qo.md.sha1.create(),u=20;break;case Ci.oids.sha256:c=qo.md.sha256.create(),u=32;break;case Ci.oids.sha384:c=qo.md.sha384.create(),u=48;break;case Ci.oids.sha512:c=qo.md.sha512.create(),u=64;break;case Ci.oids.md5:c=qo.md.md5.create(),u=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+f);var m=new qo.util.ByteBuffer(n.macSalt),h="macIterations"in n?parseInt(qo.util.bytesToHex(n.macIterations),16):1,p=$S.generateKey(r,m,3,h,u,c),A=qo.hmac.create();A.start(c,p),A.update(l.value);var E=A.getMac();if(E.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return sIt(a,l.value,t,r),a};function lse(e){if(e.composed||e.constructed){for(var t=qo.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}o(lse,"_decodePkcs7Data");function sIt(e,t,r,n){if(t=we.fromDer(t,r),t.tagClass!==we.Class.UNIVERSAL||t.type!==we.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var s=t.value[i],a={},l=[];if(!we.validate(s,MRe,a,l)){var c=new Error("Cannot read ContentInfo.");throw c.errors=l,c}var u={encrypted:!1},f=null,m=a.content.value[0];switch(we.derToOid(a.contentType)){case Ci.oids.data:if(m.tagClass!==we.Class.UNIVERSAL||m.type!==we.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");f=lse(m).value;break;case Ci.oids.encryptedData:f=aIt(m,n),u.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=we.derToOid(a.contentType),c}u.safeBags=lIt(f,r,n),e.safeContents.push(u)}}o(sIt,"_decodeAuthenticatedSafe");function aIt(e,t){var r={},n=[];if(!we.validate(e,qo.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var s=we.derToOid(r.contentType);if(s!==Ci.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=s,i}s=we.derToOid(r.encAlgorithm);var a=Ci.pbe.getCipher(s,r.encParameter,t),l=lse(r.encryptedContentAsn1),c=qo.util.createBuffer(l.value);if(a.update(c),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}o(aIt,"_decryptSafeContents");function lIt(e,t,r){if(!t&&e.length===0)return[];if(e=we.fromDer(e,t),e.tagClass!==we.Class.UNIVERSAL||e.type!==we.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var s=e.value[i],a={},l=[];if(!we.validate(s,nIt,a,l)){var c=new Error("Cannot read SafeBag.");throw c.errors=l,c}var u={type:we.derToOid(a.bagId),attributes:cIt(a.bagAttributes)};n.push(u);var f,m,h=a.bagValue.value[0];switch(u.type){case Ci.oids.pkcs8ShroudedKeyBag:if(h=Ci.decryptPrivateKeyInfo(h,r),h===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case Ci.oids.keyBag:try{u.key=Ci.privateKeyFromAsn1(h)}catch{u.key=null,u.asn1=h}continue;case Ci.oids.certBag:f=oIt,m=o(function(){if(we.derToOid(a.certId)!==Ci.oids.x509Certificate){var A=new Error("Unsupported certificate type, only X.509 supported.");throw A.oid=we.derToOid(a.certId),A}var E=we.fromDer(a.cert,t);try{u.cert=Ci.certificateFromAsn1(E,!0)}catch{u.cert=null,u.asn1=E}},"decoder");break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=u.type,c}if(f!==void 0&&!we.validate(h,f,a,l)){var c=new Error("Cannot read PKCS#12 "+f.name);throw c.errors=l,c}m()}return n}o(lIt,"_decodeSafeContents");function cIt(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!we.validate(e[r],iIt,n,i)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=i,s}var a=we.derToOid(n.oid);if(Ci.oids[a]!==void 0){t[Ci.oids[a]]=[];for(var l=0;l<n.values.length;++l)t[Ci.oids[a]].push(n.values[l].value)}}return t}o(cIt,"_decodeBagAttributes");$S.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,s;if(i!==null)i=qo.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var a=qo.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=Ci.certificateFromPem(a));var l=qo.md.sha1.create();l.update(we.toDer(Ci.certificateToAsn1(a)).getBytes()),i=l.digest().getBytes()}else i=qo.random.getBytes(20);var c=[];i!==null&&c.push(we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ci.oids.localKeyId).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SET,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&c.push(we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ci.oids.friendlyName).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SET,!0,[we.create(we.Class.UNIVERSAL,we.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(s=we.create(we.Class.UNIVERSAL,we.Type.SET,!0,c));var u=[],f=[];t!==null&&(qo.util.isArray(t)?f=t:f=[t]);for(var m=[],h=0;h<f.length;++h){t=f[h],typeof t=="string"&&(t=Ci.certificateFromPem(t));var p=h===0?s:void 0,A=Ci.certificateToAsn1(t),E=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ci.oids.certBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ci.oids.x509Certificate).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(A).getBytes())])])]),p]);m.push(E)}if(m.length>0){var x=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,m),b=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ci.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(x).getBytes())])]);u.push(b)}var v=null;if(e!==null){var S=Ci.wrapRsaPrivateKey(Ci.privateKeyToAsn1(e));r===null?v=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ci.oids.keyBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[S]),s]):v=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ci.oids.pkcs8ShroudedKeyBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[Ci.encryptPrivateKeyInfo(S,r,n)]),s]);var B=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[v]),P=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ci.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(B).getBytes())])]);u.push(P)}var F=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,u),G;if(n.useMac){var l=qo.md.sha1.create(),re=new qo.util.ByteBuffer(qo.random.getBytes(n.saltSize)),pe=n.count,e=$S.generateKey(r,re,3,pe,20),Z=qo.hmac.create();Z.start(l,e),Z.update(we.toDer(F).getBytes());var W=Z.getMac();G=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ci.oids.sha1).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.NULL,!1,"")]),we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,W.getBytes())]),we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,re.getBytes()),we.create(we.Class.UNIVERSAL,we.Type.INTEGER,!1,we.integerToDer(pe).getBytes())])}return we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.INTEGER,!1,we.integerToDer(3).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(Ci.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(F).getBytes())])]),G])};$S.generateKey=qo.pbe.generatePkcs12Key});var fse=V((fjr,URe)=>{d();var _y=Xn();rh();Iy();ise();aE();uq();cse();Aq();VS();Ji();Eq();var use=_y.asn1,G8=URe.exports=_y.pki=_y.pki||{};G8.pemToDer=function(e){var t=_y.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return _y.util.createBuffer(t.body)};G8.privateKeyFromPem=function(e){var t=_y.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=use.fromDer(t.body);return G8.privateKeyFromAsn1(n)};G8.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:use.toDer(G8.privateKeyToAsn1(e)).getBytes()};return _y.pem.encode(r,{maxline:t})};G8.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:use.toDer(e).getBytes()};return _y.pem.encode(r,{maxline:t})}});var Ase=V((mjr,zRe)=>{d();var Bt=Xn();rh();N8();sq();aE();fse();wd();O8();Ji();var Iq=o(function(e,t,r,n){var i=Bt.util.createBuffer(),s=e.length>>1,a=s+(e.length&1),l=e.substr(0,a),c=e.substr(s,a),u=Bt.util.createBuffer(),f=Bt.hmac.create();r=t+r;var m=Math.ceil(n/16),h=Math.ceil(n/20);f.start("MD5",l);var p=Bt.util.createBuffer();u.putBytes(r);for(var A=0;A<m;++A)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),p.putBuffer(f.digest());f.start("SHA1",c);var E=Bt.util.createBuffer();u.clear(),u.putBytes(r);for(var A=0;A<h;++A)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),E.putBuffer(f.digest());return i.putBytes(Bt.util.xorBytes(p.getBytes(),E.getBytes(),n)),i},"prf_TLS1"),uIt=o(function(e,t,r){var n=Bt.hmac.create();n.start("SHA1",e);var i=Bt.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},"hmac_sha1"),fIt=o(function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=Bt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"deflate"),dIt=o(function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=Bt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"inflate"),tf=o(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return Bt.util.createBuffer(e.getBytes(r))},"readVector"),Bd=o(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),X={};X.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};X.SupportedVersions=[X.Versions.TLS_1_1,X.Versions.TLS_1_0];X.Version=X.SupportedVersions[0];X.MaxFragment=15360;X.ConnectionEnd={server:0,client:1};X.PRFAlgorithm={tls_prf_sha256:0};X.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};X.CipherType={stream:0,block:1,aead:2};X.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};X.CompressionMethod={none:0,deflate:1};X.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};X.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};X.Alert={};X.Alert.Level={warning:1,fatal:2};X.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};X.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};X.CipherSuites={};X.getCipherSuite=function(e){var t=null;for(var r in X.CipherSuites){var n=X.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};X.handleUnexpected=function(e,t){var r=!e.open&&e.entity===X.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unexpected_message}})};X.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(X.queue(e,X.createAlert(e,{level:X.Alert.Level.warning,description:X.Alert.Description.no_renegotiation})),X.flush(e)),e.process()};X.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===X.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});else{var s=t.fragment,a=s.length();if(n={version:{major:s.getByte(),minor:s.getByte()},random:Bt.util.createBuffer(s.getBytes(32)),session_id:tf(s,1),extensions:[]},i?(n.cipher_suite=s.getBytes(2),n.compression_method=s.getByte()):(n.cipher_suites=tf(s,2),n.compression_methods=tf(s,1)),a=r-(a-s.length()),a>0){for(var l=tf(s,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:tf(l,2)});if(!i)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(u.type[0]===0&&u.type[1]===0)for(var f=tf(u.data,2);f.length()>0;){var m=f.getByte();if(m!==0)break;e.session.extensions.server_name.serverNameList.push(tf(f,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=X.getCipherSuite(n.cipher_suite);else for(var h=Bt.util.createBuffer(n.cipher_suites.bytes());h.length()>0&&(e.session.cipherSuite=X.getCipherSuite(h.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.handshake_failure},cipherSuite:Bt.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=X.CompressionMethod.none}return n};X.createSecurityParameters=function(e,t){var r=e.entity===X.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,s=r?n:X.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:X.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:s}};X.handleServerHello=function(e,t,r){var n=X.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=GRe,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=hIt,e.session.resuming=!1,X.createSecurityParameters(e,n)),e.session.id=i,e.process()}};X.handleClientHello=function(e,t,r){var n=X.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),s=null;if(e.sessionCache&&(s=e.sessionCache.getSession(i),s===null?i="":(s.version.major!==n.version.major||s.version.minor>n.version.minor)&&(s=null,i="")),i.length===0&&(i=Bt.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},s)e.version=e.session.version=s.version,e.session.sp=s.sp;else{for(var a,l=1;l<X.SupportedVersions.length&&(a=X.SupportedVersions[l],!(a.minor<=n.version.minor));++l);e.version={major:a.major,minor:a.minor},e.session.version=e.version}s!==null?(e.expect=pse,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?xIt:hse,e.session.resuming=!1,X.createSecurityParameters(e,n)),e.open=!0,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerHello(e)})),e.session.resuming?(X.queue(e,X.createRecord(e,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),e.state.pending=X.createConnectionState(e),e.state.current.write=e.state.pending.write,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createFinished(e)}))):(X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificate(e)})),e.fail||(X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerKeyExchange(e)})),e.verifyClient!==!1&&X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificateRequest(e)})),X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerHelloDone(e)})))),X.flush(e),e.process()}};X.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:tf(n,3)},s,a,l=[];try{for(;i.certificate_list.length()>0;)s=tf(i.certificate_list,3),a=Bt.asn1.fromDer(s),s=Bt.pki.certificateFromAsn1(a,!0),l.push(s)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate}})}var c=e.entity===X.ConnectionEnd.client;(c||e.verifyClient===!0)&&l.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}}):l.length===0?e.expect=c?qRe:hse:(c?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],X.verifyCertificateChain(e,l)&&(e.expect=c?qRe:hse)),e.process()};X.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unsupported_certificate}});e.expect=pIt,e.process()};X.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:tf(n,2).getBytes()},s=null;if(e.getPrivateKey)try{s=e.getPrivateKey(e,e.session.serverCertificate),s=Bt.pki.privateKeyFromPem(s)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}})}if(s===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=s.decrypt(i.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==a.pre_master_secret.charCodeAt(0)||l.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=Bt.random.getBytes(48)}e.expect=pse,e.session.clientCertificate!==null&&(e.expect=bIt),e.process()};X.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:tf(n,1),certificate_authorities:tf(n,2)};e.session.certificateRequest=i,e.expect=gIt,e.process()};X.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s={signature:tf(n,2).getBytes()},a=Bt.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var l=e.session.clientCertificate;if(!l.publicKey.verify(a,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.handshake_failure}})}e.expect=pse,e.process()};X.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.insufficient_security}},i=0,s=e.verify(e,n.alert.description,i,[]);if(s!==!0)return(s||s===0)&&(typeof s=="object"&&!Bt.util.isArray(s)?(s.message&&(n.message=s.message),s.alert&&(n.alert.description=s.alert)):typeof s=="number"&&(n.alert.description=s)),e.error(e,n)}e.session.certificateRequest!==null&&(t=X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificate(e)}),X.queue(e,t)),t=X.createRecord(e,{type:X.ContentType.handshake,data:X.createClientKeyExchange(e)}),X.queue(e,t),e.expect=CIt;var a=o(function(l,c){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&X.queue(l,X.createRecord(l,{type:X.ContentType.handshake,data:X.createCertificateVerify(l,c)})),X.queue(l,X.createRecord(l,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),l.state.pending=X.createConnectionState(l),l.state.current.write=l.state.pending.write,X.queue(l,X.createRecord(l,{type:X.ContentType.handshake,data:X.createFinished(l)})),l.expect=GRe,X.flush(l),l.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);X.getClientSignature(e,a)};X.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var r=e.entity===X.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=X.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?AIt:vIt,e.process()};X.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s=t.fragment.getBytes();n=Bt.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===X.ConnectionEnd.client,l=a?"server finished":"client finished",c=e.session.sp,u=12,f=Iq;if(n=f(c.master_secret,l,n.getBytes(),u),n.getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&a||!e.session.resuming&&!a)&&(X.queue(e,X.createRecord(e,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createFinished(e)}))),e.expect=a?yIt:IIt,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,X.flush(e),e.isConnected=!0,e.connected(e),e.process()};X.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case X.Alert.Description.close_notify:i="Connection closed.";break;case X.Alert.Description.unexpected_message:i="Unexpected message.";break;case X.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case X.Alert.Description.decryption_failed:i="Decryption failed.";break;case X.Alert.Description.record_overflow:i="Record overflow.";break;case X.Alert.Description.decompression_failure:i="Decompression failed.";break;case X.Alert.Description.handshake_failure:i="Handshake failure.";break;case X.Alert.Description.bad_certificate:i="Bad certificate.";break;case X.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case X.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case X.Alert.Description.certificate_expired:i="Certificate expired.";break;case X.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case X.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case X.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case X.Alert.Description.access_denied:i="Access denied.";break;case X.Alert.Description.decode_error:i="Decode error.";break;case X.Alert.Description.decrypt_error:i="Decrypt error.";break;case X.Alert.Description.export_restriction:i="Export restriction.";break;case X.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case X.Alert.Description.insufficient_security:i="Insufficient security.";break;case X.Alert.Description.internal_error:i="Internal error.";break;case X.Alert.Description.user_canceled:i="User canceled.";break;case X.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===X.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===X.ConnectionEnd.client?"server":"client",alert:n}),e.process()};X.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=Bt.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var s=r.bytes(i+4);r.read+=4,n in vq[e.entity][e.expect]?(e.entity===X.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:Bt.md.md5.create(),sha1:Bt.md.sha1.create()}),n!==X.HandshakeType.hello_request&&n!==X.HandshakeType.certificate_verify&&n!==X.HandshakeType.finished&&(e.session.md5.update(s),e.session.sha1.update(s)),vq[e.entity][e.expect][n](e,t,i)):X.handleUnexpected(e,t)};X.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};X.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),s=r.getBytes(i);if(n===X.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>s.length)return e.process();X.queue(e,X.createRecord(e,{type:X.ContentType.heartbeat,data:X.createHeartbeat(X.HeartbeatMessageType.heartbeat_response,s)})),X.flush(e)}else if(n===X.HeartbeatMessageType.heartbeat_response){if(s!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,Bt.util.createBuffer(s))}e.process()};var mIt=0,hIt=1,qRe=2,pIt=3,gIt=4,GRe=5,AIt=6,yIt=7,CIt=8,EIt=0,xIt=1,hse=2,bIt=3,pse=4,vIt=5,IIt=6,K=X.handleUnexpected,HRe=X.handleChangeCipherSpec,zl=X.handleAlert,X0=X.handleHandshake,VRe=X.handleApplicationData,Yl=X.handleHeartbeat,gse=[];gse[X.ConnectionEnd.client]=[[K,zl,X0,K,Yl],[K,zl,X0,K,Yl],[K,zl,X0,K,Yl],[K,zl,X0,K,Yl],[K,zl,X0,K,Yl],[HRe,zl,K,K,Yl],[K,zl,X0,K,Yl],[K,zl,X0,VRe,Yl],[K,zl,X0,K,Yl]];gse[X.ConnectionEnd.server]=[[K,zl,X0,K,Yl],[K,zl,X0,K,Yl],[K,zl,X0,K,Yl],[K,zl,X0,K,Yl],[HRe,zl,K,K,Yl],[K,zl,X0,K,Yl],[K,zl,X0,VRe,Yl],[K,zl,X0,K,Yl]];var ky=X.handleHelloRequest,TIt=X.handleServerHello,jRe=X.handleCertificate,WRe=X.handleServerKeyExchange,dse=X.handleCertificateRequest,xq=X.handleServerHelloDone,$Re=X.handleFinished,vq=[];vq[X.ConnectionEnd.client]=[[K,K,TIt,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[ky,K,K,K,K,K,K,K,K,K,K,jRe,WRe,dse,xq,K,K,K,K,K,K],[ky,K,K,K,K,K,K,K,K,K,K,K,WRe,dse,xq,K,K,K,K,K,K],[ky,K,K,K,K,K,K,K,K,K,K,K,K,dse,xq,K,K,K,K,K,K],[ky,K,K,K,K,K,K,K,K,K,K,K,K,K,xq,K,K,K,K,K,K],[ky,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[ky,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,$Re],[ky,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[ky,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K]];var wIt=X.handleClientHello,SIt=X.handleClientKeyExchange,_It=X.handleCertificateVerify;vq[X.ConnectionEnd.server]=[[K,wIt,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,jRe,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,SIt,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,_It,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,$Re],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K],[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K]];X.generateKeys=function(e,t){var r=Iq,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,s=e.version.major===X.Versions.TLS_1_0.major&&e.version.minor===X.Versions.TLS_1_0.minor;s&&(i+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,i),l={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return s&&(l.client_write_IV=a.getBytes(t.fixed_iv_length),l.server_write_IV=a.getBytes(t.fixed_iv_length)),l};X.createConnectionState=function(e){var t=e.entity===X.ConnectionEnd.client,r=o(function(){var s={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:o(function(a){return!0},"cipherFunction"),compressionState:null,compressFunction:o(function(a){return!0},"compressFunction"),updateSequenceNumber:o(function(){s.sequenceNumber[1]===4294967295?(s.sequenceNumber[1]=0,++s.sequenceNumber[0]):++s.sequenceNumber[1]},"updateSequenceNumber")};return s},"createMode"),n={read:r(),write:r()};if(n.read.update=function(s,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(s,a,n.read)||s.error(s,{message:"Could not decompress record.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.decompression_failure}}):s.error(s,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_record_mac}}),!s.fail},n.write.update=function(s,a){return n.write.compressFunction(s,a,n.write)?n.write.cipherFunction(a,n.write)||s.error(s,{message:"Could not encrypt record.",send:!1,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}):s.error(s,{message:"Could not compress record.",send:!1,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}),!s.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=X.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case X.CompressionMethod.none:break;case X.CompressionMethod.deflate:n.read.compressFunction=dIt,n.write.compressFunction=fIt;break;default:throw new Error("Unsupported compression algorithm.")}}return n};X.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=Bt.util.createBuffer();return r.putInt32(t),r.putBytes(Bt.random.getBytes(28)),r};X.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};X.createAlert=function(e,t){var r=Bt.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),X.createRecord(e,{type:X.ContentType.alert,data:r})};X.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=Bt.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),s=Bt.util.createBuffer();s.putByte(X.CompressionMethod.none);var a=s.length(),l=Bt.util.createBuffer();if(e.virtualHost){var c=Bt.util.createBuffer();c.putByte(0),c.putByte(0);var u=Bt.util.createBuffer();u.putByte(0),Bd(u,2,Bt.util.createBuffer(e.virtualHost));var f=Bt.util.createBuffer();Bd(f,2,u),Bd(c,2,f),l.putBuffer(c)}var m=l.length();m>0&&(m+=2);var h=e.session.id,p=h.length+1+2+4+28+2+i+1+a+m,A=Bt.util.createBuffer();return A.putByte(X.HandshakeType.client_hello),A.putInt24(p),A.putByte(e.version.major),A.putByte(e.version.minor),A.putBytes(e.session.sp.client_random),Bd(A,1,Bt.util.createBuffer(h)),Bd(A,2,t),Bd(A,1,s),m>0&&Bd(A,2,l),A};X.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=Bt.util.createBuffer();return n.putByte(X.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Bd(n,1,Bt.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};X.createCertificate=function(e){var t=e.entity===X.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=Bt.util.createBuffer();if(r!==null)try{Bt.util.isArray(r)||(r=[r]);for(var s=null,a=0;a<r.length;++a){var l=Bt.pem.decode(r[a])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=l.type,c}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=Bt.util.createBuffer(l.body);s===null&&(s=Bt.asn1.fromDer(u.bytes(),!1));var f=Bt.util.createBuffer();Bd(f,3,u),i.putBuffer(f)}r=Bt.pki.certificateFromAsn1(s),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(p){return e.error(e,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate}})}var m=3+i.length(),h=Bt.util.createBuffer();return h.putByte(X.HandshakeType.certificate),h.putInt24(m),Bd(h,3,i),h};X.createClientKeyExchange=function(e){var t=Bt.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(Bt.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,s=Bt.util.createBuffer();return s.putByte(X.HandshakeType.client_key_exchange),s.putInt24(i),s.putInt16(t.length),s.putBytes(t),s};X.createServerKeyExchange=function(e){var t=0,r=Bt.util.createBuffer();return t>0&&(r.putByte(X.HandshakeType.server_key_exchange),r.putInt24(t)),r};X.getClientSignature=function(e,t){var r=Bt.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,s){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=Bt.pki.privateKeyFromPem(a)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}):i=a.sign(i,null),s(n,i)},e.getSignature(e,r,t)};X.createCertificateVerify=function(e,t){var r=t.length+2,n=Bt.util.createBuffer();return n.putByte(X.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};X.createCertificateRequest=function(e){var t=Bt.util.createBuffer();t.putByte(1);var r=Bt.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],s=Bt.pki.distinguishedNameToAsn1(i.subject),a=Bt.asn1.toDer(s);r.putInt16(a.length()),r.putBuffer(a)}var l=1+t.length()+2+r.length(),c=Bt.util.createBuffer();return c.putByte(X.HandshakeType.certificate_request),c.putInt24(l),Bd(c,1,t),Bd(c,2,r),c};X.createServerHelloDone=function(e){var t=Bt.util.createBuffer();return t.putByte(X.HandshakeType.server_hello_done),t.putInt24(0),t};X.createChangeCipherSpec=function(){var e=Bt.util.createBuffer();return e.putByte(1),e};X.createFinished=function(e){var t=Bt.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===X.ConnectionEnd.client,n=e.session.sp,i=12,s=Iq,a=r?"client finished":"server finished";t=s(n.master_secret,a,t.getBytes(),i);var l=Bt.util.createBuffer();return l.putByte(X.HandshakeType.finished),l.putInt24(t.length()),l.putBuffer(t),l};X.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=Bt.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),s=Math.max(16,i-r-3);return n.putBytes(Bt.random.getBytes(s)),n};X.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===X.ContentType.handshake||t.type===X.ContentType.alert||t.type===X.ContentType.change_cipher_spec))){if(t.type===X.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=X.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>X.MaxFragment;)n.push(X.createRecord(e,{type:t.type,data:Bt.util.createBuffer(i.slice(0,X.MaxFragment))})),i=i.slice(X.MaxFragment);i.length>0&&n.push(X.createRecord(e,{type:t.type,data:Bt.util.createBuffer(i)}))}for(var s=0;s<n.length&&!e.fail;++s){var a=n[s],l=e.state.current.write;l.update(e,a)&&e.records.push(a)}}};X.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var mse=o(function(e){switch(e){case!0:return!0;case Bt.pki.certificateError.bad_certificate:return X.Alert.Description.bad_certificate;case Bt.pki.certificateError.unsupported_certificate:return X.Alert.Description.unsupported_certificate;case Bt.pki.certificateError.certificate_revoked:return X.Alert.Description.certificate_revoked;case Bt.pki.certificateError.certificate_expired:return X.Alert.Description.certificate_expired;case Bt.pki.certificateError.certificate_unknown:return X.Alert.Description.certificate_unknown;case Bt.pki.certificateError.unknown_ca:return X.Alert.Description.unknown_ca;default:return X.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),kIt=o(function(e){switch(e){case!0:return!0;case X.Alert.Description.bad_certificate:return Bt.pki.certificateError.bad_certificate;case X.Alert.Description.unsupported_certificate:return Bt.pki.certificateError.unsupported_certificate;case X.Alert.Description.certificate_revoked:return Bt.pki.certificateError.certificate_revoked;case X.Alert.Description.certificate_expired:return Bt.pki.certificateError.certificate_expired;case X.Alert.Description.certificate_unknown:return Bt.pki.certificateError.certificate_unknown;case X.Alert.Description.unknown_ca:return Bt.pki.certificateError.unknown_ca;default:return Bt.pki.certificateError.bad_certificate}},"_alertDescToCertError");X.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(s,a,l){var c=mse(s),u=e.verify(e,s,a,l);if(u!==!0){if(typeof u=="object"&&!Bt.util.isArray(u)){var f=new Error("The application rejected the certificate.");throw f.send=!0,f.alert={level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate},u.message&&(f.message=u.message),u.alert&&(f.alert.description=u.alert),f}u!==s&&(u=kIt(u))}return u},Bt.pki.verifyCertificateChain(e.caStore,t,r)}catch(s){var i=s;(typeof i!="object"||Bt.util.isArray(i))&&(i={send:!0,alert:{level:X.Alert.Level.fatal,description:mse(s)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:X.Alert.Level.fatal,description:mse(i.error)}),e.error(e,i)}return!e.fail};X.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var s=null,a=null;if(i?a=Bt.util.bytesToHex(i):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){s=r.cache[a],delete r.cache[a];for(var l in r.order)if(r.order[l]===a){r.order.splice(l,1);break}}return s},r.setSession=function(i,s){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=Bt.util.bytesToHex(i);r.order.push(a),r.cache[a]=s}}return r};X.createConnection=function(e){var t=null;e.caStore?Bt.util.isArray(e.caStore)?t=Bt.pki.createCaStore(e.caStore):t=e.caStore:t=Bt.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in X.CipherSuites)r.push(X.CipherSuites[n])}var i=e.server?X.ConnectionEnd.server:X.ConnectionEnd.client,s=e.sessionCache?X.createSessionCache(e.sessionCache):null,a={version:{major:X.Version.major,minor:X.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:s,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(f,m,h,p){return m},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:Bt.util.createBuffer(),tlsData:Bt.util.createBuffer(),data:Bt.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:o(function(f,m){m.origin=m.origin||(f.entity===X.ConnectionEnd.client?"client":"server"),m.send&&(X.queue(f,X.createAlert(f,m.alert)),X.flush(f));var h=m.fatal!==!1;h&&(f.fail=!0),e.error(f,m),h&&f.close(!1)},"error"),deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(f){a.version={major:X.Version.major,minor:X.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===X.ConnectionEnd.client?mIt:EIt,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(f||typeof f>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=X.createConnectionState(a)},a.reset();var l=o(function(f,m){var h=m.type-X.ContentType.change_cipher_spec,p=gse[f.entity][f.expect];h in p?p[h](f,m):X.handleUnexpected(f,m)},"_update"),c=o(function(f){var m=0,h=f.input,p=h.length();if(p<5)m=5-p;else{f.record={type:h.getByte(),version:{major:h.getByte(),minor:h.getByte()},length:h.getInt16(),fragment:Bt.util.createBuffer(),ready:!1};var A=f.record.version.major===f.version.major;A&&f.session&&f.session.version&&(A=f.record.version.minor===f.version.minor),A||f.error(f,{message:"Incompatible TLS version.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}})}return m},"_readRecordHeader"),u=o(function(f){var m=0,h=f.input,p=h.length();if(p<f.record.length)m=f.record.length-p;else{f.record.fragment.putBytes(h.getBytes(f.record.length)),h.compact();var A=f.state.current.read;A.update(f,f.record)&&(f.fragmented!==null&&(f.fragmented.type===f.record.type?(f.fragmented.fragment.putBuffer(f.record.fragment),f.record=f.fragmented):f.error(f,{message:"Invalid fragmented record.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unexpected_message}})),f.record.ready=!0)}return m},"_readRecord");return a.handshake=function(f){if(a.entity!==X.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,f=f||"";var m=null;f.length>0&&(a.sessionCache&&(m=a.sessionCache.getSession(f)),m===null&&(f="")),f.length===0&&a.sessionCache&&(m=a.sessionCache.getSession(),m!==null&&(f=m.id)),a.session={id:f,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:Bt.md.md5.create(),sha1:Bt.md.sha1.create()},m&&(a.version=m.version,a.session.sp=m.sp),a.session.sp.client_random=X.createRandom().getBytes(),a.open=!0,X.queue(a,X.createRecord(a,{type:X.ContentType.handshake,data:X.createClientHello(a)})),X.flush(a)}},a.process=function(f){var m=0;return f&&a.input.putBytes(f),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(m=c(a)),!a.fail&&a.record!==null&&!a.record.ready&&(m=u(a)),!a.fail&&a.record!==null&&a.record.ready&&l(a,a.record)),m},a.prepare=function(f){return X.queue(a,X.createRecord(a,{type:X.ContentType.application_data,data:Bt.util.createBuffer(f)})),X.flush(a)},a.prepareHeartbeatRequest=function(f,m){return f instanceof Bt.util.ByteBuffer&&(f=f.bytes()),typeof m>"u"&&(m=f.length),a.expectedHeartbeatPayload=f,X.queue(a,X.createRecord(a,{type:X.ContentType.heartbeat,data:X.createHeartbeat(X.HeartbeatMessageType.heartbeat_request,f,m)})),X.flush(a)},a.close=function(f){if(!a.fail&&a.sessionCache&&a.session){var m={id:a.session.id,version:a.session.version,sp:a.session.sp};m.sp.keys=null,a.sessionCache.setSession(m.id,m)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,X.queue(a,X.createAlert(a,{level:X.Alert.Level.warning,description:X.Alert.Description.close_notify})),X.flush(a)),a.closed(a)),a.reset(f)},a};zRe.exports=Bt.tls=Bt.tls||{};for(bq in X)typeof X[bq]!="function"&&(Bt.tls[bq]=X[bq]);var bq;Bt.tls.prf_tls1=Iq;Bt.tls.hmac_sha1=uIt;Bt.tls.createSessionCache=X.createSessionCache;Bt.tls.createConnection=X.createConnection});var JRe=V((gjr,KRe)=>{d();var By=Xn();vy();Ase();var Rd=KRe.exports=By.tls;Rd.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:o(function(e){e.bulk_cipher_algorithm=Rd.BulkCipherAlgorithm.aes,e.cipher_type=Rd.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Rd.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:YRe};Rd.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:o(function(e){e.bulk_cipher_algorithm=Rd.BulkCipherAlgorithm.aes,e.cipher_type=Rd.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Rd.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:YRe};function YRe(e,t,r){var n=t.entity===By.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:By.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:By.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=PIt,e.write.cipherFunction=BIt,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Rd.hmac_sha1}o(YRe,"initConnectionState");function BIt(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===Rd.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=By.random.getBytesSync(16),t.cipherState.init=!0;var s=t.cipherState.cipher;return s.start({iv:i}),e.version.minor>=Rd.Versions.TLS_1_1.minor&&s.output.putBytes(i),s.update(e.fragment),s.finish(RIt)&&(e.fragment=s.output,e.length=e.fragment.length(),r=!0),r}o(BIt,"encrypt_aes_cbc_sha1");function RIt(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}o(RIt,"encrypt_aes_cbc_sha1_padding");function DIt(e,t,r){var n=!0;if(r){for(var i=t.length(),s=t.last(),a=i-1-s;a<i-1;++a)n=n&&t.at(a)==s;n&&t.truncate(s+1)}return n}o(DIt,"decrypt_aes_cbc_sha1_padding");function PIt(e,t){var r=!1,n;e.version.minor===Rd.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(DIt);var s=t.macLength,a=By.random.getBytesSync(s),l=i.output.length();l>=s?(e.fragment=i.output.getBytes(l-s),a=i.output.getBytes(s)):e.fragment=i.output.getBytes(),e.fragment=By.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=FIt(t.macKey,a,c)&&r,r}o(PIt,"decrypt_aes_cbc_sha1");function FIt(e,t,r){var n=By.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}o(FIt,"compareMacs")});var Ese=V((Cjr,tDe)=>{d();var ss=Xn();Up();Ji();var zS=tDe.exports=ss.sha512=ss.sha512||{};ss.md.sha512=ss.md.algorithms.sha512=zS;var ZRe=ss.sha384=ss.sha512.sha384=ss.sha512.sha384||{};ZRe.create=function(){return zS.create("SHA-384")};ss.md.sha384=ss.md.algorithms.sha384=ZRe;ss.sha512.sha256=ss.sha512.sha256||{create:o(function(){return zS.create("SHA-512/256")},"create")};ss.md["sha512/256"]=ss.md.algorithms["sha512/256"]=ss.sha512.sha256;ss.sha512.sha224=ss.sha512.sha224||{create:o(function(){return zS.create("SHA-512/224")},"create")};ss.md["sha512/224"]=ss.md.algorithms["sha512/224"]=ss.sha512.sha224;zS.create=function(e){if(eDe||NIt(),typeof e>"u"&&(e="SHA-512"),!(e in mE))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=mE[e],r=null,n=ss.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var l={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var c=l.messageLengthSize/4,u=0;u<c;++u)l.fullMessageLength.push(0);n=ss.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return l},l.start(),l.update=function(c,u){u==="utf8"&&(c=ss.util.encodeUtf8(c));var f=c.length;l.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var m=l.fullMessageLength.length-1;m>=0;--m)l.fullMessageLength[m]+=f[1],f[1]=f[0]+(l.fullMessageLength[m]/4294967296>>>0),l.fullMessageLength[m]=l.fullMessageLength[m]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(c),XRe(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var c=ss.util.createBuffer();c.putBytes(n.bytes());var u=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,f=u&l.blockLength-1;c.putBytes(yse.substr(0,l.blockLength-f));for(var m,h,p=l.fullMessageLength[0]*8,A=0;A<l.fullMessageLength.length-1;++A)m=l.fullMessageLength[A+1]*8,h=m/4294967296>>>0,p+=h,c.putInt32(p>>>0),p=m>>>0;c.putInt32(p);for(var E=new Array(r.length),A=0;A<r.length;++A)E[A]=r[A].slice(0);XRe(E,i,c);var x=ss.util.createBuffer(),b;e==="SHA-512"?b=E.length:e==="SHA-384"?b=E.length-2:b=E.length-4;for(var A=0;A<b;++A)x.putInt32(E[A][0]),(A!==b-1||e!=="SHA-512/224")&&x.putInt32(E[A][1]);return x},l};var yse=null,eDe=!1,Cse=null,mE=null;function NIt(){yse="\x80",yse+=ss.util.fillString("\0",128),Cse=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],mE={},mE["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],mE["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],mE["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],mE["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],eDe=!0}o(NIt,"_init");function XRe(e,t,r){for(var n,i,s,a,l,c,u,f,m,h,p,A,E,x,b,v,S,B,P,F,G,re,pe,Z,W,q,se,ne,H,O,j,J,le,ee,ae,ce=r.length();ce>=128;){for(H=0;H<16;++H)t[H][0]=r.getInt32()>>>0,t[H][1]=r.getInt32()>>>0;for(;H<80;++H)J=t[H-2],O=J[0],j=J[1],n=((O>>>19|j<<13)^(j>>>29|O<<3)^O>>>6)>>>0,i=((O<<13|j>>>19)^(j<<3|O>>>29)^(O<<26|j>>>6))>>>0,ee=t[H-15],O=ee[0],j=ee[1],s=((O>>>1|j<<31)^(O>>>8|j<<24)^O>>>7)>>>0,a=((O<<31|j>>>1)^(O<<24|j>>>8)^(O<<25|j>>>7))>>>0,le=t[H-7],ae=t[H-16],j=i+le[1]+a+ae[1],t[H][0]=n+le[0]+s+ae[0]+(j/4294967296>>>0)>>>0,t[H][1]=j>>>0;for(E=e[0][0],x=e[0][1],b=e[1][0],v=e[1][1],S=e[2][0],B=e[2][1],P=e[3][0],F=e[3][1],G=e[4][0],re=e[4][1],pe=e[5][0],Z=e[5][1],W=e[6][0],q=e[6][1],se=e[7][0],ne=e[7][1],H=0;H<80;++H)u=((G>>>14|re<<18)^(G>>>18|re<<14)^(re>>>9|G<<23))>>>0,f=((G<<18|re>>>14)^(G<<14|re>>>18)^(re<<23|G>>>9))>>>0,m=(W^G&(pe^W))>>>0,h=(q^re&(Z^q))>>>0,l=((E>>>28|x<<4)^(x>>>2|E<<30)^(x>>>7|E<<25))>>>0,c=((E<<4|x>>>28)^(x<<30|E>>>2)^(x<<25|E>>>7))>>>0,p=(E&b|S&(E^b))>>>0,A=(x&v|B&(x^v))>>>0,j=ne+f+h+Cse[H][1]+t[H][1],n=se+u+m+Cse[H][0]+t[H][0]+(j/4294967296>>>0)>>>0,i=j>>>0,j=c+A,s=l+p+(j/4294967296>>>0)>>>0,a=j>>>0,se=W,ne=q,W=pe,q=Z,pe=G,Z=re,j=F+i,G=P+n+(j/4294967296>>>0)>>>0,re=j>>>0,P=S,F=B,S=b,B=v,b=E,v=x,j=i+a,E=n+s+(j/4294967296>>>0)>>>0,x=j>>>0;j=e[0][1]+x,e[0][0]=e[0][0]+E+(j/4294967296>>>0)>>>0,e[0][1]=j>>>0,j=e[1][1]+v,e[1][0]=e[1][0]+b+(j/4294967296>>>0)>>>0,e[1][1]=j>>>0,j=e[2][1]+B,e[2][0]=e[2][0]+S+(j/4294967296>>>0)>>>0,e[2][1]=j>>>0,j=e[3][1]+F,e[3][0]=e[3][0]+P+(j/4294967296>>>0)>>>0,e[3][1]=j>>>0,j=e[4][1]+re,e[4][0]=e[4][0]+G+(j/4294967296>>>0)>>>0,e[4][1]=j>>>0,j=e[5][1]+Z,e[5][0]=e[5][0]+pe+(j/4294967296>>>0)>>>0,e[5][1]=j>>>0,j=e[6][1]+q,e[6][0]=e[6][0]+W+(j/4294967296>>>0)>>>0,e[6][1]=j>>>0,j=e[7][1]+ne,e[7][0]=e[7][0]+se+(j/4294967296>>>0)>>>0,e[7][1]=j>>>0,ce-=128}}o(XRe,"_update")});var rDe=V(xse=>{d();var LIt=Xn();rh();var vl=LIt.asn1;xse.privateKeyValidator={name:"PrivateKeyInfo",tagClass:vl.Class.UNIVERSAL,type:vl.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:vl.Class.UNIVERSAL,type:vl.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:vl.Class.UNIVERSAL,type:vl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:vl.Class.UNIVERSAL,type:vl.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:vl.Class.UNIVERSAL,type:vl.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};xse.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:vl.Class.UNIVERSAL,type:vl.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:vl.Class.UNIVERSAL,type:vl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:vl.Class.UNIVERSAL,type:vl.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:vl.Class.UNIVERSAL,type:vl.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var pDe=V((Ijr,hDe)=>{d();var Kl=Xn();HS();wd();Ese();Ji();var lDe=rDe(),QIt=lDe.publicKeyValidator,MIt=lDe.privateKeyValidator;typeof nDe>"u"&&(nDe=Kl.jsbn.BigInteger);var nDe,Ise=Kl.util.ByteBuffer,Kc=typeof Buffer>"u"?Uint8Array:Buffer;Kl.pki=Kl.pki||{};hDe.exports=Kl.pki.ed25519=Kl.ed25519=Kl.ed25519||{};var Ei=Kl.ed25519;Ei.constants={};Ei.constants.PUBLIC_KEY_BYTE_LENGTH=32;Ei.constants.PRIVATE_KEY_BYTE_LENGTH=64;Ei.constants.SEED_BYTE_LENGTH=32;Ei.constants.SIGN_BYTE_LENGTH=64;Ei.constants.HASH_BYTE_LENGTH=64;Ei.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=Kl.random.getBytesSync(Ei.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==Ei.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+Ei.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=tA({message:t,encoding:"binary"});for(var r=new Kc(Ei.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Kc(Ei.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return WIt(r,n),{publicKey:r,privateKey:n}};Ei.privateKeyFromAsn1=function(e){var t={},r=[],n=Kl.asn1.validate(e,MIt,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=Kl.asn1.derToOid(t.privateKeyOid),a=Kl.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var l=t.privateKey,c=tA({message:Kl.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:c}};Ei.publicKeyFromAsn1=function(e){var t={},r=[],n=Kl.asn1.validate(e,QIt,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=Kl.asn1.derToOid(t.publicKeyOid),a=Kl.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var l=t.ed25519PublicKey;if(l.length!==Ei.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return tA({message:l,encoding:"binary"})};Ei.publicKeyFromPrivateKey=function(e){e=e||{};var t=tA({message:e.privateKey,encoding:"binary"});if(t.length!==Ei.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Ei.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Kc(Ei.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};Ei.sign=function(e){e=e||{};var t=tA(e),r=tA({message:e.privateKey,encoding:"binary"});if(r.length===Ei.constants.SEED_BYTE_LENGTH){var n=Ei.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==Ei.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Ei.constants.SEED_BYTE_LENGTH+" or "+Ei.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new Kc(Ei.constants.SIGN_BYTE_LENGTH+t.length);GIt(i,t,t.length,r);for(var s=new Kc(Ei.constants.SIGN_BYTE_LENGTH),a=0;a<s.length;++a)s[a]=i[a];return s};Ei.verify=function(e){e=e||{};var t=tA(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=tA({message:e.signature,encoding:"binary"});if(r.length!==Ei.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+Ei.constants.SIGN_BYTE_LENGTH);var n=tA({message:e.publicKey,encoding:"binary"});if(n.length!==Ei.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+Ei.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new Kc(Ei.constants.SIGN_BYTE_LENGTH+t.length),s=new Kc(Ei.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<Ei.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<t.length;++a)i[a+Ei.constants.SIGN_BYTE_LENGTH]=t[a];return HIt(s,i,i.length,n)>=0};function tA(e){var t=e.message;if(t instanceof Uint8Array||t instanceof Kc)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new Ise(t,r)}else if(!(t instanceof Ise))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Kc(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}o(tA,"messageToNativeBuffer");var Tse=hn(),Tq=hn([1]),OIt=hn([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),UIt=hn([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),iDe=hn([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),oDe=hn([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),bse=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),qIt=hn([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function YS(e,t){var r=Kl.md.sha512.create(),n=new Ise(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var s=new Kc(Ei.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)s[a]=i.charCodeAt(a);return s}o(YS,"sha512");function WIt(e,t){var r=[hn(),hn(),hn(),hn()],n,i=YS(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,kse(r,i),_se(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}o(WIt,"crypto_sign_keypair");function GIt(e,t,r,n){var i,s,a=new Float64Array(64),l=[hn(),hn(),hn(),hn()],c=YS(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var f=YS(e.subarray(32),r+32);for(wse(f),kse(l,f),_se(e,l),i=32;i<64;++i)e[i]=n[i];var m=YS(e,r+64);for(wse(m),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=f[i];for(i=0;i<32;++i)for(s=0;s<32;s++)a[i+s]+=m[i]*c[s];return cDe(e.subarray(32),a),u}o(GIt,"crypto_sign");function HIt(e,t,r,n){var i,s,a=new Kc(32),l=[hn(),hn(),hn(),hn()],c=[hn(),hn(),hn(),hn()];if(s=-1,r<64||VIt(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var u=YS(e,r);if(wse(u),dDe(l,c,u),kse(c,t.subarray(32)),Sse(l,c),_se(a,l),r-=64,uDe(t,0,a,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return s=r,s}o(HIt,"crypto_sign_open");function cDe(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*bse[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*bse[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*bse[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}o(cDe,"modL");function wse(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;cDe(e,t)}o(wse,"reduce");function Sse(e,t){var r=hn(),n=hn(),i=hn(),s=hn(),a=hn(),l=hn(),c=hn(),u=hn(),f=hn();V8(r,e[1],e[0]),V8(f,t[1],t[0]),Ro(r,r,f),H8(n,e[0],e[1]),H8(f,t[0],t[1]),Ro(n,n,f),Ro(i,e[3],t[3]),Ro(i,i,UIt),Ro(s,e[2],t[2]),H8(s,s,s),V8(a,n,r),V8(l,s,i),H8(c,s,i),H8(u,n,r),Ro(e[0],a,l),Ro(e[1],u,c),Ro(e[2],c,l),Ro(e[3],a,u)}o(Sse,"add");function sDe(e,t,r){for(var n=0;n<4;++n)mDe(e[n],t[n],r)}o(sDe,"cswap");function _se(e,t){var r=hn(),n=hn(),i=hn();YIt(i,t[2]),Ro(r,t[0],i),Ro(n,t[1],i),wq(e,n),e[31]^=fDe(r)<<7}o(_se,"pack");function wq(e,t){var r,n,i,s=hn(),a=hn();for(r=0;r<16;++r)a[r]=t[r];for(vse(a),vse(a),vse(a),n=0;n<2;++n){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,mDe(a,s,1-i)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}o(wq,"pack25519");function VIt(e,t){var r=hn(),n=hn(),i=hn(),s=hn(),a=hn(),l=hn(),c=hn();return Ry(e[2],Tq),jIt(e[1],t),hE(i,e[1]),Ro(s,i,OIt),V8(i,i,e[2]),H8(s,e[2],s),hE(a,s),hE(l,a),Ro(c,l,a),Ro(r,c,i),Ro(r,r,s),$It(r,r),Ro(r,r,i),Ro(r,r,s),Ro(r,r,s),Ro(e[0],r,s),hE(n,e[0]),Ro(n,n,s),aDe(n,i)&&Ro(e[0],e[0],qIt),hE(n,e[0]),Ro(n,n,s),aDe(n,i)?-1:(fDe(e[0])===t[31]>>7&&V8(e[0],Tse,e[0]),Ro(e[3],e[0],e[1]),0)}o(VIt,"unpackneg");function jIt(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}o(jIt,"unpack25519");function $It(e,t){var r=hn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)hE(r,r),n!==1&&Ro(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o($It,"pow2523");function aDe(e,t){var r=new Kc(32),n=new Kc(32);return wq(r,e),wq(n,t),uDe(r,0,n,0)}o(aDe,"neq25519");function uDe(e,t,r,n){return zIt(e,t,r,n,32)}o(uDe,"crypto_verify_32");function zIt(e,t,r,n,i){var s,a=0;for(s=0;s<i;++s)a|=e[t+s]^r[n+s];return(1&a-1>>>8)-1}o(zIt,"vn");function fDe(e){var t=new Kc(32);return wq(t,e),t[0]&1}o(fDe,"par25519");function dDe(e,t,r){var n,i;for(Ry(e[0],Tse),Ry(e[1],Tq),Ry(e[2],Tq),Ry(e[3],Tse),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,sDe(e,t,n),Sse(t,e),Sse(e,e),sDe(e,t,n)}o(dDe,"scalarmult");function kse(e,t){var r=[hn(),hn(),hn(),hn()];Ry(r[0],iDe),Ry(r[1],oDe),Ry(r[2],Tq),Ro(r[3],iDe,oDe),dDe(e,r,t)}o(kse,"scalarbase");function Ry(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}o(Ry,"set25519");function YIt(e,t){var r=hn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)hE(r,r),n!==2&&n!==4&&Ro(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(YIt,"inv25519");function vse(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}o(vse,"car25519");function mDe(e,t,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}o(mDe,"sel25519");function hn(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}o(hn,"gf");function H8(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}o(H8,"A");function V8(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}o(V8,"Z");function hE(e,t){Ro(e,t,t)}o(hE,"S");function Ro(e,t,r){var n,i,s=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=0,A=0,E=0,x=0,b=0,v=0,S=0,B=0,P=0,F=0,G=0,re=0,pe=0,Z=0,W=0,q=0,se=0,ne=0,H=0,O=0,j=0,J=0,le=0,ee=r[0],ae=r[1],ce=r[2],Re=r[3],ve=r[4],Ue=r[5],ke=r[6],Je=r[7],ft=r[8],ot=r[9],at=r[10],ie=r[11],Pe=r[12],Ae=r[13],We=r[14],z=r[15];n=t[0],s+=n*ee,a+=n*ae,l+=n*ce,c+=n*Re,u+=n*ve,f+=n*Ue,m+=n*ke,h+=n*Je,p+=n*ft,A+=n*ot,E+=n*at,x+=n*ie,b+=n*Pe,v+=n*Ae,S+=n*We,B+=n*z,n=t[1],a+=n*ee,l+=n*ae,c+=n*ce,u+=n*Re,f+=n*ve,m+=n*Ue,h+=n*ke,p+=n*Je,A+=n*ft,E+=n*ot,x+=n*at,b+=n*ie,v+=n*Pe,S+=n*Ae,B+=n*We,P+=n*z,n=t[2],l+=n*ee,c+=n*ae,u+=n*ce,f+=n*Re,m+=n*ve,h+=n*Ue,p+=n*ke,A+=n*Je,E+=n*ft,x+=n*ot,b+=n*at,v+=n*ie,S+=n*Pe,B+=n*Ae,P+=n*We,F+=n*z,n=t[3],c+=n*ee,u+=n*ae,f+=n*ce,m+=n*Re,h+=n*ve,p+=n*Ue,A+=n*ke,E+=n*Je,x+=n*ft,b+=n*ot,v+=n*at,S+=n*ie,B+=n*Pe,P+=n*Ae,F+=n*We,G+=n*z,n=t[4],u+=n*ee,f+=n*ae,m+=n*ce,h+=n*Re,p+=n*ve,A+=n*Ue,E+=n*ke,x+=n*Je,b+=n*ft,v+=n*ot,S+=n*at,B+=n*ie,P+=n*Pe,F+=n*Ae,G+=n*We,re+=n*z,n=t[5],f+=n*ee,m+=n*ae,h+=n*ce,p+=n*Re,A+=n*ve,E+=n*Ue,x+=n*ke,b+=n*Je,v+=n*ft,S+=n*ot,B+=n*at,P+=n*ie,F+=n*Pe,G+=n*Ae,re+=n*We,pe+=n*z,n=t[6],m+=n*ee,h+=n*ae,p+=n*ce,A+=n*Re,E+=n*ve,x+=n*Ue,b+=n*ke,v+=n*Je,S+=n*ft,B+=n*ot,P+=n*at,F+=n*ie,G+=n*Pe,re+=n*Ae,pe+=n*We,Z+=n*z,n=t[7],h+=n*ee,p+=n*ae,A+=n*ce,E+=n*Re,x+=n*ve,b+=n*Ue,v+=n*ke,S+=n*Je,B+=n*ft,P+=n*ot,F+=n*at,G+=n*ie,re+=n*Pe,pe+=n*Ae,Z+=n*We,W+=n*z,n=t[8],p+=n*ee,A+=n*ae,E+=n*ce,x+=n*Re,b+=n*ve,v+=n*Ue,S+=n*ke,B+=n*Je,P+=n*ft,F+=n*ot,G+=n*at,re+=n*ie,pe+=n*Pe,Z+=n*Ae,W+=n*We,q+=n*z,n=t[9],A+=n*ee,E+=n*ae,x+=n*ce,b+=n*Re,v+=n*ve,S+=n*Ue,B+=n*ke,P+=n*Je,F+=n*ft,G+=n*ot,re+=n*at,pe+=n*ie,Z+=n*Pe,W+=n*Ae,q+=n*We,se+=n*z,n=t[10],E+=n*ee,x+=n*ae,b+=n*ce,v+=n*Re,S+=n*ve,B+=n*Ue,P+=n*ke,F+=n*Je,G+=n*ft,re+=n*ot,pe+=n*at,Z+=n*ie,W+=n*Pe,q+=n*Ae,se+=n*We,ne+=n*z,n=t[11],x+=n*ee,b+=n*ae,v+=n*ce,S+=n*Re,B+=n*ve,P+=n*Ue,F+=n*ke,G+=n*Je,re+=n*ft,pe+=n*ot,Z+=n*at,W+=n*ie,q+=n*Pe,se+=n*Ae,ne+=n*We,H+=n*z,n=t[12],b+=n*ee,v+=n*ae,S+=n*ce,B+=n*Re,P+=n*ve,F+=n*Ue,G+=n*ke,re+=n*Je,pe+=n*ft,Z+=n*ot,W+=n*at,q+=n*ie,se+=n*Pe,ne+=n*Ae,H+=n*We,O+=n*z,n=t[13],v+=n*ee,S+=n*ae,B+=n*ce,P+=n*Re,F+=n*ve,G+=n*Ue,re+=n*ke,pe+=n*Je,Z+=n*ft,W+=n*ot,q+=n*at,se+=n*ie,ne+=n*Pe,H+=n*Ae,O+=n*We,j+=n*z,n=t[14],S+=n*ee,B+=n*ae,P+=n*ce,F+=n*Re,G+=n*ve,re+=n*Ue,pe+=n*ke,Z+=n*Je,W+=n*ft,q+=n*ot,se+=n*at,ne+=n*ie,H+=n*Pe,O+=n*Ae,j+=n*We,J+=n*z,n=t[15],B+=n*ee,P+=n*ae,F+=n*ce,G+=n*Re,re+=n*ve,pe+=n*Ue,Z+=n*ke,W+=n*Je,q+=n*ft,se+=n*ot,ne+=n*at,H+=n*ie,O+=n*Pe,j+=n*Ae,J+=n*We,le+=n*z,s+=38*P,a+=38*F,l+=38*G,c+=38*re,u+=38*pe,f+=38*Z,m+=38*W,h+=38*q,p+=38*se,A+=38*ne,E+=38*H,x+=38*O,b+=38*j,v+=38*J,S+=38*le,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=l,e[3]=c,e[4]=u,e[5]=f,e[6]=m,e[7]=h,e[8]=p,e[9]=A,e[10]=E,e[11]=x,e[12]=b,e[13]=v,e[14]=S,e[15]=B}o(Ro,"M")});var CDe=V((Sjr,yDe)=>{d();var rf=Xn();Ji();wd();HS();yDe.exports=rf.kem=rf.kem||{};var gDe=rf.jsbn.BigInteger;rf.kem.rsa={};rf.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||rf.random,n={};return n.encrypt=function(i,s){var a=Math.ceil(i.n.bitLength()/8),l;do l=new gDe(rf.util.bytesToHex(r.getBytesSync(a)),16).mod(i.n);while(l.compareTo(gDe.ONE)<=0);l=rf.util.hexToBytes(l.toString(16));var c=a-l.length;c>0&&(l=rf.util.fillString("\0",c)+l);var u=i.encrypt(l,"NONE"),f=e.generate(l,s);return{encapsulation:u,key:f}},n.decrypt=function(i,s,a){var l=i.decrypt(s,"NONE");return e.generate(l,a)},n};rf.kem.kdf1=function(e,t){ADe(this,e,0,t||e.digestLength)};rf.kem.kdf2=function(e,t){ADe(this,e,1,t||e.digestLength)};function ADe(e,t,r,n){e.generate=function(i,s){for(var a=new rf.util.ByteBuffer,l=Math.ceil(s/n)+r,c=new rf.util.ByteBuffer,u=r;u<l;++u){c.putInt32(u),t.start(),t.update(i+c.getBytes());var f=t.digest();a.putBytes(f.getBytes(n))}return a.truncate(a.length()-s),a.getBytes()}}o(ADe,"_createKDF")});var vDe=V((Bjr,bDe)=>{d();var ki=Xn();Ji();bDe.exports=ki.log=ki.log||{};ki.log.levels=["none","error","warning","info","debug","verbose","max"];var Sq={},Dse=[],JS=null;ki.log.LEVEL_LOCKED=2;ki.log.NO_LEVEL_CHECK=4;ki.log.INTERPOLATE=8;for(zp=0;zp<ki.log.levels.length;++zp)Bse=ki.log.levels[zp],Sq[Bse]={index:zp,name:Bse.toUpperCase()};var Bse,zp;ki.log.logMessage=function(e){for(var t=Sq[e.level].index,r=0;r<Dse.length;++r){var n=Dse[r];if(n.flags&ki.log.NO_LEVEL_CHECK)n.f(e);else{var i=Sq[n.level].index;t<=i&&n.f(n,e)}}};ki.log.prepareStandard=function(e){"standard"in e||(e.standard=Sq[e.level].name+" ["+e.category+"] "+e.message)};ki.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=ki.util.format.apply(this,t)}};ki.log.prepareStandardFull=function(e){"standardFull"in e||(ki.log.prepareStandard(e),e.standardFull=e.standard)};for(Rse=["error","warning","info","debug","verbose"],zp=0;zp<Rse.length;++zp)(function(t){ki.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:t,category:r,message:n,arguments:i};ki.log.logMessage(s)}})(Rse[zp]);var Rse,zp;ki.log.makeLogger=function(e){var t={flags:0,f:e};return ki.log.setLevel(t,"none"),t};ki.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&ki.log.LEVEL_LOCKED))for(var n=0;n<ki.log.levels.length;++n){var i=ki.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};ki.log.lock=function(e,t){typeof t>"u"||t?e.flags|=ki.log.LEVEL_LOCKED:e.flags&=~ki.log.LEVEL_LOCKED};ki.log.addLogger=function(e){Dse.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(EDe={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},XS=o(function(e,t){ki.log.prepareStandard(t);var r=EDe[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),j8=ki.log.makeLogger(XS)):(XS=o(function(t,r){ki.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),j8=ki.log.makeLogger(XS)),ki.log.setLevel(j8,"debug"),ki.log.addLogger(j8),JS=j8):console={log:o(function(){},"log")};var j8,EDe,XS;JS!==null&&typeof window<"u"&&window.location&&(KS=new URL(window.location.href).searchParams,KS.has("console.level")&&ki.log.setLevel(JS,KS.get("console.level").slice(-1)[0]),KS.has("console.lock")&&(xDe=KS.get("console.lock").slice(-1)[0],xDe=="true"&&ki.log.lock(JS)));var KS,xDe;ki.log.consoleLogger=JS});var TDe=V((Pjr,IDe)=>{d();IDe.exports=Up();sq();O8();Voe();Ese()});var _De=V((Njr,SDe)=>{d();var mr=Xn();vy();rh();WS();Iy();aE();ose();wd();Ji();Eq();var De=mr.asn1,Z0=SDe.exports=mr.pkcs7=mr.pkcs7||{};Z0.messageFromPem=function(e){var t=mr.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=De.fromDer(t.body);return Z0.messageFromAsn1(n)};Z0.messageToPem=function(e,t){var r={type:"PKCS7",body:De.toDer(e.toAsn1()).getBytes()};return mr.pem.encode(r,{maxline:t})};Z0.messageFromAsn1=function(e){var t={},r=[];if(!De.validate(e,Z0.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=De.derToOid(t.contentType),s;switch(i){case mr.pki.oids.envelopedData:s=Z0.createEnvelopedData();break;case mr.pki.oids.encryptedData:s=Z0.createEncryptedData();break;case mr.pki.oids.signedData:s=Z0.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s};Z0.createSignedData=function(){var e=null;return e={type:mr.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:o(function(n){if(Fse(e,n,Z0.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,s=0;s<i.length;++s)e.certificates.push(mr.pki.certificateFromAsn1(i[s]))},"fromAsn1"),toAsn1:o(function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(mr.pki.certificateToAsn1(e.certificates[i]));var s=[],a=De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(De.create(De.Class.CONTEXT_SPECIFIC,0,!0,n)),s.length>0&&a.value[0].value.push(De.create(De.Class.CONTEXT_SPECIFIC,1,!0,s)),a.value[0].value.push(De.create(De.Class.UNIVERSAL,De.Type.SET,!0,e.signerInfos)),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),a])},"toAsn1"),addSigner:o(function(n){var i=n.issuer,s=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=mr.pki.certificateFromPem(a)),i=a.issuer.attributes,s=a.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=mr.pki.privateKeyFromPem(l));var c=n.digestAlgorithm||mr.pki.oids.sha1;switch(c){case mr.pki.oids.sha1:case mr.pki.oids.sha256:case mr.pki.oids.sha384:case mr.pki.oids.sha512:case mr.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var f=!1,m=!1,h=0;h<u.length;++h){var p=u[h];if(!f&&p.type===mr.pki.oids.contentType){if(f=!0,m)break;continue}if(!m&&p.type===mr.pki.oids.messageDigest){if(m=!0,f)break;continue}}if(!f||!m)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:l,version:1,issuer:i,serialNumber:s,digestAlgorithm:c,signatureAlgorithm:mr.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},"addSigner"),sign:o(function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(mr.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof mr.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=mr.util.encodeUtf8(e.content)),n.detached?e.detachedContent=De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var s=t();r(s)}},"sign"),verify:o(function(){throw new Error("PKCS#7 signature verification not yet implemented.")},"verify"),addCertificate:o(function(n){typeof n=="string"&&(n=mr.pki.certificateFromPem(n)),e.certificates.push(n)},"addCertificate"),addCertificateRevokationList:o(function(n){throw new Error("PKCS#7 CRL support not yet implemented.")},"addCertificateRevokationList")},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var s=e.signers[i],a=s.digestAlgorithm;a in n||(n[a]=mr.md[mr.pki.oids[a]].create()),s.authenticatedAttributes.length===0?s.md=n[a]:s.md=mr.md[mr.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(a).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")]));return n}o(t,"addDigestAlgorithmIds");function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=De.derToOid(e.contentInfo.value[0].value),a=De.toDer(i);a.getByte(),De.getBerValueLength(a),a=a.getBytes();for(var l in n)n[l].start().update(a);for(var c=new Date,u=0;u<e.signers.length;++u){var f=e.signers[u];if(f.authenticatedAttributes.length===0){if(s!==mr.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var m=De.create(De.Class.UNIVERSAL,De.Type.SET,!0,[]),h=0;h<f.authenticatedAttributes.length;++h){var p=f.authenticatedAttributes[h];p.type===mr.pki.oids.messageDigest?p.value=n[f.digestAlgorithm].digest():p.type===mr.pki.oids.signingTime&&(p.value||(p.value=c)),m.value.push(Pse(p)),f.authenticatedAttributesAsn1.value.push(Pse(p))}a=De.toDer(m).getBytes(),f.md.start().update(a)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=t8t(e.signers)}o(r,"addSignerInfos")};Z0.createEncryptedData=function(){var e=null;return e={type:mr.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:mr.pki.oids["aes256-CBC"]},fromAsn1:o(function(t){Fse(e,t,Z0.asn1.encryptedDataValidator)},"fromAsn1"),decrypt:o(function(t){t!==void 0&&(e.encryptedContent.key=t),wDe(e)},"decrypt")},e};Z0.createEnvelopedData=function(){var e=null;return e={type:mr.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:mr.pki.oids["aes256-CBC"]},fromAsn1:o(function(t){var r=Fse(e,t,Z0.asn1.envelopedDataValidator);e.recipients=XIt(r.recipientInfos.value)},"fromAsn1"),toAsn1:o(function(){return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,ZIt(e.recipients)),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,r8t(e.encryptedContent))])])])},"toAsn1"),findRecipient:o(function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],s=i.issuer;if(i.serialNumber===t.serialNumber&&s.length===r.length){for(var a=!0,l=0;l<r.length;++l)if(s[l].type!==r[l].type||s[l].value!==r[l].value){a=!1;break}if(a)return i}}return null},"findRecipient"),decrypt:o(function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case mr.pki.oids.rsaEncryption:case mr.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=mr.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}wDe(e)},"decrypt"),addRecipient:o(function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:mr.pki.oids.rsaEncryption,key:t.publicKey}})},"addRecipient"),encrypt:o(function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,s;switch(r){case mr.pki.oids["aes128-CBC"]:n=16,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["aes192-CBC"]:n=24,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["aes256-CBC"]:n=32,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["des-EDE3-CBC"]:n=24,i=8,s=mr.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=mr.util.createBuffer(mr.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=mr.util.createBuffer(mr.random.getBytes(i));var a=s(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var l=0;l<e.recipients.length;++l){var c=e.recipients[l];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case mr.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}},"encrypt")},e};function KIt(e){var t={},r=[];if(!De.validate(e,Z0.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:mr.pki.RDNAttributesAsArray(t.issuer),serialNumber:mr.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:De.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}o(KIt,"_recipientFromAsn1");function JIt(e){return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[mr.pki.distinguishedNameToAsn1({attributes:e.issuer}),De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,mr.util.hexToBytes(e.serialNumber))]),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.encryptedContent.algorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")]),De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.encryptedContent.content)])}o(JIt,"_recipientToAsn1");function XIt(e){for(var t=[],r=0;r<e.length;++r)t.push(KIt(e[r]));return t}o(XIt,"_recipientsFromAsn1");function ZIt(e){for(var t=[],r=0;r<e.length;++r)t.push(JIt(e[r]));return t}o(ZIt,"_recipientsToAsn1");function e8t(e){var t=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[mr.pki.distinguishedNameToAsn1({attributes:e.issuer}),De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,mr.util.hexToBytes(e.serialNumber))]),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.digestAlgorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.signatureAlgorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")])),t.value.push(De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=De.create(De.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(Pse(i))}t.value.push(r)}return t}o(e8t,"_signerToAsn1");function t8t(e){for(var t=[],r=0;r<e.length;++r)t.push(e8t(e[r]));return t}o(t8t,"_signersToAsn1");function Pse(e){var t;if(e.type===mr.pki.oids.contentType)t=De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.value).getBytes());else if(e.type===mr.pki.oids.messageDigest)t=De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===mr.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var s=Date.parse(i);isNaN(s)?i.length===13?i=De.utcTimeToDate(i):i=De.generalizedTimeToDate(i):i=new Date(s)}i>=r&&i<n?t=De.create(De.Class.UNIVERSAL,De.Type.UTCTIME,!1,De.dateToUtcTime(i)):t=De.create(De.Class.UNIVERSAL,De.Type.GENERALIZEDTIME,!1,De.dateToGeneralizedTime(i))}return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,[t])])}o(Pse,"_attributeToAsn1");function r8t(e){return[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(mr.pki.oids.data).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.algorithm).getBytes()),e.parameter?De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.content.getBytes())])]}o(r8t,"_encryptedContentToAsn1");function Fse(e,t,r){var n={},i=[];if(!De.validate(t,r,n,i)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}var a=De.derToOid(n.contentType);if(a!==mr.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(mr.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==De.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[c].value}else l=n.encryptedContent;e.encryptedContent={algorithm:De.derToOid(n.encAlgorithm),parameter:mr.util.createBuffer(n.encParameter.value),content:mr.util.createBuffer(l)}}if(n.content){var l="";if(mr.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==De.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[c].value}else l=n.content;e.content=mr.util.createBuffer(l)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}o(Fse,"_fromAsn1");function wDe(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case mr.pki.oids["aes128-CBC"]:case mr.pki.oids["aes192-CBC"]:case mr.pki.oids["aes256-CBC"]:t=mr.aes.createDecryptionCipher(e.encryptedContent.key);break;case mr.pki.oids.desCBC:case mr.pki.oids["des-EDE3-CBC"]:t=mr.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o(wDe,"_decryptContent")});var BDe=V((Mjr,kDe)=>{d();var Ma=Xn();vy();N8();sq();O8();Ji();var kq=kDe.exports=Ma.ssh=Ma.ssh||{};kq.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",s="PuTTY-User-Key-File-2: "+n+`\r
`;s+="Encryption: "+i+`\r
`,s+="Comment: "+r+`\r
`;var a=Ma.util.createBuffer();$8(a,n),Yp(a,e.e),Yp(a,e.n);var l=Ma.util.encode64(a.bytes(),64),c=Math.floor(l.length/66)+1;s+="Public-Lines: "+c+`\r
`,s+=l;var u=Ma.util.createBuffer();Yp(u,e.d),Yp(u,e.p),Yp(u,e.q),Yp(u,e.qInv);var f;if(!t)f=Ma.util.encode64(u.bytes(),64);else{var m=u.length()+16-1;m-=m%16;var h=_q(u.bytes());h.truncate(h.length()-m+u.length()),u.putBuffer(h);var p=Ma.util.createBuffer();p.putBuffer(_q("\0\0\0\0",t)),p.putBuffer(_q("\0\0\0",t));var A=Ma.aes.createEncryptionCipher(p.truncate(8),"CBC");A.start(Ma.util.createBuffer().fillWithByte(0,16)),A.update(u.copy()),A.finish();var E=A.output;E.truncate(16),f=Ma.util.encode64(E.bytes(),64)}c=Math.floor(f.length/66)+1,s+=`\r
Private-Lines: `+c+`\r
`,s+=f;var x=_q("putty-private-key-file-mac-key",t),b=Ma.util.createBuffer();$8(b,n),$8(b,i),$8(b,r),b.putInt32(a.length()),b.putBuffer(a),b.putInt32(u.length()),b.putBuffer(u);var v=Ma.hmac.create();return v.start("sha1",x),v.update(b.bytes()),s+=`\r
Private-MAC: `+v.digest().toHex()+`\r
`,s};kq.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=Ma.util.createBuffer();return $8(n,r),Yp(n,e.e),Yp(n,e.n),r+" "+Ma.util.encode64(n.bytes())+" "+t};kq.privateKeyToOpenSSH=function(e,t){return t?Ma.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):Ma.pki.privateKeyToPem(e)};kq.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Ma.md.md5.create(),n="ssh-rsa",i=Ma.util.createBuffer();$8(i,n),Yp(i,e.e),Yp(i,e.n),r.start(),r.update(i.getBytes());var s=r.digest();if(t.encoding==="hex"){var a=s.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};function Yp(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=Ma.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}o(Yp,"_addBigIntegerToBuffer");function $8(e,t){e.putInt32(t.length),e.putString(t)}o($8,"_addStringToBuffer");function _q(){for(var e=Ma.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o(_q,"_sha1")});var DDe=V((qjr,RDe)=>{d();RDe.exports=Xn();vy();JRe();rh();ZU();WS();pDe();N8();CDe();vDe();TDe();sse();uq();aE();ese();cse();_De();fse();rse();joe();Aq();wd();Yoe();BDe();Ase();Ji()});var NDe=V(pE=>{"use strict";d();Object.defineProperty(pE,"__esModule",{value:!0});pE.convert=pE.Format=void 0;var ZS=DDe(),Dy;(function(e){e.der="der",e.pem="pem",e.txt="txt",e.asn1="asn1",e.x509="x509",e.fingerprint="fingerprint"})(Dy=pE.Format||(pE.Format={}));function PDe(e){var t=ZS.pki.pemToDer(e),r=ZS.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,i=n[0],s=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,a=n.slice(s);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}o(PDe,"myASN");function n8t(e){var t=PDe(e),r=t.subject.value.map(function(i){return i.value[0].value[1].value}).join("/"),n=t.valid.value.map(function(i){return i.value}).join(" - ");return["Subject	".concat(r),"Valid	".concat(n),String(e)].join(`
`)}o(n8t,"txtFormat");function FDe(e,t){switch(t){case Dy.der:return ZS.pki.pemToDer(e);case Dy.pem:return e;case Dy.txt:return n8t(e);case Dy.asn1:return PDe(e);case Dy.fingerprint:var r=ZS.md.sha1.create(),n=FDe(e,Dy.der);return r.update(n.getBytes()),r.digest().toHex();case Dy.x509:return ZS.pki.certificateFromPem(e);default:throw new Error("unknown format ".concat(t))}}o(FDe,"convert");pE.convert=FDe});var qDe=V(Jc=>{"use strict";d();var Py=Jc&&Jc.__assign||function(){return Py=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Py.apply(this,arguments)},Bq=Jc&&Jc.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(Jc,"__esModule",{value:!0});Jc.convert=Jc.Format=Jc.addToGlobalAgent=Jc.get=void 0;var Nse=require("https"),i8t=require("tls"),LDe=require("child_process"),QDe=gBe(),rA=NDe();Object.defineProperty(Jc,"Format",{enumerable:!0,get:o(function(){return rA.Format},"get")});Object.defineProperty(Jc,"convert",{enumerable:!0,get:o(function(){return rA.convert},"get")});var MDe=process.platform==="darwin",ODe=Nse.globalAgent,Dq={keychain:"all",unique:!0,excludeBundled:!0,format:rA.Format.pem};function UDe(e){if(e===void 0&&(e=Dq),!MDe)return[];e=Py(Py({},Dq),e);var t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r=["find-certificate","-a","-p"],n=[];if(e.keychain==="all"||e.keychain==="SystemRootCertificates"){var i="/System/Library/Keychains/SystemRootCertificates.keychain",s=(0,LDe.spawnSync)("/usr/bin/security",r.concat(i)).stdout.toString().split(t).map(function(u){return u.trim()});n=Bq(Bq([],n,!0),s,!0)}if(e.keychain==="all"||e.keychain==="current"){var a=(0,LDe.spawnSync)("/usr/bin/security",r).stdout.toString().split(t).map(function(u){return u.trim()});n=Bq(Bq([],n,!0),a,!0)}if(e.unique||e.excludeBundled){var l=n.map(function(u){return(0,rA.convert)(u,rA.Format.fingerprint)}),c=e.excludeBundled?i8t.rootCertificates.map(function(u){return(0,rA.convert)(u,rA.Format.fingerprint)}):[];n=n.filter(function(u,f){var m=l[f];return!(e.unique&&f!==l.indexOf(m)||e.excludeBundled&&c.includes(m))})}return n.map(function(u){return(0,rA.convert)(u,e.format)})}o(UDe,"get");Jc.get=UDe;var Rq=ODe.options.ca,o8t=o(function(e){if(e===void 0&&(e=Dq),!!MDe){var t;Array.isArray(Rq)?t=Array.from(Rq):t=typeof Rq<"u"?[Rq]:[],UDe(Py(Py(Py({},Dq),e),{format:rA.Format.pem,excludeBundled:!1})).forEach(function(r){return t.push(r)}),ODe.options.ca=t,Nse.Agent=function(r){return function(n){var i=typeof n<"u"?Py({},n):{};return typeof i.ca>"u"&&(i.ca=t),r.call(this,i)}}(Nse.Agent),(0,QDe.setGlobalDispatcher)(new QDe.Agent({connect:{ca:t}}))}},"addToGlobalAgent");Jc.addToGlobalAgent=o8t});var WDe=V((Yjr,Lse)=>{d();function s8t(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),i=[],s=new n.Crypt32;try{let a;for(;a=s.next();){let l=new e(a);i.push(l.toString())}}finally{s.done()}return Array.from(new Set(i))}o(s8t,"all");process.platform!=="win32"?Lse.exports.all=()=>[]:Lse.exports.all=s8t});var JDe=V((r$r,KDe)=>{"use strict";d();function YDe(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let i=typeof e;if(n.type&&i!==n.type){if(n.required===!1&&t.slice(r).some(s=>s.type===i))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}o(YDe,"validateParameter");function l8t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o(l8t,"hasOwnProperty");function c8t(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let s=0,a=0;s<t.length;++s,++a){let l=t[s],c=r[a];l8t(l,"default")&&c==null&&(c=l.default),l.type==="object"&&l.default!=null&&(c=Object.assign({},l.default,c)),l.name==="options"&&(typeof c=="function"||c==null)&&(c={}),YDe(c,t,s)?n.push(c):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((s,a)=>{n.push((l,c)=>{if(l)return a(l);s(c)}),e.apply(this,n)});e.apply(this,n)}}o(c8t,"defineOperation");KDe.exports={defineOperation:c8t,validateParameter:YDe}});var Vse=V((o$r,ePe)=>{"use strict";d();var K8=bX()("kerberos"),Y8=K8.KerberosClient,XDe=K8.KerberosServer,Fy=JDe().defineOperation,u8t=1,f8t=2,d8t=4,m8t=8,h8t=16,p8t=32,g8t=64,A8t=128,y8t=256,ZDe=0,C8t=9,E8t=6;Y8.prototype.step=Fy(Y8.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);Y8.prototype.wrap=Fy(Y8.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);Y8.prototype.unwrap=Fy(Y8.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);XDe.prototype.step=Fy(XDe.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var x8t=Fy(K8.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),b8t=Fy(K8.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),v8t=Fy(K8.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:ZDe}},{name:"callback",type:"function",required:!1}]),I8t=Fy(K8.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);ePe.exports={initializeClient:v8t,initializeServer:I8t,principalDetails:b8t,checkPassword:x8t,GSS_C_DELEG_FLAG:u8t,GSS_C_MUTUAL_FLAG:f8t,GSS_C_REPLAY_FLAG:d8t,GSS_C_SEQUENCE_FLAG:m8t,GSS_C_CONF_FLAG:h8t,GSS_C_INTEG_FLAG:p8t,GSS_C_ANON_FLAG:g8t,GSS_C_PROT_READY_FLAG:A8t,GSS_C_TRANS_FLAG:y8t,GSS_C_NO_OID:ZDe,GSS_MECH_OID_KRB5:C8t,GSS_MECH_OID_SPNEGO:E8t}});var tPe=V((a$r,T8t)=>{T8t.exports={name:"kerberos",version:"2.2.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"^7.1.2"},devDependencies:{"@types/node":"^22.2.0",chai:"^4.4.1","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^9.9.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","jsdoc-to-markdown":"^8.0.3",mocha:"^10.7.3",mongodb:"^6.8.0","node-gyp":"^10.1.0",prebuild:"^13.0.0",prettier:"^3.3.3",request:"^2.88.2"},overrides:{prebuild:{"node-gyp":"$node-gyp"}},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"ESLINT_USE_FLAT_CONFIG=false eslint lib test --fix","check:lint":"ESLINT_USE_FLAT_CONFIG=false eslint lib test",precommit:"check-clang-format",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",test:"mocha test",prebuild:"prebuild --runtime napi --strip --verbose --all"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var nPe=V((l$r,rPe)=>{"use strict";d();var w8t=require("dns"),S8t=Vse(),jse=class{static{o(this,"MongoAuthProcess")}constructor(t,r,n,i){i=i||{},this.host=t,this.port=r,this.serviceName=n||i.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof i.gssapiCanonicalizeHostName=="boolean"?i.gssapiCanonicalizeHostName:!1,this._transition=_8t(this),this.retries=10}init(t,r,n){let i=this;this.username=t,this.password=r;function s(a,l,c){if(!a)return c();w8t.resolveCname(l,(u,f)=>{if(u)return c(u);Array.isArray(f)&&f.length>0&&(i.host=f[0]),c()})}o(s,"performGssapiCanonicalizeHostName"),s(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let l={};r!=null&&Object.assign(l,{user:t,password:r});let c=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;S8t.initializeClient(c,l,(u,f)=>{if(u)return n(u,null);i.client=f,n(null,f)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};function _8t(e){return(t,r)=>{e.client.step("",(n,i)=>{if(n)return r(n);e._transition=k8t(e),r(null,i)})}}o(_8t,"firstTransition");function k8t(e){return(t,r)=>{e.client.step(t,(n,i)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=B8t(e),r(null,i||"")})}}o(k8t,"secondTransition");function B8t(e){return(t,r)=>{e.client.unwrap(t,(n,i)=>{if(n)return r(n,!1);e.client.wrap(i,{user:e.username},(s,a)=>{if(s)return r(s,!1);e._transition=R8t(e),r(null,a)})})}}o(B8t,"thirdTransition");function R8t(e){return(t,r)=>{e._transition=null,r(null,!0)}}o(R8t,"fourthTransition");rPe.exports={MongoAuthProcess:jse}});var oPe=V((f$r,e_)=>{"use strict";d();var iPe=Vse();e_.exports=iPe;e_.exports.Kerberos=iPe;e_.exports.version=tPe().version;e_.exports.processes={MongoAuthProcess:nPe().MongoAuthProcess}});var S_=V((Lln,DFe)=>{d();var a9t="2.0.0",l9t=Number.MAX_SAFE_INTEGER||9007199254740991,c9t=16,u9t=250,f9t=["major","premajor","minor","preminor","patch","prepatch","prerelease"];DFe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:c9t,MAX_SAFE_BUILD_LENGTH:u9t,MAX_SAFE_INTEGER:l9t,RELEASE_TYPES:f9t,SEMVER_SPEC_VERSION:a9t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var __=V((Mln,PFe)=>{d();var d9t=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};PFe.exports=d9t});var h6=V((eg,FFe)=>{d();var{MAX_SAFE_COMPONENT_LENGTH:ile,MAX_SAFE_BUILD_LENGTH:m9t,MAX_LENGTH:h9t}=S_(),p9t=__();eg=FFe.exports={};var g9t=eg.re=[],A9t=eg.safeRe=[],Sr=eg.src=[],y9t=eg.safeSrc=[],_r=eg.t={},C9t=0,ole="[a-zA-Z0-9-]",E9t=[["\\s",1],["\\d",h9t],[ole,m9t]],x9t=o(e=>{for(let[t,r]of E9t)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},"makeSafeRegex"),Wn=o((e,t,r)=>{let n=x9t(t),i=C9t++;p9t(e,i,t),_r[e]=i,Sr[i]=t,y9t[i]=n,g9t[i]=new RegExp(t,r?"g":void 0),A9t[i]=new RegExp(n,r?"g":void 0)},"createToken");Wn("NUMERICIDENTIFIER","0|[1-9]\\d*");Wn("NUMERICIDENTIFIERLOOSE","\\d+");Wn("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${ole}*`);Wn("MAINVERSION",`(${Sr[_r.NUMERICIDENTIFIER]})\\.(${Sr[_r.NUMERICIDENTIFIER]})\\.(${Sr[_r.NUMERICIDENTIFIER]})`);Wn("MAINVERSIONLOOSE",`(${Sr[_r.NUMERICIDENTIFIERLOOSE]})\\.(${Sr[_r.NUMERICIDENTIFIERLOOSE]})\\.(${Sr[_r.NUMERICIDENTIFIERLOOSE]})`);Wn("PRERELEASEIDENTIFIER",`(?:${Sr[_r.NUMERICIDENTIFIER]}|${Sr[_r.NONNUMERICIDENTIFIER]})`);Wn("PRERELEASEIDENTIFIERLOOSE",`(?:${Sr[_r.NUMERICIDENTIFIERLOOSE]}|${Sr[_r.NONNUMERICIDENTIFIER]})`);Wn("PRERELEASE",`(?:-(${Sr[_r.PRERELEASEIDENTIFIER]}(?:\\.${Sr[_r.PRERELEASEIDENTIFIER]})*))`);Wn("PRERELEASELOOSE",`(?:-?(${Sr[_r.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Sr[_r.PRERELEASEIDENTIFIERLOOSE]})*))`);Wn("BUILDIDENTIFIER",`${ole}+`);Wn("BUILD",`(?:\\+(${Sr[_r.BUILDIDENTIFIER]}(?:\\.${Sr[_r.BUILDIDENTIFIER]})*))`);Wn("FULLPLAIN",`v?${Sr[_r.MAINVERSION]}${Sr[_r.PRERELEASE]}?${Sr[_r.BUILD]}?`);Wn("FULL",`^${Sr[_r.FULLPLAIN]}$`);Wn("LOOSEPLAIN",`[v=\\s]*${Sr[_r.MAINVERSIONLOOSE]}${Sr[_r.PRERELEASELOOSE]}?${Sr[_r.BUILD]}?`);Wn("LOOSE",`^${Sr[_r.LOOSEPLAIN]}$`);Wn("GTLT","((?:<|>)?=?)");Wn("XRANGEIDENTIFIERLOOSE",`${Sr[_r.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Wn("XRANGEIDENTIFIER",`${Sr[_r.NUMERICIDENTIFIER]}|x|X|\\*`);Wn("XRANGEPLAIN",`[v=\\s]*(${Sr[_r.XRANGEIDENTIFIER]})(?:\\.(${Sr[_r.XRANGEIDENTIFIER]})(?:\\.(${Sr[_r.XRANGEIDENTIFIER]})(?:${Sr[_r.PRERELEASE]})?${Sr[_r.BUILD]}?)?)?`);Wn("XRANGEPLAINLOOSE",`[v=\\s]*(${Sr[_r.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Sr[_r.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Sr[_r.XRANGEIDENTIFIERLOOSE]})(?:${Sr[_r.PRERELEASELOOSE]})?${Sr[_r.BUILD]}?)?)?`);Wn("XRANGE",`^${Sr[_r.GTLT]}\\s*${Sr[_r.XRANGEPLAIN]}$`);Wn("XRANGELOOSE",`^${Sr[_r.GTLT]}\\s*${Sr[_r.XRANGEPLAINLOOSE]}$`);Wn("COERCEPLAIN",`(^|[^\\d])(\\d{1,${ile}})(?:\\.(\\d{1,${ile}}))?(?:\\.(\\d{1,${ile}}))?`);Wn("COERCE",`${Sr[_r.COERCEPLAIN]}(?:$|[^\\d])`);Wn("COERCEFULL",Sr[_r.COERCEPLAIN]+`(?:${Sr[_r.PRERELEASE]})?(?:${Sr[_r.BUILD]})?(?:$|[^\\d])`);Wn("COERCERTL",Sr[_r.COERCE],!0);Wn("COERCERTLFULL",Sr[_r.COERCEFULL],!0);Wn("LONETILDE","(?:~>?)");Wn("TILDETRIM",`(\\s*)${Sr[_r.LONETILDE]}\\s+`,!0);eg.tildeTrimReplace="$1~";Wn("TILDE",`^${Sr[_r.LONETILDE]}${Sr[_r.XRANGEPLAIN]}$`);Wn("TILDELOOSE",`^${Sr[_r.LONETILDE]}${Sr[_r.XRANGEPLAINLOOSE]}$`);Wn("LONECARET","(?:\\^)");Wn("CARETTRIM",`(\\s*)${Sr[_r.LONECARET]}\\s+`,!0);eg.caretTrimReplace="$1^";Wn("CARET",`^${Sr[_r.LONECARET]}${Sr[_r.XRANGEPLAIN]}$`);Wn("CARETLOOSE",`^${Sr[_r.LONECARET]}${Sr[_r.XRANGEPLAINLOOSE]}$`);Wn("COMPARATORLOOSE",`^${Sr[_r.GTLT]}\\s*(${Sr[_r.LOOSEPLAIN]})$|^$`);Wn("COMPARATOR",`^${Sr[_r.GTLT]}\\s*(${Sr[_r.FULLPLAIN]})$|^$`);Wn("COMPARATORTRIM",`(\\s*)${Sr[_r.GTLT]}\\s*(${Sr[_r.LOOSEPLAIN]}|${Sr[_r.XRANGEPLAIN]})`,!0);eg.comparatorTrimReplace="$1$2$3";Wn("HYPHENRANGE",`^\\s*(${Sr[_r.XRANGEPLAIN]})\\s+-\\s+(${Sr[_r.XRANGEPLAIN]})\\s*$`);Wn("HYPHENRANGELOOSE",`^\\s*(${Sr[_r.XRANGEPLAINLOOSE]})\\s+-\\s+(${Sr[_r.XRANGEPLAINLOOSE]})\\s*$`);Wn("STAR","(<|>)?=?\\s*\\*");Wn("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Wn("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var jW=V((Wln,NFe)=>{d();var b9t=Object.freeze({loose:!0}),v9t=Object.freeze({}),I9t=o(e=>e?typeof e!="object"?b9t:e:v9t,"parseOptions");NFe.exports=I9t});var sle=V((Vln,MFe)=>{d();var LFe=/^[0-9]+$/,QFe=o((e,t)=>{let r=LFe.test(e),n=LFe.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},"compareIdentifiers"),T9t=o((e,t)=>QFe(t,e),"rcompareIdentifiers");MFe.exports={compareIdentifiers:QFe,rcompareIdentifiers:T9t}});var T0=V((zln,WFe)=>{d();var $W=__(),{MAX_LENGTH:OFe,MAX_SAFE_INTEGER:zW}=S_(),{safeRe:UFe,safeSrc:qFe,t:YW}=h6(),w9t=jW(),{compareIdentifiers:p6}=sle(),ale=class e{static{o(this,"SemVer")}constructor(t,r){if(r=w9t(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>OFe)throw new TypeError(`version is longer than ${OFe} characters`);$W("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?UFe[YW.LOOSE]:UFe[YW.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>zW||this.major<0)throw new TypeError("Invalid major version");if(this.minor>zW||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>zW||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<zW)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if($W("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),p6(this.major,t.major)||p6(this.minor,t.minor)||p6(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if($W("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return p6(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if($W("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return p6(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=new RegExp(`^${this.options.loose?qFe[YW.PRERELEASELOOSE]:qFe[YW.PRERELEASE]}$`),s=`-${r}`.match(i);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),p6(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};WFe.exports=ale});var _E=V((Jln,HFe)=>{d();var GFe=T0(),S9t=o((e,t,r=!1)=>{if(e instanceof GFe)return e;try{return new GFe(e,t)}catch(n){if(!r)return null;throw n}},"parse");HFe.exports=S9t});var jFe=V((e0n,VFe)=>{d();var _9t=_E(),k9t=o((e,t)=>{let r=_9t(e,t);return r?r.version:null},"valid");VFe.exports=k9t});var zFe=V((n0n,$Fe)=>{d();var B9t=_E(),R9t=o((e,t)=>{let r=B9t(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},"clean");$Fe.exports=R9t});var JFe=V((s0n,KFe)=>{d();var YFe=T0(),D9t=o((e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new YFe(e instanceof YFe?e.version:e,r).inc(t,n,i).version}catch{return null}},"inc");KFe.exports=D9t});var eNe=V((c0n,ZFe)=>{d();var XFe=_E(),P9t=o((e,t)=>{let r=XFe(e,null,!0),n=XFe(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,l=s?n:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(a)===0)return l.minor&&!l.patch?"minor":"patch"}let f=c?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"},"diff");ZFe.exports=P9t});var rNe=V((d0n,tNe)=>{d();var F9t=T0(),N9t=o((e,t)=>new F9t(e,t).major,"major");tNe.exports=N9t});var iNe=V((p0n,nNe)=>{d();var L9t=T0(),Q9t=o((e,t)=>new L9t(e,t).minor,"minor");nNe.exports=Q9t});var sNe=V((y0n,oNe)=>{d();var M9t=T0(),O9t=o((e,t)=>new M9t(e,t).patch,"patch");oNe.exports=O9t});var lNe=V((x0n,aNe)=>{d();var U9t=_E(),q9t=o((e,t)=>{let r=U9t(e,t);return r&&r.prerelease.length?r.prerelease:null},"prerelease");aNe.exports=q9t});var Pd=V((I0n,uNe)=>{d();var cNe=T0(),W9t=o((e,t,r)=>new cNe(e,r).compare(new cNe(t,r)),"compare");uNe.exports=W9t});var dNe=V((S0n,fNe)=>{d();var G9t=Pd(),H9t=o((e,t,r)=>G9t(t,e,r),"rcompare");fNe.exports=H9t});var hNe=V((B0n,mNe)=>{d();var V9t=Pd(),j9t=o((e,t)=>V9t(e,t,!0),"compareLoose");mNe.exports=j9t});var KW=V((P0n,gNe)=>{d();var pNe=T0(),$9t=o((e,t,r)=>{let n=new pNe(e,r),i=new pNe(t,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");gNe.exports=$9t});var yNe=V((L0n,ANe)=>{d();var z9t=KW(),Y9t=o((e,t)=>e.sort((r,n)=>z9t(r,n,t)),"sort");ANe.exports=Y9t});var ENe=V((O0n,CNe)=>{d();var K9t=KW(),J9t=o((e,t)=>e.sort((r,n)=>K9t(n,r,t)),"rsort");CNe.exports=J9t});var k_=V((W0n,xNe)=>{d();var X9t=Pd(),Z9t=o((e,t,r)=>X9t(e,t,r)>0,"gt");xNe.exports=Z9t});var JW=V((V0n,bNe)=>{d();var e7t=Pd(),t7t=o((e,t,r)=>e7t(e,t,r)<0,"lt");bNe.exports=t7t});var lle=V((z0n,vNe)=>{d();var r7t=Pd(),n7t=o((e,t,r)=>r7t(e,t,r)===0,"eq");vNe.exports=n7t});var cle=V((J0n,INe)=>{d();var i7t=Pd(),o7t=o((e,t,r)=>i7t(e,t,r)!==0,"neq");INe.exports=o7t});var XW=V((ecn,TNe)=>{d();var s7t=Pd(),a7t=o((e,t,r)=>s7t(e,t,r)>=0,"gte");TNe.exports=a7t});var ZW=V((ncn,wNe)=>{d();var l7t=Pd(),c7t=o((e,t,r)=>l7t(e,t,r)<=0,"lte");wNe.exports=c7t});var ule=V((scn,SNe)=>{d();var u7t=lle(),f7t=cle(),d7t=k_(),m7t=XW(),h7t=JW(),p7t=ZW(),g7t=o((e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return u7t(e,r,n);case"!=":return f7t(e,r,n);case">":return d7t(e,r,n);case">=":return m7t(e,r,n);case"<":return h7t(e,r,n);case"<=":return p7t(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}},"cmp");SNe.exports=g7t});var kNe=V((ccn,_Ne)=>{d();var A7t=T0(),y7t=_E(),{safeRe:eG,t:tG}=h6(),C7t=o((e,t)=>{if(e instanceof A7t)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?eG[tG.COERCEFULL]:eG[tG.COERCE]);else{let c=t.includePrerelease?eG[tG.COERCERTLFULL]:eG[tG.COERCERTL],u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",l=t.includePrerelease&&r[6]?`+${r[6]}`:"";return y7t(`${n}.${i}.${s}${a}${l}`,t)},"coerce");_Ne.exports=C7t});var RNe=V((dcn,BNe)=>{d();var fle=class{static{o(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};BNe.exports=fle});var Fd=V((pcn,NNe)=>{d();var E7t=/\s+/g,dle=class e{static{o(this,"Range")}constructor(t,r){if(r=b7t(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof mle)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(E7t," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!PNe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&k7t(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&S7t)|(this.options.loose&&_7t))+":"+t,i=DNe.get(n);if(i)return i;let s=this.options.loose,a=s?eu[nc.HYPHENRANGELOOSE]:eu[nc.HYPHENRANGE];t=t.replace(a,O7t(this.options.includePrerelease)),ls("hyphen replace",t),t=t.replace(eu[nc.COMPARATORTRIM],I7t),ls("comparator trim",t),t=t.replace(eu[nc.TILDETRIM],T7t),ls("tilde trim",t),t=t.replace(eu[nc.CARETTRIM],w7t),ls("caret trim",t);let l=t.split(" ").map(m=>B7t(m,this.options)).join(" ").split(/\s+/).map(m=>M7t(m,this.options));s&&(l=l.filter(m=>(ls("loose invalid filter",m,this.options),!!m.match(eu[nc.COMPARATORLOOSE])))),ls("range list",l);let c=new Map,u=l.map(m=>new mle(m,this.options));for(let m of u){if(PNe(m))return[m];c.set(m.value,m)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return DNe.set(n,f),f}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>FNe(n,r)&&t.set.some(i=>FNe(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new v7t(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(U7t(this.set[r],t,this.options))return!0;return!1}};NNe.exports=dle;var x7t=RNe(),DNe=new x7t,b7t=jW(),mle=B_(),ls=__(),v7t=T0(),{safeRe:eu,t:nc,comparatorTrimReplace:I7t,tildeTrimReplace:T7t,caretTrimReplace:w7t}=h6(),{FLAG_INCLUDE_PRERELEASE:S7t,FLAG_LOOSE:_7t}=S_(),PNe=o(e=>e.value==="<0.0.0-0","isNullSet"),k7t=o(e=>e.value==="","isAny"),FNe=o((e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},"isSatisfiable"),B7t=o((e,t)=>(ls("comp",e,t),e=P7t(e,t),ls("caret",e),e=R7t(e,t),ls("tildes",e),e=N7t(e,t),ls("xrange",e),e=Q7t(e,t),ls("stars",e),e),"parseComparator"),ic=o(e=>!e||e.toLowerCase()==="x"||e==="*","isX"),R7t=o((e,t)=>e.trim().split(/\s+/).map(r=>D7t(r,t)).join(" "),"replaceTildes"),D7t=o((e,t)=>{let r=t.loose?eu[nc.TILDELOOSE]:eu[nc.TILDE];return e.replace(r,(n,i,s,a,l)=>{ls("tilde",e,n,i,s,a,l);let c;return ic(i)?c="":ic(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:ic(a)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:l?(ls("replaceTilde pr",l),c=`>=${i}.${s}.${a}-${l} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,ls("tilde return",c),c})},"replaceTilde"),P7t=o((e,t)=>e.trim().split(/\s+/).map(r=>F7t(r,t)).join(" "),"replaceCarets"),F7t=o((e,t)=>{ls("caret",e,t);let r=t.loose?eu[nc.CARETLOOSE]:eu[nc.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,a,l,c)=>{ls("caret",e,i,s,a,l,c);let u;return ic(s)?u="":ic(a)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:ic(l)?s==="0"?u=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:c?(ls("replaceCaret pr",c),s==="0"?a==="0"?u=`>=${s}.${a}.${l}-${c} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}-${c} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l}-${c} <${+s+1}.0.0-0`):(ls("no pr"),s==="0"?a==="0"?u=`>=${s}.${a}.${l}${n} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l} <${+s+1}.0.0-0`),ls("caret return",u),u})},"replaceCaret"),N7t=o((e,t)=>(ls("replaceXRanges",e,t),e.split(/\s+/).map(r=>L7t(r,t)).join(" ")),"replaceXRanges"),L7t=o((e,t)=>{e=e.trim();let r=t.loose?eu[nc.XRANGELOOSE]:eu[nc.XRANGE];return e.replace(r,(n,i,s,a,l,c)=>{ls("xRange",e,n,i,s,a,l,c);let u=ic(s),f=u||ic(a),m=f||ic(l),h=m;return i==="="&&h&&(i=""),c=t.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(f&&(a=0),l=0,i===">"?(i=">=",f?(s=+s+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",f?s=+s+1:a=+a+1),i==="<"&&(c="-0"),n=`${i+s}.${a}.${l}${c}`):f?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:m&&(n=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),ls("xRange return",n),n})},"replaceXRange"),Q7t=o((e,t)=>(ls("replaceStars",e,t),e.trim().replace(eu[nc.STAR],"")),"replaceStars"),M7t=o((e,t)=>(ls("replaceGTE0",e,t),e.trim().replace(eu[t.includePrerelease?nc.GTE0PRE:nc.GTE0],"")),"replaceGTE0"),O7t=o(e=>(t,r,n,i,s,a,l,c,u,f,m,h)=>(ic(n)?r="":ic(i)?r=`>=${n}.0.0${e?"-0":""}`:ic(s)?r=`>=${n}.${i}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,ic(u)?c="":ic(f)?c=`<${+u+1}.0.0-0`:ic(m)?c=`<${u}.${+f+1}.0-0`:h?c=`<=${u}.${f}.${m}-${h}`:e?c=`<${u}.${f}.${+m+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),"hyphenReplace"),U7t=o((e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(ls(e[n].semver),e[n].semver!==mle.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0},"testSet")});var B_=V((ycn,qNe)=>{d();var R_=Symbol("SemVer ANY"),gle=class e{static{o(this,"Comparator")}static get ANY(){return R_}constructor(t,r){if(r=LNe(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),ple("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===R_?this.value="":this.value=this.operator+this.semver.version,ple("comp",this)}parse(t){let r=this.options.loose?QNe[MNe.COMPARATORLOOSE]:QNe[MNe.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new ONe(n[2],this.options.loose):this.semver=R_}toString(){return this.value}test(t){if(ple("Comparator.test",t,this.options.loose),this.semver===R_||t===R_)return!0;if(typeof t=="string")try{t=new ONe(t,this.options)}catch{return!1}return hle(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new UNe(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new UNe(this.value,r).test(t.semver):(r=LNe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||hle(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||hle(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};qNe.exports=gle;var LNe=jW(),{safeRe:QNe,t:MNe}=h6(),hle=ule(),ple=__(),ONe=T0(),UNe=Fd()});var D_=V((xcn,WNe)=>{d();var q7t=Fd(),W7t=o((e,t,r)=>{try{t=new q7t(t,r)}catch{return!1}return t.test(e)},"satisfies");WNe.exports=W7t});var HNe=V((Icn,GNe)=>{d();var G7t=Fd(),H7t=o((e,t)=>new G7t(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");GNe.exports=H7t});var jNe=V((Scn,VNe)=>{d();var V7t=T0(),j7t=Fd(),$7t=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new j7t(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new V7t(n,r))}),n},"maxSatisfying");VNe.exports=$7t});var zNe=V((Bcn,$Ne)=>{d();var z7t=T0(),Y7t=Fd(),K7t=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new Y7t(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new z7t(n,r))}),n},"minSatisfying");$Ne.exports=K7t});var JNe=V((Pcn,KNe)=>{d();var Ale=T0(),J7t=Fd(),YNe=k_(),X7t=o((e,t)=>{e=new J7t(e,t);let r=new Ale("0.0.0");if(e.test(r)||(r=new Ale("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(a=>{let l=new Ale(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!s||YNe(l,s))&&(s=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||YNe(r,s))&&(r=s)}return r&&e.test(r)?r:null},"minVersion");KNe.exports=X7t});var ZNe=V((Lcn,XNe)=>{d();var Z7t=Fd(),eTt=o((e,t)=>{try{return new Z7t(e,t).range||"*"}catch{return null}},"validRange");XNe.exports=eTt});var rG=V((Ocn,nLe)=>{d();var tTt=T0(),rLe=B_(),{ANY:rTt}=rLe,nTt=Fd(),iTt=D_(),eLe=k_(),tLe=JW(),oTt=ZW(),sTt=XW(),aTt=o((e,t,r,n)=>{e=new tTt(e,n),t=new nTt(t,n);let i,s,a,l,c;switch(r){case">":i=eLe,s=oTt,a=tLe,l=">",c=">=";break;case"<":i=tLe,s=sTt,a=eLe,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(iTt(e,t,n))return!1;for(let u=0;u<t.set.length;++u){let f=t.set[u],m=null,h=null;if(f.forEach(p=>{p.semver===rTt&&(p=new rLe(">=0.0.0")),m=m||p,h=h||p,i(p.semver,m.semver,n)?m=p:a(p.semver,h.semver,n)&&(h=p)}),m.operator===l||m.operator===c||(!h.operator||h.operator===l)&&s(e,h.semver))return!1;if(h.operator===c&&a(e,h.semver))return!1}return!0},"outside");nLe.exports=aTt});var oLe=V((Wcn,iLe)=>{d();var lTt=rG(),cTt=o((e,t,r)=>lTt(e,t,">",r),"gtr");iLe.exports=cTt});var aLe=V((Vcn,sLe)=>{d();var uTt=rG(),fTt=o((e,t,r)=>uTt(e,t,"<",r),"ltr");sLe.exports=fTt});var uLe=V((zcn,cLe)=>{d();var lLe=Fd(),dTt=o((e,t,r)=>(e=new lLe(e,r),t=new lLe(t,r),e.intersects(t,r)),"intersects");cLe.exports=dTt});var dLe=V((Jcn,fLe)=>{d();var mTt=D_(),hTt=Pd();fLe.exports=(e,t,r)=>{let n=[],i=null,s=null,a=e.sort((f,m)=>hTt(f,m,r));for(let f of a)mTt(f,t,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let l=[];for(let[f,m]of n)f===m?l.push(f):!m&&f===a[0]?l.push("*"):m?f===a[0]?l.push(`<=${m}`):l.push(`${f} - ${m}`):l.push(`>=${f}`);let c=l.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var yLe=V((Zcn,ALe)=>{d();var mLe=Fd(),Cle=B_(),{ANY:yle}=Cle,P_=D_(),Ele=Pd(),pTt=o((e,t,r={})=>{if(e===t)return!0;e=new mLe(e,r),t=new mLe(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let a=ATt(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),gTt=[new Cle(">=0.0.0-0")],hLe=[new Cle(">=0.0.0")],ATt=o((e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===yle){if(t.length===1&&t[0].semver===yle)return!0;r.includePrerelease?e=gTt:e=hLe}if(t.length===1&&t[0].semver===yle){if(r.includePrerelease)return!0;t=hLe}let n=new Set,i,s;for(let p of e)p.operator===">"||p.operator===">="?i=pLe(i,p,r):p.operator==="<"||p.operator==="<="?s=gLe(s,p,r):n.add(p.semver);if(n.size>1)return null;let a;if(i&&s){if(a=Ele(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let p of n){if(i&&!P_(p,String(i),r)||s&&!P_(p,String(s),r))return null;for(let A of t)if(!P_(p,String(A),r))return!1;return!0}let l,c,u,f,m=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&s.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let p of t){if(f=f||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(l=pLe(i,p,r),l===p&&l!==i)return!1}else if(i.operator===">="&&!P_(i.semver,String(p),r))return!1}if(s){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator==="<"||p.operator==="<="){if(c=gLe(s,p,r),c===p&&c!==s)return!1}else if(s.operator==="<="&&!P_(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&a!==0)return!1}return!(i&&u&&!s&&a!==0||s&&f&&!i&&a!==0||h||m)},"simpleSubset"),pLe=o((e,t,r)=>{if(!e)return t;let n=Ele(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},"higherGT"),gLe=o((e,t,r)=>{if(!e)return t;let n=Ele(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e},"lowerLT");ALe.exports=pTt});var ble=V((nun,xLe)=>{d();var xle=h6(),CLe=S_(),yTt=T0(),ELe=sle(),CTt=_E(),ETt=jFe(),xTt=zFe(),bTt=JFe(),vTt=eNe(),ITt=rNe(),TTt=iNe(),wTt=sNe(),STt=lNe(),_Tt=Pd(),kTt=dNe(),BTt=hNe(),RTt=KW(),DTt=yNe(),PTt=ENe(),FTt=k_(),NTt=JW(),LTt=lle(),QTt=cle(),MTt=XW(),OTt=ZW(),UTt=ule(),qTt=kNe(),WTt=B_(),GTt=Fd(),HTt=D_(),VTt=HNe(),jTt=jNe(),$Tt=zNe(),zTt=JNe(),YTt=ZNe(),KTt=rG(),JTt=oLe(),XTt=aLe(),ZTt=uLe(),ewt=dLe(),twt=yLe();xLe.exports={parse:CTt,valid:ETt,clean:xTt,inc:bTt,diff:vTt,major:ITt,minor:TTt,patch:wTt,prerelease:STt,compare:_Tt,rcompare:kTt,compareLoose:BTt,compareBuild:RTt,sort:DTt,rsort:PTt,gt:FTt,lt:NTt,eq:LTt,neq:QTt,gte:MTt,lte:OTt,cmp:UTt,coerce:qTt,Comparator:WTt,Range:GTt,satisfies:HTt,toComparators:VTt,maxSatisfying:jTt,minSatisfying:$Tt,minVersion:zTt,validRange:YTt,outside:KTt,gtr:JTt,ltr:XTt,intersects:ZTt,simplifyRange:ewt,subset:twt,SemVer:yTt,re:xle.re,src:xle.src,tokens:xle.t,SEMVER_SPEC_VERSION:CLe.SEMVER_SPEC_VERSION,RELEASE_TYPES:CLe.RELEASE_TYPES,compareIdentifiers:ELe.compareIdentifiers,rcompareIdentifiers:ELe.rcompareIdentifiers}});var cf=V(Q_=>{"use strict";d();Object.defineProperty(Q_,"__esModule",{value:!0});Q_.dedent=void 0;function WLe(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(l,c){var u=c.match(/\n([\t ]+|(?!\s).)/g);return u?l.concat(u.map(function(f){var m,h;return(h=(m=f.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&h!==void 0?h:0})):l},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(l){return l.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return t.forEach(function(l,c){var u=a.match(/(?:^|\n)( *)$/),f=u?u[1]:"",m=l;typeof l=="string"&&l.includes(`
`)&&(m=String(l).split(`
`).map(function(h,p){return p===0?h:""+f+h}).join(`
`)),a+=m+n[c+1]}),a}o(WLe,"dedent");Q_.dedent=WLe;Q_.default=WLe});var KLe=V(Lle=>{"use strict";d();Object.defineProperty(Lle,"__esModule",{value:!0});Lle.workerFile=`
const { parentPort } = require('worker_threads')

parentPort.on('message', async worker => {
  const response = {
    error: null,
    data: null
  }

  try {
    eval(worker)
    // __executor__ is defined in worker
    response.data = await __executor__()
    parentPort.postMessage(response)
  } catch (err) {
    response.data = null
    response.error = {
      message: err.message,
      stack: err.stack
    }

    try {
      parentPort.postMessage(response)
    } catch (err) {
      console.error(err)
    }
  }
})
`});var rQe=V(Mle=>{"use strict";d();Object.defineProperty(Mle,"__esModule",{value:!0});var JLe=require("worker_threads"),vwt=require("v8"),Iwt=require("os"),XLe=KLe(),mG="ready",ZLe="spawning",Twt="busy",hG="off",eQe=Iwt.cpus().length,tQe=process.version.replace("v","").split("."),wwt=parseInt(tQe[0]),Swt=parseInt(tQe[1]),Qle=class{static{o(this,"WorkerPool")}constructor(){this.maxWorkers=eQe,this.taskQueue=[],this.workers=[]}resurrect(t){let r=new JLe.Worker(XLe.workerFile,{eval:!0});t.status=ZLe,t.worker=r,r.once("online",()=>process.nextTick(()=>{t.status=mG,r.removeAllListeners(),this.tick()})),r.once("error",n=>{console.error(n),t.status=hG,r.removeAllListeners(),this.tick()})}tick(){if(this.workers.filter(({status:c})=>c===hG).forEach(c=>this.resurrect(c)),this.taskQueue.length===0)return;let t;for(let c=0;c<this.workers.length;c++)if(this.workers[c].status===mG){t=this.workers[c];break}if(typeof t>"u")return;let r=this.taskQueue.shift();t.status=Twt;let{worker:n}=t,{handler:i,config:s,resolve:a,reject:l}=r;try{let c="";for(let h in s.ctx){if(!s.ctx.hasOwnProperty(h))continue;let p;switch(typeof s.ctx[h]){case"string":p=`'${s.ctx[h]}'`;break;case"object":p=JSON.stringify(s.ctx[h]);break;default:p=s.ctx[h]}c+=`let ${h} = ${p}
`}let u=vwt.serialize(s.data),f=JSON.stringify(u),m=`
      async function __executor__() {
        const v8 = require('v8')
        ${c}
        const dataParsed = JSON.parse('${f}')
        const dataBuffer = Buffer.from(dataParsed.data)
        const dataDeserialized = v8.deserialize(dataBuffer)
        return await (${i.toString()})(dataDeserialized)
      }
      `;n.once("message",h=>{if(this.free(n),typeof h.error>"u"||h.error===null)return a(h.data);let p=new Error(h.error.message);p.stack=h.error.stack,l(p)}),n.once("error",h=>{t.status=hG,l(h),this.tick()}),n.postMessage(m)}catch(c){this.free(n),l(c)}}enqueue({handler:t,config:r,resolve:n,reject:i}){this.taskQueue.push({handler:t,config:r,resolve:n,reject:i}),this.tick()}free(t){for(let r=0;r<this.workers.length;r++)if(t.threadId===this.workers[r].worker.threadId){this.workers[r].status=mG,this.workers[r].worker.removeAllListeners(),this.tick();break}}setup(t={}){return this.maxWorkers=t.maxWorkers>0?t.maxWorkers:eQe,this.maxWorkers>10&&console.warn(`Worker pool has more than 10 workers.
You should also increase the Max Listeners of Node.js (https://nodejs.org/docs/latest/api/events.html#events_emitter_setmaxlisteners_n)
Otherwise, limit them with start({maxWorkers: 10})`),new Promise((r,n)=>{let i=0,s=0;for(let a=0;a<this.maxWorkers;a++){let l=new JLe.Worker(XLe.workerFile,{eval:!0});this.workers.push({status:ZLe,worker:l}),l.once("online",(c=>()=>{process.nextTick(()=>{this.workers[c].status=mG,this.workers[c].worker.removeAllListeners(),i++,i>0&&i+s===this.maxWorkers&&r()})})(a)),l.once("error",(c=>u=>{this.workers[c].status=hG,this.workers[c].worker.removeAllListeners(),s++,s===this.maxWorkers&&n(u)})(a))}})}async teardown(){if(wwt>=12&&Swt>=5){let t=[];for(let{worker:r}of this.workers)t.push(r.terminate());await Promise.all(t),this.workers=[]}else await new Promise(r=>{let n=0;for(let i=0;i<this.workers.length;i++)this.workers[i].worker.terminate(()=>{n++,n===this.workers.length&&(this.workers=[],r())})})}};Mle.default=new Qle});var pG=V(BE=>{"use strict";d();var _wt=BE&&BE.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(BE,"__esModule",{value:!0});var M_=_wt(rQe()),kwt=`job needs a function.
Try with:
> job(() => {...}, config)`,Bwt=`job needs an object as ctx.
Try with:
> job(() => {...}, {ctx: {...}})`;function Rwt(e,t={ctx:{},data:{}}){return new Promise((r,n)=>{if(typeof e!="function")return n(new Error(kwt));if(t.ctx=t.ctx||{},t.data=t.data||{},typeof t.ctx!="object")return n(new Error(Bwt));M_.default.enqueue({handler:e,config:t,resolve:r,reject:n})})}o(Rwt,"job");BE.job=Rwt;BE.stop=M_.default.teardown.bind(M_.default);BE.start=M_.default.setup.bind(M_.default)});var CQe=V(RE=>{"use strict";d();var ig=RE&&RE.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},$le=RE&&RE.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},gA,Jy;Object.defineProperty(RE,"__esModule",{value:!0});var zle=class{static{o(this,"AwaitLock")}constructor(){gA.set(this,!1),Jy.set(this,new Set)}get acquired(){return ig(this,gA,"f")}acquireAsync({timeout:t}={}){if(!ig(this,gA,"f"))return $le(this,gA,!0,"f"),Promise.resolve();if(t==null)return new Promise(i=>{ig(this,Jy,"f").add(i)});let r,n;return Promise.race([new Promise(i=>{r=o(()=>{clearTimeout(n),i()},"resolver"),ig(this,Jy,"f").add(r)}),new Promise((i,s)=>{n=setTimeout(()=>{ig(this,Jy,"f").delete(r),s(new Error("Timed out waiting for lock"))},t)})])}tryAcquire(){return ig(this,gA,"f")?!1:($le(this,gA,!0,"f"),!0)}release(){if(!ig(this,gA,"f"))throw new Error("Cannot release an unacquired lock");if(ig(this,Jy,"f").size>0){let[t]=ig(this,Jy,"f");ig(this,Jy,"f").delete(t),t()}else $le(this,gA,!1,"f")}};RE.default=zle;gA=new WeakMap,Jy=new WeakMap});var iFt={};qg(iFt,{getTokenizer:()=>vo,main:()=>Lqe});module.exports=aGe(iFt);d();var rVn=nt(w$());d();d();var A7="github.copilot";d();d();var $h=class{static{o(this,"Clock")}now(){return new Date}};d();var MR=nt(H2());function k$(e){return(0,MR.SHA256)(MR.enc.Utf16.parse(e.prefix+e.suffix)).toString()}o(k$,"keyForPrompt");var Bn=class{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}static{o(this,"LRUCacheMap")}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?this.deleteKey(t):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}deleteKey(t){let r=!1;return this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&(r=this.valueMap.delete(t)),r}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};d();d();d();d();var Us=class extends Error{static{o(this,"CopilotAuthError")}constructor(t,r){super(t,{cause:r}),this.name="CopilotAuthError"}};d();var _f="X-Copilot-RelatedPluginVersion-",C7=(O=>(O.Market="X-MSEdge-Market",O.CorpNet="X-FD-Corpnet",O.Build="X-VSCode-Build",O.ApplicationVersion="X-VSCode-AppVersion",O.TargetPopulation="X-VSCode-TargetPopulation",O.ClientId="X-MSEdge-ClientId",O.ExtensionName="X-VSCode-ExtensionName",O.ExtensionVersion="X-VSCode-ExtensionVersion",O.ExtensionRelease="X-VSCode-ExtensionRelease",O.Language="X-VSCode-Language",O.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",O.CopilotEngine="X-Copilot-Engine",O.CopilotOverrideEngine="X-Copilot-OverrideEngine",O.CopilotRepository="X-Copilot-Repository",O.CopilotFileType="X-Copilot-FileType",O.CopilotUserKind="X-Copilot-UserKind",O.CopilotDogfood="X-Copilot-Dogfood",O.CopilotCustomModel="X-Copilot-CustomModel",O.CopilotOrgs="X-Copilot-Orgs",O.CopilotCustomModelNames="X-Copilot-CustomModelNames",O.CopilotTrackingId="X-Copilot-CopilotTrackingId",O.CopilotClientVersion="X-Copilot-ClientVersion",O.CopilotRelatedPluginVersionCppTools=_f+"msvscodecpptools",O.CopilotRelatedPluginVersionCMakeTools=_f+"msvscodecmaketools",O.CopilotRelatedPluginVersionMakefileTools=_f+"msvscodemakefiletools",O.CopilotRelatedPluginVersionCSharpDevKit=_f+"msdotnettoolscsdevkit",O.CopilotRelatedPluginVersionPython=_f+"mspythonpython",O.CopilotRelatedPluginVersionPylance=_f+"mspythonvscodepylance",O.CopilotRelatedPluginVersionJavaPack=_f+"vscjavavscodejavapack",O.CopilotRelatedPluginVersionTypescript=_f+"vscodetypescriptlanguagefeatures",O.CopilotRelatedPluginVersionTypescriptNext=_f+"msvscodevscodetypescriptnext",O.CopilotRelatedPluginVersionCSharp=_f+"msdotnettoolscsharp",O))(C7||{});var jGe={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},l3=class e{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{o(this,"FilterSettings")}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=jGe[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new e({...this.filters,[t]:r})}};d();d();var pb=nt(Xme(),1),KQt={ALPN_HTTP2:pb.default.ALPN_HTTP2,ALPN_HTTP2C:pb.default.ALPN_HTTP2C,ALPN_HTTP1_1:pb.default.ALPN_HTTP1_1,ALPN_HTTP1_0:pb.default.ALPN_HTTP1_0},{fetch:JQt,context:Zme,reset:XQt,noCache:ZQt,h1:eMt,keepAlive:tMt,h1NoCache:rMt,keepAliveNoCache:nMt,cacheStats:iMt,clearCache:oMt,offPush:sMt,onPush:aMt,createUrl:lMt,timeoutSignal:cMt,Body:uMt,Headers:ehe,Request:fMt,Response:dMt,AbortController:oD,AbortError:gb,AbortSignal:the,FetchBaseError:mMt,FetchError:S7,ALPN_HTTP2:hMt,ALPN_HTTP2C:pMt,ALPN_HTTP1_1:gMt,ALPN_HTTP1_0:AMt}=pb.default;var rhe=nt(require("util")),nhe=require("util");var Fr=class{static{o(this,"Fetcher")}#e;set rejectUnauthorized(t){this.#e=t}get rejectUnauthorized(){return this.#e}},_7=class extends Error{static{o(this,"HttpTimeoutError")}constructor(t,r){super(t,{cause:r}),this.name="HttpTimeoutError"}};function hu(e){return!e||typeof e!="object"?!1:e instanceof _7||e instanceof gb||"name"in e&&e.name==="AbortError"||e instanceof S7&&e.code==="ABORT_ERR"}o(hu,"isAbortError");var Ab=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{o(this,"JsonParseError")}},p3=class extends Error{static{o(this,"FetchResponseError")}constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}},Qje=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function k7(e,t=!0){return e instanceof Error?t&&"cause"in e&&k7(e.cause,!1)?!0:e instanceof S7||e.name==="EditorFetcherError"||e.name==="FetchError"||e instanceof Ab||e instanceof p3||e?.message?.startsWith("net::")||Qje.has(e.code??""):!1}o(k7,"isNetworkError");var z2=class{constructor(t,r,n,i,s){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=s;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{o(this,"Response")}async text(){return this.getText()}async json(){let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new Ab(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let s=new nhe.TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new Ab(`Response body truncated: actualLength=${s}`,"Truncated"):new Ab(`Response body truncated: actualLength=${s}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};function yb(e,t,r,n,i,s,a,l,c){let u={...l,Authorization:rhe.format("Bearer %s",r),"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(hs).sessionId,"VScode-MachineId":e.get(hs).machineId,...a0(e)};n&&(u["OpenAI-Intent"]=n);let f={method:"POST",headers:u,json:s,timeout:c},m=e.get(Fr);if(a){let p=m.makeAbortController();a.onCancellationRequested(()=>{er(e,"networking.cancelRequest",nn.createAndMarkAsIssued({headerRequestId:i})),p.abort()}),f.signal=p.signal}return m.fetch(t,f).catch(p=>{if(Mje(p))return er(e,"networking.disconnectAll"),m.disconnectAll().then(()=>m.fetch(t,f));throw p})}o(yb,"postRequest");function Mje(e){return e instanceof Error?e.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in e?e.code=="ECONNRESET"||e.code=="ETIMEDOUT"||e.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}o(Mje,"isInterruptedNetworkError");d();d();d();d();d();d();d();var l0={};qg(l0,{HasPropertyKey:()=>sD,IsArray:()=>oa,IsAsyncIterator:()=>cz,IsBigInt:()=>B7,IsBoolean:()=>zg,IsDate:()=>g3,IsFunction:()=>uz,IsIterator:()=>fz,IsNull:()=>dz,IsNumber:()=>pu,IsObject:()=>go,IsRegExp:()=>R7,IsString:()=>So,IsSymbol:()=>mz,IsUint8Array:()=>Yg,IsUndefined:()=>sa});d();function sD(e,t){return t in e}o(sD,"HasPropertyKey");function cz(e){return go(e)&&!oa(e)&&!Yg(e)&&Symbol.asyncIterator in e}o(cz,"IsAsyncIterator");function oa(e){return Array.isArray(e)}o(oa,"IsArray");function B7(e){return typeof e=="bigint"}o(B7,"IsBigInt");function zg(e){return typeof e=="boolean"}o(zg,"IsBoolean");function g3(e){return e instanceof globalThis.Date}o(g3,"IsDate");function uz(e){return typeof e=="function"}o(uz,"IsFunction");function fz(e){return go(e)&&!oa(e)&&!Yg(e)&&Symbol.iterator in e}o(fz,"IsIterator");function dz(e){return e===null}o(dz,"IsNull");function pu(e){return typeof e=="number"}o(pu,"IsNumber");function go(e){return typeof e=="object"&&e!==null}o(go,"IsObject");function R7(e){return e instanceof globalThis.RegExp}o(R7,"IsRegExp");function So(e){return typeof e=="string"}o(So,"IsString");function mz(e){return typeof e=="symbol"}o(mz,"IsSymbol");function Yg(e){return e instanceof globalThis.Uint8Array}o(Yg,"IsUint8Array");function sa(e){return e===void 0}o(sa,"IsUndefined");function Oje(e){return e.map(t=>aD(t))}o(Oje,"ArrayType");function Uje(e){return new Date(e.getTime())}o(Uje,"DateType");function qje(e){return new Uint8Array(e)}o(qje,"Uint8ArrayType");function Wje(e){return new RegExp(e.source,e.flags)}o(Wje,"RegExpType");function Gje(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=aD(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=aD(e[r]);return t}o(Gje,"ObjectType");function aD(e){return oa(e)?Oje(e):g3(e)?Uje(e):Yg(e)?qje(e):R7(e)?Wje(e):go(e)?Gje(e):e}o(aD,"Visit");function $o(e){return aD(e)}o($o,"Clone");function Cb(e,t){return t===void 0?$o(e):$o({...t,...e})}o(Cb,"CloneType");d();d();d();function lD(e){return Kn(e)&&globalThis.Symbol.asyncIterator in e}o(lD,"IsAsyncIterator");function cD(e){return Kn(e)&&globalThis.Symbol.iterator in e}o(cD,"IsIterator");function hz(e){return Kn(e)&&(globalThis.Object.getPrototypeOf(e)===Object.prototype||globalThis.Object.getPrototypeOf(e)===null)}o(hz,"IsStandardObject");function uD(e){return e instanceof globalThis.Promise}o(uD,"IsPromise");function N0(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}o(N0,"IsDate");function ihe(e){return e instanceof globalThis.Map}o(ihe,"IsMap");function ohe(e){return e instanceof globalThis.Set}o(ohe,"IsSet");function Rf(e){return globalThis.ArrayBuffer.isView(e)}o(Rf,"IsTypedArray");function Eb(e){return e instanceof globalThis.Uint8Array}o(Eb,"IsUint8Array");function cn(e,t){return t in e}o(cn,"HasPropertyKey");function Kn(e){return e!==null&&typeof e=="object"}o(Kn,"IsObject");function un(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}o(un,"IsArray");function zo(e){return e===void 0}o(zo,"IsUndefined");function Kg(e){return e===null}o(Kg,"IsNull");function zh(e){return typeof e=="boolean"}o(zh,"IsBoolean");function jr(e){return typeof e=="number"}o(jr,"IsNumber");function fD(e){return globalThis.Number.isInteger(e)}o(fD,"IsInteger");function Ql(e){return typeof e=="bigint"}o(Ql,"IsBigInt");function Bi(e){return typeof e=="string"}o(Bi,"IsString");function Y2(e){return typeof e=="function"}o(Y2,"IsFunction");function Jg(e){return typeof e=="symbol"}o(Jg,"IsSymbol");function gu(e){return Ql(e)||zh(e)||Kg(e)||jr(e)||Bi(e)||Jg(e)||zo(e)}o(gu,"IsValueType");var Po;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=Kn(a);return e.AllowArrayObject?l:l&&!un(a)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return e.AllowNaN?jr(a):Number.isFinite(a)}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){let l=zo(a);return e.AllowNullVoid?l||a===null:l}o(s,"IsVoidLike"),e.IsVoidLike=s})(Po||(Po={}));d();function Hje(e){return globalThis.Object.freeze(e).map(t=>D7(t))}o(Hje,"ImmutableArray");function Vje(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=D7(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=D7(e[r]);return globalThis.Object.freeze(t)}o(Vje,"ImmutableObject");function D7(e){return oa(e)?Hje(e):g3(e)?e:Yg(e)?e:R7(e)?e:go(e)?Vje(e):e}o(D7,"Immutable");function ct(e,t){let r=t!==void 0?{...t,...e}:e;switch(Po.InstanceMode){case"freeze":return D7(r);case"clone":return $o(r);default:return r}}o(ct,"CreateType");d();var fn=class extends Error{static{o(this,"TypeBoxError")}constructor(t){super(t)}};d();d();d();var ps=Symbol.for("TypeBox.Transform"),cm=Symbol.for("TypeBox.Readonly"),Ml=Symbol.for("TypeBox.Optional"),Df=Symbol.for("TypeBox.Hint"),it=Symbol.for("TypeBox.Kind");function xb(e){return go(e)&&e[cm]==="Readonly"}o(xb,"IsReadonly");function Cc(e){return go(e)&&e[Ml]==="Optional"}o(Cc,"IsOptional");function pz(e){return vi(e,"Any")}o(pz,"IsAny");function gz(e){return vi(e,"Argument")}o(gz,"IsArgument");function um(e){return vi(e,"Array")}o(um,"IsArray");function A3(e){return vi(e,"AsyncIterator")}o(A3,"IsAsyncIterator");function y3(e){return vi(e,"BigInt")}o(y3,"IsBigInt");function Xg(e){return vi(e,"Boolean")}o(Xg,"IsBoolean");function fm(e){return vi(e,"Computed")}o(fm,"IsComputed");function dm(e){return vi(e,"Constructor")}o(dm,"IsConstructor");function jje(e){return vi(e,"Date")}o(jje,"IsDate");function mm(e){return vi(e,"Function")}o(mm,"IsFunction");function hm(e){return vi(e,"Integer")}o(hm,"IsInteger");function Rs(e){return vi(e,"Intersect")}o(Rs,"IsIntersect");function C3(e){return vi(e,"Iterator")}o(C3,"IsIterator");function vi(e,t){return go(e)&&it in e&&e[it]===t}o(vi,"IsKindOf");function dD(e){return zg(e)||pu(e)||So(e)}o(dD,"IsLiteralValue");function Au(e){return vi(e,"Literal")}o(Au,"IsLiteral");function yu(e){return vi(e,"MappedKey")}o(yu,"IsMappedKey");function Yo(e){return vi(e,"MappedResult")}o(Yo,"IsMappedResult");function K2(e){return vi(e,"Never")}o(K2,"IsNever");function $je(e){return vi(e,"Not")}o($je,"IsNot");function P7(e){return vi(e,"Null")}o(P7,"IsNull");function pm(e){return vi(e,"Number")}o(pm,"IsNumber");function aa(e){return vi(e,"Object")}o(aa,"IsObject");function E3(e){return vi(e,"Promise")}o(E3,"IsPromise");function x3(e){return vi(e,"Record")}o(x3,"IsRecord");function qs(e){return vi(e,"Ref")}o(qs,"IsRef");function Az(e){return vi(e,"RegExp")}o(Az,"IsRegExp");function Zg(e){return vi(e,"String")}o(Zg,"IsString");function F7(e){return vi(e,"Symbol")}o(F7,"IsSymbol");function Cu(e){return vi(e,"TemplateLiteral")}o(Cu,"IsTemplateLiteral");function zje(e){return vi(e,"This")}o(zje,"IsThis");function $i(e){return go(e)&&ps in e}o($i,"IsTransform");function Eu(e){return vi(e,"Tuple")}o(Eu,"IsTuple");function e1(e){return vi(e,"Undefined")}o(e1,"IsUndefined");function Ri(e){return vi(e,"Union")}o(Ri,"IsUnion");function Yje(e){return vi(e,"Uint8Array")}o(Yje,"IsUint8Array");function Kje(e){return vi(e,"Unknown")}o(Kje,"IsUnknown");function Jje(e){return vi(e,"Unsafe")}o(Jje,"IsUnsafe");function Xje(e){return vi(e,"Void")}o(Xje,"IsVoid");function J2(e){return go(e)&&it in e&&So(e[it])}o(J2,"IsKind");function gs(e){return pz(e)||gz(e)||um(e)||Xg(e)||y3(e)||A3(e)||fm(e)||dm(e)||jje(e)||mm(e)||hm(e)||Rs(e)||C3(e)||Au(e)||yu(e)||Yo(e)||K2(e)||$je(e)||P7(e)||pm(e)||aa(e)||E3(e)||x3(e)||qs(e)||Az(e)||Zg(e)||F7(e)||Cu(e)||zje(e)||Eu(e)||e1(e)||Ri(e)||Yje(e)||Kje(e)||Jje(e)||Xje(e)||J2(e)}o(gs,"IsSchema");var Qe={};qg(Qe,{IsAny:()=>che,IsArgument:()=>uhe,IsArray:()=>fhe,IsAsyncIterator:()=>dhe,IsBigInt:()=>mhe,IsBoolean:()=>hhe,IsComputed:()=>phe,IsConstructor:()=>ghe,IsDate:()=>Ahe,IsFunction:()=>yhe,IsImport:()=>i$e,IsInteger:()=>Che,IsIntersect:()=>Ehe,IsIterator:()=>xhe,IsKind:()=>$he,IsKindOf:()=>li,IsLiteral:()=>L7,IsLiteralBoolean:()=>o$e,IsLiteralNumber:()=>vhe,IsLiteralString:()=>bhe,IsLiteralValue:()=>Ihe,IsMappedKey:()=>The,IsMappedResult:()=>whe,IsNever:()=>She,IsNot:()=>_he,IsNull:()=>khe,IsNumber:()=>Bhe,IsObject:()=>Rhe,IsOptional:()=>n$e,IsPromise:()=>Dhe,IsProperties:()=>mD,IsReadonly:()=>r$e,IsRecord:()=>Phe,IsRecursive:()=>s$e,IsRef:()=>Fhe,IsRegExp:()=>Nhe,IsSchema:()=>Ko,IsString:()=>Lhe,IsSymbol:()=>Qhe,IsTemplateLiteral:()=>Mhe,IsThis:()=>Ohe,IsTransform:()=>Uhe,IsTuple:()=>qhe,IsUint8Array:()=>Ghe,IsUndefined:()=>Whe,IsUnion:()=>xz,IsUnionLiteral:()=>a$e,IsUnknown:()=>Hhe,IsUnsafe:()=>Vhe,IsVoid:()=>jhe,TypeGuardUnknownTypeError:()=>yz});d();var yz=class extends fn{static{o(this,"TypeGuardUnknownTypeError")}},Zje=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function she(e){try{return new RegExp(e),!0}catch{return!1}}o(she,"IsPattern");function Cz(e){if(!So(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}o(Cz,"IsControlCharacterFree");function ahe(e){return Ez(e)||Ko(e)}o(ahe,"IsAdditionalProperties");function N7(e){return sa(e)||B7(e)}o(N7,"IsOptionalBigInt");function _o(e){return sa(e)||pu(e)}o(_o,"IsOptionalNumber");function Ez(e){return sa(e)||zg(e)}o(Ez,"IsOptionalBoolean");function Ao(e){return sa(e)||So(e)}o(Ao,"IsOptionalString");function e$e(e){return sa(e)||So(e)&&Cz(e)&&she(e)}o(e$e,"IsOptionalPattern");function t$e(e){return sa(e)||So(e)&&Cz(e)}o(t$e,"IsOptionalFormat");function lhe(e){return sa(e)||Ko(e)}o(lhe,"IsOptionalSchema");function r$e(e){return go(e)&&e[cm]==="Readonly"}o(r$e,"IsReadonly");function n$e(e){return go(e)&&e[Ml]==="Optional"}o(n$e,"IsOptional");function che(e){return li(e,"Any")&&Ao(e.$id)}o(che,"IsAny");function uhe(e){return li(e,"Argument")&&pu(e.index)}o(uhe,"IsArgument");function fhe(e){return li(e,"Array")&&e.type==="array"&&Ao(e.$id)&&Ko(e.items)&&_o(e.minItems)&&_o(e.maxItems)&&Ez(e.uniqueItems)&&lhe(e.contains)&&_o(e.minContains)&&_o(e.maxContains)}o(fhe,"IsArray");function dhe(e){return li(e,"AsyncIterator")&&e.type==="AsyncIterator"&&Ao(e.$id)&&Ko(e.items)}o(dhe,"IsAsyncIterator");function mhe(e){return li(e,"BigInt")&&e.type==="bigint"&&Ao(e.$id)&&N7(e.exclusiveMaximum)&&N7(e.exclusiveMinimum)&&N7(e.maximum)&&N7(e.minimum)&&N7(e.multipleOf)}o(mhe,"IsBigInt");function hhe(e){return li(e,"Boolean")&&e.type==="boolean"&&Ao(e.$id)}o(hhe,"IsBoolean");function phe(e){return li(e,"Computed")&&So(e.target)&&oa(e.parameters)&&e.parameters.every(t=>Ko(t))}o(phe,"IsComputed");function ghe(e){return li(e,"Constructor")&&e.type==="Constructor"&&Ao(e.$id)&&oa(e.parameters)&&e.parameters.every(t=>Ko(t))&&Ko(e.returns)}o(ghe,"IsConstructor");function Ahe(e){return li(e,"Date")&&e.type==="Date"&&Ao(e.$id)&&_o(e.exclusiveMaximumTimestamp)&&_o(e.exclusiveMinimumTimestamp)&&_o(e.maximumTimestamp)&&_o(e.minimumTimestamp)&&_o(e.multipleOfTimestamp)}o(Ahe,"IsDate");function yhe(e){return li(e,"Function")&&e.type==="Function"&&Ao(e.$id)&&oa(e.parameters)&&e.parameters.every(t=>Ko(t))&&Ko(e.returns)}o(yhe,"IsFunction");function i$e(e){return li(e,"Import")&&sD(e,"$defs")&&go(e.$defs)&&mD(e.$defs)&&sD(e,"$ref")&&So(e.$ref)&&e.$ref in e.$defs}o(i$e,"IsImport");function Che(e){return li(e,"Integer")&&e.type==="integer"&&Ao(e.$id)&&_o(e.exclusiveMaximum)&&_o(e.exclusiveMinimum)&&_o(e.maximum)&&_o(e.minimum)&&_o(e.multipleOf)}o(Che,"IsInteger");function mD(e){return go(e)&&Object.entries(e).every(([t,r])=>Cz(t)&&Ko(r))}o(mD,"IsProperties");function Ehe(e){return li(e,"Intersect")&&!(So(e.type)&&e.type!=="object")&&oa(e.allOf)&&e.allOf.every(t=>Ko(t)&&!Uhe(t))&&Ao(e.type)&&(Ez(e.unevaluatedProperties)||lhe(e.unevaluatedProperties))&&Ao(e.$id)}o(Ehe,"IsIntersect");function xhe(e){return li(e,"Iterator")&&e.type==="Iterator"&&Ao(e.$id)&&Ko(e.items)}o(xhe,"IsIterator");function li(e,t){return go(e)&&it in e&&e[it]===t}o(li,"IsKindOf");function bhe(e){return L7(e)&&So(e.const)}o(bhe,"IsLiteralString");function vhe(e){return L7(e)&&pu(e.const)}o(vhe,"IsLiteralNumber");function o$e(e){return L7(e)&&zg(e.const)}o(o$e,"IsLiteralBoolean");function L7(e){return li(e,"Literal")&&Ao(e.$id)&&Ihe(e.const)}o(L7,"IsLiteral");function Ihe(e){return zg(e)||pu(e)||So(e)}o(Ihe,"IsLiteralValue");function The(e){return li(e,"MappedKey")&&oa(e.keys)&&e.keys.every(t=>pu(t)||So(t))}o(The,"IsMappedKey");function whe(e){return li(e,"MappedResult")&&mD(e.properties)}o(whe,"IsMappedResult");function She(e){return li(e,"Never")&&go(e.not)&&Object.getOwnPropertyNames(e.not).length===0}o(She,"IsNever");function _he(e){return li(e,"Not")&&Ko(e.not)}o(_he,"IsNot");function khe(e){return li(e,"Null")&&e.type==="null"&&Ao(e.$id)}o(khe,"IsNull");function Bhe(e){return li(e,"Number")&&e.type==="number"&&Ao(e.$id)&&_o(e.exclusiveMaximum)&&_o(e.exclusiveMinimum)&&_o(e.maximum)&&_o(e.minimum)&&_o(e.multipleOf)}o(Bhe,"IsNumber");function Rhe(e){return li(e,"Object")&&e.type==="object"&&Ao(e.$id)&&mD(e.properties)&&ahe(e.additionalProperties)&&_o(e.minProperties)&&_o(e.maxProperties)}o(Rhe,"IsObject");function Dhe(e){return li(e,"Promise")&&e.type==="Promise"&&Ao(e.$id)&&Ko(e.item)}o(Dhe,"IsPromise");function Phe(e){return li(e,"Record")&&e.type==="object"&&Ao(e.$id)&&ahe(e.additionalProperties)&&go(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&she(r[0])&&go(t.patternProperties)&&Ko(t.patternProperties[r[0]])})(e)}o(Phe,"IsRecord");function s$e(e){return go(e)&&Df in e&&e[Df]==="Recursive"}o(s$e,"IsRecursive");function Fhe(e){return li(e,"Ref")&&Ao(e.$id)&&So(e.$ref)}o(Fhe,"IsRef");function Nhe(e){return li(e,"RegExp")&&Ao(e.$id)&&So(e.source)&&So(e.flags)&&_o(e.maxLength)&&_o(e.minLength)}o(Nhe,"IsRegExp");function Lhe(e){return li(e,"String")&&e.type==="string"&&Ao(e.$id)&&_o(e.minLength)&&_o(e.maxLength)&&e$e(e.pattern)&&t$e(e.format)}o(Lhe,"IsString");function Qhe(e){return li(e,"Symbol")&&e.type==="symbol"&&Ao(e.$id)}o(Qhe,"IsSymbol");function Mhe(e){return li(e,"TemplateLiteral")&&e.type==="string"&&So(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}o(Mhe,"IsTemplateLiteral");function Ohe(e){return li(e,"This")&&Ao(e.$id)&&So(e.$ref)}o(Ohe,"IsThis");function Uhe(e){return go(e)&&ps in e}o(Uhe,"IsTransform");function qhe(e){return li(e,"Tuple")&&e.type==="array"&&Ao(e.$id)&&pu(e.minItems)&&pu(e.maxItems)&&e.minItems===e.maxItems&&(sa(e.items)&&sa(e.additionalItems)&&e.minItems===0||oa(e.items)&&e.items.every(t=>Ko(t)))}o(qhe,"IsTuple");function Whe(e){return li(e,"Undefined")&&e.type==="undefined"&&Ao(e.$id)}o(Whe,"IsUndefined");function a$e(e){return xz(e)&&e.anyOf.every(t=>bhe(t)||vhe(t))}o(a$e,"IsUnionLiteral");function xz(e){return li(e,"Union")&&Ao(e.$id)&&go(e)&&oa(e.anyOf)&&e.anyOf.every(t=>Ko(t))}o(xz,"IsUnion");function Ghe(e){return li(e,"Uint8Array")&&e.type==="Uint8Array"&&Ao(e.$id)&&_o(e.minByteLength)&&_o(e.maxByteLength)}o(Ghe,"IsUint8Array");function Hhe(e){return li(e,"Unknown")&&Ao(e.$id)}o(Hhe,"IsUnknown");function Vhe(e){return li(e,"Unsafe")}o(Vhe,"IsUnsafe");function jhe(e){return li(e,"Void")&&e.type==="void"&&Ao(e.$id)}o(jhe,"IsVoid");function $he(e){return go(e)&&it in e&&So(e[it])&&!Zje.includes(e[it])}o($he,"IsKind");function Ko(e){return go(e)&&(che(e)||uhe(e)||fhe(e)||hhe(e)||mhe(e)||dhe(e)||phe(e)||ghe(e)||Ahe(e)||yhe(e)||Che(e)||Ehe(e)||xhe(e)||L7(e)||The(e)||whe(e)||She(e)||_he(e)||khe(e)||Bhe(e)||Rhe(e)||Dhe(e)||Phe(e)||Fhe(e)||Nhe(e)||Lhe(e)||Qhe(e)||Mhe(e)||Ohe(e)||qhe(e)||Whe(e)||xz(e)||Ghe(e)||Hhe(e)||Vhe(e)||jhe(e)||$he(e))}o(Ko,"IsSchema");d();var bz="(true|false)",Q7="(0|[1-9][0-9]*)",vz="(.*)",l$e="(?!.*)",cOt=`^${bz}$`,Yh=`^${Q7}$`,Kh=`^${vz}$`,zhe=`^${l$e}$`;d();var gm={};qg(gm,{Clear:()=>u$e,Delete:()=>f$e,Entries:()=>c$e,Get:()=>h$e,Has:()=>d$e,Set:()=>m$e});d();var bb=new Map;function c$e(){return new Map(bb)}o(c$e,"Entries");function u$e(){return bb.clear()}o(u$e,"Clear");function f$e(e){return bb.delete(e)}o(f$e,"Delete");function d$e(e){return bb.has(e)}o(d$e,"Has");function m$e(e,t){bb.set(e,t)}o(m$e,"Set");function h$e(e){return bb.get(e)}o(h$e,"Get");var L0={};qg(L0,{Clear:()=>g$e,Delete:()=>A$e,Entries:()=>p$e,Get:()=>E$e,Has:()=>y$e,Set:()=>C$e});d();var vb=new Map;function p$e(){return new Map(vb)}o(p$e,"Entries");function g$e(){return vb.clear()}o(g$e,"Clear");function A$e(e){return vb.delete(e)}o(A$e,"Delete");function y$e(e){return vb.has(e)}o(y$e,"Has");function C$e(e,t){vb.set(e,t)}o(C$e,"Set");function E$e(e){return vb.get(e)}o(E$e,"Get");d();function Yhe(e,t){return e.includes(t)}o(Yhe,"SetIncludes");function Khe(e){return[...new Set(e)]}o(Khe,"SetDistinct");function x$e(e,t){return e.filter(r=>t.includes(r))}o(x$e,"SetIntersect");function b$e(e,t){return e.reduce((r,n)=>x$e(r,n),t)}o(b$e,"SetIntersectManyResolve");function Jhe(e){return e.length===1?e[0]:e.length>1?b$e(e.slice(1),e[0]):[]}o(Jhe,"SetIntersectMany");function Xhe(e){let t=[];for(let r of e)t.push(...r);return t}o(Xhe,"SetUnionMany");d();function X2(e){return ct({[it]:"Any"},e)}o(X2,"Any");d();function Ib(e,t){return ct({[it]:"Array",type:"array",items:e},t)}o(Ib,"Array");d();function Zhe(e){return ct({[it]:"Argument",index:e})}o(Zhe,"Argument");d();function Tb(e,t){return ct({[it]:"AsyncIterator",type:"AsyncIterator",items:e},t)}o(Tb,"AsyncIterator");d();d();function Fo(e,t,r){return ct({[it]:"Computed",target:e,parameters:t},r)}o(Fo,"Computed");d();d();function v$e(e,t){let{[t]:r,...n}=e;return n}o(v$e,"DiscardKey");function Ds(e,t){return t.reduce((r,n)=>v$e(r,n),e)}o(Ds,"Discard");d();function Gn(e){return ct({[it]:"Never",not:{}},e)}o(Gn,"Never");d();d();function Li(e){return ct({[it]:"MappedResult",properties:e})}o(Li,"MappedResult");d();d();function wb(e,t,r){return ct({[it]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}o(wb,"Constructor");d();function Jh(e,t,r){return ct({[it]:"Function",type:"Function",parameters:e,returns:t},r)}o(Jh,"Function");d();d();d();d();function M7(e,t){return ct({[it]:"Union",anyOf:e},t)}o(M7,"UnionCreate");function I$e(e){return e.some(t=>Cc(t))}o(I$e,"IsUnionOptional");function epe(e){return e.map(t=>Cc(t)?T$e(t):t)}o(epe,"RemoveOptionalFromRest");function T$e(e){return Ds(e,[Ml])}o(T$e,"RemoveOptionalFromType");function w$e(e,t){return I$e(e)?c0(M7(epe(e),t)):M7(epe(e),t)}o(w$e,"ResolveUnion");function Xh(e,t){return e.length===1?ct(e[0],t):e.length===0?Gn(t):w$e(e,t)}o(Xh,"UnionEvaluated");d();function zi(e,t){return e.length===0?Gn(t):e.length===1?ct(e[0],t):M7(e,t)}o(zi,"Union");d();d();d();var hD=class extends fn{static{o(this,"TemplateLiteralParserError")}};function S$e(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}o(S$e,"Unescape");function Iz(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}o(Iz,"IsNonEscaped");function r1(e,t){return Iz(e,t,"(")}o(r1,"IsOpenParen");function O7(e,t){return Iz(e,t,")")}o(O7,"IsCloseParen");function tpe(e,t){return Iz(e,t,"|")}o(tpe,"IsSeparator");function _$e(e){if(!(r1(e,0)&&O7(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(r1(e,r)&&(t+=1),O7(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}o(_$e,"IsGroup");function k$e(e){return e.slice(1,e.length-1)}o(k$e,"InGroup");function B$e(e){let t=0;for(let r=0;r<e.length;r++)if(r1(e,r)&&(t+=1),O7(e,r)&&(t-=1),tpe(e,r)&&t===0)return!0;return!1}o(B$e,"IsPrecedenceOr");function R$e(e){for(let t=0;t<e.length;t++)if(r1(e,t))return!0;return!1}o(R$e,"IsPrecedenceAnd");function D$e(e){let[t,r]=[0,0],n=[];for(let s=0;s<e.length;s++)if(r1(e,s)&&(t+=1),O7(e,s)&&(t-=1),tpe(e,s)&&t===0){let a=e.slice(r,s);a.length>0&&n.push(Sb(a)),r=s+1}let i=e.slice(r);return i.length>0&&n.push(Sb(i)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}o(D$e,"Or");function P$e(e){function t(i,s){if(!r1(i,s))throw new hD("TemplateLiteralParser: Index must point to open parens");let a=0;for(let l=s;l<i.length;l++)if(r1(i,l)&&(a+=1),O7(i,l)&&(a-=1),a===0)return[s,l];throw new hD("TemplateLiteralParser: Unclosed group parens in expression")}o(t,"Group");function r(i,s){for(let a=s;a<i.length;a++)if(r1(i,a))return[s,a];return[s,i.length]}o(r,"Range");let n=[];for(let i=0;i<e.length;i++)if(r1(e,i)){let[s,a]=t(e,i),l=e.slice(s,a+1);n.push(Sb(l)),i=a}else{let[s,a]=r(e,i),l=e.slice(s,a);l.length>0&&n.push(Sb(l)),i=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}o(P$e,"And");function Sb(e){return _$e(e)?Sb(k$e(e)):B$e(e)?D$e(e):R$e(e)?P$e(e):{type:"const",const:S$e(e)}}o(Sb,"TemplateLiteralParse");function _b(e){return Sb(e.slice(1,e.length-1))}o(_b,"TemplateLiteralParseExact");var Tz=class extends fn{static{o(this,"TemplateLiteralFiniteError")}};function F$e(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}o(F$e,"IsNumberExpression");function N$e(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}o(N$e,"IsBooleanExpression");function L$e(e){return e.type==="const"&&e.const===".*"}o(L$e,"IsStringExpression");function b3(e){return F$e(e)||L$e(e)?!1:N$e(e)?!0:e.type==="and"?e.expr.every(t=>b3(t)):e.type==="or"?e.expr.every(t=>b3(t)):e.type==="const"?!0:(()=>{throw new Tz("Unknown expression type")})()}o(b3,"IsTemplateLiteralExpressionFinite");function pD(e){let t=_b(e.pattern);return b3(t)}o(pD,"IsTemplateLiteralFinite");d();var wz=class extends fn{static{o(this,"TemplateLiteralGenerateError")}};function*rpe(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of rpe(e.slice(1)))yield`${t}${r}`}o(rpe,"GenerateReduce");function*Q$e(e){return yield*rpe(e.expr.map(t=>[...U7(t)]))}o(Q$e,"GenerateAnd");function*M$e(e){for(let t of e.expr)yield*U7(t)}o(M$e,"GenerateOr");function*O$e(e){return yield e.const}o(O$e,"GenerateConst");function*U7(e){return e.type==="and"?yield*Q$e(e):e.type==="or"?yield*M$e(e):e.type==="const"?yield*O$e(e):(()=>{throw new wz("Unknown expression")})()}o(U7,"TemplateLiteralExpressionGenerate");function kb(e){let t=_b(e.pattern);return b3(t)?[...U7(t)]:[]}o(kb,"TemplateLiteralGenerate");d();d();function Ii(e,t){return ct({[it]:"Literal",const:e,type:typeof e},t)}o(Ii,"Literal");d();function gD(e){return ct({[it]:"Boolean",type:"boolean"},e)}o(gD,"Boolean");d();function Bb(e){return ct({[it]:"BigInt",type:"bigint"},e)}o(Bb,"BigInt");d();function Pf(e){return ct({[it]:"Number",type:"number"},e)}o(Pf,"Number");d();function Q0(e){return ct({[it]:"String",type:"string"},e)}o(Q0,"String");function*U$e(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield gD():t==="number"?yield Pf():t==="bigint"?yield Bb():t==="string"?yield Q0():yield(()=>{let r=t.split("|").map(n=>Ii(n.trim()));return r.length===0?Gn():r.length===1?r[0]:Xh(r)})()}o(U$e,"FromUnion");function*q$e(e){if(e[1]!=="{"){let t=Ii("$"),r=Sz(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=U$e(e.slice(2,t)),n=Sz(e.slice(t+1));return yield*[...r,...n]}yield Ii(e)}o(q$e,"FromTerminal");function*Sz(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=Ii(e.slice(0,t)),n=q$e(e.slice(t));return yield*[r,...n]}yield Ii(e)}o(Sz,"FromSyntax");function npe(e){return[...Sz(e)]}o(npe,"TemplateLiteralSyntax");d();var _z=class extends fn{static{o(this,"TemplateLiteralPatternError")}};function W$e(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(W$e,"Escape");function ipe(e,t){return Cu(e)?e.pattern.slice(1,e.pattern.length-1):Ri(e)?`(${e.anyOf.map(r=>ipe(r,t)).join("|")})`:pm(e)?`${t}${Q7}`:hm(e)?`${t}${Q7}`:y3(e)?`${t}${Q7}`:Zg(e)?`${t}${vz}`:Au(e)?`${t}${W$e(e.const.toString())}`:Xg(e)?`${t}${bz}`:(()=>{throw new _z(`Unexpected Kind '${e[it]}'`)})()}o(ipe,"Visit");function kz(e){return`^${e.map(t=>ipe(t,"")).join("")}$`}o(kz,"TemplateLiteralPattern");d();function v3(e){let r=kb(e).map(n=>Ii(n));return Xh(r)}o(v3,"TemplateLiteralToUnion");d();function AD(e,t){let r=So(e)?kz(npe(e)):kz(e);return ct({[it]:"TemplateLiteral",type:"string",pattern:r},t)}o(AD,"TemplateLiteral");function G$e(e){return kb(e).map(r=>r.toString())}o(G$e,"FromTemplateLiteral");function H$e(e){let t=[];for(let r of e)t.push(...Ec(r));return t}o(H$e,"FromUnion");function V$e(e){return[e.toString()]}o(V$e,"FromLiteral");function Ec(e){return[...new Set(Cu(e)?G$e(e):Ri(e)?H$e(e.anyOf):Au(e)?V$e(e.const):pm(e)?["[number]"]:hm(e)?["[number]"]:[])]}o(Ec,"IndexPropertyKeys");d();function j$e(e,t,r){let n={};for(let i of Object.getOwnPropertyNames(t))n[i]=Z2(e,Ec(t[i]),r);return n}o(j$e,"FromProperties");function $$e(e,t,r){return j$e(e,t.properties,r)}o($$e,"FromMappedResult");function ope(e,t,r){let n=$$e(e,t,r);return Li(n)}o(ope,"IndexFromMappedResult");function ape(e,t){return e.map(r=>lpe(r,t))}o(ape,"FromRest");function z$e(e){return e.filter(t=>!K2(t))}o(z$e,"FromIntersectRest");function Y$e(e,t){return yD(z$e(ape(e,t)))}o(Y$e,"FromIntersect");function K$e(e){return e.some(t=>K2(t))?[]:e}o(K$e,"FromUnionRest");function J$e(e,t){return Xh(K$e(ape(e,t)))}o(J$e,"FromUnion");function X$e(e,t){return t in e?e[t]:t==="[number]"?Xh(e):Gn()}o(X$e,"FromTuple");function Z$e(e,t){return t==="[number]"?e:Gn()}o(Z$e,"FromArray");function eze(e,t){return t in e?e[t]:Gn()}o(eze,"FromProperty");function lpe(e,t){return Rs(e)?Y$e(e.allOf,t):Ri(e)?J$e(e.anyOf,t):Eu(e)?X$e(e.items??[],t):um(e)?Z$e(e.items,t):aa(e)?eze(e.properties,t):Gn()}o(lpe,"IndexFromPropertyKey");function q7(e,t){return t.map(r=>lpe(e,r))}o(q7,"IndexFromPropertyKeys");function spe(e,t){return Xh(q7(e,t))}o(spe,"FromSchema");function Z2(e,t,r){if(qs(e)||qs(t)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!gs(e)||!gs(t))throw new fn(n);return Fo("Index",[e,t])}return Yo(t)?ope(e,t,r):yu(t)?cpe(e,t,r):ct(gs(t)?spe(e,Ec(t)):spe(e,t),r)}o(Z2,"Index");function tze(e,t,r){return{[t]:Z2(e,[t],$o(r))}}o(tze,"MappedIndexPropertyKey");function rze(e,t,r){return t.reduce((n,i)=>({...n,...tze(e,i,r)}),{})}o(rze,"MappedIndexPropertyKeys");function nze(e,t,r){return rze(e,t.keys,r)}o(nze,"MappedIndexProperties");function cpe(e,t,r){let n=nze(e,t,r);return Li(n)}o(cpe,"IndexFromMappedKey");d();function Rb(e,t){return ct({[it]:"Iterator",type:"Iterator",items:e},t)}o(Rb,"Iterator");d();function ize(e){let t=[];for(let r in e)Cc(e[r])||t.push(r);return t}o(ize,"RequiredKeys");function oze(e,t){let r=ize(e),n=r.length>0?{[it]:"Object",type:"object",properties:e,required:r}:{[it]:"Object",type:"object",properties:e};return ct(n,t)}o(oze,"_Object");var Yi=oze;d();function CD(e,t){return ct({[it]:"Promise",type:"Promise",item:e},t)}o(CD,"Promise");d();d();function sze(e){return ct(Ds(e,[cm]))}o(sze,"RemoveReadonly");function aze(e){return ct({...e,[cm]:"Readonly"})}o(aze,"AddReadonly");function lze(e,t){return t===!1?sze(e):aze(e)}o(lze,"ReadonlyWithFlag");function xc(e,t){let r=t??!0;return Yo(e)?upe(e,r):lze(e,r)}o(xc,"Readonly");function cze(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=xc(e[n],t);return r}o(cze,"FromProperties");function uze(e,t){return cze(e.properties,t)}o(uze,"FromMappedResult");function upe(e,t){let r=uze(e,t);return Li(r)}o(upe,"ReadonlyFromMappedResult");d();function Ff(e,t){return ct(e.length>0?{[it]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[it]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}o(Ff,"Tuple");function fpe(e,t){return e in t?Nf(e,t[e]):Li(t)}o(fpe,"FromMappedResult");function fze(e){return{[e]:Ii(e)}}o(fze,"MappedKeyToKnownMappedResultProperties");function dze(e){let t={};for(let r of e)t[r]=Ii(r);return t}o(dze,"MappedKeyToUnknownMappedResultProperties");function mze(e,t){return Yhe(t,e)?fze(e):dze(t)}o(mze,"MappedKeyToMappedResultProperties");function hze(e,t){let r=mze(e,t);return fpe(e,r)}o(hze,"FromMappedKey");function W7(e,t){return t.map(r=>Nf(e,r))}o(W7,"FromRest");function pze(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Nf(e,t[n]);return r}o(pze,"FromProperties");function Nf(e,t){let r={...t};return Cc(t)?c0(Nf(e,Ds(t,[Ml]))):xb(t)?xc(Nf(e,Ds(t,[cm]))):Yo(t)?fpe(e,t.properties):yu(t)?hze(e,t.keys):dm(t)?wb(W7(e,t.parameters),Nf(e,t.returns),r):mm(t)?Jh(W7(e,t.parameters),Nf(e,t.returns),r):A3(t)?Tb(Nf(e,t.items),r):C3(t)?Rb(Nf(e,t.items),r):Rs(t)?u0(W7(e,t.allOf),r):Ri(t)?zi(W7(e,t.anyOf),r):Eu(t)?Ff(W7(e,t.items??[]),r):aa(t)?Yi(pze(e,t.properties),r):um(t)?Ib(Nf(e,t.items),r):E3(t)?CD(Nf(e,t.item),r):t}o(Nf,"FromSchemaType");function gze(e,t){let r={};for(let n of e)r[n]=Nf(n,t);return r}o(gze,"MappedFunctionReturnType");function dpe(e,t,r){let n=gs(e)?Ec(e):e,i=t({[it]:"MappedKey",keys:n}),s=gze(n,i);return Yi(s,r)}o(dpe,"Mapped");d();function Aze(e){return ct(Ds(e,[Ml]))}o(Aze,"RemoveOptional");function yze(e){return ct({...e,[Ml]:"Optional"})}o(yze,"AddOptional");function Cze(e,t){return t===!1?Aze(e):yze(e)}o(Cze,"OptionalWithFlag");function c0(e,t){let r=t??!0;return Yo(e)?mpe(e,r):Cze(e,r)}o(c0,"Optional");function Eze(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=c0(e[n],t);return r}o(Eze,"FromProperties");function xze(e,t){return Eze(e.properties,t)}o(xze,"FromMappedResult");function mpe(e,t){let r=xze(e,t);return Li(r)}o(mpe,"OptionalFromMappedResult");d();function G7(e,t={}){let r=e.every(i=>aa(i)),n=gs(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return ct(t.unevaluatedProperties===!1||gs(t.unevaluatedProperties)||r?{...n,[it]:"Intersect",type:"object",allOf:e}:{...n,[it]:"Intersect",allOf:e},t)}o(G7,"IntersectCreate");function bze(e){return e.every(t=>Cc(t))}o(bze,"IsIntersectOptional");function vze(e){return Ds(e,[Ml])}o(vze,"RemoveOptionalFromType");function hpe(e){return e.map(t=>Cc(t)?vze(t):t)}o(hpe,"RemoveOptionalFromRest");function Ize(e,t){return bze(e)?c0(G7(hpe(e),t)):G7(hpe(e),t)}o(Ize,"ResolveIntersect");function yD(e,t={}){if(e.length===1)return ct(e[0],t);if(e.length===0)return Gn(t);if(e.some(r=>$i(r)))throw new Error("Cannot intersect transform types");return Ize(e,t)}o(yD,"IntersectEvaluated");d();function u0(e,t){if(e.length===1)return ct(e[0],t);if(e.length===0)return Gn(t);if(e.some(r=>$i(r)))throw new Error("Cannot intersect transform types");return G7(e,t)}o(u0,"Intersect");d();function Lf(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new fn("Ref: $ref must be a string");return ct({[it]:"Ref",$ref:t},r)}o(Lf,"Ref");function Tze(e,t){return Fo("Awaited",[Fo(e,t)])}o(Tze,"FromComputed");function wze(e){return Fo("Awaited",[Lf(e)])}o(wze,"FromRef");function Sze(e){return u0(ppe(e))}o(Sze,"FromIntersect");function _ze(e){return zi(ppe(e))}o(_ze,"FromUnion");function kze(e){return Db(e)}o(kze,"FromPromise");function ppe(e){return e.map(t=>Db(t))}o(ppe,"FromRest");function Db(e,t){return ct(fm(e)?Tze(e.target,e.parameters):Rs(e)?Sze(e.allOf):Ri(e)?_ze(e.anyOf):E3(e)?kze(e.item):qs(e)?wze(e.$ref):e,t)}o(Db,"Awaited");d();d();d();d();function gpe(e){let t=[];for(let r of e)t.push(bc(r));return t}o(gpe,"FromRest");function Bze(e){let t=gpe(e);return Xhe(t)}o(Bze,"FromIntersect");function Rze(e){let t=gpe(e);return Jhe(t)}o(Rze,"FromUnion");function Dze(e){return e.map((t,r)=>r.toString())}o(Dze,"FromTuple");function Pze(e){return["[number]"]}o(Pze,"FromArray");function Fze(e){return globalThis.Object.getOwnPropertyNames(e)}o(Fze,"FromProperties");function Nze(e){return Bz?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}o(Nze,"FromPatternProperties");function bc(e){return Rs(e)?Bze(e.allOf):Ri(e)?Rze(e.anyOf):Eu(e)?Dze(e.items??[]):um(e)?Pze(e.items):aa(e)?Fze(e.properties):x3(e)?Nze(e.patternProperties):[]}o(bc,"KeyOfPropertyKeys");var Bz=!1;function n1(e){Bz=!0;let t=bc(e);return Bz=!1,`^(${t.map(n=>`(${n})`).join("|")})$`}o(n1,"KeyOfPattern");function Lze(e,t){return Fo("KeyOf",[Fo(e,t)])}o(Lze,"FromComputed");function Qze(e){return Fo("KeyOf",[Lf(e)])}o(Qze,"FromRef");function Mze(e,t){let r=bc(e),n=Oze(r),i=Xh(n);return ct(i,t)}o(Mze,"KeyOfFromType");function Oze(e){return e.map(t=>t==="[number]"?Pf():Ii(t))}o(Oze,"KeyOfPropertyKeysToRest");function Pb(e,t){return fm(e)?Lze(e.target,e.parameters):qs(e)?Qze(e.$ref):Yo(e)?Ape(e,t):Mze(e,t)}o(Pb,"KeyOf");function Uze(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Pb(e[n],$o(t));return r}o(Uze,"FromProperties");function qze(e,t){return Uze(e.properties,t)}o(qze,"FromMappedResult");function Ape(e,t){let r=qze(e,t);return Li(r)}o(Ape,"KeyOfFromMappedResult");d();function ED(e){let t=bc(e),r=q7(e,t);return t.map((n,i)=>[t[i],r[i]])}o(ED,"KeyOfPropertyEntries");function Wze(e){let t=[];for(let r of e)t.push(...bc(r));return Khe(t)}o(Wze,"CompositeKeys");function Gze(e){return e.filter(t=>!K2(t))}o(Gze,"FilterNever");function Hze(e,t){let r=[];for(let n of e)r.push(...q7(n,[t]));return Gze(r)}o(Hze,"CompositeProperty");function Vze(e,t){let r={};for(let n of t)r[n]=yD(Hze(e,n));return r}o(Vze,"CompositeProperties");function ype(e,t){let r=Wze(e),n=Vze(e,r);return Yi(n,t)}o(ype,"Composite");d();d();function xD(e){return ct({[it]:"Date",type:"Date"},e)}o(xD,"Date");d();function bD(e){return ct({[it]:"Null",type:"null"},e)}o(bD,"Null");d();function vD(e){return ct({[it]:"Symbol",type:"symbol"},e)}o(vD,"Symbol");d();function ID(e){return ct({[it]:"Undefined",type:"undefined"},e)}o(ID,"Undefined");d();function TD(e){return ct({[it]:"Uint8Array",type:"Uint8Array"},e)}o(TD,"Uint8Array");d();function Am(e){return ct({[it]:"Unknown"},e)}o(Am,"Unknown");function jze(e){return e.map(t=>Rz(t,!1))}o(jze,"FromArray");function $ze(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=xc(Rz(e[r],!1));return t}o($ze,"FromProperties");function wD(e,t){return t===!0?e:xc(e)}o(wD,"ConditionalReadonly");function Rz(e,t){return cz(e)?wD(X2(),t):fz(e)?wD(X2(),t):oa(e)?xc(Ff(jze(e))):Yg(e)?TD():g3(e)?xD():go(e)?wD(Yi($ze(e)),t):uz(e)?wD(Jh([],Am()),t):sa(e)?ID():dz(e)?bD():mz(e)?vD():B7(e)?Bb():pu(e)?Ii(e):zg(e)?Ii(e):So(e)?Ii(e):Yi({})}o(Rz,"FromValue");function Cpe(e,t){return ct(Rz(e,!0),t)}o(Cpe,"Const");d();function Epe(e,t){return dm(e)?Ff(e.parameters,t):Gn(t)}o(Epe,"ConstructorParameters");d();function xpe(e,t){if(sa(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(s=>isNaN(s)).map(s=>e[s]),i=[...new Set(r)].map(s=>Ii(s));return zi(i,{...t,[Df]:"Enum"})}o(xpe,"Enum");d();d();d();var Pz=class extends fn{static{o(this,"ExtendsResolverError")}},ut;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(ut||(ut={}));function Qf(e){return e===ut.False?e:ut.True}o(Qf,"IntoBooleanResult");function Fb(e){throw new Pz(e)}o(Fb,"Throw");function Ia(e){return Qe.IsNever(e)||Qe.IsIntersect(e)||Qe.IsUnion(e)||Qe.IsUnknown(e)||Qe.IsAny(e)}o(Ia,"IsStructuralRight");function Ta(e,t){return Qe.IsNever(t)?_pe(e,t):Qe.IsIntersect(t)?SD(e,t):Qe.IsUnion(t)?Qz(e,t):Qe.IsUnknown(t)?Dpe(e,t):Qe.IsAny(t)?Lz(e,t):Fb("StructuralRight")}o(Ta,"StructuralRight");function Lz(e,t){return ut.True}o(Lz,"FromAnyRight");function zze(e,t){return Qe.IsIntersect(t)?SD(e,t):Qe.IsUnion(t)&&t.anyOf.some(r=>Qe.IsAny(r)||Qe.IsUnknown(r))?ut.True:Qe.IsUnion(t)?ut.Union:Qe.IsUnknown(t)||Qe.IsAny(t)?ut.True:ut.Union}o(zze,"FromAny");function Yze(e,t){return Qe.IsUnknown(e)?ut.False:Qe.IsAny(e)?ut.Union:Qe.IsNever(e)?ut.True:ut.False}o(Yze,"FromArrayRight");function Kze(e,t){return Qe.IsObject(t)&&_D(t)?ut.True:Ia(t)?Ta(e,t):Qe.IsArray(t)?Qf(yo(e.items,t.items)):ut.False}o(Kze,"FromArray");function Jze(e,t){return Ia(t)?Ta(e,t):Qe.IsAsyncIterator(t)?Qf(yo(e.items,t.items)):ut.False}o(Jze,"FromAsyncIterator");function Xze(e,t){return Ia(t)?Ta(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsRecord(t)?Mf(e,t):Qe.IsBigInt(t)?ut.True:ut.False}o(Xze,"FromBigInt");function wpe(e,t){return Qe.IsLiteralBoolean(e)||Qe.IsBoolean(e)?ut.True:ut.False}o(wpe,"FromBooleanRight");function Zze(e,t){return Ia(t)?Ta(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsRecord(t)?Mf(e,t):Qe.IsBoolean(t)?ut.True:ut.False}o(Zze,"FromBoolean");function eYe(e,t){return Ia(t)?Ta(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsConstructor(t)?e.parameters.length>t.parameters.length?ut.False:e.parameters.every((r,n)=>Qf(yo(t.parameters[n],r))===ut.True)?Qf(yo(e.returns,t.returns)):ut.False:ut.False}o(eYe,"FromConstructor");function tYe(e,t){return Ia(t)?Ta(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsRecord(t)?Mf(e,t):Qe.IsDate(t)?ut.True:ut.False}o(tYe,"FromDate");function rYe(e,t){return Ia(t)?Ta(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsFunction(t)?e.parameters.length>t.parameters.length?ut.False:e.parameters.every((r,n)=>Qf(yo(t.parameters[n],r))===ut.True)?Qf(yo(e.returns,t.returns)):ut.False:ut.False}o(rYe,"FromFunction");function Spe(e,t){return Qe.IsLiteral(e)&&l0.IsNumber(e.const)||Qe.IsNumber(e)||Qe.IsInteger(e)?ut.True:ut.False}o(Spe,"FromIntegerRight");function nYe(e,t){return Qe.IsInteger(t)||Qe.IsNumber(t)?ut.True:Ia(t)?Ta(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsRecord(t)?Mf(e,t):ut.False}o(nYe,"FromInteger");function SD(e,t){return t.allOf.every(r=>yo(e,r)===ut.True)?ut.True:ut.False}o(SD,"FromIntersectRight");function iYe(e,t){return e.allOf.some(r=>yo(r,t)===ut.True)?ut.True:ut.False}o(iYe,"FromIntersect");function oYe(e,t){return Ia(t)?Ta(e,t):Qe.IsIterator(t)?Qf(yo(e.items,t.items)):ut.False}o(oYe,"FromIterator");function sYe(e,t){return Qe.IsLiteral(t)&&t.const===e.const?ut.True:Ia(t)?Ta(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsRecord(t)?Mf(e,t):Qe.IsString(t)?Rpe(e,t):Qe.IsNumber(t)?kpe(e,t):Qe.IsInteger(t)?Spe(e,t):Qe.IsBoolean(t)?wpe(e,t):ut.False}o(sYe,"FromLiteral");function _pe(e,t){return ut.False}o(_pe,"FromNeverRight");function aYe(e,t){return ut.True}o(aYe,"FromNever");function bpe(e){let[t,r]=[e,0];for(;Qe.IsNot(t);)t=t.not,r+=1;return r%2===0?t:Am()}o(bpe,"UnwrapTNot");function lYe(e,t){return Qe.IsNot(e)?yo(bpe(e),t):Qe.IsNot(t)?yo(e,bpe(t)):Fb("Invalid fallthrough for Not")}o(lYe,"FromNot");function cYe(e,t){return Ia(t)?Ta(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsRecord(t)?Mf(e,t):Qe.IsNull(t)?ut.True:ut.False}o(cYe,"FromNull");function kpe(e,t){return Qe.IsLiteralNumber(e)||Qe.IsNumber(e)||Qe.IsInteger(e)?ut.True:ut.False}o(kpe,"FromNumberRight");function uYe(e,t){return Ia(t)?Ta(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsRecord(t)?Mf(e,t):Qe.IsInteger(t)||Qe.IsNumber(t)?ut.True:ut.False}o(uYe,"FromNumber");function vc(e,t){return Object.getOwnPropertyNames(e.properties).length===t}o(vc,"IsObjectPropertyCount");function vpe(e){return _D(e)}o(vpe,"IsObjectStringLike");function Ipe(e){return vc(e,0)||vc(e,1)&&"description"in e.properties&&Qe.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(Qe.IsString(e.properties.description.anyOf[0])&&Qe.IsUndefined(e.properties.description.anyOf[1])||Qe.IsString(e.properties.description.anyOf[1])&&Qe.IsUndefined(e.properties.description.anyOf[0]))}o(Ipe,"IsObjectSymbolLike");function Dz(e){return vc(e,0)}o(Dz,"IsObjectNumberLike");function Tpe(e){return vc(e,0)}o(Tpe,"IsObjectBooleanLike");function fYe(e){return vc(e,0)}o(fYe,"IsObjectBigIntLike");function dYe(e){return vc(e,0)}o(dYe,"IsObjectDateLike");function mYe(e){return _D(e)}o(mYe,"IsObjectUint8ArrayLike");function hYe(e){let t=Pf();return vc(e,0)||vc(e,1)&&"length"in e.properties&&Qf(yo(e.properties.length,t))===ut.True}o(hYe,"IsObjectFunctionLike");function pYe(e){return vc(e,0)}o(pYe,"IsObjectConstructorLike");function _D(e){let t=Pf();return vc(e,0)||vc(e,1)&&"length"in e.properties&&Qf(yo(e.properties.length,t))===ut.True}o(_D,"IsObjectArrayLike");function gYe(e){let t=Jh([X2()],X2());return vc(e,0)||vc(e,1)&&"then"in e.properties&&Qf(yo(e.properties.then,t))===ut.True}o(gYe,"IsObjectPromiseLike");function Bpe(e,t){return yo(e,t)===ut.False||Qe.IsOptional(e)&&!Qe.IsOptional(t)?ut.False:ut.True}o(Bpe,"Property");function f0(e,t){return Qe.IsUnknown(e)?ut.False:Qe.IsAny(e)?ut.Union:Qe.IsNever(e)||Qe.IsLiteralString(e)&&vpe(t)||Qe.IsLiteralNumber(e)&&Dz(t)||Qe.IsLiteralBoolean(e)&&Tpe(t)||Qe.IsSymbol(e)&&Ipe(t)||Qe.IsBigInt(e)&&fYe(t)||Qe.IsString(e)&&vpe(t)||Qe.IsSymbol(e)&&Ipe(t)||Qe.IsNumber(e)&&Dz(t)||Qe.IsInteger(e)&&Dz(t)||Qe.IsBoolean(e)&&Tpe(t)||Qe.IsUint8Array(e)&&mYe(t)||Qe.IsDate(e)&&dYe(t)||Qe.IsConstructor(e)&&pYe(t)||Qe.IsFunction(e)&&hYe(t)?ut.True:Qe.IsRecord(e)&&Qe.IsString(Fz(e))?t[Df]==="Record"?ut.True:ut.False:Qe.IsRecord(e)&&Qe.IsNumber(Fz(e))?vc(t,0)?ut.True:ut.False:ut.False}o(f0,"FromObjectRight");function AYe(e,t){return Ia(t)?Ta(e,t):Qe.IsRecord(t)?Mf(e,t):Qe.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!Qe.IsOptional(t.properties[r]))return ut.False;if(Qe.IsOptional(t.properties[r]))return ut.True;if(Bpe(e.properties[r],t.properties[r])===ut.False)return ut.False}return ut.True})():ut.False}o(AYe,"FromObject");function yYe(e,t){return Ia(t)?Ta(e,t):Qe.IsObject(t)&&gYe(t)?ut.True:Qe.IsPromise(t)?Qf(yo(e.item,t.item)):ut.False}o(yYe,"FromPromise");function Fz(e){return Yh in e.patternProperties?Pf():Kh in e.patternProperties?Q0():Fb("Unknown record key pattern")}o(Fz,"RecordKey");function Nz(e){return Yh in e.patternProperties?e.patternProperties[Yh]:Kh in e.patternProperties?e.patternProperties[Kh]:Fb("Unable to get record value schema")}o(Nz,"RecordValue");function Mf(e,t){let[r,n]=[Fz(t),Nz(t)];return Qe.IsLiteralString(e)&&Qe.IsNumber(r)&&Qf(yo(e,n))===ut.True?ut.True:Qe.IsUint8Array(e)&&Qe.IsNumber(r)||Qe.IsString(e)&&Qe.IsNumber(r)||Qe.IsArray(e)&&Qe.IsNumber(r)?yo(e,n):Qe.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if(Bpe(n,e.properties[i])===ut.False)return ut.False;return ut.True})():ut.False}o(Mf,"FromRecordRight");function CYe(e,t){return Ia(t)?Ta(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsRecord(t)?yo(Nz(e),Nz(t)):ut.False}o(CYe,"FromRecord");function EYe(e,t){let r=Qe.IsRegExp(e)?Q0():e,n=Qe.IsRegExp(t)?Q0():t;return yo(r,n)}o(EYe,"FromRegExp");function Rpe(e,t){return Qe.IsLiteral(e)&&l0.IsString(e.const)||Qe.IsString(e)?ut.True:ut.False}o(Rpe,"FromStringRight");function xYe(e,t){return Ia(t)?Ta(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsRecord(t)?Mf(e,t):Qe.IsString(t)?ut.True:ut.False}o(xYe,"FromString");function bYe(e,t){return Ia(t)?Ta(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsRecord(t)?Mf(e,t):Qe.IsSymbol(t)?ut.True:ut.False}o(bYe,"FromSymbol");function vYe(e,t){return Qe.IsTemplateLiteral(e)?yo(v3(e),t):Qe.IsTemplateLiteral(t)?yo(e,v3(t)):Fb("Invalid fallthrough for TemplateLiteral")}o(vYe,"FromTemplateLiteral");function IYe(e,t){return Qe.IsArray(t)&&e.items!==void 0&&e.items.every(r=>yo(r,t.items)===ut.True)}o(IYe,"IsArrayOfTuple");function TYe(e,t){return Qe.IsNever(e)?ut.True:Qe.IsUnknown(e)?ut.False:Qe.IsAny(e)?ut.Union:ut.False}o(TYe,"FromTupleRight");function wYe(e,t){return Ia(t)?Ta(e,t):Qe.IsObject(t)&&_D(t)||Qe.IsArray(t)&&IYe(e,t)?ut.True:Qe.IsTuple(t)?l0.IsUndefined(e.items)&&!l0.IsUndefined(t.items)||!l0.IsUndefined(e.items)&&l0.IsUndefined(t.items)?ut.False:l0.IsUndefined(e.items)&&!l0.IsUndefined(t.items)||e.items.every((r,n)=>yo(r,t.items[n])===ut.True)?ut.True:ut.False:ut.False}o(wYe,"FromTuple");function SYe(e,t){return Ia(t)?Ta(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsRecord(t)?Mf(e,t):Qe.IsUint8Array(t)?ut.True:ut.False}o(SYe,"FromUint8Array");function _Ye(e,t){return Ia(t)?Ta(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsRecord(t)?Mf(e,t):Qe.IsVoid(t)?RYe(e,t):Qe.IsUndefined(t)?ut.True:ut.False}o(_Ye,"FromUndefined");function Qz(e,t){return t.anyOf.some(r=>yo(e,r)===ut.True)?ut.True:ut.False}o(Qz,"FromUnionRight");function kYe(e,t){return e.anyOf.every(r=>yo(r,t)===ut.True)?ut.True:ut.False}o(kYe,"FromUnion");function Dpe(e,t){return ut.True}o(Dpe,"FromUnknownRight");function BYe(e,t){return Qe.IsNever(t)?_pe(e,t):Qe.IsIntersect(t)?SD(e,t):Qe.IsUnion(t)?Qz(e,t):Qe.IsAny(t)?Lz(e,t):Qe.IsString(t)?Rpe(e,t):Qe.IsNumber(t)?kpe(e,t):Qe.IsInteger(t)?Spe(e,t):Qe.IsBoolean(t)?wpe(e,t):Qe.IsArray(t)?Yze(e,t):Qe.IsTuple(t)?TYe(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsUnknown(t)?ut.True:ut.False}o(BYe,"FromUnknown");function RYe(e,t){return Qe.IsUndefined(e)||Qe.IsUndefined(e)?ut.True:ut.False}o(RYe,"FromVoidRight");function DYe(e,t){return Qe.IsIntersect(t)?SD(e,t):Qe.IsUnion(t)?Qz(e,t):Qe.IsUnknown(t)?Dpe(e,t):Qe.IsAny(t)?Lz(e,t):Qe.IsObject(t)?f0(e,t):Qe.IsVoid(t)?ut.True:ut.False}o(DYe,"FromVoid");function yo(e,t){return Qe.IsTemplateLiteral(e)||Qe.IsTemplateLiteral(t)?vYe(e,t):Qe.IsRegExp(e)||Qe.IsRegExp(t)?EYe(e,t):Qe.IsNot(e)||Qe.IsNot(t)?lYe(e,t):Qe.IsAny(e)?zze(e,t):Qe.IsArray(e)?Kze(e,t):Qe.IsBigInt(e)?Xze(e,t):Qe.IsBoolean(e)?Zze(e,t):Qe.IsAsyncIterator(e)?Jze(e,t):Qe.IsConstructor(e)?eYe(e,t):Qe.IsDate(e)?tYe(e,t):Qe.IsFunction(e)?rYe(e,t):Qe.IsInteger(e)?nYe(e,t):Qe.IsIntersect(e)?iYe(e,t):Qe.IsIterator(e)?oYe(e,t):Qe.IsLiteral(e)?sYe(e,t):Qe.IsNever(e)?aYe(e,t):Qe.IsNull(e)?cYe(e,t):Qe.IsNumber(e)?uYe(e,t):Qe.IsObject(e)?AYe(e,t):Qe.IsRecord(e)?CYe(e,t):Qe.IsString(e)?xYe(e,t):Qe.IsSymbol(e)?bYe(e,t):Qe.IsTuple(e)?wYe(e,t):Qe.IsPromise(e)?yYe(e,t):Qe.IsUint8Array(e)?SYe(e,t):Qe.IsUndefined(e)?_Ye(e,t):Qe.IsUnion(e)?kYe(e,t):Qe.IsUnknown(e)?BYe(e,t):Qe.IsVoid(e)?DYe(e,t):Fb(`Unknown left type operand '${e[it]}'`)}o(yo,"Visit");function e5(e,t){return yo(e,t)}o(e5,"ExtendsCheck");d();d();d();function PYe(e,t,r,n,i){let s={};for(let a of globalThis.Object.getOwnPropertyNames(e))s[a]=Nb(e[a],t,r,n,$o(i));return s}o(PYe,"FromProperties");function FYe(e,t,r,n,i){return PYe(e.properties,t,r,n,i)}o(FYe,"FromMappedResult");function Ppe(e,t,r,n,i){let s=FYe(e,t,r,n,i);return Li(s)}o(Ppe,"ExtendsFromMappedResult");function NYe(e,t,r,n){let i=e5(e,t);return i===ut.Union?zi([r,n]):i===ut.True?r:n}o(NYe,"ExtendsResolve");function Nb(e,t,r,n,i){return Yo(e)?Ppe(e,t,r,n,i):yu(e)?ct(Fpe(e,t,r,n,i)):ct(NYe(e,t,r,n),i)}o(Nb,"Extends");function LYe(e,t,r,n,i){return{[e]:Nb(Ii(e),t,r,n,$o(i))}}o(LYe,"FromPropertyKey");function QYe(e,t,r,n,i){return e.reduce((s,a)=>({...s,...LYe(a,t,r,n,i)}),{})}o(QYe,"FromPropertyKeys");function MYe(e,t,r,n,i){return QYe(e.keys,t,r,n,i)}o(MYe,"FromMappedKey");function Fpe(e,t,r,n,i){let s=MYe(e,t,r,n,i);return Li(s)}o(Fpe,"ExtendsFromMappedKey");d();function OYe(e){return e.allOf.every(t=>i1(t))}o(OYe,"Intersect");function UYe(e){return e.anyOf.some(t=>i1(t))}o(UYe,"Union");function qYe(e){return!i1(e.not)}o(qYe,"Not");function i1(e){return e[it]==="Intersect"?OYe(e):e[it]==="Union"?UYe(e):e[it]==="Not"?qYe(e):e[it]==="Undefined"}o(i1,"ExtendsUndefinedCheck");d();function Npe(e,t){return Lb(v3(e),t)}o(Npe,"ExcludeFromTemplateLiteral");function WYe(e,t){let r=e.filter(n=>e5(n,t)===ut.False);return r.length===1?r[0]:zi(r)}o(WYe,"ExcludeRest");function Lb(e,t,r={}){return Cu(e)?ct(Npe(e,t),r):Yo(e)?ct(Lpe(e,t),r):ct(Ri(e)?WYe(e.anyOf,t):e5(e,t)!==ut.False?Gn():e,r)}o(Lb,"Exclude");function GYe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Lb(e[n],t);return r}o(GYe,"FromProperties");function HYe(e,t){return GYe(e.properties,t)}o(HYe,"FromMappedResult");function Lpe(e,t){let r=HYe(e,t);return Li(r)}o(Lpe,"ExcludeFromMappedResult");d();d();d();function Qpe(e,t){return Qb(v3(e),t)}o(Qpe,"ExtractFromTemplateLiteral");function VYe(e,t){let r=e.filter(n=>e5(n,t)!==ut.False);return r.length===1?r[0]:zi(r)}o(VYe,"ExtractRest");function Qb(e,t,r){return Cu(e)?ct(Qpe(e,t),r):Yo(e)?ct(Mpe(e,t),r):ct(Ri(e)?VYe(e.anyOf,t):e5(e,t)!==ut.False?e:Gn(),r)}o(Qb,"Extract");function jYe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Qb(e[n],t);return r}o(jYe,"FromProperties");function $Ye(e,t){return jYe(e.properties,t)}o($Ye,"FromMappedResult");function Mpe(e,t){let r=$Ye(e,t);return Li(r)}o(Mpe,"ExtractFromMappedResult");d();function Ope(e,t){return dm(e)?ct(e.returns,t):Gn(t)}o(Ope,"InstanceType");d();d();function kD(e){return xc(c0(e))}o(kD,"ReadonlyOptional");d();function I3(e,t,r){return ct({[it]:"Record",type:"object",patternProperties:{[e]:t}},r)}o(I3,"RecordCreateFromPattern");function Mz(e,t,r){let n={};for(let i of e)n[i]=t;return Yi(n,{...r,[Df]:"Record"})}o(Mz,"RecordCreateFromKeys");function zYe(e,t,r){return pD(e)?Mz(Ec(e),t,r):I3(e.pattern,t,r)}o(zYe,"FromTemplateLiteralKey");function YYe(e,t,r){return Mz(Ec(zi(e)),t,r)}o(YYe,"FromUnionKey");function KYe(e,t,r){return Mz([e.toString()],t,r)}o(KYe,"FromLiteralKey");function JYe(e,t,r){return I3(e.source,t,r)}o(JYe,"FromRegExpKey");function XYe(e,t,r){let n=sa(e.pattern)?Kh:e.pattern;return I3(n,t,r)}o(XYe,"FromStringKey");function ZYe(e,t,r){return I3(Kh,t,r)}o(ZYe,"FromAnyKey");function eKe(e,t,r){return I3(zhe,t,r)}o(eKe,"FromNeverKey");function tKe(e,t,r){return Yi({true:t,false:t},r)}o(tKe,"FromBooleanKey");function rKe(e,t,r){return I3(Yh,t,r)}o(rKe,"FromIntegerKey");function nKe(e,t,r){return I3(Yh,t,r)}o(nKe,"FromNumberKey");function BD(e,t,r={}){return Ri(e)?YYe(e.anyOf,t,r):Cu(e)?zYe(e,t,r):Au(e)?KYe(e.const,t,r):Xg(e)?tKe(e,t,r):hm(e)?rKe(e,t,r):pm(e)?nKe(e,t,r):Az(e)?JYe(e,t,r):Zg(e)?XYe(e,t,r):pz(e)?ZYe(e,t,r):K2(e)?eKe(e,t,r):Gn(r)}o(BD,"Record");function RD(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}o(RD,"RecordPattern");function Upe(e){let t=RD(e);return t===Kh?Q0():t===Yh?Pf():Q0({pattern:t})}o(Upe,"RecordKey");function DD(e){return e.patternProperties[RD(e)]}o(DD,"RecordValue");function iKe(e,t){return t.parameters=H7(e,t.parameters),t.returns=ym(e,t.returns),t}o(iKe,"FromConstructor");function oKe(e,t){return t.parameters=H7(e,t.parameters),t.returns=ym(e,t.returns),t}o(oKe,"FromFunction");function sKe(e,t){return t.allOf=H7(e,t.allOf),t}o(sKe,"FromIntersect");function aKe(e,t){return t.anyOf=H7(e,t.anyOf),t}o(aKe,"FromUnion");function lKe(e,t){return sa(t.items)||(t.items=H7(e,t.items)),t}o(lKe,"FromTuple");function cKe(e,t){return t.items=ym(e,t.items),t}o(cKe,"FromArray");function uKe(e,t){return t.items=ym(e,t.items),t}o(uKe,"FromAsyncIterator");function fKe(e,t){return t.items=ym(e,t.items),t}o(fKe,"FromIterator");function dKe(e,t){return t.item=ym(e,t.item),t}o(dKe,"FromPromise");function mKe(e,t){let r=AKe(e,t.properties);return{...t,...Yi(r)}}o(mKe,"FromObject");function hKe(e,t){let r=ym(e,Upe(t)),n=ym(e,DD(t)),i=BD(r,n);return{...t,...i}}o(hKe,"FromRecord");function pKe(e,t){return t.index in e?e[t.index]:Am()}o(pKe,"FromArgument");function gKe(e,t){let r=xb(t),n=Cc(t),i=ym(e,t);return r&&n?kD(i):r&&!n?xc(i):!r&&n?c0(i):i}o(gKe,"FromProperty");function AKe(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:gKe(e,t[n])}),{})}o(AKe,"FromProperties");function H7(e,t){return t.map(r=>ym(e,r))}o(H7,"FromTypes");function ym(e,t){return dm(t)?iKe(e,t):mm(t)?oKe(e,t):Rs(t)?sKe(e,t):Ri(t)?aKe(e,t):Eu(t)?lKe(e,t):um(t)?cKe(e,t):A3(t)?uKe(e,t):C3(t)?fKe(e,t):E3(t)?dKe(e,t):aa(t)?mKe(e,t):x3(t)?hKe(e,t):gz(t)?pKe(e,t):t}o(ym,"FromType");function qpe(e,t){return ym(t,Cb(e))}o(qpe,"Instantiate");d();function Wpe(e){return ct({[it]:"Integer",type:"integer"},e)}o(Wpe,"Integer");d();d();d();function yKe(e,t,r){return{[e]:Cm(Ii(e),t,$o(r))}}o(yKe,"MappedIntrinsicPropertyKey");function CKe(e,t,r){return e.reduce((i,s)=>({...i,...yKe(s,t,r)}),{})}o(CKe,"MappedIntrinsicPropertyKeys");function EKe(e,t,r){return CKe(e.keys,t,r)}o(EKe,"MappedIntrinsicProperties");function Gpe(e,t,r){let n=EKe(e,t,r);return Li(n)}o(Gpe,"IntrinsicFromMappedKey");function xKe(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}o(xKe,"ApplyUncapitalize");function bKe(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}o(bKe,"ApplyCapitalize");function vKe(e){return e.toUpperCase()}o(vKe,"ApplyUppercase");function IKe(e){return e.toLowerCase()}o(IKe,"ApplyLowercase");function TKe(e,t,r){let n=_b(e.pattern);if(!b3(n))return{...e,pattern:Hpe(e.pattern,t)};let a=[...U7(n)].map(u=>Ii(u)),l=Vpe(a,t),c=zi(l);return AD([c],r)}o(TKe,"FromTemplateLiteral");function Hpe(e,t){return typeof e=="string"?t==="Uncapitalize"?xKe(e):t==="Capitalize"?bKe(e):t==="Uppercase"?vKe(e):t==="Lowercase"?IKe(e):e:e.toString()}o(Hpe,"FromLiteralValue");function Vpe(e,t){return e.map(r=>Cm(r,t))}o(Vpe,"FromRest");function Cm(e,t,r={}){return yu(e)?Gpe(e,t,r):Cu(e)?TKe(e,t,r):Ri(e)?zi(Vpe(e.anyOf,t),r):Au(e)?Ii(Hpe(e.const,t),r):ct(e,r)}o(Cm,"Intrinsic");function jpe(e,t={}){return Cm(e,"Capitalize",t)}o(jpe,"Capitalize");d();function $pe(e,t={}){return Cm(e,"Lowercase",t)}o($pe,"Lowercase");d();function zpe(e,t={}){return Cm(e,"Uncapitalize",t)}o(zpe,"Uncapitalize");d();function Ype(e,t={}){return Cm(e,"Uppercase",t)}o(Ype,"Uppercase");d();d();d();d();d();function wKe(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=t5(e[i],t,$o(r));return n}o(wKe,"FromProperties");function SKe(e,t,r){return wKe(e.properties,t,r)}o(SKe,"FromMappedResult");function Kpe(e,t,r){let n=SKe(e,t,r);return Li(n)}o(Kpe,"OmitFromMappedResult");function _Ke(e,t){return e.map(r=>Oz(r,t))}o(_Ke,"FromIntersect");function kKe(e,t){return e.map(r=>Oz(r,t))}o(kKe,"FromUnion");function BKe(e,t){let{[t]:r,...n}=e;return n}o(BKe,"FromProperty");function RKe(e,t){return t.reduce((r,n)=>BKe(r,n),e)}o(RKe,"FromProperties");function DKe(e,t){let r=Ds(e,[ps,"$id","required","properties"]),n=RKe(e.properties,t);return Yi(n,r)}o(DKe,"FromObject");function PKe(e){let t=e.reduce((r,n)=>dD(n)?[...r,Ii(n)]:r,[]);return zi(t)}o(PKe,"UnionFromPropertyKeys");function Oz(e,t){return Rs(e)?u0(_Ke(e.allOf,t)):Ri(e)?zi(kKe(e.anyOf,t)):aa(e)?DKe(e,t):Yi({})}o(Oz,"OmitResolve");function t5(e,t,r){let n=oa(t)?PKe(t):t,i=gs(t)?Ec(t):t,s=qs(e),a=qs(t);return Yo(e)?Kpe(e,i,r):yu(t)?Jpe(e,t,r):s&&a?Fo("Omit",[e,n],r):!s&&a?Fo("Omit",[e,n],r):s&&!a?Fo("Omit",[e,n],r):ct({...Oz(e,i),...r})}o(t5,"Omit");function FKe(e,t,r){return{[t]:t5(e,[t],$o(r))}}o(FKe,"FromPropertyKey");function NKe(e,t,r){return t.reduce((n,i)=>({...n,...FKe(e,i,r)}),{})}o(NKe,"FromPropertyKeys");function LKe(e,t,r){return NKe(e,t.keys,r)}o(LKe,"FromMappedKey");function Jpe(e,t,r){let n=LKe(e,t,r);return Li(n)}o(Jpe,"OmitFromMappedKey");d();d();d();function QKe(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=r5(e[i],t,$o(r));return n}o(QKe,"FromProperties");function MKe(e,t,r){return QKe(e.properties,t,r)}o(MKe,"FromMappedResult");function Xpe(e,t,r){let n=MKe(e,t,r);return Li(n)}o(Xpe,"PickFromMappedResult");function OKe(e,t){return e.map(r=>Uz(r,t))}o(OKe,"FromIntersect");function UKe(e,t){return e.map(r=>Uz(r,t))}o(UKe,"FromUnion");function qKe(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}o(qKe,"FromProperties");function WKe(e,t){let r=Ds(e,[ps,"$id","required","properties"]),n=qKe(e.properties,t);return Yi(n,r)}o(WKe,"FromObject");function GKe(e){let t=e.reduce((r,n)=>dD(n)?[...r,Ii(n)]:r,[]);return zi(t)}o(GKe,"UnionFromPropertyKeys");function Uz(e,t){return Rs(e)?u0(OKe(e.allOf,t)):Ri(e)?zi(UKe(e.anyOf,t)):aa(e)?WKe(e,t):Yi({})}o(Uz,"PickResolve");function r5(e,t,r){let n=oa(t)?GKe(t):t,i=gs(t)?Ec(t):t,s=qs(e),a=qs(t);return Yo(e)?Xpe(e,i,r):yu(t)?Zpe(e,t,r):s&&a?Fo("Pick",[e,n],r):!s&&a?Fo("Pick",[e,n],r):s&&!a?Fo("Pick",[e,n],r):ct({...Uz(e,i),...r})}o(r5,"Pick");function HKe(e,t,r){return{[t]:r5(e,[t],$o(r))}}o(HKe,"FromPropertyKey");function VKe(e,t,r){return t.reduce((n,i)=>({...n,...HKe(e,i,r)}),{})}o(VKe,"FromPropertyKeys");function jKe(e,t,r){return VKe(e,t.keys,r)}o(jKe,"FromMappedKey");function Zpe(e,t,r){let n=jKe(e,t,r);return Li(n)}o(Zpe,"PickFromMappedKey");d();d();function $Ke(e,t){return Fo("Partial",[Fo(e,t)])}o($Ke,"FromComputed");function zKe(e){return Fo("Partial",[Lf(e)])}o(zKe,"FromRef");function YKe(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=c0(e[r]);return t}o(YKe,"FromProperties");function KKe(e){let t=Ds(e,[ps,"$id","required","properties"]),r=YKe(e.properties);return Yi(r,t)}o(KKe,"FromObject");function ege(e){return e.map(t=>tge(t))}o(ege,"FromRest");function tge(e){return fm(e)?$Ke(e.target,e.parameters):qs(e)?zKe(e.$ref):Rs(e)?u0(ege(e.allOf)):Ri(e)?zi(ege(e.anyOf)):aa(e)?KKe(e):y3(e)||Xg(e)||hm(e)||Au(e)||P7(e)||pm(e)||Zg(e)||F7(e)||e1(e)?e:Yi({})}o(tge,"PartialResolve");function Mb(e,t){return Yo(e)?rge(e,t):ct({...tge(e),...t})}o(Mb,"Partial");function JKe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Mb(e[n],$o(t));return r}o(JKe,"FromProperties");function XKe(e,t){return JKe(e.properties,t)}o(XKe,"FromMappedResult");function rge(e,t){let r=XKe(e,t);return Li(r)}o(rge,"PartialFromMappedResult");d();d();function ZKe(e,t){return Fo("Required",[Fo(e,t)])}o(ZKe,"FromComputed");function eJe(e){return Fo("Required",[Lf(e)])}o(eJe,"FromRef");function tJe(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Ds(e[r],[Ml]);return t}o(tJe,"FromProperties");function rJe(e){let t=Ds(e,[ps,"$id","required","properties"]),r=tJe(e.properties);return Yi(r,t)}o(rJe,"FromObject");function nge(e){return e.map(t=>ige(t))}o(nge,"FromRest");function ige(e){return fm(e)?ZKe(e.target,e.parameters):qs(e)?eJe(e.$ref):Rs(e)?u0(nge(e.allOf)):Ri(e)?zi(nge(e.anyOf)):aa(e)?rJe(e):y3(e)||Xg(e)||hm(e)||Au(e)||P7(e)||pm(e)||Zg(e)||F7(e)||e1(e)?e:Yi({})}o(ige,"RequiredResolve");function Ob(e,t){return Yo(e)?oge(e,t):ct({...ige(e),...t})}o(Ob,"Required");function nJe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Ob(e[n],t);return r}o(nJe,"FromProperties");function iJe(e,t){return nJe(e.properties,t)}o(iJe,"FromMappedResult");function oge(e,t){let r=iJe(e,t);return Li(r)}o(oge,"RequiredFromMappedResult");function oJe(e,t){return t.map(r=>qs(r)?qz(e,r.$ref):xu(e,r))}o(oJe,"DereferenceParameters");function qz(e,t){return t in e?qs(e[t])?qz(e,e[t].$ref):xu(e,e[t]):Gn()}o(qz,"Dereference");function sJe(e){return Db(e[0])}o(sJe,"FromAwaited");function aJe(e){return Z2(e[0],e[1])}o(aJe,"FromIndex");function lJe(e){return Pb(e[0])}o(lJe,"FromKeyOf");function cJe(e){return Mb(e[0])}o(cJe,"FromPartial");function uJe(e){return t5(e[0],e[1])}o(uJe,"FromOmit");function fJe(e){return r5(e[0],e[1])}o(fJe,"FromPick");function dJe(e){return Ob(e[0])}o(dJe,"FromRequired");function mJe(e,t,r){let n=oJe(e,r);return t==="Awaited"?sJe(n):t==="Index"?aJe(n):t==="KeyOf"?lJe(n):t==="Partial"?cJe(n):t==="Omit"?uJe(n):t==="Pick"?fJe(n):t==="Required"?dJe(n):Gn()}o(mJe,"FromComputed");function hJe(e,t){return Ib(xu(e,t))}o(hJe,"FromArray");function pJe(e,t){return Tb(xu(e,t))}o(pJe,"FromAsyncIterator");function gJe(e,t,r){return wb(V7(e,t),xu(e,r))}o(gJe,"FromConstructor");function AJe(e,t,r){return Jh(V7(e,t),xu(e,r))}o(AJe,"FromFunction");function yJe(e,t){return u0(V7(e,t))}o(yJe,"FromIntersect");function CJe(e,t){return Rb(xu(e,t))}o(CJe,"FromIterator");function EJe(e,t){return Yi(globalThis.Object.keys(t).reduce((r,n)=>({...r,[n]:xu(e,t[n])}),{}))}o(EJe,"FromObject");function xJe(e,t){let[r,n]=[xu(e,DD(t)),RD(t)],i=Cb(t);return i.patternProperties[n]=r,i}o(xJe,"FromRecord");function bJe(e,t){return qs(t)?{...qz(e,t.$ref),[ps]:t[ps]}:t}o(bJe,"FromTransform");function vJe(e,t){return Ff(V7(e,t))}o(vJe,"FromTuple");function IJe(e,t){return zi(V7(e,t))}o(IJe,"FromUnion");function V7(e,t){return t.map(r=>xu(e,r))}o(V7,"FromTypes");function xu(e,t){return Cc(t)?ct(xu(e,Ds(t,[Ml])),t):xb(t)?ct(xu(e,Ds(t,[cm])),t):$i(t)?ct(bJe(e,t),t):um(t)?ct(hJe(e,t.items),t):A3(t)?ct(pJe(e,t.items),t):fm(t)?ct(mJe(e,t.target,t.parameters)):dm(t)?ct(gJe(e,t.parameters,t.returns),t):mm(t)?ct(AJe(e,t.parameters,t.returns),t):Rs(t)?ct(yJe(e,t.allOf),t):C3(t)?ct(CJe(e,t.items),t):aa(t)?ct(EJe(e,t.properties),t):x3(t)?ct(xJe(e,t)):Eu(t)?ct(vJe(e,t.items||[]),t):Ri(t)?ct(IJe(e,t.anyOf),t):t}o(xu,"FromType");function TJe(e,t){return t in e?xu(e,e[t]):Gn()}o(TJe,"ComputeType");function sge(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:TJe(e,r)}),{})}o(sge,"ComputeModuleProperties");var Wz=class{static{o(this,"TModule")}constructor(t){let r=sge(t),n=this.WithIdentifiers(r);this.$defs=n}Import(t,r){let n={...this.$defs,[t]:ct(this.$defs[t],r)};return ct({[it]:"Import",$defs:n,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:{...t[n],$id:n}}),{})}};function age(e){return new Wz(e)}o(age,"Module");d();function lge(e,t){return ct({[it]:"Not",not:e},t)}o(lge,"Not");d();function cge(e,t){return mm(e)?Ff(e.parameters,t):Gn()}o(cge,"Parameters");d();var wJe=0;function uge(e,t={}){sa(t.$id)&&(t.$id=`T${wJe++}`);let r=Cb(e({[it]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,ct({[Df]:"Recursive",...r},t)}o(uge,"Recursive");d();function fge(e,t){let r=So(e)?new globalThis.RegExp(e):e;return ct({[it]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}o(fge,"RegExp");d();function SJe(e){return Rs(e)?e.allOf:Ri(e)?e.anyOf:Eu(e)?e.items??[]:[]}o(SJe,"RestResolve");function dge(e){return SJe(e)}o(dge,"Rest");d();function mge(e,t){return mm(e)?ct(e.returns,t):Gn(t)}o(mge,"ReturnType");d();var Gz=class{static{o(this,"TransformDecodeBuilder")}constructor(t){this.schema=t}Decode(t){return new Hz(this.schema,t)}},Hz=class{static{o(this,"TransformEncodeBuilder")}constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let s={Encode:o(a=>r[ps].Encode(t(a)),"Encode"),Decode:o(a=>this.decode(r[ps].Decode(a)),"Decode")};return{...r,[ps]:s}}EncodeSchema(t,r){let n={Decode:this.decode,Encode:t};return{...r,[ps]:n}}Encode(t){return $i(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};function hge(e){return new Gz(e)}o(hge,"Transform");d();function pge(e={}){return ct({[it]:e[it]??"Unsafe"},e)}o(pge,"Unsafe");d();function gge(e){return ct({[it]:"Void",type:"void"},e)}o(gge,"Void");d();var Vz={};qg(Vz,{Any:()=>X2,Argument:()=>Zhe,Array:()=>Ib,AsyncIterator:()=>Tb,Awaited:()=>Db,BigInt:()=>Bb,Boolean:()=>gD,Capitalize:()=>jpe,Composite:()=>ype,Const:()=>Cpe,Constructor:()=>wb,ConstructorParameters:()=>Epe,Date:()=>xD,Enum:()=>xpe,Exclude:()=>Lb,Extends:()=>Nb,Extract:()=>Qb,Function:()=>Jh,Index:()=>Z2,InstanceType:()=>Ope,Instantiate:()=>qpe,Integer:()=>Wpe,Intersect:()=>u0,Iterator:()=>Rb,KeyOf:()=>Pb,Literal:()=>Ii,Lowercase:()=>$pe,Mapped:()=>dpe,Module:()=>age,Never:()=>Gn,Not:()=>lge,Null:()=>bD,Number:()=>Pf,Object:()=>Yi,Omit:()=>t5,Optional:()=>c0,Parameters:()=>cge,Partial:()=>Mb,Pick:()=>r5,Promise:()=>CD,Readonly:()=>xc,ReadonlyOptional:()=>kD,Record:()=>BD,Recursive:()=>uge,Ref:()=>Lf,RegExp:()=>fge,Required:()=>Ob,Rest:()=>dge,ReturnType:()=>mge,String:()=>Q0,Symbol:()=>vD,TemplateLiteral:()=>AD,Transform:()=>hge,Tuple:()=>Ff,Uint8Array:()=>TD,Uncapitalize:()=>zpe,Undefined:()=>ID,Union:()=>zi,Unknown:()=>Am,Unsafe:()=>pge,Uppercase:()=>Ype,Void:()=>gge});d();var I=Vz;var j2e=nt(ri()),$2e=I.Object({accessToken:I.Optional(I.String({minLength:1})),handle:I.Optional(I.String({minLength:1})),githubAppId:I.Optional(I.String({minLength:1}))}),CK;(r=>(r.method="github/didChangeAuth",r.type=new j2e.ProtocolNotificationType(r.method)))(CK||={});d();var z2e=nt(ri()),EK;(r=>(r.method="copilot/ipCodeCitation",r.type=new z2e.NotificationType(r.method)))(EK||={});d();var Y2e=nt(ri()),CP;(r=>(r.method="context/update",r.type=new Y2e.ProtocolRequestType(r.method)))(CP||={});d();d();var d5="Cancelled";d();var Jn=nt(ri()),tT=I.String(),RXe=I.Object({uri:tT}),B3=I.Intersect([RXe,I.Object({version:I.Optional(I.Integer())})]),Htr=I.Required(B3),qf=I.Object({line:I.Integer({minimum:0}),character:I.Integer({minimum:0})}),bm=I.Object({start:qf,end:qf}),xK=I.Union([I.Integer(),I.String()]),Vtr=I.Object({isCancellationRequested:I.Boolean(),onCancellationRequested:I.Any()});d();var K2e=nt(ri()),bK;(r=>(r.method="textDocument/didFocus",r.type=new K2e.ProtocolNotificationType(r.method)))(bK||={});d();var DXe=I.Object({fetch:I.Boolean(),ipCodeCitation:I.Boolean(),redirectedTelemetry:I.Boolean(),related:I.Boolean(),token:I.Boolean(),watchedFiles:I.Boolean()}),PXe=I.Object({name:I.String(),version:I.String(),readableName:I.Optional(I.String())}),J2e=I.Object({name:I.String(),version:I.Optional(I.String()),readableName:I.Optional(I.String())}),X2e=I.Object({editorInfo:I.Optional(J2e),editorPluginInfo:I.Optional(J2e),relatedPluginInfo:I.Optional(I.Array(PXe)),copilotIntegrationId:I.Optional(I.String()),copilotCapabilities:I.Optional(I.Partial(DXe)),githubAppId:I.Optional(I.String())});d();var rT=nt(ri());var EP=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(EP||{}),FXe=I.Enum(EP),NXe=I.Object({triggerKind:FXe,selectedCompletionInfo:I.Optional(I.Object({text:I.String(),range:bm,tooltipSignature:I.Optional(I.String())}))}),Z2e=I.Object({textDocument:B3,position:qf,formattingOptions:I.Optional(I.Object({tabSize:I.Optional(I.Union([I.Integer({minimum:1}),I.String()])),insertSpaces:I.Optional(I.Union([I.Boolean(),I.String()]))})),context:NXe,data:I.Optional(I.Unknown())}),vK;(r=>(r.method="textDocument/inlineCompletion",r.type=new rT.ProtocolRequestType(r.method)))(vK||={});var e5e=I.Object({command:I.Object({arguments:I.Tuple([I.String({minLength:1})])})}),t5e=I.Object({item:e5e}),IK;(r=>(r.method="textDocument/didShowCompletion",r.type=new rT.ProtocolNotificationType(r.method)))(IK||={});var r5e=I.Object({item:e5e,acceptedLength:I.Integer({minimum:1})}),TK;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new rT.ProtocolNotificationType(r.method)))(TK||={});d();var n5e=nt(ri()),wK;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new n5e.ProtocolRequestType(r.method)))(wK||={});d();var i5e=I.Object({textDocument:B3,position:qf});d();var xP=nt(ri());var o5e=I.Object({textDocument:B3,position:qf,partialResultToken:I.Optional(xK),workDoneToken:I.Optional(xK)}),bP;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new xP.ProtocolRequestType(n.method),n.partialResult=new xP.ProgressType))(bP||={});d();var s5e=nt(ri()),SK;(r=>(r.method="copilot/related",r.type=new s5e.ProtocolRequestType(r.method)))(SK||={});d();var a5e=nt(ri()),_K;(r=>(r.method="statusNotification",r.type=new a5e.ProtocolNotificationType(r.method)))(_K||={});var l5e=nt(require("events"));var vP="CopilotToken",rp=class{static{o(this,"CopilotTokenNotifier")}#e=new l5e.default;#t;constructor(){this.#e.setMaxListeners(20)}emitToken(t){if(t.token!==this.#t?.token)return this.#t=t,this.#e.emit(vP,t)}onToken(t){return this.#e.on(vP,t),Jn.Disposable.create(()=>this.#e.off(vP,t))}};function za(e,t){let r=Iu(e,t,`event.${vP}`);return e.get(rp).onToken(r)}o(za,"onCopilotToken");function nT(e,t){return e.get(rp).emitToken(t)}o(nT,"emitCopilotToken");var Ul=class{static{o(this,"TelemetryUserConfig")}constructor(t,r,n,i){this.trackingId=r,this.optedIn=n??!1,this.ftFlag=i??"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){za(t,r=>{let n=r.getTokenValue("rt")==="1",i=r.getTokenValue("ft")??"",s=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,c=r.getTokenValue("sku");s!==void 0&&(this.trackingId=s,this.organizationsList=a?.toString(),this.enterpriseList=l?.toString(),this.sku=c,this.optedIn=n,this.ftFlag=i)})}};var IP=nt(H2()),TP=nt(require("os"));var LXe=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function QXe(e){let t={type:e.name,value:e.message},r=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let n of r.slice(e.toString().length+1).split(/\n/).reverse()){let i=n.match(LXe),s={filename:"",function:""};i&&(s.function=i[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??s.function,s.filename=(i[4]?.trim()??s.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),i[5]&&i[5]!==":0"&&(s.lineno=i[5].slice(1)),i[6]&&i[5]!==":0"&&(s.colno=i[6].slice(1)),s.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(s.filename)),t.stacktrace.push(s)}}return t}o(QXe,"buildExceptionDetail");function kK(e,t){let r=e.get(an),n=r.getEditorInfo(),i=e.get(Ul),s={"#editor":n.devName??n.name,"#editor_version":np({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":np(r.getEditorPluginInfo()),"#session_id":e.get(hs).sessionId,"#machine_id":e.get(hs).machineId,"#architecture":TP.arch(),"#os_platform":TP.platform(),...t};return i.trackingId&&(s.user=i.trackingId,s["#tracking_id"]=i.trackingId),s}o(kK,"buildContext");function c5e(e,t){let r=e.get(oo),n=e.get(an).getEditorInfo(),i={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:kK(e,{"#node_version":process.versions.node}),sensitive_context:{}},s=[];i.exception_detail=[];let a=0,l=t;for(;l instanceof Error&&a<10;){let u=QXe(l);i.exception_detail.unshift(u),s.unshift([l,u]),a+=1,l=l.cause}let c=[];for(let[u,f]of s)if(f.stacktrace&&f.stacktrace.length>0){c.push(`${f.type}: ${u.code??""}`);let m=[...f.stacktrace].reverse();for(let h of m)if(h.filename?.startsWith("/github-copilot/"))return i;for(let h of m)if(h.in_app){c.push(`${h.filename?.replace(/^\.\//,"")}:${h.lineno}:${h.colno}`);break}c.push(`${m[0].filename?.replace(/^\.\//,"")}`)}else return i;return i.exception_detail.length>0&&(i.rollup_id=(0,IP.SHA256)(IP.enc.Utf16.parse(c.join(`
`))).toString()),i}o(c5e,"buildPayload");d();var ip=class{constructor(t=5){this.perTenMinutes=t;this.cache=new Bn}static{o(this,"ExceptionRateLimiter")}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};d();var Wf=class e{constructor(t){this.flags=t}static{o(this,"RuntimeMode")}static fromEnvironment(t,r=process.argv,n=process.env){return new e({debug:d5e(r,n),verboseLogging:OXe(r,n),testMode:t,simulation:MXe(n)})}};function vm(e){return e.get(Wf).flags.testMode}o(vm,"isRunningInTest");function ov(e){return vm(e)}o(ov,"shouldFailForDebugPurposes");function R3(e){return e.get(Wf).flags.debug}o(R3,"isDebugEnabled");function f5e(e){return e.get(Wf).flags.verboseLogging}o(f5e,"isVerboseLoggingEnabled");function d5e(e,t){return e.includes("--debug")||BK(t,"DEBUG")}o(d5e,"determineDebugFlag");function MXe(e){return BK(e,"SIMULATION")}o(MXe,"determineSimulationFlag");function SP(e){return e.get(Wf).flags.simulation}o(SP,"isRunningInSimulation");function OXe(e,t){return t.COPILOT_AGENT_VERBOSE==="1"||t.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||BK(t,"VERBOSE")||d5e(e,t)}o(OXe,"determineVerboseLoggingEnabled");function BK(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}o(BK,"determineEnvFlagEnabled");d();d();d();var p5e=require("os"),kP=require("path");d();var m5e;(()=>{"use strict";var e={975:W=>{function q(H){if(typeof H!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(H))}o(q,"e");function se(H,O){for(var j,J="",le=0,ee=-1,ae=0,ce=0;ce<=H.length;++ce){if(ce<H.length)j=H.charCodeAt(ce);else{if(j===47)break;j=47}if(j===47){if(!(ee===ce-1||ae===1))if(ee!==ce-1&&ae===2){if(J.length<2||le!==2||J.charCodeAt(J.length-1)!==46||J.charCodeAt(J.length-2)!==46){if(J.length>2){var Re=J.lastIndexOf("/");if(Re!==J.length-1){Re===-1?(J="",le=0):le=(J=J.slice(0,Re)).length-1-J.lastIndexOf("/"),ee=ce,ae=0;continue}}else if(J.length===2||J.length===1){J="",le=0,ee=ce,ae=0;continue}}O&&(J.length>0?J+="/..":J="..",le=2)}else J.length>0?J+="/"+H.slice(ee+1,ce):J=H.slice(ee+1,ce),le=ce-ee-1;ee=ce,ae=0}else j===46&&ae!==-1?++ae:ae=-1}return J}o(se,"r");var ne={resolve:o(function(){for(var H,O="",j=!1,J=arguments.length-1;J>=-1&&!j;J--){var le;J>=0?le=arguments[J]:(H===void 0&&(H=process.cwd()),le=H),q(le),le.length!==0&&(O=le+"/"+O,j=le.charCodeAt(0)===47)}return O=se(O,!j),j?O.length>0?"/"+O:"/":O.length>0?O:"."},"resolve"),normalize:o(function(H){if(q(H),H.length===0)return".";var O=H.charCodeAt(0)===47,j=H.charCodeAt(H.length-1)===47;return(H=se(H,!O)).length!==0||O||(H="."),H.length>0&&j&&(H+="/"),O?"/"+H:H},"normalize"),isAbsolute:o(function(H){return q(H),H.length>0&&H.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var H,O=0;O<arguments.length;++O){var j=arguments[O];q(j),j.length>0&&(H===void 0?H=j:H+="/"+j)}return H===void 0?".":ne.normalize(H)},"join"),relative:o(function(H,O){if(q(H),q(O),H===O||(H=ne.resolve(H))===(O=ne.resolve(O)))return"";for(var j=1;j<H.length&&H.charCodeAt(j)===47;++j);for(var J=H.length,le=J-j,ee=1;ee<O.length&&O.charCodeAt(ee)===47;++ee);for(var ae=O.length-ee,ce=le<ae?le:ae,Re=-1,ve=0;ve<=ce;++ve){if(ve===ce){if(ae>ce){if(O.charCodeAt(ee+ve)===47)return O.slice(ee+ve+1);if(ve===0)return O.slice(ee+ve)}else le>ce&&(H.charCodeAt(j+ve)===47?Re=ve:ve===0&&(Re=0));break}var Ue=H.charCodeAt(j+ve);if(Ue!==O.charCodeAt(ee+ve))break;Ue===47&&(Re=ve)}var ke="";for(ve=j+Re+1;ve<=J;++ve)ve!==J&&H.charCodeAt(ve)!==47||(ke.length===0?ke+="..":ke+="/..");return ke.length>0?ke+O.slice(ee+Re):(ee+=Re,O.charCodeAt(ee)===47&&++ee,O.slice(ee))},"relative"),_makeLong:o(function(H){return H},"_makeLong"),dirname:o(function(H){if(q(H),H.length===0)return".";for(var O=H.charCodeAt(0),j=O===47,J=-1,le=!0,ee=H.length-1;ee>=1;--ee)if((O=H.charCodeAt(ee))===47){if(!le){J=ee;break}}else le=!1;return J===-1?j?"/":".":j&&J===1?"//":H.slice(0,J)},"dirname"),basename:o(function(H,O){if(O!==void 0&&typeof O!="string")throw new TypeError('"ext" argument must be a string');q(H);var j,J=0,le=-1,ee=!0;if(O!==void 0&&O.length>0&&O.length<=H.length){if(O.length===H.length&&O===H)return"";var ae=O.length-1,ce=-1;for(j=H.length-1;j>=0;--j){var Re=H.charCodeAt(j);if(Re===47){if(!ee){J=j+1;break}}else ce===-1&&(ee=!1,ce=j+1),ae>=0&&(Re===O.charCodeAt(ae)?--ae==-1&&(le=j):(ae=-1,le=ce))}return J===le?le=ce:le===-1&&(le=H.length),H.slice(J,le)}for(j=H.length-1;j>=0;--j)if(H.charCodeAt(j)===47){if(!ee){J=j+1;break}}else le===-1&&(ee=!1,le=j+1);return le===-1?"":H.slice(J,le)},"basename"),extname:o(function(H){q(H);for(var O=-1,j=0,J=-1,le=!0,ee=0,ae=H.length-1;ae>=0;--ae){var ce=H.charCodeAt(ae);if(ce!==47)J===-1&&(le=!1,J=ae+1),ce===46?O===-1?O=ae:ee!==1&&(ee=1):O!==-1&&(ee=-1);else if(!le){j=ae+1;break}}return O===-1||J===-1||ee===0||ee===1&&O===J-1&&O===j+1?"":H.slice(O,J)},"extname"),format:o(function(H){if(H===null||typeof H!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof H);return function(O,j){var J=j.dir||j.root,le=j.base||(j.name||"")+(j.ext||"");return J?J===j.root?J+le:J+"/"+le:le}(0,H)},"format"),parse:o(function(H){q(H);var O={root:"",dir:"",base:"",ext:"",name:""};if(H.length===0)return O;var j,J=H.charCodeAt(0),le=J===47;le?(O.root="/",j=1):j=0;for(var ee=-1,ae=0,ce=-1,Re=!0,ve=H.length-1,Ue=0;ve>=j;--ve)if((J=H.charCodeAt(ve))!==47)ce===-1&&(Re=!1,ce=ve+1),J===46?ee===-1?ee=ve:Ue!==1&&(Ue=1):ee!==-1&&(Ue=-1);else if(!Re){ae=ve+1;break}return ee===-1||ce===-1||Ue===0||Ue===1&&ee===ce-1&&ee===ae+1?ce!==-1&&(O.base=O.name=ae===0&&le?H.slice(1,ce):H.slice(ae,ce)):(ae===0&&le?(O.name=H.slice(1,ee),O.base=H.slice(1,ce)):(O.name=H.slice(ae,ee),O.base=H.slice(ae,ce)),O.ext=H.slice(ee,ce)),ae>0?O.dir=H.slice(0,ae-1):le&&(O.dir="/"),O},"parse"),sep:"/",delimiter:":",win32:null,posix:null};ne.posix=ne,W.exports=ne}},t={};function r(W){var q=t[W];if(q!==void 0)return q.exports;var se=t[W]={exports:{}};return e[W](se,se.exports,r),se.exports}o(r,"r"),r.d=(W,q)=>{for(var se in q)r.o(q,se)&&!r.o(W,se)&&Object.defineProperty(W,se,{enumerable:!0,get:q[se]})},r.o=(W,q)=>Object.prototype.hasOwnProperty.call(W,q),r.r=W=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:o(()=>h,"URI"),Utils:o(()=>Z,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function c(W,q){if(!W.scheme&&q)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${W.authority}", path: "${W.path}", query: "${W.query}", fragment: "${W.fragment}"}`);if(W.scheme&&!s.test(W.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(W.path){if(W.authority){if(!a.test(W.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(W.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(c,"a");let u="",f="/",m=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class h{static{o(this,"l")}static isUri(q){return q instanceof h||!!q&&typeof q.authority=="string"&&typeof q.fragment=="string"&&typeof q.path=="string"&&typeof q.query=="string"&&typeof q.scheme=="string"&&typeof q.fsPath=="string"&&typeof q.with=="function"&&typeof q.toString=="function"}scheme;authority;path;query;fragment;constructor(q,se,ne,H,O,j=!1){typeof q=="object"?(this.scheme=q.scheme||u,this.authority=q.authority||u,this.path=q.path||u,this.query=q.query||u,this.fragment=q.fragment||u):(this.scheme=function(J,le){return J||le?J:"file"}(q,j),this.authority=se||u,this.path=function(J,le){switch(J){case"https":case"http":case"file":le?le[0]!==f&&(le=f+le):le=f}return le}(this.scheme,ne||u),this.query=H||u,this.fragment=O||u,c(this,j))}get fsPath(){return v(this,!1)}with(q){if(!q)return this;let{scheme:se,authority:ne,path:H,query:O,fragment:j}=q;return se===void 0?se=this.scheme:se===null&&(se=u),ne===void 0?ne=this.authority:ne===null&&(ne=u),H===void 0?H=this.path:H===null&&(H=u),O===void 0?O=this.query:O===null&&(O=u),j===void 0?j=this.fragment:j===null&&(j=u),se===this.scheme&&ne===this.authority&&H===this.path&&O===this.query&&j===this.fragment?this:new A(se,ne,H,O,j)}static parse(q,se=!1){let ne=m.exec(q);return ne?new A(ne[2]||u,F(ne[4]||u),F(ne[5]||u),F(ne[7]||u),F(ne[9]||u),se):new A(u,u,u,u,u)}static file(q){let se=u;if(i&&(q=q.replace(/\\/g,f)),q[0]===f&&q[1]===f){let ne=q.indexOf(f,2);ne===-1?(se=q.substring(2),q=f):(se=q.substring(2,ne),q=q.substring(ne)||f)}return new A("file",se,q,u,u)}static from(q){let se=new A(q.scheme,q.authority,q.path,q.query,q.fragment);return c(se,!0),se}toString(q=!1){return S(this,q)}toJSON(){return this}static revive(q){if(q){if(q instanceof h)return q;{let se=new A(q);return se._formatted=q.external,se._fsPath=q._sep===p?q.fsPath:null,se}}return q}}let p=i?1:void 0;class A extends h{static{o(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=v(this,!1)),this._fsPath}toString(q=!1){return q?S(this,!0):(this._formatted||(this._formatted=S(this,!1)),this._formatted)}toJSON(){let q={$mid:1};return this._fsPath&&(q.fsPath=this._fsPath,q._sep=p),this._formatted&&(q.external=this._formatted),this.path&&(q.path=this.path),this.scheme&&(q.scheme=this.scheme),this.authority&&(q.authority=this.authority),this.query&&(q.query=this.query),this.fragment&&(q.fragment=this.fragment),q}}let E={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function x(W,q,se){let ne,H=-1;for(let O=0;O<W.length;O++){let j=W.charCodeAt(O);if(j>=97&&j<=122||j>=65&&j<=90||j>=48&&j<=57||j===45||j===46||j===95||j===126||q&&j===47||se&&j===91||se&&j===93||se&&j===58)H!==-1&&(ne+=encodeURIComponent(W.substring(H,O)),H=-1),ne!==void 0&&(ne+=W.charAt(O));else{ne===void 0&&(ne=W.substr(0,O));let J=E[j];J!==void 0?(H!==-1&&(ne+=encodeURIComponent(W.substring(H,O)),H=-1),ne+=J):H===-1&&(H=O)}}return H!==-1&&(ne+=encodeURIComponent(W.substring(H))),ne!==void 0?ne:W}o(x,"m");function b(W){let q;for(let se=0;se<W.length;se++){let ne=W.charCodeAt(se);ne===35||ne===63?(q===void 0&&(q=W.substr(0,se)),q+=E[ne]):q!==void 0&&(q+=W[se])}return q!==void 0?q:W}o(b,"y");function v(W,q){let se;return se=W.authority&&W.path.length>1&&W.scheme==="file"?`//${W.authority}${W.path}`:W.path.charCodeAt(0)===47&&(W.path.charCodeAt(1)>=65&&W.path.charCodeAt(1)<=90||W.path.charCodeAt(1)>=97&&W.path.charCodeAt(1)<=122)&&W.path.charCodeAt(2)===58?q?W.path.substr(1):W.path[1].toLowerCase()+W.path.substr(2):W.path,i&&(se=se.replace(/\//g,"\\")),se}o(v,"v");function S(W,q){let se=q?b:x,ne="",{scheme:H,authority:O,path:j,query:J,fragment:le}=W;if(H&&(ne+=H,ne+=":"),(O||H==="file")&&(ne+=f,ne+=f),O){let ee=O.indexOf("@");if(ee!==-1){let ae=O.substr(0,ee);O=O.substr(ee+1),ee=ae.lastIndexOf(":"),ee===-1?ne+=se(ae,!1,!1):(ne+=se(ae.substr(0,ee),!1,!1),ne+=":",ne+=se(ae.substr(ee+1),!1,!0)),ne+="@"}O=O.toLowerCase(),ee=O.lastIndexOf(":"),ee===-1?ne+=se(O,!1,!0):(ne+=se(O.substr(0,ee),!1,!0),ne+=O.substr(ee))}if(j){if(j.length>=3&&j.charCodeAt(0)===47&&j.charCodeAt(2)===58){let ee=j.charCodeAt(1);ee>=65&&ee<=90&&(j=`/${String.fromCharCode(ee+32)}:${j.substr(3)}`)}else if(j.length>=2&&j.charCodeAt(1)===58){let ee=j.charCodeAt(0);ee>=65&&ee<=90&&(j=`${String.fromCharCode(ee+32)}:${j.substr(2)}`)}ne+=se(j,!0,!1)}return J&&(ne+="?",ne+=se(J,!1,!1)),le&&(ne+="#",ne+=q?le:x(le,!1,!1)),ne}o(S,"b");function B(W){try{return decodeURIComponent(W)}catch{return W.length>3?W.substr(0,3)+B(W.substr(3)):W}}o(B,"C");let P=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function F(W){return W.match(P)?W.replace(P,q=>B(q)):W}o(F,"w");var G=r(975);let re=G.posix||G,pe="/";var Z;(function(W){W.joinPath=function(q,...se){return q.with({path:re.join(q.path,...se)})},W.resolvePath=function(q,...se){let ne=q.path,H=!1;ne[0]!==pe&&(ne=pe+ne,H=!0);let O=re.resolve(ne,...se);return H&&O[0]===pe&&!q.authority&&(O=O.substring(1)),q.with({path:O})},W.dirname=function(q){if(q.path.length===0||q.path===pe)return q;let se=re.dirname(q.path);return se.length===1&&se.charCodeAt(0)===46&&(se=""),q.with({path:se})},W.basename=function(q){return re.basename(q.path)},W.extname=function(q){return re.extname(q.path)}})(Z||(Z={})),m5e=n})();var{URI:m5,Utils:_P}=m5e;function g5e(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+g5e(e.substring(3)):e}}o(g5e,"decodeURIComponentGraceful");var h5e=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function RK(e){return e.match(h5e)?e.replace(h5e,t=>g5e(t)):e}o(RK,"percentDecode");function M0(e){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(e))throw new Error("Path must not contain a scheme");if(!e)throw new Error("Path must not be empty");return m5.file(e).toString()}o(M0,"makeFsUri");function A5e(e,t){if(t&&/^[[:alnum:]]:\\/.test(e))throw new Error(`Could not parse <${e}>: Windows-style path`);try{let r=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return r?m5.parse(r[1]+r[2],t):m5.parse(e,t)}catch(r){throw new Error(`Could not parse <${e}>`,{cause:r})}}o(A5e,"parseUriWithExplicitStrictParameter");function h5(e){return A5e(typeof e=="string"?e:e.uri,!0)}o(h5,"parseUri");function Im(e){try{return A5e(e,!1).toString()}catch{return e}}o(Im,"normalizeUri");var y5e=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function BP(e){let t=h5(e);if(!y5e.has(t.scheme))throw new Error(`Unsupported scheme: ${t.scheme}`);if((0,p5e.platform)()==="win32"){let r=t.path;return t.authority?r=`//${t.authority}${t.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,kP.normalize)(r)}else{if(t.authority)throw new Error("Unsupported remote file path");return t.path}}o(BP,"fsPath");function ys(e){try{return BP(e)}catch{return}}o(ys,"getFsPath");function C5e(e){let t=ys(e);if(t)return m5.file(t).toString()}o(C5e,"getFsUri");function D3(e,...t){let r,n=ys(e);return n?r=M0((0,kP.resolve)(n,...t)):r=_P.resolvePath(h5(e),...t.map(i=>E5e(i))).toString(),typeof e=="string"?r:{uri:r}}o(D3,"resolveFilePath");function Xo(e,...t){let r=_P.joinPath(h5(e),...t.map(E5e)).toString();return typeof e=="string"?r:{uri:r}}o(Xo,"joinPath");function E5e(e){return UXe(e)?e.replaceAll("\\","/"):e}o(E5e,"pathToURIPath");function UXe(e){return/^[^/\\]*\\/.test(e)}o(UXe,"isWinPath");function Fs(e){return RK((typeof e=="string"?e:e.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}o(Fs,"basename");function Tu(e){let t=_P.dirname(h5(e)),r;return y5e.has(t.scheme)&&t.scheme!=="file"?r=t.with({scheme:"file",fragment:""}).toString():r=t.toString(),typeof e=="string"?r:{uri:r}}o(Tu,"dirname");var Rn=class{static{o(this,"NetworkConfiguration")}},RP={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function DK(e,t,r){if(r&&vm(e)){for(let n of r){let i=ci(e,n);if(i)return i}return}for(let n of t){let i=ci(e,n);if(i)return i}}o(DK,"urlConfigOverride");function qXe(e,t){switch(t){case"api":return DK(e,[qt.DebugOverrideCapiUrl,qt.DebugOverrideCapiUrlLegacy],[qt.DebugTestOverrideCapiUrl,qt.DebugTestOverrideCapiUrlLegacy]);case"proxy":return DK(e,[qt.DebugOverrideProxyUrl,qt.DebugOverrideProxyUrlLegacy],[qt.DebugTestOverrideProxyUrl,qt.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!DP(e))return DK(e,[qt.DebugSnippyOverrideUrl])}}o(qXe,"getEndpointOverrideUrl");function sv(e,t,r,...n){let i=qXe(e,r)??(t.envelope.endpoints??RP)[r];return Xo(i,...n)}o(sv,"getEndpointUrl");d();d();d();var P3=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(P3||{}),Sa=class{static{o(this,"LogTarget")}},op=class{static{o(this,"TelemetryLogSender")}},Cr=class{constructor(t){this.category=t}static{o(this,"Logger")}log(t,r,...n){t.get(Sa).logIt(t,r,this.category,...n)}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){t.get(op).sendError(t,this.category,...r),this.errorWithoutTelemetry(t,...r)}errorWithoutTelemetry(t,...r){this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.category}${n}`),t.get(op).sendException(t,r,n);let s=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(t,1,`${i}:`,s)}},ni=new Cr("default");var T5e=nt(b5e()),w5e=nt(I5e()),wu=nt(require("os"));var av=class{constructor(t,r,n,i=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=i;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:o((t,r)=>{if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=t.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(Fr).fetch(t.urlString,i).then(s=>s.text().then(a=>{r(s.status,Object.fromEntries(s.headers),a)})).catch(s=>{ni.errorWithoutTelemetry(this.ctx,"Error sending telemetry",s),r(0,{})})},"sendPOST")};this.client=new w5e.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(Rn).getTelemetryUrl(),extensionConfig:{[T5e.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=WXe(t),this.commonProperties=GXe(t),this.#e=za(t,this.onCopilotToken)}static{o(this,"AppInsightsReporter")}#e;sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};function WXe(e){let t={},r=e.get(hs);t["ai.session.id"]=r.sessionId;let n=e.get(Ul);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${wu.type()} ${wu.release()}`,t["ai.device.osArchitecture"]=wu.arch(),t["ai.device.osPlatform"]=wu.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(oo).getVersion(),t}o(WXe,"getTags");function GXe(e){let t={};t.common_os=wu.platform(),t.common_platformversion=wu.release(),t.common_arch=wu.arch(),t.common_cpu=Array.from(new Set(wu.cpus().map(n=>n.model))).join();let r=e.get(hs);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}o(GXe,"getCommonProperties");var S5e="7d7048df-6dd0-4048-bb23-b716c1461f8f",_5e="3fdd7f28-937a-48c8-9a21-ba337db23bd1",HXe="f0000000-0000-0000-0000-000000000000",Su=class{constructor(){this._initialized=!1}static{o(this,"TelemetryInitialization")}get isInitialized(){return this._initialized}get isEnabled(){return this._enabled??!1}async initialize(t,r,n){let i=t.get(Cs).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let s=t.get(Cs);s.setReporter(new av(t,r,S5e)),s.setRestrictedReporter(new av(t,r,_5e)),s.setFTReporter(new av(t,r,HXe,!0))}await i}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};function p5(e,t,r){return e.get(Su).initialize(e,t,r)}o(p5,"setupTelemetryReporters");d();var NP=nt(require("assert"));var a1=class{constructor(){this.events=[];this.errors=[]}static{o(this,"TelemetrySpy")}sendTelemetryEvent(t,r={},n={}){this.events.push({name:t,properties:r,measurements:n})}sendTelemetryErrorEvent(t,r={},n={},i){this.errors.push({name:t,properties:r,measurements:n,errorProps:i})}sendTelemetryException(t,r={},n={}){this.events.push({name:"error.exception",properties:{message:t.message,...r},measurements:n})}dispose(){return Promise.resolve()}get hasEvent(){return this.events.length>0}get hasError(){return this.errors.length>0}get exceptions(){return this.events.filter(t=>t.name==="error.exception")}get hasException(){return this.exceptions.length>0}get firstEvent(){return this.events[0]}get firstError(){return this.errors[0]}get firstException(){return this.exceptions[0]}eventsMatching(t){return this.events.filter(t)}eventByName(t){let r=this.events.filter(n=>n.name===t);return NP.strictEqual(r.length,1,`Expected exactly one event with name ${t}`),r[0]}errorsMatching(t){return this.errors.filter(t)}exceptionsMatching(t){return this.exceptions.filter(t)}assertHasProperty(t){NP.ok(this.eventsMatching(r=>r.name!=="ghostText.produced").every(r=>t(r.properties)))}};d();var Co=class{constructor(){this.promises=new Set}static{o(this,"PromiseQueue")}register(t){this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};var lv=class extends Co{static{o(this,"TestPromiseQueue")}async awaitPromises(){await Promise.all(this.promises)}};var iT=class{static{o(this,"FailingTelemetryReporter")}sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};d();var R5e=require("os"),D5e=nt(require("path"));function oT(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(oT,"redactPaths");var VXe=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),jXe=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function FK(e){if(VXe.has(e))return e;for(let t of jXe)if(t.test(e))return e;return oT(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(FK,"redactMessage");function LP(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(LP,"escapeForRegExp");var $Xe=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+LP((0,R5e.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function PK(e){return e.replace($Xe,"~")}o(PK,"redactHomeDir");var P5e="[\\\\/]?([^:)]*)(?=:\\d)",k5e=new RegExp(LP(D5e.sep),"g"),B5e=new RegExp(LP(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+P5e,"gi");function NK(e,t,r=!1,n=[]){let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let s=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let l of[e.toString(),`${e.name}: ${e.message}`])if(s?.startsWith(l+`
`)){a=s.slice(l.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let l of a)if(B5e.test(l))i.stack+=`
${oT(l.replace(B5e,(c,u)=>"./"+u.replace(k5e,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))i.stack+=`
${oT(l)}`;else{let c=!1;for(let{prefix:u,path:f}of n){let m=new RegExp(LP(f.replace(/[\\/]$/,""))+P5e,"gi");if(m.test(l)){i.stack+=`
${oT(l.replace(m,(h,p)=>u+p.replace(k5e,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${PK(l)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&s&&(i.stack=PK(s));return e.cause instanceof Error&&(i.cause=NK(e.cause,t,r,n)),i}o(NK,"cloneError");function F5e(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(F5e,"errorMessageWithoutPath");function N5e(e,t){return NK(e,o(function(n){return PK(F5e(n))},"prepareMessage"),!0,t)}o(N5e,"prepareErrorForRestrictedTelemetry");function LK(e,t,r=!1){return NK(e,o(function(i){if(r)return FK(F5e(i));let s="[redacted]";return typeof i.code=="string"&&(s=i.code+" "+s),typeof i.syscall=="string"?s=oT(i.syscall)+" "+s:i instanceof S7&&i.erroredSysCall&&(s=i.erroredSysCall+" "+s),s},"prepareMessage"),!1,t)}o(LK,"redactError");d();d();function zXe(e){switch(e.errorType){case tt.ArrayContains:return"Expected array to contain at least one matching value";case tt.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case tt.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case tt.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case tt.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case tt.ArrayUniqueItems:return"Expected array elements to be unique";case tt.Array:return"Expected array";case tt.AsyncIterator:return"Expected AsyncIterator";case tt.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case tt.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case tt.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case tt.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case tt.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case tt.BigInt:return"Expected bigint";case tt.Boolean:return"Expected boolean";case tt.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case tt.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case tt.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case tt.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case tt.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case tt.Date:return"Expected Date";case tt.Function:return"Expected function";case tt.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case tt.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case tt.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case tt.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case tt.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case tt.Integer:return"Expected integer";case tt.IntersectUnevaluatedProperties:return"Unexpected property";case tt.Intersect:return"Expected all values to match";case tt.Iterator:return"Expected Iterator";case tt.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case tt.Never:return"Never";case tt.Not:return"Value should not match";case tt.Null:return"Expected null";case tt.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case tt.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case tt.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case tt.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case tt.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case tt.Number:return"Expected number";case tt.Object:return"Expected object";case tt.ObjectAdditionalProperties:return"Unexpected property";case tt.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case tt.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case tt.ObjectRequiredProperty:return"Expected required property";case tt.Promise:return"Expected Promise";case tt.RegExp:return"Expected string to match regular expression";case tt.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case tt.StringFormat:return`Expected string to match '${e.schema.format}' format`;case tt.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case tt.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case tt.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case tt.String:return"Expected string";case tt.Symbol:return"Expected symbol";case tt.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case tt.Tuple:return"Expected tuple";case tt.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case tt.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case tt.Uint8Array:return"Expected Uint8Array";case tt.Undefined:return"Expected undefined";case tt.Union:return"Expected union value";case tt.Void:return"Expected void";case tt.Kind:return`Expected kind '${e.schema[it]}'`;default:return"Unknown error type"}}o(zXe,"DefaultErrorFunction");var YXe=zXe;function L5e(){return YXe}o(L5e,"GetErrorFunction");d();var QK=class extends fn{static{o(this,"TypeDereferenceError")}constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`),this.schema=t}};function KXe(e,t){let r=t.find(n=>n.$id===e.$ref);if(r===void 0)throw new QK(e);return Qi(r,t)}o(KXe,"Resolve");function ul(e,t){return!Bi(e.$id)||t.some(r=>r.$id===e.$id)||t.push(e),t}o(ul,"Pushref");function Qi(e,t){return e[it]==="This"||e[it]==="Ref"?KXe(e,t):e}o(Qi,"Deref");d();var MK=class extends fn{static{o(this,"ValueHashError")}constructor(t){super("Unable to hash value"),this.value=t}},_u;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(_u||(_u={}));var cv=BigInt("14695981039346656037"),[JXe,XXe]=[BigInt("1099511628211"),BigInt("18446744073709551616")],ZXe=Array.from({length:256}).map((e,t)=>BigInt(t)),Q5e=new Float64Array(1),M5e=new DataView(Q5e.buffer),O5e=new Uint8Array(Q5e.buffer);function*eZe(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(eZe,"NumberToBytes");function tZe(e){p0(_u.Array);for(let t of e)uv(t)}o(tZe,"ArrayType");function rZe(e){p0(_u.Boolean),p0(e?1:0)}o(rZe,"BooleanType");function nZe(e){p0(_u.BigInt),M5e.setBigInt64(0,e);for(let t of O5e)p0(t)}o(nZe,"BigIntType");function iZe(e){p0(_u.Date),uv(e.getTime())}o(iZe,"DateType");function oZe(e){p0(_u.Null)}o(oZe,"NullType");function sZe(e){p0(_u.Number),M5e.setFloat64(0,e);for(let t of O5e)p0(t)}o(sZe,"NumberType");function aZe(e){p0(_u.Object);for(let t of globalThis.Object.getOwnPropertyNames(e).sort())uv(t),uv(e[t])}o(aZe,"ObjectType");function lZe(e){p0(_u.String);for(let t=0;t<e.length;t++)for(let r of eZe(e.charCodeAt(t)))p0(r)}o(lZe,"StringType");function cZe(e){p0(_u.Symbol),uv(e.description)}o(cZe,"SymbolType");function uZe(e){p0(_u.Uint8Array);for(let t=0;t<e.length;t++)p0(e[t])}o(uZe,"Uint8ArrayType");function fZe(e){return p0(_u.Undefined)}o(fZe,"UndefinedType");function uv(e){if(un(e))return tZe(e);if(zh(e))return rZe(e);if(Ql(e))return nZe(e);if(N0(e))return iZe(e);if(Kg(e))return oZe(e);if(jr(e))return sZe(e);if(Kn(e))return aZe(e);if(Bi(e))return lZe(e);if(Jg(e))return cZe(e);if(Eb(e))return uZe(e);if(zo(e))return fZe(e);throw new MK(e)}o(uv,"Visit");function p0(e){cv=cv^ZXe[e],cv=cv*JXe%XXe}o(p0,"FNV1A64");function g5(e){return cv=BigInt("14695981039346656037"),uv(e),cv}o(g5,"Hash");d();var OK=class extends fn{static{o(this,"ValueCheckUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function dZe(e){return e[it]==="Any"||e[it]==="Unknown"}o(dZe,"IsAnyOrUnknown");function pi(e){return e!==void 0}o(pi,"IsDefined");function mZe(e,t,r){return!0}o(mZe,"FromAny");function hZe(e,t,r){return!0}o(hZe,"FromArgument");function pZe(e,t,r){if(!un(r)||pi(e.minItems)&&!(r.length>=e.minItems)||pi(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(s=>fl(e.items,t,s))||e.uniqueItems===!0&&!function(){let s=new Set;for(let a of r){let l=g5(a);if(s.has(l))return!1;s.add(l)}return!0}())return!1;if(!(pi(e.contains)||jr(e.minContains)||jr(e.maxContains)))return!0;let n=pi(e.contains)?e.contains:Gn(),i=r.reduce((s,a)=>fl(n,t,a)?s+1:s,0);return!(i===0||jr(e.minContains)&&i<e.minContains||jr(e.maxContains)&&i>e.maxContains)}o(pZe,"FromArray");function gZe(e,t,r){return lD(r)}o(gZe,"FromAsyncIterator");function AZe(e,t,r){return!(!Ql(r)||pi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||pi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||pi(e.maximum)&&!(r<=e.maximum)||pi(e.minimum)&&!(r>=e.minimum)||pi(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(AZe,"FromBigInt");function yZe(e,t,r){return zh(r)}o(yZe,"FromBoolean");function CZe(e,t,r){return fl(e.returns,t,r.prototype)}o(CZe,"FromConstructor");function EZe(e,t,r){return!(!N0(r)||pi(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||pi(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||pi(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||pi(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||pi(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(EZe,"FromDate");function xZe(e,t,r){return Y2(r)}o(xZe,"FromFunction");function bZe(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return fl(i,[...t,...n],r)}o(bZe,"FromImport");function vZe(e,t,r){return!(!fD(r)||pi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||pi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||pi(e.maximum)&&!(r<=e.maximum)||pi(e.minimum)&&!(r>=e.minimum)||pi(e.multipleOf)&&r%e.multipleOf!==0)}o(vZe,"FromInteger");function IZe(e,t,r){let n=e.allOf.every(i=>fl(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(n1(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&s}else if(gs(e.unevaluatedProperties)){let i=new RegExp(n1(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a)||fl(e.unevaluatedProperties,t,r[a]));return n&&s}else return n}o(IZe,"FromIntersect");function TZe(e,t,r){return cD(r)}o(TZe,"FromIterator");function wZe(e,t,r){return r===e.const}o(wZe,"FromLiteral");function SZe(e,t,r){return!1}o(SZe,"FromNever");function _Ze(e,t,r){return!fl(e.not,t,r)}o(_Ze,"FromNot");function kZe(e,t,r){return Kg(r)}o(kZe,"FromNull");function BZe(e,t,r){return!(!Po.IsNumberLike(r)||pi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||pi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||pi(e.minimum)&&!(r>=e.minimum)||pi(e.maximum)&&!(r<=e.maximum)||pi(e.multipleOf)&&r%e.multipleOf!==0)}o(BZe,"FromNumber");function RZe(e,t,r){if(!Po.IsObjectLike(r)||pi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||pi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let s=e.properties[i];if(e.required&&e.required.includes(i)){if(!fl(s,t,r[i])||(i1(s)||dZe(s))&&!(i in r))return!1}else if(Po.IsExactOptionalProperty(r,i)&&!fl(s,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(s=>n.includes(s))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(s=>n.includes(s)||fl(e.additionalProperties,t,r[s])):!0}o(RZe,"FromObject");function DZe(e,t,r){return uD(r)}o(DZe,"FromPromise");function PZe(e,t,r){if(!Po.IsRecordLike(r)||pi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||pi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],s=new RegExp(n),a=Object.entries(r).every(([u,f])=>s.test(u)?fl(i,t,f):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,f])=>s.test(u)?!0:fl(e.additionalProperties,t,f)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>s.test(u)):!0;return a&&l&&c}o(PZe,"FromRecord");function FZe(e,t,r){return fl(Qi(e,t),t,r)}o(FZe,"FromRef");function NZe(e,t,r){let n=new RegExp(e.source,e.flags);return pi(e.minLength)&&!(r.length>=e.minLength)||pi(e.maxLength)&&!(r.length<=e.maxLength)?!1:n.test(r)}o(NZe,"FromRegExp");function LZe(e,t,r){return!Bi(r)||pi(e.minLength)&&!(r.length>=e.minLength)||pi(e.maxLength)&&!(r.length<=e.maxLength)||pi(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:pi(e.format)?gm.Has(e.format)?gm.Get(e.format)(r):!1:!0}o(LZe,"FromString");function QZe(e,t,r){return Jg(r)}o(QZe,"FromSymbol");function MZe(e,t,r){return Bi(r)&&new RegExp(e.pattern).test(r)}o(MZe,"FromTemplateLiteral");function OZe(e,t,r){return fl(Qi(e,t),t,r)}o(OZe,"FromThis");function UZe(e,t,r){if(!un(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!fl(e.items[n],t,r[n]))return!1;return!0}o(UZe,"FromTuple");function qZe(e,t,r){return zo(r)}o(qZe,"FromUndefined");function WZe(e,t,r){return e.anyOf.some(n=>fl(n,t,r))}o(WZe,"FromUnion");function GZe(e,t,r){return!(!Eb(r)||pi(e.maxByteLength)&&!(r.length<=e.maxByteLength)||pi(e.minByteLength)&&!(r.length>=e.minByteLength))}o(GZe,"FromUint8Array");function HZe(e,t,r){return!0}o(HZe,"FromUnknown");function VZe(e,t,r){return Po.IsVoidLike(r)}o(VZe,"FromVoid");function jZe(e,t,r){return L0.Has(e[it])?L0.Get(e[it])(e,r):!1}o(jZe,"FromKind");function fl(e,t,r){let n=pi(e.$id)?ul(e,t):t,i=e;switch(i[it]){case"Any":return mZe(i,n,r);case"Argument":return hZe(i,n,r);case"Array":return pZe(i,n,r);case"AsyncIterator":return gZe(i,n,r);case"BigInt":return AZe(i,n,r);case"Boolean":return yZe(i,n,r);case"Constructor":return CZe(i,n,r);case"Date":return EZe(i,n,r);case"Function":return xZe(i,n,r);case"Import":return bZe(i,n,r);case"Integer":return vZe(i,n,r);case"Intersect":return IZe(i,n,r);case"Iterator":return TZe(i,n,r);case"Literal":return wZe(i,n,r);case"Never":return SZe(i,n,r);case"Not":return _Ze(i,n,r);case"Null":return kZe(i,n,r);case"Number":return BZe(i,n,r);case"Object":return RZe(i,n,r);case"Promise":return DZe(i,n,r);case"Record":return PZe(i,n,r);case"Ref":return FZe(i,n,r);case"RegExp":return NZe(i,n,r);case"String":return LZe(i,n,r);case"Symbol":return QZe(i,n,r);case"TemplateLiteral":return MZe(i,n,r);case"This":return OZe(i,n,r);case"Tuple":return UZe(i,n,r);case"Undefined":return qZe(i,n,r);case"Union":return WZe(i,n,r);case"Uint8Array":return GZe(i,n,r);case"Unknown":return HZe(i,n,r);case"Void":return VZe(i,n,r);default:if(!L0.Has(i[it]))throw new OK(i);return jZe(i,n,r)}}o(fl,"Visit");function ii(...e){return e.length===3?fl(e[0],e[1],e[2]):fl(e[0],[],e[1])}o(ii,"Check");var tt;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(tt||(tt={}));var UK=class extends fn{static{o(this,"ValueErrorsUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function l1(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(l1,"EscapeKey");function gi(e){return e!==void 0}o(gi,"IsDefined");var A5=class{static{o(this,"ValueErrorIterator")}constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};function gr(e,t,r,n,i=[]){return{type:e,schema:t,path:r,value:n,message:L5e()({errorType:e,path:r,schema:t,value:n,errors:i}),errors:i}}o(gr,"Create");function*$Ze(e,t,r,n){}o($Ze,"FromAny");function*zZe(e,t,r,n){}o(zZe,"FromArgument");function*YZe(e,t,r,n){if(!un(n))return yield gr(tt.Array,e,r,n);gi(e.minItems)&&!(n.length>=e.minItems)&&(yield gr(tt.ArrayMinItems,e,r,n)),gi(e.maxItems)&&!(n.length<=e.maxItems)&&(yield gr(tt.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*dl(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let c=g5(l);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield gr(tt.ArrayUniqueItems,e,r,n)),!(gi(e.contains)||gi(e.minContains)||gi(e.maxContains)))return;let i=gi(e.contains)?e.contains:Gn(),s=n.reduce((a,l,c)=>dl(i,t,`${r}${c}`,l).next().done===!0?a+1:a,0);s===0&&(yield gr(tt.ArrayContains,e,r,n)),jr(e.minContains)&&s<e.minContains&&(yield gr(tt.ArrayMinContains,e,r,n)),jr(e.maxContains)&&s>e.maxContains&&(yield gr(tt.ArrayMaxContains,e,r,n))}o(YZe,"FromArray");function*KZe(e,t,r,n){lD(n)||(yield gr(tt.AsyncIterator,e,r,n))}o(KZe,"FromAsyncIterator");function*JZe(e,t,r,n){if(!Ql(n))return yield gr(tt.BigInt,e,r,n);gi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(tt.BigIntExclusiveMaximum,e,r,n)),gi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(tt.BigIntExclusiveMinimum,e,r,n)),gi(e.maximum)&&!(n<=e.maximum)&&(yield gr(tt.BigIntMaximum,e,r,n)),gi(e.minimum)&&!(n>=e.minimum)&&(yield gr(tt.BigIntMinimum,e,r,n)),gi(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield gr(tt.BigIntMultipleOf,e,r,n))}o(JZe,"FromBigInt");function*XZe(e,t,r,n){zh(n)||(yield gr(tt.Boolean,e,r,n))}o(XZe,"FromBoolean");function*ZZe(e,t,r,n){yield*dl(e.returns,t,r,n.prototype)}o(ZZe,"FromConstructor");function*eet(e,t,r,n){if(!N0(n))return yield gr(tt.Date,e,r,n);gi(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield gr(tt.DateExclusiveMaximumTimestamp,e,r,n)),gi(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield gr(tt.DateExclusiveMinimumTimestamp,e,r,n)),gi(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield gr(tt.DateMaximumTimestamp,e,r,n)),gi(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield gr(tt.DateMinimumTimestamp,e,r,n)),gi(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield gr(tt.DateMultipleOfTimestamp,e,r,n))}o(eet,"FromDate");function*tet(e,t,r,n){Y2(n)||(yield gr(tt.Function,e,r,n))}o(tet,"FromFunction");function*ret(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref];yield*dl(s,[...t,...i],r,n)}o(ret,"FromImport");function*net(e,t,r,n){if(!fD(n))return yield gr(tt.Integer,e,r,n);gi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(tt.IntegerExclusiveMaximum,e,r,n)),gi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(tt.IntegerExclusiveMinimum,e,r,n)),gi(e.maximum)&&!(n<=e.maximum)&&(yield gr(tt.IntegerMaximum,e,r,n)),gi(e.minimum)&&!(n>=e.minimum)&&(yield gr(tt.IntegerMinimum,e,r,n)),gi(e.multipleOf)&&n%e.multipleOf!==0&&(yield gr(tt.IntegerMultipleOf,e,r,n))}o(net,"FromInteger");function*iet(e,t,r,n){let i=!1;for(let s of e.allOf)for(let a of dl(s,t,r,n))i=!0,yield a;if(i)return yield gr(tt.Intersect,e,r,n);if(e.unevaluatedProperties===!1){let s=new RegExp(n1(e));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield gr(tt.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(n1(e));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let l=dl(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}o(iet,"FromIntersect");function*oet(e,t,r,n){cD(n)||(yield gr(tt.Iterator,e,r,n))}o(oet,"FromIterator");function*set(e,t,r,n){n!==e.const&&(yield gr(tt.Literal,e,r,n))}o(set,"FromLiteral");function*aet(e,t,r,n){yield gr(tt.Never,e,r,n)}o(aet,"FromNever");function*cet(e,t,r,n){dl(e.not,t,r,n).next().done===!0&&(yield gr(tt.Not,e,r,n))}o(cet,"FromNot");function*uet(e,t,r,n){Kg(n)||(yield gr(tt.Null,e,r,n))}o(uet,"FromNull");function*fet(e,t,r,n){if(!Po.IsNumberLike(n))return yield gr(tt.Number,e,r,n);gi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(tt.NumberExclusiveMaximum,e,r,n)),gi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(tt.NumberExclusiveMinimum,e,r,n)),gi(e.maximum)&&!(n<=e.maximum)&&(yield gr(tt.NumberMaximum,e,r,n)),gi(e.minimum)&&!(n>=e.minimum)&&(yield gr(tt.NumberMinimum,e,r,n)),gi(e.multipleOf)&&n%e.multipleOf!==0&&(yield gr(tt.NumberMultipleOf,e,r,n))}o(fet,"FromNumber");function*det(e,t,r,n){if(!Po.IsObjectLike(n))return yield gr(tt.Object,e,r,n);gi(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield gr(tt.ObjectMinProperties,e,r,n)),gi(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield gr(tt.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],s=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield gr(tt.ObjectRequiredProperty,e.properties[l],`${r}/${l1(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)s.includes(l)||(yield gr(tt.ObjectAdditionalProperties,e,`${r}/${l1(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)s.includes(l)||(yield*dl(e.additionalProperties,t,`${r}/${l1(l)}`,n[l]));for(let l of s){let c=e.properties[l];e.required&&e.required.includes(l)?(yield*dl(c,t,`${r}/${l1(l)}`,n[l]),i1(e)&&!(l in n)&&(yield gr(tt.ObjectRequiredProperty,c,`${r}/${l1(l)}`,void 0))):Po.IsExactOptionalProperty(n,l)&&(yield*dl(c,t,`${r}/${l1(l)}`,n[l]))}}o(det,"FromObject");function*met(e,t,r,n){uD(n)||(yield gr(tt.Promise,e,r,n))}o(met,"FromPromise");function*het(e,t,r,n){if(!Po.IsRecordLike(n))return yield gr(tt.Object,e,r,n);gi(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield gr(tt.ObjectMinProperties,e,r,n)),gi(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield gr(tt.ObjectMaxProperties,e,r,n));let[i,s]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,c]of Object.entries(n))a.test(l)&&(yield*dl(s,t,`${r}/${l1(l)}`,c));if(typeof e.additionalProperties=="object")for(let[l,c]of Object.entries(n))a.test(l)||(yield*dl(e.additionalProperties,t,`${r}/${l1(l)}`,c));if(e.additionalProperties===!1){for(let[l,c]of Object.entries(n))if(!a.test(l))return yield gr(tt.ObjectAdditionalProperties,e,`${r}/${l1(l)}`,c)}}o(het,"FromRecord");function*pet(e,t,r,n){yield*dl(Qi(e,t),t,r,n)}o(pet,"FromRef");function*get(e,t,r,n){if(!Bi(n))return yield gr(tt.String,e,r,n);if(gi(e.minLength)&&!(n.length>=e.minLength)&&(yield gr(tt.StringMinLength,e,r,n)),gi(e.maxLength)&&!(n.length<=e.maxLength)&&(yield gr(tt.StringMaxLength,e,r,n)),!new RegExp(e.source,e.flags).test(n))return yield gr(tt.RegExp,e,r,n)}o(get,"FromRegExp");function*Aet(e,t,r,n){if(!Bi(n))return yield gr(tt.String,e,r,n);gi(e.minLength)&&!(n.length>=e.minLength)&&(yield gr(tt.StringMinLength,e,r,n)),gi(e.maxLength)&&!(n.length<=e.maxLength)&&(yield gr(tt.StringMaxLength,e,r,n)),Bi(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield gr(tt.StringPattern,e,r,n))),Bi(e.format)&&(gm.Has(e.format)?gm.Get(e.format)(n)||(yield gr(tt.StringFormat,e,r,n)):yield gr(tt.StringFormatUnknown,e,r,n))}o(Aet,"FromString");function*yet(e,t,r,n){Jg(n)||(yield gr(tt.Symbol,e,r,n))}o(yet,"FromSymbol");function*Cet(e,t,r,n){if(!Bi(n))return yield gr(tt.String,e,r,n);new RegExp(e.pattern).test(n)||(yield gr(tt.StringPattern,e,r,n))}o(Cet,"FromTemplateLiteral");function*Eet(e,t,r,n){yield*dl(Qi(e,t),t,r,n)}o(Eet,"FromThis");function*xet(e,t,r,n){if(!un(n))return yield gr(tt.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield gr(tt.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield gr(tt.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*dl(e.items[i],t,`${r}/${i}`,n[i])}o(xet,"FromTuple");function*bet(e,t,r,n){zo(n)||(yield gr(tt.Undefined,e,r,n))}o(bet,"FromUndefined");function*vet(e,t,r,n){if(ii(e,t,n))return;let i=e.anyOf.map(s=>new A5(dl(s,t,r,n)));yield gr(tt.Union,e,r,n,i)}o(vet,"FromUnion");function*Iet(e,t,r,n){if(!Eb(n))return yield gr(tt.Uint8Array,e,r,n);gi(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield gr(tt.Uint8ArrayMaxByteLength,e,r,n)),gi(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield gr(tt.Uint8ArrayMinByteLength,e,r,n))}o(Iet,"FromUint8Array");function*Tet(e,t,r,n){}o(Tet,"FromUnknown");function*wet(e,t,r,n){Po.IsVoidLike(n)||(yield gr(tt.Void,e,r,n))}o(wet,"FromVoid");function*_et(e,t,r,n){L0.Get(e[it])(e,n)||(yield gr(tt.Kind,e,r,n))}o(_et,"FromKind");function*dl(e,t,r,n){let i=gi(e.$id)?[...t,e]:t,s=e;switch(s[it]){case"Any":return yield*$Ze(s,i,r,n);case"Argument":return yield*zZe(s,i,r,n);case"Array":return yield*YZe(s,i,r,n);case"AsyncIterator":return yield*KZe(s,i,r,n);case"BigInt":return yield*JZe(s,i,r,n);case"Boolean":return yield*XZe(s,i,r,n);case"Constructor":return yield*ZZe(s,i,r,n);case"Date":return yield*eet(s,i,r,n);case"Function":return yield*tet(s,i,r,n);case"Import":return yield*ret(s,i,r,n);case"Integer":return yield*net(s,i,r,n);case"Intersect":return yield*iet(s,i,r,n);case"Iterator":return yield*oet(s,i,r,n);case"Literal":return yield*set(s,i,r,n);case"Never":return yield*aet(s,i,r,n);case"Not":return yield*cet(s,i,r,n);case"Null":return yield*uet(s,i,r,n);case"Number":return yield*fet(s,i,r,n);case"Object":return yield*det(s,i,r,n);case"Promise":return yield*met(s,i,r,n);case"Record":return yield*het(s,i,r,n);case"Ref":return yield*pet(s,i,r,n);case"RegExp":return yield*get(s,i,r,n);case"String":return yield*Aet(s,i,r,n);case"Symbol":return yield*yet(s,i,r,n);case"TemplateLiteral":return yield*Cet(s,i,r,n);case"This":return yield*Eet(s,i,r,n);case"Tuple":return yield*xet(s,i,r,n);case"Undefined":return yield*bet(s,i,r,n);case"Union":return yield*vet(s,i,r,n);case"Uint8Array":return yield*Iet(s,i,r,n);case"Unknown":return yield*Tet(s,i,r,n);case"Void":return yield*wet(s,i,r,n);default:if(!L0.Has(s[it]))throw new UK(e);return yield*_et(s,i,r,n)}}o(dl,"Visit");function sp(...e){let t=e.length===3?dl(e[0],e[1],"",e[2]):dl(e[0],[],"",e[1]);return new A5(t)}o(sp,"Errors");d();d();var fv=class extends fn{static{o(this,"TransformDecodeCheckError")}constructor(t,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},qK=class extends fn{static{o(this,"TransformDecodeError")}constructor(t,r,n,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=t,this.path=r,this.value=n,this.error=i}};function Es(e,t,r){try{return $i(e)?e[ps].Decode(r):r}catch(n){throw new qK(e,t,r,n)}}o(Es,"Default");function ket(e,t,r,n){return un(n)?Es(e,r,n.map((i,s)=>Tm(e.items,t,`${r}/${s}`,i))):Es(e,r,n)}o(ket,"FromArray");function Bet(e,t,r,n){if(!Kn(n)||gu(n))return Es(e,r,n);let i=ED(e),s=i.map(f=>f[0]),a={...n};for(let[f,m]of i)f in a&&(a[f]=Tm(m,t,`${r}/${f}`,a[f]));if(!$i(e.unevaluatedProperties))return Es(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.unevaluatedProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=Es(c,`${r}/${f}`,u[f]));return Es(e,r,u)}o(Bet,"FromIntersect");function Ret(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=Tm(s,[...t,...i],r,n);return Es(e,r,a)}o(Ret,"FromImport");function Det(e,t,r,n){return Es(e,r,Tm(e.not,t,r,n))}o(Det,"FromNot");function Pet(e,t,r,n){if(!Kn(n))return Es(e,r,n);let i=bc(e),s={...n};for(let u of i)cn(s,u)&&(zo(s[u])&&(!e1(e.properties[u])||Po.IsExactOptionalProperty(s,u))||(s[u]=Tm(e.properties[u],t,`${r}/${u}`,s[u])));if(!gs(e.additionalProperties))return Es(e,r,s);let a=Object.getOwnPropertyNames(s),l=e.additionalProperties,c={...s};for(let u of a)i.includes(u)||(c[u]=Es(l,`${r}/${u}`,c[u]));return Es(e,r,c)}o(Pet,"FromObject");function Fet(e,t,r,n){if(!Kn(n))return Es(e,r,n);let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=new RegExp(i),a={...n};for(let f of Object.getOwnPropertyNames(n))s.test(f)&&(a[f]=Tm(e.patternProperties[i],t,`${r}/${f}`,a[f]));if(!gs(e.additionalProperties))return Es(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.test(f)||(u[f]=Es(c,`${r}/${f}`,u[f]));return Es(e,r,u)}o(Fet,"FromRecord");function Net(e,t,r,n){let i=Qi(e,t);return Es(e,r,Tm(i,t,r,n))}o(Net,"FromRef");function Let(e,t,r,n){let i=Qi(e,t);return Es(e,r,Tm(i,t,r,n))}o(Let,"FromThis");function Qet(e,t,r,n){return un(n)&&un(e.items)?Es(e,r,e.items.map((i,s)=>Tm(i,t,`${r}/${s}`,n[s]))):Es(e,r,n)}o(Qet,"FromTuple");function Met(e,t,r,n){for(let i of e.anyOf){if(!ii(i,t,n))continue;let s=Tm(i,t,r,n);return Es(e,r,s)}return Es(e,r,n)}o(Met,"FromUnion");function Tm(e,t,r,n){let i=ul(e,t),s=e;switch(e[it]){case"Array":return ket(s,i,r,n);case"Import":return Ret(s,i,r,n);case"Intersect":return Bet(s,i,r,n);case"Not":return Det(s,i,r,n);case"Object":return Pet(s,i,r,n);case"Record":return Fet(s,i,r,n);case"Ref":return Net(s,i,r,n);case"Symbol":return Es(s,r,n);case"This":return Let(s,i,r,n);case"Tuple":return Qet(s,i,r,n);case"Union":return Met(s,i,r,n);default:return Es(s,r,n)}}o(Tm,"Visit");function dv(e,t,r){return Tm(e,t,"",r)}o(dv,"TransformDecode");d();var mv=class extends fn{static{o(this,"TransformEncodeCheckError")}constructor(t,r,n){super("The encoded value does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},WK=class extends fn{static{o(this,"TransformEncodeError")}constructor(t,r,n,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=t,this.path=r,this.value=n,this.error=i}};function ql(e,t,r){try{return $i(e)?e[ps].Encode(r):r}catch(n){throw new WK(e,t,r,n)}}o(ql,"Default");function Oet(e,t,r,n){let i=ql(e,r,n);return un(i)?i.map((s,a)=>wm(e.items,t,`${r}/${a}`,s)):i}o(Oet,"FromArray");function Uet(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=ql(e,r,n);return wm(s,[...t,...i],r,a)}o(Uet,"FromImport");function qet(e,t,r,n){let i=ql(e,r,n);if(!Kn(n)||gu(n))return i;let s=ED(e),a=s.map(m=>m[0]),l={...i};for(let[m,h]of s)m in l&&(l[m]=wm(h,t,`${r}/${m}`,l[m]));if(!$i(e.unevaluatedProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.unevaluatedProperties,f={...l};for(let m of c)a.includes(m)||(f[m]=ql(u,`${r}/${m}`,f[m]));return f}o(qet,"FromIntersect");function Wet(e,t,r,n){return ql(e.not,r,ql(e,r,n))}o(Wet,"FromNot");function Get(e,t,r,n){let i=ql(e,r,n);if(!Kn(i))return i;let s=bc(e),a={...i};for(let f of s)cn(a,f)&&(zo(a[f])&&(!e1(e.properties[f])||Po.IsExactOptionalProperty(a,f))||(a[f]=wm(e.properties[f],t,`${r}/${f}`,a[f])));if(!gs(e.additionalProperties))return a;let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=ql(c,`${r}/${f}`,u[f]));return u}o(Get,"FromObject");function Het(e,t,r,n){let i=ql(e,r,n);if(!Kn(n))return i;let s=Object.getOwnPropertyNames(e.patternProperties)[0],a=new RegExp(s),l={...i};for(let m of Object.getOwnPropertyNames(n))a.test(m)&&(l[m]=wm(e.patternProperties[s],t,`${r}/${m}`,l[m]));if(!gs(e.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.additionalProperties,f={...l};for(let m of c)a.test(m)||(f[m]=ql(u,`${r}/${m}`,f[m]));return f}o(Het,"FromRecord");function Vet(e,t,r,n){let i=Qi(e,t),s=wm(i,t,r,n);return ql(e,r,s)}o(Vet,"FromRef");function jet(e,t,r,n){let i=Qi(e,t),s=wm(i,t,r,n);return ql(e,r,s)}o(jet,"FromThis");function $et(e,t,r,n){let i=ql(e,r,n);return un(e.items)?e.items.map((s,a)=>wm(s,t,`${r}/${a}`,i[a])):[]}o($et,"FromTuple");function zet(e,t,r,n){for(let i of e.anyOf){if(!ii(i,t,n))continue;let s=wm(i,t,r,n);return ql(e,r,s)}for(let i of e.anyOf){let s=wm(i,t,r,n);if(ii(e,t,s))return ql(e,r,s)}return ql(e,r,n)}o(zet,"FromUnion");function wm(e,t,r,n){let i=ul(e,t),s=e;switch(e[it]){case"Array":return Oet(s,i,r,n);case"Import":return Uet(s,i,r,n);case"Intersect":return qet(s,i,r,n);case"Not":return Wet(s,i,r,n);case"Object":return Get(s,i,r,n);case"Record":return Het(s,i,r,n);case"Ref":return Vet(s,i,r,n);case"This":return jet(s,i,r,n);case"Tuple":return $et(s,i,r,n);case"Union":return zet(s,i,r,n);default:return ql(s,r,n)}}o(wm,"Visit");function hv(e,t,r){return wm(e,t,"",r)}o(hv,"TransformEncode");d();function Yet(e,t){return $i(e)||Ya(e.items,t)}o(Yet,"FromArray");function Ket(e,t){return $i(e)||Ya(e.items,t)}o(Ket,"FromAsyncIterator");function Jet(e,t){return $i(e)||Ya(e.returns,t)||e.parameters.some(r=>Ya(r,t))}o(Jet,"FromConstructor");function Xet(e,t){return $i(e)||Ya(e.returns,t)||e.parameters.some(r=>Ya(r,t))}o(Xet,"FromFunction");function Zet(e,t){return $i(e)||$i(e.unevaluatedProperties)||e.allOf.some(r=>Ya(r,t))}o(Zet,"FromIntersect");function ett(e,t){let r=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((i,s)=>[...i,e.$defs[s]],[]),n=e.$defs[e.$ref];return $i(e)||Ya(n,[...r,...t])}o(ett,"FromImport");function ttt(e,t){return $i(e)||Ya(e.items,t)}o(ttt,"FromIterator");function rtt(e,t){return $i(e)||Ya(e.not,t)}o(rtt,"FromNot");function ntt(e,t){return $i(e)||Object.values(e.properties).some(r=>Ya(r,t))||gs(e.additionalProperties)&&Ya(e.additionalProperties,t)}o(ntt,"FromObject");function itt(e,t){return $i(e)||Ya(e.item,t)}o(itt,"FromPromise");function ott(e,t){let r=Object.getOwnPropertyNames(e.patternProperties)[0],n=e.patternProperties[r];return $i(e)||Ya(n,t)||gs(e.additionalProperties)&&$i(e.additionalProperties)}o(ott,"FromRecord");function stt(e,t){return $i(e)?!0:Ya(Qi(e,t),t)}o(stt,"FromRef");function att(e,t){return $i(e)?!0:Ya(Qi(e,t),t)}o(att,"FromThis");function ltt(e,t){return $i(e)||!zo(e.items)&&e.items.some(r=>Ya(r,t))}o(ltt,"FromTuple");function ctt(e,t){return $i(e)||e.anyOf.some(r=>Ya(r,t))}o(ctt,"FromUnion");function Ya(e,t){let r=ul(e,t),n=e;if(e.$id&&GK.has(e.$id))return!1;switch(e.$id&&GK.add(e.$id),e[it]){case"Array":return Yet(n,r);case"AsyncIterator":return Ket(n,r);case"Constructor":return Jet(n,r);case"Function":return Xet(n,r);case"Import":return ett(n,r);case"Intersect":return Zet(n,r);case"Iterator":return ttt(n,r);case"Not":return rtt(n,r);case"Object":return ntt(n,r);case"Promise":return itt(n,r);case"Record":return ott(n,r);case"Ref":return stt(n,r);case"This":return att(n,r);case"Tuple":return ltt(n,r);case"Union":return ctt(n,r);default:return $i(e)}}o(Ya,"Visit");var GK=new Set;function c1(e,t){return GK.clear(),Ya(e,t)}o(c1,"HasTransform");var HK=class{static{o(this,"TypeCheck")}constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=c1(t,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(t){return sp(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new fv(this.schema,t,this.Errors(t).First());return this.hasTransform?dv(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?hv(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new mv(this.schema,t,this.Errors(t).First());return r}},u1;(function(e){function t(s){return s===36}o(t,"DollarSign"),e.DollarSign=t;function r(s){return s===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(s){return s>=65&&s<=90||s>=97&&s<=122}o(n,"IsAlpha"),e.IsAlpha=n;function i(s){return s>=48&&s<=57}o(i,"IsNumeric"),e.IsNumeric=i})(u1||(u1={}));var QP;(function(e){function t(s){return s.length===0?!1:u1.IsNumeric(s.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(s){if(t(s))return!1;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);if(!(u1.IsAlpha(l)||u1.IsNumeric(l)||u1.DollarSign(l)||u1.IsUnderscore(l)))return!1}return!0}o(r,"IsAccessor");function n(s){return s.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function i(s,a){return r(a)?`${s}.${a}`:`${s}['${n(a)}']`}o(i,"Encode"),e.Encode=i})(QP||(QP={}));var VK;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);u1.IsNumeric(s)||u1.IsAlpha(s)?n.push(r.charAt(i)):n.push(`_${s}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(VK||(VK={}));var jK;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(jK||(jK={}));var $K=class extends fn{static{o(this,"TypeCompilerUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}},MP=class extends fn{static{o(this,"TypeCompilerTypeGuardError")}constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}},F3;(function(e){function t(a,l,c){return Po.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${c} : true)`:`(${QP.Encode(a,l)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Po.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Po.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return Po.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){return Po.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(s,"IsVoidLike"),e.IsVoidLike=s})(F3||(F3={}));var Ns;(function(e){function t(ie){return ie[it]==="Any"||ie[it]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(ie,Pe,Ae){yield"true"}o(r,"FromAny");function*n(ie,Pe,Ae){yield"true"}o(n,"FromArgument");function*i(ie,Pe,Ae){yield`Array.isArray(${Ae})`;let[We,z]=[ke("value","any"),ke("acc","number")];jr(ie.maxItems)&&(yield`${Ae}.length <= ${ie.maxItems}`),jr(ie.minItems)&&(yield`${Ae}.length >= ${ie.minItems}`);let te=ce(ie.items,Pe,"value");if(yield`${Ae}.every((${We}) => ${te})`,Ko(ie.contains)||jr(ie.minContains)||jr(ie.maxContains)){let Ne=Ko(ie.contains)?ie.contains:Gn(),Se=ce(Ne,Pe,"value"),Ce=jr(ie.minContains)?[`(count >= ${ie.minContains})`]:[],Oe=jr(ie.maxContains)?[`(count <= ${ie.maxContains})`]:[],Ve=`const count = value.reduce((${z}, ${We}) => ${Se} ? acc + 1 : acc, 0)`,Ze=["(count > 0)",...Ce,...Oe].join(" && ");yield`((${We}) => { ${Ve}; return ${Ze}})(${Ae})`}ie.uniqueItems===!0&&(yield`((${We}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${Ae})`)}o(i,"FromArray");function*s(ie,Pe,Ae){yield`(typeof value === 'object' && Symbol.asyncIterator in ${Ae})`}o(s,"FromAsyncIterator");function*a(ie,Pe,Ae){yield`(typeof ${Ae} === 'bigint')`,Ql(ie.exclusiveMaximum)&&(yield`${Ae} < BigInt(${ie.exclusiveMaximum})`),Ql(ie.exclusiveMinimum)&&(yield`${Ae} > BigInt(${ie.exclusiveMinimum})`),Ql(ie.maximum)&&(yield`${Ae} <= BigInt(${ie.maximum})`),Ql(ie.minimum)&&(yield`${Ae} >= BigInt(${ie.minimum})`),Ql(ie.multipleOf)&&(yield`(${Ae} % BigInt(${ie.multipleOf})) === 0`)}o(a,"FromBigInt");function*l(ie,Pe,Ae){yield`(typeof ${Ae} === 'boolean')`}o(l,"FromBoolean");function*c(ie,Pe,Ae){yield*ee(ie.returns,Pe,`${Ae}.prototype`)}o(c,"FromConstructor");function*u(ie,Pe,Ae){yield`(${Ae} instanceof Date) && Number.isFinite(${Ae}.getTime())`,jr(ie.exclusiveMaximumTimestamp)&&(yield`${Ae}.getTime() < ${ie.exclusiveMaximumTimestamp}`),jr(ie.exclusiveMinimumTimestamp)&&(yield`${Ae}.getTime() > ${ie.exclusiveMinimumTimestamp}`),jr(ie.maximumTimestamp)&&(yield`${Ae}.getTime() <= ${ie.maximumTimestamp}`),jr(ie.minimumTimestamp)&&(yield`${Ae}.getTime() >= ${ie.minimumTimestamp}`),jr(ie.multipleOfTimestamp)&&(yield`(${Ae}.getTime() % ${ie.multipleOfTimestamp}) === 0`)}o(u,"FromDate");function*f(ie,Pe,Ae){yield`(typeof ${Ae} === 'function')`}o(f,"FromFunction");function*m(ie,Pe,Ae){let We=globalThis.Object.getOwnPropertyNames(ie.$defs).reduce((z,te)=>[...z,ie.$defs[te]],[]);yield*ee(Lf(ie.$ref),[...Pe,...We],Ae)}o(m,"FromImport");function*h(ie,Pe,Ae){yield`Number.isInteger(${Ae})`,jr(ie.exclusiveMaximum)&&(yield`${Ae} < ${ie.exclusiveMaximum}`),jr(ie.exclusiveMinimum)&&(yield`${Ae} > ${ie.exclusiveMinimum}`),jr(ie.maximum)&&(yield`${Ae} <= ${ie.maximum}`),jr(ie.minimum)&&(yield`${Ae} >= ${ie.minimum}`),jr(ie.multipleOf)&&(yield`(${Ae} % ${ie.multipleOf}) === 0`)}o(h,"FromInteger");function*p(ie,Pe,Ae){let We=ie.allOf.map(z=>ce(z,Pe,Ae)).join(" && ");if(ie.unevaluatedProperties===!1){let z=ve(`${new RegExp(n1(ie))};`),te=`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.test(key))`;yield`(${We} && ${te})`}else if(Ko(ie.unevaluatedProperties)){let z=ve(`${new RegExp(n1(ie))};`),te=`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.test(key) || ${ce(ie.unevaluatedProperties,Pe,`${Ae}[key]`)})`;yield`(${We} && ${te})`}else yield`(${We})`}o(p,"FromIntersect");function*A(ie,Pe,Ae){yield`(typeof value === 'object' && Symbol.iterator in ${Ae})`}o(A,"FromIterator");function*E(ie,Pe,Ae){typeof ie.const=="number"||typeof ie.const=="boolean"?yield`(${Ae} === ${ie.const})`:yield`(${Ae} === '${jK.Escape(ie.const)}')`}o(E,"FromLiteral");function*x(ie,Pe,Ae){yield"false"}o(x,"FromNever");function*b(ie,Pe,Ae){yield`(!${ce(ie.not,Pe,Ae)})`}o(b,"FromNot");function*v(ie,Pe,Ae){yield`(${Ae} === null)`}o(v,"FromNull");function*S(ie,Pe,Ae){yield F3.IsNumberLike(Ae),jr(ie.exclusiveMaximum)&&(yield`${Ae} < ${ie.exclusiveMaximum}`),jr(ie.exclusiveMinimum)&&(yield`${Ae} > ${ie.exclusiveMinimum}`),jr(ie.maximum)&&(yield`${Ae} <= ${ie.maximum}`),jr(ie.minimum)&&(yield`${Ae} >= ${ie.minimum}`),jr(ie.multipleOf)&&(yield`(${Ae} % ${ie.multipleOf}) === 0`)}o(S,"FromNumber");function*B(ie,Pe,Ae){yield F3.IsObjectLike(Ae),jr(ie.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${ie.minProperties}`),jr(ie.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${ie.maxProperties}`);let We=Object.getOwnPropertyNames(ie.properties);for(let z of We){let te=QP.Encode(Ae,z),Ne=ie.properties[z];if(ie.required&&ie.required.includes(z))yield*ee(Ne,Pe,te),(i1(Ne)||t(Ne))&&(yield`('${z}' in ${Ae})`);else{let Se=ce(Ne,Pe,te);yield F3.IsExactOptionalProperty(Ae,z,Se)}}if(ie.additionalProperties===!1)if(ie.required&&ie.required.length===We.length)yield`Object.getOwnPropertyNames(${Ae}).length === ${We.length}`;else{let z=`[${We.map(te=>`'${te}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${Ae}).every(key => ${z}.includes(key))`}if(typeof ie.additionalProperties=="object"){let z=ce(ie.additionalProperties,Pe,`${Ae}[key]`),te=`[${We.map(Ne=>`'${Ne}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${Ae}).every(key => ${te}.includes(key) || ${z}))`}}o(B,"FromObject");function*P(ie,Pe,Ae){yield`${Ae} instanceof Promise`}o(P,"FromPromise");function*F(ie,Pe,Ae){yield F3.IsRecordLike(Ae),jr(ie.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${ie.minProperties}`),jr(ie.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${ie.maxProperties}`);let[We,z]=Object.entries(ie.patternProperties)[0],te=ve(`${new RegExp(We)}`),Ne=ce(z,Pe,"value"),Se=Ko(ie.additionalProperties)?ce(ie.additionalProperties,Pe,Ae):ie.additionalProperties===!1?"false":"true",Ce=`(${te}.test(key) ? ${Ne} : ${Se})`;yield`(Object.entries(${Ae}).every(([key, value]) => ${Ce}))`}o(F,"FromRecord");function*G(ie,Pe,Ae){let We=Qi(ie,Pe);if(ae.functions.has(ie.$ref))return yield`${Re(ie.$ref)}(${Ae})`;yield*ee(We,Pe,Ae)}o(G,"FromRef");function*re(ie,Pe,Ae){let We=ve(`${new RegExp(ie.source,ie.flags)};`);yield`(typeof ${Ae} === 'string')`,jr(ie.maxLength)&&(yield`${Ae}.length <= ${ie.maxLength}`),jr(ie.minLength)&&(yield`${Ae}.length >= ${ie.minLength}`),yield`${We}.test(${Ae})`}o(re,"FromRegExp");function*pe(ie,Pe,Ae){yield`(typeof ${Ae} === 'string')`,jr(ie.maxLength)&&(yield`${Ae}.length <= ${ie.maxLength}`),jr(ie.minLength)&&(yield`${Ae}.length >= ${ie.minLength}`),ie.pattern!==void 0&&(yield`${ve(`${new RegExp(ie.pattern)};`)}.test(${Ae})`),ie.format!==void 0&&(yield`format('${ie.format}', ${Ae})`)}o(pe,"FromString");function*Z(ie,Pe,Ae){yield`(typeof ${Ae} === 'symbol')`}o(Z,"FromSymbol");function*W(ie,Pe,Ae){yield`(typeof ${Ae} === 'string')`,yield`${ve(`${new RegExp(ie.pattern)};`)}.test(${Ae})`}o(W,"FromTemplateLiteral");function*q(ie,Pe,Ae){yield`${Re(ie.$ref)}(${Ae})`}o(q,"FromThis");function*se(ie,Pe,Ae){if(yield`Array.isArray(${Ae})`,ie.items===void 0)return yield`${Ae}.length === 0`;yield`(${Ae}.length === ${ie.maxItems})`;for(let We=0;We<ie.items.length;We++)yield`${ce(ie.items[We],Pe,`${Ae}[${We}]`)}`}o(se,"FromTuple");function*ne(ie,Pe,Ae){yield`${Ae} === undefined`}o(ne,"FromUndefined");function*H(ie,Pe,Ae){yield`(${ie.anyOf.map(z=>ce(z,Pe,Ae)).join(" || ")})`}o(H,"FromUnion");function*O(ie,Pe,Ae){yield`${Ae} instanceof Uint8Array`,jr(ie.maxByteLength)&&(yield`(${Ae}.length <= ${ie.maxByteLength})`),jr(ie.minByteLength)&&(yield`(${Ae}.length >= ${ie.minByteLength})`)}o(O,"FromUint8Array");function*j(ie,Pe,Ae){yield"true"}o(j,"FromUnknown");function*J(ie,Pe,Ae){yield F3.IsVoidLike(Ae)}o(J,"FromVoid");function*le(ie,Pe,Ae){let We=ae.instances.size;ae.instances.set(We,ie),yield`kind('${ie[it]}', ${We}, ${Ae})`}o(le,"FromKind");function*ee(ie,Pe,Ae,We=!0){let z=Bi(ie.$id)?[...Pe,ie]:Pe,te=ie;if(We&&Bi(ie.$id)){let Ne=Re(ie.$id);if(ae.functions.has(Ne))return yield`${Ne}(${Ae})`;{ae.functions.set(Ne,"<deferred>");let Se=Ue(Ne,ie,Pe,"value",!1);return ae.functions.set(Ne,Se),yield`${Ne}(${Ae})`}}switch(te[it]){case"Any":return yield*r(te,z,Ae);case"Argument":return yield*n(te,z,Ae);case"Array":return yield*i(te,z,Ae);case"AsyncIterator":return yield*s(te,z,Ae);case"BigInt":return yield*a(te,z,Ae);case"Boolean":return yield*l(te,z,Ae);case"Constructor":return yield*c(te,z,Ae);case"Date":return yield*u(te,z,Ae);case"Function":return yield*f(te,z,Ae);case"Import":return yield*m(te,z,Ae);case"Integer":return yield*h(te,z,Ae);case"Intersect":return yield*p(te,z,Ae);case"Iterator":return yield*A(te,z,Ae);case"Literal":return yield*E(te,z,Ae);case"Never":return yield*x(te,z,Ae);case"Not":return yield*b(te,z,Ae);case"Null":return yield*v(te,z,Ae);case"Number":return yield*S(te,z,Ae);case"Object":return yield*B(te,z,Ae);case"Promise":return yield*P(te,z,Ae);case"Record":return yield*F(te,z,Ae);case"Ref":return yield*G(te,z,Ae);case"RegExp":return yield*re(te,z,Ae);case"String":return yield*pe(te,z,Ae);case"Symbol":return yield*Z(te,z,Ae);case"TemplateLiteral":return yield*W(te,z,Ae);case"This":return yield*q(te,z,Ae);case"Tuple":return yield*se(te,z,Ae);case"Undefined":return yield*ne(te,z,Ae);case"Union":return yield*H(te,z,Ae);case"Uint8Array":return yield*O(te,z,Ae);case"Unknown":return yield*j(te,z,Ae);case"Void":return yield*J(te,z,Ae);default:if(!L0.Has(te[it]))throw new $K(ie);return yield*le(te,z,Ae)}}o(ee,"Visit");let ae={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function ce(ie,Pe,Ae,We=!0){return`(${[...ee(ie,Pe,Ae,We)].join(" && ")})`}o(ce,"CreateExpression");function Re(ie){return`check_${VK.Encode(ie)}`}o(Re,"CreateFunctionName");function ve(ie){let Pe=`local_${ae.variables.size}`;return ae.variables.set(Pe,`const ${Pe} = ${ie}`),Pe}o(ve,"CreateVariable");function Ue(ie,Pe,Ae,We,z=!0){let[te,Ne]=[`
`,Ve=>"".padStart(Ve," ")],Se=ke("value","any"),Ce=Je("boolean"),Oe=[...ee(Pe,Ae,We,z)].map(Ve=>`${Ne(4)}${Ve}`).join(` &&${te}`);return`function ${ie}(${Se})${Ce} {${te}${Ne(2)}return (${te}${Oe}${te}${Ne(2)})
}`}o(Ue,"CreateFunction");function ke(ie,Pe){let Ae=ae.language==="typescript"?`: ${Pe}`:"";return`${ie}${Ae}`}o(ke,"CreateParameter");function Je(ie){return ae.language==="typescript"?`: ${ie}`:""}o(Je,"CreateReturns");function ft(ie,Pe,Ae){let We=Ue("check",ie,Pe,"value"),z=ke("value","any"),te=Je("boolean"),Ne=[...ae.functions.values()],Se=[...ae.variables.values()],Ce=Bi(ie.$id)?`return function check(${z})${te} {
  return ${Re(ie.$id)}(value)
}`:`return ${We}`;return[...Se,...Ne,Ce].join(`
`)}o(ft,"Build");function ot(...ie){let Pe={language:"javascript"},[Ae,We,z]=ie.length===2&&un(ie[1])?[ie[0],ie[1],Pe]:ie.length===2&&!un(ie[1])?[ie[0],[],ie[1]]:ie.length===3?[ie[0],ie[1],ie[2]]:ie.length===1?[ie[0],[],Pe]:[null,[],Pe];if(ae.language=z.language,ae.variables.clear(),ae.functions.clear(),ae.instances.clear(),!Ko(Ae))throw new MP(Ae);for(let te of We)if(!Ko(te))throw new MP(te);return ft(Ae,We,z)}o(ot,"Code"),e.Code=ot;function at(ie,Pe=[]){let Ae=ot(ie,Pe,{language:"javascript"}),We=globalThis.Function("kind","format","hash",Ae),z=new Map(ae.instances);function te(Oe,Ve,Ze){if(!L0.Has(Oe)||!z.has(Ve))return!1;let yt=L0.Get(Oe),Rt=z.get(Ve);return yt(Rt,Ze)}o(te,"typeRegistryFunction");function Ne(Oe,Ve){return gm.Has(Oe)?gm.Get(Oe)(Ve):!1}o(Ne,"formatRegistryFunction");function Se(Oe){return g5(Oe)}o(Se,"hashFunction");let Ce=We(te,Ne,Se);return new HK(ie,Pe,Ce,Ae)}o(at,"Compile"),e.Compile=at})(Ns||(Ns={}));var qP=nt(H2());d();d();var Wl=[];for(let e=0;e<256;++e)Wl.push((e+256).toString(16).slice(1));function U5e(e,t=0){return(Wl[e[t+0]]+Wl[e[t+1]]+Wl[e[t+2]]+Wl[e[t+3]]+"-"+Wl[e[t+4]]+Wl[e[t+5]]+"-"+Wl[e[t+6]]+Wl[e[t+7]]+"-"+Wl[e[t+8]]+Wl[e[t+9]]+"-"+Wl[e[t+10]]+Wl[e[t+11]]+Wl[e[t+12]]+Wl[e[t+13]]+Wl[e[t+14]]+Wl[e[t+15]]).toLowerCase()}o(U5e,"unsafeStringify");d();var q5e=require("crypto");var UP=new Uint8Array(256),OP=UP.length;function zK(){return OP>UP.length-16&&((0,q5e.randomFillSync)(UP),OP=0),UP.slice(OP,OP+=16)}o(zK,"rng");d();d();var W5e=require("crypto"),YK={randomUUID:W5e.randomUUID};function utt(e,t,r){if(YK.randomUUID&&!t&&!e)return YK.randomUUID();e=e||{};let n=e.random??e.rng?.()??zK();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return U5e(n)}o(utt,"v4");var xr=utt;var WP=nt(ri());function pv(e){return e===1}o(pv,"isRestricted");var ftt=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],sT=8192,dtt=21;var Cs=class{static{o(this,"TelemetryReporters")}getReporter(t,r=0){return pv(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(GP(t))return this.reporterRestricted;if(ov(t))return new iT}getFTReporter(t){if(H5e(t))return this.reporterFT;if(ov(t))return new iT}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}},mtt=I.Object({},{additionalProperties:I.String()}),htt=I.Object({meanLogProb:I.Optional(I.Number()),meanAlternativeLogProb:I.Optional(I.Number())},{additionalProperties:I.Number()}),ptt=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function gtt(e){return ptt.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(gtt,"isOomError");function Att(e){return k7(e)?"network":gtt(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(Att,"getErrorType");var nn=class e{static{o(this,"TelemetryData")}static{this.validateTelemetryProperties=Ns.Compile(mtt)}static{this.validateTelemetryMeasurements=Ns.Compile(htt)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new e(t||{},r||{},Gl())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime);return s.displayedTime=this.displayedTime,s}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=Gl())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(jt).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=np(t.get(an).getEditorInfo()),this.properties.editor_plugin_version=np(t.get(an).getEditorPluginInfo());let r=t.get(hs);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${L3(t)}`,this.properties.runtime_version=`node/${process.versions.node}`;let n=t.get(an);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=np(n.getEditorInfo());let i=t.get(Fr);this.properties.fetcher=i.name;let s=i.proxySettings;this.properties.proxy_enabled=s?"true":"false",this.properties.proxy_auth=s?.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=s?.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=i.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=Y5e(t);r["copilot.build"]=K5e(t),r["copilot.buildType"]=Hf(t),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(pv(t))return r;let n={};for(let i in r)e.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=e.sanitizeKeys(this.properties),this.measurements=e.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}multiplexProperties(){this.properties=e.multiplexProperties(this.properties)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=e.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}static multiplexProperties(t){let r={...t};for(let n in t){let i=t[n],s=i?.length??0;if(s>sT){let a=0,l=0;for(;s>0&&l<dtt;){l+=1;let c=n;l>1&&(c=n+"_"+(l<10?"0":"")+l);let u=a+sT;s<sT&&(u=a+s),r[c]=i.slice(a,u),s-=sT,a+=sT}}}return r}updateMeasurements(t){let r=t-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=t-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=Ett(t))}validateData(t,r){let n;if(e.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...e.validateTelemetryProperties.Errors(this.properties)])}),!e.validateTelemetryMeasurements.Check(this.measurements)){let i=JSON.stringify([...e.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:i}:(n.problem="both",n.error+=`; ${i}`)}if(n===void 0)return!0;if(ov(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return N3(t,"invalidTelemetryData",e.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),pv(r)&&N3(t,"invalidTelemetryData_in_secure",e.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(t,r,n,i){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(i),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,V5e(t))}},f1=class e extends nn{static{o(this,"TelemetryWithExp")}constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime,this.filtersAndExp);return s.displayedTime=this.displayedTime,s}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new e({},{},0,{filters:new l3({}),exp:Gf.createEmptyConfig()})}};function aT(e,t,r,n){e.get(Cs).getReporter(e,t)?.sendTelemetryEvent(r,nn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(aT,"sendTelemetryEvent");function ytt(e,t,r,n){e.get(Cs).getReporter(e,t)?.sendTelemetryErrorEvent(r,nn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(ytt,"sendTelemetryErrorEvent");function Ctt(e,t,r,n){e.get(Cs).getFTReporter(e)?.sendTelemetryEvent(r,nn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(Ctt,"sendFTTelemetryEvent");function gv(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(gv,"telemetrizePromptLength");function Gl(){return performance.now()}o(Gl,"now");function Ett(e){return Math.floor(e/1e3)}o(Ett,"nowSeconds");function GP(e){return e.get(Ul).optedIn}o(GP,"shouldSendRestricted");function H5e(e){return e.get(Ul).ftFlag!==""}o(H5e,"shouldSendFinetuningTelemetry");function er(e,t,r,n){return e.get(Co).register(xtt(e,t,Gl(),r?.extendedBy(),n))}o(er,"telemetry");async function xtt(e,t,r,n,i=0){let s=n||nn.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i??!1,"IncludeExp",r),(!pv(i)||GP(e))&&aT(e,i,t,s),pv(i)&&ftt.includes(t)&&H5e(e)&&Ctt(e,i,t,s)}o(xtt,"_telemetry");function HP(e,t){return e.get(Co).register(btt(e,t,Gl()))}o(HP,"telemetryExpProblem");async function btt(e,t,r){let n="expProblem",i=nn.createAndMarkAsIssued(t,{});await i.makeReadyForSending(e,0,"SkipExp",r),aT(e,0,n,i)}o(btt,"_telemetryExpProblem");function Av(e,t,r,n){return e.get(Co).register(vtt(e,t,r,n))}o(Av,"telemetryRaw");async function vtt(e,t,r,n){let i={...r,...V5e(e)};aT(e,0,t,{properties:i,measurements:n})}o(vtt,"_telemetryRaw");function V5e(e){let t=e.get(an),r={unique_id:xr(),common_extname:t.getEditorPluginInfo().name,common_extversion:t.getEditorPluginInfo().version,common_vscodeversion:np(t.getEditorInfo())},n=e.get(Ul);return n.trackingId&&(r.copilot_trackingId=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),r}o(V5e,"createRequiredProperties");var KK=class extends Error{static{o(this,"CopilotNonError")}constructor(t){let r;try{r=JSON.stringify(t)}catch{r=String(t)}super(r),this.name="CopilotNonError",this.code=(0,qP.SHA256)(qP.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function Lo(e,t,r,n,i){return e.get(Co).register(j5e(e,t,Gl(),r,{...n},i))}o(Lo,"telemetryException");async function j5e(e,t,r,n,i,s){let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||a instanceof Us||a instanceof WP.ConnectionError||a instanceof WP.ResponseError)return}else{if(a=new KK(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let E=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(E[0]??"")&&E.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(E[0]??"")&&E.shift(),a.stack=`${a}
${E.join(`
`)}`}}let l=e.get(an).getEditorInfo(),c;l.root&&(c=[{prefix:`${l.name}:`,path:l.root}]);let u=LK(a,c),f=GP(e),m=Att(a),h=m==="exception",p=nn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:u.stack||u.toString(),message:u.message,...i});if(await p.makeReadyForSending(e,0,"IncludeExp",r),s?.exception_detail)for(let E of s.exception_detail)E.value&&(f?E.value=FK(E.value):E.value="[redacted]");if(s??=c5e(e,LK(a,c,f)),s.context={...s.context,"copilot_event.unique_id":p.properties.unique_id,"#restricted_telemetry":f?"true":"false"},n&&(s.context["#origin"]=n,s.transaction=n),s.rollup_id!=="auto"&&(p.properties.errno=s.rollup_id),s.created_at=new Date(p.issuedTime).toISOString(),f){let E=N5e(a,c),x=nn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:E.stack||E.toString(),message:E.message,...i});s.rollup_id!=="auto"&&(x.properties.errno=s.rollup_id),await x.makeReadyForSending(e,1,"IncludeExp",r),x.properties.unique_id=p.properties.unique_id,p.properties.restricted_unique_id=x.properties.unique_id,aT(e,1,`error.${m}`,x)}let A=s.rollup_id==="auto"?a.stack??"":s.rollup_id;h&&!e.get(ip).isThrottled(A)&&(p.properties.failbot_payload=JSON.stringify(s)),aT(e,0,`error.${m}`,p)}o(j5e,"_telemetryException");function Iu(e,t,r,n){let i=o(async(...s)=>{try{await t(...s)}catch(a){await j5e(e,a,Gl(),r,n)}},"wrapped");return(...s)=>e.get(Co).register(i(...s))}o(Iu,"telemetryCatch");function N3(e,t,r,n){return e.get(Co).register(Itt(e,t,Gl(),r?.extendedBy(),n))}o(N3,"telemetryError");async function Itt(e,t,r,n,i=0){if(pv(i)&&!GP(e))return;let s=n||nn.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i,"IncludeExp",r),ytt(e,i,t,s)}o(Itt,"_telemetryError");function $5e(e,t,r,n,i){let s=nn.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[a,l]of Object.entries(r.logprobs))s.properties["logprobs_"+a]=JSON.stringify(l)??"unset";return s.extendWithRequestId(n),er(e,"engine.completion",s,1)}o($5e,"logEngineCompletion");function z5e(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix),promptElementRanges:JSON.stringify(t.promptElementRanges)}:n={promptJson:JSON.stringify(t.prefix),promptElementRanges:JSON.stringify(t.promptElementRanges)};let i=r.extendedBy(n);return er(e,"engine.prompt",i,1)}o(z5e,"logEnginePrompt");var Gf=class e{static{o(this,"ExpConfig")}constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return HP(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new e({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};d();var Vf=class{static{o(this,"ExpConfigMaker")}},yv=class extends Vf{constructor(r="",n={}){super();this.overrideTASUrl=r;this.defaultFilters=n}static{o(this,"ExpConfigFromTAS")}async fetchExperiments(r,n){let i=r.get(Fr),s=Object.keys(n).length===0?this.defaultFilters:n,a=this.overrideTASUrl.length===0?r.get(Rn).getExperimentationUrl():this.overrideTASUrl,l;try{l=await i.fetch(a,{method:"GET",headers:s,timeout:5e3})}catch(m){return Gf.createFallbackConfig(r,`Error fetching ExP config: ${String(m)}`)}if(!l.ok)return Gf.createFallbackConfig(r,`ExP responded with ${l.status}`);let c;try{c=await l.json()}catch(m){if(m instanceof SyntaxError)return Lo(r,m,"fetchExperiments"),Gf.createFallbackConfig(r,"ExP responded with invalid JSON");throw m}let u=c.Configs.find(m=>m.Id==="vscode")??{Id:"vscode",Parameters:{}},f=Object.entries(u.Parameters).map(([m,h])=>m+(h?"":"cf"));return new Gf(u.Parameters,c.AssignmentContext,f.join(";"))}},VP=class extends Vf{static{o(this,"ExpConfigNone")}async fetchExperiments(t,r){return Gf.createEmptyConfig()}};d();d();var jP=class{constructor(t){this.prefix=t}static{o(this,"GranularityImplementation")}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}},JK=class extends jP{static{o(this,"ConstantGranularity")}getValue(t){return this.prefix}getUpcomingValues(t){return[]}},J5e=o(e=>new JK(e),"DEFAULT_GRANULARITY"),$P=class extends jP{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}static{o(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),s=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of s)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var X5e="X-Copilot-ClientTimeBucket",zP=class{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=J5e(t)}static{o(this,"GranularityDirectory")}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new $P(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(X5e,n),otherFilterSettingsToPrefetch:i.map(s=>t.withChange(X5e,s))}}};d();d();d();d();d();d();function YP(e){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>e.includes(r))}o(YP,"findKnownOrg");d();d();var ml=class{static{o(this,"NotificationSender")}async showWarningMessageOnlyOnce(t,r,...n){return this.showWarningMessage(r,...n)}};d();d();var cT=nt(require("node:process"),1),Aye=require("node:buffer"),cJ=nt(require("node:path"),1),yye=require("node:url"),Cye=nt(require("node:child_process"),1),M3=nt(require("node:fs/promises"),1);d();var rJ=nt(require("node:process"),1),tye=nt(require("node:os"),1),rye=nt(require("node:fs"),1);d();var Z5e=nt(require("node:fs"),1);d();var ZK=nt(require("node:fs"),1);var XK;function Ttt(){try{return ZK.default.statSync("/.dockerenv"),!0}catch{return!1}}o(Ttt,"hasDockerEnv");function wtt(){try{return ZK.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}o(wtt,"hasDockerCGroup");function eJ(){return XK===void 0&&(XK=Ttt()||wtt()),XK}o(eJ,"isDocker");var tJ,Stt=o(()=>{try{return Z5e.default.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv");function Cv(){return tJ===void 0&&(tJ=Stt()||eJ()),tJ}o(Cv,"isInsideContainer");var eye=o(()=>{if(rJ.default.platform!=="linux")return!1;if(tye.default.release().toLowerCase().includes("microsoft"))return!Cv();try{return rye.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!Cv():!1}catch{return!1}},"isWsl"),lT=rJ.default.env.__IS_WSL_TEST__?eye:eye();d();function Q3(e,t,r){let n=o(i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}o(Q3,"defineLazyProperty");d();var fye=require("node:util"),JP=nt(require("node:process"),1),dye=require("node:child_process");d();var nye=require("node:util"),iye=nt(require("node:process"),1),oye=require("node:child_process");var _tt=(0,nye.promisify)(oye.execFile);async function nJ(){if(iye.default.platform!=="darwin")throw new Error("macOS only");let{stdout:e}=await _tt("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(e)?.groups.id??"com.apple.Safari"}o(nJ,"defaultBrowserId");d();d();var sye=nt(require("node:process"),1),aye=require("node:util"),iJ=require("node:child_process");var ktt=(0,aye.promisify)(iJ.execFile);async function lye(e,{humanReadableOutput:t=!0}={}){if(sye.default.platform!=="darwin")throw new Error("macOS only");let r=t?[]:["-ss"],{stdout:n}=await ktt("osascript",["-e",e,r]);return n.trim()}o(lye,"runAppleScript");async function oJ(e){return lye(`tell application "Finder" to set app_path to application file id "${e}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}o(oJ,"bundleName");d();var cye=require("node:util"),uye=require("node:child_process");var Btt=(0,cye.promisify)(uye.execFile),Rtt={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},KP=class extends Error{static{o(this,"UnknownBrowserError")}};async function sJ(e=Btt){let{stdout:t}=await e("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),r=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(t);if(!r)throw new KP(`Cannot find Windows browser in stdout: ${JSON.stringify(t)}`);let{id:n}=r.groups,i=Rtt[n];if(!i)throw new KP(`Unknown browser ID: ${n}`);return i}o(sJ,"defaultBrowser");var Dtt=(0,fye.promisify)(dye.execFile),Ptt=o(e=>e.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,t=>t.toUpperCase()),"titleize");async function aJ(){if(JP.default.platform==="darwin"){let e=await nJ();return{name:await oJ(e),id:e}}if(JP.default.platform==="linux"){let{stdout:e}=await Dtt("xdg-mime",["query","default","x-scheme-handler/http"]),t=e.trim();return{name:Ptt(t.replace(/.desktop$/,"").replace("-"," ")),id:t}}if(JP.default.platform==="win32")return sJ();throw new Error("Only macOS, Linux, and Windows are supported")}o(aJ,"defaultBrowser");var lJ=cJ.default.dirname((0,yye.fileURLToPath)(importMetaUrlShim)),mye=cJ.default.join(lJ,"xdg-open"),{platform:Ev,arch:hye}=cT.default,Ftt=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await M3.default.access(r,M3.constants.F_OK),n=!0}catch{}if(!n)return e;let i=await M3.default.readFile(r,{encoding:"utf8"}),s=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return s?(t=s.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),pye=o(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(i){r=i}throw r},"pTryEach"),XP=o(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return pye(e.app,l=>XP({...e,app:l}));let{name:t,arguments:r=[]}=e.app??{};if(r=[...r],Array.isArray(t))return pye(t,l=>XP({...e,app:{name:l,arguments:r}}));if(t==="browser"||t==="browserPrivate"){let l={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","microsoft-edge.desktop":"edge"},c={chrome:"--incognito",firefox:"--private-window",edge:"--inPrivate"},u=await aJ();if(u.id in l){let f=l[u.id];return t==="browserPrivate"&&r.push(c[f]),XP({...e,app:{name:xv[f],arguments:r}})}throw new Error(`${u.name} is not supported as a default browser`)}let n,i=[],s={};if(Ev==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if(Ev==="win32"||lT&&!Cv()&&!t){let l=await Ftt();n=lT?`${l}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${cT.default.env.SYSTEMROOT||cT.default.env.windir||"C:\\Windows"}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),lT||(s.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`),e.target&&r.push(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),c.push("-ArgumentList",r.join(","))),e.target=Aye.Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let l=!lJ||lJ==="/",c=!1;try{await M3.default.access(mye,M3.constants.X_OK),c=!0}catch{}n=cT.default.versions.electron??(Ev==="android"||l||!c)?"xdg-open":mye}r.length>0&&i.push(...r),e.wait||(s.stdio="ignore",s.detached=!0)}Ev==="darwin"&&r.length>0&&i.push("--args",...r),e.target&&i.push(e.target);let a=Cye.default.spawn(n,i,s);return e.wait?new Promise((l,c)=>{a.once("error",c),a.once("close",u=>{if(!e.allowNonzeroExitCode&&u>0){c(new Error(`Exited with code ${u}`));return}l(a)})}):(a.unref(),a)},"baseOpen"),Ntt=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return XP({...t,target:e})},"open");function gye(e){if(typeof e=="string"||Array.isArray(e))return e;let{[hye]:t}=e;if(!t)throw new Error(`${hye} is not supported`);return t}o(gye,"detectArchBinary");function uJ({[Ev]:e},{wsl:t}){if(t&&lT)return gye(t);if(!e)throw new Error(`${Ev} is not supported`);return gye(e)}o(uJ,"detectPlatformBinary");var xv={};Q3(xv,"chrome",()=>uJ({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));Q3(xv,"firefox",()=>uJ({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));Q3(xv,"edge",()=>uJ({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));Q3(xv,"browser",()=>"browser");Q3(xv,"browserPrivate",()=>"browserPrivate");var ZP=Ntt;var Hl=class{static{o(this,"UrlOpener")}},eF=class extends Hl{static{o(this,"SpawnUrlOpener")}async open(t){await ZP(t)}};var Ltt=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],Eye="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",xye="https://gh.io/copilot-network-errors",_c=class{constructor(){this.notifiedErrorCodes=[]}static{o(this,"UserErrorNotifier")}notifyUser(t,r){if(!(r instanceof Error))return;let n=r;n.code&&Ltt.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(t,n))}async displayCertificateErrorNotification(t,r){new Cr("certificates").error(t,`${Eye} Please visit ${xye} to learn more. Original cause:`,r);let n={title:"Learn more"};return t.get(ml).showWarningMessage(Eye,n).then(i=>{if(i?.title===n.title)return t.get(Hl).open(xye)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};var ku=new Cr("auth"),Iye=60;function bye(){return Math.floor(Date.now()/1e3)}o(bye,"nowSeconds");async function tF(e,t){let r=nn.createAndMarkAsIssued({},{});er(e,"auth.new_login");let n=await Qtt(e,t),i=await n.json(),s=i.user_notification;if(vye(e,s,t),n.clientError&&!n.headers.get("x-github-request-id")&&ku.error(e,`HTTP ${n.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`),n.status===401){let c="Failed to get copilot token due to 401 status. Please sign out and try again.";return ku.info(e,c),N3(e,"auth.unknown_401",r),{kind:"failure",reason:"HTTP401",message:c,envelope:i}}if(!n.ok||!i.token){ku.info(e,`Invalid copilot token: missing token: ${n.status} ${n.statusText}`),N3(e,"auth.invalid_token",r.extendedBy({status:n.status.toString(),status_text:n.statusText}));let c=i.error_details;return c?.notification_id!=="not_signed_up"&&vye(e,c,t),{kind:"failure",reason:"NotAuthorized",message:"User not authorized",envelope:i,...c}}let a=i.expires_at;i.expires_at=bye()+i.refresh_in+Iye;let l=new d1(i);return nT(e,l),er(e,"auth.new_token",r.extendedBy({},{adjusted_expires_at:i.expires_at,expires_at:a,current_time:bye()})),{kind:"success",envelope:i}}o(tF,"authFromGitHubToken");async function Qtt(e,t){let r=e.get(Rn).getTokenUrl(t);try{return await e.get(Fr).fetch(r,{headers:{Authorization:`token ${t.token}`,...a0(e)},timeout:12e4})}catch(n){throw e.get(_c).notifyUser(e,n),n}}o(Qtt,"fetchCopilotToken");function vye(e,t,r){t&&e.get(ml).showWarningMessageOnlyOnce(t.notification_id,t.message,{title:t.title},{title:"Dismiss"}).then(async n=>{let i=n?.title===t.title,s=i||n?.title==="Dismiss";if(i){let a=e.get(an).getEditorPluginInfo(),l=t.url.replace("{EDITOR}",encodeURIComponent(a.name+"_"+a.version));await e.get(Hl).open(l)}t.notification_id&&s&&await Mtt(e,t.notification_id,r)}).catch(n=>{ku.exception(e,n,"copilotToken.notification")})}o(vye,"notifyUser");async function Mtt(e,t,r){let n=e.get(Rn).getNotificationUrl(r),i=await e.get(Fr).fetch(n,{headers:{Authorization:`token ${r.token}`,...a0(e)},method:"POST",body:JSON.stringify({notification_id:t})});(!i||!i.ok)&&ku.error(e,`Failed to send notification result to GitHub: ${i?.status} ${i?.statusText}`)}o(Mtt,"sendNotificationResultToGitHub");var d1=class{constructor(t){this.envelope=t;this.token=t.token,this.organization_list=t.organization_list,this.enterprise_list=t.enterprise_list,this.tokenMap=this.parseToken(this.token)}static{o(this,"CopilotToken")}needsRefresh(){return(this.envelope.expires_at-Iye)*1e3<Date.now()}isExpired(){return this.envelope.expires_at*1e3<Date.now()}get hasKnownOrg(){return YP(this.organization_list||[])!==void 0}parseToken(t){let r=new Map,i=(t??"").split(":")[0].split(";");for(let s of i){let[a,l]=s.split("=");r.set(a,l)}return r}getTokenValue(t){return this.tokenMap.get(t)}};d();var In=class{constructor(t,r){this.authPersistence=t;this._copilotTokenManager=r;this.pendingSignIn=void 0}static{o(this,"AuthManager")}#e;getCopilotTokenManager(){return this._copilotTokenManager}async checkAndUpdateStatus(t,r){let n=r?.localChecksOnly??!1,i=Tye(process.env);return i===void 0&&(i=await this.getAuthRecord(r?.githubAppId)),i===void 0?(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),{status:"NotSignedIn"}):n?{status:"MaybeOK",user:i.user}:(r?.forceRefresh&&this._copilotTokenManager.resetToken(),{status:await this.getTokenWithSignUpLimited(t,i,r?.freshSignIn??!1),user:i.user})}async getAuthRecord(t){if(this.#e!==null)return this.#e??this.getPersistedAuthRecord(t)}async getTokenWithSignUpLimited(t,r,n){try{await this._copilotTokenManager.getToken()}catch(i){if(i instanceof jf)return n&&i.result.envelope?.can_signup_for_limited&&await this.signUpLimited(t,r)?this.getTokenWithSignUpLimited(t,r,!1):i.result.reason==="HTTP401"?"NotSignedIn":i.result.reason;throw i}return"OK"}async getPersistedAuthRecord(t){return await this.authPersistence.getAuthRecord(t)}async getGitHubToken(t){let r=Tye(process.env)??await this.getAuthRecord();if(r===void 0)return;let n={token:r.oauth_token};return r.dev_override&&Hf(t)==="dev"&&(n.devOverride={copilotTokenUrl:r.dev_override.copilot_token_url,notificationUrl:r.dev_override.notification_url,contentRestrictionsUrl:r.dev_override.content_restrictions_url}),n}async signUpLimited(t,r){let n=t.get(Rn).getSignUpLimitedUrl();try{return(await(await t.get(Fr).fetch(n,{headers:{Authorization:`token ${r.oauth_token}`,...a0(t)},method:"POST",body:JSON.stringify({restricted_telemetry:t.get(Su).isEnabled?"enabled":"disabled",public_code_suggestions:"enabled"})})).json())?.subscribed||!1}catch(i){return ku.exception(t,i,"signUpLimited failed"),!1}}async setAuthRecord(t,r){await this.authPersistence.saveAuthRecord(r),this._copilotTokenManager.resetToken()}setTransientAuthRecord(t,r,n=!0){this.#e=r,n&&this._copilotTokenManager.resetToken()}async deleteAuthRecord(t){await this.authPersistence.deleteAuthRecord(),!this.#e&&(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken())}};function Tye(e){if(e.GH_COPILOT_TOKEN&&!/=/.test(e.GH_COPILOT_TOKEN))return{user:"<environment-variable-user>",oauth_token:e.GH_COPILOT_TOKEN};if(e.GITHUB_COPILOT_TOKEN)return{user:"<environment-variable-user>",oauth_token:e.GITHUB_COPILOT_TOKEN};if(e.CODESPACES==="true"&&e.GITHUB_TOKEN)return{user:e.GITHUB_USER||"<codespaces-user>",oauth_token:e.GITHUB_TOKEN}}o(Tye,"getAuthRecordFromEnv");d();var Ki=class{static{o(this,"StatusReporter")}#e=0;#t="Normal";#i;#n;#r=!0;get busy(){return this.#e>0}withProgress(t){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),t().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(t,r,n){this.#t===t&&this.#i===r&&!n&&!this.#n&&!this.#r||(this.#t=t,this.#i=r,this.#n=n,this.#r=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(t,r){this.forceStatus("Error",t,r)}setWarning(t){this.#t!=="Error"&&this.forceStatus("Warning",t)}setInactive(t){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",t)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let t={kind:this.#t,message:this.#i,busy:this.busy,command:this.#n};this.didChange(t)}},rF=class extends Ki{static{o(this,"NoOpStatusReporter")}didChange(){}};var qr=class{static{o(this,"CopilotTokenManager")}constructor(){}async getGitHubToken(){return(await this.getGitHubSession())?.token}primeToken(){try{return this.getToken().then(()=>{},()=>{})}catch{return Promise.resolve()}}},jf=class extends Us{constructor(r){super(r.message??"");this.result=r}static{o(this,"TokenResultError")}},nF=class extends qr{constructor(r){super();this.ctx=r;this.token=void 0;this.tokenPromise=void 0}static{o(this,"CopilotTokenManagerFromGitHubTokenBase")}async fetchCopilotTokenEnvelope(){let r=await this.getGitHubSession();if(!r)throw new jf({reason:"NotSignedIn"});if(!r?.token)throw new jf({reason:"HTTP401"});let n=await tF(this.ctx,r);if(n.kind==="failure"){if(n.message)throw new jf(n);let i=new Error(`Unexpected error getting Copilot token: ${n.reason}`);throw i.code=`CopilotToken.${n.reason}`,i}return n.envelope}async getToken(){if(!this.tokenPromise&&(!this.token||this.token?.needsRefresh())){let r=this.fetchCopilotTokenEnvelope().then(n=>{let i=new d1(n);return this.tokenPromise!==r?i:(this.token=i,this.tokenPromise=void 0,this.ctx.get(Ki).forceNormal(),this.token)},n=>{if(this.tokenPromise!==r)throw n;this.tokenPromise=void 0;let i=this.ctx.get(Ki);if(n instanceof jf)switch(n.result.reason){case"NotSignedIn":i.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":i.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":i.setError(n.message||"No access to Copilot found.");break}else i.setWarning(String(n));throw n});this.tokenPromise=r}return this.token&&!this.token.isExpired()?this.token:await this.tokenPromise}resetToken(r){r!==void 0?(er(this.ctx,"auth.reset_token_"+r),ku.debug(this.ctx,`Resetting copilot token on HTTP error ${r}`)):ku.debug(this.ctx,"Resetting copilot token"),this.token=void 0,this.tokenPromise=void 0}},bv=class extends nF{static{o(this,"CopilotTokenManagerFromAuthManager")}async getGitHubSession(){return await this.ctx.get(In).getGitHubToken(this.ctx)}};function Ott(e){let t=e.getCopilotIntegrationId();if(t)return t;switch(e.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}o(Ott,"getIntegrationId");function vv(e){let t={...a0(e),"X-GitHub-Api-Version":"2025-01-21"},r=Ott(e.get(an));return r&&(t["Copilot-Integration-Id"]=r),t}o(vv,"getCapiHeaders");function Iv(e,t,...r){return sv(e,t,"api",...r)}o(Iv,"getCapiUrl");async function O3(e,t){let r=await e.get(qr).getToken(),n=Iv(e,r,t),i={Authorization:`Bearer ${r.token}`,...vv(e)};return await e.get(Fr).fetch(new URL(n).href,{method:"GET",headers:i})}o(O3,"fetchCapiUrl");async function wye(e,t,r){let n=await e.get(qr).getToken(),i=Iv(e,n,t),s={Authorization:`Bearer ${n.token}`,...vv(e)};return await e.get(Fr).fetch(new URL(i).href,{method:"POST",headers:s,body:r})}o(wye,"postCapiUrl");d();var Sye=10*60*1e3,Mi={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Unknown:"unknown"};function Zo(e){switch(e){case"edits":case"user":case"inline":return[Mi.Gpt4o,Mi.Gpt4turbo,Mi.Gpt4,Mi.O1Mini,Mi.O1Ga,Mi.Claude35Sonnet,Mi.O3Mini,Mi.Gemini20Flash,Mi.Claude37Sonnet,Mi.Claude37SonnetThought,Mi.Gpt45];case"meta":case"suggestions":case"synonyms":return[Mi.Gpt4oMini,Mi.Gpt35turbo]}}o(Zo,"getSupportedModelFamiliesForPrompt");var sF={textEmbedding3Small:"text-embedding-3-small"},Utt=I.Object({type:I.Union([I.Literal("chat"),I.Literal("embeddings"),I.Literal("completion")]),tokenizer:I.String(),family:I.String(),object:I.String(),supports:I.Optional(I.Object({tool_calls:I.Optional(I.Boolean()),parallel_tool_calls:I.Optional(I.Boolean()),streaming:I.Optional(I.Boolean()),vision:I.Optional(I.Boolean())})),limits:I.Optional(I.Object({max_inputs:I.Optional(I.Number()),max_prompt_tokens:I.Optional(I.Number()),max_output_tokens:I.Optional(I.Number()),max_context_window_tokens:I.Optional(I.Number())}))}),qtt=I.Object({id:I.String(),name:I.String(),version:I.String(),model_picker_enabled:I.Boolean(),capabilities:Utt,object:I.String(),preview:I.Optional(I.Boolean()),isExperimental:I.Optional(I.Boolean()),policy:I.Optional(I.Object({state:I.String(),terms:I.String()}))}),_ye=I.Object({data:I.Array(qtt)}),Bu=class{static{o(this,"ModelMetadataProvider")}},iF=class extends Bu{constructor(r){super();this.ctx=r;this._metadata=[];this._lastFetchTime=0}static{o(this,"CapiModelMetadataProvider")}async getMetadata(){return this.shouldRefreshModels()&&await this.fetchMetadata(),this._metadata.slice()}async fetchMetadata(){let r=await O3(this.ctx,"/models");if(!r.ok)throw ni.error(this.ctx,"Failed to fetch models from CAPI",{status:r.status,statusText:r.statusText}),new p3(r);await this.processModels(r)}async fetchModel(r){let n=await O3(this.ctx,`/models/${r}`);if(!n.ok){ni.error(this.ctx,`Failed to fetch model ${r} from CAPI`,{status:n.status,statusText:n.statusText});return}return await n.json()}async acceptModelPolicy(r){return(await wye(this.ctx,`/models/${r}/policy`,JSON.stringify({status:"enabled"}))).ok?(await this.fetchMetadata(),!0):!1}async processModels(r){try{let n=await r.json();this._metadata=n.data,this._lastFetchTime=Date.now()}catch(n){ni.error(this.ctx,"Failed to parse models from CAPI",{error:n})}}shouldRefreshModels(){return this._metadata.length===0||!this._lastFetchTime?!0:this.isLastFetchOlderTenMinutes()}isLastFetchOlderTenMinutes(){return Date.now()-this._lastFetchTime>Sye}},oF=class extends Bu{constructor(r,n){super();this.ctx=r;this.delegate=n;this._exp_models_cache=new Map}static{o(this,"ExpModelMetadataProvider")}async getMetadata(){let r=this.ctx.get(jt),n=await r.updateExPValuesAndAssignments(),i=r.ideChatExpModelIds(n),s=[];if(i){let a=i?.split(",");for(let l of a){let c=await this.fetchModel(l.trim());c!==void 0&&(c.isExperimental=!0,s.push(c))}}return s.concat(await this.delegate.getMetadata())}async fetchModel(r){let n=this._exp_models_cache.get(r);if(n){let[s,a]=n;if(Date.now()-a<Sye)return s}let i=await this.delegate.fetchModel(r);if(i)return this._exp_models_cache.set(r,[i,Date.now()]),i}async acceptModelPolicy(r){return await this.delegate.acceptModelPolicy(r)}};d();function kye(e){let t=ci(e,qt.UserSelectedCompletionModel);return typeof t=="string"&&t.length>0?t:null}o(kye,"getUserSelectedModelConfiguration");d();d();var Wtt=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Rye=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},fJ,aF,Dye,dJ=class extends fn{static{o(this,"AssertError")}constructor(t){let r=t.First();super(r===void 0?"Invalid Value":r.message),fJ.add(this),aF.set(this,void 0),Wtt(this,aF,t,"f"),this.error=r}Errors(){return new A5(Rye(this,fJ,"m",Dye).call(this))}};aF=new WeakMap,fJ=new WeakSet,Dye=o(function*(){this.error&&(yield this.error),yield*Rye(this,aF,"f")},"_AssertError_Iterator");function Bye(e,t,r){if(!ii(e,t,r))throw new dJ(sp(e,t,r))}o(Bye,"AssertValue");function lF(...e){return e.length===3?Bye(e[0],e[1],e[2]):Bye(e[0],[],e[1])}o(lF,"Assert");d();d();d();function Gtt(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Oi(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Oi(e[r]);return t}o(Gtt,"FromObject");function Htt(e){return e.map(t=>Oi(t))}o(Htt,"FromArray");function Vtt(e){return e.slice()}o(Vtt,"FromTypedArray");function jtt(e){return new Map(Oi([...e.entries()]))}o(jtt,"FromMap");function $tt(e){return new Set(Oi([...e.entries()]))}o($tt,"FromSet");function ztt(e){return new Date(e.toISOString())}o(ztt,"FromDate");function Oi(e){if(un(e))return Htt(e);if(N0(e))return ztt(e);if(Rf(e))return Vtt(e);if(ihe(e))return jtt(e);if(ohe(e))return $tt(e);if(Kn(e))return Gtt(e);if(gu(e))return e;throw new Error("ValueClone: Unable to clone value")}o(Oi,"Clone");var Ru=class extends fn{static{o(this,"ValueCreateError")}constructor(t,r){super(r),this.schema=t}};function Ui(e){return Y2(e)?e():Oi(e)}o(Ui,"FromDefault");function Ytt(e,t){return cn(e,"default")?Ui(e.default):{}}o(Ytt,"FromAny");function Ktt(e,t){return{}}o(Ktt,"FromArgument");function Jtt(e,t){if(e.uniqueItems===!0&&!cn(e,"default"))throw new Ru(e,"Array with the uniqueItems constraint requires a default value");if("contains"in e&&!cn(e,"default"))throw new Ru(e,"Array with the contains constraint requires a default value");return"default"in e?Ui(e.default):e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>kc(e.items,t)):[]}o(Jtt,"FromArray");function Xtt(e,t){return cn(e,"default")?Ui(e.default):async function*(){}()}o(Xtt,"FromAsyncIterator");function Ztt(e,t){return cn(e,"default")?Ui(e.default):BigInt(0)}o(Ztt,"FromBigInt");function ert(e,t){return cn(e,"default")?Ui(e.default):!1}o(ert,"FromBoolean");function trt(e,t){if(cn(e,"default"))return Ui(e.default);{let r=kc(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let s=this;s[n]=i}}}:class{}}}o(trt,"FromConstructor");function rrt(e,t){return cn(e,"default")?Ui(e.default):e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(rrt,"FromDate");function nrt(e,t){return cn(e,"default")?Ui(e.default):()=>kc(e.returns,t)}o(nrt,"FromFunction");function irt(e,t){let r=globalThis.Object.values(e.$defs),n=e.$defs[e.$ref];return kc(n,[...t,...r])}o(irt,"FromImport");function ort(e,t){return cn(e,"default")?Ui(e.default):e.minimum!==void 0?e.minimum:0}o(ort,"FromInteger");function srt(e,t){if(cn(e,"default"))return Ui(e.default);{let r=e.allOf.reduce((n,i)=>{let s=kc(i,t);return typeof s=="object"?{...n,...s}:s},{});if(!ii(e,t,r))throw new Ru(e,"Intersect produced invalid value. Consider using a default value.");return r}}o(srt,"FromIntersect");function art(e,t){return cn(e,"default")?Ui(e.default):function*(){}()}o(art,"FromIterator");function lrt(e,t){return cn(e,"default")?Ui(e.default):e.const}o(lrt,"FromLiteral");function crt(e,t){if(cn(e,"default"))return Ui(e.default);throw new Ru(e,"Never types cannot be created. Consider using a default value.")}o(crt,"FromNever");function urt(e,t){if(cn(e,"default"))return Ui(e.default);throw new Ru(e,"Not types must have a default value")}o(urt,"FromNot");function frt(e,t){return cn(e,"default")?Ui(e.default):null}o(frt,"FromNull");function drt(e,t){return cn(e,"default")?Ui(e.default):e.minimum!==void 0?e.minimum:0}o(drt,"FromNumber");function mrt(e,t){if(cn(e,"default"))return Ui(e.default);{let r=new Set(e.required),n={};for(let[i,s]of Object.entries(e.properties))r.has(i)&&(n[i]=kc(s,t));return n}}o(mrt,"FromObject");function hrt(e,t){return cn(e,"default")?Ui(e.default):Promise.resolve(kc(e.item,t))}o(hrt,"FromPromise");function prt(e,t){let[r,n]=Object.entries(e.patternProperties)[0];if(cn(e,"default"))return Ui(e.default);if(r===Kh||r===Yh)return{};{let i=r.slice(1,r.length-1).split("|"),s={};for(let a of i)s[a]=kc(n,t);return s}}o(prt,"FromRecord");function grt(e,t){return cn(e,"default")?Ui(e.default):kc(Qi(e,t),t)}o(grt,"FromRef");function Art(e,t){if(cn(e,"default"))return Ui(e.default);throw new Ru(e,"RegExp types cannot be created. Consider using a default value.")}o(Art,"FromRegExp");function yrt(e,t){if(e.pattern!==void 0){if(cn(e,"default"))return Ui(e.default);throw new Ru(e,"String types with patterns must specify a default value")}else if(e.format!==void 0){if(cn(e,"default"))return Ui(e.default);throw new Ru(e,"String types with formats must specify a default value")}else return cn(e,"default")?Ui(e.default):e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>" ").join(""):""}o(yrt,"FromString");function Crt(e,t){return cn(e,"default")?Ui(e.default):"value"in e?Symbol.for(e.value):Symbol()}o(Crt,"FromSymbol");function Ert(e,t){if(cn(e,"default"))return Ui(e.default);if(!pD(e))throw new Ru(e,"Can only create template literals that produce a finite variants. Consider using a default value.");return kb(e)[0]}o(Ert,"FromTemplateLiteral");function xrt(e,t){if(Pye++>krt)throw new Ru(e,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return cn(e,"default")?Ui(e.default):kc(Qi(e,t),t)}o(xrt,"FromThis");function brt(e,t){return cn(e,"default")?Ui(e.default):e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>kc(e.items[n],t))}o(brt,"FromTuple");function vrt(e,t){if(cn(e,"default"))return Ui(e.default)}o(vrt,"FromUndefined");function Irt(e,t){if(cn(e,"default"))return Ui(e.default);if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return kc(e.anyOf[0],t)}o(Irt,"FromUnion");function Trt(e,t){return cn(e,"default")?Ui(e.default):e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o(Trt,"FromUint8Array");function wrt(e,t){return cn(e,"default")?Ui(e.default):{}}o(wrt,"FromUnknown");function Srt(e,t){if(cn(e,"default"))return Ui(e.default)}o(Srt,"FromVoid");function _rt(e,t){if(cn(e,"default"))return Ui(e.default);throw new Error("User defined types must specify a default value")}o(_rt,"FromKind");function kc(e,t){let r=ul(e,t),n=e;switch(n[it]){case"Any":return Ytt(n,r);case"Argument":return Ktt(n,r);case"Array":return Jtt(n,r);case"AsyncIterator":return Xtt(n,r);case"BigInt":return Ztt(n,r);case"Boolean":return ert(n,r);case"Constructor":return trt(n,r);case"Date":return rrt(n,r);case"Function":return nrt(n,r);case"Import":return irt(n,r);case"Integer":return ort(n,r);case"Intersect":return srt(n,r);case"Iterator":return art(n,r);case"Literal":return lrt(n,r);case"Never":return crt(n,r);case"Not":return urt(n,r);case"Null":return frt(n,r);case"Number":return drt(n,r);case"Object":return mrt(n,r);case"Promise":return hrt(n,r);case"Record":return prt(n,r);case"Ref":return grt(n,r);case"RegExp":return Art(n,r);case"String":return yrt(n,r);case"Symbol":return Crt(n,r);case"TemplateLiteral":return Ert(n,r);case"This":return xrt(n,r);case"Tuple":return brt(n,r);case"Undefined":return vrt(n,r);case"Union":return Irt(n,r);case"Uint8Array":return Trt(n,r);case"Unknown":return wrt(n,r);case"Void":return Srt(n,r);default:if(!L0.Has(n[it]))throw new Ru(n,"Unknown type");return _rt(n,r)}}o(kc,"Visit");var krt=512,Pye=0;function $f(...e){return Pye=0,e.length===2?kc(e[0],e[1]):kc(e[0],[])}o($f,"Create");var cF=class extends fn{static{o(this,"ValueCastError")}constructor(t,r){super(r),this.schema=t}};function Brt(e,t,r){if(e[it]==="Object"&&typeof r=="object"&&!Kg(r)){let n=e,i=Object.getOwnPropertyNames(r),s=Object.entries(n.properties),[a,l]=[1/s.length,s.length];return s.reduce((c,[u,f])=>{let m=f[it]==="Literal"&&f.const===r[u]?l:0,h=ii(f,t,r[u])?a:0,p=i.includes(u)?a:0;return c+(m+h+p)},0)}else return ii(e,t,r)?1:0}o(Brt,"ScoreUnion");function Rrt(e,t,r){let n=e.anyOf.map(a=>Qi(a,t)),[i,s]=[n[0],0];for(let a of n){let l=Brt(a,t,r);l>s&&(i=a,s=l)}return i}o(Rrt,"SelectUnion");function Drt(e,t,r){if("default"in e)return typeof r=="function"?e.default:Oi(e.default);{let n=Rrt(e,t,r);return uT(n,t,r)}}o(Drt,"CastUnion");function Prt(e,t,r){return ii(e,t,r)?Oi(r):$f(e,t)}o(Prt,"DefaultClone");function Frt(e,t,r){return ii(e,t,r)?r:$f(e,t)}o(Frt,"Default");function Nrt(e,t,r){if(ii(e,t,r))return Oi(r);let n=un(r)?Oi(r):$f(e,t),i=jr(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=(jr(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(c=>Sm(e.items,t,c));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!ii(e,t,l))throw new cF(e,"Array cast produced invalid data due to uniqueItems constraint");return l}o(Nrt,"FromArray");function Lrt(e,t,r){if(ii(e,t,r))return $f(e,t);let n=new Set(e.returns.required||[]),i=o(function(){},"result");for(let[s,a]of Object.entries(e.returns.properties))!n.has(s)&&r.prototype[s]===void 0||(i.prototype[s]=Sm(a,t,r.prototype[s]));return i}o(Lrt,"FromConstructor");function Qrt(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Sm(i,[...t,...n],r)}o(Qrt,"FromImport");function Mrt(e,t,r){let n=$f(e,t),i=Kn(n)&&Kn(r)?{...n,...r}:r;return ii(e,t,i)?i:$f(e,t)}o(Mrt,"FromIntersect");function Ort(e,t,r){throw new cF(e,"Never types cannot be cast")}o(Ort,"FromNever");function Urt(e,t,r){if(ii(e,t,r))return r;if(r===null||typeof r!="object")return $f(e,t);let n=new Set(e.required||[]),i={};for(let[s,a]of Object.entries(e.properties))!n.has(s)&&r[s]===void 0||(i[s]=Sm(a,t,r[s]));if(typeof e.additionalProperties=="object"){let s=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))s.includes(a)||(i[a]=Sm(e.additionalProperties,t,r[a]))}return i}o(Urt,"FromObject");function qrt(e,t,r){if(ii(e,t,r))return Oi(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return $f(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],s={};for(let[a,l]of Object.entries(r))s[a]=Sm(i,t,l);return s}o(qrt,"FromRecord");function Wrt(e,t,r){return Sm(Qi(e,t),t,r)}o(Wrt,"FromRef");function Grt(e,t,r){return Sm(Qi(e,t),t,r)}o(Grt,"FromThis");function Hrt(e,t,r){return ii(e,t,r)?Oi(r):un(r)?e.items===void 0?[]:e.items.map((n,i)=>Sm(n,t,r[i])):$f(e,t)}o(Hrt,"FromTuple");function Vrt(e,t,r){return ii(e,t,r)?Oi(r):Drt(e,t,r)}o(Vrt,"FromUnion");function Sm(e,t,r){let n=Bi(e.$id)?ul(e,t):t,i=e;switch(e[it]){case"Array":return Nrt(i,n,r);case"Constructor":return Lrt(i,n,r);case"Import":return Qrt(i,n,r);case"Intersect":return Mrt(i,n,r);case"Never":return Ort(i,n,r);case"Object":return Urt(i,n,r);case"Record":return qrt(i,n,r);case"Ref":return Wrt(i,n,r);case"This":return Grt(i,n,r);case"Tuple":return Hrt(i,n,r);case"Union":return Vrt(i,n,r);case"Date":case"Symbol":case"Uint8Array":return Prt(e,t,r);default:return Frt(i,n,r)}}o(Sm,"Visit");function uT(...e){return e.length===3?Sm(e[0],e[1],e[2]):Sm(e[0],[],e[1])}o(uT,"Cast");d();function jrt(e){return J2(e)&&e[it]!=="Unsafe"}o(jrt,"IsCheckable");function $rt(e,t,r){return un(r)?r.map(n=>Bc(e.items,t,n)):r}o($rt,"FromArray");function zrt(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Bc(i,[...t,...n],r)}o(zrt,"FromImport");function Yrt(e,t,r){let n=e.unevaluatedProperties,s=e.allOf.map(l=>Bc(l,t,Oi(r))).reduce((l,c)=>Kn(c)?{...l,...c}:c,{});if(!Kn(r)||!Kn(s)||!J2(n))return s;let a=bc(e);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||ii(n,t,r[l])&&(s[l]=Bc(n,t,r[l]));return s}o(Yrt,"FromIntersect");function Krt(e,t,r){if(!Kn(r)||un(r))return r;let n=e.additionalProperties;for(let i of Object.getOwnPropertyNames(r)){if(cn(e.properties,i)){r[i]=Bc(e.properties[i],t,r[i]);continue}if(J2(n)&&ii(n,t,r[i])){r[i]=Bc(n,t,r[i]);continue}delete r[i]}return r}o(Krt,"FromObject");function Jrt(e,t,r){if(!Kn(r))return r;let n=e.additionalProperties,i=Object.getOwnPropertyNames(r),[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of i){if(l.test(c)){r[c]=Bc(a,t,r[c]);continue}if(J2(n)&&ii(n,t,r[c])){r[c]=Bc(n,t,r[c]);continue}delete r[c]}return r}o(Jrt,"FromRecord");function Xrt(e,t,r){return Bc(Qi(e,t),t,r)}o(Xrt,"FromRef");function Zrt(e,t,r){return Bc(Qi(e,t),t,r)}o(Zrt,"FromThis");function ent(e,t,r){if(!un(r))return r;if(zo(e.items))return[];let n=Math.min(r.length,e.items.length);for(let i=0;i<n;i++)r[i]=Bc(e.items[i],t,r[i]);return r.length>n?r.slice(0,n):r}o(ent,"FromTuple");function tnt(e,t,r){for(let n of e.anyOf)if(jrt(n)&&ii(n,t,r))return Bc(n,t,r);return r}o(tnt,"FromUnion");function Bc(e,t,r){let n=Bi(e.$id)?ul(e,t):t,i=e;switch(i[it]){case"Array":return $rt(i,n,r);case"Import":return zrt(i,n,r);case"Intersect":return Yrt(i,n,r);case"Object":return Krt(i,n,r);case"Record":return Jrt(i,n,r);case"Ref":return Xrt(i,n,r);case"This":return Zrt(i,n,r);case"Tuple":return ent(i,n,r);case"Union":return tnt(i,n,r);default:return r}}o(Bc,"Visit");function uF(...e){return e.length===3?Bc(e[0],e[1],e[2]):Bc(e[0],[],e[1])}o(uF,"Clean");d();function fF(e){return Bi(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(fF,"IsStringNumeric");function rnt(e){return Ql(e)||zh(e)||jr(e)}o(rnt,"IsValueToString");function fT(e){return e===!0||jr(e)&&e===1||Ql(e)&&e===BigInt("1")||Bi(e)&&(e.toLowerCase()==="true"||e==="1")}o(fT,"IsValueTrue");function dT(e){return e===!1||jr(e)&&(e===0||Object.is(e,-0))||Ql(e)&&e===BigInt("0")||Bi(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(dT,"IsValueFalse");function nnt(e){return Bi(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(nnt,"IsTimeStringWithTimeZone");function int(e){return Bi(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(int,"IsTimeStringWithoutTimeZone");function ont(e){return Bi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(ont,"IsDateTimeStringWithTimeZone");function snt(e){return Bi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(snt,"IsDateTimeStringWithoutTimeZone");function ant(e){return Bi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(ant,"IsDateString");function lnt(e,t){let r=Nye(e);return r===t?r:e}o(lnt,"TryConvertLiteralString");function cnt(e,t){let r=Lye(e);return r===t?r:e}o(cnt,"TryConvertLiteralNumber");function unt(e,t){let r=Fye(e);return r===t?r:e}o(unt,"TryConvertLiteralBoolean");function fnt(e,t){return Bi(e.const)?lnt(t,e.const):jr(e.const)?cnt(t,e.const):zh(e.const)?unt(t,e.const):t}o(fnt,"TryConvertLiteral");function Fye(e){return fT(e)?!0:dT(e)?!1:e}o(Fye,"TryConvertBoolean");function dnt(e){let t=o(r=>r.split(".")[0],"truncateInteger");return fF(e)?BigInt(t(e)):jr(e)?BigInt(Math.trunc(e)):dT(e)?BigInt(0):fT(e)?BigInt(1):e}o(dnt,"TryConvertBigInt");function Nye(e){return Jg(e)&&e.description!==void 0?e.description.toString():rnt(e)?e.toString():e}o(Nye,"TryConvertString");function Lye(e){return fF(e)?parseFloat(e):fT(e)?1:dT(e)?0:e}o(Lye,"TryConvertNumber");function mnt(e){return fF(e)?parseInt(e):jr(e)?Math.trunc(e):fT(e)?1:dT(e)?0:e}o(mnt,"TryConvertInteger");function hnt(e){return Bi(e)&&e.toLowerCase()==="null"?null:e}o(hnt,"TryConvertNull");function pnt(e){return Bi(e)&&e==="undefined"?void 0:e}o(pnt,"TryConvertUndefined");function gnt(e){return N0(e)?e:jr(e)?new Date(e):fT(e)?new Date(1):dT(e)?new Date(0):fF(e)?new Date(parseInt(e)):int(e)?new Date(`1970-01-01T${e}.000Z`):nnt(e)?new Date(`1970-01-01T${e}`):snt(e)?new Date(`${e}.000Z`):ont(e)?new Date(e):ant(e)?new Date(`${e}T00:00:00.000Z`):e}o(gnt,"TryConvertDate");function Ant(e,t,r){return(un(r)?r:[r]).map(i=>_m(e.items,t,i))}o(Ant,"FromArray");function ynt(e,t,r){return dnt(r)}o(ynt,"FromBigInt");function Cnt(e,t,r){return Fye(r)}o(Cnt,"FromBoolean");function Ent(e,t,r){return gnt(r)}o(Ent,"FromDate");function xnt(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return _m(i,[...t,...n],r)}o(xnt,"FromImport");function bnt(e,t,r){return mnt(r)}o(bnt,"FromInteger");function vnt(e,t,r){return e.allOf.reduce((n,i)=>_m(i,t,n),r)}o(vnt,"FromIntersect");function Int(e,t,r){return fnt(e,r)}o(Int,"FromLiteral");function Tnt(e,t,r){return hnt(r)}o(Tnt,"FromNull");function wnt(e,t,r){return Lye(r)}o(wnt,"FromNumber");function Snt(e,t,r){if(!Kn(r))return r;for(let n of Object.getOwnPropertyNames(e.properties))cn(r,n)&&(r[n]=_m(e.properties[n],t,r[n]));return r}o(Snt,"FromObject");function _nt(e,t,r){if(!Kn(r))return r;let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[i];for(let[a,l]of Object.entries(r))r[a]=_m(s,t,l);return r}o(_nt,"FromRecord");function knt(e,t,r){return _m(Qi(e,t),t,r)}o(knt,"FromRef");function Bnt(e,t,r){return Nye(r)}o(Bnt,"FromString");function Rnt(e,t,r){return Bi(r)||jr(r)?Symbol(r):r}o(Rnt,"FromSymbol");function Dnt(e,t,r){return _m(Qi(e,t),t,r)}o(Dnt,"FromThis");function Pnt(e,t,r){return un(r)&&!zo(e.items)?r.map((i,s)=>s<e.items.length?_m(e.items[s],t,i):i):r}o(Pnt,"FromTuple");function Fnt(e,t,r){return pnt(r)}o(Fnt,"FromUndefined");function Nnt(e,t,r){for(let n of e.anyOf){let i=_m(n,t,Oi(r));if(ii(n,t,i))return i}return r}o(Nnt,"FromUnion");function _m(e,t,r){let n=ul(e,t),i=e;switch(e[it]){case"Array":return Ant(i,n,r);case"BigInt":return ynt(i,n,r);case"Boolean":return Cnt(i,n,r);case"Date":return Ent(i,n,r);case"Import":return xnt(i,n,r);case"Integer":return bnt(i,n,r);case"Intersect":return vnt(i,n,r);case"Literal":return Int(i,n,r);case"Null":return Tnt(i,n,r);case"Number":return wnt(i,n,r);case"Object":return Snt(i,n,r);case"Record":return _nt(i,n,r);case"Ref":return knt(i,n,r);case"String":return Bnt(i,n,r);case"Symbol":return Rnt(i,n,r);case"This":return Dnt(i,n,r);case"Tuple":return Pnt(i,n,r);case"Undefined":return Fnt(i,n,r);case"Union":return Nnt(i,n,r);default:return r}}o(_m,"Visit");function dF(...e){return e.length===3?_m(e[0],e[1],e[2]):_m(e[0],[],e[1])}o(dF,"Convert");d();function Qye(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!ii(t,r,n))throw new fv(t,n,sp(t,r,n).First());return c1(t,r)?dv(t,r,n):n}o(Qye,"Decode");d();function m1(e,t){let r=cn(e,"default")?e.default:void 0,n=Y2(r)?r():Oi(r);return zo(t)?n:Kn(t)&&Kn(n)?Object.assign(n,t):t}o(m1,"ValueOrDefault");function mJ(e){return J2(e)&&"default"in e}o(mJ,"HasDefaultProperty");function Lnt(e,t,r){if(un(r)){for(let i=0;i<r.length;i++)r[i]=O0(e.items,t,r[i]);return r}let n=m1(e,r);if(!un(n))return n;for(let i=0;i<n.length;i++)n[i]=O0(e.items,t,n[i]);return n}o(Lnt,"FromArray");function Qnt(e,t,r){return N0(r)?r:m1(e,r)}o(Qnt,"FromDate");function Mnt(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return O0(i,[...t,...n],r)}o(Mnt,"FromImport");function Ont(e,t,r){let n=m1(e,r);return e.allOf.reduce((i,s)=>{let a=O0(s,t,n);return Kn(a)?{...i,...a}:a},{})}o(Ont,"FromIntersect");function Unt(e,t,r){let n=m1(e,r);if(!Kn(n))return n;let i=Object.getOwnPropertyNames(e.properties);for(let s of i){let a=O0(e.properties[s],t,n[s]);zo(a)||(n[s]=O0(e.properties[s],t,n[s]))}if(!mJ(e.additionalProperties))return n;for(let s of Object.getOwnPropertyNames(n))i.includes(s)||(n[s]=O0(e.additionalProperties,t,n[s]));return n}o(Unt,"FromObject");function qnt(e,t,r){let n=m1(e,r);if(!Kn(n))return n;let i=e.additionalProperties,[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of Object.getOwnPropertyNames(n))l.test(c)&&mJ(a)&&(n[c]=O0(a,t,n[c]));if(!mJ(i))return n;for(let c of Object.getOwnPropertyNames(n))l.test(c)||(n[c]=O0(i,t,n[c]));return n}o(qnt,"FromRecord");function Wnt(e,t,r){return O0(Qi(e,t),t,m1(e,r))}o(Wnt,"FromRef");function Gnt(e,t,r){return O0(Qi(e,t),t,r)}o(Gnt,"FromThis");function Hnt(e,t,r){let n=m1(e,r);if(!un(n)||zo(e.items))return n;let[i,s]=[e.items,Math.max(e.items.length,n.length)];for(let a=0;a<s;a++)a<i.length&&(n[a]=O0(i[a],t,n[a]));return n}o(Hnt,"FromTuple");function Vnt(e,t,r){let n=m1(e,r);for(let i of e.anyOf){let s=O0(i,t,Oi(n));if(ii(i,t,s))return s}return n}o(Vnt,"FromUnion");function O0(e,t,r){let n=ul(e,t),i=e;switch(i[it]){case"Array":return Lnt(i,n,r);case"Date":return Qnt(i,n,r);case"Import":return Mnt(i,n,r);case"Intersect":return Ont(i,n,r);case"Object":return Unt(i,n,r);case"Record":return qnt(i,n,r);case"Ref":return Wnt(i,n,r);case"This":return Gnt(i,n,r);case"Tuple":return Hnt(i,n,r);case"Union":return Vnt(i,n,r);default:return m1(i,r)}}o(O0,"Visit");function mF(...e){return e.length===3?O0(e[0],e[1],e[2]):O0(e[0],[],e[1])}o(mF,"Default");d();d();var km={};qg(km,{Delete:()=>$nt,Format:()=>mT,Get:()=>Ynt,Has:()=>znt,Set:()=>jnt,ValuePointerRootDeleteError:()=>pF,ValuePointerRootSetError:()=>hF});d();var hF=class extends fn{static{o(this,"ValuePointerRootSetError")}constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}},pF=class extends fn{static{o(this,"ValuePointerRootDeleteError")}constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};function Mye(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}o(Mye,"Escape");function*mT(e){if(e==="")return;let[t,r]=[0,0];for(let n=0;n<e.length;n++)e.charAt(n)==="/"?(n===0||(r=n,yield Mye(e.slice(t,r))),t=n+1):r=n;yield Mye(e.slice(t))}o(mT,"Format");function jnt(e,t,r){if(t==="")throw new hF(e,t,r);let[n,i,s]=[null,e,""];for(let a of mT(t))i[a]===void 0&&(i[a]={}),n=i,i=i[a],s=a;n[s]=r}o(jnt,"Set");function $nt(e,t){if(t==="")throw new pF(e,t);let[r,n,i]=[null,e,""];for(let s of mT(t)){if(n[s]===void 0||n[s]===null)return;r=n,n=n[s],i=s}if(Array.isArray(r)){let s=parseInt(i);r.splice(s,1)}else delete r[i]}o($nt,"Delete");function znt(e,t){if(t==="")return!0;let[r,n,i]=[null,e,""];for(let s of mT(t)){if(n[s]===void 0)return!1;r=n,n=n[s],i=s}return Object.getOwnPropertyNames(r).includes(i)}o(znt,"Has");function Ynt(e,t){if(t==="")return e;let r=e;for(let n of mT(t)){if(r[n]===void 0)return;r=r[n]}return r}o(Ynt,"Get");d();function Knt(e,t){if(!Kn(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>U3(e[i],t[i]))}o(Knt,"ObjectType");function Jnt(e,t){return N0(t)&&e.getTime()===t.getTime()}o(Jnt,"DateType");function Xnt(e,t){return!un(t)||e.length!==t.length?!1:e.every((r,n)=>U3(r,t[n]))}o(Xnt,"ArrayType");function Znt(e,t){return!Rf(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>U3(r,t[n]))}o(Znt,"TypedArrayType");function eit(e,t){return e===t}o(eit,"ValueType");function U3(e,t){if(N0(e))return Jnt(e,t);if(Rf(e))return Znt(e,t);if(un(e))return Xnt(e,t);if(Kn(e))return Knt(e,t);if(gu(e))return eit(e,t);throw new Error("ValueEquals: Unable to compare value")}o(U3,"Equal");var tit=Yi({type:Ii("insert"),path:Q0(),value:Am()}),rit=Yi({type:Ii("update"),path:Q0(),value:Am()}),nit=Yi({type:Ii("delete"),path:Q0()}),Uye=zi([tit,rit,nit]),gF=class extends fn{static{o(this,"ValueDiffError")}constructor(t,r){super(r),this.value=t}};function AF(e,t){return{type:"update",path:e,value:t}}o(AF,"CreateUpdate");function qye(e,t){return{type:"insert",path:e,value:t}}o(qye,"CreateInsert");function Wye(e){return{type:"delete",path:e}}o(Wye,"CreateDelete");function Oye(e){if(globalThis.Object.getOwnPropertySymbols(e).length>0)throw new gF(e,"Cannot diff objects with symbols")}o(Oye,"AssertDiffable");function*iit(e,t,r){if(Oye(t),Oye(r),!hz(r))return yield AF(e,r);let n=globalThis.Object.getOwnPropertyNames(t),i=globalThis.Object.getOwnPropertyNames(r);for(let s of i)cn(t,s)||(yield qye(`${e}/${s}`,r[s]));for(let s of n)cn(r,s)&&(U3(t,r)||(yield*yF(`${e}/${s}`,t[s],r[s])));for(let s of n)cn(r,s)||(yield Wye(`${e}/${s}`))}o(iit,"ObjectType");function*oit(e,t,r){if(!un(r))return yield AF(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*yF(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield qye(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield Wye(`${e}/${n}`))}o(oit,"ArrayType");function*sit(e,t,r){if(!Rf(r)||t.length!==r.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield AF(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*yF(`${e}/${n}`,t[n],r[n])}o(sit,"TypedArrayType");function*ait(e,t,r){t!==r&&(yield AF(e,r))}o(ait,"ValueType");function*yF(e,t,r){if(hz(t))return yield*iit(e,t,r);if(un(t))return yield*oit(e,t,r);if(Rf(t))return yield*sit(e,t,r);if(gu(t))return yield*ait(e,t,r);throw new gF(t,"Unable to diff value")}o(yF,"Visit");function Gye(e,t){return[...yF("",e,t)]}o(Gye,"Diff");function lit(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(lit,"IsRootUpdate");function cit(e){return e.length===0}o(cit,"IsIdentity");function Hye(e,t){if(lit(t))return Oi(t[0].value);if(cit(t))return Oi(e);let r=Oi(e);for(let n of t)switch(n.type){case"insert":{km.Set(r,n.path,n.value);break}case"update":{km.Set(r,n.path,n.value);break}case"delete":{km.Delete(r,n.path);break}}return r}o(Hye,"Patch");d();function Vye(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]],i=c1(t,r)?hv(t,r,n):n;if(!ii(t,r,i))throw new mv(t,i,sp(t,r,i).First());return i}o(Vye,"Encode");d();function CF(e){return Kn(e)&&!un(e)}o(CF,"IsStandardObject");var EF=class extends fn{static{o(this,"ValueMutateError")}constructor(t){super(t)}};function uit(e,t,r,n){if(!CF(r))km.Set(e,t,Oi(n));else{let i=Object.getOwnPropertyNames(r),s=Object.getOwnPropertyNames(n);for(let a of i)s.includes(a)||delete r[a];for(let a of s)i.includes(a)||(r[a]=null);for(let a of s)hJ(e,`${t}/${a}`,r[a],n[a])}}o(uit,"ObjectType");function fit(e,t,r,n){if(!un(r))km.Set(e,t,Oi(n));else{for(let i=0;i<n.length;i++)hJ(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}o(fit,"ArrayType");function dit(e,t,r,n){if(Rf(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else km.Set(e,t,Oi(n))}o(dit,"TypedArrayType");function mit(e,t,r,n){r!==n&&km.Set(e,t,n)}o(mit,"ValueType");function hJ(e,t,r,n){if(un(n))return fit(e,t,r,n);if(Rf(n))return dit(e,t,r,n);if(CF(n))return uit(e,t,r,n);if(gu(n))return mit(e,t,r,n)}o(hJ,"Visit");function jye(e){return Rf(e)||gu(e)}o(jye,"IsNonMutableValue");function hit(e,t){return CF(e)&&un(t)||un(e)&&CF(t)}o(hit,"IsMismatchedValue");function $ye(e,t){if(jye(e)||jye(t))throw new EF("Only object and array types can be mutated at the root level");if(hit(e,t))throw new EF("Cannot assign due type mismatch of assignable values");hJ(e,"",e,t)}o($ye,"Mutate");d();var xF=class extends fn{static{o(this,"ParseError")}constructor(t){super(t)}},pJ;(function(e){let t=new Map([["Assert",(s,a,l)=>(lF(s,a,l),l)],["Cast",(s,a,l)=>uT(s,a,l)],["Clean",(s,a,l)=>uF(s,a,l)],["Clone",(s,a,l)=>Oi(l)],["Convert",(s,a,l)=>dF(s,a,l)],["Decode",(s,a,l)=>c1(s,a)?dv(s,a,l):l],["Default",(s,a,l)=>mF(s,a,l)],["Encode",(s,a,l)=>c1(s,a)?hv(s,a,l):l]]);function r(s){t.delete(s)}o(r,"Delete"),e.Delete=r;function n(s,a){t.set(s,a)}o(n,"Set"),e.Set=n;function i(s){return t.get(s)}o(i,"Get"),e.Get=i})(pJ||(pJ={}));var zye=["Clone","Clean","Default","Convert","Assert","Decode"];function pit(e,t,r,n){return e.reduce((i,s)=>{let a=pJ.Get(s);if(zo(a))throw new xF(`Unable to find Parse operation '${s}'`);return a(t,r,i)},n)}o(pit,"ParseValue");function Yye(...e){let[t,r,n,i]=e.length===4?[e[0],e[1],e[2],e[3]]:e.length===3?un(e[0])?[e[0],e[1],[],e[2]]:[zye,e[0],e[1],e[2]]:e.length===2?[zye,e[0],[],e[1]]:(()=>{throw new xF("Invalid Arguments")})();return pit(t,r,n,i)}o(Yye,"Parse");d();var y5={};qg(y5,{Assert:()=>lF,Cast:()=>uT,Check:()=>ii,Clean:()=>uF,Clone:()=>Oi,Convert:()=>dF,Create:()=>$f,Decode:()=>Qye,Default:()=>mF,Diff:()=>Gye,Edit:()=>Uye,Encode:()=>Vye,Equal:()=>U3,Errors:()=>sp,Hash:()=>g5,Mutate:()=>$ye,Parse:()=>Yye,Patch:()=>Hye,ValueErrorIterator:()=>A5});d();var git={capabilities:{family:"gpt-3.5-turbo",object:"model_capabilities",supports:{streaming:!0},tokenizer:"cl100k_base",type:"completion"},id:"copilot-codex",model_picker_enabled:!0,name:"GPT-3.5 Turbo",object:"model",preview:!1,version:"copilot-codex"},Ait="copilot-codex",yit="gpt-4o-copilot",zf=class e{constructor(t,r=!0){this._ctx=t;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&za(this._ctx,n=>this.refreshAvailableModels(n))}static{o(this,"AvailableModelsManager")}async refreshAvailableModels(t){await this.refreshModels(t);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(t){this.onModelsFetchedCallbacks.push(t)}getDefaultModelId(){if(this.fetchedModelData){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(t)return t.id}return Ait}parseModelsResponse(t){try{return y5.Parse(_ye,t)}catch(r){ni.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(t){let r=await this.fetchModels(t);r&&(this.fetchedModelData=r)}async fetchModels(t){return this.customModels=t.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=t.getTokenValue("editor_preview_features")=="0",t.getTokenValue("fcv1")=="1"?Promise.resolve([git]):await this.fetch()}async fetch(){let t=await O3(this._ctx,"/models");return t.ok?this.parseModelsResponse(await t.json())?.data??[]:(ni.error(this._ctx,"Failed to fetch models from CAPI",{status:t.status,statusText:t.statusText}),null)}getGenericCompletionModels(){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return e.mapCompletionModels(t)}static filterCompletionModels(t,r){return t.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(t){return t.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview}))}getCurrentModelRequestInfo(t=void 0){let r=this.getDefaultModelId(),n=kye(this._ctx);if(n){let l=this.getGenericCompletionModels().map(c=>c.modelId);l.includes(n)||(l.length>0&&ni.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let i=ci(this._ctx,qt.DebugOverrideEngine)||ci(this._ctx,qt.DebugOverrideEngineLegacy);if(i)return new h1(i,"override");let s=t?this._ctx.get(jt).customEngine(t):"",a=t?this._ctx.get(jt).customEngineTargetEngine(t):void 0;if(n)return s&&a&&n===a?new h1(s,"exp"):new h1(n,"modelpicker");if(s)return new h1(s,"exp");if(Kye(this._ctx)&&!this.editorPreviewFeaturesDisabled){let l=yit;if(this.getGenericCompletionModels().map(u=>u.modelId).includes(l))return new h1(l,"prerelease")}return this.customModels.length>0?new h1(this.customModels[0],"custommodel"):new h1(r,"default")}},h1=class{constructor(t,r){this.modelId=t;this.modelChoiceSource=r}static{o(this,"ModelRequestInfo")}get headers(){return{}}};function C5(e,t=void 0){let r=e.get(zf).getCurrentModelRequestInfo(t);return{headers:r.headers,modelId:r.modelId,engineChoiceSource:r.modelChoiceSource}}o(C5,"getEngineRequestInfo");d();d();var bF=require("fs");var Qo=class{static{o(this,"FileSystem")}},Tv=class extends Qo{static{o(this,"LocalFileSystem")}async readFileString(t){return(await bF.promises.readFile(BP(t))).toString()}async stat(t){let{targetStat:r,lstat:n,stat:i}=await this.statWithLink(BP(t));return{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size,type:this.getFileType(r,n,i)}}async statWithLink(t){let r=await bF.promises.lstat(t);if(r.isSymbolicLink())try{let n=await bF.promises.stat(t);return{lstat:r,stat:n,targetStat:n}}catch{}return{lstat:r,targetStat:r}}getFileType(t,r,n){let i=0;return t.isFile()&&(i=1),t.isDirectory()&&(i=2),r.isSymbolicLink()&&n&&(i|=64),i}};var hCe=nt(mCe());function pCe(e){return e!==void 0&&e!==0}o(pCe,"isRepoInfo");async function gCe(e){let r=(await e.get(qr).getToken()).organization_list??[];return YP(r)??""}o(gCe,"getUserKind");async function hT(e,t){return(await e.get(qr).getToken()).getTokenValue(t)??""}o(hT,"getTokenKeyValue");function ACe(e){if(e===void 0||e===0)return"";let t=p1(e);if(t==="github/github")return t;let r=Hit(e)?.toLowerCase();return r!==void 0?r:""}o(ACe,"getDogFood");function p1(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(p1,"tryGetGitHubNWO");function Hit(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}o(Hit,"tryGetADONWO");function E5(e,t){let r=Tu(t);return Vit(e,r)}o(E5,"extractRepoInfoInBackground");var Vit=Yit(jit,1e4);async function jit(e,t){let r=C5e(t);if(!r)return;let n=await $it(e,r);if(!n)return;let i=e.get(Qo),s=Xo(n,".git","config"),a;try{a=await i.readFileString(s)}catch{return}let l=zit(a)??"",c=CJ(l),u={uri:n};return c===void 0?{baseFolder:u,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:u,url:l,...c}}o(jit,"extractRepoInfo");function CJ(e){let t;try{if(t=(0,hCe.default)(e),t.resource==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.resource,owner:t.owner,repo:t.name,pathname:t.pathname}}o(CJ,"parseRepoUrl");async function $it(e,t){let r=t+"_add_to_make_longer",n=e.get(Qo);for(;t!=="file:///"&&t.length<r.length;){let i=Xo(t,".git","config"),s=!1;try{await n.stat(i),s=!0}catch{s=!1}if(s)return t;r=t,t=Tu(t)}}o($it,"getRepoBaseUri");function zit(e){let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,s,a,l=!1;for(let c of e.split(`
`))if(l&&s!==void 0){if(s+=c,c.endsWith("\\"))s=s.substring(0,s.length-1);else if(l=!1,a==="origin")return s}else{let u=c.match(t)??c.match(r);if(u)a=u[1];else if(c.match(i))a=void 0;else{if(s&&a!=="origin")continue;{let f=c.match(n);if(f){if(s=f[1],s.endsWith("\\"))s=s.substring(0,s.length-1),l=!0;else if(a==="origin")return s}}}}return s}o(zit,"getRepoUrlFromConfigText");var yJ=class{static{o(this,"CompletedComputation")}constructor(t){this.result=t}};function Yit(e,t){let r=new Bn(t),n=new Set;return(i,...s)=>{let a=JSON.stringify(s),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let c=e(i,...s);return n.add(a),c.then(u=>{r.set(a,new yJ(u)),n.delete(a)}),0}}o(Yit,"computeInBackgroundAndMemoize");d();var uN=nt(require("path")),C3e=require("worker_threads");d();d();d();d();d();d();d();function EJ(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(EJ,"virtualNode");function yCe(e,t,r,n,i){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:i}}o(yCe,"lineNode");function xJ(e){return{type:"blank",lineNumber:e,subs:[]}}o(xJ,"blankNode");function vF(e){return{type:"top",indentation:-1,subs:e??[]}}o(vF,"topNode");function Vl(e){return e.type==="blank"}o(Vl,"isBlank");function q3(e){return e.type==="line"}o(q3,"isLine");function W3(e){return e.type==="virtual"}o(W3,"isVirtual");d();function CCe(e,t){return g0(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(CCe,"clearLabelsIf");function G3(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(n=>G3(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>G3(r,t)),label:e.label?t(e.label):void 0}}}o(G3,"mapLabels");function g0(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(s=>{n(s)}),r==="bottomUp"&&t(i)}o(n,"_visit"),n(e)}o(g0,"visitTree");function bJ(e,t,r,n){let i=t;function s(a){i=r(a,i)}return o(s,"visitor"),g0(e,s,n),i}o(bJ,"foldTree");function IF(e,t,r){let n=o(s=>{if(r!==void 0&&r(s))return s;{let a=s.subs.map(n).filter(l=>l!==void 0);return s.subs=a,t(s)}},"rebuild"),i=n(e);return i!==void 0?i:vF()}o(IF,"rebuildTree");d();function Jit(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function i(u){let[f,m]=s(u+1,r[u]);return[yCe(r[u],u,n[u],f),m]}o(i,"parseNode");function s(u,f){let m,h=[],p=u,A;for(;p<n.length&&(n[p]===""||r[p]>f);)if(n[p]==="")A===void 0&&(A=p),p+=1;else{if(A!==void 0){for(let E=A;E<p;E++)h.push(xJ(E));A=void 0}[m,p]=i(p),h.push(m)}return A!==void 0&&(p=A),[h,p]}o(s,"parseSubs");let[a,l]=s(0,-1),c=l;for(;c<n.length&&n[c]==="";)a.push(xJ(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return vF(a)}o(Jit,"parseRaw");function pT(e,t){function r(n){if(q3(n)){let i=t.find(s=>s.matches(n.sourceLine));i&&(n.label=i.label)}}o(r,"visitor"),g0(e,r,"bottomUp")}o(pT,"labelLines");function TF(e){function t(r){if(W3(r)&&r.label===void 0){let n=r.subs.filter(i=>!Vl(i));n.length===1&&(r.label=n[0].label)}}o(t,"visitor"),g0(e,t,"bottomUp")}o(TF,"labelVirtualInherited");function gT(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=o(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(gT,"buildLabelRules");function vJ(e){let r=IF(e,o(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],s;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],c=n.subs[a-1];if(l.label==="opener"&&c!==void 0&&q3(c))c.subs.push(l),l.subs.forEach(u=>c.subs.push(u)),l.subs=[];else if(l.label==="closer"&&s!==void 0&&(q3(l)||W3(l))&&l.indentation>=s.indentation){let u=i.length-1;for(;u>0&&Vl(i[u]);)u-=1;if(s.subs.push(...i.splice(u+1)),l.subs.length>0){let f=s.subs.findIndex(A=>A.label!=="newVirtual"),m=s.subs.slice(0,f),h=s.subs.slice(f),p=h.length>0?[EJ(l.indentation,h,"newVirtual")]:[];s.subs=[...m,...p,l]}else s.subs.push(l)}else i.push(l),Vl(l)||(s=l)}return n.subs=i,n},"rebuilder"));return CCe(e,n=>n==="newVirtual"),r}o(vJ,"combineClosersAndOpeners");function ECe(e,t=Vl,r){return IF(e,o(function(i){if(i.subs.length<=1)return i;let s=[],a=[],l,c=!1;function u(f=!1){if(l!==void 0&&(s.length>0||!f)){let m=EJ(l,a,r);s.push(m)}else a.forEach(m=>s.push(m))}o(u,"flushBlockIntoNewSubs");for(let f=0;f<i.subs.length;f++){let m=i.subs[f],h=t(m);!h&&c&&(u(),a=[]),c=h,a.push(m),Vl(m)||(l=l??m.indentation)}return u(!0),i.subs=s,i},"rebuilder"))}o(ECe,"groupBlocks");function H3(e){return IF(e,o(function(r){return W3(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&W3(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}o(H3,"flattenVirtual");var Xit={opener:/^[[({]/,closer:/^[\])}]/},Zit=gT(Xit),xCe={};function IJ(e,t){xCe[e]=t}o(IJ,"registerLanguageSpecificParser");function AT(e,t){let r=Jit(e),n=xCe[t??""];return n?n(r):(pT(r,Zit),vJ(r))}o(AT,"parseTree");var eot={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},tot=gT(eot);function bCe(e){let t=e;return pT(t,tot),t=vJ(t),t=H3(t),TF(t),g0(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!Vl(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(bCe,"processJava");d();var rot={heading:/^# /,subheading:/^## /,subsubheading:/### /},not=gT(rot);function vCe(e){let t=e;if(pT(t,not),Vl(t))return t;function r(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}o(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let s of i){let a=r(s);if(a===void 0||Vl(s))n[n.length-1].subs.push(s);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(s),n[a]=s;n.length>a+1;)n.pop()}}return t=ECe(t),t=H3(t),TF(t),t}o(vCe,"processMarkdown");d();function ICe(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(ICe,"deparseLine");IJ("markdown",vCe);IJ("java",bCe);var iot={worthUp:.9,worthSibling:.88,worthDown:.8};function TJ(e,t=iot){let r=G3(e,n=>n?1:void 0);return g0(r,n=>{if(Vl(n))return;let i=n.subs.reduce((s,a)=>Math.max(s,a.label??0),0);n.label=Math.max(n.label??0,i*t.worthUp)},"bottomUp"),g0(r,n=>{if(Vl(n))return;let i=n.subs.map(l=>l.label??0),s=[...i];for(let l=0;l<i.length;l++)i[l]!==0&&(s=s.map((c,u)=>Math.max(c,Math.pow(t.worthSibling,Math.abs(l-u))*i[l])));let a=n.label;a!==void 0&&(s=s.map(l=>Math.max(l,t.worthDown*a))),n.subs.forEach((l,c)=>l.label=s[c])},"topDown"),oot(r)}o(TJ,"fromTreeWithFocussedLines");function oot(e){let t=bJ(e,[],(r,n)=>((r.type==="line"||r.type==="blank")&&n.push(r.type==="line"?[ICe(r).trimEnd(),r.label??0]:["",r.label??0]),n),"topDown");return new Xt(t)}o(oot,"fromTreeWithValuedLines");function Du(e,t=!0,r=!0){let n=typeof e=="string"?AT(e):AT(e.source,e.languageId);H3(n);let i=G3(n,s=>t&&s!=="closer");return g0(i,s=>{s.label===void 0&&(s.label=t&&s.label!==!1)},"topDown"),t&&g0(i,s=>{if(s.label){let a=!1;for(let l of[...s.subs].reverse())l.label&&!a?a=!0:l.label=!1}else for(let a of s.subs)a.label=!1;s.subs.length>0&&(s.label=!1)},"topDown"),r&&g0(i,s=>{s.label||=(q3(s)||Vl(s))&&s.lineNumber==0},"topDown"),TJ(i)}o(Du,"elidableTextForSourceCode");d();d();d();d();var g1=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{o(this,"CopilotPromptLoadFailure")}};var wv=nt(MCe()),UCe=require("fs"),qCe=require("path");var OCe=new Map;function vo(e="cl100k_base"){let t=OCe.get(e);return t!==void 0||(e==="mock"?t=new QJ:t=new LJ(e),OCe.set(e,t)),t}o(vo,"getTokenizer");function vot(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,UCe.readFileSync)(e,"utf-8"),r=new Map;for(let n of t.split(`
`)){if(!n)continue;let i=Buffer.from(n,"base64");r.set(i,r.size)}return r}o(vot,"parseTikTokenNoIndex");var LJ=class{static{o(this,"TTokenizer")}constructor(t){try{this._tokenizer=(0,wv.createTokenizer)(vot((0,qCe.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,wv.getSpecialTokensByEncoder)(t),(0,wv.getRegexByEncoder)(t),32768)}catch(r){throw r instanceof Error?new g1("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(-s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(-s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(0,s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(0,s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},QJ=class{constructor(){this.hash=o(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}static{o(this,"MockTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let n=this.tokenizeStrings(t).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}};var CT=class e{constructor(t,r,n,i="strict",s){this.text=t;this._value=r;this._cost=n;this.metadata=s;if(t.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}static{o(this,"LineWithValueAndCost")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>vo().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new e(this.text,this.value,this.cost,"none",this.metadata)}};var Xt=class e{constructor(t,r,n=vo()){this.metadata=r;this.tokenizer=n;this.lines=[];let i=[];for(let s of t){let a=Array.isArray(s)?s[1]:1,l=Array.isArray(s)?s[0]:s;typeof l=="string"?l.split(`
`).forEach(c=>i.push(new CT(c,a,n.tokenLength(c+`
`),"strict",this.metadata))):l instanceof e?l.lines.forEach(c=>i.push(c.copy().adjustValue(a))):"source"in l&&"languageId"in l&&Du(l).lines.forEach(c=>i.push(c.copy().adjustValue(a)))}this.lines=i}static{o(this,"ElidableText")}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>vo().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}elide(t,r="[...]",n=!0,i="removeLeastDesirable"){let s=this.lines.map(a=>a.copy());return Iot(s,t,r,n,i,this.tokenizer)}};function Iot(e,t,r,n,i,s){if(s.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");i==="removeLeastBangForBuck"&&e.forEach(m=>m.adjustValue(1/m.cost));let a=e.reduce((m,h)=>Math.max(m,h.value),0)+1,l=e.reduce((m,h)=>Math.max(m,h.text.length),0)+1,c=r.trim(),u=e.reduce((m,h)=>m+h.cost,0),f=e.length+1;for(;u>t&&f-->=-1;){let m=e.reduce((v,S)=>S.value<v.value?S:v),h=e.indexOf(m),p=e.slice(0,h+1).reverse().find(v=>v.text.trim()!=="")??{text:""},A=n?Math.min(p.text.match(/^\s*/)?.[0].length??0,e[h-1]?.text.trim()===c?e[h-1]?.text.match(/^\s*/)?.[0].length??0:l,e[h+1]?.text.trim()===c?e[h+1]?.text.match(/^\s*/)?.[0].length??0:l):0,E=" ".repeat(A)+r,x=new CT(E,a,s.tokenLength(E+`
`),"loose",m.metadata);e.splice(h,1,x),e[h+1]?.text.trim()===c&&e.splice(h+1,1),e[h-1]?.text.trim()===c&&e.splice(h-1,1);let b=e.reduce((v,S)=>v+S.cost,0);b>=u&&e.every(v=>v.value===a)&&(n=!1),u=b}if(f<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return{getText:o(()=>e.map(m=>m.text).join(`
`),"getText"),getLines:o(()=>e,"getLines")}}o(Iot,"elide");d();d();function Bm(){}o(Bm,"Diff");Bm.prototype={diff:o(function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.callback;typeof i=="function"&&(s=i,i={});var a=this;function l(B){return B=a.postProcess(B,i),s?(setTimeout(function(){s(B)},0),!0):B}o(l,"done"),t=this.castInput(t,i),r=this.castInput(r,i),t=this.removeEmpty(this.tokenize(t,i)),r=this.removeEmpty(this.tokenize(r,i));var c=r.length,u=t.length,f=1,m=c+u;i.maxEditLength!=null&&(m=Math.min(m,i.maxEditLength));var h=(n=i.timeout)!==null&&n!==void 0?n:1/0,p=Date.now()+h,A=[{oldPos:-1,lastComponent:void 0}],E=this.extractCommon(A[0],r,t,0,i);if(A[0].oldPos+1>=u&&E+1>=c)return l(WCe(a,A[0].lastComponent,r,t,a.useLongestToken));var x=-1/0,b=1/0;function v(){for(var B=Math.max(x,-f);B<=Math.min(b,f);B+=2){var P=void 0,F=A[B-1],G=A[B+1];F&&(A[B-1]=void 0);var re=!1;if(G){var pe=G.oldPos-B;re=G&&0<=pe&&pe<c}var Z=F&&F.oldPos+1<u;if(!re&&!Z){A[B]=void 0;continue}if(!Z||re&&F.oldPos<G.oldPos?P=a.addToPath(G,!0,!1,0,i):P=a.addToPath(F,!1,!0,1,i),E=a.extractCommon(P,r,t,B,i),P.oldPos+1>=u&&E+1>=c)return l(WCe(a,P.lastComponent,r,t,a.useLongestToken));A[B]=P,P.oldPos+1>=u&&(b=Math.min(b,B-1)),E+1>=c&&(x=Math.max(x,B+1))}f++}if(o(v,"execEditLength"),s)o(function B(){setTimeout(function(){if(f>m||Date.now()>p)return s();v()||B()},0)},"exec")();else for(;f<=m&&Date.now()<=p;){var S=v();if(S)return S}},"diff"),addToPath:o(function(t,r,n,i,s){var a=t.lastComponent;return a&&!s.oneChangePerToken&&a.added===r&&a.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:a.count+1,added:r,removed:n,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:a}}},"addToPath"),extractCommon:o(function(t,r,n,i,s){for(var a=r.length,l=n.length,c=t.oldPos,u=c-i,f=0;u+1<a&&c+1<l&&this.equals(n[c+1],r[u+1],s);)u++,c++,f++,s.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return f&&!s.oneChangePerToken&&(t.lastComponent={count:f,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=c,u},"extractCommon"),equals:o(function(t,r,n){return n.comparator?n.comparator(t,r):t===r||n.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:o(function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},"removeEmpty"),castInput:o(function(t){return t},"castInput"),tokenize:o(function(t){return Array.from(t)},"tokenize"),join:o(function(t){return t.join("")},"join"),postProcess:o(function(t){return t},"postProcess")};function WCe(e,t,r,n,i){for(var s=[],a;t;)s.push(t),a=t.previousComponent,delete t.previousComponent,t=a;s.reverse();for(var l=0,c=s.length,u=0,f=0;l<c;l++){var m=s[l];if(m.removed)m.value=e.join(n.slice(f,f+m.count)),f+=m.count;else{if(!m.added&&i){var h=r.slice(u,u+m.count);h=h.map(function(p,A){var E=n[f+A];return E.length>p.length?E:p}),m.value=e.join(h)}else m.value=e.join(r.slice(u,u+m.count));u+=m.count,m.added||(f+=m.count)}}return s}o(WCe,"buildValues");var Xmr=new Bm;function GCe(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}o(GCe,"longestCommonPrefix");function HCe(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}o(HCe,"longestCommonSuffix");function MJ(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}o(MJ,"replacePrefix");function OJ(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}o(OJ,"replaceSuffix");function ET(e,t){return MJ(e,t,"")}o(ET,"removePrefix");function DF(e,t){return OJ(e,t,"")}o(DF,"removeSuffix");function VCe(e,t){return t.slice(0,Tot(e,t))}o(VCe,"maximumOverlap");function Tot(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var n=t.length;e.length<t.length&&(n=e.length);var i=Array(n),s=0;i[0]=0;for(var a=1;a<n;a++){for(t[a]==t[s]?i[a]=i[s]:i[a]=s;s>0&&t[a]!=t[s];)s=i[s];t[a]==t[s]&&s++}s=0;for(var l=r;l<e.length;l++){for(;s>0&&e[l]!=t[s];)s=i[s];e[l]==t[s]&&s++}return s}o(Tot,"overlapCount");var PF="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",wot=new RegExp("[".concat(PF,"]+|\\s+|[^").concat(PF,"]"),"ug"),FF=new Bm;FF.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};FF.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(s){return s.segment})}else r=e.match(wot)||[];var n=[],i=null;return r.forEach(function(s){/\s/.test(s)?i==null?n.push(s):n.push(n.pop()+s):/\s/.test(i)?n[n.length-1]==i?n.push(n.pop()+s):n.push(i+s):n.push(s),i=s}),n};FF.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};FF.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,n=null,i=null;return e.forEach(function(s){s.added?n=s:s.removed?i=s:((n||i)&&jCe(r,i,n,s),r=s,n=null,i=null)}),(n||i)&&jCe(r,i,n,null),e};function jCe(e,t,r,n){if(t&&r){var i=t.value.match(/^\s*/)[0],s=t.value.match(/\s*$/)[0],a=r.value.match(/^\s*/)[0],l=r.value.match(/\s*$/)[0];if(e){var c=GCe(i,a);e.value=OJ(e.value,a,c),t.value=ET(t.value,c),r.value=ET(r.value,c)}if(n){var u=HCe(s,l);n.value=MJ(n.value,l,u),t.value=DF(t.value,u),r.value=DF(r.value,u)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),n&&(n.value=n.value.replace(/^\s*/,""));else if(e&&n){var f=n.value.match(/^\s*/)[0],m=t.value.match(/^\s*/)[0],h=t.value.match(/\s*$/)[0],p=GCe(f,m);t.value=ET(t.value,p);var A=HCe(ET(f,p),h);t.value=DF(t.value,A),n.value=MJ(n.value,f,A),e.value=OJ(e.value,f,f.slice(0,f.length-A.length))}else if(n){var E=n.value.match(/^\s*/)[0],x=t.value.match(/\s*$/)[0],b=VCe(x,E);t.value=DF(t.value,b)}else if(e){var v=e.value.match(/\s*$/)[0],S=t.value.match(/^\s*/)[0],B=VCe(v,S);t.value=ET(t.value,B)}}o(jCe,"dedupeWhitespaceInChangeObjects");var Sot=new Bm;Sot.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(PF,"]+|[^\\S\\n\\r]+|[^").concat(PF,"]"),"ug");return e.match(t)||[]};var GJ=new Bm;GJ.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var s=n[i];i%2&&!t.newlineIsToken?r[r.length-1]+=s:r.push(s)}return r};GJ.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),Bm.prototype.equals.call(this,e,t,r)};var _ot=new Bm;_ot.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var kot=new Bm;kot.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function UJ(e){"@babel/helpers - typeof";return UJ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},UJ(e)}o(UJ,"_typeof");var xT=new Bm;xT.useLongestToken=!0;xT.tokenize=GJ.tokenize;xT.castInput=function(e,t){var r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(s,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(qJ(e,null,null,i),i,"  ")};xT.equals=function(e,t,r){return Bm.prototype.equals.call(xT,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function qJ(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var s;for(s=0;s<t.length;s+=1)if(t[s]===e)return r[s];var a;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),s=0;s<e.length;s+=1)a[s]=qJ(e[s],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),UJ(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var l=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&l.push(c);for(l.sort(),s=0;s<l.length;s+=1)c=l[s],a[c]=qJ(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}o(qJ,"canonicalize");var WJ=new Bm;WJ.tokenize=function(e){return e.slice()};WJ.join=WJ.removeEmpty=function(e){return e};d();var b5={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},HJ={};for(let[e,t]of Object.entries(b5))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)HJ[r]=e;else HJ[e]=e;function YCe(e){return HJ[e]}o(YCe,"mdCodeBlockLangToLanguageId");var KCe={start:"//",end:""},Rot=["php","plaintext"],$Ce={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function Dot({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o(Dot,"hasLanguageMarker");function NF(e,t){let r=b5[t]?b5[t].lineComment:KCe;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${e}${n}`}return""}o(NF,"comment");function Pot(e,t){let r=b5[t]?b5[t].lineComment:KCe;if(!r)return e;let n=e,i=`${r.start} `;if(n.startsWith(i)&&(n=n.substring(i.length)),r.end&&r.end!==""){let s=` ${r.end}`;n.endsWith(s)&&(n=n.substring(0,n.length-s.length))}return n}o(Pot,"uncomment");function JCe(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>Pot(s,t)).join(`
`);return r?i+`
`:i}o(JCe,"uncommentBlockAsSingles");function Gs(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>NF(s,t)).join(`
`);return r?i+`
`:i}o(Gs,"commentBlockAsSingles");function LF(e){let{languageId:t}=e;return Rot.indexOf(t)===-1&&!Dot(e)?t in $Ce?$Ce[t]:NF(`Language: ${t}`,t):""}o(LF,"getLanguageMarker");function QF(e){return e.relativePath?NF(`Path: ${e.relativePath}`,e.languageId):""}o(QF,"getPathMarker");function A0(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(A0,"newLineEnded");function XCe(e){return zCe(typeof e=="string"?e:"plaintext")}o(XCe,"getLanguage");function zCe(e){return b5[e]!==void 0?{languageId:e,...b5[e]}:{languageId:e,lineComment:{start:"//",end:""}}}o(zCe,"_getLanguage");d();d();d();d();d();d();d();d();var Fot={tokenizerName:"cl100k_base"};function Not(e){return{...Fot,...e}}o(Not,"cursorContextOptions");function Sv(e,t={}){let r=Not(t),n=vo(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}o(Sv,"getCursorContext");d();var VJ=class{constructor(t){this.keys=[];this.cache={};this.size=t}static{o(this,"FifoCache")}put(t,r){if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let n=this.keys.shift()??"";delete this.cache[n]}}get(t){return this.cache[t]}};var jJ=class{static{o(this,"Tokenizer")}constructor(t){this.stopsForLanguage=Oot.get(t.languageId)??Mot}tokenize(t){return new Set(Lot(t).filter(r=>!this.stopsForLanguage.has(r)))}},ZCe=new VJ(20),_v=class{static{o(this,"WindowedMatcher")}constructor(t){this.referenceDoc=t,this.tokenizer=new jJ(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){let n=[];if(t.source.length===0||(await this.referenceTokens).size===0)return n;let i=t.source.split(`
`),s=this.id()+":"+t.source,a=ZCe.get(s)??[],l=a.length==0,c=l?i.map(u=>this.tokenizer.tokenize(u),this.tokenizer):[];for(let[u,[f,m]]of this.getWindowsDelineations(i).entries()){if(l){let A=new Set;c.slice(f,m).forEach(E=>E.forEach(x=>A.add(x),A)),a.push(A)}let h=a[u],p=this.similarityScore(h,await this.referenceTokens);if(n.length&&f>0&&n[n.length-1].endLine>f){n[n.length-1].score<p&&(n[n.length-1].score=p,n[n.length-1].startLine=f,n[n.length-1].endLine=m);continue}n.push({score:p,startLine:f,endLine:m})}return l&&ZCe.put(s,a),this.sortScoredSnippets(n,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let n=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let s=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let l=n.slice(i[a].startLine,i[a].endLine).join(`
`);s.push({snippet:l,semantics:"snippet",provider:"similar-files",...i[a]})}return s}};function Lot(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(Lot,"splitIntoWords");var Qot=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),Mot=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...Qot]),Oot=new Map([]);d();function OF(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}o(OF,"getBasicWindowDelineations");var UF=class e extends _v{static{o(this,"FixedWindowSizeJaccardMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return OF(this.windowLength,t)}_getCursorContextInfo(t){return Sv(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return Uot(t,r)}};function Uot(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(Uot,"computeScore");d();d();var t3e=require("fs"),qF=nt(require("path")),WF=nt(e3e());var zJ={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function Pu(e){return e in zJ&&e!=="csharp"&&e!=="java"}o(Pu,"isSupportedLanguageId");function GF(e){if(!(e in zJ))throw new Error(`Unrecognized language: ${e}`);return zJ[e]}o(GF,"languageIdToWasmLanguage");var $J=new Map;async function qot(e){let t,r=qF.default.resolve(qF.default.extname(__filename)!==".ts"?__dirname:qF.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await t3e.promises.readFile(r)}catch(n){throw n instanceof Error&&"code"in n&&typeof n.code=="string"&&n.name==="Error"?new g1(`Could not load tree-sitter-${e}.wasm`,n):n}return WF.default.Language.load(t)}o(qot,"loadWasmLanguage");function Wot(e){let t=GF(e);if(!$J.has(t)){let r=qot(t);$J.set(t,r)}return $J.get(t)}o(Wot,"getLanguage");var YJ=class extends Error{static{o(this,"WrappedError")}constructor(t,r){super(t,{cause:r})}};async function A1(e,t){await WF.default.init();let r;try{r=new WF.default}catch(s){throw s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"&&s.message.includes("table index is out of bounds")?new YJ(`Could not init Parse for language <${e}>`,s):s}let n=await Wot(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}o(A1,"parseTreeSitter");function r3e(e){switch(GF(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":return"}";case"ruby":return"end"}}o(r3e,"getBlockCloseToken");function Got(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}o(Got,"innerQuery");var Hot=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function n3e(e){return Got([Hot],e).length==1}o(n3e,"queryPythonIsDocstring");var HF=class e extends _v{static{o(this,"BlockTokenSubsetMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return OF(this.windowLength,t)}_getCursorContextInfo(t){return Sv(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=e.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let t=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=t?this.referenceDoc.source.slice(t,r):Sv(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return Vot(t,r)}async getEnclosingMemberStart(t,r){let n;try{n=await A1(this.referenceDoc.languageId,t);let i=n.rootNode.namedDescendantForIndex(r);for(;i&&!(e.isMember(i)||e.isBlock(i));)i=i.parent??void 0;return i}finally{n?.delete()}}static isMember(t){switch(t?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function Vot(e,t){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size}o(Vot,"computeScore");var jot=0,$ot=60,zot=4,Yot=1,Kot=20,Jot=1e4,VF={snippetLength:$ot,threshold:jot,maxTopSnippets:zot,maxCharPerFile:Jot,maxNumberOfFiles:Kot,maxSnippetsPerFile:Yot,useSubsetMatching:!1};var Bv={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function Xot(e,t){return(t.useSubsetMatching?HF.FACTORY(t.snippetLength):UF.FACTORY(t.snippetLength)).to(e)}o(Xot,"getMatcher");async function jF(e,t,r){let n=Xot(e,r);return r.maxTopSnippets===0?[]:(await t.filter(s=>s.source.length<r.maxCharPerFile&&s.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(s,a)=>(await s).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(l=>({relativePath:a.relativePath,...l}))),Promise.resolve([]))).filter(s=>s.score&&s.snippet&&s.score>r.threshold).sort((s,a)=>s.score-a.score).slice(-r.maxTopSnippets)}o(jF,"getSimilarSnippets");d();d();function i3e(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let n=t.text.split(`
`);for(let x=0;x<n.length-1;x++)n[x]+=`
`;let i=[];n.forEach((x,b)=>{x===`
`&&i.length>0&&!i[i.length-1].endsWith(`

`)?i[i.length-1]+=`
`:i.push(x)});let s=i.map(x=>e.tokenLength(x)),a=1,l=0;for(;a<=s.length;a++){let x=s.at(-a);if(x){if(x+l>r){a--;break}l+=x}}let u=i.slice(-a).join(""),f=e.tokenLength(u),h=i.slice(0,-a).join(""),p=e.tokenLength(h),A={id:t.id,kind:t.kind,text:u,tokens:f,score:t.score},E={id:t.id,kind:t.kind,text:h,tokens:p,score:t.score};return{summarizedElement:A,removedMaterial:E}}o(i3e,"truncateFirstLinesFirst");var $F=class{static{o(this,"SnippetTextProcessor")}constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",i3e]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,n){return this.kindToFunctionMap.get(r.kind)(t,r,n)}};d();var est=/(\.|->|::)\w+$/;function o3e(e,t){let r=`Use ${e}`;return Gs(r,t)}o(o3e,"announceTooltipSignatureSnippet");function s3e(e){let t=e.source.substring(0,e.offset);return est.test(t)}o(s3e,"endsWithAttributesOrMethod");function a3e(e,t){let r=e.lastIndexOf(`
`)+1,n=e.substring(0,r),i=e.substring(r);return t.snippet=t.snippet+i,[n,t]}o(a3e,"transferLastLineToTooltipSignature");var l3e={text:"",tokens:[]};var vT=500,V3=8192-vT,KJ=4,tst=150,IT=10,zF=15;var bT=class{constructor(t,r){this.maxPromptLength=V3;this.lineEnding="unix";this.tokenizerName="cl100k_base";this.suffixPercent=15;this.suffixMatchThreshold=IT;this.promptOrderListPreset="default";this.promptPriorityPreset="default";this.snippetTextProcessingPreset="default";if(Object.assign(this,t),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`);r==="cpp"?(this.similarFilesOptions??=Bv,this.numberOfSnippets??=Bv.maxTopSnippets):(this.similarFilesOptions??=VF,this.numberOfSnippets??=KJ)}static{o(this,"PromptOptions")}},rst={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function Ba(e){return e=e.toLowerCase(),rst[e]??e}o(Ba,"normalizeLanguageId");async function c3e(e,t={},r=[]){let n=new bT(t,e.languageId),i=vo(n.tokenizerName),s=new $F(n.snippetTextProcessingPreset),a=new TT(n.promptOrderListPreset),l=new YF(n.promptPriorityPreset),{source:c,offset:u}=e;if(u<0||u>c.length)throw new Error(`Offset ${u} is out of range.`);e.languageId=Ba(e.languageId);let f=new JF(i,n.lineEnding,a,s,l),m=r.find(B=>B.provider==="path"),h=r.find(B=>B.provider==="language"),p=r.find(B=>B.provider==="trait"),A=r.find(B=>B.provider==="tooltip-signature");m!==void 0&&m.snippet.length>0?(f.append(m.snippet,"PathMarker"),h&&f.extMarkUnused({text:h.snippet,kind:"LanguageMarker",tokens:i.tokenLength(h.snippet),id:NaN,score:NaN})):h&&f.append(h.snippet,"LanguageMarker"),p!=null&&f.append(p.snippet,"Traits"),r=r.filter(B=>B.provider!=="language"&&B.provider!=="path"&&B.provider!=="tooltip-signature"&&B.provider!=="trait");function E(){u3e(r,e.languageId,i,l,n.numberOfSnippets).forEach(P=>{let F=KF(P.provider);f.append(P.announcedSnippet,F,P.tokens,P.score)})}o(E,"addSnippetsNow"),E();let x=c.substring(0,u);A!==void 0&&i.tokenLength(A.snippet)<=tst?([x,A]=a3e(x,A),f.append(A.snippet,"TooltipSignature")):A!==void 0&&f.extMarkUnused({text:A.snippet,kind:"TooltipSignature",tokens:i.tokenLength(A.snippet),id:NaN,score:NaN}),f.append(x,"BeforeCursor");let b=c.slice(u),{promptInfo:v,newCachedSuffix:S}=f.fulfill(b,n,l3e);return l3e=S,v}o(c3e,"getPrompt");d();function XF(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[i][n]=Math.min((i==0?n:r[i-1][n])+1,(n==0?i:r[i][n-1])+1,(i==0||n==0?Math.max(i,n):r[i-1][n-1])+(e[i]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(XF,"findEditDistanceScore");var v5=50,JJ=5,Rv=class{constructor(){this.used=new Map;this.unused=new Map}static{o(this,"PromptBackground")}add(t){for(let[r,n]of t.used)this.used.set(r,n);for(let[r,n]of t.unused)this.unused.set(r,n)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="TooltipSignature"}},Dv=class{constructor(){this.used=new Map;this.unused=new Map;this.usedCounts=new Map;this.unusedCounts=new Map}static{o(this,"PromptChoices")}toJSON(){return{used:Object.fromEntries(this.used),unused:Object.fromEntries(this.unused),usedCounts:Object.fromEntries(this.usedCounts),unusedCounts:Object.fromEntries(this.unusedCounts)}}add(t){for(let[r,n]of t.used)this.used.set(r,(this.used.get(r)||0)+n);for(let[r,n]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+n);for(let[r,n]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+n);for(let[r,n]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+n)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}},TT=class{static{o(this,"PromptOrderList")}constructor(t="default"){this._rankedList=["LanguageMarker","PathMarker","Traits","CodeSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,n)=>{let i=this._rankedList.indexOf(r.kind),s=this._rankedList.indexOf(n.kind);if(i===-1||s===-1)throw new Error(`Invalid element kind: ${r.kind} or ${n.kind}, not found in prompt element ordering list`);return i===s?r.id-n.id:i-s})}},YF=class extends TT{static{o(this,"PromptPriorityList")}constructor(t="default"){switch(super(),t){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","LanguageMarker","Traits"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","PathMarker","LanguageMarker","Traits"]}}sortElements(t){return t.sort((r,n)=>{let i=this._rankedList.indexOf(r.kind),s=this._rankedList.indexOf(n.kind);if(i===-1||s===-1)throw new Error(`Invalid element kind: ${r.kind} or ${n.kind}, not found in snippet provider priority list`);return i===s?n.id-r.id:i-s})}};function KF(e){switch(e){case"similar-files":return"SimilarFile";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";case"trait":return"Traits";case"code":return"CodeSnippet";default:throw new Error(`Unknown snippet provider type ${e}`)}}o(KF,"kindForSnippetProviderType");var ZF=class{constructor(t){this.ranges=new Array;let r=0,n;for(let i of t)i.text.length!==0&&(n==="BeforeCursor"&&i.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=i.text.length:this.ranges.push({kind:i.kind,start:r,end:r+i.text.length}),n=i.kind,r+=i.text.length)}static{o(this,"PromptElementRanges")}},JF=class{constructor(t,r,n,i,s){this.tokenizer=t;this.lineEndingOption=r;this.orderingList=n;this.snippetTextProcessor=i;this.priorityList=s;this.content=[];this.basePromptBackground=new Rv;this.baseTallyOfChoices=new Dv}static{o(this,"PromptWishlist")}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n?/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,n=this.tokenizer.tokenLength(t),i=NaN){t=this.convertLineEndings(t);let s=this.content.length;return this.content.push({id:s,text:t,kind:r,tokens:n,score:i}),s}fulfillPrefix(t){let r=new Rv;r.add(this.basePromptBackground);let n=new Dv;n.add(this.baseTallyOfChoices);function i(A){r.markUsed(A),n.markUsed(A)}o(i,"markUsed");function s(A){r.undoMarkUsed(A),n.undoMarkUsed(A)}o(s,"undoMarkUsed");function a(A){r.markUnused(A),n.markUnused(A)}o(a,"markUnused"),this.priorityList.sortElements(this.content);let l,c=[],u=t;this.content.forEach(A=>{if(u>0||l===void 0){let E=A.tokens;if(u>=E)u-=E,i(A),c.push(A);else if(A.kind==="BeforeCursor"&&u>0){let{summarizedElement:x,removedMaterial:b}=this.snippetTextProcessor.summarize(this.tokenizer,A,u);A=x,E=A.tokens,u-=E,A.text.length>0&&i(A),b.text.length>0&&a(b),c.push(A)}else l===void 0?l=A:a(A)}else a(A)}),this.orderingList.sortElements(c);let f=c.reduce((A,E)=>A+E.text,""),m=this.tokenizer.tokenLength(f);for(;m>t;){this.priorityList.sortElements(c);let A=c.pop();A&&(s(A),a(A),l!==void 0&&a(l),l=void 0),this.orderingList.sortElements(c),f=c.reduce((E,x)=>E+x.text,""),m=this.tokenizer.tokenLength(f)}let h=[...c];if(l!==void 0){h.push(l),this.orderingList.sortElements(h);let A=h.reduce((x,b)=>x+b.text,""),E=this.tokenizer.tokenLength(A);if(E<=t){i(l);let x=new ZF(h);return{prefix:A,suffix:"",prefixLength:E,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:x}}else a(l)}let p=new ZF(c);return{prefix:f,suffix:"",prefixLength:m,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:p}}fulfill(t,r,n){if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:n};let i=r.maxPromptLength-JJ,s=Math.floor(i*(100-r.suffixPercent)/100),a=i-s,l=t.replace(/^.*/,"").trimStart();if(i>v5&&a<v5)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${a} < ${v5}
`);let c=this.tokenizer.takeFirstTokens(l,v5),u=!1;c.tokens.length>0&&r.suffixMatchThreshold>0&&100*XF(c.tokens,n.tokens.slice(0,v5))?.score<r.suffixMatchThreshold*c.tokens.length&&(u=!0);let f;if(u)s=i-n.tokens.length,f=n;else{let h=this.maxPrefixTokenLength(),p=this.tokenizer.tokenLength(l);h<s?(s=h,a=i-s):p<a&&(s=i-p,a=p),f=this.tokenizer.takeFirstTokens(l,a)}let m=this.fulfillPrefix(s);return m.suffix=f.text,m.suffixLength=f.tokens.length,{promptInfo:m,newCachedSuffix:f}}};var nst={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function XJ(e,t){let r=nst[e.semantics],n=["snippets"].includes(e.semantics)?"these":"this",s=(e.relativePath?`Compare ${n} ${r} from ${e.relativePath}:`:`Compare ${n} ${r}:`)+`
`+e.snippet;return s.endsWith(`
`)||(s+=`
`),Gs(s,t)}o(XJ,"announceSnippet");function f3e(e){e.sort((t,r)=>r.score-t.score)}o(f3e,"sortSnippetsDescending");function ist(e,t,r){if(t==0)return[];let n=e.map(s=>({...s,kind:KF(s.provider)})),i=[];return r.rankedList.forEach(s=>{let a=n.filter(({kind:l})=>l===s);f3e(a),i.push(...a)}),i.slice(0,t)}o(ist,"selectSnippets");function u3e(e,t,r,n,i){let a=ist(e,i,n).map(l=>{let c=XJ(l,t),u=r.tokenLength(c);return{announcedSnippet:c,provider:l.provider,score:l.score,tokens:u,relativePath:l.relativePath}}).filter(l=>l.tokens>0);return f3e(a),a.reverse(),a}o(u3e,"processSnippetsForWishlist");d();var y1=class extends Error{static{o(this,"ProviderTimeoutError")}constructor(t){super(t),this.name="ProviderTimeoutError"}},Rc=class{static{o(this,"SnippetProvider")}constructor(t){this.api=t}getSnippets(t,r){return new Promise((n,i)=>{r.aborted&&i(new j3(this.type,new y1("provider aborted"))),r.addEventListener("abort",()=>{i(new j3(this.type,new y1(`max runtime exceeded: ${ZJ} ms`)))},{once:!0});let s=performance.now();this.buildSnippets(t).then(a=>{let l=performance.now();n({snippets:a,providerType:this.type,runtime:l-s})}).catch(a=>{i(new j3(this.type,a))})})}};var eN=class extends Rc{constructor(){super(...arguments);this.type="code"}static{o(this,"CodeSnippetProvider")}async buildSnippets(r){if(r.codeSnippets===void 0||r.codeSnippets.length===0)return[];let{codeSnippets:n}=r,i=new Map;for(let a of n){let l=a.relativePath??a.snippet.uri,c=i.get(l);c===void 0&&(c=[],i.set(l,c)),c.push(a)}let s=[];return i.forEach((a,l)=>{let c=a.map(u=>u.snippet.value).join(`
---
`);s.push({provider:this.type,semantics:a.length>1?"snippets":"snippet",snippet:A0(c),relativePath:l,startLine:0,endLine:0,score:Math.max(...a.map(u=>u.snippet.importance??0))})}),s}};d();var tN=class extends Rc{constructor(){super(...arguments);this.type="language"}static{o(this,"LanguageSnippetProvider")}async buildSnippets(r){let{currentFile:n}=r;return n.languageId=Ba(n.languageId),[{provider:this.type,semantics:"snippet",snippet:A0(LF(n)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var rN=class extends Rc{constructor(){super(...arguments);this.type="path"}static{o(this,"PathSnippetProvider")}async buildSnippets(r){let{currentFile:n}=r;return n.languageId=Ba(n.languageId),[{provider:this.type,semantics:"snippet",snippet:A0(QF(n)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var nN=class extends Rc{constructor(){super(...arguments);this.type="similar-files"}static{o(this,"SimilarFilesProvider")}async buildSnippets(r){let{currentFile:n,similarFiles:i,options:s}=r;return s&&i&&i.length?await this.api.getSimilarSnippets(n,i,s.similarFilesOptions):[]}};d();var iN=class extends Rc{constructor(){super(...arguments);this.type="tooltip-signature"}static{o(this,"TooltipSignatureSnippetProvider")}async buildSnippets(r){let{currentFile:n,tooltipSignature:i}=r,s=[];return n.languageId=Ba(n.languageId),i&&s3e(n)&&s.push({provider:this.type,semantics:"snippet",snippet:A0(o3e(i,n.languageId)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}),s}};d();var oN=class extends Rc{constructor(){super(...arguments);this.type="trait"}static{o(this,"TraitProvider")}async buildSnippets(r){if(r.traits.length===0)return[];let{currentFile:n}=r;return n.languageId=Ba(n.languageId),[{provider:this.type,semantics:"snippet",snippet:Gs(`Consider this related information:
`+r.traits.map(i=>i.kind==="string"?A0(i.value):A0(`${i.name}: ${i.value}`)).join(""),n.languageId),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var sN=nt(require("path")),up=require("worker_threads");function ost(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}o(ost,"sleep");var d3e=["getSimilarSnippets","sleep"],eX=class{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=jF;this.sleep=ost;!up.isMainThread&&up.workerData?.port&&(w$(),process.cwd=()=>up.workerData.cwd,this.configureWorkerResponse(up.workerData.port))}static{o(this,"WorkerProxy")}initWorker(){let{port1:t,port2:r}=new up.MessageChannel;this.port=t,this.worker=new up.Worker(sN.default.resolve(sN.default.extname(__filename)!==".ts"?__dirname:sN.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",n=>this.handleMessage(n)),this.port.on("error",n=>this.handleError(n))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of d3e)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of d3e){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",r=>void this.onMessage(r))}async onMessage({id:t,fn:r,args:n}){let i=this[r];if(!i)throw new Error(`Function not found: ${r}`);try{let s=await i.apply(this,n);this.port.postMessage({id:t,res:s})}catch(s){if(!(s instanceof Error))throw s;typeof s.code=="string"?this.port.postMessage({id:t,err:s,code:s.code}):this.port.postMessage({id:t,err:s})}}handleMessage({id:t,err:r,code:n,res:i}){let s=this.handlers.get(t);s&&(this.handlers.delete(t),r?(r.code=n,s.reject(r)):s.resolve(i))}handleError(t){let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&r.message?.endsWith("workerProxy.js'")&&(r=new g1("Failed to load workerProxy.js"));let n=new Error().stack;r.stack&&n?.match(/^Error\n/)&&(r.stack+=n.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let n of this.handlers.values())n.reject(r);throw r}proxy(t){this[t]=function(...r){let n=this.nextHandlerId++;return new Promise((i,s)=>{this.handlers.set(n,{resolve:i,reject:s}),this.port?.postMessage({id:n,fn:t,args:r})})}}},aN=new eX;var ZJ=300,sst=[tN,rN,nN,iN,oN,eN],j3=class extends Error{constructor(r,n){super();this.providerType=r;this.error=n}static{o(this,"ProviderError")}};function m3e(e){return e.status==="fulfilled"}o(m3e,"isFulfilledResult");function ast(e){return e.status==="rejected"}o(ast,"isRejectedResult");function tX(e){return e.filter(m3e).flatMap(t=>t.value.snippets)}o(tX,"providersSnippets");function rX(e){return e.filter(ast).flatMap(t=>t.reason)}o(rX,"providersErrors");function nX(e){let t={},r={};return e.forEach(n=>{m3e(n)?(t[n.value.providerType]=Math.round(n.value.runtime),r[n.value.providerType]=!1):lst(n.reason)&&(r[n.reason.providerType]=!0,t[n.reason.providerType]=0)}),{runtimes:t,timeouts:r}}o(nX,"providersPerformance");function lst(e){return e!==null&&typeof e=="object"&&"error"in e&&e.error instanceof y1}o(lst,"isProviderTimeout");var Rm=class{constructor(t=sst){this.startThreading=o(()=>aN.startThreading(),"startThreading");this.stopThreading=o(()=>aN.stopThreading(),"stopThreading");this.providers=t.map(r=>new r(aN))}static{o(this,"SnippetOrchestrator")}async getSnippets(t){let r=AbortSignal.timeout(ZJ),n=this.providers.map(i=>i.getSnippets(t,r));return Promise.allSettled?Promise.allSettled(n):cst(n)}};function cst(e){return Promise.all(e.map(t=>t.then(ust,fst)))}o(cst,"allSettledBackup");function ust(e){return{status:"fulfilled",value:e}}o(ust,"createPromiseFulfilledResult");function fst(e){return{status:"rejected",reason:e}}o(fst,"createPromiseRejectedResult");d();var lN=class{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{o(this,"BaseBlockParser")}async getNodeMatchAtPosition(t,r,n){let i=await A1(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((c==""?a.namedChildren[0]:a.childForFieldName(c))?.type==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let s=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,l=a?.nextSibling;for(;l&&l.type=="comment";){let c=l.startPosition.row==s.endPosition.row&&l.startPosition.column>=s.endPosition.column,u=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(c||u)s=l,l=l.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return n(s)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),s=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(s!==void 0&&s<i.length){let a=s-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}},cN=class extends lN{constructor(r,n,i,s,a){super(r,s,a);this.blockEmptyMatch=n;this.lineMatch=i}static{o(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,s=>{s.startIndex<n&&(n=s.startIndex);let a=r.substring(n,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=p3e(r,n),this.isBlockStart(dst(r,n))&&this.isBlockBodyEmpty(r,n)}};function dst(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(dst,"getLineAtOffset");function p3e(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(p3e,"rewindToNearestNonWs");function h3e(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}o(h3e,"indent");function mst(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=h3e(e,r),i=h3e(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}o(mst,"outdented");var I5=class extends lN{constructor(r,n,i,s,a,l,c){super(r,n,i);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=c}static{o(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&n3e(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let s=n;s<r.length&&r.charAt(s)!=`
`;s++)if(/\S/.test(r.charAt(s)))return!1;n=p3e(r,n);let i=await A1(this.languageId,r);try{let s=i.rootNode.descendantForIndex(n-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let f=s;for(;f.parent;){if(f.type=="function_signature"||f.type=="method_signature"){let m=s.nextSibling;return m&&f.hasError()&&mst(f,m,r)?!0:!f.children.find(p=>p.type==";")&&f.endIndex<=n}f=f.parent}}let a=null,l=null,c=null,u=s;for(;u!=null;){if(u.type==this.blockNodeType){l=u;break}if(this.nodeMatch[u.type]){c=u;break}if(u.type=="ERROR"){a=u;break}u=u.parent}if(l!=null){if(!l.parent||!this.nodeMatch[l.parent.type])return!1;if(this.languageId=="python"){let f=l.previousSibling;if(f!=null&&f.hasError()&&(f.text.startsWith('"""')||f.text.startsWith("'''")))return!0}return this.isBlockEmpty(l,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let f=[...a.children].reverse(),m=f.find(p=>this.startKeywords.includes(p.type)),h=f.find(p=>p.type==this.blockNodeType);if(m){switch(this.languageId){case"python":{m.type=="try"&&s.type=="identifier"&&s.text.length>4&&(h=f.find(E=>E.hasError())?.children.find(E=>E.type=="block"));let p,A=0;for(let E of a.children){if(E.type==":"&&A==0){p=E;break}E.type=="("&&(A+=1),E.type==")"&&(A-=1)}if(p&&m.endIndex<=p.startIndex&&p.nextSibling){if(m.type=="def"){let E=p.nextSibling;if(E.type=='"'||E.type=="'"||E.type=="ERROR"&&(E.text=='"""'||E.text=="'''"))return!0}return!1}break}case"javascript":{let p=f.find(x=>x.type=="formal_parameters");if(m.type=="class"&&p)return!0;let A=f.find(x=>x.type=="{");if(A&&A.startIndex>m.endIndex&&A.nextSibling!=null||f.find(x=>x.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}case"typescript":{let p=f.find(E=>E.type=="{");if(p&&p.startIndex>m.endIndex&&p.nextSibling!=null||f.find(E=>E.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}}return h&&h.startIndex>m.endIndex?this.isBlockEmpty(h,n):!0}}if(c!=null){let f=this.nodeMatch[c.type],m=c.children.slice().reverse().find(h=>h.type==f);if(m)return this.isBlockEmpty(m,n);if(this.nodeTypesWithBlockOrStmtChild.has(c.type)){let h=this.nodeTypesWithBlockOrStmtChild.get(c.type),p=h==""?c.children[0]:c.childForFieldName(h);if(p&&p.type!=this.blockNodeType&&p.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}},hst={python:new I5("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new I5("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new I5("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new I5("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new cN("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new cN("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new I5("csharp",{},new Map([]),[],"block",null,!0),java:new I5("java",{},new Map([]),[],"block",null,!0)};function iX(e){if(!Pu(e))throw new Error(`Language ${e} is not supported`);return hst[GF(e)]}o(iX,"getBlockParser");async function g3e(e,t,r){return Pu(e)?iX(e).isEmptyBlockStart(t,r):!1}o(g3e,"isEmptyBlockStart");async function A3e(e,t,r,n){if(Pu(e))return iX(e).isBlockBodyFinished(t,r,n)}o(A3e,"isBlockBodyFinished");async function y3e(e,t,r){if(Pu(e))return iX(e).getNodeStart(t,r)}o(y3e,"getNodeStart");function oX(e,t){return new C3e.Worker(uN.default.resolve(uN.default.extname(__filename)!==".ts"?__dirname:uN.default.resolve(__dirname,"../../dist"),e),{workerData:t})}o(oX,"createWorker");var sX=class{constructor(t){this.ctx=t;this.cache=new Bn(200)}static{o(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new aX(()=>this.ctx.get(Vf).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){return this.cache.get(t.stringify())?.value()}},aX=class{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}static{o(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function Ast(e){return"uri"in e}o(Ast,"isCompletionsFiltersInfo");var jt=class e{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new sX(this.ctx)}static{o(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}registerDynamicFilterGroup(t){this.dynamicFilterGroups.push(t)}getDynamicFilterValues(){let t={};for(let r of this.dynamicFilterGroups)Object.assign(t,r());for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r=nn.createAndMarkAsIssued()){if(r instanceof f1)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let n=t&&Ast(t)?E5(this.ctx,t.uri):void 0,i=p1(n)??"",s=ACe(n)??"",a=t?.languageId??"",l=C5(this.ctx).modelId,c=await gCe(this.ctx),u=await hT(this.ctx,"ft"),f=await hT(this.ctx,"ol"),m=await hT(this.ctx,"cml"),h=await hT(this.ctx,"tid"),p={"X-Copilot-Repository":i,"X-Copilot-FileType":a,"X-Copilot-UserKind":c,"X-Copilot-Dogfood":s,"X-Copilot-Engine":l,"X-Copilot-CustomModel":u,"X-Copilot-Orgs":f,"X-Copilot-CustomModelNames":m,"X-Copilot-CopilotTrackingId":h},A=this.getGranularityDirectory(),E=this.makeFilterSettings(p),x=A.extendFilters(E),b=await this.getExpConfig(x.newFilterSettings);A.update(E,+(b.variables.copilotbycallbuckets??NaN),+(b.variables.copilottimeperiodsizeinh??NaN));let v=A.extendFilters(E),S=v.newFilterSettings,B=await this.getExpConfig(S),P=new Promise(F=>setTimeout(F,e.upcomingDynamicFilterCheckDelayMs));for(let F of v.otherFilterSettingsToPrefetch)P=P.then(async()=>{await new Promise(G=>setTimeout(G,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(F)});return this.prepareForUpcomingFilters(S),new f1(r.properties,r.measurements,r.issuedTime,{filters:S,exp:B})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(hs).machineId;this.granularityDirectory=new zP(t,this.ctx.get($h))}return this.granularityDirectory}makeFilterSettings(t){return new l3({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return Gf.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(r)}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-e.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(i=>setTimeout(i,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){let t=this.assignments.getCachedExpConfig(new l3({}));return JSON.stringify(t?.variables??{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}disableLogProb(t){return t.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}overrideNumGhostCompletions(t){return t.filtersAndExp.exp.variables.copilotoverridednumghostcompletions}dropCompletionReasons(t){let r=t.filtersAndExp.exp.variables.copilotdropcompletionreasons;if(r)return r.split(",")}showModelTeaserFeature(t){return t.filtersAndExp.exp.variables.showmodelteaser??!1}customEngine(t){return t.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(t){return t.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(t){return t.filtersAndExp.exp.variables.CopilotSuffixPercent??zF}suffixMatchThreshold(t){return t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??IT}cppHeaders(t){return t.filtersAndExp.exp.variables.copilotcppheaders??!1}relatedFilesVSCodeCSharp(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}cppIncludeTraits(t){let r=t.filtersAndExp.exp.variables.copilotcppIncludeTraits;if(r)return r.split(",")}cppMsvcCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppMsvcCompilerArgumentFilter}cppClangCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppClangCompilerArgumentFilter}cppGccCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppGccCompilerArgumentFilter}cppCompilerArgumentDirectAskMap(t){return t.filtersAndExp.exp.variables.copilotcppCompilerArgumentDirectAskMap}relatedFilesVSCode(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}excludeOpenTabFilesCSharp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescsharp??!1}excludeOpenTabFilesCpp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescpp??!1}excludeOpenTabFilesTypeScript(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilestypescript??!1}fallbackToOpenTabFilesWithNoRelatedFiles(t){return t.filtersAndExp.exp.variables.copilotfallbacktoopentabfiles??!1}contextProviders(t){let r=t.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}includeNeighboringFiles(t){return t.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}maxPromptCompletionTokens(t){return t.filtersAndExp.exp.variables.maxpromptcompletionTokens??V3+vT}promptOrderListPreset(t){let r=t.filtersAndExp.exp.variables.copilotpromptorderlistpreset;return"default"}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){case"office-exp":return"office-exp";default:return"default"}}promptComponentsEnabled(t){return t.filtersAndExp.exp.variables.copilotpromptcomponents??!1}ideChatMaxRequestTokens(t){return t.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(t){return t.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(t){return t.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}ideChatEnableProjectContext(t){return t.filtersAndExp.exp.variables.idechatenableprojectcontext??!1}ideEnableCopilotEditsAgent(t){return t.filtersAndExp.exp.variables.ideenablecopiloteditsagent??!1}ideChatProjectContextFileCountThreshold(t){return t.filtersAndExp.exp.variables.idechatprojectcontextfilecountthreshold??0}disableDebounce(t){return t.filtersAndExp.exp.variables.copilotdisabledebounce??!1}recentEditsInPrompt(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinprompt??!1}recentEditsEditCount(t){return t.filtersAndExp.exp.variables.copilotrecenteditseditcount??5}recentEditsContextLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditscontextlines??3}recentEditsMaxLinesBetweenEdits(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxlinesbetweenedits??100}debounceThreshold(t){return t.filtersAndExp.exp.variables.copilotdebouncethreshold}triggerCompletionAfterAccept(t){return t.filtersAndExp.exp.variables.copilottriggercompletionafteraccept}enableAsyncCompletions(t){return t.filtersAndExp.exp.variables.copilotasynccompletions??!1}enableSpeculativeRequests(t){return t.filtersAndExp.exp.variables.copilotspeculativerequests??!1}cppCodeSnippetsFeatures(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsFeatureNames}cppCodeSnippetsTimeBudgetFactor(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsTimeBudgetFactor}cppCodeSnippetsMaxDistanceToCaret(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsMaxDistanceToCaret}disableContextualFilter(t){return t.filtersAndExp.exp.variables.copilotdisablecontextualfilter??!1}vscodeDebounceThreshold(t){return t.filtersAndExp.exp.variables.copilotvscodedebouncethreshold}enableElectronFetcher(t){return t.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(t){return t.filtersAndExp.exp.variables.copilotasynccompletionstimeout??100}enablePromptContextProxyField(t){return t.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(t){return t.filtersAndExp.exp.variables.copilotprogressivereveal??!1}};var b3e=nt(require("node:events"));var lX={};qg(lX,{activationEvents:()=>Qst,badges:()=>Lst,bugs:()=>_st,build:()=>bst,buildType:()=>vst,categories:()=>Fst,contributes:()=>cX,default:()=>Hst,dependencies:()=>Wst,description:()=>Est,devDependencies:()=>qst,displayName:()=>Cst,enabledApiProposals:()=>Ost,engines:()=>Pst,extensionPack:()=>Dst,homepage:()=>wst,icon:()=>Bst,keywords:()=>Nst,license:()=>Sst,main:()=>Mst,name:()=>yst,overrides:()=>Gst,preview:()=>Tst,pricing:()=>Rst,publisher:()=>Ist,qna:()=>kst,scripts:()=>Ust,version:()=>xst});var yst="copilot",Cst="GitHub Copilot",Est="Your AI pair programmer",xst="1.297.0",bst="1488",vst="prod",Ist="GitHub",Tst=!1,wst="https://github.com/features/copilot?editor=vscode",Sst="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",_st={url:"https://github.com/microsoft/vscode-copilot-release/issues"},kst="https://github.com/github-community/community/discussions/categories/copilot",Bst="assets/Copilot-App-Icon.png",Rst="Trial",Dst=["GitHub.copilot-chat"],Pst={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},Fst=["AI","Chat","Programming Languages","Machine Learning"],Nst=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],Lst=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],Qst=["onStartupFinished"],Mst="./dist/extension",Ost=["inlineCompletionsAdditions"],cX={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && !commentEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completion Model"__ command or open the model picker from the Copilot menu. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"application",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.editor.enableAutoCompletions instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},Ust={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":"npm -C prompt run test","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},qst={"@datadog/datadog-ci":"^3.3.1","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.0","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^7.0.2","@types/git-url-parse":"^9.0.3","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.8.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.3.8","@vscode/vsce":"^3.3.2","@yao-pkg/pkg":"^6.3.2",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^16.10.0",electron:"^28.1.4",esbuild:"^0.25.2","esbuild-plugin-copy":"^2.1.1","esbuild-plugin-summary":"^0.0.2",eslint:"^9.23.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",fantasticon:"^3.0.0",glob:"^11.0.1",globals:"^16.0.0","js-yaml":"^4.1.0",mocha:"^11.1.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.1.0",proxy:"^2.1.1",sinon:"^20.0.0","ts-dedent":"^2.2.0","ts-node":"^10.9.1","tsconfig-paths":"^4.2.0",tsx:"^4.19.3",typescript:"^5.8.2","typescript-eslint":"^8.29.0","vscode-dts":"^0.3.3"},Wst={"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.6","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.9","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.36","@vscode/prompt-tsx":"0.3.0-alpha.21","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^7.0.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^16.0.0",kerberos:"^2.2.0","mac-ca":"^3.1.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.1.0",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},Gst={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},Hst={name:yst,displayName:Cst,description:Est,version:xst,build:bst,buildType:vst,publisher:Ist,preview:Tst,homepage:wst,license:Sst,bugs:_st,qna:kst,icon:Bst,pricing:Rst,extensionPack:Dst,engines:Pst,categories:Fst,keywords:Nst,badges:Lst,activationEvents:Qst,main:Mst,enabledApiProposals:Ost,contributes:cX,scripts:Ust,devDependencies:qst,dependencies:Wst,overrides:Gst};var qt={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",DebugOverrideCppHeaders:"advanced.debug.overrideCppHeaders",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ExcludeOpenTabFilesCSharp:"advanced.excludeOpenTabFilesCSharp",ExcludeOpenTabFilesCpp:"advanced.excludeOpenTabFilesCpp",ExcludeOpenTabFilesTypeScript:"advanced.excludeOpenTabFilesTypeScript",FallbackToOpenTabFilesWithNoRelatedFiles:"advanced.fallbackToOpenTabFilesWithNoRelatedFiles",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",EnablePromptComponents:"advanced.enablePromptComponents",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",UseAsyncCompletions:"internal.useAsyncCompletions",EnableSpeculativeRequests:"internal.enableSpeculativeRequests",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",VSCodeDebounceThreshold:"internal.vscodeDebounceThreshold",VSCodeRecentEditsInPrompt:"internal.vscodeRecentEditsInPrompt",VSCodeRecentEditsEditCount:"internal.vscodeRecentEditsEditCount",VSCodeRecentEditsContextLines:"internal.vscodeRecentEditsContextLines",VSCodeRecentEditsMaxLinesBetweenEdits:"internal.vscodeRecentEditsMaxLinesBetweenEdits"};function v3e(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(v3e,"shouldDoParsingTrimming");function I3e(e){return["server","parsingandserver"].includes(e)}o(I3e,"shouldDoServerTrimming");var Dm=class{static{o(this,"BlockModeConfig")}},Fv=class extends Dm{static{o(this,"ConfigBlockModeConfig")}async forLanguage(t,r,n){let i=t.get(jt).overrideBlockMode(n);if(i)return E3e(i,r);let s=t.get(jt).enableProgressiveReveal(n);return ci(t,qt.AlwaysRequestMultiline)??s?E3e("moremultiline",r):r=="ruby"?"parsing":Pu(r)?"parsingandserver":"server"}};function Vst(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(Vst,"blockModeRequiresTreeSitter");function E3e(e,t){return Vst(e)&&!Pu(t)?"server":e}o(E3e,"toApplicableBlockMode");var fp=class{static{o(this,"ConfigProvider")}},Nv=class extends fp{static{o(this,"DefaultsOnlyConfigProvider")}getConfig(t){return $st(t)}getOptionalConfig(t){return zst(t)}dumpForTelemetry(){return{}}},$3=class extends fp{constructor(r,n){super();this.baseConfigProvider=r;this.overrides=n;this.emitters=new Map}static{o(this,"InMemoryConfigProvider")}getOptionalOverride(r){return this.overrides.get(r)}getConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getConfig(r)}getOptionalConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getOptionalConfig(r)}setConfig(r,n){n!==void 0?this.overrides.set(r,n):this.overrides.delete(r),this.emitters.get(r)?.emit("change",n)}onConfigChange(r,n){this.emitters.has(r)||this.emitters.set(r,new b3e.default),this.emitters.get(r)?.on("change",n)}dumpForTelemetry(){let r=this.baseConfigProvider.dumpForTelemetry();for(let n of[qt.ShowEditorCompletions,qt.EnableAutoCompletions,qt.DelayCompletions,qt.FilterCompletions]){let i=this.overrides.get(n);i!==void 0&&(r[n]=JSON.stringify(i))}return r}};function jst(e){return e?.type==="object"&&"properties"in e}o(jst,"isContributesObject");function T3e(e,t){let r=e,n=[];for(let i of t.split(".")){let s=[...n,i].join(".");r&&typeof r=="object"&&s in r?(r=r[s],n.length=0):n.push(i)}if(!(r===void 0||n.length>0))return r}o(T3e,"getConfigKeyRecursively");function $st(e){if(Pv.has(e))return Pv.get(e);throw new Error(`Missing config default value: ${A7}.${e}`)}o($st,"getConfigDefaultForKey");function zst(e){return Pv.get(e)}o(zst,"getOptionalConfigDefaultForKey");var Pv=new Map([[qt.DebugOverrideCppHeaders,!1],[qt.RelatedFilesVSCodeCSharp,!1],[qt.RelatedFilesVSCodeTypeScript,!1],[qt.RelatedFilesVSCode,!1],[qt.ExcludeOpenTabFilesCSharp,!1],[qt.ExcludeOpenTabFilesCpp,!1],[qt.ExcludeOpenTabFilesTypeScript,!1],[qt.FallbackToOpenTabFilesWithNoRelatedFiles,!1],[qt.ContextProviders,[]],[qt.DebugUseEditorFetcher,null],[qt.DebugUseElectronFetcher,null],[qt.DebugOverrideLogLevels,{}],[qt.DebugSnippyOverrideUrl,""],[qt.FetchStrategy,"auto"],[qt.UseSubsetMatching,null],[qt.EnablePromptComponents,!1],[qt.ContextProviderTimeBudget,150],[qt.DebugOverrideCapiUrl,""],[qt.DebugTestOverrideCapiUrl,""],[qt.DebugOverrideProxyUrl,""],[qt.DebugTestOverrideProxyUrl,""],[qt.DebugOverrideEngine,""],[qt.UseAsyncCompletions,void 0],[qt.EnableSpeculativeRequests,void 0],[qt.AlwaysRequestMultiline,void 0],[qt.TrimCompletionsAggressively,void 0],[qt.VSCodeDebounceThreshold,void 0],[qt.VSCodeRecentEditsInPrompt,void 0],[qt.VSCodeRecentEditsEditCount,void 0],[qt.VSCodeRecentEditsContextLines,void 0],[qt.VSCodeRecentEditsMaxLinesBetweenEdits,void 0],[qt.ShowEditorCompletions,void 0],[qt.DelayCompletions,void 0],[qt.FilterCompletions,void 0]]);for(let e of Object.values(qt)){let t=cX.configuration[0],r=[],n=`${A7}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if(jst(i))r.length=0,t=i;else if(n.length==0&&i?.default!==void 0){if(Pv.has(e))throw new Error(`Duplicate config default value ${A7}.${e}`);Pv.set(e,i.default)}}if(!Pv.has(e))throw new Error(`Missing config default value ${A7}.${e}`)}function ci(e,t){return e.get(fp).getConfig(t)}o(ci,"getConfig");function Y5e(e){return e.get(fp).dumpForTelemetry()}o(Y5e,"dumpForTelemetry");var oo=class{constructor(){this.packageJson=lX}static{o(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function Kye(e){return e.get(oo).isPreRelease()}o(Kye,"isPreRelease");function DP(e){return e.get(oo).isProduction()}o(DP,"isProduction");function Hf(e){return e.get(oo).getBuildType()}o(Hf,"getBuildType");function K5e(e){return e.get(oo).getBuild()}o(K5e,"getBuild");function L3(e){return e.get(oo).getVersion()}o(L3,"getVersion");var hs=class{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}static{o(this,"EditorSession")}};function np({name:e,version:t}){return`${e}/${t}`}o(np,"formatNameAndVersion");var an=class{static{o(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},Yst="2024-12-15";function a0(e){let t=e.get(an);return{"X-GitHub-Api-Version":Yst,"Editor-Version":np(t.getEditorInfo()),"Editor-Plugin-Version":np(t.getEditorPluginInfo()),"Copilot-Language-Server-Version":L3(e)}}o(a0,"editorVersionHeaders");var x3e="Iv1.b507a08c87ecfe98",Hs=class{static{o(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??x3e}fallbackAppId(){return x3e}};d();d();d();var z3={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};d();d();var w3e=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],S3e={".php":[".blade"]},wT=Object.keys(z3).flatMap(e=>z3[e].extensions);var uX=nt(require("node:path"));var Qv=class{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}static{o(this,"Language")}},ST=class{static{o(this,"LanguageDetection")}},fX=new Map,Lv=new Map;for(let[e,{extensions:t,filenames:r}]of Object.entries(z3)){for(let n of t)fX.set(n,[...fX.get(n)??[],e]);for(let n of r??[])Lv.set(n,[...Lv.get(n)??[],e])}var dX=class extends ST{static{o(this,"FilenameAndExensionLanguageDetection")}detectLanguage(t){let r=Fs(t.uri),n=uX.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),s=this.detectLanguageId(r,i),a=this.computeFullyQualifiedExtension(n,i);return s?new Qv(s.languageId,s.isGuess,a):new Qv(t.languageId,!0,a)}extensionWithoutTemplateLanguage(t,r){if(w3e.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=uX.extname(n).toLowerCase();if(i.length>0&&wT.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=S3e[t];return!n||n.includes(r)}detectLanguageId(t,r){if(Lv.has(t))return{languageId:Lv.get(t)[0],isGuess:!1};let n=fX.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),Lv.has(t))return{languageId:Lv.get(t)[0],isGuess:!1}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}},mX=class extends ST{constructor(r){super();this.delegate=r}static{o(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new Qv("cpp",n.isGuess,n.fileExtension):n}},hX=class extends ST{constructor(r){super();this.delegate=r}static{o(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new Qv(r.languageId,!0,""):this.delegate.detectLanguage(r)}},Kst=new mX(new hX(new dX));function fN({uri:e,clientLanguageId:t}){let r=Kst.detectLanguage({uri:e,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?t:r.languageId}o(fN,"detectLanguage");d();d();d();d();function C1(e){if(e.isCancellationRequested)throw new dN}o(C1,"throwIfCancellationRequested");function _T(e){return e instanceof dN?!0:e instanceof Error&&e.name===pX&&e.message===pX}o(_T,"isCancellationError");var dN=class extends Error{static{o(this,"CancellationError")}constructor(){super(pX),this.name=this.message}},pX="Canceled",mN=class{constructor(){this.items=[]}static{o(this,"Stack")}push(t){this.items.push(t)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}tryPeek(){return this.items.length>0}toArray(){return this.items}};function Y3(e){switch(e){case 0:case 2:case 7:case 8:case 11:case 12:case 13:case 14:return!0;default:return!1}}o(Y3,"isTypeDefinition");var Yf=class e{static{o(this,"TextRange")}static{this.empty=new e(0,0)}constructor(t,r){this.start=t,this.length=r}static fromBounds(t,r){return new e(t,r-t)}get end(){return this.start+this.length}contains(t){return this.start<=t&&this.end>=t}containsRange(t){return this.start<=t.start&&this.end>=t.end}equals(t){return this.start===t.start&&this.length===t.length}getText(t){return t.slice(this.start,this.end)}getTextWithIndentation(t,r){let n=[],i=this.start;for(i=k3e(t,t.length,i),_3e(n,r);i<this.end;)t[i]!=="\r"&&t[i]!==`
`?n.push(t[i++]):t[i]==="\r"&&i<t.length&&t[i+1]!==`
`||t[i]===`
`?(n.push(`
`),i=k3e(t,t.length,++i),_3e(n,r)):i++;return n.join("")}};function _3e(e,t){for(let r=0;r<t;r++)e.push(" ")}o(_3e,"appendIndent");function k3e(e,t,r){for(;r<t&&(e[r]===" "||e[r]==="	");)r++;return r}o(k3e,"consumeIndent");var Mv=class{constructor(t,r,n,i,s,a,l,c,u){this.fileName=t;this.fullyQualifiedName=r;this.unqualifiedName=n;this.commentRange=i;this.nameRange=s;this.bodyRange=a;this.extentRange=l;this.kind=c;this.refKind=u;if(t.indexOf("\\")!==-1)throw new Error("fileName must be normalized to use forward slashes as path separators")}static{o(this,"SymbolRange")}equals(t){return this.fileName===t.fileName&&this.fullyQualifiedName===t.fullyQualifiedName&&this.unqualifiedName===t.unqualifiedName&&this.commentRange.equals(t.commentRange)&&this.nameRange.equals(t.nameRange)&&this.bodyRange.equals(t.bodyRange)&&this.extentRange.equals(t.extentRange)&&this.kind===t.kind&&this.refKind===t.refKind}},Pm=class e{constructor(){this.queriesCache=new Map}static{o(this,"SymbolExtractorBase")}async executeQuery(t,r,n){let i;try{i=await A1(this.languageId,r);let s=i.getLanguage(),l=this.getOrCreateQuery(s,n).matches(i.rootNode),c=new mN,u=[];for(let f of l){let m=this.createSymbolRange(c,t,r,f.captures);m&&u.push(m)}return u}finally{i?.delete()}}getOrCreateQuery(t,r){let n=this.queriesCache.get(r);return n||(n=t.query(r),this.queriesCache.set(r,n)),n}createSymbolRange(t,r,n,i){let s=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=null,A=null;for(let b=0;b<i.length;b++){let v=i[b].name;v==="name"?(u=i[b].node.startIndex,f=i[b].node.endIndex):v==="reference"?(u=i[b].node.startIndex,f=i[b].node.endIndex,l=i[b].node.startIndex,c=i[b].node.endIndex,p=v):v==="body"?(m=i[b].node.startIndex,h=i[b].node.endIndex):v==="comment"?(s=s===0?i[b].node.startIndex:Math.min(s,i[b].node.startIndex),a=Math.max(a,i[b].node.endIndex)):v==="receiver"?A=Yf.fromBounds(i[b].node.startIndex,i[b].node.endIndex).getText(n):(l=i[b].node.startIndex,c=i[b].node.endIndex,p=v)}p==="definition.module.filescoped"&&(h=n.length,c=h);let E=Yf.fromBounds(l,c),x=l>0||c>0||u>0||f>0?new Mv(r,"","",Yf.fromBounds(s,a),Yf.fromBounds(u,f),Yf.fromBounds(m,h),E,e.kindFromString(p),0):null;if(x){e.updateScopesForSymbol(t,x);let b=x.nameRange.getText(n),v=this.createNameFromScopes(n,t.toArray());return v=A?`${A}.${v}`:v,new Mv(r,v,b.substring(b.lastIndexOf(".")+1),x.commentRange,x.nameRange,x.bodyRange,x.extentRange,x.kind,0)}return null}static updateScopesForSymbol(t,r){for(;t.tryPeek()&&!t.peek()?.extentRange.containsRange(r.extentRange);)t.pop();t.push(r)}static kindFromString(t){switch(t){case"definition.class":return 0;case"definition.constant":return 1;case"definition.enum_variant":return 3;case"definition.enum":return 2;case"definition.field":return 4;case"definition.function":return 5;case"definition.implementation":return 6;case"definition.interface":return 7;case"definition.macro":return 8;case"definition.method":return 9;case"definition.module":case"definition.module.filescoped":return 10;case"definition.struct":return 11;case"definition.trait":return 12;case"definition.type":return 13;case"definition.union":return 14;case"reference":return 16;default:throw new Error("NotSupportedException")}}};var hN=class extends Pm{static{o(this,"GoSymbolExtractor")}get languageId(){return"go"}extractSymbols(t,r){return this.executeQuery(t,r,Jst)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},pN=class extends Pm{static{o(this,"GoReferenceExtractor")}get languageId(){return"go"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}extractReferences(t,r){return this.executeQuery(t,r,Xst)}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,Zst),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},Jst=`
(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (struct_type (field_declaration_list) @body))) @definition.struct
)

(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (interface_type (_)) @body)) @definition.interface
)

(
    ((comment)* @comment)
    .
    (method_declaration receiver: (parameter_list (parameter_declaration type: [(type_identifier) @receiver (pointer_type (type_identifier) @receiver)] )) name: (_) @name body: (_) @body) @definition.method
)

(
    ((comment)* @comment)
    .
    (method_elem name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (function_declaration name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (field_declaration name: (_) @name) @definition.field
)
`,Xst=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`,Zst=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`;d();var gN=class extends Pm{static{o(this,"JavaSymbolExtractor")}get languageId(){return"java"}extractSymbols(t,r){return this.executeQuery(t,r,eat)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},AN=class extends Pm{static{o(this,"JavaReferenceExtractor")}get languageId(){return"java"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}extractReferences(t,r){return this.executeQuery(t,r,tat)}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,rat),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},eat=`
(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (class_declaration name: (identifier) @name body: (class_body) @body) @definition.class
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (constructor_declaration name: (identifier) @name body: (constructor_body) @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (method_declaration name: (identifier) @name body: (block)? @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (interface_declaration name: (identifier) @name body: (interface_body) @body) @definition.interface
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (field_declaration declarator: (variable_declarator name: (identifier) @name)) @definition.field
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_declaration name: (_) @name body: (_) @body) @definition.enum
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_constant name: (identifier) @name) @definition.enum_variant
)
`,tat=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`,rat=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`;d();var nat=new Set(["int","str","float","bool","list","dict","tuple","set"]),yN=class extends Pm{static{o(this,"PythonSymbolExtractor")}get languageId(){return"python"}extractSymbols(t,r){return this.executeQuery(t,r,iat)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},CN=class extends Pm{static{o(this,"PythonReferenceExtractor")}get languageId(){return"python"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}async extractReferences(t,r){return(await this.executeQuery(t,r,oat)).filter(i=>!nat.has(i.unqualifiedName))}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,sat),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},iat=`
(
    ((comment)* @comment)
    .
    (class_definition name: (_) @name body: (_) @body) @definition.class
)

(
    ((comment)* @comment)
    .
    (function_definition name: (_) @name body: (_) @body) @definition.method
)
`,oat=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
]) @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`,sat=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
])  @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`;var EN=[{symbolExtractor:new gN,referenceExtractor:new AN,languageId:"java"},{symbolExtractor:new hN,referenceExtractor:new pN,languageId:"go"},{symbolExtractor:new yN,referenceExtractor:new CN,languageId:"python"}];function R3e(e){let t=fN({uri:e});if(t&&EN.some(r=>t===r.languageId))return t}o(R3e,"getSupportedLanguageIdForFallbackProvider");var D3e=EN.map(e=>e.referenceExtractor),xN=EN.map(e=>e.symbolExtractor),gX=EN.map(e=>z3[e.languageId].extensions).flat();d();d();var P3e=require("fs");async function F3e(e,t,r,n,i){let s=new Map,a=0;for(let m of e){let h=m.node.fileName.toLowerCase(),p=s.get(h);p?p.symbols.push(m):s.set(h,{symbols:[m],topRank:a}),a++}if(s.delete(r.toLowerCase()),s.size===0)return[];let l=t,c=t/Math.min(4,s.size),u=[],f=Array.from(s.keys());f.sort((m,h)=>{let p=s.get(m).topRank,A=s.get(h).topRank;return p-A});for(let m of f){let h=s.get(m).symbols;if(h.length===0)continue;let p=h[0].node.fileName,A=h.reduce((E,x)=>E+x.node.extentRange.length,0);for(let E of h){if(l<=5)return u;C1(i);let x=E.node.extentRange.length/A,b=Math.min(l,x*c),v=(await aat([E])).elide(b).getText();l-=n.tokenLength(v),u.push({uri:p,value:v})}}return u}o(F3e,"symbolRangesToCodeSnippets");async function aat(e){if(e.length===0)return new Xt([]);let t=e[0].node.fileName,r=[],n="";try{let i=ys(t);i&&(n=(await P3e.promises.readFile(i)).toString())}catch{}for(let i of e)N3e(i,n).forEach(s=>r.push(s));return new Xt(r)}o(aat,"sameFileSymbolRangeToElidableText");function N3e(e,t){let n=[],i=e.node,s=t.substring(AX(t,i.commentRange.start),i.commentRange.end);n.push([yX(s),1-3e-4]);let a=AX(t,i.bodyRange.start),l=AX(t,i.extentRange.start),c=i.bodyRange.length===0?t.substring(l,i.extentRange.end):t.substring(i.commentRange.length===0?l:i.commentRange.end,a);if(Y3(i.kind)&&(c="BEGIN "+c.trimStart()),n.push([yX(c),1-1e-4]),e.children.length>0)for(let u of e.children)n.push(...N3e(u,t));else{let u=1-(Y3(e.node.kind)?3e-4:4e-4),f=t.substring(a,i.bodyRange.end);n.push([yX(f),u])}return Y3(i.kind)&&n.push(["END "+c.substring(6),1-1e-4]),n.filter(u=>u[0].length>0)}o(N3e,"prepareForElidableText");function AX(e,t){for(;t-1>=0&&(e[t-1]==="	"||e[t-1]===" ");)t--;return t}o(AX,"shiftLeftToNearestLineEndingOrAlphanumeric");function yX(e){let t=0;for(;t<e.length&&(e[t]==="\r"||e[t]===`
`);)t++;let r=e.length-1;for(;r>=0&&(e[r]==="\r"||e[r]===`
`||e[r]===" "||e[r]==="	");)r--;return e.substring(t,r+1)}o(yX,"trimLineEndingsAndTrailingWhitespace");var CX=class{constructor(t,r){this.referenceExtractors=new Map;this.index=t;for(let n of r)this.referenceExtractors.set(n.languageId,n)}static{o(this,"ContextRetrievalStrategy")}},kT=class extends CX{static{o(this,"UnqualifiedNameRetrievalStrategy")}constructor(t,r,n,i){super(t,r),this.caseSensitive=n,this.typesOnly=i}async getContextAtPositionAsync(t,r,n,i,s){let a=this.referenceExtractors.get(i);if(!a)return[];C1(s);let l=await a.extractReferences(t,r);C1(s);let c=Array.from(l);c.sort((h,p)=>this.compareSymbolRangesByProximityToCaret(h,p,n));let u=[],f=new Set,m=await this.findDefinitionsViaUnqualifiedNames(c,s);this.typesOnly&&(m=m.filter(h=>Y3(h.kind)));for(let h of m)f.has(JSON.stringify(h))||(f.add(JSON.stringify(h)),u.push(await this.makeSymbolRangeNodeFromDefinition(h,s)));return u}async findDefinitionsViaUnqualifiedNames(t,r){let n=Array.from(new Set(t.map(f=>f.unqualifiedName))),i=!this.caseSensitive,s=await this.index.findPotentialDefinitionsAsync(n,i,r),a=o(f=>i?f.toLowerCase():f,"lowercaseIfCaseInsensitive"),l=o(f=>a(f.unqualifiedName),"getSymbolKey"),c=new Map;for(let f of s){let m=l(f),h=c.get(m)??[];c.set(m,[...h,f])}let u=[];for(let f of n){let m=c.get(a(f));!m||m.length>20||u.push(...m)}return u}async makeSymbolRangeNodeFromDefinition(t,r){if(C1(r),Y3(t.kind)){let n=await this.index.findSymbolsByFullyQualifiedNamePrefix(t.fileName,t.fullyQualifiedName+".",r),i=await Promise.all(n.map(s=>this.makeSymbolRangeNodeFromDefinition(s,r)));return{node:t,children:i}}else return{node:t,children:[]}}compareSymbolRangesByProximityToCaret(t,r,n){let i=t.extentRange.end<=n,s=r.extentRange.end<=n;if(i&&!s)return-1;if(!i&&s)return 1;let a=Math.abs(t.extentRange.start-n),l=Math.abs(r.extentRange.start-n);return a-l}},bN=class{constructor(t,r){this.strategies=new Map;this.strategies.set("go",new kT(t,r,!0,!0)),this.strategies.set("java",new kT(t,r,!0,!0)),this.strategies.set("python",new kT(t,r,!0,!1))}static{o(this,"SyntaxAwareContextRetrieval")}async getStringifiedContextAtPositionAsync(t,r,n,i,s,a){let l=await this.getContextAtPositionAsync(t,r,n,i,a);C1(a);let c=vo();return F3e(l,s,t,c,a)}async getContextAtPositionAsync(t,r,n,i,s){return this.strategies.has(i)?this.strategies.get(i).getContextAtPositionAsync(t,r,n,i,s):[]}};d();d();d();d();var K3={Id:"id"},Fu={FilePath:"filePath",LastWriteTimeUtc:"lastWriteTimeUtc"},Ti={DocumentId:"documentId",FullyQualifiedName:"fullyQualifiedName",UnqualifiedName:"unqualifiedName",CommentStart:"commentStart",CommentLength:"commentLength",NameStart:"nameStart",NameLength:"nameLength",BodyStart:"bodyStart",BodyLength:"bodyLength",ExtentStart:"extentStart",ExtentLength:"extentLength",SymbolKind:"symbolKind",RefKind:"refKind"};d();d();var vN=class{constructor(t,r,n){this.tableName=t;this.createOptimizations=r;this.extraCreateDeclarations=n;this.primaryKey=new EX(K3.Id)}static{o(this,"SQLTableQueryGenerator")}createTableQueries(){return this.createTableString??=this.generateCreateTableString(),[this.createTableString,...this.createOptimizations]}generateCreateTableString(){let t=this.fields.map(r=>r.initColumnString());return this.extraCreateDeclarations&&t.push(this.extraCreateDeclarations),t.push(),[`CREATE TABLE IF NOT EXISTS ${this.tableName} (`,`    ${this.primaryKey.initColumnString()},`,`    ${t.join(`,
`)}`,")"].join(`
`)}insertQuery(t,r){this.cachedInsertQueryStrings??=this.generateInsertQueryStrings();let n=[this.cachedInsertQueryStrings.prefix,Array(r).fill(this.cachedInsertQueryStrings.valuesTemplate).join(`,
`)];return t&&n.push("ON CONFLICT DO NOTHING"),n.join(`
`)}generateInsertQueryStrings(){return{prefix:`INSERT INTO ${this.tableName} (${this.fields.map(t=>t.name).join(", ")})
VALUES`,valuesTemplate:`(${Array(this.fields.length).fill("?").join(", ")})`}}},BT=class e extends vN{constructor(){super(e.tableName,[`CREATE UNIQUE INDEX IF NOT EXISTS 'IX_Document_FilePath' ON '${e.tableName}' ('${Fu.FilePath}');`]);this.fields=[new PT(Fu.FilePath,{notNull:!0,collate:!0,noCase:!0,unique:!0}),new Dc(Fu.LastWriteTimeUtc,{notNull:!0})]}static{o(this,"DocumentQueryGenerator")}static{this.tableName="Document"}},RT=class e extends vN{constructor(){super(e.tableName,[`CREATE INDEX IF NOT EXISTS 'IX_Symbol_DocumentId' ON '${e.tableName}' ('${Ti.DocumentId}', '${Ti.ExtentStart}', '${Ti.ExtentLength}');`,`CREATE INDEX IF NOT EXISTS 'IX_Symbol_UnqualifiedName' ON '${e.tableName}' ('${Ti.UnqualifiedName}');`],`FOREIGN KEY(${Ti.DocumentId}) REFERENCES Document(${K3.Id}) ON DELETE CASCADE`);this.fields=[new Dc(Ti.DocumentId),new PT(Ti.FullyQualifiedName,{notNull:!0}),new PT(Ti.UnqualifiedName,{notNull:!0}),new Dc(Ti.CommentStart,{notNull:!0}),new Dc(Ti.CommentLength,{notNull:!0}),new Dc(Ti.NameStart,{notNull:!0}),new Dc(Ti.NameLength,{notNull:!0}),new Dc(Ti.BodyStart,{notNull:!0}),new Dc(Ti.BodyLength,{notNull:!0}),new Dc(Ti.ExtentStart,{notNull:!0}),new Dc(Ti.ExtentLength,{notNull:!0}),new Dc(Ti.SymbolKind,{notNull:!0}),new Dc(Ti.RefKind,{notNull:!0})]}static{o(this,"SymbolQueryGenerator")}static{this.tableName="Symbol"}},DT=class{constructor(t,r){this.name=t;this.notNull=r?.notNull??!1}static{o(this,"SQLField")}},PT=class extends DT{static{o(this,"StringColumn")}constructor(t,r){super(t,{notNull:r?.notNull}),this.collate=r?.collate??!1,this.noCase=r?.noCase??!1,this.unique=r?.unique??!1}initColumnString(){let t=this.collate?"COLLATE":void 0,r=this.noCase?"NOCASE":void 0,n=this.notNull?"NOT NULL":void 0,i=this.unique?"UNIQUE":void 0,s=[t,r,n,i].filter(a=>a).join(" ");return`'${this.name}' VARCHAR(500) ${s}`}},Dc=class extends DT{static{o(this,"NumberColumn")}initColumnString(){return`'${this.name}' INTEGER${this.notNull?" NOT NULL":""}`}},EX=class extends DT{static{o(this,"NumberPrimaryKeyColumn")}initColumnString(){return`'${this.name}' INTEGER PRIMARY KEY AUTOINCREMENT${this.notNull?" NOT NULL":""}`}};var IN=class{static{o(this,"SQLTable")}constructor(t){this.queryGenerator=this.createQueryGenerator(),this.init=this.doInit(t)}async doInit(t){let r=await t;return await this.create(r),r}async create(t){let r=o(i=>new Promise((s,a)=>{t.run(i,l=>{l?a(l):s()})}),"runQuery"),n=this.queryGenerator.createTableQueries();for(let i of n)await r(i)}async insert(t,r){let n=await this.init;return new Promise((i,s)=>{let a=this.queryGenerator.insertQuery(r,t.length);n.run(a,t.map(l=>Object.values(l)).flat(),function(l){l?s(l):i(this)})})}async getAllRows(){let t=await this.init;return Kf(t,`SELECT * FROM ${this.queryGenerator.tableName}`,[])}async deleteRow(t){let r=await this.init;return Kf(r,`DELETE FROM ${this.queryGenerator.tableName} WHERE ${K3.Id} = ?`,[t])}},E1=class e extends IN{static{o(this,"DocumentTable")}static{this.tableName=BT.tableName}createQueryGenerator(){return new BT}async updateTimestamp(t,r){let n=await this.init;await Kf(n,`UPDATE ${e.tableName} SET ${Fu.LastWriteTimeUtc} = ? WHERE ${Fu.FilePath} = ?`,[r,t])}async deleteAllWithPath(t){let r=await this.init;await Kf(r,`DELETE FROM ${e.tableName} WHERE ${Fu.FilePath} = ?`,[t])}async getDocumentByFilePath(t){let r=await this.init;return Kf(r,`SELECT * FROM ${this.queryGenerator.tableName} WHERE ${Fu.FilePath} = ?`,[t])}},Ra=class e extends IN{static{o(this,"SymbolTable")}static{this.tableName=RT.tableName}createQueryGenerator(){return new RT}async clearAllSymbolsFromDocument(t){let r=await this.init;return Kf(r,`DELETE FROM ${e.tableName} WHERE ${Ti.DocumentId} = ?`,[t])}};async function Kf(e,t,r){return new Promise((n,i)=>e.all(t,r,(s,a)=>{s&&i(s),n(a)}))}o(Kf,"runPromisifiedDBQuery");var z3e=nt($3e());var SN=class{constructor(t){this.databaseFileName=t;this.innerJoinStatement=`INNER JOIN ${E1.tableName} ON ${Ra.tableName}.${Ti.DocumentId} = ${E1.tableName}.${K3.Id}`;this.db=this.initDb(t),this.documentTable=new E1(this.db),this.symbolTable=new Ra(this.db)}static{o(this,"DocumentSymbolDatabase")}async initDb(t){let r=await new Promise((n,i)=>{let s=new z3e.Database(t,a=>{a?(console.error("Error opening database",a),i(a)):n(s)})});return await Kf(r,"pragma journal_mode=wal",[]),await Kf(r,"pragma synchronous=normal",[]),await Kf(r,"pragma optimize=0x10002",[]),await Kf(r,"pragma foreign_keys = ON",[]),r}async close(){let t=await this.db;return await this.documentTable.init,await this.symbolTable.init,new Promise((r,n)=>{t.close(i=>i?n(i):r())})}async querySymbolsFuzzilyUsingUnqualifiedName(t,r){return await this.query([`SELECT * FROM ${Ra.tableName}`,this.innerJoinStatement,`WHERE ${Ti.UnqualifiedName} BETWEEN ? AND (? || '~')`,`ORDER BY ${Ti.UnqualifiedName}`,"LIMIT ?"].join(`
`),[t,t,r])}async querySymbolsUsingUnqualifiedNames(t,r){let n=t.map(()=>"?").join(", "),i=r?"COLLATE NOCASE ":"";return await this.query([`SELECT * FROM ${Ra.tableName}`,this.innerJoinStatement,`WHERE ${Ti.UnqualifiedName} ${i}IN (${n})`].join(`
`),t)}async querySymbolsUsingFullyQualifiedName(t){return this.query([`SELECT * FROM ${Ra.tableName}`,this.innerJoinStatement,`WHERE ${Ti.FullyQualifiedName} = ?`].join(`
`),[t])}async querySymbolsContainingPosition(t,r){return this.query([`SELECT * FROM ${Ra.tableName}`,this.innerJoinStatement,`WHERE ${E1.tableName}.${Fu.FilePath} = ? AND ${Ra.tableName}.${Ti.ExtentStart} <= ? AND (${Ra.tableName}.${Ti.ExtentStart} + ${Ra.tableName}.${Ti.ExtentLength}) >= ?`].join(`
`),[t,r,r])}async querySymbolsContainedByRange(t,r,n){return this.query([`SELECT * FROM ${Ra.tableName}`,this.innerJoinStatement,`WHERE ${E1.tableName}.${Fu.FilePath} = ? AND ${Ra.tableName}.${Ti.ExtentStart} >= ? AND (${Ra.tableName}.${Ti.ExtentStart} + ${Ra.tableName}.${Ti.ExtentLength}) <= ?`,`ORDER BY ${Ra.tableName}.${Ti.ExtentStart}`].join(`
`),[t,r,n])}async querySymbolsByQualifiedNamePrefix(t,r){return this.query([`SELECT * FROM ${Ra.tableName}`,this.innerJoinStatement,`WHERE ${E1.tableName}.${Fu.FilePath} = ? AND ${Ra.tableName}.${Ti.FullyQualifiedName} LIKE ?`,`ORDER BY ${Ra.tableName}.${Ti.ExtentStart}`].join(`
`),[t,`${r}%`])}async insertSymbols(t){return await this.symbolTable.insert(t,!1)}async insertDocument(t,r,n=!1){return await this.documentTable.insert([{filePath:t,lastWriteTimeUtc:r}],n)}async clearAllSymbolsFromDocument(t){return this.symbolTable.clearAllSymbolsFromDocument(t)}async updateDocumentTimestamp(t,r){return this.documentTable.updateTimestamp(t,r)}async deleteAllDocumentsWithPath(t){return this.documentTable.deleteAllWithPath(t)}async getAllDocuments(){return this.documentTable.getAllRows()}getDocument(t){return this.documentTable.getDocumentByFilePath(t)}async query(t,r){let n=await this.db;return await this.documentTable.init,await this.symbolTable.init,Kf(n,t,r)}};var _N=class{static{o(this,"SQLStorageReaderWriter")}constructor(t){this.database=new SN(t)}async close(){await this.database.close()}async insertOrReplaceDocumentSymbolsAsync(t,r,n){let i=await this.getOrCreateDocumentAsync(t,r);await this.database.clearAllSymbolsFromDocument(i.id),n.length>0&&await this.database.insertSymbols(n.map(s=>({documentId:i.id,fullyQualifiedName:s.fullyQualifiedName,unqualifiedName:s.unqualifiedName,commentStart:s.commentRange.start,commentLength:s.commentRange.length,nameStart:s.nameRange.start,nameLength:s.nameRange.length,bodyStart:s.bodyRange.start,bodyLength:s.bodyRange.length,extentStart:s.extentRange.start,extentLength:s.extentRange.length,symbolKind:s.kind,refKind:s.refKind}))),await this.database.updateDocumentTimestamp(t,r)}async addDocumentsAsync(t){for(let r of t)r=r.toLowerCase(),await this.database.insertDocument(r,Date.now(),!0)}async deleteDocumentAsync(t){return await this.database.deleteAllDocumentsWithPath(t.toLowerCase())}async updateDocumentTimestampAsync(t,r){return await this.database.updateDocumentTimestamp(t.toLowerCase(),r)}async fuzzyMatchSymbolsAsync(t,r){return qv(await this.database.querySymbolsFuzzilyUsingUnqualifiedName(t,r))}async findPotentialDefinitionsAsync(t,r,n){let i=[],a=0;for(;a<t.length;){let l=t.slice(a,a+500);a+=500;let c=await this.database.querySymbolsUsingUnqualifiedNames(l,r);i.push(...c),C1(n)}return qv(i)}async getDefinitionsAsync(t){return qv(await this.database.querySymbolsUsingFullyQualifiedName(t))}async findSymbolsContainingPositionAsync(t,r){let n=await this.database.querySymbolsContainingPosition(t.toLowerCase(),r);return qv(n)}async findSymbolsContainedByRangeAsync(t,r,n){return qv(await this.database.querySymbolsContainedByRange(t.toLowerCase(),r,n))}async findSymbolsByFullyQualifiedNamePrefix(t,r){return qv(await this.database.querySymbolsByQualifiedNamePrefix(t.toLowerCase(),r))}async getDocumentsAsync(){return this.database.getAllDocuments()}async getDocumentAsync(t){let r=await this.database.getDocument(t);if(r?.at(0))return r[0]}async getOrCreateDocumentAsync(t,r){let n=await this.database.getDocument(t);if(n?.at(0))return n[0];await this.database.insertDocument(t,r,!0);let i=await this.database.getDocument(t);if(!i)throw Error("Unable to insert document");return i[0]}};function qv(e){return e.map(t=>new Mv(t.filePath,t.fullyQualifiedName,t.unqualifiedName,new Yf(t.commentStart,t.commentLength),new Yf(t.nameStart,t.nameLength),new Yf(t.bodyStart,t.bodyLength),new Yf(t.extentStart,t.extentLength),t.symbolKind,t.refKind))}o(qv,"symbolsToSymbolRanges");var BN=nt(require("fs/promises"));var kN=class{static{o(this,"Index")}constructor(t,r){this.storage=new _N(t),this.symbolExtractors=r}dispose(){return this.storage.close()}get reader(){return this.storage}async indexFile(t,r){let n=ys(t);if(!n)throw Error(`Cannot resolve a readable file path from ${t}`);let i;try{i=await BN.stat(n)}catch{await this.storage.deleteDocumentAsync(t);return}let s=i.mtimeMs,a=await this.storage.getDocumentAsync(t);if(a&&a.lastWriteTimeUtc>=s)return;let l=this.symbolExtractors.find(f=>f.languageId==r);if(!l)return;let c=(await BN.readFile(n)).toString(),u=await l.extractSymbols(t,c);await this.storage.insertOrReplaceDocumentSymbolsAsync(t,s,u)}async getDocumentFilePaths(){return(await this.storage.getDocumentsAsync()).map(r=>r.filePath)}};d();function wX(e){let t=e;return typeof t?.cwd=="string"&&Array.isArray(t?.indexWorkspaceRoots)&&t.indexWorkspaceRoots.every(r=>hat(r))}o(wX,"isIndexWorkerData");var NT=class{static{o(this,"IndexNotification")}constructor(t){this.operation=t}},T5=class extends NT{constructor(r,n){super(n);this.id=r;this.id=r}static{o(this,"IndexRequest")}},RN=class extends NT{constructor(r){super(y0.Cancel);this.messageIdToCancel=r}static{o(this,"CancellationNotification")}},y0={CreateIndex:"createIndex",AddOrInvalidated:"addOrInvalidated",GetContext:"getContext",Exit:"exit",Response:"response",RemoveIndex:"removeIndex",Cancel:"cancel",GetAllDocumentsInWorkspace:"getAllDocumentsInWorkspace"},DN=class extends T5{constructor(r,n,i){super(r,y0.CreateIndex);this.baseWorkspaceFolderPath=n;this.databaseFilePath=i}static{o(this,"CreateIndexRequest")}},PN=class extends T5{constructor(r,n){super(r,y0.RemoveIndex);this.baseWorkspaceFolderPath=n}static{o(this,"RemoveIndexRequest")}},FN=class extends T5{constructor(r,n,i){super(r,y0.AddOrInvalidated);this.filePath=n;this.languageId=i}static{o(this,"AddOrInvalidatedRequest")}},NN=class extends T5{constructor(r,n){super(r,y0.GetAllDocumentsInWorkspace);this.baseWorkspaceFolderPath=n}static{o(this,"GetAllDocumentsRequest")}},LN=class extends T5{constructor(r,n,i,s,a){super(r,y0.GetContext);this.filePath=n;this.code=i;this.offset=s;this.languageId=a}static{o(this,"GetContextRequest")}},QN=class extends T5{static{o(this,"ExitRequest")}constructor(t){super(t,y0.Exit)}},Xf=class extends NT{constructor(r,n,i){super(y0.Response);this.id=r;this.error=n;this.data=i;n&&"code"in n&&typeof n.code=="string"&&(this.code=n.code)}static{o(this,"ResponseMessage")}};function hat(e){return"databaseFilePath"in e&&"rootPath"in e}o(hat,"isIndexableWorkspaceFolder");var J3=nt(require("path")),Y3e=nt(ri()),X3=require("worker_threads");var MN=class{static{o(this,"IndexInfo")}constructor(t){this.index=new kN(t,xN),this.contextRetreival=new bN(this.index.reader,D3e)}},SX=class e{constructor(t,r){this.indices=new Map;this.cancellationTokens=new Map;for(let n of r)this.indices.set(J3.default.normalize(n.rootPath),new MN(n.databaseFilePath));this.port=t,this.port.on("message",n=>void this.dispatchMessage(n,this.indices,this.cancellationTokens))}static{o(this,"IndexWorker")}async dispatchMessage(t,r,n){try{let i=new Y3e.CancellationTokenSource;n.set(t.id,i);let s;switch(t.operation){case y0.AddOrInvalidated:s=await e.dispatchAddOrInvalidate(t,r,i.token);break;case y0.GetContext:s=await e.dispatchGetContext(t,r,i.token);break;case y0.Cancel:n.get(t.id)?.cancel(),s=new Xf(t.id,void 0,void 0);break;case y0.Exit:s=await this.dispatchExit(t,r,i.token);break;case y0.CreateIndex:s=await e.dispatchCreateIndex(t,r,i.token);break;case y0.RemoveIndex:s=await e.dispatchRemoveIndex(t,r,i.token);break;case y0.GetAllDocumentsInWorkspace:s=await e.GetAllDocumentsInWorkspaceRequest(t,r,i.token);break;default:this.port?.postMessage(new Error(`Unknown operation: ${t.operation}`))}s&&this.port?.postMessage(s),n.get(t.id)?.dispose(),n.delete(t.id)}catch(i){if(!(i instanceof Error))throw i;this.port?.postMessage(new Xf(t.id,i,void 0))}}static async GetAllDocumentsInWorkspaceRequest(t,r,n){let i=J3.default.normalize(t.baseWorkspaceFolderPath),s,a;return r.has(i)?a=await r.get(i).index.getDocumentFilePaths():s=new Error(`Index not found for ${t.baseWorkspaceFolderPath}`),new Xf(t.id,s,a)}static async dispatchAddOrInvalidate(t,r,n){let i=e.getIndexInfo(t.filePath,r)?.index,s;return i?await i.indexFile(t.filePath,t.languageId):s=new Error(`Index not found for ${t.filePath}`),new Xf(t.id,s,void 0)}static async dispatchGetContext(t,r,n){if(!ys(t.filePath))return new Xf(t.id,void 0,[]);let i=e.getIndexInfo(t.filePath,r)?.contextRetreival,s,a;return i?a=await i.getStringifiedContextAtPositionAsync(t.filePath,t.code,t.offset,t.languageId,8e3,n):s=new Error(`ContextRetrieval not found for ${t.filePath}`),new Xf(t.id,s,a)}async dispatchExit(t,r,n){for(let i of r.values())await i.index.dispose();r.clear(),this.port?.postMessage(new Xf(t.id,void 0,void 0)),this.port?.close()}static async dispatchCreateIndex(t,r,n){return r.has(J3.default.normalize(t.baseWorkspaceFolderPath))||r.set(J3.default.normalize(t.baseWorkspaceFolderPath),new MN(t.databaseFilePath)),new Xf(t.id,void 0,void 0)}static async dispatchRemoveIndex(t,r,n){let i=J3.default.normalize(t.baseWorkspaceFolderPath);if(r.has(i)){let s=r.get(i);s&&await s.index.dispose(),r.delete(i)}return new Xf(t.id,void 0,void 0)}static getIndexInfo(t,r){for(let[n,i]of r)if(J3.default.normalize(t).startsWith(n))return i}};function K3e(){return wX(X3.workerData)}o(K3e,"isIndexWorker");function J3e(){let e=X3.parentPort;if(!e)throw new Error("This must be run a worker thread.");if(!wX(X3.workerData))throw new Error("Worker data must provide a valid database path.");let t=X3.workerData.cwd;process.cwd=()=>t,new SX(e,X3.workerData.indexWorkspaceRoots)}o(J3e,"runIndexWorker");d();var LT=nt(require("util"));function X3e(e){let t=new console.Console(process.stderr,process.stderr);function r(n,...i){if(Hf(e)==="dev")return e.get(Sa).logIt(e,n,"console",...i)}return o(r,"logIt"),t.debug=(...n)=>r(4,...n),t.info=(...n)=>r(3,...n),t.warn=(...n)=>r(2,...n),t.error=(...n)=>r(1,...n),t.assert=(n,...i)=>{n||(i.length===0?r(2,"Assertion failed"):r(2,"Assertion failed:",LT.format(...i)))},t.dir=(n,i)=>r(4,LT.inspect(n,i)),t.log=t.debug.bind(t),t.trace=(...n)=>{let i=new Error(LT.format(...n));i.name="Trace",t.log(i)},t}o(X3e,"createConsole");var Pqe=nt(require("fs/promises")),Fqe=nt(require("os")),Ud=nt(dp()),Nqe=require("worker_threads");d();d();var bL=require("assert");d();d();var Slt={right:Dlt,center:Plt},_lt=0,pL=1,klt=2,gL=3,ZX=class{static{o(this,"UI")}constructor(t){var r;this.width=t.width,this.wrap=(r=t.wrap)!==null&&r!==void 0?r:!0,this.rows=[]}span(...t){let r=this.div(...t);r.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let r=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(r),r}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let r=t.split(`
`).map(i=>i.split("	")),n=0;return r.forEach(i=>{i.length>1&&Nu.stringWidth(i[0])>n&&(n=Math.min(Math.floor(this.width*.5),Nu.stringWidth(i[0])))}),r.forEach(i=>{this.div(...i.map((s,a)=>({text:s.trim(),padding:this.measurePadding(s),width:a===0&&i.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let r=Nu.stripAnsi(t);return[0,r.match(/\s*$/)[0].length,0,r.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(r=>{this.rowToString(r,t)}),t.filter(r=>!r.hidden).map(r=>r.text).join(`
`)}rowToString(t,r){return this.rasterize(t).forEach((n,i)=>{let s="";n.forEach((a,l)=>{let{width:c}=t[l],u=this.negatePadding(t[l]),f=a;if(u>Nu.stringWidth(a)&&(f+=" ".repeat(u-Nu.stringWidth(a))),t[l].align&&t[l].align!=="left"&&this.wrap){let h=Slt[t[l].align];f=h(f,u),Nu.stringWidth(f)<u&&(f+=" ".repeat((c||0)-Nu.stringWidth(f)-1))}let m=t[l].padding||[0,0,0,0];m[gL]&&(s+=" ".repeat(m[gL])),s+=j4e(t[l],f,"| "),s+=f,s+=j4e(t[l],f," |"),m[pL]&&(s+=" ".repeat(m[pL])),i===0&&r.length>0&&(s=this.renderInline(s,r[r.length-1]))}),r.push({text:s.replace(/ +$/,""),span:t.span})}),r}renderInline(t,r){let n=t.match(/^ */),i=n?n[0].length:0,s=r.text,a=Nu.stringWidth(s.trimRight());return r.span?this.wrap?i<a?t:(r.hidden=!0,s.trimRight()+" ".repeat(i-a)+t.trimLeft()):(r.hidden=!0,s+t):t}rasterize(t){let r=[],n=this.columnWidths(t),i;return t.forEach((s,a)=>{s.width=n[a],this.wrap?i=Nu.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[_lt]||0).fill("")),i.push(...new Array(s.padding[klt]||0).fill(""))),i.forEach((l,c)=>{r[c]||r.push([]);let u=r[c];for(let f=0;f<a;f++)u[f]===void 0&&u.push("");u.push(l)})}),r}negatePadding(t){let r=t.width||0;return t.padding&&(r-=(t.padding[gL]||0)+(t.padding[pL]||0)),t.border&&(r-=4),r}columnWidths(t){if(!this.wrap)return t.map(a=>a.width||Nu.stringWidth(a.text));let r=t.length,n=this.width,i=t.map(a=>{if(a.width)return r--,n-=a.width,a.width}),s=r?Math.floor(n/r):0;return i.map((a,l)=>a===void 0?Math.max(s,Blt(t[l])):a)}};function j4e(e,t,r){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?r:"  ":""}o(j4e,"addBorder");function Blt(e){let t=e.padding||[],r=1+(t[gL]||0)+(t[pL]||0);return e.border?r+4:r}o(Blt,"_minWidth");function Rlt(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}o(Rlt,"getWindowWidth");function Dlt(e,t){e=e.trim();let r=Nu.stringWidth(e);return r<t?" ".repeat(t-r)+e:e}o(Dlt,"alignRight");function Plt(e,t){e=e.trim();let r=Nu.stringWidth(e);return r>=t?e:" ".repeat(t-r>>1)+e}o(Plt,"alignCenter");var Nu;function $4e(e,t){return Nu=t,new ZX({width:e?.width||Rlt(),wrap:e?.wrap})}o($4e,"cliui");d();var z4e=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function eZ(e){return e.replace(z4e,"")}o(eZ,"stripAnsi");function Y4e(e,t){let[r,n]=e.match(z4e)||["",""];e=eZ(e);let i="";for(let s=0;s<e.length;s++)s!==0&&s%t===0&&(i+=`
`),i+=e.charAt(s);return r&&n&&(i=`${r}${i}${n}`),i}o(Y4e,"wrap");function tZ(e){return $4e(e,{stringWidth:o(t=>[...t].length,"stringWidth"),stripAnsi:eZ,wrap:Y4e})}o(tZ,"ui");d();var Vv=require("path"),AL=require("fs");function rZ(e,t){let r=(0,Vv.resolve)(".",e),n;for((0,AL.statSync)(r).isDirectory()||(r=(0,Vv.dirname)(r));;){if(n=t(r,(0,AL.readdirSync)(r)),n)return(0,Vv.resolve)(r,n);if(r=(0,Vv.dirname)(n=r),n===r)break}}o(rZ,"default");var fEe=require("util"),dEe=require("fs"),mEe=require("url");d();var eEe=require("util"),xL=require("path");d();function r4(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let r="",n=!1,i=e.match(/^-+/);for(let s=i?i[0].length:0;s<e.length;s++){let a=e.charAt(s);n&&(n=!1,a=a.toUpperCase()),s!==0&&(a==="-"||a==="_")?n=!0:a!=="-"&&a!=="_"&&(r+=a)}return r}}o(r4,"camelCase");function yL(e,t){let r=e.toLowerCase();t=t||"-";let n="";for(let i=0;i<e.length;i++){let s=r.charAt(i),a=e.charAt(i);s!==a&&i>0?n+=`${t}${r.charAt(i)}`:n+=a}return n}o(yL,"decamelize");function CL(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}o(CL,"looksLikeNumber");d();d();function K4e(e){if(Array.isArray(e))return e.map(a=>typeof a!="string"?a+"":a);e=e.trim();let t=0,r=null,n=null,i=null,s=[];for(let a=0;a<e.length;a++){if(r=n,n=e.charAt(a),n===" "&&!i){r!==" "&&t++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),s[t]||(s[t]=""),s[t]+=n}return s}o(K4e,"tokenizeArgString");d();var nd;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(nd||(nd={}));var x1,EL=class{static{o(this,"YargsParser")}constructor(t){x1=t}parse(t,r){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),i=K4e(t),s=typeof t=="string",a=Flt(Object.assign(Object.create(null),n.alias)),l=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),c=Object.assign(Object.create(null),n.default),u=n.configObjects||[],f=n.envPrefix,m=l["populate--"],h=m?"--":"_",p=Object.create(null),A=Object.create(null),E=n.__||x1.format,x={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},b=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,v=new RegExp("^--"+l["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(z){let te=typeof z=="object"?z.key:z,Ne=Object.keys(z).map(function(Se){return{boolean:"bools",string:"strings",number:"numbers"}[Se]}).filter(Boolean).pop();Ne&&(x[Ne][te]=!0),x.arrays[te]=!0,x.keys.push(te)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(z){x.bools[z]=!0,x.keys.push(z)}),[].concat(n.string||[]).filter(Boolean).forEach(function(z){x.strings[z]=!0,x.keys.push(z)}),[].concat(n.number||[]).filter(Boolean).forEach(function(z){x.numbers[z]=!0,x.keys.push(z)}),[].concat(n.count||[]).filter(Boolean).forEach(function(z){x.counts[z]=!0,x.keys.push(z)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(z){x.normalize[z]=!0,x.keys.push(z)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([z,te])=>{typeof te=="number"&&(x.nargs[z]=te,x.keys.push(z))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([z,te])=>{typeof te=="function"&&(x.coercions[z]=te,x.keys.push(z))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(z){x.configs[z]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([z,te])=>{(typeof te=="boolean"||typeof te=="function")&&(x.configs[z]=te)})),Re(n.key,a,n.default,x.arrays),Object.keys(c).forEach(function(z){(x.aliases[z]||[]).forEach(function(te){c[te]=c[z]})});let S=null;We();let B=[],P=Object.assign(Object.create(null),{_:[]}),F={};for(let z=0;z<i.length;z++){let te=i[z],Ne=te.replace(/^-{3,}/,"---"),Se,Ce,Oe,Ve,Ze,yt;if(te!=="--"&&/^-/.test(te)&&ft(te))G(te);else if(Ne.match(/^---+(=|$)/)){G(te);continue}else if(te.match(/^--.+=/)||!l["short-option-groups"]&&te.match(/^-.+=/))Ve=te.match(/^--?([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&(ve(Ve[1],x.arrays)?z=pe(z,Ve[1],i,Ve[2]):ve(Ve[1],x.nargs)!==!1?z=re(z,Ve[1],i,Ve[2]):Z(Ve[1],Ve[2],!0));else if(te.match(v)&&l["boolean-negation"])Ve=te.match(v),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],Z(Ce,ve(Ce,x.arrays)?[!1]:!1));else if(te.match(/^--.+/)||!l["short-option-groups"]&&te.match(/^-[^-]+/))Ve=te.match(/^--?(.+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],ve(Ce,x.arrays)?z=pe(z,Ce,i):ve(Ce,x.nargs)!==!1?z=re(z,Ce,i):(Ze=i[z+1],Ze!==void 0&&(!Ze.match(/^-/)||Ze.match(b))&&!ve(Ce,x.bools)&&!ve(Ce,x.counts)||/^(true|false)$/.test(Ze)?(Z(Ce,Ze),z++):Z(Ce,at(Ce))));else if(te.match(/^-.\..+=/))Ve=te.match(/^-([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&Z(Ve[1],Ve[2]);else if(te.match(/^-.\..+/)&&!te.match(b))Ze=i[z+1],Ve=te.match(/^-(.\..+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],Ze!==void 0&&!Ze.match(/^-/)&&!ve(Ce,x.bools)&&!ve(Ce,x.counts)?(Z(Ce,Ze),z++):Z(Ce,at(Ce)));else if(te.match(/^-[^-]+/)&&!te.match(b)){Oe=te.slice(1,-1).split(""),Se=!1;for(let Rt=0;Rt<Oe.length;Rt++){if(Ze=te.slice(Rt+2),Oe[Rt+1]&&Oe[Rt+1]==="="){yt=te.slice(Rt+3),Ce=Oe[Rt],ve(Ce,x.arrays)?z=pe(z,Ce,i,yt):ve(Ce,x.nargs)!==!1?z=re(z,Ce,i,yt):Z(Ce,yt),Se=!0;break}if(Ze==="-"){Z(Oe[Rt],Ze);continue}if(/[A-Za-z]/.test(Oe[Rt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Ze)&&ve(Ze,x.bools)===!1){Z(Oe[Rt],Ze),Se=!0;break}if(Oe[Rt+1]&&Oe[Rt+1].match(/\W/)){Z(Oe[Rt],Ze),Se=!0;break}else Z(Oe[Rt],at(Oe[Rt]))}Ce=te.slice(-1)[0],!Se&&Ce!=="-"&&(ve(Ce,x.arrays)?z=pe(z,Ce,i):ve(Ce,x.nargs)!==!1?z=re(z,Ce,i):(Ze=i[z+1],Ze!==void 0&&(!/^(-|--)[^-]/.test(Ze)||Ze.match(b))&&!ve(Ce,x.bools)&&!ve(Ce,x.counts)||/^(true|false)$/.test(Ze)?(Z(Ce,Ze),z++):Z(Ce,at(Ce))))}else if(te.match(/^-[0-9]$/)&&te.match(b)&&ve(te.slice(1),x.bools))Ce=te.slice(1),Z(Ce,at(Ce));else if(te==="--"){B=i.slice(z+1);break}else if(l["halt-at-non-option"]){B=i.slice(z);break}else G(te)}j(P,!0),j(P,!1),ne(P),O(),ee(P,x.aliases,c,!0),J(P),l["set-placeholder-key"]&&le(P),Object.keys(x.counts).forEach(function(z){ae(P,z.split("."))||Z(z,0)}),m&&B.length&&(P[h]=[]),B.forEach(function(z){P[h].push(z)}),l["camel-case-expansion"]&&l["strip-dashed"]&&Object.keys(P).filter(z=>z!=="--"&&z.includes("-")).forEach(z=>{delete P[z]}),l["strip-aliased"]&&[].concat(...Object.keys(a).map(z=>a[z])).forEach(z=>{l["camel-case-expansion"]&&z.includes("-")&&delete P[z.split(".").map(te=>r4(te)).join(".")],delete P[z]});function G(z){let te=se("_",z);(typeof te=="string"||typeof te=="number")&&P._.push(te)}o(G,"pushPositional");function re(z,te,Ne,Se){let Ce,Oe=ve(te,x.nargs);if(Oe=typeof Oe!="number"||isNaN(Oe)?1:Oe,Oe===0)return Ae(Se)||(S=Error(E("Argument unexpected for: %s",te))),Z(te,at(te)),z;let Ve=Ae(Se)?0:1;if(l["nargs-eats-options"])Ne.length-(z+1)+Ve<Oe&&(S=Error(E("Not enough arguments following: %s",te))),Ve=Oe;else{for(Ce=z+1;Ce<Ne.length&&(!Ne[Ce].match(/^-[^0-9]/)||Ne[Ce].match(b)||ft(Ne[Ce]));Ce++)Ve++;Ve<Oe&&(S=Error(E("Not enough arguments following: %s",te)))}let Ze=Math.min(Ve,Oe);for(!Ae(Se)&&Ze>0&&(Z(te,Se),Ze--),Ce=z+1;Ce<Ze+z+1;Ce++)Z(te,Ne[Ce]);return z+Ze}o(re,"eatNargs");function pe(z,te,Ne,Se){let Ce=[],Oe=Se||Ne[z+1],Ve=ve(te,x.nargs);if(ve(te,x.bools)&&!/^(true|false)$/.test(Oe))Ce.push(!0);else if(Ae(Oe)||Ae(Se)&&/^-/.test(Oe)&&!b.test(Oe)&&!ft(Oe)){if(c[te]!==void 0){let Ze=c[te];Ce=Array.isArray(Ze)?Ze:[Ze]}}else{Ae(Se)||Ce.push(q(te,Se,!0));for(let Ze=z+1;Ze<Ne.length&&!(!l["greedy-arrays"]&&Ce.length>0||Ve&&typeof Ve=="number"&&Ce.length>=Ve||(Oe=Ne[Ze],/^-/.test(Oe)&&!b.test(Oe)&&!ft(Oe)));Ze++)z=Ze,Ce.push(q(te,Oe,s))}return typeof Ve=="number"&&(Ve&&Ce.length<Ve||isNaN(Ve)&&Ce.length===0)&&(S=Error(E("Not enough arguments following: %s",te))),Z(te,Ce),z}o(pe,"eatArray");function Z(z,te,Ne=s){if(/-/.test(z)&&l["camel-case-expansion"]){let Oe=z.split(".").map(function(Ve){return r4(Ve)}).join(".");W(z,Oe)}let Se=q(z,te,Ne),Ce=z.split(".");ce(P,Ce,Se),x.aliases[z]&&x.aliases[z].forEach(function(Oe){let Ve=Oe.split(".");ce(P,Ve,Se)}),Ce.length>1&&l["dot-notation"]&&(x.aliases[Ce[0]]||[]).forEach(function(Oe){let Ve=Oe.split("."),Ze=[].concat(Ce);Ze.shift(),Ve=Ve.concat(Ze),(x.aliases[z]||[]).includes(Ve.join("."))||ce(P,Ve,Se)}),ve(z,x.normalize)&&!ve(z,x.arrays)&&[z].concat(x.aliases[z]||[]).forEach(function(Ve){Object.defineProperty(F,Ve,{enumerable:!0,get(){return te},set(Ze){te=typeof Ze=="string"?x1.normalize(Ze):Ze}})})}o(Z,"setArg");function W(z,te){x.aliases[z]&&x.aliases[z].length||(x.aliases[z]=[te],p[te]=!0),x.aliases[te]&&x.aliases[te].length||W(te,z)}o(W,"addNewAlias");function q(z,te,Ne){Ne&&(te=Nlt(te)),(ve(z,x.bools)||ve(z,x.counts))&&typeof te=="string"&&(te=te==="true");let Se=Array.isArray(te)?te.map(function(Ce){return se(z,Ce)}):se(z,te);return ve(z,x.counts)&&(Ae(Se)||typeof Se=="boolean")&&(Se=nZ()),ve(z,x.normalize)&&ve(z,x.arrays)&&(Array.isArray(te)?Se=te.map(Ce=>x1.normalize(Ce)):Se=x1.normalize(te)),Se}o(q,"processValue");function se(z,te){return!l["parse-positional-numbers"]&&z==="_"||!ve(z,x.strings)&&!ve(z,x.bools)&&!Array.isArray(te)&&(CL(te)&&l["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${te}`)))||!Ae(te)&&ve(z,x.numbers))&&(te=Number(te)),te}o(se,"maybeCoerceNumber");function ne(z){let te=Object.create(null);ee(te,x.aliases,c),Object.keys(x.configs).forEach(function(Ne){let Se=z[Ne]||te[Ne];if(Se)try{let Ce=null,Oe=x1.resolve(x1.cwd(),Se),Ve=x.configs[Ne];if(typeof Ve=="function"){try{Ce=Ve(Oe)}catch(Ze){Ce=Ze}if(Ce instanceof Error){S=Ce;return}}else Ce=x1.require(Oe);H(Ce)}catch(Ce){Ce.name==="PermissionDenied"?S=Ce:z[Ne]&&(S=Error(E("Invalid JSON config file: %s",Se)))}})}o(ne,"setConfig");function H(z,te){Object.keys(z).forEach(function(Ne){let Se=z[Ne],Ce=te?te+"."+Ne:Ne;typeof Se=="object"&&Se!==null&&!Array.isArray(Se)&&l["dot-notation"]?H(Se,Ce):(!ae(P,Ce.split("."))||ve(Ce,x.arrays)&&l["combine-arrays"])&&Z(Ce,Se)})}o(H,"setConfigObject");function O(){typeof u<"u"&&u.forEach(function(z){H(z)})}o(O,"setConfigObjects");function j(z,te){if(typeof f>"u")return;let Ne=typeof f=="string"?f:"",Se=x1.env();Object.keys(Se).forEach(function(Ce){if(Ne===""||Ce.lastIndexOf(Ne,0)===0){let Oe=Ce.split("__").map(function(Ve,Ze){return Ze===0&&(Ve=Ve.substring(Ne.length)),r4(Ve)});(te&&x.configs[Oe.join(".")]||!te)&&!ae(z,Oe)&&Z(Oe.join("."),Se[Ce])}})}o(j,"applyEnvVars");function J(z){let te,Ne=new Set;Object.keys(z).forEach(function(Se){if(!Ne.has(Se)&&(te=ve(Se,x.coercions),typeof te=="function"))try{let Ce=se(Se,te(z[Se]));[].concat(x.aliases[Se]||[],Se).forEach(Oe=>{Ne.add(Oe),z[Oe]=Ce})}catch(Ce){S=Ce}})}o(J,"applyCoercions");function le(z){return x.keys.forEach(te=>{~te.indexOf(".")||typeof z[te]>"u"&&(z[te]=void 0)}),z}o(le,"setPlaceholderKeys");function ee(z,te,Ne,Se=!1){Object.keys(Ne).forEach(function(Ce){ae(z,Ce.split("."))||(ce(z,Ce.split("."),Ne[Ce]),Se&&(A[Ce]=!0),(te[Ce]||[]).forEach(function(Oe){ae(z,Oe.split("."))||ce(z,Oe.split("."),Ne[Ce])}))})}o(ee,"applyDefaultsAndAliases");function ae(z,te){let Ne=z;l["dot-notation"]||(te=[te.join(".")]),te.slice(0,-1).forEach(function(Ce){Ne=Ne[Ce]||{}});let Se=te[te.length-1];return typeof Ne!="object"?!1:Se in Ne}o(ae,"hasKey");function ce(z,te,Ne){let Se=z;l["dot-notation"]||(te=[te.join(".")]),te.slice(0,-1).forEach(function(yt){yt=J4e(yt),typeof Se=="object"&&Se[yt]===void 0&&(Se[yt]={}),typeof Se[yt]!="object"||Array.isArray(Se[yt])?(Array.isArray(Se[yt])?Se[yt].push({}):Se[yt]=[Se[yt],{}],Se=Se[yt][Se[yt].length-1]):Se=Se[yt]});let Ce=J4e(te[te.length-1]),Oe=ve(te.join("."),x.arrays),Ve=Array.isArray(Ne),Ze=l["duplicate-arguments-array"];!Ze&&ve(Ce,x.nargs)&&(Ze=!0,(!Ae(Se[Ce])&&x.nargs[Ce]===1||Array.isArray(Se[Ce])&&Se[Ce].length===x.nargs[Ce])&&(Se[Ce]=void 0)),Ne===nZ()?Se[Ce]=nZ(Se[Ce]):Array.isArray(Se[Ce])?Ze&&Oe&&Ve?Se[Ce]=l["flatten-duplicate-arrays"]?Se[Ce].concat(Ne):(Array.isArray(Se[Ce][0])?Se[Ce]:[Se[Ce]]).concat([Ne]):!Ze&&!!Oe==!!Ve?Se[Ce]=Ne:Se[Ce]=Se[Ce].concat([Ne]):Se[Ce]===void 0&&Oe?Se[Ce]=Ve?Ne:[Ne]:Ze&&!(Se[Ce]===void 0||ve(Ce,x.counts)||ve(Ce,x.bools))?Se[Ce]=[Se[Ce],Ne]:Se[Ce]=Ne}o(ce,"setKey");function Re(...z){z.forEach(function(te){Object.keys(te||{}).forEach(function(Ne){x.aliases[Ne]||(x.aliases[Ne]=[].concat(a[Ne]||[]),x.aliases[Ne].concat(Ne).forEach(function(Se){if(/-/.test(Se)&&l["camel-case-expansion"]){let Ce=r4(Se);Ce!==Ne&&x.aliases[Ne].indexOf(Ce)===-1&&(x.aliases[Ne].push(Ce),p[Ce]=!0)}}),x.aliases[Ne].concat(Ne).forEach(function(Se){if(Se.length>1&&/[A-Z]/.test(Se)&&l["camel-case-expansion"]){let Ce=yL(Se,"-");Ce!==Ne&&x.aliases[Ne].indexOf(Ce)===-1&&(x.aliases[Ne].push(Ce),p[Ce]=!0)}}),x.aliases[Ne].forEach(function(Se){x.aliases[Se]=[Ne].concat(x.aliases[Ne].filter(function(Ce){return Se!==Ce}))}))})})}o(Re,"extendAliases");function ve(z,te){let Ne=[].concat(x.aliases[z]||[],z),Se=Object.keys(te),Ce=Ne.find(Oe=>Se.includes(Oe));return Ce?te[Ce]:!1}o(ve,"checkAllAliases");function Ue(z){let te=Object.keys(x);return[].concat(te.map(Se=>x[Se])).some(function(Se){return Array.isArray(Se)?Se.includes(z):Se[z]})}o(Ue,"hasAnyFlag");function ke(z,...te){return[].concat(...te).some(function(Se){let Ce=z.match(Se);return Ce&&Ue(Ce[1])})}o(ke,"hasFlagsMatching");function Je(z){if(z.match(b)||!z.match(/^-[^-]+/))return!1;let te=!0,Ne,Se=z.slice(1).split("");for(let Ce=0;Ce<Se.length;Ce++){if(Ne=z.slice(Ce+2),!Ue(Se[Ce])){te=!1;break}if(Se[Ce+1]&&Se[Ce+1]==="="||Ne==="-"||/[A-Za-z]/.test(Se[Ce])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Ne)||Se[Ce+1]&&Se[Ce+1].match(/\W/))break}return te}o(Je,"hasAllShortFlags");function ft(z){return l["unknown-options-as-args"]&&ot(z)}o(ft,"isUnknownOptionAsArg");function ot(z){return z=z.replace(/^-{3,}/,"--"),z.match(b)||Je(z)?!1:!ke(z,/^-+([^=]+?)=[\s\S]*$/,v,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}o(ot,"isUnknownOption");function at(z){return!ve(z,x.bools)&&!ve(z,x.counts)&&`${z}`in c?c[z]:ie(Pe(z))}o(at,"defaultValue");function ie(z){return{[nd.BOOLEAN]:!0,[nd.STRING]:"",[nd.NUMBER]:void 0,[nd.ARRAY]:[]}[z]}o(ie,"defaultForType");function Pe(z){let te=nd.BOOLEAN;return ve(z,x.strings)?te=nd.STRING:ve(z,x.numbers)?te=nd.NUMBER:ve(z,x.bools)?te=nd.BOOLEAN:ve(z,x.arrays)&&(te=nd.ARRAY),te}o(Pe,"guessType");function Ae(z){return z===void 0}o(Ae,"isUndefined");function We(){Object.keys(x.counts).find(z=>ve(z,x.arrays)?(S=Error(E("Invalid configuration: %s, opts.count excludes opts.array.",z)),!0):ve(z,x.nargs)?(S=Error(E("Invalid configuration: %s, opts.count excludes opts.narg.",z)),!0):!1)}return o(We,"checkConfiguration"),{aliases:Object.assign({},x.aliases),argv:Object.assign(F,P),configuration:l,defaulted:Object.assign({},A),error:S,newAliases:Object.assign({},p)}}};function Flt(e){let t=[],r=Object.create(null),n=!0;for(Object.keys(e).forEach(function(i){t.push([].concat(e[i],i))});n;){n=!1;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++)if(t[i].filter(function(l){return t[s].indexOf(l)!==-1}).length){t[i]=t[i].concat(t[s]),t.splice(s,1),n=!0;break}}return t.forEach(function(i){i=i.filter(function(a,l,c){return c.indexOf(a)===l});let s=i.pop();s!==void 0&&typeof s=="string"&&(r[s]=i)}),r}o(Flt,"combineAliases");function nZ(e){return e!==void 0?e+1:1}o(nZ,"increment");function J4e(e){return e==="__proto__"?"___proto___":e}o(J4e,"sanitizeKey");function Nlt(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}o(Nlt,"stripQuotes");var tEe=require("fs");var iZ,oZ,sZ,X4e=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,Z4e=(oZ=(iZ=process==null?void 0:process.versions)===null||iZ===void 0?void 0:iZ.node)!==null&&oZ!==void 0?oZ:(sZ=process==null?void 0:process.version)===null||sZ===void 0?void 0:sZ.slice(1);if(Z4e&&Number(Z4e.match(/^([^.]+)/)[1])<X4e)throw Error(`yargs parser supports a minimum Node.js version of ${X4e}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var Llt=process?process.env:{},rEe=new EL({cwd:process.cwd,env:o(()=>Llt,"env"),format:eEe.format,normalize:xL.normalize,resolve:xL.resolve,require:o(e=>{if(typeof require<"u")return require(e);if(e.match(/\.json$/))return JSON.parse((0,tEe.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")},"require")}),GT=o(function(t,r){return rEe.parse(t.slice(),r).argv},"Parser");GT.detailed=function(e,t){return rEe.parse(e.slice(),t)};GT.camelCase=r4;GT.decamelize=yL;GT.looksLikeNumber=CL;var nEe=GT;var Lm=require("path");d();function Qlt(){return Mlt()?0:1}o(Qlt,"getProcessArgvBinIndex");function Mlt(){return Olt()&&!process.defaultApp}o(Mlt,"isBundledElectronApp");function Olt(){return!!process.versions.electron}o(Olt,"isElectronApp");function iEe(){return process.argv[Qlt()]}o(iEe,"getProcessArgvBin");d();var es=class e extends Error{static{o(this,"YError")}constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,e)}};d();d();var jv=require("fs"),oEe=require("util"),sEe=require("path");var aEe={fs:{readFileSync:jv.readFileSync,writeFile:jv.writeFile},format:oEe.format,resolve:sEe.resolve,exists:o(e=>{try{return(0,jv.statSync)(e).isFile()}catch{return!1}},"exists")};d();var Nm,aZ=class{static{o(this,"Y18N")}constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let r=t.shift(),n=o(function(){},"cb");return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]=r,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),Nm.format.apply(Nm.format,[this.cache[this.locale][r]||r].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),r=t.shift(),n=t.shift(),i=t.shift(),s=o(function(){},"cb");typeof t[t.length-1]=="function"&&(s=t.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?r:n;this.cache[this.locale][r]&&(a=this.cache[this.locale][r][i===1?"one":"other"]),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]={one:r,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let l=[a];return~a.indexOf("%d")&&l.push(i),Nm.format.apply(Nm.format,l.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.cache[this.locale][r]=t[r])}_taggedLiteral(t,...r){let n="";return t.forEach(function(i,s){let a=r[s+1];n+=i,typeof a<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(r,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,r=this.writeQueue[0],n=r.directory,i=r.locale,s=r.cb,a=this._resolveLocaleFile(n,i),l=JSON.stringify(this.cache[i],null,2);Nm.fs.writeFile(a,l,"utf-8",function(c){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),s(c)})}_readLocaleFile(){let t={},r=this._resolveLocaleFile(this.directory,this.locale);try{Nm.fs.readFileSync&&(t=JSON.parse(Nm.fs.readFileSync(r,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+r),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t}_resolveLocaleFile(t,r){let n=Nm.resolve(t,"./",r+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~r.lastIndexOf("_")){let i=Nm.resolve(t,"./",r.split("_")[0]+".json");this._fileExistsSync(i)&&(n=i)}return n}_fileExistsSync(t){return Nm.exists(t)}};function lEe(e,t){Nm=t;let r=new aZ(e);return{__:r.__.bind(r),__n:r.__n.bind(r),setLocale:r.setLocale.bind(r),getLocale:r.getLocale.bind(r),updateLocale:r.updateLocale.bind(r),locale:r.locale}}o(lEe,"y18n");var Ult=o(e=>lEe(e,aEe),"y18n"),cEe=Ult;var qlt="require is not supported by ESM",uEe="loading a directory of commands is not supported yet for ESM",HT;try{HT=(0,mEe.fileURLToPath)(importMetaUrlShim)}catch{HT=process.cwd()}var Wlt=HT.substring(0,HT.lastIndexOf("node_modules")),hEe={assert:{notStrictEqual:bL.notStrictEqual,strictEqual:bL.strictEqual},cliui:tZ,findUp:rZ,getEnv:o(e=>process.env[e],"getEnv"),inspect:fEe.inspect,getCallerFile:o(()=>{throw new es(uEe)},"getCallerFile"),getProcessArgvBin:iEe,mainFilename:Wlt||process.cwd(),Parser:nEe,path:{basename:Lm.basename,dirname:Lm.dirname,extname:Lm.extname,relative:Lm.relative,resolve:Lm.resolve},process:{argv:o(()=>process.argv,"argv"),cwd:process.cwd,emitWarning:o((e,t)=>process.emitWarning(e,t),"emitWarning"),execPath:o(()=>process.execPath,"execPath"),exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:dEe.readFileSync,require:o(()=>{throw new es(qlt)},"require"),requireDirectory:o(()=>{throw new es(uEe)},"requireDirectory"),stringWidth:o(e=>[...e].length,"stringWidth"),y18n:cEe({directory:(0,Lm.resolve)(HT,"../../../locales"),updateFiles:!1})};d();d();d();function W0(e,t,r,n){r.assert.notStrictEqual(e,t,n)}o(W0,"assertNotStrictEqual");function lZ(e,t){t.assert.strictEqual(typeof e,"string")}o(lZ,"assertSingleKey");function $v(e){return Object.keys(e)}o($v,"objectKeys");d();function ts(e){return!!e&&!!e.then&&typeof e.then=="function"}o(ts,"isPromise");d();d();d();function k5(e){let r=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=r.shift();if(!i)throw new Error(`No command found in: ${e}`);let s={cmd:i.replace(n,""),demanded:[],optional:[]};return r.forEach((a,l)=>{let c=!1;a=a.replace(/\s/g,""),/\.+[\]>]/.test(a)&&l===r.length-1&&(c=!0),/^\[/.test(a)?s.optional.push({cmd:a.replace(n,"").split("|"),variadic:c}):s.demanded.push({cmd:a.replace(n,"").split("|"),variadic:c})}),s}o(k5,"parseCommand");var Glt=["first","second","third","fourth","fifth","sixth"];function kr(e,t,r){function n(){return typeof e=="object"?[{demanded:[],optional:[]},e,t]:[k5(`cmd ${e}`),t,r]}o(n,"parseArgs");try{let i=0,[s,a,l]=n(),c=[].slice.call(a);for(;c.length&&c[c.length-1]===void 0;)c.pop();let u=l||c.length;if(u<s.demanded.length)throw new es(`Not enough arguments provided. Expected ${s.demanded.length} but received ${c.length}.`);let f=s.demanded.length+s.optional.length;if(u>f)throw new es(`Too many arguments provided. Expected max ${f} but received ${u}.`);s.demanded.forEach(m=>{let h=c.shift(),p=pEe(h);m.cmd.filter(E=>E===p||E==="*").length===0&&gEe(p,m.cmd,i),i+=1}),s.optional.forEach(m=>{if(c.length===0)return;let h=c.shift(),p=pEe(h);m.cmd.filter(E=>E===p||E==="*").length===0&&gEe(p,m.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}o(kr,"argsert");function pEe(e){return Array.isArray(e)?"array":e===null?"null":typeof e}o(pEe,"guessType");function gEe(e,t,r){throw new es(`Invalid ${Glt[r]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}o(gEe,"argumentTypeError");var vL=class{static{o(this,"GlobalMiddleware")}constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,r,n=!0,i=!1){if(kr("<array|function> [boolean] [boolean] [boolean]",[t,r,n],arguments.length),Array.isArray(t)){for(let s=0;s<t.length;s++){if(typeof t[s]!="function")throw Error("middleware must be a function");let a=t[s];a.applyBeforeValidation=r,a.global=n}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let s=t;s.applyBeforeValidation=r,s.global=n,s.mutates=i,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,r){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...n[r]||[],r];return i.option?!s.includes(i.option):!0}),t.option=r,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function AEe(e){return e?e.map(t=>(t.applyBeforeValidation=!1,t)):[]}o(AEe,"commandMiddlewareFactory");function n4(e,t,r,n){return r.reduce((i,s)=>{if(s.applyBeforeValidation!==n)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if(ts(i))return i.then(a=>Promise.all([a,s(a,t)])).then(([a,l])=>Object.assign(a,l));{let a=s(i,t);return ts(a)?a.then(l=>Object.assign(i,l)):Object.assign(i,a)}},e)}o(n4,"applyMiddleware");d();function i4(e,t,r=n=>{throw n}){try{let n=Hlt(e)?e():e;return ts(n)?n.then(i=>t(i)):t(n)}catch(n){return r(n)}}o(i4,"maybeAsyncResult");function Hlt(e){return typeof e=="function"}o(Hlt,"isFunction");d();function cZ(e){if(typeof require>"u")return null;for(let t=0,r=Object.keys(require.cache),n;t<r.length;t++)if(n=require.cache[r[t]],n.exports===e)return n;return null}o(cZ,"whichModule");var zv=/(^\*)|(^\$0)/,uZ=class{static{o(this,"CommandInstance")}constructor(t,r,n,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=t,this.globalMiddleware=n,this.validation=r}addDirectory(t,r,n,i){i=i||{},typeof i.recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,l,c)=>{let u=s(a,l,c);if(u){if(this.requireCache.has(l))return u;this.requireCache.add(l),this.addHandler(u)}return u},this.shim.requireDirectory({require:r,filename:n},t,i)}addHandler(t,r,n,i,s,a){let l=[],c=AEe(s);if(i=i||(()=>{}),Array.isArray(t))if(Vlt(t))[t,...l]=t;else for(let u of t)this.addHandler(u);else if($lt(t)){let u=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(u=[].concat(u).concat(t.aliases)),this.addHandler(u,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(yEe(n)){this.addHandler([t].concat(l),r,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof t=="string"){let u=k5(t);l=l.map(h=>k5(h).cmd);let f=!1,m=[u.cmd].concat(l).filter(h=>zv.test(h)?(f=!0,!1):!0);m.length===0&&f&&m.push("$0"),f&&(u.cmd=m[0],l=m.slice(1),t=t.replace(zv,u.cmd)),l.forEach(h=>{this.aliasMap[h]=u.cmd}),r!==!1&&this.usage.command(t,r,f,l,a),this.handlers[u.cmd]={original:t,description:r,handler:i,builder:n||{},middlewares:c,deprecated:a,demanded:u.demanded,optional:u.optional},f&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,r,n,i,s,a){let l=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,c=r.getInternalMethods().getContext(),u=c.commands.slice(),f=!t;t&&(c.commands.push(t),c.fullCommands.push(l.original));let m=this.applyBuilderUpdateUsageAndParse(f,l,r,n.aliases,u,i,s,a);return ts(m)?m.then(h=>this.applyMiddlewareAndGetResult(f,l,h.innerArgv,c,s,h.aliases,r)):this.applyMiddlewareAndGetResult(f,l,m.innerArgv,c,s,m.aliases,r)}applyBuilderUpdateUsageAndParse(t,r,n,i,s,a,l,c){let u=r.builder,f=n;if(IL(u)){n.getInternalMethods().getUsageInstance().freeze();let m=u(n.getInternalMethods().reset(i),c);if(ts(m))return m.then(h=>(f=EEe(h)?h:n,this.parseAndUpdateUsage(t,r,f,s,a,l)))}else jlt(u)&&(n.getInternalMethods().getUsageInstance().freeze(),f=n.getInternalMethods().reset(i),Object.keys(r.builder).forEach(m=>{f.option(m,u[m])}));return this.parseAndUpdateUsage(t,r,f,s,a,l)}parseAndUpdateUsage(t,r,n,i,s,a){t&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,r),r.description);let l=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,a);return ts(l)?l.then(c=>({aliases:n.parsed.aliases,innerArgv:c})):{aliases:n.parsed.aliases,innerArgv:l}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,r){let n=zv.test(r.original)?r.original.replace(zv,"").trim():r.original,i=t.filter(s=>!zv.test(s));return i.push(n),`$0 ${i.join(" ")}`}handleValidationAndGetResult(t,r,n,i,s,a,l,c){if(!a.getInternalMethods().getHasOutput()){let u=a.getInternalMethods().runValidation(s,c,a.parsed.error,t);n=i4(n,f=>(u(f),f))}if(r.handler&&!a.getInternalMethods().getHasOutput()){a.getInternalMethods().setHasOutput();let u=!!a.getOptions().configuration["populate--"];a.getInternalMethods().postProcess(n,u,!1,!1),n=n4(n,a,l,!1),n=i4(n,f=>{let m=r.handler(f);return ts(m)?m.then(()=>f):f}),t||a.getInternalMethods().getUsageInstance().cacheHelpMessage(),ts(n)&&!a.getInternalMethods().hasParseCallback()&&n.catch(f=>{try{a.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return t||(i.commands.pop(),i.fullCommands.pop()),n}applyMiddlewareAndGetResult(t,r,n,i,s,a,l){let c={};if(s)return n;l.getInternalMethods().getHasOutput()||(c=this.populatePositionals(r,n,i,l));let u=this.globalMiddleware.getMiddleware().slice(0).concat(r.middlewares),f=n4(n,l,u,!0);return ts(f)?f.then(m=>this.handleValidationAndGetResult(t,r,m,i,a,l,u,c)):this.handleValidationAndGetResult(t,r,f,i,a,l,u,c)}populatePositionals(t,r,n,i){r._=r._.slice(n.commands.length);let s=t.demanded.slice(0),a=t.optional.slice(0),l={};for(this.validation.positionalCount(s.length,r._.length);s.length;){let c=s.shift();this.populatePositional(c,r,l)}for(;a.length;){let c=a.shift();this.populatePositional(c,r,l)}return r._=n.commands.concat(r._.map(c=>""+c)),this.postProcessPositionals(r,l,this.cmdToParseOptions(t.original),i),l}populatePositional(t,r,n){let i=t.cmd[0];t.variadic?n[i]=r._.splice(0).map(String):r._.length&&(n[i]=[String(r._.shift())])}cmdToParseOptions(t){let r={array:[],default:{},alias:{},demand:{}},n=k5(t);return n.demanded.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=a,r.demand[s]=!0}),n.optional.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=a}),r}postProcessPositionals(t,r,n,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(n.default,s.default);for(let u of Object.keys(n.alias))s.alias[u]=(s.alias[u]||[]).concat(n.alias[u]);s.array=s.array.concat(n.array),s.config={};let a=[];if(Object.keys(r).forEach(u=>{r[u].map(f=>{s.configuration["unknown-options-as-args"]&&(s.key[u]=!0),a.push(`--${u}`),a.push(f)})}),!a.length)return;let l=Object.assign({},s.configuration,{"populate--":!1}),c=this.shim.Parser.detailed(a,Object.assign({},s,{configuration:l}));if(c.error)i.getInternalMethods().getUsageInstance().fail(c.error.message,c.error);else{let u=Object.keys(r);Object.keys(r).forEach(f=>{u.push(...c.aliases[f])}),Object.keys(c.argv).forEach(f=>{u.includes(f)&&(r[f]||(r[f]=c.argv[f]),!this.isInConfigs(i,f)&&!this.isDefaulted(i,f)&&Object.prototype.hasOwnProperty.call(t,f)&&Object.prototype.hasOwnProperty.call(c.argv,f)&&(Array.isArray(t[f])||Array.isArray(c.argv[f]))?t[f]=[].concat(t[f],c.argv[f]):t[f]=c.argv[f])})}}isDefaulted(t,r){let{default:n}=t.getOptions();return Object.prototype.hasOwnProperty.call(n,r)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(r))}isInConfigs(t,r){let{configObjects:n}=t.getOptions();return n.some(i=>Object.prototype.hasOwnProperty.call(i,r))||n.some(i=>Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(r)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let n=zv.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let r=this.defaultCommand.builder;if(IL(r))return r(t,!0);yEe(r)||Object.keys(r).forEach(n=>{t.option(n,r[n])})}moduleName(t){let r=cZ(t);if(!r)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(r.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:r,desc:n}){for(let i of[t,r,n]){if(typeof i=="string"||i===!1)return i;W0(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();W0(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function CEe(e,t,r,n){return new uZ(e,t,r,n)}o(CEe,"command");function yEe(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}o(yEe,"isCommandBuilderDefinition");function Vlt(e){return e.every(t=>typeof t=="string")}o(Vlt,"isCommandAndAliases");function IL(e){return typeof e=="function"}o(IL,"isCommandBuilderCallback");function jlt(e){return typeof e=="object"}o(jlt,"isCommandBuilderOptionDefinitions");function $lt(e){return typeof e=="object"&&!Array.isArray(e)}o($lt,"isCommandHandlerDefinition");d();d();function B5(e={},t=()=>!0){let r={};return $v(e).forEach(n=>{t(n,e[n])&&(r[n]=e[n])}),r}o(B5,"objFilter");d();function R5(e){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let r=t;r._handle&&r.isTTY&&typeof r._handle.setBlocking=="function"&&r._handle.setBlocking(e)})}o(R5,"setBlocking");function zlt(e){return typeof e=="boolean"}o(zlt,"isBoolean");function bEe(e,t){let r=t.y18n.__,n={},i=[];n.failFn=o(function(q){i.push(q)},"failFn");let s=null,a=null,l=!0;n.showHelpOnFail=o(function(q=!0,se){let[ne,H]=typeof q=="string"?[!0,q]:[q,se];return e.getInternalMethods().isGlobalContext()&&(a=H),s=H,l=ne,n},"showHelpOnFailFn");let c=!1;n.fail=o(function(q,se){let ne=e.getInternalMethods().getLoggerInstance();if(i.length)for(let H=i.length-1;H>=0;--H){let O=i[H];if(zlt(O)){if(se)throw se;if(q)throw Error(q)}else O(q,se,n)}else{if(e.getExitProcess()&&R5(!0),!c){c=!0,l&&(e.showHelp("error"),ne.error()),(q||se)&&ne.error(q||se);let H=s||a;H&&((q||se)&&ne.error(""),ne.error(H))}if(se=se||new es(q),e.getExitProcess())return e.exit(1);if(e.getInternalMethods().hasParseCallback())return e.exit(1,se);throw se}},"fail");let u=[],f=!1;n.usage=(W,q)=>W===null?(f=!0,u=[],n):(f=!1,u.push([W,q||""]),n),n.getUsage=()=>u,n.getUsageDisabled=()=>f,n.getPositionalGroupName=()=>r("Positionals:");let m=[];n.example=(W,q)=>{m.push([W,q||""])};let h=[];n.command=o(function(q,se,ne,H,O=!1){ne&&(h=h.map(j=>(j[2]=!1,j))),h.push([q,se||"",ne,H,O])},"command"),n.getCommands=()=>h;let p={};n.describe=o(function(q,se){Array.isArray(q)?q.forEach(ne=>{n.describe(ne,se)}):typeof q=="object"?Object.keys(q).forEach(ne=>{n.describe(ne,q[ne])}):p[q]=se},"describe"),n.getDescriptions=()=>p;let A=[];n.epilog=W=>{A.push(W)};let E=!1,x;n.wrap=W=>{E=!0,x=W},n.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(E||(x=re(),E=!0),x);let b="__yargsString__:";n.deferY18nLookup=W=>b+W,n.help=o(function(){if(B)return B;S();let q=e.customScriptName?e.$0:t.path.basename(e.$0),se=e.getDemandedOptions(),ne=e.getDemandedCommands(),H=e.getDeprecatedOptions(),O=e.getGroups(),j=e.getOptions(),J=[];J=J.concat(Object.keys(p)),J=J.concat(Object.keys(se)),J=J.concat(Object.keys(ne)),J=J.concat(Object.keys(j.default)),J=J.filter(F),J=Object.keys(J.reduce((ke,Je)=>(Je!=="_"&&(ke[Je]=!0),ke),{}));let le=n.getWrap(),ee=t.cliui({width:le,wrap:!!le});if(!f){if(u.length)u.forEach(ke=>{ee.div({text:`${ke[0].replace(/\$0/g,q)}`}),ke[1]&&ee.div({text:`${ke[1]}`,padding:[1,0,0,0]})}),ee.div();else if(h.length){let ke=null;ne._?ke=`${q} <${r("command")}>
`:ke=`${q} [${r("command")}]
`,ee.div(`${ke}`)}}if(h.length>1||h.length===1&&!h[0][2]){ee.div(r("Commands:"));let ke=e.getInternalMethods().getContext(),Je=ke.commands.length?`${ke.commands.join(" ")} `:"";e.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(h=h.sort((ot,at)=>ot[0].localeCompare(at[0])));let ft=q?`${q} `:"";h.forEach(ot=>{let at=`${ft}${Je}${ot[0].replace(/^\$0 ?/,"")}`;ee.span({text:at,padding:[0,2,0,2],width:v(h,le,`${q}${Je}`)+4},{text:ot[1]});let ie=[];ot[2]&&ie.push(`[${r("default")}]`),ot[3]&&ot[3].length&&ie.push(`[${r("aliases:")} ${ot[3].join(", ")}]`),ot[4]&&(typeof ot[4]=="string"?ie.push(`[${r("deprecated: %s",ot[4])}]`):ie.push(`[${r("deprecated")}]`)),ie.length?ee.div({text:ie.join(" "),padding:[0,0,0,2],align:"right"}):ee.div()}),ee.div()}let ae=(Object.keys(j.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);J=J.filter(ke=>!e.parsed.newAliases[ke]&&ae.every(Je=>(j.alias[Je]||[]).indexOf(ke)===-1));let ce=r("Options:");O[ce]||(O[ce]=[]),P(J,j.alias,O,ce);let Re=o(ke=>/^--/.test(TL(ke)),"isLongSwitch"),ve=Object.keys(O).filter(ke=>O[ke].length>0).map(ke=>{let Je=O[ke].filter(F).map(ft=>{if(ae.includes(ft))return ft;for(let ot=0,at;(at=ae[ot])!==void 0;ot++)if((j.alias[at]||[]).includes(ft))return at;return ft});return{groupName:ke,normalizedKeys:Je}}).filter(({normalizedKeys:ke})=>ke.length>0).map(({groupName:ke,normalizedKeys:Je})=>{let ft=Je.reduce((ot,at)=>(ot[at]=[at].concat(j.alias[at]||[]).map(ie=>ke===n.getPositionalGroupName()?ie:(/^[0-9]$/.test(ie)?j.boolean.includes(at)?"-":"--":ie.length>1?"--":"-")+ie).sort((ie,Pe)=>Re(ie)===Re(Pe)?0:Re(ie)?1:-1).join(", "),ot),{});return{groupName:ke,normalizedKeys:Je,switches:ft}});if(ve.filter(({groupName:ke})=>ke!==n.getPositionalGroupName()).some(({normalizedKeys:ke,switches:Je})=>!ke.every(ft=>Re(Je[ft])))&&ve.filter(({groupName:ke})=>ke!==n.getPositionalGroupName()).forEach(({normalizedKeys:ke,switches:Je})=>{ke.forEach(ft=>{Re(Je[ft])&&(Je[ft]=Ylt(Je[ft],4))})}),ve.forEach(({groupName:ke,normalizedKeys:Je,switches:ft})=>{ee.div(ke),Je.forEach(ot=>{let at=ft[ot],ie=p[ot]||"",Pe=null;ie.includes(b)&&(ie=r(ie.substring(b.length))),j.boolean.includes(ot)&&(Pe=`[${r("boolean")}]`),j.count.includes(ot)&&(Pe=`[${r("count")}]`),j.string.includes(ot)&&(Pe=`[${r("string")}]`),j.normalize.includes(ot)&&(Pe=`[${r("string")}]`),j.array.includes(ot)&&(Pe=`[${r("array")}]`),j.number.includes(ot)&&(Pe=`[${r("number")}]`);let Ae=o(te=>typeof te=="string"?`[${r("deprecated: %s",te)}]`:`[${r("deprecated")}]`,"deprecatedExtra"),We=[ot in H?Ae(H[ot]):null,Pe,ot in se?`[${r("required")}]`:null,j.choices&&j.choices[ot]?`[${r("choices:")} ${n.stringifiedValues(j.choices[ot])}]`:null,G(j.default[ot],j.defaultDescription[ot])].filter(Boolean).join(" ");ee.span({text:TL(at),padding:[0,2,0,2+xEe(at)],width:v(ft,le)+4},ie);let z=e.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;We&&!z?ee.div({text:We,padding:[0,0,0,2],align:"right"}):ee.div()}),ee.div()}),m.length&&(ee.div(r("Examples:")),m.forEach(ke=>{ke[0]=ke[0].replace(/\$0/g,q)}),m.forEach(ke=>{ke[1]===""?ee.div({text:ke[0],padding:[0,2,0,2]}):ee.div({text:ke[0],padding:[0,2,0,2],width:v(m,le)+4},{text:ke[1]})}),ee.div()),A.length>0){let ke=A.map(Je=>Je.replace(/\$0/g,q)).join(`
`);ee.div(`${ke}
`)}return ee.toString().replace(/\s*$/,"")},"help");function v(W,q,se){let ne=0;return Array.isArray(W)||(W=Object.values(W).map(H=>[H])),W.forEach(H=>{ne=Math.max(t.stringWidth(se?`${se} ${TL(H[0])}`:TL(H[0]))+xEe(H[0]),ne)}),q&&(ne=Math.min(ne,parseInt((q*.5).toString(),10))),ne}o(v,"maxWidth");function S(){let W=e.getDemandedOptions(),q=e.getOptions();(Object.keys(q.alias)||[]).forEach(se=>{q.alias[se].forEach(ne=>{p[ne]&&n.describe(se,p[ne]),ne in W&&e.demandOption(se,W[ne]),q.boolean.includes(ne)&&e.boolean(se),q.count.includes(ne)&&e.count(se),q.string.includes(ne)&&e.string(se),q.normalize.includes(ne)&&e.normalize(se),q.array.includes(ne)&&e.array(se),q.number.includes(ne)&&e.number(se)})})}o(S,"normalizeAliases");let B;n.cacheHelpMessage=function(){B=this.help()},n.clearCachedHelpMessage=function(){B=void 0},n.hasCachedHelpMessage=function(){return!!B};function P(W,q,se,ne){let H=[],O=null;return Object.keys(se).forEach(j=>{H=H.concat(se[j])}),W.forEach(j=>{O=[j].concat(q[j]),O.some(J=>H.indexOf(J)!==-1)||se[ne].push(j)}),H}o(P,"addUngroupedKeys");function F(W){return e.getOptions().hiddenOptions.indexOf(W)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}o(F,"filterHiddenOptions"),n.showHelp=W=>{let q=e.getInternalMethods().getLoggerInstance();W||(W="error"),(typeof W=="function"?W:q[W])(n.help())},n.functionDescription=W=>["(",W.name?t.Parser.decamelize(W.name,"-"):r("generated-value"),")"].join(""),n.stringifiedValues=o(function(q,se){let ne="",H=se||", ",O=[].concat(q);return!q||!O.length||O.forEach(j=>{ne.length&&(ne+=H),ne+=JSON.stringify(j)}),ne},"stringifiedValues");function G(W,q){let se=`[${r("default:")} `;if(W===void 0&&!q)return null;if(q)se+=q;else switch(typeof W){case"string":se+=`"${W}"`;break;case"object":se+=JSON.stringify(W);break;default:se+=W}return`${se}]`}o(G,"defaultString");function re(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}o(re,"windowWidth");let pe=null;n.version=W=>{pe=W},n.showVersion=W=>{let q=e.getInternalMethods().getLoggerInstance();W||(W="error"),(typeof W=="function"?W:q[W])(pe)},n.reset=o(function(q){return s=null,c=!1,u=[],f=!1,A=[],m=[],h=[],p=B5(p,se=>!q[se]),n},"reset");let Z=[];return n.freeze=o(function(){Z.push({failMessage:s,failureOutput:c,usages:u,usageDisabled:f,epilogs:A,examples:m,commands:h,descriptions:p})},"freeze"),n.unfreeze=o(function(q=!1){let se=Z.pop();se&&(q?(p={...se.descriptions,...p},h=[...se.commands,...h],u=[...se.usages,...u],m=[...se.examples,...m],A=[...se.epilogs,...A]):{failMessage:s,failureOutput:c,usages:u,usageDisabled:f,epilogs:A,examples:m,commands:h,descriptions:p}=se)},"unfreeze"),n}o(bEe,"usage");function fZ(e){return typeof e=="object"}o(fZ,"isIndentedText");function Ylt(e,t){return fZ(e)?{text:e.text,indentation:e.indentation+t}:{text:e,indentation:t}}o(Ylt,"addIndentation");function xEe(e){return fZ(e)?e.indentation:0}o(xEe,"getIndentation");function TL(e){return fZ(e)?e.text:e}o(TL,"getText");d();d();var vEe=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,IEe=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var dZ=class{static{o(this,"Completion")}constructor(t,r,n,i){var s,a,l;this.yargs=t,this.usage=r,this.command=n,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(l=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&l!==void 0?l:!1}defaultCompletion(t,r,n,i){let s=this.command.getCommandHandlers();for(let l=0,c=t.length;l<c;++l)if(s[t[l]]&&s[t[l]].builder){let u=s[t[l]].builder;if(IL(u)){this.indexAfterLastReset=l+1;let f=this.yargs.getInternalMethods().reset();return u(f,!0),f.argv}}let a=[];this.commandCompletions(a,t,n),this.optionCompletions(a,t,r,n),this.choicesFromOptionsCompletions(a,t,r,n),this.choicesFromPositionalsCompletions(a,t,r,n),i(null,a)}commandCompletions(t,r,n){let i=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&i[i.length-1]!==n&&!this.previousArgHasChoices(r)&&this.usage.getCommands().forEach(s=>{let a=k5(s[0]).cmd;if(r.indexOf(a)===-1)if(!this.zshShell)t.push(a);else{let l=s[1]||"";t.push(a.replace(/:/g,"\\:")+":"+l)}})}optionCompletions(t,r,n,i){if((i.match(/^-/)||i===""&&t.length===0)&&!this.previousArgHasChoices(r)){let s=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(l=>{let c=!!s.configuration["boolean-negation"]&&s.boolean.includes(l);!a.includes(l)&&!s.hiddenOptions.includes(l)&&!this.argsContainKey(r,l,c)&&this.completeOptionKey(l,t,i,c&&!!s.default[l])})}}choicesFromOptionsCompletions(t,r,n,i){if(this.previousArgHasChoices(r)){let s=this.getPreviousArgChoices(r);s&&s.length>0&&t.push(...s.map(a=>a.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,r,n,i){if(i===""&&t.length>0&&this.previousArgHasChoices(r))return;let s=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],a=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),l=s[n._.length-a-1];if(!l)return;let c=this.yargs.getOptions().choices[l]||[];for(let u of c)u.startsWith(i)&&t.push(u.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let r=t[t.length-1],n="";if(!r.startsWith("-")&&t.length>1&&(n=r,r=t[t.length-2]),!r.startsWith("-"))return;let i=r.replace(/^-+/,""),s=this.yargs.getOptions(),a=[i,...this.yargs.getAliases()[i]||[]],l;for(let c of a)if(Object.prototype.hasOwnProperty.call(s.key,c)&&Array.isArray(s.choices[c])){l=s.choices[c];break}if(l)return l.filter(c=>!n||c.startsWith(n))}previousArgHasChoices(t){let r=this.getPreviousArgChoices(t);return r!==void 0&&r.length>0}argsContainKey(t,r,n){let i=o(s=>t.indexOf((/^[^0-9]$/.test(s)?"-":"--")+s)!==-1,"argsContains");if(i(r)||n&&i(`no-${r}`))return!0;if(this.aliases){for(let s of this.aliases[r])if(i(s))return!0}return!1}completeOptionKey(t,r,n,i){var s,a,l,c;let u=t;if(this.zshShell){let p=this.usage.getDescriptions(),A=(a=(s=this===null||this===void 0?void 0:this.aliases)===null||s===void 0?void 0:s[t])===null||a===void 0?void 0:a.find(b=>{let v=p[b];return typeof v=="string"&&v.length>0}),E=A?p[A]:void 0,x=(c=(l=p[t])!==null&&l!==void 0?l:E)!==null&&c!==void 0?c:"";u=`${t.replace(/:/g,"\\:")}:${x.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let f=o(p=>/^--/.test(p),"startsByTwoDashes"),m=o(p=>/^[^0-9]$/.test(p),"isShortOption"),h=!f(n)&&m(t)?"-":"--";r.push(h+u),i&&r.push(h+"no-"+u)}customCompletion(t,r,n,i){if(W0(this.customCompletionFunction,null,this.shim),Jlt(this.customCompletionFunction)){let s=this.customCompletionFunction(n,r);return ts(s)?s.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,s)}else return Xlt(this.customCompletionFunction)?this.customCompletionFunction(n,r,(s=i)=>this.defaultCompletion(t,r,n,s),s=>{i(null,s)}):this.customCompletionFunction(n,r,s=>{i(null,s)})}getCompletion(t,r){let n=t.length?t[t.length-1]:"",i=this.yargs.parse(t,!0),s=this.customCompletionFunction?a=>this.customCompletion(t,a,n,r):a=>this.defaultCompletion(t,a,n,r);return ts(i)?i.then(s):s(i)}generateCompletionScript(t,r){let n=this.zshShell?IEe:vEe,i=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),n=n.replace(/{{app_name}}/g,i),n=n.replace(/{{completion_command}}/g,r),n.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function TEe(e,t,r,n){return new dZ(e,t,r,n)}o(TEe,"completion");function Jlt(e){return e.length<3}o(Jlt,"isSyncCompletionFunction");function Xlt(e){return e.length>3}o(Xlt,"isFallbackCompletionFunction");d();d();function wEe(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let r=[],n;for(n=0;n<=t.length;n++)r[n]=[n];let i;for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)===e.charAt(i-1)?r[n][i]=r[n-1][i-1]:n>1&&i>1&&t.charAt(n-2)===e.charAt(i-1)&&t.charAt(n-1)===e.charAt(i-2)?r[n][i]=r[n-2][i-2]+1:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}o(wEe,"levenshtein");var SEe=["$0","--","_"];function _Ee(e,t,r){let n=r.y18n.__,i=r.y18n.__n,s={};s.nonOptionCount=o(function(m){let h=e.getDemandedCommands(),A=m._.length+(m["--"]?m["--"].length:0)-e.getInternalMethods().getContext().commands.length;h._&&(A<h._.min||A>h._.max)&&(A<h._.min?h._.minMsg!==void 0?t.fail(h._.minMsg?h._.minMsg.replace(/\$0/g,A.toString()).replace(/\$1/,h._.min.toString()):null):t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",A,A.toString(),h._.min.toString())):A>h._.max&&(h._.maxMsg!==void 0?t.fail(h._.maxMsg?h._.maxMsg.replace(/\$0/g,A.toString()).replace(/\$1/,h._.max.toString()):null):t.fail(i("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",A,A.toString(),h._.max.toString()))))},"nonOptionCount"),s.positionalCount=o(function(m,h){h<m&&t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",h,h+"",m+""))},"positionalCount"),s.requiredArguments=o(function(m,h){let p=null;for(let A of Object.keys(h))(!Object.prototype.hasOwnProperty.call(m,A)||typeof m[A]>"u")&&(p=p||{},p[A]=h[A]);if(p){let A=[];for(let x of Object.keys(p)){let b=p[x];b&&A.indexOf(b)<0&&A.push(b)}let E=A.length?`
${A.join(`
`)}`:"";t.fail(i("Missing required argument: %s","Missing required arguments: %s",Object.keys(p).length,Object.keys(p).join(", ")+E))}},"requiredArguments"),s.unknownArguments=o(function(m,h,p,A,E=!0){var x;let b=e.getInternalMethods().getCommandInstance().getCommands(),v=[],S=e.getInternalMethods().getContext();if(Object.keys(m).forEach(B=>{!SEe.includes(B)&&!Object.prototype.hasOwnProperty.call(p,B)&&!Object.prototype.hasOwnProperty.call(e.getInternalMethods().getParseContext(),B)&&!s.isValidAndSomeAliasIsNotNew(B,h)&&v.push(B)}),E&&(S.commands.length>0||b.length>0||A)&&m._.slice(S.commands.length).forEach(B=>{b.includes(""+B)||v.push(""+B)}),E){let P=((x=e.getDemandedCommands()._)===null||x===void 0?void 0:x.max)||0,F=S.commands.length+P;F<m._.length&&m._.slice(F).forEach(G=>{G=String(G),!S.commands.includes(G)&&!v.includes(G)&&v.push(G)})}v.length&&t.fail(i("Unknown argument: %s","Unknown arguments: %s",v.length,v.map(B=>B.trim()?B:`"${B}"`).join(", ")))},"unknownArguments"),s.unknownCommands=o(function(m){let h=e.getInternalMethods().getCommandInstance().getCommands(),p=[],A=e.getInternalMethods().getContext();return(A.commands.length>0||h.length>0)&&m._.slice(A.commands.length).forEach(E=>{h.includes(""+E)||p.push(""+E)}),p.length>0?(t.fail(i("Unknown command: %s","Unknown commands: %s",p.length,p.join(", "))),!0):!1},"unknownCommands"),s.isValidAndSomeAliasIsNotNew=o(function(m,h){if(!Object.prototype.hasOwnProperty.call(h,m))return!1;let p=e.parsed.newAliases;return[m,...h[m]].some(A=>!Object.prototype.hasOwnProperty.call(p,A)||!p[m])},"isValidAndSomeAliasIsNotNew"),s.limitedChoices=o(function(m){let h=e.getOptions(),p={};if(!Object.keys(h.choices).length)return;Object.keys(m).forEach(x=>{SEe.indexOf(x)===-1&&Object.prototype.hasOwnProperty.call(h.choices,x)&&[].concat(m[x]).forEach(b=>{h.choices[x].indexOf(b)===-1&&b!==void 0&&(p[x]=(p[x]||[]).concat(b))})});let A=Object.keys(p);if(!A.length)return;let E=n("Invalid values:");A.forEach(x=>{E+=`
  ${n("Argument: %s, Given: %s, Choices: %s",x,t.stringifiedValues(p[x]),t.stringifiedValues(h.choices[x]))}`}),t.fail(E)},"limitedChoices");let a={};s.implies=o(function(m,h){kr("<string|object> [array|number|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{s.implies(p,m[p])}):(e.global(m),a[m]||(a[m]=[]),Array.isArray(h)?h.forEach(p=>s.implies(m,p)):(W0(h,void 0,r),a[m].push(h)))},"implies"),s.getImplied=o(function(){return a},"getImplied");function l(f,m){let h=Number(m);return m=isNaN(h)?m:h,typeof m=="number"?m=f._.length>=m:m.match(/^--no-.+/)?(m=m.match(/^--no-(.+)/)[1],m=!Object.prototype.hasOwnProperty.call(f,m)):m=Object.prototype.hasOwnProperty.call(f,m),m}o(l,"keyExists"),s.implications=o(function(m){let h=[];if(Object.keys(a).forEach(p=>{let A=p;(a[p]||[]).forEach(E=>{let x=A,b=E;x=l(m,x),E=l(m,E),x&&!E&&h.push(` ${A} -> ${b}`)})}),h.length){let p=`${n("Implications failed:")}
`;h.forEach(A=>{p+=A}),t.fail(p)}},"implications");let c={};s.conflicts=o(function(m,h){kr("<string|object> [array|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{s.conflicts(p,m[p])}):(e.global(m),c[m]||(c[m]=[]),Array.isArray(h)?h.forEach(p=>s.conflicts(m,p)):c[m].push(h))},"conflicts"),s.getConflicting=()=>c,s.conflicting=o(function(m){Object.keys(m).forEach(h=>{c[h]&&c[h].forEach(p=>{p&&m[h]!==void 0&&m[p]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})}),e.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(c).forEach(h=>{c[h].forEach(p=>{p&&m[r.Parser.camelCase(h)]!==void 0&&m[r.Parser.camelCase(p)]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})})},"conflictingFn"),s.recommendCommands=o(function(m,h){h=h.sort((x,b)=>b.length-x.length);let A=null,E=1/0;for(let x=0,b;(b=h[x])!==void 0;x++){let v=wEe(m,b);v<=3&&v<E&&(E=v,A=b)}A&&t.fail(n("Did you mean %s?",A))},"recommendCommands"),s.reset=o(function(m){return a=B5(a,h=>!m[h]),c=B5(c,h=>!m[h]),s},"reset");let u=[];return s.freeze=o(function(){u.push({implied:a,conflicting:c})},"freeze"),s.unfreeze=o(function(){let m=u.pop();W0(m,void 0,r),{implied:a,conflicting:c}=m},"unfreeze"),s}o(_Ee,"validation");d();var mZ=[],VT;function wL(e,t,r,n){VT=n;let i={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return i;let s=/\.json|\..*rc$/.test(e.extends),a=null;if(s)a=e0t(t,e.extends);else try{a=require.resolve(e.extends)}catch{return e}Zlt(a),mZ.push(a),i=s?JSON.parse(VT.readFileSync(a,"utf8")):require(e.extends),delete e.extends,i=wL(i,VT.path.dirname(a),r,VT)}return mZ=[],r?kEe(i,e):Object.assign({},i,e)}o(wL,"applyExtends");function Zlt(e){if(mZ.indexOf(e)>-1)throw new es(`Circular extended configurations: '${e}'.`)}o(Zlt,"checkForCircularExtends");function e0t(e,t){return VT.path.resolve(e,t)}o(e0t,"getPathToDefaultConfig");function kEe(e,t){let r={};function n(i){return i&&typeof i=="object"&&!Array.isArray(i)}o(n,"isObject"),Object.assign(r,e);for(let i of Object.keys(t))n(t[i])&&n(r[i])?r[i]=kEe(e[i],t[i]):r[i]=t[i];return r}o(kEe,"mergeDeep");var Rr=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},he=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},la,o4,jT,id,Lu,SL,D5,s4,_L,od,kL,sd,mp,Qu,ad,BL,Yv,hl,Hr,RL,DL,Mu,a4,Kv,l4,P5,PL,Tn,c4,u4,f4,Fn,FL,hp,Vs;function YEe(e){return(t=[],r=e.process.cwd(),n)=>{let i=new IZ(t,r,n,e);return Object.defineProperty(i,"argv",{get:o(()=>i.parse(),"get"),enumerable:!0}),i.help(),i.version(),i}}o(YEe,"YargsFactory");var BEe=Symbol("copyDoubleDash"),REe=Symbol("copyDoubleDash"),hZ=Symbol("deleteFromParserHintObject"),DEe=Symbol("emitWarning"),PEe=Symbol("freeze"),FEe=Symbol("getDollarZero"),d4=Symbol("getParserConfiguration"),NEe=Symbol("getUsageConfiguration"),pZ=Symbol("guessLocale"),LEe=Symbol("guessVersion"),QEe=Symbol("parsePositionalNumbers"),gZ=Symbol("pkgUp"),F5=Symbol("populateParserHintArray"),Jv=Symbol("populateParserHintSingleValueDictionary"),AZ=Symbol("populateParserHintArrayDictionary"),yZ=Symbol("populateParserHintDictionary"),CZ=Symbol("sanitizeKey"),EZ=Symbol("setKey"),xZ=Symbol("unfreeze"),MEe=Symbol("validateAsync"),OEe=Symbol("getCommandInstance"),UEe=Symbol("getContext"),qEe=Symbol("getHasOutput"),WEe=Symbol("getLoggerInstance"),GEe=Symbol("getParseContext"),HEe=Symbol("getUsageInstance"),VEe=Symbol("getValidationInstance"),NL=Symbol("hasParseCallback"),jEe=Symbol("isGlobalContext"),m4=Symbol("postProcess"),$Ee=Symbol("rebase"),bZ=Symbol("reset"),$T=Symbol("runYargsParserAndExecuteCommands"),vZ=Symbol("runValidation"),zEe=Symbol("setHasOutput"),h4=Symbol("kTrackManuallySetKeys"),IZ=class{static{o(this,"YargsInstance")}constructor(t=[],r,n,i){this.customScriptName=!1,this.parsed=!1,la.set(this,void 0),o4.set(this,void 0),jT.set(this,{commands:[],fullCommands:[]}),id.set(this,null),Lu.set(this,null),SL.set(this,"show-hidden"),D5.set(this,null),s4.set(this,!0),_L.set(this,{}),od.set(this,!0),kL.set(this,[]),sd.set(this,void 0),mp.set(this,{}),Qu.set(this,!1),ad.set(this,null),BL.set(this,!0),Yv.set(this,void 0),hl.set(this,""),Hr.set(this,void 0),RL.set(this,void 0),DL.set(this,{}),Mu.set(this,null),a4.set(this,null),Kv.set(this,{}),l4.set(this,{}),P5.set(this,void 0),PL.set(this,!1),Tn.set(this,void 0),c4.set(this,!1),u4.set(this,!1),f4.set(this,!1),Fn.set(this,void 0),FL.set(this,{}),hp.set(this,null),Vs.set(this,void 0),Rr(this,Tn,i,"f"),Rr(this,P5,t,"f"),Rr(this,o4,r,"f"),Rr(this,RL,n,"f"),Rr(this,sd,new vL(this),"f"),this.$0=this[FEe](),this[bZ](),Rr(this,la,he(this,la,"f"),"f"),Rr(this,Fn,he(this,Fn,"f"),"f"),Rr(this,Vs,he(this,Vs,"f"),"f"),Rr(this,Hr,he(this,Hr,"f"),"f"),he(this,Hr,"f").showHiddenOpt=he(this,SL,"f"),Rr(this,Yv,this[REe](),"f")}addHelpOpt(t,r){let n="help";return kr("[string|boolean] [string]",[t,r],arguments.length),he(this,ad,"f")&&(this[hZ](he(this,ad,"f")),Rr(this,ad,null,"f")),t===!1&&r===void 0?this:(Rr(this,ad,typeof t=="string"?t:n,"f"),this.boolean(he(this,ad,"f")),this.describe(he(this,ad,"f"),r||he(this,Fn,"f").deferY18nLookup("Show help")),this)}help(t,r){return this.addHelpOpt(t,r)}addShowHiddenOpt(t,r){if(kr("[string|boolean] [string]",[t,r],arguments.length),t===!1&&r===void 0)return this;let n=typeof t=="string"?t:he(this,SL,"f");return this.boolean(n),this.describe(n,r||he(this,Fn,"f").deferY18nLookup("Show hidden options")),he(this,Hr,"f").showHiddenOpt=n,this}showHidden(t,r){return this.addShowHiddenOpt(t,r)}alias(t,r){return kr("<object|string|array> [string|array]",[t,r],arguments.length),this[AZ](this.alias.bind(this),"alias",t,r),this}array(t){return kr("<array|string>",[t],arguments.length),this[F5]("array",t),this[h4](t),this}boolean(t){return kr("<array|string>",[t],arguments.length),this[F5]("boolean",t),this[h4](t),this}check(t,r){return kr("<function> [boolean]",[t,r],arguments.length),this.middleware((n,i)=>i4(()=>t(n,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&he(this,Fn,"f").fail(s.toString(),s):he(this,Fn,"f").fail(he(this,Tn,"f").y18n.__("Argument check failed: %s",t.toString())),n),s=>(he(this,Fn,"f").fail(s.message?s.message:s.toString(),s),n)),!1,r),this}choices(t,r){return kr("<object|string|array> [string|array]",[t,r],arguments.length),this[AZ](this.choices.bind(this),"choices",t,r),this}coerce(t,r){if(kr("<object|string|array> [function]",[t,r],arguments.length),Array.isArray(t)){if(!r)throw new es("coerce callback must be provided");for(let n of t)this.coerce(n,r);return this}else if(typeof t=="object"){for(let n of Object.keys(t))this.coerce(n,t[n]);return this}if(!r)throw new es("coerce callback must be provided");return he(this,Hr,"f").key[t]=!0,he(this,sd,"f").addCoerceMiddleware((n,i)=>{let s;return Object.prototype.hasOwnProperty.call(n,t)?i4(()=>(s=i.getAliases(),r(n[t])),l=>{n[t]=l;let c=i.getInternalMethods().getParserConfiguration()["strip-aliased"];if(s[t]&&c!==!0)for(let u of s[t])n[u]=l;return n},l=>{throw new es(l.message)}):n},t),this}conflicts(t,r){return kr("<string|object> [string|array]",[t,r],arguments.length),he(this,Vs,"f").conflicts(t,r),this}config(t="config",r,n){return kr("[object|string] [string|function] [function]",[t,r,n],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=wL(t,he(this,o4,"f"),this[d4]()["deep-merge-config"]||!1,he(this,Tn,"f")),he(this,Hr,"f").configObjects=(he(this,Hr,"f").configObjects||[]).concat(t),this):(typeof r=="function"&&(n=r,r=void 0),this.describe(t,r||he(this,Fn,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(i=>{he(this,Hr,"f").config[i]=n||!0}),this)}completion(t,r,n){return kr("[string] [string|boolean|function] [function]",[t,r,n],arguments.length),typeof r=="function"&&(n=r,r=void 0),Rr(this,Lu,t||he(this,Lu,"f")||"completion","f"),!r&&r!==!1&&(r="generate completion script"),this.command(he(this,Lu,"f"),r),n&&he(this,id,"f").registerFunction(n),this}command(t,r,n,i,s,a){return kr("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,r,n,i,s,a],arguments.length),he(this,la,"f").addHandler(t,r,n,i,s,a),this}commands(t,r,n,i,s,a){return this.command(t,r,n,i,s,a)}commandDir(t,r){kr("<string> [object]",[t,r],arguments.length);let n=he(this,RL,"f")||he(this,Tn,"f").require;return he(this,la,"f").addDirectory(t,n,he(this,Tn,"f").getCallerFile(),r),this}count(t){return kr("<array|string>",[t],arguments.length),this[F5]("count",t),this[h4](t),this}default(t,r,n){return kr("<object|string|array> [*] [string]",[t,r,n],arguments.length),n&&(lZ(t,he(this,Tn,"f")),he(this,Hr,"f").defaultDescription[t]=n),typeof r=="function"&&(lZ(t,he(this,Tn,"f")),he(this,Hr,"f").defaultDescription[t]||(he(this,Hr,"f").defaultDescription[t]=he(this,Fn,"f").functionDescription(r)),r=r.call()),this[Jv](this.default.bind(this),"default",t,r),this}defaults(t,r,n){return this.default(t,r,n)}demandCommand(t=1,r,n,i){return kr("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,r,n,i],arguments.length),typeof r!="number"&&(n=r,r=1/0),this.global("_",!1),he(this,Hr,"f").demandedCommands._={min:t,max:r,minMsg:n,maxMsg:i},this}demand(t,r,n){return Array.isArray(r)?(r.forEach(i=>{W0(n,!0,he(this,Tn,"f")),this.demandOption(i,n)}),r=1/0):typeof r!="number"&&(n=r,r=1/0),typeof t=="number"?(W0(n,!0,he(this,Tn,"f")),this.demandCommand(t,r,n,n)):Array.isArray(t)?t.forEach(i=>{W0(n,!0,he(this,Tn,"f")),this.demandOption(i,n)}):typeof n=="string"?this.demandOption(t,n):(n===!0||typeof n>"u")&&this.demandOption(t),this}demandOption(t,r){return kr("<object|string|array> [string]",[t,r],arguments.length),this[Jv](this.demandOption.bind(this),"demandedOptions",t,r),this}deprecateOption(t,r){return kr("<string> [string|boolean]",[t,r],arguments.length),he(this,Hr,"f").deprecatedOptions[t]=r,this}describe(t,r){return kr("<object|string|array> [string]",[t,r],arguments.length),this[EZ](t,!0),he(this,Fn,"f").describe(t,r),this}detectLocale(t){return kr("<boolean>",[t],arguments.length),Rr(this,s4,t,"f"),this}env(t){return kr("[string|boolean]",[t],arguments.length),t===!1?delete he(this,Hr,"f").envPrefix:he(this,Hr,"f").envPrefix=t||"",this}epilogue(t){return kr("<string>",[t],arguments.length),he(this,Fn,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,r){return kr("<string|array> [string]",[t,r],arguments.length),Array.isArray(t)?t.forEach(n=>this.example(...n)):he(this,Fn,"f").example(t,r),this}exit(t,r){Rr(this,Qu,!0,"f"),Rr(this,D5,r,"f"),he(this,od,"f")&&he(this,Tn,"f").process.exit(t)}exitProcess(t=!0){return kr("[boolean]",[t],arguments.length),Rr(this,od,t,"f"),this}fail(t){if(kr("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new es("Invalid first argument. Expected function or boolean 'false'");return he(this,Fn,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,r){return kr("<array> [function]",[t,r],arguments.length),r?he(this,id,"f").getCompletion(t,r):new Promise((n,i)=>{he(this,id,"f").getCompletion(t,(s,a)=>{s?i(s):n(a)})})}getDemandedOptions(){return kr([],0),he(this,Hr,"f").demandedOptions}getDemandedCommands(){return kr([],0),he(this,Hr,"f").demandedCommands}getDeprecatedOptions(){return kr([],0),he(this,Hr,"f").deprecatedOptions}getDetectLocale(){return he(this,s4,"f")}getExitProcess(){return he(this,od,"f")}getGroups(){return Object.assign({},he(this,mp,"f"),he(this,l4,"f"))}getHelp(){if(Rr(this,Qu,!0,"f"),!he(this,Fn,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[$T](he(this,P5,"f"),void 0,void 0,0,!0);if(ts(r))return r.then(()=>he(this,Fn,"f").help())}let t=he(this,la,"f").runDefaultBuilderOn(this);if(ts(t))return t.then(()=>he(this,Fn,"f").help())}return Promise.resolve(he(this,Fn,"f").help())}getOptions(){return he(this,Hr,"f")}getStrict(){return he(this,c4,"f")}getStrictCommands(){return he(this,u4,"f")}getStrictOptions(){return he(this,f4,"f")}global(t,r){return kr("<string|array> [boolean]",[t,r],arguments.length),t=[].concat(t),r!==!1?he(this,Hr,"f").local=he(this,Hr,"f").local.filter(n=>t.indexOf(n)===-1):t.forEach(n=>{he(this,Hr,"f").local.includes(n)||he(this,Hr,"f").local.push(n)}),this}group(t,r){kr("<string|array> <string>",[t,r],arguments.length);let n=he(this,l4,"f")[r]||he(this,mp,"f")[r];he(this,l4,"f")[r]&&delete he(this,l4,"f")[r];let i={};return he(this,mp,"f")[r]=(n||[]).concat(t).filter(s=>i[s]?!1:i[s]=!0),this}hide(t){return kr("<string>",[t],arguments.length),he(this,Hr,"f").hiddenOptions.push(t),this}implies(t,r){return kr("<string|object> [number|string|array]",[t,r],arguments.length),he(this,Vs,"f").implies(t,r),this}locale(t){return kr("[string]",[t],arguments.length),t===void 0?(this[pZ](),he(this,Tn,"f").y18n.getLocale()):(Rr(this,s4,!1,"f"),he(this,Tn,"f").y18n.setLocale(t),this)}middleware(t,r,n){return he(this,sd,"f").addMiddleware(t,!!r,n)}nargs(t,r){return kr("<string|object|array> [number]",[t,r],arguments.length),this[Jv](this.nargs.bind(this),"narg",t,r),this}normalize(t){return kr("<array|string>",[t],arguments.length),this[F5]("normalize",t),this}number(t){return kr("<array|string>",[t],arguments.length),this[F5]("number",t),this[h4](t),this}option(t,r){if(kr("<string|object> [object]",[t,r],arguments.length),typeof t=="object")Object.keys(t).forEach(n=>{this.options(n,t[n])});else{typeof r!="object"&&(r={}),this[h4](t),he(this,hp,"f")&&(t==="version"||r?.alias==="version")&&this[DEe](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),he(this,Hr,"f").key[t]=!0,r.alias&&this.alias(t,r.alias);let n=r.deprecate||r.deprecated;n&&this.deprecateOption(t,n);let i=r.demand||r.required||r.require;i&&this.demand(t,i),r.demandOption&&this.demandOption(t,typeof r.demandOption=="string"?r.demandOption:void 0),r.conflicts&&this.conflicts(t,r.conflicts),"default"in r&&this.default(t,r.default),r.implies!==void 0&&this.implies(t,r.implies),r.nargs!==void 0&&this.nargs(t,r.nargs),r.config&&this.config(t,r.configParser),r.normalize&&this.normalize(t),r.choices&&this.choices(t,r.choices),r.coerce&&this.coerce(t,r.coerce),r.group&&this.group(t,r.group),(r.boolean||r.type==="boolean")&&(this.boolean(t),r.alias&&this.boolean(r.alias)),(r.array||r.type==="array")&&(this.array(t),r.alias&&this.array(r.alias)),(r.number||r.type==="number")&&(this.number(t),r.alias&&this.number(r.alias)),(r.string||r.type==="string")&&(this.string(t),r.alias&&this.string(r.alias)),(r.count||r.type==="count")&&this.count(t),typeof r.global=="boolean"&&this.global(t,r.global),r.defaultDescription&&(he(this,Hr,"f").defaultDescription[t]=r.defaultDescription),r.skipValidation&&this.skipValidation(t);let s=r.describe||r.description||r.desc,a=he(this,Fn,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(a,t)||typeof s=="string")&&this.describe(t,s),r.hidden&&this.hide(t),r.requiresArg&&this.requiresArg(t)}return this}options(t,r){return this.option(t,r)}parse(t,r,n){kr("[string|array] [function|boolean|object] [function]",[t,r,n],arguments.length),this[PEe](),typeof t>"u"&&(t=he(this,P5,"f")),typeof r=="object"&&(Rr(this,a4,r,"f"),r=n),typeof r=="function"&&(Rr(this,Mu,r,"f"),r=!1),r||Rr(this,P5,t,"f"),he(this,Mu,"f")&&Rr(this,od,!1,"f");let i=this[$T](t,!!r),s=this.parsed;return he(this,id,"f").setParsed(this.parsed),ts(i)?i.then(a=>(he(this,Mu,"f")&&he(this,Mu,"f").call(this,he(this,D5,"f"),a,he(this,hl,"f")),a)).catch(a=>{throw he(this,Mu,"f")&&he(this,Mu,"f")(a,this.parsed.argv,he(this,hl,"f")),a}).finally(()=>{this[xZ](),this.parsed=s}):(he(this,Mu,"f")&&he(this,Mu,"f").call(this,he(this,D5,"f"),i,he(this,hl,"f")),this[xZ](),this.parsed=s,i)}parseAsync(t,r,n){let i=this.parse(t,r,n);return ts(i)?i:Promise.resolve(i)}parseSync(t,r,n){let i=this.parse(t,r,n);if(ts(i))throw new es(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(t){return kr("<object>",[t],arguments.length),Rr(this,DL,t,"f"),this}pkgConf(t,r){kr("<string> [string]",[t,r],arguments.length);let n=null,i=this[gZ](r||he(this,o4,"f"));return i[t]&&typeof i[t]=="object"&&(n=wL(i[t],r||he(this,o4,"f"),this[d4]()["deep-merge-config"]||!1,he(this,Tn,"f")),he(this,Hr,"f").configObjects=(he(this,Hr,"f").configObjects||[]).concat(n)),this}positional(t,r){kr("<string> <object>",[t,r],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];r=B5(r,(a,l)=>a==="type"&&!["string","number","boolean"].includes(l)?!1:n.includes(a));let i=he(this,jT,"f").fullCommands[he(this,jT,"f").fullCommands.length-1],s=i?he(this,la,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return $v(s).forEach(a=>{let l=s[a];Array.isArray(l)?l.indexOf(t)!==-1&&(r[a]=!0):l[t]&&!(a in r)&&(r[a]=l[t])}),this.group(t,he(this,Fn,"f").getPositionalGroupName()),this.option(t,r)}recommendCommands(t=!0){return kr("[boolean]",[t],arguments.length),Rr(this,PL,t,"f"),this}required(t,r,n){return this.demand(t,r,n)}require(t,r,n){return this.demand(t,r,n)}requiresArg(t){return kr("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&he(this,Hr,"f").narg[t]?this:(this[Jv](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,r){return kr("[string] [string]",[t,r],arguments.length),t=t||this.$0,he(this,Yv,"f").log(he(this,id,"f").generateCompletionScript(t,r||he(this,Lu,"f")||"completion")),this}showHelp(t){if(kr("[string|function]",[t],arguments.length),Rr(this,Qu,!0,"f"),!he(this,Fn,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[$T](he(this,P5,"f"),void 0,void 0,0,!0);if(ts(n))return n.then(()=>{he(this,Fn,"f").showHelp(t)}),this}let r=he(this,la,"f").runDefaultBuilderOn(this);if(ts(r))return r.then(()=>{he(this,Fn,"f").showHelp(t)}),this}return he(this,Fn,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,r){return kr("[boolean|string] [string]",[t,r],arguments.length),he(this,Fn,"f").showHelpOnFail(t,r),this}showVersion(t){return kr("[string|function]",[t],arguments.length),he(this,Fn,"f").showVersion(t),this}skipValidation(t){return kr("<array|string>",[t],arguments.length),this[F5]("skipValidation",t),this}strict(t){return kr("[boolean]",[t],arguments.length),Rr(this,c4,t!==!1,"f"),this}strictCommands(t){return kr("[boolean]",[t],arguments.length),Rr(this,u4,t!==!1,"f"),this}strictOptions(t){return kr("[boolean]",[t],arguments.length),Rr(this,f4,t!==!1,"f"),this}string(t){return kr("<array|string>",[t],arguments.length),this[F5]("string",t),this[h4](t),this}terminalWidth(){return kr([],0),he(this,Tn,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return kr("<object>",[t],arguments.length),Rr(this,s4,!1,"f"),he(this,Tn,"f").y18n.updateLocale(t),this}usage(t,r,n,i){if(kr("<string|null|undefined> [string|boolean] [function|object] [function]",[t,r,n,i],arguments.length),r!==void 0){if(W0(t,null,he(this,Tn,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,r,n,i);throw new es(".usage() description must start with $0 if being used as alias for .command()")}else return he(this,Fn,"f").usage(t),this}usageConfiguration(t){return kr("<object>",[t],arguments.length),Rr(this,FL,t,"f"),this}version(t,r,n){let i="version";if(kr("[boolean|string] [string] [string]",[t,r,n],arguments.length),he(this,hp,"f")&&(this[hZ](he(this,hp,"f")),he(this,Fn,"f").version(void 0),Rr(this,hp,null,"f")),arguments.length===0)n=this[LEe](),t=i;else if(arguments.length===1){if(t===!1)return this;n=t,t=i}else arguments.length===2&&(n=r,r=void 0);return Rr(this,hp,typeof t=="string"?t:i,"f"),r=r||he(this,Fn,"f").deferY18nLookup("Show version number"),he(this,Fn,"f").version(n||void 0),this.boolean(he(this,hp,"f")),this.describe(he(this,hp,"f"),r),this}wrap(t){return kr("<number|null|undefined>",[t],arguments.length),he(this,Fn,"f").wrap(t),this}[(la=new WeakMap,o4=new WeakMap,jT=new WeakMap,id=new WeakMap,Lu=new WeakMap,SL=new WeakMap,D5=new WeakMap,s4=new WeakMap,_L=new WeakMap,od=new WeakMap,kL=new WeakMap,sd=new WeakMap,mp=new WeakMap,Qu=new WeakMap,ad=new WeakMap,BL=new WeakMap,Yv=new WeakMap,hl=new WeakMap,Hr=new WeakMap,RL=new WeakMap,DL=new WeakMap,Mu=new WeakMap,a4=new WeakMap,Kv=new WeakMap,l4=new WeakMap,P5=new WeakMap,PL=new WeakMap,Tn=new WeakMap,c4=new WeakMap,u4=new WeakMap,f4=new WeakMap,Fn=new WeakMap,FL=new WeakMap,hp=new WeakMap,Vs=new WeakMap,BEe)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[REe](){return{log:o((...t)=>{this[NL]()||console.log(...t),Rr(this,Qu,!0,"f"),he(this,hl,"f").length&&Rr(this,hl,he(this,hl,"f")+`
`,"f"),Rr(this,hl,he(this,hl,"f")+t.join(" "),"f")},"log"),error:o((...t)=>{this[NL]()||console.error(...t),Rr(this,Qu,!0,"f"),he(this,hl,"f").length&&Rr(this,hl,he(this,hl,"f")+`
`,"f"),Rr(this,hl,he(this,hl,"f")+t.join(" "),"f")},"error")}}[hZ](t){$v(he(this,Hr,"f")).forEach(r=>{if((i=>i==="configObjects")(r))return;let n=he(this,Hr,"f")[r];Array.isArray(n)?n.includes(t)&&n.splice(n.indexOf(t),1):typeof n=="object"&&delete n[t]}),delete he(this,Fn,"f").getDescriptions()[t]}[DEe](t,r,n){he(this,_L,"f")[n]||(he(this,Tn,"f").process.emitWarning(t,r),he(this,_L,"f")[n]=!0)}[PEe](){he(this,kL,"f").push({options:he(this,Hr,"f"),configObjects:he(this,Hr,"f").configObjects.slice(0),exitProcess:he(this,od,"f"),groups:he(this,mp,"f"),strict:he(this,c4,"f"),strictCommands:he(this,u4,"f"),strictOptions:he(this,f4,"f"),completionCommand:he(this,Lu,"f"),output:he(this,hl,"f"),exitError:he(this,D5,"f"),hasOutput:he(this,Qu,"f"),parsed:this.parsed,parseFn:he(this,Mu,"f"),parseContext:he(this,a4,"f")}),he(this,Fn,"f").freeze(),he(this,Vs,"f").freeze(),he(this,la,"f").freeze(),he(this,sd,"f").freeze()}[FEe](){let t="",r;return/\b(node|iojs|electron)(\.exe)?$/.test(he(this,Tn,"f").process.argv()[0])?r=he(this,Tn,"f").process.argv().slice(1,2):r=he(this,Tn,"f").process.argv().slice(0,1),t=r.map(n=>{let i=this[$Ee](he(this,o4,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<n.length?i:n}).join(" ").trim(),he(this,Tn,"f").getEnv("_")&&he(this,Tn,"f").getProcessArgvBin()===he(this,Tn,"f").getEnv("_")&&(t=he(this,Tn,"f").getEnv("_").replace(`${he(this,Tn,"f").path.dirname(he(this,Tn,"f").process.execPath())}/`,"")),t}[d4](){return he(this,DL,"f")}[NEe](){return he(this,FL,"f")}[pZ](){if(!he(this,s4,"f"))return;let t=he(this,Tn,"f").getEnv("LC_ALL")||he(this,Tn,"f").getEnv("LC_MESSAGES")||he(this,Tn,"f").getEnv("LANG")||he(this,Tn,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[LEe](){return this[gZ]().version||"unknown"}[QEe](t){let r=t["--"]?t["--"]:t._;for(let n=0,i;(i=r[n])!==void 0;n++)he(this,Tn,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(r[n]=Number(i));return t}[gZ](t){let r=t||"*";if(he(this,Kv,"f")[r])return he(this,Kv,"f")[r];let n={};try{let i=t||he(this,Tn,"f").mainFilename;!t&&he(this,Tn,"f").path.extname(i)&&(i=he(this,Tn,"f").path.dirname(i));let s=he(this,Tn,"f").findUp(i,(a,l)=>{if(l.includes("package.json"))return"package.json"});W0(s,void 0,he(this,Tn,"f")),n=JSON.parse(he(this,Tn,"f").readFileSync(s,"utf8"))}catch{}return he(this,Kv,"f")[r]=n||{},he(this,Kv,"f")[r]}[F5](t,r){r=[].concat(r),r.forEach(n=>{n=this[CZ](n),he(this,Hr,"f")[t].push(n)})}[Jv](t,r,n,i){this[yZ](t,r,n,i,(s,a,l)=>{he(this,Hr,"f")[s][a]=l})}[AZ](t,r,n,i){this[yZ](t,r,n,i,(s,a,l)=>{he(this,Hr,"f")[s][a]=(he(this,Hr,"f")[s][a]||[]).concat(l)})}[yZ](t,r,n,i,s){if(Array.isArray(n))n.forEach(a=>{t(a,i)});else if((a=>typeof a=="object")(n))for(let a of $v(n))t(a,n[a]);else s(r,this[CZ](n),i)}[CZ](t){return t==="__proto__"?"___proto___":t}[EZ](t,r){return this[Jv](this[EZ].bind(this),"key",t,r),this}[xZ](){var t,r,n,i,s,a,l,c,u,f,m,h;let p=he(this,kL,"f").pop();W0(p,void 0,he(this,Tn,"f"));let A;t=this,r=this,n=this,i=this,s=this,a=this,l=this,c=this,u=this,f=this,m=this,h=this,{options:{set value(E){Rr(t,Hr,E,"f")}}.value,configObjects:A,exitProcess:{set value(E){Rr(r,od,E,"f")}}.value,groups:{set value(E){Rr(n,mp,E,"f")}}.value,output:{set value(E){Rr(i,hl,E,"f")}}.value,exitError:{set value(E){Rr(s,D5,E,"f")}}.value,hasOutput:{set value(E){Rr(a,Qu,E,"f")}}.value,parsed:this.parsed,strict:{set value(E){Rr(l,c4,E,"f")}}.value,strictCommands:{set value(E){Rr(c,u4,E,"f")}}.value,strictOptions:{set value(E){Rr(u,f4,E,"f")}}.value,completionCommand:{set value(E){Rr(f,Lu,E,"f")}}.value,parseFn:{set value(E){Rr(m,Mu,E,"f")}}.value,parseContext:{set value(E){Rr(h,a4,E,"f")}}.value}=p,he(this,Hr,"f").configObjects=A,he(this,Fn,"f").unfreeze(),he(this,Vs,"f").unfreeze(),he(this,la,"f").unfreeze(),he(this,sd,"f").unfreeze()}[MEe](t,r){return i4(r,n=>(t(n),n))}getInternalMethods(){return{getCommandInstance:this[OEe].bind(this),getContext:this[UEe].bind(this),getHasOutput:this[qEe].bind(this),getLoggerInstance:this[WEe].bind(this),getParseContext:this[GEe].bind(this),getParserConfiguration:this[d4].bind(this),getUsageConfiguration:this[NEe].bind(this),getUsageInstance:this[HEe].bind(this),getValidationInstance:this[VEe].bind(this),hasParseCallback:this[NL].bind(this),isGlobalContext:this[jEe].bind(this),postProcess:this[m4].bind(this),reset:this[bZ].bind(this),runValidation:this[vZ].bind(this),runYargsParserAndExecuteCommands:this[$T].bind(this),setHasOutput:this[zEe].bind(this)}}[OEe](){return he(this,la,"f")}[UEe](){return he(this,jT,"f")}[qEe](){return he(this,Qu,"f")}[WEe](){return he(this,Yv,"f")}[GEe](){return he(this,a4,"f")||{}}[HEe](){return he(this,Fn,"f")}[VEe](){return he(this,Vs,"f")}[NL](){return!!he(this,Mu,"f")}[jEe](){return he(this,BL,"f")}[m4](t,r,n,i){return n||ts(t)||(r||(t=this[BEe](t)),(this[d4]()["parse-positional-numbers"]||this[d4]()["parse-positional-numbers"]===void 0)&&(t=this[QEe](t)),i&&(t=n4(t,this,he(this,sd,"f").getMiddleware(),!1))),t}[bZ](t={}){Rr(this,Hr,he(this,Hr,"f")||{},"f");let r={};r.local=he(this,Hr,"f").local||[],r.configObjects=he(this,Hr,"f").configObjects||[];let n={};r.local.forEach(a=>{n[a]=!0,(t[a]||[]).forEach(l=>{n[l]=!0})}),Object.assign(he(this,l4,"f"),Object.keys(he(this,mp,"f")).reduce((a,l)=>{let c=he(this,mp,"f")[l].filter(u=>!(u in n));return c.length>0&&(a[l]=c),a},{})),Rr(this,mp,{},"f");let i=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],s=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return i.forEach(a=>{r[a]=(he(this,Hr,"f")[a]||[]).filter(l=>!n[l])}),s.forEach(a=>{r[a]=B5(he(this,Hr,"f")[a],l=>!n[l])}),r.envPrefix=he(this,Hr,"f").envPrefix,Rr(this,Hr,r,"f"),Rr(this,Fn,he(this,Fn,"f")?he(this,Fn,"f").reset(n):bEe(this,he(this,Tn,"f")),"f"),Rr(this,Vs,he(this,Vs,"f")?he(this,Vs,"f").reset(n):_Ee(this,he(this,Fn,"f"),he(this,Tn,"f")),"f"),Rr(this,la,he(this,la,"f")?he(this,la,"f").reset():CEe(he(this,Fn,"f"),he(this,Vs,"f"),he(this,sd,"f"),he(this,Tn,"f")),"f"),he(this,id,"f")||Rr(this,id,TEe(this,he(this,Fn,"f"),he(this,la,"f"),he(this,Tn,"f")),"f"),he(this,sd,"f").reset(),Rr(this,Lu,null,"f"),Rr(this,hl,"","f"),Rr(this,D5,null,"f"),Rr(this,Qu,!1,"f"),this.parsed=!1,this}[$Ee](t,r){return he(this,Tn,"f").path.relative(t,r)}[$T](t,r,n,i=0,s=!1){let a=!!n||s;t=t||he(this,P5,"f"),he(this,Hr,"f").__=he(this,Tn,"f").y18n.__,he(this,Hr,"f").configuration=this[d4]();let l=!!he(this,Hr,"f").configuration["populate--"],c=Object.assign({},he(this,Hr,"f").configuration,{"populate--":!0}),u=he(this,Tn,"f").Parser.detailed(t,Object.assign({},he(this,Hr,"f"),{configuration:{"parse-positional-numbers":!1,...c}})),f=Object.assign(u.argv,he(this,a4,"f")),m,h=u.aliases,p=!1,A=!1;Object.keys(f).forEach(E=>{E===he(this,ad,"f")&&f[E]?p=!0:E===he(this,hp,"f")&&f[E]&&(A=!0)}),f.$0=this.$0,this.parsed=u,i===0&&he(this,Fn,"f").clearCachedHelpMessage();try{if(this[pZ](),r)return this[m4](f,l,!!n,!1);he(this,ad,"f")&&[he(this,ad,"f")].concat(h[he(this,ad,"f")]||[]).filter(S=>S.length>1).includes(""+f._[f._.length-1])&&(f._.pop(),p=!0),Rr(this,BL,!1,"f");let E=he(this,la,"f").getCommands(),x=he(this,id,"f").completionKey in f,b=p||x||s;if(f._.length){if(E.length){let v;for(let S=i||0,B;f._[S]!==void 0;S++)if(B=String(f._[S]),E.includes(B)&&B!==he(this,Lu,"f")){let P=he(this,la,"f").runCommand(B,this,u,S+1,s,p||A||s);return this[m4](P,l,!!n,!1)}else if(!v&&B!==he(this,Lu,"f")){v=B;break}!he(this,la,"f").hasDefaultCommand()&&he(this,PL,"f")&&v&&!b&&he(this,Vs,"f").recommendCommands(v,E)}he(this,Lu,"f")&&f._.includes(he(this,Lu,"f"))&&!x&&(he(this,od,"f")&&R5(!0),this.showCompletionScript(),this.exit(0))}if(he(this,la,"f").hasDefaultCommand()&&!b){let v=he(this,la,"f").runCommand(null,this,u,0,s,p||A||s);return this[m4](v,l,!!n,!1)}if(x){he(this,od,"f")&&R5(!0),t=[].concat(t);let v=t.slice(t.indexOf(`--${he(this,id,"f").completionKey}`)+1);return he(this,id,"f").getCompletion(v,(S,B)=>{if(S)throw new es(S.message);(B||[]).forEach(P=>{he(this,Yv,"f").log(P)}),this.exit(0)}),this[m4](f,!l,!!n,!1)}if(he(this,Qu,"f")||(p?(he(this,od,"f")&&R5(!0),a=!0,this.showHelp("log"),this.exit(0)):A&&(he(this,od,"f")&&R5(!0),a=!0,he(this,Fn,"f").showVersion("log"),this.exit(0))),!a&&he(this,Hr,"f").skipValidation.length>0&&(a=Object.keys(f).some(v=>he(this,Hr,"f").skipValidation.indexOf(v)>=0&&f[v]===!0)),!a){if(u.error)throw new es(u.error.message);if(!x){let v=this[vZ](h,{},u.error);n||(m=n4(f,this,he(this,sd,"f").getMiddleware(),!0)),m=this[MEe](v,m??f),ts(m)&&!n&&(m=m.then(()=>n4(f,this,he(this,sd,"f").getMiddleware(),!1)))}}}catch(E){if(E instanceof es)he(this,Fn,"f").fail(E.message,E);else throw E}return this[m4](m??f,l,!!n,!0)}[vZ](t,r,n,i){let s={...this.getDemandedOptions()};return a=>{if(n)throw new es(n.message);he(this,Vs,"f").nonOptionCount(a),he(this,Vs,"f").requiredArguments(a,s);let l=!1;he(this,u4,"f")&&(l=he(this,Vs,"f").unknownCommands(a)),he(this,c4,"f")&&!l?he(this,Vs,"f").unknownArguments(a,t,r,!!i):he(this,f4,"f")&&he(this,Vs,"f").unknownArguments(a,t,{},!1,!1),he(this,Vs,"f").limitedChoices(a),he(this,Vs,"f").implications(a),he(this,Vs,"f").conflicting(a)}}[zEe](){Rr(this,Qu,!0,"f")}[h4](t){if(typeof t=="string")he(this,Hr,"f").key[t]=!0;else for(let r of t)he(this,Hr,"f").key[r]=!0}};function EEe(e){return!!e&&typeof e.getInternalMethods=="function"}o(EEe,"isYargsInstance");var t0t=YEe(hEe),KEe=t0t;d();d();var zT="apps",TZ="hosts",YT=class{constructor(t,r){this.ctx=t;this.persistenceManager=r}static{o(this,"AuthPersistence")}async getAuthRecord(t){let r=await this.persistenceManager.read(zT,this.authRecordKey(this.ctx,t));return!t&&!r&&(r=await this.persistenceManager.read(zT,this.authRecordKey(this.ctx,this.ctx.get(Hs).fallbackAppId()))),r||await this.legacyAuthRecordMaybe()}async legacyAuthRecordMaybe(){let t=await this.persistenceManager.read(TZ,this.legacyAuthRecordKey(this.ctx));if(t){let r=this.ctx.get(Hs).fallbackAppId();return{...t,githubAppId:r}}}async saveAuthRecord(t){let r=this.ctx.get(Hs).findAppIdToAuthenticate();await this.persistenceManager.update(zT,this.authRecordKey(this.ctx,t.githubAppId),t);let n=this.ctx.get(Hs).fallbackAppId();r===n&&await this.persistenceManager.delete(TZ,this.legacyAuthRecordKey(this.ctx))}async deleteAuthRecord(){let t=await this.getAuthRecord();if(t){let r=this.ctx.get(Hs).fallbackAppId();t.githubAppId===r&&await this.persistenceManager.delete(TZ,this.legacyAuthRecordKey(this.ctx)),await this.persistenceManager.delete(zT,this.authRecordKey(this.ctx)),await this.persistenceManager.delete(zT,this.authRecordKey(this.ctx,r))}}authRecordKey(t,r){let n=t.get(Rn).getAuthAuthority(),i=r??t.get(Hs).findAppIdToAuthenticate();return`${n}:${i}`}legacyAuthRecordKey(t){return t.get(Rn).getAuthAuthority()}};d();d();var LL={AuthNotifyShown:"auth.auth_notify_shown",AuthNotifyDismissed:"auth.auth_notify_dismissed",NewGitHubLogin:"auth.new_github_login",GitHubLoginSuccess:"auth.github_login_success"};function JEe(e,t){let r=nn.createAndMarkAsIssued({authSource:t});return er(e,LL.AuthNotifyShown,r)}o(JEe,"telemetryAuthNotifyShown");function XEe(e){return er(e,LL.AuthNotifyDismissed)}o(XEe,"telemetryAuthNotifyDismissed");function QL(e,t,r){let n=nn.createAndMarkAsIssued({authSource:t,authType:r});return er(e,LL.NewGitHubLogin,n)}o(QL,"telemetryNewGitHubLogin");function ML(e,t){let r=nn.createAndMarkAsIssued({authType:t});return er(e,LL.GitHubLoginSuccess,r)}o(ML,"telemetryGitHubLoginSuccess");async function r0t(e,t){QL(e,"unknown","deviceFlow");let r={method:"POST",headers:{Accept:"application/json",...a0(e)},json:{client_id:t},timeout:30*1e3},n;try{n=await e.get(Fr).fetch(e.get(Rn).getDeviceFlowStartUrl(),r)}catch(i){throw i instanceof Error&&k7(i)?new Us(`Could not log in with device flow on ${e.get(Rn).getAuthAuthority()}: ${i.message}`):i}if(!n.ok)throw new Us(`Could not log in with device flow on ${e.get(Rn).getAuthAuthority()}: HTTP ${n.status}`);return await n.json()}o(r0t,"requestDeviceFlowStage1");async function n0t(e,t,r){let n={method:"POST",headers:{Accept:"application/json",...a0(e)},json:{client_id:r,device_code:t,grant_type:"urn:ietf:params:oauth:grant-type:device_code"},timeout:3e4};return await(await e.get(Fr).fetch(e.get(Rn).getDeviceFlowCompletionUrl(),n)).json()}o(n0t,"requestDeviceFlowStage2");async function i0t(e,t){return ML(e,"deviceFlow"),await(await e.get(Fr).fetch(e.get(Rn).getUserInfoUrl(),{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}})).json()}o(i0t,"requestUserInfo");var p4=class{static{o(this,"GitHubDeviceFlow")}async getToken(t,r){try{return await this.getTokenUnguarded(t,r)}catch(n){throw t.get(_c).notifyUser(t,n),n}}async getTokenUnguarded(t,r){let n=await r0t(t,r),i=(async()=>{let s=n.expires_in,a;for(;s>0;){let l=await n0t(t,n.device_code,r);if(s-=n.interval,await new Promise(c=>setTimeout(c,1e3*n.interval)),a=l.access_token,a)return{user:(await i0t(t,a)).login,oauth_token:a}}throw new Us("Timed out waiting for login to complete")})();return{...n,waitForAuth:i}}};d();var Ou=class{static{o(this,"CitationManager")}},OL=class extends Ou{static{o(this,"NoOpCitationManager")}async handleIPCodeCitation(t,r){}};d();d();d();var Xv=class{constructor(){this.resolve=o(()=>{},"resolve");this.reject=o(()=>{},"reject");this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}static{o(this,"Deferred")}};d();var wZ=class{constructor(){this.observers=new Set}static{o(this,"Subject")}subscribe(t){return this.observers.add(t),()=>this.observers.delete(t)}next(t){for(let r of this.observers)r.next(t)}error(t){for(let r of this.observers)r.error?.(t)}complete(){for(let t of this.observers)t.complete?.()}},UL=class extends wZ{static{o(this,"ReplaySubject")}subscribe(t){let r=super.subscribe(t);return this._value!==void 0&&t.next(this._value),r}next(t){this._value=t,super.next(t)}};var Qm=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new Cr("AsyncCompletionManager");this.requests=new Bn(100);this.mostRecentRequestId="";za(t,r=>{this.#e=r.hasKnownOrg})}static{o(this,"AsyncCompletionManager")}#e;#t;clear(){this.requests.clear()}isEnabled(t){let r=ci(this.ctx,qt.UseAsyncCompletions);return this.#e&&typeof r=="boolean"?r:this.ctx.get(jt).enableAsyncCompletions(t)}shouldWaitForAsyncCompletions(t,r){for(let[n,i]of this.requests)if(SZ(t,r,i))return!0;return!1}updateCompletion(t,r){let n=this.requests.get(t);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(t,r,n,i,s){this.#t.debug(this.ctx,`[${t}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new UL;return this.requests.set(t,{state:2,cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a}),s.then(l=>{if(this.requests.delete(t),l.type!=="success"){this.#t.debug(this.ctx,`[${t}] Request failed with`,l.reason),a.error(l.reason);return}let c={cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(t,c),a.next(c),a.complete()}).catch(l=>{this.#t.error(this.ctx,`[${t}] Request errored with`,l),this.requests.delete(t),a.error(l)})}getFirstMatchingRequestWithTimeout(t,r,n,i,s){let a=this.ctx.get(jt).asyncCompletionsTimeout(s);return a<0?(this.#t.debug(this.ctx,`[${t}] Waiting for completions without timeout`),this.getFirstMatchingRequest(t,r,n,i)):(this.#t.debug(this.ctx,`[${t}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(t,r,n,i),new Promise(l=>setTimeout(()=>l(null),a))]).then(l=>{if(l===null){this.#t.debug(this.ctx,`[${t}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(t,r,n,i){i||(this.mostRecentRequestId=t);let s=!1,a=new Xv,l=new Map,c=o(f=>()=>{let m=l.get(f);m!==void 0&&(m(),l.delete(f),!s&&l.size===0&&(s=!0,this.#t.debug(this.ctx,`[${t}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),u=o(f=>{if(SZ(r,n,f)){if(f.state===0){let m=r.substring(f.prefix.length),{completionText:h}=f.choice;if(!h.startsWith(m)||h.length<=m.length){c(f.headerRequestId)();return}h=h.substring(m.length),f.choice.telemetryData.measurements.foundOffset=m.length,this.#t.debug(this.ctx,`[${t}] Found completion at offset ${m.length}: ${JSON.stringify(h)}`),a.resolve([{...f.choice,completionText:h},f.allChoicesPromise]),s=!0}}else this.cancelRequest(t,f),c(f.headerRequestId)()},"next");for(let[f,m]of this.requests)SZ(r,n,m)?l.set(f,m.subject.subscribe({next:u,error:c(f),complete:c(f)})):this.cancelRequest(t,m);return a.promise.finally(()=>{for(let f of l.values())f()})}cancelRequest(t,r){t===this.mostRecentRequestId&&r.state!==0&&(this.#t.debug(this.ctx,`[${t}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function SZ(e,t,r){if(r.prompt.suffix!==t.suffix||!e.startsWith(r.prefix))return!1;let n=e.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}o(SZ,"isCandidate");d();var o0t={fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1},rs=class{constructor(){this.capabilities={...o0t}}static{o(this,"CopilotCapabilitiesProvider")}setCapabilities(t){let r;for(r in t){let n=t[r];n!==void 0&&(this.capabilities[r]=n)}}getCapabilities(){return this.capabilities}};d();var Zv=class{constructor(){this.instances=new Map}static{o(this,"Context")}get(t){let r=this.tryGet(t);if(r)return r;throw new Error(`No instance of ${t.name} has been registered.`)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};d();d();var qL=class extends Error{static{o(this,"FetchSpeculationCanceledException")}constructor(t){super(t),this.name="FetchSpeculationCanceledException"}};d();var eI=class extends Error{static{o(this,"FetchSpeculationFailedException")}constructor(t){super(t),this.name="FetchSpeculationFailedException"}};d();d();async function*N5(e,t){for await(let r of e)yield t(r)}o(N5,"asyncIterableMap");async function*ZEe(e,t){for await(let r of e)await t(r)&&(yield r)}o(ZEe,"asyncIterableFilter");async function*KT(e,t){for await(let r of e){let n=await t(r);n!==void 0&&(yield n)}}o(KT,"asyncIterableMapFilter");async function*exe(...e){for(let t of e)yield*t}o(exe,"asyncIterableConcat");d();function txe(e,t,r,n,i,s,a){return $5e(e,t,r,i,n),{completionText:t,meanLogProb:s0t(e,r),meanAlternativeLogProb:a0t(e,r),choiceIndex:n,requestId:i,blockFinished:s,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:xr()}}o(txe,"convertToAPIChoice");async function*rxe(e,t){for await(let r of e){let n={...r},i=n.completionText.split(`
`);for(let s=0;s<i.length;++s){let a=i[s].trimLeft();a===""?i[s]=a:i[s]=t+a}n.completionText=i.join(`
`),yield n}}o(rxe,"cleanupIndentChoices");function s0t(e,t){if(t?.logprobs?.token_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--)r+=t.logprobs.token_logprobs[s],n+=1;return n>0?r/n:void 0}catch(r){ni.exception(e,r,"Error calculating mean prob")}}o(s0t,"calculateMeanLogProb");function a0t(e,t){if(t?.logprobs?.top_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--){let a={...t.logprobs.top_logprobs[s]};delete a[t.logprobs.tokens[s]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){ni.exception(e,r,"Error calculating mean prob")}}o(a0t,"calculateMeanAlternativeLogProb");function tI(e,t){return vm(e)||t<=1?0:t<10?.2:t<20?.4:.8}o(tI,"getTemperatureForSamples");var l0t={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function nxe(e,t){return l0t[t??""]??[`


`,"\n```"]}o(nxe,"getStops");function WL(e){return 1}o(WL,"getTopP");function GL(e){return vT}o(GL,"getMaxSolutionTokens");d();var Nc=new Cr("streamChoices"),_Z=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new RZ;this.tool_calls=[];this.function_call=new BZ;this.copilot_references=[]}static{o(this,"APIJsonDataStreaming")}append(t){if(t.text&&this.text.push(t.text),t.delta?.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push(t.logprobs.tokens??[]),this.text_offset.push(t.logprobs.text_offset??[]),this.logprobs.push(t.logprobs.token_logprobs??[]),this.top_logprobs.push(t.logprobs.top_logprobs??[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),t.delta?.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),t.delta?.tool_calls&&t.delta.tool_calls.length>0)for(let r of t.delta.tool_calls){let n=r.index;this.tool_calls[n]||(this.tool_calls[n]=new kZ),this.tool_calls[n].update(r)}t.delta?.function_call&&this.function_call.update(t.delta.function_call)}};function c0t(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(c0t,"splitChunk");var kZ=class{constructor(){this.arguments=[]}static{o(this,"StreamingToolCall")}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}},BZ=class{constructor(){this.arguments=[]}static{o(this,"StreamingFunctionCall")}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}},RZ=class{constructor(){this.current={}}static{o(this,"StreamCopilotAnnotations")}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(s=>s.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){return this.current[t]??[]}},A4=class e{constructor(t,r,n,i,s,a,l){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=s;this.dropCompletionReasons=a;this.cancellationToken=l;this.requestId=g4(this.response);this.stats=new DZ(this.expectedNumChoices);this.solutions={}}static{o(this,"SSEProcessor")}static create(t,r,n,i,s,a){let l=n.body();return l.setEncoding("utf8"),new e(t,r,n,l,i,s??["content_filter"],a)}async*processSSE(t=async()=>{}){try{yield*this.processSSEInner(t)}finally{this.cancel(),Nc.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),Nc.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(t){let r="",n=null,i,s;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;Nc.debug(this.ctx,"chunk",a.toString());let[l,c]=c0t(r+a.toString());r=c;for(let u of l){let f=u.slice(5).trim();if(f=="[DONE]"){yield*this.finishSolutions(n,i,s);return}n=null;let m;try{m=JSON.parse(f)}catch{Nc.error(this.ctx,"Error parsing JSON stream data",u);continue}if(m.copilot_confirmation&&u0t(m.copilot_confirmation)&&await t("",{text:"",requestId:this.requestId,copilotConfirmation:m.copilot_confirmation}),m.copilot_references&&await t("",{text:"",requestId:this.requestId,copilotReferences:m.copilot_references}),m.choices===void 0){!m.copilot_references&&!m.copilot_confirmation&&(m.error!==void 0?Nc.error(this.ctx,"Error in response:",m.error.message):Nc.error(this.ctx,"Unexpected response with no choices or error: "+f)),m.copilot_errors&&await t("",{text:"",requestId:this.requestId,copilotErrors:m.copilot_errors});continue}if(this.requestId.created==0&&(this.requestId=g4(this.response,m),this.requestId.created===0&&m.choices?.length&&Nc.error(this.ctx,'Request id invalid, should have "completionId" and "created":',this.requestId)),i===void 0&&m.model&&(i=m.model),s===void 0&&m.usage&&(s=m.usage),this.allSolutionsDone()){r="";break e}for(let h=0;h<m.choices?.length;h++){let p=m.choices[h];Nc.debug(this.ctx,"choice",p),this.stats.add(p.index),p.index in this.solutions||(this.solutions[p.index]=new _Z);let A=this.solutions[p.index];if(A==null)continue;A.append(p);let E,x=p.text?.indexOf(`
`)>-1||p.delta?.content?.indexOf(`
`)>-1;if(p.finish_reason||x){let S=A.text.join("");if(E=await t(S,{text:S,requestId:this.requestId,annotations:A.copilot_annotations,copilotReferences:A.copilot_references}),this.maybeCancel("after awaiting finishedCb"))return}if(p.finish_reason&&A.function_call.name!==void 0){n=p.finish_reason;continue}if(!(p.finish_reason||E!==void 0))continue;let v=p.finish_reason??"client-trimmed";if(er(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:v,engineName:i??"",engineChoiceSource:C5(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(p.finish_reason)?this.solutions[p.index]=null:(this.stats.markYielded(p.index),yield{solution:A,finishOffset:E,reason:p.finish_reason,requestId:this.requestId,index:p.index,model:i,usage:s}),this.maybeCancel("after yielding finished choice"))return;this.solutions[p.index]=null}}}for(let[a,l]of Object.entries(this.solutions)){let c=Number(a);if(l!=null&&(er(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i??""})),this.stats.markYielded(c),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:c,model:i,usage:s},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&Nc.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{Nc.error(this.ctx,`Error parsing extraData: ${r}`)}}async*finishSolutions(t,r,n){for(let[i,s]of Object.entries(this.solutions)){let a=Number(i);if(s!=null&&(this.stats.markYielded(a),er(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:t??"DONE",engineName:r??""})),yield{solution:s,finishOffset:void 0,reason:t??"DONE",requestId:this.requestId,index:a,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){return this.cancellationToken?.isCancellationRequested?(Nc.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};function FZ(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(Nc.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),Nc.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),Nc.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=NZ(t.solution);return txe(e,n,s,t.index,t.requestId,i,r)}o(FZ,"prepareSolutionForReturn");function NZ(e){let t=e.text.join(""),r=f0t(e),n=d0t(e),i=e.copilot_annotations.current,s={text:t,tokens:e.text,tool_calls:r,function_call:n,copilot_annotations:i};if(e.logprobs.length===0)return s;let a=e.logprobs.reduce((f,m)=>f.concat(m),[]),l=e.top_logprobs.reduce((f,m)=>f.concat(m),[]),c=e.text_offset.reduce((f,m)=>f.concat(m),[]),u=e.tokens.reduce((f,m)=>f.concat(m),[]);return{...s,logprobs:{token_logprobs:a,top_logprobs:l,text_offset:c,tokens:u}}}o(NZ,"convertToAPIJsonData");function u0t(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}o(u0t,"isCopilotConfirmation");function f0t(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.length>0?JSON.parse(r.arguments.join("")):{};t.push({type:"function",function:{name:r.name,arguments:n},approxNumTokens:r.arguments.length+1})}return t}o(f0t,"extractToolCalls");function d0t(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):{};return{name:e.function_call.name,arguments:t}}}o(d0t,"extractFunctionCall");var DZ=class{constructor(t){this.choices=new Map;for(let r=0;r<t;r++)this.choices.set(r,new PZ)}static{o(this,"ChunkStats")}add(t){this.choices.get(t).increment()}markYielded(t){this.choices.get(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},PZ=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{o(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};d();function HL(e,t){return e!==null&&typeof e=="object"&&t in e}o(HL,"hasKey");function Mm(e,t){return HL(e,t)?e[t]:void 0}o(Mm,"getKey");var G0=new Cr("fetchCompletions");function g4(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(g4,"getRequestId");function XT(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(XT,"getProcessingTime");function m0t(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(m0t,"uiKindToIntent");var ld=class{static{o(this,"OpenAIFetcher")}};function h0t(e,t,r,n){return sv(e,t,"proxy","v1/engines",r,n)}o(h0t,"getProxyEngineUrl");async function ixe(e,t,r,n,i,s,a,l,c,u,f){let m=e.get(Ki),h=h0t(e,a,r,n),p=c.extendedBy({endpoint:n,engineName:r,uiKind:l},gv(t));for(let[x,b]of Object.entries(s))x=="prompt"||x=="suffix"||x=="context"||(p.properties[`request.option.${x}`]=JSON.stringify(b)??"undefined");p.properties.headerRequestId=i,er(e,"request.sent",p);let A=Gl(),E=m0t(l);return yb(e,h,a.token,E,i,s,u,f).then(x=>{let b=g4(x,void 0);p.extendWithRequestId(b);let v=Gl()-A;return p.measurements.totalTimeMs=v,G0.info(e,`request.response: [${h}] took ${v} ms`),G0.debug(e,"request.response properties",p.properties),G0.debug(e,"request.response measurements",p.measurements),G0.debug(e,"prompt:",t),er(e,"request.response",p),x}).catch(x=>{if(hu(x))throw er(e,"request.cancel",p),x;m.setWarning(Mm(x,"message")??"");let b=p.extendedBy({error:"Network exception"});er(e,"request.shownWarning",b),p.properties.message=String(Mm(x,"name")??""),p.properties.code=String(Mm(x,"code")??""),p.properties.errno=String(Mm(x,"errno")??""),p.properties.type=String(Mm(x,"type")??"");let v=Gl()-A;throw p.measurements.totalTimeMs=v,G0.debug(e,`request.response: [${h}] took ${v} ms`),G0.debug(e,"request.error properties",p.properties),G0.debug(e,"request.error measurements",p.measurements),er(e,"request.error",p),x}).finally(()=>{z5e(e,t,p)})}o(ixe,"fetchWithInstrumentation");function oxe(e){return ZEe(e,async t=>t.completionText.trim().length>0)}o(oxe,"postProcessChoices");var p0t="github.copilot.completions.quotaExceeded",JT=class extends ld{static{o(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Ki),l="completions",c=await t.get(qr).getToken(),u=await this.fetchWithParameters(t,l,r,c,n,s);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let A=u.body();try{A.destroy()}catch(E){G0.exception(t,E,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u.status!==200){let A=this.createTelemetryData(l,t,r);return this.handleError(t,a,A,u,c)}let f=t.get(jt).dropCompletionReasons(n),h=A4.create(t,r.count,u,n,f,s).processSSE(i),p=N5(h,async A=>FZ(t,A,n));return{type:"success",choices:oxe(p),getProcessingTime:o(()=>XT(u),"getProcessingTime")}}async fetchAndStreamSpeculation(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Ki),l="speculation",c=await t.get(qr).getToken(),u={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1,promptElementRanges:[]},postOptions:{speculation:r.speculation,temperature:r.temperature,stream:r.stream,stop:r.stops??[]},languageId:"",count:0,repoInfo:void 0,ourRequestId:xr(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers},f=await this.fetchSpeculationWithParameters(t,l,u,c,n,s);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let E=f.body();try{E.destroy()}catch(x){G0.exception(t,x,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let E=this.createTelemetryData(l,t,u);return this.handleError(t,a,E,f,c)}let m=t.get(jt).dropCompletionReasons(n),p=A4.create(t,1,f,n,m,s).processSSE(i),A=N5(p,async E=>FZ(t,E,n));return{type:"success",choices:oxe(A),getProcessingTime:o(()=>XT(f),"getProcessingTime")}}createTelemetryData(t,r,n){return nn.createAndMarkAsIssued({endpoint:t,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(t,r,n,i,s,a){let l={prompt:n.prompt.prefix};return n.postOptions&&Object.assign(l,n.postOptions),await new Promise((u,f)=>{setImmediate(u)}),a?.isCancellationRequested?"not-sent":await ixe(t,n.prompt,n.engineModelId,r,n.ourRequestId,l,i,n.uiKind,s,a,n.headers)}async fetchWithParameters(t,r,n,i,s,a){let l=t.get(jt).disableLogProb(s),c=t.get(jt).enablePromptContextProxyField(s),u={prompt:c?n.prompt.prefixWithoutContext??"":n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:GL(t),temperature:tI(t,n.count),top_p:WL(t),n:n.count,stop:nxe(t,n.languageId)};(n.requestLogProbs||!l)&&(u.logprobs=2);let f=p1(n.repoInfo);return f!==void 0&&(u.nwo=f),n.postOptions&&Object.assign(u,n.postOptions),c&&n.prompt.context&&(u.extra?u.extra.context=n.prompt.context:u.extra={language:n.languageId,prompt_tokens:n.prompt.prefixTokens??0,suffix_tokens:n.prompt.suffixTokens??0,context:n.prompt.context}),await new Promise((h,p)=>{setImmediate(h)}),a?.isCancellationRequested?"not-sent":await ixe(t,n.prompt,n.engineModelId,r,n.ourRequestId,u,i,n.uiKind,s,a,n.headers)}async handleError(t,r,n,i,s){let a=await i.text();if(i.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:p0t,title:"Learn More"});let c=za(t,u=>{this.#e=void 0,(u.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),c.dispose())});return{type:"failed",reason:this.#e}}if(i.status===466)return r.setError(a),G0.info(t,a),{type:"failed",reason:`client not supported: ${a}`};if(i.clientError&&!i.headers.get("x-github-request-id")){let l=`Last response was a ${i.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;G0.error(t,l),r.setWarning(l),n.properties.error=`Response status was ${i.status} with no x-github-request-id header`}else i.clientError?(G0.warn(t,`Response status was ${i.status}:`,a),r.setWarning(`Last response was a ${i.status} error: ${a}`),n.properties.error=`Response status was ${i.status}: ${a}`):(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`);return n.properties.status=String(i.status),er(t,"request.shownWarning",n),i.status===401||i.status===403?(t.get(qr).resetToken(i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`}):i.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",G0.warn(t,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):i.status===499?(G0.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(G0.error(t,"Unhandled status from server:",i.status,a),{type:"failed",reason:`unhandled status from server: ${i.status} ${a}`})}};var sbr=I.Object({prompt:I.String(),speculation:I.String(),languageId:I.String(),stops:I.Array(I.String())}),y4=class{static{o(this,"SpeculationFetcher")}constructor(t){this.ctx=t}async fetchSpeculation(t,r){let i={prompt:t.prompt,speculation:t.speculation,engineModelId:"copilot-centralus-h100",uiKind:"editsPanel",temperature:0,stream:!0,stops:t.stops},s=await this.ctx.get(jt).updateExPValuesAndAssignments(),a=await this.ctx.get(ld).fetchAndStreamSpeculation(this.ctx,i,s,async(l,c)=>{},r);switch(a.type){case"success":return a;case"canceled":throw new qL(a.reason);case"failed":throw new eI(a.reason)}}};d();var Uu=class{static{o(this,"CompletionsCache")}constructor(){this._cache=new Bn(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}};d();d();var LZ={javascript:1,typescript:2,typescriptreact:3,python:4,vue:5,php:6,dart:7,javascriptreact:8,go:9,css:10,cpp:11,html:12,scss:13,markdown:14,csharp:15,java:16,json:17,rust:18,ruby:19,c:20},Lc={" ":1,"!":2,'"':3,"#":4,$:5,"%":6,"&":7,"'":8,"(":9,")":10,"*":11,"+":12,",":13,"-":14,".":15,"/":16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,":":27,";":28,"<":29,"=":30,">":31,"?":32,"@":33,A:34,B:35,C:36,D:37,E:38,F:39,G:40,H:41,I:42,J:43,K:44,L:45,M:46,N:47,O:48,P:49,Q:50,R:51,S:52,T:53,U:54,V:55,W:56,X:57,Y:58,Z:59,"[":60,"\\":61,"]":62,"^":63,_:64,"`":65,a:66,b:67,c:68,d:69,e:70,f:71,g:72,h:73,i:74,j:75,k:76,l:77,m:78,n:79,o:80,p:81,q:82,r:83,s:84,t:85,u:86,v:87,w:88,x:89,y:90,z:91,"{":92,"|":93,"}":94,"~":95};d();function sxe(e){let t;e[0]>1e-35?e[29]>1e-35?e[138]>1e-35?t=.49496579646815353:t=.47546580490346646:e[30]>1e-35?t=.4456371992737078:e[4]>3.238486181444842?e[135]>1e-35?t=.2645576817782658:e[46]>1e-35?t=.20251922126765812:t=.37359143313367105:e[7]>.9662372103242399?t=.44975631109230374:t=.4067133376207218:e[7]>.960816451500545?e[29]>1e-35?e[4]>1.7005986908310777?t=.4240336839258693:t=.35414085998710754:e[4]>3.238486181444842?t=.353882328354817:e[100]>1e-35?t=.48783079865293355:e[30]>1e-35?t=.419904106522537:t=.38599249795612806:e[4]>3.6242520361853052?e[29]>1e-35?e[7]>.5086748127709895?t=.37522628419389664:t=.3359393805000766:e[30]>1e-35?t=.3685210833144829:e[135]>1e-35?t=.22140958666091123:e[134]>1e-35?t=.38379851487275685:e[46]>1e-35?t=.1926283522107934:t=.3098162447812857:e[46]>1e-35?t=.22698331991181095:e[4]>1.4978661367769956?e[30]>1e-35?e[4]>2.138333059508028?t=.39709448374768985:t=.34711865383837703:e[134]>1e-35?t=.40608455346469957:e[135]>1e-35?t=.3084120164848763:e[48]>1e-35?t=.24193590696691425:e[51]>1e-35?t=.2087938690163009:e[4]>3.1984648276080736?t=.3529508564858481:t=.3698795818909763:t=.30210240039979064;let r;e[0]>1e-35?e[2]>2.4414009612931857?e[2]>3.676220550121792?e[7]>.9246495578512688?r=.0570428673081833:r=.019779482100154476:e[7]>.9705672697050661?r=.1023948532887641:r=.06265430080550045:e[29]>1e-35?e[5]>4.658699722134796?e[2]>1.2424533248940002?r=.12784241430585772:r=.15126156743993927:e[8]>1e-35?e[2]>.8958797346140276?r=.10624230855386699:r=-.1699142543394302:r=.10290106276456985:e[5]>3.5694334999727624?r=.09368877801612557:r=.1552615744687782:e[2]>3.3842466058243152?e[4]>3.5694334999727624?e[29]>1e-35?e[7]>.7022798213723723?r=.02282408308012389:r=-.032610792718175546:r=-.04405498437523181:e[46]>1e-35?r=-.14475563528583885:e[7]>.9159108669154322?r=.02539215399728953:e[134]>1e-35?r=.04720629593220485:e[4]>1.8688348091416842?r=-.00150052748656963:r=-.04528409340753242:e[5]>3.5694334999727624?e[4]>3.6505739029280164?e[29]>1e-35?r=.050909089229765704:e[39]>1e-35?r=-.08747827386821926:e[46]>1e-35?r=-.11300671054986217:r=-.002669293928522137:e[46]>1e-35?r=-.07873653229849684:e[39]>1e-35?r=-.06389470798465265:e[2]>.8958797346140276?e[47]>1e-35?r=-.07102696386827136:e[4]>1.8688348091416842?r=.04567768852273886:r=.016429189359442275:r=.024223384872688037:e[7]>.9569480028661056?r=.12458720561596202:r=-.006224718391409129;let n;e[29]>1e-35?e[2]>2.602003343538398?e[2]>4.166635176627655?e[7]>.8375851232899904?n=.027219239366992384:n=-.023288925509443156:e[7]>.5866799179067689?n=.05780689652787357:n=.019914206435185725:e[2]>1.2424533248940002?e[7]>.9246495578512688?n=.1091540005913688:n=.08430043254349175:e[6]>4.832297822126891?e[125]>1e-35?n=.029350728374412424:n=.1327178977041336:e[8]>1e-35?e[7]>.9793410316570949?n=-.10742256752042179:n=.10128035205992136:n=.08719230025231978:e[5]>3.772694874805912?e[39]>1e-35?n=-.07712063687837625:e[46]>1e-35?n=-.09987046122905541:e[2]>3.6242520361853052?e[134]>1e-35?n=.0549278412468898:e[155]>1e-35?n=.0628934857241284:e[47]>1e-35?n=-.14605662411148382:e[48]>1e-35?n=-.1460221669882455:n=.002073957868392086:e[2]>1e-35?e[47]>1e-35?n=-.0769198367034467:e[155]>1e-35?n=.0769122902449957:e[134]>1e-35?n=.06856131328753592:e[152]>1e-35?n=.07081107422282688:e[51]>1e-35?n=-.11095669360187602:e[91]>1e-35?n=-.08136006552659215:e[48]>1e-35?n=-.07180356044417698:e[18]>1e-35?n=-.029572927306223313:e[50]>1e-35?n=-.11419309779400831:n=.03331652781327257:n=.0015747823792064454:e[7]>.9662372103242399?n=.1203598683210537:n=.011240838199712565;let i;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.03420147928485?i=.03823654007072966:e[7]>.9033253454895247?i=.09329944316059466:i=.06705865009439997:e[134]>1e-35?i=.06865805795066232:e[30]>1e-35?i=.05189058132179502:e[217]>1e-35?i=.044913757044379055:i=-.05078929160105722:e[1]>1e-35?e[6]>5.161920636569023?e[2]>1.4978661367769956?i=.10652732380394028:i=.13307829460294332:e[7]>.985694415330804?i=.06936133858882627:i=.11090193559908544:e[30]>1e-35?i=.10406540623634791:i=.03985408831881549:e[1]>1e-35?e[2]>3.772694874805912?e[29]>1e-35?e[7]>.7316379010844482?i=.012897973304512032:i=-.028068579877067623:i=.024577017676752924:e[5]>3.417592293073651?e[22]>1e-35?i=-.023871063947594612:e[7]>.8255520169851381?i=.0513970804870914:e[153]>1e-35?i=.0032035784177419503:i=.038713568639820416:e[7]>.9527510849235538?i=.10975706910869304:i=-.009433959232316078:e[38]>1e-35?i=.05195298239886214:e[30]>1e-35?i=.02476336300816124:e[2]>2.524928003624769?e[217]>1e-35?i=.0135414448190362:e[135]>1e-35?i=-.14660288310803915:i=-.07298980826531443:e[135]>1e-35?i=-.11136111748165503:e[123]>1e-35?i=-.1489448617480049:e[46]>1e-35?i=-.0922792773195811:i=-.024587716086845016;let s;e[0]>1e-35?e[2]>2.249904835165133?e[1]>1e-35?e[2]>3.540854293052788?e[3]>2.249904835165133?s=.0590142410559562:e[7]>.6376007852429183?s=.043799948513989724:s=-4018626768373957e-20:s=.0790082705503403:e[38]>1e-35?s=.06581244939148062:e[30]>1e-35?s=.04874874335011108:s=-.03908081910821116:e[3]>2.602003343538398?e[1]>1e-35?s=.0902076086329385:e[30]>1e-35?s=.10143876154366023:s=.021304615514737626:e[2]>1.4978661367769956?s=.10248710197602005:e[8]>1e-35?e[125]>1e-35?s=-.1652240484643952:s=.09695355914385996:s=.12574960258243387:e[1]>1e-35?e[2]>3.8815106545092593?e[3]>2.249904835165133?s=.030411053020370282:e[7]>.8375851232899904?s=.01347947217941036:s=-.02329004077119854:e[7]>.9480659774309611?e[22]>1e-35?s=-.021734552060979462:e[100]>1e-35?s=.12154672718218543:e[3]>1e-35?s=.0467045097539336:s=.07133232987671506:e[4]>2.012675845367575?e[4]>3.9219243190762363?s=.018631928508103857:s=.04026129961424531:s=-.0060403819170799225:e[38]>1e-35?s=.04740678443866351:e[30]>1e-35?s=.022411595432555845:e[2]>2.970085626360216?e[121]>1e-35?s=.016385457091892035:s=-.07115043890873148:e[4]>3.417592293073651?s=-.04057726754591634:e[29]>1e-35?s=-.10601923621749415:s=-.013474385705240824;let a;e[3]>1e-35?e[3]>3.481121732133104?e[30]>1e-35?a=.03419190074885174:e[39]>1e-35?a=-.07596248521514803:e[142]>1e-35?a=-.09906305142951233:e[143]>1e-35?a=-.11544208927241095:e[134]>1e-35?a=.03231677158309109:e[217]>1e-35?a=.04584520241402839:a=-.014587374070287719:e[30]>1e-35?e[141]>1e-35?a=-.05022127515891476:e[6]>3.540854293052788?a=.046006786519929344:e[3]>2.3502401828962087?a=.03746852485580482:a=.11887634683908754:e[142]>1e-35?a=-.0715680845257123:e[134]>1e-35?a=.05310603374316432:e[39]>1e-35?a=-.05301061369502469:e[143]>1e-35?a=-.06806923450459589:e[21]>1e-35?a=-.054617004299251364:e[113]>1e-35?e[6]>3.795426061844291?a=.03901365322581413:a=.11833310693969545:e[141]>1e-35?a=-.039041289505442084:e[3]>3.0677824455408698?a=.010823236602311471:e[29]>1e-35?a=-.062100944449970996:e[58]>1e-35?a=-.04585181543113668:e[99]>1e-35?a=.053796582993543764:e[100]>1e-35?e[6]>3.676220550121792?a=.02800134029424525:a=.12622387863644666:e[98]>1e-35?a=.06289940430905602:a=.023655750883710656:e[138]>1e-35?a=.09902929683374195:e[6]>5.161920636569023?a=.07160940969782595:e[141]>1e-35?a=.11975693334861698:a=.03480602671098732;let l;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.600145018061341?l=.02024868069387139:e[2]>3.1984648276080736?l=.048682024362267456:l=.07158946327961134:e[134]>1e-35?l=.05360858064017479:e[30]>1e-35?l=.03969788038954029:e[39]>1e-35?l=-.1339275468398512:l=-.03340699462411555:e[1]>1e-35?e[2]>1.2424533248940002?l=.09338368602561321:e[5]>4.5379471377116305?l=.11818377094705468:l=.02406138301472482:e[30]>1e-35?l=.08786833398626331:l=.031294938606502315:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[2]>4.923617305492666?l=-.0247806554659429:l=.00415615978158072:e[4]>2.138333059508028?e[4]>3.6505739029280164?l=-.0025888569756007704:l=.033556460788819964:l=-.011238496891848667:e[5]>3.5694334999727624?e[4]>2.012675845367575?e[2]>.8958797346140276?l=.03964701920383755:l=.024902380380505313:e[141]>1e-35?l=-.07221122170573789:l=.009221806859728395:e[2]>.8958797346140276?l=.09633850035166669:l=.007323280248710229:e[134]>1e-35?l=.038330704525669945:e[30]>1e-35?l=.01660549386778516:e[2]>2.524928003624769?e[217]>1e-35?l=.008967266036665084:e[29]>1e-35?l=-.12693911437262784:l=-.05779560753585583:e[29]>1e-35?l=-.0908743155940788:e[4]>3.314020688089767?l=-.030882471980034343:l=-.010429019903489632;let c;e[0]>1e-35?e[2]>2.138333059508028?e[1]>1e-35?e[2]>3.4498615536424366?e[3]>2.249904835165133?c=.04956831432894648:e[2]>5.223051249395764?c=-.010305811579773205:c=.027491320728082233:c=.06656735137915168:e[38]>1e-35?c=.05309749470598965:e[30]>1e-35?c=.03843762763805799:c=-.030980078724697425:e[3]>1e-35?e[1]>1e-35?c=.08089335516186445:c=.04120452858949669:e[6]>4.832297822126891?e[2]>.8958797346140276?c=.10006865536846919:c=.11917243570572485:e[8]>1e-35?e[2]>.8958797346140276?c=.06704577104028654:c=-.1454046740476985:e[219]>1e-35?c=-.13678871665753098:c=.07859247859374968:e[1]>1e-35?e[2]>3.314020688089767?e[3]>2.249904835165133?c=.024623237775190106:e[2]>4.73179313355342?c=-.02080435685185878:c=.0026175118278487855:e[6]>3.417592293073651?e[22]>1e-35?c=-.025465692791530083:e[45]>1e-35?c=-.044807460105408044:e[8]>1e-35?c=.008766235663186964:c=.032712521408248645:e[3]>2.602003343538398?c=-.0056332432294706036:e[6]>2.524928003624769?c=.09592889105245415:c=-.013339150198983546:e[38]>1e-35?c=.03563564253379704:e[30]>1e-35?c=.014870517098142924:e[2]>2.970085626360216?c=-.054537994223319376:e[219]>1e-35?c=-.13242819761683536:e[39]>1e-35?c=-.0910629106840573:c=-.01970485337755703;let u;e[0]>1e-35?e[2]>2.012675845367575?e[1]>1e-35?e[2]>3.4498615536424366?e[7]>.9246495578512688?u=.04812308497880073:e[29]>1e-35?u=.0005380021336956461:u=.03361690381564229:e[5]>3.5694334999727624?u=.05947219194425965:u=.11024468105183681:e[134]>1e-35?u=.04905351957215242:e[138]>1e-35?u=.05554447267811877:u=-.021863233324542066:e[29]>1e-35?e[5]>4.855921334140645?e[2]>.8958797346140276?u=.09590438270550732:u=.11498869480105023:u=.04093609484315685:u=.06588820186431316:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[7]>.41763374498947375?u=.0043146758499583255:u=-.03443798345003191:e[58]>1e-35?u=-.08355523706358281:u=.017928058505534663:e[5]>3.5694334999727624?e[22]>1e-35?u=-.02209335592785362:e[2]>.8958797346140276?u=.03223396066919647:u=.0170789547385017:e[7]>.9546729796082215?e[2]>.8958797346140276?u=.09545837551902411:u=.008923660539643153:u=-.012322532316048181:e[134]>1e-35?u=.03182502017906531:e[138]>1e-35?e[29]>1e-35?u=-.06617589040350445:u=.040440282181288686:e[2]>2.802901033147999?u=-.043412758816960974:e[219]>1e-35?u=-.11700143817568372:e[48]>1e-35?u=-.11379636451926181:e[49]>1e-35?u=-.14202838670262277:e[39]>1e-35?u=-.08160450909782378:u=-.013448620144296253;let f;e[1]>1e-35?e[2]>2.602003343538398?e[3]>2.249904835165133?e[4]>3.6505739029280164?f=.004170792297448336:f=.0368033867902024:e[7]>.8333442551332461?e[2]>4.677480030793064?f=.009136341105716223:f=.03568813371096505:e[7]>.22301866079069904?e[2]>5.1209788959100075?f=-.02365589472388456:f=.00919157417627931:f=-.0379399276194825:e[3]>1e-35?e[5]>3.5694334999727624?e[2]>.8958797346140276?e[22]>1e-35?f=-.019258819649469603:f=.03709105125649261:f=.016860660630369267:e[3]>2.602003343538398?f=-.00991261350028801:e[7]>.9626084674797213?f=.11517814309711256:f=-.009719045525281071:e[2]>1.2424533248940002?e[7]>.7316379010844482?f=.07097600019370685:f=.04586465946843457:e[6]>4.783307617946789?f=.09722756919612678:e[8]>1e-35?e[7]>.9793410316570949?f=-.11805054859481241:f=.07110946491407406:f=.05402719662002902:e[134]>1e-35?f=.03393227005537922:e[30]>1e-35?f=.023661319650909306:e[2]>2.970085626360216?e[121]>1e-35?f=.031049210793405797:e[135]>1e-35?f=-.10837216222444626:e[219]>1e-35?f=-.14640457784236915:f=-.03965818070110935:e[121]>1e-35?f=.039992710146502054:e[143]>1e-35?f=-.09311937611688731:e[46]>1e-35?f=-.07559392834101462:e[219]>1e-35?f=-.09895720087616466:e[135]>1e-35?f=-.07586062007425573:f=-.011775153504486295;let m;e[1]>1e-35?e[3]>1e-35?e[141]>1e-35?m=-.03681630636575175:e[22]>1e-35?m=-.024594313135047084:e[7]>.9626084674797213?e[6]>3.676220550121792?m=.03355559026428929:e[3]>2.602003343538398?m=.012516956280523336:m=.1113827943542528:e[3]>2.3502401828962087?e[39]>1e-35?m=-.03483153469277968:e[29]>1e-35?m=-.06012725416594425:m=.03180949281577552:e[3]>1.2424533248940002?m=.007572391854701212:m=-.04833059473573461:e[7]>.5866799179067689?e[138]>1e-35?m=.084956566507563:e[7]>.9407436463973539?e[6]>5.161920636569023?m=.07174368742657447:e[7]>.9793410316570949?m=.024186357466630726:m=.07739671408330714:m=.048429456456843774:e[6]>5.078289090109146?e[138]>1e-35?m=.07555203090037793:m=.033181836695182196:m=-.02197298038836975:e[38]>1e-35?m=.031334580210504996:e[30]>1e-35?m=.021270582199851534:e[121]>1e-35?m=.0329970846397004:e[42]>1e-35?m=.04064092183581017:e[135]>1e-35?m=-.08440485061890712:e[219]>1e-35?m=-.10638369254266776:e[143]>1e-35?m=-.09755269717731242:e[144]>1e-35?m=-.1173397395002877:e[51]>1e-35?m=-.1288517354356988:e[49]>1e-35?m=-.13923283846721088:e[91]>1e-35?m=-.1224188861275682:e[3]>3.156774023138548?m=-.02477169567121223:m=-.006917307470148426;let h;e[2]>2.802901033147999?e[7]>.9159108669154322?e[3]>3.314020688089767?h=-.0010700017432373199:e[2]>4.832297822126891?h=.009582861728698568:h=.029780100164495754:e[30]>1e-35?e[210]>1e-35?h=-.028942339056712313:h=.020599853201598167:e[3]>3.540854293052788?h=-.030156164189210577:e[2]>4.620046665062766?e[3]>1.8688348091416842?h=-.00103151911027294:e[217]>1e-35?h=.005930672148987754:h=-.03586108945255643:h=.004417350848115493:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?e[3]>3.6242520361853052?e[30]>1e-35?h=.02388317653477103:h=-.0034021644637823034:e[125]>1e-35?h=-.059034648546006076:e[18]>1e-35?h=-.02514305472376584:e[46]>1e-35?h=-.05290744310611087:e[21]>1e-35?h=-.03750702516022783:e[39]>1e-35?h=-.031092446888446753:h=.028272541588979773:e[7]>.9676186228082213?e[3]>2.602003343538398?h=-.009169247394016047:h=.11347856526033356:h=-.00310251177264949:e[2]>1e-35?h=.00844340216096322:h=-.00894414829369423:e[2]>1.4978661367769956?e[7]>.6223082132708274?e[6]>3.0677824455408698?h=.04885293193722139:h=.10736598620828455:h=.026545392586289893:e[6]>4.938058177869999?e[2]>.8958797346140276?h=.07355143458077283:h=.09420954595651049:e[8]>1e-35?e[2]>.8958797346140276?h=.07966619891180966:h=-.10471235843714122:h=.04867207725748343;let p;e[1]>1e-35?e[3]>1e-35?e[5]>3.5694334999727624?e[3]>2.249904835165133?e[22]>1e-35?p=-.0262424908256809:e[8]>1e-35?p=.001637419319408071:e[155]>1e-35?p=.053444838794586114:e[99]>1e-35?p=.05039717103923269:p=.02448689278350471:e[141]>1e-35?p=-.05723199469388615:p=.005411562031545046:e[7]>.9626084674797213?e[3]>2.602003343538398?p=.00980665121101267:p=.10420505846679201:p=-.001639851950872336:e[7]>.26911173821332884?e[138]>1e-35?p=.07591724033622518:e[7]>.9275861021112151?e[5]>5.173316863805991?p=.06276466446882598:e[194]>1e-35?p=-.1330802382498368:e[5]>3.156774023138548?e[8]>1e-35?p=-.027034262965141144:p=.03949417085855365:p=.08851962788853085:e[9]>1e-35?p=.05379608621573637:p=.032253635727649325:e[138]>1e-35?p=.058048925881989615:p=.005620237500451222:e[134]>1e-35?p=.02734220426041116:e[30]>1e-35?p=.017746745665275825:e[142]>1e-35?p=-.07814745820732061:e[143]>1e-35?p=-.08860968498533135:e[14]>1e-35?p=.01954819512523945:e[42]>1e-35?p=.03333354798081121:e[147]>1e-35?p=-.11642554317575503:e[49]>1e-35?p=-.12425086420883341:e[146]>1e-35?p=-.12996952774815626:e[3]>3.817651943129708?p=-.03275661606585881:p=-.014860694091417102;let A;e[1]>1e-35?e[2]>2.524928003624769?e[3]>2.249904835165133?e[3]>3.725620842493839?A=-.000906155627647317:e[24]>1e-35?A=.0785324151067157:e[154]>1e-35?A=-.058309500036909157:A=.026762512119806844:e[7]>.26911173821332884?e[2]>4.505334588423558?A=-.010584135839537876:A=.013982545022862853:A=-.03208712711019827:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?A=.026401003398891884:e[3]>2.602003343538398?A=-.008168418058515686:e[7]>.9662372103242399?A=.10626422692131453:A=-.01031637351522216:A=.010358942714602982:e[2]>1.2424533248940002?e[2]>2.012675845367575?A=.0312811686023135:A=.05423507965224627:e[6]>4.832297822126891?A=.08479742987484738:e[8]>1e-35?e[7]>.9793410316570949?A=-.09338070882722671:A=.058145805002919916:A=.04227449937397909:e[38]>1e-35?A=.025289091019879376:e[2]>3.1132683346437333?e[3]>.8958797346140276?e[46]>1e-35?A=-.09114331684757576:e[135]>1e-35?A=-.07948190608487016:e[48]>1e-35?A=-.12911151777601662:e[143]>1e-35?A=-.09735205976374478:A=-.017192402584465798:A=-.08661537827420282:e[217]>1e-35?A=.033425023239885124:e[14]>1e-35?A=.02729990952110066:e[48]>1e-35?A=-.09098188061865646:e[46]>1e-35?A=-.05848458618550134:e[91]>1e-35?A=-.10969774095556883:A=-.0068971807474334365;let E;e[1]>1e-35?e[3]>1e-35?e[3]>1.2424533248940002?e[125]>1e-35?E=-.06150017523108556:e[39]>1e-35?E=-.03350257370473994:e[22]>1e-35?E=-.02193617429266551:e[8]>1e-35?E=7274245146620154e-20:e[6]>3.676220550121792?e[4]>2.3502401828962087?E=.026702786904914785:E=.00851181280021978:e[4]>2.673553765358735?E=.010358811529123666:e[6]>2.802901033147999?E=.08891517935366504:E=.023114323891227237:E=-.02875694375159779:e[4]>1.7005986908310777?e[138]>1e-35?E=.06720372648635974:e[6]>5.427147823217923?e[9]>1e-35?E=.0544777682515472:E=.037060547607205986:e[6]>1e-35?E=.022016394753027843:E=-.1559604133821172:e[6]>3.540854293052788?E=-.009372509268454739:E=-.24388295956457617:e[38]>1e-35?E=.023012278764368795:e[138]>1e-35?E=.03564423186175008:e[30]>1e-35?E=.008093643695090883:e[217]>1e-35?E=.028810461962454004:e[135]>1e-35?E=-.07120877224354143:e[46]>1e-35?E=-.06546454537408128:e[144]>1e-35?E=-.09534262423492412:e[143]>1e-35?E=-.0770344566882831:e[29]>1e-35?E=-.06285371287531509:e[14]>1e-35?E=.02073120300153793:e[123]>1e-35?E=-.09016320513643451:e[51]>1e-35?E=-.10496442920973255:e[3]>3.1132683346437333?E=-.019949599427836494:E=-.0019060085544902166;let x;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.1984648276080736?e[1]>1e-35?e[3]>2.249904835165133?x=.03174009468268253:e[2]>5.363634090365639?x=-.019608371322822362:x=.012560836552403976:x=-.006925466014569184:e[1]>1e-35?x=.047796055675515446:x=.014363935217773802:e[6]>5.391349638084432?e[2]>.8958797346140276?e[3]>1e-35?x=.05193425865217324:x=.07891754708034264:x=.09859506024630252:e[8]>1e-35?e[5]>4.424828703319957?x=.0288226384042998:x=-.09397342098461306:e[4]>.8958797346140276?x=.06181532763949055:e[3]>1e-35?x=.0661728888522049:x=-.18938681666136592:e[2]>3.6242520361853052?e[30]>1e-35?x=.005754128097002715:e[4]>1.7005986908310777?e[1]>1e-35?e[3]>1.8688348091416842?x=.003940381852503271:x=-.01767544594631589:e[134]>1e-35?x=.005683243725945637:x=-.033167818200618454:x=-.049739953036904844:e[1]>1e-35?e[5]>3.417592293073651?e[3]>2.249904835165133?e[3]>4.051747139190486?x=-.013281167238314323:x=.016971087295600894:x=-.0032296953806057044:e[8]>1e-35?e[3]>1e-35?x=-.09772932329003692:x=.10215199291158968:e[3]>1e-35?x=.04042124133857408:e[4]>1.7005986908310777?x=-.03780917296974188:x=-.29617407728303585:e[3]>1.2424533248940002?e[134]>1e-35?x=.019695468056761475:x=-.008073287117671947:x=-.07196945037292647;let b;e[0]>1e-35?e[3]>1e-35?e[30]>1e-35?b=.04565870990720628:e[4]>3.481121732133104?b=-.0010242035152053465:e[46]>1e-35?b=-.06735757101078846:b=.028047085557873476:e[4]>.8958797346140276?b=.061451212522936484:b=-.008994471708946133:e[4]>3.8815106545092593?b=-.015862290359637304:e[4]>1.2424533248940002?e[156]>1e-35?b=-.0353203284829365:e[135]>1e-35?b=-.029955239188290975:e[153]>1e-35?b=-.024262881593313065:e[21]>1e-35?b=-.04039396048201336:e[155]>1e-35?b=.031605649750965394:e[46]>1e-35?b=-.0412690351363074:e[18]>1e-35?b=-.02516534034859168:e[51]>1e-35?b=-.09383050740007202:e[219]>1e-35?e[30]>1e-35?b=.05781620337941066:b=-.031029108058883783:e[54]>1e-35?b=-.1312103962175427:e[14]>1e-35?b=.029309503966067275:e[52]>1e-35?b=-.12376041877584809:e[49]>1e-35?b=-.08405476403385437:e[129]>1e-35?b=-.07017699310303659:e[3]>3.238486181444842?b=.0005864979938663785:e[90]>1e-35?b=-.19027994988708324:e[4]>2.4414009612931857?b=.013036973814688194:e[141]>1e-35?b=-.05866284827055356:e[196]>1e-35?e[3]>1.2424533248940002?e[3]>1.4978661367769956?b=.021738540839636195:b=.10410506831002041:b=-.25590968590756463:b=.0023982515170817725:b=-.04143304307857132;let v;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.417592293073651?e[2]>5.335128436483344?v=-.011443269019739626:e[1]>1e-35?v=.015228192424880932:v=-.005492858431736962:e[1]>1e-35?e[5]>3.5694334999727624?v=.03605247912942737:v=.08439131345296227:v=.009650676995478455:e[5]>5.096808314315481?e[2]>.8958797346140276?e[29]>1e-35?v=.07077360688836766:v=.044754385330663386:v=.09313294724999382:e[8]>1e-35?e[2]>.8958797346140276?v=.04214845406094496:v=-.10283747682230321:e[4]>.8958797346140276?v=.05232959789940822:e[2]>.8958797346140276?v=.00730829946441921:v=-.23825070451282065:e[7]>.9358314658959646?e[5]>3.417592293073651?e[8]>1e-35?v=-.013117301012430346:v=.010418379595902224:e[19]>1e-35?v=-.07514668047310291:v=.05032486941219513:e[29]>1e-35?e[1]>1e-35?e[7]>.14547530463198097?e[4]>2.138333059508028?v=-.009576060406554683:v=-.04582944318062007:v=-.04685159067258116:v=-.07022291581850879:e[1]>1e-35?e[4]>2.3502401828962087?e[4]>3.8815106545092593?v=-.008313873320272646:e[140]>1e-35?v=-.029352675967497712:e[37]>1e-35?v=-.09937923794037767:v=.015967772276156707:v=-.009857373135428817:e[38]>1e-35?v=.011345159604794278:e[2]>2.4414009612931857?e[30]>1e-35?v=.001522017389940959:v=-.026992183902105407:v=-.006358778971076675;let S;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>2.970085626360216?e[7]>.8649016459419877?S=.018617011644318126:e[29]>1e-35?e[2]>4.832297822126891?S=-.03407648259949232:S=-.0036502511604675977:e[4]>3.540854293052788?S=-.00934040898683245:S=.010922739771398862:e[7]>.9676186228082213?S=.05137169375874399:S=.02682190004807807:e[29]>1e-35?e[2]>.8958797346140276?S=.065076078729683:e[8]>1e-35?e[7]>.9750059495478345?e[7]>.996914501566243?S=.08915557171019604:S=-.06286636147644172:S=.0902247220475161:e[4]>.8958797346140276?S=.09051085461905525:e[9]>1e-35?S=-.19701197524821418:S=.005536577088671752:e[30]>1e-35?S=.0682573098268795:S=.031380692115494484:e[2]>4.151008904875603?e[155]>1e-35?S=.026867659395235544:e[7]>.5866799179067689?S=-.008345671861059714:S=-.02185200164340811:e[7]>.9626084674797213?e[22]>1e-35?S=-.024341883095402903:e[141]>1e-35?e[29]>1e-35?S=.08888912525147288:S=-.040584195806350004:S=.014817521849450843:e[4]>1.7005986908310777?e[4]>3.9219243190762363?S=-.01259238316205765:e[156]>1e-35?S=-.03305969547622109:e[50]>1e-35?S=-.10133912689920138:e[155]>1e-35?S=.025358210175047153:e[55]>1e-35?S=-.14645261489281414:e[9]>1e-35?S=.012035823488806215:S=.0010743871783232305:S=-.030440082321355873;let B;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[4]>.8958797346140276?e[138]>1e-35?B=.0708169212387357:e[7]>.9974623466432676?B=.06323909894881967:B=.04463133906529934:B=-.006876640569960593:e[4]>2.138333059508028?B=.02983313061920756:B=-.012849740499321841:e[138]>1e-35?B=.05170725384597862:e[134]>1e-35?B=.03407970940934425:e[32]>1e-35?B=.04641257566344885:e[217]>1e-35?B=.04726549849359106:e[152]>1e-35?B=.04284855498215312:B=-.018635981778740818:e[7]>.9358314658959646?e[1]>1e-35?B=.013495195381145214:B=-.0017562536904350947:e[153]>1e-35?B=-.035450683955968364:e[135]>1e-35?B=-.033677490938511655:e[1]>1e-35?e[156]>1e-35?B=-.03492338371344172:e[4]>2.012675845367575?e[8]>1e-35?B=-.012478407554855247:e[58]>1e-35?B=-.06588308463544146:B=.01024668455910621:B=-.017964352445712636:e[138]>1e-35?B=.023509519134334668:e[134]>1e-35?B=.009985116251562821:e[219]>1e-35?B=-.08089904073615993:e[144]>1e-35?B=-.08668450969211726:e[146]>1e-35?B=-.11193950701534479:e[91]>1e-35?B=-.09510832561737878:e[47]>1e-35?B=-.06671901650698997:e[145]>1e-35?B=-.10185972302071798:e[142]>1e-35?B=-.050979038763275586:B=-.008318124414257324;let P;e[2]>2.4414009612931857?e[7]>.5866799179067689?e[1]>1e-35?e[2]>5.059420419187638?P=-.004966114458456121:e[3]>1.4978661367769956?e[6]>3.9219243190762363?P=.016160825033090097:e[4]>2.673553765358735?P=-.008119911797705546:e[7]>.9676186228082213?P=.10191214482603793:P=.010406721157764452:e[4]>2.602003343538398?P=.011963972867583182:e[209]>1e-35?e[24]>1e-35?P=-.4633165603515741:P=-.027241411195905924:P=-.01021341522779383:e[3]>.8958797346140276?e[39]>1e-35?P=-.07106669495723826:P=-.003949154414882924:P=-.06434150131915288:e[3]>1.7005986908310777?e[1]>1e-35?P=.005050893558647285:P=-.01649483548684653:e[217]>1e-35?P=.0027009145619870485:e[7]>.16413460456379095?P=-.021492035902356262:P=-.04956173856083012:e[3]>1e-35?e[2]>.8958797346140276?e[4]>3.314020688089767?P=.004614615289098078:e[125]>1e-35?P=-.053838919278819175:e[141]>1e-35?P=-.031232660335016666:e[7]>.9676186228082213?P=.031522536832188655:P=.016369948821613637:P=-.001970208279177045:e[2]>1.2424533248940002?e[7]>.8045995506441456?e[6]>3.0677824455408698?P=.035653122678366796:P=.09668798382116887:P=.017192957672541906:e[6]>5.427147823217923?e[2]>.8958797346140276?P=.05167603828162103:P=.07201242912898732:e[4]>.8958797346140276?e[6]>4.3882378946731615?P=.04079789432551034:P=-.00477197753110532:P=-.1330224689055222;let F;e[0]>1e-35?e[1]>1e-35?e[6]>5.519456907163478?e[3]>1e-35?F=.025938224253040522:e[7]>.9480659774309611?F=.06369970668749851:F=.04567224211157202:e[8]>1e-35?F=-.03272937728465352:e[7]>.8002228006195066?e[219]>1e-35?F=-.06304921759586735:F=.04293432033794005:F=.0034607309539607385:e[30]>1e-35?F=.03333728636724803:e[134]>1e-35?F=.03171739664928598:e[32]>1e-35?F=.04247521237473512:e[217]>1e-35?F=.04515237436183519:e[138]>1e-35?F=.043674672816657406:F=-.021495642896979555:e[153]>1e-35?e[7]>.7405695827634472?F=-.005353425538700483:F=-.03818743916821677:e[1]>1e-35?e[156]>1e-35?F=-.026937004040991603:e[9]>1e-35?F=.01687211330975012:e[129]>1e-35?F=-.06344334253531962:e[5]>3.276966702012906?e[3]>2.4414009612931857?e[3]>4.3882378946731615?F=-.029787052855333836:e[140]>1e-35?F=-.0315337765152156:F=.01010125865272709:F=-.003643087951301554:e[3]>1.8688348091416842?F=-.009293469974765106:e[7]>.9407436463973539?e[19]>1e-35?F=-.10837629052758145:F=.08012552652666853:F=-.03240188731353479:e[3]>.8958797346140276?e[138]>1e-35?F=.028089541906112948:e[134]>1e-35?F=.011775653029555359:e[54]>1e-35?F=-.1329256322319015:F=-.010520589644656487:F=-.058476715353390545;let G;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>2.970085626360216?e[3]>1.4978661367769956?e[1]>1e-35?G=.015966021866473425:G=-.004942501766182043:e[7]>.7646034107159144?G=.0008922354520049755:G=-.02377096637770522:e[1]>1e-35?G=.03185471115279236:G=.009030463601278762:e[6]>5.033695261903033?e[2]>.8958797346140276?e[3]>1e-35?G=.03583918176912262:G=.05978765203310842:e[3]>1.4978661367769956?G=.04363706154403441:G=.08596238935719265:e[8]>1e-35?e[4]>3.676220550121792?G=-.14139420543234502:e[6]>4.135134555718313?G=.06641653507737781:G=-.08482961471233386:e[219]>1e-35?G=-.08432601495298837:G=.036383288293587494:e[2]>4.212100162283537?e[4]>4.06899022722607?G=-.027653216441781994:e[4]>1.2424533248940002?G=-.0074990353344818825:G=-.047274115298751654:e[3]>4.350257124271638?G=-.021535524001034215:e[7]>.9626084674797213?e[6]>3.314020688089767?G=.008343192891130257:e[3]>2.602003343538398?G=-.029175290449111352:e[19]>1e-35?G=-.0982821612709299:G=.07967468666491928:e[3]>2.012675845367575?e[1]>1e-35?e[141]>1e-35?G=-.050000478457880464:e[99]>1e-35?G=.03066844761711629:G=.00757148708610041:e[14]>1e-35?G=.030325269400598688:e[138]>1e-35?G=.029925649226634522:G=-.005865781126590595:e[7]>.14547530463198097?G=-.006746433384005582:G=-.03419211369300411;let re;e[7]>.8453853180651066?e[9]>1e-35?e[204]>1e-35?e[5]>3.979637980058199?re=.03492440471960614:re=.10640952227810228:re=.024674544399570984:e[21]>1e-35?re=-.03056548710005192:e[24]>1e-35?re=.04417102228084844:e[18]>1e-35?e[5]>3.417592293073651?re=-.01915628728670732:re=.08218968786016527:e[22]>1e-35?re=-.015022557207326592:e[7]>.9941118339384912?re=.024199625103362956:e[135]>1e-35?re=-.01204089678887213:e[5]>3.156774023138548?e[14]>1e-35?re=.03343354440638259:e[144]>1e-35?re=-.06832894943893354:re=.0114980261254499:e[12]>1e-35?e[100]>1e-35?re=.09915326976032354:re=-.011405707270850872:re=.05400113313957842:e[138]>1e-35?re=.029070115198082648:e[7]>.11348809759407426?e[9]>1e-35?re=.0124381999772114:e[14]>1e-35?re=.021548670539672424:e[152]>1e-35?re=.02386756199239544:e[155]>1e-35?re=.024879667358339554:e[217]>1e-35?re=.014495299809094343:e[17]>1e-35?re=.023665548251738264:e[21]>1e-35?re=-.04352613176288253:e[142]>1e-35?re=-.041479100066479035:e[47]>1e-35?re=-.054730987834988636:e[135]>1e-35?re=-.02041552814087628:e[12]>1e-35?re=.00599257601351913:e[19]>1e-35?re=.017289098956116435:re=-.005346146967029123:re=-.015035114021856248;let pe;e[2]>2.524928003624769?e[39]>1e-35?pe=-.054727205204329936:e[2]>5.1209788959100075?e[3]>1.7005986908310777?pe=-.006846267565269392:e[5]>6.826002629905951?pe=-.031164989612379426:pe=-.002741497453668024:e[91]>1e-35?pe=-.09671408062751485:e[4]>1.4978661367769956?e[1]>1e-35?e[3]>2.249904835165133?pe=.01457038163563883:e[7]>.1998775237752378?pe=.0022386178156093236:pe=-.023878153904868322:e[138]>1e-35?pe=.02577301491883366:e[134]>1e-35?pe=.012196636151923639:pe=-.011620066788940737:pe=-.02547345266933859:e[3]>1e-35?e[2]>1e-35?e[1]>1e-35?e[125]>1e-35?pe=-.054140900037670386:e[5]>3.5694334999727624?pe=.011956526123643832:e[3]>2.602003343538398?pe=-.02114925328017154:e[7]>.9662372103242399?pe=.08782010508103752:pe=-.017223208918198857:e[138]>1e-35?pe=.03552967765214556:e[134]>1e-35?pe=.02029988465200251:pe=-.0027071098830831453:pe=-.010563423003945922:e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?pe=.020789754957971127:e[8]>1e-35?pe=.09676607622337308:pe=-.13431522143386382:pe=-.04328684841078818:e[6]>5.427147823217923?e[2]>.8958797346140276?pe=.04286558286931383:pe=.0632450248289209:e[4]>.8958797346140276?e[8]>1e-35?e[4]>3.676220550121792?pe=-.12134536828900527:pe=-.0021406313647826976:pe=.02703554321037796:pe=-.10987991092748431;let Z;e[3]>3.238486181444842?e[30]>1e-35?Z=.009506310623811853:e[39]>1e-35?Z=-.0390989997202559:e[187]>1e-35?Z=-.07249802958837052:e[46]>1e-35?Z=-.05080833699879983:e[143]>1e-35?Z=-.06014247774751084:e[219]>1e-35?Z=-.05179602905357869:e[6]>6.1537953943602615?e[15]>1e-35?Z=-.025022238573512268:Z=.0011147676050071987:Z=-.013840284878987585:e[7]>.9626084674797213?e[5]>3.417592293073651?e[3]>1e-35?e[6]>3.9219243190762363?Z=.008593726678003006:Z=.05272960047875293:e[5]>4.424828703319957?Z=.03164186747443643:Z=-.019512539098210834:e[3]>2.602003343538398?Z=-.0016290671598964486:e[3]>1.2424533248940002?e[8]>1e-35?Z=-.1920669264002081:Z=.09024848315677546:e[8]>1e-35?Z=.06434775905745808:e[44]>1e-35?Z=.11389595321585716:Z=-.036695137521575945:e[6]>4.987019604243537?e[141]>1e-35?Z=-.03813401544172915:e[138]>1e-35?Z=.029859363038130183:e[58]>1e-35?Z=-.06135288076045784:e[39]>1e-35?Z=-.04609789446034826:e[7]>.14547530463198097?e[11]>1e-35?Z=.0007666746170242386:e[129]>1e-35?Z=-.04984156530077896:e[18]>1e-35?Z=-.01554744241744757:e[10]>1e-35?e[219]>1e-35?Z=-.043774129950223145:Z=.0062051346459236715:Z=.014331149613197688:Z=-.004868728135790881:Z=-.009310258638274059;let W;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.817651943129708?e[3]>1.8688348091416842?W=.0015603015891380355:W=-.018128739944024166:e[5]>3.5694334999727624?e[6]>5.427147823217923?W=.017445711714402918:W=-.006013735620008879:e[3]>1.2424533248940002?W=.08568755276415789:e[4]>2.602003343538398?W=.03195371214541369:e[6]>2.970085626360216?W=-.3506562612672139:W=-.038898555979475155:e[6]>5.391349638084432?e[2]>.8958797346140276?W=.04755052122467952:e[3]>1.4978661367769956?W=.03861414711908666:W=.08185303441168128:e[8]>1e-35?e[5]>4.424828703319957?W=.016473058697350277:W=-.08025494910794358:e[219]>1e-35?W=-.06606152909975703:W=.033955083083682974:e[153]>1e-35?W=-.022769519242142378:e[155]>1e-35?W=.021917770434351808:e[3]>4.051747139190486?W=-.016298405734735375:e[4]>1.2424533248940002?e[156]>1e-35?W=-.023334559703496013:e[91]>1e-35?W=-.07354920004445119:e[21]>1e-35?W=-.03472005783841508:e[9]>1e-35?W=.0088614848397155:e[152]>1e-35?W=.01650058356046536:e[50]>1e-35?W=-.08689386936995537:e[219]>1e-35?W=-.025293957964644554:e[22]>1e-35?W=-.02911571993589908:e[52]>1e-35?W=-.10060771324188006:e[151]>1e-35?W=-.11187645020980451:e[49]>1e-35?W=-.07269389735370566:W=.00010096962399904588:W=-.0308050484468705;let q;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.1132683346437333?e[2]>5.589117819455554?q=-.01634394676179118:e[135]>1e-35?q=-.025978770194490092:q=.003478202132522329:e[5]>3.772694874805912?e[6]>5.55101783490842?q=.0201238113260563:q=-.003889163967162744:q=.0619995705843029:e[6]>5.391349638084432?e[2]>.8958797346140276?q=.04441301244720888:q=.07580163057048642:e[5]>4.424828703319957?q=.030400021609279876:e[135]>1e-35?e[6]>4.03420147928485?q=-.1614949959350695:q=.011868201115510678:e[144]>1e-35?q=-.24480189212017833:q=.00743113235503554:e[135]>1e-35?q=-.02500550080046047:e[155]>1e-35?q=.019914668189284807:e[14]>1e-35?q=.016272311078771865:e[2]>4.436734027666816?q=-.010942143677155697:e[152]>1e-35?q=.01655515192923104:e[5]>3.276966702012906?e[208]>1e-35?q=.01544696196221499:e[209]>1e-35?q=.011686634595667988:e[204]>1e-35?q=.012948259428096241:e[54]>1e-35?q=-.0987840586310838:e[17]>1e-35?q=.019642065140602974:e[9]>1e-35?q=.002408217148588979:e[129]>1e-35?q=-.051760999013377655:e[53]>1e-35?q=-.12326801905337725:e[156]>1e-35?q=-.027148214121600067:q=-.00591946140033722:e[141]>1e-35?q=.08076229481403298:e[100]>1e-35?q=.09029873540689846:q=.004633440115146894;let se;e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?e[7]>.9738681190948303?e[4]>2.249904835165133?se=.0335386338744903:se=.08871810783567416:se=.019225035967642936:e[7]>.5866799179067689?e[44]>1e-35?se=-.028577747938027556:e[22]>1e-35?se=-.017080349342057245:e[123]>1e-35?se=-.06459630434555787:se=.01496396100048332:e[7]>.04507521918085865?se=.0037545927605624665:se=-.024364818555823085:e[7]>.3301972011875425?e[4]>.8958797346140276?se=.003955118988355861:se=-.024852972286710795:e[210]>1e-35?se=-.06918033561606161:se=-.016436360434421187:e[219]>1e-35?se=-.07074619361594191:e[14]>1e-35?se=.02288621182895308:e[30]>1e-35?se=.009951065285890723:e[4]>3.0677824455408698?e[48]>1e-35?se=-.08645289278185848:e[18]>1e-35?se=-.07128859518483391:e[46]>1e-35?se=-.059012415377229614:e[51]>1e-35?se=-.09897820075751956:e[143]>1e-35?se=-.0658809793369211:e[39]>1e-35?se=-.05072244120975425:e[145]>1e-35?se=-.1041573357946847:e[21]>1e-35?se=-.07265724033978356:e[121]>1e-35?se=.032340406020414894:e[150]>1e-35?se=-.12780465144045577:e[50]>1e-35?se=-.10084067045905792:se=-.008282579596590931:e[31]>1e-35?se=.09475423612489574:e[134]>1e-35?se=.016436600209473996:se=-.0032052350949025154;let ne;e[0]>1e-35?e[1]>1e-35?e[6]>5.980149988077803?e[3]>1e-35?ne=.016868562767356994:e[7]>.9480659774309611?ne=.0490126593301439:ne=.03183712887814021:e[4]>.8958797346140276?e[8]>1e-35?ne=-.018344689935240077:e[7]>.5762123732244849?ne=.027823839417468396:ne=.0022237549483396734:ne=-.049221463486990365:e[30]>1e-35?ne=.024881540664409785:e[4]>3.0677824455408698?ne=-.012956173562801246:ne=.010844244442972509:e[153]>1e-35?ne=-.021011529883710918:e[135]>1e-35?ne=-.022862755771243214:e[91]>1e-35?ne=-.06523564179230792:e[3]>4.3372693810700085?ne=-.01836396186345982:e[4]>1.2424533248940002?e[14]>1e-35?ne=.018063557788938384:e[1]>1e-35?e[58]>1e-35?ne=-.05666864992513037:e[37]>1e-35?ne=-.09859173931566362:e[140]>1e-35?ne=-.026368697925604742:e[139]>1e-35?ne=-.06458698835998881:e[3]>2.4414009612931857?e[8]>1e-35?ne=-.012750470980894203:e[128]>1e-35?ne=-.06062526587440112:ne=.011637315217958607:e[7]>.9569480028661056?e[6]>3.314020688089767?e[6]>8.256477558772088?ne=-.01867324944649552:ne=.013333709765106694:e[19]>1e-35?ne=-.0862336521704207:ne=.06263843669460754:ne=-.005209374987876728:e[29]>1e-35?ne=-.05314556259108334:e[144]>1e-35?ne=-.06747511467043471:ne=-.0032459743896180644:ne=-.025647852465095045;let H;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?H=-.028446025186518367:e[135]>1e-35?H=-.030498458478750823:e[4]>1.4978661367769956?H=.0028332406263713176:H=-.029966327008991617:H=.018714561890725637:e[6]>5.033695261903033?e[2]>.8958797346140276?H=.041738631496127304:H=.0701395739744944:e[7]>.9811887196001154?e[28]>1e-35?e[194]>1e-35?H=-.6270617037879163:H=-.14198370205598315:H=-.008029082191082339:H=.03966126215239892:e[153]>1e-35?H=-.018792731305353614:e[135]>1e-35?H=-.020500053366640306:e[156]>1e-35?e[11]>1e-35?H=-.05063175110475535:H=-.0120172710473678:e[147]>1e-35?H=-.06181360325166399:e[7]>.06275229375044648?e[52]>1e-35?H=-.09381845963236321:e[4]>4.424828703319957?H=-.015836182358134197:e[4]>1.2424533248940002?e[48]>1e-35?H=-.047387335727107405:e[50]>1e-35?H=-.07061356901704502:e[151]>1e-35?H=-.09680213548388712:e[46]>1e-35?H=-.028970851669790916:e[123]>1e-35?H=-.035197840867969954:e[49]>1e-35?H=-.06299268464836878:e[149]>1e-35?H=-.10197175263174806:e[58]>1e-35?H=-.03908263666673043:e[22]>1e-35?H=-.021903737116021876:e[2]>.8958797346140276?H=.005307704388235018:H=-.0020984759645931708:H=-.021935509998616008:H=-.01887705116018838;let O;e[2]>2.4414009612931857?e[2]>4.749261159734808?e[219]>1e-35?O=-.0427111578574511:e[153]>1e-35?O=-.030189831687705213:e[135]>1e-35?O=-.03512251542671204:O=-.005813108237155817:e[39]>1e-35?O=-.03612853474204475:e[91]>1e-35?O=-.07347487395456895:e[142]>1e-35?O=-.04314124434818331:e[21]>1e-35?O=-.03933135423264962:e[29]>1e-35?e[6]>4.3882378946731615?e[1]>1e-35?O=-.0015250307417007892:O=-.0490054084929899:e[209]>1e-35?O=-.19107169934362123:O=-.032434842765588306:e[18]>1e-35?O=-.04413318629193353:e[5]>3.772694874805912?O=.004026864766696988:e[7]>.9705672697050661?e[4]>2.602003343538398?O=-.0184663870129198:O=.08888448773905216:O=-.0040785146358560806:e[29]>1e-35?e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?O=.012676257607559291:e[4]>2.012675845367575?O=.07794141958502514:O=-.23905004122480836:O=-.03904279404529968:e[6]>5.818597045157784?e[1]>1e-35?O=.04439337662833094:O=-.009601154125838422:e[28]>1e-35?e[7]>.9926276364955392?e[156]>1e-35?O=.08495906118788314:e[153]>1e-35?O=.09808912606252018:O=-.41470362752984724:O=.024659633328041372:e[6]>4.3882378946731615?O=.02348696158531392:O=-.011219631635525798:e[2]>.8958797346140276?O=.00764827947682953:O=-.002636723662133651;let j;e[0]>1e-35?e[138]>1e-35?j=.04040206743401164:e[7]>.47159631571429605?e[39]>1e-35?j=-.04204265697956852:e[18]>1e-35?j=-.02345608311313191:e[46]>1e-35?j=-.07250113205332377:e[47]>1e-35?j=-.06901706560471924:e[123]>1e-35?j=-.02471508138476658:e[91]>1e-35?j=-.08527667683257537:e[6]>5.519456907163478?e[7]>.9811887196001154?j=.033642311398086024:j=.019968221974742344:e[6]>3.540854293052788?e[28]>1e-35?e[7]>.9914949911911836?j=-.17171139407761582:j=.033182911468765224:j=.0060896749985828915:e[7]>.9626084674797213?j=.050178751374534494:j=-.008697473314227091:e[6]>5.957131031247307?j=.008840008772752947:j=-.00839587224544437:e[57]>1e-35?j=-.11000065936717814:e[187]>1e-35?j=-.039919217528968265:e[135]>1e-35?j=-.01777859479698383:e[7]>.841541958453746?e[6]>8.681774988134558?j=-.006645633391127337:j=.005363553180866138:e[7]>.06275229375044648?e[141]>1e-35?j=-.028575934798358252:e[147]>1e-35?j=-.06523418671938815:e[53]>1e-35?j=-.12439699935111644:e[47]>1e-35?j=-.04201034294282216:e[21]>1e-35?j=-.029998534764449716:e[11]>1e-35?j=-.008349262144218515:e[10]>1e-35?e[152]>1e-35?j=.03211843381827455:j=-.009616753935387912:j=.001507728277179471:j=-.018453367252451447;let J;e[2]>2.4414009612931857?e[155]>1e-35?J=.02097415247337288:e[2]>5.1209788959100075?e[219]>1e-35?J=-.04107586321461544:e[153]>1e-35?J=-.030708779452328257:J=-.008547089256234949:e[24]>1e-35?e[113]>1e-35?J=.10372474211849725:J=.010871474495452506:e[46]>1e-35?J=-.048875079231930615:e[152]>1e-35?J=.0169028183837229:e[91]>1e-35?J=-.06545106192484919:e[7]>.5395500104437768?e[21]>1e-35?J=-.03634133884877529:e[123]>1e-35?J=-.04524486315275367:J=.0007726000210664368:e[153]>1e-35?J=-.026631444280113794:J=-.005897540198114922:e[29]>1e-35?e[2]>1.2424533248940002?e[141]>1e-35?J=.06938494238244022:e[1]>1e-35?e[4]>2.602003343538398?e[7]>.21160651352969054?J=.016731168841731828:J=-.009280453313693341:J=-.006549806005743951:J=-.035447929694275064:e[8]>1e-35?J=-.0032912467465369953:e[4]>1.2424533248940002?e[1]>1e-35?e[2]>.8958797346140276?J=.024369266212637037:e[138]>1e-35?J=.06205121318768558:J=.03811769435016647:J=-.009452348851889555:J=-.025248141993897872:e[2]>1e-35?e[57]>1e-35?J=-.12191990737301042:e[4]>3.3842466058243152?J=.00020591213976092076:e[141]>1e-35?J=-.03252260939244301:e[186]>1e-35?J=-.13818838492678748:J=.009368844137034227:J=-.007973426105216213;let le;e[2]>2.3502401828962087?e[14]>1e-35?le=.015015656987761437:e[30]>1e-35?e[210]>1e-35?e[7]>.6876768869498817?le=.00543900892248828:le=-.04253496769494065:e[141]>1e-35?le=-.052958350924390156:e[140]>1e-35?le=-.10364099832282586:le=.010452960405207413:e[24]>1e-35?e[113]>1e-35?le=.09898709072741292:e[209]>1e-35?e[7]>.9821472231924556?le=-.26615665549082984:le=.09636256138859388:le=.01708542025496261:e[217]>1e-35?le=.008049408683788317:e[21]>1e-35?le=-.04590265539954756:e[90]>1e-35?le=-.13784770816769107:e[142]>1e-35?le=-.04628126597884301:e[47]>1e-35?le=-.05827975565933709:e[135]>1e-35?le=-.0223224900840969:e[18]>1e-35?le=-.03220713396184497:e[91]>1e-35?le=-.06447405488640102:e[58]>1e-35?le=-.05284544446869763:e[48]>1e-35?le=-.06649148594881385:e[123]>1e-35?le=-.04383701454842744:e[7]>.07815070294696584?e[52]>1e-35?le=-.11846610284210293:e[50]>1e-35?le=-.08907531725085399:e[156]>1e-35?le=-.018270336483319834:e[150]>1e-35?le=-.1090721461891663:e[151]>1e-35?le=-.12157322199183473:le=-.001565820654257863:le=-.02380240397829804:e[7]>.7957410883753849?le=.01267070049428537:e[9]>1e-35?le=.012970301396505988:le=.0031136826722851885;let ee;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>3.817651943129708?e[29]>1e-35?ee=-.01811927921170173:ee=-.0007182192063435364:e[30]>1e-35?ee=.024303187146750442:e[1]>1e-35?ee=.011106265465270054:e[134]>1e-35?ee=.029835980521591587:ee=-.011058553872914158:e[29]>1e-35?e[4]>.8958797346140276?e[2]>.8958797346140276?ee=.038081831260496:e[7]>.9761943980359399?e[7]>.9974623466432676?ee=.0678338591810893:ee=.02371719224774027:ee=.0682898584583309:ee=-.023148464063014726:e[30]>1e-35?ee=.04610988679672867:ee=.003060113702583105:e[29]>1e-35?e[2]>.8958797346140276?e[4]>2.4414009612931857?e[7]>.9587163092581167?ee=.01081564552001606:ee=-.006807357600587744:ee=-.02409609521595022:ee=-.033329165496176885:e[4]>4.051747139190486?ee=-.01130115168237245:e[129]>1e-35?ee=-.04589370141507604:e[21]>1e-35?ee=-.029442074982620643:e[14]>1e-35?ee=.016895124578179443:e[186]>1e-35?ee=-.11907557430036886:e[1]>1e-35?e[139]>1e-35?ee=-.06194447560538838:e[133]>1e-35?ee=-.0758465323292204:e[58]>1e-35?ee=-.04330766372695393:e[138]>1e-35?ee=-.04155491116231014:e[156]>1e-35?ee=-.04841608169206507:e[44]>1e-35?ee=-.01948221703985556:ee=.006580878599054945:e[217]>1e-35?ee=.022433802380447482:ee=-.00412091757515532;let ae;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.970085626360216?e[153]>1e-35?ae=-.024502725801264887:e[2]>5.589117819455554?ae=-.01230190569981064:ae=.0013078979950003464:e[1]>1e-35?ae=.016172143068823742:ae=.0006345060509537773:e[2]>.8958797346140276?ae=.030005982109869073:e[7]>.9811887196001154?e[7]>.9983480540068196?ae=.0671951915420627:e[4]>.8958797346140276?e[204]>1e-35?e[4]>2.4414009612931857?ae=.044068636573383585:ae=-.6634026033584294:e[28]>1e-35?e[194]>1e-35?ae=-.3139210817530322:ae=-.030502668897116853:ae=.02841326513237545:ae=-.12080826254458728:ae=.05983169094937563:e[25]>1e-35?ae=-.03468266531519899:e[17]>1e-35?ae=.018557285805987474:e[91]>1e-35?ae=-.051420462987159146:e[153]>1e-35?e[24]>1e-35?ae=.04301006671297924:e[57]>1e-35?ae=-.09748386515224282:e[7]>.43956365248689394?ae=-.00756781004151352:ae=-.03008603678955382:e[40]>1e-35?ae=-.06712212199178254:e[9]>1e-35?e[99]>1e-35?ae=.02709638137622776:ae=.00311232737924217:e[219]>1e-35?ae=-.021650545703290135:e[129]>1e-35?ae=-.04139534817677377:e[4]>4.482986592105174?ae=-.01666373169408667:e[7]>.14547530463198097?e[28]>1e-35?ae=.0203181446326991:e[24]>1e-35?ae=.019321702534414745:ae=-.0013149142637674523:ae=-.010572437649803333;let ce;e[1]>1e-35?e[99]>1e-35?ce=.024922390516579074:e[7]>.6223082132708274?e[5]>8.674624195715621?ce=-.0013697481432616754:e[8]>1e-35?e[5]>3.0201273556387074?e[5]>4.855921334140645?ce=-.0034268395365245545:ce=-.034186463672076346:e[29]>1e-35?ce=.07759914281958613:ce=-.07773573805144608:e[22]>1e-35?ce=-.0175879419801366:e[7]>.9626084674797213?ce=.016773359142537643:ce=.008028381804196754:e[133]>1e-35?ce=-.0535216100744091:ce=-.0005000628423357899:e[38]>1e-35?e[14]>1e-35?ce=.05090247458630403:ce=.007750826606170666:e[30]>1e-35?ce=.007698939719746262:e[121]>1e-35?ce=.02303487268261317:e[56]>1e-35?ce=.04301822779572479:e[219]>1e-35?ce=-.061056125991793546:e[49]>1e-35?ce=-.08519783826666813:e[54]>1e-35?ce=-.11098408863832084:e[51]>1e-35?ce=-.07495147940928196:e[52]>1e-35?ce=-.10268521021357209:e[143]>1e-35?ce=-.050337621945760906:e[50]>1e-35?ce=-.08215637358309871:e[135]>1e-35?ce=-.037923453156281546:e[29]>1e-35?ce=-.03275476659364492:e[118]>1e-35?ce=-.05655325181162936:e[46]>1e-35?ce=-.03579874818682071:e[55]>1e-35?ce=-.10858775815345066:e[98]>1e-35?ce=-.02949179817285505:e[91]>1e-35?ce=-.06114394873657414:ce=-.0024381269826722327;let Re;e[0]>1e-35?e[138]>1e-35?Re=.03188433658945665:e[6]>5.957131031247307?e[29]>1e-35?Re=.02161439640262312:e[46]>1e-35?Re=-.05856082884648366:Re=.00579188508436574:e[5]>3.417592293073651?Re=-.0023781291067078423:e[6]>2.524928003624769?e[29]>1e-35?Re=-.009165058612451055:Re=.06060298049441096:Re=-.024654633200924148:e[29]>1e-35?e[141]>1e-35?Re=.047057536167451744:e[5]>7.751690325550034?Re=-.014630738159823437:e[6]>1e-35?Re=-.0022830386545257364:Re=-.1244934159203967:e[141]>1e-35?Re=-.03108265181870111:e[151]>1e-35?Re=-.0899976208431091:e[53]>1e-35?Re=-.10125439914522794:e[57]>1e-35?Re=-.08285049636367613:e[48]>1e-35?Re=-.04071723813859757:e[147]>1e-35?Re=-.05043191744833317:e[49]>1e-35?Re=-.05480244282058292:e[52]>1e-35?Re=-.07341553831872409:e[91]>1e-35?Re=-.04164336745260387:e[50]>1e-35?Re=-.05943962674275153:e[40]>1e-35?Re=-.054773037913883875:e[129]>1e-35?Re=-.03640370706396673:e[54]>1e-35?Re=-.07483146938849299:e[22]>1e-35?Re=-.02027834075472462:e[186]>1e-35?Re=-.08116240011202293:e[143]>1e-35?Re=-.028437692949603324:e[21]>1e-35?Re=-.02421670339700474:e[46]>1e-35?Re=-.02303808594532841:Re=.0030552215125396933;let ve;e[0]>1e-35?e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?ve=.02933727780739186:e[6]>4.722943345003718?e[7]>.9246495578512688?ve=.024680404379144982:ve=.012015730636539185:e[113]>1e-35?ve=.09112392780348796:e[135]>1e-35?e[7]>.990877425524446?ve=-.11617284449593282:ve=-.005246041787488675:ve=-.011069319481086321:e[90]>1e-35?ve=-.2763006993902732:e[7]>.9546729796082215?e[6]>3.0677824455408698?ve=.009233858920042097:ve=.08920751503262825:ve=-.008824102277148265:e[138]>1e-35?ve=.02736126919460762:e[4]>2.917405368531303?e[30]>1e-35?ve=.013112272135200274:e[217]>1e-35?ve=.035799930603658235:ve=-.015618218537266096:ve=.010656981322113845:e[14]>1e-35?ve=.01147191978691208:e[17]>1e-35?ve=.016681596753170068:e[135]>1e-35?ve=-.017396147137824756:e[4]>1.8688348091416842?e[4]>4.03420147928485?ve=-.008863534867945834:e[31]>1e-35?ve=.05416038384474034:e[113]>1e-35?ve=.012656827040897288:e[204]>1e-35?ve=.011410879858785482:e[208]>1e-35?e[1]>1e-35?ve=.02085606775425661:ve=-.008618410086291444:e[53]>1e-35?ve=-.09674487817291225:e[155]>1e-35?ve=.010841012663281826:ve=-.0027234799964982103:e[100]>1e-35?e[6]>4.226807104886684?ve=-.02684998739505702:ve=.09196076999373319:ve=-.014557367931257406;let Ue;e[1]>1e-35?e[4]>2.4414009612931857?e[140]>1e-35?Ue=-.020508725755139606:e[9]>1e-35?Ue=.014160204295049248:e[37]>1e-35?Ue=-.06190233326923697:e[6]>1e-35?Ue=.005164496028342236:Ue=-.11389189550910446:e[141]>1e-35?Ue=-.04125881484049697:e[186]>1e-35?Ue=-.17160163910476212:e[29]>1e-35?e[6]>3.676220550121792?Ue=-.010283419868136159:e[7]>.9626084674797213?Ue=-.1716178372310524:Ue=-.008856137283327148:e[28]>1e-35?Ue=.05315666786902214:e[129]>1e-35?Ue=-.04136913767615559:e[7]>.9705672697050661?e[6]>3.540854293052788?Ue=.00751812285476753:e[8]>1e-35?Ue=-.11960098941111366:Ue=.06631760098044483:e[210]>1e-35?e[30]>1e-35?Ue=-.05338190010412709:Ue=.017275201286894953:e[30]>1e-35?Ue=.014424216946760394:e[99]>1e-35?Ue=.027062693955934525:Ue=-.006762492910108134:e[219]>1e-35?Ue=-.0534489198792768:e[138]>1e-35?Ue=.017328465617667224:e[4]>2.970085626360216?e[144]>1e-35?Ue=-.0662951231725991:e[143]>1e-35?Ue=-.04739088646917139:e[145]>1e-35?Ue=-.07635546796992515:e[14]>1e-35?Ue=.012433708195861912:e[217]>1e-35?Ue=.021046036228368578:e[51]>1e-35?Ue=-.07024391932712475:Ue=-.007585229386863768:e[127]>1e-35?Ue=.0788172427657374:Ue=.0036475442240054556;let ke;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?ke=-.02488671343402725:e[135]>1e-35?ke=-.026342401137212534:e[4]>1.4978661367769956?ke=-.0002120610158998857:ke=-.02619014803287452:e[5]>3.772694874805912?ke=.00791871819482647:ke=.05245006986819034:e[5]>5.431533816254341?e[2]>.8958797346140276?ke=.026755493155023333:ke=.05657996196424821:e[5]>4.424828703319957?e[28]>1e-35?ke=-.12833948112036647:ke=.02009706276124955:e[135]>1e-35?ke=-.1062651205805238:ke=-.014392542658357654:e[156]>1e-35?e[11]>1e-35?ke=-.0426876288098691:ke=-.009210886749467585:e[25]>1e-35?ke=-.029685120249418873:e[153]>1e-35?e[24]>1e-35?ke=.039675921298659045:ke=-.01470247025894634:e[135]>1e-35?ke=-.013162475027411236:e[2]>1e-35?e[22]>1e-35?ke=-.01924589513592333:e[21]>1e-35?ke=-.02301719200164619:e[5]>8.75754777636908?e[4]>2.602003343538398?ke=-.0007468484638490539:ke=-.0158247553028744:e[1]>1e-35?e[99]>1e-35?ke=.024493682002973784:e[42]>1e-35?ke=-.07469088345156226:e[45]>1e-35?ke=-.03838380763638677:e[114]>1e-35?ke=.02409327545276692:e[154]>1e-35?ke=-.038977286951036944:e[208]>1e-35?ke=.021915882358345885:ke=.003839964304606302:ke=-.0014382346596150915:ke=-.008713493537728363;let Je;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.119004124609202?e[3]>1.2424533248940002?Je=-.0017308950709495397:Je=-.020269742816377157:e[5]>3.5694334999727624?e[6]>6.468474521450064?Je=.007854184286630537:Je=-.005163758444496073:e[3]>1.2424533248940002?e[12]>1e-35?Je=-.009039854020477722:Je=.08762320620103459:e[194]>1e-35?Je=-.3433922378591172:e[24]>1e-35?Je=-.2523113760729937:Je=-.000461371156912453:e[5]>5.692045796563381?e[3]>1.4978661367769956?Je=.007177758561499448:e[2]>.8958797346140276?Je=.03195343200682438:Je=.059909349900388334:e[5]>4.424828703319957?e[28]>1e-35?Je=-.10695282804536732:Je=.019125081292682575:e[135]>1e-35?Je=-.09257011968677195:Je=-.012855523323410875:e[14]>1e-35?Je=.010052176448775013:e[152]>1e-35?Je=.011482760058014926:e[156]>1e-35?Je=-.017677609761538152:e[24]>1e-35?Je=.01670301885059328:e[39]>1e-35?Je=-.02425844450882272:e[12]>1e-35?e[3]>1.2424533248940002?e[6]>5.980149988077803?Je=.01117036123239103:e[3]>1.4978661367769956?Je=-.005154239762347923:Je=.06349844063391799:Je=-.011876368966362884:e[4]>3.772694874805912?Je=-.010120762110714197:e[5]>3.276966702012906?e[4]>2.4414009612931857?e[4]>3.1132683346437333?Je=-.0035902728428789336:Je=.003411450739155564:e[5]>8.17933999189099?Je=-.018866709049095685:Je=-.0038747233097564068:Je=.024379138339081993;let ft;e[7]>.5866799179067689?e[11]>1e-35?e[217]>1e-35?ft=.01816196279626246:ft=-.008720340174685528:e[14]>1e-35?ft=.017422275374961747:e[3]>2.802901033147999?e[6]>6.0026509725338455?e[18]>1e-35?ft=-.035421013136394335:e[219]>1e-35?ft=-.03997357699142973:e[3]>4.993822430271426?ft=-.03250278247092862:ft=.004080430247607075:ft=-.010055330454519094:e[5]>9.345963324807864?ft=-.008136951493137817:e[90]>1e-35?ft=-.16414188828180187:e[45]>1e-35?ft=-.0395103723535772:e[17]>1e-35?e[6]>3.314020688089767?ft=.03144428117941763:ft=-.12305809642153893:e[5]>3.417592293073651?ft=.006863569747629234:e[7]>.9626084674797213?e[204]>1e-35?ft=.08986402088848823:e[100]>1e-35?ft=.09658177526577977:e[141]>1e-35?ft=.06795495668113817:e[28]>1e-35?e[3]>1e-35?ft=.10311172778826272:ft=-.12367638872784459:e[209]>1e-35?ft=.06796205879581844:e[6]>3.0677824455408698?e[3]>2.012675845367575?ft=-.1815028770626217:ft=-.027600842388305583:ft=.013979123567456554:ft=-.003475039039176338:e[6]>4.3882378946731615?e[3]>3.6242520361853052?ft=-.008151073332139989:e[3]>2.4414009612931857?e[48]>1e-35?ft=-.05732062477153205:ft=.0038104987226822806:e[7]>.14547530463198097?ft=-.0015360108147469411:ft=-.014797616303672155:e[3]>.8958797346140276?ft=-.010446976011382926:ft=-.039018423658353285;let ot;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.620046665062766?e[3]>1.8688348091416842?ot=-.0031733808376565214:ot=-.019463570735432378:ot=.0032566959999593536:e[5]>5.692045796563381?e[3]>1.4978661367769956?ot=.006472511895453073:e[2]>.8958797346140276?ot=.029439910335277677:ot=.05703290277034656:e[219]>1e-35?ot=-.06489530937321614:e[5]>4.424828703319957?ot=.017756995160153607:e[125]>1e-35?ot=-.13863131633711023:ot=-.011337464460106939:e[29]>1e-35?e[2]>.8958797346140276?e[3]>1e-35?ot=-.04822012795561216:e[125]>1e-35?ot=.06083023155995546:e[141]>1e-35?ot=.04503531231698771:e[5]>7.751690325550034?ot=-.008826435995092507:ot=.0004769856196102064:e[5]>5.895778350950796?ot=-.03439788269853701:ot=.0012862199645308793:e[141]>1e-35?e[3]>3.0677824455408698?ot=.0046610227653059695:ot=-.04504560149384845:e[3]>4.3372693810700085?ot=-.011924612526365003:e[151]>1e-35?ot=-.07909878419302184:e[40]>1e-35?ot=-.04837106565429512:e[52]>1e-35?ot=-.06478730352567258:e[18]>1e-35?e[46]>1e-35?ot=.060888920864590634:e[5]>3.5694334999727624?ot=-.02601024872439008:ot=.07960150564774994:e[46]>1e-35?ot=-.027213119561154103:e[51]>1e-35?ot=-.054081846676903716:e[54]>1e-35?ot=-.07375359621246233:e[50]>1e-35?ot=-.0570341640965886:ot=.0021129818482267812;let at;e[2]>2.861792550976191?e[11]>1e-35?e[58]>1e-35?at=-.09222476830824185:e[156]>1e-35?at=-.044357001480428:at=-.009033627105152873:e[8]>1e-35?e[5]>7.429817490674132?at=-.007435399919321396:at=-.025630334739367253:e[155]>1e-35?at=.02064199664419035:e[5]>8.75754777636908?e[2]>4.119004124609202?at=-.012759040985224594:at=-.0009375109950390992:e[21]>1e-35?at=-.028664595543047417:e[187]>1e-35?at=-.03837361994986333:e[22]>1e-35?at=-.027274995074267547:e[14]>1e-35?at=.016392245342055616:e[17]>1e-35?at=.022509678093313362:e[28]>1e-35?at=.025145343126000193:e[39]>1e-35?at=-.02939647868188604:at=.00042395552644239256:e[29]>1e-35?e[2]>2.012675845367575?at=-.0030925701821976686:e[5]>6.0390628155997765?e[2]>.8958797346140276?at=.010736817315927911:at=.02426980448005241:e[28]>1e-35?e[194]>1e-35?at=-.3070569158934055:e[196]>1e-35?at=-.5506885961570867:at=-.033353293982668515:at=.006553036790621832:e[2]>1.2424533248940002?e[5]>3.5694334999727624?e[155]>1e-35?at=.02102370525016274:at=.003409533559556135:e[204]>1e-35?at=.08873962123163927:e[24]>1e-35?at=.10555359938821945:e[28]>1e-35?at=.09719645392539251:e[196]>1e-35?at=.08224623369607056:at=-.020134405544960793:at=-.0015937623030202052;let ie;e[0]>1e-35?e[2]>1.8688348091416842?e[3]>1.4978661367769956?e[3]>3.540854293052788?ie=-.0076758153562413375:e[18]>1e-35?ie=-.04295196457825341:e[51]>1e-35?ie=-.13248011320062422:ie=.008952360414023641:e[7]>.987306237235768?ie=.006439776900137331:ie=-.012660562195035134:e[3]>2.861792550976191?e[30]>1e-35?ie=.026757175255811883:ie=-.01062556784320532:e[2]>.8958797346140276?ie=.02114926571950188:e[8]>1e-35?e[7]>.9738681190948303?e[7]>.996914501566243?ie=.039844832378913425:ie=-.06690456482695102:ie=.05010759067838343:e[7]>.9901971344332651?e[204]>1e-35?e[7]>.9945060383544003?ie=.03772632631184001:ie=-.28522617893050056:e[28]>1e-35?ie=-.060992612788434375:ie=.03341245674945403:ie=.051288950777861456:e[8]>1e-35?ie=-.010769283931178146:e[29]>1e-35?e[2]>.8958797346140276?e[1]>1e-35?e[7]>.98482287934795?ie=.009069204772381522:ie=-.004081394384581673:ie=-.03594060084257492:e[7]>.9216401592048815?ie=-.00442206228805168:ie=-.03576891499137606:e[55]>1e-35?ie=-.08223884312902127:e[57]>1e-35?ie=-.0742535346669798:e[149]>1e-35?ie=-.07940704728071792:e[39]>1e-35?ie=-.017161105634171125:e[49]>1e-35?ie=-.04763279499691125:e[139]>1e-35?ie=-.027192821855546695:e[10]>1e-35?ie=-.0036316338579956914:ie=.0026484338648234077;let Pe;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>5.527441013321604?Pe=-.012306712525171806:e[7]>.26911173821332884?e[18]>1e-35?Pe=-.027850707388722303:e[91]>1e-35?Pe=-.07216882827488169:e[2]>2.740319461670996?e[3]>1.4978661367769956?Pe=.005596837686865309:Pe=-.0059429747278747225:Pe=.009524033665726878:Pe=-.0077898166249992535:e[6]>5.912149824839399?e[3]>1.4978661367769956?e[30]>1e-35?Pe=.032201880996274065:Pe=-.009587971174292791:e[2]>.8958797346140276?Pe=.02761965407835318:Pe=.05238312639482409:e[7]>.990877425524446?e[28]>1e-35?e[156]>1e-35?Pe=.08220352701195494:Pe=-.16200772313735304:e[135]>1e-35?e[6]>4.310776603370241?Pe=-.03126230621131264:Pe=-.15437767199900418:e[219]>1e-35?e[2]>.8958797346140276?Pe=.018944713961164792:e[3]>1e-35?Pe=.06629929139668997:Pe=-.16790799717043633:e[192]>1e-35?Pe=-.3320398525405097:Pe=.009790162291004705:e[125]>1e-35?Pe=-.0996239956884951:Pe=.017982806591038288:e[25]>1e-35?Pe=-.02642518530716432:e[6]>9.286096980078398?e[3]>2.740319461670996?Pe=-.0027582177390145703:Pe=-.02047492290459601:e[17]>1e-35?Pe=.01622159988588393:e[7]>.5866799179067689?Pe=.0012556670436606133:e[3]>2.3502401828962087?e[3]>3.314020688089767?Pe=-.00567335909535631:Pe=.0036605424249172938:e[7]>.085616240166877?Pe=-.00662352094724046:Pe=-.024196995936398374;let Ae;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.802901033147999?e[3]>1.8688348091416842?e[4]>3.6242520361853052?Ae=-.008283589876968955:Ae=.005263882290960596:e[7]>.9662372103242399?Ae=.0028703212438091555:Ae=-.014488335095453487:e[5]>3.5694334999727624?Ae=.006182444666070272:Ae=.04834325475124454:e[5]>5.821564412917691?e[3]>1.4978661367769956?Ae=.006862035478899274:e[2]>1e-35?Ae=.03694434517261685:Ae=.06818308291563471:e[8]>1e-35?e[4]>3.979637980058199?Ae=-.14792403668068005:e[5]>4.297262267176281?Ae=.04085199387960594:Ae=-.08112459203056922:e[7]>.990877425524446?e[204]>1e-35?e[4]>2.4414009612931857?Ae=.040094872099644886:Ae=-.37432021591644105:e[128]>1e-35?e[17]>1e-35?Ae=.11216772098992614:Ae=-.39517539261887863:Ae=-.006202508512715542:Ae=.031730389306944315:e[8]>1e-35?e[5]>3.156774023138548?Ae=-.011787620507206525:e[3]>1.2424533248940002?Ae=-.0681989521208321:Ae=.06597717957453096:e[2]>1e-35?e[25]>1e-35?Ae=-.024543929344106336:e[5]>8.193814844759492?e[4]>2.602003343538398?e[2]>5.167634984480833?Ae=-.00996811570890536:Ae=.001134417943860963:Ae=-.013004815776467261:e[1]>1e-35?e[22]>1e-35?Ae=-.019057324908699217:e[141]>1e-35?Ae=-.026707851278989517:Ae=.005608056403567553:Ae=-.0017699070677530831:e[3]>1.4978661367769956?Ae=-.005457163739006659:Ae=-.02994467745413277;let We;e[11]>1e-35?e[154]>1e-35?We=-.07640004589975245:e[153]>1e-35?We=-.027921183286970398:e[156]>1e-35?We=-.02508900369371103:e[47]>1e-35?We=-.09621039139423637:e[46]>1e-35?We=-.05890206826599292:We=-.0018521707885188695:e[7]>.1998775237752378?e[39]>1e-35?We=-.02026563108381904:e[91]>1e-35?We=-.03979999802398471:e[14]>1e-35?e[134]>1e-35?We=.044705853812635206:We=.01112016315736189:e[24]>1e-35?e[6]>3.417592293073651?We=.01585670681557334:We=.0820229237073549:e[9]>1e-35?e[204]>1e-35?e[6]>3.9219243190762363?We=.01475544028693712:e[30]>1e-35?We=.10219265831102325:We=-.0567832116465987:e[154]>1e-35?We=-.04682869193620295:We=.0058147572533605784:e[123]>1e-35?We=-.04011640490395746:e[17]>1e-35?e[6]>3.314020688089767?We=.016472642951500794:We=-.10372235311156908:e[19]>1e-35?We=.013619887374131652:e[28]>1e-35?e[6]>3.1984648276080736?e[6]>5.5816130673839615?We=.021404525777064917:We=-.022090537029637168:We=.07927547222505857:e[129]>1e-35?We=-.0315112950229846:e[90]>1e-35?We=-.08016175793969123:e[60]>1e-35?We=-.044255594885932:e[150]>1e-35?We=-.0643645650066138:We=18071436579202054e-21:e[6]>6.132312266239896?We=.00017227075512669227:We=-.010904669702571911;let z;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[154]>1e-35?z=-.053460642910797676:z=.009652079082741289:z=-.0017676195976280011:e[134]>1e-35?z=.01746182064829904:e[32]>1e-35?z=.033149881191962445:e[138]>1e-35?z=.02149173543949675:e[37]>1e-35?z=.028519159270523897:e[152]>1e-35?z=.023352031441951773:e[217]>1e-35?z=.02290558132732214:z=-.01850975101703459:e[152]>1e-35?z=.010488854074509982:e[155]>1e-35?e[12]>1e-35?z=.027490522294963154:z=.002575743497494008:e[131]>1e-35?z=-.07138027268500055:e[57]>1e-35?z=-.06658662137088783:e[28]>1e-35?z=.015141080652315508:e[55]>1e-35?z=-.07156337757427284:e[204]>1e-35?z=.008085415901726045:e[99]>1e-35?e[1]>1e-35?z=.01803019280250009:z=-.012275416064615064:e[113]>1e-35?z=.007680714218522011:e[102]>1e-35?z=.01923593781092882:e[38]>1e-35?z=.00598208846998872:e[112]>1e-35?z=.00895148693111358:e[217]>1e-35?z=.004322676779141819:e[114]>1e-35?e[1]>1e-35?z=.019173900241286065:e[18]>1e-35?z=-.1302545616586715:z=-.012219608237225175:e[89]>1e-35?z=.019080595932083305:e[95]>1e-35?z=.009182530113836561:z=-.006531048204768366;let te;e[2]>4.135134555718313?e[47]>1e-35?te=-.06057129526622943:e[5]>6.805168536739806?e[3]>2.4414009612931857?e[1]>1e-35?e[32]>1e-35?te=-.09672976728291365:e[217]>1e-35?te=-.09138286775903748:e[114]>1e-35?te=.034435801312936894:te=.003550781249532139:e[56]>1e-35?te=.06582022232543998:e[144]>1e-35?te=-.08601101006110747:te=-.006766914059699758:e[217]>1e-35?te=.001822103802069182:te=-.013646878234832634:e[8]>1e-35?te=-.02495807137678248:e[1]>1e-35?te=.009517017217557915:te=-.007488737506950444:e[6]>6.1537953943602615?e[140]>1e-35?te=-.013180308369805589:e[51]>1e-35?te=-.0496089337787575:e[15]>1e-35?e[30]>1e-35?te=.017032153502995334:te=-.01330098154550191:e[10]>1e-35?e[56]>1e-35?te=.04713518460375107:te=-.0016223104582873055:e[131]>1e-35?te=-.07291331059881433:e[27]>1e-35?te=-.015619378359486803:te=.006051005570772542:e[3]>3.1132683346437333?e[8]>1e-35?te=-.02945681137428643:te=-.00725026522062693:e[6]>1e-35?e[3]>1.2424533248940002?te=.0035081297381004684:e[194]>1e-35?e[5]>3.772694874805912?te=-.03142097937872678:te=-.17253564001853064:e[5]>3.156774023138548?te=-.004860170522962415:e[12]>1e-35?te=-.04169370739781986:te=.05886396855048806:te=-.10415236736977414;let Ne;e[2]>2.3502401828962087?e[11]>1e-35?e[58]>1e-35?Ne=-.07548370555339029:Ne=-.009060327134219393:e[21]>1e-35?Ne=-.02536204329245056:e[155]>1e-35?Ne=.01626198918750622:e[142]>1e-35?Ne=-.029262265693304763:e[4]>1.8688348091416842?e[48]>1e-35?Ne=-.0522966414357639:e[47]>1e-35?Ne=-.03867213359133592:e[149]>1e-35?Ne=-.10392339919606915:e[135]>1e-35?Ne=-.010541433982611018:e[51]>1e-35?Ne=-.06273170107556418:e[54]>1e-35?Ne=-.08769404750229767:e[18]>1e-35?e[1]>1e-35?Ne=.0022966362330231133:e[31]>1e-35?Ne=.19571528454816625:Ne=-.04919246049942885:e[50]>1e-35?Ne=-.06766114512966344:e[7]>.9793410316570949?Ne=.00837983401462093:Ne=.0007986280224776339:e[186]>1e-35?Ne=-.16446174535054356:e[62]>1e-35?Ne=.06508947502037822:Ne=-.010260699234562241:e[6]>5.486867329823672?e[140]>1e-35?Ne=-.01589822136096899:e[125]>1e-35?Ne=-.025465846683560996:e[190]>1e-35?Ne=-.03671457167643481:e[91]>1e-35?Ne=-.03821691103237143:e[57]>1e-35?Ne=-.07502589184745939:e[50]>1e-35?Ne=-.05395522531288487:Ne=.005241788285288346:e[4]>3.1132683346437333?Ne=-.008741587825172916:e[12]>1e-35?e[100]>1e-35?Ne=.06608964318040904:Ne=-.012827641806975033:Ne=.004744161815471635;let Se;e[4]>.8958797346140276?e[2]>5.4049245766661995?e[5]>6.0051201133541365?Se=-.008352440702113342:Se=.00818161196788124:e[123]>1e-35?Se=-.02387242845183433:e[190]>1e-35?Se=-.03574127589374163:e[152]>1e-35?Se=.01262147105943106:e[11]>1e-35?e[58]>1e-35?Se=-.05955906348417553:Se=-.003717083835106387:e[6]>6.0026509725338455?e[15]>1e-35?e[30]>1e-35?Se=.023589988800048537:Se=-.01290090410411923:e[38]>1e-35?Se=.015295369946508892:e[1]>1e-35?e[4]>2.740319461670996?e[22]>1e-35?Se=-.01614208413608714:e[42]>1e-35?Se=-.05454658382875832:Se=.008894057269932708:e[141]>1e-35?Se=-.029660896741885025:Se=.0007918628584206305:e[12]>1e-35?Se=.010735865892076339:e[218]>1e-35?Se=.06499398466334683:e[29]>1e-35?Se=-.02987220407530282:e[118]>1e-35?Se=-.05994319680494358:Se=-.0022119035344297464:e[113]>1e-35?e[24]>1e-35?Se=.09992180359591052:Se=.003953091072683087:e[204]>1e-35?e[4]>2.249904835165133?Se=.0012737346185997833:e[5]>3.979637980058199?Se=.012350990163327259:e[29]>1e-35?Se=-.4173182186315585:Se=.09483857671510697:Se=-.0034771114722081282:e[19]>1e-35?Se=.04818172610227253:e[158]>1e-35?Se=.09085872490042819:e[123]>1e-35?Se=.046170414156546824:Se=-.030833991141721785;let Ce;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.138333059508028?e[3]>1.4978661367769956?e[3]>4.197173680708697?Ce=-.015067858446918237:e[5]>3.979637980058199?Ce=.0025493966284458503:e[24]>1e-35?Ce=.10170949517680355:e[3]>2.3502401828962087?Ce=-.010182198776560389:e[7]>.9662372103242399?Ce=.0855616171705204:Ce=-.0044290837387121786:e[7]>.992067132663463?Ce=.006950766900495411:Ce=-.011703657118613042:e[3]>3.314020688089767?Ce=-.007590151825214328:Ce=.011931088318037653:e[5]>4.424828703319957?e[3]>1.4978661367769956?Ce=.003895993078605918:e[2]>1e-35?e[5]>5.859359688974663?Ce=.03311360926528595:e[7]>.9936484368123463?e[28]>1e-35?Ce=-.1296383065201116:e[18]>1e-35?Ce=-.2304238024287801:Ce=-.0007035160942990814:Ce=.03872938637191365:Ce=.05931958562003542:e[204]>1e-35?e[7]>.9926276364955392?Ce=-.2503820824196552:Ce=.01514980593659256:e[135]>1e-35?e[7]>.990877425524446?Ce=-.12146435764173391:Ce=.03579230653026111:e[125]>1e-35?Ce=-.11990587076136816:Ce=-.0017264106529335022:e[2]>.8958797346140276?e[3]>4.878999622893762?Ce=-.028006872909888104:e[17]>1e-35?Ce=.015327119563713427:e[14]>1e-35?Ce=.008966123864441086:e[24]>1e-35?Ce=.014884319812071584:Ce=-.0008180929266082377:e[29]>1e-35?e[5]>5.895778350950796?Ce=-.02927173520516398:Ce=.004256706136162408:Ce=-.0030692852485265805;let Oe;e[39]>1e-35?Oe=-.019116728566000912:e[152]>1e-35?Oe=.011159312353677259:e[52]>1e-35?Oe=-.06556505864685434:e[7]>.14547530463198097?e[187]>1e-35?Oe=-.02203060071288757:e[48]>1e-35?Oe=-.03406851575382452:e[10]>1e-35?e[219]>1e-35?Oe=-.026242020752538932:Oe=-.0026163734864036088:e[21]>1e-35?Oe=-.016803181860075653:e[8]>1e-35?e[5]>3.0201273556387074?e[6]>4.722943345003718?e[125]>1e-35?Oe=-.07907862980413462:Oe=-.0024968534057976956:e[141]>1e-35?Oe=.01751368963010255:Oe=-.035334686232177996:e[3]>1e-35?Oe=-.049727650261844114:Oe=.06649006602788514:e[51]>1e-35?Oe=-.047051279496267896:e[58]>1e-35?e[19]>1e-35?Oe=.06794814379814933:Oe=-.033933057704283995:e[6]>8.681774988134558?Oe=-.001906867260604815:e[3]>3.3842466058243152?e[23]>1e-35?Oe=.029126145919054786:e[12]>1e-35?e[59]>1e-35?Oe=.06547842372312768:Oe=.005706402727440608:e[89]>1e-35?Oe=.05238448470974841:Oe=-.003970577798047124:e[141]>1e-35?e[3]>1e-35?Oe=-.02994666941636212:Oe=.029175297065511276:e[139]>1e-35?Oe=-.03926804943552878:e[7]>.9626084674797213?Oe=.010270060885238803:e[6]>4.5379471377116305?Oe=.0051640733904868355:Oe=-.006326617548806485:e[3]>2.3502401828962087?Oe=-.001064039369711557:Oe=-.015232776877478657;let Ve;e[4]>.8958797346140276?e[0]>1e-35?e[3]>3.540854293052788?e[138]>1e-35?Ve=.020620751195117866:Ve=-.007657642824282572:e[9]>1e-35?Ve=.013255738783000171:e[123]>1e-35?Ve=-.04553588467808997:e[14]>1e-35?Ve=.020257942633657516:e[17]>1e-35?Ve=.02379466680602821:e[7]>.26911173821332884?Ve=.004563013176326579:Ve=-.006044878247080096:e[208]>1e-35?e[1]>1e-35?Ve=.016583051243963785:Ve=-.005473696128326885:e[53]>1e-35?Ve=-.07392011100318682:e[3]>4.840234496705036?Ve=-.022277334024938686:e[49]>1e-35?Ve=-.04140311782670083:e[40]>1e-35?Ve=-.041278341040658334:e[156]>1e-35?Ve=-.01087788432462589:e[8]>1e-35?e[141]>1e-35?Ve=.032404890147508435:Ve=-.008762958389316138:e[153]>1e-35?e[18]>1e-35?Ve=.03064796696780178:e[19]>1e-35?Ve=.025912082684934896:e[7]>.9033253454895247?Ve=.00010665286308939541:Ve=-.019390651252802232:e[133]>1e-35?Ve=-.013215417920201165:e[35]>1e-35?Ve=-.07409193965805899:e[16]>1e-35?Ve=.010595288788401727:Ve=.0004445963442680354:e[19]>1e-35?Ve=.043800560164078434:e[62]>1e-35?Ve=.08440762960688118:e[123]>1e-35?Ve=.04196062757398021:e[44]>1e-35?e[7]>.9880960409521241?Ve=-.14025705728324367:Ve=.07605327900446729:Ve=-.030453882536033008;let Ze;e[14]>1e-35?e[134]>1e-35?Ze=.03807815059641535:Ze=.007895137847547357:e[39]>1e-35?Ze=-.019172673927560828:e[138]>1e-35?Ze=.009207480510332959:e[152]>1e-35?e[10]>1e-35?Ze=.029310247627617716:Ze=.006422126177312616:e[3]>3.5114340430413216?e[155]>1e-35?Ze=.02869511059037871:e[137]>1e-35?Ze=.048763707543632046:e[218]>1e-35?Ze=.0393143924208134:Ze=-.0065205942363783:e[4]>2.4414009612931857?e[113]>1e-35?Ze=.016047178137914484:e[35]>1e-35?Ze=-.09486179869071369:e[118]>1e-35?Ze=-.032706818831570415:e[0]>1e-35?Ze=.004733859562945298:Ze=-4345884264792552e-20:e[29]>1e-35?e[204]>1e-35?e[4]>2.3502401828962087?Ze=-.23804773582311067:Ze=.0015066742334155967:e[194]>1e-35?e[4]>1.7005986908310777?Ze=-.013296404682101122:Ze=-.14340192620927933:e[196]>1e-35?Ze=-.17446678790111786:Ze=-.01140535620661492:e[141]>1e-35?Ze=-.03362328403627273:e[99]>1e-35?Ze=.02082592497315901:e[196]>1e-35?Ze=.02125156827172031:e[204]>1e-35?Ze=.018738441981476887:e[194]>1e-35?Ze=.022230335367621302:e[114]>1e-35?Ze=.017460982004618885:e[210]>1e-35?e[11]>1e-35?Ze=-.07421933796695453:Ze=-.02600449772874995:e[62]>1e-35?Ze=.0435295764572802:Ze=-.0036358741919687645;let yt;e[2]>4.749261159734808?e[5]>6.826002629905951?e[29]>1e-35?yt=-.012866931871530748:e[47]>1e-35?yt=-.06511122680099479:yt=-.0033152297369715466:e[1]>1e-35?yt=.00634942519508748:yt=-.008516826211528918:e[6]>6.1537953943602615?e[11]>1e-35?e[121]>1e-35?e[1]>1e-35?yt=-.06214080664476329:yt=.037029947625630194:e[47]>1e-35?yt=-.08203414630098728:yt=-.0044122376347199765:e[15]>1e-35?e[30]>1e-35?yt=.012452689013210465:yt=-.011970977023212193:e[10]>1e-35?e[152]>1e-35?yt=.02888624440861723:yt=-.0026872248277927456:e[27]>1e-35?yt=-.01471521834054285:e[21]>1e-35?yt=-.014970363019863132:e[13]>1e-35?yt=-.0057151868439017945:e[38]>1e-35?yt=.01633003881478886:yt=.005850603591179588:e[113]>1e-35?e[5]>3.979637980058199?yt=.006600693642185256:e[6]>3.1984648276080736?yt=.07576534772024612:yt=-.013028252220942527:e[204]>1e-35?e[9]>1e-35?e[6]>3.9219243190762363?yt=.01266221511189265:e[29]>1e-35?yt=-.20167612409830682:yt=.09361829582187109:yt=.0016303497789744046:e[6]>4.310776603370241?yt=-.0015960016142716584:e[141]>1e-35?e[2]>2.249904835165133?e[6]>2.970085626360216?yt=-.05054316446311788:yt=.06528096075929847:e[29]>1e-35?yt=.07763431964140277:yt=-.017239135292908336:yt=-.011068823413100247;let Rt;e[91]>1e-35?Rt=-.03524202222673902:e[55]>1e-35?Rt=-.07505808762820981:e[47]>1e-35?Rt=-.026314216162986376:e[49]>1e-35?Rt=-.045488810456426665:e[54]>1e-35?Rt=-.06424779605129435:e[0]>1e-35?e[39]>1e-35?Rt=-.03267263134559766:e[46]>1e-35?Rt=-.049285436356671077:e[51]>1e-35?Rt=-.09277060040547602:e[4]>.8958797346140276?e[123]>1e-35?Rt=-.027164727231258436:e[7]>.4232249052377311?e[14]>1e-35?Rt=.021561483416797714:e[9]>1e-35?e[58]>1e-35?Rt=-.08387877475105178:Rt=.014404401501386124:Rt=.004694473365260974:Rt=-.0001897538693116325:Rt=-.017140588284242805:e[5]>9.119594757170685?e[3]>2.740319461670996?Rt=-.0007153953072197825:Rt=-.010378474356201449:e[8]>1e-35?e[5]>3.276966702012906?e[125]>1e-35?Rt=-.06966241558514917:e[4]>4.82429765145367?Rt=-.05703428861212874:Rt=-.007549683006633188:e[3]>1.2424533248940002?Rt=-.05340556429257431:Rt=.0524214727387076:e[22]>1e-35?Rt=-.012756524179901607:e[186]>1e-35?Rt=-.06578146880564559:e[208]>1e-35?Rt=.011189277267677045:e[11]>1e-35?e[58]>1e-35?Rt=-.05051984734793551:e[3]>1.2424533248940002?Rt=-.0002576217567062796:e[134]>1e-35?Rt=-.07452351335236179:Rt=-.010366062496356129:e[94]>1e-35?Rt=-.04206673603732986:Rt=.0017654268359667174;let At;e[2]>2.3502401828962087?e[28]>1e-35?At=.018743416209068924:e[142]>1e-35?At=-.027628078748284907:e[4]>1.7005986908310777?e[123]>1e-35?At=-.039485087567133176:e[48]>1e-35?At=-.04707407726639779:e[49]>1e-35?At=-.0644727439161007:e[47]>1e-35?At=-.03586301268310228:e[52]>1e-35?At=-.08213761833929575:e[60]>1e-35?At=-.036939376764301805:e[22]>1e-35?At=-.02264827779335228:e[153]>1e-35?e[24]>1e-35?At=.03651632275248908:At=-.010403215174169965:e[18]>1e-35?e[31]>1e-35?At=.17011943799802248:At=-.024083374989820074:e[147]>1e-35?At=-.05792387046048145:e[39]>1e-35?At=-.019000152117179:e[54]>1e-35?At=-.09256681585621543:e[50]>1e-35?At=-.06535283940797192:e[187]>1e-35?At=-.023020538580498528:e[149]>1e-35?At=-.09670391878996044:e[8]>1e-35?e[6]>5.865049616265698?At=.0007122257672540384:At=-.024203929126070334:e[55]>1e-35?At=-.10687519344783902:e[21]>1e-35?At=-.019836359134795922:At=.0028141634686288143:e[153]>1e-35?At=-.044827592367532504:At=-.009894012855110334:e[140]>1e-35?e[18]>1e-35?At=.060584003745668275:At=-.015006980258423744:e[6]>5.161920636569023?e[125]>1e-35?At=-.021624709427283298:At=.0035264081894521636:At=-.0030260520850755417;let Ht;e[57]>1e-35?Ht=-.06665941268716478:e[2]>5.4049245766661995?Ht=-.0048763725607228565:e[17]>1e-35?Ht=.012937023835595996:e[91]>1e-35?Ht=-.032642493399923284:e[40]>1e-35?Ht=-.04355571234278559:e[14]>1e-35?e[217]>1e-35?Ht=-.030555708374197955:Ht=.010895997063478696:e[1]>1e-35?e[99]>1e-35?Ht=.016029829045206837:e[114]>1e-35?Ht=.017475123428921584:e[139]>1e-35?Ht=-.042037981483985604:e[210]>1e-35?e[29]>1e-35?Ht=.015395913258454092:Ht=-.024779051599098958:e[90]>1e-35?Ht=-.09436512907953146:e[25]>1e-35?Ht=-.0385103760507401:e[113]>1e-35?Ht=.014955995782471:e[208]>1e-35?Ht=.01363101947809469:Ht=.0004708078358576994:e[29]>1e-35?Ht=-.02567148566035587:e[217]>1e-35?Ht=.017896286118860596:e[118]>1e-35?Ht=-.04366196842115269:e[144]>1e-35?Ht=-.04332564222613586:e[54]>1e-35?Ht=-.08095356842154083:e[31]>1e-35?e[15]>1e-35?Ht=-.12797365603832508:Ht=.05407709367007049:e[56]>1e-35?Ht=.030874690971051524:e[148]>1e-35?Ht=-.06664437092250396:e[50]>1e-35?Ht=-.05710031053092695:e[114]>1e-35?e[18]>1e-35?Ht=-.12348764088627251:Ht=-.014081947133593207:e[147]>1e-35?Ht=-.044629298717173554:Ht=-.000742893245658901;let $t;e[138]>1e-35?$t=.008266725465725232:e[1]>1e-35?e[37]>1e-35?$t=-.06288072801700428:e[114]>1e-35?$t=.01701875404216428:e[128]>1e-35?$t=-.022207708344996902:e[113]>1e-35?e[24]>1e-35?$t=.08078133512323216:$t=.010126216487392538:e[11]>1e-35?e[58]>1e-35?$t=-.0542116306120395:$t=-.004962440421854299:e[155]>1e-35?e[30]>1e-35?$t=.02107443326718807:$t=-.01069225359959257:$t=.0009105709984003484:e[218]>1e-35?$t=.05160355321154702:e[134]>1e-35?$t=.006114948378400552:e[121]>1e-35?$t=.016106484014031797:e[89]>1e-35?$t=.01912348851711998:e[56]>1e-35?$t=.029777849606436514:e[157]>1e-35?$t=.04060172642469715:e[31]>1e-35?$t=.040190765597096945:e[115]>1e-35?$t=.038285461163007885:e[144]>1e-35?$t=-.04397941351839926:e[53]>1e-35?$t=-.09153555712989248:e[34]>1e-35?$t=.05063635650139542:e[145]>1e-35?$t=-.05531793235403996:e[18]>1e-35?e[142]>1e-35?$t=.050915836711889595:$t=-.038668153033606156:e[142]>1e-35?$t=-.03161888799270195:e[21]>1e-35?$t=-.039152400008548416:e[147]>1e-35?$t=-.06369054146375448:e[146]>1e-35?$t=-.06687062048733548:e[143]>1e-35?$t=-.0374398909044375:$t=-.004075281311375503;let ir;e[19]>1e-35?ir=.011138060439416179:e[7]>.054053454943712505?e[17]>1e-35?e[30]>1e-35?ir=.031458353209402545:ir=.006712963530887799:e[135]>1e-35?ir=-.008268741342836259:e[60]>1e-35?ir=-.026373116795568554:e[7]>.8375851232899904?e[3]>2.602003343538398?e[6]>4.832297822126891?ir=.001164103411669833:e[8]>1e-35?ir=-.04419920795209664:ir=-.007580602414427876:e[6]>3.417592293073651?e[6]>8.80963889693121?ir=-.00653283113371423:e[8]>1e-35?e[125]>1e-35?ir=-.10156793652811894:ir=-.004200534838133274:e[18]>1e-35?ir=-.01192673279840267:ir=.007421951916920296:e[7]>.9626084674797213?e[29]>1e-35?e[6]>2.970085626360216?ir=-.0032059430383565256:ir=.05159315082197918:e[8]>1e-35?ir=-.0890031715943104:e[22]>1e-35?ir=-.16814104441488775:e[12]>1e-35?e[100]>1e-35?ir=.1021284677424052:ir=-.13655977142603173:ir=.09393254504800182:ir=-.0008030674521708154:e[153]>1e-35?e[18]>1e-35?ir=.028570793527563892:ir=-.01146507406243734:e[125]>1e-35?e[3]>1e-35?ir=-.04344386283066575:ir=.049543778722220704:e[47]>1e-35?ir=-.025602694767462936:ir=41633336342102227e-21:e[3]>2.3502401828962087?e[3]>3.3497501700808394?ir=-.018924000087166926:ir=.005374758944061522:e[14]>1e-35?ir=.02825013192303339:ir=-.028367959366723622;let ge;e[190]>1e-35?ge=-.033259392758942484:e[4]>2.4414009612931857?e[123]>1e-35?ge=-.030965448877928344:e[150]>1e-35?ge=-.05353588365501967:e[53]>1e-35?ge=-.07322459471644706:e[0]>1e-35?e[6]>6.9012339353508745?ge=.007566110700214329:e[4]>3.0677824455408698?e[7]>.5242163672259389?e[8]>1e-35?e[6]>4.722943345003718?ge=-.00508197369229565:e[4]>3.5694334999727624?ge=-.09566908841488272:ge=-.009799018561370653:e[29]>1e-35?ge=.01134634874419129:ge=-.008480456528154491:ge=-.010775036248093376:ge=.006611525544742429:e[23]>1e-35?ge=.01761735039511882:e[19]>1e-35?ge=.01278442042249664:ge=-.0002242132003162585:e[186]>1e-35?ge=-.1282956565830828:e[99]>1e-35?ge=.018493666625505303:e[141]>1e-35?ge=-.026024552608676074:e[29]>1e-35?e[5]>3.5694334999727624?e[217]>1e-35?ge=.010089877008871859:e[7]>.9569480028661056?ge=-.0021891593882122327:ge=-.019455050281455402:e[7]>.960816451500545?ge=-.13777176433158442:ge=.02722608122697913:e[28]>1e-35?e[194]>1e-35?ge=.09549833737461155:ge=.012447932823540411:e[129]>1e-35?e[26]>1e-35?ge=.147381625399948:ge=-.03418523266130075:e[7]>.26911173821332884?ge=.0014660191124088442:e[217]>1e-35?ge=-.08282397562490618:e[210]>1e-35?ge=-.0386848317545183:ge=-.001892646396528824;let Le;e[57]>1e-35?Le=-.059790543460520464:e[55]>1e-35?Le=-.06524069243313577:e[3]>4.283562780082224?e[37]>1e-35?Le=-.054605342954169904:Le=-.006343751747681404:e[17]>1e-35?Le=.011961708215735271:e[40]>1e-35?Le=-.04296088601962452:e[6]>1e-35?e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?Le=-.026498922218692673:Le=.10501477027016158:e[6]>4.03420147928485?Le=.012792216148037112:e[7]>.9830997303909479?Le=-.2271005546552327:Le=-.008348690537914538:e[9]>1e-35?e[153]>1e-35?e[7]>.20588252599634785?Le=-.004842123367456505:Le=-.03575275485660392:e[99]>1e-35?e[1]>1e-35?Le=.032397176999597294:Le=-.0033271937210452387:e[204]>1e-35?Le=.02154799118278769:Le=.0034498877728340095:e[28]>1e-35?e[6]>3.0677824455408698?e[6]>5.5816130673839615?Le=.01602715871650751:e[7]>.9901971344332651?e[194]>1e-35?Le=-.21161676626091178:e[127]>1e-35?Le=-.4024450297968636:Le=-.030976570087232314:Le=.0031980605341801454:Le=.07943810970798848:e[135]>1e-35?Le=-.00869354055420051:e[123]>1e-35?Le=-.022241787113206086:e[62]>1e-35?Le=.037165483434744594:e[7]>.04507521918085865?e[21]>1e-35?Le=-.013433718654288605:e[155]>1e-35?Le=.00919342834132915:Le=-.0002729025327531227:Le=-.012537468897218136:Le=-.07894994665155514;let Ke;e[4]>.8958797346140276?e[14]>1e-35?Ke=.007800140351631253:e[138]>1e-35?Ke=.007294945388686309:e[1]>1e-35?e[32]>1e-35?e[28]>1e-35?Ke=.09462192942805535:Ke=-.06376046128949985:e[37]>1e-35?Ke=-.06442220885770956:e[140]>1e-35?e[30]>1e-35?Ke=-.09261012186873348:Ke=-.015294712278584928:e[98]>1e-35?Ke=.019329173498247088:e[58]>1e-35?Ke=-.026405515460271967:e[5]>8.608586615680721?e[4]>2.602003343538398?Ke=6125118307170923e-20:Ke=-.009497787119169794:e[40]>1e-35?Ke=-.05491317248554455:e[7]>.30853255358841714?Ke=.003951848833690266:Ke=-.0021827028977256715:e[219]>1e-35?Ke=-.03918852409108207:e[98]>1e-35?Ke=-.025490621458423603:e[218]>1e-35?Ke=.04685239586600909:e[4]>2.970085626360216?e[152]>1e-35?Ke=.019288400231624092:e[132]>1e-35?Ke=.04845025214421127:e[157]>1e-35?Ke=.03681235344369351:e[18]>1e-35?Ke=-.034132162265456074:e[48]>1e-35?Ke=-.04861483835690636:e[142]>1e-35?Ke=-.031057400959951156:e[148]>1e-35?Ke=-.06903688486009983:Ke=-.004426858558248682:e[31]>1e-35?Ke=.06983425899920179:Ke=.002335587968443938:e[19]>1e-35?Ke=.04178364096434334:e[123]>1e-35?Ke=.03954255208630935:e[62]>1e-35?Ke=.07169067239737285:Ke=-.022094630155173406;let et;e[190]>1e-35?et=-.029705030481716018:e[2]>2.4414009612931857?e[125]>1e-35?e[3]>1e-35?et=-.052080713549693486:et=.015237248725743169:e[49]>1e-35?et=-.05738028956460733:e[28]>1e-35?et=.015629889576502864:e[14]>1e-35?et=.007178838639724632:e[217]>1e-35?et=.006873744757442591:e[3]>.8958797346140276?et=-.0009297977761919447:e[4]>2.740319461670996?et=-.0032588616048005344:e[209]>1e-35?et=-.09352716353634213:et=-.015820890219545396:e[0]>1e-35?e[2]>.8958797346140276?e[30]>1e-35?et=.019248760742983276:e[3]>2.861792550976191?e[6]>8.372051799062541?et=.011687619771455333:et=-.014380012538782239:et=.007119108038702808:e[5]>4.424828703319957?e[3]>2.249904835165133?et=-.004571416888569663:e[4]>.8958797346140276?e[2]>1e-35?et=.03291298609827498:et=.056149641245301286:e[6]>5.66469358412419?et=.03259771207074825:et=-.09357704176112766:e[135]>1e-35?e[4]>3.1132683346437333?e[4]>3.276966702012906?et=-.061655392996083594:et=-.32745698278768204:et=.05791789791717941:et=-.018505458368810124:e[2]>1.2424533248940002?et=.0026761409362875913:e[3]>1e-35?e[30]>1e-35?e[210]>1e-35?et=-.039544237504098204:et=-.00840469876565937:e[138]>1e-35?et=-.03964217397514852:et=-4311139741723525e-22:e[5]>6.136645972583987?et=-.022772355719852342:et=.00817231129409795;let St;e[91]>1e-35?St=-.028069212077752072:e[2]>5.1209788959100075?e[25]>1e-35?e[4]>3.314020688089767?St=-.07374751231467579:St=-.012603466600012023:St=-.003323309316995181:e[0]>1e-35?e[2]>1.2424533248940002?e[11]>1e-35?St=-.008138434386494645:e[2]>1.8688348091416842?e[18]>1e-35?St=-.021752576521312197:e[142]>1e-35?St=-.03703704004008216:e[21]>1e-35?St=-.031901873695323615:St=.0007949433315561949:e[156]>1e-35?St=.04622194605125366:St=.007164185384903575:e[156]>1e-35?St=.05649230717257425:e[192]>1e-35?St=-.14560972428612223:e[144]>1e-35?St=-.0847860756426489:e[4]>.8958797346140276?e[2]>.8958797346140276?St=.009443385055723438:e[9]>1e-35?St=.0384706300742172:e[7]>.9738681190948303?e[7]>.9983480540068196?St=.03566002120217884:e[125]>1e-35?St=-.08601531943220733:e[28]>1e-35?St=-.07136595081940608:St=.005430826378707227:St=.026279964393698674:e[2]>.8958797346140276?St=.025916235406054845:St=-.05093685243097706:e[2]>.8958797346140276?e[4]>2.4414009612931857?e[22]>1e-35?St=-.018458649485324576:e[123]>1e-35?St=-.027048533130577097:e[9]>1e-35?St=.005768627348361876:St=.0011976274380886302:e[196]>1e-35?St=.024074476840894424:St=-.0040891042038809855:e[156]>1e-35?St=-.03722816735059365:St=-.004021663177778795;let xt;e[57]>1e-35?xt=-.054174378986311306:e[55]>1e-35?xt=-.05937408126377534:e[35]>1e-35?xt=-.06355743050048665:e[52]>1e-35?xt=-.049028563645544726:e[10]>1e-35?e[152]>1e-35?xt=.023779508772836917:e[217]>1e-35?xt=.00760039749111183:xt=-.005758267779536595:e[6]>1e-35?e[50]>1e-35?xt=-.03899686693288482:e[53]>1e-35?xt=-.06158372699069763:e[19]>1e-35?xt=.009506113370718208:e[154]>1e-35?xt=-.021220440237800273:e[129]>1e-35?e[26]>1e-35?xt=.12643307498280917:xt=-.02322694568396696:e[49]>1e-35?xt=-.03489161935560748:e[173]>1e-35?xt=-.041310484369004336:e[116]>1e-35?xt=-.026931019221510855:e[150]>1e-35?xt=-.04336081700276943:e[46]>1e-35?xt=-.01503021840754708:e[21]>1e-35?xt=-.011723313966476847:e[187]>1e-35?e[30]>1e-35?xt=.029035482597327224:xt=-.020238143126606493:e[22]>1e-35?xt=-.0092659038594408:e[6]>8.954867306462836?xt=-.002270298325316596:e[25]>1e-35?e[1]>1e-35?e[152]>1e-35?xt=.025059955137215612:xt=-.058962720741665454:xt=4061285457160542e-20:e[7]>.787025207541384?xt=.0045073893285534905:e[156]>1e-35?xt=-.00956127321029558:e[153]>1e-35?xt=-.006428735642845697:xt=.0020065887307204903:xt=-.07142994726664682;let Nt;e[190]>1e-35?Nt=-.026482483927372538:e[11]>1e-35?e[153]>1e-35?Nt=-.019448665116575673:e[46]>1e-35?Nt=-.046207503035123526:e[143]>1e-35?Nt=-.060693025841649276:e[125]>1e-35?Nt=-.0635615784828548:Nt=-.0020226769939179086:e[10]>1e-35?e[152]>1e-35?Nt=.021657999498329004:e[217]>1e-35?Nt=.006867901248533881:e[186]>1e-35?Nt=-.17526174685635476:e[7]>.3736576099860928?e[125]>1e-35?Nt=-.06860813037660739:Nt=-.0030373931794416857:e[153]>1e-35?Nt=-.036659407900460406:Nt=-.009138716679401575:e[8]>1e-35?e[141]>1e-35?Nt=.022488528656368925:Nt=-.004824813956579289:e[155]>1e-35?e[29]>1e-35?Nt=-.0923825728762917:Nt=.013279779321478072:e[13]>1e-35?e[29]>1e-35?Nt=-.02015430689927317:Nt=-.0014075476679032272:e[21]>1e-35?Nt=-.010052866682366596:e[15]>1e-35?e[127]>1e-35?Nt=-.11613127921904604:Nt=-.004425492436566155:e[61]>1e-35?Nt=-.04761391619756717:e[38]>1e-35?Nt=.010790742168686546:e[138]>1e-35?e[25]>1e-35?Nt=-.03936956646884221:Nt=.012187893435100131:e[18]>1e-35?e[46]>1e-35?Nt=.052404637972043124:e[29]>1e-35?e[219]>1e-35?Nt=-.026128288926960785:Nt=.01402455905339408:Nt=-.018095204676971146:Nt=.002238241111198228;let Qt;e[3]>4.993822430271426?Qt=-.021704560089024494:e[39]>1e-35?Qt=-.012978601337522922:e[57]>1e-35?Qt=-.04850734344953324:e[190]>1e-35?Qt=-.02323817835232452:e[55]>1e-35?Qt=-.054265924680079236:e[144]>1e-35?Qt=-.020797331827991154:e[52]>1e-35?Qt=-.04407078296749134:e[50]>1e-35?Qt=-.03531075513550682:e[14]>1e-35?e[217]>1e-35?Qt=-.02603818360896512:Qt=.00845420085528292:e[90]>1e-35?e[3]>3.5114340430413216?Qt=.010289606334961197:Qt=-.10259966877314837:e[139]>1e-35?Qt=-.01903913128660918:e[17]>1e-35?e[30]>1e-35?Qt=.027295226228104732:e[38]>1e-35?Qt=.036847447575421244:e[3]>2.861792550976191?Qt=-.016454620470329126:Qt=.010475083165212631:e[19]>1e-35?Qt=.008675111927467:e[40]>1e-35?Qt=-.036362054443170776:e[9]>1e-35?Qt=.0031294075955568394:e[123]>1e-35?Qt=-.02131953072683769:e[24]>1e-35?e[113]>1e-35?e[3]>2.602003343538398?Qt=-.005045224468848018:e[3]>2.3502401828962087?Qt=.1006727710215487:Qt=-.21606952724358763:e[209]>1e-35?Qt=-.07903381656359819:Qt=.0099843967860757:e[28]>1e-35?Qt=.009909672751437115:e[155]>1e-35?e[3]>3.941534675652877?Qt=.04961274235179155:Qt=.005113567009198253:e[158]>1e-35?Qt=.031566828492110836:Qt=-.0012534895812835874;let Tt;e[4]>2.4414009612931857?e[123]>1e-35?Tt=-.022743199998420272:e[47]>1e-35?Tt=-.02199867034393067:e[3]>3.238486181444842?e[155]>1e-35?Tt=.015256601991879549:e[23]>1e-35?Tt=.01997791344831838:e[97]>1e-35?Tt=.024977281654938052:e[218]>1e-35?Tt=.031730655567930977:e[32]>1e-35?e[1]>1e-35?Tt=-.05855958691798028:Tt=-.009630189044251312:e[195]>1e-35?Tt=-.009842090802252708:e[125]>1e-35?Tt=-.030084333742373532:Tt=-.0009935375527704107:e[135]>1e-35?Tt=-.006040875366017567:e[43]>1e-35?Tt=-.03616920022546756:e[44]>1e-35?Tt=-.014787601622259254:e[0]>1e-35?Tt=.005949240867095038:Tt=.0018435357767462809:e[141]>1e-35?e[3]>1e-35?Tt=-.030610116678182732:Tt=.01960307197844505:e[3]>1.2424533248940002?e[101]>1e-35?Tt=-.04366907994393087:e[28]>1e-35?e[194]>1e-35?Tt=.0927536258129216:Tt=.00806369969474508:e[198]>1e-35?Tt=.03402296877725087:Tt=-.00033907517363096143:e[194]>1e-35?e[19]>1e-35?Tt=-.16957712930341856:e[28]>1e-35?Tt=-.2078243840685859:Tt=-.01982072284112783:e[134]>1e-35?Tt=-.059093837808976674:e[155]>1e-35?Tt=-.11429749518431415:e[1]>1e-35?e[123]>1e-35?Tt=.04159085402090426:Tt=-.0053579302271092874:Tt=-.038428527597709254;let _t;e[2]>2.249904835165133?e[53]>1e-35?_t=-.09149569302330776:e[142]>1e-35?_t=-.020143603866796752:e[29]>1e-35?e[1]>1e-35?e[4]>2.740319461670996?e[0]>1e-35?_t=-.005838073295705989:_t=.0025448179376697196:e[217]>1e-35?_t=.010391363152324442:e[6]>3.9219243190762363?e[7]>.9546729796082215?_t=.00016709708501075782:_t=-.019274537854809464:e[7]>.9717523368299734?e[2]>4.848108675189105?_t=.0038332904395533517:e[141]>1e-35?e[6]>3.0677824455408698?_t=-.12592300140122323:_t=-1.2073741246841418:_t=-.17682453022795175:_t=-.004373737265888883:_t=-.032810714691009164:e[18]>1e-35?_t=-.024280045660709612:e[156]>1e-35?_t=-.023509654115095334:e[1]>1e-35?e[141]>1e-35?_t=-.032438707623116556:e[32]>1e-35?_t=-.061272201063817755:_t=.004415514992097752:_t=-.0017176659108089432:e[0]>1e-35?e[6]>6.288787065535392?e[2]>.8958797346140276?_t=.008680085548304642:e[29]>1e-35?_t=.03767506445697859:_t=-.0007537359215762705:e[4]>.8958797346140276?_t=.0002799056937607271:_t=-.039667032027283916:e[2]>1.2424533248940002?_t=.002506908961838236:e[29]>1e-35?e[7]>.950335336459789?_t=.0027367426972748597:_t=-.021265206402010337:e[30]>1e-35?e[210]>1e-35?_t=-.03496264625173957:_t=-.007705718616493613:e[138]>1e-35?_t=-.035840689909527164:_t=.0006855012949462712;let wt;e[2]>5.418317700738354?e[5]>6.0051201133541365?e[156]>1e-35?wt=-.024776046248283234:wt=-.004761578172448051:e[8]>1e-35?wt=-.025343070913887773:wt=.012224469039913016:e[150]>1e-35?wt=-.04079051452350429:e[10]>1e-35?e[152]>1e-35?wt=.019743419118584654:e[186]>1e-35?wt=-.15575093795294756:e[217]>1e-35?wt=.0056968023991711995:wt=-.004356449942923164:e[5]>6.0051201133541365?e[125]>1e-35?wt=-.01597803134795572:e[151]>1e-35?wt=-.05058454115923059:e[50]>1e-35?wt=-.03619853041443809:e[49]>1e-35?wt=-.03261722685392842:e[24]>1e-35?wt=.011909155984778505:e[2]>2.012675845367575?wt=.0004933624031973823:e[219]>1e-35?wt=.015579421213152617:wt=.002812703494519415:e[113]>1e-35?e[24]>1e-35?wt=.09675188599473092:wt=.0008025077587732017:e[204]>1e-35?e[9]>1e-35?e[5]>3.772694874805912?wt=.02609533140492082:e[29]>1e-35?wt=-.21256031284758028:wt=.09442590919716193:wt=-.004086903422513798:e[24]>1e-35?e[5]>3.979637980058199?wt=-.011071875945121415:e[209]>1e-35?wt=-.19367443751378252:wt=-.04414838576908475:e[178]>1e-35?wt=-.06538606241685795:e[100]>1e-35?e[5]>3.772694874805912?wt=-.01294941588968201:e[5]>2.673553765358735?wt=.08150000027300734:wt=-.08989919051554107:wt=-.0032151101072856354;let Ot;e[35]>1e-35?Ot=-.05704221149718709:e[91]>1e-35?Ot=-.023832002943165256:e[102]>1e-35?Ot=.015441451551750014:e[3]>4.993822430271426?Ot=-.020159490027748073:e[4]>2.3502401828962087?e[144]>1e-35?Ot=-.022873219553742163:e[22]>1e-35?Ot=-.01287591196884623:e[47]>1e-35?e[18]>1e-35?Ot=.07657102696661595:Ot=-.0243921910773003:e[150]>1e-35?Ot=-.043982850497096056:e[138]>1e-35?e[25]>1e-35?Ot=-.03740348349716821:Ot=.008237493112057112:e[49]>1e-35?Ot=-.03254806921800082:e[53]>1e-35?Ot=-.057370285686186163:e[3]>4.085941003063911?e[37]>1e-35?Ot=-.04084726667137505:e[155]>1e-35?Ot=.0323666619020495:Ot=-.0038866525930422893:e[118]>1e-35?e[18]>1e-35?Ot=-.0975422096275863:Ot=-.014038224866250074:e[136]>1e-35?Ot=-.03199938604211209:Ot=.0014268928516615767:e[99]>1e-35?Ot=.018668567929263327:e[5]>7.334002872979111?e[156]>1e-35?Ot=-.05380541629812827:e[210]>1e-35?e[30]>1e-35?Ot=-.047112416583853595:Ot=.00900546030963941:e[208]>1e-35?Ot=.02334424121914086:e[158]>1e-35?Ot=.04595592178250823:Ot=-.006709820970668842:e[204]>1e-35?e[5]>3.772694874805912?Ot=.009489783712825852:e[3]>2.249904835165133?Ot=.09999429949553015:Ot=-.03961464289941561:Ot=-.001190853283470586;let Wt;e[39]>1e-35?Wt=-.011391872842603505:e[190]>1e-35?Wt=-.021093147889461955:e[51]>1e-35?e[18]>1e-35?Wt=.08723256651643213:Wt=-.04233732133209843:e[19]>1e-35?Wt=.008078856044745801:e[4]>.8958797346140276?e[60]>1e-35?Wt=-.022165860715145688:e[129]>1e-35?e[3]>3.314020688089767?Wt=.019990677612126993:Wt=-.035520772730423776:e[153]>1e-35?e[2]>.8958797346140276?Wt=-.006946377120973384:e[0]>1e-35?e[8]>1e-35?e[5]>5.692045796563381?Wt=.04230611914121616:Wt=-.1152833284663223:Wt=.03987788751961305:Wt=-.02748865099804465:e[46]>1e-35?e[18]>1e-35?Wt=.047655531405650486:Wt=-.022707509947190632:e[18]>1e-35?e[3]>.8958797346140276?e[31]>1e-35?Wt=.1425984397283696:e[143]>1e-35?Wt=.05597721538261218:Wt=-.02117927246804007:Wt=.011077153043550766:e[143]>1e-35?Wt=-.0158979963012007:e[187]>1e-35?e[30]>1e-35?Wt=.02515771028113912:Wt=-.019084229614362958:e[49]>1e-35?e[1]>1e-35?Wt=.014623537050735559:Wt=-.05320125987679328:e[58]>1e-35?e[3]>3.1132683346437333?Wt=.021421346835282216:Wt=-.03287702034784505:e[16]>1e-35?Wt=.008645735809593434:e[3]>4.993822430271426?Wt=-.01889537207927676:Wt=.00131546333396141:e[153]>1e-35?Wt=-.09822789507794744:Wt=-.010292962989428067;let zt;e[11]>1e-35?e[156]>1e-35?e[4]>3.1132683346437333?zt=-.009153166060719259:zt=-.035386636811765286:e[58]>1e-35?zt=-.03881024236774208:e[153]>1e-35?e[7]>.12645023619128054?zt=-.01286680669029116:zt=-.0573874491021103:e[3]>3.276966702012906?e[38]>1e-35?zt=-.03084033316462023:zt=-.00517175216868761:e[195]>1e-35?zt=.01773824295809578:e[131]>1e-35?zt=-.17828043850421407:zt=.0005554487984838318:e[7]>.14547530463198097?e[105]>1e-35?zt=-.018589129226123456:e[116]>1e-35?zt=-.0227108777687536:e[24]>1e-35?zt=.009520152980411787:e[135]>1e-35?zt=-.004364970908897872:e[0]>1e-35?e[18]>1e-35?zt=-.015737703364129243:zt=.003711277180349787:e[12]>1e-35?e[4]>3.540854293052788?e[155]>1e-35?zt=.04655165952772795:zt=.009321761971665682:e[210]>1e-35?zt=.018839890489201528:e[129]>1e-35?zt=-.03111680952187252:zt=.0002649813454447912:e[23]>1e-35?zt=.014110539528977999:e[109]>1e-35?zt=.014168740682742625:zt=-.0008607565404007093:e[3]>2.3502401828962087?e[9]>1e-35?e[4]>3.3842466058243152?zt=-.004252607769147212:zt=.02017003996344357:e[16]>1e-35?zt=.01594899805169211:zt=-.006372071796745688:e[12]>1e-35?zt=-.0251011457777017:e[121]>1e-35?zt=-.07822588279288774:zt=-.005026529762858;let lr;e[7]>.8375851232899904?e[155]>1e-35?e[3]>1.2424533248940002?lr=.014982109981371684:lr=-.08302064203662592:e[3]>2.602003343538398?e[125]>1e-35?lr=-.02862612402789537:lr=-.0004831913476108919:e[42]>1e-35?lr=-.08030278175390543:e[90]>1e-35?lr=-.11931838045625616:lr=.003328726909052652:e[125]>1e-35?e[3]>1e-35?lr=-.03347653784336098:lr=.0381767649776156:e[3]>2.4414009612931857?e[3]>3.1132683346437333?e[137]>1e-35?lr=.04078434374172937:e[130]>1e-35?lr=.04811471469938318:e[152]>1e-35?lr=.012079515899716571:e[23]>1e-35?lr=.017817807971301534:e[122]>1e-35?lr=.049338146544587284:e[115]>1e-35?lr=.026905923036994708:e[10]>1e-35?lr=-.008135082370740723:e[89]>1e-35?lr=.023584069012120446:e[95]>1e-35?lr=.013988944683250695:lr=-.002584756192745314:e[139]>1e-35?lr=-.04454469703180858:e[99]>1e-35?e[3]>2.524928003624769?lr=.010620580427538877:lr=.047779724434429495:e[131]>1e-35?lr=-.08155143867377633:lr=.0031488702256745843:e[7]>.06275229375044648?e[99]>1e-35?lr=.016956254821045937:e[90]>1e-35?lr=-.11685880917620971:e[210]>1e-35?e[11]>1e-35?lr=-.040607887814632475:lr=-.006287900824728332:lr=-.0018997472673294537:e[14]>1e-35?lr=.02358706984105576:lr=-.01737075534918072;let hr;e[6]>1e-35?e[2]>5.4049245766661995?e[5]>6.441743353550561?e[29]>1e-35?e[4]>2.673553765358735?hr=-.007517267159018327:hr=-.02379463821120899:hr=-.0026543290628044274:e[8]>1e-35?hr=-.022865480180725452:hr=.009005117181880752:e[6]>5.161920636569023?e[0]>1e-35?e[2]>.8958797346140276?e[2]>2.012675845367575?e[3]>2.3502401828962087?hr=.0021573820428423146:hr=-.0046125093600082965:e[3]>3.314020688089767?hr=-.005566488595229649:e[6]>6.288787065535392?hr=.012796965207082116:hr=-.0023971957228440767:e[3]>2.249904835165133?e[2]>1e-35?hr=-.0003832411399288501:e[1]>1e-35?hr=-.03148874544425103:hr=-.3158553329522586:e[2]>1e-35?hr=.025981575700247922:hr=.052944809618023905:e[6]>8.681774988134558?e[3]>2.970085626360216?hr=-.0005280655103032829:hr=-.009402467452152188:e[2]>.8958797346140276?hr=.0018798828715775142:e[3]>1.7005986908310777?hr=-.0002583719758369029:hr=-.014467497542301198:e[128]>1e-35?hr=-.03075061856353219:e[3]>3.0201273556387074?e[8]>1e-35?hr=-.03107874404542307:hr=-.0063178690978266385:e[113]>1e-35?e[24]>1e-35?hr=.10168122236339333:hr=.0027676566086997536:e[100]>1e-35?e[3]>1.4978661367769956?hr=-.019182725682091863:e[3]>1.2424533248940002?hr=.10007959215270637:hr=-.049901874168813753:e[12]>1e-35?hr=-.008354674563617942:hr=.000556773623388255:hr=-.06338083699889271;let sr;e[14]>1e-35?e[5]>7.841296344941067?e[217]>1e-35?sr=-.03452197748259044:e[141]>1e-35?sr=-.05526745933972476:sr=.003096257901065188:sr=.013468654879205778:e[90]>1e-35?sr=-.04633994478668718:e[7]>.04507521918085865?e[39]>1e-35?sr=-.011427282692256308:e[188]>1e-35?sr=-.11824461537515621:e[17]>1e-35?e[5]>3.276966702012906?sr=.009014346731620665:sr=-.10784986305366669:e[102]>1e-35?sr=.014356846380168074:e[109]>1e-35?sr=.0100955463134877:e[31]>1e-35?sr=.025672511171270042:e[127]>1e-35?sr=-.10904631172619624:e[19]>1e-35?sr=.007015456473363717:e[60]>1e-35?sr=-.02409044800892067:e[217]>1e-35?e[7]>.9914949911911836?sr=.02334115299069277:e[1]>1e-35?sr=-29013080593250377e-21:sr=.014307421165143329:e[1]>1e-35?e[42]>1e-35?sr=-.06673983904970003:e[37]>1e-35?sr=-.05636396687178933:e[32]>1e-35?sr=-.042854874962508754:e[140]>1e-35?sr=-.014546243613252019:e[119]>1e-35?sr=.02592806792359847:sr=.0008331579108247542:e[12]>1e-35?sr=.004348565717870661:e[195]>1e-35?sr=-.016064193157584304:e[210]>1e-35?sr=-.01896835246692864:e[122]>1e-35?sr=.06415669138405272:e[219]>1e-35?sr=-.03191239858069586:sr=-.0022170295258555585:sr=-.00965022020696389;let cr;e[55]>1e-35?cr=-.04649484416236924:e[6]>1e-35?e[35]>1e-35?cr=-.04814595674860986:e[173]>1e-35?cr=-.030965289355370126:e[190]>1e-35?cr=-.01892908615035444:e[50]>1e-35?cr=-.03023310323845746:e[14]>1e-35?e[134]>1e-35?cr=.029102388421738776:e[217]>1e-35?cr=-.021829759931582565:cr=.005209049556942947:e[90]>1e-35?e[3]>3.276966702012906?cr=.007482519637019732:e[28]>1e-35?cr=.08823476156200263:cr=-.1134870648564767:e[17]>1e-35?e[5]>3.156774023138548?e[3]>2.861792550976191?e[134]>1e-35?cr=.037573808092493166:cr=-.008120569804875069:cr=.015185866424900767:cr=-.10150107137017012:e[39]>1e-35?cr=-.011108691883331833:e[4]>2.4414009612931857?e[123]>1e-35?cr=-.019406534412652932:e[22]>1e-35?cr=-.011646225036274034:e[118]>1e-35?e[1]>1e-35?cr=.007977856608752276:cr=-.038946271309380914:cr=.0009257226566265858:e[101]>1e-35?e[6]>5.769881059461895?cr=-.06484570063989317:cr=.016294764421436982:e[29]>1e-35?e[204]>1e-35?e[5]>5.859359688974663?cr=.036329398743295674:cr=-.20474934656494398:e[4]>1.7005986908310777?cr=-.0005630875641286038:e[5]>3.5694334999727624?e[19]>1e-35?cr=.03322386202318951:cr=-.01687696637036405:cr=-.10533305728771972:cr=-.0004901077590279651:cr=-.05758869249681345;let Zt;e[57]>1e-35?Zt=-.043478488738181505:e[53]>1e-35?Zt=-.05188532777589009:e[11]>1e-35?e[156]>1e-35?Zt=-.01733439245316815:e[58]>1e-35?Zt=-.03508850349398082:e[134]>1e-35?e[38]>1e-35?e[3]>3.156774023138548?Zt=-.02641618586067251:Zt=.0053883499998111746:Zt=-.04111067521339709:e[46]>1e-35?Zt=-.03960880739147387:e[56]>1e-35?Zt=.02833430038101972:e[3]>4.548585836935273?Zt=-.028156779064728323:Zt=-.0006287807275955149:e[105]>1e-35?Zt=-.018589321466431944:e[187]>1e-35?e[30]>1e-35?Zt=.021938681282791916:Zt=-.016917430307970042:e[7]>.015258684697466883?e[132]>1e-35?Zt=.026815659384164206:e[204]>1e-35?e[7]>.992067132663463?Zt=-.010565408217521758:e[7]>.9738681190948303?e[9]>1e-35?e[30]>1e-35?Zt=.09345774314045512:Zt=-.003460687191126055:Zt=.009778848673591349:Zt=.006207652194161698:e[134]>1e-35?e[14]>1e-35?Zt=.026940863472122597:Zt=.004032635910042969:e[16]>1e-35?e[156]>1e-35?Zt=-.014571620220052964:e[219]>1e-35?Zt=.03394257525872151:e[189]>1e-35?Zt=-.16441255476933125:Zt=.006890416623408193:e[7]>.5866799179067689?e[156]>1e-35?e[9]>1e-35?Zt=-.002374233797129139:Zt=.015343494638416642:Zt=.0007085956801478842:Zt=-.0014226167854637043:Zt=-.014931890774210171;let ur;e[52]>1e-35?ur=-.040552145534119004:e[88]>1e-35?ur=-.11616238297789526:e[147]>1e-35?e[21]>1e-35?ur=.08405882357263977:ur=-.028120036866471673:e[89]>1e-35?ur=.013417411709807947:e[138]>1e-35?e[25]>1e-35?ur=-.03104795267483152:e[8]>1e-35?ur=-.013793892541819341:ur=.007067793368543704:e[3]>4.212100162283537?e[37]>1e-35?ur=-.04169781427571004:e[59]>1e-35?ur=.039366779099462186:e[190]>1e-35?ur=-.0746572875957972:ur=-.0046665287028623895:e[31]>1e-35?e[3]>3.3497501700808394?ur=-.015043885860062665:ur=.04427790295514171:e[127]>1e-35?ur=-.09222397003880911:e[188]>1e-35?ur=-.11791399942046604:e[116]>1e-35?ur=-.022670774074606673:e[21]>1e-35?e[118]>1e-35?ur=-.08590814127371893:ur=-.009079159755287763:e[10]>1e-35?e[153]>1e-35?e[7]>.12025037553499339?ur=-.010834658570263708:ur=-.06942979142484561:e[59]>1e-35?ur=-.0368654965105411:e[186]>1e-35?ur=-.13585047638050318:ur=-.001475385731000911:e[11]>1e-35?e[47]>1e-35?ur=-.07021793045868131:e[58]>1e-35?ur=-.03264322466138671:e[153]>1e-35?e[7]>.4982752029697964?ur=-.000719771928860618:ur=-.02550581685370434:ur=-.001300530189452872:e[216]>1e-35?ur=-.04553949138490546:ur=.0013445292966782988;let be;e[152]>1e-35?be=.005642349825665321:e[108]>1e-35?e[1]>1e-35?be=.012759171568581189:be=-.0015650437871311187:e[102]>1e-35?be=.012533880283367552:e[10]>1e-35?e[4]>1.4978661367769956?e[7]>.9888588760569341?be=.007453521083396632:be=-.0036225862281260785:e[3]>.8958797346140276?be=-.0027177080775155366:e[5]>5.782284349061034?be=-.04454373321655838:be=.021964247026786614:e[11]>1e-35?e[47]>1e-35?be=-.06196070580382676:e[121]>1e-35?e[1]>1e-35?be=-.06122312462911518:e[7]>.3847172300624272?be=.03518239795956787:e[3]>2.4414009612931857?be=.006811972713764457:be=-.0933556055347465:e[5]>4.938058177869999?be=-.004012086267764631:be=.01930669434547199:e[5]>6.0051201133541365?e[27]>1e-35?be=-.012304580143719986:be=.0013650712455989071:e[3]>2.802901033147999?be=-.0083470520183599:e[7]>.5811983411966435?e[7]>.990877425524446?e[219]>1e-35?e[3]>1e-35?be=.06211865200552023:e[17]>1e-35?be=.06775644666502018:be=-.06866304616688222:e[217]>1e-35?be=.059656960273077646:be=-.004328630560280456:e[204]>1e-35?e[4]>2.249904835165133?be=.006371564018556469:e[3]>2.138333059508028?be=.09486061534469152:be=-.09409330595635478:e[4]>2.602003343538398?be=.011308844028341723:e[100]>1e-35?be=.0439316487073224:be=-.003403233436702135:be=-.00960652384005499;let M;e[144]>1e-35?e[18]>1e-35?M=.07197995497453837:e[1]>1e-35?M=-.001274320993832369:M=-.040032546534329444:e[52]>1e-35?e[18]>1e-35?M=.09098124993319018:M=-.04537404774072243:e[40]>1e-35?M=-.02515534903180516:e[53]>1e-35?M=-.04736675675905027:e[178]>1e-35?M=-.021374380471858013:e[55]>1e-35?M=-.04240162360893064:e[51]>1e-35?e[18]>1e-35?M=.07999652271774131:M=-.036649228565504045:e[109]>1e-35?M=.009067075019741765:e[54]>1e-35?e[1]>1e-35?M=.019160818735605257:M=-.05967997790089002:e[35]>1e-35?M=-.043420689526233285:e[173]>1e-35?M=-.027561163630755333:e[190]>1e-35?M=-.016370101115869642:e[14]>1e-35?e[217]>1e-35?M=-.019735056448517897:e[141]>1e-35?M=-.028090004807030017:M=.006865378253320941:e[139]>1e-35?e[1]>1e-35?M=-.032389864623829076:M=.005458607214221278:e[60]>1e-35?M=-.019089857559617188:e[153]>1e-35?e[18]>1e-35?M=.015189336996079859:e[19]>1e-35?M=.013745154147527805:e[1]>1e-35?M=-.005284271350108698:M=-.0374184512092477:e[18]>1e-35?e[99]>1e-35?M=-.0595395395199616:e[100]>1e-35?M=-.09991342902311327:M=-.0042488091801234805:M=.0006682804828197052;let de;e[46]>1e-35?de=-.012191380765172536:e[88]>1e-35?de=-.10266216005056819:e[91]>1e-35?de=-.018445844031974568:e[50]>1e-35?de=-.027431707051961525:e[144]>1e-35?e[7]>.9945060383544003?de=.03614842925379388:de=-.02095650990295711:e[4]>2.4414009612931857?e[123]>1e-35?e[3]>3.0201273556387074?de=-.01053451990903616:de=-.05114195197878968:e[16]>1e-35?de=.007316468830803533:e[9]>1e-35?de=.003316750172048933:de=860911526134492e-20:e[141]>1e-35?e[3]>1e-35?de=-.02547358042212171:de=.019472890771357998:e[186]>1e-35?de=-.09288424685816356:e[41]>1e-35?de=-.1310231930206974:e[42]>1e-35?de=-.056216247465863484:e[29]>1e-35?e[5]>3.5694334999727624?e[134]>1e-35?de=-.054747915129536466:e[1]>1e-35?e[131]>1e-35?de=-.16815706432319097:de=-.002818043413853223:de=-.041951940639575136:e[7]>.960816451500545?e[219]>1e-35?de=.10052885656939581:de=-.11599835225683999:de=.029922858316313545:e[101]>1e-35?e[5]>7.429817490674132?de=-.06576516230122952:de=-.0008540865426696243:e[210]>1e-35?e[114]>1e-35?de=.013062456952379193:e[7]>.7267616382562012?de=.0022613700798703854:de=-.03938763940013096:e[59]>1e-35?e[12]>1e-35?de=.008501036224046256:de=-.06542467236134167:de=.002585754319607976;let ye;e[28]>1e-35?ye=.008779900390406317:e[7]>.9880960409521241?e[8]>1e-35?ye=-.008991654120695218:e[3]>1e-35?e[140]>1e-35?ye=-.02731072195122447:ye=.002008744895602654:e[217]>1e-35?ye=.02359361264236281:ye=.007024522001417586:e[2]>2.138333059508028?e[3]>2.4414009612931857?e[125]>1e-35?ye=-.04199133736767654:e[47]>1e-35?ye=-.027561033349225085:e[3]>4.085941003063911?e[12]>1e-35?ye=.007807873722550442:e[152]>1e-35?ye=.030689318204494505:e[137]>1e-35?ye=.06699720359975746:ye=-.010441301216813357:e[118]>1e-35?ye=-.03153852460438172:e[48]>1e-35?ye=-.03440026517387997:ye=.0015296602873888215:e[0]>1e-35?e[2]>6.607325405747152?ye=-.027110120892630915:e[153]>1e-35?ye=-.017016088064422574:ye=-.005723165911539293:e[187]>1e-35?ye=-.031718114891806884:ye=-.0005272212291525389:e[0]>1e-35?e[2]>.8958797346140276?e[46]>1e-35?ye=-.09171631422683799:ye=.003327268948098216:e[3]>2.3502401828962087?e[125]>1e-35?ye=-.5887915327321841:e[2]>1e-35?ye=-.006637502258168407:ye=-.08424468641004934:e[125]>1e-35?ye=-.06617256968162606:ye=.028846174454930092:e[2]>1.2424533248940002?e[15]>1e-35?ye=-.016616715415331784:ye=.002680237807803091:e[3]>1e-35?ye=-.0012589163812412535:ye=-.015154395987664649;let Y;e[6]>9.286096980078398?e[4]>2.970085626360216?Y=-.001155963563974424:Y=-.011949331884445141:e[6]>6.3071868642287745?e[2]>5.150393035655617?Y=-.0033183579364470086:e[11]>1e-35?Y=-.0018887492076874403:e[169]>1e-35?Y=-.09486398911649394:Y=.0025252552927441433:e[4]>3.0677824455408698?e[7]>.09963982551990838?e[141]>1e-35?e[6]>3.314020688089767?Y=.012137569190879735:Y=.09584425242224671:e[8]>1e-35?e[7]>.987306237235768?e[2]>.8958797346140276?Y=-.020817404206469048:Y=-.06464699261956137:Y=-.008121005894366425:Y=-.002273798477153842:e[4]>3.5114340430413216?Y=-.024199637055494112:Y=-.0044500308011184275:e[12]>1e-35?Y=-.00483411782477681:e[5]>3.156774023138548?e[8]>1e-35?e[5]>3.772694874805912?e[6]>3.795426061844291?Y=.0013628724281773107:Y=-.04205266437322089:e[141]>1e-35?e[4]>2.861792550976191?e[5]>3.417592293073651?Y=-.15445392240959782:e[2]>2.970085626360216?Y=-.5683130345409004:Y=-1.2639522532467855:Y=-.12861577169349267:Y=-.08527127841498366:e[4]>2.4414009612931857?e[7]>.29163353806150266?Y=.003881870206848933:Y=.01474849027472377:e[18]>1e-35?e[219]>1e-35?Y=-.07387984252991263:Y=-.013089382916580447:Y=-.0008129634296833813:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Y=.019943967048858428:Y=-.04278248600927625:e[17]>1e-35?Y=-.11809979934412335:Y=.03777084692378827;let L;e[57]>1e-35?L=-.03805766278012468:e[6]>9.286096980078398?e[2]>3.725620842493839?L=-.010152097691926694:L=-.000726856757223527:e[25]>1e-35?e[4]>2.917405368531303?e[6]>4.226807104886684?e[5]>8.866229029069968?L=.016965184252348844:L=-.027524673351863413:L=-.09999982742666325:e[219]>1e-35?L=-.11642840619184194:e[6]>3.1984648276080736?L=.02202934385365115:L=-.0758508504188626:e[17]>1e-35?e[5]>3.276966702012906?e[3]>2.861792550976191?e[38]>1e-35?L=.03529859841404316:L=-.005442656204983076:L=.013832633319757828:L=-.07099090377505678:e[40]>1e-35?e[12]>1e-35?L=.020780509349314687:L=-.0412229778697227:e[178]>1e-35?e[6]>4.832297822126891?L=-.012751356404573045:L=-.07365946414911166:e[6]>1e-35?e[91]>1e-35?L=-.018973855754862178:e[31]>1e-35?e[3]>3.3497501700808394?L=-.019342018507399077:L=.04336755184633714:e[52]>1e-35?L=-.034601279556920723:e[53]>1e-35?L=-.04570921257037347:e[4]>2.4414009612931857?e[22]>1e-35?L=-.009909029766665835:e[88]>1e-35?L=-.13759996623650647:L=.0010774168904012999:e[90]>1e-35?L=-.09942790916464699:e[5]>8.17933999189099?L=-.006237804261380787:e[154]>1e-35?L=-.02869365685254793:e[41]>1e-35?L=-.11951308633255478:L=.0005720279396045617:L=-.05091927304878396;let Ie;e[2]>8.18910569469239?Ie=-.011281718118735835:e[2]>8.136957041085973?Ie=.007639929297282146:e[2]>6.178980383851587?Ie=-.006867711027875817:e[6]>4.5379471377116305?e[125]>1e-35?e[3]>1e-35?Ie=-.026657037414316055:Ie=.03822052894720058:e[89]>1e-35?Ie=.01442240494610187:Ie=.0005482931472826037:e[3]>2.970085626360216?e[8]>1e-35?Ie=-.04157937378268839:e[25]>1e-35?Ie=-.07438346384769444:Ie=-.007688780027797844:e[113]>1e-35?e[24]>1e-35?Ie=.10208422768618285:Ie=-.0025376848550412623:e[24]>1e-35?e[209]>1e-35?e[7]>.9738681190948303?Ie=-.18081467351794253:Ie=.06403272706376394:Ie=-.006045919721112658:e[100]>1e-35?e[3]>1.4978661367769956?Ie=-.034372452343283254:e[3]>1.2424533248940002?Ie=.10087241747333926:Ie=-.06270133551905664:e[12]>1e-35?e[209]>1e-35?Ie=.02872327658284419:Ie=-.012940407270969699:e[5]>3.276966702012906?e[8]>1e-35?Ie=-.02165149142042258:e[3]>2.249904835165133?Ie=.011522668417532612:Ie=-.005129494488342788:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Ie=.018894357520732635:Ie=-.03443967069634786:e[19]>1e-35?e[0]>1e-35?Ie=.0868126244943877:e[2]>1.4978661367769956?e[194]>1e-35?Ie=-.16834554324370338:Ie=.08799302490518951:Ie=.007907573815540844:e[17]>1e-35?Ie=-.07843101628051594:Ie=.04322926522720053;let Me;e[7]>.987306237235768?e[8]>1e-35?e[5]>6.285066127789834?Me=6536595256810364e-20:e[153]>1e-35?Me=-.07687008855803332:Me=-.015088524832702519:e[18]>1e-35?Me=-.012556097563484098:e[217]>1e-35?e[5]>8.28387302567733?Me=-.004574660978375117:Me=.02566519458840368:Me=.003837771337656032:e[28]>1e-35?e[194]>1e-35?e[29]>1e-35?e[5]>3.979637980058199?Me=.04675774128546983:Me=-.16922871147253024:e[5]>5.821564412917691?Me=.017788548280824237:Me=.101599048954043:e[5]>4.424828703319957?Me=.009470487487627452:Me=-.046977132290520585:e[95]>1e-35?Me=.008579165333164537:e[204]>1e-35?e[7]>.9782662069407232?e[9]>1e-35?Me=.0717824359443052:Me=.01776258010455891:Me=.003970948558978321:e[208]>1e-35?e[1]>1e-35?Me=.012428835257375037:e[18]>1e-35?Me=-.08152843296689005:Me=-.0059907248803252305:e[109]>1e-35?Me=.008117980905290326:e[89]>1e-35?e[1]>1e-35?Me=-.08097766993639294:Me=.014258345453663996:e[62]>1e-35?Me=.025185598552042956:e[213]>1e-35?Me=.01261362855232781:e[138]>1e-35?e[1]>1e-35?e[29]>1e-35?Me=.004355449069502461:Me=-.03327693117307522:e[29]>1e-35?Me=-.024228224306581475:e[5]>5.244385543610066?Me=.01690188327986934:Me=-.02426164440751183:Me=-.0016932467092565535;let Ct;e[116]>1e-35?Ct=-.018106356667092538:e[24]>1e-35?e[113]>1e-35?e[5]>4.658699722134796?Ct=-.0289267666661116:Ct=.10225466717059267:e[5]>3.979637980058199?Ct=.007715497036238576:e[209]>1e-35?Ct=-.1596622066794057:Ct=-.02153459011172981:e[46]>1e-35?e[18]>1e-35?Ct=.044010040060630896:Ct=-.018791912393741998:e[39]>1e-35?Ct=-.008648992983623099:e[3]>4.993822430271426?Ct=-.01442291433054286:e[158]>1e-35?Ct=.023944934429097977:e[21]>1e-35?Ct=-.008731676115726167:e[51]>1e-35?e[18]>1e-35?Ct=.07015276907667169:Ct=-.03981801316250594:e[152]>1e-35?e[12]>1e-35?e[7]>.9811887196001154?Ct=.025342984951627335:e[56]>1e-35?Ct=-.039652717595259894:Ct=-.003499774006708361:e[4]>3.676220550121792?Ct=.026612369959601385:e[0]>1e-35?e[2]>2.012675845367575?Ct=.012259156005894655:Ct=.04466570041636591:Ct=.002369030228609974:e[50]>1e-35?Ct=-.02625338435100237:e[198]>1e-35?e[5]>3.156774023138548?e[4]>2.602003343538398?Ct=.004706524615587467:Ct=.03172381727140614:Ct=-.08877100979833137:e[19]>1e-35?e[156]>1e-35?Ct=.047690620764284854:Ct=.004980692597287184:e[188]>1e-35?Ct=-.10330323519600788:e[108]>1e-35?Ct=.006389080836282864:e[217]>1e-35?Ct=.0034861135133741716:Ct=-.0005184951270632008;let Ut;e[150]>1e-35?Ut=-.03083355660591381:e[6]>8.681774988134558?e[0]>1e-35?Ut=.0032708551521722813:e[3]>2.970085626360216?Ut=-.0008773771112515323:Ut=-.008194765714031488:e[1]>1e-35?e[42]>1e-35?Ut=-.0544661644610188:e[114]>1e-35?Ut=.014743200719322279:e[25]>1e-35?Ut=-.03415156332118204:e[121]>1e-35?e[0]>1e-35?Ut=-.012241568524042012:Ut=-.08332027167107449:e[119]>1e-35?Ut=.02487058944439717:e[210]>1e-35?e[4]>2.602003343538398?Ut=.003409540133128587:e[7]>.985694415330804?Ut=.014360134818665793:Ut=-.029939754177999198:e[140]>1e-35?e[30]>1e-35?Ut=-.07017324311241228:Ut=-.00954038893956995:e[32]>1e-35?Ut=-.0321895511220355:Ut=.0018389054792352236:e[3]>.8958797346140276?e[138]>1e-35?Ut=.014210083256713822:e[3]>2.970085626360216?e[56]>1e-35?Ut=.03179391063657913:e[132]>1e-35?Ut=.044860161753142676:e[122]>1e-35?Ut=.056053352587009365:e[44]>1e-35?Ut=.011126140459263092:e[217]>1e-35?Ut=.015177735064648389:e[30]>1e-35?Ut=.00292550151642784:e[0]>1e-35?Ut=-.01370614277688821:Ut=-.00467240699644943:e[30]>1e-35?e[17]>1e-35?Ut=.06455607454604466:Ut=-.018525791968354337:e[127]>1e-35?Ut=.058525937257934674:Ut=.004550050432870272:Ut=-.024273015893662056;let Pt;e[57]>1e-35?Pt=-.03433295479723807:e[35]>1e-35?Pt=-.039185287251387806:e[2]>8.18910569469239?Pt=-.01005594457537474:e[2]>8.136957041085973?Pt=.006899889609485921:e[2]>5.6542404955442525?e[156]>1e-35?Pt=-.021428903659715646:Pt=-.003794036359277691:e[6]>4.3882378946731615?e[125]>1e-35?Pt=-.012625422706971806:e[0]>1e-35?e[2]>.8958797346140276?e[32]>1e-35?Pt=.024078606665492636:e[6]>6.9309832857755405?e[2]>2.012675845367575?Pt=.00015676395930232578:Pt=.008324926956588046:Pt=-.0031526636810443134:e[156]>1e-35?Pt=.053603289446623514:e[6]>5.912149824839399?Pt=.022861200347258755:e[128]>1e-35?e[9]>1e-35?Pt=-.44322676747225076:Pt=-.07989645752877887:Pt=.005736631305989689:e[6]>9.286096980078398?Pt=-.005302861539231229:e[133]>1e-35?Pt=-.011410750972764748:e[2]>1e-35?e[139]>1e-35?Pt=-.01695599188677891:e[12]>1e-35?e[129]>1e-35?Pt=-.029257180272820173:e[106]>1e-35?Pt=.03593102425808264:e[59]>1e-35?Pt=.03336711951593411:e[114]>1e-35?Pt=.021293721644930708:Pt=.0031644417228525465:e[140]>1e-35?e[2]>2.802901033147999?Pt=.005338088459754211:Pt=-.018863893195455395:e[59]>1e-35?e[20]>1e-35?Pt=-.2145461556048109:Pt=-.013833058686928565:Pt=.0010745795613665528:Pt=-.003974960846380726:Pt=-.004018386137909663;let rr;e[55]>1e-35?rr=-.038436881673730244:e[49]>1e-35?e[1]>1e-35?rr=.013340924551504776:rr=-.04038081752369706:e[135]>1e-35?e[17]>1e-35?rr=.02160784630817418:e[6]>4.722943345003718?e[2]>3.9981586158983733?rr=-.012347824466576033:rr=-.000545766507983511:e[4]>3.0201273556387074?e[2]>1e-35?rr=-.0252070573488502:rr=-.13173630032620282:rr=.009893647988200364:e[6]>1e-35?e[73]>1e-35?rr=-.05384174968342247:e[52]>1e-35?e[1]>1e-35?rr=.02326718288961822:rr=-.04799167043714381:e[7]>.8453853180651066?e[4]>3.481121732133104?e[12]>1e-35?e[59]>1e-35?rr=.061286381265316374:e[3]>3.481121732133104?rr=.005424469650470853:e[6]>4.310776603370241?rr=.014609485744972962:rr=.06126754321077295:e[156]>1e-35?e[2]>8.898092196194755?rr=-.2427431056579565:rr=.018014774163852717:rr=.0018695162213364096:e[61]>1e-35?rr=-.07802947082997094:e[45]>1e-35?rr=-.024426413301391545:e[140]>1e-35?e[4]>.8958797346140276?rr=-.021126260874271455:e[6]>4.03420147928485?rr=-.08415757514826445:e[3]>1e-35?rr=.10708927158160722:rr=-.24178647896179492:rr=.0008522369825914582:e[218]>1e-35?rr=.02373187641553724:e[57]>1e-35?rr=-.04729470896114382:e[6]>4.135134555718313?rr=-.00014270136560779048:rr=-.007024429214918294:rr=-.08338039048086893;let or;e[72]>1e-35?or=.056415744834310104:e[102]>1e-35?or=.010312560108512227:e[109]>1e-35?or=.007457767681676636:e[208]>1e-35?e[4]>3.0677824455408698?e[18]>1e-35?or=-.06595581480202953:or=.0010087955639505731:or=.010976237400105874:e[4]>2.4414009612931857?e[123]>1e-35?e[2]>4.5900436644025815?or=-.05474288807524913:or=-.010369052951168002:e[47]>1e-35?e[18]>1e-35?or=.06670108938458437:e[20]>1e-35?or=.08555144132474565:or=-.021968528557862133:e[48]>1e-35?e[18]>1e-35?or=.06392608504748652:or=-.02321056177872842:e[54]>1e-35?or=-.03592967725793262:e[6]>5.519456907163478?or=.0008682946366782881:e[133]>1e-35?or=-.029370515479889298:e[4]>3.0201273556387074?or=-.004567764283497172:e[12]>1e-35?or=-.008355751724201374:e[113]>1e-35?or=.04158028065835193:or=.005544170962219649:e[141]>1e-35?or=-.01706283616408152:e[186]>1e-35?or=-.08075713781164345:e[196]>1e-35?e[4]>2.012675845367575?or=-.004591551989937031:e[4]>.8958797346140276?e[18]>1e-35?or=-.1239344826496822:or=.026355647530608275:or=-.07955511774996737:e[41]>1e-35?or=-.10181506412232362:e[42]>1e-35?or=-.0453542732395041:e[116]>1e-35?or=-.040407946567398226:e[158]>1e-35?or=.027239009428531448:or=-.002118967070037752;let Mt;e[174]>1e-35?Mt=-.02339144841300339:e[173]>1e-35?Mt=-.02466576607302462:e[60]>1e-35?Mt=-.014400177078045:e[187]>1e-35?Mt=-.009580909976967153:e[6]>8.681774988134558?Mt=-.0018832004566674773:e[1]>1e-35?e[42]>1e-35?e[10]>1e-35?Mt=-.13287881120130746:Mt=-.03759084751116859:e[25]>1e-35?Mt=-.029737667621816583:e[119]>1e-35?Mt=.022639692376110337:e[98]>1e-35?Mt=.014991063146855506:e[195]>1e-35?e[6]>3.417592293073651?Mt=.008961268500787772:Mt=-.023240187732927162:e[61]>1e-35?e[7]>.428769371249852?Mt=-.08413653233956772:Mt=.0010489731231787087:e[140]>1e-35?e[3]>.8958797346140276?e[5]>4.855921334140645?e[44]>1e-35?Mt=-.009299863216357543:Mt=-.0613782065666655:Mt=-.06705655672927394:e[5]>3.772694874805912?Mt=.0008635593500817348:Mt=.08361268069705163:Mt=.001087642897550713:e[98]>1e-35?Mt=-.021712258264119783:e[3]>.8958797346140276?e[105]>1e-35?Mt=-.039681509263849626:e[195]>1e-35?e[18]>1e-35?Mt=-.07079074829049314:Mt=-.008109353986158243:e[210]>1e-35?e[18]>1e-35?Mt=-.10610285355896108:Mt=-.009292320249100847:e[157]>1e-35?Mt=.03507595269407085:e[97]>1e-35?Mt=.0249669535461336:e[48]>1e-35?Mt=-.027595291123779366:Mt=.0011643902717306173:Mt=-.0211420439263067;let vt;e[138]>1e-35?e[1]>1e-35?e[42]>1e-35?e[3]>3.5114340430413216?vt=-.022448598781455772:vt=-.07031164685918086:e[2]>1e-35?e[2]>2.740319461670996?vt=.00894455632762117:vt=-.003454709734759444:e[0]>1e-35?vt=.060858110677215166:vt=-.03435493609374257:e[3]>2.602003343538398?e[2]>.8958797346140276?vt=.0168978378983998:vt=-.009237748165804088:vt=-.016931758267026403:e[3]>4.424828703319957?vt=-.005659352703826067:e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?vt=-.023722482692479133:vt=.10064484300766507:e[6]>4.03420147928485?vt=.007526717802235146:e[209]>1e-35?e[4]>2.970085626360216?vt=.11711852031495243:vt=-.15067622815741855:vt=-.011085192149895408:e[108]>1e-35?vt=.0059255171206349135:e[19]>1e-35?e[156]>1e-35?vt=.04454460743043898:e[37]>1e-35?vt=-.14161163738926447:e[4]>1.4978661367769956?e[4]>1.7005986908310777?e[217]>1e-35?vt=-.020705364221039385:vt=.006460529078997639:e[0]>1e-35?e[98]>1e-35?vt=.10347448218504114:vt=-.04090123141769794:e[6]>5.636572136251498?vt=-.001212671493834005:e[2]>1.8688348091416842?vt=-.15821279618670178:vt=-.03563734739460456:vt=.027924859655082585:e[57]>1e-35?vt=-.03743904649648422:e[35]>1e-35?vt=-.0414066369468363:e[46]>1e-35?vt=-.011240341460759123:vt=-.0003091959047563666;let ar;e[14]>1e-35?e[5]>7.841296344941067?e[141]>1e-35?ar=-.04382809259971909:e[217]>1e-35?e[4]>3.417592293073651?ar=-.05008164665262682:ar=.0007032387608254502:e[190]>1e-35?ar=-.19371592847895003:ar=.0017489801221668277:e[129]>1e-35?ar=-.24591656603456258:ar=.011026730387591234:e[72]>1e-35?ar=.05658163433406649:e[90]>1e-35?e[4]>3.5114340430413216?ar=.017141361021852975:e[28]>1e-35?ar=.07243997319099477:ar=-.08677988948169385:e[138]>1e-35?ar=.0038201430289573884:e[23]>1e-35?e[4]>2.917405368531303?ar=.014990462643385919:ar=-.013592080985068531:e[217]>1e-35?e[4]>1.8688348091416842?ar=.0022421195021632245:e[4]>1.2424533248940002?ar=.03891295508085918:e[4]>.8958797346140276?ar=-.08902318396862074:ar=.02476911275463073:e[2]>3.1132683346437333?e[29]>1e-35?e[19]>1e-35?ar=.023731839695418987:e[5]>7.366761104104307?e[4]>3.417592293073651?e[6]>6.633975895571033?e[8]>1e-35?ar=.016171629088047517:e[134]>1e-35?ar=.03196373735768742:ar=-.006820341969572339:ar=-.02712238491085242:ar=-.016309188486296804:ar=-.0019386576944297078:e[156]>1e-35?ar=-.03079416196682616:e[123]>1e-35?ar=-.020888866054988395:e[4]>3.238486181444842?ar=-.0027078359220281674:e[141]>1e-35?ar=-.029581214969996845:ar=.002299670778244013:ar=.0001804027795430786;let Do=g0t(t+r+n+i+s+a+l+c+u+f+m+h+p+A+E+x+b+v+S+B+P+F+G+re+pe+Z+W+q+se+ne+H+O+j+J+le+ee+ae+ce+Re+ve+Ue+ke+Je+ft+ot+at+ie+Pe+Ae+We+z+te+Ne+Se+Ce+Oe+Ve+Ze+yt+Rt+At+Ht+$t+ir+ge+Le+Ke+et+St+xt+Nt+Qt+Tt+_t+wt+Ot+Wt+zt+lr+hr+sr+cr+Zt+ur+be+M+de+ye+Y+L+Ie+Me+Ct+Ut+Pt+rr+or+Mt+vt+ar);return[1-Do,Do]}o(sxe,"treeScore");function g0t(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(g0t,"sigmoid");var qu=class{static{o(this,"ContextualFilterManager")}constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};function axe(e){let t=e.split(`
`);return t[t.length-1].length}o(axe,"getLastLineLength");function lxe(e,t,r){let n=e.get(qu),i=n.previousLabel,s=0;"afterCursorWhitespace"in t.properties&&t.properties.afterCursorWhitespace==="true"&&(s=1);let a=(Date.now()-n.previousLabelTimestamp)/1e3,l=Math.log(1+a),c=0,u=0,f=r.prefix;if(f){c=Math.log(1+axe(f));let B=f.slice(-1);Lc[B]!==void 0&&(u=Lc[B])}let m=0,h=0,p=f.trimEnd();if(p){m=Math.log(1+axe(p));let B=p.slice(-1);Lc[B]!==void 0&&(h=Lc[B])}let A=0;if("documentLength"in t.measurements){let B=t.measurements.documentLength;A=Math.log(1+B)}let E=0;if("promptEndPos"in t.measurements){let B=t.measurements.promptEndPos;E=Math.log(1+B)}let x=0;if("promptEndPos"in t.measurements&&"documentLength"in t.measurements){let B=t.measurements.documentLength;x=(t.measurements.promptEndPos+.5)/(1+B)}let b=0;LZ[t.properties.languageId]!==void 0&&(b=LZ[t.properties.languageId]);let v=0,S=new Array(221).fill(0);return S[0]=i,S[1]=s,S[2]=l,S[3]=c,S[4]=m,S[5]=A,S[6]=E,S[7]=x,S[8+b]=1,S[29+u]=1,S[125+h]=1,v=sxe(S)[1],e.get(qu).probabilityAccept=v,v}o(lxe,"contextualFilterScore");d();d();d();var VL=class{static{o(this,"Debouncer")}async debounce(t){return this.state&&(clearTimeout(this.state.timer),this.state.reject(),this.state=void 0),new Promise((r,n)=>{this.state={timer:setTimeout(()=>r(),t),reject:n}})}};d();d();var rw=class{constructor(t){this.node=t;this.children=[];this.collapsed=!1}static{o(this,"StatementNode")}addChild(t){t.parent=this,t.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=t),this.children.push(t)}childrenFinished(){}containsStatement(t){return this.node.startIndex<=t.node.startIndex&&this.node.endIndex>=t.node.endIndex}statementAt(t){if(this.node.startIndex>t||this.node.endIndex<t)return;let r;return this.children.find(n=>(r=n.statementAt(t),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(t="",r=""){let n=[`${t}${this.description}`];return this.children.forEach(i=>{n.push(i.dump(`${r}+- `,i.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(t="",r="",n=!1){if(this.parent){let i=this.parent.dumpPath(t,r,!0),s=i.length-i.lastIndexOf(`
`)-1-r.length,a=" ".repeat(s),l=n?`
${r}${a}+- `:"";return i+this.description+l}else{let i=n?`
${r}+- `:"";return t+this.description+i}}},b1=class{constructor(t,r,n,i){this.languageId=t;this.text=r;this.startOffset=n;this.endOffset=i;this.statements=[]}static{o(this,"StatementTree")}static isSupported(t){return ZT.languageIds.has(t)||ew.languageIds.has(t)||tw.languageIds.has(t)}static create(t,r,n,i){if(ZT.languageIds.has(t))return new ZT(t,r,n,i);if(ew.languageIds.has(t))return new ew(t,r,n,i);if(tw.languageIds.has(t))return new tw(t,r,n,i);throw new Error(`Unsupported languageId: ${t}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(t){let r;return this.statements.find(n=>(r=n.statementAt(t),r!==void 0)),r}async build(){let t=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(i=>{let s=this.createNode(i.node);for(;t.length>0&&!t[0].containsStatement(s);)t.shift()?.childrenFinished();t.length>0?t[0].addChild(s):this.addStatement(s),t.unshift(s)}),t.forEach(i=>i.childrenFinished())}addStatement(t){t.parent=void 0,t.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=t),this.statements.push(t)}async parse(){return this.tree||(this.tree=await A1(this.languageId,this.text)),this.tree}getStatementQuery(t){return this.getQuery(t.getLanguage(),this.getStatementQueryText())}getQuery(t,r){return t.query(r)}offsetToPosition(t){let r=this.text.slice(0,t).split(`
`),n=r.length-1,i=r[r.length-1].length;return{row:n,column:i}}dump(t=""){let r=[];return this.statements.forEach((n,i)=>{let s=`[${i}]`,a=" ".repeat(s.length);r.push(n.dump(`${t} ${s} `,`${t} ${a} `))}),r.join(`
`)}},QZ=class e extends rw{static{o(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},ZT=class extends b1{static{o(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(t){return new QZ(t)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},MZ=class e extends rw{static{o(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},ew=class extends b1{static{o(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(t){return new MZ(t)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},OZ=class e extends rw{static{o(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},tw=class extends b1{static{o(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(t){return new OZ(t)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}};var L5=class{constructor(t,r,n){this.languageId=t;this.prefix=r;this.completion=n}static{o(this,"BlockTrimmer")}static isSupported(t){return b1.isSupported(t)}async withParsedStatementTree(t){var n=[];try{let r=r$(n,b1.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await t(r)}catch(i){var s=i,a=!0}finally{n$(n,s,a)}}trimmedCompletion(t){return t===void 0?this.completion:this.completion.substring(0,t)}getStatementAtCursor(t){return t.statementAt(Math.max(this.prefix.length-1,0))??t.statements[0]}getContainingBlockOffset(t){let r;if(t&&this.isCompoundStatement(t))r=t;else if(t){let n=t.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(t){if(!t||!t.nextSibling)return!1;let r=this.asCompletionOffset(t.node.endIndex),n=this.asCompletionOffset(t.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(t){return t===void 0?void 0:t-this.prefix.length}isCompoundStatement(t){return t.isCompoundStatementType||t.children.length>0}},jL=class extends L5{constructor(r,n,i,s=10){super(r,n,i);this.lineLimit=s;let a=[...this.completion.matchAll(/\n/g)];a.length>=this.lineLimit&&this.lineLimit>0?this.offsetLimit=a[this.lineLimit-1].index:this.offsetLimit=void 0}static{o(this,"VerboseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=this.getStatementAtCursor(r),i=this.getContainingBlockOffset(n);return this.isWithinLimit(i)||(i=this.trimToBlankLine(i)),this.isWithinLimit(i)||(i=this.trimToStatement(n,i)),i})}isWithinLimit(r){return this.offsetLimit===void 0||r!==void 0&&r<=this.offsetLimit}trimToBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)].reverse();for(;n.length>0&&!this.isWithinLimit(r);)r=n.pop().index;return r}trimToStatement(r,n){let i=this.prefix.length,s=this.prefix.length+(this.offsetLimit??this.completion.length),a=r,l=r?.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a);)a=l,l=l.nextSibling;return a&&a===r&&a.node.endIndex<=i&&(a=l),a&&a.node.endIndex>s?this.trimToStatement(a.children[0],this.asCompletionOffset(a.node.endIndex)):this.asCompletionOffset(a?.node?.endIndex)??n}},$L=class extends L5{constructor(r,n,i,s=3,a=7){super(r,n,i);this.lineLimit=s;this.lookAhead=a;let l=[...this.completion.matchAll(/\n/g)],c=this.lineLimit+this.lookAhead;l.length>=this.lineLimit&&this.lineLimit>0&&(this.limitOffset=l[this.lineLimit-1].index),l.length>=c&&c>0&&(this.lookAheadOffset=l[c-1].index)}static{o(this,"TerseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=r.statementAt(this.stmtStartPos()),i=this.getContainingBlockOffset(n);return i=this.trimAtFirstBlankLine(i),n&&(i=this.trimAtStatementChange(n,i)),this.limitOffset&&this.lookAheadOffset&&(i===void 0||i>this.lookAheadOffset)?this.limitOffset:i})}stmtStartPos(){let r=this.completion.match(/\S/);return r&&r.index!==void 0?this.prefix.length+r.index:Math.max(this.prefix.length-1,0)}trimAtFirstBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)];for(;n.length>0&&(r===void 0||r>n[0].index);){let i=n.shift();if(this.completion.substring(0,i.index).trim()!=="")return i.index}return r}trimAtStatementChange(r,n){let i=this.prefix.length,s=this.prefix.length+(n??this.completion.length);if(r.node.endIndex>i&&this.isCompoundStatement(r))return r.nextSibling&&r.node.endIndex<s?this.asCompletionOffset(r.node.endIndex):n;let a=r,l=r.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a)&&!this.isCompoundStatement(l);)a=l,l=l.nextSibling;return l&&a.node.endIndex>i&&a.node.endIndex<s?this.asCompletionOffset(a.node.endIndex):n}};async function cxe(e,t){var l=[];try{let r=e.getText();let n=e.offsetAt(t);let i=r$(l,b1.create(e.languageId,r,0,r.length));await i.build();let s=i.statementAt(n);if(!s)return"non-block";if(!s.isCompoundStatementType&&s.children.length===0)return s.parent&&!s.nextSibling&&s.node.endPosition.row<=t.line?"block-end":s.parent?"mid-block":"non-block";if(s.children.length===0)return"empty-block";let a=s.children[s.children.length-1];if(n<a.node.startIndex)return"mid-block";return"block-end"}catch(c){var u=c,f=!0}finally{n$(l,u,f)}}o(cxe,"getBlockPositionType");d();d();function uxe(e){let t;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>427.50000000000006?e[9]>13.500000000000002?e[121]>1e-35?t=-.3793786744885956:e[149]>1e-35?t=-.34717430705356905:t=-.26126834451035963:t=-.2431318366096852:e[5]>888.5000000000001?t=-.20600463586387135:t=-.2568037008471491:e[308]>1e-35?t=-.2363064824497454:e[8]>370.50000000000006?t=-.37470755210284723:t=-.321978453730494:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?t=-.26259136509758885:t=-.3096719634039438:e[4]>30.500000000000004?e[9]>18.500000000000004?t=-.34254903852890883:e[2]>98.50000000000001?t=-.41585250791146294:t=-.3673574858887241:e[9]>6.500000000000001?t=-.31688079287876225:e[31]>1e-35?t=-.29110977864003823:e[308]>1e-35?t=-.3201411739040839:t=-.36874023066055506:e[8]>691.5000000000001?e[82]>1e-35?t=-.41318393149040566:e[133]>1e-35?t=-.3741272613525161:e[32]>1e-35?t=-.4112378041027121:e[227]>1e-35?t=-.37726615155719356:e[10]>3.5000000000000004?t=-.3164502293560397:t=-.2930071546509045:e[9]>13.500000000000002?t=-.277366858539218:e[308]>1e-35?e[4]>10.500000000000002?t=-.30975610686807187:e[4]>1.5000000000000002?t=-.2549142136728043:t=-.3271325650785176:e[127]>1e-35?e[0]>1937.5000000000002?t=-.2533046188098832:t=-.325520883579:t=-.331628896481776;let r;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?e[9]>13.500000000000002?r=.031231253521808708:r=.05380836288014532:e[5]>423.00000000000006?e[8]>114.50000000000001?r=.06751619128429062:r=.09625089153176467:r=.027268163053989804:e[308]>1e-35?r=.060174483556283756:r=-.049062854038919135:e[3]>24.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?r=-.03969241799174589:r=.01086816842550381:e[31]>1e-35?r=-.003284694817583201:e[9]>6.500000000000001?e[4]>30.500000000000004?r=-.04224490699947552:r=-.011834162944360616:e[308]>1e-35?e[32]>1e-35?r=-.13448447971850278:r=-.019569456707046823:e[19]>1e-35?e[9]>1.5000000000000002?r=-.07256260662659254:e[4]>60.50000000000001?r=-.08227503453609311:r=-.020596416747563847:r=-.07396549241564149:e[8]>691.5000000000001?e[82]>1e-35?r=-.10046536995362734:e[133]>1e-35?r=-.06407649822752297:e[225]>1e-35?r=.08035785003303324:e[92]>1e-35?r=.018901360933204676:e[20]>1e-35?r=.05252546973665552:e[8]>2592.5000000000005?r=-.040543705016462955:r=-.011236043818320725:e[9]>17.500000000000004?r=.025560632674895334:e[308]>1e-35?e[0]>1847.5000000000002?r=.03527165701669741:r=-.0071847350825815035:e[127]>1e-35?r=.024373016379595405:e[9]>2.5000000000000004?r=-.0035090719709448288:r=-.03514829488063766;let n;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?n=.03848674861536988:e[5]>423.00000000000006?e[8]>114.50000000000001?e[9]>56.50000000000001?n=-.003764520033319488:n=.06570817919969299:e[4]>61.50000000000001?n=.028346156293069538:n=.0908154644362606:n=.02445594243234816:e[308]>1e-35?e[8]>65.50000000000001?n=.0019305229020073053:n=.09279357295883772:n=-.04458984161917124:e[3]>24.500000000000004?e[23]>1e-35?n=.0027405390271277013:e[4]>29.500000000000004?e[52]>1e-35?n=.044727478132905285:e[115]>1e-35?n=.10245804828855934:e[9]>17.500000000000004?n=-.03353173647469207:e[2]>98.50000000000001?n=-.10048106638102179:n=-.05484231104348874:e[31]>1e-35?n=.016807537467116516:e[9]>6.500000000000001?n=-.012113620535295137:e[4]>8.500000000000002?e[308]>1e-35?n=-.01882594250504289:n=-.05585658862796076:n=.04279591277938338:e[8]>691.5000000000001?e[82]>1e-35?n=-.09262278043707878:e[133]>1e-35?n=-.058454257768893625:e[32]>1e-35?n=-.09769348447126434:e[25]>1e-35?n=-.0725430043727677:e[122]>1e-35?n=-.10047841601578077:n=-.00580671054458958:e[9]>13.500000000000002?n=.021399199032818294:e[308]>1e-35?e[4]>10.500000000000002?n=-.0076376731757173515:n=.03394923033036848:e[127]>1e-35?n=.02070489091204209:n=-.02290162726126496;let i;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?i=.010230295672324606:i=.038540509248742805:e[8]>125.50000000000001?e[1]>49.50000000000001?i=.03086356292895467:i=.057128750867458604:e[5]>888.5000000000001?i=.07861602941396924:i=.030523262699070908:e[308]>1e-35?i=.048236117667577356:e[8]>370.50000000000006?i=-.05642125069212264:i=-.007232836777168195:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?i=.03640661467213915:i=-.005889820723907028:e[31]>1e-35?i=-.0009007166998276938:e[9]>6.500000000000001?i=-.022590340093882378:e[308]>1e-35?e[32]>1e-35?i=-.1215445089091064:i=-.01435612266219722:e[19]>1e-35?e[9]>1.5000000000000002?i=-.061555513040777825:e[4]>60.50000000000001?i=-.07053475504569347:i=-.013733369453963092:i=-.06302097189114152:e[227]>1e-35?i=-.05820440333190048:e[8]>683.5000000000001?e[82]>1e-35?i=-.08466979526809346:e[10]>24.500000000000004?i=-.017092159721119944:e[92]>1e-35?i=.03592901452463749:i=-.00359310519524756:e[5]>1809.5000000000002?e[243]>1e-35?i=-.03963116207386097:e[118]>1e-35?i=-.09483996283536394:e[217]>1e-35?i=-.03394542089519989:e[242]>1e-35?i=-.07985899422287938:i=.019706602160656964:e[9]>12.500000000000002?i=.014072998937735146:i=-.021156294523894684;let s;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?s=.009197756540516563:s=.03458896869535166:e[5]>5082.500000000001?s=.08265545468131008:e[131]>1e-35?s=.0740738432473315:s=.045159136632942756:e[8]>319.50000000000006?s=-.04653401534465376:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?s=-.011400839766681709:s=.11149800187510031:s=-.08683250977599462:s=.08355310136724753:e[4]>23.500000000000004?e[23]>1e-35?e[131]>1e-35?s=.040389083779932555:s=-.009887614274108602:e[52]>1e-35?s=.03705353499757327:e[9]>6.500000000000001?s=-.025401260429257562:e[2]>98.50000000000001?s=-.09237673187534504:s=-.04298556869281803:e[222]>1e-35?s=-.045221965895986184:e[8]>691.5000000000001?e[133]>1e-35?s=-.05435318330148897:e[128]>1e-35?s=-.08672907303184191:e[227]>1e-35?s=-.05568304584186561:e[122]>1e-35?s=-.09623059693538563:e[225]>1e-35?s=.07558331642202279:e[82]>1e-35?s=-.07360566227233566:s=-.005646164647395919:e[242]>1e-35?s=-.08203758341228108:e[9]>13.500000000000002?s=.018726123829696042:e[308]>1e-35?e[4]>10.500000000000002?s=-.011153942154062704:s=.03132858912391067:e[127]>1e-35?s=.021455228822345174:e[23]>1e-35?s=.01959966745346997:s=-.021764790177579325;let a;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>284.50000000000006?e[121]>1e-35?e[18]>1e-35?a=.07547602514276922:a=-.08529678832140396:a=.030314822344598043:e[5]>888.5000000000001?e[4]>61.50000000000001?a=.011143589009415464:a=.0654700456802118:a=.021794712646632755:e[308]>1e-35?a=.04231872551095028:a=-.034381999950549455:e[4]>23.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?a=-.03678981254332261:a=.010518160384496255:e[8]>825.5000000000001?a=-.04506534842082387:e[9]>38.50000000000001?a=.01004983052203438:a=-.030580958620701027:e[39]>1e-35?a=-.12802435021505382:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>6.500000000000001?a=.030426957004611704:a=-.0726407693060581:a=.017395521646964375:e[4]>7.500000000000001?e[0]>93.50000000000001?e[9]>7.500000000000001?a=-.008024349629981291:e[31]>1e-35?a=.01296539930850471:e[308]>1e-35?a=-.012855016509024084:a=-.04564527976851505:a=-.15681420504058596:e[10]>4.500000000000001?e[243]>1e-35?a=-.1012064426380198:a=-.0062808850924854194:a=.030706323726162416:e[9]>13.500000000000002?a=.017081636133736405:e[308]>1e-35?e[4]>10.500000000000002?a=-.009306613091760644:e[4]>1.5000000000000002?a=.03655523200850989:a=-.02671654212893341:e[127]>1e-35?a=.019261510468604387:a=-.017627818570628936;let l;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[308]>1e-35?l=.036100405995889276:l=.011709313297015793:e[0]>119.50000000000001?e[8]>125.50000000000001?l=.03622542297472574:l=.05595579157301536:l=-.02234751038146796:e[8]>319.50000000000006?l=-.040132029478400735:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?l=-.009306153573847916:l=.10058509567064988:l=-.0785668890966017:e[9]>28.500000000000004?l=-.04781977604130416:l=.09753292614937459:e[4]>23.500000000000004?e[131]>1e-35?l=.02372493254975127:e[148]>1e-35?l=.028103095989516644:e[4]>58.50000000000001?e[10]>1e-35?l=-.05000852203469597:l=.02922366846119705:e[23]>1e-35?l=-.0026335076988151292:l=-.03073993752935585:e[222]>1e-35?l=-.03867374428185713:e[32]>1e-35?l=-.07220729365053084:e[39]>1e-35?l=-.11624524614351733:e[8]>691.5000000000001?e[133]>1e-35?l=-.04836360271198036:e[8]>4968.500000000001?l=-.10873681915578029:e[149]>1e-35?l=-.11847484033769298:e[122]>1e-35?l=-.08916172460307559:e[82]>1e-35?l=-.06774726602152634:l=-.0033469147714351327:e[126]>1e-35?l=-.09474445392080015:e[8]>131.50000000000003?e[118]>1e-35?l=-.09002547031023511:l=.015475385187009489:e[25]>1e-35?l=-.08175501232759151:l=-.000429679055394914;let c;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?c=.021942996005324917:c=.042349138084484074:e[308]>1e-35?c=.036507270845732874:c=-.028981850556764995:e[3]>24.500000000000004?e[23]>1e-35?c=.00210930790963475:e[31]>1e-35?c=.006825358293027163:e[9]>6.500000000000001?c=-.013772084269062394:e[308]>1e-35?c=-.008307929099892574:e[19]>1e-35?c=-.027706313312904487:c=-.04891108984170914:e[134]>1e-35?c=-.0605730733844732:e[25]>1e-35?c=-.05347926493253117:e[227]>1e-35?c=-.049415829249003666:e[32]>1e-35?c=-.06807799662179595:e[308]>1e-35?e[4]>10.500000000000002?e[2]>13.500000000000002?c=-.00016302718260794637:c=-.10247095758122947:e[210]>1e-35?c=-.022149002072787024:e[95]>1e-35?c=.15222631630626304:c=.027393884520465712:e[9]>7.500000000000001?e[225]>1e-35?c=.13483346577752245:e[3]>9.500000000000002?e[243]>1e-35?c=-.045352728133789516:e[8]>683.5000000000001?c=.00474372227519902:c=.02635476098707525:e[92]>1e-35?c=.05659380819933452:e[105]>1e-35?c=.07431443210341222:e[186]>1e-35?c=.0915821133384904:c=-.016414750130401053:e[127]>1e-35?c=.011824693641866162:e[23]>1e-35?c=.0228468674288774:e[284]>1e-35?c=.06606936863302432:c=-.02872463273902358;let u;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>125.50000000000001?e[288]>1e-35?u=-.019844363904157558:e[1]>50.50000000000001?e[131]>1e-35?u=.044961338592245194:u=.003659599513761676:e[121]>1e-35?u=-.04057103630479994:u=.03158560697078578:e[0]>421.50000000000006?e[4]>61.50000000000001?u=-.0003708603406529278:u=.05331312264472391:u=.0006575958601218936:e[8]>319.50000000000006?u=-.034654694051901545:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?u=-.0076053515916517005:u=.09116695486305336:u=-.07137458699162028:u=.06633130654035282:e[4]>29.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?u=-.0308520802187302:u=.013156423968295541:e[115]>1e-35?u=.11581171687488252:e[52]>1e-35?e[10]>22.500000000000004?u=.12264179915175587:u=-.021905727233873535:e[8]>799.5000000000001?u=-.04181869575935412:u=-.023695901673350575:e[222]>1e-35?u=-.034612899265371776:e[8]>691.5000000000001?e[9]>98.50000000000001?u=-.06892116536821917:e[149]>1e-35?u=-.11194586444154514:e[133]>1e-35?u=-.04269583234000504:e[128]>1e-35?u=-.0644631966969502:e[8]>4968.500000000001?u=-.09650726096330133:u=-.004219129180139438:e[126]>1e-35?u=-.08038306745347751:e[5]>1809.5000000000002?u=.009265335288169993:e[9]>2.5000000000000004?u=.006447645462117438:u=-.021047132609551503;let f;e[13]>1e-35?e[3]>1.5000000000000002?e[9]>21.500000000000004?e[121]>1e-35?f=-.08436540015142402:e[8]>1861.5000000000002?f=-.01621425699342421:f=.01878613821895428:f=.031052879158242532:e[8]>319.50000000000006?f=-.031536619360997865:e[7]>3.5000000000000004?f=-.004510586962343298:f=.0596524941011746:e[4]>18.500000000000004?e[23]>1e-35?f=.004757490541310808:e[9]>6.500000000000001?f=-.008842393772207996:e[31]>1e-35?f=.0010536183837006993:e[308]>1e-35?f=-.008145882815435419:e[2]>98.50000000000001?f=-.08404937622173021:e[276]>1e-35?f=.0020072791321856663:e[19]>1e-35?f=-.023031820639490178:f=-.04553314326377875:e[8]>2134.5000000000005?f=-.02244583113572251:e[134]>1e-35?f=-.05592137394753121:e[308]>1e-35?e[49]>1e-35?f=.09989109704064947:e[4]>10.500000000000002?e[2]>13.500000000000002?f=-.00447733056482096:f=-.10191061664873849:f=.021765308380331864:e[9]>7.500000000000001?e[118]>1e-35?f=-.07570059131536411:e[243]>1e-35?f=-.040983393346598646:e[3]>9.500000000000002?f=.014763759061483812:e[92]>1e-35?f=.05136368898963024:f=-.008162398981149495:e[127]>1e-35?f=.013999119696708346:e[23]>1e-35?e[20]>1e-35?f=.14138985500120907:f=.008668274102844162:e[284]>1e-35?f=.06356484011042893:f=-.024781304572706303;let m;e[13]>1e-35?e[3]>8.500000000000002?e[8]>892.5000000000001?e[0]>384.50000000000006?m=.014387526569215037:e[8]>2266.5000000000005?m=-.1397298649743087:m=.007953931014097788:e[0]>119.50000000000001?e[4]>61.50000000000001?m=.0029819092211896296:e[218]>1e-35?m=.08450459375645737:m=.031646488019280654:m=-.03544960151460596:e[9]>9.500000000000002?m=-.026002317735915183:e[7]>1.5000000000000002?m=.005074258810794793:m=.0745247650477651:e[4]>29.500000000000004?e[131]>1e-35?m=.023269218675640847:e[148]>1e-35?m=.03812942399144545:e[115]>1e-35?m=.10512283476967227:m=-.02607307479736138:e[227]>1e-35?m=-.036576708299046294:e[101]>1e-35?m=.027948683650881864:e[149]>1e-35?m=-.08195628451594297:e[50]>1e-35?m=-.16997544922278504:e[8]>691.5000000000001?e[9]>101.50000000000001?m=-.06860333850762075:e[225]>1e-35?m=.06066641950951723:e[10]>22.500000000000004?e[1]>29.500000000000004?e[127]>1e-35?m=.028599705845427533:m=-.010746719511640914:e[0]>4877.500000000001?m=-.07251187886096228:m=-.021299712241446785:e[118]>1e-35?m=-.11902023760964736:m=15874469526809387e-21:e[8]>267.50000000000006?m=.01317292185402293:e[148]>1e-35?e[9]>20.500000000000004?m=.09614842415142123:m=.006049073167176467:e[189]>1e-35?m=.05562696451900713:m=-.006257541923837303;let h;e[13]>1e-35?e[9]>14.500000000000002?e[2]>11.500000000000002?e[1]>71.50000000000001?e[8]>1252.5000000000002?h=-.10069846585436666:h=-.010577995535809317:e[146]>1e-35?h=-.008877238274428668:e[280]>1e-35?h=.10076055897012692:e[6]>70.50000000000001?h=-.020603523042565547:e[7]>1.5000000000000002?h=.02819095420813202:h=-.1223354167911277:h=-.025073583348334844:e[8]>416.50000000000006?h=.01718560189149466:e[230]>1e-35?h=.12281803224342265:h=.03281276971308565:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?h=-.13070568109867683:e[4]>63.50000000000001?h=-.027221825262496814:h=.01530862490082352:e[9]>6.500000000000001?e[5]>4320.500000000001?e[2]>31.500000000000004?h=-.00605574271293711:h=.04739407327741249:h=-.012537528620315956:e[31]>1e-35?e[20]>1e-35?h=.1252215087035768:h=.003905888677601057:e[52]>1e-35?h=.045466299731038815:e[2]>100.50000000000001?h=-.07815624550168065:e[308]>1e-35?h=-.007715815250508057:e[276]>1e-35?e[9]>1.5000000000000002?h=-.03538265083203445:e[18]>1e-35?h=.1591211669800727:h=.015151475408241136:e[8]>557.5000000000001?h=-.04225569725456342:h=-.022455546324243267:e[308]>1e-35?h=.01325441736085826:e[197]>1e-35?h=.03752194600682512:e[225]>1e-35?h=.06583712394533976:h=-.005205289866839043;let p;e[13]>1e-35?e[9]>21.500000000000004?e[2]>12.500000000000002?p=.010264022580774884:p=-.02335958814489217:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?p=-.0936747137352166:e[0]>384.50000000000006?p=.019846244507320695:p=-.0751102554077272:p=-.026885329334203723:e[0]>966.5000000000001?e[10]>48.50000000000001?p=.11654906890054273:p=.0346250587613322:e[4]>39.50000000000001?p=-.08568002378645614:e[9]>16.500000000000004?p=-.12010535752923689:p=.021321923389033808:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?p=-.12056431231412057:e[131]>1e-35?p=.03652965550568472:p=.002563006128791669:e[9]>6.500000000000001?e[30]>1e-35?p=-.10141481732178981:p=-.003936457893178248:e[31]>1e-35?p=.008215898756249477:e[52]>1e-35?e[0]>4188.500000000001?p=.12972828769588213:p=-.003137412232297087:e[2]>100.50000000000001?p=-.0730872929087944:e[308]>1e-35?p=-.006958622747243333:e[35]>1e-35?e[0]>3707.5000000000005?p=.07934620723812878:p=-.018598568353702116:p=-.030635505446410763:e[128]>1e-35?p=-.06962290453843294:e[84]>1e-35?p=-.15290337844960322:e[308]>1e-35?e[8]>2543.5000000000005?p=-.034938657503885584:p=.016339322898966915:e[197]>1e-35?p=.03358907965870046:e[18]>1e-35?p=-.01754013791515288:p=-.0004944586067698557;let A;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?A=.005888790687820524:A=.0429676533834978:e[2]>7.500000000000001?e[0]>119.50000000000001?e[6]>79.50000000000001?A=-.0224319889201976:e[212]>1e-35?A=.06249587051783863:e[8]>963.5000000000001?e[8]>1156.5000000000002?A=.010357273289123324:A=-.029749145161304082:e[218]>1e-35?A=.06449336340743606:A=.018047654539345502:A=-.07350502390293116:A=-.019594829995832414:e[4]>39.50000000000001?A=-.019338083179859314:e[39]>1e-35?A=-.10427066919173111:e[222]>1e-35?e[0]>612.5000000000001?A=-.019197415255018464:A=-.0836562507048181:e[149]>1e-35?A=-.07679624472577429:e[32]>1e-35?A=-.05097506748590604:e[191]>1e-35?A=.04670476485250936:e[30]>1e-35?A=-.05313073892148652:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>8.500000000000002?A=.03930363008271334:A=-.06029171685615689:A=.016203086182431294:e[4]>7.500000000000001?A=-.013824248237085224:e[10]>4.500000000000001?e[94]>1e-35?A=-.09817668643367765:e[10]>40.50000000000001?A=-.023558078753593125:A=.0065113494780482326:e[8]>809.5000000000001?e[297]>1e-35?A=-.1352063548573715:A=.058203900441270634:A=-.035243959159285736:e[10]>59.50000000000001?e[1]>43.50000000000001?A=-.012552876807800442:A=.05991247777734298:A=.0035893102109330177;let E;e[13]>1e-35?e[9]>21.500000000000004?e[145]>1e-35?E=.03507251990078782:e[2]>14.500000000000002?E=.004905698363309292:e[8]>2421.5000000000005?E=-.10306119951984316:E=-.018951037816654928:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?E=-.08503171085833393:E=.015130974593044409:E=-.024425267075198206:E=.02624054905103126:e[4]>19.500000000000004?e[131]>1e-35?E=.02100191580704534:e[32]>1e-35?e[8]>2302.5000000000005?E=.09908783187786288:E=-.06920877329925636:e[8]>241.50000000000003?E=-.016756131804203496:e[9]>33.50000000000001?E=.04903179955263626:e[217]>1e-35?E=-.047416847619291644:E=-.0017200891991431119:e[39]>1e-35?E=-.10389927604977028:e[134]>1e-35?E=-.050480365434872866:e[178]>1e-35?E=-.05167855791556937:e[8]>2134.5000000000005?E=-.01663197335585307:e[242]>1e-35?E=-.05361323756615453:e[118]>1e-35?E=-.05299780866211368:e[10]>24.500000000000004?e[10]>55.50000000000001?e[8]>764.5000000000001?E=-.0016544848369620534:E=.04494144460483587:E=-.009283616456736156:e[121]>1e-35?e[0]>4463.500000000001?E=.051166688553608355:E=-.06623908820705383:e[84]>1e-35?E=-.12990936092409747:e[306]>1e-35?E=-.07020596855118943:e[49]>1e-35?E=.06272964802556856:e[192]>1e-35?E=.06540204627162581:E=.008277910531592885;let x;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?x=.003325460510319164:x=.037153108286272905:e[2]>12.500000000000002?e[1]>124.50000000000001?x=-.09880713344892134:e[7]>60.50000000000001?e[10]>71.50000000000001?x=.0697359767152808:e[230]>1e-35?x=.06513506845651572:x=-.02826625276613455:e[5]>246.50000000000003?e[8]>95.50000000000001?x=.013616385013146277:x=.04171540100223404:x=-.04360396575094823:e[212]>1e-35?x=.025945477945627522:x=-.019793208261535442:e[4]>39.50000000000001?e[25]>1e-35?x=-.07856453318384411:x=-.014803893522351739:e[39]>1e-35?x=-.09185452630751932:e[149]>1e-35?x=-.07122426086157027:e[134]>1e-35?x=-.04231052091434186:e[227]>1e-35?x=-.029815824273994197:e[50]>1e-35?x=-.15736496271211153:e[222]>1e-35?x=-.02360285356956629:e[128]>1e-35?x=-.03922080193836443:e[136]>1e-35?x=-.07219685327698587:e[10]>24.500000000000004?e[1]>8.500000000000002?x=-.0029736170756835783:x=-.06482902102259112:e[84]>1e-35?x=-.11340924635708383:e[94]>1e-35?x=-.03635703457792193:e[118]>1e-35?x=-.058181913914186034:e[126]>1e-35?x=-.062030576241517366:e[116]>1e-35?x=-.045086301850604006:e[25]>1e-35?x=-.031665223656767286:e[203]>1e-35?x=-.009444685731407691:x=.0112265153772187;let b;e[13]>1e-35?e[1]>64.50000000000001?e[9]>14.500000000000002?e[9]>54.50000000000001?b=.022717227245241684:b=-.049700413274686266:b=.007175776918589741:e[5]>50.50000000000001?e[8]>61.50000000000001?e[21]>1e-35?b=-.07927556792063156:e[3]>8.500000000000002?e[4]>23.500000000000004?e[281]>1e-35?b=-.12263724050601095:b=.0070743478891288035:e[288]>1e-35?b=-.050439138582109:b=.0255701593657891:b=-.005812703740580558:e[6]>49.50000000000001?b=-.008542694147899113:b=.035147383686665:b=-.0960461939274094:e[32]>1e-35?b=-.04555453745517765:e[222]>1e-35?e[0]>612.5000000000001?b=-.01800870272656664:b=-.07817304234604389:e[30]>1e-35?b=-.05227061750368981:e[25]>1e-35?e[0]>4449.500000000001?e[217]>1e-35?b=.08778416018479411:b=-.026563982720830256:b=-.05296139548112329:e[50]>1e-35?b=-.14926464875852247:e[8]>779.5000000000001?e[133]>1e-35?b=-.036572140520852024:e[183]>1e-35?b=-.10766853736801459:b=-.003966794968701808:e[217]>1e-35?e[5]>5237.500000000001?b=.09513215942486053:b=-.03641865277445567:e[10]>59.50000000000001?b=.03177172388687933:e[39]>1e-35?b=-.10234241303898953:e[243]>1e-35?b=-.02966738115984321:e[190]>1e-35?b=-.04312785336449181:e[118]>1e-35?b=-.05808521194081524:b=.006720381600740378;let v;e[308]>1e-35?e[5]>423.00000000000006?e[133]>1e-35?v=-.046284053681928526:e[210]>1e-35?v=49778070699847876e-21:e[13]>1e-35?v=.03328070054739309:e[128]>1e-35?v=-.054790214922938896:e[126]>1e-35?v=-.08524792218532945:v=.014414055975542446:e[1]>38.50000000000001?v=-.07287851335872973:v=.005263371501687163:e[9]>7.500000000000001?e[21]>1e-35?e[10]>4.500000000000001?v=-.12459748864088374:v=-.004626323021331593:e[298]>1e-35?e[4]>64.50000000000001?v=.13044981041138526:e[9]>71.50000000000001?v=-.056068402282406865:e[9]>12.500000000000002?v=.038957722962512764:v=-.04598815982492169:e[8]>691.5000000000001?e[126]>1e-35?v=-.0852126122372075:e[225]>1e-35?v=.10082066771689505:e[1]>161.50000000000003?v=-.11609832500613824:e[3]>8.500000000000002?e[8]>1685.5000000000002?v=-.010835400874777133:v=.004607419973807752:v=-.016989075258564062:v=.009205417251698097:e[23]>1e-35?e[20]>1e-35?v=.10184317139657878:e[0]>5724.500000000001?v=-.1163666496650542:e[1]>106.50000000000001?v=.1303850608190687:e[129]>1e-35?v=.10745031509534769:v=.006166901738036226:e[31]>1e-35?v=.010177092833155127:e[13]>1e-35?e[0]>213.50000000000003?v=.005004582564506611:v=-.10481581731668346:e[19]>1e-35?v=-.009850706427306281:v=-.02608226348051303;let S;e[13]>1e-35?e[1]>64.50000000000001?e[2]>4.500000000000001?S=-.0024117174588695603:S=-.058339700513831916:e[212]>1e-35?e[0]>2215.5000000000005?e[8]>847.5000000000001?e[10]>21.500000000000004?e[1]>39.50000000000001?S=.04575380761203418:S=-.10025595041353463:e[15]>1e-35?S=.17705790384964004:S=.0073813837628615014:S=.07676373681392407:S=-.027167992693885996:e[3]>11.500000000000002?e[280]>1e-35?S=.07078572910026419:e[4]>23.500000000000004?S=.005513918674164821:S=.0206586476926392:e[0]>5269.500000000001?S=.07706773525822633:S=-.010233826953776122:e[148]>1e-35?e[8]>1622.5000000000002?S=-.03204783603215824:S=.027405418223981973:e[4]>14.500000000000002?e[131]>1e-35?e[9]>1.5000000000000002?e[0]>5026.500000000001?S=-.0930246911392012:S=.011173087289703683:e[3]>24.500000000000004?S=.03281421918878597:S=.12449335091369843:e[204]>1e-35?S=.06634531187326123:S=-.011522999669353388:e[92]>1e-35?e[10]>42.50000000000001?S=-.041196758517013515:e[4]>7.500000000000001?S=-2942718111029724e-20:e[4]>6.500000000000001?S=.11953909558532852:S=.03188615019450534:e[122]>1e-35?S=-.0616037324662157:e[101]>1e-35?S=.027230889593349412:e[8]>4968.500000000001?S=-.1113986516540856:e[3]>2.5000000000000004?S=-.002045140426885727:e[129]>1e-35?S=.12641163374304432:S=.014909826232873194;let B;e[308]>1e-35?e[0]>7277.500000000001?B=-.09337446795435:e[5]>423.00000000000006?e[133]>1e-35?B=-.040884836258675006:e[210]>1e-35?B=-.0003719413278428804:e[13]>1e-35?B=.030287610160818174:B=.011174130013595384:e[1]>38.50000000000001?B=-.0662442170185784:B=.004332185707008564:e[9]>7.500000000000001?e[145]>1e-35?e[285]>1e-35?B=-.08092286307197555:B=.029866363328584986:e[21]>1e-35?e[10]>4.500000000000001?B=-.1155211149523894:B=-.0032903546638958538:e[149]>1e-35?B=-.03632198993199768:e[3]>9.500000000000002?e[8]>999.5000000000001?B=-.003507023626534306:e[128]>1e-35?e[4]>13.500000000000002?e[0]>3459.5000000000005?B=-.025416927789760076:B=.02777568919793122:B=-.10310351509769732:B=.013549608903688785:e[186]>1e-35?B=.08513865847420551:B=-.009306721292510369:e[31]>1e-35?B=.009780833952582307:e[23]>1e-35?B=.011143773934157629:e[210]>1e-35?B=.025354797285173356:e[17]>1e-35?e[10]>3.5000000000000004?B=-.04846287537743046:B=-.014647271080376757:e[2]>5.500000000000001?e[7]>57.50000000000001?B=-.034224938681445764:e[8]>1641.5000000000002?B=-.027298372075800673:e[191]>1e-35?e[10]>18.500000000000004?B=-.027950103994861836:B=.14575930827829034:B=-.007124740389354946:e[10]>22.500000000000004?B=.013173304107866726:B=-.11119620042551365;let P;e[131]>1e-35?P=.01892225243240137:e[308]>1e-35?e[5]>691.5000000000001?e[133]>1e-35?P=-.037118314390013646:e[1]>51.50000000000001?e[5]>3749.5000000000005?e[8]>58.50000000000001?P=-.022305242912035072:P=.024792895826340516:P=.013666137278072166:e[88]>1e-35?e[10]>27.500000000000004?P=.2080083584805785:P=.04247197078083379:e[10]>40.50000000000001?e[18]>1e-35?e[1]>27.500000000000004?P=.060783227455868206:P=-.056904865557409035:P=-.03278952553107572:e[192]>1e-35?P=.13117402617043625:P=.01647119888257836:P=-.01825870445636398:e[9]>6.500000000000001?e[298]>1e-35?P=.026536210945939682:e[8]>691.5000000000001?e[126]>1e-35?P=-.07927319604548912:e[10]>3.5000000000000004?e[21]>1e-35?P=-.11083976837572328:e[146]>1e-35?P=-.03359294484446772:P=-.0042815953591236475:e[190]>1e-35?P=-.09264239592903775:e[10]>1e-35?P=.022282638485105657:P=-.0205994057928458:e[5]>4918.500000000001?P=.03430715695199153:e[243]>1e-35?e[2]>57.50000000000001?P=.08935072241972036:P=-.03781647876237494:P=.0062655753179671515:e[31]>1e-35?P=.008603500300349887:e[230]>1e-35?P=.03350056932774173:e[23]>1e-35?e[241]>1e-35?P=.10277555508503314:P=.0017901817172993888:e[2]>98.50000000000001?P=-.05920081229672715:P=-.015722173275739208;let F;e[13]>1e-35?e[118]>1e-35?F=.07957905150112207:e[1]>125.50000000000001?F=-.0662620579858685:e[145]>1e-35?F=.029682040828779843:e[19]>1e-35?e[6]>15.500000000000002?F=-.0009597832580977798:F=-.081474760755753:e[212]>1e-35?F=.03637001492325179:F=.006912305498963309:e[32]>1e-35?F=-.03919900630910754:e[134]>1e-35?F=-.036225295529777886:e[4]>4.500000000000001?e[5]>384.50000000000006?e[204]>1e-35?F=.06671440854602108:e[136]>1e-35?F=-.07577364230133474:e[148]>1e-35?e[4]>7.500000000000001?F=.026430947016830915:F=-.04075501264495112:e[9]>93.50000000000001?F=-.04353169430417609:e[50]>1e-35?F=-.1411224537622882:e[17]>1e-35?e[49]>1e-35?F=.068392679163672:e[10]>1.5000000000000002?F=-.0209659792007492:F=-.0004393235559249831:e[133]>1e-35?e[9]>64.50000000000001?F=.07254524592323175:F=-.0319087835282534:F=.00037444813327793425:F=-.025138768151370408:e[243]>1e-35?F=-.050010891710502096:e[94]>1e-35?F=-.0817513550778599:e[122]>1e-35?F=-.061038875809822285:e[19]>1e-35?e[8]>1085.5000000000002?F=-.008408408775061623:e[2]>5.500000000000001?e[218]>1e-35?F=.1454877641381946:F=.053787998331240316:e[9]>33.50000000000001?F=.08602629796680285:F=-.03895127455803038:F=.008830878042315722;let G;e[131]>1e-35?G=.01687979707990516:e[8]>2915.5000000000005?e[297]>1e-35?G=.07473600489975568:e[0]>93.50000000000001?G=-.021596848506011502:G=-.13840802327735696:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?G=.10264284346448256:G=.031042487183181262:G=-.016653982936827776:e[4]>60.50000000000001?e[10]>75.50000000000001?G=.04226403420647408:e[10]>1e-35?e[0]>4733.500000000001?G=.006271403149804702:G=-.030013637555715046:e[0]>4449.500000000001?G=-.06556876058654929:G=.06437994816903034:e[32]>1e-35?G=-.043814577251655815:e[308]>1e-35?e[0]>7277.500000000001?G=-.09349726304052086:e[210]>1e-35?G=-.0035960132209098003:e[5]>691.5000000000001?e[133]>1e-35?G=-.029188394315052574:G=.017219308333820193:G=-.017378928852189585:e[9]>6.500000000000001?e[0]>2653.5000000000005?e[149]>1e-35?G=-.04428555753857688:G=.0001456106867817353:e[5]>213.50000000000003?G=.01740292726636365:G=-.011361718115556464:e[7]>4.500000000000001?e[0]>316.50000000000006?e[19]>1e-35?e[10]>54.50000000000001?G=.03410288911259329:e[121]>1e-35?G=-.06056527462120627:e[8]>2592.5000000000005?G=.12166808844363577:e[191]>1e-35?G=.11669879218998758:G=-.001664858391716235:G=-.01262927450503166:G=-.04506589951879664:e[227]>1e-35?G=-.08548904959752329:G=.02156080776537726;let re;e[306]>1e-35?e[149]>1e-35?re=-.1389218965136736:re=-.032218642644416894:e[13]>1e-35?re=.006465035217331847:e[50]>1e-35?re=-.1381687930130022:e[179]>1e-35?re=-.13112784985951215:e[148]>1e-35?e[8]>1726.5000000000002?re=-.03262719498763048:re=.023342916702125613:e[191]>1e-35?re=.030005484947580197:e[4]>4.500000000000001?e[204]>1e-35?re=.047767773119269434:e[136]>1e-35?e[0]>1937.5000000000002?re=-.09989343595668776:re=.06533942033334243:e[15]>1e-35?e[9]>86.50000000000001?re=-.10577989354150097:e[8]>668.5000000000001?e[126]>1e-35?re=-.09165257825246746:e[9]>32.50000000000001?re=.02484870392366004:re=-.008499493096971395:e[8]>24.500000000000004?re=.02459679192828244:re=-.010527978013140512:e[25]>1e-35?e[217]>1e-35?re=.0015644546318714849:re=-.06579524865022705:re=-.0060233890975120614:e[122]>1e-35?e[1]>36.50000000000001?re=.03331853632960164:re=-.09482264761126993:e[19]>1e-35?e[8]>1430.5000000000002?re=-.019091477207111116:re=.037878468575478504:e[94]>1e-35?re=-.08013082284576584:e[4]>2.5000000000000004?e[186]>1e-35?re=.16919658785098224:e[243]>1e-35?re=-.06580584936754524:re=.01567555159935563:e[129]>1e-35?re=.06721746994993226:e[10]>32.50000000000001?re=-.046394462507797975:re=-.006436180519584767;let pe;e[131]>1e-35?pe=.015039096856208693:e[8]>779.5000000000001?e[145]>1e-35?pe=.019122095523977856:e[298]>1e-35?pe=.023828936462317443:e[1]>23.500000000000004?e[5]>384.50000000000006?e[7]>59.50000000000001?pe=-.026094309429557913:e[204]>1e-35?pe=.09163404305658318:e[1]>27.500000000000004?e[149]>1e-35?e[6]>34.50000000000001?pe=.012643810980689466:pe=-.07884161741497837:pe=-.0025267379810891104:e[2]>43.50000000000001?e[0]>2860.5000000000005?pe=.04493082949897325:pe=.18046359750455776:e[7]>18.500000000000004?pe=-.018667348656891496:pe=.02584325784698236:pe=-.045696524897545915:e[0]>3321.5000000000005?e[201]>1e-35?pe=.04749240016989375:pe=-.0333334578246718:e[5]>3276.5000000000005?pe=.11330554740098908:e[7]>94.50000000000001?pe=.1296600395033268:pe=-.003576436308940934:e[15]>1e-35?e[183]>1e-35?pe=-.13787130789142835:e[0]>1847.5000000000002?pe=.017915229729920556:e[10]>23.500000000000004?e[10]>31.500000000000004?e[6]>7.500000000000001?pe=.028856848462727104:pe=-.11197632885851168:pe=.08169801342016791:e[1]>22.500000000000004?pe=-.021052888644970163:pe=.019048604298876753:e[7]>4.500000000000001?pe=-.002603328695276418:e[7]>1.5000000000000002?e[2]>5.500000000000001?pe=.03432638833359197:pe=-.0036767863082454973:e[1]>48.50000000000001?pe=.03087375270128195:e[2]>3.5000000000000004?pe=-.04219917149740248:pe=.018818493993207935;let Z;e[306]>1e-35?Z=-.04076858123502297:e[13]>1e-35?e[1]>67.50000000000001?e[9]>14.500000000000002?e[9]>53.50000000000001?e[8]>1971.5000000000002?Z=-.09091897542577475:Z=.04042943082645558:e[218]>1e-35?Z=.056254985867151:Z=-.053848117950183044:Z=.003881630017086845:e[5]>5152.500000000001?e[8]>857.5000000000001?e[6]>28.500000000000004?Z=.021581808008986944:Z=-.05639286496176611:Z=.052838875036198954:e[5]>50.50000000000001?e[5]>4082.5000000000005?e[17]>1e-35?Z=.023061479860228728:e[145]>1e-35?e[9]>10.500000000000002?Z=.023885302967553288:Z=.1617794086125622:e[212]>1e-35?Z=.04504545345658806:e[3]>17.500000000000004?e[4]>45.50000000000001?Z=-.03948072448245435:e[1]>47.50000000000001?e[9]>18.500000000000004?Z=.01894935813286188:Z=-.06449356357429188:Z=.012297239104320094:e[1]>26.500000000000004?e[8]>33.50000000000001?Z=-.034718828212885515:Z=.0898976288814321:e[1]>17.500000000000004?Z=-.15440137451988326:Z=-.03864183216821465:Z=.009988507307006308:Z=-.08540311947043305:e[50]>1e-35?Z=-.13323659732101975:e[134]>1e-35?Z=-.031820386486894385:e[32]>1e-35?e[8]>2302.5000000000005?Z=.08082476177379844:Z=-.041665761903645876:e[179]>1e-35?Z=-.12405023987936657:e[39]>1e-35?Z=-.06247416524997478:e[138]>1e-35?Z=-.10724031753676487:Z=-.0005423122305122404;let W;e[308]>1e-35?W=.006160742906729798:e[190]>1e-35?e[0]>2461.5000000000005?e[10]>22.500000000000004?W=.023223358334607133:W=-.04383410185346742:W=-.08542395045055405:e[297]>1e-35?e[8]>51.50000000000001?e[1]>13.500000000000002?W=.023406489302867494:W=-.085521220804058:W=-.02921899554854833:e[298]>1e-35?e[9]>12.500000000000002?W=.028120059780969632:W=-.04211009474298743:e[294]>1e-35?W=-.05040415676618239:e[86]>1e-35?e[1]>36.50000000000001?W=-.0993035220737934:W=-.0005384930611060366:e[230]>1e-35?e[4]>6.500000000000001?W=.029770210551187937:W=-.016272917551655715:e[4]>60.50000000000001?e[280]>1e-35?W=.06421359317599738:W=-.01963732469244167:e[218]>1e-35?e[3]>3.5000000000000004?W=.024368404612215164:W=-.04045232374803373:e[131]>1e-35?W=.017372701982485795:e[120]>1e-35?W=.08812710275150198:e[18]>1e-35?e[90]>1e-35?W=.18451364351180236:e[7]>33.50000000000001?W=-.03850813130183531:e[195]>1e-35?W=.06966114053446336:e[3]>16.500000000000004?W=-.0012869181693341211:e[0]>4242.500000000001?W=-.054625548611291035:W=-.014431095117473881:e[5]>4558.500000000001?e[8]>1.5000000000000002?W=.006302103427145562:W=.13967622319898698:e[121]>1e-35?W=-.038798585213145644:e[5]>4544.500000000001?W=-.08050498033009466:W=-.002986974112681435;let q;e[0]>384.50000000000006?e[2]>101.50000000000001?e[1]>16.500000000000004?q=-.03461119351456781:q=.05659026566680352:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?q=-.12404435523286539:q=-.0034376913880382956:q=-.09821622245095822:e[131]>1e-35?e[9]>1.5000000000000002?q=.0037507103585310234:q=.03610387965829944:e[8]>999.5000000000001?e[9]>137.50000000000003?q=-.11985021663179699:e[0]>1847.5000000000002?e[126]>1e-35?q=-.04832024079663151:e[37]>1e-35?q=-.037103393468366934:q=-.004248086592531705:e[8]>3084.0000000000005?e[9]>43.50000000000001?q=.032539071163832034:e[5]>1643.5000000000002?q=.036408625378035665:e[0]>1500.5000000000002?q=-.1346358322854993:q=-.027586559522081014:e[3]>1e-35?e[190]>1e-35?q=-.1133991164577881:e[9]>52.50000000000001?q=-.024478640359723122:q=.03673777861098756:q=-.1037451237591819:e[230]>1e-35?e[9]>48.50000000000001?e[10]>20.500000000000004?q=.002583438691776944:q=.10773520810108106:e[9]>12.500000000000002?e[1]>16.500000000000004?q=-.02141222346712401:q=.06392462314316179:e[4]>12.500000000000002?q=.08700122294434816:e[8]>267.50000000000006?q=.056923170082743224:q=-.07716309825583327:e[32]>1e-35?q=-.03961343943752142:q=.002674914122888783:e[1]>42.50000000000001?q=-.05217539654421676:e[145]>1e-35?q=.09553630282946368:q=-.009424791262477729;let se;e[183]>1e-35?se=-.05753337139158443:e[308]>1e-35?se=.00562436671450989:e[9]>7.500000000000001?e[21]>1e-35?e[10]>8.500000000000002?se=-.10477869875380448:se=-.0070301869937306055:e[3]>9.500000000000002?e[8]>1765.5000000000002?e[0]>4571.500000000001?se=-.12526505173232894:e[10]>1e-35?e[9]>71.50000000000001?se=-.04442302951713574:se=.00012409888451734224:se=-.092199119633697:e[225]>1e-35?se=.13773072450201831:e[0]>2882.5000000000005?se=.0028540012229920533:e[298]>1e-35?se=.07134486044361629:se=.014297412329837425:e[145]>1e-35?se=.05608385321902638:e[92]>1e-35?se=.038298413603926135:e[107]>1e-35?e[2]>6.500000000000001?se=-.0039957800609801315:se=.0776927564241081:e[203]>1e-35?se=-.05502900859432093:e[105]>1e-35?se=.06062892720841595:se=-.009574839629252128:e[31]>1e-35?se=.009488858841144216:e[23]>1e-35?e[20]>1e-35?se=.08818126313644752:e[8]>161.50000000000003?se=.014353968957885408:se=-.022240738532827903:e[210]>1e-35?se=.024648862719806694:e[2]>5.500000000000001?e[4]>4.500000000000001?e[17]>1e-35?e[10]>16.500000000000004?se=-.043902062079383485:se=-.014741559220396223:se=-.00934935734853194:e[6]>32.50000000000001?se=.1514593126307404:se=.010771222510801532:e[10]>22.500000000000004?se=.01412495209334078:se=-.08576940379502533;let ne;e[0]>384.50000000000006?e[84]>1e-35?ne=-.06647690967306838:e[2]>101.50000000000001?ne=-.024451334501552457:e[306]>1e-35?ne=-.034517188927733505:e[131]>1e-35?e[9]>1.5000000000000002?ne=.0031858381443673127:ne=.032574927024450646:e[204]>1e-35?e[1]>62.50000000000001?ne=-.08601340441214533:e[1]>29.500000000000004?ne=.10487598629539963:e[8]>597.5000000000001?ne=-.0786529133673238:ne=.08689436600511559:e[8]>779.5000000000001?e[10]>2.5000000000000004?e[9]>100.50000000000001?ne=-.04883600353740688:e[126]>1e-35?ne=-.03794042763348827:ne=-.003358871967539988:e[210]>1e-35?ne=.054991356498447566:e[6]>19.500000000000004?ne=-.007418396981635549:ne=.018032606049498613:e[18]>1e-35?e[7]>35.50000000000001?e[2]>44.50000000000001?ne=-.02143003429501711:ne=-.09016000554055564:e[1]>19.500000000000004?e[1]>42.50000000000001?e[8]>17.500000000000004?ne=-.006636355416244082:ne=-.06483095743431454:e[4]>21.500000000000004?ne=-.028975965946833545:ne=.022012264796522657:ne=-.06653648243193663:e[5]>4593.500000000001?ne=.01753551428088607:e[217]>1e-35?ne=-.028864824937700297:e[94]>1e-35?ne=-.04885192273020658:e[279]>1e-35?ne=.08105715462329498:e[121]>1e-35?ne=-.04576676034750651:ne=.004795141324949362:e[1]>42.50000000000001?ne=-.047446619702809195:e[145]>1e-35?ne=.08400495571952321:ne=-.00854528836489364;let H;e[294]>1e-35?H=-.042529778074638265:e[266]>1e-35?H=-.1180276669679798:e[134]>1e-35?H=-.026818144353279623:e[183]>1e-35?H=-.05120747503479363:e[227]>1e-35?e[8]>1641.5000000000002?H=-.07265906898294434:e[4]>12.500000000000002?e[17]>1e-35?H=-.027516137530797014:e[0]>4331.500000000001?e[1]>64.50000000000001?H=-.03049646619610203:e[1]>50.50000000000001?H=.20634590755061122:H=.06956378103625731:e[0]>3770.5000000000005?H=-.07946414366134913:e[19]>1e-35?H=.17083312065604694:e[2]>21.500000000000004?H=-.02327981978127724:H=.129717297518715:e[145]>1e-35?H=.006891245076133524:H=-.0789123467863741:e[3]>99.50000000000001?H=-.02022281202803071:e[302]>1e-35?e[10]>47.50000000000001?H=.06447639919732716:H=-.05457561977645972:e[306]>1e-35?H=-.029995903305383882:e[191]>1e-35?H=.030596508110850414:e[242]>1e-35?H=-.024085578702020216:e[8]>3198.5000000000005?e[297]>1e-35?H=.09518584795377832:H=-.018197744600833596:e[13]>1e-35?H=.006751790086127549:e[148]>1e-35?H=.01904174573618417:e[99]>1e-35?H=.025287735102561926:e[4]>14.500000000000002?H=-.004364337681643273:e[1]>15.500000000000002?e[35]>1e-35?H=-.09467943982430241:e[243]>1e-35?H=-.02521824751996268:H=.005437570718352172:H=-.022476214821960674;let O;e[0]>384.50000000000006?e[84]>1e-35?O=-.06088131453064195:e[147]>1e-35?O=-.05332792965930566:e[135]>1e-35?e[9]>32.50000000000001?O=.04219361472548491:O=-.07227529211725771:e[10]>4.500000000000001?e[21]>1e-35?O=-.0787279848043689:e[17]>1e-35?e[3]>18.500000000000004?e[188]>1e-35?O=-.054347604504400286:e[0]>3544.5000000000005?e[0]>5850.500000000001?O=-.11431764534511478:O=.013549717238356157:O=-.020987333767091276:e[6]>2.5000000000000004?O=-.02914877855133127:O=.08483464900160231:e[8]>58.50000000000001?e[183]>1e-35?O=-.10087072787978416:e[37]>1e-35?O=-.030467397753331196:e[229]>1e-35?O=-.1017559811057469:e[4]>20.500000000000004?O=-.00413177742240167:e[20]>1e-35?O=.05213315982685969:O=.0037921635866823133:e[8]>51.50000000000001?O=.07327913092421544:e[6]>49.50000000000001?O=-.03457694284156811:e[6]>18.500000000000004?e[7]>17.500000000000004?O=.02744420891894289:O=.11288946357194463:O=.003482908820966248:e[18]>1e-35?e[1]>20.500000000000004?e[7]>4.500000000000001?O=-.012329314369909049:O=.026816658655600168:O=-.0872405354618811:O=.007872673500247845:e[1]>42.50000000000001?O=-.04309044198258254:e[145]>1e-35?O=.07572529147860785:e[7]>5.500000000000001?O=-.013837187093264945:e[1]>17.500000000000004?O=.04208698439539668:O=-.06284346769019863;let j;e[294]>1e-35?j=-.0384794324818203:e[266]>1e-35?j=-.1087205883821061:e[32]>1e-35?e[8]>2302.5000000000005?j=.07432960094940501:j=-.035248735855751855:e[134]>1e-35?j=-.02456191365284949:e[121]>1e-35?e[0]>4720.500000000001?e[1]>39.50000000000001?j=-.01706896375068821:j=.08212247914968074:e[2]>59.50000000000001?j=-.09546478958824225:e[6]>53.50000000000001?j=.12317082897575611:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?j=.02816463285971267:j=.15449139016588445:j=-.10199787406123524:j=-.038068684323297096:e[223]>1e-35?e[8]>668.5000000000001?j=-.13924786681478077:j=-.0072772442570213335:e[39]>1e-35?j=-.05392786531177836:e[0]>93.50000000000001?e[40]>1e-35?j=-.054059371343144036:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?j=-.11174465335620831:j=.00013144040097180107:j=-.08493919336681105:e[42]>1e-35?j=-.11078582572836196:e[84]>1e-35?e[4]>17.500000000000004?j=-.015540659878839153:j=-.14442609417300142:e[21]>1e-35?j=-.025251979447574083:j=.0023698372645272847:e[18]>1e-35?j=.07269739695712212:e[8]>2592.5000000000005?j=-.1460388776448558:e[9]>30.500000000000004?e[1]>23.500000000000004?j=-.01835130329646532:e[9]>45.50000000000001?j=.02023047454629885:j=.16469378262221102:j=-.042975030085836426;let J;e[8]>2915.5000000000005?e[297]>1e-35?J=.06257393915394144:e[0]>93.50000000000001?e[4]>1.5000000000000002?J=-.01034964686484714:J=-.07357437440667927:J=-.11987794734779106:e[298]>1e-35?e[8]>81.50000000000001?e[0]>3370.5000000000005?e[8]>155.50000000000003?e[8]>660.5000000000001?e[8]>2134.5000000000005?J=-.09476398869062203:e[9]>72.50000000000001?J=-.0757383854264379:J=.02806542779508718:J=-.05147742568418084:J=.10212721564444344:J=.0518263760642861:J=-.08743405377022222:e[189]>1e-35?e[0]>5269.500000000001?J=-.10669213185972036:J=.027050434286384796:e[302]>1e-35?J=-.0407832394672723:e[116]>1e-35?e[10]>38.50000000000001?J=.06354599160071946:e[1]>67.50000000000001?J=.05317447949011187:J=-.059138165935307165:e[212]>1e-35?e[19]>1e-35?J=-.09369289448773599:e[0]>2215.5000000000005?J=.04077965380363924:e[0]>807.5000000000001?J=-.0591771776458298:J=.057315736906679376:e[308]>1e-35?e[1]>52.50000000000001?e[5]>3749.5000000000005?J=-.016323380219241672:J=.007291062979527741:e[210]>1e-35?e[8]>1641.5000000000002?J=.03720704290087811:J=-.008730548158766654:e[4]>80.50000000000001?J=-.05346644687473197:J=.014596824736762107:e[218]>1e-35?e[3]>3.5000000000000004?J=.019984510398089086:J=-.03917825025861855:e[9]>170.50000000000003?J=-.09759719821334525:J=-.0023586682752856298;let le;e[183]>1e-35?e[17]>1e-35?le=.030100940443356424:e[10]>1.5000000000000002?le=-.10861112216742408:le=.017680668976453255:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?le=-.032062878390325456:le=-.10808232631806887:e[8]>1641.5000000000002?le=-.06147013392655731:e[4]>12.500000000000002?le=.03324767551088266:e[145]>1e-35?le=.028851633810612017:le=-.054871239091792784:e[134]>1e-35?le=-.023813968121342108:e[266]>1e-35?le=-.10037039667146351:e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>1939.5000000000002?le=-.055566877553100726:e[2]>24.500000000000004?e[8]>182.50000000000003?e[10]>43.50000000000001?e[10]>55.50000000000001?le=-.025350325484720576:le=.1579024598549572:e[9]>2.5000000000000004?e[0]>3746.5000000000005?le=.056817276537534815:le=-.07674158463557636:le=-.06335553143454145:e[1]>56.50000000000001?le=.16390494217299284:le=-.0027330160430847177:e[10]>36.50000000000001?e[8]>1067.5000000000002?le=.041717597065890205:le=-.10357913492269129:e[10]>29.500000000000004?le=.1365512866715726:le=.020600048310575665:le=.09708785634773187:le=-.060427658852305666:e[126]>1e-35?e[10]>32.50000000000001?e[6]>24.500000000000004?e[8]>1146.5000000000002?le=-.03146213719547347:le=.11784024316238083:le=-.050940520532045355:le=-.047988344143075616:e[191]>1e-35?le=.028764654731460032:le=.0011911575567860023;let ee;e[294]>1e-35?e[10]>50.50000000000001?ee=-.11630092297244568:e[0]>2432.5000000000005?e[0]>4199.500000000001?ee=-.05103908560370243:ee=.05002066201169583:ee=-.09976646725732496:e[32]>1e-35?e[0]>4242.500000000001?ee=-.0648838712201258:e[5]>3721.5000000000005?e[9]>4.500000000000001?ee=.127983140816313:ee=-.05436534163636867:ee=-.024514536544596455:e[121]>1e-35?e[0]>4449.500000000001?e[4]>9.500000000000002?ee=-.009504203657088933:e[8]>819.5000000000001?ee=.18689664822602375:ee=.03635576744011826:ee=-.029862411809998525:e[223]>1e-35?ee=-.06474496692999487:e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?ee=-.09405026597863717:e[0]>4153.500000000001?ee=.053577663326799765:ee=-.05062127873995668:ee=.06512222894425874:e[39]>1e-35?ee=-.04985311717827547:e[51]>1e-35?ee=-.04541229517934797:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?ee=-.02860634573675884:ee=.08863753005590103:ee=.11158892111063744:e[0]>655.5000000000001?ee=-.031005736641654926:ee=-.1439827004505974:e[222]>1e-35?e[1]>11.500000000000002?e[0]>612.5000000000001?ee=-.00843386136334982:ee=-.05273594615999777:ee=.1060183822015004:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?ee=-.015774115523598486:ee=.10147367091236065:ee=-.048307000563071016:ee=.002118376117677254;let ae;e[8]>1014.5000000000001?e[9]>137.50000000000003?ae=-.10279096288817871:e[0]>93.50000000000001?e[8]>1067.5000000000002?e[227]>1e-35?ae=-.03544332389470493:e[285]>1e-35?e[9]>64.50000000000001?ae=.07211107542565391:ae=-.041556776020476104:e[145]>1e-35?e[1]>66.50000000000001?ae=-.0751486415451188:e[1]>59.50000000000001?ae=.13459005084554104:ae=.024184371850147466:e[0]>3072.5000000000005?e[95]>1e-35?ae=.06715575425741895:ae=-.005895690393702183:e[8]>2915.5000000000005?ae=-.010205039411753762:e[9]>33.50000000000001?e[9]>47.50000000000001?ae=-.00029068886245881074:ae=.0613467393188786:e[148]>1e-35?ae=-.06074463294936236:e[3]>1.5000000000000002?e[5]>1849.5000000000002?e[1]>15.500000000000002?ae=.003887223773199377:ae=-.08553893131979015:ae=.025654192706396767:ae=-.05651733979610658:ae=-.02039913645229667:e[2]>7.500000000000001?ae=-.1058450646728524:ae=.02267192191610376:e[1]>120.50000000000001?e[2]>60.50000000000001?ae=-.12304707569000428:e[1]>132.50000000000003?e[6]>41.50000000000001?ae=.1283258201586378:ae=-.01718135372229775:ae=-.07702452408491414:e[125]>1e-35?ae=-.0804612900572707:e[178]>1e-35?e[0]>4533.500000000001?ae=.04273051857848212:ae=-.04533122948101463:e[2]>196.50000000000003?ae=-.10543331044088727:e[94]>1e-35?e[5]>4532.500000000001?ae=.0231032972703664:ae=-.04807386814498683:ae=.002729435991332102;let ce;e[179]>1e-35?ce=-.08065315471211375:e[183]>1e-35?e[17]>1e-35?ce=.026484626664041125:e[10]>1.5000000000000002?ce=-.10187000872941615:ce=.015274190652133752:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?ce=.09574540795390041:ce=-.06454986703691233:ce=-.11411849349353141:e[266]>1e-35?ce=-.09281838517322076:e[32]>1e-35?e[8]>2302.5000000000005?ce=.06685250330182936:e[4]>67.50000000000001?e[2]>97.50000000000001?ce=-.04403391373512386:ce=.1132928075412222:e[2]>47.50000000000001?ce=-.09700191391838056:ce=-.02147184357182825:e[10]>4.500000000000001?e[21]>1e-35?ce=-.0735617817957859:e[17]>1e-35?e[3]>18.500000000000004?ce=-.001668912999010927:ce=-.02363511102970245:e[8]>58.50000000000001?ce=-.00035213368294640616:e[3]>17.500000000000004?e[2]>28.500000000000004?e[10]>23.500000000000004?e[1]>38.50000000000001?ce=.0911011436534449:e[1]>28.500000000000004?ce=-.07192390493729035:ce=.06913818091291246:ce=-.012312625373699222:ce=.06784496312307986:ce=-167756936027735e-19:e[18]>1e-35?e[8]>302.50000000000006?ce=.0026564453057705273:ce=-.025425772389361445:e[122]>1e-35?ce=-.12046786388602149:e[0]>3183.5000000000005?ce=.01162092842804907:e[91]>1e-35?ce=.07000265526928563:e[1]>22.500000000000004?e[0]>576.5000000000001?ce=-.0001647792543020228:ce=-.023664538532907665:ce=.01609078206180752;let Re;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4141.500000000001?Re=-.051473645433684705:e[0]>3030.5000000000005?e[1]>51.50000000000001?Re=-.017696526862422682:Re=.1450050954613223:Re=-.05406930069823832:Re=-.08308700260259043:e[120]>1e-35?Re=.058316269489189415:e[297]>1e-35?e[94]>1e-35?Re=-.07425512495167255:e[8]>51.50000000000001?e[1]>13.500000000000002?e[1]>33.50000000000001?e[19]>1e-35?e[0]>4498.500000000001?Re=.038431826961746934:Re=-.05937462906539856:e[9]>65.50000000000001?Re=.10814845712507865:e[4]>9.500000000000002?e[2]>22.500000000000004?e[1]>39.50000000000001?e[1]>44.50000000000001?e[10]>44.50000000000001?Re=.12297945639231944:e[0]>3796.5000000000005?e[4]>26.500000000000004?Re=-.09579030954062734:Re=.025064711572811746:Re=.02579440518821548:Re=.1044440128091862:Re=-.058348633139536844:Re=.07766788227934436:Re=-.01021229539092708:e[2]>2.5000000000000004?e[10]>29.500000000000004?e[0]>3770.5000000000005?e[0]>4438.500000000001?Re=.07463684068207214:Re=.18244269035484484:e[6]>39.50000000000001?Re=-.06050050067471004:Re=.05787759066913493:Re=.010783225857972171:Re=.1674891243602606:e[4]>9.500000000000002?Re=-.004814132027475892:Re=-.14543299413454813:Re=-.02935093398687923:e[116]>1e-35?e[9]>2.5000000000000004?e[8]>1218.5000000000002?Re=-.07634466313617769:Re=.0287825335169114:Re=-.06894721943300268:Re=-.00023988459059521937;let ve;e[131]>1e-35?e[1]>93.50000000000001?ve=-.05706887458825395:e[2]>1.5000000000000002?ve=.011446637886629108:ve=-.10616119878749211:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?ve=.08424281276381033:e[3]>17.500000000000004?e[20]>1e-35?ve=.11146885439601915:e[8]>61.50000000000001?e[0]>3530.5000000000005?e[9]>48.50000000000001?e[9]>61.50000000000001?ve=.026278724448495064:ve=.17053138400480508:e[0]>4463.500000000001?ve=-.06482289890096041:ve=.03026516489536295:ve=-.031785170717683144:ve=.1312690622980455:e[13]>1e-35?ve=.14336922540461444:ve=.03523850945454039:ve=-.015407465968975714:e[39]>1e-35?ve=-.054809635385158186:e[32]>1e-35?e[0]>4242.500000000001?ve=-.0659975068798723:ve=-.008386582621403979:e[4]>60.50000000000001?e[10]>75.50000000000001?e[3]>107.50000000000001?ve=-.04225314193574262:e[3]>70.50000000000001?e[1]>29.500000000000004?ve=.057409156184759516:ve=.2024322059866388:ve=-.030670938454461245:e[10]>1e-35?e[0]>4733.500000000001?ve=.010648654146284154:e[308]>1e-35?ve=.008728141696325391:e[4]>64.50000000000001?e[298]>1e-35?ve=.12364025998551711:ve=-.02247495081065243:e[1]>22.500000000000004?ve=-.0726295464624251:ve=.03481895086048152:e[0]>4331.500000000001?ve=-.04775443357020673:ve=.07172377425057568:e[2]>89.50000000000001?ve=-.11782645274716962:ve=.00010092665257989378;let Ue;e[147]>1e-35?Ue=-.041560228567115574:e[302]>1e-35?e[10]>47.50000000000001?Ue=.062292114082780084:e[10]>5.500000000000001?e[7]>22.500000000000004?Ue=-.016101990375700172:e[0]>2579.5000000000005?Ue=-.13045089661551845:Ue=-.02874367814784938:Ue=.025835149631944995:e[167]>1e-35?e[0]>3928.5000000000005?Ue=.17084176915326055:Ue=-.019195947948312853:e[222]>1e-35?e[30]>1e-35?e[1]>36.50000000000001?e[8]>45.50000000000001?e[8]>578.5000000000001?e[1]>67.50000000000001?Ue=.10591712319944074:Ue=-.024082167264285:Ue=.16497698867036126:Ue=-.04985066326861431:e[0]>1937.5000000000002?e[2]>16.500000000000004?Ue=-.021012910475524206:Ue=-.13058422554298485:e[0]>1102.5000000000002?Ue=.10955864175201457:Ue=-.03566689354348996:e[1]>11.500000000000002?Ue=-.02093884208606101:Ue=.09107244766183857:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?Ue=-.013861861436128482:Ue=.09756849802202777:e[224]>1e-35?e[1]>51.50000000000001?Ue=.10163873449625677:Ue=-.02779270277623805:e[1]>26.500000000000004?Ue=-.08035058228527389:Ue=.0005719695099064484:e[191]>1e-35?e[9]>9.500000000000002?Ue=-.007028075523033826:Ue=.0489470913925288:e[1]>61.50000000000001?e[132]>1e-35?Ue=.11230846723576784:e[0]>350.50000000000006?e[2]>1.5000000000000002?Ue=-.0032075580718124892:Ue=-.04442829143298883:Ue=-.06597073245775804:Ue=.0015594090939337751;let ke;e[223]>1e-35?e[8]>668.5000000000001?ke=-.12803889879260094:ke=.002171373740016862:e[121]>1e-35?e[0]>4720.500000000001?e[217]>1e-35?ke=.08967966612917375:e[1]>39.50000000000001?ke=-.059791671514498074:ke=.05648934961902822:e[2]>59.50000000000001?ke=-.08633234097449628:e[6]>53.50000000000001?ke=.11140345067444689:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?ke=.025606129643140924:ke=.13835395886271978:ke=-.09361630641448024:e[4]>7.500000000000001?e[1]>26.500000000000004?e[1]>49.50000000000001?ke=-.09975506556937946:e[10]>36.50000000000001?ke=-.09427724661655643:e[10]>24.500000000000004?ke=.07329330653410447:ke=-.02271182965807972:ke=-.09767874967639482:e[6]>13.500000000000002?e[10]>23.500000000000004?ke=-.05082091374050816:ke=.1687114435254966:e[0]>2314.5000000000005?ke=-.06422664016383926:ke=.0636688376664789:e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?ke=-.06857762517406195:e[9]>71.50000000000001?e[0]>4188.500000000001?ke=-.1274167728754332:ke=.01308079126447365:e[4]>73.50000000000001?ke=.13854015371106546:e[4]>48.50000000000001?ke=-.03684255740123261:e[6]>45.50000000000001?ke=.10329912215813097:e[10]>77.50000000000001?ke=-.08630788656925215:ke=.031022006843800853:e[1]>25.500000000000004?ke=-.08278381528048026:ke=.06664374548141594:e[84]>1e-35?ke=-.05624227409079396:ke=.00012184182357340415;let Je;e[179]>1e-35?Je=-.07443348719246982:e[40]>1e-35?e[0]>1937.5000000000002?Je=-.07595415373151816:Je=.054065040429292326:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[0]>1187.5000000000002?Je=.022822510448266862:Je=.17491569312933697:Je=-.058362287133533565:e[2]>2.5000000000000004?Je=-.03633895806364428:Je=.06397808186120692:e[8]>4968.500000000001?e[1]>31.500000000000004?Je=-.07294848747514579:Je=.025053613105805606:e[230]>1e-35?e[4]>6.500000000000001?e[107]>1e-35?Je=-.07009535282685533:e[8]>2640.0000000000005?Je=-.051761240111316276:e[131]>1e-35?Je=-.06245774419231631:Je=.03495606662854905:Je=-.013863522184803188:e[131]>1e-35?e[1]>93.50000000000001?e[1]>105.50000000000001?Je=.0015036626973581122:Je=-.12505706794835883:e[1]>48.50000000000001?e[276]>1e-35?Je=.10435171369790015:e[0]>5026.500000000001?e[0]>5308.500000000001?Je=.022343994371919224:Je=-.14087991797693533:e[8]>1323.5000000000002?e[10]>49.50000000000001?Je=.07724450228328664:e[0]>3853.5000000000005?Je=-.15671707454435677:e[10]>28.500000000000004?Je=-.10179090671841723:Je=.014878216919760927:Je=.03967665658164865:e[8]>2696.5000000000005?e[15]>1e-35?Je=.14054154485273487:Je=.01821247272493051:e[2]>5.500000000000001?e[2]>100.50000000000001?Je=-.08632985141410315:Je=.005524157938954954:Je=-.08802502622523681:Je=-.0004649168897260341;let ft;e[86]>1e-35?e[8]>65.50000000000001?e[1]>32.50000000000001?e[4]>16.500000000000004?ft=-.007458687464321174:ft=-.09444966249102484:e[1]>23.500000000000004?ft=.08564129697360716:ft=-.07105002902845851:ft=.05688756955238231:e[294]>1e-35?e[10]>50.50000000000001?ft=-.10326216566705966:e[1]>26.500000000000004?ft=.0050539832484585365:ft=-.07080395606126953:e[306]>1e-35?e[149]>1e-35?ft=-.10399433201474328:e[2]>14.500000000000002?e[9]>6.500000000000001?ft=.05783632021087773:e[10]>17.500000000000004?ft=-.06720598671764105:e[1]>47.50000000000001?ft=.097495825172558:ft=-.013372242800584872:ft=-.06463226787713715:e[42]>1e-35?ft=-.0885725817597767:e[204]>1e-35?e[1]>62.50000000000001?ft=-.07496598696848249:e[1]>29.500000000000004?e[8]>446.50000000000006?ft=.11051270080118503:ft=.027719462817590454:e[8]>597.5000000000001?ft=-.08441503592016869:ft=.05534229430302502:e[223]>1e-35?e[8]>668.5000000000001?ft=-.12190088985091102:ft=-.0067442838156576345:e[148]>1e-35?e[9]>79.50000000000001?ft=.09225972475904022:e[2]>10.500000000000002?e[1]>102.50000000000001?ft=.11805676536334647:e[8]>1726.5000000000002?e[9]>10.500000000000002?ft=.016585157185448045:ft=-.11032043771149425:ft=.01586986028570486:e[8]>388.50000000000006?ft=-.10592413013261853:ft=.04930703248769364:e[13]>1e-35?ft=.003621937787920821:ft=-.0013786331198611841;let ot;e[145]>1e-35?e[1]>32.50000000000001?e[1]>38.50000000000001?e[10]>55.50000000000001?e[1]>54.50000000000001?ot=.009769895322846493:ot=-.10620052926943656:e[9]>19.500000000000004?ot=.03781202525403449:e[9]>14.500000000000002?ot=-.11485785321365344:e[9]>6.500000000000001?ot=.07677177833073881:e[0]>4342.500000000001?ot=-.07079285609687631:e[49]>1e-35?ot=.06156814809246001:ot=-.014788509042554625:ot=-.032659201618470655:e[5]>5207.500000000001?ot=-.09013500825185713:e[3]>10.500000000000002?e[8]>1787.5000000000002?ot=-.03094160322187924:e[1]>29.500000000000004?ot=.09474646043921069:ot=.023445783928231618:ot=.09342846694174194:e[0]>533.5000000000001?e[204]>1e-35?e[1]>62.50000000000001?ot=-.07164443768784848:e[1]>29.500000000000004?ot=.089473622509272:e[8]>597.5000000000001?ot=-.08155349903101317:ot=.07098423265024251:e[8]>691.5000000000001?e[5]>2252.5000000000005?ot=-.004003900679358653:e[190]>1e-35?ot=-.09236113461485262:e[8]>3198.5000000000005?ot=-.0124130160451179:ot=.018453070064009328:e[15]>1e-35?ot=.012013209112857824:e[7]>4.500000000000001?e[7]>5.500000000000001?ot=-.0009580759587680961:ot=-.03227283036698222:ot=.01369287669536875:e[1]>50.50000000000001?ot=-.04213060332500437:e[35]>1e-35?ot=-.11508095777767471:e[190]>1e-35?ot=-.08611884672400155:e[297]>1e-35?ot=.05723551879433584:ot=-.004829340082311461;let at;e[183]>1e-35?at=-.037994150023203555:e[227]>1e-35?e[17]>1e-35?e[3]>20.500000000000004?e[10]>36.50000000000001?at=-.11753465135886734:at=-.007515490299047085:at=-.08576941990777916:e[8]>1641.5000000000002?e[10]>37.50000000000001?at=-.12371142493530439:e[1]>36.50000000000001?at=.032189417575190435:at=-.10339125953022954:e[3]>32.50000000000001?e[4]>27.500000000000004?e[1]>59.50000000000001?at=-.0784518658439288:e[2]>54.50000000000001?at=.12477882322370665:at=.000313468482399738:at=.12261955132611434:e[8]>81.50000000000001?e[23]>1e-35?at=.04969252946760318:e[8]>511.50000000000006?e[8]>1146.5000000000002?at=.0353146070135579:at=-.06327619611098285:at=.02813577701641991:at=-.12354390728506215:e[34]>1e-35?at=-.07664408516055397:e[3]>99.50000000000001?e[1]>16.500000000000004?e[1]>26.500000000000004?at=-.01245803535276381:at=-.07169472553475001:e[1]>11.500000000000002?at=.12989984824561698:at=-.01201544398886606:e[6]>91.50000000000001?e[1]>22.500000000000004?at=.010390226893521422:e[10]>14.500000000000002?at=.16790888126487719:at=.010614982228955577:e[4]>79.50000000000001?e[9]>44.50000000000001?e[0]>3853.5000000000005?at=-.043398307129729134:at=.09963544907820426:e[9]>30.500000000000004?at=-.13540713124984502:e[9]>17.500000000000004?at=.0509435850590757:at=-.04761897852404613:e[4]>78.50000000000001?at=.09197086656470652:at=.0006771050176682337;let ie;e[122]>1e-35?e[6]>36.50000000000001?ie=.05686884451670743:ie=-.05334759543084309:e[266]>1e-35?ie=-.08603579519816038:e[157]>1e-35?ie=-.06736746113382097:e[302]>1e-35?e[0]>2579.5000000000005?ie=-.0499592651503952:e[0]>725.5000000000001?ie=.11780353905132664:ie=-.05232097173108943:e[147]>1e-35?e[1]>53.50000000000001?ie=-.11398297342629615:e[0]>2604.5000000000005?e[0]>3629.5000000000005?ie=-.03190157229022304:ie=.07985197845805492:ie=-.0763078988943886:e[4]>41.50000000000001?e[280]>1e-35?ie=.05162933940904835:e[11]>1e-35?e[0]>460.50000000000006?ie=-.027174047777029083:ie=.057117284879796476:e[3]>43.50000000000001?ie=-.0016147040913107311:ie=-.05856597304613519:e[2]>45.50000000000001?e[0]>4663.500000000001?e[18]>1e-35?ie=-.04779247091640426:e[10]>25.500000000000004?e[9]>22.500000000000004?e[22]>1e-35?ie=-.01466076988151239:ie=.13375695925484857:ie=-.04885873081899647:e[0]>5566.500000000001?ie=.11086813028591343:e[8]>992.5000000000001?ie=-.07622304217072383:ie=.04316019272026325:e[10]>12.500000000000002?e[9]>36.50000000000001?e[9]>45.50000000000001?ie=.03285858361708423:ie=-.12354858211764992:ie=.0672788301823281:e[15]>1e-35?ie=.08658836986585006:ie=-.02741484278509758:e[290]>1e-35?ie=-.08161310335133287:e[135]>1e-35?ie=-.04824156054814152:ie=.0009156904299554183;let Pe;e[3]>7.500000000000001?Pe=.0006791852818377787:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Pe=.03642374718166293:Pe=.16379973756366603:Pe=-.03946685266127979:e[186]>1e-35?Pe=.07618896623420895:e[96]>1e-35?Pe=.0680272261319657:e[107]>1e-35?e[1]>48.50000000000001?Pe=-.022822371600847505:Pe=.0501405836324949:e[203]>1e-35?e[1]>77.50000000000001?Pe=.044416424920571296:Pe=-.0648450593196238:e[5]>3921.5000000000005?e[1]>110.50000000000001?Pe=-.11110466767595227:e[9]>5.500000000000001?e[9]>52.50000000000001?e[1]>50.50000000000001?Pe=.1061937286809567:e[7]>54.50000000000001?Pe=.11487507743121311:e[8]>819.5000000000001?Pe=-.07181278009001418:e[10]>25.500000000000004?Pe=.13499019430369633:e[1]>31.500000000000004?Pe=.09032979489780704:Pe=-.12754166393372374:e[9]>37.50000000000001?Pe=-.05093963635361407:Pe=-.005026651151683848:e[9]>2.5000000000000004?Pe=.07619735785573735:Pe=.012363301341532136:e[26]>1e-35?Pe=-.10685800454968203:e[8]>125.50000000000001?e[8]>446.50000000000006?e[0]>3842.5000000000005?Pe=-.08783796894105043:e[282]>1e-35?e[1]>47.50000000000001?e[9]>40.50000000000001?Pe=-.10764172927882483:Pe=.01890760098464703:Pe=.06573095405846417:e[8]>634.5000000000001?Pe=-.00783575973273707:Pe=-.050612689680229306:e[1]>22.500000000000004?Pe=-.0016842490401359626:Pe=.0738227088444087:Pe=-.02663970950432175;let Ae;e[31]>1e-35?e[8]>17.500000000000004?Ae=.013678038624884814:e[1]>35.50000000000001?e[1]>51.50000000000001?Ae=.007191286124908192:Ae=-.09347881647636902:e[10]>1.5000000000000002?Ae=.07938758708008091:Ae=-.008702935600305113:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ae=.12321804057595996:Ae=-.018281109320672437:e[23]>1e-35?e[4]>62.50000000000001?Ae=-.04644244754790671:Ae=.024546310702263208:e[8]>862.5000000000001?e[0]>3429.5000000000005?e[4]>9.500000000000002?e[52]>1e-35?Ae=.0706108609273337:e[2]>40.50000000000001?Ae=-.028046629962303716:Ae=-.06497613993109329:Ae=.01076489668586676:e[1]>33.50000000000001?e[0]>966.5000000000001?e[2]>14.500000000000002?e[1]>38.50000000000001?Ae=-.03056331974267756:Ae=-.11886389712497057:Ae=.053364962175658184:e[8]>2233.5000000000005?Ae=-.0448152521157682:Ae=.1508651602190868:e[2]>33.50000000000001?e[0]>2882.5000000000005?e[0]>3183.5000000000005?Ae=.03818796510453344:Ae=.23673992112982362:Ae=.02858814226507374:e[10]>44.50000000000001?Ae=-.1125863771551199:Ae=.009129996952394916:e[1]>7.500000000000001?Ae=-.004374525302461639:Ae=-.07858519434925451:e[149]>1e-35?e[6]>23.500000000000004?Ae=.0005231594491642136:e[0]>4053.5000000000005?e[8]>660.5000000000001?Ae=-.13677189943034931:e[10]>2.5000000000000004?Ae=.039591891437078086:Ae=-.09312596849507347:Ae=-.02423172142089822:Ae=.0009836986075266283;let We;e[189]>1e-35?e[0]>5269.500000000001?We=-.103183298350443:e[2]>51.50000000000001?We=.09784373530929913:e[10]>26.500000000000004?e[8]>764.5000000000001?We=-.05186168947388339:We=.0496996365539082:e[10]>23.500000000000004?We=.1404445738719:e[93]>1e-35?We=.0027146310074558505:e[5]>3821.5000000000005?We=.002153033152069652:e[4]>2.5000000000000004?We=.007663539551317215:We=.13902616832015402:e[298]>1e-35?e[8]>81.50000000000001?e[4]>64.50000000000001?We=.11498405722487515:e[2]>23.500000000000004?e[0]>2815.5000000000005?e[2]>44.50000000000001?e[4]>42.50000000000001?We=-.021479467709980358:We=.09336868994327292:e[1]>22.500000000000004?e[15]>1e-35?We=.021660293256233334:We=-.0927396152303864:We=.0665074081601698:e[0]>1550.5000000000002?We=.08972407105958534:We=-.0380796411182682:e[6]>13.500000000000002?e[10]>2.5000000000000004?We=.06761927942466854:We=-.015762168112653286:e[17]>1e-35?We=.10311304131145381:We=-.017672785252336027:We=-.08629805732772755:e[1]>24.500000000000004?e[138]>1e-35?We=-.10638321435298535:We=.0007073011744385905:e[18]>1e-35?We=-.027056185501334325:e[145]>1e-35?We=.023191199677450886:e[9]>33.50000000000001?e[201]>1e-35?We=.09762140519655171:e[9]>110.50000000000001?We=-.06581942957595835:e[6]>54.50000000000001?We=.04959634035251596:We=.0022616298654554207:We=-.007437620924990854;let z;e[179]>1e-35?z=-.06961998209988884:e[167]>1e-35?e[0]>3928.5000000000005?z=.1470294450403005:z=-.01671476793947083:e[187]>1e-35?e[6]>13.500000000000002?e[4]>30.500000000000004?e[13]>1e-35?z=.07448480853603114:e[0]>1012.5000000000001?e[5]>2883.5000000000005?e[0]>3682.5000000000005?e[5]>4031.5000000000005?e[23]>1e-35?z=.07965955447707423:e[10]>10.500000000000002?z=-.09236156404262426:z=.03396273196231458:z=-.13246465021467432:z=.07092822261735353:z=-.08753829085942:z=.09409024840640956:e[1]>40.50000000000001?e[8]>984.5000000000001?e[8]>1514.5000000000002?e[8]>2134.5000000000005?z=.004705878789890202:z=.13775378964952867:z=-.04770928980587811:e[10]>29.500000000000004?z=.011221519891071544:e[0]>3853.5000000000005?z=.06365381191628273:z=.15506252245336827:e[1]>37.50000000000001?z=-.07254777021042061:z=.026514587757252385:e[308]>1e-35?z=.04115804816617256:e[10]>26.500000000000004?z=.02077721353011946:e[5]>3548.5000000000005?z=-.1280907116663952:z=-.021974774274438:e[306]>1e-35?z=-.02700446558079895:e[297]>1e-35?e[212]>1e-35?z=.07794139136748461:e[7]>5.500000000000001?e[19]>1e-35?z=-.005710865560475598:e[94]>1e-35?z=-.06751507982853555:z=.027250040757588703:e[9]>52.50000000000001?z=.07060357924595577:z=-.030297760713011795:z=-.0006005400085266517;let te;e[113]>1e-35?te=-.07311041707507712:e[40]>1e-35?e[0]>1937.5000000000002?te=-.06996356565314456:te=.04780211300352931:e[10]>52.50000000000001?e[49]>1e-35?te=-.08317707559926495:e[21]>1e-35?te=-.0817284654645976:e[15]>1e-35?e[2]>3.5000000000000004?te=-.010538203005984922:te=.08454819465349446:e[9]>124.50000000000001?te=.09015659250299132:e[7]>15.500000000000002?e[5]>5732.500000000001?te=-.08542251249346582:e[9]>50.50000000000001?te=-.023428882537657472:te=.010042500833979073:te=.020697210754240154:e[10]>28.500000000000004?e[5]>423.00000000000006?e[148]>1e-35?te=.03006025206979096:e[9]>108.50000000000001?te=-.09153851322499747:e[145]>1e-35?e[5]>4814.500000000001?e[2]>38.50000000000001?te=.04222035773042132:te=-.09078149053947535:e[8]>568.5000000000001?e[1]>64.50000000000001?te=-.07209095448054853:te=.028065954981903313:te=.08714651929917122:te=-.006678820669279169:e[10]>40.50000000000001?te=.006982396294941626:te=-.07889649792011418:e[94]>1e-35?e[4]>30.500000000000004?te=-.09351114982645548:e[4]>3.5000000000000004?te=-.004837550129223451:te=-.08324141237464677:e[303]>1e-35?te=.10703037493990825:e[9]>156.50000000000003?te=-.10803018621648303:e[116]>1e-35?te=-.03208302566598311:e[212]>1e-35?e[243]>1e-35?te=.10261721665006701:te=.018994509090668264:te=.0011244262442038839;let Ne;e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?Ne=-.08404263465005328:e[0]>3682.5000000000005?Ne=.041259223920298876:e[1]>29.500000000000004?Ne=-.09541257493441671:Ne=.001482192721625409:Ne=.051541427372951004:e[3]>7.500000000000001?e[157]>1e-35?Ne=-.08268996098437432:e[230]>1e-35?Ne=.015749498159959817:e[4]>7.500000000000001?e[3]>11.500000000000002?Ne=-913218977737457e-19:e[4]>10.500000000000002?Ne=-.056334165674005156:e[127]>1e-35?Ne=-.0784634021824036:e[2]>9.500000000000002?e[1]>62.50000000000001?Ne=-.04231200150318989:e[10]>42.50000000000001?Ne=.10182973257894812:Ne=.015934763950068445:Ne=-.03130938805859397:e[92]>1e-35?e[4]>6.500000000000001?e[1]>51.50000000000001?e[9]>19.500000000000004?Ne=-.041117068322885315:Ne=.1167767830037126:Ne=.13611206992387337:e[10]>41.50000000000001?Ne=-.07120286010564107:Ne=.022032788063345417:e[8]>1.5000000000000002?e[1]>51.50000000000001?e[9]>72.50000000000001?Ne=-.07702290997669524:e[198]>1e-35?Ne=.08776558554437136:Ne=-.008290740324975692:e[2]>32.50000000000001?Ne=.07198457624219955:Ne=.005463113714361629:Ne=.09414099512900526:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Ne=.03295785445437507:Ne=.15140250150674536:Ne=-.035613213948910254:e[186]>1e-35?Ne=.06849425535860769:e[96]>1e-35?Ne=.06028225812727254:Ne=-.007582543288662308;let Se;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Se=.08396556264106572:Se=-.0562516995099192:Se=-.10593011018789432:e[183]>1e-35?e[15]>1e-35?Se=-.09705176473553752:e[7]>18.500000000000004?e[2]>37.50000000000001?Se=.0052017514017035915:Se=-.11194119432743639:Se=.03724337696163019:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?Se=-.025692451287403446:Se=-.09511862672123193:e[8]>1661.5000000000002?e[10]>37.50000000000001?Se=-.11892250746801664:e[10]>22.500000000000004?Se=.07548493166973796:Se=-.05973048107712209:e[4]>12.500000000000002?e[0]>4319.500000000001?e[10]>4.500000000000001?e[10]>37.50000000000001?Se=.13750699058082427:e[18]>1e-35?Se=.06535408879552801:Se=-.054118179035040674:Se=.1344282838979622:e[0]>3982.5000000000005?Se=-.10409582202467015:e[19]>1e-35?Se=.12672850705810795:e[8]>587.5000000000001?e[1]>35.50000000000001?Se=.012705935670766466:Se=.14149359442527545:Se=-.047977876173706004:e[20]>1e-35?Se=.057945228080337946:e[0]>3642.5000000000005?Se=-.008726535792122467:Se=-.08424769891378858:e[34]>1e-35?Se=-.0699329538228602:e[134]>1e-35?e[11]>1e-35?e[4]>15.500000000000002?e[0]>1187.5000000000002?Se=.01196849566739346:Se=.1614642278429876:Se=-.043022338150701625:e[3]>5.500000000000001?Se=-.03907848255033881:Se=.018280601026175593:Se=.0006654540402589085;let Ce;e[31]>1e-35?e[2]>58.50000000000001?e[9]>1.5000000000000002?Ce=-.01386103677247845:Ce=.11386694333005128:e[4]>27.500000000000004?Ce=-.021862617610091336:e[2]>31.500000000000004?Ce=.0828858469030438:Ce=.006483353475830127:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ce=.11303635767048735:Ce=-.01645525128352694:e[23]>1e-35?e[4]>62.50000000000001?Ce=-.04238798044549342:Ce=.022091190130494303:e[5]>5082.500000000001?Ce=-.04287166152163786:e[8]>862.5000000000001?e[19]>1e-35?Ce=.000660344696244351:e[4]>9.500000000000002?e[0]>1277.5000000000002?Ce=-.04291104140431434:e[17]>1e-35?Ce=.11256797532342613:Ce=-.017206916368289193:Ce=.026482035265709743:e[1]>8.500000000000002?e[11]>1e-35?Ce=.04060606971664621:e[0]>4733.500000000001?e[8]>214.50000000000003?e[5]>4814.500000000001?Ce=.03581712466863222:Ce=.14770264307668884:e[8]>73.50000000000001?Ce=-.13093289429740068:Ce=.042461737442702936:e[52]>1e-35?Ce=.0501831919044939:Ce=-.010450249720465756:Ce=-.0753365425372656:e[149]>1e-35?e[6]>23.500000000000004?Ce=.0005381332165438493:Ce=-.04549431717503909:e[133]>1e-35?e[2]>5.500000000000001?e[8]>698.5000000000001?e[282]>1e-35?Ce=.04849637311285226:Ce=-.036671377119808564:e[0]>421.50000000000006?Ce=.00020968499911058945:Ce=.11636422423182405:Ce=-.12687837788222575:Ce=.0012774367867215346;let Oe;e[120]>1e-35?Oe=.04776057572434719:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?Oe=-.042799574885345304:Oe=.07412430171193245:Oe=-.11248270469336048:e[193]>1e-35?Oe=-.060694220820603384:e[121]>1e-35?e[217]>1e-35?e[0]>4449.500000000001?e[4]>8.500000000000002?Oe=.028911612178122104:Oe=.12326369727728437:e[0]>4091.5000000000005?Oe=-.09370267064141052:e[0]>3519.5000000000005?e[8]>668.5000000000001?Oe=.1159839898100149:Oe=-.01924880886585737:e[8]>501.50000000000006?e[10]>16.500000000000004?Oe=-.0216343737351583:Oe=-.1220272260878369:e[2]>18.500000000000004?Oe=.09152924475072398:e[8]>55.50000000000001?Oe=.039508716651005665:Oe=-.11714436880423203:e[18]>1e-35?e[9]>2.5000000000000004?Oe=.06793009902674053:Oe=-.024060578029812988:e[4]>2.5000000000000004?e[2]>16.500000000000004?e[4]>11.500000000000002?Oe=-.04391068849624096:Oe=.04009967593394672:e[8]>1085.5000000000002?Oe=-.024773826356034825:Oe=-.13919707884246582:Oe=.06659278075192335:e[223]>1e-35?e[8]>668.5000000000001?Oe=-.11567917501901476:Oe=-.006813640337684114:e[3]>7.500000000000001?Oe=.0010671269682548076:e[7]>3.5000000000000004?e[1]>33.50000000000001?e[0]>1597.5000000000002?e[10]>1.5000000000000002?Oe=-.001754586408351048:Oe=-.055422422450722056:Oe=-.06090032532532226:e[0]>5269.500000000001?Oe=.11787981735983527:Oe=-.00198119768540783:Oe=.00210412924303036;let Ve;e[294]>1e-35?e[10]>50.50000000000001?Ve=-.09738558653332406:e[0]>2432.5000000000005?e[0]>4533.500000000001?Ve=-.06063239096209816:Ve=.03317022411417386:Ve=-.08607562321324262:e[120]>1e-35?e[4]>18.500000000000004?Ve=-.013608609329298802:Ve=.09078000157330264:e[99]>1e-35?Ve=.014828708581964632:e[10]>52.50000000000001?e[49]>1e-35?Ve=-.07536137260189814:Ve=.006253266595455118:e[10]>28.500000000000004?Ve=-.006106041147592768:e[9]>156.50000000000003?Ve=-.11828932797811101:e[94]>1e-35?Ve=-.02566078479505714:e[303]>1e-35?Ve=.09544850289775349:e[15]>1e-35?e[224]>1e-35?e[4]>56.50000000000001?Ve=-.08401252789168523:e[5]>4244.500000000001?Ve=.026372887658499107:e[1]>16.500000000000004?Ve=-.027836756345634026:Ve=.09205362097909099:Ve=.00934612788718244:e[203]>1e-35?Ve=-.016371658366767253:e[7]>26.500000000000004?e[0]>966.5000000000001?e[1]>38.50000000000001?e[146]>1e-35?e[9]>21.500000000000004?Ve=-.09580979052540028:e[1]>50.50000000000001?Ve=-.06402211827281554:Ve=.08342858760095972:e[2]>36.50000000000001?Ve=.008114897658204584:e[92]>1e-35?Ve=.09541587072672864:Ve=-.022342147210555434:Ve=-.01660492519175128:Ve=.014721622240945446:e[4]>25.500000000000004?e[11]>1e-35?Ve=.15846731118501817:Ve=.039498507912023195:e[245]>1e-35?Ve=.07008718676813333:Ve=.0019806389728814727;let Ze;e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[0]>4188.500000000001?Ze=-.01192072916082109:Ze=.13888590840802637:e[1]>16.500000000000004?e[8]>2302.5000000000005?Ze=.06874032717466054:e[4]>40.50000000000001?Ze=-.07752510020707537:e[1]>76.50000000000001?Ze=-.09944032260703917:e[8]>1381.5000000000002?Ze=-.054466635810800745:e[1]>32.50000000000001?Ze=.05974084520839573:Ze=-.0384718740755954:Ze=-.11374190719134032:e[0]>2151.5000000000005?Ze=-.13703645155803298:Ze=.004833344758654556:e[297]>1e-35?e[212]>1e-35?Ze=.06954747264544993:e[7]>9.500000000000002?e[19]>1e-35?e[1]>30.500000000000004?e[0]>4242.500000000001?Ze=.013539805885738608:Ze=-.0692740641801559:e[0]>2653.5000000000005?e[10]>57.50000000000001?Ze=.09941880179344399:Ze=-.01608127391210995:Ze=.08025226531247417:e[9]>67.50000000000001?Ze=.13525448212444113:e[6]>61.50000000000001?Ze=-.05511099182158894:e[94]>1e-35?Ze=-.06821509831783572:e[128]>1e-35?Ze=.11361314817714643:Ze=.030160785008575566:e[1]>13.500000000000002?e[8]>17.500000000000004?e[16]>1e-35?Ze=-.09954181329804547:e[197]>1e-35?Ze=.10102833149755386:e[188]>1e-35?Ze=.05584490988313965:e[9]>49.50000000000001?e[4]>5.500000000000001?Ze=-.03781554214742005:Ze=.09927933385592314:Ze=-.020006000056720083:Ze=-.10520473615957895:Ze=-.12006990846253787:Ze=-.00026111570975317574;let yt;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[0]>1725.5000000000002?e[7]>14.500000000000002?e[2]>38.50000000000001?yt=-.019188245509744628:yt=-.13354864350075848:e[0]>2461.5000000000005?yt=.051885477468354396:yt=-.0833581968852119:yt=.08233441701532287:yt=-.10865584951212362:e[8]>2992.5000000000005?e[10]>49.50000000000001?e[10]>56.50000000000001?e[1]>45.50000000000001?e[0]>2041.5000000000002?yt=.09926337893072812:yt=-.027753610497327715:e[0]>1972.5000000000002?yt=-.09780045823152517:yt=.032380915168504935:yt=.11502632261226381:e[17]>1e-35?yt=-.06094965899579662:e[10]>40.50000000000001?yt=-.07500475582440802:yt=.006499832113084677:e[10]>4.500000000000001?e[4]>10.500000000000002?yt=-.09584538995220808:yt=-.00908705814304442:yt=.03203281520813893:e[10]>49.50000000000001?yt=-.03146271513986384:e[2]>63.50000000000001?yt=.13172001315536286:e[224]>1e-35?yt=.08945777550527927:e[0]>2282.5000000000005?e[4]>4.500000000000001?yt=.09521549382082259:yt=-.04414925613522197:e[0]>1847.5000000000002?yt=-.09118580379557353:yt=.009206744918282364:e[178]>1e-35?e[2]>25.500000000000004?e[1]>31.500000000000004?yt=.03525144509943896:yt=-.053340750721609057:e[0]>1057.5000000000002?e[10]>2.5000000000000004?yt=-.04766112322938157:e[2]>10.500000000000002?yt=.0728516504357201:yt=-.05049625965272536:yt=-.10868663055825774:yt=.0005382613419948969;let Rt;e[147]>1e-35?e[1]>53.50000000000001?Rt=-.10615739288764095:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Rt=-.030504020655417463:Rt=.07102458639110094:Rt=-.07058131985243714:e[302]>1e-35?e[10]>47.50000000000001?Rt=.055304563442710876:e[1]>53.50000000000001?Rt=.033723409577443623:e[8]>175.50000000000003?e[0]>2628.5000000000005?e[9]>40.50000000000001?Rt=-.1568835288372895:Rt=-.0279829124400056:Rt=.04493843959601833:Rt=-.11637042729644327:e[191]>1e-35?e[282]>1e-35?Rt=-.054133834303687026:e[9]>48.50000000000001?Rt=.11263810289007213:e[9]>9.500000000000002?Rt=-.02202034562838259:e[4]>45.50000000000001?Rt=-.03410927569045158:Rt=.04381615166534081:e[242]>1e-35?e[0]>3615.5000000000005?e[3]>19.500000000000004?e[1]>56.50000000000001?e[4]>28.500000000000004?Rt=-.029687297407295893:Rt=.10673602850001934:e[4]>42.50000000000001?Rt=.0036275562945108117:Rt=-.0760789221330622:Rt=-.10385623431741903:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?Rt=.08274426793676076:Rt=-.07076234425516396:Rt=.13890177606150175:Rt=-.019863286503635686:e[53]>1e-35?e[18]>1e-35?Rt=-.09250637750836187:Rt=-.0031531727902009026:e[2]>107.50000000000001?e[4]>91.50000000000001?e[1]>16.500000000000004?Rt=-.01897867921812603:Rt=.04890781705365262:Rt=-.11569892307597907:e[2]>106.50000000000001?Rt=.09032697440623969:Rt=.00047935919155035045;let At;e[115]>1e-35?At=.05338335681275557:e[242]>1e-35?e[0]>3615.5000000000005?e[4]>42.50000000000001?e[4]>75.50000000000001?At=-.10131179514695865:e[8]>938.5000000000001?At=.10203729808015481:At=-.015357944186835289:e[1]>56.50000000000001?e[2]>22.500000000000004?At=.03574015165562999:At=-.07763042506449493:At=-.0813323116215548:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?At=.0665706259130275:At=-.06586817559309924:At=.11925564412287476:At=-.014170019267143326:e[1]>124.50000000000001?e[2]>30.500000000000004?e[8]>533.5000000000001?e[4]>41.50000000000001?e[8]>977.5000000000001?At=.046017146627455346:At=-.08623321630086885:e[8]>1765.5000000000002?At=-.017990564319859934:e[10]>25.500000000000004?e[10]>48.50000000000001?At=.11143827902215087:At=-.01817808730473413:At=.16980985030210127:At=-.09357806298740017:e[10]>7.500000000000001?e[10]>54.50000000000001?At=.010168994879727824:At=-.09099594488792513:e[9]>1.5000000000000002?At=.0533459678147928:At=-.06886854808370108:e[99]>1e-35?e[17]>1e-35?e[9]>22.500000000000004?At=-.062346959148773695:e[1]>47.50000000000001?At=-.0021578343835599316:e[2]>27.500000000000004?At=.19567373210166172:At=.07851555379116423:e[18]>1e-35?At=.03711549097804649:e[8]>359.50000000000006?At=.012492346746905587:e[4]>20.500000000000004?At=.047511695735697544:At=-.07999269063948773:At=6802045404471004e-20;let Ht;e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>2167.5000000000005?e[4]>25.500000000000004?Ht=.0011484728213539738:Ht=-.0936582904650763:e[2]>25.500000000000004?e[8]>182.50000000000003?e[10]>22.500000000000004?e[0]>5026.500000000001?Ht=-.09828874964938798:e[8]>1586.5000000000002?Ht=.13726397438080162:e[4]>48.50000000000001?e[2]>63.50000000000001?Ht=.011938269926919522:Ht=.17541983715953954:e[19]>1e-35?Ht=.023002786011088672:Ht=-.06221461272461431:e[9]>2.5000000000000004?e[0]>3818.5000000000005?Ht=.06508934844183291:Ht=-.10168553534835639:Ht=-.07755626499024171:e[2]>51.50000000000001?e[4]>65.50000000000001?Ht=.021140806225203937:Ht=-.1167833342453639:e[2]>33.50000000000001?Ht=.13163585734056618:Ht=-.00203273890889717:e[10]>36.50000000000001?e[8]>1067.5000000000002?Ht=.06314479201263888:Ht=-.09639088327091713:e[10]>29.500000000000004?Ht=.09225469303582386:e[0]>3129.5000000000005?e[0]>4091.5000000000005?e[0]>4354.500000000001?Ht=40577156464836036e-21:Ht=.12322387121810757:Ht=-.03697224045046014:e[1]>22.500000000000004?Ht=.016474835887320276:Ht=.16919298733903063:Ht=.07633203630214054:Ht=-.047438037934250644:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?Ht=.14150493354700563:Ht=-.01831155354975749:e[1]>28.500000000000004?Ht=-.07952557178685365:e[10]>28.500000000000004?Ht=.0665695554984927:Ht=-.053640139319277094:Ht=.0004754840665898665;let $t;e[76]>1e-35?$t=-.06814884255939921:e[179]>1e-35?$t=-.06325743795510681:e[122]>1e-35?e[6]>36.50000000000001?$t=.05052338063261613:e[8]>626.5000000000001?e[1]>38.50000000000001?$t=.004193658608848433:$t=-.1066968975983452:e[8]>302.50000000000006?$t=.05476730110440451:$t=-.06382970920394895:e[218]>1e-35?e[2]>3.5000000000000004?e[6]>13.500000000000002?e[2]>19.500000000000004?e[0]>3200.5000000000005?e[4]>91.50000000000001?$t=-.12156071809840739:e[9]>21.500000000000004?e[5]>3883.5000000000005?e[8]>919.5000000000001?e[8]>1085.5000000000002?$t=.013555772109446666:$t=-.09856116699770784:$t=.0284329611813383:e[2]>52.50000000000001?$t=.04008708444763762:e[9]>29.500000000000004?$t=-.1289599546008197:$t=-.018566534248335896:e[8]>747.5000000000001?$t=.02236484980076122:$t=.1148871655157582:e[8]>3084.0000000000005?$t=-.05573875952902531:e[10]>17.500000000000004?e[2]>51.50000000000001?$t=.03164751204281298:$t=.11752140436184891:e[9]>42.50000000000001?$t=-.07180559595410106:e[22]>1e-35?$t=.09325040416256854:$t=-.016041122807939914:$t=-.02765708954618808:e[1]>30.500000000000004?e[1]>66.50000000000001?$t=-.010718250133458515:$t=.09818827994853763:$t=.010180038981174032:$t=-.039472162599295535:e[9]>170.50000000000003?$t=-.08536729235976731:e[189]>1e-35?e[0]>5269.500000000001?$t=-.08674788057474031:$t=.02077653508548371:$t=-.0003536561382007414;let ir;e[86]>1e-35?e[10]>6.500000000000001?e[0]>4376.500000000001?ir=.018337297491457794:ir=-.05926206443180149:ir=.024026520855881126:e[288]>1e-35?e[184]>1e-35?ir=.10747078482128616:e[126]>1e-35?ir=-.10550625192391357:e[7]>71.50000000000001?ir=-.07698346027863572:e[8]>302.50000000000006?e[6]>49.50000000000001?e[4]>47.50000000000001?e[1]>38.50000000000001?e[15]>1e-35?ir=.1317396472229434:ir=-.025035791351328947:ir=-.0728334305864372:e[8]>963.5000000000001?ir=.023642201723096064:ir=.183010326734258:e[128]>1e-35?ir=.04228920135648387:e[2]>34.50000000000001?e[15]>1e-35?ir=.002801782941492993:e[3]>40.50000000000001?e[4]>39.50000000000001?ir=-.1088876900335281:ir=.02758317023002635:ir=-.11886771300807207:e[9]>59.50000000000001?e[1]>33.50000000000001?ir=-.01928020117446408:ir=.10193718474139135:e[1]>48.50000000000001?e[4]>9.500000000000002?e[8]>932.5000000000001?ir=.07893723375925096:ir=-.009878929627026153:e[10]>2.5000000000000004?e[9]>20.500000000000004?ir=-.10301657587280551:ir=.005787463140224318:ir=.07421364314695046:e[0]>2840.5000000000005?e[10]>29.500000000000004?ir=-.019296977889522397:ir=-.07274529751752634:e[1]>30.500000000000004?ir=-.050368901143148286:ir=.029630869489466655:e[2]>6.500000000000001?e[4]>9.500000000000002?ir=.0015332402792773946:ir=.09930153676749967:ir=-.06370844564357069:ir=.00042272155209927616;let ge;e[71]>1e-35?e[4]>17.500000000000004?ge=.12586844370423247:ge=-.006791999603126354:e[222]>1e-35?e[1]>10.500000000000002?e[30]>1e-35?e[1]>36.50000000000001?e[9]>1.5000000000000002?e[10]>25.500000000000004?ge=-.08474891624263797:e[8]>125.50000000000001?ge=.08125086980439704:ge=-.04082085238068532:e[0]>3863.5000000000005?ge=.020481535807469208:ge=.14810819386202126:e[0]>1937.5000000000002?e[2]>16.500000000000004?ge=-.019110200161573936:ge=-.12387719685855114:e[0]>1102.5000000000002?ge=.08376595701957407:ge=-.031821919580524834:e[9]>4.500000000000001?ge=-.08116383486497568:e[7]>8.500000000000002?e[2]>24.500000000000004?ge=-.02154820850475448:e[0]>3863.5000000000005?e[8]>902.5000000000001?ge=.1349841206807871:ge=.011864053595560297:e[1]>41.50000000000001?ge=-.08203662486612544:e[2]>18.500000000000004?ge=-.009541865642346947:ge=.08345043168501759:e[2]>10.500000000000002?ge=-.09585031818030947:ge=.019432330487099865:ge=.08399259524715129:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?ge=.11951517733981365:ge=-.016651014735738538:e[1]>28.500000000000004?ge=-.07410922545030711:e[10]>28.500000000000004?ge=.05886430683844788:ge=-.04929626605117184:e[191]>1e-35?e[9]>9.500000000000002?e[9]>48.50000000000001?ge=.04802269879144705:ge=-.026208212831796737:e[4]>45.50000000000001?ge=-.03227476944664786:ge=.05124575625622705:ge=.00020506696916003137;let Le;e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?Le=-.03042091758483443:e[10]>14.500000000000002?Le=.09816619204768777:Le=.01332124067720947:e[8]>8.500000000000002?e[4]>15.500000000000002?Le=-.02381165060401718:Le=-.10950361804974783:Le=.03538211665111128:e[212]>1e-35?e[19]>1e-35?Le=-.09940014650006174:e[0]>2215.5000000000005?e[5]>5056.500000000001?e[3]>5.500000000000001?e[10]>25.500000000000004?Le=-.06371052144380579:Le=.0835500621252692:Le=-.10408255929333915:e[1]>74.50000000000001?Le=.13208968122712403:e[1]>64.50000000000001?Le=-.04778844603644965:e[8]>51.50000000000001?e[8]>201.50000000000003?e[8]>660.5000000000001?e[6]>4.500000000000001?e[9]>5.500000000000001?e[1]>29.500000000000004?e[0]>3830.5000000000005?Le=.09922816902423433:Le=.016366955328796718:Le=.1592412560903584:e[1]>39.50000000000001?Le=.05409467990258923:Le=-.08260633210459611:Le=-.06307205775247567:e[9]>36.50000000000001?Le=.040253940015648144:Le=.14202568969471283:Le=-.028761848341594044:Le=.08994073058773508:e[0]>807.5000000000001?Le=-.043427848826323195:Le=.04573516446846493:e[20]>1e-35?e[188]>1e-35?Le=-.0758877731600639:e[23]>1e-35?Le=.05913923322043199:e[8]>155.50000000000003?e[128]>1e-35?Le=.08124700978741987:Le=.013296063087086852:e[7]>5.500000000000001?Le=-.01640196088612987:Le=-.12685498840146067:Le=-.0004940792382459551;let Ke;e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Ke=-.05584993681929434:e[9]>27.500000000000004?e[0]>3916.5000000000005?Ke=.08513773825688947:Ke=-.1184664832315282:Ke=.05676963535893477:Ke=.14263843210340613:Ke=.0005795003292924202:e[18]>1e-35?e[0]>5453.500000000001?e[1]>11.500000000000002?Ke=-.10669720555606924:Ke=.029016613003137307:e[2]>46.50000000000001?e[10]>9.500000000000002?Ke=.0664744575868955:Ke=-.08469256188890871:Ke=-.026746678040592144:e[281]>1e-35?Ke=-.07408427239006925:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Ke=.012131807587207655:Ke=-.12776015795398743:Ke=.04320472481083551:Ke=.08390980661550446:e[10]>227.50000000000003?Ke=-.09771783809101153:e[10]>130.50000000000003?Ke=.11175201938704937:e[8]>779.5000000000001?e[5]>3325.5000000000005?e[128]>1e-35?Ke=-.07610698254064358:e[8]>902.5000000000001?Ke=-.03136381213599649:e[131]>1e-35?Ke=.0704821739127936:e[224]>1e-35?Ke=-.056961477774953785:e[10]>30.500000000000004?e[9]>43.50000000000001?Ke=.10431473040024908:e[8]>841.5000000000001?Ke=.07304745320500514:Ke=-.038011541882439825:Ke=-.01679746695007364:e[0]>3129.5000000000005?Ke=.05589952587431965:e[210]>1e-35?Ke=.06227198085800842:Ke=-.0011341890997947812:e[8]>740.5000000000001?Ke=.04817300084412584:Ke=-.000577001010789238;let et;e[187]>1e-35?e[6]>12.500000000000002?e[10]>8.500000000000002?e[10]>16.500000000000004?e[8]>234.50000000000003?e[4]>43.50000000000001?e[0]>4476.500000000001?et=-.10504730480402079:e[5]>3341.5000000000005?et=.11087894671081754:et=-.0406668834674614:et=.03308382165616109:e[8]>104.50000000000001?et=-.10431436764549162:et=.0073928337244891455:e[4]>34.50000000000001?et=-.10571751512748416:et=-.006081128814142983:e[13]>1e-35?et=.1299673566095023:e[4]>60.50000000000001?et=-.06587492443829139:e[0]>2604.5000000000005?e[3]>19.500000000000004?et=.04857126072645073:et=-.03431365358104773:e[4]>16.500000000000004?et=.04101865986596709:et=.16480274980378218:e[10]>26.500000000000004?et=.03673978504199255:e[10]>9.500000000000002?et=-.10996402743800027:e[308]>1e-35?et=.0553693735082498:et=-.041600136235644125:e[306]>1e-35?e[8]>1156.5000000000002?e[4]>14.500000000000002?e[10]>21.500000000000004?et=.010902983761213922:et=.1325118659895645:et=-.064362945508595:e[1]>66.50000000000001?et=.033416767779331176:et=-.054080316225040496:e[42]>1e-35?et=-.07762364337810815:e[10]>1089.5000000000002?et=-.08465599849125216:e[31]>1e-35?e[8]>30.500000000000004?et=.012788520036013586:e[1]>32.50000000000001?e[1]>51.50000000000001?et=.0220102041325908:et=-.06516708740003069:et=.012833498905748267:e[224]>1e-35?et=-.007038418272997865:et=.00037666304316290967;let St;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?St=.07554189644995735:St=-.052089349455904946:St=-.10148206848169845:e[113]>1e-35?St=-.06666678653225779:e[39]>1e-35?e[9]>3.5000000000000004?e[0]>3670.5000000000005?St=.07172653627995676:St=-.07602959317610998:St=-.08790686271287523:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?St=-.0399322883690891:St=.06523495517476098:St=-.10358715295743802:e[193]>1e-35?St=-.05551414334329124:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[10]>1.5000000000000002?St=.015928764772252406:St=.1341513061552287:St=-.04975001987586173:e[10]>2.5000000000000004?e[3]>5.500000000000001?e[9]>2.5000000000000004?e[8]>310.50000000000006?St=-.033592997607280156:St=-.12432458028446665:e[1]>32.50000000000001?e[217]>1e-35?St=-.08402551858097379:St=.017401984506038796:e[1]>25.500000000000004?St=.13337205393591278:St=-.01160208350090984:St=.06708317942315471:e[8]>227.50000000000003?St=-.08486943882418681:St=-.013970104864235007:e[8]>4968.500000000001?e[1]>31.500000000000004?e[9]>4.500000000000001?St=-.10496268177586783:St=-.020921489532370493:St=.02629915927247642:e[7]>20.500000000000004?e[8]>251.50000000000003?e[115]>1e-35?St=.11639296062157028:St=-.004275784356569115:e[32]>1e-35?St=-.07297384970166025:St=.006026841626381599:St=.002034611134960428;let xt;e[248]>1e-35?xt=.06091438745093315:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?xt=-.06455513326540585:e[1]>29.500000000000004?xt=.07718474591552532:e[4]>7.500000000000001?xt=.040139336931404826:xt=-.09685734690563386:xt=.00015327283570347363:e[9]>88.50000000000001?xt=.10079017954199324:e[1]>47.50000000000001?e[2]>20.500000000000004?e[2]>27.500000000000004?xt=-.04077257804338707:xt=.0739963982640615:e[9]>1.5000000000000002?e[17]>1e-35?xt=.03778141591008941:xt=-.06459919920634845:xt=-.11193190957880604:e[7]>6.500000000000001?e[11]>1e-35?e[18]>1e-35?xt=.14063930759326346:e[0]>179.50000000000003?xt=.07287482250668585:e[8]>1180.5000000000002?xt=-.14419393112726253:e[10]>28.500000000000004?xt=-.07993142770099469:e[17]>1e-35?xt=-.04702595410391655:e[7]>21.500000000000004?e[2]>26.500000000000004?xt=.05527969663610186:xt=-.10824385941441346:e[3]>11.500000000000002?xt=.12358502961047915:xt=-.017509147119622873:e[0]>74.50000000000001?xt=-.014907705458730486:e[8]>95.50000000000001?xt=-.02225118168342062:xt=-.1222374623708485:e[8]>1.5000000000000002?e[8]>950.5000000000001?xt=.06946188930925638:e[3]>6.500000000000001?e[10]>2.5000000000000004?e[19]>1e-35?xt=.04962819555610421:xt=-.07213577821855309:xt=.09139529824708481:e[19]>1e-35?xt=.013439401088345224:xt=-.049274647207292056:xt=.10531673719686951;let Nt;e[40]>1e-35?e[0]>1937.5000000000002?Nt=-.06421671152073961:Nt=.04235421241226177:e[294]>1e-35?e[10]>50.50000000000001?Nt=-.09100102290316286:e[0]>3030.5000000000005?e[0]>4177.500000000001?Nt=-.03520420769287065:e[8]>1085.5000000000002?Nt=-.019817352506127633:Nt=.11444439424520964:Nt=-.06854631664538167:e[120]>1e-35?e[4]>18.500000000000004?Nt=-.010490117519863269:Nt=.08104430117757461:e[121]>1e-35?e[243]>1e-35?Nt=.16408304891242204:e[217]>1e-35?e[0]>4449.500000000001?Nt=.06619344145920268:e[0]>4091.5000000000005?Nt=-.08813353450871053:e[0]>3519.5000000000005?e[8]>668.5000000000001?Nt=.10016091391222309:Nt=-.017407607199427293:e[8]>501.50000000000006?e[10]>16.500000000000004?Nt=-.019511460451434884:Nt=-.11643672465055221:e[2]>18.500000000000004?Nt=.07848228087333317:e[8]>55.50000000000001?Nt=.032583027899956235:Nt=-.11209832692153521:e[11]>1e-35?Nt=.027482174104412567:e[10]>1.5000000000000002?e[6]>26.500000000000004?e[4]>19.500000000000004?e[9]>31.500000000000004?Nt=-.09996887746328006:e[9]>2.5000000000000004?Nt=.02157682011863397:Nt=-.05247727848991843:Nt=.07409150201483244:e[1]>38.50000000000001?Nt=-.11378466075449625:e[224]>1e-35?Nt=-.10741749127732923:e[1]>26.500000000000004?Nt=.07343136534146562:Nt=-.07013573628594773:e[25]>1e-35?Nt=-.04626669734164317:Nt=.05518333197956482:Nt=.00032434010867555516;let Qt;e[183]>1e-35?e[10]>1.5000000000000002?e[17]>1e-35?Qt=.026313251010808853:Qt=-.08997339150292381:Qt=.025062509535227952:e[227]>1e-35?e[1]>6.500000000000001?e[2]>9.500000000000002?e[210]>1e-35?Qt=.08071107515789745:e[23]>1e-35?e[1]>75.50000000000001?Qt=.0905155504503746:e[8]>1049.5000000000002?Qt=-.062312558183394054:e[8]>719.5000000000001?Qt=.09583836191410239:e[0]>3719.5000000000005?Qt=-.0778097309430818:Qt=.04012012419054895:e[4]>12.500000000000002?e[8]>1496.5000000000002?e[10]>42.50000000000001?Qt=-.12920865648544927:e[0]>2699.5000000000005?Qt=-.07086587879041864:Qt=.022614182502461846:e[4]>15.500000000000002?e[8]>55.50000000000001?e[1]>60.50000000000001?e[8]>652.5000000000001?Qt=-.11377786322600797:Qt=-.009486325820117998:e[1]>55.50000000000001?Qt=.12430248795958142:e[0]>2952.5000000000005?e[0]>4331.500000000001?e[1]>38.50000000000001?Qt=-.07938291201004219:e[2]>36.50000000000001?Qt=.01520046732530246:Qt=.13649854049662832:Qt=-.07145015938528873:e[8]>407.50000000000006?Qt=-.00350257360822279:Qt=.11332047082193297:Qt=-.10060624458629897:Qt=.05429496612497562:e[8]>1446.5000000000002?Qt=.006073419197482838:Qt=-.08718676350883998:Qt=-.11532497988252638:Qt=.10766270463068293:e[34]>1e-35?Qt=-.06345912440611544:e[131]>1e-35?e[9]>1.5000000000000002?Qt=-.0004109812623829506:Qt=.021601073497455662:Qt=-7343540098965853e-20;let Tt;e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?Tt=-.06107663265515864:e[9]>70.50000000000001?e[10]>37.50000000000001?Tt=.05995640200798119:e[0]>3443.5000000000005?Tt=-.14698883458733583:Tt=-.030039164579240187:e[189]>1e-35?Tt=-.06086763220538141:e[1]>86.50000000000001?Tt=-.05096727866142538:e[4]>64.50000000000001?Tt=.11240554253834577:e[4]>45.50000000000001?Tt=-.030279760168394117:e[6]>45.50000000000001?Tt=.10161088917815142:e[10]>77.50000000000001?Tt=-.0792333078055653:e[7]>23.500000000000004?e[0]>2882.5000000000005?Tt=-.06672020005240323:Tt=.08831457502630258:e[8]>2592.5000000000005?Tt=-.052617701047376654:e[10]>29.500000000000004?Tt=.08499327690298047:e[2]>12.500000000000002?e[9]>41.50000000000001?Tt=.12880460816709416:e[9]>25.500000000000004?e[4]>11.500000000000002?Tt=-.064099222705728:Tt=.044332487521538365:e[0]>2882.5000000000005?Tt=.031099546885005065:Tt=.12938467051623853:e[0]>4221.500000000001?Tt=-.0928676413498701:e[9]>30.500000000000004?Tt=-.05781824812803708:Tt=.07561268901778094:e[8]>711.5000000000001?e[2]>22.500000000000004?Tt=-.06648105454098469:Tt=.05985487552383097:Tt=-.13070190291919334:e[116]>1e-35?e[10]>38.50000000000001?Tt=.05282385499619401:e[1]>66.50000000000001?Tt=.048802929108006314:e[2]>4.500000000000001?e[0]>4593.500000000001?Tt=.027885690791379255:Tt=-.08407126408362446:Tt=.014432924125571093:Tt=-9903435845205118e-20;let _t;e[76]>1e-35?_t=-.06307875292162934:e[21]>1e-35?e[7]>10.500000000000002?e[10]>4.500000000000001?e[8]>944.5000000000001?e[0]>3655.5000000000005?_t=.013633653464240465:_t=-.10164319411983509:_t=-.1228424374328996:e[1]>26.500000000000004?e[2]>28.500000000000004?_t=.00632864847804078:_t=-.08393000368134668:_t=.07870508617440916:e[284]>1e-35?_t=.1092302727710421:_t=-.0025505047582483234:e[248]>1e-35?_t=.07101822393621864:e[274]>1e-35?_t=-.06621099406425579:e[1]>26.500000000000004?e[1]>28.500000000000004?_t=.0003077044909372931:e[10]>2.5000000000000004?e[0]>3770.5000000000005?_t=.025081789181021243:_t=-.014813325803582618:e[9]>33.50000000000001?_t=-.033466921233840194:e[3]>12.500000000000002?e[23]>1e-35?_t=.11926990418060353:_t=.01852125513565268:_t=.0975367595927343:e[5]>3325.5000000000005?e[8]>892.5000000000001?e[133]>1e-35?_t=-.1178464984373743:e[283]>1e-35?_t=.043370859226927405:e[5]>4320.500000000001?_t=-.01103141226366587:e[8]>1104.5000000000002?_t=-.023053423988095886:_t=-.0734238953804657:e[6]>18.500000000000004?e[8]>85.50000000000001?_t=.000579145585864887:_t=.03389152834202143:e[128]>1e-35?_t=-.14527722052568462:e[210]>1e-35?_t=-.08915971541902741:e[7]>9.500000000000002?_t=-.03307314577076116:e[18]>1e-35?_t=-.05521712302023565:_t=.009315605032770029:_t=.0036332551852289933;let wt;e[0]>689.5000000000001?e[5]>768.5000000000001?e[20]>1e-35?e[5]>4368.500000000001?wt=-.07583539600416284:e[188]>1e-35?wt=-.07042659515500142:e[23]>1e-35?e[0]>3807.5000000000005?wt=-.011038193049597113:wt=.08154028164397753:e[1]>85.50000000000001?wt=.10259361975201933:wt=.011640408330521594:wt=-.00023319159023748508:e[92]>1e-35?wt=.13771692859530546:wt=.022860029819654806:e[1]>22.500000000000004?e[1]>24.500000000000004?e[2]>96.50000000000001?wt=.09967230141007705:e[30]>1e-35?wt=-.08888529037551285:wt=-.008615931385397808:e[10]>5.500000000000001?e[4]>36.50000000000001?wt=.08284665960761373:wt=-.029292565021289504:e[7]>7.500000000000001?wt=-.09945093355204493:wt=-.008381393701708593:e[20]>1e-35?wt=-.04218678460370465:e[10]>6.500000000000001?e[9]>2.5000000000000004?e[1]>13.500000000000002?e[8]>143.50000000000003?e[4]>7.500000000000001?e[2]>36.50000000000001?wt=.07585582641438211:e[8]>284.50000000000006?wt=-.029387993239886723:wt=.07716738177321587:e[1]>18.500000000000004?wt=.026745348497993746:wt=.1427429617069753:e[9]>16.500000000000004?e[9]>33.50000000000001?wt=.02337306890530338:wt=-.10390355904767366:wt=.07390521199638532:wt=-.06788247515155237:wt=-.04201446383470994:e[2]>25.500000000000004?e[2]>29.500000000000004?e[8]>227.50000000000003?wt=-.06360325615644084:wt=.04342192339836601:wt=-.10598779152030145:wt=.05253384605768211;let Ot;e[3]>7.500000000000001?e[157]>1e-35?Ot=-.07514182877923786:Ot=.000636205502279271:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Ot=.028692053800951845:Ot=.14081686716133598:Ot=-.03316566526940354:e[186]>1e-35?e[0]>2653.5000000000005?Ot=.0037139292567243084:Ot=.12662311031652707:e[107]>1e-35?e[0]>612.5000000000001?Ot=.01202688580305612:Ot=.0993509141454483:e[203]>1e-35?e[1]>77.50000000000001?Ot=.043935495082738626:Ot=-.05639305759669704:e[247]>1e-35?Ot=-.06770766046891649:e[105]>1e-35?e[19]>1e-35?Ot=.10331836202616368:Ot=.0006926658459781341:e[96]>1e-35?Ot=.05361846065599475:e[127]>1e-35?e[0]>2723.5000000000005?e[1]>54.50000000000001?Ot=-.0741403257305367:Ot=.022900127535540854:e[7]>3.5000000000000004?Ot=.038110741403836294:Ot=.14618649985842758:e[5]>3921.5000000000005?e[1]>110.50000000000001?Ot=-.09552842289807008:e[1]>27.500000000000004?Ot=.012505935885798007:Ot=-.020509603428689526:e[282]>1e-35?e[9]>45.50000000000001?e[6]>5.500000000000001?Ot=-.1046104767723845:Ot=.031388606992301074:e[8]>114.50000000000001?e[9]>17.500000000000004?e[9]>22.500000000000004?e[1]>32.50000000000001?Ot=.023466328488582572:Ot=.11730925774586994:Ot=-.04771965631104874:Ot=.17059689880751394:Ot=-.08181850955999449:e[26]>1e-35?Ot=-.12727482696678769:Ot=-.014343123272734182;let Wt;e[147]>1e-35?e[1]>53.50000000000001?Wt=-.0993064321015924:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Wt=-.02763546051134888:Wt=.06423344777499343:Wt=-.064606430904295:e[302]>1e-35?e[10]>2.5000000000000004?e[10]>47.50000000000001?Wt=.049825139823021586:e[7]>22.500000000000004?Wt=-.01131680751379858:e[0]>2579.5000000000005?Wt=-.10673674485369694:Wt=-.015387212937189957:Wt=.04347325151148724:e[179]>1e-35?Wt=-.05788885608624092:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Wt=.0650355590939066:Wt=-.0473332870892226:Wt=-.09699315983340703:e[288]>1e-35?e[88]>1e-35?Wt=.11139543329789044:e[126]>1e-35?Wt=-.09726928633696198:e[8]>149.50000000000003?e[9]>46.50000000000001?e[4]>1.5000000000000002?e[8]>1861.5000000000002?Wt=.06370903833231022:e[10]>29.500000000000004?Wt=.03415223859607161:e[10]>3.5000000000000004?Wt=-.07415518117873297:Wt=-.0014119203473324082:Wt=.12617652343819508:e[9]>41.50000000000001?Wt=-.10311145857176976:e[8]>2757.5000000000005?Wt=-.08106484219011428:e[7]>71.50000000000001?Wt=-.09783384432091176:e[1]>88.50000000000001?Wt=.06249739709782831:e[3]>9.500000000000002?e[5]>1601.5000000000002?Wt=-.008884084501608536:Wt=.061339437777743616:Wt=-.042490992675121846:e[2]>6.500000000000001?e[3]>10.500000000000002?Wt=.01526664064166223:Wt=.13534828515415498:Wt=-.06985484465894776:Wt=.0005758961943178744;let zt;e[86]>1e-35?e[1]>23.500000000000004?e[1]>29.500000000000004?e[4]>16.500000000000004?e[2]>31.500000000000004?zt=-.029152732370514342:zt=.07173628916139178:e[1]>36.50000000000001?zt=-.08859111297255318:zt=.0018030071815630785:zt=.13652461563759322:zt=-.07550137680349367:e[10]>52.50000000000001?e[49]>1e-35?zt=-.07145140450454163:e[21]>1e-35?zt=-.07422841663493233:zt=.006289319702780104:e[10]>40.50000000000001?e[9]>59.50000000000001?e[19]>1e-35?e[13]>1e-35?zt=.11864240653986852:e[3]>33.50000000000001?zt=-.08821209591953476:zt=.05706392280054726:zt=-.03600088051578915:e[18]>1e-35?e[1]>24.500000000000004?zt=.01953613016837112:zt=-.059781039130025006:e[148]>1e-35?zt=.052668447861325476:e[3]>30.500000000000004?e[9]>49.50000000000001?zt=.07207826841738371:e[202]>1e-35?zt=.08163917539410503:zt=-.01319846363832958:e[9]>35.50000000000001?e[5]>4134.500000000001?e[10]>44.50000000000001?zt=-.06858280496900336:zt=-.1781828899516648:zt=-.04024620133969553:e[9]>10.500000000000002?e[1]>22.500000000000004?e[1]>37.50000000000001?zt=.018232649414147116:zt=-.04419781124222661:zt=.05145485182416554:e[1]>23.500000000000004?e[0]>655.5000000000001?e[5]>4901.500000000001?e[10]>45.50000000000001?zt=.11452368095776105:zt=-.036496437259924026:zt=-.040445338739465486:zt=.0816572651001145:zt=-.08968914517368663:zt=.0002826343082585516;let lr;e[189]>1e-35?e[0]>5269.500000000001?lr=-.08839493050459957:e[10]>85.50000000000001?lr=.10046908365702462:e[8]>2592.5000000000005?lr=-.09632233975926387:e[8]>2000.5000000000002?lr=.10282992953871627:e[8]>1266.5000000000002?e[9]>34.50000000000001?lr=.035504970430426296:e[1]>31.500000000000004?lr=-.1133764813142531:lr=-.01138280942244812:e[8]>1125.5000000000002?lr=.09800530246229806:lr=.016170419267589393:e[218]>1e-35?e[9]>99.50000000000001?e[9]>101.50000000000001?e[9]>124.50000000000001?lr=.07316772160107896:lr=-.059095014819051765:lr=.17859437315769733:e[2]>1.5000000000000002?e[9]>86.50000000000001?lr=-.09150209066166894:e[8]>3084.0000000000005?lr=-.05443972593168094:e[1]>65.50000000000001?e[10]>11.500000000000002?e[9]>33.50000000000001?lr=-.04449234460408263:lr=.05568837973347338:lr=-.12362324875024472:e[1]>41.50000000000001?e[10]>12.500000000000002?e[8]>1336.5000000000002?lr=.12741077850267066:lr=.007372371864985329:e[2]>39.50000000000001?lr=.02295917234617787:lr=.14966532083907075:e[1]>39.50000000000001?lr=-.06685557815340279:e[10]>22.500000000000004?e[2]>52.50000000000001?lr=-.02511861881285652:e[1]>27.500000000000004?lr=.08683660011672288:lr=.02956214835267301:e[9]>15.500000000000002?lr=-.016538805462996232:lr=.04352738094981517:lr=-.05561856645643868:e[9]>170.50000000000003?lr=-.07996752635874248:e[179]>1e-35?lr=-.09065975936933919:lr=-.00042817975060427177;let hr;e[39]>1e-35?e[4]>25.500000000000004?hr=.03443173196222934:hr=-.06554248341270724:e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[4]>86.50000000000001?hr=-.0013415395759330318:hr=.12950978489563347:e[1]>22.500000000000004?e[10]>19.500000000000004?e[4]>30.500000000000004?e[9]>41.50000000000001?hr=.002297618040307216:hr=-.12522800128774994:e[4]>8.500000000000002?e[8]>1075.5000000000002?hr=-.015297257305397608:hr=.09651828834062742:hr=-.06636003334371929:e[10]>11.500000000000002?hr=.17631616138309397:e[0]>1639.5000000000002?hr=3804386478092585e-20:hr=-.09099296398683193:hr=-.06874415876172972:e[0]>2151.5000000000005?hr=-.1311264883406766:hr=.00809052010141122:e[253]>1e-35?hr=-.06338558211939296:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?e[10]>10.500000000000002?e[0]>3615.5000000000005?hr=.045038497754638605:hr=-.07770167665661752:hr=-.08596294280650517:hr=.08538655727027213:hr=.09829076418590559:e[1]>39.50000000000001?e[9]>1.5000000000000002?hr=.054627956617973275:e[1]>61.50000000000001?hr=-.11994465088415499:e[4]>8.500000000000002?hr=.06676200239406452:hr=-.027503148069376867:e[8]>676.5000000000001?hr=-.10363964928357075:e[4]>8.500000000000002?hr=-.07589816227175682:hr=.034664436544646814:e[1]>159.50000000000003?e[6]>25.500000000000004?hr=.009093153189012338:hr=-.06119765876605404:hr=.0004668642103528348;let sr;e[223]>1e-35?e[1]>31.500000000000004?e[8]>711.5000000000001?sr=-.10100794502567233:sr=.08000205636470442:sr=-.11945419826856896:e[113]>1e-35?sr=-.06105445938688056:e[167]>1e-35?e[0]>3928.5000000000005?sr=.1224302423880318:sr=-.01875566982911468:e[222]>1e-35?e[1]>8.500000000000002?e[1]>24.500000000000004?e[4]>3.5000000000000004?e[0]>725.5000000000001?e[0]>1682.5000000000002?e[0]>2860.5000000000005?sr=.0019277012166729114:e[1]>28.500000000000004?sr=-.054445821715687494:sr=.045645722976713245:e[30]>1e-35?sr=.13402660155331655:sr=.008921176001777645:sr=-.058547426505451076:sr=.08841202222426625:e[1]>22.500000000000004?e[10]>9.500000000000002?sr=-.13526418192218206:sr=-.03266013432583145:e[1]>20.500000000000004?e[4]>27.500000000000004?sr=.0007263224246135398:sr=.12450043268647056:e[1]>17.500000000000004?e[9]>1.5000000000000002?sr=-.11575657261278308:sr=-.01530376565862095:e[4]>13.500000000000002?e[4]>22.500000000000004?sr=-.01995960178292952:sr=.11216586049153021:sr=-.10050961087149474:sr=.08848063368485726:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?sr=.10303451081526649:sr=-.01375730267020699:e[1]>28.500000000000004?e[2]>20.500000000000004?sr=-.043799548968209395:sr=-.12451444314954115:e[4]>12.500000000000002?sr=-.03838117361958468:sr=.06504990789767144:e[57]>1e-35?sr=.06890006938293915:sr=.0003914274695562949;let cr;e[53]>1e-35?e[4]>11.500000000000002?e[8]>617.5000000000001?e[2]>41.50000000000001?cr=.004271749009686975:cr=-.10523878297127605:cr=.04633982158107851:cr=-.10349713975483057:e[183]>1e-35?e[15]>1e-35?cr=-.08655730561951676:e[8]>919.5000000000001?cr=-.0676453705610183:e[7]>18.500000000000004?cr=-.027787974193650575:cr=.08012784576991301:e[227]>1e-35?e[1]>6.500000000000001?e[3]>8.500000000000002?e[210]>1e-35?cr=.07185850683316512:e[8]>201.50000000000003?e[8]>348.50000000000006?e[23]>1e-35?e[8]>1049.5000000000002?cr=-.03473877164537313:e[8]>719.5000000000001?cr=.10471053866934404:cr=.008236107678382981:e[4]>57.50000000000001?cr=.09412219478825269:e[10]>66.50000000000001?cr=-.13884338641811986:e[10]>19.500000000000004?e[10]>22.500000000000004?e[0]>2490.5000000000005?cr=-.040681323751002293:cr=.06374650297561021:cr=.12884615227401788:e[10]>5.500000000000001?cr=-.0887517295786972:e[8]>597.5000000000001?e[18]>1e-35?cr=-.05474068967150784:cr=.03744700650806603:cr=-.07846396348680855:e[1]>42.50000000000001?cr=.018972315810821302:cr=.10953621007604744:e[5]>4439.500000000001?cr=.010999776705494586:e[1]>40.50000000000001?cr=-.12394200059775967:e[10]>2.5000000000000004?cr=.013528093962849453:cr=-.09222088417048682:cr=-.12662967149701485:cr=.09327296405849603:e[3]>99.50000000000001?cr=-.013581954439986752:cr=.0005526498251862075;let Zt;e[187]>1e-35?e[243]>1e-35?Zt=-.08392792551692502:e[10]>68.50000000000001?Zt=.07871769409454053:e[10]>8.500000000000002?e[10]>16.500000000000004?e[2]>17.500000000000004?e[3]>31.500000000000004?e[91]>1e-35?e[10]>21.500000000000004?e[10]>33.50000000000001?e[10]>48.50000000000001?Zt=-.0825306209711224:Zt=.049559996084532945:Zt=-.1064938580886302:Zt=.03353240732240275:Zt=.045985370399163464:e[1]>42.50000000000001?e[4]>20.500000000000004?Zt=.16966001471529374:e[1]>57.50000000000001?Zt=-.005772777673676247:Zt=.09383677041525058:e[8]>747.5000000000001?Zt=.054068175469351235:Zt=-.049968216310277036:e[8]>753.5000000000001?Zt=-.0679383555784074:e[4]>8.500000000000002?Zt=-.059757341189735386:Zt=.05701083682780414:Zt=-.052497281448921164:e[6]>12.500000000000002?e[8]>969.5000000000001?e[4]>23.500000000000004?Zt=.05820296128730006:Zt=-.1063042385102475:e[1]>49.50000000000001?e[8]>302.50000000000006?Zt=.15340611616954566:Zt=.04385036188666874:e[0]>4449.500000000001?Zt=-.02110897605541555:e[1]>24.500000000000004?e[2]>17.500000000000004?Zt=.004840354641006495:Zt=.09967827580276283:Zt=.11605363537391578:e[9]>19.500000000000004?Zt=-.0735831692725717:Zt=.019973331823355176:e[306]>1e-35?e[149]>1e-35?Zt=-.08968948874343531:e[8]>1094.5000000000002?e[10]>15.500000000000002?Zt=-.02442182361342386:Zt=.10334853004243093:Zt=-.030431948680167104:Zt=-956078595250818e-19;let ur;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4078.5000000000005?ur=-.040232505718244854:e[0]>3030.5000000000005?ur=.0634109586813073:ur=-.04043617034245621:ur=-.06385323610738443:e[120]>1e-35?e[4]>18.500000000000004?ur=-.007859096946435131:ur=.07282728486115758:e[229]>1e-35?e[0]>2952.5000000000005?e[17]>1e-35?ur=.05515771679628051:ur=-.04214471312668263:ur=-.09589322222261765:e[193]>1e-35?ur=-.05056345906812831:e[121]>1e-35?e[243]>1e-35?ur=.14857706653119385:e[4]>9.500000000000002?e[1]>26.500000000000004?e[2]>59.50000000000001?ur=-.08152604001147906:e[11]>1e-35?ur=.09132936522356462:e[15]>1e-35?e[4]>23.500000000000004?ur=.13100930780107503:e[10]>25.500000000000004?ur=.05921074710011526:ur=-.07226005736695183:e[0]>3304.5000000000005?e[0]>3707.5000000000005?e[0]>4053.5000000000005?ur=.0009447118243153454:ur=-.09820565036865991:ur=.057146909749745546:e[0]>2115.5000000000005?ur=-.12331216726611678:ur=.007281983677694285:e[2]>56.50000000000001?ur=.012310154675612615:ur=-.08873665774670461:e[6]>25.500000000000004?ur=.134708740821879:e[9]>5.500000000000001?ur=-.0805901581148979:e[224]>1e-35?ur=-.063684477784257:e[7]>2.5000000000000004?e[19]>1e-35?ur=.10842593386554122:e[2]>13.500000000000002?ur=.06466798320378395:ur=-.08578130788886655:ur=-.03590892078300114:ur=.0003499894043880708;let be;e[134]>1e-35?e[6]>50.50000000000001?e[0]>3601.5000000000005?be=.10839808814624702:be=-.028043875308180352:e[7]>30.500000000000004?e[8]>932.5000000000001?be=-.007478368069393829:be=-.09066751344326617:e[0]>3588.5000000000005?e[5]>4748.500000000001?be=.04035247751736232:e[0]>4255.500000000001?be=-.1310865624507367:e[0]>4004.5000000000005?be=.06647367311982634:be=-.08339693352955757:e[4]>10.500000000000002?e[1]>34.50000000000001?be=-.011618902907510411:be=.1114646660406691:e[10]>2.5000000000000004?e[0]>3072.5000000000005?be=.09356028223727986:be=-.03811765057032162:be=-.09456215497345526:e[280]>1e-35?e[7]>70.50000000000001?be=.10322956436499003:e[2]>22.500000000000004?e[1]>83.50000000000001?be=.1146142460964847:e[1]>62.50000000000001?be=-.09679869865322362:e[9]>71.50000000000001?be=-.07377580769927583:e[4]>19.500000000000004?e[0]>4571.500000000001?be=-.039046426387852974:be=.04558778688367152:be=.11220830937352602:e[7]>5.500000000000001?e[9]>17.500000000000004?e[8]>1067.5000000000002?be=.03261697816211156:e[15]>1e-35?be=.02586252542264368:e[2]>14.500000000000002?be=-.016420452667484604:be=-.1011799626006976:be=-.13787471318963773:e[6]>4.500000000000001?e[8]>427.50000000000006?e[10]>36.50000000000001?be=.010193588102560583:be=.11748729525930773:be=-.04468162226743652:be=-.028365274393617957:e[71]>1e-35?be=.05115139346588793:be=-.0001510425316936658;let M;e[298]>1e-35?e[8]>81.50000000000001?e[8]>119.50000000000001?e[4]>64.50000000000001?M=.09072192054181037:e[9]>72.50000000000001?e[8]>1094.5000000000002?M=.020637047900190317:M=-.1017300802134141:e[1]>23.500000000000004?e[9]>12.500000000000002?e[0]>2815.5000000000005?e[0]>3183.5000000000005?e[3]>23.500000000000004?e[3]>45.50000000000001?e[4]>48.50000000000001?M=-.04632587527094407:M=.08603684785510396:M=-.05101401015448496:M=.025466432054358498:M=-.07897811963329214:e[6]>13.500000000000002?e[10]>26.500000000000004?M=.020385355430046367:M=.12032592051335252:M=-.012387370292173013:e[2]>23.500000000000004?M=-.12568545484492677:M=-.022261190943521976:e[8]>634.5000000000001?e[8]>857.5000000000001?M=.043528764484784536:M=.14352071657196003:M=-.009332833816977268:M=.11186782227735846:M=-.0737365712425554:e[136]>1e-35?e[0]>1937.5000000000002?M=-.05649104643152564:M=.03884200719305747:e[42]>1e-35?M=-.07191700385792335:e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?M=-.04103416502526736:M=.04881823954656287:e[4]>15.500000000000002?M=.009342724662897898:e[0]>3969.5000000000005?M=-.025637309961309498:M=-.12574492012987865:e[212]>1e-35?e[19]>1e-35?M=-.08185697075265091:e[0]>2215.5000000000005?M=.030063975892297354:e[0]>807.5000000000001?M=-.03924325550733229:M=.0415330999189793:M=-.00024374664461674863;let de;e[3]>7.500000000000001?de=.0005117490419655908:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?de=.025798416259686565:de=.13251610353146012:de=-.029900559552677654:e[1]>81.50000000000001?e[1]>110.50000000000001?e[0]>4242.500000000001?de=-.11098564237775424:de=25960925309712775e-21:e[0]>4177.500000000001?e[9]>35.50000000000001?de=.15347826616466054:e[3]>4.500000000000001?de=.10379320730958941:de=-.008896303020010654:e[0]>3415.5000000000005?e[0]>3830.5000000000005?de=.03159791088468647:de=-.10612873364104258:de=.05059856107348746:e[133]>1e-35?e[2]>5.500000000000001?de=-.02335760775001469:de=-.1379386577903324:e[1]>62.50000000000001?e[3]>2.5000000000000004?de=-.011164334474672973:de=-.06594044410501655:e[207]>1e-35?de=-.1014214372326535:e[8]>3.5000000000000004?e[107]>1e-35?e[2]>6.500000000000001?de=-.01725821503981916:de=.05594086838700241:e[203]>1e-35?e[1]>44.50000000000001?e[1]>51.50000000000001?de=-.04226531631656534:de=-.14409800530171432:de=-.03245576341206398:e[8]>4214.500000000001?de=.0895409165534886:e[247]>1e-35?de=-.06506383629143335:e[118]>1e-35?de=-.07214270121257443:e[8]>546.5000000000001?de=-.004385020865473831:de=.009321812545248529:e[0]>1639.5000000000002?e[13]>1e-35?de=.046278501133958524:de=-.030835570926968044:e[0]>493.50000000000006?de=-.12794504651610425:de=.009415039807550776;let ye;e[304]>1e-35?ye=-.04717777269217453:e[76]>1e-35?ye=-.05813439142128324:e[1]>59.50000000000001?e[0]>350.50000000000006?e[53]>1e-35?ye=-.09648224457374217:e[132]>1e-35?ye=.07089308107910267:e[0]>2248.5000000000005?e[5]>2525.5000000000005?e[9]>1.5000000000000002?e[114]>1e-35?ye=-.08595213071749083:e[9]>14.500000000000002?e[9]>33.50000000000001?e[285]>1e-35?ye=.10838431695638147:e[230]>1e-35?ye=.06458713915750626:e[0]>3219.5000000000005?e[3]>23.500000000000004?e[9]>69.50000000000001?ye=.050071316251979:ye=-.006356941111525215:e[6]>8.500000000000002?ye=-.0384814076434817:e[1]>73.50000000000001?e[0]>3746.5000000000005?ye=.10217402850540398:ye=-.048840949025349197:ye=-.03668313197909846:e[7]>39.50000000000001?ye=-.0562642841496003:e[10]>2.5000000000000004?ye=.09749777369987417:ye=-.04848223121417616:e[0]>5453.500000000001?ye=.08316648226133942:ye=-.0261979698267618:e[212]>1e-35?ye=.09565573198318654:e[5]>4814.500000000001?e[8]>963.5000000000001?e[8]>1514.5000000000002?ye=.04837009746506856:ye=-.09184360565631328:ye=.0032411047845613606:e[0]>4733.500000000001?ye=.0977378556864798:ye=.010776545559325588:ye=-.012483310473120218:ye=-.049284121449103935:ye=.011962641341789565:e[1]>67.50000000000001?e[1]>77.50000000000001?ye=-.08380361910948711:ye=.07375088778585813:ye=-.1084864186071348:ye=.0007819503469605476;let Y;e[7]>17.500000000000004?e[115]>1e-35?Y=.08741852531696623:e[167]>1e-35?Y=.10078975495600809:Y=-.0018324767784017562:e[290]>1e-35?Y=-.0850089851255888:e[74]>1e-35?e[10]>16.500000000000004?Y=.1379733311640402:Y=-.0038500648529631075:e[6]>29.500000000000004?e[8]>876.5000000000001?e[0]>3129.5000000000005?e[9]>5.500000000000001?e[8]>1765.5000000000002?Y=-.09360083033774169:Y=.061471353193188374:e[10]>11.500000000000002?e[10]>31.500000000000004?Y=-.015599362579530679:e[0]>4593.500000000001?Y=-.12029549262691491:Y=-.018917032256501397:Y=.04632831686576592:Y=.06892347785444271:e[4]>8.500000000000002?e[10]>33.50000000000001?Y=-.05894883236412263:Y=.05213944998315824:Y=.12621779223564986:e[243]>1e-35?e[6]>16.500000000000004?e[0]>4141.500000000001?e[0]>5850.500000000001?Y=.07577412405680808:Y=-.053144737214742235:e[1]>29.500000000000004?e[9]>16.500000000000004?Y=-.0277076900736147:e[1]>65.50000000000001?Y=-.023587471585763506:Y=.10184896592433082:Y=-.057699270527916825:Y=-.041191811945739454:e[114]>1e-35?e[2]>23.500000000000004?Y=.06566902102799584:e[10]>25.500000000000004?Y=-.07033633753181047:Y=-.01599120398351932:e[242]>1e-35?e[0]>2402.5000000000005?Y=-.08108035861059537:Y=.04184690010531078:e[35]>1e-35?e[0]>2904.5000000000005?Y=-.12431182772561139:Y=.01886235886984271:Y=.0025579594894418116;let L;e[8]>2915.5000000000005?e[101]>1e-35?L=.08648323956719083:e[0]>93.50000000000001?e[196]>1e-35?L=-.09509320772734361:e[4]>1.5000000000000002?e[5]>1106.5000000000002?e[5]>1191.5000000000002?e[283]>1e-35?L=-.11268313808648661:e[10]>12.500000000000002?e[131]>1e-35?L=.0687641681341721:e[10]>102.50000000000001?L=-.09667920080214842:e[4]>15.500000000000002?e[8]>2992.5000000000005?e[1]>24.500000000000004?e[1]>71.50000000000001?L=-.06762578396473291:e[10]>65.50000000000001?L=-.05226727783610509:e[282]>1e-35?L=.09911438410640917:e[19]>1e-35?L=.06915156336429933:L=-.006565637886508241:L=-.08344300251849307:L=-.0928863907927501:e[1]>60.50000000000001?e[2]>17.500000000000004?L=.19428463865406298:L=.016073883020956765:e[13]>1e-35?L=.06864077097923665:L=-.01388867527034731:e[0]>1847.5000000000002?L=.004655280608161356:e[1]>40.50000000000001?L=.031406054057765996:L=.12798062439212832:L=.09859670536264255:e[10]>2.5000000000000004?e[9]>68.50000000000001?L=.08821759640665892:e[9]>32.50000000000001?e[8]>3960.0000000000005?e[1]>31.500000000000004?L=-.0706095614785733:L=.04227164041372561:L=-.1056906923176064:e[2]>8.500000000000002?e[19]>1e-35?L=-.07139533369873902:L=.008952586782921625:L=.06086212582180936:L=-.0816938490403437:L=-.051224901945956025:L=-.10525399124186095:L=.000270924147208224;let Ie;e[122]>1e-35?e[0]>2461.5000000000005?e[2]>36.50000000000001?Ie=.029186512383291244:e[7]>1.5000000000000002?Ie=-.14984127276725573:e[1]>40.50000000000001?Ie=.032757060730648144:Ie=-.07675575422749602:e[6]>8.500000000000002?Ie=.10599766037117893:Ie=-.0541423394552156:e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Ie=-.051394622947855385:Ie=.03237141302699347:Ie=.12526173027943244:Ie=.000579473126472788:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?Ie=-.07383912482657777:e[0]>5147.500000000001?Ie=.07008813937042091:e[10]>38.50000000000001?Ie=-.06779203808365307:Ie=-.013782769999524498:Ie=.0880038869117715:Ie=-.12846294176070952:e[281]>1e-35?Ie=-.06810806903850834:e[10]>227.50000000000003?Ie=-.08937977001661111:e[10]>130.50000000000003?Ie=.10538920632708033:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Ie=.011036530162093841:Ie=-.11500797478569702:Ie=.03702229366129399:Ie=.07242026683784307:e[189]>1e-35?Ie=.03331407112090286:e[9]>33.50000000000001?e[201]>1e-35?Ie=.08979610115743614:e[7]>57.50000000000001?e[1]>20.500000000000004?Ie=-.02608892716555304:Ie=.09609599320761308:e[9]>105.50000000000001?Ie=-.06848127135991534:Ie=.0023675721254089715:e[86]>1e-35?Ie=-.11049635625500497:Ie=-.004847764219432233;let Me;e[125]>1e-35?e[0]>3969.5000000000005?Me=-.09462233499115416:Me=.05235324508465096:e[17]>1e-35?e[49]>1e-35?e[10]>19.500000000000004?Me=-.030700661288166148:Me=.0870883677166864:e[10]>3.5000000000000004?e[3]>18.500000000000004?e[0]>3544.5000000000005?e[188]>1e-35?e[9]>7.500000000000001?Me=.03149547314036763:Me=-.08166208257451366:e[0]>5850.500000000001?Me=-.10228136324773157:e[102]>1e-35?Me=-.10572585290676295:e[8]>726.5000000000001?e[5]>3657.5000000000005?Me=.01782894842128785:e[13]>1e-35?Me=.002680190260979968:Me=.1773965720476949:e[2]>72.50000000000001?Me=.09090831938627947:e[1]>59.50000000000001?Me=-.12297206702816128:e[0]>4977.500000000001?Me=.09899015653118268:Me=-.022207141540838887:e[4]>32.50000000000001?e[1]>34.50000000000001?Me=-.0675900954187773:Me=.012336403425364092:Me=-.0017002325391924573:e[6]>7.500000000000001?e[1]>17.500000000000004?Me=-.02671721777458802:Me=-.09242452991958029:e[284]>1e-35?Me=-.08585691288582491:Me=.013332890564324447:e[4]>14.500000000000002?Me=-.005245022074799553:e[23]>1e-35?Me=-.020036720167235768:e[1]>29.500000000000004?e[114]>1e-35?Me=-.09289852307936758:e[116]>1e-35?Me=-.09686573010015055:e[8]>804.5000000000001?Me=.03812547148215318:Me=.005162744968176633:e[9]>43.50000000000001?Me=-.059246106396159376:Me=.050370113808135275:Me=.000794041852811028;let Ct;e[3]>7.500000000000001?Ct=.0004981426543104341:e[9]>114.50000000000001?Ct=.05666010099424601:e[129]>1e-35?e[6]>3.5000000000000004?Ct=-.019061766497948867:Ct=.07193491146561211:e[186]>1e-35?e[0]>2653.5000000000005?Ct=-.006044199577160493:Ct=.1147136801028133:e[6]>85.50000000000001?e[8]>847.5000000000001?Ct=.11486607015912494:e[9]>16.500000000000004?Ct=-.08686820858087294:Ct=.06119632492911875:e[127]>1e-35?e[0]>2723.5000000000005?e[0]>3682.5000000000005?e[1]>38.50000000000001?Ct=-.022230207980026437:Ct=.1056683690528792:Ct=-.05859530800943035:Ct=.06970608927597141:e[7]>3.5000000000000004?e[105]>1e-35?Ct=.08073568184886762:e[107]>1e-35?e[2]>6.500000000000001?Ct=-.05177544573528314:Ct=.05370469772149028:e[1]>35.50000000000001?e[0]>4106.500000000001?e[9]>46.50000000000001?e[0]>4633.500000000001?Ct=.15159657923771555:Ct=-.0060542654587671055:e[9]>5.500000000000001?Ct=-.042808028205051786:e[1]>48.50000000000001?Ct=-.010449538258110742:Ct=.10026907521968294:Ct=-.04249349329714756:e[9]>42.50000000000001?e[1]>19.500000000000004?e[8]>852.5000000000001?Ct=-.02272452389409874:Ct=-.11202691218244319:e[5]>1809.5000000000002?Ct=-.04460413584255906:Ct=.08196329474205256:e[10]>69.50000000000001?Ct=.10221481166238167:Ct=.0004063052701699382:e[243]>1e-35?Ct=-.07563941678849846:e[18]>1e-35?Ct=.02563513231103432:Ct=-.004740081147303786;let Ut;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Ut=.057446442918106:Ut=-.04404018270156349:Ut=-.09282976714550464:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Ut=-.05930486238817954:e[1]>29.500000000000004?Ut=.06955866121256543:e[8]>597.5000000000001?Ut=-.06538593556505168:Ut=.06212512595497445:Ut=.00021102929959182257:e[9]>90.50000000000001?Ut=.0958061289119631:e[102]>1e-35?Ut=.07172059675638813:e[1]>47.50000000000001?Ut=-.03879798603977766:e[297]>1e-35?Ut=.054948234271956144:e[282]>1e-35?e[2]>6.500000000000001?Ut=.003805910996312012:Ut=.09304295674749524:e[11]>1e-35?e[18]>1e-35?Ut=.11252376801858695:e[288]>1e-35?Ut=-.10293901912180432:Ut=.014669268837893872:e[1]>42.50000000000001?Ut=-.05988274123836837:e[145]>1e-35?Ut=.06142784665288495:e[3]>1.5000000000000002?e[4]>4.500000000000001?e[1]>21.500000000000004?e[1]>27.500000000000004?e[9]>24.500000000000004?Ut=.038791154988529926:e[10]>22.500000000000004?e[2]>19.500000000000004?Ut=-.03366718308159971:Ut=.11936550608549797:e[1]>31.500000000000004?Ut=-.07454716789539667:Ut=.027859650621164217:e[10]>10.500000000000002?Ut=-.11806374092321247:Ut=-.03506042229223101:Ut=-.0007080765837654515:e[10]>6.500000000000001?Ut=-.028077713664996503:e[2]>7.500000000000001?Ut=.15803724124216814:Ut=.0351381284833169:Ut=-.07877953381054767;let Pt;e[131]>1e-35?e[282]>1e-35?e[4]>23.500000000000004?Pt=.14144941521975005:Pt=.0007727806714190652:e[9]>1.5000000000000002?e[8]>2134.5000000000005?e[2]>34.50000000000001?Pt=.10514088112381886:e[7]>18.500000000000004?Pt=-.10370643555956745:Pt=.04093594315421388:e[6]>15.500000000000002?e[4]>9.500000000000002?e[10]>27.500000000000004?e[10]>71.50000000000001?Pt=-.0508129468802936:e[224]>1e-35?Pt=-.037816066368733595:e[10]>43.50000000000001?Pt=.07793408602607932:Pt=.017646166646099453:e[9]>3.5000000000000004?e[9]>29.500000000000004?e[17]>1e-35?Pt=.036972453794202324:Pt=-.08727431092411866:e[8]>427.50000000000006?e[8]>1278.5000000000002?Pt=.09475302525132188:Pt=-.03580104945898193:Pt=.08349488283861875:e[10]>3.5000000000000004?e[0]>1847.5000000000002?e[0]>4280.500000000001?e[2]>27.500000000000004?Pt=-.1282448778804823:Pt=-.014395808269207212:Pt=-.008940927190750592:Pt=-.1459118815453748:e[0]>4897.500000000001?Pt=-.09733068457286576:e[1]>57.50000000000001?Pt=.06575271409540207:Pt=-.019556422817450115:Pt=-.10623959222984136:e[18]>1e-35?Pt=.11280940901275241:e[8]>319.50000000000006?e[2]>6.500000000000001?Pt=.008125645893104896:Pt=-.11084368630465868:Pt=.0584398731508786:e[0]>350.50000000000006?e[3]>83.50000000000001?Pt=-.05854904579626861:e[4]>5.500000000000001?Pt=.02985784951394175:Pt=-.03247600140149334:Pt=-.11152899295304973:Pt=-.00035424577714215764;let rr;e[32]>1e-35?e[17]>1e-35?e[8]>359.50000000000006?e[8]>804.5000000000001?rr=-.06563670567578264:rr=.067656954313663:rr=-.10388217548685377:e[8]>2302.5000000000005?rr=.07190621943790435:e[4]>67.50000000000001?rr=.060020507643618604:e[4]>38.50000000000001?rr=-.08707253184321638:e[2]>11.500000000000002?e[2]>16.500000000000004?e[1]>31.500000000000004?e[1]>59.50000000000001?rr=-.06568134366461277:e[8]>1075.5000000000002?rr=-.004768057709758692:rr=.11785959165999467:rr=-.05080221682879267:rr=.14814206127494542:rr=-.07241946332311736:e[253]>1e-35?rr=-.058893562861261274:e[4]>61.50000000000001?e[283]>1e-35?e[10]>23.500000000000004?rr=-.02471195342450034:rr=.11866056464409412:e[10]>44.50000000000001?e[1]>16.500000000000004?e[8]>2640.0000000000005?rr=-.10741850739482771:rr=.010051635824944:rr=.12502069436017124:e[8]>1971.5000000000002?e[1]>23.500000000000004?e[308]>1e-35?rr=.10511236013756364:e[10]>10.500000000000002?e[1]>53.50000000000001?rr=-.08992396138178163:rr=.010944365997007212:rr=.06221307021813793:rr=.1286024087559141:e[127]>1e-35?rr=.06568148624531012:e[10]>40.50000000000001?rr=-.07567979134643352:e[5]>5647.500000000001?rr=.07594672895572069:rr=-.018158016446439187:e[6]>55.50000000000001?rr=.009293422430111872:e[4]>45.50000000000001?rr=-.017749818406964022:e[2]>46.50000000000001?rr=.01714136511113982:rr=-724762291423549e-19;let or;e[1]>24.500000000000004?e[103]>1e-35?e[8]>48.50000000000001?e[17]>1e-35?or=-.048689215588703864:e[9]>27.500000000000004?e[0]>3916.5000000000005?or=.07084726276890757:or=-.11232323677722932:or=.04812773089510436:or=.11757502216780046:e[5]>1464.5000000000002?e[5]>1505.5000000000002?e[167]>1e-35?or=.07470606002425358:e[1]>53.50000000000001?e[132]>1e-35?or=.0879462816013881:or=-.002966662093626573:e[306]>1e-35?or=-.04588085188342676:or=.0031910005157084823:e[3]>10.500000000000002?e[10]>20.500000000000004?or=-.006600332774461143:or=.1272481351557754:or=-.09030973597154808:e[284]>1e-35?e[1]>38.50000000000001?e[10]>2.5000000000000004?or=.011884312066620044:or=.11678751052403374:e[4]>8.500000000000002?or=.03627129613273813:or=-.12132783497902287:or=-.006784372643244717:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?or=-.06830131718398992:e[0]>5147.500000000001?or=.062360406249609306:e[4]>4.500000000000001?or=-.013162203864592055:or=-.07153029184927609:or=.07628618062271557:or=-.12085065687320373:e[190]>1e-35?or=-.045816889524231186:e[137]>1e-35?or=-.07956001795911584:e[199]>1e-35?e[0]>3853.5000000000005?or=.025895337822752502:or=-.06503949350616421:e[10]>227.50000000000003?or=-.09989456525790491:e[10]>130.50000000000003?or=.08616651057030683:or=.0001234981796706021;let Mt;e[8]>1014.5000000000001?e[9]>137.50000000000003?Mt=-.08778879924617534:e[8]>1022.5000000000001?e[285]>1e-35?e[9]>64.50000000000001?Mt=.04955806187281689:e[0]>3670.5000000000005?e[10]>32.50000000000001?Mt=-.141732381961068:Mt=-.0317152307496497:Mt=-.02074638849097191:e[0]>93.50000000000001?e[0]>3072.5000000000005?e[10]>100.50000000000001?e[4]>24.500000000000004?e[8]>1336.5000000000002?Mt=.12191801556691254:Mt=-.0003444689085397977:Mt=.005739668504631604:e[146]>1e-35?e[308]>1e-35?Mt=.015237524791728777:e[6]>61.50000000000001?e[4]>63.50000000000001?Mt=-.05676033995381961:Mt=.10933961076803381:e[4]>26.500000000000004?Mt=-.11667582544549814:e[8]>1765.5000000000002?Mt=.032174455312047705:Mt=-.0755016390126608:e[293]>1e-35?Mt=-.08234885407658332:e[9]>41.50000000000001?e[0]>3830.5000000000005?Mt=.026571311956824436:e[15]>1e-35?Mt=.06175459479851121:Mt=-.018778084411148754:e[9]>40.50000000000001?Mt=-.09420232889965811:Mt=-.004578248021263184:e[2]>1.5000000000000002?Mt=.005453714644971445:Mt=-.03907138175699279:Mt=-.055296364182154736:e[23]>1e-35?Mt=.036555134842143476:e[0]>4188.500000000001?e[6]>29.500000000000004?Mt=-.09358146510580179:Mt=.060524657996178094:Mt=-.11245101144669545:e[125]>1e-35?e[9]>1.5000000000000002?Mt=-.12698331085931538:Mt=.006059605604079918:e[2]>196.50000000000003?Mt=-.09451315810804783:Mt=.0011390147031687425;let vt;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[8]>3794.5000000000005?vt=.05517359070460923:vt=-.04758751221404857:vt=-.09482078194138792:e[8]>2992.5000000000005?e[1]>101.50000000000001?vt=.1040436595565776:e[9]>21.500000000000004?vt=.04032250517675179:e[107]>1e-35?vt=.05978752253058374:e[210]>1e-35?e[4]>37.50000000000001?vt=.1192453009230486:e[1]>51.50000000000001?vt=.0443376336292195:vt=-.07967674833321865:e[5]>2117.5000000000005?e[9]>10.500000000000002?vt=-.10025078607591283:e[0]>2882.5000000000005?e[18]>1e-35?vt=-.08999822408398037:vt=.017533219253893447:e[9]>1.5000000000000002?e[4]>12.500000000000002?vt=-.061850439226075:vt=.08849196353361093:vt=.10536348167793089:e[92]>1e-35?vt=.04894947712119185:e[9]>16.500000000000004?vt=.05900227903883853:e[9]>5.500000000000001?vt=-.11946594348916476:vt=-.03652096348071964:e[1]>41.50000000000001?vt=-.07411603110840567:vt=-.00021033247574340914:e[10]>22.500000000000004?e[9]>68.50000000000001?vt=.08493634342741495:e[11]>1e-35?vt=-.10899097825564363:vt=-.006156708838964173:e[8]>3198.5000000000005?e[2]>41.50000000000001?vt=.08356655906359918:e[7]>25.500000000000004?vt=-.09475076526194888:e[10]>5.500000000000001?vt=-.01999406228763778:vt=.06696212545889428:e[6]>20.500000000000004?vt=.14713592661393468:vt=.0459917279002218:vt=.00027445928493734093;let ar;e[223]>1e-35?e[1]>31.500000000000004?e[8]>634.5000000000001?ar=-.06904501553217077:ar=.05696231672035904:ar=-.1124703178077813:e[99]>1e-35?e[1]>89.50000000000001?ar=-.05074261170009721:e[1]>57.50000000000001?e[8]>969.5000000000001?ar=-.011419256378538392:e[0]>3830.5000000000005?ar=.140315841503076:ar=.02403434913963024:e[1]>31.500000000000004?e[8]>65.50000000000001?e[2]>10.500000000000002?ar=-.04027822909411164:ar=.03176085103667189:ar=.06779515865838849:e[4]>15.500000000000002?ar=.0762878389015175:e[8]>175.50000000000003?e[0]>3030.5000000000005?e[8]>1041.5000000000002?ar=.06124039747298539:ar=-.04312732764434027:ar=.09161522761808062:ar=-.09663512235460074:e[280]>1e-35?e[6]>45.50000000000001?e[1]>46.50000000000001?ar=.11211681010488772:e[13]>1e-35?ar=.06725735814960367:ar=-.046744031455827846:e[10]>44.50000000000001?e[0]>3400.5000000000005?e[0]>4004.5000000000005?e[2]>22.500000000000004?ar=.11743605068905603:ar=-.011309033539148687:ar=-.07896094707523052:ar=.12862714793172117:e[10]>1.5000000000000002?e[8]>455.50000000000006?e[0]>4706.500000000001?ar=-.09218756798869711:e[10]>19.500000000000004?e[0]>1894.5000000000002?e[0]>3719.5000000000005?ar=.02836295848998302:ar=.12210680366745175:ar=-.058302317470509096:e[5]>4144.500000000001?ar=.06123341960495106:ar=-.03840046906926525:ar=-.05221474543453495:ar=.03988215485860711:ar=-.00033074684693083496;let Do=A0t(t+r+n+i+s+a+l+c+u+f+m+h+p+A+E+x+b+v+S+B+P+F+G+re+pe+Z+W+q+se+ne+H+O+j+J+le+ee+ae+ce+Re+ve+Ue+ke+Je+ft+ot+at+ie+Pe+Ae+We+z+te+Ne+Se+Ce+Oe+Ve+Ze+yt+Rt+At+Ht+$t+ir+ge+Le+Ke+et+St+xt+Nt+Qt+Tt+_t+wt+Ot+Wt+zt+lr+hr+sr+cr+Zt+ur+be+M+de+ye+Y+L+Ie+Me+Ct+Ut+Pt+rr+or+Mt+vt+ar);return[1-Do,Do]}o(uxe,"multilineModelPredict");function A0t(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(A0t,"sigmoid");var y0t={javascript:["//"],typescript:["//"],typescriptreact:["//"],javascriptreact:["//"],vue:["//","-->"],php:["//","#"],dart:["//"],go:["//"],cpp:["//"],scss:["//"],csharp:["//"],java:["//"],c:["//"],rust:["//"],python:["#"],markdown:["#","-->"],css:["*/"]},fxe={javascript:1,javascriptreact:2,typescript:3,typescriptreact:4,python:5,go:6,ruby:7};function dxe(e,t,r,n=!0){let i=e.split(`
`);if(n&&(i=i.filter(l=>l.trim().length>0)),Math.abs(t)>i.length||t>=i.length)return!1;t<0&&(t=i.length+t);let s=i[t];return(y0t[r]??[]).some(l=>s.includes(l))}o(dxe,"hasComment");var zL=class{static{o(this,"PromptFeatures")}constructor(t,r){let[n,i]=this.firstAndLast(t),s=this.firstAndLast(t.trimEnd());this.language=r,this.length=t.length,this.firstLineLength=n.length,this.lastLineLength=i.length,this.lastLineRstripLength=i.trimEnd().length,this.lastLineStripLength=i.trim().length,this.rstripLength=t.trimEnd().length,this.stripLength=t.trim().length,this.rstripLastLineLength=s[1].length,this.rstripLastLineStripLength=s[1].trim().length,this.secondToLastLineHasComment=dxe(t,-2,r),this.rstripSecondToLastLineHasComment=dxe(t.trimEnd(),-2,r),this.prefixEndsWithNewline=t.endsWith(`
`),this.lastChar=t.slice(-1),this.rstripLastChar=t.trimEnd().slice(-1),this.firstChar=t[0],this.lstripFirstChar=t.trimStart().slice(0,1)}firstAndLast(t){let r=t.split(`
`),n=r.length,i=r[0],s=r[n-1];return s==""&&n>1&&(s=r[n-2]),[i,s]}},UZ=class{static{o(this,"MultilineModelFeatures")}constructor(t,r,n){this.language=n,this.prefixFeatures=new zL(t,n),this.suffixFeatures=new zL(r,n)}constructFeatures(){let t=new Array(14).fill(0);t[0]=this.prefixFeatures.length,t[1]=this.prefixFeatures.firstLineLength,t[2]=this.prefixFeatures.lastLineLength,t[3]=this.prefixFeatures.lastLineRstripLength,t[4]=this.prefixFeatures.lastLineStripLength,t[5]=this.prefixFeatures.rstripLength,t[6]=this.prefixFeatures.rstripLastLineLength,t[7]=this.prefixFeatures.rstripLastLineStripLength,t[8]=this.suffixFeatures.length,t[9]=this.suffixFeatures.firstLineLength,t[10]=this.suffixFeatures.lastLineLength,t[11]=this.prefixFeatures.secondToLastLineHasComment?1:0,t[12]=this.prefixFeatures.rstripSecondToLastLineHasComment?1:0,t[13]=this.prefixFeatures.prefixEndsWithNewline?1:0;let r=new Array(Object.keys(fxe).length+1).fill(0);r[fxe[this.language]??0]=1;let n=new Array(Object.keys(Lc).length+1).fill(0);n[Lc[this.prefixFeatures.lastChar]??0]=1;let i=new Array(Object.keys(Lc).length+1).fill(0);i[Lc[this.prefixFeatures.rstripLastChar]??0]=1;let s=new Array(Object.keys(Lc).length+1).fill(0);s[Lc[this.suffixFeatures.firstChar]??0]=1;let a=new Array(Object.keys(Lc).length+1).fill(0);return a[Lc[this.suffixFeatures.lstripFirstChar]??0]=1,t.concat(r,n,i,s,a)}};function C0t(e,t){return new UZ(e.prefix,e.suffix,t)}o(C0t,"constructMultilineFeatures");function mxe(e,t){let r=C0t(e,t).constructFeatures();return uxe(r)[1]}o(mxe,"requestMultilineScore");d();var YL=new Cr("getCompletions");function KL(e,t,r){r.telemetry.markAsDisplayed(),r.telemetry.properties.reason=nw(r.resultType),er(e,`${t}.shown`,r.telemetry)}o(KL,"telemetryShown");function hxe(e,t,r){let n=t+".accepted",i=e.get(qu);i.previousLabel=1,i.previousLabelTimestamp=Date.now(),er(e,n,r)}o(hxe,"telemetryAccepted");function pxe(e,t,r){let n=t+".rejected",i=e.get(qu);i.previousLabel=0,i.previousLabelTimestamp=Date.now(),er(e,n,r)}o(pxe,"telemetryRejected");function cd(e,t={}){return{...t,telemetryBlob:e}}o(cd,"mkCanceledResultTelemetry");function xs(e){let t={headerRequestId:e.properties.headerRequestId,copilot_trackingId:e.properties.copilot_trackingId};return e.properties.sku!==void 0&&(t.sku=e.properties.sku),e.properties.opportunityId!==void 0&&(t.opportunityId=e.properties.opportunityId),e.properties.organizations_list!==void 0&&(t.organizations_list=e.properties.organizations_list),e.properties.enterprise_list!==void 0&&(t.enterprise_list=e.properties.enterprise_list),e.properties.clientCompletionId!==void 0&&(t.clientCompletionId=e.properties.clientCompletionId),t["abexp.assignmentcontext"]=e.filtersAndExp.exp.assignmentContext,t}o(xs,"mkBasicResultTelemetry");function gxe(e,t){if(t.type!=="promptOnly"){if(t.type==="success"){let r=Gl()-t.telemetryBlob.issuedTime,n=nw(t.resultType),i={...t.telemetryData,reason:n},{foundOffset:s}=t.telemetryBlob.measurements;return YL.debug(e,`ghostText produced from ${n} in ${r}ms with foundOffset ${s}`),Av(e,"ghostText.produced",i,{timeToProduceMs:r,foundOffset:s}),t.value}if(YL.debug(e,"No ghostText produced -- "+t.type+": "+t.reason),t.type==="canceled"){er(e,"ghostText.canceled",t.telemetryData.telemetryBlob.extendedBy({reason:t.reason,cancelledNetworkRequest:t.telemetryData.cancelledNetworkRequest?"true":"false"}));return}Av(e,`ghostText.${t.type}`,{...t.telemetryData,reason:t.reason},{})}}o(gxe,"handleGhostTextResultTelemetry");function nw(e){switch(e){case 0:return"network";case 1:return"cache";case 3:return"cycling";case 2:return"typingAsSuggested";case 4:return"async"}}o(nw,"resultTypeToString");d();d();var E0t=["isEmptyBlockStart","isBlockBodyFinished","getNodeStart"],x0t=["isSupportedLanguageId","getBlockCloseToken","getPrompt"],tvr=[...E0t,...x0t];var pp={isEmptyBlockStart:g3e,isBlockBodyFinished:A3e,isSupportedLanguageId:Pu,getBlockCloseToken:r3e,getNodeStart:y3e,getPrompt:c3e};d();d();var JL=class e{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=Cxe(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,f=Axe(n.text,!1,s);if(c-l===f.length)for(let h=0,p=f.length;h<p;h++)u[h+l+1]=f[h];else f.length<1e4?u.splice(l+1,c-l,...f):this._lineOffsets=u=u.slice(0,l+1).concat(f,u.slice(c+1));let m=n.text.length-(a-s);if(m!==0)for(let h=l+1+f.length,p=u.length;h<p;h++)u[h]=u[h]+m}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Axe(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return t=this.ensureBeforeEOL(t,r[s]),{line:s,character:t-r[s]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let i=t.line+1<r.length?r[t.line+1]:this._content.length,s=Math.min(n+t.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(t,r){for(;t>r&&yxe(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},Q5;(function(e){function t(i,s,a,l){return new JL(i,s,a,l)}o(t,"create"),e.create=t;function r(i,s,a){if(i instanceof JL)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(i,s){let a=i.getText(),l=qZ(s.map(b0t),(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),c=0,u=[];for(let f of l){let m=i.offsetAt(f.range.start);if(m<c)throw new Error("Overlapping edit");m>c&&u.push(a.substring(c,m)),f.newText.length&&u.push(f.newText),c=i.offsetAt(f.range.end)}return u.push(a.substr(c)),u.join("")}o(n,"applyEdits"),e.applyEdits=n})(Q5||(Q5={}));function qZ(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);qZ(n,t),qZ(i,t);let s=0,a=0,l=0;for(;s<n.length&&a<i.length;)t(n[s],i[a])<=0?e[l++]=n[s++]:e[l++]=i[a++];for(;s<n.length;)e[l++]=n[s++];for(;a<i.length;)e[l++]=i[a++];return e}o(qZ,"mergeSort");function Axe(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);yxe(s)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}o(Axe,"computeLineOffsets");function yxe(e){return e===13||e===10}o(yxe,"isEOL");function Cxe(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(Cxe,"getWellformedRange");function b0t(e){let t=Cxe(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(b0t,"getWellformedEdit");d();var Exe;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(Exe||(Exe={}));var WZ;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(WZ||(WZ={}));var xxe;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(xxe||(xxe={}));var XL;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(XL||(XL={}));var x0;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=XL.MAX_VALUE),i===Number.MAX_VALUE&&(i=XL.MAX_VALUE),{line:n,character:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.uinteger(i.line)&&Ye.uinteger(i.character)}o(r,"is"),e.is=r})(x0||(x0={}));var Mo;(function(e){function t(n,i,s,a){if(Ye.uinteger(n)&&Ye.uinteger(i)&&Ye.uinteger(s)&&Ye.uinteger(a))return{start:x0.create(n,i),end:x0.create(s,a)};if(x0.is(n)&&x0.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&x0.is(i.start)&&x0.is(i.end)}o(r,"is"),e.is=r})(Mo||(Mo={}));var ZL;(function(e){function t(n,i){return{uri:n,range:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.range)&&(Ye.string(i.uri)||Ye.undefined(i.uri))}o(r,"is"),e.is=r})(ZL||(ZL={}));var bxe;(function(e){function t(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.targetRange)&&Ye.string(i.targetUri)&&Mo.is(i.targetSelectionRange)&&(Mo.is(i.originSelectionRange)||Ye.undefined(i.originSelectionRange))}o(r,"is"),e.is=r})(bxe||(bxe={}));var GZ;(function(e){function t(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.numberRange(i.red,0,1)&&Ye.numberRange(i.green,0,1)&&Ye.numberRange(i.blue,0,1)&&Ye.numberRange(i.alpha,0,1)}o(r,"is"),e.is=r})(GZ||(GZ={}));var vxe;(function(e){function t(n,i){return{range:n,color:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.range)&&GZ.is(i.color)}o(r,"is"),e.is=r})(vxe||(vxe={}));var Ixe;(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.string(i.label)&&(Ye.undefined(i.textEdit)||nI.is(i))&&(Ye.undefined(i.additionalTextEdits)||Ye.typedArray(i.additionalTextEdits,nI.is))}o(r,"is"),e.is=r})(Ixe||(Ixe={}));var Txe;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Txe||(Txe={}));var wxe;(function(e){function t(n,i,s,a,l,c){let u={startLine:n,endLine:i};return Ye.defined(s)&&(u.startCharacter=s),Ye.defined(a)&&(u.endCharacter=a),Ye.defined(l)&&(u.kind=l),Ye.defined(c)&&(u.collapsedText=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.uinteger(i.startLine)&&Ye.uinteger(i.startLine)&&(Ye.undefined(i.startCharacter)||Ye.uinteger(i.startCharacter))&&(Ye.undefined(i.endCharacter)||Ye.uinteger(i.endCharacter))&&(Ye.undefined(i.kind)||Ye.string(i.kind))}o(r,"is"),e.is=r})(wxe||(wxe={}));var HZ;(function(e){function t(n,i){return{location:n,message:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&ZL.is(i.location)&&Ye.string(i.message)}o(r,"is"),e.is=r})(HZ||(HZ={}));var Sxe;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Sxe||(Sxe={}));var _xe;(function(e){e.Unnecessary=1,e.Deprecated=2})(_xe||(_xe={}));var kxe;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&Ye.string(n.href)}o(t,"is"),e.is=t})(kxe||(kxe={}));var eQ;(function(e){function t(n,i,s,a,l,c){let u={range:n,message:i};return Ye.defined(s)&&(u.severity=s),Ye.defined(a)&&(u.code=a),Ye.defined(l)&&(u.source=l),Ye.defined(c)&&(u.relatedInformation=c),u}o(t,"create"),e.create=t;function r(n){var i;let s=n;return Ye.defined(s)&&Mo.is(s.range)&&Ye.string(s.message)&&(Ye.number(s.severity)||Ye.undefined(s.severity))&&(Ye.integer(s.code)||Ye.string(s.code)||Ye.undefined(s.code))&&(Ye.undefined(s.codeDescription)||Ye.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(Ye.string(s.source)||Ye.undefined(s.source))&&(Ye.undefined(s.relatedInformation)||Ye.typedArray(s.relatedInformation,HZ.is))}o(r,"is"),e.is=r})(eQ||(eQ={}));var rI;(function(e){function t(n,i,...s){let a={title:n,command:i};return Ye.defined(s)&&s.length>0&&(a.arguments=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.title)&&Ye.string(i.command)}o(r,"is"),e.is=r})(rI||(rI={}));var nI;(function(e){function t(s,a){return{range:s,newText:a}}o(t,"replace"),e.replace=t;function r(s,a){return{range:{start:s,end:s},newText:a}}o(r,"insert"),e.insert=r;function n(s){return{range:s,newText:""}}o(n,"del"),e.del=n;function i(s){let a=s;return Ye.objectLiteral(a)&&Ye.string(a.newText)&&Mo.is(a.range)}o(i,"is"),e.is=i})(nI||(nI={}));var VZ;(function(e){function t(n,i,s){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.string(i.label)&&(Ye.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Ye.string(i.description)||i.description===void 0)}o(r,"is"),e.is=r})(VZ||(VZ={}));var iI;(function(e){function t(r){let n=r;return Ye.string(n)}o(t,"is"),e.is=t})(iI||(iI={}));var Bxe;(function(e){function t(s,a,l){return{range:s,newText:a,annotationId:l}}o(t,"replace"),e.replace=t;function r(s,a,l){return{range:{start:s,end:s},newText:a,annotationId:l}}o(r,"insert"),e.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}o(n,"del"),e.del=n;function i(s){let a=s;return nI.is(a)&&(VZ.is(a.annotationId)||iI.is(a.annotationId))}o(i,"is"),e.is=i})(Bxe||(Bxe={}));var jZ;(function(e){function t(n,i){return{textDocument:n,edits:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&JZ.is(i.textDocument)&&Array.isArray(i.edits)}o(r,"is"),e.is=r})(jZ||(jZ={}));var $Z;(function(e){function t(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&Ye.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Ye.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ye.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||iI.is(i.annotationId))}o(r,"is"),e.is=r})($Z||($Z={}));var zZ;(function(e){function t(n,i,s,a){let l={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&Ye.string(i.oldUri)&&Ye.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Ye.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ye.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||iI.is(i.annotationId))}o(r,"is"),e.is=r})(zZ||(zZ={}));var YZ;(function(e){function t(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&Ye.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Ye.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Ye.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||iI.is(i.annotationId))}o(r,"is"),e.is=r})(YZ||(YZ={}));var KZ;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Ye.string(i.kind)?$Z.is(i)||zZ.is(i)||YZ.is(i):jZ.is(i)))}o(t,"is"),e.is=t})(KZ||(KZ={}));var Rxe;(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)}o(r,"is"),e.is=r})(Rxe||(Rxe={}));var Dxe;(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&Ye.integer(i.version)}o(r,"is"),e.is=r})(Dxe||(Dxe={}));var JZ;(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&(i.version===null||Ye.integer(i.version))}o(r,"is"),e.is=r})(JZ||(JZ={}));var Pxe;(function(e){function t(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&Ye.string(i.languageId)&&Ye.integer(i.version)&&Ye.string(i.text)}o(r,"is"),e.is=r})(Pxe||(Pxe={}));var XZ;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(XZ||(XZ={}));var ow;(function(e){function t(r){let n=r;return Ye.objectLiteral(r)&&XZ.is(n.kind)&&Ye.string(n.value)}o(t,"is"),e.is=t})(ow||(ow={}));var Fxe;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Fxe||(Fxe={}));var Nxe;(function(e){e.PlainText=1,e.Snippet=2})(Nxe||(Nxe={}));var Lxe;(function(e){e.Deprecated=1})(Lxe||(Lxe={}));var Qxe;(function(e){function t(n,i,s){return{newText:n,insert:i,replace:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.newText)&&Mo.is(i.insert)&&Mo.is(i.replace)}o(r,"is"),e.is=r})(Qxe||(Qxe={}));var Mxe;(function(e){e.asIs=1,e.adjustIndentation=2})(Mxe||(Mxe={}));var Oxe;(function(e){function t(r){let n=r;return n&&(Ye.string(n.detail)||n.detail===void 0)&&(Ye.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(Oxe||(Oxe={}));var Uxe;(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(Uxe||(Uxe={}));var qxe;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})(qxe||(qxe={}));var tQ;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return Ye.string(i)||Ye.objectLiteral(i)&&Ye.string(i.language)&&Ye.string(i.value)}o(r,"is"),e.is=r})(tQ||(tQ={}));var Wxe;(function(e){function t(r){let n=r;return!!n&&Ye.objectLiteral(n)&&(ow.is(n.contents)||tQ.is(n.contents)||Ye.typedArray(n.contents,tQ.is))&&(r.range===void 0||Mo.is(r.range))}o(t,"is"),e.is=t})(Wxe||(Wxe={}));var Gxe;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(Gxe||(Gxe={}));var Hxe;(function(e){function t(r,n,...i){let s={label:r};return Ye.defined(n)&&(s.documentation=n),Ye.defined(i)?s.parameters=i:s.parameters=[],s}o(t,"create"),e.create=t})(Hxe||(Hxe={}));var Vxe;(function(e){e.Text=1,e.Read=2,e.Write=3})(Vxe||(Vxe={}));var jxe;(function(e){function t(r,n){let i={range:r};return Ye.number(n)&&(i.kind=n),i}o(t,"create"),e.create=t})(jxe||(jxe={}));var $xe;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})($xe||($xe={}));var zxe;(function(e){e.Deprecated=1})(zxe||(zxe={}));var Yxe;(function(e){function t(r,n,i,s,a){let l={name:r,kind:n,location:{uri:s,range:i}};return a&&(l.containerName=a),l}o(t,"create"),e.create=t})(Yxe||(Yxe={}));var Kxe;(function(e){function t(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}o(t,"create"),e.create=t})(Kxe||(Kxe={}));var Jxe;(function(e){function t(n,i,s,a,l,c){let u={name:n,detail:i,kind:s,range:a,selectionRange:l};return c!==void 0&&(u.children=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.name)&&Ye.number(i.kind)&&Mo.is(i.range)&&Mo.is(i.selectionRange)&&(i.detail===void 0||Ye.string(i.detail))&&(i.deprecated===void 0||Ye.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o(r,"is"),e.is=r})(Jxe||(Jxe={}));var Xxe;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Xxe||(Xxe={}));var rQ;(function(e){e.Invoked=1,e.Automatic=2})(rQ||(rQ={}));var Zxe;(function(e){function t(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.typedArray(i.diagnostics,eQ.is)&&(i.only===void 0||Ye.typedArray(i.only,Ye.string))&&(i.triggerKind===void 0||i.triggerKind===rQ.Invoked||i.triggerKind===rQ.Automatic)}o(r,"is"),e.is=r})(Zxe||(Zxe={}));var ebe;(function(e){function t(n,i,s){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):rI.is(i)?a.command=i:a.edit=i,l&&s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.title)&&(i.diagnostics===void 0||Ye.typedArray(i.diagnostics,eQ.is))&&(i.kind===void 0||Ye.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||rI.is(i.command))&&(i.isPreferred===void 0||Ye.boolean(i.isPreferred))&&(i.edit===void 0||KZ.is(i.edit))}o(r,"is"),e.is=r})(ebe||(ebe={}));var tbe;(function(e){function t(n,i){let s={range:n};return Ye.defined(i)&&(s.data=i),s}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Mo.is(i.range)&&(Ye.undefined(i.command)||rI.is(i.command))}o(r,"is"),e.is=r})(tbe||(tbe={}));var rbe;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.uinteger(i.tabSize)&&Ye.boolean(i.insertSpaces)}o(r,"is"),e.is=r})(rbe||(rbe={}));var nbe;(function(e){function t(n,i,s){return{range:n,target:i,data:s}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Mo.is(i.range)&&(Ye.undefined(i.target)||Ye.string(i.target))}o(r,"is"),e.is=r})(nbe||(nbe={}));var ibe;(function(e){function t(n,i){return{range:n,parent:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.range)&&(i.parent===void 0||e.is(i.parent))}o(r,"is"),e.is=r})(ibe||(ibe={}));var obe;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(obe||(obe={}));var sbe;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(sbe||(sbe={}));var abe;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(abe||(abe={}));var lbe;(function(e){function t(n,i){return{range:n,text:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Mo.is(i.range)&&Ye.string(i.text)}o(r,"is"),e.is=r})(lbe||(lbe={}));var cbe;(function(e){function t(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Mo.is(i.range)&&Ye.boolean(i.caseSensitiveLookup)&&(Ye.string(i.variableName)||i.variableName===void 0)}o(r,"is"),e.is=r})(cbe||(cbe={}));var ube;(function(e){function t(n,i){return{range:n,expression:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Mo.is(i.range)&&(Ye.string(i.expression)||i.expression===void 0)}o(r,"is"),e.is=r})(ube||(ube={}));var fbe;(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Mo.is(n.stoppedLocation)}o(r,"is"),e.is=r})(fbe||(fbe={}));var ZZ;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(ZZ||(ZZ={}));var eee;(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&(i.tooltip===void 0||Ye.string(i.tooltip)||ow.is(i.tooltip))&&(i.location===void 0||ZL.is(i.location))&&(i.command===void 0||rI.is(i.command))}o(r,"is"),e.is=r})(eee||(eee={}));var dbe;(function(e){function t(n,i,s){let a={position:n,label:i};return s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&x0.is(i.position)&&(Ye.string(i.label)||Ye.typedArray(i.label,eee.is))&&(i.kind===void 0||ZZ.is(i.kind))&&i.textEdits===void 0||Ye.typedArray(i.textEdits,nI.is)&&(i.tooltip===void 0||Ye.string(i.tooltip)||ow.is(i.tooltip))&&(i.paddingLeft===void 0||Ye.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Ye.boolean(i.paddingRight))}o(r,"is"),e.is=r})(dbe||(dbe={}));var mbe;(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(mbe||(mbe={}));var hbe;(function(e){function t(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}o(t,"create"),e.create=t})(hbe||(hbe={}));var pbe;(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(pbe||(pbe={}));var gbe;(function(e){e.Invoked=0,e.Automatic=1})(gbe||(gbe={}));var Abe;(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(Abe||(Abe={}));var ybe;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(ybe||(ybe={}));var Cbe;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&WZ.is(n.uri)&&Ye.string(n.name)}o(t,"is"),e.is=t})(Cbe||(Cbe={}));var Ebe;(function(e){function t(s,a,l,c){return new tee(s,a,l,c)}o(t,"create"),e.create=t;function r(s){let a=s;return!!(Ye.defined(a)&&Ye.string(a.uri)&&(Ye.undefined(a.languageId)||Ye.string(a.languageId))&&Ye.uinteger(a.lineCount)&&Ye.func(a.getText)&&Ye.func(a.positionAt)&&Ye.func(a.offsetAt))}o(r,"is"),e.is=r;function n(s,a){let l=s.getText(),c=i(a,(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),u=l.length;for(let f=c.length-1;f>=0;f--){let m=c[f],h=s.offsetAt(m.range.start),p=s.offsetAt(m.range.end);if(p<=u)l=l.substring(0,h)+m.newText+l.substring(p,l.length);else throw new Error("Overlapping edit");u=h}return l}o(n,"applyEdits"),e.applyEdits=n;function i(s,a){if(s.length<=1)return s;let l=s.length/2|0,c=s.slice(0,l),u=s.slice(l);i(c,a),i(u,a);let f=0,m=0,h=0;for(;f<c.length&&m<u.length;)a(c[f],u[m])<=0?s[h++]=c[f++]:s[h++]=u[m++];for(;f<c.length;)s[h++]=c[f++];for(;m<u.length;)s[h++]=u[m++];return s}o(i,"mergeSort")})(Ebe||(Ebe={}));var tee=class{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return x0.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return x0.create(s,t-r[s])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}},Ye;(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}o(r,"defined"),e.defined=r;function n(p){return typeof p>"u"}o(n,"undefined"),e.undefined=n;function i(p){return p===!0||p===!1}o(i,"boolean"),e.boolean=i;function s(p){return t.call(p)==="[object String]"}o(s,"string"),e.string=s;function a(p){return t.call(p)==="[object Number]"}o(a,"number"),e.number=a;function l(p,A,E){return t.call(p)==="[object Number]"&&A<=p&&p<=E}o(l,"numberRange"),e.numberRange=l;function c(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}o(c,"integer"),e.integer=c;function u(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}o(u,"uinteger"),e.uinteger=u;function f(p){return t.call(p)==="[object Function]"}o(f,"func"),e.func=f;function m(p){return p!==null&&typeof p=="object"}o(m,"objectLiteral"),e.objectLiteral=m;function h(p,A){return Array.isArray(p)&&p.every(A)}o(h,"typedArray"),e.typedArray=h})(Ye||(Ye={}));var so=class{static{o(this,"LocationFactory")}static{this.range=Mo.create.bind(Mo)}static{this.position=x0.create.bind(x0)}};function oI(e,t,r){let n=e.offsetAt(t);for(let{range:i,newText:s}of r){let a=e.getText(i),l=e.offsetAt(i.end);e=e.applyEdits([{range:i,newText:s}]),!(n<e.offsetAt(i.start))&&(n<l&&(n=l),n+=s.length-a.length)}return{textDocument:e,position:e.positionAt(n)}}o(oI,"applyEditsWithPosition");var H0=class e{constructor(t,r,n,i=[]){this.uri=t;this._textDocument=r;this.detectedLanguageId=n;this.appliedEdits=i}static{o(this,"CopilotTextDocument")}static withChanges(t,r,n){let i=Q5.create(t.clientUri,t.clientLanguageId,n,t.getText());return Q5.update(i,r,n),new e(t.uri,i,t.detectedLanguageId)}applyEdits(t){let r=Q5.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return Q5.update(r,t.map(n=>({text:n.newText,range:n.range})),this.version),new e(this.uri,r,this.detectedLanguageId,[...this.appliedEdits,...t])}static create(t,r,n,i,s=fN({uri:t,clientLanguageId:r})){return new e(Im(t),Q5.create(t,r,n,i),s)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this.detectedLanguageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(t){return this._textDocument.getText(t)}positionAt(t){return this._textDocument.positionAt(t)}offsetAt(t){return this._textDocument.offsetAt(t)}lineAt(t){let r=typeof t=="number"?t:t.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Mo.create(r,0,r+1,0),i=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),s=Mo.create(x0.create(r,0),x0.create(r,i.length)),a=i.trim().length===0;return{text:i,range:s,isEmptyOrWhitespace:a}}};function iQ(e,t){return pp.isEmptyBlockStart(e.languageId,e.getText(),e.offsetAt(t))}o(iQ,"isEmptyBlockStart");var Ivr=new Cr("parseBlock");function sw(e,t,r,n){let i=t.getText(so.range(so.position(0,0),r))+(n?`
`:""),s=t.offsetAt(r)+(n?1:0),a=t.languageId;return l=>pp.isBlockBodyFinished(a,i,l,s)}o(sw,"parsingBlockFinished");async function xbe(e,t,r,n){let s=t.getText(so.range(so.position(0,0),r))+n,a=await pp.getNodeStart(t.languageId,s,t.offsetAt(r));if(a)return t.positionAt(a)}o(xbe,"getNodeStart");var v0t=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),I0t=new RegExp(`^(${v0t.join("|")})`);function T0t(e){return I0t.test(e.trimLeft().toLowerCase())}o(T0t,"isContinuationLine");function nQ(e){let t=/^(\s*)([^]*)$/.exec(e);if(t&&t[2]&&t[2].length>0)return t[1].length}o(nQ,"indentationOfLine");function aw(e,t){let r=e.getText(),n=e.offsetAt(t);return ree(r,n,e.languageId)}o(aw,"contextIndentation");function ree(e,t,r){let n=e.slice(0,t).split(`
`),i=e.slice(t).split(`
`);function s(f,m,h){let p=m,A,E;for(;A===void 0&&p>=0&&p<f.length;)A=nQ(f[p]),E=p,p+=h;if(r==="python"&&h===-1){p++;let x=f[p].trim();if(x.endsWith('"""')){if(!(x.startsWith('"""')&&x!=='"""'))for(p--;p>=0&&!f[p].trim().startsWith('"""');)p--;if(p>=0)for(A=void 0,p--;A===void 0&&p>=0;)A=nQ(f[p]),E=p,p--}}return[A,E]}o(s,"seekNonBlank");let[a,l]=s(n,n.length-1,-1),c=(()=>{if(!(a===void 0||l===void 0))for(let f=l-1;f>=0;f--){let m=nQ(n[f]);if(m!==void 0&&m<a)return m}})(),[u]=s(i,1,1);return{prev:c,current:a??0,next:u}}o(ree,"contextIndentationFromText");var w0t=!1;function S0t(e,t,r){let n=e.split(`
`),i=r!==void 0,s=r?.split(`
`).pop(),a=0;if(i&&s?.trim()!=""&&n[0].trim()!==""&&a++,!i&&w0t&&n[0].trim()===""&&a++,i||a++,n.length===a)return"continue";let l=Math.max(t.current,t.next??0);for(let c=a;c<n.length;c++){let u=n[c];c==0&&s!==void 0&&(u=s+u);let f=nQ(u);if(f!==void 0&&(f<l||f===l&&!T0t(u)))return n.slice(0,c).join(`
`).length}return"continue"}o(S0t,"completionCutOrContinue");function bbe(e,t){return async r=>{let n=S0t(r,e,t);return n==="continue"?void 0:n}}o(bbe,"indentationBlockFinished");d();d();d();var lw={isBlocked:!1,reason:"VALID_FILE"},oQ={isBlocked:!1,reason:"NO_MATCHING_POLICY"},vbe={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},C4={all:"all",repo:"repo"},v1=new Cr("contentExclusion");d();d();var sQ=class{static{o(this,"PolicyEvaluator")}};d();d();d();var Ibe=require("child_process");var _0t=new Cr("repository"),sI=class e{constructor(){this.data={}}static{o(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(s=>s.startsWith(n)&&s.endsWith(i)).map(s=>s.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(s=>r.add(n,s)),r),new e)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},gp=class{static{o(this,"GitConfigLoader")}},aQ=class extends gp{static{o(this,"GitCLIConfigLoader")}runCommand(t,r,n){return new Promise((i,s)=>{(0,Ibe.execFile)(r,n,{cwd:t},(a,l)=>{a?s(a):i(l)})})}async tryRunCommand(t,r,n,i){try{return await this.runCommand(r,n,i)}catch(s){_0t.info(t,`Failed to run command '${n}' in ${r}:`,s);return}}async getConfig(t,r){let n=ys(r);if(n===void 0)return;let i=await this.tryRunCommand(t,n,"git",["-c","safe.directory=*","config","--list","--null",...this.extraArgs()]);return i?this.extractConfig(i):void 0}extractConfig(t){let r=new sI;for(let n of t.split("\0").filter(i=>i)){let i=n.split(`
`,1)[0],s=n.slice(i.length+1);r.add(i,s)}return r}extraArgs(){return[]}},lQ=class extends gp{constructor(r){super();this.loaders=r}static{o(this,"GitFallbackConfigLoader")}async getConfig(r,n){for(let i of this.loaders){let s=await i.getConfig(r,n);if(s)return s}}};d();var Tbe=require("os");var cQ=class{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{o(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return m5.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=m5.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,Tbe.platform)()!=="win32"||(t.groups?.host?.length??0)>1)){let r=t.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};var uQ=class{static{o(this,"GitRemoteResolver")}async resolveRemote(t,r){let n=await t.get(gp).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),s=i.filter(a=>a.url.isGitHub());if(s.length)return s.find(a=>a.name==="origin")?.url??s[0].url;if(i.length)return i.find(a=>a.name==="origin")?.url??i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>({name:n,url:new cQ(this.applyInsteadOfRules(r,t.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var k0t=100,nee=class{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}static{o(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let t=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t?.[0],this._name=t?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&t?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=t?.[1],this._owner=t?.[2],this._name=t?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=t?.[1],this._name=t?.[3]):(this._adoOrganization=t?.[0],this._owner=t?.[1],this._name=t?.[3])}}},I1=class e{constructor(t){this.ctx=t;this.remoteResolver=new uQ;this.cache=new Bn(k0t)}static{o(this,"RepositoryManager")}async getRepo({uri:t}){let r,n=[];do{if(this.cache.has(t.toString())){let s=this.cache.get(t);return this.updateCache(n,s),s}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=Tu(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new nee(typeof t=="string"?{uri:t}:t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await e.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(Qo),i=Xo(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=Xo(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let s=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!s)return;let a=D3(r,s[1]),l=Xo(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let c=Xo(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=Xo(a,"commondir");a=D3(a,(await t.readFileString(u)).trimEnd());let f=Xo(a,"config");return await t.stat(f),f}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};d();var wbe=o((e,t)=>{if(y5.Check(e,t))return t;let r=`Typebox schema validation failed:
${[...y5.Errors(e,t)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");d();d();d();var fQ=new WeakMap;function dQ(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,s=Object.prototype.toString.call(e);if(s!=="[object RegExp]"&&s!=="[object Date]"&&fQ.has(e))return fQ.get(e);switch(fQ.set(e,"~"+ ++t),s){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=dQ(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+dQ(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+dQ(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return fQ.set(e,n),n}o(dQ,"t");function mQ(e){return dQ(e,0)}o(mQ,"r");var iee=new WeakMap;function Sbe(e,t,r=mQ(t)){let n,i,s=iee.get(e);s||(iee.set(e,s=[[],i=[],n=[]]),queueMicrotask(function(){let u,f=0;function m(h){for(;u=n[f++];u.r(h));}o(m,"o"),iee.delete(e),e(i).then(function(h){if(h.length!==n.length)return m(new Error("loader value length mismatch"));for(;u=h[f++],f<=h.length;u instanceof Error?n[f-1].r(u):n[f-1].s(u));},m)}));let a=s[0].indexOf(r);if(~a)return s[2][a].p;let l=s[0].push(r)-1,c=s[2][l]={};return s[1][l]=t,c.p=new Promise(function(u,f){c.s=u,c.r=f})}o(Sbe,"n");var _be=new WeakMap;function B0t(e,t,r,n=mQ(r)){if(t||(t=_be.get(e)),t||_be.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=Sbe(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}o(B0t,"n");function kbe(e,t){return function(r,n){return B0t(e,t,r,n)}}o(kbe,"o");d();var Kbe=nt(Wbe(),1);d();var uw=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");d();d();var M0t={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},fw=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),O0t=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),Gbe=o(e=>e.join(""),"rangesToString"),Hbe=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,a=!1,l=!1,c=!1,u=!1,f=r,m="";e:for(;s<e.length;){let E=e.charAt(s);if((E==="!"||E==="^")&&s===r+1){u=!0,s++;continue}if(E==="]"&&a&&!c){f=s+1;break}if(a=!0,E==="\\"&&!c){c=!0,s++;continue}if(E==="["&&!c){for(let[x,[b,v,S]]of Object.entries(M0t))if(e.startsWith(x,s)){if(m)return["$.",!1,e.length-r,!0];s+=x.length,S?i.push(b):n.push(b),l=l||v;continue e}}if(c=!1,m){E>m?n.push(fw(m)+"-"+fw(E)):E===m&&n.push(fw(E)),m="",s++;continue}if(e.startsWith("-]",s+1)){n.push(fw(E+"-")),s+=2;continue}if(e.startsWith("-",s+1)){m=E,s+=2;continue}n.push(fw(E)),s++}if(f<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let E=n[0].length===2?n[0].slice(-1):n[0];return[O0t(E),!1,f-r,!1]}let h="["+(u?"^":"")+Gbe(n)+"]",p="["+(u?"":"^")+Gbe(i)+"]";return[n.length&&i.length?"("+h+"|"+p+")":n.length?h:p,l,f-r,!0]},"parseClass");d();var M5=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var U0t=new Set(["!","?","+","*","@"]),Vbe=o(e=>U0t.has(e),"isExtglobType"),q0t="(?!(?:^|/)\\.\\.?(?:$|/))",hQ="(?!\\.)",W0t=new Set(["[","."]),G0t=new Set(["..","."]),H0t=new Set("().*{}+?[]^$\\!"),V0t=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),aee="[^/]",jbe=aee+"*?",$be=aee+"+?",aI=class e{static{o(this,"AST")}type;#e;#t;#i=!1;#n=[];#r;#o;#s;#a=!1;#l;#c;#f=!1;constructor(t,r,n={}){this.type=t,t&&(this.#t=!0),this.#r=r,this.#e=this.#r?this.#r.#e:this,this.#l=this.#e===this?n:this.#e.#l,this.#s=this.#e===this?[]:this.#e.#s,t==="!"&&!this.#e.#a&&this.#s.push(this),this.#o=this.#r?this.#r.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let t of this.#n)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#n.map(t=>String(t)).join("|")+")":this.#c=this.#n.map(t=>String(t)).join("")}#m(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#s.pop();){if(t.type!=="!")continue;let r=t,n=r.#r;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#n.length;i++)for(let s of t.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#r}}return this}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof e&&r.#r===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let t=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")&&t.push({}),t}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(this.#o===0)return!0;let t=this.#r;for(let r=0;r<this.#o;r++){let n=t.#n[r];if(!(n instanceof e&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let t=this.#r?this.#r.#n.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new e(this.type,t);for(let n of this.#n)r.copyIn(n);return r}static#u(t,r,n,i){let s=!1,a=!1,l=-1,c=!1;if(r.type===null){let p=n,A="";for(;p<t.length;){let E=t.charAt(p++);if(s||E==="\\"){s=!s,A+=E;continue}if(a){p===l+1?(E==="^"||E==="!")&&(c=!0):E==="]"&&!(p===l+2&&c)&&(a=!1),A+=E;continue}else if(E==="["){a=!0,l=p,c=!1,A+=E;continue}if(!i.noext&&Vbe(E)&&t.charAt(p)==="("){r.push(A),A="";let x=new e(E,r);p=e.#u(t,x,p,i),r.push(x);continue}A+=E}return r.push(A),p}let u=n+1,f=new e(null,r),m=[],h="";for(;u<t.length;){let p=t.charAt(u++);if(s||p==="\\"){s=!s,h+=p;continue}if(a){u===l+1?(p==="^"||p==="!")&&(c=!0):p==="]"&&!(u===l+2&&c)&&(a=!1),h+=p;continue}else if(p==="["){a=!0,l=u,c=!1,h+=p;continue}if(Vbe(p)&&t.charAt(u)==="("){f.push(h),h="";let A=new e(p,f);f.push(A),u=e.#u(t,A,u,i);continue}if(p==="|"){f.push(h),h="",m.push(f),f=new e(null,r);continue}if(p===")")return h===""&&r.#n.length===0&&(r.#f=!0),f.push(h),h="",r.push(...m,f),u;h+=p}return r.type=null,r.#t=void 0,r.#n=[t.substring(n-1)],u}static fromGlob(t,r={}){let n=new e(null,void 0,r);return e.#u(t,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let t=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#l.nocase&&!this.#l.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(this.#l.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}get options(){return this.#l}toRegExpSource(t){let r=t??!!this.#l.dot;if(this.#e===this&&this.#m(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#n.map(p=>{let[A,E,x,b]=typeof p=="string"?e.#h(p,this.#t,c):p.toRegExpSource(t);return this.#t=this.#t||x,this.#i=this.#i||b,A}).join(""),f="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&G0t.has(this.#n[0]))){let A=W0t,E=r&&A.has(u.charAt(0))||u.startsWith("\\.")&&A.has(u.charAt(2))||u.startsWith("\\.\\.")&&A.has(u.charAt(4)),x=!r&&!t&&A.has(u.charAt(0));f=E?q0t:x?hQ:""}let m="";return this.isEnd()&&this.#e.#a&&this.#r?.type==="!"&&(m="(?:$|\\/)"),[f+u+m,M5(u),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let c=this.toString();return this.#n=[c],this.type=null,this.#t=void 0,[c,M5(this.toString()),!1,!1]}let a=!n||t||r||!hQ?"":this.#d(!0);a===s&&(a=""),a&&(s=`(?:${s})(?:${a})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?hQ:"")+$be;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?hQ:"")+jbe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+s+c}return[l,M5(s),this.#t=!!this.#t,this.#i]}#d(t){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,a]=r.toRegExpSource(t);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#h(t,r,n=!1){let i=!1,s="",a=!1;for(let l=0;l<t.length;l++){let c=t.charAt(l);if(i){i=!1,s+=(H0t.has(c)?"\\":"")+c;continue}if(c==="\\"){l===t.length-1?s+="\\\\":i=!0;continue}if(c==="["){let[u,f,m,h]=Hbe(t,l);if(m){s+=u,a=a||f,l+=m-1,r=r||h;continue}}if(c==="*"){n&&t==="*"?s+=$be:s+=jbe,r=!0;continue}if(c==="?"){s+=aee,r=!0;continue}s+=V0t(c)}return[s,M5(t),!!r,a]}};d();var lee=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var ca=o((e,t,r={})=>(uw(t),!r.nocomment&&t.charAt(0)==="#"?!1:new lI(t,r).match(e)),"minimatch"),j0t=/^\*+([^+@!?\*\[\(]*)$/,$0t=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),z0t=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),Y0t=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),K0t=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),J0t=/^\*+\.\*+$/,X0t=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),Z0t=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),ect=/^\.\*+$/,tct=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),rct=/^\*+$/,nct=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),ict=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),oct=/^\?+([^+@!?\*\[\(]*)?$/,sct=o(([e,t=""])=>{let r=Jbe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),act=o(([e,t=""])=>{let r=Xbe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),lct=o(([e,t=""])=>{let r=Xbe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),cct=o(([e,t=""])=>{let r=Jbe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),Jbe=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),Xbe=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),Zbe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",zbe={win32:{sep:"\\"},posix:{sep:"/"}},uct=Zbe==="win32"?zbe.win32.sep:zbe.posix.sep;ca.sep=uct;var fd=Symbol("globstar **");ca.GLOBSTAR=fd;var fct="[^/]",dct=fct+"*?",mct="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",hct="(?:(?!(?:\\/|^)\\.).)*?",pct=o((e,t={})=>r=>ca(r,e,t),"filter");ca.filter=pct;var ud=o((e,t={})=>Object.assign({},e,t),"ext"),gct=o(e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return ca;let t=ca;return Object.assign(o((n,i,s={})=>t(n,i,ud(e,s)),"m"),{Minimatch:class extends t.Minimatch{static{o(this,"Minimatch")}constructor(i,s={}){super(i,ud(e,s))}static defaults(i){return t.defaults(ud(e,i)).Minimatch}},AST:class extends t.AST{static{o(this,"AST")}constructor(i,s,a={}){super(i,s,ud(e,a))}static fromGlob(i,s={}){return t.AST.fromGlob(i,ud(e,s))}},unescape:o((n,i={})=>t.unescape(n,ud(e,i)),"unescape"),escape:o((n,i={})=>t.escape(n,ud(e,i)),"escape"),filter:o((n,i={})=>t.filter(n,ud(e,i)),"filter"),defaults:o(n=>t.defaults(ud(e,n)),"defaults"),makeRe:o((n,i={})=>t.makeRe(n,ud(e,i)),"makeRe"),braceExpand:o((n,i={})=>t.braceExpand(n,ud(e,i)),"braceExpand"),match:o((n,i,s={})=>t.match(n,i,ud(e,s)),"match"),sep:t.sep,GLOBSTAR:fd})},"defaults");ca.defaults=gct;var eve=o((e,t={})=>(uw(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,Kbe.default)(e)),"braceExpand");ca.braceExpand=eve;var Act=o((e,t={})=>new lI(e,t).makeRe(),"makeRe");ca.makeRe=Act;var yct=o((e,t,r={})=>{let n=new lI(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");ca.match=yct;var Ybe=/[?*]|[+@!]\(.*?\)|\[|\]/,Cct=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),lI=class{static{o(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,r={}){uw(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||Zbe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=s[0]===""&&s[1]===""&&(s[2]==="?"||!Ybe.test(s[2]))&&!Ybe.test(s[3]),u=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(f=>this.parse(f))];if(u)return[s[0],...s.slice(1).map(f=>this.parse(f))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let a=this.set[s];a[0]===""&&a[1]===""&&this.globParts[s][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let s=t[i];i===1&&s===""&&t[0]===""||(s==="."||s==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],c=n[i+2],u=n[i+3];if(l!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(i,1);let f=n.slice(0);f[i]="**",t.push(f),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let a=n[s-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...c),n.length===0&&n.push(""),s-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(i){t[r]=[],t[n]=i;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,s=0,a=[],l="";for(;i<t.length&&s<r.length;)if(t[i]===r[s])a.push(l==="b"?r[s]:t[i]),i++,s++;else if(n&&t[i]==="**"&&r[s]===t[i+1])a.push(t[i]),i++;else if(n&&r[s]==="**"&&t[i]===r[s+1])a.push(r[s]),s++;else if(t[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,s++}else if(r[s]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[s]),i++,s++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let E=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),x=!E&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),b=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),v=!b&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),S=x?3:E?0:void 0,B=v?3:b?0:void 0;if(typeof S=="number"&&typeof B=="number"){let[P,F]=[t[S],r[B]];P.toLowerCase()===F.toLowerCase()&&(r[B]=P,B>S?r=r.slice(B):S>B&&(t=t.slice(S)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,c=t.length,u=r.length;a<c&&l<u;a++,l++){this.debug("matchOne loop");var f=r[l],m=t[a];if(this.debug(r,f,m),f===!1)return!1;if(f===fd){this.debug("GLOBSTAR",[r,f,m]);var h=a,p=l+1;if(p===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;h<c;){var A=t[h];if(this.debug(`
globstar while`,t,h,r,p,A),this.matchOne(t.slice(h),r.slice(p),n))return this.debug("globstar found match!",h,c,A),!0;if(A==="."||A===".."||!i.dot&&A.charAt(0)==="."){this.debug("dot detected!",t,h,r,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,h,r,p),h===c))}let E;if(typeof f=="string"?(E=m===f,this.debug("string match",f,m,E)):(E=f.test(m),this.debug("pattern match",f,m,E)),!E)return!1}if(a===c&&l===u)return!0;if(a===c)return n;if(l===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return eve(this.pattern,this.options)}parse(t){uw(t);let r=this.options;if(t==="**")return fd;if(t==="")return"";let n,i=null;(n=t.match(rct))?i=r.dot?ict:nct:(n=t.match(j0t))?i=(r.nocase?r.dot?K0t:Y0t:r.dot?z0t:$0t)(n[1]):(n=t.match(oct))?i=(r.nocase?r.dot?act:sct:r.dot?lct:cct)(n):(n=t.match(J0t))?i=r.dot?Z0t:X0t:(n=t.match(ect))&&(i=tct);let s=aI.fromGlob(t,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?dct:r.dot?mct:hct,i=new Set(r.nocase?["i"]:[]),s=t.map(c=>{let u=c.map(f=>{if(f instanceof RegExp)for(let m of f.flags.split(""))i.add(m);return typeof f=="string"?Cct(f):f===fd?fd:f._src});return u.forEach((f,m)=>{let h=u[m+1],p=u[m-1];f!==fd||p===fd||(p===void 0?h!==void 0&&h!==fd?u[m+1]="(?:\\/|"+n+"\\/)?"+h:u[m]=n:h===void 0?u[m-1]=p+"(?:\\/|"+n+")?":h!==fd&&(u[m-1]=p+"(?:\\/|\\/"+n+"\\/)"+h,u[m+1]=fd))}),u.filter(f=>f!==fd).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];s="^"+a+s+l+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<s.length;l++){let c=s[l],u=i;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return ca.defaults(t).Minimatch}};ca.AST=aI;ca.Minimatch=lI;ca.escape=lee;ca.unescape=M5;var cee="contentExclusion",pQ=class extends sQ{static{o(this,"CopilotContentExclusion")}#e;#t=new Bn(1e4);#i=new Bn(200);constructor(t){super(),this.#e=t}async evaluate(t,r){try{t=D3(t).toString();let n=await this.getGitRepo({uri:t}),i=await this.#n(n?.url??C4.all);if(!i)return oQ;let s=n?.baseFolder?.uri??"file://",a=await this.evaluateFilePathRules(t,s,i);if(a.isBlocked)return a;let l=await this.evaluateTextBasedRules(t,i,r);if(l.isBlocked)return l}catch(n){return v1.exception(this.#e,n,`${cee}.evaluate`),vbe}return lw}async evaluateFilePathRules(t,r,n){let i=t;if(this.#t.has(i))return this.#t.get(i);let s=lw,a,l=RK(t.replace(r,""));e:for(let c of n)for(let u of c.paths)if(ca(l,u,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){s=uee(c,"FILE_BLOCKED_PATH"),a=u;break e}return v1.debug(this.#e,`Evaluated path-based exclusion rules for <${t}>`,{result:s,baseUri:r,fileName:l,matchingPattern:a}),this.#t.set(i,s),s}async evaluateTextBasedRules(t,r,n){let i=r.filter(l=>l.ifAnyMatch),s=r.filter(l=>l.ifNoneMatch);if(!n||i.length===0&&s.length===0)return lw;let a=await this.evaluateFileContent(i,s,n);return v1.debug(this.#e,`Evaluated text-based exclusion rules for <${t}>`,{result:a}),a}async evaluateFileContent(t,r,n){for(let i of t)if(i.ifAnyMatch&&i.ifAnyMatch.length>0&&i.ifAnyMatch.map(a=>tve(a)).some(a=>a.test(n)))return uee(i,"FILE_BLOCKED_TEXT_BASED");for(let i of r)if(i.ifNoneMatch&&i.ifNoneMatch.length>0&&!i.ifNoneMatch.map(a=>tve(a)).some(a=>a.test(n)))return uee(i,"FILE_BLOCKED_TEXT_BASED");return lw}async refresh(){try{let t=[...this.#i.keys()];this.reset(),await Promise.all(t.map(r=>this.#o(r)))}catch(t){Lo(this.#e,t,`${cee}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#n(t){if(this.#r?.length)return this.#r;let r=await this.#o(t.toLowerCase());if(r.length!==0)return r}#r;setTestingRules(t){this.#r=t}#o=kbe(async t=>{let r=await this.#e.get(qr).getGitHubSession();if(!r)throw new Us("No token found");let n=this.#e.get(Rn).getContentRestrictionsUrl(r),i=new URL(n),s=t.includes(C4.all);t.filter(u=>u!==C4.all).length>0&&i.searchParams.set("repos",t.filter(u=>u!==C4.all).join(",")),i.searchParams.set("scope",s?C4.all:C4.repo);let l=await this.#e.get(Fr).fetch(i.href,{method:"GET",headers:{Authorization:`token ${r.token}`}}),c=await l.json();if(!l.ok){if(l.status===404)return Array.from(t,()=>[]);throw this.#s("fetch.error",{message:c.message}),new p3(l)}return this.#s("fetch.success"),wbe(vct,c).map(u=>u.rules)},this.#i);async getGitRepo(t){let n=await this.#e.get(I1).getRepo(Tu(t));if(!n||!n?.remote)return;let i=n.remote.getUrlForApi();if(i)return{baseFolder:n.baseFolder,url:i}}#s(t,r,n){er(this.#e,`${cee}.${t}`,nn.createAndMarkAsIssued(r,n))}};function tve(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}o(tve,"stringToRegex");function uee(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}o(uee,"fileBlockedEvaluationResult");var Ect=I.Object({name:I.String(),type:I.String()}),xct=I.Object({paths:I.Array(I.String()),ifNoneMatch:I.Optional(I.Array(I.String())),ifAnyMatch:I.Optional(I.Array(I.String())),source:Ect}),fee=I.Array(xct),bct=I.Object({rules:fee,last_updated_at:I.String(),scope:I.String()}),vct=I.Array(bct);d();d();async function gQ(e,t){let r=await e.get(Pa).evaluate(t.uri,t.getText());return r.isBlocked?{status:"invalid",reason:r.message??"Document is blocked by repository policy"}:{status:"valid",document:t}}o(gQ,"isDocumentValid");var Or=class{constructor(t){this.ctx=t}static{o(this,"TextDocumentManager")}async textDocuments(){let t=this.getOpenTextDocuments(),r=[];for(let n of t)(await gQ(this.ctx,n)).status==="valid"&&r.push(n);return r}getOpenTextDocument(t){let r=Im(t.uri);return this.getOpenTextDocuments().find(n=>n.uri==r)}async getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return t?gQ(this.ctx,t).catch(()=>this.notFoundResult(r)):this.notFoundResult(r)}async getTextDocumentWithValidation(t){try{let r=this.getOpenTextDocument(t);return!r&&(r=await this.openTextDocument(t.uri),!r)?await this.notFoundResult(t.uri):gQ(this.ctx,r)}catch{return await this.notFoundResult(t.uri)}}getOpenTextDocumentWithValidation(t){let r=this.getOpenTextDocument(t);if(r){let n;return{then:o((i,s)=>(n??=this.validateTextDocument(r,t.uri),n.then(i,s)),"then")}}else return this.notFoundResult(t.uri)}async notFoundResult(t){let r=(await this.textDocuments()).map(n=>n.uri).join(", ");return{status:"notfound",message:`Document for URI could not be found: ${t}, URIs of the known document are: ${r}`}}async openTextDocument(t){try{if((await this.ctx.get(Qo).stat(t)).size>5*1024*1024)return}catch{return}let r=await this.ctx.get(Qo).readFileString(t);return H0.create(t,"UNKNOWN",0,r)}async getWorkspaceFolder(t){return this.getWorkspaceFolders().find(r=>t.clientUri.startsWith(r.uri))}getRelativePath(t){if(!t.uri.startsWith("untitled:")){for(let r of this.getWorkspaceFolders()){let n=r.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");if(t.clientUri.startsWith(n))return t.clientUri.slice(n.length)}return Fs(t.uri)}}};var Pa=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new pQ(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!this.#e)return;if(!t){this.updateStatusIcon(!1);return}let r=await this.ctx.get(Or).getTextDocumentWithValidation(t.document),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(Or).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),za(this.ctx,r=>{this.#e=r.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{o(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(t,r,n){let i=ys(t)!==void 0;if(i||v1.debug(this.ctx,`Unsupported file URI <${t}>`),!this.#e||!i)return{isBlocked:!1};let s=[],a=o(async(u,f)=>{let m=Date.now(),h=await f.evaluate(t,r),p=Date.now();return s.push({key:u,result:h,elapsedMs:p-m}),h},"track"),c=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(u=>u?.isBlocked)??{isBlocked:!1};try{for(let u of s)this.#i(u.key,t,u.result,u.elapsedMs)}catch(u){v1.error(this.ctx,"Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(t,r){this.#e&&(t?this.ctx.get(Ki).setInactive(r??"Copilot is disabled"):this.ctx.get(Ki).clearInactive())}#i(t,r,n,i){let s=r+t;if(this.evaluateResultCache.get(s)===n.reason)return!1;if(this.evaluateResultCache.set(s,n.reason??"UNKNOWN"),n.reason===oQ.reason)return v1.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},c={elapsedMs:i};return er(this.ctx,t,nn.createAndMarkAsIssued(l,c)),er(this.ctx,t,nn.createAndMarkAsIssued({...l,path:r},c),1),v1.debug(this.ctx,`[${t}] ${r}`,n),!0}setTestingRules(t){this.#t.setTestingRules(t)}set __contentExclusions(t){this.#t=t}get __contentExclusions(){return this.#t}};d();d();function rve(e,t){return{...Bv,useSubsetMatching:dee(e,t)}}o(rve,"getCppSimilarFilesOptions");function nve(e){return Bv.maxTopSnippets}o(nve,"getCppNumberOfSnippets");var Ict=new Map([["cpp",rve]]);function AQ(e,t,r){let n=Ict.get(r);return n?n(e,t):{...VF,useSubsetMatching:dee(e,t)}}o(AQ,"getSimilarFilesOptions");var Tct=new Map([["cpp",nve]]);function ive(e,t){let r=Tct.get(t);return r?r(e):KJ}o(ive,"getNumberOfSnippets");function dee(e,t){return(t.filtersAndExp.exp.variables.copilotsubsetmatching||ci(e,qt.UseSubsetMatching))??!1}o(dee,"useSubsetMatching");d();d();var wct=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Sct(e){return wct.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(Sct,"isOomError");function yQ(e,t,r,n=ni){if(!hu(t)){if(t instanceof Error){let i=t;Sct(i)?e.get(Ki).setWarning("Out of memory"):i.code==="EMFILE"||i.code==="ENFILE"?e.get(Ki).setWarning("Too many open files"):i.code==="CopilotPromptLoadFailure"?e.get(Ki).setWarning("Corrupted Copilot installation"):`${i.code}`.startsWith("CopilotPromptWorkerExit")?e.get(Ki).setWarning("Worker unexpectedly exited"):i.syscall==="uv_cwd"&&i.code==="ENOENT"&&e.get(Ki).setWarning("Current working directory does not exist")}n.exception(e,t,r)}}o(yQ,"handleException");function ove(e){process.addListener("uncaughtException",r=>{yQ(e,r,"uncaughtException")});let t=!1;process.addListener("unhandledRejection",r=>{if(!t)try{t=!0,yQ(e,r,"unhandledRejection")}finally{t=!1}})}o(ove,"registerDefaultHandlers");d();d();d();var Fa=class{constructor(){this._prompt_lib_expectations=new Map;this._prompt_components_expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{o(this,"ContextProviderStatistics")}addPromptLibExpectations(t,r){let n=this._prompt_lib_expectations.get(t)??[];this._prompt_lib_expectations.set(t,[...n,...r])}addPromptComponentsExpectations(t,r){let n=this._prompt_components_expectations.get(t)??[];this._prompt_components_expectations.set(t,[...n,...r])}clearExpectations(){this._prompt_lib_expectations.clear(),this._prompt_components_expectations.clear()}setLastResolution(t,r){this._lastResolution.set(t,r)}get(t){return this._statistics.get(t)}pop(t){let r=this._statistics.get(t);if(r)return this._statistics.delete(t),r}computeMatchWithPrompt(t){try{for(let[r,n]of this._prompt_lib_expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=0,a=!1;for(let u of n){if(u==CQ){a=!0;continue}t.includes(u)&&s++}let l=s/n.length,c;a?c=l===0?"none_content_excluded":"partial_content_excluded":c=l===1?"full":l===0?"none":"partial",this._statistics.set(r,{usage:c,resolution:i})}}finally{this.clearExpectations(),this._lastResolution.clear()}}computeMatch(t){try{for(let[r,n]of this._prompt_components_expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=[],a=!1;for(let[f,m]of n){let h={id:f.id,type:f.type};if(f.origin&&(h.origin=f.origin),m==="content_excluded"){a=!0,s.push({...h,usage:"none_content_excluded"});continue}let p=t.find(A=>A.source===f);p===void 0?s.push({...h,usage:"error"}):s.push({...h,usage:p.expectedTokens>0&&p.expectedTokens===p.actualTokens?"full":p.actualTokens>0?"partial":"none",expectedTokens:p.expectedTokens,actualTokens:p.actualTokens})}let c=s.reduce((f,m)=>m.usage==="full"?f+1:m.usage==="partial"?f+.5:f,0)/n.length,u;a?u=c===0?"none_content_excluded":"partial_content_excluded":u=c===1?"full":c===0?"none":"partial",this._statistics.set(r,{resolution:i,usage:u,usageDetails:s})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function sve(e){return e.map(t=>{if(!(t.source===void 0||t.expectedTokens===void 0||t.actualTokens===void 0))return{source:t.source,expectedTokens:t.expectedTokens,actualTokens:t.actualTokens}}).filter(t=>t!==void 0)}o(sve,"componentStatisticsToPromptMatcher");d();var ave=I.Object({importance:I.Optional(I.Integer({minimum:0,maximum:100})),id:I.Optional(I.String()),origin:I.Optional(I.Union([I.Literal("request"),I.Literal("update")]))}),lve=I.Intersect([I.Object({name:I.String(),value:I.String()}),ave]),cve=I.Intersect([I.Object({uri:I.String(),value:I.String(),additionalUris:I.Optional(I.Array(I.String()))}),ave]),_ct=[lve,cve],kct=I.Union(_ct),Bct=new Map([["Trait",Ns.Compile(lve)],["CodeSnippet",Ns.Compile(cve)]]),Rct=o(e=>e,"ensureTypesAreEqual");Rct(!0);var Dct=I.Object({contextItems:I.Array(kct)}),Pct=I.Object({selector:I.Array(I.Union([I.String(),I.Object({language:I.Optional(I.String()),scheme:I.Optional(I.String()),pattern:I.Optional(I.String())})]))}),mee=I.Object({id:I.String()}),Fct=I.Intersect([mee,Pct]),Nct=I.Intersect([mee,Dct]),uve=I.Object({providers:I.Array(Fct)}),fve=I.Object({providers:I.Array(mee)}),hee=I.Object({providers:I.Array(Nct),updating:I.Optional(I.Array(I.String()))}),EQ=I.Intersect([Z2e,I.Object({contextItems:I.Optional(hee)})]);function xQ(e,t){return e.map(r=>{let n=r.data.filter(i=>i.type===t);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}o(xQ,"filterContextItemsByType");function dve(e){let t=[],r=0;return e.forEach(n=>{let i=!1;for(let[s,a]of Bct.entries())if(a.Check(n)){t.push({...n,type:s}),i=!0;break}i||r++}),[t,r]}o(dve,"filterSupportedContextItems");function Lct(e){return e.length>0&&e.replaceAll(/[^a-zA-Z0-9-]/g,"").length===e.length}o(Lct,"validateContextItemId");function mve(e,t){let r=new Set,n=[];for(let i of t){let s=i.id??xr();if(!Lct(s)){let a=xr();ni.error(e,`Invalid context item ID ${s}, replacing with ${a}`),s=a}if(r.has(s)){let a=xr();ni.error(e,`Duplicate context item ID ${s}, replacing with ${a}`),s=a}r.add(s),n.push({...i,id:s})}return n}o(mve,"addOrValidateContextItemsIDs");var CQ="content_excluded";async function bQ(e,t,r){let n=[],i=xQ(t,"CodeSnippet");if(i.length===0)return n;let s=e.get(Or),a=e.get(Fa),l=i.flatMap(c=>c.data.map(u=>({providerId:c.providerId,data:u})));for(let c of l){let f=[c.data.uri,...c.data.additionalUris??[]].map(h=>s.getTextDocumentWithValidation({uri:h}));(await Promise.all(f)).every(h=>h.status==="valid")?(n.push(c.data),a.addPromptLibExpectations(c.providerId,[Gs(c.data.value,Ba(r))]),a.addPromptComponentsExpectations(c.providerId,[[c.data,"included"]])):(a.addPromptLibExpectations(c.providerId,[CQ]),a.addPromptComponentsExpectations(c.providerId,[[c.data,CQ]]))}return n}o(bQ,"getCodeSnippetsFromContextItems");function vQ(e,t){let r=e.get(Or);return t.map(n=>{let i=H0.create(n.uri,"unknown",0,n.value);return{snippet:n,relativePath:r.getRelativePath(i)}})}o(vQ,"addRelativePathToCodeSnippets");d();function js(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}o(js,"Text");function hve(e){return e.children}o(hve,"Chunk");d();function Mn(e,t,r){let n=[];Array.isArray(t.children)?n=t.children:t.children&&(n=[t.children]);let i={...t,children:n};return r&&(i.key=r),{type:e,props:i}}o(Mn,"functionComponentFunction");function T1(e){return{type:"f",children:e}}o(T1,"fragmentFunction");T1.isFragmentFunction=!0;var pve=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(Qc,f=>{f.codeSnippets!==r&&n(f.codeSnippets),f.document.uri!==i?.uri&&s(f.document)}),!r||r.length===0||!i)return;let a=Ba(i.clientLanguageId),l=vQ(e.ctx,r),c=new Map;for(let f of l){let m=f.relativePath??f.snippet.uri,h=c.get(m);h===void 0&&(h=[],c.set(m,h)),h.push(f)}let u=[];for(let[f,m]of c.entries()){let h=m.filter(p=>p.snippet.value.length>0);h.length>0&&u.push({chunkElements:h.map(p=>p.snippet),importance:Math.max(...h.map(p=>p.snippet.importance??0)),uri:f})}if(u.length!==0)return u.sort((f,m)=>m.importance-f.importance),u.reverse(),u.map(f=>{let m=[];return m.push(Mn(js,{children:Gs(`Compare ${f.chunkElements.length>1?"these snippets":"this snippet"} from ${f.uri}:`,a)})),f.chunkElements.forEach((h,p)=>{m.push(Mn(js,{source:h,children:Gs(h.value,a)},h.id)),f.chunkElements.length>1&&p<f.chunkElements.length-1&&m.push(Mn(js,{children:Gs("---",a)}))}),Mn(hve,{children:m})})},"CodeSnippets");d();d();function Qct(e){let t=e*4,r=e*.1;return Math.floor(t+r)}o(Qct,"approximateMaxCharacters");function dw(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0),[c,u]=t.useState();t.useData(Qc,m=>{let h=m.document;(m.document.uri!==r?.uri||h.getText()!==r?.getText())&&n(h),m.position!==i&&s(m.position),m.suffixMatchThreshold!==c&&u(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens)});let f=Qct(a);return Mn(T1,{children:[Mn(pee,{document:r,position:i,maxCharacters:f}),Mn(gee,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:f})]})}o(dw,"CurrentFile");function pee(e){if(e.document===void 0||e.position===void 0)return Mn(js,{});let t=e.document.getText({start:{line:0,character:0},end:e.position});return t.length>e.maxCharacters&&(t=t.slice(-e.maxCharacters)),Mn(js,{children:t})}o(pee,"BeforeCursor");function gee(e,t){let[r,n]=t.useState("");if(e.document===void 0||e.position===void 0)return Mn(js,{});let i=e.document.getText({start:e.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});i.length>e.maxCharacters&&(i=i.slice(0,e.maxCharacters));let s=i.replace(/^.*/,"").trimStart();if(s==="")return Mn(js,{});if(r===s)return Mn(js,{children:r});let a=s;if(r!==""){let l=vo(),c=l.takeFirstTokens(s,v5);c.tokens.length>0&&100*XF(c.tokens,l.takeFirstTokens(r,v5).tokens)?.score<(e.suffixMatchThreshold??IT)*c.tokens.length&&(a=r)}return a!==r&&n(a),Mn(js,{children:a})}o(gee,"AfterCursor");d();var IQ=class{constructor(t){this.tokenizer=t}static{o(this,"WishlistElision")}elide(t,r,n,i=0){if(r<=0)throw new Error("Prefix limit must be greater than 0");let s=n??{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"},[a,l]=this.preparePrefixBlocks(t),{elidedSuffix:c,adjustedPrefixTokenLimit:u}=this.elideSuffix(s,i,r,l),f=this.elidePrefix(a,u,l);return[c,...f]}preparePrefixBlocks(t){let r=0,n=new Set;return[t.map((s,a)=>{let l=this.tokenizer.tokenLength(s.value);r+=l;let c=s.componentPath;if(n.has(c))throw new Error(`Duplicate component path in prefix blocks: ${c}`);return n.add(c),{...s,tokens:l,markedForRemoval:!1,originalIndex:a}}),r]}elideSuffix(t,r,n,i){let s=t.value;if(s.length===0||r<=0)return{elidedSuffix:{...t,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};i<n&&(r=r+(n-i),n=i);let a=this.tokenizer.takeFirstTokens(s,r);return{elidedSuffix:{...t,value:s,tokens:this.tokenizer.tokenLength(s),elidedValue:a.text,elidedTokens:a.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-a.tokens.length)}}elidePrefix(t,r,n){let i=this.removeLowWeightPrefixBlocks(t,r,n),s=i.filter(u=>!u.markedForRemoval).flatMap(u=>u.value.split(/([^\n]*\n+)/).map(m=>({line:m,componentPath:u.componentPath}))).filter(u=>u.line!=="");if(s.length===0)return[];let[a,l]=this.trimPrefixLinesToFit(s,r),c=l;return i.map(u=>{if(u.markedForRemoval)return c+u.tokens<=r&&!u.chunk?(c+=u.tokens,{...u,elidedValue:u.value,elidedTokens:u.tokens}):{...u,elidedValue:"",elidedTokens:0};let f=a.filter(h=>h.componentPath===u.componentPath&&h.line!=="").map(h=>h.line).join(""),m=u.tokens;return f!==u.value&&(m=f!==""?this.tokenizer.tokenLength(f):0),{...u,elidedValue:f,elidedTokens:m}})}removeLowWeightPrefixBlocks(t,r,n){let i=n;t.sort((s,a)=>s.weight-a.weight);for(let s of t){if(i<=r)break;if(s.weight!==1&&!(s.chunk&&s.markedForRemoval))if(s.chunk)for(let a of t)a.chunk===s.chunk&&!a.markedForRemoval&&(a.markedForRemoval=!0,i-=a.tokens);else s.markedForRemoval=!0,i-=s.tokens}return t.sort((s,a)=>s.originalIndex-a.originalIndex).map(s=>{let{originalIndex:a,...l}=s;return l})}trimPrefixLinesToFit(t,r){let n=0,i=[];for(let s=t.length-1;s>=0;s--){let a=t[s],l=a.line,c=this.tokenizer.tokenLength(l);if(n+c<=r)i.unshift(a),n+=c;else break}if(i.length===0){let s=t[t.length-1];if(s&&s.line.length>0){let l=this.tokenizer.takeLastTokens(s.line,r);return i.push({line:l.text,componentPath:s.componentPath}),[i,l.tokens.length]}let a=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(a)}return[i,n]}};function gve(e){return e.map(t=>t.elidedValue).join("")}o(gve,"makePrompt");function Ave(e){return e.filter(t=>t.type==="prefix").map(t=>t.elidedValue).join("")}o(Ave,"makePrefixPrompt");function yve(e,t){return e.filter(r=>r.type==="context").map(r=>JCe(r.elidedValue,t)).join("").trim()}o(yve,"makeContextPrompt");d();var xIe=nt(AI());var jQ=class{constructor(t){this.snapshot=t}static{o(this,"SnapshotWalker")}async walkSnapshot(t){await this.walkSnapshotNode(this.snapshot,t,1,void 0,void 0)}async walkSnapshotNode(t,r,n,i,s){let a=t.props?.weight??1,c=(typeof a=="number"?Math.max(0,Math.min(1,a)):1)*n,f=t.name===xIe.Chunk.name?t:i,m=t.props?.source??s;if(await r(t,c,f,m))for(let p of t.children??[])await this.walkSnapshotNode(p,r,c,f,m)}};var $Q=class{constructor(){this.renderId=0}static{o(this,"CompletionsPromptRenderer")}async render(t,r,n){let i=this.renderId++,s=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",l=r.tokenizer??vo(),c=r.languageId??"unknown",{prefixBlocks:u,suffixBlock:f,componentStatistics:m}=await this.processSnapshot(t,a),{prefixTokenLimit:h,suffixTokenLimit:p}=this.getPromptLimits(f,r),A=performance.now(),E=new IQ(l),[x,...b]=E.elide(u,h,f,p),v=performance.now(),S=gve(b),B=Ave(b),P=yve(b,c),F=x.elidedValue,G=b.reduce((pe,Z)=>pe+Z.elidedTokens,0),re=G+x.elidedTokens;return m.push(...Rut([...b,x])),{prefix:S,prefixTokens:G,suffix:F,suffixTokens:x.elidedTokens,prefixWithoutContext:B,context:P,tokens:re,status:"ok",metadata:{actualTokens:re,renderId:i,elisionTimeMs:v-A,renderTimeMs:performance.now()-s,componentStatistics:m,updateDataTimeMs:m.reduce((pe,Z)=>pe+(Z.updateDataTimeMs??0),0),status:"ok"}}}catch(a){return{status:"error",error:a}}}getPromptLimits(t,r){let n=t?.value??"",i=r.promptTokenLimit??V3,s=r.suffixPercent??zF;if(n.length==0||s==0)return{prefixTokenLimit:i,suffixTokenLimit:0};i=n.length>0?i-JJ:i;let a=Math.ceil(i*(s/100));return{prefixTokenLimit:i-a,suffixTokenLimit:a}}async processSnapshot(t,r){let n=[],i=[],s=[],a=!1,l=!1,c=!1;if(await new jQ(t).walkSnapshot(async(m,h,p,A)=>{if(m===t||(m.name===dw.name?a=!0:m.name===pee.name?l=!0:m.name===gee.name&&(c=!0),m.statistics.updateDataTimeMs&&m.statistics.updateDataTimeMs>0&&s.push({componentPath:m.path,updateDataTimeMs:m.statistics.updateDataTimeMs}),m.value===void 0||m.value===""))return!0;if(c)i.push({value:m.value,type:"suffix",weight:h,componentPath:m.path,nodeStatistics:m.statistics,chunk:p?p.path:void 0,source:A});else{let E=m.value.endsWith(r)?m.value:m.value+r,x=l?m.value:E;n.push({type:l?"prefix":"context",value:x,weight:h,componentPath:m.path,nodeStatistics:m.statistics,chunk:p?p.path:void 0,source:A})}return!0}),!a)throw new Error(`Node of type ${dw.name} not found`);if(i.length>1)throw new Error("Only one suffix is allowed");let f=i[0];return{prefixBlocks:n,suffixBlock:f,componentStatistics:s}}};function Rut(e){return e.map(t=>{let r={componentPath:t.componentPath};return t.tokens!==0&&(r.expectedTokens=t.tokens,r.actualTokens=t.elidedTokens),t.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=t.nodeStatistics.updateDataTimeMs),t.source&&(r.source=t.source),r})}o(Rut,"computeComponentStatistics");d();var bIe=o((e,t)=>{let[r,n]=t.useState();if(t.useData(Qc,i=>{n(i.telemetryData)}),r&&e.by(e.ctx,r))return e.children},"Gated");d();var vIe=o((e,t)=>{let[r,n]=t.useState();if(t.useData(Qc,i=>{i.document.uri!==r?.uri&&n(i.document)}),r){let i=e.ctx.get(Or),s=i.getRelativePath(r),a={uri:r.uri,source:r.getText(),offset:-1,relativePath:s,languageId:r.detectedLanguageId},l=i.findNotebook(r);return a.relativePath&&!l?Mn(Dut,{docInfo:a}):Mn(Put,{docInfo:a})}},"DocumentMarker"),Dut=o((e,t)=>Mn(js,{children:QF(e.docInfo)}),"PathMarker"),Put=o((e,t)=>Mn(js,{children:LF(e.docInfo)}),"LanguageMarker");d();d();d();d();d();var nte=class{static{o(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?zQ.isErrorNoTelemetry(t)?new zQ(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(r=>{r(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},IIe=new nte;function T4(e){IIe.onUnexpectedError(e)}o(T4,"onBugIndicatingError");function yI(e){Fut(e)||IIe.onUnexpectedError(e)}o(yI,"onUnexpectedError");var ite="Canceled";function Fut(e){return e instanceof bp?!0:e instanceof Error&&e.name===ite&&e.message===ite}o(Fut,"isCancellationError");var bp=class extends Error{static{o(this,"CancellationError")}constructor(){super(ite),this.name=this.message}};function Tw(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(Tw,"illegalArgument");function TIe(e){return e?new Error(`Illegal state: ${e}`):new Error("Illegal state")}o(TIe,"illegalState");var zQ=class e extends Error{static{o(this,"ErrorNoTelemetry")}constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof e)return t;let r=new e;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},Ai=class e extends Error{static{o(this,"BugIndicatingError")}constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,e.prototype)}};function YQ(e,t="Unreachable"){throw new Error(t)}o(YQ,"assertNever");function Uc(e,t="unexpected state"){if(!e)throw new Ai(`Assertion Failed: ${t}`)}o(Uc,"assert");function V5(e){if(!e()){debugger;e(),yI(new Ai("Assertion Failed"))}}o(V5,"assertFn");function KQ(e,t){let r=0;for(;r<e.length-1;){let n=e[r],i=e[r+1];if(!t(n,i))return!1;r++}return!0}o(KQ,"checkAdjacentItems");d();d();d();function ote(e,t){let r=Wm(e,t);return r===-1?void 0:e[r]}o(ote,"findLastMonotonous");function Wm(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?i=a+1:s=a}return i-1}o(Wm,"findLastIdxMonotonous");function CI(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?s=a:i=a+1}return i}o(CI,"findFirstIdxMonotonousOrArrLen");var wIe=class e{constructor(t){this._array=t;this._findLastMonotonousLastIdx=0}static{o(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(t){if(e.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!t(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=t}let r=Wm(this._array,t,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};function ste(e,t,r=(n,i)=>n===i){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!r(e[n],t[n]))return!1;return!0}o(ste,"equals");function*_Ie(e,t){let r,n;for(let i of e)n!==void 0&&t(n,i)?r.push(i):(r&&(yield r),r=[i]),n=i;r&&(yield r)}o(_Ie,"groupAdjacentBy");function kIe(e){return e.filter(t=>!!t)}o(kIe,"coalesce");var BIe;(l=>{function e(c){return c<0}l.isLessThan=e,o(e,"isLessThan");function t(c){return c<=0}l.isLessThanOrEqual=t,o(t,"isLessThanOrEqual");function r(c){return c>0}l.isGreaterThan=r,o(r,"isGreaterThan");function n(c){return c===0}l.isNeitherLessOrGreaterThan=n,o(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(BIe||={});function j5(e,t){return(r,n)=>t(e(r),e(n))}o(j5,"compareBy");var $5=o((e,t)=>e-t,"numberComparator");var JQ=class{constructor(t){this.items=t;this.firstIdx=0;this.lastIdx=this.items.length-1}static{o(this,"ArrayQueue")}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(t){let r=this.firstIdx;for(;r<this.items.length&&t(this.items[r]);)r++;let n=r===this.firstIdx?null:this.items.slice(this.firstIdx,r);return this.firstIdx=r,n}takeFromEndWhile(t){let r=this.lastIdx;for(;r>=0&&t(this.items[r]);)r--;let n=r===this.lastIdx?null:this.items.slice(r+1,this.lastIdx+1);return this.lastIdx=r,n}peek(){if(this.length!==0)return this.items[this.firstIdx]}peekLast(){if(this.length!==0)return this.items[this.lastIdx]}dequeue(){let t=this.items[this.firstIdx];return this.firstIdx++,t}removeLast(){let t=this.items[this.lastIdx];return this.lastIdx--,t}takeCount(t){let r=this.items.slice(this.firstIdx,this.firstIdx+t);return this.firstIdx+=t,r}},SIe=class e{constructor(t){this.iterate=t}static{o(this,"CallbackIterable")}static{this.empty=new e(t=>{})}forEach(t){this.iterate(r=>(t(r),!0))}toArray(){let t=[];return this.iterate(r=>(t.push(r),!0)),t}filter(t){return new e(r=>this.iterate(n=>t(n)?r(n):!0))}map(t){return new e(r=>this.iterate(n=>r(t(n))))}some(t){let r=!1;return this.iterate(n=>(r=t(n),!r)),r}findFirst(t){let r;return this.iterate(n=>t(n)?(r=n,!1):!0),r}findLast(t){let r;return this.iterate(n=>(t(n)&&(r=n),!0)),r}findLastMaxBy(t){let r,n=!0;return this.iterate(i=>((n||BIe.isGreaterThan(t(i,r)))&&(n=!1,r=i),!0)),r}};d();function FIe(e,t){let r=Object.create(null);for(let n of e){let i=t(n),s=r[i];s||(s=r[i]=[]),s.push(n)}return r}o(FIe,"groupBy");var DIe,PIe,RIe=class{constructor(t,r){this.toKey=r;this._map=new Map;this[DIe]="SetWithKey";for(let n of t)this.add(n)}static{o(this,"SetWithKey")}get size(){return this._map.size}add(t){let r=this.toKey(t);return this._map.set(r,t),this}delete(t){return this._map.delete(this.toKey(t))}has(t){return this._map.has(this.toKey(t))}*entries(){for(let t of this._map.values())yield[t,t]}keys(){return this.values()}*values(){for(let t of this._map.values())yield t}clear(){this._map.clear()}forEach(t,r){this._map.forEach(n=>t.call(r,n,n,this))}[(PIe=Symbol.iterator,DIe=Symbol.toStringTag,PIe)](){return this.values()}};d();function ate(e,t){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,t)try{i=e.apply(r,arguments)}finally{t()}else i=e.apply(r,arguments);return i}}o(ate,"createSingleCallFunction");d();var lte;(S=>{function e(B){return B&&typeof B=="object"&&typeof B[Symbol.iterator]=="function"}S.is=e,o(e,"is");let t=Object.freeze([]);function r(){return t}S.empty=r,o(r,"empty");function*n(B){yield B}S.single=n,o(n,"single");function i(B){return e(B)?B:n(B)}S.wrap=i,o(i,"wrap");function s(B){return B||t}S.from=s,o(s,"from");function*a(B){for(let P=B.length-1;P>=0;P--)yield B[P]}S.reverse=a,o(a,"reverse");function l(B){return!B||B[Symbol.iterator]().next().done===!0}S.isEmpty=l,o(l,"isEmpty");function c(B){return B[Symbol.iterator]().next().value}S.first=c,o(c,"first");function u(B,P){let F=0;for(let G of B)if(P(G,F++))return!0;return!1}S.some=u,o(u,"some");function f(B,P){for(let F of B)if(P(F))return F}S.find=f,o(f,"find");function*m(B,P){for(let F of B)P(F)&&(yield F)}S.filter=m,o(m,"filter");function*h(B,P){let F=0;for(let G of B)yield P(G,F++)}S.map=h,o(h,"map");function*p(B,P){let F=0;for(let G of B)yield*P(G,F++)}S.flatMap=p,o(p,"flatMap");function*A(...B){for(let P of B)yield*P}S.concat=A,o(A,"concat");function E(B,P,F){let G=F;for(let re of B)G=P(G,re);return G}S.reduce=E,o(E,"reduce");function*x(B,P,F=B.length){for(P<-B.length&&(P=0),P<0&&(P+=B.length),F<0?F+=B.length:F>B.length&&(F=B.length);P<F;P++)yield B[P]}S.slice=x,o(x,"slice");function b(B,P=Number.POSITIVE_INFINITY){let F=[];if(P===0)return[F,B];let G=B[Symbol.iterator]();for(let re=0;re<P;re++){let pe=G.next();if(pe.done)return[F,S.empty()];F.push(pe.value)}return[F,{[Symbol.iterator](){return G}}]}S.consume=b,o(b,"consume");async function v(B){let P=[];for await(let F of B)P.push(F);return Promise.resolve(P)}S.asyncToArray=v,o(v,"asyncToArray")})(lte||={});d();var cte=class{constructor(t,r){this.uri=t;this.value=r}static{o(this,"ResourceMapEntry")}};function Lut(e){return Array.isArray(e)}o(Lut,"isEntries");var LIe,XQ=class e{constructor(t,r){this[LIe]="ResourceMap";if(t instanceof e)this.map=new Map(t.map),this.toKey=r??e.defaultToKey;else if(Lut(t)){this.map=new Map,this.toKey=r??e.defaultToKey;for(let[n,i]of t)this.set(n,i)}else this.map=new Map,this.toKey=t??e.defaultToKey}static{o(this,"ResourceMap")}static{this.defaultToKey=o(t=>t.toString(),"defaultToKey")}set(t,r){return this.map.set(this.toKey(t),new cte(t,r)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,r){typeof r<"u"&&(t=t.bind(r));for(let[n,i]of this.map)t(i.value,i.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(LIe=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}},QIe,NIe=class{constructor(t,r){this[QIe]="ResourceSet";!t||typeof t=="function"?this._map=new XQ(t):(this._map=new XQ(r),t.forEach(this.add,this))}static{o(this,"ResourceSet")}get size(){return this._map.size}add(t){return this._map.set(t,t),this}clear(){this._map.clear()}delete(t){return this._map.delete(t)}forEach(t,r){this._map.forEach((n,i)=>t.call(r,i,i,this))}has(t){return this._map.has(t)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(QIe=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var MIe,ute=class{constructor(){this[MIe]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{o(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=0){let n=this._map.get(t);if(n)return r!==0&&this.touch(n,r),n.value}set(t,r,n=0){let i=this._map.get(t);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[(MIe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===2){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}},fte=class extends ute{static{o(this,"Cache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=2){return super.get(t,r)}peek(t){return super.get(t,0)}set(t,r){return super.set(t,r,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},ZQ=class extends fte{static{o(this,"LRUCache")}constructor(t,r=1){super(t,r)}trim(t){this.trimOld(t)}set(t,r){return super.set(t,r),this.checkTrim(),this}};var eM=class{constructor(){this.map=new Map}static{o(this,"SetMap")}add(t,r){let n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(r)}delete(t,r){let n=this.map.get(t);n&&(n.delete(r),n.size===0&&this.map.delete(t))}forEach(t,r){let n=this.map.get(t);n&&n.forEach(r)}get(t){let r=this.map.get(t);return r||new Set}};var Qut=!1,EI=null;var OIe=class e{constructor(){this.livingDisposables=new Map}static{o(this,"DisposableTracker")}static{this.idx=0}getDisposableData(t){let r=this.livingDisposables.get(t);return r||(r={parent:null,source:null,isSingleton:!1,value:t,idx:e.idx++},this.livingDisposables.set(t,r)),r}trackDisposable(t){let r=this.getDisposableData(t);r.source||(r.source=new Error().stack)}setParent(t,r){let n=this.getDisposableData(t);n.parent=r}markAsDisposed(t){this.livingDisposables.delete(t)}markAsSingleton(t){this.getDisposableData(t).isSingleton=!0}getRootParent(t,r){let n=r.get(t);if(n)return n;let i=t.parent?this.getRootParent(this.getDisposableData(t.parent),r):t;return r.set(t,i),i}getTrackedDisposables(){let t=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,t).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(t=10,r){let n;if(r)n=r;else{let c=new Map,u=[...this.livingDisposables.values()].filter(m=>m.source!==null&&!this.getRootParent(m,c).isSingleton);if(u.length===0)return;let f=new Set(u.map(m=>m.value));if(n=u.filter(m=>!(m.parent&&f.has(m.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(c){function u(m,h){for(;m.length>0&&h.some(p=>typeof p=="string"?p===m[0]:m[0].match(p));)m.shift()}o(u,"removePrefix");let f=c.source.split(`
`).map(m=>m.trim().replace("at ","")).filter(m=>m!=="");return u(f,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),f.reverse()}o(i,"getStackTracePath");let s=new eM;for(let c of n){let u=i(c);for(let f=0;f<=u.length;f++)s.add(u.slice(0,f).join(`
`),c)}n.sort(j5(c=>c.idx,$5));let a="",l=0;for(let c of n.slice(0,t)){l++;let u=i(c),f=[];for(let m=0;m<u.length;m++){let h=u[m];h=`(shared with ${s.get(u.slice(0,m+1).join(`
`)).size}/${n.length} leaks) at ${h}`;let A=s.get(u.slice(0,m).join(`
`)),E=FIe([...A].map(x=>i(x)[m]),x=>x);delete E[u[m]];for(let[x,b]of Object.entries(E))f.unshift(`    - stacktraces of ${b.length} other leaks continue with ${x}`);f.unshift(h)}a+=`


==================== Leaking disposable ${l}/${n.length}: ${c.value.constructor.name} ====================
${f.join(`
`)}
============================================================

`}return n.length>t&&(a+=`


... and ${n.length-t} more leaking disposables

`),{leaks:n,details:a}}};function Mut(e){EI=e}o(Mut,"setDisposableTracker");if(Qut){let e="__is_disposable_tracked__";Mut(new class{trackDisposable(t){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{t[e]||console.log(r)},3e3)}setParent(t,r){if(t&&t!==ua.None)try{t[e]=!0}catch{}}markAsDisposed(t){if(t&&t!==ua.None)try{t[e]=!0}catch{}}markAsSingleton(t){}})}function xI(e){return EI?.trackDisposable(e),e}o(xI,"trackDisposable");function bI(e){EI?.markAsDisposed(e)}o(bI,"markAsDisposed");function dte(e,t){EI?.setParent(e,t)}o(dte,"setParentOfDisposable");function Out(e,t){if(EI)for(let r of e)EI.setParent(r,t)}o(Out,"setParentOfDisposables");function UIe(e){return typeof e=="object"&&e!==null&&typeof e.dispose=="function"&&e.dispose.length===0}o(UIe,"isDisposable");function tM(e){if(lte.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(n){t.push(n)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}o(tM,"dispose");function qIe(...e){let t=fa(()=>tM(e));return Out(e,t),t}o(qIe,"combinedDisposable");function fa(e){let t=xI({dispose:ate(()=>{bI(t),e()})});return t}o(fa,"toDisposable");var V0=class e{constructor(){this._toDispose=new Set;this._isDisposed=!1;xI(this)}static{o(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(bI(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{tM(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return dte(t,this),this._isDisposed?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),dte(t,null))}},ua=class{constructor(){this._store=new V0;xI(this),dte(this._store,this)}static{o(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){bI(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};d();d();d();d();d();var k1=o((e,t)=>e===t,"strictEquals");d();d();var WIe=class e{static{o(this,"Node")}static{this.Undefined=new e(void 0)}constructor(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}};d();var Uut=globalThis.performance&&typeof globalThis.performance.now=="function",rM=class e{static{o(this,"StopWatch")}static create(t){return new e(t)}constructor(t){this._now=Uut&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var GIe=!1,qut=!1,w4;(ne=>{ne.None=o(()=>ua.None,"None");function t(H){if(qut){let{onDidAddListener:O}=H,j=ww.create(),J=0;H.onDidAddListener=()=>{++J===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),j.print()),O?.()}}}o(t,"_addLeakageTraceLogic");function r(H,O){return p(H,()=>{},0,void 0,!0,void 0,O)}ne.defer=r,o(r,"defer");function n(H){return(O,j=null,J)=>{let le=!1,ee;return ee=H(ae=>{if(!le)return ee?ee.dispose():le=!0,O.call(j,ae)},null,J),le&&ee.dispose(),ee}}ne.once=n,o(n,"once");function i(H,O){return ne.once(ne.filter(H,O))}ne.onceIf=i,o(i,"onceIf");function s(H,O,j){return m((J,le=null,ee)=>H(ae=>J.call(le,O(ae)),null,ee),j)}ne.map=s,o(s,"map");function a(H,O,j){return m((J,le=null,ee)=>H(ae=>{O(ae),J.call(le,ae)},null,ee),j)}ne.forEach=a,o(a,"forEach");function l(H,O,j){return m((J,le=null,ee)=>H(ae=>O(ae)&&J.call(le,ae),null,ee),j)}ne.filter=l,o(l,"filter");function c(H){return H}ne.signal=c,o(c,"signal");function u(...H){return(O,j=null,J)=>{let le=qIe(...H.map(ee=>ee(ae=>O.call(j,ae))));return h(le,J)}}ne.any=u,o(u,"any");function f(H,O,j,J){let le=j;return s(H,ee=>(le=O(le,ee),le),J)}ne.reduce=f,o(f,"reduce");function m(H,O){let j,J={onWillAddFirstListener(){j=H(le.fire,le)},onDidRemoveLastListener(){j?.dispose()}};O||t(J);let le=new Gu(J);return O?.add(le),le.event}o(m,"snapshot");function h(H,O){return O instanceof Array?O.push(H):O&&O.add(H),H}o(h,"addAndReturnDisposable");function p(H,O,j=100,J=!1,le=!1,ee,ae){let ce,Re,ve,Ue=0,ke,Je={leakWarningThreshold:ee,onWillAddFirstListener(){ce=H(ot=>{Ue++,Re=O(Re,ot),J&&!ve&&(ft.fire(Re),Re=void 0),ke=o(()=>{let at=Re;Re=void 0,ve=void 0,(!J||Ue>1)&&ft.fire(at),Ue=0},"doFire"),typeof j=="number"?(clearTimeout(ve),ve=setTimeout(ke,j)):ve===void 0&&(ve=0,queueMicrotask(ke))})},onWillRemoveListener(){le&&Ue>0&&ke?.()},onDidRemoveLastListener(){ke=void 0,ce.dispose()}};ae||t(Je);let ft=new Gu(Je);return ae?.add(ft),ft.event}ne.debounce=p,o(p,"debounce");function A(H,O=0,j){return ne.debounce(H,(J,le)=>J?(J.push(le),J):[le],O,void 0,!0,void 0,j)}ne.accumulate=A,o(A,"accumulate");function E(H,O=(J,le)=>J===le,j){let J=!0,le;return l(H,ee=>{let ae=J||!O(ee,le);return J=!1,le=ee,ae},j)}ne.latch=E,o(E,"latch");function x(H,O,j){return[ne.filter(H,O,j),ne.filter(H,J=>!O(J),j)]}ne.split=x,o(x,"split");function b(H,O=!1,j=[],J){let le=j.slice(),ee=H(Re=>{le?le.push(Re):ce.fire(Re)});J&&J.add(ee);let ae=o(()=>{le?.forEach(Re=>ce.fire(Re)),le=null},"flush"),ce=new Gu({onWillAddFirstListener(){ee||(ee=H(Re=>ce.fire(Re)),J&&J.add(ee))},onDidAddFirstListener(){le&&(O?setTimeout(ae):ae())},onDidRemoveLastListener(){ee&&ee.dispose(),ee=null}});return J&&J.add(ce),ce.event}ne.buffer=b,o(b,"buffer");function v(H,O){return o((J,le,ee)=>{let ae=O(new B);return H(function(ce){let Re=ae.evaluate(ce);Re!==S&&J.call(le,Re)},void 0,ee)},"fn")}ne.chain=v,o(v,"chain");let S=Symbol("HaltChainable");class B{constructor(){this.steps=[]}static{o(this,"ChainableSynthesis")}map(O){return this.steps.push(O),this}forEach(O){return this.steps.push(j=>(O(j),j)),this}filter(O){return this.steps.push(j=>O(j)?j:S),this}reduce(O,j){let J=j;return this.steps.push(le=>(J=O(J,le),J)),this}latch(O=(j,J)=>j===J){let j=!0,J;return this.steps.push(le=>{let ee=j||!O(le,J);return j=!1,J=le,ee?le:S}),this}evaluate(O){for(let j of this.steps)if(O=j(O),O===S)break;return O}}function P(H,O,j=J=>J){let J=o((...ce)=>ae.fire(j(...ce)),"fn"),le=o(()=>H.on(O,J),"onFirstListenerAdd"),ee=o(()=>H.removeListener(O,J),"onLastListenerRemove"),ae=new Gu({onWillAddFirstListener:le,onDidRemoveLastListener:ee});return ae.event}ne.fromNodeEventEmitter=P,o(P,"fromNodeEventEmitter");function F(H,O,j=J=>J){let J=o((...ce)=>ae.fire(j(...ce)),"fn"),le=o(()=>H.addEventListener(O,J),"onFirstListenerAdd"),ee=o(()=>H.removeEventListener(O,J),"onLastListenerRemove"),ae=new Gu({onWillAddFirstListener:le,onDidRemoveLastListener:ee});return ae.event}ne.fromDOMEventEmitter=F,o(F,"fromDOMEventEmitter");function G(H,O){return new Promise(j=>n(H)(j,null,O))}ne.toPromise=G,o(G,"toPromise");function re(H){let O=new Gu;return H.then(j=>{O.fire(j)},()=>{O.fire(void 0)}).finally(()=>{O.dispose()}),O.event}ne.fromPromise=re,o(re,"fromPromise");function pe(H,O){return H(j=>O.fire(j))}ne.forward=pe,o(pe,"forward");function Z(H,O,j){return O(j),H(J=>O(J))}ne.runAndSubscribe=Z,o(Z,"runAndSubscribe");class W{constructor(O,j){this._observable=O;this._counter=0;this._hasChanged=!1;let J={onWillAddFirstListener:o(()=>{O.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:o(()=>{O.removeObserver(this)},"onDidRemoveLastListener")};j||t(J),this.emitter=new Gu(J),j&&j.add(this.emitter)}static{o(this,"EmitterObserver")}beginUpdate(O){this._counter++}handlePossibleChange(O){}handleChange(O,j){this._hasChanged=!0}endUpdate(O){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function q(H,O){return new W(H,O).emitter.event}ne.fromObservable=q,o(q,"fromObservable");function se(H){return(O,j,J)=>{let le=0,ee=!1,ae={beginUpdate(){le++},endUpdate(){le--,le===0&&(H.reportChanges(),ee&&(ee=!1,O.call(j)))},handlePossibleChange(){},handleChange(){ee=!0}};H.addObserver(ae),H.reportChanges();let ce={dispose(){H.removeObserver(ae)}};return J instanceof V0?J.add(ce):Array.isArray(J)&&J.push(ce),ce}}ne.fromObservableLight=se,o(se,"fromObservableLight")})(w4||={});var mte=class e{constructor(t){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${t}_${e._idPool++}`,e.all.add(this)}static{o(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(t){this._stopWatch=new rM,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}},HIe=-1;var hte=class e{constructor(t,r,n=(e._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t;this.threshold=r;this.name=n;this._warnCountdown=0}static{o(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(t,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[s,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(s);let c=new pte(l,s);this._errorHandler(c)}return()=>{let s=this._stacks.get(t.value)||0;this._stacks.set(t.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[n,i]of this._stacks)(!t||r<i)&&(t=[n,i],r=i);return t}},ww=class e{constructor(t){this.value=t}static{o(this,"Stacktrace")}static create(){let t=new Error;return new e(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},pte=class extends Error{static{o(this,"ListenerLeakError")}constructor(t,r){super(t),this.name="ListenerLeakError",this.stack=r}},gte=class extends Error{static{o(this,"ListenerRefusalError")}constructor(t,r){super(t),this.name="ListenerRefusalError",this.stack=r}},Wut=0,vI=class{constructor(t){this.value=t;this.id=Wut++}static{o(this,"UniqueContainer")}},Gut=2,Hut=o((e,t)=>{if(e instanceof vI)t(e);else for(let r=0;r<e.length;r++){let n=e[r];n&&t(n)}},"forEachListener"),Gu=class{constructor(t){this._size=0;this._options=t,this._leakageMon=HIe>0||this._options?.leakWarningThreshold?new hte(t?.onListenerError??yI,this._options?.leakWarningThreshold??HIe):void 0,this._perfMon=this._options?._profName?new mte(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{o(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(GIe){let t=this._listeners;queueMicrotask(()=>{Hut(t,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(t,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],f=new gte(`${c}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||yI)(f),ua.None}if(this._disposed)return ua.None;r&&(t=t.bind(r));let i=new vI(t),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=ww.create(),s=this._leakageMon.check(i.stack,this._size+1)),GIe&&(i.stack=a??ww.create()),this._listeners?this._listeners instanceof vI?(this._deliveryQueue??=new Ate,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=fa(()=>{s?.(),this._removeListener(i)});return n instanceof V0?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(t){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(t);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*Gut<=r.length){let s=0;for(let a=0;a<r.length;a++)r[a]?r[s++]=r[a]:i&&s<this._deliveryQueue.end&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=s}}_deliver(t,r){if(!t)return;let n=this._options?.onListenerError||yI;if(!n){t.value(r);return}try{t.value(r)}catch(i){n(i)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof vI)this._deliver(this._listeners,t);else{let r=this._deliveryQueue;r.enqueue(this,t,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var Ate=class{constructor(){this.i=-1;this.end=0}static{o(this,"EventDeliveryQueuePrivate")}enqueue(t,r,n){this.i=0,this.end=n,this.current=t,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};d();var j0=class{constructor(t,r,n){this.owner=t;this.debugNameSource=r;this.referenceFn=n}static{o(this,"DebugNameData")}getDebugName(t){return zIe(t,this)}},VIe=new Map,yte=new WeakMap;function zIe(e,t){let r=yte.get(e);if(r)return r;let n=Vut(e,t);if(n){let i=VIe.get(n)??0;i++,VIe.set(n,i);let s=i===1?n:`${n}#${i}`;return yte.set(e,s),s}}o(zIe,"getDebugName");function Vut(e,t){let r=yte.get(e);if(r)return r;let n=t.owner?$ut(t.owner)+".":"",i,s=t.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(i=s(),i!==void 0)return n+i}else return n+s;let a=t.referenceFn;if(a!==void 0&&(i=nM(a),i!==void 0))return n+i;if(t.owner!==void 0){let l=jut(t.owner,e);if(l!==void 0)return n+l}}o(Vut,"computeDebugName");function jut(e,t){for(let r in e)if(e[r]===t)return r}o(jut,"findKey");var jIe=new Map,$Ie=new WeakMap;function $ut(e){let t=$Ie.get(e);if(t)return t;let r=zut(e),n=jIe.get(r)??0;n++,jIe.set(r,n);let i=n===1?r:`${r}#${n}`;return $Ie.set(e,i),i}o($ut,"formatOwner");function zut(e){let t=e.constructor;return t?t.name:"Object"}o(zut,"getClassName");function nM(e){let t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t);return(n?n[1]:void 0)?.trim()}o(nM,"getFunctionName");d();var S4;function oM(e){S4?S4 instanceof iM?S4.loggers.push(e):S4=new iM([S4,e]):S4=e}o(oM,"addLogger");function bs(){return S4}o(bs,"getLogger");var Cte;function YIe(e){Cte=e}o(YIe,"setLogObservableFn");function KIe(e){Cte&&Cte(e)}o(KIe,"logObservable");var iM=class{constructor(t){this.loggers=t}static{o(this,"ComposedLogger")}handleObservableCreated(t){for(let r of this.loggers)r.handleObservableCreated(t)}handleOnListenerCountChanged(t,r){for(let n of this.loggers)n.handleOnListenerCountChanged(t,r)}handleObservableUpdated(t,r){for(let n of this.loggers)n.handleObservableUpdated(t,r)}handleAutorunCreated(t){for(let r of this.loggers)r.handleAutorunCreated(t)}handleAutorunDisposed(t){for(let r of this.loggers)r.handleAutorunDisposed(t)}handleAutorunDependencyChanged(t,r,n){for(let i of this.loggers)i.handleAutorunDependencyChanged(t,r,n)}handleAutorunStarted(t){for(let r of this.loggers)r.handleAutorunStarted(t)}handleAutorunFinished(t){for(let r of this.loggers)r.handleAutorunFinished(t)}handleDerivedDependencyChanged(t,r,n){for(let i of this.loggers)i.handleDerivedDependencyChanged(t,r,n)}handleDerivedCleared(t){for(let r of this.loggers)r.handleDerivedCleared(t)}handleBeginTransaction(t){for(let r of this.loggers)r.handleBeginTransaction(t)}handleEndTransaction(t){for(let r of this.loggers)r.handleEndTransaction(t)}};var JIe;function XIe(e){JIe=e}o(XIe,"_setRecomputeInitiallyAndOnChange");var ZIe;function e8e(e){ZIe=e}o(e8e,"_setKeepObserved");var Ete;function t8e(e){Ete=e}o(t8e,"_setDerivedOpts");var sM=class{static{o(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(t){return t?t.readObservable(this):this.get()}map(t,r){let n=r===void 0?void 0:t,i=r===void 0?t:r;return Ete({owner:n,debugName:o(()=>{let s=nM(i);if(s!==void 0)return s;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:i},s=>i(this.read(s),s))}flatten(){return Ete({owner:void 0,debugName:o(()=>`${this.debugName} (flattened)`,"debugName")},t=>this.read(t).read(t))}recomputeInitiallyAndOnChange(t,r){return t.add(JIe(this,r)),this}keepObserved(t){return t.add(ZIe(this)),this}get debugValue(){return this.get()}},z5=class extends sM{constructor(){super();this.observers=new Set;bs()?.handleObservableCreated(this)}static{o(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&bs()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&bs()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!bs();return KIe(this),r||bs()?.handleObservableCreated(this),this}};function lM(e,t){let r=new II(e,t);try{e(r)}finally{r.finish()}}o(lM,"transaction");function xte(e,t,r){e?t(e):lM(t,r)}o(xte,"subtransaction");var II=class{constructor(t,r){this._fn=t;this._getDebugName=r;this.updatingObservers=[];bs()?.handleBeginTransaction(this)}static{o(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():nM(this._fn)}updateObserver(t,r){this.updatingObservers.push({observer:t,observable:r}),t.beginUpdate(r)}finish(){let t=this.updatingObservers;for(let r=0;r<t.length;r++){let{observer:n,observable:i}=t[r];n.endUpdate(i)}this.updatingObservers=null,bs()?.handleEndTransaction(this)}};function Gm(e,t){let r;return typeof e=="string"?r=new j0(void 0,e,void 0):r=new j0(e,void 0,void 0),new aM(r,t,k1)}o(Gm,"observableValue");var aM=class extends z5{constructor(r,n,i){super();this._debugNameData=r;this._equalityComparator=i;this._value=n,bs()?.handleObservableUpdated(this,{hadValue:!1,newValue:n,change:void 0,didChange:!0,oldValue:void 0})}static{o(this,"ObservableValue")}get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}get(){return this._value}set(r,n,i){if(i===void 0&&this._equalityComparator(this._value,r))return;let s;n||(n=s=new II(()=>{},()=>`Setting ${this.debugName}`));try{let a=this._value;this._setValue(r),bs()?.handleObservableUpdated(this,{oldValue:a,newValue:r,change:i,didChange:!0,hadValue:!0});for(let l of this.observers)n.updateObserver(l,this),l.handleChange(this,i)}finally{s&&s.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(r){this._value=r}};d();d();function _4(e){return new TI(new j0(void 0,void 0,e),e,void 0,void 0)}o(_4,"autorun");function bte(e,t){return new TI(new j0(e.owner,e.debugName,e.debugReferenceFn??t),t,void 0,void 0)}o(bte,"autorunOpts");function cM(e,t){return new TI(new j0(e.owner,e.debugName,e.debugReferenceFn??t),t,e.createEmptyChangeSummary,e.handleChange)}o(cM,"autorunHandleChanges");function vte(e,t){let r=new V0,n=cM({owner:e.owner,debugName:e.debugName,debugReferenceFn:e.debugReferenceFn??t,createEmptyChangeSummary:e.createEmptyChangeSummary,handleChange:e.handleChange},(i,s)=>{r.clear(),t(i,s,r)});return fa(()=>{n.dispose(),r.dispose()})}o(vte,"autorunWithStoreHandleChanges");function Ite(e){let t=new V0,r=bte({owner:void 0,debugName:void 0,debugReferenceFn:e},n=>{t.clear(),e(n,t)});return fa(()=>{r.dispose(),t.dispose()})}o(Ite,"autorunWithStore");var TI=class{constructor(t,r,n,i){this._debugNameData=t;this._runFn=r;this.createChangeSummary=n;this._handleChange=i;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),bs()?.handleAutorunCreated(this),this._runIfNeeded(),xI(this)}static{o(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),bs()?.handleAutorunDisposed(this),bI(this)}_runIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3;try{if(!this.disposed){bs()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){T4(n)}finally{this._isRunning=!1}}}finally{this.disposed||bs()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(t){this.state===3&&(this.state=1),this.updateCount++}endUpdate(t){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}V5(()=>this.updateCount>=0)}handlePossibleChange(t){this.state===3&&this._isDependency(t)&&(this.state=1)}handleChange(t,r){if(this._isDependency(t)){bs()?.handleAutorunDependencyChanged(this,t,r);try{(this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:o(i=>i===t,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){T4(n)}}}_isDependency(t){return this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)}readObservable(t){if(!this._isRunning)throw new Ai("The reader object cannot be used outside its compute function!");if(this.disposed)return t.get();t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}};(t=>t.Observer=TI)(_4||={});d();function uM(e,t){return new k4(new j0(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??k1)}o(uM,"derivedOpts");t8e(uM);var k4=class extends z5{constructor(r,n,i,s,a=void 0,l){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=i;this._handleChange=s;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{o(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,bs()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,i=this.value;this.state=3;let s=!1;this._isComputing=!0;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,a)}finally{this._isReaderValid=!1;for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}s=n&&!this._equalityComparator(i,this.value),bs()?.handleObservableUpdated(this,{oldValue:i,newValue:this.value,change:void 0,didChange:s,hadValue:n})}catch(a){T4(a)}if(this._isComputing=!1,s)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new Ai("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let i of this.observers)i.handlePossibleChange(this);if(n)for(let i of this.observers)i.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let i of n)i.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let i=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let s of i)s.endUpdate(this)}}V5(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){bs()?.handleDerivedDependencyChanged(this,r,n);let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:o(a=>a===r,"didChange")},this.changeSummary):!0}catch(a){T4(a)}let s=this.state===3;if(i&&(this.state===1||s)&&(this.state=2,s))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new Ai("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};d();d();function Tte(...e){let t,r,n;return e.length===3?[t,r,n]=e:[r,n]=e,new Y5(new j0(t,void 0,n),r,n,()=>Y5.globalTransaction,k1)}o(Tte,"observableFromEvent");var Y5=class extends z5{constructor(r,n,i,s,a){super();this._debugNameData=r;this.event=n;this._getValue=i;this._getTransaction=s;this._equalityComparator=a;this.hasValue=!1;this.handleEvent=o(r=>{let n=this._getValue(r),i=this.value,s=!this.hasValue||!this._equalityComparator(i,n),a=!1;s&&(this.value=n,this.hasValue&&(a=!0,xte(this._getTransaction(),l=>{bs()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue});for(let c of this.observers)l.updateObserver(c,this),c.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||bs()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue})},"handleEvent")}static{o(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=Y5;function t(n,i){let s=!1;Y5.globalTransaction===void 0&&(Y5.globalTransaction=n,s=!0);try{i()}finally{s&&(Y5.globalTransaction=void 0)}}r.batchEventsGlobally=t,o(t,"batchEventsGlobally")})(Tte||={});function n8e(e){let t=new fM(!1,void 0);return e.addObserver(t),fa(()=>{e.removeObserver(t)})}o(n8e,"keepObserved");e8e(n8e);function i8e(e,t){let r=new fM(!0,t);return e.addObserver(r),t?t(e.get()):e.reportChanges(),fa(()=>{e.removeObserver(r)})}o(i8e,"recomputeInitiallyAndOnChange");XIe(i8e);var fM=class{constructor(t,r){this._forceRecompute=t;this._handleValue=r;this._counter=0}static{o(this,"KeepAliveObserver")}beginUpdate(t){this._counter++}endUpdate(t){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(t.get()):t.reportChanges())}handlePossibleChange(t){}handleChange(t,r){}};function B1(e,t,r,n){let i=new dM(r,n);return uM({debugReferenceFn:r,owner:e,onLastObserverRemoved:o(()=>{i.dispose(),i=new dM(r)},"onLastObserverRemoved")},a=>(i.setItems(t.read(a)),i.getItems()))}o(B1,"mapObservableArrayCached");var dM=class{constructor(t,r){this._map=t;this._keySelector=r;this._cache=new Map;this._items=[]}static{o(this,"ArrayMap")}dispose(){this._cache.forEach(t=>t.store.dispose()),this._cache.clear()}setItems(t){let r=[],n=new Set(this._cache.keys());for(let i of t){let s=this._keySelector?this._keySelector(i):i,a=this._cache.get(s);if(a)n.delete(s);else{let l=new V0;a={out:this._map(i,l),store:l},this._cache.set(s,a)}r.push(a.out)}for(let i of n)this._cache.get(i).store.dispose(),this._cache.delete(i);this._items=r}getItems(){return this._items}};function wte(e,t){let r;return vte({createEmptyChangeSummary:o(()=>({deltas:[],didChange:!1}),"createEmptyChangeSummary"),handleChange:o((n,i)=>{if(n.didChange(e)){let s=n.change;s!==void 0&&i.deltas.push(s),i.didChange=!0}return!0},"handleChange")},(n,i)=>{let s=e.read(n),a=r;i.didChange&&(r=s,t(s,a,i.deltas))})}o(wte,"runOnChange");d();d();d();var o8e=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),mM;(n=>{function e(i){return i===n.None||i===n.Cancelled||i instanceof wI?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=e,o(e,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:w4.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o8e})})(mM||={});var wI=class{constructor(){this._isCancelled=!1;this._emitter=null}static{o(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?o8e:(this._emitter||(this._emitter=new Gu),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},R1=class{constructor(t){this._token=void 0;this._parentListener=void 0;this._parentListener=t&&t.onCancellationRequested(this.cancel,this)}static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new wI),this._token}cancel(){this._token?this._token instanceof wI&&this._token.cancel():this._token=mM.Cancelled}dispose(t=!1){t&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof wI&&this._token.dispose():this._token=mM.None}};d();var hM;function s8e(e){hM||(hM=new _w,oM(hM)),hM.addFilteredObj(e)}o(s8e,"logObservableToConsole");var _w=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{o(this,"ConsoleObservableLogger")}addFilteredObj(t){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(t)}_isIncluded(t){return this._filteredObjects?.has(t)??!0}textToConsoleArgs(t){return Yut([SI(Xut("|  ",this.indentation)),t])}formatInfo(t){return t.hadValue?t.didChange?[SI(" "),dd(Sw(t.oldValue,70),{color:"red",strikeThrough:!0}),SI(" "),dd(Sw(t.newValue,60),{color:"green"})]:[SI(" (unchanged)")]:[SI(" "),dd(Sw(t.newValue,60),{color:"green"}),SI(" (initial)")]}handleObservableCreated(t){if(t instanceof k4){let r=t;if(this.changedObservablesSets.set(r,new Set),!1){let i=[];r.__debugUpdating=i;let s=r.beginUpdate;r.beginUpdate=l=>(i.push(l),s.apply(r,[l]));let a=r.endUpdate;r.endUpdate=l=>{let c=i.indexOf(l);return c===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),i.splice(c,1),a.apply(r,[l])}}}}handleOnListenerCountChanged(t,r){}handleObservableUpdated(t,r){if(this._isIncluded(t)){if(t instanceof k4){this._handleDerivedRecomputed(t,r);return}console.log(...this.textToConsoleArgs([_I("observable value changed"),dd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(t){if(t.size!==0)return dd(" (changed deps: "+[...t].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t)?.add(r)}_handleDerivedRecomputed(t,r){if(!this._isIncluded(t))return;let n=this.changedObservablesSets.get(t);n&&(console.log(...this.textToConsoleArgs([_I("derived recomputed"),dd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:t._debugNameData.referenceFn??t._computeFn}]}])),n.clear())}handleDerivedCleared(t){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([_I("derived cleared"),dd(t.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(t,r){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([_I("observable from event triggered"),dd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:t._getValue}]}]))}handleAutorunCreated(t){this._isIncluded(t)&&this.changedObservablesSets.set(t,new Set)}handleAutorunDisposed(t){}handleAutorunDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t).add(r)}handleAutorunStarted(t){let r=this.changedObservablesSets.get(t);r&&(this._isIncluded(t)&&console.log(...this.textToConsoleArgs([_I("autorun"),dd(t.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:t._debugNameData.referenceFn??t._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(t){this.indentation--}handleBeginTransaction(t){let r=t.getDebugName();r===void 0&&(r=""),this._isIncluded(t)&&console.log(...this.textToConsoleArgs([_I("transaction"),dd(r,{color:"BlueViolet"}),{data:[{fn:t._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function Yut(e){let t=new Array,r=[],n="";function i(a){if("length"in a)for(let l of a)l&&i(l);else"text"in a?(n+=`%c${a.text}`,t.push(a.style),a.data&&r.push(...a.data)):"data"in a&&r.push(...a.data)}o(i,"process"),i(e);let s=[n,...t];return s.push(...r),s}o(Yut,"consoleTextToArgs");function SI(e){return dd(e,{color:"black"})}o(SI,"normalText");function _I(e){return dd(Zut(`${e}: `,10),{color:"black",bold:!0})}o(_I,"formatKind");function dd(e,t={color:"black"}){function r(i){return Object.entries(i).reduce((s,[a,l])=>`${s}${a}:${l};`,"")}o(r,"objToCss");let n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:r(n)}}o(dd,"styled");function Sw(e,t){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return e===null?"null":Array.isArray(e)?Kut(e,t):Jut(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}o(Sw,"formatValue");function Kut(e,t){let r="[ ",n=!0;for(let i of e){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${Sw(i,t-r.length)}`}return r+=" ]",r}o(Kut,"formatArray");function Jut(e,t){if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString){let i=e.toString();return i.length<=t?i:i.substring(0,t-3)+"..."}let r="{ ",n=!0;for(let[i,s]of Object.entries(e)){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${i}: ${Sw(s,t-r.length)}`}return r+=" }",r}o(Jut,"formatObject");function Xut(e,t){let r="";for(let n=1;n<=t;n++)r+=e;return r}o(Xut,"repeat");function Zut(e,t){for(;e.length<t;)e+=" ";return e}o(Zut,"padStr");YIe(s8e);var eft=!1;eft&&oM(new _w);d();var B4;(r=>{r.PlainText="plaintext";function t(n){return n}r.create=t,o(t,"create")})(B4||={});d();d();d();function a8e(e){return e}o(a8e,"identity");var pM=class{constructor(t,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof t=="function"?(this._fn=t,this._computeKey=a8e):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"LRUCachedFunction")}get(t){let r=this._computeKey(t);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(t)),this.lastCache}},D1=class{constructor(t,r){this._map=new Map;this._map2=new Map;typeof t=="function"?(this._fn=t,this._computeKey=a8e):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"CachedFunction")}get cachedValues(){return this._map}get(t){let r=this._computeKey(t);if(this._map2.has(r))return this._map2.get(r);let n=this._fn(t);return this._map.set(t,n),this._map2.set(r,n),n}};d();d();var vp=class{constructor(t){this.executor=t;this._didRun=!1}static{o(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};d();function R4(e){return e<0?0:e>4294967295?4294967295:e|0}o(R4,"toUint32");function _te(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}o(_te,"escapeRegExpCharacters");function K5(e){return e.split(/\r\n|\r|\n/)}o(K5,"splitLines");function f8e(e,t){let r=Math.min(e.length,t.length),n;for(n=0;n<r;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return r}o(f8e,"commonPrefixLength");function gM(e,t){let r=Math.min(e.length,t.length),n,i=e.length-1,s=t.length-1;for(n=0;n<r;n++)if(e.charCodeAt(i-n)!==t.charCodeAt(s-n))return n;return r}o(gM,"commonSuffixLength");var rft=/^[\t\n\r\x20-\x7E]*$/;function kte(e){return rft.test(e)}o(kte,"isBasicASCII");var Bkr=String.fromCharCode(65279);var l8e=class e{static{o(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}constructor(){this._data=nft()}getGraphemeBreakType(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(t<r[3*i])i=2*i;else if(t>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function nft(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}o(nft,"getGraphemeBreakRawData");var c8e=class e{constructor(t){this.confusableDictionary=t}static{o(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new vp(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new pM({getCacheKey:JSON.stringify},t=>{function r(f){let m=new Map;for(let h=0;h<f.length;h+=2)m.set(f[h],f[h+1]);return m}o(r,"arrayToMap");function n(f,m){let h=new Map(f);for(let[p,A]of m)h.set(p,A);return h}o(n,"mergeMaps");function i(f,m){if(!f)return m;let h=new Map;for(let[p,A]of f)m.has(p)&&h.set(p,A);return h}o(i,"intersectMaps");let s=this.ambiguousCharacterData.value,a=t.filter(f=>!f.startsWith("_")&&f in s);a.length===0&&(a=["_default"]);let l;for(let f of a){let m=r(s[f]);l=i(l,m)}let c=r(s._common),u=n(c,l);return new e(u)})}static getInstance(t){return e.cache.get(Array.from(t))}static{this._locales=new vp(()=>Object.keys(e.ambiguousCharacterData.value).filter(t=>!t.startsWith("_")))}static getLocales(){return e._locales.value}isAmbiguous(t){return this.confusableDictionary.has(t)}containsAmbiguousCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},u8e=class e{static{o(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(e.getRawData())),this._data}static isInvisibleCharacter(t){return e.getData().has(t)}static containsInvisibleCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&e.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return e.getData()}};d();var Ur=class e{constructor(t,r){this.start=t;this.endExclusive=r;if(t>r)throw new Ai(`Invalid range: ${this.toString()}`)}static{o(this,"OffsetRange")}static fromTo(t,r){return new e(t,r)}static addRange(t,r){let n=0;for(;n<r.length&&r[n].endExclusive<t.start;)n++;let i=n;for(;i<r.length&&r[i].start<=t.endExclusive;)i++;if(n===i)r.splice(n,0,t);else{let s=Math.min(t.start,r[n].start),a=Math.max(t.endExclusive,r[i-1].endExclusive);r.splice(n,i-n,new e(s,a))}}static tryCreate(t,r){if(!(t>r))return new e(t,r)}static ofLength(t){return new e(0,t)}static ofStartAndLength(t,r){return new e(t,t+r)}static emptyAt(t){return new e(t,t)}get isEmpty(){return this.start===this.endExclusive}delta(t){return new e(this.start+t,this.endExclusive+t)}deltaStart(t){return new e(this.start+t,this.endExclusive)}deltaEnd(t){return new e(this.start,this.endExclusive+t)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(t){return this.start===t.start&&this.endExclusive===t.endExclusive}containsRange(t){return this.start<=t.start&&t.endExclusive<=this.endExclusive}contains(t){return this.start<=t&&t<this.endExclusive}join(t){return new e(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);if(r<=n)return new e(r,n)}intersectionLength(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return Math.max(0,n-r)}intersects(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<n}intersectsOrTouches(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<=n}isBefore(t){return this.endExclusive<=t.start}isAfter(t){return this.start>=t.endExclusive}slice(t){return t.slice(this.start,this.endExclusive)}substring(t){return t.substring(this.start,this.endExclusive)}clip(t){if(this.isEmpty)throw new Ai(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,t))}clipCyclic(t){if(this.isEmpty)throw new Ai(`Invalid clipping range: ${this.toString()}`);return t<this.start?this.endExclusive-(this.start-t)%this.length:t>=this.endExclusive?this.start+(t-this.start)%this.length:t}map(t){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.start;r<this.endExclusive;r++)t(r)}};d();var ao=class e{static{o(this,"Position")}constructor(t,r){this.lineNumber=t,this.column=r}with(t=this.lineNumber,r=this.column){return t===this.lineNumber&&r===this.column?this:new e(t,r)}delta(t=0,r=0){return this.with(this.lineNumber+t,this.column+r)}equals(t){return e.equals(this,t)}static equals(t,r){return!t&&!r?!0:!!t&&!!r&&t.lineNumber===r.lineNumber&&t.column===r.column}isBefore(t){return e.isBefore(this,t)}static isBefore(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<r.column}isBeforeOrEqual(t){return e.isBeforeOrEqual(this,t)}static isBeforeOrEqual(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<=r.column}static compare(t,r){let n=t.lineNumber|0,i=r.lineNumber|0;if(n===i){let s=t.column|0,a=r.column|0;return s-a}return n-i}clone(){return new e(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new e(t.lineNumber,t.column)}static isIPosition(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};d();var ui=class e{static{o(this,"Range")}constructor(t,r,n,i){t>n||t===n&&r>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=t,this.endColumn=r):(this.startLineNumber=t,this.startColumn=r,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return e.isEmpty(this)}static isEmpty(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn}containsPosition(t){return e.containsPosition(this,t)}static containsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<t.startColumn||r.lineNumber===t.endLineNumber&&r.column>t.endColumn)}static strictContainsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<=t.startColumn||r.lineNumber===t.endLineNumber&&r.column>=t.endColumn)}containsRange(t){return e.containsRange(this,t)}static containsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>t.endColumn)}strictContainsRange(t){return e.strictContainsRange(this,t)}static strictContainsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<=t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>=t.endColumn)}plusRange(t){return e.plusRange(this,t)}static plusRange(t,r){let n,i,s,a;return r.startLineNumber<t.startLineNumber?(n=r.startLineNumber,i=r.startColumn):r.startLineNumber===t.startLineNumber?(n=r.startLineNumber,i=Math.min(r.startColumn,t.startColumn)):(n=t.startLineNumber,i=t.startColumn),r.endLineNumber>t.endLineNumber?(s=r.endLineNumber,a=r.endColumn):r.endLineNumber===t.endLineNumber?(s=r.endLineNumber,a=Math.max(r.endColumn,t.endColumn)):(s=t.endLineNumber,a=t.endColumn),new e(n,i,s,a)}intersectRanges(t){return e.intersectRanges(this,t)}static intersectRanges(t,r){let n=t.startLineNumber,i=t.startColumn,s=t.endLineNumber,a=t.endColumn,l=r.startLineNumber,c=r.startColumn,u=r.endLineNumber,f=r.endColumn;return n<l?(n=l,i=c):n===l&&(i=Math.max(i,c)),s>u?(s=u,a=f):s===u&&(a=Math.min(a,f)),n>s||n===s&&i>a?null:new e(n,i,s,a)}equalsRange(t){return e.equalsRange(this,t)}static equalsRange(t,r){return!t&&!r?!0:!!t&&!!r&&t.startLineNumber===r.startLineNumber&&t.startColumn===r.startColumn&&t.endLineNumber===r.endLineNumber&&t.endColumn===r.endColumn}getEndPosition(){return e.getEndPosition(this)}static getEndPosition(t){return new ao(t.endLineNumber,t.endColumn)}getStartPosition(){return e.getStartPosition(this)}static getStartPosition(t){return new ao(t.startLineNumber,t.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,r){return new e(this.startLineNumber,this.startColumn,t,r)}setStartPosition(t,r){return new e(t,r,this.endLineNumber,this.endColumn)}collapseToStart(){return e.collapseToStart(this)}static collapseToStart(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}collapseToEnd(){return e.collapseToEnd(this)}static collapseToEnd(t){return new e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}delta(t){return new e(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(t,r=t){return new e(t.lineNumber,t.column,r.lineNumber,r.column)}static lift(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"}static areIntersectingOrTouching(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<t.startColumn)}static areIntersecting(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<=r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<=t.startColumn)}static compareRangesUsingStarts(t,r){if(t&&r){let s=t.startLineNumber|0,a=r.startLineNumber|0;if(s===a){let l=t.startColumn|0,c=r.startColumn|0;if(l===c){let u=t.endLineNumber|0,f=r.endLineNumber|0;if(u===f){let m=t.endColumn|0,h=r.endColumn|0;return m-h}return u-f}return l-c}return s-a}return(t?1:0)-(r?1:0)}static compareRangesUsingEnds(t,r){return t.endLineNumber===r.endLineNumber?t.endColumn===r.endColumn?t.startLineNumber===r.startLineNumber?t.startColumn-r.startColumn:t.startLineNumber-r.startLineNumber:t.endColumn-r.endColumn:t.endLineNumber-r.endLineNumber}static spansMultipleLines(t){return t.endLineNumber>t.startLineNumber}toJSON(){return this}};d();d();var Vn=class e{static{o(this,"LineRange")}static fromRange(t){return new e(t.startLineNumber,t.endLineNumber)}static fromRangeInclusive(t){return new e(t.startLineNumber,t.endLineNumber+1)}static subtract(t,r){return r?t.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(t.startLineNumber,r.startLineNumber),new e(r.endLineNumberExclusive,t.endLineNumberExclusive)]:r.startLineNumber<=t.startLineNumber&&t.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(Math.max(r.endLineNumberExclusive,t.startLineNumber),t.endLineNumberExclusive)]:[new e(t.startLineNumber,Math.min(r.startLineNumber,t.endLineNumberExclusive))]:[t]}static joinMany(t){if(t.length===0)return[];let r=new AM(t[0].slice());for(let n=1;n<t.length;n++)r=r.getUnion(new AM(t[n].slice()));return r.ranges}static join(t){if(t.length===0)throw new Ai("lineRanges cannot be empty");let r=t[0].startLineNumber,n=t[0].endLineNumberExclusive;for(let i=1;i<t.length;i++)r=Math.min(r,t[i].startLineNumber),n=Math.max(n,t[i].endLineNumberExclusive);return new e(r,n)}static ofLength(t,r){return new e(t,t+r)}static deserialize(t){return new e(t[0],t[1])}constructor(t,r){if(t>r)throw new Ai(`startLineNumber ${t} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=t,this.endLineNumberExclusive=r}contains(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new e(this.startLineNumber+t,this.endLineNumberExclusive+t)}deltaLength(t){return new e(this.startLineNumber,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new e(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(t){let r=Math.max(this.startLineNumber,t.startLineNumber),n=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(r<=n)return new e(r,n)}intersectsStrict(t){return this.startLineNumber<t.endLineNumberExclusive&&t.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(t){return this.startLineNumber<=t.endLineNumberExclusive&&t.startLineNumber<=this.endLineNumberExclusive}equals(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumberExclusive===t.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new ui(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new ui(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(t){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)t(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}toOffsetRange(){return new Ur(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(t){return this.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-this.endLineNumberExclusive:t.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-t.endLineNumberExclusive:0}distanceToLine(t){return this.contains(t)?0:t<this.startLineNumber?this.startLineNumber-t:t-this.endLineNumberExclusive}addMargin(t,r){return new e(this.startLineNumber-t,this.endLineNumberExclusive+r)}},AM=class e{constructor(t=[]){this._normalizedRanges=t}static{o(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(t){if(t.length===0)return;let r=CI(this._normalizedRanges,i=>i.endLineNumberExclusive>=t.startLineNumber),n=Wm(this._normalizedRanges,i=>i.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,t);else if(r===n-1){let i=this._normalizedRanges[r];this._normalizedRanges[r]=i.join(t)}else{let i=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(t);this._normalizedRanges.splice(r,n-r,i)}}contains(t){let r=ote(this._normalizedRanges,n=>n.startLineNumber<=t);return!!r&&r.endLineNumberExclusive>t}intersects(t){let r=ote(this._normalizedRanges,n=>n.startLineNumber<t.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>t.startLineNumber}getUnion(t){if(this._normalizedRanges.length===0)return t;if(t._normalizedRanges.length===0)return this;let r=[],n=0,i=0,s=null;for(;n<this._normalizedRanges.length||i<t._normalizedRanges.length;){let a=null;if(n<this._normalizedRanges.length&&i<t._normalizedRanges.length){let l=this._normalizedRanges[n],c=t._normalizedRanges[i];l.startLineNumber<c.startLineNumber?(a=l,n++):(a=c,i++)}else n<this._normalizedRanges.length?(a=this._normalizedRanges[n],n++):(a=t._normalizedRanges[i],i++);s===null?s=a:s.endLineNumberExclusive>=a.startLineNumber?s=new Vn(s.startLineNumber,Math.max(s.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(s),s=a)}return s!==null&&r.push(s),new e(r)}subtractFrom(t){let r=CI(this._normalizedRanges,a=>a.endLineNumberExclusive>=t.startLineNumber),n=Wm(this._normalizedRanges,a=>a.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)return new e([t]);let i=[],s=t.startLineNumber;for(let a=r;a<n;a++){let l=this._normalizedRanges[a];l.startLineNumber>s&&i.push(new Vn(s,l.startLineNumber)),s=l.endLineNumberExclusive}return s<t.endLineNumberExclusive&&i.push(new Vn(s,t.endLineNumberExclusive)),new e(i)}toString(){return this._normalizedRanges.map(t=>t.toString()).join(", ")}getIntersection(t){let r=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<t._normalizedRanges.length;){let s=this._normalizedRanges[n],a=t._normalizedRanges[i],l=s.intersect(a);l&&!l.isEmpty&&r.push(l),s.endLineNumberExclusive<a.endLineNumberExclusive?n++:i++}return new e(r)}getWithDelta(t){return new e(this._normalizedRanges.map(r=>r.delta(t)))}};var Hu=class e{constructor(t,r){this.lineCount=t;this.columnCount=r}static{o(this,"TextLength")}static{this.zero=new e(0,0)}static lengthDiffNonNegative(t,r){return r.isLessThan(t)?e.zero:t.lineCount===r.lineCount?new e(0,r.columnCount-t.columnCount):new e(r.lineCount-t.lineCount,r.columnCount)}static betweenPositions(t,r){return t.lineNumber===r.lineNumber?new e(0,r.column-t.column):new e(r.lineNumber-t.lineNumber,r.column-1)}static fromPosition(t){return new e(t.lineNumber-1,t.column-1)}static ofRange(t){return e.betweenPositions(t.getStartPosition(),t.getEndPosition())}static ofText(t){let r=0,n=0;for(let i of t)i===`
`?(r++,n=0):n++;return new e(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(t){return this.lineCount!==t.lineCount?this.lineCount<t.lineCount:this.columnCount<t.columnCount}isGreaterThan(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>t.columnCount}isGreaterThanOrEqualTo(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>=t.columnCount}equals(t){return this.lineCount===t.lineCount&&this.columnCount===t.columnCount}compare(t){return this.lineCount!==t.lineCount?this.lineCount-t.lineCount:this.columnCount-t.columnCount}add(t){return t.lineCount===0?new e(this.lineCount,this.columnCount+t.columnCount):new e(this.lineCount+t.lineCount,t.columnCount)}createRange(t){return this.lineCount===0?new ui(t.lineNumber,t.column,t.lineNumber,t.column+this.columnCount):new ui(t.lineNumber,t.column,t.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new ui(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return Vn.ofLength(1,this.lineCount)}addToPosition(t){return this.lineCount===0?new ao(t.lineNumber,t.column+this.columnCount):new ao(t.lineNumber+this.lineCount,this.columnCount+1)}addToRange(t){return ui.fromPositions(this.addToPosition(t.getStartPosition()),this.addToPosition(t.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};var gl=class e{constructor(t){this.value=t}static{o(this,"StringValue")}apply(t){return new e(t.apply(this.value))}equals(t){return this.value===t.value}getTransformer(){return this._transformer||(this._transformer=new Bte(this.value)),this._transformer}getValueOfRange(t){return this.getTransformer().getOffsetRange(t).substring(this.value)}getLines(){return K5(this.value)}getLineAt(t){return this.getLines()[t-1]}toString(){return this.value}getTextLength(){return this.getTransformer().textLength}},Bte=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Ur(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=Wm(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new ao(n,i)}getRange(t){return ui.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return Hu.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new Hu(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var Ip=class{static{o(this,"ObservableWorkspace")}getFirstOpenDocument(){return this.openDocuments.get()[0]}getDocument(t){return this.openDocuments.get().find(r=>r.id===t)}};var yM=class extends ua{constructor(r,n,i,s,a,l){super();this.id=r;this.workspaceRoot=l;this.value=Gm(this,n),this.selection=Gm(this,i),this.languageId=Gm(this,s),this._register(fa(a))}static{o(this,"MutableObservableDocument")}applyEdit(r,n=void 0){let i=this.value.get().apply(r);this.value.set(i,n,r)}updateSelection(r,n=void 0){this.selection.set(r,n)}};var S8e=nt(ri());d();d();d();d();var EM=!1,xM=!1,CM=!1,ift=!1,oft=!1,d8e=!1,sft=!1,aft=!1,lft=!1,cft=!1;var P1,F1=globalThis,md;typeof F1.vscode<"u"&&typeof F1.vscode.process<"u"?md=F1.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(md=process);var m8e=typeof md?.versions?.electron=="string",uft=m8e&&md?.type==="renderer";typeof md=="object"?(EM=md.platform==="win32",xM=md.platform==="darwin",CM=md.platform==="linux",ift=CM&&!!md.env.SNAP&&!!md.env.SNAP_REVISION,sft=m8e,lft=!!md.env.CI||!!md.env.BUILD_ARTIFACTSTAGINGDIRECTORY,oft=!0):typeof navigator=="object"&&!uft?(P1=navigator.userAgent,EM=P1.indexOf("Windows")>=0,xM=P1.indexOf("Macintosh")>=0,aft=(P1.indexOf("Macintosh")>=0||P1.indexOf("iPad")>=0||P1.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,CM=P1.indexOf("Linux")>=0,cft=P1?.indexOf("Mobi")>=0,d8e=!0):console.error("Unable to resolve platform.");var Rte=0;xM?Rte=1:EM?Rte=3:CM&&(Rte=2);var D4=EM,h8e=xM;var fft=d8e&&typeof F1.importScripts=="function",wBr=fft?F1.origin:void 0;var Tp=P1;var dft=typeof F1.postMessage=="function"&&!F1.importScripts,SBr=(()=>{if(dft){let e=[];F1.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),F1.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();var mft=!!(Tp&&Tp.indexOf("Chrome")>=0),_Br=!!(Tp&&Tp.indexOf("Firefox")>=0),kBr=!!(!mft&&Tp&&Tp.indexOf("Safari")>=0),BBr=!!(Tp&&Tp.indexOf("Edg/")>=0),RBr=!!(Tp&&Tp.indexOf("Android")>=0);var P4,Dte=globalThis.vscode;if(typeof Dte<"u"&&typeof Dte.process<"u"){let e=Dte.process;P4={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?P4={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:P4={get platform(){return D4?"win32":h8e?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var kw=P4.cwd,p8e=P4.env,g8e=P4.platform,QBr=P4.arch;var pft=65,gft=97,Aft=90,yft=122,Z5=46,Al=47,qc=92,J5=58,Cft=63,bM=class extends Error{static{o(this,"ErrorInvalidArgType")}constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function Eft(e,t){if(e===null||typeof e!="object")throw new bM(t,"Object",e)}o(Eft,"validateObject");function zs(e,t){if(typeof e!="string")throw new bM(t,"string",e)}o(zs,"validateString");var Wc=g8e==="win32";function jn(e){return e===Al||e===qc}o(jn,"isPathSeparator");function Pte(e){return e===Al}o(Pte,"isPosixPathSeparator");function X5(e){return e>=pft&&e<=Aft||e>=gft&&e<=yft}o(X5,"isWindowsDeviceRoot");function vM(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=Al}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==Z5||i.charCodeAt(i.length-2)!==Z5){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===Z5&&l!==-1?++l:l=-1}return i}o(vM,"normalizeString");function xft(e){return e?`${e[0]==="."?"":"."}${e}`:""}o(xft,"formatExt");function A8e(e,t){Eft(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${xft(t.ext)}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(A8e,"_format");var Ys={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],zs(s,`paths[${i}]`),s.length===0)continue}else t.length===0?s=kw():(s=p8e[`=${t}`]||kw(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===qc)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)jn(f)&&(l=1,u=!0);else if(jn(f))if(u=!0,jn(s.charCodeAt(1))){let m=2,h=m;for(;m<a&&!jn(s.charCodeAt(m));)m++;if(m<a&&m!==h){let p=s.slice(h,m);for(h=m;m<a&&jn(s.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!jn(s.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${s.slice(h,m)}`,l=m)}}}else l=1;else X5(f)&&s.charCodeAt(1)===J5&&(c=s.slice(0,2),l=2,a>2&&jn(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=vM(r,!n,"\\",jn),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){zs(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return Pte(s)?"\\":e;if(jn(s))if(i=!0,jn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!jn(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&jn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!jn(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else X5(s)&&e.charCodeAt(1)===J5&&(n=e.slice(0,2),r=2,t>2&&jn(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?vM(e.slice(r),!i,"\\",jn):"";return a.length===0&&!i&&(a="."),a.length>0&&jn(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){zs(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return jn(r)||t>2&&X5(r)&&e.charCodeAt(1)===J5&&jn(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];zs(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&jn(r.charCodeAt(0))){++i;let s=r.length;s>1&&jn(r.charCodeAt(1))&&(++i,s>2&&(jn(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&jn(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return Ys.normalize(t)},relative(e,t){if(zs(e,"from"),zs(t,"to"),e===t)return"";let r=Ys.resolve(e),n=Ys.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===qc;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===qc;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===qc;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===qc;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let A=e.charCodeAt(i+h);if(A!==t.charCodeAt(l+h))break;A===qc&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===qc)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===qc?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=s;++h)(h===s||e.charCodeAt(h)===qc)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===qc&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=Ys.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===qc){if(t.charCodeAt(1)===qc){let r=t.charCodeAt(2);if(r!==Cft&&r!==Z5)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(X5(t.charCodeAt(0))&&t.charCodeAt(1)===J5&&t.charCodeAt(2)===qc)return`\\\\?\\${t}`;return e},dirname(e){zs(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return jn(i)?e:".";if(jn(i)){if(r=n=1,jn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!jn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&jn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!jn(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else X5(i)&&e.charCodeAt(1)===J5&&(r=t>2&&jn(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if(jn(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&zs(t,"suffix"),zs(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&X5(e.charCodeAt(0))&&e.charCodeAt(1)===J5&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if(jn(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if(jn(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){zs(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===J5&&X5(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(jn(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===Z5?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:A8e.bind(null,"\\"),parse(e){zs(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return jn(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(jn(i)){if(n=1,jn(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!jn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&jn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!jn(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(X5(i)&&e.charCodeAt(1)===J5){if(r<=2)return t.root=t.dir=e,t;if(n=2,jn(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),jn(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===Z5?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},bft=(()=>{if(Wc){let e=/\\/g;return()=>{let t=kw().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>kw()})(),da={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:bft();zs(i,`paths[${n}]`),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===Al)}return t=vM(t,!r,"/",Pte),r?`/${t}`:t.length>0?t:"."},normalize(e){if(zs(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Al,r=e.charCodeAt(e.length-1)===Al;return e=vM(e,!t,"/",Pte),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return zs(e,"path"),e.length>0&&e.charCodeAt(0)===Al},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];zs(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":da.normalize(t)},relative(e,t){if(zs(e,"from"),zs(t,"to"),e===t||(e=da.resolve(e),t=da.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(s+u))break;m===Al&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===Al)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===Al?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===Al)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if(zs(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Al,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===Al){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&zs(t,"ext"),zs(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===Al){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===Al){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){zs(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===Al){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===Z5?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:A8e.bind(null,"/"),parse(e){zs(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===Al,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===Al){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===Z5?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};da.win32=Ys.win32=Ys;da.posix=Ys.posix=da;var OBr=Wc?Ys.normalize:da.normalize,UBr=Wc?Ys.isAbsolute:da.isAbsolute,qBr=Wc?Ys.join:da.join,WBr=Wc?Ys.resolve:da.resolve,GBr=Wc?Ys.relative:da.relative,HBr=Wc?Ys.dirname:da.dirname,y8e=Wc?Ys.basename:da.basename,C8e=Wc?Ys.extname:da.extname,VBr=Wc?Ys.format:da.format,jBr=Wc?Ys.parse:da.parse,$Br=Wc?Ys.toNamespacedPath:da.toNamespacedPath,zBr=Wc?Ys.sep:da.sep,YBr=Wc?Ys.delimiter:da.delimiter;d();d();var Ift=/^\w[\w\d+.-]*$/,Tft=/^\//,wft=/^\/\//;function Sft(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!Ift.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!Tft.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(wft.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(Sft,"_validateUri");function _ft(e,t){return!e&&!t?"file":e}o(_ft,"_schemeFix");function kft(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Hm&&(t=Hm+t):t=Hm;break}return t}o(kft,"_referenceResolution");var Bo="",Hm="/",Bft=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,ty=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||Bo,this.authority=t.authority||Bo,this.path=t.path||Bo,this.query=t.query||Bo,this.fragment=t.fragment||Bo):(this.scheme=_ft(t,a),this.authority=r||Bo,this.path=kft(this.scheme,n||Bo),this.query=i||Bo,this.fragment=s||Bo,Sft(this,a))}get fsPath(){return Fte(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=Bo),n===void 0?n=this.authority:n===null&&(n=Bo),i===void 0?i=this.path:i===null&&(i=Bo),s===void 0?s=this.query:s===null&&(s=Bo),a===void 0?a=this.fragment:a===null&&(a=Bo),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new ey(r,n,i,s,a)}static parse(t,r=!1){let n=Bft.exec(t);return n?new ey(n[2]||Bo,IM(n[4]||Bo),IM(n[5]||Bo),IM(n[7]||Bo),IM(n[9]||Bo),r):new ey(Bo,Bo,Bo,Bo,Bo)}static file(t){let r=Bo;if(D4&&(t=t.replace(/\\/g,Hm)),t[0]===Hm&&t[1]===Hm){let n=t.indexOf(Hm,2);n===-1?(r=t.substring(2),t=Hm):(r=t.substring(2,n),t=t.substring(n)||Hm)}return new ey("file",r,t,Bo,Bo)}static from(t,r){return new ey(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return D4&&t.scheme==="file"?n=e.file(Ys.join(Fte(t,!0),...r)).path:n=da.join(t.path,...r),t.with({path:n})}toString(t=!1){return Nte(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new ey(t);return r._formatted=t.external??null,r._fsPath=t._sep===b8e?t.fsPath??null:null,r}}else return t}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var b8e=D4?1:void 0,ey=class extends ty{constructor(){super(...arguments);this._formatted=null;this._fsPath=null}static{o(this,"Uri")}get fsPath(){return this._fsPath||(this._fsPath=Fte(this,!1)),this._fsPath}toString(r=!1){return r?Nte(this,!0):(this._formatted||(this._formatted=Nte(this,!1)),this._formatted)}toJSON(){let r={$mid:1};return this._fsPath&&(r.fsPath=this._fsPath,r._sep=b8e),this._formatted&&(r.external=this._formatted),this.path&&(r.path=this.path),this.scheme&&(r.scheme=this.scheme),this.authority&&(r.authority=this.authority),this.query&&(r.query=this.query),this.fragment&&(r.fragment=this.fragment),r}},v8e={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function E8e(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=v8e[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(E8e,"encodeURIComponentFast");function Rft(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=v8e[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(Rft,"encodeURIComponentMinimal");function Fte(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,D4&&(r=r.replace(/\//g,"\\")),r}o(Fte,"uriToFsPath");function Nte(e,t){let r=t?Rft:E8e,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=Hm,n+=Hm),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:E8e(c,!1,!1)),n}o(Nte,"_asFormatted");function I8e(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+I8e(e.substr(3)):e}}o(I8e,"decodeURIComponentGraceful");var x8e=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function IM(e){return e.match(x8e)?e.replace(x8e,t=>I8e(t)):e}o(IM,"percentDecode");var hd=class e{constructor(t){this.uri=t;this._uri=ty.parse(this.uri)}static{o(this,"DocumentId")}static{this._cache=new D1({getCacheKey:JSON.stringify},t=>new e(t.uri))}static create(t){return e._cache.get({uri:t})}get path(){return this._uri.path}get fragment(){return this._uri.fragment}toString(){return this.uri}get baseName(){return y8e(this.uri)}get extension(){return C8e(this.uri)}toUri(){return this._uri}};function Lte(e){return hd.create(e)}o(Lte,"createDocumentId");d();d();var pd=class e{constructor(t){this.edits=t;let r=-1;for(let n of t){if(!(n.replaceRange.start>=r))throw new Ai(`Edits must be disjoint and sorted. Found ${n} after ${r}`);r=n.replaceRange.endExclusive}}static{o(this,"OffsetEdit")}static{this.empty=new e([])}static fromJson(t){return new e(t.map(Na.fromJson))}static from(t){let r=t.map(i=>new Na(Ur.ofStartAndLength(i.rangeOffset,i.rangeLength),i.text));return r.reverse(),new e(r)}static single(t,r){return new e([new Na(t,r)])}normalize(){let t=[],r;for(let n of this.edits)n.newText.length===0&&n.replaceRange.length===0||(r&&r.replaceRange.endExclusive===n.replaceRange.start?r=new Na(r.replaceRange.join(n.replaceRange),r.newText+n.newText):(r&&t.push(r),r=n));return r&&t.push(r),new e(t)}normalizeEOL(t){return new e(this.edits.map(r=>r.normalizeEOL(t)))}isNoop(t){return this.edits.every(r=>r.isNoop(t))}toString(){return`[${this.edits.map(r=>r.toString()).join(", ")}]`}apply(t){let r=[],n=0;for(let i of this.edits)r.push(t.substring(n,i.replaceRange.start)),r.push(i.newText),n=i.replaceRange.endExclusive;return r.push(t.substring(n)),r.join("")}compose(t){return Dft(this,t)}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(new Na(Ur.ofStartAndLength(i.replaceRange.start+n,i.newText.length),t.substring(i.replaceRange.start,i.replaceRange.endExclusive))),n+=i.newText.length-i.replaceRange.length;return new e(r)}getNewTextRanges(){let t=[],r=0;for(let n of this.edits)t.push(Ur.ofStartAndLength(n.replaceRange.start+r,n.newText.length)),r+=n.newText.length-n.replaceRange.length;return t}get isEmpty(){return this.edits.length===0}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)a?l.replaceRange.intersects(a.replaceRange)?i++:l.replaceRange.start<a.replaceRange.start?(r.push(new Na(l.replaceRange.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.replaceRange.length):(r.push(new Na(l.replaceRange.delta(s),l.newText)),i++);else break}return new e(r)}removeCommonSuffixPrefix(t){let r=[];for(let n of this.edits){let i=n.removeCommonSuffixPrefix(t);i.isEmpty||r.push(i)}return new e(r)}applyToOffset(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return n.replaceRange.start+r;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRange(t){return new Ur(this.applyToOffset(t.start),this.applyToOffset(t.endExclusive))}applyToOffsetOrUndefined(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRangeOrUndefined(t){let r=this.applyToOffsetOrUndefined(t.start);if(r===void 0)return;let n=this.applyToOffsetOrUndefined(t.endExclusive);if(n!==void 0)return new Ur(r,n)}applyInverseToOffset(t){let r=0;for(let n of this.edits){let i=n.newText.length;if(n.replaceRange.start<=t-r){if(t-r<n.replaceRange.start+i)return n.replaceRange.start;r+=i-n.replaceRange.length}else break}return t-r}},Na=class e{constructor(t,r){this.replaceRange=t;this.newText=r}static{o(this,"SingleOffsetEdit")}static delete(t){return new e(t,"")}static fromJson(t){return new e(Ur.ofStartAndLength(t.pos,t.len),t.txt)}toString(){return`${this.replaceRange} -> "${this.newText}"`}removeCommonSuffixPrefix(t){let r=t.substring(this.replaceRange.start,this.replaceRange.endExclusive),n=f8e(r,this.newText),i=Math.min(r.length-n,this.newText.length-n,gM(r,this.newText)),s=new Ur(this.replaceRange.start+n,this.replaceRange.endExclusive-i),a=this.newText.substring(n,this.newText.length-i);return new e(s,a)}normalizeEOL(t){let r=this.newText.replace(/\r\n|\n/g,t);return new e(this.replaceRange,r)}isNoop(t){return this.newText===t.substring(this.replaceRange.start,this.replaceRange.endExclusive)}get isEmpty(){return this.newText.length===0&&this.replaceRange.length===0}};function Dft(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty)return t;if(t.isEmpty)return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.replaceRange.start+i+u.newText.length>=s.replaceRange.start)break;r.shift(),n.push(u),i+=u.newText.length-u.replaceRange.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.replaceRange.start+i>s.replaceRange.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.replaceRange.length}if(!l)n.push(new Na(s.replaceRange.delta(-i),s.newText));else{let u="",f=s.replaceRange.start-(l.replaceRange.start+a);f>0&&(u=l.newText.slice(0,f));let m=c.replaceRange.endExclusive+i-s.replaceRange.endExclusive;if(m>0){let A=new Na(Ur.ofStartAndLength(c.replaceRange.endExclusive,0),c.newText.slice(-m));r.unshift(A),i-=A.newText.length-A.replaceRange.length}let h=u+s.newText,p=new Ur(Math.min(l.replaceRange.start,s.replaceRange.start-a),s.replaceRange.endExclusive-i);n.push(new Na(p,h))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return new pd(n).normalize()}o(Dft,"joinEdits");d();d();var T8e=-1;function kI(){return T8e!==-1?T8e:Date.now()}o(kI,"now");function w8e(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(w8e,"lineRangeDistance");d();var BI=class e{constructor(t){this.edits=t}static{o(this,"TextEdit")}static fromEdit(t,r){let n=t.edits.map(i=>new N1(r.getTransformer().getRange(i.range),i.newText));return new e(n)}toEdit(t){let r=this.edits.map(n=>vs.replace(t.getTransformer().getOffsetRange(n.range),n.newText));return ns.create(r)}mapEdits(t){return new e(this.edits.map(t))}},N1=class e{constructor(t,r){this.range=t;this.newText=r}static{o(this,"SingleTextEdit")}static joinEdits(t,r){if(t.length===0)throw new Ai;if(t.length===1)return t[0];let n=t[0].range.getStartPosition(),i=t[t.length-1].range.getEndPosition(),s="";for(let a=0;a<t.length;a++){let l=t[a];if(s+=l.newText,a<t.length-1){let c=t[a+1],u=ui.fromPositions(l.range.getEndPosition(),c.range.getStartPosition()),f=r.getValueOfRange(u);s+=f}}return new e(ui.fromPositions(n,i),s)}static fromSingleEdit(t,r){return new e(r.getTransformer().getRange(t.range),t.newText)}extendToCoverRange(t,r){if(this.range.containsRange(t))return this;let n=this.range.plusRange(t),i=r.getValueOfRange(ui.fromPositions(n.getStartPosition(),this.range.getStartPosition())),s=r.getValueOfRange(ui.fromPositions(this.range.getEndPosition(),n.getEndPosition())),a=i+this.newText+s;return new e(n,a)}extendToFullLine(t){let r=new ui(this.range.startLineNumber,1,this.range.endLineNumber,t.getTransformer().getLineLength(this.range.endLineNumber)+1);return this.extendToCoverRange(r,t)}toSingleEdit(t){let n=t.getTransformer().getOffsetRange(this.range);return vs.replace(n,this.newText)}};var Is=class e{constructor(t){this.edits=t;Uc(KQ(t,(r,n)=>r.lineRange.endLineNumberExclusive<=n.lineRange.startLineNumber))}static{o(this,"LineEdit")}static{this.empty=new e([])}static deserialize(t){return new e(t.map(r=>L1.deserialize(r)))}static fromEdit(t){let r=BI.fromEdit(t.edit,t.base);return e.fromTextEdit(r,t.base)}static fromTextEdit(t,r){let n=t.edits,i=[],s=[];for(let a=0;a<n.length;a++){let l=n[a],c=a+1<n.length?n[a+1]:void 0;if(s.push(l),c&&c.range.startLineNumber===l.range.endLineNumber)continue;let u=N1.joinEdits(s,r);s.length=0;let f=L1.fromSingleTextEdit(u,r);i.push(f)}return new e(i)}static createFromUnsorted(t){let r=t.slice();return r.sort(j5(n=>n.lineRange.startLineNumber,$5)),new e(r)}isEmpty(){return this.edits.length===0}toEdit(t){let r=[];for(let n of this.edits){let i=n.toSingleEdit(t);r.push(i)}return ns.create(r)}toString(){return this.edits.map(t=>t.toString()).join(",")}serialize(){return this.edits.map(t=>t.serialize())}getNewLineRanges(){let t=[],r=0;for(let n of this.edits)t.push(Vn.ofLength(n.lineRange.startLineNumber+r,n.newLines.length)),r+=n.newLines.length-n.lineRange.length;return t}mapLineNumber(t){let r=0;for(let n of this.edits){if(n.lineRange.endLineNumberExclusive>t)break;r+=n.newLines.length-n.lineRange.length}return t+r}mapLineRange(t){return new Vn(this.mapLineNumber(t.startLineNumber),this.mapLineNumber(t.endLineNumberExclusive))}mapBackLineRange(t,r){return this.inverse(r).mapLineRange(t)}touches(t){return this.edits.some(r=>t.edits.some(n=>r.lineRange.intersect(n.lineRange)))}rebase(t){return new e(this.edits.map(r=>new L1(t.mapLineRange(r.lineRange),r.newLines)))}humanReadablePatch(t){let r=[];function n(l,c,u,f){let m=u==="unmodified"?" ":u==="deleted"?"-":"+";f===void 0&&(f="[[[[[ WARNING: LINE DOES NOT EXIST ]]]]]");let h=l===-1?"   ":l.toString().padStart(3," "),p=c===-1?"   ":c.toString().padStart(3," ");r.push(`${m} ${h} ${p} ${f}`)}o(n,"pushLine");function i(){r.push("---")}o(i,"pushSeperator");let s=0,a=!0;for(let l of _Ie(this.edits,(c,u)=>w8e(c.lineRange,u.lineRange)<=5)){a?a=!1:i();let c=l[0].lineRange.startLineNumber-2;for(let u of l){for(let h=Math.max(1,c);h<u.lineRange.startLineNumber;h++)n(h,h+s,"unmodified",t[h-1]);let f=u.lineRange,m=u.newLines;for(let h of f.mapToLineArray(p=>p)){let p=t[h-1];n(h,-1,"deleted",p)}for(let h=0;h<m.length;h++){let p=m[h];n(-1,f.startLineNumber+s+h,"added",p)}c=f.endLineNumberExclusive,s+=u.newLines.length-u.lineRange.length}for(let u=c;u<=Math.min(c+2,t.length);u++)n(u,u+s,"unmodified",t[u-1])}return r.join(`
`)}apply(t){let r=[],n=0;for(let i of this.edits){for(;n<i.lineRange.startLineNumber-1;)r.push(t[n]),n++;for(let s of i.newLines)r.push(s);n=i.lineRange.endLineNumberExclusive-1}for(;n<t.length;)r.push(t[n]),n++;return r}inverse(t){let r=this.getNewLineRanges();return new e(this.edits.map((n,i)=>new L1(r[i],t.slice(n.lineRange.startLineNumber-1,n.lineRange.endLineNumberExclusive-1))))}},L1=class e{constructor(t,r){this.lineRange=t;this.newLines=r}static{o(this,"SingleLineEdit")}static deserialize(t){return new e(Vn.ofLength(t[0],t[1]-t[0]),t[2])}static fromSingleTextEdit(t,r){let n=K5(t.newText),i=t.range.startLineNumber,s=r.getValueOfRange(ui.fromPositions(new ao(t.range.startLineNumber,1),t.range.getStartPosition()));n[0]=s+n[0];let a=t.range.endLineNumber+1,l=r.getTransformer().getLineLength(t.range.endLineNumber)+1,c=r.getValueOfRange(ui.fromPositions(t.range.getEndPosition(),new ao(t.range.endLineNumber,l)));n[n.length-1]=n[n.length-1]+c;let u=t.range.startColumn===r.getTransformer().getLineLength(t.range.startLineNumber)+1,f=t.range.endColumn===1;return u&&n[0].length===s.length&&(i++,n.shift()),n.length>0&&i<a&&f&&n[n.length-1].length===c.length&&(a--,n.pop()),new e(new Vn(i,a),n)}toLineEdit(){return new Is([this])}toSingleTextEdit(t){if(this.newLines.length===0){let r=t.getTransformer().textLength;if(this.lineRange.endLineNumberExclusive===r.lineCount+2){let n;if(this.lineRange.startLineNumber>1){let s=this.lineRange.startLineNumber-1,a=t.getTransformer().getLineLength(s)+1;n=new ao(s,a)}else n=new ao(1,1);let i=r.addToPosition(new ao(1,1));return new N1(ui.fromPositions(n,i),"")}else return new N1(new ui(this.lineRange.startLineNumber,1,this.lineRange.endLineNumberExclusive,1),"")}else if(this.lineRange.isEmpty){let r,n,i,s=this.lineRange.startLineNumber;return s===t.getTransformer().textLength.lineCount+2?(r=s-1,n=t.getTransformer().getLineLength(r)+1,i=this.newLines.map(a=>`
`+a).join("")):(r=s,n=1,i=this.newLines.map(a=>a+`
`).join("")),new N1(ui.fromPositions(new ao(r,n)),i)}else{let r=this.lineRange.endLineNumberExclusive-1,n=t.getTransformer().getLineLength(r)+1,i=new ui(this.lineRange.startLineNumber,1,r,n),s=this.newLines.join(`
`);return new N1(i,s)}}toSingleEdit(t){let r=this.toSingleTextEdit(t),n=t.getTransformer().getOffsetRange(r.range);return vs.replace(n,r.newText)}toString(){return`${this.lineRange}->${JSON.stringify(this.newLines)}`}serialize(){return[this.lineRange.startLineNumber,this.lineRange.endLineNumberExclusive,this.newLines]}removeCommonSuffixPrefixLines(t){let r=this.lineRange.startLineNumber,n=this.lineRange.endLineNumberExclusive,i=0;for(;r<n&&i<this.newLines.length&&this.newLines[i]===t.getLineAt(r);)r++,i++;let s=0;for(;r<n&&s+i<this.newLines.length&&this.newLines[this.newLines.length-1-s]===t.getLineAt(n-1);)n--,s++;return i===0&&s===0?this:new e(new Vn(r,n),this.newLines.slice(i,this.newLines.length-s))}},Pft;(t=>{function e(r){return Array.isArray(r)&&r.length===3&&typeof r[0]=="number"&&typeof r[1]=="number"&&Array.isArray(r[2])&&r[2].every(n=>typeof n=="string")}t.is=e,o(e,"is")})(Pft||={});var wp=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedLineEdit")}static fromEdit(t){let r=Is.fromEdit(t);return new e(t.base,r)}toString(){return this.edit.humanReadablePatch(this.base.getLines())}toEdit(){return this.edit.toEdit(this.base)}toRootedEdit(){return new Vu(this.base,this.toEdit())}getEditedState(){let t=this.base.getLines();return this.edit.apply(t)}removeCommonSuffixPrefixLines(){let t=o(n=>!n.lineRange.isEmpty||n.newLines.length>0,"isNotEmptyEdit"),r=this.edit.edits.map(n=>n.removeCommonSuffixPrefixLines(this.base)).filter(n=>t(n));return new e(this.base,new Is(r))}};var ns=class e{constructor(t){this.edits=t;Uc(KQ(t,(r,n)=>r.range.endExclusive<=n.range.start))}static{o(this,"Edit")}static deserialize(t){return new e(t.map(r=>vs.deserialize(r)))}static{this.empty=new e([])}static create(t){return new e(t)}static single(t){return new e([t])}static replace(t,r){return new e([vs.replace(t,r)])}static insert(t,r){return new e([vs.insert(t,r)])}static fromOffsetEdit(t){return new e(t.edits.map(r=>vs.replace(r.replaceRange,r.newText)))}static compose(t){let r;for(let n of t)r===void 0?r=n:r=r.compose(n);return r??e.empty}static trySwap(t,r){let n=t.inverse((a,l)=>" ".repeat(l-a)),i=r.tryRebase(n);if(!i)return;let s=t.tryRebase(i);if(s)return{e1:i,e2:s}}toOffsetEdit(){return new pd(this.edits.map(t=>new Na(t.range,t.newText)))}compose(t){return Fft(this,t)}getNewRanges(){return this.toOffsetEdit().getNewTextRanges()}apply(t){let r="",n=0;for(let i of this.edits)r+=t.substring(n,i.range.start),r+=i.newText,n=i.range.endExclusive;return r+=t.substring(n),r}normalize(){let t=[],r;for(let n of this.edits)if(!(n.newText.length===0&&n.range.length===0))if(r&&r.range.endExclusive===n.range.start){let i=r.data?.merge(n.data)??void 0;r=vs.replaceWithData(r.range.join(n.range),r.newText+n.newText,i)}else r&&t.push(r),r=n;return r&&t.push(r),new e(t)}normalizeOnSource(t){let r=this.apply(t),i=vs.replace(Ur.ofLength(t.length),r).removeCommonSuffixAndPrefix(t);return i.isNeutral()?e.empty:i.toEdit()}toString(){return this.edits.map(t=>t.toString()).join("")}decompose(t){if(t===void 0){let i=[],s=0;for(let a of this.edits)i.push(vs.replaceWithData(Ur.ofStartAndLength(a.range.start+s,a.range.length),a.newText,a.data)),s+=a.newText.length-a.range.length;return new TM(i)}if(this.edits.length!==t.arrayLength)throw Tw(`Number of edits ${this.edits.length} does not match ${t.arrayLength}`);let r=[],n=this.edits.slice();for(let i=0;i<this.edits.length;++i){let s=t.mapIndexBack(i),a=n[s];r.push(a);for(let l=s;l<n.length;++l){let c=a.newText.length-a.range.length,u=n[l];n[l]=vs.replaceWithData(Ur.ofStartAndLength(u.range.start+c,u.range.length),u.newText,u.data)}}return new TM(r)}getRange(){if(this.edits.length!==0)return this.edits[0].range.join(this.edits[this.edits.length-1].range)}isEmpty(){return this.edits.length===0}applyInverseToOffsetRange(t){let r=this.toOffsetEdit(),n=r.applyInverseToOffset(t.start),i=r.applyInverseToOffset(t.endExclusive);return new Ur(n,i)}serialize(){return this.edits.map(t=>t.serialize())}equals(t){if(this.edits.length!==t.edits.length)return!1;for(let r=0;r<this.edits.length;++r)if(!this.edits[r].equals(t.edits[r]))return!1;return!0}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(vs.replace(Ur.ofStartAndLength(i.range.start+n,i.newText.length),t(i.range.start,i.range.endExclusive))),n+=i.newText.length-i.range.length;return new e(r)}inverseOnString(t){return this.inverse((r,n)=>t.substring(r,n))}mapData(t){return e.create(this.edits.map(r=>r.mapData(t)))}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)if(!a)r.push(vs.replace(l.range.delta(s),l.newText)),i++;else{if(l.range.intersectsOrTouches(a.range))return;l.range.start<a.range.start?(r.push(vs.replace(l.range.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.range.length)}else break}return new e(r)}};function Fft(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty())return t;if(t.isEmpty())return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.range.start+i+u.newText.length>=s.range.start)break;r.shift(),n.push(u),i+=u.newText.length-u.range.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.range.start+i>s.range.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.range.length}if(!l)n.push(vs.replaceWithData(s.range.delta(-i),s.newText,s.data));else{let u=s.range.start-a-l.range.start;u>0&&n.push(vs.replaceWithData(Ur.emptyAt(l.range.start),l.newText.slice(0,u),l.data));let f=c.range.endExclusive+i-s.range.endExclusive;if(f>0){let h=vs.replaceWithData(Ur.emptyAt(c.range.endExclusive),c.newText.slice(-f),c.data);r.unshift(h),i-=h.newText.length-h.range.length}let m=new Ur(Math.min(l.range.start,s.range.start-a),s.range.endExclusive-i);n.push(vs.replaceWithData(m,s.newText,s.data))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return ns.create(n).normalize()}o(Fft,"joinEdits");var vs=class e{constructor(t,r,n){this.range=t;this.newText=r;this.data=n}static{o(this,"SingleEdit")}static deserialize(t){return new e(new Ur(t[0],t[1]),t[2],void 0)}static replace(t,r){return new e(t,r,void 0)}static insert(t,r){return new e(new Ur(t,t),r,void 0)}static delete(t){return new e(t,"",void 0)}static replaceWithData(t,r,n){return new e(t,r,n)}static insertWithData(t,r,n){return new e(new Ur(t,t),r,n)}static deleteWithData(t,r){return new e(t,"",r)}static fromSingleOffsetEdit(t){return new e(t.replaceRange,t.newText,void 0)}toString(){return`${this.range}->${JSON.stringify(this.newText)}`}serialize(){return[this.range.start,this.range.endExclusive,this.newText]}toEdit(){return ns.create([this])}equals(t){return this.range.equals(t.range)&&this.newText===t.newText}removeCommonSuffixAndPrefix(t){return this.removeCommonSuffix(t).removeCommonPrefix(t)}removeCommonPrefix(t){let r=this.range.substring(t),n=Nft(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaStart(n),this.newText.substring(n),this.data)}removeCommonSuffix(t){let r=this.range.substring(t),n=Lft(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaEnd(-n),this.newText.substring(0,this.newText.length-n),this.data)}isNeutral(){return this.newText.length===0&&this.range.length===0}mapData(t){return new e(this.range,this.newText,t(this.data))}};function Nft(e,t){let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return r}o(Nft,"commonPrefixLength");function Lft(e,t){let r=0;for(;r<e.length&&r<t.length&&e[e.length-1-r]===t[t.length-1-r];)r++;return r}o(Lft,"commonSuffixLength");var Vu=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedEdit")}getEditedState(){return this.base.apply(this.edit)}rebase(t){return V5(()=>null.base.equals(this.base.apply(t))),V5(()=>null.base.apply(null.edit).equals(this.base.apply(t).apply(this.edit))),null}toString(){return wp.fromEdit(this).toString()}normalize(){return new e(this.base,this.edit.normalizeOnSource(this.base.value))}equals(t){return this.base.equals(t.base)&&this.edit.equals(t.edit)}},TM=class e{constructor(t){this.edits=t}static{o(this,"SingleEdits")}static{this.empty=new e([])}compose(){return ns.compose(this.edits.map(t=>t.toEdit()))}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}toEdits(){return new Sp(this.edits.map(t=>t.toEdit()))}},Sp=class e{constructor(t){this.edits=t}static{o(this,"Edits")}static{this.empty=new e([])}static single(t){return new e([t])}compose(){return ns.compose(this.edits)}add(t){return new e([...this.edits,t])}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}swap(t){let r=t,n=[];for(let i of this.edits){let s=ns.trySwap(r,i);if(!s)return;n.push(s.e1),r=s.e2}return{edits:new e(n),editLast:r}}mapData(t){return new e(this.edits.map(r=>r.mapData(t)))}serialize(){return this.edits.map(t=>t.serialize())}static deserialize(t){return new e(t.map(r=>ns.deserialize(r)))}toHumanReadablePatch(t){let r=t,n=[];for(let i of this.edits){let s=Is.fromEdit(new Vu(r,i));n.push(s.humanReadablePatch(r.getLines())),r=r.apply(i)}return n.join(`
---
`)}};d();var RI=class extends Ip{constructor(r,n=!1){super();this._openDocuments=Gm(this,[]);this.openDocuments=this._openDocuments;this._documents=new Map;this._started=!1;this.ctx=r,this._started=!1,n||this.start()}static{o(this,"ObservableLspWorkspace")}start(){if(this._started)return;this._started=!0;let r=this.ctx.get(Or);for(let n of r.getOpenTextDocuments())n&&this.addLspDocument(n.uri,n);r.onDidOpenTextDocument(async n=>{this.addLspDocument(n.document.uri,n.document)}),r.onDidCloseTextDocument(async n=>{this.removeClosedLspDocument(n.document.uri)}),r.onDidChangeTextDocument(async n=>{this.onDidChangeLspDocument(n.document.uri,n.contentChanges,n.document)})}addLspDocument(r,n){let i=hd.create(r);return this.addDocument({id:i,initialValue:n.getText(),languageId:B4.create(n.clientLanguageId)},void 0)}onDidChangeLspDocument(r,n,i){if(i===void 0)throw new Error("Not implemented: LspDocumentManager.onDidChangeLspDocument with undefined baseDoc");let s=hd.create(r),a=this._documents.get(s);a&&a.applyLspContentChanges(n,i)}onUserPositionChange(r,n){let i=hd.create(r),s=this._documents.get(i);s&&s.updateSelectionFromLspPosition(n)}removeClosedLspDocument(r){let n=hd.create(r);this._documents.get(n)?.dispose()}addDocument(r,n=void 0){let i=this._documents.get(r.id);if(i)return i;let s=new Qte(r.id,new gl(r.initialValue??""),[],r.languageId??B4.PlainText,()=>{this._documents.delete(r.id);let a=this._openDocuments.get(),l=a.filter(c=>c.id!==s.id);l.length!==a.length&&this._openDocuments.set(l,n,{added:[],removed:[s]})},r.workspaceRoot);return this._documents.set(r.id,s),this._openDocuments.set([...this._openDocuments.get(),s],n,{added:[s],removed:[]}),s}getDocument(r){return this._documents.get(r)}clear(){this._openDocuments.set([],void 0,{added:[],removed:this._openDocuments.get()});for(let r of this._documents.values())r.dispose();this._documents.clear()}getWorkspaceRoot(r){return this._documents.get(r)?.workspaceRoot}},Qte=class extends yM{static{o(this,"MutableObservableLspDocument")}constructor(t,r,n,i,s,a){super(t,r,n,i,s,a)}applyLspContentChanges(t,r){let n=this.editFromLspContentChanges(t);this.applyEdit(n.compose(),void 0)}updateSelectionFromLspPosition(t){let r=this.value.get().getTransformer().getOffset(new ao(t.lineNumber+1,t.column+1));this.updateSelection([new Ur(r,r)])}editFromLspContentChanges(t){return new Sp(t.map(n=>this.editFromLspContentChange(n)))}editFromLspContentChange(t){if(S8e.TextDocumentContentChangeEvent.isIncremental(t)){let r=this.value.get().getTransformer(),n=r.getOffset(new ao(t.range.start.line+1,t.range.start.character+1)),i=r.getOffset(new ao(t.range.end.line+1,t.range.end.character+1));return ns.replace(new Ur(n,i),t.text)}throw new Error("Full replacement edits are not supported")}};d();d();function _8e(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}o(_8e,"isObject");function wM(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}o(wM,"assertType");d();d();d();var F4=0;function SM(e){return e===0}o(SM,"lengthIsZero");var ju=2**26;function DI(e,t){return e*ju+t}o(DI,"toLength");function Q1(e){let t=e,r=Math.floor(t/ju),n=t-r*ju;return new Hu(r,n)}o(Q1,"lengthToObj");function Bw(e,t){let r=e+t;return t>=ju&&(r=r-e%ju),r}o(Bw,"lengthAdd");function k8e(e,t){return e.reduce((r,n)=>Bw(r,t(n)),F4)}o(k8e,"sumLengths");function Mte(e,t){return e===t}o(Mte,"lengthEquals");function Rw(e,t){let r=e,n=t;if(n-r<=0)return F4;let s=Math.floor(r/ju),a=Math.floor(n/ju),l=n-a*ju;if(s===a){let c=r-s*ju;return DI(0,l-c)}else return DI(a-s,l)}o(Rw,"lengthDiffNonNegative");function B8e(e,t){let r=e,n=Math.floor(r/ju),i=r-n*ju,s=t,a=Math.floor(s/ju),l=s-a*ju;return new ui(n+1,i+1,a+1,l+1)}o(B8e,"lengthsToRange");d();var PI=class{constructor(t,r,n){this.startOffset=t;this.endOffset=r;this.newLength=n}static{o(this,"TextEditInfo")}toString(){return`[${Q1(this.startOffset)}...${Q1(this.endOffset)}) -> ${Q1(this.newLength)}`}};function D8e(e,t){if(e.length===0)return t;if(t.length===0)return e;let r=new JQ(R8e(e)),n=R8e(t);n.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let i=r.dequeue();function s(u){if(u===void 0){let m=r.takeWhile(h=>!0)||[];return i&&m.unshift(i),m}let f=[];for(;i&&!SM(u);){let[m,h]=i.splitAt(u);f.push(m),u=Rw(m.lengthAfter,u),i=h??r.dequeue()}return SM(u)||f.push(new Dw(!1,u,u)),f}o(s,"nextS0ToS1MapWithS1LengthOf");let a=[];function l(u,f,m){if(a.length>0&&Mte(a[a.length-1].endOffset,u)){let h=a[a.length-1];a[a.length-1]=new PI(h.startOffset,f,Bw(h.newLength,m))}else a.push({startOffset:u,endOffset:f,newLength:m})}o(l,"pushEdit");let c=F4;for(let u of n){let f=s(u.lengthBefore);if(u.modified){let m=k8e(f,p=>p.lengthBefore),h=Bw(c,m);l(c,h,u.lengthAfter),c=h}else for(let m of f){let h=c;c=Bw(c,m.lengthBefore),m.modified&&l(h,c,m.lengthAfter)}}return a}o(D8e,"combineTextEditInfos");var Dw=class e{constructor(t,r,n){this.modified=t;this.lengthBefore=r;this.lengthAfter=n}static{o(this,"LengthMapping")}splitAt(t){let r=Rw(t,this.lengthAfter);return Mte(r,F4)?[this,void 0]:this.modified?[new e(this.modified,this.lengthBefore,t),new e(this.modified,F4,r)]:[new e(this.modified,t,t),new e(this.modified,r,r)]}toString(){return`${this.modified?"M":"U"}:${Q1(this.lengthBefore)} -> ${Q1(this.lengthAfter)}`}};function R8e(e){let t=[],r=F4;for(let n of e){let i=Rw(r,n.startOffset);SM(i)||t.push(new Dw(!1,i,i));let s=Rw(n.startOffset,n.endOffset);t.push(new Dw(!0,s,n.newLength)),r=n.endOffset}return t}o(R8e,"toLengthMapping");var Pw=class e{constructor(t){this.edits=t}static{o(this,"TextLengthEdit")}static{this.empty=new e([])}static fromTextEdit(t){let r=t.edits.map(n=>new _M(n.range,Hu.ofText(n.newText)));return new e(r)}static _fromTextEditInfo(t){let r=t.map(n=>{let i=Q1(n.newLength);return new _M(B8e(n.startOffset,n.endOffset),new Hu(i.lineCount,i.columnCount))});return new e(r)}_toTextEditInfo(){return this.edits.map(t=>new PI(DI(t.range.startLineNumber-1,t.range.startColumn-1),DI(t.range.endLineNumber-1,t.range.endColumn-1),DI(t.newLength.lineCount,t.newLength.columnCount)))}compose(t){let r=this._toTextEditInfo(),n=t._toTextEditInfo(),i=D8e(r,n);return e._fromTextEditInfo(i)}getRange(){if(this.edits.length!==0)return ui.fromPositions(this.edits[0].range.getStartPosition(),this.edits.at(-1).range.getEndPosition())}toString(){return`[${this.edits.join(", ")}]`}},_M=class{constructor(t,r){this.range=t;this.newLength=r}static{o(this,"SingleTextEditLength")}toString(){return`{ range: ${this.range}, newLength: ${this.newLength} }`}};d();function FI(e,t,r){let n=new Map(Object.entries(t).map(([i,s])=>[s,i]));return cM({owner:e,createEmptyChangeSummary:o(()=>({}),"createEmptyChangeSummary"),handleChange:o((i,s)=>{let a=n.get(i.changedObservable);return s[a]===void 0&&(s[a]={value:void 0,changes:[]}),s[a].changes.push(i.change),!0},"handleChange")},(i,s)=>{for(let[a,l]of Object.entries(t)){let c=l.read(i);s[a]===void 0&&(s[a]={value:c,changes:[]}),s[a].value=c}r(s)})}o(FI,"autorunWithChanges");d();var kM=class{constructor(t){this.documents=t;Uc(t.length>0)}static{o(this,"HistoryContext")}getMostRecentDocument(){return this.documents.at(-1)}getDocument(t){return this.documents.find(r=>r.docId===t)}getDocumentAndIdx(t){let r=this.documents.findIndex(n=>n.docId.uri===t.uri);if(r!==-1)return{doc:this.documents[r],idx:r}}},BM=class{constructor(t,r,n,i,s){this.docId=t;this.languageId=r;this.base=n;this.lastEdits=i;this.lastSelection=s;this.lastEdit=new Vu(this.base,this.lastEdits.compose())}static{o(this,"DocumentHistory")}};d();var RM=class extends ua{constructor(){super();this.branch=Gm("branchName",void 0);this._register(Ite((r,n)=>{this.init(n)}))}static{o(this,"ObservableGitStub")}async init(r){}};var NI=class extends ua{constructor(r,n=!1){super();this._documentState=new Map;this._lastDocuments=new Ute(50);this.workspace=r,this._lastGitCheckout=void 0,this._started=!1,n||this.start()}static{o(this,"NesHistoryContextProvider")}start(){if(this._started)return;this._started=!0;let r=new RM;this._register(_4(n=>{n.readObservable(r.branch)!==void 0&&(this._lastGitCheckout=kI(),this._documentState.forEach(s=>s.applyAllEdits()))})),B1(this,this.workspace.openDocuments,(n,i)=>{let s=n.selection.get().at(0),a=new Ote(n.id,n.value.get().value,n.languageId.get(),s);this._documentState.set(a.docId,a),s&&this._lastDocuments.push(a),i.add(FI(this,{value:n.value,selection:n.selection,languageId:n.languageId},l=>{l.languageId.changes.length>0&&(a.languageId=l.languageId.value);let c=this._isAwaitingGitCheckoutCooldown();for(let u of l.value.changes)this._lastDocuments.push(a),a.handleEdit(u,c);l.selection.changes.length>0&&(a.handleSelection(l.selection.value.at(0)),this._lastDocuments.push(a))})),i.add(fa(()=>{let l=this._documentState.get(n.id);l&&this._lastDocuments.remove(l),this._documentState.delete(n.id)}))},n=>n.id).recomputeInitiallyAndOnChange(this._store)}getHistoryContext(r,n=5,i=100){let s=this._documentState.get(r);if(!s||!this._lastDocuments.has(s))return;let a=[],l=!1;for(let c of this._lastDocuments.getItemsReversed()){let u=c.getRecentEdit(n,i);if(u!==void 0&&(u.editCount===0&&l||(c.docId===r&&(l=!0),a.push(u.history),n-=u.editCount,n<=0)))break}if(a.reverse(),!!a.some(c=>c.docId===r))return new kM(a)}_isAwaitingGitCheckoutCooldown(){if(!this._lastGitCheckout)return!1;let r=kI()-this._lastGitCheckout<2*1e3;return r||(this._lastGitCheckout=void 0),r}},Ote=class e{constructor(t,r,n,i){this.docId=t;this.languageId=n;this._edits=[];this._isUserDocument=!1;this._baseValue=new gl(r),this._currentValue=this._baseValue,this.handleSelection(i)}static{o(this,"DocumentState")}static{this.MAX_EDITED_LINES_PER_EDIT=10}static{this.MAX_EDITED_CHARS_PER_EDIT=5e3}getSelection(){return this._selection}handleSelection(t){t&&(this._isUserDocument=!0),this._selection=t}handleEdit(t,r){if(t.isEmpty())return;this._currentValue=this._currentValue.apply(t);let n=BI.fromEdit(t,this._currentValue),i=Pw.fromTextEdit(n);if(r){this._baseValue=this._currentValue,this._edits=[];return}function s(l){return DM(l.edits,c=>c.newText.length)}o(s,"editInsertSize");let a=this._edits.at(-1);a&&s(a.edit)<200&&Qft(t,a.edit)?(a.edit=a.edit.compose(t),a.textLengthEdit=a.textLengthEdit.compose(i),a.instant=kI(),a.edit.isEmpty()&&this._edits.pop()):this._edits.push({edit:t,textLengthEdit:i,instant:kI()})}getRecentEdit(t,r){if(!this._isUserDocument)return;let{editCount:n}=this._applyStaleEdits(t,r),i=new Sp(this._edits.map(s=>s.edit));return{history:new BM(this.docId,this.languageId,this._baseValue,i,this._selection),editCount:n}}applyAllEdits(){this._baseValue=this._currentValue,this._edits=[]}_applyStaleEdits(t,r){let n=this._currentValue,i=ns.empty,s=Pw.empty,a,l=0,c=ns.empty;for(a=this._edits.length-1;a>=0;a--){let u=this._edits[a];if(kI()-u.instant>10*60*1e3)break;let f=u.textLengthEdit.compose(s),m=f.getRange();wM(m,"we only compose non-empty Edits");let h=m.endLineNumber-m.startLineNumber;if(r>0&&h>r)break;let p=DM(u.textLengthEdit.edits,P=>P.range.endLineNumber-P.range.startLineNumber+P.newLength.lineCount);if(p>e.MAX_EDITED_LINES_PER_EDIT||DM(u.edit.edits,P=>P.newText.length)>e.MAX_EDITED_CHARS_PER_EDIT||DM(u.edit.edits,P=>P.range.length)>e.MAX_EDITED_CHARS_PER_EDIT)break;if(a===this._edits.length-1)c=u.edit;else{let P=ns.trySwap(u.edit,c);if(P)c=P.e1;else{if(p>=2)break;c=u.edit.compose(c)}}let x=u.edit.inverseOnString(n.value);n=n.apply(x);let b=u.edit.compose(i),v=Is.fromEdit(new Vu(n,b)),B=new wp(n,v).removeCommonSuffixPrefixLines().edit.edits.length;if(B>t)break;l=B,i=b,s=f}for(let u=0;u<=a;u++){let f=this._edits[u];this._baseValue=this._baseValue.apply(f.edit)}return this._edits=this._edits.slice(a+1),{editCount:l}}toString(){return new Sp(this._edits.map(t=>t.edit)).toHumanReadablePatch(this._baseValue)}};function DM(e,t){let r=0;for(let n of e)r+=t(n);return r}o(DM,"sum");function Qft(e,t){let r=t.getNewRanges();return e.edits.every(n=>Mft(n.range,r))}o(Qft,"editExtends");function Mft(e,t){return t.some(r=>e.start===r.endExclusive||e.endExclusive===r.start)}o(Mft,"doesTouch");var Ute=class{constructor(t){this.maxSize=t;this._arr=[]}static{o(this,"FifoSet")}push(t){let r=this._arr.indexOf(t);r!==-1?this._arr.splice(r,1):this._arr.length>=this.maxSize&&this._arr.shift(),this._arr.push(t)}remove(t){let r=this._arr.indexOf(t);r!==-1&&this._arr.splice(r,1)}getItemsReversed(){let t=[...this._arr];return t.reverse(),t}has(t){return this._arr.indexOf(t)!==-1}};d();function P8e(e,t,r){return e.get(qte).safeStartIfApplicable(t,r)}o(P8e,"startRecentEditsPromptFeatureIfApplicable");var qte=class{static{o(this,"RecentEditsPromptFeatureLifecycle")}};function Oft(e,t,r){return ci(e,qt.VSCodeRecentEditsInPrompt)??t.recentEditsInPrompt(r)}o(Oft,"isRecentEditsActive");var F8e=o((e,t)=>{let r=e.get(jt);return Oft(e,r,t)},"recentEditsPredicate");function Uft(e,t,r=0){let n=[];for(let i of e.edits){let s=i.lineRange.startLineNumber-1,a=i.lineRange.endLineNumberExclusive-1,l=t.slice(s,a),c=i.newLines;if(l.filter(m=>m.trim().length>0).length===0&&c.filter(m=>m.trim().length>0).length===0)continue;let u=Math.max(0,s-r),f=Math.min(t.length,a+r);n.push(`@@ -${s+1},${l.length} +${s+1},${c.length} @@`);for(let m=u;m<s;m++)n.push(` ${t[m]}`);n.push(...l.map(m=>`-${m}`)),n.push(...c.map(m=>`+${m}`));for(let m=a;m<f;m++)n.push(` ${t[m]}`)}return n}o(Uft,"summarizeEditsAsUnifiedDiff");var N8e=o((e,t)=>{let[r,n]=t.useState([]),[i,s]=t.useState();if(t.useData(Qc,async c=>{s(c.document);let u=c.telemetryData,f=e.ctx.get(jt);await P8e(e.ctx,u,f);let m=ci(e.ctx,qt.VSCodeRecentEditsEditCount)??f.recentEditsEditCount(u),h=ci(e.ctx,qt.VSCodeRecentEditsContextLines)??f.recentEditsContextLines(u),p=ci(e.ctx,qt.VSCodeRecentEditsMaxLinesBetweenEdits)??f.recentEditsMaxLinesBetweenEdits(u),A=e.ctx.get(NI),E=e.ctx.get(RI),x=e.ctx.get(Or),b=[];for(let v of x.getOpenTextDocuments()){E.onUserPositionChange(v.uri,new ao(0,0));let B=A.getHistoryContext(Lte(v.uri),m,p)?.getDocument(Lte(v.uri)),P=B?.base.getLines();if(B&&P){let F=B.lastEdit,G=Is.fromEdit(F),re=v.uri===c.document?.uri?0:h,pe=Uft(G,P,re);if(pe.length>0){let Z={value:pe.join(`
`),uri:x.getRelativePath(v)??v.uri};b.push(Z)}}}n(b)}),!r||r.length===0||!i)return;let a=Ba(i.clientLanguageId),l=A0("These are recently edited files in unified diff format:");for(let c of r)l+=A0(`File: ${c.uri}`),l+=A0(c.value);return l+=A0("End of recent edits"),l=Gs(l,a),Mn(js,{children:l})},"RecentEdits");d();d();async function PM(e,t){let r=xQ(t,"Trait");for(let i of r)qft(e,i.data,i.providerId);return r.flatMap(i=>i.data).sort((i,s)=>(i.importance??0)-(s.importance??0))}o(PM,"getTraitsFromContextItems");function qft(e,t,r){let n=e.get(Fa);t.forEach(i=>{n.addPromptLibExpectations(r,[i.value]),n.addPromptComponentsExpectations(r,[[i,"included"]])})}o(qft,"setupExpectationsForTraits");function L8e(e){return e.map(t=>({...t,includeInPrompt:!0}))}o(L8e,"convertTraitsToRelatedFileTraits");function FM(e){return e.promptTextOverride?{kind:"string",value:e.promptTextOverride}:{kind:"name-value",name:e.name,value:e.value}}o(FM,"addKindToRelatedFileTrait");d();d();d();var Wte=new Bn;function Q8e(e){return[...e].sort((t,r)=>{let n=Wte.get(t.uri.toString())??0;return(Wte.get(r.uri.toString())??0)-n})}o(Q8e,"sortByAccessTimes");var M8e=o(e=>e.get(Or).onDidFocusTextDocument(t=>{t&&Wte.set(t.document.uri.toString(),Date.now())}),"registerDocumentTracker");var NM=class{constructor(t){this.docManager=t}static{o(this,"OpenTabFiles")}async truncateDocs(t,r,n,i){let s=new Map,a=0;for(let l of t)if(!(a+l.getText().length>_p.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&LM(n,l.languageId)&&(s.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),a+=l.getText().length),s.size>=i))break;return s}async getNeighborFiles(t,r,n){let i=new Map,s=new Map;return i=await this.truncateDocs(Q8e(await this.docManager.textDocuments()),t,r,n),s.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:s}}};d();d();function QM(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}o(QM,"shortCircuit");d();function Gft(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}o(Gft,"defaultHash");function Gte(e,t={}){let{hash:r=Gft,cache:n=new Map}=t;return function(...i){let s=r.apply(this,i);if(n.has(s))return n.get(s);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(s),l})),n.set(s,a),a}}o(Gte,"memoize");var O8e={entries:[],traits:[]},MM={entries:new Map,traits:[]},Hte=class extends Bn{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{o(this,"LRUExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.deleteKey(r)}},Ka=new Cr("relatedFiles"),Hft=1e3,OM=class extends Error{static{o(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},N4=class e{constructor(t){this.context=t}static{o(this,"RelatedFilesProvider")}async getRelatedFiles(t,r,n){let i=await this.getRelatedFilesResponse(t,r,n);if(i===null)return null;let s={entries:new Map,traits:i.traits??[]};for(let a of i.entries){let l=s.entries.get(a.type);l||(l=new Map,s.entries.set(a.type,l));for(let c of a.uris)try{Ka.debug(this.context,`Processing ${c}`);let u=await this.getFileContent(c);if(!u||u.length==0){Ka.debug(this.context,`Skip ${c} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,u)){Ka.debug(this.context,`Skip ${c} due content exclusion.`);continue}u=e.dropBOM(u),l.set(c,u)}catch(u){Ka.warn(this.context,u)}}return s}async getFileContent(t){try{return this.context.get(Qo).readFileString(t)}catch(r){Ka.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(Pa).evaluate(t,r)).isBlocked}catch(n){Ka.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}},Vft=3,U8e=new Hte(Hft);async function q8e(e,t,r,n,i){let s=Date.now(),a;try{a=await i.getRelatedFiles(t,r,n)}catch(c){Ka.exception(e,c,".getRelatedFiles"),a=null}a===null&&(U8e.bumpRetryCount(t.uri)>=Vft?a=MM:a=null);let l=Date.now()-s;if(Ka.debug(e,a!==null?`Fetched ${[...a.entries.values()].map(c=>c.size).reduce((c,u)=>c+u,0)} related files for '${t.uri}' in ${l}ms.`:`Failing fetching files for '${t.uri}' in ${l}ms.`),a===null)throw new OM;return a}o(q8e,"getRelatedFiles");var Vte=Gte(q8e,{cache:U8e,hash:o((e,t,r,n,i)=>`${t.uri}`,"hash")});Vte=QM(Vte,200,MM);async function W8e(e,t,r,n,i,s=!1){let a=e.get(N4),l=MM;try{let c={uri:t.uri,clientLanguageId:t.clientLanguageId,data:i};l=s?await q8e(e,c,r,n,a):await Vte(e,c,r,n,a)}catch(c){l=MM,c instanceof OM&&er(e,"getRelatedFilesList",r)}return $ft(e,l.traits,t,r),Ka.debug(e,l!=null?`Fetched following traits ${l.traits.map(c=>`{${c.name} : ${c.value}}`).join("")} for '${t.uri}'`:`Failing fecthing traits for '${t.uri}'.`),l}o(W8e,"getRelatedFilesAndTraits");var jft=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function $ft(e,t,r,n){if(t.length>0){let i={};i.detectedLanguageId=r.detectedLanguageId,i.languageId=r.clientLanguageId;for(let a of t){let l=jft.get(a.name);l&&(i[l]=a.value)}let s=n.extendedBy(i,{});return er(e,"related.traits",s)}}o($ft,"ReportTraitsTelemetry");function LM(e,t){return Ba(e)===Ba(t)}o(LM,"considerNeighborFile");var _p=class e{static{o(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){e.instance=void 0}static async getNeighborFilesAndTraits(t,r,n,i,s,a,l){let c=t.get(Or);e.instance===void 0&&(e.instance=new NM(c));let u=rdt(t,n,i),f=edt(t,i),m=!u||f?{...await e.instance.getNeighborFiles(r,n,e.MAX_NEIGHBOR_FILES),traits:[]}:e.defaultEmptyResult(),h=await c.getTextDocument({uri:r});if(!h)return Ka.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),m;let p=await c.getWorkspaceFolder(h);if(!p)return Ka.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),m;let A=await W8e(t,h,i,s,a,l);if(A.entries.size===0)return Ka.debug(t,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),m.traits.push(...A.traits),m;let E=u?e.defaultEmptyResult():m;return A.entries.forEach((x,b)=>{let v=[];x.forEach((S,B)=>{let P=e.getRelativePath(B,p.uri);if(!P||E.docs.has(B))return;let F={relativePath:P,uri:B,source:S};v.unshift(F),E.docs.set(B,F)}),v.length>0&&E.neighborSource.set(b,v.map(S=>S.uri.toString()))}),E.traits.push(...A.traits),E}static basename(t){return decodeURIComponent(t.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(t,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return t.toString().startsWith(n)?t.toString().slice(n.length):e.basename(t)}},zft=["cpp","c"],Yft=["typescript","javascript","typescriptreact","javascriptreact"],Kft=["csharp"];function Jft(e,t){return e.get(jt).excludeOpenTabFilesCSharp(t)||ci(e,qt.ExcludeOpenTabFilesCSharp)}o(Jft,"isExcludeOpenTabFilesCSharpActive");function Xft(e,t){return e.get(jt).excludeOpenTabFilesCpp(t)||ci(e,qt.ExcludeOpenTabFilesCpp)}o(Xft,"isExcludeOpenTabFilesCppActive");function Zft(e,t){return e.get(jt).excludeOpenTabFilesTypeScript(t)||ci(e,qt.ExcludeOpenTabFilesTypeScript)}o(Zft,"isExcludeOpenTabFilesTypeScriptActive");function edt(e,t){return e.get(jt).fallbackToOpenTabFilesWithNoRelatedFiles(t)||ci(e,qt.FallbackToOpenTabFilesWithNoRelatedFiles)}o(edt,"isFallbackToOpenTabFilesActive");var tdt=new Map([...zft.map(e=>[e,Xft]),...Yft.map(e=>[e,Zft]),...Kft.map(e=>[e,Jft])]);function rdt(e,t,r){let n=tdt.get(t);return n?n(e,r):!1}o(rdt,"isExcludeOpenTabFilesActive");var G8e=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState([]),[a,l]=t.useState();t.useData(Qc,async m=>{m.document.uri!==r?.uri&&s([]),n(m.document);let h=m.turnOffSimilarFiles?_p.defaultEmptyResult():await _p.getNeighborFilesAndTraits(e.ctx,m.document.uri,m.document.detectedLanguageId,m.telemetryData,m.cancellationToken,m.data),p=await c(m.telemetryData,m.document,m,h);s(p);let A=h.traits.filter(E=>E.includeInPrompt).map(FM);l(f(A,m.document))});async function c(m,h,p,A){let E=Fw(e.ctx,m,h.detectedLanguageId);return(await u(E,m,h,p,A)).filter(b=>b.snippet.length>0).sort((b,v)=>b.score-v.score).map(b=>({text:XJ(b,h.detectedLanguageId),score:b.score}))}o(c,"produceSimilarFiles");async function u(m,h,p,A,E){let x=m.similarFilesOptions||AQ(e.ctx,h,p.detectedLanguageId),v=e.ctx.get(Or).getRelativePath(p),S={uri:p.uri,source:p.getText(),offset:p.offsetAt(A.position),relativePath:v,languageId:p.detectedLanguageId};return await jF(S,Array.from(E.docs.values()),x)}o(u,"findSimilarSnippets");function f(m,h){if(m.length>0&&h!==void 0)return Gs(`Consider this related information:
`+m.map(p=>p.kind==="string"?p.value:`${p.name}: ${p.value}`).join(`
`),h.detectedLanguageId)}return o(f,"produceTraitsText"),Mn(T1,{children:[a!==void 0?Mn(js,{children:a}):void 0,...i.map((m,h)=>Mn(ndt,{text:m.text}))]})},"SimilarFiles"),ndt=o((e,t)=>Mn(js,{children:e.text}),"SimilarFile");d();var H8e=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(Qc,a=>{a.traits!==r&&n(a.traits);let l=Ba(a.document.clientLanguageId);l!==i&&s(l)}),!(!r||r.length===0||!i))return Mn(T1,{children:[Mn(js,{children:Gs(`Consider this related information:
`,i)}),...r.map(a=>Mn(js,{source:a,children:Gs(`${a.name}: ${a.value}`,i)},a.id))]})},"Traits");d();d();var idt="CppCodeSnippetsEnabledFeatures",odt="CppCodeSnippetsTimeBudgetFactor",sdt="CppCodeSnippetsMaxDistanceToCaret";function UM(e,t,r){try{let n=e.get(jt).cppCodeSnippetsFeatures(r);if(n){t.set(idt,n);let i=e.get(jt).cppCodeSnippetsTimeBudgetFactor(r);i&&t.set(odt,i);let s=e.get(jt).cppCodeSnippetsMaxDistanceToCaret(r);s&&t.set(sdt,s)}}catch(n){return ni.debug(e,`Failed to get the active C++ Code Snippets experiments for the Context Provider API: ${n}`),!1}return!0}o(UM,"fillInCppActiveExperiments");var V8e=require("node:timers/promises"),j8e=nt(ri());var ma=class{static{o(this,"ContextProviderRegistry")}},jte=class extends ma{constructor(r,n){super();this.ctx=r;this.match=n;this._providers=[]}static{o(this,"CoreContextProviderRegistry")}registerContextProvider(r){if(r.id.includes(",")||r.id.includes("*"))throw new Error(`A context provider id cannot contain a comma or an asterisk. The id ${r.id} is invalid.`);if(this._providers.find(n=>n.id===r.id))throw new Error(`A context provider with id ${r.id} has already been registered`);this._providers.push(r)}unregisterContextProvider(r){this._providers=this._providers.filter(n=>n.id!==r)}get providers(){return this._providers.slice()}async resolveAllProviders(r,n,i,s){if(i?.isCancellationRequested)return ni.debug(this.ctx,"Resolving context providers cancelled"),[];let a=new Map;UM(this.ctx,a,n);let l=[];if(this._providers.length===0)return l;let c=await this.matchProviders(r,n),u=c.filter(p=>p[1]>0);if(c.filter(p=>p[1]<=0).forEach(([p,A])=>{let E={providerId:p.id,matchScore:A,resolution:"none",resolutionTimeMs:0,data:[]};l.push(E)}),u.length===0)return l;if(i?.isCancellationRequested)return ni.debug(this.ctx,"Resolving context providers cancelled"),[];let m=R3(this.ctx)&&!SP(this.ctx)?0:ci(this.ctx,qt.ContextProviderTimeBudget),h=u.length>0?m/u.length:m;for(let[p,A]of u){let E={completionId:z8e(n),documentContext:r,activeExperiments:a,timeBudget:h,data:s},x=this.ctx.get(Fa).pop(p.id);x&&(E.previousUsageStatistics=x);let b=new j8e.CancellationTokenSource;i?.onCancellationRequested(W=>{b.cancel()});let v=performance.now(),S=p.resolver.resolve(E,b.token),[B,P]=await adt(this.ctx,S,E,p,b),F=performance.now();this.ctx.get(Fa).setLastResolution(p.id,P);let[G,re]=dve(B);re&&ni.error(this.ctx,`Dropped ${re} context items from ${p.id} due to invalid schema`);let pe=mve(this.ctx,G),Z={providerId:p.id,matchScore:A,resolution:P,resolutionTimeMs:F-v,data:pe};l.push(Z)}return l.sort((p,A)=>A.matchScore-p.matchScore)}async matchProviders(r,n){let i=HM(this.ctx,n),s=i.length===1&&i[0]==="*";return await Promise.all(this._providers.map(async l=>{if(!s&&!i.includes(l.id))return[l,0];let c=await this.match(this.ctx,l.selector,r);return[l,c]}))}},$te=class extends ma{constructor(r){super();this.delegate=r;this._cachedContextItems=new Bn(5)}static{o(this,"CachedContextProviderRegistry")}registerContextProvider(r){this.delegate.registerContextProvider(r)}unregisterContextProvider(r){this.delegate.unregisterContextProvider(r)}get providers(){return this.delegate.providers}async resolveAllProviders(r,n,i,s){let a=z8e(n),l=this._cachedContextItems.get(a);if(a&&l&&l.length>0)return l;let c=await this.delegate.resolveAllProviders(r,n,i,s);return c.length>0&&a&&this._cachedContextItems.set(a,c),c}};function $8e(e){return e>0?(0,V8e.setTimeout)(e,null):new Promise(()=>{})}o($8e,"nullTimeout");async function adt(e,t,r,n,i){let s=[],a;return t instanceof Promise?[s,a]=await ldt(e,t,r,n,i):[s,a]=await cdt(e,t,r,n,i),[s,a]}o(adt,"extractDataFromPendingContextItem");async function ldt(e,t,r,n,i){let s=[],a,l=$8e(r.timeBudget);try{let c=await Promise.race([t,l]);c===null?(a="none",i.cancel(),ni.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):(a="full",Array.isArray(c)?s.push(...c):s.push(c))}catch(c){return _T(c)||ni.error(e,`Error resolving context from ${n.id}: `,c),i.cancel(),[[],"error"]}return[s,a]}o(ldt,"handlePromiseContextItem");async function cdt(e,t,r,n,i){let s=[],a,l=$8e(r.timeBudget),c=(async()=>{for await(let u of t)s.push(u);return s})();try{await Promise.race([c,l])===null?(a=s.length>0?"partial":"none",i.cancel(),ni.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):a="full"}catch(u){return _T(u)||ni.error(e,`Error resolving context from ${n.id}: `,u),i.cancel(),[[],"error"]}return[s,a]}o(cdt,"handleAsyncIteratorContextItem");function qM(e,t){return new $te(new jte(e,t))}o(qM,"getContextProviderRegistry");function WM(e,t){let r=e.get(Fa);return t.map(i=>{let{providerId:s,resolution:a,resolutionTimeMs:l,matchScore:c,data:u}=i,f=r.get(s),m=f?.usage??"none";(c<=0||a==="none"||a==="error")&&(m="none");let h={providerId:s,resolution:a,resolutionTimeMs:l,usage:m,usageDetails:f?.usageDetails,matched:c>0,numResolvedItems:u.length},p=f?.usageDetails!==void 0?f?.usageDetails.filter(E=>E.usage==="full"||E.usage==="partial"||E.usage==="partial_content_excluded").length:void 0,A=f?.usageDetails!==void 0?f?.usageDetails.filter(E=>E.usage==="partial"||E.usage==="partial_content_excluded").length:void 0;return p!==void 0&&(h.numUsedItems=p),A!==void 0&&(h.numPartiallyUsedItems=A),h})}o(WM,"telemetrizeContextItems");function z8e(e){return e.properties.headerRequestId}o(z8e,"extractCompletionId");function GM(e){return e.matchScore>0&&e.resolution!=="error"}o(GM,"matchContextItems");function HM(e,t){if(R3(e))return["*"];let r=e.get(jt).contextProviders(t),n=ci(e,qt.ContextProviders)??[];return r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*"?["*"]:Array.from(new Set([...r,...n]))}o(HM,"getExpContextProviders");function LI(e,t){return HM(e,t).length>0}o(LI,"useContextProviderAPI");d();d();d();var VM=class{constructor(t){this.states=t;this.currentIndex=0;this.stateChanged=!1}static{o(this,"UseState")}useState(t){let r=this.currentIndex;if(this.states[r]===void 0){let i=typeof t=="function"?t():t;this.states[r]=i}let n=o(i=>{let s=typeof i=="function"?i(this.states[r]):i;this.states[r]=s,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},jM=class{constructor(t){this.measureUpdateTime=t;this.consumers=[]}static{o(this,"UseData")}useData(t,r){this.consumers.push(n=>{if(t(n))return r(n)})}async updateData(t){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(t);this.measureUpdateTime(performance.now()-r)}}};var $M=class{constructor(){this.lifecycleData=new Map}static{o(this,"VirtualPromptReconciler")}async initialize(t){this.vTree=await this.virtualizeElement(t,"$",0)}async reconcile(t){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return t?.isCancellationRequested?this.vTree:(this.vTree=await this.reconcileNode(this.vTree,"$",0,t),this.vTree)}async reconcileNode(t,r,n,i){if(!t.children&&!t.lifecycle)return t;let s=t;if(t.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(t);s=await this.virtualizeElement(t.component,r,n);let c=this.collectChildPaths(s);this.cleanupState(l,c)}else if(t.children){let l=[];for(let c=0;c<t.children.length;c++){let u=t.children[c];if(u){let f=await this.reconcileNode(u,t.path,c,i);f!==void 0&&l.push(f)}}s.children=l}return s}async virtualizeElement(t,r,n){if(!(typeof t>"u")){if(typeof t=="string"||typeof t=="number")return{name:typeof t,path:`${r}[${n}]`,props:{value:t},component:t};if(udt(t.type)){let i=t.type(t.props.children),s=r!=="$"?`[${n}]`:"",a=`${r}${s}.${i.type}`,l=await Promise.all(i.children.map((c,u)=>this.virtualizeElement(c,a,u)));return this.ensureUniqueKeys(l),{name:i.type,path:a,children:l.flat().filter(c=>c!==void 0),component:t}}return await this.virtualizeFunctionComponent(r,n,t,t.type)}}async virtualizeFunctionComponent(t,r,n,i){let s=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${t}${s}.${i.name}`,l=new Yte(this.getOrCreateLifecycleData(a)),c=await i(n.props,l),u=Array.isArray(c)?c:[c],m=(await Promise.all(u.map((h,p)=>this.virtualizeElement(h,a,p)))).flat().filter(h=>h!==void 0);return this.ensureUniqueKeys(m),{name:i.name,path:a,props:n.props,children:m,component:n,lifecycle:l}}ensureUniqueKeys(t){let r=new Map;for(let i of t){if(!i)continue;let s=i.props?.key;s&&r.set(s,(r.get(s)||0)+1)}let n=Array.from(r.entries()).filter(([i,s])=>s>1).map(([i])=>i);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(t){let r=[];if(t?.children)for(let n of t.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(t,r){for(let n of t)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(t){return this.lifecycleData.has(t)||this.lifecycleData.set(t,new zte([])),this.lifecycleData.get(t)}createPipe(){return{pump:o(async t=>{await this.pumpData(t)},"pump")}}async pumpData(t){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(t,this.vTree)}async recursivelyPumpData(t,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(t);for(let n of r.children||[])await this.recursivelyPumpData(t,n)}},zte=class{static{o(this,"PromptElementLifecycleData")}constructor(t){this.state=t,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let t=this._updateTimeMs;return this._updateTimeMs=0,t}},Yte=class{constructor(t){this.lifecycleData=t;this.stateHook=new VM(t.state),this.dataHook=new jM(r=>{t._updateTimeMs=r})}static{o(this,"PromptElementLifecycle")}useState(t){return this.stateHook.useState(t)}useData(t,r){this.dataHook.useData(t,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function udt(e){return typeof e=="function"&&"isFragmentFunction"in e}o(udt,"isFragmentFunction");var zM=class e{static{o(this,"VirtualPrompt")}static async create(t){let r=new e;return await r.initialize(t),r}constructor(){this.reconciler=new $M}async initialize(t){await this.reconciler.initialize(t)}snapshotNode(t,r){if(!t)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let i of t.children??[]){let s=this.snapshotNode(i,r);if(s==="cancelled")return"cancelled";s!==void 0&&n.push(s)}return{value:t.props?.value?.toString(),name:t.name,path:t.path,props:t.props,children:n,statistics:{updateDataTimeMs:t.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}async snapshot(t){try{let r=await this.reconciler.reconcile(t);if(t?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,t);return n==="cancelled"||t?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};var gd=class{static{o(this,"CompletionsPromptFactory")}};function YM(e,t){return new Kte(new Jte(new Xte(e,t)))}o(YM,"createCompletionsPromptFactory");var Kte=class extends gd{constructor(r){super();this.delegate=r}static{o(this,"SequentialCompletionsPromptFactory")}prompt(r,n,i,s,a){return this.lastPromise=this.promptAsync(r,n,i,s,a),this.lastPromise}async promptAsync(r,n,i,s,a){if(await this.lastPromise,s?.isCancellationRequested)return Nw;try{return await this.delegate.prompt(r,n,i,s,a)}catch{return rre}}},ddt=1200,Jte=class extends gd{constructor(r){super();this.delegate=r;this.timeoutHandlingCreatePrompt=QM(this.delegate.prompt.bind(this.delegate),ddt,J8e)}static{o(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(r,n,i,s,a={}){return await this.timeoutHandlingCreatePrompt(r,n,i,s,a)}};function Qc(e){if(!e||typeof e!="object")return!1;let t=e;return!(!t.document||!t.position||t.position.line===void 0||t.position.character===void 0||!t.telemetryData)}o(Qc,"isCompletionRequestData");var Xte=class extends gd{constructor(r,n){super();this.ctx=r;this.renderer=new $Q;this.virtualPrompt=n}static{o(this,"ComponentsCompletionsPromptFactory")}async prompt(r,n,i,s,a={}){try{return await this.createPromptUnsafe(r,n,i,s,a)}catch(l){return this.errorPrompt(l)}}async createPromptUnsafe(r,n,i,s,a={}){let{maxPromptLength:l,suffixPercent:c,suffixMatchThreshold:u}=Fw(this.ctx,i,r.detectedLanguageId),f=await this.failFastPrompt(r,n,c??0,s);if(f)return f;let{virtualPrompt:m,pipe:h}=await this.getOrCreateVirtualPrompt(this.ctx),p=performance.now(),{traits:A,codeSnippets:E,turnOffSimilarFiles:x,resolvedContextItems:b}=await this.resolveContext(r,n,i,s,a);await this.updateComponentData(h,r,n,A,E,i,x,l??V3,s,a,u);let v=await m.snapshot(s),S=v.status;if(S==="cancelled")return Nw;if(S==="error")return this.errorPrompt(v.error);let B=await this.renderer.render(v.snapshot,{delimiter:`
`,tokenizer:vo(),promptTokenLimit:l,suffixPercent:c,languageId:r.detectedLanguageId},s);if(B.status==="cancelled")return Nw;if(B.status==="error")return this.errorPrompt(B.error);let[P,F]=ry(B.prefix),[G]=ry(B.prefixWithoutContext),re={...B,prefix:P,prefixWithoutContext:G},pe;if(LI(this.ctx,i)){let W=sve(B.metadata.componentStatistics);this.ctx.get(Fa).computeMatch(W),pe=WM(this.ctx,b)}let Z=performance.now();return this.resetIfEmpty(B),this.successPrompt(re,Z,p,F,pe)}async updateComponentData(r,n,i,s,a,l,c,u,f,m={},h){let p=this.createRequestData(n,i,l,f,m,u,s,a,c,h);await r.pump(p)}async resolveContext(r,n,i,s,a={}){let l=[],c,u,f=!1;if(LI(this.ctx,i)){l=await this.ctx.get(ma).resolveAllProviders({uri:r.uri,languageId:r.clientLanguageId,version:r.version,offset:r.offsetAt(n),position:a.positionBeforeApplyingEdits??n,proposedEdits:r.appliedEdits.length>0?r.appliedEdits:void 0},i,s,a.data);let h=l.filter(GM);!this.ctx.get(jt).includeNeighboringFiles(i)&&h.length>0&&(f=!0),c=await PM(this.ctx,h),u=await bQ(this.ctx,h,r.detectedLanguageId)}return{traits:c,codeSnippets:u,turnOffSimilarFiles:f,resolvedContextItems:l}}async failFastPrompt(r,n,i,s){if(s?.isCancellationRequested)return Nw;if((await this.ctx.get(Pa).evaluate(r.uri,r.getText(),"UPDATE")).isBlocked)return tre;if((i>0?r.getText().length:r.offsetAt(n))<Zte)return ere}async getOrCreateVirtualPrompt(r){return this.virtualPrompt||(this.virtualPrompt=await zM.create(this.completionsPrompt())),this.pipe||(this.pipe=this.virtualPrompt.createPipe()),{virtualPrompt:this.virtualPrompt,pipe:this.pipe}}completionsPrompt(){return Mn(T1,{children:[Mn(vIe,{ctx:this.ctx,weight:.7}),Mn(H8e,{weight:.6}),Mn(pve,{ctx:this.ctx,weight:.9}),Mn(G8e,{ctx:this.ctx,weight:.8}),Mn(bIe,{ctx:this.ctx,by:F8e,children:Mn(N8e,{ctx:this.ctx,weight:.99})}),Mn(dw,{weight:1})]})}createRequestData(r,n,i,s,a,l,c,u,f,m){return{document:r,position:n,telemetryData:i,cancellationToken:s,data:a.data,traits:c,codeSnippets:u,turnOffSimilarFiles:f,suffixMatchThreshold:m,maxPromptTokens:l}}resetIfEmpty(r){r.prefix.length===0&&r.suffix.length===0&&this.reset()}successPrompt(r,n,i,s,a){return{type:"prompt",prompt:{prefix:r.prefix,prefixTokens:r.prefixTokens,suffix:r.suffix,suffixTokens:r.suffixTokens,context:r.context,prefixWithoutContext:r.prefixWithoutContext,isFimEnabled:r.suffix.length>0,promptElementRanges:[]},computeTimeMs:n-i,trailingWs:s,promptChoices:new Dv,promptBackground:new Rv,neighborSource:new Map,metadata:r.metadata,contextProvidersTelemetry:a}}errorPrompt(r){return Lo(this.ctx,r,"PromptComponents.CompletionsPromptFactory"),this.reset(),rre}reset(){this.virtualPrompt=void 0,this.pipe=void 0}};function Y8e(e,t){return e.get(jt).promptComponentsEnabled(t)||ci(e,qt.EnablePromptComponents)?"components":"wishlist"}o(Y8e,"getPromptStrategy");function K8e(e){try{vo()}catch(t){yQ(e,t,"heatUpTokenizer")}}o(K8e,"tryHeatingUpTokenizer");var nre=require("node:perf_hooks");var Zte=10,ere={type:"contextTooShort"},tre={type:"copilotContentExclusion"},rre={type:"promptError"},Nw={type:"promptCancelled"},J8e={type:"promptTimeout"};async function mdt(e,t,r,n,i,s,a,l,c,u,f,m,h={}){let p={uri:s.toString(),source:t,offset:r,relativePath:i,languageId:a},A=Fw(e,f,a),E=[],x=new Map,b=new Map,v=[],S=[],B=[],P=[],F=!1;try{if(LI(e,f)){S=await e.get(ma).resolveAllProviders({uri:s,languageId:l,version:c,offset:r,position:h.positionBeforeApplyingEdits??n,proposedEdits:u.length>0?u:void 0},f,m,h.data);let Z=S.filter(GM);!e.get(jt).includeNeighboringFiles(f)&&Z.length>0&&(F=!0),P=await PM(e,Z),B=await bQ(e,Z,a)}let re=F?_p.defaultEmptyResult():await _p.getNeighborFilesAndTraits(e,s,a,f,m,h.data);x=re.docs,b=re.neighborSource,v=re.traits.concat(L8e(P)).filter(pe=>pe.includeInPrompt).map(FM)}catch(re){Lo(e,re,"prompt.getPromptForSource.exception")}try{let re={currentFile:p,similarFiles:Array.from(x.values()),traits:v,tooltipSignature:h.selectedCompletionInfo?.tooltipSignature,options:new bT(A,a),codeSnippets:vQ(e,B)},Z=await e.get(Rm).getSnippets(re),W=tX(Z),q=rX(Z),{runtimes:se,timeouts:ne}=nX(Z);f.extendWithConfigProperties(e),f.sanitizeKeys();let H=xs(f);x.size>0?Av(e,"prompt.stat",{...H,neighborFilesTimeout:`${ne["similar-files"]}`},{neighborFilesRuntimeMs:se["similar-files"]}):Av(e,"prompt.stat",{...H},{});for(let O of q)O.error instanceof y1||Lo(e,O.error,"getSnippets");E.push(...W)}catch(re){throw Lo(e,re,"prompt.orchestrator.getSnippets.exception"),re}let G;try{G=await pp.getPrompt(p,A,E),LI(e,f)&&(e.get(Fa).computeMatchWithPrompt(G.prefix+`
`+G.suffix),G.contextProvidersTelemetry=WM(e,S))}catch(re){throw Lo(e,re,"prompt.getPromptForSource.exception"),re}return{neighborSource:b,...G}}o(mdt,"getPromptForSource");function ry(e){let t=e.split(`
`),r=t[t.length-1],n=r.length-r.trimEnd().length,i=e.slice(0,e.length-n),s=e.slice(i.length);return[r.length==n?i:e,s]}o(ry,"trimLastLine");async function X8e(e,t,r,n,i,s,a,l,c,u,f,m,h={}){if((await e.get(Pa).evaluate(s,t,"UPDATE")).isBlocked)return tre;let p=e.get(jt).suffixPercent(f);if((p>0?t.length:r)<Zte)return ere;let E=nre.performance.now(),{prefix:x,suffix:b,prefixLength:v,suffixLength:S,promptChoices:B,promptBackground:P,promptElementRanges:F,neighborSource:G,contextProvidersTelemetry:re}=await mdt(e,t,r,n,i,s,a,l,c,u,f,m,h),[pe,Z]=ry(x),W=nre.performance.now();return{type:"prompt",prompt:{prefix:pe,suffix:b,prefixTokens:v,suffixTokens:S,isFimEnabled:p>0&&b.length>0,promptElementRanges:F.ranges},trailingWs:Z,promptChoices:B,computeTimeMs:W-E,promptBackground:P,neighborSource:G,contextProvidersTelemetry:re}}o(X8e,"extractPromptForSource");async function Z8e(e,t,r,n,i="wishlist",s,a={}){let l=e.get(Or).getRelativePath(t);return i==="components"?(n.extendWithConfigProperties(e),n.sanitizeKeys(),e.get(gd).prompt(t,r,n,s,a)):X8e(e,t.getText(),t.offsetAt(r),r,l,t.uri,t.detectedLanguageId,t.clientLanguageId,t.version,t.appliedEdits,n,s,a)}o(Z8e,"extractPromptForDocument");function hdt(e,t){let r=e.document.detectedLanguageId,n=e.document.getText();return r===t?n:Gs(n,t)}o(hdt,"addNeighboringCellsToPrompt");async function pdt(e,t,r,n,i,s="wishlist",a,l={}){let c=r.getCellFor(t);if(c){let f=r.getCells().filter(A=>A.index<c.index&&LM(c.document.detectedLanguageId,A.document.detectedLanguageId)),m=f.length>0?f.map(A=>hdt(A,c.document.detectedLanguageId)).join(`

`)+`

`:"",h=m+t.getText(),p=m.length+t.offsetAt(n);if(s==="components"){i.extendWithConfigProperties(e),i.sanitizeKeys();let A=e.get(gd),E=H0.create(t.uri,c.document.clientLanguageId,c.document.version,h,c.document.detectedLanguageId),x=E.positionAt(p);return A.prompt(E,x,i,a,l)}return X8e(e,h,p,n,void 0,t.uri,c.document.detectedLanguageId,c.document.clientLanguageId,c.document.version,c.document.appliedEdits,i,a,l)}else return Z8e(e,t,n,i,s,a,l)}o(pdt,"extractPromptForNotebook");function QI(e,t,r,n,i,s={}){let l=e.get(Or).findNotebook(t),c=Y8e(e,n);return l===void 0?Z8e(e,t,r,n,c,i,s):pdt(e,t,l,r,n,c,i,s)}o(QI,"extractPrompt");function Fw(e,t,r){let i=e.get(jt).maxPromptCompletionTokens(t)-GL(e),s=ive(t,r),a=AQ(e,t,r),l=e.get(jt).promptOrderListPreset(t),c=e.get(jt).promptPriorityPreset(t),u={maxPromptLength:i,similarFilesOptions:a,numberOfSnippets:s,promptOrderListPreset:l,promptPriorityPreset:c},f=e.get(jt).suffixPercent(t),m=e.get(jt).suffixMatchThreshold(t);return f>0&&m>0&&(u={...u,suffixPercent:f,suffixMatchThreshold:m}),u}o(Fw,"getPromptOptions");d();d();var e6e=2.98410452738298,t6e=-.838732736843507,r6e=1.50314646255716,n6e=-.237798634012662,KM={python:.314368072478742},i6e={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var gdt={link:o(e=>Math.exp(e)/(1+Math.exp(e)),"link"),unlink:o(e=>Math.log(e/(1-e)),"unlink")};function Adt(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),s=t.get(n);return s+(i-s)*(e-n)/(r-n)}o(Adt,"linearInterpolation");var MI=class{static{o(this,"Regressor")}constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}},ire=class{constructor(t,r,n){this.link=gdt;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}static{o(this,"LogisticRegression")}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let s=r[i.name];if(s===void 0)return NaN;n+=i.contribution(s)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return Adt(n,this.logitsToQuantiles)}},o6e=new ire(e6e,[new MI("compCharLen",t6e,e=>Math.log(1+e)),new MI("meanLogProb",r6e),new MI("meanAlternativeLogProb",n6e)].concat(Object.entries(KM).map(e=>new MI(e[0],e[1]))),i6e);function s6e(e,t){let r={...t.measurements};return Object.keys(KM).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),o6e.predict(e,r)}o(s6e,"ghostTextScoreConfidence");function a6e(e,t){let r={...t.measurements};return Object.keys(KM).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),o6e.quantile(e,r)}o(a6e,"ghostTextScoreQuantile");d();d();var ydt=[{max_token_sequence_length:1,last_tokens_to_consider:10},{max_token_sequence_length:10,last_tokens_to_consider:30},{max_token_sequence_length:20,last_tokens_to_consider:45},{max_token_sequence_length:30,last_tokens_to_consider:60}];function JM(e){let t=e.slice();return t.reverse(),l6e(t)||l6e(t.filter(r=>r.trim().length>0))}o(JM,"isRepetitive");function l6e(e){let t=Cdt(e);for(let r of ydt){if(e.length<r.last_tokens_to_consider)continue;if(r.last_tokens_to_consider-1-t[r.last_tokens_to_consider-1]<=r.max_token_sequence_length)return!0}return!1}o(l6e,"isRepeatedPattern");function Cdt(e){let t=Array(e.length).fill(0);t[0]=-1;let r=-1;for(let n=1;n<e.length;n++){for(;r>=0&&e[r+1]!==e[n];)r=t[r];e[r+1]===e[n]&&r++,t[n]=r}return t}o(Cdt,"kmp_prefix_function");function Edt(e,t,r,n){let i="}";try{i=pp.getBlockCloseToken(t.languageId)??"}"}catch{}return xdt({getLineText:o(s=>t.lineAt(s).text,"getLineText"),getLineCount:o(()=>t.lineCount,"getLineCount")},r,n,i)}o(Edt,"maybeSnipCompletion");function xdt(e,t,r,n){let i=bdt(r),s=i.lines;if(s.length===1)return r;for(let a=1;a<s.length;a++){let l=!0,c=0,u=0;for(let f=0;f+a+u<s.length;f++){let m;for(;;){let E=t.line+1+f+c;if(m=E>=e.getLineCount()?void 0:e.getLineText(E),m!==void 0&&m.trim()==="")c++;else break}let h,p;for(;h=a+f+u,p=h>=s.length?void 0:s[h],p!==void 0&&p.trim()==="";)u++;let A=h===s.length-1;if(!p||!(m&&(A?m.startsWith(p)||p.startsWith(m):m===p&&p.trim()===n))){l=!1;break}}if(l)return s.slice(0,a).join(i.newLineCharacter)}return r}o(xdt,"maybeSnipCompletionImpl");function bdt(e){let t=e.includes(`\r
`)?`\r
`:`
`;return{lines:e.split(t),newLineCharacter:t}}o(bdt,"splitByNewLine");function vdt(e,t,r,n){let i="",s=t.line+1,a=n?r.trim():r;for(;i===""&&s<e.lineCount;){if(i=e.lineAt(s).text,n&&(i=i.trim()),i===a)return!0;s++}return!1}o(vdt,"matchesNextLine");function XM(e,t,r,n,i,s){if(JM(n.tokens)){let l=nn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),er(e,"repetition.detected",l,1),s.info(e,"Filtered out repetitive solution");return}let a={...n};if(vdt(t,r,a.completionText,!i)){let l=nn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),er(e,"completion.alreadyInDocument",l),er(e,"completion.alreadyInDocument",l.extendedBy({completionTextJson:JSON.stringify(a.completionText)}),1),s.info(e,"Filtered out solution matching next line");return}return a.completionText=Edt(e,t,r,a.completionText),a.completionText?a:void 0}o(XM,"postProcessChoiceInContext");function c6e(e,t,r){let i=e.lineAt(t.line).text.substring(t.character);if(i.length>0){if(r.completionText.indexOf(i)!==-1)return i.length;{let s=-1,a=0;for(let l of i){let c=r.completionText.indexOf(l,s+1);if(c>s)a++,s=c;else break}return a}}return 0}o(c6e,"checkSuffix");var u6e=nt(H2());var to=new Cr("ghostText");async function f6e(e,t,r,n,i,s,a){to.debug(e,`Getting ${s} from network`),r=r.extendedBy();let l=await _dt(e,t,r),c=tI(e,l),u={stream:!0,n:l,temperature:c,extra:{language:t.languageId,next_indent:t.indentation.next??0,trim_by_indentation:I3e(t.blockMode),prompt_tokens:t.prompt.prefixTokens??0,suffix_tokens:t.prompt.suffixTokens??0}};t.multiline||(u.stop=[`
`]);let f=Date.now(),m={endpoint:"completions",uiKind:"ghostText",temperature:JSON.stringify(c),n:JSON.stringify(l),stop:JSON.stringify(u.stop)??"unset",logit_bias:JSON.stringify(u.logit_bias??null)};Object.assign(r.properties,m);try{let h={prompt:t.prompt,languageId:t.languageId,repoInfo:t.repoInfo,ourRequestId:t.ourRequestId,engineModelId:t.engineModelId,count:l,uiKind:"ghostText",postOptions:u,headers:t.headers},p=await e.get(ld).fetchAndStreamCompletions(e,h,r,i,n);return p.type==="failed"?{type:"failed",reason:p.reason,telemetryData:xs(r)}:p.type==="canceled"?(to.debug(e,"Cancelled after awaiting fetchCompletions"),{type:"canceled",reason:p.reason,telemetryData:cd(r)}):a(l,f,p.getProcessingTime(),p.choices)}catch(h){if(hu(h))return{type:"canceled",reason:"network request aborted",telemetryData:cd(r,{cancelledNetworkRequest:!0})};if(to.exception(e,h,"Error on ghost text request"),e.get(_c).notifyUser(e,h),ov(e))throw h;return{type:"failed",reason:"non-abort error on ghost text request",telemetryData:xs(r)}}}o(f6e,"genericGetCompletionsFromNetwork");function ore(e,t,r){if(r||(r=[]),e.completionText=e.completionText.trimEnd(),!!e.completionText&&r.findIndex(n=>n.completionText.trim()===e.completionText.trim())===-1)return t.requestForNextLine&&(e.completionText=`
`+e.completionText),e}o(ore,"postProcessChoices");async function wdt(e,t,r,n,i){return f6e(e,t,r,n,i,"completions",async(s,a,l,c)=>{let f=await c[Symbol.asyncIterator]().next();if(f.done)return to.debug(e,"All choices redacted"),{type:"empty",reason:"all choices redacted",telemetryData:xs(r)};if(n?.isCancellationRequested)return to.debug(e,"Cancelled after awaiting redactedChoices iterator"),{type:"canceled",reason:"after awaiting redactedChoices iterator",telemetryData:cd(r)};let m=f.value;if(m===void 0)return to.debug(e,"Got undefined choice from redactedChoices iterator"),{type:"empty",reason:"got undefined choice from redactedChoices iterator",telemetryData:xs(r)};m6e(e,"performance",m,a,l),to.debug(e,`Awaited first result, id:  ${m.choiceIndex}`);let h=ore(m,t);h&&(sre(e,t,{multiline:t.multiline,choices:[h]}),to.debug(e,`GhostText first completion (index ${h?.choiceIndex}): ${JSON.stringify(h?.completionText)}`));let p=(async()=>{let A=h!==void 0?[h]:[];for await(let E of c){if(E===void 0)continue;to.debug(e,`GhostText later completion (index ${E?.choiceIndex}): ${JSON.stringify(E.completionText)}`);let x=ore(E,t,A);x&&(A.push(x),sre(e,t,{multiline:t.multiline,choices:[x]}))}})();return vm(e)&&await p,h?{type:"success",value:[are(h,{forceSingleLine:!1}),p],telemetryData:xs(r),telemetryBlob:r,resultType:0}:{type:"empty",reason:"got undefined processedFirstChoice",telemetryData:xs(r)}})}o(wdt,"getCompletionsFromNetwork");async function Sdt(e,t,r,n,i){return f6e(e,t,r,n,i,"all completions",async(s,a,l,c)=>{let u=[];for await(let f of c){if(n?.isCancellationRequested)return to.debug(e,"Cancelled after awaiting choices iterator"),{type:"canceled",reason:"after awaiting choices iterator",telemetryData:cd(r)};let m=ore(f,t,u);m&&u.push(m)}return u.length>0&&(sre(e,t,{multiline:t.multiline,choices:u}),m6e(e,"cyclingPerformance",u[0],a,l)),{type:"success",value:[u,Promise.resolve()],telemetryData:xs(r),telemetryBlob:r,resultType:3}})}o(Sdt,"getAllCompletionsFromNetwork");function are(e,t){let r={...e};if(t.forceSingleLine){let{completionText:n}=r;n?.[0]===`
`?r.completionText=`
`+n.split(`
`)[1]:r.completionText=n.split(`
`)[0]}return r}o(are,"makeGhostAPIChoice");async function _dt(e,t,r){let n=e.get(jt).overrideNumGhostCompletions(r);return n?t.isCycling?Math.max(3,n):n:v3e(t.blockMode)&&t.multiline?3:t.isCycling?2:1}o(_dt,"getNumGhostCompletions");async function kdt(e,t,r,n,i,s,a,l,c){let u=await e.get(Dm).forLanguage(e,t.languageId,c);switch(u){case"server":return{blockMode:"server",requestMultiline:!0,isCyclingRequest:i,finishedCb:o(async f=>{},"finishedCb")};case"parsing":case"parsingandserver":case"moremultiline":default:{let f=await Odt(e,u,t,r,s,a,l,n);if(f.requestMultiline){let m;return n.trailingWs.length>0&&!n.prompt.prefix.endsWith(n.trailingWs)?m=so.position(r.line,Math.max(r.character-n.trailingWs.length,0)):m=r,{blockMode:u,requestMultiline:!0,isCyclingRequest:!1,finishedCb:Bdt(e,u,t,m,f.blockPosition,l)}}return{blockMode:u,requestMultiline:!1,isCyclingRequest:i,finishedCb:o(async m=>{},"finishedCb")}}}}o(kdt,"getGhostTextStrategy");function Bdt(e,t,r,n,i,s){if(t==="moremultiline"&&L5.isSupported(r.languageId)){let a=r.getText(so.range(so.position(0,0),n))+(s?`
`:"");if(ci(e,qt.TrimCompletionsAggressively)!==!1){let l=3;return(i==="empty-block"||i==="block-end")&&(l=7),async function(c){return await new $L(r.languageId,a,c,3,l).getCompletionTrimOffset()}}else return async function(l){return await new jL(r.languageId,a,l).getCompletionTrimOffset()}}return sw(e,r,n,s)}o(Bdt,"multilineFinishedCallback");var Rdt=new VL,Ddt={isCycling:!1,promptOnly:!1,isSpeculative:!1};async function Pdt(e,t,r,n,i,s,a){let l={...Ddt,...a},c=e.get(Ad),u=c.clientCompletionId,f=e.get(jt);if(s?.isCancellationRequested)return{type:"abortedBeforeIssued",reason:"cancelled before extractPrompt",telemetryData:xs(i)};let m=Ndt(t,r);if(m===void 0)return to.debug(e,"Breaking, invalid middle of the line"),{type:"abortedBeforeIssued",reason:"Invalid middle of the line",telemetryData:xs(i)};let h=e.get(Qm).isEnabled(i)?e.get(Qm):void 0,p=s,A=new Jn.CancellationTokenSource;h&&(s=A.token);let E=await QI(e,t,r,i,s,l);return E.type==="copilotContentExclusion"?(to.debug(e,"Copilot not available, due to content exclusion"),{type:"abortedBeforeIssued",reason:"Copilot not available due to content exclusion",telemetryData:xs(i)}):E.type==="contextTooShort"?(to.debug(e,"Breaking, not enough context"),{type:"abortedBeforeIssued",reason:"Not enough context",telemetryData:xs(i)}):E.type==="promptError"?(to.debug(e,"Error while building the prompt"),{type:"abortedBeforeIssued",reason:"Error while building the prompt",telemetryData:xs(i)}):l.promptOnly?{type:"promptOnly",reason:"Breaking, promptOnly set to true",prompt:E}:E.type==="promptCancelled"?(to.debug(e,"Cancelled during extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled during extractPrompt",telemetryData:xs(i)}):E.type==="promptTimeout"?(to.debug(e,"Timeout during extractPrompt"),{type:"abortedBeforeIssued",reason:"Timeout",telemetryData:xs(i)}):E.prompt.prefix.length===0&&E.prompt.suffix.length===0?(to.debug(e,"Error empty prompt"),{type:"abortedBeforeIssued",reason:"Empty prompt",telemetryData:xs(i)}):s?.isCancellationRequested?(to.debug(e,"Cancelled after extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled after extractPrompt",telemetryData:xs(i)}):e.get(Ki).withProgress(async()=>{let[b]=ry(t.getText(so.range(so.position(0,0),r))),v=f.triggerCompletionAfterAccept(i),S=e.get(Ad).hasAcceptedCurrentCompletion(b,E.prompt.suffix),B=v?S:void 0,P=E.prompt;B&&(E.prompt={...E.prompt,prefix:E.prompt.prefix+`
`,prefixWithoutContext:E.prompt.prefixWithoutContext+`
`});let F=await kdt(e,t,r,E,l.isCycling,m,S,B??!1,i);if(s?.isCancellationRequested)return to.debug(e,"Cancelled after requestMultiline"),{type:"abortedBeforeIssued",reason:"Cancelled after requestMultiline",telemetryData:xs(i)};let G=Fdt(e,b,P,F.requestMultiline),re=E5(e,t.uri),pe=C5(e,i),Z={blockMode:F.blockMode,languageId:t.languageId,repoInfo:re,engineModelId:pe.modelId,ourRequestId:n,prefix:b,prompt:E.prompt,multiline:F.requestMultiline,indentation:aw(t,r),isCycling:l.isCycling,headers:pe.headers,requestForNextLine:B};Z.headers={...Z.headers,"X-Copilot-Async":h?"true":"false","X-Copilot-Speculative":l.isSpeculative?"true":"false"};let W=jdt(e,t,Z,r,E,i,pe,l),q=ci(e,qt.EnableSpeculativeRequests),se=f.enableSpeculativeRequests(i),ne=(q??se)&&!l.isSpeculative&&!F.isCyclingRequest,H=Promise.resolve();if(h&&G===void 0&&!F.isCyclingRequest&&h.shouldWaitForAsyncCompletions(b,E.prompt)){let ae=await h.getFirstMatchingRequestWithTimeout(n,b,E.prompt,l.isSpeculative,W);if(ae){let ce=!F.requestMultiline;G=[[are(ae[0],{forceSingleLine:ce})],4],H=ae[1]}if(p?.isCancellationRequested)return to.debug(e,"Cancelled before requesting a new completion"),{type:"abortedBeforeIssued",reason:"Cancelled after waiting for async completion",telemetryData:xs(W)}}if(G!==void 0&&(!F.isCyclingRequest||G[0].length>1))to.debug(e,`Found inline suggestions locally via ${nw(G[1])}`);else if(F.isCyclingRequest){let ae=await Sdt(e,Z,W,s,F.finishedCb);if(ae.type==="success"){let ce=G?.[0]??[];ae.value[0].forEach(Re=>{ce.findIndex(ve=>ve.completionText.trim()===Re.completionText.trim())===-1&&ce.push(Re)}),G=[ce,3]}else if(G===void 0)return ae}else{let ce=f.debounceThreshold(i)??(pe.modelId.startsWith("gpt-4o")||pe.modelId.startsWith("chat-")?0:75);if(!(h!==void 0||Z.requestForNextLine===!0||ce===0)){try{await Rdt.debounce(ce)}catch{return{type:"canceled",reason:"by debouncer",telemetryData:cd(W)}}if(s?.isCancellationRequested)return to.debug(e,"Cancelled during debounce"),{type:"canceled",reason:"during debounce",telemetryData:cd(W)}}if(s?.isCancellationRequested)return to.debug(e,"Cancelled before contextual filter"),{type:"canceled",reason:"before contextual filter",telemetryData:cd(W)};if(!f.disableContextualFilter(i)&&W.measurements.contextualFilterScore<35/100)return to.debug(e,"Cancelled by contextual filter"),{type:"canceled",reason:"contextualFilterScore below threshold",telemetryData:cd(W)};let ve=h?(ke,Je)=>(h.updateCompletion(n,ke),F.finishedCb(ke,Je)):F.finishedCb,Ue=wdt(e,Z,W,s,ve);if(h){h.queueCompletionRequest(n,b,E.prompt,A,Ue);let ke=await h.getFirstMatchingRequest(n,b,E.prompt,l.isSpeculative);if(ke===void 0)return{type:"empty",reason:"received no results from async completions",telemetryData:xs(W)};G=[[ke[0]],4],H=ke[1]}else{let ke=await Ue;if(ke.type!=="success")return ke;G=[[ke.value[0]],0],H=ke.value[1]}}if(G===void 0)return{type:"failed",reason:"internal error: choices should be defined after network call",telemetryData:xs(W)};let[O,j]=G,J=F.blockMode==="moremultiline"&&L5.isSupported(t.languageId),le=O.map(ae=>XM(e,t,r,ae,J,to)).filter(ae=>ae!==void 0),ee=[];for(let ae of le){let ce=Vdt(e,t,Z,ae,W),Re=m?c6e(t,r,ae):0,Ue={completion:qdt(ae.choiceIndex,ae.completionText,E.trailingWs),telemetry:ce,isMiddleOfTheLine:m,suffixCoverage:Re,copilotAnnotations:ae.copilotAnnotations};ee.push(Ue)}if(p?.isCancellationRequested)return to.debug(e,"Cancelled after post processing completions"),{type:"canceled",reason:"after post processing completions",telemetryData:cd(W)};if(W.properties.clientCompletionId=ee?.[0]?.telemetry?.properties.clientCompletionId,W.measurements.foundOffset=ee?.[0]?.telemetry?.measurements?.foundOffset??-1,to.debug(e,`Produced ${ee.length} results from ${nw(j)} at ${W.measurements.foundOffset} offset`),ne&&ee.length>0){let ae=oI(t,r,[{newText:ee[0].completion.completionText,range:{start:r,end:r}}]),ce=new Jn.CancellationTokenSource().token;H.then(()=>{lre(e,ae.textDocument,ae.position,ce,{positionBeforeApplyingEdits:l.positionBeforeApplyingEdits,isSpeculative:!0,opportunityId:l.opportunityId})})}if(u!==c.clientCompletionId){let ae=c.getCompletionsForUserTyping(b,E.prompt.suffix);if(ae&&ae.length>0)return to.debug(e,"Current completion changed before returning"),{type:"canceled",reason:"current completion changed before returning",telemetryData:cd(W)}}return l.isSpeculative||c.setGhostText(b,E.prompt.suffix,le,j),{type:"success",value:[ee,j],telemetryData:xs(W),telemetryBlob:W,resultType:j}})}o(Pdt,"getGhostTextWithoutAbortHandling");async function lre(e,t,r,n,i){let s=xr(),a=await Hdt(e,t,s,i);try{return await Pdt(e,t,r,s,a,n,i)}catch(l){if(hu(l))return{type:"canceled",reason:"aborted at unknown location",telemetryData:cd(a,{cancelledNetworkRequest:!0})};throw l}}o(lre,"getGhostText");function Fdt(e,t,r,n){let i=e.get(Ad).getCompletionsForUserTyping(t,r.suffix),s=Gdt(e,t,r,n);if(i&&i.length>0){let a=(s??[]).filter(l=>!i.some(c=>c.completionText===l.completionText));return[i.concat(a),2]}if(s&&s.length>0)return[s,1]}o(Fdt,"getLocalInlineSuggestion");function Ndt(e,t){let r=Ldt(t,e),n=Qdt(t,e);return r&&!n?void 0:r&&n}o(Ndt,"isInlineSuggestion");function Ldt(e,t){return t.lineAt(e).text.substr(e.character).trim().length!=0}o(Ldt,"isMiddleOfTheLine");function Qdt(e,t){let n=t.lineAt(e).text.substr(e.character).trim();return/^\s*[)>}\]"'`]*\s*[:{;,]?\s*$/.test(n)}o(Qdt,"isValidMiddleOfTheLinePosition");function Mdt(e,t){return t.lineAt(e).text.trim().length===0}o(Mdt,"isNewLine");var M1=class e{constructor(t=!1){this.requestMultilineOverride=t}static{o(this,"ForceMultiLine")}static{this.default=new e}};async function Odt(e,t,r,n,i,s,a,l){if(e.get(M1).requestMultilineOverride)return{requestMultiline:!0};if(r.lineCount>=8e3)er(e,"ghostText.longFileMultilineSkip",nn.createAndMarkAsIssued({languageId:r.languageId,lineCount:String(r.lineCount),currentLine:String(n.line)}));else{if(t=="moremultiline"&&L5.isSupported(r.languageId)){let f=await cxe(r,n);return s||f==="empty-block"?{requestMultiline:!0,blockPosition:f}:{requestMultiline:!1,blockPosition:f}}if(a){let f=aw(r,n),m=f.current>0?r.lineAt(n).text[0]:void 0,h={range:{start:n,end:n},newText:`
`+(m?m.repeat(f.current):"")};r=r.applyEdits([h])}if(["typescript","typescriptreact"].includes(r.languageId)&&Mdt(n,r))return{requestMultiline:!0};let u=!1;return!i&&Pu(r.languageId)?u=await iQ(r,n):i&&Pu(r.languageId)&&(u=await iQ(r,n)||await iQ(r,r.lineAt(n).range.end)),u||["javascript","javascriptreact","python"].includes(r.languageId)&&(u=mxe(l.prompt,r.languageId)>.5),{requestMultiline:u}}return{requestMultiline:!1}}o(Odt,"shouldRequestMultiline");function sre(e,t,r){let n={...t.prompt};t.requestForNextLine&&(n.prefix=n.prefix.slice(0,-1));let i=k$(n),s=e.get(Uu).get(i);s&&s.multiline===r.multiline?e.get(Uu).set(i,{multiline:s.multiline,choices:s.choices.concat(r.choices)}):e.get(Uu).set(i,r),to.debug(e,`Appended ${r.choices.length} cached ghost text for key: ${i}, multiline: ${r.multiline}, total number of suggestions: ${(s?.choices.length??0)+r.choices.length}`)}o(sre,"appendToCache");function Udt(e,t,r){let n=e.get(Uu).get(t);if(n&&!(r&&!n.multiline))return n.choices}o(Udt,"getCachedChoices");function qdt(e,t,r){if(r.length>0){if(t.startsWith(r))return{completionIndex:e,completionText:t,displayText:t.substring(r.length),displayNeedsWsOffset:!1};{let n=t.substring(0,t.length-t.trimStart().length);return r.startsWith(n)?{completionIndex:e,completionText:t,displayText:t.trimStart(),displayNeedsWsOffset:!0}:{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}}else return{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}o(qdt,"adjustLeadingWhitespace");var Wdt=50;function Gdt(e,t,r,n){for(let i=0;i<Wdt;i++){let s=[],a=r.prefix.substring(0,r.prefix.length-i),l=k$({prefix:a,suffix:r.suffix}),c=Udt(e,l,n);if(!c)continue;to.debug(e,`Got completions from cache at ${i} characters back for key: ${l}, multiline: ${n}`);let u=r.prefix.substring(a.length);for(let f of c){let m=f.completionText;if(!m.startsWith(u)||m.length<=u.length)continue;m=m.substring(u.length);let h=are({...f,completionText:m},{forceSingleLine:!n});h.telemetryData.measurements.foundOffset=i,h.completionText!==""&&s.push(h)}if(to.debug(e,`Found ${s.length} matching completions from cache at ${i} characters back`),s.length>0)return s}return[]}o(Gdt,"getCompletionsFromCache");async function Hdt(e,t,r,n){let i={headerRequestId:r};n?.opportunityId&&(i.opportunityId=n.opportunityId),n?.selectedCompletionInfo?.text&&(i.completionsActive="true"),n?.isSpeculative&&(i.reason="speculative");let s=nn.createAndMarkAsIssued(i);return await e.get(jt).updateExPValuesAndAssignments({uri:t.uri,languageId:t.detectedLanguageId},s)}o(Hdt,"createTelemetryWithExp");function Vdt(e,t,r,n,i){let s=n.requestId,a={choiceIndex:n.choiceIndex.toString(),clientCompletionId:n.clientCompletionId},l=n.completionText.split(`
`).length,c={compCharLen:n.completionText.length,numLines:r.requestForNextLine?l-1:l};n.meanLogProb&&(c.meanLogProb=n.meanLogProb),n.meanAlternativeLogProb&&(c.meanAlternativeLogProb=n.meanAlternativeLogProb);let u=n.telemetryData.extendedBy(a,c);return u.issuedTime=i.issuedTime,u.measurements.timeToProduceMs=performance.now()-i.issuedTime,d6e(u,t),u.extendWithRequestId(s),u.measurements.confidence=s6e(e,u),u.measurements.quantile=a6e(e,u),to.debug(e,`Extended telemetry for ${n.telemetryData.properties.headerRequestId} with retention confidence ${u.measurements.confidence} (expected as good or better than about ${u.measurements.quantile} of all suggestions)`),u}o(Vdt,"telemetryWithAddData");function jdt(e,t,r,n,i,s,a,l){let c={languageId:t.languageId};r.requestForNextLine!==void 0&&(c.requestForNextLine=r.requestForNextLine.toString()),c.isSpeculative=l.isSpeculative.toString();let u=s.extendedBy(c);d6e(u,t);let f=r.repoInfo;u.properties.gitRepoInformation=f===void 0?"unavailable":f===0?"pending":"available",f!==void 0&&f!==0&&(u.properties.gitRepoUrl=f.url,u.properties.gitRepoHost=f.hostname,u.properties.gitRepoOwner=f.owner,u.properties.gitRepoName=f.repo,u.properties.gitRepoPath=f.pathname),u.properties.engineName=a.modelId,u.properties.engineChoiceSource=a.engineChoiceSource,u.properties.isMultiline=JSON.stringify(r.multiline),u.properties.isCycling=JSON.stringify(r.isCycling);let m=t.lineAt(n.line),h=t.getText(so.range(m.range.start,n)),p=t.getText(so.range(n,m.range.end)),A=Array.from(i.neighborSource.entries()).map(v=>[v[0],v[1].map(S=>(0,u6e.SHA256)(S).toString())]),E={beforeCursorWhitespace:JSON.stringify(h.trim()===""),afterCursorWhitespace:JSON.stringify(p.trim()===""),promptChoices:JSON.stringify(i.promptChoices,(v,S)=>S instanceof Map?Array.from(S.entries()).reduce((B,[P,F])=>({...B,[P]:F}),{}):S),promptBackground:JSON.stringify(i.promptBackground,(v,S)=>S instanceof Map?Array.from(S.values()):S),neighborSource:JSON.stringify(A),blockMode:r.blockMode},x={...gv(i.prompt),promptEndPos:t.offsetAt(n),promptComputeTimeMs:i.computeTimeMs};i.metadata&&(E.promptMetadata=JSON.stringify(i.metadata)),i.contextProvidersTelemetry&&(E.contextProviders=JSON.stringify(i.contextProvidersTelemetry));let b=u.extendedBy(E,x);return b.measurements.contextualFilterScore=lxe(e,b,i.prompt),er(e,"ghostText.issued",b),u}o(jdt,"telemetryIssued");function d6e(e,t){e.measurements.documentLength=t.getText().length,e.measurements.documentLineCount=t.lineCount}o(d6e,"addDocumentTelemetry");function m6e(e,t,r,n,i){let s=Date.now()-n,a=s-i,l=r.telemetryData.extendedBy({},{completionCharLen:r.completionText.length,requestTimeMs:s,processingTimeMs:i,deltaMs:a,meanLogProb:r.meanLogProb||NaN,meanAlternativeLogProb:r.meanAlternativeLogProb||NaN});l.extendWithRequestId(r.requestId),er(e,`ghostText.${t}`,l)}o(m6e,"telemetryPerformance");var Ad=class{constructor(){this.choices=[]}static{o(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(t,r,n,i){i!==2&&(this.prefix=t,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(t,r){let n=this.getRemainingPrefix(t,r);if(n!==void 0&&h6e(this.choices[0].completionText,n))return $dt(this.choices,n)}hasAcceptedCurrentCompletion(t,r){let n=this.getRemainingPrefix(t,r);return n===void 0?!1:n===this.choices?.[0].completionText}getRemainingPrefix(t,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&t.startsWith(this.prefix))return t.substring(this.prefix.length)}};function $dt(e,t){return e.filter(r=>h6e(r.completionText,t)).map(r=>({...r,completionText:r.completionText.substring(t.length)}))}o($dt,"adjustChoicesStart");function h6e(e,t){return e.startsWith(t)&&e.length>t.length}o(h6e,"startsWithAndExceeds");d();d();d();var L4=class{constructor(t,r,n){this._referenceCount=0;this._isDisposed=!1;this._offset=n;let i=t.get(Or);this._tracker=i.onDidChangeTextDocument(async s=>{if(s.document.uri===r){for(let a of s.contentChanges)if(a.rangeOffset+a.rangeLength<=this.offset){let l=a.text.length-a.rangeLength;this._offset=this._offset+l}}})}static{o(this,"ChangeTracker")}get offset(){return this._offset}push(t,r){if(this._isDisposed)throw new Error("Unable to push new actions to a disposed ChangeTracker");this._referenceCount++,setTimeout(()=>{t(),this._referenceCount--,this._referenceCount===0&&(this._tracker.dispose(),this._isDisposed=!0)},r)}};d();function cre(e,t,r=(n,i)=>n===i?0:1){if(t.length===0||e.length===0)return{distance:t.length,startOffset:0,endOffset:0};let n=new Array(t.length+1).fill(0),i=new Array(t.length+1).fill(0),s=new Array(e.length+1).fill(0),a=new Array(e.length+1).fill(0),l=t[0];for(let u=0;u<e.length+1;u++)u===0?n[u]=1:n[u]=r(e[u-1],l,u-1,0),i[u]=u>0?u-1:0;for(let u=1;u<t.length;u++){let f=s;s=n,n=f,f=a,a=i,i=f,l=t[u],n[0]=u+1;for(let m=1;m<e.length+1;m++){let h=1+s[m],p=1+n[m-1],A=r(e[m-1],l,m-1,u)+s[m-1];n[m]=Math.min(p,h,A),n[m]===A?i[m]=a[m-1]:n[m]===h?i[m]=a[m]:i[m]=i[m-1]}}let c=0;for(let u=0;u<e.length+1;u++)n[u]<n[c]&&(c=u);return{distance:n[c],startOffset:i[c],endOffset:c}}o(cre,"editDistance");function zdt(){return new Map}o(zdt,"emptyLexDictionary");function Ydt(e){let t=new Array(e.size);for(let[r,n]of e)t[n]=r;return t}o(Ydt,"reverseLexDictionary");function*Kdt(e){let t="",r;(l=>(l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other"))(r||={});let n=0;for(let i of e){let s;new RegExp("(\\p{L}|\\p{Nd}|_)","u").test(i)?s=0:i===" "?s=1:s=2,s===n&&s!==2?t+=i:(t.length>0&&(yield t),t=i,n=s)}t.length>0&&(yield t)}o(Kdt,"lexGeneratorWords");function p6e(e,t,r,n){let i=[],s=0;for(let a of r(e))n(a)&&(t.has(a)||t.set(a,t.size),i.push([t.get(a),s])),s+=a.length;return[i,t]}o(p6e,"lexicalAnalyzer");function g6e(e){return e!==" "}o(g6e,"notSingleSpace");function A6e(e,t,r=Kdt){let[n,i]=p6e(e,zdt(),r,g6e),[s,a]=p6e(t,i,r,g6e);if(s.length===0||n.length===0)return{lexDistance:s.length,startOffset:0,endOffset:0,haystackLexLength:n.length,needleLexLength:s.length};let l=Ydt(a),c=s.length,u=l[s[0][0]],f=l[s[c-1][0]];function m(E,x,b,v){if(v===0||v===c-1){let S=l[n[b][0]];return v==0&&S.endsWith(u)||v==c-1&&S.startsWith(f)?0:1}else return E===x?0:1}o(m,"compare");let h=cre(n.map(E=>E[0]),s.map(E=>E[0]),m),p=n[h.startOffset][1],A=h.endOffset<n.length?n[h.endOffset][1]:e.length;return A>0&&e[A-1]===" "&&--A,{lexDistance:h.distance,startOffset:p,endOffset:A,haystackLexLength:n.length,needleLexLength:s.length}}o(A6e,"lexEditDistance");d();function y6e(e,t){return e.compType==="partial"?e.acceptedLength:t.length}o(y6e,"computeCompCharLen");function C6e(e,t){return t.compType==="partial"?e.substring(0,t.acceptedLength):e}o(C6e,"computeCompletionText");function E6e(e,t,r){return e.displayText!==e.insertText&&e.insertText.trim()===e.displayText||r===3?t:t-e.range.end.character+e.range.start.character}o(E6e,"computePartialLength");var ny=new Cr("postInsertion"),x6e=[{seconds:15,captureCode:!1,captureRejection:!1},{seconds:30,captureCode:!0,captureRejection:!0},{seconds:120,captureCode:!1,captureRejection:!1},{seconds:300,captureCode:!1,captureRejection:!1},{seconds:600,captureCode:!1,captureRejection:!1}],b6e=50,Jdt=1500,Xdt=.5,Zdt=500,ure={triggerPostInsertionSynchroneously:!1,captureCode:!1,captureRejection:!1};async function v6e(e,t,r,n,i){let s=await e.get(Or).getTextDocument({uri:t});if(!s)return ny.info(e,`Could not get document for ${t}. Maybe it was closed by the editor.`),{prompt:{prefix:"",suffix:"",isFimEnabled:!1,promptElementRanges:[]},capturedCode:"",terminationOffset:0};let a=s.getText(),l=a.substring(0,n),c=s.positionAt(n),u=await QI(e,s,c,r),f=u.type==="prompt"?u.prompt:{prefix:l,suffix:"",isFimEnabled:!1,promptElementRanges:[]};if(f.isFimEnabled&&i!==void 0){let m=a.substring(n,i);return f.suffix=a.substring(i),{prompt:f,capturedCode:m,terminationOffset:0}}else{let m=a.substring(n),h=ree(l,n,s.languageId),A=await bbe(h,void 0)(m),E=Math.min(a.length,n+(A?A*2:Zdt)),x=a.substring(n,E);return{prompt:f,capturedCode:x,terminationOffset:A??-1}}}o(v6e,"captureCode");function ZM(e,t,r,n,i){i.forEach(({completionText:c,completionTelemetryData:u})=>{ny.debug(e,`${t}.rejected choiceIndex: ${u.properties.choiceIndex}`),pxe(e,t,u)});let s=new L4(e,n,r-1),a=new L4(e,n,r),l=o(async c=>{ny.debug(e,`Original offset: ${r}, Tracked offset: ${s.offset}`);let{completionTelemetryData:u}=i[0],{prompt:f,capturedCode:m,terminationOffset:h}=await v6e(e,n,u,s.offset+1,a.offset),p;f.isFimEnabled?p={hypotheticalPromptPrefixJson:JSON.stringify(f.prefix),hypotheticalPromptSuffixJson:JSON.stringify(f.suffix)}:p={hypotheticalPromptJson:JSON.stringify(f.prefix)};let A=u.extendedBy({...p,capturedCodeJson:JSON.stringify(m)},{timeout:c.seconds,insertionOffset:r,trackedOffset:s.offset,terminationOffsetInCapturedCode:h});ny.debug(e,`${t}.capturedAfterRejected choiceIndex: ${u.properties.choiceIndex}`,A),er(e,t+".capturedAfterRejected",A,1)},"checkInCode");x6e.filter(c=>c.captureRejection).map(c=>s.push(Iu(e,()=>l(c),"postRejectionTasks"),c.seconds*1e3))}o(ZM,"postRejectionTasks");function Q4(e,t,r,n,i,s,a,l){let c=s.extendedBy({compType:a.compType},{compCharLen:y6e(a,r)});ny.debug(e,`${t}.accepted choiceIndex: ${c.properties.choiceIndex}`),hxe(e,t,c);let u=r;r=C6e(r,a);let f=r.trim(),m=new L4(e,i,n),h=new L4(e,i,n+r.length),p=o(async A=>{await nmt(e,t,f,n,i,A,c,m,h)},"stillInCodeCheck");if(ure.triggerPostInsertionSynchroneously&&vm(e)){let A=p({seconds:0,captureCode:ure.captureCode,captureRejection:ure.captureRejection});e.get(Co).register(A)}else x6e.map(A=>m.push(Iu(e,()=>p(A),"postInsertionTasks"),A.seconds*1e3));Iu(e,emt,"post insertion citation check")(e,i,u,r,n,l)}o(Q4,"postInsertionTasks");async function emt(e,t,r,n,i,s){if(!s||(s.ip_code_citations?.length??0)<1)return;let a=await e.get(Or).getTextDocument({uri:t});if(a){let l=fre(a.getText(),n,b6e,i);l.stillInCodeHeuristic&&(i=l.foundOffset)}for(let l of s.ip_code_citations){let c=tmt(r.length,n.length,l.start_offset);if(c===void 0){ny.info(e,`Full completion for ${t} contains a reference matching public code, but the partially inserted text did not include the match.`);continue}let u=i+c,f=a?.positionAt(u),m=i+rmt(r.length,n.length,l.stop_offset),h=a?.positionAt(m),p=f&&h?a?.getText({start:f,end:h}):"<unknown>";await e.get(Ou).handleIPCodeCitation(e,{inDocumentUri:t,offsetStart:u,offsetEnd:m,version:a?.version,location:f&&h?{start:f,end:h}:void 0,matchingText:p,details:l.details.citations})}}o(emt,"citationCheck");function tmt(e,t,r){if(!(t<e&&r>t))return r}o(tmt,"computeCitationStart");function rmt(e,t,r){return t<e?Math.min(r,t):r}o(rmt,"computeCitationEnd");function fre(e,t,r,n){let i=e.substring(Math.max(0,n-r),Math.min(e.length,n+t.length+r)),s=A6e(i,t),a=s.lexDistance/s.needleLexLength,{distance:l}=cre(i.substring(s.startOffset,s.endOffset),t);return{relativeLexEditDistance:a,charEditDistance:l,completionLexLength:s.needleLexLength,foundOffset:s.startOffset+Math.max(0,n-r),lexEditDistance:s.lexDistance,stillInCodeHeuristic:a<=Xdt?1:0}}o(fre,"find");async function nmt(e,t,r,n,i,s,a,l,c){let u=await e.get(Or).getTextDocument({uri:i});if(u){let f=u.getText(),m=fre(f,r,b6e,l.offset);m.stillInCodeHeuristic||(m=fre(f,r,Jdt,l.offset)),ny.debug(e,`stillInCode: ${m.stillInCodeHeuristic?"Found":"Not found"}! Completion '${r}' in file ${i}. lexEditDistance fraction was ${m.relativeLexEditDistance}. Char edit distance was ${m.charEditDistance}. Inserted at ${n}, tracked at ${l.offset}, found at ${m.foundOffset}. choiceIndex: ${a.properties.choiceIndex}`);let h=a.extendedBy({},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset}).extendedBy({},m);if(er(e,t+".stillInCode",h),s.captureCode){let{prompt:p,capturedCode:A,terminationOffset:E}=await v6e(e,i,h,l.offset,c.offset),x;p.isFimEnabled?x={hypotheticalPromptPrefixJson:JSON.stringify(p.prefix),hypotheticalPromptSuffixJson:JSON.stringify(p.suffix)}:x={hypotheticalPromptJson:JSON.stringify(p.prefix)};let b=a.extendedBy({...x,capturedCodeJson:JSON.stringify(A)},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset,terminationOffsetInCapturedCode:E});ny.debug(e,`${t}.capturedAfterAccepted choiceIndex: ${a.properties.choiceIndex}`,h),er(e,t+".capturedAfterAccepted",b,1)}}}o(nmt,"checkStillInCode");var dre=new Cr("ghostText"),$0=class{static{o(this,"LastGhostText")}#e;#t;#i=[];get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[]}setState({uri:t},r){this.#t=t,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};function imt(e){let t=[];return e.shownCompletions.forEach(r=>{if(r.displayText&&r.telemetry){let n,i;e.partiallyAcceptedLength?(n=r.displayText.substring(e.partiallyAcceptedLength-1),i=r.telemetry.extendedBy({compType:"partial"},{compCharLen:n.length})):(n=r.displayText,i=r.telemetry);let s={completionText:n,completionTelemetryData:i,offset:r.offset};t.push(s)}}),t}o(imt,"computeRejectedCompletions");function mre(e,t){let r=e.get($0);if(!r.position||!r.uri)return;let n=imt(r);n.length>0&&ZM(e,"ghostText",t??n[0].offset,r.uri,n),r.resetState(),r.resetPartialAcceptanceState()}o(mre,"rejectLastShown");function I6e(e,t,r,n){let i=e.get($0);return i.position&&i.uri&&!(i.position.line===r.line&&i.position.character===r.character&&i.uri.toString()===t.uri.toString())&&n!==2&&mre(e,t.offsetAt(i.position)),i.setState(t,r),i.index}o(I6e,"setLastShown");function T6e(e,t){let r=e.get($0);if(r.index=t.index,!r.shownCompletions.find(n=>n.index===t.index)&&(t.uri===r.uri&&r.position?.line===t.position.line&&r.position?.character==t.position.character&&r.shownCompletions.push(t),t.displayText)){let n=t.resultType!==0;dre.debug(e,`[${t.telemetry.properties.headerRequestId}] shown choiceIndex: ${t.telemetry.properties.choiceIndex}, fromCache ${n}`),t.telemetry.measurements.compCharLen=t.displayText.length,KL(e,"ghostText",t)}}o(T6e,"handleGhostTextShown");function eO(e,t){let r=e.get($0);r.resetState(),dre.debug(e,"Ghost text post insert");let n=r.partiallyAcceptedLength?{compType:"partial",acceptedLength:t.displayText.length}:{compType:"full"};return r.resetPartialAcceptanceState(),Q4(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,n,t.copilotAnnotations)}o(eO,"handleGhostTextPostInsert");function w6e(e,t,r,n=0){let i=e.get($0);r===t.insertText.length&&i.resetState(),dre.debug(e,"Ghost text partial post insert");let s=E6e(t,r,n);if(s)return i.partiallyAcceptedLength=r,Q4(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,{compType:"partial",acceptedLength:s},t.copilotAnnotations)}o(w6e,"handlePartialGhostTextPostInsert");d();d();var S6e=nt(require("node:util"));function _6e(e,...t){return`[${e}] ${omt(t)}`}o(_6e,"formatLogMessage");function omt(e){return S6e.default.formatWithOptions({maxStringLength:1/0},...e)}o(omt,"format");function tO(e){return f5e(e)}o(tO,"verboseLogging");var rO=class extends Sa{constructor(r){super();this.console=r}static{o(this,"ConsoleLog")}logIt(r,n,i,...s){n==1?this.console.error(`[${i}]`,...s):(n==2||tO(r))&&this.console.warn(`[${i}]`,...s)}};d();var OI=class extends op{static{o(this,"TelemetryLogSenderImpl")}sendError(t,r,...n){N3(t,"log",nn.createAndMarkAsIssued({context:r,level:P3[1],message:smt(...n)}),1)}sendException(t,r,n){Lo(t,r,n)}};function smt(...e){return e.length>0?JSON.stringify(e):"no msg"}o(smt,"telemetryMessage");d();var GDe=nt(require("crypto")),HDe=nt(require("fs")),VDe=nt(qDe()),jDe=require("tls"),$De=nt(WDe());var z8=new Cr("certificates"),Oa=class{static{o(this,"RootCertificateReader")}};function Pq(e,t=process.platform){return new Mse(e,[new Ose,new Use,a8t(e,t)])}o(Pq,"getRootCertificateReader");function a8t(e,t){switch(t){case"linux":return new qse(e);case"darwin":return new Wse(e);case"win32":return new Gse(e);default:return new Hse}}o(a8t,"createPlatformReader");var Qse=class extends Oa{constructor(r,n){super();this.ctx=r;this.delegate=n}static{o(this,"ErrorHandlingCertificateReader")}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return z8.warn(this.ctx,"Failed to read root certificates:",r),[]}}},Mse=class extends Oa{constructor(r,n){super();this.ctx=r;this.delegates=n.map(i=>new Qse(r,i))}static{o(this,"CachingRootCertificateReader")}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),i=r.filter(s=>{try{let a=new GDe.X509Certificate(s),l=Date.parse(a.validTo);return isNaN(l)||l>n}catch(a){return z8.warn(this.ctx,"Failed to parse certificate",s,a),!1}});return r.length!==i.length&&z8.info(this.ctx,`Removed ${r.length-i.length} expired certificates`),i}},Ose=class extends Oa{static{o(this,"NodeTlsRootCertificateReader")}async getAllRootCAs(){return jDe.rootCertificates}},Use=class extends Oa{static{o(this,"EnvironmentVariableRootCertificateReader")}async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await zDe(t):[]}},qse=class extends Oa{constructor(r){super();this.ctx=r}static{o(this,"LinuxRootCertificateReader")}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let i=await zDe(n);z8.debug(this.ctx,`Read ${i.length} certificates from ${n}`),r=r.concat(i)}return r}},Wse=class extends Oa{constructor(r){super();this.ctx=r}static{o(this,"MacRootCertificateReader")}async getAllRootCAs(){let r=VDe.get();return z8.debug(this.ctx,`Read ${r.length} certificates from Mac keychain`),r}},Gse=class extends Oa{constructor(r){super();this.ctx=r}static{o(this,"WindowsRootCertificateReader")}async getAllRootCAs(){let r=$De.all();return z8.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}},Hse=class extends Oa{static{o(this,"UnsupportedPlatformRootCertificateReader")}async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}};async function zDe(e){try{let n=(await HDe.promises.readFile(e,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(s=>s.length>0),i=new Set(n);return Array.from(i)}catch(t){if(t instanceof Error&&"code"in t&&t.code==="ENOENT")return[];throw t}}o(zDe,"readCertsFromFile");d();var sPe=nt(require("http"));var D8t=407,Jl=new Cr("proxySocketFactory"),Kp=class{static{o(this,"ProxySocketFactory")}},gE=class extends Error{static{o(this,"ProxySocketError")}constructor(t,r,n){super(t),this.code=r?.code,this.syscall=r?.syscall,this.errno=r?.errno,/^Failed to establish a socket connection to proxies:/.test(r?.message??"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test(r?.message??"")?this.code="ProxyInitializeSecurityContext":r?.message==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test(r?.message??"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};function Fq(e){return new $se(e,new zse(e))}o(Fq,"getProxySocketFactory");var $se=class extends Kp{constructor(r,n,i=new t_,s=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=i;this.platform=s;this.successfullyAuthorized=new Bn(20)}static{o(this,"KerberosProxySocketFactory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(Jl.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof gE&&i.code===`ProxyStatusCode${D8t}`){Jl.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let s=await this.authorizeAndCreateSocket(r,n);if(s)return Jl.debug(this.ctx,"Proxy authorization successful, caching result"),er(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),s}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(Jl.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(Jl.debug(this.ctx,"Proxy authorization successful, received token"),i)return Jl.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){Jl.debug(this.ctx,"Loading kerberos module");let n=this.kerberosLoader.load(),i=this.computeSpn(r);Jl.debug(this.ctx,"Initializing kerberos client using spn",i);let s=await n.initializeClient(i);Jl.debug(this.ctx,"Perform client side kerberos step");let a=await s.step("");return Jl.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return Jl.debug(this.ctx,"Using configured kerberos spn",n),n;let i=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return Jl.debug(this.ctx,"Using default kerberos spn",i),i}getProxyCacheKey(r){return r.host+":"+r.port}},zse=class extends Kp{constructor(r){super();this.ctx=r}static{o(this,"TunnelingProxySocketFactory")}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((s,a)=>{Jl.debug(this.ctx,"Attempting to establish connection to proxy");let l=sPe.request(i);l.useChunkedEncodingByDefault=!1,l.once("connect",(c,u,f)=>{Jl.debug(this.ctx,"Socket Connect returned status code",c.statusCode),l.removeAllListeners(),u.removeAllListeners(),c.statusCode!==200?(u.destroy(),a(new gE(`tunneling socket could not be established, statusCode=${c.statusCode}`,void 0,`ProxyStatusCode${c.statusCode}`))):f.length>0?(u.destroy(),a(new gE(`got non-empty response body from proxy, length=${f.length}`,void 0,"ProxyNonEmptyResponseBody"))):(Jl.debug(this.ctx,"Successfully established tunneling connection to proxy"),s(u))}),l.once("error",c=>{Jl.debug(this.ctx,"Proxy socket connection error",c.message),l.removeAllListeners(),a(new gE(`tunneling socket could not be established, cause=${c.message}`,c))}),l.on("timeout",()=>{Jl.debug(this.ctx,"Proxy socket connection timeout"),a(new gE(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.host}:${i.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let i=`${r.hostname}:${r.port}`,s={...n,method:"CONNECT",path:i,agent:!1,headers:{host:i,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(s.localAddress=r.localAddress),this.configureProxyAuthorization(s,r),s}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}},t_=class{static{o(this,"KerberosLoader")}load(){return oPe()}};d();var uPe=require("node:os");var P8t=new Cr("repository"),AE="\\\\",fPe="(?:[#;].*)",J8=`(?:[^"${AE}]|${AE}.)`,F8t="[0-9A-Za-z-]",aPe=`[A-Za-z]${F8t}*`,dPe=`\\s*${fPe}?$`,mPe=`(?:[^"${AE};#]|${AE}.)`,N8t=`(?:"${J8}*"|"${J8}*(?<strCont>${AE})$)`,L8t=`(?:${mPe}|${N8t})+`,Q8t=`(?:(?<cont>${AE})$)`,hPe=`(?<value>${L8t})${Q8t}?${dPe}`,lPe=new RegExp(`^${hPe}`),M8t=new RegExp(`^(?<value>${J8}*(?:(?<strCont>${AE})$|(?<quote>")))`),O8t=new RegExp(`^\\s*(?:(?<key>${aPe})\\s*=\\s*${hPe}|(?<soloKey>${aPe})${dPe})`),U8t=new RegExp(`(?<value>${mPe}+)|"(?<string>${J8}*)"`,"g"),cPe="[-.0-9A-Za-z]+",q8t=`\\s+"(?<ext>${J8}*)"`,W8t=`\\s+"(?<extOnly>${J8}*)"`,G8t=new RegExp(`^\\s*\\[(?:(?<simple>${cPe})${q8t}|${W8t}|(?<simpleOnly>${cPe}))\\]`),H8t=new RegExp(`^\\s*${fPe}$`),Yse=class{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{o(this,"GitConfigParser")}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){let t=this.line.match(G8t);t&&(t.groups?.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):t.groups?.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){let t=this.line.match(O8t);if(t){if(t.groups?.key){let r=this.handleContinued(t);this.configValueHandler?.(this.nameWithSection(t.groups.key.toLowerCase()),r)}else t.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(t.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(t){let r=t,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(M8t),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(lPe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(lPe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(U8t)].map(i=>i.groups?.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){H8t.test(this.line)&&(this.line="")}},Nq=class extends gp{static{o(this,"GitParsingConfigLoader")}async getConfig(t,r){let n=await I1.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new sI)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let s=new Yse(i),a=new sI;return s.parse((l,c)=>a.add(l,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(Qo).readFileString(r)}catch(i){(n||!(i instanceof Error)||i.code!=="ENOENT")&&P8t.warn(t,`Failed to load git config from ${JSON.stringify(r)}:`,i);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=Xo(this.xdgConfigUri(),"git","config"),s=Xo(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,s,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(Fs(r).toLowerCase()!=="config.worktree")return;let n=Tu(r),i=Xo(n,"commondir");try{let s=(await t.get(Qo).readFileString(i)).trimEnd();return Xo(D3(n,s),"config")}catch{return}}xdgConfigUri(){return process.env.XDG_CONFIG_HOME?M0(process.env.XDG_CONFIG_HOME):Xo(this.homeUri(),".config")}homeUri(){return M0((0,uPe.homedir)())}};d();var gPe=nt(require("node:events"));var pPe="onWorkspaceChanged",nf=class{constructor(){this.emitter=new gPe.default}static{o(this,"WorkspaceNotifier")}onChange(t){this.emitter.on(pPe,t)}emit(t){this.emitter.emit(pPe,t)}};function APe(e){let t=new Zv;return t.set(fp,e),t.set($h,new $h),t.set(oo,new oo),V8t(t),t.set(Uu,new Uu),t.set(rp,new rp),t.set(Oa,Pq(t)),t.set(Kp,Fq(t)),t.set(jt,new jt(t)),t.set(ip,new ip),t.set(Ul,new Ul(t)),t.set(Cs,new Cs),t.set(Su,new Su),t.set(_c,new _c),t.set(qu,new qu),t.set(ld,new JT),t.set(Dm,new Fv),t.set(Vf,new yv),t.set(Co,new Co),t.set(gd,YM(t)),t.set(Rm,new Rm),t.set($0,new $0),t.set(Ad,new Ad),t.set(M1,M1.default),t.set(I1,new I1(t)),t.set(gp,new lQ([new aQ,new Nq])),t.set(nf,new nf),t.set(zf,new zf(t)),t.set(Hs,new Hs),t.set(Qm,new Qm(t)),t.set(y4,new y4(t)),t.set(rs,new rs),t}o(APe,"createProductionContext");function V8t(e){e.set(Wf,Wf.fromEnvironment(!1)),e.set(op,new OI),e.set(Sa,new rO(console))}o(V8t,"setupRudimentaryLogging");var uzr=new Cr("context");d();d();var Jr=new Cr("chat");d();d();d();async function Xa(e,t,r,n){let i=nn.createAndMarkAsIssued({messageId:t,conversationId:r});return await e.get(jt).updateExPValuesAndAssignments(n,i)}o(Xa,"createTelemetryWithExpWithId");function r_(e,t,r,n,i,s,a,l){let c=e.turns[e.turns.length-1].skills.map(m=>m.skillId).sort(),u={source:"user",turnIndex:(e.turns.length-1).toString(),uiKind:t,skillIds:c.join(",")},f={promptTokenLen:n,messageCharLen:r};return i&&(u.suggestion=i),s&&(u.suggestionId=s),l.length>0&&(u.skillResolutionsJson=JSON.stringify(j8t(l))),a=a.extendedBy(u,f),a}o(r_,"extendUserMessageTelemetryData");function j8t(e){return e.map(t=>({skillId:t.skillId,resolution:t.resolution,fileStatus:t.files?.map(r=>r.status),tokensPreEliding:t.tokensPreEliding??0,resolutionTimeMs:t.resolutionTimeMs??0,processingTimeMs:t.processingTimeMs??0}))}o(j8t,"mapSkillResolutionsForTelemetry");function yPe(e,t,r,n,i,s,a){return n!=null&&(a=a.extendedBy({offTopic:n.toString()})),Lq(e,s,t,r,{uiKind:t,headerRequestId:i},{},a).properties.messageId}o(yPe,"createUserMessageTelemetryData");function CPe(e,t,r,n,i,s,a,l){let c=z8t(n);return Lq(e,a,r,n,{source:"model",turnIndex:(t.turns.length-1).toString(),headerRequestId:s,uiKind:r,codeBlockLanguages:JSON.stringify({...c})},{messageCharLen:n.length,numCodeBlocks:c.length,numTokens:i},l).properties.messageId}o(CPe,"createModelMessageTelemetryData");function EPe(e,t,r,n,i,s,a){Lq(e,s,r,n,{source:"offTopic",turnIndex:t.turns.length.toString(),userMessageId:i,uiKind:r},{messageCharLen:n.length},a)}o(EPe,"createOffTopicMessageTelemetryData");function xPe(e,t,r,n,i,s,a,l,c){let u=Lq(e,l,r,n,{source:"suggestion",suggestion:s,turnIndex:(t.turns.length-1).toString(),uiKind:r,suggestionId:a},{promptTokenLen:i,messageCharLen:n.length},c);return $8t(e,r,s,u.properties.messageId,u.properties.conversationId,a,c,l),u.properties.messageId}o(xPe,"createSuggestionMessageTelemetryData");var bPe={synonymTimeMs:0,rankingTimeMs:0,chunkCount:0,localSnippetCount:0,embeddingsTimeMs:0,rerankingTimeMs:0};async function vPe(e,t,r){let n=await Xa(e.ctx,e.turn.id,e.conversation.id),i=e.conversation.source==="inline"?"conversationInline":"conversationPanel";of(e.ctx,void 0,{conversationId:e.conversation.id,turnIndex:(e.conversation.turns.length-1).toString(),userMessageId:e.turn.id,provider:t,uiKind:i},r,"index.codesearch",n)}o(vPe,"telemetryIndexCodesearch");function Lq(e,t,r,n,i,s,a){let l=a??nn.createAndMarkAsIssued(),c={messageText:n,...i};if(!("messageId"in i)&&!("messageId"in l.properties)){let h=xr();i.messageId=h,c.messageId=h}t&&(i.languageId=t.languageId,s.documentLength=t.getText().length,s.documentLineCount=t.lineCount);let u=l.extendedBy(i,s),f=l.extendedBy(c),m=Xc(r);return er(e,`${m}.message`,u),er(e,`${m}.messageText`,f,1),u}o(Lq,"telemetryMessage");function IPe(e,t,r,n){of(e,n,{uiKind:t},{},"conversation.suggestionShown",r)}o(IPe,"createSuggestionShownTelemetryData");function $8t(e,t,r,n,i,s,a,l){of(e,l,{suggestion:r,messageId:n,conversationId:i,suggestionId:s,uiKind:t},{},"conversation.suggestionSelected",a)}o($8t,"createSuggestionSelectedTelemetryData");function of(e,t,r,n,i,s){let a=s??nn.createAndMarkAsIssued();t&&(r.languageId=t.languageId,n.documentLength=t.getText().length,n.documentLineCount=t.lineCount);let l=a.extendedBy(r,n);return er(e,i,l),l}o(of,"telemetryUserAction");function Qq(e,t,r){let n=r.extendedBy({messagesJson:JSON.stringify(t)});return er(e,"engine.messages",n,1)}o(Qq,"logEngineMessages");function Xc(e){switch(e){case"editsPanel":return"copilotEditsPanel";case"conversationInline":return"inlineConversation";case"conversationPanel":default:return"conversation"}}o(Xc,"telemetryPrefixForUiKind");function z8t(e){let t=e.split(`
`),r=[],n=[];for(let i=0;i<t.length;i++){let s=t[i];s.startsWith("```")&&(n.length>0&&s==="```"?r.push(n.pop()):n.length===0&&n.push(s.substring(3)))}return r}o(z8t,"getCodeBlocks");function TPe(e){return e=="conversationInline"?"conversation-inline":"conversation-panel"}o(TPe,"uiKindToIntent");function Ny(e){return e==="inline"?"conversationInline":"conversationPanel"}o(Ny,"conversationSourceToUiKind");var Il=(s=>(s.System="system",s.User="user",s.Assistant="assistant",s.Function="function",s.Tool="tool",s))(Il||{});function tn(e){return e?typeof e=="string"?e:e.map(t=>"text"in t?t.text:"").join(""):""}o(tn,"getTextPart");var wPe=o((e,t)=>I.Unsafe({type:"string",enum:e,description:t?.description}),"StringEnum"),SPe=I.Optional(I.Object({agentSlug:I.String(),state:I.Union([I.Literal("accepted"),I.Literal("dismissed")]),confirmation:I.Any()}));function Ly(e){if(typeof e.function.arguments=="string")try{return JSON.parse(e.function.arguments)}catch{return{}}return e.function.arguments}o(Ly,"parseToolCallArguments");function _Pe(e){return typeof e.function.arguments=="object"&&(e.function.arguments=JSON.stringify(e.function.arguments)),e}o(_Pe,"toOpenAIToolCall");function kPe(e,t,r,n,i,s,a,l){let c=JSON.parse(JSON.stringify(t));return r.tool_calls&&(c.tool_calls=r.tool_calls),Qq(e,[c],l),{message:t,choiceIndex:n,requestId:i,blockFinished:s,finishReason:a,tokens:r.tokens,numTokens:r.tokens.length,tool_calls:r.tool_calls,function_call:r.function_call,telemetryData:l}}o(kPe,"convertToChatCompletion");d();var Kse=new Cr("streamMessages");function BPe(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(Kse.debug(e,`message ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),Kse.info(e,`message ${t.index} returned. finish reason: [${t.reason}]`),Kse.debug(e,`message ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=NZ(t.solution),a={role:"assistant",content:n};return kPe(e,a,s,t.index,t.requestId,i,t.reason??"",r)}o(BPe,"prepareChatCompletionForReturn");var Dd=new Cr("fetchChat"),Mq=class{static{o(this,"OpenAIChatMLFetcher")}async fetchAndStreamChat(t,r,n,i,s){let a=await this.fetchWithParameters(t,r.endpoint,r,n,s);if(a==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let l=a.body();try{l.destroy()}catch(c){Dd.exception(t,c,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(a.status!==200){let l=this.createTelemetryData(r.endpoint,t,r);return this.handleError(t,l,a)}if(r.postOptions?.stream===!1){let l=await a.text(),c=JSON.parse(l),u=c.choices!=null?c.choices[0].message:{role:"assistant",content:""},f=a.headers.get("X-Request-ID")??xr(),m={blockFinished:!1,choiceIndex:0,finishReason:"stop",message:u,tokens:tn(u.content).split(" "),requestId:{headerRequestId:f,completionId:c.id?c.id:"",created:c.created?Number(c.created):0,deploymentId:"",serverExperiments:""},telemetryData:n,numTokens:0},h=tn(u.content);return await i(h,{text:h,copilotReferences:c.copilot_references}),{type:"success",chatCompletions:async function*(){yield m}(),getProcessingTime:o(()=>XT(a),"getProcessingTime")}}else{let c=A4.create(t,r.count,a,n,[],s).processSSE(i);return{type:"success",chatCompletions:N5(c,async f=>BPe(t,f,n)),getProcessingTime:o(()=>XT(a),"getProcessingTime")}}}createTelemetryData(t,r,n){return nn.createAndMarkAsIssued({endpoint:t,engineName:n.engineName,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,i,s){let a={messages:n.messages,tools:n.tools,tool_choice:n.tool_choice,model:n.model,temperature:tI(t,n.count),top_p:WL(t),n:n.count,stop:[`


`],copilot_thread_id:n.copilot_thread_id},l=p1(n.repoInfo);return l!==void 0&&(a.nwo=l),n.postOptions&&Object.assign(a,n.postOptions),n.intent&&(a.intent=n.intent,n.intent_model&&(a.intent_model=n.intent_model),n.intent_tokenizer&&(a.intent_tokenizer=n.intent_tokenizer),n.intent_threshold&&(a.intent_threshold=n.intent_threshold),n.intent_content&&(a.intent_content=n.intent_content)),s?.isCancellationRequested?"not-sent":await Y8t(t,n.messages,n.capiUrl,n.engineName,r,n.ourRequestId,a,n.authToken,n.uiKind,i,n.llmInteraction,s)}async handleError(t,r,n){if(n.clientError&&!n.headers.get("x-github-request-id")){let s=`Last response was a ${n.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;Dd.error(t,s),r.properties.error=`Response status was ${n.status} with no x-github-request-id header`}else r.properties.error=`Response status was ${n.status}`;if(r.properties.status=String(n.status),er(t,"request.shownWarning",r),n.status===401)try{let s=await n.text(),a=JSON.parse(s);if(a.authorize_url)return{type:"authRequired",reason:"not authorized",authUrl:a.authorize_url}}catch{}if(n.status===401||n.status===403)return t.get(qr).resetToken(n.status),{type:"failed",reason:`token expired or invalid: ${n.status}`,code:n.status};if(n.status===499)return Dd.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server",code:n.status};let i=await n.text();if(n.status===466)return Dd.info(t,i),{type:"failed",reason:`client not supported: ${i}`,code:n.status};if(n.status===400&&i.includes("off_topic"))return{type:"failed",reason:"filtered as off_topic by intent classifier: message was not programming related",code:n.status};if(n.status===400&&i.includes("model_not_supported"))return{type:"failed",reason:"model is not supported.",code:n.status};if(n.status===424)return{type:"failedDependency",reason:i};if(n.status===402){let a=n.headers.get("retry-after");return{type:"failed",reason:a?`You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait until ${new Date(a).toLocaleString()} for your limit to reset.`:"You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",code:n.status}}return Dd.error(t,"Unhandled status from server:",n.status,i),{type:"failed",reason:`unhandled status from server: ${n.status} ${i}`,code:n.status}}};async function Y8t(e,t,r,n,i,s,a,l,c,u,f,m){let h=Xo(r,n,i);if(!l)throw new Error(`Failed to send request to ${h} due to missing key`);let p=u.extendedBy({endpoint:i,engineName:n,uiKind:c});for(let[b,v]of Object.entries(a))b!="messages"&&(p.properties[`request.option.${b}`]=JSON.stringify(v)??"undefined");p.properties.headerRequestId=s,er(e,"request.sent",p);let A=Gl(),E=TPe(c),x={...vv(e),...f.toCapiHeaders()};return a.messages?.some(b=>Array.isArray(b.content)?b.content.some(v=>"image_url"in v):!1)&&(x["Copilot-Vision-Request"]="true"),a.messages&&a.messages.forEach(b=>{K8t(b)&&b.tool_calls&&(b.tool_calls=b.tool_calls.map(v=>_Pe(v)))}),yb(e,h,l,E,s,a,m,x).then(b=>{let v=g4(b,void 0);p.extendWithRequestId(v);let S=Gl()-A;return p.measurements.totalTimeMs=S,Dd.info(e,`request.response: [${h}] took ${S} ms`),Dd.debug(e,"request.response properties",p.properties),Dd.debug(e,"request.response measurements",p.measurements),Dd.debug(e,"messages:",JSON.stringify(t)),er(e,"request.response",p),b}).catch(b=>{if(hu(b))throw b;let v=p.extendedBy({error:"Network exception"});er(e,"request.shownWarning",v),p.properties.message=String(Mm(b,"name")??""),p.properties.code=String(Mm(b,"code")??""),p.properties.errno=String(Mm(b,"errno")??""),p.properties.type=String(Mm(b,"type")??"");let S=Gl()-A;throw p.measurements.totalTimeMs=S,Dd.debug(e,`request.response: [${h}] took ${S} ms`),Dd.debug(e,"request.error properties",p.properties),Dd.debug(e,"request.error measurements",p.measurements),er(e,"request.error",p),b}).finally(()=>{Qq(e,t,p)})}o(Y8t,"fetchWithInstrumentation");function K8t(e){return"tool_calls"in e}o(K8t,"isChatMessageWithToolCalls");var Ms=class{constructor(t){this.ctx=t;this.fetcher=new Mq}static{o(this,"ChatMLFetcher")}async fetchResponse(t,r,n,i){let s=xr(),a={n:t.num_suggestions??1,temperature:t.temperature??0,stop:t.stop,top_p:t.topP??1,copilot_thread_id:t.copilot_thread_id},l=t.modelConfiguration;l&&(a.max_tokens=l.maxResponseTokens,a.stream=!!l.stream),t.logitBias&&(a.logit_bias=t.logitBias);let c=await this.ctx.get(qr).getToken(),u=Iv(this.ctx,c),f=t.endpoint??"completions",m=t.authToken??c.token,h={messages:t.messages,repoInfo:void 0,ourRequestId:s,capiUrl:u,engineName:t.engineName??"chat",endpoint:f,count:t.num_suggestions??1,uiKind:t.uiKind,postOptions:a,authToken:m,...t.intentParams,llmInteraction:t.llmInteraction};return l&&(h.model=l.modelId),t.tools&&t.tools?.length>0&&(l===void 0||l.toolCalls)&&(h.tools=t.tools,h.tool_choice=t.tool_choice??"auto"),await this.fetch(h,i,r,n)}async fetch(t,r,n,i){try{let s=await this.fetcher.fetchAndStreamChat(this.ctx,t,i.extendedBy({uiKind:t.uiKind}),r||(async()=>{}),n);switch(s.type){case"success":return await this.processSuccessfulResponse(s,t.ourRequestId,i);case"canceled":return this.processCanceledResponse(s,t.ourRequestId);case"failed":case"failedDependency":return this.processFailedResponse(s,t.ourRequestId);case"authRequired":return{type:"agentAuthRequired",reason:"Agent authentication required.",authUrl:s.authUrl,requestId:t.ourRequestId}}}catch(s){return this.processError(s,t.ourRequestId)}}async processSuccessfulResponse(t,r,n){let i=[],s=KT(t.chatCompletions,async a=>this.postProcess(a,n));for await(let a of s)Jr.debug(this.ctx,`Received choice: ${JSON.stringify(a,null,2)}`),i.push(a);if(i.length==1){let a=i[0];switch(a.finishReason){case"stop":return{type:"success",value:tn(a.message?.content)??"",toolCalls:a.tool_calls,requestId:r,numTokens:a.numTokens};case"tool_calls":return{type:"tool_calls",toolCalls:a.tool_calls,requestId:r};case"content_filter":return{type:"filtered",reason:"Response got filtered.",requestId:r};case"length":return{type:"length",reason:"Response too long.",requestId:r};case"DONE":return{type:"no_finish_reason",reason:"No finish reason received.",requestId:r};default:return{type:"unknown",reason:"Unknown finish reason received.",requestId:r}}}else if(i.length>1){let a=i.filter(l=>l.finishReason=="stop"||l.finishReason=="tool_calls");if(a.length>0)return{type:"successMultiple",value:a.map(l=>tn(l.message.content)),toolCalls:a.map(l=>l.tool_calls).filter(l=>l),requestId:r}}return{type:"no_choices",reason:"Response contained no choices.",requestId:r}}postProcess(t,r){return JM(t.tokens)?(r.extendWithRequestId(t.requestId),er(this.ctx,"conversation.repetition.detected",r,0),t.finishReason!==""?t:void 0):t.message?t:void 0}processCanceledResponse(t,r){return Jr.debug(this.ctx,"Cancelled after awaiting fetchConversation"),{type:"canceled",reason:t.reason,requestId:r}}processFailedResponse(t,r){return t?.reason.includes("filtered as off_topic by intent classifier")?{type:"offTopic",reason:t.reason,requestId:r}:t?.reason.includes("model is not supported")?{type:"model_not_supported",reason:t.reason,requestId:r}:{type:"failed",reason:t.reason,requestId:r,code:t.type==="failed"?t.code:void 0}}processError(t,r){return hu(t)?{type:"canceled",reason:"network request aborted",requestId:r}:(Jr.exception(this.ctx,t,"Error on conversation request"),{type:"failed",reason:"Error on conversation request. Check the log for more details.",requestId:r})}};d();var Qy=class{constructor(t){this.ctx=t}static{o(this,"AbstractClientToolInvoker")}};d();var Tl=class{constructor(t){this.ctx=t}static{o(this,"EditProgressReporter")}},Oq=class extends Tl{constructor(){super(...arguments);this.items=[]}static{o(this,"LibTestEditProgressReporter")}reset(){this.items=[]}async reportTurn(r,n){this.items.push({editConversationId:r.editConversationId,editTurnId:r.editTurnId,...n})}};d();d();d();var My=class extends Error{static{o(this,"CopilotEditsCancelledByUserException")}constructor(){super("Operation cancelled by user"),this.name="CopilotEditsCancelledByUserException"}};d();var Oy=class extends Error{static{o(this,"CopilotEditsProcessCodeBlockException")}constructor(t){super(t),this.name="CopilotEditsProcessCodeBlockException"}};d();d();var Uq="filepath:",wl="...existing code...",yE="copilot-edited-file";d();function nA(e){let t=e.matchAll(/^\s*(```+)/gm),r=Math.max(3,...Array.from(t,n=>n[1].length+1));return"`".repeat(r)}o(nA,"getFenceForCodeBlock");var Jse=class{constructor(t){this.props=t}static{o(this,"CodeBlockChangeDescription")}render(){if(this.props.markdownBeforeBlock)return["This is the description of what the code block changes:","<changeDescription>",this.props.markdownBeforeBlock,"","</changeDescription>",""].join(`
`)}},qq=class{constructor(t){this.props=t}static{o(this,"CodeMapperPrompt")}async render(){let t=await this.props.textDocumentProvider.getByUri(this.props.uri.toString());return[{role:"system",content:this.buildSystemMessage(t)},{role:"user",content:await this.buildUserMessage(t)}]}transformToSpeculationPrompt(t,r,n){return t.reduce((s,a)=>{if(a.role==="system"){let l=tn(a.content).endsWith(`
`)?tn(a.content):`${tn(a.content)}
`;return`${s}<SYSTEM>
${l}
End your response with </${yE}>.
</SYSTEM>


`}return s+tn(a.content)},"")+`


The resulting document:
<${yE}>
${n}${r}
`}buildSystemMessage(t){if(t.status!=="valid")return"";let r=[];return r.push("You are an AI programming assistant that is specialized in applying code changes to an existing document.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",`The user has a code block that represents a suggestion for a code change and a ${t.document.clientLanguageId} file opened in a code editor.`,"Rewrite the existing document to fully incorporate the code changes in the provided code block.","For the response, always follow these instructions:","1. Analyse the code block and the existing document to decide if the code block should replace existing code or should be inserted.","2. If necessary, break up the code block into multiple parts and insert each part at the appropriate location.","3. Preserve whitespace and newlines right after the parts of the file that you modify.",`4. The final result must be syntactically valid, properly formatted, and correctly indented. It should not contain any \`${wl}\` comments.`,"5. Finally, provide the fully rewritten file. You must output the complete file."),r.join(`
`)}async buildUserMessage(t){let r=[];if(t.status!=="valid")return"";if(t.document.getText().length>0){let a=nA(t.document.getText());r.push(`I have the following code open in the editor, starting from line 1 to line ${t.document.lineCount}.`,`${a}${t.document.clientLanguageId}`,t.document.getText(),`${a}`)}else r.push("I am in an empty editor.");let i=new Jse({markdownBeforeBlock:this.props.markdownBeforeBlock}).render();i&&r.push(i);let s=nA(this.props.codeBlock);return r.push("This is the code block that represents the suggested code change:",`${s}${t.document.clientLanguageId}`,this.props.codeBlock,`${s}`,"<userPrompt>","Provide the fully rewritten file, incorporating the suggested code change. You must produce the complete file.","</userPrompt>"),r.join(`
`)}};d();d();function as(e){switch(e.status){case"valid":return e.document.getText().trim().length===0?"empty":"included";case"invalid":return"blocked";case"notfound":return"notfound"}}o(as,"statusFromTextDocumentResult");var qn=class{constructor(t){this.ctx=t}static{o(this,"FileReader")}async getRelativePath(t){return this.ctx.get(Or).getRelativePath(t)??Fs(t.uri)}async readFile(t){let r=await this.readFromTextDocumentManager({uri:t});return r.status!=="notfound"?r:await this.readFromFilesystem(t)}async readFromTextDocumentManager(t){return await this.ctx.get(Or).getTextDocumentWithValidation(t)}async readFromFilesystem(t){if(await this.fileExists(t)){if(await this.getFileSizeMB(t)>1)return{status:"notfound",message:"File too large"};let n=await this.doReadFile(t);return(await this.ctx.get(Pa).evaluate(t,n)).isBlocked?{status:"invalid",reason:"blocked"}:{status:"valid",document:H0.create(t,"UNKNOWN",0,n)}}return{status:"notfound",message:"File not found"}}async doReadFile(t){return await this.ctx.get(Qo).readFileString(t)}async getFileSizeMB(t){return(await this.ctx.get(Qo).stat(t)).size/1024/1024}async fileExists(t){try{return await this.ctx.get(Qo).stat(t),!0}catch{return!1}}};var Uy=class{constructor(t){this.ctx=t}static{o(this,"DefaultTextDocumentProvider")}async getByUri(t){return await this.ctx.get(qn).readFile(t)}};var Wq=class{static{o(this,"CodeMapper")}constructor(t){this.ctx=t,this.reporter=t.get(Tl),this.logger=new Cr("CopilotEditsCodeMapper")}async mapCode(t,r,n){if(!t.resource)throw new Oy("No uri found in code block");if(!t.code.includes(wl)){await this.reporter.reportTurn(r,{fileGenerationStatus:"edit-plan-generated",uri:t.resource.toString(),basename:Fs(t.resource),editDescription:t.markdownBeforeBlock}),await this.reporter.reportTurn(r,{fileGenerationStatus:"updated-code-generated",partialText:t.code,uri:t.resource.toString(),basename:Fs(t.resource)});return}if(n.isCancellationRequested)throw new My;let i=await this.ctx.get(qn).readFile(t.resource.toString());if(i.status!=="valid"){let A=`Failed to find file ${t.resource.toString()} with status ${i.status}`,E=new Oy(A);throw this.logger.error(this.ctx,A,E),E}let s=new qq({documentContext:{document:i},codeBlock:t.code,uri:t.resource,markdownBeforeBlock:t.markdownBeforeBlock,textDocumentProvider:new Uy(this.ctx)}),a=await s.render(),l=i.document.clientLanguageId||"",c=nA(t.code),u=i.document.getText();if(u.length>0){let A=nA(u);A.length>c.length&&(c=A)}let f=s.transformToSpeculationPrompt(a,l,c);await this.reporter.reportTurn(r,{fileGenerationStatus:"edit-plan-generated",uri:t.resource.toString(),basename:Fs(t.resource),editDescription:t.markdownBeforeBlock});let m=await this.ctx.get(y4).fetchSpeculation({prompt:f,speculation:i.document.getText(),languageId:l,stops:[`\`\`\`
</${yE}>`,`\`\`\`\r
</${yE}>`,`</${yE}>`]},n),h=[];for await(let A of m.choices)h.push(A.completionText);let p=h.find(A=>A.length>0);if(p){await this.reporter.reportTurn(r,{fileGenerationStatus:"updated-code-generated",uri:t.resource.toString(),basename:Fs(t.resource),partialText:p,languageId:l,markdownCodeFence:nA(p)});return}else{let A=`No valid completion found for uri ${t.resource.toString()}`;throw new Oy(A)}}};d();var ec=class extends Error{constructor(r){super(r.message);this.editConversationError=r;this.name="EditConversationException"}static{o(this,"EditConversationException")}};d();d();var X8=class{static{o(this,"CapiErrorTranslator")}static translateErrorMessage(t,r){switch(t){case 466:return"Oops, your plugin is out of date. Please update it.";case 401:return"Oops, you are not authorized. Please sign in.";case 402:return r||"Oops, you need to upgrade your plan.";case 413:return"Oops, your request is too large. Please try again with a smaller input.";case 429:return"Oops, you reached the rate limit. Please try again later.";default:return"Sorry, an error occurred while generating a response."}}};d();d();var Gq=class extends Error{static{o(this,"EditTurnNotFoundException")}constructor(t){super(t),this.name="EditTurnNotFoundException"}};var qy=class{constructor(t,r){this.request=t;this.id=xr();this.timestamp=Date.now();this.status="in-progress";this.workingSet=[];r&&r.length>0&&(this.workingSet=r)}static{o(this,"EditTurn")}},Xse=class{constructor(t=[]){this.turns=[];this.turns=t}static{o(this,"EditTurnManager")}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){if(this.turns.length!==0)return this.turns[this.turns.length-1]}hasTurn(t){return this.turns.some(r=>r.id===t)}getTurns(){return[...this.turns]}},Hq=class{constructor(t=[],r="panel",n="en"){this._id=xr();this._timestamp=Date.now();this.source="panel";this.userLanguage="en";this.source=r,this.userLanguage=n,this.turnsManager=new Xse(t)}static{o(this,"EditConversation")}get id(){return this._id}get timestamp(){return this._timestamp}getUserLanguage(){return this.userLanguage}getTurns(){return this.turnsManager.getTurns()}getSource(){return this.source}addTurn(t){this.turnsManager.addTurn(t)}deleteTurn(t){this.turnsManager.deleteTurn(t)}getLastTurn(){let t=this.turnsManager.getLastTurn();if(t===void 0)throw new Gq(`No turns in the conversation ${this._id}`);return t}hasTurn(t){return this.turnsManager.hasTurn(t)}};var Vq=class{static{o(this,"EditCodeResultProcessor")}static processResult(t,r){switch(r.type){case"success":return r.value;case"offTopic":{t.currentTurn.status="off-topic";let n="Sorry, but I can only assist with programming related questions.";throw t.currentTurn.response={message:n,type:"offtopic-detection"},new ec({message:n,responseIsFiltered:!0})}case"canceled":throw t.currentTurn.status="cancelled",t.currentTurn.response={message:d5,type:"user"},new ec({message:d5});case"failed":throw t.currentTurn.status="error",t.currentTurn.response={message:r.reason,type:"server"},new ec({message:X8.translateErrorMessage(r.code,r.reason),code:r.code});case"filtered":throw t.currentTurn.status="filtered",new ec({message:"Oops, your response got filtered.",responseIsFiltered:!0});case"length":throw t.currentTurn.status="error",new ec({message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0});case"agentAuthRequired":throw t.currentTurn.status="error",t.currentTurn.response={message:"Authorization required",type:"server"},new ec({message:"Authorization required",responseIsFiltered:!1});case"no_choices":throw t.currentTurn.status="error",t.currentTurn.response={message:"No choices returned",type:"server"},new ec({message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"no_finish_reason":throw t.currentTurn.status="error",t.currentTurn.response={message:"No finish reason",type:"server"},new ec({message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"model_not_supported":throw t.currentTurn.status="error",t.currentTurn.response={message:"Model not supported",type:"server"},new ec({message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1});case"successMultiple":case"tool_calls":case"unknown":throw t.currentTurn.status="error",new ec({message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1})}}};d();async function*DPe(e){yield e}o(DPe,"stringToAsyncIterable");d();d();var iA=class{static{o(this,"CopilotEditsPromptUriUtils")}static pathToUri(t,r){let n=t.mapToUriInWorkingSet(r);return n||M0(r)}static uriToPath(t){let r=ys(t);if(r)return r;throw new Error(`Unsupported URI scheme: ${t.split(":")[0]}`)}static posixFilePathToUri(t){return process.platform==="win32"?`file:///c:${t}`:`file://${t}`}};var jq=class{constructor(t){this.props=t;this.exampleFilePath=this.getExampleFilePath("/path/to/file"),this.tsExampleFilePath=this.getExampleFilePath("/Users/someone/proj01/example.ts")}static{o(this,"EditCodePrompt")}async render(){let t=await this.getValidFilesInWorkingSet(),r=[{role:"system",content:this.buildSystemMessage(t)}];if(this.props.history&&this.props.history.length>0)for(let n of this.props.history)r.push({role:"user",content:n.request.message}),n.response&&n.response.type==="model"&&r.push({role:"assistant",content:n.response.message});return r.push({role:"user",content:this.buildUserMessage(t)}),r}getExampleFilePath(t){return this.getFilePath(iA.posixFilePathToUri(t))}getFilePath(t){return iA.uriToPath(t)}async getValidFilesInWorkingSet(){let t=new Map;if(this.props.workingSet===void 0||this.props.workingSet===null||this.props.workingSet.length===0)return t;for(let r of this.props.workingSet){let n=await this.props.textDocumentProvider.getByUri(r.uri);n.status==="valid"&&t.set(r.uri,n.document)}return t}buildSystemMessage(t){let r=[];return r.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",t.size>0?"The user has a request for modifying one or more files.":["If the user asks a question, then answer it.",`If you need to change existing files and it's not clear which files should be changed, then refuse and answer with "Please add the files to be modified to the working set"`].join(`
`),"1. Please come up with a solution that you first describe step-by-step.","2. Group your changes by file. Use the file path as the header.","3. For each file, give a short summary of what needs to be changed followed by a code block that contains the code changes.","4. Each file's code block must start with a comment containing the filepath.","5. Use a single code block per file that needs to be modified, even if there are multiple changes for a file.","6. The user is very smart and can understand how to merge your code blocks into their files, you just need to provide minimal hints.","7. Avoid repeating existing code, instead use comments to represent regions of unchanged code. The user prefers that you are as concise as possible. For example: ",["<file>","````languageId",`// ${Uq} ${this.exampleFilePath}`,`// ${wl}`,"{ changed code }",`// ${wl}`,"{ changed code }",`// ${wl}`,"````","</file>"].join(`
`),"8. If you generate edits for a Markdown file, use four backticks for the outer code block.",""),this.props.userLanguage&&r.push(`Respond in the following locale: ${this.props.userLanguage}`),this.props.modelName&&r.push(`You use the ${this.props.modelName} large language model.`),r.push("Here is an example of how you should format a code block belonging to the file example.ts in your response:","<example>",[`### ${this.tsExampleFilePath}`,"","Add a new property 'age' and a new method 'getAge' to the class Person.","","<file>","```typescript",`// ${Uq} ${this.tsExampleFilePath}`,"class Person {",`   // ${wl}`,"   age: number;",`   // ${wl}`,"   getAge() {","      return this.age;","   }","}","```","</file>"].join(`
`),"</example>"),r.join(`
`)}buildUserMessage(t){let r=[];if(t.size>0){r.push("The user has provided the following files as input. Always make changes to these files unless the user asks to create a new file.","Untitled files are files that are not yet named. Make changes to them like regular files.");for(let[n,i]of t){let s=this.getFilePath(n),a=i.getText(),l=nA(a);r.push("<file>",`${l}${i.clientLanguageId}`,`// ${Uq} ${s}`,`${a}`,`${l}`,"</file>")}}return r.push("<reminder>",`Avoid repeating existing code, instead use a line comment with \`${wl}\` to represent regions of unchanged code.`,"Each file's code block must start with a line comment containing the filepath. This includes Markdown files.","For existing files, make sure the filepath exactly matches the filepath of the original file."),this.props.workspaceFolder&&r.push(`When suggesting to create new files, pick a location inside \`${this.getFilePath(this.props.workspaceFolder)}\``),r.push("</reminder>"),r.push("<prompt>",`${this.props.userMessage}`,"</prompt>"),r.join(`
`)}};d();d();var $q=class{constructor(t){this._source=t;this._buffer="";this._atEnd=!1}static{o(this,"PartialAsyncTextReader")}get endOfStream(){return this._buffer.length===0&&this._atEnd}async extendBuffer(){if(this._atEnd)return;let{value:t,done:r}=await this._source.next();r?this._atEnd=!0:this._buffer+=t}async waitForLength(t){for(;this._buffer.length<t&&!this._atEnd;)await this.extendBuffer()}async peek(t){return await this.waitForLength(t),this._buffer.substring(0,t)}async read(t){await this.waitForLength(t);let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}async readUntil(t){let r="";for(;!this.endOfStream;){let n=this.readImmediateExcept(t);if(r+=n,await this.peek(1)===t)break}return r}async readLineIncludingLF(){let t=await this.readUntil(`
`);return t+=await this.read(1),t}async readLine(){let t=await this.readUntil(`
`);return await this.read(1),t}readImmediateExcept(t){let r=this._buffer.indexOf(t);return this.readImmediate(r===-1?this._buffer.length:r)}readImmediate(t){let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}};var Zse="<file>",n_="```",o_="###",X8t=/^(`+)([^ \n]*)/,i_="filepath:";async function*FPe(e,t){let r=new $q(e[Symbol.asyncIterator]()),n=[];for(;!r.endOfStream;){for(;!r.endOfStream;){let E=await r.peek(Math.max(n_.length,Zse.length,o_.length));if(E.startsWith(Zse)||E.startsWith(n_))break;if(E.startsWith(o_)){let x=await r.readLineIncludingLF(),b=x.substring(o_.length).trim();await t(b)?n.length=0:n.push(x)}else await PPe(r,n)}if(r.endOfStream)break;let i=await r.readLineIncludingLF(),s=i.startsWith(Zse);for(;!r.endOfStream&&!i.startsWith(n_);)i=await r.readLineIncludingLF();if(r.endOfStream)break;let a=i.match(X8t),l=a?a[2]:void 0,c=XCe(l?YCe(l):void 0),u=[`${c.lineComment.start} ${i_}`,`:: ${i_}`,`<!-- ${i_}`,`// ${i_}`,`# ${i_}`],f=Math.max(...u.map(E=>E.length)),m=c.lineComment.end??"",h="</file>",p,A=[];for(;!r.endOfStream;){let E=await r.peek(Math.max(n_.length,f));if(E.startsWith(n_)){let x=await r.readLineIncludingLF();if(!s)break;if(await r.peek(h.length)===h){await r.readLineIncludingLF();break}else{A.push(x);continue}}if(!p&&u.some(x=>E.startsWith(x))){let x=await r.readLineIncludingLF(),b=u.reduce((v,S)=>E.startsWith(S)?x.substring(S.length):v,x);b=b.split("-->")[0].trim(),b.endsWith(m)&&(b=b.substring(0,b.length-m.length)),b=b.trim(),p=await t(b);continue}await PPe(r,A)}yield{resource:p,language:l,code:A.join(""),markdownBeforeBlock:n.join("")},n.length=0}}o(FPe,"getCodeBlocksFromResponse");async function PPe(e,t){for(;!e.endOfStream;){let r=e.readImmediateExcept(`
`);if(r.length>0&&t?.push(r),await e.peek(1)===`
`){e.readImmediate(1),t?.push(`
`);break}}}o(PPe,"pipeOneLine");function NPe(e){if(e.startsWith(`${o_} `))return"";let t=e.indexOf(`
${o_} `);return t===-1?"":e.substring(0,t)+`
`}o(NPe,"parseOverallDescription");d();d();var zq=class extends Error{static{o(this,"EditConversationNotFoundException")}constructor(t){super(t),this.name="EditConversationNotFoundException"}};var Z8t=new Cr("CopilotEditsConversations"),Ua=class{constructor(t){this.editConversations=new Bn(50);this.ctx=t}static{o(this,"EditConversations")}create(t="panel",r){let n=new Hq([],t,r);return this.editConversations.set(n.id,n),n}destroy(t){this.editConversations.delete(t)!==!0&&Z8t.warn(this.ctx,`Edit code conversation ${t} does not exist`)}addTurn(t,r){return this.get(t).addTurn(r),r}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getEditConversation(t)}getEditConversation(t){let r=this.editConversations.get(t);if(!r)throw new zq(`Conversation with id ${t} does not exist`);return r}getAll(){return Array.from(this.editConversations.values())}findByTurnId(t){let r=this.getAll();for(let n of r)if(n.hasTurn(t))return n}};d();d();var Zn=class{static{o(this,"ModelConfigurationProvider")}},Kq=class extends Zn{constructor(r){super();this.ctx=r}static{o(this,"DefaultModelConfigurationProvider")}async getBestChatModelConfig(r,n){let i=[];for(let s of r){let a=await this.getFirstMatchingChatModelConfiguration(s,n);a&&i.push(a)}if(i.length>0){let s=i.find(a=>a.isExperimental);return s||i[0]}throw Jr.error(this.ctx,`No model configuration found for families: ${r.join(", ")}. Available models: ${JSON.stringify(await this.ctx.get(Bu).getMetadata())}`),new Error("No model configuration found")}async getFirstMatchingModelMetadata(r){let n=await this.ctx.get(Bu).getMetadata(),i=e6t(n,r);if(i.length>0)return i[0]}async getFirstMatchingChatModelConfiguration(r,n){let i=await this.getFirstMatchingModelMetadata({family:r,type:"chat",supports:n});if(i!==void 0)return r===Mi.Gpt35turbo||r===Mi.Gpt4oMini?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:eae(6144,i),maxResponseTokens:Yq(2048,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r===Mi.Gpt4||r===Mi.Gpt4turbo?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:eae(10240,i),maxResponseTokens:Yq(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r.includes("claude")?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await LPe(this.ctx,i),maxResponseTokens:Yq(8192,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await LPe(this.ctx,i),maxResponseTokens:Yq(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}}async getFirstMatchingEmbeddingModelConfiguration(r){let n=await this.getFirstMatchingModelMetadata({family:r,type:"embeddings"});if(n!==void 0)switch(r){case sF.textEmbedding3Small:return{modelId:n.id,modelFamily:r,maxBatchSize:n.capabilities.limits?.max_inputs??16,maxTokens:8191,tokenizer:"cl100k_base"}}}};async function LPe(e,t){let r=e.get(jt),n=await r.updateExPValuesAndAssignments(),i=r.ideChatMaxRequestTokens(n);return i===-1&&(i=16384),eae(i,t)}o(LPe,"getExpRequestTokens");function eae(e,t){return t.capabilities.limits?.max_prompt_tokens?Math.min(e,t.capabilities.limits.max_prompt_tokens):e}o(eae,"getRequestTokens");function Yq(e,t){return t.capabilities.limits?.max_output_tokens?Math.min(e,t.capabilities.limits.max_output_tokens):e}o(Yq,"getResponseTokens");function e6t(e,t){return e.filter(r=>r.capabilities.type!==t.type||r.capabilities.family!==t.family?!1:r.capabilities.supports===void 0||t.supports===void 0?!0:Object.keys(t.supports).every(n=>t.supports?.[n]===r.capabilities.supports?.[n]))}o(e6t,"filterModelsByCapabilities");var ih=class{static{o(this,"ModelPickerUtils")}static async getModelConfiguration(t,r,n){return t.get(Zn).getBestChatModelConfig(n?[n]:Zo(r))}static transformMessages(t,r){return r===Mi.O1Ga||r===Mi.O1Mini?t.map(n=>n.role!=="user"?{role:"user",content:n.content}:n):t}};var oA=class{constructor(t,r){this.chatFetcher=r;this.ctx=t,this.chatFetcher=this.chatFetcher??new Ms(t)}static{o(this,"CopilotEditsService")}async createOrContinueEditConversation(t,r){try{await this.reportBegin(t);let n=await this.getEditCodeResult(t,r),i=Vq.processResult(t,n);await this.parseAndSendProgressBack(t,i,r),t.currentTurn.response={message:i,type:"model"},t.currentTurn.status="success",await this.reportEnd(t)}catch(n){if(n instanceof My)await this.reportEnd(t,{message:d5});else if(n instanceof ec)await this.reportEnd(t,n.editConversationError);else{let i=n instanceof Error?n.message:String(n);t.currentTurn.status="error",t.currentTurn.response={message:i,type:"meta"},await this.reportEnd(t,{message:i})}}return[]}async getEditCodeResult(t,r){await this.abortIfCancelled(t,r);let n=await this.buildEditCodePromptMessages(t),i=await this.ctx.get(jt).updateExPValuesAndAssignments();await this.abortIfCancelled(t,r);let s=await ih.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),a=ih.transformMessages(n,s.modelFamily);return await this.abortIfCancelled(t,r),await this.chatFetcher.fetchResponse({modelConfiguration:s,messages:a,uiKind:"editsPanel",intentParams:{intent:!0},temperature:.1,llmInteraction:t.toLlmInteraction()},r,i)}async buildEditCodePromptMessages(t){let r=t.currentTurn,n=await ih.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),i=t.editConversation.getTurns(),s=i.length>1?i.slice(0,-1):[];return await new jq({userMessage:r.request.message,workspaceFolder:r.workspaceFolder,workingSet:r.workingSet,userLanguage:t.editConversation.getUserLanguage(),textDocumentProvider:new Uy(this.ctx),modelName:n.uiName,history:s}).render()}async abortIfCancelled(t,r){if(r.isCancellationRequested)throw t.currentTurn.status="cancelled",t.currentTurn.response={message:d5,type:"user"},new My;this.ctx.get(Ua).get(t.editConversationId)}async parseAndSendProgressBack(t,r,n){try{let i=DPe(r),s=new Wq(this.ctx),a=o(async u=>iA.pathToUri(t,u),"createUri"),l=[],c=NPe(r);c&&await this.ctx.get(Tl).reportTurn(t,{fileGenerationStatus:"overall-description-generated",editDescription:c}),await this.abortIfCancelled(t,n);for await(let u of FPe(i,a))l.push(s.mapCode(u,t,n));await Promise.all(l),l.length===0&&await this.reportNoCodeBlocks(t,r)}catch(i){if(i instanceof Oy||i instanceof eI)t.currentTurn.status="error",t.currentTurn.response={message:i.message,type:"meta"},await this.reportEnd(t,{message:i.message});else if(i instanceof My)t.currentTurn.status="cancelled",t.currentTurn.response={message:d5,type:"user"},await this.reportEnd(t,{message:d5});else throw i}}async reportNoCodeBlocks(t,r){await this.ctx.get(Tl).reportTurn(t,{fileGenerationStatus:"no-code-blocks-found",rawResponse:r})}async reportBegin(t){await this.ctx.get(Tl).reportTurn(t,{fileGenerationStatus:"edit-conversation-begin"})}async reportEnd(t,r){await this.ctx.get(Tl).reportTurn(t,{fileGenerationStatus:"edit-conversation-end",error:r})}};d();var MPe="github.com",QPe=`https://${MPe}`,Z8=class extends Rn{constructor(r,n=QPe,i=process.env){super();this.env=i;this.validateBaseUrl(r,n)&&this.recalculateUrlDefaults(n),za(r,s=>this.onCopilotToken(r,s))}static{o(this,"DefaultNetworkConfiguration")}onCopilotToken(r,n){this.updateServiceEndpoints(r,n.envelope.endpoints)}getLastKnownEndpointUrl(r,n){return this.join((this.lastEndpoints??RP)[r],n)}isGitHubEnterprise(){return this.isEnterprise}getAuthAuthority(){return this.baseUrlObject.host}getAPIUrl(r){return this.join(this.apiUrl,r)}getTokenUrl(r){return r.devOverride?.copilotTokenUrl??this.tokenUrl}getNotificationUrl(r){return r.devOverride?.notificationUrl??this.notificationUrl}getContentRestrictionsUrl(r){return r.devOverride?.contentRestrictionsUrl??this.contentRestrictionsUrl}getBlackbirdIndexingStatusUrl(){return this.blackbirdIndexingStatusUrl}getLoginReachabilityUrl(){return this.loginReachabilityUrl}getDeviceFlowStartUrl(){return this.deviceFlowStartUrl}getDeviceFlowCompletionUrl(){return this.deviceFlowCompletionUrl}getSignUpLimitedUrl(){return this.signUpLimitedUrl}getUserInfoUrl(){return this.userInfoUrl}getTelemetryUrl(r){return this.join(this.telemetryUrl,r)}setTelemetryUrlForTesting(r){this.telemetryUrl=r}getExperimentationUrl(r){return this.join(this.experimentationUrl,r)}validateBaseUrl(r,n){return this.isPermittedUrl(r,n)?!0:(r.get(ml).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${n}".`),!1)}updateBaseUrl(r,n){n||=QPe;let i=this.baseUrlObject;this.validateBaseUrl(r,n)&&this.withTelemetryReInitialization(r,()=>{this.recalculateUrlDefaults(n),i.href!==this.baseUrlObject.href&&r.get(qr).resetToken()})}updateBaseUrlFromTokenEndpoint(r,n){try{let i=new URL(n);i.hostname.startsWith("api.")?this.updateBaseUrl(r,`https://${i.hostname.substring(4)}`):this.updateBaseUrl(r)}catch{this.updateBaseUrl(r)}}updateServiceEndpoints(r,n){this.lastEndpoints=n,n&&this.isPermittedUrl(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=this.join(n.telemetry,"telemetry"),this.experimentationUrl=this.join(n.telemetry,"telemetry")})}withTelemetryReInitialization(r,n){let i=this.telemetryUrl;if(n(),i===this.telemetryUrl)return;let s=r.get(Su);s.isInitialized&&s.reInitialize(r)}recalculateUrlDefaults(r){let n=this.parseUrls(r);this.baseUrlObject=n.base;let i=n.api;this.isEnterprise=this.baseUrlObject.host!==MPe,this.apiUrl=i.href,this.tokenUrl=this.join(i.href,"/copilot_internal/v2/token"),this.notificationUrl=this.join(i.href,"/copilot_internal/notification"),this.contentRestrictionsUrl=this.join(i.href,"/copilot_internal/content_exclusion"),this.blackbirdIndexingStatusUrl=this.join(i.href,"/copilot_internal/check_indexing_status"),this.loginReachabilityUrl=this.join(this.baseUrlObject.href,"/login/device"),this.deviceFlowStartUrl=this.join(this.baseUrlObject.href,"/login/device/code"),this.deviceFlowCompletionUrl=this.join(this.baseUrlObject.href,"/login/oauth/access_token"),this.userInfoUrl=this.join(i.href,"/user"),this.signUpLimitedUrl=this.join(i.href,"/copilot_internal/subscribe_limited_user"),this.telemetryUrl=this.join(this.isEnterprise?this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href:RP.telemetry,"/telemetry"),this.experimentationUrl=this.telemetryUrl}parseUrls(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL)try{return{base:new URL(this.env.GITHUB_SERVER_URL),api:new URL(this.env.GITHUB_API_URL)}}catch{}let n=new URL(r),i=this.prefixWith("api.",n);return{base:n,api:i}}isPermittedUrl(r,n){return this.isValidUrl(n)&&this.hasSupportedProtocol(r,n)}isValidUrl(r){try{if(r)return new URL(r),!0}catch{}return!1}hasSupportedProtocol(r,n){let i=new URL(n).protocol;return i==="https:"||!DP(r)&&i==="http:"}join(r,n){return n?new URL(n,r).href:r}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}};d();var jXr=new Cr("exp");function OPe(e){let t=e.get(jt);t.registerStaticFilters(n6t(e)),t.registerDynamicFilter("X-Copilot-OverrideEngine",()=>ci(e,qt.DebugOverrideEngine)||ci(e,qt.DebugOverrideEngineLegacy)),t.registerDynamicFilter("X-VSCode-ExtensionName",()=>e.get(an).getEditorPluginInfo().name),t.registerDynamicFilter("X-VSCode-ExtensionVersion",()=>tae(!e.get(oo).isProduction()&&e.get(an).getEditorPluginInfo().name==="copilot"?"1.999.0":e.get(an).getEditorPluginInfo().version)),t.registerDynamicFilter("X-VSCode-ExtensionRelease",()=>t6t(e)),t.registerDynamicFilter("X-VSCode-Build",()=>e.get(an).getEditorInfo().name),t.registerDynamicFilter("X-VSCode-AppVersion",()=>tae(e.get(an).getEditorInfo().version)),t.registerDynamicFilter("X-VSCode-TargetPopulation",()=>r6t(e)),t.registerDynamicFilterGroup(()=>{let r={};for(let n of e.get(an).getRelatedPluginInfo()){let i=_f+n.name.replace(/[^A-Za-z]/g,"").toLowerCase();if(!Object.values(C7).includes(i)){HP(e,{reason:`A filter could not be registered for the unrecognized related plugin "${n.name}".`});continue}r[i]=tae(n.version)}return r})}o(OPe,"setupExperimentationService");function t6t(e){let t=e.get(an).getEditorPluginInfo();return t.name==="copilot"&&Hf(e)==="nightly"||t.name==="copilot-intellij"&&t.version.endsWith("nightly")?"nightly":"stable"}o(t6t,"getPluginRelease");function r6t(e){let t=e.get(an).getEditorInfo();return t.name==="vscode"&&t.version.endsWith("-insider")?"insider":"public"}o(r6t,"getTargetPopulation");function n6t(e){return i6t(e)}o(n6t,"createAllFilters");function i6t(e){let t=e.get(hs);return{"X-MSEdge-ClientId":t.machineId,"X-Copilot-ClientVersion":L3(e)}}o(i6t,"createDefaultFilters");function tae(e){return e.split("-")[0]}o(tae,"trimVersionSuffix");d();d();var e6=class e{static{o(this,"TextEdit")}static isTextEdit(t){return t instanceof e?!0:t?Zc.isRange(t)&&typeof t.newText=="string":!1}static replace(t,r){return new e(t,r)}static insert(t,r){return e.replace(new Zc(t,t),r)}static delete(t){return e.replace(t,"")}static setEndOfLine(t){let r=new e(new Zc(new ho(0,0),new ho(0,0)),"");return r.newEol=t,r}get range(){return this._range}set range(t){if(t&&!Zc.isRange(t))throw Wy("range");this._range=t}get newText(){return this._newText||""}set newText(t){if(t&&typeof t!="string")throw Wy("newText");this._newText=t}get newEol(){return this._newEol}set newEol(t){if(t&&typeof t!="number")throw Wy("newEol");this._newEol=t}constructor(t,r){this._range=t,this._newText=r}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};var ho=class e{static{o(this,"Position")}static Min(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isBefore(r)&&(r=i)}return r}static Max(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isAfter(r)&&(r=i)}return r}static isPosition(t){if(!t)return!1;if(t instanceof e)return!0;let{line:r,character:n}=t;return typeof r=="number"&&typeof n=="number"}get line(){return this._line}get character(){return this._character}constructor(t,r){if(t<0)throw Wy("line must be non-negative");if(r<0)throw Wy("character must be non-negative");this._line=t,this._character=r}isBefore(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<t._character}isBeforeOrEqual(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<=t._character}isAfter(t){return!this.isBeforeOrEqual(t)}isAfterOrEqual(t){return!this.isBefore(t)}isEqual(t){return this._line===t._line&&this._character===t._character}compareTo(t){return this._line<t._line?-1:this._line>t.line?1:this._character<t._character?-1:this._character>t._character?1:0}translate(t,r=0){if(t===null||r===null)throw Wy();let n;return typeof t>"u"?n=0:typeof t=="number"?n=t:(n=typeof t.lineDelta=="number"?t.lineDelta:0,r=typeof t.characterDelta=="number"?t.characterDelta:0),n===0&&r===0?this:new e(this.line+n,this.character+r)}with(t,r=this.character){if(t===null||r===null)throw Wy();let n;return typeof t>"u"?n=this.line:typeof t=="number"?n=t:(n=typeof t.line=="number"?t.line:this.line,r=typeof t.character=="number"?t.character:this.character),n===this.line&&r===this.character?this:new e(n,r)}toJSON(){return{line:this.line,character:this.character}}[Symbol.for("debug.description")](){return`(${this.line}:${this.character})`}},Zc=class e{static{o(this,"Range")}static isRange(t){return t instanceof e?!0:t?ho.isPosition(t.start)&&ho.isPosition(t.end):!1}get start(){return this._start}get end(){return this._end}constructor(t,r,n,i){let s,a;if(typeof t=="number"&&typeof r=="number"&&typeof n=="number"&&typeof i=="number"?(s=new ho(t,r),a=new ho(n,i)):ho.isPosition(t)&&ho.isPosition(r)&&(s=t,a=r),!s||!a)throw new Error("Invalid arguments");s.isBefore(a)?(this._start=s,this._end=a):(this._start=a,this._end=s)}contains(t){return e.isRange(t)?this.contains(t.start)&&this.contains(t.end):ho.isPosition(t)?!(t.isBefore(this._start)||this._end.isBefore(t)):!1}isEqual(t){return this._start.isEqual(t._start)&&this._end.isEqual(t._end)}intersection(t){let r=ho.Max(t.start,this._start),n=ho.Min(t.end,this._end);if(!r.isAfter(n))return new e(r,n)}union(t){if(this.contains(t))return this;if(t.contains(this))return t;let r=ho.Min(t.start,this._start),n=ho.Max(t.end,this.end);return new e(r,n)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(t,r=this.end){if(t===null||r===null)throw Wy();let n;return t?ho.isPosition(t)?n=t:(n=t.start||this.start,r=t.end||this.end):n=this.start,n.isEqual(this._start)&&r.isEqual(this.end)?this:new e(n,r)}toJSON(){return[this.start,this.end]}[Symbol.for("debug.description")](){return o6t(this)}};function Wy(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(Wy,"illegalArgument");function o6t(e){return e.isEmpty?`[${e.start.line}:${e.start.character})`:`[${e.start.line}:${e.start.character} -> ${e.end.line}:${e.end.character})`}o(o6t,"getDebugDescriptionOfRange");d();d();var s6t="X-Initiator",a6t="X-Interaction-ID",l6t="X-Interaction-Type";var Jq=class{static{o(this,"LlmInteractionInitiator")}static id(){throw new Error("Must be implemented by subclass")}},rae=class extends Jq{static{o(this,"User")}static id(){return"user"}},nae=class extends Jq{static{o(this,"Agent")}static id(){return"agent"}},iae=class{static{o(this,"GenericLlmInteraction")}constructor(t,r,n){this.initiator=t.id(),this.interactionType=r,this.interactionId=n}toCapiHeaders(){return{[s6t]:this.initiator,[a6t]:this.interactionId,[l6t]:this.interactionType.toString()}}},tc=class e extends iae{static{o(this,"LlmInteraction")}static user(t,r){return new e(rae,t,r)}static agent(t,r){return new e(nae,t,r)}};d();d();d();var oh;(i=>{i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function n(s){return s[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=n,o(n,"getServiceDependencies")})(oh||={});var Jp=sh("instantiationService");function c6t(e,t,r){t[oh.DI_TARGET]===t?t[oh.DI_DEPENDENCIES].push({id:e,index:r}):(t[oh.DI_DEPENDENCIES]=[{id:e,index:r}],t[oh.DI_TARGET]=t)}o(c6t,"storeServiceDependency");function sh(e){if(oh.serviceIds.has(e))return oh.serviceIds.get(e);let t=o(function(r,n,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");c6t(t,r,i)},"id");return t.toString=()=>e,oh.serviceIds.set(e,t),t}o(sh,"createDecorator");d();d();var sf=class{static{o(this,"SyncDescriptor")}constructor(t,r=[],n=!1){this.ctor=t,this.staticArguments=r,this.supportsDelayedInstantiation=n}};d();var oae=class{constructor(t,r){this.key=t;this.data=r;this.incoming=new Map;this.outgoing=new Map}static{o(this,"Node")}},s_=class{constructor(t){this._hashFn=t;this._nodes=new Map}static{o(this,"Graph")}roots(){let t=[];for(let r of this._nodes.values())r.outgoing.size===0&&t.push(r);return t}insertEdge(t,r){let n=this.lookupOrInsertNode(t),i=this.lookupOrInsertNode(r);n.outgoing.set(i.key,i),i.incoming.set(n.key,n)}removeNode(t){let r=this._hashFn(t);this._nodes.delete(r);for(let n of this._nodes.values())n.outgoing.delete(r),n.incoming.delete(r)}lookupOrInsertNode(t){let r=this._hashFn(t),n=this._nodes.get(r);return n||(n=new oae(r,t),this._nodes.set(r,n)),n}lookup(t){return this._nodes.get(this._hashFn(t))}isEmpty(){return this._nodes.size===0}toString(){let t=[];for(let[r,n]of this._nodes)t.push(`${r}
	(-> incoming)[${[...n.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...n.outgoing.keys()].join(",")}]
`);return t.join(`
`)}findCycleSlow(){for(let[t,r]of this._nodes){let n=new Set([t]),i=this._findCycle(r,n);if(i)return i}}_findCycle(t,r){for(let[n,i]of t.outgoing){if(r.has(n))return[...r,n].join(" -> ");r.add(n);let s=this._findCycle(i,r);if(s)return s;r.delete(n)}}};d();var CE=class{constructor(...t){this._entries=new Map;for(let[r,n]of t)this.set(r,n)}static{o(this,"ServiceCollection")}set(t,r){let n=this._entries.get(t);return this._entries.set(t,r),n}has(t){return this._entries.has(t)}get(t){return this._entries.get(t)}};var u6t=!1,Xq=class extends Error{static{o(this,"CyclicDependencyError")}constructor(t){super("cyclic dependency between services"),this.message=t.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}},Zq=class e{constructor(t=new CE,r=!1,n,i=u6t){this._services=t;this._strict=r;this._parent=n;this._enableTracing=i;this._isDisposed=!1;this._servicesToMaybeDispose=new Set;this._children=new Set;this._activeInstantiations=new Set;this._services.set(Jp,this),this._globalGraph=i?n?._globalGraph??new s_(s=>s):void 0}static{o(this,"InstantiationService")}dispose(){if(!this._isDisposed){this._isDisposed=!0,tM(this._children),this._children.clear();for(let t of this._servicesToMaybeDispose)UIe(t)&&t.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(t,r){this._throwIfDisposed();let n=this,i=new class extends e{dispose(){n._children.delete(i),super.dispose()}}(t,this._strict,this,this._enableTracing);return this._children.add(i),r?.add(i),i}invokeFunction(t,...r){this._throwIfDisposed();let n=a_.traceInvocation(this._enableTracing,t),i=!1;try{return t({get:o(a=>{if(i)throw TIe("service accessor is only valid during the invocation of its target method");let l=this._getOrCreateServiceInstance(a,n);if(!l)throw new Error(`[invokeFunction] unknown service '${a}'`);return l},"get")},...r)}finally{i=!0,n.stop()}}createInstance(t,...r){this._throwIfDisposed();let n,i;return t instanceof sf?(n=a_.traceCreation(this._enableTracing,t.ctor),i=this._createInstance(t.ctor,t.staticArguments.concat(r),n)):(n=a_.traceCreation(this._enableTracing,t),i=this._createInstance(t,r,n)),n.stop(),i}_createInstance(t,r=[],n){let i=oh.getServiceDependencies(t).sort((l,c)=>l.index-c.index),s=[];for(let l of i){let c=this._getOrCreateServiceInstance(l.id,n);c||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${l.id}.`,!1),s.push(c)}let a=i.length>0?i[0].index:r.length;if(r.length!==a){console.trace(`[createInstance] First service dependency of ${t.name} at position ${a+1} conflicts with ${r.length} static arguments`);let l=a-r.length;l>0?r=r.concat(new Array(l)):r=r.slice(0,a)}return Reflect.construct(t,r.concat(s))}_setCreatedServiceInstance(t,r){if(this._services.get(t)instanceof sf)this._services.set(t,r);else if(this._parent)this._parent._setCreatedServiceInstance(t,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let r=this._services.get(t);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):r}_getOrCreateServiceInstance(t,r){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(t));let n=this._getServiceInstanceOrDescriptor(t);return n instanceof sf?this._safeCreateAndCacheServiceInstance(t,n,r.branch(t,!0)):(r.branch(t,!1),n)}_safeCreateAndCacheServiceInstance(t,r,n){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,r,n)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,r,n){let i=new s_(c=>c.id.toString()),s=0,a=[{id:t,desc:r,_trace:n}],l=new Set;for(;a.length;){let c=a.pop();if(!l.has(String(c.id))){if(l.add(String(c.id)),i.lookupOrInsertNode(c),s++>1e3)throw new Xq(i);for(let u of oh.getServiceDependencies(c.desc.ctor)){let f=this._getServiceInstanceOrDescriptor(u.id);if(f||this._throwIfStrict(`[createInstance] ${t} depends on ${u.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(c.id),String(u.id)),f instanceof sf){let m={id:u.id,desc:f,_trace:c._trace.branch(u.id,!0)};i.insertEdge(c,m),a.push(m)}}}}for(;;){let c=i.roots();if(c.length===0){if(!i.isEmpty())throw new Xq(i);break}for(let{data:u}of c){if(this._getServiceInstanceOrDescriptor(u.id)instanceof sf){let m=this._createServiceInstanceWithOwner(u.id,u.desc.ctor,u.desc.staticArguments,u.desc.supportsDelayedInstantiation,u._trace);this._setCreatedServiceInstance(u.id,m)}i.removeNode(u)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,r,n=[],i,s){if(this._services.get(t)instanceof sf)return this._createServiceInstance(t,r,n,i,s,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,r,n,i,s);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(t,r,n=[],i,s,a){if(i)throw new Error("Delayed instantiation not supported");{let l=this._createInstance(r,n,s);return a.add(l),l}}_throwIfStrict(t,r){if(r&&console.warn(t),this._strict)throw new Error(t)}};var a_=class e{constructor(t,r){this.type=t;this.name=r;this._start=Date.now();this._dep=[]}static{o(this,"Trace")}static{this.all=new Set}static{this._None=new class extends e{constructor(){super(0,null)}stop(){}branch(){return this}}}static traceInvocation(t,r){return t?new e(2,r.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):e._None}static traceCreation(t,r){return t?new e(1,r.name):e._None}static{this._totals=0}branch(t,r){let n=new e(3,t.toString());return this._dep.push([t,r,n]),n}stop(){let t=Date.now()-this._start;e._totals+=t;let r=!1;function n(s,a){let l=[],c=new Array(s+1).join("	");for(let[u,f,m]of a._dep)if(f&&m){r=!0,l.push(`${c}CREATES -> ${u}`);let h=n(s+1,m);h&&l.push(h)}else l.push(`${c}uses -> ${u}`);return l.join(`
`)}o(n,"printChild");let i=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${n(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${e._totals.toFixed(2)}ms)`];(t>2||r)&&e.all.add(i.join(`
`))}};var eW=class{constructor(t){this._isSealed=!1;this._collection=Array.isArray(t)?new CE(...t):t??new CE}static{o(this,"InstantiationServiceBuilder")}define(t,r){if(this._isSealed)throw new Error("This accessor is sealed and cannot be modified anymore.");this._collection.set(t,r)}seal(){if(this._isSealed)throw new Error("This accessor is sealed and cannot be seal again anymore.");return this._isSealed=!0,new Zq(this._collection,!0)}};var sA=sh("IParserService");d();var tW=sh("ISnippyService");d();d();var l_=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu"),rW=65;function f6t(e){let t=0,r;l_.lastIndex=0;do if(r=l_.exec(e),r&&(t+=1),t>=rW)break;while(r);return t}o(f6t,"lexemeLength");function d6t(e,t){let r=0,n;l_.lastIndex=0;do if(n=l_.exec(e),n&&(r+=1,r>=t))return l_.lastIndex;while(n);return e.length}o(d6t,"offsetFirstLexemes");function UPe(e,t){let r=e.split("").reverse().join(""),n=d6t(r,t);return r.length-n}o(UPe,"offsetLastLexemes");function sae(e){return f6t(e)>=rW}o(sae,"hasMinLexemeLength");d();d();d();var ga;(n=>{function e(i){return new aae(i)}n.ok=e,o(e,"ok");function t(i){return new lae(i)}n.error=t,o(t,"error");function r(i){return n.error(new Error(i))}n.fromString=r,o(r,"fromString")})(ga||={});var aae=class e{constructor(t){this.val=t}static{o(this,"ResultOk")}map(t){return new e(t(this.val))}flatMap(t){return t(this.val)}isOk(){return!0}isError(){return!1}},lae=class{constructor(t){this.err=t}static{o(this,"ResultError")}map(t){return this}flatMap(t){return this}isOk(){return!1}isError(){return!0}};var qPe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.matched_source=="string"&&typeof r.occurrences=="string"&&typeof r.capped=="boolean"&&typeof r.cursor=="string"&&typeof r.github_url=="string"}t.is=e,o(e,"is")})(qPe||={});var cae;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.kind=="string"&&typeof r.reason=="string"&&typeof r.code=="number"&&typeof r.msg=="string"}t.is=e,o(e,"is")})(cae||={});var WPe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"snippets"in r&&Array.isArray(r.snippets)&&r.snippets.every(qPe.is)}t.is=e,o(e,"is")})(WPe||={});var uae;(t=>{function e(r){if(cae.is(r))return ga.error(r);if(WPe.is(r))return ga.ok(r)}t.to=e,o(e,"to")})(uae||={});var GPe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.commit_id=="string"&&typeof r.license=="string"&&typeof r.nwo=="string"&&typeof r.path=="string"&&typeof r.url=="string"}t.is=e,o(e,"is")})(GPe||={});var HPe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.has_next_page=="boolean"&&typeof r.cursor=="string"}t.is=e,o(e,"is")})(HPe||={});var VPe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.count=="object"&&Object.values(r.count).every(n=>typeof n=="string")}t.is=e,o(e,"is")})(VPe||={});var jPe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"file_matches"in r&&Array.isArray(r.file_matches)&&r.file_matches.every(GPe.is)&&"page_info"in r&&HPe.is(r.page_info)&&"license_stats"in r&&VPe.is(r.license_stats)}t.is=e,o(e,"is")})(jPe||={});var fae;(t=>{function e(r){if(cae.is(r))return ga.error(r);if(jPe.is(r))return ga.ok(r)}t.to=e,o(e,"to")})(fae||={});var nW=class e{static{o(this,"SnippyFetchService")}static{this.TWIRP_URL="twirp/github.snippy.v1.SnippyAPI"}constructor(t){this.ctx=t}async fetchMatch(t){let r={source:t};return this.fetch("Match",r,uae.to)}async fetchFilesForMatch(t){let r={cursor:t};return this.fetch("FilesForMatch",r,fae.to)}async fetch(t,r,n){let i=this.ctx.get(Fr),s=await this.ctx.get(qr).getToken(),a=sv(this.ctx,s,"origin-tracker",`${e.TWIRP_URL}/${t}`),l={Authorization:`Bearer ${s.token}`,...a0(this.ctx)},c=i.makeAbortController(),u=await i.fetch(a,{method:"POST",headers:l,json:r,signal:c.signal});if(!u.ok)throw new Error(`Failed with status ${u.status} and body: ${await u.text()}`);let f=await u.json();return n(f)}};var $Pe=new Cr("[CODE REFERENCING]"),t6=class{constructor(t,r){this.instantiationService=r;this.ctx=t,this.fetcher=this.instantiationService.createInstance(nW,this.ctx)}static{o(this,"SnippyService")}async handlePostInsertion(t,r,n){let i=this.computeSourceToCheck(r,n);if(!i)return;let a=await this.ctx.get(Or).getOpenTextDocument({uri:t.toString()});if(!a){$Pe.error(this.ctx,"Unable to raise IP code citation notification: could not determine document version.");return}let l=a.version,c;try{c=await this.fetcher.fetchMatch(i.source)}catch(p){throw p}if(!c)throw new Error(`Failed to parse match response: ${c}`);if(c.isError())throw new Error(`Failed to match: ${c.err}`);if(c.val.snippets.length===0)return;let{snippets:u}=c.val,f=u.map(async p=>{let A=await this.fetcher.fetchFilesForMatch(p.cursor);if(!A||A.isError())return;let{file_matches:E,license_stats:x}=A.val;return{match:p,files:E,licenseStats:x}}),h=(await Promise.all(f)).filter(p=>!!p);if(h.length===0){$Pe.error(this.ctx,"Should never happen as per https://github.com/github/copilot-client/blob/34cae5c581d662525eb3305d58f0762e952f866d/extension/src/codeReferencing/handlePostInsertion.ts#L138");return}for(let p of h){let A=new Set(Object.keys(p.licenseStats?.count??{}));A.delete("NOASSERTION")&&A.add("unknown");let E=Array.from(A).sort(),x=`${p.match.matched_source.slice(0,100).replace(/[\r\n\t]+|^[ \t]+/gm," ").trim()}...`,b={inDocumentUri:t.toString(),offsetStart:i.startOffset,offsetEnd:i.endOffset,matchingText:x,location:{start:{line:i.startPosition.lineNumber,character:i.startPosition.column},end:{line:i.endPosition.lineNumber,character:i.endPosition.column}},version:l,details:E.map(v=>({license:v,url:`${p.match.github_url}`}))};await this.ctx.get(Ou).handleIPCodeCitation(this.ctx,b)}}computeSourceToCheck(t,r){if(r.newText==="")return;let n=ns.single(r),s=n.getNewRanges().reduce((h,p)=>h.join(p)),a=t.apply(n),l=s.start,c=a.value.substring(s.start,s.endExclusive);if(!sae(c)){let h=a.value.slice(0,s.start),p=UPe(h,rW);l=p,c=a.value.slice(p,s.start+r.newText.length)}if(!sae(c))return;let u=a.getTransformer(),f=u.getPosition(l),m=u.getPosition(s.endExclusive);return{source:c,startOffset:l,endOffset:s.endExclusive,startPosition:f,endPosition:m}}};t6=fu([ba(1,Jp)],t6);d();var c_=sh("ITokenizerProvider");d();d();d();var p6t=Symbol("MicrotaskDelay");function g6t(e){let t=new R1,r=e(t.token),n=new Promise((i,s)=>{let a=t.token.onCancellationRequested(()=>{a.dispose(),s(new bp)});Promise.resolve(r).then(l=>{a.dispose(),t.dispose(),i(l)},l=>{a.dispose(),t.dispose(),s(l)})});return new class{cancel(){t.cancel(),t.dispose()}then(i,s){return n.then(i,s)}catch(i){return this.then(void 0,i)}finally(i){return n.finally(i)}}}o(g6t,"createCancelablePromise");function EE(e,t){return t?new Promise((r,n)=>{let i=setTimeout(()=>{s.dispose(),r()},e),s=t.onCancellationRequested(()=>{clearTimeout(i),s.dispose(),n(new bp)})}):g6t(r=>EE(e,r))}o(EE,"timeout");var iW=class{constructor(t,r){this._isDisposed=!1;this._token=-1,typeof t=="function"&&typeof r=="number"&&this.setIfNotSet(t,r)}static{o(this,"TimeoutTimer")}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,r){if(this._isDisposed)throw new Ai("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,t()},r)}setIfNotSet(t,r){if(this._isDisposed)throw new Ai("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,t()},r))}};var u_=class{static{o(this,"DeferredPromise")}get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}constructor(){this.p=new Promise((t,r)=>{this.completeCallback=t,this.errorCallback=r})}complete(t){return new Promise(r=>{this.completeCallback(t),this.outcome={outcome:0,value:t},r()})}error(t){return new Promise(r=>{this.errorCallback(t),this.outcome={outcome:1,value:t},r()})}cancel(){return this.error(new bp)}},A6t;(r=>{async function e(n){let i,s=await Promise.all(n.map(a=>a.then(l=>l,l=>{i||(i=l)})));if(typeof i<"u")throw i;return s}r.settled=e,o(e,"settled");function t(n){return new Promise(async(i,s)=>{try{await n(i,s)}catch(a){s(a)}})}r.withAsyncBody=t,o(t,"withAsyncBody")})(A6t||={});var f_=class e{static{o(this,"AsyncIterableObject")}static fromArray(t){return new e(r=>{r.emitMany(t)})}static fromPromise(t){return new e(async r=>{r.emitMany(await t)})}static fromPromisesResolveOrder(t){return new e(async r=>{await Promise.all(t.map(async n=>r.emitOne(await n)))})}static merge(t){return new e(async r=>{await Promise.all(t.map(async n=>{for await(let i of n)r.emitOne(i)}))})}static{this.EMPTY=e.fromArray([])}constructor(t,r){this._state=0,this._results=[],this._error=null,this._onReturn=r,this._onStateChanged=new Gu,queueMicrotask(async()=>{let n={emitOne:o(i=>this.emitOne(i),"emitOne"),emitMany:o(i=>this.emitMany(i),"emitMany"),reject:o(i=>this.reject(i),"reject")};try{await Promise.resolve(t(n)),this.resolve()}catch(i){this.reject(i)}finally{n.emitOne=void 0,n.emitMany=void 0,n.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:o(async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await w4.toPromise(this._onStateChanged.event)}while(!0)},"next"),return:o(async()=>(this._onReturn?.(),{done:!0,value:void 0}),"return")}}static map(t,r){return new e(async n=>{for await(let i of t)n.emitOne(r(i))})}map(t){return e.map(this,t)}static filter(t,r){return new e(async n=>{for await(let i of t)r(i)&&n.emitOne(i)})}filter(t){return e.filter(this,t)}static coalesce(t){return e.filter(t,r=>!!r)}coalesce(){return e.coalesce(this)}static async toPromise(t){let r=[];for await(let n of t)r.push(n);return r}toPromise(){return e.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};var oW=class{constructor(t){this._deferred=new u_;this._asyncIterable=new f_(i=>{if(r){i.reject(r);return}return n&&i.emitMany(n),this._errorFn=s=>i.reject(s),this._emitFn=s=>i.emitOne(s),this._deferred.p},t);let r,n;this._emitFn=i=>{n||(n=[]),n.push(i)},this._errorFn=i=>{r||(r=i)}}static{o(this,"AsyncIterableSource")}get asyncIterable(){return this._asyncIterable}resolve(){this._deferred.complete()}reject(t){this._errorFn(t),this._deferred.complete()}emitOne(t){this._emitFn(t)}};var aW=sh("ITelemetrySender"),aA=sh("IChatMLFetcher");var sW=class{constructor(){this._stream=new oW;this._seenAnnotationTypes=new Set}static{o(this,"FetchStreamSource")}get stream(){return this._stream.asyncIterable}update(t,r){r.codeVulnAnnotations&&(!((t.match(/(^|\n)```/g)?.length??0)%2===1)||t.match(/(^|\n)```\w*\s*$/))&&(r.codeVulnAnnotations=void 0),r.codeVulnAnnotations&&(r.codeVulnAnnotations=r.codeVulnAnnotations.filter(n=>!this._seenAnnotationTypes.has(n.details.type)),r.codeVulnAnnotations.forEach(n=>this._seenAnnotationTypes.add(n.details.type))),this._stream.emitOne({text:t,delta:r})}resolve(){this._stream.resolve()}};async function zPe(e){let t=new eW;return t.define(aW,new dae(e)),t.define(sA,new sf(mae,[!0])),t.define(tW,new sf(t6,[e])),t.define(aA,await hae.Create(e)),t.define(c_,new sf(pae)),t.seal()}o(zPe,"createInstantiationService");var dae=class{constructor(t){this.ctx=t;this.ctx=t}static{o(this,"TelemetrySender")}sendTelemetryEvent(t,r,n){let i=Object.fromEntries(Object.entries(r??{}).filter(([l,c])=>c!==void 0)),s=Object.fromEntries(Object.entries(n??{}).filter(([l,c])=>c!==void 0)),a=nn.createAndMarkAsIssued(i,s);er(this.ctx,t,a)}},mae=class{static{o(this,"ParserServiceImpl")}getTreeSitterAST(t){}},hae=class e{constructor(t,r){this.modelConfiguration=r;this.fetcher=new Ms(t)}static{o(this,"CLSChatMLFetcher")}static async Create(t){let r=await t.get(Zn).getBestChatModelConfig([Mi.Gpt4oMini]);return new e(t,r)}get tokenBudget(){return this.modelConfiguration.maxRequestTokens}get tokenizerName(){return this.modelConfiguration.tokenizer}async fetchOne(t,r,n){let i=t.map(a=>e.chatMessageToClsChatMessage(a)),s=await this.fetcher.fetchResponse({modelConfiguration:this.modelConfiguration,messages:i,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:tc.user("nextEditSuggestions",xr())},n,f1.createEmptyConfigForTesting());if(s.type==="success"){let a={type:"success",value:s.value,requestId:s.requestId,serverRequestId:void 0,usage:void 0};return r&&await r(a.value,0,{text:a.value}),a}else return{type:e.clsResponseTypeToResponseType(s.type),reason:s.type,requestId:s.requestId,serverRequestId:void 0}}static chatMessageToClsChatMessage(t){switch(t.role){case"system":return{role:"system",content:t.content};case"user":if(typeof t.content!="string")throw new Error("User message content must be a string");return{role:"user",content:t.content};default:throw new Error(`Unsupported chat role: ${t.role}`)}}static clsResponseTypeToResponseType(t){switch(t){case"success":return"success";case"successMultiple":return"success";case"offTopic":return"offTopic";case"canceled":return"canceled";case"filtered":return"filtered";case"length":return"length";case"failed":return"failed";case"agentAuthRequired":return"agent_unauthorized";default:return"unknown"}}},pae=class e{constructor(){this.tokenizers=new Map;this.cl100kTokenizer=new lW("cl100k_base")}static{o(this,"CLSTokenizerProvider")}acquireTokenizer(t){let r=this.tokenizers.get(t.tokenizer);return r||(r=new lW(e.typeToName(t.tokenizer)),this.tokenizers.set(t.tokenizer,r)),r}static typeToName(t){switch(t){case"cl100k_base":return"cl100k_base";case"o200k_base":return"o200k_base";case"llama3":throw new Error("Llama3 tokenizer is not supported");default:throw new Error(`Unknown tokenizer type: ${t}`)}}},lW=class{static{o(this,"CLSTokenizer")}constructor(t){this.tokenizer=vo(t)}tokenLength(t){return this.tokenizer.tokenLength(t)}countMessageTokens(t){let r=0;if(typeof t.content=="string")return this.tokenLength(t.content);if(Array.isArray(t.content))for(let n of t.content)if(n.type==="text")r+=this.tokenLength(n.text);else throw new Error(`Unsupported message content part type: ${n.type}`);else throw new Error("Unsupported message content type");return r}countMessagesTokens(t){let r=0;for(let n of t)r+=this.countMessageTokens(n);return r}countToolTokens(t){throw new Error("Method not implemented.")}};d();d();var gae=class{constructor(t,r){this.baseDebounceTime=t;this.expectedTotalTime=r;this.providerInvocationTime=Date.now()}static{o(this,"DelaySession")}getDebounceTime(){let t=this.expectedTotalTime===void 0?this.baseDebounceTime:Math.min(this.baseDebounceTime,this.expectedTotalTime),r=Date.now()-this.providerInvocationTime;return Math.max(0,t-r)}getArtificalDelay(){if(this.expectedTotalTime===void 0)return 0;let t=Date.now()-this.providerInvocationTime;return Math.max(0,this.expectedTotalTime-t)}},cW=class{constructor(){this._recentUserActions=[]}static{o(this,"Delayer")}createDelaySession(){let n=this._getExpectedTotalTime(200);return new gae(200,n)}handleAcceptance(){this._recordUserAction("accepted")}handleRejection(){this._recordUserAction("rejected")}_recordUserAction(t){this._recentUserActions.push({time:Date.now(),kind:t}),this._recentUserActions=this._recentUserActions.slice(-10)}_getExpectedTotalTime(t){let l=Date.now(),c=1;for(let f of this._recentUserActions){let m=l-f.time;if(m>6e5)continue;let h=Math.exp(-m/6e5),p=f.kind==="rejected"?1.5:.8;c*=1+(p-1)*h}let u=t*c;return u=Math.min(3e3,Math.max(50,u)),u}};d();d();d();var uW=class e{constructor(t){this._indexMap=t}static{o(this,"Permutation")}get arrayLength(){return this._indexMap.length}static createSortPermutation(t,r){let n=Array.from(t.keys()).sort((i,s)=>r(t[i],t[s]));return new e(n)}apply(t){if(t.length!==this.arrayLength)throw Tw(`Permutation must be applied on an array of same length. Received length: ${t.length}. Expected length: ${this.arrayLength}`);return t.map((r,n)=>t[this._indexMap[n]])}mapIndexBack(t){let r=this._indexMap.at(t);if(r===void 0)throw Tw(`Given index must be within original array length. Received: ${t}. Expected: 0 <= x < ${this.arrayLength}`);return r}inverse(){let t=this._indexMap.slice();for(let r=0;r<this._indexMap.length;r++)t[this._indexMap[r]]=r;return new e(t)}};d();var m_=class e{constructor(t,r){this.firstEditStrategy=t;this.maxLinesPerEdit=r}static{o(this,"StatelessNextEditOptions")}doesFitMaxLinesPerEdit(t){return this.maxLinesPerEdit===void 0||t.lineRange.length<=this.maxLinesPerEdit&&t.newLines.length<=this.maxLinesPerEdit}serialize(){return{firstEditStrategy:this.firstEditStrategy,maxLinesPerEdit:this.maxLinesPerEdit}}static deserialize(t){return new e(t.firstEditStrategy,t.maxLinesPerEdit)}},fW=class e{constructor(t,r,n,i){this.id=t;this.documents=r;this.activeDocumentIdx=n;this.options=i;this.seqid=String(++e.ID);this.cancellationTokenSource=new R1;this.liveDependentants=0;this.fetchIssued=!1;this._result=new u_;Uc(r.length>0),Uc(n>=0&&n<r.length)}static{o(this,"StatelessNextEditRequest")}static{this.ID=0}get result(){return this._result.p}setResult(t){this._result.complete(t)}setResultError(t){this._result.error(t)}hasDocument(t){return this.documents.find(r=>r.id===t)!==void 0}static deserialize(t){return new e(t.id,t.documents.map(r=>h_.deserialize(r)),t.activeDocumentIdx,m_.deserialize(t.options))}getActiveDocument(){return this.documents[this.activeDocumentIdx]}serialize(){return{id:this.id,documents:this.documents.map(t=>t.serialize()),activeDocumentIdx:this.activeDocumentIdx,options:this.options.serialize()}}toString(){return this.toMarkdown()}toMarkdown(){return`### StatelessNextEditRequest

${this.documents.map((r,n)=>` * [${n+1}/${this.documents.length}] ${n===this.activeDocumentIdx?"(active document) ":""}`+r.toMarkdown()).join(`

`)}`}},h_=class e{constructor(t,r,n,i,s,a,l,c,u,f,m,h,p=i.length,A=new Vn(1,i.length+1),E=void 0){this.id=t;this.workspaceRoot=r;this.languageId=n;this.documentLinesBeforeEdit=i;this.recentEdit=s;this.recentlyEditedInLinesAfterEditRange=a;this.documentBeforeEdits=l;this.recentEdits=c;this.documentAfterEditsNoShortening=u;this.toEditOnDocumentAfterEditsNoShortening=f;this.toOffsetOnDocumentAfterEditsNoShortening=m;this.toProjectedOffset=h;this.lineCountBeforeClipping=p;this.clippingRange=A;this.lastSelectionInAfterEdit=E;this.recentlyEditedInLinesAfterEdit=this.recentlyEditedInLinesAfterEditRange===void 0?void 0:Vn.fromRangeInclusive(this.recentlyEditedInLinesAfterEditRange);this.documentAfterEdits=new gl(this.recentEdits.apply(this.documentBeforeEdits.value));this.documentAfterEditsLines=this.documentAfterEdits.getLines()}static{o(this,"StatelessNextEditDocument")}static deserialize(t){return new e(hd.create(t.id),t.workspaceRoot?ty.parse(t.workspaceRoot):void 0,B4.create(t.languageId),t.documentLinesBeforeEdit,Is.deserialize(t.recentEdit),t.recentlyEditedInLinesAfterEditRange?ui.lift(t.recentlyEditedInLinesAfterEditRange):void 0,new gl(t.documentBeforeEdits),Sp.deserialize(t.recentEdits),new gl(t.documentAfterEditsNoShortening),r=>{throw new Error("Deserializing serialized document does not implement translation of line edit to edit")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},t.lineCountBeforeClipping,Vn.deserialize(t.clippingRange))}serialize(){return{id:this.id.uri,workspaceRoot:this.workspaceRoot?.toString(),languageId:this.languageId,documentLinesBeforeEdit:this.documentLinesBeforeEdit,recentEdit:this.recentEdit.serialize(),recentlyEditedInLinesAfterEditRange:this.recentlyEditedInLinesAfterEditRange?.toJSON(),documentBeforeEdits:this.documentBeforeEdits.value,recentEdits:this.recentEdits.serialize(),documentAfterEditsNoShortening:this.documentAfterEditsNoShortening.value,lineCountBeforeClipping:this.lineCountBeforeClipping,clippingRange:this.clippingRange.serialize()}}getDisplayPath(){return this.id.uri}toString(){return this.toMarkdown()}toMarkdown(){let t=[];return t.push(`StatelessNextEditDocument: **${this.id.uri}**
`),t.push("```patch"),t.push(this.recentEdit.humanReadablePatch(this.documentLinesBeforeEdit)),t.push("```"),t.push(""),t.join(`
`)}};var Zi=class e{constructor(t,r){this.nextEdit=t;this.telemetry=r}static{o(this,"StatelessNextEditResult")}static noEdit(t,r){let n=ga.error(t),i=r.build(n);return new e(n,i)}static edit(t,r){let n=ga.ok(t),i=r.build(n);return new e(n,i)}},r6=class{constructor(t){this._request=t;this.startTime=Date.now(),this.requestUuid=t.id}static{o(this,"StatelessNextEditTelemetryBuilder")}build(t){let n=Date.now()-this.startTime,i=this._prompt?.split(`
`).length,s=this._prompt?.length,a=t.isOk(),l=t.isOk()?void 0:t.err.kind,c;if(!t.isOk())switch(t.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":break;case"gotCancelled":case"filteredOut":c=t.err.message;break;case"fetchFailure":case"uncategorized":case"unexpected":c=t.err.error.stack?t.err.error.stack:t.err.error.message;break;default:YQ(t.err)}return{hadStatelessNextEditProviderCall:!0,firstEditStrategy:this._request.options.firstEditStrategy,maxLinesPerEdit:this._request.options.maxLinesPerEdit,hasNextEdit:a,noNextEditReasonKind:l,noNextEditReasonMessage:c,statelessNextEditProviderDuration:n,logProbThreshold:this._logProbThreshold,promptLineCount:i,promptCharCount:s,isDefaultEndpoint:this._isDefaultEndpoint,debounceTime:this._debounceTime,fetchStartedAt:this._fetchStartedAt,fetchTime:this._fetchTime,fetchResult:this._fetchResult,fetchError:this._fetchError,hadLowLogProbSuggestion:this._hadLowLogProbSuggestion,nonTerminatingError:this._nonTerminatingError,nEditsSuggested:this._nEditsSuggested,nextEditLogprob:this._nextEditLogProb,kthEditPicked:this._kthEditPicked,lineDistanceToMostRecentEdit:this._lineDistanceToMostRecentEdit,firstPickStrategyOverride:this._firstPickStrategyOverride}}setLogProbThreshold(t){return this._logProbThreshold=t,this}setHadLowLogProbSuggestion(t){return this._hadLowLogProbSuggestion=t,this}setPrompt(t){return this._prompt=t,this}setIsDefaultEndpoint(t){return this._isDefaultEndpoint=t,this}setDebounceTime(t){return this._debounceTime=t,this}setFetchStartedAt(){return this._fetchStartedAt=Date.now(),this}get fetchStartedAt(){return this._fetchStartedAt}setFetchResultIfNotSet(t,r){return this._fetchResult===void 0&&(this._fetchResult=t,this._fetchError=r,Uc(this._fetchStartedAt!==void 0,"fetchStartedAt must be set before setting fetchTime"),this._fetchTime=Date.now()-this._fetchStartedAt),this}get fetchResult(){return this._fetchResult}get fetchError(){return this._fetchError}get fetchTime(){return this._fetchTime}setNonTerminatingError(t){return this._nonTerminatingError=t,this}setNextEditLogProb(t){return this._nextEditLogProb=t,this}setNEditsSuggested(t){return this._nEditsSuggested=t,this}setKthEditPicked(t){return this._kthEditPicked=t,this}setLineDistanceToMostRecentEdit(t){return this._lineDistanceToMostRecentEdit=t,this}setFirstPickStrategyOverride(t){return this._firstPickStrategyOverride=t,this}};function C6t(e,...t){let r=e;for(let n of t)r=n(r);return r}o(C6t,"chainStatelessNextEditProviders");var dW=class{constructor(t,r){this.ID=t;this._providers=r;let n={ID:this.ID,provideNextEdit:o((i,s)=>this.provideNextEditBase(i,s),"provideNextEdit")};this._impl=C6t(n,...this._providers)}static{o(this,"ChainedStatelessNextEditProvider")}provideNextEdit(t,r){return this._impl.provideNextEdit(t,r)}},n6=class{constructor(t){this._baseProvider=t}static{o(this,"EditFilterAspect")}get ID(){return this._baseProvider.ID}async provideNextEdit(t,r){let n=await this._baseProvider.provideNextEdit(t,r);if(n.nextEdit.isError())return n;let i=n.nextEdit.val,s=i.permutation===void 0?i.edit.edits:i.permutation.apply(i.edit.edits),a=this.filterEdit(t.getActiveDocument(),s);if(a.length===s.length)return n;if(a.length===0)return new Zi(ga.error({kind:"filteredOut",message:"uncategorized"}),n.telemetry);let l=uW.createSortPermutation(a,j5(u=>u.lineRange.startLineNumber,$5)),c=new Is(l.apply(a));return new Zi(ga.ok({edit:c,permutation:l.inverse()}),n.telemetry)}},mW=class extends n6{static{o(this,"IgnoreTriviaWhitespaceChangesAspect")}filterEdit(t,r){return r.filter(i=>!this._isWhitespaceOnlyChange(i,t.documentAfterEditsLines))}_isWhitespaceOnlyChange(t,r){let n=t.lineRange.toOffsetRange().slice(r),i=t.newLines;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++){let a=n[s],l=i[s];if(a.trim()!==l.trim())return!1}return!0}},hW=class extends n6{static{o(this,"IgnoreEditsAtClippingBorderAspect")}filterEdit(t,r){return r.filter(i=>!this._isAtClippingBorder(i,t.clippingRange,t.lineCountBeforeClipping))}_isAtClippingBorder(t,r,n){return r.startLineNumber>1&&t.lineRange.startLineNumber===1||r.endLineNumberExclusive<n&&t.lineRange.endLineNumberExclusive===r.length}};d();d();var E6t=Object.freeze({abap:{lineComment:{start:"'"},markdownLanguageIds:["abap","sap-abap"]},bat:{lineComment:{start:"REM"},alternativeLineComments:[{start:"::"}],aliases:["Batch","bat"],extensions:[".bat",".cmd"]},bibtex:{lineComment:{start:"%"},aliases:["BibTeX","bibtex"],extensions:[".bib"]},blade:{lineComment:{start:"#"}},c:{lineComment:{start:"//"},aliases:["C","c"],extensions:[".c",".i"],markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";"},aliases:["Clojure","clojure"],extensions:[".clj",".cljs",".cljc",".cljx",".clojure",".edn"],markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//"},aliases:["CoffeeScript","coffeescript","coffee"],extensions:[".coffee",".cson",".iced"],markdownLanguageIds:["coffeescript","coffee","cson","iced"],blockComment:["###","###"]},cpp:{lineComment:{start:"//"},aliases:["C++","Cpp","cpp"],extensions:[".cpp",".cc",".cxx",".c++",".hpp",".hh",".hxx",".h++",".h",".ii",".ino",".inl",".ipp",".ixx",".tpp",".txx",".hpp.in",".h.in"],markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"],blockComment:["/*","*/"]},csharp:{lineComment:{start:"//"},aliases:["C#","csharp"],extensions:[".cs",".csx",".cake"],markdownLanguageIds:["csharp","cs"],blockComment:["/*","*/"]},css:{lineComment:{start:"/*",end:"*/"},aliases:["CSS","css"],extensions:[".css"],blockComment:["/*","*/"]},dart:{lineComment:{start:"//"},aliases:["Dart"],extensions:[".dart"],blockComment:["/*","*/"]},dockerfile:{lineComment:{start:"#"},aliases:["Docker","Dockerfile","Containerfile"],extensions:[".dockerfile",".containerfile"],markdownLanguageIds:["dockerfile","docker"]},elixir:{lineComment:{start:"#"}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%"},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//"},aliases:["F#","FSharp","fsharp"],extensions:[".fs",".fsi",".fsx",".fsscript"],markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"],blockComment:["(*","*)"]},go:{lineComment:{start:"//"},aliases:["Go"],extensions:[".go"],markdownLanguageIds:["go","golang"],blockComment:["/*","*/"]},groovy:{lineComment:{start:"//"},aliases:["Groovy","groovy"],extensions:[".groovy",".gvy",".gradle",".jenkinsfile",".nf"],blockComment:["/*","*/"]},haml:{lineComment:{start:"-#"}},handlebars:{lineComment:{start:"{{!",end:"}}"},extensions:[".hbs",".handlebars"],markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"],blockComment:["{{!--","--}}"]},haskell:{lineComment:{start:"--"},markdownLanguageIds:["haskell","hs"]},html:{lineComment:{start:"<!--",end:"-->"},aliases:["HTML","htm","html","xhtml"],extensions:[".html",".htm",".shtml",".xhtml",".xht",".mdoc",".jsp",".asp",".aspx",".jshtm",".volt",".ejs",".rhtml"],markdownLanguageIds:["html","xhtml"],blockComment:["<!--","-->"]},ini:{lineComment:{start:";"},blockComment:[";"," "]},java:{lineComment:{start:"//"},extensions:[".java",".class"],markdownLanguageIds:["java","jsp"],blockComment:["/*","*/"]},javascript:{lineComment:{start:"//"},aliases:["JavaScript","javascript","js"],extensions:[".js",".es6",".mjs",".cjs",".pac"],markdownLanguageIds:["javascript","js"],blockComment:["/*","*/"]},javascriptreact:{lineComment:{start:"//"},aliases:["JavaScript JSX","JavaScript React","jsx"],extensions:[".jsx"],markdownLanguageIds:["jsx"]},json:{extensions:[".json"],lineComment:{start:"//"},blockComment:["/*","*/"]},jsonc:{lineComment:{start:"//"}},jsx:{lineComment:{start:"//"},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#"},aliases:["Julia","julia"],extensions:[".jl"],markdownLanguageIds:["julia","jl"],blockComment:["#=","=#"]},kotlin:{lineComment:{start:"//"},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%"},aliases:["LaTeX","latex"],extensions:[".tex",".ltx",".ctx"],markdownLanguageIds:["tex"]},less:{lineComment:{start:"//"},aliases:["Less","less"],extensions:[".less"],blockComment:["/*","*/"]},lua:{lineComment:{start:"--"},aliases:["Lua","lua"],extensions:[".lua"],markdownLanguageIds:["lua","pluto"],blockComment:["--[[","]]"]},makefile:{lineComment:{start:"#"},aliases:["Makefile","makefile"],extensions:[".mak",".mk"],markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"//"},aliases:["Markdown","markdown"],extensions:[".md",".mkd",".mdwn",".mdown",".markdown",".markdn",".mdtxt",".mdtext",".workbook"],markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//"},aliases:["Objective-C"],extensions:[".m"],markdownLanguageIds:["objectivec","mm","objc","obj-c"],blockComment:["/*","*/"]},"objective-cpp":{lineComment:{start:"//"},aliases:["Objective-C++"],extensions:[".mm"],markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#"},aliases:["Perl","perl"],extensions:[".pl",".pm",".pod",".t",".PL",".psgi"],markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//"},aliases:["PHP","php"],extensions:[".php",".php4",".php5",".phtml",".ctp"],blockComment:["/*","*/"]},powershell:{lineComment:{start:"#"},aliases:["PowerShell","powershell","ps","ps1"],extensions:[".ps1",".psm1",".psd1",".pssc",".psrc"],markdownLanguageIds:["powershell","ps","ps1"],blockComment:["<#","#>"]},pug:{lineComment:{start:"//"}},python:{lineComment:{start:"#"},aliases:["Python","py"],extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi",".pyi",".ipy",".pyt"],markdownLanguageIds:["python","py","gyp"],blockComment:['"""','"""']},ql:{lineComment:{start:"//"}},r:{lineComment:{start:"#"},aliases:["R","r"],extensions:[".r",".rhistory",".rprofile",".rt"]},razor:{lineComment:{start:"<!--",end:"-->"},aliases:["Razor","razor"],extensions:[".cshtml",".razor"],markdownLanguageIds:["cshtml","razor","razor-cshtml"],blockComment:["<!--","-->"]},ruby:{lineComment:{start:"#"},aliases:["Ruby","rb"],extensions:[".rb",".rbx",".rjs",".gemspec",".rake",".ru",".erb",".podspec",".rbi"],markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"],blockComment:["=begin","=end"]},rust:{lineComment:{start:"//"},aliases:["Rust","rust"],extensions:[".rs"],markdownLanguageIds:["rust","rs"],blockComment:["/*","*/"]},sass:{lineComment:{start:"//"}},scala:{lineComment:{start:"//"}},scss:{lineComment:{start:"//"},aliases:["SCSS","scss"],extensions:[".scss"],blockComment:["/*","*/"]},shellscript:{lineComment:{start:"#"},aliases:["Shell Script","shellscript","bash","fish","sh","zsh","ksh","csh"],extensions:[".sh",".bash",".bashrc",".bash_aliases",".bash_profile",".bash_login",".ebuild",".profile",".bash_logout",".xprofile",".xsession",".xsessionrc",".Xsession",".zsh",".zshrc",".zprofile",".zlogin",".zlogout",".zshenv",".zsh-theme",".fish",".ksh",".csh",".cshrc",".tcshrc",".yashrc",".yash_profile"],markdownLanguageIds:["bash","sh","zsh"]},slim:{lineComment:{start:"/"}},solidity:{lineComment:{start:"//"},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--"},aliases:["SQL"],extensions:[".sql",".dsql"],blockComment:["/*","*/"]},stylus:{lineComment:{start:"//"}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//"},aliases:["Swift","swift"],extensions:[".swift"],blockComment:["/*","*/"]},terraform:{lineComment:{start:"#"}},tex:{lineComment:{start:"%"},aliases:["TeX","tex"],extensions:[".sty",".cls",".bbx",".cbx"]},typescript:{lineComment:{start:"//"},aliases:["TypeScript","ts","typescript"],extensions:[".ts",".cts",".mts"],markdownLanguageIds:["typescript","ts"],blockComment:["/*","*/"]},typescriptreact:{lineComment:{start:"//"},aliases:["TypeScript JSX","TypeScript React","tsx"],extensions:[".tsx"],markdownLanguageIds:["tsx"],blockComment:["/*","*/"]},vb:{lineComment:{start:"'"},aliases:["Visual Basic","vb"],extensions:[".vb",".brs",".vbs",".bas",".vba"],markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//"}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//"},extensions:[".vue"]},xml:{lineComment:{start:"<!--",end:"-->"},aliases:["XML","xml"],extensions:[".xml",".xsd",".ascx",".atom",".axml",".axaml",".bpmn",".cpt",".csl",".csproj",".csproj.user",".dita",".ditamap",".dtd",".ent",".mod",".dtml",".fsproj",".fxml",".iml",".isml",".jmx",".launch",".menu",".mxml",".nuspec",".opml",".owl",".proj",".props",".pt",".publishsettings",".pubxml",".pubxml.user",".rbxlx",".rbxmx",".rdf",".rng",".rss",".shproj",".storyboard",".svg",".targets",".tld",".tmx",".vbproj",".vbproj.user",".vcxproj",".vcxproj.filters",".wsdl",".wxi",".wxl",".wxs",".xaml",".xbl",".xib",".xlf",".xliff",".xpdl",".xul",".xoml"],blockComment:["<!--","-->"]},xsl:{lineComment:{start:"<!--",end:"-->"},aliases:["XSL","xsl"],extensions:[".xsl",".xslt"]},yaml:{lineComment:{start:"#"},markdownLanguageIds:["yaml","yml"]}}),x6t=new Map(Object.entries(E6t).map(([e,t])=>[e,{languageId:e,...t}]));function KPe(e){return yae(typeof e=="string"?e:typeof e>"u"?"plaintext":e.languageId)}o(KPe,"getLanguage");function yae(e){return x6t.get(e.toLowerCase())??{languageId:e,lineComment:{start:"//"}}}o(yae,"_getLanguage");d();function JPe(e){let r=e.split(/\r?\n/).map(b6t),n=r.filter(s=>s===1).length,i=r.filter(s=>s===2).length;return n>i}o(JPe,"looksLikeCode");function b6t(e){if(e.length===0)return 0;let t=0,r=0;if(["==","!=","===","!==",">=","<=","&&","||",">>",">>>","<<","<<<","+=","-=","*=","/=","%=","<<=","<<<=",">>=",">>>=","++","--","=>","->","...","??","??="].some(i=>e.includes(i))||e.match(/^\s/)||e.match(/^[;{}()\[\]`~?]/))return 1;e.charAt(0).match(/[A-Z]/)&&(t+=1),e[e.length-1]==="."&&(t+=1),kte(e)||(t+=1);{kte(e.charAt(0))&&!e.charAt(0).match(/[A-Z]/)&&(r+=1),e.match(/^\s/)&&(r+=1);let s=[";","{","}","(",")","[","]","`","~","#","$","%","^","&","*","_","=","+","\\","|","<",">"].map(a=>e.includes(a)?1:0).filter(a=>a).length;r+=s}return t>r?2:r>t?1:0}o(b6t,"guessLineType");var i6;(r=>{function e(n){return n.length===0?[]:n.split(/\r\n|\r|\n/g)}r.fromString=e,o(e,"fromString");function t(n){if(n.lineCount===0)return[];let i=[];for(let s=0;s<n.lineCount;s++)i.push(n.lineAt(s).text);return i}r.fromDocument=t,o(t,"fromDocument")})(i6||={});function v6t(e){return e.replace(/^\s+/g,"")}o(v6t,"trimLeadingWhitespace");function Cae(e,t){switch(t){case"java":return!!e.match(/^\s*import\s/);case"typescript":case"typescriptreact":case"javascript":case"javascriptreact":return!!e.match(/^\s*import[\s{*]|^\s*[var|const|let].*=\s*require\(/);case"php":return!!e.match(/^\s*use/);case"rust":return!!e.match(/^\s*use\s+[\w:{}, ]+\s*(as\s+\w+)?;/);case"python":return!!e.match(/^\s*from\s+[\w.]+\s+import\s+[\w, *]+$/)||!!e.match(/^\s*import\s+[\w, ]+$/);default:return!1}}o(Cae,"isImportStatement");var I6t=new D1(e=>{let t=KPe(e),{start:r,end:n}=t.lineComment,i=`(?:${_te(r)})`,s=n?`(?:${_te(n)})?`:"";return new RegExp(`${i}(.*)${s}$`)});function Eae(e,t){let r=e.match(I6t.get(t));if(!r)return;let n=r.index;if(typeof n>"u")return;let i=e.substring(0,n),s=r[0],a=v6t(r[1]||"");return{content:i,commentWithTokens:s,commentWithoutTokens:a}}o(Eae,"extractEndLineComment");function pW(e,t){let r=Eae(e,t);if(!(r&&r.content.trim().length>0&&JPe(r.commentWithoutTokens)))return r}o(pW,"extractExplicativeEndLineComment");var gW=class e extends n6{static{o(this,"IgnoreImportChangesAspect")}static isImportChange(t,r,n){return t.newLines.some(i=>Cae(i,r))||T6t(t,n).some(i=>Cae(i,r))}filterEdit(t,r){let n=t.languageId;return r.filter(s=>!e.isImportChange(s,n,t.documentLinesBeforeEdit))}};function T6t(e,t){return kIe(e.lineRange.mapToLineArray(r=>t[r-1]))}o(T6t,"getOldLines");d();var xae=nt(AI());d();var o6=class{static{o(this,"DiffChange")}constructor(t,r,n,i){this.originalStart=t,this.originalLength=r,this.modifiedStart=n,this.modifiedLength=i}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}},p_=class{constructor(t,r=!0){this.lines=t;this.trimWhitespace=r}static{o(this,"LineSequence")}getElements(){let t=[];for(let r=0,n=this.lines.length;r<n;r++)t[r]=this.trimWhitespace?this.lines[r].trim():this.lines[r];return t}getCharCount(){let t=0;for(let r of this.lines)t+=r.length;return t}},g_=class{static{o(this,"CharSequence")}constructor(t){this._chars=t.split("")}getElements(){return this._chars}},Gy=class{static{o(this,"Debug")}static Assert(t,r){if(!t)throw new Error(r)}},Hy=class{static{o(this,"MyArray")}static Copy(t,r,n,i,s){for(let a=0;a<s;a++)n[i+a]=t[r+a]}static Copy2(t,r,n,i,s){for(let a=0;a<s;a++)n[i+a]=t[r+a]}};var AW=class{static{o(this,"DiffChangeHelper")}constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new o6(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_originalCount++}AddModifiedElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},A_=class e{static{o(this,"LcsDiff")}constructor(t,r){let[n,i]=e._getElements(t),[s,a]=e._getElements(r);this._originalStringElements=n,this._originalElementsOrHash=i,this._modifiedStringElements=s,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _getElements(t){let r=t.getElements(),n=new Int32Array(r.length);for(let i=0,s=r.length;i<s;i++)n[i]=this._stringHash(r[i],0);return[r,n]}static _numberHash(t,r){return(r<<5)-r+t|0}static _stringHash(t,r){r=this._numberHash(149417,r);for(let n=0,i=t.length;n<i;n++)r=this._numberHash(t.charCodeAt(n),r);return r}ElementsAreEqual(t,r){return this._originalElementsOrHash[t]!==this._modifiedElementsOrHash[r]?!1:this._originalStringElements[t]===this._modifiedStringElements[r]}ComputeDiff(){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1)}_ComputeDiff(t,r,n,i){return this.ComputeDiffRecursive(t,r,n,i)}ComputeDiffRecursive(t,r,n,i){for(;t<=r&&n<=i&&this.ElementsAreEqual(t,n);)t++,n++;for(;r>=t&&i>=n&&this.ElementsAreEqual(r,i);)r--,i--;if(t>r||n>i){let f;return n<=i?(Gy.Assert(t===r+1,"originalStart should only be one more than originalEnd"),f=[new o6(t,0,n,i-n+1)]):t<=r?(Gy.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[new o6(t,r-t+1,n,0)]):(Gy.Assert(t===r+1,"originalStart should only be one more than originalEnd"),Gy.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[]),f}let s=[0],a=[0],l=this.ComputeRecursionPoint(t,r,n,i,s,a),c=s[0],u=a[0];if(l!==null)return l;{let f=this.ComputeDiffRecursive(t,c,n,u),m=this.ComputeDiffRecursive(c+1,r,u+1,i);return this.ConcatenateChanges(f,m)}}WALKTRACE(t,r,n,i,s,a,l,c,u,f,m,h,p,A,E,x,b){let v=null,S=null,B=new AW,P=r,F=n,G=p[0]-x[0]-i,re=-1073741824,pe=this.m_forwardHistory.length-1;do{let Z=G+t;Z===P||Z<F&&u[Z-1]<u[Z+1]?(m=u[Z+1],A=m-G-i,m<re&&B.MarkNextChange(),re=m,B.AddModifiedElement(m+1,A),G=Z+1-t):(m=u[Z-1]+1,A=m-G-i,m<re&&B.MarkNextChange(),re=m-1,B.AddOriginalElement(m,A+1),G=Z-1-t),pe>=0&&(u=this.m_forwardHistory[pe],t=u[0],P=1,F=u.length-1)}while(--pe>=-1);v=B.getReverseChanges(),B=new AW,P=a,F=l,G=p[0]-x[0]-c,re=1073741824,pe=b?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let Z=G+s;Z===P||Z<F&&f[Z-1]>=f[Z+1]?(m=f[Z+1]-1,A=m-G-c,m>re&&B.MarkNextChange(),re=m+1,B.AddOriginalElement(m+1,A+1),G=Z+1-s):(m=f[Z-1],A=m-G-c,m>re&&B.MarkNextChange(),re=m,B.AddModifiedElement(m+1,A+1),G=Z-1-s),pe>=0&&(f=this.m_reverseHistory[pe],s=f[0],P=1,F=f.length-1)}while(--pe>=-1);return S=B.getChanges(),this.ConcatenateChanges(v,S)}ComputeRecursionPoint(t,r,n,i,s,a){let l=0,c=0,u=0,f=0,m=0,h=0;t--,n--,s[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let p=r-t+(i-n),A=p+1,E=new Int32Array(A),x=new Int32Array(A),b=i-n,v=r-t,S=t-n,B=r-i,F=(v-b)%2===0;E[b]=t,x[v]=r;for(let G=1;G<=p/2+1;G++){let re=0,pe=0;u=this.ClipDiagonalBound(b-G,G,b,A),f=this.ClipDiagonalBound(b+G,G,b,A);for(let Z=u;Z<=f;Z+=2){Z===u||Z<f&&E[Z-1]<E[Z+1]?l=E[Z+1]:l=E[Z-1]+1,c=l-(Z-b)-S;let W=l;for(;l<r&&c<i&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(E[Z]=l,l+c>re+pe&&(re=l,pe=c),!F&&Math.abs(Z-v)<=G-1&&l>=x[Z])return s[0]=l,a[0]=c,W<=x[Z]&&G<=1448?this.WALKTRACE(b,u,f,S,v,m,h,B,E,x,l,r,s,c,i,a,F):null}m=this.ClipDiagonalBound(v-G,G,v,A),h=this.ClipDiagonalBound(v+G,G,v,A);for(let Z=m;Z<=h;Z+=2){Z===m||Z<h&&x[Z-1]>=x[Z+1]?l=x[Z+1]-1:l=x[Z-1],c=l-(Z-v)-B;let W=l;for(;l>t&&c>n&&this.ElementsAreEqual(l,c);)l--,c--;if(x[Z]=l,F&&Math.abs(Z-b)<=G&&l<=E[Z])return s[0]=l,a[0]=c,W>=E[Z]&&G<=1448?this.WALKTRACE(b,u,f,S,v,m,h,B,E,x,l,r,s,c,i,a,F):null}if(G<=1447){let Z=new Int32Array(f-u+2);Z[0]=b-u+1,Hy.Copy2(E,u,Z,1,f-u+1),this.m_forwardHistory.push(Z),Z=new Int32Array(h-m+2),Z[0]=v-m+1,Hy.Copy2(x,m,Z,1,h-m+1),this.m_reverseHistory.push(Z)}}return this.WALKTRACE(b,u,f,S,v,m,h,B,E,x,l,r,s,c,i,a,F)}ConcatenateChanges(t,r){let n=[];if(t.length===0||r.length===0)return r.length>0?r:t;if(this.ChangesOverlap(t[t.length-1],r[0],n)){let i=new Array(t.length+r.length-1);return Hy.Copy(t,0,i,0,t.length-1),i[t.length-1]=n[0],Hy.Copy(r,1,i,t.length,r.length-1),i}else{let i=new Array(t.length+r.length);return Hy.Copy(t,0,i,0,t.length),Hy.Copy(r,0,i,t.length,r.length),i}}ChangesOverlap(t,r,n){if(Gy.Assert(t.originalStart<=r.originalStart,"Left change is not less than or equal to right change"),Gy.Assert(t.modifiedStart<=r.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=r.originalStart||t.modifiedStart+t.modifiedLength>=r.modifiedStart){let i=t.originalStart,s=t.originalLength,a=t.modifiedStart,l=t.modifiedLength;return t.originalStart+t.originalLength>=r.originalStart&&(s=r.originalStart+r.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=r.modifiedStart&&(l=r.modifiedStart+r.modifiedLength-t.modifiedStart),n[0]=new o6(i,s,a,l),!0}else return n[0]=null,!1}ClipDiagonalBound(t,r,n,i){if(t>=0&&t<i)return t;let s=n,a=i-n-1,l=r%2===0;if(t<0){let c=s%2===0;return l===c?0:1}else{let c=a%2===0;return l===c?i-1:i-2}}};d();function XPe(e){let t=new Set;return JSON.stringify(e,(r,n)=>{if(_8e(n)||Array.isArray(n)){if(t.has(n))return"[Circular]";t.add(n)}return typeof n=="bigint"?`[BigInt ${n.toString()}]`:n})}o(XPe,"safeStringify");var yW=!1,Iae=!0,w6t=200,y_=class{constructor(t,r){this.ID=t;this._parserService=r;this.dependsOnSelection=!0}static{o(this,"AbstractNearbyCursorInlineEditProvider")}async provideNextEdit(t,r){let n=new r6(t),i=t.getActiveDocument(),s=C_(i);if(!s||!s.isEmpty())return Zi.noEdit({kind:"uncategorized",error:new Error("Selection is not empty")},n);let a=i.documentLinesBeforeEdit,l=i.recentEdit.apply(a),c=[];for(let v of t.documents)v.id!==i.id&&(c.push(`RELATED DOC: ${v.getDisplayPath()}`),c.push("```patch"),c.push(...R6t(v)),c.push("```"),c.push(""));c.push(`ORIGINAL VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...a),c.push("```"),c.push("");let u="// ...rest of the lines omitted...",f=new Vn(1,Math.max(1,s.startLineNumber-1)),m=i.recentEdit.edits.length>0?i.recentEdit.edits[i.recentEdit.edits.length-1].lineRange.endLineNumberExclusive-1:0,h;if(m>0&&m>=f.endLineNumberExclusive){let v=m<l.length;c.push(`IN PROGRESS VERSION ${v?" PREFIX":""}: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,m)),v&&(c.push(u),h={editRange:new Vn(f.endLineNumberExclusive,m+1),omittedMessage:u}),c.push("```"),c.push("")}c.push(`NEXT VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,f.endLineNumberExclusive-1)),c.push("");let p=l.slice(f.endLineNumberExclusive-1).join(`
`),A=await this.fetchUntilConvergence(c.join(`
`),p,r);if(r.isCancellationRequested)return Zi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n);if(A.isError())return A.err.kind==="cancel"?Zi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n):Zi.noEdit({kind:"fetchFailure",error:new Error(XPe(A.err))},n);let{result:E}=A.val;if(E.trim().length===0)return Zi.noEdit({kind:"noSuggestions"},n);let x=CW(i.languageId,l,f,void 0,E,h),b=await Sae(this._parserService,x,i,{requireEditWithinNLines:5});if(b){let v=new Is([b]);return Zi.edit({edit:v},n)}else return Zi.noEdit({kind:"filteredOut",message:"uncategorized"},n)}};y_=fu([ba(1,sA)],y_);var s6=class extends y_{constructor(r,n){super(s6.ID,r);this._chatMLFetcher=n}static{o(this,"MiniNearbyCursorInlineEditProvider")}static{this.ID="MiniNearbyCursorInlineEditProvider"}async fetchUntilConvergence(r,n,i){if(i.isCancellationRequested)return ga.error({kind:"cancel"});let s=await Tae(this.ID,this._chatMLFetcher,[{role:xae.ChatRole.System,content:`
Please no talking.
You must only provide code.
Simply provide the code that follows most logically.
You don't change code if not necessary.
You see the same file multiple times, but only the last one is the final version.
`.trim()},{role:xae.ChatRole.User,content:r}],{convergence:n},i);if(s.isError())return s;let{ignored:a,result:l,headersTime:c}=s.val;return l=l.replace(/^```[^\n]*\n/,""),ga.ok({ignored:a,result:l,headersTime:c})}};s6=fu([ba(0,sA),ba(1,aA)],s6);async function Tae(e,t,r,n,i){let s=new sW,a=!1,l,c=s.stream.map(E=>({choices:[{index:0,finish_reason:null,logprobs:null,text:E.delta.text}]})),u=_6t(c,n),f=t.fetchOne(r,async(E,x,b)=>(typeof l>"u"&&(l=Date.now()),s.update(E,b),a?E.length:void 0),i);(async()=>{try{await f}finally{s.resolve()}})();let{ignored:m,result:h,shouldCancelRequest:p}=await u;typeof l>"u"&&(l=Date.now()),p&&(a=!0);let A=await f;return A.type!=="success"?ga.error({kind:"failure",err:new Error(`Fetch failed (${A.type}, ${A.reason})`)}):ga.ok({headersTime:l,ignored:m,result:h})}o(Tae,"fetchUntilConvergence");function C_(e){let t=new Ur(0,0);return e.lastSelectionInAfterEdit&&!e.lastSelectionInAfterEdit.equals(t)?e.documentAfterEdits.getTransformer().getRange(e.lastSelectionInAfterEdit):e.recentEdit.edits.length===0?null:S6t(e)}o(C_,"getOrDeduceSelectionFromLastEdit");function S6t(e){let t=e.recentEdit.edits[e.recentEdit.edits.length-1],r=t.lineRange,i=e.recentEdit.getNewLineRanges()[e.recentEdit.edits.length-1].endLineNumberExclusive-1,s=t.newLines[t.newLines.length-1]??"";if(r.length===0)return new ui(i,s.length+1,i,s.length+1);let a=e.documentLinesBeforeEdit[r.endLineNumberExclusive-2],l=gM(a,s),c=s.length-l+1;return new ui(i,c,i,c)}o(S6t,"deduceSelectionFromLastEdit");async function _6t(e,t){let r=k6t(e,t.ignoreReplyTextBefore),n=t.convergence,i=t.maxCompletionLineCount??20,s=t.convergenceNonWhitespaceCharOverlap??40,a=n.replace(/\s/g,""),l=[],c=[],u=[],f=[],m=o(h=>{let p=c[0];return{ignored:l[0]??"",result:p.substring(0,p.lastIndexOf(`
`)+1),shouldCancelRequest:!0}},"returnEarly");for await(let h of r){if(h.kind==="ignore"){l[h.index]=(l[h.index]??"")+h.text;continue}let p=h.text;if(c[h.index]=c[h.index]??"",c[h.index]+=p,f[h.index]=f[h.index]??"",f[h.index]+=p.replace(/\s/g,""),u[h.index]=u[h.index]??0,u[h.index]+=p.split(`
`).length-1,p.indexOf(`
`)===-1||h.index!==0)continue;if(u[h.index]>i)return m(`too many lines: ${u[h.index]}`);let A=c[h.index];if(n.startsWith(A))continue;let E=A.split(`
`).slice(-4,-1);if(E.length<3||n.indexOf(E.join(`
`)+`
`)<=0)continue;let b=f[h.index].substring(f[h.index].length-s);if(a.indexOf(b)>0)return m("convergence!")}return{ignored:l[0]??"",result:c[0]??"",shouldCancelRequest:!1}}o(_6t,"fetchCompletionUntilConvergence");function k6t(e,t){let r=[],n=[];return new f_(async i=>{for await(let s of e)for(let a of s.choices){let l=a.index,c=a.text??"";if(!t||r[l]){i.emitOne({kind:"completion",index:l,text:c});continue}n[l]=(n[l]??"")+c;let u=n[l].match(t);!u||typeof u.index>"u"||(r[l]=!0,i.emitOne({kind:"ignore",index:l,text:n[l].substring(0,u.index+u[0].length)}),i.emitOne({kind:"completion",index:a.index,text:n[l].substring(u.index+u[0].length)}),n[l]=void 0)}for(let s=0;s<n.length;s++)typeof n[s]<"u"&&i.emitOne({kind:"ignore",index:s,text:n[s]})})}o(k6t,"getTextAfterFirstPattern");function B6t(e,t,r){let n=t.startLineNumber,i=t.endLineNumberExclusive,s=r.slice(0);for(;n+1<i&&s.length>0;){let a=e[i-2],l=s[s.length-1];if(a!==l)break;i--,s.pop()}for(;n+1<i&&s.length>0;){let a=e[n-1],l=s[0];if(a!==l)break;n++,s.shift()}return new L1(new Vn(n,i),s)}o(B6t,"createReducedLineEdit");var a6=class{constructor(t,r,n,i){this.languageId=t;this.oldLines=r;this.oldLines=r,this.edit=B6t(r,n,i);let s=new Is([this.edit]);this.newLines=s.apply(r)}static{o(this,"PossibleEdit")}hasEditWithinFirstLines(t){let r=this.oldLines.slice(this.edit.lineRange.startLineNumber-1,this.edit.lineRange.endLineNumberExclusive-1),n=this.edit.newLines;return s(r,n)<t;function s(a,l){for(let c=0;c<Math.min(a.length,l.length);c++)if(a[c]!==l[c])return c;return Math.min(a.length,l.length)}}resolveDiff(){let t=o((m,h,p)=>m.map(A=>{let E=h.lines.slice(A.originalStart,A.originalStart+A.originalLength),x=p.lines.slice(A.modifiedStart,A.modifiedStart+A.modifiedLength),b=E.join(`
`),v=x.join(`
`),{editDistance:S}=f(b,v);return new bae(A.originalStart,A.originalLength,A.modifiedStart,A.modifiedLength,S)}),"computeEditDistances"),r=o(m=>{let h=0;for(let p of m)h+=p.editDistance;return{editDistance:h}},"computeDiffMetrics"),n=!1,i=new p_(this.oldLines,n),s=new p_(this.newLines,n),a=new A_(i,s),l=t(a.ComputeDiff(),i,s),c=r(l),u=[];{let m=0;for(let h of l)u=u.concat(this.oldLines.slice(m,h.originalStart)),u=u.concat(this.newLines.slice(h.modifiedStart,h.modifiedStart+h.modifiedLength)),m=h.originalStart+h.originalLength;u=u.concat(this.oldLines.slice(m))}if(ste(this.newLines,u))return new vae(this.languageId,this.oldLines,this.edit,this.newLines,l,c);return ZPe(this.languageId,this.oldLines,u);function f(m,h){let p=new g_(m),A=new g_(h),x=new A_(p,A).ComputeDiff(),b=0,v=0;for(let F of x)b+=F.originalLength,v+=F.modifiedLength;let S=m.length,B=h.length,P=b+v;return{aChanged:b,bChanged:v,aLength:S,bLength:B,editDistance:P}}}},bae=class{constructor(t,r,n,i,s){this.originalStart=t;this.originalLength=r;this.modifiedStart=n;this.modifiedLength=i;this.editDistance=s}static{o(this,"DiffChangeWithEditDistance")}},vae=class{constructor(t,r,n,i,s,a){this.languageId=t;this.oldLines=r;this.edit=n;this.newLines=i;this.diff=s;this.diffMetrics=a;this.parseErrorCount="unknown"}static{o(this,"PossibleEditWithDiff")}toLineEdit(t){if(t==="single")return new Is([this.edit]);{let r=this.groupInHunks();return new Is(r.map(n=>{let i=n[0],s=n[n.length-1];return new L1(new Vn(i.originalStart+1,s.originalStart+s.originalLength+1),this.newLines.slice(i.modifiedStart,s.modifiedStart+s.modifiedLength))}))}}eliminateLargeChangeHunks(){if(!Iae)return this;let t=this.groupInHunks(),r=[];for(let n of t)n.every(s=>s.originalLength===0)||n.reduce((a,l)=>a+l.editDistance,0)>w6t&&(r=r.concat(n));if(r.length===this.diff.length)return null;if(r.length>0){let n=this._recreateNewLinesWithoutDiffs(r);return this._createPossibleEditFromLines(n)}return this}containWithinLines(t){let r=this.groupInHunks(),n=[];for(let i of r)for(let s of i){let a=s.originalStart+1,l=s.originalStart+s.originalLength+1;if(!wae(new Vn(a,l),t)){n=n.concat(i);break}}if(n.length===this.diff.length)return null;if(n.length>0){let i=this._recreateNewLinesWithoutDiffs(n);return this._createPossibleEditFromLines(i).containWithinLines(t)}return this}groupInHunks(){let t=[];for(let r of this.diff){let n=t.length>0?t[t.length-1]:null;if(!n){t.push([r]);continue}let i=n[n.length-1],s=this.oldLines.slice(i.originalStart+i.originalLength,r.originalStart);if(s.length>1){t.push([r]);continue}if(s[0].trim().length>10){t.push([r]);continue}if(n.reduce((c,u)=>c+u.originalLength,0)>1){t.push([r]);continue}n.push(r)}return t}_recreateNewLinesWithoutDiffs(t){let r=[],n=0;for(let i of t)r=r.concat(this.newLines.slice(n,i.modifiedStart)),r=r.concat(this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength)),n=i.modifiedStart+i.modifiedLength;return r=r.concat(this.newLines.slice(n)),r}async resolveParseErrorCountIfPossible(t,r){let n=new Is([this.edit]),i=r(n);this.parseErrorCount=await E_(t,this.languageId,i)}eliminateEmptyLineChanges(){let t=o(r=>this._createPossibleEditFromLines(r).eliminateEmptyLineChanges(),"recurseWithNewLines");for(let r of this.diff){let n=this.oldLines.slice(r.originalStart,r.originalStart+r.originalLength),i=this.newLines.slice(r.modifiedStart,r.modifiedStart+r.modifiedLength);if(r.modifiedLength===0){if(n.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,0,...n),t(a)}continue}if(r.originalLength===0){if(i.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,r.modifiedLength),t(a)}continue}for(let s=0;s<n.length&&s<i.length;s++){let a=n[s],l=i[s],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+s,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+s,1),t(f)}}}for(let s=1;s<=n.length&&s<=i.length;s++){let a=n[n.length-s],l=i[i.length-s],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-s+1,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-s,1),t(f)}}}}return this}eliminateInsertedOrDeletedComments(){let t=[],r=0,n=!1;for(let i of this.diff){t=t.concat(this.newLines.slice(r,i.modifiedStart));let s=this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength),a=this.newLines.slice(i.modifiedStart,i.modifiedStart+i.modifiedLength),{hasChanges:l,newDiffModifiedLines:c}=this._eliminateCommentsDiff(s,a);n=n||l,t=t.concat(c),r=i.modifiedStart+i.modifiedLength}return t=t.concat(this.newLines.slice(r)),n?this._createPossibleEditFromLines(t):this}_eliminateCommentsDiff(t,r){if(r.length===0){let c=!1,u=!1;for(let f of t){if(f.trim().length===0)continue;let m=pW(f,this.languageId);m&&m.content.trim().length===0?c=!0:u=!0}if(c&&!u)return{hasChanges:!0,newDiffModifiedLines:t}}let n=t.map(c=>pW(c,this.languageId)),i=r.map(c=>pW(c,this.languageId)),s=n.filter(c=>!!c).length,a=i.filter(c=>!!c).length;if(s===0&&a===0)return{hasChanges:!1,newDiffModifiedLines:r};if(s>0)return{hasChanges:!1,newDiffModifiedLines:r};let l=!1;for(let c=0;c<r.length;c++){let u=r[c],f=i[c];if(!f)continue;let{content:m}=f;r[c]=u.substring(0,m.length).trimEnd(),l=!0}return{hasChanges:l,newDiffModifiedLines:r}}_createPossibleEditFromLines(t){return ZPe(this.languageId,this.oldLines,t)}};function wae(e,t){return t.startLineNumber<e.startLineNumber&&e.startLineNumber<t.endLineNumberExclusive&&e.endLineNumberExclusive<=t.endLineNumberExclusive}o(wae,"editIsInsideEditWindow");function ZPe(e,t,r){let i=t.length+1,s=r.slice(0);return new a6(e,t,new Vn(1,i),s).resolveDiff()}o(ZPe,"createPossibleEditFromLines");function CW(e,t,r,n,i,s){if(i.trim().length===0)return[];let a=i6.fromString(i.trimEnd()),l=s?a.some(x=>x.indexOf(s.omittedMessage)>=0):!1,c=[],u=o((x,b)=>{c.push(new a6(e,t,x,b))},"generateEdit");function f(){n&&u(n,a)}o(f,"generateEditCompletionRange");function m(){if(l)return;let b=new Vn(r.endLineNumberExclusive,t.length+1);b.length>a.length+5||u(b,a)}o(m,"generateEditAllDoc");function h(){for(let x=1;x<a.length;x++){let v=a.slice(a.length-x).join(`
`);for(let S=r.endLineNumberExclusive-1;S<t.length;S++){let P=t.slice(S,S+x).join(`
`);v===P&&u(new Vn(r.endLineNumberExclusive,S+1),a.slice(0,a.length-x))}}}o(h,"generateEditsUsingOverlappingLines");function p(){if(!s||!l)return;let x=[];for(let b of a){if(b.indexOf(s.omittedMessage)>=0){u(s.editRange,x.map(v=>v));return}x.push(b)}}if(o(p,"generateEditWhenReplyContainsOmittedMessage"),f(),p(),m(),h(),!i.endsWith(`
`)){let x=i.substring(0,i.lastIndexOf(`
`)+1);c.push(...CW(e,t,r,n,x,s))}return A(c);function A(x){return E(x,o(v=>v.edit.lineRange.startLineNumber+","+v.edit.lineRange.endLineNumberExclusive+","+v.edit.newLines.join("|"),"keyfn"))}function E(x,b){let v=new Set,S=[];for(let B of x){let P=b(B);v.has(P)||(v.add(P),S.push(B))}return S}}o(CW,"generatePossibleEdits");async function Sae(e,t,r,n){let a=t.filter(m=>m.hasEditWithinFirstLines(n.requireEditWithinNLines)).map(m=>m.resolveDiff()).map(m=>m.eliminateEmptyLineChanges()),l=yW?await E_(e,r.languageId,r.documentAfterEditsNoShortening.value):"unknown";if(yW){let m=o(h=>{let p=r.documentAfterEditsNoShortening;return r.toEditOnDocumentAfterEditsNoShortening(h).apply(p.value)},"applyToDocumentNoShortening");await Promise.all(a.map(h=>h.resolveParseErrorCountIfPossible(e,m)))}let c=a.filter(m=>l==="unknown"?m.parseErrorCount===0:m.parseErrorCount!=="unknown"&&m.parseErrorCount<=l),u=c.length>0?c:a;u.sort((m,h)=>m.parseErrorCount===h.parseErrorCount?0:m.parseErrorCount==="unknown"?1:h.parseErrorCount==="unknown"?-1:m.parseErrorCount-h.parseErrorCount);let f=o(m=>m.diffMetrics.editDistance,"score");return u.sort((m,h)=>f(m)-f(h)),u.length>0?u[0].edit:null}o(Sae,"selectBestEdit");function R6t(e){let r=[],n=e.documentLinesBeforeEdit,i=0,s=0,a=-1,l=o((c,u)=>{c>a+1&&r.push("[...]"),u?r.push(`-${n[c]}`):r.push(`${n[c]}`),a=c},"addOldLineIndex");for(let c of e.recentEdit.edits){for(;i<c.lineRange.startLineNumber-1;)Math.min(c.lineRange.startLineNumber-i-1,s>0?i-s-2:1073741824)<=2&&l(i,!1),i++;for(;i<c.lineRange.endLineNumberExclusive-1;)l(i,!0),i++;r.push(c.newLines.map(u=>`+${u}`).join(`
`)),s=c.lineRange.endLineNumberExclusive}for(;i<n.length;)i-s+2<=2&&l(i,!1),i++;return r.push("[...]"),r}o(R6t,"summariseDocDiff");function eFe(e){let t=[];for(let r of e.recentEdit.edits){let n=e.documentLinesBeforeEdit.slice(r.lineRange.startLineNumber-1,r.lineRange.endLineNumberExclusive-1),i=r.newLines;if(n.filter(a=>a.trim().length>0).length===0&&i.filter(a=>a.trim().length>0).length===0)continue;let s=r.lineRange.startLineNumber+e.clippingRange.startLineNumber-1;t.push(`@@ -${s},${n.length} +${s},${i.length} @@`),t.push(...n.map(a=>`-${a}`)),t.push(...i.map(a=>`+${a}`))}return t}o(eFe,"summarizeEditsAsUnifiedDiff");async function E_(e,t,r){return await e.getTreeSitterAST({languageId:t,getText:o(()=>r,"getText")})?.getParseErrorCount()??"unknown"}o(E_,"getParseErrorCount");d();var tFe=nt(AI());d();var Vy=class extends tFe.PromptRenderer{constructor(r,n,i={validate:!0},s,a,l){let c=s.acquireTokenizer({tokenizer:l.tokenizerName}),u={modelMaxPromptTokens:l.tokenBudget};super(u,r,n,c);this.options=i;this._instantiationService=a}static{o(this,"PromptRenderer")}static create(r,n,i,s={validate:!0}){return r.invokeFunction(a=>{let l=a.get(c_);return new Vy(n,i,s,l,r,a.get(aA))})}createElement(r,...n){return this._instantiationService.createInstance(r.ctor,r.props,...n)}async render(r,n,i){let s=await super.render(r,n);i={...{trace:!0},...i};for(let c=1;c<s.messages.length;c++){let u=s.messages[c],f=s.messages[c-1];u.role==="system"&&f.role==="system"&&(f.content+=`
`+u.content,s.messages.splice(c,1),c--)}let l=s.messages[s.messages.length-1];if(this.options.validate&&l&&l.role!=="user"&&l.role!=="function")throw new Error("Sorry, this message is too long. Please try a shorter question.");return{...s,references:[]}}async countTokens(r){return(await super.render(void 0,r)).tokenCount}};Vy=fu([ba(3,c_),ba(4,Jp),ba(5,aA)],Vy);d();var rFe=nt(AI());var EW=class extends rFe.PromptElement{static{o(this,"SafetyRules")}render(){return vscpp(vscppf,null,"Follow Microsoft content policies.",vscpp("br",null),"Avoid content that violates copyrights.",vscpp("br",null),`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,vscpp("br",null),"Keep your answers short and impersonal.",vscpp("br",null))}};d();d();var xW=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Ur(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=Wm(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new ao(n,i)}getRange(t){return ui.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return Hu.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new Hu(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var _ae=class{static{o(this,"AbstractDocument")}rangeToOffsetRange(t){return new Ur(this.getOffsetAtPosition(t.start),this.getOffsetAtPosition(t.end))}offsetRangeToRange(t){return new Zc(this.getPositionAtOffset(t.start),this.getPositionAtOffset(t.endExclusive))}},ah=class extends _ae{constructor(r){super();this.value=r;this._transformer=new xW(this.value)}static{o(this,"StringTextDocument")}getText(){return this.value}getLineText(r){let n=this._transformer.getOffset(new ao(r+1,1)),i=n+this.getLineLength(r);return this.value.substring(n,i)}getLineLength(r){return this._transformer.getLineLength(r+1)}getLineCount(){return this._transformer.textLength.lineCount+1}getTextInOffsetRange(r){return r.substring(this.value)}getPositionAtOffset(r){return D6t(this._transformer.getPosition(r))}getOffsetAtPosition(r){return r=this._validatePosition(r),this._transformer.getOffset(P6t(r))}_validatePosition(r){if(r.line<0)return new ho(0,0);let n=this._transformer.textLength.lineCount+1;if(r.line>=n){let s=this._transformer.getLineLength(n);return new ho(n-1,s)}if(r.character<0)return new ho(r.line,0);let i=this._transformer.getLineLength(r.line+1);return r.character>i?new ho(r.line,i):r}};function D6t(e){return new ho(e.lineNumber-1,e.column-1)}o(D6t,"corePositionToVSCodePosition");function P6t(e){return new ao(e.line+1,e.character+1)}o(P6t,"vsCodePositionToCorePosition");d();d();function nFe(e){if(e.length===0)return 1/0;let t=e[0];for(let r=1;r<e.length;r++)t=Math.min(t,e[r]);return t}o(nFe,"min");d();function kae(e,t){let r=t(e);return{...r,range:[r.range.start,r.range.endExclusive],children:r.children?.map(n=>kae(n,t))}}o(kae,"toAstNode");function iFe(e,t){let r=CI(t,a=>a.endExclusive>=e.start),n=Wm(t,a=>a.start<=e.endExclusive)+1;if(r===n)return[e];let i=[],s=e.start;for(let a=r;a<n;a++){let l=t[a];l.start>s&&i.push(new Ur(s,l.start)),s=l.endExclusive}return s<e.endExclusive&&i.push(new Ur(s,e.endExclusive)),i}o(iFe,"subtractRange");d();d();d();var bW=class{static{o(this,"PrefixSumComputer")}constructor(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}getCount(){return this.values.length}insertValues(t,r){t=R4(t);let n=this.values,i=this.prefixSum,s=r.length;return s===0?!1:(this.values=new Uint32Array(n.length+s),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t),t+s),this.values.set(r,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(t,r){return t=R4(t),r=R4(r),this.values[t]===r?!1:(this.values[t]=r,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)}removeValues(t,r){t=R4(t),r=R4(r);let n=this.values,i=this.prefixSum;if(t>=n.length)return!1;let s=n.length-t;return r>=s&&(r=s),r===0?!1:(this.values=new Uint32Array(n.length-r),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t+r),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(t){return t<0?0:(t=R4(t),this._getPrefixSum(t))}_getPrefixSum(t){if(t<=this.prefixSumValidIndex[0])return this.prefixSum[t];let r=this.prefixSumValidIndex[0]+1;r===0&&(this.prefixSum[0]=this.values[0],r++),t>=this.values.length&&(t=this.values.length-1);for(let n=r;n<=t;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],t),this.prefixSum[t]}getIndexOf(t){t=Math.floor(t),this.getTotalSum();let r=0,n=this.values.length-1,i=0,s=0,a=0;for(;r<=n;)if(i=r+(n-r)/2|0,s=this.prefixSum[i],a=s-this.values[i],t<a)n=i-1;else if(t>=s)r=i+1;else break;return new Bae(i,t-a)}};var Bae=class{constructor(t,r){this.index=t;this.remainder=r;this._prefixSumIndexOfResultBrand=void 0;this.index=t,this.remainder=r}static{o(this,"PrefixSumIndexOfResult")}};var x_=class{static{o(this,"PositionOffsetTransformer")}constructor(t){this._lines=K5(t),this._eol=t.charAt(this._lines[0].length)==="\r"?`\r
`:`
`;let r=new Uint32Array(this._lines.length);for(let n=0;n<this._lines.length;n++)r[n]=this._lines[n].length+this._eol.length;this._lineStarts=new bW(r)}_getText(){return this._lines.join(this._eol)}applyOffsetEdits(t){let{edits:r}=t;for(let n=r.length-1;n>=0;n--){let i=r[n],s=this.toRange(i.replaceRange);this._acceptDeleteRange(s),this._acceptInsertText(s.start,i.newText)}}_acceptDeleteRange(t){if(t.start.line===t.end.line){if(t.start.character===t.end.character)return;this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.start.line].substring(t.end.character));return}this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.end.line].substring(t.end.character)),this._lines.splice(t.start.line+1,t.end.line-t.start.line),this._lineStarts.removeValues(t.start.line+1,t.end.line-t.start.line)}_acceptInsertText(t,r){if(r.length===0)return;let n=K5(r);if(n.length===1){this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]+this._lines[t.line].substring(t.character));return}n[n.length-1]+=this._lines[t.line].substring(t.character),this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]);let i=new Uint32Array(n.length-1);for(let s=1;s<n.length;s++)this._lines.splice(t.line+1+s-1,0,n[s]),i[s-1]=n[s].length+this._eol.length;this._lineStarts.insertValues(t.line+1,i)}_setLineText(t,r){this._lines[t]=r,this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}getLineCount(){return this._lines.length}getOffset(t){return t=this.validatePosition(t),this._lineStarts.getPrefixSum(t.line-1)+t.character}getPosition(t){t=Math.floor(t),t=Math.max(0,t);let r=this._lineStarts.getIndexOf(t),n=this._lines[r.index].length;return new ho(r.index,Math.min(r.remainder,n))}toRange(t){return new Zc(this.getPosition(t.start),this.getPosition(t.endExclusive))}toOffsetRange(t){return new Ur(this.getOffset(t.start),this.getOffset(t.end))}toOffsetEdit(t){let r=t.map(n=>new e6(this.validateRange(n.range),n.newText));return new pd(r.map(n=>new Na(this.toOffsetRange(n.range),n.newText)))}toTextEdits(t){return t.edits.map(r=>new e6(this.toRange(r.replaceRange),r.newText))}validatePosition(t){if(!(t instanceof ho))throw new Error("Invalid argument");if(this._lines.length===0)return t.with(0,0);let{line:r,character:n}=t,i=!1;if(r<0)r=0,n=0,i=!0;else if(r>=this._lines.length)r=this._lines.length-1,n=this._lines[r].length,i=!0;else{let s=this._lines[r].length;n<0?(n=0,i=!0):n>s&&(n=s,i=!0)}return i?new ho(r,n):t}validateRange(t){return new Zc(this.validatePosition(t.start),this.validatePosition(t.end))}};var vW=class{constructor(t,r){this.originalText=t;this.edits=r;this._positionOffsetTransformer=new vp(()=>new x_(this.text));this._originalPositionOffsetTransformer=new vp(()=>new x_(this.originalText));this._text=new vp(()=>this.edits.apply(this.originalText))}static{o(this,"ProjectedText")}get positionOffsetTransformer(){return this._positionOffsetTransformer.value}get originalPositionOffsetTransformer(){return this._originalPositionOffsetTransformer.value}get text(){return this._text.value}get lineCount(){return this.positionOffsetTransformer.getLineCount()}get isOriginal(){return this.edits.isEmpty||this.edits.isNoop(this.originalText)}project(t){return this.edits.applyToOffset(t)}projectOffsetRange(t){return this.edits.applyToOffsetRange(t)}projectRange(t){let r=this.originalPositionOffsetTransformer.toOffsetRange(t),n=this.projectOffsetRange(r);return this.positionOffsetTransformer.toRange(n)}projectOffsetEdit(t){return t.tryRebase(this.edits)}projectBack(t){return this.edits.applyInverseToOffset(t)}projectBackOffsetEdit(t){return t.tryRebase(this.edits.inverse(this.originalText))}projectBackTextEdit(t){let r=this.positionOffsetTransformer.toOffsetEdit(t),n=this.projectBackOffsetEdit(r);return this.originalPositionOffsetTransformer.toTextEdits(n)}};var Rae=class{constructor(t,r,n,i,s){this.parent=t;this.overlayNode=r;this.range=n;this.children=i;this._document=s}static{o(this,"RemovableNode")}get kind(){return this.overlayNode.kind}get text(){return this._document.getTextInOffsetRange(this.range)}},bE=class extends vW{constructor(r,n){super(r.getText(),n);this.baseDocument=r}static{o(this,"ProjectedDocument")}getLanguageId(){return this.baseDocument.languageId}};function TW(e,t,r){let n=[],i=[],s=[];for(let l=0;l<r.length;l++){let{document:c,overlayNodeRoot:u,selection:f}=r[l],m=c.getText(),h=f?c.rangeToOffsetRange(f):void 0,p=oFe(u,c),A=Dae.fromRootNode(p,m),E=Pae.fromNode(A,!!t.tryPreserveTypeChecking,!!t.alwaysUseEllipsisForElisions);h&&E.visitAll(G=>G.node.range.intersectsOrTouches(h)?(G.node.children.length===0&&G.markAsSurviving(),!0):!1),n.push(E),i.push(E.getTextFragment());let x=o(G=>h?G.range.endExclusive<h.start?h.start-G.range.endExclusive:G.range.start>h.endExclusive?3*(G.range.start-h.endExclusive):0:0,"distanceScoreToSelection"),b=new D1(G=>h?G.children.length===0?G.range.intersectsOrTouches(h)?0:Number.MAX_SAFE_INTEGER:nFe(G.children.map(re=>b.get(re)))+1:0),v=new D1(G=>{let re=G.parent?v.get(G.parent):Number.MAX_SAFE_INTEGER,pe=b.get(G);return Math.min(re,pe)}),S=!!t.tryPreserveTypeChecking,B=o(G=>S&&G.node?.kind==="import_statement"?0:100*v.get(G)+G.depth+10*(x(G)/m.length),"costFn"),P=typeof t.costFnOverride=="object"?t.costFnOverride.createCostFn(c):t.costFnOverride;if(P!==void 0){let G=B;B=o(re=>{let pe=G(re);return pe===!1?!1:re.node?P(re.node,pe,c):pe},"costFn")}let F=E.getDescendantsAndSelf();for(let G of F){if(!G.node.node)continue;let re=B(G.node);re!==!1&&s.push({idx:l,node:G,cost:re})}}s.sort(j5(l=>l.cost,$5));for(let{node:l,idx:c}of s){if(l.markAsSurviving(),n.reduce((f,m)=>f+m.getTextFragment().length,0)>e)break;i[c]=n[c].getTextFragment()}let a=[];for(let l=0;l<i.length;l++){let c=i[l],{document:u}=r[l],f=new bE(u,c.toTextEditFromOriginal(u.getText().length)),m=f,h=n[l];m.getVisualization=()=>({$fileExtension:"ast.w",source:{value:f.originalText,decorations:iFe(Ur.ofLength(f.originalText.length),f.edits.edits.map(p=>p.replaceRange)).map(p=>({range:[p.start,p.endExclusive],color:"lime"}))},root:kae(h,p=>({label:(p.node.node?.kind||"unknown")+` (${s.find(A=>A.node===p)?.cost})`,range:p.node.range,children:p.childNodes,isMarked:p._surviving}))}),a.push(f)}return a}o(TW,"summarizeDocumentsSyncImpl");function oFe(e,t,r=void 0){let n=new Ur(e.startIndex,e.endIndex),i=[],s=new Rae(r,e,n,i,t);for(let a of e.children)i.push(oFe(a,t,s));return s}o(oFe,"createRemovableNodeFromOverlayNode");var Dae=class e{constructor(t,r,n,i,s,a){this.node=t;this.range=r;this.children=n;this.depth=i;this.parent=s;this.document=a}static{o(this,"TextNode")}static fromRootNode(t,r){let n=new Ur(0,r.length);if(t.range.equals(n))return e.fromNode(t,r);let i=new Ur(0,t.range.start),s=new Ur(t.range.endExclusive,r.length),a=[],l=new e(void 0,n,a,0,null,r);return i.isEmpty||a.push(new e(void 0,i,[],0,l,r)),a.push(e.fromNode(t,r,1,null)),s.isEmpty||a.push(new e(void 0,s,[],0,l,r)),l}static fromNode(t,r,n=0,i=null){let s=[],a=new e(t,t.range,s,n,i,r);if(t.children.length>0){let l=t.range.start;for(let u of t.children){let f=new Ur(l,u.range.start);f.isEmpty||s.push(new e(void 0,f,[],n,a,r)),s.push(e.fromNode(u,r,n+1,a)),l=u.range.endExclusive}let c=new Ur(l,t.range.endExclusive);c.isEmpty||s.push(new e(void 0,c,[],n,a,r))}return a}},Pae=class e{constructor(t,r,n,i,s){this.node=t;this.parent=r;this.childNodes=n;this._tryPreserveTypeChecking=i;this._alwaysUseEllipsisForElisions=s;this._surviving=!1;this._textFragment=null}static{o(this,"SurvivingTextNode")}static fromNode(t,r,n){return e.fromNodeParent(t,null,r,n)}static fromNodeParent(t,r,n,i){let s=[],a=new e(t,r,s,n,i);for(let l of t.children){let c=e.fromNodeParent(l,a,n,i);s.push(c)}return a}visitAll(t){if(t(this))for(let r of this.childNodes)r.visitAll(t)}markAsSurviving(){this._surviving||(this._surviving=!0,this.parent&&this.parent.markAsSurviving(),this.invalidate())}invalidate(){this._textFragment&&(this._textFragment=null,this.parent&&this.parent.invalidate())}getTextFragment(){return this._textFragment||(this._textFragment=this._computeSummarization()),this._textFragment}_computeSummarization(){if(this.childNodes.length===0&&(this._surviving||!this.node.node))return new lA(this.node.range,this.node.document);if(!this._surviving)return new xE("");let t=[];for(let r of this.childNodes){let n=r.getTextFragment();if(n.length===0){t.length>0&&t[t.length-1].length===0||t.push(n);continue}F6t(t,n)}for(let r=0;r<=t.length-3;r++){let n=t[r],i=t[r+1],s=t[r+2];if(i.length===0&&n instanceof lA&&s instanceof lA){let a=n.trimEnd(),l=s.trimStart();a.endsWith("{")&&l.startsWith("}")&&(t[r]=a,t[r+1]=new xE(this._tryPreserveTypeChecking?"/* ... */":"\u2026"),t[r+2]=l)}if(this._alwaysUseEllipsisForElisions&&i.length===0&&!(i instanceof lA)){let a=t[r].text,c=a.substring(a.lastIndexOf(`
`)+1).trim()===""?"":`
`,u=t[r+2].text,m=u.substring(0,u.indexOf(`
`)).trim()===""?"":`
`;t[r+1]=new xE(c+(this._tryPreserveTypeChecking?"/* ... */":"\u2026")+m)}}return IW.from(t)}getDescendantsAndSelf(){let t=[];return this._getDescendantsAndSelf(t),t}_getDescendantsAndSelf(t){t.push(this);for(let r of this.childNodes)r._getDescendantsAndSelf(t)}},b_=class{static{o(this,"TextFragment")}toString(){return this.text}toTextEditFromOriginal(t){let r=[],n=0,i="";function s(l){(n!==l||i.length>0)&&(r.push(new Na(new Ur(n,l),i)),i="")}o(s,"emit");function a(l){if(l instanceof IW)for(let c of l.fragments)a(c);else l instanceof xE?i+=l.text:l instanceof lA&&(s(l.range.start),n=l.range.endExclusive)}return o(a,"process"),a(this),s(t),new pd(r)}},xE=class extends b_{constructor(r){super();this.text=r}static{o(this,"LiteralTextFragment")}get length(){return this.text.length}},lA=class e extends b_{constructor(r,n){super();this.range=r;this.originalText=n}static{o(this,"OriginalTextFragment")}get length(){return this.range.length}get text(){return this.range.substring(this.originalText)}trimStart(){let r=this.text.trimStart();return r.length===this.length?this:new e(new Ur(this.range.endExclusive-r.length,this.range.endExclusive),this.originalText)}trimEnd(){let r=this.text.trimEnd();return r.length===this.length?this:new e(new Ur(this.range.start,this.range.start+r.length),this.originalText)}startsWith(r){return this.text.startsWith(r)}endsWith(r){return this.text.endsWith(r)}tryJoin(r){return this.range.endExclusive===r.range.start?new e(new Ur(this.range.start,r.range.endExclusive),this.originalText):null}},IW=class e extends b_{constructor(r){super();this.fragments=r;this.length=this.fragments.reduce((r,n)=>r+n.length,0)}static{o(this,"ConcatenatedTextFragment")}static from(r){return r.length===0?new xE(""):r.length===1?r[0]:new e(r)}get text(){return this.fragments.map(r=>r.text).join("")}};function F6t(e,t){if(t.length===0)return;let r=e[e.length-1];if(r&&r instanceof lA&&t instanceof lA){let n=r.tryJoin(t);if(n){e[e.length-1]=n;return}}e.push(t)}o(F6t,"pushFragment");d();d();var wW=class{constructor(t,r,n,i){this.startIndex=t;this.endIndex=r;this.kind=n;this.children=i;if(t>r)throw new Ai("startIndex must be less than endIndex");let s=t;for(let a of i){if(a.startIndex<s)throw new Ai("Invalid child startIndex");if(a.endIndex>r)throw new Ai("Invalid child endIndex");s=Math.max(a.endIndex,s)}}static{o(this,"OverlayNode")}toString(){let t=[];function r(n,i=""){t.push(`${i}${n.kind} [${n.startIndex}, ${n.endIndex}]`),n.children.forEach(s=>r(s,i+"    "))}return o(r,"toString"),r(this),t.join(`
`)}};function aFe(e,t,r){let n=e.getText().split(/\r\n|\r|\n/g),i=r||{tabSize:4},s={getLineCount:o(()=>n.length,"getLineCount"),getLineContent:o(a=>n[a-1],"getLineContent"),getOptions:o(()=>i,"getOptions")};try{let a=N6t(s,t),[l]=lFe(e,a,void 0);return l.adjust(e,cFe(t)),l.toOverlayNode(e,!0)}catch{return new SW(1,e.getLineCount(),[]).toOverlayNode(e,!0)}}o(aFe,"getStructureUsingIndentation");function lFe(e,t,r){if(typeof r<"u"&&r>=t.length)throw new Error(`Invalid region index ${r}`);let n=typeof r>"u"?1:t.getStartLineNumber(r),i=typeof r>"u"?e.getLineCount():t.getEndLineNumber(r),s=[],a=null;for(r=typeof r>"u"?0:r+1;r<t.length;){let l=t.getStartLineNumber(r),c=t.getEndLineNumber(r);if(l>i||c>i)break;let u=a;if([a,r]=lFe(e,t,r),u&&a.startLineNumber<=u.endLineNumber)throw new Ai("Invalid Folding Ranges: overlapping children");if(a.startLineNumber<n)throw new Ai("Invalid Folding Ranges: child starts before parent");s.push(a)}return[new SW(n,i,s),r]}o(lFe,"createFoldingRangeTree");var SW=class{constructor(t,r,n){this.startLineNumber=t;this.endLineNumber=r;this.children=n;if(t>r)throw new Ai("Invalid Folding Ranges: startLineNumber > endLineNumber")}static{o(this,"FoldingRangeNode")}adjust(t,r){r?this._adjustOffside():this._adjustRegular(t,t.getLineCount())}_adjustOffside(){this.startLineNumber++;for(let t of this.children)t._adjustOffside()}_adjustRegular(t,r){if(this.endLineNumber<r){let n=t.getLineText(this.endLineNumber).trim(),i=/^[\}\]\)];?$/.test(n),s=/^<\/\w/.test(n);(i||s)&&this.endLineNumber++}for(let n=this.children.length-1;n>=0;n--){let i=this.children[n],s=n+1<this.children.length?this.children[n+1].startLineNumber-1:r;i._adjustRegular(t,s)}}toOverlayNode(t,r){let n=[],i=r&&this.startLineNumber===1?1:this.startLineNumber+1;for(let s of this.children){for(let a=i;a<s.startLineNumber;a++){let l=Fae(t,a,a,"LINE",[]);l&&n.push(l)}n.push(s.toOverlayNode(t,!1)),i=s.endLineNumber+1}for(let s=i;s<this.endLineNumber;s++){let a=Fae(t,s,s,"LINE",[]);a&&n.push(a)}return Fae(t,this.startLineNumber,this.endLineNumber,"FOLD",n)}};function Fae(e,t,r,n,i){let s=e.getOffsetAtPosition(new ho(t-1,0)),a=r<e.getLineCount()?new ho(r,0):new ho(r-1,e.getLineLength(r-1)),l=e.getOffsetAtPosition(a);return new wW(s,l,n,i)}o(Fae,"createOverlayNode");function N6t(e,t){return L6t(e,cFe(t))}o(N6t,"generateFoldingRegions");function cFe(e){return["clojure","coffeescript","fsharp","latex","markdown","pug","python","sql","yaml"].includes(e)}o(cFe,"isOffSide");function L6t(e,t){let r=e.getOptions().tabSize,n=new Nae,i=[],s=e.getLineCount()+1;i.push({indent:-1,endAbove:s,line:s});for(let a=e.getLineCount();a>0;a--){let l=e.getLineContent(a),c=M6t(l,r),u=i[i.length-1];if(c===-1){t&&(u.endAbove=a);continue}if(u.indent>c){do i.pop(),u=i[i.length-1];while(u.indent>c);let f=u.endAbove-1;f-a>=1&&n.insertFirst(a,f,c)}u.indent===c?u.endAbove=a:i.push({indent:c,endAbove:a,line:a})}return n.toIndentRanges()}o(L6t,"_computeRanges");var Q6t=65535,vE=16777215,sFe=4278190080,Nae=class{static{o(this,"RangesCollector")}constructor(){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0}insertFirst(t,r,n){if(t>vE||r>vE)return;let i=this._length;this._startIndexes[i]=t,this._endIndexes[i]=r,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(){let t=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let n=this._length-1,i=0;n>=0;n--,i++)t[i]=this._startIndexes[n],r[i]=this._endIndexes[n];return new Lae(t,r)}};function M6t(e,t){let r=0,n=0,i=e.length;for(;n<i;){let s=e.charCodeAt(n);if(s===32)r++;else if(s===9)r=r-r%t+t;else break;n++}return n===i?-1:r}o(M6t,"computeIndentLevel");var Lae=class{static{o(this,"FoldingRegions")}constructor(t,r){this._startIndexes=t,this._endIndexes=r,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let t=[],r=o((n,i)=>{let s=t[t.length-1];return this.getStartLineNumber(s)<=n&&this.getEndLineNumber(s)>=i},"isInsideLast");for(let n=0,i=this._startIndexes.length;n<i;n++){let s=this._startIndexes[n],a=this._endIndexes[n];if(s>vE||a>vE)throw new Error("startLineNumber or endLineNumber must not exceed "+vE);for(;t.length>0&&!r(s,a);)t.pop();let l=t.length>0?t[t.length-1]:-1;t.push(n),this._startIndexes[n]=s+((l&255)<<24),this._endIndexes[n]=a+((l&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(t){return this._startIndexes[t]&vE}getEndLineNumber(t){return this._endIndexes[t]&vE}getParentIndex(t){this.ensureParentIndices();let r=((this._startIndexes[t]&sFe)>>>24)+((this._endIndexes[t]&sFe)>>>16);return r===Q6t?-1:r}contains(t,r){return this.getStartLineNumber(t)<=r&&this.getEndLineNumber(t)>=r}findIndex(t){let r=0,n=this._startIndexes.length;if(n===0)return-1;for(;r<n;){let i=Math.floor((r+n)/2);t<this.getStartLineNumber(i)?n=i:r=i+1}return r-1}findRange(t){let r=this.findIndex(t);if(r>=0){if(this.getEndLineNumber(r)>=t)return r;for(r=this.getParentIndex(r);r!==-1;){if(this.contains(r,t))return r;r=this.getParentIndex(r)}}return-1}};d();function Qae(e){return e instanceof Error?e:typeof e=="string"?new Error(e):new Error(`An unexpected error occurred: ${e}`)}o(Qae,"fromUnknown");var Za=nt(AI());var _W="current-version",af="next-version",uFe=2,fFe=10,dFe=.7,q6t=/```[^\n]*\n/,jy=class extends dW{constructor(r,n,i){super(jy.ID,[s=>new gW(s),s=>new mW(s),s=>new hW(s)]);this.fetcher=r;this._parserService=n;this._instantiationService=i;this.dependsOnSelection=!0;this.showNextEditPreference="always";this._delayer=new cW}static{o(this,"GhNearbyNesProvider")}static{this.ID="GhNearbyNesProvider"}canReuseResult(r,n){if(r.getActiveDocument().id!==n.getActiveDocument().id||r.documents.length!==n.documents.length)return!1;let i=new Map(r.documents.map(a=>[a.id,a]));for(let a of n.documents){let l=i.get(a.id);if(!l||!s(l,a))return!1}return!0;function s(a,l){if(a.documentAfterEditsNoShortening.value!==l.documentAfterEditsNoShortening.value)return!1;let c=C_(a),u=c?Mae(a,c):null,f=C_(l),m=f?Mae(l,f):null;return!u||!m?!0:Math.abs(u.line-m.line)<Math.min(uFe,fFe)}}handleAcceptance(){this._delayer.handleAcceptance()}handleRejection(){this._delayer.handleRejection()}async provideNextEditBase(r,n){let i=new r6(r),s=this._delayer.createDelaySession(),a;try{a=await this.doGetNextEdit(r,i,s,n)}catch(c){return Zi.noEdit({kind:"unexpected",error:Qae(c)},i)}let l=s.getArtificalDelay();return l>0&&await EE(l),a}async doGetNextEdit(r,n,i,s){return r.documents.some(c=>{if(c.recentEdit.edits.length===0)return!1;for(let u of c.recentEdit.edits)if(!u.lineRange.isEmpty||u.newLines.length>0)return!0;return!1})?await this.sendRequestAndProcessResult(r,i,s,n):Zi.noEdit({kind:"activeDocumentHasNoEdits"},n)}async sendRequestAndProcessResult(r,n,i,s){let a=await this.createPrompt(r,i);if(!a)return Zi.noEdit({kind:"noSuggestions"},s);if(!a.editWindowIsInPrompt)return Zi.noEdit({kind:"filteredOut",message:"promptTooLarge"},s);if(await this.debounce(n,s),i.isCancellationRequested){let B={kind:"gotCancelled",message:"afterDebounce"};return Zi.noEdit(B,s)}let{summarizedEditWindow:l,editWindowAllowedEditLineRange:c,allowedEditLineRange:u,maxCompletionLineCount:f,messages:m,completionPrefixRange:h,completionRange:p,convergence:A,activeDocument:E,activeDocumentLines:x}=a;s.setFetchStartedAt(),r.fetchIssued=!0;let b=await Tae(this.ID,this.fetcher,m,{convergence:A,ignoreReplyTextBefore:q6t,maxCompletionLineCount:f,convergenceNonWhitespaceCharOverlap:1e3},i);if(s.setFetchResultIfNotSet(b.isOk()?"success":b.err.kind==="cancel"||i.isCancellationRequested?"cancelled":"failure"),i.isCancellationRequested)return Zi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},s);if(b.isError())return b.err.kind==="cancel"?Zi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},s):Zi.noEdit({kind:"fetchFailure",error:Qae(b.err.err)},s);let{result:v}=b.val;if(v.length===0){let B=`<${af}>
`,P=b.val.ignored.indexOf(B);P>=0&&(v=b.val.ignored.substring(P+B.length))}if(v=W6t(v),v.trim().length===0)return Zi.noEdit({kind:"noSuggestions"},s);let S;if(l&&c&&u){let B=G6t(E,l,c,v);if(!B||B.edits.length===0)return Zi.noEdit({kind:"filteredOut",message:"Content is identical or cannot get clean diff within edit window"},s);let P=H6t(l,B);if(P.edits.length===0)return Zi.noEdit({kind:"filteredOut",message:"No-op edit or could not map back to original document"},s);if(yW){let re=await E_(this._parserService,E.languageId,E.documentAfterEditsNoShortening.value),pe=P.apply(E.documentAfterEditsNoShortening.value);if(await E_(this._parserService,E.languageId,pe)>re)return Zi.noEdit({kind:"filteredOut",message:"More parse errors after edit"},s)}S=V6t(E,P);let F=S.edits[0].lineRange.startLineNumber,G=S.edits[S.edits.length-1].lineRange.endLineNumberExclusive;if(!wae(new Vn(F,G),u))return Zi.noEdit({kind:"filteredOut",message:"Outside edit window after projection"},s)}else{let B=CW(E.languageId,x,h,p,v,void 0),P=await Sae(this._parserService,B,E,{requireEditWithinNLines:100});if(!P)return Zi.noEdit({kind:"filteredOut",message:"Could not identify best edit"},s);S=new Is([P])}return j6t(E,S)?Zi.noEdit({kind:"filteredOut",message:"Undo of recent edit"},s):$6t(E,S)?Zi.noEdit({kind:"filteredOut",message:"Deletion of recent insertion"},s):z6t(E,S)?Zi.noEdit({kind:"filteredOut",message:"uncategorized"},s):Y6t(E,S)?Zi.noEdit({kind:"filteredOut",message:"uncategorized"},s):Zi.edit({edit:S},s)}async debounce(r,n){let i=r.getDebounceTime();n.setDebounceTime(i),await EE(i)}async createPrompt(r,n){let i=r.getActiveDocument(),a=i.documentAfterEdits.value.includes(`\r
`)?`\r
`:`
`,l=i.documentAfterEdits.value.split(a),c=C_(i);if(c===null)return;let u=Mae(i,c),f=new ah(i.documentAfterEditsNoShortening.value),m=await X6t(this._parserService,{getText:o(()=>f.getText(),"getText"),languageId:i.languageId}),{firstEditableLineInShortenedDocument:h,lastEditableLineInShortenedDocument:p,editWindow:A}=function(){let pe=K6t(i.documentAfterEditsLines,c.startLineNumber),Z=Math.max(1,Math.min(pe,c.startLineNumber-uFe)),W=c.startLineNumber-Z,q=Math.min(l.length,c.endLineNumber+fFe),se=q-c.endLineNumber,ne=u.line-W,H=u.line+se,O=new Zc(ne,0,H,f.getLineLength(H));return{firstEditableLineInShortenedDocument:Z,lastEditableLineInShortenedDocument:q,editWindow:O}}(),E=TW(0,{alwaysUseEllipsisForElisions:!0},[{overlayNodeRoot:m,document:f,selection:A}])[0],x=new Vn(1,h),b=new Vn(h,p+1),v=E.text,{messages:S,prediction:B,editWindowIsInPrompt:P}=await this._renderPrompt({request:r,activeDocumentSlice:v,languageId:i.languageId},n),F=v.split(/\r\n|\r|\n/).length,G=E.projectRange(A),re=E.positionOffsetTransformer.toOffsetRange(G);return{summarizedEditWindow:E,editWindowAllowedEditLineRange:new Vn(G.start.line+1,G.end.line+2),allowedEditLineRange:new Vn(h,p+1),messages:S,prediction:B,editWindowIsInPrompt:P,activeDocument:i,activeDocumentLines:l,completionPrefixRange:x,completionRange:b,convergence:v,expectedConvergencePrefix:re.start,maxCompletionLineCount:F+20}}async _renderPrompt(r,n){let s=await Vy.create(this._instantiationService,Uae,r).render(void 0,n,{trace:!1}),a=s.metadata.get(PW)?.prediction,l=!!s.metadata.get(BW);return{messages:s.messages,prediction:a,editWindowIsInPrompt:l}}};jy=fu([ba(0,aA),ba(1,sA),ba(2,Jp)],jy);function W6t(e){function t(r,n,i){let s=r.lastIndexOf(n);if(s===-1)return r;let a=r.slice(0,s);return a.trim().length>0?a+i:a}return o(t,"getStringBeforeLastPattern"),e=t(e,"\n```",`
`),e=t(e,`\`\`\`</${af}>`,`
`),e=t(e,`\`\`\`
</${af}>`,`
`),e=t(e,`</${af}>`,`
`),e}o(W6t,"removeSuffixFromReply");function Mae(e,t){let r=e.documentAfterEdits.getTransformer().getOffset(t.getEndPosition()),n=e.toOffsetOnDocumentAfterEditsNoShortening(r);return new ah(e.documentAfterEditsNoShortening.value).getPositionAtOffset(n)}o(Mae,"getCursorPositionInOuterDocument");function G6t(e,t,r,n){let i=i6.fromString(t.text),s=i6.fromString(n.trimEnd()),l=new a6(e.languageId,i,new Vn(1,i.length+1),s).resolveDiff().eliminateEmptyLineChanges().eliminateInsertedOrDeletedComments().eliminateEmptyLineChanges(),c=t.isOriginal?l:l.containWithinLines(r);if(!c)return null;let u=Iae?c.eliminateLargeChangeHunks():c;return u?u.toLineEdit("multiple-hunks"):null}o(G6t,"generateSummarizedEditWindowEdit");function H6t(e,t){let r=t.toEdit(new gl(e.text));return e.projectBackOffsetEdit(r.toOffsetEdit())}o(H6t,"convertSummarizedEditWindowEditToOuterDocumentEdit");function V6t(e,t){let r=t.edits.map(i=>{let s=i.replaceRange.start,a=e.toProjectedOffset(s);return vs.replace(new Ur(a,a+i.replaceRange.length),i.newText)}),n=new Vu(e.documentAfterEdits,ns.create(r));return Is.fromEdit(n)}o(V6t,"convertOuterDocumentEditToProjectedEdit");function j6t(e,t){let r=t.toEdit(e.documentAfterEdits),n=mFe(e.documentAfterEdits.value,r),i=new kW,s=e.documentBeforeEdits.value;for(let a of e.recentEdits.edits)i=i.combine(mFe(s,a)),s=a.apply(s);return!!i.isUndoneBy(n)}o(j6t,"editWouldUndo");function $6t(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!AFe(r))return!1;for(let n=e.recentEdits.edits.length-1;n>=0;n--){let i=e.recentEdits.edits[n],s=r.tryRebase(i);if(!s)return!0;r=s}return!1}o($6t,"editWouldDeleteWhatWasJustInserted");function z6t(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!AFe(r))return!1;for(let n of r.edits){let i=e.documentAfterEdits.value.substring(n.range.start,n.range.endExclusive);if(Eae(i,e.languageId))return!0}return!1}o(z6t,"editWouldDeleteAComment");function Y6t(e,t){if(t.edits.length!==1)return!1;let r=t.edits[0];if(!r.lineRange.isEmpty)return!1;let n=o(l=>l.trim().length>5,"isSignificantLine"),i=new Set(r.newLines.filter(n));if(i.size>1)return!1;let s=new Set(e.documentAfterEditsLines.filter(n));return Oae(s,i)/i.size>.8}o(Y6t,"editWouldDuplicateExistingLines");function AFe(e){let t=e.edits.reduce((n,i)=>n+i.range.length,0);return e.edits.reduce((n,i)=>n+i.newText.length,0)===0&&t>0}o(AFe,"editIsDeletion");function K6t(e,t){for(;t>0;){if(e[t-1].trim().length>0)return t;t--}return 1}o(K6t,"findLineNumberAboveWithContent");var kW=class e{constructor(t=new Set,r=new Set){this.inserted=t;this.deleted=r}static{o(this,"InformationDelta")}combine(t){return new e(pFe(this.inserted,t.inserted),pFe(this.deleted,t.deleted))}isUndoneBy(t){let r=gFe(t.inserted,t.deleted),n=gFe(t.deleted,t.inserted),i=Oae(n,this.inserted),s=Oae(r,this.deleted);return n.size>6&&i/n.size>dFe||r.size>6&&s/r.size>dFe}};function mFe(e,t){let r=new Set,n=new Set,i=o(a=>{if(!a)return;let l=e.substring(a.start,a.endExclusive);for(let c of l.split(/\r\n|\r|\n/)){c=c.trim();for(let u of hFe(c))n.add(u)}},"tryAddDeleted"),s=o(a=>{for(let l of a.split(/\r\n|\r|\n/)){l=l.trim();for(let c of hFe(l))r.add(c)}},"tryAddInserted");for(let a of t.edits){let l=a.removeCommonPrefix(e).removeCommonSuffix(e),c=a.removeCommonSuffix(e).removeCommonPrefix(e);l.isNeutral()||(i(l.range),i(c.range),i(l.range.intersect(c.range)),s(J6t(l.newText,c.newText)))}return new kW(r,n)}o(mFe,"getInformationDelta");function J6t(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let i=e.slice(0,e.length-n),s=t.slice(n);if(i===s)return i}return""}o(J6t,"trimOverlap");function hFe(e){let t=[];for(let r=4;r<e.length;r++){let n=e.slice(r-4,r);t.push(n)}return t}o(hFe,"to4grams");function pFe(e,t){let r=new Set;for(let n of e)r.add(n);for(let n of t)r.add(n);return r}o(pFe,"setUnion");function gFe(e,t){let r=new Set;for(let n of e)t.has(n)||r.add(n);return r}o(gFe,"setMinus");function Oae(e,t){let r=0;for(let n of e)t.has(n)&&r++;return r}o(Oae,"setIntersectionCount");async function X6t(e,t){let n=await e.getTreeSitterAST(t)?.getStructure();return n||aFe(new ah(t.getText()),t.languageId,void 0)}o(X6t,"getStructure");var Uae=class extends Za.PromptElement{static{o(this,"GHNearbyPrompt")}async render(t,r){let{request:n,activeDocumentSlice:i,languageId:s}=this.props,a=[`<${af}>`,`\`\`\`${s}`,`${i}`,"```",`</${af}>`].join(`
`),l=(0,Za.useKeepWith)();return vscpp(vscppf,null,vscpp("meta",{value:new PW(a)}),vscpp(Za.SystemMessage,{priority:1e3},vscpp(EW,null),this._getInstructions()),vscpp(Za.UserMessage,{priority:900},"These are the files I'm working on, before I started making changes to them:",vscpp("br",null),"<original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(Za.Chunk,{priority:300},vscpp(RW,{doc:c}))):vscpp(Za.Chunk,{priority:100+u},vscpp(RW,{doc:c}))),vscpp("br",null),"</original_code>",vscpp("br",null),vscpp("br",null),"This is a sequence of edits that I made on these files, starting from the oldest to the newest:",vscpp("br",null),"<edits_to_original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(Za.Chunk,{priority:300},vscpp(DW,{doc:c}))):vscpp(Za.Chunk,{priority:200+u},vscpp(DW,{doc:c}))),vscpp("br",null),"</edits_to_original_code>",vscpp("br",null),vscpp("br",null),vscpp(l,{priority:300},vscpp(Za.Chunk,{priority:300},vscpp("meta",{local:!0,value:new BW}),"Here is the piece of code I am currently editing in"," ",n.getActiveDocument().getDisplayPath(),":",vscpp("br",null),vscpp("br",null),"<",_W,">",vscpp("br",null),"```",s,vscpp("br",null),i,vscpp("br",null),"```",vscpp("br",null),"</",_W,">",vscpp("br",null),vscpp("br",null),"Based on my most recent edits, what will I do next? Rewrite the code between <",_W,"> and </",_W,"> based on what I will do next. Do not skip any lines. Do not be lazy.",vscpp("br",null)))))}_getInstructions(){switch("v1"){case"v1":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Make only the necessary changes as indicated by the context.",vscpp("br",null),"- Avoid unnecessary rewrites and make only the necessary changes, using ellipses to indicate partial code where appropriate.",vscpp("br",null),"- Ensure all specified additions, modifications, and new elements (e.g., methods, parameters, function calls) are included in the response.",vscpp("br",null),"- Adhere strictly to the provided pattern, structure, and content, including matching the exact structure and formatting of the expected response.",vscpp("br",null),"- Maintain the integrity of the existing code while making necessary updates.",vscpp("br",null),"- Provide complete and detailed code snippets without omissions, ensuring all necessary parts such as additional classes, methods, or specific steps are included.",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Match the expected response exactly, even if it includes errors or corruptions, to ensure consistency.",vscpp("br",null),"- Do not alter method signatures, add or remove return values, or modify existing logic unless explicitly instructed.",vscpp("br",null),"- You must ONLY reply using the tag: <",af,">.");case"v2":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- Ensure that all necessary conditional logic and key-value pairs are preserved in the updated code.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Avoid introducing unnecessary variables or methods that are not part of the original code structure.",vscpp("br",null),"- You must ONLY reply using the tag: <",af,">.",vscpp("br",null),"- Provide a complete and functional code snippet without placeholders or incomplete sections unless explicitly required.");default:return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is currently edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on. Some examples are:",vscpp("br",null),"- Further implementing a class, method, or variable.",vscpp("br",null),"- Improving quality of the code.",vscpp("br",null),"- Making sure the programmer does not get distracted - make sure the next changes are relevant.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- If you think changes should be made, ask yourself if this is really what needs to happen. If you are confident about it, then continue with the edits.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- You must ONLY reply using the tag: <",af,">.:",vscpp("br",null),"- If you see further edits to make to the programmer's code, you must provide the updated code in the <",af,"> tag.:",vscpp("br",null),"- If the programmer's code is already correct and requires no further edits, simply answer with <",af,">IDENTICAL</",af,">.",vscpp("br",null),"- Make sure that the indentation level of any new code is correct and consistent with the existing code.",vscpp("br",null),vscpp("br",null),"Remember, you must ONLY respond using the tag: <",af,">.")}}},BW=class extends Za.PromptMetadata{static{o(this,"EditWindowMarkerMetadata")}},RW=class extends Za.PromptElement{static{o(this,"OriginalDocument")}async render(t,r){let{doc:n}=this.props,i=[];for(let s=0;s<n.documentLinesBeforeEdit.length;s++){let a=n.documentLinesBeforeEdit[s];i.push(`${n.clippingRange.startLineNumber+s}\u2502${a}`)}return vscpp(vscppf,null,n.getDisplayPath(),":",vscpp("br",null),i.join(`
`))}},DW=class extends Za.PromptElement{static{o(this,"DocumentDiffs")}async render(t,r){let{doc:n}=this.props,i=[];return i.push("```"),i.push(`---${n.getDisplayPath()}:`),i.push(`+++${n.getDisplayPath()}:`),i.push(...eFe(n)),i.push("```"),vscpp(vscppf,null,i.join(`
`))}},PW=class extends Za.PromptMetadata{constructor(r){super();this.prediction=r}static{o(this,"PredictionMetadata")}};d();d();var FW=class extends ua{constructor(r){super();this.workspace=r;this._garbageCollector=new Gae(20);this._documentCaches=new Map;B1(this,r.openDocuments,(n,i)=>{let s=new qae(n.id,n.value.get(),this._garbageCollector);this._documentCaches.set(s.docId,s),i.add(FI(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)s.handleEdit(l)})),i.add(fa(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{o(this,"RejectionCollector")}reject(r,n){let i=this._documentCaches.get(r);i&&i.reject(n)}isRejected(r,n){let i=this._documentCaches.get(r);return i?i.isRejected(n):!1}},qae=class{constructor(t,r,n){this.docId=t;this._garbageCollector=n;this._rejectedEdits=new Set}static{o(this,"DocumentRejectionTracker")}handleEdit(t){for(let r of[...this._rejectedEdits])r.handleEdit(t)}reject(t){if(this.isRejected(t))return;let r=new Wae(t.toEdit(),()=>{this._rejectedEdits.delete(r)});this._rejectedEdits.add(r),this._garbageCollector.put(r)}isRejected(t){for(let r of this._rejectedEdits)if(r.isRejected(t))return!0;return!1}},Wae=class{constructor(t,r){this._edit=t;this._onDispose=r}static{o(this,"RejectedEdit")}handleEdit(t){let r=this._edit.tryRebase(t);r?this._edit=r:this.dispose()}isRejected(t){return this._edit.equals(t.toEdit())}dispose(){this._onDispose()}},Gae=class{constructor(t){this._maxSize=t;this._disposables=[]}static{o(this,"LRUGarbageCollector")}put(t){this._disposables.push(t),this._disposables.length>this._maxSize&&this._disposables.shift().dispose()}dispose(){for(let t of this._disposables)t.dispose();this._disposables=[]}};d();d();var Hae=nt(require("crypto"));var Vae=Hae.randomUUID.bind(Hae);d();d();var v_=class{constructor(t,r){this.prev=null;this.next=null;this.key=t,this.value=r}static{o(this,"Node")}},NW=class{static{o(this,"LRUCache")}constructor(t=10){if(t<1)throw new Error("Cache size must be at least 1");this._capacity=t,this._cache=new Map,this._head=new v_("",null),this._tail=new v_("",null),this._head.next=this._tail,this._tail.prev=this._head}_addNode(t){t.prev=this._head,t.next=this._head.next,this._head.next.prev=t,this._head.next=t}_removeNode(t){let r=t.prev,n=t.next;r.next=n,n.prev=r}_moveToHead(t){this._removeNode(t),this._addNode(t)}_popTail(){let t=this._tail.prev;return this._removeNode(t),t}clear(){this._cache.clear(),this._head.next=this._tail,this._tail.prev=this._head}deleteKey(t){let r=this._cache.get(t);if(r)return this._removeNode(r),this._cache.delete(t),r.value}get(t){let r=this._cache.get(t);if(r)return this._moveToHead(r),r.value}keys(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.key),r=r.next;return t}getValues(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.value),r=r.next;return t}put(t,r){let n=this._cache.get(t);if(n)n.value=r,this._moveToHead(n);else if(n=new v_(t,r),this._cache.set(t,n),this._addNode(n),this._cache.size>this._capacity){let i=this._popTail();return this._cache.delete(i.key),[i.key,i.value]}}};var LW=class extends ua{constructor(r){super();this.workspace=r;this._documentCaches=new Map;this._sharedCache=new NW(50);B1(this,r.openDocuments,(n,i)=>{let s=new jae(n.id,n.value.get(),this._sharedCache);this._documentCaches.set(s.docId,s),i.add(FI(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)s.handleEdit(l)})),i.add(fa(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{o(this,"NextEditCache")}setNextEdits(r,n,i){let s=this._documentCaches.get(r);s&&s.setNextEdits(n,i)}lookupNextEdit(r){let n=this._documentCaches.get(r);if(n)return n.lookupNextEdit()}},jae=class{constructor(t,r,n){this.docId=t;this._sharedCache=n;this._value=r}static{o(this,"DocumentEditCache")}handleEdit(t){this._value=this._value.apply(t)}setNextEdits(t,r){let n=this._value;for(let i=0;i<t.edits.length;i++){let s=t.edits[i],a=this._getKey(n.value);this._sharedCache.put(a,{edit:s,subsequentN:i,source:r,documentBeforeEdit:n}),n=n.apply(s.toEdit())}}lookupNextEdit(){let t=this._getKey(this._value.value),r=this._sharedCache.get(t);if(r)return r}_getKey(t){return JSON.stringify([this.docId.uri,t])}};d();var QW=class e{constructor(t){this._providerId=t;this._isFromCache=!1;this._wasPreviouslyRejected=!1;this._isShown=!1;this._acceptance="notAccepted";this._startTime=Date.now(),this._requestN=++e.requestN}static{o(this,"NextEditProviderTelemetryBuilder")}static{this.requestN=0}build(){let t,r,n,i,s,a;if(this._request){let c=this._request.getActiveDocument();t=this._request.documents.length,r=this._request.documents.reduce((u,f)=>u+f.recentEdits.edits.length,0),n=c.recentEdits.edits.length,i=c.languageId,s=c.lineCountBeforeClipping,a=c.clippingRange.length}let l=this._statelessNextEditTelemetry?.fetchStartedAt===void 0?void 0:this._statelessNextEditTelemetry.fetchStartedAt-this._startTime;return{opportunityId:this._opportunityId||"",headerRequestId:this._headerRequestId||"",requestN:this._requestN,providerId:this._providerId,nextEditProviderDuration:this._duration||0,isFromCache:this._isFromCache,subsequentEditOrder:this._subsequentEditOrder,documentShorteningStrategy:this._documentShorteningStrategy,documentsCount:t,editsCount:r,activeDocumentEditsCount:n,activeDocumentLanguageId:i,activeDocumentOriginalLineCount:s,activeDocumentShortenedLineCount:a,fetchStartedAfterMs:l,wasPreviouslyRejected:this._wasPreviouslyRejected,isShown:this._isShown,acceptance:this._acceptance,...this._statelessNextEditTelemetry}}setOpportunityId(t){return this._opportunityId=t,this}setHeaderRequestId(t){return this._headerRequestId=t,this}setIsFromCache(){return this._isFromCache=!0,this}setSubsequentEditOrder(t){return this._subsequentEditOrder=t,this}setDocumentShorteningStrategy(t){return this._documentShorteningStrategy=t,this}setRequest(t){return this._request=t,this}setStatelessNextEditTelemetry(t){return this._statelessNextEditTelemetry=t,this}setWasPreviouslyRejected(){return this._wasPreviouslyRejected=!0,this}markEndTime(){return this._duration=Date.now()-this._startTime,this}setAsShown(){return this._isShown=!0,this}setAcceptance(t){return this._acceptance=t,this}},l6=class{constructor(t){this.telemetrySender=t;this._map=new Map}static{o(this,"TelemetrySender")}markNextEditResultAsShown(t){let r=this._map.get(t);r&&r.builder.setAsShown()}scheduleSendingTelemetry(t,r){let n=setTimeout(()=>{this._doSendTelemetry(r),this._map.delete(t)},12e4);this._map.set(t,{builder:r,timeout:n})}sendTelemetryFor(t,r){let n=this._map.get(t);if(!n)return;this._map.delete(t),clearTimeout(n.timeout);let i=n.builder;i.setAcceptance(r),this._doSendTelemetry(i)}sendTelemetry(t){this._doSendTelemetry(t)}_doSendTelemetry(t){let r=t.build(),{opportunityId:n,headerRequestId:i,requestN:s,providerId:a,hadStatelessNextEditProviderCall:l,statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:f,subsequentEditOrder:m,documentShorteningStrategy:h,activeDocumentLanguageId:p,activeDocumentOriginalLineCount:A,activeDocumentShortenedLineCount:E,wasPreviouslyRejected:x,isShown:b,acceptance:v,logProbThreshold:S,documentsCount:B,editsCount:P,activeDocumentEditsCount:F,promptLineCount:G,promptCharCount:re,isDefaultEndpoint:pe,hadLowLogProbSuggestion:Z,nonTerminatingError:W,nEditsSuggested:q,kthEditPicked:se,lineDistanceToMostRecentEdit:ne,debounceTime:H,hasNextEdit:O,nextEditLogprob:j,maxLinesPerEdit:J,noNextEditReasonKind:le,noNextEditReasonMessage:ee,firstEditStrategy:ae,firstPickStrategyOverride:ce,fetchTime:Re,fetchResult:ve,fetchError:Ue,fetchStartedAfterMs:ke}=r;this._sendTelemetryToBoth({opportunityId:n,headerRequestId:i,providerId:a,documentShorteningStrategy:h,activeDocumentLanguageId:p,acceptance:v,nonTerminatingError:W,noNextEditReasonKind:le,noNextEditReasonMessage:ee,firstEditStrategy:ae,firstPickStrategyOverride:ce,fetchResult:ve,fetchError:Ue},{requestN:s,hadStatelessNextEditProviderCall:this._boolToNum(l),statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:this._boolToNum(f),subsequentEditOrder:m,isDefaultEndpoint:this._boolToNum(pe),activeDocumentOriginalLineCount:A,activeDocumentShortenedLineCount:E,wasPreviouslyRejected:this._boolToNum(x),isShown:this._boolToNum(b),logProbThreshold:S,documentsCount:B,editsCount:P,activeDocumentEditsCount:F,promptLineCount:G,promptCharCount:re,hadLowLogProbSuggestion:this._boolToNum(Z),nEditsSuggested:q,kthEditPicked:se,lineDistanceToMostRecentEdit:ne,debounceTime:H,fetchStartedAfterMs:ke,fetchTime:Re,hasNextEdit:this._boolToNum(O),nextEditLogprob:j,maxLinesPerEdit:J})}_sendTelemetryToBoth(t,r){this.telemetrySender.sendTelemetryEvent("copilot-nes/provideInlineEdit",t,r)}_boolToNum(t){return t===void 0?void 0:t?1:0}};l6=fu([ba(0,aW)],l6);d();var c6=class{constructor(t){this.result=t}static{o(this,"NextEditResult")}};var IE=!1,yFe=300,u6=class extends ua{constructor(r,n,i,s,a,l){super();this._workspace=r;this._statelessNextEditProvider=n;this._historyContextProvider=i;this._parseService=s;this._instantiationService=a;this._snippyService=l;this._rejectionCollector=new FW(this._workspace);this._nextEditCache=new LW(this._workspace);this._recentlyShownCache=new Yae;this._pendingStatelessNextEditRequest=null;this._lastShownTime=0;this._lastRejectionTime=0;this._lastTriggerTime=0;B1(this,this._workspace.openDocuments,(c,u)=>{u.add(wte(c.value,f=>{this._cancelPendingRequestDueToDocChange(c.id,f)}))}).recomputeInitiallyAndOnChange(this._store),this._telemetrySender=this._instantiationService.createInstance(l6)}static{o(this,"NextEditProvider")}get lastRejectionTime(){return this._lastRejectionTime}get lastTriggerTime(){return this._lastTriggerTime}_cancelPendingRequestDueToDocChange(r,n){if(this._pendingStatelessNextEditRequest===null)return;let i=this._pendingStatelessNextEditRequest.getActiveDocument();i.id===r&&i.documentAfterEditsNoShortening.value!==n.value&&this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel()}async getNextEdit(r,n,i){this._lastTriggerTime=Date.now();let s=this._workspace.getDocument(r);if(!s)throw new Ai(`Document "${r}" not found`);let a=s.value.get(),l=new QW(this._statelessNextEditProvider.ID);l.setOpportunityId(n.requestUuid??Vae());let c=this._recentlyShownCache.get(r,a),u=this._nextEditCache.lookupNextEdit(r),f,m,h,p;if(c)f=c[0],p=c[1],m=a,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),await EE(yFe);else if(u)f=u.edit,p=u.source,m=u.documentBeforeEdit,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),l.setSubsequentEditOrder(u.subsequentN),await EE(yFe);else{p=new zae,l.setHeaderRequestId(p.headerRequestId);let x=s.value.get();m=x;let b=await this.fetchNextEdit(p,r,l,i),v=x.value!==s.value.get().value;if(b.isError())switch(b.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":case"gotCancelled":case"filteredOut":case"uncategorized":break;case"fetchFailure":case"unexpected":h=b.err.error;break;default:YQ(b.err)}else if(!v){let S=b.val;S.isEmpty()||(f=S.edits[0],(!this._statelessNextEditProvider.dependsOnSelection||S.edits.length>1)&&this._nextEditCache.setNextEdits(r,S,p))}}if(l.markEndTime(),h)throw this._telemetrySender.sendTelemetry(l),h;if(!f)return this._telemetrySender.sendTelemetry(l),new c6(void 0);if(this._rejectionCollector.isRejected(r,f))return l.setWasPreviouslyRejected(),this._telemetrySender.sendTelemetry(l),new c6(void 0);Uc(m!==void 0,"should be defined if edit is defined");let A=this._statelessNextEditProvider.showNextEditPreference??"aroundEdit",E=new c6({edit:f,showRangePreference:A,documentBeforeEdits:m});return this._telemetrySender.scheduleSendingTelemetry(E,l),f.isNeutral()||this._recentlyShownCache.add(r,a,[f,p]),E}async _shortenDocument(r,n){let i=r.lastEdit.getEditedState(),{document:s,clippedRange:a}=n==="noShortening"?this.getProjectedDocumentNoShortening(r.lastEdit):n==="clipping"?this.getProjectedDocumentClipping(r.lastEdit):await this.getProjectedDocumentSummarizedDocument(r.languageId,r.lastEdit),l=ns.fromOffsetEdit(s.edits).inverseOnString(s.originalText),{edits:c,editLast:u}=$ae(r.lastEdits.swap(l)),f=c.compose(),m=new bE(new ah(r.lastEdits.apply(s.originalText)),u.toOffsetEdit().inverse(c.apply(s.text))),h=new gl(s.text),A=wp.fromEdit(new Vu(h,f)).removeCommonSuffixPrefixLines(),E=c.edits.at(-1)?.getNewRanges().at(0),x;E&&(x=new gl(m.text).getTransformer().getRange(E));let b=r.lastSelection?m.projectOffsetRange(r.lastSelection):void 0,v=this._workspace.getWorkspaceRoot(r.docId),S=o(G=>{let pe=new wp(new gl(m.text),G).toEdit();return CFe(pe,m)},"toEditOnDocumentAfterEditsNoShortening"),B=o(G=>m.projectBack(G),"toOffsetOnDocumentAfterEditsNoShortening"),P=o(G=>m.project(G),"toProjectedOffset"),F=new h_(r.docId,v,r.languageId,A.base.getLines(),A.edit,x,h,c,i,S,B,P,r.lastEdit.base.getTextLength().lineCount,a,b);return{recentEdit:r.lastEdit,nextEditDoc:F,projectedDocument:m}}async fetchNextEdit(r,n,i,s){let a=this._historyContextProvider.getHistoryContext(n);if(!a)return ga.error({kind:"unexpected",error:new Error("DocumentMissingInHistoryContext")});let l=$ae(a.getDocumentAndIdx(n)),c=this.getDocumentShorteningStrategy();i.setDocumentShorteningStrategy(c);let u=await Promise.all(a.documents.map(F=>this._shortenDocument(F,c))),f=u[l.idx],m=new fW(r.headerRequestId,u.map(F=>F.nextEditDoc),l.idx,this.nextEditOptions),h=this._findExistingPendingRequest(m),p,A;if(h){p=h,IE&&console.log(`=> reusing an existing request ${p.seqid}`),i.setHeaderRequestId(h.id),i.setIsFromCache(),i.setRequest(p);let F=this._hookupCancellation(p,s);try{A=await p.result}finally{F.dispose()}}else{p=m,this._pendingStatelessNextEditRequest&&(this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel(),this._pendingStatelessNextEditRequest=null),this._pendingStatelessNextEditRequest=p;let F=o(()=>{this._pendingStatelessNextEditRequest===p&&(this._pendingStatelessNextEditRequest=null)},"removeFromPending");i.setRequest(p);let G=this._hookupCancellation(p,s);try{A=await this._statelessNextEditProvider.provideNextEdit(p,p.cancellationTokenSource.token),p.setResult(A)}catch(re){throw p.setResultError(re),re}finally{G.dispose(),F()}}i.setStatelessNextEditTelemetry(A.telemetry);let E=A.nextEdit;if(E.isError())return E;let x=E.val.edit;if(x.edits.length===0)return ga.error({kind:"noSuggestions"});let v=new wp(new gl(f.projectedDocument.text),x).toEdit(),S=CFe(v,f.projectedDocument),B=v.edits.length===S.edits.length?E.val.permutation:void 0,P=S.decompose(B);return ga.ok(P)}_hookupCancellation(r,n){let i=new V0,s=!1,a=o(()=>{s||(s=!0,r.liveDependentants--)},"removeDependant"),l=i.add(new iW);return i.add(n.onCancellationRequested(()=>{if(a(),r.liveDependentants>0){IE&&console.log(`=> ignoring UI cancellation signal for ${r.seqid} because others depend on this request`);return}if(!r.fetchIssued){IE&&console.log(`=> canceling ${r.seqid} due to UI cancellation signal`),r.cancellationTokenSource.cancel();return}l.setIfNotSet(()=>{if(r.liveDependentants>0){IE&&console.log(`=> ignoring timer cancellation signal for ${r.seqid} because others depend on this request`);return}IE&&console.log(`=> canceling ${r.seqid} due to timer after UI cancellation signal`),r.cancellationTokenSource.cancel()},500)})),i.add(fa(()=>{a()})),r.liveDependentants++,i}_findExistingPendingRequest(r){if(this._statelessNextEditProvider.canReuseResult&&this._pendingStatelessNextEditRequest&&!this._pendingStatelessNextEditRequest.cancellationTokenSource.token.isCancellationRequested&&this._statelessNextEditProvider.canReuseResult(this._pendingStatelessNextEditRequest,r))return this._pendingStatelessNextEditRequest}handleShown(r){this._lastShownTime=Date.now(),this._telemetrySender.markNextEditResultAsShown(r)}handleAcceptance(r,n){this._telemetrySender.sendTelemetryFor(n,"accepted"),this.runSnippy(r,n),this._statelessNextEditProvider.handleAcceptance?.()}handleRejection(r,n){wM(n.result,"@ulugbekna: undefined edit cannot be rejected?"),Date.now()-this._lastShownTime>1e3&&n.result&&(this._recentlyShownCache.remove(n.result.edit),this._rejectionCollector.reject(r,n.result.edit)),this._lastRejectionTime=Date.now(),this._telemetrySender.sendTelemetryFor(n,"rejected")}getProjectedDocumentNoShortening(r){return{document:new bE(new ah(r.base.value),new pd([])),clippedRange:new Vn(1,r.base.getTextLength().lineCount+1)}}getProjectedDocumentClipping(r){let n=r.base.getTransformer(),i=n.getRange(r.edit.getRange()??new Ur(0,0)),s=Vn.fromRange(i);function a(m,h){return new Vn(m.startLineNumber-h,m.endLineNumberExclusive+h)}o(a,"extendRange");let l=new Vn(1,n.textLength.lineCount+1),c=$ae(l.intersect(a(s,100))),u=Vn.subtract(l,c);return{document:new bE(new ah(r.base.value),new pd(u.map(m=>Na.delete(n.getOffsetRange(new ui(m.startLineNumber,1,m.endLineNumberExclusive,1)))))),clippedRange:c}}getDocumentShorteningStrategy(){return this._statelessNextEditProvider.documentShorteningStrategy??"clipping"}get nextEditOptions(){return new m_("firstByLineNumber",8)}async getProjectedDocumentSummarizedDocument(r,n){let i=await e9t(this._parseService,{getText:o(()=>n.base.value,"getText"),languageId:r});if(!i)return this.getProjectedDocumentClipping(n);let s=new ah(n.base.value),a=n.edit.edits.at(0)?.range??new Ur(0,0),l;if(n.edit.edits.length!==0){let p=n.edit.edits.at(0),A=n.edit.edits.at(-1);l=s.offsetRangeToRange(new Ur(p.range.start,A.range.endExclusive))}let c=EFe(s.offsetRangeToRange(a)),u=TW(200*50,{costFnOverride:o((p,A,E)=>{let x=EFe(E.offsetRangeToRange(p.range)),b=Z6t(c,x);return b>100?!1:b},"costFnOverride")},[{overlayNodeRoot:i,document:s,selection:l}])[0],f=u.projectBack(1)-1,m=n.base.getTransformer().getPosition(f).lineNumber,h=new Vn(m,m+u.lineCount);return{document:u,clippedRange:h}}async runSnippy(r,n){n.result!==void 0&&this._snippyService.handlePostInsertion(r.toUri(),n.result.documentBeforeEdits,n.result.edit)}};u6=fu([ba(3,sA),ba(4,Jp),ba(5,tW)],u6);function CFe(e,t){let r=t.projectBackOffsetEdit(e.toOffsetEdit());return ns.fromOffsetEdit(r)}o(CFe,"projectBackEdit");function EFe(e){return new Vn(e.start.line+1,e.end.line+1)}o(EFe,"lineRangeFromVSCodeRange");function Z6t(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(Z6t,"lineRangeDist");async function e9t(e,t){return await e.getTreeSitterAST(t)?.getStructure()}o(e9t,"getStructure");function $ae(e){if(!e)throw new Ai("expected value to be defined, but it was not");return e}o($ae,"assertDefined");var zae=class{constructor(){this.headerRequestId=Vae()}static{o(this,"NextEditFetchRequest")}},Yae=class{constructor(){this._cache=new ZQ(10)}static{o(this,"RecentlyShownCache")}add(t,r,n){let i=this._key(t,r);this._cache.set(i,n)}get(t,r){let n=this._key(t,r);return this._cache.get(n)}remove(t){for(let r of this._cache)if(r[1][0]===t){this._cache.delete(r[0]);break}}_key(t,r){return t.uri+";"+r.value}};var cA=class{static{o(this,"NextEditSuggestionsManager")}constructor(t){this.ctx=t}async handleNextEditRequest(t,r,n){let i=await(this.nextEditProvider??=this.createNextEditProvider()),s=this.lastResult;s&&(this.lastResult=void 0,i.handleRejection(s.documentId,s.nextEditResult));let a=hd.create(t),l=await i.getNextEdit(a,{triggerKind:1},n);if(l.result==null)return;let c=await this.ctx.get(Or).getTextDocument({uri:t});if(!c)return;let u=c.positionAt(l.result.edit.range.start),f=c.positionAt(l.result.edit.range.endExclusive),m=xr();return this.lastResult={resultId:m,nextEditResult:l,documentId:a},[{edit:{text:l.result?.edit.newText??"",range:{start:u,end:f},textDocument:{uri:t,version:r}},id:m}]}async postInsertionTasks(t){let r=await this.nextEditProvider,n=this.lastResult;!r||!n||n.resultId===t&&(this.lastResult=void 0,await r.handleAcceptance(n.documentId,n.nextEditResult))}async createNextEditProvider(){let t=await zPe(this.ctx),r=t.createInstance(jy),n=this.ctx.get(Ip),i=new NI(n);return t.createInstance(u6,n,r,i)}};d();var $y=require("fs"),xFe=require("os"),bFe=nt(require("path")),f6=require("process");var Xl=class{static{o(this,"PersistenceManager")}},Kae=class extends Xl{constructor(r){super();this.directory=r}static{o(this,"FilePersistenceManager")}async read(r,n){try{return(await this.readJsonObject(r))[n]}catch{return}}async update(r,n,i){await $y.promises.mkdir(this.directory,{recursive:!0,mode:448});let s=`${this.directory}/${r}.json`,a=await this.readJsonObject(r);a[n]=i,await $y.promises.writeFile(s,JSON.stringify(a)+`
`,{encoding:"utf8"})}async delete(r,n){let i=`${this.directory}/${r}.json`;try{let s=await this.readJsonObject(r);delete s[n];let a=JSON.stringify(s)+`
`;a===`{}
`?await $y.promises.rm(i):await $y.promises.writeFile(i,a,{encoding:"utf8"})}catch{}}async deleteSetting(r){let n=`${this.directory}/${r}.json`;try{await $y.promises.rm(n)}catch{}}async listSettings(){try{return(await $y.promises.readdir(this.directory)).filter(n=>n.endsWith(".json")).map(n=>n.slice(0,-5))}catch{return[]}}async listKeys(r){return Object.keys(await this.readJsonObject(r))}async readJsonObject(r){let n=`${this.directory}/${r}.json`;try{let i=await $y.promises.readFile(n,{encoding:"utf8"});return JSON.parse(i)}catch{return{}}}};function t9t(){return f6.env.XDG_CONFIG_HOME&&bFe.isAbsolute(f6.env.XDG_CONFIG_HOME)?f6.env.XDG_CONFIG_HOME+"/github-copilot":(0,xFe.platform)()==="win32"?f6.env.USERPROFILE+"\\AppData\\Local\\github-copilot":f6.env.HOME+"/.config/github-copilot"}o(t9t,"getXdgConfigPath");function vFe(){return new Kae(t9t())}o(vFe,"makeXdgPersistenceManager");d();d();d();var IFe=nt(require("node:events"));var MW="onWorkspaceWatcherChanged";var OW=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.emitter=new IFe.default;this.status="created",this.startWatching()}static{o(this,"WorkspaceWatcher")}onFileChange(t){this.emitter.on(MW,Iu(this.ctx,t,"WorkspaceWatcher.onFileChange"))}onFilesCreated(t){this.emitter.emit(MW,{type:"create",documents:t,workspaceFolder:this.workspaceFolder})}onFilesUpdated(t){this.emitter.emit(MW,{type:"update",documents:t,workspaceFolder:this.workspaceFolder})}onFilesDeleted(t){this.emitter.emit(MW,{type:"delete",documents:t,workspaceFolder:this.workspaceFolder})}};var rc=class{constructor(t){this.ctx=t;this.watchers=new Bn(25)}static{o(this,"WorkspaceWatcherProvider")}getWatcher(t){let r=this.watchers.get(t.uri);if(r)return r;let n=this.getParentFolder(t.uri);return n?this.watchers.get(n):void 0}getParentFolder(t){return[...this.watchers.keys()].find(n=>{let i=n.replace(/[#?].*/,"").replace(/\/?$/,"/");return t!==n&&t.startsWith(i)})}hasWatcher(t){return this.getParentFolder(t.uri)||this.getWatcher(t)!==void 0}startWatching(t){if(Jr.debug(this.ctx,`WorkspaceWatcherProvider - Start watching workspace ${t.uri}`),this.hasWatcher(t)){this.getWatcher(t)?.startWatching();return}let r=this.createWatcher(t);this.watchers.set(t.uri,r)}stopWatching(t){this.getWatcher(t)?.stopWatching()}terminateSubfolderWatchers(t){let r=[...this.watchers.keys()],n=t.uri.replace(/[#?].*/,"").replace(/\/?$/,"/"),i=r.filter(s=>s!==t.uri&&s.startsWith(n));for(let s of i)this.terminateWatching({uri:s});return i}terminateWatching(t){if(this.getWatcher(t)?.status!=="stopped")return this.stopWatching(t),this.watchers.delete(t.uri);this.watchers.delete(t.uri)}onFileChange(t,r){this.getWatcher(t)?.onFileChange(r)}async getWatchedFiles(t){return await this.getWatcher(t)?.getWatchedFiles()??[]}getStatus(t){return this.getWatcher(t)?.status}};var d6=class{static{o(this,"WorkspaceLifecycleListener")}start(){}onWorkspaceAdded(t){}onWorkspaceRemoved(t){}onWorkspaceSubfoldersTerminated(t,r){}onFileChange(t){}},Xp=class e{constructor(t){this.ctx=t;this.activeListeners=[];this.inactiveListeners=[];this.ctx=t}static{o(this,"WorkspaceLifecycleManager")}async start(){this.ctx.get(nf).onChange(t=>{this.onWorkspacesAdded(t.added,this.ctx),this.onWorkspacesRemoved(t.removed,this.ctx)})}static isSubfolder(t,r){let n=t.uri,i=r.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");return n!==i&&n.startsWith(i)}async onWorkspacesAdded(t,r){if(t.length){await this.startListeners(),t=t.filter((n,i,s)=>s.findIndex(a=>a.uri===n.uri)===i&&!s.some(a=>e.isSubfolder(n,a)));for(let n of t){if(!n.uri)continue;let i=r.get(rc);if(i.shouldStartWatching(n)){i.startWatching(n);let s=i.terminateSubfolderWatchers(n);if(s.length)for(let a of this.activeListeners)await a.onWorkspaceSubfoldersTerminated(n,s);for(let a of this.activeListeners)i.onFileChange(n,a.onFileChange.bind(a))}}for(let n of t)for(let i of this.activeListeners)await i.onWorkspaceAdded(n)}}async onWorkspacesRemoved(t,r){if(t.length){await this.startListeners();for(let n of t){if(!n.uri)continue;r.get(rc).terminateWatching(n);for(let s of this.activeListeners)await s.onWorkspaceRemoved(n)}}}async startListeners(){if(this.inactiveListeners.length>0){let t=[];for(let r of this.inactiveListeners)await r.isEnabled()?(await r.start(),this.activeListeners.push(r)):t.push(r);this.inactiveListeners=this.inactiveListeners.filter(r=>!this.activeListeners.includes(r)),t.forEach(r=>this.removeListener(r))}}addListener(t){this.inactiveListeners.push(t)}removeListener(t){this.activeListeners=this.activeListeners.filter(r=>r!==t),this.inactiveListeners=this.inactiveListeners.filter(r=>r!==t)}removeAllListeners(){this.activeListeners=[],this.inactiveListeners=[]}isInitialized(){return this.inactiveListeners.length===0}getActiveListeners(){return this.activeListeners}getInactiveListeners(){return this.inactiveListeners}};function UW(e){e.set(Xp,new Xp(e))}o(UW,"setupWorkspaceLifecycleListener");d();d();var uA=class{static{o(this,"FallbackContextProviderFeatureLifecycle")}async dispose(){}};d();var _Fe=require("crypto"),Jae=require("fs"),Xae=nt(require("path"));var wFe="symbolDatabaseLookup",SFe="fallbackContextProviderDocumentSymbols",TE=class{constructor(t){this.persistenceManager=t}static{o(this,"WorkspaceDatabasePersistenceManager")}async getDBFilePath(t){await this.init();let r=await this.persistenceManager.read(wFe,t);return r||(r=await this.createDBFile(t)),Xae.default.join(this.persistenceManager.directory,SFe,r)}async init(){let t=Xae.default.join(this.persistenceManager.directory,SFe);await this.createIfNotExists(t)}async dirExists(t){try{return await Jae.promises.access(t),!0}catch{return!1}}async createIfNotExists(t){try{await this.dirExists(t)||await Jae.promises.mkdir(t,{recursive:!0})}catch{throw new Error(`Failed to create directory: ${t}`)}}async createDBFile(t){let r=`${(0,_Fe.randomUUID)()}.db`;return await this.persistenceManager.update(wFe,t,r),r}async deleteDBFile(t){}};d();d();var wE=class{static{o(this,"FileSearch")}};d();var I_=class{constructor(t,r){this.workspaceUris=t;this.params=r}static{o(this,"FileWatcher")}};d();d();var kFe=100,r9t=5e3,qW=class{static{o(this,"CachedContextFetcher")}constructor(){}runWithCache(t,r,n,i,s,a){let l=Date.now(),c=this.get(n,i,r,l);if(c)return this.incrementRefCount(c),a.onCancellationRequested(()=>this.decrementRefCount(c)),c.value;let u=new Jn.CancellationTokenSource,f=o(()=>u.cancel(),"cancel"),m=t(r,n,i,s,u.token);return c=this.setBasedOnLastDelimiter(n,i,r,l,m,f),this.incrementRefCount(c),a.onCancellationRequested(()=>this.decrementRefCount(c)),m}get(t,r,n,i){if(this.cachedValue&&this.cachedValue.uri===n&&!(Math.abs(this.cachedValue.cursorPosition-r)>kFe)){if(r>this.cachedValue.cursorPosition){if(t.substring(this.cachedValue.cursorPosition,r).match(/[^A-Za-z0-9]/))return}else if(r<this.cachedValue.cursorPosition)return;if(!(i-this.cachedValue.timestamp>r9t))return this.cachedValue}}setBasedOnLastDelimiter(t,r,n,i,s,a){let l=t.substring(0,r),c=/[A-Za-z0-9]+$/.exec(l),u=r;c&&(u=c.index),r-u>kFe&&(u=r);let f={cursorPosition:u,uri:n,timestamp:i,fullText:t,value:s.finally(()=>{f.complete=!0}),refCount:0,cancel:a,uuid:xr(),complete:!1};return this.cachedValue=f}incrementRefCount(t){t&&t.refCount++}decrementRefCount(t){t&&!t.complete&&(t.refCount--,t.refCount<=0&&t.cancel())}};d();d();d();var WW=class{constructor(t){this.maxDegreeOfParalellism=t;this.outstandingPromises=[],this.runningPromises=0}static{o(this,"PriorityLimiter")}queue(t,r=!1){return new Promise((n,i)=>{r?this.outstandingPromises.unshift({factory:t,c:n,e:i}):this.outstandingPromises.push({factory:t,c:n,e:i}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){let t=this.outstandingPromises.shift();this.runningPromises++;let r=t.factory();r.then(t.c,t.e),r.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningPromises--,this.outstandingPromises.length>0&&this.consume()}};var BFe=nt(ri());var Zae="main.js",GW=class{constructor(t,r=3){this.promiseResolvers=new Map;this.id=0;try{let n={cwd:process.cwd(),indexWorkspaceRoots:t};this.worker=oX(Zae,n),this.worker.on("message",this.handleWorkerMessage.bind(this)),this.worker.on("error",i=>{this.handleUnexpectedError(i)}),this.postMessageQueue=new WW(r)}catch(n){throw console.error(`Failed to create worker: ${n.message}`),n}}static{o(this,"IndexClient")}dispose(){return this.postMessageInQueue(new QN(this.id++),BFe.CancellationToken.None,!0)}async indexFile(t,r,n){return await this.postMessageInQueue(new FN(this.id++,t,r),n)}async getAllFileNames(t,r){return this.postMessageInQueue(new NN(this.id++,t),r)}getContext(t,r,n,i,s){return this.postMessageInQueue(new LN(this.id++,t,r,n,i),s,!0)}tryCreateIndex(t,r,n){return this.postMessageInQueue(new DN(this.id++,t,r),n)}async postMessageInQueue(t,r,n=!1){return this.postMessageQueue.queue(()=>this.postMessageAndWait(t,r),n)}tryRemoveIndex(t,r){return this.postMessageAndWait(new PN(this.id++,t),r)}async postMessageAndWait(t,r){if(this.fatalError)return Promise.reject(this.fatalError);let n=new Promise((s,a)=>{this.promiseResolvers.set(t.id,{resolve:s,reject:a})});this.worker.postMessage(t);let i=r.onCancellationRequested(()=>{this.worker.postMessage(new RN(t.id))});try{return await n}finally{i.dispose()}}handleWorkerMessage(t){if(t.operation!=="response")throw new Error("Unexpected message operation");let r=this.promiseResolvers.get(t.id);if(!r)throw new Error(`Received response for message that isn't in progress: ${t.id}`);this.promiseResolvers.delete(t.id),t.error?(t.error.code=t.code,r.reject(t.error)):r.resolve(t.data)}handleUnexpectedError(t){let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&r.message?.endsWith(Zae+"'")&&(r=new Error(`Failed to load ${Zae}`),r.code="CopilotPromptLoadFailure");let n=new Error().stack;r.stack&&n?.match(/^Error\n/)&&(r.stack+=n.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&"status"in t&&t.name==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`worker.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let n of this.promiseResolvers.values())n.reject(r);this.promiseResolvers.clear(),this.fatalError=r}};var T_=nt(ri());var m6="fallbackContextProvider",zy=new Cr(m6),SE=class{constructor(t,r,n,i){this.ctx=t;this.watcher=r;this.workspaceDatabasePersistenceManager=n;this.workspaceInit=new Map;this.watcher.onFileChange(async(s,a)=>{await this.indexFile(a,this.languageId(a)??"plaintext")}),this.watcher.onWorkspaceChange(async(s,a)=>{if(s===1){await this.indexClient.tryRemoveIndex(a,T_.CancellationToken.None);return}await this.indexAddedWorkspace(a)}),this.indexClient=new GW(i);for(let s of i){let a=s.rootPath;this.workspaceInit.set(a,this.doWorkspaceIndex(a).then(()=>{zy.debug(this.ctx,`workspace ${a} indexed`),this.workspaceInit.delete(a)}))}}static{o(this,"FallbackContextIndexWatcher")}dispose(){return this.indexClient.dispose()}async indexAddedWorkspace(t){let r=await i9t(t,this.workspaceDatabasePersistenceManager);await this.indexClient.tryCreateIndex(r.rootPath,r.databaseFilePath,T_.CancellationToken.None),this.workspaceInit.has(t)&&await this.workspaceInit.get(t);let n=this.doWorkspaceIndex(t).then(()=>{zy.debug(this.ctx,`workspace ${t} indexed`),this.workspaceInit.delete(t)});this.workspaceInit.set(t,n)}async doWorkspaceIndex(t){zy.debug(this.ctx,`indexing workspace ${t}`);let r=gX.map(f=>`*${f}`);if(r.length===0)return;let i=`**/${gX.length===1?r[0]:`{${r.join(",")}}`}`,s=this.ctx.get(wE),a=await Promise.all([s.findFiles(i,t,{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0,excludeIDESearchIgnoredFiles:!0}),this.indexClient.getAllFileNames(t,T_.CancellationToken.None)]),l=a[0],c=a[1],u=Array.from(new Set([...l,...c]));await Promise.all(u.map(async f=>{let m=this.languageId(f);m&&await this.indexFile(f.replace(/\/+$/,""),m)}))}async indexFile(t,r){try{zy.debug(this.ctx,`index triggered for ${t}`),await this.indexClient.indexFile(t,r,T_.CancellationToken.None)}catch(n){zy.debug(this.ctx,`failed to index ${t} with ${n}`)}}languageId(t){return R3e(t)}};async function i9t(e,t){return{databaseFilePath:await t.getDBFilePath(e),rootPath:e}}o(i9t,"createIndexableWorkspaceFolder");var HW=class{constructor(t){this.id=m6;this.selector=xN.map(t=>({language:t.languageId}));try{this.documentManager=t.get(Or),this.resolver=new ele(this.documentManager,t)}catch(r){throw zy.error(t,"Failed to create fallback context provider",r),r}}static{o(this,"FallbackContextProvider")}},ele=class{constructor(t,r){this.ctx=r;this.documentManager=t,this.cachedContextFetcher=new qW}static{o(this,"FallbackContextResolver")}resolve(t,r){return this.resolveImpl(t,r)}async resolveImpl(t,r){let n=this.ctx.get(uA).indexWatcher;if(!n)return[];let i=n.indexClient;try{let s=await this.documentManager.getTextDocument({uri:t.documentContext.uri});if(s?.version!==t.documentContext.version)return[];let a=t.documentContext.position,l=t.documentContext.proposedEdits??[];({textDocument:s,position:a}=oI(s,a,l));let c=s.getText();return await this.cachedContextFetcher.runWithCache(i.getContext.bind(i),t.documentContext.uri,c,s.offsetAt(a),t.documentContext.languageId,r)}catch(s){if(_T(s))return[];throw zy.error(this.ctx,"Failed to get context",s),s}}};var w_=class extends d6{static{o(this,"AgentFallbackContextProvider")}constructor(t){super(),this.ctx=t,this.ctx.get(Xp).addListener(this)}async start(){if(await this.isEnabled()&&!this.ctx.get(ma).providers.some(t=>t.id===m6)){let t=this.ctx.get(TE);this.fileWatcher=new tle([],{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!1,excludeIDESearchIgnoredFiles:!1}),this.fallbackContextIndexWatcher=new SE(this.ctx,this.fileWatcher,t,[]),this.fileSearch=new rle(this.ctx),this.ctx.set(I_,this.fileWatcher),this.ctx.set(wE,this.fileSearch),this.ctx.set(SE,this.fallbackContextIndexWatcher),this.ctx.get(ma).registerContextProvider(new HW(this.ctx))}}async isEnabled(){try{await this.ctx.get(qr).getToken()}catch{return!1}let t=await this.ctx.get(jt).updateExPValuesAndAssignments(),r=HM(this.ctx,t);return r.includes(m6)||r.length===1&&r[0]==="*"}async onWorkspaceAdded(t){await this.isEnabled()&&await this.fileWatcher?.triggerWorkspaceChange(0,t.uri)}async onWorkspaceRemoved(t){await this.isEnabled()&&await this.fileWatcher?.triggerWorkspaceChange(1,t.uri)}async onWorkspaceSubfoldersTerminated(t,r){if(await this.isEnabled())return super.onWorkspaceSubfoldersTerminated(t,r)}async onFileChange(t){if(await this.isEnabled())for(let r of t.documents)await this.fileWatcher?.triggerFileChange(this.toFileWatcherType(t.type),r.uri)}toFileWatcherType(t){switch(t){case"create":return 2;case"delete":return 1;case"update":return 0;default:throw new Error("Unknown file watcher event type")}}},tle=class extends I_{constructor(r,n){super(r,n);this.fileChangeListeners=[];this.workspaceChangeListeners=[]}static{o(this,"FallbackFileWatcher")}onFileChange(r){this.fileChangeListeners.push(r)}onWorkspaceChange(r){this.workspaceChangeListeners.push(r)}dispose(){}async triggerFileChange(r,n){for(let i of this.fileChangeListeners)await i(r,n)}async triggerWorkspaceChange(r,n){for(let i of this.workspaceChangeListeners)await i(r,n)}},rle=class extends wE{constructor(r){super();this.ctx=r}static{o(this,"LspFileSearch")}async findFiles(r,n,i){return(await this.ctx.get(rc).getWatchedFiles({uri:n})).map(a=>a.clientUri)}};var nle=class extends uA{static{o(this,"AgentFallbackContextProviderFeatureLifecycle")}constructor(t){super(),this.agentFallbackContextProvider=new w_(t),t.set(w_,this.agentFallbackContextProvider)}get indexWatcher(){return this.agentFallbackContextProvider?.fallbackContextIndexWatcher}async tryStart(t){}async dispose(){return super.dispose()}};function RFe(e){let t=e.get(Xl),r=new TE(t);e.set(TE,r),e.set(uA,new nle(e))}o(RFe,"setupFallbackContextProviderFeature");d();d();d();var Zp=new Map;Zp.set("copilot",{app:"copilot-client",catalog_service:"CopilotCompletionsVSCode"});Zp.set("copilot-intellij",{app:"copilot-intellij",catalog_service:"CopilotIntelliJ"});Zp.set("copilot-xcode",{app:"copilot-xcode",catalog_service:"CopilotXcode"});Zp.set("copilot-eclipse",{app:"copilot-eclipse",catalog_service:"CopilotEclipse"});Zp.set("copilot.vim",{app:"copilot-vim",catalog_service:"CopilotVim"});Zp.set("copilot-vs",{app:"copilot-vs",catalog_service:"CopilotVS"});var s9t=new Cr("sdk");function VW(e,t){Zp.has(e.get(an).getEditorPluginInfo().name)||s9t.warn(e,...t)}o(VW,"deprecationWarning");var lqe=nt(ble()),mh=nt(dp());d();d();d();var Nr={ParseError:-32700,InvalidRequest:-32600,MethodNotFound:-32601,InvalidParams:-32602,InternalError:-32603,ServerNotInitialized:-32002,RequestCancelled:-32800,ContentModified:-32801,ServerCancelled:-32802,NoCopilotToken:1e3,DeviceFlowFailed:1001,CopilotNotAvailable:1002};var oc=class extends Error{static{o(this,"SchemaValidationError")}constructor(t){super(bLe(t))}};function st(e,t){let r=Ns.Compile(e);return async(n,i,s)=>{if(!r.Check(s)){let a=bLe(r.Errors(s));return[null,{code:Nr.InvalidParams,message:a}]}return t(n,i,s)}}o(st,"addMethodHandlerValidation");function bLe(e){return`Schema validation failed with the following errors:
${Array.from(e).map(r=>`- ${r.path}: ${r.message}`).join(`
`)}`}o(bLe,"createErrorMessage");d();var vle=nt(ri());d();var tg=class{constructor(t){this.ctx=t}static{o(this,"AbstractCommand")}};var nG="github.copilot.finishDeviceFlow",Ile=class extends tg{constructor(){super(...arguments);this.name=nG;this.arguments=I.Tuple([])}static{o(this,"FinishDeviceFlowCommand")}async handle(r,n){let i=this.ctx.get(In).pendingSignIn;if(!i)throw new vle.ResponseError(Nr.InvalidRequest,"No pending sign in");try{await this.ctx.get(Hl).open(i.verificationUri)}catch(s){ku.warn(this.ctx,"Failed to open",i.verificationUri),ku.exception(this.ctx,s,nG)}try{return await i.status}catch(s){throw new vle.ResponseError(Nr.DeviceFlowFailed,String(s))}finally{this.ctx.get(In).pendingSignIn=void 0}}},vLe=[Ile];d();d();var Wo=class extends Bn{static{o(this,"CopilotCompletionCache")}constructor(t=100){super(t)}};var F_="github.copilot.didAcceptCompletionItem",Tle=class extends tg{constructor(){super(...arguments);this.name=F_;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptCommand")}async handle(r,[n]){let s=this.ctx.get(Wo).get(n);return s?(eO(this.ctx,s),!0):!1}},ILe=[Tle];d();var rwt="github.copilot.didAcceptNextEditSuggestionItem",wle=class extends tg{constructor(){super(...arguments);this.name=rwt;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptCommand")}async handle(r,[n]){return await this.ctx.get(cA).postInsertionTasks(n),!0}},TLe=[wle];d();var _le="github.copilot.didAcceptPanelCompletionItem",Sle=class extends tg{constructor(){super(...arguments);this.name=_le;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptPanelCompletionItemCommand")}async handle(r,n){let[i]=n,a=this.ctx.get(Wo).get(i);return a?(Q4(this.ctx,a.triggerCategory,a.insertText,a.offset,a.uri,a.telemetry,{compType:"full"},a.copilotAnnotations),!0):!1}},wLe=[Sle];var nwt=[...vLe,...ILe,...TLe,...wLe];function SLe(e,t){let r=new Map;for(let n of nwt){let i=new n(e),s=Ns.Compile(i.arguments);r.set(i.name,{typeCheck:s,command:i})}return t.onExecuteCommand(async(n,i)=>{let s=r.get(n.command);if(!s)throw new Error(`Unknown command: ${n.command}`);let a=fA(n.arguments??[]);if(a.length<s.command.arguments.minItems&&(a.length=s.command.arguments.minItems),s.typeCheck.Check(n.arguments))return s.command.handle(i,a);throw new oc(s.typeCheck.Errors(n.arguments))}),[...r.keys()]}o(SLe,"registerCommands");d();var lf=class extends $3{constructor(r){super(new Nv,new Map);this.envSettings=new Map;this.env={...r},this.setOverridesFromEnvironment()}static{o(this,"AgentConfigProvider")}setOverridesFromEnvironment(){["DebugOverrideEngine","DebugOverrideProxyUrl","DebugOverrideCapiUrl","DebugUseEditorFetcher","UseSubsetMatching","ExcludeOpenTabFilesCSharp","ExcludeOpenTabFilesCpp","FallbackToOpenTabFilesWithNoRelatedFiles"].forEach(n=>{for(let i of["AGENT_DEBUG_","GITHUB_COPILOT_","GH_COPILOT_"]){let s=`${i}${iwt(n.replace(/^Debug/,""))}`;s in this.env&&(this.envSettings.set(qt[n],this.env[s]),this.setConfig(qt[n],this.env[s]))}})}setConfig(r,n){super.setConfig(r,n??this.envSettings.get(r))}};function iwt(e){return e.replace(/([a-z])([A-Z]+)/g,"$1_$2").toUpperCase()}o(iwt,"camelCaseToSnakeCaseAllCaps");var owt="unknown-editor",_Le="unknown-editor-plugin",iG=class extends an{static{o(this,"AgentEditorInfo")}setEditorAndPluginInfo(t,r,n=[]){this._editorInfo=r,this._editorPluginInfo=t,this._relatedPluginInfo=n}setCopilotIntegrationId(t){this._copilotIntegrationId=t}getEditorInfo(){return this._editorInfo?this._editorInfo:{name:owt,version:"0"}}getEditorPluginInfo(){return this._editorPluginInfo?this._editorPluginInfo:{name:_Le,version:"0"}}getRelatedPluginInfo(){return this._relatedPluginInfo??[]}getCopilotIntegrationId(){return this._copilotIntegrationId}};function kLe(e){return e.getEditorPluginInfo().name!==_Le}o(kLe,"hasValidInfo");d();var RLe=require("node:events");var BLe="initialize",dA=class{constructor(){this.emitter=new RLe.EventEmitter;this.initialized=!1}static{o(this,"InitializedNotifier")}once(t){this.emitter.once(BLe,t)}emit(){if(this.initialized)throw new Error("Already initialized");this.initialized=!0,this.emitter.emit(BLe)}};d();var mA=nt(dp());var swt=new Map([[4,mA.MessageType.Log],[3,mA.MessageType.Info],[2,mA.MessageType.Warning],[1,mA.MessageType.Error]]),oG=class extends Sa{static{o(this,"NotificationLogger")}logIt(t,r,n,...i){if(r==4&&!tO(t)&&n!=="console")return;let s={type:swt.get(r),message:_6e(n,...i)},a=t.get($r).connection;try{a.sendNotification(new mA.NotificationType("window/logMessage"),s)}catch(l){if(l instanceof mA.ConnectionError)return;throw l}}};d();var DLe=nt(E0());var sG=class{constructor(t,r=!1){this.ctx=t;this.codeSnippets=r}static{o(this,"RedirectTelemetryReporter")}get notificationName(){return this.codeSnippets?"codeSnippetTelemetry":"uedTelemetry"}sendTelemetryEvent(t,r,n){this.ctx.get($r).connection.sendNotification(new DLe.NotificationType(this.notificationName),{type:"event",name:t,properties:r||{},measurements:n||{}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(t,r,n)}dispose(){return Promise.resolve()}};async function PLe(e){let t=e.get(Cs),r=t.deactivate();t.setReporter(new sG(e)),t.setRestrictedReporter(new sG(e,!0)),await r}o(PLe,"setupRedirectingTelemetryReporters");d();d();var aG=class{static{o(this,"InstallationManager")}async startup(t){await this.isNewInstall(t)?(await this.markInstalled(t),this.handleInstall(t,await this.wasPreviouslyInstalled(t))):await this.isNewUpgrade(t)&&(await this.markUpgraded(t),this.handleUpgrade(t))}async uninstall(t){return await this.handleUninstall(t)}handleInstall(t,r){r?er(t,"installed.reinstall"):er(t,"installed.new")}handleUpgrade(t){er(t,"installed.upgrade")}async handleUninstall(t){er(t,"uninstalled")}};var N_=nt(ble());var g6=class extends aG{static{o(this,"AgentInstallationManager")}async isNewInstall(t){let r=t.get(an).getEditorPluginInfo();return await t.get(Xl).read("versions",r.name)===void 0&&!await this.hasPersistedSettings(t)}async hasPersistedSettings(t){return(await t.get(Xl).listSettings()).length>0}async markInstalled(t){let r=t.get(an).getEditorPluginInfo();await t.get(Xl).update("versions",r.name,r.version)}wasPreviouslyInstalled(t){return Promise.resolve(!1)}async isNewUpgrade(t){try{let r=t.get(an).getEditorPluginInfo(),n=await t.get(Xl).read("versions",r.name);return n===void 0&&await this.hasPersistedSettings(t)?!0:(0,N_.gt)((0,N_.coerce)(r.version),(0,N_.coerce)(n))}catch{return!1}}async markUpgraded(t){await this.markInstalled(t)}async uninstall(t){await super.uninstall(t);let r=t.get(an).getEditorPluginInfo();await t.get(Xl).delete("versions",r.name),(await t.get(Xl).listKeys("versions")).length===0&&await t.get(Xl).deleteSetting("versions")}};d();var FLe=require("events"),Ble=nt(require("path")),lG=nt(E0());var kle="didChangeWatchedFiles",awt={watchedFiles:[],contentRestrictedFiles:[],unknownFileExtensions:[]},lh=class e{constructor(t){this.ctx=t;this.emitter=new FLe.EventEmitter}static{o(this,"LspFileWatcher")}static{this.requestType=new lG.ProtocolRequestType("copilot/watchedFiles")}get connection(){return this.ctx.get($r).connection}init(){this.ctx.get(rs).getCapabilities().watchedFiles&&this.connection.onNotification(lG.DidChangeWatchedFilesNotification.type,r=>{"workspaceUri"in r&&typeof r.workspaceUri=="string"&&this.didChangeWatchedFilesHandler(r)})}async getWatchedFiles(t){if(!this.ctx.get(rs).getCapabilities().watchedFiles)return awt;let i=(await this.connection.sendRequest(e.requestType,t)).files,s=[],a=[],l=[];for(let c of i){let u=Ble.extname(c).toLowerCase();if(!wT.includes(u)){l.push({uri:c});continue}let f=await this.getValidDocument(c);if(f===void 0){a.push({uri:c});continue}s.push(f)}return{watchedFiles:s,contentRestrictedFiles:a,unknownFileExtensions:l}}onDidChangeWatchedFiles(t){this.emitter.on(kle,t)}offDidChangeWatchedFiles(t){this.emitter.off(kle,t)}async didChangeWatchedFilesHandler(t){let r=[],n=[],i=[];for(let s of t.changes){let a=s.uri,l={uri:a,isRestricted:!1,isUnknownFileExtension:!1},c=Ble.extname(s.uri).toLowerCase();if(!wT.includes(c))l.isUnknownFileExtension=!0;else{let u=await this.getValidDocument(a);u===void 0?l.isRestricted=!0:l.document=u}switch(s.type){case 1:n.push(l);break;case 2:r.push(l);break;case 3:i.push(l);break}}this.emitter.emit(kle,{workspaceFolder:{uri:t.workspaceUri},created:n,changed:r,deleted:i})}async getValidDocument(t){let n=await this.ctx.get(qn).readFile(t);return n.status==="valid"?n.document:void 0}};d();d();var lwt=I.Object({uri:I.String({minLength:1})});async function cwt(e,t,r){let n=await e.get(qn).readFile(r.uri);return[{status:as(n),...n.status==="invalid"&&{reason:n.reason},...n.status==="notfound"&&{reason:n.message}},null]}o(cwt,"handleCheckFileStatusChecked");var NLe=st(lwt,cwt);d();d();var Dn=I.Object({});var uwt=I.Object({options:I.Optional(I.Intersect([I.Object({localChecksOnly:I.Optional(I.Boolean()),forceRefresh:I.Optional(I.Boolean())}),Dn]))});async function fwt(e,t,r){return[await e.get(In).checkAndUpdateStatus(e,r.options),null]}o(fwt,"handleCheckStatusChecked");var LLe=st(uwt,fwt);d();d();d();d();d();d();function QLe(e){return e?e.filter(t=>t.type==="github.web-search").map(t=>t):[]}o(QLe,"filterUnsupportedReferences");function MLe(e){return e?e.filter(t=>t.type==="github.web-search"):[]}o(MLe,"convertToCopilotReferences");var OLe=I.Object({type:I.Literal("github.web-search"),id:I.String(),data:I.Object({query:I.String(),type:I.String(),results:I.Optional(I.Array(I.Object({title:I.String(),excerpt:I.String(),url:I.String()})))}),metadata:I.Optional(I.Object({display_name:I.Optional(I.String()),display_icon:I.Optional(I.String())}))});var Yy=class{constructor(t){this.deltaApplier=t;this.appliedLength=0;this.appliedText="";this.appliedAnnotations=[]}static{o(this,"ConversationFinishCallback")}isFinishedAfter(t,r){let n=t.substring(this.appliedLength,t.length),s=this.mapAnnotations(r.annotations).filter(a=>!this.appliedAnnotations.includes(a.id));this.append(n,s,QLe(r.copilotReferences),r.copilotErrors??[],r.copilotConfirmation)}append(t,r,n,i,s){this.deltaApplier(t,r,n,i,s),this.appliedLength+=t.length,this.appliedText+=t,this.appliedAnnotations.push(...r.map(a=>a.id))}mapAnnotations(t){if(!t)return[];let r=[],n=t.for("CodeVulnerability").map(s=>({...s,type:"code_vulnerability"})),i=t.for("IPCodeCitations").map(s=>({...s,type:"ip_code_citations"}));return r.push(...n),r.push(...i),r}};d();var qa=class{static{o(this,"ConversationInspector")}};d();var cs=class{static{o(this,"ConversationProgress")}};d();d();var rg=class{constructor(t){this.ctx=t;this.githubRepositoryInfoCache=new Map}static{o(this,"GitHubRepositoryApi")}async getRepositoryInfo(t,r){let n=this.githubRepositoryInfoCache.get(`${t}/${r}`);if(n)return n;let i=await this._doGetRepositoryInfo(t,r);if(i.ok){let s=await i.json();return this.githubRepositoryInfoCache.set(`${t}/${r}`,s),s}throw new Error(`Failed to fetch repository info for ${t}/${r}`)}async _doGetRepositoryInfo(t,r){let n=await this.ctx.get(qr).getGitHubToken(),i={Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"};n&&(i.Authorization=`Bearer ${n}`);let s=this.ctx.get(Rn).getAPIUrl(`repos/${t}/${r}`);return this.ctx.get(Fr).fetch(s,{method:"GET",headers:i})}async isAvailable(t,r){try{return(await this._doGetRepositoryInfo(t,r)).ok}catch{return!1}}};d();d();d();var dwt=I.Union([I.Literal("included"),I.Literal("blocked"),I.Literal("notfound"),I.Literal("empty")]),sc=I.Object({uri:I.String(),position:I.Optional(I.Object({line:I.Number({minimum:0}),character:I.Number({minimum:0})})),visibleRange:I.Optional(bm),selection:I.Optional(bm),openedAt:I.Optional(I.String()),activeAt:I.Optional(I.String())}),L_=I.Intersect([I.Object({type:I.Literal("file"),status:I.Optional(dwt),range:I.Optional(bm)}),sc]),A6=I.Union([L_,OLe]),Nd=I.Union([I.Literal("panel"),I.Literal("inline")]),mwt=I.Union([I.Object({type:I.Literal("text"),text:I.String()}),I.Object({type:I.Literal("image_url"),imageUrl:I.Object({url:I.String(),detail:I.Optional(I.Union([I.Literal("low"),I.Literal("high")]))})})]),Rle=I.Union([I.String(),I.Array(mwt)]),ULe=I.Object({request:Rle,response:I.Optional(I.String()),agentSlug:I.Optional(I.String())});function cG(e){return typeof e=="string"?e:e.map(t=>t.type==="image_url"?{type:"image_url",image_url:{url:t.imageUrl.url,detail:t.imageUrl.detail}}:{type:"text",text:t.text})}o(cG,"convertToMessageContent");function y6(e,t){if(typeof e=="string")return e+t;let r=e.map(n=>n.type==="text").lastIndexOf(!0);if(r>=0){let n=[...e],i=n[r];return n[r]={type:"text",text:i.text+t},n}return[...e,{type:"text",text:t}]}o(y6,"appendToMessage");var uG=I.Union([I.Literal("Ask"),I.Literal("Agent")]),hwt=I.Object({type:I.String(),description:I.String()}),qLe=I.Object({name:I.String(),description:I.String(),inputSchema:I.Optional(I.Object({type:I.String(),properties:I.Record(I.String(),hwt),required:I.Array(I.String())}))});d();var GLe=nt(cf());var ng=class{constructor(t,r,n){this.doc=t;this.selection=r;this.visibleRange=n}static{o(this,"ElidableDocument")}fromSelectedCode(t){let r=this.getExpandedSelection(),n=r;if(t.trimNewLines){let s=this.doc.getText(r),a=s.match(/^\n*/)?.[0].length??0,l=s.match(/\n*$/)?.[0].length??0;n={start:this.getLineStart(r.start.line+a),end:this.expandLineToEnd(r.end.line-l)}}let i=new Xt([(0,GLe.default)(this.doc.getText(n)).trim()]);return[this.wrapInTicks(i),n]}fromAllCode(t){let r=this.getDocumentRange(),n=this.getExpandedSelection(),i;!this.visibleRange||!this.rangeContainedIn(this.visibleRange,n)?i=n:i={start:this.getLineStart(this.visibleRange.start.line),end:this.expandLineToEnd(this.visibleRange.end.line)};let s={start:r.start,end:i.start.line>0?this.expandLineToEnd(i.start.line-1):r.start},a={start:i.start,end:n.start.line>0&&n.start.line>i.start.line?this.expandLineToEnd(n.start.line-1):i.start},l={start:n.end.line<this.doc.lineCount-1&&n.end.line<i.end.line?this.getLineStart(n.end.line+1):i.end,end:i.end},c={start:i.end.line<this.doc.lineCount-1?this.getLineStart(i.end.line+1):r.end,end:r.end},u=[[s,.6],[a,.8],[n,1],[l,.4],[c,.2]],f=new Xt(u.filter(([m,h])=>!C6(m)||h===1).map(([m,h])=>{let p;return t.addLineNumbers?p=this.addLineNumbers(m):p=this.doc.getText(m),[h==1?p:Du(p),h]}));return this.wrapInTicks(f)}selectionIsDocument(){return this.rangeEquals(this.getExpandedSelection(),this.getDocumentRange())}selectionIsEmpty(){return this.selection==null||C6(this.selection)}getExpandedSelection(){return this.selection!==void 0?{start:this.getLineStart(this.selection.start.line),end:this.expandLineToEnd(this.selection.end.line)}:this.getDocumentRange()}getDocumentRange(){return{start:this.getLineStart(0),end:this.expandLineToEnd(this.doc.lineCount-1)}}getLineStart(t){return{line:t,character:0}}expandLineToEnd(t){return t>this.doc.lineCount-1&&(t=this.doc.lineCount-1),{line:t,character:this.doc.lineAt({line:t,character:0}).text.length}}rangeContainedIn(t,r){return t.start.line<=r.start.line&&t.end.line>=r.end.line}rangeEquals(t,r){return t.start.line==r.start.line&&t.end.line==r.end.line}wrapInTicks(t,r){return new Xt([["```"+this.doc.languageId,1],[t,r??1],["```",1]])}addLineNumbers(t){let r=this.doc.getText(t).split(`
`),n=this.doc.lineCount.toString().length;return r.map((s,a)=>`${(t.start.line+a+1).toString().padEnd(n," ")}:${s}`).join(`
`)}};function C6(e){return e.start.line==e.end.line&&e.start.character==e.end.character}o(C6,"isEmptyRange");var HLe=nt(require("path"));var VLe=sc,Dle=class{constructor(t){this.turnContext=t}static{o(this,"CurrentEditorSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(qn),n=await r.readFile(t.uri),i=as(n);if(await this.turnContext.collectFile(w0,t.uri,i),n.status==="valid"){let s=this.turnContext.conversation.source==="inline",a=new ng(n.document,t.selection,t.visibleRange),l=await r.getRelativePath(n.document);if(i==="empty")return new Xt([`The currently open file \`${l}\` is empty.`]);let c=[[`Code excerpt from the currently open file \`${l}\`:`,1],[a.fromAllCode({addLineNumbers:s}),1]],u=[];if(a.selectionIsDocument())u=[["The user is selecting the entire file.",1]];else if(s){let[f,m]=a.fromSelectedCode({trimNewLines:!0}),h=m.start.line+1;if(C6(m))u=[[`The user is selecting line ${h}, which is empty.`,1]];else{let p=m.end.line+1;u=[["The user is selecting"+(h==p?` line ${h}:`:` lines ${h} to ${p} (inclusive):`),1],[f,1]]}}else a.selectionIsEmpty()||(u=[["The user is selecting this code:",1],[a.fromSelectedCode({trimNewLines:!1})[0],1]]);return new Xt([...c,...u])}else if(n.status==="invalid")return new Xt([`The currently open file \`${HLe.basename(t.uri)}\` is content excluded.`])}},w0="current-editor",fG=class{constructor(t){this._resolver=t;this.id=w0;this.type="explicit"}static{o(this,"CurrentEditorSkill")}description(){return"The code from the user's currently open file"}resolver(){return this._resolver}processor(t){return new Dle(t)}};d();d();var Wa=class{constructor(){this.skills=[]}static{o(this,"ConversationSkillRegistry")}registerSkill(t){if(this.getSkill(t.id))throw new Error(`Skill with id '${t.id}' already registered`);this.skills.push(t)}getSkill(t){return this.skills.find(r=>r.id===t)}getDescriptors(){return[...this.skills]}},Ple=class{constructor(t,r,n){this.delegate=t;this.stepId=r;this.stepTitle=n}static{o(this,"StepReportingSkillResolver")}async resolveSkill(t){await t.steps.start(this.stepId,this.stepTitle);try{let r=await this.delegate.resolveSkill(t);return r||await t.steps.finish(this.stepId),r}catch(r){throw await t.steps.error(this.stepId,r instanceof Error?r.message:`Error resolving ${this.stepTitle}`),r}}},Fle=class{constructor(t,r){this.delegate=t;this.stepId=r}static{o(this,"StepReportingSkillProcessor")}value(){return this.delegate.value()}async processSkill(t,r){try{let n=await this.delegate.processSkill(t,r);return await r.steps.finish(this.stepId),n}catch(n){throw await r.steps.error(this.stepId,n instanceof Error?n.message:`Error processing ${this.stepId}`),n}}},Sl=class{constructor(t,r,n,i,s,a="explicit",l=[],c=async()=>!0){this.id=t;this._description=r;this.stepTitle=n;this._resolver=i;this._processor=s;this.type=a;this._examples=l;this._isAvailable=c}static{o(this,"SingleStepReportingSkill")}description(){return this._description}examples(){return this._examples}isAvailable(t){return this._isAvailable(t)}resolver(t){return new Ple(this._resolver(t),this.id,this.stepTitle)}processor(t){return new Fle(this._processor(t),this.id)}};var jLe=I.Object({name:I.String(),url:I.String()}),$Le=I.Object({path:I.String(),head:I.Optional(I.Object({name:I.String(),upstream:I.Optional(jLe)})),remotes:I.Optional(I.Array(jLe))}),Nle=class{constructor(t){this.turnContext=t}static{o(this,"GitMetadataSkillProcessor")}value(){return .8}async processSkill(t){this.turnContext.collectLabel(kE,"git repository information");let r=[];return r.push([new Xt(["Metadata about the current git repository:"]),1]),t.head&&t.head.name?(r.push([new Xt([`- Current branch name: ${t.head.name}`]),1]),t.head.upstream&&r.push([new Xt([`- Upstream name and url: ${t.head.upstream.name} - ${t.head.upstream.url}`]),1])):r.push([new Xt(["- Detached HEAD: yes"]),1]),t.remotes&&t.remotes.length>0&&r.push([new Xt([`- Remotes: ${t.remotes.map(n=>n.name).join(", ")}`]),1]),new Xt(r)}},kE="git-metadata",dG=class extends Sl{static{o(this,"GitMetadataSkill")}constructor(t){super(kE,"Metadata about the current git repository, useful for questions about branch management and git related commands","Reading git information",()=>t,r=>new Nle(r))}};async function zLe(e){let t=await e.skillResolver.resolve(w0);if(t){let a=t.uri,l=E5(e.ctx,a);if(pCe(l))return{repoInfo:l,skillUsed:w0}}let r=await e.skillResolver.resolve(kE);if(!r||!r.remotes||r.remotes.length===0){Jr.debug(e.ctx,"Git metadata skill is not available or no remotes available.");return}let i=r.remotes.find(a=>a.name==="origin")??r.remotes[0],s=CJ(i.url);if(s)return{repoInfo:{baseFolder:{uri:r.path},url:i.url,...s},skillUsed:kE}}o(zLe,"extractRepoInfo");async function YLe(e){let t=[];return await pwt(e,t),await gwt(e,t),await Awt(e,t),t}o(YLe,"skillsToReference");async function pwt(e,t){let r=await ywt(e);r&&t.push(r)}o(pwt,"addRepositoryReference");async function gwt(e,t){let r=await Cwt(e);r&&t.push(r)}o(gwt,"addSelectionReference");async function Awt(e,t){let r=[],n=await xwt(e);n&&r.push(n),r.push(...await bwt(e)),r.length>0&&t.push(...r)}o(Awt,"addFileReferences");async function ywt(e){let t=await zLe(e);if(t){let r=e.ctx.get(rg),n=t.repoInfo.owner,i=t.repoInfo.repo;if(await r.isAvailable(n,i))return{type:"github.repository",id:`${n}/${i}`,data:{type:"repository",name:i,ownerLogin:n,id:(await r.getRepositoryInfo(n,i)).id}}}}o(ywt,"gitMetadataToReference");async function Cwt(e){let t=await e.skillResolver.resolve(w0);if(t&&t.selection){let n=await e.ctx.get(qn).readFile(t.uri),i=as(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i,t.selection),n.status==="valid")return await Ewt(t,n.document)}}o(Cwt,"currentEditorToSelectionReference");async function Ewt(e,t){if(e.selection&&!C6(e.selection)){let r=t.getText(e.selection);return{type:"client.selection",id:e.uri,data:{start:{line:e.selection.start.line,col:e.selection.start.character},end:{line:e.selection.end.line,col:e.selection.end.character},content:r}}}}o(Ewt,"extractSelection");async function xwt(e){let t=await e.skillResolver.resolve(w0);if(t){let n=await e.ctx.get(qn).readFile(t.uri),i=as(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i),n.status==="valid")return{type:"client.file",id:n.document.uri,data:{content:n.document.getText(),language:n.document.languageId}}}}o(xwt,"currentEditorToFileReference");async function bwt(e){let t=[],r=e.turn.request.references;if(r&&r.length>0){let n=e.ctx.get(qn);for(let i of r)if(i.type==="file"){let s=await n.readFile(i.uri),a=as(s);if(await e.collectFile(e.turn.agent.agentSlug,i.uri,a,i.selection),s.status==="valid"){let l=s.document.getText();t.push({type:"client.file",id:i.uri,data:{content:l,language:s.document.languageId}})}}}return t}o(bwt,"fileReferenceToPlatformFileReference");d();d();d();d();var nQe=nt(pG()),Ole=nt(require("path"));var iQe=500,Dwt=Math.floor(.25*iQe),gG=class{static{o(this,"FixedSizeChunking")}async chunk(t,r){let n=[],i=Ole.default.extname(__filename)===".ts"?Ole.default.resolve(__dirname,"../../../../../../dist/main.js"):__filename;return n=await nQe.job(async({text:s,uri:a,tokenizerName:l,directory:c,chunkSize:u,overlap:f})=>{let h=require(c).getTokenizer(l),p=h.tokenize(s),A=p.length,E=[],x=0;for(;x<A;){let b=x+u>=A,v=b?A:x+u,S=p.slice(x,v),B=h.detokenize(S),P=s.indexOf(B);E.push({id:`${a.toString()}#${x}`,chunk:B,tokenCount:S.length,range:{start:P,end:P+B.length}}),x=b?v:v-f}return E},{data:{text:t.getText(),uri:t.uri.toString(),tokenizerName:r.tokenizer,directory:i,chunkSize:iQe,overlap:Dwt}}),n}};var Pwt="fixedSize",Fwt=new Map([["fixedSize",gG]]);function oQe(e){let t=e==="default"?Pwt:e,r=Fwt.get(t);if(!r)throw new Error(`Chunking constructor for type ${e} not found`);return r}o(oQe,"getChunkingAlgorithm");d();d();var AG=nt(H2()),hA=nt(require("fs")),sQe=require("os"),Ld=nt(require("path")),E6=require("process");var Ule=5e4,Nwt=new Cr("workspaceChunks"),yG=class e{constructor(t,r){this.ctx=t;this.pathHashLength=8;let n=Ld.basename(r),i=(0,AG.SHA256)(r).toString().substring(0,this.pathHashLength);this.cacheRootPath=Ld.join(Lwt(),"project-context",`${n}.${i}`)}static{o(this,"WorkspaceChunks")}static{this.CACHE_VERSION="1.0.0"}getChunksCacheFile(t){let r=(0,AG.SHA256)(t).toString().substring(0,this.pathHashLength),n=Ld.basename(t);return Ld.join(this.cacheRootPath,`${n}.${r}.json`)}async getChunksCacheFromCacheFile(t){let r=await hA.promises.readFile(t,{encoding:"utf8"}).catch(()=>{});if(r)try{return JSON.parse(r)}catch{}}async getChunksCache(t){let r=this.getChunksCacheFile(t);return await this.getChunksCacheFromCacheFile(r)}async setChunksCache(t,r){let n=this.getChunksCacheFile(t);try{await hA.promises.mkdir(Ld.dirname(n),{recursive:!0}),await hA.promises.writeFile(n,JSON.stringify(r),{encoding:"utf8"})}catch(i){Nwt.debug(this.ctx,"Failed to set chunks cache:",i)}}async removeChunksCache(t){let r=this.getChunksCacheFile(t);await hA.promises.rm(r).catch(()=>{})}async enumerateChunksCacheFileNames(){return await hA.promises.readdir(this.cacheRootPath).catch(()=>[])}async getFilesCount(){return(await this.enumerateChunksCacheFileNames()).length}async getChunksCount(){let t=0;for await(let r of this.getChunks())t++;return t++}async*getChunksForFile({uri:t}){let r=await this.getChunksCache(t);r!==void 0&&(yield*r.documentChunks)}async*getChunksFromCacheFile(t){let r=await this.getChunksCacheFromCacheFile(t);yield*r?r.documentChunks:[]}async*getChunks(t){if(t!==void 0)yield*this.getChunksForFile(t);else{let r=await this.enumerateChunksCacheFileNames();for(let n of r)yield*this.getChunksFromCacheFile(Ld.join(this.cacheRootPath,n))}}async getFileHash(t){let r=ys(t),n="";return r&&(n=await hA.promises.readFile(r,{encoding:"utf8"}).catch(()=>"")),(0,AG.SHA256)(n).toString()}async addChunks({uri:t},r){let n=await this.getFileHash(t),i=await this.getChunksCache(t);if(i!==void 0&&i.hash===n&&i.version===e.CACHE_VERSION)return;let s={version:e.CACHE_VERSION,filePath:t,hash:n,documentChunks:r};await this.setChunksCache(t,s)}async deleteChunksForSource(t){let r=M0(t),n=await this.getChunksCache(r);return n===void 0?[]:(await this.removeChunksCache(r),n.documentChunks)}async deleteChunks({uri:t}){let r=ys(t);if(!r)return[];let n;try{n=await hA.promises.readdir(r)}catch{return await this.deleteChunksForSource(r)}let i=[];for(let s of n){let a=M0(Ld.join(r,s));i.push(...await this.deleteChunks({uri:a}))}return i}async clear(){await hA.promises.rm(this.cacheRootPath,{recursive:!0}).catch(()=>{})}};function Lwt(){return E6.env.XDG_CACHE_HOME&&Ld.isAbsolute(E6.env.XDG_CACHE_HOME)?E6.env.XDG_CACHE_HOME+"/github-copilot":(0,sQe.platform)()==="win32"?E6.env.USERPROFILE+"\\AppData\\Local\\Temp\\github-copilot":E6.env.HOME+"/.cache/github-copilot"}o(Lwt,"getXdgCachePath");var CG=class{constructor(t,r,n){this.workspaceFolder=r;this.implementation=n;this._chunkLimiter=new Wle;this.status="notStarted",this.workspaceChunks=new yG(t,r),this.cancellationToken=new qle,this._chunkingTimeMs=0,this._fileCountExceeded=!1,this._chunkCountExceeded=!1,this._totalFileCount=0,this._filesUpdated=new Set}static{o(this,"ChunkingHandler")}async chunk(t,r){return r?await this.chunkFiles(t,r):await this.chunkWorkspace(t)}async chunkWorkspace(t){let r=performance.now();if(this.status="started",this.cancellationToken.isCancelled())return this.status="cancelled",this.updateChunkingTime(r,performance.now()),this.workspaceChunks.getChunks();await this.updateModelConfig(t);let n=await t.get(rc).getWatchedFiles({uri:this.workspaceFolder}),i=t.get(jt),s=await i.updateExPValuesAndAssignments(),a=i.ideChatProjectContextFileCountThreshold(s);this._totalFileCount=n.length,n.length>a&&(this._fileCountExceeded=!0,n=n.slice(0,a));let l=n.map(async c=>{this.cancellationToken.isCancelled()||await this._chunkLimiter.queue(()=>this._chunk(t,c))});try{await Promise.all(l)}catch(c){Lo(t,c,"ChunkingProvider.chunk"),await this.terminateChunking()}return this.status=this.cancellationToken.isCancelled()?"cancelled":"completed",this.updateChunkingTime(r,performance.now()),await this.workspaceChunks.getChunksCount()>Ule&&(this._chunkCountExceeded=!0),this.workspaceChunks.getChunks()}async chunkFiles(t,r){await this.updateModelConfig(t);let n=r.map(async l=>{this.cancellationToken.isCancelled()||(this._filesUpdated.add(l.uri),await this._chunkLimiter.queue(()=>this._chunk(t,l)))});try{await Promise.all(n)}catch(l){Lo(t,l,"ChunkingProvider.chunkFiles"),await this.terminateChunking()}await this.workspaceChunks.getChunksCount()>Ule&&(this._chunkCountExceeded=!0);let i=t.get(jt),s=await i.updateExPValuesAndAssignments(),a=i.ideChatProjectContextFileCountThreshold(s);return await this.workspaceChunks.getFilesCount()>a&&(this._fileCountExceeded=!0),exe(...r.map(l=>this.workspaceChunks.getChunks(l)))}async _chunk(t,r){if(this.cancellationToken.isCancelled())return;let n=await this.implementation.chunk(r,this.modelConfig);await this.workspaceChunks.addChunks(r,n)}async updateModelConfig(t){this.modelConfig||(this.modelConfig=await t.get(Zn).getBestChatModelConfig(Zo("user")))}async terminateChunking(){this.cancellationToken.cancel()}async clearChunks(){await this.workspaceChunks.clear()}updateChunkingTime(t,r){this._chunkingTimeMs=r-t}get chunkingTimeMs(){return Math.floor(this._chunkingTimeMs)}get fileCountExceeded(){return this._fileCountExceeded}get totalFileCount(){return this._totalFileCount}get chunkCountExceeded(){return this._chunkCountExceeded}get filesUpdatedCount(){return this._filesUpdated.size}async getFilesCount(){return this.workspaceChunks.getFilesCount()}getChunks(){return this.workspaceChunks.getChunks()}async getChunksCount(){return this.workspaceChunks.getChunksCount()}deleteSubfolderChunks(t){return this.workspaceChunks.deleteChunks({uri:t})}deleteFileChunks(t){return this._filesUpdated.add(t),this.workspaceChunks.deleteChunks({uri:t})}},qle=class{constructor(){this.cancelled=!1}static{o(this,"ChunkingCancellationToken")}cancel(){this.cancelled=!0}isCancelled(){return this.cancelled}},Wle=class{constructor(t=20){this.maxCount=t;this.tasks=[];this.runningTasks=0}static{o(this,"Limiter")}async queue(t){return new Promise((r,n)=>{this.tasks.push({factory:t,resolve:r,reject:n}),this.consume()})}consume(){for(;this.tasks.length>0&&this.runningTasks<=this.maxCount;){let{factory:t,resolve:r,reject:n}=this.tasks.shift();this.runningTasks++;let i=t();i.then(r,n),i.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningTasks--,this.consume()}};var Zs=class{constructor(t){this.ctx=t;this.workspaceChunkingProviders=new Map}static{o(this,"ChunkingProvider")}get workspaceCount(){return this.workspaceChunkingProviders.size}createImplementation(t,r){let n=oQe(r),i=new n;return new CG(this.ctx,t,i)}getImplementation(t,r="default"){let n=this.getParentFolder(t);if(n)return this.workspaceChunkingProviders.get(n);let i=this.workspaceChunkingProviders.get(t);return i||(i=this.createImplementation(t,r),this.workspaceChunkingProviders.set(t,i)),i}getParentFolder(t){return[...this.workspaceChunkingProviders.keys()].find(n=>{let i=n.replace(/[#?].*/,"").replace(/\/?$/,"/");return t!==n&&t.startsWith(i)})}status(t){return this.getImplementation(t).status}checkLimits(t){let r=this.getImplementation(t);return{fileCountExceeded:r.fileCountExceeded,chunkCountExceeded:r.chunkCountExceeded}}fileCount(t){return this.getImplementation(t).getFilesCount()}chunkCount(t){return this.getImplementation(t).getChunksCount()}chunkingTimeMs(t){return this.getImplementation(t).chunkingTimeMs}getChunks(t){return this.getImplementation(t).getChunks()}async terminateChunking(t,r){let n=this.getImplementation(r);await n.terminateChunking();let s=nn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:n.filesUpdatedCount});er(t,"index.terminate",s),this.workspaceChunkingProviders.delete(r)}async clearChunks(t,r){await this.terminateChunking(t,r),await this.getImplementation(r).clearChunks()}async deleteSubfolderChunks(t,r){return await this.getImplementation(t).deleteSubfolderChunks(r)}async deleteFileChunks(t,r){let n=this.getImplementation(t),i=[];Array.isArray(r)||(r=[r]);for(let s of r)i.push(...await n.deleteFileChunks(s));return i}async chunk(t,r,n,i){let s;return n&&(Array.isArray(n)?s=n:i=n),i||(i="default"),s?await this.chunkFiles(t,r,s,i):await this.chunkFolder(t,r,i)}async chunkFolder(t,r,n="default"){let i=this.getImplementation(r,n),s=await i.chunk(t),l=nn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:i.totalFileCount,chunkCount:await i.getChunksCount(),timeTakenMs:i.chunkingTimeMs,workspaceCount:this.workspaceCount});return er(t,"index.chunk",l),s}async chunkFiles(t,r,n,i="default"){return await this.getImplementation(r,i).chunk(t,n)}};d();d();d();d();d();function xG(e){switch(e){case"Agent":return"Agent";case"Ask":default:return"Ask"}}o(xG,"toChatModeEnum");var x6=class{constructor(t){this.request=t;this.id=xr();this.timestamp=Date.now();this.status="in-progress";this.skills=[];this.ignoredSkills=[];this.annotations=[]}static{o(this,"Turn")}},EG=class e{constructor(t=[],r="panel",n="en"){this.turns=t;this.source=r;this.userLanguage=n;this._id=xr();this._timestamp=Date.now()}static{o(this,"Conversation")}copy(){let t=JSON.parse(JSON.stringify(this.turns)),r=new e(t,this.source,this.userLanguage);return r._id=this.id,r._timestamp=this.timestamp,r}get id(){return this._id}get timestamp(){return this._timestamp}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){return this.turns[this.turns.length-1]}hasTurn(t){return this.turns.some(r=>r.id===t)}};d();d();d();var aQe={id:0,start_offset:0,stop_offset:0,type:"ip_code_citations",details:{},citations:{snippet:`html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canvas Example</title>
<`,url:"https://github.com/duonghle285/gnoud9x.github.io/tree/c95127bc5b7a491d9223f21ac3b8c5100996e754/26062020-vehinhchunhat%2Findex.html",ip_type:"LICENSE",license:"NOASSERTION"}},lQe="Alright, This response contains a code citation.";d();var cQe=`
# Should render

## Links
Links should render. However, if a user clicks on the link, it should open a confirmation dialog before navigating to the link. 

markdown:

[GitHub Copilot](https://copilot.github.com)

html:

<a href="https://copilot.github.com">GitHub Copilot</a>

## Images
The following images do come from one of these sources and should render:

- \`raw.githubusercontent.com/\`
- \`private-user-images.githubusercontent.com/\`
- \`avatars.githubusercontent.com\`
- \`gist.github.com/assets/\`


markdown:

![logo](https://avatars.githubusercontent.com/u/147005046?v=4)

html:

<img src="https://avatars.githubusercontent.com/u/147005046?v=4" alt="logo"/>

## Headers

markdown:

# Header 1
## Header 2
### Header 3
#### Header 4
##### Header 5
###### Header 6

html:

<h1>Header 1</h1>
<h2>Header 2</h2>
<h3>Header 3</h3>
<h4>Header 4</h4>
<h5>Header 5</h5>
<h6>Header 6</h6>

## Paragraphs

html:

<p>This is a paragraph.</p>

## Bold

markdown:

**bold text**

html:

<strong>bold text</strong>

## Italic

markdown:

_italic text_

html:

<i>italic text</i>

## Codeblock

markdown:

\`\`\`javascript
console.log('Hello, World!');
\`\`\`

html:

<code>console.log('Hello, World!');</code>

## Unordered List

markdown:

- item 1
- item 2
- item 3

html:

<ul>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ul>

## Ordered List

markdown:

1. item 1
2. item 2
3. item 3

html:

<ol>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ol>

## Table

markdown:

| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| cell 1   | cell 2   | cell 3   |
| cell 4   | cell 5   | cell 6   |

html:

<table>
    <thead>
        <tr>
            <th>Header 1</th>
            <th>Header 2</th>
            <th>Header 3</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>cell 1</td>
            <td>cell 2</td>
            <td>cell 3</td>
        </tr>
        <tr>
            <td>cell 4</td>
            <td>cell 5</td>
            <td>cell 6</td>
        </tr>
    </tbody>
</table>

## Blockquote

markdown:

> This is a blockquote.

html:

<blockquote>This is a blockquote.</blockquote>


# Should not render

## html tags
Unsupported tags like \`<div>\` should not render but should be escaped. This code:

\`\`\`html
<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

should be rendered as:

\`\`\`html
<div>
* Foo
<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

code:

<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/></div>

## images
The following images do *not* come from one of the trusted domains and should not render.

markdown:

![productivity](https://github.com/images/modules/site/copilot/productivity-bg-head.png)

html:

<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="100"/>

## Invisible characters

### Inline styles
Styled elements should not be rendered styled. This may trick the user to think elements are actually IDE controls

<p style="color: red;">This is an <span style="display: none;">harmfully</span> styled text!</p>

### html attributes
Only img src/alt and a href attributes should make it to the dom. 

The following paragraph should not render the \`id\` attribute in the dom.

<p id="foo">This is a paragraph with an id</p>
`;d();d();var uQe=nt(require("fs")),ac=nt(require("path"));var Gle=[".test",".spec","_test","Test","_spec","_test","Tests",".Tests","Spec"],Hle="test_",O_={js:{suffix:[".test",".spec"],location:"sameFolder"},ts:{suffix:[".test",".spec"],location:"sameFolder"},go:{suffix:["_test"],location:"sameFolder"},java:{suffix:["Test"],location:"testFolder"},php:{suffix:["Test"],location:"testFolder"},dart:{suffix:["_test"],location:"testFolder"},cs:{suffix:["Test"],location:"testFolder"},rb:{suffix:["_test","_spec"],location:"testFolder"},py:{prefix:"test_",location:"testFolder"},ps1:{suffix:[".Tests"],location:"testFolder"},kt:{suffix:["Test"],location:"testFolder"}},U_=class{constructor(t,r,n=void 0){this.ctx=t;this.fileExists=r;this.baseUri=n}static{o(this,"TestFileFinder")}async findTestFileForSourceFile(t){let r=Fs(t),n=ac.extname(r).replace(".",""),i=O_[n]??{location:"sameFolder",prefix:Hle,suffix:Gle},s=[];if(i.prefix&&s.push(i.prefix+r),i.suffix)for(let u of i.suffix??[]){let f=r.replace(`.${n}`,u+"."+n);s.push(f)}let a=i.location??"sameFolder",l;if(a==="sameFolder"){if(l=ys(Tu(t)),l===void 0)return}else{let u=ys(t);if(u===void 0)return;l=this.determineTestFolder(u,a)}for(let u of s){let f=ac.join(l,u),m=this.parseTestFilePath(f);if(m&&await this.fileExists(m))return m}let c=M0(l);if(await this.fileExists(c))return Xo(c,s[0])}parseTestFilePath(t){try{return M0(t)}catch(r){ni.error(this.ctx,`Failed to parse test file path: ${t}`,r);return}}async findImplFileForTestFile(t){let r=Fs(t),n=ac.extname(r).replace(".",""),i=O_[n]??{location:"sameFolder",prefix:Hle,suffix:Gle},s=[];if(i.prefix&&s.push(r.substring(i.prefix.length)),i.suffix)for(let c of i.suffix??[]){let f=r.substring(0,r.length-c.length-1-n.length)+"."+n;s.push(f)}let a=i.location??"sameFolder",l;a==="sameFolder"?l=Tu(t):l=this.determineImplFolder(t);for(let c of s){let u=Xo(l,c);if(await this.fileExists(u))return u}}findExampleTestFile(t){let r=ys(t);if(r===void 0)return;let n=ac.extname(Fs(t)).replace(".",""),i,s=O_[n]?.location??"sameFolder";s==="sameFolder"?i=ac.dirname(r):i=this.determineTestFolder(r,s);let a=this.findFiles(i,`.${n}`,O_[n]);if(a.length>0)return M0(a[0])}findFiles(t,r,n){let i=this._readdir(t),s=[];for(let a of i){let l=`${t}${ac.sep}${a}`;n?.prefix&&a.startsWith(n.prefix)&&s.push(l),n?.suffix&&n?.suffix.some(c=>a.endsWith(c+r))&&s.push(l)}return s}_readdir(t){return uQe.readdirSync(t,{withFileTypes:!0}).filter(r=>r.isFile()).map(r=>r.name)}determineTestFolder(t,r){let n=(this.baseUri&&ys(this.baseUri))??"",i=ac.extname(t).replace(".",""),s=this.getRelativeTestFolder(t,n,i,r);return[n,...s].filter(a=>a).join(ac.sep)}getRelativeTestFolder(t,r,n,i){let s=ac.dirname(t).replace(r,"");switch(n){case"php":case"dart":case"py":return["tests"];case"ps1":return["Tests"];case"rb":return["test",s];case"cs":return[s.replace("src","src/tests")];case"java":case"scala":case"kt":return[s.replace(/src[\\/]main/,"src/test")];default:return i==="testFolder"?[s.replace("src","test")]:[s]}}determineImplFolder(t){let r=ac.extname(Fs(t)).replace(".",""),n=Tu(t);switch(r){case"php":case"dart":case"py":return n.replace("tests","src");case"ps1":return n.replace("Tests","src");case"rb":return n.replace("/test","");case"cs":return n.replace("src/tests","src");case"java":case"scala":case"kt":return n.replace("src/test","src/main");default:return n.replace("test/","src/")}}};async function q_(e){let t=Fs(e),r=ac.extname(t),n=O_[r.replace(".","")];return n?!(n.suffix&&!n.suffix.some(s=>t.endsWith(s+r))||n.prefix&&!t.startsWith(n.prefix)):!!(Gle.some(s=>t.endsWith(s+r))||t.startsWith(Hle))}o(q_,"isTestFile");d();var fQe=["indexed","indexing","not_indexed"],Ky=class{constructor(){this._cache=new Bn(100)}static{o(this,"BlackbirdIndexingStatus")}async queryIndexingStatus(t,r,n){let i=t.ctx,s=i.get(Rn).getBlackbirdIndexingStatusUrl();if(!n)return!1;let a=new URL(s);a.searchParams.set("nwo",r);let l={Authorization:`token ${n}`},c=await i.get(Fr).fetch(a.href,{method:"GET",headers:l});if(!c.ok)return!1;let u=await c.json();return u.docs_status==="indexed"||u.code_status==="indexed"}isValid(t){return t!==void 0&&Date.now()-t.timestamp<30*60*1e3}async isRepoIndexed(t,r,n,i=!1){let s=p1(r);if(!s)return!1;let a=this._cache.get(s);if(!i&&this.isValid(a))return a.status;let l=await this.queryIndexingStatus(t,s,n);return this._cache.set(s,{status:l,timestamp:Date.now()}),l}get cache(){return this._cache}};d();d();d();async function dQe(e,t,r,n){let i=vo(t.tokenizer),s=r.filter(m=>i.tokenLength(m.text)<t.maxTokens);if(s.length===0)return;let a=[],l=await e.get(qr).getToken(),c=Iv(e,l,"embeddings"),u=l.token,f=0;for(;f<s.length&&!n.isCancellationRequested;){let m=s.slice(f,f+t.maxBatchSize),h=await Qwt(e,c,u,t.modelId,m,n);a.push(...h||[]),f+=t.maxBatchSize}return a.length?a:void 0}o(dQe,"fetchEmbeddings");async function Qwt(e,t,r,n,i,s){let a=xr(),l=i.map(u=>u.text),c=await yb(e,t,r,void 0,a,{input:l,model:n,dimensions:1024},s,vv(e));if(c.status!==200||s.isCancellationRequested){Lo(e,new pA(`Failed to request dense embeddings, status: ${c.status}`),"LocalSnippetProvider.fetchEmbeddings");return}try{return(await c.json()).data.map(f=>({id:i[f.index].id,embedding:f.embedding}))}catch{return}}o(Qwt,"sendEmbeddingsRequest");d();d();var bG=class{static{o(this,"CosineSimilarityScoring")}score(t,r){let n=Math.sqrt(t.reduce((a,l)=>a+l*l,0)),i=Math.sqrt(r.reduce((a,l)=>a+l*l,0));return t.reduce((a,l,c)=>a+l*r[c],0)/(n*i)}terminateScoring(){}};var Mwt="cosine",Owt=new Map([["cosine",bG]]);function mQe(e){let t=e==="default"?Mwt:e,r=Owt.get(t);if(!r)throw new Error(`Scoring constructor for type ${e} not found`);return r}o(mQe,"getScoringAlgorithm");d();var uf=class{constructor(){this.workspaceScoringProviders=new Bn(25)}static{o(this,"ScoringProvider")}createImplementation(t,r){let n=mQe(r);return new n}getImplementation(t,r,n="default"){let i=this.workspaceScoringProviders.get(r);return i||(i=this.createImplementation(t,n),this.workspaceScoringProviders.set(r,i)),i}score(t,r,n,i,s){return this.getImplementation(t,r,s).score(n,i)}terminateScoring(t,r,n){this.getImplementation(t,r,n).terminateScoring(),this.workspaceScoringProviders.delete(r)}};var hQe={modelFamily:sF.textEmbedding3Small,scoringType:"default",dimensions:null};async function pQe(e,t,r,n,i,s,a,l=hQe){let c={...hQe,...l},u=qwt(e,t,r,n);Jr.debug(e,`EmbeddingsReranker: Reranking ${u.length} snippets (includes the user query)`);let f=await e.get(Zn).getFirstMatchingEmbeddingModelConfiguration(c.modelFamily);if(f===void 0)throw new Error(`EmbeddingsReranker: Model configuration not found for ${c.modelFamily}`);let m=performance.now(),h=await dQe(e,f,u,s),p=performance.now();if(a.embeddingsTimeMs=Math.floor(p-m),h===void 0||h.length===0)return[];let A=h.findIndex(P=>P.id==="userQuery");if(A===void 0)return[];let E=h.splice(A,1)[0];if(s.isCancellationRequested)return[];let x=performance.now(),b=Wwt(e,t,h,E,c.scoringType),v=performance.now();a.rerankingTimeMs=Math.floor(v-x);let S=b.slice(0,i);return Jr.debug(e,`EmbeddingsReranker: Returning ${S.length} snippets`),S.map(P=>u.find(F=>F.id===P.id).id)}o(pQe,"rerankSnippets");function qwt(e,t,r,n){let i=n.map(s=>({id:s.id,text:s.chunk.toLowerCase()}));return i.push({id:"userQuery",text:r.toLowerCase()}),i}o(qwt,"formatEmbeddingsInput");function Wwt(e,t,r,n,i){let s=e.get(uf);return r.map(l=>({id:l.id,score:s.score(e,t,n.embedding,l.embedding,i)})).sort((l,c)=>c.score-l.score)}o(Wwt,"scoreEmbeddings");d();d();d();var jle=nt(pG());var Gwt=.75,Hwt=1.2,Vwt=47,vG=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.chunksCount=0;this.sumTokenCount=0;this.status="notStarted"}static{o(this,"BM25Ranking")}get avgTokenCount(){return this.sumTokenCount/this.chunksCount}async initialize(t){this.sumTokenCount=0,this.chunksCount=0;for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++;this.status="completed"}async addChunks(t){for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++}async query(t){let r=await W_();try{return await this.doQuery(t)}finally{await r.stopWorkerPool()}}async doQuery(t){let r=t.map(l=>l.toLowerCase()),n=await this.calculateIDFValues(r),i=Math.min(10*t.length,Vwt),s=Math.min(i,this.chunksCount);return await this.calculateBM25Scores(r,this.avgTokenCount,n,s)}async calculateIDFValues(t){let r=this.ctx.get(Zs).getChunks(this.workspaceFolder),n=N5(r,async s=>({...s,chunk:s.chunk.toLowerCase()})),i=N5(n,async s=>s.chunk);return await jwt(t,i)}async calculateBM25Scores(t,r,n,i){let s=this.ctx.get(Zs).getChunks(this.workspaceFolder),a=new Vle(i);for await(let l of s){let c=await $wt({...l,chunk:l.chunk.toLowerCase()},t,r,n);a.add({...c,chunk:l.chunk})}return a.toArray(.75)}async deleteEmbeddings(t){this.chunksCount-=t.length,this.sumTokenCount-=t.reduce((r,n)=>r+n.tokenCount,0)}async terminateRanking(){}};async function jwt(e,t){let r=new SharedArrayBuffer(e.length*Int32Array.BYTES_PER_ELEMENT),n=new Int32Array(r),i=[],s=0;for await(let c of t){s++;let u=jle.job(({snippet:f,keywords:m})=>m.map(p=>f.includes(p)?1:0),{data:{snippet:c,keywords:e}}).then(f=>{for(let m=0;m<e.length;m++)Atomics.add(n,m,f[m])});i.push(u)}await Promise.all(i);let a=new Int32Array(r),l={};for(let c=0;c<e.length;c++)l[e[c]]=Math.log((s-a[c]+.5)/(a[c]+.5)+1);return l}o(jwt,"calculateIDFValues");async function $wt(e,t,r,n){return{score:await jle.job(({keywords:s,document:a,docLength:l,avgTokenCount:c,idfValues:u,k1:f,b:m})=>{let h=0;for(let p of s){let A=u[p],E=(a.match(new RegExp(p,"g"))||[]).length,x=A*(E*(f+1)),b=E+f*(1-m+m*l/c);h+=x/b}return h},{data:{document:e.chunk,docLength:e.tokenCount,keywords:t,avgTokenCount:r,idfValues:n,k1:Hwt,b:Gwt}}),...e}}o($wt,"calculateBM25Score");var Vle=class{constructor(t,r=-1/0){this.maxSize=t;this.minScore=r;this.store=[]}static{o(this,"SimpleHeap")}toArray(t){if(this.store.length&&typeof t=="number"){let r=this.store.at(0).score*(1-t);return this.store.filter(n=>n.score>=r)}return this.store}add(t){if(t.score<=this.minScore)return;let r=this.store.findIndex(n=>n.score<t.score);for(this.store.splice(r>=0?r:this.store.length,0,t);this.store.length>this.maxSize;)this.store.pop();this.store.length===this.maxSize&&(this.minScore=this.store.at(-1)?.score??this.minScore)}};var Ywt="bm25",Kwt=new Map([["bm25",vG]]);function gQe(e){let t=e==="default"?Ywt:e,r=Kwt.get(t);if(!r)throw new Error(`Ranking constructor for type ${e} not found`);return r}o(gQe,"getRankingAlgorithm");var Zl=class{constructor(){this.workspaceRankingProviders=new Bn(25)}static{o(this,"RankingProvider")}createImplementation(t,r,n){let i=gQe(n);return new i(t,r)}getImplementation(t,r,n="default"){let i=this.workspaceRankingProviders.get(r);return i||(i=this.createImplementation(t,r,n),this.workspaceRankingProviders.set(r,i)),i}status(t,r,n){return this.getImplementation(t,r,n).status}async initialize(t,r,n,i="default"){await this.getImplementation(t,r,i).initialize(n)}async addChunks(t,r,n,i="default"){await this.getImplementation(t,r,i).addChunks(n)}async query(t,r,n,i){return this.getImplementation(t,r,i).query(n)}async terminateRanking(t,r,n){await this.getImplementation(t,r,n).terminateRanking(),this.workspaceRankingProviders.delete(r)}deleteEmbeddings(t,r,n,i){return this.getImplementation(t,r,i).deleteEmbeddings(n)}};d();async function AQe(e,t){let r=e.ctx,n=await r.get(Zn).getBestChatModelConfig(Zo("synonyms"),{tool_calls:!0}),i={promptType:"synonyms",modelConfiguration:n},s=await r.get(e0).toPrompt(e,i);if(!s.toolConfig)return;let a={modelConfiguration:n,uiKind:"conversationPanel",messages:s.messages,tools:s.toolConfig?.tools,tool_choice:s.toolConfig?.tool_choice,llmInteraction:e.toLlmInteraction()},l=new Ms(r),c=await Xa(r,e.turn.id,e.conversation.id),u=await l.fetchResponse(a,t,c.extendedBy({messageSource:"chat.synonyms"}));if(u.type==="success"&&u.toolCalls&&u.toolCalls.length>0){let f=u.toolCalls[0],m=s.toolConfig?.extractArguments(f).keywords;return!m||!Array.isArray(m)?void 0:(Jr.debug(r,`UserQueryParser: Parsed ${m.length} keywords from the original user query: ${m.join(", ")}`),m.length?m:void 0)}else{let f="reason"in u?u.reason:"";Lo(r,new pA(`Failed to request user query synonyms, result type: ${u.type}, reason: ${f}`),"LocalSnippetProvider.parseUserQuery")}}o(AQe,"parseUserQuery");var yQe=nt(cf());var pA=class extends Error{static{o(this,"LocalSnippetProviderError")}constructor(t){super(String(t),{cause:t}),this.name="LocalSnippetProviderError"}},IG=class{constructor(){this.providerType="local"}static{o(this,"LocalSnippetProvider")}snippetProviderStatus(t,r){if(!t.turn.workspaceFolder)return Promise.resolve("not_indexed");r===void 0&&(r=!0);let n=t.ctx,i=n.get(Zs),s=i.status(t.turn.workspaceFolder),a=n.get(Zl),l=a.status(n,t.turn.workspaceFolder);if(s==="completed"&&l==="completed")return Promise.resolve("indexed");if(s==="started"||l==="started")return Promise.resolve("indexing");if(r){let c=t.turn.workspaceFolder;if(s==="notStarted")return Promise.race([i.chunk(n,c).then(u=>{if(i.status(c)==="completed")return a.initialize(n,c,u)}).then(()=>this.snippetProviderStatus(t,!1)),new Promise(u=>setTimeout(()=>u("not_indexed"),1e3))]);if(l==="notStarted"){let u=i.getChunks(c);return Promise.race([a.initialize(n,c,u).then(()=>this.snippetProviderStatus(t,!1)),new Promise(f=>setTimeout(()=>f("not_indexed"),1e3))])}}return Promise.resolve("not_indexed")}async collectLocalSnippets(t,r){let n=t.turn.workspaceFolder;if(!n)return[];let i=t.ctx,a=await i.get(Zs).chunkCount(n);if(a===0)return[];r.chunkCount=a;let l,c=performance.now();try{l=await AQe(t,t.cancelationToken)}catch(A){let E=new pA(A);Lo(i,E,"LocalSnippetProvider.parseUserQuery")}let u=performance.now();if(r.synonymTimeMs=Math.floor(u-c),l===void 0)return[];let f=i.get(Zl),m=[],h=performance.now();try{let A=await f.query(i,n,l);r.localSnippetCount=A.length,m=A}catch(A){let E=new pA(A);Lo(i,E,"LocalSnippetProvider.rankingQuery")}let p=performance.now();return r.rankingTimeMs=Math.floor(p-h),m}async rerankLocalSnippets(t,r,n){let i=t.turn.workspaceFolder;if(!i)return[];let s=t.ctx,a=tn(t.turn.request.message),l=[];try{l=await pQe(s,i,a,r,5,t.cancelationToken,n)}catch(f){let m=new pA(f);Lo(s,m,"LocalSnippetProvider.rerankSnippets")}let c=[],u=s.get(qn);for(let f of l){let m=f.split("#")[0],h=await u.readFile(m),p=r.find(A=>A.id===f);if(h.status==="valid"){let A=h.document.positionAt(p.range.start),E=h.document.positionAt(p.range.end),x=so.range(A,E);c.push({uri:h.document.uri,range:x,snippet:p.chunk})}}return c}async provideSnippets(t){let r=this.collectInfoMessage(t);r&&await t.info(r);let n={...bPe},i=await this.collectLocalSnippets(t,n);if(i.length===0)return{snippets:[],measurements:n};let s=t.ctx;return Jr.debug(s,`LocalSnippetProvider: First pass: Found ${i.length} snippets.`),{snippets:await this.rerankLocalSnippets(t,i,n),measurements:n}}collectInfoMessage(t){let r=t.turn.workspaceFolder;if(!r)return;let s=t.ctx.get(Zs).checkLimits(r);if(s.fileCountExceeded||s.chunkCountExceeded)return yQe.default`
Copilot has partially indexed this project as it exceeds the file limit. As a result, responses may have incomplete context. Consider excluding large, less relevant files or folders (e.g., large CSV files) to improve accuracy.
`}};var EQe=nt(CQe()),SG=nt(pG()),xQe=nt(require("os")),bQe=nt(cf());var Zwt=Math.max(xQe.cpus().length-1,1),G_=class e{constructor(){this.isActive=!0}static{o(this,"WorkerPoolToken")}static{this.workerPoolStarted=!1}static{this.activeProcessCount=0}static{this.allTokens=[]}static{this.lock=new EQe.default}static async startWorkerPool(){await e.lock.acquireAsync();try{e.workerPoolStarted||(e.workerPoolStarted=!0,await SG.start({maxWorkers:Zwt})),e.activeProcessCount++;let t=new e;return e.allTokens.push(t),t}finally{e.lock.release()}}async stopWorkerPool(){if(this.isActive){await e.lock.acquireAsync();try{this.isActive&&(this.isActive=!1,e.activeProcessCount--,e.activeProcessCount==0&&(await SG.stop(),e.workerPoolStarted=!1),e.allTokens.includes(this)&&e.allTokens.splice(e.allTokens.indexOf(this),1))}finally{e.lock.release()}}}static async forceStopWorkerPool(){let t=e.allTokens[Symbol.iterator]();for(let r of t)await r.stopWorkerPool();e.workerPoolStarted=!1,e.activeProcessCount=0}},W_=G_.startWorkerPool.bind(G_);var Vgn=I.Object({uri:I.String(),snippet:I.String(),range:I.Object({start:I.Object({line:I.Number(),character:I.Number()}),end:I.Object({line:I.Number(),character:I.Number()})})}),Yle=class{constructor(t){this.turnContext=t}static{o(this,"ProjectContextSkillProcessor")}value(){return 1}async processSkill(t){if(this.turnContext.cancelationToken.isCancellationRequested){await this.turnContext.steps.cancel(b6);return}let r=[],n=this.turnContext.ctx.get(qn),i=this.removeDuplicateSnippets(t);for(let s of i){let{uri:a,snippet:l,range:c}=s,u=await n.readFile(a);if(u.status==="valid"){let f=new ng(u.document,c,c),m=new Xt([l]),p=await q_(a)?.5:.8;r.push([`Code excerpt from file \`${ys(a)}\`:`,1],[f.wrapInTicks(m,p),1]),await this.turnContext.collectFile(v6,a,as(u),c)}}if(r.length>0)return r.unshift([new Xt(["The user wants you to consider the following snippets when computing your answer."]),1]),new Xt(r)}removeDuplicateSnippets(t){let r={};return t.forEach(n=>{let i=`${n.uri}#[${n.range.start.line},${n.range.start.character}]-[${n.range.end.line},${n.range.end.character}]`;r[i]||(r[i]=n)}),Object.values(r)}},b6="collect-project-context",TG=class extends d6{constructor(r,n=[new IG]){super();this.ctx=r;this.snippetProviders=n;this.ready=!1;this.ctx.get(Xp).addListener(this)}static{o(this,"ProjectContextSkillResolver")}async onWorkspaceAdded(r){if(!await this.isEnabled()||(this.workerPoolToken=await W_(),!r.uri))return;let n=this.ctx.get(Zs),i=this.ctx.get(rc),s=this.ctx.get(Zl),a=await n.chunk(this.ctx,r.uri);n.status(r.uri)!=="completed"&&i.terminateWatching(r),await s.initialize(this.ctx,r.uri,a),i.onFileChange(r,async({documents:l,type:c})=>{let u=await W_();try{let f=l.map(m=>m.uri);if(c==="delete"||c==="update"){let m=await n.deleteFileChunks(r.uri,f);await s.deleteEmbeddings(this.ctx,r.uri,m)}if(c==="create"||c==="update"){let m=await n.chunk(this.ctx,r.uri,l);await s.addChunks(this.ctx,r.uri,m)}}finally{await u.stopWorkerPool()}}),await this.workerPoolToken.stopWorkerPool()}async onWorkspaceRemoved(r){if(!await this.isEnabled())return;let n=this.ctx.get(Zs),i=r.uri;if(!i)return;let s=n.getParentFolder(i);if(s){let c=await n.deleteSubfolderChunks(s,i);await this.ctx.get(Zl).deleteEmbeddings(this.ctx,s,c);return}await n.terminateChunking(this.ctx,i),await this.ctx.get(Zl).terminateRanking(this.ctx,i),this.ctx.get(uf).terminateScoring(this.ctx,i),n.workspaceCount===0&&await G_.forceStopWorkerPool()}async onWorkspaceSubfoldersTerminated(r,n){let i=this.ctx.get(Zs),s=this.ctx.get(Zl),a=this.ctx.get(uf);for(let l of n)await i.terminateChunking(this.ctx,l),await s.terminateRanking(this.ctx,l),a.terminateScoring(this.ctx,r.uri)}async onFileChange(r){if(!await this.isEnabled())return;let n=await W_();try{let i=r.documents.map(c=>c.uri),s=r.workspaceFolder.uri;if(!s)return;let a=this.ctx.get(Zs),l=this.ctx.get(Zl);if(r.type==="delete"||r.type==="update"){let c=await a.deleteFileChunks(s,i);await l.deleteEmbeddings(this.ctx,s,c)}if(r.type==="create"||r.type==="update"){let c=await a.chunk(this.ctx,s,r.documents);await l.addChunks(this.ctx,s,c)}}finally{await n.stopWorkerPool()}}async isEnabled(){try{await this.ctx.get(qr).getToken()}catch{return!1}let r=this.ctx.get(jt),n=await r.updateExPValuesAndAssignments();return r.ideChatEnableProjectContext(n)}async resolveSkill(r){await r.steps.start(b6,"Collecting relevant project context"),await r.info(bQe.default`Project context is applied to this response, which may lead to slightly longer load times. For faster and more general Copilot responses, remove the project context option from your prompt.`);let n=this.snippetProviders.map(async l=>l.snippetProviderStatus(r)),i=await Promise.all(n),s="not_indexed",a;for(let l of fQe){let c=i.findIndex(u=>u===l);if(c!==-1){s=l,a=this.snippetProviders[c];break}}switch(s){case"indexed":{let{snippets:l,measurements:c}=await a.provideSnippets(r);if(await vPe(r,a.providerType,c),l.length===0){await r.steps.error(b6,"No project context found");return}return await r.steps.finish(b6),l}case"indexing":{await r.steps.error(b6,"Indexing repository, please try again later");return}case"not_indexed":{await r.steps.error(b6,"No project context available");return}}}},v6="project-context",wG=class extends Sl{static{o(this,"ProjectContextSkill")}constructor(t){super(v6,"Code snippets and documentation from the open project. This skill is useful when the user question is specific to the open project and its context. Do not include this skill for general programming questions.","Performing code search",()=>t,r=>new Yle(r),"implicit",["Relevant: How do I add a custom server route?","Relevant: Where is the code that processes the response from CopyableThreadElement?","Relevant: Where do I add tests for the InputValidation class?","Relevant: How to implement a shared buffer component","Not relevant: What does numpy do?"],async r=>{let n=r.get(jt),i=await n.updateExPValuesAndAssignments();return n.ideChatEnableProjectContext(i)})}};d();var vQe=I.Object({labels:I.Array(I.String())}),Kle=class{constructor(t){this.turnContext=t}static{o(this,"ProjectLabelsSkillProcessor")}value(){return 1}async processSkill(t){let r=[];return r.push([new Xt(["The developer is working on a project with the following characteristics (languages, frameworks):"]),1]),t.labels.forEach(n=>{r.push([new Xt([`- ${n}`]),.9]),this.turnContext.collectLabel(ch,n)}),new Xt(r)}},ch="project-labels",_G=class{constructor(t){this._resolver=t;this.id=ch;this.type="explicit"}static{o(this,"ProjectLabelsSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new Kle(t)}};d();var kG=nt(cf());var TQe={id:0,start_offset:0,stop_offset:0,type:"code_vulnerability",details:{type:"server-side-unvalidated-url-redirection",description:"Allows a URL to be redirected to a different URL that is specified by an external user.",ui_type:"test",ui_description:"test"}},wQe=kG.dedent`
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna 
    aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
`,SQe=kG.dedent`
    \`\`\`kotlin
    fun main() {
        println("Hello, World!")
    }
    \`\`\`
`,eSt=kG.dedent`
    ### Inputs
    
    \`p\` - paragraph message
    
    \`c\` - code block
    
    \`<number>\` - number of vulnerabilities, must be at the end of the string (applies to all code blocks)
    
    ### Examples
    
    \`/debug.vulnerability\` - 1 paragraph followed by 1 code block with 1 vulnerability
    
    \`/debug.vulnerability pcc2\` - 1 paragraph followed by 2 code blocks with 2 vulnerabilities each
    
    \`/debug.vulnerability cpc3\` - 1 code block followed by 1 paragraph followed by 1 code block--each code block has 3 vulnerabilities
`,Jle=`

`,IQe=wQe+Jle+SQe;function _Qe(e){let t=1;if(e.length===0)return{reply:IQe,vulnerabilities:t};if(e==="0")return{reply:IQe,vulnerabilities:0};if(e==="help")return{reply:eSt,vulnerabilities:t};let r=e.slice(-1);isNaN(Number(r))||(t=Number(r),e=e.slice(0,-1));let n="";for(let i of e)i==="p"?n+=wQe+Jle:i==="c"&&(n+=SQe+Jle);return{reply:n.trimEnd(),vulnerabilities:t}}o(_Qe,"parseVulnerabilitiesInstructions");var kQe=nt(cf());var tSt="Oops, your response got filtered. Vote down if you think this shouldn't have happened",rSt="You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",Xle=class{constructor(){this.id="debug.fail";this.description="Fail for debugging purposes";this.shortDescription="Fail";this.scopes=["chat-panel"]}static{o(this,"DebugFailPromptTemplate")}response(t,r){throw new Error(r.length>0?r:"Debug Fail")}},nSt=new Xle,Zle=class{constructor(){this.id="debug.upgrade";this.description="upgrade for debugging purposes";this.shortDescription="upgrade";this.scopes=["chat-panel"]}static{o(this,"DebugUpgradePromptTemplate")}async response(t,r){return new _l(rSt,{message:"",code:402,responseIsIncomplete:!0,responseIsFiltered:!1})}},iSt=new Zle,e0e=class{constructor(){this.id="debug.notify";this.description="Notify for debugging purposes";this.shortDescription="Notify";this.scopes=["chat-panel","inline"]}static{o(this,"DebugNotificationPromptTemplate")}async response(t,r){let n="warning";r.includes("info")&&(n="info");let i=r.replace("info","").replace("warning","").trim(),s=[{severity:n,message:i.length>0?i:"Debug Notification"}];return new _l("Alright, I'm producing a notification",void 0,[],s)}},oSt=new e0e,t0e=class{constructor(){this.id="debug.filter";this.description="Make the RAI filter kick in";this.shortDescription="RAI Filter";this.scopes=["chat-panel"]}static{o(this,"DebugFilterPromptTemplate")}async response(t,r){return t.turn.status="filtered",new _l(tSt,{message:"",responseIsFiltered:!0,responseIsIncomplete:!1})}},sSt=new t0e,r0e=class{constructor(){this.id="debug.dump";this.description="Dump the conversation";this.shortDescription="Dump";this.scopes=["chat-panel"]}static{o(this,"DebugDumpPromptTemplate")}async response(t){return new _l(await RQe(t))}},aSt=new r0e,n0e=class{constructor(){this.id="debug.tree";this.description="Jingle bells, jingle bells, jingle all the way";this.shortDescription="Christmas Tree";this.scopes=["chat-panel"]}static{o(this,"DebugChristmasTreePromptTemplate")}async requiredSkills(t){return[ch,w0]}instructions(t,r){return"Create a function that prints a christmas tree"}},lSt=new n0e,i0e=class{constructor(){this.id="debug.echo";this.description="Echo the user message back to the user";this.shortDescription="Echo";this.scopes=["chat-panel"]}static{o(this,"DebugEchoPromptTemplate")}async response(t){return new _l(tn(t.turn.request.message))}},cSt=new i0e,o0e=class{constructor(){this.id="debug.prompt";this.description="Show the prompt for the last response or generate a new one";this.shortDescription="Prompt";this.scopes=["chat-panel"]}static{o(this,"DebugPromptPromptTemplate")}async response(t,r){let n=t.ctx.get(kl).getLastTurnPrompts();if(n!==void 0&&n.size>0){let i="Here are the prompts used in the last turn:";return n.forEach((s,a)=>{i+=kQe.default`

                        ### ${a} prompt
                        
                        \`\`\`\`
                        ${s}
                        \`\`\`\`
                    `}),new _l(i)}return new _l("No prompt available")}},uSt=new o0e,s0e=class{constructor(){this.id="debug.skills";this.description="Resolves and displays all available skills or a single skill (id) if provided";this.shortDescription="Skills";this.scopes=["chat-panel"]}static{o(this,"DebugSkillsPromptTemplate")}async response(t,r,n){let i,s;if(r.length>0){let a=r.split(" ");i=a[0],s=a.slice(1).join(" ")}return t.turn.request.message=s??"",new _l(await DQe(t,n,i))}},fSt=new s0e,a0e=class{constructor(){this.id="debug.vulnerability";this.description="Create a message with a vulnerability annotation";this.shortDescription="Vulnerability";this.scopes=["chat-panel"]}static{o(this,"DebugVulnerabilityPromptTemplate")}async response(t,r){let{reply:n,vulnerabilities:i}=_Qe(r);for(let s=0;s<i;s++)t.turn.annotations.push(TQe);return new _l(n,void 0,t.turn.annotations)}},dSt=new a0e,l0e=class{constructor(){this.id="debug.citation";this.description="Create a message with a code citation annotation";this.shortDescription="CodeCitation";this.scopes=["chat-panel"]}static{o(this,"DebugCodeCitationPromptTemplate")}async response(t,r){return t.turn.annotations.push(aQe),new _l(lQe,void 0,t.turn.annotations)}},mSt=new l0e,c0e=class{constructor(){this.id="debug.markdown";this.description="Markdown rendering specification by example";this.shortDescription="Markdown";this.scopes=["chat-panel","inline"]}static{o(this,"DebugMarkdownRenderingPromptTemplate")}async response(t,r){return new _l(cQe)}},hSt=new c0e,u0e=class{constructor(){this.id="debug.long";this.description="Generate a long response";this.shortDescription="Long";this.scopes=["chat-panel"]}static{o(this,"DebugLongPromptTemplate")}instructions(t,r){return"Write out the OWASP top 10 with code examples in java"}},pSt=new u0e,f0e=class{constructor(){this.id="debug.project";this.description="Generate a response using the project context skill";this.shortDescription="Project";this.scopes=["chat-panel","inline"]}static{o(this,"DebugProjectContextPromptTemplate")}async requiredSkills(t){return[v6]}},gSt=new f0e,d0e=class{constructor(){this.id="debug.confirmation";this.description="Generate a response with a confirmation";this.shortDescription="Confirmation";this.scopes=["chat-panel","inline"]}static{o(this,"DebugConfirmationPromptTemplate")}async response(){let t={type:"action",title:"Confirmation that you want to proceed",message:"Do you want to proceed?",agentSlug:"debug.confirmation",confirmation:{answer:"yes"}};return new _l("Alright, I'm producing a notification",void 0,[],[],[],t)}},ASt=new d0e;function BQe(){return[nSt,iSt,oSt,sSt,lSt,aSt,cSt,uSt,fSt,dSt,mSt,ASt,hSt,pSt,gSt]}o(BQe,"getDebugTemplates");d();d();function Xy(e,t){if(e.length==0)return new Xt([]);let r=e.map((n,i)=>{let s;switch(t){case"linear":s=1-i/e.length;break;case"inverseLinear":s=(i+1)/e.length;break;case"positional":s=1/(i+1);break;case"inversePositional":s=1/(e.length-i);break}return Array.isArray(n)&&n.length==2&&(s*=n[1],n=n[0]),[n,s]});return new Xt(r)}o(Xy,"weighElidableList");var PQe=I.Object({uri:I.String(),problems:I.Array(I.Object({message:I.String(),range:bm}))}),m0e=class{constructor(t){this.turnContext=t}static{o(this,"ProblemsInActiveDocumentSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(qn),n=await r.readFile(t.uri);if(await this.turnContext.collectFile(Zy,t.uri,as(n)),n.status==="valid"){let i=await r.getRelativePath(n.document);this.turnContext.collectLabel(Zy,`problems in ${i}`);let s=this.getElidableProblems(t,n,i);return await this.preElideDocuments(s)}else this.turnContext.collectLabel(Zy,"problem markers")}getElidableProblems(t,r,n){let i=[];return i.push(new Xt([`Problems and errors in the active document (\`${n}\`):`])),i.push(...this.createElidableProblems(t,r)),Xy(i,"linear")}createElidableProblems(t,r){return t.problems.map(n=>{let i=[];i.push(new Xt([`- "${n.message}" at line ${n.range.start.line}.`+(r.document?" Excerpt from the code:":"")]));let s=n.range,a;if(s&&(this.isEmpty(s)?a=r.document.lineAt(s.start).text:a=r.document.getText(s),a)){let l=r.document.languageId;i.push(new Xt([["```"+l,1],[Du(a),.8],["```",1]]))}return new Xt(i)})}isEmpty(t){return t.start.line===t.end.line&&t.start.character===t.end.character}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(Zn).getBestChatModelConfig(Zo("user"))).maxRequestTokens,n=t.elide(Math.floor(r*.1)).getText();return new Xt([n])}},Zy="problems-in-active-document",BG=class extends Sl{static{o(this,"ProblemsInActiveDocumentSkill")}constructor(t){super(Zy,"List of problems and errors in the active document, useful when the user question is about finding and fixing errors, non-functioning code, compilation issues, etc.","Analyzing problems and errors",()=>t,r=>new m0e(r),"explicit",["How can I fix the errors?","Why is my app not working?","Why am I getting compilation errors?","Raw error messages or stack traces"])}};d();d();var RG=class{constructor(t){this.turnContext=t}static{o(this,"PromptForTestGeneration")}async fromImplementationFile(t){let r=await this.turnContext.ctx.get(Or).getWorkspaceFolder(t),n=this.fileExistFn(),i=new U_(this.turnContext.ctx,n,r?.uri),s=await i.findTestFileForSourceFile(t.uri),a=await q_(t.uri);if(s&&!a){let l=t.languageId;if(await n(s))return await this.asTestFilePrompt(l,s);{let c=i.findExampleTestFile(t.uri);if(c)return await this.asExampleFilePrompt(l,c)}}}async fromTestFile(t){if(!await q_(t))return;let n=await this.turnContext.ctx.get(Or).getWorkspaceFolder(t),i=this.fileExistFn(),a=await new U_(this.turnContext.ctx,i,n?.uri).findImplFileForTestFile(t.uri);if(a){let l=t.languageId;if(await i(a))return await this.asImplFilePrompt(l,a)}}async asImplFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new Xt([[`${ySt} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Xt([])}async asTestFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new Xt([[`${CSt} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Xt([])}async asExampleFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new Xt([[`${ESt} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Xt([])}async fileInfoForPrompt(t){if(!this.turnContext.isFileIncluded(t.toString())){let r=this.turnContext.ctx.get(qn),n=await r.readFile(t.toString());if(await this.turnContext.collectFile(uh,t.toString(),as(n)),n.status==="valid"){let i=await r.getRelativePath(n.document);return[Du(n.document.getText()),i]}}}fileExistFn(){return async t=>{try{return await this.turnContext.ctx.get(Qo).stat(t),!0}catch{return!1}}}},ySt="Code excerpt from the implementation source file",CSt="Code excerpt from the test file",ESt="Code excerpt from an example test file";var FQe=I.Object({currentFileUri:I.String(),sourceFileUri:I.Optional(I.String()),testFileUri:I.Optional(I.String())}),p0e=class{constructor(t){this.turnContext=t}static{o(this,"TestContextSkillProcessor")}value(){return .9}async processSkill(t){let r=this.turnContext.ctx.get(qn),n=new RG(this.turnContext);if(t.sourceFileUri&&t.testFileUri){if(t.sourceFileUri!==t.currentFileUri&&t.testFileUri!==t.currentFileUri)return;if(t.testFileUri===t.currentFileUri){let i=await r.readFile(t.testFileUri);if(await this.turnContext.collectFile(uh,t.testFileUri,as(i)),i.status==="valid")return await n.asImplFilePrompt(i.document.languageId,t.sourceFileUri)}else if(t.sourceFileUri===t.currentFileUri){let i=await r.readFile(t.sourceFileUri);if(await this.turnContext.collectFile(uh,t.sourceFileUri,as(i)),i.status==="valid")return await n.asTestFilePrompt(i.document.languageId,t.testFileUri)}}else if(t.sourceFileUri&&t.sourceFileUri===t.currentFileUri){let i=await r.readFile(t.sourceFileUri);if(await this.turnContext.collectFile(uh,t.sourceFileUri,as(i)),i.status==="valid")return await n.fromImplementationFile(i.document)}else if(t.testFileUri&&t.testFileUri===t.currentFileUri){let i=await r.readFile(t.testFileUri);if(await this.turnContext.collectFile(uh,t.testFileUri,as(i)),i.status==="valid")return await n.fromTestFile(i.document)}}},uh="test-context",DG=class extends Sl{static{o(this,"TestContextSkill")}constructor(t){super(uh,"Example tests useful for creating, adding and fixing tests, to detect available test frameworks as well as finding the corresponding implementation to existing tests","Searching test examples",()=>t,r=>new p0e(r))}};d();var NQe=nt(cf());var LQe=I.Object({failures:I.Array(I.Object({testName:I.String(),testSuite:I.Optional(I.String()),testFileUri:I.String(),failureReason:I.Optional(I.String()),testLocation:bm}))}),g0e=class{constructor(t){this.turnContext=t}static{o(this,"TestFailuresSkillProcessor")}value(){return .9}async processSkill(t){if(t.failures.length>0){this.turnContext.collectLabel(DE,"test failures");let r=await this.createElidableFailures(t.failures);if(r){let n=new Xt(["The latest test run produced the following failures and errors:"]);return new Xt([[n,1],[r,1]])}}}async createElidableFailures(t){let r=this.turnContext.ctx.get(qn),n=[],i=this.groupFailuresByFile(t);for(let[s,a]of i.entries()){let l=await r.readFile(s);if(await this.turnContext.collectFile(DE,s,as(l)),l.status==="valid"){let c=await r.getRelativePath(l.document),u=this.createElidableFailuresOfDoc(a,c),f=this.appendCode(u,c,l.document);n.push([f,1])}}if(n.length>0)return new Xt(n)}groupFailuresByFile(t){let r=new Map;for(let n of t){let i=r.get(n.testFileUri)||[];i.push(n),r.set(n.testFileUri,i)}return r}createElidableFailuresOfDoc(t,r){let n=t.map(i=>{let s=`\`${i.testName}\``,a=`${i.testSuite?` in suite \`${i.testSuite}\``:""}`,l=` in file \`${r}\` `,c=". ";i.failureReason&&(c=" with the following error:",i.failureReason.includes(`
`)?c+="\n```\n"+i.failureReason+"\n```\n":c+=` \`${i.failureReason}\`. `);let u=`${i.testLocation.start.line==i.testLocation.end.line?"on line "+i.testLocation.start.line:"between lines "+i.testLocation.start.line+" and "+i.testLocation.end.line}`;return[new Xt([NQe.default`\n\n- Test ${s}${a}${l}failed${c}The failed test is ${u}.\n`]),1]});return new Xt(n)}appendCode(t,r,n){let i=[new Xt([`
The code of file \`${r}\` is:
`]),.6],s=[new Xt([["```"+n.languageId,1],[Du(n.getText()),.9],["```",1]]),.7];return new Xt([[t,1],i,s])}},DE="test-failures",PG=class extends Sl{static{o(this,"TestFailuresSkill")}constructor(t){super(DE,"Test failures and errors of the latest test run","Collecting test failures",()=>t,r=>new g0e(r))}};var Qd=nt(cf());var _l=class{constructor(t,r,n=[],i=[],s=[],a){this.message=t;this.error=r;this.annotations=n;this.notifications=i;this.references=s;this.confirmationRequest=a}static{o(this,"PromptTemplateResponse")}},PE=class{constructor(t,r,n,i,s=[],a=[],l,c=!1){this.id=t;this.description=r;this.shortDescription=n;this.prompt=i;this.skills=s;this.scopes=a;this.inlinePrompt=l;this.producesCodeEdits=c}static{o(this,"StaticPromptTemplate")}instructions(t,r,n="panel"){let i;return n==="inline"?i=this.inlinePrompt??this.prompt:i=this.prompt,i+`
`+r}async requiredSkills(t){return this.skills}},xSt=new PE("tests","Generate unit tests","Generate Tests",Qd.default`
        Write a set of unit tests for the code above, or for the selected code if provided.
        Provide tests for the functionality of the code and not the implementation details.
        The tests should test the happy path as well as the edge cases.
        Choose self explanatory names for the tests that describe the tested behavior. Do not start the test names with "test".
        Think about the different scenarios that could happen and test them.
        Do reply with the tests only and do not explain them further.
        Do reply with new or modified tests only and not with the complete test class or suite.
        Follow the same test style as in existing tests if they exist.
        You must not create inline comments like "Arrange, Act, Assert", unless existing tests use inline comments as well.
        If existing tests use any mocking or stubbing libraries, use the same libraries before writing your own test doubles.
        `,[uh,DE],["chat-panel","editor"]),bSt=new PE("simplify","Simplify the code","Simplify This",Qd.default`
        Provide a simplified version of the selected code above.
        Do not change the behavior of the code. 
        The code should still be readable and easy to understand. 
        Do not reply with the original code but only a simplified version. 
        Do only reply with one code snippet that contains the complete simplified code and explain what you have simplified after.`,[],["editor","chat-panel","inline"],Qd.default`
        Provide a simplified version of the selected code.
        Modify the selected code to make it simpler and easier to understand.
        Do not change the behavior of the code. 
        Removing empty lines is not a simplification.
        You must not omit any code that is necessary for the code to compile and run, for example by replacing lines with ... or similar.
        Do not reply with the original code but only a simplified version.`,!0),vSt=new PE("fix","Fix problems and compile errors","Fix This",Qd.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed. 
        Group problems if they are related and can be fixed by the same change. 
        Present a group as a single problem with a simple description that does not repeat the single problems but explains the whole group of problems in a few words.
        Explain each group of problems without repeating the detailed error message. 
        Show how the error can be fixed by providing a code snippet that displays the code before and after it has been fixed after each group. 
        Shorten fully qualified class names to the simple class name and full file paths to the file names only.
        When enumerating the groups, start with the word "Problem" followed by the number and a quick summary of the problem. Format this headline bold.
        At last provide a completely fixed version of the code if the fixes required multiple code changes.`,[Zy],["editor","chat-panel","inline"],Qd.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed.
        Do not attempt to fix problems that are not provided, like unbalanced brackets or parentheses that are not causing errors.
        Briefly explain the problems without repeating the detailed error message.`,!0),ISt=new PE("explain","Explain how the code works","Explain This",Qd.default`
        Write an explanation for the selected code above as paragraphs of text. 
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        The explanation should be easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,[],["editor","chat-panel","inline"],Qd.default`
        Write an explanation for the code the user is selecting.
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        Keep the explanation brief and easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,!1),TSt=new PE("doc","Document the current selection of code","Generate Docs",Qd.default`
        Write documentation for the selected code.
        The reply should be a codeblock containing the original selection with the documentation added as comments.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.)`,[],["editor","chat-panel","inline"],Qd.default`
        Add documentation to the selected code.
        Modify the selected code by adding documentation as comments.
        You must only modify the selected code and nothing else.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.).
        Place the comments before functions and methods, unless the language has a different convention (for example Python's docstring).`,!0),A0e=class{constructor(){this.id="feedback";this.description="Steps to provide feedback";this.shortDescription="Feedback";this.scopes=["chat-panel"]}static{o(this,"FeedbackPromptTemplate")}async response(t){let r=E0e(t.conversation),n=Qd.default`
            You can provide direct feedback by pressing the thumbs up/down buttons on a single message. 
            In case you want to share more details, please click [here](https://gh.io/copilot-chat-jb-feedback) to share your feedback.
            `;return r?new _l(n+`

In order to help us understand your feedback better, you can include the following identifier in your feedback: by doing so, you are granting us permission to access the telemetry data associated with your feedback.
\`\`\`yaml
${t.conversation.id}/${r}
\`\`\``):new _l(n)}},wSt=new A0e,y0e=class{constructor(){this.id="help";this.description="Get help on how to use Copilot chat";this.shortDescription="Help";this.scopes=["chat-panel"]}static{o(this,"HelpPromptTemplate")}async response(t){let r=C0e(t.ctx).filter(i=>i!=this),n=Qd.default`
            You can ask me general programming questions, or use one of the following commands to get help with a specific task:

            ${r.map(i=>`- \`/${i.id}\` - ${i.description}`).join(`
`)}

            To have a great conversation, ask me questions as if I was a real programmer:
            
            - **Show me the code** you want to talk about by having the files open and selecting the most important lines.
            - On top of files, **I take different parts of your IDE into consideration** when answering questions. This includes, but is not limited to, test results and failures, build and runtime logs, active Git repository as well as details of the open project.
            - **Make refinements** by asking me follow-up questions, adding clarifications, providing errors, etc.
            - **Review my suggested code** and tell me about issues or improvements, so I can iterate on it.
        `;return new _l(n)}},SSt=new y0e;function H_(){return[xSt,bSt,vSt,ISt,TSt,wSt,SSt,...BQe()]}o(H_,"getPromptTemplates");function C0e(e){let t=H_();return!R3(e)&&!vm(e)&&(t=t.filter(r=>!r.id.startsWith("debug."))),t}o(C0e,"getUserFacingPromptTemplates");var x0e=class{constructor(t,r){this.conversation=t;this.capabilities=r}static{o(this,"ConversationHolder")}},Hi=class{constructor(t){this.ctx=t;this.conversations=new Bn(100)}static{o(this,"Conversations")}async create(t,r="panel",n){let i=new EG([],r,n);return this.conversations.set(i.id,new x0e(i,t)),i}destroy(t){this.conversations.delete(t)}async addTurn(t,r,n,i,s,a){let l=this.get(t);return r.request.references=n&&n.length>0?n:[],i&&(r.workspaceFolder=i),s&&s.length>0&&(r.ignoredSkills=s.map(c=>({skillId:c}))),a&&(r.agent={agentSlug:a.agentSlug},r.confirmationResponse=a),await this.determineAndApplyAgent(l,r),await this.determineAndApplyTemplate(l,r),l.addTurn(r),r}async determineAndApplyAgent(t,r){if(t.source==="panel"&&tn(r.request.message).trim().startsWith("@")){let[n,i]=this.extractKeywordAndQuestionFromRequest(tn(r.request.message),"@");(await og(this.ctx)).find(l=>l.slug===n)&&(r.request.message=i,r.request.type="user",r.agent={agentSlug:n})}}async determineAndApplyTemplate(t,r){if(tn(r.request.message).trim().startsWith("/")){let[n,i]=this.extractKeywordAndQuestionFromRequest(tn(r.request.message),"/"),s=H_().find(a=>a.id===n);if(s){r.request.message=i,r.request.type="user",await this.determineAndApplyAgent(t,r);let a=s.instructions?s.instructions(this.ctx,r.request.message,t.source):i;r.template={templateId:n,userQuestion:r.request.message},r.request.message=a,r.request.type="template"}}}extractKeywordAndQuestionFromRequest(t,r){let[n,...i]=t.trim().split(" "),s=i.join(" ");return[n.replace(r,""),s]}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getHolder(t).conversation}getCapabilities(t){return this.getHolder(t).capabilities}getSupportedSkills(t){let r=this.ctx.get(Wa).getDescriptors().filter(i=>i.type==="implicit").map(i=>i.id),n=this.getCapabilities(t).skills;return[...r,...n]}filterSupportedSkills(t,r){let n=this.getSupportedSkills(t);return r.filter(i=>n.includes(i))}getHolder(t){let r=this.conversations.get(t);if(!r)throw new Error(`Conversation with id ${t} does not exist`);return r}getAll(){let t=this.conversations.values();return Array.from(t).map(r=>r.conversation)}findByTurnId(t){return this.getAll().find(r=>r.hasTurn(t))}};d();function XQe(e){return typeof e>"u"||e===null}o(XQe,"isNothing");function _St(e){return typeof e=="object"&&e!==null}o(_St,"isObject");function kSt(e){return Array.isArray(e)?e:XQe(e)?[]:[e]}o(kSt,"toArray");function BSt(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}o(BSt,"extend");function RSt(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}o(RSt,"repeat");function DSt(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}o(DSt,"isNegativeZero");var PSt=XQe,FSt=_St,NSt=kSt,LSt=RSt,QSt=DSt,MSt=BSt,el={isNothing:PSt,isObject:FSt,toArray:NSt,repeat:LSt,isNegativeZero:QSt,extend:MSt};function ZQe(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}o(ZQe,"formatError");function j_(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=ZQe(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}o(j_,"YAMLException$1");j_.prototype=Object.create(Error.prototype);j_.prototype.constructor=j_;j_.prototype.toString=o(function(t){return this.name+": "+ZQe(this,t)},"toString");var tu=j_;function b0e(e,t,r,n,i){var s="",a="",l=Math.floor(i/2)-1;return n-t>l&&(s=" ... ",t=n-l+s.length),r-n>l&&(a=" ...",r=n+l-a.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+a,pos:n-t+s.length}}o(b0e,"getLine");function v0e(e,t){return el.repeat(" ",t-e.length)+e}o(v0e,"padStart");function OSt(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var l="",c,u,f=Math.min(e.line+t.linesAfter,i.length).toString().length,m=t.maxLength-(t.indent+f+3);for(c=1;c<=t.linesBefore&&!(a-c<0);c++)u=b0e(e.buffer,n[a-c],i[a-c],e.position-(n[a]-n[a-c]),m),l=el.repeat(" ",t.indent)+v0e((e.line-c+1).toString(),f)+" | "+u.str+`
`+l;for(u=b0e(e.buffer,n[a],i[a],e.position,m),l+=el.repeat(" ",t.indent)+v0e((e.line+1).toString(),f)+" | "+u.str+`
`,l+=el.repeat("-",t.indent+f+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(a+c>=i.length);c++)u=b0e(e.buffer,n[a+c],i[a+c],e.position-(n[a]-n[a+c]),m),l+=el.repeat(" ",t.indent)+v0e((e.line+c+1).toString(),f)+" | "+u.str+`
`;return l.replace(/\n$/,"")}o(OSt,"makeSnippet");var USt=OSt,qSt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],WSt=["scalar","sequence","mapping"];function GSt(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}o(GSt,"compileStyleAliases");function HSt(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(qSt.indexOf(r)===-1)throw new tu('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=GSt(t.styleAliases||null),WSt.indexOf(this.kind)===-1)throw new tu('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}o(HSt,"Type$1");var S0=HSt;function QQe(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}o(QQe,"compileList");function VSt(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(o(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}o(VSt,"compileMap");function T0e(e){return this.extend(e)}o(T0e,"Schema$1");T0e.prototype.extend=o(function(t){var r=[],n=[];if(t instanceof S0)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new tu("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof S0))throw new tu("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new tu("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new tu("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof S0))throw new tu("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(T0e.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=QQe(i,"implicit"),i.compiledExplicit=QQe(i,"explicit"),i.compiledTypeMap=VSt(i.compiledImplicit,i.compiledExplicit),i},"extend");var jSt=T0e,$St=new S0("tag:yaml.org,2002:str",{kind:"scalar",construct:o(function(e){return e!==null?e:""},"construct")}),zSt=new S0("tag:yaml.org,2002:seq",{kind:"sequence",construct:o(function(e){return e!==null?e:[]},"construct")}),YSt=new S0("tag:yaml.org,2002:map",{kind:"mapping",construct:o(function(e){return e!==null?e:{}},"construct")}),KSt=new jSt({explicit:[$St,zSt,YSt]});function JSt(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}o(JSt,"resolveYamlNull");function XSt(){return null}o(XSt,"constructYamlNull");function ZSt(e){return e===null}o(ZSt,"isNull");var e_t=new S0("tag:yaml.org,2002:null",{kind:"scalar",resolve:JSt,construct:XSt,predicate:ZSt,represent:{canonical:o(function(){return"~"},"canonical"),lowercase:o(function(){return"null"},"lowercase"),uppercase:o(function(){return"NULL"},"uppercase"),camelcase:o(function(){return"Null"},"camelcase"),empty:o(function(){return""},"empty")},defaultStyle:"lowercase"});function t_t(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}o(t_t,"resolveYamlBoolean");function r_t(e){return e==="true"||e==="True"||e==="TRUE"}o(r_t,"constructYamlBoolean");function n_t(e){return Object.prototype.toString.call(e)==="[object Boolean]"}o(n_t,"isBoolean");var i_t=new S0("tag:yaml.org,2002:bool",{kind:"scalar",resolve:t_t,construct:r_t,predicate:n_t,represent:{lowercase:o(function(e){return e?"true":"false"},"lowercase"),uppercase:o(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:o(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function o_t(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}o(o_t,"isHexCode");function s_t(e){return 48<=e&&e<=55}o(s_t,"isOctCode");function a_t(e){return 48<=e&&e<=57}o(a_t,"isDecCode");function l_t(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!o_t(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!s_t(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!a_t(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}o(l_t,"resolveYamlInteger");function c_t(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}o(c_t,"constructYamlInteger");function u_t(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!el.isNegativeZero(e)}o(u_t,"isInteger");var f_t=new S0("tag:yaml.org,2002:int",{kind:"scalar",resolve:l_t,construct:c_t,predicate:u_t,represent:{binary:o(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:o(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:o(function(e){return e.toString(10)},"decimal"),hexadecimal:o(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),d_t=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function m_t(e){return!(e===null||!d_t.test(e)||e[e.length-1]==="_")}o(m_t,"resolveYamlFloat");function h_t(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}o(h_t,"constructYamlFloat");var p_t=/^[-+]?[0-9]+e/;function g_t(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(el.isNegativeZero(e))return"-0.0";return r=e.toString(10),p_t.test(r)?r.replace("e",".e"):r}o(g_t,"representYamlFloat");function A_t(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||el.isNegativeZero(e))}o(A_t,"isFloat");var y_t=new S0("tag:yaml.org,2002:float",{kind:"scalar",resolve:m_t,construct:h_t,predicate:A_t,represent:g_t,defaultStyle:"lowercase"}),C_t=KSt.extend({implicit:[e_t,i_t,f_t,y_t]}),E_t=C_t,eMe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),tMe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function x_t(e){return e===null?!1:eMe.exec(e)!==null||tMe.exec(e)!==null}o(x_t,"resolveYamlTimestamp");function b_t(e){var t,r,n,i,s,a,l,c=0,u=null,f,m,h;if(t=eMe.exec(e),t===null&&(t=tMe.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],a=+t[5],l=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(f=+t[10],m=+(t[11]||0),u=(f*60+m)*6e4,t[9]==="-"&&(u=-u)),h=new Date(Date.UTC(r,n,i,s,a,l,c)),u&&h.setTime(h.getTime()-u),h}o(b_t,"constructYamlTimestamp");function v_t(e){return e.toISOString()}o(v_t,"representYamlTimestamp");var I_t=new S0("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:x_t,construct:b_t,instanceOf:Date,represent:v_t});function T_t(e){return e==="<<"||e===null}o(T_t,"resolveYamlMerge");var w_t=new S0("tag:yaml.org,2002:merge",{kind:"scalar",resolve:T_t}),B0e=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function S_t(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=B0e;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}o(S_t,"resolveYamlBinary");function __t(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=B0e,a=0,l=[];for(t=0;t<i;t++)t%4===0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)),a=a<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)):r===18?(l.push(a>>10&255),l.push(a>>2&255)):r===12&&l.push(a>>4&255),new Uint8Array(l)}o(__t,"constructYamlBinary");function k_t(e){var t="",r=0,n,i,s=e.length,a=B0e;for(n=0;n<s;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}o(k_t,"representYamlBinary");function B_t(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}o(B_t,"isBinary");var R_t=new S0("tag:yaml.org,2002:binary",{kind:"scalar",resolve:S_t,construct:__t,predicate:B_t,represent:k_t}),D_t=Object.prototype.hasOwnProperty,P_t=Object.prototype.toString;function F_t(e){if(e===null)return!0;var t=[],r,n,i,s,a,l=e;for(r=0,n=l.length;r<n;r+=1){if(i=l[r],a=!1,P_t.call(i)!=="[object Object]")return!1;for(s in i)if(D_t.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}o(F_t,"resolveYamlOmap");function N_t(e){return e!==null?e:[]}o(N_t,"constructYamlOmap");var L_t=new S0("tag:yaml.org,2002:omap",{kind:"sequence",resolve:F_t,construct:N_t}),Q_t=Object.prototype.toString;function M_t(e){if(e===null)return!0;var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],Q_t.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}o(M_t,"resolveYamlPairs");function O_t(e){if(e===null)return[];var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}o(O_t,"constructYamlPairs");var U_t=new S0("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:M_t,construct:O_t}),q_t=Object.prototype.hasOwnProperty;function W_t(e){if(e===null)return!0;var t,r=e;for(t in r)if(q_t.call(r,t)&&r[t]!==null)return!1;return!0}o(W_t,"resolveYamlSet");function G_t(e){return e!==null?e:{}}o(G_t,"constructYamlSet");var H_t=new S0("tag:yaml.org,2002:set",{kind:"mapping",resolve:W_t,construct:G_t}),rMe=E_t.extend({implicit:[I_t,w_t],explicit:[R_t,L_t,U_t,H_t]}),tC=Object.prototype.hasOwnProperty,FG=1,nMe=2,iMe=3,NG=4,I0e=1,V_t=2,MQe=3,j_t=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,$_t=/[\x85\u2028\u2029]/,z_t=/[,\[\]\{\}]/,oMe=/^(?:!|!!|![a-z\-]+!)$/i,sMe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function OQe(e){return Object.prototype.toString.call(e)}o(OQe,"_class");function sg(e){return e===10||e===13}o(sg,"is_EOL");function NE(e){return e===9||e===32}o(NE,"is_WHITE_SPACE");function ru(e){return e===9||e===32||e===10||e===13}o(ru,"is_WS_OR_EOL");function T6(e){return e===44||e===91||e===93||e===123||e===125}o(T6,"is_FLOW_INDICATOR");function Y_t(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}o(Y_t,"fromHexCode");function K_t(e){return e===120?2:e===117?4:e===85?8:0}o(K_t,"escapedHexLen");function J_t(e){return 48<=e&&e<=57?e-48:-1}o(J_t,"fromDecimalCode");function UQe(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}o(UQe,"simpleEscapeSequence");function X_t(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}o(X_t,"charFromCodepoint");var aMe=new Array(256),lMe=new Array(256);for(FE=0;FE<256;FE++)aMe[FE]=UQe(FE)?1:0,lMe[FE]=UQe(FE);var FE;function Z_t(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||rMe,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}o(Z_t,"State$1");function cMe(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=USt(r),new tu(t,r)}o(cMe,"generateError");function Kr(e,t){throw cMe(e,t)}o(Kr,"throwError");function LG(e,t){e.onWarning&&e.onWarning.call(null,cMe(e,t))}o(LG,"throwWarning");var qQe={YAML:o(function(t,r,n){var i,s,a;t.version!==null&&Kr(t,"duplication of %YAML directive"),n.length!==1&&Kr(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Kr(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&Kr(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&LG(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:o(function(t,r,n){var i,s;n.length!==2&&Kr(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],oMe.test(i)||Kr(t,"ill-formed tag handle (first argument) of the TAG directive"),tC.call(t.tagMap,i)&&Kr(t,'there is a previously declared suffix for "'+i+'" tag handle'),sMe.test(s)||Kr(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Kr(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s},"handleTagDirective")};function eC(e,t,r,n){var i,s,a,l;if(t<r){if(l=e.input.slice(t,r),n)for(i=0,s=l.length;i<s;i+=1)a=l.charCodeAt(i),a===9||32<=a&&a<=1114111||Kr(e,"expected valid JSON character");else j_t.test(l)&&Kr(e,"the stream contains non-printable characters");e.result+=l}}o(eC,"captureSegment");function WQe(e,t,r,n){var i,s,a,l;for(el.isObject(r)||Kr(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,l=i.length;a<l;a+=1)s=i[a],tC.call(t,s)||(t[s]=r[s],n[s]=!0)}o(WQe,"mergeMappings");function w6(e,t,r,n,i,s,a,l,c){var u,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,f=i.length;u<f;u+=1)Array.isArray(i[u])&&Kr(e,"nested arrays are not supported inside keys"),typeof i=="object"&&OQe(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&OQe(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,f=s.length;u<f;u+=1)WQe(e,t,s[u],r);else WQe(e,t,s,r);else!e.json&&!tC.call(r,i)&&tC.call(t,i)&&(e.line=a||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,Kr(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}o(w6,"storeMappingPair");function R0e(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Kr(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}o(R0e,"readLineBreak");function Ga(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;NE(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(sg(i))for(R0e(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&LG(e,"deficient indentation"),n}o(Ga,"skipSeparationSpace");function OG(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||ru(r)))}o(OG,"testDocumentSeparator");function D0e(e,t){t===1?e.result+=" ":t>1&&(e.result+=el.repeat(`
`,t-1))}o(D0e,"writeFoldedLines");function ekt(e,t,r){var n,i,s,a,l,c,u,f,m=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),ru(p)||T6(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),ru(i)||r&&T6(i)))return!1;for(e.kind="scalar",e.result="",s=a=e.position,l=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),ru(i)||r&&T6(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),ru(n))break}else{if(e.position===e.lineStart&&OG(e)||r&&T6(p))break;if(sg(p))if(c=e.line,u=e.lineStart,f=e.lineIndent,Ga(e,!1,-1),e.lineIndent>=t){l=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=c,e.lineStart=u,e.lineIndent=f;break}}l&&(eC(e,s,a,!1),D0e(e,e.line-c),s=a=e.position,l=!1),NE(p)||(a=e.position+1),p=e.input.charCodeAt(++e.position)}return eC(e,s,a,!1),e.result?!0:(e.kind=m,e.result=h,!1)}o(ekt,"readPlainScalar");function tkt(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(eC(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else sg(r)?(eC(e,n,i,!0),D0e(e,Ga(e,!1,t)),n=i=e.position):e.position===e.lineStart&&OG(e)?Kr(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Kr(e,"unexpected end of the stream within a single quoted scalar")}o(tkt,"readSingleQuotedScalar");function rkt(e,t){var r,n,i,s,a,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return eC(e,r,e.position,!0),e.position++,!0;if(l===92){if(eC(e,r,e.position,!0),l=e.input.charCodeAt(++e.position),sg(l))Ga(e,!1,t);else if(l<256&&aMe[l])e.result+=lMe[l],e.position++;else if((a=K_t(l))>0){for(i=a,s=0;i>0;i--)l=e.input.charCodeAt(++e.position),(a=Y_t(l))>=0?s=(s<<4)+a:Kr(e,"expected hexadecimal character");e.result+=X_t(s),e.position++}else Kr(e,"unknown escape sequence");r=n=e.position}else sg(l)?(eC(e,r,n,!0),D0e(e,Ga(e,!1,t)),r=n=e.position):e.position===e.lineStart&&OG(e)?Kr(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Kr(e,"unexpected end of the stream within a double quoted scalar")}o(rkt,"readDoubleQuotedScalar");function nkt(e,t){var r=!0,n,i,s,a=e.tag,l,c=e.anchor,u,f,m,h,p,A=Object.create(null),E,x,b,v;if(v=e.input.charCodeAt(e.position),v===91)f=93,p=!1,l=[];else if(v===123)f=125,p=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),v=e.input.charCodeAt(++e.position);v!==0;){if(Ga(e,!0,t),v=e.input.charCodeAt(e.position),v===f)return e.position++,e.tag=a,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=l,!0;r?v===44&&Kr(e,"expected the node content, but found ','"):Kr(e,"missed comma between flow collection entries"),x=E=b=null,m=h=!1,v===63&&(u=e.input.charCodeAt(e.position+1),ru(u)&&(m=h=!0,e.position++,Ga(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,S6(e,t,FG,!1,!0),x=e.tag,E=e.result,Ga(e,!0,t),v=e.input.charCodeAt(e.position),(h||e.line===n)&&v===58&&(m=!0,v=e.input.charCodeAt(++e.position),Ga(e,!0,t),S6(e,t,FG,!1,!0),b=e.result),p?w6(e,l,A,x,E,b,n,i,s):m?l.push(w6(e,null,A,x,E,b,n,i,s)):l.push(E),Ga(e,!0,t),v=e.input.charCodeAt(e.position),v===44?(r=!0,v=e.input.charCodeAt(++e.position)):r=!1}Kr(e,"unexpected end of the stream within a flow collection")}o(nkt,"readFlowCollection");function ikt(e,t){var r,n,i=I0e,s=!1,a=!1,l=t,c=0,u=!1,f,m;if(m=e.input.charCodeAt(e.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)I0e===i?i=m===43?MQe:V_t:Kr(e,"repeat of a chomping mode identifier");else if((f=J_t(m))>=0)f===0?Kr(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?Kr(e,"repeat of an indentation width identifier"):(l=t+f-1,a=!0);else break;if(NE(m)){do m=e.input.charCodeAt(++e.position);while(NE(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!sg(m)&&m!==0)}for(;m!==0;){for(R0e(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!a||e.lineIndent<l)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>l&&(l=e.lineIndent),sg(m)){c++;continue}if(e.lineIndent<l){i===MQe?e.result+=el.repeat(`
`,s?1+c:c):i===I0e&&s&&(e.result+=`
`);break}for(n?NE(m)?(u=!0,e.result+=el.repeat(`
`,s?1+c:c)):u?(u=!1,e.result+=el.repeat(`
`,c+1)):c===0?s&&(e.result+=" "):e.result+=el.repeat(`
`,c):e.result+=el.repeat(`
`,s?1+c:c),s=!0,a=!0,c=0,r=e.position;!sg(m)&&m!==0;)m=e.input.charCodeAt(++e.position);eC(e,r,e.position,!1)}return!0}o(ikt,"readBlockScalar");function GQe(e,t){var r,n=e.tag,i=e.anchor,s=[],a,l=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Kr(e,"tab characters must not be used in indentation")),!(c!==45||(a=e.input.charCodeAt(e.position+1),!ru(a))));){if(l=!0,e.position++,Ga(e,!0,-1)&&e.lineIndent<=t){s.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,S6(e,t,iMe,!1,!0),s.push(e.result),Ga(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)Kr(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}o(GQe,"readBlockSequence");function okt(e,t,r){var n,i,s,a,l,c,u=e.tag,f=e.anchor,m={},h=Object.create(null),p=null,A=null,E=null,x=!1,b=!1,v;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),v=e.input.charCodeAt(e.position);v!==0;){if(!x&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Kr(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(v===63||v===58)&&ru(n))v===63?(x&&(w6(e,m,h,p,A,null,a,l,c),p=A=E=null),b=!0,x=!0,i=!0):x?(x=!1,i=!0):Kr(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=n;else{if(a=e.line,l=e.lineStart,c=e.position,!S6(e,r,nMe,!1,!0))break;if(e.line===s){for(v=e.input.charCodeAt(e.position);NE(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),ru(v)||Kr(e,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(w6(e,m,h,p,A,null,a,l,c),p=A=E=null),b=!0,x=!1,i=!1,p=e.tag,A=e.result;else if(b)Kr(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=f,!0}else if(b)Kr(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=f,!0}if((e.line===s||e.lineIndent>t)&&(x&&(a=e.line,l=e.lineStart,c=e.position),S6(e,t,NG,!0,i)&&(x?A=e.result:E=e.result),x||(w6(e,m,h,p,A,E,a,l,c),p=A=E=null),Ga(e,!0,-1),v=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&v!==0)Kr(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return x&&w6(e,m,h,p,A,null,a,l,c),b&&(e.tag=u,e.anchor=f,e.kind="mapping",e.result=m),b}o(okt,"readBlockMapping");function skt(e){var t,r=!1,n=!1,i,s,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&Kr(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(s=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):Kr(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!ru(a);)a===33&&(n?Kr(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),oMe.test(i)||Kr(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),z_t.test(s)&&Kr(e,"tag suffix cannot contain flow indicator characters")}s&&!sMe.test(s)&&Kr(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Kr(e,"tag name is malformed: "+s)}return r?e.tag=s:tC.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:Kr(e,'undeclared tag handle "'+i+'"'),!0}o(skt,"readTagProperty");function akt(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Kr(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!ru(r)&&!T6(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Kr(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}o(akt,"readAnchorProperty");function lkt(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!ru(n)&&!T6(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Kr(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),tC.call(e.anchorMap,r)||Kr(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Ga(e,!0,-1),!0}o(lkt,"readAlias");function S6(e,t,r,n,i){var s,a,l,c=1,u=!1,f=!1,m,h,p,A,E,x;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=l=NG===r||iMe===r,n&&Ga(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;skt(e)||akt(e);)Ga(e,!0,-1)?(u=!0,l=s,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):l=!1;if(l&&(l=u||i),(c===1||NG===r)&&(FG===r||nMe===r?E=t:E=t+1,x=e.position-e.lineStart,c===1?l&&(GQe(e,x)||okt(e,x,E))||nkt(e,E)?f=!0:(a&&ikt(e,E)||tkt(e,E)||rkt(e,E)?f=!0:lkt(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&Kr(e,"alias node should not have any properties")):ekt(e,E,FG===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(f=l&&GQe(e,x))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Kr(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,h=e.implicitTypes.length;m<h;m+=1)if(A=e.implicitTypes[m],A.resolve(e.result)){e.result=A.construct(e.result),e.tag=A.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(tC.call(e.typeMap[e.kind||"fallback"],e.tag))A=e.typeMap[e.kind||"fallback"][e.tag];else for(A=null,p=e.typeMap.multi[e.kind||"fallback"],m=0,h=p.length;m<h;m+=1)if(e.tag.slice(0,p[m].tag.length)===p[m].tag){A=p[m];break}A||Kr(e,"unknown tag !<"+e.tag+">"),e.result!==null&&A.kind!==e.kind&&Kr(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+A.kind+'", not "'+e.kind+'"'),A.resolve(e.result,e.tag)?(e.result=A.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Kr(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}o(S6,"composeNode");function ckt(e){var t=e.position,r,n,i,s=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(Ga(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(s=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!ru(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Kr(e,"directive name must not be less than one character in length");a!==0;){for(;NE(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!sg(a));break}if(sg(a))break;for(r=e.position;a!==0&&!ru(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&R0e(e),tC.call(qQe,n)?qQe[n](e,n,i):LG(e,'unknown document directive "'+n+'"')}if(Ga(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ga(e,!0,-1)):s&&Kr(e,"directives end mark is expected"),S6(e,e.lineIndent-1,NG,!1,!0),Ga(e,!0,-1),e.checkLineBreaks&&$_t.test(e.input.slice(t,e.position))&&LG(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&OG(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ga(e,!0,-1));return}if(e.position<e.length-1)Kr(e,"end of the stream or a document separator is expected");else return}o(ckt,"readDocument");function uMe(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Z_t(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Kr(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)ckt(r);return r.documents}o(uMe,"loadDocuments");function ukt(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=uMe(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}o(ukt,"loadAll$1");function fkt(e,t){var r=uMe(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new tu("expected a single document in the stream, but found more")}}o(fkt,"load$1");var dkt=ukt,mkt=fkt,fMe={loadAll:dkt,load:mkt},dMe=Object.prototype.toString,mMe=Object.prototype.hasOwnProperty,P0e=65279,hkt=9,$_=10,pkt=13,gkt=32,Akt=33,ykt=34,w0e=35,Ckt=37,Ekt=38,xkt=39,bkt=42,hMe=44,vkt=45,QG=58,Ikt=61,Tkt=62,wkt=63,Skt=64,pMe=91,gMe=93,_kt=96,AMe=123,kkt=124,yMe=125,_0={};_0[0]="\\0";_0[7]="\\a";_0[8]="\\b";_0[9]="\\t";_0[10]="\\n";_0[11]="\\v";_0[12]="\\f";_0[13]="\\r";_0[27]="\\e";_0[34]='\\"';_0[92]="\\\\";_0[133]="\\N";_0[160]="\\_";_0[8232]="\\L";_0[8233]="\\P";var Bkt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Rkt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Dkt(e,t){var r,n,i,s,a,l,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)a=n[i],l=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),c=e.compiledTypeMap.fallback[a],c&&mMe.call(c.styleAliases,l)&&(l=c.styleAliases[l]),r[a]=l;return r}o(Dkt,"compileStyleMap");function Pkt(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new tu("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+el.repeat("0",n-t.length)+t}o(Pkt,"encodeHex");var Fkt=1,z_=2;function Nkt(e){this.schema=e.schema||rMe,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=el.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Dkt(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?z_:Fkt,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}o(Nkt,"State");function HQe(e,t){for(var r=el.repeat(" ",t),n=0,i=-1,s="",a,l=e.length;n<l;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=l):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}o(HQe,"indentString");function S0e(e,t){return`
`+el.repeat(" ",e.indent*t)}o(S0e,"generateNextLine");function Lkt(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}o(Lkt,"testImplicitResolving");function MG(e){return e===gkt||e===hkt}o(MG,"isWhitespace");function Y_(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==P0e||65536<=e&&e<=1114111}o(Y_,"isPrintable");function VQe(e){return Y_(e)&&e!==P0e&&e!==pkt&&e!==$_}o(VQe,"isNsCharOrWhitespace");function jQe(e,t,r){var n=VQe(e),i=n&&!MG(e);return(r?n:n&&e!==hMe&&e!==pMe&&e!==gMe&&e!==AMe&&e!==yMe)&&e!==w0e&&!(t===QG&&!i)||VQe(t)&&!MG(t)&&e===w0e||t===QG&&i}o(jQe,"isPlainSafe");function Qkt(e){return Y_(e)&&e!==P0e&&!MG(e)&&e!==vkt&&e!==wkt&&e!==QG&&e!==hMe&&e!==pMe&&e!==gMe&&e!==AMe&&e!==yMe&&e!==w0e&&e!==Ekt&&e!==bkt&&e!==Akt&&e!==kkt&&e!==Ikt&&e!==Tkt&&e!==xkt&&e!==ykt&&e!==Ckt&&e!==Skt&&e!==_kt}o(Qkt,"isPlainSafeFirst");function Mkt(e){return!MG(e)&&e!==QG}o(Mkt,"isPlainSafeLast");function V_(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}o(V_,"codePointAt");function CMe(e){var t=/^\n* /;return t.test(e)}o(CMe,"needIndentIndicator");var EMe=1,_0e=2,xMe=3,bMe=4,I6=5;function Okt(e,t,r,n,i,s,a,l){var c,u=0,f=null,m=!1,h=!1,p=n!==-1,A=-1,E=Qkt(V_(e,0))&&Mkt(V_(e,e.length-1));if(t||a)for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=V_(e,c),!Y_(u))return I6;E=E&&jQe(u,f,l),f=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=V_(e,c),u===$_)m=!0,p&&(h=h||c-A-1>n&&e[A+1]!==" ",A=c);else if(!Y_(u))return I6;E=E&&jQe(u,f,l),f=u}h=h||p&&c-A-1>n&&e[A+1]!==" "}return!m&&!h?E&&!a&&!i(e)?EMe:s===z_?I6:_0e:r>9&&CMe(e)?I6:a?s===z_?I6:_0e:h?bMe:xMe}o(Okt,"chooseScalarStyle");function Ukt(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===z_?'""':"''";if(!e.noCompatMode&&(Bkt.indexOf(t)!==-1||Rkt.test(t)))return e.quotingType===z_?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),l=n||e.flowLevel>-1&&r>=e.flowLevel;function c(u){return Lkt(e,u)}switch(o(c,"testAmbiguity"),Okt(t,l,e.indent,a,c,e.quotingType,e.forceQuotes&&!n,i)){case EMe:return t;case _0e:return"'"+t.replace(/'/g,"''")+"'";case xMe:return"|"+$Qe(t,e.indent)+zQe(HQe(t,s));case bMe:return">"+$Qe(t,e.indent)+zQe(HQe(qkt(t,a),s));case I6:return'"'+Wkt(t)+'"';default:throw new tu("impossible error: invalid scalar style")}}()}o(Ukt,"writeScalar");function $Qe(e,t){var r=CMe(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}o($Qe,"blockHeader");function zQe(e){return e[e.length-1]===`
`?e.slice(0,-1):e}o(zQe,"dropEndingNewline");function qkt(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,YQe(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",s,a;a=r.exec(e);){var l=a[1],c=a[2];s=c[0]===" ",n+=l+(!i&&!s&&c!==""?`
`:"")+YQe(c,t),i=s}return n}o(qkt,"foldString");function YQe(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,a=0,l=0,c="";n=r.exec(e);)l=n.index,l-i>t&&(s=a>i?a:l,c+=`
`+e.slice(i,s),i=s+1),a=l;return c+=`
`,e.length-i>t&&a>i?c+=e.slice(i,a)+`
`+e.slice(a+1):c+=e.slice(i),c.slice(1)}o(YQe,"foldLine");function Wkt(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=V_(e,i),n=_0[r],!n&&Y_(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||Pkt(r);return t}o(Wkt,"escapeString");function Gkt(e,t,r){var n="",i=e.tag,s,a,l;for(s=0,a=r.length;s<a;s+=1)l=r[s],e.replacer&&(l=e.replacer.call(r,String(s),l)),(AA(e,t,l,!1,!1)||typeof l>"u"&&AA(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}o(Gkt,"writeFlowSequence");function KQe(e,t,r,n){var i="",s=e.tag,a,l,c;for(a=0,l=r.length;a<l;a+=1)c=r[a],e.replacer&&(c=e.replacer.call(r,String(a),c)),(AA(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&AA(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=S0e(e,t)),e.dump&&$_===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}o(KQe,"writeBlockSequence");function Hkt(e,t,r){var n="",i=e.tag,s=Object.keys(r),a,l,c,u,f;for(a=0,l=s.length;a<l;a+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),c=s[a],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),AA(e,t,c,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),AA(e,t,u,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}o(Hkt,"writeFlowMapping");function Vkt(e,t,r,n){var i="",s=e.tag,a=Object.keys(r),l,c,u,f,m,h;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new tu("sortKeys must be a boolean or a function");for(l=0,c=a.length;l<c;l+=1)h="",(!n||i!=="")&&(h+=S0e(e,t)),u=a[l],f=r[u],e.replacer&&(f=e.replacer.call(r,u,f)),AA(e,t+1,u,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&$_===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,m&&(h+=S0e(e,t)),AA(e,t+1,f,!0,m)&&(e.dump&&$_===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=s,e.dump=i||"{}"}o(Vkt,"writeBlockMapping");function JQe(e,t,r){var n,i,s,a,l,c;for(i=r?e.explicitTypes:e.implicitTypes,s=0,a=i.length;s<a;s+=1)if(l=i[s],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(r?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(c=e.styleMap[l.tag]||l.defaultStyle,dMe.call(l.represent)==="[object Function]")n=l.represent(t,c);else if(mMe.call(l.represent,c))n=l.represent[c](t,c);else throw new tu("!<"+l.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}o(JQe,"detectType");function AA(e,t,r,n,i,s,a){e.tag=null,e.dump=r,JQe(e,r,!1)||JQe(e,r,!0);var l=dMe.call(e.dump),c=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=l==="[object Object]"||l==="[object Array]",m,h;if(f&&(m=e.duplicates.indexOf(r),h=m!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(f&&h&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),l==="[object Object]")n&&Object.keys(e.dump).length!==0?(Vkt(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(Hkt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?KQe(e,t-1,e.dump,i):KQe(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(Gkt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&Ukt(e,e.dump,t,s,c);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new tu("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}o(AA,"writeNode");function jkt(e,t){var r=[],n=[],i,s;for(k0e(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}o(jkt,"getDuplicateReferences");function k0e(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)k0e(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)k0e(e[n[i]],t,r)}o(k0e,"inspectNode");function $kt(e,t){t=t||{};var r=new Nkt(t);r.noRefs||jkt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),AA(r,0,n,!0,!0)?r.dump+`
`:""}o($kt,"dump$1");var zkt=$kt,Ykt={dump:zkt};function F0e(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}o(F0e,"renamed");var OAn=fMe.load,UAn=fMe.loadAll,N0e=Ykt.dump;var qAn=F0e("safeLoad","load"),WAn=F0e("safeLoadAll","loadAll"),GAn=F0e("safeDump","dump");var LE=nt(cf());var L0e=class{constructor(){this.resolvedSkills={};this.resolutions=[]}static{o(this,"SkillDump")}},kl=class{constructor(){this.dump=new Bn(25);this.promptsDump=new Bn(1)}static{o(this,"ConversationDumper")}addResolvedSkill(t,r,n){let i=this.getDump(t);i.resolvedSkills[r]=n}getResolvedSkill(t,r){return this.getDump(t).resolvedSkills[r]}addResolution(t,r){this.getDump(t).resolutions.push(r)}getDump(t){let r=this.dump.get(t);return r||(r=new L0e,this.dump.set(t,r)),r}addPrompt(t,r,n){let i=this.promptsDump.get(t);i===void 0&&(i=new Map,this.promptsDump.set(t,i)),i.set(n,r)}getLastTurnPrompts(){if(this.promptsDump===void 0)return;let t=this.promptsDump.values().next();if(!t.done)return t.value}};function vMe(e){let t=e.copy();return t.turns=t.turns.filter(r=>r.status!=="in-progress"&&(r.response===void 0||r.response?.type==="model")),t}o(vMe,"filterConversationTurns");function E0e(e){return vMe(e).getLastTurn()?.id}o(E0e,"getLastTurnId");async function RQe(e){let t=vMe(e.conversation),r=E0e(e.conversation);if(!r)return"Nothing to dump because no request has been sent to the model yet.";let i=e.ctx.get(kl).getDump(r),s=Xkt(i,t.turns);ni.debug(e.ctx,`conversation.dump
`,`
`+s);let a=await Zkt(i,e.ctx);return LE.default`
        ${Jkt(e.conversation,r)}
        ${Kkt(e.ctx)}

        The following code can be copied into a chat simulation \`yml\` file. This response has not polluted the conversation history and did not cause any model roundtrip.
        \`\`\`yaml
        ${s}
        \`\`\`${a?`
${a}`:""}
        `}o(RQe,"getConversationDump");function Kkt(e){let t=e.get(an);return LE.default`
        - IDE: \`${t.getEditorInfo().name} (${t.getEditorInfo().version})\`
        - Plugin: \`${t.getEditorPluginInfo().version}\`
    `}o(Kkt,"getEditorInfoDumpMessage");function Jkt(e,t){return LE.default`
        Debug information for the last turn of the conversation.

        - ConversationId: \`${e.id}\`
        - MessageId: \`${t}\`
    `}o(Jkt,"getInfoDumpMessage");async function DQe(e,t,r){let n=e.ctx.get(Wa),i="# Available skills",s=n.getDescriptors().filter(a=>e.ctx.get(Hi).getSupportedSkills(e.conversation.id).includes(a.id));if(r&&(s=s.filter(a=>a.id===r)),s.length===0)return`No skill with id ${r} available`;for(let a of s)i+=`
- ${a.id}`;e.turn.request.message&&tn(e.turn.request.message).trim().length>0&&(i+=`

**User message**: ${tn(e.turn.request.message)}`);for(let a of s){i+=`
## ${a.id}`,i+=LE.default`
            \n\n
            **Description**
            
            ${a.description()}`;let l=n.getSkill(a.id),c=await l?.resolver(e).resolveSkill(e);if(c){i+=LE.default`
                \n\n
                **Resolution**
                
                \`\`\`yaml
                ${N0e(c)}
                \`\`\``;let u=await l?.processor(e).processSkill(c,e);if(u){let f=typeof u=="string"?u:u.elide(1e3).getText();i+=LE.default`
                    \n\n
                    **Processed value**
                    
                    ${f}`}else i+=`

**Unprocessable**`}else i+=`

**Unresolvable**`}return i}o(DQe,"getSkillsDump");function Xkt(e,t){let r={state:{skills:e.resolvedSkills},turns:t.map((n,i)=>{let s={request:tn(n.request.message)};return n.response&&(s.response=tn(n.response.message)),s})};return N0e(r)}o(Xkt,"toSimulationFormat");async function Zkt(e,t){let r=e.resolutions.map(s=>s.files).flat(),n=r.filter((s,a)=>s&&r.indexOf(s)===a),i;for(let s of n)if(s&&s.status==="included"){i||(i=`The following files have been used:
`);let a=await t.get(Or).getTextDocument(s),l=a?.getText();ni.debug(t,`conversation.dump.file
`,l),i+=`
**${s.uri}**

\`\`\`${a?.languageId}
${l}
\`\`\``}return i}o(Zkt,"fileDump");d();function Q0e(e,t){let r=vo(t.tokenizer),n=0;for(let i of e)n+=t.baseTokensPerMessage,i.role&&(n+=r.tokenize(i.role).length),i.name&&(n+=r.tokenize(i.name).length+t.baseTokensPerName),i.content&&(n+=r.tokenize(tn(i.content)).length);return n+=t.baseTokensPerCompletion,n}o(Q0e,"countMessagesTokens");d();async function IMe(e,t,r,n,i){let s=["You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","You can answer general programming questions and perform the following tasks:","* Ask a question about the files in your current workspace","* Explain how the code in your active editor works","* Make changes to existing code","* Review the selected code in your active editor","* Generate unit tests for the selected code","* Propose a fix for the problems in the selected code","* Scaffold code for a new file or project in a workspace","* Create a new Jupyter Notebook","* Ask questions about VS Code","* Generate query parameters for workspace search","* Ask how to do something in the terminal","* Explain what just happened in the terminal"].join(`
`),a=["The active document is the source code the user is looking at right now.","You have read access to the code in the active document, files the user has recently worked with and open tabs. You are able to retrieve, read and use this code to answer questions.","You cannot retrieve code that is outside of the current project.","You can only give one reply for each conversation turn."].join(`
`),l=t?`The user works in an IDE called ${t} which can be used to edit code, run and debug the user's application as well as executing tests.`:"",c=n?`The user is using ${n} as their operating system.`:"",u=i?`You use the ${i} large language model.`:"",f=r?`The user is logged in as ${r} on GitHub.`:"";return[s,c,u,f,l,a].filter(m=>m&&m!="").join(`
`)}o(IMe,"chatBasePrompt");d();d();d();d();d();var eBt=".github/copilot-instructions.md",tBt=".github/git-commit-instructions.md",UG=class{static{o(this,"CustomInstructionsService")}static async _collectInstructionsFromFile(t,r,n,i,s,a){try{let l=Xo(r,n),c=await t.getByUri(l);if(c.status!=="valid"||!c.document)return;let u=c.document.getText().trim();u&&s.push({kind:a,content:[{instruction:u,languageId:i}],reference:l})}catch{}}static async readFromWorkspaces(t,r,n={}){let i=[];if(!r.length)return i;let s=new Uy(t),a=r.flatMap(l=>{let c=[];return n.includeCodeGenerationInstructions!==!1&&c.push(this._collectInstructionsFromFile(s,l,eBt,n.languageId,i,0)),n.includeCommitMessageGenerationInstructions&&c.push(this._collectInstructionsFromFile(s,l,tBt,void 0,i,0)),c});return await Promise.all(a),i}};var _6=class{static{o(this,"CustomInstruction")}static async getInstructions(t,r,n={}){try{let i=await UG.readFromWorkspaces(t,r,n);return this.processInstructions(i,n)}catch{return}}static processInstructions(t,r={}){if(!t||t.length===0)return;let n=[];for(let s of t){let a=this.createInstructionElement(s,r);a&&n.push(a)}return n.length===0?void 0:`${r.customIntroduction||"When generating code, please follow these user provided coding instructions. You can ignore an instruction if it contradicts a system message."}

<instructions>${n.join(`
`)}</instructions>`}static createInstructionElement(t,r={}){let n=[];for(let i of t.content)i.languageId?r.languageId&&i.languageId===r.languageId&&n.push(`For ${i.languageId} code: ${i.instruction}`):n.push(i.instruction);if(n.length!==0)return n.join(`
`)}};d();d();function TMe(e){let t=e.split(`
`),r=[],n=!1,i=[];for(let s of t)s.startsWith("```")?(n?(r.push([Du(i.join(`
`)),1]),i=[],r.push([new Xt([s]),1])):r.push([new Xt([s]),1]),n=!n):n?i.push(s):r.push([new Xt([s]),.8]);return n&&(r.push([Du(i.join(`
`)),1]),r.push([new Xt(["```"]),1])),new Xt(r)}o(TMe,"fromMessage");function k6(e){let t=M0e(e),r=[];for(let n=0;n<t.length;n++){let i=t[n],s=wMe(i.request,n+1),a=i.response&&i.response?.type!=="meta"?wMe(i.response):"",l=s;a!==""&&(l+=`
`+a+(t.length>1&&n!==t.length-1?`
`:"")),r.push(TMe(l))}return r.length>0?new Xt([[new Xt(["Consider the following conversation history:"]),1],[Xy(r,"inverseLinear"),1]]):null}o(k6,"fromHistory");var rBt=5;function M0e(e,t){return e.filter(n=>(n.status==="success"||n.status==="in-progress")&&tn(n.request.message)!=""&&n.agent?.agentSlug===t).reverse().slice(0,rBt).reverse()}o(M0e,"filterTurns");function wMe(e,t=0){let r;switch(e.type){case"user":case"template":r="User";break;case"model":r="GitHub Copilot";break;default:r=e.type}let n=tn(e.message).startsWith("```")?`
`:" ";return`${t>0?`${t}) `:""}${r}:${n}${tn(e.message)}`}o(wMe,"formatTurnMessage");d();d();d();var nBt=4,O0e={skillIds:[]},qG=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{o(this,"MetaPromptFetcher")}async fetchPromptContext(t,r,n,i,s){let a=t.conversation.getLastTurn().request.message;if(r.length>0){let l=await this.ctx.get(Zn).getBestChatModelConfig(Zo("meta"),{tool_calls:!0}),c={promptType:"meta",supportedSkillDescriptors:r,modelConfiguration:l},u=await this.ctx.get(e0).toPrompt(t,c),f=i.extendedBy({messageSource:"chat.metaprompt"},{promptTokenLen:u.tokens}),m={modelConfiguration:l,messages:u.messages,uiKind:s,llmInteraction:t.toLlmInteraction()};if(u.toolConfig===void 0)throw new Error("No tool call configuration found in meta prompt.");m.tool_choice=u.toolConfig.tool_choice,m.tools=u.toolConfig.tools;let h=await this.chatFetcher.fetchResponse(m,n,f);return h.type!=="success"&&(Jr.error(this.ctx,"Failed to fetch prompt context, trying again..."),h=await this.chatFetcher.fetchResponse(m,n,f)),await t.ctx.get(qa).inspectFetchResult(h),await this.handleResult(h,f,tn(a),s,u.toolConfig)}else return O0e}async handleResult(t,r,n,i,s){if(t.type!=="success")return this.telemetryError(r,t),O0e;let l;if(t.toolCalls&&t.toolCalls.length>0)l=s.extractArguments(t.toolCalls[0]).skillIds?.slice(0,nBt);else return Jr.error(this.ctx,"Missing tool call in meta prompt response"),O0e;let c=r.extendedBy({uiKind:i,skillIds:l?.join(",")??""},{numTokens:t.numTokens+t.toolCalls[0].approxNumTokens}),u=c.extendedBy({messageText:n});return er(this.ctx,`${Xc(i)}.metaPrompt`,c,0),er(this.ctx,`${Xc(i)}.promptContext`,u,1),{skillIds:l??[]}}telemetryError(t,r){let n=t.extendedBy({resultType:r.type,reason:r.reason??""});er(this.ctx,"conversation.promptContextError",n,1)}};d();d();d();var WG=class{constructor(){this.languageId=["java","kotlin","scala","groovy"]}static{o(this,"JavaProjectMetadataLookup")}determineBuildTools(t){return[...t.buildTools]}determineApplicationFrameworks(t){let r=[];return me(t,r,"org.springframework.boot","Spring Boot"),me(t,r,"jakarta.jakartaee-api","Jakarta EE"),me(t,r,"javax:javaee-api","Java EE"),me(t,r,"org.apache.struts:struts2-core","Apache Struts"),me(t,r,"org.hibernate:hibernate-core","Hibernate"),me(t,r,"org.apache.wicket:wicket-core","Apache Wicket"),me(t,r,"javax.faces:jsf-api","JSF"),me(t,r,"org.grails:grails-core","Grails"),r}determineCoreLibraries(t){let r=[];return me(t,r,"com.google.guava","Google Guava"),me(t,r,"org.apache.commons:commons-lang3","Apache Commons Lang"),me(t,r,"org.apache.commons:commons-io","Apache Commons IO"),me(t,r,"joda-time:joda-time","Joda-Time"),me(t,r,"com.google.code.gson:gson","Google Gson"),me(t,r,"org.apache.commons:commons-math3","Apache Commons Math"),me(t,r,"org.apache.commons:commons-collections4","Apache Commons Collections"),me(t,r,"org.apache.commons:commons-net","Apache Commons Net"),me(t,r,"org.apache.poi:poi","Apache POI"),me(t,r,"com.fasterxml.jackson.core:jackson-databind","Jackson"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"org.junit.jupiter:junit-jupiter","JUnit"),me(t,r,"junit:junit","JUnit"),me(t,r,"org.testng:testng","TestNG"),me(t,r,"org.spockframework:spock-core","Spock"),me(t,r,"io.cucumber:cucumber-java","Cucumber"),me(t,r,"org.jboss.arquillian.junit:arquillian-junit-container","Arquillian"),r}determineTestingLibraries(t){let r=[];return me(t,r,"org.mockito","Mockito"),me(t,r,"org.assertj","AssertJ"),me(t,r,"org.hamcrest","Hamcrest"),me(t,r,"org.powermock","PowerMock"),me(t,r,"org.jmock","JMock"),me(t,r,"org.easymock","EasyMock"),me(t,r,"org.jmockit:jmockit","JMockit"),me(t,r,"com.github.tomakehurst:wiremock","WireMock"),me(t,r,"org.dbunit:dbunit","DBUnit"),me(t,r,"com.icegreen:greenmail","GreenMail"),me(t,r,"net.sourceforge.htmlunit:htmlunit","HtmlUnit"),me(t,r,"org.seleniumhq.selenium:selenium-java","Selenium"),me(t,r,"io.rest-assured:rest-assured","Rest-Assured"),me(t,r,"io.gatling.highcharts:gatling-charts-highcharts","Gatling"),me(t,r,"org.apache.jmeter:ApacheJMeter","JMeter"),r}},GG=class{constructor(){this.languageId=["javascript","javascriptreact","typescript","typescriptreact","vue"]}static{o(this,"JavaScriptProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"@types/node","Node.js"),me(t,r,"react-native","React Native"),r.find(n=>n.name==="React Native")||me(t,r,"react","React"),me(t,r,"angular","Angular"),me(t,r,"vue","Vue.js"),me(t,r,"ember","Ember.js"),me(t,r,"backbone","Backbone.js"),me(t,r,"meteor","Meteor"),me(t,r,"polymer","Polymer"),me(t,r,"aurelia","Aurelia"),me(t,r,"knockout","Knockout.js"),me(t,r,"dojo","Dojo Toolkit"),me(t,r,"mithril","Mithril.js"),me(t,r,"marionette","Marionette.js"),me(t,r,"marko","Marko.js"),me(t,r,"svelte","Svelte"),me(t,r,"hyperapp","Hyperapp"),me(t,r,"inferno","Inferno.js"),me(t,r,"preact","Preact"),me(t,r,"riot","Riot.js"),me(t,r,"moon","Moon.js"),me(t,r,"stencil","Stencil.js"),r}determineCoreLibraries(t){let r=[];return me(t,r,"lodash","Lodash"),me(t,r,"moment","Moment.js"),me(t,r,"axios","Axios"),me(t,r,"redux","Redux"),me(t,r,"recoil","Recoil"),me(t,r,"jquery","jQuery"),me(t,r,"d3","D3.js"),me(t,r,"underscore","Underscore.js"),me(t,r,"ramda","Ramda"),me(t,r,"immutable","Immutable.js"),me(t,r,"rxjs","RxJS"),me(t,r,"three","Three.js"),me(t,r,"socket.io","Socket.IO"),me(t,r,"express","Express.js"),me(t,r,"next","Next.js"),me(t,r,"puppeteer","Puppeteer"),me(t,r,"cheerio","Cheerio"),me(t,r,"nodemailer","Nodemailer"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"jest","Jest"),me(t,r,"mocha","Mocha"),me(t,r,"jasmine","Jasmine"),me(t,r,"ava","AVA"),me(t,r,"qunit","QUnit"),me(t,r,"tape","Tape"),r}determineTestingLibraries(t){let r=[];return me(t,r,"chai","Chai"),me(t,r,"sinon","Sinon"),me(t,r,"enzyme","Enzyme"),me(t,r,"protractor","Protractor"),me(t,r,"supertest","Supertest"),me(t,r,"nock","Nock"),me(t,r,"cypress","Cypress"),me(t,r,"@testing-library/react","React Testing Library"),r}},HG=class{constructor(){this.languageId="go"}static{o(this,"GoProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"github.com/gorilla/mux","Gorilla Mux"),me(t,r,"github.com/go-chi/chi","Chi"),me(t,r,"github.com/gin-gonic/gin","Gin"),me(t,r,"github.com/labstack/echo","Echo"),me(t,r,"github.com/revel/revel","Revel"),me(t,r,"github.com/astaxie/beego","Beego"),me(t,r,"github.com/go-martini/martini","Martini"),me(t,r,"github.com/gobuffalo/buffalo","Buffalo"),me(t,r,"github.com/goji/goji","Goji"),me(t,r,"github.com/hoisie/web","Web.go"),r}determineCoreLibraries(t){let r=[];return me(t,r,"net/http","net/http"),me(t,r,"fmt","fmt"),me(t,r,"io","io"),me(t,r,"time","time"),me(t,r,"math","math"),me(t,r,"strconv","strconv"),me(t,r,"strings","strings"),me(t,r,"sort","sort"),me(t,r,"encoding/json","encoding/json"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"github.com/onsi/ginkgo","ginkgo"),me(t,r,"github.com/onsi/gomega","gomega"),me(t,r,"github.com/stretchr/testify","testify"),me(t,r,"gopkg.in/check.v1","gocheck"),me(t,r,"github.com/franela/goblin","goblin"),me(t,r,"github.com/DATA-DOG/godog","godog"),me(t,r,"github.com/stesla/gospec","gospec"),me(t,r,"github.com/rjeczalik/gotest","gotest"),me(t,r,"github.com/smartystreets/goconvey","goconvey"),r}determineTestingLibraries(t){let r=[];return me(t,r,"github.com/stretchr/testify","Testify"),me(t,r,"github.com/smartystreets/goconvey","GoConvey"),me(t,r,"github.com/onsi/ginkgo","Ginkgo"),me(t,r,"github.com/golang/mock","GoMock"),me(t,r,"gopkg.in/check.v1","GoCheck"),me(t,r,"github.com/franela/goblin","Goblin"),me(t,r,"github.com/DATA-DOG/godog","GoDog"),me(t,r,"github.com/onsi/gomega","Gomega"),me(t,r,"github.com/stesla/gospec","GoSpec"),me(t,r,"github.com/rjeczalik/gotest","GoTest"),r}},VG=class{constructor(){this.languageId=["python","jupyter"]}static{o(this,"PythonProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"flask","Flask"),me(t,r,"django","Django"),me(t,r,"pyramid","Pyramid"),me(t,r,"tornado","Tornado"),me(t,r,"fastapi","FastAPI"),r}determineCoreLibraries(t){let r=[];return me(t,r,"requests","requests"),me(t,r,"numpy","numpy"),me(t,r,"pandas","pandas"),me(t,r,"scipy","scipy"),me(t,r,"matplotlib","matplotlib"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"pytest","Pytest"),me(t,r,"unittest","Unittest"),me(t,r,"doctest","Doctest"),me(t,r,"nose","Nose"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mock","Mock"),me(t,r,"hypothesis","Hypothesis"),me(t,r,"behave","Behave"),me(t,r,"lettuce","Lettuce"),me(t,r,"testify","Testify"),me(t,r,"pyhamcrest","PyHamcrest"),r}},jG=class{constructor(){this.languageId=["php","blade"]}static{o(this,"PhpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"laravel/framework","Laravel"),me(t,r,"symfony/symfony","Symfony"),me(t,r,"slim/slim","Slim"),me(t,r,"cakephp/cakephp","CakePHP"),me(t,r,"yiisoft/yii2","Yii"),me(t,r,"zendframework/zendframework","Zend Framework"),me(t,r,"phalcon/cphalcon","Phalcon"),me(t,r,"bcosca/fatfree","Fat-Free"),me(t,r,"fuel/fuel","FuelPHP"),me(t,r,"phpixie/framework","PHPixie"),r}determineCoreLibraries(t){let r=[];return me(t,r,"monolog/monolog","Monolog"),me(t,r,"vlucas/phpdotenv","PHP dotenv"),me(t,r,"symfony/console","Symfony Console"),me(t,r,"guzzlehttp/guzzle","GuzzleHttp"),me(t,r,"ramsey/uuid","Ramsey UUID"),me(t,r,"doctrine/orm","Doctrine ORM"),me(t,r,"php-di/php-di","PHP-DI"),me(t,r,"phpunit/php-timer","PHPUnit Timer"),me(t,r,"symfony/finder","Symfony Finder"),me(t,r,"symfony/yaml","Symfony Yaml"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"phpunit/phpunit","PHPUnit"),me(t,r,"behat/behat","Behat"),me(t,r,"phpspec/phpspec","PHPSpec"),me(t,r,"codeception/codeception","Codeception"),me(t,r,"atoum/atoum","Atoum"),me(t,r,"pestphp/pest","PestPHP"),me(t,r,"kahlan/kahlan","Kahlan"),me(t,r,"peridot-php/peridot","Peridot"),me(t,r,"phake/phake","Phake"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockery/mockery","Mockery"),me(t,r,"php-mock/php-mock","PHP-Mock"),me(t,r,"php-mock/php-mock-phpunit","PHP-Mock PHPUnit"),me(t,r,"padraic/mockery","Padraic Mockery"),me(t,r,"phpspec/prophecy","PHPSpec Prophecy"),me(t,r,"phpunit/php-invoker","PHPUnit Invoker"),me(t,r,"phpunit/php-token-stream","PHPUnit Token Stream"),me(t,r,"phpunit/php-code-coverage","PHPUnit Code Coverage"),me(t,r,"phpunit/php-timer","PHPUnit Timer"),me(t,r,"phpunit/php-text-template","PHPUnit Text Template"),r}},$G=class{constructor(){this.languageId="csharp"}static{o(this,"CSharpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"Microsoft.NETCore.App",".NET Core"),me(t,r,"Microsoft.AspNetCore.App","ASP.NET Core"),r}determineCoreLibraries(t){let r=[];return me(t,r,"EntityFramework","Entity Framework"),me(t,r,"Newtonsoft.Json","Newtonsoft.Json"),me(t,r,"AutoMapper","AutoMapper"),me(t,r,"Serilog","Serilog"),me(t,r,"Dapper","Dapper"),me(t,r,"Polly","Polly"),me(t,r,"FluentValidation","FluentValidation"),me(t,r,"MediatR","MediatR"),me(t,r,"Hangfire","Hangfire"),me(t,r,"RabbitMQ.Client","RabbitMQ.Client"),me(t,r,"MassTransit","MassTransit"),me(t,r,"Microsoft.Extensions.Logging","Microsoft.Extensions.Logging"),me(t,r,"Microsoft.Extensions.DependencyInjection","Microsoft.Extensions.DependencyInjection"),me(t,r,"Microsoft.Extensions.Configuration","Microsoft.Extensions.Configuration"),me(t,r,"Microsoft.Extensions.Http","Microsoft.Extensions.Http"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"xunit","xUnit"),me(t,r,"NUnit","NUnit"),me(t,r,"SpecFlow","SpecFlow"),r}determineTestingLibraries(t){let r=[];return me(t,r,"Moq","Moq"),me(t,r,"FluentAssertions","FluentAssertions"),me(t,r,"Bogus","Bogus"),me(t,r,"RestSharp","RestSharp"),me(t,r,"Swashbuckle.AspNetCore","Swashbuckle.AspNetCore"),r}},zG=class{constructor(){this.languageId="dart"}static{o(this,"DartProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"flutter","Flutter"),me(t,r,"angular","AngularDart"),r}determineCoreLibraries(t){let r=[];return me(t,r,"dartx","dartx"),me(t,r,"provider","Provider"),me(t,r,"rxdart","RxDart"),me(t,r,"dio","Dio"),me(t,r,"json_serializable","json_serializable"),me(t,r,"freezed","Freezed"),me(t,r,"moor","Moor"),me(t,r,"hive","Hive"),me(t,r,"http","http"),me(t,r,"path","path"),me(t,r,"intl","intl"),me(t,r,"equatable","equatable"),me(t,r,"get_it","get_it"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"test","test"),me(t,r,"flutter_test","flutter_test"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockito","mockito"),me(t,r,"bloc_test","bloc_test"),r}},YG=class{constructor(){this.languageId="ruby"}static{o(this,"RubyProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"rails","Rails"),me(t,r,"sinatra","Sinatra"),me(t,r,"hanami","Hanami"),me(t,r,"grape","Grape"),me(t,r,"roda","Roda"),me(t,r,"padrino","Padrino"),me(t,r,"cuba","Cuba"),me(t,r,"ramaze","Ramaze"),me(t,r,"nyara","Nyara"),me(t,r,"rack","Rack"),r}determineCoreLibraries(t){let r=[];return me(t,r,"active_record","ActiveRecord"),me(t,r,"sequel","Sequel"),me(t,r,"rom","ROM"),me(t,r,"datamapper","DataMapper"),me(t,r,"mongoid","Mongoid"),me(t,r,"neo4j","Neo4j"),me(t,r,"redis","Redis"),me(t,r,"cassandra","Cassandra"),me(t,r,"couchrest","CouchRest"),me(t,r,"riak","Riak"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"rspec","RSpec"),me(t,r,"minitest","Minitest"),me(t,r,"cucumber","Cucumber"),me(t,r,"spinach","Spinach"),me(t,r,"turnip","Turnip"),me(t,r,"bacon","Bacon"),me(t,r,"shoulda","Shoulda"),me(t,r,"test-unit","Test::Unit"),me(t,r,"wrong","Wrong"),me(t,r,"contest","Contest"),r}determineTestingLibraries(t){let r=[];return me(t,r,"factory_bot","FactoryBot"),me(t,r,"faker","Faker"),me(t,r,"ffaker","FFaker"),me(t,r,"fabrication","Fabrication"),me(t,r,"machinist","Machinist"),me(t,r,"mocha","Mocha"),me(t,r,"flexmock","FlexMock"),me(t,r,"rr","RR"),me(t,r,"bourne","Bourne"),me(t,r,"not_a_mock","NotAMock"),r}},KG=class{constructor(){this.languageId="rust"}static{o(this,"RustProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return me(t,r,"tokio","tokio"),me(t,r,"async-std","async-std"),me(t,r,"hyper","hyper"),me(t,r,"actix-web","actix-web"),me(t,r,"rocket","rocket"),r}determineCoreLibraries(t){let r=[];return me(t,r,"serde","serde"),me(t,r,"regex","regex"),me(t,r,"rand","rand"),me(t,r,"log","log"),me(t,r,"lazy_static","lazy_static"),me(t,r,"libc","libc"),me(t,r,"futures","futures"),me(t,r,"rayon","rayon"),me(t,r,"reqwest","reqwest"),me(t,r,"warp","warp"),r}determineTestingFrameworks(t){let r=[];return me(t,r,"test-case","test-case"),me(t,r,"proptest","proptest"),me(t,r,"quickcheck","quickcheck"),r}determineTestingLibraries(t){let r=[];return me(t,r,"mockall","mockall"),me(t,r,"double","double"),me(t,r,"rstest","rstest"),me(t,r,"mockiato","mockiato"),me(t,r,"mock_derive","mock_derive"),me(t,r,"mocktopus","mocktopus"),me(t,r,"mockers","mockers"),me(t,r,"mock_it","mock_it"),r}},JG=class{constructor(){this.languageId=["c","cpp"]}static{o(this,"CProjectMetadataLookup")}determineBuildTools(t){return t.buildTools.filter(r=>["gcc","clang","make","cmake","autotools","ninja","meson"].includes(r.name))}determineApplicationFrameworks(t){return t.libraries.filter(r=>["libc","libuv","openssl","zlib","libevent","libcurl"].includes(r.name))}determineCoreLibraries(t){return t.libraries.filter(r=>["libpng","libjpeg","libxml2","sqlite","postgres","mysql"].includes(r.name))}determineTestingFrameworks(t){return t.libraries.filter(r=>["unity","criterion","cmocka","check","ctest","minunit"].includes(r.name))}determineTestingLibraries(t){return t.libraries.filter(r=>["cmock","fff","trompeloeil","fakeit"].includes(r.name))}};function me(e,t,r,n){let i=e.libraries.find(s=>s.name.toLowerCase().indexOf(r.toLowerCase())>-1);i&&t.push({name:n,version:i.version})}o(me,"addFromLibraries");var XG=class{constructor(t,r){this.languageId=t;this.delegates=r}static{o(this,"CompositeProjectMetadataLookup")}determineBuildTools(t){return this.delegates.map(r=>r.determineBuildTools(t)).flat()}determineApplicationFrameworks(t){return this.delegates.map(r=>r.determineApplicationFrameworks(t)).flat()}determineCoreLibraries(t){return this.delegates.map(r=>r.determineCoreLibraries(t)).flat()}determineTestingFrameworks(t){return this.delegates.map(r=>r.determineTestingFrameworks(t)).flat()}determineTestingLibraries(t){return this.delegates.map(r=>r.determineTestingLibraries(t)).flat()}};function _Me(e){return e.language.version?e.language.name+" "+e.language.version:e.language.name}o(_Me,"determineProgrammingLanguage");var SMe=[new WG,new GG,new HG,new VG,new jG,new $G,new zG,new YG,new KG,new JG];function kMe(e){let t=SMe.find(r=>typeof r.languageId=="string"?r.languageId===e:Array.isArray(r.languageId)?r.languageId.includes(e):!1)??new XG(e,SMe);return new U0e(t)}o(kMe,"getMetadataLookup");var U0e=class{constructor(t){this.delegate=t;this.languageId=t.languageId}static{o(this,"DistinctProjectMetadataLookup")}determineBuildTools(t){return this.deduplicateDependencies(this.delegate.determineBuildTools(t))}determineApplicationFrameworks(t){return this.deduplicateDependencies(this.delegate.determineApplicationFrameworks(t))}determineCoreLibraries(t){return this.deduplicateDependencies(this.delegate.determineCoreLibraries(t))}determineTestingFrameworks(t){return this.deduplicateDependencies(this.delegate.determineTestingFrameworks(t))}determineTestingLibraries(t){return this.deduplicateDependencies(this.delegate.determineTestingLibraries(t))}deduplicateDependencies(t){let r=[];return t.forEach(n=>{r.find(i=>i.name===n.name)||r.push(n)}),r}};var BMe=I.Object({name:I.String(),version:I.Optional(I.String())}),RMe=I.Object({language:I.Object({id:I.String(),name:I.String(),version:I.Optional(I.String())}),libraries:I.Array(BMe),buildTools:I.Array(BMe)}),q0e=class{constructor(t){this.turnContext=t}static{o(this,"ProjectMetadataSkillProcessor")}value(){return 1}async processSkill(t){let r=[];r.push([new Xt([`The user is working on a project with the following characteristics:
`]),1]);let n=kMe(t.language.id);return this.addProgrammingLanguage(t,r),this.addBuildTools(t,r,n),this.addApplicationFramework(t,r,n),this.addCoreLibraries(t,r,n),this.addTestingFrameworks(t,r,n),this.addTestingLibraries(t,r,n),new Xt(r)}addProgrammingLanguage(t,r){let n=_Me(t);this.turnContext.collectLabel(ag,n),r.push([new Xt([`- programming language: ${n}`]),1])}addBuildTools(t,r,n){this.addToPrompt(r,"- build tools:",n.determineBuildTools(t))}addApplicationFramework(t,r,n){this.addToPrompt(r,"- application frameworks:",n.determineApplicationFrameworks(t))}addCoreLibraries(t,r,n){this.addToPrompt(r,"- core libraries:",n.determineCoreLibraries(t))}addTestingFrameworks(t,r,n){this.addToPrompt(r,"- testing frameworks:",n.determineTestingFrameworks(t))}addTestingLibraries(t,r,n){this.addToPrompt(r,"- testing libraries:",n.determineTestingLibraries(t))}addToPrompt(t,r,n){if(n.length>0){n.forEach(s=>{this.turnContext.collectLabel(ag,`${s.name}${s.version?" "+s.version:""}`)});let i=n.map(s=>`  - ${s.name}${s.version?" "+s.version:""}`).join(`
`);t.push([new Xt([`${r}
${i}`]),1])}}},ag="project-metadata",ZG=class{constructor(t){this._resolver=t;this.id=ag;this.type="explicit"}static{o(this,"ProjectMetadataSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new q0e(t)}};d();var DMe=nt(require("path"));var W0e=class{constructor(t){this.turnContext=t}static{o(this,"ReferencesSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(qn),n=[],i=await this.filterIncludedFiles(t),s=(await this.toFileChunks(i,r)).filter(a=>a!==void 0).flat();if(s.length>0)return n.push([new Xt(["The user wants you to consider the following referenced files when computing your answer."]),1]),n.push(...s),new Xt(n)}async filterIncludedFiles(t){return t.filter(r=>r.type==="file"&&!this.turnContext.isFileIncluded(r.uri))}async toFileChunks(t,r){return await Promise.all(t.map(async n=>{if(n.type==="file"&&n.uri)return await this.elideReferencedFiles(r,n)}))}async elideReferencedFiles(t,r){let n=await t.readFile(r.uri),i=as(n);if(await this.turnContext.collectFile(tH,r.uri,i),n.status==="valid"){let s=await t.getRelativePath(n.document);if(i==="included"){let a=new ng(n.document,r.selection,r.visibleRange);return[[`Code excerpt from referenced file \`${s}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),1]]}else if(i==="empty")return[[new Xt([`The referenced file \`${s}\` is empty.`]),1]]}else if(n.status==="invalid")return[[new Xt([`The referenced file \`${DMe.basename(r.uri)}\` is content excluded.`]),1]]}},G0e=class{static{o(this,"ReferencesSkillResolver")}async resolveSkill(t){if(t.turn.request.references&&t.turn.request.references.length>0)return t.turn.request.references}},tH="references",eH=class{constructor(){this.id=tH;this.type="implicit"}static{o(this,"ReferencesSkill")}description(){return"The code from the user's referenced files"}resolver(){return new G0e}processor(t){return new W0e(t)}};var QE=o(()=>[ag,ch,tH,w0],"mandatorySkills"),rH=class{constructor(t,r){this.chatFetcher=r;this.metaPromptFetcher=new qG(t,this.chatFetcher)}static{o(this,"ConversationContextCollector")}async collectContext(t,r,n,i,s,a){let l=[];if(s){let c=s.requiredSkills?await s.requiredSkills(t.ctx):[];l.push(...c.filter(u=>!QE().includes(u)))}else(await this.metaPromptFetcher.fetchPromptContext(t,await this.selectableSkillDescriptors(t.ctx,t.conversation,t.turn),r,n,i)).skillIds.reverse().forEach(u=>{!l.includes(u)&&!QE().includes(u)&&l.push(u)});if(a){let c=await a.additionalSkills(t.ctx);l.push(...c.filter(u=>!QE().includes(u)))}return l.push(...QE()),l=l.filter(c=>!this.isIgnoredSkill(c,t.turn)),{skillIds:t.ctx.get(Hi).filterSupportedSkills(t.conversation.id,l)}}async selectableSkillDescriptors(t,r,n){let i=await this.getNonSelectableSkills(t),s=t.get(Hi).getSupportedSkills(r.id),a=t.get(Wa).getDescriptors(),l=[];for(let c of a){if(i.includes(c.id)||!s.includes(c.id))continue;(c.isAvailable?await c.isAvailable(t):!0)&&!this.isIgnoredSkill(c.id,n)&&l.push(c)}return l}async getNonSelectableSkills(t){let r=await og(t),n=(await Promise.all(r.map(i=>i.additionalSkills(t)))).flat();return[...QE(),...n]}isIgnoredSkill(t,r){return r.ignoredSkills?.some(n=>n.skillId===t)}};d();d();var nH=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.rounds=[]}static{o(this,"AgentToolCalls")}getRound(t){return this.rounds.find(r=>r.roundId===t)}async start(t,r,n,i){let s=this.getRound(t);if(s||(s={roundId:t,reply:""},this.rounds.push(s)),s.toolCalls?.find(l=>l.id===r))Jr.error(this.ctx,`Tool call ${r} already exists for the round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`);else{let l={id:r,name:n,progressMessage:i,status:"running"};s.toolCalls=[l],await this.progress.report(this.conversation,this.turn,{editAgentRounds:[s]})}}async finish(t,r){await this.update(t,r,n=>{n.status="completed"})}async cancel(t,r){await this.update(t,r,n=>{n.status="cancelled"})}async finishAll(t="completed"){let r=this.rounds.filter(n=>{let i=n.toolCalls?.filter(s=>s.status==="running").map(s=>(s.status=t,s));if(i&&i.length>0)return n.toolCalls=i,!0});r.length>0&&await this.progress.report(this.conversation,this.turn,{editAgentRounds:r})}async error(t,r,n){await this.update(t,r,i=>{i.status="error",i.error=n||"Unknown error"})}async update(t,r,n){let i=this.rounds.find(a=>a.roundId===t);i||(i={roundId:t,reply:""},this.rounds.push(i));let s=i.toolCalls?.find(a=>a.id===r);s?(n(s),await this.progress.report(this.conversation,this.turn,{editAgentRounds:[i]})):Jr.error(this.ctx,`Tool call ${r} not found for the agent round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`)}};d();var iH=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.steps=[]}static{o(this,"Steps")}async start(t,r,n){let i=this.steps.find(s=>s.id===t);if(!i)i={id:t,title:r,description:n,status:"running"},this.steps.push(i),await this.progress.report(this.conversation,this.turn,{steps:[i]});else throw new Error(`Step with id "${t}" already started`)}async finish(t){await this.updateStep(t,r=>{r.status="completed"})}async cancel(t){await this.updateStep(t,r=>{r.status="cancelled"})}async finishAll(t="completed"){let r=this.steps.filter(n=>n.status==="running").map(n=>(n.status=t,n));r.length>0&&await this.progress.report(this.conversation,this.turn,{steps:r})}async error(t,r){return this.updateStep(t,n=>{n.status="failed",n.error={message:r||"Unknown error"}})}async updateStep(t,r){let n=this.steps.find(i=>i.id===t);n?(r(n),await this.progress.report(this.conversation,this.turn,{steps:[n]})):Jr.error(this.ctx,`Step ${t} not found for conversation ${this.conversation.id} and turn ${this.turn.id}`)}};var B6=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.cancelationToken=i;this.skillResolver=new H0e(this),this.steps=new iH(t,r,n,t.get(cs)),this.collector=new V0e(r,n,t.get(cs)),this.agentToolCalls=new nH(t,r,n,t.get(cs))}static{o(this,"TurnContext")}toLlmInteraction(){return this.conversation.source==="inline"?tc.user("conversation-inline",this.turn.id):tc.user("conversation-panel",this.turn.id)}async collectFile(t,r,n,i){let s={type:"file",collector:t,uri:r,status:n};i&&(s.range=i),await this.collector.collect(s)}collectLabel(t,r){this.collector.collect({type:"label",collector:t,label:r})}isFileIncluded(t){return this.collector.collectibles.some(r=>r.type==="file"&&r.status==="included"&&r.uri===t)}async info(t){await this.sendChatNotification(t,"info")}async warn(t){await this.sendChatNotification(t,"warning")}async sendChatNotification(t,r){await this.ctx.get(cs).report(this.conversation,this.turn,{notifications:[{severity:r,message:t}]})}},oH=class extends Error{constructor(r,n){super(`Cycle detected while resolving skills: ${n.join(" -> ")} -> ${r}`);this.skillId=r;this.skillStack=n}static{o(this,"CycleError")}},K_=class extends Error{static{o(this,"ConversationAbortError")}constructor(t){super(t)}},H0e=class{constructor(t){this.turnContext=t;this.resolveStack=[]}static{o(this,"SkillResolver")}async resolve(t){if(this.turnContext.ctx.get(Hi).getSupportedSkills(this.turnContext.conversation.id).includes(t)){this.ensureNoCycle(t);let n=this.turnContext.ctx.get(kl).getResolvedSkill(this.turnContext.turn.id,t);if(n)return this.resolveStack.pop(),n;let i=await this.newlyResolve(t);return this.resolveStack.pop(),i}}ensureNoCycle(t){if(this.resolveStack.includes(t))throw new oH(t,this.resolveStack);this.resolveStack.push(t)}async newlyResolve(t){let n=this.turnContext.ctx.get(Wa).getSkill(t);try{let i=await n?.resolver(this.turnContext).resolveSkill(this.turnContext);if(i)return this.turnContext.ctx.get(kl).addResolvedSkill(this.turnContext.turn.id,t,i),i}catch(i){if(i instanceof oH||i instanceof K_)throw i;Jr.exception(this.turnContext.ctx,i,`Error while resolving skill ${t}`)}}},V0e=class{constructor(t,r,n){this.conversation=t;this.turn=r;this.conversationProgress=n;this.collectibles=[]}static{o(this,"Collector")}async collect(t){this.collectibles.push(t),await this.reportCollectedFile(t)}async reportCollectedFile(t){t.type==="file"&&await this.conversationProgress.report(this.conversation,this.turn,{references:[{type:"file",uri:t.uri,status:t.status,range:t.range}]})}collectiblesForCollector(t){return this.collectibles.filter(r=>r.collector===t)}};async function PMe(e,t){let[r,n,i]=await iBt(e,t);return i.push(...aBt(e)),r.length>0||n.length>0?[new Xt([[new Xt(["Consider the additional context:"]),1],[Xy(r,"inverseLinear"),.9],...n]),i]:[null,i]}o(PMe,"fromSkills");async function iBt(e,t){let r=[],n=[],i=[],s=[...e.turn.skills].reverse();for(let a of s){if(!await lBt(e,a.skillId,t?.languageId??""))continue;let[l,c]=await oBt(e,a.skillId);l&&(QE().indexOf(a.skillId)===-1?n.push(l):i.push(l)),r.push(c)}return n.reverse(),i.reverse(),r.reverse(),[n,i,r]}o(iBt,"handleSkillsInReverse");async function oBt(e,t){let n=e.ctx.get(Wa).getSkill(t);try{let i=Date.now(),s=await e.skillResolver.resolve(t),a=Date.now()-i;if(s){let l=n?.processor(e),c=Date.now(),u=await l?.processSkill(s,e),f=Date.now()-c;return u?await sBt(e,n,l,u,a,f):[void 0,await sH(e,n,"unprocessable",void 0,a,f)]}else return[void 0,await sH(e,n,"unresolvable",void 0,a)]}catch(i){if(Jr.exception(e.ctx,i,`Error while resolving skill ${t}`),i instanceof K_)throw i;return[void 0,await sH(e,n,"failed")]}}o(oBt,"safelyProcessSkill");async function sBt(e,t,r,n,i,s){let a;return typeof n=="string"?a=new Xt([[n,1]]):a=n,[[a,r?.value()||0],await sH(e,t,"resolved",a,i,s)]}o(sBt,"handleProcessedSkill");async function sH(e,t,r,n,i,s){let l=e.collector.collectiblesForCollector(t?.id??"unknown").filter(u=>u.type==="file"),c={skillId:t?.id??"unknown",resolution:r,files:l,resolutionTimeMs:i,processingTimeMs:s};if(n){let u=await e.ctx.get(Zn).getBestChatModelConfig(Zo("user")),f=n.elide(u.maxRequestTokens).getText();c.tokensPreEliding=vo(u.tokenizer).tokenLength(f)}return e.ctx.get(kl).addResolution(e.turn.id,c),c}o(sH,"determineResolution");function aBt(e){return e.turn.ignoredSkills.map(t=>({skillId:t.skillId,resolution:"ignored"}))}o(aBt,"handleIgnoredSkills");async function lBt(e,t,r){if(t!==ag&&t!==ch)return!0;let n=e.ctx.get(jt),i=await n.updateExPValuesAndAssignments({languageId:r});return n.ideChatEnableProjectMetadata(i)?t===ag:t===ch}o(lBt,"includeSkill");var FMe=nt(cf());var ME=class{static{o(this,"AbstractUserPromptStrategy")}async elidableContent(t,r){let n=[],i=k6(t.conversation.turns.slice(0,-1));i!==null&&n.push([i,.6]);let[s,a]=await this.elidableSkills(t,r);return s!==null&&(i!==null&&n.push(["",.1]),n.push([s,.8])),[new Xt(n),a]}async elidableSkills(t,r){return await PMe(t,r)}async promptContent(t,r,n){let i;t.turn.workspaceFolder&&(i=await _6.getInstructions(t.ctx,[t.turn.workspaceFolder],{includeCodeGenerationInstructions:!0,includeCommitMessageGenerationInstructions:!1}));let s=t.conversation.getLastTurn().request.message,a;i?typeof s=="string"?a=i+`

`+s:a=[{type:"text",text:i},...s]:a=s;let[l,c]=await this.elidableContent(t,n);return[[{role:"system",content:r},{role:"user",content:l},{role:"system",content:this.suffix(t)},{role:"user",content:a}],c]}},aH=class extends ME{static{o(this,"PanelUserPromptStrategy")}suffix(t){return FMe.default` 
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            When generating code, think step-by-step. Briefly explain the code and then output it in a single code block.
            When fixing problems and errors, provide a brief description first.
            When generating classes, use a separate code block for each class.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers.
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Avoid wrapping the whole response in triple backticks.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.
        `.trim()}};var NMe=nt(cf());var lH=class extends ME{static{o(this,"InlineUserPromptStrategy")}suffix(t){return NMe.default`
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers. 
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.

            The user is editing an open file in their editor.
            The user's code is provided with line numbers prepended, for example: '1:code', starting at 1.
            The selected code line numbers are provided and are inclusive.

            If the user's question is about modifying the code in the editor, adhere to the following rules:

            To edit a range of the user's code, use the following format:
            - Generate a codeblock with the new code.
            - Prefix the codeblock with a markdown comment of the form <!-- replace lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line edits can be done by setting start and end to the same line number: <!-- replace lines X to X -->
            - The original code between the start and end will be replaced with the new code.
            - This format can be used to replace as well as add new code to the user's code.

            For example, to replace lines X to Y of the user's code, use the following format:
            <!-- replace lines X to Y -->
            \`\`\`language
            new code
            \`\`\`

            To delete a range of the user's code, use the following format:
            - Generate a codeblock with the original code.
            - Prefix the codeblock with a markdown comment of the form <!-- delete lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line deletions can be done by setting start and end to the same line number: <!-- delete lines X to X -->
            - The original code in the range will be deleted from the user's code.

            For example, to delete lines X to Y of the user's code, use the following format:
            <!-- delete lines X to Y -->
            \`\`\`language
            original code
            \`\`\`

            Remember:
            - Prefix comments must be placed directly above/after the code block respectively.
            - The first row of a codeblock must never be indented.
            - Code in codeblocks must not contain line numbers.
            - You must not return a codeblock containing the final code, but only individual codeblocks for each change.
        `.trim()}};d();var j0e=nt(cf());var cH=class{static{o(this,"MetaPromptStrategy")}elidableContent(t){let r=k6(t.turns.slice(0,-1)),n=[];return r!==null&&n.push([r,.6]),new Xt(n)}suffix(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");if(!t.supportedSkillDescriptors)throw new Error("Supported skills must be provided for meta prompts");return this.buildMetaPrompt(t.supportedSkillDescriptors)}buildMetaPrompt(t){return j0e.default`
            Your task is to provide a helpful answer to the user's question.
            To help you create that answer, you can resolve skills that give you more context.
            Each skill has a description and some example user questions to help you understand when the skill may be useful. 
            
            List of available skills:
            ${t.map(r=>`${this.skillToPrompt(r)}
`).join(`
`)}
        `.trim()}createFunctionArgumentSchema(t){let r=wPe(t.map(n=>n.id));return I.Object({skillIds:I.Array(r,{description:"The skill ids to resolve ranked from most to least useful"})})}toolConfig(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");return{tool_choice:{type:"function",function:{name:"resolveSkills"}},tools:[{type:"function",function:{name:"resolveSkills",description:"Resolves the skills by id to help answer the user question.",parameters:this.createFunctionArgumentSchema(t.supportedSkillDescriptors)}}],extractArguments(r){return{skillIds:Ly(r).skillIds}}}}skillToPrompt(t){let r=t.description?t.description():t.id,n=`Skill Id: ${t.id}
Skill Description: ${r}`,i=t.examples?t.examples():[];return i.length>0&&(n+=`
Skill Examples:
${i.map(s=>`  - ${s}`).join(`
`)}`),n}async promptContent(t,r,n){let i=t.conversation.getLastTurn().request.message,s=this.elidableContent(t.conversation);return[[{role:"system",content:r},{role:"user",content:s},{role:"system",content:this.suffix(n)},{role:"user",content:j0e.default`
                    This is the user's question: 
                    ${tn(i).trim()} 
                `.trim()}],[]]}};d();var LMe=nt(cf());var uH=class{static{o(this,"SuggestionsPromptStrategy")}toolConfig(){return{tool_choice:{type:"function",function:{name:"showSuggestions"}},tools:[{type:"function",function:{name:"showSuggestions",description:"Show the computed suggestions to the user",parameters:I.Object({suggestedTitle:I.String({description:"The suggested title for the conversation"}),followUp:I.String({description:"The suggested follow-up question for the conversation"})})}}],extractArguments(t){let r=Ly(t);return{suggestedTitle:r.suggestedTitle,followUp:r.followUp}}}}suffix(t){return LMe.default`
            Your task is to come up with two suggestions:

            1) Suggest a title for the current conversation based on the history of the conversation so far.
                - The title must be a short phrase that captures the essence of the conversation.
                - The title must be relevant to the conversation context.
                - The title must not be offensive or inappropriate.
                - The title must be in the following locale: ${t.conversation.userLanguage}.

            2) Write a short one-sentence question that the user can ask as a follow up to continue the current conversation.
                - The question must be phrased as a question asked by the user, not by Copilot.
                - The question must be relevant to the conversation context.
                - The question must not be offensive or inappropriate.
                - The question must not appear in the conversation history.
                - The question must not have already been answered.
                - The question must be in the following locale: ${t.conversation.userLanguage}.
        `.trim()}async elidableContent(t){let r=k6(t.turns.slice()),n=[];return r!==null&&n.push([r,.6]),new Xt(n)}async promptContent(t,r,n){return[[{role:"system",content:r},{role:"user",content:await this.elidableContent(t.conversation)},{role:"system",content:this.suffix(t)}],[]]}};d();var cBt=[{type:"function",function:{name:"queryWithKeywords",description:"Searches the workspace for synonyms and relevant keywords related to the original user query. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code.",parameters:I.Object({keywords:I.Array(I.Object({keyword:I.String({description:"A keyword or phrase relevant to the original user query that a user could search to answer their question. Keywords are not generic and do not repeat."}),variations:I.Array(I.String(),{description:"An array of relevant variations of the keyword. Variations include synonyms and plural forms. Variations are not generic and do not repeat."})}))})}}],fH=class extends ME{static{o(this,"UserQuerySynonymsPromptStrategy")}suffix(){return`
You are a coding assistant that helps developers find relevant code in their workspace by providing a list of relevant keywords they can search for.
The user will provide you with potentially relevant information from the workspace. This information may be incomplete.

# Additional Rules

Think step by step:
1. Read the user's question to understand what they are asking about their workspace.
2. If there are pronouns in the question, such as 'it', 'that', 'this', try to understand what they refer to by looking at the rest of the question and the conversation history.
3. Output a list of up to 8 relevant keywords that the user could search to answer their question. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code. Put the keywords most relevant to the question first. Do not include overly generic keywords. Do not repeat keywords.
4. For each keyword in the list of relevant keywords, output a list of relevant variations of the keyword if applicable. Consider synonyms and plural forms. Do not include overly generic variations. Do not repeat variations.

# Example

User: Where is the code for base64 encoding?

Response:

queryWithKeywords([
    { "keyword": "base64 encoding", "variations": ["base64 encoder", "base64 encode"] },
    { "keyword": "base64", "variations": ["base 64"] },
    { "keyword": "encode", "variations": ["encoding", "encoded", "encoder", "encoders"] }
]);
`.trim()}async promptContent(t,r,n){if(n.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");let i=t.conversation.getLastTurn().request.message;return[[{role:"system",content:r},{role:"system",content:this.suffix()},{role:"user",content:i}],[]]}toolConfig(t){if(t.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");return{tools:cBt,tool_choice:{type:"function",function:{name:"queryWithKeywords"}},extractArguments(r){let n=Ly(r).keywords;if(!n||!Array.isArray(n))return{keywords:[]};let i=new Set;for(let s of n)if(!(!HL(s,"keyword")||!s.keyword||typeof s.keyword!="string")&&(i.add(s.keyword.toLowerCase()),!(!HL(s,"variations")||!s.variations||!Array.isArray(s.variations))))for(let a of s.variations)typeof a=="string"&&i.add(a.toLowerCase());return{keywords:Array.from(i)??[]}}}}};var $0e=class{constructor(t,r,n){this.promptType=t;this.strategy=n;this.modelFamilies=Array.isArray(r)?r:[r]}static{o(this,"PromptStrategyDescriptor")}};function J_(e,t,r){return new $0e(e,t,r)}o(J_,"descriptor");var QMe=[J_("user",Zo("user"),async()=>new aH),J_("inline",Zo("inline"),async()=>new lH),J_("meta",Zo("meta"),async()=>new cH),J_("suggestions",Zo("suggestions"),async()=>new uH),J_("synonyms",Zo("synonyms"),async()=>new fH)],dH=class{static{o(this,"DefaultPromptStrategyFactory")}async createPromptStrategy(t,r,n){let i=QMe.find(s=>s.promptType===r&&s.modelFamilies.includes(n));if(!i)throw new Error(`No prompt strategy found for promptType: ${r} and modelFamily: ${n}`);return i.strategy(t)}get descriptors(){return QMe}};var OMe=require("console");var e0=class{constructor(t,r=new dH){this.ctx=t;this.promptStrategyFactory=r}static{o(this,"ConversationPromptEngine")}async toPrompt(t,r){let n=await this.promptStrategyFactory.createPromptStrategy(this.ctx,r.promptType,r.modelConfiguration.modelFamily),[i,s]=await n.promptContent(t,await this.safetyPrompt(r.userSelectedModelName??r.modelConfiguration.uiName),r),[a,l]=await this.elideChatMessages(i,r.modelConfiguration);return await this.ctx.get(qa).inspectPrompt({type:r.promptType,prompt:MMe(a),tokens:l}),this.ctx.get(kl).addPrompt(t.turn.id,MMe(a),r.promptType),{messages:a,tokens:l,skillResolutions:s,toolConfig:n.toolConfig?.(r)}}async elideChatMessages(t,r){let n=t.filter(l=>!(typeof l.content=="string"||Array.isArray(l.content)));(0,OMe.assert)(n.length==1,"Only one elidable message is supported right now.");let i=this.computeNonElidableTokens(t,r),s=r.maxRequestTokens-i,a=t.map(l=>typeof l.content=="string"||Array.isArray(l.content)?l:{role:l.role,content:uBt(l.content.elide(s).getText())}).filter(l=>l.content.length>0);return[a,Q0e(a,r)]}computeNonElidableTokens(t,r){let n=t.filter(i=>typeof i.content=="string");return n.push({role:"user",content:""}),Q0e(n,r)}async safetyPrompt(t){let r=await this.ctx.get(In).getAuthRecord(),n=this.ctx.get(an).getEditorInfo().readableName??this.ctx.get(an).getEditorInfo().name,i=fBt(process.platform);return await IMe(this.ctx,n,r?.user,i,t)}};function uBt(e){return e.trimStart().replace(/^\[\.\.\.\]\n?/,"")}o(uBt,"processResultOfElidableText");function MMe(e){return e.map(t=>tn(t.content)).join(`

`)}o(MMe,"debugChatMessages");function fBt(e){switch(e){case"darwin":return"macOS";case"win32":return"Windows";case"linux":return"Linux";case"freebsd":return"FreeBSD";case"openbsd":return"OpenBSD";case"sunos":return"SunOS";case"aix":return"AIX";default:return}}o(fBt,"mapPlatformToOs");var mH=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{o(this,"TurnSuggestions")}async fetchRawSuggestions(t,r,n,i){let s=await this.ctx.get(Zn).getBestChatModelConfig(Zo("suggestions"),{tool_calls:!0}),a={promptType:"suggestions",modelConfiguration:s},l=await this.ctx.get(e0).toPrompt(t,a),c=i.extendedBy({messageSource:"chat.suggestions"},{promptTokenLen:l.tokens}),u={modelConfiguration:s,messages:l.messages,uiKind:n,llmInteraction:t.toLlmInteraction()};if(l.toolConfig===void 0)throw new Error("No tool call configuration found in suggestions prompt.");u.tool_choice=l.toolConfig.tool_choice,u.tools=l.toolConfig.tools;let f=await this.chatFetcher.fetchResponse(u,r,c);if(f.type!=="success"&&(Jr.error(this.ctx,"Failed to fetch suggestions, trying again..."),f=await this.chatFetcher.fetchResponse(u,r,c)),f.type==="success"){if(!f.toolCalls||f.toolCalls.length===0){Jr.error(this.ctx,"Missing tool call in suggestions response");return}let m=f.toolCalls[0],{followUp:h,suggestedTitle:p}=l.toolConfig.extractArguments(m);if(!h||!p){Jr.error(this.ctx,"Missing follow-up or suggested title in suggestions response");return}return{followUp:h.trim(),suggestedTitle:p.trim(),promptTokenLen:l.tokens,numTokens:f.numTokens+m.approxNumTokens}}else if(f.type==="successMultiple"){Jr.error(this.ctx,"successMultiple response is unexpected for suggestions");return}else if(f.type==="tool_calls"){Jr.error(this.ctx,"tool_calls response is unexpected for suggestions");return}else{Jr.error(this.ctx,`Failed to fetch suggestions due to reason: ${f.reason}`);return}}};var R6=class{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.computeSuggestions=n}static{o(this,"ChatFetchResultPostProcessor")}async postProcess(t,r,n,i,s,a,l,c){switch(yPe(this.turnContext.ctx,l,a,t.type=="offTopic",t.requestId,c,s.extendedBy({},{fileCount:this.turnContext.ctx.get(Zs).workspaceCount})),await this.turnContext.ctx.get(qa).inspectFetchResult(t),t.type){case"success":return await this.processSuccessfulFetchResult(n,t.numTokens,t.requestId,r,l,i,s,c);case"offTopic":return await this.processOffTopicFetchResult(s,l,c);case"canceled":return this.turnContext.turn.status="cancelled",this.turnContext.turn.response={message:"Cancelled",type:"user"},{error:{message:tn(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}};case"failed":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:t.reason,type:"server"},{error:{message:X8.translateErrorMessage(t.code,t.reason),code:t.code}};case"filtered":return this.turnContext.turn.status="filtered",{error:{message:"Oops, your response got filtered. Vote down if you think this shouldn't have happened.",responseIsFiltered:!0}};case"length":return this.turnContext.turn.status="error",{error:{message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0}};case"agentAuthRequired":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},{error:{message:"Authorization required",responseIsFiltered:!1}};case"no_choices":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"No choices returned",type:"server"},{error:{message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"no_finish_reason":return this.turnContext.turn.status="error",n&&n.length>0?this.turnContext.turn.response={message:n,type:"model",references:this.turnContext.turn.response?.references}:this.turnContext.turn.response={message:"No finish reason",type:"server"},{error:{message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"model_not_supported":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Model not supported",type:"server"},{error:{message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1}};case"successMultiple":case"tool_calls":case"unknown":return this.turnContext.turn.status="error",{error:{message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1}}}}async processSuccessfulFetchResult(t,r,n,i,s,a,l,c){if(t&&t.length>0){a.markAsDisplayed(),l.markAsDisplayed(),this.turnContext.turn.status="success",this.turnContext.turn.response={message:t,type:"model",references:this.turnContext.turn.response?.references},CPe(this.turnContext.ctx,this.turnContext.conversation,s,t,r,n,c,l);let u=this.computeSuggestions?await this.fetchSuggestions(i,s,a,c):void 0;if(u){let{followUp:f,suggestedTitle:m}=u;return{followup:f.message!==""?f:void 0,suggestedTitle:m!==""?m:void 0}}return{}}return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"The model returned successful but did not contain any response text.",type:"meta"},{error:{message:tn(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}}}async fetchSuggestions(t,r,n,i){let a=await new mH(this.turnContext.ctx,this.chatFetcher).fetchRawSuggestions(this.turnContext,t,r,n);if(a===void 0)return;let l=this.enrichFollowup(a,r,n,i);return Jr.debug(this.turnContext.ctx,"Computed followup",l),Jr.debug(this.turnContext.ctx,"Computed suggested title",a.suggestedTitle),{followUp:l,suggestedTitle:a.suggestedTitle}}enrichFollowup(t,r,n,i){let s=n.extendedBy({messageSource:"chat.suggestions",suggestionId:xr(),suggestion:"Follow-up from model"},{promptTokenLen:t.promptTokenLen,numTokens:t.numTokens});return IPe(this.turnContext.ctx,r,s,i),{message:t.followUp,id:s.properties.suggestionId,type:s.properties.suggestion}}async processOffTopicFetchResult(t,r,n){let i="Sorry, but I can only assist with programming related questions.";return this.turnContext.turn.response={message:i,type:"offtopic-detection"},this.turnContext.turn.status="off-topic",EPe(this.turnContext.ctx,this.turnContext.conversation,r,i,t.properties.messageId,n,t),{error:{message:i,responseIsFiltered:!0}}}};var z0e="generate-response",hH=class extends Error{constructor(r,n,i,s){super(r);this.authorizationUri=n;this.agentSlug=i;this.agentName=s}static{o(this,"RemoteAgentAuthorizationError")}},X_=class{constructor(t,r,n){this.agent=t;this.turnContext=r;this.chatFetcher=n;this.conversationProgress=r.ctx.get(cs),this.chatFetcher=this.chatFetcher??new Ms(r.ctx),this.postProcessor=new R6(r,this.chatFetcher,!1),this.conversation=r.conversation,this.turn=r.turn}static{o(this,"RemoteAgentTurnProcessor")}async process(t,r,n,i){try{await this.processWithAgent(t,r,this.turnContext,i)}catch(s){Jr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,s);let a=s instanceof Error?s.message:String(s);this.turn.status="error",this.turn.response={message:a,type:"meta"},s instanceof hH?await this.endProgress({unauthorized:{authorizationUri:s.authorizationUri,agentSlug:s.agentSlug,agentName:s.agentName}}):await this.endProgress({error:{message:a,responseIsIncomplete:!0}})}}async processWithAgent(t,r,n,i){await this.conversationProgress.begin(this.conversation,this.turn,t);let s=await Xa(this.turnContext.ctx,this.turn.id,this.conversation.id,{languageId:i?.languageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let a=await this.buildAgentPrompt(n);if(!a)await this.endTurnWithResponse(`No prompt created for agent ${this.agent.id}`,"error");else{let l={type:"user",prompt:JSON.stringify(a.messages,null,2),tokens:a.tokens};await n.ctx.get(qa).inspectPrompt(l),await n.steps.start(z0e,"Generating response");let c=this.augmentTelemetry(a,s,this.turn.template,i);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let u=await this.fetchConversationResponse(n,a.messages,r,s.extendedBy({messageSource:"chat.user"},{promptTokenLen:a.tokens}),c,i);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(u,n),await this.endProgress({error:u.error,followUp:u.followup,suggestedTitle:u.suggestedTitle,skillResolutions:a.skillResolutions}))}}async buildAgentPrompt(t){let r=this.createMessagesFromHistory(t),n=await this.computeCopilotReferences(t),i=this.getOrCreateAgentSessionId(t);return this.turn.agent&&(this.turn.agent.sessionId=i),this.turn.confirmationResponse?this.addConfirmationResponse(this.turn.confirmationResponse,r):r.push({role:"user",content:t.turn.request.message,copilot_references:n.length>0?n:void 0}),{messages:r,tokens:-1,skillResolutions:[]}}getOrCreateAgentSessionId(t){let r=this.turn.agent?.agentSlug;if(r){for(let n of t.conversation.turns)if(n.agent?.agentSlug===r&&n.agent.sessionId)return n.agent.sessionId}return xr()}addConfirmationResponse(t,r){r.push({role:"user",content:"",copilot_confirmations:[t]})}createMessagesFromHistory(t){return M0e(t.conversation.turns.slice(0,-1),this.agent.slug).flatMap(r=>{let n=[];if(r.request&&n.push({role:"user",content:r.request.message}),r.response&&r.response.type==="model"){let i=MLe(r.response.references);n.push({role:"assistant",content:r.response.message,copilot_references:i.length>0?i:void 0})}return n})}async computeCopilotReferences(t){return await YLe(t)}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async fetchConversationResponse(t,r,n,i,s,a){n.onCancellationRequested(async()=>{await this.cancelProgress()});let l=new Yy((m,h,p,A,E)=>{let x=E?{...E,agentSlug:this.agent.slug}:void 0;this.conversationProgress.report(this.conversation,this.turn,{reply:m,annotations:h,references:p,notifications:A.map(b=>({message:b.message,severity:"warning"})),confirmationRequest:x}),this.turn.response?(this.turn.response.message=y6(this.turn.response.message,m),this.turn.response.references.push(...p)):this.turn.response={message:m,type:"model",references:p},this.turn.annotations.push(...h??[]),x&&(this.turn.confirmationRequest=x)}),c=await this.turnContext.ctx.get(qr).getGitHubToken(),u={engineName:"agents",endpoint:this.agent.endpoint??this.agent.slug,messages:r,uiKind:"conversationPanel",intentParams:{intent:!0,intent_threshold:.7,intent_content:tn(this.turn.request.message)},authToken:c,copilot_thread_id:this.turn.agent?.sessionId,llmInteraction:t.toLlmInteraction()},f=await this.chatFetcher.fetchResponse(u,n,i,async(m,h)=>l.isFinishedAfter(m,h));return this.ensureAgentIsAuthorized(f),await this.postProcessor.postProcess(f,n,l.appliedText,i,s.extendedBy(this.addExtensibilityInfoTelemetry()),tn(this.turn.request.message),"conversationPanel",a)}ensureAgentIsAuthorized(t){if(t.type==="agentAuthRequired")throw this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},new hH("Authorization required",t.authUrl,this.agent.slug,this.agent.name)}augmentTelemetry(t,r,n,i){return r_(this.conversation,"conversationPanel",tn(this.turn.request.message).length,t.tokens,n?.templateId,void 0,r,t.skillResolutions)}addExtensibilityInfoTelemetry(){return{extensibilityInfoJson:JSON.stringify({agent:this.agent.slug,outgoingReferences:this.turn.request.references?.map(t=>t.type)??[],incomingReferences:this.turn.response?.references?.map(t=>t.type)??[]})}}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(z0e,t.error.message):await r.steps.finish(z0e)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};var Z_=class{constructor(t,r,n,i,s,a){this.id=t;this.slug=r;this.name=n;this.description=i;this.avatarUrl=s;this.endpoint=a}static{o(this,"RemoteAgent")}async additionalSkills(t){return[]}turnProcessor(t){return new X_(this,t)}},pH=class extends Z_{static{o(this,"ExtensibilityPlatformAgent")}constructor(){super(0,"github","GitHub","Get answers grounded in web search, code search, and your enterprise's knowledge bases.","https://avatars.githubusercontent.com/u/9919?s=200&v=4","chat")}turnProcessor(t){return new X_(this,t)}};d();var dBt="github",fh=class{static{o(this,"RemoteAgentRegistry")}},gH=class extends fh{constructor(r){super();this.ctx=r;this._agents=void 0;this._lastFetchTime=0}static{o(this,"CapiRemoteAgentRegistry")}async agents(){return this.shouldRefreshAgents()&&(this._agents=await this.fetchAgents()),this._agents!=null?this._agents.slice():[]}shouldRefreshAgents(){return!this._agents||!this._lastFetchTime?!0:this.isLastFetchOlderOneHour()}isLastFetchOlderOneHour(){return Date.now()-this._lastFetchTime>36e5}async fetchAgents(){let r=await O3(this.ctx,"/agents");return r.ok?(this._lastFetchTime=Date.now(),this.parseAgents(await r.text())):(ni.error(this.ctx,"Failed to fetch agents from CAPI",{status:r.status,statusText:r.statusText}),[])}parseAgents(r){let n;try{n=JSON.parse(r).agents,Array.isArray(n)||ni.error(this.ctx,"Expected 'agents' to be an array")}catch(i){return r.includes("access denied")||ni.warn(this.ctx,"Invalid remote agent response:",r,i),[]}return n.filter(i=>i.slug!==dBt).map(i=>new Z_(i.id,i.slug,i.name,i.description,i.avatar_url))}};var Y0e=class{constructor(){this.slug="project";this.name="Project";this.description="Ask about your project"}static{o(this,"ProjectAgent")}async additionalSkills(t){return[v6]}};async function og(e){let t=[];t.push(new pH),t.push(...await e.get(fh).agents());let r=e.get(jt),n=await r.updateExPValuesAndAssignments();return r.ideChatEnableProjectContext(n)&&t.push(new Y0e),t}o(og,"getAgents");d();var UMe=nt(E0());async function K0e(e,t){let r=await e.get(In).checkAndUpdateStatus(e);if(r.status!=="OK")throw new UMe.ResponseError(Nr.NoCopilotToken,`Not authenticated: ${r.status}`)}o(K0e,"verifyAuthenticated");function ei(e){return async(t,r,n)=>(await K0e(t,r),e(t,r,n))}o(ei,"ensureAuthenticated");var mBt=I.Object({options:I.Optional(Dn)});async function hBt(e,t,r){return[(await og(e)).map(s=>({slug:s.slug,name:s.name,description:s.description,avatarUrl:s.avatarUrl})),null]}o(hBt,"handleConversationAgentsChecked");var qMe=ei(st(mBt,hBt));d();d();var AH=nt(E0());async function lg(e,t){return await e.get(Or).getTextDocumentWithValidation({uri:t})}o(lg,"getTextDocumentChecked");function pBt(e,t,r){let n=nn.createAndMarkAsIssued({languageId:String(t.languageId),requestedDocumentVersion:String(r),actualDocumentVersion:String(t.version)});return er(e,"getCompletions.docVersionMismatch",n)}o(pBt,"telemetryVersionMismatch");async function cg(e,t,r){let i=e.get(Or).getOpenTextDocumentWithValidation(t);await K0e(e,r);let s=await i;if(s.status==="notfound")throw new AH.ResponseError(Nr.InvalidParams,s.message);if(s.status==="invalid")throw e.get(Ki).setInactive(s.reason),new AH.ResponseError(Nr.CopilotNotAvailable,s.reason);if(t.version!==void 0&&s.document.version!==t.version)throw r.isCancellationRequested||(pBt(e,s.document,t.version),ff.debug(e,`Requested document version was ${t.version} but actual document version was ${s.document.version}.`)),new AH.ResponseError(Nr.ContentModified,"Document Version Mismatch");return s.document}o(cg,"getOpenTextDocumentChecked");var gBt=I.Union([I.Literal("keyboard"),I.Literal("toolbar")]),ABt=I.Object({turnId:I.String(),codeBlockIndex:I.Number(),source:gBt,copiedCharacters:I.Number(),totalCharacters:I.Number(),copiedText:I.String(),doc:I.Optional(sc),options:I.Optional(Dn),conversationSource:I.Optional(Nd)});async function yBt(e,t,r){let n;if(r.doc){let l=await lg(e,r.doc.uri);if(l.status==="notfound")return[null,{code:Nr.InvalidParams,message:l.message}];l.status==="valid"&&(n=l.document)}let i={totalCharacters:r.totalCharacters,copiedCharacters:r.copiedCharacters};n&&r.doc?.position&&(i={...i,currentLine:r.doc.position.line});let s=Ny(r.conversationSource),a=await Xa(e,r.turnId,e.get(Hi).findByTurnId(r.turnId)?.id??"",{languageId:n?.languageId??""});return of(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:s},i,`${Xc(s)}.acceptedCopy`,a),["OK",null]}o(yBt,"handleConversationCodeCopyChecked");var WMe=ei(st(ABt,yBt));d();var CBt=I.Union([I.Literal("keyboard"),I.Literal("toolbar"),I.Literal("diff")]),EBt=I.Object({turnId:I.String(),source:CBt,codeBlockIndex:I.Number(),acceptedLength:I.Optional(I.Number()),totalCharacters:I.Number(),newFile:I.Optional(I.Boolean()),doc:I.Optional(sc),options:I.Optional(Dn),conversationSource:I.Optional(Nd)});async function xBt(e,t,r){let n;if(r.doc){let l=await lg(e,r.doc.uri);if(l.status==="notfound")return[null,{code:Nr.InvalidParams,message:l.message}];l.status==="valid"&&(n=l.document)}let i={totalCharacters:r.totalCharacters,acceptedLength:r.acceptedLength??r.totalCharacters};n&&r.doc?.position&&(i={...i,insertionOffset:n.offsetAt(r.doc.position),currentLine:r.doc.position.line});let s=Ny(r.conversationSource),a=await Xa(e,r.turnId,e.get(Hi).findByTurnId(r.turnId)?.id??"",{languageId:n?.languageId??""});return of(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:s,compType:r.acceptedLength&&r.acceptedLength<r.totalCharacters?"partial":"full"},i,`${Xc(s)}.acceptedInsert`,a),["OK",null]}o(xBt,"handleConversationCodeInsertChecked");var GMe=ei(st(EBt,xBt));d();d();d();d();d();var HMe="```",ek=String.raw`<!-- (?<mode>[\w-]+) lines? (?<start>\d+)(?: to (?<end>\d+))? -->`,bBt=String.raw`${HMe}[\w]*?\n(?<codeblock>[\s\S]*?)\n${HMe}`,vBt=new RegExp(ek+`
`+bBt,"gs"),J0e=["replace","delete"];function X0e(e,t){let r=e.matchAll(vBt),n=Array.from(r),i=[];for(let s of n){let a=s.groups;if(!a||!J0e.includes(a.mode))continue;let l=a.start?parseInt(a.start)-1:-1,c=a.end?parseInt(a.end)-1:l,f=a.codeblock.split(`
`),m=f[0].match(/^\s*/)?.[0]??"";f.forEach((E,x)=>{f[x]=E.slice(m.length)});let h={mode:a.mode,codeblock:f.join(`
`),start:l,end:c},p=Z0e([h],t);if(!p)continue;let A={text:p,uri:t.uri};i.push({...h,updatedDocument:A})}return i}o(X0e,"extractEditsFromTaggedCodeblocks");function Z0e(e,t){if(e.length===0)return;e.sort((n,i)=>n.start!==i.start?i.start-n.start:i.end-n.end);let r=t.getText().split(`
`);for(let n of e){let i=n.start,s=n.end,a=n.mode,l=n.codeblock.split(`
`);if(!(i<0||s<0||s<i)&&!(i>=r.length||s>=r.length)){if(a==="delete")r.splice(i,s-i+1);else if(a==="replace"){let c=r[i].match(/^\s*/)?.[0]??"";l.forEach((u,f)=>{l[f]=c+u}),r.splice(i,s-i+1,...l)}}}return r.join(`
`)}o(Z0e,"applyEditsToDocument");d();d();var ece=new Map([["copilot_semanticSearch","semantic_search"],["copilot_readFile","read_file"],["copilot_getErrors","get_errors"],["copilot_runInTerminal","run_in_terminal"],["copilot_insertEdit","insert_edit_into_file"],["copilot_createFile","create_file"],["copilot_replaceString","replace_string_in_file"]]),IBt=new Map;for(let[e,t]of ece)IBt.set(t,e);function VMe(e){return ece.get(e)??e}o(VMe,"getToolName");function jMe(e){return ece.forEach((t,r)=>{let n=new RegExp(`\\b${r}\\b`,"g");e=e.replace(n,t)}),e}o(jMe,"mapContributedToolNamesInString");d();d();var yA=class{static{o(this,"LanguageModelTextPart")}constructor(t){this.value=t}},D6=class{static{o(this,"LanguageModelPromptTsxPart")}constructor(t){this.value=t}},CA=class{static{o(this,"LanguageModelToolResult")}constructor(t){this.content=t}},$Me=I.Object({content:I.Array(I.Union([I.Object({value:I.String()}),I.Object({value:I.Unknown()})]))});function zMe(e){return`[${Fs(e)}](${e})`}o(zMe,"formatUriForFileWidget");function tce(e){let t=TBt(e);if(!t)throw new Error(`Invalid input path: ${e}. Be sure to use an absolute path.`);return t}o(tce,"resolvePathInput");function TBt(e){if(e.startsWith("/")||wBt()&&_Bt(e))return M0(e);if(/\w[\w\d+.-]*:\S/.test(e))try{return h5(e).toString()}catch{return}}o(TBt,"resolveFsUri");function wBt(){return process.platform==="win32"}o(wBt,"isWindows");function SBt(e){return e>=65&&e<=90||e>=97&&e<=122}o(SBt,"isWindowsDriveLetter");function _Bt(e){return SBt(e.charCodeAt(0))&&e.charCodeAt(1)===58}o(_Bt,"hasDriveLetter");function YMe(e){let t="";return e.length>0&&(t=e.map(r=>r instanceof yA?r.value:(r instanceof D6,"")).join(`
`)),t.trim()===""?"(empty)":t}o(YMe,"parseToolResultToString");var yH=class{constructor(t,r){this._toolsService=t;this.props=r;this.toolCalls=[]}static{o(this,"EditAgentPrompt")}render(){let t=[{role:"system",content:this.buildSystemMessage().join(`
`)},{role:"system",content:this.buildDefaultAgentPrompt().join(`
`)},{role:"user",content:this.buildUserPrompt(this.props.userMessage).join(`
`)},...this.toolCalls];return this.toolCalls.length&&t.push({role:"user",content:"Above is the result of calling one or more tools. The user cannot see the results, so you should explain them to the user if referencing them in your answer. Continue from where you left off without repeating yourself."}),t}addToolCallModelResponse(t,r){this.toolCalls.push({role:"assistant",content:t,tool_calls:r})}addToolCallResult(t,r){let n=YMe(t);this.toolCalls.push({role:"tool",content:n,tool_call_id:r})}buildSystemMessage(){let t=[];return t.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal."),t}buildDefaultAgentPrompt(){let t=this._toolsService.getTool("get_errors")!==void 0,r=this._toolsService.getTool("run_in_terminal")!==void 0,n=this._toolsService.getTool("replace_string_in_file")!==void 0,i=[];return i.push("<instructions>"),i.push("You are a highly sophisticated automated coding agent with expert-level knowledge across many different programming languages and frameworks."),i.push("The user will ask a question, or ask you to perform a task, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question."),i.push("If you can infer the project type (languages, frameworks, and libraries) from the user's query or the context that you have, make sure to keep them in mind when making changes."),i.push("If the user wants you to implement a feature and they have not specified the files to edit, first break down the user's request into smaller concepts and think about the kinds of files you need to grasp each concept."),i.push("If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have. It's YOUR RESPONSIBILITY to make sure that you have done all you can to collect necessary context."),i.push("Prefer using the semantic_search tool to search for context unless you know the exact string or filename pattern you're searching for."),i.push("Don't make assumptions about the situation-gather context first, then perform the task or answer the question."),i.push("Think creatively and explore the workspace in order to make a complete fix."),i.push("Don't repeat yourself after a tool call, pick up where you left off."),i.push(`NEVER print out a codeblock with file changes unless the user asked for it. Use the insert_edit_into_file ${n&&"replace_string_in_file"} tool instead.`),r&&i.push("NEVER print out a codeblock with a terminal command to run unless the user asked for it. Use the run_in_terminal tool instead."),i.push("You don't need to read a file if it's already provided in context."),i.push("</instructions>"),i.push("<toolUseInstructions>"),i.push("When using a tool, follow the json schema very carefully and make sure to include ALL required properties."),i.push("Always output valid JSON when using a tool."),i.push("If a tool exists to do a task, use the tool instead of asking the user to manually take an action."),i.push("If you say that you will take an action, then go ahead and use the tool to do it. No need to ask permission."),i.push("Never use multi_tool_use.parallel or any tool that does not exist. Use tools using the proper procedure, DO NOT write out a json codeblock with the tool inputs."),i.push("Never say the name of a tool to a user."),i.push("If you think running multiple tools can answer the user's question, prefer calling them in parallel whenever possible, but do not call semantic_search in parallel."),i.push("If semantic_search returns the full contents of the text files in the workspace, you have all the workspace context."),r&&i.push("Don't call the run_in_terminal tool multiple times in parallel. Instead, run one command and wait for the output before running the next command."),i.push("</toolUseInstructions>"),i.push("<editFileInstructions>"),n?(i.push("Before you edit an existing file, make sure you either already have it in the provided context, or read it with the read_file tool, so that you can make proper changes."),i.push("Use the replace_string_in_file tool to replace a string in a file, but only if you are sure that the string is unique enough to not cause any issues. You can use this tool multiple times per file."),i.push("Use the insert_edit_into_file tool to insert code into a file."),i.push("When editing files, group your changes by file."),i.push("NEVER show the changes to the user, just call the tool, and the edits will be applied and shown to the user."),i.push("NEVER print a codeblock that represents a change to a file, use insert_edit_into_file or replace_string_in_file instead."),i.push("For each file, give a short description of what needs to be changed, then use the replace_string_in_file or insert_edit_into_file tools. You can use any tool multiple times in a response, and you can keep writing text after using a tool.")):(i.push("Don't try to edit an existing file without reading it first, so you can make changes properly."),i.push("Use the insert_edit_into_file tool to edit files. When editing files, group your changes by file."),i.push("NEVER show the changes to the user, just call the tool, and the edits will be applied and shown to the user."),i.push("NEVER print a codeblock that represents a change to a file, use insert_edit_into_file instead."),i.push("For each file, give a short description of what needs to be changed, then use the insert_edit_into_file tool. You can use any tool multiple times in a response, and you can keep writing text after using a tool.")),i.push(`Follow best practices when editing files. If a popular external library exists to solve a problem, use it and properly install the package e.g. ${r?'with "npm install" or ':""}creating a "requirements.txt".`),t&&i.push("After editing a file, you MUST call get_errors to validate the change. Fix the errors if they are relevant to your change or the prompt, and remember to validate that they were actually fixed."),i.push("The insert_edit_into_file tool is very smart and can understand how to apply your edits to the user's files, you just need to provide minimal hints."),i.push("When you use the insert_edit_into_file tool, avoid repeating existing code, instead use comments to represent regions of unchanged code. The tool prefers that you are as concise as possible. For example:"),i.push(`// ${wl}`),i.push("changed code"),i.push(`// ${wl}`),i.push("changed code"),i.push(`// ${wl}`),i.push(""),i.push("Here is an example of how you should format an edit to an existing Person class:"),i.push("class Person {"),i.push(`	// ${wl}`),i.push("	age: number;"),i.push(`	// ${wl}`),i.push("	getAge() {"),i.push("		return this.age;"),i.push("	}"),i.push("}"),i.push("</editFileInstructions>"),i}buildUserPrompt(t){let r=this._toolsService.getTool("replace_string_in_file")!==void 0,n=[];return n.push("<context>"),n.push(`${this.getCurrentDate()}`),n.push(`${this.getUserOS()}`),n.push(`${this.getWorkspaceFoldersHint()}`),n.push("</context>"),n.push("<reminder>"),n.push(`When using the insert_edit_into_file tool, avoid repeating existing code, instead use a line comment with \`${wl}\` to represent regions of unchanged code.`),r&&n.push("When using the replace_string_in_file tool, include 3-5 lines of unchanged code before and after the string you want to replace, to make it unambiguous which part of the file should be edited."),n.push("</reminder>"),n.push("<prompt>"),n.push(t),n.push("</prompt>"),n}getWorkspaceFoldersHint(){return this.props.workspaceFolder?`I am working in the workspace folder:
 -${this.props.workspaceFolder}`:"There is no workspace currently open."}getCurrentDate(){return`The current date is ${new Date().toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}.`}getUserOS(){let t=process.platform;return`My current OS is: ${t==="win32"?"Windows":t==="darwin"?"macOS":t==="linux"?"Linux":"Unknown"}`}};d();d();d();var CH=class{constructor(){this.type=1}static{o(this,"ReadFileTool")}static{this.toolName="read_file"}async invoke(t,r,n){try{let{filePath:i}=r.input,s=tce(i);if(!s)throw new Error(`Invalid file path: ${i}`);let l=await t.ctx.get(qn).readFile(s);if(l.status==="valid")return new CA([new yA(`\`\`\`\`
// filepath: ${i}
${l.document.getText()}
\`\`\`\``)]);throw new Error("File is outside of the workspace and can't be read")}catch(i){let s=i instanceof Error?i.message:"An unknown error occurred";return new CA([new yA(s)])}}prepareInvocation(t,r){let{input:n}=t;if(!n.filePath.length)return{progressMessage:"Running read_file tool"};let i=tce(n.filePath);return{progressMessage:`Reading ${zMe(i)}`}}static toReadFileParams(t){if(typeof t.filePath!="string")throw new Error("filePath must be a string");return{filePath:t.filePath}}};function XMe(){ug.registerTool("read_file",`Read the contents of a file.

You must specify the line range you're interested in, and if the file is larger, you will be given an outline of the rest of the file. If the file contents returned are insufficient for your task, you may call this tool again to retrieve more content.`,I.Object({filePath:I.String({description:"The absolute path of the file to read."})}),new CH)}o(XMe,"registerAllTools");var rce=class{constructor(){this.registeredTools=[];this.toolMap=new Map}static{o(this,"ToolsService")}registerTool(t,r,n,i){this.registeredTools.push({type:i.type,name:t,description:r,inputSchema:n,tags:[]}),this.toolMap.set(t,i)}get tools(){return this.registeredTools.map(t=>({...t,name:VMe(t.name),description:jMe(t.description),inputSchema:t.inputSchema}))}prepareInvocation(t,r,n){let i=this.toolMap.get(t);if(!i)throw new Error(`Tool function for ${t} is undefined`);return i.prepareInvocation?.(r,n)??{}}async invokeTool(t,r,n,i){let s=this.toolMap.get(r);if(!s)throw new Error(`Tool function for ${r} is undefined`);if(s.type===2){let a={name:r.toString(),input:n.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:n.roundId,toolCallId:n.toolCallId};try{return await t.ctx.get(Qy).invokeClientTool(t,a)}catch(l){throw new Error(`Failed to invoke client tool ${r}: ${String(l)}`)}}else return await s.invoke?.(t,n,i)??new CA([])}getTool(t){return this.tools.find(r=>r.name===t)}getEnabledTools(t,r){return[...this.tools]}},ug=new rce;XMe();var kBt=15,EH=class e{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.modelConfiguration=n;this.toolCallRounds=[];this.conversationProgress=t.ctx.get(cs),this.conversation=t.conversation,this.turn=t.turn,this.prompt=new yH(ug,{userMessage:tn(this.turnContext.turn.request.message),workspaceFolder:this.turnContext.turn.workspaceFolder}),this.requestId=xr()}static{o(this,"ToolCallingLoop")}static{this.NextToolCallId=Date.now()}async run(t,r){let n=0,i;for(;;){if(r.isCancellationRequested||i&&n++>=kBt)return;let s=await this.runOne(n,r);if(i={...s},this.toolCallRounds.push(s.round),!s.round.toolCalls.length||s.response.type!=="success"&&s.response.type!=="tool_calls")return}}async runOne(t,r){let n=this.prompt.render(),i=[],s="",a=new Yy((u,f,m,h)=>{let p=u.trim().match(ek)!==null;this.conversationProgress.report(this.conversation,this.turn,{annotations:f,references:m,hideText:p,notifications:h.map(A=>({severity:"warning",message:A.message})),editAgentRounds:[{roundId:t,reply:u}]}),this.turn.response?this.turn.response.message=y6(this.turn.response.message,u):this.turn.response={message:u,type:"model"},this.turn.annotations.push(...f??[]),s+=u}),l=await this.turnContext.ctx.get(jt).updateExPValuesAndAssignments();l.properties.requestId=this.requestId;let c=await this.chatFetcher.fetchResponse({messages:n,modelConfiguration:this.modelConfiguration,uiKind:"conversationPanel",tools:this.getAvailableTools(),intentParams:{intent:!0},llmInteraction:this.turnContext.toLlmInteraction()},r,l,async(u,f)=>a.isFinishedAfter(u,f));if(c.type==="success")return{response:c,round:{response:c.value,toolInputRetry:0,toolCalls:i}};if(c.type==="tool_calls"){let u=c.toolCalls.map(f=>{if(!f.id){let m=`cls_${e.NextToolCallId++}`;f.id=m}return f});this.prompt.addToolCallModelResponse(s,u);for(let f of u){if(!f.id)throw new Error(`Tool call id is required but was not provided for function ${f.function.name}`);let m=ug.getTool(f.function.name);if(m){let h=Ly(f),p=ug.prepareInvocation(f.function.name,{input:h},r);await this.turnContext.agentToolCalls.start(t,f.id,m.name,p.progressMessage||`Running ${m.name} tool`);let A=await ug.invokeTool(this.turnContext,m.name,{toolInvocationToken:f.id,input:h,roundId:t,toolCallId:f.id},r);this.prompt.addToolCallResult(A.content,f.id),await this.turnContext.agentToolCalls.finish(t,f.id)}}return{response:c,round:{response:s,toolInputRetry:0,toolCalls:u.map(f=>({id:f.id,name:f.function.name,arguments:JSON.stringify(f.function.arguments)}))}}}return{response:c,round:{response:"",toolInputRetry:0,toolCalls:i}}}getAvailableTools(){return ug.getEnabledTools().map(t=>({type:"function",function:{name:t.name,description:t.description,parameters:t.inputSchema}}))}};var xH=class{constructor(t,r){this.turnContext=t;this.chatFetcher=r;this.conversationProgress=t.ctx.get(cs),this.chatFetcher=this.chatFetcher??new Ms(t.ctx),this.conversation=t.conversation,this.turn=t.turn}static{o(this,"AgenticTurnProcessor")}async process(t,r,n,i,s){try{await this.processWithModelAndToolCall(t,r,this.turnContext,n,i,s)}catch(a){Jr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModelAndToolCall(t,r,n,i,s,a){if(await this.conversationProgress.begin(this.conversation,this.turn,t),r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let l=await ih.getModelConfiguration(this.turnContext.ctx,"edits",a);await new EH(this.turnContext,this.chatFetcher,l).run(t,r),await this.endProgress({})}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var nce="collect-context",ice="generate-response",bH=class{constructor(t,r,n){this.turnContext=t;this.strategy=r;this.chatFetcher=n;this.conversationProgress=t.ctx.get(cs),this.chatFetcher=this.chatFetcher??new Ms(t.ctx),this.postProcessor=new R6(t,this.chatFetcher,r.computeSuggestions),this.conversation=t.conversation,this.turn=t.turn}static{o(this,"ModelTurnProcessor")}async process(t,r,n,i,s){try{await this.processWithModel(t,r,this.turnContext,n,i,s)}catch(a){Jr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModel(t,r,n,i,s,a){await this.conversationProgress.begin(this.conversation,this.turn,t);let l=await Xa(this.turnContext.ctx,this.turn.id,this.conversation.id,{languageId:s?.languageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let c=H_().find(h=>h.id===this.turn.template?.templateId);if(c?.response){await this.handleTemplateResponse(c,this.turn.template.userQuestion,r);return}let u=(await og(this.turnContext.ctx)).find(h=>h.slug===this.turn.agent?.agentSlug);if(u){let h=await this.checkAgentPreconditions(u);if(h){await this.endProgress(h);return}}await n.steps.start(nce,"Collecting context"),await this.collectContext(n,r,l,this.strategy.uiKind,c,u);let f=a?(await this.turnContext.ctx.get(Zn).getBestChatModelConfig([a])).uiName:void 0,m=await this.strategy.buildConversationPrompt(n,s?.languageId??"",void 0,f);if(!m)await n.steps.error(nce,"Failed to collect context"),await this.endTurnWithResponse(this.strategy.earlyReturnResponse,"error");else{await n.steps.finish(nce),await n.steps.start(ice,"Generating response");let h=this.augmentTelemetry(m,l,c,i,s);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let p=await this.fetchConversationResponse(m.messages,r,l.extendedBy({messageSource:"chat.user"},{promptTokenLen:m.tokens}),h,s,a),A=await this.strategy.processResponse(this.turn);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(p,n),await this.endProgress({error:p.error,followUp:p.followup,suggestedTitle:p.suggestedTitle,skillResolutions:m.skillResolutions,updatedDocuments:A}))}}async checkAgentPreconditions(t){try{let r=t.checkPreconditions?await t.checkPreconditions(this.turnContext.ctx,this.turn):void 0;if(r&&r.type==="authorizationRequired")return{unauthorized:{...r,agentName:t.name,agentSlug:t.slug}}}catch(r){Jr.error(this.turnContext.ctx,`Error checking preconditions for agent ${t.slug}`,r);let n=r instanceof Error?r.message:String(r);return this.turn.status="error",this.turn.response={message:n,type:"meta"},{error:{message:n,responseIsIncomplete:!0}}}}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async handleTemplateResponse(t,r,n){if(!t.response)return;let i=await t.response(this.turnContext,r,n);this.turn.response={type:"meta",message:i.message},this.turn.status=i.error?.responseIsFiltered?"filtered":i.error?.responseIsIncomplete?"error":"success",i.error?.responseIsFiltered||i.error?.responseIsIncomplete?(await this.conversationProgress.report(this.conversation,this.turn,{reply:"Sure, I can definitely do that!",annotations:i.annotations,notifications:i.notifications,references:i.references}),await this.turnContext.steps.finishAll(),await this.endProgress({error:{message:i.message,code:i.error?.code||0,responseIsIncomplete:i.error?.responseIsIncomplete,responseIsFiltered:i.error?.responseIsFiltered}})):(await this.conversationProgress.report(this.conversation,this.turn,{reply:i.message,annotations:i.annotations,notifications:i.notifications,references:i.references,confirmationRequest:i.confirmationRequest}),await this.endProgress())}async collectContext(t,r,n,i,s,a){let c=await new rH(this.turnContext.ctx,this.chatFetcher).collectContext(t,r,n,i,s,a);return this.turn.skills=c.skillIds.map(u=>({skillId:u})),c}async fetchConversationResponse(t,r,n,i,s,a){r.onCancellationRequested(async()=>{await this.cancelProgress()});let l="",c=0,u=new Yy((p,A,E,x)=>{let b=p.trim().match(ek)!==null;if(this.conversationProgress.report(this.conversation,this.turn,{reply:p,annotations:A,references:E,hideText:b,notifications:x.map(v=>({severity:"warning",message:v.message}))}),this.turn.response?this.turn.response.message=y6(this.turn.response.message,p):this.turn.response={message:p,type:"model"},this.turn.annotations.push(...A??[]),l+=p,this.strategy.currentDocument){let v=this.strategy.extractEditsFromResponse(l,this.strategy.currentDocument);v&&v.length>0&&(l="",this.conversationProgress.report(this.conversation,this.turn,{codeEdits:v}),c+=v.length)}}),f=await ih.getModelConfiguration(this.turnContext.ctx,"user",a);t=ih.transformMessages(t,f.modelFamily);let m={modelConfiguration:f,messages:t,uiKind:this.strategy.uiKind,intentParams:{intent:!0,intent_threshold:.7,intent_content:tn(this.turn.request.message)},llmInteraction:this.turnContext.toLlmInteraction()},h=await this.chatFetcher.fetchResponse(m,r,n,async(p,A)=>u.isFinishedAfter(p,A));return i=i.extendedBy(void 0,{numCodeEdits:c}),await this.postProcessor.postProcess(h,r,u.appliedText,n,i,tn(this.turn.request.message),this.strategy.uiKind,s)}augmentTelemetry(t,r,n,i,s){let a;return i?(this.turn.request.type="follow-up",xPe(this.turnContext.ctx,this.conversation,this.strategy.uiKind,tn(this.turn.request.message),t.tokens,i.type,i.id,s,r),a=r_(this.conversation,this.strategy.uiKind,tn(this.turn.request.message).length,t.tokens,i.type,i.id,r,t.skillResolutions)):a=r_(this.conversation,this.strategy.uiKind,tn(this.turn.request.message).length,t.tokens,n?.id,void 0,r,t.skillResolutions),a}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(ice,t.error.message):await r.steps.finish(ice)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var vH=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Oops, an error has occurred. Please try again";this.uiKind="conversationPanel";this.computeSuggestions=!0}static{o(this,"PanelTurnProcessorStrategy")}async processResponse(){return[]}async buildConversationPrompt(t,r,n,i){let s="user",a=await t.ctx.get(Zn).getBestChatModelConfig(Zo(s)),l={promptType:s,modelConfiguration:a,languageId:r,userSelectedModelName:i};return await this.ctx.get(e0).toPrompt(t,l)}extractEditsFromResponse(t,r){return[]}},IH=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Please open a file and select code for the inline chat to be available";this.uiKind="conversationInline";this.computeSuggestions=!1}static{o(this,"InlineTurnProcessorStrategy")}async buildConversationPrompt(t,r,n){let i=await this.getCurrentEditorSkill(t);if(!i)return;let s=await this.getDocumentIfValid(i.uri);if(!s)return;let a=n?.producesCodeEdits===!1?"user":"inline",l=await t.ctx.get(Zn).getBestChatModelConfig(Zo(a)),c={promptType:a,modelConfiguration:l,languageId:r};return c.promptType==="inline"&&(this.currentDocument=s),await this.ctx.get(e0).toPrompt(t,c)}async processResponse(t){let r=[],n=tn(t.response?.message??"");if(n&&t.status==="success"&&this.currentDocument){let i=await this.processInlineResponse(n,this.currentDocument);i&&r.push(i)}return r}async getCurrentEditorSkill(t){let r=await t.skillResolver.resolve(w0);if(r)return r}async getDocumentIfValid(t){let r=await this.ctx.get(qn).readFile(t);if(r.status==="valid")return r.document}async processInlineResponse(t,r){let i=X0e(t,r).filter(a=>J0e.includes(a.mode)),s=Z0e(i,r);if(s)return await this.ctx.get(qa).documentDiff({original:r.getText(),updated:s}),{uri:r.uri,text:s}}extractEditsFromResponse(t,r){return X0e(t,r)}};d();var tOe=nt(require("node:timers/promises"));d();var ZMe=nt(E0()),eOe=nt(dp());var lc=class{constructor(t,r,n){this.ctx=t;this.skillId=r;this.requestType=new ZMe.ProtocolRequestType("conversation/context");this.typeCheck=Ns.Compile(n)}static{o(this,"AgentSkillResolver")}async resolveSkill(t){let r=this.ctx.get($r).connection,n={conversationId:t.conversation.id,turnId:t.turn.id,skillId:this.skillId},i;try{let s=await r.sendRequest(this.requestType,n),[a,l]=s;if(l){let c=new eOe.ResponseError(l.code,l.message,l.data);Jr.error(this.ctx,`ResponseError while resolving skill ${this.skillId}`,c);return}i=a}catch(s){Jr.error(this.ctx,`Error while resolving skill ${this.skillId}`,s);return}if(i!=null){if(!this.typeCheck.Check(i))throw new oc(this.typeCheck.Errors(i));return i}}};var oce=class{constructor(t,r,n="",i="",s=[],a=[]){this.workDoneToken=t;this.chunks=r;this.followUp=n;this.suggestedTitle=i;this.skills=s;this.references=a}static{o(this,"SyntheticTurn")}},fg=class{constructor(){this.turns=[]}static{o(this,"SyntheticTurns")}add(t,r,n="",i="",s=[],a=[]){this.turns.push(new oce(t,r,n,i,s,a))}get(t){return this.turns.find(r=>r.workDoneToken===t)}},TH=class{constructor(t){this.turnContext=t;this.conversationProgress=t.ctx.get(cs)}static{o(this,"SyntheticTurnProcessor")}async process(t,r){try{let n=this.turnContext.ctx.get(fg)?.get(t);await this.processWithSyntheticTurns(n,t,r)}catch(n){Jr.error(this.turnContext.ctx,`Error processing turn ${this.turnContext.turn.id}`,n);let i=n.message;this.turnContext.turn.status="error",this.turnContext.turn.response={message:i,type:"meta"},await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{error:{message:i,responseIsIncomplete:!0}})}}async processWithSyntheticTurns(t,r,n){await this.conversationProgress.begin(this.turnContext.conversation,this.turnContext.turn,r),await this.resolveSyntheticSkill(t,n),await this.processSyntheticChunks(t,n),await this.endSyntheticProgress(t,n),this.turnContext.turn.response={type:"model",message:t.chunks.join("")},this.turnContext.turn.status=n.isCancellationRequested?"cancelled":"success"}async resolveSyntheticSkill(t,r){let n=this.turnContext.ctx.get(Hi).getCapabilities(this.turnContext.conversation.id),i=t.skills.filter(s=>n.skills.includes(s));for(let s of i){let l=await new lc(this.turnContext.ctx,s,I.Object({value:I.String()})).resolveSkill(this.turnContext);l&&!r.isCancellationRequested&&await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:l.value})}}async processSyntheticChunks(t,r){for(let n of t.chunks)r.isCancellationRequested||(await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:n}),await tOe.setTimeout(1))}async endSyntheticProgress(t,r){r.isCancellationRequested?await this.conversationProgress.cancel(this.turnContext.conversation,this.turnContext.turn):await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{followUp:{message:t.followUp,type:"followup",id:xr()},suggestedTitle:t.suggestedTitle,updatedDocuments:this.turnContext.conversation.source==="inline"?[{uri:"fakeUpdatedDoc.ts",text:"fake"}]:void 0})}};var EA=class{static{o(this,"TurnProcessorFactory")}async createProcessor(t,r,n){if(t.ctx.get(fg)?.get(r)!==void 0)return new TH(t);let a=(await og(t.ctx)).find(c=>c.slug===t.turn.agent?.agentSlug);if(a?.turnProcessor)return a.turnProcessor(t);let l;return t.conversation.source==="inline"?l=new IH(t.ctx):l=new vH(t.ctx),t.turn.chatMode==="Agent"?new xH(t):(n!==void 0&&(l.computeSuggestions=n),new bH(t,l))}};d();d();var BBt=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),nu=class{constructor(t){this.tokens=[];this.handlers=[];this._isCancelled=!1;this.onCancellationRequested=o((t,r)=>this._isCancelled?BBt(t,r):(this.handlers.push(t.bind(r)),{dispose:o(()=>{},"dispose")}),"onCancellationRequested");this.tokens=t,this._isCancelled=t.some(r=>r.isCancellationRequested),t.forEach(r=>{r.onCancellationRequested(n=>this.cancel(n))})}static{o(this,"MergedToken")}cancel(t){this._isCancelled||(this._isCancelled=!0,this.handlers.forEach(r=>r(t)))}get isCancellationRequested(){return this.tokens.some(t=>t.isCancellationRequested)}};var cc=class{constructor(){this.tokens=new Bn(250)}static{o(this,"ProgressTokens")}add(t,r){let n=new Jn.CancellationTokenSource,i=new nu([r,n.token]);return this.tokens.set(t.toString(),n),i}cancel(t){let r=this.tokens.get(t.toString());r&&(r.cancel(),this.tokens.delete(t.toString()))}};var RBt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),turns:I.Array(ULe,{minItems:1}),options:I.Optional(Dn),capabilities:I.Object({allSkills:I.Optional(I.Boolean()),skills:I.Array(I.String())}),doc:I.Optional(sc),computeSuggestions:I.Optional(I.Boolean()),references:I.Optional(I.Array(A6)),source:I.Optional(Nd),workspaceFolder:I.Optional(I.String()),ignoredSkills:I.Optional(I.Array(I.String())),userLanguage:I.Optional(I.String()),model:I.Optional(I.String()),chatMode:I.Optional(uG)});async function DBt(e,t,r){let n;if(r.doc){let f=await lg(e,r.doc.uri);if(f.status==="notfound")return[null,{code:Nr.InvalidParams,message:f.message}];f.status==="valid"&&(n=f.document)}r.capabilities.allSkills&&(r.capabilities.skills=e.get(Wa).getDescriptors().map(f=>f.id));let i=r.source??"panel",s=await e.get(Hi).create(r.capabilities,i,r.userLanguage);await PBt(e,s,r);let a=s.turns[s.turns.length-1],l=e.get(cc).add(r.workDoneToken,t),c=new B6(e,s,a,l);return await(await e.get(EA).createProcessor(c,r.workDoneToken,r.computeSuggestions)).process(r.workDoneToken,l,void 0,n,r.model),[{conversationId:s.id,turnId:a.id,agentSlug:a.agent?.agentSlug,modelFamily:r.model},null]}o(DBt,"handleConversationCreateChecked");async function PBt(e,t,r){for(let n of r.turns){let i=cG(n.request),s=new x6({message:i,type:"user"});n.response&&(s.response={message:n.response,type:"model"}),n.agentSlug&&(s.agent={agentSlug:n.agentSlug}),s.chatMode=xG(r.chatMode),await e.get(Hi).addTurn(t.id,s,r.references,r.workspaceFolder,r.ignoredSkills)}}o(PBt,"addTurns");var rOe=ei(st(RBt,DBt));d();var FBt=I.Object({conversationId:I.String(),options:I.Optional(Dn)});async function NBt(e,t,r){return e.get(Hi).destroy(r.conversationId),["OK",null]}o(NBt,"handleConversationDestroyChecked");var nOe=ei(st(FBt,NBt));d();var LBt=I.Object({options:I.Optional(Dn)});async function QBt(e,t,r){return[{path:e.get(Xl).directory},null]}o(QBt,"handleConversationPersistenceChecked");var iOe=ei(st(LBt,QBt));d();d();var sOe=nt(require("node:events"));var sce=class{static{o(this,"TokenPreconditionCheck")}async check(t){let r=await t.get(In).getAuthRecord(),n=t.get(Hs),i=n.fallbackAppId();return r&&r.githubAppId&&r.githubAppId!==i?{type:"token",status:"ok"}:{type:"token",status:"failed",githubAppId:n.githubAppId}}},ace=class{static{o(this,"ChatEnabledPreconditionCheck")}async check(t){return{type:"chat_enabled",status:(await t.get(qr).getToken()).envelope.chat_enabled?"ok":"failed"}}},MBt=[new sce,new ace],oOe="onPreconditionsChanged",Md=class{constructor(t,r=MBt){this.ctx=t;this.checks=r;this.emitter=new sOe.default;za(t,async()=>{await this.check()})}static{o(this,"PreconditionsCheck")}check(t){return t&&(this.result=void 0),this.result===void 0&&(this.result=this.requestChecks()),this.result}async requestChecks(){let t=[];this.checks.length>0&&(t=await Promise.all(this.checks.map(i=>i.check(this.ctx))));let r=t.every(i=>i.status==="ok")?"ok":"failed",n={results:t,status:r};return this.emit(n),n}onChange(t){this.emitter.on(oOe,t)}emit(t){this.emitter.emit(oOe,t)}};var OBt=I.Object({options:I.Optional(Dn),forceCheck:I.Optional(I.Boolean())});async function UBt(e,t,r){let n=r.forceCheck??!1;return[await e.get(Md).check(n),null]}o(UBt,"handleConversationPreconditionsChecked");var aOe=ei(st(OBt,UBt));d();var qBt=I.Object({turnId:I.String(),rating:I.Number(),doc:I.Optional(sc),options:I.Optional(Dn),source:I.Optional(Nd)});async function WBt(e,t,r){let n;if(r.doc){let l=await lg(e,r.doc.uri);if(l.status==="notfound")return[null,{code:Nr.InvalidParams,message:l.message}];l.status==="valid"&&(n=l.document)}let i=Ny(r.source),s="unrated";r.rating>0?s="positive":r.rating<0&&(s="negative");let a=await Xa(e,r.turnId,e.get(Hi).findByTurnId(r.turnId)?.id??"",{languageId:n?.languageId??""});return of(e,n,{rating:s,messageId:r.turnId,conversationId:e.get(Hi).findByTurnId(r.turnId)?.id??"",uiKind:i},{},`${Xc(i)}.messageRating`,a),["OK",null]}o(WBt,"handleConversationRatingChecked");var lOe=ei(st(qBt,WBt));d();var GBt=I.Object({tools:I.Array(qLe)});async function HBt(e,t,r){return r.tools.forEach(n=>{ug.registerTool(n.name,n.description,n.inputSchema,{type:2})}),["OK",null]}o(HBt,"conversationRegisterToolsChecked");var cOe=ei(st(GBt,HBt));d();var VBt=I.Object({options:I.Optional(Dn)});async function jBt(e,t,r){return[C0e(e).map(i=>({id:i.id,description:i.description,shortDescription:i.shortDescription,scopes:i.scopes})),null]}o(jBt,"handleConversationTemplatesChecked");var uOe=ei(st(VBt,jBt));d();var $Bt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),conversationId:I.String(),message:Rle,followUp:I.Optional(I.Object({id:I.String(),type:I.String()})),options:I.Optional(Dn),doc:I.Optional(sc),computeSuggestions:I.Optional(I.Boolean()),references:I.Optional(I.Array(A6)),workspaceFolder:I.Optional(I.String()),ignoredSkills:I.Optional(I.Array(I.String())),confirmationResponse:SPe,model:I.Optional(I.String()),chatMode:I.Optional(uG)});async function zBt(e,t,r){let n;if(r.doc){let m=await lg(e,r.doc.uri);if(m.status==="notfound")return[null,{code:Nr.InvalidParams,message:m.message}];m.status==="valid"&&(n=m.document)}let i=e.get(Hi),s=i.get(r.conversationId),a=cG(r.message),l=new x6({message:a,type:"user"});l.chatMode=xG(r.chatMode),l=await i.addTurn(s.id,l,r.references,r.workspaceFolder,r.ignoredSkills,r.confirmationResponse);let c=e.get(cc).add(r.workDoneToken,t),u=new B6(e,s,l,c);return await(await e.get(EA).createProcessor(u,r.workDoneToken,r.computeSuggestions)).process(r.workDoneToken,c,r.followUp,n,r.model),[{conversationId:s.id,turnId:l.id,agentSlug:l.agent?.agentSlug,modelFamily:r.model},null]}o(zBt,"handleConversationTurnChecked");var fOe=st($Bt,zBt);d();var YBt=I.Object({conversationId:I.String(),turnId:I.String(),options:I.Optional(Dn),source:I.Optional(Nd)});async function KBt(e,t,r){e.get(Hi).deleteTurn(r.conversationId,r.turnId);let i=Ny(r.source),s=await Xa(e,r.turnId,e.get(Hi).findByTurnId(r.turnId)?.id??"",{languageId:""});return of(e,void 0,{messageId:r.turnId,uiKind:i,conversationId:r.conversationId},{},`${Xc(i)}.messageDelete`,s),["OK",null]}o(KBt,"handleConversationTurnDeleteChecked");var dOe=ei(st(YBt,KBt));d();var JBt=I.Object({document:I.Object({uri:I.String(),text:I.String(),languageId:I.String(),version:I.Number()}),selection:I.Object({start:I.Object({line:I.Number(),character:I.Number()}),end:I.Object({line:I.Number(),character:I.Number()})}),options:I.Optional(Dn)});function XBt(){return["You are a world-class software engineer and the author and maintainer of the discussed code. Your feedback prefectly combines detailed feedback and explanation of context.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","Use Markdown formatting in your answers.","Make sure to include the programming language name at the start of the Markdown code blocks.","Avoid wrapping the whole response in triple backticks.","The user works in an IDE called Visual Studio Code which has a concept for editors with open files, integrated unit test support, an output pane that shows the output of running the code as well as an integrated terminal.","The active document is the source code the user is looking at right now.","You can only give one reply for each conversation turn.","","Additional Rules","Think step by step:","1. Examine the provided code and any other context like user question, related errors, project details, class definitions, etc.","2. Provide feedback on the current selection on where it can be improved or introduces a problem.","2a. Avoid commenting on correct code.","2b. Avoid commenting on commented out code.","2c. Keep scoping rules in mind.","3. Reply with an enumerated list of feedback with source line number, filepath, kind (bug, performance, consistency, documentation, naming, readability, style, other), severity (low, medium, high), and feedback text.","3a. E.g.: 1. Line 357 in src/flow.js, bug, high severity: `i` is not incremented.","3b. E.g.: 2. Line 361 in src/arrays.js, documentation, low severity: Function `binarySearch` is not documented.","3c. E.g.: 3. Line 176 in src/vs/platform/actionWidget/browser/actionWidget.ts, consistency, medium severity: The color id `'background.actionBar'` is not consistent with the other color ids used. Use `'actionBar.background'` instead.","3d. E.g.: 4. Line 410 in src/search.js, documentation, medium severity: Returning `-1` when the target is not found is a common convention, but it should be documented.","3e. E.g.: 5. Line 51 in src/account.py, bug, high severity: The deposit method is not thread-safe. You should use a lock to ensure that the balance update is an atomic operation.","3f. E.g.: 6. Line 220 in src/account.py, readability, low severity: The withdraw method is very long and combines multipe logical steps, consider splitting it into multiple methods.","4. Try to sort the feedback by file and line number.",'5. When there is no feedback to provide, reply with "No feedback to provide."',"","Focus on being clear, helpful, and thorough.","Use developer-friendly terms and analogies in your explanations.","Provide clear and relevant examples when helpful."].join(`
`)}o(XBt,"buildSystemMessage");function ZBt(e){let r=e.document.text.split(`
`).slice(e.selection.start.line,e.selection.end.line+1),n=e.selection.start.line+1,i=e.selection.end.line+1,s=r.map((a,l)=>{let c=e.selection.start.line+l+1;return`/* ${c>n&&c<i?"Selected ":""}Line ${c} */${a}`}).join(`
`);return["<currentChange>","Current selection with the selected lines labeled as such:","",`From the file: ${e.document.uri}`,`\`\`\`${e.document.languageId}/${e.document.uri}: FROM_LINE: ${n} - TO_LINE: ${i}`,s,"```","","</currentChange>"].join(`
`)}o(ZBt,"buildUserMessage");function eRt(e,t){let r=[],n=e.text.split(`
`),i=/(\d+)\.\s*Line\s*(\d+)\s*in\s*([^,]+),\s*(\w+),\s*(\w+)\s*severity:\s*((?:[^`.\n]|`[^`]*`|\.(?=\s*[A-Z]))+)(?:\.|$)/gm,s;for(;(s=i.exec(t))!==null;){let[a,l,c,u,f,m,h]=s;if(!["bug","performance","consistency","documentation","naming","readability","style","other"].includes(f.toLowerCase()))continue;let p=parseInt(c)-1;if(p<0||p>=n.length)continue;let A=n[p],E=Math.max(A.search(/\S/),0),x=A.trimEnd().length,b={uri:e.uri,range:{start:{line:p,character:E},end:{line:p,character:x}},message:h.trim(),kind:f.toLowerCase(),severity:m.toLowerCase()};r.push(b)}return r}o(eRt,"parseReviewComments");async function tRt(e,t,r){if(!r.document.text)return[null,{code:Nr.InvalidRequest,message:"Document text is required"}];if(!r.document.uri)return[null,{code:Nr.InvalidRequest,message:"Document URI is required"}];if(!r.document.languageId)return[null,{code:Nr.InvalidRequest,message:"Document language ID is required"}];let n=r.document.text.split(`
`);if(r.selection.start.line<0||r.selection.end.line>=n.length)return[null,{code:Nr.InvalidRequest,message:"Invalid selection range"}];if(r.selection.start.line>r.selection.end.line)return[null,{code:Nr.InvalidRequest,message:"Selection start line must be before end line"}];let i=e.get(Ms),s=await e.get(Zn).getBestChatModelConfig([Mi.Gpt4]),a=[{role:"system",content:XBt()},{role:"user",content:ZBt(r)}],l=await e.get(jt).updateExPValuesAndAssignments(),c=await i.fetchResponse({modelConfiguration:s,messages:a,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:tc.user("code-review",xr())},t,l);if(c.type!=="success")return[null,{code:Nr.InternalError,message:"Failed to generate code review"}];let u=eRt(r.document,c.value);return u.sort((f,m)=>f.range.start.line-m.range.start.line),[{comments:u},null]}o(tRt,"handleCopilotCodeReviewChecked");var mOe=ei(st(JBt,tRt));d();d();var rC=class{constructor(t,r,n,i,s){this.ctx=t;this.editConversation=r;this.currentTurn=n;this.partialResultToken=i;this.userSelectedModel=s;this.workingSetUriToPathMap=new Map;for(let a of n.workingSet)this.workingSetUriToPathMap.set(a.uri,iA.uriToPath(a.uri))}static{o(this,"EditTurnContext")}get editTurnId(){return this.currentTurn.id}get editConversationId(){return this.editConversation.id}mapToUriInWorkingSet(t){for(let[r,n]of this.workingSetUriToPathMap)if(n===t)return r}toLlmInteraction(){return tc.user("conversation-edit-panel",this.editTurnId)}};d();async function wH(e,t,r,n){let s=e.get(Ua).create("panel","en"),a=new qy({message:"",type:"user"},[]),l="file:///path/to/HelloWorld.java",c=new rC(e,s,a,n,Mi.Gpt4o),u=e.get(Tl);await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.java](${l})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:l}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:l,partialText:`public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}`,languageId:"java",markdownCodeFence:"```"});let f="file:///path/to/HelloWorld.py";await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.py](${f})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:f}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`def main():
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`    println("Hello, World!")
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:f,partialText:"",languageId:"python",markdownCodeFence:"```"})}o(wH,"streamMockedResult");d();var rRt=I.Object({enableMock:I.Boolean()}),dg=class{constructor(){this.enableMock=!1}static{o(this,"CopilotEditsMockManager")}isMockEnabled(){return this.enableMock}setMockEnabled(t){this.enableMock=t}};async function nRt(e,t,r){return e.get(dg).setMockEnabled(r.enableMock),["OK",null]}o(nRt,"handleTestingSetCopilotEditsResponseChecked");var hOe=st(rRt,nRt);var iRt=I.Object({request:I.String(),response:I.Optional(I.String())}),oRt=I.Union([I.Literal("panel")]),sRt=I.Object({partialResultToken:I.Union([I.String(),I.Number()]),turns:I.Array(iRt,{minItems:1}),workingSet:I.Optional(I.Array(L_)),source:I.Optional(oRt),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String()),model:I.Optional(I.String())});function aRt(e,t){let r=e.create(t.source,t.userLanguage);for(let n of t.turns){let i=new qy({message:n.request,type:"user"},t.workingSet);n.response&&(i.response={message:n.response,type:"model"}),t.workspaceFolder&&(i.workspaceFolder=t.workspaceFolder),e.addTurn(r.id,i)}return r}o(aRt,"buildEditConversation");async function lRt(e,t,r){if(e.get(dg).isMockEnabled())return await wH(e,xr(),xr(),r.partialResultToken),[[],null];let n=aRt(e.get(Ua),r),i=n.getLastTurn(),s=new rC(e,n,i,r.partialResultToken,r.model),a=e.get(cc).add(r.partialResultToken,t);return[await e.get(oA).createOrContinueEditConversation(s,a),null]}o(lRt,"handleEditConversationCreateChecked");var pOe=ei(st(sRt,lRt));d();var cRt=I.Object({editConversationId:I.String()});async function uRt(e,t,r){return e.get(Ua).destroy(r.editConversationId),["OK",null]}o(uRt,"handleEditConversationDestroyChecked");var gOe=ei(st(cRt,uRt));d();var fRt=I.Object({partialResultToken:I.Union([I.String(),I.Number()]),editConversationId:I.String(),message:I.String(),workingSet:I.Optional(I.Array(L_)),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String()),model:I.Optional(I.String())});function dRt(e,t,r){let n=e.get(t),i=new qy({message:r.message,type:"user"},r.workingSet);return r.workspaceFolder&&(i.workspaceFolder=r.workspaceFolder),e.addTurn(n.id,i),n}o(dRt,"buildEditConversation");async function mRt(e,t,r){if(e.get(dg).isMockEnabled())return await wH(e,r.editConversationId,xr(),r.partialResultToken),[[],null];let n=e.get(Ua),i=dRt(n,r.editConversationId,r),s=i.getLastTurn(),a=new rC(e,i,s,r.partialResultToken,r.model),l=e.get(cc).add(r.partialResultToken,t);return[await e.get(oA).createOrContinueEditConversation(a,l),null]}o(mRt,"handleEditConversationTurnChecked");var AOe=ei(st(fRt,mRt));d();var hRt=I.Object({editConversationId:I.String(),editTurnId:I.String(),options:I.Optional(Dn),source:I.Optional(Nd)});async function pRt(e,t,r){e.get(Ua).deleteTurn(r.editConversationId,r.editTurnId);let i=await Xa(e,r.editTurnId,r.editConversationId,{languageId:""});return of(e,void 0,{messageId:r.editTurnId,uiKind:"editsPanel",conversationId:r.editConversationId},{},`${Xc("editsPanel")}.copilotEditsMessageDelete`,i),["OK",null]}o(pRt,"handleEditConversationTurnDeleteChecked");var yOe=ei(st(hRt,pRt));d();var gRt=I.Object({options:I.Optional(Dn)});async function ARt(e,t,r){let n=await e.get(qr).getToken();return[yRt(await e.get(Bu).getMetadata(),n),null]}o(ARt,"handleCopilotModelsChecked");function yRt(e,t){let r=new Map,n=[];e.forEach(a=>{if(a.model_picker_enabled===!0){let l=[];a.capabilities.type==="chat"?(l.push("chat-panel"),l.push("edit-panel"),l.push("inline"),r.set(a.capabilities.family,{modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:l,id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})):a.capabilities.type!=="completion"&&n.push({modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:l,id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})}});let i=t.getTokenValue("editor_preview_features")=="0";return zf.filterCompletionModels(e,i).forEach(a=>{n.push({modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:["completion"],id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})}),[...r.values(),...n]}o(yRt,"filterModels");var COe=ei(st(gRt,ARt));d();var CRt=I.Object({model:I.Optional(I.String()),status:I.Optional(I.String())});async function ERt(e,t,r){return r.model&&r.status==="enabled"?await e.get(Bu).acceptModelPolicy(r.model)?["OK",null]:[null,{code:Nr.InternalError,message:"Failed to accept model policy"}]:[null,{code:Nr.InvalidRequest,message:"Invalid model or status"}]}o(ERt,"handleCopilotModelsPolicyChecked");var EOe=ei(st(CRt,ERt));d();d();var xA=10;function xOe(e){switch(e){case 2:return"open copilot";default:return"unknown"}}o(xOe,"completionTypeToString");var lce=class{constructor(t,r,n){this.appendToCompletion="";this.indentation=null;this.completionType=2;this.position=so.position(r.line,r.character),this.completionType=n}static{o(this,"CompletionContext")}};function SH(e,t,r){let n=r,i=t.lineAt(r.line);return i.isEmptyOrWhitespace||(n=i.range.end),new lce(e,n,2)}o(SH,"completionContextForDocument");d();var cce=new Cr("solutions");async function*xRt(e){for await(let t of e){let r={...t};r.completionText=r.completionText.trimEnd(),yield r}}o(xRt,"trimChoices");var P6=class{constructor(t,r,n,i,s){this.textDocument=t;this.startPosition=r;this.completionContext=n;this.cancellationToken=i;this.solutionCountTarget=s}static{o(this,"SolutionManager")}get savedTelemetryData(){return this._savedTelemetryData}set savedTelemetryData(t){this._savedTelemetryData=t}};function _H(e){return e.replace(/\s+/g,"")}o(_H,"normalizeCompletionText");async function bRt(e,t){let r=t.completionContext.position,n=t.completionContext.indentation,i=t.textDocument,s=E5(e,i.uri),a=xr(),l=nn.createAndMarkAsIssued({headerRequestId:a,languageId:i.languageId,source:xOe(t.completionContext.completionType)},{});t.savedTelemetryData=await e.get(jt).updateExPValuesAndAssignments({uri:i.uri,languageId:i.languageId},l);let c=await QI(e,i,r,t.savedTelemetryData);if(c.type==="copilotContentExclusion")return{status:"FinishedNormally"};if(c.type==="contextTooShort")return{status:"FinishedWithError",error:"Context too short"};if(c.type==="promptCancelled")return{status:"FinishedWithError",error:"Prompt cancelled"};if(c.type==="promptTimeout")return{status:"FinishedWithError",error:"Prompt timeout"};if(c.type==="promptError")return{status:"FinishedWithError",error:"Prompt error"};let u=c.prompt,f=c.trailingWs;f.length>0&&(t.startPosition=so.position(t.startPosition.line,t.startPosition.character-f.length));let m=t.cancellationToken;t.savedTelemetryData=t.savedTelemetryData.extendedBy({},{...gv(u),solutionCount:t.solutionCountTarget,promptEndPos:i.offsetAt(r)}),cce.debug(e,"prompt:",u),er(e,"solution.requested",t.savedTelemetryData);let h=await e.get(Dm).forLanguage(e,i.languageId,t.savedTelemetryData),p=pp.isSupportedLanguageId(i.languageId),A=aw(i,r),E={stream:!0,extra:{language:i.languageId,next_indent:A.next??0,prompt_tokens:u.prefixTokens??0,suffix_tokens:u.suffixTokens??0}};h==="parsing"&&!p&&(E.stop=[`

`,`\r
\r
`]);let x=C5(e,t.savedTelemetryData),b={prompt:u,languageId:i.languageId,repoInfo:s,ourRequestId:a,engineModelId:x.modelId,count:t.solutionCountTarget,uiKind:"synthesize",postOptions:E,requestLogProbs:!0,headers:x.headers},v;switch(h){case"server":v=o(async re=>{},"finishedCb"),E.extra.force_indent=A.prev??-1,E.extra.trim_by_indentation=!0;break;case"parsingandserver":v=p?sw(e,i,t.startPosition,!1):async re=>{},E.extra.force_indent=A.prev??-1,E.extra.trim_by_indentation=!0;break;case"parsing":default:v=p?sw(e,i,t.startPosition,!1):async re=>{};break}let S=t.savedTelemetryData,B=await e.get(ld).fetchAndStreamCompletions(e,b,S.extendedBy(),v,m);if(B.type==="failed"||B.type==="canceled")return{status:"FinishedWithError",error:`${B.type}: ${B.reason}`};let P=B.choices;P=xRt(P),n!==null&&(P=rxe(P,n)),P=KT(P,async re=>XM(e,i,r,re,!1,cce));let F=KT(P,async re=>{let pe=re.completionText;cce.info(e,`Open Copilot completion: [${re.completionText}]`);let Z=await xbe(e,i,r,re.completionText)??so.position(r.line,0),[W]=ry(i.getText(so.range(Z,r)));pe=W+pe;let q=re.completionText;f.length>0&&q.startsWith(f)&&(q=q.substring(f.length));let se=re.meanLogProb,ne=se!==void 0?Math.exp(se):0,H=S.extendedBy({choiceIndex:re.choiceIndex.toString()});return{completionText:q,insertText:pe,range:so.range(Z,r),meanProb:ne,meanLogProb:se||0,requestId:re.requestId,choiceIndex:re.choiceIndex,telemetryData:H,copilotAnnotations:re.copilotAnnotations}});return vOe(m,F[Symbol.asyncIterator]())}o(bRt,"launchSolutions");async function bOe(e,t){let r=await e;switch(r.status){case"Solution":await t.onSolution(r.solution),await bOe(r.next,t);break;case"FinishedNormally":await t.onFinishedNormally();break;case"FinishedWithError":await t.onFinishedWithError(r.error);break}}o(bOe,"reportSolutions");async function kH(e,t,r){return e.get(Ki).withProgress(async()=>{let i=bRt(e,t);return await bOe(i,r)})}o(kH,"runSolutions");async function vOe(e,t){if(e.isCancellationRequested)return{status:"FinishedWithError",error:"Cancelled"};let r=await t.next();return r.done===!0?{status:"FinishedNormally"}:{status:"Solution",solution:r.value,next:vOe(e,t)}}o(vOe,"generateSolutionsStream");var TOe=nt(H2()),rk=nt(E0());d();d();function BH(e,t){let r=e.split(`
`),n=t,i=t,s=r[t.line],a=s.indexOf("%");a!==-1&&(s=s.substring(0,a)+s.substring(a+1),n={line:t.line,character:a});let l=s.indexOf("^");if(l!==-1){let c=s.indexOf("^",l+1);if(c===-1)throw new Error("Challenge document must contain zero or two ^ characters.");s=s.substring(0,l)+s.substring(l+1,c)+s.substring(c+1),n={line:t.line,character:t.character},i={line:t.line,character:t.character+c-l-1}}return{cursorLine:s,lines:r,start:n,end:i}}o(BH,"parseChallengeDoc");var vRt=I.Object({text:I.String(),score:I.Number()}),IRt=I.Object({documents:I.Array(vRt),options:I.Optional(I.Object({}))});async function RH(e,t,r){let n=xr();for(let i=0;i<t.length&&i<10;i++){let{text:s,score:a}=t[i],{cursorLine:l,lines:c,start:u}=BH(s,e),f=[l.slice(Math.min(u.character,e.character))].concat(c.slice(e.line+1)).join(`
`);r.offset=c.slice(0,e.line).reduce((m,h)=>m+h.length+1,0)+u.character,await r.onSolution({requestId:{headerRequestId:n,completionId:xr(),created:0,serverExperiments:"",deploymentId:""},completionText:f,insertText:f,range:{start:e,end:e},meanProb:a,meanLogProb:-1,choiceIndex:i,telemetryData:f1.createEmptyConfigForTesting()})}await r.onFinishedNormally()}o(RH,"runTestSolutions");var dh=class{constructor(t){this.documents=t}static{o(this,"ExternalTestingPanelCompletionDocuments")}};async function TRt(e,t,r){return e.forceSet(dh,new dh(r.documents)),["OK",null]}o(TRt,"handleTestingSetPanelCompletionDocumentsChecked");var IOe=st(IRt,TRt);var wOe=bP.type;function wRt(e,t,r,n,i){let s=_H(n.completionText),a=(0,TOe.SHA256)(s).toString();return e.get(Wo).set(a,{displayText:n.completionText,insertText:n.insertText,offset:r,uuid:a,range:n.range,uri:t.textDocument.uri,telemetry:n.telemetryData.extendedBy({},{rank:i-1}),index:n.choiceIndex,position:t.position,resultType:0,triggerCategory:"solution",copilotAnnotations:n.copilotAnnotations}),{range:n.range,insertText:n.insertText,command:{command:_le,title:`Accept completion ${i}`,arguments:[a]}}}o(wRt,"makeCompletion");function fce(e,t){return`${e}/${t}`}o(fce,"progressMessage");var uce=class{constructor(t,r,n){this.ctx=t;this.params=r;this.onCompletion=n;this.offset=0;this.count=0;this.items=new Map}static{o(this,"SolutionHandler")}get service(){return this.ctx.get($r)}async onSolution(t){this.count+=1;let r=wRt(this.ctx,this.params,this.offset,t,this.items.size+1);this.items.has(r.command.arguments[0])||(this.items.set(r.command.arguments[0],r),await this.onCompletion(r)),this.params.workDoneToken!==void 0&&await this.service.connection.sendProgress(rk.WorkDoneProgress.type,this.params.workDoneToken,{kind:"report",message:fce(this.count,xA),percentage:Math.round(100*this.count/xA)})}onFinishedNormally(){return SRt(this.params.workDoneToken,this.service,this.count)}async onFinishedWithError(t){if(this.error=t,this.params.workDoneToken!==void 0)return this.service.connection.sendProgress(rk.WorkDoneProgress.type,this.params.workDoneToken,{kind:"end",message:`Error: ${t}`})}};async function SRt(e,t,r=0){e!==void 0&&await t.connection.sendProgress(rk.WorkDoneProgress.type,e,{kind:"end",message:fce(r,xA)})}o(SRt,"reportDone");var tk;async function _Rt(e,t,r){let n=await cg(e,r.textDocument,t),i=r.position;r.workDoneToken!==void 0&&await e.get($r).connection.sendProgress(rk.WorkDoneProgress.type,r.workDoneToken,{kind:"begin",title:"GitHub Copilot Completions Panel",cancellable:!0,message:fce(0,xA),percentage:0});let s=[],a=o(async f=>{s.push(f)},"onCompletion"),l=r.partialResultToken;l!==void 0&&(a=o(async f=>{await e.get($r).connection.sendProgress(bP.partialResult,l,{items:[f]})},"onCompletion"));let c=new uce(e,r,a),u=e.get(dh);if(u.documents){let f=u.documents;await RH(i,f,c)}else{c.offset=n.offsetAt(i);let f=SH(e,n,i),m=new P6(n,i,f,t,xA);await kH(e,m,c)}return c.error!==void 0?[null,{code:Nr.InternalError,message:c.error}]:[{items:s},null]}o(_Rt,"handleChecked");async function kRt(e,t,r){tk&&(tk.cancel(),tk.dispose()),tk=new Jn.CancellationTokenSource;let n=tk.token,i=new nu([t,n]);try{return await _Rt(e,i,r)}catch(s){if(n.isCancellationRequested&&!t.isCancellationRequested)return[null,{code:Nr.ServerCancelled,message:"Request was superseded by a new request"}];throw s}}o(kRt,"handleCheckedWithAbort");var SOe=st(o5e,kRt);d();d();d();function RRt(e){let t=e.get(Rn).getLoginReachabilityUrl(),r=e.get(Rn).getAPIUrl(),n=e.get(Rn).getLastKnownEndpointUrl("proxy","_ping"),i=e.get(Rn).getLastKnownEndpointUrl("api","_ping"),s=e.get(Rn).getLastKnownEndpointUrl("telemetry","_ping");function a(l){return new URL(l).host}return o(a,"label"),[{label:a(t),url:t},{label:a(r),url:r},{label:a(n),url:n},{label:a(i),url:i},{label:a(s),url:s}]}o(RRt,"urlsToCheck");async function _Oe(e){let t=RRt(e).map(async({label:r,url:n})=>{let{message:i,status:s}=await DRt(e,n);return{label:r,url:n,message:i,status:s}});return await Promise.all(t)}o(_Oe,"checkReachability");async function DRt(e,t){try{let r=await e.get(Fr).fetch(t,{}),n=r.status>=200&&r.status<400?"reachable":"unreachable";return{message:`HTTP ${r.status}`+(r.statusText?` - ${r.statusText}`:""),status:n}}catch(r){return{message:String(r),status:"unreachable"}}}o(DRt,"determineReachability");var Od=nt(require("os")),F6=nt(require("tls"));async function kOe(e){return{sections:[PRt(e),FRt(),await LRt(e),NRt(),QRt(e),await MRt(e)]}}o(kOe,"collectDiagnostics");function BOe(e){return e.sections.map(ORt).join(Od.EOL+Od.EOL)}o(BOe,"formatDiagnosticsAsMarkdown");function PRt(e){return{name:"Copilot",items:{Version:L3(e),Build:Hf(e),Editor:a0(e)["Editor-Version"]}}}o(PRt,"collectCopilotSection");function FRt(){return{name:"Environment",items:{http_proxy:bA("http_proxy"),https_proxy:bA("https_proxy"),no_proxy:bA("no_proxy"),SSL_CERT_FILE:bA("SSL_CERT_FILE"),SSL_CERT_DIR:bA("SSL_CERT_DIR"),OPENSSL_CONF:bA("OPENSSL_CONF")}}}o(FRt,"collectEnvironmentSection");function NRt(){return{name:"Node setup",items:{"Number of root certificates":F6.rootCertificates.length,"Operating system":Od.type(),"Operating system version":Od.release(),"Operating system architecture":Od.arch(),NODE_OPTIONS:bA("NODE_OPTIONS"),NODE_EXTRA_CA_CERTS:bA("NODE_EXTRA_CA_CERTS"),NODE_TLS_REJECT_UNAUTHORIZED:bA("NODE_TLS_REJECT_UNAUTHORIZED"),"tls default min version":F6.DEFAULT_MIN_VERSION,"tls default max version":F6.DEFAULT_MAX_VERSION}}}o(NRt,"collectNodeSection");async function LRt(e){let t={};try{let r=await e.get(qr).getToken();t["Send Restricted Telemetry"]=r.getTokenValue("rt")==="1"?"enabled":"disabled",t.Chat=r.envelope?.chat_enabled?"enabled":void 0,t["Content exclusion"]=r.envelope?.copilotignore_enabled?"enabled":"unavailable"}catch{}return Object.keys(t).forEach(r=>t[r]===void 0&&delete t[r]),{name:"Feature Flags",items:t}}o(LRt,"collectFeatureFlagsSection");function QRt(e){let t=e.get(Fr);return{name:"Network Configuration",items:{"Proxy host":t.proxySettings?.host,"Proxy port":t.proxySettings?.port,"Kerberos SPN":t.proxySettings?.kerberosServicePrincipal,"Reject unauthorized":t.rejectUnauthorized?"enabled":"disabled",Fetcher:t.name}}}o(QRt,"collectNetworkConfigSection");async function MRt(e){return{name:"Reachability",items:Object.fromEntries((await _Oe(e)).map(({label:r,status:n,message:i})=>[r,i]))}}o(MRt,"collectReachabilitySection");function bA(e){let t=Object.keys(process.env).find(r=>r.toLowerCase()===e.toLowerCase());return t?process.env[t]:void 0}o(bA,"findEnvironmentVariable");function ORt(e){return`## ${e.name}`+Od.EOL+Od.EOL+Object.keys(e.items).filter(t=>t!=="name").map(t=>`- ${t}: ${e.items[t]??"n/a"}`).join(Od.EOL)}o(ORt,"formatSectionAsMarkdown");var URt=I.Object({});async function qRt(e){return[{report:BOe(await kOe(e))},null]}o(qRt,"handleDiagnosticsChecked");var ROe=st(URt,qRt);d();d();d();d();function DOe(e,t,r){function n(s,a,l){let c=new RegExp(`^(${a})+`,"g");return s.split(`
`).map(u=>{let f=u.replace(c,""),m=u.length-f.length;return l(m)+f}).join(`
`)}o(n,"replace");let i;if(e.tabSize===void 0||typeof e.tabSize=="string"?i=4:i=e.tabSize,e.insertSpaces===!1){let s=o(a=>n(a," ",l=>"	".repeat(Math.floor(l/i))+" ".repeat(l%i)),"r");t.displayText=s(t.displayText),t.completionText=s(t.completionText)}else if(e.insertSpaces===!0){let s=o(a=>n(a,"	",l=>" ".repeat(l*i)),"r");if(t.displayText=s(t.displayText),t.completionText=s(t.completionText),r){let a=o(l=>{if(l==="")return l;let c=l.split(`
`)[0],u=c.length-c.trimStart().length,f=u%i;if(f!==0&&u>0){let m=" ".repeat(f);return n(l,m,h=>" ".repeat((Math.floor(h/i)+1)*i))}else return l},"re");t.displayText=a(t.displayText),t.completionText=a(t.completionText)}}return t}o(DOe,"normalizeIndentCharacter");function POe(e,t,r,n,i,s,a){let l=n.lineAt(i),c=t.map(u=>{let f=so.range(so.position(i.line,0),so.position(i.line,i.character+u.suffixCoverage)),m="";if(s&&(u.completion=DOe(s,u.completion,l.isEmptyOrWhitespace)),l.isEmptyOrWhitespace&&(u.completion.displayNeedsWsOffset||u.completion.completionText.startsWith(l.text)))m=u.completion.completionText;else{let p=so.range(f.start,i);m=n.getText(p)+u.completion.displayText}return{uuid:xr(),insertText:m,range:f,uri:n.uri,index:u.completion.completionIndex,telemetry:u.telemetry,displayText:u.completion.displayText,position:i,offset:n.offsetAt(i),resultType:r,copilotAnnotations:u.copilotAnnotations}});if(r===2&&a!==void 0){let u=c.find(f=>f.index===a);if(u){let f=c.filter(m=>m.index!==a);c=[u,...f]}}return c}o(POe,"completionsFromGhostTextResults");async function dce(e,t,r,n,i={}){i={...i,positionBeforeApplyingEdits:r};let s=0;if(i.selectedCompletionInfo?.text){let h={range:i.selectedCompletionInfo.range,newText:i.selectedCompletionInfo.text};({textDocument:t,position:r}=oI(t,h.range.end,[h])),s=r.character-h.range.end.character}let a=await lre(e,t,r,n,i);if(a.type!=="success")return a;let[l,c]=a.value;if(n?.isCancellationRequested)return{type:"canceled",reason:"after getGhostText",telemetryData:{telemetryBlob:a.telemetryBlob}};let u=I6e(e,t,r,c),f=POe(e,l,c,t,r,i.formattingOptions,u);if(f.length===0)return{type:"empty",reason:"no completions in final result",telemetryData:a.telemetryData};let m=f.map(h=>{let{start:p,end:A}=h.range,E=Jn.Range.create(p,Jn.Position.create(A.line,A.character-s));return{...h,range:E}});return{...a,value:m}}o(dce,"getInlineCompletionsResult");async function DH(e,t,r,n,i={}){WRt(e,t,r);let s=await dce(e,t,r,n,i);return gxe(e,s)}o(DH,"getInlineCompletions");function WRt(e,t,r){let n=t.getText({start:{line:Math.max(r.line-1,0),character:0},end:r}),i=t.getText({start:r,end:{line:Math.min(r.line+2,t.lineCount-1),character:t.lineCount-1>r.line?0:r.character}});YL.debug(e,`Requesting for ${t.uri} at ${r.line}:${r.character}`,`between ${JSON.stringify(n)} and ${JSON.stringify(i)}.`)}o(WRt,"logCompletionLocation");var OOe=nt(E0());d();var FOe=require("crypto");var N6=class{static{o(this,"LspClientContextProvider")}constructor(t,r,n){this.id=r,this.selector=n,this.resolver=new hce(t,this.id)}},hce=class{constructor(t,r){this.ctx=t;this.id=r;this.contextItems=[];this.update=!1}static{o(this,"LspClientContextResolver")}async resolve(t,r){let n=[];if(this.contextItems.length>0)n=this.contextItems;else if(this.update){let i=this.ctx.get($r),s=(0,FOe.randomUUID)(),a=i.connection.onProgress(CP.type,s,l=>{n.push(...l)});r.onCancellationRequested(()=>{a?.dispose()});try{let l=await i.connection.sendRequest(CP.type,{providerId:this.id,data:this.data,textDocument:{uri:t.documentContext.uri,languageId:t.documentContext.languageId,version:t.documentContext.version},position:t.documentContext.position,partialResultToken:s},r);n.push(...l)}finally{a?.dispose()}}return this.reset(),Promise.resolve(n)}setContextItems(t){this.contextItems=t}clearContextItems(){this.contextItems=[]}setUpdate(t){this.update=t}clearData(){this.data=void 0}reset(){this.clearContextItems(),this.clearData(),this.setUpdate(!1)}};function L6(e,t,r){try{let n=e.get(ma),i=new Map;n.providers.forEach(s=>{i.set(s.id,s)}),t.providers.forEach(s=>{let a=i.get(s.id);a&&a instanceof N6&&a.resolver.setContextItems(s.contextItems)}),t.updating&&t.updating.length>0&&t.updating.forEach(s=>{let a=i.get(s);a&&a instanceof N6&&(a.resolver.setUpdate(!0),a.resolver.data=r)})}catch(n){ni.error(e,"Failed to set context items on context providers",n)}}o(L6,"setContextItems");var mce={nocase:!0,matchBase:!0,nonegate:!0,dot:!0};async function NOe(e,t,r){return t.map(i=>{try{if(typeof i=="string")return ca(r.uri,i,mce);if(typeof i=="object"){let s=!0;return"language"in i&&(s&&=r.languageId==(i.language||"")),"scheme"in i&&(s&&=ca(r.uri,i.scheme||"",mce)),"pattern"in i&&(s&&=ca(r.uri,i.pattern||"",mce)),s}}catch{return!1}return!1}).some(Boolean)?10:0}o(NOe,"match");d();var GRt=I.Object({documents:I.Array(I.String()),basename:I.Optional(I.String()),options:I.Optional(I.Object({}))}),nC=class{constructor(t,r){this.documents=t;this.basename=r}static{o(this,"ExternalTestingCompletionDocuments")}};async function HRt(e,t,r){return e.forceSet(nC,new nC(r.documents,r.basename||"")),["OK",null]}o(HRt,"handleTestingSetCompletionDocumentsChecked");var LOe=new Cr("setCompletionDocuments"),MOe=st(GRt,HRt);function PH(e,t,r,n){let i=e.get(nC);if(i.documents){let s=n?3:1;if(r&&i.basename&&i.basename.trim().length>0){LOe.debug(e,`Returning filtered completions by basename ${i.basename}`);let a=VRt(i,r);return a&&a.length>0?QOe(a,s,t):void 0}else return LOe.debug(e,"Returning completions for all pre-set documents"),QOe(i.documents,s,t)}}o(PH,"getTestCompletions");function QOe(e,t,r){return e.slice(0,t).map(n=>{let{cursorLine:i,lines:s,start:a,end:l}=BH(n,r);return{insertText:[i.slice(Math.min(a.character,r.character))].concat(s.slice(r.line+1)).join(`
`),range:{start:a,end:l}}})}o(QOe,"sliceAndMapCompletions");function VRt(e,t){return e.basename===Fs(t)?e.documents||[]:[]}o(VRt,"getFilteredDocs");var UOe=I.Object({doc:I.Object({position:qf,insertSpaces:I.Optional(I.Boolean()),tabSize:I.Optional(I.Number()),uri:tT,version:I.Number()}),contextItems:I.Optional(hee),options:I.Optional(Dn)}),nk;async function qOe(e,t,r,n){nk&&(nk.cancel(),nk.dispose()),nk=new Jn.CancellationTokenSource;let i=new nu([t,nk.token]);r.contextItems&&L6(e,r.contextItems);let s=PH(e,r.doc.position,r.doc.uri,n);if(s)return[{completions:s.map(h=>({uuid:xr(),text:h.insertText,displayText:h.insertText,position:r.doc.position,range:h.range,docVersion:r.doc.version}))},null];let a;try{a=await cg(e,r.doc,i)}catch(m){if(!(m instanceof OOe.ResponseError))throw m;switch(m.code){case Nr.CopilotNotAvailable:case Nr.ContentModified:return[{completions:[]},null]}throw m}let l=r.doc.position,c=await DH(e,a,l,i,{isCycling:n,formattingOptions:r.doc});if(!c)return[{completions:[]},null];let u=e.get(Wo);for(let m of c)u.set(m.uuid,{...m,triggerCategory:"ghostText"});return[{completions:c.map(m=>({uuid:m.uuid,text:m.insertText,range:m.range,displayText:m.displayText,position:m.position,docVersion:a.version}))},null]}o(qOe,"handleGetCompletionsHelper");var WOe=st(UOe,(e,t,r)=>qOe(e,t,r,!1)),GOe=st(UOe,(e,t,r)=>qOe(e,t,r,!0));d();var HOe=nt(H2()),Q6=nt(E0());var jRt=I.Object({doc:I.Object({position:qf,uri:tT,version:I.Number()}),panelId:I.String(),options:I.Optional(Dn)});function $Rt(e,t,r,n,i){let s=_H(i.completionText),a=(0,HOe.SHA256)(s).toString();return e.get(Wo).set(a,{displayText:i.insertText,insertText:i.completionText,offset:n,uuid:a,range:r,uri:t.doc.uri,telemetry:i.telemetryData,index:i.choiceIndex,position:r.end,resultType:0,triggerCategory:"solution",copilotAnnotations:i.copilotAnnotations}),{panelId:t.panelId,range:r,completionText:i.completionText,displayText:i.insertText,score:i.meanProb,solutionId:a}}o($Rt,"makeSolution");var pce=class{constructor(t,r,n){this.ctx=t;this.params=r;this.range=n;this.offset=0}static{o(this,"SolutionHandler")}get service(){return this.ctx.get($r)}onSolution(t){return this.service.connection.sendNotification(new Q6.NotificationType("PanelSolution"),$Rt(this.ctx,this.params,this.range,this.offset,t))}onFinishedNormally(){return VOe(this.params.panelId,this.service)}onFinishedWithError(t){return this.service.connection.sendNotification(new Q6.NotificationType("PanelSolutionsDone"),{status:"Error",message:t,panelId:this.params.panelId})}};async function VOe(e,t){return t.connection.sendNotification(new Q6.NotificationType("PanelSolutionsDone"),{status:"OK",panelId:e})}o(VOe,"reportDone");var ik;async function zRt(e,t,r){ik&&(ik.cancel(),ik.dispose()),ik=new Jn.CancellationTokenSource;let n=new nu([t,ik.token]),i=r.doc.position,s=so.range(i,i),a=new pce(e,r,s),l=e.get(dh);if(l.documents){let c=l.documents;RH(i,c,a)}else{let c;try{c=await cg(e,r.doc,n)}catch(m){if(!(m instanceof Q6.ResponseError))throw m;switch(m.code){case Nr.CopilotNotAvailable:case Nr.ContentModified:return YRt(e,r)}throw m}a.offset=c.offsetAt(i);let u=SH(e,c,i),f=new P6(c,i,u,n,xA);kH(e,f,a)}return[{solutionCountTarget:xA},null]}o(zRt,"handleGetPanelCompletionsChecked");async function YRt(e,t){return await VOe(t.panelId,e.get($r)),[{solutionCountTarget:0},null]}o(YRt,"produceEmptySolutions");var jOe=st(jRt,zRt);d();var KRt=I.Object({});async function JRt(e,t,r){return[{version:e.get(oo).getDisplayVersion(),buildType:Hf(e),runtimeVersion:`node/${process.versions.node}`},null]}o(JRt,"handleGetVersionChecked");var $Oe=st(KRt,JRt);d();var XRt=I.Object({changes:I.Array(I.String()),userCommits:I.Array(I.String()),recentCommits:I.Array(I.String()),workspaceFolder:I.Optional(I.String()),options:I.Optional(Dn)});function ZRt(){return["You are an AI programming assistant, helping a software developer to come up with the best git commit message for their code changes.","You excel in interpreting the purpose behind code changes to craft succinct, clear commit messages that adhere to the repository's guidelines.","","# First, think step-by-step:","1. Analyze the CODE CHANGES thoroughly to understand what's been modified.","2. Identify the purpose of the changes to answer the *why* for the commit messages, also considering the optionally provided RECENT USER COMMITS.","3. Review the provided RECENT REPOSITORY COMMITS to identify established commit message conventions. Focus on the format and style, ignoring commit-specific details like refs, tags, and authors.","4. Generate a thoughtful and succinct commit message for the given CODE CHANGES. It MUST follow the established writing conventions.","5. Remove any meta information like issue references, tags, or author names from the commit message. The developer will add them.","6. Now only show your message, wrapped with a single markdown ```text codeblock! Do not provide any explanations or details"].join(`
`)}o(ZRt,"buildSystemMessage");function eDt(e,t){let r=[];return e.userCommits.length>0&&r.push("# RECENT USER COMMITS (For reference only, do not copy!):",e.userCommits.map(n=>`- ${n}`).join(`
`),""),e.recentCommits.length>0&&r.push("# RECENT REPOSITORY COMMITS (For reference only, do not copy!):",e.recentCommits.map(n=>`- ${n}`).join(`
`),""),r.push("# CODE CHANGES:",e.changes.join(`
`),"","<reminder>","Now generate a commit message that describes the CODE CHANGES.","DO NOT COPY commits from RECENT COMMITS, but use them as reference for the commit style.","ONLY return a single markdown code block, NO OTHER PROSE!","```text","commit message goes here","```","</reminder>"),t&&r.push("<custom-instructions>",t,"</custom-instructions>"),r.join(`
`)}o(eDt,"buildUserMessage");async function tDt(e,t,r){if(r.changes.length===0)return[null,{code:Nr.InvalidRequest,message:"No changes provided"}];let n=new Ms(e),i=await e.get(Zn).getBestChatModelConfig([Mi.Gpt4oMini,Mi.Gpt4o,Mi.Gpt4]),s=r.workspaceFolder?[r.workspaceFolder]:[process.cwd()],a=await _6.getInstructions(e,s,{includeCodeGenerationInstructions:!1,includeCommitMessageGenerationInstructions:!0,customIntroduction:"When generating the commit message, please use the following custom instructions provided by the user."}),l=[{role:"system",content:ZRt()},{role:"user",content:eDt(r,a)}],c=await e.get(jt).updateExPValuesAndAssignments(),u=await n.fetchResponse({modelConfiguration:i,messages:l,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:tc.user("git-commit",xr())},t,c);if(u.type!=="success")return[null,{code:Nr.InternalError,message:"Failed to generate commit message"}];let f=u.value.match(/```text\n([\s\S]*?)\n```/);return[{commitMessage:f?f[1].trim():u.value.trim()},null]}o(tDt,"handleGitCommitGenerateChecked");var zOe=ei(st(XRt,tDt));d();var KOe=vK.type,ok;function YOe(e){return{title:"Completion Accepted",command:F_,arguments:[e]}}o(YOe,"makeCommand");async function rDt(e,t,r){ok&&(ok.cancel(),ok.dispose());let n=r.context.triggerKind===1;ok=new Jn.CancellationTokenSource;let i=ok.token,s=new nu([t,i]);r.contextItems&&L6(e,r.contextItems,r.data);let a=PH(e,r.position,r.textDocument.uri,n);if(a)return[{items:a.map(p=>({command:YOe(xr()),...p}))},null];let l=await cg(e,r.textDocument,s),c=r.position,u=await DH(e,l,c,s,{isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(!u)return t.isCancellationRequested?[null,{code:Nr.RequestCancelled,message:"Request was canceled"}]:i.isCancellationRequested?[null,{code:Nr.ServerCancelled,message:"Request was superseded by a new request"}]:[{items:[]},null];let f=e.get(Wo);for(let h of u)f.set(h.uuid,{...h,triggerCategory:"ghostText"});return[{items:u.map(h=>({command:YOe(h.uuid),insertText:h.insertText,range:h.range}))},null]}o(rDt,"handleChecked");var JOe=st(EQ,(e,t,r)=>rDt(e,t,r));d();var XOe=wK.type,sk;async function iDt(e,t,r){sk&&(sk.cancel(),sk.dispose());let n=r.context.triggerKind===1;sk=new Jn.CancellationTokenSource;let i=sk.token,s=new nu([t,i]);r.contextItems&&L6(e,r.contextItems);let a=await cg(e,r.textDocument,s),l=await dce(e,a,r.position,s,{promptOnly:!0,isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(l.type!=="promptOnly")throw new Error(`Unexpected result type ${l.type}`);return[{prompt:l.prompt},null]}o(iDt,"handleChecked");var ZOe=st(EQ,(e,t,r)=>iDt(e,t,r));d();d();function gce(e){let t=e.indexOf("-----BEGIN CERTIFICATE-----")+27,r=e.indexOf("-----END CERTIFICATE-----"),n=30,i=e.substring(t,t+n)+"..."+e.substring(r-n,r-1);return M6(i)}o(gce,"asReadableCert");function M6(e){return e.replace(/\s/g,"")}o(M6,"normalizeNewlines");var sDt=I.Object({});async function aDt(e){return[{certificates:(await e.get(Oa).getAllRootCAs()).map(M6)},null]}o(aDt,"handleListCertificatesChecked");var eUe=st(sDt,aDt);d();async function lDt(e,t,r){let n=e.get(cA);if(r.textDocument.version===void 0)throw new Error("textDocument.version is undefined");let i=Im(r.textDocument.uri);e.get(Ip).onUserPositionChange(i,new ao(r.position.line,r.position.character));let s=await n.handleNextEditRequest(i,r.textDocument.version,t);return s?[{edits:s.map(l=>({text:l.edit.text,textDocument:l.edit.textDocument,range:l.edit.range,command:{title:"Accept inline edit",command:F_,arguments:[l.id]}}))},null]:[{edits:[]},null]}o(lDt,"handleChecked");var tUe=st(i5e,lDt);d();var cDt=I.Object({uuid:I.String({minLength:1}),acceptedLength:I.Optional(I.Number({minimum:1})),options:I.Optional(Dn)});async function uDt(e,t,r){let n=e.get(Wo),i=n.get(r.uuid);if(i){n.delete(r.uuid);let s=fDt(r,i);Q4(e,i.triggerCategory,i.insertText,i.offset,i.uri,i.telemetry,s,i.copilotAnnotations)}return["OK",null]}o(uDt,"notifyAcceptedChecked");function fDt(e,t){return e.acceptedLength===void 0?{compType:"full"}:e.acceptedLength<t.insertText.length?{compType:"partial",acceptedLength:e.acceptedLength}:{compType:"full"}}o(fDt,"getSuggestionStatus");var rUe=st(cDt,uDt);d();var dDt=I.Object({uuids:I.Array(I.String()),options:I.Optional(Dn)});async function mDt(e,t,r){let n=e.get(Wo),i=r.uuids.flatMap(s=>n.get(s)??[]);if(i.length>0){let s=i[0];for(let l of r.uuids)n.delete(l);let a=i.map(l=>({completionText:l.displayText,completionTelemetryData:l.telemetry}));ZM(e,"ghostText",s.offset,s.uri,a),e.get($0).resetState()}return["OK",null]}o(mDt,"notifyRejectedChecked");var nUe=st(dDt,mDt);d();var hDt=I.Object({uuid:I.String({minLength:1}),options:I.Optional(Dn)});async function pDt(e,t,r){let i=e.get(Wo).get(r.uuid);return i&&KL(e,i.triggerCategory,i),["OK",null]}o(pDt,"notifyShownChecked");var iUe=st(hDt,pDt);d();var gDt=uve;async function ADt(e,t,r){let n=e.get(ma),i={unregistered:[],registered:[]};return r.providers.forEach(s=>{try{let a=new N6(e,s.id,s.selector);n.registerContextProvider(a),i.registered.push(s.id)}catch{i.unregistered.push(s.id)}}),[i,null]}o(ADt,"registerContextProviders");var oUe=st(gDt,ADt);d();d();var sUe=require("net");function Ace(e){return e.HTTPS_PROXY||e.https_proxy||e.HTTP_PROXY||e.http_proxy}o(Ace,"getProxyFromEnvironment");function yDt(e){return e.NODE_TLS_REJECT_UNAUTHORIZED!=="0"}o(yDt,"getRejectUnauthorizedFromEnvironment");var aUe=I.Object({proxy:I.Optional(I.String()),proxyStrictSSL:I.Optional(I.Boolean()),proxyAuthorization:I.Optional(I.String()),proxyKerberosServicePrincipal:I.Optional(I.String())});function lUe(e){let r={proxy:Ace(e),proxyStrictSSL:yDt(e)},n=e.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.AGENT_KERBEROS_SERVICE_PRINCIPAL;return n&&(r.proxyKerberosServicePrincipal=n),r}o(lUe,"getHttpSettingsFromEnvironment");function ak(e){(0,sUe.isIPv6)(e)?e="https://["+e+"]":/:\/\//.test(e)||(e=`https://${e}`);let{hostname:t,port:r,username:n,password:i}=new URL(e);return{host:t,port:CDt(r),proxyAuth:EDt(n,i)}}o(ak,"proxySettingFromUrl");function CDt(e){if(!e)return 80;let t=Number(e);if(isNaN(t))throw new TypeError("Invalid proxy port");return t}o(CDt,"parsePort");function EDt(e,t){return!e||!t?"":`${decodeURIComponent(e)}:${decodeURIComponent(t)}`}o(EDt,"getAuth");d();var Cce=I.Object({host:I.String(),port:I.Number(),username:I.Optional(I.String()),password:I.Optional(I.String()),rejectUnauthorized:I.Optional(I.Boolean())}),xDt=I.Object({uri:I.Optional(I.String())}),bDt=I.Object({showEditorCompletions:I.Optional(I.Boolean()),enableAutoCompletions:I.Optional(I.Boolean()),delayCompletions:I.Optional(I.Boolean()),filterCompletions:I.Optional(I.Boolean())}),uUe=I.Object({github:I.Optional(I.Object({copilot:I.Optional(I.Object({}))})),"github-enterprise":I.Optional(xDt),http:I.Optional(aUe),telemetry:I.Optional(I.Object({telemetryLevel:I.Optional(I.String())}))}),Ece=Object.keys(uUe.properties).filter(e=>e!=="github"),vDt=I.Intersect([uUe,bDt]),xce=I.Object({url:I.Optional(I.String())}),IDt=I.Object({settings:I.Optional(I.Union([I.Object({}),I.Array(I.Unknown(),{maxItems:0})])),networkProxy:I.Optional(Cce),authProvider:I.Optional(xce),options:I.Optional(Dn)}),cUe=Ns.Compile(IDt),yce=Ns.Compile(vDt);async function fUe(e,t){if(!cUe.Check(t))throw new oc(cUe.Errors(t));let r=Array.isArray(t.settings)?{}:t.settings;r&&bce(e,r),t.networkProxy!==void 0&&FH(e,t.networkProxy),t.authProvider&&e.get(Rn).updateBaseUrl(e,t.authProvider.url),await lk(e,r)}o(fUe,"notifyChangeConfiguration");function bce(e,t){for(let i of yce.Errors(t)){let s=i.path.split("/")?.[1];ff.warn(e,`Invalid ${i.path.slice(1).replace(/\//g,".")} setting:`,i.message),delete t[s]}if(!yce.Check(t))throw new oc(yce.Errors(t));let r=e.get(lf);r.setConfig(qt.ShowEditorCompletions,t.showEditorCompletions),r.setConfig(qt.DelayCompletions,t.delayCompletions),r.setConfig(qt.EnableAutoCompletions,t.enableAutoCompletions),r.setConfig(qt.FilterCompletions,t.filterCompletions);let n=t["github-enterprise"];n&&e.get(Rn).updateBaseUrl(e,n.uri),t.http&&vce(e,t.http),t.github?.copilot&&TDt(e,t.github.copilot)}o(bce,"applySettingsToConfiguration");function TDt(e,t){let r=e.get(lf);for(let n of Object.values(qt)){let i=T3e(t,n);r.setConfig(n,i)}}o(TDt,"applyCopilotConfiguration");function vce(e,t){let r=e.get(lf),n=e.get(Fr);if(t.proxy===void 0&&(t=lUe(r.env)),n.rejectUnauthorized=t?.proxyStrictSSL,!t.proxy){n.proxySettings=void 0;return}try{n.proxySettings=ak(t.proxy),t.proxyAuthorization&&(n.proxySettings.proxyAuth=t.proxyAuthorization),t.proxyKerberosServicePrincipal&&(n.proxySettings.kerberosServicePrincipal=t.proxyKerberosServicePrincipal)}catch(i){if(!(i instanceof TypeError))throw i;ff.warn(e,"Invalid proxy URL",t.proxy,i),n.proxySettings=void 0}}o(vce,"applyHttpConfiguration");function FH(e,t){if(!t){e.get(Fr).proxySettings=void 0,e.get(Fr).rejectUnauthorized=void 0;return}let r;t.username&&(t.password?r=t.username+":"+t.password:r=t.username),e.get(Fr).proxySettings={host:t.host,port:t.port,proxyAuth:r},e.get(Fr).rejectUnauthorized=t.rejectUnauthorized??!0}o(FH,"applyNetworkProxyConfiguration");async function lk(e,t){if(!e.get(rs).getCapabilities().redirectedTelemetry){let r=(t?.telemetry?.telemetryLevel??"all")==="all";await p5(e,"agent",r)}await e.get(qr).primeToken()}o(lk,"initializePostConfigurationDependencies");var dUe=I.Object({name:I.String(),version:I.String(),readableName:I.Optional(I.String())}),wDt=I.Object({editorInfo:dUe,editorPluginInfo:dUe,editorConfiguration:I.Optional(I.Object({})),networkProxy:I.Optional(Cce),authProvider:I.Optional(xce),redirectTelemetry:I.Optional(I.Boolean()),options:I.Optional(I.Object({}))});async function SDt(e,t,r){e.get(an).setEditorAndPluginInfo(r.editorPluginInfo,r.editorInfo),VW(e,["setEditorInfo is deprecated. Use initializationOptions for editorInfo and editorPluginInfo","and workspace/didChangeConfiguration for editorConfiguration."]),r.editorConfiguration&&bce(e,r.editorConfiguration);let n=e.get(Fr),i=e.get(lf).env,s=Ace(i);if(r.editorInfo.name==="VisualStudio"){if(s)n.proxySettings=ak(s);else if(r.networkProxy){FH(e,r.networkProxy);let a=i.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.AGENT_KERBEROS_SERVICE_PRINCIPAL;n.proxySettings&&a&&(n.proxySettings.kerberosServicePrincipal??=a)}}else r.networkProxy?FH(e,r.networkProxy):s&&(n.proxySettings=ak(s));return r.authProvider&&e.get(Rn).updateBaseUrl(e,r.authProvider.url),await lk(e,r.editorConfiguration),["OK",null]}o(SDt,"handleSetEditorInfoChecked");var mUe=st(wDt,SDt);d();var _Dt=I.Object({options:I.Optional(I.Object({}))});async function kDt(e,t,r){let n=e.get(In).pendingSignIn?.status;if(n===void 0)return[null,{code:Nr.InvalidRequest,message:"No pending sign in"}];let i;try{return i=await n,[i,null]}catch(s){return[null,{code:Nr.DeviceFlowFailed,message:String(s)}]}finally{e.get(In).pendingSignIn=void 0}}o(kDt,"handleSignInConfirmChecked");var hUe=st(_Dt,kDt);d();var BDt=I.Object({options:I.Optional(I.Object({})),githubAppId:I.Optional(I.String())});async function RDt(e,t,r){try{let n=await e.get(In).checkAndUpdateStatus(e,{githubAppId:r.githubAppId});if(n.status==="OK")return[{status:"AlreadySignedIn",user:n.user},null];let i=r.githubAppId??e.get(Hs).findAppIdToAuthenticate(),s=await e.get(p4).getToken(e,i),a=s.waitForAuth.then(async l=>(e.get(Hs).githubAppId=i,await e.get(In).setAuthRecord(e,{...l,githubAppId:i}),await e.get(In).checkAndUpdateStatus(e,{freshSignIn:!0})));return e.get(In).pendingSignIn={verificationUri:s.verification_uri,status:a},[{status:"PromptUserDeviceFlow",userCode:s.user_code,verificationUri:s.verification_uri,expiresIn:s.expires_in,interval:s.interval,command:{command:nG,title:"Sign in with GitHub",arguments:[]}},null]}catch(n){if(!(n instanceof Us))throw n;return[null,{code:Nr.DeviceFlowFailed,message:n.message}]}}o(RDt,"handleSignInInitiateChecked");var Ice=st(BDt,RDt);d();var DDt=I.Object({githubToken:I.String({minLength:1}),user:I.String({minLength:1}),githubAppId:I.Optional(I.String({minLength:1}))});async function PDt(e,t,r){let n=r.githubToken,i=r.user,s=r.githubAppId;return await e.get(In).setAuthRecord(e,{user:i,oauth_token:n,githubAppId:s}),[await e.get(In).checkAndUpdateStatus(e),null]}o(PDt,"handleSignInWithGithubTokenChecked");var pUe=st(DDt,PDt);d();var FDt=I.Object({options:I.Optional(I.Object({}))});async function NDt(e,t,r){return await e.get(In).deleteAuthRecord(e),[await e.get(In).checkAndUpdateStatus(e),null]}o(NDt,"handleSignOutChecked");var gUe=st(FDt,NDt);d();var LDt=I.Object({});async function QDt(e,t,r){return XEe(e),["OK",null]}o(QDt,"handleTelemetryAuthNotifyDismissedChecked");var AUe=st(LDt,QDt);d();var MDt=I.Object({authSource:I.Union([I.Literal("toast"),I.Literal("goldbar"),I.Literal("menu")])});async function ODt(e,t,r){return JEe(e,r.authSource),["OK",null]}o(ODt,"handleTelemetryAuthNotifyShownChecked");var yUe=st(MDt,ODt);d();var UDt=I.Object({authType:I.Union([I.Literal("editorAuth"),I.Literal("deviceFlow")])});async function qDt(e,t,r){return ML(e,r.authType),["OK",null]}o(qDt,"handleTelemetryGitHubLoginSuccessChecked");var CUe=st(UDt,qDt);d();var WDt=I.Object({authSource:I.Union([I.Literal("toast"),I.Literal("goldbar"),I.Literal("menu")]),authType:I.Union([I.Literal("editorAuth"),I.Literal("deviceFlow")])});async function GDt(e,t,r){return QL(e,r.authSource,r.authType),["OK",null]}o(GDt,"handleTelemetryNewGitHubLoginChecked");var EUe=st(WDt,GDt);d();var HDt=I.Object({transaction:I.Optional(I.String()),stacktrace:I.Optional(I.String()),properties:I.Optional(I.Record(I.String(),I.String())),platform:I.Optional(I.String()),exception_detail:I.Optional(I.Array(I.Object({type:I.Optional(I.String()),value:I.Optional(I.String()),stacktrace:I.Optional(I.Array(I.Object({filename:I.Optional(I.String()),lineno:I.Optional(I.Union([I.String(),I.Integer()])),colno:I.Optional(I.Union([I.String(),I.Integer()])),function:I.Optional(I.String()),in_app:I.Optional(I.Boolean())})))})))}),Tce=class extends Error{constructor(r,n){super(r);this.code=n;this.name="AgentEditorError"}static{o(this,"AgentEditorError")}};async function VDt(e,t,r){let n=e.get(oo),i=e.get(an).getEditorPluginInfo(),s=r.properties||{},a;r.platform&&r.exception_detail&&Zp.has(i.name)&&(a=Object.assign({rollup_id:"auto",context:kK(e),sensitive_context:{},deployed_to:n.getBuildType(),platform:r.platform,exception_detail:r.exception_detail},Zp.get(i.name)),r.transaction&&(a.transaction=r.transaction),n.getBuildType()!=="dev"&&(a.release=`${a.app}@${i.version}`));let l=new Tce(r.stacktrace??"N/A",i.name);return l.stack=void 0,Lo(e,l,void 0,s,a),["OK",null]}o(VDt,"handleTelemetryExceptionChecked");var xUe=st(HDt,VDt);d();d();d();d();d();d();var bUe=nt(require("tls"));var NH=class{static{o(this,"RootCertificateConfigurator")}#e;constructor(t){this._certificateReader=t.get(Oa)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async createSecureContext(){let t=await this._certificateReader.getAllRootCAs(),n=bUe.createSecureContext({_vscodeAdditionalCaCerts:t});for(let i of t)n.context.addCACert(i);return{secureContext:n,certs:t}}async applyToRequestOptions(t){this.#e??=this.createSecureContext();let r=await this.#e;t.secureContext=r.secureContext,t.ca=r.certs,t.cert=r.certs}};var O6=class extends Fr{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=o((r,n)=>async i=>{i.rejectUnauthorized=n,i.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(i);let s=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(i,s)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new NH(r),this.proxySocketFactory=r.get(Kp)}static{o(this,"HelixFetcher")}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(oo);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),Zme({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let i=n.signal,s=!1;if(n.timeout){let u=this.makeAbortController();setTimeout(()=>{u.abort(),s=!0},n.timeout),n.signal?.addEventListener("abort",()=>u.abort()),n.signal?.aborted&&u.abort(),i=u.signal}let a={...n,body:n.body?n.body:n.json,signal:i};await this.certificateConfigurator.applyToRequestOptions(a);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let c=await this.fetchApi.fetch(r,a).catch(u=>{throw s?new _7(`Request to <${r}> timed out after ${n.timeout}ms`,u):u});return new z2(c.status,c.statusText,c.headers,()=>c.text(),()=>c.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new oD}};d();d();d();d();var wce=class extends Oa{constructor(r){super();this.certificates=r}static{o(this,"TestCertificateReader")}async getAllRootCAs(){return this.certificates}},vUe=o(e=>new wce(e),"createTestCertificateReader");function kce(e,t,r){let n=new Sce;n.set("x-github-request-id","1");for(let[i,s]of Object.entries(r||{}))n.set(i,s);return new z2(e,"status text",n,()=>Promise.resolve(t??""),()=>null)}o(kce,"createFakeResponse");function IUe(e,t,r){let n;return typeof t=="string"?n=t:n=JSON.stringify(t),kce(e,n,Object.assign({"content-type":"application/json"},r))}o(IUe,"createFakeJsonResponse");var ck=class extends Fr{constructor(){super(...arguments);this.name="FakeFetcher"}static{o(this,"FakeFetcher")}disconnectAll(){throw new Error("Method not implemented.")}makeAbortController(){return new _ce}};var LH=class extends ck{static{o(this,"NoFetchFetcher")}fetch(t,r){throw new Error("NoFetchFetcher does not support fetching")}};var Sce=class{constructor(){this.headers=new Map}static{o(this,"FakeHeaders")}append(t,r){this.headers.set(t.toLowerCase(),r)}delete(t){this.headers.delete(t.toLowerCase())}get(t){return this.headers.get(t.toLowerCase())??null}has(t){return this.headers.has(t.toLowerCase())}set(t,r){this.headers.set(t.toLowerCase(),r)}entries(){return this.headers.entries()}keys(){return this.headers.keys()}values(){return this.headers.values()}[Symbol.iterator](){return this.headers.entries()}},_ce=class{constructor(){this.signal={aborted:!1,addEventListener:o(()=>{},"addEventListener"),removeEventListener:o(()=>{},"removeEventListener")}}static{o(this,"FakeAbortController")}abort(){this.signal.aborted=!0}};var QH=class extends ck{static{o(this,"ExpConfigFetcher")}constructor(t){super(),this.fullConfig={Features:[],Flights:{},Configs:[{Id:"vscode",Parameters:t.Parameters}],ParameterGroups:[],AssignmentContext:t.AssignmentContext}}fetch(t,r){return t.endsWith("telemetry")?Promise.resolve(IUe(200,this.fullConfig)):Promise.resolve(kce(404,""))}},MH=class extends QH{constructor(r,n){super(r);this.delegate=n}static{o(this,"ExpConfigFetcherWithDelegate")}fetch(r,n){return r.endsWith("telemetry")?super.fetch(r,n):this.delegate.fetch(r,n)}makeAbortController(){return this.delegate.makeAbortController()}};var OH=class extends fh{constructor(r=[]){super();this._agents=r}static{o(this,"TestRemoteAgentRegistry")}async agents(){return this._agents}};d();var UH=class extends qa{constructor(){super(...arguments);this.prompts=[];this.fetchResults=[];this.diffs=[]}static{o(this,"TestConversationInspector")}shouldInspect(){return!0}async inspectPrompt(r){this.shouldInspect()&&this.prompts.push(r)}async inspectFetchResult(r){this.shouldInspect()&&this.fetchResults.push(r)}async documentDiff(r){this.shouldInspect()&&this.diffs.push(r)}};d();var qH=class extends cs{constructor(){super(...arguments);this.openConversations=new Map;this.steps=[]}static{o(this,"TestConversationProgress")}async begin(r,n,i){this.openConversations.set(r.id,i),this.steps.push({workDoneToken:i,conversationId:r.id,turnId:n.id,type:"BEGIN",agentSlug:n.agent?.agentSlug})}async cancel(r,n,i){let s=this.getWorkDoneToken(r);this.steps.push({workDoneToken:s,conversationId:r.id,turnId:n.id,type:"CANCEL",error:i}),this.openConversations.delete(r.id)}async end(r,n,i){let s=this.getWorkDoneToken(r);this.steps.push({workDoneToken:s,conversationId:r.id,turnId:n.id,type:"END",...i}),this.openConversations.delete(r.id)}async report(r,n,i){let s=this.getWorkDoneToken(r);this.steps.push({workDoneToken:s,conversationId:r.id,turnId:n.id,type:"REPORT",...i,steps:this.copyPayloadSteps(i)})}copyPayloadSteps(r){return r.steps?.map(n=>({id:n.id,title:n.title,description:n.description,status:n.status,error:n.error}))||[]}getWorkDoneToken(r){let n=this.openConversations.get(r.id);if(n===void 0)throw new Error(`No work done token for conversation ${r.id}`);return n}};d();function jDt(e){return{modelId:"gpt-3.5-turbo",modelFamily:e,uiName:"Test GPT",maxRequestTokens:6144,maxResponseTokens:2048,baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:"cl100k_base",isExperimental:!1,stream:!0,toolCalls:!0}}o(jDt,"fakeChatModelConfiguration");function $Dt(e){return{modelId:"embedding-test",modelFamily:e,maxBatchSize:1,maxTokens:50,tokenizer:"cl100k_base"}}o($Dt,"fakeEmbeddingModelConfiguration");var WH=class extends Zn{static{o(this,"TestModelConfigurationProvider")}async getBestChatModelConfig(t){let r=t[0];return jDt(r)}async getFirstMatchingEmbeddingModelConfiguration(t){return $Dt(t)}};d();var GH=class extends Hl{constructor(){super(...arguments);this.openedUrls=[];this.opened=new Xv}static{o(this,"TestUrlOpener")}async open(r){this.openedUrls.push(r),this.opened.resolve()}},HH=class extends ml{constructor(){super();this.sentMessages=[];this.warningPromises=[]}static{o(this,"TestNotificationSender")}performDismiss(){this.actionToPerform="DISMISS"}performAction(r){this.actionToPerform=r}showWarningMessage(r,...n){this.sentMessages.push(r);let i;if(this.actionToPerform)if(this.actionToPerform==="DISMISS")i=Promise.resolve(void 0);else{let s=n.find(a=>a.title===this.actionToPerform);i=s?Promise.resolve(s):Promise.resolve(void 0)}else i=n?Promise.resolve(n[0]):Promise.resolve(void 0);return this.warningPromises.push(i),i}async waitForWarningMessages(){await Promise.all(this.warningPromises)}};d();function Bce(e,t,r,n){return H0.create(h5(e.toString()).toString(),t,r,n,t)}o(Bce,"createTextDocument");var Rce=class extends Or{constructor(r){super(r);this._openTextDocuments=[];this._notebookDocuments=new Map;this._workspaceFolders=[];this._focusSubscribers=[];this._changeSubscribers=[];this._openSubscribers=[];this._closeSubscribers=[];this.onDidFocusTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._focusSubscribers.push(s),{dispose:o(()=>{this._focusSubscribers=this._focusSubscribers.filter(a=>a!==s)},"dispose")}},"onDidFocusTextDocument");this.onDidChangeTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._changeSubscribers.push(s),{dispose:o(()=>{this._changeSubscribers=this._changeSubscribers.filter(a=>a!==s)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._openSubscribers.push(s),{dispose:o(()=>{this._openSubscribers=this._openSubscribers.filter(a=>a!==s)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._closeSubscribers.push(s),{dispose:o(()=>{this._closeSubscribers=this._closeSubscribers.filter(a=>a!==s)},"dispose")}},"onDidCloseTextDocument")}static{o(this,"SimpleTestTextDocumentManager")}init(r){this._workspaceFolders=r}async openTextDocument(r){return super.openTextDocument(r)}getOpenTextDocuments(){return this._openTextDocuments}setTextDocument(r,n,i){let s=Bce(r,n,0,i);return this._openTextDocuments.push(s),s}updateTextDocument(r,n){let i=this._openTextDocuments.findIndex(a=>a.uri===r.toString());if(i<0)throw new Error("Document not found");let s=this._openTextDocuments[i];this._openTextDocuments[i]=Bce(r,s.clientLanguageId,s.version+1,n)}setNotebookDocument(r,n){this._notebookDocuments.set(r.uri.replace(/#.*/,""),n)}findNotebook({uri:r}){return this._notebookDocuments.get(r.replace(/#.*/,""))}getWorkspaceFolders(){return this._workspaceFolders}emitEvent(r){switch(r.eventName){case"focus":this._focusSubscribers.forEach(n=>n(r.args));break;case"change":this._changeSubscribers.forEach(n=>n(r.args));break;case"open":this._openSubscribers.forEach(n=>n(r.args));break;case"close":this._closeSubscribers.forEach(n=>n(r.args));break}}},VH=class extends Rce{constructor(r){super(r);this._closedTextDocuments=[]}static{o(this,"TestTextDocumentManager")}async openTextDocument(r){return this._closedTextDocuments.find(n=>n.uri===r)}setClosedTextDocument(r,n,i){this._closedTextDocuments.push(Bce(r,n,0,i))}};var Dce=class extends Sa{static{o(this,"NullLog")}logIt(...t){}};function zDt(e){let t=new Zv;return t.set(fp,e),t.set($3,e),t.set(oo,new oo),t.set(Wf,new Wf({debug:!1,verboseLogging:!1,testMode:!0,simulation:!1})),t.set(Oa,vUe([])),t.set(Kp,Fq(t)),t.set($h,new $h),t.set(Vf,new VP),t.set(qu,new qu),t.set(rp,new rp),t.set(ip,new ip),t.set(Ul,new Ul(t,"tid=test",!0)),t.set(Cs,new Cs),t.set(ml,new HH),t.set(Hl,new GH),t.set(op,new OI),t.set(Sa,new Dce),t.set(_c,new _c),t.set(hs,new hs("test-session","test-machine")),t.set(Rn,new Z8(t)),t.set(Su,new Su),p5(t,"copilot-test",!0),t.set(jt,new jt(t)),t.set(Uu,new Uu),t.set(Dm,new Fv),t.set(qr,new iC("tid=test")),t.set(Ki,new rF),t.set(Co,new Co),t.set(gd,YM(t)),t.set(Rm,new Rm),t.set($0,new $0),t.set(Ad,new Ad),t.set(M1,M1.default),t.set(nf,new nf),t.set(zf,new zf(t,!1)),t.set(Hs,new Hs),t.set(qn,new qn(t)),t.set(Ou,new OL),t.set(Fa,new Fa),t.set(ma,qM(t,async(r,n,i)=>n.find(s=>s==="*")?1:n.find(s=>typeof s!="string"&&s.language===i.languageId)?10:0)),YDt(t),t.set(Qm,new Qm(t)),t.set(rs,new rs),t}o(zDt,"_createBaselineContext");function YDt(e){e.set(Hi,new Hi(e)),e.set(cs,new qH),e.set(e0,new e0(e)),e.set(Wa,new Wa),e.set(kl,new kl),e.set(qa,new UH),e.set(Md,new Md(e,[])),e.set(Zn,new WH),e.set(fh,new OH),e.set(rg,new rg(e)),e.set(Ky,new Ky),e.set(Zs,new Zs(e)),e.set(Zl,new Zl),e.set(uf,new uf)}o(YDt,"registerConversation");function TUe(){let e=zDt(new $3(new Nv,new Map));return e.set(Fr,new LH),e.set(an,new Pce),e.set(Or,new VH(e)),e.set(Qo,new Tv),e.set(Pa,new Pa(e)),e.set(Ua,new Ua(e)),e.set(Tl,new Oq(e)),UW(e),e}o(TUe,"createLibTestingContext");var Pce=class extends an{constructor(r={name:"lib-tests-plugin",version:"2"},n={name:"lib-tests-editor",version:"1"},i=[{name:"lib-tests-related-plugin",version:"3"}]){super();this.editorPluginInfo=r;this.editorInfo=n;this.relatedPluginInfo=i}static{o(this,"LibTestsEditorInfo")}getEditorInfo(){return this.editorInfo}getEditorPluginInfo(){return this.editorPluginInfo}getRelatedPluginInfo(){return this.relatedPluginInfo}};var SUe=nt(require("fs"));var wUe=`${process.env.HOME}/.copilot-testing-gh-token`,jH,$H;async function _Ue(e){e.forceSet(qr,new iC(await KDt()))}o(_Ue,"setTestingCopilotTokenManager");var KDt=o(async()=>{if(process.env.GH_COPILOT_IDE_TOKEN)return process.env.GH_COPILOT_IDE_TOKEN;let e=process.env.GH_COPILOT_TOKEN??"";if(/=/.test(e))return e;if($H)return $H;let t=e||process.env.GITHUB_COPILOT_TOKEN||await JDt(),r=TUe(),n=new O6(r);return r.forceSet(Fr,n),$H=tF(r,{token:t}).then(i=>{if(i.kind==="success")return i.envelope.token;throw new Us('Could not fetch testing Copilot token. Try running "npm run get_token" again?')}),$H},"getCopilotToken");async function JDt(){try{jH??=(await SUe.promises.readFile(wUe)).toString().trim()}catch{jH??=process.env.GITHUB_TOKEN??""}if(!jH)throw new Error(`Tests: either GH_COPILOT_IDE_TOKEN, GH_COPILOT_TOKEN, or GITHUB_TOKEN must be set, or there must be a GitHub token from an app with access to Copilot in ${wUe}. Run "npm run get_token" to get one.`);return jH}o(JDt,"getTestingGitHubToken");function kUe(e){return new d1({token:`test token ${xr()}`,refresh_in:0,expires_at:0,...e})}o(kUe,"createTestCopilotToken");var iC=class extends qr{constructor(r){super();this.token=r;this.wasReset=!1}static{o(this,"FixedCopilotTokenManager")}async getGitHubSession(){return Promise.resolve({token:`copilot-client test oauth token ${xr()}`})}async getToken(){return kUe({token:this.token})}resetToken(){this.wasReset=!0}async checkCopilotToken(){return{status:"OK"}}};var zH=class extends In{static{o(this,"NotAuthManager")}constructor(){super(null,null)}getAuthRecord(){return Promise.resolve(void 0)}async checkAndUpdateStatus(t,r){return{status:"NotSignedIn"}}},YH=class extends In{static{o(this,"AlwaysAuthManager")}constructor(){super(null,new iC("tid=valid-copilot-token"))}getAuthRecord(){return Promise.resolve({user:"user",oauth_token:"",githubAppId:""})}};var XDt=I.Object({options:I.Optional(I.Object({}))});async function ZDt(e,t,r){return e.forceSet(In,new YH),e.get(qr).resetToken(),e.get(Ki).forceNormal(),await new Promise(n=>setTimeout(n,0)),["OK",null]}o(ZDt,"handleTestingAlwaysAuthChecked");var BUe=st(XDt,ZDt);d();var ePt=I.Object({options:I.Optional(Dn),messages:I.Array(I.Object({role:I.Enum(Il),content:I.String(),name:I.Optional(I.String())})),modelFamily:I.Optional(I.Enum(Mi)),stop:I.Optional(I.Array(I.String())),conversationOptions:I.Optional(I.Object({maxResponseTokens:I.Optional(I.Number()),temperature:I.Optional(I.Number())}))});async function tPt(e,t,r){let n=new Ms(e),i=await e.get(Zn).getBestChatModelConfig([r.modelFamily??Mi.Gpt35turbo]),s=await Xa(e,"","");return[await n.fetchResponse({modelConfiguration:i,messages:r.messages,uiKind:"conversationIntegrationTest",stop:r.stop,intentParams:{intent:!0},llmInteraction:tc.user("test",xr())},t,s),null]}o(tPt,"handleChatMLChecked");var RUe=ei(st(ePt,tPt));d();d();var DUe=require("crypto"),PUe=require("http"),FUe=require("stream"),NUe=require("util"),q6=nt(dp());var rPt=9e4,nPt=new q6.ProtocolRequestType("copilot/fetch"),iPt=new q6.ProtocolRequestType("copilot/fetchCancel"),oPt=new q6.ProgressType,sPt=new q6.ProtocolRequestType("copilot/fetchDisconnectAll"),mg=class extends Error{static{o(this,"EditorFetcherError")}constructor(t){super(t),this.name="EditorFetcherError"}},U6=class extends Fr{constructor(r){super();this.ctx=r;this.name="EditorFetcher";this.userAgent=`GithubCopilot/${r.get(oo).getVersion()}`}static{o(this,"EditorFetcher")}disconnectAll(){return this.ctx.get($r).connection.sendRequest(sPt,{})}makeAbortController(){return new oD}async fetch(r,n){n.headers||={},n.headers["user-agent"]=this.userAgent;let{signal:i}=n,s=this.ctx.get($r).connection,a=(0,DUe.randomUUID)(),l=new Jn.CancellationTokenSource,c=new FUe.PassThrough,u=o(()=>{s.sendRequest(iPt,{workDoneToken:a})},"sendCancelRequest"),f=o(()=>{c.emit("error",new gb("EditorFetch request aborted")),c.end()},"destroyBodyStream");if(i){if(!(i instanceof the))throw new mg("EditorFetcher received unexpected abort signal");if(i.aborted)throw new gb("EditorFetcher signal aborted before fetch");i.addEventListener("abort",u)}s.onProgress(oPt,a,h=>{h.kind==="end"?(i?.removeEventListener("abort",u),i?.removeEventListener("abort",f),h.error&&c.emit("error",new mg(h.error)),c.end()):h.kind==="report"&&c.write(h.chunk)});let m=await new Promise((h,p)=>{let A=setTimeout(()=>{p(new mg("Request timed out from lsp server"))},n.timeout??rPt),E=o(()=>{p(new gb("EditorFetcher request aborted"))},"rejectIfAborted");i?.addEventListener("abort",E),s.sendRequest(nPt,lPt(r,a,n),l.token).then(h).catch(x=>{let b="EditorFetcher request failed";x&&typeof x=="object"&&"message"in x&&(b+=`: ${String(x.message)}`),x&&typeof x=="object"&&"data"in x&&(b+=`: ${(0,NUe.inspect)(x.data)}`),p(new mg(b))}).finally(()=>{i?.removeEventListener("abort",E),clearTimeout(A)})});if(!m.status)throw new mg("EditorFetcher received invalid response");return i?.addEventListener("abort",f),new z2(m.status,PUe.STATUS_CODES[m.status]??"",new ehe(m.headers),()=>aPt(c),()=>c)}};function aPt(e){return new Promise((t,r)=>{let n="";e.on("error",r),e.on("end",()=>t(n)),e.on("data",i=>n+=String(i))})}o(aPt,"consumeStream");function lPt(e,t,r){let{timeout:n,method:i}=r,s=r.headers??{},a=r.json?JSON.stringify(r.json):r.body;return r.json&&(s["content-type"]="application/json"),{url:e,headers:s,body:a,timeout:n,method:i,workDoneToken:t}}o(lPt,"convertOptionsToParams");var cPt=I.Object({url:I.String(),headers:I.Optional(I.Record(I.String(),I.String())),body:I.Optional(I.String()),timeout:I.Optional(I.Number()),method:I.Optional(I.Union([I.Literal("GET"),I.Literal("POST")])),cancelBeforeRequest:I.Optional(I.Boolean()),cancelAfterRequest:I.Optional(I.Boolean()),cancelAfterFirstChunk:I.Optional(I.Boolean())});async function uPt(e,t,r){let n=new U6(e),i=n.makeAbortController(),s=i.signal,{url:a,cancelBeforeRequest:l,cancelAfterRequest:c,cancelAfterFirstChunk:u,...f}=r;l&&i.abort();let m=n.fetch(a,{signal:s,...f});c&&i.abort();let h;try{h=await m}catch(E){return[{error:`Fetch stream error: ${E instanceof mg?E.message:String(E)}`},null]}let{status:p}=h,A=Object.fromEntries(Array.from(h.headers));try{if(u){let x=h.body();for await(let b of x){let v=b.toString();return i.abort(),[{status:p,headers:A,body:v},null]}}let E=await h.text();return[{status:p,headers:A,body:E},null]}catch(E){return[{error:`Fetch stream error: ${E instanceof mg?E.message:String(E)}`},null]}}o(uPt,"handleTestingFetchChecked");var LUe=st(cPt,uPt);d();var fPt=I.Object({});async function dPt(e,t,r){return await e.get(Co).flush(),["OK",null]}o(dPt,"handleTestingFlushPromiseQueueChecked");var QUe=st(fPt,dPt);d();var mPt=I.Object({filePath:I.String(),code:I.String(),offset:I.Number(),languageId:I.String(),timeout:I.Optional(I.Number()),waitForContext:I.Optional(I.Boolean())});async function hPt(e,t,r){try{let n=e.get(SE),i=r.timeout??1e3,s=Date.now(),a=[],l=!0;for(;l;)try{a=await n.indexClient.getContext(r.filePath,r.code,r.offset,r.languageId,t)}catch{}finally{l=(r.waitForContext??!1)&&a.length==0&&Date.now()-s<i}return[{initialized:!0,context:a},null]}catch{return[{initialized:!1,context:[]},null]}}o(hPt,"handleTestingGetContextChecked");var MUe=st(mPt,hPt);d();var pPt=I.Object({uri:I.String()});async function gPt(e,t,r){let i=await e.get(Or).getTextDocument(r);return[{uri:r.uri,languageId:i?.languageId??"unknown",version:i?.version??-1,text:i?.getText()??""},null]}o(gPt,"handleGetDocumentChecked");var OUe=st(pPt,gPt);d();var APt=I.Object({});async function yPt(e,t,r){let n=e.get(Cs),i=n.getReporter(e),s=n.getRestrictedReporter(e);if(!(i instanceof a1)||!(s instanceof a1||s===void 0))return[null,{code:Nr.InternalError,message:"Telemetry is not being captured. You must first call testing/setTelemetryCapture."}];let a=e.get(Co);return a instanceof lv&&await a.awaitPromises(),[{standard:{events:i.events,errors:i.errors},restricted:{events:s?.events||[],errors:s?.errors||[]}},null]}o(yPt,"handleTestingGetTelemetryChecked");var UUe=st(APt,yPt);d();var CPt=I.Object({options:I.Optional(I.Object({}))});async function EPt(e,t,r){e.forceSet(In,new zH),e.get(qr).resetToken();try{await e.get(qr).getToken()}catch{}return await new Promise(n=>setTimeout(n,0)),["OK",null]}o(EPt,"handleTestingNeverAuthChecked");var qUe=st(CPt,EPt);d();var xPt=I.Object({expFlags:I.Record(I.String(),I.Union([I.String(),I.Number(),I.Boolean()]))});async function bPt(e,t,r){if(r.expFlags){let n={AssignmentContext:"assignmentcontext",Parameters:{...r.expFlags}};e.forceSet(Fr,new MH(n,e.get(Fr)))}return["OK",null]}o(bPt,"handleTestingOverrideExpFlagsChecked");var WUe=st(xPt,bPt);d();var vPt=I.Object({rules:fee});async function IPt(e,t,r){let n=e.get(Pa);return n?(n.setTestingRules(r.rules),["OK",null]):[null,{code:Nr.InternalError,message:"Could not set content exclusion rules"}]}o(IPt,"handleTestingSetContentExclusionRulesChecked");var GUe=st(vPt,IPt);d();var TPt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),chunks:I.Array(I.String()),followUp:I.Optional(I.String()),suggestedTitle:I.Optional(I.String()),skills:I.Optional(I.Array(I.String())),references:I.Optional(I.Array(A6)),options:I.Optional(I.Object({}))});async function wPt(e,t,r){return e.get(fg).add(r.workDoneToken,r.chunks,r.followUp,r.suggestedTitle,r.skills,r.references),["OK",null]}o(wPt,"handleTestingSetSyntheticTurnsChecked");var HUe=st(TPt,wPt);d();var SPt=I.Object({telemetryCapture:I.Boolean()});async function _Pt(e,t,r){return r.telemetryCapture?(await p5(e,"agent",!1),e.get(Cs).setReporter(new a1),e.get(Cs).setRestrictedReporter(new a1),e.forceSet(Co,new lv)):(await p5(e,"agent",!0),e.forceSet(Co,new Co)),["OK",null]}o(_Pt,"handleTestingSetTelemetryCaptureChecked");var VUe=st(SPt,_Pt);d();var kPt=I.Object({});async function BPt(e,t,r){let n=e.get(ml),i=e.get(Sa);return await n.showWarningMessage("This is a test message",{title:"Some Action"}).then(a=>s(3,"response from message request",a?.title)).catch(a=>s(1,"error sending show message request",a)),["OK",null];async function s(a,l,c){return i.logIt(e,a,"triggerShowMessage",`${l} (${String(c)})`)}o(s,"sendNotification")}o(BPt,"handleTriggerShowMessageChecked");var jUe=st(kPt,BPt);d();var RPt=I.Object({options:I.Optional(I.Object({})),githubAppId:I.Optional(I.String())}),Fce=class extends In{constructor(r,n){super(void 0,r);this.githubAppId=n;this.user="user"}static{o(this,"FakeAuthManager")}getAuthRecord(){return Promise.resolve({user:this.user,oauth_token:"",githubAppId:this.githubAppId})}};async function DPt(e,t,r){return await _Ue(e),e.forceSet(In,new Fce(e.get(qr),r.githubAppId)),["OK",null]}o(DPt,"handleTestingUseTestingTokenChecked");var $Ue=st(RPt,DPt);d();var PPt=I.Object({});async function FPt(e,t,r){return await new g6().uninstall(e),["OK",null]}o(FPt,"handleUninstallChecked");var zUe=st(PPt,FPt);d();var NPt=fve;async function LPt(e,t,r){let n=e.get(ma),i={unregistered:[],notUnregistered:[]};return r.providers.forEach(s=>{try{n.unregisterContextProvider(s.id),i.unregistered.push(s.id)}catch{i.notUnregistered.push(s.id)}}),[i,null]}o(LPt,"unregisterContextProviders");var YUe=st(NPt,LPt);d();var Nce=nt(require("os"));var QPt=I.Object({expectedCertificate:I.String()});async function MPt(e,t,r){let i=(await Pq(e).getAllRootCAs()).map(M6),s=M6(r.expectedCertificate);return i.includes(s)?[{status:!0,message:"Certificate verified"},null]:[{status:!1,message:`expected certificate not found - Expected to find certificate ${gce(s)}. Only found those installed on the system:${Nce.EOL}${i.map(a=>"- "+gce(a)).join(Nce.EOL)}`},null]}o(MPt,"handleVerifyCertificateChecked");var KUe=st(QPt,MPt);d();var OPt=I.Object({});async function UPt(){return[{status:!!new t_().load()},null]}o(UPt,"handleVerifyKerberosChecked");var JUe=st(OPt,UPt);d();var qPt=I.Object({source:I.String(),version:I.Number(),uri:I.String()});async function WPt(e,t,r){let i=await e.get(Or).getTextDocument(r);return i?i.getText()!==r.source?[{status:!1,message:`Source mismatch: [State] ${i.getText()} !== [Request] ${r.source}`},null]:i.version!==r.version?[{status:!1,message:`Version mismatch: [State] ${i.version} !== [Request] ${r.version}`},null]:[{status:!0,message:""},null]:[{status:!1,message:`Document not found: <${r.uri}>`},null]}o(WPt,"handleVerifyStateChecked");var XUe=st(qPt,WPt);d();var GPt=I.Object({});async function HPt(e,t,r){return[e.get(Or).getWorkspaceFolders().map(i=>{let s=new URL(i.uri),a=decodeURIComponent(s.pathname);return{...i,path:a}}),null]}o(HPt,"handleVerifyWorkspaceStateChecked");var ZUe=st(GPt,HPt);var OE=class{constructor(t){this.handlers=t}static{o(this,"MethodHandlers")}};function eqe(){let e=new Map;return e.set(KOe.method,JOe),e.set(XOe.method,ZOe),e.set("getCompletions",WOe),e.set("getCompletionsCycling",GOe),e.set("getPanelCompletions",jOe),e.set(wOe.method,SOe),e.set("getVersion",$Oe),e.set("setEditorInfo",mUe),e.set("checkStatus",LLe),e.set("checkFileStatus",NLe),e.set("signInInitiate",Ice),e.set("signIn",Ice),e.set("signInConfirm",hUe),e.set("signInWithGithubToken",pUe),e.set("signOut",gUe),e.set("notifyShown",iUe),e.set("notifyAccepted",rUe),e.set("notifyRejected",nUe),e.set("telemetry/exception",xUe),e.set("telemetry/authNotifyDismissed",AUe),e.set("telemetry/authNotifyShown",yUe),e.set("telemetry/gitHubLoginSuccess",CUe),e.set("telemetry/newGitHubLogin",EUe),e.set("textDocument/copilotInlineEdit",tUe),e.set("testing/overrideExpFlags",WUe),e.set("testing/alwaysAuth",BUe),e.set("testing/neverAuth",qUe),e.set("testing/useTestingToken",$Ue),e.set("testing/setCompletionDocuments",MOe),e.set("testing/setPanelCompletionDocuments",IOe),e.set("testing/triggerShowMessageRequest",jUe),e.set("testing/getTelemetry",UUe),e.set("testing/setTelemetryCapture",VUe),e.set("testing/flushPromiseQueue",QUe),e.set("testing/getDocument",OUe),e.set("testing/chatml",RUe),e.set("testing/setSyntheticTurns",HUe),e.set("testing/fetch",LUe),e.set("testing/setContentExclusionRules",GUe),e.set("testing/setCopilotEditsResponse",hOe),e.set("testing/getContext",MUe),e.set("uninstall",zUe),e.set("debug/diagnostics",ROe),e.set("debug/listCertificates",eUe),e.set("debug/verifyState",XUe),e.set("debug/verifyCertificate",KUe),e.set("debug/verifyKerberos",JUe),e.set("debug/verifyWorkspaceState",ZUe),e.set("context/registerProviders",oUe),e.set("context/unregisterProviders",YUe),e.set("conversation/preconditions",aOe),e.set("conversation/persistence",iOe),e.set("conversation/create",rOe),e.set("conversation/turn",fOe),e.set("conversation/turnDelete",dOe),e.set("conversation/destroy",nOe),e.set("conversation/rating",lOe),e.set("conversation/copyCode",WMe),e.set("conversation/insertCode",GMe),e.set("conversation/templates",uOe),e.set("conversation/agents",qMe),e.set("conversation/registerTools",cOe),e.set("copilot/models",COe),e.set("copilot/setModelPolicy",EOe),e.set("copilot/codeReview",mOe),e.set("git/commitGenerate",zOe),e.set("editConversation/create",pOe),e.set("editConversation/turn",AOe),e.set("editConversation/turnDelete",yOe),e.set("editConversation/destroy",gOe),new OE(e)}o(eqe,"getAllMethods");d();d();d();var tqe=nt(dp());var vA=class{constructor(t){this.ctx=t}static{o(this,"AbstractNotification")}get type(){return new tqe.NotificationType(this.name)}};var Lce=class extends vA{constructor(){super(...arguments);this.name=CK.method;this.params=$2e}static{o(this,"DidChangeAuthNotificationHandler")}async handle(r){let n=this.ctx.get(In);r?.handle&&r?.accessToken?n.setTransientAuthRecord(this.ctx,{oauth_token:r.accessToken,user:r.handle,githubAppId:r.githubAppId}):n.setTransientAuthRecord(this.ctx,null)}},rqe=[Lce];d();var Qce=class extends vA{constructor(){super(...arguments);this.name=IK.method;this.params=t5e}static{o(this,"DidShowCompletionNotificationHandler")}async handle(r){let n=r.item.command.arguments[0],s=this.ctx.get(Wo).get(n);s&&T6e(this.ctx,s)}},Mce=class extends vA{constructor(){super(...arguments);this.name=TK.method;this.params=r5e}static{o(this,"DidPartiallyAcceptCompletionNotificationHandler")}async handle(r){let n=r.item.command.arguments[0],i=r.acceptedLength,s=this.ctx.get(Wo),a=s.get(n);a&&(s.delete(n),i>=a.insertText.length?eO(this.ctx,a):w6e(this.ctx,a,i))}},nqe=[Qce,Mce];d();var KH=class extends vA{constructor(){super(...arguments);this.name="window/workDoneProgress/cancel";this.params=I.Object({token:I.Union([I.String(),I.Number()])})}static{o(this,"WorkDoneProgressCancelNotification")}handle(r){this.ctx.get(cc).cancel(r.token)}};var VPt=[...rqe,...nqe,KH];function iqe(e,t){for(let r of VPt){let n=new r(e),i=Ns.Compile(n.params);t.onNotification(n.type,Iu(e,async s=>{fA(s),i.Check(s)?await n.handle(s):ff.error(e,`Notification ${n.name}:`,new oc(i.Errors(s)))},`Notification ${n.name}`))}}o(iqe,"registerNotifications");d();var sqe=nt(require("events")),JH=nt(E0());var oqe=new Cr("AgentTextDocumentConfiguration"),Oce=class{constructor(t){this.ctx=t;this.emitter=new sqe.default}static{o(this,"AgentTextDocumentsConfiguration")}create(t,r,n,i){try{return H0.create(t,r,n,i)}catch(s){throw oqe.exception(this.ctx,s,".create"),s}}update(t,r,n){try{let i=[];for(let a of r)if(JH.TextDocumentContentChangeEvent.isIncremental(a)){let l={range:a.range,rangeOffset:t.offsetAt(a.range.start),rangeLength:t.offsetAt(a.range.end)-t.offsetAt(a.range.start),text:a.text};i.push(l)}let s={document:t,contentChanges:i};return this.emitter.emit("change",s),H0.withChanges(t,r,n)}catch(i){throw oqe.exception(this.ctx,i,".update"),i}}},oC=class extends Or{constructor(r){super(r);this._documents=new Map;this.workspaceFolders=[];this.onDidChangeTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("change",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("change",s)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("open",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("open",s)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("close",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("close",s)},"dispose")}},"onDidCloseTextDocument");this.onDidFocusTextDocument=o((r,n,i)=>this.connection.onNotification(bK.type,s=>{let a=("textDocument"in s?s.textDocument:s)??{};r.call(n,"uri"in a?{document:a}:void 0)}),"onDidFocusTextDocument");this._textDocumentConfiguration=new Oce(r),this._notebookDocuments=new JH.NotebookDocuments(this._textDocumentConfiguration)}static{o(this,"AgentTextDocumentManager")}get connection(){return this.ctx.get($r).connection}init(r){this.connection.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._textDocumentConfiguration.create(i.uri,i.languageId,i.version,i.text);this._documents.set(Im(i.uri),s),this._textDocumentConfiguration.emitter.emit("open",{document:s,contentChanges:[]})}),this.connection.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges,{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=Im(i.uri),c=this._documents.get(l);c!==void 0&&(c=this._textDocumentConfiguration.update(c,s,a),this._documents.set(l,c))}),this.connection.onDidCloseTextDocument(n=>{let i=Im(n.textDocument.uri);this._documents.delete(i),this._textDocumentConfiguration.emitter.emit("close",{document:{uri:i}})}),this._notebookDocuments.listen(this.connection),this.workspaceFolders.length=0,this.workspaceFolders.push(...r)}didChangeWorkspaceFolders(r){r.added.forEach(n=>this.registerWorkspaceFolder(n)),r.removed.forEach(n=>this.unregisterWorkspaceFolder(n))}unregisterWorkspaceFolder(r){let n=this.workspaceFolders.findIndex(i=>i.uri===r.uri);n>=0&&this.workspaceFolders.splice(n,1)}registerWorkspaceFolder(r){this.workspaceFolders.push(r)}getOpenTextDocuments(){return[...this._documents.values()]}getOpenTextDocument(r){return this._documents.get(Im(r.uri))}getWorkspaceFolders(){return this.workspaceFolders}findNotebook(r){let n=this._notebookDocuments.findNotebookDocumentForCell(r.uri);if(n)return{getCells:o(()=>n.cells.map((i,s)=>this.wrapCell(i,s)).filter(i=>!!i),"getCells"),getCellFor:o(({uri:i})=>{let s=n.cells.findIndex(a=>a.document===i);return s!==-1?this.wrapCell(n.cells[s],s):void 0},"getCellFor")}}wrapCell(r,n){let i=this._notebookDocuments.getCellTextDocument(r);if(i)return{kind:r.kind,metadata:r.metadata??{},index:n,document:i}}};var aqe=Ns.Compile(X2e);function fA(e){if(e!==null){if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=fA(e[t]);else if(typeof e=="object"){let t=e;for(let r in t)t[r]===null?delete t[r]:t[r]=fA(t[r])}return e}}o(fA,"purgeNulls");var $r=class{constructor(t,r){this.ctx=t;this.connection=r;this.initialized=!1;this.#i=this.ctx.get(Sa)}static{o(this,"Service")}#e;#t;#i;get clientCapabilities(){return this.#t}listen(){let t=this.ctx,r=this.connection;r.onRequest(this.messageHandler.bind(this)),iqe(t,r);let n={name:"GitHub Copilot Language Server",version:t.get(oo).getDisplayVersion(),nodeVersion:process.versions.node},i,s=o(async c=>{try{if(i&&c&&typeof c=="object"&&!("settings"in c)){let u=await r.workspace.getConfiguration(["github.copilot",...Ece].map(m=>({section:m}))),f={github:{copilot:u.shift()}};for(let m of Ece)f[m]=u.shift();c.settings=f}return fUe(t,fA(c))}catch(u){ff.exception(t,u,"didChangeConfiguration")}},"didChangeConfiguration");function a(c){try{t.get(oC).didChangeWorkspaceFolders(c),t.get(nf).emit(c)}catch(u){ff.exception(t,u,"didChangeWorkspaceFolders")}}o(a,"didChangeWorkspaceFolders"),this.connection.onNotification("vs/didAddWorkspaceFolder",({name:c,uri:u})=>a({added:[{uri:u,name:c??u}],removed:[]})),this.connection.onNotification("vs/didRemoveWorkspaceFolder",({name:c,uri:u})=>a({added:[],removed:[{uri:u,name:c??u}]})),r.onInitialize(async c=>{if(this.initialized)throw new Error("initialize request sent after initialized notification");this.#t=c.capabilities;let u=c.capabilities.copilot,f=fA(c.initializationOptions);if(f){if(!aqe.Check(f))throw new oc(aqe.Errors(f));let A=f,E=t.get(an);A.editorPluginInfo?E.setEditorAndPluginInfo({version:"unknown",...A.editorPluginInfo},A.editorInfo&&{version:"unknown",...A.editorInfo},A.relatedPluginInfo??[]):ff.warn(t,"editorInfo and editorPluginInfo will soon be required in initializationOptions. This will replace setEditorInfo."),A.copilotIntegrationId&&E.setCopilotIntegrationId(A.copilotIntegrationId),A.githubAppId&&(t.get(Hs).githubAppId=A.githubAppId),A.copilotCapabilities&&(u=A.copilotCapabilities)}let m=c.capabilities.workspace?.workspaceFolders??!1;m&&(await this.ctx.get(Xp).start(),await this.ctx.get(uA).tryStart()),t.get(oC).init(c.workspaceFolders??[]),M8e(this.ctx),t.get(nf).emit({added:c.workspaceFolders??[],removed:[]}),i=c.capabilities.workspace?.configuration,u&&(t.get(rs).setCapabilities(u),"openURL"in u&&VW(t,["The openURL Copilot capability has been removed in favor of window/showDocument."]));let p=o(async()=>{this.initialized||(this.initialized=!0,ff.info(t,`${n.name} ${n.version} initialized`),m&&r.workspace.onDidChangeWorkspaceFolders(a),i?await s({}):await lk(t),this.installationTelemetryTimer=setTimeout(()=>{new g6().startup(t).catch(()=>{})},1e3),t.get(dA).emit(),K8e(t))},"onInitialized");return r.onInitialized(Iu(t,p,"onInitialized")),t.get(lh).init(),u?.token&&t.get(In).setTransientAuthRecord(t,null),u?.redirectedTelemetry&&await PLe(t),lqe.lt(process.versions.node,"20.8.0")&&ff.warn(t,`Node.js ${process.versions.node} support is deprecated. Please upgrade to Node.js 20.8 or newer.`),{capabilities:{textDocumentSync:{openClose:!0,change:mh.TextDocumentSyncKind.Incremental},notebookDocumentSync:{notebookSelector:[{notebook:"*"}]},workspace:{workspaceFolders:{supported:m,changeNotifications:m}},executeCommandProvider:{commands:SLe(t,r)},inlineCompletionProvider:{}},serverInfo:n}}),r.onShutdown(async()=>{await(this.#e??=this.deactivate())}),r.onExit(()=>void this.onExit()),r.onDidChangeConfiguration(Iu(t,s,"onDidChangeConfiguration")),r.listen();let l=new oG;this.ctx.forceSet(Sa,l)}async messageHandler(t,r,n){let i=this.ctx.get(OE).handlers.get(t);if(!i)return new mh.ResponseError(Nr.MethodNotFound,`Method not found: ${t}`);if(!this.initialized)return new mh.ResponseError(Nr.ServerNotInitialized,"Agent service not initialized.");if(this.#e)return new mh.ResponseError(Nr.InvalidRequest,"Agent service shut down.");if(t!=="setEditorInfo"&&!kLe(this.ctx.get(an)))throw new mh.ResponseError(Nr.ServerNotInitialized,"editorInfo and editorPluginInfo not set in initializationOptions");Array.isArray(r)&&(r=r[0]),fA(r);try{let[s,a]=await i(this.ctx,n,r);return a?new mh.ResponseError(a.code,a.message,a.data):s}catch(s){if(n.isCancellationRequested)return new mh.ResponseError(Nr.RequestCancelled,"Request was canceled");if(s instanceof Us)return new mh.ResponseError(Nr.NoCopilotToken,`Not authenticated: ${s.message}`);throw s instanceof mh.ResponseError||ff.exception(this.ctx,s,`Request ${t}`),s}}async onExit(){this.ctx.forceSet(Sa,this.#i),await(this.#e??=this.deactivate())}async deactivate(){let t=this.ctx;clearTimeout(this.installationTelemetryTimer),mre(t),await Promise.race([new Promise(r=>setTimeout(r,100)),t.get(Co).flush()]),await Promise.race([new Promise(r=>setTimeout(r,1800)),t.get(Cs).deactivate()])}dispose(){clearTimeout(this.installationTelemetryTimer),this.connection.dispose()}},ff=new Cr("lsp");var XH=class e extends N4{constructor(r){super(r);this.reportedUnknownProviders=new Set}static{o(this,"AgentRelatedFilesProvider")}get service(){return this.context.get($r)}static mapProviderNameToNeighboringFileType(r){let n="CSharpCopilotCompletionContextProvider",i="CSharpRoslynCompletionRelatedContextProvider",s="CppCopilotCompletionContextProvider",a="CppCopilotCompletionSemanticCodeContextProvider";switch(r){case n:return"related/csharp";case i:return"related/csharproslyn";case s:return"related/cpp";case a:return"related/cppsemanticcodecontext";default:return"related/other"}}convert(r){let n={entries:[],traits:r.traits};for(let i of r.entries){let s={type:e.mapProviderNameToNeighboringFileType(i.providerName),uris:i.uris};n.entries.push(s),s.type==="related/other"&&!this.reportedUnknownProviders.has(i.providerName)&&(this.reportedUnknownProviders.add(i.providerName),Ka.warn(this.context,`unknown providerName ${i.providerName}`))}return n}async getRelatedFilesResponse(r,n,i){Ka.debug(this.context,`Fetching related files for ${r.uri}`);let s=this.context.get(rs).getCapabilities().related??!1;if(await e.relatedCapabilityTelemetry(this.context,n,s),!s)return Ka.debug(this.context,"`copilot/related` not supported"),O8e;try{let a=await this.service.connection.sendRequest(SK.type,{textDocument:{uri:r.uri},data:r.data,telemetry:{properties:n.properties,measurements:n.measurements}},i);return this.convert(a)}catch(a){return Ka.exception(this.context,a,".copilotRelated"),null}}static{this.telemetrySent=!1}static async relatedCapabilityTelemetry(r,n,i){try{if(!i||e.telemetrySent)return;e.telemetrySent=!0,er(r,"copilotRelated.hasRelatedCapability",n)}catch(s){Ka.exception(r,s,"copilotRelated")}}};d();var uqe=nt(E0());var cqe=new Cr("copilotTokenManager"),Uce=class e extends bv{static{o(this,"AgentClientCopilotTokenManager")}static{this.RequestType=new uqe.ProtocolRequestType("copilot/token")}constructor(t){super(t)}async fetchCopilotTokenEnvelope(){let t=this.ctx.get($r).connection;try{this.didChangeToken??=t.onNotification("copilot/didChangeToken",()=>{this.resetToken()});let r=await t.sendRequest(e.RequestType,{force:!1});if(!r?.envelope)throw cqe.debug(this.ctx,"Envelope missing from copilot/token response"),new jf({reason:"NotSignedIn",message:"Editor did not return a token"});let{accessToken:n,handle:i,githubAppId:s,envelope:a,tokenEndpoint:l}=r;cqe.debug(this.ctx,"Retrieved envelope from copilot/token");let c=new d1(a);if(c.isExpired())throw new Us("Expired token in copilot/token response");if(i&&n)this.ctx.get(In).setTransientAuthRecord(this.ctx,{user:i,oauth_token:n,githubAppId:s},!1);else if(!await this.getGitHubSession())throw new jf({reason:"NotSignedIn"});return l!==void 0&&this.ctx.get(Rn).updateBaseUrlFromTokenEndpoint(this.ctx,l),nT(this.ctx,c),a}catch(r){throw r instanceof Error?new Us(r.message,r):r}}},uk=class extends qr{constructor(r,n=new bv(r)){super();this.ctx=r;this.fallback=n;this.client=new Uce(r)}static{o(this,"AgentCopilotTokenManager")}canGetToken(){return this.ctx.get(rs).getCapabilities().token??!1}getDelegate(){return this.canGetToken()?this.client:this.fallback}resetToken(r){this.getDelegate().resetToken(r)}async getToken(){return this.getDelegate().getToken()}async getGitHubSession(){return this.fallback.getGitHubSession()}};d();var jPt=new Cr("Public Code References"),ZH=class extends Ou{static{o(this,"CLSCitationManager")}async handleIPCodeCitation(t,r){let n=r.location?.start.line!==void 0?r.location.start.line+1:"-",i=r.location?.start.character!==void 0?r.location.start.character+1:"-",s=(r.matchingText??"").replace(/[\r\n]/g," ");jPt.info(t,`Text found matching public code in ${r.inDocumentUri} [Ln ${n}, Col ${i}] near ${s}...:`+r.details.map((a,l)=>`
  ${l+1}) [${a.license}] ${a.url}`).join("")),!(r.version===void 0||r.location===void 0)&&t.get(rs).getCapabilities().ipCodeCitation===!0&&await t.get($r).connection.sendNotification(EK.type,{uri:r.inDocumentUri,version:r.version,range:r.location,matchingText:r.matchingText??"",citations:r.details})}};d();d();function fqe(e){$Pt(e)}o(fqe,"activateExtensibilityPlatformFeature");function $Pt(e){e.set(fh,new gH(e)),e.set(rg,new rg(e))}o($Pt,"registerContextDependencies");d();var dqe=I.String(),qce=class{constructor(t){this.turnContext=t}static{o(this,"BuildLogsSkillProcessor")}value(){return .9}async processSkill(t){return this.turnContext.collectLabel(tV,"build logs"),`The contents of the application build logs:
\`\`\`
${t}
\`\`\``}},tV="build-logs",eV=class extends Sl{static{o(this,"BuildLogsSkill")}constructor(t){super(tV,"The application build logs, which can be used to fix build or compilation errors.","Reading build logs",()=>t,r=>new qce(r))}};d();var mqe=I.Object({files:I.Array(sc)}),zPt=3,Wce=class{constructor(t){this.turnContext=t}static{o(this,"RecentFilesSkillProcessor")}value(){return .7}async processSkill(t){let r=await this.getDocuments(t);if(r.length>0){let n=await this.toElidableDocs(r),i=Xy(n,"inversePositional");return await this.preElideDocuments(i)}}async getDocuments(t){let r=this.sortFiles(t.files);r=await this.filterIncludedDocs(r);let n=this.turnContext.ctx.get(qn),i=[];for(let s of r){let a=await n.readFile(s.uri),l=as(a);if(await this.turnContext.collectFile(nV,s.uri,l),a.status==="valid"&&l!=="empty"&&(i.push([a.document,s]),i.length===zPt))break}return i.reverse()}sortFiles(t){return t.sort((r,n)=>r.activeAt&&n.activeAt?new Date(r.activeAt).getTime()-new Date(n.activeAt).getTime():r.activeAt?-1:n.activeAt?1:0).reverse()}async filterIncludedDocs(t){return t.filter(r=>!this.turnContext.isFileIncluded(r.uri))}async toElidableDocs(t){return await Promise.all(t.map(async r=>{let[n,i]=r,s=await this.turnContext.ctx.get(qn).getRelativePath(n),a=new ng(n,void 0,i.visibleRange);return new Xt([[`Code excerpt from file \`${s}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),.9]])}))}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(Zn).getBestChatModelConfig(Zo("user"))).maxRequestTokens,n=t.elide(Math.floor(r*.1)).getText();return new Xt([n])}},nV="recent-files",rV=class extends Sl{static{o(this,"RecentFilesSkill")}constructor(t){super(nV,"Provides code examples helpful for creating, explaining, refactoring, or fixing code. It's based on the files the user has worked on in the editor.","Resolving recent files",()=>t,r=>new Wce(r))}};d();var hqe=I.String(),Gce=class{constructor(t){this.turnContext=t}static{o(this,"RuntimeLogsSkillProcessor")}value(){return .9}async processSkill(t){return this.turnContext.collectLabel(oV,"runtime logs"),`The contents of the application runtime logs:
\`\`\`
${t}
\`\`\``}},oV="runtime-logs",iV=class extends Sl{static{o(this,"RuntimeLogsSkill")}constructor(t){super(oV,"The application runtime or debug logs, which are used to view output logs from the console. This is useful for debugging and troubleshooting runtime issues.","Reading runtime logs",()=>t,r=>new Gce(r))}};d();var sV=nt(dp());var aV=class extends qa{constructor(r){super();this.ctx=r}static{o(this,"AgentConversationInspector")}shouldInspect(){return SP(this.ctx)}get connection(){if(this.shouldInspect())return this.ctx.get($r).connection}async inspectPrompt(r){return this.connection?.sendNotification(new sV.NotificationType("conversation/inspectPrompt"),r)}async inspectFetchResult(r){return this.connection?.sendNotification(new sV.NotificationType("conversation/inspectFetchResult"),r)}async documentDiff(r){return this.connection?.sendNotification(new sV.NotificationType("conversation/documentDiff"),r)}};d();var pqe=nt(E0());var lV=new pqe.ProgressType,cV=class extends cs{constructor(r){super();this.ctx=r;this.workDoneTokens=new Bn(250)}static{o(this,"AgentConversationProgress")}async begin(r,n,i){this.workDoneTokens.set(r.id,{status:"open",token:i}),await this.ctx.get($r).connection.sendProgress(lV,i,{kind:"begin",title:`Conversation ${r.id} Turn ${n.id}`,conversationId:r.id,turnId:n.id,agentSlug:n.agent?.agentSlug})}async report(r,n,i){let s=this.getWorkDoneToken(r);s.status==="open"&&await this.ctx.get($r).connection.sendProgress(lV,s.token,{kind:"report",conversationId:r.id,turnId:n.id,...i})}async end(r,n,i){let s=this.getWorkDoneToken(r);s.status==="open"&&(this.workDoneTokens.set(r.id,{status:"done",token:s.token,updatedAt:Date.now()}),await this.ctx.get($r).connection.sendProgress(lV,s.token,{kind:"end",conversationId:r.id,turnId:n.id,...i}))}async cancel(r,n,i){let s=this.getWorkDoneToken(r);s.status==="open"&&(this.workDoneTokens.set(r.id,{status:"cancelled",token:s.token,updatedAt:Date.now()}),await this.ctx.get($r).connection.sendProgress(lV,s.token,{kind:"end",conversationId:r.id,turnId:n.id,cancellationReason:"CancelledByUser",error:i}))}getWorkDoneToken(r){let n=this.workDoneTokens.get(r.id);if(n===void 0)throw new Error(`No work done token for conversation ${r.id}`);return n.status!=="open"&&Jr.error(this.ctx,`Work done token for conversation ${r.id} is already ${n.status}, last updated at ${n.updatedAt}`),n}};d();var gqe=nt(E0());var fk=class{constructor(t){this.ctx=t;this.notificationEndpoint="conversation/preconditionsNotification";t.get(Md).onChange(r=>{this.sendNotification(r)})}static{o(this,"PreconditionsNotifier")}sendNotification(t){return this.ctx.get($r).connection.sendNotification(new gqe.NotificationType(this.notificationEndpoint),t)}};function Aqe(e){YPt(e),KPt(e),fqe(e)}o(Aqe,"activateConversationFeature");function YPt(e){e.set(Hi,new Hi(e)),e.set(kl,new kl),e.set(e0,new e0(e)),e.set(Zn,new Kq(e)),e.set(fg,new fg),e.set(cs,new cV(e)),e.set(Md,new Md(e)),e.set(fk,new fk(e)),e.set(Bu,new oF(e,new iF(e))),e.set(EA,new EA),e.set(Ky,new Ky),e.set(qa,new aV(e)),e.set(Zs,new Zs(e)),e.set(Zl,new Zl),e.set(uf,new uf)}o(YPt,"registerContextDependencies");function KPt(e){let t=new Wa;t.registerSkill(new wG(new TG(e))),t.registerSkill(new ZG(new lc(e,ag,RMe))),t.registerSkill(new _G(new lc(e,ch,vQe))),t.registerSkill(new fG(new lc(e,w0,VLe))),t.registerSkill(new eH),t.registerSkill(new rV(new lc(e,nV,mqe))),t.registerSkill(new dG(new lc(e,kE,$Le))),t.registerSkill(new BG(new lc(e,Zy,PQe))),t.registerSkill(new iV(new lc(e,oV,hqe))),t.registerSkill(new eV(new lc(e,tV,dqe))),t.registerSkill(new DG(new lc(e,uh,FQe))),t.registerSkill(new PG(new lc(e,DE,LQe))),e.set(Wa,t)}o(KPt,"registerSkills");d();var yqe=nt(ri());var uV=class extends Tl{static{o(this,"AgentEditProgressReporter")}constructor(t){super(t)}async reportTurn(t,r){await this.ctx.get($r).connection.sendProgress(new yqe.ProgressType,t.partialResultToken,[{editConversationId:t.editConversationId,editTurnId:t.editTurnId,...r}])}};d();var Cqe=nt(E0()),Eqe=nt(dp());var fV=class extends Qy{constructor(){super(...arguments);this.requestType=new Cqe.ProtocolRequestType("conversation/invokeClientTool");this.typeCheck=Ns.Compile($Me)}static{o(this,"AgentClientToolInvoker")}async invokeClientTool(r,n){let i=this.ctx.get($r).connection,s;try{let a=await i.sendRequest(this.requestType,n),[l,c]=a;if(c){let u=new Eqe.ResponseError(c.code,c.message,c.data);throw Jr.error(this.ctx,`ResponseError while invoking client tool ${n.name}`,u),new Error(`Failed to invoke client tool ${n.name}: ${c.message}`)}s=l}catch(a){throw new Error(`Failed to invoke client tool ${n.name}: ${String(a)}`)}if(s==null)throw new Error(`Failed to invoke client tool ${n.name}: No result returned`);if(!this.typeCheck.Check(s))throw new oc(this.typeCheck.Errors(s));return this.transformToToolResult(s)}transformToToolResult(r){let n=r.content.map(i=>typeof i.value=="string"?new yA(i.value):new D6(i.value));return new CA(n)}};d();var xqe=nt(dp());var dk=class{constructor(t){this.ctx=t;this.notificationEndpoint="featureFlagsNotification";za(t,async r=>{let n=!1,i=t.get(jt),s=await i.updateExPValuesAndAssignments(),a=i.contextProviders(s).includes("java-lsp-context-provider"),l=!1;r.envelope.chat_enabled&&(n=i.ideChatEnableProjectContext(s),l=i.ideEnableCopilotEditsAgent(s));let c={};r.envelope.xcode_chat&&r.envelope.chat_enabled&&(c.xc=!0);let u={},f=i.contextProviders(s);f.length>0&&(u.ExpContextProviders=f);let m=new Map;UM(t,m,s);for(let[h,p]of m.entries())u[h]=p;await this.sendNotification({rt:r.getTokenValue("rt")==="1",sn:r.getTokenValue("sn")==="1",chat:r.envelope.chat_enabled??!1,ic:r.envelope.chat_enabled??!1,pc:n,jcp:a||R3(t),cea:l,ae:u,...c})})}static{o(this,"FeatureFlagsNotifier")}async sendNotification(t){await this.ctx.get($r).connection.sendNotification(new xqe.NotificationType(this.notificationEndpoint),t)}};d();var dV=class extends Ki{constructor(r){super();this.ctx=r;this.notificationEndpoint="statusNotification"}static{o(this,"NotificationStatusReporter")}didChange(r){let n=r.kind;r.busy&&n!=="Error"&&(n="InProgress"),this.ctx.get($r).connection.sendNotification(_K.type,{busy:r.busy,kind:r.kind,status:n,message:r.message??""}),this.ctx.get($r).connection.sendNotification("didChangeStatus",{busy:r.busy,kind:r.kind,message:r.message})}};d();var bqe=new Tv;d();d();var JPt=new Cr("fetcher"),XPt="https://default.exp-tas.com/",mV=class extends Fr{constructor(r,n,i,s){super();this.ctx=r;this.defaultFetcher=n;this.fallbackFetcher=i;this.onFallbackSuccess=s}static{o(this,"FallbackFetcher")}async fetch(r,n){try{return await this.defaultFetcher.fetch(r,n)}catch(i){if(hu(i)||`${r}/`.startsWith(XPt))throw i;JPt.info(this.ctx,`Request to <${r}> failed, attempting fallback.`,i);let s=await this.fallbackFetcher.fetch(r,n);return this.onFallbackSuccess(),s}}set proxySettings(r){this.defaultFetcher.proxySettings=r}get proxySettings(){return this.defaultFetcher.proxySettings}get name(){return this.defaultFetcher.name}async disconnectAll(){return this.defaultFetcher.disconnectAll()}makeAbortController(){return this.defaultFetcher.makeAbortController()}};var vqe=new Cr("fetcher"),hV=class extends Fr{constructor(r,n=new O6(r),i=new U6(r)){super();this.ctx=r;this.helixFetcher=n;this.editorFetcher=i;this.currentFetcher=this.helixFetcher,this.fallbackFetcher=new mV(r,n,i,()=>{vqe.info(this.ctx,"Fallback fetch succeeded, switching to editor fetcher."),this.currentFetcher=this.editorFetcher}),r.get(dA).once(()=>{this.updateFetcher()}),r.get(lf).onConfigChange(qt.FetchStrategy,a=>{this.fetchStrategy=a,this.updateFetcher()}),this.fetchStrategy=ci(r,qt.FetchStrategy)}static{o(this,"AgentDelegatingFetcher")}get editorFetcherCapability(){return this.ctx.get(rs).getCapabilities().fetch??!1}updateFetcher(){let r,n;if(!this.editorFetcherCapability)n="Using Helix fetcher, editor does not have fetch capability.",r=this.helixFetcher;else if(this.fetchStrategy==="client")n="Using editor fetcher, fetch strategy set to client.",r=this.editorFetcher;else if(this.fetchStrategy==="native")n="Using Helix fetcher, fetch strategy set to native.",r=this.helixFetcher;else{let i=ci(this.ctx,qt.DebugUseEditorFetcher);i?.toString()==="true"?(n="Using editor fetcher, debug flag is enabled.",r=this.editorFetcher):i?.toString()==="false"?(n="Using Helix fetcher, debug flag is disabled.",r=this.helixFetcher):(n="Editor fetcher capability available, will fallback if needed.",r=this.fallbackFetcher)}this.currentFetcher!=r&&(vqe.debug(this.ctx,n),this.currentFetcher=r)}get name(){return this.currentFetcher.name}set proxySettings(r){this.helixFetcher.proxySettings=r}get proxySettings(){return this.helixFetcher.proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.helixFetcher.rejectUnauthorized=r}get rejectUnauthorized(){return super.rejectUnauthorized}fetch(r,n){return this.currentFetcher.fetch(r,n)}disconnectAll(){return this.currentFetcher.disconnectAll()}makeAbortController(){return this.currentFetcher.makeAbortController()}};d();var pV=class extends ml{constructor(r){super();this.ctx=r}static{o(this,"ConnectionNotificationSender")}get connection(){return this.ctx.get($r).connection}showWarningMessage(r,...n){return this.connection.window.showWarningMessage(r,...n)}};d();d();var Iqe=nt(require("crypto")),Tqe=require("os");var ZPt=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function eFt(e){let t=e.replace(/-/g,":").toLowerCase();return!ZPt.has(t)}o(eFt,"validateMacAddress");function tFt(){let e=(0,Tqe.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(eFt(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(tFt,"getMac");var Hce;function rFt(){try{let e=tFt();return Iqe.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}o(rFt,"getMacMachineId");function wqe(){return Hce||(Hce=rFt()||xr()),Hce}o(wqe,"getMachineId");var nFt=xr()+Date.now(),Sqe=new hs(nFt,wqe());d();var gV=class extends Hl{constructor(r,n=new eF){super();this.ctx=r;this.fallback=n}static{o(this,"AgentUrlOpener")}async open(r){let n=this.ctx.get($r);if(!(n.clientCapabilities?.window?.showDocument?.support&&(await n.connection.window.showDocument({uri:r,external:!0})).success))return this.fallback.open(r)}};d();d();var AV=class extends OW{static{o(this,"AgentWorkspaceWatcher")}async getWatchedFiles(){return(await this.ctx.get(lh).getWatchedFiles({workspaceUri:this.workspaceFolder.uri,excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0})).watchedFiles}startWatching(){if(this.status==="ready")return;this.ctx.get(lh).onDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this)),this.status="ready"}stopWatching(){this.status="stopped",this.ctx.get(lh).offDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this))}onDidChangeWatchedFilesHandler(t){if(t.workspaceFolder.uri!==this.workspaceFolder.uri)return;let n=t.created.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(n.length){let a=n.map(l=>l.document).filter(l=>l!==void 0);this.onFilesCreated(a)}let i=t.changed.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(i.length){let a=i.map(l=>l.document).filter(l=>l!==void 0);this.onFilesUpdated(a)}let s=t.deleted.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);s.length&&this.onFilesDeleted(s.map(a=>({uri:a.uri})))}};var yV=class extends rc{static{o(this,"AgentWorkspaceWatcherProvider")}createWatcher(t){return new AV(this.ctx,t)}shouldStartWatching(t){return!!this.ctx.get(rs).getCapabilities().watchedFiles&&(!this.hasWatcher(t)||this.getStatus(t)==="stopped")}};function _qe(e){let t=new lf(process.env),r=APe(t);r.set(lf,t),r.set(dA,new dA),r.set(Fr,new hV(r)),r.set(Ms,new Ms(r)),vce(r,{});let n=vFe();r.set(Xl,n);let i=new uk(r);r.set(qr,i),r.set(uk,i);let s=new YT(r,n);r.set(YT,s),r.set(In,new In(s,i)),r.set(p4,new p4),r.set(hs,Sqe),r.set(an,new iG),r.set(OE,eqe()),r.set(Wo,new Wo),r.set(Qo,bqe),r.set(N4,new XH(r)),r.set(rc,new yV(r)),r.set(lh,new lh(r)),r.set(Fa,new Fa),r.set(ma,qM(r,NOe)),UW(r),RFe(r),ove(r),r.set($r,new $r(r,e)),r.set(ml,new pV(r)),r.set(Hl,new gV(r)),r.set(Ki,new dV(r)),r.set(dk,new dk(r));let a=new oC(r);return r.set(Or,a),r.set(oC,a),r.set(qn,new qn(r)),r.set(Rn,new Z8(r)),r.set(Pa,new Pa(r)),Aqe(r),OPe(r),r.set(cc,new cc),r.set(nC,new nC),r.set(dh,new dh),r.set(Ou,new ZH),r.set(dg,new dg),r.set(Ip,new RI(r)),r.set(cA,new cA(r)),r.set(oA,new oA(r)),r.set(Ua,new Ua(r)),r.set(Tl,new uV(r)),r.set(Qy,new fV(r)),r}o(_qe,"createLanguageServerContext");d();var Vce=require("events"),mk=nt(require("fs"));var EV=nt(E0());d();var Bqe=nt(require("fs")),Rqe=nt(require("http")),W6=nt(require("path"));var CV=class{constructor(t,r){this.port=t;let n;this.server=Rqe.createServer((i,s)=>{if(i.headers.accept&&i.headers.accept=="text/event-stream")switch(s.writeHead(200,{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}),i.url){case"/stdin":r.on("read",l=>{kqe(s,JSON.stringify(l))});return;case"/stdout":r.on("write",l=>{kqe(s,JSON.stringify(l))});return;default:s.writeHead(404),s.end();return}s.writeHead(200,{"Content-Type":"text/html"});let a=__dirname;W6.basename(__dirname)!=="debug"&&(a=W6.dirname(__dirname)),n??=Bqe.readFileSync(W6.join(a,"dist","debugServer.html")).toString(),s.write(n),s.end()}),this.server.on("error",i=>{console.error(i)})}static{o(this,"DebugServer")}listen(){return this.server.listen(this.port),this}getPort(){return this.server.address().port}};function kqe(e,t){e.write("data: "+t.toString().replace(/\n/g,`
data: `)+`

`)}o(kqe,"writeData");var jce=class extends EV.AbstractMessageWriter{constructor(r,n){super();this.delegate=r;this.ev=n}static{o(this,"DebugMessageWriter")}async write(r){return this.ev.emit("write",r),this.delegate.write(r)}end(){this.ev.emit("end"),this.delegate.end()}},$ce=class extends EV.AbstractMessageReader{constructor(r,n){super();this.delegate=r;this.ev=n}static{o(this,"DebugMessageReader")}listen(r){return this.delegate.listen(n=>{this.ev.emit("read",n),r(n)})}};async function Dqe(e,t,r){let n,i=parseInt(e.GH_COPILOT_DEBUG_UI_PORT??e.GITHUB_COPILOT_DEBUG_UI_PORT);if(!isNaN(i)){n??=new Vce.EventEmitter;let l=new CV(i,n).listen();i===0&&await ZP(`http://localhost:${l.getPort()}`)}let s=e.GITHUB_COPILOT_RECORD??"",a;try{let l=Date.now().toString();s==="1"||s==="true"?a=mk.openSync(`stdio${l}.log`,"w"):s&&s!=="0"&&s!=="false"&&(a=mk.openSync(s.replaceAll("%s",l),"w"))}catch(l){console.error(l)}if(a){let l=o(c=>{a&&mk.appendFile(a,c,u=>{u&&(a=void 0,console.error(u))})},"log");n??=new Vce.EventEmitter,n.on("read",c=>l(`<-- ${JSON.stringify(c)}
`)),n.on("write",c=>l(`--> ${JSON.stringify(c)}
`))}return n&&(t=new $ce(t,n),r=new jce(r,n)),[t,r]}o(Dqe,"wrapTransports");async function Lqe(){let e=KEe(process.argv.slice(2)).version(new oo().getDisplayVersion()).strict().option("debug",{type:"boolean",hidden:!0}).option("clientProcessId",{type:"string",hidden:!0}).option("stdio",{type:"boolean",describe:"Use stdio"});"pkg"in process||e.option("node-ipc",{type:"boolean",describe:"Use node IPC",conflicts:"stdio"});let t=await e.parse(),r,n;t["node-ipc"]?(r=new Ud.IPCMessageReader(process),n=new Ud.IPCMessageWriter(process)):t.stdio?(r=new Ud.StreamMessageReader(process.stdin),n=new Ud.StreamMessageWriter(process.stdout)):(console.error("error: required option '--stdio' not specified"),process.exit(1)),"pkg"in process&&process.platform!=="win32"&&(process.env.TMPDIR=await Pqe.mkdtemp(Fqe.default.tmpdir()+"/github-copilot-"));let i=(0,Ud.createConnection)(Ud.ProposedFeatures.all,...await Dqe(process.env,r,n)),s=_qe(i);console=X3e(s);let a=s.get($r);r.onClose(()=>a.onExit()),process.on("SIGINT",()=>{a.onExit().finally(()=>process.exit(130)).catch(()=>{})}),process.on("SIGTERM",()=>{a.onExit().finally(()=>process.exit(143)).catch(()=>{})}),a.listen()}o(Lqe,"main");Nqe.isMainThread?require.main===module&&Lqe():K3e()&&J3e();0&&(module.exports={getTokenizer,main});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

@vscode/prompt-tsx/dist/base/util/vs/nls.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/platform.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/process.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/path.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/uri.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

undici/lib/web/fetch/body.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

undici/lib/web/websocket/frame.js:
  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)

yargs-parser/build/lib/string-utils.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/tokenize-arg-string.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser-types.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=main.js.map
