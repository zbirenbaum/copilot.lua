"use strict";var IGe=Object.create;var sb=Object.defineProperty;var cfe=Object.getOwnPropertyDescriptor;var TGe=Object.getOwnPropertyNames;var wGe=Object.getPrototypeOf,SGe=Object.prototype.hasOwnProperty;var afe=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),lfe=e=>{throw TypeError(e)};var o=(e,t)=>sb(e,"name",{value:t,configurable:!0});var _Ge=(e,t)=>()=>(e&&(t=e(e=0)),t);var V=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),$g=(e,t)=>{for(var r in t)sb(e,r,{get:t[r],enumerable:!0})},ufe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of TGe(t))!SGe.call(e,i)&&i!==r&&sb(e,i,{get:()=>t[i],enumerable:!(n=cfe(t,i))||n.enumerable});return e};var tt=(e,t,r)=>(r=e!=null?IGe(wGe(e)):{},ufe(t||!e||!e.__esModule?sb(r,"default",{value:e,enumerable:!0}):r,e)),kGe=e=>ufe(sb({},"__esModule",{value:!0}),e),pu=(e,t,r,n)=>{for(var i=n>1?void 0:n?cfe(t,r):t,s=e.length-1,a;s>=0;s--)(a=e[s])&&(i=(n?a(t,r,i):a(i))||i);return n&&i&&sb(t,r,i),i},Ia=(e,t)=>(r,n)=>t(r,n,e);var p$=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&lfe("Object expected");var n,i;r&&(n=t[afe("asyncDispose")]),n===void 0&&(n=t[afe("dispose")],r&&(i=n)),typeof n!="function"&&lfe("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},g$=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,l,c,u){return u=Error(c),u.name="SuppressedError",u.error=a,u.suppressed=l,u},i=a=>t=r?new n(a,t,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=e.pop();)try{var l=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(l).then(s,c=>(i(c),s()))}catch(c){i(c)}if(r)throw t};return s()};var importMetaUrlShim,d=_Ge(()=>{"use strict";importMetaUrlShim=typeof document>"u"?require("node:url").pathToFileURL(__filename).href:importMetaUrlShim});var dfe=V(A$=>{d();var ffe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");A$.encode=function(e){if(0<=e&&e<ffe.length)return ffe[e];throw new TypeError("Must be between 0 and 63: "+e)};A$.decode=function(e){var t=65,r=90,n=97,i=122,s=48,a=57,l=43,c=47,u=26,f=52;return t<=e&&e<=r?e-t:n<=e&&e<=i?e-n+u:s<=e&&e<=a?e-s+f:e==l?62:e==c?63:-1}});var x$=V(C$=>{d();var mfe=dfe(),y$=5,hfe=1<<y$,pfe=hfe-1,gfe=hfe;function BGe(e){return e<0?(-e<<1)+1:(e<<1)+0}o(BGe,"toVLQSigned");function RGe(e){var t=(e&1)===1,r=e>>1;return t?-r:r}o(RGe,"fromVLQSigned");C$.encode=o(function(t){var r="",n,i=BGe(t);do n=i&pfe,i>>>=y$,i>0&&(n|=gfe),r+=mfe.encode(n);while(i>0);return r},"base64VLQ_encode");C$.decode=o(function(t,r,n){var i=t.length,s=0,a=0,l,c;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(c=mfe.decode(t.charCodeAt(r++)),c===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));l=!!(c&gfe),c&=pfe,s=s+(c<<a),a+=y$}while(l);n.value=RGe(s),n.rest=r},"base64VLQ_decode")});var cb=V(u0=>{d();function DGe(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}o(DGe,"getArg");u0.getArg=DGe;var Afe=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,PGe=/^data:.+\,.+$/;function x7(e){var t=e.match(Afe);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}o(x7,"urlParse");u0.urlParse=x7;function ab(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}o(ab,"urlGenerate");u0.urlGenerate=ab;function E$(e){var t=e,r=x7(e);if(r){if(!r.path)return e;t=r.path}for(var n=u0.isAbsolute(t),i=t.split(/\/+/),s,a=0,l=i.length-1;l>=0;l--)s=i[l],s==="."?i.splice(l,1):s===".."?a++:a>0&&(s===""?(i.splice(l+1,a),a=0):(i.splice(l,2),a--));return t=i.join("/"),t===""&&(t=n?"/":"."),r?(r.path=t,ab(r)):t}o(E$,"normalize");u0.normalize=E$;function yfe(e,t){e===""&&(e="."),t===""&&(t=".");var r=x7(t),n=x7(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),ab(r);if(r||t.match(PGe))return t;if(n&&!n.host&&!n.path)return n.host=t,ab(n);var i=t.charAt(0)==="/"?t:E$(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,ab(n)):i}o(yfe,"join");u0.join=yfe;u0.isAbsolute=function(e){return e.charAt(0)==="/"||Afe.test(e)};function FGe(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}o(FGe,"relative");u0.relative=FGe;var Cfe=function(){var e=Object.create(null);return!("__proto__"in e)}();function xfe(e){return e}o(xfe,"identity");function NGe(e){return Efe(e)?"$"+e:e}o(NGe,"toSetString");u0.toSetString=Cfe?xfe:NGe;function LGe(e){return Efe(e)?e.slice(1):e}o(LGe,"fromSetString");u0.fromSetString=Cfe?xfe:LGe;function Efe(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}o(Efe,"isProtoString");function QGe(e,t,r){var n=lb(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:lb(e.name,t.name)}o(QGe,"compareByOriginalPositions");u0.compareByOriginalPositions=QGe;function MGe(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=lb(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:lb(e.name,t.name)}o(MGe,"compareByGeneratedPositionsDeflated");u0.compareByGeneratedPositionsDeflated=MGe;function lb(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}o(lb,"strcmp");function OGe(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=lb(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:lb(e.name,t.name)}o(OGe,"compareByGeneratedPositionsInflated");u0.compareByGeneratedPositionsInflated=OGe;function UGe(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}o(UGe,"parseSourceMapInput");u0.parseSourceMapInput=UGe;function qGe(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=x7(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=yfe(ab(n),t)}return E$(t)}o(qGe,"computeSourceURL");u0.computeSourceURL=qGe});var I$=V(bfe=>{d();var b$=cb(),v$=Object.prototype.hasOwnProperty,c3=typeof Map<"u";function zg(){this._array=[],this._set=c3?new Map:Object.create(null)}o(zg,"ArraySet");zg.fromArray=o(function(t,r){for(var n=new zg,i=0,s=t.length;i<s;i++)n.add(t[i],r);return n},"ArraySet_fromArray");zg.prototype.size=o(function(){return c3?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");zg.prototype.add=o(function(t,r){var n=c3?t:b$.toSetString(t),i=c3?this.has(t):v$.call(this._set,n),s=this._array.length;(!i||r)&&this._array.push(t),i||(c3?this._set.set(t,s):this._set[n]=s)},"ArraySet_add");zg.prototype.has=o(function(t){if(c3)return this._set.has(t);var r=b$.toSetString(t);return v$.call(this._set,r)},"ArraySet_has");zg.prototype.indexOf=o(function(t){if(c3){var r=this._set.get(t);if(r>=0)return r}else{var n=b$.toSetString(t);if(v$.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");zg.prototype.at=o(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");zg.prototype.toArray=o(function(){return this._array.slice()},"ArraySet_toArray");bfe.ArraySet=zg});var Tfe=V(Ife=>{d();var vfe=cb();function WGe(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,s=t.generatedColumn;return n>r||n==r&&s>=i||vfe.compareByGeneratedPositionsInflated(e,t)<=0}o(WGe,"generatedPositionAfter");function lR(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o(lR,"MappingList");lR.prototype.unsortedForEach=o(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");lR.prototype.add=o(function(t){WGe(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");lR.prototype.toArray=o(function(){return this._sorted||(this._array.sort(vfe.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");Ife.MappingList=lR});var T$=V(wfe=>{d();var E7=x$(),Ta=cb(),cR=I$().ArraySet,GGe=Tfe().MappingList;function Rf(e){e||(e={}),this._file=Ta.getArg(e,"file",null),this._sourceRoot=Ta.getArg(e,"sourceRoot",null),this._skipValidation=Ta.getArg(e,"skipValidation",!1),this._sources=new cR,this._names=new cR,this._mappings=new GGe,this._sourcesContents=null}o(Rf,"SourceMapGenerator");Rf.prototype._version=3;Rf.fromSourceMap=o(function(t){var r=t.sourceRoot,n=new Rf({file:t.file,sourceRoot:r});return t.eachMapping(function(i){var s={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(s.source=i.source,r!=null&&(s.source=Ta.relative(r,s.source)),s.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(s.name=i.name)),n.addMapping(s)}),t.sources.forEach(function(i){var s=i;r!==null&&(s=Ta.relative(r,i)),n._sources.has(s)||n._sources.add(s);var a=t.sourceContentFor(i);a!=null&&n.setSourceContent(i,a)}),n},"SourceMapGenerator_fromSourceMap");Rf.prototype.addMapping=o(function(t){var r=Ta.getArg(t,"generated"),n=Ta.getArg(t,"original",null),i=Ta.getArg(t,"source",null),s=Ta.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,n,i,s),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s})},"SourceMapGenerator_addMapping");Rf.prototype.setSourceContent=o(function(t,r){var n=t;this._sourceRoot!=null&&(n=Ta.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Ta.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[Ta.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");Rf.prototype.applySourceMap=o(function(t,r,n){var i=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var s=this._sourceRoot;s!=null&&(i=Ta.relative(s,i));var a=new cR,l=new cR;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){var u=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});u.source!=null&&(c.source=u.source,n!=null&&(c.source=Ta.join(n,c.source)),s!=null&&(c.source=Ta.relative(s,c.source)),c.originalLine=u.line,c.originalColumn=u.column,u.name!=null&&(c.name=u.name))}var f=c.source;f!=null&&!a.has(f)&&a.add(f);var m=c.name;m!=null&&!l.has(m)&&l.add(m)},this),this._sources=a,this._names=l,t.sources.forEach(function(c){var u=t.sourceContentFor(c);u!=null&&(n!=null&&(c=Ta.join(n,c)),s!=null&&(c=Ta.relative(s,c)),this.setSourceContent(c,u))},this)},"SourceMapGenerator_applySourceMap");Rf.prototype._validateMapping=o(function(t,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!i)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i}))}},"SourceMapGenerator_validateMapping");Rf.prototype._serializeMappings=o(function(){for(var t=0,r=1,n=0,i=0,s=0,a=0,l="",c,u,f,m,h=this._mappings.toArray(),p=0,A=h.length;p<A;p++){if(u=h[p],c="",u.generatedLine!==r)for(t=0;u.generatedLine!==r;)c+=";",r++;else if(p>0){if(!Ta.compareByGeneratedPositionsInflated(u,h[p-1]))continue;c+=","}c+=E7.encode(u.generatedColumn-t),t=u.generatedColumn,u.source!=null&&(m=this._sources.indexOf(u.source),c+=E7.encode(m-a),a=m,c+=E7.encode(u.originalLine-1-i),i=u.originalLine-1,c+=E7.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(f=this._names.indexOf(u.name),c+=E7.encode(f-s),s=f)),l+=c}return l},"SourceMapGenerator_serializeMappings");Rf.prototype._generateSourcesContent=o(function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=Ta.relative(r,n));var i=Ta.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");Rf.prototype.toJSON=o(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");Rf.prototype.toString=o(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");wfe.SourceMapGenerator=Rf});var Sfe=V(u3=>{d();u3.GREATEST_LOWER_BOUND=1;u3.LEAST_UPPER_BOUND=2;function w$(e,t,r,n,i,s){var a=Math.floor((t-e)/2)+e,l=i(r,n[a],!0);return l===0?a:l>0?t-a>1?w$(a,t,r,n,i,s):s==u3.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?w$(e,a,r,n,i,s):s==u3.LEAST_UPPER_BOUND?a:e<0?-1:e}o(w$,"recursiveSearch");u3.search=o(function(t,r,n,i){if(r.length===0)return-1;var s=w$(-1,r.length,t,r,n,i||u3.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(r[s],r[s-1],!0)===0;)--s;return s},"search")});var kfe=V(_fe=>{d();function S$(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}o(S$,"swap");function HGe(e,t){return Math.round(e+Math.random()*(t-e))}o(HGe,"randomIntInRange");function _$(e,t,r,n){if(r<n){var i=HGe(r,n),s=r-1;S$(e,i,n);for(var a=e[n],l=r;l<n;l++)t(e[l],a)<=0&&(s+=1,S$(e,s,l));S$(e,s+1,l);var c=s+1;_$(e,t,r,c-1),_$(e,t,c+1,n)}}o(_$,"doQuickSort");_fe.quickSort=function(e,t){_$(e,t,0,e.length-1)}});var Rfe=V(uR=>{d();var Pr=cb(),k$=Sfe(),ub=I$().ArraySet,VGe=x$(),b7=kfe().quickSort;function Vo(e,t){var r=e;return typeof e=="string"&&(r=Pr.parseSourceMapInput(e)),r.sections!=null?new lm(r,t):new Ll(r,t)}o(Vo,"SourceMapConsumer");Vo.fromSourceMap=function(e,t){return Ll.fromSourceMap(e,t)};Vo.prototype._version=3;Vo.prototype.__generatedMappings=null;Object.defineProperty(Vo.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:o(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});Vo.prototype.__originalMappings=null;Object.defineProperty(Vo.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:o(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});Vo.prototype._charIsMappingSeparator=o(function(t,r){var n=t.charAt(r);return n===";"||n===","},"SourceMapConsumer_charIsMappingSeparator");Vo.prototype._parseMappings=o(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");Vo.GENERATED_ORDER=1;Vo.ORIGINAL_ORDER=2;Vo.GREATEST_LOWER_BOUND=1;Vo.LEAST_UPPER_BOUND=2;Vo.prototype.eachMapping=o(function(t,r,n){var i=r||null,s=n||Vo.GENERATED_ORDER,a;switch(s){case Vo.GENERATED_ORDER:a=this._generatedMappings;break;case Vo.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;a.map(function(c){var u=c.source===null?null:this._sources.at(c.source);return u=Pr.computeSourceURL(l,u,this._sourceMapURL),{source:u,generatedLine:c.generatedLine,generatedColumn:c.generatedColumn,originalLine:c.originalLine,originalColumn:c.originalColumn,name:c.name===null?null:this._names.at(c.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");Vo.prototype.allGeneratedPositionsFor=o(function(t){var r=Pr.getArg(t,"line"),n={source:Pr.getArg(t,"source"),originalLine:r,originalColumn:Pr.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Pr.compareByOriginalPositions,k$.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(t.column===void 0)for(var l=a.originalLine;a&&a.originalLine===l;)i.push({line:Pr.getArg(a,"generatedLine",null),column:Pr.getArg(a,"generatedColumn",null),lastColumn:Pr.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var c=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==c;)i.push({line:Pr.getArg(a,"generatedLine",null),column:Pr.getArg(a,"generatedColumn",null),lastColumn:Pr.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return i},"SourceMapConsumer_allGeneratedPositionsFor");uR.SourceMapConsumer=Vo;function Ll(e,t){var r=e;typeof e=="string"&&(r=Pr.parseSourceMapInput(e));var n=Pr.getArg(r,"version"),i=Pr.getArg(r,"sources"),s=Pr.getArg(r,"names",[]),a=Pr.getArg(r,"sourceRoot",null),l=Pr.getArg(r,"sourcesContent",null),c=Pr.getArg(r,"mappings"),u=Pr.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=Pr.normalize(a)),i=i.map(String).map(Pr.normalize).map(function(f){return a&&Pr.isAbsolute(a)&&Pr.isAbsolute(f)?Pr.relative(a,f):f}),this._names=ub.fromArray(s.map(String),!0),this._sources=ub.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(f){return Pr.computeSourceURL(a,f,t)}),this.sourceRoot=a,this.sourcesContent=l,this._mappings=c,this._sourceMapURL=t,this.file=u}o(Ll,"BasicSourceMapConsumer");Ll.prototype=Object.create(Vo.prototype);Ll.prototype.consumer=Vo;Ll.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=Pr.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};Ll.fromSourceMap=o(function(t,r){var n=Object.create(Ll.prototype),i=n._names=ub.fromArray(t._names.toArray(),!0),s=n._sources=ub.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return Pr.computeSourceURL(n.sourceRoot,p,r)});for(var a=t._mappings.toArray().slice(),l=n.__generatedMappings=[],c=n.__originalMappings=[],u=0,f=a.length;u<f;u++){var m=a[u],h=new Bfe;h.generatedLine=m.generatedLine,h.generatedColumn=m.generatedColumn,m.source&&(h.source=s.indexOf(m.source),h.originalLine=m.originalLine,h.originalColumn=m.originalColumn,m.name&&(h.name=i.indexOf(m.name)),c.push(h)),l.push(h)}return b7(n.__originalMappings,Pr.compareByOriginalPositions),n},"SourceMapConsumer_fromSourceMap");Ll.prototype._version=3;Object.defineProperty(Ll.prototype,"sources",{get:o(function(){return this._absoluteSources.slice()},"get")});function Bfe(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}o(Bfe,"Mapping");Ll.prototype._parseMappings=o(function(t,r){for(var n=1,i=0,s=0,a=0,l=0,c=0,u=t.length,f=0,m={},h={},p=[],A=[],x,E,v,b,S;f<u;)if(t.charAt(f)===";")n++,f++,i=0;else if(t.charAt(f)===",")f++;else{for(x=new Bfe,x.generatedLine=n,b=f;b<u&&!this._charIsMappingSeparator(t,b);b++);if(E=t.slice(f,b),v=m[E],v)f+=E.length;else{for(v=[];f<b;)VGe.decode(t,f,h),S=h.value,f=h.rest,v.push(S);if(v.length===2)throw new Error("Found a source, but no line and column");if(v.length===3)throw new Error("Found a source and line, but no column");m[E]=v}x.generatedColumn=i+v[0],i=x.generatedColumn,v.length>1&&(x.source=l+v[1],l+=v[1],x.originalLine=s+v[2],s=x.originalLine,x.originalLine+=1,x.originalColumn=a+v[3],a=x.originalColumn,v.length>4&&(x.name=c+v[4],c+=v[4])),A.push(x),typeof x.originalLine=="number"&&p.push(x)}b7(A,Pr.compareByGeneratedPositionsDeflated),this.__generatedMappings=A,b7(p,Pr.compareByOriginalPositions),this.__originalMappings=p},"SourceMapConsumer_parseMappings");Ll.prototype._findMapping=o(function(t,r,n,i,s,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return k$.search(t,r,s,a)},"SourceMapConsumer_findMapping");Ll.prototype.computeColumnSpans=o(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");Ll.prototype.originalPositionFor=o(function(t){var r={generatedLine:Pr.getArg(t,"line"),generatedColumn:Pr.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",Pr.compareByGeneratedPositionsDeflated,Pr.getArg(t,"bias",Vo.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var s=Pr.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=Pr.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=Pr.getArg(i,"name",null);return a!==null&&(a=this._names.at(a)),{source:s,line:Pr.getArg(i,"originalLine",null),column:Pr.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");Ll.prototype.hasContentsOfAllSources=o(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");Ll.prototype.sourceContentFor=o(function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var i=t;this.sourceRoot!=null&&(i=Pr.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=Pr.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");Ll.prototype.generatedPositionFor=o(function(t){var r=Pr.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Pr.getArg(t,"line"),originalColumn:Pr.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Pr.compareByOriginalPositions,Pr.getArg(t,"bias",Vo.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:Pr.getArg(s,"generatedLine",null),column:Pr.getArg(s,"generatedColumn",null),lastColumn:Pr.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");uR.BasicSourceMapConsumer=Ll;function lm(e,t){var r=e;typeof e=="string"&&(r=Pr.parseSourceMapInput(e));var n=Pr.getArg(r,"version"),i=Pr.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new ub,this._names=new ub;var s={line:-1,column:0};this._sections=i.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var l=Pr.getArg(a,"offset"),c=Pr.getArg(l,"line"),u=Pr.getArg(l,"column");if(c<s.line||c===s.line&&u<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=l,{generatedOffset:{generatedLine:c+1,generatedColumn:u+1},consumer:new Vo(Pr.getArg(a,"map"),t)}})}o(lm,"IndexedSourceMapConsumer");lm.prototype=Object.create(Vo.prototype);lm.prototype.constructor=Vo;lm.prototype._version=3;Object.defineProperty(lm.prototype,"sources",{get:o(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});lm.prototype.originalPositionFor=o(function(t){var r={generatedLine:Pr.getArg(t,"line"),generatedColumn:Pr.getArg(t,"column")},n=k$.search(r,this._sections,function(s,a){var l=s.generatedLine-a.generatedOffset.generatedLine;return l||s.generatedColumn-a.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");lm.prototype.hasContentsOfAllSources=o(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");lm.prototype.sourceContentFor=o(function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],s=i.consumer.sourceContentFor(t,!0);if(s)return s}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");lm.prototype.generatedPositionFor=o(function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Pr.getArg(t,"source"))!==-1){var i=n.consumer.generatedPositionFor(t);if(i){var s={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");lm.prototype._parseMappings=o(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,a=0;a<s.length;a++){var l=s[a],c=i.consumer._sources.at(l.source);c=Pr.computeSourceURL(i.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var u=null;l.name&&(u=i.consumer._names.at(l.name),this._names.add(u),u=this._names.indexOf(u));var f={source:c,generatedLine:l.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(i.generatedOffset.generatedLine===l.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:u};this.__generatedMappings.push(f),typeof f.originalLine=="number"&&this.__originalMappings.push(f)}b7(this.__generatedMappings,Pr.compareByGeneratedPositionsDeflated),b7(this.__originalMappings,Pr.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");uR.IndexedSourceMapConsumer=lm});var Pfe=V(Dfe=>{d();var jGe=T$().SourceMapGenerator,fR=cb(),$Ge=/(\r?\n)/,zGe=10,fb="$$$isSourceNode$$$";function gu(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=e??null,this.column=t??null,this.source=r??null,this.name=i??null,this[fb]=!0,n!=null&&this.add(n)}o(gu,"SourceNode");gu.fromStringWithSourceMap=o(function(t,r,n){var i=new gu,s=t.split($Ge),a=0,l=o(function(){var h=A(),p=A()||"";return h+p;function A(){return a<s.length?s[a++]:void 0}},"shiftNextLine"),c=1,u=0,f=null;return r.eachMapping(function(h){if(f!==null)if(c<h.generatedLine)m(f,l()),c++,u=0;else{var p=s[a]||"",A=p.substr(0,h.generatedColumn-u);s[a]=p.substr(h.generatedColumn-u),u=h.generatedColumn,m(f,A),f=h;return}for(;c<h.generatedLine;)i.add(l()),c++;if(u<h.generatedColumn){var p=s[a]||"";i.add(p.substr(0,h.generatedColumn)),s[a]=p.substr(h.generatedColumn),u=h.generatedColumn}f=h},this),a<s.length&&(f&&m(f,l()),i.add(s.splice(a).join(""))),r.sources.forEach(function(h){var p=r.sourceContentFor(h);p!=null&&(n!=null&&(h=fR.join(n,h)),i.setSourceContent(h,p))}),i;function m(h,p){if(h===null||h.source===void 0)i.add(p);else{var A=n?fR.join(n,h.source):h.source;i.add(new gu(h.originalLine,h.originalColumn,A,p,h.name))}}o(m,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");gu.prototype.add=o(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[fb]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");gu.prototype.prepend=o(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[fb]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");gu.prototype.walk=o(function(t){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[fb]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");gu.prototype.join=o(function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this},"SourceNode_join");gu.prototype.replaceRight=o(function(t,r){var n=this.children[this.children.length-1];return n[fb]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");gu.prototype.setSourceContent=o(function(t,r){this.sourceContents[fR.toSetString(t)]=r},"SourceNode_setSourceContent");gu.prototype.walkSourceContents=o(function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][fb]&&this.children[r].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)t(fR.fromSetString(i[r]),this.sourceContents[i[r]])},"SourceNode_walkSourceContents");gu.prototype.toString=o(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");gu.prototype.toStringWithSourceMap=o(function(t){var r={code:"",line:1,column:0},n=new jGe(t),i=!1,s=null,a=null,l=null,c=null;return this.walk(function(u,f){r.code+=u,f.source!==null&&f.line!==null&&f.column!==null?((s!==f.source||a!==f.line||l!==f.column||c!==f.name)&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name}),s=f.source,a=f.line,l=f.column,c=f.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),s=null,i=!1);for(var m=0,h=u.length;m<h;m++)u.charCodeAt(m)===zGe?(r.line++,r.column=0,m+1===h?(s=null,i=!1):i&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name})):r.column++}),this.walkSourceContents(function(u,f){n.setSourceContent(u,f)}),{code:r.code,map:n}},"SourceNode_toStringWithSourceMap");Dfe.SourceNode=gu});var Ffe=V(dR=>{d();dR.SourceMapGenerator=T$().SourceMapGenerator;dR.SourceMapConsumer=Rfe().SourceMapConsumer;dR.SourceNode=Pfe().SourceNode});var Lfe=V((aNt,Nfe)=>{d();var YGe=Object.prototype.toString,B$=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function KGe(e){return YGe.call(e).slice(8,-1)==="ArrayBuffer"}o(KGe,"isArrayBuffer");function JGe(e,t,r){t>>>=0;var n=e.byteLength-t;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return B$?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}o(JGe,"fromArrayBuffer");function XGe(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return B$?Buffer.from(e,t):new Buffer(e,t)}o(XGe,"fromString");function ZGe(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return KGe(e)?JGe(e,t,r):typeof e=="string"?XGe(e,t):B$?Buffer.from(e):new Buffer(e)}o(ZGe,"bufferFrom");Nfe.exports=ZGe});var Hfe=V((d3,F$)=>{d();var eHe=Ffe().SourceMapConsumer,R$=require("path"),Jh;try{Jh=require("fs"),(!Jh.existsSync||!Jh.readFileSync)&&(Jh=null)}catch{}var tHe=Lfe();function Qfe(e,t){return e.require(t)}o(Qfe,"dynamicRequire");var Mfe=!1,Ofe=!1,D$=!1,v7="auto",f3={},I7={},rHe=/^data:application\/json[^,]+base64,/,W2=[],G2=[];function N$(){return v7==="browser"?!0:v7==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}o(N$,"isInBrowser");function nHe(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}o(nHe,"hasGlobalProcessEventEmitter");function iHe(){return typeof process=="object"&&process!==null?process.version:""}o(iHe,"globalProcessVersion");function oHe(){if(typeof process=="object"&&process!==null)return process.stderr}o(oHe,"globalProcessStderr");function sHe(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}o(sHe,"globalProcessExit");function mR(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}o(mR,"handlerExec");var L$=mR(W2);W2.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),e in f3)return f3[e];var t="";try{if(Jh)Jh.existsSync(e)&&(t=Jh.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return f3[e]=t});function P$(e,t){if(!e)return t;var r=R$.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",s=r.slice(i.length);return i&&/^\/\w\:/.test(s)?(i+="/",i+R$.resolve(r.slice(i.length),t).replace(/\\/g,"/")):i+R$.resolve(r.slice(i.length),t)}o(P$,"supportRelativeURL");function aHe(e){var t;if(N$())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}t=L$(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,s,a;a=i.exec(t);)s=a;return s?s[1]:null}o(aHe,"retrieveSourceMapURL");var Q$=mR(G2);G2.push(function(e){var t=aHe(e);if(!t)return null;var r;if(rHe.test(t)){var n=t.slice(t.indexOf(",")+1);r=tHe(n,"base64").toString(),t=e}else t=P$(e,t),r=L$(t);return r?{url:t,map:r}:null});function M$(e){var t=I7[e.source];if(!t){var r=Q$(e.source);r?(t=I7[e.source]={url:r.url,map:new eHe(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,s){var a=t.map.sourcesContent[s];if(a){var l=P$(t.url,i);f3[l]=a}})):t=I7[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var n=t.map.originalPositionFor(e);if(n.source!==null)return n.source=P$(t.url,n.source),n}return e}o(M$,"mapSourcePosition");function qfe(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=M$({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+qfe(t[2])+")":e}o(qfe,"mapEvalOrigin");function lHe(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",s=this.getFunctionName(),a=!0,l=this.isConstructor(),c=!(this.isToplevel()||l);if(c){var u=this.getTypeName();u==="[object Object]"&&(u="null");var f=this.getMethodName();s?(u&&s.indexOf(u)!=0&&(i+=u+"."),i+=s,f&&s.indexOf("."+f)!=s.length-f.length-1&&(i+=" [as "+f+"]")):i+=u+"."+(f||"<anonymous>")}else l?i+="new "+(s||"<anonymous>"):s?i+=s:(i+=t,a=!1);return a&&(i+=" ("+t+")"),i}o(lHe,"CallSiteToString");function Ufe(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=lHe,t}o(Ufe,"cloneCallSite");function Wfe(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,s=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,a=s.test(iHe())?0:62;n===1&&i>a&&!N$()&&!e.isEval()&&(i-=a);var l=M$({source:r,line:n,column:i});t.curPosition=l,e=Ufe(e);var c=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?c():t.nextPosition.name||c()},e.getFileName=function(){return l.source},e.getLineNumber=function(){return l.line},e.getColumnNumber=function(){return l.column+1},e.getScriptNameOrSourceURL=function(){return l.source},e}var u=e.isEval()&&e.getEvalOrigin();return u&&(u=qfe(u),e=Ufe(e),e.getEvalOrigin=function(){return u}),e}o(Wfe,"wrapCallSite");function cHe(e,t){D$&&(f3={},I7={});for(var r=e.name||"Error",n=e.message||"",i=r+": "+n,s={nextPosition:null,curPosition:null},a=[],l=t.length-1;l>=0;l--)a.push(`
    at `+Wfe(t[l],s)),s.nextPosition=s.curPosition;return s.curPosition=s.nextPosition=null,i+a.reverse().join("")}o(cHe,"prepareStackTrace");function Gfe(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],n=+t[2],i=+t[3],s=f3[r];if(!s&&Jh&&Jh.existsSync(r))try{s=Jh.readFileSync(r,"utf8")}catch{s=""}if(s){var a=s.split(/(?:\r\n|\r|\n)/)[n-1];if(a)return r+":"+n+`
`+a+`
`+new Array(i).join(" ")+"^"}}return null}o(Gfe,"getErrorSource");function uHe(e){var t=Gfe(e),r=oHe();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),sHe(1)}o(uHe,"printErrorAndExit");function fHe(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(t).length>0;if(r&&!n)return uHe(arguments[1])}return e.apply(this,arguments)}}o(fHe,"shimEmitUncaughtException");var dHe=W2.slice(0),mHe=G2.slice(0);d3.wrapCallSite=Wfe;d3.getErrorSource=Gfe;d3.mapSourcePosition=M$;d3.retrieveSourceMap=Q$;d3.install=function(e){if(e=e||{},e.environment&&(v7=e.environment,["node","browser","auto"].indexOf(v7)===-1))throw new Error("environment "+v7+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(W2.length=0),W2.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(G2.length=0),G2.unshift(e.retrieveSourceMap)),e.hookRequire&&!N$()){var t=Qfe(F$,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(s,a){return f3[a]=s,I7[a]=void 0,r.call(this,s,a)},t.prototype._compile.__sourceMapSupport=!0)}if(D$||(D$="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),Mfe||(Mfe=!0,Error.prepareStackTrace=cHe),!Ofe){var n="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=Qfe(F$,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&nHe()&&(Ofe=!0,fHe())}};d3.resetRetrieveHandlers=function(){W2.length=0,G2.length=0,W2=dHe.slice(0),G2=mHe.slice(0),Q$=mR(G2),L$=mR(W2)}});var O$=V(()=>{d();Hfe().install()});var Ei=V((hR,Vfe)=>{d();(function(e,t){typeof hR=="object"?Vfe.exports=hR=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(hR,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),s=Object.create||function(){function v(){}return o(v,"F"),function(b){var S;return v.prototype=b,S=new v,v.prototype=null,S}}(),a={},l=a.lib={},c=l.Base=function(){return{extend:o(function(v){var b=s(this);return v&&b.mixIn(v),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},"extend"),create:o(function(){var v=this.extend();return v.init.apply(v,arguments),v},"create"),init:o(function(){},"init"),mixIn:o(function(v){for(var b in v)v.hasOwnProperty(b)&&(this[b]=v[b]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},"mixIn"),clone:o(function(){return this.init.prototype.extend(this)},"clone")}}(),u=l.WordArray=c.extend({init:o(function(v,b){v=this.words=v||[],b!=r?this.sigBytes=b:this.sigBytes=v.length*4},"init"),toString:o(function(v){return(v||m).stringify(this)},"toString"),concat:o(function(v){var b=this.words,S=v.words,B=this.sigBytes,D=v.sigBytes;if(this.clamp(),B%4)for(var F=0;F<D;F++){var W=S[F>>>2]>>>24-F%4*8&255;b[B+F>>>2]|=W<<24-(B+F)%4*8}else for(var ee=0;ee<D;ee+=4)b[B+ee>>>2]=S[ee>>>2];return this.sigBytes+=D,this},"concat"),clamp:o(function(){var v=this.words,b=this.sigBytes;v[b>>>2]&=4294967295<<32-b%4*8,v.length=t.ceil(b/4)},"clamp"),clone:o(function(){var v=c.clone.call(this);return v.words=this.words.slice(0),v},"clone"),random:o(function(v){for(var b=[],S=0;S<v;S+=4)b.push(i());return new u.init(b,v)},"random")}),f=a.enc={},m=f.Hex={stringify:o(function(v){for(var b=v.words,S=v.sigBytes,B=[],D=0;D<S;D++){var F=b[D>>>2]>>>24-D%4*8&255;B.push((F>>>4).toString(16)),B.push((F&15).toString(16))}return B.join("")},"stringify"),parse:o(function(v){for(var b=v.length,S=[],B=0;B<b;B+=2)S[B>>>3]|=parseInt(v.substr(B,2),16)<<24-B%8*4;return new u.init(S,b/2)},"parse")},h=f.Latin1={stringify:o(function(v){for(var b=v.words,S=v.sigBytes,B=[],D=0;D<S;D++){var F=b[D>>>2]>>>24-D%4*8&255;B.push(String.fromCharCode(F))}return B.join("")},"stringify"),parse:o(function(v){for(var b=v.length,S=[],B=0;B<b;B++)S[B>>>2]|=(v.charCodeAt(B)&255)<<24-B%4*8;return new u.init(S,b)},"parse")},p=f.Utf8={stringify:o(function(v){try{return decodeURIComponent(escape(h.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:o(function(v){return h.parse(unescape(encodeURIComponent(v)))},"parse")},A=l.BufferedBlockAlgorithm=c.extend({reset:o(function(){this._data=new u.init,this._nDataBytes=0},"reset"),_append:o(function(v){typeof v=="string"&&(v=p.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},"_append"),_process:o(function(v){var b,S=this._data,B=S.words,D=S.sigBytes,F=this.blockSize,W=F*4,ee=D/W;v?ee=t.ceil(ee):ee=t.max((ee|0)-this._minBufferSize,0);var de=ee*F,X=t.min(de*4,D);if(de){for(var G=0;G<de;G+=F)this._doProcessBlock(B,G);b=B.splice(0,de),S.sigBytes-=X}return new u.init(b,X)},"_process"),clone:o(function(){var v=c.clone.call(this);return v._data=this._data.clone(),v},"clone"),_minBufferSize:0}),x=l.Hasher=A.extend({cfg:c.extend(),init:o(function(v){this.cfg=this.cfg.extend(v),this.reset()},"init"),reset:o(function(){A.reset.call(this),this._doReset()},"reset"),update:o(function(v){return this._append(v),this._process(),this},"update"),finalize:o(function(v){v&&this._append(v);var b=this._doFinalize();return b},"finalize"),blockSize:512/32,_createHelper:o(function(v){return function(b,S){return new v.init(S).finalize(b)}},"_createHelper"),_createHmacHelper:o(function(v){return function(b,S){return new E.HMAC.init(v,S).finalize(b)}},"_createHmacHelper")}),E=a.algo={};return a}(Math);return e})});var w7=V((pR,jfe)=>{d();(function(e,t){typeof pR=="object"?jfe.exports=pR=t(Ei()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(pR,function(e){return function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:o(function(u,f){this.high=u,this.low=f},"init")}),c=a.WordArray=i.extend({init:o(function(u,f){u=this.words=u||[],f!=t?this.sigBytes=f:this.sigBytes=u.length*8},"init"),toX32:o(function(){for(var u=this.words,f=u.length,m=[],h=0;h<f;h++){var p=u[h];m.push(p.high),m.push(p.low)}return s.create(m,this.sigBytes)},"toX32"),clone:o(function(){for(var u=i.clone.call(this),f=u.words=this.words.slice(0),m=f.length,h=0;h<m;h++)f[h]=f[h].clone();return u},"clone")})}(),e})});var zfe=V((gR,$fe)=>{d();(function(e,t){typeof gR=="object"?$fe.exports=gR=t(Ei()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(gR,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,s=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,c=[],u=0;u<l;u++)c[u>>>2]|=a[u]<<24-u%4*8;i.call(this,c,l)}else i.apply(this,arguments)};s.prototype=n}}(),e.lib.WordArray})});var Kfe=V((AR,Yfe)=>{d();(function(e,t){typeof AR=="object"?Yfe.exports=AR=t(Ei()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(AR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Utf16=i.Utf16BE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=c[m>>>2]>>>16-m%4*8&65535;f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return n.create(u,c*2)},"parse")};i.Utf16LE={stringify:o(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=a(c[m>>>2]>>>16-m%4*8&65535);f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:o(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return n.create(u,c*2)},"parse")};function a(l){return l<<8&4278255360|l>>>8&16711935}o(a,"swapEndian")}(),e.enc.Utf16})});var H2=V((yR,Jfe)=>{d();(function(e,t){typeof yR=="object"?Jfe.exports=yR=t(Ei()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(yR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64={stringify:o(function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var m=[],h=0;h<u;h+=3)for(var p=c[h>>>2]>>>24-h%4*8&255,A=c[h+1>>>2]>>>24-(h+1)%4*8&255,x=c[h+2>>>2]>>>24-(h+2)%4*8&255,E=p<<16|A<<8|x,v=0;v<4&&h+v*.75<u;v++)m.push(f.charAt(E>>>6*(3-v)&63));var b=f.charAt(64);if(b)for(;m.length%4;)m.push(b);return m.join("")},"stringify"),parse:o(function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<u.length;m++)f[u.charCodeAt(m)]=m}var h=u.charAt(64);if(h){var p=l.indexOf(h);p!==-1&&(c=p)}return a(l,c,f)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,A=u[l.charCodeAt(h)]>>>6-h%4*2,x=p|A;f[m>>>2]|=x<<24-m%4*8,m++}return n.create(f,m)}o(a,"parseLoop")}(),e.enc.Base64})});var Zfe=V((CR,Xfe)=>{d();(function(e,t){typeof CR=="object"?Xfe.exports=CR=t(Ei()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(CR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,s=i.Base64url={stringify:o(function(l,c){c===void 0&&(c=!0);var u=l.words,f=l.sigBytes,m=c?this._safe_map:this._map;l.clamp();for(var h=[],p=0;p<f;p+=3)for(var A=u[p>>>2]>>>24-p%4*8&255,x=u[p+1>>>2]>>>24-(p+1)%4*8&255,E=u[p+2>>>2]>>>24-(p+2)%4*8&255,v=A<<16|x<<8|E,b=0;b<4&&p+b*.75<f;b++)h.push(m.charAt(v>>>6*(3-b)&63));var S=m.charAt(64);if(S)for(;h.length%4;)h.push(S);return h.join("")},"stringify"),parse:o(function(l,c){c===void 0&&(c=!0);var u=l.length,f=c?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var h=0;h<f.length;h++)m[f.charCodeAt(h)]=h}var p=f.charAt(64);if(p){var A=l.indexOf(p);A!==-1&&(u=A)}return a(l,u,m)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,A=u[l.charCodeAt(h)]>>>6-h%4*2,x=p|A;f[m>>>2]|=x<<24-m%4*8,m++}return n.create(f,m)}o(a,"parseLoop")}(),e.enc.Base64url})});var V2=V((xR,ede)=>{d();(function(e,t){typeof xR=="object"?ede.exports=xR=t(Ei()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(xR,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[];(function(){for(var p=0;p<64;p++)l[p]=t.abs(t.sin(p+1))*4294967296|0})();var c=a.MD5=s.extend({_doReset:o(function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:o(function(p,A){for(var x=0;x<16;x++){var E=A+x,v=p[E];p[E]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var b=this._hash.words,S=p[A+0],B=p[A+1],D=p[A+2],F=p[A+3],W=p[A+4],ee=p[A+5],de=p[A+6],X=p[A+7],G=p[A+8],U=p[A+9],ie=p[A+10],z=p[A+11],H=p[A+12],M=p[A+13],j=p[A+14],Z=p[A+15],ae=b[0],ne=b[1],le=b[2],fe=b[3];ae=u(ae,ne,le,fe,S,7,l[0]),fe=u(fe,ae,ne,le,B,12,l[1]),le=u(le,fe,ae,ne,D,17,l[2]),ne=u(ne,le,fe,ae,F,22,l[3]),ae=u(ae,ne,le,fe,W,7,l[4]),fe=u(fe,ae,ne,le,ee,12,l[5]),le=u(le,fe,ae,ne,de,17,l[6]),ne=u(ne,le,fe,ae,X,22,l[7]),ae=u(ae,ne,le,fe,G,7,l[8]),fe=u(fe,ae,ne,le,U,12,l[9]),le=u(le,fe,ae,ne,ie,17,l[10]),ne=u(ne,le,fe,ae,z,22,l[11]),ae=u(ae,ne,le,fe,H,7,l[12]),fe=u(fe,ae,ne,le,M,12,l[13]),le=u(le,fe,ae,ne,j,17,l[14]),ne=u(ne,le,fe,ae,Z,22,l[15]),ae=f(ae,ne,le,fe,B,5,l[16]),fe=f(fe,ae,ne,le,de,9,l[17]),le=f(le,fe,ae,ne,z,14,l[18]),ne=f(ne,le,fe,ae,S,20,l[19]),ae=f(ae,ne,le,fe,ee,5,l[20]),fe=f(fe,ae,ne,le,ie,9,l[21]),le=f(le,fe,ae,ne,Z,14,l[22]),ne=f(ne,le,fe,ae,W,20,l[23]),ae=f(ae,ne,le,fe,U,5,l[24]),fe=f(fe,ae,ne,le,j,9,l[25]),le=f(le,fe,ae,ne,F,14,l[26]),ne=f(ne,le,fe,ae,G,20,l[27]),ae=f(ae,ne,le,fe,M,5,l[28]),fe=f(fe,ae,ne,le,D,9,l[29]),le=f(le,fe,ae,ne,X,14,l[30]),ne=f(ne,le,fe,ae,H,20,l[31]),ae=m(ae,ne,le,fe,ee,4,l[32]),fe=m(fe,ae,ne,le,G,11,l[33]),le=m(le,fe,ae,ne,z,16,l[34]),ne=m(ne,le,fe,ae,j,23,l[35]),ae=m(ae,ne,le,fe,B,4,l[36]),fe=m(fe,ae,ne,le,W,11,l[37]),le=m(le,fe,ae,ne,X,16,l[38]),ne=m(ne,le,fe,ae,ie,23,l[39]),ae=m(ae,ne,le,fe,M,4,l[40]),fe=m(fe,ae,ne,le,S,11,l[41]),le=m(le,fe,ae,ne,F,16,l[42]),ne=m(ne,le,fe,ae,de,23,l[43]),ae=m(ae,ne,le,fe,U,4,l[44]),fe=m(fe,ae,ne,le,H,11,l[45]),le=m(le,fe,ae,ne,Z,16,l[46]),ne=m(ne,le,fe,ae,D,23,l[47]),ae=h(ae,ne,le,fe,S,6,l[48]),fe=h(fe,ae,ne,le,X,10,l[49]),le=h(le,fe,ae,ne,j,15,l[50]),ne=h(ne,le,fe,ae,ee,21,l[51]),ae=h(ae,ne,le,fe,H,6,l[52]),fe=h(fe,ae,ne,le,F,10,l[53]),le=h(le,fe,ae,ne,ie,15,l[54]),ne=h(ne,le,fe,ae,B,21,l[55]),ae=h(ae,ne,le,fe,G,6,l[56]),fe=h(fe,ae,ne,le,Z,10,l[57]),le=h(le,fe,ae,ne,de,15,l[58]),ne=h(ne,le,fe,ae,M,21,l[59]),ae=h(ae,ne,le,fe,W,6,l[60]),fe=h(fe,ae,ne,le,z,10,l[61]),le=h(le,fe,ae,ne,D,15,l[62]),ne=h(ne,le,fe,ae,U,21,l[63]),b[0]=b[0]+ae|0,b[1]=b[1]+ne|0,b[2]=b[2]+le|0,b[3]=b[3]+fe|0},"_doProcessBlock"),_doFinalize:o(function(){var p=this._data,A=p.words,x=this._nDataBytes*8,E=p.sigBytes*8;A[E>>>5]|=128<<24-E%32;var v=t.floor(x/4294967296),b=x;A[(E+64>>>9<<4)+15]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,A[(E+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,p.sigBytes=(A.length+1)*4,this._process();for(var S=this._hash,B=S.words,D=0;D<4;D++){var F=B[D];B[D]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return S},"_doFinalize"),clone:o(function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},"clone")});function u(p,A,x,E,v,b,S){var B=p+(A&x|~A&E)+v+S;return(B<<b|B>>>32-b)+A}o(u,"FF");function f(p,A,x,E,v,b,S){var B=p+(A&E|x&~E)+v+S;return(B<<b|B>>>32-b)+A}o(f,"GG");function m(p,A,x,E,v,b,S){var B=p+(A^x^E)+v+S;return(B<<b|B>>>32-b)+A}o(m,"HH");function h(p,A,x,E,v,b,S){var B=p+(x^(A|~E))+v+S;return(B<<b|B>>>32-b)+A}o(h,"II"),r.MD5=s._createHelper(c),r.HmacMD5=s._createHmacHelper(c)}(Math),e.MD5})});var U$=V((ER,tde)=>{d();(function(e,t){typeof ER=="object"?tde.exports=ER=t(Ei()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ER,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,s=t.algo,a=[],l=s.SHA1=i.extend({_doReset:o(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(c,u){for(var f=this._hash.words,m=f[0],h=f[1],p=f[2],A=f[3],x=f[4],E=0;E<80;E++){if(E<16)a[E]=c[u+E]|0;else{var v=a[E-3]^a[E-8]^a[E-14]^a[E-16];a[E]=v<<1|v>>>31}var b=(m<<5|m>>>27)+x+a[E];E<20?b+=(h&p|~h&A)+1518500249:E<40?b+=(h^p^A)+1859775393:E<60?b+=(h&p|h&A|p&A)-1894007588:b+=(h^p^A)-899497514,x=A,A=p,p=h<<30|h>>>2,h=m,m=b}f[0]=f[0]+m|0,f[1]=f[1]+h|0,f[2]=f[2]+p|0,f[3]=f[3]+A|0,f[4]=f[4]+x|0},"_doProcessBlock"),_doFinalize:o(function(){var c=this._data,u=c.words,f=this._nDataBytes*8,m=c.sigBytes*8;return u[m>>>5]|=128<<24-m%32,u[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(m+64>>>9<<4)+15]=f,c.sigBytes=u.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c},"clone")});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var vR=V((bR,rde)=>{d();(function(e,t){typeof bR=="object"?rde.exports=bR=t(Ei()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(bR,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=[],c=[];(function(){function m(x){for(var E=t.sqrt(x),v=2;v<=E;v++)if(!(x%v))return!1;return!0}o(m,"isPrime");function h(x){return(x-(x|0))*4294967296|0}o(h,"getFractionalBits");for(var p=2,A=0;A<64;)m(p)&&(A<8&&(l[A]=h(t.pow(p,1/2))),c[A]=h(t.pow(p,1/3)),A++),p++})();var u=[],f=a.SHA256=s.extend({_doReset:o(function(){this._hash=new i.init(l.slice(0))},"_doReset"),_doProcessBlock:o(function(m,h){for(var p=this._hash.words,A=p[0],x=p[1],E=p[2],v=p[3],b=p[4],S=p[5],B=p[6],D=p[7],F=0;F<64;F++){if(F<16)u[F]=m[h+F]|0;else{var W=u[F-15],ee=(W<<25|W>>>7)^(W<<14|W>>>18)^W>>>3,de=u[F-2],X=(de<<15|de>>>17)^(de<<13|de>>>19)^de>>>10;u[F]=ee+u[F-7]+X+u[F-16]}var G=b&S^~b&B,U=A&x^A&E^x&E,ie=(A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22),z=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),H=D+z+G+c[F]+u[F],M=ie+U;D=B,B=S,S=b,b=v+H|0,v=E,E=x,x=A,A=H+M|0}p[0]=p[0]+A|0,p[1]=p[1]+x|0,p[2]=p[2]+E|0,p[3]=p[3]+v|0,p[4]=p[4]+b|0,p[5]=p[5]+S|0,p[6]=p[6]+B|0,p[7]=p[7]+D|0},"_doProcessBlock"),_doFinalize:o(function(){var m=this._data,h=m.words,p=this._nDataBytes*8,A=m.sigBytes*8;return h[A>>>5]|=128<<24-A%32,h[(A+64>>>9<<4)+14]=t.floor(p/4294967296),h[(A+64>>>9<<4)+15]=p,m.sigBytes=h.length*4,this._process(),this._hash},"_doFinalize"),clone:o(function(){var m=s.clone.call(this);return m._hash=this._hash.clone(),m},"clone")});r.SHA256=s._createHelper(f),r.HmacSHA256=s._createHmacHelper(f)}(Math),e.SHA256})});var ide=V((IR,nde)=>{d();(function(e,t,r){typeof IR=="object"?nde.exports=IR=t(Ei(),vR()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(IR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,s=i.SHA256,a=i.SHA224=s.extend({_doReset:o(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:o(function(){var l=s._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});t.SHA224=s._createHelper(a),t.HmacSHA224=s._createHmacHelper(a)}(),e.SHA224})});var q$=V((TR,ode)=>{d();(function(e,t,r){typeof TR=="object"?ode.exports=TR=t(Ei(),w7()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(TR,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,s=i.Word,a=i.WordArray,l=t.algo;function c(){return s.create.apply(s,arguments)}o(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var h=0;h<80;h++)f[h]=c()})();var m=l.SHA512=n.extend({_doReset:o(function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:o(function(h,p){for(var A=this._hash.words,x=A[0],E=A[1],v=A[2],b=A[3],S=A[4],B=A[5],D=A[6],F=A[7],W=x.high,ee=x.low,de=E.high,X=E.low,G=v.high,U=v.low,ie=b.high,z=b.low,H=S.high,M=S.low,j=B.high,Z=B.low,ae=D.high,ne=D.low,le=F.high,fe=F.low,Re=W,Ee=ee,Oe=de,Be=X,Je=G,at=U,Xe=ie,st=z,oe=H,Pe=M,Ae=j,We=Z,Y=ae,re=ne,Ne=le,Se=fe,Ce=0;Ce<80;Ce++){var Ue,Ve,et=f[Ce];if(Ce<16)Ve=et.high=h[p+Ce*2]|0,Ue=et.low=h[p+Ce*2+1]|0;else{var yt=f[Ce-15],Rt=yt.high,At=yt.low,Vt=(Rt>>>1|At<<31)^(Rt>>>8|At<<24)^Rt>>>7,$t=(At>>>1|Rt<<31)^(At>>>8|Rt<<24)^(At>>>7|Rt<<25),nr=f[Ce-2],ge=nr.high,Le=nr.low,Ke=(ge>>>19|Le<<13)^(ge<<3|Le>>>29)^ge>>>6,rt=(Le>>>19|ge<<13)^(Le<<3|ge>>>29)^(Le>>>6|ge<<26),St=f[Ce-7],Et=St.high,Lt=St.low,Mt=f[Ce-16],Tt=Mt.high,_t=Mt.low;Ue=$t+Lt,Ve=Vt+Et+(Ue>>>0<$t>>>0?1:0),Ue=Ue+rt,Ve=Ve+Ke+(Ue>>>0<rt>>>0?1:0),Ue=Ue+_t,Ve=Ve+Tt+(Ue>>>0<_t>>>0?1:0),et.high=Ve,et.low=Ue}var wt=oe&Ae^~oe&Y,Ut=Pe&We^~Pe&re,Wt=Re&Oe^Re&Je^Oe&Je,zt=Ee&Be^Ee&at^Be&at,lr=(Re>>>28|Ee<<4)^(Re<<30|Ee>>>2)^(Re<<25|Ee>>>7),hr=(Ee>>>28|Re<<4)^(Ee<<30|Re>>>2)^(Ee<<25|Re>>>7),sr=(oe>>>14|Pe<<18)^(oe>>>18|Pe<<14)^(oe<<23|Pe>>>9),cr=(Pe>>>14|oe<<18)^(Pe>>>18|oe<<14)^(Pe<<23|oe>>>9),Zt=u[Ce],ur=Zt.high,ve=Zt.low,O=Se+cr,me=Ne+sr+(O>>>0<Se>>>0?1:0),O=O+Ut,me=me+wt+(O>>>0<Ut>>>0?1:0),O=O+ve,me=me+ur+(O>>>0<ve>>>0?1:0),O=O+Ue,me=me+Ve+(O>>>0<Ue>>>0?1:0),ye=hr+zt,K=lr+Wt+(ye>>>0<hr>>>0?1:0);Ne=Y,Se=re,Y=Ae,re=We,Ae=oe,We=Pe,Pe=st+O|0,oe=Xe+me+(Pe>>>0<st>>>0?1:0)|0,Xe=Je,st=at,Je=Oe,at=Be,Oe=Re,Be=Ee,Ee=O+ye|0,Re=me+K+(Ee>>>0<O>>>0?1:0)|0}ee=x.low=ee+Ee,x.high=W+Re+(ee>>>0<Ee>>>0?1:0),X=E.low=X+Be,E.high=de+Oe+(X>>>0<Be>>>0?1:0),U=v.low=U+at,v.high=G+Je+(U>>>0<at>>>0?1:0),z=b.low=z+st,b.high=ie+Xe+(z>>>0<st>>>0?1:0),M=S.low=M+Pe,S.high=H+oe+(M>>>0<Pe>>>0?1:0),Z=B.low=Z+We,B.high=j+Ae+(Z>>>0<We>>>0?1:0),ne=D.low=ne+re,D.high=ae+Y+(ne>>>0<re>>>0?1:0),fe=F.low=fe+Se,F.high=le+Ne+(fe>>>0<Se>>>0?1:0)},"_doProcessBlock"),_doFinalize:o(function(){var h=this._data,p=h.words,A=this._nDataBytes*8,x=h.sigBytes*8;p[x>>>5]|=128<<24-x%32,p[(x+128>>>10<<5)+30]=Math.floor(A/4294967296),p[(x+128>>>10<<5)+31]=A,h.sigBytes=p.length*4,this._process();var E=this._hash.toX32();return E},"_doFinalize"),clone:o(function(){var h=n.clone.call(this);return h._hash=this._hash.clone(),h},"clone"),blockSize:1024/32});t.SHA512=n._createHelper(m),t.HmacSHA512=n._createHmacHelper(m)}(),e.SHA512})});var ade=V((wR,sde)=>{d();(function(e,t,r){typeof wR=="object"?sde.exports=wR=t(Ei(),w7(),q$()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(wR,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,s=t.algo,a=s.SHA512,l=s.SHA384=a.extend({_doReset:o(function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:o(function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c},"_doFinalize")});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var cde=V((SR,lde)=>{d();(function(e,t,r){typeof SR=="object"?lde.exports=SR=t(Ei(),w7()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(SR,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.x64,l=a.Word,c=r.algo,u=[],f=[],m=[];(function(){for(var A=1,x=0,E=0;E<24;E++){u[A+5*x]=(E+1)*(E+2)/2%64;var v=x%5,b=(2*A+3*x)%5;A=v,x=b}for(var A=0;A<5;A++)for(var x=0;x<5;x++)f[A+5*x]=x+(2*A+3*x)%5*5;for(var S=1,B=0;B<24;B++){for(var D=0,F=0,W=0;W<7;W++){if(S&1){var ee=(1<<W)-1;ee<32?F^=1<<ee:D^=1<<ee-32}S&128?S=S<<1^113:S<<=1}m[B]=l.create(D,F)}})();var h=[];(function(){for(var A=0;A<25;A++)h[A]=l.create()})();var p=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:o(function(){for(var A=this._state=[],x=0;x<25;x++)A[x]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:o(function(A,x){for(var E=this._state,v=this.blockSize/2,b=0;b<v;b++){var S=A[x+2*b],B=A[x+2*b+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360;var D=E[b];D.high^=B,D.low^=S}for(var F=0;F<24;F++){for(var W=0;W<5;W++){for(var ee=0,de=0,X=0;X<5;X++){var D=E[W+5*X];ee^=D.high,de^=D.low}var G=h[W];G.high=ee,G.low=de}for(var W=0;W<5;W++)for(var U=h[(W+4)%5],ie=h[(W+1)%5],z=ie.high,H=ie.low,ee=U.high^(z<<1|H>>>31),de=U.low^(H<<1|z>>>31),X=0;X<5;X++){var D=E[W+5*X];D.high^=ee,D.low^=de}for(var M=1;M<25;M++){var ee,de,D=E[M],j=D.high,Z=D.low,ae=u[M];ae<32?(ee=j<<ae|Z>>>32-ae,de=Z<<ae|j>>>32-ae):(ee=Z<<ae-32|j>>>64-ae,de=j<<ae-32|Z>>>64-ae);var ne=h[f[M]];ne.high=ee,ne.low=de}var le=h[0],fe=E[0];le.high=fe.high,le.low=fe.low;for(var W=0;W<5;W++)for(var X=0;X<5;X++){var M=W+5*X,D=E[M],Re=h[M],Ee=h[(W+1)%5+5*X],Oe=h[(W+2)%5+5*X];D.high=Re.high^~Ee.high&Oe.high,D.low=Re.low^~Ee.low&Oe.low}var D=E[0],Be=m[F];D.high^=Be.high,D.low^=Be.low}},"_doProcessBlock"),_doFinalize:o(function(){var A=this._data,x=A.words,E=this._nDataBytes*8,v=A.sigBytes*8,b=this.blockSize*32;x[v>>>5]|=1<<24-v%32,x[(t.ceil((v+1)/b)*b>>>5)-1]|=128,A.sigBytes=x.length*4,this._process();for(var S=this._state,B=this.cfg.outputLength/8,D=B/8,F=[],W=0;W<D;W++){var ee=S[W],de=ee.high,X=ee.low;de=(de<<8|de>>>24)&16711935|(de<<24|de>>>8)&4278255360,X=(X<<8|X>>>24)&16711935|(X<<24|X>>>8)&4278255360,F.push(X),F.push(de)}return new i.init(F,B)},"_doFinalize"),clone:o(function(){for(var A=s.clone.call(this),x=A._state=this._state.slice(0),E=0;E<25;E++)x[E]=x[E].clone();return A},"clone")});r.SHA3=s._createHelper(p),r.HmacSHA3=s._createHmacHelper(p)}(Math),e.SHA3})});var fde=V((_R,ude)=>{d();(function(e,t){typeof _R=="object"?ude.exports=_R=t(Ei()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(_R,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,s=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=s.extend({_doReset:o(function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:o(function(B,D){for(var F=0;F<16;F++){var W=D+F,ee=B[W];B[W]=(ee<<8|ee>>>24)&16711935|(ee<<24|ee>>>8)&4278255360}var de=this._hash.words,X=m.words,G=h.words,U=l.words,ie=c.words,z=u.words,H=f.words,M,j,Z,ae,ne,le,fe,Re,Ee,Oe;le=M=de[0],fe=j=de[1],Re=Z=de[2],Ee=ae=de[3],Oe=ne=de[4];for(var Be,F=0;F<80;F+=1)Be=M+B[D+U[F]]|0,F<16?Be+=A(j,Z,ae)+X[0]:F<32?Be+=x(j,Z,ae)+X[1]:F<48?Be+=E(j,Z,ae)+X[2]:F<64?Be+=v(j,Z,ae)+X[3]:Be+=b(j,Z,ae)+X[4],Be=Be|0,Be=S(Be,z[F]),Be=Be+ne|0,M=ne,ne=ae,ae=S(Z,10),Z=j,j=Be,Be=le+B[D+ie[F]]|0,F<16?Be+=b(fe,Re,Ee)+G[0]:F<32?Be+=v(fe,Re,Ee)+G[1]:F<48?Be+=E(fe,Re,Ee)+G[2]:F<64?Be+=x(fe,Re,Ee)+G[3]:Be+=A(fe,Re,Ee)+G[4],Be=Be|0,Be=S(Be,H[F]),Be=Be+Oe|0,le=Oe,Oe=Ee,Ee=S(Re,10),Re=fe,fe=Be;Be=de[1]+Z+Ee|0,de[1]=de[2]+ae+Oe|0,de[2]=de[3]+ne+le|0,de[3]=de[4]+M+fe|0,de[4]=de[0]+j+Re|0,de[0]=Be},"_doProcessBlock"),_doFinalize:o(function(){var B=this._data,D=B.words,F=this._nDataBytes*8,W=B.sigBytes*8;D[W>>>5]|=128<<24-W%32,D[(W+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,B.sigBytes=(D.length+1)*4,this._process();for(var ee=this._hash,de=ee.words,X=0;X<5;X++){var G=de[X];de[X]=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360}return ee},"_doFinalize"),clone:o(function(){var B=s.clone.call(this);return B._hash=this._hash.clone(),B},"clone")});function A(B,D,F){return B^D^F}o(A,"f1");function x(B,D,F){return B&D|~B&F}o(x,"f2");function E(B,D,F){return(B|~D)^F}o(E,"f3");function v(B,D,F){return B&F|D&~F}o(v,"f4");function b(B,D,F){return B^(D|~F)}o(b,"f5");function S(B,D){return B<<D|B>>>32-D}o(S,"rotl"),r.RIPEMD160=s._createHelper(p),r.HmacRIPEMD160=s._createHmacHelper(p)}(Math),e.RIPEMD160})});var BR=V((kR,dde)=>{d();(function(e,t){typeof kR=="object"?dde.exports=kR=t(Ei()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(kR,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,s=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:o(function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=s.parse(u));var f=c.blockSize,m=f*4;u.sigBytes>m&&(u=c.finalize(u)),u.clamp();for(var h=this._oKey=u.clone(),p=this._iKey=u.clone(),A=h.words,x=p.words,E=0;E<f;E++)A[E]^=1549556828,x[E]^=909522486;h.sigBytes=p.sigBytes=m,this.reset()},"init"),reset:o(function(){var c=this._hasher;c.reset(),c.update(this._iKey)},"reset"),update:o(function(c){return this._hasher.update(c),this},"update"),finalize:o(function(c){var u=this._hasher,f=u.finalize(c);u.reset();var m=u.finalize(this._oKey.clone().concat(f));return m},"finalize")})})()})});var hde=V((RR,mde)=>{d();(function(e,t,r){typeof RR=="object"?mde.exports=RR=t(Ei(),vR(),BR()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(RR,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.SHA256,l=s.HMAC,c=s.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:o(function(u){this.cfg=this.cfg.extend(u)},"init"),compute:o(function(u,f){for(var m=this.cfg,h=l.create(m.hasher,u),p=i.create(),A=i.create([1]),x=p.words,E=A.words,v=m.keySize,b=m.iterations;x.length<v;){var S=h.update(f).finalize(A);h.reset();for(var B=S.words,D=B.length,F=S,W=1;W<b;W++){F=h.finalize(F),h.reset();for(var ee=F.words,de=0;de<D;de++)B[de]^=ee[de]}p.concat(S),E[0]++}return p.sigBytes=v*4,p},"compute")});t.PBKDF2=function(u,f,m){return c.create(m).compute(u,f)}}(),e.PBKDF2})});var Yg=V((DR,pde)=>{d();(function(e,t,r){typeof DR=="object"?pde.exports=DR=t(Ei(),U$(),BR()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(DR,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,s=t.algo,a=s.MD5,l=s.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:o(function(c){this.cfg=this.cfg.extend(c)},"init"),compute:o(function(c,u){for(var f,m=this.cfg,h=m.hasher.create(),p=i.create(),A=p.words,x=m.keySize,E=m.iterations;A.length<x;){f&&h.update(f),f=h.update(c).finalize(u),h.reset();for(var v=1;v<E;v++)f=h.finalize(f),h.reset();p.concat(f)}return p.sigBytes=x*4,p},"compute")});t.EvpKDF=function(c,u,f){return l.create(f).compute(c,u)}}(),e.EvpKDF})});var za=V((PR,gde)=>{d();(function(e,t,r){typeof PR=="object"?gde.exports=PR=t(Ei(),Yg()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(PR,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,s=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,c=l.Utf8,u=l.Base64,f=r.algo,m=f.EvpKDF,h=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:o(function(G,U){return this.create(this._ENC_XFORM_MODE,G,U)},"createEncryptor"),createDecryptor:o(function(G,U){return this.create(this._DEC_XFORM_MODE,G,U)},"createDecryptor"),init:o(function(G,U,ie){this.cfg=this.cfg.extend(ie),this._xformMode=G,this._key=U,this.reset()},"init"),reset:o(function(){a.reset.call(this),this._doReset()},"reset"),process:o(function(G){return this._append(G),this._process()},"process"),finalize:o(function(G){G&&this._append(G);var U=this._doFinalize();return U},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function G(U){return typeof U=="string"?X:W}return o(G,"selectCipherStrategy"),function(U){return{encrypt:o(function(ie,z,H){return G(z).encrypt(U,ie,z,H)},"encrypt"),decrypt:o(function(ie,z,H){return G(z).decrypt(U,ie,z,H)},"decrypt")}}}()}),p=n.StreamCipher=h.extend({_doFinalize:o(function(){var G=this._process(!0);return G},"_doFinalize"),blockSize:1}),A=r.mode={},x=n.BlockCipherMode=i.extend({createEncryptor:o(function(G,U){return this.Encryptor.create(G,U)},"createEncryptor"),createDecryptor:o(function(G,U){return this.Decryptor.create(G,U)},"createDecryptor"),init:o(function(G,U){this._cipher=G,this._iv=U},"init")}),E=A.CBC=function(){var G=x.extend();G.Encryptor=G.extend({processBlock:o(function(ie,z){var H=this._cipher,M=H.blockSize;U.call(this,ie,z,M),H.encryptBlock(ie,z),this._prevBlock=ie.slice(z,z+M)},"processBlock")}),G.Decryptor=G.extend({processBlock:o(function(ie,z){var H=this._cipher,M=H.blockSize,j=ie.slice(z,z+M);H.decryptBlock(ie,z),U.call(this,ie,z,M),this._prevBlock=j},"processBlock")});function U(ie,z,H){var M,j=this._iv;j?(M=j,this._iv=t):M=this._prevBlock;for(var Z=0;Z<H;Z++)ie[z+Z]^=M[Z]}return o(U,"xorBlock"),G}(),v=r.pad={},b=v.Pkcs7={pad:o(function(G,U){for(var ie=U*4,z=ie-G.sigBytes%ie,H=z<<24|z<<16|z<<8|z,M=[],j=0;j<z;j+=4)M.push(H);var Z=s.create(M,z);G.concat(Z)},"pad"),unpad:o(function(G){var U=G.words[G.sigBytes-1>>>2]&255;G.sigBytes-=U},"unpad")},S=n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:E,padding:b}),reset:o(function(){var G;h.reset.call(this);var U=this.cfg,ie=U.iv,z=U.mode;this._xformMode==this._ENC_XFORM_MODE?G=z.createEncryptor:(G=z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==G?this._mode.init(this,ie&&ie.words):(this._mode=G.call(z,this,ie&&ie.words),this._mode.__creator=G)},"reset"),_doProcessBlock:o(function(G,U){this._mode.processBlock(G,U)},"_doProcessBlock"),_doFinalize:o(function(){var G,U=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(U.pad(this._data,this.blockSize),G=this._process(!0)):(G=this._process(!0),U.unpad(G)),G},"_doFinalize"),blockSize:128/32}),B=n.CipherParams=i.extend({init:o(function(G){this.mixIn(G)},"init"),toString:o(function(G){return(G||this.formatter).stringify(this)},"toString")}),D=r.format={},F=D.OpenSSL={stringify:o(function(G){var U,ie=G.ciphertext,z=G.salt;return z?U=s.create([1398893684,1701076831]).concat(z).concat(ie):U=ie,U.toString(u)},"stringify"),parse:o(function(G){var U,ie=u.parse(G),z=ie.words;return z[0]==1398893684&&z[1]==1701076831&&(U=s.create(z.slice(2,4)),z.splice(0,4),ie.sigBytes-=16),B.create({ciphertext:ie,salt:U})},"parse")},W=n.SerializableCipher=i.extend({cfg:i.extend({format:F}),encrypt:o(function(G,U,ie,z){z=this.cfg.extend(z);var H=G.createEncryptor(ie,z),M=H.finalize(U),j=H.cfg;return B.create({ciphertext:M,key:ie,iv:j.iv,algorithm:G,mode:j.mode,padding:j.padding,blockSize:G.blockSize,formatter:z.format})},"encrypt"),decrypt:o(function(G,U,ie,z){z=this.cfg.extend(z),U=this._parse(U,z.format);var H=G.createDecryptor(ie,z).finalize(U.ciphertext);return H},"decrypt"),_parse:o(function(G,U){return typeof G=="string"?U.parse(G,this):G},"_parse")}),ee=r.kdf={},de=ee.OpenSSL={execute:o(function(G,U,ie,z,H){if(z||(z=s.random(64/8)),H)var M=m.create({keySize:U+ie,hasher:H}).compute(G,z);else var M=m.create({keySize:U+ie}).compute(G,z);var j=s.create(M.words.slice(U),ie*4);return M.sigBytes=U*4,B.create({key:M,iv:j,salt:z})},"execute")},X=n.PasswordBasedCipher=W.extend({cfg:W.cfg.extend({kdf:de}),encrypt:o(function(G,U,ie,z){z=this.cfg.extend(z);var H=z.kdf.execute(ie,G.keySize,G.ivSize,z.salt,z.hasher);z.iv=H.iv;var M=W.encrypt.call(this,G,U,H.key,z);return M.mixIn(H),M},"encrypt"),decrypt:o(function(G,U,ie,z){z=this.cfg.extend(z),U=this._parse(U,z.format);var H=z.kdf.execute(ie,G.keySize,G.ivSize,U.salt,z.hasher);z.iv=H.iv;var M=W.decrypt.call(this,G,U,H.key,z);return M},"decrypt")})}()})});var yde=V((FR,Ade)=>{d();(function(e,t,r){typeof FR=="object"?Ade.exports=FR=t(Ei(),za()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(FR,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize;r.call(this,n,i,a,s),this._prevBlock=n.slice(i,i+a)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,s),this._prevBlock=l},"processBlock")});function r(n,i,s,a){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var u=0;u<s;u++)n[i+u]^=l[u]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var xde=V((NR,Cde)=>{d();(function(e,t,r){typeof NR=="object"?Cde.exports=NR=t(Ei(),za()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(NR,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var u=c.slice(0);s.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var f=0;f<a;f++)n[i+f]^=u[f]},"processBlock")});return t.Decryptor=r,t}(),e.mode.CTR})});var bde=V((LR,Ede)=>{d();(function(e,t,r){typeof LR=="object"?Ede.exports=LR=t(Ei(),za()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(LR,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(s){if((s>>24&255)===255){var a=s>>16&255,l=s>>8&255,c=s&255;a===255?(a=0,l===255?(l=0,c===255?c=0:++c):++l):++a,s=0,s+=a<<16,s+=l<<8,s+=c}else s+=1<<24;return s}o(r,"incWord");function n(s){return(s[0]=r(s[0]))===0&&(s[1]=r(s[1])),s}o(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:o(function(s,a){var l=this._cipher,c=l.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),n(f);var m=f.slice(0);l.encryptBlock(m,0);for(var h=0;h<c;h++)s[a+h]^=m[h]},"processBlock")});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var Ide=V((QR,vde)=>{d();(function(e,t,r){typeof QR=="object"?vde.exports=QR=t(Ei(),za()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(QR,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:o(function(n,i){var s=this._cipher,a=s.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var u=0;u<a;u++)n[i+u]^=c[u]},"processBlock")});return t.Decryptor=r,t}(),e.mode.OFB})});var wde=V((MR,Tde)=>{d();(function(e,t,r){typeof MR=="object"?Tde.exports=MR=t(Ei(),za()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(MR,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:o(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),t.Decryptor=t.extend({processBlock:o(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),t}(),e.mode.ECB})});var _de=V((OR,Sde)=>{d();(function(e,t,r){typeof OR=="object"?Sde.exports=OR=t(Ei(),za()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(OR,function(e){return e.pad.AnsiX923={pad:o(function(t,r){var n=t.sigBytes,i=r*4,s=i-n%i,a=n+s-1;t.clamp(),t.words[a>>>2]|=s<<24-a%4*8,t.sigBytes+=s},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Ansix923})});var Bde=V((UR,kde)=>{d();(function(e,t,r){typeof UR=="object"?kde.exports=UR=t(Ei(),za()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(UR,function(e){return e.pad.Iso10126={pad:o(function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},"pad"),unpad:o(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Iso10126})});var Dde=V((qR,Rde)=>{d();(function(e,t,r){typeof qR=="object"?Rde.exports=qR=t(Ei(),za()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(qR,function(e){return e.pad.Iso97971={pad:o(function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},"pad"),unpad:o(function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--},"unpad")},e.pad.Iso97971})});var Fde=V((WR,Pde)=>{d();(function(e,t,r){typeof WR=="object"?Pde.exports=WR=t(Ei(),za()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(WR,function(e){return e.pad.ZeroPadding={pad:o(function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},"pad"),unpad:o(function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}},"unpad")},e.pad.ZeroPadding})});var Lde=V((GR,Nde)=>{d();(function(e,t,r){typeof GR=="object"?Nde.exports=GR=t(Ei(),za()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(GR,function(e){return e.pad.NoPadding={pad:o(function(){},"pad"),unpad:o(function(){},"unpad")},e.pad.NoPadding})});var Mde=V((HR,Qde)=>{d();(function(e,t,r){typeof HR=="object"?Qde.exports=HR=t(Ei(),za()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(HR,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,s=r.enc,a=s.Hex,l=r.format,c=l.Hex={stringify:o(function(u){return u.ciphertext.toString(a)},"stringify"),parse:o(function(u){var f=a.parse(u);return i.create({ciphertext:f})},"parse")}}(),e.format.Hex})});var Ude=V((VR,Ode)=>{d();(function(e,t,r){typeof VR=="object"?Ode.exports=VR=t(Ei(),H2(),V2(),Yg(),za()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(VR,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,s=[],a=[],l=[],c=[],u=[],f=[],m=[],h=[],p=[],A=[];(function(){for(var v=[],b=0;b<256;b++)b<128?v[b]=b<<1:v[b]=b<<1^283;for(var S=0,B=0,b=0;b<256;b++){var D=B^B<<1^B<<2^B<<3^B<<4;D=D>>>8^D&255^99,s[S]=D,a[D]=S;var F=v[S],W=v[F],ee=v[W],de=v[D]*257^D*16843008;l[S]=de<<24|de>>>8,c[S]=de<<16|de>>>16,u[S]=de<<8|de>>>24,f[S]=de;var de=ee*16843009^W*65537^F*257^S*16843008;m[D]=de<<24|de>>>8,h[D]=de<<16|de>>>16,p[D]=de<<8|de>>>24,A[D]=de,S?(S=F^v[v[v[ee^F]]],B^=v[v[B]]):S=B=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],E=i.AES=n.extend({_doReset:o(function(){var v;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,S=b.words,B=b.sigBytes/4,D=this._nRounds=B+6,F=(D+1)*4,W=this._keySchedule=[],ee=0;ee<F;ee++)ee<B?W[ee]=S[ee]:(v=W[ee-1],ee%B?B>6&&ee%B==4&&(v=s[v>>>24]<<24|s[v>>>16&255]<<16|s[v>>>8&255]<<8|s[v&255]):(v=v<<8|v>>>24,v=s[v>>>24]<<24|s[v>>>16&255]<<16|s[v>>>8&255]<<8|s[v&255],v^=x[ee/B|0]<<24),W[ee]=W[ee-B]^v);for(var de=this._invKeySchedule=[],X=0;X<F;X++){var ee=F-X;if(X%4)var v=W[ee];else var v=W[ee-4];X<4||ee<=4?de[X]=v:de[X]=m[s[v>>>24]]^h[s[v>>>16&255]]^p[s[v>>>8&255]]^A[s[v&255]]}}},"_doReset"),encryptBlock:o(function(v,b){this._doCryptBlock(v,b,this._keySchedule,l,c,u,f,s)},"encryptBlock"),decryptBlock:o(function(v,b){var S=v[b+1];v[b+1]=v[b+3],v[b+3]=S,this._doCryptBlock(v,b,this._invKeySchedule,m,h,p,A,a);var S=v[b+1];v[b+1]=v[b+3],v[b+3]=S},"decryptBlock"),_doCryptBlock:o(function(v,b,S,B,D,F,W,ee){for(var de=this._nRounds,X=v[b]^S[0],G=v[b+1]^S[1],U=v[b+2]^S[2],ie=v[b+3]^S[3],z=4,H=1;H<de;H++){var M=B[X>>>24]^D[G>>>16&255]^F[U>>>8&255]^W[ie&255]^S[z++],j=B[G>>>24]^D[U>>>16&255]^F[ie>>>8&255]^W[X&255]^S[z++],Z=B[U>>>24]^D[ie>>>16&255]^F[X>>>8&255]^W[G&255]^S[z++],ae=B[ie>>>24]^D[X>>>16&255]^F[G>>>8&255]^W[U&255]^S[z++];X=M,G=j,U=Z,ie=ae}var M=(ee[X>>>24]<<24|ee[G>>>16&255]<<16|ee[U>>>8&255]<<8|ee[ie&255])^S[z++],j=(ee[G>>>24]<<24|ee[U>>>16&255]<<16|ee[ie>>>8&255]<<8|ee[X&255])^S[z++],Z=(ee[U>>>24]<<24|ee[ie>>>16&255]<<16|ee[X>>>8&255]<<8|ee[G&255])^S[z++],ae=(ee[ie>>>24]<<24|ee[X>>>16&255]<<16|ee[G>>>8&255]<<8|ee[U&255])^S[z++];v[b]=M,v[b+1]=j,v[b+2]=Z,v[b+3]=ae},"_doCryptBlock"),keySize:256/32});t.AES=n._createHelper(E)}(),e.AES})});var Wde=V((jR,qde)=>{d();(function(e,t,r){typeof jR=="object"?qde.exports=jR=t(Ei(),H2(),V2(),Yg(),za()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(jR,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,s=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=s.DES=i.extend({_doReset:o(function(){for(var x=this._key,E=x.words,v=[],b=0;b<56;b++){var S=a[b]-1;v[b]=E[S>>>5]>>>31-S%32&1}for(var B=this._subKeys=[],D=0;D<16;D++){for(var F=B[D]=[],W=c[D],b=0;b<24;b++)F[b/6|0]|=v[(l[b]-1+W)%28]<<31-b%6,F[4+(b/6|0)]|=v[28+(l[b+24]-1+W)%28]<<31-b%6;F[0]=F[0]<<1|F[0]>>>31;for(var b=1;b<7;b++)F[b]=F[b]>>>(b-1)*4+3;F[7]=F[7]<<5|F[7]>>>27}for(var ee=this._invSubKeys=[],b=0;b<16;b++)ee[b]=B[15-b]},"_doReset"),encryptBlock:o(function(x,E){this._doCryptBlock(x,E,this._subKeys)},"encryptBlock"),decryptBlock:o(function(x,E){this._doCryptBlock(x,E,this._invSubKeys)},"decryptBlock"),_doCryptBlock:o(function(x,E,v){this._lBlock=x[E],this._rBlock=x[E+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var b=0;b<16;b++){for(var S=v[b],B=this._lBlock,D=this._rBlock,F=0,W=0;W<8;W++)F|=u[W][((D^S[W])&f[W])>>>0];this._lBlock=D,this._rBlock=B^F}var ee=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ee,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),x[E]=this._lBlock,x[E+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function h(x,E){var v=(this._lBlock>>>x^this._rBlock)&E;this._rBlock^=v,this._lBlock^=v<<x}o(h,"exchangeLR");function p(x,E){var v=(this._rBlock>>>x^this._lBlock)&E;this._lBlock^=v,this._rBlock^=v<<x}o(p,"exchangeRL"),t.DES=i._createHelper(m);var A=s.TripleDES=i.extend({_doReset:o(function(){var x=this._key,E=x.words;if(E.length!==2&&E.length!==4&&E.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var v=E.slice(0,2),b=E.length<4?E.slice(0,2):E.slice(2,4),S=E.length<6?E.slice(0,2):E.slice(4,6);this._des1=m.createEncryptor(n.create(v)),this._des2=m.createEncryptor(n.create(b)),this._des3=m.createEncryptor(n.create(S))},"_doReset"),encryptBlock:o(function(x,E){this._des1.encryptBlock(x,E),this._des2.decryptBlock(x,E),this._des3.encryptBlock(x,E)},"encryptBlock"),decryptBlock:o(function(x,E){this._des3.decryptBlock(x,E),this._des2.encryptBlock(x,E),this._des1.decryptBlock(x,E)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(A)}(),e.TripleDES})});var Hde=V(($R,Gde)=>{d();(function(e,t,r){typeof $R=="object"?Gde.exports=$R=t(Ei(),H2(),V2(),Yg(),za()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})($R,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=i.RC4=n.extend({_doReset:o(function(){for(var c=this._key,u=c.words,f=c.sigBytes,m=this._S=[],h=0;h<256;h++)m[h]=h;for(var h=0,p=0;h<256;h++){var A=h%f,x=u[A>>>2]>>>24-A%4*8&255;p=(p+m[h]+x)%256;var E=m[h];m[h]=m[p],m[p]=E}this._i=this._j=0},"_doReset"),_doProcessBlock:o(function(c,u){c[u]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,f=this._j,m=0,h=0;h<4;h++){u=(u+1)%256,f=(f+c[u])%256;var p=c[u];c[u]=c[f],c[f]=p,m|=c[(c[u]+c[f])%256]<<24-h*8}return this._i=u,this._j=f,m}o(a,"generateKeystreamWord"),t.RC4=n._createHelper(s);var l=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:o(function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)},"_doReset")});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var jde=V((zR,Vde)=>{d();(function(e,t,r){typeof zR=="object"?Vde.exports=zR=t(Ei(),H2(),V2(),Yg(),za()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(zR,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.Rabbit=n.extend({_doReset:o(function(){for(var f=this._key.words,m=this.cfg.iv,h=0;h<4;h++)f[h]=(f[h]<<8|f[h]>>>24)&16711935|(f[h]<<24|f[h]>>>8)&4278255360;var p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],A=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var h=0;h<4;h++)u.call(this);for(var h=0;h<8;h++)A[h]^=p[h+4&7];if(m){var x=m.words,E=x[0],v=x[1],b=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,S=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,B=b>>>16|S&4294901760,D=S<<16|b&65535;A[0]^=b,A[1]^=B,A[2]^=S,A[3]^=D,A[4]^=b,A[5]^=B,A[6]^=S,A[7]^=D;for(var h=0;h<4;h++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,m){var h=this._X;u.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[m+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],A=p&65535,x=p>>>16,E=((A*A>>>17)+A*x>>>15)+x*x,v=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=E^v}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var zde=V((YR,$de)=>{d();(function(e,t,r){typeof YR=="object"?$de.exports=YR=t(Ei(),H2(),V2(),Yg(),za()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(YR,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,s=[],a=[],l=[],c=i.RabbitLegacy=n.extend({_doReset:o(function(){var f=this._key.words,m=this.cfg.iv,h=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],p=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var A=0;A<4;A++)u.call(this);for(var A=0;A<8;A++)p[A]^=h[A+4&7];if(m){var x=m.words,E=x[0],v=x[1],b=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,S=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,B=b>>>16|S&4294901760,D=S<<16|b&65535;p[0]^=b,p[1]^=B,p[2]^=S,p[3]^=D,p[4]^=b,p[5]^=B,p[6]^=S,p[7]^=D;for(var A=0;A<4;A++)u.call(this)}},"_doReset"),_doProcessBlock:o(function(f,m){var h=this._X;u.call(this),s[0]=h[0]^h[5]>>>16^h[3]<<16,s[1]=h[2]^h[7]>>>16^h[5]<<16,s[2]=h[4]^h[1]>>>16^h[7]<<16,s[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)s[p]=(s[p]<<8|s[p]>>>24)&16711935|(s[p]<<24|s[p]>>>8)&4278255360,f[m+p]^=s[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],A=p&65535,x=p>>>16,E=((A*A>>>17)+A*x>>>15)+x*x,v=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=E^v}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}o(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var Kde=V((KR,Yde)=>{d();(function(e,t,r){typeof KR=="object"?Yde.exports=KR=t(Ei(),H2(),V2(),Yg(),za()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(KR,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let s=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(A,x){let E=x>>24&255,v=x>>16&255,b=x>>8&255,S=x&255,B=A.sbox[0][E]+A.sbox[1][v];return B=B^A.sbox[2][b],B=B+A.sbox[3][S],B}o(u,"F");function f(A,x,E){let v=x,b=E,S;for(let B=0;B<s;++B)v=v^A.pbox[B],b=u(A,v)^b,S=v,v=b,b=S;return S=v,v=b,b=S,b=b^A.pbox[s],v=v^A.pbox[s+1],{left:v,right:b}}o(f,"BlowFish_Encrypt");function m(A,x,E){let v=x,b=E,S;for(let B=s+1;B>1;--B)v=v^A.pbox[B],b=u(A,v)^b,S=v,v=b,b=S;return S=v,v=b,b=S,b=b^A.pbox[1],v=v^A.pbox[0],{left:v,right:b}}o(m,"BlowFish_Decrypt");function h(A,x,E){for(let D=0;D<4;D++){A.sbox[D]=[];for(let F=0;F<256;F++)A.sbox[D][F]=l[D][F]}let v=0;for(let D=0;D<s+2;D++)A.pbox[D]=a[D]^x[v],v++,v>=E&&(v=0);let b=0,S=0,B=0;for(let D=0;D<s+2;D+=2)B=f(A,b,S),b=B.left,S=B.right,A.pbox[D]=b,A.pbox[D+1]=S;for(let D=0;D<4;D++)for(let F=0;F<256;F+=2)B=f(A,b,S),b=B.left,S=B.right,A.sbox[D][F]=b,A.sbox[D][F+1]=S;return!0}o(h,"BlowFishInit");var p=i.Blowfish=n.extend({_doReset:o(function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key,x=A.words,E=A.sigBytes/4;h(c,x,E)}},"_doReset"),encryptBlock:o(function(A,x){var E=f(c,A[x],A[x+1]);A[x]=E.left,A[x+1]=E.right},"encryptBlock"),decryptBlock:o(function(A,x){var E=m(c,A[x],A[x+1]);A[x]=E.left,A[x+1]=E.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var j2=V((JR,Jde)=>{d();(function(e,t,r){typeof JR=="object"?Jde.exports=JR=t(Ei(),w7(),zfe(),Kfe(),H2(),Zfe(),V2(),U$(),vR(),ide(),q$(),ade(),cde(),fde(),BR(),hde(),Yg(),za(),yde(),xde(),bde(),Ide(),wde(),_de(),Bde(),Dde(),Fde(),Lde(),Mde(),Ude(),Wde(),Hde(),jde(),zde(),Kde()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(JR,function(e){return e})});var Zde=V(($Lt,Xde)=>{d();var db=1e3,mb=db*60,hb=mb*60,h3=hb*24,pHe=h3*7,gHe=h3*365.25;Xde.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return AHe(e);if(r==="number"&&isFinite(e))return t.long?CHe(e):yHe(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function AHe(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*gHe;case"weeks":case"week":case"w":return r*pHe;case"days":case"day":case"d":return r*h3;case"hours":case"hour":case"hrs":case"hr":case"h":return r*hb;case"minutes":case"minute":case"mins":case"min":case"m":return r*mb;case"seconds":case"second":case"secs":case"sec":case"s":return r*db;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(AHe,"parse");function yHe(e){var t=Math.abs(e);return t>=h3?Math.round(e/h3)+"d":t>=hb?Math.round(e/hb)+"h":t>=mb?Math.round(e/mb)+"m":t>=db?Math.round(e/db)+"s":e+"ms"}o(yHe,"fmtShort");function CHe(e){var t=Math.abs(e);return t>=h3?ZR(e,t,h3,"day"):t>=hb?ZR(e,t,hb,"hour"):t>=mb?ZR(e,t,mb,"minute"):t>=db?ZR(e,t,db,"second"):e+" ms"}o(CHe,"fmtLong");function ZR(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}o(ZR,"plural")});var G$=V((KLt,eme)=>{d();function xHe(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=a,r.humanize=Zde(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let m=0;for(let h=0;h<f.length;h++)m=(m<<5)-m+f.charCodeAt(h),m|=0;return r.colors[Math.abs(m)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(f){let m,h=null,p,A;function x(...E){if(!x.enabled)return;let v=x,b=Number(new Date),S=b-(m||b);v.diff=S,v.prev=m,v.curr=b,m=b,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let B=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(F,W)=>{if(F==="%%")return"%";B++;let ee=r.formatters[W];if(typeof ee=="function"){let de=E[B];F=ee.call(v,de),E.splice(B,1),B--}return F}),r.formatArgs.call(v,E),(v.log||r.log).apply(v,E)}return o(x,"debug"),x.namespace=f,x.useColors=r.useColors(),x.color=r.selectColor(f),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:o(()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,A=r.enabled(f)),A),"get"),set:o(E=>{h=E},"set")}),typeof r.init=="function"&&r.init(x),x}o(r,"createDebug");function n(f,m){let h=r(this.namespace+(typeof m>"u"?":":m)+f);return h.log=this.log,h}o(n,"extend");function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let m,h=(typeof f=="string"?f:"").split(/[\s,]+/),p=h.length;for(m=0;m<p;m++)h[m]&&(f=h[m].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}o(i,"enable");function s(){let f=[...r.names.map(l),...r.skips.map(l).map(m=>"-"+m)].join(",");return r.enable(""),f}o(s,"disable");function a(f){if(f[f.length-1]==="*")return!0;let m,h;for(m=0,h=r.skips.length;m<h;m++)if(r.skips[m].test(f))return!1;for(m=0,h=r.names.length;m<h;m++)if(r.names[m].test(f))return!0;return!1}o(a,"enabled");function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}o(l,"toNamespace");function c(f){return f instanceof Error?f.stack||f.message:f}o(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(u,"destroy"),r.enable(r.load()),r}o(xHe,"setup");eme.exports=xHe});var tme=V((Au,eD)=>{d();Au.formatArgs=bHe;Au.save=vHe;Au.load=IHe;Au.useColors=EHe;Au.storage=THe();Au.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Au.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function EHe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(EHe,"useColors");function bHe(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+eD.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}o(bHe,"formatArgs");Au.log=console.debug||console.log||(()=>{});function vHe(e){try{e?Au.storage.setItem("debug",e):Au.storage.removeItem("debug")}catch{}}o(vHe,"save");function IHe(){let e;try{e=Au.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}o(IHe,"load");function THe(){try{return localStorage}catch{}}o(THe,"localstorage");eD.exports=G$()(Au);var{formatters:wHe}=eD.exports;wHe.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var nme=V((tQt,rme)=>{"use strict";d();rme.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var sme=V((nQt,ome)=>{"use strict";d();var SHe=require("os"),ime=require("tty"),Pf=nme(),{env:cl}=process,$2;Pf("no-color")||Pf("no-colors")||Pf("color=false")||Pf("color=never")?$2=0:(Pf("color")||Pf("colors")||Pf("color=true")||Pf("color=always"))&&($2=1);"FORCE_COLOR"in cl&&(cl.FORCE_COLOR==="true"?$2=1:cl.FORCE_COLOR==="false"?$2=0:$2=cl.FORCE_COLOR.length===0?1:Math.min(parseInt(cl.FORCE_COLOR,10),3));function H$(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}o(H$,"translateLevel");function V$(e,t){if($2===0)return 0;if(Pf("color=16m")||Pf("color=full")||Pf("color=truecolor"))return 3;if(Pf("color=256"))return 2;if(e&&!t&&$2===void 0)return 0;let r=$2||0;if(cl.TERM==="dumb")return r;if(process.platform==="win32"){let n=SHe.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in cl)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in cl)||cl.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in cl)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(cl.TEAMCITY_VERSION)?1:0;if(cl.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in cl){let n=parseInt((cl.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(cl.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(cl.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(cl.TERM)||"COLORTERM"in cl?1:r}o(V$,"supportsColor");function _He(e){let t=V$(e,e&&e.isTTY);return H$(t)}o(_He,"getSupportLevel");ome.exports={supportsColor:_He,stdout:H$(V$(!0,ime.isatty(1))),stderr:H$(V$(!0,ime.isatty(2)))}});var lme=V((Ql,rD)=>{d();var kHe=require("tty"),tD=require("util");Ql.init=LHe;Ql.log=PHe;Ql.formatArgs=RHe;Ql.save=FHe;Ql.load=NHe;Ql.useColors=BHe;Ql.destroy=tD.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ql.colors=[6,2,3,4,5,1];try{let e=sme();e&&(e.stderr||e).level>=2&&(Ql.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ql.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function BHe(){return"colors"in Ql.inspectOpts?!!Ql.inspectOpts.colors:kHe.isatty(process.stderr.fd)}o(BHe,"useColors");function RHe(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} \x1B[0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+rD.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=DHe()+t+" "+e[0]}o(RHe,"formatArgs");function DHe(){return Ql.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(DHe,"getDate");function PHe(...e){return process.stderr.write(tD.format(...e)+`
`)}o(PHe,"log");function FHe(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(FHe,"save");function NHe(){return process.env.DEBUG}o(NHe,"load");function LHe(e){e.inspectOpts={};let t=Object.keys(Ql.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Ql.inspectOpts[t[r]]}o(LHe,"init");rD.exports=G$()(Ql);var{formatters:ame}=rD.exports;ame.o=function(e){return this.inspectOpts.colors=this.useColors,tD.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};ame.O=function(e){return this.inspectOpts.colors=this.useColors,tD.inspect(e,this.inspectOpts)}});var p3=V((lQt,j$)=>{d();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?j$.exports=tme():j$.exports=lme()});var X$=V((dQt,dme)=>{d();var _7=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,QHe=typeof AbortController=="function",nD=QHe?AbortController:class{static{o(this,"AbortController")}constructor(){this.signal=new cme}abort(){this.signal.dispatchEvent("abort")}},MHe=typeof AbortSignal=="function",OHe=typeof nD.AbortSignal=="function",cme=MHe?AbortSignal:OHe?nD.AbortController:class{static{o(this,"AbortSignal")}constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},K$=new Set,$$=o((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;iD(r)&&J$(r,`${e} option`,`options.${t}`,gb)},"deprecatedOption"),z$=o((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(iD(r)){let{prototype:n}=gb,{get:i}=Object.getOwnPropertyDescriptor(n,e);J$(r,`${e} method`,`cache.${t}()`,i)}},"deprecatedMethod"),UHe=o((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(iD(r)){let{prototype:n}=gb,{get:i}=Object.getOwnPropertyDescriptor(n,e);J$(r,`${e} property`,`cache.${t}`,i)}},"deprecatedProperty"),ume=o((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),iD=o(e=>!K$.has(e),"shouldWarn"),J$=o((e,t,r,n)=>{K$.add(e);let i=`The ${t} is deprecated. Please use ${r} instead.`;ume(i,"DeprecationWarning",e,n)},"warn"),g3=o(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),fme=o(e=>g3(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?pb:null:null,"getUintArray"),pb=class extends Array{static{o(this,"ZeroArray")}constructor(t){super(t),this.fill(0)}},Y$=class{static{o(this,"Stack")}constructor(t){if(t===0)return[];let r=fme(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},gb=class e{static{o(this,"LRUCache")}constructor(t={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:c,dispose:u,disposeAfter:f,noDisposeOnSet:m,noUpdateTTL:h,maxSize:p=0,sizeCalculation:A,fetchMethod:x,fetchContext:E,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:b}=t,{length:S,maxAge:B,stale:D}=t instanceof e?{}:t;if(r!==0&&!g3(r))throw new TypeError("max option must be a nonnegative integer");let F=r?fme(r):Array;if(!F)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=p,this.sizeCalculation=A||S,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=x||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=E,!this.fetchMethod&&E!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new F(r),this.prev=new F(r),this.head=0,this.tail=0,this.free=new Y$(r),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof f=="function"?(this.disposeAfter=f,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!m,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!v,this.maxSize!==0){if(!g3(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!D,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=g3(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||B||0,this.ttl){if(!g3(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let W="LRU_CACHE_UNBOUNDED";iD(W)&&(K$.add(W),ume("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",W,e))}D&&$$("stale","allowStale"),B&&$$("maxAge","ttl"),S&&$$("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new pb(this.max),this.starts=new pb(this.max),this.setItemTTL=(n,i,s=_7.now())=>{if(this.starts[n]=i!==0?s:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?_7.now():0};let t=0,r=o(()=>{let n=_7.now();if(this.ttlResolution>0){t=n;let i=setTimeout(()=>t=0,this.ttlResolution);i.unref&&i.unref()}return n},"getNow");this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new pb(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,i)=>{if(!g3(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,t),!g3(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return z$("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){a.ttl=this.ttls[r];let l=_7.now()-this.starts[r];a.start=Math.floor(Date.now()-l)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let i=Date.now()-n.start;n.start=_7.now()-i}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,l),this.maxSize&&a>this.maxSize)return this;let u=this.size===0?void 0:this.keyMap.get(t);if(u===void 0)u=this.newIndex(),this.keyList[u]=t,this.valList[u]=r,this.keyMap.set(t,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,a),c=!1;else{let f=this.valList[u];r!==f&&(this.isBackgroundFetch(f)?f.__abortController.abort():s||(this.dispose(f,t,"set"),this.disposeAfter&&this.disposed.push([f,t,"set"])),this.removeItemSize(u),this.valList[u]=r,this.addItemSize(u,a)),this.moveToTail(u)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(u,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(t,r,n,i){let s=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(s))return s;let a=new nD,l={signal:a.signal,options:n,context:i},c=o(h=>(a.signal.aborted||this.set(t,h,l.options),h),"cb"),u=o(h=>{if(this.valList[r]===m&&(!n.noDeleteOnFetchRejection||m.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=m.__staleWhileFetching),m.__returned===m)throw h},"eb"),f=o(h=>h(this.fetchMethod(t,s,l)),"pcall"),m=new Promise(f).then(c,u);return m.__abortController=a,m.__staleWhileFetching=s,m.__returned=null,r===void 0?(this.set(t,m,l.options),r=this.keyMap.get(t)):this.valList[r]=m,m}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,fetchContext:m=this.fetchContext,forceRefresh:h=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let p={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f},A=this.keyMap.get(t);if(A===void 0){let x=this.backgroundFetch(t,A,p,m);return x.__returned=x}else{let x=this.valList[A];if(this.isBackgroundFetch(x))return r&&x.__staleWhileFetching!==void 0?x.__staleWhileFetching:x.__returned=x;if(!h&&!this.isStale(A))return this.moveToTail(A),n&&this.updateItemAge(A),x;let E=this.backgroundFetch(t,A,p,m);return r&&E.__staleWhileFetching!==void 0?E.__staleWhileFetching:E.__returned=E}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let s=this.keyMap.get(t);if(s!==void 0){let a=this.valList[s],l=this.isBackgroundFetch(a);return this.isStale(s)?l?r?a.__staleWhileFetching:void 0:(i||this.delete(t),r?a:void 0):l?void 0:(this.moveToTail(s),n&&this.updateItemAge(s),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return z$("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,t,"delete"),this.disposeAfter&&this.disposed.push([i,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return z$("reset","clear"),this.clear}get length(){return UHe("length","size"),this.size}static get AbortController(){return nD}static get AbortSignal(){return cme}};dme.exports=gb});var tz=V((pQt,mme)=>{"use strict";d();var k7=class extends Error{static{o(this,"FetchBaseError")}constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}},Z$=class extends k7{static{o(this,"FetchError")}constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},ez=class extends k7{static{o(this,"AbortError")}constructor(t,r="aborted"){super(t,r,"AbortError")}};mme.exports={FetchBaseError:k7,FetchError:Z$,AbortError:ez}});var Kg=V((yQt,pme)=>{"use strict";d();var{constants:{MAX_LENGTH:qHe}}=require("buffer"),{pipeline:oD,PassThrough:WHe}=require("stream"),{promisify:GHe}=require("util"),{createGunzip:HHe,createInflate:VHe,createBrotliDecompress:jHe,constants:{Z_SYNC_FLUSH:hme}}=require("zlib"),$He=p3()("helix-fetch:utils"),zHe=GHe(oD),YHe=o((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),KHe=o((e,t,r,n)=>{if(!YHe(e,t))return r;let i=o(s=>{s&&($He(`encountered error while decoding stream: ${s}`),n(s))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return oD(r,HHe({flush:hme,finishFlush:hme}),i);case"deflate":case"x-deflate":return oD(r,VHe(),i);case"br":return oD(r,jHe(),i);default:return r}},"decodeStream"),JHe=o(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),sD=o((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?XHe(e,t):ZHe(e,t);default:return 0}},"calcSize"),XHe=o((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:sD(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),ZHe=o((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let i in e)n.push(i);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(i=>{if(r+=sD(i,t),typeof e[i]=="object"&&e[i]!==null){if(t.has(e[i]))return;t.add(e[i])}r+=sD(e[i],t)}),r},"calcObjectSize"),eVe=o(e=>sD(e,new WeakSet),"sizeof"),tVe=o(async e=>{let t=new WHe,r=0,n=[];return t.on("data",i=>{if(r+i.length>qHe)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await zHe(e,t),Buffer.concat(n,r)},"streamToBuffer");pme.exports={decodeStream:KHe,isPlainObject:JHe,sizeof:eVe,streamToBuffer:tVe}});var lD=V((EQt,Cme)=>{"use strict";d();var{PassThrough:gme,Readable:Jg}=require("stream"),{types:{isAnyArrayBuffer:yme}}=require("util"),{FetchError:rVe,FetchBaseError:nVe}=tz(),{streamToBuffer:iVe}=Kg(),oVe=Buffer.alloc(0),Ff=Symbol("Body internals"),sVe=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),Ame=o(async e=>{if(e[Ff].disturbed)throw new TypeError("Already read");if(e[Ff].error)throw new TypeError(`Stream had error: ${e[Ff].error.message}`);e[Ff].disturbed=!0;let{stream:t}=e[Ff];return t===null?oVe:iVe(t)},"consume"),aD=class{static{o(this,"Body")}constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=Jg.from(t.toString()):t instanceof Jg?r=t:Buffer.isBuffer(t)?r=Jg.from(t):yme(t)?r=Jg.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=Jg.from(t):r=Jg.from(String(t)),this[Ff]={stream:r,disturbed:!1,error:null},t instanceof Jg&&r.on("error",n=>{let i=n instanceof nVe?n:new rVe(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[Ff].error=i})}get body(){return this[Ff].stream}get bodyUsed(){return this[Ff].disturbed}async buffer(){return Ame(this)}async arrayBuffer(){return sVe(await this.buffer())}async text(){return(await Ame(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties(aD.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var aVe=o(e=>{if(e[Ff].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[Ff],r=t;if(t instanceof Jg){r=new gme;let n=new gme;t.pipe(r),t.pipe(n),e[Ff].stream=n}return r},"cloneStream"),lVe=o(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||yme(e)||e instanceof Jg?null:"text/plain; charset=utf-8","guessContentType");Cme.exports={Body:aD,cloneStream:aVe,guessContentType:lVe}});var Ab=V((IQt,vme)=>{"use strict";d();var{validateHeaderName:xme,validateHeaderValue:Eme}=require("http"),{isPlainObject:cVe}=Kg(),Xg=Symbol("Headers internals"),B7=o(e=>{let t=typeof e!="string"?String(e):e;if(typeof xme=="function")xme(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),bme=o((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof Eme=="function")Eme(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),cD=class e{static{o(this,"Headers")}constructor(t={}){if(this[Xg]={map:new Map},t instanceof e)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(cVe(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[Xg].map.set(B7(t),bme(r,t))}has(t){return this[Xg].map.has(B7(t))}get(t){let r=this[Xg].map.get(B7(t));return r===void 0?null:r}append(t,r){let n=B7(t),i=bme(r,t),s=this[Xg].map.get(n);this[Xg].map.set(n,s?`${s}, ${i}`:i)}delete(t){this[Xg].map.delete(B7(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[Xg].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[Xg].map)}};Object.defineProperties(cD.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));vme.exports={Headers:cD}});var rz=V((SQt,Ime)=>{"use strict";d();var{EventEmitter:uVe}=require("events"),cm=Symbol("AbortSignal internals"),yb=class{static{o(this,"AbortSignal")}constructor(){this[cm]={eventEmitter:new uVe,onabort:null,aborted:!1}}get aborted(){return this[cm].aborted}get onabort(){return this[cm].onabort}set onabort(t){this[cm].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[cm].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[cm].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[cm][n]=="function"&&this[n](r),this[cm].eventEmitter.emit(t,r)}fire(){this[cm].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties(yb.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var fD=class extends yb{static{o(this,"TimeoutSignal")}constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[cm].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[cm].timerId)}};Object.defineProperties(fD.prototype,{clear:{enumerable:!0}});var uD=Symbol("AbortController internals"),dD=class{static{o(this,"AbortController")}constructor(){this[uD]={signal:new yb}}get signal(){return this[uD].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[uD].signal.aborted||this[uD].signal.fire()}};Object.defineProperties(dD.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});Ime.exports={AbortController:dD,AbortSignal:yb,TimeoutSignal:fD}});var R7=V((BQt,Sme)=>{"use strict";d();var{randomBytes:fVe}=require("crypto"),{Readable:dVe}=require("stream"),iz=o(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),mVe=o(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),Tme=o(e=>`--${e}--\r
\r
`,"getFooter"),wme=o((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,iz(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*hVe(e,t){for(let[r,n]of e)yield wme(t,r,n),iz(n)?yield*n.stream():yield n,yield`\r
`;yield Tme(t)}o(hVe,"formDataIterator");var pVe=o((e,t)=>{let r=0;for(let[n,i]of e)r+=Buffer.byteLength(wme(t,n,i)),r+=iz(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(Tme(t)),r},"getFormDataLength"),nz=class{static{o(this,"FormDataSerializer")}constructor(t){this.fd=t,this.boundary=fVe(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=pVe(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return dVe.from(hVe(this.fd,this.boundary))}};Sme.exports={isFormData:mVe,FormDataSerializer:nz}});var kme=V((PQt,_me)=>{"use strict";d();var{AbortSignal:gVe}=rz(),{Body:AVe,cloneStream:yVe,guessContentType:CVe}=lD(),{Headers:xVe}=Ab(),{isPlainObject:EVe}=Kg(),{isFormData:bVe,FormDataSerializer:vVe}=R7(),IVe=20,z2=Symbol("Request internals"),mD=class e extends AVe{static{o(this,"Request")}constructor(t,r={}){let n=t instanceof e?t:null,i=n?new URL(n.url):new URL(t),s=r.method||n&&n.method||"GET";if(s=s.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(s))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?yVe(n):null),l=new xVe(r.headers||n&&n.headers||{});if(bVe(a)&&!l.has("content-type")){let m=new vVe(a);a=m.stream(),l.set("content-type",m.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",m.length())}if(!l.has("content-type"))if(EVe(a))a=JSON.stringify(a),l.set("content-type","application/json");else{let m=CVe(a);m&&l.set("content-type",m)}super(a);let c=n?n.signal:null;if("signal"in r&&(c=r.signal),c&&!(c instanceof gVe))throw new TypeError("signal needs to be an instance of AbortSignal");let u=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(u))throw new TypeError(`'${u}' is not a valid redirect option`);let f=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(f))throw new TypeError(`'${f}' is not a valid cache option`);this[z2]={init:{...r},method:s,redirect:u,cache:f,headers:l,parsedURL:i,signal:c},r.follow===void 0?!n||n.follow===void 0?this.follow=IVe:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[z2].method}get url(){return this[z2].parsedURL.toString()}get headers(){return this[z2].headers}get redirect(){return this[z2].redirect}get cache(){return this[z2].cache}get signal(){return this[z2].signal}clone(){return new e(this)}get init(){return this[z2].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(mD.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});_me.exports={Request:mD}});var oz=V((LQt,Bme)=>{"use strict";d();var{Body:TVe,cloneStream:wVe,guessContentType:SVe}=lD(),{Headers:_Ve}=Ab(),{isPlainObject:kVe}=Kg(),{isFormData:BVe,FormDataSerializer:RVe}=R7(),um=Symbol("Response internals"),hD=class e extends TVe{static{o(this,"Response")}constructor(t=null,r={}){let n=new _Ve(r.headers),i=t;if(BVe(i)&&!n.has("content-type")){let s=new RVe(i);i=s.stream(),n.set("content-type",s.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",s.length())}if(i!==null&&!n.has("content-type"))if(kVe(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let s=SVe(i);s&&n.set("content-type",s)}super(i),this[um]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[um].url||""}get status(){return this[um].status}get statusText(){return this[um].statusText}get ok(){return this[um].status>=200&&this[um].status<300}get redirected(){return this[um].counter>0}get headers(){return this[um].headers}get httpVersion(){return this[um].httpVersion}get decoded(){return this[um].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new e(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new e(wVe(this),{...this[um]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(hD.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});Bme.exports={Response:hD}});var Dme=V((UQt,Rme)=>{"use strict";d();var DVe=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),PVe=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),FVe=new Set([500,502,503,504]),NVe={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},LVe={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function A3(e){let t=parseInt(e,10);return isFinite(t)?t:0}o(A3,"toNumberOrZero");function QVe(e){return e?FVe.has(e.status):!0}o(QVe,"isErrorResponse");function sz(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[i,s]=n.split(/=/,2);t[i.trim()]=s===void 0?!0:s.trim().replace(/^"|"$/g,"")}return t}o(sz,"parseCacheControl");function MVe(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}o(MVe,"formatCacheControl");Rme.exports=class{static{o(this,"CachePolicy")}constructor(t,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:s,ignoreCargoCult:a,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=sz(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=sz(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":MVe(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&PVe.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||DVe.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=sz(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)NVe[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return A3(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return A3(this._rescc["s-maxage"])}if(this._rescc["max-age"])return A3(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+A3(this._rescc["stale-if-error"]),n=t+A3(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+A3(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+A3(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&QVe(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let i={};for(let a in this._resHeaders)i[a]=a in r.headers&&!LVe[a]?r.headers[a]:this._resHeaders[a];let s=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(t,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var Lme=V((GQt,Nme)=>{"use strict";d();var OVe=Dme(),{Headers:UVe}=Ab(),Pme=o(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),Fme=o(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),az=class{static{o(this,"CachePolicyWrapper")}constructor(t,r,n){this.policy=new OVe(Pme(t),Fme(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(Pme(t))}responseHeaders(t){return new UVe(this.policy.responseHeaders(Fme(t)))}timeToLive(){return this.policy.timeToLive()}};Nme.exports=az});var Ome=V((jQt,Mme)=>{"use strict";d();var{Readable:qVe}=require("stream"),{Headers:Qme}=Ab(),{Response:WVe}=oz(),Y2=Symbol("CacheableResponse internals"),GVe=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),lz=class e extends WVe{static{o(this,"CacheableResponse")}constructor(t,r){super(t,r);let n=new Qme(r.headers);this[Y2]={headers:n,bufferedBody:t}}get headers(){return this[Y2].headers}set headers(t){if(t instanceof Qme)this[Y2].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return qVe.from(this[Y2].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[Y2].bufferedBody}async arrayBuffer(){return GVe(this[Y2].bufferedBody)}async text(){return this[Y2].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:l}=this;return new e(this[Y2].bufferedBody,{url:t,status:r,statusText:n,headers:i,httpVersion:s,decoded:a,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}},HVe=o(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:l,counter:c}=e;return new lz(t,{url:r,status:n,statusText:i,headers:s,httpVersion:a,decoded:l,counter:c})},"cacheableResponse");Mme.exports={cacheableResponse:HVe}});var pD=V((YQt,Ume)=>{"use strict";d();var cz=class extends Error{static{o(this,"RequestAbortedError")}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};Ume.exports={RequestAbortedError:cz}});var Vme=V((XQt,Hme)=>{"use strict";d();var Wme=require("http"),Gme=require("https"),{Readable:VVe}=require("stream"),Zg=p3()("helix-fetch:h1"),{RequestAbortedError:qme}=pD(),{decodeStream:jVe}=Kg(),$Ve=o((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new Gme.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new Wme.Agent(n),r.httpAgent):void 0},"getAgent"),zVe=o(e=>{e.h1={}},"setupContext"),YVe=o(async({h1:e})=>{e.httpAgent&&(Zg("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(Zg("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),KVe=o((e,t,r)=>{let{statusCode:n,statusMessage:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:l,headers:c}=e,u=t?jVe(n,c,e,r):e;return{statusCode:n,statusText:i,httpVersion:s,httpVersionMajor:a,httpVersionMinor:l,headers:c,readable:u,decoded:!!(t&&u!==e)}},"createResponse"),JVe=o(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?Gme:Wme,i=$Ve(e,t.protocol),s={...r,agent:i},{socket:a,body:l}=s;return a&&(delete s.socket,a.assigned||(a.assigned=!0,i?s.agent=new Proxy(i,{get:o((c,u)=>u==="createConnection"&&!a.inUse?(f,m)=>{Zg(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,m(null,a)}:c[u],"get")}):s.createConnection=(c,u)=>{Zg(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,u(null,a)})),new Promise((c,u)=>{Zg(`${s.method} ${t.href}`);let f,{signal:m}=s,h=o(()=>{m.removeEventListener("abort",h),a&&!a.inUse&&(Zg(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u(new qme),f&&f.abort()},"onAbortSignal");if(m){if(m.aborted){u(new qme);return}m.addEventListener("abort",h)}f=n(t,s),f.once("response",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(Zg(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(KVe(p,s.decode,u))}),f.once("error",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(Zg(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),f.aborted||(Zg(`${s.method} ${t.href} failed with: ${p.message}`),f.abort(),u(p))}),l instanceof VVe?l.pipe(f):(l&&f.write(l),f.end())})},"h1Request");Hme.exports={request:JVe,setupContext:zVe,resetContext:YVe}});var Yme=V((tMt,zme)=>{"use strict";d();var{connect:XVe,constants:ZVe}=require("http2"),{Readable:eje}=require("stream"),jo=p3()("helix-fetch:h2"),{RequestAbortedError:jme}=pD(),{decodeStream:tje}=Kg(),{NGHTTP2_CANCEL:D7}=ZVe,rje=5*60*1e3,nje=5e3,ije=o(e=>{e.h2={sessionCache:{}}},"setupContext"),oje=o(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),jo(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),$me=o((e,t,r,n=()=>{})=>{let i={...e},s=i[":status"];delete i[":status"];let a=r?tje(s,e,t,n):t;return{statusCode:s,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),sje=o((e,t,r,n,i,s)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:l,pushedStreamIdleTimeout:c=nje}}}=e,u=i[":path"],f=`${t}${u}`;jo(`received PUSH_PROMISE: ${f}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${s}`),a&&a(f,i,o(()=>{n.close(D7)},"rejectPush")),n.on("push",(m,h)=>{jo(`received push headers for ${t}${u}, stream #${n.id}, headers: ${JSON.stringify(m)}, flags: ${h}`),n.setTimeout(c,()=>{jo(`closing pushed stream #${n.id} after ${c} ms of inactivity`),n.close(D7)}),l&&l(f,i,$me(m,n,r))}),n.on("aborted",()=>{jo(`pushed stream #${n.id} aborted`)}),n.on("error",m=>{jo(`pushed stream #${n.id} encountered error: ${m}`)}),n.on("frameError",(m,h,p)=>{jo(`pushed stream #${n.id} encountered frameError: type: ${m}, code: ${h}, id: ${p}`)})},"handlePush"),aje=o(async(e,t,r)=>{let{origin:n,pathname:i,search:s,hash:a}=t,l=`${i}${s}${a}`,{options:{h2:c={}},h2:{sessionCache:u}}=e,{idleSessionTimeout:f=rje,pushPromiseHandler:m,pushHandler:h}=c,p={...r},{method:A,headers:x,socket:E,body:v,decode:b}=p;return E&&delete p.socket,x.host&&(x[":authority"]=x.host,delete x.host),new Promise((S,B)=>{let D=u[n];if(!D||D.closed||D.destroyed){let X=!(e.options.rejectUnauthorized===!1||c.rejectUnauthorized===!1),G={...c,rejectUnauthorized:X};E&&!E.inUse&&(G.createConnection=()=>(jo(`reusing socket #${E.id} (${E.servername})`),E.inUse=!0,E)),D=XVe(n,{...G,settings:{enablePush:!!(m||h)}}),D.setMaxListeners(1e3),D.setTimeout(f,()=>{jo(`closing session ${n} after ${f} ms of inactivity`),D.close()}),D.once("connect",()=>{jo(`session ${n} established`),jo(`caching session ${n}`),u[n]=D}),D.on("localSettings",ie=>{jo(`session ${n} localSettings: ${JSON.stringify(ie)}`)}),D.on("remoteSettings",ie=>{jo(`session ${n} remoteSettings: ${JSON.stringify(ie)}`)}),D.once("close",()=>{jo(`session ${n} closed`),u[n]===D&&(jo(`discarding cached session ${n}`),delete u[n])}),D.once("error",ie=>{jo(`session ${n} encountered error: ${ie}`),u[n]===D&&(jo(`discarding cached session ${n}`),delete u[n])}),D.on("frameError",(ie,z,H)=>{jo(`session ${n} encountered frameError: type: ${ie}, code: ${z}, id: ${H}`)}),D.once("goaway",(ie,z,H)=>{jo(`session ${n} received GOAWAY frame: errorCode: ${ie}, lastStreamID: ${z}, opaqueData: ${H?H.toString():void 0}`)}),D.on("stream",(ie,z,H)=>{sje(e,n,b,ie,z,H)})}else E&&E.id!==D.socket.id&&!E.inUse&&(jo(`discarding redundant socket used for ALPN: #${E.id} ${E.servername}`),E.destroy());jo(`${A} ${t.host}${l}`);let F,{signal:W}=p,ee=o(()=>{W.removeEventListener("abort",ee),B(new jme),F&&F.close(D7)},"onAbortSignal");if(W){if(W.aborted){B(new jme);return}W.addEventListener("abort",ee)}let de=o(X=>{jo(`session ${n} encountered error during ${p.method} ${t.href}: ${X}`),B(X)},"onSessionError");D.once("error",de),F=D.request({":method":A,":path":l,...x}),F.once("response",X=>{D.off("error",de),W&&W.removeEventListener("abort",ee),S($me(X,F,p.decode,B))}),F.once("error",X=>{D.off("error",de),W&&W.removeEventListener("abort",ee),F.rstCode!==D7&&(jo(`${p.method} ${t.href} failed with: ${X.message}`),F.close(D7),B(X))}),F.once("frameError",(X,G,U)=>{D.off("error",de),jo(`encountered frameError during ${p.method} ${t.href}: type: ${X}, code: ${G}, id: ${U}`)}),F.on("push",(X,G)=>{jo(`received 'push' event: headers: ${JSON.stringify(X)}, flags: ${G}`)}),v instanceof eje?v.pipe(F):(v&&F.write(v),F.end())})},"request");zme.exports={request:aje,setupContext:ije,resetContext:oje}});var Jme=V((iMt,Kme)=>{"use strict";d();var{EventEmitter:lje}=require("events"),cje=o(()=>{let e={},t=new lje;return t.setMaxListeners(0),{acquire:o(r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let i=o(s=>{e[r]||(e[r]=!0,t.removeListener(r,i),n(s))},"tryAcquire");t.on(r,i)}),"acquire"),release:o((r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))},"release")}},"lock");Kme.exports=cje});var Xme=V((aMt,uje)=>{uje.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var nhe=V((lMt,rhe)=>{"use strict";d();var{Readable:fje}=require("stream"),dje=require("tls"),{types:{isAnyArrayBuffer:mje}}=require("util"),hje=X$(),uz=p3()("helix-fetch:core"),{RequestAbortedError:gD}=pD(),fz=Vme(),AD=Yme(),pje=Jme(),{isPlainObject:gje}=Kg(),{isFormData:Aje,FormDataSerializer:yje}=R7(),{version:Cje}=Xme(),dz="h2",mz="h2c",hz="http/1.0",y3="http/1.1",xje=100,Eje=60*60*1e3,bje=[dz,y3,hz],vje=`helix-fetch/${Cje}`,Ije={method:"GET",compress:!0,decode:!0},Zme=0,ehe=pje(),the=o((e,t)=>new Promise((r,n)=>{let{signal:i}=t,s,a=o(()=>{i.removeEventListener("abort",a);let u=new gD;n(u),s&&s.destroy(u)},"onAbortSignal");if(i){if(i.aborted){n(new gD);return}i.addEventListener("abort",a)}let l=+e.port||443,c=o(u=>{i&&i.removeEventListener("abort",a),u instanceof gD||(uz(`connecting to ${e.hostname}:${l} failed with: ${u.message}`),n(u))},"onError");s=dje.connect(l,e.hostname,t),s.once("secureConnect",()=>{i&&i.removeEventListener("abort",a),s.off("error",c),Zme+=1,s.id=Zme,s.secureConnecting=!1,uz(`established TLS connection: #${s.id} (${s.servername})`),r(s)}),s.once("error",c)}),"connectTLS"),Tje=o(async(e,t)=>{let r=await ehe.acquire(e.origin);try{return r||(r=await the(e,t)),r}finally{ehe.release(e.origin,r)}},"connect"),wje=o(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,i=e.alpnCache.get(n);if(i)return{protocol:i};switch(t.protocol){case"http:":return i=y3,e.alpnCache.set(n,i),{protocol:i};case"http2:":return i=mz,e.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:s,h1:a={},h2:l={}}}=e,c=!(s===!1||a.rejectUnauthorized===!1||l.rejectUnauthorized===!1),u={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:c};e.options.ca&&(u.ca=e.options.ca);let f=await Tje(t,u);return i=f.alpnProtocol,i||(i=y3),e.alpnCache.set(n,i),{protocol:i,socket:f}},"determineProtocol"),Sje=o(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),_je=o(async(e,t,r,n)=>{let i=t.protocol==="https:",s;t.port?s=t.port:i?s=443:s=80;let a={...r,host:t.host,hostname:t.hostname,port:s},l=await e(a);if(i){let u={...a,ALPNProtocols:n};u.socket=l,u.servername=a.host;let f=await the(t,u);return{protocol:f.alpnProtocol||y3,socket:f}}return{protocol:l.alpnProtocol||y3,socket:l}},"getProtocolAndSocketFromFactory"),kje=o(async(e,t,r)=>{let n=new URL(t),i={...Ije,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=Sje(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),e.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=e.userAgent);let s;if(i.body instanceof URLSearchParams)s="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(Aje(i.body)){let u=new yje(i.body);s=u.contentType(),i.body=u.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(u.length()))}else typeof i.body=="string"||i.body instanceof String?s="text/plain; charset=utf-8":gje(i.body)?(i.body=JSON.stringify(i.body),s="application/json"):mje(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&s!==void 0&&(i.headers["content-type"]=s),i.body!=null&&(i.body instanceof fje||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=i,{protocol:l,socket:c=null}=e.socketFactory?await _je(e.socketFactory,n,i,e.alpnProtocols):await wje(e,n,a);switch(uz(`${n.host} -> ${l}`),l){case dz:try{return await AD.request(e,n,c?{...i,socket:c}:i)}catch(u){let{code:f,message:m}=u;throw f==="ERR_HTTP2_ERROR"&&m==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),u}case mz:return AD.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),c?{...i,socket:c}:i);case hz:case y3:return fz.request(e,n,c?{...i,socket:c}:i);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),Bje=o(async e=>(e.alpnCache.clear(),Promise.all([fz.resetContext(e),AD.resetContext(e)])),"resetContext"),Rje=o(e=>{let{options:{alpnProtocols:t=bje,alpnCacheTTL:r=Eje,alpnCacheSize:n=xje,userAgent:i=vje,socketFactory:s}}=e;e.alpnProtocols=t,e.alpnCache=new hje({max:n,ttl:r}),e.userAgent=i,e.socketFactory=s,fz.setupContext(e),AD.setupContext(e)},"setupContext");rhe.exports={request:kje,setupContext:Rje,resetContext:Bje,RequestAbortedError:gD,ALPN_HTTP2:dz,ALPN_HTTP2C:mz,ALPN_HTTP1_1:y3,ALPN_HTTP1_0:hz}});var ohe=V((fMt,ihe)=>{"use strict";d();var Dje=p3()("helix-fetch:core"),{request:Pje,setupContext:Fje,resetContext:Nje,RequestAbortedError:Lje,ALPN_HTTP2:Qje,ALPN_HTTP2C:Mje,ALPN_HTTP1_1:Oje,ALPN_HTTP1_0:Uje}=nhe(),pz=class e{static{o(this,"RequestContext")}constructor(t){this.options={...t||{}},Fje(this)}api(){return{request:o(async(t,r)=>this.request(t,r),"request"),context:o((t={})=>new e(t).api(),"context"),setCA:o(t=>this.setCA(t),"setCA"),reset:o(async()=>this.reset(),"reset"),RequestAbortedError:Lje,ALPN_HTTP2:Qje,ALPN_HTTP2C:Mje,ALPN_HTTP1_1:Oje,ALPN_HTTP1_0:Uje}}async request(t,r){return Pje(this,t,r)}setCA(t){this.options.ca=t}async reset(){return Dje("resetting context"),Nje(this)}};ihe.exports=new pz().api()});var uhe=V((hMt,che)=>{"use strict";d();var{EventEmitter:qje}=require("events"),{Readable:P7}=require("stream"),gz=p3()("helix-fetch"),Wje=X$(),{Body:Gje}=lD(),{Headers:xz}=Ab(),{Request:C3}=kme(),{Response:yz}=oz(),{FetchBaseError:Hje,FetchError:F7,AbortError:yD}=tz(),{AbortController:Vje,AbortSignal:jje,TimeoutSignal:$je}=rz(),zje=Lme(),{cacheableResponse:Yje}=Ome(),{sizeof:Kje}=Kg(),{isFormData:Jje}=R7(),{context:Xje,RequestAbortedError:Zje}=ohe(),she=["GET","HEAD"],e$e=500,t$e=100*1024*1024,Az="push",ahe=o(async(e,t,r)=>{let{request:n}=e.context,i=t instanceof C3&&typeof r>"u"?t:new C3(t,r),{method:s,body:a,signal:l,compress:c,decode:u,follow:f,redirect:m,init:{body:h}}=i,p;if(l&&l.aborted){let D=new yD("The operation was aborted.");throw i.init.body instanceof P7&&i.init.body.destroy(D),D}try{p=await n(i.url,{...r,method:s,headers:i.headers.plain(),body:h&&!(h instanceof P7)&&!Jje(h)?h:a,compress:c,decode:u,follow:f,redirect:m,signal:l})}catch(D){throw h instanceof P7&&h.destroy(D),D instanceof TypeError?D:D instanceof Zje?new yD("The operation was aborted."):new F7(D.message,"system",D)}let A=o(()=>{l.removeEventListener("abort",A);let D=new yD("The operation was aborted.");i.init.body instanceof P7&&i.init.body.destroy(D),p.readable.emit("error",D)},"abortHandler");l&&l.addEventListener("abort",A);let{statusCode:x,statusText:E,httpVersion:v,headers:b,readable:S,decoded:B}=p;if([301,302,303,307,308].includes(x)){let{location:D}=b,F=D==null?null:new URL(D,i.url);switch(i.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",A),new F7(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(F===null)break;if(i.counter>=i.follow)throw l&&l.removeEventListener("abort",A),new F7(`maximum redirect reached at: ${i.url}`,"max-redirect");let W={headers:new xz(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(x!==303&&i.body&&i.init.body instanceof P7)throw l&&l.removeEventListener("abort",A),new F7("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(x===303||(x===301||x===302)&&i.method==="POST")&&(W.method="GET",W.body=void 0,W.headers.delete("content-length")),l&&l.removeEventListener("abort",A),ahe(e,new C3(F,W))}default:}}return l&&(S.once("end",()=>{l.removeEventListener("abort",A)}),S.once("error",()=>{l.removeEventListener("abort",A)})),new yz(S,{url:i.url,status:x,statusText:E,headers:b,httpVersion:v,decoded:B,counter:i.counter})},"fetch"),lhe=o(async(e,t,r)=>{if(e.options.maxCacheSize===0||!she.includes(t.method))return r;let n=new zje(t,r,{shared:!1});if(n.storable()){let i=await Yje(r);return e.cache.set(t.url,{policy:n,response:i},n.timeToLive()),i}else return r},"cacheResponse"),r$e=o(async(e,t,r)=>{let n=new C3(t,r);if(e.options.maxCacheSize!==0&&she.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:l}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){l.headers=new xz(a.responseHeaders(l));let c=l.clone();return c.fromCache=!0,c}}let s=await ahe(e,n);return n.cache!=="no-store"?lhe(e,n,s):s},"cachingFetch"),n$e=o((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,i])=>{Array.isArray(i)?i.forEach(s=>r.searchParams.append(n,s)):r.searchParams.append(n,i)}),r.href},"createUrl"),i$e=o(e=>new $je(e),"timeoutSignal"),Cz=class e{static{o(this,"FetchContext")}constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:t$e,i=e$e;n===0&&(n=1,i=1);let s=o(({response:l},c)=>Kje(l),"sizeCalculation");this.cache=new Wje({max:i,maxSize:n,sizeCalculation:s}),this.eventEmitter=new qje,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(m=>m.startsWith(":")).forEach(m=>delete f[m]),this.pushPromiseHandler(l,f,u)},this.options.h2.pushHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(v=>v.startsWith(":")).forEach(v=>delete f[v]);let{statusCode:m,statusText:h,httpVersion:p,headers:A,readable:x,decoded:E}=u;this.pushHandler(l,f,new yz(x,{url:l,status:m,statusText:h,headers:A,httpVersion:p,decoded:E}))}),this.context=Xje(this.options)}api(){return{fetch:o(async(t,r)=>this.fetch(t,r),"fetch"),Body:Gje,Headers:xz,Request:C3,Response:yz,AbortController:Vje,AbortSignal:jje,FetchBaseError:Hje,FetchError:F7,AbortError:yD,context:o((t={})=>new e(t).api(),"context"),setCA:o(t=>this.setCA(t),"setCA"),noCache:o((t={})=>new e({...t,maxCacheSize:0}).api(),"noCache"),h1:o((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1"),keepAlive:o((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAlive"),h1NoCache:o((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1NoCache"),keepAliveNoCache:o((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAliveNoCache"),reset:o(async()=>this.context.reset(),"reset"),onPush:o(t=>this.onPush(t),"onPush"),offPush:o(t=>this.offPush(t),"offPush"),createUrl:n$e,timeoutSignal:i$e,clearCache:o(()=>this.clearCache(),"clearCache"),cacheStats:o(()=>this.cacheStats(),"cacheStats"),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return r$e(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(Az,t)}offPush(t){return this.eventEmitter.off(Az,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){gz(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let i=new C3(t,{headers:r}),{policy:s}=this.cache.get(t)||{};s&&s.satisfiesWithoutRevalidation(i)&&(gz(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){gz(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await lhe(this,new C3(t,{headers:r}),n);this.eventEmitter.emit(Az,t,i)}};che.exports=new Cz().api()});var dhe=V((AMt,fhe)=>{"use strict";d();fhe.exports=uhe()});var Gb=V(g0=>{"use strict";d();Object.defineProperty(g0,"__esModule",{value:!0});g0.stringArray=g0.array=g0.func=g0.error=g0.number=g0.string=g0.boolean=void 0;function KJe(e){return e===!0||e===!1}o(KJe,"boolean");g0.boolean=KJe;function Rge(e){return typeof e=="string"||e instanceof String}o(Rge,"string");g0.string=Rge;function JJe(e){return typeof e=="number"||e instanceof Number}o(JJe,"number");g0.number=JJe;function XJe(e){return e instanceof Error}o(XJe,"error");g0.error=XJe;function ZJe(e){return typeof e=="function"}o(ZJe,"func");g0.func=ZJe;function Dge(e){return Array.isArray(e)}o(Dge,"array");g0.array=Dge;function eXe(e){return Dge(e)&&e.every(t=>Rge(t))}o(eXe,"stringArray");g0.stringArray=eXe});var kY=V($r=>{"use strict";d();Object.defineProperty($r,"__esModule",{value:!0});$r.Message=$r.NotificationType9=$r.NotificationType8=$r.NotificationType7=$r.NotificationType6=$r.NotificationType5=$r.NotificationType4=$r.NotificationType3=$r.NotificationType2=$r.NotificationType1=$r.NotificationType0=$r.NotificationType=$r.RequestType9=$r.RequestType8=$r.RequestType7=$r.RequestType6=$r.RequestType5=$r.RequestType4=$r.RequestType3=$r.RequestType2=$r.RequestType1=$r.RequestType=$r.RequestType0=$r.AbstractMessageSignature=$r.ParameterStructures=$r.ResponseError=$r.ErrorCodes=void 0;var R3=Gb(),oY;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(oY||($r.ErrorCodes=oY={}));var sY=class e extends Error{static{o(this,"ResponseError")}constructor(t,r,n){super(r),this.code=R3.number(t)?t:oY.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};$r.ResponseError=sY;var Sc=class e{static{o(this,"ParameterStructures")}constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};$r.ParameterStructures=Sc;Sc.auto=new Sc("auto");Sc.byPosition=new Sc("byPosition");Sc.byName=new Sc("byName");var Jo=class{static{o(this,"AbstractMessageSignature")}constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return Sc.auto}};$r.AbstractMessageSignature=Jo;var aY=class extends Jo{static{o(this,"RequestType0")}constructor(t){super(t,0)}};$r.RequestType0=aY;var lY=class extends Jo{static{o(this,"RequestType")}constructor(t,r=Sc.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.RequestType=lY;var cY=class extends Jo{static{o(this,"RequestType1")}constructor(t,r=Sc.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.RequestType1=cY;var uY=class extends Jo{static{o(this,"RequestType2")}constructor(t){super(t,2)}};$r.RequestType2=uY;var fY=class extends Jo{static{o(this,"RequestType3")}constructor(t){super(t,3)}};$r.RequestType3=fY;var dY=class extends Jo{static{o(this,"RequestType4")}constructor(t){super(t,4)}};$r.RequestType4=dY;var mY=class extends Jo{static{o(this,"RequestType5")}constructor(t){super(t,5)}};$r.RequestType5=mY;var hY=class extends Jo{static{o(this,"RequestType6")}constructor(t){super(t,6)}};$r.RequestType6=hY;var pY=class extends Jo{static{o(this,"RequestType7")}constructor(t){super(t,7)}};$r.RequestType7=pY;var gY=class extends Jo{static{o(this,"RequestType8")}constructor(t){super(t,8)}};$r.RequestType8=gY;var AY=class extends Jo{static{o(this,"RequestType9")}constructor(t){super(t,9)}};$r.RequestType9=AY;var yY=class extends Jo{static{o(this,"NotificationType")}constructor(t,r=Sc.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.NotificationType=yY;var CY=class extends Jo{static{o(this,"NotificationType0")}constructor(t){super(t,0)}};$r.NotificationType0=CY;var xY=class extends Jo{static{o(this,"NotificationType1")}constructor(t,r=Sc.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};$r.NotificationType1=xY;var EY=class extends Jo{static{o(this,"NotificationType2")}constructor(t){super(t,2)}};$r.NotificationType2=EY;var bY=class extends Jo{static{o(this,"NotificationType3")}constructor(t){super(t,3)}};$r.NotificationType3=bY;var vY=class extends Jo{static{o(this,"NotificationType4")}constructor(t){super(t,4)}};$r.NotificationType4=vY;var IY=class extends Jo{static{o(this,"NotificationType5")}constructor(t){super(t,5)}};$r.NotificationType5=IY;var TY=class extends Jo{static{o(this,"NotificationType6")}constructor(t){super(t,6)}};$r.NotificationType6=TY;var wY=class extends Jo{static{o(this,"NotificationType7")}constructor(t){super(t,7)}};$r.NotificationType7=wY;var SY=class extends Jo{static{o(this,"NotificationType8")}constructor(t){super(t,8)}};$r.NotificationType8=SY;var _Y=class extends Jo{static{o(this,"NotificationType9")}constructor(t){super(t,9)}};$r.NotificationType9=_Y;var Pge;(function(e){function t(i){let s=i;return s&&R3.string(s.method)&&(R3.string(s.id)||R3.number(s.id))}o(t,"isRequest"),e.isRequest=t;function r(i){let s=i;return s&&R3.string(s.method)&&i.id===void 0}o(r,"isNotification"),e.isNotification=r;function n(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(R3.string(s.id)||R3.number(s.id)||s.id===null)}o(n,"isResponse"),e.isResponse=n})(Pge||($r.Message=Pge={}))});var RY=V(o5=>{"use strict";d();var Fge;Object.defineProperty(o5,"__esModule",{value:!0});o5.LRUCache=o5.LinkedMap=o5.Touch=void 0;var A0;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(A0||(o5.Touch=A0={}));var $D=class{static{o(this,"LinkedMap")}constructor(){this[Fge]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=A0.None){let n=this._map.get(t);if(n)return r!==A0.None&&this.touch(n,r),n.value}set(t,r,n=A0.None){let i=this._map.get(t);if(i)i.value=r,n!==A0.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case A0.None:this.addItemLast(i);break;case A0.First:this.addItemFirst(i);break;case A0.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:o(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(Fge=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==A0.First&&r!==A0.Last)){if(r===A0.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===A0.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};o5.LinkedMap=$D;var BY=class extends $D{static{o(this,"LRUCache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=A0.AsNew){return super.get(t,r)}peek(t){return super.get(t,A0.None)}set(t,r){return super.set(t,r,A0.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};o5.LRUCache=BY});var Lge=V(zD=>{"use strict";d();Object.defineProperty(zD,"__esModule",{value:!0});zD.Disposable=void 0;var Nge;(function(e){function t(r){return{dispose:r}}o(t,"create"),e.create=t})(Nge||(zD.Disposable=Nge={}))});var s5=V(FY=>{"use strict";d();Object.defineProperty(FY,"__esModule",{value:!0});var DY;function PY(){if(DY===void 0)throw new Error("No runtime abstraction layer installed");return DY}o(PY,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");DY=r}o(t,"install"),e.install=t})(PY||(PY={}));FY.default=PY});var Vb=V(Hb=>{"use strict";d();Object.defineProperty(Hb,"__esModule",{value:!0});Hb.Emitter=Hb.Event=void 0;var tXe=s5(),Qge;(function(e){let t={dispose(){}};e.None=function(){return t}})(Qge||(Hb.Event=Qge={}));var NY=class{static{o(this,"CallbackList")}add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:o(()=>this.remove(t,r),"dispose")})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,a=n.length;s<a;s++)try{r.push(n[s].apply(i[s],t))}catch(l){(0,tXe.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},YD=class e{static{o(this,"Emitter")}constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new NY),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Hb.Emitter=YD;YD._noop=function(){}});var XD=V(jb=>{"use strict";d();Object.defineProperty(jb,"__esModule",{value:!0});jb.CancellationTokenSource=jb.CancellationToken=void 0;var rXe=s5(),nXe=Gb(),LY=Vb(),KD;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:LY.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:LY.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||nXe.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}o(t,"is"),e.is=t})(KD||(jb.CancellationToken=KD={}));var iXe=Object.freeze(function(e,t){let r=(0,rXe.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),JD=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?iXe:(this._emitter||(this._emitter=new LY.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},QY=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new JD),this._token}cancel(){this._token?this._token.cancel():this._token=KD.Cancelled}dispose(){this._token?this._token instanceof JD&&this._token.dispose():this._token=KD.None}};jb.CancellationTokenSource=QY});var Mge=V($b=>{"use strict";d();Object.defineProperty($b,"__esModule",{value:!0});$b.SharedArrayReceiverStrategy=$b.SharedArraySenderStrategy=void 0;var oXe=XD(),eT;(function(e){e.Continue=0,e.Cancelled=1})(eT||(eT={}));var MY=class{static{o(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=eT.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,eT.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};$b.SharedArraySenderStrategy=MY;var OY=class{static{o(this,"SharedArrayBufferCancellationToken")}constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===eT.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},UY=class{static{o(this,"SharedArrayBufferCancellationTokenSource")}constructor(t){this.token=new OY(t)}cancel(){}dispose(){}},qY=class{static{o(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new oXe.CancellationTokenSource:new UY(r)}};$b.SharedArrayReceiverStrategy=qY});var GY=V(ZD=>{"use strict";d();Object.defineProperty(ZD,"__esModule",{value:!0});ZD.Semaphore=void 0;var sXe=s5(),WY=class{static{o(this,"Semaphore")}constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,sXe.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};ZD.Semaphore=WY});var Uge=V(a5=>{"use strict";d();Object.defineProperty(a5,"__esModule",{value:!0});a5.ReadableStreamMessageReader=a5.AbstractMessageReader=a5.MessageReader=void 0;var VY=s5(),zb=Gb(),HY=Vb(),aXe=GY(),Oge;(function(e){function t(r){let n=r;return n&&zb.func(n.listen)&&zb.func(n.dispose)&&zb.func(n.onError)&&zb.func(n.onClose)&&zb.func(n.onPartialMessage)}o(t,"is"),e.is=t})(Oge||(a5.MessageReader=Oge={}));var eP=class{static{o(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new HY.Emitter,this.closeEmitter=new HY.Emitter,this.partialMessageEmitter=new HY.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${zb.string(t.message)?t.message:"unknown"}`)}};a5.AbstractMessageReader=eP;var jY;(function(e){function t(r){let n,i,s,a=new Map,l,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(s=r.contentDecoder,a.set(s.name,s)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)a.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,c.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return l===void 0&&(l=(0,VY.default)().applicationJson.decoder,c.set(l.name,l)),{charset:n,contentDecoder:s,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:c}}o(t,"fromOptions"),e.fromOptions=t})(jY||(jY={}));var $Y=class extends eP{static{o(this,"ReadableStreamMessageReader")}constructor(t,r){super(),this.readable=t,this.options=jY.fromOptions(r),this.buffer=(0,VY.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new aXe.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,VY.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};a5.ReadableStreamMessageReader=$Y});var Vge=V(l5=>{"use strict";d();Object.defineProperty(l5,"__esModule",{value:!0});l5.WriteableStreamMessageWriter=l5.AbstractMessageWriter=l5.MessageWriter=void 0;var qge=s5(),tT=Gb(),lXe=GY(),Wge=Vb(),cXe="Content-Length: ",Gge=`\r
`,Hge;(function(e){function t(r){let n=r;return n&&tT.func(n.dispose)&&tT.func(n.onClose)&&tT.func(n.onError)&&tT.func(n.write)}o(t,"is"),e.is=t})(Hge||(l5.MessageWriter=Hge={}));var tP=class{static{o(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new Wge.Emitter,this.closeEmitter=new Wge.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${tT.string(t.message)?t.message:"unknown"}`)}};l5.AbstractMessageWriter=tP;var zY;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,qge.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,qge.default)().applicationJson.encoder}}o(t,"fromOptions"),e.fromOptions=t})(zY||(zY={}));var YY=class extends tP{static{o(this,"WriteableStreamMessageWriter")}constructor(t,r){super(),this.writable=t,this.options=zY.fromOptions(r),this.errorCount=0,this.writeSemaphore=new lXe.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(cXe,n.byteLength.toString(),Gge),i.push(Gge),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};l5.WriteableStreamMessageWriter=YY});var jge=V(rP=>{"use strict";d();Object.defineProperty(rP,"__esModule",{value:!0});rP.AbstractMessageBuffer=void 0;var uXe=13,fXe=10,dXe=`\r
`,KY=class{static{o(this,"AbstractMessageBuffer")}constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,s=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case uXe:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case fXe:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}s+=u.byteLength,n++}if(r!==4)return;let a=this._read(s+i),l=new Map,c=this.toString(a,"ascii").split(dXe);if(c.length<2)return l;for(let u=0;u<c.length-2;u++){let f=c[u],m=f.indexOf(":");if(m===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let h=f.substr(0,m),p=f.substr(m+1).trim();l.set(t?h.toLowerCase():h,p)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(s)}if(this._chunks[0].byteLength>t){let s=this._chunks[0],a=this.asNative(s,t);return this._chunks[0]=s.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let s=this._chunks[i];if(s.byteLength>t){let a=s.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=s.slice(t),this._totalLength-=t,t-=t}else r.set(s,n),n+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,t-=s.byteLength}return r}};rP.AbstractMessageBuffer=KY});var Jge=V(Un=>{"use strict";d();Object.defineProperty(Un,"__esModule",{value:!0});Un.createMessageConnection=Un.ConnectionOptions=Un.MessageStrategy=Un.CancellationStrategy=Un.CancellationSenderStrategy=Un.CancellationReceiverStrategy=Un.RequestCancellationReceiverStrategy=Un.IdCancellationReceiverStrategy=Un.ConnectionStrategy=Un.ConnectionError=Un.ConnectionErrors=Un.LogTraceNotification=Un.SetTraceNotification=Un.TraceFormat=Un.TraceValues=Un.Trace=Un.NullLogger=Un.ProgressType=Un.ProgressToken=void 0;var $ge=s5(),Ps=Gb(),En=kY(),zge=RY(),rT=Vb(),JY=XD(),oT;(function(e){e.type=new En.NotificationType("$/cancelRequest")})(oT||(oT={}));var XY;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}o(t,"is"),e.is=t})(XY||(Un.ProgressToken=XY={}));var nT;(function(e){e.type=new En.NotificationType("$/progress")})(nT||(nT={}));var ZY=class{static{o(this,"ProgressType")}constructor(){}};Un.ProgressType=ZY;var eK;(function(e){function t(r){return Ps.func(r)}o(t,"is"),e.is=t})(eK||(eK={}));Un.NullLogger=Object.freeze({error:o(()=>{},"error"),warn:o(()=>{},"warn"),info:o(()=>{},"info"),log:o(()=>{},"log")});var io;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(io||(Un.Trace=io={}));var Yge;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(Yge||(Un.TraceValues=Yge={}));(function(e){function t(n){if(!Ps.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}o(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}o(r,"toString"),e.toString=r})(io||(Un.Trace=io={}));var Tu;(function(e){e.Text="text",e.JSON="json"})(Tu||(Un.TraceFormat=Tu={}));(function(e){function t(r){return Ps.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}o(t,"fromString"),e.fromString=t})(Tu||(Un.TraceFormat=Tu={}));var tK;(function(e){e.type=new En.NotificationType("$/setTrace")})(tK||(Un.SetTraceNotification=tK={}));var nP;(function(e){e.type=new En.NotificationType("$/logTrace")})(nP||(Un.LogTraceNotification=nP={}));var iT;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(iT||(Un.ConnectionErrors=iT={}));var Yb=class e extends Error{static{o(this,"ConnectionError")}constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};Un.ConnectionError=Yb;var rK;(function(e){function t(r){let n=r;return n&&Ps.func(n.cancelUndispatched)}o(t,"is"),e.is=t})(rK||(Un.ConnectionStrategy=rK={}));var iP;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Ps.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Ps.func(n.dispose))}o(t,"is"),e.is=t})(iP||(Un.IdCancellationReceiverStrategy=iP={}));var nK;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Ps.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Ps.func(n.dispose))}o(t,"is"),e.is=t})(nK||(Un.RequestCancellationReceiverStrategy=nK={}));var oP;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new JY.CancellationTokenSource}});function t(r){return iP.is(r)||nK.is(r)}o(t,"is"),e.is=t})(oP||(Un.CancellationReceiverStrategy=oP={}));var sP;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(oT.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Ps.func(n.sendCancellation)&&Ps.func(n.cleanup)}o(t,"is"),e.is=t})(sP||(Un.CancellationSenderStrategy=sP={}));var aP;(function(e){e.Message=Object.freeze({receiver:oP.Message,sender:sP.Message});function t(r){let n=r;return n&&oP.is(n.receiver)&&sP.is(n.sender)}o(t,"is"),e.is=t})(aP||(Un.CancellationStrategy=aP={}));var lP;(function(e){function t(r){let n=r;return n&&Ps.func(n.handleMessage)}o(t,"is"),e.is=t})(lP||(Un.MessageStrategy=lP={}));var Kge;(function(e){function t(r){let n=r;return n&&(aP.is(n.cancellationStrategy)||rK.is(n.connectionStrategy)||lP.is(n.messageStrategy))}o(t,"is"),e.is=t})(Kge||(Un.ConnectionOptions=Kge={}));var bm;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(bm||(bm={}));function mXe(e,t,r,n){let i=r!==void 0?r:Un.NullLogger,s=0,a=0,l=0,c="2.0",u,f=new Map,m,h=new Map,p=new Map,A,x=new zge.LinkedMap,E=new Map,v=new Set,b=new Map,S=io.Off,B=Tu.Text,D,F=bm.New,W=new rT.Emitter,ee=new rT.Emitter,de=new rT.Emitter,X=new rT.Emitter,G=new rT.Emitter,U=n&&n.cancellationStrategy?n.cancellationStrategy:aP.Message;function ie(ge){if(ge===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+ge.toString()}o(ie,"createRequestQueueKey");function z(ge){return ge===null?"res-unknown-"+(++l).toString():"res-"+ge.toString()}o(z,"createResponseQueueKey");function H(){return"not-"+(++a).toString()}o(H,"createNotificationQueueKey");function M(ge,Le){En.Message.isRequest(Le)?ge.set(ie(Le.id),Le):En.Message.isResponse(Le)?ge.set(z(Le.id),Le):ge.set(H(),Le)}o(M,"addMessageToQueue");function j(ge){}o(j,"cancelUndispatched");function Z(){return F===bm.Listening}o(Z,"isListening");function ae(){return F===bm.Closed}o(ae,"isClosed");function ne(){return F===bm.Disposed}o(ne,"isDisposed");function le(){(F===bm.New||F===bm.Listening)&&(F=bm.Closed,ee.fire(void 0))}o(le,"closeHandler");function fe(ge){W.fire([ge,void 0,void 0])}o(fe,"readErrorHandler");function Re(ge){W.fire(ge)}o(Re,"writeErrorHandler"),e.onClose(le),e.onError(fe),t.onClose(le),t.onError(Re);function Ee(){A||x.size===0||(A=(0,$ge.default)().timer.setImmediate(()=>{A=void 0,Be()}))}o(Ee,"triggerMessageQueue");function Oe(ge){En.Message.isRequest(ge)?at(ge):En.Message.isNotification(ge)?st(ge):En.Message.isResponse(ge)?Xe(ge):oe(ge)}o(Oe,"handleMessage");function Be(){if(x.size===0)return;let ge=x.shift();try{let Le=n?.messageStrategy;lP.is(Le)?Le.handleMessage(ge,Oe):Oe(ge)}finally{Ee()}}o(Be,"processMessageQueue");let Je=o(ge=>{try{if(En.Message.isNotification(ge)&&ge.method===oT.type.method){let Le=ge.params.id,Ke=ie(Le),rt=x.get(Ke);if(En.Message.isRequest(rt)){let Et=n?.connectionStrategy,Lt=Et&&Et.cancelUndispatched?Et.cancelUndispatched(rt,j):void 0;if(Lt&&(Lt.error!==void 0||Lt.result!==void 0)){x.delete(Ke),b.delete(Le),Lt.id=rt.id,Y(Lt,ge.method,Date.now()),t.write(Lt).catch(()=>i.error("Sending response for canceled message failed."));return}}let St=b.get(Le);if(St!==void 0){St.cancel(),Ne(ge);return}else v.add(Le)}M(x,ge)}finally{Ee()}},"callback");function at(ge){if(ne())return;function Le(Tt,_t,wt){let Ut={jsonrpc:c,id:ge.id};Tt instanceof En.ResponseError?Ut.error=Tt.toJson():Ut.result=Tt===void 0?null:Tt,Y(Ut,_t,wt),t.write(Ut).catch(()=>i.error("Sending response failed."))}o(Le,"reply");function Ke(Tt,_t,wt){let Ut={jsonrpc:c,id:ge.id,error:Tt.toJson()};Y(Ut,_t,wt),t.write(Ut).catch(()=>i.error("Sending response failed."))}o(Ke,"replyError");function rt(Tt,_t,wt){Tt===void 0&&(Tt=null);let Ut={jsonrpc:c,id:ge.id,result:Tt};Y(Ut,_t,wt),t.write(Ut).catch(()=>i.error("Sending response failed."))}o(rt,"replySuccess"),re(ge);let St=f.get(ge.method),Et,Lt;St&&(Et=St.type,Lt=St.handler);let Mt=Date.now();if(Lt||u){let Tt=ge.id??String(Date.now()),_t=iP.is(U.receiver)?U.receiver.createCancellationTokenSource(Tt):U.receiver.createCancellationTokenSource(ge);ge.id!==null&&v.has(ge.id)&&_t.cancel(),ge.id!==null&&b.set(Tt,_t);try{let wt;if(Lt)if(ge.params===void 0){if(Et!==void 0&&Et.numberOfParams!==0){Ke(new En.ResponseError(En.ErrorCodes.InvalidParams,`Request ${ge.method} defines ${Et.numberOfParams} params but received none.`),ge.method,Mt);return}wt=Lt(_t.token)}else if(Array.isArray(ge.params)){if(Et!==void 0&&Et.parameterStructures===En.ParameterStructures.byName){Ke(new En.ResponseError(En.ErrorCodes.InvalidParams,`Request ${ge.method} defines parameters by name but received parameters by position`),ge.method,Mt);return}wt=Lt(...ge.params,_t.token)}else{if(Et!==void 0&&Et.parameterStructures===En.ParameterStructures.byPosition){Ke(new En.ResponseError(En.ErrorCodes.InvalidParams,`Request ${ge.method} defines parameters by position but received parameters by name`),ge.method,Mt);return}wt=Lt(ge.params,_t.token)}else u&&(wt=u(ge.method,ge.params,_t.token));let Ut=wt;wt?Ut.then?Ut.then(Wt=>{b.delete(Tt),Le(Wt,ge.method,Mt)},Wt=>{b.delete(Tt),Wt instanceof En.ResponseError?Ke(Wt,ge.method,Mt):Wt&&Ps.string(Wt.message)?Ke(new En.ResponseError(En.ErrorCodes.InternalError,`Request ${ge.method} failed with message: ${Wt.message}`),ge.method,Mt):Ke(new En.ResponseError(En.ErrorCodes.InternalError,`Request ${ge.method} failed unexpectedly without providing any details.`),ge.method,Mt)}):(b.delete(Tt),Le(wt,ge.method,Mt)):(b.delete(Tt),rt(wt,ge.method,Mt))}catch(wt){b.delete(Tt),wt instanceof En.ResponseError?Le(wt,ge.method,Mt):wt&&Ps.string(wt.message)?Ke(new En.ResponseError(En.ErrorCodes.InternalError,`Request ${ge.method} failed with message: ${wt.message}`),ge.method,Mt):Ke(new En.ResponseError(En.ErrorCodes.InternalError,`Request ${ge.method} failed unexpectedly without providing any details.`),ge.method,Mt)}}else Ke(new En.ResponseError(En.ErrorCodes.MethodNotFound,`Unhandled method ${ge.method}`),ge.method,Mt)}o(at,"handleRequest");function Xe(ge){if(!ne())if(ge.id===null)ge.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(ge.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Le=ge.id,Ke=E.get(Le);if(Se(ge,Ke),Ke!==void 0){E.delete(Le);try{if(ge.error){let rt=ge.error;Ke.reject(new En.ResponseError(rt.code,rt.message,rt.data))}else if(ge.result!==void 0)Ke.resolve(ge.result);else throw new Error("Should never happen.")}catch(rt){rt.message?i.error(`Response handler '${Ke.method}' failed with message: ${rt.message}`):i.error(`Response handler '${Ke.method}' failed unexpectedly.`)}}}}o(Xe,"handleResponse");function st(ge){if(ne())return;let Le,Ke;if(ge.method===oT.type.method){let rt=ge.params.id;v.delete(rt),Ne(ge);return}else{let rt=h.get(ge.method);rt&&(Ke=rt.handler,Le=rt.type)}if(Ke||m)try{if(Ne(ge),Ke)if(ge.params===void 0)Le!==void 0&&Le.numberOfParams!==0&&Le.parameterStructures!==En.ParameterStructures.byName&&i.error(`Notification ${ge.method} defines ${Le.numberOfParams} params but received none.`),Ke();else if(Array.isArray(ge.params)){let rt=ge.params;ge.method===nT.type.method&&rt.length===2&&XY.is(rt[0])?Ke({token:rt[0],value:rt[1]}):(Le!==void 0&&(Le.parameterStructures===En.ParameterStructures.byName&&i.error(`Notification ${ge.method} defines parameters by name but received parameters by position`),Le.numberOfParams!==ge.params.length&&i.error(`Notification ${ge.method} defines ${Le.numberOfParams} params but received ${rt.length} arguments`)),Ke(...rt))}else Le!==void 0&&Le.parameterStructures===En.ParameterStructures.byPosition&&i.error(`Notification ${ge.method} defines parameters by position but received parameters by name`),Ke(ge.params);else m&&m(ge.method,ge.params)}catch(rt){rt.message?i.error(`Notification handler '${ge.method}' failed with message: ${rt.message}`):i.error(`Notification handler '${ge.method}' failed unexpectedly.`)}else de.fire(ge)}o(st,"handleNotification");function oe(ge){if(!ge){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(ge,null,4)}`);let Le=ge;if(Ps.string(Le.id)||Ps.number(Le.id)){let Ke=Le.id,rt=E.get(Ke);rt&&rt.reject(new Error("The received response has neither a result nor an error property."))}}o(oe,"handleInvalidMessage");function Pe(ge){if(ge!=null)switch(S){case io.Verbose:return JSON.stringify(ge,null,4);case io.Compact:return JSON.stringify(ge);default:return}}o(Pe,"stringifyTrace");function Ae(ge){if(!(S===io.Off||!D))if(B===Tu.Text){let Le;(S===io.Verbose||S===io.Compact)&&ge.params&&(Le=`Params: ${Pe(ge.params)}

`),D.log(`Sending request '${ge.method} - (${ge.id})'.`,Le)}else Ce("send-request",ge)}o(Ae,"traceSendingRequest");function We(ge){if(!(S===io.Off||!D))if(B===Tu.Text){let Le;(S===io.Verbose||S===io.Compact)&&(ge.params?Le=`Params: ${Pe(ge.params)}

`:Le=`No parameters provided.

`),D.log(`Sending notification '${ge.method}'.`,Le)}else Ce("send-notification",ge)}o(We,"traceSendingNotification");function Y(ge,Le,Ke){if(!(S===io.Off||!D))if(B===Tu.Text){let rt;(S===io.Verbose||S===io.Compact)&&(ge.error&&ge.error.data?rt=`Error data: ${Pe(ge.error.data)}

`:ge.result?rt=`Result: ${Pe(ge.result)}

`:ge.error===void 0&&(rt=`No result returned.

`)),D.log(`Sending response '${Le} - (${ge.id})'. Processing request took ${Date.now()-Ke}ms`,rt)}else Ce("send-response",ge)}o(Y,"traceSendingResponse");function re(ge){if(!(S===io.Off||!D))if(B===Tu.Text){let Le;(S===io.Verbose||S===io.Compact)&&ge.params&&(Le=`Params: ${Pe(ge.params)}

`),D.log(`Received request '${ge.method} - (${ge.id})'.`,Le)}else Ce("receive-request",ge)}o(re,"traceReceivedRequest");function Ne(ge){if(!(S===io.Off||!D||ge.method===nP.type.method))if(B===Tu.Text){let Le;(S===io.Verbose||S===io.Compact)&&(ge.params?Le=`Params: ${Pe(ge.params)}

`:Le=`No parameters provided.

`),D.log(`Received notification '${ge.method}'.`,Le)}else Ce("receive-notification",ge)}o(Ne,"traceReceivedNotification");function Se(ge,Le){if(!(S===io.Off||!D))if(B===Tu.Text){let Ke;if((S===io.Verbose||S===io.Compact)&&(ge.error&&ge.error.data?Ke=`Error data: ${Pe(ge.error.data)}

`:ge.result?Ke=`Result: ${Pe(ge.result)}

`:ge.error===void 0&&(Ke=`No result returned.

`)),Le){let rt=ge.error?` Request failed: ${ge.error.message} (${ge.error.code}).`:"";D.log(`Received response '${Le.method} - (${ge.id})' in ${Date.now()-Le.timerStart}ms.${rt}`,Ke)}else D.log(`Received response ${ge.id} without active response promise.`,Ke)}else Ce("receive-response",ge)}o(Se,"traceReceivedResponse");function Ce(ge,Le){if(!D||S===io.Off)return;let Ke={isLSPMessage:!0,type:ge,message:Le,timestamp:Date.now()};D.log(Ke)}o(Ce,"logLSPMessage");function Ue(){if(ae())throw new Yb(iT.Closed,"Connection is closed.");if(ne())throw new Yb(iT.Disposed,"Connection is disposed.")}o(Ue,"throwIfClosedOrDisposed");function Ve(){if(Z())throw new Yb(iT.AlreadyListening,"Connection is already listening")}o(Ve,"throwIfListening");function et(){if(!Z())throw new Error("Call listen() first.")}o(et,"throwIfNotListening");function yt(ge){return ge===void 0?null:ge}o(yt,"undefinedToNull");function Rt(ge){if(ge!==null)return ge}o(Rt,"nullToUndefined");function At(ge){return ge!=null&&!Array.isArray(ge)&&typeof ge=="object"}o(At,"isNamedParam");function Vt(ge,Le){switch(ge){case En.ParameterStructures.auto:return At(Le)?Rt(Le):[yt(Le)];case En.ParameterStructures.byName:if(!At(Le))throw new Error("Received parameters by name but param is not an object literal.");return Rt(Le);case En.ParameterStructures.byPosition:return[yt(Le)];default:throw new Error(`Unknown parameter structure ${ge.toString()}`)}}o(Vt,"computeSingleParam");function $t(ge,Le){let Ke,rt=ge.numberOfParams;switch(rt){case 0:Ke=void 0;break;case 1:Ke=Vt(ge.parameterStructures,Le[0]);break;default:Ke=[];for(let St=0;St<Le.length&&St<rt;St++)Ke.push(yt(Le[St]));if(Le.length<rt)for(let St=Le.length;St<rt;St++)Ke.push(null);break}return Ke}o($t,"computeMessageParams");let nr={sendNotification:o((ge,...Le)=>{Ue();let Ke,rt;if(Ps.string(ge)){Ke=ge;let Et=Le[0],Lt=0,Mt=En.ParameterStructures.auto;En.ParameterStructures.is(Et)&&(Lt=1,Mt=Et);let Tt=Le.length,_t=Tt-Lt;switch(_t){case 0:rt=void 0;break;case 1:rt=Vt(Mt,Le[Lt]);break;default:if(Mt===En.ParameterStructures.byName)throw new Error(`Received ${_t} parameters for 'by Name' notification parameter structure.`);rt=Le.slice(Lt,Tt).map(wt=>yt(wt));break}}else{let Et=Le;Ke=ge.method,rt=$t(ge,Et)}let St={jsonrpc:c,method:Ke,params:rt};return We(St),t.write(St).catch(Et=>{throw i.error("Sending notification failed."),Et})},"sendNotification"),onNotification:o((ge,Le)=>{Ue();let Ke;return Ps.func(ge)?m=ge:Le&&(Ps.string(ge)?(Ke=ge,h.set(ge,{type:void 0,handler:Le})):(Ke=ge.method,h.set(ge.method,{type:ge,handler:Le}))),{dispose:o(()=>{Ke!==void 0?h.delete(Ke):m=void 0},"dispose")}},"onNotification"),onProgress:o((ge,Le,Ke)=>{if(p.has(Le))throw new Error(`Progress handler for token ${Le} already registered`);return p.set(Le,Ke),{dispose:o(()=>{p.delete(Le)},"dispose")}},"onProgress"),sendProgress:o((ge,Le,Ke)=>nr.sendNotification(nT.type,{token:Le,value:Ke}),"sendProgress"),onUnhandledProgress:X.event,sendRequest:o((ge,...Le)=>{Ue(),et();let Ke,rt,St;if(Ps.string(ge)){Ke=ge;let Tt=Le[0],_t=Le[Le.length-1],wt=0,Ut=En.ParameterStructures.auto;En.ParameterStructures.is(Tt)&&(wt=1,Ut=Tt);let Wt=Le.length;JY.CancellationToken.is(_t)&&(Wt=Wt-1,St=_t);let zt=Wt-wt;switch(zt){case 0:rt=void 0;break;case 1:rt=Vt(Ut,Le[wt]);break;default:if(Ut===En.ParameterStructures.byName)throw new Error(`Received ${zt} parameters for 'by Name' request parameter structure.`);rt=Le.slice(wt,Wt).map(lr=>yt(lr));break}}else{let Tt=Le;Ke=ge.method,rt=$t(ge,Tt);let _t=ge.numberOfParams;St=JY.CancellationToken.is(Tt[_t])?Tt[_t]:void 0}let Et=s++,Lt;St&&(Lt=St.onCancellationRequested(()=>{let Tt=U.sender.sendCancellation(nr,Et);return Tt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Et}`),Promise.resolve()):Tt.catch(()=>{i.log(`Sending cancellation messages for id ${Et} failed`)})}));let Mt={jsonrpc:c,id:Et,method:Ke,params:rt};return Ae(Mt),typeof U.sender.enableCancellation=="function"&&U.sender.enableCancellation(Mt),new Promise(async(Tt,_t)=>{let wt=o(zt=>{Tt(zt),U.sender.cleanup(Et),Lt?.dispose()},"resolveWithCleanup"),Ut=o(zt=>{_t(zt),U.sender.cleanup(Et),Lt?.dispose()},"rejectWithCleanup"),Wt={method:Ke,timerStart:Date.now(),resolve:wt,reject:Ut};try{await t.write(Mt),E.set(Et,Wt)}catch(zt){throw i.error("Sending request failed."),Wt.reject(new En.ResponseError(En.ErrorCodes.MessageWriteError,zt.message?zt.message:"Unknown reason")),zt}})},"sendRequest"),onRequest:o((ge,Le)=>{Ue();let Ke=null;return eK.is(ge)?(Ke=void 0,u=ge):Ps.string(ge)?(Ke=null,Le!==void 0&&(Ke=ge,f.set(ge,{handler:Le,type:void 0}))):Le!==void 0&&(Ke=ge.method,f.set(ge.method,{type:ge,handler:Le})),{dispose:o(()=>{Ke!==null&&(Ke!==void 0?f.delete(Ke):u=void 0)},"dispose")}},"onRequest"),hasPendingResponse:o(()=>E.size>0,"hasPendingResponse"),trace:o(async(ge,Le,Ke)=>{let rt=!1,St=Tu.Text;Ke!==void 0&&(Ps.boolean(Ke)?rt=Ke:(rt=Ke.sendNotification||!1,St=Ke.traceFormat||Tu.Text)),S=ge,B=St,S===io.Off?D=void 0:D=Le,rt&&!ae()&&!ne()&&await nr.sendNotification(tK.type,{value:io.toString(ge)})},"trace"),onError:W.event,onClose:ee.event,onUnhandledNotification:de.event,onDispose:G.event,end:o(()=>{t.end()},"end"),dispose:o(()=>{if(ne())return;F=bm.Disposed,G.fire(void 0);let ge=new En.ResponseError(En.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Le of E.values())Le.reject(ge);E=new Map,b=new Map,v=new Set,x=new zge.LinkedMap,Ps.func(t.dispose)&&t.dispose(),Ps.func(e.dispose)&&e.dispose()},"dispose"),listen:o(()=>{Ue(),Ve(),F=bm.Listening,e.listen(Je)},"listen"),inspect:o(()=>{(0,$ge.default)().console.log("inspect")},"inspect")};return nr.onNotification(nP.type,ge=>{if(S===io.Off||!D)return;let Le=S===io.Verbose||S===io.Compact;D.log(ge.message,Le?ge.verbose:void 0)}),nr.onNotification(nT.type,ge=>{let Le=p.get(ge.token);Le?Le(ge.value):X.fire(ge)}),nr}o(mXe,"createMessageConnection");Un.createMessageConnection=mXe});var cP=V(pt=>{"use strict";d();Object.defineProperty(pt,"__esModule",{value:!0});pt.ProgressType=pt.ProgressToken=pt.createMessageConnection=pt.NullLogger=pt.ConnectionOptions=pt.ConnectionStrategy=pt.AbstractMessageBuffer=pt.WriteableStreamMessageWriter=pt.AbstractMessageWriter=pt.MessageWriter=pt.ReadableStreamMessageReader=pt.AbstractMessageReader=pt.MessageReader=pt.SharedArrayReceiverStrategy=pt.SharedArraySenderStrategy=pt.CancellationToken=pt.CancellationTokenSource=pt.Emitter=pt.Event=pt.Disposable=pt.LRUCache=pt.Touch=pt.LinkedMap=pt.ParameterStructures=pt.NotificationType9=pt.NotificationType8=pt.NotificationType7=pt.NotificationType6=pt.NotificationType5=pt.NotificationType4=pt.NotificationType3=pt.NotificationType2=pt.NotificationType1=pt.NotificationType0=pt.NotificationType=pt.ErrorCodes=pt.ResponseError=pt.RequestType9=pt.RequestType8=pt.RequestType7=pt.RequestType6=pt.RequestType5=pt.RequestType4=pt.RequestType3=pt.RequestType2=pt.RequestType1=pt.RequestType0=pt.RequestType=pt.Message=pt.RAL=void 0;pt.MessageStrategy=pt.CancellationStrategy=pt.CancellationSenderStrategy=pt.CancellationReceiverStrategy=pt.ConnectionError=pt.ConnectionErrors=pt.LogTraceNotification=pt.SetTraceNotification=pt.TraceFormat=pt.TraceValues=pt.Trace=void 0;var Lo=kY();Object.defineProperty(pt,"Message",{enumerable:!0,get:o(function(){return Lo.Message},"get")});Object.defineProperty(pt,"RequestType",{enumerable:!0,get:o(function(){return Lo.RequestType},"get")});Object.defineProperty(pt,"RequestType0",{enumerable:!0,get:o(function(){return Lo.RequestType0},"get")});Object.defineProperty(pt,"RequestType1",{enumerable:!0,get:o(function(){return Lo.RequestType1},"get")});Object.defineProperty(pt,"RequestType2",{enumerable:!0,get:o(function(){return Lo.RequestType2},"get")});Object.defineProperty(pt,"RequestType3",{enumerable:!0,get:o(function(){return Lo.RequestType3},"get")});Object.defineProperty(pt,"RequestType4",{enumerable:!0,get:o(function(){return Lo.RequestType4},"get")});Object.defineProperty(pt,"RequestType5",{enumerable:!0,get:o(function(){return Lo.RequestType5},"get")});Object.defineProperty(pt,"RequestType6",{enumerable:!0,get:o(function(){return Lo.RequestType6},"get")});Object.defineProperty(pt,"RequestType7",{enumerable:!0,get:o(function(){return Lo.RequestType7},"get")});Object.defineProperty(pt,"RequestType8",{enumerable:!0,get:o(function(){return Lo.RequestType8},"get")});Object.defineProperty(pt,"RequestType9",{enumerable:!0,get:o(function(){return Lo.RequestType9},"get")});Object.defineProperty(pt,"ResponseError",{enumerable:!0,get:o(function(){return Lo.ResponseError},"get")});Object.defineProperty(pt,"ErrorCodes",{enumerable:!0,get:o(function(){return Lo.ErrorCodes},"get")});Object.defineProperty(pt,"NotificationType",{enumerable:!0,get:o(function(){return Lo.NotificationType},"get")});Object.defineProperty(pt,"NotificationType0",{enumerable:!0,get:o(function(){return Lo.NotificationType0},"get")});Object.defineProperty(pt,"NotificationType1",{enumerable:!0,get:o(function(){return Lo.NotificationType1},"get")});Object.defineProperty(pt,"NotificationType2",{enumerable:!0,get:o(function(){return Lo.NotificationType2},"get")});Object.defineProperty(pt,"NotificationType3",{enumerable:!0,get:o(function(){return Lo.NotificationType3},"get")});Object.defineProperty(pt,"NotificationType4",{enumerable:!0,get:o(function(){return Lo.NotificationType4},"get")});Object.defineProperty(pt,"NotificationType5",{enumerable:!0,get:o(function(){return Lo.NotificationType5},"get")});Object.defineProperty(pt,"NotificationType6",{enumerable:!0,get:o(function(){return Lo.NotificationType6},"get")});Object.defineProperty(pt,"NotificationType7",{enumerable:!0,get:o(function(){return Lo.NotificationType7},"get")});Object.defineProperty(pt,"NotificationType8",{enumerable:!0,get:o(function(){return Lo.NotificationType8},"get")});Object.defineProperty(pt,"NotificationType9",{enumerable:!0,get:o(function(){return Lo.NotificationType9},"get")});Object.defineProperty(pt,"ParameterStructures",{enumerable:!0,get:o(function(){return Lo.ParameterStructures},"get")});var iK=RY();Object.defineProperty(pt,"LinkedMap",{enumerable:!0,get:o(function(){return iK.LinkedMap},"get")});Object.defineProperty(pt,"LRUCache",{enumerable:!0,get:o(function(){return iK.LRUCache},"get")});Object.defineProperty(pt,"Touch",{enumerable:!0,get:o(function(){return iK.Touch},"get")});var hXe=Lge();Object.defineProperty(pt,"Disposable",{enumerable:!0,get:o(function(){return hXe.Disposable},"get")});var Xge=Vb();Object.defineProperty(pt,"Event",{enumerable:!0,get:o(function(){return Xge.Event},"get")});Object.defineProperty(pt,"Emitter",{enumerable:!0,get:o(function(){return Xge.Emitter},"get")});var Zge=XD();Object.defineProperty(pt,"CancellationTokenSource",{enumerable:!0,get:o(function(){return Zge.CancellationTokenSource},"get")});Object.defineProperty(pt,"CancellationToken",{enumerable:!0,get:o(function(){return Zge.CancellationToken},"get")});var e1e=Mge();Object.defineProperty(pt,"SharedArraySenderStrategy",{enumerable:!0,get:o(function(){return e1e.SharedArraySenderStrategy},"get")});Object.defineProperty(pt,"SharedArrayReceiverStrategy",{enumerable:!0,get:o(function(){return e1e.SharedArrayReceiverStrategy},"get")});var oK=Uge();Object.defineProperty(pt,"MessageReader",{enumerable:!0,get:o(function(){return oK.MessageReader},"get")});Object.defineProperty(pt,"AbstractMessageReader",{enumerable:!0,get:o(function(){return oK.AbstractMessageReader},"get")});Object.defineProperty(pt,"ReadableStreamMessageReader",{enumerable:!0,get:o(function(){return oK.ReadableStreamMessageReader},"get")});var sK=Vge();Object.defineProperty(pt,"MessageWriter",{enumerable:!0,get:o(function(){return sK.MessageWriter},"get")});Object.defineProperty(pt,"AbstractMessageWriter",{enumerable:!0,get:o(function(){return sK.AbstractMessageWriter},"get")});Object.defineProperty(pt,"WriteableStreamMessageWriter",{enumerable:!0,get:o(function(){return sK.WriteableStreamMessageWriter},"get")});var pXe=jge();Object.defineProperty(pt,"AbstractMessageBuffer",{enumerable:!0,get:o(function(){return pXe.AbstractMessageBuffer},"get")});var Ul=Jge();Object.defineProperty(pt,"ConnectionStrategy",{enumerable:!0,get:o(function(){return Ul.ConnectionStrategy},"get")});Object.defineProperty(pt,"ConnectionOptions",{enumerable:!0,get:o(function(){return Ul.ConnectionOptions},"get")});Object.defineProperty(pt,"NullLogger",{enumerable:!0,get:o(function(){return Ul.NullLogger},"get")});Object.defineProperty(pt,"createMessageConnection",{enumerable:!0,get:o(function(){return Ul.createMessageConnection},"get")});Object.defineProperty(pt,"ProgressToken",{enumerable:!0,get:o(function(){return Ul.ProgressToken},"get")});Object.defineProperty(pt,"ProgressType",{enumerable:!0,get:o(function(){return Ul.ProgressType},"get")});Object.defineProperty(pt,"Trace",{enumerable:!0,get:o(function(){return Ul.Trace},"get")});Object.defineProperty(pt,"TraceValues",{enumerable:!0,get:o(function(){return Ul.TraceValues},"get")});Object.defineProperty(pt,"TraceFormat",{enumerable:!0,get:o(function(){return Ul.TraceFormat},"get")});Object.defineProperty(pt,"SetTraceNotification",{enumerable:!0,get:o(function(){return Ul.SetTraceNotification},"get")});Object.defineProperty(pt,"LogTraceNotification",{enumerable:!0,get:o(function(){return Ul.LogTraceNotification},"get")});Object.defineProperty(pt,"ConnectionErrors",{enumerable:!0,get:o(function(){return Ul.ConnectionErrors},"get")});Object.defineProperty(pt,"ConnectionError",{enumerable:!0,get:o(function(){return Ul.ConnectionError},"get")});Object.defineProperty(pt,"CancellationReceiverStrategy",{enumerable:!0,get:o(function(){return Ul.CancellationReceiverStrategy},"get")});Object.defineProperty(pt,"CancellationSenderStrategy",{enumerable:!0,get:o(function(){return Ul.CancellationSenderStrategy},"get")});Object.defineProperty(pt,"CancellationStrategy",{enumerable:!0,get:o(function(){return Ul.CancellationStrategy},"get")});Object.defineProperty(pt,"MessageStrategy",{enumerable:!0,get:o(function(){return Ul.MessageStrategy},"get")});var gXe=s5();pt.RAL=gXe.default});var n1e=V(uK=>{"use strict";d();Object.defineProperty(uK,"__esModule",{value:!0});var t1e=require("util"),f1=cP(),uP=class e extends f1.AbstractMessageBuffer{static{o(this,"MessageBuffer")}constructor(t="utf-8"){super(t)}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new t1e.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};uP.emptyBuffer=Buffer.allocUnsafe(0);var aK=class{static{o(this,"ReadableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),f1.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),f1.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),f1.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),f1.Disposable.create(()=>this.stream.off("data",t))}},lK=class{static{o(this,"WritableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),f1.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),f1.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),f1.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,i)=>{let s=o(a=>{a==null?n():i(a)},"callback");typeof t=="string"?this.stream.write(t,r,s):this.stream.write(t,s)})}end(){this.stream.end()}},r1e=Object.freeze({messageBuffer:Object.freeze({create:o(e=>new uP(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:o((e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:o((e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new t1e.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}},"decode")})}),stream:Object.freeze({asReadableStream:o(e=>new aK(e),"asReadableStream"),asWritableStream:o(e=>new lK(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:o(()=>clearTimeout(n),"dispose")}},setImmediate(e,...t){let r=setImmediate(e,...t);return{dispose:o(()=>clearImmediate(r),"dispose")}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:o(()=>clearInterval(n),"dispose")}}})});function cK(){return r1e}o(cK,"RIL");(function(e){function t(){f1.RAL.install(r1e)}o(t,"install"),e.install=t})(cK||(cK={}));uK.default=cK});var F3=V(Ri=>{"use strict";d();var AXe=Ri&&Ri.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yXe=Ri&&Ri.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&AXe(t,e,r)};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.createMessageConnection=Ri.createServerSocketTransport=Ri.createClientSocketTransport=Ri.createServerPipeTransport=Ri.createClientPipeTransport=Ri.generateRandomPipeName=Ri.StreamMessageWriter=Ri.StreamMessageReader=Ri.SocketMessageWriter=Ri.SocketMessageReader=Ri.PortMessageWriter=Ri.PortMessageReader=Ri.IPCMessageWriter=Ri.IPCMessageReader=void 0;var Kb=n1e();Kb.default.install();var i1e=require("path"),CXe=require("os"),xXe=require("crypto"),mP=require("net"),wu=cP();yXe(cP(),Ri);var fK=class extends wu.AbstractMessageReader{static{o(this,"IPCMessageReader")}constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),wu.Disposable.create(()=>this.process.off("message",t))}};Ri.IPCMessageReader=fK;var dK=class extends wu.AbstractMessageWriter{static{o(this,"IPCMessageWriter")}constructor(t){super(),this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};Ri.IPCMessageWriter=dK;var mK=class extends wu.AbstractMessageReader{static{o(this,"PortMessageReader")}constructor(t){super(),this.onData=new wu.Emitter,t.on("close",()=>this.fireClose),t.on("error",r=>this.fireError(r)),t.on("message",r=>{this.onData.fire(r)})}listen(t){return this.onData.event(t)}};Ri.PortMessageReader=mK;var hK=class extends wu.AbstractMessageWriter{static{o(this,"PortMessageWriter")}constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};Ri.PortMessageWriter=hK;var D3=class extends wu.ReadableStreamMessageReader{static{o(this,"SocketMessageReader")}constructor(t,r="utf-8"){super((0,Kb.default)().stream.asReadableStream(t),r)}};Ri.SocketMessageReader=D3;var P3=class extends wu.WriteableStreamMessageWriter{static{o(this,"SocketMessageWriter")}constructor(t,r){super((0,Kb.default)().stream.asWritableStream(t),r),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};Ri.SocketMessageWriter=P3;var fP=class extends wu.ReadableStreamMessageReader{static{o(this,"StreamMessageReader")}constructor(t,r){super((0,Kb.default)().stream.asReadableStream(t),r)}};Ri.StreamMessageReader=fP;var dP=class extends wu.WriteableStreamMessageWriter{static{o(this,"StreamMessageWriter")}constructor(t,r){super((0,Kb.default)().stream.asWritableStream(t),r)}};Ri.StreamMessageWriter=dP;var o1e=process.env.XDG_RUNTIME_DIR,EXe=new Map([["linux",107],["darwin",103]]);function bXe(){let e=(0,xXe.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;o1e?t=i1e.join(o1e,`vscode-ipc-${e}.sock`):t=i1e.join(CXe.tmpdir(),`vscode-${e}.sock`);let r=EXe.get(process.platform);return r!==void 0&&t.length>r&&(0,Kb.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}o(bXe,"generateRandomPipeName");Ri.generateRandomPipeName=bXe;function vXe(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,mP.createServer)(l=>{a.close(),r([new D3(l,t),new P3(l,t)])});a.on("error",s),a.listen(e,()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(vXe,"createClientPipeTransport");Ri.createClientPipeTransport=vXe;function IXe(e,t="utf-8"){let r=(0,mP.createConnection)(e);return[new D3(r,t),new P3(r,t)]}o(IXe,"createServerPipeTransport");Ri.createServerPipeTransport=IXe;function TXe(e,t="utf-8"){let r,n=new Promise((i,s)=>{r=i});return new Promise((i,s)=>{let a=(0,mP.createServer)(l=>{a.close(),r([new D3(l,t),new P3(l,t)])});a.on("error",s),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",s),i({onConnected:o(()=>n,"onConnected")})})})}o(TXe,"createClientSocketTransport");Ri.createClientSocketTransport=TXe;function wXe(e,t="utf-8"){let r=(0,mP.createConnection)(e,"127.0.0.1");return[new D3(r,t),new P3(r,t)]}o(wXe,"createServerSocketTransport");Ri.createServerSocketTransport=wXe;function SXe(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}o(SXe,"isReadableStream");function _Xe(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}o(_Xe,"isWritableStream");function kXe(e,t,r,n){r||(r=wu.NullLogger);let i=SXe(e)?new fP(e):e,s=_Xe(t)?new dP(t):t;return wu.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,wu.createMessageConnection)(i,s,r,n)}o(kXe,"createMessageConnection");Ri.createMessageConnection=kXe});var pK=V((Uer,s1e)=>{"use strict";d();s1e.exports=F3()});var pP=V((a1e,hP)=>{d();(function(e){if(typeof hP=="object"&&typeof hP.exports=="object"){var t=e(require,a1e);t!==void 0&&(hP.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(O){function me(ye){return typeof ye=="string"}o(me,"is"),O.is=me})(r||(t.DocumentUri=r={}));var n;(function(O){function me(ye){return typeof ye=="string"}o(me,"is"),O.is=me})(n||(t.URI=n={}));var i;(function(O){O.MIN_VALUE=-2147483648,O.MAX_VALUE=2147483647;function me(ye){return typeof ye=="number"&&O.MIN_VALUE<=ye&&ye<=O.MAX_VALUE}o(me,"is"),O.is=me})(i||(t.integer=i={}));var s;(function(O){O.MIN_VALUE=0,O.MAX_VALUE=2147483647;function me(ye){return typeof ye=="number"&&O.MIN_VALUE<=ye&&ye<=O.MAX_VALUE}o(me,"is"),O.is=me})(s||(t.uinteger=s={}));var a;(function(O){function me(K,L){return K===Number.MAX_VALUE&&(K=s.MAX_VALUE),L===Number.MAX_VALUE&&(L=s.MAX_VALUE),{line:K,character:L}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.objectLiteral(L)&&ve.uinteger(L.line)&&ve.uinteger(L.character)}o(ye,"is"),O.is=ye})(a||(t.Position=a={}));var l;(function(O){function me(K,L,Ie,Me){if(ve.uinteger(K)&&ve.uinteger(L)&&ve.uinteger(Ie)&&ve.uinteger(Me))return{start:a.create(K,L),end:a.create(Ie,Me)};if(a.is(K)&&a.is(L))return{start:K,end:L};throw new Error("Range#create called with invalid arguments[".concat(K,", ").concat(L,", ").concat(Ie,", ").concat(Me,"]"))}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.objectLiteral(L)&&a.is(L.start)&&a.is(L.end)}o(ye,"is"),O.is=ye})(l||(t.Range=l={}));var c;(function(O){function me(K,L){return{uri:K,range:L}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.objectLiteral(L)&&l.is(L.range)&&(ve.string(L.uri)||ve.undefined(L.uri))}o(ye,"is"),O.is=ye})(c||(t.Location=c={}));var u;(function(O){function me(K,L,Ie,Me){return{targetUri:K,targetRange:L,targetSelectionRange:Ie,originSelectionRange:Me}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.objectLiteral(L)&&l.is(L.targetRange)&&ve.string(L.targetUri)&&l.is(L.targetSelectionRange)&&(l.is(L.originSelectionRange)||ve.undefined(L.originSelectionRange))}o(ye,"is"),O.is=ye})(u||(t.LocationLink=u={}));var f;(function(O){function me(K,L,Ie,Me){return{red:K,green:L,blue:Ie,alpha:Me}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.objectLiteral(L)&&ve.numberRange(L.red,0,1)&&ve.numberRange(L.green,0,1)&&ve.numberRange(L.blue,0,1)&&ve.numberRange(L.alpha,0,1)}o(ye,"is"),O.is=ye})(f||(t.Color=f={}));var m;(function(O){function me(K,L){return{range:K,color:L}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.objectLiteral(L)&&l.is(L.range)&&f.is(L.color)}o(ye,"is"),O.is=ye})(m||(t.ColorInformation=m={}));var h;(function(O){function me(K,L,Ie){return{label:K,textEdit:L,additionalTextEdits:Ie}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.objectLiteral(L)&&ve.string(L.label)&&(ve.undefined(L.textEdit)||D.is(L))&&(ve.undefined(L.additionalTextEdits)||ve.typedArray(L.additionalTextEdits,D.is))}o(ye,"is"),O.is=ye})(h||(t.ColorPresentation=h={}));var p;(function(O){O.Comment="comment",O.Imports="imports",O.Region="region"})(p||(t.FoldingRangeKind=p={}));var A;(function(O){function me(K,L,Ie,Me,Ct,qt){var Ft={startLine:K,endLine:L};return ve.defined(Ie)&&(Ft.startCharacter=Ie),ve.defined(Me)&&(Ft.endCharacter=Me),ve.defined(Ct)&&(Ft.kind=Ct),ve.defined(qt)&&(Ft.collapsedText=qt),Ft}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.objectLiteral(L)&&ve.uinteger(L.startLine)&&ve.uinteger(L.startLine)&&(ve.undefined(L.startCharacter)||ve.uinteger(L.startCharacter))&&(ve.undefined(L.endCharacter)||ve.uinteger(L.endCharacter))&&(ve.undefined(L.kind)||ve.string(L.kind))}o(ye,"is"),O.is=ye})(A||(t.FoldingRange=A={}));var x;(function(O){function me(K,L){return{location:K,message:L}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.defined(L)&&c.is(L.location)&&ve.string(L.message)}o(ye,"is"),O.is=ye})(x||(t.DiagnosticRelatedInformation=x={}));var E;(function(O){O.Error=1,O.Warning=2,O.Information=3,O.Hint=4})(E||(t.DiagnosticSeverity=E={}));var v;(function(O){O.Unnecessary=1,O.Deprecated=2})(v||(t.DiagnosticTag=v={}));var b;(function(O){function me(ye){var K=ye;return ve.objectLiteral(K)&&ve.string(K.href)}o(me,"is"),O.is=me})(b||(t.CodeDescription=b={}));var S;(function(O){function me(K,L,Ie,Me,Ct,qt){var Ft={range:K,message:L};return ve.defined(Ie)&&(Ft.severity=Ie),ve.defined(Me)&&(Ft.code=Me),ve.defined(Ct)&&(Ft.source=Ct),ve.defined(qt)&&(Ft.relatedInformation=qt),Ft}o(me,"create"),O.create=me;function ye(K){var L,Ie=K;return ve.defined(Ie)&&l.is(Ie.range)&&ve.string(Ie.message)&&(ve.number(Ie.severity)||ve.undefined(Ie.severity))&&(ve.integer(Ie.code)||ve.string(Ie.code)||ve.undefined(Ie.code))&&(ve.undefined(Ie.codeDescription)||ve.string((L=Ie.codeDescription)===null||L===void 0?void 0:L.href))&&(ve.string(Ie.source)||ve.undefined(Ie.source))&&(ve.undefined(Ie.relatedInformation)||ve.typedArray(Ie.relatedInformation,x.is))}o(ye,"is"),O.is=ye})(S||(t.Diagnostic=S={}));var B;(function(O){function me(K,L){for(var Ie=[],Me=2;Me<arguments.length;Me++)Ie[Me-2]=arguments[Me];var Ct={title:K,command:L};return ve.defined(Ie)&&Ie.length>0&&(Ct.arguments=Ie),Ct}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.defined(L)&&ve.string(L.title)&&ve.string(L.command)}o(ye,"is"),O.is=ye})(B||(t.Command=B={}));var D;(function(O){function me(Ie,Me){return{range:Ie,newText:Me}}o(me,"replace"),O.replace=me;function ye(Ie,Me){return{range:{start:Ie,end:Ie},newText:Me}}o(ye,"insert"),O.insert=ye;function K(Ie){return{range:Ie,newText:""}}o(K,"del"),O.del=K;function L(Ie){var Me=Ie;return ve.objectLiteral(Me)&&ve.string(Me.newText)&&l.is(Me.range)}o(L,"is"),O.is=L})(D||(t.TextEdit=D={}));var F;(function(O){function me(K,L,Ie){var Me={label:K};return L!==void 0&&(Me.needsConfirmation=L),Ie!==void 0&&(Me.description=Ie),Me}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.objectLiteral(L)&&ve.string(L.label)&&(ve.boolean(L.needsConfirmation)||L.needsConfirmation===void 0)&&(ve.string(L.description)||L.description===void 0)}o(ye,"is"),O.is=ye})(F||(t.ChangeAnnotation=F={}));var W;(function(O){function me(ye){var K=ye;return ve.string(K)}o(me,"is"),O.is=me})(W||(t.ChangeAnnotationIdentifier=W={}));var ee;(function(O){function me(Ie,Me,Ct){return{range:Ie,newText:Me,annotationId:Ct}}o(me,"replace"),O.replace=me;function ye(Ie,Me,Ct){return{range:{start:Ie,end:Ie},newText:Me,annotationId:Ct}}o(ye,"insert"),O.insert=ye;function K(Ie,Me){return{range:Ie,newText:"",annotationId:Me}}o(K,"del"),O.del=K;function L(Ie){var Me=Ie;return D.is(Me)&&(F.is(Me.annotationId)||W.is(Me.annotationId))}o(L,"is"),O.is=L})(ee||(t.AnnotatedTextEdit=ee={}));var de;(function(O){function me(K,L){return{textDocument:K,edits:L}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.defined(L)&&ae.is(L.textDocument)&&Array.isArray(L.edits)}o(ye,"is"),O.is=ye})(de||(t.TextDocumentEdit=de={}));var X;(function(O){function me(K,L,Ie){var Me={kind:"create",uri:K};return L!==void 0&&(L.overwrite!==void 0||L.ignoreIfExists!==void 0)&&(Me.options=L),Ie!==void 0&&(Me.annotationId=Ie),Me}o(me,"create"),O.create=me;function ye(K){var L=K;return L&&L.kind==="create"&&ve.string(L.uri)&&(L.options===void 0||(L.options.overwrite===void 0||ve.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||ve.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ye,"is"),O.is=ye})(X||(t.CreateFile=X={}));var G;(function(O){function me(K,L,Ie,Me){var Ct={kind:"rename",oldUri:K,newUri:L};return Ie!==void 0&&(Ie.overwrite!==void 0||Ie.ignoreIfExists!==void 0)&&(Ct.options=Ie),Me!==void 0&&(Ct.annotationId=Me),Ct}o(me,"create"),O.create=me;function ye(K){var L=K;return L&&L.kind==="rename"&&ve.string(L.oldUri)&&ve.string(L.newUri)&&(L.options===void 0||(L.options.overwrite===void 0||ve.boolean(L.options.overwrite))&&(L.options.ignoreIfExists===void 0||ve.boolean(L.options.ignoreIfExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ye,"is"),O.is=ye})(G||(t.RenameFile=G={}));var U;(function(O){function me(K,L,Ie){var Me={kind:"delete",uri:K};return L!==void 0&&(L.recursive!==void 0||L.ignoreIfNotExists!==void 0)&&(Me.options=L),Ie!==void 0&&(Me.annotationId=Ie),Me}o(me,"create"),O.create=me;function ye(K){var L=K;return L&&L.kind==="delete"&&ve.string(L.uri)&&(L.options===void 0||(L.options.recursive===void 0||ve.boolean(L.options.recursive))&&(L.options.ignoreIfNotExists===void 0||ve.boolean(L.options.ignoreIfNotExists)))&&(L.annotationId===void 0||W.is(L.annotationId))}o(ye,"is"),O.is=ye})(U||(t.DeleteFile=U={}));var ie;(function(O){function me(ye){var K=ye;return K&&(K.changes!==void 0||K.documentChanges!==void 0)&&(K.documentChanges===void 0||K.documentChanges.every(function(L){return ve.string(L.kind)?X.is(L)||G.is(L)||U.is(L):de.is(L)}))}o(me,"is"),O.is=me})(ie||(t.WorkspaceEdit=ie={}));var z=function(){function O(me,ye){this.edits=me,this.changeAnnotations=ye}return o(O,"TextEditChangeImpl"),O.prototype.insert=function(me,ye,K){var L,Ie;if(K===void 0?L=D.insert(me,ye):W.is(K)?(Ie=K,L=ee.insert(me,ye,K)):(this.assertChangeAnnotations(this.changeAnnotations),Ie=this.changeAnnotations.manage(K),L=ee.insert(me,ye,Ie)),this.edits.push(L),Ie!==void 0)return Ie},O.prototype.replace=function(me,ye,K){var L,Ie;if(K===void 0?L=D.replace(me,ye):W.is(K)?(Ie=K,L=ee.replace(me,ye,K)):(this.assertChangeAnnotations(this.changeAnnotations),Ie=this.changeAnnotations.manage(K),L=ee.replace(me,ye,Ie)),this.edits.push(L),Ie!==void 0)return Ie},O.prototype.delete=function(me,ye){var K,L;if(ye===void 0?K=D.del(me):W.is(ye)?(L=ye,K=ee.del(me,ye)):(this.assertChangeAnnotations(this.changeAnnotations),L=this.changeAnnotations.manage(ye),K=ee.del(me,L)),this.edits.push(K),L!==void 0)return L},O.prototype.add=function(me){this.edits.push(me)},O.prototype.all=function(){return this.edits},O.prototype.clear=function(){this.edits.splice(0,this.edits.length)},O.prototype.assertChangeAnnotations=function(me){if(me===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},O}(),H=function(){function O(me){this._annotations=me===void 0?Object.create(null):me,this._counter=0,this._size=0}return o(O,"ChangeAnnotations"),O.prototype.all=function(){return this._annotations},Object.defineProperty(O.prototype,"size",{get:o(function(){return this._size},"get"),enumerable:!1,configurable:!0}),O.prototype.manage=function(me,ye){var K;if(W.is(me)?K=me:(K=this.nextId(),ye=me),this._annotations[K]!==void 0)throw new Error("Id ".concat(K," is already in use."));if(ye===void 0)throw new Error("No annotation provided for id ".concat(K));return this._annotations[K]=ye,this._size++,K},O.prototype.nextId=function(){return this._counter++,this._counter.toString()},O}(),M=function(){function O(me){var ye=this;this._textEditChanges=Object.create(null),me!==void 0?(this._workspaceEdit=me,me.documentChanges?(this._changeAnnotations=new H(me.changeAnnotations),me.changeAnnotations=this._changeAnnotations.all(),me.documentChanges.forEach(function(K){if(de.is(K)){var L=new z(K.edits,ye._changeAnnotations);ye._textEditChanges[K.textDocument.uri]=L}})):me.changes&&Object.keys(me.changes).forEach(function(K){var L=new z(me.changes[K]);ye._textEditChanges[K]=L})):this._workspaceEdit={}}return o(O,"WorkspaceChange"),Object.defineProperty(O.prototype,"edit",{get:o(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),O.prototype.getTextEditChange=function(me){if(ae.is(me)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var ye={uri:me.uri,version:me.version},K=this._textEditChanges[ye.uri];if(!K){var L=[],Ie={textDocument:ye,edits:L};this._workspaceEdit.documentChanges.push(Ie),K=new z(L,this._changeAnnotations),this._textEditChanges[ye.uri]=K}return K}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var K=this._textEditChanges[me];if(!K){var L=[];this._workspaceEdit.changes[me]=L,K=new z(L),this._textEditChanges[me]=K}return K}},O.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new H,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},O.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},O.prototype.createFile=function(me,ye,K){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;F.is(ye)||W.is(ye)?L=ye:K=ye;var Ie,Me;if(L===void 0?Ie=X.create(me,K):(Me=W.is(L)?L:this._changeAnnotations.manage(L),Ie=X.create(me,K,Me)),this._workspaceEdit.documentChanges.push(Ie),Me!==void 0)return Me},O.prototype.renameFile=function(me,ye,K,L){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Ie;F.is(K)||W.is(K)?Ie=K:L=K;var Me,Ct;if(Ie===void 0?Me=G.create(me,ye,L):(Ct=W.is(Ie)?Ie:this._changeAnnotations.manage(Ie),Me=G.create(me,ye,L,Ct)),this._workspaceEdit.documentChanges.push(Me),Ct!==void 0)return Ct},O.prototype.deleteFile=function(me,ye,K){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var L;F.is(ye)||W.is(ye)?L=ye:K=ye;var Ie,Me;if(L===void 0?Ie=U.create(me,K):(Me=W.is(L)?L:this._changeAnnotations.manage(L),Ie=U.create(me,K,Me)),this._workspaceEdit.documentChanges.push(Ie),Me!==void 0)return Me},O}();t.WorkspaceChange=M;var j;(function(O){function me(K){return{uri:K}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.defined(L)&&ve.string(L.uri)}o(ye,"is"),O.is=ye})(j||(t.TextDocumentIdentifier=j={}));var Z;(function(O){function me(K,L){return{uri:K,version:L}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.defined(L)&&ve.string(L.uri)&&ve.integer(L.version)}o(ye,"is"),O.is=ye})(Z||(t.VersionedTextDocumentIdentifier=Z={}));var ae;(function(O){function me(K,L){return{uri:K,version:L}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.defined(L)&&ve.string(L.uri)&&(L.version===null||ve.integer(L.version))}o(ye,"is"),O.is=ye})(ae||(t.OptionalVersionedTextDocumentIdentifier=ae={}));var ne;(function(O){function me(K,L,Ie,Me){return{uri:K,languageId:L,version:Ie,text:Me}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.defined(L)&&ve.string(L.uri)&&ve.string(L.languageId)&&ve.integer(L.version)&&ve.string(L.text)}o(ye,"is"),O.is=ye})(ne||(t.TextDocumentItem=ne={}));var le;(function(O){O.PlainText="plaintext",O.Markdown="markdown";function me(ye){var K=ye;return K===O.PlainText||K===O.Markdown}o(me,"is"),O.is=me})(le||(t.MarkupKind=le={}));var fe;(function(O){function me(ye){var K=ye;return ve.objectLiteral(ye)&&le.is(K.kind)&&ve.string(K.value)}o(me,"is"),O.is=me})(fe||(t.MarkupContent=fe={}));var Re;(function(O){O.Text=1,O.Method=2,O.Function=3,O.Constructor=4,O.Field=5,O.Variable=6,O.Class=7,O.Interface=8,O.Module=9,O.Property=10,O.Unit=11,O.Value=12,O.Enum=13,O.Keyword=14,O.Snippet=15,O.Color=16,O.File=17,O.Reference=18,O.Folder=19,O.EnumMember=20,O.Constant=21,O.Struct=22,O.Event=23,O.Operator=24,O.TypeParameter=25})(Re||(t.CompletionItemKind=Re={}));var Ee;(function(O){O.PlainText=1,O.Snippet=2})(Ee||(t.InsertTextFormat=Ee={}));var Oe;(function(O){O.Deprecated=1})(Oe||(t.CompletionItemTag=Oe={}));var Be;(function(O){function me(K,L,Ie){return{newText:K,insert:L,replace:Ie}}o(me,"create"),O.create=me;function ye(K){var L=K;return L&&ve.string(L.newText)&&l.is(L.insert)&&l.is(L.replace)}o(ye,"is"),O.is=ye})(Be||(t.InsertReplaceEdit=Be={}));var Je;(function(O){O.asIs=1,O.adjustIndentation=2})(Je||(t.InsertTextMode=Je={}));var at;(function(O){function me(ye){var K=ye;return K&&(ve.string(K.detail)||K.detail===void 0)&&(ve.string(K.description)||K.description===void 0)}o(me,"is"),O.is=me})(at||(t.CompletionItemLabelDetails=at={}));var Xe;(function(O){function me(ye){return{label:ye}}o(me,"create"),O.create=me})(Xe||(t.CompletionItem=Xe={}));var st;(function(O){function me(ye,K){return{items:ye||[],isIncomplete:!!K}}o(me,"create"),O.create=me})(st||(t.CompletionList=st={}));var oe;(function(O){function me(K){return K.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(me,"fromPlainText"),O.fromPlainText=me;function ye(K){var L=K;return ve.string(L)||ve.objectLiteral(L)&&ve.string(L.language)&&ve.string(L.value)}o(ye,"is"),O.is=ye})(oe||(t.MarkedString=oe={}));var Pe;(function(O){function me(ye){var K=ye;return!!K&&ve.objectLiteral(K)&&(fe.is(K.contents)||oe.is(K.contents)||ve.typedArray(K.contents,oe.is))&&(ye.range===void 0||l.is(ye.range))}o(me,"is"),O.is=me})(Pe||(t.Hover=Pe={}));var Ae;(function(O){function me(ye,K){return K?{label:ye,documentation:K}:{label:ye}}o(me,"create"),O.create=me})(Ae||(t.ParameterInformation=Ae={}));var We;(function(O){function me(ye,K){for(var L=[],Ie=2;Ie<arguments.length;Ie++)L[Ie-2]=arguments[Ie];var Me={label:ye};return ve.defined(K)&&(Me.documentation=K),ve.defined(L)?Me.parameters=L:Me.parameters=[],Me}o(me,"create"),O.create=me})(We||(t.SignatureInformation=We={}));var Y;(function(O){O.Text=1,O.Read=2,O.Write=3})(Y||(t.DocumentHighlightKind=Y={}));var re;(function(O){function me(ye,K){var L={range:ye};return ve.number(K)&&(L.kind=K),L}o(me,"create"),O.create=me})(re||(t.DocumentHighlight=re={}));var Ne;(function(O){O.File=1,O.Module=2,O.Namespace=3,O.Package=4,O.Class=5,O.Method=6,O.Property=7,O.Field=8,O.Constructor=9,O.Enum=10,O.Interface=11,O.Function=12,O.Variable=13,O.Constant=14,O.String=15,O.Number=16,O.Boolean=17,O.Array=18,O.Object=19,O.Key=20,O.Null=21,O.EnumMember=22,O.Struct=23,O.Event=24,O.Operator=25,O.TypeParameter=26})(Ne||(t.SymbolKind=Ne={}));var Se;(function(O){O.Deprecated=1})(Se||(t.SymbolTag=Se={}));var Ce;(function(O){function me(ye,K,L,Ie,Me){var Ct={name:ye,kind:K,location:{uri:Ie,range:L}};return Me&&(Ct.containerName=Me),Ct}o(me,"create"),O.create=me})(Ce||(t.SymbolInformation=Ce={}));var Ue;(function(O){function me(ye,K,L,Ie){return Ie!==void 0?{name:ye,kind:K,location:{uri:L,range:Ie}}:{name:ye,kind:K,location:{uri:L}}}o(me,"create"),O.create=me})(Ue||(t.WorkspaceSymbol=Ue={}));var Ve;(function(O){function me(K,L,Ie,Me,Ct,qt){var Ft={name:K,detail:L,kind:Ie,range:Me,selectionRange:Ct};return qt!==void 0&&(Ft.children=qt),Ft}o(me,"create"),O.create=me;function ye(K){var L=K;return L&&ve.string(L.name)&&ve.number(L.kind)&&l.is(L.range)&&l.is(L.selectionRange)&&(L.detail===void 0||ve.string(L.detail))&&(L.deprecated===void 0||ve.boolean(L.deprecated))&&(L.children===void 0||Array.isArray(L.children))&&(L.tags===void 0||Array.isArray(L.tags))}o(ye,"is"),O.is=ye})(Ve||(t.DocumentSymbol=Ve={}));var et;(function(O){O.Empty="",O.QuickFix="quickfix",O.Refactor="refactor",O.RefactorExtract="refactor.extract",O.RefactorInline="refactor.inline",O.RefactorRewrite="refactor.rewrite",O.Source="source",O.SourceOrganizeImports="source.organizeImports",O.SourceFixAll="source.fixAll"})(et||(t.CodeActionKind=et={}));var yt;(function(O){O.Invoked=1,O.Automatic=2})(yt||(t.CodeActionTriggerKind=yt={}));var Rt;(function(O){function me(K,L,Ie){var Me={diagnostics:K};return L!=null&&(Me.only=L),Ie!=null&&(Me.triggerKind=Ie),Me}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.defined(L)&&ve.typedArray(L.diagnostics,S.is)&&(L.only===void 0||ve.typedArray(L.only,ve.string))&&(L.triggerKind===void 0||L.triggerKind===yt.Invoked||L.triggerKind===yt.Automatic)}o(ye,"is"),O.is=ye})(Rt||(t.CodeActionContext=Rt={}));var At;(function(O){function me(K,L,Ie){var Me={title:K},Ct=!0;return typeof L=="string"?(Ct=!1,Me.kind=L):B.is(L)?Me.command=L:Me.edit=L,Ct&&Ie!==void 0&&(Me.kind=Ie),Me}o(me,"create"),O.create=me;function ye(K){var L=K;return L&&ve.string(L.title)&&(L.diagnostics===void 0||ve.typedArray(L.diagnostics,S.is))&&(L.kind===void 0||ve.string(L.kind))&&(L.edit!==void 0||L.command!==void 0)&&(L.command===void 0||B.is(L.command))&&(L.isPreferred===void 0||ve.boolean(L.isPreferred))&&(L.edit===void 0||ie.is(L.edit))}o(ye,"is"),O.is=ye})(At||(t.CodeAction=At={}));var Vt;(function(O){function me(K,L){var Ie={range:K};return ve.defined(L)&&(Ie.data=L),Ie}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.defined(L)&&l.is(L.range)&&(ve.undefined(L.command)||B.is(L.command))}o(ye,"is"),O.is=ye})(Vt||(t.CodeLens=Vt={}));var $t;(function(O){function me(K,L){return{tabSize:K,insertSpaces:L}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.defined(L)&&ve.uinteger(L.tabSize)&&ve.boolean(L.insertSpaces)}o(ye,"is"),O.is=ye})($t||(t.FormattingOptions=$t={}));var nr;(function(O){function me(K,L,Ie){return{range:K,target:L,data:Ie}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.defined(L)&&l.is(L.range)&&(ve.undefined(L.target)||ve.string(L.target))}o(ye,"is"),O.is=ye})(nr||(t.DocumentLink=nr={}));var ge;(function(O){function me(K,L){return{range:K,parent:L}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.objectLiteral(L)&&l.is(L.range)&&(L.parent===void 0||O.is(L.parent))}o(ye,"is"),O.is=ye})(ge||(t.SelectionRange=ge={}));var Le;(function(O){O.namespace="namespace",O.type="type",O.class="class",O.enum="enum",O.interface="interface",O.struct="struct",O.typeParameter="typeParameter",O.parameter="parameter",O.variable="variable",O.property="property",O.enumMember="enumMember",O.event="event",O.function="function",O.method="method",O.macro="macro",O.keyword="keyword",O.modifier="modifier",O.comment="comment",O.string="string",O.number="number",O.regexp="regexp",O.operator="operator",O.decorator="decorator"})(Le||(t.SemanticTokenTypes=Le={}));var Ke;(function(O){O.declaration="declaration",O.definition="definition",O.readonly="readonly",O.static="static",O.deprecated="deprecated",O.abstract="abstract",O.async="async",O.modification="modification",O.documentation="documentation",O.defaultLibrary="defaultLibrary"})(Ke||(t.SemanticTokenModifiers=Ke={}));var rt;(function(O){function me(ye){var K=ye;return ve.objectLiteral(K)&&(K.resultId===void 0||typeof K.resultId=="string")&&Array.isArray(K.data)&&(K.data.length===0||typeof K.data[0]=="number")}o(me,"is"),O.is=me})(rt||(t.SemanticTokens=rt={}));var St;(function(O){function me(K,L){return{range:K,text:L}}o(me,"create"),O.create=me;function ye(K){var L=K;return L!=null&&l.is(L.range)&&ve.string(L.text)}o(ye,"is"),O.is=ye})(St||(t.InlineValueText=St={}));var Et;(function(O){function me(K,L,Ie){return{range:K,variableName:L,caseSensitiveLookup:Ie}}o(me,"create"),O.create=me;function ye(K){var L=K;return L!=null&&l.is(L.range)&&ve.boolean(L.caseSensitiveLookup)&&(ve.string(L.variableName)||L.variableName===void 0)}o(ye,"is"),O.is=ye})(Et||(t.InlineValueVariableLookup=Et={}));var Lt;(function(O){function me(K,L){return{range:K,expression:L}}o(me,"create"),O.create=me;function ye(K){var L=K;return L!=null&&l.is(L.range)&&(ve.string(L.expression)||L.expression===void 0)}o(ye,"is"),O.is=ye})(Lt||(t.InlineValueEvaluatableExpression=Lt={}));var Mt;(function(O){function me(K,L){return{frameId:K,stoppedLocation:L}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.defined(L)&&l.is(K.stoppedLocation)}o(ye,"is"),O.is=ye})(Mt||(t.InlineValueContext=Mt={}));var Tt;(function(O){O.Type=1,O.Parameter=2;function me(ye){return ye===1||ye===2}o(me,"is"),O.is=me})(Tt||(t.InlayHintKind=Tt={}));var _t;(function(O){function me(K){return{value:K}}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.objectLiteral(L)&&(L.tooltip===void 0||ve.string(L.tooltip)||fe.is(L.tooltip))&&(L.location===void 0||c.is(L.location))&&(L.command===void 0||B.is(L.command))}o(ye,"is"),O.is=ye})(_t||(t.InlayHintLabelPart=_t={}));var wt;(function(O){function me(K,L,Ie){var Me={position:K,label:L};return Ie!==void 0&&(Me.kind=Ie),Me}o(me,"create"),O.create=me;function ye(K){var L=K;return ve.objectLiteral(L)&&a.is(L.position)&&(ve.string(L.label)||ve.typedArray(L.label,_t.is))&&(L.kind===void 0||Tt.is(L.kind))&&L.textEdits===void 0||ve.typedArray(L.textEdits,D.is)&&(L.tooltip===void 0||ve.string(L.tooltip)||fe.is(L.tooltip))&&(L.paddingLeft===void 0||ve.boolean(L.paddingLeft))&&(L.paddingRight===void 0||ve.boolean(L.paddingRight))}o(ye,"is"),O.is=ye})(wt||(t.InlayHint=wt={}));var Ut;(function(O){function me(ye){return{kind:"snippet",value:ye}}o(me,"createSnippet"),O.createSnippet=me})(Ut||(t.StringValue=Ut={}));var Wt;(function(O){function me(ye,K,L,Ie){return{insertText:ye,filterText:K,range:L,command:Ie}}o(me,"create"),O.create=me})(Wt||(t.InlineCompletionItem=Wt={}));var zt;(function(O){function me(ye){return{items:ye}}o(me,"create"),O.create=me})(zt||(t.InlineCompletionList=zt={}));var lr;(function(O){O.Invoked=0,O.Automatic=1})(lr||(t.InlineCompletionTriggerKind=lr={}));var hr;(function(O){function me(ye,K){return{range:ye,text:K}}o(me,"create"),O.create=me})(hr||(t.SelectedCompletionInfo=hr={}));var sr;(function(O){function me(ye,K){return{triggerKind:ye,selectedCompletionInfo:K}}o(me,"create"),O.create=me})(sr||(t.InlineCompletionContext=sr={}));var cr;(function(O){function me(ye){var K=ye;return ve.objectLiteral(K)&&n.is(K.uri)&&ve.string(K.name)}o(me,"is"),O.is=me})(cr||(t.WorkspaceFolder=cr={})),t.EOL=[`
`,`\r
`,"\r"];var Zt;(function(O){function me(Ie,Me,Ct,qt){return new ur(Ie,Me,Ct,qt)}o(me,"create"),O.create=me;function ye(Ie){var Me=Ie;return!!(ve.defined(Me)&&ve.string(Me.uri)&&(ve.undefined(Me.languageId)||ve.string(Me.languageId))&&ve.uinteger(Me.lineCount)&&ve.func(Me.getText)&&ve.func(Me.positionAt)&&ve.func(Me.offsetAt))}o(ye,"is"),O.is=ye;function K(Ie,Me){for(var Ct=Ie.getText(),qt=L(Me,function(ar,Po){var Gd=ar.range.start.line-Po.range.start.line;return Gd===0?ar.range.start.character-Po.range.start.character:Gd}),Ft=Ct.length,tr=qt.length-1;tr>=0;tr--){var ir=qt[tr],Ot=Ie.offsetAt(ir.range.start),vt=Ie.offsetAt(ir.range.end);if(vt<=Ft)Ct=Ct.substring(0,Ot)+ir.newText+Ct.substring(vt,Ct.length);else throw new Error("Overlapping edit");Ft=Ot}return Ct}o(K,"applyEdits"),O.applyEdits=K;function L(Ie,Me){if(Ie.length<=1)return Ie;var Ct=Ie.length/2|0,qt=Ie.slice(0,Ct),Ft=Ie.slice(Ct);L(qt,Me),L(Ft,Me);for(var tr=0,ir=0,Ot=0;tr<qt.length&&ir<Ft.length;){var vt=Me(qt[tr],Ft[ir]);vt<=0?Ie[Ot++]=qt[tr++]:Ie[Ot++]=Ft[ir++]}for(;tr<qt.length;)Ie[Ot++]=qt[tr++];for(;ir<Ft.length;)Ie[Ot++]=Ft[ir++];return Ie}o(L,"mergeSort")})(Zt||(t.TextDocument=Zt={}));var ur=function(){function O(me,ye,K,L){this._uri=me,this._languageId=ye,this._version=K,this._content=L,this._lineOffsets=void 0}return o(O,"FullTextDocument"),Object.defineProperty(O.prototype,"uri",{get:o(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"languageId",{get:o(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"version",{get:o(function(){return this._version},"get"),enumerable:!1,configurable:!0}),O.prototype.getText=function(me){if(me){var ye=this.offsetAt(me.start),K=this.offsetAt(me.end);return this._content.substring(ye,K)}return this._content},O.prototype.update=function(me,ye){this._content=me.text,this._version=ye,this._lineOffsets=void 0},O.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var me=[],ye=this._content,K=!0,L=0;L<ye.length;L++){K&&(me.push(L),K=!1);var Ie=ye.charAt(L);K=Ie==="\r"||Ie===`
`,Ie==="\r"&&L+1<ye.length&&ye.charAt(L+1)===`
`&&L++}K&&ye.length>0&&me.push(ye.length),this._lineOffsets=me}return this._lineOffsets},O.prototype.positionAt=function(me){me=Math.max(Math.min(me,this._content.length),0);var ye=this.getLineOffsets(),K=0,L=ye.length;if(L===0)return a.create(0,me);for(;K<L;){var Ie=Math.floor((K+L)/2);ye[Ie]>me?L=Ie:K=Ie+1}var Me=K-1;return a.create(Me,me-ye[Me])},O.prototype.offsetAt=function(me){var ye=this.getLineOffsets();if(me.line>=ye.length)return this._content.length;if(me.line<0)return 0;var K=ye[me.line],L=me.line+1<ye.length?ye[me.line+1]:this._content.length;return Math.max(Math.min(K+me.character,L),K)},Object.defineProperty(O.prototype,"lineCount",{get:o(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),O}(),ve;(function(O){var me=Object.prototype.toString;function ye(vt){return typeof vt<"u"}o(ye,"defined"),O.defined=ye;function K(vt){return typeof vt>"u"}o(K,"undefined"),O.undefined=K;function L(vt){return vt===!0||vt===!1}o(L,"boolean"),O.boolean=L;function Ie(vt){return me.call(vt)==="[object String]"}o(Ie,"string"),O.string=Ie;function Me(vt){return me.call(vt)==="[object Number]"}o(Me,"number"),O.number=Me;function Ct(vt,ar,Po){return me.call(vt)==="[object Number]"&&ar<=vt&&vt<=Po}o(Ct,"numberRange"),O.numberRange=Ct;function qt(vt){return me.call(vt)==="[object Number]"&&-2147483648<=vt&&vt<=2147483647}o(qt,"integer"),O.integer=qt;function Ft(vt){return me.call(vt)==="[object Number]"&&0<=vt&&vt<=2147483647}o(Ft,"uinteger"),O.uinteger=Ft;function tr(vt){return me.call(vt)==="[object Function]"}o(tr,"func"),O.func=tr;function ir(vt){return vt!==null&&typeof vt=="object"}o(ir,"objectLiteral"),O.objectLiteral=ir;function Ot(vt,ar){return Array.isArray(vt)&&vt.every(ar)}o(Ot,"typedArray"),O.typedArray=Ot})(ve||(ve={}))})});var As=V(_c=>{"use strict";d();Object.defineProperty(_c,"__esModule",{value:!0});_c.ProtocolNotificationType=_c.ProtocolNotificationType0=_c.ProtocolRequestType=_c.ProtocolRequestType0=_c.RegistrationType=_c.MessageDirection=void 0;var Jb=F3(),l1e;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(l1e||(_c.MessageDirection=l1e={}));var gK=class{static{o(this,"RegistrationType")}constructor(t){this.method=t}};_c.RegistrationType=gK;var AK=class extends Jb.RequestType0{static{o(this,"ProtocolRequestType0")}constructor(t){super(t)}};_c.ProtocolRequestType0=AK;var yK=class extends Jb.RequestType{static{o(this,"ProtocolRequestType")}constructor(t){super(t,Jb.ParameterStructures.byName)}};_c.ProtocolRequestType=yK;var CK=class extends Jb.NotificationType0{static{o(this,"ProtocolNotificationType0")}constructor(t){super(t)}};_c.ProtocolNotificationType0=CK;var xK=class extends Jb.NotificationType{static{o(this,"ProtocolNotificationType")}constructor(t){super(t,Jb.ParameterStructures.byName)}};_c.ProtocolNotificationType=xK});var gP=V(_a=>{"use strict";d();Object.defineProperty(_a,"__esModule",{value:!0});_a.objectLiteral=_a.typedArray=_a.stringArray=_a.array=_a.func=_a.error=_a.number=_a.string=_a.boolean=void 0;function BXe(e){return e===!0||e===!1}o(BXe,"boolean");_a.boolean=BXe;function c1e(e){return typeof e=="string"||e instanceof String}o(c1e,"string");_a.string=c1e;function RXe(e){return typeof e=="number"||e instanceof Number}o(RXe,"number");_a.number=RXe;function DXe(e){return e instanceof Error}o(DXe,"error");_a.error=DXe;function PXe(e){return typeof e=="function"}o(PXe,"func");_a.func=PXe;function u1e(e){return Array.isArray(e)}o(u1e,"array");_a.array=u1e;function FXe(e){return u1e(e)&&e.every(t=>c1e(t))}o(FXe,"stringArray");_a.stringArray=FXe;function NXe(e,t){return Array.isArray(e)&&e.every(t)}o(NXe,"typedArray");_a.typedArray=NXe;function LXe(e){return e!==null&&typeof e=="object"}o(LXe,"objectLiteral");_a.objectLiteral=LXe});var m1e=V(AP=>{"use strict";d();Object.defineProperty(AP,"__esModule",{value:!0});AP.ImplementationRequest=void 0;var f1e=As(),d1e;(function(e){e.method="textDocument/implementation",e.messageDirection=f1e.MessageDirection.clientToServer,e.type=new f1e.ProtocolRequestType(e.method)})(d1e||(AP.ImplementationRequest=d1e={}))});var g1e=V(yP=>{"use strict";d();Object.defineProperty(yP,"__esModule",{value:!0});yP.TypeDefinitionRequest=void 0;var h1e=As(),p1e;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=h1e.MessageDirection.clientToServer,e.type=new h1e.ProtocolRequestType(e.method)})(p1e||(yP.TypeDefinitionRequest=p1e={}))});var C1e=V(Xb=>{"use strict";d();Object.defineProperty(Xb,"__esModule",{value:!0});Xb.DidChangeWorkspaceFoldersNotification=Xb.WorkspaceFoldersRequest=void 0;var CP=As(),A1e;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=CP.MessageDirection.serverToClient,e.type=new CP.ProtocolRequestType0(e.method)})(A1e||(Xb.WorkspaceFoldersRequest=A1e={}));var y1e;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=CP.MessageDirection.clientToServer,e.type=new CP.ProtocolNotificationType(e.method)})(y1e||(Xb.DidChangeWorkspaceFoldersNotification=y1e={}))});var b1e=V(xP=>{"use strict";d();Object.defineProperty(xP,"__esModule",{value:!0});xP.ConfigurationRequest=void 0;var x1e=As(),E1e;(function(e){e.method="workspace/configuration",e.messageDirection=x1e.MessageDirection.serverToClient,e.type=new x1e.ProtocolRequestType(e.method)})(E1e||(xP.ConfigurationRequest=E1e={}))});var T1e=V(Zb=>{"use strict";d();Object.defineProperty(Zb,"__esModule",{value:!0});Zb.ColorPresentationRequest=Zb.DocumentColorRequest=void 0;var EP=As(),v1e;(function(e){e.method="textDocument/documentColor",e.messageDirection=EP.MessageDirection.clientToServer,e.type=new EP.ProtocolRequestType(e.method)})(v1e||(Zb.DocumentColorRequest=v1e={}));var I1e;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=EP.MessageDirection.clientToServer,e.type=new EP.ProtocolRequestType(e.method)})(I1e||(Zb.ColorPresentationRequest=I1e={}))});var _1e=V(ev=>{"use strict";d();Object.defineProperty(ev,"__esModule",{value:!0});ev.FoldingRangeRefreshRequest=ev.FoldingRangeRequest=void 0;var bP=As(),w1e;(function(e){e.method="textDocument/foldingRange",e.messageDirection=bP.MessageDirection.clientToServer,e.type=new bP.ProtocolRequestType(e.method)})(w1e||(ev.FoldingRangeRequest=w1e={}));var S1e;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=bP.MessageDirection.serverToClient,e.type=new bP.ProtocolRequestType0(e.method)})(S1e||(ev.FoldingRangeRefreshRequest=S1e={}))});var R1e=V(vP=>{"use strict";d();Object.defineProperty(vP,"__esModule",{value:!0});vP.DeclarationRequest=void 0;var k1e=As(),B1e;(function(e){e.method="textDocument/declaration",e.messageDirection=k1e.MessageDirection.clientToServer,e.type=new k1e.ProtocolRequestType(e.method)})(B1e||(vP.DeclarationRequest=B1e={}))});var F1e=V(IP=>{"use strict";d();Object.defineProperty(IP,"__esModule",{value:!0});IP.SelectionRangeRequest=void 0;var D1e=As(),P1e;(function(e){e.method="textDocument/selectionRange",e.messageDirection=D1e.MessageDirection.clientToServer,e.type=new D1e.ProtocolRequestType(e.method)})(P1e||(IP.SelectionRangeRequest=P1e={}))});var M1e=V(c5=>{"use strict";d();Object.defineProperty(c5,"__esModule",{value:!0});c5.WorkDoneProgressCancelNotification=c5.WorkDoneProgressCreateRequest=c5.WorkDoneProgress=void 0;var QXe=F3(),TP=As(),N1e;(function(e){e.type=new QXe.ProgressType;function t(r){return r===e.type}o(t,"is"),e.is=t})(N1e||(c5.WorkDoneProgress=N1e={}));var L1e;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=TP.MessageDirection.serverToClient,e.type=new TP.ProtocolRequestType(e.method)})(L1e||(c5.WorkDoneProgressCreateRequest=L1e={}));var Q1e;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=TP.MessageDirection.clientToServer,e.type=new TP.ProtocolNotificationType(e.method)})(Q1e||(c5.WorkDoneProgressCancelNotification=Q1e={}))});var W1e=V(u5=>{"use strict";d();Object.defineProperty(u5,"__esModule",{value:!0});u5.CallHierarchyOutgoingCallsRequest=u5.CallHierarchyIncomingCallsRequest=u5.CallHierarchyPrepareRequest=void 0;var tv=As(),O1e;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=tv.MessageDirection.clientToServer,e.type=new tv.ProtocolRequestType(e.method)})(O1e||(u5.CallHierarchyPrepareRequest=O1e={}));var U1e;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=tv.MessageDirection.clientToServer,e.type=new tv.ProtocolRequestType(e.method)})(U1e||(u5.CallHierarchyIncomingCallsRequest=U1e={}));var q1e;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=tv.MessageDirection.clientToServer,e.type=new tv.ProtocolRequestType(e.method)})(q1e||(u5.CallHierarchyOutgoingCallsRequest=q1e={}))});var z1e=V(kc=>{"use strict";d();Object.defineProperty(kc,"__esModule",{value:!0});kc.SemanticTokensRefreshRequest=kc.SemanticTokensRangeRequest=kc.SemanticTokensDeltaRequest=kc.SemanticTokensRequest=kc.SemanticTokensRegistrationType=kc.TokenFormat=void 0;var d1=As(),G1e;(function(e){e.Relative="relative"})(G1e||(kc.TokenFormat=G1e={}));var sT;(function(e){e.method="textDocument/semanticTokens",e.type=new d1.RegistrationType(e.method)})(sT||(kc.SemanticTokensRegistrationType=sT={}));var H1e;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=d1.MessageDirection.clientToServer,e.type=new d1.ProtocolRequestType(e.method),e.registrationMethod=sT.method})(H1e||(kc.SemanticTokensRequest=H1e={}));var V1e;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=d1.MessageDirection.clientToServer,e.type=new d1.ProtocolRequestType(e.method),e.registrationMethod=sT.method})(V1e||(kc.SemanticTokensDeltaRequest=V1e={}));var j1e;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=d1.MessageDirection.clientToServer,e.type=new d1.ProtocolRequestType(e.method),e.registrationMethod=sT.method})(j1e||(kc.SemanticTokensRangeRequest=j1e={}));var $1e;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=d1.MessageDirection.serverToClient,e.type=new d1.ProtocolRequestType0(e.method)})($1e||(kc.SemanticTokensRefreshRequest=$1e={}))});var J1e=V(wP=>{"use strict";d();Object.defineProperty(wP,"__esModule",{value:!0});wP.ShowDocumentRequest=void 0;var Y1e=As(),K1e;(function(e){e.method="window/showDocument",e.messageDirection=Y1e.MessageDirection.serverToClient,e.type=new Y1e.ProtocolRequestType(e.method)})(K1e||(wP.ShowDocumentRequest=K1e={}))});var eAe=V(SP=>{"use strict";d();Object.defineProperty(SP,"__esModule",{value:!0});SP.LinkedEditingRangeRequest=void 0;var X1e=As(),Z1e;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=X1e.MessageDirection.clientToServer,e.type=new X1e.ProtocolRequestType(e.method)})(Z1e||(SP.LinkedEditingRangeRequest=Z1e={}))});var lAe=V(y0=>{"use strict";d();Object.defineProperty(y0,"__esModule",{value:!0});y0.WillDeleteFilesRequest=y0.DidDeleteFilesNotification=y0.DidRenameFilesNotification=y0.WillRenameFilesRequest=y0.DidCreateFilesNotification=y0.WillCreateFilesRequest=y0.FileOperationPatternKind=void 0;var Gf=As(),tAe;(function(e){e.file="file",e.folder="folder"})(tAe||(y0.FileOperationPatternKind=tAe={}));var rAe;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Gf.MessageDirection.clientToServer,e.type=new Gf.ProtocolRequestType(e.method)})(rAe||(y0.WillCreateFilesRequest=rAe={}));var nAe;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Gf.MessageDirection.clientToServer,e.type=new Gf.ProtocolNotificationType(e.method)})(nAe||(y0.DidCreateFilesNotification=nAe={}));var iAe;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Gf.MessageDirection.clientToServer,e.type=new Gf.ProtocolRequestType(e.method)})(iAe||(y0.WillRenameFilesRequest=iAe={}));var oAe;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Gf.MessageDirection.clientToServer,e.type=new Gf.ProtocolNotificationType(e.method)})(oAe||(y0.DidRenameFilesNotification=oAe={}));var sAe;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Gf.MessageDirection.clientToServer,e.type=new Gf.ProtocolNotificationType(e.method)})(sAe||(y0.DidDeleteFilesNotification=sAe={}));var aAe;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Gf.MessageDirection.clientToServer,e.type=new Gf.ProtocolRequestType(e.method)})(aAe||(y0.WillDeleteFilesRequest=aAe={}))});var mAe=V(f5=>{"use strict";d();Object.defineProperty(f5,"__esModule",{value:!0});f5.MonikerRequest=f5.MonikerKind=f5.UniquenessLevel=void 0;var cAe=As(),uAe;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(uAe||(f5.UniquenessLevel=uAe={}));var fAe;(function(e){e.$import="import",e.$export="export",e.local="local"})(fAe||(f5.MonikerKind=fAe={}));var dAe;(function(e){e.method="textDocument/moniker",e.messageDirection=cAe.MessageDirection.clientToServer,e.type=new cAe.ProtocolRequestType(e.method)})(dAe||(f5.MonikerRequest=dAe={}))});var AAe=V(d5=>{"use strict";d();Object.defineProperty(d5,"__esModule",{value:!0});d5.TypeHierarchySubtypesRequest=d5.TypeHierarchySupertypesRequest=d5.TypeHierarchyPrepareRequest=void 0;var rv=As(),hAe;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=rv.MessageDirection.clientToServer,e.type=new rv.ProtocolRequestType(e.method)})(hAe||(d5.TypeHierarchyPrepareRequest=hAe={}));var pAe;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=rv.MessageDirection.clientToServer,e.type=new rv.ProtocolRequestType(e.method)})(pAe||(d5.TypeHierarchySupertypesRequest=pAe={}));var gAe;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=rv.MessageDirection.clientToServer,e.type=new rv.ProtocolRequestType(e.method)})(gAe||(d5.TypeHierarchySubtypesRequest=gAe={}))});var xAe=V(nv=>{"use strict";d();Object.defineProperty(nv,"__esModule",{value:!0});nv.InlineValueRefreshRequest=nv.InlineValueRequest=void 0;var _P=As(),yAe;(function(e){e.method="textDocument/inlineValue",e.messageDirection=_P.MessageDirection.clientToServer,e.type=new _P.ProtocolRequestType(e.method)})(yAe||(nv.InlineValueRequest=yAe={}));var CAe;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=_P.MessageDirection.serverToClient,e.type=new _P.ProtocolRequestType0(e.method)})(CAe||(nv.InlineValueRefreshRequest=CAe={}))});var IAe=V(m5=>{"use strict";d();Object.defineProperty(m5,"__esModule",{value:!0});m5.InlayHintRefreshRequest=m5.InlayHintResolveRequest=m5.InlayHintRequest=void 0;var iv=As(),EAe;(function(e){e.method="textDocument/inlayHint",e.messageDirection=iv.MessageDirection.clientToServer,e.type=new iv.ProtocolRequestType(e.method)})(EAe||(m5.InlayHintRequest=EAe={}));var bAe;(function(e){e.method="inlayHint/resolve",e.messageDirection=iv.MessageDirection.clientToServer,e.type=new iv.ProtocolRequestType(e.method)})(bAe||(m5.InlayHintResolveRequest=bAe={}));var vAe;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=iv.MessageDirection.serverToClient,e.type=new iv.ProtocolRequestType0(e.method)})(vAe||(m5.InlayHintRefreshRequest=vAe={}))});var RAe=V(Hf=>{"use strict";d();Object.defineProperty(Hf,"__esModule",{value:!0});Hf.DiagnosticRefreshRequest=Hf.WorkspaceDiagnosticRequest=Hf.DocumentDiagnosticRequest=Hf.DocumentDiagnosticReportKind=Hf.DiagnosticServerCancellationData=void 0;var BAe=F3(),MXe=gP(),ov=As(),TAe;(function(e){function t(r){let n=r;return n&&MXe.boolean(n.retriggerRequest)}o(t,"is"),e.is=t})(TAe||(Hf.DiagnosticServerCancellationData=TAe={}));var wAe;(function(e){e.Full="full",e.Unchanged="unchanged"})(wAe||(Hf.DocumentDiagnosticReportKind=wAe={}));var SAe;(function(e){e.method="textDocument/diagnostic",e.messageDirection=ov.MessageDirection.clientToServer,e.type=new ov.ProtocolRequestType(e.method),e.partialResult=new BAe.ProgressType})(SAe||(Hf.DocumentDiagnosticRequest=SAe={}));var _Ae;(function(e){e.method="workspace/diagnostic",e.messageDirection=ov.MessageDirection.clientToServer,e.type=new ov.ProtocolRequestType(e.method),e.partialResult=new BAe.ProgressType})(_Ae||(Hf.WorkspaceDiagnosticRequest=_Ae={}));var kAe;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=ov.MessageDirection.serverToClient,e.type=new ov.ProtocolRequestType0(e.method)})(kAe||(Hf.DiagnosticRefreshRequest=kAe={}))});var MAe=V(Ws=>{"use strict";d();Object.defineProperty(Ws,"__esModule",{value:!0});Ws.DidCloseNotebookDocumentNotification=Ws.DidSaveNotebookDocumentNotification=Ws.DidChangeNotebookDocumentNotification=Ws.NotebookCellArrayChange=Ws.DidOpenNotebookDocumentNotification=Ws.NotebookDocumentSyncRegistrationType=Ws.NotebookDocument=Ws.NotebookCell=Ws.ExecutionSummary=Ws.NotebookCellKind=void 0;var aT=pP(),vm=gP(),ip=As(),EK;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(EK||(Ws.NotebookCellKind=EK={}));var bK;(function(e){function t(i,s){let a={executionOrder:i};return(s===!0||s===!1)&&(a.success=s),a}o(t,"create"),e.create=t;function r(i){let s=i;return vm.objectLiteral(s)&&aT.uinteger.is(s.executionOrder)&&(s.success===void 0||vm.boolean(s.success))}o(r,"is"),e.is=r;function n(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}o(n,"equals"),e.equals=n})(bK||(Ws.ExecutionSummary=bK={}));var kP;(function(e){function t(s,a){return{kind:s,document:a}}o(t,"create"),e.create=t;function r(s){let a=s;return vm.objectLiteral(a)&&EK.is(a.kind)&&aT.DocumentUri.is(a.document)&&(a.metadata===void 0||vm.objectLiteral(a.metadata))}o(r,"is"),e.is=r;function n(s,a){let l=new Set;return s.document!==a.document&&l.add("document"),s.kind!==a.kind&&l.add("kind"),s.executionSummary!==a.executionSummary&&l.add("executionSummary"),(s.metadata!==void 0||a.metadata!==void 0)&&!i(s.metadata,a.metadata)&&l.add("metadata"),(s.executionSummary!==void 0||a.executionSummary!==void 0)&&!bK.equals(s.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}o(n,"diff"),e.diff=n;function i(s,a){if(s===a)return!0;if(s==null||a===null||a===void 0||typeof s!=typeof a||typeof s!="object")return!1;let l=Array.isArray(s),c=Array.isArray(a);if(l!==c)return!1;if(l&&c){if(s.length!==a.length)return!1;for(let u=0;u<s.length;u++)if(!i(s[u],a[u]))return!1}if(vm.objectLiteral(s)&&vm.objectLiteral(a)){let u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length||(u.sort(),f.sort(),!i(u,f)))return!1;for(let m=0;m<u.length;m++){let h=u[m];if(!i(s[h],a[h]))return!1}}return!0}o(i,"equalsMetadata")})(kP||(Ws.NotebookCell=kP={}));var DAe;(function(e){function t(n,i,s,a){return{uri:n,notebookType:i,version:s,cells:a}}o(t,"create"),e.create=t;function r(n){let i=n;return vm.objectLiteral(i)&&vm.string(i.uri)&&aT.integer.is(i.version)&&vm.typedArray(i.cells,kP.is)}o(r,"is"),e.is=r})(DAe||(Ws.NotebookDocument=DAe={}));var sv;(function(e){e.method="notebookDocument/sync",e.messageDirection=ip.MessageDirection.clientToServer,e.type=new ip.RegistrationType(e.method)})(sv||(Ws.NotebookDocumentSyncRegistrationType=sv={}));var PAe;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=ip.MessageDirection.clientToServer,e.type=new ip.ProtocolNotificationType(e.method),e.registrationMethod=sv.method})(PAe||(Ws.DidOpenNotebookDocumentNotification=PAe={}));var FAe;(function(e){function t(n){let i=n;return vm.objectLiteral(i)&&aT.uinteger.is(i.start)&&aT.uinteger.is(i.deleteCount)&&(i.cells===void 0||vm.typedArray(i.cells,kP.is))}o(t,"is"),e.is=t;function r(n,i,s){let a={start:n,deleteCount:i};return s!==void 0&&(a.cells=s),a}o(r,"create"),e.create=r})(FAe||(Ws.NotebookCellArrayChange=FAe={}));var NAe;(function(e){e.method="notebookDocument/didChange",e.messageDirection=ip.MessageDirection.clientToServer,e.type=new ip.ProtocolNotificationType(e.method),e.registrationMethod=sv.method})(NAe||(Ws.DidChangeNotebookDocumentNotification=NAe={}));var LAe;(function(e){e.method="notebookDocument/didSave",e.messageDirection=ip.MessageDirection.clientToServer,e.type=new ip.ProtocolNotificationType(e.method),e.registrationMethod=sv.method})(LAe||(Ws.DidSaveNotebookDocumentNotification=LAe={}));var QAe;(function(e){e.method="notebookDocument/didClose",e.messageDirection=ip.MessageDirection.clientToServer,e.type=new ip.ProtocolNotificationType(e.method),e.registrationMethod=sv.method})(QAe||(Ws.DidCloseNotebookDocumentNotification=QAe={}))});var qAe=V(BP=>{"use strict";d();Object.defineProperty(BP,"__esModule",{value:!0});BP.InlineCompletionRequest=void 0;var OAe=As(),UAe;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=OAe.MessageDirection.clientToServer,e.type=new OAe.ProtocolRequestType(e.method)})(UAe||(BP.InlineCompletionRequest=UAe={}))});var e5e=V(be=>{"use strict";d();Object.defineProperty(be,"__esModule",{value:!0});be.WorkspaceSymbolRequest=be.CodeActionResolveRequest=be.CodeActionRequest=be.DocumentSymbolRequest=be.DocumentHighlightRequest=be.ReferencesRequest=be.DefinitionRequest=be.SignatureHelpRequest=be.SignatureHelpTriggerKind=be.HoverRequest=be.CompletionResolveRequest=be.CompletionRequest=be.CompletionTriggerKind=be.PublishDiagnosticsNotification=be.WatchKind=be.RelativePattern=be.FileChangeType=be.DidChangeWatchedFilesNotification=be.WillSaveTextDocumentWaitUntilRequest=be.WillSaveTextDocumentNotification=be.TextDocumentSaveReason=be.DidSaveTextDocumentNotification=be.DidCloseTextDocumentNotification=be.DidChangeTextDocumentNotification=be.TextDocumentContentChangeEvent=be.DidOpenTextDocumentNotification=be.TextDocumentSyncKind=be.TelemetryEventNotification=be.LogMessageNotification=be.ShowMessageRequest=be.ShowMessageNotification=be.MessageType=be.DidChangeConfigurationNotification=be.ExitNotification=be.ShutdownRequest=be.InitializedNotification=be.InitializeErrorCodes=be.InitializeRequest=be.WorkDoneProgressOptions=be.TextDocumentRegistrationOptions=be.StaticRegistrationOptions=be.PositionEncodingKind=be.FailureHandlingKind=be.ResourceOperationKind=be.UnregistrationRequest=be.RegistrationRequest=be.DocumentSelector=be.NotebookCellTextDocumentFilter=be.NotebookDocumentFilter=be.TextDocumentFilter=void 0;be.MonikerRequest=be.MonikerKind=be.UniquenessLevel=be.WillDeleteFilesRequest=be.DidDeleteFilesNotification=be.WillRenameFilesRequest=be.DidRenameFilesNotification=be.WillCreateFilesRequest=be.DidCreateFilesNotification=be.FileOperationPatternKind=be.LinkedEditingRangeRequest=be.ShowDocumentRequest=be.SemanticTokensRegistrationType=be.SemanticTokensRefreshRequest=be.SemanticTokensRangeRequest=be.SemanticTokensDeltaRequest=be.SemanticTokensRequest=be.TokenFormat=be.CallHierarchyPrepareRequest=be.CallHierarchyOutgoingCallsRequest=be.CallHierarchyIncomingCallsRequest=be.WorkDoneProgressCancelNotification=be.WorkDoneProgressCreateRequest=be.WorkDoneProgress=be.SelectionRangeRequest=be.DeclarationRequest=be.FoldingRangeRefreshRequest=be.FoldingRangeRequest=be.ColorPresentationRequest=be.DocumentColorRequest=be.ConfigurationRequest=be.DidChangeWorkspaceFoldersNotification=be.WorkspaceFoldersRequest=be.TypeDefinitionRequest=be.ImplementationRequest=be.ApplyWorkspaceEditRequest=be.ExecuteCommandRequest=be.PrepareRenameRequest=be.RenameRequest=be.PrepareSupportDefaultBehavior=be.DocumentOnTypeFormattingRequest=be.DocumentRangesFormattingRequest=be.DocumentRangeFormattingRequest=be.DocumentFormattingRequest=be.DocumentLinkResolveRequest=be.DocumentLinkRequest=be.CodeLensRefreshRequest=be.CodeLensResolveRequest=be.CodeLensRequest=be.WorkspaceSymbolResolveRequest=void 0;be.InlineCompletionRequest=be.DidCloseNotebookDocumentNotification=be.DidSaveNotebookDocumentNotification=be.DidChangeNotebookDocumentNotification=be.NotebookCellArrayChange=be.DidOpenNotebookDocumentNotification=be.NotebookDocumentSyncRegistrationType=be.NotebookDocument=be.NotebookCell=be.ExecutionSummary=be.NotebookCellKind=be.DiagnosticRefreshRequest=be.WorkspaceDiagnosticRequest=be.DocumentDiagnosticRequest=be.DocumentDiagnosticReportKind=be.DiagnosticServerCancellationData=be.InlayHintRefreshRequest=be.InlayHintResolveRequest=be.InlayHintRequest=be.InlineValueRefreshRequest=be.InlineValueRequest=be.TypeHierarchySupertypesRequest=be.TypeHierarchySubtypesRequest=be.TypeHierarchyPrepareRequest=void 0;var Kt=As(),WAe=pP(),ul=gP(),OXe=m1e();Object.defineProperty(be,"ImplementationRequest",{enumerable:!0,get:o(function(){return OXe.ImplementationRequest},"get")});var UXe=g1e();Object.defineProperty(be,"TypeDefinitionRequest",{enumerable:!0,get:o(function(){return UXe.TypeDefinitionRequest},"get")});var K2e=C1e();Object.defineProperty(be,"WorkspaceFoldersRequest",{enumerable:!0,get:o(function(){return K2e.WorkspaceFoldersRequest},"get")});Object.defineProperty(be,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:o(function(){return K2e.DidChangeWorkspaceFoldersNotification},"get")});var qXe=b1e();Object.defineProperty(be,"ConfigurationRequest",{enumerable:!0,get:o(function(){return qXe.ConfigurationRequest},"get")});var J2e=T1e();Object.defineProperty(be,"DocumentColorRequest",{enumerable:!0,get:o(function(){return J2e.DocumentColorRequest},"get")});Object.defineProperty(be,"ColorPresentationRequest",{enumerable:!0,get:o(function(){return J2e.ColorPresentationRequest},"get")});var X2e=_1e();Object.defineProperty(be,"FoldingRangeRequest",{enumerable:!0,get:o(function(){return X2e.FoldingRangeRequest},"get")});Object.defineProperty(be,"FoldingRangeRefreshRequest",{enumerable:!0,get:o(function(){return X2e.FoldingRangeRefreshRequest},"get")});var WXe=R1e();Object.defineProperty(be,"DeclarationRequest",{enumerable:!0,get:o(function(){return WXe.DeclarationRequest},"get")});var GXe=F1e();Object.defineProperty(be,"SelectionRangeRequest",{enumerable:!0,get:o(function(){return GXe.SelectionRangeRequest},"get")});var SK=M1e();Object.defineProperty(be,"WorkDoneProgress",{enumerable:!0,get:o(function(){return SK.WorkDoneProgress},"get")});Object.defineProperty(be,"WorkDoneProgressCreateRequest",{enumerable:!0,get:o(function(){return SK.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(be,"WorkDoneProgressCancelNotification",{enumerable:!0,get:o(function(){return SK.WorkDoneProgressCancelNotification},"get")});var _K=W1e();Object.defineProperty(be,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:o(function(){return _K.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(be,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:o(function(){return _K.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(be,"CallHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return _K.CallHierarchyPrepareRequest},"get")});var av=z1e();Object.defineProperty(be,"TokenFormat",{enumerable:!0,get:o(function(){return av.TokenFormat},"get")});Object.defineProperty(be,"SemanticTokensRequest",{enumerable:!0,get:o(function(){return av.SemanticTokensRequest},"get")});Object.defineProperty(be,"SemanticTokensDeltaRequest",{enumerable:!0,get:o(function(){return av.SemanticTokensDeltaRequest},"get")});Object.defineProperty(be,"SemanticTokensRangeRequest",{enumerable:!0,get:o(function(){return av.SemanticTokensRangeRequest},"get")});Object.defineProperty(be,"SemanticTokensRefreshRequest",{enumerable:!0,get:o(function(){return av.SemanticTokensRefreshRequest},"get")});Object.defineProperty(be,"SemanticTokensRegistrationType",{enumerable:!0,get:o(function(){return av.SemanticTokensRegistrationType},"get")});var HXe=J1e();Object.defineProperty(be,"ShowDocumentRequest",{enumerable:!0,get:o(function(){return HXe.ShowDocumentRequest},"get")});var VXe=eAe();Object.defineProperty(be,"LinkedEditingRangeRequest",{enumerable:!0,get:o(function(){return VXe.LinkedEditingRangeRequest},"get")});var N3=lAe();Object.defineProperty(be,"FileOperationPatternKind",{enumerable:!0,get:o(function(){return N3.FileOperationPatternKind},"get")});Object.defineProperty(be,"DidCreateFilesNotification",{enumerable:!0,get:o(function(){return N3.DidCreateFilesNotification},"get")});Object.defineProperty(be,"WillCreateFilesRequest",{enumerable:!0,get:o(function(){return N3.WillCreateFilesRequest},"get")});Object.defineProperty(be,"DidRenameFilesNotification",{enumerable:!0,get:o(function(){return N3.DidRenameFilesNotification},"get")});Object.defineProperty(be,"WillRenameFilesRequest",{enumerable:!0,get:o(function(){return N3.WillRenameFilesRequest},"get")});Object.defineProperty(be,"DidDeleteFilesNotification",{enumerable:!0,get:o(function(){return N3.DidDeleteFilesNotification},"get")});Object.defineProperty(be,"WillDeleteFilesRequest",{enumerable:!0,get:o(function(){return N3.WillDeleteFilesRequest},"get")});var kK=mAe();Object.defineProperty(be,"UniquenessLevel",{enumerable:!0,get:o(function(){return kK.UniquenessLevel},"get")});Object.defineProperty(be,"MonikerKind",{enumerable:!0,get:o(function(){return kK.MonikerKind},"get")});Object.defineProperty(be,"MonikerRequest",{enumerable:!0,get:o(function(){return kK.MonikerRequest},"get")});var BK=AAe();Object.defineProperty(be,"TypeHierarchyPrepareRequest",{enumerable:!0,get:o(function(){return BK.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(be,"TypeHierarchySubtypesRequest",{enumerable:!0,get:o(function(){return BK.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(be,"TypeHierarchySupertypesRequest",{enumerable:!0,get:o(function(){return BK.TypeHierarchySupertypesRequest},"get")});var Z2e=xAe();Object.defineProperty(be,"InlineValueRequest",{enumerable:!0,get:o(function(){return Z2e.InlineValueRequest},"get")});Object.defineProperty(be,"InlineValueRefreshRequest",{enumerable:!0,get:o(function(){return Z2e.InlineValueRefreshRequest},"get")});var RK=IAe();Object.defineProperty(be,"InlayHintRequest",{enumerable:!0,get:o(function(){return RK.InlayHintRequest},"get")});Object.defineProperty(be,"InlayHintResolveRequest",{enumerable:!0,get:o(function(){return RK.InlayHintResolveRequest},"get")});Object.defineProperty(be,"InlayHintRefreshRequest",{enumerable:!0,get:o(function(){return RK.InlayHintRefreshRequest},"get")});var lT=RAe();Object.defineProperty(be,"DiagnosticServerCancellationData",{enumerable:!0,get:o(function(){return lT.DiagnosticServerCancellationData},"get")});Object.defineProperty(be,"DocumentDiagnosticReportKind",{enumerable:!0,get:o(function(){return lT.DocumentDiagnosticReportKind},"get")});Object.defineProperty(be,"DocumentDiagnosticRequest",{enumerable:!0,get:o(function(){return lT.DocumentDiagnosticRequest},"get")});Object.defineProperty(be,"WorkspaceDiagnosticRequest",{enumerable:!0,get:o(function(){return lT.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(be,"DiagnosticRefreshRequest",{enumerable:!0,get:o(function(){return lT.DiagnosticRefreshRequest},"get")});var op=MAe();Object.defineProperty(be,"NotebookCellKind",{enumerable:!0,get:o(function(){return op.NotebookCellKind},"get")});Object.defineProperty(be,"ExecutionSummary",{enumerable:!0,get:o(function(){return op.ExecutionSummary},"get")});Object.defineProperty(be,"NotebookCell",{enumerable:!0,get:o(function(){return op.NotebookCell},"get")});Object.defineProperty(be,"NotebookDocument",{enumerable:!0,get:o(function(){return op.NotebookDocument},"get")});Object.defineProperty(be,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:o(function(){return op.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(be,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:o(function(){return op.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(be,"NotebookCellArrayChange",{enumerable:!0,get:o(function(){return op.NotebookCellArrayChange},"get")});Object.defineProperty(be,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:o(function(){return op.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(be,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:o(function(){return op.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(be,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:o(function(){return op.DidCloseNotebookDocumentNotification},"get")});var jXe=qAe();Object.defineProperty(be,"InlineCompletionRequest",{enumerable:!0,get:o(function(){return jXe.InlineCompletionRequest},"get")});var vK;(function(e){function t(r){let n=r;return ul.string(n)||ul.string(n.language)||ul.string(n.scheme)||ul.string(n.pattern)}o(t,"is"),e.is=t})(vK||(be.TextDocumentFilter=vK={}));var IK;(function(e){function t(r){let n=r;return ul.objectLiteral(n)&&(ul.string(n.notebookType)||ul.string(n.scheme)||ul.string(n.pattern))}o(t,"is"),e.is=t})(IK||(be.NotebookDocumentFilter=IK={}));var TK;(function(e){function t(r){let n=r;return ul.objectLiteral(n)&&(ul.string(n.notebook)||IK.is(n.notebook))&&(n.language===void 0||ul.string(n.language))}o(t,"is"),e.is=t})(TK||(be.NotebookCellTextDocumentFilter=TK={}));var wK;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!ul.string(n)&&!vK.is(n)&&!TK.is(n))return!1;return!0}o(t,"is"),e.is=t})(wK||(be.DocumentSelector=wK={}));var GAe;(function(e){e.method="client/registerCapability",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType(e.method)})(GAe||(be.RegistrationRequest=GAe={}));var HAe;(function(e){e.method="client/unregisterCapability",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType(e.method)})(HAe||(be.UnregistrationRequest=HAe={}));var VAe;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(VAe||(be.ResourceOperationKind=VAe={}));var jAe;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(jAe||(be.FailureHandlingKind=jAe={}));var $Ae;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})($Ae||(be.PositionEncodingKind=$Ae={}));var zAe;(function(e){function t(r){let n=r;return n&&ul.string(n.id)&&n.id.length>0}o(t,"hasId"),e.hasId=t})(zAe||(be.StaticRegistrationOptions=zAe={}));var YAe;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||wK.is(n.documentSelector))}o(t,"is"),e.is=t})(YAe||(be.TextDocumentRegistrationOptions=YAe={}));var KAe;(function(e){function t(n){let i=n;return ul.objectLiteral(i)&&(i.workDoneProgress===void 0||ul.boolean(i.workDoneProgress))}o(t,"is"),e.is=t;function r(n){let i=n;return i&&ul.boolean(i.workDoneProgress)}o(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(KAe||(be.WorkDoneProgressOptions=KAe={}));var JAe;(function(e){e.method="initialize",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(JAe||(be.InitializeRequest=JAe={}));var XAe;(function(e){e.unknownProtocolVersion=1})(XAe||(be.InitializeErrorCodes=XAe={}));var ZAe;(function(e){e.method="initialized",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(ZAe||(be.InitializedNotification=ZAe={}));var e2e;(function(e){e.method="shutdown",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType0(e.method)})(e2e||(be.ShutdownRequest=e2e={}));var t2e;(function(e){e.method="exit",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType0(e.method)})(t2e||(be.ExitNotification=t2e={}));var r2e;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(r2e||(be.DidChangeConfigurationNotification=r2e={}));var n2e;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(n2e||(be.MessageType=n2e={}));var i2e;(function(e){e.method="window/showMessage",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolNotificationType(e.method)})(i2e||(be.ShowMessageNotification=i2e={}));var o2e;(function(e){e.method="window/showMessageRequest",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType(e.method)})(o2e||(be.ShowMessageRequest=o2e={}));var s2e;(function(e){e.method="window/logMessage",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolNotificationType(e.method)})(s2e||(be.LogMessageNotification=s2e={}));var a2e;(function(e){e.method="telemetry/event",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolNotificationType(e.method)})(a2e||(be.TelemetryEventNotification=a2e={}));var l2e;(function(e){e.None=0,e.Full=1,e.Incremental=2})(l2e||(be.TextDocumentSyncKind=l2e={}));var c2e;(function(e){e.method="textDocument/didOpen",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(c2e||(be.DidOpenTextDocumentNotification=c2e={}));var u2e;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}o(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}o(r,"isFull"),e.isFull=r})(u2e||(be.TextDocumentContentChangeEvent=u2e={}));var f2e;(function(e){e.method="textDocument/didChange",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(f2e||(be.DidChangeTextDocumentNotification=f2e={}));var d2e;(function(e){e.method="textDocument/didClose",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(d2e||(be.DidCloseTextDocumentNotification=d2e={}));var m2e;(function(e){e.method="textDocument/didSave",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(m2e||(be.DidSaveTextDocumentNotification=m2e={}));var h2e;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(h2e||(be.TextDocumentSaveReason=h2e={}));var p2e;(function(e){e.method="textDocument/willSave",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(p2e||(be.WillSaveTextDocumentNotification=p2e={}));var g2e;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(g2e||(be.WillSaveTextDocumentWaitUntilRequest=g2e={}));var A2e;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolNotificationType(e.method)})(A2e||(be.DidChangeWatchedFilesNotification=A2e={}));var y2e;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(y2e||(be.FileChangeType=y2e={}));var C2e;(function(e){function t(r){let n=r;return ul.objectLiteral(n)&&(WAe.URI.is(n.baseUri)||WAe.WorkspaceFolder.is(n.baseUri))&&ul.string(n.pattern)}o(t,"is"),e.is=t})(C2e||(be.RelativePattern=C2e={}));var x2e;(function(e){e.Create=1,e.Change=2,e.Delete=4})(x2e||(be.WatchKind=x2e={}));var E2e;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolNotificationType(e.method)})(E2e||(be.PublishDiagnosticsNotification=E2e={}));var b2e;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(b2e||(be.CompletionTriggerKind=b2e={}));var v2e;(function(e){e.method="textDocument/completion",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(v2e||(be.CompletionRequest=v2e={}));var I2e;(function(e){e.method="completionItem/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(I2e||(be.CompletionResolveRequest=I2e={}));var T2e;(function(e){e.method="textDocument/hover",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(T2e||(be.HoverRequest=T2e={}));var w2e;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(w2e||(be.SignatureHelpTriggerKind=w2e={}));var S2e;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(S2e||(be.SignatureHelpRequest=S2e={}));var _2e;(function(e){e.method="textDocument/definition",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(_2e||(be.DefinitionRequest=_2e={}));var k2e;(function(e){e.method="textDocument/references",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(k2e||(be.ReferencesRequest=k2e={}));var B2e;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(B2e||(be.DocumentHighlightRequest=B2e={}));var R2e;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(R2e||(be.DocumentSymbolRequest=R2e={}));var D2e;(function(e){e.method="textDocument/codeAction",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(D2e||(be.CodeActionRequest=D2e={}));var P2e;(function(e){e.method="codeAction/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(P2e||(be.CodeActionResolveRequest=P2e={}));var F2e;(function(e){e.method="workspace/symbol",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(F2e||(be.WorkspaceSymbolRequest=F2e={}));var N2e;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(N2e||(be.WorkspaceSymbolResolveRequest=N2e={}));var L2e;(function(e){e.method="textDocument/codeLens",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(L2e||(be.CodeLensRequest=L2e={}));var Q2e;(function(e){e.method="codeLens/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(Q2e||(be.CodeLensResolveRequest=Q2e={}));var M2e;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType0(e.method)})(M2e||(be.CodeLensRefreshRequest=M2e={}));var O2e;(function(e){e.method="textDocument/documentLink",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(O2e||(be.DocumentLinkRequest=O2e={}));var U2e;(function(e){e.method="documentLink/resolve",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(U2e||(be.DocumentLinkResolveRequest=U2e={}));var q2e;(function(e){e.method="textDocument/formatting",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(q2e||(be.DocumentFormattingRequest=q2e={}));var W2e;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(W2e||(be.DocumentRangeFormattingRequest=W2e={}));var G2e;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(G2e||(be.DocumentRangesFormattingRequest=G2e={}));var H2e;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(H2e||(be.DocumentOnTypeFormattingRequest=H2e={}));var V2e;(function(e){e.Identifier=1})(V2e||(be.PrepareSupportDefaultBehavior=V2e={}));var j2e;(function(e){e.method="textDocument/rename",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(j2e||(be.RenameRequest=j2e={}));var $2e;(function(e){e.method="textDocument/prepareRename",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})($2e||(be.PrepareRenameRequest=$2e={}));var z2e;(function(e){e.method="workspace/executeCommand",e.messageDirection=Kt.MessageDirection.clientToServer,e.type=new Kt.ProtocolRequestType(e.method)})(z2e||(be.ExecuteCommandRequest=z2e={}));var Y2e;(function(e){e.method="workspace/applyEdit",e.messageDirection=Kt.MessageDirection.serverToClient,e.type=new Kt.ProtocolRequestType("workspace/applyEdit")})(Y2e||(be.ApplyWorkspaceEditRequest=Y2e={}))});var r5e=V(RP=>{"use strict";d();Object.defineProperty(RP,"__esModule",{value:!0});RP.createProtocolConnection=void 0;var t5e=F3();function $Xe(e,t,r,n){return t5e.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,t5e.createMessageConnection)(e,t,r,n)}o($Xe,"createProtocolConnection");RP.createProtocolConnection=$Xe});var i5e=V(Bc=>{"use strict";d();var zXe=Bc&&Bc.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),DP=Bc&&Bc.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zXe(t,e,r)};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.LSPErrorCodes=Bc.createProtocolConnection=void 0;DP(F3(),Bc);DP(pP(),Bc);DP(As(),Bc);DP(e5e(),Bc);var YXe=r5e();Object.defineProperty(Bc,"createProtocolConnection",{enumerable:!0,get:o(function(){return YXe.createProtocolConnection},"get")});var n5e;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(n5e||(Bc.LSPErrorCodes=n5e={}))});var jn=V(sp=>{"use strict";d();var KXe=sp&&sp.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),o5e=sp&&sp.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&KXe(t,e,r)};Object.defineProperty(sp,"__esModule",{value:!0});sp.createProtocolConnection=void 0;var JXe=pK();o5e(pK(),sp);o5e(i5e(),sp);function XXe(e,t,r,n){return(0,JXe.createMessageConnection)(e,t,r,n)}o(XXe,"createProtocolConnection");sp.createProtocolConnection=XXe});var M5e=V((jP,Q5e)=>{d();(function(e,t){typeof jP=="object"&&typeof Q5e<"u"?t(jP):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(jP,function(e){"use strict";function t(w,k){return w||k}o(t,"_pureAssign");function r(w,k){return w[k]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",A="length",x="name",E="call",v="toString",b=t(Object),S=r(b,c),B=t(String),D=r(B,c),F=t(Math),W=t(Array),ee=r(W,c),de=r(ee,"slice");function X(w,k){try{return{v:w.apply(this,k)}}catch(R){return{e:R}}}o(X,"safe");function G(w){return function(k){return typeof k===w}}o(G,"_createIs");function U(w){var k="[object "+w+"]";return function(R){return!!(R&&ie(R)===k)}}o(U,"_createObjIs");function ie(w){return S[v].call(w)}o(ie,"objToString");function z(w){return typeof w===f||w===f}o(z,"isUndefined");function H(w){return!j(w)}o(H,"isStrictUndefined");function M(w){return w===i||z(w)}o(M,"isNullOrUndefined");function j(w){return!!w||w!==n}o(j,"isDefined");var Z=G("string"),ae=G(a);function ne(w){return!w&&M(w)?!1:!!w&&typeof w===l}o(ne,"isObject");var le=r(W,"isArray"),fe=U("Error"),Re=r(b,"getOwnPropertyDescriptor");function Ee(w,k){return!!w&&S.hasOwnProperty[E](w,k)}o(Ee,"objHasOwnProperty");var Oe=t(r(b,"hasOwn"),Be);function Be(w,k){return Ee(w,k)||!!Re(w,k)}o(Be,"polyObjHasOwn");function Je(w,k,R){if(w&&ne(w)){for(var Q in w)if(Oe(w,Q)&&k[E](R||w,Q,w[Q])===-1)break}}o(Je,"objForEachKey");var at={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Xe(w){var k={};if(k[at.c]=!0,k[at.e]=!0,w.l){k.get=function(){return w.l.v};var R=Re(w.l,"v");R&&R.set&&(k.set=function(Q){w.l.v=Q})}return Je(w,function(Q,ce){k[at[Q]]=H(ce)?k[at[Q]]:ce}),k}o(Xe,"_createProp");var st=r(b,"defineProperty");function oe(w,k,R){return st(w,k,Xe(R))}o(oe,"objDefine");function Pe(w,k,R,Q,ce){var Te={};return Je(w,function(ke,He){Ae(Te,ke,k?He:ke),Ae(Te,He,R?He:ke)}),Q?Q(Te):Te}o(Pe,"_createKeyValueMap");function Ae(w,k,R,Q){st(w,k,{value:R,enumerable:!0,writable:!1})}o(Ae,"_assignMapValue");var We=t(B),Y="[object Error]";function re(w,k){var R=s,Q=S[v][E](w);Q===Y&&(w={stack:We(w.stack),message:We(w.message),name:We(w.name)});try{R=JSON.stringify(w,i,k?typeof k=="number"?k:4:n),R=(R?R.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||We(w)}catch(ce){R=" - "+re(ce,k)}return Q+": "+R}o(re,"dumpObj");function Ne(w){throw new Error(w)}o(Ne,"throwError");function Se(w){throw new TypeError(w)}o(Se,"throwTypeError");var Ce=r(b,"freeze");function Ue(w){return w}o(Ue,"_doNothing");function Ve(w){return w[u]||i}o(Ve,"_getProto");var et=r(b,"assign"),yt=r(b,"keys"),Rt=t(Ce,Ue),At=t(r(b,"getPrototypeOf"),Ve);function Vt(w){return Pe(w,1,0,Rt)}o(Vt,"createEnum");function $t(w){var k={};return Je(w,function(R,Q){Ae(k,R,Q[1]),Ae(k,Q[0],Q[1])}),Rt(k)}o($t,"createSimpleMap");function nr(w){return $t(w)}o(nr,"createTypeMap");var ge="__tsUtils$gblCfg",Le;function Ke(){var w;return typeof globalThis!==f&&(w=globalThis),!w&&typeof self!==f&&(w=self),!w&&typeof window!==f&&(w=window),!w&&typeof global!==f&&(w=global),w}o(Ke,"_getGlobalValue");function rt(){if(!Le){var w=X(Ke).v||{};Le=w[ge]=w[ge]||{}}return Le}o(rt,"_getGlobalConfig");var St=Et;function Et(w,k,R){var Q=k?k[w]:i;return function(ce){var Te=(ce?ce[w]:i)||Q;if(Te||R){var ke=arguments;return(Te||R).apply(ce,Te?de[E](ke,1):ke)}Se('"'+We(w)+'" not defined for '+re(ce))}}o(Et,"_unwrapFunctionWithPoly");var Lt=r(F,"min"),Mt=r(F,"max"),Tt=St("slice",D),_t=St("substring",D),wt=Et("substr",D,Ut);function Ut(w,k,R){return M(w)&&Se("Invalid "+re(w)),R<0?s:(k=k||0,k<0&&(k=Mt(k+w[A],0)),z(R)?Tt(w,k):Tt(w,k,k+R))}o(Ut,"polyStrSubstr");function Wt(w,k){return _t(w,0,k)}o(Wt,"strLeft");var zt="_urid",lr;function hr(){if(!lr){var w=rt();lr=w.gblSym=w.gblSym||{k:{},s:{}}}return lr}o(hr,"_globalSymbolRegistry");function sr(w){var k={description:We(w),toString:o(function(){return h+"("+w+")"},"toString")};return k[p]=!0,k}o(sr,"polyNewSymbol");function cr(w){var k=hr();if(!Oe(k.k,w)){var R=sr(w),Q=yt(k.s).length;R[zt]=function(){return Q+"_"+R[v]()},k.k[w]=R,k.s[R[zt]()]=We(w)}return k.k[w]}o(cr,"polySymbolFor");var Zt;function ur(){Zt=rt()}o(ur,"_initTestHooks");function ve(w){return st({toJSON:o(function(){return w},"toJSON")},"v",{value:w})}o(ve,"createCachedValue");var O="window",me;function ye(w,k){var R;return function(){return!Zt&&ur(),(!R||Zt.lzy)&&(R=ve(X(w,k).v)),R.v}}o(ye,"_getGlobalInstFn");function K(w){return!Zt&&ur(),(!me||w===!1||Zt.lzy)&&(me=ve(X(Ke).v||i)),me.v}o(K,"getGlobal");function L(w,k){var R;if(!me||k===!1?R=K(k):R=me.v,R&&R[w])return R[w];if(w===O)try{return window}catch{}return i}o(L,"getInst");var Ie=ye(L,["document"]);function Me(){return!!Ct()}o(Me,"hasWindow");var Ct=ye(L,[O]);function qt(){return!!Ft()}o(qt,"hasNavigator");var Ft=ye(L,["navigator"]),tr,ir;function Ot(){return tr=ve(X(L,[h]).v),tr}o(Ot,"_initSymbol");function vt(w){var k=(Zt.lzy?0:tr)||Ot();return k.v?k.v[w]:n}o(vt,"_getSymbolKey");function ar(w,k){!Zt&&ur();var R=(Zt.lzy?0:tr)||Ot();return R.v?R.v(w):k?i:sr(w)}o(ar,"newSymbol");function Po(w){return!Zt&&ur(),ir=(Zt.lzy?0:ir)||ve(X(vt,["for"]).v),(ir.v||cr)(w)}o(Po,"symbolFor");function Gd(w,k,R){return w.apply(k,R)}o(Gd,"fnApply");function rl(w,k,R){if(w)for(var Q=w[A]>>>0,ce=0;ce<Q&&!(ce in w&&k[E](R||w,w[ce],ce,w)===-1);ce++);}o(rl,"arrForEach");var Hd=St("indexOf",ee),gf=St("map",ee),Os=St("reduce",ee),Ch=t(r(b,"create"),wA);function wA(w){if(!w)return{};var k=typeof w;k!==l&&k!==a&&Se("Prototype must be an Object or function: "+re(w));function R(){}return o(R,"tempFunc"),R[c]=w,new R}o(wA,"polyObjCreate");var J6;function Vd(w,k){var R=b.setPrototypeOf||function(Q,ce){var Te;!J6&&(J6=ve((Te={},Te[u]=[],Te instanceof Array))),J6.v?Q[u]=ce:Je(ce,function(ke,He){return Q[ke]=He})};return R(w,k)}o(Vd,"objSetPrototypeOf");function FV(w,k,R){X(oe,[k,x,{v:w,c:!0,e:!1}]),k=Vd(k,R);function Q(){this[m]=k,X(oe,[this,x,{v:w,c:!0,e:!1}])}return o(Q,"__"),k[c]=R===i?Ch(R):(Q[c]=R[c],new Q),k}o(FV,"_createCustomError");function xh(w,k){k&&(w[x]=k)}o(xh,"_setName");function NV(w,k,R){var Q=R||Error,ce=Q[c][x],Te=Error.captureStackTrace;return FV(w,function(){var ke=this,He=arguments;try{X(xh,[Q,w]);var it=Gd(Q,ke,de[E](He))||ke;if(it!==ke){var xt=At(ke);xt!==At(it)&&Vd(it,xt)}return Te&&Te(it,ke[m]),k&&k(it,He),it}finally{X(xh,[Q,ce])}},Q)}o(NV,"createCustomError");function xg(){return(Date.now||X6)()}o(xg,"utcNow");function X6(){return new Date().getTime()}o(X6,"polyUtcNow");function Hx(w){return o(function(R){return M(R)&&Se("strTrim called ["+re(R)+"]"),R&&R.replace&&(R=R.replace(w,s)),R},"_doTrim")}o(Hx,"_createTrimFn");var LV=Hx(/^\s+|(?=\s)\s+$/g),o0=Et("trim",D,LV),Eh=r(F,"floor"),fC,Eg,dC;function bh(w){if(!w||typeof w!==l)return!1;dC||(dC=Me()?Ct():!0);var k=!1;if(w!==dC){Eg||(fC=Function[c][v],Eg=fC[E](b));try{var R=At(w);k=!R,k||(Ee(R,m)&&(R=R[m]),k=!!(R&&typeof R===a&&fC[E](R)===Eg))}catch{}}return k}o(bh,"isPlainObject");var Vx;function mC(){return!Zt&&ur(),(!Vx||Zt.lzy)&&(Vx=ve(X(L,["performance"]).v)),Vx.v}o(mC,"getPerformance");var Z6=r(F,"round"),SA=Et("endsWith",D,_A);function _A(w,k,R){Z(w)||Se("'"+re(w)+"' is not a string");var Q=Z(k)?k:We(k),ce=!z(R)&&R<w[A]?R:w[A];return _t(w,ce-Q[A],ce)===Q}o(_A,"polyStrEndsWith");var Gr=St("indexOf",D),D0="ref",bg="unref",kA="hasRef",QV="enabled";function vh(w,k,R){var Q=!0,ce=w?k(i):i,Te;function ke(){return Q=!1,ce&&ce[bg]&&ce[bg](),Te}o(ke,"_unref");function He(){ce&&R(ce),ce=i}o(He,"_cancel");function it(){return ce=k(ce),Q||ke(),Te}o(it,"_refresh");function xt(yr){!yr&&ce&&He(),yr&&!ce&&it()}return o(xt,"_setEnabled"),Te={cancel:He,refresh:it},Te[kA]=function(){return ce&&ce[kA]?ce[kA]():Q},Te[D0]=function(){return Q=!0,ce&&ce[D0]&&ce[D0](),Te},Te[bg]=ke,Te=st(Te,QV,{get:o(function(){return!!ce},"get"),set:xt}),{h:Te,dn:o(function(){ce=i},"dn")}}o(vh,"_createTimerHandler");function MV(w,k,R){var Q=le(k),ce=Q?k.length:0,Te=(ce>0?k[0]:Q?n:k)||setTimeout,ke=(ce>1?k[1]:n)||clearTimeout,He=R[0];R[0]=function(){it.dn(),Gd(He,n,de[E](arguments))};var it=vh(w,function(xt){if(xt){if(xt.refresh)return xt.refresh(),xt;Gd(ke,n,[xt])}return Gd(Te,n,R)},function(xt){Gd(ke,n,[xt])});return it.h}o(MV,"_createTimeoutWith");function e9(w,k){return MV(!0,n,de[E](arguments))}o(e9,"scheduleTimeout");var hC=Vt,OV=nr,pC="toLowerCase",Ca="length",Ih="warnToConsole",gC="throwInternal",_k="watch",UV="apply",Pi="push",vg="splice",Th="logger",t9="cancel",AC="name",P0="unload",kk="version",Bk="loggingLevelConsole",r9="messageId",Ig="message",n9="diagLog",Rk="userAgent",i9="split",BA="replace",wh="type",Dk="evtName",jx="traceFlags",o9="getAttribute",$x;function qV(w,k){$x||($x=NV("AggregationError",function(Q,ce){ce[Ca]>1&&(Q.errors=ce[1])}));var R=w||"One or more errors occurred.";throw rl(k,function(Q,ce){R+=`
`.concat(ce," > ").concat(re(Q))}),new $x(R,k||[])}o(qV,"throwAggregationError");var WV="function",Pk="object",GV="undefined",jd="prototype",zx=Object,s9=zx[jd];(K()||{}).Symbol,(K()||{}).Reflect;var Yx="hasOwnProperty",HV=o(function(w){for(var k,R=1,Q=arguments.length;R<Q;R++){k=arguments[R];for(var ce in k)s9[Yx].call(k,ce)&&(w[ce]=k[ce])}return w},"__objAssignFnImpl"),Kx=et||HV,Jx=o(function(w,k){return Jx=zx.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,Q){R.__proto__=Q}||function(R,Q){for(var ce in Q)Q[Yx](ce)&&(R[ce]=Q[ce])},Jx(w,k)},"extendStaticsFn");function Sh(w,k){typeof k!==WV&&k!==null&&Se("Class extends value "+String(k)+" is not a constructor or null"),Jx(w,k);function R(){this.constructor=w}o(R,"__"),w[jd]=k===null?Ch(k):(R[jd]=k[jd],new R)}o(Sh,"__extendsFn");var Xx,Tg="constructor",dc="prototype",mc="function",wg="_dynInstFuncs",RA="_isDynProxy",_h="_dynClass",DA="_dynCls$",a9="_dynInstChk",Sg=a9,PA="_dfOpts",l9="_unknown_",Zx="__proto__",FA="_dyn"+Zx,yC="__dynProto$Gbl",eE="_dynInstProto",NA="useBaseInst",LA="setInstFuncs",CC=Object,_g=CC.getPrototypeOf,QA=CC.getOwnPropertyNames,c9=K(),tE=c9[yC]||(c9[yC]={o:(Xx={},Xx[LA]=!0,Xx[NA]=!0,Xx),n:1e3});function MA(w){return w&&(w===CC[dc]||w===Array[dc])}o(MA,"_isObjectOrArrayPrototype");function OA(w){return MA(w)||w===Function[dc]}o(OA,"_isObjectArrayOrFunctionPrototype");function $d(w){var k;if(w){if(_g)return _g(w);var R=w[Zx]||w[dc]||(w[Tg]?w[Tg][dc]:null);k=w[FA]||R,Ee(w,FA)||(delete w[eE],k=w[FA]=w[eE]||w[FA],w[eE]=R)}return k}o($d,"_getObjProto");function Af(w,k){var R=[];if(QA)R=QA(w);else for(var Q in w)typeof Q=="string"&&Ee(w,Q)&&R.push(Q);if(R&&R.length>0)for(var ce=0;ce<R.length;ce++)k(R[ce])}o(Af,"_forEachProp");function UA(w,k,R){return k!==Tg&&typeof w[k]===mc&&(R||Ee(w,k))&&k!==Zx&&k!==dc}o(UA,"_isDynamicCandidate");function qA(w){Se("DynamicProto: "+w)}o(qA,"_throwTypeError");function rE(w){var k=Ch(null);return Af(w,function(R){!k[R]&&UA(w,R,!1)&&(k[R]=w[R])}),k}o(rE,"_getInstanceFuncs");function u9(w,k){for(var R=w.length-1;R>=0;R--)if(w[R]===k)return!0;return!1}o(u9,"_hasVisited");function f9(w,k,R,Q){function ce(it,xt,yr){var An=xt[yr];if(An[RA]&&Q){var Rn=it[wg]||{};Rn[Sg]!==!1&&(An=(Rn[xt[_h]]||{})[yr]||An)}return function(){return An.apply(it,arguments)}}o(ce,"_instFuncProxy");var Te=Ch(null);Af(R,function(it){Te[it]=ce(k,R,it)});for(var ke=$d(w),He=[];ke&&!OA(ke)&&!u9(He,ke);)Af(ke,function(it){!Te[it]&&UA(ke,it,!_g)&&(Te[it]=ce(k,ke,it))}),He.push(ke),ke=$d(ke);return Te}o(f9,"_getBaseFuncs");function VV(w,k,R,Q){var ce=null;if(w&&Ee(R,_h)){var Te=w[wg]||Ch(null);if(ce=(Te[R[_h]]||Ch(null))[k],ce||qA("Missing ["+k+"] "+mc),!ce[a9]&&Te[Sg]!==!1){for(var ke=!Ee(w,k),He=$d(w),it=[];ke&&He&&!OA(He)&&!u9(it,He);){var xt=He[k];if(xt){ke=xt===Q;break}it.push(He),He=$d(He)}try{ke&&(w[k]=ce),ce[a9]=1}catch{Te[Sg]=!1}}}return ce}o(VV,"_getInstFunc");function jV(w,k,R){var Q=k[w];return Q===R&&(Q=$d(k)[w]),typeof Q!==mc&&qA("["+w+"] is not a "+mc),Q}o(jV,"_getProtoFunc");function $V(w,k,R,Q,ce){function Te(it,xt){var yr=o(function(){var An=VV(this,xt,it,yr)||jV(xt,it,yr);return An.apply(this,arguments)},"dynProtoProxy");return yr[RA]=1,yr}if(o(Te,"_createDynamicPrototype"),!MA(w)){var ke=R[wg]=R[wg]||Ch(null);if(!MA(ke)){var He=ke[k]=ke[k]||Ch(null);ke[Sg]!==!1&&(ke[Sg]=!!ce),MA(He)||Af(R,function(it){UA(R,it,!1)&&R[it]!==Q[it]&&(He[it]=R[it],delete R[it],(!Ee(w,it)||w[it]&&!w[it][RA])&&(w[it]=Te(w,it)))})}}}o($V,"_populatePrototype");function zV(w,k){if(_g){for(var R=[],Q=$d(k);Q&&!OA(Q)&&!u9(R,Q);){if(Q===w)return!0;R.push(Q),Q=$d(Q)}return!1}return!0}o(zV,"_checkPrototype");function d9(w,k){return Ee(w,dc)?w.name||k||l9:((w||{})[Tg]||{}).name||k||l9}o(d9,"_getObjName");function xC(w,k,R,Q){Ee(w,dc)||qA("theClass is an invalid class definition.");var ce=w[dc];zV(ce,k)||qA("["+d9(w)+"] not in hierarchy of ["+d9(k)+"]");var Te=null;Ee(ce,_h)?Te=ce[_h]:(Te=DA+d9(w,"_")+"$"+tE.n,tE.n++,ce[_h]=Te);var ke=xC[PA],He=!!ke[NA];He&&Q&&Q[NA]!==void 0&&(He=!!Q[NA]);var it=rE(k),xt=f9(ce,k,it,He);R(k,xt);var yr=!!_g&&!!ke[LA];yr&&Q&&(yr=!!Q[LA]),$V(ce,Te,k,it,yr!==!1)}o(xC,"dynamicProto"),xC[PA]=tE.o;var Rl=void 0,Ss="",Fk="Not dynamic - ",Nk=/-([a-z])/g,EC=/([^\w\d_$])/g,m9=/^(\d+[\w\d_$])/;function h9(w){return!M(w)}o(h9,"isNotNullOrUndefined");function nE(w){var k=w;return k&&Z(k)&&(k=k[BA](Nk,function(R,Q){return Q.toUpperCase()}),k=k[BA](EC,"_"),k=k[BA](m9,function(R,Q){return"_"+Q})),k}o(nE,"normalizeJsName");function Lk(w,k){return w&&k?Gr(w,k)!==-1:!1}o(Lk,"strContains");function zd(w){return w&&w.toISOString()||""}o(zd,"toISOString");function kh(w){return fe(w)?w[AC]:Ss}o(kh,"getExceptionName");function bC(w){return function(){function k(){var R=this;w&&Je(w,function(Q,ce){R[Q]=ce})}return o(k,"class_1"),k}()}o(bC,"createClassFromInterface");var Qk="console",iE="JSON",YV="crypto",Bh="msCrypto",WA="msie",Qn="trident/",GA=null,kg=null,Yd=null;function oE(){return typeof console!==GV?console:L(Qk)}o(oE,"getConsole");function Fi(){return!!(typeof JSON===Pk&&JSON||L(iE)!==null)}o(Fi,"hasJSON");function HA(){return Fi()?JSON||L(iE):null}o(HA,"getJSON");function ta(){return L(YV)}o(ta,"getCrypto");function VA(){return L(Bh)}o(VA,"getMsCrypto");function vC(){var w=Ft();if(w&&(w[Rk]!==kg||GA===null)){kg=w[Rk];var k=(kg||Ss)[pC]();GA=Lk(k,WA)||Lk(k,Qn)}return GA}o(vC,"isIE");function Rh(w){return(Yd===null||w===!1)&&(Yd=qt()&&!!Ft().sendBeacon),Yd}o(Rh,"isBeaconsSupported");function IC(w,k){if(w)for(var R=0;R<w[Ca];R++){var Q=w[R];if(Q[AC]&&Q[AC]===k)return Q}return{}}o(IC,"_getNamedValue");function sE(w){var k=Ie();return k&&w?IC(k.querySelectorAll("meta"),w).content:null}o(sE,"findMetaTag");function yf(w){var k,R=mC();if(R){var Q=R.getEntriesByType("navigation")||[];k=IC((Q[Ca]>0?Q[0]:{}).serverTiming,w).description}return k}o(yf,"findNamedServerTiming");var jA=4294967296,lu=4294967295,$A=123456789,Dh=987654321,nl=!1,zA=$A,Cf=Dh;function Mk(w){w<0&&(w>>>=0),zA=$A+w&lu,Cf=Dh-w&lu,nl=!0}o(Mk,"_mwcSeed");function Bg(){try{var w=xg()&2147483647;Mk((Math.random()*jA^w)+w)}catch{}}o(Bg,"_autoSeedMwc");function aE(w){return w>0?Eh(YA()/lu*(w+1))>>>0:0}o(aE,"randomValue");function YA(w){var k=0,R=ta()||VA();return R&&R.getRandomValues&&(k=R.getRandomValues(new Uint32Array(1))[0]&lu),k===0&&vC()&&(nl||Bg(),k=Ok()&lu),k===0&&(k=Eh(jA*Math.random()|0)),w||(k>>>=0),k}o(YA,"random32");function Ok(w){Cf=36969*(Cf&65535)+(Cf>>16)&lu,zA=18e3*(zA&65535)+(zA>>16)&lu;var k=(Cf<<16)+(zA&65535)>>>0&lu|0;return w||(k>>>=0),k}o(Ok,"mwcRandom32");function Rg(w){w===void 0&&(w=22);for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=YA()>>>0,Q=0,ce=Ss;ce[Ca]<w;)Q++,ce+=k.charAt(R&63),R>>>=6,Q===5&&(R=(YA()<<2&4294967295|R&3)>>>0,Q=0);return ce}o(Rg,"newId");var xf="3.3.6",lE="."+Rg(6),Dg=0;function Ef(w){return w.nodeType===1||w.nodeType===9||!+w.nodeType}o(Ef,"_canAcceptData");function cE(w,k){var R=k[w.id];if(!R){R={};try{Ef(k)&&oe(k,w.id,{e:!1,v:R})}catch{}}return R}o(cE,"_getCache");function Kd(w,k){return k===void 0&&(k=!1),nE(w+Dg+++(k?"."+xf:Ss)+lE)}o(Kd,"createUniqueNamespace");function bf(w){var k={id:Kd("_aiData-"+(w||Ss)+"."+xf),accept:o(function(R){return Ef(R)},"accept"),get:o(function(R,Q,ce,Te){var ke=R[k.id];return ke?ke[nE(Q)]:(Te&&(ke=cE(k,R),ke[nE(Q)]=ce),ce)},"get"),kill:o(function(R,Q){if(R&&R[Q])try{delete R[Q]}catch{}},"kill")};return k}o(bf,"createElmNodeData");function Ph(w){return w&&ne(w)&&(w.isVal||w.fb||Oe(w,"v")||Oe(w,"mrg")||Oe(w,"ref")||w.set)}o(Ph,"_isConfigDefaults");function uE(w,k,R){var Q,ce=R.dfVal||j;if(k&&R.fb){var Te=R.fb;le(Te)||(Te=[Te]);for(var ke=0;ke<Te[Ca];ke++){var He=Te[ke],it=k[He];if(ce(it)?Q=it:w&&(it=w.cfg[He],ce(it)&&(Q=it),w.set(w.cfg,We(He),it)),ce(Q))break}}return!ce(Q)&&ce(R.v)&&(Q=R.v),Q}o(uE,"_getDefault");function Fh(w,k,R){var Q=R;if(R&&Ph(R)&&(Q=uE(w,k,R)),Q){Ph(Q)&&(Q=Fh(w,k,Q));var ce;le(Q)?(ce=[],ce[Ca]=Q[Ca]):bh(Q)&&(ce={}),ce&&(Je(Q,function(Te,ke){ke&&Ph(ke)&&(ke=Fh(w,k,ke)),ce[Te]=ke}),Q=ce)}return Q}o(Fh,"_resolveDefaultValue");function Nh(w,k,R,Q){var ce,Te,ke,He=Q,it,xt,yr,An;Ph(He)?(ce=He.isVal,Te=He.set,yr=He.rdOnly,An=He.blkVal,it=He.mrg,xt=He.ref,!xt&&z(xt)&&(xt=!!it),ke=uE(w,k,He)):ke=Q,An&&w.blkVal(k,R);var Rn,br=!0,Br=k[R];(Br||!M(Br))&&(Rn=Br,br=!1,ce&&Rn!==ke&&!ce(Rn)&&(Rn=ke,br=!0),Te&&(Rn=Te(Rn,ke,k),br=Rn===ke)),br?ke?Rn=Fh(w,k,ke):Rn=ke:(bh(Rn)||le(ke))&&it&&ke&&(bh(ke)||le(ke))&&Je(ke,function(kn,yn){Nh(w,Rn,kn,yn)}),w.set(k,R,Rn),xt&&w.ref(k,R),yr&&w.rdOnly(k,R)}o(Nh,"_applyDefaultValue");var Dl=Po("[[ai_dynCfg_1]]"),p9=Po("[[ai_blkDynCfg_1]]"),TC=Po("[[ai_frcDynCfg_1]]");function g9(w){if(w){var k;if(le(w)?(k=[],k[Ca]=w[Ca]):bh(w)&&(k={}),k)return Je(w,function(R,Q){k[R]=g9(Q)}),k}return w}o(g9,"_cfgDeepCopy");function A9(w){if(w){var k=w[Dl]||w;if(k.cfg&&(k.cfg===w||k.cfg[Dl]===k))return k}return null}o(A9,"getDynamicConfigHandler");function KA(w){if(w&&(bh(w)||le(w)))try{w[p9]=!0}catch{}return w}o(KA,"blockDynamicConversion");function Lh(w,k,R){var Q=!1;return R&&!w[k.blkVal]&&(Q=R[TC],!Q&&!R[p9]&&(Q=bh(R)||le(R))),Q}o(Lh,"_canMakeDynamic");function cu(w){Se("InvalidAccess:"+w)}o(cu,"throwInvalidAccess");var Uk=["push","pop","shift","unshift","splice"],Jd=o(function(w,k,R,Q){w&&w[gC](3,108,"".concat(R," [").concat(k,"] failed - ")+re(Q))},"_throwDynamicError");function y9(w,k,R){le(k)&&rl(Uk,function(Q){var ce=k[Q];k[Q]=function(){for(var Te=[],ke=0;ke<arguments.length;ke++)Te[ke]=arguments[ke];var He=ce[UV](this,Te);return Pg(w,k,R,"Patching"),He}})}o(y9,"_patchArray");function Xd(w,k){var R=Re(w,k);return R&&R.get}o(Xd,"_getOwnPropGetter");function qk(w,k,R,Q){var ce={n:R,h:[],trk:o(function(xt){xt&&xt.fn&&(Hd(ce.h,xt)===-1&&ce.h[Pi](xt),w.trk(xt,ce))},"trk"),clr:o(function(xt){var yr=Hd(ce.h,xt);yr!==-1&&ce.h[vg](yr,1)},"clr")},Te=!0,ke=!1;function He(){Te&&(ke=ke||Lh(He,w,Q),Q&&!Q[Dl]&&ke&&(Q=Pg(w,Q,R,"Converting")),Te=!1);var xt=w.act;return xt&&ce.trk(xt),Q}o(He,"_getProperty"),He[w.prop]={chng:o(function(){w.add(ce)},"chng")};function it(xt){if(Q!==xt){He[w.ro]&&!w.upd&&cu("["+R+"] is read-only:"+re(k)),Te&&(ke=ke||Lh(He,w,Q),Te=!1);var yr=ke&&He[w.rf];if(ke)if(yr){Je(Q,function(Rn){Q[Rn]=xt?xt[Rn]:Rl});try{Je(xt,function(Rn,br){JA(w,Q,Rn,br)}),xt=Q}catch(Rn){Jd((w.hdlr||{})[Th],R,"Assigning",Rn),ke=!1}}else Q&&Q[Dl]&&Je(Q,function(Rn){var br=Xd(Q,Rn);if(br){var Br=br[w.prop];Br&&Br.chng()}});if(xt!==Q){var An=xt&&Lh(He,w,xt);!yr&&An&&(xt=Pg(w,xt,R,"Converting")),Q=xt,ke=An}w.add(ce)}}o(it,"_setProperty"),oe(k,ce.n,{g:He,s:it})}o(qk,"_createDynamicProperty");function JA(w,k,R,Q){if(k){var ce=Xd(k,R),Te=ce&&!!ce[w.prop];Te?k[R]=Q:qk(w,k,R,Q)}return k}o(JA,"_setDynamicProperty");function C9(w,k,R,Q){if(k){var ce=Xd(k,R),Te=ce&&!!ce[w.prop],ke=Q&&Q[0],He=Q&&Q[1],it=Q&&Q[2];if(!Te){if(it)try{KA(k)}catch(xt){Jd((w.hdlr||{})[Th],R,"Blocking",xt)}try{JA(w,k,R,k[R]),ce=Xd(k,R)}catch(xt){Jd((w.hdlr||{})[Th],R,"State",xt)}}ke&&(ce[w.rf]=ke),He&&(ce[w.ro]=He),it&&(ce[w.blkVal]=!0)}return k}o(C9,"_setDynamicPropertyState");function Pg(w,k,R,Q){try{Je(k,function(ce,Te){JA(w,k,ce,Te)}),k[Dl]||(st(k,Dl,{get:o(function(){return w.hdlr},"get")}),y9(w,k,R))}catch(ce){Jd((w.hdlr||{})[Th],R,Q,ce)}return k}o(Pg,"_makeDynamicObject");var Fg="[[ai_",hc="]]";function Wk(w){var k=ar(Fg+"get"+w.uid+hc),R=ar(Fg+"ro"+w.uid+hc),Q=ar(Fg+"rf"+w.uid+hc),ce=ar(Fg+"blkVal"+w.uid+hc),Te=ar(Fg+"dtl"+w.uid+hc),ke=null,He=null,it;function xt(br,Br){var kn=it.act;try{it.act=br,br&&br[Te]&&(rl(br[Te],function(si){si.clr(br)}),br[Te]=[]),Br({cfg:w.cfg,set:w.set.bind(w),setDf:w.setDf.bind(w),ref:w.ref.bind(w),rdOnly:w.rdOnly.bind(w)})}catch(si){var yn=w[Th];throw yn&&yn[gC](1,107,re(si)),si}finally{it.act=kn||null}}o(xt,"_useHandler");function yr(){if(ke){var br=ke;ke=null,He&&He[t9](),He=null;var Br=[];if(rl(br,function(kn){if(kn&&(kn[Te]&&(rl(kn[Te],function(yn){yn.clr(kn)}),kn[Te]=null),kn.fn))try{xt(kn,kn.fn)}catch(yn){Br[Pi](yn)}}),ke)try{yr()}catch(kn){Br[Pi](kn)}Br[Ca]>0&&qV("Watcher error(s): ",Br)}}o(yr,"_notifyWatchers");function An(br){if(br&&br.h[Ca]>0){ke||(ke=[]),He||(He=e9(function(){He=null,yr()},0));for(var Br=0;Br<br.h[Ca];Br++){var kn=br.h[Br];kn&&Hd(ke,kn)===-1&&ke[Pi](kn)}}}o(An,"_addWatcher");function Rn(br,Br){if(br){var kn=br[Te]=br[Te]||[];Hd(kn,Br)===-1&&kn[Pi](Br)}}return o(Rn,"_trackHandler"),it={prop:k,ro:R,rf:Q,blkVal:ce,hdlr:w,add:An,notify:yr,use:xt,trk:Rn},it}o(Wk,"_createState");function KV(w,k){var R={fn:k,rm:o(function(){R.fn=null,w=null,k=null},"rm")};return oe(R,"toJSON",{v:o(function(){return"WatcherHandler"+(R.fn?"":"[X]")},"v")}),w.use(R,k),R}o(KV,"_createAndUseHandler");function Gk(w,k,R){var Q=A9(k);if(Q)return Q;var ce=Kd("dyncfg",!0),Te=k&&R!==!1?k:g9(k),ke;function He(){ke.notify()}o(He,"_notifyWatchers");function it(yn,si,ji){try{yn=JA(ke,yn,si,ji)}catch(xi){Jd(w,si,"Setting value",xi)}return yn[si]}o(it,"_setValue");function xt(yn){return KV(ke,yn)}o(xt,"_watch");function yr(yn,si){ke.use(null,function(ji){var xi=ke.upd;try{z(si)||(ke.upd=si),yn(ji)}finally{ke.upd=xi}})}o(yr,"_block");function An(yn,si){var ji;return C9(ke,yn,si,(ji={},ji[0]=!0,ji))[si]}o(An,"_ref");function Rn(yn,si){var ji;return C9(ke,yn,si,(ji={},ji[1]=!0,ji))[si]}o(Rn,"_rdOnly");function br(yn,si){var ji;return C9(ke,yn,si,(ji={},ji[2]=!0,ji))[si]}o(br,"_blkPropValue");function Br(yn,si){return si&&Je(si,function(ji,xi){Nh(kn,yn,ji,xi)}),yn}o(Br,"_applyDefaults");var kn={uid:null,cfg:Te,logger:w,notify:He,set:it,setDf:Br,watch:xt,ref:An,rdOnly:Rn,blkVal:br,_block:yr};return oe(kn,"uid",{c:!1,e:!1,w:!1,v:ce}),ke=Wk(kn),Pg(ke,Te,"config","Creating"),kn}o(Gk,"_createDynamicHandler");function Hk(w,k){w?(w[Ih](k),w[gC](2,108,k)):cu(k)}o(Hk,"_logInvalidAccess");function wC(w,k,R,Q){var ce=Gk(R,w||{},Q);return k&&ce.setDf(ce.cfg,k),ce}o(wC,"createDynamicConfig");function Vk(w,k,R){var Q=w[Dl]||w;return Q.cfg&&(Q.cfg===w||Q.cfg[Dl]===Q)?Q[_k](k):(Hk(R,Fk+re(w)),wC(w,null,R)[_k](k))}o(Vk,"onConfigChange");var fE=null;function jk(){var w=L("Microsoft");return w&&(fE=w.ApplicationInsights),fE}o(jk,"_getExtensionNamespace");function JV(w){var k=fE;return!k&&w.disableDbgExt!==!0&&(k=fE||jk()),k?k.ChromeDbgExt:null}o(JV,"getDebugExt");var XA,dE="warnToConsole",$k="AI (Internal): ",zk="AI: ",XV="AITR_",ZV={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Yk=(XA={},XA[0]=null,XA[1]="errorToConsole",XA[2]=dE,XA[3]="debugToConsole",XA);function Kk(w){return w?'"'+w[BA](/\"/g,Ss)+'"':Ss}o(Kk,"_sanitizeDiagnosticText");function mE(w,k){var R=oE();if(R){var Q="log";R[w]&&(Q=w),ae(R[Q])&&R[Q](k)}}o(mE,"_logToConsole");var hE=function(){function w(k,R,Q,ce){Q===void 0&&(Q=!1);var Te=this;Te[r9]=k,Te[Ig]=(Q?zk:$k)+k;var ke=Ss;Fi()&&(ke=HA().stringify(ce));var He=(R?" message:"+Kk(R):Ss)+(ce?" props:"+Kk(ke):Ss);Te[Ig]+=He}return o(w,"_InternalLogMessage"),w.dataType="MessageData",w}();function ej(w,k){return(w||{})[Th]||new pE(k)}o(ej,"safeGetLogger");var pE=function(){function w(k){this.identifier="DiagnosticLogger",this.queue=[];var R=0,Q={},ce,Te,ke,He,it;xC(w,this,function(xt){it=An(k||{}),xt.consoleLoggingLevel=function(){return ce},xt[gC]=function(Br,kn,yn,si,ji){ji===void 0&&(ji=!1);var xi=new hE(kn,yn,ji,si);if(He)throw re(xi);var xa=Yk[Br]||dE;if(z(xi[Ig]))br("throw"+(Br===1?"Critical":"Warning"),xi);else{if(ji){var k2=+xi[r9];!Q[k2]&&ce>=Br&&(xt[xa](xi[Ig]),Q[k2]=!0)}else ce>=Br&&xt[xa](xi[Ig]);yr(Br,xi)}},xt.debugToConsole=function(Br){mE("debug",Br),br("warning",Br)},xt[Ih]=function(Br){mE("warn",Br),br("warning",Br)},xt.errorToConsole=function(Br){mE("error",Br),br("error",Br)},xt.resetInternalMessageCount=function(){R=0,Q={}},xt.logInternalMessage=yr,xt[P0]=function(Br){it&&it.rm(),it=null};function yr(Br,kn){if(!Rn()){var yn=!0,si=XV+kn[r9];if(Q[si]?yn=!1:Q[si]=!0,yn&&(Br<=Te&&(xt.queue[Pi](kn),R++,br(Br===1?"error":"warn",kn)),R===ke)){var ji="Internal events throttle limit per PageView reached for this app.",xi=new hE(23,ji,!1);xt.queue[Pi](xi),Br===1?xt.errorToConsole(ji):xt[Ih](ji)}}}o(yr,"_logInternalMessage");function An(Br){return Vk(wC(Br,ZV,xt).cfg,function(kn){var yn=kn.cfg;ce=yn[Bk],Te=yn.loggingLevelTelemetry,ke=yn.maxMessageLimit,He=yn.enableDebug})}o(An,"_setDefaultsFromConfig");function Rn(){return R>=ke}o(Rn,"_areInternalMessagesThrottled");function br(Br,kn){var yn=JV(k||{});yn&&yn[n9]&&yn[n9](Br,kn)}o(br,"_debugExtMsg")})}return o(w,"DiagnosticLogger"),w.__ieDyn=1,w}();function gE(w){return w||new pE}o(gE,"_getLogger");function F0(w,k,R,Q,ce,Te){Te===void 0&&(Te=!1),gE(w)[gC](k,R,Q,ce,Te)}o(F0,"_throwInternal");function AE(){for(var w=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],k=Ss,R,Q=0;Q<4;Q++)R=YA(),k+=w[R&15]+w[R>>4&15]+w[R>>8&15]+w[R>>12&15]+w[R>>16&15]+w[R>>20&15]+w[R>>24&15]+w[R>>28&15];var ce=w[8+(YA()&3)|0];return wt(k,0,8)+wt(k,9,4)+"4"+wt(k,13,3)+ce+wt(k,16,3)+wt(k,19,12)}o(AE,"generateW3CId");var ZA=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,x9="00",pc="ff",oi="00000000000000000000000000000000",Zd="0000000000000000",ra=1;function uu(w,k,R){return w&&w[Ca]===k&&w!==R?!!w.match(/^[\da-f]*$/i):!1}o(uu,"_isValid");function yE(w,k,R){return uu(w,k)?w:R}o(yE,"_formatValue");function Ng(w){(isNaN(w)||w<0||w>255)&&(w=1);for(var k=w.toString(16);k[Ca]<2;)k="0"+k;return k}o(Ng,"_formatFlags");function e2(w,k,R,Q){return{version:uu(Q,2,pc)?Q:x9,traceId:t2(w)?w:AE(),spanId:r2(k)?k:Wt(AE(),16),traceFlags:R>=0&&R<=255?R:1}}o(e2,"createTraceParent");function gc(w,k){if(!w||(le(w)&&(w=w[0]||""),!w||!Z(w)||w[Ca]>8192))return null;if(w.indexOf(",")!==-1){var R=w[i9](",");w=R[k>0&&R[Ca]>k?k:0]}var Q=ZA.exec(o0(w));return!Q||Q[1]===pc||Q[2]===oi||Q[3]===Zd?null:{version:(Q[1]||Ss)[pC](),traceId:(Q[2]||Ss)[pC](),spanId:(Q[3]||Ss)[pC](),traceFlags:parseInt(Q[4],16)}}o(gc,"parseTraceParent");function t2(w){return uu(w,32,oi)}o(t2,"isValidTraceId");function r2(w){return uu(w,16,Zd)}o(r2,"isValidSpanId");function n2(w){return!(!w||!uu(w[kk],2,pc)||!uu(w.traceId,32,oi)||!uu(w.spanId,16,Zd)||!uu(Ng(w[jx]),2))}o(n2,"isValidTraceParent");function CE(w){return n2(w)?(w[jx]&ra)===ra:!1}o(CE,"isSampledFlag");function Lg(w){if(w){var k=Ng(w[jx]);uu(k,2)||(k="01");var R=w[kk]||x9;return R!=="00"&&R!=="ff"&&(R=x9),"".concat(R.toLowerCase(),"-").concat(yE(w.traceId,32,oi).toLowerCase(),"-").concat(yE(w.spanId,16,Zd).toLowerCase(),"-").concat(k.toLowerCase())}return""}o(Lg,"formatTraceParent");function E9(w){var k="traceparent",R=gc(sE(k),w);return R||(R=gc(yf(k),w)),R}o(E9,"findW3cTraceParent");function b9(w){var k=w.getElementsByTagName("script"),R=[];return rl(k,function(Q){var ce=Q[o9]("src");if(ce){var Te=Q[o9]("crossorigin"),ke=Q.hasAttribute("async")===!0,He=Q.hasAttribute("defer")===!0,it=Q[o9]("referrerpolicy"),xt={url:ce};Te&&(xt.crossOrigin=Te),ke&&(xt.async=ke),He&&(xt.defer=He),it&&(xt.referrerPolicy=it),R[Pi](xt)}}),R}o(b9,"findAllScripts");var xE="on",SC="attachEvent",EE="addEventListener",bE="detachEvent",Jk="removeEventListener",v9="events";Kd("aiEvtPageHide"),Kd("aiEvtPageShow");var tj=/\.[\.]+/g,rj=/[\.]+$/,vE=1,i2=bf("events"),il=/^([^.]*)(?:\.(.+)|)/;function _C(w){return w&&w[BA]?w[BA](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ss):w}o(_C,"_normalizeNamespace");function Va(w,k){if(k){var R=Ss;le(k)?(R=Ss,rl(k,function(ce){ce=_C(ce),ce&&(ce[0]!=="."&&(ce="."+ce),R+=ce)})):R=_C(k),R&&(R[0]!=="."&&(R="."+R),w=(w||Ss)+R)}var Q=il.exec(w||Ss)||[];return{type:Q[1],ns:(Q[2]||Ss).replace(tj,".").replace(rj,Ss)[i9](".").sort().join(".")}}o(Va,"_getEvtNamespace");function Qh(w,k,R){R===void 0&&(R=!0);var Q=i2.get(w,v9,{},R),ce=Q[k];return ce||(ce=Q[k]=[]),ce}o(Qh,"_getRegisteredEvents");function Xk(w,k,R,Q){w&&k&&k[wh]&&(w[Jk]?w[Jk](k[wh],R,Q):w[bE]&&w[bE](xE+k[wh],R))}o(Xk,"_doDetach");function nj(w,k,R,Q){var ce=!1;return w&&k&&k[wh]&&R&&(w[EE]?(w[EE](k[wh],R,Q),ce=!0):w[SC]&&(w[SC](xE+k[wh],R),ce=!0)),ce}o(nj,"_doAttach");function kC(w,k,R,Q){for(var ce=k[Ca];ce--;){var Te=k[ce];Te&&(!R.ns||R.ns===Te[Dk].ns)&&(!Q||Q(Te))&&(Xk(w,Te[Dk],Te.handler,Te.capture),k[vg](ce,1))}}o(kC,"_doUnregister");function I9(w,k,R){if(k[wh])kC(w,Qh(w,k[wh]),k,R);else{var Q=i2.get(w,v9,{});Je(Q,function(ce,Te){kC(w,Te,k,R)}),yt(Q)[Ca]===0&&i2.kill(w,v9)}}o(I9,"_unregisterEvents");function ij(w,k){var R;return k?(le(k)?R=[w].concat(k):R=[w,k],R=Va("xx",R).ns[i9](".")):R=w,R}o(ij,"mergeEvtNamespace");function T9(w,k,R,Q,ce){ce===void 0&&(ce=!1);var Te=!1;if(w)try{var ke=Va(k,Q);if(Te=nj(w,ke,R,ce),Te&&i2.accept(w)){var He={guid:vE++,evtName:ke,handler:R,capture:ce};Qh(w,ke.type)[Pi](He)}}catch{}return Te}o(T9,"eventOn");function Zk(w,k,R,Q,ce){if(ce===void 0&&(ce=!1),w)try{var Te=Va(k,Q),ke=!1;I9(w,Te,function(He){return Te.ns&&!R||He.handler===R?(ke=!0,!0):!1}),ke||Xk(w,Te,R,ce)}catch{}}o(Zk,"eventOff");var IE="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",eB="sampleRate",TE="ProcessLegacy",tB="http.method",w9="https://dc.services.visualstudio.com",BC="/v2/track",vf="not_specified",S9="iKey",rB=OV({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Mh="split",gn="length",o2="toLowerCase",Qg="ingestionendpoint",Mg="toString",_9="removeItem",RC="message",s2="count",wE="preTriggerDate",k9="getUTCDate",SE="stringify",a2="pathname",Og="match",B9="correlationHeaderExcludePatterns",Ac="name",l2="extensionConfig",If="properties",s0="measurements",c2="sizeInBytes",DC="typeName",u2="exceptions",PC="severityLevel",f2="problemGroup",N0="parsedStack",_E="hasFullStack",kE="assembly",fu="fileName",d2="line",Oh="aiDataContract",FC="duration";function R9(w,k,R){var Q=k[gn],ce=D9(w,k);if(ce[gn]!==Q){for(var Te=0,ke=ce;R[ke]!==void 0;)Te++,ke=_t(ce,0,147)+nB(Te);ce=ke}return ce}o(R9,"dataSanitizeKeyAndAddUniqueness");function D9(w,k){var R;return k&&(k=o0(We(k)),k[gn]>150&&(R=_t(k,0,150),F0(w,2,57,"name is too long.  It has been truncated to 150 characters.",{name:k},!0))),R||k}o(D9,"dataSanitizeKey");function ja(w,k,R){R===void 0&&(R=1024);var Q;return k&&(R=R||1024,k=o0(We(k)),k[gn]>R&&(Q=_t(k,0,R),F0(w,2,61,"string value is too long. It has been truncated to "+R+" characters.",{value:k},!0))),Q||k}o(ja,"dataSanitizeString");function Tf(w,k){return F9(w,k,2048,66)}o(Tf,"dataSanitizeUrl");function BE(w,k){var R;return k&&k[gn]>32768&&(R=_t(k,0,32768),F0(w,2,56,"message is too long, it has been truncated to 32768 characters.",{message:k},!0)),R||k}o(BE,"dataSanitizeMessage");function P9(w,k){var R;if(k){var Q=""+k;Q[gn]>32768&&(R=_t(Q,0,32768),F0(w,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:k},!0))}return R||k}o(P9,"dataSanitizeException");function em(w,k){if(k){var R={};Je(k,function(Q,ce){if(ne(ce)&&Fi())try{ce=HA()[SE](ce)}catch(Te){F0(w,2,49,"custom property is not valid",{exception:Te},!0)}ce=ja(w,ce,8192),Q=R9(w,Q,R),R[Q]=ce}),k=R}return k}o(em,"dataSanitizeProperties");function yc(w,k){if(k){var R={};Je(k,function(Q,ce){Q=R9(w,Q,R),R[Q]=ce}),k=R}return k}o(yc,"dataSanitizeMeasurements");function m2(w,k){return k&&F9(w,k,128,69)[Mg]()}o(m2,"dataSanitizeId");function F9(w,k,R,Q){var ce;return k&&(k=o0(We(k)),k[gn]>R&&(ce=_t(k,0,R),F0(w,2,Q,"input is too long, it has been truncated to "+R+" characters.",{data:k},!0))),ce||k}o(F9,"dataSanitizeInput");function nB(w){var k="00"+w;return wt(k,k[gn]-3)}o(nB,"dsPadNumber");var N9=Ie()||{},iB=0,oj=[null,null,null,null,null];function h2(w){var k=iB,R=oj,Q=R[k];return N9.createElement?R[k]||(Q=R[k]=N9.createElement("a")):Q={host:sB(w,!0)},Q.href=w,k++,k>=R[gn]&&(k=0),iB=k,Q}o(h2,"urlParseUrl");function sj(w){var k,R=h2(w);return R&&(k=R.href),k}o(sj,"urlGetAbsoluteUrl");function aj(w){var k,R=h2(w);return R&&(k=R[a2]),k}o(aj,"urlGetPathName");function oB(w,k){return w?w.toUpperCase()+" "+k:k}o(oB,"urlGetCompleteUrl");function sB(w,k){var R=tm(w,k)||"";if(R){var Q=R[Og](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[gn]>3&&Z(Q[2])&&Q[2][gn]>0)return Q[2]+(Q[3]||"")}return R}o(sB,"urlParseHost");function tm(w,k){var R=null;if(w){var Q=w[Og](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[gn]>2&&Z(Q[2])&&Q[2][gn]>0&&(R=Q[2]||"",k&&Q[gn]>2)){var ce=(Q[1]||"")[o2](),Te=Q[3]||"";(ce==="http"&&Te===":80"||ce==="https"&&Te===":443")&&(Te=""),R+=Te}}return R}o(tm,"urlParseFullHost");var aB=[w9+BC,"https://breeze.aimon.applicationinsights.io"+BC,"https://dc-int.services.visualstudio.com"+BC],p2="cid-v1:";function lB(w){return Hd(aB,w[o2]())!==-1}o(lB,"isInternalApplicationInsightsEndpoint");function L9(w){p2=w}o(L9,"correlationIdSetPrefix");function Q9(){return p2}o(Q9,"correlationIdGetPrefix");function Uh(w,k,R){if(!k||w&&w.disableCorrelationHeaders)return!1;if(w&&w[B9]){for(var Q=0;Q<w.correlationHeaderExcludePatterns[gn];Q++)if(w[B9][Q].test(k))return!1}var ce=h2(k).host[o2]();if(ce&&(Gr(ce,":443")!==-1||Gr(ce,":80")!==-1)&&(ce=(tm(k,!0)||"")[o2]()),(!w||!w.enableCorsCorrelation)&&ce&&ce!==R)return!1;var Te=w&&w.correlationHeaderDomains;if(Te){var ke;if(rl(Te,function(xt){var yr=new RegExp(xt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));ke=ke||yr.test(ce)}),!ke)return!1}var He=w&&w.correlationHeaderExcludedDomains;if(!He||He[gn]===0)return!0;for(var Q=0;Q<He[gn];Q++){var it=new RegExp(He[Q].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(it.test(ce))return!1}return ce&&ce[gn]>0}o(Uh,"correlationIdCanIncludeCorrelationHeader");function cB(w){if(w){var k=uB(w,rB[1]);if(k&&k!==p2)return k}}o(cB,"correlationIdGetCorrelationContext");function uB(w,k){if(w)for(var R=w[Mh](","),Q=0;Q<R[gn];++Q){var ce=R[Q][Mh]("=");if(ce[gn]===2&&ce[0]===k)return ce[1]}}o(uB,"correlationIdGetCorrelationContextValue");function fB(w,k,R,Q){var ce,Te=Q,ke=Q;if(k&&k[gn]>0){var He=h2(k);if(ce=He.host,!Te)if(He[a2]!=null){var it=He.pathname[gn]===0?"/":He[a2];it.charAt(0)!=="/"&&(it="/"+it),ke=He[a2],Te=ja(w,R?R+" "+it:it)}else Te=ja(w,k)}else ce=Q,Te=Q;return{target:ce,name:Te,data:ke}}o(fB,"AjaxHelperParseDependencyPath");function lj(){var w=mC();if(w&&w.now&&w.timing){var k=w.now()+w.timing.navigationStart;if(k>0)return k}return xg()}o(lj,"dateTimeUtilsNow");function cj(w,k){var R=null;return w!==0&&k!==0&&!M(w)&&!M(k)&&(R=k-w),R}o(cj,"dateTimeUtilsDuration");function M9(w,k){var R=w||{};return{getName:o(function(){return R[Ac]},"getName"),setName:o(function(Q){k&&k.setName(Q),R[Ac]=Q},"setName"),getTraceId:o(function(){return R.traceID},"getTraceId"),setTraceId:o(function(Q){k&&k.setTraceId(Q),t2(Q)&&(R.traceID=Q)},"setTraceId"),getSpanId:o(function(){return R.parentID},"getSpanId"),setSpanId:o(function(Q){k&&k.setSpanId(Q),r2(Q)&&(R.parentID=Q)},"setSpanId"),getTraceFlags:o(function(){return R.traceFlags},"getTraceFlags"),setTraceFlags:o(function(Q){k&&k.setTraceFlags(Q),R.traceFlags=Q},"setTraceFlags")}}o(M9,"createDistributedTraceContextFromTrace");var g2=hC({LocalStorage:0,SessionStorage:1}),uj=hC({AI:0,AI_AND_W3C:1,W3C:2}),NC=hC({Normal:1,Critical:2}),qh=void 0,du=void 0,dB="";function A2(){return RE()?y2(g2.LocalStorage):null}o(A2,"_getLocalStorageObject");function y2(w){try{if(M(K()))return null;var k=new Date()[Mg](),R=L(w===g2.LocalStorage?"localStorage":"sessionStorage"),Q=dB+k;R.setItem(Q,k);var ce=R.getItem(Q)!==k;if(R[_9](Q),!ce)return R}catch{}return null}o(y2,"_getVerifiedStorageObject");function C2(){return rm()?y2(g2.SessionStorage):null}o(C2,"_getSessionStorageObject");function LC(){qh=!1,du=!1}o(LC,"utlDisableStorage");function QC(w){dB=w||""}o(QC,"utlSetStoragePrefix");function fj(){qh=RE(!0),du=rm(!0)}o(fj,"utlEnableStorage");function RE(w){return(w||qh===void 0)&&(qh=!!y2(g2.LocalStorage)),qh}o(RE,"utlCanUseLocalStorage");function mB(w,k){var R=A2();if(R!==null)try{return R.getItem(k)}catch(Q){qh=!1,F0(w,2,1,"Browser failed read of local storage. "+kh(Q),{exception:re(Q)})}return null}o(mB,"utlGetLocalStorage");function hB(w,k,R){var Q=A2();if(Q!==null)try{return Q.setItem(k,R),!0}catch(ce){qh=!1,F0(w,2,3,"Browser failed write to local storage. "+kh(ce),{exception:re(ce)})}return!1}o(hB,"utlSetLocalStorage");function Cc(w,k){var R=A2();if(R!==null)try{return R[_9](k),!0}catch(Q){qh=!1,F0(w,2,5,"Browser failed removal of local storage item. "+kh(Q),{exception:re(Q)})}return!1}o(Cc,"utlRemoveStorage");function rm(w){return(w||du===void 0)&&(du=!!y2(g2.SessionStorage)),du}o(rm,"utlCanUseSessionStorage");function x2(){var w=[];return rm()&&Je(L("sessionStorage"),function(k){w.push(k)}),w}o(x2,"utlGetSessionStorageKeys");function pB(w,k){var R=C2();if(R!==null)try{return R.getItem(k)}catch(Q){du=!1,F0(w,2,2,"Browser failed read of session storage. "+kh(Q),{exception:re(Q)})}return null}o(pB,"utlGetSessionStorage");function dj(w,k,R){var Q=C2();if(Q!==null)try{return Q.setItem(k,R),!0}catch(ce){du=!1,F0(w,2,4,"Browser failed write to session storage. "+kh(ce),{exception:re(ce)})}return!1}o(dj,"utlSetSessionStorage");function gB(w,k){var R=C2();if(R!==null)try{return R[_9](k),!0}catch(Q){du=!1,F0(w,2,6,"Browser failed removal of session storage item. "+kh(Q),{exception:re(Q)})}return!1}o(gB,"utlRemoveSessionStorage");var mj="appInsightsThrottle",hj=function(){function w(k,R){var Q=this,ce,Te,ke,He,it,xt,yr,An=!1,Rn=!1;Br(),Q._getDbgPlgTargets=function(){return[yr]},Q.getConfig=function(){return ke},Q.canThrottle=function(Nt){var Lr=X9(Nt),tn=kn(Nt);return ji(tn,ce,Lr)},Q.isTriggered=function(Nt){return PB(Nt)},Q.isReady=function(){return An},Q.flush=function(Nt){try{var Lr=FB(Nt);if(Lr&&Lr[gn]>0){var tn=Lr.slice(0);return yr[Nt]=[],rl(tn,function(Eo){br(Eo.msgID,Eo[RC],Eo.severity,!1)}),!0}}catch{}return!1},Q.flushAll=function(){try{if(yr){var Nt=!0;return Je(yr,function(Lr){var tn=Q.flush(parseInt(Lr));Nt=Nt&&tn}),Nt}}catch{}return!1},Q.onReadyState=function(Nt,Lr){return Lr===void 0&&(Lr=!0),An=M(Nt)?!0:Nt,An&&Lr?Q.flushAll():null},Q.sendMessage=function(Nt,Lr,tn){return br(Nt,Lr,tn,!0)};function br(Nt,Lr,tn,Eo){if(An){var Ea=Dj(Nt);if(!Ea)return;var _s=kn(Nt),ba=X9(Nt),qg=ji(_s,ce,ba),jh=!1,B2=0,NB=PB(Nt);try{qg&&!NB?(B2=Lt(_s.limit.maxSendNumber,ba[s2]+1),ba[s2]=0,jh=!0,it[Nt]=!0,ba[wE]=new Date):(it[Nt]=qg,ba[s2]+=1);var LB=xi(Nt);J9(Te,LB,ba);for(var VE=0;VE<B2;VE++)DB(Nt,Te,Lr,tn)}catch{}return{isThrottled:jh,throttleNum:B2}}else if(Eo){var Pj=FB(Nt);Pj.push({msgID:Nt,message:Lr,severity:tn})}return null}o(br,"_flushMessage");function Br(){Te=ej(k),it={},He={},yr={},ke={},yn(109),xt=h9(R)?R:"",k.addUnloadHook(Vk(k.config,function(Nt){var Lr=Nt.cfg;ce=RE();var tn=Lr.throttleMgrCfg||{};Je(tn,function(Eo,Ea){yn(parseInt(Eo),Ea)})}))}o(Br,"_initConfig");function kn(Nt){return ke[Nt]||ke[109]}o(kn,"_getCfgByKey");function yn(Nt,Lr){var tn,Eo;try{var Ea=Lr||{},_s={};_s.disabled=!!Ea.disabled;var ba=Ea.interval||{};Rn=ba?.daysOfMonth&&ba?.daysOfMonth[gn]>0,_s.interval=si(ba);var qg={samplingRate:((tn=Ea.limit)===null||tn===void 0?void 0:tn.samplingRate)||100,maxSendNumber:((Eo=Ea.limit)===null||Eo===void 0?void 0:Eo.maxSendNumber)||1};_s.limit=qg,ke[Nt]=_s}catch{}}o(yn,"_setCfgByKey");function si(Nt){Nt=Nt||{};var Lr=Nt?.monthInterval,tn=Nt?.dayInterval;return M(Lr)&&M(tn)&&(Nt.monthInterval=3,Rn||(Nt.daysOfMonth=[28],Rn=!0)),Nt={monthInterval:Nt?.monthInterval,dayInterval:Nt?.dayInterval,daysOfMonth:Nt?.daysOfMonth},Nt}o(si,"_getIntervalConfig");function ji(Nt,Lr,tn){if(Nt&&!Nt.disabled&&Lr&&h9(tn)){var Eo=VC(),Ea=tn.date,_s=Nt.interval,ba=1;if(_s?.monthInterval){var qg=(Eo.getUTCFullYear()-Ea.getUTCFullYear())*12+Eo.getUTCMonth()-Ea.getUTCMonth();ba=HE(_s.monthInterval,0,qg)}var jh=1;if(Rn)jh=Hd(_s.daysOfMonth,Eo[k9]());else if(_s?.dayInterval){var B2=Eh((Eo.getTime()-Ea.getTime())/864e5);jh=HE(_s.dayInterval,0,B2)}return ba>=0&&jh>=0}return!1}o(ji,"_canThrottle");function xi(Nt,Lr){var tn=h9(Lr)?Lr:"";return Nt?mj+tn+"-"+Nt:null}o(xi,"_getLocalStorageName");function xa(Nt){try{if(Nt){var Lr=new Date;return Nt.getUTCFullYear()===Lr.getUTCFullYear()&&Nt.getUTCMonth()===Lr.getUTCMonth()&&Nt[k9]()===Lr[k9]()}}catch{}return!1}o(xa,"_isTriggeredOnCurDate");function k2(Nt,Lr,tn){try{var Eo={date:VC(),count:0};if(Nt){var Ea=JSON.parse(Nt),_s={date:VC(Ea.date)||Eo.date,count:Ea[s2]||Eo[s2],preTriggerDate:Ea.preTriggerDate?VC(Ea[wE]):void 0};return _s}else return J9(Lr,tn,Eo),Eo}catch{}return null}o(k2,"_getLocalStorageObj");function VC(Nt){try{if(Nt){var Lr=new Date(Nt);if(!isNaN(Lr.getDate()))return Lr}else return new Date}catch{}return null}o(VC,"_getThrottleDate");function J9(Nt,Lr,tn){try{return hB(Nt,Lr,o0(JSON[SE](tn)))}catch{}return!1}o(J9,"_resetLocalStorage");function HE(Nt,Lr,tn){return Nt<=0?1:tn>=Lr&&(tn-Lr)%Nt==0?Eh((tn-Lr)/Nt)+1:-1}o(HE,"_checkInterval");function DB(Nt,Lr,tn,Eo){F0(Lr,Eo||1,Nt,tn)}o(DB,"_sendMessage");function Dj(Nt){try{var Lr=kn(Nt);return aE(1e6)<=Lr.limit.samplingRate}catch{}return!1}o(Dj,"_canSampledIn");function X9(Nt){try{var Lr=He[Nt];if(!Lr){var tn=xi(Nt,xt);Lr=k2(mB(Te,tn),Te,tn),He[Nt]=Lr}return He[Nt]}catch{}return null}o(X9,"_getLocalStorageObjByKey");function PB(Nt){var Lr=it[Nt];if(M(Lr)){Lr=!1;var tn=X9(Nt);tn&&(Lr=xa(tn[wE])),it[Nt]=Lr}return it[Nt]}o(PB,"_isTrigger");function FB(Nt){return yr=yr||{},M(yr[Nt])&&(yr[Nt]=[]),yr[Nt]}o(FB,"_getQueueByKey")}return o(w,"ThrottleMgr"),w}(),O9=";",wf="=";function DE(w){if(!w)return{};var k=w[Mh](O9),R=Os(k,function(ce,Te){var ke=Te[Mh](wf);if(ke[gn]===2){var He=ke[0][o2](),it=ke[1];ce[He]=it}return ce},{});if(yt(R)[gn]>0){if(R.endpointsuffix){var Q=R.location?R.location+".":"";R[Qg]=R[Qg]||"https://"+Q+"dc."+R.endpointsuffix}R[Qg]=R[Qg]||w9,SA(R[Qg],"/")&&(R[Qg]=R[Qg].slice(0,-1))}return R}o(DE,"parseConnectionString");var PE={parse:DE},FE=function(){function w(k,R,Q){var ce=this,Te=this;Te.ver=1,Te.sampleRate=100,Te.tags={},Te[Ac]=ja(k,Q)||vf,Te.data=R,Te.time=zd(new Date),Te[Oh]={time:1,iKey:1,name:1,sampleRate:o(function(){return ce.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(w,"Envelope"),w}(),pj=function(){function w(k,R,Q,ce){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Te=this;Te.ver=2,Te[Ac]=ja(k,R)||vf,Te[If]=em(k,Q),Te[s0]=yc(k,ce)}return o(w,"Event"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Event",w.dataType="EventData",w}(),gj=58,AB=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,Aj=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,E2=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,yB=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,yj=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,Cj=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,xj=/([^\(\s\n]+):([0-9]+)$/,CB="<no_method>",b2="error",L0="stack",MC="stackDetails",NE="errorSrc",OC="message",UC="description",U9=[{re:Aj,len:5,m:1,fn:2,ln:3,col:4},{chk:LE,pre:Dr,re:E2,len:4,m:1,fn:2,ln:3},{re:yB,len:3,m:1,fn:2,hdl:W9},{re:yj,len:2,fn:1,hdl:W9}];function Dr(w){return w.replace(/(\(anonymous\))/,"<anonymous>")}o(Dr,"_scrubAnonymous");function LE(w){return Gr(w,"[native")<0}o(LE,"_ignoreNative");function qC(w,k){var R=w;return R&&!Z(R)&&(JSON&&JSON[SE]?(R=JSON[SE](w),k&&(!R||R==="{}")&&(ae(w[Mg])?R=w[Mg]():R=""+w)):R=""+w+" - (Missing JSON.stringify)"),R||""}o(qC,"_stringify");function Wh(w,k){var R=w;return w&&(R&&!Z(R)&&(R=w[OC]||w[UC]||R),R&&!Z(R)&&(R=qC(R,!0)),w.filename&&(R=R+" @"+(w.filename||"")+":"+(w.lineno||"?")+":"+(w.colno||"?"))),k&&k!=="String"&&k!=="Object"&&k!=="Error"&&Gr(R||"",k)===-1&&(R=k+": "+R),R||""}o(Wh,"_formatMessage");function xB(w){try{if(ne(w))return"hasFullStack"in w&&"typeName"in w}catch{}return!1}o(xB,"_isExceptionDetailsInternal");function EB(w){try{if(ne(w))return"ver"in w&&"exceptions"in w&&"properties"in w}catch{}return!1}o(EB,"_isExceptionInternal");function QE(w){return w&&w.src&&Z(w.src)&&w.obj&&le(w.obj)}o(QE,"_isStackDetails");function nm(w){var k=w||"";Z(k)||(Z(k[L0])?k=k[L0]:k=""+k);var R=k[Mh](`
`);return{src:k,obj:R}}o(nm,"_convertStackObj");function bB(w){for(var k=[],R=w[Mh](`
`),Q=0;Q<R[gn];Q++){var ce=R[Q];R[Q+1]&&(ce+="@"+R[Q+1],Q++),k.push(ce)}return{src:w,obj:k}}o(bB,"_getOperaStack");function ME(w){var k=null;if(w)try{if(w[L0])k=nm(w[L0]);else if(w[b2]&&w[b2][L0])k=nm(w[b2][L0]);else if(w.exception&&w.exception[L0])k=nm(w.exception[L0]);else if(QE(w))k=w;else if(QE(w[MC]))k=w[MC];else if(Ct()&&Ct().opera&&w[OC])k=bB(w[RC]);else if(w.reason&&w.reason[L0])k=nm(w.reason[L0]);else if(Z(w))k=nm(w);else{var R=w[OC]||w[UC]||"";Z(w[NE])&&(R&&(R+=`
`),R+=" from "+w[NE]),R&&(k=nm(R))}}catch(Q){k=nm(Q)}return k||{src:"",obj:null}}o(ME,"_getStackFromErrorObj");function vB(w){var k="";return w&&(w.obj?k=w.obj.join(`
`):k=w.src||""),k}o(vB,"_formatStackTrace");function OE(w){var k,R=w.obj;if(R&&R[gn]>0){k=[];var Q=0,ce=!1,Te=0;rl(R,function(kn){if(ce||Ej(kn)){var yn=We(kn);ce=!0;var si=bj(yn,Q);si&&(Te+=si[c2],k.push(si),Q++)}});var ke=32*1024;if(Te>ke)for(var He=0,it=k[gn]-1,xt=0,yr=He,An=it;He<it;){var Rn=k[He][c2],br=k[it][c2];if(xt+=Rn+br,xt>ke){var Br=An-yr+1;k.splice(yr,Br);break}yr=He,An=it,He++,it--}}return k}o(OE,"_parseStack");function v2(w){var k="";if(w&&(k=w.typeName||w[Ac]||"",!k))try{var R=/function (.{1,200})\(/,Q=R.exec(w.constructor[Mg]());k=Q&&Q[gn]>1?Q[1]:""}catch{}return k}o(v2,"_getErrorType");function UE(w){if(w)try{if(!Z(w)){var k=v2(w),R=qC(w,!1);return(!R||R==="{}")&&(w[b2]&&(w=w[b2],k=v2(w)),R=qC(w,!0)),Gr(R,k)!==0&&k!=="String"?k+":"+R:R}}catch{}return""+(w||"")}o(UE,"_formatErrorCode");var Sf=function(){function w(k,R,Q,ce,Te,ke){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var He=this;He.ver=2,EB(R)?(He[u2]=R[u2]||[],He[If]=R[If],He[s0]=R[s0],R[PC]&&(He[PC]=R[PC]),R.id&&(He.id=R.id,R[If].id=R.id),R[f2]&&(He[f2]=R[f2]),M(R.isManual)||(He.isManual=R.isManual)):(Q||(Q={}),ke&&(Q.id=ke),He[u2]=[wB(k,R,Q)],He[If]=em(k,Q),He[s0]=yc(k,ce),Te&&(He[PC]=Te),ke&&(He.id=ke))}return o(w,"Exception"),w.CreateAutoException=function(k,R,Q,ce,Te,ke,He,it){var xt=v2(Te||ke||k);return{message:Wh(k,xt),url:R,lineNumber:Q,columnNumber:ce,error:UE(Te||ke||k),evt:UE(ke||k),typeName:xt,stackDetails:ME(He||Te||ke),errorSrc:it}},w.CreateFromInterface=function(k,R,Q,ce){var Te=R[u2]&&gf(R[u2],function(He){return q9(k,He)}),ke=new w(k,Kx(Kx({},R),{exceptions:Te}),Q,ce);return ke},w.prototype.toInterface=function(){var k=this,R=k.exceptions,Q=k.properties,ce=k.measurements,Te=k.severityLevel,ke=k.problemGroup,He=k.id,it=k.isManual,xt=R instanceof Array&&gf(R,function(yr){return yr.toInterface()})||void 0;return{ver:"4.0",exceptions:xt,severityLevel:Te,properties:Q,measurements:ce,problemGroup:ke,id:He,isManual:it}},w.CreateSimpleException=function(k,R,Q,ce,Te,ke){var He;return{exceptions:[(He={},He[_E]=!0,He.message=k,He.stack=Te,He.typeName=R,He)]}},w.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",w.dataType="ExceptionData",w.formatError=UE,w}(),IB=Rt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function TB(){var w=this,k=le(w[N0])&&gf(w[N0],function(Q){return _B(Q)}),R={id:w.id,outerId:w.outerId,typeName:w[DC],message:w[RC],hasFullStack:w[_E],stack:w[L0],parsedStack:k||void 0};return R}o(TB,"_toInterface");function wB(w,k,R){var Q,ce,Te,ke,He,it,xt,yr;if(xB(k))ke=k[DC],He=k[RC],xt=k[L0],yr=k[N0]||[],it=k[_E];else{var An=k,Rn=An&&An.evt;fe(An)||(An=An[b2]||Rn||An),ke=ja(w,v2(An))||vf,He=BE(w,Wh(k||An,ke))||vf;var br=k[MC]||ME(k);yr=OE(br),le(yr)&&gf(yr,function(Br){Br[kE]=ja(w,Br[kE]),Br[fu]=ja(w,Br[fu])}),xt=P9(w,vB(br)),it=le(yr)&&yr[gn]>0,R&&(R[DC]=R[DC]||ke)}return Q={},Q[Oh]=IB,Q.id=ce,Q.outerId=Te,Q.typeName=ke,Q.message=He,Q[_E]=it,Q.stack=xt,Q.parsedStack=yr,Q.toInterface=TB,Q}o(wB,"_createExceptionDetails");function q9(w,k){var R=le(k[N0])&&gf(k[N0],function(ce){return SB(ce)})||k[N0],Q=wB(w,Kx(Kx({},k),{parsedStack:R}));return Q}o(q9,"_createExDetailsFromInterface");function WC(w,k){var R=k[Og](Cj);if(R&&R[gn]>=4)w[fu]=R[1],w[d2]=parseInt(R[2]);else{var Q=k[Og](xj);Q&&Q[gn]>=3?(w[fu]=Q[1],w[d2]=parseInt(Q[2])):w[fu]=k}}o(WC,"_parseFilename");function W9(w,k,R){var Q=w[fu];k.fn&&R&&R[gn]>k.fn&&(k.ln&&R[gn]>k.ln?(Q=o0(R[k.fn]||""),w[d2]=parseInt(o0(R[k.ln]||""))||0):Q=o0(R[k.fn]||"")),Q&&WC(w,Q)}o(W9,"_handleFilename");function Ej(w){var k=!1;if(w&&Z(w)){var R=o0(w);R&&(k=AB.test(R))}return k}o(Ej,"_isStackFrame");var G9=Rt({level:1,method:1,assembly:0,fileName:0,line:0});function bj(w,k){var R,Q;if(w&&Z(w)&&o0(w)){Q=(R={},R[Oh]=G9,R.level=k,R.assembly=o0(w),R.method=CB,R.fileName="",R.line=0,R.sizeInBytes=0,R);for(var ce=0;ce<U9[gn];){var Te=U9[ce];if(Te.chk&&!Te.chk(w))break;Te.pre&&(w=Te.pre(w));var ke=w[Og](Te.re);if(ke&&ke[gn]>=Te.len){Te.m&&(Q.method=o0(ke[Te.m]||CB)),Te.hdl?Te.hdl(Q,Te,ke):Te.fn&&(Te.ln?(Q[fu]=o0(ke[Te.fn]||""),Q[d2]=parseInt(o0(ke[Te.ln]||""))||0):WC(Q,ke[Te.fn]||""));break}ce++}}return H9(Q)}o(bj,"_extractStackFrame");function SB(w){var k,R=(k={},k[Oh]=G9,k.level=w.level,k.method=w.method,k.assembly=w[kE],k.fileName=w[fu],k.line=w[d2],k.sizeInBytes=0,k);return H9(R)}o(SB,"_stackFrameFromInterface");function H9(w){var k=gj;return w&&(k+=w.method[gn],k+=w.assembly[gn],k+=w.fileName[gn],k+=w.level.toString()[gn],k+=w.line.toString()[gn],w[c2]=k),w}o(H9,"_populateFrameSizeInBytes");function _B(w){return{level:w.level,method:w.method,assembly:w[kE],fileName:w[fu],line:w[d2]}}o(_B,"_parsedFrameToInterface");var kB=function(){function w(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(w,"DataPoint"),w}(),vj=function(){function w(k,R,Q,ce,Te,ke,He,it,xt){this.aiDataContract={ver:1,metrics:1,properties:0};var yr=this;yr.ver=2;var An=new kB;An[s2]=ce>0?ce:void 0,An.max=isNaN(ke)||ke===null?void 0:ke,An.min=isNaN(Te)||Te===null?void 0:Te,An[Ac]=ja(k,R)||vf,An.value=Q,An.stdDev=isNaN(He)||He===null?void 0:He,yr.metrics=[An],yr[If]=em(k,it),yr[s0]=yc(k,xt)}return o(w,"Metric"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",w.dataType="MetricData",w}(),I2="";function Ij(w,k){return k===void 0&&(k=!1),w==null?k:w.toString()[o2]()==="true"}o(Ij,"stringToBoolOrDefault");function V9(w){(isNaN(w)||w<0)&&(w=0),w=Z6(w);var k=I2+w%1e3,R=I2+Eh(w/1e3)%60,Q=I2+Eh(w/(1e3*60))%60,ce=I2+Eh(w/(1e3*60*60))%24,Te=Eh(w/(1e3*60*60*24));return k=k[gn]===1?"00"+k:k[gn]===2?"0"+k:k,R=R[gn]<2?"0"+R:R,Q=Q[gn]<2?"0"+Q:Q,ce=ce[gn]<2?"0"+ce:ce,(Te>0?Te+".":I2)+ce+":"+Q+":"+R+"."+k}o(V9,"msToTimeSpan");function Tj(w,k){var R=null;return rl(w,function(Q){if(Q.identifier===k)return R=Q,-1}),R}o(Tj,"getExtensionByName");function Gh(w,k,R,Q,ce){return!ce&&Z(w)&&(w==="Script error."||w==="Script error")}o(Gh,"isCrossOriginError");var wj=function(){function w(k,R,Q,ce,Te,ke,He){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var it=this;it.ver=2,it.id=m2(k,He),it.url=Tf(k,Q),it[Ac]=ja(k,R)||vf,isNaN(ce)||(it[FC]=V9(ce)),it[If]=em(k,Te),it[s0]=yc(k,ke)}return o(w,"PageView"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",w.dataType="PageviewData",w}(),T2=function(){function w(k,R,Q,ce,Te,ke,He,it,xt,yr,An,Rn){xt===void 0&&(xt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var br=this;br.ver=2,br.id=R,br[FC]=V9(Te),br.success=ke,br.resultCode=He+"",br.type=ja(k,xt);var Br=fB(k,Q,it,ce);br.data=Tf(k,ce)||Br.data,br.target=ja(k,Br.target),yr&&(br.target="".concat(br.target," | ").concat(yr)),br[Ac]=ja(k,Br[Ac]),br[If]=em(k,An),br[s0]=yc(k,Rn)}return o(w,"RemoteDependencyData"),w.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",w.dataType="RemoteDependencyData",w}(),j9=function(){function w(k,R,Q,ce,Te){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var ke=this;ke.ver=2,R=R||vf,ke[RC]=BE(k,R),ke[If]=em(k,ce),ke[s0]=yc(k,Te),Q&&(ke[PC]=Q)}return o(w,"Trace"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Message",w.dataType="MessageData",w}(),GC=function(){function w(k,R,Q,ce,Te,ke,He){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var it=this;it.ver=2,it.url=Tf(k,Q),it[Ac]=ja(k,R)||vf,it[If]=em(k,Te),it[s0]=yc(k,ke),He&&(it.domProcessing=He.domProcessing,it[FC]=He[FC],it.networkConnect=He.networkConnect,it.perfTotal=He.perfTotal,it.receivedResponse=He.receivedResponse,it.sentRequest=He.sentRequest)}return o(w,"PageViewPerformance"),w.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",w.dataType="PageviewPerformanceData",w}(),Sj=function(){function w(k,R){this.aiDataContract={baseType:1,baseData:1},this.baseType=k,this.baseData=R}return o(w,"Data"),w}(),qE=hC({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),_j=function(){function w(){}return o(w,"ConfigurationManager"),w.getConfig=function(k,R,Q,ce){ce===void 0&&(ce=!1);var Te;return Q&&k[l2]&&k[l2][Q]&&!M(k[l2][Q][R])?Te=k[l2][Q][R]:Te=k[R],M(Te)?ce:Te},w}();function _f(w){var k="ai."+w+".";return function(R){return k+R}}o(_f,"_aiNameFunc");var w2=_f("application"),na=_f("device"),WE=_f("location"),S2=_f("operation"),GE=_f("session"),Hh=_f("user"),Ug=_f("cloud"),HC=_f("internal"),Vh=function(w){Sh(k,w);function k(){return w.call(this)||this}return o(k,"ContextTagKeys"),k}(bC({applicationVersion:w2("ver"),applicationBuild:w2("build"),applicationTypeId:w2("typeId"),applicationId:w2("applicationId"),applicationLayer:w2("layer"),deviceId:na("id"),deviceIp:na("ip"),deviceLanguage:na("language"),deviceLocale:na("locale"),deviceModel:na("model"),deviceFriendlyName:na("friendlyName"),deviceNetwork:na("network"),deviceNetworkName:na("networkName"),deviceOEMName:na("oemName"),deviceOS:na("os"),deviceOSVersion:na("osVersion"),deviceRoleInstance:na("roleInstance"),deviceRoleName:na("roleName"),deviceScreenResolution:na("screenResolution"),deviceType:na("type"),deviceMachineName:na("machineName"),deviceVMName:na("vmName"),deviceBrowser:na("browser"),deviceBrowserVersion:na("browserVersion"),locationIp:WE("ip"),locationCountry:WE("country"),locationProvince:WE("province"),locationCity:WE("city"),operationId:S2("id"),operationName:S2("name"),operationParentId:S2("parentId"),operationRootId:S2("rootId"),operationSyntheticSource:S2("syntheticSource"),operationCorrelationVector:S2("correlationVector"),sessionId:GE("id"),sessionIsFirst:GE("isFirst"),sessionIsNew:GE("isNew"),userAccountAcquisitionDate:Hh("accountAcquisitionDate"),userAccountId:Hh("accountId"),userAgent:Hh("userAgent"),userId:Hh("id"),userStoreRegion:Hh("storeRegion"),userAuthUserId:Hh("authUserId"),userAnonymousUserAcquisitionDate:Hh("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Hh("authUserAcquisitionDate"),cloudName:Ug("name"),cloudRole:Ug("role"),cloudRoleVer:Ug("roleVer"),cloudRoleInstance:Ug("roleInstance"),cloudEnvironment:Ug("environment"),cloudLocation:Ug("location"),cloudDeploymentUnit:Ug("deploymentUnit"),internalNodeName:HC("nodeName"),internalSdkVersion:HC("sdkVersion"),internalAgentVersion:HC("agentVersion"),internalSnippet:HC("snippet"),internalSdkSrc:HC("sdkSrc")}));function $9(w,k,R,Q,ce,Te){R=ja(Q,R)||vf,(M(w)||M(k)||M(R))&&Ne("Input doesn't contain all required fields");var ke="";w[S9]&&(ke=w[S9],delete w[S9]);var He={name:R,time:zd(new Date),iKey:ke,ext:Te||{},tags:[],data:{},baseType:k,baseData:w};return M(ce)||Je(ce,function(it,xt){He.data[it]=xt}),He}o($9,"createTelemetryItem");var z9=function(){function w(){}return o(w,"TelemetryItemCreator"),w.create=$9,w}(),kj={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Bj=new Vh;function BB(w){var k=null;if(ae(Event))k=new Event(w);else{var R=Ie();R&&R.createEvent&&(k=R.createEvent("Event"),k.initEvent(w,!0,!0))}return k}o(BB,"createDomEvent");function Y9(w,k){Zk(w,null,null,k)}o(Y9,"_disableEvents");function RB(w){var k=Ie(),R=Ft(),Q=!1,ce=[],Te=1;R&&!M(R.onLine)&&!R.onLine&&(Te=2);var ke=0,He=Rn(),it=ij(Kd("OfflineListener"),w);try{if(yr(Ct())&&(Q=!0),k){var xt=k.body||k;xt.ononline&&yr(xt)&&(Q=!0)}}catch{Q=!1}function yr(xi){var xa=!1;return xi&&(xa=T9(xi,"online",kn,it),xa&&T9(xi,"offline",yn,it)),xa}o(yr,"_enableEvents");function An(){return He}o(An,"_isOnline");function Rn(){return!(ke===2||Te===2)}o(Rn,"calCurrentState");function br(){var xi=Rn();He!==xi&&(He=xi,rl(ce,function(xa){var k2={isOnline:He,rState:Te,uState:ke};try{xa(k2)}catch{}}))}o(br,"listnerNoticeCheck");function Br(xi){ke=xi,br()}o(Br,"setOnlineState");function kn(){Te=1,br()}o(kn,"_setOnline");function yn(){Te=2,br()}o(yn,"_setOffline");function si(){var xi=Ct();if(xi&&Q){if(Y9(xi,it),k){var xa=k.body||k;z(xa.ononline)||Y9(xa,it)}Q=!1}}o(si,"_unload");function ji(xi){return ce.push(xi),{rm:o(function(){var xa=ce.indexOf(xi);if(xa>-1)return ce.splice(xa,1)},"rm")}}return o(ji,"addListener"),{isOnline:An,isListening:o(function(){return Q},"isListening"),unload:si,addListener:ji,setOnlineState:Br}}o(RB,"createOfflineListener");var Rj="AppInsightsPropertiesPlugin",K9="AppInsightsChannelPlugin",_2="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=_2,e.BreezeChannelIdentifier=K9,e.ConfigurationManager=_j,e.ConnectionStringParser=PE,e.ContextTagKeys=Vh,e.CtxTagKeys=Bj,e.DEFAULT_BREEZE_ENDPOINT=w9,e.DEFAULT_BREEZE_PATH=BC,e.Data=Sj,e.DisabledPropertyName=IE,e.DistributedTracingModes=uj,e.Envelope=FE,e.Event=pj,e.EventPersistence=NC,e.Exception=Sf,e.Extensions=kj,e.HttpMethod=tB,e.Metric=vj,e.PageView=wj,e.PageViewPerformance=GC,e.ProcessLegacy=TE,e.PropertiesPluginIdentifier=Rj,e.RemoteDependencyData=T2,e.RequestHeaders=rB,e.SampleRate=eB,e.SeverityLevel=qE,e.TelemetryItemCreator=z9,e.ThrottleMgr=hj,e.Trace=j9,e.correlationIdCanIncludeCorrelationHeader=Uh,e.correlationIdGetCorrelationContext=cB,e.correlationIdGetCorrelationContextValue=uB,e.correlationIdGetPrefix=Q9,e.correlationIdSetPrefix=L9,e.createDistributedTraceContextFromTrace=M9,e.createDomEvent=BB,e.createOfflineListener=RB,e.createTelemetryItem=$9,e.createTraceParent=e2,e.dataSanitizeException=P9,e.dataSanitizeId=m2,e.dataSanitizeInput=F9,e.dataSanitizeKey=D9,e.dataSanitizeKeyAndAddUniqueness=R9,e.dataSanitizeMeasurements=yc,e.dataSanitizeMessage=BE,e.dataSanitizeProperties=em,e.dataSanitizeString=ja,e.dataSanitizeUrl=Tf,e.dateTimeUtilsDuration=cj,e.dateTimeUtilsNow=lj,e.dsPadNumber=nB,e.findAllScripts=b9,e.findW3cTraceParent=E9,e.formatTraceParent=Lg,e.getExtensionByName=Tj,e.isBeaconApiSupported=Rh,e.isCrossOriginError=Gh,e.isInternalApplicationInsightsEndpoint=lB,e.isSampledFlag=CE,e.isValidSpanId=r2,e.isValidTraceId=t2,e.isValidTraceParent=n2,e.msToTimeSpan=V9,e.parseConnectionString=DE,e.parseTraceParent=gc,e.strNotSpecified=vf,e.stringToBoolOrDefault=Ij,e.urlGetAbsoluteUrl=sj,e.urlGetCompleteUrl=oB,e.urlGetPathName=aj,e.urlParseFullHost=tm,e.urlParseHost=sB,e.urlParseUrl=h2,e.utlCanUseLocalStorage=RE,e.utlCanUseSessionStorage=rm,e.utlDisableStorage=LC,e.utlEnableStorage=fj,e.utlGetLocalStorage=mB,e.utlGetSessionStorage=pB,e.utlGetSessionStorageKeys=x2,e.utlRemoveSessionStorage=gB,e.utlRemoveStorage=Cc,e.utlSetLocalStorage=hB,e.utlSetSessionStorage=dj,e.utlSetStoragePrefix=QC})});var U5e=V(($P,O5e)=>{d();(function(e,t){typeof $P=="object"&&typeof O5e<"u"?t($P):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})($P,function(e){"use strict";function t(g,y){return g||y}o(t,"_pureAssign");function r(g,y){return g[y]}o(r,"_pureRef");var n=void 0,i=null,s="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",A="length",x="name",E="call",v="toString",b=t(Object),S=r(b,c),B=t(String),D=r(B,c),F=t(Math),W=t(Array),ee=r(W,c),de=r(ee,"slice");function X(g,y){try{return{v:g.apply(this,y)}}catch(T){return{e:T}}}o(X,"safe");function G(g,y){var T=X(g);return T.e?y:T.v}o(G,"safeGet");var U;function ie(g){return function(y){return typeof y===g}}o(ie,"_createIs");function z(g){var y="[object "+g+"]";return function(T){return!!(T&&H(T)===y)}}o(z,"_createObjIs");function H(g){return S[v].call(g)}o(H,"objToString");function M(g){return typeof g===f||g===f}o(M,"isUndefined");function j(g){return!ne(g)}o(j,"isStrictUndefined");function Z(g){return g===i||M(g)}o(Z,"isNullOrUndefined");function ae(g){return g===i||!ne(g)}o(ae,"isStrictNullOrUndefined");function ne(g){return!!g||g!==n}o(ne,"isDefined");function le(g){return!U&&(U=["string","number","boolean",f,"symbol","bigint"]),g!==l&&U.indexOf(g)!==-1}o(le,"isPrimitiveType");var fe=ie("string"),Re=ie(a);function Ee(g){return!g&&Z(g)?!1:!!g&&typeof g===l}o(Ee,"isObject");var Oe=r(W,"isArray"),Be=z("Date"),Je=ie("number"),at=ie("boolean"),Xe=z("Error");function st(g){return!!(g&&g.then&&Re(g.then))}o(st,"isPromiseLike");function oe(g){return!(!g||G(function(){return!(g&&0+g)},!g))}o(oe,"isTruthy");var Pe=r(b,"getOwnPropertyDescriptor");function Ae(g,y){return!!g&&S.hasOwnProperty[E](g,y)}o(Ae,"objHasOwnProperty");var We=t(r(b,"hasOwn"),Y);function Y(g,y){return Ae(g,y)||!!Pe(g,y)}o(Y,"polyObjHasOwn");function re(g,y,T){if(g&&Ee(g)){for(var _ in g)if(We(g,_)&&y[E](T||g,_,g[_])===-1)break}}o(re,"objForEachKey");var Ne={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Se(g){var y={};if(y[Ne.c]=!0,y[Ne.e]=!0,g.l){y.get=function(){return g.l.v};var T=Pe(g.l,"v");T&&T.set&&(y.set=function(_){g.l.v=_})}return re(g,function(_,P){y[Ne[_]]=j(P)?y[Ne[_]]:P}),y}o(Se,"_createProp");var Ce=r(b,"defineProperty");function Ue(g,y,T){return Ce(g,y,Se(T))}o(Ue,"objDefine");function Ve(g,y,T,_,P){var N={};return re(g,function(q,se){et(N,q,y?se:q),et(N,se,T?se:q)}),_?_(N):N}o(Ve,"_createKeyValueMap");function et(g,y,T,_){Ce(g,y,{value:T,enumerable:!0,writable:!1})}o(et,"_assignMapValue");var yt=t(B),Rt="[object Error]";function At(g,y){var T=s,_=S[v][E](g);_===Rt&&(g={stack:yt(g.stack),message:yt(g.message),name:yt(g.name)});try{T=JSON.stringify(g,i,y?typeof y=="number"?y:4:n),T=(T?T.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||yt(g)}catch(P){T=" - "+At(P,y)}return _+": "+T}o(At,"dumpObj");function Vt(g){throw new Error(g)}o(Vt,"throwError");function $t(g){throw new TypeError(g)}o($t,"throwTypeError");var nr=r(b,"freeze");function ge(g){return g}o(ge,"_doNothing");function Le(g){return g[u]||i}o(Le,"_getProto");var Ke=r(b,"assign"),rt=r(b,"keys");function St(g){return nr&&re(g,function(y,T){(Oe(T)||Ee(T))&&St(T)}),Et(g)}o(St,"objDeepFreeze");var Et=t(nr,ge),Lt=t(r(b,"getPrototypeOf"),Le);function Mt(g){return Ve(g,1,0,Et)}o(Mt,"createEnum");function Tt(g){return Ve(g,0,0,Et)}o(Tt,"createEnumKeyMap");function _t(g){var y={};return re(g,function(T,_){et(y,T,_[1]),et(y,_[0],_[1])}),Et(y)}o(_t,"createSimpleMap");function wt(g){return _t(g)}o(wt,"createTypeMap");var Ut=Tt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Wt="__tsUtils$gblCfg",zt;function lr(){var g;return typeof globalThis!==f&&(g=globalThis),!g&&typeof self!==f&&(g=self),!g&&typeof window!==f&&(g=window),!g&&typeof global!==f&&(g=global),g}o(lr,"_getGlobalValue");function hr(){if(!zt){var g=X(lr).v||{};zt=g[Wt]=g[Wt]||{}}return zt}o(hr,"_getGlobalConfig");var sr=cr;function cr(g,y,T){var _=y?y[g]:i;return function(P){var N=(P?P[g]:i)||_;if(N||T){var q=arguments;return(N||T).apply(P,N?de[E](q,1):q)}$t('"'+yt(g)+'" not defined for '+At(P))}}o(cr,"_unwrapFunctionWithPoly");function Zt(g){return function(y){return y[g]}}o(Zt,"_unwrapProp");var ur=r(F,"min"),ve=r(F,"max"),O=sr("slice",D),me=sr("substring",D),ye=cr("substr",D,K);function K(g,y,T){return Z(g)&&$t("Invalid "+At(g)),T<0?s:(y=y||0,y<0&&(y=ve(y+g[A],0)),M(T)?O(g,y):O(g,y,y+T))}o(K,"polyStrSubstr");function L(g,y){return me(g,0,y)}o(L,"strLeft");var Ie="_urid",Me;function Ct(){if(!Me){var g=hr();Me=g.gblSym=g.gblSym||{k:{},s:{}}}return Me}o(Ct,"_globalSymbolRegistry");var qt;function Ft(g){var y={description:yt(g),toString:o(function(){return h+"("+g+")"},"toString")};return y[p]=!0,y}o(Ft,"polyNewSymbol");function tr(g){var y=Ct();if(!We(y.k,g)){var T=Ft(g),_=rt(y.s).length;T[Ie]=function(){return _+"_"+T[v]()},y.k[g]=T,y.s[T[Ie]()]=yt(g)}return y.k[g]}o(tr,"polySymbolFor");function ir(g){!qt&&(qt={});var y,T=Ut[g];return T&&(y=qt[T]=qt[T]||Ft(h+"."+T)),y}o(ir,"polyGetKnownSymbol");var Ot;function vt(){Ot=hr()}o(vt,"_initTestHooks");function ar(g){var y={};return!Ot&&vt(),y.b=Ot.lzy,Ce(y,"v",{configurable:!0,get:o(function(){var T=g();return Ot.lzy||Ce(y,"v",{value:T}),y.b=Ot.lzy,T},"get")}),y}o(ar,"getLazy");function Po(g){return Ce({toJSON:o(function(){return g},"toJSON")},"v",{value:g})}o(Po,"createCachedValue");var Gd="window",rl;function Hd(g,y){var T;return function(){return!Ot&&vt(),(!T||Ot.lzy)&&(T=Po(X(g,y).v)),T.v}}o(Hd,"_getGlobalInstFn");function gf(g){return!Ot&&vt(),(!rl||g===!1||Ot.lzy)&&(rl=Po(X(lr).v||i)),rl.v}o(gf,"getGlobal");function Os(g,y){var T;if(!rl||y===!1?T=gf(y):T=rl.v,T&&T[g])return T[g];if(g===Gd)try{return window}catch{}return i}o(Os,"getInst");function Ch(){return!!wA()}o(Ch,"hasDocument");var wA=Hd(Os,["document"]);function J6(){return!!Vd()}o(J6,"hasWindow");var Vd=Hd(Os,[Gd]);function FV(){return!!xh()}o(FV,"hasNavigator");var xh=Hd(Os,["navigator"]),NV=Hd(function(){return!!X(function(){return process&&(process.versions||{}).node}).v}),xg,X6;function Hx(){return xg=Po(X(Os,[h]).v),xg}o(Hx,"_initSymbol");function LV(g){var y=(Ot.lzy?0:xg)||Hx();return y.v?y.v[g]:n}o(LV,"_getSymbolKey");function o0(){return!!Eh()}o(o0,"hasSymbol");function Eh(){return!Ot&&vt(),((Ot.lzy?0:xg)||Hx()).v}o(Eh,"getSymbol");function fC(g,y){var T=Ut[g];!Ot&&vt();var _=(Ot.lzy?0:xg)||Hx();return _.v?_.v[T||g]:y?n:ir(g)}o(fC,"getKnownSymbol");function Eg(g,y){!Ot&&vt();var T=(Ot.lzy?0:xg)||Hx();return T.v?T.v(g):y?i:Ft(g)}o(Eg,"newSymbol");function dC(g){return!Ot&&vt(),X6=(Ot.lzy?0:X6)||Po(X(LV,["for"]).v),(X6.v||tr)(g)}o(dC,"symbolFor");function bh(g){return!!g&&Re(g.next)}o(bh,"isIterator");function Vx(g){return!ae(g)&&Re(g[fC(3)])}o(Vx,"isIterable");var mC;function Z6(g,y,T){if(g&&(bh(g)||(!mC&&(mC=Po(fC(3))),g=g[mC.v]?g[mC.v]():i),bh(g))){var _=n,P=n;try{for(var N=0;!(P=g.next()).done&&y[E](T||g,P.value,N,g)!==-1;)N++}catch(q){_={e:q},g.throw&&(P=i,g.throw(_))}finally{try{P&&!P.done&&g.return&&g.return(P)}finally{if(_)throw _.e}}}}o(Z6,"iterForOf");function SA(g,y,T){return g.apply(y,T)}o(SA,"fnApply");function _A(g,y){return!M(y)&&g&&(Oe(y)?SA(g.push,g,y):bh(y)||Vx(y)?Z6(y,function(T){g.push(T)}):g.push(y)),g}o(_A,"arrAppend");function Gr(g,y,T){if(g)for(var _=g[A]>>>0,P=0;P<_&&!(P in g&&y[E](T||g,g[P],P,g)===-1);P++);}o(Gr,"arrForEach");var D0=sr("indexOf",ee),bg=sr("map",ee);function kA(g,y,T){return((g?g.slice:i)||de).apply(g,de[E](arguments,1))}o(kA,"arrSlice");var QV=sr("reduce",ee),vh=t(r(b,"create"),MV);function MV(g){if(!g)return{};var y=typeof g;y!==l&&y!==a&&$t("Prototype must be an Object or function: "+At(g));function T(){}return o(T,"tempFunc"),T[c]=g,new T}o(MV,"polyObjCreate");var e9;function hC(g,y){var T=b.setPrototypeOf||function(_,P){var N;!e9&&(e9=Po((N={},N[u]=[],N instanceof Array))),e9.v?_[u]=P:re(P,function(q,se){return _[q]=se})};return T(g,y)}o(hC,"objSetPrototypeOf");function OV(g,y,T){X(Ue,[y,x,{v:g,c:!0,e:!1}]),y=hC(y,T);function _(){this[m]=y,X(Ue,[this,x,{v:g,c:!0,e:!1}])}return o(_,"__"),y[c]=T===i?vh(T):(_[c]=T[c],new _),y}o(OV,"_createCustomError");function pC(g,y){y&&(g[x]=y)}o(pC,"_setName");function Ca(g,y,T){var _=T||Error,P=_[c][x],N=Error.captureStackTrace;return OV(g,function(){var q=this,se=arguments;try{X(pC,[_,g]);var ue=SA(_,q,de[E](se))||q;if(ue!==q){var xe=Lt(q);xe!==Lt(ue)&&hC(ue,xe)}return N&&N(ue,q[m]),y&&y(ue,se),ue}finally{X(pC,[_,P])}},_)}o(Ca,"createCustomError");function Ih(){return(Date.now||gC)()}o(Ih,"utcNow");function gC(){return new Date().getTime()}o(gC,"polyUtcNow");function _k(g){return o(function(T){return Z(T)&&$t("strTrim called ["+At(T)+"]"),T&&T.replace&&(T=T.replace(g,s)),T},"_doTrim")}o(_k,"_createTrimFn");var UV=_k(/^\s+|(?=\s)\s+$/g),Pi=cr("trim",D,UV),vg=r(F,"floor"),Th,t9,AC;function P0(g){if(!g||typeof g!==l)return!1;AC||(AC=J6()?Vd():!0);var y=!1;if(g!==AC){t9||(Th=Function[c][v],t9=Th[E](b));try{var T=Lt(g);y=!T,y||(Ae(T,m)&&(T=T[m]),y=!!(T&&typeof T===a&&Th[E](T)===t9))}catch{}}return y}o(P0,"isPlainObject");function kk(g){return g.value&&jx(g),!0}o(kk,"_defaultDeepCopyHandler");var Bk=[BA,jx,Dk,wh];function r9(g,y,T,_){var P;return Gr(g,function(N){if(N.k===y)return P=N,-1}),P||(P={k:y,v:y},g.push(P),_(P)),P.v}o(r9,"_getSetVisited");function Ig(g,y,T,_){var P=T.handler,N=T.path?_?T.path.concat(_):T.path:[],q={handler:T.handler,src:T.src,path:N},se=typeof y,ue=!1,xe=y===i;xe||(y&&se===l?ue=P0(y):xe=le(se));var _e={type:se,isPrim:xe,isPlain:ue,value:y,result:y,path:N,origin:T.src,copy:o(function(qe,Ze){return Ig(g,qe,Ze?q:T,Ze)},"copy"),copyTo:o(function(qe,Ze){return n9(g,qe,Ze,q)},"copyTo")};return _e.isPrim?P&&P[E](T,_e)?_e.result:y:r9(g,y,N,function(qe){Ue(_e,"result",{g:o(function(){return qe.v},"g"),s:o(function(ze){qe.v=ze},"s")});for(var Ze=0,Ge=P;!(Ge||(Ze<Bk.length?Bk[Ze++]:kk))[E](T,_e);)Ge=i})}o(Ig,"_deepCopy");function n9(g,y,T,_){if(!Z(T))for(var P in T)y[P]=Ig(g,T[P],_,P);return y}o(n9,"_copyProps");function Rk(g,y,T){var _={handler:T,src:y,path:[]};return n9([],g,y,_)}o(Rk,"objCopyProps");function i9(g,y){var T={handler:y,src:g};return Ig([],g,T)}o(i9,"objDeepCopy");function BA(g){var y=g.value;if(Oe(y)){var T=g.result=[];return T.length=y.length,g.copyTo(T,y),!0}return!1}o(BA,"arrayDeepCopyHandler");function wh(g){var y=g.value;return Be(y)?(g.result=new Date(y.getTime()),!0):!1}o(wh,"dateDeepCopyHandler");function Dk(g){return g.type===a}o(Dk,"functionDeepCopyHandler");function jx(g){var y=g.value;if(y&&g.isPlain){var T=g.result={};return g.copyTo(T,y),!0}return!1}o(jx,"plainObjDeepCopyHandler");function o9(g,y){return Gr(y,function(T){Rk(g,T)}),g}o(o9,"_doExtend");function $x(g,y,T,_,P,N,q){return o9(i9(g)||{},de[E](arguments))}o($x,"deepExtend");var qV=Zt(A),WV=r(F,"round"),Pk=cr("endsWith",D,GV);function GV(g,y,T){fe(g)||$t("'"+At(g)+"' is not a string");var _=fe(y)?y:yt(y),P=!M(T)&&T<g[A]?T:g[A];return me(g,P-_[A],P)===_}o(GV,"polyStrEndsWith");var jd=sr("indexOf",D),zx="ref",s9="unref",Yx="hasRef",HV="enabled";function Kx(g,y,T){var _=!0,P=g?y(i):i,N;function q(){return _=!1,P&&P[s9]&&P[s9](),N}o(q,"_unref");function se(){P&&T(P),P=i}o(se,"_cancel");function ue(){return P=y(P),_||q(),N}o(ue,"_refresh");function xe(_e){!_e&&P&&se(),_e&&!P&&ue()}return o(xe,"_setEnabled"),N={cancel:se,refresh:ue},N[Yx]=function(){return P&&P[Yx]?P[Yx]():_},N[zx]=function(){return _=!0,P&&P[zx]&&P[zx](),N},N[s9]=q,N=Ce(N,HV,{get:o(function(){return!!P},"get"),set:xe}),{h:N,dn:o(function(){P=i},"dn")}}o(Kx,"_createTimerHandler");function Jx(g,y,T){var _=Oe(y),P=_?y.length:0,N=(P>0?y[0]:_?n:y)||setTimeout,q=(P>1?y[1]:n)||clearTimeout,se=T[0];T[0]=function(){ue.dn(),SA(se,n,de[E](arguments))};var ue=Kx(g,function(xe){if(xe){if(xe.refresh)return xe.refresh(),xe;SA(q,n,[xe])}return SA(N,n,T)},function(xe){SA(q,n,[xe])});return ue.h}o(Jx,"_createTimeoutWith");function Sh(g,y){return Jx(!0,n,de[E](arguments))}o(Sh,"scheduleTimeout");function Xx(g,y){return Jx(!1,n,de[E](arguments))}o(Xx,"createTimeout");var Tg,dc="constructor",mc="prototype",wg="function",RA="_dynInstFuncs",_h="_isDynProxy",DA="_dynClass",a9="_dynCls$",Sg="_dynInstChk",PA=Sg,l9="_dfOpts",Zx="_unknown_",FA="__proto__",yC="_dyn"+FA,eE="__dynProto$Gbl",NA="_dynInstProto",LA="useBaseInst",CC="setInstFuncs",_g=Object,QA=_g.getPrototypeOf,c9=_g.getOwnPropertyNames,tE=gf(),MA=tE[eE]||(tE[eE]={o:(Tg={},Tg[CC]=!0,Tg[LA]=!0,Tg),n:1e3});function OA(g){return g&&(g===_g[mc]||g===Array[mc])}o(OA,"_isObjectOrArrayPrototype");function $d(g){return OA(g)||g===Function[mc]}o($d,"_isObjectArrayOrFunctionPrototype");function Af(g){var y;if(g){if(QA)return QA(g);var T=g[FA]||g[mc]||(g[dc]?g[dc][mc]:null);y=g[yC]||T,Ae(g,yC)||(delete g[NA],y=g[yC]=g[NA]||g[yC],g[NA]=T)}return y}o(Af,"_getObjProto");function UA(g,y){var T=[];if(c9)T=c9(g);else for(var _ in g)typeof _=="string"&&Ae(g,_)&&T.push(_);if(T&&T.length>0)for(var P=0;P<T.length;P++)y(T[P])}o(UA,"_forEachProp");function qA(g,y,T){return y!==dc&&typeof g[y]===wg&&(T||Ae(g,y))&&y!==FA&&y!==mc}o(qA,"_isDynamicCandidate");function rE(g){$t("DynamicProto: "+g)}o(rE,"_throwTypeError");function u9(g){var y=vh(null);return UA(g,function(T){!y[T]&&qA(g,T,!1)&&(y[T]=g[T])}),y}o(u9,"_getInstanceFuncs");function f9(g,y){for(var T=g.length-1;T>=0;T--)if(g[T]===y)return!0;return!1}o(f9,"_hasVisited");function VV(g,y,T,_){function P(ue,xe,_e){var qe=xe[_e];if(qe[_h]&&_){var Ze=ue[RA]||{};Ze[PA]!==!1&&(qe=(Ze[xe[DA]]||{})[_e]||qe)}return function(){return qe.apply(ue,arguments)}}o(P,"_instFuncProxy");var N=vh(null);UA(T,function(ue){N[ue]=P(y,T,ue)});for(var q=Af(g),se=[];q&&!$d(q)&&!f9(se,q);)UA(q,function(ue){!N[ue]&&qA(q,ue,!QA)&&(N[ue]=P(y,q,ue))}),se.push(q),q=Af(q);return N}o(VV,"_getBaseFuncs");function jV(g,y,T,_){var P=null;if(g&&Ae(T,DA)){var N=g[RA]||vh(null);if(P=(N[T[DA]]||vh(null))[y],P||rE("Missing ["+y+"] "+wg),!P[Sg]&&N[PA]!==!1){for(var q=!Ae(g,y),se=Af(g),ue=[];q&&se&&!$d(se)&&!f9(ue,se);){var xe=se[y];if(xe){q=xe===_;break}ue.push(se),se=Af(se)}try{q&&(g[y]=P),P[Sg]=1}catch{N[PA]=!1}}}return P}o(jV,"_getInstFunc");function $V(g,y,T){var _=y[g];return _===T&&(_=Af(y)[g]),typeof _!==wg&&rE("["+g+"] is not a "+wg),_}o($V,"_getProtoFunc");function zV(g,y,T,_,P){function N(ue,xe){var _e=o(function(){var qe=jV(this,xe,ue,_e)||$V(xe,ue,_e);return qe.apply(this,arguments)},"dynProtoProxy");return _e[_h]=1,_e}if(o(N,"_createDynamicPrototype"),!OA(g)){var q=T[RA]=T[RA]||vh(null);if(!OA(q)){var se=q[y]=q[y]||vh(null);q[PA]!==!1&&(q[PA]=!!P),OA(se)||UA(T,function(ue){qA(T,ue,!1)&&T[ue]!==_[ue]&&(se[ue]=T[ue],delete T[ue],(!Ae(g,ue)||g[ue]&&!g[ue][_h])&&(g[ue]=N(g,ue)))})}}}o(zV,"_populatePrototype");function d9(g,y){if(QA){for(var T=[],_=Af(y);_&&!$d(_)&&!f9(T,_);){if(_===g)return!0;T.push(_),_=Af(_)}return!1}return!0}o(d9,"_checkPrototype");function xC(g,y){return Ae(g,mc)?g.name||y||Zx:((g||{})[dc]||{}).name||y||Zx}o(xC,"_getObjName");function Rl(g,y,T,_){Ae(g,mc)||rE("theClass is an invalid class definition.");var P=g[mc];d9(P,y)||rE("["+xC(g)+"] not in hierarchy of ["+xC(y)+"]");var N=null;Ae(P,DA)?N=P[DA]:(N=a9+xC(g,"_")+"$"+MA.n,MA.n++,P[DA]=N);var q=Rl[l9],se=!!q[LA];se&&_&&_[LA]!==void 0&&(se=!!_[LA]);var ue=u9(y),xe=VV(P,y,ue,se);T(y,xe);var _e=!!QA&&!!q[CC];_e&&_&&(_e=!!_[CC]),zV(P,N,y,ue,_e!==!1)}o(Rl,"dynamicProto"),Rl[l9]=MA.o;var Ss="function",Fk="object",Nk="undefined",EC="prototype",m9=Object,h9=m9[EC];(gf()||{}).Symbol,(gf()||{}).Reflect;var nE="hasOwnProperty",Lk=o(function(g){for(var y,T=1,_=arguments.length;T<_;T++){y=arguments[T];for(var P in y)h9[nE].call(y,P)&&(g[P]=y[P])}return g},"__objAssignFnImpl"),zd=Ke||Lk,kh=o(function(g,y){return kh=m9.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,_){T.__proto__=_}||function(T,_){for(var P in _)_[nE](P)&&(T[P]=_[P])},kh(g,y)},"extendStaticsFn");function bC(g,y){typeof y!==Ss&&y!==null&&$t("Class extends value "+String(y)+" is not a constructor or null"),kh(g,y);function T(){this.constructor=g}o(T,"__"),g[EC]=y===null?vh(y):(T[EC]=y[EC],new T)}o(bC,"__extendsFn");function Qk(g,y){for(var T=0,_=y.length,P=g.length;T<_;T++,P++)g[P]=y[T];return g}o(Qk,"__spreadArrayFn");var iE=Mt,YV=wt,Bh=iE({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),WA="toLowerCase",Qn="length",GA="warnToConsole",kg="throwInternal",Yd="watch",oE="apply",Fi="push",HA="splice",ta="logger",VA="cancel",vC="initialize",Rh="identifier",IC="removeNotificationListener",sE="addNotificationListener",yf="isInitialized",jA="value",lu="getNotifyMgr",$A="getPlugin",Dh="name",nl="processNext",zA="getProcessTelContext",Cf="enabled",Mk="stopPollingInternalLogs",Bg="unload",aE="onComplete",YA="version",Ok="loggingLevelConsole",Rg="createNew",xf="teardown",lE="messageId",Dg="message",Ef="diagLog",cE="_doTeardown",Kd="update",bf="getNext",Ph="setNextPlugin",uE="userAgent",Fh="split",Nh="replace",Dl="type",p9="evtName",TC="status",g9="getAllResponseHeaders",A9="isChildEvt",KA="data",Lh="getCtx",cu="setCtx",Uk="itemsReceived",Jd="urlString",y9="headers",Xd="timeout",qk="traceFlags",JA;function C9(g,y){JA||(JA=Ca("AggregationError",function(_,P){P[Qn]>1&&(_.errors=P[1])}));var T=g||"One or more errors occurred.";throw Gr(y,function(_,P){T+=`
`.concat(P," > ").concat(At(_))}),new JA(T,y||[])}o(C9,"throwAggregationError");var Pg="Promise",Fg="rejected";function hc(g,y){return Wk(g,function(T){return y?y({status:"fulfilled",rejected:!1,value:T}):T},function(T){return y?y({status:Fg,rejected:!0,reason:T}):T})}o(hc,"doAwaitResponse");function Wk(g,y,T,_){var P=g;try{if(st(g))(y||T)&&(P=g.then(y,T));else try{y&&(P=y(g))}catch(N){if(T)P=T(N);else throw N}}finally{_&&KV(P,_)}return P}o(Wk,"doAwait");function KV(g,y){var T=g;return y&&(st(g)?g.finally?T=g.finally(y):T=g.then(function(_){return y(),_},function(_){throw y(),_}):y()),T}o(KV,"doFinally");var Gk=["pending","resolving","resolved",Fg],Hk="dispatchEvent",wC;function Vk(g){var y;return g&&g.createEvent&&(y=g.createEvent("Event")),!!y&&y.initEvent}o(Vk,"_hasInitEventFn");function fE(g,y,T,_){var P=wA();!wC&&(wC=Po(!!X(Vk,[P]).v));var N=wC.v?P.createEvent("Event"):_?new Event(y):{};if(T&&T(N),wC.v&&N.initEvent(y,!1,!0),N&&g[Hk])g[Hk](N);else{var q=g["on"+y];if(q)q(N);else{var se=Os("console");se&&(se.error||se.log)(y,At(N))}}}o(fE,"emitEvent");var jk="unhandledRejection",JV=jk.toLowerCase(),XA=10,dE;function $k(g){return Re(g)?g.toString():At(g)}o($k,"dumpFnObj");function zk(g,y,T){var _=kA(arguments,3),P=0,N=!1,q,se=[],ue=!1,xe=null,_e;function qe(fr,wr){try{ue=!0,xe&&xe.cancel(),xe=null;var Fn=g(function(fi,di){se.push(function(){try{var ro=P===2?fr:wr,sn=M(ro)?q:Re(ro)?ro(q):ro;st(sn)?sn.then(fi,di):ro?fi(sn):P===3?di(sn):fi(sn)}catch(Or){di(Or)}}),N&&ht()},_);return Fn}finally{}}o(qe,"_then");function Ze(fr){return qe(void 0,fr)}o(Ze,"_catch");function Ge(fr){var wr=fr,Fn=fr;return Re(fr)&&(wr=o(function(fi){return fr&&fr(),fi},"thenFinally"),Fn=o(function(fi){throw fr&&fr(),fi},"catchFinally")),qe(wr,Fn)}o(Ge,"_finally");function ze(){return Gk[P]}o(ze,"_strState");function ht(){if(se.length>0){var fr=se.slice();se=[],ue=!0,xe&&xe.cancel(),xe=null,y(fr)}}o(ht,"_processQueue");function ct(fr,wr){return function(Fn){if(P===wr){if(fr===2&&st(Fn)){P=1,Fn.then(ct(2,1),ct(3,1));return}P=fr,N=!0,q=Fn,ht(),!ue&&fr===3&&!xe&&(xe=Sh(It,XA))}}}o(ct,"_createSettleIfFn");function It(){if(!ue)if(ue=!0,NV())process.emit(jk,q,_e);else{var fr=Vd()||gf();!dE&&(dE=Po(X(Os,[Pg+"RejectionEvent"]).v)),fE(fr,JV,function(wr){return Ue(wr,"promise",{g:o(function(){return _e},"g")}),wr.reason=q,wr},!!dE.v)}}o(It,"_notifyUnhandledRejection"),_e={then:qe,catch:Ze,finally:Ge},Ce(_e,"state",{get:ze}),o0()&&(_e[fC(11)]="IPromise");function jt(){return"IPromise "+ze()+(N?" - "+$k(q):"")}return o(jt,"_toString"),_e.toString=jt,o(function(){Re(T)||$t(Pg+": executor is not a function - "+$k(T));var wr=ct(3,0);try{T.call(_e,ct(2,0),wr)}catch(Fn){wr(Fn)}},"_initialize")(),_e}o(zk,"_createPromise");function XV(g){return function(y){var T=kA(arguments,1);return g(function(_,P){try{var N=[],q=1;Z6(y,function(se,ue){se&&(q++,Wk(se,function(xe){N[ue]=xe,--q===0&&_(N)},P))}),q--,q===0&&_(N)}catch(se){P(se)}},T)}}o(XV,"_createAllPromise");function ZV(g){return Po(function(y){var T=kA(arguments,1);return g(function(_,P){var N=[],q=1;function se(ue,xe){q++,hc(ue,function(_e){_e.rejected?N[xe]={status:Fg,reason:_e.reason}:N[xe]={status:"fulfilled",value:_e.value},--q===0&&_(N)})}o(se,"processItem");try{Oe(y)?Gr(y,se):Vx(y)?Z6(y,se):$t("Input is not an iterable"),q--,q===0&&_(N)}catch(ue){P(ue)}},T)})}o(ZV,"_createAllSettledPromise");function Yk(g){Gr(g,function(y){try{y()}catch{}})}o(Yk,"syncItemProcessor");function Kk(g){var y=Je(g)?g:0;return function(T){Sh(function(){Yk(T)},y)}}o(Kk,"timeoutItemProcessor");function mE(g,y){return zk(mE,Kk(y),g,y)}o(mE,"createAsyncPromise");var hE;function ej(g,y){!hE&&(hE=Po(X(Os,[Pg]).v||null));var T=hE.v;if(!T)return mE(g);Re(g)||$t(Pg+": executor is not a function - "+At(g));var _=0;function P(){return Gk[_]}o(P,"_strState");var N=new T(function(q,se){function ue(_e){_=2,q(_e)}o(ue,"_resolve");function xe(_e){_=3,se(_e)}o(xe,"_reject"),g(ue,xe)});return Ce(N,"state",{get:P}),N}o(ej,"createNativePromise");var pE;function gE(g){return zk(gE,Yk,g)}o(gE,"createSyncPromise");function F0(g,y){return!pE&&(pE=ZV(gE)),pE.v(g,y)}o(F0,"createSyncAllSettledPromise");var AE;function ZA(g,y){return!AE&&(AE=Po(ej)),AE.v.call(this,g,y)}o(ZA,"createPromise");var x9=XV(ZA),pc=void 0,oi="",Zd="channels",ra="core",uu="createPerfMgr",yE="disabled",Ng="extensionConfig",e2="extensions",gc="processTelemetry",t2="priority",r2="eventsSent",n2="eventsDiscarded",CE="eventsSendRequest",Lg="perfEvent",E9="offlineEventsStored",b9="offlineBatchSent",xE="offlineBatchDrop",SC="getPerfMgr",EE="domain",bE="path",Jk="Not dynamic - ",v9=/-([a-z])/g,tj=/([^\w\d_$])/g,rj=/^(\d+[\w\d_$])/;function vE(g){return!Z(g)}o(vE,"isNotNullOrUndefined");function i2(g){var y=g;return y&&fe(y)&&(y=y[Nh](v9,function(T,_){return _.toUpperCase()}),y=y[Nh](tj,"_"),y=y[Nh](rj,function(T,_){return"_"+_})),y}o(i2,"normalizeJsName");function il(g,y){return g&&y?jd(g,y)!==-1:!1}o(il,"strContains");function _C(g){return g&&g.toISOString()||""}o(_C,"toISOString");function Va(g){return Xe(g)?g[Dh]:oi}o(Va,"getExceptionName");function Qh(g,y,T,_,P){var N=T;return g&&(N=g[y],N!==T&&(!P||P(N))&&(!_||_(T))&&(N=T,g[y]=N)),N}o(Qh,"setValue");function Xk(g,y,T){var _;return g?(_=g[y],!_&&Z(_)&&(_=M(T)?{}:T,g[y]=_)):_=M(T)?{}:T,_}o(Xk,"getSetValue");function nj(g,y){var T=null,_=null;return Re(g)?T=g:_=g,function(){var P=arguments;if(T&&(_=T()),_)return _[y][oE](_,P)}}o(nj,"_createProxyFunction");function kC(g,y,T,_,P){g&&y&&T&&(P!==!1||M(g[y]))&&(g[y]=nj(T,_))}o(kC,"proxyFunctionAs");function I9(g,y,T,_){return g&&y&&Ee(g)&&Oe(T)&&Gr(T,function(P){fe(P)&&kC(g,P,y,P,_)}),g}o(I9,"proxyFunctions");function ij(g){return function(){function y(){var T=this;g&&re(g,function(_,P){T[_]=P})}return o(y,"class_1"),y}()}o(ij,"createClassFromInterface");function T9(g){return g&&Ke&&(g=m9(Ke({},g))),g}o(T9,"optimizeObject");function Zk(g,y,T,_,P,N){var q=arguments,se=q[0]||{},ue=q[Qn],xe=!1,_e=1;for(ue>0&&at(se)&&(xe=se,se=q[_e]||{},_e++),Ee(se)||(se={});_e<ue;_e++){var qe=q[_e],Ze=Oe(qe),Ge=Ee(qe);for(var ze in qe){var ht=Ze&&ze in qe||Ge&&We(qe,ze);if(ht){var ct=qe[ze],It=void 0;if(xe&&ct&&((It=Oe(ct))||P0(ct))){var jt=se[ze];It?Oe(jt)||(jt=[]):P0(jt)||(jt={}),ct=Zk(xe,jt,ct)}ct!==void 0&&(se[ze]=ct)}}}return se}o(Zk,"objExtend");function IE(g){try{return g.responseText}catch{}return null}o(IE,"getResponseText");function eB(g,y){return g?"XDomainRequest,Response:"+IE(g)||"":y}o(eB,"formatErrorMessageXdr");function TE(g,y){return g?"XMLHttpRequest,Status:"+g[TC]+",Response:"+IE(g)||g.response||"":y}o(TE,"formatErrorMessageXhr");function tB(g,y){return y&&(Je(y)?g=[y].concat(g):Oe(y)&&(g=y.concat(g))),g}o(tB,"prependTransports");var w9="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",BC="withCredentials",vf="timeout";function S9(g,y,T,_,P,N){_===void 0&&(_=!1),P===void 0&&(P=!1);function q(ue,xe,_e){try{ue[xe]=_e}catch{}}o(q,"_wrapSetXhrProp");var se=new XMLHttpRequest;return _&&q(se,w9,_),T&&q(se,BC,T),se.open(g,y,!P),T&&q(se,BC,T),!P&&N&&q(se,vf,N),se}o(S9,"openXhr");function rB(g){var y={};if(fe(g)){var T=Pi(g)[Fh](/[\r\n]+/);Gr(T,function(_){if(_){var P=_.indexOf(": ");if(P!==-1){var N=Pi(_.substring(0,P))[WA](),q=Pi(_.substring(P+1));y[N]=q}else y[Pi(_)]=1}})}return y}o(rB,"convertAllHeadersToMap");function Mh(g,y,T){if(!g[T]&&y&&y.getResponseHeader){var _=y.getResponseHeader(T);_&&(g[T]=Pi(_))}return g}o(Mh,"_appendHeader");var gn="kill-duration",o2="kill-duration-seconds",Qg="time-delta-millis";function Mg(g,y){var T={};return g[g9]?T=rB(g[g9]()):y&&(T=Mh(T,g,Qg),T=Mh(T,g,gn),T=Mh(T,g,o2)),T}o(Mg,"_getAllResponseHeaders");var _9="documentMode",RC="location",s2="console",wE="JSON",k9="crypto",SE="msCrypto",a2="msie",Og="trident/",B9="XMLHttpRequest",Ac=null,l2=null,If=!1,s0=null,c2=null;function DC(g,y){var T=!1;if(g){try{if(T=y in g,!T){var _=g[EC];_&&(T=y in _)}}catch{}if(!T)try{var P=new g;T=!M(P[y])}catch{}}return T}o(DC,"_hasProperty");function u2(g){if(g&&If){var y=Os("__mockLocation");if(y)return y}return typeof location===Fk&&location?location:Os(RC)}o(u2,"getLocation");function PC(){return typeof console!==Nk?console:Os(s2)}o(PC,"getConsole");function f2(){return!!(typeof JSON===Fk&&JSON||Os(wE)!==null)}o(f2,"hasJSON");function N0(){return f2()?JSON||Os(wE):null}o(N0,"getJSON");function _E(){return Os(k9)}o(_E,"getCrypto");function kE(){return Os(SE)}o(kE,"getMsCrypto");function fu(){var g=xh();if(g&&(g[uE]!==l2||Ac===null)){l2=g[uE];var y=(l2||oi)[WA]();Ac=il(y,a2)||il(y,Og)}return Ac}o(fu,"isIE");function d2(g){if(g===void 0&&(g=null),!g){var y=xh()||{};g=y?(y.userAgent||oi)[WA]():oi}var T=(g||oi)[WA]();if(il(T,a2)){var _=wA()||{};return ve(parseInt(T[Fh](a2)[1]),_[_9]||0)}else if(il(T,Og)){var P=parseInt(T[Fh](Og)[1]);if(P)return P+4}return null}o(d2,"getIEVersion");function Oh(g){return(c2===null||g===!1)&&(c2=FV()&&!!xh().sendBeacon),c2}o(Oh,"isBeaconsSupported");function FC(g){var y=!1;try{y=!!Os("fetch");var T=Os("Request");y&&g&&T&&(y=DC(T,"keepalive"))}catch{}return y}o(FC,"isFetchSupported");function R9(){return s0===null&&(s0=typeof XDomainRequest!==Nk,s0&&D9()&&(s0=s0&&!DC(Os(B9),"withCredentials"))),s0}o(R9,"useXDomainRequest");function D9(){var g=!1;try{var y=Os(B9);g=!!y}catch{}return g}o(D9,"isXhrSupported");var ja=4294967296,Tf=4294967295,BE=123456789,P9=987654321,em=!1,yc=BE,m2=P9;function F9(g){g<0&&(g>>>=0),yc=BE+g&Tf,m2=P9-g&Tf,em=!0}o(F9,"_mwcSeed");function nB(){try{var g=Ih()&2147483647;F9((Math.random()*ja^g)+g)}catch{}}o(nB,"_autoSeedMwc");function N9(g){var y=0,T=_E()||kE();return T&&T.getRandomValues&&(y=T.getRandomValues(new Uint32Array(1))[0]&Tf),y===0&&fu()&&(em||nB(),y=iB()&Tf),y===0&&(y=vg(ja*Math.random()|0)),g||(y>>>=0),y}o(N9,"random32");function iB(g){m2=36969*(m2&65535)+(m2>>16)&Tf,yc=18e3*(yc&65535)+(yc>>16)&Tf;var y=(m2<<16)+(yc&65535)>>>0&Tf|0;return g||(y>>>=0),y}o(iB,"mwcRandom32");function oj(g){g===void 0&&(g=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=N9()>>>0,_=0,P=oi;P[Qn]<g;)_++,P+=y.charAt(T&63),T>>>=6,_===5&&(T=(N9()<<2&4294967295|T&3)>>>0,_=0);return P}o(oj,"newId");var h2="3.3.6",sj="."+oj(6),aj=0;function oB(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType}o(oB,"_canAcceptData");function sB(g,y){var T=y[g.id];if(!T){T={};try{oB(y)&&Ue(y,g.id,{e:!1,v:T})}catch{}}return T}o(sB,"_getCache");function tm(g,y){return y===void 0&&(y=!1),i2(g+aj+++(y?"."+h2:oi)+sj)}o(tm,"createUniqueNamespace");function aB(g){var y={id:tm("_aiData-"+(g||oi)+"."+h2),accept:o(function(T){return oB(T)},"accept"),get:o(function(T,_,P,N){var q=T[y.id];return q?q[i2(_)]:(N&&(q=sB(y,T),q[i2(_)]=P),P)},"get"),kill:o(function(T,_){if(T&&T[_])try{delete T[_]}catch{}},"kill")};return y}o(aB,"createElmNodeData");function p2(g){return g&&Ee(g)&&(g.isVal||g.fb||We(g,"v")||We(g,"mrg")||We(g,"ref")||g.set)}o(p2,"_isConfigDefaults");function lB(g,y,T){var _,P=T.dfVal||ne;if(y&&T.fb){var N=T.fb;Oe(N)||(N=[N]);for(var q=0;q<N[Qn];q++){var se=N[q],ue=y[se];if(P(ue)?_=ue:g&&(ue=g.cfg[se],P(ue)&&(_=ue),g.set(g.cfg,yt(se),ue)),P(_))break}}return!P(_)&&P(T.v)&&(_=T.v),_}o(lB,"_getDefault");function L9(g,y,T){var _=T;if(T&&p2(T)&&(_=lB(g,y,T)),_){p2(_)&&(_=L9(g,y,_));var P;Oe(_)?(P=[],P[Qn]=_[Qn]):P0(_)&&(P={}),P&&(re(_,function(N,q){q&&p2(q)&&(q=L9(g,y,q)),P[N]=q}),_=P)}return _}o(L9,"_resolveDefaultValue");function Q9(g,y,T,_){var P,N,q,se=_,ue,xe,_e,qe;p2(se)?(P=se.isVal,N=se.set,_e=se.rdOnly,qe=se.blkVal,ue=se.mrg,xe=se.ref,!xe&&M(xe)&&(xe=!!ue),q=lB(g,y,se)):q=_,qe&&g.blkVal(y,T);var Ze,Ge=!0,ze=y[T];(ze||!Z(ze))&&(Ze=ze,Ge=!1,P&&Ze!==q&&!P(Ze)&&(Ze=q,Ge=!0),N&&(Ze=N(Ze,q,y),Ge=Ze===q)),Ge?q?Ze=L9(g,y,q):Ze=q:(P0(Ze)||Oe(q))&&ue&&q&&(P0(q)||Oe(q))&&re(q,function(ht,ct){Q9(g,Ze,ht,ct)}),g.set(y,T,Ze),xe&&g.ref(y,T),_e&&g.rdOnly(y,T)}o(Q9,"_applyDefaultValue");var Uh=dC("[[ai_dynCfg_1]]"),cB=dC("[[ai_blkDynCfg_1]]"),uB=dC("[[ai_frcDynCfg_1]]");function fB(g){if(g){var y;if(Oe(g)?(y=[],y[Qn]=g[Qn]):P0(g)&&(y={}),y)return re(g,function(T,_){y[T]=fB(_)}),y}return g}o(fB,"_cfgDeepCopy");function lj(g){if(g){var y=g[Uh]||g;if(y.cfg&&(y.cfg===g||y.cfg[Uh]===y))return y}return null}o(lj,"getDynamicConfigHandler");function cj(g){if(g&&(P0(g)||Oe(g)))try{g[cB]=!0}catch{}return g}o(cj,"blockDynamicConversion");function M9(g,y,T){var _=!1;return T&&!g[y.blkVal]&&(_=T[uB],!_&&!T[cB]&&(_=P0(T)||Oe(T))),_}o(M9,"_canMakeDynamic");function g2(g){$t("InvalidAccess:"+g)}o(g2,"throwInvalidAccess");var uj=["push","pop","shift","unshift","splice"],NC=o(function(g,y,T,_){g&&g[kg](3,108,"".concat(T," [").concat(y,"] failed - ")+At(_))},"_throwDynamicError");function qh(g,y,T){Oe(y)&&Gr(uj,function(_){var P=y[_];y[_]=function(){for(var N=[],q=0;q<arguments.length;q++)N[q]=arguments[q];var se=P[oE](this,N);return C2(g,y,T,"Patching"),se}})}o(qh,"_patchArray");function du(g,y){var T=Pe(g,y);return T&&T.get}o(du,"_getOwnPropGetter");function dB(g,y,T,_){var P={n:T,h:[],trk:o(function(xe){xe&&xe.fn&&(D0(P.h,xe)===-1&&P.h[Fi](xe),g.trk(xe,P))},"trk"),clr:o(function(xe){var _e=D0(P.h,xe);_e!==-1&&P.h[HA](_e,1)},"clr")},N=!0,q=!1;function se(){N&&(q=q||M9(se,g,_),_&&!_[Uh]&&q&&(_=C2(g,_,T,"Converting")),N=!1);var xe=g.act;return xe&&P.trk(xe),_}o(se,"_getProperty"),se[g.prop]={chng:o(function(){g.add(P)},"chng")};function ue(xe){if(_!==xe){se[g.ro]&&!g.upd&&g2("["+T+"] is read-only:"+At(y)),N&&(q=q||M9(se,g,_),N=!1);var _e=q&&se[g.rf];if(q)if(_e){re(_,function(Ze){_[Ze]=xe?xe[Ze]:pc});try{re(xe,function(Ze,Ge){A2(g,_,Ze,Ge)}),xe=_}catch(Ze){NC((g.hdlr||{})[ta],T,"Assigning",Ze),q=!1}}else _&&_[Uh]&&re(_,function(Ze){var Ge=du(_,Ze);if(Ge){var ze=Ge[g.prop];ze&&ze.chng()}});if(xe!==_){var qe=xe&&M9(se,g,xe);!_e&&qe&&(xe=C2(g,xe,T,"Converting")),_=xe,q=qe}g.add(P)}}o(ue,"_setProperty"),Ue(y,P.n,{g:se,s:ue})}o(dB,"_createDynamicProperty");function A2(g,y,T,_){if(y){var P=du(y,T),N=P&&!!P[g.prop];N?y[T]=_:dB(g,y,T,_)}return y}o(A2,"_setDynamicProperty");function y2(g,y,T,_){if(y){var P=du(y,T),N=P&&!!P[g.prop],q=_&&_[0],se=_&&_[1],ue=_&&_[2];if(!N){if(ue)try{cj(y)}catch(xe){NC((g.hdlr||{})[ta],T,"Blocking",xe)}try{A2(g,y,T,y[T]),P=du(y,T)}catch(xe){NC((g.hdlr||{})[ta],T,"State",xe)}}q&&(P[g.rf]=q),se&&(P[g.ro]=se),ue&&(P[g.blkVal]=!0)}return y}o(y2,"_setDynamicPropertyState");function C2(g,y,T,_){try{re(y,function(P,N){A2(g,y,P,N)}),y[Uh]||(Ce(y,Uh,{get:o(function(){return g.hdlr},"get")}),qh(g,y,T))}catch(P){NC((g.hdlr||{})[ta],T,_,P)}return y}o(C2,"_makeDynamicObject");var LC="[[ai_",QC="]]";function fj(g){var y=Eg(LC+"get"+g.uid+QC),T=Eg(LC+"ro"+g.uid+QC),_=Eg(LC+"rf"+g.uid+QC),P=Eg(LC+"blkVal"+g.uid+QC),N=Eg(LC+"dtl"+g.uid+QC),q=null,se=null,ue;function xe(Ge,ze){var ht=ue.act;try{ue.act=Ge,Ge&&Ge[N]&&(Gr(Ge[N],function(It){It.clr(Ge)}),Ge[N]=[]),ze({cfg:g.cfg,set:g.set.bind(g),setDf:g.setDf.bind(g),ref:g.ref.bind(g),rdOnly:g.rdOnly.bind(g)})}catch(It){var ct=g[ta];throw ct&&ct[kg](1,107,At(It)),It}finally{ue.act=ht||null}}o(xe,"_useHandler");function _e(){if(q){var Ge=q;q=null,se&&se[VA](),se=null;var ze=[];if(Gr(Ge,function(ht){if(ht&&(ht[N]&&(Gr(ht[N],function(ct){ct.clr(ht)}),ht[N]=null),ht.fn))try{xe(ht,ht.fn)}catch(ct){ze[Fi](ct)}}),q)try{_e()}catch(ht){ze[Fi](ht)}ze[Qn]>0&&C9("Watcher error(s): ",ze)}}o(_e,"_notifyWatchers");function qe(Ge){if(Ge&&Ge.h[Qn]>0){q||(q=[]),se||(se=Sh(function(){se=null,_e()},0));for(var ze=0;ze<Ge.h[Qn];ze++){var ht=Ge.h[ze];ht&&D0(q,ht)===-1&&q[Fi](ht)}}}o(qe,"_addWatcher");function Ze(Ge,ze){if(Ge){var ht=Ge[N]=Ge[N]||[];D0(ht,ze)===-1&&ht[Fi](ze)}}return o(Ze,"_trackHandler"),ue={prop:y,ro:T,rf:_,blkVal:P,hdlr:g,add:qe,notify:_e,use:xe,trk:Ze},ue}o(fj,"_createState");function RE(g,y){var T={fn:y,rm:o(function(){T.fn=null,g=null,y=null},"rm")};return Ue(T,"toJSON",{v:o(function(){return"WatcherHandler"+(T.fn?"":"[X]")},"v")}),g.use(T,y),T}o(RE,"_createAndUseHandler");function mB(g,y,T){var _=lj(y);if(_)return _;var P=tm("dyncfg",!0),N=y&&T!==!1?y:fB(y),q;function se(){q.notify()}o(se,"_notifyWatchers");function ue(ct,It,jt){try{ct=A2(q,ct,It,jt)}catch(fr){NC(g,It,"Setting value",fr)}return ct[It]}o(ue,"_setValue");function xe(ct){return RE(q,ct)}o(xe,"_watch");function _e(ct,It){q.use(null,function(jt){var fr=q.upd;try{M(It)||(q.upd=It),ct(jt)}finally{q.upd=fr}})}o(_e,"_block");function qe(ct,It){var jt;return y2(q,ct,It,(jt={},jt[0]=!0,jt))[It]}o(qe,"_ref");function Ze(ct,It){var jt;return y2(q,ct,It,(jt={},jt[1]=!0,jt))[It]}o(Ze,"_rdOnly");function Ge(ct,It){var jt;return y2(q,ct,It,(jt={},jt[2]=!0,jt))[It]}o(Ge,"_blkPropValue");function ze(ct,It){return It&&re(It,function(jt,fr){Q9(ht,ct,jt,fr)}),ct}o(ze,"_applyDefaults");var ht={uid:null,cfg:N,logger:g,notify:se,set:ue,setDf:ze,watch:xe,ref:qe,rdOnly:Ze,blkVal:Ge,_block:_e};return Ue(ht,"uid",{c:!1,e:!1,w:!1,v:P}),q=fj(ht),C2(q,N,"config","Creating"),ht}o(mB,"_createDynamicHandler");function hB(g,y){g?(g[GA](y),g[kg](2,108,y)):g2(y)}o(hB,"_logInvalidAccess");function Cc(g,y,T,_){var P=mB(T,g||{},_);return y&&P.setDf(P.cfg,y),P}o(Cc,"createDynamicConfig");function rm(g,y,T){var _=g[Uh]||g;return _.cfg&&(_.cfg===g||_.cfg[Uh]===_)?_[Yd](y):(hB(T,Jk+At(g)),Cc(g,null,T)[Yd](y))}o(rm,"onConfigChange");function x2(g,y){if(g&&g[Bg])return g[Bg](y)}o(x2,"runTargetUnload");function pB(g,y,T){var _;return T||(_=ZA(function(P){T=P})),g&&qV(g)>0?hc(x2(g[0],y),function(){pB(kA(g,1),y,T)}):T(),_}o(pB,"doUnloadAll");var dj=500,gB="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function mj(g,y,T){return!g&&Z(g)?y:at(g)?g:yt(g)[WA]()==="true"}o(mj,"_stringToBoolOrDefault");function hj(g){return{mrg:!0,v:g}}o(hj,"cfgDfMerge");function O9(g,y,T){return{fb:T,isVal:g,v:y}}o(O9,"cfgDfValidate");function wf(g,y){return{fb:y,set:mj,v:!!g}}o(wf,"cfgDfBoolean");var DE=[r2,n2,CE,Lg],PE=null,FE;function pj(g,y){return function(){var T=arguments,_=AB(y);if(_){var P=_.listener;P&&P[g]&&P[g][oE](P,T)}}}o(pj,"_listenerProxyFunc");function gj(){var g=Os("Microsoft");return g&&(PE=g.ApplicationInsights),PE}o(gj,"_getExtensionNamespace");function AB(g){var y=PE;return!y&&g.disableDbgExt!==!0&&(y=PE||gj()),y?y.ChromeDbgExt:null}o(AB,"getDebugExt");function Aj(g){if(!FE){FE={};for(var y=0;y<DE[Qn];y++)FE[DE[y]]=pj(DE[y],g)}return FE}o(Aj,"getDebugListener");var E2,yB="warnToConsole",yj="AI (Internal): ",Cj="AI: ",xj="AITR_",CB={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},b2=(E2={},E2[0]=null,E2[1]="errorToConsole",E2[2]=yB,E2[3]="debugToConsole",E2);function L0(g){return g?'"'+g[Nh](/\"/g,oi)+'"':oi}o(L0,"_sanitizeDiagnosticText");function MC(g,y){var T=PC();if(T){var _="log";T[g]&&(_=g),Re(T[_])&&T[_](y)}}o(MC,"_logToConsole");var NE=function(){function g(y,T,_,P){_===void 0&&(_=!1);var N=this;N[lE]=y,N[Dg]=(_?Cj:yj)+y;var q=oi;f2()&&(q=N0().stringify(P));var se=(T?" message:"+L0(T):oi)+(P?" props:"+L0(q):oi);N[Dg]+=se}return o(g,"_InternalLogMessage"),g.dataType="MessageData",g}();function OC(g,y){return(g||{})[ta]||new UC(y)}o(OC,"safeGetLogger");var UC=function(){function g(y){this.identifier="DiagnosticLogger",this.queue=[];var T=0,_={},P,N,q,se,ue;Rl(g,this,function(xe){ue=qe(y||{}),xe.consoleLoggingLevel=function(){return P},xe[kg]=function(ze,ht,ct,It,jt){jt===void 0&&(jt=!1);var fr=new NE(ht,ct,jt,It);if(se)throw At(fr);var wr=b2[ze]||yB;if(M(fr[Dg]))Ge("throw"+(ze===1?"Critical":"Warning"),fr);else{if(jt){var Fn=+fr[lE];!_[Fn]&&P>=ze&&(xe[wr](fr[Dg]),_[Fn]=!0)}else P>=ze&&xe[wr](fr[Dg]);_e(ze,fr)}},xe.debugToConsole=function(ze){MC("debug",ze),Ge("warning",ze)},xe[GA]=function(ze){MC("warn",ze),Ge("warning",ze)},xe.errorToConsole=function(ze){MC("error",ze),Ge("error",ze)},xe.resetInternalMessageCount=function(){T=0,_={}},xe.logInternalMessage=_e,xe[Bg]=function(ze){ue&&ue.rm(),ue=null};function _e(ze,ht){if(!Ze()){var ct=!0,It=xj+ht[lE];if(_[It]?ct=!1:_[It]=!0,ct&&(ze<=N&&(xe.queue[Fi](ht),T++,Ge(ze===1?"error":"warn",ht)),T===q)){var jt="Internal events throttle limit per PageView reached for this app.",fr=new NE(23,jt,!1);xe.queue[Fi](fr),ze===1?xe.errorToConsole(jt):xe[GA](jt)}}}o(_e,"_logInternalMessage");function qe(ze){return rm(Cc(ze,CB,xe).cfg,function(ht){var ct=ht.cfg;P=ct[Ok],N=ct.loggingLevelTelemetry,q=ct.maxMessageLimit,se=ct.enableDebug})}o(qe,"_setDefaultsFromConfig");function Ze(){return T>=q}o(Ze,"_areInternalMessagesThrottled");function Ge(ze,ht){var ct=AB(y||{});ct&&ct[Ef]&&ct[Ef](ze,ht)}o(Ge,"_debugExtMsg")})}return o(g,"DiagnosticLogger"),g.__ieDyn=1,g}();function U9(g){return g||new UC}o(U9,"_getLogger");function Dr(g,y,T,_,P,N){N===void 0&&(N=!1),U9(g)[kg](y,T,_,P,N)}o(Dr,"_throwInternal");function LE(g,y){U9(g)[GA](y)}o(LE,"_warnToConsole");var qC,Wh,xB="toGMTString",EB="toUTCString",QE="cookie",nm="expires",bB="isCookieUseDisabled",ME="disableCookiesUsage",vB="_ckMgr",OE=null,v2=null,UE=null,Sf,IB={},TB={},wB=(qC={cookieCfg:hj((Wh={},Wh[EE]={fb:"cookieDomain",dfVal:vE},Wh.path={fb:"cookiePath",dfVal:vE},Wh.enabled=pc,Wh.ignoreCookies=pc,Wh.blockedCookies=pc,Wh)),cookieDomain:pc,cookiePath:pc},qC[ME]=pc,qC);function q9(){!Sf&&(Sf=ar(function(){return wA()}))}o(q9,"_getDoc");function WC(g){return g?g.isEnabled():!0}o(WC,"_isMgrEnabled");function W9(g,y){return y&&g&&Oe(g.ignoreCookies)?D0(g.ignoreCookies,y)!==-1:!1}o(W9,"_isIgnoredCookie");function Ej(g,y){return y&&g&&Oe(g.blockedCookies)&&D0(g.blockedCookies,y)!==-1?!0:W9(g,y)}o(Ej,"_isBlockedCookie");function G9(g,y){var T=y[Cf];if(Z(T)){var _=void 0;M(g[bB])||(_=!g[bB]),M(g[ME])||(_=!g[ME]),T=_}return T}o(G9,"_isCfgEnabled");function bj(g,y){var T,_,P,N,q,se,ue,xe;g=Cc(g||TB,null,y).cfg,N=rm(g,function(qe){qe.setDf(qe.cfg,wB),T=qe.ref(qe.cfg,"cookieCfg"),_=T[bE]||"/",P=T[EE],q=G9(g,T)!==!1,se=T.getCookie||vj,ue=T.setCookie||I2,xe=T.delCookie||I2},y);var _e={isEnabled:o(function(){var qe=G9(g,T)!==!1&&q&&SB(y),Ze=TB[vB];return qe&&Ze&&_e!==Ze&&(qe=WC(Ze)),qe},"isEnabled"),setEnabled:o(function(qe){q=qe!==!1,T[Cf]=qe},"setEnabled"),set:o(function(qe,Ze,Ge,ze,ht){var ct=!1;if(WC(_e)&&!Ej(T,qe)){var It={},jt=Pi(Ze||oi),fr=jd(jt,";");if(fr!==-1&&(jt=Pi(L(Ze,fr)),It=H9(me(Ze,fr+1))),Qh(It,EE,ze||P,oe,M),!Z(Ge)){var wr=fu();if(M(It[nm])){var Fn=Ih(),fi=Fn+Ge*1e3;if(fi>0){var di=new Date;di.setTime(fi),Qh(It,nm,_B(di,wr?xB:EB)||_B(di,wr?xB:EB)||oi,oe)}}wr||Qh(It,"max-age",oi+Ge,null,M)}var ro=u2();ro&&ro.protocol==="https:"&&(Qh(It,"secure",null,null,M),v2===null&&(v2=!Ij((xh()||{})[uE])),v2&&Qh(It,"SameSite","None",null,M)),Qh(It,bE,ht||_,null,M),ue(qe,kB(jt,It)),ct=!0}return ct},"set"),get:o(function(qe){var Ze=oi;return WC(_e)&&!W9(T,qe)&&(Ze=se(qe)),Ze},"get"),del:o(function(qe,Ze){var Ge=!1;return WC(_e)&&(Ge=_e.purge(qe,Ze)),Ge},"del"),purge:o(function(qe,Ze){var Ge,ze=!1;if(SB(y)){var ht=(Ge={},Ge[bE]=Ze||"/",Ge[nm]="Thu, 01 Jan 1970 00:00:01 GMT",Ge);fu()||(ht["max-age"]="0"),xe(qe,kB(oi,ht)),ze=!0}return ze},"purge"),unload:o(function(qe){N&&N.rm(),N=null},"unload")};return _e[vB]=_e,_e}o(bj,"createCookieMgr");function SB(g){if(OE===null){OE=!1,!Sf&&q9();try{var y=Sf.v||{};OE=y[QE]!==void 0}catch(T){Dr(g,2,68,"Cannot access document.cookie - "+Va(T),{exception:At(T)})}}return OE}o(SB,"areCookiesSupported");function H9(g){var y={};if(g&&g[Qn]){var T=Pi(g)[Fh](";");Gr(T,function(_){if(_=Pi(_||oi),_){var P=jd(_,"=");P===-1?y[_]=null:y[Pi(L(_,P))]=Pi(me(_,P+1))}})}return y}o(H9,"_extractParts");function _B(g,y){return Re(g[y])?g[y]():null}o(_B,"_formatDate");function kB(g,y){var T=g||oi;return re(y,function(_,P){T+="; "+_+(Z(P)?oi:"="+P)}),T}o(kB,"_formatCookieValue");function vj(g){var y=oi;if(!Sf&&q9(),Sf.v){var T=Sf.v[QE]||oi;UE!==T&&(IB=H9(T),UE=T),y=Pi(IB[g]||oi)}return y}o(vj,"_getCookieValue");function I2(g,y){!Sf&&q9(),Sf.v&&(Sf.v[QE]=g+"="+y)}o(I2,"_setCookieValue");function Ij(g){return fe(g)?!!(il(g,"CPU iPhone OS 12")||il(g,"iPad; CPU OS 12")||il(g,"Macintosh; Intel Mac OS X 10_14")&&il(g,"Version/")&&il(g,"Safari")||il(g,"Macintosh; Intel Mac OS X 10_14")&&Pk(g,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||il(g,"Chrome/5")||il(g,"Chrome/6")||il(g,"UnrealEngine")&&!il(g,"Chrome")||il(g,"UCBrowser/12")||il(g,"UCBrowser/11")):!1}o(Ij,"uaDisallowsSameSiteNone");var V9={perfEvtsSendAll:!1};function Tj(g){g.h=null;var y=g.cb;g.cb=[],Gr(y,function(T){X(T.fn,[T.arg])})}o(Tj,"_runScheduledListeners");function Gh(g,y,T,_){Gr(g,function(P){P&&P[y]&&(T?(T.cb[Fi]({fn:_,arg:P}),T.h=T.h||Sh(Tj,0,T)):X(_,[P]))})}o(Gh,"_runListeners");var wj=function(){function g(y){this.listeners=[];var T,_,P=[],N={h:null,cb:[]},q=Cc(y,V9);_=q[Yd](function(se){T=!!se.cfg.perfEvtsSendAll}),Rl(g,this,function(se){Ue(se,"listeners",{g:o(function(){return P},"g")}),se[sE]=function(ue){P[Fi](ue)},se[IC]=function(ue){for(var xe=D0(P,ue);xe>-1;)P[HA](xe,1),xe=D0(P,ue)},se[r2]=function(ue){Gh(P,r2,N,function(xe){xe[r2](ue)})},se[n2]=function(ue,xe){Gh(P,n2,N,function(_e){_e[n2](ue,xe)})},se[CE]=function(ue,xe){Gh(P,CE,xe?N:null,function(_e){_e[CE](ue,xe)})},se[Lg]=function(ue){ue&&(T||!ue[A9]())&&Gh(P,Lg,null,function(xe){ue.isAsync?Sh(function(){return xe[Lg](ue)},0):xe[Lg](ue)})},se[E9]=function(ue){ue&&ue[Qn]&&Gh(P,E9,N,function(xe){xe[E9](ue)})},se[b9]=function(ue){ue&&ue[KA]&&Gh(P,b9,N,function(xe){xe[b9](ue)})},se[xE]=function(ue,xe){if(ue>0){var _e=xe||0;Gh(P,xE,N,function(qe){qe[xE](ue,_e)})}},se[Bg]=function(ue){var xe=o(function(){_&&_.rm(),_=null,P=[],N.h&&N.h[VA](),N.h=null,N.cb=[]},"_finishUnload"),_e;if(Gh(P,"unload",null,function(qe){var Ze=qe[Bg](ue);Ze&&(_e||(_e=[]),_e[Fi](Ze))}),_e)return ZA(function(qe){return hc(x9(_e),function(){xe(),qe()})});xe()}})}return o(g,"NotificationManager"),g.__ieDyn=1,g}(),T2="ctx",j9="ParentContextKey",GC="ChildrenContextKey",Sj=null,qE=function(){function g(y,T,_){var P=this;if(P.start=Ih(),P[Dh]=y,P.isAsync=_,P[A9]=function(){return!1},Re(T)){var N;Ue(P,"payload",{g:o(function(){return!N&&Re(T)&&(N=T(),T=null),N},"g")})}P[Lh]=function(q){return q?q===g[j9]||q===g[GC]?P[q]:(P[T2]||{})[q]:null},P[cu]=function(q,se){if(q)if(q===g[j9])P[q]||(P[A9]=function(){return!0}),P[q]=se;else if(q===g[GC])P[q]=se;else{var ue=P[T2]=P[T2]||{};ue[q]=se}},P.complete=function(){var q=0,se=P[Lh](g[GC]);if(Oe(se))for(var ue=0;ue<se[Qn];ue++){var xe=se[ue];xe&&(q+=xe.time)}P.time=Ih()-P.start,P.exTime=P.time-q,P.complete=function(){}}}return o(g,"PerfEvent"),g.ParentContextKey="parent",g.ChildrenContextKey="childEvts",g}(),_j=function(){function g(y){this.ctx={},Rl(g,this,function(T){T.create=function(_,P,N){return new qE(_,P,N)},T.fire=function(_){_&&(_.complete(),y&&Re(y[Lg])&&y[Lg](_))},T[cu]=function(_,P){if(_){var N=T[T2]=T[T2]||{};N[_]=P}},T[Lh]=function(_){return(T[T2]||{})[_]}})}return o(g,"PerfManager"),g.__ieDyn=1,g}(),_f="CoreUtils.doPerf";function w2(g,y,T,_,P){if(g){var N=g;if(N[SC]&&(N=N[SC]()),N){var q=void 0,se=N[Lh](_f);try{if(q=N.create(y(),_,P),q){if(se&&q[cu]&&(q[cu](qE[j9],se),se[Lh]&&se[cu])){var ue=se[Lh](qE[GC]);ue||(ue=[],se[cu](qE[GC],ue)),ue[Fi](q)}return N[cu](_f,q),T(q)}}catch(xe){q&&q[cu]&&q[cu]("exception",xe)}finally{q&&N.fire(q),N[cu](_f,se)}}}return T()}o(w2,"doPerf");function na(){return Sj}o(na,"getGblPerfMgr");var WE="00000000000000000000000000000000",S2="0000000000000000";function GE(g,y,T){return g&&g[Qn]===y&&g!==T?!!g.match(/^[\da-f]*$/i):!1}o(GE,"_isValid");function Hh(g){return GE(g,32,WE)}o(Hh,"isValidTraceId");function Ug(g){return GE(g,16,S2)}o(Ug,"isValidSpanId");var HC=aB("plugin");function Vh(g){return HC.get(g,"state",{},!0)}o(Vh,"_getPluginState");function $9(g,y){for(var T=[],_=null,P=g[bf](),N;P;){var q=P[$A]();if(q){_&&_[Ph]&&q[gc]&&_[Ph](q),N=Vh(q);var se=!!N[yf];q[yf]&&(se=q[yf]()),se||T[Fi](q),_=q,P=P[bf]()}}Gr(T,function(ue){var xe=g[ra]();ue[vC](g.getCfg(),xe,y,g[bf]()),N=Vh(ue),!ue[ra]&&!N[ra]&&(N[ra]=xe),N[yf]=!0,delete N[xf]})}o($9,"initializePlugins");function z9(g){return g.sort(function(y,T){var _=0;if(T){var P=T[gc];y[gc]?_=P?y[t2]-T[t2]:1:P&&(_=-1)}else _=y?1:-1;return _})}o(z9,"sortPlugins");function kj(g){var y={};return{getName:o(function(){return y[Dh]},"getName"),setName:o(function(T){g&&g.setName(T),y[Dh]=T},"setName"),getTraceId:o(function(){return y.traceId},"getTraceId"),setTraceId:o(function(T){g&&g.setTraceId(T),Hh(T)&&(y.traceId=T)},"setTraceId"),getSpanId:o(function(){return y.spanId},"getSpanId"),setSpanId:o(function(T){g&&g.setSpanId(T),Ug(T)&&(y.spanId=T)},"setSpanId"),getTraceFlags:o(function(){return y[qk]},"getTraceFlags"),setTraceFlags:o(function(T){g&&g.setTraceFlags(T),y[qk]=T},"setTraceFlags")}}o(kj,"createDistributedTraceContext");var Bj="TelemetryPluginChain",BB="_hasRun",Y9="_getTelCtx",RB=0;function Rj(g,y,T){for(;g;){if(g[$A]()===T)return g;g=g[bf]()}return R([T],y.config||{},y)}o(Rj,"_getNextProxyStart");function K9(g,y,T,_){var P=null,N=[];y||(y=Cc({},null,T[ta])),_!==null&&(P=_?Rj(g,T,_):g);var q={_next:ue,ctx:{core:o(function(){return T},"core"),diagLog:o(function(){return OC(T,y.cfg)},"diagLog"),getCfg:o(function(){return y.cfg},"getCfg"),getExtCfg:_e,getConfig:qe,hasNext:o(function(){return!!P},"hasNext"),getNext:o(function(){return P},"getNext"),setNext:o(function(Ge){P=Ge},"setNext"),iterate:Ze,onComplete:se}};function se(Ge,ze){for(var ht=[],ct=2;ct<arguments.length;ct++)ht[ct-2]=arguments[ct];Ge&&N[Fi]({func:Ge,self:M(ze)?q.ctx:ze,args:ht})}o(se,"_addOnComplete");function ue(){var Ge=P;if(P=Ge?Ge[bf]():null,!Ge){var ze=N;ze&&ze[Qn]>0&&(Gr(ze,function(ht){try{ht.func.call(ht.self,ht.args)}catch(ct){Dr(T[ta],2,73,"Unexpected Exception during onComplete - "+At(ct))}}),N=[])}return Ge}o(ue,"_moveNext");function xe(Ge,ze){var ht=null,ct=y.cfg;if(ct&&Ge){var It=ct[Ng];!It&&ze&&(It={}),ct[Ng]=It,It=y.ref(ct,Ng),It&&(ht=It[Ge],!ht&&ze&&(ht={}),It[Ge]=ht,ht=y.ref(It,Ge))}return ht}o(xe,"_getExtCfg");function _e(Ge,ze){var ht=xe(Ge,!0);return ze&&re(ze,function(ct,It){if(Z(ht[ct])){var jt=y.cfg[ct];(jt||!Z(jt))&&(ht[ct]=jt)}Q9(y,ht,ct,It)}),y.setDf(ht,ze)}o(_e,"_resolveExtCfg");function qe(Ge,ze,ht){ht===void 0&&(ht=!1);var ct,It=xe(Ge,!1),jt=y.cfg;return It&&(It[ze]||!Z(It[ze]))?ct=It[ze]:(jt[ze]||!Z(jt[ze]))&&(ct=jt[ze]),ct||!Z(ct)?ct:ht}o(qe,"_getConfig");function Ze(Ge){for(var ze;ze=q._next();){var ht=ze[$A]();ht&&Ge(ht)}}return o(Ze,"_iterateChain"),q}o(K9,"_createInternalContext");function _2(g,y,T,_){var P=Cc(y),N=K9(g,P,T,_),q=N.ctx;function se(xe){var _e=N._next();return _e&&_e[gc](xe,q),!_e}o(se,"_processNext");function ue(xe,_e){return xe===void 0&&(xe=null),Oe(xe)&&(xe=R(xe,P.cfg,T,_e)),_2(xe||q[bf](),P.cfg,T,_e)}return o(ue,"_createNew"),q[nl]=se,q[Rg]=ue,q}o(_2,"createProcessTelemetryContext");function w(g,y,T){var _=Cc(y.config),P=K9(g,_,y,T),N=P.ctx;function q(ue){var xe=P._next();return xe&&xe[Bg](N,ue),!xe}o(q,"_processNext");function se(ue,xe){return ue===void 0&&(ue=null),Oe(ue)&&(ue=R(ue,_.cfg,y,xe)),w(ue||N[bf](),y,xe)}return o(se,"_createNew"),N[nl]=q,N[Rg]=se,N}o(w,"createProcessTelemetryUnloadContext");function k(g,y,T){var _=Cc(y.config),P=K9(g,_,y,T),N=P.ctx;function q(ue){return N.iterate(function(xe){Re(xe[Kd])&&xe[Kd](N,ue)})}o(q,"_processNext");function se(ue,xe){return ue===void 0&&(ue=null),Oe(ue)&&(ue=R(ue,_.cfg,y,xe)),k(ue||N[bf](),y,xe)}return o(se,"_createNew"),N[nl]=q,N[Rg]=se,N}o(k,"createProcessTelemetryUpdateContext");function R(g,y,T,_){var P=null,N=!_;if(Oe(g)&&g[Qn]>0){var q=null;Gr(g,function(se){if(!N&&_===se&&(N=!0),N&&se&&Re(se[gc])){var ue=Q(se,y,T);P||(P=ue),q&&q._setNext(ue),q=ue}})}return _&&!P?R([_],y,T):P}o(R,"createTelemetryProxyChain");function Q(g,y,T){var _=null,P=Re(g[gc]),N=Re(g[Ph]),q;g?q=g[Rh]+"-"+g[t2]+"-"+RB++:q="Unknown-0-"+RB++;var se={getPlugin:o(function(){return g},"getPlugin"),getNext:o(function(){return _},"getNext"),processTelemetry:_e,unload:qe,update:Ze,_id:q,_setNext:o(function(Ge){_=Ge},"_setNext")};function ue(){var Ge;return g&&Re(g[Y9])&&(Ge=g[Y9]()),Ge||(Ge=_2(se,y,T)),Ge}o(ue,"_getTelCtx");function xe(Ge,ze,ht,ct,It){var jt=!1,fr=g?g[Rh]:Bj,wr=Ge[BB];return wr||(wr=Ge[BB]={}),Ge.setNext(_),g&&w2(Ge[ra](),function(){return fr+":"+ht},function(){wr[q]=!0;try{var Fn=_?_._id:oi;Fn&&(wr[Fn]=!1),jt=ze(Ge)}catch(di){var fi=_?wr[_._id]:!0;fi&&(jt=!0),(!_||!fi)&&Dr(Ge[Ef](),1,73,"Plugin ["+fr+"] failed during "+ht+" - "+At(di)+", run flags: "+At(wr))}},ct,It),jt}o(xe,"_processChain");function _e(Ge,ze){ze=ze||ue();function ht(ct){if(!g||!P)return!1;var It=Vh(g);return It[xf]||It[yE]?!1:(N&&g[Ph](_),g[gc](Ge,ct),!0)}o(ht,"_callProcessTelemetry"),xe(ze,ht,"processTelemetry",function(){return{item:Ge}},!Ge.sync)||ze[nl](Ge)}o(_e,"_processTelemetry");function qe(Ge,ze){function ht(){var ct=!1;if(g){var It=Vh(g),jt=g[ra]||It[ra];g&&(!jt||jt===Ge.core())&&!It[xf]&&(It[ra]=null,It[xf]=!0,It[yf]=!1,g[xf]&&g[xf](Ge,ze)===!0&&(ct=!0))}return ct}o(ht,"_callTeardown"),xe(Ge,ht,"unload",function(){},ze.isAsync)||Ge[nl](ze)}o(qe,"_unloadPlugin");function Ze(Ge,ze){function ht(){var ct=!1;if(g){var It=Vh(g),jt=g[ra]||It[ra];g&&(!jt||jt===Ge.core())&&!It[xf]&&g[Kd]&&g[Kd](Ge,ze)===!0&&(ct=!0)}return ct}o(ht,"_callUpdate"),xe(Ge,ht,"update",function(){},!1)||Ge[nl](ze)}return o(Ze,"_updatePlugin"),Et(se)}o(Q,"createTelemetryPluginProxy");function ce(){var g=[];function y(_){_&&g[Fi](_)}o(y,"_addHandler");function T(_,P){Gr(g,function(N){try{N(_,P)}catch(q){Dr(_[Ef](),2,73,"Unexpected error calling unload handler - "+At(q))}}),g=[]}return o(T,"_runHandlers"),{add:y,run:T}}o(ce,"createUnloadHandlerContainer");function Te(){var g=[];function y(_){var P=g;g=[],Gr(P,function(N){try{(N.rm||N.remove).call(N)}catch(q){Dr(_,2,73,"Unloading:"+At(q))}})}o(y,"_doUnload");function T(_){_&&_A(g,_)}return o(T,"_addHook"),{run:y,add:T}}o(Te,"createUnloadHookContainer");var ke,He="getPlugin",it=(ke={},ke[Ng]={isVal:vE,v:{}},ke),xt=function(){function g(){var y=this,T,_,P,N,q;xe(),Rl(g,y,function(_e){_e[vC]=function(qe,Ze,Ge,ze){ue(qe,Ze,ze),T=!0},_e[xf]=function(qe,Ze){var Ge=_e[ra];if(!Ge||qe&&Ge!==qe[ra]())return;var ze,ht=!1,ct=qe||w(null,Ge,P&&P[He]?P[He]():P),It=Ze||{reason:0,isAsync:!1};function jt(){ht||(ht=!0,N.run(ct,Ze),q.run(ct[Ef]()),ze===!0&&ct[nl](It),xe())}return o(jt,"_unloadCallback"),!_e[cE]||_e[cE](ct,It,jt)!==!0?jt():ze=!0,ze},_e[Kd]=function(qe,Ze){var Ge=_e[ra];if(!Ge||qe&&Ge!==qe[ra]())return;var ze,ht=!1,ct=qe||k(null,Ge,P&&P[He]?P[He]():P),It=Ze||{reason:0};function jt(){ht||(ht=!0,ue(ct.getCfg(),ct.core(),ct[bf]()))}return o(jt,"_updateCallback"),!_e._doUpdate||_e._doUpdate(ct,It,jt)!==!0?jt():ze=!0,ze},kC(_e,"_addUnloadCb",function(){return N},"add"),kC(_e,"_addHook",function(){return q},"add"),Ue(_e,"_unloadHooks",{g:o(function(){return q},"g")})}),y[Ef]=function(_e){return se(_e)[Ef]()},y[yf]=function(){return T},y.setInitialized=function(_e){T=_e},y[Ph]=function(_e){P=_e},y[nl]=function(_e,qe){qe?qe[nl](_e):P&&Re(P[gc])&&P[gc](_e,null)},y._getTelCtx=se;function se(_e){_e===void 0&&(_e=null);var qe=_e;if(!qe){var Ze=_||_2(null,{},y[ra]);P&&P[He]?qe=Ze[Rg](null,P[He]):qe=Ze[Rg](null,P)}return qe}o(se,"_getTelCtx");function ue(_e,qe,Ze){Cc(_e,it,OC(qe)),!Ze&&qe&&(Ze=qe[zA]()[bf]());var Ge=P;P&&P[He]&&(Ge=P[He]()),y[ra]=qe,_=_2(Ze,_e,qe,Ge)}o(ue,"_setDefaults");function xe(){T=!1,y[ra]=null,_=null,P=null,q=Te(),N=ce()}o(xe,"_initDefaults")}return o(g,"BaseTelemetryPlugin"),g.__ieDyn=1,g}();function yr(g,y,T){var _={id:y,fn:T};_A(g,_);var P={remove:o(function(){Gr(g,function(N,q){if(N.id===_.id)return g[HA](q,1),-1})},"remove")};return P}o(yr,"_addInitializer");function An(g,y,T){for(var _=!1,P=g[Qn],N=0;N<P;++N){var q=g[N];if(q)try{if(q.fn[oE](null,[y])===!1){_=!0;break}}catch(se){Dr(T,2,64,"Telemetry initializer failed: "+Va(se),{exception:At(se)},!0)}}return!_}o(An,"_runInitializers");var Rn=function(g){bC(y,g);function y(){var T=g.call(this)||this;T.identifier="TelemetryInitializerPlugin",T.priority=199;var _,P;N(),Rl(y,T,function(q,se){q.addTelemetryInitializer=function(ue){return yr(P,_++,ue)},q[gc]=function(ue,xe){An(P,ue,xe?xe[Ef]():q[Ef]())&&q[nl](ue,xe)},q[cE]=function(){N()}});function N(){_=0,P=[]}return o(N,"_initDefaults"),T}return o(y,"TelemetryInitializerPlugin"),y.__ieDyn=1,y}(xt),br,Br="Plugins must provide initialize method",kn="_notificationManager",yn="SDK is still unloading...",si="SDK is not initialized",ji=100,xi=5e4,xa=St((br={cookieCfg:{}},br[e2]={rdOnly:!0,ref:!0,v:[]},br[Zd]={rdOnly:!0,ref:!0,v:[]},br[Ng]={ref:!0,v:{}},br[uu]=pc,br.loggingLevelConsole=0,br.diagnosticLogInterval=pc,br));function k2(g,y){return new _j(y)}o(k2,"_createPerfManager");function VC(g,y,T){var _=[],P=[],N={};return Gr(T,function(q){(Z(q)||Z(q[vC]))&&Vt(Br);var se=q[t2],ue=q[Rh];q&&se&&(Z(N[se])?N[se]=ue:LE(g,"Two extensions have same priority #"+se+" - "+N[se]+", "+ue)),!se||se<y?_[Fi](q):P[Fi](q)}),{core:_,channels:P}}o(VC,"_validateExtensions");function J9(g,y){var T=!1;return Gr(y,function(_){if(_===g)return T=!0,-1}),T}o(J9,"_isPluginPresent");function HE(g,y,T,_){T&&re(T,function(P,N){_&&P0(N)&&P0(y[P])&&HE(g,y[P],N,_),_&&P0(N)&&P0(y[P])?HE(g,y[P],N,_):g.set(y,P,N)})}o(HE,"_deepMergeConfig");function DB(g,y){var T=null,_=-1;return Gr(g,function(P,N){if(P.w===y)return T=P,_=N,-1}),{i:_,l:T}}o(DB,"_findWatcher");function Dj(g,y){var T=DB(g,y).l;return T||(T={w:y,rm:o(function(){var _=DB(g,y);_.i!==-1&&g[HA](_.i,1)},"rm")},g[Fi](T)),T}o(Dj,"_addDelayedCfgListener");function X9(g,y,T){Gr(y,function(_){var P=rm(g,_.w,T);delete _.w,_.rm=function(){P.rm()}})}o(X9,"_registerDelayedCfgListener");function PB(g,y,T,_){return y.add(g[Yd](function(P){var N=P.cfg.disableDbgExt;N===!0&&_&&(T[IC](_),_=null),T&&!_&&N!==!0&&(_=Aj(P.cfg),T[sE](_))})),_}o(PB,"_initDebugListener");function FB(g){return Ue({rm:o(function(){g.rm()},"rm")},"toJSON",{v:o(function(){return"aicore::onCfgChange<"+JSON.stringify(g)+">"},"v")})}o(FB,"_createUnloadHook");var Nt=function(){function g(){var y,T,_,P,N,q,se,ue,xe,_e,qe,Ze,Ge,ze,ht,ct,It,jt,fr,wr,Fn,fi,di,ro,sn,Or,mi,ds,wo,Yt,Ur,$i;Rl(g,this,function(Dt){dt(),Dt._getDbgPlgTargets=function(){return[di,P]},Dt[yf]=function(){return T},Dt.activeStatus=function(){return Or},Dt._setPendingStatus=function(){Or=3},Dt[vC]=function(gt,Ir,vn,Qr){Ge&&Vt(yn),Dt[yf]()&&Vt("Core cannot be initialized more than once"),y=Cc(gt,xa,vn||Dt[ta],!1),gt=y.cfg,Fl(y[Yd](function(po){var Ho=po.cfg,c0=Or===3;if(!c0){ds=Ho.initInMemoMaxSize||ji;var xc=Ho.instrumentationKey,sm=Ho.endpointUrl;if(Z(xc)){Fn=null,Or=Bh.INACTIVE;var am="Please provide instrumentation key";T?(Dr(_,1,100,am),ks()):Vt(am);return}var nb=[];if(st(xc)?(nb[Fi](xc),Fn=null):Fn=xc,st(sm)?(nb[Fi](sm),mi=null):mi=sm,nb[Qn]){wo=!1,Or=3;var y7=vE(Ho.initTimeOut)?Ho.initTimeOut:xi,u$=F0(nb);Sh(function(){wo||Cn()},y7),hc(u$,function(U2){try{if(wo)return;if(!U2.rejected){var q2=U2[jA];if(q2&&q2[Qn]){var iR=q2[0];if(Fn=iR&&iR[jA],q2[Qn]>1){var oR=q2[1];mi=oR&&oR[jA]}}Fn&&(gt.instrumentationKey=Fn,gt.endpointUrl=mi)}Cn()}catch{wo||Cn()}})}else Cn();var ib=po.ref(po.cfg,Ng);re(ib,function(U2){po.ref(ib,U2)})}})),N=Qr,fr=PB(y,jt,N&&Dt[lu](),fr),M2(),Dt[ta]=vn;var In=gt[e2];if(_e=[],_e[Fi].apply(_e,Qk(Qk([],Ir,!1),In)),qe=gt[Zd],Bs(null),(!Ze||Ze[Qn]===0)&&Vt("No "+Zd+" available"),qe&&qe[Qn]>1){var co=Dt[$A]("TeeChannelController");(!co||!co.plugin)&&Dr(_,1,28,"TeeChannel required")}X9(gt,fi,_),fi=null,T=!0,Or===Bh.ACTIVE&&ks()},Dt.getChannels=function(){var gt=[];return Ze&&Gr(Ze,function(Ir){gt[Fi](Ir)}),Et(gt)},Dt.track=function(gt){w2(Dt[SC](),function(){return"AppInsightsCore:track"},function(){gt===null&&(ms(gt),Vt("Invalid telemetry item")),!gt[Dh]&&Z(gt[Dh])&&(ms(gt),Vt("telemetry name required")),gt.iKey=gt.iKey||Fn,gt.time=gt.time||_C(new Date),gt.ver=gt.ver||"4.0",!Ge&&Dt[yf]()&&Or===Bh.ACTIVE?va()[nl](gt):Or!==Bh.INACTIVE&&P[Qn]<=ds&&P[Fi](gt)},function(){return{item:gt}},!gt.sync)},Dt[zA]=va,Dt[lu]=function(){return N||(N=new wj(y.cfg),Dt[kn]=N),N},Dt[sE]=function(gt){Dt.getNotifyMgr()[sE](gt)},Dt[IC]=function(gt){N&&N[IC](gt)},Dt.getCookieMgr=function(){return ue||(ue=bj(y.cfg,Dt[ta])),ue},Dt.setCookieMgr=function(gt){ue!==gt&&(x2(ue,!1),ue=gt)},Dt[SC]=function(){return q||se||na()},Dt.setPerfMgr=function(gt){q=gt},Dt.eventCnt=function(){return P[Qn]},Dt.releaseQueue=function(){if(T&&P[Qn]>0){var gt=P;P=[],Or===2?Gr(gt,function(Ir){Ir.iKey=Ir.iKey||Fn,va()[nl](Ir)}):Dr(_,2,20,"core init status is not active")}},Dt.pollInternalLogs=function(gt){return ht=gt||null,$i=!1,Yt&&Yt[VA](),no(!0)};function Cn(){wo=!0,Z(Fn)?(Or=Bh.INACTIVE,Dr(_,1,112,"ikey can't be resolved from promises")):Or=Bh.ACTIVE,ks()}o(Cn,"_setStatus");function ks(){T&&(Dt.releaseQueue(),Dt.pollInternalLogs())}o(ks,"_releaseQueues");function no(gt){if((!Yt||!Yt[Cf])&&!$i){var Ir=gt||_&&_.queue[Qn]>0;Ir&&(Ur||(Ur=!0,Fl(y[Yd](function(vn){var Qr=vn.cfg.diagnosticLogInterval;(!Qr||!(Qr>0))&&(Qr=1e4);var In=!1;Yt&&(In=Yt[Cf],Yt[VA]()),Yt=Xx(Q2,Qr),Yt.unref(),Yt[Cf]=In}))),Yt[Cf]=!0)}return Yt}o(no,"_startLogPoller"),Dt[Mk]=function(){$i=!0,Yt&&Yt[VA](),Q2()},I9(Dt,function(){return ze},["addTelemetryInitializer"]),Dt[Bg]=function(gt,Ir,vn){gt===void 0&&(gt=!0),T||Vt(si),Ge&&Vt(yn);var Qr={reason:50,isAsync:gt,flushComplete:!1},In;gt&&!Ir&&(In=ZA(function(Ho){Ir=Ho}));var co=w(Bf(),Dt);co[aE](function(){jt.run(Dt[ta]),pB([ue,N,_],gt,function(){dt(),Ir&&Ir(Qr)})},Dt);function po(Ho){Qr.flushComplete=Ho,Ge=!0,It.run(co,Qr),Dt[Mk](),co[nl](Qr)}return o(po,"_doUnload"),Q2(),im(gt,po,6,vn),In},Dt[$A]=ll,Dt.addPlugin=function(gt,Ir,vn,Qr){if(!gt){Qr&&Qr(!1),O2(Br);return}var In=ll(gt[Rh]);if(In&&!Ir){Qr&&Qr(!1),O2("Plugin ["+gt[Rh]+"] is already loaded!");return}var co={reason:16};function po(xc){_e[Fi](gt),co.added=[gt],Bs(co),Qr&&Qr(!0)}if(o(po,"_addPlugin"),In){var Ho=[In.plugin],c0={reason:2,isAsync:!!vn};Q0(Ho,c0,function(xc){xc?(co.removed=Ho,co.reason|=32,po()):Qr&&Qr(!1)})}else po()},Dt.updateCfg=function(gt,Ir){Ir===void 0&&(Ir=!0);var vn;if(Dt[yf]()){vn={reason:1,cfg:y.cfg,oldCfg:$x({},y.cfg),newConfig:$x({},gt),merge:Ir},gt=vn.newConfig;var Qr=y.cfg;gt[e2]=Qr[e2],gt[Zd]=Qr[Zd]}y._block(function(In){var co=In.cfg;HE(In,co,gt,Ir),Ir||re(co,function(po){We(gt,po)||In.set(co,po,pc)}),In.setDf(co,xa)},!0),y.notify(),vn&&om(vn)},Dt.evtNamespace=function(){return ct},Dt.flush=im,Dt.getTraceCtx=function(gt){return wr||(wr=kj()),wr},Dt.setTraceCtx=function(gt){wr=gt||null},Dt.addUnloadHook=Fl,kC(Dt,"addUnloadCb",function(){return It},"add"),Dt.onCfgChange=function(gt){var Ir;return T?Ir=rm(y.cfg,gt,Dt[ta]):Ir=Dj(fi,gt),FB(Ir)},Dt.getWParam=function(){return Ch()||y.cfg.enableWParam?0:-1};function al(){var gt={};ro=[];var Ir=o(function(vn){vn&&Gr(vn,function(Qr){if(Qr[Rh]&&Qr[YA]&&!gt[Qr.identifier]){var In=Qr[Rh]+"="+Qr[YA];ro[Fi](In),gt[Qr.identifier]=Qr}})},"_addPluginVersions");Ir(Ze),qe&&Gr(qe,function(vn){Ir(vn)}),Ir(_e)}o(al,"_setPluginVersions");function dt(){T=!1,y=Cc({},xa,Dt[ta]),y.cfg[Ok]=1,Ue(Dt,"config",{g:o(function(){return y.cfg},"g"),s:o(function(Ir){Dt.updateCfg(Ir,!1)},"s")}),Ue(Dt,"pluginVersionStringArr",{g:o(function(){return ro||al(),ro},"g")}),Ue(Dt,"pluginVersionString",{g:o(function(){return sn||(ro||al(),sn=ro.join(";")),sn||oi},"g")}),Ue(Dt,"logger",{g:o(function(){return _||(_=new UC(y.cfg),y[ta]=_),_},"g"),s:o(function(Ir){y[ta]=Ir,_!==Ir&&(x2(_,!1),_=Ir)},"s")}),Dt[ta]=new UC(y.cfg),di=[];var gt=Dt.config[e2]||[];gt.splice(0,gt[Qn]),_A(gt,di),ze=new Rn,P=[],x2(N,!1),N=null,q=null,se=null,x2(ue,!1),ue=null,xe=null,_e=[],qe=null,Ze=null,Ge=!1,ht=null,ct=tm("AIBaseCore",!0),It=ce(),wr=null,Fn=null,jt=Te(),fi=[],sn=null,ro=null,$i=!1,Yt=null,Ur=!1,Or=0,mi=null,ds=null,wo=!1}o(dt,"_initDefaults");function va(){var gt=_2(Bf(),y.cfg,Dt);return gt[aE](no),gt}o(va,"_createTelCtx");function Bs(gt){var Ir=VC(Dt[ta],dj,_e);xe=null,sn=null,ro=null,Ze=(qe||[])[0]||[],Ze=z9(_A(Ze,Ir[Zd]));var vn=_A(z9(Ir[ra]),Ze);di=Et(vn);var Qr=Dt.config[e2]||[];Qr.splice(0,Qr[Qn]),_A(Qr,di);var In=va();Ze&&Ze[Qn]>0&&$9(In[Rg](Ze),vn),$9(In,vn),gt&&om(gt)}o(Bs,"_initPluginChain");function ll(gt){var Ir=null,vn=null,Qr=[];return Gr(di,function(In){if(In[Rh]===gt&&In!==ze)return vn=In,-1;In.getChannel&&Qr[Fi](In)}),!vn&&Qr[Qn]>0&&Gr(Qr,function(In){if(vn=In.getChannel(gt),!vn)return-1}),vn&&(Ir={plugin:vn,setEnabled:o(function(In){Vh(vn)[yE]=!In},"setEnabled"),isEnabled:o(function(){var In=Vh(vn);return!In[xf]&&!In[yE]},"isEnabled"),remove:o(function(In,co){In===void 0&&(In=!0);var po=[vn],Ho={reason:1,isAsync:In};Q0(po,Ho,function(c0){c0&&Bs({reason:32,removed:po}),co&&co(c0)})},"remove")}),Ir}o(ll,"_getPlugin");function Bf(){if(!xe){var gt=(di||[]).slice();D0(gt,ze)===-1&&gt[Fi](ze),xe=R(z9(gt),y.cfg,Dt)}return xe}o(Bf,"_getPluginChain");function Q0(gt,Ir,vn){if(gt&&gt[Qn]>0){var Qr=R(gt,y.cfg,Dt),In=w(Qr,Dt);In[aE](function(){var co=!1,po=[];Gr(_e,function(c0,xc){J9(c0,gt)?co=!0:po[Fi](c0)}),_e=po,sn=null,ro=null;var Ho=[];qe&&(Gr(qe,function(c0,xc){var sm=[];Gr(c0,function(am){J9(am,gt)?co=!0:sm[Fi](am)}),Ho[Fi](sm)}),qe=Ho),vn&&vn(co),no()}),In[nl](Ir)}else vn(!1)}o(Q0,"_removePlugins");function Q2(){if(_&&_.queue){var gt=_.queue.slice(0);_.queue[Qn]=0,Gr(gt,function(Ir){var vn={name:ht||"InternalMessageId: "+Ir[lE],iKey:Fn,time:_C(new Date),baseType:NE.dataType,baseData:{message:Ir[Dg]}};Dt.track(vn)})}}o(Q2,"_flushInternalLogs");function im(gt,Ir,vn,Qr){var In=1,co=!1,po=null;Qr=Qr||5e3;function Ho(){In--,co&&In===0&&(po&&po[VA](),po=null,Ir&&Ir(co),Ir=null)}if(o(Ho,"doCallback"),Ze&&Ze[Qn]>0){var c0=va()[Rg](Ze);c0.iterate(function(xc){if(xc.flush){In++;var sm=!1;xc.flush(gt,function(){sm=!0,Ho()},vn)||sm||(gt&&po==null?po=Sh(function(){po=null,Ho()},Qr):Ho())}})}return co=!0,Ho(),!0}o(im,"_flushChannels");function M2(){var gt;Fl(y[Yd](function(Ir){var vn=Ir.cfg.enablePerfMgr;if(vn){var Qr=Ir.cfg[uu];(gt!==Qr||!gt)&&(Qr||(Qr=k2),Xk(Ir.cfg,uu,Qr),gt=Qr,se=null),!q&&!se&&Re(Qr)&&(se=Qr(Dt,Dt[lu]()))}else se=null,gt=null}))}o(M2,"_initPerfManager");function om(gt){var Ir=k(Bf(),Dt);Ir[aE](no),(!Dt._updateHook||Dt._updateHook(Ir,gt)!==!0)&&Ir[nl](gt)}o(om,"_doUpdate");function O2(gt){var Ir=Dt[ta];Ir?(Dr(Ir,2,73,gt),no()):Vt(gt)}o(O2,"_logOrThrowError");function ms(gt){var Ir=Dt[lu]();Ir&&Ir[n2]([gt],2)}o(ms,"_notifyInvalidEvent");function Fl(gt){jt.add(gt)}o(Fl,"_addUnloadHook")})}return o(g,"AppInsightsCore"),g.__ieDyn=1,g}();function Lr(g,y){try{if(g&&g!==""){var T=N0().parse(g);if(T&&T[Uk]&&T[Uk]>=T.itemsAccepted&&T.itemsReceived-T.itemsAccepted===T.errors[Qn])return T}}catch(_){Dr(y,1,43,"Cannot parse the response. "+(_[Dh]||At(_)),{response:g})}return null}o(Lr,"parseResponse");var tn="",Eo="NoResponseBody",Ea="&"+Eo+"=true",_s="POST",ba=function(){function g(){var y=0,T,_,P,N,q,se,ue,xe,_e,qe,Ze,Ge,ze,ht;Rl(g,this,function(ct,It){var jt=!0;wo(),ct[vC]=function(Yt,Ur){P=Ur,_&&Dr(P,1,28,"Sender is already initialized"),ct.SetConfig(Yt),_=!0},ct._getDbgPlgTargets=function(){return[_,N,se,T]},ct.SetConfig=function(Yt){try{if(q=Yt.senderOnCompleteCallBack||{},se=!!Yt.disableCredentials,ue=Yt.fetchCredentials,N=!!Yt.isOneDs,T=!!Yt.enableSendPromise,_e=!!Yt.disableXhr,qe=!!Yt.disableBeacon,Ze=!!Yt.disableBeaconSync,ht=Yt.timeWrapper,ze=!!Yt.addNoResponse,Ge=!!Yt.disableFetchKeepAlive,xe={sendPOST:Or},N||(jt=!1),se){var Ur=u2();Ur&&Ur.protocol&&Ur.protocol[WA]()==="file:"&&(jt=!1)}return!0}catch{}return!1},ct.getSyncFetchPayload=function(){return y},ct.getSenderInst=function(Yt,Ur){return Yt&&Yt[Qn]?fi(Yt,Ur):null},ct.getFallbackInst=function(){return xe},ct[cE]=function(Yt,Ur){wo()};function fr(Yt,Ur){di(Ur,200,{},Yt)}o(fr,"_onSuccess");function wr(Yt,Ur){Dr(P,2,26,"Failed to send telemetry.",{message:Yt}),di(Ur,400,{})}o(wr,"_onError");function Fn(Yt){wr("No endpoint url is provided for the batch",Yt)}o(Fn,"_onNoPayloadUrl");function fi(Yt,Ur){for(var $i=0,Dt=null,Cn=0;Dt==null&&Cn<Yt[Qn];)$i=Yt[Cn],!_e&&$i===1?R9()?Dt=ds:D9()&&(Dt=Or):$i===2&&FC(Ur)&&(!Ur||!Ge)?Dt=mi:$i===3&&Oh()&&(Ur?!Ze:!qe)&&(Dt=sn),Cn++;return Dt?{_transport:$i,_isSync:Ur,sendPOST:Dt}:null}o(fi,"_getSenderInterface");function di(Yt,Ur,$i,Dt){try{Yt&&Yt(Ur,$i,Dt)}catch{}}o(di,"_doOnComplete");function ro(Yt,Ur){var $i=xh(),Dt=Yt[Jd];if(!Dt)return Fn(Ur),!0;Dt=Yt[Jd]+(ze?Ea:tn);var Cn=Yt[KA],ks=N?Cn:new Blob([Cn],{type:"text/plain;charset=UTF-8"}),no=$i.sendBeacon(Dt,ks);return no}o(ro,"_doBeaconSend");function sn(Yt,Ur,$i){var Dt=Yt[KA];try{if(Dt)if(ro(Yt,Ur))fr(tn,Ur);else{var Cn=q&&q.beaconOnRetry;Cn&&Re(Cn)?Cn(Yt,Ur,ro):(xe&&xe.sendPOST(Yt,Ur,!0),Dr(P,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(ks){N&&LE(P,"Failed to send telemetry using sendBeacon API. Ex:"+At(ks)),di(Ur,N?0:400,{},tn)}}o(sn,"_beaconSender");function Or(Yt,Ur,$i){var Dt,Cn,ks,no=Yt[y9]||{};!$i&&T&&(Dt=ZA(function(Bs,ll){Cn=Bs,ks=ll})),N&&$i&&Yt.disableXhrSync&&($i=!1);var al=Yt[Jd];if(!al){Fn(Ur),Cn&&Cn(!1);return}var dt=S9(_s,al,jt,!0,$i,Yt[Xd]);N||dt.setRequestHeader("Content-type","application/json"),Gr(rt(no),function(Bs){dt.setRequestHeader(Bs,no[Bs])}),dt.onreadystatechange=function(){N||(va(dt),dt.readyState===4&&Cn&&Cn(!0))},dt.onload=function(){N&&va(dt)};function va(Bs){var ll=q&&q.xhrOnComplete,Bf=ll&&Re(ll);if(Bf)ll(Bs,Ur,Yt);else{var Q0=IE(Bs);di(Ur,Bs[TC],Mg(Bs,N),Q0)}}return o(va,"_doOnReadyFunc"),dt.onerror=function(Bs){di(Ur,N?dt[TC]:400,Mg(dt,N),N?tn:TE(dt)),ks&&ks(Bs)},dt.ontimeout=function(){di(Ur,N?dt[TC]:500,Mg(dt,N),N?tn:TE(dt)),Cn&&Cn(!1)},dt.send(Yt[KA]),Dt}o(Or,"_xhrSender");function mi(Yt,Ur,$i){var Dt,Cn=Yt[Jd],ks=Yt[KA],no=N?ks:new Blob([ks],{type:"application/json"}),al,dt,va,Bs=new Headers,ll=ks[Qn],Bf=!1,Q0=!1,Q2=Yt[y9]||{},im=(Dt={method:_s,body:no},Dt[gB]=!0,Dt);Yt.headers&&rt(Yt.headers)[Qn]>0&&(Gr(rt(Q2),function(ms){Bs.append(ms,Q2[ms])}),im[y9]=Bs),ue?im.credentials=ue:jt&&N&&(im.credentials="include"),$i&&(im.keepalive=!0,y+=ll,N?Yt._sendReason===2&&(Bf=!0,ze&&(Cn+=Ea)):Bf=!0);var M2=new Request(Cn,im);try{M2[gB]=!0}catch{}if(!$i&&T&&(al=ZA(function(ms,Fl){dt=ms,va=Fl})),!Cn){Fn(Ur),dt&&dt(!1);return}function om(ms){di(Ur,N?0:400,{},N?tn:ms)}o(om,"_handleError");function O2(ms,Fl,gt){var Ir=ms[TC],vn=q.fetchOnComplete;vn&&Re(vn)?vn(ms,Ur,gt||tn,Fl):di(Ur,Ir,{},gt||tn)}o(O2,"_onFetchComplete");try{hc(fetch(N?Cn:M2,N?im:null),function(ms){if($i&&(y-=ll,ll=0),!Q0)if(Q0=!0,ms.rejected)om(ms.reason&&ms.reason[Dg]),va&&va(ms.reason);else{var Fl=ms[jA];try{!N&&!Fl.ok?(om(Fl.statusText),dt&&dt(!1)):N&&!Fl.body?(O2(Fl,null,tn),dt&&dt(!0)):hc(Fl.text(),function(gt){O2(Fl,Yt,gt[jA]),dt&&dt(!0)})}catch(gt){om(At(gt)),va&&va(gt)}}})}catch(ms){Q0||(om(At(ms)),va&&va(ms))}return Bf&&!Q0&&(Q0=!0,di(Ur,200,{}),dt&&dt(!0)),N&&!Q0&&Yt[Xd]>0&&ht&&ht.set(function(){Q0||(Q0=!0,di(Ur,500,{}),dt&&dt(!0))},Yt[Xd]),al}o(mi,"_doFetchSender");function ds(Yt,Ur,$i){var Dt=Vd(),Cn=new XDomainRequest,ks=Yt[KA];Cn.onload=function(){var Bs=IE(Cn),ll=q&&q.xdrOnComplete;ll&&Re(ll)?ll(Cn,Ur,Yt):di(Ur,200,{},Bs)},Cn.onerror=function(){di(Ur,400,{},N?tn:eB(Cn))},Cn.ontimeout=function(){di(Ur,500,{})},Cn.onprogress=function(){};var no=Dt&&Dt.location&&Dt.location.protocol||"",al=Yt[Jd];if(!al){Fn(Ur);return}if(!N&&al.lastIndexOf(no,0)!==0){var dt="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Dr(P,2,40,". "+dt),wr(dt,Ur);return}var va=N?al:al[Nh](/^(https?:)/,"");Cn.open(_s,va),Yt[Xd]&&(Cn[Xd]=Yt[Xd]),Cn.send(ks),N&&$i?ht&&ht.set(function(){Cn.send(ks)},0):Cn.send(ks)}o(ds,"_xdrSender");function wo(){y=0,_=!1,T=!1,P=null,N=null,q=null,se=null,ue=null,xe=null,_e=!1,qe=!1,Ze=!1,Ge=!1,ze=!1,ht=null}o(wo,"_initDefaults")})}return o(g,"SenderPostManager"),g.__ieDyn=1,g}(),qg="on",jh="attachEvent",B2="addEventListener",NB="detachEvent",LB="removeEventListener",VE="events";tm("aiEvtPageHide"),tm("aiEvtPageShow");var Pj=/\.[\.]+/g,lue=/[\.]+$/,oWe=1,QB=aB("events"),sWe=/^([^.]*)(?:\.(.+)|)/;function cue(g){return g&&g[Nh]?g[Nh](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,oi):g}o(cue,"_normalizeNamespace");function Fj(g,y){if(y){var T=oi;Oe(y)?(T=oi,Gr(y,function(P){P=cue(P),P&&(P[0]!=="."&&(P="."+P),T+=P)})):T=cue(y),T&&(T[0]!=="."&&(T="."+T),g=(g||oi)+T)}var _=sWe.exec(g||oi)||[];return{type:_[1],ns:(_[2]||oi).replace(Pj,".").replace(lue,oi)[Fh](".").sort().join(".")}}o(Fj,"_getEvtNamespace");function uue(g,y,T){T===void 0&&(T=!0);var _=QB.get(g,VE,{},T),P=_[y];return P||(P=_[y]=[]),P}o(uue,"_getRegisteredEvents");function fue(g,y,T,_){g&&y&&y[Dl]&&(g[LB]?g[LB](y[Dl],T,_):g[NB]&&g[NB](qg+y[Dl],T))}o(fue,"_doDetach");function aWe(g,y,T,_){var P=!1;return g&&y&&y[Dl]&&T&&(g[B2]?(g[B2](y[Dl],T,_),P=!0):g[jh]&&(g[jh](qg+y[Dl],T),P=!0)),P}o(aWe,"_doAttach");function due(g,y,T,_){for(var P=y[Qn];P--;){var N=y[P];N&&(!T.ns||T.ns===N[p9].ns)&&(!_||_(N))&&(fue(g,N[p9],N.handler,N.capture),y[HA](P,1))}}o(due,"_doUnregister");function lWe(g,y,T){if(y[Dl])due(g,uue(g,y[Dl]),y,T);else{var _=QB.get(g,VE,{});re(_,function(P,N){due(g,N,y,T)}),rt(_)[Qn]===0&&QB.kill(g,VE)}}o(lWe,"_unregisterEvents");function mue(g,y){var T;return y?(Oe(y)?T=[g].concat(y):T=[g,y],T=Fj("xx",T).ns[Fh](".")):T=g,T}o(mue,"mergeEvtNamespace");function hue(g,y,T,_,P){P===void 0&&(P=!1);var N=!1;if(g)try{var q=Fj(y,_);if(N=aWe(g,q,T,P),N&&QB.accept(g)){var se={guid:oWe++,evtName:q,handler:T,capture:P};uue(g,q.type)[Fi](se)}}catch{}return N}o(hue,"eventOn");function cWe(g,y,T,_,P){if(P===void 0&&(P=!1),g)try{var N=Fj(y,_),q=!1;lWe(g,N,function(se){return N.ns&&!T||se.handler===T?(q=!0,!0):!1}),q||fue(g,N,T,P)}catch{}}o(cWe,"eventOff");var pue="sampleRate",Nj="ProcessLegacy",gue="http.method",Lj="https://dc.services.visualstudio.com",jE="/v2/track",R2="not_specified",Aue=YV({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),MB="split",ri="length",Qj="toLowerCase",jC="ingestionendpoint",Z9="toString",yue="removeItem",OB="message",uWe="count",Mj="stringify",Oj="pathname",e7="match",D2="name",$h="properties",Wg="measurements",UB="sizeInBytes",qB="typeName",t7="exceptions",r7="severityLevel",Uj="problemGroup",$E="parsedStack",WB="hasFullStack",GB="assembly",Gg="fileName",zE="line",HB="aiDataContract",VB="duration";function Cue(g,y,T){var _=y[ri],P=fWe(g,y);if(P[ri]!==_){for(var N=0,q=P;T[q]!==void 0;)N++,q=me(P,0,147)+hWe(N);P=q}return P}o(Cue,"dataSanitizeKeyAndAddUniqueness");function fWe(g,y){var T;return y&&(y=Pi(yt(y)),y[ri]>150&&(T=me(y,0,150),Dr(g,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),T||y}o(fWe,"dataSanitizeKey");function a0(g,y,T){T===void 0&&(T=1024);var _;return y&&(T=T||1024,y=Pi(yt(y)),y[ri]>T&&(_=me(y,0,T),Dr(g,2,61,"string value is too long. It has been truncated to "+T+" characters.",{value:y},!0))),_||y}o(a0,"dataSanitizeString");function qj(g,y){return Eue(g,y,2048,66)}o(qj,"dataSanitizeUrl");function xue(g,y){var T;return y&&y[ri]>32768&&(T=me(y,0,32768),Dr(g,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),T||y}o(xue,"dataSanitizeMessage");function dWe(g,y){var T;if(y){var _=""+y;_[ri]>32768&&(T=me(_,0,32768),Dr(g,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return T||y}o(dWe,"dataSanitizeException");function $C(g,y){if(y){var T={};re(y,function(_,P){if(Ee(P)&&f2())try{P=N0()[Mj](P)}catch(N){Dr(g,2,49,"custom property is not valid",{exception:N},!0)}P=a0(g,P,8192),_=Cue(g,_,T),T[_]=P}),y=T}return y}o($C,"dataSanitizeProperties");function zC(g,y){if(y){var T={};re(y,function(_,P){_=Cue(g,_,T),T[_]=P}),y=T}return y}o(zC,"dataSanitizeMeasurements");function mWe(g,y){return y&&Eue(g,y,128,69)[Z9]()}o(mWe,"dataSanitizeId");function Eue(g,y,T,_){var P;return y&&(y=Pi(yt(y)),y[ri]>T&&(P=me(y,0,T),Dr(g,2,_,"input is too long, it has been truncated to "+T+" characters.",{data:y},!0))),P||y}o(Eue,"dataSanitizeInput");function hWe(g){var y="00"+g;return ye(y,y[ri]-3)}o(hWe,"dsPadNumber");var bue=wA()||{},vue=0,pWe=[null,null,null,null,null];function gWe(g){var y=vue,T=pWe,_=T[y];return bue.createElement?T[y]||(_=T[y]=bue.createElement("a")):_={host:AWe(g,!0)},_.href=g,y++,y>=T[ri]&&(y=0),vue=y,_}o(gWe,"urlParseUrl");function AWe(g,y){var T=yWe(g,y)||"";if(T){var _=T[e7](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(_!=null&&_[ri]>3&&fe(_[2])&&_[2][ri]>0)return _[2]+(_[3]||"")}return T}o(AWe,"urlParseHost");function yWe(g,y){var T=null;if(g){var _=g[e7](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(_!=null&&_[ri]>2&&fe(_[2])&&_[2][ri]>0&&(T=_[2]||"",y&&_[ri]>2)){var P=(_[1]||"")[Qj](),N=_[3]||"";(P==="http"&&N===":80"||P==="https"&&N===":443")&&(N=""),T+=N}}return T}o(yWe,"urlParseFullHost");var CWe=[Lj+jE,"https://breeze.aimon.applicationinsights.io"+jE,"https://dc-int.services.visualstudio.com"+jE];function Iue(g){return D0(CWe,g[Qj]())!==-1}o(Iue,"isInternalApplicationInsightsEndpoint");function xWe(g,y,T,_){var P,N=_,q=_;if(y&&y[ri]>0){var se=gWe(y);if(P=se.host,!N)if(se[Oj]!=null){var ue=se.pathname[ri]===0?"/":se[Oj];ue.charAt(0)!=="/"&&(ue="/"+ue),q=se[Oj],N=a0(g,T?T+" "+ue:ue)}else N=a0(g,y)}else P=_,N=_;return{target:P,name:N,data:q}}o(xWe,"AjaxHelperParseDependencyPath");var Wj=iE({LocalStorage:0,SessionStorage:1}),YE=void 0,Tue="";function wue(g){try{if(Z(gf()))return null;var y=new Date()[Z9](),T=Os(g===Wj.LocalStorage?"localStorage":"sessionStorage"),_=Tue+y;T.setItem(_,y);var P=T.getItem(_)!==y;if(T[yue](_),!P)return T}catch{}return null}o(wue,"_getVerifiedStorageObject");function Gj(){return Sue()?wue(Wj.SessionStorage):null}o(Gj,"_getSessionStorageObject");function EWe(g){Tue=g||""}o(EWe,"utlSetStoragePrefix");function Sue(g){return(g||YE===void 0)&&(YE=!!wue(Wj.SessionStorage)),YE}o(Sue,"utlCanUseSessionStorage");function bWe(g,y){var T=Gj();if(T!==null)try{return T.getItem(y)}catch(_){YE=!1,Dr(g,2,2,"Browser failed read of session storage. "+Va(_),{exception:At(_)})}return null}o(bWe,"utlGetSessionStorage");function vWe(g,y,T){var _=Gj();if(_!==null)try{return _.setItem(y,T),!0}catch(P){YE=!1,Dr(g,2,4,"Browser failed write to session storage. "+Va(P),{exception:At(P)})}return!1}o(vWe,"utlSetSessionStorage");function IWe(g,y){var T=Gj();if(T!==null)try{return T[yue](y),!0}catch(_){YE=!1,Dr(g,2,6,"Browser failed removal of session storage item. "+Va(_),{exception:At(_)})}return!1}o(IWe,"utlRemoveSessionStorage");var TWe=";",wWe="=";function Hj(g){if(!g)return{};var y=g[MB](TWe),T=QV(y,function(P,N){var q=N[MB](wWe);if(q[ri]===2){var se=q[0][Qj](),ue=q[1];P[se]=ue}return P},{});if(rt(T)[ri]>0){if(T.endpointsuffix){var _=T.location?T.location+".":"";T[jC]=T[jC]||"https://"+_+"dc."+T.endpointsuffix}T[jC]=T[jC]||Lj,Pk(T[jC],"/")&&(T[jC]=T[jC].slice(0,-1))}return T}o(Hj,"parseConnectionString");var SWe=function(){function g(y,T,_){var P=this,N=this;N.ver=1,N.sampleRate=100,N.tags={},N[D2]=a0(y,_)||R2,N.data=T,N.time=_C(new Date),N[HB]={time:1,iKey:1,name:1,sampleRate:o(function(){return P.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return o(g,"Envelope"),g}(),KE=function(){function g(y,T,_,P){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var N=this;N.ver=2,N[D2]=a0(y,T)||R2,N[$h]=$C(y,_),N[Wg]=zC(y,P)}return o(g,"Event"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Event",g.dataType="EventData",g}(),_We=58,kWe=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,BWe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,RWe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,DWe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,PWe=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,FWe=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,NWe=/([^\(\s\n]+):([0-9]+)$/,_ue="<no_method>",JE="error",kf="stack",Vj="stackDetails",kue="errorSrc",jj="message",Bue="description",Rue=[{re:BWe,len:5,m:1,fn:2,ln:3,col:4},{chk:QWe,pre:LWe,re:RWe,len:4,m:1,fn:2,ln:3},{re:DWe,len:3,m:1,fn:2,hdl:Que},{re:PWe,len:2,fn:1,hdl:Que}];function LWe(g){return g.replace(/(\(anonymous\))/,"<anonymous>")}o(LWe,"_scrubAnonymous");function QWe(g){return jd(g,"[native")<0}o(QWe,"_ignoreNative");function $j(g,y){var T=g;return T&&!fe(T)&&(JSON&&JSON[Mj]?(T=JSON[Mj](g),y&&(!T||T==="{}")&&(Re(g[Z9])?T=g[Z9]():T=""+g)):T=""+g+" - (Missing JSON.stringify)"),T||""}o($j,"_stringify");function Due(g,y){var T=g;return g&&(T&&!fe(T)&&(T=g[jj]||g[Bue]||T),T&&!fe(T)&&(T=$j(T,!0)),g.filename&&(T=T+" @"+(g.filename||"")+":"+(g.lineno||"?")+":"+(g.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&jd(T||"",y)===-1&&(T=y+": "+T),T||""}o(Due,"_formatMessage");function MWe(g){try{if(Ee(g))return"hasFullStack"in g&&"typeName"in g}catch{}return!1}o(MWe,"_isExceptionDetailsInternal");function OWe(g){try{if(Ee(g))return"ver"in g&&"exceptions"in g&&"properties"in g}catch{}return!1}o(OWe,"_isExceptionInternal");function Pue(g){return g&&g.src&&fe(g.src)&&g.obj&&Oe(g.obj)}o(Pue,"_isStackDetails");function YC(g){var y=g||"";fe(y)||(fe(y[kf])?y=y[kf]:y=""+y);var T=y[MB](`
`);return{src:y,obj:T}}o(YC,"_convertStackObj");function UWe(g){for(var y=[],T=g[MB](`
`),_=0;_<T[ri];_++){var P=T[_];T[_+1]&&(P+="@"+T[_+1],_++),y.push(P)}return{src:g,obj:y}}o(UWe,"_getOperaStack");function Fue(g){var y=null;if(g)try{if(g[kf])y=YC(g[kf]);else if(g[JE]&&g[JE][kf])y=YC(g[JE][kf]);else if(g.exception&&g.exception[kf])y=YC(g.exception[kf]);else if(Pue(g))y=g;else if(Pue(g[Vj]))y=g[Vj];else if(Vd()&&Vd().opera&&g[jj])y=UWe(g[OB]);else if(g.reason&&g.reason[kf])y=YC(g.reason[kf]);else if(fe(g))y=YC(g);else{var T=g[jj]||g[Bue]||"";fe(g[kue])&&(T&&(T+=`
`),T+=" from "+g[kue]),T&&(y=YC(T))}}catch(_){y=YC(_)}return y||{src:"",obj:null}}o(Fue,"_getStackFromErrorObj");function qWe(g){var y="";return g&&(g.obj?y=g.obj.join(`
`):y=g.src||""),y}o(qWe,"_formatStackTrace");function WWe(g){var y,T=g.obj;if(T&&T[ri]>0){y=[];var _=0,P=!1,N=0;Gr(T,function(ht){if(P||jWe(ht)){var ct=yt(ht);P=!0;var It=$We(ct,_);It&&(N+=It[UB],y.push(It),_++)}});var q=32*1024;if(N>q)for(var se=0,ue=y[ri]-1,xe=0,_e=se,qe=ue;se<ue;){var Ze=y[se][UB],Ge=y[ue][UB];if(xe+=Ze+Ge,xe>q){var ze=qe-_e+1;y.splice(_e,ze);break}_e=se,qe=ue,se++,ue--}}return y}o(WWe,"_parseStack");function jB(g){var y="";if(g&&(y=g.typeName||g[D2]||"",!y))try{var T=/function (.{1,200})\(/,_=T.exec(g.constructor[Z9]());y=_&&_[ri]>1?_[1]:""}catch{}return y}o(jB,"_getErrorType");function zj(g){if(g)try{if(!fe(g)){var y=jB(g),T=$j(g,!1);return(!T||T==="{}")&&(g[JE]&&(g=g[JE],y=jB(g)),T=$j(g,!0)),jd(T,y)!==0&&y!=="String"?y+":"+T:T}}catch{}return""+(g||"")}o(zj,"_formatErrorCode");var $B=function(){function g(y,T,_,P,N,q){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var se=this;se.ver=2,OWe(T)?(se[t7]=T[t7]||[],se[$h]=T[$h],se[Wg]=T[Wg],T[r7]&&(se[r7]=T[r7]),T.id&&(se.id=T.id,T[$h].id=T.id),T[Uj]&&(se[Uj]=T[Uj]),Z(T.isManual)||(se.isManual=T.isManual)):(_||(_={}),q&&(_.id=q),se[t7]=[Nue(y,T,_)],se[$h]=$C(y,_),se[Wg]=zC(y,P),N&&(se[r7]=N),q&&(se.id=q))}return o(g,"Exception"),g.CreateAutoException=function(y,T,_,P,N,q,se,ue){var xe=jB(N||q||y);return{message:Due(y,xe),url:T,lineNumber:_,columnNumber:P,error:zj(N||q||y),evt:zj(q||y),typeName:xe,stackDetails:Fue(se||N||q),errorSrc:ue}},g.CreateFromInterface=function(y,T,_,P){var N=T[t7]&&bg(T[t7],function(se){return VWe(y,se)}),q=new g(y,zd(zd({},T),{exceptions:N}),_,P);return q},g.prototype.toInterface=function(){var y=this,T=y.exceptions,_=y.properties,P=y.measurements,N=y.severityLevel,q=y.problemGroup,se=y.id,ue=y.isManual,xe=T instanceof Array&&bg(T,function(_e){return _e.toInterface()})||void 0;return{ver:"4.0",exceptions:xe,severityLevel:N,properties:_,measurements:P,problemGroup:q,id:se,isManual:ue}},g.CreateSimpleException=function(y,T,_,P,N,q){var se;return{exceptions:[(se={},se[WB]=!0,se.message=y,se.stack=N,se.typeName=T,se)]}},g.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",g.dataType="ExceptionData",g.formatError=zj,g}(),GWe=Et({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function HWe(){var g=this,y=Oe(g[$E])&&bg(g[$E],function(_){return YWe(_)}),T={id:g.id,outerId:g.outerId,typeName:g[qB],message:g[OB],hasFullStack:g[WB],stack:g[kf],parsedStack:y||void 0};return T}o(HWe,"_toInterface");function Nue(g,y,T){var _,P,N,q,se,ue,xe,_e;if(MWe(y))q=y[qB],se=y[OB],xe=y[kf],_e=y[$E]||[],ue=y[WB];else{var qe=y,Ze=qe&&qe.evt;Xe(qe)||(qe=qe[JE]||Ze||qe),q=a0(g,jB(qe))||R2,se=xue(g,Due(y||qe,q))||R2;var Ge=y[Vj]||Fue(y);_e=WWe(Ge),Oe(_e)&&bg(_e,function(ze){ze[GB]=a0(g,ze[GB]),ze[Gg]=a0(g,ze[Gg])}),xe=dWe(g,qWe(Ge)),ue=Oe(_e)&&_e[ri]>0,T&&(T[qB]=T[qB]||q)}return _={},_[HB]=GWe,_.id=P,_.outerId=N,_.typeName=q,_.message=se,_[WB]=ue,_.stack=xe,_.parsedStack=_e,_.toInterface=HWe,_}o(Nue,"_createExceptionDetails");function VWe(g,y){var T=Oe(y[$E])&&bg(y[$E],function(P){return zWe(P)})||y[$E],_=Nue(g,zd(zd({},y),{parsedStack:T}));return _}o(VWe,"_createExDetailsFromInterface");function Lue(g,y){var T=y[e7](FWe);if(T&&T[ri]>=4)g[Gg]=T[1],g[zE]=parseInt(T[2]);else{var _=y[e7](NWe);_&&_[ri]>=3?(g[Gg]=_[1],g[zE]=parseInt(_[2])):g[Gg]=y}}o(Lue,"_parseFilename");function Que(g,y,T){var _=g[Gg];y.fn&&T&&T[ri]>y.fn&&(y.ln&&T[ri]>y.ln?(_=Pi(T[y.fn]||""),g[zE]=parseInt(Pi(T[y.ln]||""))||0):_=Pi(T[y.fn]||"")),_&&Lue(g,_)}o(Que,"_handleFilename");function jWe(g){var y=!1;if(g&&fe(g)){var T=Pi(g);T&&(y=kWe.test(T))}return y}o(jWe,"_isStackFrame");var Mue=Et({level:1,method:1,assembly:0,fileName:0,line:0});function $We(g,y){var T,_;if(g&&fe(g)&&Pi(g)){_=(T={},T[HB]=Mue,T.level=y,T.assembly=Pi(g),T.method=_ue,T.fileName="",T.line=0,T.sizeInBytes=0,T);for(var P=0;P<Rue[ri];){var N=Rue[P];if(N.chk&&!N.chk(g))break;N.pre&&(g=N.pre(g));var q=g[e7](N.re);if(q&&q[ri]>=N.len){N.m&&(_.method=Pi(q[N.m]||_ue)),N.hdl?N.hdl(_,N,q):N.fn&&(N.ln?(_[Gg]=Pi(q[N.fn]||""),_[zE]=parseInt(Pi(q[N.ln]||""))||0):Lue(_,q[N.fn]||""));break}P++}}return Oue(_)}o($We,"_extractStackFrame");function zWe(g){var y,T=(y={},y[HB]=Mue,y.level=g.level,y.method=g.method,y.assembly=g[GB],y.fileName=g[Gg],y.line=g[zE],y.sizeInBytes=0,y);return Oue(T)}o(zWe,"_stackFrameFromInterface");function Oue(g){var y=_We;return g&&(y+=g.method[ri],y+=g.assembly[ri],y+=g.fileName[ri],y+=g.level.toString()[ri],y+=g.line.toString()[ri],g[UB]=y),g}o(Oue,"_populateFrameSizeInBytes");function YWe(g){return{level:g.level,method:g.method,assembly:g[GB],fileName:g[Gg],line:g[zE]}}o(YWe,"_parsedFrameToInterface");var KWe=function(){function g(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(g,"DataPoint"),g}(),n7=function(){function g(y,T,_,P,N,q,se,ue,xe){this.aiDataContract={ver:1,metrics:1,properties:0};var _e=this;_e.ver=2;var qe=new KWe;qe[uWe]=P>0?P:void 0,qe.max=isNaN(q)||q===null?void 0:q,qe.min=isNaN(N)||N===null?void 0:N,qe[D2]=a0(y,T)||R2,qe.value=_,qe.stdDev=isNaN(se)||se===null?void 0:se,_e.metrics=[qe],_e[$h]=$C(y,ue),_e[Wg]=zC(y,xe)}return o(g,"Metric"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",g.dataType="MetricData",g}(),i7="";function Uue(g){(isNaN(g)||g<0)&&(g=0),g=WV(g);var y=i7+g%1e3,T=i7+vg(g/1e3)%60,_=i7+vg(g/(1e3*60))%60,P=i7+vg(g/(1e3*60*60))%24,N=vg(g/(1e3*60*60*24));return y=y[ri]===1?"00"+y:y[ri]===2?"0"+y:y,T=T[ri]<2?"0"+T:T,_=_[ri]<2?"0"+_:_,P=P[ri]<2?"0"+P:P,(N>0?N+".":i7)+P+":"+_+":"+T+"."+y}o(Uue,"msToTimeSpan");var zB=function(){function g(y,T,_,P,N,q,se){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var ue=this;ue.ver=2,ue.id=mWe(y,se),ue.url=qj(y,_),ue[D2]=a0(y,T)||R2,isNaN(P)||(ue[VB]=Uue(P)),ue[$h]=$C(y,N),ue[Wg]=zC(y,q)}return o(g,"PageView"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",g.dataType="PageviewData",g}(),YB=function(){function g(y,T,_,P,N,q,se,ue,xe,_e,qe,Ze){xe===void 0&&(xe="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Ge=this;Ge.ver=2,Ge.id=T,Ge[VB]=Uue(N),Ge.success=q,Ge.resultCode=se+"",Ge.type=a0(y,xe);var ze=xWe(y,_,ue,P);Ge.data=qj(y,P)||ze.data,Ge.target=a0(y,ze.target),_e&&(Ge.target="".concat(Ge.target," | ").concat(_e)),Ge[D2]=a0(y,ze[D2]),Ge[$h]=$C(y,qe),Ge[Wg]=zC(y,Ze)}return o(g,"RemoteDependencyData"),g.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",g.dataType="RemoteDependencyData",g}(),KB=function(){function g(y,T,_,P,N){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var q=this;q.ver=2,T=T||R2,q[OB]=xue(y,T),q[$h]=$C(y,P),q[Wg]=zC(y,N),_&&(q[r7]=_)}return o(g,"Trace"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Message",g.dataType="MessageData",g}(),JB=function(){function g(y,T,_,P,N,q,se){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var ue=this;ue.ver=2,ue.url=qj(y,_),ue[D2]=a0(y,T)||R2,ue[$h]=$C(y,N),ue[Wg]=zC(y,q),se&&(ue.domProcessing=se.domProcessing,ue[VB]=se[VB],ue.networkConnect=se.networkConnect,ue.perfTotal=se.perfTotal,ue.receivedResponse=se.receivedResponse,ue.sentRequest=se.sentRequest)}return o(g,"PageViewPerformance"),g.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",g.dataType="PageviewPerformanceData",g}(),KC=function(){function g(y,T){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=T}return o(g,"Data"),g}(),JWe=iE({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function P2(g){var y="ai."+g+".";return function(T){return y+T}}o(P2,"_aiNameFunc");var o7=P2("application"),$a=P2("device"),XB=P2("location"),XE=P2("operation"),Yj=P2("session"),F2=P2("user"),JC=P2("cloud"),s7=P2("internal"),que=function(g){bC(y,g);function y(){return g.call(this)||this}return o(y,"ContextTagKeys"),y}(ij({applicationVersion:o7("ver"),applicationBuild:o7("build"),applicationTypeId:o7("typeId"),applicationId:o7("applicationId"),applicationLayer:o7("layer"),deviceId:$a("id"),deviceIp:$a("ip"),deviceLanguage:$a("language"),deviceLocale:$a("locale"),deviceModel:$a("model"),deviceFriendlyName:$a("friendlyName"),deviceNetwork:$a("network"),deviceNetworkName:$a("networkName"),deviceOEMName:$a("oemName"),deviceOS:$a("os"),deviceOSVersion:$a("osVersion"),deviceRoleInstance:$a("roleInstance"),deviceRoleName:$a("roleName"),deviceScreenResolution:$a("screenResolution"),deviceType:$a("type"),deviceMachineName:$a("machineName"),deviceVMName:$a("vmName"),deviceBrowser:$a("browser"),deviceBrowserVersion:$a("browserVersion"),locationIp:XB("ip"),locationCountry:XB("country"),locationProvince:XB("province"),locationCity:XB("city"),operationId:XE("id"),operationName:XE("name"),operationParentId:XE("parentId"),operationRootId:XE("rootId"),operationSyntheticSource:XE("syntheticSource"),operationCorrelationVector:XE("correlationVector"),sessionId:Yj("id"),sessionIsFirst:Yj("isFirst"),sessionIsNew:Yj("isNew"),userAccountAcquisitionDate:F2("accountAcquisitionDate"),userAccountId:F2("accountId"),userAgent:F2("userAgent"),userId:F2("id"),userStoreRegion:F2("storeRegion"),userAuthUserId:F2("authUserId"),userAnonymousUserAcquisitionDate:F2("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:F2("authUserAcquisitionDate"),cloudName:JC("name"),cloudRole:JC("role"),cloudRoleVer:JC("roleVer"),cloudRoleInstance:JC("roleInstance"),cloudEnvironment:JC("environment"),cloudLocation:JC("location"),cloudDeploymentUnit:JC("deploymentUnit"),internalNodeName:s7("nodeName"),internalSdkVersion:s7("sdkVersion"),internalAgentVersion:s7("agentVersion"),internalSnippet:s7("snippet"),internalSdkSrc:s7("sdkSrc")})),ol=new que;function Wue(g,y){cWe(g,null,null,y)}o(Wue,"_disableEvents");function XWe(g){var y=wA(),T=xh(),_=!1,P=[],N=1;T&&!Z(T.onLine)&&!T.onLine&&(N=2);var q=0,se=Ze(),ue=mue(tm("OfflineListener"),g);try{if(_e(Vd())&&(_=!0),y){var xe=y.body||y;xe.ononline&&_e(xe)&&(_=!0)}}catch{_=!1}function _e(fr){var wr=!1;return fr&&(wr=hue(fr,"online",ht,ue),wr&&hue(fr,"offline",ct,ue)),wr}o(_e,"_enableEvents");function qe(){return se}o(qe,"_isOnline");function Ze(){return!(q===2||N===2)}o(Ze,"calCurrentState");function Ge(){var fr=Ze();se!==fr&&(se=fr,Gr(P,function(wr){var Fn={isOnline:se,rState:N,uState:q};try{wr(Fn)}catch{}}))}o(Ge,"listnerNoticeCheck");function ze(fr){q=fr,Ge()}o(ze,"setOnlineState");function ht(){N=1,Ge()}o(ht,"_setOnline");function ct(){N=2,Ge()}o(ct,"_setOffline");function It(){var fr=Vd();if(fr&&_){if(Wue(fr,ue),y){var wr=y.body||y;M(wr.ononline)||Wue(wr,ue)}_=!1}}o(It,"_unload");function jt(fr){return P.push(fr),{rm:o(function(){var wr=P.indexOf(fr);if(wr>-1)return P.splice(wr,1)},"rm")}}return o(jt,"addListener"),{isOnline:qe,isListening:o(function(){return _},"isListening"),unload:It,addListener:jt,setOnlineState:ze}}o(XWe,"createOfflineListener");var ZWe="AppInsightsChannelPlugin",XC="duration",Pl="tags",Kj="deviceType",mu="data",Hg="name",a7="traceID",ai="length",l7="stringify",ZC="measurements",zh="dataType",e3="envelopeType",t3="toString",r3="enqueue",n3="count",Vg="push",Jj="emitLineDelimitedJson",ZE="clear",ZB="markAsSent",c7="clearSent",Xj="bufferOverride",u7="BUFFER_KEY",N2="SENT_BUFFER_KEY",eb="concat",f7="MAX_BUFFER_SIZE",d7="triggerSend",l0="diagLog",Zj="initialize",m7="_sender",h7="endpointUrl",p7="instrumentationKey",e$="customHeaders",Gue="maxBatchSizeInBytes",t$="onunloadDisableBeacon",r$="isBeaconApiDisabled",Hue="alwaysUseXhrOverride",Vue="enableSessionStorageBuffer",Yh="_buffer",jue="onunloadDisableFetch",$ue="disableSendBeaconSplit",eR="getSenderInst",i3="_onError",n$="_onPartialSuccess",tR="_onSuccess",i$="itemsReceived",o$="itemsAccepted",s$="baseType",rR="sampleRate",eGe="getHashCodeScore",a$="baseType",us="baseData",sl="properties",zue="true";function ia(g,y,T){return Qh(g,y,T,oe)}o(ia,"_setValueIf");function tGe(g,y,T){var _=T[Pl]=T[Pl]||{},P=y.ext=y.ext||{},N=y[Pl]=y[Pl]||[],q=P.user;q&&(ia(_,ol.userAuthUserId,q.authId),ia(_,ol.userId,q.id||q.localId));var se=P.app;se&&ia(_,ol.sessionId,se.sesId);var ue=P.device;ue&&(ia(_,ol.deviceId,ue.id||ue.localId),ia(_,ol[Kj],ue.deviceClass),ia(_,ol.deviceIp,ue.ip),ia(_,ol.deviceModel,ue.model),ia(_,ol[Kj],ue[Kj]));var xe=y.ext.web;if(xe){ia(_,ol.deviceLanguage,xe.browserLang),ia(_,ol.deviceBrowserVersion,xe.browserVer),ia(_,ol.deviceBrowser,xe.browser);var _e=T[mu]=T[mu]||{},qe=_e[us]=_e[us]||{},Ze=qe[sl]=qe[sl]||{};ia(Ze,"domain",xe.domain),ia(Ze,"isManual",xe.isManual?zue:null),ia(Ze,"screenRes",xe.screenRes),ia(Ze,"userConsent",xe.userConsent?zue:null)}var Ge=P.os;Ge&&(ia(_,ol.deviceOS,Ge[Hg]),ia(_,ol.deviceOSVersion,Ge.osVer));var ze=P.trace;ze&&(ia(_,ol.operationParentId,ze.parentID),ia(_,ol.operationName,a0(g,ze[Hg])),ia(_,ol.operationId,ze[a7]));for(var ht={},ct=N[ai]-1;ct>=0;ct--){var It=N[ct];re(It,function(fr,wr){ht[fr]=wr}),N.splice(ct,1)}re(N,function(fr,wr){ht[fr]=wr});var jt=zd(zd({},_),ht);jt[ol.internalSdkVersion]||(jt[ol.internalSdkVersion]=a0(g,"javascript:".concat(rGe.Version),64)),T[Pl]=T9(jt)}o(tGe,"_extractPartAExtensions");function L2(g,y,T){Z(g)||re(g,function(_,P){Je(P)?T[_]=P:fe(P)?y[_]=P:f2()&&(y[_]=N0()[l7](P))})}o(L2,"_extractPropsAndMeasurements");function o3(g,y){Z(g)||re(g,function(T,_){g[T]=_||y})}o(o3,"_convertPropsUndefinedToCustomDefinedValue");function s3(g,y,T,_){var P=new SWe(g,_,y);ia(P,"sampleRate",T[pue]),(T[us]||{}).startTime&&(P.time=_C(T[us].startTime)),P.iKey=T.iKey;var N=T.iKey.replace(/-/g,"");return P[Hg]=P[Hg].replace("{0}",N),tGe(g,T,P),T[Pl]=T[Pl]||[],T9(P)}o(s3,"_createEnvelope");function a3(g,y){Z(y[us])&&Dr(g,1,46,"telemetryItem.baseData cannot be null.")}o(a3,"EnvelopeCreatorInit");var rGe={Version:"3.3.6"};function nGe(g,y,T){a3(g,y);var _=y[us][ZC]||{},P=y[us][sl]||{};L2(y[mu],P,_),Z(T)||o3(P,T);var N=y[us];if(Z(N))return LE(g,"Invalid input for dependency data"),null;var q=N[sl]&&N[sl][gue]?N[sl][gue]:"GET",se=new YB(g,N.id,N.target,N[Hg],N[XC],N.success,N.responseCode,q,N.type,N.correlationContext,P,_),ue=new KC(YB[zh],se);return s3(g,YB[e3],y,ue)}o(nGe,"DependencyEnvelopeCreator");function Yue(g,y,T){a3(g,y);var _={},P={};y[a$]!==KE[zh]&&(_.baseTypeSource=y[a$]),y[a$]===KE[zh]?(_=y[us][sl]||{},P=y[us][ZC]||{}):y[us]&&L2(y[us],_,P),L2(y[mu],_,P),Z(T)||o3(_,T);var N=y[us][Hg],q=new KE(g,N,_,P),se=new KC(KE[zh],q);return s3(g,KE[e3],y,se)}o(Yue,"EventEnvelopeCreator");function iGe(g,y,T){a3(g,y);var _=y[us][ZC]||{},P=y[us][sl]||{};L2(y[mu],P,_),Z(T)||o3(P,T);var N=y[us],q=$B.CreateFromInterface(g,N,P,_),se=new KC($B[zh],q);return s3(g,$B[e3],y,se)}o(iGe,"ExceptionEnvelopeCreator");function oGe(g,y,T){a3(g,y);var _=y[us],P=_[sl]||{},N=_[ZC]||{};L2(y[mu],P,N),Z(T)||o3(P,T);var q=new n7(g,_[Hg],_.average,_.sampleCount,_.min,_.max,_.stdDev,P,N),se=new KC(n7[zh],q);return s3(g,n7[e3],y,se)}o(oGe,"MetricEnvelopeCreator");function sGe(g,y,T){a3(g,y);var _,P=y[us];!Z(P)&&!Z(P[sl])&&!Z(P[sl][XC])?(_=P[sl][XC],delete P[sl][XC]):!Z(y[mu])&&!Z(y[mu][XC])&&(_=y[mu][XC],delete y[mu][XC]);var N=y[us],q;((y.ext||{}).trace||{})[a7]&&(q=y.ext.trace[a7]);var se=N.id||q,ue=N[Hg],xe=N.uri,_e=N[sl]||{},qe=N[ZC]||{};if(Z(N.refUri)||(_e.refUri=N.refUri),Z(N.pageType)||(_e.pageType=N.pageType),Z(N.isLoggedIn)||(_e.isLoggedIn=N.isLoggedIn[t3]()),!Z(N[sl])){var Ze=N[sl];re(Ze,function(ht,ct){_e[ht]=ct})}L2(y[mu],_e,qe),Z(T)||o3(_e,T);var Ge=new zB(g,ue,xe,_,_e,qe,se),ze=new KC(zB[zh],Ge);return s3(g,zB[e3],y,ze)}o(sGe,"PageViewEnvelopeCreator");function aGe(g,y,T){a3(g,y);var _=y[us],P=_[Hg],N=_.uri||_.url,q=_[sl]||{},se=_[ZC]||{};L2(y[mu],q,se),Z(T)||o3(q,T);var ue=new JB(g,P,N,void 0,q,se,_),xe=new KC(JB[zh],ue);return s3(g,JB[e3],y,xe)}o(aGe,"PageViewPerformanceEnvelopeCreator");function lGe(g,y,T){a3(g,y);var _=y[us].message,P=y[us].severityLevel,N=y[us][sl]||{},q=y[us][ZC]||{};L2(y[mu],N,q),Z(T)||o3(N,T);var se=new KB(g,_,P,N,q),ue=new KC(KB[zh],se);return s3(g,KB[e3],y,ue)}o(lGe,"TraceEnvelopeCreator");var Kue=function(){function g(y,T){var _=[],P=!1,N=T.maxRetryCnt;this._get=function(){return _},this._set=function(q){return _=q,_},Rl(g,this,function(q){q[r3]=function(se){if(q[n3]()>=T.eventsLimitInMem){P||(Dr(y,2,105,"Maximum in-memory buffer size reached: "+q[n3](),!0),P=!0);return}se.cnt=se.cnt||0,!(!Z(N)&&se.cnt>N)&&_[Vg](se)},q[n3]=function(){return _[ai]},q.size=function(){for(var se=_[ai],ue=0;ue<_[ai];ue++)se+=_[ue].item[ai];return T[Jj]||(se+=2),se},q[ZE]=function(){_=[],P=!1},q.getItems=function(){return _.slice(0)},q.batchPayloads=function(se){if(se&&se[ai]>0){var ue=[];Gr(se,function(_e){ue[Vg](_e.item)});var xe=T[Jj]?ue.join(`
`):"["+ue.join(",")+"]";return xe}return null},q.createNew=function(se,ue,xe){var _e=_.slice(0);se=se||y,ue=ue||{};var qe=xe?new Jue(se,ue):new l$(se,ue);return Gr(_e,function(Ze){qe[r3](Ze)}),qe}})}return o(g,"BaseSendBuffer"),g.__ieDyn=1,g}(),l$=function(g){bC(y,g);function y(T,_){var P=g.call(this,T,_)||this;return Rl(y,P,function(N,q){N[ZB]=function(se){q[ZE]()},N[c7]=function(se){}}),P}return o(y,"ArraySendBuffer"),y.__ieDyn=1,y}(Kue),cGe=["AI_buffer","AI_sentBuffer"],Jue=function(g){bC(y,g);function y(_,P){var N=g.call(this,_,P)||this,q=!1,se=P?.namePrefix,ue=P[Xj]||{getItem:bWe,setItem:vWe},xe=ue.getItem,_e=ue.setItem,qe=P.maxRetryCnt;return Rl(y,N,function(Ze,Ge){var ze=wr(y[u7]),ht=wr(y[N2]),ct=di(),It=ht[eb](ct),jt=Ze._set(ze[eb](It));jt[ai]>y[f7]&&(jt[ai]=y[f7]),fi(y[N2],[]),fi(y[u7],jt),Ze[r3]=function(sn){if(Ze[n3]()>=y[f7]){q||(Dr(_,2,67,"Maximum buffer size reached: "+Ze[n3](),!0),q=!0);return}sn.cnt=sn.cnt||0,!(!Z(qe)&&sn.cnt>qe)&&(Ge[r3](sn),fi(y[u7],Ze._get()))},Ze[ZE]=function(){Ge[ZE](),fi(y[u7],Ze._get()),fi(y[N2],[]),q=!1},Ze[ZB]=function(sn){fi(y[u7],Ze._set(fr(sn,Ze._get())));var Or=wr(y[N2]);Or instanceof Array&&sn instanceof Array&&(Or=Or[eb](sn),Or[ai]>y[f7]&&(Dr(_,1,67,"Sent buffer reached its maximum size: "+Or[ai],!0),Or[ai]=y[f7]),fi(y[N2],Or))},Ze[c7]=function(sn){var Or=wr(y[N2]);Or=fr(sn,Or),fi(y[N2],Or)},Ze.createNew=function(sn,Or,mi){mi=!!mi;var ds=Ze._get().slice(0),wo=wr(y[N2]).slice(0);sn=sn||_,Or=Or||{},Ze[ZE]();var Yt=mi?new y(sn,Or):new l$(sn,Or);return Gr(ds,function(Ur){Yt[r3](Ur)}),mi&&Yt[ZB](wo),Yt};function fr(sn,Or){var mi=[],ds=[];return Gr(sn,function(wo){ds[Vg](wo.item)}),Gr(Or,function(wo){!Re(wo)&&D0(ds,wo.item)===-1&&mi[Vg](wo)}),mi}o(fr,"_removePayloadsFromBuffer");function wr(sn){var Or=sn;return Or=se?se+"_"+Or:Or,Fn(Or)}o(wr,"_getBuffer");function Fn(sn){try{var Or=xe(_,sn);if(Or){var mi=N0().parse(Or);if(fe(mi)&&(mi=N0().parse(mi)),mi&&Oe(mi))return mi}}catch(ds){Dr(_,1,42," storage key: "+sn+", "+Va(ds),{exception:At(ds)})}return[]}o(Fn,"_getBufferBase");function fi(sn,Or){var mi=sn;try{mi=se?se+"_"+mi:mi;var ds=JSON[l7](Or);_e(_,mi,ds)}catch(wo){_e(_,mi,JSON[l7]([])),Dr(_,2,41," storage key: "+mi+", "+Va(wo)+". Buffer cleared",{exception:At(wo)})}}o(fi,"_setBuffer");function di(){var sn=[];try{return Gr(cGe,function(Or){var mi=ro(Or);if(sn=sn[eb](mi),se){var ds=se+"_"+Or,wo=ro(ds);sn=sn[eb](wo)}}),sn}catch(Or){Dr(_,2,41,"Transfer events from previous buffers: "+Va(Or)+". previous Buffer items can not be removed",{exception:At(Or)})}return[]}o(di,"_getPreviousEvents");function ro(sn){try{var Or=Fn(sn),mi=[];return Gr(Or,function(ds){var wo={item:ds,cnt:0};mi[Vg](wo)}),IWe(_,sn),mi}catch{}return[]}o(ro,"_getItemsFromPreviousKey")}),N}o(y,"SessionStorageSendBuffer");var T;return T=y,y.VERSION="_1",y.BUFFER_KEY="AI_buffer"+T.VERSION,y.SENT_BUFFER_KEY="AI_sentBuffer"+T.VERSION,y.MAX_BUFFER_SIZE=2e3,y}(Kue),uGe=function(){function g(y){Rl(g,this,function(T){T.serialize=function(q){var se=_(q,"root");try{return N0()[l7](se)}catch(ue){Dr(y,1,48,ue&&Re(ue[t3])?ue[t3]():"Error serializing object",null,!0)}};function _(q,se){var ue="__aiCircularRefCheck",xe={};if(!q)return Dr(y,1,48,"cannot serialize object because it is null or undefined",{name:se},!0),xe;if(q[ue])return Dr(y,2,50,"Circular reference detected while serializing object",{name:se},!0),xe;if(!q.aiDataContract){if(se==="measurements")xe=N(q,"number",se);else if(se==="properties")xe=N(q,"string",se);else if(se==="tags")xe=N(q,"string",se);else if(Oe(q))xe=P(q,se);else{Dr(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:se},!0);try{N0()[l7](q),xe=q}catch(_e){Dr(y,1,48,_e&&Re(_e[t3])?_e[t3]():"Error serializing object",null,!0)}}return xe}return q[ue]=!0,re(q.aiDataContract,function(_e,qe){var Ze=Re(qe)?qe()&1:qe&1,Ge=Re(qe)?qe()&4:qe&4,ze=qe&2,ht=q[_e]!==void 0,ct=Ee(q[_e])&&q[_e]!==null;if(Ze&&!ht&&!ze)Dr(y,1,24,"Missing required field specification. The field is required but not present on source",{field:_e,name:se});else if(!Ge){var It=void 0;ct?ze?It=P(q[_e],_e):It=_(q[_e],_e):It=q[_e],It!==void 0&&(xe[_e]=It)}}),delete q[ue],xe}o(_,"_serializeObject");function P(q,se){var ue;if(q)if(!Oe(q))Dr(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:se},!0);else{ue=[];for(var xe=0;xe<q[ai];xe++){var _e=q[xe],qe=_(_e,se+"["+xe+"]");ue[Vg](qe)}}return ue}o(P,"_serializeArray");function N(q,se,ue){var xe;return q&&(xe={},re(q,function(_e,qe){if(se==="string")qe===void 0?xe[_e]="undefined":qe===null?xe[_e]="null":qe[t3]?xe[_e]=qe[t3]():xe[_e]="invalid field: toString() is not defined.";else if(se==="number")if(qe===void 0)xe[_e]="undefined";else if(qe===null)xe[_e]="null";else{var Ze=parseFloat(qe);xe[_e]=Ze}else xe[_e]="invalid field: "+ue+" is of unknown type.",Dr(y,1,xe[_e],null,!0)})),xe}o(N,"_serializeStringMap")})}return o(g,"Serializer"),g.__ieDyn=1,g}(),fGe=8,dGe=function(){function g(){}return o(g,"HashCodeScoreGenerator"),g.prototype.getHashCodeScore=function(y){var T=this.getHashCode(y)/g.INT_MAX_VALUE;return T*100},g.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[ai]<fGe;)y=y[eb](y);for(var T=5381,_=0;_<y[ai];++_)T=(T<<5)+T+y.charCodeAt(_),T=T&T;return Math.abs(T)},g.INT_MAX_VALUE=2147483647,g}(),mGe=function(){function g(){var y=this,T=new dGe,_=new que;y.getSamplingScore=function(P){var N=0;return P[Pl]&&P[Pl][_.userId]?N=T.getHashCodeScore(P[Pl][_.userId]):P.ext&&P.ext.user&&P.ext.user.id?N=T[eGe](P.ext.user.id):P[Pl]&&P[Pl][_.operationId]?N=T.getHashCodeScore(P[Pl][_.operationId]):P.ext&&P.ext.telemetryTrace&&P.ext.telemetryTrace[a7]?N=T.getHashCodeScore(P.ext.telemetryTrace[a7]):N=Math.random()*100,N}}return o(g,"SamplingScoreGenerator"),g}(),hGe=function(){function g(y,T){this.INT_MAX_VALUE=2147483647;var _=T||OC(null);(y>100||y<0)&&(_.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[rR]=y,this.samplingScoreGenerator=new mGe}return o(g,"Sample"),g.prototype.isSampledIn=function(y){var T=this[rR],_=!1;return T==null||T>=100||y.baseType===n7[zh]?!0:(_=this.samplingScoreGenerator.getSamplingScore(y)<T,_)},g}(),Go,jg,Kh=void 0,Xue="",pGe=65e3;function Zue(g){try{return g.responseText}catch{}return null}o(Zue,"_getResponseText");function gGe(g){return g&&g.sendPOST}o(gGe,"isOverrideFn");var efe=St((Go={endpointUrl:O9(oe,Lj+jE)},Go[Jj]=wf(),Go.maxBatchInterval=15e3,Go[Gue]=102400,Go.disableTelemetry=wf(),Go[Vue]=wf(!0),Go.isRetryDisabled=wf(),Go[r$]=wf(!0),Go[$ue]=wf(!0),Go.disableXhr=wf(),Go[jue]=wf(),Go[t$]=wf(),Go[p7]=Kh,Go.namePrefix=Kh,Go.samplingPercentage=O9(AGe,100),Go[e$]=Kh,Go.convertUndefined=Kh,Go.eventsLimitInMem=1e4,Go[Xj]=!1,Go.httpXHROverride={isVal:gGe,v:Kh},Go[Hue]=wf(),Go.transports=Kh,Go.retryCodes=Kh,Go.maxRetryCnt={isVal:Je,v:10},Go));function AGe(g){return!isNaN(g)&&g>0&&g<=100}o(AGe,"_chkSampling");var yGe=(jg={},jg[KE.dataType]=Yue,jg[KB.dataType]=lGe,jg[zB.dataType]=sGe,jg[JB.dataType]=aGe,jg[$B.dataType]=iGe,jg[n7.dataType]=oGe,jg[YB.dataType]=nGe,jg),tfe=function(g){bC(y,g);function y(){var T=g.call(this)||this;T.priority=1001,T.identifier=ZWe;var _,P,N,q,se,ue,xe,_e=0,qe,Ze,Ge,ze,ht,ct,It,jt,fr,wr,Fn,fi,di,ro,sn,Or,mi,ds,wo,Yt,Ur,$i,Dt,Cn,ks,no,al;return Rl(y,T,function(dt,va){nfe(),dt.pause=function(){U2(),N=!0},dt.resume=function(){N&&(N=!1,P=null,po(),ib())},dt.flush=function(je,bt,pr){if(je===void 0&&(je=!0),!N){U2();try{return dt[d7](je,null,pr||1)}catch(Fr){Dr(dt[l0](),1,22,"flush failed, telemetry will not be collected: "+Va(Fr),{exception:At(Fr)})}}},dt.onunloadFlush=function(){if(!N)if(It||Yt)try{return dt[d7](!0,xc,2)}catch(je){Dr(dt[l0](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Va(je),{exception:At(je)})}else dt.flush(!1)},dt.addHeader=function(je,bt){xe[je]=bt},dt[Zj]=function(je,bt,pr,Fr){dt.isInitialized()&&Dr(dt[l0](),1,28,"Sender is already initialized"),va[Zj](je,bt,pr,Fr);var Tn=dt.identifier;se=new uGe(bt.logger),_=0,P=null,dt[m7]=null,ue=0;var ln=dt[l0]();Ge=mue(tm("Sender"),bt.evtNamespace&&bt.evtNamespace()),Ze=XWe(Ge),dt._addHook(rm(je,function(Ni){var oa=Ni.cfg;oa.storagePrefix&&EWe(oa.storagePrefix);var hu=_2(null,oa,bt),Xn=hu.getExtCfg(Tn,efe),ife=Xn[h7];if(ze&&ife===ze){var f$=oa[h7];f$&&f$!==ife&&(Xn[h7]=f$)}st(Xn[p7])&&(Xn[p7]=oa[p7]),Ue(dt,"_senderConfig",{g:o(function(){return Xn},"g")}),ht!==Xn[h7]&&(ze=ht=Xn[h7]),bt.activeStatus()===Bh.PENDING?dt.pause():bt.activeStatus()===Bh.ACTIVE&&dt.resume(),wr&&wr!==Xn[e$]&&Gr(wr,function(Nl){delete xe[Nl.header]}),ct=Xn[Gue],It=(Xn[t$]===!1||Xn[r$]===!1)&&Oh(),jt=Xn[t$]===!1&&Oh(),fr=Xn[r$]===!1&&Oh(),Yt=Xn[Hue],Ur=!!Xn.disableXhr,al=Xn.retryCodes;var d$=Xn[Xj],ob=!!Xn[Vue]&&(!!d$||Sue()),ofe=Xn.namePrefix,bGe=ob!==Or||ob&&ds!==ofe||ob&&mi!==d$;if(dt[Yh]){if(bGe)try{dt[Yh]=dt[Yh].createNew(ln,Xn,ob)}catch(Nl){Dr(dt[l0](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Va(Nl),{exception:At(Nl)})}po()}else dt[Yh]=ob?new Jue(ln,Xn):new l$(ln,Xn);ds=ofe,Or=ob,mi=d$,$i=!Xn[jue]&&FC(!0),ks=!!Xn[$ue],dt._sample=new hGe(Xn.samplingPercentage,ln),fi=Xn[p7],!st(fi)&&!rfe(fi,oa)&&Dr(ln,1,100,"Invalid Instrumentation key "+fi),wr=Xn[e$],fe(ze)&&!Iue(ze)&&wr&&wr[ai]>0?Gr(wr,function(Nl){T.addHeader(Nl.header,Nl.value)}):wr=null,wo=Xn.enableSendPromise;var sfe=ll();no?no.SetConfig(sfe):(no=new ba,no[Zj](sfe,ln));var sR=Xn.httpXHROverride,aR=null,C7=null,vGe=tB([3,1,2],Xn.transports);aR=no&&no[eR](vGe,!1);var m$=no&&no.getFallbackInst();Dt=o(function(Nl,l3){return Qr(m$,Nl,l3)},"_xhrSend"),Cn=o(function(Nl,l3){return Qr(m$,Nl,l3,!1)},"_fallbackSend"),aR=Yt?sR:aR||sR||m$,dt[m7]=function(Nl,l3){return Qr(aR,Nl,l3)},$i&&(qe=nb);var h$=tB([3,1],Xn.unloadTransports);$i||(h$=h$.filter(function(Nl){return Nl!==2})),C7=no&&no[eR](h$,!0),C7=Yt?sR:C7||sR,(Yt||Xn.unloadTransports||!qe)&&C7&&(qe=o(function(Nl,l3){return Qr(C7,Nl,l3)},"_syncUnloadSender")),qe||(qe=Dt),Fn=Xn.disableTelemetry,di=Xn.convertUndefined||Kh,ro=Xn.isRetryDisabled,sn=Xn.maxBatchInterval}))},dt.processTelemetry=function(je,bt){bt=dt._getTelCtx(bt);var pr=bt[l0]();try{var Fr=om(je,pr);if(!Fr)return;var Tn=O2(je,pr);if(!Tn)return;var ln=se.serialize(Tn),Ni=dt[Yh];po(ln);var oa={item:ln,cnt:0};Ni[r3](oa),ib()}catch(hu){Dr(pr,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Va(hu),{exception:At(hu)})}dt.processNext(je,bt)},dt.isCompletelyIdle=function(){return!N&&_e===0&&dt._buffer[n3]()===0},dt.getOfflineListener=function(){return Ze},dt._xhrReadyStateChange=function(je,bt,pr){if(!am(bt))return Bf(je,bt,pr)},dt[d7]=function(je,bt,pr){je===void 0&&(je=!0);var Fr;if(!N)try{var Tn=dt[Yh];if(Fn)Tn[ZE]();else if(Tn[n3]()>0){var ln=Tn.getItems();oR(pr||0,je),bt?Fr=bt.call(dt,ln,je):Fr=dt[m7](ln,je)}U2()}catch(oa){var Ni=d2();(!Ni||Ni>9)&&Dr(dt[l0](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Va(oa),{exception:At(oa)})}return Fr},dt.getOfflineSupport=function(){return{getUrl:o(function(){return ze},"getUrl"),createPayload:gt,serialize:ms,batch:Fl,shouldProcess:o(function(je){return!!om(je)},"shouldProcess")}},dt._doTeardown=function(je,bt){dt.onunloadFlush(),x2(Ze,!1),nfe()},dt[i3]=function(je,bt,pr){if(!am(je))return Q0(je,bt)},dt[n$]=function(je,bt){if(!am(je))return Q2(je,bt)},dt[tR]=function(je,bt){if(!am(je))return im(je)},dt._xdrOnLoad=function(je,bt){if(!am(bt))return Bs(je,bt)};function Bs(je,bt){var pr=Zue(je);if(je&&(pr+""=="200"||pr===""))_=0,dt[tR](bt,0);else{var Fr=Lr(pr);Fr&&Fr[i$]&&Fr[i$]>Fr[o$]&&!ro?dt[n$](bt,Fr):dt[i3](bt,eB(je))}}o(Bs,"_xdrOnLoad");function ll(){try{var je={xdrOnComplete:o(function(pr,Fr,Tn){var ln=M2(Tn);if(ln)return Bs(pr,ln)},"xdrOnComplete"),fetchOnComplete:o(function(pr,Fr,Tn,ln){var Ni=M2(ln);if(Ni)return Ho(pr.status,Ni,pr.url,Ni[ai],pr.statusText,Tn||"")},"fetchOnComplete"),xhrOnComplete:o(function(pr,Fr,Tn){var ln=M2(Tn);if(ln)return Bf(pr,ln,ln[ai])},"xhrOnComplete"),beaconOnRetry:o(function(pr,Fr,Tn){return sm(pr,Fr,Tn)},"beaconOnRetry")},bt={enableSendPromise:wo,isOneDs:!1,disableCredentials:!1,disableXhr:Ur,disableBeacon:!fr,disableBeaconSync:!jt,senderOnCompleteCallBack:je};return bt}catch{}return null}o(ll,"_getSendPostMgrConfig");function Bf(je,bt,pr){je.readyState===4&&Ho(je.status,bt,je.responseURL,pr,TE(je),Zue(je)||je.response)}o(Bf,"_xhrReadyStateChange");function Q0(je,bt,pr){Dr(dt[l0](),2,26,"Failed to send telemetry.",{message:bt}),dt._buffer&&dt._buffer[c7](je)}o(Q0,"_onError");function Q2(je,bt){for(var pr=[],Fr=[],Tn=bt.errors.reverse(),ln=0,Ni=Tn;ln<Ni.length;ln++){var oa=Ni[ln],hu=je.splice(oa.index,1)[0];q2(oa.statusCode)?Fr[Vg](hu):pr[Vg](hu)}je[ai]>0&&dt[tR](je,bt[o$]),pr[ai]>0&&dt[i3](pr,TE(null,["partial success",bt[o$],"of",bt.itemsReceived].join(" "))),Fr[ai]>0&&(y7(Fr),Dr(dt[l0](),2,40,"Partial success. Delivered: "+je[ai]+", Failed: "+pr[ai]+". Will retry to send "+Fr[ai]+" our of "+bt[i$]+" items"))}o(Q2,"_onPartialSuccess");function im(je,bt){dt._buffer&&dt._buffer[c7](je)}o(im,"_onSuccess");function M2(je){try{if(je){var bt=je,pr=bt.oriPayload;return pr&&pr[ai]?pr:null}}catch{}return null}o(M2,"_getPayloadArr");function om(je,bt){if(Fn)return!1;if(!je)return bt&&Dr(bt,1,7,"Cannot send empty telemetry"),!1;if(je.baseData&&!je[s$])return bt&&Dr(bt,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(je[s$]||(je[s$]="EventData"),!dt[m7])return bt&&Dr(bt,1,28,"Sender was not initialized"),!1;if(Ir(je))je[pue]=dt._sample[rR];else return bt&&Dr(bt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:dt._sample[rR]}),!1;return!0}o(om,"_validate");function O2(je,bt){var pr=je.iKey||fi,Fr=y.constructEnvelope(je,pr,bt,di);if(!Fr){Dr(bt,1,47,"Unable to create an AppInsights envelope");return}var Tn=!1;if(je[Pl]&&je[Pl][Nj]&&(Gr(je[Pl][Nj],function(ln){try{ln&&ln(Fr)===!1&&(Tn=!0,LE(bt,"Telemetry processor check returns false"))}catch(Ni){Dr(bt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Va(Ni),{exception:At(Ni)},!0)}}),delete je[Pl][Nj]),!Tn)return Fr}o(O2,"_getEnvelope");function ms(je){var bt=Xue,pr=dt[l0]();try{var Fr=om(je,pr),Tn=null;Fr&&(Tn=O2(je,pr)),Tn&&(bt=se.serialize(Tn))}catch{}return bt}o(ms,"_serialize");function Fl(je){var bt=Xue;return je&&je[ai]&&(bt="["+je.join(",")+"]"),bt}o(Fl,"_batch");function gt(je){var bt=co();return{urlString:ze,data:je,headers:bt}}o(gt,"_createPayload");function Ir(je){return dt._sample.isSampledIn(je)}o(Ir,"_isSampledIn");function vn(je,bt,pr,Fr){bt===200&&je?dt._onSuccess(je,je[ai]):Fr&&dt[i3](je,Fr)}o(vn,"_getOnComplete");function Qr(je,bt,pr,Fr){Fr===void 0&&(Fr=!0);var Tn=o(function(oa,hu,Xn){return vn(bt,oa,hu,Xn)},"onComplete"),ln=In(bt),Ni=je&&je.sendPOST;return Ni&&ln?(Fr&&dt._buffer[ZB](bt),Ni(ln,Tn,!pr)):null}o(Qr,"_doSend");function In(je){if(Oe(je)&&je[ai]>0){var bt=dt[Yh].batchPayloads(je),pr=co(),Fr={data:bt,urlString:ze,headers:pr,disableXhrSync:Ur,disableFetchKeepAlive:!$i,oriPayload:je};return Fr}return null}o(In,"_getPayload");function co(){try{var je=xe||{};return Iue(ze)&&(je[Aue[6]]=Aue[7]),je}catch{}return null}o(co,"_getHeaders");function po(je){var bt=je?je[ai]:0;return dt[Yh].size()+bt>ct?((!Ze||Ze.isOnline())&&dt[d7](!0,null,10),!0):!1}o(po,"_checkMaxSize");function Ho(je,bt,pr,Fr,Tn,ln){var Ni=null;if(dt._appId||(Ni=Lr(ln),Ni&&Ni.appId&&(dt._appId=Ni.appId)),(je<200||je>=300)&&je!==0){if((je===301||je===307||je===308)&&!c0(pr)){dt[i3](bt,Tn);return}if(Ze&&!Ze.isOnline()){if(!ro){var oa=10;y7(bt,oa),Dr(dt[l0](),2,40,". Offline - Response Code: ".concat(je,". Offline status: ").concat(!Ze.isOnline(),". Will retry to send ").concat(bt.length," items."))}return}!ro&&q2(je)?(y7(bt),Dr(dt[l0](),2,40,". Response code "+je+". Will retry to send "+bt[ai]+" items.")):dt[i3](bt,Tn)}else c0(pr),je===206?(Ni||(Ni=Lr(ln)),Ni&&!ro?dt[n$](bt,Ni):dt[i3](bt,Tn)):(_=0,dt[tR](bt,Fr))}o(Ho,"_checkResponsStatus");function c0(je){return ue>=10?!1:!Z(je)&&je!==""&&je!==ze?(ze=je,++ue,!0):!1}o(c0,"_checkAndUpdateEndPointUrl");function xc(je,bt){if(qe)qe(je,!1);else{var pr=no&&no[eR]([3],!0);return Qr(pr,je,bt)}}o(xc,"_doUnloadSend");function sm(je,bt,pr){var Fr=je,Tn=Fr&&Fr.oriPayload;if(ks)Cn&&Cn(Tn,!0),Dr(dt[l0](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var ln=[],Ni=0;Ni<Tn[ai];Ni++){var oa=Tn[Ni],hu=[oa],Xn=In(hu);pr(Xn,bt)?dt._onSuccess(hu,hu[ai]):ln[Vg](oa)}ln[ai]>0&&(Cn&&Cn(ln,!0),Dr(dt[l0](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(sm,"_onBeaconRetry");function am(je){try{if(je&&je[ai])return fe(je[0])}catch{}return null}o(am,"_isStringArr");function nb(je,bt){var pr=null;if(Oe(je)){for(var Fr=je[ai],Tn=0;Tn<je[ai];Tn++)Fr+=je[Tn].item[ai];var ln=no.getSyncFetchPayload();ln+Fr<=pGe?pr=2:Oh()?pr=3:(pr=1,Dr(dt[l0](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Ni=no&&no[eR]([pr],!0);return Qr(Ni,je,bt)}return null}o(nb,"_fetchKeepAliveSender");function y7(je,bt){if(bt===void 0&&(bt=1),!(!je||je[ai]===0)){var pr=dt[Yh];pr[c7](je),_++;for(var Fr=0,Tn=je;Fr<Tn.length;Fr++){var ln=Tn[Fr];ln.cnt=ln.cnt||0,ln.cnt++,pr[r3](ln)}u$(bt),ib()}}o(y7,"_resendPayload");function u$(je){var bt=10,pr;if(_<=1)pr=bt;else{var Fr=(Math.pow(2,_)-1)/2,Tn=vg(Math.random()*Fr*bt)+1;Tn=je*Tn,pr=ve(ur(Tn,3600),bt)}var ln=Ih()+pr*1e3;P=ln}o(u$,"_setRetryTime");function ib(){if(!q&&!N){var je=P?ve(0,P-Ih()):0,bt=ve(sn,je);q=Sh(function(){q=null,dt[d7](!0,null,1)},bt)}}o(ib,"_setupTimer");function U2(){q&&q.cancel(),q=null,P=null}o(U2,"_clearScheduledTimer");function q2(je){return Z(al)?je===401||je===408||je===429||je===500||je===502||je===503||je===504:al[ai]&&al.indexOf(je)>-1}o(q2,"_isRetriable");function iR(){var je="getNotifyMgr";return dt.core[je]?dt.core[je]():dt.core._notificationManager}o(iR,"_getNotifyMgr");function oR(je,bt){var pr=iR();if(pr&&pr.eventsSendRequest)try{pr.eventsSendRequest(je,bt)}catch(Fr){Dr(dt[l0](),1,74,"send request notification failed: "+Va(Fr),{exception:At(Fr)})}}o(oR,"_notifySendRequest");function rfe(je,bt){var pr=bt.disableInstrumentationKeyValidation,Fr=Z(pr)?!1:pr;if(Fr)return!0;var Tn="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",ln=new RegExp(Tn);return ln.test(je)}o(rfe,"_validateInstrumentationKey");function nfe(){dt[m7]=null,dt[Yh]=null,dt._appId=null,dt._sample=null,xe={},Ze=null,_=0,P=null,N=!1,q=null,se=null,ue=0,_e=0,qe=null,Ge=null,ze=null,ht=null,ct=0,It=!1,wr=null,Fn=!1,fi=null,di=Kh,ro=!1,Or=null,ds=Kh,Ur=!1,$i=!1,ks=!1,Dt=null,Cn=null,no=null,Ue(dt,"_senderConfig",{g:o(function(){return Zk({},efe)},"g")})}o(nfe,"_initDefaults")}),T}return o(y,"Sender"),y.constructEnvelope=function(T,_,P,N){var q;_!==T.iKey&&!Z(_)?q=zd(zd({},T),{iKey:_}):q=T;var se=yGe[q.baseType]||Yue;return se(P,q,N)},y}(xt),tb="instrumentationKey",nR="connectionString",g7="endpointUrl",A7="userOverrideEndpointUrl",rb,c$=void 0,CGe=(rb={diagnosticLogInterval:O9(xGe,1e4)},rb[nR]=c$,rb.endpointUrl=c$,rb[tb]=c$,rb.extensionConfig={},rb);function xGe(g){return g&&g>0}o(xGe,"_chkDiagLevel");var EGe=function(){function g(y){var T=new Nt,_;(Z(y)||Z(y[tb])&&Z(y[nR]))&&Vt("Invalid input configuration"),Rl(g,this,function(N){Ue(N,"config",{g:o(function(){return _},"g")}),q(),N.initialize=q,N.track=P,I9(N,T,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function q(){var se=Cc(y||{},CGe);_=se.cfg,T.addUnloadHook(rm(se,function(){var ue=_[nR];if(st(ue)){var xe=gE(function(Ge,ze){hc(ue,function(ht){var ct=ht.value,It=_[tb];if(!ht.rejected&&ct){_[nR]=ct;var jt=Hj(ct);It=jt.instrumentationkey||It}Ge(It)})}),_e=gE(function(Ge,ze){hc(ue,function(ht){var ct=ht.value,It=_[g7];if(!ht.rejected&&ct){var jt=Hj(ct),fr=jt.ingestionendpoint;It=fr?fr+jE:It}Ge(It)})});_[tb]=xe,_[g7]=_[A7]||_e}if(fe(ue)){var qe=Hj(ue),Ze=qe.ingestionendpoint;_[g7]=_[A7]?_[A7]:Ze+jE,_[tb]=qe.instrumentationkey||_[tb]}_[g7]=_[A7]?_[A7]:_[g7]})),T.initialize(_,[new tfe])}o(q,"_initialize")});function P(N){N&&(N.baseData=N.baseData||{},N.baseType=N.baseType||"EventData"),T.track(N)}o(P,"_track")}return o(g,"ApplicationInsights"),g.__ieDyn=1,g}();e.AppInsightsCore=Nt,e.ApplicationInsights=EGe,e.Sender=tfe,e.SeverityLevel=JWe,e.arrForEach=Gr,e.isNullOrUndefined=Z,e.proxyFunctions=I9,e.throwError=Vt})});var BJ=V((Yfr,dCe)=>{"use strict";d();dCe.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var hCe=V((Xfr,mCe)=>{"use strict";d();var qit=BJ();function Wit(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=qit(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(Wit,"parsePath");mCe.exports=Wit});var xCe=V((tdr,CCe)=>{"use strict";d();var Git=hCe();function Hit(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(Hit,"_interopDefaultLegacy");var Vit=Hit(Git);function jit(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=o(function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)},"a");r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:o(function(){return e[n]},"get")})}),r}o(jit,"getAugmentedNamespace");var gCe={},$it="text/plain",zit="us-ascii",pCe=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),Yit=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:s}=r.groups,a=n.split(";");s=t?"":s;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let c=(a.shift()||"").toLowerCase(),f=[...a.map(m=>{let[h,p=""]=m.split("=").map(A=>A.trim());return h==="charset"&&(p=p.toLowerCase(),p===zit)?"":`${h}${p?`=${p}`:""}`}).filter(Boolean)];return l&&f.push("base64"),(f.length>0||c&&c!==$it)&&f.unshift(c),`data:${f.join(";")},${l?i.trim():i}${s?`#${s}`:""}`},"normalizeDataURL");function Kit(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return Yit(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let f=a.exec(i.pathname);if(!f)break;let m=f[0],h=f.index,p=i.pathname.slice(l,h);c+=p.replace(/\/{2,}/g,"/"),c+=m,l=h+m.length}let u=i.pathname.slice(l,i.pathname.length);c+=u.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];pCe(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])pCe(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(Kit,"normalizeUrl");var Jit=Object.freeze({__proto__:null,default:Kit}),Xit=jit(Jit);Object.defineProperty(gCe,"__esModule",{value:!0});var Zit=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eot=Xit,tot=ACe(eot),rot=Vit.default,not=ACe(rot);function ACe(e){return e&&e.__esModule?e:{default:e}}o(ACe,"_interopRequireDefault");var yCe=o(function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,i=o(function(c){var u=new Error(c);throw u.subject_url=t,u},"throwErr");(typeof t!="string"||!t.trim())&&i("Invalid url."),t.length>e.MAX_INPUT_LENGTH&&i("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":Zit(r))!=="object"&&(r={stripHash:!1}),t=(0,tot.default)(t,r));var s=(0,not.default)(t);if(s.parse_failed){var a=s.href.match(n);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname="/"+a[3],s.parse_failed=!1):i("URL parsing failed.")}return s},"parseUrl");yCe.MAX_INPUT_LENGTH=2048;var iot=gCe.default=yCe;CCe.exports=iot});var vCe=V((idr,bCe)=>{"use strict";d();var oot=BJ();function ECe(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=oot(e);if(e=e.substring(e.indexOf("://")+3),ECe(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(ECe,"isSsh");bCe.exports=ECe});var wCe=V((adr,TCe)=>{"use strict";d();var sot=xCe(),ICe=vCe();function aot(e){var t=sot(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),ICe(t.protocols)||t.protocols.length===0&&ICe(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(aot,"gitUp");TCe.exports=aot});var _Ce=V((udr,SCe)=>{"use strict";d();var lot=wCe();function RJ(e,t){if(t=t||[],typeof e!="string")throw new Error("The url must be a string.");if(!t.every(function(b){return typeof b=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(e)&&(e="https://github.com/"+e);var n=lot(e),i=n.resource.split("."),s=null;switch(n.toString=function(b){return RJ.stringify(this,b)},n.source=i.length>2?i.slice(1-i.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=i[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3],n.full_name=s[2]+"/"+s[3]);break}else{s=n.name.split("/"),s.length===2?(n.owner=s[1],n.name=s[1],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){s=n.name.split("/"),s.length===4&&(n.organization=s[1],n.owner=s[2],n.name=s[3]);break}else{s=n.name.split("/"),s.length===5?(n.organization=s[0],n.owner=s[1],n.name=s[4],n.full_name="_git/"+n.name):s.length===3?(n.name=s[2],s[0]==="DefaultCollection"?(n.owner=s[2],n.organization=s[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=s[0],n.full_name=n.owner+"/_git/"+n.name)):s.length===4&&(n.organization=s[0],n.owner=s[1],n.name=s[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:s=n.name.split("/");var a=s.length-1;if(s.length>=2){var l=s.indexOf("-",2),c=s.indexOf("blob",2),u=s.indexOf("tree",2),f=s.indexOf("commit",2),m=s.indexOf("issues",2),h=s.indexOf("src",2),p=s.indexOf("raw",2),A=s.indexOf("edit",2);a=l>0?l-1:c>0&&u>0?Math.min(c-1,u-1):c>0?c-1:m>0?m-1:u>0?u-1:f>0?f-1:h>0?h-1:p>0?p-1:A>0?A-1:a,n.owner=s.slice(0,a).join("/"),n.name=s[a],f&&m<0&&(n.commit=s[a+2])}n.ref="",n.filepathtype="",n.filepath="";var x=s.length>a&&s[a+1]==="-"?a+1:a;s.length>x+2&&["raw","src","blob","tree","edit"].indexOf(s[x+1])>=0&&(n.filepathtype=s[x+1],n.ref=s[x+2],s.length>x+3&&(n.filepath=s.slice(x+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var E=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,v=E.exec(n.pathname);return v!=null&&(n.source="bitbucket-server",v[1]==="users"?n.owner="~"+v[2]:n.owner=v[2],n.organization=n.owner,n.name=v[3],s=v[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(n.filepathtype=s[1],s.length>2&&(n.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(n.commit=s[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),t.length!==0&&n.ref&&(n.ref=fot(n.href,t)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}o(RJ,"gitUrlParse");RJ.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var s=e.token?cot(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+s+e.resource+r+"/"+uot(e)+i;default:return e.href}};function cot(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(cot,"buildToken");function uot(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var t=e.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return t}}o(uot,"buildPath");function fot(e,t){var r="";return t.forEach(function(n){e.includes(n)&&n.length>r.length&&(r=n)}),r}o(fot,"findLongestMatchingSubstring");SCe.exports=RJ});var UCe=V(mp=>{"use strict";d();Object.defineProperty(mp,"__esModule",{value:!0});mp.bytePairEncode=mp.BinaryMap=mp.binaryMapKey=void 0;var _ot=o((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),s=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return s+16777216*l},"binaryMapKey");mp.binaryMapKey=_ot;var UJ=class e{static{o(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){let i=n<6+r,s=(0,mp.binaryMapKey)(t,r,n);return i?this.final.get(s):this.nested.get(s)?.get(t,6+r,n)}set(t,r){let n=(0,mp.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let s=this.nested.get(n);if(s instanceof e)s.set(t.subarray(6),r);else{let a=new e;a.set(t.subarray(6),r),this.nested.set(n,a)}}};mp.BinaryMap=UJ;var dp=new Int32Array(128),H0=new Int32Array(128);function kot(e,t,r){if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;dp.length<r*2;)H0=new Int32Array(H0.length*2),dp=new Int32Array(dp.length*2);for(let c=0;c<r-1;c++){let u=t.get(e,c,c+2)??2147483647;u<n&&(n=u,i=c),H0[c]=c,dp[c]=u}H0[r-1]=r-1,dp[r-1]=2147483647,H0[r]=r,dp[r]=2147483647;let s=r+1;function a(c,u=0){if(c+u+2<s){let f=t.get(e,H0[c],H0[c+u+2]);if(f!==void 0)return f}return 2147483647}for(o(a,"getRank");n!==2147483647;){dp[H0[i]]=a(i,1),i>0&&(dp[H0[i-1]]=a(i-1,1));for(let c=i+1;c<s-1;c++)H0[c]=H0[c+1];s--,i=-1,n=2147483647;for(let c=0;c<s-1;c++){let u=dp[H0[c]];dp[H0[c]]<n&&(n=u,i=c)}}let l=[];for(let c=0;c<s-1;c++)l.push(t.get(e,H0[c],H0[c+1]));return l}o(kot,"bytePairEncode");mp.bytePairEncode=kot});var qCe=V(MF=>{"use strict";d();Object.defineProperty(MF,"__esModule",{value:!0});MF.makeTextEncoder=void 0;var qJ=class{static{o(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}},WJ=class{static{o(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}},Bot=o(()=>typeof Buffer<"u"?new WJ:new qJ,"makeTextEncoder");MF.makeTextEncoder=Bot});var WCe=V(OF=>{"use strict";d();Object.defineProperty(OF,"__esModule",{value:!0});OF.LRUCache=void 0;var GJ=class{static{o(this,"LRUCache")}constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new HJ(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};OF.LRUCache=GJ;var HJ=class{static{o(this,"Node")}constructor(t,r){this.key=t,this.value=r}}});var jJ=V(qF=>{"use strict";d();Object.defineProperty(qF,"__esModule",{value:!0});qF.TikTokenizer=void 0;var Rot=require("fs"),Dot=require("util"),UF=UCe(),Pot=qCe(),Fot=WCe();function Not(e){let t=new Map;try{let n=Rot.readFileSync(e,"utf-8");return r(n),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let s=i.split(" ");if(s.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(s[0],"base64")),l=parseInt(s[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${s[1]} to integer`)}}o(r,"processBpeRanks")}o(Not,"loadTikTokenBpe");function Lot(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(Lot,"escapeRegExp");var VJ=class{static{o(this,"TikTokenizer")}constructor(t,r,n,i=8192){this.textEncoder=(0,Pot.makeTextEncoder)(),this.textDecoder=new Dot.TextDecoder("utf-8"),this.cache=new Fot.LRUCache(i);let s=typeof t=="string"?Not(t):t;this.init(s,r,n)}init(t,r,n){this.encoder=new UF.BinaryMap;for(let[i,s]of t)this.encoder.set(i,s);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>Lot(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,s]of t)this.decoder.set(s,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,s]of r)this.specialTokensDecoder.set(s,i)}findNextSpecialToken(t,r,n){let i=r,s=null;if(n&&this.specialTokensRegex)for(;s=t.slice(i).match(this.specialTokensRegex),!(!s||n&&n.includes(s[0]));)i+=s.index+1;let a=s?i+s.index:t.length;return[s,a]}encode(t,r){let n=[],i=0;for(;;){let s,a;if([s,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),s){if(i=i+this.encodeSpecialToken(n,s),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){let n=this.specialTokensEncoder?.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let s,a=t.substring(n,i);for(this.regex.lastIndex=0;s=this.regex.exec(a);){let l=this.cache.get(s[0]);if(l)for(let c of l)r.push(c);else{let c=this.textEncoder.encode(s[0]),u=this.encoder.get(c,0,this.textEncoder.length);if(u!==void 0)r.push(u),this.cache.set(s[0],[u]);else{let f=(0,UF.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let m of f)r.push(m);this.cache.set(s[0],f)}}}}encodeTrimSuffixByIndex(t,r,n,i,s,a,l){let c,u=t.substring(n,i);for(this.regex.lastIndex=0;c=this.regex.exec(u);){let f=c[0],m=this.cache.get(f);if(m)if(a+m.length<=s)a+=m.length,l+=f.length,r.push(...m);else{let h=s-a;a+=h,l+=f.length,r.push(...m.slice(0,h));break}else{let h=this.textEncoder.encode(f),p=this.encoder.get(h,0,h.length);if(p!==void 0)if(this.cache.set(f,[p]),a+1<=s)a++,l+=f.length,r.push(p);else break;else{let A=(0,UF.bytePairEncode)(h,this.encoder,this.textEncoder.length);if(this.cache.set(f,A),a+A.length<=s){a+=A.length,l+=f.length;for(let x of A)r.push(x)}else{let x=s-a;a+=x,l+=f.length;for(let E=0;E<x;E++)r.push(A[E]);break}}}if(a>=s)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],s=0,a=0,l=0;for(;;){let u,f;if([u,f]=this.findNextSpecialToken(t,s,n),f>s){let{tokenCount:m,encodeLength:h}=this.encodeTrimSuffixByIndex(t,i,s,f,r,a,l);if(a=m,l=h,a>=r)break}if(u!==null){if(a++,a<=r&&(s=s+this.encodeSpecialToken(i,u),l+=u[0].length,s>=t.length)||a>=r)break}else break}let c=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:c}}encodeTrimPrefix(t,r,n){let i=[],s=0,a=0,l=0,c=new Map;for(c.set(a,l);;){let h,p;if([h,p]=this.findNextSpecialToken(t,s,n),p>s){let A,x=t.substring(s,p);for(this.regex.lastIndex=0;A=this.regex.exec(x);){let E=A[0],v=this.cache.get(E);if(v)a+=v.length,l+=E.length,i.push(...v),c.set(a,l);else{let b=this.textEncoder.encode(E),S=this.encoder.get(b);if(S!==void 0)this.cache.set(E,[S]),a++,l+=E.length,i.push(S),c.set(a,l);else{let B=(0,UF.bytePairEncode)(b,this.encoder,this.textEncoder.length);this.cache.set(E,B),a+=B.length,l+=E.length;for(let D of B)i.push(D);c.set(a,l)}}}}if(h!==null){if(s=s+this.encodeSpecialToken(i,h),a++,l+=h[0].length,c.set(a,l),s>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let u=a-r,f=0,m=0;for(let[h,p]of c)if(h>=u){f=h,m=p;break}if(f>r){let h=this.encode(t,n),p=h.slice(h.length-r);return{tokenIds:p,text:this.decode(p)}}return{tokenIds:i.slice(f),text:t.slice(m)}}decode(t){let r=[];for(let n of t){let i=[],s=this.decoder?.get(n);if(s!==void 0)i=Array.from(s);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let l=this.textEncoder.encode(a);i=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};qF.TikTokenizer=VJ});var XCe=V(Ba=>{"use strict";d();Object.defineProperty(Ba,"__esModule",{value:!0});Ba.createTokenizer=Ba.createByEncoderName=Ba.createByModelName=Ba.getRegexByModel=Ba.getRegexByEncoder=Ba.getSpecialTokensByModel=Ba.getSpecialTokensByEncoder=Ba.MODEL_TO_ENCODING=void 0;var GF=require("fs"),$J=require("path"),Qot=jJ(),Mot=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);Ba.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var WF="<|endoftext|>",GCe="<|fim_prefix|>",HCe="<|fim_middle|>",VCe="<|fim_suffix|>",jCe="<|endofprompt|>",BT="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",$Ce="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",Oot=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],zCe=Oot.join("|");function zJ(e){let t="";if(Ba.MODEL_TO_ENCODING.has(e))t=Ba.MODEL_TO_ENCODING.get(e);else for(let[r,n]of Mot)if(e.startsWith(r)){t=n;break}return t}o(zJ,"getEncoderFromModelName");async function Uot(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let n=await r.text();GF.writeFileSync(t,n)}o(Uot,"fetchAndSaveFile");function YJ(e){let t=new Map([[WF,50256]]);switch(e){case"o200k_base":t=new Map([[WF,199999],[jCe,200018]]);break;case"cl100k_base":t=new Map([[WF,100257],[GCe,100258],[HCe,100259],[VCe,100260],[jCe,100276]]);break;case"p50k_edit":t=new Map([[WF,50256],[GCe,50281],[HCe,50282],[VCe,50283]]);break;default:break}return t}o(YJ,"getSpecialTokensByEncoder");Ba.getSpecialTokensByEncoder=YJ;function qot(e){let t=zJ(e);return YJ(t)}o(qot,"getSpecialTokensByModel");Ba.getSpecialTokensByModel=qot;function YCe(e){switch(e){case"o200k_base":return zCe;case"cl100k_base":return $Ce;default:break}return BT}o(YCe,"getRegexByEncoder");Ba.getRegexByEncoder=YCe;function Wot(e){let t=zJ(e);return YCe(t)}o(Wot,"getRegexByModel");Ba.getRegexByModel=Wot;async function Got(e,t=null){return KCe(zJ(e),t)}o(Got,"createByModelName");Ba.createByModelName=Got;async function KCe(e,t=null){let r,n,i=YJ(e);switch(e){case"o200k_base":r=zCe,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=$Ce,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=BT,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=BT,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=BT,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=BT,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let s=$J.basename(n),a=$J.resolve(__dirname,"..","model");GF.existsSync(a)||GF.mkdirSync(a,{recursive:!0});let l=$J.resolve(a,s);return GF.existsSync(l)||(console.log(`Downloading file from ${n}`),await Uot(n,l),console.log(`Saved file to ${l}`)),JCe(l,i,r)}o(KCe,"createByEncoderName");Ba.createByEncoderName=KCe;function JCe(e,t,r,n=8192){return new Qot.TikTokenizer(e,t,r,n)}o(JCe,"createTokenizer");Ba.createTokenizer=JCe});var ZCe=V(Ra=>{"use strict";d();Object.defineProperty(Ra,"__esModule",{value:!0});Ra.createTokenizer=Ra.createByEncoderName=Ra.createByModelName=Ra.getSpecialTokensByModel=Ra.getSpecialTokensByEncoder=Ra.getRegexByModel=Ra.getRegexByEncoder=Ra.MODEL_TO_ENCODING=Ra.TikTokenizer=void 0;var Hot=jJ();Object.defineProperty(Ra,"TikTokenizer",{enumerable:!0,get:o(function(){return Hot.TikTokenizer},"get")});var I5=XCe();Object.defineProperty(Ra,"MODEL_TO_ENCODING",{enumerable:!0,get:o(function(){return I5.MODEL_TO_ENCODING},"get")});Object.defineProperty(Ra,"getRegexByEncoder",{enumerable:!0,get:o(function(){return I5.getRegexByEncoder},"get")});Object.defineProperty(Ra,"getRegexByModel",{enumerable:!0,get:o(function(){return I5.getRegexByModel},"get")});Object.defineProperty(Ra,"getSpecialTokensByEncoder",{enumerable:!0,get:o(function(){return I5.getSpecialTokensByEncoder},"get")});Object.defineProperty(Ra,"getSpecialTokensByModel",{enumerable:!0,get:o(function(){return I5.getSpecialTokensByModel},"get")});Object.defineProperty(Ra,"createByModelName",{enumerable:!0,get:o(function(){return I5.createByModelName},"get")});Object.defineProperty(Ra,"createByEncoderName",{enumerable:!0,get:o(function(){return I5.createByEncoderName},"get")});Object.defineProperty(Ra,"createTokenizer",{enumerable:!0,get:o(function(){return I5.createTokenizer},"get")})});var p3e=V((exports,module)=>{d();var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{o(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=o((e,t)=>{throw t},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}o(locateFile,"locateFile");function logExceptionOnExit(e){e instanceof ExitStatus||err("exiting due to exception: "+e)}if(o(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=o((e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),"read_"),readBinary=o(e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},"readBinary"),readAsync=o((e,t,r)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,function(n,i){n?r(n):t(i.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=o((e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=o(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},"readBinary")),readAsync=o((e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=o(e=>document.title=e,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,i));for(var s="";t<i;){var a=e[t++];if(128&a){var l=63&e[t++];if((224&a)!=192){var c=63&e[t++];if((a=(240&a)==224?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&e[t++])<65536)s+=String.fromCharCode(a);else{var u=a-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else s+=String.fromCharCode((31&a)<<6|l)}else s+=String.fromCharCode(a)}return s}o(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}o(UTF8ToString,"UTF8ToString");function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var i=r,s=r+n-1,a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++a)),l<=127){if(r>=s)break;t[r++]=l}else if(l<=2047){if(r+1>=s)break;t[r++]=192|l>>6,t[r++]=128|63&l}else if(l<=65535){if(r+2>=s)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|63&l}else{if(r+3>=s)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|63&l}}return t[r]=0,r-i}o(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}o(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}o(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun");function addOnPreRun(e){__ATPRERUN__.unshift(e)}o(addOnPreRun,"addOnPreRun");function addOnInit(e){__ATINIT__.unshift(e)}o(addOnInit,"addOnInit");function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}o(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency");function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}o(removeRunDependency,"removeRunDependency");function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}o(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI");function isFileURI(e){return e.startsWith("file://")}o(isFileURI,"isFileURI");function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}o(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(e,t){readAsync(wasmBinaryFile,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise");function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function t(i,s){var a=i.exports;a=relocateExports(a,1024);var l=getDylinkMetadata(s);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(t,"t");function r(i){t(i.instance,i.module)}o(r,"r");function n(i){return getBinaryPromise().then(function(s){return WebAssembly.instantiate(s,e)}).then(function(s){return s}).then(i,function(s){err("failed to asynchronously prepare wasm: "+s),abort(s)})}if(o(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,e).then(r,function(s){return err("wasm streaming compile failed: "+s),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}o(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}o(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:o(function(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(r.required=!0),r},"get")};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(e){var t=0,r=0;function n(){for(var v=0,b=1;;){var S=e[t++];if(v+=(127&S)*b,b*=128,!(128&S))break}return v}o(n,"_");function i(){var v=n();return UTF8ArrayToString(e,(t+=v)-v,v)}o(i,"n");function s(v,b){if(v)throw new Error(b)}o(s,"s");var a="dylink.0";if(e instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(e,a);l.length===0&&(a="dylink",l=WebAssembly.Module.customSections(e,a)),s(l.length===0,"need dylink section"),r=(e=new Uint8Array(l[0])).length}else{s(new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),s(e[8]!==0,"need the dylink section to be first"),t=9;var c=n();r=t+c,a=i()}var u={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();for(var f=n(),m=0;m<f;++m){var h=i();u.neededDynlibs.push(h)}}else for(s(a!=="dylink.0");t<r;){var p=e[t++],A=n();if(p===1)u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();else if(p===2)for(f=n(),m=0;m<f;++m)h=i(),u.neededDynlibs.push(h);else if(p===3)for(var x=n();x--;){var E=i();256&n()&&u.tlsExports.add(E)}else if(p===4)for(x=n();x--;)i(),E=i(),(3&n())==1&&u.weakImports.add(E);else t+=A}return u}o(getDylinkMetadata,"getDylinkMetadata");function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort("invalid type for getValue: "+t)}return null}o(getValue,"getValue");function asmjsMangle(e){return e.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}o(asmjsMangle,"asmjsMangle");function mergeLibSymbols(e,t){for(var r in e)if(e.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=e[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=e[r]),r=="__main_argc_argv"&&(Module._main=e[r])}}o(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,r){var n=Module["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}o(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}o(getWasmTableEntry,"getWasmTableEntry");function dynCall(e,t,r){return e.includes("j")?dynCallLegacy(e,t,r):getWasmTableEntry(t).apply(null,r)}o(dynCall,"dynCall");function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(t),r!==r+0)throw r;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}o(zeroMemory,"zeroMemory");function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+e+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,t}o(getMemory,"getMemory");function isInternalSym(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(e)}o(isInternalSym,"isInternalSym");function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}o(uleb128Encode,"uleb128Encode");function sigToWasmTypes(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]),e[n]==="j"&&r.parameters.push("i32");return r}o(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(e,t){var r=e.slice(0,1),n=e.slice(1),i={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(n.length,t);for(var s=0;s<n.length;++s)t.push(i[n[s]]);r=="v"?t.push(0):t.push(1,i[r])}o(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(e,t){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(e,t){if(functionsInTableMap)for(var r=e;r<e+t;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}o(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}o(setWasmTableEntry,"setWasmTableEntry");function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,r),r}o(addFunction,"addFunction");function updateGOT(e,t){for(var r in e)if(!isInternalSym(r)){var n=e[r];r.startsWith("orig$")&&(r=r.split("$")[1],t=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}o(updateGOT,"updateGOT");function relocateExports(e,t,r){var n={};for(var i in e){var s=e[i];typeof s=="object"&&(s=s.value),typeof s=="number"&&(s+=t),n[i]=s}return updateGOT(n,r),n}o(relocateExports,"relocateExports");function resolveGlobalSymbol(e,t){var r;return t&&(r=asmLibraryArg["orig$"+e]),r||(r=asmLibraryArg[e])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(e)]),!r&&e.startsWith("invoke_")&&(r=createInvokeFunction(e.split("_")[1])),r}o(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(e,t){return Math.ceil(e/t)*t}o(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}o(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:o(function(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(t in asmLibraryArg)return asmLibraryArg[t];var r;return t in e||(e[t]=function(){return r||(r=resolveSymbol(t)),r.apply(null,arguments)}),e[t]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(e){return postInstantiation(e.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(e){loadDynamicLibrary(e,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(e,t,r){t=t||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[e];if(n)return t.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,e)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!t.loadAsync||Promise.resolve(!0);function i(l){if(t.fs&&t.fs.findObject(l)){var c=t.fs.readFile(l,{encoding:"binary"});return c instanceof Uint8Array||(c=new Uint8Array(c)),t.loadAsync?Promise.resolve(c):c}if(l=locateFile(l),t.loadAsync)return new Promise(function(u,f){readAsync(l,m=>u(new Uint8Array(m)),f)});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}o(i,"n");function s(){if(typeof preloadedWasm<"u"&&preloadedWasm[e]){var l=preloadedWasm[e];return t.loadAsync?Promise.resolve(l):l}return t.loadAsync?i(e).then(function(c){return loadWebAssemblyModule(c,t,r)}):loadWebAssemblyModule(i(e),t,r)}o(s,"s");function a(l){n.global&&mergeLibSymbols(l,e),n.module=l}return o(a,"a"),n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},LDSO.loadedLibsByName[e]=n,r&&(LDSO.loadedLibsByHandle[r]=n),t.loadAsync?s().then(function(l){return a(l),!0}):(a(s()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var e in GOT)if(GOT[e].value==0){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if(typeof t=="function")GOT[e].value=addFunction(t,t.sig);else{if(typeof t!="number")throw new Error("bad export type for `"+e+"`: "+typeof t);GOT[e].value=t}}}o(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs");function setValue(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort("invalid type for setValue: "+r)}}o(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var n=1;n<=4;n*=2){var i=t*(1+.2/n);if(i=Math.min(i,e+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(e,i))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:o(function(e,t,r){if(PATH.isAbs(t))return t;var n;if(e===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(e).path,t.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,t)},"calculateAt"),doStat:o(function(e,t,r){try{var n=e(t)}catch(l){if(l&&l.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),s=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:o(function(e,t,r,n,i){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var s=HEAPU8.slice(e,e+r);FS.msync(t,s,i,r,n)},"doMsync"),varargs:void 0,get:o(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:o(function(e){return UTF8ToString(e)},"getStr"),getStreamFromFD:o(function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t},"getStreamFromFD")};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}o(_proc_exit,"_proc_exit");function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}o(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}o(_fd_close,"_fd_close");function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(e,t,r,n,i){try{var s=convertI32PairToI53Checked(t,r);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(e);return FS.llseek(a,s,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],a.getdents&&s===0&&n===0&&(a.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}o(_fd_seek,"_fd_seek");function doWritev(e,t,r,n){for(var i=0,s=0;s<r;s++){var a=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.write(e,HEAP8,a,l,n);if(c<0)return-1;i+=c,n!==void 0&&(n+=c)}return i}o(doWritev,"doWritev");function _fd_write(e,t,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(e),t,r);return HEAPU32[n>>2]=i,0}catch(s){if(typeof FS>"u"||!(s instanceof FS.ErrnoError))throw s;return s.errno}}o(_fd_write,"_fd_write");function _tree_sitter_log_callback(e,t){if(currentLogCallback){let r=UTF8ToString(t);currentLogCallback(r,e!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(e,t,r,n,i){var s=currentParseCallback(t,{row:r,column:n});typeof s=="string"?(setValue(i,s.length,"i32"),stringToUTF16(s,e,10240)):setValue(i,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(e){if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)}o(handleException,"handleException");function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8Array(e,HEAP8,r,t),r}o(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,s=0;s<i;++s){var a=e.charCodeAt(s);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}o(stringToUTF16,"stringToUTF16");function AsciiToString(e){for(var t="";;){var r=HEAPU8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}o(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var r=e.length,n=stackAlloc(4*(r+1)),i=n>>2;e.forEach(a=>{HEAP32[i++]=allocateUTF8OnStack(a)}),HEAP32[i]=0;try{var s=t(r,n);return exitJS(s,!0),s}catch(a){return handleException(a)}}}o(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=o(function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},"e");var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}o(t,"t"),e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}if(o(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{o(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(t){let r;if(t){if(t.constructor!==Language)throw new Error("Argument must be a Language");{r=t[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,t=null;return this.language=t,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(t,r,n){if(typeof t=="string")currentParseCallback=o((c,u,f)=>t.slice(c,f),"currentParseCallback");else{if(typeof t!="function")throw new Error("Argument must be a string or a function");currentParseCallback=t}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,s=0;if(n&&n.includedRanges){i=n.includedRanges.length,s=C._calloc(i,SIZE_OF_RANGE);let c=s;for(let u=0;u<i;u++)marshalRange(c,n.includedRanges[u]),c+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,s,i);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(t){C._ts_parser_set_timeout_micros(this[0],t)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(t){if(t){if(typeof t!="function")throw new Error("Logger callback must be a function")}else t=null;return this.logCallback=t,this}getLogger(){return this.logCallback}}class Tree{static{o(this,"Tree")}constructor(t,r,n,i){assertInternal(t),this[0]=r,this.language=n,this.textCallback=i}copy(){let t=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,t,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(t){marshalEdit(t),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(t){if(t.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],t[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let s=n;for(let a=0;a<r;a++)i[a]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{static{o(this,"Node")}constructor(t,r){assertInternal(t),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(t){return this.id===t.id}child(t){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}namedChild(t){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldId(t){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldName(t){let r=this.tree.language.fields.indexOf(t);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(t,r,n){Array.isArray(t)||(t=[t]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],s=this.tree.language.types;for(let f=0,m=s.length;f<m;f++)t.includes(s[f])&&i.push(f);let a=C._malloc(SIZE_OF_INT*i.length);for(let f=0,m=i.length;f<m;f++)setValue(a+f*SIZE_OF_INT,i[f],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,i.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=new Array(l);if(l>0){let f=c;for(let m=0;m<l;m++)u[m]=unmarshalNode(this.tree,f),f+=SIZE_OF_NODE}return C._free(c),C._free(a),u}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let t=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(t);return C._free(t),r}}class TreeCursor{static{o(this,"TreeCursor")}constructor(t,r){assertInternal(t),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(t){marshalNode(t),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let t=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,t,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoNextSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoParent(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}}class Language{static{o(this,"Language")}constructor(t,r){assertInternal(t),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let s=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=s!==0?UTF8ToString(s):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(t){let r=this.fields.indexOf(t);return r!==-1?r:null}fieldNameForId(t){return this.fields[t]||null}idForNodeType(t,r){let n=lengthBytesUTF8(t),i=C._malloc(n+1);stringToUTF8(t,i,n+1);let s=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),s||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(t){let r=C._ts_language_symbol_name(this[0],t);return r?UTF8ToString(r):null}nodeTypeIsNamed(t){return!!C._ts_language_type_is_named_wasm(this[0],t)}nodeTypeIsVisible(t){return!!C._ts_language_type_is_visible_wasm(this[0],t)}query(t){let r=lengthBytesUTF8(t),n=C._malloc(r+1);stringToUTF8(t,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let x=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),E=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,v=t.substr(E,100).split(`
`)[0],b,S=v.match(QUERY_WORD_REGEX)[0];switch(x){case 2:b=new RangeError(`Bad node name '${S}'`);break;case 3:b=new RangeError(`Bad field name '${S}'`);break;case 4:b=new RangeError(`Bad capture name @${S}`);break;case 5:b=new TypeError(`Bad pattern structure at offset ${E}: '${v}'...`),S="";break;default:b=new SyntaxError(`Bad syntax at offset ${E}: '${v}'...`),S=""}throw b.index=E,b.length=S.length,C._free(n),b}let s=C._ts_query_string_count(i),a=C._ts_query_capture_count(i),l=C._ts_query_pattern_count(i),c=new Array(a),u=new Array(s);for(let x=0;x<a;x++){let E=C._ts_query_capture_name_for_id(i,x,TRANSFER_BUFFER),v=getValue(TRANSFER_BUFFER,"i32");c[x]=UTF8ToString(E,v)}for(let x=0;x<s;x++){let E=C._ts_query_string_value_for_id(i,x,TRANSFER_BUFFER),v=getValue(TRANSFER_BUFFER,"i32");u[x]=UTF8ToString(E,v)}let f=new Array(l),m=new Array(l),h=new Array(l),p=new Array(l),A=new Array(l);for(let x=0;x<l;x++){let E=C._ts_query_predicates_for_pattern(i,x,TRANSFER_BUFFER),v=getValue(TRANSFER_BUFFER,"i32");p[x]=[],A[x]=[];let b=[],S=E;for(let B=0;B<v;B++){let D=getValue(S,"i32");S+=SIZE_OF_INT;let F=getValue(S,"i32");if(S+=SIZE_OF_INT,D===PREDICATE_STEP_TYPE_CAPTURE)b.push({type:"capture",name:c[F]});else if(D===PREDICATE_STEP_TYPE_STRING)b.push({type:"string",value:u[F]});else if(b.length>0){if(b[0].type!=="string")throw new Error("Predicates must begin with a literal value");let W=b[0].value,ee=!0;switch(W){case"not-eq?":ee=!1;case"eq?":if(b.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(b.length-1));if(b[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${b[1].value}"`);if(b[2].type==="capture"){let U=b[1].name,ie=b[2].name;A[x].push(function(z){let H,M;for(let j of z)j.name===U&&(H=j.node),j.name===ie&&(M=j.node);return H===void 0||M===void 0||H.text===M.text===ee})}else{let U=b[1].name,ie=b[2].value;A[x].push(function(z){for(let H of z)if(H.name===U)return H.node.text===ie===ee;return!0})}break;case"not-match?":ee=!1;case"match?":if(b.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${b.length-1}.`);if(b[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${b[1].value}".`);if(b[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${b[2].value}.`);let de=b[1].name,X=new RegExp(b[2].value);A[x].push(function(U){for(let ie of U)if(ie.name===de)return X.test(ie.node.text)===ee;return!0});break;case"set!":if(b.length<2||b.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${b.length-1}.`);if(b.some(U=>U.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');f[x]||(f[x]={}),f[x][b[1].value]=b[2]?b[2].value:null;break;case"is?":case"is-not?":if(b.length<2||b.length>3)throw new Error(`Wrong number of arguments to \`#${W}\` predicate. Expected 1 or 2. Got ${b.length-1}.`);if(b.some(U=>U.type!=="string"))throw new Error(`Arguments to \`#${W}\` predicate must be a strings.".`);let G=W==="is?"?m:h;G[x]||(G[x]={}),G[x][b[1].value]=b[2]?b[2].value:null;break;default:p[x].push({operator:W,operands:b.slice(1)})}b.length=0}}Object.freeze(f[x]),Object.freeze(m[x]),Object.freeze(h[x])}return C._free(n),new Query(INTERNAL,i,c,A,p,Object.freeze(f),Object.freeze(m),Object.freeze(h))}static load(t){let r;if(t instanceof Uint8Array)r=Promise.resolve(t);else{let i=t;if(typeof process<"u"&&process.versions&&process.versions.node){let s=require("fs");r=Promise.resolve(s.readFileSync(i))}else r=fetch(i).then(s=>s.arrayBuffer().then(a=>{if(s.ok)return new Uint8Array(a);{let l=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${s.status}.

${l}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let s=Object.keys(i),a=s.find(c=>LANGUAGE_FUNCTION_REGEX.test(c)&&!c.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);let l=i[a]();return new Language(INTERNAL,l)})}}class Query{static{o(this,"Query")}constructor(t,r,n,i,s,a,l,c){assertInternal(t),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=s,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=c,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_matches_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=new Array(a);this.exceededMatchLimit=!!c;let f=0,m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let A=getValue(m,"i32");m+=SIZE_OF_INT;let x=new Array(A);if(m=unmarshalCaptures(this,t.tree,m,x),this.textPredicates[p].every(E=>E(x))){u[f++]={pattern:p,captures:x};let E=this.setProperties[p];E&&(u[h].setProperties=E);let v=this.assertedProperties[p];v&&(u[h].assertedProperties=v);let b=this.refutedProperties[p];b&&(u[h].refutedProperties=b)}}return u.length=f,C._free(l),u}captures(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let s=i.matchLimit;if(s===void 0)s=0;else if(typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_captures_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,s);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=[];this.exceededMatchLimit=!!c;let f=[],m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let A=getValue(m,"i32");m+=SIZE_OF_INT;let x=getValue(m,"i32");if(m+=SIZE_OF_INT,f.length=A,m=unmarshalCaptures(this,t.tree,m,f),this.textPredicates[p].every(E=>E(f))){let E=f[x],v=this.setProperties[p];v&&(E.setProperties=v);let b=this.assertedProperties[p];b&&(E.assertedProperties=b);let S=this.refutedProperties[p];S&&(E.refutedProperties=S),u.push(E)}}return C._free(l),u}predicatesForPattern(t){return this.predicates[t]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){let n=r-t,i=e.textCallback(t,null,r);for(t+=i.length;t<r;){let s=e.textCallback(t,null,r);if(!(s&&s.length>0))break;t+=s.length,i+=s}return t>r&&(i=i.slice(0,n)),i}o(getText,"getText");function unmarshalCaptures(e,t,r,n){for(let i=0,s=n.length;i<s;i++){let a=getValue(r,"i32"),l=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:e.captureNames[a],node:l}}return r}o(unmarshalCaptures,"unmarshalCaptures");function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal");function isPoint(e){return e&&typeof e.row=="number"&&typeof e.column=="number"}o(isPoint,"isPoint");function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}o(marshalNode,"marshalNode");function unmarshalNode(e,t=TRANSFER_BUFFER){let r=getValue(t,"i32");if(r===0)return null;let n=getValue(t+=SIZE_OF_INT,"i32"),i=getValue(t+=SIZE_OF_INT,"i32"),s=getValue(t+=SIZE_OF_INT,"i32"),a=getValue(t+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,e);return l.id=r,l.startIndex=n,l.startPosition={row:i,column:s},l[0]=a,l}o(unmarshalNode,"unmarshalNode");function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}o(marshalPoint,"marshalPoint");function unmarshalPoint(e){return{row:getValue(e,"i32"),column:getValue(e+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint");function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}o(marshalRange,"marshalRange");function unmarshalRange(e){let t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32"),e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32"),t}o(unmarshalRange,"unmarshalRange");function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}o(marshalEdit,"marshalEdit");for(let e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var QX=V((i5r,Z3e)=>{d();var LX=require("fs"),QN=require("path"),jT=QN.join,Bat=QN.dirname,J3e=LX.accessSync&&function(e){try{LX.accessSync(e)}catch{return!1}return!0}||LX.existsSync||QN.existsSync,X3e={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function Rat(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(X3e).map(function(c){c in e||(e[c]=X3e[c])}),e.module_root||(e.module_root=Dat(__filename)),QN.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=e.try.length,s,a,l;n<i;n++){s=jT.apply(null,e.try[n].map(function(c){return e[c]||c})),r.push(s);try{return a=e.path?t.resolve(s):t(s),e.path||(a.path=s),a}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return e.arrow+c}).join(`
`)),l.tries=r,l}o(Rat,"bindings");Z3e.exports=Rat;function Dat(e){for(var t=Bat(e),r;;){if(t==="."&&(t=process.cwd()),J3e(jT(t,"dist")))return jT(t,"dist");if(J3e(jT(t,"compiled")))return t;if(r===t)throw new Error('Could not find module root given file: "'+e+'". Do you have a `dist` or `compiled` directory? ');r=t,t=jT(t,"..")}}o(Dat,"getRoot")});var t4e=V((a5r,e4e)=>{d();e4e.exports=QX()("node_sqlite3.node")});var i4e=V(n4e=>{d();var Pat=require("util");function Fat(e,t,r){let n=e[t];e[t]=function(){let i=new Error,s=e.constructor.name+"#"+t+"("+Array.prototype.slice.call(arguments).map(function(l){return Pat.inspect(l,!1,0)}).join(", ")+")";typeof r>"u"&&(r=-1),r<0&&(r+=arguments.length);let a=arguments[r];return typeof arguments[r]=="function"&&(arguments[r]=o(function(){let c=arguments[0];return c&&c.stack&&!c.__augmented&&(c.stack=r4e(c).join(`
`),c.stack+=`
--> in `+s,c.stack+=`
`+r4e(i).slice(1).join(`
`),c.__augmented=!0),a.apply(this,arguments)},"replacement")),n.apply(this,arguments)}}o(Fat,"extendTrace");n4e.extendTrace=Fat;function r4e(e){return e.stack.split(`
`).filter(function(t){return t.indexOf(__filename)<0})}o(r4e,"filter")});var l4e=V((s4e,a4e)=>{d();var Nat=require("path"),ed=t4e(),Wv=require("events").EventEmitter;a4e.exports=s4e=ed;function Gv(e){return function(t){let r,n=Array.prototype.slice.call(arguments,1);if(typeof n[n.length-1]=="function"){let s=n[n.length-1];r=o(function(a){a&&s(a)},"errBack")}let i=new MN(this,t,r);return e.call(this,i,n)}}o(Gv,"normalizeMethod");function OX(e,t){for(let r in t.prototype)e.prototype[r]=t.prototype[r]}o(OX,"inherits");ed.cached={Database:o(function(e,t,r){if(e===""||e===":memory:")return new V0(e,t,r);let n;if(e=Nat.resolve(e),!ed.cached.objects[e])n=ed.cached.objects[e]=new V0(e,t,r);else{n=ed.cached.objects[e];let s=typeof t=="number"?r:t;if(typeof s=="function"){let a=function(){s.call(n,null)};var i=a;o(a,"cb"),n.open?process.nextTick(a):n.once("open",a)}}return n},"Database"),objects:{}};var V0=ed.Database,MN=ed.Statement,MX=ed.Backup;OX(V0,Wv);OX(MN,Wv);OX(MX,Wv);V0.prototype.prepare=Gv(function(e,t){return t.length?e.bind.apply(e,t):e});V0.prototype.run=Gv(function(e,t){return e.run.apply(e,t).finalize(),this});V0.prototype.get=Gv(function(e,t){return e.get.apply(e,t).finalize(),this});V0.prototype.all=Gv(function(e,t){return e.all.apply(e,t).finalize(),this});V0.prototype.each=Gv(function(e,t){return e.each.apply(e,t).finalize(),this});V0.prototype.map=Gv(function(e,t){return e.map.apply(e,t).finalize(),this});V0.prototype.backup=function(){let e;return arguments.length<=2?e=new MX(this,arguments[0],"main","main",!0,arguments[1]):e=new MX(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),e.retryErrors=[ed.BUSY,ed.LOCKED],e};MN.prototype.map=function(){let e=Array.prototype.slice.call(arguments),t=e.pop();return e.push(function(r,n){if(r)return t(r);let i={};if(n.length){let s=Object.keys(n[0]),a=s[0];if(s.length>2)for(let l=0;l<n.length;l++)i[n[l][a]]=n[l];else{let l=s[1];for(let c=0;c<n.length;c++)i[n[c][a]]=n[c][l]}}t(r,i)}),this.all.apply(this,e)};var o4e=!1,UX=["trace","profile","change"];V0.prototype.addListener=V0.prototype.on=function(e){let t=Wv.prototype.addListener.apply(this,arguments);return UX.indexOf(e)>=0&&this.configure(e,!0),t};V0.prototype.removeListener=function(e){let t=Wv.prototype.removeListener.apply(this,arguments);return UX.indexOf(e)>=0&&!this._events[e]&&this.configure(e,!1),t};V0.prototype.removeAllListeners=function(e){let t=Wv.prototype.removeAllListeners.apply(this,arguments);return UX.indexOf(e)>=0&&this.configure(e,!1),t};ed.verbose=function(){if(!o4e){let e=i4e();["prepare","get","run","all","each","map","close","exec"].forEach(function(t){e.extendTrace(V0.prototype,t)}),["bind","get","run","all","each","map","reset","finalize"].forEach(function(t){e.extendTrace(MN.prototype,t)}),o4e=!0}return ed}});var JN=V(Fa=>{"use strict";d();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.thenable=Fa.typedArray=Fa.stringArray=Fa.array=Fa.func=Fa.error=Fa.number=Fa.string=Fa.boolean=void 0;function Qat(e){return e===!0||e===!1}o(Qat,"boolean");Fa.boolean=Qat;function h4e(e){return typeof e=="string"||e instanceof String}o(h4e,"string");Fa.string=h4e;function Mat(e){return typeof e=="number"||e instanceof Number}o(Mat,"number");Fa.number=Mat;function Oat(e){return e instanceof Error}o(Oat,"error");Fa.error=Oat;function p4e(e){return typeof e=="function"}o(p4e,"func");Fa.func=p4e;function g4e(e){return Array.isArray(e)}o(g4e,"array");Fa.array=g4e;function Uat(e){return g4e(e)&&e.every(t=>h4e(t))}o(Uat,"stringArray");Fa.stringArray=Uat;function qat(e,t){return Array.isArray(e)&&e.every(t)}o(qat,"typedArray");Fa.typedArray=qat;function Wat(e){return e&&p4e(e.then)}o(Wat,"thenable");Fa.thenable=Wat});var GX=V(rd=>{"use strict";d();Object.defineProperty(rd,"__esModule",{value:!0});rd.generateUuid=rd.parse=rd.isUUID=rd.v4=rd.empty=void 0;var YT=class{static{o(this,"ValueUUID")}constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},KT=class e extends YT{static{o(this,"V4UUID")}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}};KT._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];KT._timeHighBits=["8","9","a","b"];rd.empty=new YT("00000000-0000-0000-0000-000000000000");function A4e(){return new KT}o(A4e,"v4");rd.v4=A4e;var Gat=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function y4e(e){return Gat.test(e)}o(y4e,"isUUID");rd.isUUID=y4e;function Hat(e){if(!y4e(e))throw new Error("invalid uuid");return new YT(e)}o(Hat,"parse");rd.parse=Hat;function Vat(){return A4e().asHex()}o(Vat,"generateUuid");rd.generateUuid=Vat});var C4e=V(B5=>{"use strict";d();Object.defineProperty(B5,"__esModule",{value:!0});B5.attachPartialResult=B5.ProgressFeature=B5.attachWorkDone=void 0;var k5=jn(),jat=GX(),n4=class e{static{o(this,"WorkDoneProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r,e.Instances.set(this._token,this)}begin(t,r,n,i){let s={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(k5.WorkDoneProgress.type,this._token,s)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(k5.WorkDoneProgress.type,this._token,n)}done(){e.Instances.delete(this._token),this._connection.sendProgress(k5.WorkDoneProgress.type,this._token,{kind:"end"})}};n4.Instances=new Map;var XN=class extends n4{static{o(this,"WorkDoneProgressServerReporterImpl")}constructor(t,r){super(t,r),this._source=new k5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},JT=class{static{o(this,"NullProgressReporter")}constructor(){}begin(){}report(){}done(){}},ZN=class extends JT{static{o(this,"NullProgressServerReporter")}constructor(){super(),this._source=new k5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function $at(e,t){if(t===void 0||t.workDoneToken===void 0)return new JT;let r=t.workDoneToken;return delete t.workDoneToken,new n4(e,r)}o($at,"attachWorkDone");B5.attachWorkDone=$at;var zat=o(e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(k5.WorkDoneProgressCancelNotification.type,r=>{let n=n4.Instances.get(r.token);(n instanceof XN||n instanceof ZN)&&n.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new JT:new n4(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,jat.generateUuid)();return this.connection.sendRequest(k5.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new XN(this.connection,t))}else return Promise.resolve(new ZN)}},"ProgressFeature");B5.ProgressFeature=zat;var HX;(function(e){e.type=new k5.ProgressType})(HX||(HX={}));var VX=class{static{o(this,"ResultProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(HX.type,this._token,t)}};function Yat(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new VX(e,r)}o(Yat,"attachPartialResult");B5.attachPartialResult=Yat});var x4e=V(eL=>{"use strict";d();Object.defineProperty(eL,"__esModule",{value:!0});eL.ConfigurationFeature=void 0;var Kat=jn(),Jat=JN(),Xat=o(e=>class extends e{getConfiguration(t){return t?Jat.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(Kat.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(t)?n:n[0]:Array.isArray(t)?[]:null)}},"ConfigurationFeature");eL.ConfigurationFeature=Xat});var E4e=V(rL=>{"use strict";d();Object.defineProperty(rL,"__esModule",{value:!0});rL.WorkspaceFoldersFeature=void 0;var tL=jn(),Zat=o(e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new tL.Emitter,this.connection.onNotification(tL.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let r=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(tL.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(tL.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}},"WorkspaceFoldersFeature");rL.WorkspaceFoldersFeature=Zat});var b4e=V(nL=>{"use strict";d();Object.defineProperty(nL,"__esModule",{value:!0});nL.CallHierarchyFeature=void 0;var jX=jn(),elt=o(e=>class extends e{get callHierarchy(){return{onPrepare:o(t=>this.connection.onRequest(jX.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onIncomingCalls:o(t=>{let r=jX.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onIncomingCalls"),onOutgoingCalls:o(t=>{let r=jX.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onOutgoingCalls")}}},"CallHierarchyFeature");nL.CallHierarchyFeature=elt});var zX=V(R5=>{"use strict";d();Object.defineProperty(R5,"__esModule",{value:!0});R5.SemanticTokensBuilder=R5.SemanticTokensDiff=R5.SemanticTokensFeature=void 0;var iL=jn(),tlt=o(e=>class extends e{get semanticTokens(){return{refresh:o(()=>this.connection.sendRequest(iL.SemanticTokensRefreshRequest.type),"refresh"),on:o(t=>{let r=iL.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on"),onDelta:o(t=>{let r=iL.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onDelta"),onRange:o(t=>{let r=iL.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onRange")}}},"SemanticTokensFeature");R5.SemanticTokensFeature=tlt;var oL=class{static{o(this,"SemanticTokensDiff")}constructor(t,r){this.originalSequence=t,this.modifiedSequence=r}computeDiff(){let t=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<t&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<t){let i=t-1,s=r-1;for(;i>=n&&s>=n&&this.originalSequence[i]===this.modifiedSequence[s];)i--,s--;(i<n||s<n)&&(i++,s++);let a=i-n+1,l=this.modifiedSequence.slice(n,s+1);return l.length===1&&l[0]===this.originalSequence[i]?[{start:n,deleteCount:a-1}]:[{start:n,deleteCount:a,data:l}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<t?[{start:n,deleteCount:t-n}]:[]}};R5.SemanticTokensDiff=oL;var $X=class{static{o(this,"SemanticTokensBuilder")}constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,s){let a=t,l=r;this._dataLen>0&&(a-=this._prevLine,a===0&&(l-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=l,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new oL(this._prevData,this._data).computeDiff()}:this.build()}};R5.SemanticTokensBuilder=$X});var v4e=V(sL=>{"use strict";d();Object.defineProperty(sL,"__esModule",{value:!0});sL.ShowDocumentFeature=void 0;var rlt=jn(),nlt=o(e=>class extends e{showDocument(t){return this.connection.sendRequest(rlt.ShowDocumentRequest.type,t)}},"ShowDocumentFeature");sL.ShowDocumentFeature=nlt});var I4e=V(aL=>{"use strict";d();Object.defineProperty(aL,"__esModule",{value:!0});aL.FileOperationsFeature=void 0;var Vv=jn(),ilt=o(e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(Vv.DidCreateFilesNotification.type,r=>{t(r)})}onDidRenameFiles(t){return this.connection.onNotification(Vv.DidRenameFilesNotification.type,r=>{t(r)})}onDidDeleteFiles(t){return this.connection.onNotification(Vv.DidDeleteFilesNotification.type,r=>{t(r)})}onWillCreateFiles(t){return this.connection.onRequest(Vv.WillCreateFilesRequest.type,(r,n)=>t(r,n))}onWillRenameFiles(t){return this.connection.onRequest(Vv.WillRenameFilesRequest.type,(r,n)=>t(r,n))}onWillDeleteFiles(t){return this.connection.onRequest(Vv.WillDeleteFilesRequest.type,(r,n)=>t(r,n))}},"FileOperationsFeature");aL.FileOperationsFeature=ilt});var T4e=V(lL=>{"use strict";d();Object.defineProperty(lL,"__esModule",{value:!0});lL.LinkedEditingRangeFeature=void 0;var olt=jn(),slt=o(e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(olt.LinkedEditingRangeRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))}},"LinkedEditingRangeFeature");lL.LinkedEditingRangeFeature=slt});var w4e=V(cL=>{"use strict";d();Object.defineProperty(cL,"__esModule",{value:!0});cL.TypeHierarchyFeature=void 0;var YX=jn(),alt=o(e=>class extends e{get typeHierarchy(){return{onPrepare:o(t=>this.connection.onRequest(YX.TypeHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onSupertypes:o(t=>{let r=YX.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSupertypes"),onSubtypes:o(t=>{let r=YX.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSubtypes")}}},"TypeHierarchyFeature");cL.TypeHierarchyFeature=alt});var _4e=V(uL=>{"use strict";d();Object.defineProperty(uL,"__esModule",{value:!0});uL.InlineValueFeature=void 0;var S4e=jn(),llt=o(e=>class extends e{get inlineValue(){return{refresh:o(()=>this.connection.sendRequest(S4e.InlineValueRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(S4e.InlineValueRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineValueFeature");uL.InlineValueFeature=llt});var B4e=V(fL=>{"use strict";d();Object.defineProperty(fL,"__esModule",{value:!0});fL.FoldingRangeFeature=void 0;var k4e=jn(),clt=o(e=>class extends e{get foldingRange(){return{refresh:o(()=>this.connection.sendRequest(k4e.FoldingRangeRefreshRequest.type),"refresh"),on:o(t=>{let r=k4e.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"FoldingRangeFeature");fL.FoldingRangeFeature=clt});var R4e=V(dL=>{"use strict";d();Object.defineProperty(dL,"__esModule",{value:!0});dL.InlayHintFeature=void 0;var KX=jn(),ult=o(e=>class extends e{get inlayHint(){return{refresh:o(()=>this.connection.sendRequest(KX.InlayHintRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(KX.InlayHintRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on"),resolve:o(t=>this.connection.onRequest(KX.InlayHintResolveRequest.type,(r,n)=>t(r,n)),"resolve")}}},"InlayHintFeature");dL.InlayHintFeature=ult});var D4e=V(mL=>{"use strict";d();Object.defineProperty(mL,"__esModule",{value:!0});mL.DiagnosticFeature=void 0;var XT=jn(),flt=o(e=>class extends e{get diagnostics(){return{refresh:o(()=>this.connection.sendRequest(XT.DiagnosticRefreshRequest.type),"refresh"),on:o(t=>this.connection.onRequest(XT.DocumentDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(XT.DocumentDiagnosticRequest.partialResult,r))),"on"),onWorkspace:o(t=>this.connection.onRequest(XT.WorkspaceDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(XT.WorkspaceDiagnosticRequest.partialResult,r))),"onWorkspace")}}},"DiagnosticFeature");mL.DiagnosticFeature=flt});var XX=V(hL=>{"use strict";d();Object.defineProperty(hL,"__esModule",{value:!0});hL.TextDocuments=void 0;var i4=jn(),JX=class{static{o(this,"TextDocuments")}constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new i4.Emitter,this._onDidOpen=new i4.Emitter,this._onDidClose=new i4.Emitter,this._onDidSave=new i4.Emitter,this._onWillSave=new i4.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=i4.TextDocumentSyncKind.Incremental;let r=[];return r.push(t.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,s);let a=Object.freeze({document:s});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),r.push(t.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges;if(s.length===0)return;let{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=this._syncedDocuments.get(i.uri);l!==void 0&&(l=this._configuration.update(l,s,a),this._syncedDocuments.set(i.uri,l),this._onDidChangeContent.fire(Object.freeze({document:l})))})),r.push(t.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(t.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(t.onWillSaveTextDocumentWaitUntil((n,i)=>{let s=this._syncedDocuments.get(n.textDocument.uri);return s!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:s,reason:n.reason}),i):[]})),r.push(t.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),i4.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};hL.TextDocuments=JX});var eZ=V(jv=>{"use strict";d();Object.defineProperty(jv,"__esModule",{value:!0});jv.NotebookDocuments=jv.NotebookSyncFeature=void 0;var nd=jn(),P4e=XX(),dlt=o(e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:o(t=>this.connection.onNotification(nd.DidOpenNotebookDocumentNotification.type,r=>{t(r)}),"onDidOpenNotebookDocument"),onDidChangeNotebookDocument:o(t=>this.connection.onNotification(nd.DidChangeNotebookDocumentNotification.type,r=>{t(r)}),"onDidChangeNotebookDocument"),onDidSaveNotebookDocument:o(t=>this.connection.onNotification(nd.DidSaveNotebookDocumentNotification.type,r=>{t(r)}),"onDidSaveNotebookDocument"),onDidCloseNotebookDocument:o(t=>this.connection.onNotification(nd.DidCloseNotebookDocumentNotification.type,r=>{t(r)}),"onDidCloseNotebookDocument")}}},"NotebookSyncFeature");jv.NotebookSyncFeature=dlt;var pL=class e{static{o(this,"CellTextDocumentConnection")}onDidOpenTextDocument(t){return this.openHandler=t,nd.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,nd.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,nd.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};pL.NULL_DISPOSE=Object.freeze({dispose:o(()=>{},"dispose")});var ZX=class{static{o(this,"NotebookDocuments")}constructor(t){t instanceof P4e.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new P4e.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new nd.Emitter,this._onDidChange=new nd.Emitter,this._onDidSave=new nd.Emitter,this._onDidClose=new nd.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let r=this.notebookCellMap.get(t);return r&&r[0]}findNotebookDocumentForCell(t){let r=typeof t=="string"?t:t.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let r=new pL,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let s of i.cellTextDocuments)r.openTextDocument({textDocument:s});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s===void 0)return;s.version=i.notebookDocument.version;let a=s.metadata,l=!1,c=i.change;c.metadata!==void 0&&(l=!0,s.metadata=c.metadata);let u=[],f=[],m=[],h=[];if(c.cells!==void 0){let v=c.cells;if(v.structure!==void 0){let b=v.structure.array;if(s.cells.splice(b.start,b.deleteCount,...b.cells!==void 0?b.cells:[]),v.structure.didOpen!==void 0)for(let S of v.structure.didOpen)r.openTextDocument({textDocument:S}),u.push(S.uri);if(v.structure.didClose)for(let S of v.structure.didClose)r.closeTextDocument({textDocument:S}),f.push(S.uri)}if(v.data!==void 0){let b=new Map(v.data.map(S=>[S.document,S]));for(let S=0;S<=s.cells.length;S++){let B=b.get(s.cells[S].document);if(B!==void 0){let D=s.cells.splice(S,1,B);if(m.push({old:D[0],new:B}),b.delete(B.document),b.size===0)break}}}if(v.textContent!==void 0)for(let b of v.textContent)r.changeTextDocument({textDocument:b.document,contentChanges:b.changes}),h.push(b.document.uri)}this.updateCellMap(s);let p={notebookDocument:s};l&&(p.metadata={old:a,new:s.metadata});let A=[];for(let v of u)A.push(this.getNotebookCell(v));let x=[];for(let v of f)x.push(this.getNotebookCell(v));let E=[];for(let v of h)E.push(this.getNotebookCell(v));(A.length>0||x.length>0||m.length>0||E.length>0)&&(p.cells={added:A,removed:x,changed:{data:m,textContent:E}}),(p.metadata!==void 0||p.cells!==void 0)&&this._onDidChange.fire(p)})),n.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);s!==void 0&&this._onDidSave.fire(s)})),n.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let s=this.notebookDocuments.get(i.notebookDocument.uri);if(s!==void 0){this._onDidClose.fire(s);for(let a of i.cellTextDocuments)r.closeTextDocument({textDocument:a});this.notebookDocuments.delete(i.notebookDocument.uri);for(let a of s.cells)this.notebookCellMap.delete(a.document)}})),nd.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(t){for(let r of t.cells)this.notebookCellMap.set(r.document,[r,t])}};jv.NotebookDocuments=ZX});var F4e=V(gL=>{"use strict";d();Object.defineProperty(gL,"__esModule",{value:!0});gL.MonikerFeature=void 0;var mlt=jn(),hlt=o(e=>class extends e{get moniker(){return{on:o(t=>{let r=mlt.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"MonikerFeature");gL.MonikerFeature=hlt});var sZ=V(eo=>{"use strict";d();Object.defineProperty(eo,"__esModule",{value:!0});eo.createConnection=eo.combineFeatures=eo.combineNotebooksFeatures=eo.combineLanguagesFeatures=eo.combineWorkspaceFeatures=eo.combineWindowFeatures=eo.combineClientFeatures=eo.combineTracerFeatures=eo.combineTelemetryFeatures=eo.combineConsoleFeatures=eo._NotebooksImpl=eo._LanguagesImpl=eo.BulkUnregistration=eo.BulkRegistration=eo.ErrorMessageTracker=void 0;var dr=jn(),id=JN(),rZ=GX(),Mn=C4e(),plt=x4e(),glt=E4e(),Alt=b4e(),ylt=zX(),Clt=v4e(),xlt=I4e(),Elt=T4e(),blt=w4e(),vlt=_4e(),Ilt=B4e(),Tlt=R4e(),wlt=D4e(),Slt=eZ(),_lt=F4e();function tZ(e){if(e!==null)return e}o(tZ,"null2Undefined");var nZ=class{static{o(this,"ErrorMessageTracker")}constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};eo.ErrorMessageTracker=nZ;var AL=class{static{o(this,"RemoteConsoleImpl")}constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(dr.MessageType.Error,t)}warn(t){this.send(dr.MessageType.Warning,t)}info(t){this.send(dr.MessageType.Info,t)}log(t){this.send(dr.MessageType.Log,t)}debug(t){this.send(dr.MessageType.Debug,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(dr.LogMessageNotification.type,{type:t,message:r}).catch(()=>{(0,dr.RAL)().console.error("Sending log message failed")})}},iZ=class{static{o(this,"_RemoteWindowImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:dr.MessageType.Error,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(tZ)}showWarningMessage(t,...r){let n={type:dr.MessageType.Warning,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(tZ)}showInformationMessage(t,...r){let n={type:dr.MessageType.Info,message:t,actions:r};return this.connection.sendRequest(dr.ShowMessageRequest.type,n).then(tZ)}},N4e=(0,Clt.ShowDocumentFeature)((0,Mn.ProgressFeature)(iZ)),L4e;(function(e){function t(){return new yL}o(t,"create"),e.create=t})(L4e||(eo.BulkRegistration=L4e={}));var yL=class{static{o(this,"BulkRegistrationImpl")}constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=id.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=rZ.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},Q4e;(function(e){function t(){return new ZT(void 0,[])}o(t,"create"),e.create=t})(Q4e||(eo.BulkUnregistration=Q4e={}));var ZT=class{static{o(this,"BulkUnregistrationImpl")}constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(dr.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=id.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(dr.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},s=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},CL=class{static{o(this,"RemoteClientImpl")}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof yL?this.registerMany(t):t instanceof ZT?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=id.string(r)?r:r.method,s=rZ.generateUuid(),a={registrations:[{id:s,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(dr.RegistrationRequest.type,a).then(l=>(t.add({id:s,method:i}),t),l=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(l)))}registerSingle2(t,r){let n=id.string(t)?t:t.method,i=rZ.generateUuid(),s={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(dr.RegistrationRequest.type,s).then(a=>dr.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),a=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(a)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this.connection.sendRequest(dr.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this.connection.sendRequest(dr.RegistrationRequest.type,r).then(()=>new ZT(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},oZ=class{static{o(this,"_RemoteWorkspaceImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}o(r,"isApplyWorkspaceEditParams");let n=r(t)?t:{edit:t};return this.connection.sendRequest(dr.ApplyWorkspaceEditRequest.type,n)}},M4e=(0,xlt.FileOperationsFeature)((0,glt.WorkspaceFoldersFeature)((0,plt.ConfigurationFeature)(oZ))),xL=class{static{o(this,"TracerImpl")}constructor(){this._trace=dr.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==dr.Trace.Off&&this.connection.sendNotification(dr.LogTraceNotification.type,{message:t,verbose:this._trace===dr.Trace.Verbose?r:void 0}).catch(()=>{})}},EL=class{static{o(this,"TelemetryImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(dr.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},bL=class{static{o(this,"_LanguagesImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Mn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Mn.attachPartialResult)(this.connection,r)}};eo._LanguagesImpl=bL;var O4e=(0,Ilt.FoldingRangeFeature)((0,_lt.MonikerFeature)((0,wlt.DiagnosticFeature)((0,Tlt.InlayHintFeature)((0,vlt.InlineValueFeature)((0,blt.TypeHierarchyFeature)((0,Elt.LinkedEditingRangeFeature)((0,ylt.SemanticTokensFeature)((0,Alt.CallHierarchyFeature)(bL))))))))),vL=class{static{o(this,"_NotebooksImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Mn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Mn.attachPartialResult)(this.connection,r)}};eo._NotebooksImpl=vL;var U4e=(0,Slt.NotebookSyncFeature)(vL);function q4e(e,t){return function(r){return t(e(r))}}o(q4e,"combineConsoleFeatures");eo.combineConsoleFeatures=q4e;function W4e(e,t){return function(r){return t(e(r))}}o(W4e,"combineTelemetryFeatures");eo.combineTelemetryFeatures=W4e;function G4e(e,t){return function(r){return t(e(r))}}o(G4e,"combineTracerFeatures");eo.combineTracerFeatures=G4e;function H4e(e,t){return function(r){return t(e(r))}}o(H4e,"combineClientFeatures");eo.combineClientFeatures=H4e;function V4e(e,t){return function(r){return t(e(r))}}o(V4e,"combineWindowFeatures");eo.combineWindowFeatures=V4e;function j4e(e,t){return function(r){return t(e(r))}}o(j4e,"combineWorkspaceFeatures");eo.combineWorkspaceFeatures=j4e;function $4e(e,t){return function(r){return t(e(r))}}o($4e,"combineLanguagesFeatures");eo.combineLanguagesFeatures=$4e;function z4e(e,t){return function(r){return t(e(r))}}o(z4e,"combineNotebooksFeatures");eo.combineNotebooksFeatures=z4e;function klt(e,t){function r(i,s,a){return i&&s?a(i,s):i||s}return o(r,"combine"),{__brand:"features",console:r(e.console,t.console,q4e),tracer:r(e.tracer,t.tracer,G4e),telemetry:r(e.telemetry,t.telemetry,W4e),client:r(e.client,t.client,H4e),window:r(e.window,t.window,V4e),workspace:r(e.workspace,t.workspace,j4e),languages:r(e.languages,t.languages,$4e),notebooks:r(e.notebooks,t.notebooks,z4e)}}o(klt,"combineFeatures");eo.combineFeatures=klt;function Blt(e,t,r){let n=r&&r.console?new(r.console(AL)):new AL,i=e(n);n.rawAttach(i);let s=r&&r.tracer?new(r.tracer(xL)):new xL,a=r&&r.telemetry?new(r.telemetry(EL)):new EL,l=r&&r.client?new(r.client(CL)):new CL,c=r&&r.window?new(r.window(N4e)):new N4e,u=r&&r.workspace?new(r.workspace(M4e)):new M4e,f=r&&r.languages?new(r.languages(O4e)):new O4e,m=r&&r.notebooks?new(r.notebooks(U4e)):new U4e,h=[n,s,a,l,c,u,f,m];function p(b){return b instanceof Promise?b:id.thenable(b)?new Promise((S,B)=>{b.then(D=>S(D),D=>B(D))}):Promise.resolve(b)}o(p,"asPromise");let A,x,E,v={listen:o(()=>i.listen(),"listen"),sendRequest:o((b,...S)=>i.sendRequest(id.string(b)?b:b.method,...S),"sendRequest"),onRequest:o((b,S)=>i.onRequest(b,S),"onRequest"),sendNotification:o((b,S)=>{let B=id.string(b)?b:b.method;return i.sendNotification(B,S)},"sendNotification"),onNotification:o((b,S)=>i.onNotification(b,S),"onNotification"),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:o(b=>(x=b,{dispose:o(()=>{x=void 0},"dispose")}),"onInitialize"),onInitialized:o(b=>i.onNotification(dr.InitializedNotification.type,b),"onInitialized"),onShutdown:o(b=>(A=b,{dispose:o(()=>{A=void 0},"dispose")}),"onShutdown"),onExit:o(b=>(E=b,{dispose:o(()=>{E=void 0},"dispose")}),"onExit"),get console(){return n},get telemetry(){return a},get tracer(){return s},get client(){return l},get window(){return c},get workspace(){return u},get languages(){return f},get notebooks(){return m},onDidChangeConfiguration:o(b=>i.onNotification(dr.DidChangeConfigurationNotification.type,b),"onDidChangeConfiguration"),onDidChangeWatchedFiles:o(b=>i.onNotification(dr.DidChangeWatchedFilesNotification.type,b),"onDidChangeWatchedFiles"),__textDocumentSync:void 0,onDidOpenTextDocument:o(b=>i.onNotification(dr.DidOpenTextDocumentNotification.type,b),"onDidOpenTextDocument"),onDidChangeTextDocument:o(b=>i.onNotification(dr.DidChangeTextDocumentNotification.type,b),"onDidChangeTextDocument"),onDidCloseTextDocument:o(b=>i.onNotification(dr.DidCloseTextDocumentNotification.type,b),"onDidCloseTextDocument"),onWillSaveTextDocument:o(b=>i.onNotification(dr.WillSaveTextDocumentNotification.type,b),"onWillSaveTextDocument"),onWillSaveTextDocumentWaitUntil:o(b=>i.onRequest(dr.WillSaveTextDocumentWaitUntilRequest.type,b),"onWillSaveTextDocumentWaitUntil"),onDidSaveTextDocument:o(b=>i.onNotification(dr.DidSaveTextDocumentNotification.type,b),"onDidSaveTextDocument"),sendDiagnostics:o(b=>i.sendNotification(dr.PublishDiagnosticsNotification.type,b),"sendDiagnostics"),onHover:o(b=>i.onRequest(dr.HoverRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),void 0)),"onHover"),onCompletion:o(b=>i.onRequest(dr.CompletionRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onCompletion"),onCompletionResolve:o(b=>i.onRequest(dr.CompletionResolveRequest.type,b),"onCompletionResolve"),onSignatureHelp:o(b=>i.onRequest(dr.SignatureHelpRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),void 0)),"onSignatureHelp"),onDeclaration:o(b=>i.onRequest(dr.DeclarationRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onDeclaration"),onDefinition:o(b=>i.onRequest(dr.DefinitionRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onDefinition"),onTypeDefinition:o(b=>i.onRequest(dr.TypeDefinitionRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onTypeDefinition"),onImplementation:o(b=>i.onRequest(dr.ImplementationRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onImplementation"),onReferences:o(b=>i.onRequest(dr.ReferencesRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onReferences"),onDocumentHighlight:o(b=>i.onRequest(dr.DocumentHighlightRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onDocumentHighlight"),onDocumentSymbol:o(b=>i.onRequest(dr.DocumentSymbolRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onDocumentSymbol"),onWorkspaceSymbol:o(b=>i.onRequest(dr.WorkspaceSymbolRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onWorkspaceSymbol"),onWorkspaceSymbolResolve:o(b=>i.onRequest(dr.WorkspaceSymbolResolveRequest.type,b),"onWorkspaceSymbolResolve"),onCodeAction:o(b=>i.onRequest(dr.CodeActionRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onCodeAction"),onCodeActionResolve:o(b=>i.onRequest(dr.CodeActionResolveRequest.type,(S,B)=>b(S,B)),"onCodeActionResolve"),onCodeLens:o(b=>i.onRequest(dr.CodeLensRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onCodeLens"),onCodeLensResolve:o(b=>i.onRequest(dr.CodeLensResolveRequest.type,(S,B)=>b(S,B)),"onCodeLensResolve"),onDocumentFormatting:o(b=>i.onRequest(dr.DocumentFormattingRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),void 0)),"onDocumentFormatting"),onDocumentRangeFormatting:o(b=>i.onRequest(dr.DocumentRangeFormattingRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),void 0)),"onDocumentRangeFormatting"),onDocumentOnTypeFormatting:o(b=>i.onRequest(dr.DocumentOnTypeFormattingRequest.type,(S,B)=>b(S,B)),"onDocumentOnTypeFormatting"),onRenameRequest:o(b=>i.onRequest(dr.RenameRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),void 0)),"onRenameRequest"),onPrepareRename:o(b=>i.onRequest(dr.PrepareRenameRequest.type,(S,B)=>b(S,B)),"onPrepareRename"),onDocumentLinks:o(b=>i.onRequest(dr.DocumentLinkRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onDocumentLinks"),onDocumentLinkResolve:o(b=>i.onRequest(dr.DocumentLinkResolveRequest.type,(S,B)=>b(S,B)),"onDocumentLinkResolve"),onDocumentColor:o(b=>i.onRequest(dr.DocumentColorRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onDocumentColor"),onColorPresentation:o(b=>i.onRequest(dr.ColorPresentationRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onColorPresentation"),onFoldingRanges:o(b=>i.onRequest(dr.FoldingRangeRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onFoldingRanges"),onSelectionRanges:o(b=>i.onRequest(dr.SelectionRangeRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),(0,Mn.attachPartialResult)(i,S))),"onSelectionRanges"),onExecuteCommand:o(b=>i.onRequest(dr.ExecuteCommandRequest.type,(S,B)=>b(S,B,(0,Mn.attachWorkDone)(i,S),void 0)),"onExecuteCommand"),dispose:o(()=>i.dispose(),"dispose")};for(let b of h)b.attach(v);return i.onRequest(dr.InitializeRequest.type,b=>{t.initialize(b),id.string(b.trace)&&(s.trace=dr.Trace.fromString(b.trace));for(let S of h)S.initialize(b.capabilities);if(x){let S=x(b,new dr.CancellationTokenSource().token,(0,Mn.attachWorkDone)(i,b),void 0);return p(S).then(B=>{if(B instanceof dr.ResponseError)return B;let D=B;D||(D={capabilities:{}});let F=D.capabilities;F||(F={},D.capabilities=F),F.textDocumentSync===void 0||F.textDocumentSync===null?F.textDocumentSync=id.number(v.__textDocumentSync)?v.__textDocumentSync:dr.TextDocumentSyncKind.None:!id.number(F.textDocumentSync)&&!id.number(F.textDocumentSync.change)&&(F.textDocumentSync.change=id.number(v.__textDocumentSync)?v.__textDocumentSync:dr.TextDocumentSyncKind.None);for(let W of h)W.fillServerCapabilities(F);return D})}else{let S={capabilities:{textDocumentSync:dr.TextDocumentSyncKind.None}};for(let B of h)B.fillServerCapabilities(S.capabilities);return S}}),i.onRequest(dr.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,A)return A(new dr.CancellationTokenSource().token)}),i.onNotification(dr.ExitNotification.type,()=>{try{E&&E()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(dr.SetTraceNotification.type,b=>{s.trace=dr.Trace.fromString(b.value)}),v}o(Blt,"createConnection");eo.createConnection=Blt});var Y4e=V(Lc=>{"use strict";d();Object.defineProperty(Lc,"__esModule",{value:!0});Lc.resolveModulePath=Lc.FileSystem=Lc.resolveGlobalYarnPath=Lc.resolveGlobalNodePath=Lc.resolve=Lc.uriToFilePath=void 0;var Rlt=require("url"),Lm=require("path"),aZ=require("fs"),fZ=require("child_process");function Dlt(e){let t=Rlt.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let s=r[0],a=r[1];s.length===0&&a.length>1&&a[1]===":"&&r.shift()}return Lm.normalize(r.join("/"))}o(Dlt,"uriToFilePath");Lc.uriToFilePath=Dlt;function lZ(){return process.platform==="win32"}o(lZ,"isWindows");function IL(e,t,r,n){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,l)=>{let c=process.env,u=Object.create(null);Object.keys(c).forEach(f=>u[f]=c[f]),t&&aZ.existsSync(t)&&(u[i]?u[i]=t+Lm.delimiter+u[i]:u[i]=t,n&&n(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let f=(0,fZ.fork)("",[],{cwd:r,env:u,execArgv:["-e",s]});if(f.pid===void 0){l(new Error(`Starting process to resolve node module  ${e} failed`));return}f.on("error",h=>{l(h)}),f.on("message",h=>{h.c==="r"&&(f.send({c:"e"}),h.s?a(h.r):l(new Error(`Failed to resolve module: ${e}`)))});let m={c:"rs",a:e};f.send(m)}catch(f){l(f)}})}o(IL,"resolve");Lc.resolve=IL;function cZ(e){let t="npm",r=Object.create(null);Object.keys(process.env).forEach(s=>r[s]=process.env[s]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};lZ()&&(t="npm.cmd",n.shell=!0);let i=o(()=>{},"handler");try{process.on("SIGPIPE",i);let s=(0,fZ.spawnSync)(t,["config","get","prefix"],n).stdout;if(!s){e&&e("'npm config get prefix' didn't return a value.");return}let a=s.trim();return e&&e(`'npm config get prefix' value is: ${a}`),a.length>0?lZ()?Lm.join(a,"node_modules"):Lm.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}o(cZ,"resolveGlobalNodePath");Lc.resolveGlobalNodePath=cZ;function Plt(e){let t="yarn",r={encoding:"utf8"};lZ()&&(t="yarn.cmd",r.shell=!0);let n=o(()=>{},"handler");try{process.on("SIGPIPE",n);let i=(0,fZ.spawnSync)(t,["global","dir","--json"],r),s=i.stdout;if(!s){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let a=s.trim().split(/\r?\n/);for(let l of a)try{let c=JSON.parse(l);if(c.type==="log")return Lm.join(c.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",n)}}o(Plt,"resolveGlobalYarnPath");Lc.resolveGlobalYarnPath=Plt;var uZ;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!aZ.existsSync(__filename.toUpperCase())||!aZ.existsSync(__filename.toLowerCase())),t}o(r,"isCaseSensitive"),e.isCaseSensitive=r;function n(i,s){return r()?Lm.normalize(s).indexOf(Lm.normalize(i))===0:Lm.normalize(s).toLowerCase().indexOf(Lm.normalize(i).toLowerCase())===0}o(n,"isParent"),e.isParent=n})(uZ||(Lc.FileSystem=uZ={}));function Flt(e,t,r,n){return r?(Lm.isAbsolute(r)||(r=Lm.join(e,r)),IL(t,r,r,n).then(i=>uZ.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>IL(t,cZ(n),e,n))):IL(t,cZ(n),e,n)}o(Flt,"resolveModulePath");Lc.resolveModulePath=Flt});var dZ=V((ICr,K4e)=>{"use strict";d();K4e.exports=jn()});var J4e=V(TL=>{"use strict";d();Object.defineProperty(TL,"__esModule",{value:!0});TL.InlineCompletionFeature=void 0;var Nlt=jn(),Llt=o(e=>class extends e{get inlineCompletion(){return{on:o(t=>this.connection.onRequest(Nlt.InlineCompletionRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineCompletionFeature");TL.InlineCompletionFeature=Llt});var exe=V(b0=>{"use strict";d();var Qlt=b0&&b0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Z4e=b0&&b0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Qlt(t,e,r)};Object.defineProperty(b0,"__esModule",{value:!0});b0.ProposedFeatures=b0.NotebookDocuments=b0.TextDocuments=b0.SemanticTokensBuilder=void 0;var Mlt=zX();Object.defineProperty(b0,"SemanticTokensBuilder",{enumerable:!0,get:o(function(){return Mlt.SemanticTokensBuilder},"get")});var Olt=J4e();Z4e(jn(),b0);var Ult=XX();Object.defineProperty(b0,"TextDocuments",{enumerable:!0,get:o(function(){return Ult.TextDocuments},"get")});var qlt=eZ();Object.defineProperty(b0,"NotebookDocuments",{enumerable:!0,get:o(function(){return qlt.NotebookDocuments},"get")});Z4e(sZ(),b0);var X4e;(function(e){e.all={__brand:"features",languages:Olt.InlineCompletionFeature}})(X4e||(b0.ProposedFeatures=X4e={}))});var v0=V(od=>{"use strict";d();var Wlt=od&&od.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ixe=od&&od.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Wlt(t,e,r)};Object.defineProperty(od,"__esModule",{value:!0});od.createConnection=od.Files=void 0;var txe=require("node:util"),mZ=JN(),Glt=sZ(),ew=Y4e(),o4=dZ();ixe(dZ(),od);ixe(exe(),od);var rxe;(function(e){e.uriToFilePath=ew.uriToFilePath,e.resolveGlobalNodePath=ew.resolveGlobalNodePath,e.resolveGlobalYarnPath=ew.resolveGlobalYarnPath,e.resolve=ew.resolve,e.resolveModulePath=ew.resolveModulePath})(rxe||(od.Files=rxe={}));var nxe;function wL(){if(nxe!==void 0)try{nxe.end()}catch{}}o(wL,"endProtocolConnection");var $v=!1,oxe;function Hlt(){let e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(oxe=setInterval(()=>{try{process.kill(n,0)}catch{wL(),process.exit($v?0:1)}},3e3))}catch{}}o(t,"runTimer");for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}o(Hlt,"setupExitTimer");Hlt();var Vlt={initialize:o(e=>{let t=e.processId;mZ.number(t)&&oxe===void 0&&setInterval(()=>{try{process.kill(t,0)}catch{process.exit($v?0:1)}},3e3)},"initialize"),get shutdownReceived(){return $v},set shutdownReceived(e){$v=e},exit:o(e=>{wL(),process.exit(e)},"exit")};function jlt(e,t,r,n){let i,s,a,l;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),o4.ConnectionStrategy.is(e)||o4.ConnectionOptions.is(e)?l=e:(s=e,a=t,l=r),$lt(s,a,l,i)}o(jlt,"createConnection");od.createConnection=jlt;function $lt(e,t,r,n){let i=!1;if(!e&&!t&&process.argv.length>2){let c,u,f=process.argv.slice(2);for(let m=0;m<f.length;m++){let h=f[m];if(h==="--node-ipc"){e=new o4.IPCMessageReader(process),t=new o4.IPCMessageWriter(process);break}else if(h==="--stdio"){i=!0,e=process.stdin,t=process.stdout;break}else if(h==="--socket"){c=parseInt(f[m+1]);break}else if(h==="--pipe"){u=f[m+1];break}else{var s=h.split("=");if(s[0]==="--socket"){c=parseInt(s[1]);break}else if(s[0]==="--pipe"){u=s[1];break}}}if(c){let m=(0,o4.createServerSocketTransport)(c);e=m[0],t=m[1]}else if(u){let m=(0,o4.createServerPipeTransport)(u);e=m[0],t=m[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+a);if(!t)throw new Error("Connection output stream is not set. "+a);if(mZ.func(e.read)&&mZ.func(e.on)){let c=e;c.on("end",()=>{wL(),process.exit($v?0:1)}),c.on("close",()=>{wL(),process.exit($v?0:1)})}let l=o(c=>{let u=(0,o4.createProtocolConnection)(e,t,c,r);return i&&zlt(c),u},"connectionFactory");return(0,Glt.createConnection)(l,Vlt,n)}o($lt,"_createConnection");function zlt(e){function t(n){return n.map(i=>typeof i=="string"?i:(0,txe.inspect)(i)).join(" ")}o(t,"serialize");let r=new Map;console.assert=o(function(i,...s){if(!i)if(s.length===0)e.error("Assertion failed");else{let[a,...l]=s;e.error(`Assertion failed: ${a} ${t(l)}`)}},"assert"),console.count=o(function(i="default"){let s=String(i),a=r.get(s)??0;a+=1,r.set(s,a),e.log(`${s}: ${s}`)},"count"),console.countReset=o(function(i){i===void 0?r.clear():r.delete(String(i))},"countReset"),console.debug=o(function(...i){e.log(t(i))},"debug"),console.dir=o(function(i,s){e.log((0,txe.inspect)(i,s))},"dir"),console.log=o(function(...i){e.log(t(i))},"log"),console.error=o(function(...i){e.error(t(i))},"error"),console.trace=o(function(...i){let s=new Error().stack.replace(/(.+\n){2}/,""),a="Trace";i.length!==0&&(a+=`: ${t(i)}`),e.log(`${a}
${s}`)},"trace"),console.warn=o(function(...i){e.warn(t(i))},"warn")}o(zlt,"patchConsole")});var Ap=V((LCr,sxe)=>{"use strict";d();sxe.exports=v0()});var Vbe=V((Fvr,Hbe)=>{"use strict";d();Hbe.exports=Wbe;function Wbe(e,t,r){e instanceof RegExp&&(e=qbe(e,r)),t instanceof RegExp&&(t=qbe(t,r));var n=Gbe(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(Wbe,"balanced");function qbe(e,t){var r=t.match(e);return r?r[0]:null}o(qbe,"maybeMatch");Wbe.range=Gbe;function Gbe(e,t,r){var n,i,s,a,l,c=r.indexOf(e),u=r.indexOf(t,c+1),f=c;if(c>=0&&u>0){if(e===t)return[c,u];for(n=[],s=r.length;f>=0&&!l;)f==c?(n.push(f),c=r.indexOf(e,f+1)):n.length==1?l=[n.pop(),u]:(i=n.pop(),i<s&&(s=i,a=u),u=r.indexOf(t,f+1)),f=c<u&&c>=0?c:u;n.length&&(l=[s,a])}return l}o(Gbe,"range")});var Zbe=V((Qvr,Xbe)=>{d();var jbe=Vbe();Xbe.exports=z0t;var $be="\0SLASH"+Math.random()+"\0",zbe="\0OPEN"+Math.random()+"\0",mee="\0CLOSE"+Math.random()+"\0",Ybe="\0COMMA"+Math.random()+"\0",Kbe="\0PERIOD"+Math.random()+"\0";function dee(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(dee,"numeric");function j0t(e){return e.split("\\\\").join($be).split("\\{").join(zbe).split("\\}").join(mee).split("\\,").join(Ybe).split("\\.").join(Kbe)}o(j0t,"escapeBraces");function $0t(e){return e.split($be).join("\\").split(zbe).join("{").split(mee).join("}").split(Ybe).join(",").split(Kbe).join(".")}o($0t,"unescapeBraces");function Jbe(e){if(!e)return[""];var t=[],r=jbe("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=Jbe(s);return s.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}o(Jbe,"parseCommaParts");function z0t(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),mw(j0t(e),!0).map($0t)):[]}o(z0t,"expandTop");function Y0t(e){return"{"+e+"}"}o(Y0t,"embrace");function K0t(e){return/^-?0\d/.test(e)}o(K0t,"isPadded");function J0t(e,t){return e<=t}o(J0t,"lte");function X0t(e,t){return e>=t}o(X0t,"gte");function mw(e,t){var r=[],n=jbe("{","}",e);if(!n)return[e];var i=n.pre,s=n.post.length?mw(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var l=i+"{"+n.body+"}"+s[a];r.push(l)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=c||u,m=n.body.indexOf(",")>=0;if(!f&&!m)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+mee+n.post,mw(e)):[e];var h;if(f)h=n.body.split(/\.\./);else if(h=Jbe(n.body),h.length===1&&(h=mw(h[0],!1).map(Y0t),h.length===1))return s.map(function(X){return n.pre+h[0]+X});var p;if(f){var A=dee(h[0]),x=dee(h[1]),E=Math.max(h[0].length,h[1].length),v=h.length==3?Math.abs(dee(h[2])):1,b=J0t,S=x<A;S&&(v*=-1,b=X0t);var B=h.some(K0t);p=[];for(var D=A;b(D,x);D+=v){var F;if(u)F=String.fromCharCode(D),F==="\\"&&(F="");else if(F=String(D),B){var W=E-F.length;if(W>0){var ee=new Array(W+1).join("0");D<0?F="-"+ee+F.slice(1):F=ee+F}}p.push(F)}}else{p=[];for(var de=0;de<h.length;de++)p.push.apply(p,mw(h[de],!1))}for(var de=0;de<p.length;de++)for(var a=0;a<s.length;a++){var l=i+p[de]+s[a];(!t||f||l)&&r.push(l)}}return r}o(mw,"expand")});var hI=V(bp=>{"use strict";d();Object.defineProperty(bp,"__esModule",{value:!0});bp.BaseTokensPerName=bp.BaseTokensPerMessage=bp.BaseTokensPerCompletion=bp.ChatRole=void 0;var Gve;(function(e){e.System="system",e.User="user",e.Assistant="assistant",e.Function="function",e.Tool="tool"})(Gve||(bp.ChatRole=Gve={}));bp.BaseTokensPerCompletion=3;bp.BaseTokensPerMessage=3;bp.BaseTokensPerName=1});var Hve=V(Dee=>{"use strict";d();Object.defineProperty(Dee,"__esModule",{value:!0});Dee.once=fut;function fut(e){let t,r=!1,n=o((...i)=>(r||(t=e(...i),r=!0),t),"wrappedFunction");return n.clear=()=>{r=!1},n}o(fut,"once")});var Lee=V(vp=>{"use strict";d();Object.defineProperty(vp,"__esModule",{value:!0});vp.MaterializedChatMessageImage=vp.MaterializedChatMessage=vp.MaterializedChatMessageTextChunk=vp.MaterializedContainer=void 0;var pI=Hve(),v4=hI(),H5=class e{static{o(this,"MaterializedContainer")}parent;id;name;priority;metadata;flags;children;keepWithId;constructor(t,r,n,i,s,a,l){if(this.parent=t,this.id=r,this.name=n,this.priority=i,this.metadata=a,this.flags=l,this.children=s(this),l&8){if(this.children.length!==2)throw new Error("Invalid number of children for EmptyAlternate flag");let[c,u]=this.children;u.isEmpty?this.children=[c]:this.children=[u]}}has(t){return!!(this.flags&t)}async tokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=T4(n)?await n.tokenCount(t):await n.upperBoundTokenCount(t);r+=i})),r}async upperBoundTokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r}replaceNode(t,r){return Kve(t,this.children,r)}allMetadata(){return Yve(this)}findById(t){return Nee(t,this)}get isEmpty(){return!this.children.some(t=>!t.isEmpty)}onChunksChange(){this.parent?.onChunksChange()}*toChatMessages(){for(let t of this.children)dut(t),t instanceof e?yield*t.toChatMessages():!t.isEmpty&&t instanceof gI&&(yield t.toChatMessage())}removeLowestPriorityChild(){let t=[];return Fee(this,t),t}};vp.MaterializedContainer=H5;var I4=class{static{o(this,"MaterializedChatMessageTextChunk")}parent;text;priority;metadata;lineBreakBefore;constructor(t,r,n,i=[],s){this.parent=t,this.text=r,this.priority=n,this.metadata=i,this.lineBreakBefore=s}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,pI.once)(async t=>await t.tokenLength(this.text)+(this.lineBreakBefore!==0?1:0));get isEmpty(){return!/\S/.test(this.text)}};vp.MaterializedChatMessageTextChunk=I4;var gI=class{static{o(this,"MaterializedChatMessage")}parent;id;role;name;toolCalls;toolCallId;priority;metadata;children;constructor(t,r,n,i,s,a,l,c,u){this.parent=t,this.id=r,this.role=n,this.name=i,this.toolCalls=s,this.toolCallId=a,this.priority=l,this.metadata=c,this.children=u(this)}async tokenCount(t){return this._tokenCount(t)}async upperBoundTokenCount(t){return this._upperBound(t)}get text(){return this._text()}get isEmpty(){return!this.toolCalls?.length&&!this.children.some(t=>!t.isEmpty)}replaceNode(t,r){let n=Kve(t,this.children,r);return n&&this.onChunksChange(),n}removeLowestPriorityChild(){let t=[];return Fee(this,t),t}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear(),this.parent?.onChunksChange()}findById(t){return Nee(t,this)}_tokenCount=(0,pI.once)(async t=>t.countMessageTokens(this.toChatMessage()));_upperBound=(0,pI.once)(async t=>{let r=await this._baseMessageTokenCount(t);return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r});_baseMessageTokenCount=(0,pI.once)(t=>t.countMessageTokens({...this.toChatMessage(),content:""}));_text=(0,pI.once)(()=>{let t=[];for(let{text:r,isTextSibling:n}of zve(this)){if(r instanceof qm){t.push(r);continue}if(r.lineBreakBefore===1||r.lineBreakBefore===2&&!n){let i=t[t.length-1];typeof i=="string"&&!i.endsWith(`
`)&&(t[t.length-1]=i+`
`)}typeof t[t.length-1]=="string"?t[t.length-1]+=r.text:t.push(r.text)}return t});toChatMessage(){let t=this.text.filter(r=>typeof r=="string").join("").trim();if(this.text.some(r=>r instanceof qm)){if(this.role!==v4.ChatRole.User)throw new Error("Only User messages can have images");let r=this.text.map(n=>{if(typeof n=="string")return{type:"text",text:n};if(n instanceof qm)return{type:"image_url",image_url:{url:Jve(n.src),detail:n.detail}};throw new Error("Unexpected element type")});return{role:v4.ChatRole.User,content:r}}if(this.role===v4.ChatRole.System)return{role:this.role,content:t,...this.name?{name:this.name}:{}};if(this.role===v4.ChatRole.Assistant){let r={role:this.role,content:t};return this.name&&(r.name=this.name),this.toolCalls?.length&&(r.tool_calls=this.toolCalls.map(n=>({function:n.function,id:n.id,type:n.type}))),r}else return this.role===v4.ChatRole.User?{role:this.role,content:t,...this.name?{name:this.name}:{}}:this.role===v4.ChatRole.Tool?{role:this.role,content:t,tool_call_id:this.toolCallId}:{role:this.role,content:t,name:this.name}}};vp.MaterializedChatMessage=gI;var qm=class{static{o(this,"MaterializedChatMessageImage")}parent;id;src;priority;metadata;lineBreakBefore;detail;constructor(t,r,n,i,s=[],a,l){this.parent=t,this.id=r,this.src=n,this.priority=i,this.metadata=s,this.lineBreakBefore=a,this.detail=l}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,pI.once)(async t=>await t.countMessageTokens({role:v4.ChatRole.User,content:[{type:"image_url",image_url:{url:Jve(this.src),detail:this.detail}}]}));isEmpty=!1};vp.MaterializedChatMessageImage=qm;function T4(e){return!(e instanceof I4||e instanceof qm)}o(T4,"isContainerType");function dut(e){if(!(e instanceof H5)&&!(e instanceof gI)&&!(e instanceof qm))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${e.text}"`)}o(dut,"assertContainerOrChatMessage");function*zve(e,t=!1){for(let r of e.children)r instanceof I4?(yield{text:r,isTextSibling:t},t=!0):r instanceof qm?yield{text:r,isTextSibling:!1}:(r&&(yield*zve(r,t)),t=!1)}o(zve,"textChunks");function mut(e,t){let r;function n(i,s){if(i instanceof I4||i instanceof qm)(!r||i.priority<r.node.priority)&&(r={chain:s.slice(),node:i});else{s.push(i);for(let a of i.children)n(a,s);s.pop()}}if(o(n,"findLowestInTree"),n(e,[]),!r)throw new Error("No lowest priority node found");Sw(r.node,t)}o(mut,"removeLowestPriorityLegacy");function Fee(e,t){let r;if(e instanceof H5&&e.has(1)){mut(e,t);return}let n=e.children.map((i,s)=>({chain:[e],index:s}));for(let i=0;i<n.length;i++){let{chain:s,index:a}=n[i],l=s[s.length-1].children[a];if(l instanceof H5&&l.has(4)){let c=[...s,l];n.splice(i+1,0,...l.children.map((u,f)=>({chain:c,index:f})))}else if(!r||l.priority<r.value.priority)r={chain:s,index:a,value:l};else if(l.priority===r.value.priority){r.lowestNested??=Vve(r.value);let c=Vve(l);c<r.lowestNested&&(r={chain:s,index:a,value:l,lowestNested:c})}}if(!r)throw new Error("No lowest priority node found");r.value instanceof I4||r.value instanceof qm||r.value instanceof H5&&r.value.has(2)||T4(r.value)&&!r.value.children.length?Sw(r.value,t):Fee(r.value,t)}o(Fee,"removeLowestPriorityChild");function Vve(e){if(!T4(e))return-1;let t=Number.MAX_SAFE_INTEGER;for(let r of e.children)t=Math.min(t,r.priority);return t}o(Vve,"getLowestPriorityAmongChildren");function*Yve(e){yield*e.metadata;for(let t of e.children)T4(t)?yield*Yve(t):yield*t.metadata}o(Yve,"allMetadata");function Kve(e,t,r){for(let n=0;n<t.length;n++){let i=t[n];if(T4(i)){if(i.id===e){let a=t[n];return r.parent=i.parent,t[n]=r,a}let s=i.replaceNode(e,r);if(s)return s}}}o(Kve,"replaceNode");function*jve(e){let t=[e];for(;t.length>0;){let r=t.pop();yield r,T4(r)&&t.push(...r.children)}}o(jve,"forEachNode");function hut(e){let t=e;for(;t.parent;)t=t.parent;return t}o(hut,"getRoot");function $ve(e){return e instanceof H5&&e.keepWithId!==void 0}o($ve,"isKeepWith");var Pee=new Set;function put(e,t){let r=new Set;for(let n of jve(e))$ve(n)&&!Pee.has(n.keepWithId)&&r.add(n.keepWithId);if(r.size===0)return!1;for(let n of r)Pee.add(n);try{let n=hut(e);for(let i of jve(n))$ve(i)&&r.has(i.keepWithId)?Sw(i,t):i instanceof gI&&i.toolCalls&&(i.toolCalls=gut(i.toolCalls,s=>!(s.keepWith&&r.has(s.keepWith.id))),i.isEmpty&&Sw(i,t))}finally{for(let n of r)Pee.delete(n)}}o(put,"removeOtherKeepWiths");function Nee(e,t){if(t.id===e)return t;for(let r of t.children)if(T4(r)){let n=Nee(e,r);if(n)return n}}o(Nee,"findNodeById");function Sw(e,t){let r=e.parent;if(!r)return;let n=r.children.indexOf(e);n!==-1&&(r.children.splice(n,1),t.push(e),put(e,t),r.isEmpty?Sw(r,t):r.onChunksChange())}o(Sw,"removeNode");function Jve(e){let t={"/9j/":"image/jpeg",iVBOR:"image/png",R0lGOD:"image/gif",UklGR:"image/webp"};for(let r of Object.keys(t))if(e.startsWith(r))return`data:${t[r]};base64,${e}`;return e}o(Jve,"getEncodedBase64");function gut(e,t){for(let r=0;r<e.length;r++){if(t(e[r]))continue;let n=e.slice(0,r);for(let i=r+1;i<e.length;i++)t(e[i])&&n.push(e[i]);return n}return e}o(gut,"filterIfDifferent")});var Zve=V(()=>{"use strict";d();function Aut(e,t,...r){return{ctor:e,props:t,children:r.flat()}}o(Aut,"_vscpp");function Xve(){throw new Error("This should not be invoked!")}o(Xve,"_vscppf");Xve.isFragment=!0;globalThis.vscpp=Aut;globalThis.vscppf=Xve});var Mee=V(MQ=>{"use strict";d();Object.defineProperty(MQ,"__esModule",{value:!0});MQ.PromptElement=void 0;Zve();var Qee=class{static{o(this,"PromptElement")}props;get priority(){return this.props.priority??Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}constructor(t){this.props=t}};MQ.PromptElement=Qee});var Yee=V(Ti=>{"use strict";d();Object.defineProperty(Ti,"__esModule",{value:!0});Ti.IfEmpty=Ti.AbstractKeepWith=Ti.TokenLimit=Ti.Expandable=Ti.Chunk=Ti.LegacyPrioritization=Ti.ToolResult=Ti.PrioritizedList=Ti.BaseImageMessage=Ti.TextChunk=Ti.ToolMessage=Ti.FunctionMessage=Ti.AssistantMessage=Ti.UserMessage=Ti.SystemMessage=Ti.BaseChatMessage=void 0;Ti.isChatMessagePromptElement=yut;Ti.useKeepWith=but;var _w=hI(),Ip=Mee();function yut(e){return e instanceof OQ||e instanceof UQ||e instanceof qQ}o(yut,"isChatMessagePromptElement");var F1=class extends Ip.PromptElement{static{o(this,"BaseChatMessage")}render(){return vscpp(vscppf,null,this.props.children)}};Ti.BaseChatMessage=F1;var OQ=class extends F1{static{o(this,"SystemMessage")}constructor(t){t.role=_w.ChatRole.System,super(t)}};Ti.SystemMessage=OQ;var UQ=class extends F1{static{o(this,"UserMessage")}constructor(t){t.role=_w.ChatRole.User,super(t)}};Ti.UserMessage=UQ;var qQ=class extends F1{static{o(this,"AssistantMessage")}constructor(t){t.role=_w.ChatRole.Assistant,super(t)}};Ti.AssistantMessage=qQ;var Cut=/\s+/g,Oee=class extends F1{static{o(this,"FunctionMessage")}constructor(t){t.role=_w.ChatRole.Function,super(t)}};Ti.FunctionMessage=Oee;var Uee=class extends F1{static{o(this,"ToolMessage")}constructor(t){t.role=_w.ChatRole.Tool,super(t)}};Ti.ToolMessage=Uee;var WQ=class extends Ip.PromptElement{static{o(this,"TextChunk")}async prepare(t,r,n){let i=this.props.breakOnWhitespace?Cut:this.props.breakOn;if(!i)return vscpp(vscppf,null,this.props.children);let s="",a=[];for(let c of this.props.children||[])if(c&&typeof c=="object"){if(typeof c.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");c.ctor==="br"?s+=`
`:a.push(c)}else c!=null&&(s+=c);let l=await xut(t,i,s,n);return vscpp(vscppf,null,a,l)}render(t){return t}};Ti.TextChunk=WQ;async function xut(e,t,r,n){if(t instanceof RegExp){if(!t.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${t})`);t.lastIndex=0}let i="",s=-1;for(;s<r.length;){let a;typeof t=="string"?a=r.indexOf(t,s===-1?0:s+t.length):a=t.exec(r)?.index??-1,a===-1&&(a=r.length);let l=i+r.slice(Math.max(0,s),a);if(await e.countTokens(l,n)>e.tokenBudget)return i;i=l,s=a}return i}o(xut,"getTextContentBelowBudget");var qee=class extends F1{static{o(this,"BaseImageMessage")}constructor(t){super(t)}};Ti.BaseImageMessage=qee;var Wee=class extends Ip.PromptElement{static{o(this,"PrioritizedList")}render(){let{children:t,priority:r=0,descending:n}=this.props;if(t)return vscpp(vscppf,null,t.map((i,s)=>{if(!i)return;let a=n?r-s:r-t.length+s;return typeof i!="object"?vscpp(WQ,{priority:a},i):(i.props??={},i.props.priority=a,i)}))}};Ti.PrioritizedList=Wee;var Gee=class extends Ip.PromptElement{static{o(this,"ToolResult")}render(){return vscpp(vscppf,null,this.props.data.content.map(t=>{if(t&&typeof t.value=="string")return t.value;if(t&&t.value&&typeof t.value.node=="object")return vscpp("elementJSON",{data:t.value})}))}};Ti.ToolResult=Gee;var Hee=class extends Ip.PromptElement{static{o(this,"LegacyPrioritization")}render(){return vscpp(vscppf,null,this.props.children)}};Ti.LegacyPrioritization=Hee;var Vee=class extends Ip.PromptElement{static{o(this,"Chunk")}render(){return vscpp(vscppf,null,this.props.children)}};Ti.Chunk=Vee;var jee=class extends Ip.PromptElement{static{o(this,"Expandable")}async render(t,r){return vscpp(vscppf,null,await this.props.value(r))}};Ti.Expandable=jee;var $ee=class extends Ip.PromptElement{static{o(this,"TokenLimit")}render(){return vscpp(vscppf,null,this.props.children)}};Ti.TokenLimit=$ee;var GQ=class extends Ip.PromptElement{static{o(this,"AbstractKeepWith")}};Ti.AbstractKeepWith=GQ;var Eut=0;function but(){let e=Eut++;return class extends GQ{static{o(this,"KeepWith")}static id=e;id=e;render(){return vscpp(vscppf,null,this.props.children)}}}o(but,"useKeepWith");var zee=class extends Ip.PromptElement{static{o(this,"IfEmpty")}render(){return vscpp(vscppf,null,[this.props.alt,this.props.children])}};Ti.IfEmpty=zee});var tIe=V(kw=>{"use strict";d();Object.defineProperty(kw,"__esModule",{value:!0});kw.localize=vut;kw.localize2=Iut;kw.getConfiguredDefaultLocale=Tut;function eIe(e,t){let r;return t.length===0?r=e:r=e.replace(/\{(\d+)\}/g,function(n,i){let s=i[0];return typeof t[s]<"u"?t[s]:n}),r}o(eIe,"_format");function vut(e,t,...r){return eIe(t,r)}o(vut,"localize");function Iut(e,t,...r){let n=eIe(t,r);return{original:n,value:n}}o(Iut,"localize2");function Tut(e){}o(Tut,"getConfiguredDefaultLocale")});var Zee=V(Jt=>{"use strict";d();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.isAndroid=Jt.isEdge=Jt.isSafari=Jt.isFirefox=Jt.isChrome=Jt.OS=Jt.setTimeout0=Jt.setTimeout0IsFaster=Jt.translationsConfigFile=Jt.platformLocale=Jt.locale=Jt.Language=Jt.language=Jt.userAgent=Jt.platform=Jt.isCI=Jt.isMobile=Jt.isIOS=Jt.webWorkerOrigin=Jt.isWebWorker=Jt.isWeb=Jt.isElectron=Jt.isNative=Jt.isLinuxSnap=Jt.isLinux=Jt.isMacintosh=Jt.isWindows=Jt.LANGUAGE_DEFAULT=void 0;Jt.PlatformToString=Sut;Jt.isLittleEndian=_ut;Jt.isBigSurOrNewer=kut;var rIe=tIe();Jt.LANGUAGE_DEFAULT="en";var Dw=!1,Pw=!1,Rw=!1,sIe=!1,aIe=!1,Jee=!1,lIe=!1,Xee=!1,cIe=!1,uIe=!1,Bw,HQ=Jt.LANGUAGE_DEFAULT,Kee=Jt.LANGUAGE_DEFAULT,fIe,N1,L1=globalThis,ju;typeof L1.vscode<"u"&&typeof L1.vscode.process<"u"?ju=L1.vscode.process:typeof process<"u"&&(ju=process);var dIe=typeof ju?.versions?.electron=="string",wut=dIe&&ju?.type==="renderer";if(typeof ju=="object"){Dw=ju.platform==="win32",Pw=ju.platform==="darwin",Rw=ju.platform==="linux",sIe=Rw&&!!ju.env.SNAP&&!!ju.env.SNAP_REVISION,lIe=dIe,cIe=!!ju.env.CI||!!ju.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Bw=Jt.LANGUAGE_DEFAULT,HQ=Jt.LANGUAGE_DEFAULT;let e=ju.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e),r=t.availableLanguages["*"];Bw=t.locale,Kee=t.osLocale,HQ=r||Jt.LANGUAGE_DEFAULT,fIe=t._translationsConfigFile}catch{}aIe=!0}else typeof navigator=="object"&&!wut?(N1=navigator.userAgent,Dw=N1.indexOf("Windows")>=0,Pw=N1.indexOf("Macintosh")>=0,Xee=(N1.indexOf("Macintosh")>=0||N1.indexOf("iPad")>=0||N1.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Rw=N1.indexOf("Linux")>=0,uIe=N1?.indexOf("Mobi")>=0,Jee=!0,Bw=rIe.getConfiguredDefaultLocale(rIe.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||Jt.LANGUAGE_DEFAULT,HQ=Bw,Kee=navigator.language):console.error("Unable to resolve platform.");function Sut(e){switch(e){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}o(Sut,"PlatformToString");var VQ=0;Pw?VQ=1:Dw?VQ=3:Rw&&(VQ=2);Jt.isWindows=Dw;Jt.isMacintosh=Pw;Jt.isLinux=Rw;Jt.isLinuxSnap=sIe;Jt.isNative=aIe;Jt.isElectron=lIe;Jt.isWeb=Jee;Jt.isWebWorker=Jee&&typeof L1.importScripts=="function";Jt.webWorkerOrigin=Jt.isWebWorker?L1.origin:void 0;Jt.isIOS=Xee;Jt.isMobile=uIe;Jt.isCI=cIe;Jt.platform=VQ;Jt.userAgent=N1;Jt.language=HQ;var nIe;(function(e){function t(){return Jt.language}o(t,"value"),e.value=t;function r(){return Jt.language.length===2?Jt.language==="en":Jt.language.length>=3?Jt.language[0]==="e"&&Jt.language[1]==="n"&&Jt.language[2]==="-":!1}o(r,"isDefaultVariant"),e.isDefaultVariant=r;function n(){return Jt.language==="en"}o(n,"isDefault"),e.isDefault=n})(nIe||(Jt.Language=nIe={}));Jt.locale=Bw;Jt.platformLocale=Kee;Jt.translationsConfigFile=fIe;Jt.setTimeout0IsFaster=typeof L1.postMessage=="function"&&!L1.importScripts;Jt.setTimeout0=(()=>{if(Jt.setTimeout0IsFaster){let e=[];L1.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),L1.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();Jt.OS=Pw||Xee?2:Dw?1:3;var iIe=!0,oIe=!1;function _ut(){if(!oIe){oIe=!0;let e=new Uint8Array(2);e[0]=1,e[1]=2,iIe=new Uint16Array(e.buffer)[0]===513}return iIe}o(_ut,"isLittleEndian");Jt.isChrome=!!(Jt.userAgent&&Jt.userAgent.indexOf("Chrome")>=0);Jt.isFirefox=!!(Jt.userAgent&&Jt.userAgent.indexOf("Firefox")>=0);Jt.isSafari=!!(!Jt.isChrome&&Jt.userAgent&&Jt.userAgent.indexOf("Safari")>=0);Jt.isEdge=!!(Jt.userAgent&&Jt.userAgent.indexOf("Edg/")>=0);Jt.isAndroid=!!(Jt.userAgent&&Jt.userAgent.indexOf("Android")>=0);function kut(e){return parseFloat(e)>=20}o(kut,"isBigSurOrNewer")});var hIe=V(Tp=>{"use strict";d();Object.defineProperty(Tp,"__esModule",{value:!0});Tp.arch=Tp.platform=Tp.env=Tp.cwd=void 0;var mIe=Zee(),w4,ete=globalThis.vscode;if(typeof ete<"u"&&typeof ete.process<"u"){let e=ete.process;w4={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"?w4={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:w4={get platform(){return mIe.isWindows?"win32":mIe.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};Tp.cwd=w4.cwd;Tp.env=w4.env;Tp.platform=w4.platform;Tp.arch=w4.arch});var gIe=V(Er=>{"use strict";d();Object.defineProperty(Er,"__esModule",{value:!0});Er.delimiter=Er.sep=Er.toNamespacedPath=Er.parse=Er.format=Er.extname=Er.basename=Er.dirname=Er.relative=Er.resolve=Er.join=Er.isAbsolute=Er.normalize=Er.posix=Er.win32=void 0;var AI=hIe(),But=65,Rut=97,Dut=90,Put=122,$5=46,Al=47,Gc=92,V5=58,Fut=63,jQ=class extends Error{static{o(this,"ErrorInvalidArgType")}code;constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function Nut(e,t){if(e===null||typeof e!="object")throw new jQ(t,"Object",e)}o(Nut,"validateObject");function zs(e,t){if(typeof e!="string")throw new jQ(t,"string",e)}o(zs,"validateString");var Hc=AI.platform==="win32";function $n(e){return e===Al||e===Gc}o($n,"isPathSeparator");function tte(e){return e===Al}o(tte,"isPosixPathSeparator");function j5(e){return e>=But&&e<=Dut||e>=Rut&&e<=Put}o(j5,"isWindowsDeviceRoot");function $Q(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=Al}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==$5||i.charCodeAt(i.length-2)!==$5){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===$5&&l!==-1?++l:l=-1}return i}o($Q,"normalizeString");function pIe(e,t){Nut(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(pIe,"_format");Er.win32={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],zs(s,"path"),s.length===0)continue}else t.length===0?s=AI.cwd():(s=AI.env[`=${t}`]||AI.cwd(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===Gc)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)$n(f)&&(l=1,u=!0);else if($n(f))if(u=!0,$n(s.charCodeAt(1))){let m=2,h=m;for(;m<a&&!$n(s.charCodeAt(m));)m++;if(m<a&&m!==h){let p=s.slice(h,m);for(h=m;m<a&&$n(s.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!$n(s.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${s.slice(h,m)}`,l=m)}}}else l=1;else j5(f)&&s.charCodeAt(1)===V5&&(c=s.slice(0,2),l=2,a>2&&$n(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=$Q(r,!n,"\\",$n),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){zs(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return tte(s)?"\\":e;if($n(s))if(i=!0,$n(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!$n(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&$n(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!$n(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else j5(s)&&e.charCodeAt(1)===V5&&(n=e.slice(0,2),r=2,t>2&&$n(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?$Q(e.slice(r),!i,"\\",$n):"";return a.length===0&&!i&&(a="."),a.length>0&&$n(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){zs(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return $n(r)||t>2&&j5(r)&&e.charCodeAt(1)===V5&&$n(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];zs(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&$n(r.charCodeAt(0))){++i;let s=r.length;s>1&&$n(r.charCodeAt(1))&&(++i,s>2&&($n(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&$n(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return Er.win32.normalize(t)},relative(e,t){if(zs(e,"from"),zs(t,"to"),e===t)return"";let r=Er.win32.resolve(e),n=Er.win32.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===Gc;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===Gc;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===Gc;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===Gc;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let A=e.charCodeAt(i+h);if(A!==t.charCodeAt(l+h))break;A===Gc&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===Gc)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===Gc?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=s;++h)(h===s||e.charCodeAt(h)===Gc)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===Gc&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=Er.win32.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===Gc){if(t.charCodeAt(1)===Gc){let r=t.charCodeAt(2);if(r!==Fut&&r!==$5)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(j5(t.charCodeAt(0))&&t.charCodeAt(1)===V5&&t.charCodeAt(2)===Gc)return`\\\\?\\${t}`;return e},dirname(e){zs(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return $n(i)?e:".";if($n(i)){if(r=n=1,$n(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!$n(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&$n(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!$n(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else j5(i)&&e.charCodeAt(1)===V5&&(r=t>2&&$n(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if($n(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&zs(t,"ext"),zs(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&j5(e.charCodeAt(0))&&e.charCodeAt(1)===V5&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if($n(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if($n(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){zs(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===V5&&j5(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if($n(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===$5?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:pIe.bind(null,"\\"),parse(e){zs(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return $n(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if($n(i)){if(n=1,$n(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!$n(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&$n(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!$n(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(j5(i)&&e.charCodeAt(1)===V5){if(r<=2)return t.root=t.dir=e,t;if(n=2,$n(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),$n(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===$5?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null};var Lut=(()=>{if(Hc){let e=/\\/g;return()=>{let t=AI.cwd().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>AI.cwd()})();Er.posix={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:Lut();zs(i,"path"),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===Al)}return t=$Q(t,!r,"/",tte),r?`/${t}`:t.length>0?t:"."},normalize(e){if(zs(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Al,r=e.charCodeAt(e.length-1)===Al;return e=$Q(e,!t,"/",tte),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return zs(e,"path"),e.length>0&&e.charCodeAt(0)===Al},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];zs(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":Er.posix.normalize(t)},relative(e,t){if(zs(e,"from"),zs(t,"to"),e===t||(e=Er.posix.resolve(e),t=Er.posix.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(s+u))break;m===Al&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===Al)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===Al?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===Al)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if(zs(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Al,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===Al){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&zs(t,"ext"),zs(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===Al){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===Al){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){zs(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===Al){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===$5?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:pIe.bind(null,"/"),parse(e){zs(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===Al,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===Al){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===$5?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Er.posix.win32=Er.win32.win32=Er.win32;Er.posix.posix=Er.win32.posix=Er.posix;Er.normalize=Hc?Er.win32.normalize:Er.posix.normalize;Er.isAbsolute=Hc?Er.win32.isAbsolute:Er.posix.isAbsolute;Er.join=Hc?Er.win32.join:Er.posix.join;Er.resolve=Hc?Er.win32.resolve:Er.posix.resolve;Er.relative=Hc?Er.win32.relative:Er.posix.relative;Er.dirname=Hc?Er.win32.dirname:Er.posix.dirname;Er.basename=Hc?Er.win32.basename:Er.posix.basename;Er.extname=Hc?Er.win32.extname:Er.posix.extname;Er.format=Hc?Er.win32.format:Er.posix.format;Er.parse=Hc?Er.win32.parse:Er.posix.parse;Er.toNamespacedPath=Hc?Er.win32.toNamespacedPath:Er.posix.toNamespacedPath;Er.sep=Hc?Er.win32.sep:Er.posix.sep;Er.delimiter=Hc?Er.win32.delimiter:Er.posix.delimiter});var vIe=V(yI=>{"use strict";d();Object.defineProperty(yI,"__esModule",{value:!0});yI.URI=void 0;yI.isUriComponents=Hut;yI.uriToFsPath=JQ;var AIe=gIe(),YQ=Zee(),Qut=/^\w[\w\d+.-]*$/,Mut=/^\//,Out=/^\/\//;function Uut(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!Qut.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!Mut.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Out.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(Uut,"_validateUri");function qut(e,t){return!e&&!t?"file":e}o(qut,"_schemeFix");function Wut(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Wm&&(t=Wm+t):t=Wm;break}return t}o(Wut,"_referenceResolution");var Bo="",Wm="/",Gut=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,KQ=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}scheme;authority;path;query;fragment;constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||Bo,this.authority=t.authority||Bo,this.path=t.path||Bo,this.query=t.query||Bo,this.fragment=t.fragment||Bo):(this.scheme=qut(t,a),this.authority=r||Bo,this.path=Wut(this.scheme,n||Bo),this.query=i||Bo,this.fragment=s||Bo,Uut(this,a))}get fsPath(){return JQ(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=Bo),n===void 0?n=this.authority:n===null&&(n=Bo),i===void 0?i=this.path:i===null&&(i=Bo),s===void 0?s=this.query:s===null&&(s=Bo),a===void 0?a=this.fragment:a===null&&(a=Bo),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new z5(r,n,i,s,a)}static parse(t,r=!1){let n=Gut.exec(t);return n?new z5(n[2]||Bo,zQ(n[4]||Bo),zQ(n[5]||Bo),zQ(n[7]||Bo),zQ(n[9]||Bo),r):new z5(Bo,Bo,Bo,Bo,Bo)}static file(t){let r=Bo;if(YQ.isWindows&&(t=t.replace(/\\/g,Wm)),t[0]===Wm&&t[1]===Wm){let n=t.indexOf(Wm,2);n===-1?(r=t.substring(2),t=Wm):(r=t.substring(2,n),t=t.substring(n)||Wm)}return new z5("file",r,t,Bo,Bo)}static from(t,r){return new z5(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return YQ.isWindows&&t.scheme==="file"?n=e.file(AIe.win32.join(JQ(t,!0),...r)).path:n=AIe.posix.join(t.path,...r),t.with({path:n})}toString(t=!1){return rte(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new z5(t);return r._formatted=t.external??null,r._fsPath=t._sep===xIe?t.fsPath??null:null,r}}else return t}};yI.URI=KQ;function Hut(e){return!e||typeof e!="object"?!1:typeof e.scheme=="string"&&(typeof e.authority=="string"||typeof e.authority>"u")&&(typeof e.path=="string"||typeof e.path>"u")&&(typeof e.query=="string"||typeof e.query>"u")&&(typeof e.fragment=="string"||typeof e.fragment>"u")}o(Hut,"isUriComponents");var xIe=YQ.isWindows?1:void 0,z5=class extends KQ{static{o(this,"Uri")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=JQ(this,!1)),this._fsPath}toString(t=!1){return t?rte(this,!0):(this._formatted||(this._formatted=rte(this,!1)),this._formatted)}toJSON(){let t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=xIe),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}},EIe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function yIe(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=EIe[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(yIe,"encodeURIComponentFast");function Vut(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=EIe[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(Vut,"encodeURIComponentMinimal");function JQ(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,YQ.isWindows&&(r=r.replace(/\//g,"\\")),r}o(JQ,"uriToFsPath");function rte(e,t){let r=t?Vut:yIe,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=Wm,n+=Wm),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:yIe(c,!1,!1)),n}o(rte,"_asFormatted");function bIe(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+bIe(e.substr(3)):e}}o(bIe,"decodeURIComponentGraceful");var CIe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function zQ(e){return e.match(CIe)?e.replace(CIe,t=>bIe(t)):e}o(zQ,"percentDecode")});var ote=V(Y5=>{"use strict";d();Object.defineProperty(Y5,"__esModule",{value:!0});Y5.PromptReference=Y5.ChatResponseReferencePartStatusKind=Y5.PromptMetadata=void 0;var Fw=vIe(),nte=class{static{o(this,"PromptMetadata")}_marker;toString(){return Object.getPrototypeOf(this).constructor.name}};Y5.PromptMetadata=nte;var IIe;(function(e){e[e.Complete=1]="Complete",e[e.Partial=2]="Partial",e[e.Omitted=3]="Omitted"})(IIe||(Y5.ChatResponseReferencePartStatusKind=IIe={}));var ite=class e{static{o(this,"PromptReference")}anchor;iconPath;options;static fromJSON(t){let r=o(n=>"scheme"in n?Fw.URI.from(n):{uri:Fw.URI.from(n.uri),range:n.range},"uriOrLocation");return new e("variableName"in t.anchor?{variableName:t.anchor.variableName,value:t.anchor.value&&r(t.anchor.value)}:r(t.anchor),t.iconPath&&("scheme"in t.iconPath?Fw.URI.from(t.iconPath):"light"in t.iconPath?{light:Fw.URI.from(t.iconPath.light),dark:Fw.URI.from(t.iconPath.dark)}:t.iconPath),t.options)}constructor(t,r,n){this.anchor=t,this.iconPath=r,this.options=n}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}};Y5.PromptReference=ite});var mte=V(CI=>{"use strict";d();Object.defineProperty(CI,"__esModule",{value:!0});CI.PromptRenderer=CI.MetadataMap=void 0;var XQ=Lee(),$l=Yee(),dte=ote(),TIe;(function(e){e.empty={get:o(()=>{},"get"),getAll:o(()=>[],"getAll")}})(TIe||(CI.MetadataMap=TIe={}));var ste=class{static{o(this,"PromptRenderer")}_endpoint;_ctor;_props;_tokenizer;_usedContext=[];_ignoredFiles=[];_growables=[];_root=new eM(null,0);_tokenLimits=[];tracer=void 0;constructor(t,r,n,i){this._endpoint=t,this._ctor=r,this._props=n,this._tokenizer=i}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(t){return new t.ctor(t.props)}async _processPromptPieces(t,r,n,i){let s=new Map;for(let[c,u]of r.entries()){if(Array.isArray(u.children)&&(u.props=u.props??{},u.props.children=u.children),!u.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");let f=this.createElement(u),m;f instanceof $l.TokenLimit&&(m=u.props.max,this._tokenLimits.push({limit:m,id:u.node.id})),u.node.setObj(f);let h=u.props.flexGrow??1/0,p=s.get(h);p||(p=[],s.set(h,p)),p.push({element:u,promptElementInstance:f,tokenLimit:m})}if(s.size===0)return;let a=[...s.entries()].sort(([c],[u])=>u-c).map(([c,u])=>u),l=o(c=>{let u=0;for(let f=c+1;f<a.length;f++)for(let{element:m}of a[f]){if(!m.props.flexReserve)continue;let h=typeof m.props.flexReserve=="string"?Math.floor(t.remainingTokenBudget/Number(m.props.flexReserve.slice(1))):m.props.flexReserve;u+=h}return t.consume(u),u},"setReserved");for(let[c,u]of a.entries()){let f=l(c),m=0;for(let{element:E}of u)m+=E.props.flexBasis??1;let h=0,p=u.map(E=>{if(E.tokenLimit===void 0)return!1;let v=E.element.props.flexBasis??1,b=v/m;return Math.floor(t.remainingTokenBudget*b)<E.tokenLimit?!1:(m-=v,h+=E.tokenLimit,!0)}),A=u.map((E,v)=>{let b=(E.element.props.flexBasis??1)/m;return{tokenBudget:p[v]?E.tokenLimit:Math.floor((t.remainingTokenBudget-h)*b),endpoint:t.endpoint,countTokens:o((S,B)=>this._tokenizer.tokenLength(S,B),"countTokens")}});t.consume(-f),this.tracer?.addRenderEpoch?.({inNode:u[0].element.node.parent?.id,flexValue:u[0].element.props.flexGrow??0,tokenBudget:t.remainingTokenBudget,reservedTokens:f,elements:u.map((E,v)=>({id:E.element.node.id,tokenBudget:A[v].tokenBudget}))}),await Promise.all(u.map(async({element:E,promptElementInstance:v},b)=>{let S=await v.prepare?.(A[b],n,i);E.node.setState(S)}));let x=await Promise.all(u.map(async({element:E,promptElementInstance:v},b)=>{let S=A[b];return await v.render(E.node.getState(),S,n,i)}));for(let[E,{element:v,promptElementInstance:b}]of u.entries()){let S=A[E],B=x[E];if(!B)continue;let D=await this._processPromptRenderPiece(new S4(S.tokenBudget,this._endpoint),v,b,B,n,i);b instanceof $l.Expandable&&this._growables.push({initialConsume:D,elem:v.node}),t.consume(D)}}}async _processPromptRenderPiece(t,r,n,i,s,a){let l=wIe(i),c=new S4(t.tokenBudget,this._endpoint),{tokensConsumed:u}=await jut(this._tokenizer,r,n,l);return c.consume(u),await this._handlePromptChildren(r,l,c,s,a),c.consumed}async renderElementJSON(t){return await this._processPromptPieces(new S4(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,t),{node:this._root.toJSON()}}async render(t,r){await this._processPromptPieces(new S4(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],t,r);let{container:n,allMetadata:i,removed:s}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,r);this.tracer?.didMaterializeTree?.({budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:n,removed:s,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:o(h=>this._getFinalElementTree(h,void 0).then(p=>({...p,budget:h})),"renderTree")});let a=[...n.toChatMessages()],l=await n.tokenCount(this._tokenizer),c=[...n.allMetadata()],u=new Set,f=c.map(h=>{if(!(h instanceof wp))return;let p=h.reference,A="variableName"in p.anchor;if(A&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!A)return p}).filter(ute),m=i.map(h=>{if(!(h instanceof wp)||c.includes(h))return;let p=h.reference,A="variableName"in p.anchor;if(A&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!A)return p}).filter(ute);return{metadata:{get:o(h=>c.find(p=>p instanceof h),"get"),getAll:o(h=>c.filter(p=>p instanceof h),"getAll")},messages:a,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:l,references:f,omittedReferences:m}}async _getFinalElementTree(t,r){let n=this._root.materialize(),i=[...n.allMetadata()],s=[{limit:t,id:this._root.id},...this._tokenLimits],a=0;for(let l=s.length-1;l>=0;l--){let c=s[l];if(c.limit>t)continue;let u=n.findById(c.id);if(!u)continue;let f=await u.tokenCount(this._tokenizer);if(f<c.limit&&!await this._grow(u,f,c.limit,r))continue;let m=await u.tokenCount(this._tokenizer);for(;m>c.limit;){for(;m>c.limit;)for(let h of u.removeLowestPriorityChild()){a++;let p=h.upperBoundTokenCount(this._tokenizer);m-=typeof p=="number"?p:await p}m=await u.tokenCount(this._tokenizer)}}return{container:n,allMetadata:i,removed:a}}async _grow(t,r,n,i){if(!this._growables.length)return!1;for(let s of this._growables){if(!t.findById(s.elem.id))continue;let a=s.elem.getObj();if(!(a instanceof $l.Expandable))throw new Error("unreachable: expected growable");let l=new eM(null,0,s.elem.id),c=new S4(n-r+s.initialConsume,this._endpoint),u=await this._processPromptRenderPiece(c,{node:l,ctor:this._ctor,props:{},children:[]},a,await a.render(void 0,{tokenBudget:c.tokenBudget,endpoint:this._endpoint,countTokens:o((h,p)=>this._tokenizer.tokenLength(h,p),"countTokens")}),void 0,i),f=l.materialize();if(!t.replaceNode(s.elem.id,f))throw new Error("unreachable: could not find old element to replace");if(r-=s.initialConsume,r+=u,r>=n)break}return!0}_handlePromptChildren(t,r,n,i,s){if(t.ctor===$l.TextChunk){this._handleExtrinsicTextChunkChildren(t.node,t.node,t.props,r);return}let a=[];for(let l of r){if(l.kind==="literal"){t.node.appendStringChild(l.value,t.props.priority??Number.MAX_SAFE_INTEGER);continue}if(l.kind==="intrinsic"){this._handleIntrinsic(t.node,l.name,{priority:t.props.priority??Number.MAX_SAFE_INTEGER,...l.props},ZQ(l.children));continue}let c=t.node.createChild();a.push({node:c,ctor:l.ctor,props:l.props,children:l.children})}return this._processPromptPieces(n,a,i,s)}_handleIntrinsic(t,r,n,i,s){switch(r){case"meta":return this._handleIntrinsicMeta(t,n,i);case"br":return this._handleIntrinsicLineBreak(t,n,i,n.priority,s);case"usedContext":return this._handleIntrinsicUsedContext(t,n,i);case"references":return this._handleIntrinsicReferences(t,n,i);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(t,n,i);case"elementJSON":return this._handleIntrinsicElementJSON(t,n.data)}throw new Error(`Unknown intrinsic element ${r}!`)}_handleIntrinsicMeta(t,r,n){if(n.length>0)throw new Error("<meta /> must not have children!");r.local?t.addMetadata(r.value):this._root.addMetadata(r.value)}_handleIntrinsicLineBreak(t,r,n,i,s){if(n.length>0)throw new Error("<br /> must not have children!");t.appendLineBreak(i??Number.MAX_SAFE_INTEGER,s)}_handleIntrinsicElementJSON(t,r){let n=t.appendPieceJSON(r.node);if(this.tracer?.includeInEpoch)for(let i of n.elements())this.tracer.includeInEpoch({id:i.id,tokenBudget:0})}_handleIntrinsicUsedContext(t,r,n){if(n.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...r.value)}_handleIntrinsicReferences(t,r,n){if(n.length>0)throw new Error("<reference /> must not have children!");for(let i of r.value)t.addMetadata(new wp(i))}_handleIntrinsicIgnoredFiles(t,r,n){if(n.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...r.value)}_handleExtrinsicTextChunkChildren(t,r,n,i){let s=[],a=[];for(let l of i){if(l.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if(l.kind==="literal"&&s.push(l.value),l.kind==="intrinsic")if(l.name==="br")s.push(`
`);else if(l.name==="references")for(let c of l.props.value)a.push(new wp(c));else this._handleIntrinsic(t,l.name,l.props,ZQ(l.children),r.childIndex)}t.appendStringChild(s.join(""),n?.priority??Number.MAX_SAFE_INTEGER,a,r.childIndex,!0)}};CI.PromptRenderer=ste;async function jut(e,t,r,n){let i=0;(0,$l.isChatMessagePromptElement)(r)&&(i+=await e.countMessageTokens({role:t.props.role,content:"",...t.props.name?{name:t.props.name}:void 0,...t.props.toolCalls?{tool_calls:t.props.toolCalls}:void 0,...t.props.toolCallId?{tool_call_id:t.props.toolCallId}:void 0}));for(let s of n)s.kind==="literal"&&(i+=await e.tokenLength(s.value));return{tokensConsumed:i}}o(jut,"computeTokensConsumedByLiterals");function wIe(e,t=[]){return typeof e>"u"||typeof e=="boolean"?[]:(typeof e=="string"||typeof e=="number"?t.push(new cte(String(e))):$ut(e)?ZQ(e.children,t):zut(e)?ZQ(e,t):typeof e.ctor=="string"?t.push(new ate(e.ctor,e.props,e.children)):t.push(new lte(e.ctor,e.props,e.children)),t)}o(wIe,"flattenAndReduce");function ZQ(e,t=[]){for(let r of e)wIe(r,t);return t}o(ZQ,"flattenAndReduceArr");var ate=class{static{o(this,"IntrinsicPromptPiece")}name;props;children;kind="intrinsic";constructor(t,r,n){this.name=t,this.props=r,this.children=n}},lte=class{static{o(this,"ExtrinsicPromptPiece")}ctor;props;children;kind="extrinsic";constructor(t,r,n){this.ctor=t,this.props=r,this.children=n}},cte=class{static{o(this,"LiteralPromptPiece")}value;priority;kind="literal";constructor(t,r){this.value=t,this.priority=r}},S4=class{static{o(this,"PromptSizingContext")}tokenBudget;endpoint;_consumed=0;constructor(t,r){this.tokenBudget=t,this.endpoint=r}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(t){this._consumed+=t}},eM=class e{static{o(this,"PromptTreeElement")}parent;childIndex;id;static _nextId=0;static fromJSON(t,r){let n=new e(null,t);switch(n._metadata=r.references?.map(i=>new wp(dte.PromptReference.fromJSON(i)))??[],n._children=r.children.map((i,s)=>{switch(i.type){case 1:return e.fromJSON(s,i);case 2:return Nw.fromJSON(n,s,i);default:}}).filter(ute),r.ctor){case 1:n._obj=new $l.BaseChatMessage(r.props);break;case 2:break;case 3:n._obj=new $l.BaseImageMessage(r.props);break;default:}return n}kind=1;_obj=null;_state=void 0;_children=[];_metadata=[];constructor(t=null,r,n=e._nextId++){this.parent=t,this.childIndex=r,this.id=n}setObj(t){this._obj=t}getObj(){return this._obj}setState(t){this._state=t}getState(){return this._state}createChild(){let t=new e(this,this._children.length);return this._children.push(t),t}appendPieceJSON(t){let r=e.fromJSON(this._children.length,t);return this._children.push(r),r}appendStringChild(t,r,n,i=this._children.length,s=!1){this._children.push(new Nw(this,i,t,r,n,s))}appendLineBreak(t,r=this._children.length){this._children.push(new Nw(this,r,`
`,t))}toJSON(){let t={type:1,ctor:2,children:this._children.slice().sort((r,n)=>r.childIndex-n.childIndex).map(r=>r.toJSON()),priority:this._obj?.props.priority,references:this._metadata.filter(r=>r instanceof wp).map(r=>r.reference.toJSON())};if(this._obj instanceof $l.BaseChatMessage)t.ctor=1,t.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId};else if(this._obj instanceof $l.BaseImageMessage)return{...t,ctor:3,props:{src:this._obj.props.src,detail:this._obj.props.detail}};return t}materialize(t){if(this._children.sort((r,n)=>r.childIndex-n.childIndex),this._obj instanceof $l.BaseImageMessage)return new XQ.MaterializedChatMessageImage(t,1,this._obj.props.src,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,0,this._obj.props.detail??void 0);if(this._obj instanceof $l.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new XQ.MaterializedChatMessage(t,this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof $l.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof $l.ToolMessage?this._obj.props.toolCallId:void 0,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,r=>this._children.map(n=>n.materialize(r)))}else{let r=0;this._obj instanceof $l.LegacyPrioritization&&(r|=1),this._obj instanceof $l.Chunk&&(r|=2),this._obj instanceof $l.IfEmpty&&(r|=8),this._obj?.props.passPriority&&(r|=4);let n=new XQ.MaterializedContainer(t,this.id,this._obj?.constructor.name,this._obj?.props.priority??(this._obj?.props.passPriority?0:Number.MAX_SAFE_INTEGER),i=>this._children.map(s=>s.materialize(i)),this._metadata,r);return this._obj instanceof $l.AbstractKeepWith&&(n.keepWithId=this._obj.id),n}}addMetadata(t){this._metadata.push(t)}*elements(){yield this;for(let t of this._children)t instanceof e&&(yield*t.elements())}},Nw=class e{static{o(this,"PromptText")}parent;childIndex;text;priority;metadata;lineBreakBefore;static fromJSON(t,r,n){return new e(t,r,n.text,n.priority,n.references?.map(i=>new wp(dte.PromptReference.fromJSON(i))),n.lineBreakBefore)}kind=2;constructor(t,r,n,i,s,a=!1){this.parent=t,this.childIndex=r,this.text=n,this.priority=i,this.metadata=s,this.lineBreakBefore=a}collectLeafs(t){t.push(this)}materialize(t){let r=this.lineBreakBefore?1:this.childIndex===0?2:0;return new XQ.MaterializedChatMessageTextChunk(t,this.text,this.priority??Number.MAX_SAFE_INTEGER,this.metadata||[],r)}toJSON(){return{type:2,priority:this.priority,text:this.text,references:this.metadata?.filter(t=>t instanceof wp).map(t=>t.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}};function $ut(e){return(typeof e.ctor=="function"&&e.ctor.isFragment)??!1}o($ut,"isFragmentCtor");function ute(e){return e!==void 0}o(ute,"isDefined");var fte=class extends dte.PromptMetadata{static{o(this,"InternalMetadata")}},wp=class extends fte{static{o(this,"ReferenceMetadata")}reference;constructor(t){super(),this.reference=t}};function zut(e){return!!e&&typeof e[Symbol.iterator]=="function"}o(zut,"isIterable")});var SIe=V(tM=>{"use strict";d();Object.defineProperty(tM,"__esModule",{value:!0});tM.AnyTokenizer=void 0;var Lw=hI(),hte=class{static{o(this,"AnyTokenizer")}countTokens;constructor(t,r){if(this.countTokens=t,r!=="vscode")throw new Error("`mode` must be set to vscode when using vscode.LanguageModelChat as the tokenizer")}async tokenLength(t,r){return this.countTokens(t,r)}async countMessageTokens(t){let r=await Promise.resolve().then(()=>require("vscode"));return this.countTokens({role:this.toChatRole(t.role),content:[new r.LanguageModelTextPart(this.extractText(t))],name:"name"in t?t.name:void 0})}extractText(t){return t.content instanceof Array?t.content.map(r=>"text"in r?r.text:"").join(""):t.content}toChatRole(t){switch(t){case Lw.ChatRole.User:return 1;case Lw.ChatRole.Assistant:return 2;case Lw.ChatRole.System:return 1;case Lw.ChatRole.Function:return 1;case Lw.ChatRole.Tool:return 1}}};tM.AnyTokenizer=hte});var _Ie=V(xI=>{"use strict";d();Object.defineProperty(xI,"__esModule",{value:!0});xI.tracerCss=xI.tracerSrc=void 0;xI.tracerSrc='"use strict";(()=>{var $,m,se,Ue,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function N(t){return t.children}function B(t,e){this.props=t,this.context=e}function I(t,e){if(e==null)return t.__?I(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?I(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??I(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,x,C=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,C),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:C[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),x==null&&b!=null&&(x=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=x}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(N,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=I(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=I(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,x,C,h,v,H,M,P,F,oe,z,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?C=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(U){U&&(U.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,x)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),z=0;z<i._sb.length;z++)i.__h.push(i._sb[z]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(x=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===N&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),C&&(i.__E=i.__=null)}catch(U){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(U,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,x,C=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)C===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),C=n.props||D,!a&&_!=null)for(C={},s=0;s<t.attributes.length;s++)C[(d=t.attributes[s]).name]=d.value;for(s in C)if(d=C[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?x=d:a&&typeof d!="function"||C[s]===d||A(t,s,d,C[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&I(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==C[s])&&A(t,s,b,C[s],r),s="checked",x!==void 0&&x!==t[s]&&A(t,s,x,C[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(N,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,Ue=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=N,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,Ce=y.diffed,xe=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ne,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ne(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ie(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ie(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){Ce&&Ce(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),xe&&xe(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ie(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ne(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(N,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var ze=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(ze,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(ze,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n';xI.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`});var PIe=V(nM=>{"use strict";d();Object.defineProperty(nM,"__esModule",{value:!0});nM.HTMLTracer=void 0;var kIe=_Ie(),Qw=Lee(),pte=class{static{o(this,"HTMLTracer")}traceData;epochs=[];addRenderEpoch(t){this.epochs.push(t)}includeInEpoch(t){this.epochs[this.epochs.length-1].elements.push(t)}didMaterializeTree(t){this.traceData=t}async serveHTML(){return gte.create({epochs:this.epochs,traceData:RIe(this.traceData)})}serveRouter(t){return new rM({baseAddress:t,epochs:this.epochs,traceData:RIe(this.traceData)})}};nM.HTMLTracer=pte;var rM=class{static{o(this,"RequestRouter")}opts;serverToken=crypto.randomUUID();constructor(t){this.opts=t}route(t,r){let n=t,i=r,s=new URL(n.url||"/","http://localhost"),a=`/${this.serverToken}`;switch(s.pathname){case a:case`${a}/`:this.onRoot(s,n,i);break;case`${a}/regen`:this.onRegen(s,n,i);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){let{traceData:t,epochs:r}=this.opts;return`<body>
			<style>${kIe.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(t.budget)};
				const EPOCHS = ${JSON.stringify(r)};
				const DEFAULT_MODEL = ${JSON.stringify(await BIe(t.tokenizer,t.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${kIe.tracerSrc}
			</script>
		</body>`}async onRegen(t,r,n){let{traceData:i}=this.opts,s=Number(t.searchParams.get("n")||i.budget),a=await i.renderTree(s),l=await BIe(i.tokenizer,a),c=JSON.stringify(l);n.setHeader("Content-Type","application/json"),n.setHeader("Content-Length",Buffer.byteLength(c)),n.end(c)}onRoot(t,r,n){this.getHTML().then(i=>{n.setHeader("Content-Type","text/html"),n.setHeader("Content-Length",Buffer.byteLength(i)),n.end(i)})}},gte=class e extends rM{static{o(this,"RequestServer")}server;static async create(t){let{createServer:r}=await Promise.resolve().then(()=>require("http")),n=r((a,l)=>{try{s.route(a,l)||(l.statusCode=404,l.end("Not Found"))}catch(c){l.statusCode=500,l.end(String(c))}}),i=await new Promise((a,l)=>{n.listen(0,"127.0.0.1",()=>a(n.address().port)).on("error",l)}),s=new e({...t,baseAddress:`http://127.0.0.1:${i}`},n);return s}constructor(t,r){super(t),this.server=r}dispose(){this.server.closeAllConnections(),this.server.close()}};async function BIe(e,t){return{container:await DIe(e,t.container,!1),removed:t.removed,budget:t.budget}}o(BIe,"serializeRenderData");async function DIe(e,t,r){let n={metadata:t.metadata.map(Kut),priority:t.priority};if(t instanceof Qw.MaterializedChatMessageTextChunk)return{...n,type:2,value:t.text,tokens:await t.upperBoundTokenCount(e)};if(t instanceof Qw.MaterializedChatMessageImage)return{...n,name:t.id.toString(),id:t.id,type:3,value:t.src,tokens:await t.upperBoundTokenCount(e)};{let i={...n,id:t.id,name:t.name,children:await Promise.all(t.children.map(s=>DIe(e,s,r||t instanceof Qw.MaterializedChatMessage))),tokens:r?await t.upperBoundTokenCount(e):await t.tokenCount(e)};if(t instanceof Qw.MaterializedContainer)return{...i,type:0};if(t instanceof Qw.MaterializedChatMessage){let s=t.text.filter(a=>typeof a=="string").join("").trim();return{...i,type:1,role:t.role,text:s}}}Yut(t)}o(DIe,"serializeMaterialized");function Yut(e){throw new Error("unreachable")}o(Yut,"assertNever");function Kut(e){return{name:e.constructor.name,value:JSON.stringify(e)}}o(Kut,"serializeMetadata");var RIe=o(e=>{if(e===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return e},"mustGet")});var NIe=V(Ate=>{"use strict";d();Object.defineProperty(Ate,"__esModule",{value:!0});Ate.forEachNode=FIe;function FIe(e,t){if(t(e),e.type===1)for(let r of e.children)FIe(r,t)}o(FIe,"forEachNode")});var QIe=V(LIe=>{"use strict";d();Object.defineProperty(LIe,"__esModule",{value:!0})});var OIe=V(MIe=>{"use strict";d();Object.defineProperty(MIe,"__esModule",{value:!0})});var qIe=V(UIe=>{"use strict";d();Object.defineProperty(UIe,"__esModule",{value:!0})});var EI=V(_n=>{"use strict";d();var Jut=_n&&_n.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:o(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Mw=_n&&_n.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Jut(t,e,r)};Object.defineProperty(_n,"__esModule",{value:!0});_n.contentType=_n.PromptRenderer=_n.MetadataMap=_n.PromptElement=_n.useKeepWith=_n.ToolResult=_n.UserMessage=_n.ToolMessage=_n.TextChunk=_n.SystemMessage=_n.PrioritizedList=_n.LegacyPrioritization=_n.FunctionMessage=_n.Chunk=_n.AssistantMessage=_n.ChatRole=_n.JSONTree=void 0;_n.renderPrompt=tft;_n.renderElementJSON=rft;_n.toVsCodeChatMessages=HIe;var iM=hI(),WIe=mte(),Xut=SIe();Mw(PIe(),_n);_n.JSONTree=NIe();var Zut=hI();Object.defineProperty(_n,"ChatRole",{enumerable:!0,get:o(function(){return Zut.ChatRole},"get")});Mw(ote(),_n);Mw(QIe(),_n);Mw(OIe(),_n);Mw(qIe(),_n);var Gm=Yee();Object.defineProperty(_n,"AssistantMessage",{enumerable:!0,get:o(function(){return Gm.AssistantMessage},"get")});Object.defineProperty(_n,"Chunk",{enumerable:!0,get:o(function(){return Gm.Chunk},"get")});Object.defineProperty(_n,"FunctionMessage",{enumerable:!0,get:o(function(){return Gm.FunctionMessage},"get")});Object.defineProperty(_n,"LegacyPrioritization",{enumerable:!0,get:o(function(){return Gm.LegacyPrioritization},"get")});Object.defineProperty(_n,"PrioritizedList",{enumerable:!0,get:o(function(){return Gm.PrioritizedList},"get")});Object.defineProperty(_n,"SystemMessage",{enumerable:!0,get:o(function(){return Gm.SystemMessage},"get")});Object.defineProperty(_n,"TextChunk",{enumerable:!0,get:o(function(){return Gm.TextChunk},"get")});Object.defineProperty(_n,"ToolMessage",{enumerable:!0,get:o(function(){return Gm.ToolMessage},"get")});Object.defineProperty(_n,"UserMessage",{enumerable:!0,get:o(function(){return Gm.UserMessage},"get")});Object.defineProperty(_n,"ToolResult",{enumerable:!0,get:o(function(){return Gm.ToolResult},"get")});Object.defineProperty(_n,"useKeepWith",{enumerable:!0,get:o(function(){return Gm.useKeepWith},"get")});var eft=Mee();Object.defineProperty(_n,"PromptElement",{enumerable:!0,get:o(function(){return eft.PromptElement},"get")});var GIe=mte();Object.defineProperty(_n,"MetadataMap",{enumerable:!0,get:o(function(){return GIe.MetadataMap},"get")});Object.defineProperty(_n,"PromptRenderer",{enumerable:!0,get:o(function(){return GIe.PromptRenderer},"get")});async function tft(e,t,r,n,i,s,a="vscode"){let l="countTokens"in n?new Xut.AnyTokenizer((x,E)=>n.countTokens(x,E),a):n,c=new WIe.PromptRenderer(r,e,t,l),u=await c.render(i,s),{tokenCount:f,references:m,metadata:h}=u,p=u.messages,A=c.getUsedContext();return a==="vscode"&&(p=HIe(p)),{messages:p,tokenCount:f,metadatas:h,metadata:h,usedContext:A,references:m}}o(tft,"renderPrompt");_n.contentType="application/vnd.codechat.prompt+json.1";function rft(e,t,r,n){return new WIe.PromptRenderer({modelMaxPromptTokens:r?.tokenBudget??Number.MAX_SAFE_INTEGER},e,t,{countMessageTokens(s){throw new Error("Tools may only return text, not messages.")},tokenLength(s,a){return Promise.resolve(r?.countTokens(s,a)??Promise.resolve(1))}}).renderElementJSON(n)}o(rft,"renderElementJSON");function HIe(e){let t=require("vscode");return e.map(r=>{switch(r.role){case iM.ChatRole.Assistant:let n=t.LanguageModelChatMessage.Assistant(r.content,r.name);return r.tool_calls&&(n.content=[new t.LanguageModelTextPart(r.content),...r.tool_calls.map(i=>{let s;try{s=JSON.parse(i.function.arguments)}catch{throw new Error("Invalid JSON in tool call arguments for tool call: "+i.id)}return new t.LanguageModelToolCallPart(i.id,i.function.name,s)})]),n;case iM.ChatRole.User:return t.LanguageModelChatMessage.User(r.content,r.name);case iM.ChatRole.Function:{let i=t.LanguageModelChatMessage.User("");return i.content=[new t.LanguageModelToolResultPart(r.name,[new t.LanguageModelTextPart(r.content)])],i}case iM.ChatRole.Tool:{let i=t.LanguageModelChatMessage.User("");return i.content=[new t.LanguageModelToolResultPart(r.tool_call_id,[new t.LanguageModelTextPart(r.content)])],i}default:throw new Error(`Converting chat message with role ${r.role} to VS Code chat message is not supported.`)}})}o(HIe,"toVsCodeChatMessages")});var Ts=V((CUr,r9e)=>{d();r9e.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var ao=V((EUr,n9e)=>{"use strict";d();var Qs=class extends Error{static{o(this,"UndiciError")}constructor(t){super(t),this.name="UndiciError",this.code="UND_ERR"}},_re=class extends Qs{static{o(this,"ConnectTimeoutError")}constructor(t){super(t),this.name="ConnectTimeoutError",this.message=t||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},kre=class extends Qs{static{o(this,"HeadersTimeoutError")}constructor(t){super(t),this.name="HeadersTimeoutError",this.message=t||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},Bre=class extends Qs{static{o(this,"HeadersOverflowError")}constructor(t){super(t),this.name="HeadersOverflowError",this.message=t||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},Rre=class extends Qs{static{o(this,"BodyTimeoutError")}constructor(t){super(t),this.name="BodyTimeoutError",this.message=t||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},Dre=class extends Qs{static{o(this,"ResponseStatusCodeError")}constructor(t,r,n,i){super(t),this.name="ResponseStatusCodeError",this.message=t||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=r,this.statusCode=r,this.headers=n}},Pre=class extends Qs{static{o(this,"InvalidArgumentError")}constructor(t){super(t),this.name="InvalidArgumentError",this.message=t||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},Fre=class extends Qs{static{o(this,"InvalidReturnValueError")}constructor(t){super(t),this.name="InvalidReturnValueError",this.message=t||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},pO=class extends Qs{static{o(this,"AbortError")}constructor(t){super(t),this.name="AbortError",this.message=t||"The operation was aborted"}},Nre=class extends pO{static{o(this,"RequestAbortedError")}constructor(t){super(t),this.name="AbortError",this.message=t||"Request aborted",this.code="UND_ERR_ABORTED"}},Lre=class extends Qs{static{o(this,"InformationalError")}constructor(t){super(t),this.name="InformationalError",this.message=t||"Request information",this.code="UND_ERR_INFO"}},Qre=class extends Qs{static{o(this,"RequestContentLengthMismatchError")}constructor(t){super(t),this.name="RequestContentLengthMismatchError",this.message=t||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},Mre=class extends Qs{static{o(this,"ResponseContentLengthMismatchError")}constructor(t){super(t),this.name="ResponseContentLengthMismatchError",this.message=t||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},Ore=class extends Qs{static{o(this,"ClientDestroyedError")}constructor(t){super(t),this.name="ClientDestroyedError",this.message=t||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},Ure=class extends Qs{static{o(this,"ClientClosedError")}constructor(t){super(t),this.name="ClientClosedError",this.message=t||"The client is closed",this.code="UND_ERR_CLOSED"}},qre=class extends Qs{static{o(this,"SocketError")}constructor(t,r){super(t),this.name="SocketError",this.message=t||"Socket error",this.code="UND_ERR_SOCKET",this.socket=r}},Wre=class extends Qs{static{o(this,"NotSupportedError")}constructor(t){super(t),this.name="NotSupportedError",this.message=t||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},Gre=class extends Qs{static{o(this,"BalancedPoolMissingUpstreamError")}constructor(t){super(t),this.name="MissingUpstreamError",this.message=t||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},Hre=class extends Error{static{o(this,"HTTPParserError")}constructor(t,r,n){super(t),this.name="HTTPParserError",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}},Vre=class extends Qs{static{o(this,"ResponseExceededMaxSizeError")}constructor(t){super(t),this.name="ResponseExceededMaxSizeError",this.message=t||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},jre=class extends Qs{static{o(this,"RequestRetryError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="RequestRetryError",this.message=t||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=r,this.data=i,this.headers=n}},$re=class extends Qs{static{o(this,"ResponseError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="ResponseError",this.message=t||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=r,this.data=i,this.headers=n}},zre=class extends Qs{static{o(this,"SecureProxyConnectionError")}constructor(t,r,n){super(r,{cause:t,...n??{}}),this.name="SecureProxyConnectionError",this.message=r||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=t}};n9e.exports={AbortError:pO,HTTPParserError:Hre,UndiciError:Qs,HeadersTimeoutError:kre,HeadersOverflowError:Bre,BodyTimeoutError:Rre,RequestContentLengthMismatchError:Qre,ConnectTimeoutError:_re,ResponseStatusCodeError:Dre,InvalidArgumentError:Pre,InvalidReturnValueError:Fre,RequestAbortedError:Nre,ClientDestroyedError:Ore,ClientClosedError:Ure,InformationalError:Lre,SocketError:qre,NotSupportedError:Wre,ResponseContentLengthMismatchError:Mre,BalancedPoolMissingUpstreamError:Gre,ResponseExceededMaxSizeError:Vre,RequestRetryError:jre,ResponseError:$re,SecureProxyConnectionError:zre}});var AO=V((IUr,i9e)=>{"use strict";d();var gO={},Yre=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let e=0;e<Yre.length;++e){let t=Yre[e],r=t.toLowerCase();gO[t]=gO[r]=r}Object.setPrototypeOf(gO,null);i9e.exports={wellknownHeaderNames:Yre,headerNameLowerCasedRecord:gO}});var l9e=V((wUr,a9e)=>{"use strict";d();var{wellknownHeaderNames:o9e,headerNameLowerCasedRecord:Pmt}=AO(),Kre=class e{static{o(this,"TstNode")}value=null;left=null;middle=null;right=null;code;constructor(t,r,n){if(n===void 0||n>=t.length)throw new TypeError("Unreachable");if((this.code=t.charCodeAt(n))>127)throw new TypeError("key must be ascii string");t.length!==++n?this.middle=new e(t,r,n):this.value=r}add(t,r){let n=t.length;if(n===0)throw new TypeError("Unreachable");let i=0,s=this;for(;;){let a=t.charCodeAt(i);if(a>127)throw new TypeError("key must be ascii string");if(s.code===a)if(n===++i){s.value=r;break}else if(s.middle!==null)s=s.middle;else{s.middle=new e(t,r,i);break}else if(s.code<a)if(s.left!==null)s=s.left;else{s.left=new e(t,r,i);break}else if(s.right!==null)s=s.right;else{s.right=new e(t,r,i);break}}}search(t){let r=t.length,n=0,i=this;for(;i!==null&&n<r;){let s=t[n];for(s<=90&&s>=65&&(s|=32);i!==null;){if(s===i.code){if(r===++n)return i;i=i.middle;break}i=i.code<s?i.left:i.right}}return null}},yO=class{static{o(this,"TernarySearchTree")}node=null;insert(t,r){this.node===null?this.node=new Kre(t,r,0):this.node.add(t,r)}lookup(t){return this.node?.search(t)?.value??null}},s9e=new yO;for(let e=0;e<o9e.length;++e){let t=Pmt[o9e[e]];s9e.insert(t,t)}a9e.exports={TernarySearchTree:yO,tree:s9e}});var ui=V((kUr,I9e)=>{"use strict";d();var Kw=require("node:assert"),{kDestroyed:u9e,kBodyUsed:jI,kListeners:Jre,kBody:c9e}=Ts(),{IncomingMessage:Fmt}=require("node:http"),EO=require("node:stream"),Nmt=require("node:net"),{Blob:Lmt}=require("node:buffer"),Qmt=require("node:util"),{stringify:Mmt}=require("node:querystring"),{EventEmitter:Omt}=require("node:events"),{InvalidArgumentError:xl}=ao(),{headerNameLowerCasedRecord:Umt}=AO(),{tree:f9e}=l9e(),[qmt,Wmt]=process.versions.node.split(".").map(e=>Number(e)),xO=class{static{o(this,"BodyAsyncIterable")}constructor(t){this[c9e]=t,this[jI]=!1}async*[Symbol.asyncIterator](){Kw(!this[jI],"disturbed"),this[jI]=!0,yield*this[c9e]}};function Gmt(e){return bO(e)?(g9e(e)===0&&e.on("data",function(){Kw(!1)}),typeof e.readableDidRead!="boolean"&&(e[jI]=!1,Omt.prototype.on.call(e,"data",function(){this[jI]=!0})),e):e&&typeof e.pipeTo=="function"?new xO(e):e&&typeof e!="string"&&!ArrayBuffer.isView(e)&&p9e(e)?new xO(e):e}o(Gmt,"wrapRequestBody");function Hmt(){}o(Hmt,"nop");function bO(e){return e&&typeof e=="object"&&typeof e.pipe=="function"&&typeof e.on=="function"}o(bO,"isStream");function d9e(e){if(e===null)return!1;if(e instanceof Lmt)return!0;if(typeof e!="object")return!1;{let t=e[Symbol.toStringTag];return(t==="Blob"||t==="File")&&("stream"in e&&typeof e.stream=="function"||"arrayBuffer"in e&&typeof e.arrayBuffer=="function")}}o(d9e,"isBlobLike");function Vmt(e,t){if(e.includes("?")||e.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let r=Mmt(t);return r&&(e+="?"+r),e}o(Vmt,"buildURL");function m9e(e){let t=parseInt(e,10);return t===Number(e)&&t>=0&&t<=65535}o(m9e,"isValidPort");function CO(e){return e!=null&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&(e[4]===":"||e[4]==="s"&&e[5]===":")}o(CO,"isHttpOrHttpsPrefixed");function h9e(e){if(typeof e=="string"){if(e=new URL(e),!CO(e.origin||e.protocol))throw new xl("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}if(!e||typeof e!="object")throw new xl("Invalid URL: The URL argument must be a non-null object.");if(!(e instanceof URL)){if(e.port!=null&&e.port!==""&&m9e(e.port)===!1)throw new xl("Invalid URL: port must be a valid integer or a string representation of an integer.");if(e.path!=null&&typeof e.path!="string")throw new xl("Invalid URL path: the path must be a string or null/undefined.");if(e.pathname!=null&&typeof e.pathname!="string")throw new xl("Invalid URL pathname: the pathname must be a string or null/undefined.");if(e.hostname!=null&&typeof e.hostname!="string")throw new xl("Invalid URL hostname: the hostname must be a string or null/undefined.");if(e.origin!=null&&typeof e.origin!="string")throw new xl("Invalid URL origin: the origin must be a string or null/undefined.");if(!CO(e.origin||e.protocol))throw new xl("Invalid URL protocol: the URL must start with `http:` or `https:`.");let t=e.port!=null?e.port:e.protocol==="https:"?443:80,r=e.origin!=null?e.origin:`${e.protocol||""}//${e.hostname||""}:${t}`,n=e.path!=null?e.path:`${e.pathname||""}${e.search||""}`;return r[r.length-1]==="/"&&(r=r.slice(0,r.length-1)),n&&n[0]!=="/"&&(n=`/${n}`),new URL(`${r}${n}`)}if(!CO(e.origin||e.protocol))throw new xl("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}o(h9e,"parseURL");function jmt(e){if(e=h9e(e),e.pathname!=="/"||e.search||e.hash)throw new xl("invalid url");return e}o(jmt,"parseOrigin");function $mt(e){if(e[0]==="["){let r=e.indexOf("]");return Kw(r!==-1),e.substring(1,r)}let t=e.indexOf(":");return t===-1?e:e.substring(0,t)}o($mt,"getHostname");function zmt(e){if(!e)return null;Kw(typeof e=="string");let t=$mt(e);return Nmt.isIP(t)?"":t}o(zmt,"getServerName");function Ymt(e){return JSON.parse(JSON.stringify(e))}o(Ymt,"deepClone");function Kmt(e){return e!=null&&typeof e[Symbol.asyncIterator]=="function"}o(Kmt,"isAsyncIterable");function p9e(e){return e!=null&&(typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function")}o(p9e,"isIterable");function g9e(e){if(e==null)return 0;if(bO(e)){let t=e._readableState;return t&&t.objectMode===!1&&t.ended===!0&&Number.isFinite(t.length)?t.length:null}else{if(d9e(e))return e.size!=null?e.size:null;if(C9e(e))return e.byteLength}return null}o(g9e,"bodyLength");function A9e(e){return e&&!!(e.destroyed||e[u9e]||EO.isDestroyed?.(e))}o(A9e,"isDestroyed");function Jmt(e,t){e==null||!bO(e)||A9e(e)||(typeof e.destroy=="function"?(Object.getPrototypeOf(e).constructor===Fmt&&(e.socket=null),e.destroy(t)):t&&queueMicrotask(()=>{e.emit("error",t)}),e.destroyed!==!0&&(e[u9e]=!0))}o(Jmt,"destroy");var Xmt=/timeout=(\d+)/;function Zmt(e){let t=e.toString().match(Xmt);return t?parseInt(t[1],10)*1e3:null}o(Zmt,"parseKeepAliveTimeout");function y9e(e){return typeof e=="string"?Umt[e]??e.toLowerCase():f9e.lookup(e)??e.toString("latin1").toLowerCase()}o(y9e,"headerNameToString");function eht(e){return f9e.lookup(e)??e.toString("latin1").toLowerCase()}o(eht,"bufferToLowerCasedHeaderName");function tht(e,t){t===void 0&&(t={});for(let r=0;r<e.length;r+=2){let n=y9e(e[r]),i=t[n];if(i)typeof i=="string"&&(i=[i],t[n]=i),i.push(e[r+1].toString("utf8"));else{let s=e[r+1];typeof s=="string"?t[n]=s:t[n]=Array.isArray(s)?s.map(a=>a.toString("utf8")):s.toString("utf8")}}return"content-length"in t&&"content-disposition"in t&&(t["content-disposition"]=Buffer.from(t["content-disposition"]).toString("latin1")),t}o(tht,"parseHeaders");function rht(e){let t=e.length,r=new Array(t),n=!1,i=-1,s,a,l=0;for(let c=0;c<e.length;c+=2)s=e[c],a=e[c+1],typeof s!="string"&&(s=s.toString()),typeof a!="string"&&(a=a.toString("utf8")),l=s.length,l===14&&s[7]==="-"&&(s==="content-length"||s.toLowerCase()==="content-length")?n=!0:l===19&&s[7]==="-"&&(s==="content-disposition"||s.toLowerCase()==="content-disposition")&&(i=c+1),r[c]=s,r[c+1]=a;return n&&i!==-1&&(r[i]=Buffer.from(r[i]).toString("latin1")),r}o(rht,"parseRawHeaders");function C9e(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}o(C9e,"isBuffer");function nht(e,t,r){if(!e||typeof e!="object")throw new xl("handler must be an object");if(typeof e.onConnect!="function")throw new xl("invalid onConnect method");if(typeof e.onError!="function")throw new xl("invalid onError method");if(typeof e.onBodySent!="function"&&e.onBodySent!==void 0)throw new xl("invalid onBodySent method");if(r||t==="CONNECT"){if(typeof e.onUpgrade!="function")throw new xl("invalid onUpgrade method")}else{if(typeof e.onHeaders!="function")throw new xl("invalid onHeaders method");if(typeof e.onData!="function")throw new xl("invalid onData method");if(typeof e.onComplete!="function")throw new xl("invalid onComplete method")}}o(nht,"validateHandler");function iht(e){return!!(e&&(EO.isDisturbed(e)||e[jI]))}o(iht,"isDisturbed");function oht(e){return!!(e&&EO.isErrored(e))}o(oht,"isErrored");function sht(e){return!!(e&&EO.isReadable(e))}o(sht,"isReadable");function aht(e){return{localAddress:e.localAddress,localPort:e.localPort,remoteAddress:e.remoteAddress,remotePort:e.remotePort,remoteFamily:e.remoteFamily,timeout:e.timeout,bytesWritten:e.bytesWritten,bytesRead:e.bytesRead}}o(aht,"getSocketInfo");function lht(e){let t;return new ReadableStream({async start(){t=e[Symbol.asyncIterator]()},async pull(r){let{done:n,value:i}=await t.next();if(n)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let s=Buffer.isBuffer(i)?i:Buffer.from(i);s.byteLength&&r.enqueue(new Uint8Array(s))}return r.desiredSize>0},async cancel(r){await t.return()},type:"bytes"})}o(lht,"ReadableStreamFrom");function cht(e){return e&&typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&e[Symbol.toStringTag]==="FormData"}o(cht,"isFormDataLike");function uht(e,t){return"addEventListener"in e?(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)):(e.addListener("abort",t),()=>e.removeListener("abort",t))}o(uht,"addAbortListener");var fht=typeof String.prototype.toWellFormed=="function",dht=typeof String.prototype.isWellFormed=="function";function x9e(e){return fht?`${e}`.toWellFormed():Qmt.toUSVString(e)}o(x9e,"toUSVString");function mht(e){return dht?`${e}`.isWellFormed():x9e(e)===`${e}`}o(mht,"isUSVString");function E9e(e){switch(e){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return e>=33&&e<=126}}o(E9e,"isTokenCharCode");function hht(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t)if(!E9e(e.charCodeAt(t)))return!1;return!0}o(hht,"isValidHTTPToken");var pht=/[^\t\x20-\x7e\x80-\xff]/;function ght(e){return!pht.test(e)}o(ght,"isValidHeaderValue");function Aht(e){if(e==null||e==="")return{start:0,end:null,size:null};let t=e?e.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return t?{start:parseInt(t[1]),end:t[2]?parseInt(t[2]):null,size:t[3]?parseInt(t[3]):null}:null}o(Aht,"parseRangeHeader");function yht(e,t,r){return(e[Jre]??=[]).push([t,r]),e.on(t,r),e}o(yht,"addListener");function Cht(e){for(let[t,r]of e[Jre]??[])e.removeListener(t,r);e[Jre]=null}o(Cht,"removeAllListeners");function xht(e,t,r){try{t.onError(r),Kw(t.aborted)}catch(n){e.emit("error",n)}}o(xht,"errorRequest");var b9e=Object.create(null);b9e.enumerable=!0;var Xre={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},v9e={...Xre,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(Xre,null);Object.setPrototypeOf(v9e,null);I9e.exports={kEnumerableProperty:b9e,nop:Hmt,isDisturbed:iht,isErrored:oht,isReadable:sht,toUSVString:x9e,isUSVString:mht,isBlobLike:d9e,parseOrigin:jmt,parseURL:h9e,getServerName:zmt,isStream:bO,isIterable:p9e,isAsyncIterable:Kmt,isDestroyed:A9e,headerNameToString:y9e,bufferToLowerCasedHeaderName:eht,addListener:yht,removeAllListeners:Cht,errorRequest:xht,parseRawHeaders:rht,parseHeaders:tht,parseKeepAliveTimeout:Zmt,destroy:Jmt,bodyLength:g9e,deepClone:Ymt,ReadableStreamFrom:lht,isBuffer:C9e,validateHandler:nht,getSocketInfo:aht,isFormDataLike:cht,buildURL:Vmt,addAbortListener:uht,isValidHTTPToken:hht,isValidHeaderValue:ght,isTokenCharCode:E9e,parseRangeHeader:Aht,normalizedMethodRecordsBase:Xre,normalizedMethodRecords:v9e,isValidPort:m9e,isHttpOrHttpsPrefixed:CO,nodeMajor:qmt,nodeMinor:Wmt,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:Gmt}});var $I=V((DUr,w9e)=>{"use strict";d();var fo=require("node:diagnostics_channel"),ene=require("node:util"),vO=ene.debuglog("undici"),Zre=ene.debuglog("fetch"),q4=ene.debuglog("websocket"),T9e=!1,Eht={beforeConnect:fo.channel("undici:client:beforeConnect"),connected:fo.channel("undici:client:connected"),connectError:fo.channel("undici:client:connectError"),sendHeaders:fo.channel("undici:client:sendHeaders"),create:fo.channel("undici:request:create"),bodySent:fo.channel("undici:request:bodySent"),headers:fo.channel("undici:request:headers"),trailers:fo.channel("undici:request:trailers"),error:fo.channel("undici:request:error"),open:fo.channel("undici:websocket:open"),close:fo.channel("undici:websocket:close"),socketError:fo.channel("undici:websocket:socket_error"),ping:fo.channel("undici:websocket:ping"),pong:fo.channel("undici:websocket:pong")};if(vO.enabled||Zre.enabled){let e=Zre.enabled?Zre:vO;fo.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connecting to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),fo.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connected to %s using %s%s",`${s}${i?`:${i}`:""}`,n,r)}),fo.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=t;e("connection to %s using %s%s errored - %s",`${s}${i?`:${i}`:""}`,n,r,a.message)}),fo.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)}),fo.channel("undici:request:headers").subscribe(t=>{let{request:{method:r,path:n,origin:i},response:{statusCode:s}}=t;e("received response to %s %s/%s - HTTP %d",r,i,n,s)}),fo.channel("undici:request:trailers").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("trailers received from %s %s/%s",r,i,n)}),fo.channel("undici:request:error").subscribe(t=>{let{request:{method:r,path:n,origin:i},error:s}=t;e("request to %s %s/%s errored - %s",r,i,n,s.message)}),T9e=!0}if(q4.enabled){if(!T9e){let e=vO.enabled?vO:q4;fo.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connecting to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),fo.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s}}=t;e("connected to %s%s using %s%s",s,i?`:${i}`:"",n,r)}),fo.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:s},error:a}=t;e("connection to %s%s using %s%s errored - %s",s,i?`:${i}`:"",n,r,a.message)}),fo.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)})}fo.channel("undici:websocket:open").subscribe(e=>{let{address:{address:t,port:r}}=e;q4("connection opened %s%s",t,r?`:${r}`:"")}),fo.channel("undici:websocket:close").subscribe(e=>{let{websocket:t,code:r,reason:n}=e;q4("closed connection to %s - %s %s",t.url,r,n)}),fo.channel("undici:websocket:socket_error").subscribe(e=>{q4("connection errored - %s",e.message)}),fo.channel("undici:websocket:ping").subscribe(e=>{q4("ping received")}),fo.channel("undici:websocket:pong").subscribe(e=>{q4("pong received")})}w9e.exports={channels:Eht}});var R9e=V((FUr,B9e)=>{"use strict";d();var{InvalidArgumentError:Ms,NotSupportedError:bht}=ao(),$1=require("node:assert"),{isValidHTTPToken:k9e,isValidHeaderValue:S9e,isStream:vht,destroy:Iht,isBuffer:Tht,isFormDataLike:wht,isIterable:Sht,isBlobLike:_ht,buildURL:kht,validateHandler:Bht,getServerName:Rht,normalizedMethodRecords:Dht}=ui(),{channels:Fp}=$I(),{headerNameLowerCasedRecord:_9e}=AO(),Pht=/[^\u0021-\u00ff]/,xd=Symbol("handler"),tne=class{static{o(this,"Request")}constructor(t,{path:r,method:n,body:i,headers:s,query:a,idempotent:l,blocking:c,upgrade:u,headersTimeout:f,bodyTimeout:m,reset:h,throwOnError:p,expectContinue:A,servername:x},E){if(typeof r!="string")throw new Ms("path must be a string");if(r[0]!=="/"&&!(r.startsWith("http://")||r.startsWith("https://"))&&n!=="CONNECT")throw new Ms("path must be an absolute URL or start with a slash");if(Pht.test(r))throw new Ms("invalid request path");if(typeof n!="string")throw new Ms("method must be a string");if(Dht[n]===void 0&&!k9e(n))throw new Ms("invalid request method");if(u&&typeof u!="string")throw new Ms("upgrade must be a string");if(f!=null&&(!Number.isFinite(f)||f<0))throw new Ms("invalid headersTimeout");if(m!=null&&(!Number.isFinite(m)||m<0))throw new Ms("invalid bodyTimeout");if(h!=null&&typeof h!="boolean")throw new Ms("invalid reset");if(A!=null&&typeof A!="boolean")throw new Ms("invalid expectContinue");if(this.headersTimeout=f,this.bodyTimeout=m,this.throwOnError=p===!0,this.method=n,this.abort=null,i==null)this.body=null;else if(vht(i)){this.body=i;let v=this.body._readableState;(!v||!v.autoDestroy)&&(this.endHandler=o(function(){Iht(this)},"autoDestroy"),this.body.on("end",this.endHandler)),this.errorHandler=b=>{this.abort?this.abort(b):this.error=b},this.body.on("error",this.errorHandler)}else if(Tht(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(wht(i)||Sht(i)||_ht(i))this.body=i;else throw new Ms("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=u||null,this.path=a?kht(r,a):r,this.origin=t,this.idempotent=l??(n==="HEAD"||n==="GET"),this.blocking=c??!1,this.reset=h??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=A??!1,Array.isArray(s)){if(s.length%2!==0)throw new Ms("headers array must be even");for(let v=0;v<s.length;v+=2)IO(this,s[v],s[v+1])}else if(s&&typeof s=="object")if(s[Symbol.iterator])for(let v of s){if(!Array.isArray(v)||v.length!==2)throw new Ms("headers must be in key-value pair format");IO(this,v[0],v[1])}else{let v=Object.keys(s);for(let b=0;b<v.length;++b)IO(this,v[b],s[v[b]])}else if(s!=null)throw new Ms("headers must be an object or an array");Bht(E,n,u),this.servername=x||Rht(this.host),this[xd]=E,Fp.create.hasSubscribers&&Fp.create.publish({request:this})}onBodySent(t){if(this[xd].onBodySent)try{return this[xd].onBodySent(t)}catch(r){this.abort(r)}}onRequestSent(){if(Fp.bodySent.hasSubscribers&&Fp.bodySent.publish({request:this}),this[xd].onRequestSent)try{return this[xd].onRequestSent()}catch(t){this.abort(t)}}onConnect(t){if($1(!this.aborted),$1(!this.completed),this.error)t(this.error);else return this.abort=t,this[xd].onConnect(t)}onResponseStarted(){return this[xd].onResponseStarted?.()}onHeaders(t,r,n,i){$1(!this.aborted),$1(!this.completed),Fp.headers.hasSubscribers&&Fp.headers.publish({request:this,response:{statusCode:t,headers:r,statusText:i}});try{return this[xd].onHeaders(t,r,n,i)}catch(s){this.abort(s)}}onData(t){$1(!this.aborted),$1(!this.completed);try{return this[xd].onData(t)}catch(r){return this.abort(r),!1}}onUpgrade(t,r,n){return $1(!this.aborted),$1(!this.completed),this[xd].onUpgrade(t,r,n)}onComplete(t){this.onFinally(),$1(!this.aborted),this.completed=!0,Fp.trailers.hasSubscribers&&Fp.trailers.publish({request:this,trailers:t});try{return this[xd].onComplete(t)}catch(r){this.onError(r)}}onError(t){if(this.onFinally(),Fp.error.hasSubscribers&&Fp.error.publish({request:this,error:t}),!this.aborted)return this.aborted=!0,this[xd].onError(t)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(t,r){return IO(this,t,r),this}};function IO(e,t,r){if(r&&typeof r=="object"&&!Array.isArray(r))throw new Ms(`invalid ${t} header`);if(r===void 0)return;let n=_9e[t];if(n===void 0&&(n=t.toLowerCase(),_9e[n]===void 0&&!k9e(n)))throw new Ms("invalid header key");if(Array.isArray(r)){let i=[];for(let s=0;s<r.length;s++)if(typeof r[s]=="string"){if(!S9e(r[s]))throw new Ms(`invalid ${t} header`);i.push(r[s])}else if(r[s]===null)i.push("");else{if(typeof r[s]=="object")throw new Ms(`invalid ${t} header`);i.push(`${r[s]}`)}r=i}else if(typeof r=="string"){if(!S9e(r))throw new Ms(`invalid ${t} header`)}else r===null?r="":r=`${r}`;if(e.host===null&&n==="host"){if(typeof r!="string")throw new Ms("invalid host header");e.host=r}else if(e.contentLength===null&&n==="content-length"){if(e.contentLength=parseInt(r,10),!Number.isFinite(e.contentLength))throw new Ms("invalid content-length header")}else if(e.contentType===null&&n==="content-type")e.contentType=r,e.headers.push(t,r);else{if(n==="transfer-encoding"||n==="keep-alive"||n==="upgrade")throw new Ms(`invalid ${n} header`);if(n==="connection"){let i=typeof r=="string"?r.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new Ms("invalid connection header");i==="close"&&(e.reset=!0)}else{if(n==="expect")throw new bht("expect header not supported");e.headers.push(t,r)}}}o(IO,"processHeader");B9e.exports=tne});var Jw=V((QUr,D9e)=>{"use strict";d();var Fht=require("node:events"),TO=class extends Fht{static{o(this,"Dispatcher")}dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...t){let r=Array.isArray(t[0])?t[0]:t,n=this.dispatch.bind(this);for(let i of r)if(i!=null){if(typeof i!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof i}`);if(n=i(n),n==null||typeof n!="function"||n.length!==2)throw new TypeError("invalid interceptor")}return new rne(this,n)}},rne=class extends TO{static{o(this,"ComposedDispatcher")}#e=null;#t=null;constructor(t,r){super(),this.#e=t,this.#t=r}dispatch(...t){this.#t(...t)}close(...t){return this.#e.close(...t)}destroy(...t){return this.#e.destroy(...t)}};D9e.exports=TO});var JI=V((UUr,P9e)=>{"use strict";d();var Nht=Jw(),{ClientDestroyedError:nne,ClientClosedError:Lht,InvalidArgumentError:zI}=ao(),{kDestroy:Qht,kClose:Mht,kClosed:Xw,kDestroyed:YI,kDispatch:ine,kInterceptors:W4}=Ts(),z1=Symbol("onDestroyed"),KI=Symbol("onClosed"),wO=Symbol("Intercepted Dispatch"),one=class extends Nht{static{o(this,"DispatcherBase")}constructor(){super(),this[YI]=!1,this[z1]=null,this[Xw]=!1,this[KI]=[]}get destroyed(){return this[YI]}get closed(){return this[Xw]}get interceptors(){return this[W4]}set interceptors(t){if(t){for(let r=t.length-1;r>=0;r--)if(typeof this[W4][r]!="function")throw new zI("interceptor must be an function")}this[W4]=t}close(t){if(t===void 0)return new Promise((n,i)=>{this.close((s,a)=>s?i(s):n(a))});if(typeof t!="function")throw new zI("invalid callback");if(this[YI]){queueMicrotask(()=>t(new nne,null));return}if(this[Xw]){this[KI]?this[KI].push(t):queueMicrotask(()=>t(null,null));return}this[Xw]=!0,this[KI].push(t);let r=o(()=>{let n=this[KI];this[KI]=null;for(let i=0;i<n.length;i++)n[i](null,null)},"onClosed");this[Mht]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(t,r){if(typeof t=="function"&&(r=t,t=null),r===void 0)return new Promise((i,s)=>{this.destroy(t,(a,l)=>a?s(a):i(l))});if(typeof r!="function")throw new zI("invalid callback");if(this[YI]){this[z1]?this[z1].push(r):queueMicrotask(()=>r(null,null));return}t||(t=new nne),this[YI]=!0,this[z1]=this[z1]||[],this[z1].push(r);let n=o(()=>{let i=this[z1];this[z1]=null;for(let s=0;s<i.length;s++)i[s](null,null)},"onDestroyed");this[Qht](t).then(()=>{queueMicrotask(n)})}[wO](t,r){if(!this[W4]||this[W4].length===0)return this[wO]=this[ine],this[ine](t,r);let n=this[ine].bind(this);for(let i=this[W4].length-1;i>=0;i--)n=this[W4][i](n);return this[wO]=n,n(t,r)}dispatch(t,r){if(!r||typeof r!="object")throw new zI("handler must be an object");try{if(!t||typeof t!="object")throw new zI("opts must be an object.");if(this[YI]||this[z1])throw new nne;if(this[Xw])throw new Lht;return this[wO](t,r)}catch(n){if(typeof r.onError!="function")throw new zI("invalid onError method");return r.onError(n),!1}}};P9e.exports=one});var dne=V((GUr,Q9e)=>{"use strict";d();var XI=0,sne=1e3,ane=(sne>>1)-1,Y1,lne=Symbol("kFastTimer"),K1=[],cne=-2,une=-1,N9e=0,F9e=1;function fne(){XI+=ane;let e=0,t=K1.length;for(;e<t;){let r=K1[e];r._state===N9e?(r._idleStart=XI-ane,r._state=F9e):r._state===F9e&&XI>=r._idleStart+r._idleTimeout&&(r._state=une,r._idleStart=-1,r._onTimeout(r._timerArg)),r._state===une?(r._state=cne,--t!==0&&(K1[e]=K1[t])):++e}K1.length=t,K1.length!==0&&L9e()}o(fne,"onTick");function L9e(){Y1?Y1.refresh():(clearTimeout(Y1),Y1=setTimeout(fne,ane),Y1.unref&&Y1.unref())}o(L9e,"refreshTimeout");var SO=class{static{o(this,"FastTimer")}[lne]=!0;_state=cne;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(t,r,n){this._onTimeout=t,this._idleTimeout=r,this._timerArg=n,this.refresh()}refresh(){this._state===cne&&K1.push(this),(!Y1||K1.length===1)&&L9e(),this._state=N9e}clear(){this._state=une,this._idleStart=-1}};Q9e.exports={setTimeout(e,t,r){return t<=sne?setTimeout(e,t,r):new SO(e,t,r)},clearTimeout(e){e[lne]?e.clear():clearTimeout(e)},setFastTimeout(e,t,r){return new SO(e,t,r)},clearFastTimeout(e){e.clear()},now(){return XI},tick(e=0){XI+=e-sne+1,fne(),fne()},reset(){XI=0,K1.length=0,clearTimeout(Y1),Y1=null},kFastTimer:lne}});var Zw=V((zUr,W9e)=>{"use strict";d();var Oht=require("node:net"),M9e=require("node:assert"),q9e=ui(),{InvalidArgumentError:Uht,ConnectTimeoutError:qht}=ao(),_O=dne();function O9e(){}o(O9e,"noop");var mne,hne;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?hne=class{static{o(this,"WeakSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(t){let r=this._sessionCache.get(t);return r?r.deref():null}set(t,r){this._maxCachedSessions!==0&&(this._sessionCache.set(t,new WeakRef(r)),this._sessionRegistry.register(r,t))}}:hne=class{static{o(this,"SimpleSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map}get(t){return this._sessionCache.get(t)}set(t,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(t,r)}}};function Wht({allowH2:e,maxCachedSessions:t,socketPath:r,timeout:n,session:i,...s}){if(t!=null&&(!Number.isInteger(t)||t<0))throw new Uht("maxCachedSessions must be a positive integer or zero");let a={path:r,...s},l=new hne(t??100);return n=n??1e4,e=e??!1,o(function({hostname:u,host:f,protocol:m,port:h,servername:p,localAddress:A,httpSocket:x},E){let v;if(m==="https:"){mne||(mne=require("node:tls")),p=p||a.servername||q9e.getServerName(f)||null;let S=p||u;M9e(S);let B=i||l.get(S)||null;h=h||443,v=mne.connect({highWaterMark:16384,...a,servername:p,session:B,localAddress:A,ALPNProtocols:e?["http/1.1","h2"]:["http/1.1"],socket:x,port:h,host:u}),v.on("session",function(D){l.set(S,D)})}else M9e(!x,"httpSocket can only be sent on TLS update"),h=h||80,v=Oht.connect({highWaterMark:64*1024,...a,localAddress:A,port:h,host:u});if(a.keepAlive==null||a.keepAlive){let S=a.keepAliveInitialDelay===void 0?6e4:a.keepAliveInitialDelay;v.setKeepAlive(!0,S)}let b=Ght(new WeakRef(v),{timeout:n,hostname:u,port:h});return v.setNoDelay(!0).once(m==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(b),E){let S=E;E=null,S(null,this)}}).on("error",function(S){if(queueMicrotask(b),E){let B=E;E=null,B(S)}}),v},"connect")}o(Wht,"buildConnector");var Ght=process.platform==="win32"?(e,t)=>{if(!t.timeout)return O9e;let r=null,n=null,i=_O.setFastTimeout(()=>{r=setImmediate(()=>{n=setImmediate(()=>U9e(e.deref(),t))})},t.timeout);return()=>{_O.clearFastTimeout(i),clearImmediate(r),clearImmediate(n)}}:(e,t)=>{if(!t.timeout)return O9e;let r=null,n=_O.setFastTimeout(()=>{r=setImmediate(()=>{U9e(e.deref(),t)})},t.timeout);return()=>{_O.clearFastTimeout(n),clearImmediate(r)}};function U9e(e,t){if(e==null)return;let r="Connect Timeout Error";Array.isArray(e.autoSelectFamilyAttemptedAddresses)?r+=` (attempted addresses: ${e.autoSelectFamilyAttemptedAddresses.join(", ")},`:r+=` (attempted address: ${t.hostname}:${t.port},`,r+=` timeout: ${t.timeout}ms)`,q9e.destroy(e,new qht(r))}o(U9e,"onConnectTimeout");W9e.exports=Wht});var G9e=V(kO=>{"use strict";d();Object.defineProperty(kO,"__esModule",{value:!0});kO.enumToMap=void 0;function Hht(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];typeof n=="number"&&(t[r]=n)}),t}o(Hht,"enumToMap");kO.enumToMap=Hht});var H9e=V(er=>{"use strict";d();Object.defineProperty(er,"__esModule",{value:!0});er.SPECIAL_HEADERS=er.HEADER_STATE=er.MINOR=er.MAJOR=er.CONNECTION_TOKEN_CHARS=er.HEADER_CHARS=er.TOKEN=er.STRICT_TOKEN=er.HEX=er.URL_CHAR=er.STRICT_URL_CHAR=er.USERINFO_CHARS=er.MARK=er.ALPHANUM=er.NUM=er.HEX_MAP=er.NUM_MAP=er.ALPHA=er.FINISH=er.H_METHOD_MAP=er.METHOD_MAP=er.METHODS_RTSP=er.METHODS_ICE=er.METHODS_HTTP=er.METHODS=er.LENIENT_FLAGS=er.FLAGS=er.TYPE=er.ERROR=void 0;var Vht=G9e(),jht;(function(e){e[e.OK=0]="OK",e[e.INTERNAL=1]="INTERNAL",e[e.STRICT=2]="STRICT",e[e.LF_EXPECTED=3]="LF_EXPECTED",e[e.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",e[e.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",e[e.INVALID_METHOD=6]="INVALID_METHOD",e[e.INVALID_URL=7]="INVALID_URL",e[e.INVALID_CONSTANT=8]="INVALID_CONSTANT",e[e.INVALID_VERSION=9]="INVALID_VERSION",e[e.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",e[e.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",e[e.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",e[e.INVALID_STATUS=13]="INVALID_STATUS",e[e.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",e[e.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",e[e.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",e[e.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",e[e.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",e[e.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",e[e.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",e[e.PAUSED=21]="PAUSED",e[e.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",e[e.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",e[e.USER=24]="USER"})(jht=er.ERROR||(er.ERROR={}));var $ht;(function(e){e[e.BOTH=0]="BOTH",e[e.REQUEST=1]="REQUEST",e[e.RESPONSE=2]="RESPONSE"})($ht=er.TYPE||(er.TYPE={}));var zht;(function(e){e[e.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",e[e.CHUNKED=8]="CHUNKED",e[e.UPGRADE=16]="UPGRADE",e[e.CONTENT_LENGTH=32]="CONTENT_LENGTH",e[e.SKIPBODY=64]="SKIPBODY",e[e.TRAILING=128]="TRAILING",e[e.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(zht=er.FLAGS||(er.FLAGS={}));var Yht;(function(e){e[e.HEADERS=1]="HEADERS",e[e.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",e[e.KEEP_ALIVE=4]="KEEP_ALIVE"})(Yht=er.LENIENT_FLAGS||(er.LENIENT_FLAGS={}));var on;(function(e){e[e.DELETE=0]="DELETE",e[e.GET=1]="GET",e[e.HEAD=2]="HEAD",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.CONNECT=5]="CONNECT",e[e.OPTIONS=6]="OPTIONS",e[e.TRACE=7]="TRACE",e[e.COPY=8]="COPY",e[e.LOCK=9]="LOCK",e[e.MKCOL=10]="MKCOL",e[e.MOVE=11]="MOVE",e[e.PROPFIND=12]="PROPFIND",e[e.PROPPATCH=13]="PROPPATCH",e[e.SEARCH=14]="SEARCH",e[e.UNLOCK=15]="UNLOCK",e[e.BIND=16]="BIND",e[e.REBIND=17]="REBIND",e[e.UNBIND=18]="UNBIND",e[e.ACL=19]="ACL",e[e.REPORT=20]="REPORT",e[e.MKACTIVITY=21]="MKACTIVITY",e[e.CHECKOUT=22]="CHECKOUT",e[e.MERGE=23]="MERGE",e[e["M-SEARCH"]=24]="M-SEARCH",e[e.NOTIFY=25]="NOTIFY",e[e.SUBSCRIBE=26]="SUBSCRIBE",e[e.UNSUBSCRIBE=27]="UNSUBSCRIBE",e[e.PATCH=28]="PATCH",e[e.PURGE=29]="PURGE",e[e.MKCALENDAR=30]="MKCALENDAR",e[e.LINK=31]="LINK",e[e.UNLINK=32]="UNLINK",e[e.SOURCE=33]="SOURCE",e[e.PRI=34]="PRI",e[e.DESCRIBE=35]="DESCRIBE",e[e.ANNOUNCE=36]="ANNOUNCE",e[e.SETUP=37]="SETUP",e[e.PLAY=38]="PLAY",e[e.PAUSE=39]="PAUSE",e[e.TEARDOWN=40]="TEARDOWN",e[e.GET_PARAMETER=41]="GET_PARAMETER",e[e.SET_PARAMETER=42]="SET_PARAMETER",e[e.REDIRECT=43]="REDIRECT",e[e.RECORD=44]="RECORD",e[e.FLUSH=45]="FLUSH"})(on=er.METHODS||(er.METHODS={}));er.METHODS_HTTP=[on.DELETE,on.GET,on.HEAD,on.POST,on.PUT,on.CONNECT,on.OPTIONS,on.TRACE,on.COPY,on.LOCK,on.MKCOL,on.MOVE,on.PROPFIND,on.PROPPATCH,on.SEARCH,on.UNLOCK,on.BIND,on.REBIND,on.UNBIND,on.ACL,on.REPORT,on.MKACTIVITY,on.CHECKOUT,on.MERGE,on["M-SEARCH"],on.NOTIFY,on.SUBSCRIBE,on.UNSUBSCRIBE,on.PATCH,on.PURGE,on.MKCALENDAR,on.LINK,on.UNLINK,on.PRI,on.SOURCE];er.METHODS_ICE=[on.SOURCE];er.METHODS_RTSP=[on.OPTIONS,on.DESCRIBE,on.ANNOUNCE,on.SETUP,on.PLAY,on.PAUSE,on.TEARDOWN,on.GET_PARAMETER,on.SET_PARAMETER,on.REDIRECT,on.RECORD,on.FLUSH,on.GET,on.POST];er.METHOD_MAP=Vht.enumToMap(on);er.H_METHOD_MAP={};Object.keys(er.METHOD_MAP).forEach(e=>{/^H/.test(e)&&(er.H_METHOD_MAP[e]=er.METHOD_MAP[e])});var Kht;(function(e){e[e.SAFE=0]="SAFE",e[e.SAFE_WITH_CB=1]="SAFE_WITH_CB",e[e.UNSAFE=2]="UNSAFE"})(Kht=er.FINISH||(er.FINISH={}));er.ALPHA=[];for(let e=65;e<=90;e++)er.ALPHA.push(String.fromCharCode(e)),er.ALPHA.push(String.fromCharCode(e+32));er.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};er.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};er.NUM=["0","1","2","3","4","5","6","7","8","9"];er.ALPHANUM=er.ALPHA.concat(er.NUM);er.MARK=["-","_",".","!","~","*","'","(",")"];er.USERINFO_CHARS=er.ALPHANUM.concat(er.MARK).concat(["%",";",":","&","=","+","$",","]);er.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(er.ALPHANUM);er.URL_CHAR=er.STRICT_URL_CHAR.concat(["	","\f"]);for(let e=128;e<=255;e++)er.URL_CHAR.push(e);er.HEX=er.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);er.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(er.ALPHANUM);er.TOKEN=er.STRICT_TOKEN.concat([" "]);er.HEADER_CHARS=["	"];for(let e=32;e<=255;e++)e!==127&&er.HEADER_CHARS.push(e);er.CONNECTION_TOKEN_CHARS=er.HEADER_CHARS.filter(e=>e!==44);er.MAJOR=er.NUM_MAP;er.MINOR=er.MAJOR;var ZI;(function(e){e[e.GENERAL=0]="GENERAL",e[e.CONNECTION=1]="CONNECTION",e[e.CONTENT_LENGTH=2]="CONTENT_LENGTH",e[e.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",e[e.UPGRADE=4]="UPGRADE",e[e.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",e[e.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(ZI=er.HEADER_STATE||(er.HEADER_STATE={}));er.SPECIAL_HEADERS={connection:ZI.CONNECTION,"content-length":ZI.CONTENT_LENGTH,"proxy-connection":ZI.CONNECTION,"transfer-encoding":ZI.TRANSFER_ENCODING,upgrade:ZI.UPGRADE}});var pne=V((rqr,V9e)=>{"use strict";d();var{Buffer:Jht}=require("node:buffer");V9e.exports=Jht.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK07MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtXACAAQRhqQgA3AwAgAEIANwMAIABBOGpCADcDACAAQTBqQgA3AwAgAEEoakIANwMAIABBIGpCADcDACAAQRBqQgA3AwAgAEEIakIANwMAIABB3QE2AhwLBgAgABAyC5otAQt/IwBBEGsiCiQAQaTQACgCACIJRQRAQeTTACgCACIFRQRAQfDTAEJ/NwIAQejTAEKAgISAgIDAADcCAEHk0wAgCkEIakFwcUHYqtWqBXMiBTYCAEH40wBBADYCAEHI0wBBADYCAAtBzNMAQYDUBDYCAEGc0ABBgNQENgIAQbDQACAFNgIAQazQAEF/NgIAQdDTAEGArAM2AgADQCABQcjQAGogAUG80ABqIgI2AgAgAiABQbTQAGoiAzYCACABQcDQAGogAzYCACABQdDQAGogAUHE0ABqIgM2AgAgAyACNgIAIAFB2NAAaiABQczQAGoiAjYCACACIAM2AgAgAUHU0ABqIAI2AgAgAUEgaiIBQYACRw0AC0GM1ARBwasDNgIAQajQAEH00wAoAgA2AgBBmNAAQcCrAzYCAEGk0ABBiNQENgIAQcz/B0E4NgIAQYjUBCEJCwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB7AFNBEBBjNAAKAIAIgZBECAAQRNqQXBxIABBC0kbIgRBA3YiAHYiAUEDcQRAAkAgAUEBcSAAckEBcyICQQN0IgBBtNAAaiIBIABBvNAAaigCACIAKAIIIgNGBEBBjNAAIAZBfiACd3E2AgAMAQsgASADNgIIIAMgATYCDAsgAEEIaiEBIAAgAkEDdCICQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDBELQZTQACgCACIIIARPDQEgAQRAAkBBAiAAdCICQQAgAmtyIAEgAHRxaCIAQQN0IgJBtNAAaiIBIAJBvNAAaigCACICKAIIIgNGBEBBjNAAIAZBfiAAd3EiBjYCAAwBCyABIAM2AgggAyABNgIMCyACIARBA3I2AgQgAEEDdCIAIARrIQUgACACaiAFNgIAIAIgBGoiBCAFQQFyNgIEIAgEQCAIQXhxQbTQAGohAEGg0AAoAgAhAwJ/QQEgCEEDdnQiASAGcUUEQEGM0AAgASAGcjYCACAADAELIAAoAggLIgEgAzYCDCAAIAM2AgggAyAANgIMIAMgATYCCAsgAkEIaiEBQaDQACAENgIAQZTQACAFNgIADBELQZDQACgCACILRQ0BIAtoQQJ0QbzSAGooAgAiACgCBEF4cSAEayEFIAAhAgNAAkAgAigCECIBRQRAIAJBFGooAgAiAUUNAQsgASgCBEF4cSAEayIDIAVJIQIgAyAFIAIbIQUgASAAIAIbIQAgASECDAELCyAAKAIYIQkgACgCDCIDIABHBEBBnNAAKAIAGiADIAAoAggiATYCCCABIAM2AgwMEAsgAEEUaiICKAIAIgFFBEAgACgCECIBRQ0DIABBEGohAgsDQCACIQcgASIDQRRqIgIoAgAiAQ0AIANBEGohAiADKAIQIgENAAsgB0EANgIADA8LQX8hBCAAQb9/Sw0AIABBE2oiAUFwcSEEQZDQACgCACIIRQ0AQQAgBGshBQJAAkACQAJ/QQAgBEGAAkkNABpBHyAEQf///wdLDQAaIARBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBvNIAaigCACICRQRAQQAhAUEAIQMMAQtBACEBIARBGSAGQQF2a0EAIAZBH0cbdCEAQQAhAwNAAkAgAigCBEF4cSAEayIHIAVPDQAgAiEDIAciBQ0AQQAhBSACIQEMAwsgASACQRRqKAIAIgcgByACIABBHXZBBHFqQRBqKAIAIgJGGyABIAcbIQEgAEEBdCEAIAINAAsLIAEgA3JFBEBBACEDQQIgBnQiAEEAIABrciAIcSIARQ0DIABoQQJ0QbzSAGooAgAhAQsgAUUNAQsDQCABKAIEQXhxIARrIgIgBUkhACACIAUgABshBSABIAMgABshAyABKAIQIgAEfyAABSABQRRqKAIACyIBDQALCyADRQ0AIAVBlNAAKAIAIARrTw0AIAMoAhghByADIAMoAgwiAEcEQEGc0AAoAgAaIAAgAygCCCIBNgIIIAEgADYCDAwOCyADQRRqIgIoAgAiAUUEQCADKAIQIgFFDQMgA0EQaiECCwNAIAIhBiABIgBBFGoiAigCACIBDQAgAEEQaiECIAAoAhAiAQ0ACyAGQQA2AgAMDQtBlNAAKAIAIgMgBE8EQEGg0AAoAgAhAQJAIAMgBGsiAkEQTwRAIAEgBGoiACACQQFyNgIEIAEgA2ogAjYCACABIARBA3I2AgQMAQsgASADQQNyNgIEIAEgA2oiACAAKAIEQQFyNgIEQQAhAEEAIQILQZTQACACNgIAQaDQACAANgIAIAFBCGohAQwPC0GY0AAoAgAiAyAESwRAIAQgCWoiACADIARrIgFBAXI2AgRBpNAAIAA2AgBBmNAAIAE2AgAgCSAEQQNyNgIEIAlBCGohAQwPC0EAIQEgBAJ/QeTTACgCAARAQezTACgCAAwBC0Hw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBDGpBcHFB2KrVqgVzNgIAQfjTAEEANgIAQcjTAEEANgIAQYCABAsiACAEQccAaiIFaiIGQQAgAGsiB3EiAk8EQEH80wBBMDYCAAwPCwJAQcTTACgCACIBRQ0AQbzTACgCACIIIAJqIQAgACABTSAAIAhLcQ0AQQAhAUH80wBBMDYCAAwPC0HI0wAtAABBBHENBAJAAkAgCQRAQczTACEBA0AgASgCACIAIAlNBEAgACABKAIEaiAJSw0DCyABKAIIIgENAAsLQQAQMyIAQX9GDQUgAiEGQejTACgCACIBQQFrIgMgAHEEQCACIABrIAAgA2pBACABa3FqIQYLIAQgBk8NBSAGQf7///8HSw0FQcTTACgCACIDBEBBvNMAKAIAIgcgBmohASABIAdNDQYgASADSw0GCyAGEDMiASAARw0BDAcLIAYgA2sgB3EiBkH+////B0sNBCAGEDMhACAAIAEoAgAgASgCBGpGDQMgACEBCwJAIAYgBEHIAGpPDQAgAUF/Rg0AQezTACgCACIAIAUgBmtqQQAgAGtxIgBB/v///wdLBEAgASEADAcLIAAQM0F/RwRAIAAgBmohBiABIQAMBwtBACAGaxAzGgwECyABIgBBf0cNBQwDC0EAIQMMDAtBACEADAoLIABBf0cNAgtByNMAQcjTACgCAEEEcjYCAAsgAkH+////B0sNASACEDMhAEEAEDMhASAAQX9GDQEgAUF/Rg0BIAAgAU8NASABIABrIgYgBEE4ak0NAQtBvNMAQbzTACgCACAGaiIBNgIAQcDTACgCACABSQRAQcDTACABNgIACwJAAkACQEGk0AAoAgAiAgRAQczTACEBA0AgACABKAIAIgMgASgCBCIFakYNAiABKAIIIgENAAsMAgtBnNAAKAIAIgFBAEcgACABT3FFBEBBnNAAIAA2AgALQQAhAUHQ0wAgBjYCAEHM0wAgADYCAEGs0ABBfzYCAEGw0ABB5NMAKAIANgIAQdjTAEEANgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBeCAAa0EPcSIBIABqIgIgBkE4ayIDIAFrIgFBAXI2AgRBqNAAQfTTACgCADYCAEGY0AAgATYCAEGk0AAgAjYCACAAIANqQTg2AgQMAgsgACACTQ0AIAIgA0kNACABKAIMQQhxDQBBeCACa0EPcSIAIAJqIgNBmNAAKAIAIAZqIgcgAGsiAEEBcjYCBCABIAUgBmo2AgRBqNAAQfTTACgCADYCAEGY0AAgADYCAEGk0AAgAzYCACACIAdqQTg2AgQMAQsgAEGc0AAoAgBJBEBBnNAAIAA2AgALIAAgBmohA0HM0wAhAQJAAkACQANAIAMgASgCAEcEQCABKAIIIgENAQwCCwsgAS0ADEEIcUUNAQtBzNMAIQEDQCABKAIAIgMgAk0EQCADIAEoAgRqIgUgAksNAwsgASgCCCEBDAALAAsgASAANgIAIAEgASgCBCAGajYCBCAAQXggAGtBD3FqIgkgBEEDcjYCBCADQXggA2tBD3FqIgYgBCAJaiIEayEBIAIgBkYEQEGk0AAgBDYCAEGY0ABBmNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEDAgLQaDQACgCACAGRgRAQaDQACAENgIAQZTQAEGU0AAoAgAgAWoiADYCACAEIABBAXI2AgQgACAEaiAANgIADAgLIAYoAgQiBUEDcUEBRw0GIAVBeHEhCCAFQf8BTQRAIAVBA3YhAyAGKAIIIgAgBigCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBwsgAiAANgIIIAAgAjYCDAwGCyAGKAIYIQcgBiAGKAIMIgBHBEAgACAGKAIIIgI2AgggAiAANgIMDAULIAZBFGoiAigCACIFRQRAIAYoAhAiBUUNBCAGQRBqIQILA0AgAiEDIAUiAEEUaiICKAIAIgUNACAAQRBqIQIgACgCECIFDQALIANBADYCAAwEC0F4IABrQQ9xIgEgAGoiByAGQThrIgMgAWsiAUEBcjYCBCAAIANqQTg2AgQgAiAFQTcgBWtBD3FqQT9rIgMgAyACQRBqSRsiA0EjNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAc2AgAgA0EQakHU0wApAgA3AgAgA0HM0wApAgA3AghB1NMAIANBCGo2AgBB0NMAIAY2AgBBzNMAIAA2AgBB2NMAQQA2AgAgA0EkaiEBA0AgAUEHNgIAIAUgAUEEaiIBSw0ACyACIANGDQAgAyADKAIEQX5xNgIEIAMgAyACayIFNgIAIAIgBUEBcjYCBCAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIDcUUEQEGM0AAgASADcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEGQ0AAoAgAiA0EBIAF0IgZxRQRAIAAgAjYCAEGQ0AAgAyAGcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQMCQANAIAMiACgCBEF4cSAFRg0BIAFBHXYhAyABQQF0IQEgACADQQRxakEQaiIGKAIAIgMNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAtBmNAAKAIAIgEgBE0NAEGk0AAoAgAiACAEaiICIAEgBGsiAUEBcjYCBEGY0AAgATYCAEGk0AAgAjYCACAAIARBA3I2AgQgAEEIaiEBDAgLQQAhAUH80wBBMDYCAAwHC0EAIQALIAdFDQACQCAGKAIcIgJBAnRBvNIAaiIDKAIAIAZGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAdBEEEUIAcoAhAgBkYbaiAANgIAIABFDQELIAAgBzYCGCAGKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAGQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAIaiEBIAYgCGoiBigCBCEFCyAGIAVBfnE2AgQgASAEaiABNgIAIAQgAUEBcjYCBCABQf8BTQRAIAFBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASABQQN2dCIBcUUEQEGM0AAgASACcjYCACAADAELIAAoAggLIgEgBDYCDCAAIAQ2AgggBCAANgIMIAQgATYCCAwBC0EfIQUgAUH///8HTQRAIAFBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmohBQsgBCAFNgIcIARCADcCECAFQQJ0QbzSAGohAEGQ0AAoAgAiAkEBIAV0IgNxRQRAIAAgBDYCAEGQ0AAgAiADcjYCACAEIAA2AhggBCAENgIIIAQgBDYCDAwBCyABQRkgBUEBdmtBACAFQR9HG3QhBSAAKAIAIQACQANAIAAiAigCBEF4cSABRg0BIAVBHXYhACAFQQF0IQUgAiAAQQRxakEQaiIDKAIAIgANAAsgAyAENgIAIAQgAjYCGCAEIAQ2AgwgBCAENgIIDAELIAIoAggiACAENgIMIAIgBDYCCCAEQQA2AhggBCACNgIMIAQgADYCCAsgCUEIaiEBDAILAkAgB0UNAAJAIAMoAhwiAUECdEG80gBqIgIoAgAgA0YEQCACIAA2AgAgAA0BQZDQACAIQX4gAXdxIgg2AgAMAgsgB0EQQRQgBygCECADRhtqIAA2AgAgAEUNAQsgACAHNgIYIAMoAhAiAQRAIAAgATYCECABIAA2AhgLIANBFGooAgAiAUUNACAAQRRqIAE2AgAgASAANgIYCwJAIAVBD00EQCADIAQgBWoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARqIgIgBUEBcjYCBCADIARBA3I2AgQgAiAFaiAFNgIAIAVB/wFNBEAgBUF4cUG00ABqIQACf0GM0AAoAgAiAUEBIAVBA3Z0IgVxRQRAQYzQACABIAVyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRBvNIAaiEAQQEgAXQiBCAIcUUEQCAAIAI2AgBBkNAAIAQgCHI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEEAkADQCAEIgAoAgRBeHEgBUYNASABQR12IQQgAUEBdCEBIAAgBEEEcWpBEGoiBigCACIEDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLIANBCGohAQwBCwJAIAlFDQACQCAAKAIcIgFBAnRBvNIAaiICKAIAIABGBEAgAiADNgIAIAMNAUGQ0AAgC0F+IAF3cTYCAAwCCyAJQRBBFCAJKAIQIABGG2ogAzYCACADRQ0BCyADIAk2AhggACgCECIBBEAgAyABNgIQIAEgAzYCGAsgAEEUaigCACIBRQ0AIANBFGogATYCACABIAM2AhgLAkAgBUEPTQRAIAAgBCAFaiIBQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEDAELIAAgBGoiByAFQQFyNgIEIAAgBEEDcjYCBCAFIAdqIAU2AgAgCARAIAhBeHFBtNAAaiEBQaDQACgCACEDAn9BASAIQQN2dCICIAZxRQRAQYzQACACIAZyNgIAIAEMAQsgASgCCAsiAiADNgIMIAEgAzYCCCADIAE2AgwgAyACNgIIC0Gg0AAgBzYCAEGU0AAgBTYCAAsgAEEIaiEBCyAKQRBqJAAgAQtDACAARQRAPwBBEHQPCwJAIABB//8DcQ0AIABBAEgNACAAQRB2QAAiAEF/RgRAQfzTAEEwNgIAQX8PCyAAQRB0DwsACwvcPyIAQYAICwkBAAAAAgAAAAMAQZQICwUEAAAABQBBpAgLCQYAAAAHAAAACABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var $9e=V((iqr,j9e)=>{"use strict";d();var{Buffer:Xht}=require("node:buffer");j9e.exports=Xht.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK77MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtzACAAQRBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAA/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQTBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQSBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQd0BNgIcCwYAIAAQMguaLQELfyMAQRBrIgokAEGk0AAoAgAiCUUEQEHk0wAoAgAiBUUEQEHw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBCGpBcHFB2KrVqgVzIgU2AgBB+NMAQQA2AgBByNMAQQA2AgALQczTAEGA1AQ2AgBBnNAAQYDUBDYCAEGw0AAgBTYCAEGs0ABBfzYCAEHQ0wBBgKwDNgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBjNQEQcGrAzYCAEGo0ABB9NMAKAIANgIAQZjQAEHAqwM2AgBBpNAAQYjUBDYCAEHM/wdBODYCAEGI1AQhCQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAQewBTQRAQYzQACgCACIGQRAgAEETakFwcSAAQQtJGyIEQQN2IgB2IgFBA3EEQAJAIAFBAXEgAHJBAXMiAkEDdCIAQbTQAGoiASAAQbzQAGooAgAiACgCCCIDRgRAQYzQACAGQX4gAndxNgIADAELIAEgAzYCCCADIAE2AgwLIABBCGohASAAIAJBA3QiAkEDcjYCBCAAIAJqIgAgACgCBEEBcjYCBAwRC0GU0AAoAgAiCCAETw0BIAEEQAJAQQIgAHQiAkEAIAJrciABIAB0cWgiAEEDdCICQbTQAGoiASACQbzQAGooAgAiAigCCCIDRgRAQYzQACAGQX4gAHdxIgY2AgAMAQsgASADNgIIIAMgATYCDAsgAiAEQQNyNgIEIABBA3QiACAEayEFIAAgAmogBTYCACACIARqIgQgBUEBcjYCBCAIBEAgCEF4cUG00ABqIQBBoNAAKAIAIQMCf0EBIAhBA3Z0IgEgBnFFBEBBjNAAIAEgBnI2AgAgAAwBCyAAKAIICyIBIAM2AgwgACADNgIIIAMgADYCDCADIAE2AggLIAJBCGohAUGg0AAgBDYCAEGU0AAgBTYCAAwRC0GQ0AAoAgAiC0UNASALaEECdEG80gBqKAIAIgAoAgRBeHEgBGshBSAAIQIDQAJAIAIoAhAiAUUEQCACQRRqKAIAIgFFDQELIAEoAgRBeHEgBGsiAyAFSSECIAMgBSACGyEFIAEgACACGyEAIAEhAgwBCwsgACgCGCEJIAAoAgwiAyAARwRAQZzQACgCABogAyAAKAIIIgE2AgggASADNgIMDBALIABBFGoiAigCACIBRQRAIAAoAhAiAUUNAyAAQRBqIQILA0AgAiEHIAEiA0EUaiICKAIAIgENACADQRBqIQIgAygCECIBDQALIAdBADYCAAwPC0F/IQQgAEG/f0sNACAAQRNqIgFBcHEhBEGQ0AAoAgAiCEUNAEEAIARrIQUCQAJAAkACf0EAIARBgAJJDQAaQR8gBEH///8HSw0AGiAEQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qCyIGQQJ0QbzSAGooAgAiAkUEQEEAIQFBACEDDAELQQAhASAEQRkgBkEBdmtBACAGQR9HG3QhAEEAIQMDQAJAIAIoAgRBeHEgBGsiByAFTw0AIAIhAyAHIgUNAEEAIQUgAiEBDAMLIAEgAkEUaigCACIHIAcgAiAAQR12QQRxakEQaigCACICRhsgASAHGyEBIABBAXQhACACDQALCyABIANyRQRAQQAhA0ECIAZ0IgBBACAAa3IgCHEiAEUNAyAAaEECdEG80gBqKAIAIQELIAFFDQELA0AgASgCBEF4cSAEayICIAVJIQAgAiAFIAAbIQUgASADIAAbIQMgASgCECIABH8gAAUgAUEUaigCAAsiAQ0ACwsgA0UNACAFQZTQACgCACAEa08NACADKAIYIQcgAyADKAIMIgBHBEBBnNAAKAIAGiAAIAMoAggiATYCCCABIAA2AgwMDgsgA0EUaiICKAIAIgFFBEAgAygCECIBRQ0DIANBEGohAgsDQCACIQYgASIAQRRqIgIoAgAiAQ0AIABBEGohAiAAKAIQIgENAAsgBkEANgIADA0LQZTQACgCACIDIARPBEBBoNAAKAIAIQECQCADIARrIgJBEE8EQCABIARqIgAgAkEBcjYCBCABIANqIAI2AgAgASAEQQNyNgIEDAELIAEgA0EDcjYCBCABIANqIgAgACgCBEEBcjYCBEEAIQBBACECC0GU0AAgAjYCAEGg0AAgADYCACABQQhqIQEMDwtBmNAAKAIAIgMgBEsEQCAEIAlqIgAgAyAEayIBQQFyNgIEQaTQACAANgIAQZjQACABNgIAIAkgBEEDcjYCBCAJQQhqIQEMDwtBACEBIAQCf0Hk0wAoAgAEQEHs0wAoAgAMAQtB8NMAQn83AgBB6NMAQoCAhICAgMAANwIAQeTTACAKQQxqQXBxQdiq1aoFczYCAEH40wBBADYCAEHI0wBBADYCAEGAgAQLIgAgBEHHAGoiBWoiBkEAIABrIgdxIgJPBEBB/NMAQTA2AgAMDwsCQEHE0wAoAgAiAUUNAEG80wAoAgAiCCACaiEAIAAgAU0gACAIS3ENAEEAIQFB/NMAQTA2AgAMDwtByNMALQAAQQRxDQQCQAJAIAkEQEHM0wAhAQNAIAEoAgAiACAJTQRAIAAgASgCBGogCUsNAwsgASgCCCIBDQALC0EAEDMiAEF/Rg0FIAIhBkHo0wAoAgAiAUEBayIDIABxBEAgAiAAayAAIANqQQAgAWtxaiEGCyAEIAZPDQUgBkH+////B0sNBUHE0wAoAgAiAwRAQbzTACgCACIHIAZqIQEgASAHTQ0GIAEgA0sNBgsgBhAzIgEgAEcNAQwHCyAGIANrIAdxIgZB/v///wdLDQQgBhAzIQAgACABKAIAIAEoAgRqRg0DIAAhAQsCQCAGIARByABqTw0AIAFBf0YNAEHs0wAoAgAiACAFIAZrakEAIABrcSIAQf7///8HSwRAIAEhAAwHCyAAEDNBf0cEQCAAIAZqIQYgASEADAcLQQAgBmsQMxoMBAsgASIAQX9HDQUMAwtBACEDDAwLQQAhAAwKCyAAQX9HDQILQcjTAEHI0wAoAgBBBHI2AgALIAJB/v///wdLDQEgAhAzIQBBABAzIQEgAEF/Rg0BIAFBf0YNASAAIAFPDQEgASAAayIGIARBOGpNDQELQbzTAEG80wAoAgAgBmoiATYCAEHA0wAoAgAgAUkEQEHA0wAgATYCAAsCQAJAAkBBpNAAKAIAIgIEQEHM0wAhAQNAIAAgASgCACIDIAEoAgQiBWpGDQIgASgCCCIBDQALDAILQZzQACgCACIBQQBHIAAgAU9xRQRAQZzQACAANgIAC0EAIQFB0NMAIAY2AgBBzNMAIAA2AgBBrNAAQX82AgBBsNAAQeTTACgCADYCAEHY0wBBADYCAANAIAFByNAAaiABQbzQAGoiAjYCACACIAFBtNAAaiIDNgIAIAFBwNAAaiADNgIAIAFB0NAAaiABQcTQAGoiAzYCACADIAI2AgAgAUHY0ABqIAFBzNAAaiICNgIAIAIgAzYCACABQdTQAGogAjYCACABQSBqIgFBgAJHDQALQXggAGtBD3EiASAAaiICIAZBOGsiAyABayIBQQFyNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAI2AgAgACADakE4NgIEDAILIAAgAk0NACACIANJDQAgASgCDEEIcQ0AQXggAmtBD3EiACACaiIDQZjQACgCACAGaiIHIABrIgBBAXI2AgQgASAFIAZqNgIEQajQAEH00wAoAgA2AgBBmNAAIAA2AgBBpNAAIAM2AgAgAiAHakE4NgIEDAELIABBnNAAKAIASQRAQZzQACAANgIACyAAIAZqIQNBzNMAIQECQAJAAkADQCADIAEoAgBHBEAgASgCCCIBDQEMAgsLIAEtAAxBCHFFDQELQczTACEBA0AgASgCACIDIAJNBEAgAyABKAIEaiIFIAJLDQMLIAEoAgghAQwACwALIAEgADYCACABIAEoAgQgBmo2AgQgAEF4IABrQQ9xaiIJIARBA3I2AgQgA0F4IANrQQ9xaiIGIAQgCWoiBGshASACIAZGBEBBpNAAIAQ2AgBBmNAAQZjQACgCACABaiIANgIAIAQgAEEBcjYCBAwIC0Gg0AAoAgAgBkYEQEGg0AAgBDYCAEGU0ABBlNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwICyAGKAIEIgVBA3FBAUcNBiAFQXhxIQggBUH/AU0EQCAFQQN2IQMgBigCCCIAIAYoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAcLIAIgADYCCCAAIAI2AgwMBgsgBigCGCEHIAYgBigCDCIARwRAIAAgBigCCCICNgIIIAIgADYCDAwFCyAGQRRqIgIoAgAiBUUEQCAGKAIQIgVFDQQgBkEQaiECCwNAIAIhAyAFIgBBFGoiAigCACIFDQAgAEEQaiECIAAoAhAiBQ0ACyADQQA2AgAMBAtBeCAAa0EPcSIBIABqIgcgBkE4ayIDIAFrIgFBAXI2AgQgACADakE4NgIEIAIgBUE3IAVrQQ9xakE/ayIDIAMgAkEQakkbIgNBIzYCBEGo0ABB9NMAKAIANgIAQZjQACABNgIAQaTQACAHNgIAIANBEGpB1NMAKQIANwIAIANBzNMAKQIANwIIQdTTACADQQhqNgIAQdDTACAGNgIAQczTACAANgIAQdjTAEEANgIAIANBJGohAQNAIAFBBzYCACAFIAFBBGoiAUsNAAsgAiADRg0AIAMgAygCBEF+cTYCBCADIAMgAmsiBTYCACACIAVBAXI2AgQgBUH/AU0EQCAFQXhxQbTQAGohAAJ/QYzQACgCACIBQQEgBUEDdnQiA3FFBEBBjNAAIAEgA3I2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEG80gBqIQBBkNAAKAIAIgNBASABdCIGcUUEQCAAIAI2AgBBkNAAIAMgBnI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEDAkADQCADIgAoAgRBeHEgBUYNASABQR12IQMgAUEBdCEBIAAgA0EEcWpBEGoiBigCACIDDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLQZjQACgCACIBIARNDQBBpNAAKAIAIgAgBGoiAiABIARrIgFBAXI2AgRBmNAAIAE2AgBBpNAAIAI2AgAgACAEQQNyNgIEIABBCGohAQwIC0EAIQFB/NMAQTA2AgAMBwtBACEACyAHRQ0AAkAgBigCHCICQQJ0QbzSAGoiAygCACAGRgRAIAMgADYCACAADQFBkNAAQZDQACgCAEF+IAJ3cTYCAAwCCyAHQRBBFCAHKAIQIAZGG2ogADYCACAARQ0BCyAAIAc2AhggBigCECICBEAgACACNgIQIAIgADYCGAsgBkEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgCGohASAGIAhqIgYoAgQhBQsgBiAFQX5xNgIEIAEgBGogATYCACAEIAFBAXI2AgQgAUH/AU0EQCABQXhxQbTQAGohAAJ/QYzQACgCACICQQEgAUEDdnQiAXFFBEBBjNAAIAEgAnI2AgAgAAwBCyAAKAIICyIBIAQ2AgwgACAENgIIIAQgADYCDCAEIAE2AggMAQtBHyEFIAFB////B00EQCABQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qIQULIAQgBTYCHCAEQgA3AhAgBUECdEG80gBqIQBBkNAAKAIAIgJBASAFdCIDcUUEQCAAIAQ2AgBBkNAAIAIgA3I2AgAgBCAANgIYIAQgBDYCCCAEIAQ2AgwMAQsgAUEZIAVBAXZrQQAgBUEfRxt0IQUgACgCACEAAkADQCAAIgIoAgRBeHEgAUYNASAFQR12IQAgBUEBdCEFIAIgAEEEcWpBEGoiAygCACIADQALIAMgBDYCACAEIAI2AhggBCAENgIMIAQgBDYCCAwBCyACKAIIIgAgBDYCDCACIAQ2AgggBEEANgIYIAQgAjYCDCAEIAA2AggLIAlBCGohAQwCCwJAIAdFDQACQCADKAIcIgFBAnRBvNIAaiICKAIAIANGBEAgAiAANgIAIAANAUGQ0AAgCEF+IAF3cSIINgIADAILIAdBEEEUIAcoAhAgA0YbaiAANgIAIABFDQELIAAgBzYCGCADKAIQIgEEQCAAIAE2AhAgASAANgIYCyADQRRqKAIAIgFFDQAgAEEUaiABNgIAIAEgADYCGAsCQCAFQQ9NBEAgAyAEIAVqIgBBA3I2AgQgACADaiIAIAAoAgRBAXI2AgQMAQsgAyAEaiICIAVBAXI2AgQgAyAEQQNyNgIEIAIgBWogBTYCACAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIFcUUEQEGM0AAgASAFcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEEBIAF0IgQgCHFFBEAgACACNgIAQZDQACAEIAhyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhBAJAA0AgBCIAKAIEQXhxIAVGDQEgAUEddiEEIAFBAXQhASAAIARBBHFqQRBqIgYoAgAiBA0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIICyADQQhqIQEMAQsCQCAJRQ0AAkAgACgCHCIBQQJ0QbzSAGoiAigCACAARgRAIAIgAzYCACADDQFBkNAAIAtBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAARhtqIAM2AgAgA0UNAQsgAyAJNgIYIAAoAhAiAQRAIAMgATYCECABIAM2AhgLIABBFGooAgAiAUUNACADQRRqIAE2AgAgASADNgIYCwJAIAVBD00EQCAAIAQgBWoiAUEDcjYCBCAAIAFqIgEgASgCBEEBcjYCBAwBCyAAIARqIgcgBUEBcjYCBCAAIARBA3I2AgQgBSAHaiAFNgIAIAgEQCAIQXhxQbTQAGohAUGg0AAoAgAhAwJ/QQEgCEEDdnQiAiAGcUUEQEGM0AAgAiAGcjYCACABDAELIAEoAggLIgIgAzYCDCABIAM2AgggAyABNgIMIAMgAjYCCAtBoNAAIAc2AgBBlNAAIAU2AgALIABBCGohAQsgCkEQaiQAIAELQwAgAEUEQD8AQRB0DwsCQCAAQf//A3ENACAAQQBIDQAgAEEQdkAAIgBBf0YEQEH80wBBMDYCAEF/DwsgAEEQdA8LAAsL3D8iAEGACAsJAQAAAAIAAAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var eS=V((sqr,t7e)=>{"use strict";d();var z9e=["GET","HEAD","POST"],Zht=new Set(z9e),ept=[101,204,205,304],Y9e=[301,302,303,307,308],tpt=new Set(Y9e),K9e=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],rpt=new Set(K9e),J9e=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],npt=new Set(J9e),ipt=["follow","manual","error"],X9e=["GET","HEAD","OPTIONS","TRACE"],opt=new Set(X9e),spt=["navigate","same-origin","no-cors","cors"],apt=["omit","same-origin","include"],lpt=["default","no-store","reload","no-cache","force-cache","only-if-cached"],cpt=["content-encoding","content-language","content-location","content-type","content-length"],upt=["half"],Z9e=["CONNECT","TRACE","TRACK"],fpt=new Set(Z9e),e7e=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],dpt=new Set(e7e);t7e.exports={subresource:e7e,forbiddenMethods:Z9e,requestBodyHeader:cpt,referrerPolicy:J9e,requestRedirect:ipt,requestMode:spt,requestCredentials:apt,requestCache:lpt,redirectStatus:Y9e,corsSafeListedMethods:z9e,nullBodyStatus:ept,safeMethods:X9e,badPorts:K9e,requestDuplex:upt,subresourceSet:dpt,badPortsSet:rpt,redirectStatusSet:tpt,corsSafeListedMethodsSet:Zht,safeMethodsSet:opt,forbiddenMethodsSet:fpt,referrerPolicySet:npt}});var Ane=V((lqr,r7e)=>{"use strict";d();var gne=Symbol.for("undici.globalOrigin.1");function mpt(){return globalThis[gne]}o(mpt,"getGlobalOrigin");function hpt(e){if(e===void 0){Object.defineProperty(globalThis,gne,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let t=new URL(e);if(t.protocol!=="http:"&&t.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${t.protocol}`);Object.defineProperty(globalThis,gne,{value:t,writable:!0,enumerable:!1,configurable:!1})}o(hpt,"setGlobalOrigin");r7e.exports={getGlobalOrigin:mpt,setGlobalOrigin:hpt}});var zc=V((fqr,c7e)=>{"use strict";d();var RO=require("node:assert"),ppt=new TextEncoder,tS=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,gpt=/[\u000A\u000D\u0009\u0020]/,Apt=/[\u0009\u000A\u000C\u000D\u0020]/g,ypt=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function Cpt(e){RO(e.protocol==="data:");let t=o7e(e,!0);t=t.slice(5);let r={position:0},n=e8(",",t,r),i=n.length;if(n=Tpt(n,!0,!0),r.position>=t.length)return"failure";r.position++;let s=t.slice(i+1),a=s7e(s);if(/;(\u0020){0,}base64$/i.test(n)){let c=l7e(a);if(a=Ept(c),a==="failure")return"failure";n=n.slice(0,-6),n=n.replace(/(\u0020)+$/,""),n=n.slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let l=yne(n);return l==="failure"&&(l=yne("text/plain;charset=US-ASCII")),{mimeType:l,body:a}}o(Cpt,"dataURLProcessor");function o7e(e,t=!1){if(!t)return e.href;let r=e.href,n=e.hash.length,i=n===0?r:r.substring(0,r.length-n);return!n&&r.endsWith("#")?i.slice(0,-1):i}o(o7e,"URLSerializer");function DO(e,t,r){let n="";for(;r.position<t.length&&e(t[r.position]);)n+=t[r.position],r.position++;return n}o(DO,"collectASequenceOfCodePoints");function e8(e,t,r){let n=t.indexOf(e,r.position),i=r.position;return n===-1?(r.position=t.length,t.slice(i)):(r.position=n,t.slice(i,r.position))}o(e8,"collectASequenceOfCodePointsFast");function s7e(e){let t=ppt.encode(e);return xpt(t)}o(s7e,"stringPercentDecode");function n7e(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}o(n7e,"isHexCharByte");function i7e(e){return e>=48&&e<=57?e-48:(e&223)-55}o(i7e,"hexByteToNumber");function xpt(e){let t=e.length,r=new Uint8Array(t),n=0;for(let i=0;i<t;++i){let s=e[i];s!==37?r[n++]=s:s===37&&!(n7e(e[i+1])&&n7e(e[i+2]))?r[n++]=37:(r[n++]=i7e(e[i+1])<<4|i7e(e[i+2]),i+=2)}return t===n?r:r.subarray(0,n)}o(xpt,"percentDecode");function yne(e){e=BO(e,!0,!0);let t={position:0},r=e8("/",e,t);if(r.length===0||!tS.test(r)||t.position>e.length)return"failure";t.position++;let n=e8(";",e,t);if(n=BO(n,!1,!0),n.length===0||!tS.test(n))return"failure";let i=r.toLowerCase(),s=n.toLowerCase(),a={type:i,subtype:s,parameters:new Map,essence:`${i}/${s}`};for(;t.position<e.length;){t.position++,DO(u=>gpt.test(u),e,t);let l=DO(u=>u!==";"&&u!=="=",e,t);if(l=l.toLowerCase(),t.position<e.length){if(e[t.position]===";")continue;t.position++}if(t.position>e.length)break;let c=null;if(e[t.position]==='"')c=a7e(e,t,!0),e8(";",e,t);else if(c=e8(";",e,t),c=BO(c,!1,!0),c.length===0)continue;l.length!==0&&tS.test(l)&&(c.length===0||ypt.test(c))&&!a.parameters.has(l)&&a.parameters.set(l,c)}return a}o(yne,"parseMIMEType");function Ept(e){e=e.replace(Apt,"");let t=e.length;if(t%4===0&&e.charCodeAt(t-1)===61&&(--t,e.charCodeAt(t-1)===61&&--t),t%4===1||/[^+/0-9A-Za-z]/.test(e.length===t?e:e.substring(0,t)))return"failure";let r=Buffer.from(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}o(Ept,"forgivingBase64");function a7e(e,t,r){let n=t.position,i="";for(RO(e[t.position]==='"'),t.position++;i+=DO(a=>a!=='"'&&a!=="\\",e,t),!(t.position>=e.length);){let s=e[t.position];if(t.position++,s==="\\"){if(t.position>=e.length){i+="\\";break}i+=e[t.position],t.position++}else{RO(s==='"');break}}return r?i:e.slice(n,t.position)}o(a7e,"collectAnHTTPQuotedString");function bpt(e){RO(e!=="failure");let{parameters:t,essence:r}=e,n=r;for(let[i,s]of t.entries())n+=";",n+=i,n+="=",tS.test(s)||(s=s.replace(/(\\|")/g,"\\$1"),s='"'+s,s+='"'),n+=s;return n}o(bpt,"serializeAMimeType");function vpt(e){return e===13||e===10||e===9||e===32}o(vpt,"isHTTPWhiteSpace");function BO(e,t=!0,r=!0){return Cne(e,t,r,vpt)}o(BO,"removeHTTPWhitespace");function Ipt(e){return e===13||e===10||e===9||e===12||e===32}o(Ipt,"isASCIIWhitespace");function Tpt(e,t=!0,r=!0){return Cne(e,t,r,Ipt)}o(Tpt,"removeASCIIWhitespace");function Cne(e,t,r,n){let i=0,s=e.length-1;if(t)for(;i<e.length&&n(e.charCodeAt(i));)i++;if(r)for(;s>0&&n(e.charCodeAt(s));)s--;return i===0&&s===e.length-1?e:e.slice(i,s+1)}o(Cne,"removeChars");function l7e(e){let t=e.length;if(65535>t)return String.fromCharCode.apply(null,e);let r="",n=0,i=65535;for(;n<t;)n+i>t&&(i=t-n),r+=String.fromCharCode.apply(null,e.subarray(n,n+=i));return r}o(l7e,"isomorphicDecode");function wpt(e){switch(e.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return e.subtype.endsWith("+json")?"application/json":e.subtype.endsWith("+xml")?"application/xml":""}o(wpt,"minimizeSupportedMimeType");c7e.exports={dataURLProcessor:Cpt,URLSerializer:o7e,collectASequenceOfCodePoints:DO,collectASequenceOfCodePointsFast:e8,stringPercentDecode:s7e,parseMIMEType:yne,collectAnHTTPQuotedString:a7e,serializeAMimeType:bpt,removeChars:Cne,removeHTTPWhitespace:BO,minimizeSupportedMimeType:wpt,HTTP_TOKEN_CODEPOINTS:tS,isomorphicDecode:l7e}});var zl=V((hqr,u7e)=>{"use strict";d();var{types:Np,inspect:Spt}=require("node:util"),{markAsUncloneable:_pt}=require("node:worker_threads"),{toUSVString:kpt}=ui(),Ht={};Ht.converters={};Ht.util={};Ht.errors={};Ht.errors.exception=function(e){return new TypeError(`${e.header}: ${e.message}`)};Ht.errors.conversionFailed=function(e){let t=e.types.length===1?"":" one of",r=`${e.argument} could not be converted to${t}: ${e.types.join(", ")}.`;return Ht.errors.exception({header:e.prefix,message:r})};Ht.errors.invalidArgument=function(e){return Ht.errors.exception({header:e.prefix,message:`"${e.value}" is an invalid ${e.type}.`})};Ht.brandCheck=function(e,t,r){if(r?.strict!==!1){if(!(e instanceof t)){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}}else if(e?.[Symbol.toStringTag]!==t.prototype[Symbol.toStringTag]){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}};Ht.argumentLengthCheck=function({length:e},t,r){if(e<t)throw Ht.errors.exception({message:`${t} argument${t!==1?"s":""} required, but${e?" only":""} ${e} found.`,header:r})};Ht.illegalConstructor=function(){throw Ht.errors.exception({header:"TypeError",message:"Illegal constructor"})};Ht.util.Type=function(e){switch(typeof e){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return e===null?"Null":"Object"}};Ht.util.markAsUncloneable=_pt||(()=>{});Ht.util.ConvertToInt=function(e,t,r,n){let i,s;t===64?(i=Math.pow(2,53)-1,r==="unsigned"?s=0:s=Math.pow(-2,53)+1):r==="unsigned"?(s=0,i=Math.pow(2,t)-1):(s=Math.pow(-2,t)-1,i=Math.pow(2,t-1)-1);let a=Number(e);if(a===0&&(a=0),n?.enforceRange===!0){if(Number.isNaN(a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)throw Ht.errors.exception({header:"Integer conversion",message:`Could not convert ${Ht.util.Stringify(e)} to an integer.`});if(a=Ht.util.IntegerPart(a),a<s||a>i)throw Ht.errors.exception({header:"Integer conversion",message:`Value must be between ${s}-${i}, got ${a}.`});return a}return!Number.isNaN(a)&&n?.clamp===!0?(a=Math.min(Math.max(a,s),i),Math.floor(a)%2===0?a=Math.floor(a):a=Math.ceil(a),a):Number.isNaN(a)||a===0&&Object.is(0,a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY?0:(a=Ht.util.IntegerPart(a),a=a%Math.pow(2,t),r==="signed"&&a>=Math.pow(2,t)-1?a-Math.pow(2,t):a)};Ht.util.IntegerPart=function(e){let t=Math.floor(Math.abs(e));return e<0?-1*t:t};Ht.util.Stringify=function(e){switch(Ht.util.Type(e)){case"Symbol":return`Symbol(${e.description})`;case"Object":return Spt(e);case"String":return`"${e}"`;default:return`${e}`}};Ht.sequenceConverter=function(e){return(t,r,n,i)=>{if(Ht.util.Type(t)!=="Object")throw Ht.errors.exception({header:r,message:`${n} (${Ht.util.Stringify(t)}) is not iterable.`});let s=typeof i=="function"?i():t?.[Symbol.iterator]?.(),a=[],l=0;if(s===void 0||typeof s.next!="function")throw Ht.errors.exception({header:r,message:`${n} is not iterable.`});for(;;){let{done:c,value:u}=s.next();if(c)break;a.push(e(u,r,`${n}[${l++}]`))}return a}};Ht.recordConverter=function(e,t){return(r,n,i)=>{if(Ht.util.Type(r)!=="Object")throw Ht.errors.exception({header:n,message:`${i} ("${Ht.util.Type(r)}") is not an Object.`});let s={};if(!Np.isProxy(r)){let l=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let c of l){let u=e(c,n,i),f=t(r[c],n,i);s[u]=f}return s}let a=Reflect.ownKeys(r);for(let l of a)if(Reflect.getOwnPropertyDescriptor(r,l)?.enumerable){let u=e(l,n,i),f=t(r[l],n,i);s[u]=f}return s}};Ht.interfaceConverter=function(e){return(t,r,n,i)=>{if(i?.strict!==!1&&!(t instanceof e))throw Ht.errors.exception({header:r,message:`Expected ${n} ("${Ht.util.Stringify(t)}") to be an instance of ${e.name}.`});return t}};Ht.dictionaryConverter=function(e){return(t,r,n)=>{let i=Ht.util.Type(t),s={};if(i==="Null"||i==="Undefined")return s;if(i!=="Object")throw Ht.errors.exception({header:r,message:`Expected ${t} to be one of: Null, Undefined, Object.`});for(let a of e){let{key:l,defaultValue:c,required:u,converter:f}=a;if(u===!0&&!Object.hasOwn(t,l))throw Ht.errors.exception({header:r,message:`Missing required key "${l}".`});let m=t[l],h=Object.hasOwn(a,"defaultValue");if(h&&m!==null&&(m??=c()),u||h||m!==void 0){if(m=f(m,r,`${n}.${l}`),a.allowedValues&&!a.allowedValues.includes(m))throw Ht.errors.exception({header:r,message:`${m} is not an accepted type. Expected one of ${a.allowedValues.join(", ")}.`});s[l]=m}}return s}};Ht.nullableConverter=function(e){return(t,r,n)=>t===null?t:e(t,r,n)};Ht.converters.DOMString=function(e,t,r,n){if(e===null&&n?.legacyNullToEmptyString)return"";if(typeof e=="symbol")throw Ht.errors.exception({header:t,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(e)};Ht.converters.ByteString=function(e,t,r){let n=Ht.converters.DOMString(e,t,r);for(let i=0;i<n.length;i++)if(n.charCodeAt(i)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${i} has a value of ${n.charCodeAt(i)} which is greater than 255.`);return n};Ht.converters.USVString=kpt;Ht.converters.boolean=function(e){return!!e};Ht.converters.any=function(e){return e};Ht.converters["long long"]=function(e,t,r){return Ht.util.ConvertToInt(e,64,"signed",void 0,t,r)};Ht.converters["unsigned long long"]=function(e,t,r){return Ht.util.ConvertToInt(e,64,"unsigned",void 0,t,r)};Ht.converters["unsigned long"]=function(e,t,r){return Ht.util.ConvertToInt(e,32,"unsigned",void 0,t,r)};Ht.converters["unsigned short"]=function(e,t,r,n){return Ht.util.ConvertToInt(e,16,"unsigned",n,t,r)};Ht.converters.ArrayBuffer=function(e,t,r,n){if(Ht.util.Type(e)!=="Object"||!Np.isAnyArrayBuffer(e))throw Ht.errors.conversionFailed({prefix:t,argument:`${r} ("${Ht.util.Stringify(e)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&Np.isSharedArrayBuffer(e))throw Ht.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.resizable||e.growable)throw Ht.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Ht.converters.TypedArray=function(e,t,r,n,i){if(Ht.util.Type(e)!=="Object"||!Np.isTypedArray(e)||e.constructor.name!==t.name)throw Ht.errors.conversionFailed({prefix:r,argument:`${n} ("${Ht.util.Stringify(e)}")`,types:[t.name]});if(i?.allowShared===!1&&Np.isSharedArrayBuffer(e.buffer))throw Ht.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw Ht.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Ht.converters.DataView=function(e,t,r,n){if(Ht.util.Type(e)!=="Object"||!Np.isDataView(e))throw Ht.errors.exception({header:t,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&Np.isSharedArrayBuffer(e.buffer))throw Ht.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw Ht.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};Ht.converters.BufferSource=function(e,t,r,n){if(Np.isAnyArrayBuffer(e))return Ht.converters.ArrayBuffer(e,t,r,{...n,allowShared:!1});if(Np.isTypedArray(e))return Ht.converters.TypedArray(e,e.constructor,t,r,{...n,allowShared:!1});if(Np.isDataView(e))return Ht.converters.DataView(e,t,r,{...n,allowShared:!1});throw Ht.errors.conversionFailed({prefix:t,argument:`${r} ("${Ht.util.Stringify(e)}")`,types:["BufferSource"]})};Ht.converters["sequence<ByteString>"]=Ht.sequenceConverter(Ht.converters.ByteString);Ht.converters["sequence<sequence<ByteString>>"]=Ht.sequenceConverter(Ht.converters["sequence<ByteString>"]);Ht.converters["record<ByteString, ByteString>"]=Ht.recordConverter(Ht.converters.ByteString,Ht.converters.ByteString);u7e.exports={webidl:Ht}});var Ju=V((gqr,I7e)=>{"use strict";d();var{Transform:Bpt}=require("node:stream"),f7e=require("node:zlib"),{redirectStatusSet:Rpt,referrerPolicySet:Dpt,badPortsSet:Ppt}=eS(),{getGlobalOrigin:d7e}=Ane(),{collectASequenceOfCodePoints:G4,collectAnHTTPQuotedString:Fpt,removeChars:Npt,parseMIMEType:Lpt}=zc(),{performance:Qpt}=require("node:perf_hooks"),{isBlobLike:Mpt,ReadableStreamFrom:Opt,isValidHTTPToken:m7e,normalizedMethodRecordsBase:Upt}=ui(),H4=require("node:assert"),{isUint8Array:qpt}=require("node:util/types"),{webidl:rS}=zl(),h7e=[],FO;try{FO=require("node:crypto");let e=["sha256","sha384","sha512"];h7e=FO.getHashes().filter(t=>e.includes(t))}catch{}function p7e(e){let t=e.urlList,r=t.length;return r===0?null:t[r-1].toString()}o(p7e,"responseURL");function Wpt(e,t){if(!Rpt.has(e.status))return null;let r=e.headersList.get("location",!0);return r!==null&&A7e(r)&&(g7e(r)||(r=Gpt(r)),r=new URL(r,p7e(e))),r&&!r.hash&&(r.hash=t),r}o(Wpt,"responseLocationURL");function g7e(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>126||r<32)return!1}return!0}o(g7e,"isValidEncodedURL");function Gpt(e){return Buffer.from(e,"binary").toString("utf8")}o(Gpt,"normalizeBinaryStringToUtf8");function iS(e){return e.urlList[e.urlList.length-1]}o(iS,"requestCurrentURL");function Hpt(e){let t=iS(e);return b7e(t)&&Ppt.has(t.port)?"blocked":"allowed"}o(Hpt,"requestBadPort");function Vpt(e){return e instanceof Error||e?.constructor?.name==="Error"||e?.constructor?.name==="DOMException"}o(Vpt,"isErrorLike");function jpt(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}o(jpt,"isValidReasonPhrase");var $pt=m7e;function A7e(e){return(e[0]==="	"||e[0]===" "||e[e.length-1]==="	"||e[e.length-1]===" "||e.includes(`
`)||e.includes("\r")||e.includes("\0"))===!1}o(A7e,"isValidHeaderValue");function zpt(e,t){let{headersList:r}=t,n=(r.get("referrer-policy",!0)??"").split(","),i="";if(n.length>0)for(let s=n.length;s!==0;s--){let a=n[s-1].trim();if(Dpt.has(a)){i=a;break}}i!==""&&(e.referrerPolicy=i)}o(zpt,"setRequestReferrerPolicyOnRedirect");function Ypt(){return"allowed"}o(Ypt,"crossOriginResourcePolicyCheck");function Kpt(){return"success"}o(Kpt,"corsCheck");function Jpt(){return"success"}o(Jpt,"TAOCheck");function Xpt(e){let t=null;t=e.mode,e.headersList.set("sec-fetch-mode",t,!0)}o(Xpt,"appendFetchMetadata");function Zpt(e){let t=e.origin;if(!(t==="client"||t===void 0)){if(e.responseTainting==="cors"||e.mode==="websocket")e.headersList.append("origin",t,!0);else if(e.method!=="GET"&&e.method!=="HEAD"){switch(e.referrerPolicy){case"no-referrer":t=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":e.origin&&Ene(e.origin)&&!Ene(iS(e))&&(t=null);break;case"same-origin":NO(e,iS(e))||(t=null);break;default:}e.headersList.append("origin",t,!0)}}}o(Zpt,"appendRequestOriginHeader");function t8(e,t){return e}o(t8,"coarsenTime");function egt(e,t,r){return!e?.startTime||e.startTime<t?{domainLookupStartTime:t,domainLookupEndTime:t,connectionStartTime:t,connectionEndTime:t,secureConnectionStartTime:t,ALPNNegotiatedProtocol:e?.ALPNNegotiatedProtocol}:{domainLookupStartTime:t8(e.domainLookupStartTime,r),domainLookupEndTime:t8(e.domainLookupEndTime,r),connectionStartTime:t8(e.connectionStartTime,r),connectionEndTime:t8(e.connectionEndTime,r),secureConnectionStartTime:t8(e.secureConnectionStartTime,r),ALPNNegotiatedProtocol:e.ALPNNegotiatedProtocol}}o(egt,"clampAndCoarsenConnectionTimingInfo");function tgt(e){return t8(Qpt.now(),e)}o(tgt,"coarsenedSharedCurrentTime");function rgt(e){return{startTime:e.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:e.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}o(rgt,"createOpaqueTimingInfo");function y7e(){return{referrerPolicy:"strict-origin-when-cross-origin"}}o(y7e,"makePolicyContainer");function ngt(e){return{referrerPolicy:e.referrerPolicy}}o(ngt,"clonePolicyContainer");function igt(e){let t=e.referrerPolicy;H4(t);let r=null;if(e.referrer==="client"){let l=d7e();if(!l||l.origin==="null")return"no-referrer";r=new URL(l)}else e.referrer instanceof URL&&(r=e.referrer);let n=xne(r),i=xne(r,!0);n.toString().length>4096&&(n=i);let s=NO(e,n),a=nS(n)&&!nS(e.url);switch(t){case"origin":return i??xne(r,!0);case"unsafe-url":return n;case"same-origin":return s?i:"no-referrer";case"origin-when-cross-origin":return s?n:i;case"strict-origin-when-cross-origin":{let l=iS(e);return NO(n,l)?n:nS(n)&&!nS(l)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return a?"no-referrer":i}}o(igt,"determineRequestsReferrer");function xne(e,t){return H4(e instanceof URL),e=new URL(e),e.protocol==="file:"||e.protocol==="about:"||e.protocol==="blank:"?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}o(xne,"stripURLForReferrer");function nS(e){if(!(e instanceof URL))return!1;if(e.href==="about:blank"||e.href==="about:srcdoc"||e.protocol==="data:"||e.protocol==="file:")return!0;return t(e.origin);function t(r){if(r==null||r==="null")return!1;let n=new URL(r);return!!(n.protocol==="https:"||n.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(n.hostname)||n.hostname==="localhost"||n.hostname.includes("localhost.")||n.hostname.endsWith(".localhost"))}}o(nS,"isURLPotentiallyTrustworthy");function ogt(e,t){if(FO===void 0)return!0;let r=C7e(t);if(r==="no metadata"||r.length===0)return!0;let n=agt(r),i=lgt(r,n);for(let s of i){let a=s.algo,l=s.hash,c=FO.createHash(a).update(e).digest("base64");if(c[c.length-1]==="="&&(c[c.length-2]==="="?c=c.slice(0,-2):c=c.slice(0,-1)),cgt(c,l))return!0}return!1}o(ogt,"bytesMatch");var sgt=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function C7e(e){let t=[],r=!0;for(let n of e.split(" ")){r=!1;let i=sgt.exec(n);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let s=i.groups.algo.toLowerCase();h7e.includes(s)&&t.push(i.groups)}return r===!0?"no metadata":t}o(C7e,"parseMetadata");function agt(e){let t=e[0].algo;if(t[3]==="5")return t;for(let r=1;r<e.length;++r){let n=e[r];if(n.algo[3]==="5"){t="sha512";break}else{if(t[3]==="3")continue;n.algo[3]==="3"&&(t="sha384")}}return t}o(agt,"getStrongestMetadata");function lgt(e,t){if(e.length===1)return e;let r=0;for(let n=0;n<e.length;++n)e[n].algo===t&&(e[r++]=e[n]);return e.length=r,e}o(lgt,"filterMetadataListByAlgorithm");function cgt(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]){if(e[r]==="+"&&t[r]==="-"||e[r]==="/"&&t[r]==="_")continue;return!1}return!0}o(cgt,"compareBase64Mixed");function ugt(e){}o(ugt,"tryUpgradeRequestToAPotentiallyTrustworthyURL");function NO(e,t){return e.origin===t.origin&&e.origin==="null"||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}o(NO,"sameOrigin");function fgt(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}o(fgt,"createDeferredPromise");function dgt(e){return e.controller.state==="aborted"}o(dgt,"isAborted");function mgt(e){return e.controller.state==="aborted"||e.controller.state==="terminated"}o(mgt,"isCancelled");function hgt(e){return Upt[e.toLowerCase()]??e}o(hgt,"normalizeMethod");function pgt(e){let t=JSON.stringify(e);if(t===void 0)throw new TypeError("Value is not JSON serializable");return H4(typeof t=="string"),t}o(pgt,"serializeJavascriptValueToJSONString");var ggt=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function x7e(e,t,r=0,n=1){class i{static{o(this,"FastIterableIterator")}#e;#t;#i;constructor(a,l){this.#e=a,this.#t=l,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${e} Iterator.`);let a=this.#i,l=this.#e[t],c=l.length;if(a>=c)return{value:void 0,done:!0};let{[r]:u,[n]:f}=l[a];this.#i=a+1;let m;switch(this.#t){case"key":m=u;break;case"value":m=f;break;case"key+value":m=[u,f];break}return{value:m,done:!1}}}return delete i.prototype.constructor,Object.setPrototypeOf(i.prototype,ggt),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${e} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(s,a){return new i(s,a)}}o(x7e,"createIterator");function Agt(e,t,r,n=0,i=1){let s=x7e(e,r,n,i),a={keys:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return rS.brandCheck(this,t),s(this,"key")},"keys")},values:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return rS.brandCheck(this,t),s(this,"value")},"values")},entries:{writable:!0,enumerable:!0,configurable:!0,value:o(function(){return rS.brandCheck(this,t),s(this,"key+value")},"entries")},forEach:{writable:!0,enumerable:!0,configurable:!0,value:o(function(c,u=globalThis){if(rS.brandCheck(this,t),rS.argumentLengthCheck(arguments,1,`${e}.forEach`),typeof c!="function")throw new TypeError(`Failed to execute 'forEach' on '${e}': parameter 1 is not of type 'Function'.`);for(let{0:f,1:m}of s(this,"key+value"))c.call(u,m,f,this)},"forEach")}};return Object.defineProperties(t.prototype,{...a,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:a.entries.value}})}o(Agt,"iteratorMixin");async function ygt(e,t,r){let n=t,i=r,s;try{s=e.stream.getReader()}catch(a){i(a);return}try{n(await E7e(s))}catch(a){i(a)}}o(ygt,"fullyReadBody");function Cgt(e){return e instanceof ReadableStream||e[Symbol.toStringTag]==="ReadableStream"&&typeof e.tee=="function"}o(Cgt,"isReadableStreamLike");function xgt(e){try{e.close(),e.byobRequest?.respond(0)}catch(t){if(!t.message.includes("Controller is already closed")&&!t.message.includes("ReadableStream is already closed"))throw t}}o(xgt,"readableStreamClose");var Egt=/[^\x00-\xFF]/;function PO(e){return H4(!Egt.test(e)),e}o(PO,"isomorphicEncode");async function E7e(e){let t=[],r=0;for(;;){let{done:n,value:i}=await e.read();if(n)return Buffer.concat(t,r);if(!qpt(i))throw new TypeError("Received non-Uint8Array chunk");t.push(i),r+=i.length}}o(E7e,"readAllBytes");function bgt(e){H4("protocol"in e);let t=e.protocol;return t==="about:"||t==="blob:"||t==="data:"}o(bgt,"urlIsLocal");function Ene(e){return typeof e=="string"&&e[5]===":"&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&e[4]==="s"||e.protocol==="https:"}o(Ene,"urlHasHttpsScheme");function b7e(e){H4("protocol"in e);let t=e.protocol;return t==="http:"||t==="https:"}o(b7e,"urlIsHttpHttpsScheme");function vgt(e,t){let r=e;if(!r.startsWith("bytes"))return"failure";let n={position:5};if(t&&G4(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==61)return"failure";n.position++,t&&G4(c=>c==="	"||c===" ",r,n);let i=G4(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),s=i.length?Number(i):null;if(t&&G4(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==45)return"failure";n.position++,t&&G4(c=>c==="	"||c===" ",r,n);let a=G4(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),l=a.length?Number(a):null;return n.position<r.length||l===null&&s===null||s>l?"failure":{rangeStartValue:s,rangeEndValue:l}}o(vgt,"simpleRangeHeaderValue");function Igt(e,t,r){let n="bytes ";return n+=PO(`${e}`),n+="-",n+=PO(`${t}`),n+="/",n+=PO(`${r}`),n}o(Igt,"buildContentRange");var bne=class extends Bpt{static{o(this,"InflateStream")}#e;constructor(t){super(),this.#e=t}_transform(t,r,n){if(!this._inflateStream){if(t.length===0){n();return}this._inflateStream=(t[0]&15)===8?f7e.createInflate(this.#e):f7e.createInflateRaw(this.#e),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",i=>this.destroy(i))}this._inflateStream.write(t,r,n)}_final(t){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),t()}};function Tgt(e){return new bne(e)}o(Tgt,"createInflate");function wgt(e){let t=null,r=null,n=null,i=v7e("content-type",e);if(i===null)return"failure";for(let s of i){let a=Lpt(s);a==="failure"||a.essence==="*/*"||(n=a,n.essence!==r?(t=null,n.parameters.has("charset")&&(t=n.parameters.get("charset")),r=n.essence):!n.parameters.has("charset")&&t!==null&&n.parameters.set("charset",t))}return n??"failure"}o(wgt,"extractMimeType");function Sgt(e){let t=e,r={position:0},n=[],i="";for(;r.position<t.length;){if(i+=G4(s=>s!=='"'&&s!==",",t,r),r.position<t.length)if(t.charCodeAt(r.position)===34){if(i+=Fpt(t,r),r.position<t.length)continue}else H4(t.charCodeAt(r.position)===44),r.position++;i=Npt(i,!0,!0,s=>s===9||s===32),n.push(i),i=""}return n}o(Sgt,"gettingDecodingSplitting");function v7e(e,t){let r=t.get(e,!0);return r===null?null:Sgt(r)}o(v7e,"getDecodeSplit");var _gt=new TextDecoder;function kgt(e){return e.length===0?"":(e[0]===239&&e[1]===187&&e[2]===191&&(e=e.subarray(3)),_gt.decode(e))}o(kgt,"utf8DecodeBytes");var vne=class{static{o(this,"EnvironmentSettingsObjectBase")}get baseUrl(){return d7e()}get origin(){return this.baseUrl?.origin}policyContainer=y7e()},Ine=class{static{o(this,"EnvironmentSettingsObject")}settingsObject=new vne},Bgt=new Ine;I7e.exports={isAborted:dgt,isCancelled:mgt,isValidEncodedURL:g7e,createDeferredPromise:fgt,ReadableStreamFrom:Opt,tryUpgradeRequestToAPotentiallyTrustworthyURL:ugt,clampAndCoarsenConnectionTimingInfo:egt,coarsenedSharedCurrentTime:tgt,determineRequestsReferrer:igt,makePolicyContainer:y7e,clonePolicyContainer:ngt,appendFetchMetadata:Xpt,appendRequestOriginHeader:Zpt,TAOCheck:Jpt,corsCheck:Kpt,crossOriginResourcePolicyCheck:Ypt,createOpaqueTimingInfo:rgt,setRequestReferrerPolicyOnRedirect:zpt,isValidHTTPToken:m7e,requestBadPort:Hpt,requestCurrentURL:iS,responseURL:p7e,responseLocationURL:Wpt,isBlobLike:Mpt,isURLPotentiallyTrustworthy:nS,isValidReasonPhrase:jpt,sameOrigin:NO,normalizeMethod:hgt,serializeJavascriptValueToJSONString:pgt,iteratorMixin:Agt,createIterator:x7e,isValidHeaderName:$pt,isValidHeaderValue:A7e,isErrorLike:Vpt,fullyReadBody:ygt,bytesMatch:ogt,isReadableStreamLike:Cgt,readableStreamClose:xgt,isomorphicEncode:PO,urlIsLocal:bgt,urlHasHttpsScheme:Ene,urlIsHttpHttpsScheme:b7e,readAllBytes:E7e,simpleRangeHeaderValue:vgt,buildContentRange:Igt,parseMetadata:C7e,createInflate:Tgt,extractMimeType:wgt,getDecodeSplit:v7e,utf8DecodeBytes:kgt,environmentSettingsObject:Bgt}});var cy=V((Cqr,T7e)=>{"use strict";d();T7e.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var wne=V((Eqr,w7e)=>{"use strict";d();var{Blob:Rgt,File:Dgt}=require("node:buffer"),{kState:J1}=cy(),{webidl:Lp}=zl(),Tne=class e{static{o(this,"FileLike")}constructor(t,r,n={}){let i=r,s=n.type,a=n.lastModified??Date.now();this[J1]={blobLike:t,name:i,type:s,lastModified:a}}stream(...t){return Lp.brandCheck(this,e),this[J1].blobLike.stream(...t)}arrayBuffer(...t){return Lp.brandCheck(this,e),this[J1].blobLike.arrayBuffer(...t)}slice(...t){return Lp.brandCheck(this,e),this[J1].blobLike.slice(...t)}text(...t){return Lp.brandCheck(this,e),this[J1].blobLike.text(...t)}get size(){return Lp.brandCheck(this,e),this[J1].blobLike.size}get type(){return Lp.brandCheck(this,e),this[J1].blobLike.type}get name(){return Lp.brandCheck(this,e),this[J1].name}get lastModified(){return Lp.brandCheck(this,e),this[J1].lastModified}get[Symbol.toStringTag](){return"File"}};Lp.converters.Blob=Lp.interfaceConverter(Rgt);function Pgt(e){return e instanceof Dgt||e&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&e[Symbol.toStringTag]==="File"}o(Pgt,"isFileLike");w7e.exports={FileLike:Tne,isFileLike:Pgt}});var sS=V((Iqr,R7e)=>{"use strict";d();var{isBlobLike:LO,iteratorMixin:Fgt}=Ju(),{kState:J0}=cy(),{kEnumerableProperty:r8}=ui(),{FileLike:S7e,isFileLike:Ngt}=wne(),{webidl:Oo}=zl(),{File:B7e}=require("node:buffer"),_7e=require("node:util"),k7e=globalThis.File??B7e,oS=class e{static{o(this,"FormData")}constructor(t){if(Oo.util.markAsUncloneable(this),t!==void 0)throw Oo.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[J0]=[]}append(t,r,n=void 0){Oo.brandCheck(this,e);let i="FormData.append";if(Oo.argumentLengthCheck(arguments,2,i),arguments.length===3&&!LO(r))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");t=Oo.converters.USVString(t,i,"name"),r=LO(r)?Oo.converters.Blob(r,i,"value",{strict:!1}):Oo.converters.USVString(r,i,"value"),n=arguments.length===3?Oo.converters.USVString(n,i,"filename"):void 0;let s=Sne(t,r,n);this[J0].push(s)}delete(t){Oo.brandCheck(this,e);let r="FormData.delete";Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name"),this[J0]=this[J0].filter(n=>n.name!==t)}get(t){Oo.brandCheck(this,e);let r="FormData.get";Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name");let n=this[J0].findIndex(i=>i.name===t);return n===-1?null:this[J0][n].value}getAll(t){Oo.brandCheck(this,e);let r="FormData.getAll";return Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name"),this[J0].filter(n=>n.name===t).map(n=>n.value)}has(t){Oo.brandCheck(this,e);let r="FormData.has";return Oo.argumentLengthCheck(arguments,1,r),t=Oo.converters.USVString(t,r,"name"),this[J0].findIndex(n=>n.name===t)!==-1}set(t,r,n=void 0){Oo.brandCheck(this,e);let i="FormData.set";if(Oo.argumentLengthCheck(arguments,2,i),arguments.length===3&&!LO(r))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");t=Oo.converters.USVString(t,i,"name"),r=LO(r)?Oo.converters.Blob(r,i,"name",{strict:!1}):Oo.converters.USVString(r,i,"name"),n=arguments.length===3?Oo.converters.USVString(n,i,"name"):void 0;let s=Sne(t,r,n),a=this[J0].findIndex(l=>l.name===t);a!==-1?this[J0]=[...this[J0].slice(0,a),s,...this[J0].slice(a+1).filter(l=>l.name!==t)]:this[J0].push(s)}[_7e.inspect.custom](t,r){let n=this[J0].reduce((s,a)=>(s[a.name]?Array.isArray(s[a.name])?s[a.name].push(a.value):s[a.name]=[s[a.name],a.value]:s[a.name]=a.value,s),{__proto__:null});r.depth??=t,r.colors??=!0;let i=_7e.formatWithOptions(r,n);return`FormData ${i.slice(i.indexOf("]")+2)}`}};Fgt("FormData",oS,J0,"name","value");Object.defineProperties(oS.prototype,{append:r8,delete:r8,get:r8,getAll:r8,has:r8,set:r8,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function Sne(e,t,r){if(typeof t!="string"){if(Ngt(t)||(t=t instanceof Blob?new k7e([t],"blob",{type:t.type}):new S7e(t,"blob",{type:t.type})),r!==void 0){let n={type:t.type,lastModified:t.lastModified};t=t instanceof B7e?new k7e([t],r,n):new S7e(t,r,n)}}return{name:e,value:t}}o(Sne,"makeEntry");R7e.exports={FormData:oS,makeEntry:Sne}});var Q7e=V((Sqr,L7e)=>{"use strict";d();var{isUSVString:D7e,bufferToLowerCasedHeaderName:Lgt}=ui(),{utf8DecodeBytes:Qgt}=Ju(),{HTTP_TOKEN_CODEPOINTS:Mgt,isomorphicDecode:P7e}=zc(),{isFileLike:Ogt}=wne(),{makeEntry:Ugt}=sS(),QO=require("node:assert"),{File:qgt}=require("node:buffer"),Wgt=globalThis.File??qgt,Ggt=Buffer.from('form-data; name="'),F7e=Buffer.from("; filename"),Hgt=Buffer.from("--"),Vgt=Buffer.from(`--\r
`);function jgt(e){for(let t=0;t<e.length;++t)if((e.charCodeAt(t)&-128)!==0)return!1;return!0}o(jgt,"isAsciiString");function $gt(e){let t=e.length;if(t<27||t>70)return!1;for(let r=0;r<t;++r){let n=e.charCodeAt(r);if(!(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||n===39||n===45||n===95))return!1}return!0}o($gt,"validateBoundary");function zgt(e,t){QO(t!=="failure"&&t.essence==="multipart/form-data");let r=t.parameters.get("boundary");if(r===void 0)return"failure";let n=Buffer.from(`--${r}`,"utf8"),i=[],s={position:0};for(;e[s.position]===13&&e[s.position+1]===10;)s.position+=2;let a=e.length;for(;e[a-1]===10&&e[a-2]===13;)a-=2;for(a!==e.length&&(e=e.subarray(0,a));;){if(e.subarray(s.position,s.position+n.length).equals(n))s.position+=n.length;else return"failure";if(s.position===e.length-2&&MO(e,Hgt,s)||s.position===e.length-4&&MO(e,Vgt,s))return i;if(e[s.position]!==13||e[s.position+1]!==10)return"failure";s.position+=2;let l=Ygt(e,s);if(l==="failure")return"failure";let{name:c,filename:u,contentType:f,encoding:m}=l;s.position+=2;let h;{let A=e.indexOf(n.subarray(2),s.position);if(A===-1)return"failure";h=e.subarray(s.position,A-4),s.position+=h.length,m==="base64"&&(h=Buffer.from(h.toString(),"base64"))}if(e[s.position]!==13||e[s.position+1]!==10)return"failure";s.position+=2;let p;u!==null?(f??="text/plain",jgt(f)||(f=""),p=new Wgt([h],u,{type:f})):p=Qgt(Buffer.from(h)),QO(D7e(c)),QO(typeof p=="string"&&D7e(p)||Ogt(p)),i.push(Ugt(c,p,u))}}o(zgt,"multipartFormDataParser");function Ygt(e,t){let r=null,n=null,i=null,s=null;for(;;){if(e[t.position]===13&&e[t.position+1]===10)return r===null?"failure":{name:r,filename:n,contentType:i,encoding:s};let a=n8(l=>l!==10&&l!==13&&l!==58,e,t);if(a=_ne(a,!0,!0,l=>l===9||l===32),!Mgt.test(a.toString())||e[t.position]!==58)return"failure";switch(t.position++,n8(l=>l===32||l===9,e,t),Lgt(a)){case"content-disposition":{if(r=n=null,!MO(e,Ggt,t)||(t.position+=17,r=N7e(e,t),r===null))return"failure";if(MO(e,F7e,t)){let l=t.position+F7e.length;if(e[l]===42&&(t.position+=1,l+=1),e[l]!==61||e[l+1]!==34||(t.position+=12,n=N7e(e,t),n===null))return"failure"}break}case"content-type":{let l=n8(c=>c!==10&&c!==13,e,t);l=_ne(l,!1,!0,c=>c===9||c===32),i=P7e(l);break}case"content-transfer-encoding":{let l=n8(c=>c!==10&&c!==13,e,t);l=_ne(l,!1,!0,c=>c===9||c===32),s=P7e(l);break}default:n8(l=>l!==10&&l!==13,e,t)}if(e[t.position]!==13&&e[t.position+1]!==10)return"failure";t.position+=2}}o(Ygt,"parseMultipartFormDataHeaders");function N7e(e,t){QO(e[t.position-1]===34);let r=n8(n=>n!==10&&n!==13&&n!==34,e,t);return e[t.position]!==34?null:(t.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),r)}o(N7e,"parseMultipartFormDataName");function n8(e,t,r){let n=r.position;for(;n<t.length&&e(t[n]);)++n;return t.subarray(r.position,r.position=n)}o(n8,"collectASequenceOfBytes");function _ne(e,t,r,n){let i=0,s=e.length-1;if(t)for(;i<e.length&&n(e[i]);)i++;if(r)for(;s>0&&n(e[s]);)s--;return i===0&&s===e.length-1?e:e.subarray(i,s+1)}o(_ne,"removeChars");function MO(e,t,r){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[r.position+n])return!1;return!0}o(MO,"bufferStartsWith");L7e.exports={multipartFormDataParser:zgt,validateBoundary:$gt}});var s8=V((Bqr,V7e)=>{"use strict";d();var aS=ui(),{ReadableStreamFrom:Kgt,isBlobLike:M7e,isReadableStreamLike:Jgt,readableStreamClose:Xgt,createDeferredPromise:Zgt,fullyReadBody:e1t,extractMimeType:t1t,utf8DecodeBytes:q7e}=Ju(),{FormData:O7e}=sS(),{kState:o8}=cy(),{webidl:r1t}=zl(),{Blob:n1t}=require("node:buffer"),kne=require("node:assert"),{isErrored:W7e,isDisturbed:i1t}=require("node:stream"),{isArrayBuffer:o1t}=require("node:util/types"),{serializeAMimeType:s1t}=zc(),{multipartFormDataParser:a1t}=Q7e(),Bne;try{let e=require("node:crypto");Bne=o(t=>e.randomInt(0,t),"random")}catch{Bne=o(e=>Math.floor(Math.random(e)),"random")}var OO=new TextEncoder;function l1t(){}o(l1t,"noop");var Rne=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,Dne;Rne&&(Dne=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&!i1t(t)&&!W7e(t)&&t.cancel("Response object has been garbage collected").catch(l1t)}));function G7e(e,t=!1){let r=null;e instanceof ReadableStream?r=e:M7e(e)?r=e.stream():r=new ReadableStream({async pull(c){let u=typeof i=="string"?OO.encode(i):i;u.byteLength&&c.enqueue(u),queueMicrotask(()=>Xgt(c))},start(){},type:"bytes"}),kne(Jgt(r));let n=null,i=null,s=null,a=null;if(typeof e=="string")i=e,a="text/plain;charset=UTF-8";else if(e instanceof URLSearchParams)i=e.toString(),a="application/x-www-form-urlencoded;charset=UTF-8";else if(o1t(e))i=new Uint8Array(e.slice());else if(ArrayBuffer.isView(e))i=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));else if(aS.isFormDataLike(e)){let c=`----formdata-undici-0${`${Bne(1e11)}`.padStart(11,"0")}`,u=`--${c}\r
Content-Disposition: form-data`;let f=o(E=>E.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"escape"),m=o(E=>E.replace(/\r?\n|\r/g,`\r
`),"normalizeLinefeeds"),h=[],p=new Uint8Array([13,10]);s=0;let A=!1;for(let[E,v]of e)if(typeof v=="string"){let b=OO.encode(u+`; name="${f(m(E))}"\r
\r
${m(v)}\r
`);h.push(b),s+=b.byteLength}else{let b=OO.encode(`${u}; name="${f(m(E))}"`+(v.name?`; filename="${f(v.name)}"`:"")+`\r
Content-Type: ${v.type||"application/octet-stream"}\r
\r
`);h.push(b,v,p),typeof v.size=="number"?s+=b.byteLength+v.size+p.byteLength:A=!0}let x=OO.encode(`--${c}--`);h.push(x),s+=x.byteLength,A&&(s=null),i=e,n=o(async function*(){for(let E of h)E.stream?yield*E.stream():yield E},"action"),a=`multipart/form-data; boundary=${c}`}else if(M7e(e))i=e,s=e.size,e.type&&(a=e.type);else if(typeof e[Symbol.asyncIterator]=="function"){if(t)throw new TypeError("keepalive");if(aS.isDisturbed(e)||e.locked)throw new TypeError("Response body object should not be disturbed or locked");r=e instanceof ReadableStream?e:Kgt(e)}if((typeof i=="string"||aS.isBuffer(i))&&(s=Buffer.byteLength(i)),n!=null){let c;r=new ReadableStream({async start(){c=n(e)[Symbol.asyncIterator]()},async pull(u){let{value:f,done:m}=await c.next();if(m)queueMicrotask(()=>{u.close(),u.byobRequest?.respond(0)});else if(!W7e(r)){let h=new Uint8Array(f);h.byteLength&&u.enqueue(h)}return u.desiredSize>0},async cancel(u){await c.return()},type:"bytes"})}return[{stream:r,source:i,length:s},a]}o(G7e,"extractBody");function c1t(e,t=!1){return e instanceof ReadableStream&&(kne(!aS.isDisturbed(e),"The body has already been consumed."),kne(!e.locked,"The stream is locked.")),G7e(e,t)}o(c1t,"safelyExtractBody");function u1t(e,t){let[r,n]=t.stream.tee();return Rne&&Dne.register(e,new WeakRef(r)),t.stream=r,{stream:n,length:t.length,source:t.source}}o(u1t,"cloneBody");function f1t(e){if(e.aborted)throw new DOMException("The operation was aborted.","AbortError")}o(f1t,"throwIfAborted");function d1t(e){return{blob(){return i8(this,r=>{let n=U7e(this);return n===null?n="":n&&(n=s1t(n)),new n1t([r],{type:n})},e)},arrayBuffer(){return i8(this,r=>new Uint8Array(r).buffer,e)},text(){return i8(this,q7e,e)},json(){return i8(this,h1t,e)},formData(){return i8(this,r=>{let n=U7e(this);if(n!==null)switch(n.essence){case"multipart/form-data":{let i=a1t(r,n);if(i==="failure")throw new TypeError("Failed to parse body as FormData.");let s=new O7e;return s[o8]=i,s}case"application/x-www-form-urlencoded":{let i=new URLSearchParams(r.toString()),s=new O7e;for(let[a,l]of i)s.append(a,l);return s}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},e)},bytes(){return i8(this,r=>new Uint8Array(r),e)}}}o(d1t,"bodyMixinMethods");function m1t(e){Object.assign(e.prototype,d1t(e))}o(m1t,"mixinBody");async function i8(e,t,r){if(r1t.brandCheck(e,r),H7e(e))throw new TypeError("Body is unusable: Body has already been read");f1t(e[o8]);let n=Zgt(),i=o(a=>n.reject(a),"errorSteps"),s=o(a=>{try{n.resolve(t(a))}catch(l){i(l)}},"successSteps");return e[o8].body==null?(s(Buffer.allocUnsafe(0)),n.promise):(await e1t(e[o8].body,s,i),n.promise)}o(i8,"consumeBody");function H7e(e){let t=e[o8].body;return t!=null&&(t.stream.locked||aS.isDisturbed(t.stream))}o(H7e,"bodyUnusable");function h1t(e){return JSON.parse(q7e(e))}o(h1t,"parseJSONFromBytes");function U7e(e){let t=e[o8].headersList,r=t1t(t);return r==="failure"?null:r}o(U7e,"bodyMimeType");V7e.exports={extractBody:G7e,safelyExtractBody:c1t,cloneBody:u1t,mixinBody:m1t,streamRegistry:Dne,hasFinalizationRegistry:Rne,bodyUnusable:H7e}});var rTe=V((Pqr,tTe)=>{"use strict";d();var mn=require("node:assert"),Ln=ui(),{channels:j7e}=$I(),Pne=dne(),{RequestContentLengthMismatchError:V4,ResponseContentLengthMismatchError:p1t,RequestAbortedError:X7e,HeadersTimeoutError:g1t,HeadersOverflowError:A1t,SocketError:VO,InformationalError:a8,BodyTimeoutError:y1t,HTTPParserError:C1t,ResponseExceededMaxSizeError:x1t}=ao(),{kUrl:Z7e,kReset:Yc,kClient:Qne,kParser:Js,kBlocking:uS,kRunning:T0,kPending:E1t,kSize:$7e,kWriting:fy,kQueue:$m,kNoRef:lS,kKeepAliveDefaultTimeout:b1t,kHostHeader:v1t,kPendingIdx:I1t,kRunningIdx:Ed,kError:bd,kPipelining:GO,kSocket:l8,kKeepAliveTimeoutValue:jO,kMaxHeadersSize:Fne,kKeepAliveMaxTimeout:T1t,kKeepAliveTimeoutThreshold:w1t,kHeadersTimeout:S1t,kBodyTimeout:_1t,kStrictContentLength:Mne,kMaxRequests:z7e,kCounter:k1t,kMaxResponseSize:B1t,kOnError:R1t,kResume:uy,kHTTPContext:eTe}=Ts(),Qp=H9e(),D1t=Buffer.alloc(0),UO=Buffer[Symbol.species],qO=Ln.addListener,P1t=Ln.removeAllListeners,Nne;async function F1t(){let e=process.env.JEST_WORKER_ID?pne():void 0,t;try{t=await WebAssembly.compile($9e())}catch{t=await WebAssembly.compile(e||pne())}return await WebAssembly.instantiate(t,{env:{wasm_on_url:o((r,n,i)=>0,"wasm_on_url"),wasm_on_status:o((r,n,i)=>{mn(Za.ptr===r);let s=n-Op+Mp.byteOffset;return Za.onStatus(new UO(Mp.buffer,s,i))||0},"wasm_on_status"),wasm_on_message_begin:o(r=>(mn(Za.ptr===r),Za.onMessageBegin()||0),"wasm_on_message_begin"),wasm_on_header_field:o((r,n,i)=>{mn(Za.ptr===r);let s=n-Op+Mp.byteOffset;return Za.onHeaderField(new UO(Mp.buffer,s,i))||0},"wasm_on_header_field"),wasm_on_header_value:o((r,n,i)=>{mn(Za.ptr===r);let s=n-Op+Mp.byteOffset;return Za.onHeaderValue(new UO(Mp.buffer,s,i))||0},"wasm_on_header_value"),wasm_on_headers_complete:o((r,n,i,s)=>(mn(Za.ptr===r),Za.onHeadersComplete(n,!!i,!!s)||0),"wasm_on_headers_complete"),wasm_on_body:o((r,n,i)=>{mn(Za.ptr===r);let s=n-Op+Mp.byteOffset;return Za.onBody(new UO(Mp.buffer,s,i))||0},"wasm_on_body"),wasm_on_message_complete:o(r=>(mn(Za.ptr===r),Za.onMessageComplete()||0),"wasm_on_message_complete")}})}o(F1t,"lazyllhttp");var Lne=null,One=F1t();One.catch();var Za=null,Mp=null,WO=0,Op=null,N1t=0,cS=1,c8=2|cS,HO=4|cS,Une=8|N1t,qne=class{static{o(this,"Parser")}constructor(t,r,{exports:n}){mn(Number.isFinite(t[Fne])&&t[Fne]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(Qp.TYPE.RESPONSE),this.client=t,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=t[Fne],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=t[B1t]}setTimeout(t,r){t!==this.timeoutValue||r&cS^this.timeoutType&cS?(this.timeout&&(Pne.clearTimeout(this.timeout),this.timeout=null),t&&(r&cS?this.timeout=Pne.setFastTimeout(Y7e,t,new WeakRef(this)):(this.timeout=setTimeout(Y7e,t,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=t):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=r}resume(){this.socket.destroyed||!this.paused||(mn(this.ptr!=null),mn(Za==null),this.llhttp.llhttp_resume(this.ptr),mn(this.timeoutType===HO),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||D1t),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let t=this.socket.read();if(t===null)break;this.execute(t)}}execute(t){mn(this.ptr!=null),mn(Za==null),mn(!this.paused);let{socket:r,llhttp:n}=this;t.length>WO&&(Op&&n.free(Op),WO=Math.ceil(t.length/4096)*4096,Op=n.malloc(WO)),new Uint8Array(n.memory.buffer,Op,WO).set(t);try{let i;try{Mp=t,Za=this,i=n.llhttp_execute(this.ptr,Op,t.length)}catch(a){throw a}finally{Za=null,Mp=null}let s=n.llhttp_get_error_pos(this.ptr)-Op;if(i===Qp.ERROR.PAUSED_UPGRADE)this.onUpgrade(t.slice(s));else if(i===Qp.ERROR.PAUSED)this.paused=!0,r.unshift(t.slice(s));else if(i!==Qp.ERROR.OK){let a=n.llhttp_get_error_reason(this.ptr),l="";if(a){let c=new Uint8Array(n.memory.buffer,a).indexOf(0);l="Response does not match the HTTP/1.1 protocol ("+Buffer.from(n.memory.buffer,a,c).toString()+")"}throw new C1t(l,Qp.ERROR[i],t.slice(s))}}catch(i){Ln.destroy(r,i)}}destroy(){mn(this.ptr!=null),mn(Za==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&Pne.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(t){this.statusText=t.toString()}onMessageBegin(){let{socket:t,client:r}=this;if(t.destroyed)return-1;let n=r[$m][r[Ed]];if(!n)return-1;n.onResponseStarted()}onHeaderField(t){let r=this.headers.length;(r&1)===0?this.headers.push(t):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]),this.trackHeader(t.length)}onHeaderValue(t){let r=this.headers.length;(r&1)===1?(this.headers.push(t),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]);let n=this.headers[r-2];if(n.length===10){let i=Ln.bufferToLowerCasedHeaderName(n);i==="keep-alive"?this.keepAlive+=t.toString():i==="connection"&&(this.connection+=t.toString())}else n.length===14&&Ln.bufferToLowerCasedHeaderName(n)==="content-length"&&(this.contentLength+=t.toString());this.trackHeader(t.length)}trackHeader(t){this.headersSize+=t,this.headersSize>=this.headersMaxSize&&Ln.destroy(this.socket,new A1t)}onUpgrade(t){let{upgrade:r,client:n,socket:i,headers:s,statusCode:a}=this;mn(r),mn(n[l8]===i),mn(!i.destroyed),mn(!this.paused),mn((s.length&1)===0);let l=n[$m][n[Ed]];mn(l),mn(l.upgrade||l.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,this.headers=[],this.headersSize=0,i.unshift(t),i[Js].destroy(),i[Js]=null,i[Qne]=null,i[bd]=null,P1t(i),n[l8]=null,n[eTe]=null,n[$m][n[Ed]++]=null,n.emit("disconnect",n[Z7e],[n],new a8("upgrade"));try{l.onUpgrade(a,s,i)}catch(c){Ln.destroy(i,c)}n[uy]()}onHeadersComplete(t,r,n){let{client:i,socket:s,headers:a,statusText:l}=this;if(s.destroyed)return-1;let c=i[$m][i[Ed]];if(!c)return-1;if(mn(!this.upgrade),mn(this.statusCode<200),t===100)return Ln.destroy(s,new VO("bad response",Ln.getSocketInfo(s))),-1;if(r&&!c.upgrade)return Ln.destroy(s,new VO("bad upgrade",Ln.getSocketInfo(s))),-1;if(mn(this.timeoutType===c8),this.statusCode=t,this.shouldKeepAlive=n||c.method==="HEAD"&&!s[Yc]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let f=c.bodyTimeout!=null?c.bodyTimeout:i[_1t];this.setTimeout(f,HO)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(c.method==="CONNECT")return mn(i[T0]===1),this.upgrade=!0,2;if(r)return mn(i[T0]===1),this.upgrade=!0,2;if(mn((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[GO]){let f=this.keepAlive?Ln.parseKeepAliveTimeout(this.keepAlive):null;if(f!=null){let m=Math.min(f-i[w1t],i[T1t]);m<=0?s[Yc]=!0:i[jO]=m}else i[jO]=i[b1t]}else s[Yc]=!0;let u=c.onHeaders(t,a,this.resume,l)===!1;return c.aborted?-1:c.method==="HEAD"||t<200?1:(s[uS]&&(s[uS]=!1,i[uy]()),u?Qp.ERROR.PAUSED:0)}onBody(t){let{client:r,socket:n,statusCode:i,maxResponseSize:s}=this;if(n.destroyed)return-1;let a=r[$m][r[Ed]];if(mn(a),mn(this.timeoutType===HO),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),mn(i>=200),s>-1&&this.bytesRead+t.length>s)return Ln.destroy(n,new x1t),-1;if(this.bytesRead+=t.length,a.onData(t)===!1)return Qp.ERROR.PAUSED}onMessageComplete(){let{client:t,socket:r,statusCode:n,upgrade:i,headers:s,contentLength:a,bytesRead:l,shouldKeepAlive:c}=this;if(r.destroyed&&(!n||c))return-1;if(i)return;mn(n>=100),mn((this.headers.length&1)===0);let u=t[$m][t[Ed]];if(mn(u),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,!(n<200)){if(u.method!=="HEAD"&&a&&l!==parseInt(a,10))return Ln.destroy(r,new p1t),-1;if(u.onComplete(s),t[$m][t[Ed]++]=null,r[fy])return mn(t[T0]===0),Ln.destroy(r,new a8("reset")),Qp.ERROR.PAUSED;if(c){if(r[Yc]&&t[T0]===0)return Ln.destroy(r,new a8("reset")),Qp.ERROR.PAUSED;t[GO]==null||t[GO]===1?setImmediate(()=>t[uy]()):t[uy]()}else return Ln.destroy(r,new a8("reset")),Qp.ERROR.PAUSED}}};function Y7e(e){let{socket:t,timeoutType:r,client:n,paused:i}=e.deref();r===c8?(!t[fy]||t.writableNeedDrain||n[T0]>1)&&(mn(!i,"cannot be paused while waiting for headers"),Ln.destroy(t,new g1t)):r===HO?i||Ln.destroy(t,new y1t):r===Une&&(mn(n[T0]===0&&n[jO]),Ln.destroy(t,new a8("socket idle timeout")))}o(Y7e,"onParserTimeout");async function L1t(e,t){e[l8]=t,Lne||(Lne=await One,One=null),t[lS]=!1,t[fy]=!1,t[Yc]=!1,t[uS]=!1,t[Js]=new qne(e,t,Lne),qO(t,"error",function(n){mn(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let i=this[Js];if(n.code==="ECONNRESET"&&i.statusCode&&!i.shouldKeepAlive){i.onMessageComplete();return}this[bd]=n,this[Qne][R1t](n)}),qO(t,"readable",function(){let n=this[Js];n&&n.readMore()}),qO(t,"end",function(){let n=this[Js];if(n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}Ln.destroy(this,new VO("other side closed",Ln.getSocketInfo(this)))}),qO(t,"close",function(){let n=this[Qne],i=this[Js];i&&(!this[bd]&&i.statusCode&&!i.shouldKeepAlive&&i.onMessageComplete(),this[Js].destroy(),this[Js]=null);let s=this[bd]||new VO("closed",Ln.getSocketInfo(this));if(n[l8]=null,n[eTe]=null,n.destroyed){mn(n[E1t]===0);let a=n[$m].splice(n[Ed]);for(let l=0;l<a.length;l++){let c=a[l];Ln.errorRequest(n,c,s)}}else if(n[T0]>0&&s.code!=="UND_ERR_INFO"){let a=n[$m][n[Ed]];n[$m][n[Ed]++]=null,Ln.errorRequest(n,a,s)}n[I1t]=n[Ed],mn(n[T0]===0),n.emit("disconnect",n[Z7e],[n],s),n[uy]()});let r=!1;return t.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write(...n){return O1t(e,...n)},resume(){Q1t(e)},destroy(n,i){r?queueMicrotask(i):t.destroy(n).on("close",i)},get destroyed(){return t.destroyed},busy(n){return!!(t[fy]||t[Yc]||t[uS]||n&&(e[T0]>0&&!n.idempotent||e[T0]>0&&(n.upgrade||n.method==="CONNECT")||e[T0]>0&&Ln.bodyLength(n.body)!==0&&(Ln.isStream(n.body)||Ln.isAsyncIterable(n.body)||Ln.isFormDataLike(n.body))))}}}o(L1t,"connectH1");function Q1t(e){let t=e[l8];if(t&&!t.destroyed){if(e[$7e]===0?!t[lS]&&t.unref&&(t.unref(),t[lS]=!0):t[lS]&&t.ref&&(t.ref(),t[lS]=!1),e[$7e]===0)t[Js].timeoutType!==Une&&t[Js].setTimeout(e[jO],Une);else if(e[T0]>0&&t[Js].statusCode<200&&t[Js].timeoutType!==c8){let r=e[$m][e[Ed]],n=r.headersTimeout!=null?r.headersTimeout:e[S1t];t[Js].setTimeout(n,c8)}}}o(Q1t,"resumeH1");function M1t(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}o(M1t,"shouldSendContentLength");function O1t(e,t){let{method:r,path:n,host:i,upgrade:s,blocking:a,reset:l}=t,{body:c,headers:u,contentLength:f}=t,m=r==="PUT"||r==="POST"||r==="PATCH"||r==="QUERY"||r==="PROPFIND"||r==="PROPPATCH";if(Ln.isFormDataLike(c)){Nne||(Nne=s8().extractBody);let[E,v]=Nne(c);t.contentType==null&&u.push("content-type",v),c=E.stream,f=E.length}else Ln.isBlobLike(c)&&t.contentType==null&&c.type&&u.push("content-type",c.type);c&&typeof c.read=="function"&&c.read(0);let h=Ln.bodyLength(c);if(f=h??f,f===null&&(f=t.contentLength),f===0&&!m&&(f=null),M1t(r)&&f>0&&t.contentLength!==null&&t.contentLength!==f){if(e[Mne])return Ln.errorRequest(e,t,new V4),!1;process.emitWarning(new V4)}let p=e[l8],A=o(E=>{t.aborted||t.completed||(Ln.errorRequest(e,t,E||new X7e),Ln.destroy(c),Ln.destroy(p,new a8("aborted")))},"abort");try{t.onConnect(A)}catch(E){Ln.errorRequest(e,t,E)}if(t.aborted)return!1;r==="HEAD"&&(p[Yc]=!0),(s||r==="CONNECT")&&(p[Yc]=!0),l!=null&&(p[Yc]=l),e[z7e]&&p[k1t]++>=e[z7e]&&(p[Yc]=!0),a&&(p[uS]=!0);let x=`${r} ${n} HTTP/1.1\r
`;if(typeof i=="string"?x+=`host: ${i}\r
`:x+=e[v1t],s?x+=`connection: upgrade\r
upgrade: ${s}\r
`:e[GO]&&!p[Yc]?x+=`connection: keep-alive\r
`:x+=`connection: close\r
`,Array.isArray(u))for(let E=0;E<u.length;E+=2){let v=u[E+0],b=u[E+1];if(Array.isArray(b))for(let S=0;S<b.length;S++)x+=`${v}: ${b[S]}\r
`;else x+=`${v}: ${b}\r
`}return j7e.sendHeaders.hasSubscribers&&j7e.sendHeaders.publish({request:t,headers:x,socket:p}),!c||h===0?K7e(A,null,e,t,p,f,x,m):Ln.isBuffer(c)?K7e(A,c,e,t,p,f,x,m):Ln.isBlobLike(c)?typeof c.stream=="function"?J7e(A,c.stream(),e,t,p,f,x,m):q1t(A,c,e,t,p,f,x,m):Ln.isStream(c)?U1t(A,c,e,t,p,f,x,m):Ln.isIterable(c)?J7e(A,c,e,t,p,f,x,m):mn(!1),!0}o(O1t,"writeH1");function U1t(e,t,r,n,i,s,a,l){mn(s!==0||r[T0]===0,"stream body cannot be pipelined");let c=!1,u=new $O({abort:e,socket:i,request:n,contentLength:s,client:r,expectsPayload:l,header:a}),f=o(function(A){if(!c)try{!u.write(A)&&this.pause&&this.pause()}catch(x){Ln.destroy(this,x)}},"onData"),m=o(function(){c||t.resume&&t.resume()},"onDrain"),h=o(function(){if(queueMicrotask(()=>{t.removeListener("error",p)}),!c){let A=new X7e;queueMicrotask(()=>p(A))}},"onClose"),p=o(function(A){if(!c){if(c=!0,mn(i.destroyed||i[fy]&&r[T0]<=1),i.off("drain",m).off("error",p),t.removeListener("data",f).removeListener("end",p).removeListener("close",h),!A)try{u.end()}catch(x){A=x}u.destroy(A),A&&(A.code!=="UND_ERR_INFO"||A.message!=="reset")?Ln.destroy(t,A):Ln.destroy(t)}},"onFinished");t.on("data",f).on("end",p).on("error",p).on("close",h),t.resume&&t.resume(),i.on("drain",m).on("error",p),t.errorEmitted??t.errored?setImmediate(()=>p(t.errored)):(t.endEmitted??t.readableEnded)&&setImmediate(()=>p(null)),(t.closeEmitted??t.closed)&&setImmediate(h)}o(U1t,"writeStream");function K7e(e,t,r,n,i,s,a,l){try{t?Ln.isBuffer(t)&&(mn(s===t.byteLength,"buffer body must have content length"),i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(t),i.uncork(),n.onBodySent(t),!l&&n.reset!==!1&&(i[Yc]=!0)):s===0?i.write(`${a}content-length: 0\r
\r
`,"latin1"):(mn(s===null,"no body must not have content length"),i.write(`${a}\r
`,"latin1")),n.onRequestSent(),r[uy]()}catch(c){e(c)}}o(K7e,"writeBuffer");async function q1t(e,t,r,n,i,s,a,l){mn(s===t.size,"blob body must have content length");try{if(s!=null&&s!==t.size)throw new V4;let c=Buffer.from(await t.arrayBuffer());i.cork(),i.write(`${a}content-length: ${s}\r
\r
`,"latin1"),i.write(c),i.uncork(),n.onBodySent(c),n.onRequestSent(),!l&&n.reset!==!1&&(i[Yc]=!0),r[uy]()}catch(c){e(c)}}o(q1t,"writeBlob");async function J7e(e,t,r,n,i,s,a,l){mn(s!==0||r[T0]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let h=c;c=null,h()}}o(u,"onDrain");let f=o(()=>new Promise((h,p)=>{mn(c===null),i[bd]?p(i[bd]):c=h}),"waitForDrain");i.on("close",u).on("drain",u);let m=new $O({abort:e,socket:i,request:n,contentLength:s,client:r,expectsPayload:l,header:a});try{for await(let h of t){if(i[bd])throw i[bd];m.write(h)||await f()}m.end()}catch(h){m.destroy(h)}finally{i.off("close",u).off("drain",u)}}o(J7e,"writeIterable");var $O=class{static{o(this,"AsyncWriter")}constructor({abort:t,socket:r,request:n,contentLength:i,client:s,expectsPayload:a,header:l}){this.socket=r,this.request=n,this.contentLength=i,this.client=s,this.bytesWritten=0,this.expectsPayload=a,this.header=l,this.abort=t,r[fy]=!0}write(t){let{socket:r,request:n,contentLength:i,client:s,bytesWritten:a,expectsPayload:l,header:c}=this;if(r[bd])throw r[bd];if(r.destroyed)return!1;let u=Buffer.byteLength(t);if(!u)return!0;if(i!==null&&a+u>i){if(s[Mne])throw new V4;process.emitWarning(new V4)}r.cork(),a===0&&(!l&&n.reset!==!1&&(r[Yc]=!0),i===null?r.write(`${c}transfer-encoding: chunked\r
`,"latin1"):r.write(`${c}content-length: ${i}\r
\r
`,"latin1")),i===null&&r.write(`\r
${u.toString(16)}\r
`,"latin1"),this.bytesWritten+=u;let f=r.write(t);return r.uncork(),n.onBodySent(t),f||r[Js].timeout&&r[Js].timeoutType===c8&&r[Js].timeout.refresh&&r[Js].timeout.refresh(),f}end(){let{socket:t,contentLength:r,client:n,bytesWritten:i,expectsPayload:s,header:a,request:l}=this;if(l.onRequestSent(),t[fy]=!1,t[bd])throw t[bd];if(!t.destroyed){if(i===0?s?t.write(`${a}content-length: 0\r
\r
`,"latin1"):t.write(`${a}\r
`,"latin1"):r===null&&t.write(`\r
0\r
\r
`,"latin1"),r!==null&&i!==r){if(n[Mne])throw new V4;process.emitWarning(new V4)}t[Js].timeout&&t[Js].timeoutType===c8&&t[Js].timeout.refresh&&t[Js].timeout.refresh(),n[uy]()}}destroy(t){let{socket:r,client:n,abort:i}=this;r[fy]=!1,t&&(mn(n[T0]<=1,"pipeline should only contain this request"),i(t))}};tTe.exports=L1t});var uTe=V((Lqr,cTe)=>{"use strict";d();var vd=require("node:assert"),{pipeline:W1t}=require("node:stream"),wi=ui(),{RequestContentLengthMismatchError:Wne,RequestAbortedError:nTe,SocketError:fS,InformationalError:Gne}=ao(),{kUrl:zO,kReset:KO,kClient:u8,kRunning:JO,kPending:G1t,kQueue:dy,kPendingIdx:Hne,kRunningIdx:zm,kError:Km,kSocket:El,kStrictContentLength:H1t,kOnError:Vne,kMaxConcurrentStreams:lTe,kHTTP2Session:Ym,kResume:my,kSize:V1t,kHTTPContext:j1t}=Ts(),X1=Symbol("open streams"),iTe,oTe=!1,YO;try{YO=require("node:http2")}catch{YO={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:$1t,HTTP2_HEADER_METHOD:z1t,HTTP2_HEADER_PATH:Y1t,HTTP2_HEADER_SCHEME:K1t,HTTP2_HEADER_CONTENT_LENGTH:J1t,HTTP2_HEADER_EXPECT:X1t,HTTP2_HEADER_STATUS:Z1t}}=YO;function eAt(e){let t=[];for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let i of n)t.push(Buffer.from(r),Buffer.from(i));else t.push(Buffer.from(r),Buffer.from(n));return t}o(eAt,"parseH2Headers");async function tAt(e,t){e[El]=t,oTe||(oTe=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=YO.connect(e[zO],{createConnection:o(()=>t,"createConnection"),peerMaxConcurrentStreams:e[lTe]});r[X1]=0,r[u8]=e,r[El]=t,wi.addListener(r,"error",nAt),wi.addListener(r,"frameError",iAt),wi.addListener(r,"end",oAt),wi.addListener(r,"goaway",sAt),wi.addListener(r,"close",function(){let{[u8]:i}=this,{[El]:s}=i,a=this[El][Km]||this[Km]||new fS("closed",wi.getSocketInfo(s));if(i[Ym]=null,i.destroyed){vd(i[G1t]===0);let l=i[dy].splice(i[zm]);for(let c=0;c<l.length;c++){let u=l[c];wi.errorRequest(i,u,a)}}}),r.unref(),e[Ym]=r,t[Ym]=r,wi.addListener(t,"error",function(i){vd(i.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Km]=i,this[u8][Vne](i)}),wi.addListener(t,"end",function(){wi.destroy(this,new fS("other side closed",wi.getSocketInfo(this)))}),wi.addListener(t,"close",function(){let i=this[Km]||new fS("closed",wi.getSocketInfo(this));e[El]=null,this[Ym]!=null&&this[Ym].destroy(i),e[Hne]=e[zm],vd(e[JO]===0),e.emit("disconnect",e[zO],[e],i),e[my]()});let n=!1;return t.on("close",()=>{n=!0}),{version:"h2",defaultPipelining:1/0,write(...i){return lAt(e,...i)},resume(){rAt(e)},destroy(i,s){n?queueMicrotask(s):t.destroy(i).on("close",s)},get destroyed(){return t.destroyed},busy(){return!1}}}o(tAt,"connectH2");function rAt(e){let t=e[El];t?.destroyed===!1&&(e[V1t]===0&&e[lTe]===0?(t.unref(),e[Ym].unref()):(t.ref(),e[Ym].ref()))}o(rAt,"resumeH2");function nAt(e){vd(e.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[El][Km]=e,this[u8][Vne](e)}o(nAt,"onHttp2SessionError");function iAt(e,t,r){if(r===0){let n=new Gne(`HTTP/2: "frameError" received - type ${e}, code ${t}`);this[El][Km]=n,this[u8][Vne](n)}}o(iAt,"onHttp2FrameError");function oAt(){let e=new fS("other side closed",wi.getSocketInfo(this[El]));this.destroy(e),wi.destroy(this[El],e)}o(oAt,"onHttp2SessionEnd");function sAt(e){let t=this[Km]||new fS(`HTTP/2: "GOAWAY" frame received with code ${e}`,wi.getSocketInfo(this)),r=this[u8];if(r[El]=null,r[j1t]=null,this[Ym]!=null&&(this[Ym].destroy(t),this[Ym]=null),wi.destroy(this[El],t),r[zm]<r[dy].length){let n=r[dy][r[zm]];r[dy][r[zm]++]=null,wi.errorRequest(r,n,t),r[Hne]=r[zm]}vd(r[JO]===0),r.emit("disconnect",r[zO],[r],t),r[my]()}o(sAt,"onHTTP2GoAway");function aAt(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}o(aAt,"shouldSendContentLength");function lAt(e,t){let r=e[Ym],{method:n,path:i,host:s,upgrade:a,expectContinue:l,signal:c,headers:u}=t,{body:f}=t;if(a)return wi.errorRequest(e,t,new Error("Upgrade not supported for H2")),!1;let m={};for(let B=0;B<u.length;B+=2){let D=u[B+0],F=u[B+1];if(Array.isArray(F))for(let W=0;W<F.length;W++)m[D]?m[D]+=`,${F[W]}`:m[D]=F[W];else m[D]=F}let h,{hostname:p,port:A}=e[zO];m[$1t]=s||`${p}${A?`:${A}`:""}`,m[z1t]=n;let x=o(B=>{t.aborted||t.completed||(B=B||new nTe,wi.errorRequest(e,t,B),h!=null&&wi.destroy(h,B),wi.destroy(f,B),e[dy][e[zm]++]=null,e[my]())},"abort");try{t.onConnect(x)}catch(B){wi.errorRequest(e,t,B)}if(t.aborted)return!1;if(n==="CONNECT")return r.ref(),h=r.request(m,{endStream:!1,signal:c}),h.id&&!h.pending?(t.onUpgrade(null,null,h),++r[X1],e[dy][e[zm]++]=null):h.once("ready",()=>{t.onUpgrade(null,null,h),++r[X1],e[dy][e[zm]++]=null}),h.once("close",()=>{r[X1]-=1,r[X1]===0&&r.unref()}),!0;m[Y1t]=i,m[K1t]="https";let E=n==="PUT"||n==="POST"||n==="PATCH";f&&typeof f.read=="function"&&f.read(0);let v=wi.bodyLength(f);if(wi.isFormDataLike(f)){iTe??=s8().extractBody;let[B,D]=iTe(f);m["content-type"]=D,f=B.stream,v=B.length}if(v==null&&(v=t.contentLength),(v===0||!E)&&(v=null),aAt(n)&&v>0&&t.contentLength!=null&&t.contentLength!==v){if(e[H1t])return wi.errorRequest(e,t,new Wne),!1;process.emitWarning(new Wne)}v!=null&&(vd(f,"no body must not have content length"),m[J1t]=`${v}`),r.ref();let b=n==="GET"||n==="HEAD"||f===null;return l?(m[X1t]="100-continue",h=r.request(m,{endStream:b,signal:c}),h.once("continue",S)):(h=r.request(m,{endStream:b,signal:c}),S()),++r[X1],h.once("response",B=>{let{[Z1t]:D,...F}=B;if(t.onResponseStarted(),t.aborted){let W=new nTe;wi.errorRequest(e,t,W),wi.destroy(h,W);return}t.onHeaders(Number(D),eAt(F),h.resume.bind(h),"")===!1&&h.pause(),h.on("data",W=>{t.onData(W)===!1&&h.pause()})}),h.once("end",()=>{(h.state?.state==null||h.state.state<6)&&t.onComplete([]),r[X1]===0&&r.unref(),x(new Gne("HTTP/2: stream half-closed (remote)")),e[dy][e[zm]++]=null,e[Hne]=e[zm],e[my]()}),h.once("close",()=>{r[X1]-=1,r[X1]===0&&r.unref()}),h.once("error",function(B){x(B)}),h.once("frameError",(B,D)=>{x(new Gne(`HTTP/2: "frameError" received - type ${B}, code ${D}`))}),!0;function S(){!f||v===0?sTe(x,h,null,e,t,e[El],v,E):wi.isBuffer(f)?sTe(x,h,f,e,t,e[El],v,E):wi.isBlobLike(f)?typeof f.stream=="function"?aTe(x,h,f.stream(),e,t,e[El],v,E):uAt(x,h,f,e,t,e[El],v,E):wi.isStream(f)?cAt(x,e[El],E,h,f,e,t,v):wi.isIterable(f)?aTe(x,h,f,e,t,e[El],v,E):vd(!1)}o(S,"writeBodyH2")}o(lAt,"writeH2");function sTe(e,t,r,n,i,s,a,l){try{r!=null&&wi.isBuffer(r)&&(vd(a===r.byteLength,"buffer body must have content length"),t.cork(),t.write(r),t.uncork(),t.end(),i.onBodySent(r)),l||(s[KO]=!0),i.onRequestSent(),n[my]()}catch(c){e(c)}}o(sTe,"writeBuffer");function cAt(e,t,r,n,i,s,a,l){vd(l!==0||s[JO]===0,"stream body cannot be pipelined");let c=W1t(i,n,f=>{f?(wi.destroy(c,f),e(f)):(wi.removeAllListeners(c),a.onRequestSent(),r||(t[KO]=!0),s[my]())});wi.addListener(c,"data",u);function u(f){a.onBodySent(f)}o(u,"onPipeData")}o(cAt,"writeStream");async function uAt(e,t,r,n,i,s,a,l){vd(a===r.size,"blob body must have content length");try{if(a!=null&&a!==r.size)throw new Wne;let c=Buffer.from(await r.arrayBuffer());t.cork(),t.write(c),t.uncork(),t.end(),i.onBodySent(c),i.onRequestSent(),l||(s[KO]=!0),n[my]()}catch(c){e(c)}}o(uAt,"writeBlob");async function aTe(e,t,r,n,i,s,a,l){vd(a!==0||n[JO]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let m=c;c=null,m()}}o(u,"onDrain");let f=o(()=>new Promise((m,h)=>{vd(c===null),s[Km]?h(s[Km]):c=m}),"waitForDrain");t.on("close",u).on("drain",u);try{for await(let m of r){if(s[Km])throw s[Km];let h=t.write(m);i.onBodySent(m),h||await f()}t.end(),i.onRequestSent(),l||(s[KO]=!0),n[my]()}catch(m){e(m)}finally{t.off("close",u).off("drain",u)}}o(aTe,"writeIterable");cTe.exports=tAt});var ZO=V((Oqr,mTe)=>{"use strict";d();var Up=ui(),{kBodyUsed:dS}=Ts(),$ne=require("node:assert"),{InvalidArgumentError:fAt}=ao(),dAt=require("node:events"),mAt=[300,301,302,303,307,308],fTe=Symbol("body"),XO=class{static{o(this,"BodyAsyncIterable")}constructor(t){this[fTe]=t,this[dS]=!1}async*[Symbol.asyncIterator](){$ne(!this[dS],"disturbed"),this[dS]=!0,yield*this[fTe]}},jne=class{static{o(this,"RedirectHandler")}constructor(t,r,n,i){if(r!=null&&(!Number.isInteger(r)||r<0))throw new fAt("maxRedirections must be a positive number");Up.validateHandler(i,n.method,n.upgrade),this.dispatch=t,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=i,this.history=[],this.redirectionLimitReached=!1,Up.isStream(this.opts.body)?(Up.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){$ne(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[dS]=!1,dAt.prototype.on.call(this.opts.body,"data",function(){this[dS]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new XO(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&Up.isIterable(this.opts.body)&&(this.opts.body=new XO(this.opts.body))}onConnect(t){this.abort=t,this.handler.onConnect(t,{history:this.history})}onUpgrade(t,r,n){this.handler.onUpgrade(t,r,n)}onError(t){this.handler.onError(t)}onHeaders(t,r,n,i){if(this.location=this.history.length>=this.maxRedirections||Up.isDisturbed(this.opts.body)?null:hAt(t,r),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(t,r,n,i);let{origin:s,pathname:a,search:l}=Up.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),c=l?`${a}${l}`:a;this.opts.headers=pAt(this.opts.headers,t===303,this.opts.origin!==s),this.opts.path=c,this.opts.origin=s,this.opts.maxRedirections=0,this.opts.query=null,t===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(t){if(!this.location)return this.handler.onData(t)}onComplete(t){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(t)}onBodySent(t){this.handler.onBodySent&&this.handler.onBodySent(t)}};function hAt(e,t){if(mAt.indexOf(e)===-1)return null;for(let r=0;r<t.length;r+=2)if(t[r].length===8&&Up.headerNameToString(t[r])==="location")return t[r+1]}o(hAt,"parseLocation");function dTe(e,t,r){if(e.length===4)return Up.headerNameToString(e)==="host";if(t&&Up.headerNameToString(e).startsWith("content-"))return!0;if(r&&(e.length===13||e.length===6||e.length===19)){let n=Up.headerNameToString(e);return n==="authorization"||n==="cookie"||n==="proxy-authorization"}return!1}o(dTe,"shouldRemoveHeader");function pAt(e,t,r){let n=[];if(Array.isArray(e))for(let i=0;i<e.length;i+=2)dTe(e[i],t,r)||n.push(e[i],e[i+1]);else if(e&&typeof e=="object")for(let i of Object.keys(e))dTe(i,t,r)||n.push(i,e[i]);else $ne(e==null,"headers must be an object or an array");return n}o(pAt,"cleanRequestHeaders");mTe.exports=jne});var eU=V((Wqr,hTe)=>{"use strict";d();var gAt=ZO();function AAt({maxRedirections:e}){return t=>o(function(n,i){let{maxRedirections:s=e}=n;if(!s)return t(n,i);let a=new gAt(t,s,n,i);return n={...n,maxRedirections:0},t(n,a)},"Intercept")}o(AAt,"createRedirectInterceptor");hTe.exports=AAt});var CS=V((Vqr,ITe)=>{"use strict";d();var Z1=require("node:assert"),xTe=require("node:net"),yAt=require("node:http"),j4=ui(),{channels:f8}=$I(),CAt=R9e(),xAt=JI(),{InvalidArgumentError:pa,InformationalError:EAt,ClientDestroyedError:bAt}=ao(),vAt=Zw(),{kUrl:qp,kServerName:hy,kClient:IAt,kBusy:zne,kConnect:TAt,kResuming:$4,kRunning:AS,kPending:yS,kSize:gS,kQueue:Jm,kConnected:wAt,kConnecting:d8,kNeedDrain:gy,kKeepAliveDefaultTimeout:pTe,kHostHeader:SAt,kPendingIdx:Xm,kRunningIdx:eA,kError:_At,kPipelining:tU,kKeepAliveTimeoutValue:kAt,kMaxHeadersSize:BAt,kKeepAliveMaxTimeout:RAt,kKeepAliveTimeoutThreshold:DAt,kHeadersTimeout:PAt,kBodyTimeout:FAt,kStrictContentLength:NAt,kConnector:mS,kMaxRedirections:LAt,kMaxRequests:Yne,kCounter:QAt,kClose:MAt,kDestroy:OAt,kDispatch:UAt,kInterceptors:gTe,kLocalAddress:hS,kMaxResponseSize:qAt,kOnError:WAt,kHTTPContext:ga,kMaxConcurrentStreams:GAt,kResume:pS}=Ts(),HAt=rTe(),VAt=uTe(),ATe=!1,py=Symbol("kClosedResolve"),yTe=o(()=>{},"noop");function ETe(e){return e[tU]??e[ga]?.defaultPipelining??1}o(ETe,"getPipelining");var Kne=class extends xAt{static{o(this,"Client")}constructor(t,{interceptors:r,maxHeaderSize:n,headersTimeout:i,socketTimeout:s,requestTimeout:a,connectTimeout:l,bodyTimeout:c,idleTimeout:u,keepAlive:f,keepAliveTimeout:m,maxKeepAliveTimeout:h,keepAliveMaxTimeout:p,keepAliveTimeoutThreshold:A,socketPath:x,pipelining:E,tls:v,strictContentLength:b,maxCachedSessions:S,maxRedirections:B,connect:D,maxRequestsPerClient:F,localAddress:W,maxResponseSize:ee,autoSelectFamily:de,autoSelectFamilyAttemptTimeout:X,maxConcurrentStreams:G,allowH2:U}={}){if(super(),f!==void 0)throw new pa("unsupported keepAlive, use pipelining=0 instead");if(s!==void 0)throw new pa("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(a!==void 0)throw new pa("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(u!==void 0)throw new pa("unsupported idleTimeout, use keepAliveTimeout instead");if(h!==void 0)throw new pa("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(n!=null&&!Number.isFinite(n))throw new pa("invalid maxHeaderSize");if(x!=null&&typeof x!="string")throw new pa("invalid socketPath");if(l!=null&&(!Number.isFinite(l)||l<0))throw new pa("invalid connectTimeout");if(m!=null&&(!Number.isFinite(m)||m<=0))throw new pa("invalid keepAliveTimeout");if(p!=null&&(!Number.isFinite(p)||p<=0))throw new pa("invalid keepAliveMaxTimeout");if(A!=null&&!Number.isFinite(A))throw new pa("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new pa("headersTimeout must be a positive integer or zero");if(c!=null&&(!Number.isInteger(c)||c<0))throw new pa("bodyTimeout must be a positive integer or zero");if(D!=null&&typeof D!="function"&&typeof D!="object")throw new pa("connect must be a function or an object");if(B!=null&&(!Number.isInteger(B)||B<0))throw new pa("maxRedirections must be a positive number");if(F!=null&&(!Number.isInteger(F)||F<0))throw new pa("maxRequestsPerClient must be a positive number");if(W!=null&&(typeof W!="string"||xTe.isIP(W)===0))throw new pa("localAddress must be valid string IP address");if(ee!=null&&(!Number.isInteger(ee)||ee<-1))throw new pa("maxResponseSize must be a positive number");if(X!=null&&(!Number.isInteger(X)||X<-1))throw new pa("autoSelectFamilyAttemptTimeout must be a positive number");if(U!=null&&typeof U!="boolean")throw new pa("allowH2 must be a valid boolean value");if(G!=null&&(typeof G!="number"||G<1))throw new pa("maxConcurrentStreams must be a positive integer, greater than 0");typeof D!="function"&&(D=vAt({...v,maxCachedSessions:S,allowH2:U,socketPath:x,timeout:l,...de?{autoSelectFamily:de,autoSelectFamilyAttemptTimeout:X}:void 0,...D})),r?.Client&&Array.isArray(r.Client)?(this[gTe]=r.Client,ATe||(ATe=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[gTe]=[jAt({maxRedirections:B})],this[qp]=j4.parseOrigin(t),this[mS]=D,this[tU]=E??1,this[BAt]=n||yAt.maxHeaderSize,this[pTe]=m??4e3,this[RAt]=p??6e5,this[DAt]=A??2e3,this[kAt]=this[pTe],this[hy]=null,this[hS]=W??null,this[$4]=0,this[gy]=0,this[SAt]=`host: ${this[qp].hostname}${this[qp].port?`:${this[qp].port}`:""}\r
`,this[FAt]=c??3e5,this[PAt]=i??3e5,this[NAt]=b??!0,this[LAt]=B,this[Yne]=F,this[py]=null,this[qAt]=ee>-1?ee:-1,this[GAt]=G??100,this[ga]=null,this[Jm]=[],this[eA]=0,this[Xm]=0,this[pS]=ie=>Jne(this,ie),this[WAt]=ie=>bTe(this,ie)}get pipelining(){return this[tU]}set pipelining(t){this[tU]=t,this[pS](!0)}get[yS](){return this[Jm].length-this[Xm]}get[AS](){return this[Xm]-this[eA]}get[gS](){return this[Jm].length-this[eA]}get[wAt](){return!!this[ga]&&!this[d8]&&!this[ga].destroyed}get[zne](){return!!(this[ga]?.busy(null)||this[gS]>=(ETe(this)||1)||this[yS]>0)}[TAt](t){vTe(this),this.once("connect",t)}[UAt](t,r){let n=t.origin||this[qp].origin,i=new CAt(n,t,r);return this[Jm].push(i),this[$4]||(j4.bodyLength(i.body)==null&&j4.isIterable(i.body)?(this[$4]=1,queueMicrotask(()=>Jne(this))):this[pS](!0)),this[$4]&&this[gy]!==2&&this[zne]&&(this[gy]=2),this[gy]<2}async[MAt](){return new Promise(t=>{this[gS]?this[py]=t:t(null)})}async[OAt](t){return new Promise(r=>{let n=this[Jm].splice(this[Xm]);for(let s=0;s<n.length;s++){let a=n[s];j4.errorRequest(this,a,t)}let i=o(()=>{this[py]&&(this[py](),this[py]=null),r(null)},"callback");this[ga]?(this[ga].destroy(t,i),this[ga]=null):queueMicrotask(i),this[pS]()})}},jAt=eU();function bTe(e,t){if(e[AS]===0&&t.code!=="UND_ERR_INFO"&&t.code!=="UND_ERR_SOCKET"){Z1(e[Xm]===e[eA]);let r=e[Jm].splice(e[eA]);for(let n=0;n<r.length;n++){let i=r[n];j4.errorRequest(e,i,t)}Z1(e[gS]===0)}}o(bTe,"onError");async function vTe(e){Z1(!e[d8]),Z1(!e[ga]);let{host:t,hostname:r,protocol:n,port:i}=e[qp];if(r[0]==="["){let s=r.indexOf("]");Z1(s!==-1);let a=r.substring(1,s);Z1(xTe.isIP(a)),r=a}e[d8]=!0,f8.beforeConnect.hasSubscribers&&f8.beforeConnect.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[ga]?.version,servername:e[hy],localAddress:e[hS]},connector:e[mS]});try{let s=await new Promise((a,l)=>{e[mS]({host:t,hostname:r,protocol:n,port:i,servername:e[hy],localAddress:e[hS]},(c,u)=>{c?l(c):a(u)})});if(e.destroyed){j4.destroy(s.on("error",yTe),new bAt);return}Z1(s);try{e[ga]=s.alpnProtocol==="h2"?await VAt(e,s):await HAt(e,s)}catch(a){throw s.destroy().on("error",yTe),a}e[d8]=!1,s[QAt]=0,s[Yne]=e[Yne],s[IAt]=e,s[_At]=null,f8.connected.hasSubscribers&&f8.connected.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[ga]?.version,servername:e[hy],localAddress:e[hS]},connector:e[mS],socket:s}),e.emit("connect",e[qp],[e])}catch(s){if(e.destroyed)return;if(e[d8]=!1,f8.connectError.hasSubscribers&&f8.connectError.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[ga]?.version,servername:e[hy],localAddress:e[hS]},connector:e[mS],error:s}),s.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(Z1(e[AS]===0);e[yS]>0&&e[Jm][e[Xm]].servername===e[hy];){let a=e[Jm][e[Xm]++];j4.errorRequest(e,a,s)}else bTe(e,s);e.emit("connectionError",e[qp],[e],s)}e[pS]()}o(vTe,"connect");function CTe(e){e[gy]=0,e.emit("drain",e[qp],[e])}o(CTe,"emitDrain");function Jne(e,t){e[$4]!==2&&(e[$4]=2,$At(e,t),e[$4]=0,e[eA]>256&&(e[Jm].splice(0,e[eA]),e[Xm]-=e[eA],e[eA]=0))}o(Jne,"resume");function $At(e,t){for(;;){if(e.destroyed){Z1(e[yS]===0);return}if(e[py]&&!e[gS]){e[py](),e[py]=null;return}if(e[ga]&&e[ga].resume(),e[zne])e[gy]=2;else if(e[gy]===2){t?(e[gy]=1,queueMicrotask(()=>CTe(e))):CTe(e);continue}if(e[yS]===0||e[AS]>=(ETe(e)||1))return;let r=e[Jm][e[Xm]];if(e[qp].protocol==="https:"&&e[hy]!==r.servername){if(e[AS]>0)return;e[hy]=r.servername,e[ga]?.destroy(new EAt("servername changed"),()=>{e[ga]=null,Jne(e)})}if(e[d8])return;if(!e[ga]){vTe(e);return}if(e[ga].destroyed||e[ga].busy(r))return;!r.aborted&&e[ga].write(r)?e[Xm]++:e[Jm].splice(e[Xm],1)}}o($At,"_resume");ITe.exports=Kne});var Xne=V((Yqr,TTe)=>{"use strict";d();var rU=class{static{o(this,"FixedCircularBuffer")}constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(t){this.list[this.top]=t,this.top=this.top+1&2047}shift(){let t=this.list[this.bottom];return t===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,t)}};TTe.exports=class{static{o(this,"FixedQueue")}constructor(){this.head=this.tail=new rU}isEmpty(){return this.head.isEmpty()}push(t){this.head.isFull()&&(this.head=this.head.next=new rU),this.head.push(t)}shift(){let t=this.tail,r=t.shift();return t.isEmpty()&&t.next!==null&&(this.tail=t.next),r}}});var STe=V((Xqr,wTe)=>{d();var{kFree:zAt,kConnected:YAt,kPending:KAt,kQueued:JAt,kRunning:XAt,kSize:ZAt}=Ts(),z4=Symbol("pool"),Zne=class{static{o(this,"PoolStats")}constructor(t){this[z4]=t}get connected(){return this[z4][YAt]}get free(){return this[z4][zAt]}get pending(){return this[z4][KAt]}get queued(){return this[z4][JAt]}get running(){return this[z4][XAt]}get size(){return this[z4][ZAt]}};wTe.exports=Zne});var oie=V((tWr,QTe)=>{"use strict";d();var e2t=JI(),t2t=Xne(),{kConnected:eie,kSize:_Te,kRunning:kTe,kPending:BTe,kQueued:xS,kBusy:r2t,kFree:n2t,kUrl:i2t,kClose:o2t,kDestroy:s2t,kDispatch:a2t}=Ts(),l2t=STe(),Kc=Symbol("clients"),X0=Symbol("needDrain"),ES=Symbol("queue"),tie=Symbol("closed resolve"),rie=Symbol("onDrain"),RTe=Symbol("onConnect"),DTe=Symbol("onDisconnect"),PTe=Symbol("onConnectionError"),nie=Symbol("get dispatcher"),NTe=Symbol("add client"),LTe=Symbol("remove client"),FTe=Symbol("stats"),iie=class extends e2t{static{o(this,"PoolBase")}constructor(){super(),this[ES]=new t2t,this[Kc]=[],this[xS]=0;let t=this;this[rie]=o(function(n,i){let s=t[ES],a=!1;for(;!a;){let l=s.shift();if(!l)break;t[xS]--,a=!this.dispatch(l.opts,l.handler)}this[X0]=a,!this[X0]&&t[X0]&&(t[X0]=!1,t.emit("drain",n,[t,...i])),t[tie]&&s.isEmpty()&&Promise.all(t[Kc].map(l=>l.close())).then(t[tie])},"onDrain"),this[RTe]=(r,n)=>{t.emit("connect",r,[t,...n])},this[DTe]=(r,n,i)=>{t.emit("disconnect",r,[t,...n],i)},this[PTe]=(r,n,i)=>{t.emit("connectionError",r,[t,...n],i)},this[FTe]=new l2t(this)}get[r2t](){return this[X0]}get[eie](){return this[Kc].filter(t=>t[eie]).length}get[n2t](){return this[Kc].filter(t=>t[eie]&&!t[X0]).length}get[BTe](){let t=this[xS];for(let{[BTe]:r}of this[Kc])t+=r;return t}get[kTe](){let t=0;for(let{[kTe]:r}of this[Kc])t+=r;return t}get[_Te](){let t=this[xS];for(let{[_Te]:r}of this[Kc])t+=r;return t}get stats(){return this[FTe]}async[o2t](){this[ES].isEmpty()?await Promise.all(this[Kc].map(t=>t.close())):await new Promise(t=>{this[tie]=t})}async[s2t](t){for(;;){let r=this[ES].shift();if(!r)break;r.handler.onError(t)}await Promise.all(this[Kc].map(r=>r.destroy(t)))}[a2t](t,r){let n=this[nie]();return n?n.dispatch(t,r)||(n[X0]=!0,this[X0]=!this[nie]()):(this[X0]=!0,this[ES].push({opts:t,handler:r}),this[xS]++),!this[X0]}[NTe](t){return t.on("drain",this[rie]).on("connect",this[RTe]).on("disconnect",this[DTe]).on("connectionError",this[PTe]),this[Kc].push(t),this[X0]&&queueMicrotask(()=>{this[X0]&&this[rie](t[i2t],[this,t])}),this}[LTe](t){t.close(()=>{let r=this[Kc].indexOf(t);r!==-1&&this[Kc].splice(r,1)}),this[X0]=this[Kc].some(r=>!r[X0]&&r.closed!==!0&&r.destroyed!==!0)}};QTe.exports={PoolBase:iie,kClients:Kc,kNeedDrain:X0,kAddClient:NTe,kRemoveClient:LTe,kGetDispatcher:nie}});var m8=V((iWr,WTe)=>{"use strict";d();var{PoolBase:c2t,kClients:MTe,kNeedDrain:u2t,kAddClient:f2t,kGetDispatcher:d2t}=oie(),m2t=CS(),{InvalidArgumentError:sie}=ao(),OTe=ui(),{kUrl:UTe,kInterceptors:h2t}=Ts(),p2t=Zw(),aie=Symbol("options"),lie=Symbol("connections"),qTe=Symbol("factory");function g2t(e,t){return new m2t(e,t)}o(g2t,"defaultFactory");var cie=class extends c2t{static{o(this,"Pool")}constructor(t,{connections:r,factory:n=g2t,connect:i,connectTimeout:s,tls:a,maxCachedSessions:l,socketPath:c,autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f,allowH2:m,...h}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new sie("invalid connections");if(typeof n!="function")throw new sie("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new sie("connect must be a function or an object");typeof i!="function"&&(i=p2t({...a,maxCachedSessions:l,allowH2:m,socketPath:c,timeout:s,...u?{autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f}:void 0,...i})),this[h2t]=h.interceptors?.Pool&&Array.isArray(h.interceptors.Pool)?h.interceptors.Pool:[],this[lie]=r||null,this[UTe]=OTe.parseOrigin(t),this[aie]={...OTe.deepClone(h),connect:i,allowH2:m},this[aie].interceptors=h.interceptors?{...h.interceptors}:void 0,this[qTe]=n}[d2t](){for(let t of this[MTe])if(!t[u2t])return t;if(!this[lie]||this[MTe].length<this[lie]){let t=this[qTe](this[UTe],this[aie]);return this[f2t](t),t}}};WTe.exports=cie});var $Te=V((aWr,jTe)=>{"use strict";d();var{BalancedPoolMissingUpstreamError:A2t,InvalidArgumentError:y2t}=ao(),{PoolBase:C2t,kClients:w0,kNeedDrain:bS,kAddClient:x2t,kRemoveClient:E2t,kGetDispatcher:b2t}=oie(),v2t=m8(),{kUrl:uie,kInterceptors:I2t}=Ts(),{parseOrigin:GTe}=ui(),HTe=Symbol("factory"),nU=Symbol("options"),VTe=Symbol("kGreatestCommonDivisor"),Y4=Symbol("kCurrentWeight"),K4=Symbol("kIndex"),Id=Symbol("kWeight"),iU=Symbol("kMaxWeightPerServer"),oU=Symbol("kErrorPenalty");function T2t(e,t){if(e===0)return t;for(;t!==0;){let r=t;t=e%t,e=r}return e}o(T2t,"getGreatestCommonDivisor");function w2t(e,t){return new v2t(e,t)}o(w2t,"defaultFactory");var fie=class extends C2t{static{o(this,"BalancedPool")}constructor(t=[],{factory:r=w2t,...n}={}){if(super(),this[nU]=n,this[K4]=-1,this[Y4]=0,this[iU]=this[nU].maxWeightPerServer||100,this[oU]=this[nU].errorPenalty||15,Array.isArray(t)||(t=[t]),typeof r!="function")throw new y2t("factory must be a function.");this[I2t]=n.interceptors?.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[HTe]=r;for(let i of t)this.addUpstream(i);this._updateBalancedPoolStats()}addUpstream(t){let r=GTe(t).origin;if(this[w0].find(i=>i[uie].origin===r&&i.closed!==!0&&i.destroyed!==!0))return this;let n=this[HTe](r,Object.assign({},this[nU]));this[x2t](n),n.on("connect",()=>{n[Id]=Math.min(this[iU],n[Id]+this[oU])}),n.on("connectionError",()=>{n[Id]=Math.max(1,n[Id]-this[oU]),this._updateBalancedPoolStats()}),n.on("disconnect",(...i)=>{let s=i[2];s&&s.code==="UND_ERR_SOCKET"&&(n[Id]=Math.max(1,n[Id]-this[oU]),this._updateBalancedPoolStats())});for(let i of this[w0])i[Id]=this[iU];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let t=0;for(let r=0;r<this[w0].length;r++)t=T2t(this[w0][r][Id],t);this[VTe]=t}removeUpstream(t){let r=GTe(t).origin,n=this[w0].find(i=>i[uie].origin===r&&i.closed!==!0&&i.destroyed!==!0);return n&&this[E2t](n),this}get upstreams(){return this[w0].filter(t=>t.closed!==!0&&t.destroyed!==!0).map(t=>t[uie].origin)}[b2t](){if(this[w0].length===0)throw new A2t;if(!this[w0].find(s=>!s[bS]&&s.closed!==!0&&s.destroyed!==!0)||this[w0].map(s=>s[bS]).reduce((s,a)=>s&&a,!0))return;let n=0,i=this[w0].findIndex(s=>!s[bS]);for(;n++<this[w0].length;){this[K4]=(this[K4]+1)%this[w0].length;let s=this[w0][this[K4]];if(s[Id]>this[w0][i][Id]&&!s[bS]&&(i=this[K4]),this[K4]===0&&(this[Y4]=this[Y4]-this[VTe],this[Y4]<=0&&(this[Y4]=this[iU])),s[Id]>=this[Y4]&&!s[bS])return s}return this[Y4]=this[w0][i][Id],this[K4]=i,this[w0][i]}};jTe.exports=fie});var h8=V((uWr,ewe)=>{"use strict";d();var{InvalidArgumentError:sU}=ao(),{kClients:Ay,kRunning:zTe,kClose:S2t,kDestroy:_2t,kDispatch:k2t,kInterceptors:B2t}=Ts(),R2t=JI(),D2t=m8(),P2t=CS(),F2t=ui(),N2t=eU(),YTe=Symbol("onConnect"),KTe=Symbol("onDisconnect"),JTe=Symbol("onConnectionError"),L2t=Symbol("maxRedirections"),XTe=Symbol("onDrain"),ZTe=Symbol("factory"),die=Symbol("options");function Q2t(e,t){return t&&t.connections===1?new P2t(e,t):new D2t(e,t)}o(Q2t,"defaultFactory");var mie=class extends R2t{static{o(this,"Agent")}constructor({factory:t=Q2t,maxRedirections:r=0,connect:n,...i}={}){if(super(),typeof t!="function")throw new sU("factory must be a function.");if(n!=null&&typeof n!="function"&&typeof n!="object")throw new sU("connect must be a function or an object");if(!Number.isInteger(r)||r<0)throw new sU("maxRedirections must be a positive number");n&&typeof n!="function"&&(n={...n}),this[B2t]=i.interceptors?.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[N2t({maxRedirections:r})],this[die]={...F2t.deepClone(i),connect:n},this[die].interceptors=i.interceptors?{...i.interceptors}:void 0,this[L2t]=r,this[ZTe]=t,this[Ay]=new Map,this[XTe]=(s,a)=>{this.emit("drain",s,[this,...a])},this[YTe]=(s,a)=>{this.emit("connect",s,[this,...a])},this[KTe]=(s,a,l)=>{this.emit("disconnect",s,[this,...a],l)},this[JTe]=(s,a,l)=>{this.emit("connectionError",s,[this,...a],l)}}get[zTe](){let t=0;for(let r of this[Ay].values())t+=r[zTe];return t}[k2t](t,r){let n;if(t.origin&&(typeof t.origin=="string"||t.origin instanceof URL))n=String(t.origin);else throw new sU("opts.origin must be a non-empty string or URL.");let i=this[Ay].get(n);return i||(i=this[ZTe](t.origin,this[die]).on("drain",this[XTe]).on("connect",this[YTe]).on("disconnect",this[KTe]).on("connectionError",this[JTe]),this[Ay].set(n,i)),i.dispatch(t,r)}async[S2t](){let t=[];for(let r of this[Ay].values())t.push(r.close());this[Ay].clear(),await Promise.all(t)}async[_2t](t){let r=[];for(let n of this[Ay].values())r.push(n.destroy(t));this[Ay].clear(),await Promise.all(r)}};ewe.exports=mie});var gie=V((mWr,iwe)=>{"use strict";d();var{kProxy:M2t,kClose:O2t,kDestroy:U2t,kInterceptors:q2t}=Ts(),{URL:vS}=require("node:url"),W2t=h8(),G2t=m8(),H2t=JI(),{InvalidArgumentError:cU,RequestAbortedError:V2t,SecureProxyConnectionError:j2t}=ao(),twe=Zw(),aU=Symbol("proxy agent"),lU=Symbol("proxy client"),IS=Symbol("proxy headers"),hie=Symbol("request tls settings"),rwe=Symbol("proxy tls settings"),nwe=Symbol("connect endpoint function");function $2t(e){return e==="https:"?443:80}o($2t,"defaultProtocolPort");function z2t(e,t){return new G2t(e,t)}o(z2t,"defaultFactory");var Y2t=o(()=>{},"noop"),pie=class extends H2t{static{o(this,"ProxyAgent")}constructor(t){if(super(),!t||typeof t=="object"&&!(t instanceof vS)&&!t.uri)throw new cU("Proxy uri is mandatory");let{clientFactory:r=z2t}=t;if(typeof r!="function")throw new cU("Proxy opts.clientFactory must be a function.");let n=this.#e(t),{href:i,origin:s,port:a,protocol:l,username:c,password:u,hostname:f}=n;if(this[M2t]={uri:i,protocol:l},this[q2t]=t.interceptors?.ProxyAgent&&Array.isArray(t.interceptors.ProxyAgent)?t.interceptors.ProxyAgent:[],this[hie]=t.requestTls,this[rwe]=t.proxyTls,this[IS]=t.headers||{},t.auth&&t.token)throw new cU("opts.auth cannot be used in combination with opts.token");t.auth?this[IS]["proxy-authorization"]=`Basic ${t.auth}`:t.token?this[IS]["proxy-authorization"]=t.token:c&&u&&(this[IS]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(c)}:${decodeURIComponent(u)}`).toString("base64")}`);let m=twe({...t.proxyTls});this[nwe]=twe({...t.requestTls}),this[lU]=r(n,{connect:m}),this[aU]=new W2t({...t,connect:o(async(h,p)=>{let A=h.host;h.port||(A+=`:${$2t(h.protocol)}`);try{let{socket:x,statusCode:E}=await this[lU].connect({origin:s,port:a,path:A,signal:h.signal,headers:{...this[IS],host:h.host},servername:this[rwe]?.servername||f});if(E!==200&&(x.on("error",Y2t).destroy(),p(new V2t(`Proxy response (${E}) !== 200 when HTTP Tunneling`))),h.protocol!=="https:"){p(null,x);return}let v;this[hie]?v=this[hie].servername:v=h.servername,this[nwe]({...h,servername:v,httpSocket:x},p)}catch(x){x.code==="ERR_TLS_CERT_ALTNAME_INVALID"?p(new j2t(x)):p(x)}},"connect")})}dispatch(t,r){let n=K2t(t.headers);if(J2t(n),n&&!("host"in n)&&!("Host"in n)){let{host:i}=new vS(t.origin);n.host=i}return this[aU].dispatch({...t,headers:n},r)}#e(t){return typeof t=="string"?new vS(t):t instanceof vS?t:new vS(t.uri)}async[O2t](){await this[aU].close(),await this[lU].close()}async[U2t](){await this[aU].destroy(),await this[lU].destroy()}};function K2t(e){if(Array.isArray(e)){let t={};for(let r=0;r<e.length;r+=2)t[e[r]]=e[r+1];return t}return e}o(K2t,"buildHeaders");function J2t(e){if(e&&Object.keys(e).find(r=>r.toLowerCase()==="proxy-authorization"))throw new cU("Proxy-Authorization should be sent in ProxyAgent constructor")}o(J2t,"throwIfProxyAuthIsSent");iwe.exports=pie});var uwe=V((gWr,cwe)=>{"use strict";d();var X2t=JI(),{kClose:Z2t,kDestroy:e5t,kClosed:owe,kDestroyed:swe,kDispatch:t5t,kNoProxyAgent:TS,kHttpProxyAgent:yy,kHttpsProxyAgent:J4}=Ts(),awe=gie(),r5t=h8(),n5t={"http:":80,"https:":443},lwe=!1,Aie=class extends X2t{static{o(this,"EnvHttpProxyAgent")}#e=null;#t=null;#i=null;constructor(t={}){super(),this.#i=t,lwe||(lwe=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:r,httpsProxy:n,noProxy:i,...s}=t;this[TS]=new r5t(s);let a=r??process.env.http_proxy??process.env.HTTP_PROXY;a?this[yy]=new awe({...s,uri:a}):this[yy]=this[TS];let l=n??process.env.https_proxy??process.env.HTTPS_PROXY;l?this[J4]=new awe({...s,uri:l}):this[J4]=this[yy],this.#o()}[t5t](t,r){let n=new URL(t.origin);return this.#n(n).dispatch(t,r)}async[Z2t](){await this[TS].close(),this[yy][owe]||await this[yy].close(),this[J4][owe]||await this[J4].close()}async[e5t](t){await this[TS].destroy(t),this[yy][swe]||await this[yy].destroy(t),this[J4][swe]||await this[J4].destroy(t)}#n(t){let{protocol:r,host:n,port:i}=t;return n=n.replace(/:\d*$/,"").toLowerCase(),i=Number.parseInt(i,10)||n5t[r]||0,this.#r(n,i)?r==="https:"?this[J4]:this[yy]:this[TS]}#r(t,r){if(this.#s&&this.#o(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let n=0;n<this.#t.length;n++){let i=this.#t[n];if(!(i.port&&i.port!==r)){if(/^[.*]/.test(i.hostname)){if(t.endsWith(i.hostname.replace(/^\*/,"")))return!1}else if(t===i.hostname)return!1}}return!0}#o(){let t=this.#i.noProxy??this.#a,r=t.split(/[,\s]/),n=[];for(let i=0;i<r.length;i++){let s=r[i];if(!s)continue;let a=s.match(/^(.+):(\d+)$/);n.push({hostname:(a?a[1]:s).toLowerCase(),port:a?Number.parseInt(a[2],10):0})}this.#e=t,this.#t=n}get#s(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};cwe.exports=Aie});var uU=V((CWr,hwe)=>{"use strict";d();var p8=require("node:assert"),{kRetryHandlerDefaultRetry:fwe}=Ts(),{RequestRetryError:wS}=ao(),{isDisturbed:dwe,parseHeaders:i5t,parseRangeHeader:mwe,wrapRequestBody:o5t}=ui();function s5t(e){let t=Date.now();return new Date(e).getTime()-t}o(s5t,"calculateRetryAfterHeader");var yie=class e{static{o(this,"RetryHandler")}constructor(t,r){let{retryOptions:n,...i}=t,{retry:s,maxRetries:a,maxTimeout:l,minTimeout:c,timeoutFactor:u,methods:f,errorCodes:m,retryAfter:h,statusCodes:p}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts={...i,body:o5t(t.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:s??e[fwe],retryAfter:h??!0,maxTimeout:l??30*1e3,minTimeout:c??500,timeoutFactor:u??2,maxRetries:a??5,methods:f??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:p??[500,502,503,504,429],errorCodes:m??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(A=>{this.aborted=!0,this.abort?this.abort(A):this.reason=A})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(t,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(t,r,n)}onConnect(t){this.aborted?t(this.reason):this.abort=t}onBodySent(t){if(this.handler.onBodySent)return this.handler.onBodySent(t)}static[fwe](t,{state:r,opts:n},i){let{statusCode:s,code:a,headers:l}=t,{method:c,retryOptions:u}=n,{maxRetries:f,minTimeout:m,maxTimeout:h,timeoutFactor:p,statusCodes:A,errorCodes:x,methods:E}=u,{counter:v}=r;if(a&&a!=="UND_ERR_REQ_RETRY"&&!x.includes(a)){i(t);return}if(Array.isArray(E)&&!E.includes(c)){i(t);return}if(s!=null&&Array.isArray(A)&&!A.includes(s)){i(t);return}if(v>f){i(t);return}let b=l?.["retry-after"];b&&(b=Number(b),b=Number.isNaN(b)?s5t(b):b*1e3);let S=b>0?Math.min(b,h):Math.min(m*p**(v-1),h);setTimeout(()=>i(null),S)}onHeaders(t,r,n,i){let s=i5t(r);if(this.retryCount+=1,t>=300)return this.retryOpts.statusCodes.includes(t)===!1?this.handler.onHeaders(t,r,n,i):(this.abort(new wS("Request failed",t,{headers:s,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,t!==206&&(this.start>0||t!==200))return this.abort(new wS("server does not support the range header and the payload was partially consumed",t,{headers:s,data:{count:this.retryCount}})),!1;let l=mwe(s["content-range"]);if(!l)return this.abort(new wS("Content-Range mismatch",t,{headers:s,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==s.etag)return this.abort(new wS("ETag mismatch",t,{headers:s,data:{count:this.retryCount}})),!1;let{start:c,size:u,end:f=u-1}=l;return p8(this.start===c,"content-range mismatch"),p8(this.end==null||this.end===f,"content-range mismatch"),this.resume=n,!0}if(this.end==null){if(t===206){let l=mwe(s["content-range"]);if(l==null)return this.handler.onHeaders(t,r,n,i);let{start:c,size:u,end:f=u-1}=l;p8(c!=null&&Number.isFinite(c),"content-range mismatch"),p8(f!=null&&Number.isFinite(f),"invalid content-length"),this.start=c,this.end=f}if(this.end==null){let l=s["content-length"];this.end=l!=null?Number(l)-1:null}return p8(Number.isFinite(this.start)),p8(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=n,this.etag=s.etag!=null?s.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(t,r,n,i)}let a=new wS("Request failed",t,{headers:s,data:{count:this.retryCount}});return this.abort(a),!1}onData(t){return this.start+=t.length,this.handler.onData(t)}onComplete(t){return this.retryCount=0,this.handler.onComplete(t)}onError(t){if(this.aborted||dwe(this.opts.body))return this.handler.onError(t);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(t,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||dwe(this.opts.body))return this.handler.onError(n);if(this.start!==0){let i={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(i["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...i}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}o(r,"onRetry")}};hwe.exports=yie});var gwe=V((bWr,pwe)=>{"use strict";d();var a5t=Jw(),l5t=uU(),Cie=class extends a5t{static{o(this,"RetryAgent")}#e=null;#t=null;constructor(t,r={}){super(r),this.#e=t,this.#t=r}dispatch(t,r){let n=new l5t({...t,retryOptions:this.#t},{dispatch:this.#e.dispatch.bind(this.#e),handler:r});return this.#e.dispatch(t,n)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};pwe.exports=Cie});var Tie=V((TWr,Twe)=>{"use strict";d();var Ewe=require("node:assert"),{Readable:c5t}=require("node:stream"),{RequestAbortedError:bwe,NotSupportedError:u5t,InvalidArgumentError:f5t,AbortError:xie}=ao(),vwe=ui(),{ReadableStreamFrom:d5t}=ui(),Xu=Symbol("kConsume"),SS=Symbol("kReading"),Cy=Symbol("kBody"),Awe=Symbol("kAbort"),Iwe=Symbol("kContentType"),ywe=Symbol("kContentLength"),m5t=o(()=>{},"noop"),Eie=class extends c5t{static{o(this,"BodyReadable")}constructor({resume:t,abort:r,contentType:n="",contentLength:i,highWaterMark:s=64*1024}){super({autoDestroy:!0,read:t,highWaterMark:s}),this._readableState.dataEmitted=!1,this[Awe]=r,this[Xu]=null,this[Cy]=null,this[Iwe]=n,this[ywe]=i,this[SS]=!1}destroy(t){return!t&&!this._readableState.endEmitted&&(t=new bwe),t&&this[Awe](),super.destroy(t)}_destroy(t,r){this[SS]?r(t):setImmediate(()=>{r(t)})}on(t,...r){return(t==="data"||t==="readable")&&(this[SS]=!0),super.on(t,...r)}addListener(t,...r){return this.on(t,...r)}off(t,...r){let n=super.off(t,...r);return(t==="data"||t==="readable")&&(this[SS]=this.listenerCount("data")>0||this.listenerCount("readable")>0),n}removeListener(t,...r){return this.off(t,...r)}push(t){return this[Xu]&&t!==null?(vie(this[Xu],t),this[SS]?super.push(t):!0):super.push(t)}async text(){return _S(this,"text")}async json(){return _S(this,"json")}async blob(){return _S(this,"blob")}async bytes(){return _S(this,"bytes")}async arrayBuffer(){return _S(this,"arrayBuffer")}async formData(){throw new u5t}get bodyUsed(){return vwe.isDisturbed(this)}get body(){return this[Cy]||(this[Cy]=d5t(this),this[Xu]&&(this[Cy].getReader(),Ewe(this[Cy].locked))),this[Cy]}async dump(t){let r=Number.isFinite(t?.limit)?t.limit:131072,n=t?.signal;if(n!=null&&(typeof n!="object"||!("aborted"in n)))throw new f5t("signal must be an AbortSignal");return n?.throwIfAborted(),this._readableState.closeEmitted?null:await new Promise((i,s)=>{this[ywe]>r&&this.destroy(new xie);let a=o(()=>{this.destroy(n.reason??new xie)},"onAbort");n?.addEventListener("abort",a),this.on("close",function(){n?.removeEventListener("abort",a),n?.aborted?s(n.reason??new xie):i(null)}).on("error",m5t).on("data",function(l){r-=l.length,r<=0&&this.destroy()}).resume()})}};function h5t(e){return e[Cy]&&e[Cy].locked===!0||e[Xu]}o(h5t,"isLocked");function p5t(e){return vwe.isDisturbed(e)||h5t(e)}o(p5t,"isUnusable");async function _S(e,t){return Ewe(!e[Xu]),new Promise((r,n)=>{if(p5t(e)){let i=e._readableState;i.destroyed&&i.closeEmitted===!1?e.on("error",s=>{n(s)}).on("close",()=>{n(new TypeError("unusable"))}):n(i.errored??new TypeError("unusable"))}else queueMicrotask(()=>{e[Xu]={type:t,stream:e,resolve:r,reject:n,length:0,body:[]},e.on("error",function(i){Iie(this[Xu],i)}).on("close",function(){this[Xu].body!==null&&Iie(this[Xu],new bwe)}),g5t(e[Xu])})})}o(_S,"consume");function g5t(e){if(e.body===null)return;let{_readableState:t}=e.stream;if(t.bufferIndex){let r=t.bufferIndex,n=t.buffer.length;for(let i=r;i<n;i++)vie(e,t.buffer[i])}else for(let r of t.buffer)vie(e,r);for(t.endEmitted?xwe(this[Xu]):e.stream.on("end",function(){xwe(this[Xu])}),e.stream.resume();e.stream.read()!=null;);}o(g5t,"consumeStart");function bie(e,t){if(e.length===0||t===0)return"";let r=e.length===1?e[0]:Buffer.concat(e,t),n=r.length,i=n>2&&r[0]===239&&r[1]===187&&r[2]===191?3:0;return r.utf8Slice(i,n)}o(bie,"chunksDecode");function Cwe(e,t){if(e.length===0||t===0)return new Uint8Array(0);if(e.length===1)return new Uint8Array(e[0]);let r=new Uint8Array(Buffer.allocUnsafeSlow(t).buffer),n=0;for(let i=0;i<e.length;++i){let s=e[i];r.set(s,n),n+=s.length}return r}o(Cwe,"chunksConcat");function xwe(e){let{type:t,body:r,resolve:n,stream:i,length:s}=e;try{t==="text"?n(bie(r,s)):t==="json"?n(JSON.parse(bie(r,s))):t==="arrayBuffer"?n(Cwe(r,s).buffer):t==="blob"?n(new Blob(r,{type:i[Iwe]})):t==="bytes"&&n(Cwe(r,s)),Iie(e)}catch(a){i.destroy(a)}}o(xwe,"consumeEnd");function vie(e,t){e.length+=t.length,e.body.push(t)}o(vie,"consumePush");function Iie(e,t){e.body!==null&&(t?e.reject(t):e.resolve(),e.type=null,e.stream=null,e.resolve=null,e.reject=null,e.length=0,e.body=null)}o(Iie,"consumeFinish");Twe.exports={Readable:Eie,chunksDecode:bie}});var wie=V((_Wr,Bwe)=>{d();var A5t=require("node:assert"),{ResponseStatusCodeError:wwe}=ao(),{chunksDecode:Swe}=Tie(),y5t=128*1024;async function C5t({callback:e,body:t,contentType:r,statusCode:n,statusMessage:i,headers:s}){A5t(t);let a=[],l=0;try{for await(let m of t)if(a.push(m),l+=m.length,l>y5t){a=[],l=0;break}}catch{a=[],l=0}let c=`Response status code ${n}${i?`: ${i}`:""}`;if(n===204||!r||!l){queueMicrotask(()=>e(new wwe(c,n,s)));return}let u=Error.stackTraceLimit;Error.stackTraceLimit=0;let f;try{_we(r)?f=JSON.parse(Swe(a,l)):kwe(r)&&(f=Swe(a,l))}catch{}finally{Error.stackTraceLimit=u}queueMicrotask(()=>e(new wwe(c,n,s,f)))}o(C5t,"getResolveErrorBodyCallback");var _we=o(e=>e.length>15&&e[11]==="/"&&e[0]==="a"&&e[1]==="p"&&e[2]==="p"&&e[3]==="l"&&e[4]==="i"&&e[5]==="c"&&e[6]==="a"&&e[7]==="t"&&e[8]==="i"&&e[9]==="o"&&e[10]==="n"&&e[12]==="j"&&e[13]==="s"&&e[14]==="o"&&e[15]==="n","isContentTypeApplicationJson"),kwe=o(e=>e.length>4&&e[4]==="/"&&e[0]==="t"&&e[1]==="e"&&e[2]==="x"&&e[3]==="t","isContentTypeText");Bwe.exports={getResolveErrorBodyCallback:C5t,isContentTypeApplicationJson:_we,isContentTypeText:kwe}});var Pwe=V((RWr,Sie)=>{"use strict";d();var x5t=require("node:assert"),{Readable:E5t}=Tie(),{InvalidArgumentError:g8,RequestAbortedError:Rwe}=ao(),Zu=ui(),{getResolveErrorBodyCallback:b5t}=wie(),{AsyncResource:v5t}=require("node:async_hooks"),fU=class extends v5t{static{o(this,"RequestHandler")}constructor(t,r){if(!t||typeof t!="object")throw new g8("invalid opts");let{signal:n,method:i,opaque:s,body:a,onInfo:l,responseHeaders:c,throwOnError:u,highWaterMark:f}=t;try{if(typeof r!="function")throw new g8("invalid callback");if(f&&(typeof f!="number"||f<0))throw new g8("invalid highWaterMark");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new g8("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new g8("invalid method");if(l&&typeof l!="function")throw new g8("invalid onInfo callback");super("UNDICI_REQUEST")}catch(m){throw Zu.isStream(a)&&Zu.destroy(a.on("error",Zu.nop),m),m}this.method=i,this.responseHeaders=c||null,this.opaque=s||null,this.callback=r,this.res=null,this.abort=null,this.body=a,this.trailers={},this.context=null,this.onInfo=l||null,this.throwOnError=u,this.highWaterMark=f,this.signal=n,this.reason=null,this.removeAbortListener=null,Zu.isStream(a)&&a.on("error",m=>{this.onError(m)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new Rwe:this.removeAbortListener=Zu.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new Rwe,this.res?Zu.destroy(this.res.on("error",Zu.nop),this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(t,r){if(this.reason){t(this.reason);return}x5t(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{callback:s,opaque:a,abort:l,context:c,responseHeaders:u,highWaterMark:f}=this,m=u==="raw"?Zu.parseRawHeaders(r):Zu.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:m});return}let h=u==="raw"?Zu.parseHeaders(r):m,p=h["content-type"],A=h["content-length"],x=new E5t({resume:n,abort:l,contentType:p,contentLength:this.method!=="HEAD"&&A?Number(A):null,highWaterMark:f});this.removeAbortListener&&x.on("close",this.removeAbortListener),this.callback=null,this.res=x,s!==null&&(this.throwOnError&&t>=400?this.runInAsyncScope(b5t,null,{callback:s,body:x,contentType:p,statusCode:t,statusMessage:i,headers:m}):this.runInAsyncScope(s,null,null,{statusCode:t,headers:m,trailers:this.trailers,opaque:a,body:x,context:c}))}onData(t){return this.res.push(t)}onComplete(t){Zu.parseHeaders(t,this.trailers),this.res.push(null)}onError(t){let{res:r,callback:n,body:i,opaque:s}=this;n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:s})})),r&&(this.res=null,queueMicrotask(()=>{Zu.destroy(r,t)})),i&&(this.body=null,Zu.destroy(i,t)),this.removeAbortListener&&(r?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function Dwe(e,t){if(t===void 0)return new Promise((r,n)=>{Dwe.call(this,e,(i,s)=>i?n(i):r(s))});try{this.dispatch(e,new fU(e,t))}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(Dwe,"request");Sie.exports=Dwe;Sie.exports.RequestHandler=fU});var kS=V((FWr,Lwe)=>{d();var{addAbortListener:I5t}=ui(),{RequestAbortedError:T5t}=ao(),A8=Symbol("kListener"),Wp=Symbol("kSignal");function Fwe(e){e.abort?e.abort(e[Wp]?.reason):e.reason=e[Wp]?.reason??new T5t,Nwe(e)}o(Fwe,"abort");function w5t(e,t){if(e.reason=null,e[Wp]=null,e[A8]=null,!!t){if(t.aborted){Fwe(e);return}e[Wp]=t,e[A8]=()=>{Fwe(e)},I5t(e[Wp],e[A8])}}o(w5t,"addSignal");function Nwe(e){e[Wp]&&("removeEventListener"in e[Wp]?e[Wp].removeEventListener("abort",e[A8]):e[Wp].removeListener("abort",e[A8]),e[Wp]=null,e[A8]=null)}o(Nwe,"removeSignal");Lwe.exports={addSignal:w5t,removeSignal:Nwe}});var Uwe=V((QWr,Owe)=>{"use strict";d();var S5t=require("node:assert"),{finished:_5t,PassThrough:k5t}=require("node:stream"),{InvalidArgumentError:y8,InvalidReturnValueError:B5t}=ao(),Zm=ui(),{getResolveErrorBodyCallback:R5t}=wie(),{AsyncResource:D5t}=require("node:async_hooks"),{addSignal:P5t,removeSignal:Qwe}=kS(),_ie=class extends D5t{static{o(this,"StreamHandler")}constructor(t,r,n){if(!t||typeof t!="object")throw new y8("invalid opts");let{signal:i,method:s,opaque:a,body:l,onInfo:c,responseHeaders:u,throwOnError:f}=t;try{if(typeof n!="function")throw new y8("invalid callback");if(typeof r!="function")throw new y8("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new y8("signal must be an EventEmitter or EventTarget");if(s==="CONNECT")throw new y8("invalid method");if(c&&typeof c!="function")throw new y8("invalid onInfo callback");super("UNDICI_STREAM")}catch(m){throw Zm.isStream(l)&&Zm.destroy(l.on("error",Zm.nop),m),m}this.responseHeaders=u||null,this.opaque=a||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=l,this.onInfo=c||null,this.throwOnError=f||!1,Zm.isStream(l)&&l.on("error",m=>{this.onError(m)}),P5t(this,i)}onConnect(t,r){if(this.reason){t(this.reason);return}S5t(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{factory:s,opaque:a,context:l,callback:c,responseHeaders:u}=this,f=u==="raw"?Zm.parseRawHeaders(r):Zm.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:f});return}this.factory=null;let m;if(this.throwOnError&&t>=400){let A=(u==="raw"?Zm.parseHeaders(r):f)["content-type"];m=new k5t,this.callback=null,this.runInAsyncScope(R5t,null,{callback:c,body:m,contentType:A,statusCode:t,statusMessage:i,headers:f})}else{if(s===null)return;if(m=this.runInAsyncScope(s,null,{statusCode:t,headers:f,opaque:a,context:l}),!m||typeof m.write!="function"||typeof m.end!="function"||typeof m.on!="function")throw new B5t("expected Writable");_5t(m,{readable:!1},p=>{let{callback:A,res:x,opaque:E,trailers:v,abort:b}=this;this.res=null,(p||!x.readable)&&Zm.destroy(x,p),this.callback=null,this.runInAsyncScope(A,null,p||null,{opaque:E,trailers:v}),p&&b()})}return m.on("drain",n),this.res=m,(m.writableNeedDrain!==void 0?m.writableNeedDrain:m._writableState?.needDrain)!==!0}onData(t){let{res:r}=this;return r?r.write(t):!0}onComplete(t){let{res:r}=this;Qwe(this),r&&(this.trailers=Zm.parseHeaders(t),r.end())}onError(t){let{res:r,callback:n,opaque:i,body:s}=this;Qwe(this),this.factory=null,r?(this.res=null,Zm.destroy(r,t)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:i})})),s&&(this.body=null,Zm.destroy(s,t))}};function Mwe(e,t,r){if(r===void 0)return new Promise((n,i)=>{Mwe.call(this,e,t,(s,a)=>s?i(s):n(a))});try{this.dispatch(e,new _ie(e,t,r))}catch(n){if(typeof r!="function")throw n;let i=e?.opaque;queueMicrotask(()=>r(n,{opaque:i}))}}o(Mwe,"stream");Owe.exports=Mwe});var Hwe=V((UWr,Gwe)=>{"use strict";d();var{Readable:Wwe,Duplex:F5t,PassThrough:N5t}=require("node:stream"),{InvalidArgumentError:BS,InvalidReturnValueError:L5t,RequestAbortedError:kie}=ao(),Td=ui(),{AsyncResource:Q5t}=require("node:async_hooks"),{addSignal:M5t,removeSignal:O5t}=kS(),qwe=require("node:assert"),C8=Symbol("resume"),Bie=class extends Wwe{static{o(this,"PipelineRequest")}constructor(){super({autoDestroy:!0}),this[C8]=null}_read(){let{[C8]:t}=this;t&&(this[C8]=null,t())}_destroy(t,r){this._read(),r(t)}},Rie=class extends Wwe{static{o(this,"PipelineResponse")}constructor(t){super({autoDestroy:!0}),this[C8]=t}_read(){this[C8]()}_destroy(t,r){!t&&!this._readableState.endEmitted&&(t=new kie),r(t)}},Die=class extends Q5t{static{o(this,"PipelineHandler")}constructor(t,r){if(!t||typeof t!="object")throw new BS("invalid opts");if(typeof r!="function")throw new BS("invalid handler");let{signal:n,method:i,opaque:s,onInfo:a,responseHeaders:l}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new BS("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new BS("invalid method");if(a&&typeof a!="function")throw new BS("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=s||null,this.responseHeaders=l||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=a||null,this.req=new Bie().on("error",Td.nop),this.ret=new F5t({readableObjectMode:t.objectMode,autoDestroy:!0,read:o(()=>{let{body:c}=this;c?.resume&&c.resume()},"read"),write:o((c,u,f)=>{let{req:m}=this;m.push(c,u)||m._readableState.destroyed?f():m[C8]=f},"write"),destroy:o((c,u)=>{let{body:f,req:m,res:h,ret:p,abort:A}=this;!c&&!p._readableState.endEmitted&&(c=new kie),A&&c&&A(),Td.destroy(f,c),Td.destroy(m,c),Td.destroy(h,c),O5t(this),u(c)},"destroy")}).on("prefinish",()=>{let{req:c}=this;c.push(null)}),this.res=null,M5t(this,n)}onConnect(t,r){let{ret:n,res:i}=this;if(this.reason){t(this.reason);return}qwe(!i,"pipeline cannot be retried"),qwe(!n.destroyed),this.abort=t,this.context=r}onHeaders(t,r,n){let{opaque:i,handler:s,context:a}=this;if(t<200){if(this.onInfo){let c=this.responseHeaders==="raw"?Td.parseRawHeaders(r):Td.parseHeaders(r);this.onInfo({statusCode:t,headers:c})}return}this.res=new Rie(n);let l;try{this.handler=null;let c=this.responseHeaders==="raw"?Td.parseRawHeaders(r):Td.parseHeaders(r);l=this.runInAsyncScope(s,null,{statusCode:t,headers:c,opaque:i,body:this.res,context:a})}catch(c){throw this.res.on("error",Td.nop),c}if(!l||typeof l.on!="function")throw new L5t("expected Readable");l.on("data",c=>{let{ret:u,body:f}=this;!u.push(c)&&f.pause&&f.pause()}).on("error",c=>{let{ret:u}=this;Td.destroy(u,c)}).on("end",()=>{let{ret:c}=this;c.push(null)}).on("close",()=>{let{ret:c}=this;c._readableState.ended||Td.destroy(c,new kie)}),this.body=l}onData(t){let{res:r}=this;return r.push(t)}onComplete(t){let{res:r}=this;r.push(null)}onError(t){let{ret:r}=this;this.handler=null,Td.destroy(r,t)}};function U5t(e,t){try{let r=new Die(e,t);return this.dispatch({...e,body:r.req},r),r.ret}catch(r){return new N5t().destroy(r)}}o(U5t,"pipeline");Gwe.exports=U5t});var Kwe=V((GWr,Ywe)=>{"use strict";d();var{InvalidArgumentError:Pie,SocketError:q5t}=ao(),{AsyncResource:W5t}=require("node:async_hooks"),Vwe=ui(),{addSignal:G5t,removeSignal:jwe}=kS(),$we=require("node:assert"),Fie=class extends W5t{static{o(this,"UpgradeHandler")}constructor(t,r){if(!t||typeof t!="object")throw new Pie("invalid opts");if(typeof r!="function")throw new Pie("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new Pie("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=s||null,this.opaque=i||null,this.callback=r,this.abort=null,this.context=null,G5t(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}$we(this.callback),this.abort=t,this.context=null}onHeaders(){throw new q5t("bad upgrade",null)}onUpgrade(t,r,n){$we(t===101);let{callback:i,opaque:s,context:a}=this;jwe(this),this.callback=null;let l=this.responseHeaders==="raw"?Vwe.parseRawHeaders(r):Vwe.parseHeaders(r);this.runInAsyncScope(i,null,null,{headers:l,socket:n,opaque:s,context:a})}onError(t){let{callback:r,opaque:n}=this;jwe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function zwe(e,t){if(t===void 0)return new Promise((r,n)=>{zwe.call(this,e,(i,s)=>i?n(i):r(s))});try{let r=new Fie(e,t);this.dispatch({...e,method:e.method||"GET",upgrade:e.protocol||"Websocket"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(zwe,"upgrade");Ywe.exports=zwe});var tSe=V((jWr,eSe)=>{"use strict";d();var H5t=require("node:assert"),{AsyncResource:V5t}=require("node:async_hooks"),{InvalidArgumentError:Nie,SocketError:j5t}=ao(),Jwe=ui(),{addSignal:$5t,removeSignal:Xwe}=kS(),Lie=class extends V5t{static{o(this,"ConnectHandler")}constructor(t,r){if(!t||typeof t!="object")throw new Nie("invalid opts");if(typeof r!="function")throw new Nie("invalid callback");let{signal:n,opaque:i,responseHeaders:s}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new Nie("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=s||null,this.callback=r,this.abort=null,$5t(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}H5t(this.callback),this.abort=t,this.context=r}onHeaders(){throw new j5t("bad connect",null)}onUpgrade(t,r,n){let{callback:i,opaque:s,context:a}=this;Xwe(this),this.callback=null;let l=r;l!=null&&(l=this.responseHeaders==="raw"?Jwe.parseRawHeaders(r):Jwe.parseHeaders(r)),this.runInAsyncScope(i,null,null,{statusCode:t,headers:l,socket:n,opaque:s,context:a})}onError(t){let{callback:r,opaque:n}=this;Xwe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function Zwe(e,t){if(t===void 0)return new Promise((r,n)=>{Zwe.call(this,e,(i,s)=>i?n(i):r(s))});try{let r=new Lie(e,t);this.dispatch({...e,method:"CONNECT"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}o(Zwe,"connect");eSe.exports=Zwe});var rSe=V((YWr,x8)=>{"use strict";d();x8.exports.request=Pwe();x8.exports.stream=Uwe();x8.exports.pipeline=Hwe();x8.exports.upgrade=Kwe();x8.exports.connect=tSe()});var Mie=V((JWr,nSe)=>{"use strict";d();var{UndiciError:z5t}=ao(),Qie=class e extends z5t{static{o(this,"MockNotMatchedError")}constructor(t){super(t),Error.captureStackTrace(this,e),this.name="MockNotMatchedError",this.message=t||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};nSe.exports={MockNotMatchedError:Qie}});var E8=V((eGr,iSe)=>{"use strict";d();iSe.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var RS=V((rGr,pSe)=>{"use strict";d();var{MockNotMatchedError:X4}=Mie(),{kDispatches:dU,kMockAgent:Y5t,kOriginalDispatch:K5t,kOrigin:J5t,kGetNetConnect:X5t}=E8(),{buildURL:Z5t}=ui(),{STATUS_CODES:eyt}=require("node:http"),{types:{isPromise:tyt}}=require("node:util");function tA(e,t){return typeof e=="string"?e===t:e instanceof RegExp?e.test(t):typeof e=="function"?e(t)===!0:!1}o(tA,"matchValue");function sSe(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t.toLocaleLowerCase(),r]))}o(sSe,"lowerCaseEntries");function aSe(e,t){if(Array.isArray(e)){for(let r=0;r<e.length;r+=2)if(e[r].toLocaleLowerCase()===t.toLocaleLowerCase())return e[r+1];return}else return typeof e.get=="function"?e.get(t):sSe(e)[t.toLocaleLowerCase()]}o(aSe,"getHeaderByName");function qie(e){let t=e.slice(),r=[];for(let n=0;n<t.length;n+=2)r.push([t[n],t[n+1]]);return Object.fromEntries(r)}o(qie,"buildHeadersFromArray");function lSe(e,t){if(typeof e.headers=="function")return Array.isArray(t)&&(t=qie(t)),e.headers(t?sSe(t):{});if(typeof e.headers>"u")return!0;if(typeof t!="object"||typeof e.headers!="object")return!1;for(let[r,n]of Object.entries(e.headers)){let i=aSe(t,r);if(!tA(n,i))return!1}return!0}o(lSe,"matchHeaders");function oSe(e){if(typeof e!="string")return e;let t=e.split("?");if(t.length!==2)return e;let r=new URLSearchParams(t.pop());return r.sort(),[...t,r.toString()].join("?")}o(oSe,"safeUrl");function ryt(e,{path:t,method:r,body:n,headers:i}){let s=tA(e.path,t),a=tA(e.method,r),l=typeof e.body<"u"?tA(e.body,n):!0,c=lSe(e,i);return s&&a&&l&&c}o(ryt,"matchKey");function cSe(e){return Buffer.isBuffer(e)||e instanceof Uint8Array||e instanceof ArrayBuffer?e:typeof e=="object"?JSON.stringify(e):e.toString()}o(cSe,"getResponseData");function uSe(e,t){let r=t.query?Z5t(t.path,t.query):t.path,n=typeof r=="string"?oSe(r):r,i=e.filter(({consumed:s})=>!s).filter(({path:s})=>tA(oSe(s),n));if(i.length===0)throw new X4(`Mock dispatch not matched for path '${n}'`);if(i=i.filter(({method:s})=>tA(s,t.method)),i.length===0)throw new X4(`Mock dispatch not matched for method '${t.method}' on path '${n}'`);if(i=i.filter(({body:s})=>typeof s<"u"?tA(s,t.body):!0),i.length===0)throw new X4(`Mock dispatch not matched for body '${t.body}' on path '${n}'`);if(i=i.filter(s=>lSe(s,t.headers)),i.length===0){let s=typeof t.headers=="object"?JSON.stringify(t.headers):t.headers;throw new X4(`Mock dispatch not matched for headers '${s}' on path '${n}'`)}return i[0]}o(uSe,"getMockDispatch");function nyt(e,t,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof r=="function"?{callback:r}:{...r},s={...n,...t,pending:!0,data:{error:null,...i}};return e.push(s),s}o(nyt,"addMockDispatch");function Oie(e,t){let r=e.findIndex(n=>n.consumed?ryt(n,t):!1);r!==-1&&e.splice(r,1)}o(Oie,"deleteMockDispatch");function fSe(e){let{path:t,method:r,body:n,headers:i,query:s}=e;return{path:t,method:r,body:n,headers:i,query:s}}o(fSe,"buildKey");function Uie(e){let t=Object.keys(e),r=[];for(let n=0;n<t.length;++n){let i=t[n],s=e[i],a=Buffer.from(`${i}`);if(Array.isArray(s))for(let l=0;l<s.length;++l)r.push(a,Buffer.from(`${s[l]}`));else r.push(a,Buffer.from(`${s}`))}return r}o(Uie,"generateKeyValues");function dSe(e){return eyt[e]||"unknown"}o(dSe,"getStatusText");async function iyt(e){let t=[];for await(let r of e)t.push(r);return Buffer.concat(t).toString("utf8")}o(iyt,"getResponse");function mSe(e,t){let r=fSe(e),n=uSe(this[dU],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(e)});let{data:{statusCode:i,data:s,headers:a,trailers:l,error:c},delay:u,persist:f}=n,{timesInvoked:m,times:h}=n;if(n.consumed=!f&&m>=h,n.pending=m<h,c!==null)return Oie(this[dU],r),t.onError(c),!0;typeof u=="number"&&u>0?setTimeout(()=>{p(this[dU])},u):p(this[dU]);function p(x,E=s){let v=Array.isArray(e.headers)?qie(e.headers):e.headers,b=typeof E=="function"?E({...e,headers:v}):E;if(tyt(b)){b.then(F=>p(x,F));return}let S=cSe(b),B=Uie(a),D=Uie(l);t.onConnect?.(F=>t.onError(F),null),t.onHeaders?.(i,B,A,dSe(i)),t.onData?.(Buffer.from(S)),t.onComplete?.(D),Oie(x,r)}o(p,"handleReply");function A(){}return o(A,"resume"),!0}o(mSe,"mockDispatch");function oyt(){let e=this[Y5t],t=this[J5t],r=this[K5t];return o(function(i,s){if(e.isMockActive)try{mSe.call(this,i,s)}catch(a){if(a instanceof X4){let l=e[X5t]();if(l===!1)throw new X4(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect disabled)`);if(hSe(l,t))r.call(this,i,s);else throw new X4(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect is not enabled for this origin)`)}else throw a}else r.call(this,i,s)},"dispatch")}o(oyt,"buildMockDispatch");function hSe(e,t){let r=new URL(t);return e===!0?!0:!!(Array.isArray(e)&&e.some(n=>tA(n,r.host)))}o(hSe,"checkNetConnect");function syt(e){if(e){let{agent:t,...r}=e;return r}}o(syt,"buildMockOptions");pSe.exports={getResponseData:cSe,getMockDispatch:uSe,addMockDispatch:nyt,deleteMockDispatch:Oie,buildKey:fSe,generateKeyValues:Uie,matchValue:tA,getResponse:iyt,getStatusText:dSe,mockDispatch:mSe,buildMockDispatch:oyt,checkNetConnect:hSe,buildMockOptions:syt,getHeaderByName:aSe,buildHeadersFromArray:qie}});var zie=V((oGr,$ie)=>{"use strict";d();var{getResponseData:ayt,buildKey:lyt,addMockDispatch:Wie}=RS(),{kDispatches:mU,kDispatchKey:hU,kDefaultHeaders:Gie,kDefaultTrailers:Hie,kContentLength:Vie,kMockDispatch:pU}=E8(),{InvalidArgumentError:Gp}=ao(),{buildURL:cyt}=ui(),b8=class{static{o(this,"MockScope")}constructor(t){this[pU]=t}delay(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new Gp("waitInMs must be a valid integer > 0");return this[pU].delay=t,this}persist(){return this[pU].persist=!0,this}times(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new Gp("repeatTimes must be a valid integer > 0");return this[pU].times=t,this}},jie=class{static{o(this,"MockInterceptor")}constructor(t,r){if(typeof t!="object")throw new Gp("opts must be an object");if(typeof t.path>"u")throw new Gp("opts.path must be defined");if(typeof t.method>"u"&&(t.method="GET"),typeof t.path=="string")if(t.query)t.path=cyt(t.path,t.query);else{let n=new URL(t.path,"data://");t.path=n.pathname+n.search}typeof t.method=="string"&&(t.method=t.method.toUpperCase()),this[hU]=lyt(t),this[mU]=r,this[Gie]={},this[Hie]={},this[Vie]=!1}createMockScopeDispatchData({statusCode:t,data:r,responseOptions:n}){let i=ayt(r),s=this[Vie]?{"content-length":i.length}:{},a={...this[Gie],...s,...n.headers},l={...this[Hie],...n.trailers};return{statusCode:t,data:r,headers:a,trailers:l}}validateReplyParameters(t){if(typeof t.statusCode>"u")throw new Gp("statusCode must be defined");if(typeof t.responseOptions!="object"||t.responseOptions===null)throw new Gp("responseOptions must be an object")}reply(t){if(typeof t=="function"){let s=o(l=>{let c=t(l);if(typeof c!="object"||c===null)throw new Gp("reply options callback must return an object");let u={data:"",responseOptions:{},...c};return this.validateReplyParameters(u),{...this.createMockScopeDispatchData(u)}},"wrappedDefaultsCallback"),a=Wie(this[mU],this[hU],s);return new b8(a)}let r={statusCode:t,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(r);let n=this.createMockScopeDispatchData(r),i=Wie(this[mU],this[hU],n);return new b8(i)}replyWithError(t){if(typeof t>"u")throw new Gp("error must be defined");let r=Wie(this[mU],this[hU],{error:t});return new b8(r)}defaultReplyHeaders(t){if(typeof t>"u")throw new Gp("headers must be defined");return this[Gie]=t,this}defaultReplyTrailers(t){if(typeof t>"u")throw new Gp("trailers must be defined");return this[Hie]=t,this}replyContentLength(){return this[Vie]=!0,this}};$ie.exports.MockInterceptor=jie;$ie.exports.MockScope=b8});var Jie=V((lGr,bSe)=>{"use strict";d();var{promisify:uyt}=require("node:util"),fyt=CS(),{buildMockDispatch:dyt}=RS(),{kDispatches:gSe,kMockAgent:ASe,kClose:ySe,kOriginalClose:CSe,kOrigin:xSe,kOriginalDispatch:myt,kConnected:Yie}=E8(),{MockInterceptor:hyt}=zie(),ESe=Ts(),{InvalidArgumentError:pyt}=ao(),Kie=class extends fyt{static{o(this,"MockClient")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new pyt("Argument opts.agent must implement Agent");this[ASe]=r.agent,this[xSe]=t,this[gSe]=[],this[Yie]=1,this[myt]=this.dispatch,this[CSe]=this.close.bind(this),this.dispatch=dyt.call(this),this.close=this[ySe]}get[ESe.kConnected](){return this[Yie]}intercept(t){return new hyt(t,this[gSe])}async[ySe](){await uyt(this[CSe])(),this[Yie]=0,this[ASe][ESe.kClients].delete(this[xSe])}};bSe.exports=Kie});var eoe=V((fGr,kSe)=>{"use strict";d();var{promisify:gyt}=require("node:util"),Ayt=m8(),{buildMockDispatch:yyt}=RS(),{kDispatches:vSe,kMockAgent:ISe,kClose:TSe,kOriginalClose:wSe,kOrigin:SSe,kOriginalDispatch:Cyt,kConnected:Xie}=E8(),{MockInterceptor:xyt}=zie(),_Se=Ts(),{InvalidArgumentError:Eyt}=ao(),Zie=class extends Ayt{static{o(this,"MockPool")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new Eyt("Argument opts.agent must implement Agent");this[ISe]=r.agent,this[SSe]=t,this[vSe]=[],this[Xie]=1,this[Cyt]=this.dispatch,this[wSe]=this.close.bind(this),this.dispatch=yyt.call(this),this.close=this[TSe]}get[_Se.kConnected](){return this[Xie]}intercept(t){return new xyt(t,this[vSe])}async[TSe](){await gyt(this[wSe])(),this[Xie]=0,this[ISe][_Se.kClients].delete(this[SSe])}};kSe.exports=Zie});var RSe=V((pGr,BSe)=>{"use strict";d();var byt={pronoun:"it",is:"is",was:"was",this:"this"},vyt={pronoun:"they",is:"are",was:"were",this:"these"};BSe.exports=class{static{o(this,"Pluralizer")}constructor(t,r){this.singular=t,this.plural=r}pluralize(t){let r=t===1,n=r?byt:vyt,i=r?this.singular:this.plural;return{...n,count:t,noun:i}}}});var PSe=V((CGr,DSe)=>{"use strict";d();var{Transform:Iyt}=require("node:stream"),{Console:Tyt}=require("node:console"),wyt=process.versions.icu?"\u2705":"Y ",Syt=process.versions.icu?"\u274C":"N ";DSe.exports=class{static{o(this,"PendingInterceptorsFormatter")}constructor({disableColors:t}={}){this.transform=new Iyt({transform(r,n,i){i(null,r)}}),this.logger=new Tyt({stdout:this.transform,inspectOptions:{colors:!t&&!process.env.CI}})}format(t){let r=t.map(({method:n,path:i,data:{statusCode:s},persist:a,times:l,timesInvoked:c,origin:u})=>({Method:n,Origin:u,Path:i,"Status code":s,Persistent:a?wyt:Syt,Invocations:c,Remaining:a?1/0:l-c}));return this.logger.table(r),this.transform.read().toString()}}});var QSe=V((bGr,LSe)=>{"use strict";d();var{kClients:Z4}=Ts(),_yt=h8(),{kAgent:toe,kMockAgentSet:gU,kMockAgentGet:FSe,kDispatches:roe,kIsMockActive:AU,kNetConnect:ex,kGetNetConnect:kyt,kOptions:yU,kFactory:CU}=E8(),Byt=Jie(),Ryt=eoe(),{matchValue:Dyt,buildMockOptions:Pyt}=RS(),{InvalidArgumentError:NSe,UndiciError:Fyt}=ao(),Nyt=Jw(),Lyt=RSe(),Qyt=PSe(),noe=class extends Nyt{static{o(this,"MockAgent")}constructor(t){if(super(t),this[ex]=!0,this[AU]=!0,t?.agent&&typeof t.agent.dispatch!="function")throw new NSe("Argument opts.agent must implement Agent");let r=t?.agent?t.agent:new _yt(t);this[toe]=r,this[Z4]=r[Z4],this[yU]=Pyt(t)}get(t){let r=this[FSe](t);return r||(r=this[CU](t),this[gU](t,r)),r}dispatch(t,r){return this.get(t.origin),this[toe].dispatch(t,r)}async close(){await this[toe].close(),this[Z4].clear()}deactivate(){this[AU]=!1}activate(){this[AU]=!0}enableNetConnect(t){if(typeof t=="string"||typeof t=="function"||t instanceof RegExp)Array.isArray(this[ex])?this[ex].push(t):this[ex]=[t];else if(typeof t>"u")this[ex]=!0;else throw new NSe("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[ex]=!1}get isMockActive(){return this[AU]}[gU](t,r){this[Z4].set(t,r)}[CU](t){let r=Object.assign({agent:this},this[yU]);return this[yU]&&this[yU].connections===1?new Byt(t,r):new Ryt(t,r)}[FSe](t){let r=this[Z4].get(t);if(r)return r;if(typeof t!="string"){let n=this[CU]("http://localhost:9999");return this[gU](t,n),n}for(let[n,i]of Array.from(this[Z4]))if(i&&typeof n!="string"&&Dyt(n,t)){let s=this[CU](t);return this[gU](t,s),s[roe]=i[roe],s}}[kyt](){return this[ex]}pendingInterceptors(){let t=this[Z4];return Array.from(t.entries()).flatMap(([r,n])=>n[roe].map(i=>({...i,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:t=new Qyt}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new Lyt("interceptor","interceptors").pluralize(r.length);throw new Fyt(`
${n.count} ${n.noun} ${n.is} pending:

${t.format(r)}
`.trim())}};LSe.exports=noe});var xU=V((TGr,qSe)=>{"use strict";d();var MSe=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:Myt}=ao(),Oyt=h8();USe()===void 0&&OSe(new Oyt);function OSe(e){if(!e||typeof e.dispatch!="function")throw new Myt("Argument agent must implement Agent");Object.defineProperty(globalThis,MSe,{value:e,writable:!0,enumerable:!1,configurable:!1})}o(OSe,"setGlobalDispatcher");function USe(){return globalThis[MSe]}o(USe,"getGlobalDispatcher");qSe.exports={setGlobalDispatcher:OSe,getGlobalDispatcher:USe}});var EU=V((kGr,WSe)=>{"use strict";d();WSe.exports=class{static{o(this,"DecoratorHandler")}#e;constructor(t){if(typeof t!="object"||t===null)throw new TypeError("handler must be an object");this.#e=t}onConnect(...t){return this.#e.onConnect?.(...t)}onError(...t){return this.#e.onError?.(...t)}onUpgrade(...t){return this.#e.onUpgrade?.(...t)}onResponseStarted(...t){return this.#e.onResponseStarted?.(...t)}onHeaders(...t){return this.#e.onHeaders?.(...t)}onData(...t){return this.#e.onData?.(...t)}onComplete(...t){return this.#e.onComplete?.(...t)}onBodySent(...t){return this.#e.onBodySent?.(...t)}}});var HSe=V((DGr,GSe)=>{"use strict";d();var Uyt=ZO();GSe.exports=e=>{let t=e?.maxRedirections;return r=>o(function(i,s){let{maxRedirections:a=t,...l}=i;if(!a)return r(i,s);let c=new Uyt(r,a,i,s);return r(l,c)},"redirectInterceptor")}});var jSe=V((NGr,VSe)=>{"use strict";d();var qyt=uU();VSe.exports=e=>t=>o(function(n,i){return t(n,new qyt({...n,retryOptions:{...e,...n.retryOptions}},{handler:i,dispatch:t}))},"retryInterceptor")});var zSe=V((MGr,$Se)=>{"use strict";d();var Wyt=ui(),{InvalidArgumentError:Gyt,RequestAbortedError:Hyt}=ao(),Vyt=EU(),ioe=class extends Vyt{static{o(this,"DumpHandler")}#e=1024*1024;#t=null;#i=!1;#n=!1;#r=0;#o=null;#s=null;constructor({maxSize:t},r){if(super(r),t!=null&&(!Number.isFinite(t)||t<1))throw new Gyt("maxSize must be a number greater than 0");this.#e=t??this.#e,this.#s=r}onConnect(t){this.#t=t,this.#s.onConnect(this.#a.bind(this))}#a(t){this.#n=!0,this.#o=t}onHeaders(t,r,n,i){let a=Wyt.parseHeaders(r)["content-length"];if(a!=null&&a>this.#e)throw new Hyt(`Response size (${a}) larger than maxSize (${this.#e})`);return this.#n?!0:this.#s.onHeaders(t,r,n,i)}onError(t){this.#i||(t=this.#o??t,this.#s.onError(t))}onData(t){return this.#r=this.#r+t.length,this.#r>=this.#e&&(this.#i=!0,this.#n?this.#s.onError(this.#o):this.#s.onComplete([])),!0}onComplete(t){if(!this.#i){if(this.#n){this.#s.onError(this.reason);return}this.#s.onComplete(t)}}};function jyt({maxSize:e}={maxSize:1024*1024}){return t=>o(function(n,i){let{dumpMaxSize:s=e}=n,a=new ioe({maxSize:s},i);return t(n,a)},"Intercept")}o(jyt,"createDumpInterceptor");$Se.exports=jyt});var JSe=V((qGr,KSe)=>{"use strict";d();var{isIP:$yt}=require("node:net"),{lookup:zyt}=require("node:dns"),Yyt=EU(),{InvalidArgumentError:v8,InformationalError:Kyt}=ao(),YSe=Math.pow(2,31)-1,ooe=class{static{o(this,"DNSInstance")}#e=0;#t=0;#i=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(t){this.#e=t.maxTTL,this.#t=t.maxItems,this.dualStack=t.dualStack,this.affinity=t.affinity,this.lookup=t.lookup??this.#n,this.pick=t.pick??this.#r}get full(){return this.#i.size===this.#t}runLookup(t,r,n){let i=this.#i.get(t.hostname);if(i==null&&this.full){n(null,t.origin);return}let s={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...r.dns,maxTTL:this.#e,maxItems:this.#t};if(i==null)this.lookup(t,s,(a,l)=>{if(a||l==null||l.length===0){n(a??new Kyt("No DNS entries found"));return}this.setRecords(t,l);let c=this.#i.get(t.hostname),u=this.pick(t,c,s.affinity),f;typeof u.port=="number"?f=`:${u.port}`:t.port!==""?f=`:${t.port}`:f="",n(null,`${t.protocol}//${u.family===6?`[${u.address}]`:u.address}${f}`)});else{let a=this.pick(t,i,s.affinity);if(a==null){this.#i.delete(t.hostname),this.runLookup(t,r,n);return}let l;typeof a.port=="number"?l=`:${a.port}`:t.port!==""?l=`:${t.port}`:l="",n(null,`${t.protocol}//${a.family===6?`[${a.address}]`:a.address}${l}`)}}#n(t,r,n){zyt(t.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(i,s)=>{if(i)return n(i);let a=new Map;for(let l of s)a.set(`${l.address}:${l.family}`,l);n(null,a.values())})}#r(t,r,n){let i=null,{records:s,offset:a}=r,l;if(this.dualStack?(n==null&&(a==null||a===YSe?(r.offset=0,n=4):(r.offset++,n=(r.offset&1)===1?6:4)),s[n]!=null&&s[n].ips.length>0?l=s[n]:l=s[n===4?6:4]):l=s[n],l==null||l.ips.length===0)return i;l.offset==null||l.offset===YSe?l.offset=0:l.offset++;let c=l.offset%l.ips.length;return i=l.ips[c]??null,i==null?i:Date.now()-i.timestamp>i.ttl?(l.ips.splice(c,1),this.pick(t,r,n)):i}setRecords(t,r){let n=Date.now(),i={records:{4:null,6:null}};for(let s of r){s.timestamp=n,typeof s.ttl=="number"?s.ttl=Math.min(s.ttl,this.#e):s.ttl=this.#e;let a=i.records[s.family]??{ips:[]};a.ips.push(s),i.records[s.family]=a}this.#i.set(t.hostname,i)}getHandler(t,r){return new soe(this,t,r)}},soe=class extends Yyt{static{o(this,"DNSDispatchHandler")}#e=null;#t=null;#i=null;#n=null;#r=null;constructor(t,{origin:r,handler:n,dispatch:i},s){super(n),this.#r=r,this.#n=n,this.#t={...s},this.#e=t,this.#i=i}onError(t){switch(t.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#e.dualStack){this.#e.runLookup(this.#r,this.#t,(r,n)=>{if(r)return this.#n.onError(r);let i={...this.#t,origin:n};this.#i(i,this)});return}this.#n.onError(t);return}case"ENOTFOUND":this.#e.deleteRecord(this.#r);default:this.#n.onError(t);break}}};KSe.exports=e=>{if(e?.maxTTL!=null&&(typeof e?.maxTTL!="number"||e?.maxTTL<0))throw new v8("Invalid maxTTL. Must be a positive number");if(e?.maxItems!=null&&(typeof e?.maxItems!="number"||e?.maxItems<1))throw new v8("Invalid maxItems. Must be a positive number and greater than zero");if(e?.affinity!=null&&e?.affinity!==4&&e?.affinity!==6)throw new v8("Invalid affinity. Must be either 4 or 6");if(e?.dualStack!=null&&typeof e?.dualStack!="boolean")throw new v8("Invalid dualStack. Must be a boolean");if(e?.lookup!=null&&typeof e?.lookup!="function")throw new v8("Invalid lookup. Must be a function");if(e?.pick!=null&&typeof e?.pick!="function")throw new v8("Invalid pick. Must be a function");let t=e?.dualStack??!0,r;t?r=e?.affinity??null:r=e?.affinity??4;let n={maxTTL:e?.maxTTL??1e4,lookup:e?.lookup??null,pick:e?.pick??null,dualStack:t,affinity:r,maxItems:e?.maxItems??1/0},i=new ooe(n);return s=>o(function(l,c){let u=l.origin.constructor===URL?l.origin:new URL(l.origin);return $yt(u.hostname)!==0?s(l,c):(i.runLookup(u,l,(f,m)=>{if(f)return c.onError(f);let h=null;h={...l,servername:u.hostname,origin:m,headers:{host:u.hostname,...l.headers}},s(h,i.getHandler({origin:u,dispatch:s,handler:c},l))}),!0)},"dnsInterceptor")}});var tx=V((HGr,i_e)=>{"use strict";d();var{kConstruct:Jyt}=Ts(),{kEnumerableProperty:I8}=ui(),{iteratorMixin:Xyt,isValidHeaderName:DS,isValidHeaderValue:ZSe}=Ju(),{webidl:Wi}=zl(),aoe=require("node:assert"),bU=require("node:util"),Qa=Symbol("headers map"),ef=Symbol("headers map sorted");function XSe(e){return e===10||e===13||e===9||e===32}o(XSe,"isHTTPWhiteSpaceCharCode");function e_e(e){let t=0,r=e.length;for(;r>t&&XSe(e.charCodeAt(r-1));)--r;for(;r>t&&XSe(e.charCodeAt(t));)++t;return t===0&&r===e.length?e:e.substring(t,r)}o(e_e,"headerValueNormalize");function t_e(e,t){if(Array.isArray(t))for(let r=0;r<t.length;++r){let n=t[r];if(n.length!==2)throw Wi.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});loe(e,n[0],n[1])}else if(typeof t=="object"&&t!==null){let r=Object.keys(t);for(let n=0;n<r.length;++n)loe(e,r[n],t[r[n]])}else throw Wi.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}o(t_e,"fill");function loe(e,t,r){if(r=e_e(r),DS(t)){if(!ZSe(r))throw Wi.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw Wi.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header name"});if(n_e(e)==="immutable")throw new TypeError("immutable");return coe(e).append(t,r,!1)}o(loe,"appendHeader");function r_e(e,t){return e[0]<t[0]?-1:1}o(r_e,"compareHeaderName");var vU=class e{static{o(this,"HeadersList")}cookies=null;constructor(t){t instanceof e?(this[Qa]=new Map(t[Qa]),this[ef]=t[ef],this.cookies=t.cookies===null?null:[...t.cookies]):(this[Qa]=new Map(t),this[ef]=null)}contains(t,r){return this[Qa].has(r?t:t.toLowerCase())}clear(){this[Qa].clear(),this[ef]=null,this.cookies=null}append(t,r,n){this[ef]=null;let i=n?t:t.toLowerCase(),s=this[Qa].get(i);if(s){let a=i==="cookie"?"; ":", ";this[Qa].set(i,{name:s.name,value:`${s.value}${a}${r}`})}else this[Qa].set(i,{name:t,value:r});i==="set-cookie"&&(this.cookies??=[]).push(r)}set(t,r,n){this[ef]=null;let i=n?t:t.toLowerCase();i==="set-cookie"&&(this.cookies=[r]),this[Qa].set(i,{name:t,value:r})}delete(t,r){this[ef]=null,r||(t=t.toLowerCase()),t==="set-cookie"&&(this.cookies=null),this[Qa].delete(t)}get(t,r){return this[Qa].get(r?t:t.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:t,1:{value:r}}of this[Qa])yield[t,r]}get entries(){let t={};if(this[Qa].size!==0)for(let{name:r,value:n}of this[Qa].values())t[r]=n;return t}rawValues(){return this[Qa].values()}get entriesList(){let t=[];if(this[Qa].size!==0)for(let{0:r,1:{name:n,value:i}}of this[Qa])if(r==="set-cookie")for(let s of this.cookies)t.push([n,s]);else t.push([n,i]);return t}toSortedArray(){let t=this[Qa].size,r=new Array(t);if(t<=32){if(t===0)return r;let n=this[Qa][Symbol.iterator](),i=n.next().value;r[0]=[i[0],i[1].value],aoe(i[1].value!==null);for(let s=1,a=0,l=0,c=0,u=0,f,m;s<t;++s){for(m=n.next().value,f=r[s]=[m[0],m[1].value],aoe(f[1]!==null),c=0,l=s;c<l;)u=c+(l-c>>1),r[u][0]<=f[0]?c=u+1:l=u;if(s!==u){for(a=s;a>c;)r[a]=r[--a];r[c]=f}}if(!n.next().done)throw new TypeError("Unreachable");return r}else{let n=0;for(let{0:i,1:{value:s}}of this[Qa])r[n++]=[i,s],aoe(s!==null);return r.sort(r_e)}}},eh=class e{static{o(this,"Headers")}#e;#t;constructor(t=void 0){Wi.util.markAsUncloneable(this),t!==Jyt&&(this.#t=new vU,this.#e="none",t!==void 0&&(t=Wi.converters.HeadersInit(t,"Headers contructor","init"),t_e(this,t)))}append(t,r){Wi.brandCheck(this,e),Wi.argumentLengthCheck(arguments,2,"Headers.append");let n="Headers.append";return t=Wi.converters.ByteString(t,n,"name"),r=Wi.converters.ByteString(r,n,"value"),loe(this,t,r)}delete(t){if(Wi.brandCheck(this,e),Wi.argumentLengthCheck(arguments,1,"Headers.delete"),t=Wi.converters.ByteString(t,"Headers.delete","name"),!DS(t))throw Wi.errors.invalidArgument({prefix:"Headers.delete",value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(t,!1)&&this.#t.delete(t,!1)}get(t){Wi.brandCheck(this,e),Wi.argumentLengthCheck(arguments,1,"Headers.get");let r="Headers.get";if(t=Wi.converters.ByteString(t,r,"name"),!DS(t))throw Wi.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.get(t,!1)}has(t){Wi.brandCheck(this,e),Wi.argumentLengthCheck(arguments,1,"Headers.has");let r="Headers.has";if(t=Wi.converters.ByteString(t,r,"name"),!DS(t))throw Wi.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.contains(t,!1)}set(t,r){Wi.brandCheck(this,e),Wi.argumentLengthCheck(arguments,2,"Headers.set");let n="Headers.set";if(t=Wi.converters.ByteString(t,n,"name"),r=Wi.converters.ByteString(r,n,"value"),r=e_e(r),DS(t)){if(!ZSe(r))throw Wi.errors.invalidArgument({prefix:n,value:r,type:"header value"})}else throw Wi.errors.invalidArgument({prefix:n,value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(t,r,!1)}getSetCookie(){Wi.brandCheck(this,e);let t=this.#t.cookies;return t?[...t]:[]}get[ef](){if(this.#t[ef])return this.#t[ef];let t=[],r=this.#t.toSortedArray(),n=this.#t.cookies;if(n===null||n.length===1)return this.#t[ef]=r;for(let i=0;i<r.length;++i){let{0:s,1:a}=r[i];if(s==="set-cookie")for(let l=0;l<n.length;++l)t.push([s,n[l]]);else t.push([s,a])}return this.#t[ef]=t}[bU.inspect.custom](t,r){return r.depth??=t,`Headers ${bU.formatWithOptions(r,this.#t.entries)}`}static getHeadersGuard(t){return t.#e}static setHeadersGuard(t,r){t.#e=r}static getHeadersList(t){return t.#t}static setHeadersList(t,r){t.#t=r}},{getHeadersGuard:n_e,setHeadersGuard:Zyt,getHeadersList:coe,setHeadersList:eCt}=eh;Reflect.deleteProperty(eh,"getHeadersGuard");Reflect.deleteProperty(eh,"setHeadersGuard");Reflect.deleteProperty(eh,"getHeadersList");Reflect.deleteProperty(eh,"setHeadersList");Xyt("Headers",eh,ef,0,1);Object.defineProperties(eh.prototype,{append:I8,delete:I8,get:I8,has:I8,set:I8,getSetCookie:I8,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[bU.inspect.custom]:{enumerable:!1}});Wi.converters.HeadersInit=function(e,t,r){if(Wi.util.Type(e)==="Object"){let n=Reflect.get(e,Symbol.iterator);if(!bU.types.isProxy(e)&&n===eh.prototype.entries)try{return coe(e).entriesList}catch{}return typeof n=="function"?Wi.converters["sequence<sequence<ByteString>>"](e,t,r,n.bind(e)):Wi.converters["record<ByteString, ByteString>"](e,t,r)}throw Wi.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};i_e.exports={fill:t_e,compareHeaderName:r_e,Headers:eh,HeadersList:vU,getHeadersGuard:n_e,setHeadersGuard:Zyt,setHeadersList:eCt,getHeadersList:coe}});var NS=V(($Gr,h_e)=>{"use strict";d();var{Headers:u_e,HeadersList:o_e,fill:tCt,getHeadersGuard:rCt,setHeadersGuard:f_e,setHeadersList:d_e}=tx(),{extractBody:s_e,cloneBody:nCt,mixinBody:iCt,hasFinalizationRegistry:oCt,streamRegistry:sCt,bodyUnusable:aCt}=s8(),uoe=ui(),a_e=require("node:util"),{kEnumerableProperty:tf}=uoe,{isValidReasonPhrase:lCt,isCancelled:cCt,isAborted:uCt,isBlobLike:fCt,serializeJavascriptValueToJSONString:dCt,isErrorLike:mCt,isomorphicEncode:hCt,environmentSettingsObject:pCt}=Ju(),{redirectStatusSet:gCt,nullBodyStatus:ACt}=eS(),{kState:Xs,kHeaders:rA}=cy(),{webidl:Kn}=zl(),{FormData:yCt}=sS(),{URLSerializer:l_e}=zc(),{kConstruct:TU}=Ts(),foe=require("node:assert"),{types:CCt}=require("node:util"),xCt=new TextEncoder("utf-8"),rx=class e{static{o(this,"Response")}static error(){return PS(wU(),"immutable")}static json(t,r={}){Kn.argumentLengthCheck(arguments,1,"Response.json"),r!==null&&(r=Kn.converters.ResponseInit(r));let n=xCt.encode(dCt(t)),i=s_e(n),s=PS(T8({}),"response");return c_e(s,r,{body:i[0],type:"application/json"}),s}static redirect(t,r=302){Kn.argumentLengthCheck(arguments,1,"Response.redirect"),t=Kn.converters.USVString(t),r=Kn.converters["unsigned short"](r);let n;try{n=new URL(t,pCt.settingsObject.baseUrl)}catch(a){throw new TypeError(`Failed to parse URL from ${t}`,{cause:a})}if(!gCt.has(r))throw new RangeError(`Invalid status code ${r}`);let i=PS(T8({}),"immutable");i[Xs].status=r;let s=hCt(l_e(n));return i[Xs].headersList.append("location",s,!0),i}constructor(t=null,r={}){if(Kn.util.markAsUncloneable(this),t===TU)return;t!==null&&(t=Kn.converters.BodyInit(t)),r=Kn.converters.ResponseInit(r),this[Xs]=T8({}),this[rA]=new u_e(TU),f_e(this[rA],"response"),d_e(this[rA],this[Xs].headersList);let n=null;if(t!=null){let[i,s]=s_e(t);n={body:i,type:s}}c_e(this,r,n)}get type(){return Kn.brandCheck(this,e),this[Xs].type}get url(){Kn.brandCheck(this,e);let t=this[Xs].urlList,r=t[t.length-1]??null;return r===null?"":l_e(r,!0)}get redirected(){return Kn.brandCheck(this,e),this[Xs].urlList.length>1}get status(){return Kn.brandCheck(this,e),this[Xs].status}get ok(){return Kn.brandCheck(this,e),this[Xs].status>=200&&this[Xs].status<=299}get statusText(){return Kn.brandCheck(this,e),this[Xs].statusText}get headers(){return Kn.brandCheck(this,e),this[rA]}get body(){return Kn.brandCheck(this,e),this[Xs].body?this[Xs].body.stream:null}get bodyUsed(){return Kn.brandCheck(this,e),!!this[Xs].body&&uoe.isDisturbed(this[Xs].body.stream)}clone(){if(Kn.brandCheck(this,e),aCt(this))throw Kn.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let t=doe(this[Xs]);return PS(t,rCt(this[rA]))}[a_e.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${a_e.formatWithOptions(r,n)}`}};iCt(rx);Object.defineProperties(rx.prototype,{type:tf,url:tf,status:tf,ok:tf,redirected:tf,statusText:tf,headers:tf,clone:tf,body:tf,bodyUsed:tf,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(rx,{json:tf,redirect:tf,error:tf});function doe(e){if(e.internalResponse)return m_e(doe(e.internalResponse),e.type);let t=T8({...e,body:null});return e.body!=null&&(t.body=nCt(t,e.body)),t}o(doe,"cloneResponse");function T8(e){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...e,headersList:e?.headersList?new o_e(e?.headersList):new o_e,urlList:e?.urlList?[...e.urlList]:[]}}o(T8,"makeResponse");function wU(e){let t=mCt(e);return T8({type:"error",status:0,error:t?e:new Error(e&&String(e)),aborted:e&&e.name==="AbortError"})}o(wU,"makeNetworkError");function ECt(e){return e.type==="error"&&e.status===0}o(ECt,"isNetworkError");function IU(e,t){return t={internalResponse:e,...t},new Proxy(e,{get(r,n){return n in t?t[n]:r[n]},set(r,n,i){return foe(!(n in t)),r[n]=i,!0}})}o(IU,"makeFilteredResponse");function m_e(e,t){if(t==="basic")return IU(e,{type:"basic",headersList:e.headersList});if(t==="cors")return IU(e,{type:"cors",headersList:e.headersList});if(t==="opaque")return IU(e,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(t==="opaqueredirect")return IU(e,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});foe(!1)}o(m_e,"filterResponse");function bCt(e,t=null){return foe(cCt(e)),uCt(e)?wU(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:t})):wU(Object.assign(new DOMException("Request was cancelled."),{cause:t}))}o(bCt,"makeAppropriateNetworkError");function c_e(e,t,r){if(t.status!==null&&(t.status<200||t.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in t&&t.statusText!=null&&!lCt(String(t.statusText)))throw new TypeError("Invalid statusText");if("status"in t&&t.status!=null&&(e[Xs].status=t.status),"statusText"in t&&t.statusText!=null&&(e[Xs].statusText=t.statusText),"headers"in t&&t.headers!=null&&tCt(e[rA],t.headers),r){if(ACt.includes(e.status))throw Kn.errors.exception({header:"Response constructor",message:`Invalid response status code ${e.status}`});e[Xs].body=r.body,r.type!=null&&!e[Xs].headersList.contains("content-type",!0)&&e[Xs].headersList.append("content-type",r.type,!0)}}o(c_e,"initializeResponse");function PS(e,t){let r=new rx(TU);return r[Xs]=e,r[rA]=new u_e(TU),d_e(r[rA],e.headersList),f_e(r[rA],t),oCt&&e.body?.stream&&sCt.register(r,new WeakRef(e.body.stream)),r}o(PS,"fromInnerResponse");Kn.converters.ReadableStream=Kn.interfaceConverter(ReadableStream);Kn.converters.FormData=Kn.interfaceConverter(yCt);Kn.converters.URLSearchParams=Kn.interfaceConverter(URLSearchParams);Kn.converters.XMLHttpRequestBodyInit=function(e,t,r){return typeof e=="string"?Kn.converters.USVString(e,t,r):fCt(e)?Kn.converters.Blob(e,t,r,{strict:!1}):ArrayBuffer.isView(e)||CCt.isArrayBuffer(e)?Kn.converters.BufferSource(e,t,r):uoe.isFormDataLike(e)?Kn.converters.FormData(e,t,r,{strict:!1}):e instanceof URLSearchParams?Kn.converters.URLSearchParams(e,t,r):Kn.converters.DOMString(e,t,r)};Kn.converters.BodyInit=function(e,t,r){return e instanceof ReadableStream?Kn.converters.ReadableStream(e,t,r):e?.[Symbol.asyncIterator]?e:Kn.converters.XMLHttpRequestBodyInit(e,t,r)};Kn.converters.ResponseInit=Kn.dictionaryConverter([{key:"status",converter:Kn.converters["unsigned short"],defaultValue:o(()=>200,"defaultValue")},{key:"statusText",converter:Kn.converters.ByteString,defaultValue:o(()=>"","defaultValue")},{key:"headers",converter:Kn.converters.HeadersInit}]);h_e.exports={isNetworkError:ECt,makeNetworkError:wU,makeResponse:T8,makeAppropriateNetworkError:bCt,filterResponse:m_e,Response:rx,cloneResponse:doe,fromInnerResponse:PS}});var y_e=V((KGr,A_e)=>{"use strict";d();var{kConnected:p_e,kSize:g_e}=Ts(),moe=class{static{o(this,"CompatWeakRef")}constructor(t){this.value=t}deref(){return this.value[p_e]===0&&this.value[g_e]===0?void 0:this.value}},hoe=class{static{o(this,"CompatFinalizer")}constructor(t){this.finalizer=t}register(t,r){t.on&&t.on("disconnect",()=>{t[p_e]===0&&t[g_e]===0&&this.finalizer(r)})}unregister(t){}};A_e.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:moe,FinalizationRegistry:hoe}):{WeakRef,FinalizationRegistry}}});var w8=V((ZGr,P_e)=>{"use strict";d();var{extractBody:vCt,mixinBody:ICt,cloneBody:TCt,bodyUnusable:C_e}=s8(),{Headers:__e,fill:wCt,HeadersList:BU,setHeadersGuard:goe,getHeadersGuard:SCt,setHeadersList:k_e,getHeadersList:x_e}=tx(),{FinalizationRegistry:_Ct}=y_e()(),_U=ui(),E_e=require("node:util"),{isValidHTTPToken:kCt,sameOrigin:b_e,environmentSettingsObject:SU}=Ju(),{forbiddenMethodsSet:BCt,corsSafeListedMethodsSet:RCt,referrerPolicy:DCt,requestRedirect:PCt,requestMode:FCt,requestCredentials:NCt,requestCache:LCt,requestDuplex:QCt}=eS(),{kEnumerableProperty:Ma,normalizedMethodRecordsBase:MCt,normalizedMethodRecords:OCt}=_U,{kHeaders:rf,kSignal:kU,kState:os,kDispatcher:poe}=cy(),{webidl:hn}=zl(),{URLSerializer:UCt}=zc(),{kConstruct:RU}=Ts(),qCt=require("node:assert"),{getMaxListeners:v_e,setMaxListeners:I_e,getEventListeners:WCt,defaultMaxListeners:T_e}=require("node:events"),GCt=Symbol("abortController"),B_e=new _Ct(({signal:e,abort:t})=>{e.removeEventListener("abort",t)}),DU=new WeakMap;function w_e(e){return t;function t(){let r=e.deref();if(r!==void 0){B_e.unregister(t),this.removeEventListener("abort",t),r.abort(this.reason);let n=DU.get(r.signal);if(n!==void 0){if(n.size!==0){for(let i of n){let s=i.deref();s!==void 0&&s.abort(this.reason)}n.clear()}DU.delete(r.signal)}}}}o(w_e,"buildAbort");var S_e=!1,xy=class e{static{o(this,"Request")}constructor(t,r={}){if(hn.util.markAsUncloneable(this),t===RU)return;let n="Request constructor";hn.argumentLengthCheck(arguments,1,n),t=hn.converters.RequestInfo(t,n,"input"),r=hn.converters.RequestInit(r,n,"init");let i=null,s=null,a=SU.settingsObject.baseUrl,l=null;if(typeof t=="string"){this[poe]=r.dispatcher;let v;try{v=new URL(t,a)}catch(b){throw new TypeError("Failed to parse URL from "+t,{cause:b})}if(v.username||v.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+t);i=PU({urlList:[v]}),s="cors"}else this[poe]=r.dispatcher||t[poe],qCt(t instanceof e),i=t[os],l=t[kU];let c=SU.settingsObject.origin,u="client";if(i.window?.constructor?.name==="EnvironmentSettingsObject"&&b_e(i.window,c)&&(u=i.window),r.window!=null)throw new TypeError(`'window' option '${u}' must be null`);"window"in r&&(u="no-window"),i=PU({method:i.method,headersList:i.headersList,unsafeRequest:i.unsafeRequest,client:SU.settingsObject,window:u,priority:i.priority,origin:i.origin,referrer:i.referrer,referrerPolicy:i.referrerPolicy,mode:i.mode,credentials:i.credentials,cache:i.cache,redirect:i.redirect,integrity:i.integrity,keepalive:i.keepalive,reloadNavigation:i.reloadNavigation,historyNavigation:i.historyNavigation,urlList:[...i.urlList]});let f=Object.keys(r).length!==0;if(f&&(i.mode==="navigate"&&(i.mode="same-origin"),i.reloadNavigation=!1,i.historyNavigation=!1,i.origin="client",i.referrer="client",i.referrerPolicy="",i.url=i.urlList[i.urlList.length-1],i.urlList=[i.url]),r.referrer!==void 0){let v=r.referrer;if(v==="")i.referrer="no-referrer";else{let b;try{b=new URL(v,a)}catch(S){throw new TypeError(`Referrer "${v}" is not a valid URL.`,{cause:S})}b.protocol==="about:"&&b.hostname==="client"||c&&!b_e(b,SU.settingsObject.baseUrl)?i.referrer="client":i.referrer=b}}r.referrerPolicy!==void 0&&(i.referrerPolicy=r.referrerPolicy);let m;if(r.mode!==void 0?m=r.mode:m=s,m==="navigate")throw hn.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(m!=null&&(i.mode=m),r.credentials!==void 0&&(i.credentials=r.credentials),r.cache!==void 0&&(i.cache=r.cache),i.cache==="only-if-cached"&&i.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(r.redirect!==void 0&&(i.redirect=r.redirect),r.integrity!=null&&(i.integrity=String(r.integrity)),r.keepalive!==void 0&&(i.keepalive=!!r.keepalive),r.method!==void 0){let v=r.method,b=OCt[v];if(b!==void 0)i.method=b;else{if(!kCt(v))throw new TypeError(`'${v}' is not a valid HTTP method.`);let S=v.toUpperCase();if(BCt.has(S))throw new TypeError(`'${v}' HTTP method is unsupported.`);v=MCt[S]??v,i.method=v}!S_e&&i.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),S_e=!0)}r.signal!==void 0&&(l=r.signal),this[os]=i;let h=new AbortController;if(this[kU]=h.signal,l!=null){if(!l||typeof l.aborted!="boolean"||typeof l.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(l.aborted)h.abort(l.reason);else{this[GCt]=h;let v=new WeakRef(h),b=w_e(v);try{(typeof v_e=="function"&&v_e(l)===T_e||WCt(l,"abort").length>=T_e)&&I_e(1500,l)}catch{}_U.addAbortListener(l,b),B_e.register(h,{signal:l,abort:b},b)}}if(this[rf]=new __e(RU),k_e(this[rf],i.headersList),goe(this[rf],"request"),m==="no-cors"){if(!RCt.has(i.method))throw new TypeError(`'${i.method} is unsupported in no-cors mode.`);goe(this[rf],"request-no-cors")}if(f){let v=x_e(this[rf]),b=r.headers!==void 0?r.headers:new BU(v);if(v.clear(),b instanceof BU){for(let{name:S,value:B}of b.rawValues())v.append(S,B,!1);v.cookies=b.cookies}else wCt(this[rf],b)}let p=t instanceof e?t[os].body:null;if((r.body!=null||p!=null)&&(i.method==="GET"||i.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let A=null;if(r.body!=null){let[v,b]=vCt(r.body,i.keepalive);A=v,b&&!x_e(this[rf]).contains("content-type",!0)&&this[rf].append("content-type",b)}let x=A??p;if(x!=null&&x.source==null){if(A!=null&&r.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(i.mode!=="same-origin"&&i.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');i.useCORSPreflightFlag=!0}let E=x;if(A==null&&p!=null){if(C_e(t))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let v=new TransformStream;p.stream.pipeThrough(v),E={source:p.source,length:p.length,stream:v.readable}}this[os].body=E}get method(){return hn.brandCheck(this,e),this[os].method}get url(){return hn.brandCheck(this,e),UCt(this[os].url)}get headers(){return hn.brandCheck(this,e),this[rf]}get destination(){return hn.brandCheck(this,e),this[os].destination}get referrer(){return hn.brandCheck(this,e),this[os].referrer==="no-referrer"?"":this[os].referrer==="client"?"about:client":this[os].referrer.toString()}get referrerPolicy(){return hn.brandCheck(this,e),this[os].referrerPolicy}get mode(){return hn.brandCheck(this,e),this[os].mode}get credentials(){return this[os].credentials}get cache(){return hn.brandCheck(this,e),this[os].cache}get redirect(){return hn.brandCheck(this,e),this[os].redirect}get integrity(){return hn.brandCheck(this,e),this[os].integrity}get keepalive(){return hn.brandCheck(this,e),this[os].keepalive}get isReloadNavigation(){return hn.brandCheck(this,e),this[os].reloadNavigation}get isHistoryNavigation(){return hn.brandCheck(this,e),this[os].historyNavigation}get signal(){return hn.brandCheck(this,e),this[kU]}get body(){return hn.brandCheck(this,e),this[os].body?this[os].body.stream:null}get bodyUsed(){return hn.brandCheck(this,e),!!this[os].body&&_U.isDisturbed(this[os].body.stream)}get duplex(){return hn.brandCheck(this,e),"half"}clone(){if(hn.brandCheck(this,e),C_e(this))throw new TypeError("unusable");let t=R_e(this[os]),r=new AbortController;if(this.signal.aborted)r.abort(this.signal.reason);else{let n=DU.get(this.signal);n===void 0&&(n=new Set,DU.set(this.signal,n));let i=new WeakRef(r);n.add(i),_U.addAbortListener(r.signal,w_e(i))}return D_e(t,r.signal,SCt(this[rf]))}[E_e.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${E_e.formatWithOptions(r,n)}`}};ICt(xy);function PU(e){return{method:e.method??"GET",localURLsOnly:e.localURLsOnly??!1,unsafeRequest:e.unsafeRequest??!1,body:e.body??null,client:e.client??null,reservedClient:e.reservedClient??null,replacesClientId:e.replacesClientId??"",window:e.window??"client",keepalive:e.keepalive??!1,serviceWorkers:e.serviceWorkers??"all",initiator:e.initiator??"",destination:e.destination??"",priority:e.priority??null,origin:e.origin??"client",policyContainer:e.policyContainer??"client",referrer:e.referrer??"client",referrerPolicy:e.referrerPolicy??"",mode:e.mode??"no-cors",useCORSPreflightFlag:e.useCORSPreflightFlag??!1,credentials:e.credentials??"same-origin",useCredentials:e.useCredentials??!1,cache:e.cache??"default",redirect:e.redirect??"follow",integrity:e.integrity??"",cryptoGraphicsNonceMetadata:e.cryptoGraphicsNonceMetadata??"",parserMetadata:e.parserMetadata??"",reloadNavigation:e.reloadNavigation??!1,historyNavigation:e.historyNavigation??!1,userActivation:e.userActivation??!1,taintedOrigin:e.taintedOrigin??!1,redirectCount:e.redirectCount??0,responseTainting:e.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:e.preventNoCacheCacheControlHeaderModification??!1,done:e.done??!1,timingAllowFailed:e.timingAllowFailed??!1,urlList:e.urlList,url:e.urlList[0],headersList:e.headersList?new BU(e.headersList):new BU}}o(PU,"makeRequest");function R_e(e){let t=PU({...e,body:null});return e.body!=null&&(t.body=TCt(t,e.body)),t}o(R_e,"cloneRequest");function D_e(e,t,r){let n=new xy(RU);return n[os]=e,n[kU]=t,n[rf]=new __e(RU),k_e(n[rf],e.headersList),goe(n[rf],r),n}o(D_e,"fromInnerRequest");Object.defineProperties(xy.prototype,{method:Ma,url:Ma,headers:Ma,redirect:Ma,clone:Ma,signal:Ma,duplex:Ma,destination:Ma,body:Ma,bodyUsed:Ma,isHistoryNavigation:Ma,isReloadNavigation:Ma,keepalive:Ma,integrity:Ma,cache:Ma,credentials:Ma,attribute:Ma,referrerPolicy:Ma,referrer:Ma,mode:Ma,[Symbol.toStringTag]:{value:"Request",configurable:!0}});hn.converters.Request=hn.interfaceConverter(xy);hn.converters.RequestInfo=function(e,t,r){return typeof e=="string"?hn.converters.USVString(e,t,r):e instanceof xy?hn.converters.Request(e,t,r):hn.converters.USVString(e,t,r)};hn.converters.AbortSignal=hn.interfaceConverter(AbortSignal);hn.converters.RequestInit=hn.dictionaryConverter([{key:"method",converter:hn.converters.ByteString},{key:"headers",converter:hn.converters.HeadersInit},{key:"body",converter:hn.nullableConverter(hn.converters.BodyInit)},{key:"referrer",converter:hn.converters.USVString},{key:"referrerPolicy",converter:hn.converters.DOMString,allowedValues:DCt},{key:"mode",converter:hn.converters.DOMString,allowedValues:FCt},{key:"credentials",converter:hn.converters.DOMString,allowedValues:NCt},{key:"cache",converter:hn.converters.DOMString,allowedValues:LCt},{key:"redirect",converter:hn.converters.DOMString,allowedValues:PCt},{key:"integrity",converter:hn.converters.DOMString},{key:"keepalive",converter:hn.converters.boolean},{key:"signal",converter:hn.nullableConverter(e=>hn.converters.AbortSignal(e,"RequestInit","signal",{strict:!1}))},{key:"window",converter:hn.converters.any},{key:"duplex",converter:hn.converters.DOMString,allowedValues:QCt},{key:"dispatcher",converter:hn.converters.any}]);P_e.exports={Request:xy,makeRequest:PU,fromInnerRequest:D_e,cloneRequest:R_e}});var QS=V((rHr,z_e)=>{"use strict";d();var{makeNetworkError:xo,makeAppropriateNetworkError:FU,filterResponse:Aoe,makeResponse:NU,fromInnerResponse:HCt}=NS(),{HeadersList:F_e}=tx(),{Request:VCt,cloneRequest:jCt}=w8(),Ey=require("node:zlib"),{bytesMatch:$Ct,makePolicyContainer:zCt,clonePolicyContainer:YCt,requestBadPort:KCt,TAOCheck:JCt,appendRequestOriginHeader:XCt,responseLocationURL:ZCt,requestCurrentURL:Hp,setRequestReferrerPolicyOnRedirect:e3t,tryUpgradeRequestToAPotentiallyTrustworthyURL:t3t,createOpaqueTimingInfo:boe,appendFetchMetadata:r3t,corsCheck:n3t,crossOriginResourcePolicyCheck:i3t,determineRequestsReferrer:o3t,coarsenedSharedCurrentTime:LS,createDeferredPromise:s3t,isBlobLike:a3t,sameOrigin:Eoe,isCancelled:nx,isAborted:N_e,isErrorLike:l3t,fullyReadBody:c3t,readableStreamClose:u3t,isomorphicEncode:LU,urlIsLocal:f3t,urlIsHttpHttpsScheme:voe,urlHasHttpsScheme:d3t,clampAndCoarsenConnectionTimingInfo:m3t,simpleRangeHeaderValue:h3t,buildContentRange:p3t,createInflate:g3t,extractMimeType:A3t}=Ju(),{kState:O_e,kDispatcher:y3t}=cy(),ix=require("node:assert"),{safelyExtractBody:Ioe,extractBody:L_e}=s8(),{redirectStatusSet:U_e,nullBodyStatus:q_e,safeMethodsSet:C3t,requestBodyHeader:x3t,subresourceSet:E3t}=eS(),b3t=require("node:events"),{Readable:v3t,pipeline:I3t,finished:T3t}=require("node:stream"),{addAbortListener:w3t,isErrored:S3t,isReadable:QU,bufferToLowerCasedHeaderName:Q_e}=ui(),{dataURLProcessor:_3t,serializeAMimeType:k3t,minimizeSupportedMimeType:B3t}=zc(),{getGlobalDispatcher:R3t}=xU(),{webidl:D3t}=zl(),{STATUS_CODES:P3t}=require("node:http"),F3t=["GET","HEAD"],N3t=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",yoe,MU=class extends b3t{static{o(this,"Fetch")}constructor(t){super(),this.dispatcher=t,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(t){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(t),this.emit("terminated",t))}abort(t){this.state==="ongoing"&&(this.state="aborted",t||(t=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=t,this.connection?.destroy(t),this.emit("terminated",t))}};function L3t(e){W_e(e,"fetch")}o(L3t,"handleFetchDone");function Q3t(e,t=void 0){D3t.argumentLengthCheck(arguments,1,"globalThis.fetch");let r=s3t(),n;try{n=new VCt(e,t)}catch(f){return r.reject(f),r.promise}let i=n[O_e];if(n.signal.aborted)return Coe(r,i,null,n.signal.reason),r.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let a=null,l=!1,c=null;return w3t(n.signal,()=>{l=!0,ix(c!=null),c.abort(n.signal.reason);let f=a?.deref();Coe(r,i,f,n.signal.reason)}),c=H_e({request:i,processResponseEndOfBody:L3t,processResponse:o(f=>{if(!l){if(f.aborted){Coe(r,i,a,c.serializedAbortReason);return}if(f.type==="error"){r.reject(new TypeError("fetch failed",{cause:f.error}));return}a=new WeakRef(HCt(f,"immutable")),r.resolve(a.deref()),r=null}},"processResponse"),dispatcher:n[y3t]}),r.promise}o(Q3t,"fetch");function W_e(e,t="other"){if(e.type==="error"&&e.aborted||!e.urlList?.length)return;let r=e.urlList[0],n=e.timingInfo,i=e.cacheState;voe(r)&&n!==null&&(e.timingAllowPassed||(n=boe({startTime:n.startTime}),i=""),n.endTime=LS(),e.timingInfo=n,G_e(n,r.href,t,globalThis,i))}o(W_e,"finalizeAndReportTiming");var G_e=performance.markResourceTiming;function Coe(e,t,r,n){if(e&&e.reject(n),t.body!=null&&QU(t.body?.stream)&&t.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s}),r==null)return;let i=r[O_e];i.body!=null&&QU(i.body?.stream)&&i.body.stream.cancel(n).catch(s=>{if(s.code!=="ERR_INVALID_STATE")throw s})}o(Coe,"abortFetch");function H_e({request:e,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:i,processResponseConsumeBody:s,useParallelQueue:a=!1,dispatcher:l=R3t()}){ix(l);let c=null,u=!1;e.client!=null&&(c=e.client.globalObject,u=e.client.crossOriginIsolatedCapability);let f=LS(u),m=boe({startTime:f}),h={controller:new MU(l),request:e,timingInfo:m,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:s,processResponseEndOfBody:i,taskDestination:c,crossOriginIsolatedCapability:u};return ix(!e.body||e.body.stream),e.window==="client"&&(e.window=e.client?.globalObject?.constructor?.name==="Window"?e.client:"no-window"),e.origin==="client"&&(e.origin=e.client.origin),e.policyContainer==="client"&&(e.client!=null?e.policyContainer=YCt(e.client.policyContainer):e.policyContainer=zCt()),e.headersList.contains("accept",!0)||e.headersList.append("accept","*/*",!0),e.headersList.contains("accept-language",!0)||e.headersList.append("accept-language","*",!0),e.priority,E3t.has(e.destination),V_e(h).catch(p=>{h.controller.terminate(p)}),h.controller}o(H_e,"fetching");async function V_e(e,t=!1){let r=e.request,n=null;if(r.localURLsOnly&&!f3t(Hp(r))&&(n=xo("local URLs only")),t3t(r),KCt(r)==="blocked"&&(n=xo("bad port")),r.referrerPolicy===""&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!=="no-referrer"&&(r.referrer=o3t(r)),n===null&&(n=await(async()=>{let s=Hp(r);return Eoe(s,r.url)&&r.responseTainting==="basic"||s.protocol==="data:"||r.mode==="navigate"||r.mode==="websocket"?(r.responseTainting="basic",await M_e(e)):r.mode==="same-origin"?xo('request mode cannot be "same-origin"'):r.mode==="no-cors"?r.redirect!=="follow"?xo('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await M_e(e)):voe(Hp(r))?(r.responseTainting="cors",await j_e(e)):xo("URL scheme must be a HTTP(S) scheme")})()),t)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting==="basic"?n=Aoe(n,"basic"):r.responseTainting==="cors"?n=Aoe(n,"cors"):r.responseTainting==="opaque"?n=Aoe(n,"opaque"):ix(!1));let i=n.status===0?n:n.internalResponse;if(i.urlList.length===0&&i.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type==="opaque"&&i.status===206&&i.rangeRequested&&!r.headers.contains("range",!0)&&(n=i=xo()),n.status!==0&&(r.method==="HEAD"||r.method==="CONNECT"||q_e.includes(i.status))&&(i.body=null,e.controller.dump=!0),r.integrity){let s=o(l=>xoe(e,xo(l)),"processBodyError");if(r.responseTainting==="opaque"||n.body==null){s(n.error);return}let a=o(l=>{if(!$Ct(l,r.integrity)){s("integrity mismatch");return}n.body=Ioe(l)[0],xoe(e,n)},"processBody");await c3t(n.body,a,s)}else xoe(e,n)}o(V_e,"mainFetch");function M_e(e){if(nx(e)&&e.request.redirectCount===0)return Promise.resolve(FU(e));let{request:t}=e,{protocol:r}=Hp(t);switch(r){case"about:":return Promise.resolve(xo("about scheme is not supported"));case"blob:":{yoe||(yoe=require("node:buffer").resolveObjectURL);let n=Hp(t);if(n.search.length!==0)return Promise.resolve(xo("NetworkError when attempting to fetch resource."));let i=yoe(n.toString());if(t.method!=="GET"||!a3t(i))return Promise.resolve(xo("invalid method"));let s=NU(),a=i.size,l=LU(`${a}`),c=i.type;if(t.headersList.contains("range",!0)){s.rangeRequested=!0;let u=t.headersList.get("range",!0),f=h3t(u,!0);if(f==="failure")return Promise.resolve(xo("failed to fetch the data URL"));let{rangeStartValue:m,rangeEndValue:h}=f;if(m===null)m=a-h,h=m+h-1;else{if(m>=a)return Promise.resolve(xo("Range start is greater than the blob's size."));(h===null||h>=a)&&(h=a-1)}let p=i.slice(m,h,c),A=L_e(p);s.body=A[0];let x=LU(`${p.size}`),E=p3t(m,h,a);s.status=206,s.statusText="Partial Content",s.headersList.set("content-length",x,!0),s.headersList.set("content-type",c,!0),s.headersList.set("content-range",E,!0)}else{let u=L_e(i);s.statusText="OK",s.body=u[0],s.headersList.set("content-length",l,!0),s.headersList.set("content-type",c,!0)}return Promise.resolve(s)}case"data:":{let n=Hp(t),i=_3t(n);if(i==="failure")return Promise.resolve(xo("failed to fetch the data URL"));let s=k3t(i.mimeType);return Promise.resolve(NU({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:s}]],body:Ioe(i.body)[0]}))}case"file:":return Promise.resolve(xo("not implemented... yet..."));case"http:":case"https:":return j_e(e).catch(n=>xo(n));default:return Promise.resolve(xo("unknown scheme"))}}o(M_e,"schemeFetch");function M3t(e,t){e.request.done=!0,e.processResponseDone!=null&&queueMicrotask(()=>e.processResponseDone(t))}o(M3t,"finalizeResponse");function xoe(e,t){let r=e.timingInfo,n=o(()=>{let s=Date.now();e.request.destination==="document"&&(e.controller.fullTimingInfo=r),e.controller.reportTimingSteps=()=>{if(e.request.url.protocol!=="https:")return;r.endTime=s;let l=t.cacheState,c=t.bodyInfo;t.timingAllowPassed||(r=boe(r),l="");let u=0;if(e.request.mode!=="navigator"||!t.hasCrossOriginRedirects){u=t.status;let f=A3t(t.headersList);f!=="failure"&&(c.contentType=B3t(f))}e.request.initiatorType!=null&&G_e(r,e.request.url.href,e.request.initiatorType,globalThis,l,c,u)};let a=o(()=>{e.request.done=!0,e.processResponseEndOfBody!=null&&queueMicrotask(()=>e.processResponseEndOfBody(t)),e.request.initiatorType!=null&&e.controller.reportTimingSteps()},"processResponseEndOfBodyTask");queueMicrotask(()=>a())},"processResponseEndOfBody");e.processResponse!=null&&queueMicrotask(()=>{e.processResponse(t),e.processResponse=null});let i=t.type==="error"?t:t.internalResponse??t;i.body==null?n():T3t(i.body.stream,()=>{n()})}o(xoe,"fetchFinale");async function j_e(e){let t=e.request,r=null,n=null,i=e.timingInfo;if(t.serviceWorkers,r===null){if(t.redirect==="follow"&&(t.serviceWorkers="none"),n=r=await $_e(e),t.responseTainting==="cors"&&n3t(t,r)==="failure")return xo("cors failure");JCt(t,r)==="failure"&&(t.timingAllowFailed=!0)}return(t.responseTainting==="opaque"||r.type==="opaque")&&i3t(t.origin,t.client,t.destination,n)==="blocked"?xo("blocked"):(U_e.has(n.status)&&(t.redirect!=="manual"&&e.controller.connection.destroy(void 0,!1),t.redirect==="error"?r=xo("unexpected redirect"):t.redirect==="manual"?r=n:t.redirect==="follow"?r=await O3t(e,r):ix(!1)),r.timingInfo=i,r)}o(j_e,"httpFetch");function O3t(e,t){let r=e.request,n=t.internalResponse?t.internalResponse:t,i;try{if(i=ZCt(n,Hp(r).hash),i==null)return t}catch(a){return Promise.resolve(xo(a))}if(!voe(i))return Promise.resolve(xo("URL scheme must be a HTTP(S) scheme"));if(r.redirectCount===20)return Promise.resolve(xo("redirect count exceeded"));if(r.redirectCount+=1,r.mode==="cors"&&(i.username||i.password)&&!Eoe(r,i))return Promise.resolve(xo('cross origin not allowed for request mode "cors"'));if(r.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(xo('URL cannot contain credentials for request mode "cors"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(xo());if([301,302].includes(n.status)&&r.method==="POST"||n.status===303&&!F3t.includes(r.method)){r.method="GET",r.body=null;for(let a of x3t)r.headersList.delete(a)}Eoe(Hp(r),i)||(r.headersList.delete("authorization",!0),r.headersList.delete("proxy-authorization",!0),r.headersList.delete("cookie",!0),r.headersList.delete("host",!0)),r.body!=null&&(ix(r.body.source!=null),r.body=Ioe(r.body.source)[0]);let s=e.timingInfo;return s.redirectEndTime=s.postRedirectStartTime=LS(e.crossOriginIsolatedCapability),s.redirectStartTime===0&&(s.redirectStartTime=s.startTime),r.urlList.push(i),e3t(r,n),V_e(e,!0)}o(O3t,"httpRedirectFetch");async function $_e(e,t=!1,r=!1){let n=e.request,i=null,s=null,a=null,l=null,c=!1;n.window==="no-window"&&n.redirect==="error"?(i=e,s=n):(s=jCt(n),i={...e},i.request=s);let u=n.credentials==="include"||n.credentials==="same-origin"&&n.responseTainting==="basic",f=s.body?s.body.length:null,m=null;if(s.body==null&&["POST","PUT"].includes(s.method)&&(m="0"),f!=null&&(m=LU(`${f}`)),m!=null&&s.headersList.append("content-length",m,!0),f!=null&&s.keepalive,s.referrer instanceof URL&&s.headersList.append("referer",LU(s.referrer.href),!0),XCt(s),r3t(s),s.headersList.contains("user-agent",!0)||s.headersList.append("user-agent",N3t),s.cache==="default"&&(s.headersList.contains("if-modified-since",!0)||s.headersList.contains("if-none-match",!0)||s.headersList.contains("if-unmodified-since",!0)||s.headersList.contains("if-match",!0)||s.headersList.contains("if-range",!0))&&(s.cache="no-store"),s.cache==="no-cache"&&!s.preventNoCacheCacheControlHeaderModification&&!s.headersList.contains("cache-control",!0)&&s.headersList.append("cache-control","max-age=0",!0),(s.cache==="no-store"||s.cache==="reload")&&(s.headersList.contains("pragma",!0)||s.headersList.append("pragma","no-cache",!0),s.headersList.contains("cache-control",!0)||s.headersList.append("cache-control","no-cache",!0)),s.headersList.contains("range",!0)&&s.headersList.append("accept-encoding","identity",!0),s.headersList.contains("accept-encoding",!0)||(d3t(Hp(s))?s.headersList.append("accept-encoding","br, gzip, deflate",!0):s.headersList.append("accept-encoding","gzip, deflate",!0)),s.headersList.delete("host",!0),l==null&&(s.cache="no-store"),s.cache!=="no-store"&&s.cache,a==null){if(s.cache==="only-if-cached")return xo("only if cached");let h=await U3t(i,u,r);!C3t.has(s.method)&&h.status>=200&&h.status<=399,c&&h.status,a==null&&(a=h)}if(a.urlList=[...s.urlList],s.headersList.contains("range",!0)&&(a.rangeRequested=!0),a.requestIncludesCredentials=u,a.status===407)return n.window==="no-window"?xo():nx(e)?FU(e):xo("proxy authentication required");if(a.status===421&&!r&&(n.body==null||n.body.source!=null)){if(nx(e))return FU(e);e.controller.connection.destroy(),a=await $_e(e,t,!0)}return a}o($_e,"httpNetworkOrCacheFetch");async function U3t(e,t=!1,r=!1){ix(!e.controller.connection||e.controller.connection.destroyed),e.controller.connection={abort:null,destroyed:!1,destroy(A,x=!0){this.destroyed||(this.destroyed=!0,x&&this.abort?.(A??new DOMException("The operation was aborted.","AbortError")))}};let n=e.request,i=null,s=e.timingInfo;null==null&&(n.cache="no-store");let l=r?"yes":"no";n.mode;let c=null;if(n.body==null&&e.processRequestEndOfBody)queueMicrotask(()=>e.processRequestEndOfBody());else if(n.body!=null){let A=o(async function*(v){nx(e)||(yield v,e.processRequestBodyChunkLength?.(v.byteLength))},"processBodyChunk"),x=o(()=>{nx(e)||e.processRequestEndOfBody&&e.processRequestEndOfBody()},"processEndOfBody"),E=o(v=>{nx(e)||(v.name==="AbortError"?e.controller.abort():e.controller.terminate(v))},"processBodyError");c=async function*(){try{for await(let v of n.body.stream)yield*A(v);x()}catch(v){E(v)}}()}try{let{body:A,status:x,statusText:E,headersList:v,socket:b}=await p({body:c});if(b)i=NU({status:x,statusText:E,headersList:v,socket:b});else{let S=A[Symbol.asyncIterator]();e.controller.next=()=>S.next(),i=NU({status:x,statusText:E,headersList:v})}}catch(A){return A.name==="AbortError"?(e.controller.connection.destroy(),FU(e,A)):xo(A)}let u=o(async()=>{await e.controller.resume()},"pullAlgorithm"),f=o(A=>{nx(e)||e.controller.abort(A)},"cancelAlgorithm"),m=new ReadableStream({async start(A){e.controller.controller=A},async pull(A){await u(A)},async cancel(A){await f(A)},type:"bytes"});i.body={stream:m,source:null,length:null},e.controller.onAborted=h,e.controller.on("terminated",h),e.controller.resume=async()=>{for(;;){let A,x;try{let{done:v,value:b}=await e.controller.next();if(N_e(e))break;A=v?void 0:b}catch(v){e.controller.ended&&!s.encodedBodySize?A=void 0:(A=v,x=!0)}if(A===void 0){u3t(e.controller.controller),M3t(e,i);return}if(s.decodedBodySize+=A?.byteLength??0,x){e.controller.terminate(A);return}let E=new Uint8Array(A);if(E.byteLength&&e.controller.controller.enqueue(E),S3t(m)){e.controller.terminate();return}if(e.controller.controller.desiredSize<=0)return}};function h(A){N_e(e)?(i.aborted=!0,QU(m)&&e.controller.controller.error(e.controller.serializedAbortReason)):QU(m)&&e.controller.controller.error(new TypeError("terminated",{cause:l3t(A)?A:void 0})),e.controller.connection.destroy()}return o(h,"onAborted"),i;function p({body:A}){let x=Hp(n),E=e.controller.dispatcher;return new Promise((v,b)=>E.dispatch({path:x.pathname+x.search,origin:x.origin,method:n.method,body:E.isMockActive?n.body&&(n.body.source||n.body.stream):A,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(S){let{connection:B}=e.controller;s.finalConnectionTimingInfo=m3t(void 0,s.postRedirectStartTime,e.crossOriginIsolatedCapability),B.destroyed?S(new DOMException("The operation was aborted.","AbortError")):(e.controller.on("terminated",S),this.abort=B.abort=S),s.finalNetworkRequestStartTime=LS(e.crossOriginIsolatedCapability)},onResponseStarted(){s.finalNetworkResponseStartTime=LS(e.crossOriginIsolatedCapability)},onHeaders(S,B,D,F){if(S<200)return;let W=[],ee="",de=new F_e;for(let z=0;z<B.length;z+=2)de.append(Q_e(B[z]),B[z+1].toString("latin1"),!0);let X=de.get("content-encoding",!0);X&&(W=X.toLowerCase().split(",").map(z=>z.trim())),ee=de.get("location",!0),this.body=new v3t({read:D});let G=[],U=ee&&n.redirect==="follow"&&U_e.has(S);if(W.length!==0&&n.method!=="HEAD"&&n.method!=="CONNECT"&&!q_e.includes(S)&&!U)for(let z=W.length-1;z>=0;--z){let H=W[z];if(H==="x-gzip"||H==="gzip")G.push(Ey.createGunzip({flush:Ey.constants.Z_SYNC_FLUSH,finishFlush:Ey.constants.Z_SYNC_FLUSH}));else if(H==="deflate")G.push(g3t({flush:Ey.constants.Z_SYNC_FLUSH,finishFlush:Ey.constants.Z_SYNC_FLUSH}));else if(H==="br")G.push(Ey.createBrotliDecompress({flush:Ey.constants.BROTLI_OPERATION_FLUSH,finishFlush:Ey.constants.BROTLI_OPERATION_FLUSH}));else{G.length=0;break}}let ie=this.onError.bind(this);return v({status:S,statusText:F,headersList:de,body:G.length?I3t(this.body,...G,z=>{z&&this.onError(z)}).on("error",ie):this.body.on("error",ie)}),!0},onData(S){if(e.controller.dump)return;let B=S;return s.encodedBodySize+=B.byteLength,this.body.push(B)},onComplete(){this.abort&&e.controller.off("terminated",this.abort),e.controller.onAborted&&e.controller.off("terminated",e.controller.onAborted),e.controller.ended=!0,this.body.push(null)},onError(S){this.abort&&e.controller.off("terminated",this.abort),this.body?.destroy(S),e.controller.terminate(S),b(S)},onUpgrade(S,B,D){if(S!==101)return;let F=new F_e;for(let W=0;W<B.length;W+=2)F.append(Q_e(B[W]),B[W+1].toString("latin1"),!0);return v({status:S,statusText:P3t[S],headersList:F,socket:D}),!0}}))}o(p,"dispatch")}o(U3t,"httpNetworkFetch");z_e.exports={fetch:Q3t,Fetch:MU,fetching:H_e,finalizeAndReportTiming:W_e}});var Toe=V((oHr,Y_e)=>{"use strict";d();Y_e.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var J_e=V((aHr,K_e)=>{"use strict";d();var{webidl:nf}=zl(),OU=Symbol("ProgressEvent state"),woe=class e extends Event{static{o(this,"ProgressEvent")}constructor(t,r={}){t=nf.converters.DOMString(t,"ProgressEvent constructor","type"),r=nf.converters.ProgressEventInit(r??{}),super(t,r),this[OU]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return nf.brandCheck(this,e),this[OU].lengthComputable}get loaded(){return nf.brandCheck(this,e),this[OU].loaded}get total(){return nf.brandCheck(this,e),this[OU].total}};nf.converters.ProgressEventInit=nf.dictionaryConverter([{key:"lengthComputable",converter:nf.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"loaded",converter:nf.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"total",converter:nf.converters["unsigned long long"],defaultValue:o(()=>0,"defaultValue")},{key:"bubbles",converter:nf.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:nf.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:nf.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}]);K_e.exports={ProgressEvent:woe}});var Z_e=V((uHr,X_e)=>{"use strict";d();function q3t(e){if(!e)return"failure";switch(e.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}o(q3t,"getEncoding");X_e.exports={getEncoding:q3t}});var ake=V((mHr,ske)=>{"use strict";d();var{kState:S8,kError:Soe,kResult:eke,kAborted:MS,kLastProgressEventFired:_oe}=Toe(),{ProgressEvent:W3t}=J_e(),{getEncoding:tke}=Z_e(),{serializeAMimeType:G3t,parseMIMEType:rke}=zc(),{types:H3t}=require("node:util"),{StringDecoder:nke}=require("string_decoder"),{btoa:ike}=require("node:buffer"),V3t={enumerable:!0,writable:!1,configurable:!1};function j3t(e,t,r,n){if(e[S8]==="loading")throw new DOMException("Invalid state","InvalidStateError");e[S8]="loading",e[eke]=null,e[Soe]=null;let s=t.stream().getReader(),a=[],l=s.read(),c=!0;(async()=>{for(;!e[MS];)try{let{done:u,value:f}=await l;if(c&&!e[MS]&&queueMicrotask(()=>{by("loadstart",e)}),c=!1,!u&&H3t.isUint8Array(f))a.push(f),(e[_oe]===void 0||Date.now()-e[_oe]>=50)&&!e[MS]&&(e[_oe]=Date.now(),queueMicrotask(()=>{by("progress",e)})),l=s.read();else if(u){queueMicrotask(()=>{e[S8]="done";try{let m=$3t(a,r,t.type,n);if(e[MS])return;e[eke]=m,by("load",e)}catch(m){e[Soe]=m,by("error",e)}e[S8]!=="loading"&&by("loadend",e)});break}}catch(u){if(e[MS])return;queueMicrotask(()=>{e[S8]="done",e[Soe]=u,by("error",e),e[S8]!=="loading"&&by("loadend",e)});break}})()}o(j3t,"readOperation");function by(e,t){let r=new W3t(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(r)}o(by,"fireAProgressEvent");function $3t(e,t,r,n){switch(t){case"DataURL":{let i="data:",s=rke(r||"application/octet-stream");s!=="failure"&&(i+=G3t(s)),i+=";base64,";let a=new nke("latin1");for(let l of e)i+=ike(a.write(l));return i+=ike(a.end()),i}case"Text":{let i="failure";if(n&&(i=tke(n)),i==="failure"&&r){let s=rke(r);s!=="failure"&&(i=tke(s.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),z3t(e,i)}case"ArrayBuffer":return oke(e).buffer;case"BinaryString":{let i="",s=new nke("latin1");for(let a of e)i+=s.write(a);return i+=s.end(),i}}}o($3t,"packageData");function z3t(e,t){let r=oke(e),n=Y3t(r),i=0;n!==null&&(t=n,i=n==="UTF-8"?3:2);let s=r.slice(i);return new TextDecoder(t).decode(s)}o(z3t,"decode");function Y3t(e){let[t,r,n]=e;return t===239&&r===187&&n===191?"UTF-8":t===254&&r===255?"UTF-16BE":t===255&&r===254?"UTF-16LE":null}o(Y3t,"BOMSniffing");function oke(e){let t=e.reduce((n,i)=>n+i.byteLength,0),r=0;return e.reduce((n,i)=>(n.set(i,r),r+=i.byteLength,n),new Uint8Array(t))}o(oke,"combineByteSequences");ske.exports={staticPropertyDescriptors:V3t,readOperation:j3t,fireAProgressEvent:by}});var fke=V((gHr,uke)=>{"use strict";d();var{staticPropertyDescriptors:_8,readOperation:UU,fireAProgressEvent:lke}=ake(),{kState:ox,kError:cke,kResult:qU,kEvents:lo,kAborted:K3t}=Toe(),{webidl:To}=zl(),{kEnumerableProperty:Jc}=ui(),th=class e extends EventTarget{static{o(this,"FileReader")}constructor(){super(),this[ox]="empty",this[qU]=null,this[cke]=null,this[lo]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(t){To.brandCheck(this,e),To.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),t=To.converters.Blob(t,{strict:!1}),UU(this,t,"ArrayBuffer")}readAsBinaryString(t){To.brandCheck(this,e),To.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),t=To.converters.Blob(t,{strict:!1}),UU(this,t,"BinaryString")}readAsText(t,r=void 0){To.brandCheck(this,e),To.argumentLengthCheck(arguments,1,"FileReader.readAsText"),t=To.converters.Blob(t,{strict:!1}),r!==void 0&&(r=To.converters.DOMString(r,"FileReader.readAsText","encoding")),UU(this,t,"Text",r)}readAsDataURL(t){To.brandCheck(this,e),To.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),t=To.converters.Blob(t,{strict:!1}),UU(this,t,"DataURL")}abort(){if(this[ox]==="empty"||this[ox]==="done"){this[qU]=null;return}this[ox]==="loading"&&(this[ox]="done",this[qU]=null),this[K3t]=!0,lke("abort",this),this[ox]!=="loading"&&lke("loadend",this)}get readyState(){switch(To.brandCheck(this,e),this[ox]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return To.brandCheck(this,e),this[qU]}get error(){return To.brandCheck(this,e),this[cke]}get onloadend(){return To.brandCheck(this,e),this[lo].loadend}set onloadend(t){To.brandCheck(this,e),this[lo].loadend&&this.removeEventListener("loadend",this[lo].loadend),typeof t=="function"?(this[lo].loadend=t,this.addEventListener("loadend",t)):this[lo].loadend=null}get onerror(){return To.brandCheck(this,e),this[lo].error}set onerror(t){To.brandCheck(this,e),this[lo].error&&this.removeEventListener("error",this[lo].error),typeof t=="function"?(this[lo].error=t,this.addEventListener("error",t)):this[lo].error=null}get onloadstart(){return To.brandCheck(this,e),this[lo].loadstart}set onloadstart(t){To.brandCheck(this,e),this[lo].loadstart&&this.removeEventListener("loadstart",this[lo].loadstart),typeof t=="function"?(this[lo].loadstart=t,this.addEventListener("loadstart",t)):this[lo].loadstart=null}get onprogress(){return To.brandCheck(this,e),this[lo].progress}set onprogress(t){To.brandCheck(this,e),this[lo].progress&&this.removeEventListener("progress",this[lo].progress),typeof t=="function"?(this[lo].progress=t,this.addEventListener("progress",t)):this[lo].progress=null}get onload(){return To.brandCheck(this,e),this[lo].load}set onload(t){To.brandCheck(this,e),this[lo].load&&this.removeEventListener("load",this[lo].load),typeof t=="function"?(this[lo].load=t,this.addEventListener("load",t)):this[lo].load=null}get onabort(){return To.brandCheck(this,e),this[lo].abort}set onabort(t){To.brandCheck(this,e),this[lo].abort&&this.removeEventListener("abort",this[lo].abort),typeof t=="function"?(this[lo].abort=t,this.addEventListener("abort",t)):this[lo].abort=null}};th.EMPTY=th.prototype.EMPTY=0;th.LOADING=th.prototype.LOADING=1;th.DONE=th.prototype.DONE=2;Object.defineProperties(th.prototype,{EMPTY:_8,LOADING:_8,DONE:_8,readAsArrayBuffer:Jc,readAsBinaryString:Jc,readAsText:Jc,readAsDataURL:Jc,abort:Jc,readyState:Jc,result:Jc,error:Jc,onloadstart:Jc,onprogress:Jc,onload:Jc,onabort:Jc,onerror:Jc,onloadend:Jc,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(th,{EMPTY:_8,LOADING:_8,DONE:_8});uke.exports={FileReader:th}});var WU=V((CHr,dke)=>{"use strict";d();dke.exports={kConstruct:Ts().kConstruct}});var pke=V((EHr,hke)=>{"use strict";d();var J3t=require("node:assert"),{URLSerializer:mke}=zc(),{isValidHeaderName:X3t}=Ju();function Z3t(e,t,r=!1){let n=mke(e,r),i=mke(t,r);return n===i}o(Z3t,"urlEquals");function e4t(e){J3t(e!==null);let t=[];for(let r of e.split(","))r=r.trim(),X3t(r)&&t.push(r);return t}o(e4t,"getFieldValues");hke.exports={urlEquals:Z3t,getFieldValues:e4t}});var yke=V((IHr,Ake)=>{"use strict";d();var{kConstruct:t4t}=WU(),{urlEquals:r4t,getFieldValues:koe}=pke(),{kEnumerableProperty:sx,isDisturbed:n4t}=ui(),{webidl:Jr}=zl(),{Response:i4t,cloneResponse:o4t,fromInnerResponse:s4t}=NS(),{Request:nA,fromInnerRequest:a4t}=w8(),{kState:rh}=cy(),{fetching:l4t}=QS(),{urlIsHttpHttpsScheme:GU,createDeferredPromise:k8,readAllBytes:c4t}=Ju(),Boe=require("node:assert"),HU=class e{static{o(this,"Cache")}#e;constructor(){arguments[0]!==t4t&&Jr.illegalConstructor(),Jr.util.markAsUncloneable(this),this.#e=arguments[1]}async match(t,r={}){Jr.brandCheck(this,e);let n="Cache.match";Jr.argumentLengthCheck(arguments,1,n),t=Jr.converters.RequestInfo(t,n,"request"),r=Jr.converters.CacheQueryOptions(r,n,"options");let i=this.#r(t,r,1);if(i.length!==0)return i[0]}async matchAll(t=void 0,r={}){Jr.brandCheck(this,e);let n="Cache.matchAll";return t!==void 0&&(t=Jr.converters.RequestInfo(t,n,"request")),r=Jr.converters.CacheQueryOptions(r,n,"options"),this.#r(t,r)}async add(t){Jr.brandCheck(this,e);let r="Cache.add";Jr.argumentLengthCheck(arguments,1,r),t=Jr.converters.RequestInfo(t,r,"request");let n=[t];return await this.addAll(n)}async addAll(t){Jr.brandCheck(this,e);let r="Cache.addAll";Jr.argumentLengthCheck(arguments,1,r);let n=[],i=[];for(let h of t){if(h===void 0)throw Jr.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(h=Jr.converters.RequestInfo(h),typeof h=="string")continue;let p=h[rh];if(!GU(p.url)||p.method!=="GET")throw Jr.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let s=[];for(let h of t){let p=new nA(h)[rh];if(!GU(p.url))throw Jr.errors.exception({header:r,message:"Expected http/s scheme."});p.initiator="fetch",p.destination="subresource",i.push(p);let A=k8();s.push(l4t({request:p,processResponse(x){if(x.type==="error"||x.status===206||x.status<200||x.status>299)A.reject(Jr.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(x.headersList.contains("vary")){let E=koe(x.headersList.get("vary"));for(let v of E)if(v==="*"){A.reject(Jr.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let b of s)b.abort();return}}},processResponseEndOfBody(x){if(x.aborted){A.reject(new DOMException("aborted","AbortError"));return}A.resolve(x)}})),n.push(A.promise)}let l=await Promise.all(n),c=[],u=0;for(let h of l){let p={type:"put",request:i[u],response:h};c.push(p),u++}let f=k8(),m=null;try{this.#t(c)}catch(h){m=h}return queueMicrotask(()=>{m===null?f.resolve(void 0):f.reject(m)}),f.promise}async put(t,r){Jr.brandCheck(this,e);let n="Cache.put";Jr.argumentLengthCheck(arguments,2,n),t=Jr.converters.RequestInfo(t,n,"request"),r=Jr.converters.Response(r,n,"response");let i=null;if(t instanceof nA?i=t[rh]:i=new nA(t)[rh],!GU(i.url)||i.method!=="GET")throw Jr.errors.exception({header:n,message:"Expected an http/s scheme when method is not GET"});let s=r[rh];if(s.status===206)throw Jr.errors.exception({header:n,message:"Got 206 status"});if(s.headersList.contains("vary")){let p=koe(s.headersList.get("vary"));for(let A of p)if(A==="*")throw Jr.errors.exception({header:n,message:"Got * vary field value"})}if(s.body&&(n4t(s.body.stream)||s.body.stream.locked))throw Jr.errors.exception({header:n,message:"Response body is locked or disturbed"});let a=o4t(s),l=k8();if(s.body!=null){let A=s.body.stream.getReader();c4t(A).then(l.resolve,l.reject)}else l.resolve(void 0);let c=[],u={type:"put",request:i,response:a};c.push(u);let f=await l.promise;a.body!=null&&(a.body.source=f);let m=k8(),h=null;try{this.#t(c)}catch(p){h=p}return queueMicrotask(()=>{h===null?m.resolve():m.reject(h)}),m.promise}async delete(t,r={}){Jr.brandCheck(this,e);let n="Cache.delete";Jr.argumentLengthCheck(arguments,1,n),t=Jr.converters.RequestInfo(t,n,"request"),r=Jr.converters.CacheQueryOptions(r,n,"options");let i=null;if(t instanceof nA){if(i=t[rh],i.method!=="GET"&&!r.ignoreMethod)return!1}else Boe(typeof t=="string"),i=new nA(t)[rh];let s=[],a={type:"delete",request:i,options:r};s.push(a);let l=k8(),c=null,u;try{u=this.#t(s)}catch(f){c=f}return queueMicrotask(()=>{c===null?l.resolve(!!u?.length):l.reject(c)}),l.promise}async keys(t=void 0,r={}){Jr.brandCheck(this,e);let n="Cache.keys";t!==void 0&&(t=Jr.converters.RequestInfo(t,n,"request")),r=Jr.converters.CacheQueryOptions(r,n,"options");let i=null;if(t!==void 0)if(t instanceof nA){if(i=t[rh],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new nA(t)[rh]);let s=k8(),a=[];if(t===void 0)for(let l of this.#e)a.push(l[0]);else{let l=this.#i(i,r);for(let c of l)a.push(c[0])}return queueMicrotask(()=>{let l=[];for(let c of a){let u=a4t(c,new AbortController().signal,"immutable");l.push(u)}s.resolve(Object.freeze(l))}),s.promise}#t(t){let r=this.#e,n=[...r],i=[],s=[];try{for(let a of t){if(a.type!=="delete"&&a.type!=="put")throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(a.type==="delete"&&a.response!=null)throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(a.request,a.options,i).length)throw new DOMException("???","InvalidStateError");let l;if(a.type==="delete"){if(l=this.#i(a.request,a.options),l.length===0)return[];for(let c of l){let u=r.indexOf(c);Boe(u!==-1),r.splice(u,1)}}else if(a.type==="put"){if(a.response==null)throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let c=a.request;if(!GU(c.url))throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(c.method!=="GET")throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(a.options!=null)throw Jr.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});l=this.#i(a.request);for(let u of l){let f=r.indexOf(u);Boe(f!==-1),r.splice(f,1)}r.push([a.request,a.response]),i.push([a.request,a.response])}s.push([a.request,a.response])}return s}catch(a){throw this.#e.length=0,this.#e=n,a}}#i(t,r,n){let i=[],s=n??this.#e;for(let a of s){let[l,c]=a;this.#n(t,l,c,r)&&i.push(a)}return i}#n(t,r,n=null,i){let s=new URL(t.url),a=new URL(r.url);if(i?.ignoreSearch&&(a.search="",s.search=""),!r4t(s,a,!0))return!1;if(n==null||i?.ignoreVary||!n.headersList.contains("vary"))return!0;let l=koe(n.headersList.get("vary"));for(let c of l){if(c==="*")return!1;let u=r.headersList.get(c),f=t.headersList.get(c);if(u!==f)return!1}return!0}#r(t,r,n=1/0){let i=null;if(t!==void 0)if(t instanceof nA){if(i=t[rh],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new nA(t)[rh]);let s=[];if(t===void 0)for(let l of this.#e)s.push(l[1]);else{let l=this.#i(i,r);for(let c of l)s.push(c[1])}let a=[];for(let l of s){let c=s4t(l,"immutable");if(a.push(c.clone()),a.length>=n)break}return Object.freeze(a)}};Object.defineProperties(HU.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:sx,matchAll:sx,add:sx,addAll:sx,put:sx,delete:sx,keys:sx});var gke=[{key:"ignoreSearch",converter:Jr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreMethod",converter:Jr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"ignoreVary",converter:Jr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];Jr.converters.CacheQueryOptions=Jr.dictionaryConverter(gke);Jr.converters.MultiCacheQueryOptions=Jr.dictionaryConverter([...gke,{key:"cacheName",converter:Jr.converters.DOMString}]);Jr.converters.Response=Jr.interfaceConverter(i4t);Jr.converters["sequence<RequestInfo>"]=Jr.sequenceConverter(Jr.converters.RequestInfo);Ake.exports={Cache:HU}});var xke=V((SHr,Cke)=>{"use strict";d();var{kConstruct:OS}=WU(),{Cache:VU}=yke(),{webidl:S0}=zl(),{kEnumerableProperty:US}=ui(),jU=class e{static{o(this,"CacheStorage")}#e=new Map;constructor(){arguments[0]!==OS&&S0.illegalConstructor(),S0.util.markAsUncloneable(this)}async match(t,r={}){if(S0.brandCheck(this,e),S0.argumentLengthCheck(arguments,1,"CacheStorage.match"),t=S0.converters.RequestInfo(t),r=S0.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new VU(OS,n).match(t,r)}}else for(let n of this.#e.values()){let s=await new VU(OS,n).match(t,r);if(s!==void 0)return s}}async has(t){S0.brandCheck(this,e);let r="CacheStorage.has";return S0.argumentLengthCheck(arguments,1,r),t=S0.converters.DOMString(t,r,"cacheName"),this.#e.has(t)}async open(t){S0.brandCheck(this,e);let r="CacheStorage.open";if(S0.argumentLengthCheck(arguments,1,r),t=S0.converters.DOMString(t,r,"cacheName"),this.#e.has(t)){let i=this.#e.get(t);return new VU(OS,i)}let n=[];return this.#e.set(t,n),new VU(OS,n)}async delete(t){S0.brandCheck(this,e);let r="CacheStorage.delete";return S0.argumentLengthCheck(arguments,1,r),t=S0.converters.DOMString(t,r,"cacheName"),this.#e.delete(t)}async keys(){return S0.brandCheck(this,e),[...this.#e.keys()]}};Object.defineProperties(jU.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:US,has:US,open:US,delete:US,keys:US});Cke.exports={CacheStorage:jU}});var bke=V((BHr,Eke)=>{"use strict";d();Eke.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var Roe=V((DHr,Ske)=>{"use strict";d();function u4t(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>=0&&r<=8||r>=10&&r<=31||r===127)return!0}return!1}o(u4t,"isCTLExcludingHtab");function vke(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===60||r===62||r===64||r===44||r===59||r===58||r===92||r===47||r===91||r===93||r===63||r===61||r===123||r===125)throw new Error("Invalid cookie name")}}o(vke,"validateCookieName");function Ike(e){let t=e.length,r=0;if(e[0]==='"'){if(t===1||e[t-1]!=='"')throw new Error("Invalid cookie value");--t,++r}for(;r<t;){let n=e.charCodeAt(r++);if(n<33||n>126||n===34||n===44||n===59||n===92)throw new Error("Invalid cookie value")}}o(Ike,"validateCookieValue");function Tke(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<32||r===127||r===59)throw new Error("Invalid cookie path")}}o(Tke,"validateCookiePath");function f4t(e){if(e.startsWith("-")||e.endsWith(".")||e.endsWith("-"))throw new Error("Invalid cookie domain")}o(f4t,"validateCookieDomain");var d4t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m4t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],$U=Array(61).fill(0).map((e,t)=>t.toString().padStart(2,"0"));function wke(e){return typeof e=="number"&&(e=new Date(e)),`${d4t[e.getUTCDay()]}, ${$U[e.getUTCDate()]} ${m4t[e.getUTCMonth()]} ${e.getUTCFullYear()} ${$U[e.getUTCHours()]}:${$U[e.getUTCMinutes()]}:${$U[e.getUTCSeconds()]} GMT`}o(wke,"toIMFDate");function h4t(e){if(e<0)throw new Error("Invalid cookie max-age")}o(h4t,"validateCookieMaxAge");function p4t(e){if(e.name.length===0)return null;vke(e.name),Ike(e.value);let t=[`${e.name}=${e.value}`];e.name.startsWith("__Secure-")&&(e.secure=!0),e.name.startsWith("__Host-")&&(e.secure=!0,e.domain=null,e.path="/"),e.secure&&t.push("Secure"),e.httpOnly&&t.push("HttpOnly"),typeof e.maxAge=="number"&&(h4t(e.maxAge),t.push(`Max-Age=${e.maxAge}`)),e.domain&&(f4t(e.domain),t.push(`Domain=${e.domain}`)),e.path&&(Tke(e.path),t.push(`Path=${e.path}`)),e.expires&&e.expires.toString()!=="Invalid Date"&&t.push(`Expires=${wke(e.expires)}`),e.sameSite&&t.push(`SameSite=${e.sameSite}`);for(let r of e.unparsed){if(!r.includes("="))throw new Error("Invalid unparsed");let[n,...i]=r.split("=");t.push(`${n.trim()}=${i.join("=")}`)}return t.join("; ")}o(p4t,"stringify");Ske.exports={isCTLExcludingHtab:u4t,validateCookieName:vke,validateCookiePath:Tke,validateCookieValue:Ike,toIMFDate:wke,stringify:p4t}});var kke=V((NHr,_ke)=>{"use strict";d();var{maxNameValuePairSize:g4t,maxAttributeValueSize:A4t}=bke(),{isCTLExcludingHtab:y4t}=Roe(),{collectASequenceOfCodePointsFast:zU}=zc(),C4t=require("node:assert");function x4t(e){if(y4t(e))return null;let t="",r="",n="",i="";if(e.includes(";")){let s={position:0};t=zU(";",e,s),r=e.slice(s.position)}else t=e;if(!t.includes("="))i=t;else{let s={position:0};n=zU("=",t,s),i=t.slice(s.position+1)}return n=n.trim(),i=i.trim(),n.length+i.length>g4t?null:{name:n,value:i,...B8(r)}}o(x4t,"parseSetCookie");function B8(e,t={}){if(e.length===0)return t;C4t(e[0]===";"),e=e.slice(1);let r="";e.includes(";")?(r=zU(";",e,{position:0}),e=e.slice(r.length)):(r=e,e="");let n="",i="";if(r.includes("=")){let a={position:0};n=zU("=",r,a),i=r.slice(a.position+1)}else n=r;if(n=n.trim(),i=i.trim(),i.length>A4t)return B8(e,t);let s=n.toLowerCase();if(s==="expires"){let a=new Date(i);t.expires=a}else if(s==="max-age"){let a=i.charCodeAt(0);if((a<48||a>57)&&i[0]!=="-"||!/^\d+$/.test(i))return B8(e,t);let l=Number(i);t.maxAge=l}else if(s==="domain"){let a=i;a[0]==="."&&(a=a.slice(1)),a=a.toLowerCase(),t.domain=a}else if(s==="path"){let a="";i.length===0||i[0]!=="/"?a="/":a=i,t.path=a}else if(s==="secure")t.secure=!0;else if(s==="httponly")t.httpOnly=!0;else if(s==="samesite"){let a="Default",l=i.toLowerCase();l.includes("none")&&(a="None"),l.includes("strict")&&(a="Strict"),l.includes("lax")&&(a="Lax"),t.sameSite=a}else t.unparsed??=[],t.unparsed.push(`${n}=${i}`);return B8(e,t)}o(B8,"parseUnparsedAttributes");_ke.exports={parseSetCookie:x4t,parseUnparsedAttributes:B8}});var Dke=V((MHr,Rke)=>{"use strict";d();var{parseSetCookie:E4t}=kke(),{stringify:b4t}=Roe(),{webidl:Si}=zl(),{Headers:YU}=tx();function v4t(e){Si.argumentLengthCheck(arguments,1,"getCookies"),Si.brandCheck(e,YU,{strict:!1});let t=e.get("cookie"),r={};if(!t)return r;for(let n of t.split(";")){let[i,...s]=n.split("=");r[i.trim()]=s.join("=")}return r}o(v4t,"getCookies");function I4t(e,t,r){Si.brandCheck(e,YU,{strict:!1});let n="deleteCookie";Si.argumentLengthCheck(arguments,2,n),t=Si.converters.DOMString(t,n,"name"),r=Si.converters.DeleteCookieAttributes(r),Bke(e,{name:t,value:"",expires:new Date(0),...r})}o(I4t,"deleteCookie");function T4t(e){Si.argumentLengthCheck(arguments,1,"getSetCookies"),Si.brandCheck(e,YU,{strict:!1});let t=e.getSetCookie();return t?t.map(r=>E4t(r)):[]}o(T4t,"getSetCookies");function Bke(e,t){Si.argumentLengthCheck(arguments,2,"setCookie"),Si.brandCheck(e,YU,{strict:!1}),t=Si.converters.Cookie(t);let r=b4t(t);r&&e.append("Set-Cookie",r)}o(Bke,"setCookie");Si.converters.DeleteCookieAttributes=Si.dictionaryConverter([{converter:Si.nullableConverter(Si.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:Si.nullableConverter(Si.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")}]);Si.converters.Cookie=Si.dictionaryConverter([{converter:Si.converters.DOMString,key:"name"},{converter:Si.converters.DOMString,key:"value"},{converter:Si.nullableConverter(e=>typeof e=="number"?Si.converters["unsigned long long"](e):new Date(e)),key:"expires",defaultValue:o(()=>null,"defaultValue")},{converter:Si.nullableConverter(Si.converters["long long"]),key:"maxAge",defaultValue:o(()=>null,"defaultValue")},{converter:Si.nullableConverter(Si.converters.DOMString),key:"domain",defaultValue:o(()=>null,"defaultValue")},{converter:Si.nullableConverter(Si.converters.DOMString),key:"path",defaultValue:o(()=>null,"defaultValue")},{converter:Si.nullableConverter(Si.converters.boolean),key:"secure",defaultValue:o(()=>null,"defaultValue")},{converter:Si.nullableConverter(Si.converters.boolean),key:"httpOnly",defaultValue:o(()=>null,"defaultValue")},{converter:Si.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:Si.sequenceConverter(Si.converters.DOMString),key:"unparsed",defaultValue:o(()=>new Array(0),"defaultValue")}]);Rke.exports={getCookies:v4t,deleteCookie:I4t,getSetCookies:T4t,setCookie:Bke}});var D8=V((qHr,Fke)=>{"use strict";d();var{webidl:zr}=zl(),{kEnumerableProperty:Xc}=ui(),{kConstruct:Pke}=Ts(),{MessagePort:w4t}=require("node:worker_threads"),R8=class e extends Event{static{o(this,"MessageEvent")}#e;constructor(t,r={}){if(t===Pke){super(arguments[1],arguments[2]),zr.util.markAsUncloneable(this);return}let n="MessageEvent constructor";zr.argumentLengthCheck(arguments,1,n),t=zr.converters.DOMString(t,n,"type"),r=zr.converters.MessageEventInit(r,n,"eventInitDict"),super(t,r),this.#e=r,zr.util.markAsUncloneable(this)}get data(){return zr.brandCheck(this,e),this.#e.data}get origin(){return zr.brandCheck(this,e),this.#e.origin}get lastEventId(){return zr.brandCheck(this,e),this.#e.lastEventId}get source(){return zr.brandCheck(this,e),this.#e.source}get ports(){return zr.brandCheck(this,e),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(t,r=!1,n=!1,i=null,s="",a="",l=null,c=[]){return zr.brandCheck(this,e),zr.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new e(t,{bubbles:r,cancelable:n,data:i,origin:s,lastEventId:a,source:l,ports:c})}static createFastMessageEvent(t,r){let n=new e(Pke,t,r);return n.#e=r,n.#e.data??=null,n.#e.origin??="",n.#e.lastEventId??="",n.#e.source??=null,n.#e.ports??=[],n}},{createFastMessageEvent:S4t}=R8;delete R8.createFastMessageEvent;var KU=class e extends Event{static{o(this,"CloseEvent")}#e;constructor(t,r={}){let n="CloseEvent constructor";zr.argumentLengthCheck(arguments,1,n),t=zr.converters.DOMString(t,n,"type"),r=zr.converters.CloseEventInit(r),super(t,r),this.#e=r,zr.util.markAsUncloneable(this)}get wasClean(){return zr.brandCheck(this,e),this.#e.wasClean}get code(){return zr.brandCheck(this,e),this.#e.code}get reason(){return zr.brandCheck(this,e),this.#e.reason}},JU=class e extends Event{static{o(this,"ErrorEvent")}#e;constructor(t,r){let n="ErrorEvent constructor";zr.argumentLengthCheck(arguments,1,n),super(t,r),zr.util.markAsUncloneable(this),t=zr.converters.DOMString(t,n,"type"),r=zr.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return zr.brandCheck(this,e),this.#e.message}get filename(){return zr.brandCheck(this,e),this.#e.filename}get lineno(){return zr.brandCheck(this,e),this.#e.lineno}get colno(){return zr.brandCheck(this,e),this.#e.colno}get error(){return zr.brandCheck(this,e),this.#e.error}};Object.defineProperties(R8.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:Xc,origin:Xc,lastEventId:Xc,source:Xc,ports:Xc,initMessageEvent:Xc});Object.defineProperties(KU.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:Xc,code:Xc,wasClean:Xc});Object.defineProperties(JU.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:Xc,filename:Xc,lineno:Xc,colno:Xc,error:Xc});zr.converters.MessagePort=zr.interfaceConverter(w4t);zr.converters["sequence<MessagePort>"]=zr.sequenceConverter(zr.converters.MessagePort);var Doe=[{key:"bubbles",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"cancelable",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"composed",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")}];zr.converters.MessageEventInit=zr.dictionaryConverter([...Doe,{key:"data",converter:zr.converters.any,defaultValue:o(()=>null,"defaultValue")},{key:"origin",converter:zr.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lastEventId",converter:zr.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"source",converter:zr.nullableConverter(zr.converters.MessagePort),defaultValue:o(()=>null,"defaultValue")},{key:"ports",converter:zr.converters["sequence<MessagePort>"],defaultValue:o(()=>new Array(0),"defaultValue")}]);zr.converters.CloseEventInit=zr.dictionaryConverter([...Doe,{key:"wasClean",converter:zr.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"code",converter:zr.converters["unsigned short"],defaultValue:o(()=>0,"defaultValue")},{key:"reason",converter:zr.converters.USVString,defaultValue:o(()=>"","defaultValue")}]);zr.converters.ErrorEventInit=zr.dictionaryConverter([...Doe,{key:"message",converter:zr.converters.DOMString,defaultValue:o(()=>"","defaultValue")},{key:"filename",converter:zr.converters.USVString,defaultValue:o(()=>"","defaultValue")},{key:"lineno",converter:zr.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"colno",converter:zr.converters["unsigned long"],defaultValue:o(()=>0,"defaultValue")},{key:"error",converter:zr.converters.any}]);Fke.exports={MessageEvent:R8,CloseEvent:KU,ErrorEvent:JU,createFastMessageEvent:S4t}});var ax=V((HHr,Nke)=>{"use strict";d();var _4t="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",k4t={enumerable:!0,writable:!1,configurable:!1},B4t={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},R4t={NOT_SENT:0,PROCESSING:1,SENT:2},D4t={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},P4t=2**16-1,F4t={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},N4t=Buffer.allocUnsafe(0),L4t={string:1,typedArray:2,arrayBuffer:3,blob:4};Nke.exports={uid:_4t,sentCloseFrameState:R4t,staticPropertyDescriptors:k4t,states:B4t,opcodes:D4t,maxUnsigned16Bit:P4t,parserStates:F4t,emptyBuffer:N4t,sendHints:L4t}});var qS=V((jHr,Lke)=>{"use strict";d();Lke.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var HS=V((zHr,Vke)=>{"use strict";d();var{kReadyState:WS,kController:Q4t,kResponse:M4t,kBinaryType:O4t,kWebSocketURL:U4t}=qS(),{states:GS,opcodes:vy}=ax(),{ErrorEvent:q4t,createFastMessageEvent:W4t}=D8(),{isUtf8:G4t}=require("node:buffer"),{collectASequenceOfCodePointsFast:H4t,removeHTTPWhitespace:Qke}=zc();function V4t(e){return e[WS]===GS.CONNECTING}o(V4t,"isConnecting");function j4t(e){return e[WS]===GS.OPEN}o(j4t,"isEstablished");function $4t(e){return e[WS]===GS.CLOSING}o($4t,"isClosing");function z4t(e){return e[WS]===GS.CLOSED}o(z4t,"isClosed");function Poe(e,t,r=(i,s)=>new Event(i,s),n={}){let i=r(e,n);t.dispatchEvent(i)}o(Poe,"fireEvent");function Y4t(e,t,r){if(e[WS]!==GS.OPEN)return;let n;if(t===vy.TEXT)try{n=Hke(r)}catch{Oke(e,"Received invalid UTF-8 in text frame.");return}else t===vy.BINARY&&(e[O4t]==="blob"?n=new Blob([r]):n=K4t(r));Poe("message",e,W4t,{origin:e[U4t].origin,data:n})}o(Y4t,"websocketMessageReceived");function K4t(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}o(K4t,"toArrayBuffer");function J4t(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===44||r===47||r===58||r===59||r===60||r===61||r===62||r===63||r===64||r===91||r===92||r===93||r===123||r===125)return!1}return!0}o(J4t,"isValidSubprotocol");function X4t(e){return e>=1e3&&e<1015?e!==1004&&e!==1005&&e!==1006:e>=3e3&&e<=4999}o(X4t,"isValidStatusCode");function Oke(e,t){let{[Q4t]:r,[M4t]:n}=e;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),t&&Poe("error",e,(i,s)=>new q4t(i,s),{error:new Error(t),message:t})}o(Oke,"failWebsocketConnection");function Uke(e){return e===vy.CLOSE||e===vy.PING||e===vy.PONG}o(Uke,"isControlFrame");function qke(e){return e===vy.CONTINUATION}o(qke,"isContinuationFrame");function Wke(e){return e===vy.TEXT||e===vy.BINARY}o(Wke,"isTextBinaryFrame");function Z4t(e){return Wke(e)||qke(e)||Uke(e)}o(Z4t,"isValidOpcode");function ext(e){let t={position:0},r=new Map;for(;t.position<e.length;){let n=H4t(";",e,t),[i,s=""]=n.split("=");r.set(Qke(i,!0,!1),Qke(s,!1,!0)),t.position++}return r}o(ext,"parseExtensions");function txt(e){for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0}o(txt,"isValidClientWindowBits");var Gke=typeof process.versions.icu=="string",Mke=Gke?new TextDecoder("utf-8",{fatal:!0}):void 0,Hke=Gke?Mke.decode.bind(Mke):function(e){if(G4t(e))return e.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};Vke.exports={isConnecting:V4t,isEstablished:j4t,isClosing:$4t,isClosed:z4t,fireEvent:Poe,isValidSubprotocol:J4t,isValidStatusCode:X4t,failWebsocketConnection:Oke,websocketMessageReceived:Y4t,utf8Decode:Hke,isControlFrame:Uke,isContinuationFrame:qke,isTextBinaryFrame:Wke,isValidOpcode:Z4t,parseExtensions:ext,isValidClientWindowBits:txt}});var ZU=V((JHr,jke)=>{"use strict";d();var{maxUnsigned16Bit:rxt}=ax(),XU=16386,Foe,VS=null,P8=XU;try{Foe=require("node:crypto")}catch{Foe={randomFillSync:o(function(t,r,n){for(let i=0;i<t.length;++i)t[i]=Math.random()*255|0;return t},"randomFillSync")}}function nxt(){return P8===XU&&(P8=0,Foe.randomFillSync(VS??=Buffer.allocUnsafe(XU),0,XU)),[VS[P8++],VS[P8++],VS[P8++],VS[P8++]]}o(nxt,"generateMask");var Noe=class{static{o(this,"WebsocketFrameSend")}constructor(t){this.frameData=t}createFrame(t){let r=this.frameData,n=nxt(),i=r?.byteLength??0,s=i,a=6;i>rxt?(a+=8,s=127):i>125&&(a+=2,s=126);let l=Buffer.allocUnsafe(i+a);l[0]=l[1]=0,l[0]|=128,l[0]=(l[0]&240)+t;l[a-4]=n[0],l[a-3]=n[1],l[a-2]=n[2],l[a-1]=n[3],l[1]=s,s===126?l.writeUInt16BE(i,2):s===127&&(l[2]=l[3]=0,l.writeUIntBE(i,4,6)),l[1]|=128;for(let c=0;c<i;++c)l[a+c]=r[c]^n[c&3];return l}};jke.exports={WebsocketFrameSend:Noe}});var Qoe=V((eVr,Zke)=>{"use strict";d();var{uid:ixt,states:jS,sentCloseFrameState:eq,emptyBuffer:oxt,opcodes:sxt}=ax(),{kReadyState:$S,kSentClose:tq,kByteParser:zke,kReceivedClose:$ke,kResponse:Yke}=qS(),{fireEvent:axt,failWebsocketConnection:Iy,isClosing:lxt,isClosed:cxt,isEstablished:uxt,parseExtensions:fxt}=HS(),{channels:F8}=$I(),{CloseEvent:dxt}=D8(),{makeRequest:mxt}=w8(),{fetching:hxt}=QS(),{Headers:pxt,getHeadersList:gxt}=tx(),{getDecodeSplit:Axt}=Ju(),{WebsocketFrameSend:yxt}=ZU(),Loe;try{Loe=require("node:crypto")}catch{}function Cxt(e,t,r,n,i,s){let a=e;a.protocol=e.protocol==="ws:"?"http:":"https:";let l=mxt({urlList:[a],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(s.headers){let m=gxt(new pxt(s.headers));l.headersList=m}let c=Loe.randomBytes(16).toString("base64");l.headersList.append("sec-websocket-key",c),l.headersList.append("sec-websocket-version","13");for(let m of t)l.headersList.append("sec-websocket-protocol",m);return l.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),hxt({request:l,useParallelQueue:!0,dispatcher:s.dispatcher,processResponse(m){if(m.type==="error"||m.status!==101){Iy(n,"Received network error or non-101 status code.");return}if(t.length!==0&&!m.headersList.get("Sec-WebSocket-Protocol")){Iy(n,"Server did not respond with sent protocols.");return}if(m.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){Iy(n,'Server did not set Upgrade header to "websocket".');return}if(m.headersList.get("Connection")?.toLowerCase()!=="upgrade"){Iy(n,'Server did not set Connection header to "upgrade".');return}let h=m.headersList.get("Sec-WebSocket-Accept"),p=Loe.createHash("sha1").update(c+ixt).digest("base64");if(h!==p){Iy(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let A=m.headersList.get("Sec-WebSocket-Extensions"),x;if(A!==null&&(x=fxt(A),!x.has("permessage-deflate"))){Iy(n,"Sec-WebSocket-Extensions header does not match.");return}let E=m.headersList.get("Sec-WebSocket-Protocol");if(E!==null&&!Axt("sec-websocket-protocol",l.headersList).includes(E)){Iy(n,"Protocol was not set in the opening handshake.");return}m.socket.on("data",Kke),m.socket.on("close",Jke),m.socket.on("error",Xke),F8.open.hasSubscribers&&F8.open.publish({address:m.socket.address(),protocol:E,extensions:A}),i(m,x)}})}o(Cxt,"establishWebSocketConnection");function xxt(e,t,r,n){if(!(lxt(e)||cxt(e)))if(!uxt(e))Iy(e,"Connection was closed before it was established."),e[$S]=jS.CLOSING;else if(e[tq]===eq.NOT_SENT){e[tq]=eq.PROCESSING;let i=new yxt;t!==void 0&&r===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(t,0)):t!==void 0&&r!==void 0?(i.frameData=Buffer.allocUnsafe(2+n),i.frameData.writeUInt16BE(t,0),i.frameData.write(r,2,"utf-8")):i.frameData=oxt,e[Yke].socket.write(i.createFrame(sxt.CLOSE)),e[tq]=eq.SENT,e[$S]=jS.CLOSING}else e[$S]=jS.CLOSING}o(xxt,"closeWebSocketConnection");function Kke(e){this.ws[zke].write(e)||this.pause()}o(Kke,"onSocketData");function Jke(){let{ws:e}=this,{[Yke]:t}=e;t.socket.off("data",Kke),t.socket.off("close",Jke),t.socket.off("error",Xke);let r=e[tq]===eq.SENT&&e[$ke],n=1005,i="",s=e[zke].closingInfo;s&&!s.error?(n=s.code??1005,i=s.reason):e[$ke]||(n=1006),e[$S]=jS.CLOSED,axt("close",e,(a,l)=>new dxt(a,l),{wasClean:r,code:n,reason:i}),F8.close.hasSubscribers&&F8.close.publish({websocket:e,code:n,reason:i})}o(Jke,"onSocketClose");function Xke(e){let{ws:t}=this;t[$S]=jS.CLOSING,F8.socketError.hasSubscribers&&F8.socketError.publish(e),this.destroy()}o(Xke,"onSocketError");Zke.exports={establishWebSocketConnection:Cxt,closeWebSocketConnection:xxt}});var tBe=V((nVr,eBe)=>{"use strict";d();var{createInflateRaw:Ext,Z_DEFAULT_WINDOWBITS:bxt}=require("node:zlib"),{isValidClientWindowBits:vxt}=HS(),Ixt=Buffer.from([0,0,255,255]),rq=Symbol("kBuffer"),nq=Symbol("kLength"),Moe=class{static{o(this,"PerMessageDeflate")}#e;#t={};constructor(t){this.#t.serverNoContextTakeover=t.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=t.get("server_max_window_bits")}decompress(t,r,n){if(!this.#e){let i=bxt;if(this.#t.serverMaxWindowBits){if(!vxt(this.#t.serverMaxWindowBits)){n(new Error("Invalid server_max_window_bits"));return}i=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=Ext({windowBits:i}),this.#e[rq]=[],this.#e[nq]=0,this.#e.on("data",s=>{this.#e[rq].push(s),this.#e[nq]+=s.length}),this.#e.on("error",s=>{this.#e=null,n(s)})}this.#e.write(t),r&&this.#e.write(Ixt),this.#e.flush(()=>{let i=Buffer.concat(this.#e[rq],this.#e[nq]);this.#e[rq].length=0,this.#e[nq]=0,n(null,i)})}};eBe.exports={PerMessageDeflate:Moe}});var dBe=V((sVr,fBe)=>{"use strict";d();var{Writable:Txt}=require("node:stream"),wxt=require("node:assert"),{parserStates:Zc,opcodes:N8,states:Sxt,emptyBuffer:rBe,sentCloseFrameState:nBe}=ax(),{kReadyState:_xt,kSentClose:iBe,kResponse:oBe,kReceivedClose:sBe}=qS(),{channels:iq}=$I(),{isValidStatusCode:kxt,isValidOpcode:Bxt,failWebsocketConnection:wd,websocketMessageReceived:aBe,utf8Decode:Rxt,isControlFrame:lBe,isTextBinaryFrame:Ooe,isContinuationFrame:Dxt}=HS(),{WebsocketFrameSend:cBe}=ZU(),{closeWebSocketConnection:uBe}=Qoe(),{PerMessageDeflate:Pxt}=tBe(),Uoe=class extends Txt{static{o(this,"ByteParser")}#e=[];#t=0;#i=!1;#n=Zc.INFO;#r={};#o=[];#s;constructor(t,r){super(),this.ws=t,this.#s=r??new Map,this.#s.has("permessage-deflate")&&this.#s.set("permessage-deflate",new Pxt(r))}_write(t,r,n){this.#e.push(t),this.#t+=t.length,this.#i=!0,this.run(n)}run(t){for(;this.#i;)if(this.#n===Zc.INFO){if(this.#t<2)return t();let r=this.consume(2),n=(r[0]&128)!==0,i=r[0]&15,s=(r[1]&128)===128,a=!n&&i!==N8.CONTINUATION,l=r[1]&127,c=r[0]&64,u=r[0]&32,f=r[0]&16;if(!Bxt(i))return wd(this.ws,"Invalid opcode received"),t();if(s)return wd(this.ws,"Frame cannot be masked"),t();if(c!==0&&!this.#s.has("permessage-deflate")){wd(this.ws,"Expected RSV1 to be clear.");return}if(u!==0||f!==0){wd(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(a&&!Ooe(i)){wd(this.ws,"Invalid frame type was fragmented.");return}if(Ooe(i)&&this.#o.length>0){wd(this.ws,"Expected continuation frame");return}if(this.#r.fragmented&&a){wd(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((l>125||a)&&lBe(i)){wd(this.ws,"Control frame either too large or fragmented");return}if(Dxt(i)&&this.#o.length===0&&!this.#r.compressed){wd(this.ws,"Unexpected continuation frame");return}l<=125?(this.#r.payloadLength=l,this.#n=Zc.READ_DATA):l===126?this.#n=Zc.PAYLOADLENGTH_16:l===127&&(this.#n=Zc.PAYLOADLENGTH_64),Ooe(i)&&(this.#r.binaryType=i,this.#r.compressed=c!==0),this.#r.opcode=i,this.#r.masked=s,this.#r.fin=n,this.#r.fragmented=a}else if(this.#n===Zc.PAYLOADLENGTH_16){if(this.#t<2)return t();let r=this.consume(2);this.#r.payloadLength=r.readUInt16BE(0),this.#n=Zc.READ_DATA}else if(this.#n===Zc.PAYLOADLENGTH_64){if(this.#t<8)return t();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){wd(this.ws,"Received payload length > 2^31 bytes.");return}let i=r.readUInt32BE(4);this.#r.payloadLength=(n<<8)+i,this.#n=Zc.READ_DATA}else if(this.#n===Zc.READ_DATA){if(this.#t<this.#r.payloadLength)return t();let r=this.consume(this.#r.payloadLength);if(lBe(this.#r.opcode))this.#i=this.parseControlFrame(r),this.#n=Zc.INFO;else if(this.#r.compressed){this.#s.get("permessage-deflate").decompress(r,this.#r.fin,(n,i)=>{if(n){uBe(this.ws,1007,n.message,n.message.length);return}if(this.#o.push(i),!this.#r.fin){this.#n=Zc.INFO,this.#i=!0,this.run(t);return}aBe(this.ws,this.#r.binaryType,Buffer.concat(this.#o)),this.#i=!0,this.#n=Zc.INFO,this.#o.length=0,this.run(t)}),this.#i=!1;break}else{if(this.#o.push(r),!this.#r.fragmented&&this.#r.fin){let n=Buffer.concat(this.#o);aBe(this.ws,this.#r.binaryType,n),this.#o.length=0}this.#n=Zc.INFO}}}consume(t){if(t>this.#t)throw new Error("Called consume() before buffers satiated.");if(t===0)return rBe;if(this.#e[0].length===t)return this.#t-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(t),n=0;for(;n!==t;){let i=this.#e[0],{length:s}=i;if(s+n===t){r.set(this.#e.shift(),n);break}else if(s+n>t){r.set(i.subarray(0,t-n),n),this.#e[0]=i.subarray(t-n);break}else r.set(this.#e.shift(),n),n+=i.length}return this.#t-=t,r}parseCloseBody(t){wxt(t.length!==1);let r;if(t.length>=2&&(r=t.readUInt16BE(0)),r!==void 0&&!kxt(r))return{code:1002,reason:"Invalid status code",error:!0};let n=t.subarray(2);n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3));try{n=Rxt(n)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:r,reason:n,error:!1}}parseControlFrame(t){let{opcode:r,payloadLength:n}=this.#r;if(r===N8.CLOSE){if(n===1)return wd(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#r.closeInfo=this.parseCloseBody(t),this.#r.closeInfo.error){let{code:i,reason:s}=this.#r.closeInfo;return uBe(this.ws,i,s,s.length),wd(this.ws,s),!1}if(this.ws[iBe]!==nBe.SENT){let i=rBe;this.#r.closeInfo.code&&(i=Buffer.allocUnsafe(2),i.writeUInt16BE(this.#r.closeInfo.code,0));let s=new cBe(i);this.ws[oBe].socket.write(s.createFrame(N8.CLOSE),a=>{a||(this.ws[iBe]=nBe.SENT)})}return this.ws[_xt]=Sxt.CLOSING,this.ws[sBe]=!0,!1}else if(r===N8.PING){if(!this.ws[sBe]){let i=new cBe(t);this.ws[oBe].socket.write(i.createFrame(N8.PONG)),iq.ping.hasSubscribers&&iq.ping.publish({payload:t})}}else r===N8.PONG&&iq.pong.hasSubscribers&&iq.pong.publish({payload:t});return!0}get closingInfo(){return this.#r.closeInfo}};fBe.exports={ByteParser:Uoe}});var ABe=V((cVr,gBe)=>{"use strict";d();var{WebsocketFrameSend:Fxt}=ZU(),{opcodes:mBe,sendHints:L8}=ax(),Nxt=Xne(),hBe=Buffer[Symbol.species],qoe=class{static{o(this,"SendQueue")}#e=new Nxt;#t=!1;#i;constructor(t){this.#i=t}add(t,r,n){if(n!==L8.blob){let s=pBe(t,n);if(!this.#t)this.#i.write(s,r);else{let a={promise:null,callback:r,frame:s};this.#e.push(a)}return}let i={promise:t.arrayBuffer().then(s=>{i.promise=null,i.frame=pBe(s,n)}),callback:r,frame:null};this.#e.push(i),this.#t||this.#n()}async#n(){this.#t=!0;let t=this.#e;for(;!t.isEmpty();){let r=t.shift();r.promise!==null&&await r.promise,this.#i.write(r.frame,r.callback),r.callback=r.frame=null}this.#t=!1}};function pBe(e,t){return new Fxt(Lxt(e,t)).createFrame(t===L8.string?mBe.TEXT:mBe.BINARY)}o(pBe,"createFrame");function Lxt(e,t){switch(t){case L8.string:return Buffer.from(e);case L8.arrayBuffer:case L8.blob:return new hBe(e);case L8.typedArray:return new hBe(e.buffer,e.byteOffset,e.byteLength)}}o(Lxt,"toBuffer");gBe.exports={SendQueue:qoe}});var wBe=V((dVr,TBe)=>{"use strict";d();var{webidl:Bn}=zl(),{URLSerializer:Qxt}=zc(),{environmentSettingsObject:yBe}=Ju(),{staticPropertyDescriptors:Ty,states:zS,sentCloseFrameState:Mxt,sendHints:oq}=ax(),{kWebSocketURL:CBe,kReadyState:Woe,kController:Oxt,kBinaryType:sq,kResponse:xBe,kSentClose:Uxt,kByteParser:qxt}=qS(),{isConnecting:Wxt,isEstablished:Gxt,isClosing:Hxt,isValidSubprotocol:Vxt,fireEvent:EBe}=HS(),{establishWebSocketConnection:jxt,closeWebSocketConnection:bBe}=Qoe(),{ByteParser:$xt}=dBe(),{kEnumerableProperty:Sd,isBlobLike:vBe}=ui(),{getGlobalDispatcher:zxt}=xU(),{types:IBe}=require("node:util"),{ErrorEvent:Yxt,CloseEvent:Kxt}=D8(),{SendQueue:Jxt}=ABe(),of=class e extends EventTarget{static{o(this,"WebSocket")}#e={open:null,error:null,close:null,message:null};#t=0;#i="";#n="";#r;constructor(t,r=[]){super(),Bn.util.markAsUncloneable(this);let n="WebSocket constructor";Bn.argumentLengthCheck(arguments,1,n);let i=Bn.converters["DOMString or sequence<DOMString> or WebSocketInit"](r,n,"options");t=Bn.converters.USVString(t,n,"url"),r=i.protocols;let s=yBe.settingsObject.baseUrl,a;try{a=new URL(t,s)}catch(c){throw new DOMException(c,"SyntaxError")}if(a.protocol==="http:"?a.protocol="ws:":a.protocol==="https:"&&(a.protocol="wss:"),a.protocol!=="ws:"&&a.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${a.protocol}`,"SyntaxError");if(a.hash||a.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof r=="string"&&(r=[r]),r.length!==new Set(r.map(c=>c.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(r.length>0&&!r.every(c=>Vxt(c)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[CBe]=new URL(a.href);let l=yBe.settingsObject;this[Oxt]=jxt(a,r,l,this,(c,u)=>this.#o(c,u),i),this[Woe]=e.CONNECTING,this[Uxt]=Mxt.NOT_SENT,this[sq]="blob"}close(t=void 0,r=void 0){Bn.brandCheck(this,e);let n="WebSocket.close";if(t!==void 0&&(t=Bn.converters["unsigned short"](t,n,"code",{clamp:!0})),r!==void 0&&(r=Bn.converters.USVString(r,n,"reason")),t!==void 0&&t!==1e3&&(t<3e3||t>4999))throw new DOMException("invalid code","InvalidAccessError");let i=0;if(r!==void 0&&(i=Buffer.byteLength(r),i>123))throw new DOMException(`Reason must be less than 123 bytes; received ${i}`,"SyntaxError");bBe(this,t,r,i)}send(t){Bn.brandCheck(this,e);let r="WebSocket.send";if(Bn.argumentLengthCheck(arguments,1,r),t=Bn.converters.WebSocketSendData(t,r,"data"),Wxt(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!Gxt(this)||Hxt(this)))if(typeof t=="string"){let n=Buffer.byteLength(t);this.#t+=n,this.#r.add(t,()=>{this.#t-=n},oq.string)}else IBe.isArrayBuffer(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},oq.arrayBuffer)):ArrayBuffer.isView(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},oq.typedArray)):vBe(t)&&(this.#t+=t.size,this.#r.add(t,()=>{this.#t-=t.size},oq.blob))}get readyState(){return Bn.brandCheck(this,e),this[Woe]}get bufferedAmount(){return Bn.brandCheck(this,e),this.#t}get url(){return Bn.brandCheck(this,e),Qxt(this[CBe])}get extensions(){return Bn.brandCheck(this,e),this.#n}get protocol(){return Bn.brandCheck(this,e),this.#i}get onopen(){return Bn.brandCheck(this,e),this.#e.open}set onopen(t){Bn.brandCheck(this,e),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onerror(){return Bn.brandCheck(this,e),this.#e.error}set onerror(t){Bn.brandCheck(this,e),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}get onclose(){return Bn.brandCheck(this,e),this.#e.close}set onclose(t){Bn.brandCheck(this,e),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof t=="function"?(this.#e.close=t,this.addEventListener("close",t)):this.#e.close=null}get onmessage(){return Bn.brandCheck(this,e),this.#e.message}set onmessage(t){Bn.brandCheck(this,e),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get binaryType(){return Bn.brandCheck(this,e),this[sq]}set binaryType(t){Bn.brandCheck(this,e),t!=="blob"&&t!=="arraybuffer"?this[sq]="blob":this[sq]=t}#o(t,r){this[xBe]=t;let n=new $xt(this,r);n.on("drain",Xxt),n.on("error",Zxt.bind(this)),t.socket.ws=this,this[qxt]=n,this.#r=new Jxt(t.socket),this[Woe]=zS.OPEN;let i=t.headersList.get("sec-websocket-extensions");i!==null&&(this.#n=i);let s=t.headersList.get("sec-websocket-protocol");s!==null&&(this.#i=s),EBe("open",this)}};of.CONNECTING=of.prototype.CONNECTING=zS.CONNECTING;of.OPEN=of.prototype.OPEN=zS.OPEN;of.CLOSING=of.prototype.CLOSING=zS.CLOSING;of.CLOSED=of.prototype.CLOSED=zS.CLOSED;Object.defineProperties(of.prototype,{CONNECTING:Ty,OPEN:Ty,CLOSING:Ty,CLOSED:Ty,url:Sd,readyState:Sd,bufferedAmount:Sd,onopen:Sd,onerror:Sd,onclose:Sd,close:Sd,onmessage:Sd,binaryType:Sd,send:Sd,extensions:Sd,protocol:Sd,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(of,{CONNECTING:Ty,OPEN:Ty,CLOSING:Ty,CLOSED:Ty});Bn.converters["sequence<DOMString>"]=Bn.sequenceConverter(Bn.converters.DOMString);Bn.converters["DOMString or sequence<DOMString>"]=function(e,t,r){return Bn.util.Type(e)==="Object"&&Symbol.iterator in e?Bn.converters["sequence<DOMString>"](e):Bn.converters.DOMString(e,t,r)};Bn.converters.WebSocketInit=Bn.dictionaryConverter([{key:"protocols",converter:Bn.converters["DOMString or sequence<DOMString>"],defaultValue:o(()=>new Array(0),"defaultValue")},{key:"dispatcher",converter:Bn.converters.any,defaultValue:o(()=>zxt(),"defaultValue")},{key:"headers",converter:Bn.nullableConverter(Bn.converters.HeadersInit)}]);Bn.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(e){return Bn.util.Type(e)==="Object"&&!(Symbol.iterator in e)?Bn.converters.WebSocketInit(e):{protocols:Bn.converters["DOMString or sequence<DOMString>"](e)}};Bn.converters.WebSocketSendData=function(e){if(Bn.util.Type(e)==="Object"){if(vBe(e))return Bn.converters.Blob(e,{strict:!1});if(ArrayBuffer.isView(e)||IBe.isArrayBuffer(e))return Bn.converters.BufferSource(e)}return Bn.converters.USVString(e)};function Xxt(){this.ws[xBe].socket.resume()}o(Xxt,"onParserDrain");function Zxt(e){let t,r;e instanceof Kxt?(t=e.reason,r=e.code):t=e.message,EBe("error",this,()=>new Yxt("error",{error:e,message:t})),bBe(this,r)}o(Zxt,"onParserError");TBe.exports={WebSocket:of}});var Goe=V((pVr,SBe)=>{"use strict";d();function eEt(e){return e.indexOf("\0")===-1}o(eEt,"isValidLastEventId");function tEt(e){if(e.length===0)return!1;for(let t=0;t<e.length;t++)if(e.charCodeAt(t)<48||e.charCodeAt(t)>57)return!1;return!0}o(tEt,"isASCIINumber");function rEt(e){return new Promise(t=>{setTimeout(t,e).unref()})}o(rEt,"delay");SBe.exports={isValidLastEventId:eEt,isASCIINumber:tEt,delay:rEt}});var RBe=V((yVr,BBe)=>{"use strict";d();var{Transform:nEt}=require("node:stream"),{isASCIINumber:_Be,isValidLastEventId:kBe}=Goe(),iA=[239,187,191],Hoe=10,aq=13,iEt=58,oEt=32,Voe=class extends nEt{static{o(this,"EventSourceStream")}state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(t={}){t.readableObjectMode=!0,super(t),this.state=t.eventSourceSettings||{},t.push&&(this.push=t.push)}_transform(t,r,n){if(t.length===0){n();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,t]):this.buffer=t,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===iA[0]){n();return}this.checkBOM=!1,n();return;case 2:if(this.buffer[0]===iA[0]&&this.buffer[1]===iA[1]){n();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===iA[0]&&this.buffer[1]===iA[1]&&this.buffer[2]===iA[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,n();return}this.checkBOM=!1;break;default:this.buffer[0]===iA[0]&&this.buffer[1]===iA[1]&&this.buffer[2]===iA[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===Hoe){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===Hoe||this.buffer[this.pos]===aq){this.buffer[this.pos]===aq&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===Hoe||this.buffer[this.pos]===aq){this.buffer[this.pos]===aq&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}n()}parseLine(t,r){if(t.length===0)return;let n=t.indexOf(iEt);if(n===0)return;let i="",s="";if(n!==-1){i=t.subarray(0,n).toString("utf8");let a=n+1;t[a]===oEt&&++a,s=t.subarray(a).toString("utf8")}else i=t.toString("utf8"),s="";switch(i){case"data":r[i]===void 0?r[i]=s:r[i]+=`
${s}`;break;case"retry":_Be(s)&&(r[i]=s);break;case"id":kBe(s)&&(r[i]=s);break;case"event":s.length>0&&(r[i]=s);break}}processEvent(t){t.retry&&_Be(t.retry)&&(this.state.reconnectionTime=parseInt(t.retry,10)),t.id&&kBe(t.id)&&(this.state.lastEventId=t.id),t.data!==void 0&&this.push({type:t.event||"message",options:{data:t.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};BBe.exports={EventSourceStream:Voe}});var OBe=V((EVr,MBe)=>{"use strict";d();var{pipeline:sEt}=require("node:stream"),{fetching:aEt}=QS(),{makeRequest:lEt}=w8(),{webidl:oA}=zl(),{EventSourceStream:cEt}=RBe(),{parseMIMEType:uEt}=zc(),{createFastMessageEvent:fEt}=D8(),{isNetworkError:DBe}=NS(),{delay:dEt}=Goe(),{kEnumerableProperty:lx}=ui(),{environmentSettingsObject:PBe}=Ju(),FBe=!1,NBe=3e3,YS=0,LBe=1,KS=2,mEt="anonymous",hEt="use-credentials",Q8=class e extends EventTarget{static{o(this,"EventSource")}#e={open:null,error:null,message:null};#t=null;#i=!1;#n=YS;#r=null;#o=null;#s;#a;constructor(t,r={}){super(),oA.util.markAsUncloneable(this);let n="EventSource constructor";oA.argumentLengthCheck(arguments,1,n),FBe||(FBe=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),t=oA.converters.USVString(t,n,"url"),r=oA.converters.EventSourceInitDict(r,n,"eventSourceInitDict"),this.#s=r.dispatcher,this.#a={lastEventId:"",reconnectionTime:NBe};let i=PBe,s;try{s=new URL(t,i.settingsObject.baseUrl),this.#a.origin=s.origin}catch(c){throw new DOMException(c,"SyntaxError")}this.#t=s.href;let a=mEt;r.withCredentials&&(a=hEt,this.#i=!0);let l={redirect:"follow",keepalive:!0,mode:"cors",credentials:a==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};l.client=PBe.settingsObject,l.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],l.cache="no-store",l.initiator="other",l.urlList=[new URL(this.#t)],this.#r=lEt(l),this.#l()}get readyState(){return this.#n}get url(){return this.#t}get withCredentials(){return this.#i}#l(){if(this.#n===KS)return;this.#n=YS;let t={request:this.#r,dispatcher:this.#s},r=o(n=>{DBe(n)&&(this.dispatchEvent(new Event("error")),this.close()),this.#c()},"processEventSourceEndOfBody");t.processResponseEndOfBody=r,t.processResponse=n=>{if(DBe(n))if(n.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#c();return}let i=n.headersList.get("content-type",!0),s=i!==null?uEt(i):"failure",a=s!=="failure"&&s.essence==="text/event-stream";if(n.status!==200||a===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#n=LBe,this.dispatchEvent(new Event("open")),this.#a.origin=n.urlList[n.urlList.length-1].origin;let l=new cEt({eventSourceSettings:this.#a,push:o(c=>{this.dispatchEvent(fEt(c.type,c.options))},"push")});sEt(n.body.stream,l,c=>{c?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#o=aEt(t)}async#c(){this.#n!==KS&&(this.#n=YS,this.dispatchEvent(new Event("error")),await dEt(this.#a.reconnectionTime),this.#n===YS&&(this.#a.lastEventId.length&&this.#r.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#l()))}close(){oA.brandCheck(this,e),this.#n!==KS&&(this.#n=KS,this.#o.abort(),this.#r=null)}get onopen(){return this.#e.open}set onopen(t){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(t){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(t){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}},QBe={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:YS,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:LBe,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:KS,writable:!1}};Object.defineProperties(Q8,QBe);Object.defineProperties(Q8.prototype,QBe);Object.defineProperties(Q8.prototype,{close:lx,onerror:lx,onmessage:lx,onopen:lx,readyState:lx,url:lx,withCredentials:lx});oA.converters.EventSourceInitDict=oA.dictionaryConverter([{key:"withCredentials",converter:oA.converters.boolean,defaultValue:o(()=>!1,"defaultValue")},{key:"dispatcher",converter:oA.converters.any}]);MBe.exports={EventSource:Q8,defaultReconnectionTime:NBe}});var GBe=V((IVr,bn)=>{"use strict";d();var pEt=CS(),UBe=Jw(),gEt=m8(),AEt=$Te(),yEt=h8(),CEt=gie(),xEt=uwe(),EEt=gwe(),qBe=ao(),cq=ui(),{InvalidArgumentError:lq}=qBe,M8=rSe(),bEt=Zw(),vEt=Jie(),IEt=QSe(),TEt=eoe(),wEt=Mie(),SEt=uU(),{getGlobalDispatcher:WBe,setGlobalDispatcher:_Et}=xU(),kEt=EU(),BEt=ZO(),REt=eU();Object.assign(UBe.prototype,M8);bn.exports.Dispatcher=UBe;bn.exports.Client=pEt;bn.exports.Pool=gEt;bn.exports.BalancedPool=AEt;bn.exports.Agent=yEt;bn.exports.ProxyAgent=CEt;bn.exports.EnvHttpProxyAgent=xEt;bn.exports.RetryAgent=EEt;bn.exports.RetryHandler=SEt;bn.exports.DecoratorHandler=kEt;bn.exports.RedirectHandler=BEt;bn.exports.createRedirectInterceptor=REt;bn.exports.interceptors={redirect:HSe(),retry:jSe(),dump:zSe(),dns:JSe()};bn.exports.buildConnector=bEt;bn.exports.errors=qBe;bn.exports.util={parseHeaders:cq.parseHeaders,headerNameToString:cq.headerNameToString};function JS(e){return(t,r,n)=>{if(typeof r=="function"&&(n=r,r=null),!t||typeof t!="string"&&typeof t!="object"&&!(t instanceof URL))throw new lq("invalid url");if(r!=null&&typeof r!="object")throw new lq("invalid opts");if(r&&r.path!=null){if(typeof r.path!="string")throw new lq("invalid opts.path");let a=r.path;r.path.startsWith("/")||(a=`/${a}`),t=new URL(cq.parseOrigin(t).origin+a)}else r||(r=typeof t=="object"?t:{}),t=cq.parseURL(t);let{agent:i,dispatcher:s=WBe()}=r;if(i)throw new lq("unsupported opts.agent. Did you mean opts.client?");return e.call(s,{...r,origin:t.origin,path:t.search?`${t.pathname}${t.search}`:t.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}o(JS,"makeDispatcher");bn.exports.setGlobalDispatcher=_Et;bn.exports.getGlobalDispatcher=WBe;var DEt=QS().fetch;bn.exports.fetch=o(async function(t,r=void 0){try{return await DEt(t,r)}catch(n){throw n&&typeof n=="object"&&Error.captureStackTrace(n),n}},"fetch");bn.exports.Headers=tx().Headers;bn.exports.Response=NS().Response;bn.exports.Request=w8().Request;bn.exports.FormData=sS().FormData;bn.exports.File=globalThis.File??require("node:buffer").File;bn.exports.FileReader=fke().FileReader;var{setGlobalOrigin:PEt,getGlobalOrigin:FEt}=Ane();bn.exports.setGlobalOrigin=PEt;bn.exports.getGlobalOrigin=FEt;var{CacheStorage:NEt}=xke(),{kConstruct:LEt}=WU();bn.exports.caches=new NEt(LEt);var{deleteCookie:QEt,getCookies:MEt,getSetCookies:OEt,setCookie:UEt}=Dke();bn.exports.deleteCookie=QEt;bn.exports.getCookies=MEt;bn.exports.getSetCookies=OEt;bn.exports.setCookie=UEt;var{parseMIMEType:qEt,serializeAMimeType:WEt}=zc();bn.exports.parseMIMEType=qEt;bn.exports.serializeAMimeType=WEt;var{CloseEvent:GEt,ErrorEvent:HEt,MessageEvent:VEt}=D8();bn.exports.WebSocket=wBe().WebSocket;bn.exports.CloseEvent=GEt;bn.exports.ErrorEvent=HEt;bn.exports.MessageEvent=VEt;bn.exports.request=JS(M8.request);bn.exports.stream=JS(M8.stream);bn.exports.pipeline=JS(M8.pipeline);bn.exports.connect=JS(M8.connect);bn.exports.upgrade=JS(M8.upgrade);bn.exports.MockClient=vEt;bn.exports.MockPool=TEt;bn.exports.MockAgent=IEt;bn.exports.mockErrors=wEt;var{EventSource:jEt}=OBe();bn.exports.EventSource=jEt});var ei=V((SVr,HBe)=>{d();HBe.exports={options:{usePureJavaScript:!1}}});var $Be=V((kVr,jBe)=>{d();var joe={};jBe.exports=joe;var VBe={};joe.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=$Et(e,t);else{var i=0,s=t.length,a=t.charAt(0),l=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<l.length;++c)u+=l[c]<<8,l[c]=u%s,u=u/s|0;for(;u>0;)l.push(u%s),u=u/s|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=a;for(i=l.length-1;i>=0;--i)n+=t[l[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};joe.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=VBe[t];if(!r){r=VBe[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,s=t.charAt(0),a=[0],n=0;n<e.length;n++){var l=r[e.charCodeAt(n)];if(l===void 0)return;for(var c=0,u=l;c<a.length;++c)u+=a[c]*i,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var f=0;e[f]===s&&f<e.length-1;++f)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function $Et(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var a=0,l=e.at(r);a<s.length;++a)l+=s[a]<<8,s[a]=l%n,l=l/n|0;for(;l>0;)s.push(l%n),l=l/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=s.length-1;r>=0;--r)c+=t[s[r]];return c}o($Et,"_encodeWithByteBuffer")});var Ji=V((DVr,JBe)=>{d();var zBe=ei(),YBe=$Be(),Fe=JBe.exports=zBe.util=zBe.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){Fe.nextTick=process.nextTick,typeof setImmediate=="function"?Fe.setImmediate=setImmediate:Fe.setImmediate=Fe.nextTick;return}if(typeof setImmediate=="function"){Fe.setImmediate=function(){return setImmediate.apply(void 0,arguments)},Fe.nextTick=function(l){return setImmediate(l)};return}if(Fe.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(f){f()})}};var a=l;o(l,"handler");var e="forge.setImmediate",t=[];Fe.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(i,{attributes:!0});var s=Fe.setImmediate;Fe.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),s(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}Fe.nextTick=Fe.setImmediate})();Fe.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;Fe.globalScope=function(){return Fe.isNodejs?global:typeof self>"u"?window:self}();Fe.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};Fe.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};Fe.isArrayBufferView=function(e){return e&&Fe.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function XS(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}o(XS,"_checkBitsParam");Fe.ByteBuffer=$oe;function $oe(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(Fe.isArrayBuffer(e)||Fe.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof $oe||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}o($oe,"ByteStringBuffer");Fe.ByteStringBuffer=$oe;var zEt=4096;Fe.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>zEt&&(this.data.substr(0,1),this._constructedStringLength=0)};Fe.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};Fe.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};Fe.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};Fe.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};Fe.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};Fe.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(Fe.encodeUtf8(e))};Fe.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Fe.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Fe.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Fe.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};Fe.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};Fe.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};Fe.ByteStringBuffer.prototype.putInt=function(e,t){XS(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};Fe.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};Fe.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};Fe.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};Fe.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};Fe.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};Fe.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};Fe.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};Fe.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};Fe.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};Fe.ByteStringBuffer.prototype.getInt=function(e){XS(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};Fe.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Fe.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Fe.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Fe.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};Fe.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};Fe.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};Fe.ByteStringBuffer.prototype.copy=function(){var e=Fe.createBuffer(this.data);return e.read=this.read,e};Fe.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};Fe.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};Fe.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};Fe.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Fe.ByteStringBuffer.prototype.toString=function(){return Fe.decodeUtf8(this.bytes())};function YEt(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=Fe.isArrayBuffer(e),n=Fe.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o(YEt,"DataBuffer");Fe.DataBuffer=YEt;Fe.DataBuffer.prototype.length=function(){return this.write-this.read};Fe.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};Fe.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};Fe.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};Fe.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};Fe.DataBuffer.prototype.putBytes=function(e,t){if(Fe.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(Fe.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof Fe.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&Fe.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof Fe.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var s;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=Fe.binary.hex.decode(e,s,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=Fe.binary.base64.decode(e,s,this.write),this;if(t==="utf8"&&(e=Fe.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=Fe.binary.raw.decode(s),this;if(t==="utf16")return this.accommodate(e.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=Fe.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};Fe.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};Fe.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};Fe.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};Fe.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};Fe.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};Fe.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};Fe.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};Fe.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};Fe.DataBuffer.prototype.putInt=function(e,t){XS(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};Fe.DataBuffer.prototype.putSignedInt=function(e,t){return XS(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};Fe.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};Fe.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};Fe.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};Fe.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};Fe.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};Fe.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};Fe.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};Fe.DataBuffer.prototype.getInt=function(e){XS(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};Fe.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Fe.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Fe.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Fe.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};Fe.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};Fe.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};Fe.DataBuffer.prototype.copy=function(){return new Fe.DataBuffer(this)};Fe.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};Fe.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};Fe.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};Fe.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Fe.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return Fe.binary.raw.encode(t);if(e==="hex")return Fe.binary.hex.encode(t);if(e==="base64")return Fe.binary.base64.encode(t);if(e==="utf8")return Fe.text.utf8.decode(t);if(e==="utf16")return Fe.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};Fe.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=Fe.encodeUtf8(e)),new Fe.ByteBuffer(e)};Fe.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};Fe.xorBytes=function(e,t,r){for(var n="",i="",s="",a=0,l=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),l>=10&&(n+=s,s="",l=0),s+=String.fromCharCode(i),++l;return n+=s,n};Fe.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};Fe.bytesToHex=function(e){return Fe.createBuffer(e).toHex()};Fe.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var wy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Sy=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],KBe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Fe.encode64=function(e,t){for(var r="",n="",i,s,a,l=0;l<e.length;)i=e.charCodeAt(l++),s=e.charCodeAt(l++),a=e.charCodeAt(l++),r+=wy.charAt(i>>2),r+=wy.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=wy.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":wy.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Fe.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,s,a=0;a<e.length;)r=Sy[e.charCodeAt(a++)-43],n=Sy[e.charCodeAt(a++)-43],i=Sy[e.charCodeAt(a++)-43],s=Sy[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(t+=String.fromCharCode((i&3)<<6|s)));return t};Fe.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};Fe.decodeUtf8=function(e){return decodeURIComponent(escape(e))};Fe.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:YBe.encode,decode:YBe.decode}};Fe.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};Fe.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};Fe.binary.hex.encode=Fe.bytesToHex;Fe.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,s=r;for(e.length&1&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n};Fe.binary.base64.encode=function(e,t){for(var r="",n="",i,s,a,l=0;l<e.byteLength;)i=e[l++],s=e[l++],a=e[l++],r+=wy.charAt(i>>2),r+=wy.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=wy.charAt((s&15)<<2|a>>6),r+=isNaN(a)?"=":wy.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Fe.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,a,l,c=0,u=r;c<e.length;)i=Sy[e.charCodeAt(c++)-43],s=Sy[e.charCodeAt(c++)-43],a=Sy[e.charCodeAt(c++)-43],l=Sy[e.charCodeAt(c++)-43],n[u++]=i<<2|s>>4,a!==64&&(n[u++]=(s&15)<<4|a>>2,l!==64&&(n[u++]=(a&3)<<6|l));return t?u-r:n.subarray(0,u)};Fe.binary.base58.encode=function(e,t){return Fe.binary.baseN.encode(e,KBe,t)};Fe.binary.base58.decode=function(e,t){return Fe.binary.baseN.decode(e,KBe,t)};Fe.text={utf8:{},utf16:{}};Fe.text.utf8.encode=function(e,t,r){e=Fe.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};Fe.text.utf8.decode=function(e){return Fe.decodeUtf8(String.fromCharCode.apply(null,e))};Fe.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,a=r,l=0;l<e.length;++l)i[a++]=e.charCodeAt(l),s+=2;return t?s-r:n};Fe.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};Fe.deflate=function(e,t,r){if(t=Fe.decode64(e.deflate(Fe.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};Fe.inflate=function(e,t,r){var n=e.inflate(Fe.encode64(t)).rval;return n===null?null:Fe.decode64(n)};var zoe=o(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=Fe.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),Yoe=o(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(Fe.decode64(r))),r},"_getStorageObject"),KEt=o(function(e,t,r,n){var i=Yoe(e,t);i===null&&(i={}),i[r]=n,zoe(e,t,i)},"_setItem"),JEt=o(function(e,t,r){var n=Yoe(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),XEt=o(function(e,t,r){var n=Yoe(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),zoe(e,t,n)}},"_removeItem"),ZEt=o(function(e,t){zoe(e,t,null)},"_clearItems"),uq=o(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,a=null;for(var l in r){i=r[l];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),s=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),s=!0)}catch(c){a=c}if(s)break}if(!s)throw a;return n},"_callStorageFunction");Fe.setItem=function(e,t,r,n,i){uq(KEt,arguments,i)};Fe.getItem=function(e,t,r,n){return uq(JEt,arguments,n)};Fe.removeItem=function(e,t,r,n){uq(XEt,arguments,n)};Fe.clearItems=function(e,t,r){uq(ZEt,arguments,r)};Fe.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};Fe.format=function(e){for(var t=/%./g,r,n,i=0,s=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&s.push(n),a=t.lastIndex;var l=r[0][1];switch(l){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+l+"?>")}}return s.push(e.substring(a)),s.join("")};Fe.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,l=n===void 0?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",f=u.length>3?u.length%3:0;return c+(f?u.substr(0,f)+l:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+l)+(s?a+Math.abs(i-u).toFixed(s).slice(2):"")};Fe.formatSize=function(e){return e>=1073741824?e=Fe.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=Fe.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=Fe.formatNumber(e/1024,0)+" KiB":e=Fe.formatNumber(e,0)+" bytes",e};Fe.bytesFromIP=function(e){return e.indexOf(".")!==-1?Fe.bytesFromIPv4(e):e.indexOf(":")!==-1?Fe.bytesFromIPv6(e):null};Fe.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=Fe.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};Fe.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=Fe.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=Fe.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};Fe.bytesToIP=function(e){return e.length===4?Fe.bytesToIPv4(e):e.length===16?Fe.bytesToIPv6(e):null};Fe.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};Fe.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=Fe.bytesToHex(e[i]+e[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var a=r[r.length-1],l=t.length;!a||l!==a.end+1?r.push({start:l,end:l}):(a.end=l,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};Fe.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in Fe&&!e.update)return t(null,Fe.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return Fe.cores=navigator.hardwareConcurrency,t(null,Fe.cores);if(typeof Worker>"u")return Fe.cores=1,t(null,Fe.cores);if(typeof Blob>"u")return Fe.cores=2,t(null,Fe.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var l=Date.now(),c=l+4;Date.now()<c;);self.postMessage({st:l,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,l,c){if(l===0){var u=Math.floor(a.reduce(function(f,m){return f+m},0)/a.length);return Fe.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,Fe.cores)}i(c,function(f,m){a.push(s(c,m)),n(a,l-1,c)})}o(n,"sample");function i(a,l){for(var c=[],u=[],f=0;f<a;++f){var m=new Worker(r);m.addEventListener("message",function(h){if(u.push(h.data),u.length===a){for(var p=0;p<a;++p)c[p].terminate();l(null,u)}}),c.push(m)}for(var f=0;f<a;++f)c[f].postMessage(f)}o(i,"map");function s(a,l){for(var c=[],u=0;u<a;++u)for(var f=l[u],m=c[u]=[],h=0;h<a;++h)if(u!==h){var p=l[h];(f.st>p.st&&f.st<p.et||p.st>f.st&&p.st<f.et)&&m.push(h)}return c.reduce(function(A,x){return Math.max(A,x.length)},0)}o(s,"reduce")}});var fq=V((NVr,XBe)=>{d();var bl=ei();Ji();XBe.exports=bl.cipher=bl.cipher||{};bl.cipher.algorithms=bl.cipher.algorithms||{};bl.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=bl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new bl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};bl.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=bl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new bl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};bl.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),bl.cipher.algorithms[e]=t};bl.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in bl.cipher.algorithms?bl.cipher.algorithms[e]:null};var Koe=bl.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};Koe.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=bl.util.createBuffer(),this.output=e.output||bl.util.createBuffer(),this.mode.start(t)};Koe.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Koe.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var Xoe=V((QVr,ZBe)=>{d();var vl=ei();Ji();vl.cipher=vl.cipher||{};var Ai=ZBe.exports=vl.cipher.modes=vl.cipher.modes||{};Ai.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ai.ecb.prototype.start=function(e){};Ai.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ai.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ai.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ai.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ai.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ai.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=dq(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Ai.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};Ai.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Ai.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ai.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ai.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=vl.util.createBuffer(),this._partialBytes=0};Ai.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=dq(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ai.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ai.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ai.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=vl.util.createBuffer(),this._partialBytes=0};Ai.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=dq(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ai.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ai.ofb.prototype.decrypt=Ai.ofb.prototype.encrypt;Ai.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=vl.util.createBuffer(),this._partialBytes=0};Ai.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=dq(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ai.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}mq(this._inBlock)};Ai.ctr.prototype.decrypt=Ai.ctr.prototype.encrypt;Ai.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=vl.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Ai.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=vl.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=vl.util.createBuffer(e.additionalData):r=vl.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=vl.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Joe(n*8)))}this._inBlock=this._j0.slice(0),mq(this._inBlock),this._partialBytes=0,r=vl.util.createBuffer(r),this._aDataLength=Joe(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Ai.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),mq(this._inBlock)};Ai.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),mq(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Ai.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=vl.util.createBuffer();var n=this._aDataLength.concat(Joe(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Ai.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var s=e[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Ai.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};Ai.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,s=this._m[r][i];t[0]^=s[0],t[1]^=s[1],t[2]^=s[2],t[3]^=s[3]}return t};Ai.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};Ai.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),a=0;a<i;++a){var l=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;l[c]=1<<t-1<<u,s[a]=this.generateSubHashTable(this.multiply(l,e),t)}return s};Ai.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var a=1;a<s;++a){var l=i[s],c=i[a];i[s+a]=[l[0]^c[0],l[1]^c[1],l[2]^c[2],l[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var u=i[s^n];i[s]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function dq(e,t){if(typeof e=="string"&&(e=vl.util.createBuffer(e)),vl.util.isArray(e)&&e.length>4){var r=e;e=vl.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!vl.util.isArray(e)){for(var i=[],s=t/4,n=0;n<s;++n)i.push(e.getInt32());e=i}return e}o(dq,"transformIV");function mq(e){e[e.length-1]=e[e.length-1]+1&4294967295}o(mq,"inc32");function Joe(e){return[e/4294967296|0,e&4294967295]}o(Joe,"from64To32")});var _y=V((UVr,nRe)=>{d();var Uo=ei();fq();Xoe();Ji();nRe.exports=Uo.aes=Uo.aes||{};Uo.aes.startEncrypting=function(e,t,r,n){var i=hq({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};Uo.aes.createEncryptionCipher=function(e,t){return hq({key:e,output:null,decrypt:!1,mode:t})};Uo.aes.startDecrypting=function(e,t,r,n){var i=hq({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};Uo.aes.createDecryptionCipher=function(e,t){return hq({key:e,output:null,decrypt:!0,mode:t})};Uo.aes.Algorithm=function(e,t){tse||tRe();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:o(function(n,i){return ese(r._w,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return ese(r._w,n,i,!0)},"decrypt")}}),r._init=!1};Uo.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=Uo.util.createBuffer(t);else if(Uo.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=Uo.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!Uo.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!Uo.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=rRe(t,e.decrypt&&!a),this._init=!0}};Uo.aes._expandKey=function(e,t){return tse||tRe(),rRe(e,t)};Uo.aes._updateBlock=ese;U8("AES-ECB",Uo.cipher.modes.ecb);U8("AES-CBC",Uo.cipher.modes.cbc);U8("AES-CFB",Uo.cipher.modes.cfb);U8("AES-OFB",Uo.cipher.modes.ofb);U8("AES-CTR",Uo.cipher.modes.ctr);U8("AES-GCM",Uo.cipher.modes.gcm);function U8(e,t){var r=o(function(){return new Uo.aes.Algorithm(e,t)},"factory");Uo.cipher.registerAlgorithm(e,r)}o(U8,"registerAlgorithm");var tse=!1,O8=4,Z0,Zoe,eRe,cx,nh;function tRe(){tse=!0,eRe=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Z0=new Array(256),Zoe=new Array(256),cx=new Array(4),nh=new Array(4);for(var t=0;t<4;++t)cx[t]=new Array(256),nh[t]=new Array(256);for(var r=0,n=0,i,s,a,l,c,u,f,t=0;t<256;++t){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,Z0[r]=l,Zoe[l]=r,c=e[l],i=e[r],s=e[i],a=e[s],u=c<<24^l<<16^l<<8^(l^c),f=(i^s^a)<<24^(r^a)<<16^(r^s^a)<<8^(r^i^a);for(var m=0;m<4;++m)cx[m][r]=u,nh[m][l]=f,u=u<<24|u>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^e[e[e[i^a]]],n^=e[e[n]])}}o(tRe,"initialize");function rRe(e,t){for(var r=e.slice(0),n,i=1,s=r.length,a=s+6+1,l=O8*a,c=s;c<l;++c)n=r[c-1],c%s===0?(n=Z0[n>>>16&255]<<24^Z0[n>>>8&255]<<16^Z0[n&255]<<8^Z0[n>>>24]^eRe[i]<<24,i++):s>6&&c%s===4&&(n=Z0[n>>>24]<<24^Z0[n>>>16&255]<<16^Z0[n>>>8&255]<<8^Z0[n&255]),r[c]=r[c-s]^n;if(t){var u,f=nh[0],m=nh[1],h=nh[2],p=nh[3],A=r.slice(0);l=r.length;for(var c=0,x=l-O8;c<l;c+=O8,x-=O8)if(c===0||c===l-O8)A[c]=r[x],A[c+1]=r[x+3],A[c+2]=r[x+2],A[c+3]=r[x+1];else for(var E=0;E<O8;++E)u=r[x+E],A[c+(3&-E)]=f[Z0[u>>>24]]^m[Z0[u>>>16&255]]^h[Z0[u>>>8&255]]^p[Z0[u&255]];r=A}return r}o(rRe,"_expandKey");function ese(e,t,r,n){var i=e.length/4-1,s,a,l,c,u;n?(s=nh[0],a=nh[1],l=nh[2],c=nh[3],u=Zoe):(s=cx[0],a=cx[1],l=cx[2],c=cx[3],u=Z0);var f,m,h,p,A,x,E;f=t[0]^e[0],m=t[n?3:1]^e[1],h=t[2]^e[2],p=t[n?1:3]^e[3];for(var v=3,b=1;b<i;++b)A=s[f>>>24]^a[m>>>16&255]^l[h>>>8&255]^c[p&255]^e[++v],x=s[m>>>24]^a[h>>>16&255]^l[p>>>8&255]^c[f&255]^e[++v],E=s[h>>>24]^a[p>>>16&255]^l[f>>>8&255]^c[m&255]^e[++v],p=s[p>>>24]^a[f>>>16&255]^l[m>>>8&255]^c[h&255]^e[++v],f=A,m=x,h=E;r[0]=u[f>>>24]<<24^u[m>>>16&255]<<16^u[h>>>8&255]<<8^u[p&255]^e[++v],r[n?3:1]=u[m>>>24]<<24^u[h>>>16&255]<<16^u[p>>>8&255]<<8^u[f&255]^e[++v],r[2]=u[h>>>24]<<24^u[p>>>16&255]<<16^u[f>>>8&255]<<8^u[m&255]^e[++v],r[n?1:3]=u[p>>>24]<<24^u[f>>>16&255]<<16^u[m>>>8&255]<<8^u[h&255]^e[++v]}o(ese,"_updateBlock");function hq(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=Uo.cipher.createDecipher(r,e.key):n=Uo.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var l=null;a instanceof Uo.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=s,i.call(n,a)},n}o(hq,"_createCipher")});var ky=V((GVr,iRe)=>{d();var ZS=ei();ZS.pki=ZS.pki||{};var rse=iRe.exports=ZS.pki.oids=ZS.oids=ZS.oids||{};function Qt(e,t){rse[e]=t,rse[t]=e}o(Qt,"_IN");function mo(e,t){rse[e]=t}o(mo,"_I_");Qt("1.2.840.113549.1.1.1","rsaEncryption");Qt("1.2.840.113549.1.1.4","md5WithRSAEncryption");Qt("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Qt("1.2.840.113549.1.1.7","RSAES-OAEP");Qt("1.2.840.113549.1.1.8","mgf1");Qt("1.2.840.113549.1.1.9","pSpecified");Qt("1.2.840.113549.1.1.10","RSASSA-PSS");Qt("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Qt("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Qt("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Qt("1.3.101.112","EdDSA25519");Qt("1.2.840.10040.4.3","dsa-with-sha1");Qt("1.3.14.3.2.7","desCBC");Qt("1.3.14.3.2.26","sha1");Qt("1.3.14.3.2.29","sha1WithRSASignature");Qt("2.16.840.1.101.3.4.2.1","sha256");Qt("2.16.840.1.101.3.4.2.2","sha384");Qt("2.16.840.1.101.3.4.2.3","sha512");Qt("2.16.840.1.101.3.4.2.4","sha224");Qt("2.16.840.1.101.3.4.2.5","sha512-224");Qt("2.16.840.1.101.3.4.2.6","sha512-256");Qt("1.2.840.113549.2.2","md2");Qt("1.2.840.113549.2.5","md5");Qt("1.2.840.113549.1.7.1","data");Qt("1.2.840.113549.1.7.2","signedData");Qt("1.2.840.113549.1.7.3","envelopedData");Qt("1.2.840.113549.1.7.4","signedAndEnvelopedData");Qt("1.2.840.113549.1.7.5","digestedData");Qt("1.2.840.113549.1.7.6","encryptedData");Qt("1.2.840.113549.1.9.1","emailAddress");Qt("1.2.840.113549.1.9.2","unstructuredName");Qt("1.2.840.113549.1.9.3","contentType");Qt("1.2.840.113549.1.9.4","messageDigest");Qt("1.2.840.113549.1.9.5","signingTime");Qt("1.2.840.113549.1.9.6","counterSignature");Qt("1.2.840.113549.1.9.7","challengePassword");Qt("1.2.840.113549.1.9.8","unstructuredAddress");Qt("1.2.840.113549.1.9.14","extensionRequest");Qt("1.2.840.113549.1.9.20","friendlyName");Qt("1.2.840.113549.1.9.21","localKeyId");Qt("1.2.840.113549.1.9.22.1","x509Certificate");Qt("1.2.840.113549.1.12.10.1.1","keyBag");Qt("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Qt("1.2.840.113549.1.12.10.1.3","certBag");Qt("1.2.840.113549.1.12.10.1.4","crlBag");Qt("1.2.840.113549.1.12.10.1.5","secretBag");Qt("1.2.840.113549.1.12.10.1.6","safeContentsBag");Qt("1.2.840.113549.1.5.13","pkcs5PBES2");Qt("1.2.840.113549.1.5.12","pkcs5PBKDF2");Qt("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Qt("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Qt("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Qt("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Qt("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Qt("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Qt("1.2.840.113549.2.7","hmacWithSHA1");Qt("1.2.840.113549.2.8","hmacWithSHA224");Qt("1.2.840.113549.2.9","hmacWithSHA256");Qt("1.2.840.113549.2.10","hmacWithSHA384");Qt("1.2.840.113549.2.11","hmacWithSHA512");Qt("1.2.840.113549.3.7","des-EDE3-CBC");Qt("2.16.840.1.101.3.4.1.2","aes128-CBC");Qt("2.16.840.1.101.3.4.1.22","aes192-CBC");Qt("2.16.840.1.101.3.4.1.42","aes256-CBC");Qt("2.5.4.3","commonName");Qt("2.5.4.4","surname");Qt("2.5.4.5","serialNumber");Qt("2.5.4.6","countryName");Qt("2.5.4.7","localityName");Qt("2.5.4.8","stateOrProvinceName");Qt("2.5.4.9","streetAddress");Qt("2.5.4.10","organizationName");Qt("2.5.4.11","organizationalUnitName");Qt("2.5.4.12","title");Qt("2.5.4.13","description");Qt("2.5.4.15","businessCategory");Qt("2.5.4.17","postalCode");Qt("2.5.4.42","givenName");Qt("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Qt("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Qt("2.16.840.1.113730.1.1","nsCertType");Qt("2.16.840.1.113730.1.13","nsComment");mo("2.5.29.1","authorityKeyIdentifier");mo("2.5.29.2","keyAttributes");mo("2.5.29.3","certificatePolicies");mo("2.5.29.4","keyUsageRestriction");mo("2.5.29.5","policyMapping");mo("2.5.29.6","subtreesConstraint");mo("2.5.29.7","subjectAltName");mo("2.5.29.8","issuerAltName");mo("2.5.29.9","subjectDirectoryAttributes");mo("2.5.29.10","basicConstraints");mo("2.5.29.11","nameConstraints");mo("2.5.29.12","policyConstraints");mo("2.5.29.13","basicConstraints");Qt("2.5.29.14","subjectKeyIdentifier");Qt("2.5.29.15","keyUsage");mo("2.5.29.16","privateKeyUsagePeriod");Qt("2.5.29.17","subjectAltName");Qt("2.5.29.18","issuerAltName");Qt("2.5.29.19","basicConstraints");mo("2.5.29.20","cRLNumber");mo("2.5.29.21","cRLReason");mo("2.5.29.22","expirationDate");mo("2.5.29.23","instructionCode");mo("2.5.29.24","invalidityDate");mo("2.5.29.25","cRLDistributionPoints");mo("2.5.29.26","issuingDistributionPoint");mo("2.5.29.27","deltaCRLIndicator");mo("2.5.29.28","issuingDistributionPoint");mo("2.5.29.29","certificateIssuer");mo("2.5.29.30","nameConstraints");Qt("2.5.29.31","cRLDistributionPoints");Qt("2.5.29.32","certificatePolicies");mo("2.5.29.33","policyMappings");mo("2.5.29.34","policyConstraints");Qt("2.5.29.35","authorityKeyIdentifier");mo("2.5.29.36","policyConstraints");Qt("2.5.29.37","extKeyUsage");mo("2.5.29.46","freshestCRL");mo("2.5.29.54","inhibitAnyPolicy");Qt("1.3.6.1.4.1.11129.2.4.2","timestampList");Qt("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Qt("1.3.6.1.5.5.7.3.1","serverAuth");Qt("1.3.6.1.5.5.7.3.2","clientAuth");Qt("1.3.6.1.5.5.7.3.3","codeSigning");Qt("1.3.6.1.5.5.7.3.4","emailProtection");Qt("1.3.6.1.5.5.7.3.8","timeStamping")});var ih=V((jVr,sRe)=>{d();var ss=ei();Ji();ky();var Ar=sRe.exports=ss.asn1=ss.asn1||{};Ar.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Ar.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Ar.create=function(e,t,r,n,i){if(ss.util.isArray(n)){for(var s=[],a=0;a<n.length;++a)n[a]!==void 0&&s.push(n[a]);n=s}var l={tagClass:e,type:t,constructed:r,composed:r||ss.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=Ar.copy(l)),l};Ar.copy=function(e,t){var r;if(ss.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(Ar.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:Ar.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};Ar.equals=function(e,t,r){if(ss.util.isArray(e)){if(!ss.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Ar.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&Ar.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};Ar.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function e_(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}o(e_,"_checkBufferLength");var ebt=o(function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;e_(e,t,s),n=e.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");Ar.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=ss.util.createBuffer(e));var r=e.length(),n=pq(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function pq(e,t,r,n){var i;e_(e,t,2);var s=e.getByte();t--;var a=s&192,l=s&31;i=e.length();var c=ebt(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var f,m,h=(s&32)===32;if(h)if(f=[],c===void 0)for(;;){if(e_(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}i=e.length(),f.push(pq(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),f.push(pq(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(f===void 0&&a===Ar.Class.UNIVERSAL&&l===Ar.Type.BITSTRING&&(m=e.bytes(c)),f===void 0&&n.decodeBitStrings&&a===Ar.Class.UNIVERSAL&&l===Ar.Type.BITSTRING&&c>1){var p=e.read,A=t,x=0;if(l===Ar.Type.BITSTRING&&(e_(e,t,1),x=e.getByte(),t--),x===0)try{i=e.length();var E={strict:!0,decodeBitStrings:!0},v=pq(e,t,r+1,E),b=i-e.length();t-=b,l==Ar.Type.BITSTRING&&b++;var S=v.tagClass;b===c&&(S===Ar.Class.UNIVERSAL||S===Ar.Class.CONTEXT_SPECIFIC)&&(f=[v])}catch{}f===void 0&&(e.read=p,t=A)}if(f===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(l===Ar.Type.BMPSTRING)for(f="";c>0;c-=2)e_(e,t,2),f+=String.fromCharCode(e.getInt16()),t-=2;else f=e.getBytes(c),t-=c}var B=m===void 0?null:{bitStringContents:m};return Ar.create(a,l,h,f,B)}o(pq,"_fromDer");Ar.toDer=function(e){var t=ss.util.createBuffer(),r=e.tagClass|e.type,n=ss.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=Ar.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var s=0;s<e.value.length;++s)e.value[s]!==void 0&&n.putBuffer(Ar.toDer(e.value[s]))}else if(e.type===Ar.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)n.putInt16(e.value.charCodeAt(s));else e.type===Ar.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)===0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),l="";do l+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(l.length|128);for(var s=l.length-1;s>=0;--s)t.putByte(l.charCodeAt(s))}return t.putBuffer(n),t};Ar.oidToDer=function(e){var t=e.split("."),r=ss.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,s,a,l=2;l<t.length;++l){n=!0,i=[],s=parseInt(t[l],10);do a=s&127,s=s>>>7,n||(a|=128),i.push(a),n=!1;while(s>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};Ar.derToOid=function(e){var t;typeof e=="string"&&(e=ss.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};Ar.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),l=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(l=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,l,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var f=parseInt(e.substr(u+1,2),10),m=parseInt(e.substr(u+4,2),10),h=f*60+m;h*=6e4,c==="+"?t.setTime(+t-h):t.setTime(+t+h)}return t};Ar.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),l=parseInt(e.substr(12,2),10),c=0,u=0,f=!1;e.charAt(e.length-1)==="Z"&&(f=!0);var m=e.length-5,h=e.charAt(m);if(h==="+"||h==="-"){var p=parseInt(e.substr(m+1,2),10),A=parseInt(e.substr(m+4,2),10);u=p*60+A,u*=6e4,h==="+"&&(u*=-1),f=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),f?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,a,l,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(s,a,l,c)),t};Ar.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Ar.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Ar.integerToDer=function(e){var t=ss.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};Ar.derToInteger=function(e){typeof e=="string"&&(e=ss.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};Ar.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&ss.util.isArray(t.value))for(var s=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[s]&&(i=Ar.validate(e.value[s],t.value[a],r,n),i?++s:t.value[a].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var l;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var oRe=/[^\\u0000-\\u00ff]/;Ar.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",s=0;s<t*r;++s)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case Ar.Class.UNIVERSAL:n+="Universal:";break;case Ar.Class.APPLICATION:n+="Application:";break;case Ar.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Ar.Class.PRIVATE:n+="Private:";break}if(e.tagClass===Ar.Class.UNIVERSAL)switch(n+=e.type,e.type){case Ar.Type.NONE:n+=" (None)";break;case Ar.Type.BOOLEAN:n+=" (Boolean)";break;case Ar.Type.INTEGER:n+=" (Integer)";break;case Ar.Type.BITSTRING:n+=" (Bit string)";break;case Ar.Type.OCTETSTRING:n+=" (Octet string)";break;case Ar.Type.NULL:n+=" (Null)";break;case Ar.Type.OID:n+=" (Object Identifier)";break;case Ar.Type.ODESC:n+=" (Object Descriptor)";break;case Ar.Type.EXTERNAL:n+=" (External or Instance of)";break;case Ar.Type.REAL:n+=" (Real)";break;case Ar.Type.ENUMERATED:n+=" (Enumerated)";break;case Ar.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Ar.Type.UTF8:n+=" (UTF8)";break;case Ar.Type.ROID:n+=" (Relative Object Identifier)";break;case Ar.Type.SEQUENCE:n+=" (Sequence)";break;case Ar.Type.SET:n+=" (Set)";break;case Ar.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Ar.Type.IA5String:n+=" (IA5String (ASCII))";break;case Ar.Type.UTCTIME:n+=" (UTC time)";break;case Ar.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Ar.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,l="",s=0;s<e.value.length;++s)e.value[s]!==void 0&&(a+=1,l+=Ar.prettyPrint(e.value[s],t+1,r),s+1<e.value.length&&(l+=","));n+=i+"Sub values: "+a+l}else{if(n+=i+"Value: ",e.type===Ar.Type.OID){var c=Ar.derToOid(e.value);n+=c,ss.pki&&ss.pki.oids&&c in ss.pki.oids&&(n+=" ("+ss.pki.oids[c]+") ")}if(e.type===Ar.Type.INTEGER)try{n+=Ar.derToInteger(e.value)}catch{n+="0x"+ss.util.bytesToHex(e.value)}else if(e.type===Ar.Type.BITSTRING){if(e.value.length>1?n+="0x"+ss.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===Ar.Type.OCTETSTRING)oRe.test(e.value)||(n+="("+e.value+") "),n+="0x"+ss.util.bytesToHex(e.value);else if(e.type===Ar.Type.UTF8)try{n+=ss.util.decodeUtf8(e.value)}catch(f){if(f.message==="URI malformed")n+="0x"+ss.util.bytesToHex(e.value)+" (malformed UTF8)";else throw f}else e.type===Ar.Type.PRINTABLESTRING||e.type===Ar.Type.IA5String?n+=e.value:oRe.test(e.value)?n+="0x"+ss.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Vp=V((YVr,aRe)=>{d();var gq=ei();aRe.exports=gq.md=gq.md||{};gq.md.algorithms=gq.md.algorithms||{}});var q8=V((JVr,lRe)=>{d();var sA=ei();Vp();Ji();var tbt=lRe.exports=sA.hmac=sA.hmac||{};tbt.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(s,a){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in sA.md.algorithms)t=sA.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else t=s;if(a===null)a=e;else{if(typeof a=="string")a=sA.util.createBuffer(a);else if(sA.util.isArray(a)){var l=a;a=sA.util.createBuffer();for(var c=0;c<l.length;++c)a.putByte(l[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=sA.util.createBuffer(),n=sA.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var l=a.at(c);r.putByte(54^l),n.putByte(92^l)}if(u<t.blockLength)for(var l=t.blockLength-u,c=0;c<l;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(s){t.update(s)},i.getMac=function(){var s=t.digest().bytes();return t.start(),t.update(n),t.update(s),t.digest()},i.digest=i.getMac,i}});var yq=V((ZVr,dRe)=>{d();var jp=ei();Vp();Ji();var uRe=dRe.exports=jp.md5=jp.md5||{};jp.md.md5=jp.md.algorithms.md5=uRe;uRe.create=function(){fRe||rbt();var e=null,t=jp.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=jp.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=jp.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),cRe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=jp.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(nse.substr(0,n.blockLength-a));for(var l,c=0,u=n.fullMessageLength.length-1;u>=0;--u)l=n.fullMessageLength[u]*8+c,c=l/4294967296>>>0,i.putInt32Le(l>>>0);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};cRe(f,r,i);var m=jp.util.createBuffer();return m.putInt32Le(f.h0),m.putInt32Le(f.h1),m.putInt32Le(f.h2),m.putInt32Le(f.h3),m},n};var nse=null,Aq=null,t_=null,W8=null,fRe=!1;function rbt(){nse="\x80",nse+=jp.util.fillString("\0",64),Aq=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],t_=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],W8=new Array(64);for(var e=0;e<64;++e)W8[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);fRe=!0}o(rbt,"_init");function cRe(e,t,r){for(var n,i,s,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,s=e.h1,a=e.h2,l=e.h3,f=0;f<16;++f)t[f]=r.getInt32Le(),c=l^s&(a^l),n=i+c+W8[f]+t[f],u=t_[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<32;++f)c=a^l&(s^a),n=i+c+W8[f]+t[Aq[f]],u=t_[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<48;++f)c=s^a^l,n=i+c+W8[f]+t[Aq[f]],u=t_[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;for(;f<64;++f)c=a^(s|~l),n=i+c+W8[f]+t[Aq[f]],u=t_[f],i=l,l=a,a=s,s+=n<<u|n>>>32-u;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,m-=64}}o(cRe,"_update")});var ux=V((rjr,hRe)=>{d();var xq=ei();Ji();var mRe=hRe.exports=xq.pem=xq.pem||{};mRe.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=Cq(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=Cq(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=Cq(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=Cq(e.headers[i]);return e.procType&&(r+=`\r
`),r+=xq.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};mRe.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(e),!!s;){var a=s[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var l={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:xq.util.decode64(s[3])};if(t.push(l),!!s[2]){for(var c=s[2].split(i),u=0;s&&u<c.length;){for(var f=c[u].replace(/\s+$/,""),m=u+1;m<c.length;++m){var h=c[m];if(!/\s/.test(h[0]))break;f+=h,u=m}if(s=f.match(n),s){for(var p={name:s[1],values:[]},A=s[2].split(","),x=0;x<A.length;++x)p.values.push(nbt(A[x]));if(l.procType)if(!l.contentDomain&&p.name==="Content-Domain")l.contentDomain=A[0]||"";else if(!l.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:A[0],parameters:A[1]||null}}else l.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:A[0],type:A[1]}}}++u}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function Cq(e){for(var t=e.name+": ",r=[],n=o(function(c,u){return" "+u},"insertSpace"),i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var s=0,a=-1,i=0;i<t.length;++i,++s)if(s>65&&a!==-1){var l=t[a];l===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+l+t.substr(a+1),s=i-a-1,a=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(a=i);return t}o(Cq,"foldHeader");function nbt(e){return e.replace(/^\s+/,"")}o(nbt,"ltrim")});var r_=V((ojr,gRe)=>{d();var ws=ei();fq();Xoe();Ji();gRe.exports=ws.des=ws.des||{};ws.des.startEncrypting=function(e,t,r,n){var i=Eq({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};ws.des.createEncryptionCipher=function(e,t){return Eq({key:e,output:null,decrypt:!1,mode:t})};ws.des.startDecrypting=function(e,t,r,n){var i=Eq({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};ws.des.createDecryptionCipher=function(e,t){return Eq({key:e,output:null,decrypt:!0,mode:t})};ws.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:o(function(n,i){return pRe(r._keys,n,i,!1)},"encrypt"),decrypt:o(function(n,i){return pRe(r._keys,n,i,!0)},"decrypt")}}),r._init=!1};ws.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=ws.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=dbt(t),this._init=!0}};$p("DES-ECB",ws.cipher.modes.ecb);$p("DES-CBC",ws.cipher.modes.cbc);$p("DES-CFB",ws.cipher.modes.cfb);$p("DES-OFB",ws.cipher.modes.ofb);$p("DES-CTR",ws.cipher.modes.ctr);$p("3DES-ECB",ws.cipher.modes.ecb);$p("3DES-CBC",ws.cipher.modes.cbc);$p("3DES-CFB",ws.cipher.modes.cfb);$p("3DES-OFB",ws.cipher.modes.ofb);$p("3DES-CTR",ws.cipher.modes.ctr);function $p(e,t){var r=o(function(){return new ws.des.Algorithm(e,t)},"factory");ws.cipher.registerAlgorithm(e,r)}o($p,"registerAlgorithm");var ibt=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],obt=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],sbt=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],abt=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],lbt=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],cbt=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],ubt=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],fbt=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function dbt(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],m=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],A=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],x=e.length()>8?3:1,E=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,S,B=0;B<x;B++){var D=e.getInt32(),F=e.getInt32();S=(D>>>4^F)&252645135,F^=S,D^=S<<4,S=(F>>>-16^D)&65535,D^=S,F^=S<<-16,S=(D>>>2^F)&858993459,F^=S,D^=S<<2,S=(F>>>-16^D)&65535,D^=S,F^=S<<-16,S=(D>>>1^F)&1431655765,F^=S,D^=S<<1,S=(F>>>8^D)&16711935,D^=S,F^=S<<8,S=(D>>>1^F)&1431655765,F^=S,D^=S<<1,S=D<<8|F>>>20&240,D=F<<24|F<<8&16711680|F>>>8&65280|F>>>24&240,F=S;for(var W=0;W<v.length;++W){v[W]?(D=D<<2|D>>>26,F=F<<2|F>>>26):(D=D<<1|D>>>27,F=F<<1|F>>>27),D&=-15,F&=-15;var ee=t[D>>>28]|r[D>>>24&15]|n[D>>>20&15]|i[D>>>16&15]|s[D>>>12&15]|a[D>>>8&15]|l[D>>>4&15],de=c[F>>>28]|u[F>>>24&15]|f[F>>>20&15]|m[F>>>16&15]|h[F>>>12&15]|p[F>>>8&15]|A[F>>>4&15];S=(de>>>16^ee)&65535,E[b++]=ee^S,E[b++]=de^S<<16}}return E}o(dbt,"_createKeys");function pRe(e,t,r,n){var i=e.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,l=t[0],c=t[1];a=(l>>>4^c)&252645135,c^=a,l^=a<<4,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,l=l<<1|l>>>31,c=c<<1|c>>>31;for(var u=0;u<i;u+=3){for(var f=s[u+1],m=s[u+2],h=s[u];h!=f;h+=m){var p=c^e[h],A=(c>>>4|c<<28)^e[h+1];a=l,l=c,c=a^(obt[p>>>24&63]|abt[p>>>16&63]|cbt[p>>>8&63]|fbt[p&63]|ibt[A>>>24&63]|sbt[A>>>16&63]|lbt[A>>>8&63]|ubt[A&63])}a=l,l=c,c=a}l=l>>>1|l<<31,c=c>>>1|c<<31,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(l>>>4^c)&252645135,c^=a,l^=a<<4,r[0]=l,r[1]=c}o(pRe,"_updateBlock");function Eq(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=ws.cipher.createDecipher(r,e.key):n=ws.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,a){var l=null;a instanceof ws.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=s,i.call(n,a)},n}o(Eq,"_createCipher")});var bq=V((ljr,ARe)=>{d();var ec=ei();q8();Vp();Ji();var mbt=ec.pkcs5=ec.pkcs5||{},aA;ec.util.isNodejs&&!ec.options.usePureJavaScript&&(aA=require("crypto"));ARe.exports=ec.pbkdf2=mbt.pbkdf2=function(e,t,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),ec.util.isNodejs&&!ec.options.usePureJavaScript&&aA.pbkdf2&&(i===null||typeof i!="object")&&(aA.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s?aA.pbkdf2Sync.length===4?aA.pbkdf2(e,t,r,n,function(S,B){if(S)return s(S);s(null,B.toString("binary"))}):aA.pbkdf2(e,t,r,n,i,function(S,B){if(S)return s(S);s(null,B.toString("binary"))}):aA.pbkdf2Sync.length===4?aA.pbkdf2Sync(e,t,r,n).toString("binary"):aA.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in ec.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=ec.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var l=new Error("Derived key is too long.");if(s)return s(l);throw l}var c=Math.ceil(n/a),u=n-(c-1)*a,f=ec.hmac.create();f.start(i,e);var m="",h,p,A;if(!s){for(var x=1;x<=c;++x){f.start(null,null),f.update(t),f.update(ec.util.int32ToBytes(x)),h=A=f.digest().getBytes();for(var E=2;E<=r;++E)f.start(null,null),f.update(A),p=f.digest().getBytes(),h=ec.util.xorBytes(h,p,a),A=p;m+=x<c?h:h.substr(0,u)}return m}var x=1,E;function v(){if(x>c)return s(null,m);f.start(null,null),f.update(t),f.update(ec.util.int32ToBytes(x)),h=A=f.digest().getBytes(),E=2,b()}o(v,"outer");function b(){if(E<=r)return f.start(null,null),f.update(A),p=f.digest().getBytes(),h=ec.util.xorBytes(h,p,a),A=p,++E,ec.util.setImmediate(b);m+=x<c?h:h.substr(0,u),++x,v()}o(b,"inner"),v()}});var ose=V((fjr,bRe)=>{d();var zp=ei();Vp();Ji();var CRe=bRe.exports=zp.sha256=zp.sha256||{};zp.md.sha256=zp.md.algorithms.sha256=CRe;CRe.create=function(){xRe||hbt();var e=null,t=zp.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=zp.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=zp.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),yRe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=zp.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(ise.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};yRe(m,r,i);var h=zp.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h.putInt32(m.h5),h.putInt32(m.h6),h.putInt32(m.h7),h},n};var ise=null,xRe=!1,ERe=null;function hbt(){ise="\x80",ise+=zp.util.fillString("\0",64),ERe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],xRe=!0}o(hbt,"_init");function yRe(e,t,r){for(var n,i,s,a,l,c,u,f,m,h,p,A,x,E,v,b=r.length();b>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(f=e.h0,m=e.h1,h=e.h2,p=e.h3,A=e.h4,x=e.h5,E=e.h6,v=e.h7,u=0;u<64;++u)a=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7),l=E^A&(x^E),s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),c=f&m|h&(f^m),n=v+a+l+ERe[u]+t[u],i=s+c,v=E,E=x,x=A,A=p+n>>>0,p=h,h=m,m=f,f=n+i>>>0;e.h0=e.h0+f|0,e.h1=e.h1+m|0,e.h2=e.h2+h|0,e.h3=e.h3+p|0,e.h4=e.h4+A|0,e.h5=e.h5+x|0,e.h6=e.h6+E|0,e.h7=e.h7+v|0,b-=64}}o(yRe,"_update")});var sse=V((hjr,vRe)=>{d();var Yp=ei();Ji();var vq=null;Yp.util.isNodejs&&!Yp.options.usePureJavaScript&&!process.versions["node-webkit"]&&(vq=require("crypto"));var pbt=vRe.exports=Yp.prng=Yp.prng||{};pbt.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(u,f){if(!f)return t.generateSync(u);var m=t.plugin.cipher,h=t.plugin.increment,p=t.plugin.formatKey,A=t.plugin.formatSeed,x=Yp.util.createBuffer();t.key=null,E();function E(v){if(v)return f(v);if(x.length()>=u)return f(null,x.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return Yp.util.nextTick(function(){s(E)});var b=m(t.key,t.seed);t.generated+=b.length,x.putBytes(b),t.key=p(m(t.key,h(t.seed))),t.seed=A(m(t.key,t.seed)),Yp.util.setImmediate(E)}o(E,"generate")},t.generateSync=function(u){var f=t.plugin.cipher,m=t.plugin.increment,h=t.plugin.formatKey,p=t.plugin.formatSeed;t.key=null;for(var A=Yp.util.createBuffer();A.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var x=f(t.key,t.seed);t.generated+=x.length,A.putBytes(x),t.key=h(f(t.key,m(t.seed))),t.seed=p(f(t.key,t.seed))}return A.getBytes(u)};function s(u){if(t.pools[0].messageLength>=32)return l(),u();var f=32-t.pools[0].messageLength<<5;t.seedFile(f,function(m,h){if(m)return u(m);t.collect(h),l(),u()})}o(s,"_reseed");function a(){if(t.pools[0].messageLength>=32)return l();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),l()}o(a,"_reseedSync");function l(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var f=1,m=0;m<32;++m)t.reseeds%f===0&&(u.update(t.pools[m].digest().getBytes()),t.pools[m].start()),f=f<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var h=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(h),t.generated=0}o(l,"_seed");function c(u){var f=null,m=Yp.util.globalScope,h=m.crypto||m.msCrypto;h&&h.getRandomValues&&(f=o(function(D){return h.getRandomValues(D)},"getRandomValues"));var p=Yp.util.createBuffer();if(f)for(;p.length()<u;){var A=Math.max(1,Math.min(u-p.length(),65536)/4),x=new Uint32Array(Math.floor(A));try{f(x);for(var E=0;E<x.length;++E)p.putInt32(x[E])}catch(D){if(!(typeof QuotaExceededError<"u"&&D instanceof QuotaExceededError))throw D}}if(p.length()<u)for(var v,b,S,B=Math.floor(Math.random()*65536);p.length()<u;){b=16807*(B&65535),v=16807*(B>>16),b+=(v&32767)<<16,b+=v>>15,b=(b&2147483647)+(b>>31),B=b&4294967295;for(var E=0;E<3;++E)S=B>>>(E<<3),S^=Math.floor(Math.random()*256),p.putByte(S&255)}return p.getBytes(u)}return o(c,"defaultSeedFile"),vq?(t.seedFile=function(u,f){vq.randomBytes(u,function(m,h){if(m)return f(m);f(null,h.toString())})},t.seedFileSync=function(u){return vq.randomBytes(u).toString()}):(t.seedFile=function(u,f){try{f(null,c(u))}catch(m){f(m)}},t.seedFileSync=c),t.collect=function(u){for(var f=u.length,m=0;m<f;++m)t.pools[t.pool].update(u.substr(m,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,f){for(var m="",h=0;h<f;h+=8)m+=String.fromCharCode(u>>h&255);t.collect(m)},t.registerWorker=function(u){if(u===self)t.seedFile=function(m,h){function p(A){var x=A.data;x.forge&&x.forge.prng&&(self.removeEventListener("message",p),h(x.forge.prng.err,x.forge.prng.bytes))}o(p,"listener"),self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:m}}})};else{var f=o(function(m){var h=m.data;h.forge&&h.forge.prng&&t.seedFile(h.forge.prng.needed,function(p,A){u.postMessage({forge:{prng:{err:p,bytes:A}}})})},"listener");u.addEventListener("message",f)}},t}});var _d=V((Ajr,ase)=>{d();var Il=ei();_y();ose();sse();Ji();(function(){if(Il.random&&Il.random.getBytes){ase.exports=Il.random;return}(function(e){var t={},r=new Array(4),n=Il.util.createBuffer();t.formatKey=function(m){var h=Il.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),Il.aes._expandKey(m,!1)},t.formatSeed=function(m){var h=Il.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),m},t.cipher=function(m,h){return Il.aes._updateBlock(m,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(m){return++m[3],m},t.md=Il.md.sha256;function i(){var m=Il.prng.create(t);return m.getBytes=function(h,p){return m.generate(h,p)},m.getBytesSync=function(h){return m.generate(h)},m}o(i,"spawnPrng");var s=i(),a=null,l=Il.util.globalScope,c=l.crypto||l.msCrypto;if(c&&c.getRandomValues&&(a=o(function(m){return c.getRandomValues(m)},"getRandomValues")),Il.options.usePureJavaScript||!Il.util.isNodejs&&!a){if(typeof window>"u"||window.document,s.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var f in navigator)try{typeof navigator[f]=="string"&&(u+=navigator[f])}catch{}s.collect(u),u=null}e&&(e().mousemove(function(m){s.collectInt(m.clientX,16),s.collectInt(m.clientY,16)}),e().keypress(function(m){s.collectInt(m.charCode,8)}))}if(!Il.random)Il.random=s;else for(var f in s)Il.random[f]=s[f];Il.random.createInstance=i,ase.exports=Il.random})(typeof jQuery<"u"?jQuery:null)})()});var cse=V((xjr,wRe)=>{d();var eu=ei();Ji();var lse=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],IRe=[1,2,3,5],gbt=o(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),Abt=o(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");wRe.exports=eu.rc2=eu.rc2||{};eu.rc2.expandKey=function(e,t){typeof e=="string"&&(e=eu.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,s=Math.ceil(i/8),a=255>>(i&7),l;for(l=n;l<128;l++)r.putByte(lse[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-s,lse[r.at(128-s)&a]),l=127-s;l>=0;l--)r.setAt(l,lse[r.at(l+1)^r.at(l+s)]);return r};var TRe=o(function(e,t,r){var n=!1,i=null,s=null,a=null,l,c,u,f,m=[];for(e=eu.rc2.expandKey(e,t),u=0;u<64;u++)m.push(e.getInt16Le());r?(l=o(function(A){for(u=0;u<4;u++)A[u]+=m[f]+(A[(u+3)%4]&A[(u+2)%4])+(~A[(u+3)%4]&A[(u+1)%4]),A[u]=gbt(A[u],IRe[u]),f++},"mixRound"),c=o(function(A){for(u=0;u<4;u++)A[u]+=m[A[(u+3)%4]&63]},"mashRound")):(l=o(function(A){for(u=3;u>=0;u--)A[u]=Abt(A[u],IRe[u]),A[u]-=m[f]+(A[(u+3)%4]&A[(u+2)%4])+(~A[(u+3)%4]&A[(u+1)%4]),f--},"mixRound"),c=o(function(A){for(u=3;u>=0;u--)A[u]-=m[A[(u+3)%4]&63]},"mashRound"));var h=o(function(A){var x=[];for(u=0;u<4;u++){var E=i.getInt16Le();a!==null&&(r?E^=a.getInt16Le():a.putInt16Le(E)),x.push(E&65535)}f=r?0:63;for(var v=0;v<A.length;v++)for(var b=0;b<A[v][0];b++)A[v][1](x);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(x[u]):x[u]^=a.getInt16Le()),s.putInt16Le(x[u])},"runPlan"),p=null;return p={start:o(function(A,x){A&&typeof A=="string"&&(A=eu.util.createBuffer(A)),n=!1,i=eu.util.createBuffer(),s=x||new eu.util.createBuffer,a=A,p.output=s},"start"),update:o(function(A){for(n||i.putBuffer(A);i.length()>=8;)h([[5,l],[1,c],[6,l],[1,c],[5,l]])},"update"),finish:o(function(A){var x=!0;if(r)if(A)x=A(8,i,!r);else{var E=i.length()===8?8:8-i.length();i.fillWithByte(E,E)}if(x&&(n=!0,p.update()),!r&&(x=i.length()===0,x))if(A)x=A(8,s,!r);else{var v=s.length(),b=s.at(v-1);b>v?x=!1:s.truncate(b)}return x},"finish")},p},"createCipher");eu.rc2.startEncrypting=function(e,t,r){var n=eu.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};eu.rc2.createEncryptionCipher=function(e,t){return TRe(e,t,!0)};eu.rc2.startDecrypting=function(e,t,r){var n=eu.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};eu.rc2.createDecryptionCipher=function(e,t){return TRe(e,t,!1)}});var i_=V((vjr,FRe)=>{d();var use=ei();FRe.exports=use.jsbn=use.jsbn||{};var lA,ybt=0xdeadbeefcafe,SRe=(ybt&16777215)==15715070;function kt(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}o(kt,"BigInteger");use.jsbn.BigInteger=kt;function Xi(){return new kt(null)}o(Xi,"nbi");function Cbt(e,t,r,n,i,s){for(;--s>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}o(Cbt,"am1");function xbt(e,t,r,n,i,s){for(var a=t&32767,l=t>>15;--s>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,f=l*c+u*a;c=a*c+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+l*u+(i>>>30),r.data[n++]=c&1073741823}return i}o(xbt,"am2");function _Re(e,t,r,n,i,s){for(var a=t&16383,l=t>>14;--s>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,f=l*c+u*a;c=a*c+((f&16383)<<14)+r.data[n]+i,i=(c>>28)+(f>>14)+l*u,r.data[n++]=c&268435455}return i}o(_Re,"am3");typeof navigator>"u"?(kt.prototype.am=_Re,lA=28):SRe&&navigator.appName=="Microsoft Internet Explorer"?(kt.prototype.am=xbt,lA=30):SRe&&navigator.appName!="Netscape"?(kt.prototype.am=Cbt,lA=26):(kt.prototype.am=_Re,lA=28);kt.prototype.DB=lA;kt.prototype.DM=(1<<lA)-1;kt.prototype.DV=1<<lA;var fse=52;kt.prototype.FV=Math.pow(2,fse);kt.prototype.F1=fse-lA;kt.prototype.F2=2*lA-fse;var Ebt="0123456789abcdefghijklmnopqrstuvwxyz",Iq=new Array,G8,kd;G8=48;for(kd=0;kd<=9;++kd)Iq[G8++]=kd;G8=97;for(kd=10;kd<36;++kd)Iq[G8++]=kd;G8=65;for(kd=10;kd<36;++kd)Iq[G8++]=kd;function kRe(e){return Ebt.charAt(e)}o(kRe,"int2char");function BRe(e,t){var r=Iq[e.charCodeAt(t)];return r??-1}o(BRe,"intAt");function bbt(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}o(bbt,"bnpCopyTo");function vbt(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}o(vbt,"bnpFromInt");function By(e){var t=Xi();return t.fromInt(e),t}o(By,"nbv");function Ibt(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var a=r==8?e[n]&255:BRe(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=a:s+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this.data[this.t++]=a>>this.DB-s):this.data[this.t-1]|=a<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&kt.ZERO.subTo(this,this)}o(Ibt,"bnpFromString");function Tbt(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}o(Tbt,"bnpClamp");function wbt(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,s="",a=this.t,l=this.DB-a*this.DB%t;if(a-- >0)for(l<this.DB&&(n=this.data[a]>>l)>0&&(i=!0,s=kRe(n));a>=0;)l<t?(n=(this.data[a]&(1<<l)-1)<<t-l,n|=this.data[--a]>>(l+=this.DB-t)):(n=this.data[a]>>(l-=t)&r,l<=0&&(l+=this.DB,--a)),n>0&&(i=!0),i&&(s+=kRe(n));return i?s:"0"}o(wbt,"bnToString");function Sbt(){var e=Xi();return kt.ZERO.subTo(this,e),e}o(Sbt,"bnNegate");function _bt(){return this.s<0?this.negate():this}o(_bt,"bnAbs");function kbt(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}o(kbt,"bnCompareTo");function Tq(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}o(Tq,"nbits");function Bbt(){return this.t<=0?0:this.DB*(this.t-1)+Tq(this.data[this.t-1]^this.s&this.DM)}o(Bbt,"bnBitLength");function Rbt(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}o(Rbt,"bnpDLShiftTo");function Dbt(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}o(Dbt,"bnpDRShiftTo");function Pbt(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)t.data[l+s+1]=this.data[l]>>n|a,a=(this.data[l]&i)<<r;for(l=s-1;l>=0;--l)t.data[l]=0;t.data[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()}o(Pbt,"bnpLShiftTo");function Fbt(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&s)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}o(Fbt,"bnpRShiftTo");function Nbt(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}o(Nbt,"bnpSubTo");function Lbt(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&kt.ZERO.subTo(t,t)}o(Lbt,"bnpMultiplyTo");function Qbt(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}o(Qbt,"bnpSquareTo");function Mbt(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Xi());var s=Xi(),a=this.s,l=e.s,c=this.DB-Tq(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),i.lShiftTo(c,r)):(n.copyTo(s),i.copyTo(r));var u=s.t,f=s.data[u-1];if(f!=0){var m=f*(1<<this.F1)+(u>1?s.data[u-2]>>this.F2:0),h=this.FV/m,p=(1<<this.F1)/m,A=1<<this.F2,x=r.t,E=x-u,v=t??Xi();for(s.dlShiftTo(E,v),r.compareTo(v)>=0&&(r.data[r.t++]=1,r.subTo(v,r)),kt.ONE.dlShiftTo(u,v),v.subTo(s,s);s.t<u;)s.data[s.t++]=0;for(;--E>=0;){var b=r.data[--x]==f?this.DM:Math.floor(r.data[x]*h+(r.data[x-1]+A)*p);if((r.data[x]+=s.am(0,b,r,E,0,u))<b)for(s.dlShiftTo(E,v),r.subTo(v,r);r.data[x]<--b;)r.subTo(v,r)}t!=null&&(r.drShiftTo(u,t),a!=l&&kt.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&kt.ZERO.subTo(r,r)}}}o(Mbt,"bnpDivRemTo");function Obt(e){var t=Xi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(kt.ZERO)>0&&e.subTo(t,t),t}o(Obt,"bnMod");function fx(e){this.m=e}o(fx,"Classic");function Ubt(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}o(Ubt,"cConvert");function qbt(e){return e}o(qbt,"cRevert");function Wbt(e){e.divRemTo(this.m,null,e)}o(Wbt,"cReduce");function Gbt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(Gbt,"cMulTo");function Hbt(e,t){e.squareTo(t),this.reduce(t)}o(Hbt,"cSqrTo");fx.prototype.convert=Ubt;fx.prototype.revert=qbt;fx.prototype.reduce=Wbt;fx.prototype.mulTo=Gbt;fx.prototype.sqrTo=Hbt;function Vbt(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}o(Vbt,"bnpInvDigit");function dx(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}o(dx,"Montgomery");function jbt(e){var t=Xi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(kt.ZERO)>0&&this.m.subTo(t,t),t}o(jbt,"montConvert");function $bt(e){var t=Xi();return e.copyTo(t),this.reduce(t),t}o($bt,"montRevert");function zbt(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}o(zbt,"montReduce");function Ybt(e,t){e.squareTo(t),this.reduce(t)}o(Ybt,"montSqrTo");function Kbt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(Kbt,"montMulTo");dx.prototype.convert=jbt;dx.prototype.revert=$bt;dx.prototype.reduce=zbt;dx.prototype.mulTo=Kbt;dx.prototype.sqrTo=Ybt;function Jbt(){return(this.t>0?this.data[0]&1:this.s)==0}o(Jbt,"bnpIsEven");function Xbt(e,t){if(e>4294967295||e<1)return kt.ONE;var r=Xi(),n=Xi(),i=t.convert(this),s=Tq(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}o(Xbt,"bnpExp");function Zbt(e,t){var r;return e<256||t.isEven()?r=new fx(t):r=new dx(t),this.exp(e,r)}o(Zbt,"bnModPowInt");kt.prototype.copyTo=bbt;kt.prototype.fromInt=vbt;kt.prototype.fromString=Ibt;kt.prototype.clamp=Tbt;kt.prototype.dlShiftTo=Rbt;kt.prototype.drShiftTo=Dbt;kt.prototype.lShiftTo=Pbt;kt.prototype.rShiftTo=Fbt;kt.prototype.subTo=Nbt;kt.prototype.multiplyTo=Lbt;kt.prototype.squareTo=Qbt;kt.prototype.divRemTo=Mbt;kt.prototype.invDigit=Vbt;kt.prototype.isEven=Jbt;kt.prototype.exp=Xbt;kt.prototype.toString=wbt;kt.prototype.negate=Sbt;kt.prototype.abs=_bt;kt.prototype.compareTo=kbt;kt.prototype.bitLength=Bbt;kt.prototype.mod=Obt;kt.prototype.modPowInt=Zbt;kt.ZERO=By(0);kt.ONE=By(1);function evt(){var e=Xi();return this.copyTo(e),e}o(evt,"bnClone");function tvt(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(tvt,"bnIntValue");function rvt(){return this.t==0?this.s:this.data[0]<<24>>24}o(rvt,"bnByteValue");function nvt(){return this.t==0?this.s:this.data[0]<<16>>16}o(nvt,"bnShortValue");function ivt(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}o(ivt,"bnpChunkSize");function ovt(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o(ovt,"bnSigNum");function svt(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=By(r),i=Xi(),s=Xi(),a="";for(this.divRemTo(n,i,s);i.signum()>0;)a=(r+s.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,s);return s.intValue().toString(e)+a}o(svt,"bnpToRadix");function avt(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,a=0,l=0;l<e.length;++l){var c=BRe(e,l);if(c<0){e.charAt(l)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&kt.ZERO.subTo(this,this)}o(avt,"bnpFromRadix");function lvt(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(kt.ONE.shiftLeft(e-1),dse,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(kt.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}o(lvt,"bnpFromNumber");function cvt(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}o(cvt,"bnToByteArray");function uvt(e){return this.compareTo(e)==0}o(uvt,"bnEquals");function fvt(e){return this.compareTo(e)<0?this:e}o(fvt,"bnMin");function dvt(e){return this.compareTo(e)>0?this:e}o(dvt,"bnMax");function mvt(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}o(mvt,"bnpBitwiseTo");function hvt(e,t){return e&t}o(hvt,"op_and");function pvt(e){var t=Xi();return this.bitwiseTo(e,hvt,t),t}o(pvt,"bnAnd");function dse(e,t){return e|t}o(dse,"op_or");function gvt(e){var t=Xi();return this.bitwiseTo(e,dse,t),t}o(gvt,"bnOr");function RRe(e,t){return e^t}o(RRe,"op_xor");function Avt(e){var t=Xi();return this.bitwiseTo(e,RRe,t),t}o(Avt,"bnXor");function DRe(e,t){return e&~t}o(DRe,"op_andnot");function yvt(e){var t=Xi();return this.bitwiseTo(e,DRe,t),t}o(yvt,"bnAndNot");function Cvt(){for(var e=Xi(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}o(Cvt,"bnNot");function xvt(e){var t=Xi();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}o(xvt,"bnShiftLeft");function Evt(e){var t=Xi();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}o(Evt,"bnShiftRight");function bvt(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}o(bvt,"lbit");function vvt(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+bvt(this.data[e]);return this.s<0?this.t*this.DB:-1}o(vvt,"bnGetLowestSetBit");function Ivt(e){for(var t=0;e!=0;)e&=e-1,++t;return t}o(Ivt,"cbit");function Tvt(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=Ivt(this.data[r]^t);return e}o(Tvt,"bnBitCount");function wvt(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}o(wvt,"bnTestBit");function Svt(e,t){var r=kt.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}o(Svt,"bnpChangeBit");function _vt(e){return this.changeBit(e,dse)}o(_vt,"bnSetBit");function kvt(e){return this.changeBit(e,DRe)}o(kvt,"bnClearBit");function Bvt(e){return this.changeBit(e,RRe)}o(Bvt,"bnFlipBit");function Rvt(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}o(Rvt,"bnpAddTo");function Dvt(e){var t=Xi();return this.addTo(e,t),t}o(Dvt,"bnAdd");function Pvt(e){var t=Xi();return this.subTo(e,t),t}o(Pvt,"bnSubtract");function Fvt(e){var t=Xi();return this.multiplyTo(e,t),t}o(Fvt,"bnMultiply");function Nvt(e){var t=Xi();return this.divRemTo(e,t,null),t}o(Nvt,"bnDivide");function Lvt(e){var t=Xi();return this.divRemTo(e,null,t),t}o(Lvt,"bnRemainder");function Qvt(e){var t=Xi(),r=Xi();return this.divRemTo(e,t,r),new Array(t,r)}o(Qvt,"bnDivideAndRemainder");function Mvt(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}o(Mvt,"bnpDMultiply");function Ovt(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}o(Ovt,"bnpDAddOffset");function n_(){}o(n_,"NullExp");function PRe(e){return e}o(PRe,"nNop");function Uvt(e,t,r){e.multiplyTo(t,r)}o(Uvt,"nMulTo");function qvt(e,t){e.squareTo(t)}o(qvt,"nSqrTo");n_.prototype.convert=PRe;n_.prototype.revert=PRe;n_.prototype.mulTo=Uvt;n_.prototype.sqrTo=qvt;function Wvt(e){return this.exp(e,new n_)}o(Wvt,"bnPow");function Gvt(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}o(Gvt,"bnpMultiplyLowerTo");function Hvt(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}o(Hvt,"bnpMultiplyUpperTo");function H8(e){this.r2=Xi(),this.q3=Xi(),kt.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}o(H8,"Barrett");function Vvt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Xi();return e.copyTo(t),this.reduce(t),t}o(Vvt,"barrettConvert");function jvt(e){return e}o(jvt,"barrettRevert");function $vt(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}o($vt,"barrettReduce");function zvt(e,t){e.squareTo(t),this.reduce(t)}o(zvt,"barrettSqrTo");function Yvt(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(Yvt,"barrettMulTo");H8.prototype.convert=Vvt;H8.prototype.revert=jvt;H8.prototype.reduce=$vt;H8.prototype.mulTo=Yvt;H8.prototype.sqrTo=zvt;function Kvt(e,t){var r=e.bitLength(),n,i=By(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new fx(t):t.isEven()?s=new H8(t):s=new dx(t);var a=new Array,l=3,c=n-1,u=(1<<n)-1;if(a[1]=s.convert(this),n>1){var f=Xi();for(s.sqrTo(a[1],f);l<=u;)a[l]=Xi(),s.mulTo(f,a[l-2],a[l]),l+=2}var m=e.t-1,h,p=!0,A=Xi(),x;for(r=Tq(e.data[m])-1;m>=0;){for(r>=c?h=e.data[m]>>r-c&u:(h=(e.data[m]&(1<<r+1)-1)<<c-r,m>0&&(h|=e.data[m-1]>>this.DB+r-c)),l=n;(h&1)==0;)h>>=1,--l;if((r-=l)<0&&(r+=this.DB,--m),p)a[h].copyTo(i),p=!1;else{for(;l>1;)s.sqrTo(i,A),s.sqrTo(A,i),l-=2;l>0?s.sqrTo(i,A):(x=i,i=A,A=x),s.mulTo(A,a[h],i)}for(;m>=0&&(e.data[m]&1<<r)==0;)s.sqrTo(i,A),x=i,i=A,A=x,--r<0&&(r=this.DB-1,--m)}return s.revert(i)}o(Kvt,"bnModPow");function Jvt(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}o(Jvt,"bnGCD");function Xvt(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}o(Xvt,"bnpModInt");function Zvt(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return kt.ZERO;for(var r=e.clone(),n=this.clone(),i=By(1),s=By(0),a=By(0),l=By(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!l.isEven())&&(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),s.subTo(l,s)):(n.subTo(r,n),t&&a.subTo(i,a),l.subTo(s,l))}if(n.compareTo(kt.ONE)!=0)return kt.ZERO;if(l.compareTo(e)>=0)return l.subtract(e);if(l.signum()<0)l.addTo(e,l);else return l;return l.signum()<0?l.add(e):l}o(Zvt,"bnModInverse");var oh=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],eIt=(1<<26)/oh[oh.length-1];function tIt(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=oh[oh.length-1]){for(t=0;t<oh.length;++t)if(r.data[0]==oh[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<oh.length;){for(var n=oh[t],i=t+1;i<oh.length&&n<eIt;)n*=oh[i++];for(n=r.modInt(n);t<i;)if(n%oh[t++]==0)return!1}return r.millerRabin(e)}o(tIt,"bnIsProbablePrime");function rIt(e){var t=this.subtract(kt.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=nIt(),s,a=0;a<e;++a){do s=new kt(this.bitLength(),i);while(s.compareTo(kt.ONE)<=0||s.compareTo(t)>=0);var l=s.modPow(n,this);if(l.compareTo(kt.ONE)!=0&&l.compareTo(t)!=0){for(var c=1;c++<r&&l.compareTo(t)!=0;)if(l=l.modPowInt(2,this),l.compareTo(kt.ONE)==0)return!1;if(l.compareTo(t)!=0)return!1}}return!0}o(rIt,"bnpMillerRabin");function nIt(){return{nextBytes:o(function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)},"nextBytes")}}o(nIt,"bnGetPrng");kt.prototype.chunkSize=ivt;kt.prototype.toRadix=svt;kt.prototype.fromRadix=avt;kt.prototype.fromNumber=lvt;kt.prototype.bitwiseTo=mvt;kt.prototype.changeBit=Svt;kt.prototype.addTo=Rvt;kt.prototype.dMultiply=Mvt;kt.prototype.dAddOffset=Ovt;kt.prototype.multiplyLowerTo=Gvt;kt.prototype.multiplyUpperTo=Hvt;kt.prototype.modInt=Xvt;kt.prototype.millerRabin=rIt;kt.prototype.clone=evt;kt.prototype.intValue=tvt;kt.prototype.byteValue=rvt;kt.prototype.shortValue=nvt;kt.prototype.signum=ovt;kt.prototype.toByteArray=cvt;kt.prototype.equals=uvt;kt.prototype.min=fvt;kt.prototype.max=dvt;kt.prototype.and=pvt;kt.prototype.or=gvt;kt.prototype.xor=Avt;kt.prototype.andNot=yvt;kt.prototype.not=Cvt;kt.prototype.shiftLeft=xvt;kt.prototype.shiftRight=Evt;kt.prototype.getLowestSetBit=vvt;kt.prototype.bitCount=Tvt;kt.prototype.testBit=wvt;kt.prototype.setBit=_vt;kt.prototype.clearBit=kvt;kt.prototype.flipBit=Bvt;kt.prototype.add=Dvt;kt.prototype.subtract=Pvt;kt.prototype.multiply=Fvt;kt.prototype.divide=Nvt;kt.prototype.remainder=Lvt;kt.prototype.divideAndRemainder=Qvt;kt.prototype.modPow=Kvt;kt.prototype.modInverse=Zvt;kt.prototype.pow=Wvt;kt.prototype.gcd=Jvt;kt.prototype.isProbablePrime=tIt});var V8=V((wjr,MRe)=>{d();var Kp=ei();Vp();Ji();var LRe=MRe.exports=Kp.sha1=Kp.sha1||{};Kp.md.sha1=Kp.md.algorithms.sha1=LRe;LRe.create=function(){QRe||iIt();var e=null,t=Kp.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Kp.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Kp.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),NRe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Kp.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=s&n.blockLength-1;i.putBytes(mse.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};NRe(m,r,i);var h=Kp.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h},n};var mse=null,QRe=!1;function iIt(){mse="\x80",mse+=Kp.util.fillString("\0",64),QRe=!0}o(iIt,"_init");function NRe(e,t,r){for(var n,i,s,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,s=e.h1,a=e.h2,l=e.h3,c=e.h4,f=0;f<16;++f)n=r.getInt32(),t[f]=n,u=l^s&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<20;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=l^s&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<32;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<40;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<60;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s&a|l&(s^a),n=(i<<5|i>>>27)+u+c+2400959708+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;for(;f<80;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=s^a^l,n=(i<<5|i>>>27)+u+c+3395469782+n,c=l,l=a,a=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,e.h4=e.h4+c|0,m-=64}}o(NRe,"_update")});var hse=V((kjr,URe)=>{d();var Jp=ei();Ji();_d();V8();var ORe=URe.exports=Jp.pkcs1=Jp.pkcs1||{};ORe.encode_rsa_oaep=function(e,t,r){var n,i,s,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),s?s.start():s=Jp.md.sha1.create(),a||(a=s);var l=Math.ceil(e.n.bitLength()/8),c=l-2*s.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),s.update(n,"raw");for(var f=s.digest(),m="",h=c-t.length,p=0;p<h;p++)m+="\0";var A=f.getBytes()+m+""+t;if(!i)i=Jp.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=s.digestLength,u}var x=wq(i,l-s.digestLength-1,a),E=Jp.util.xorBytes(A,x,A.length),v=wq(E,s.digestLength,a),b=Jp.util.xorBytes(i,v,i.length);return"\0"+b+E};ORe.decode_rsa_oaep=function(e,t,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var E=new Error("RSAES-OAEP encoded message length is invalid.");throw E.length=t.length,E.expectedLength=a,E}if(i===void 0?i=Jp.md.sha1.create():i.start(),s||(s=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var l=i.digest().getBytes(),c=t.charAt(0),u=t.substring(1,i.digestLength+1),f=t.substring(1+i.digestLength),m=wq(f,i.digestLength,s),h=Jp.util.xorBytes(u,m,u.length),p=wq(h,a-i.digestLength-1,s),A=Jp.util.xorBytes(f,p,f.length),x=A.substring(0,i.digestLength),E=c!=="\0",v=0;v<i.digestLength;++v)E|=l.charAt(v)!==x.charAt(v);for(var b=1,S=i.digestLength,B=i.digestLength;B<A.length;B++){var D=A.charCodeAt(B),F=D&1^1,W=b?65534:0;E|=D&W,b=b&F,S+=b}if(E||A.charCodeAt(S)!==1)throw new Error("Invalid RSAES-OAEP padding.");return A.substring(S+1)};function wq(e,t,r){r||(r=Jp.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var a=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}o(wq,"rsa_mgf1")});var gse=V((Djr,pse)=>{d();var Ry=ei();Ji();i_();_d();(function(){if(Ry.prime){pse.exports=Ry.prime;return}var e=pse.exports=Ry.prime=Ry.prime||{},t=Ry.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=o(function(m,h){return m|h},"op_or");e.generateProbablePrime=function(m,h,p){typeof h=="function"&&(p=h,h={}),h=h||{};var A=h.algorithm||"PRIMEINC";typeof A=="string"&&(A={name:A}),A.options=A.options||{};var x=h.prng||Ry.random,E={nextBytes:o(function(v){for(var b=x.getBytesSync(v.length),S=0;S<v.length;++S)v[S]=b.charCodeAt(S)},"nextBytes")};if(A.name==="PRIMEINC")return s(m,E,A.options,p);throw new Error("Invalid prime generation algorithm: "+A.name)};function s(m,h,p,A){return"workers"in p?c(m,h,p,A):a(m,h,p,A)}o(s,"primeincFindPrime");function a(m,h,p,A){var x=u(m,h),E=0,v=f(x.bitLength());"millerRabinTests"in p&&(v=p.millerRabinTests);var b=10;"maxBlockTime"in p&&(b=p.maxBlockTime),l(x,m,h,E,v,b,A)}o(a,"primeincFindPrimeWithoutWorkers");function l(m,h,p,A,x,E,v){var b=+new Date;do{if(m.bitLength()>h&&(m=u(h,p)),m.isProbablePrime(x))return v(null,m);m.dAddOffset(r[A++%8],0)}while(E<0||+new Date-b<E);Ry.util.setImmediate(function(){l(m,h,p,A,x,E,v)})}o(l,"_primeinc");function c(m,h,p,A){if(typeof Worker>"u")return a(m,h,p,A);var x=u(m,h),E=p.workers,v=p.workLoad||100,b=v*30/8,S=p.workerScript||"forge/prime.worker.js";if(E===-1)return Ry.util.estimateCores(function(D,F){D&&(F=2),E=F-1,B()});B();function B(){E=Math.max(1,E);for(var D=[],F=0;F<E;++F)D[F]=new Worker(S);for(var W=E,F=0;F<E;++F)D[F].addEventListener("message",de);var ee=!1;function de(X){if(!ee){--W;var G=X.data;if(G.found){for(var U=0;U<D.length;++U)D[U].terminate();return ee=!0,A(null,new t(G.prime,16))}x.bitLength()>m&&(x=u(m,h));var ie=x.toString(16);X.target.postMessage({hex:ie,workLoad:v}),x.dAddOffset(b,0)}}o(de,"workerMessage")}o(B,"generate")}o(c,"primeincFindPrimeWithWorkers");function u(m,h){var p=new t(m,h),A=m-1;return p.testBit(A)||p.bitwiseTo(t.ONE.shiftLeft(A),i,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}o(u,"generateRandom");function f(m){return m<=100?27:m<=150?18:m<=200?15:m<=250?12:m<=300?9:m<=350?8:m<=400?7:m<=500?6:m<=600?5:m<=800?4:m<=1250?3:2}o(f,"getMillerRabinTests")})()});var o_=V((Njr,$Re)=>{d();var Xr=ei();ih();i_();ky();hse();gse();_d();Ji();typeof Gi>"u"&&(Gi=Xr.jsbn.BigInteger);var Gi,Ase=Xr.util.isNodejs?require("crypto"):null,$e=Xr.asn1,Bd=Xr.util;Xr.pki=Xr.pki||{};$Re.exports=Xr.pki.rsa=Xr.rsa=Xr.rsa||{};var Wn=Xr.pki,oIt=[6,4,2,4,2,4,6,2],sIt={name:"PrivateKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},aIt={name:"RSAPrivateKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},lIt={name:"RSAPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:$e.Class.UNIVERSAL,type:$e.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},cIt=Xr.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},uIt={name:"DigestInfo",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:$e.Class.UNIVERSAL,type:$e.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:$e.Class.UNIVERSAL,type:$e.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:$e.Class.UNIVERSAL,type:$e.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},fIt=o(function(e){var t;if(e.algorithm in Wn.oids)t=Wn.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=$e.oidToDer(t).getBytes(),i=$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[]),s=$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[]);s.value.push($e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,n)),s.value.push($e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,""));var a=$e.create($e.Class.UNIVERSAL,$e.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(a),$e.toDer(i).getBytes()},"emsaPkcs1v15encode"),VRe=o(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(Gi.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(Gi.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new Gi(Xr.util.bytesToHex(Xr.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(Gi.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(s)<0;)i=i.add(t.p);var a=i.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");Wn.rsa.encrypt=function(e,t,r){var n=r,i,s=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=jRe(e,t,r)):(i=Xr.util.createBuffer(),i.putBytes(e));for(var a=new Gi(i.toHex(),16),l=VRe(a,t,n),c=l.toString(16),u=Xr.util.createBuffer(),f=s-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(Xr.util.hexToBytes(c)),u.getBytes()};Wn.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=i,s}var a=new Gi(Xr.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=VRe(a,t,r),c=l.toString(16),u=Xr.util.createBuffer(),f=i-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(Xr.util.hexToBytes(c)),n!==!1?Sq(u.getBytes(),t,r):u.getBytes()};Wn.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||Xr.random,i={nextBytes:o(function(l){for(var c=n.getBytesSync(l.length),u=0;u<l.length;++u)l[u]=c.charCodeAt(u)},"nextBytes")},s=r.algorithm||"PRIMEINC",a;if(s==="PRIMEINC")a={algorithm:s,state:0,bits:e,rng:i,eInt:t||65537,e:new Gi(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+s);return a};Wn.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new Gi(null);r.fromInt(30);for(var n=0,i=o(function(m,h){return m|h},"op_or"),s=+new Date,a,l=0;e.keys===null&&(t<=0||l<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new Gi(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(Gi.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(mIt(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(oIt[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(Gi.ONE).gcd(e.e).compareTo(Gi.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(Gi.ONE),e.q1=e.q.subtract(Gi.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(Gi.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var f=e.e.modInverse(e.phi);e.keys={privateKey:Wn.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:Wn.rsa.setPublicKey(e.n,e.e)}}a=+new Date,l+=a-s,s=a}return e.keys!==null};Wn.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!Xr.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(qRe("generateKeyPair"))return Ase.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,c,u){if(l)return n(l);n(null,{privateKey:Wn.privateKeyFromPem(u),publicKey:Wn.publicKeyFromPem(c)})});if(WRe("generateKey")&&WRe("exportKey"))return Bd.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:HRe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return Bd.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var c=Wn.privateKeyFromAsn1($e.fromDer(Xr.util.createBuffer(l)));n(null,{privateKey:c,publicKey:Wn.setRsaPublicKey(c.n,c.e)})}});if(GRe("generateKey")&&GRe("exportKey")){var i=Bd.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:HRe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(l){var c=l.target.result,u=Bd.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(f){var m=f.target.result,h=Wn.privateKeyFromAsn1($e.fromDer(Xr.util.createBuffer(m)));n(null,{privateKey:h,publicKey:Wn.setRsaPublicKey(h.n,h.e)})},u.onerror=function(f){n(f)}},i.onerror=function(l){n(l)};return}}else if(qRe("generateKeyPairSync")){var s=Ase.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Wn.privateKeyFromPem(s.privateKey),publicKey:Wn.publicKeyFromPem(s.publicKey)}}}var a=Wn.rsa.createKeyPairGenerationState(e,t,r);if(!n)return Wn.rsa.stepKeyPairGenerationState(a,0),a.keys;dIt(a,r,n)};Wn.setRsaPublicKey=Wn.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:o(function(l,c,u){return jRe(l,c,2).getBytes()},"encode")};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:o(function(l,c){return Xr.pkcs1.encode_rsa_oaep(c,l,s)},"encode")};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:o(function(l){return l},"encode")};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return Wn.rsa.encrypt(a,r,!0)},r.verify=function(n,i,s,a){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:o(function(c,u){u=Sq(u,r,!0);var f=$e.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),m={},h=[];if(!$e.validate(f,uIt,m,h)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=h,p}var A=$e.derToOid(m.algorithmIdentifier);if(!(A===Xr.oids.md2||A===Xr.oids.md5||A===Xr.oids.sha1||A===Xr.oids.sha224||A===Xr.oids.sha256||A===Xr.oids.sha384||A===Xr.oids.sha512||A===Xr.oids["sha512-224"]||A===Xr.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=A,p}if((A===Xr.oids.md2||A===Xr.oids.md5)&&!("parameters"in m))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===m.digest},"verify")}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:o(function(c,u){return u=Sq(u,r,!0),c===u},"verify")});var l=Wn.rsa.decrypt(i,r,!0,!1);return s.verify(n,l,r.n.bitLength())},r};Wn.setRsaPrivateKey=Wn.rsa.setPrivateKey=function(e,t,r,n,i,s,a,l){var c={n:e,e:t,d:r,p:n,q:i,dP:s,dQ:a,qInv:l};return c.decrypt=function(u,f,m){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var h=Wn.rsa.decrypt(u,c,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:Sq};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:o(function(p,A){return Xr.pkcs1.decode_rsa_oaep(A,p,m)},"decode")};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:o(function(p){return p},"decode")};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(h,c,!1)},c.sign=function(u,f){var m=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:fIt},m=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:o(function(){return u},"encode")},m=1);var h=f.encode(u,c.n.bitLength());return Wn.rsa.encrypt(h,c,m)},c};Wn.wrapRsaPrivateKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$e.integerToDer(0).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,$e.oidToDer(Wn.oids.rsaEncryption).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,"")]),$e.create($e.Class.UNIVERSAL,$e.Type.OCTETSTRING,!1,$e.toDer(e).getBytes())])};Wn.privateKeyFromAsn1=function(e){var t={},r=[];if($e.validate(e,sIt,t,r)&&(e=$e.fromDer(Xr.util.createBuffer(t.privateKey))),t={},r=[],!$e.validate(e,aIt,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,a,l,c,u,f,m;return i=Xr.util.createBuffer(t.privateKeyModulus).toHex(),s=Xr.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=Xr.util.createBuffer(t.privateKeyPrivateExponent).toHex(),l=Xr.util.createBuffer(t.privateKeyPrime1).toHex(),c=Xr.util.createBuffer(t.privateKeyPrime2).toHex(),u=Xr.util.createBuffer(t.privateKeyExponent1).toHex(),f=Xr.util.createBuffer(t.privateKeyExponent2).toHex(),m=Xr.util.createBuffer(t.privateKeyCoefficient).toHex(),Wn.setRsaPrivateKey(new Gi(i,16),new Gi(s,16),new Gi(a,16),new Gi(l,16),new Gi(c,16),new Gi(u,16),new Gi(f,16),new Gi(m,16))};Wn.privateKeyToAsn1=Wn.privateKeyToRSAPrivateKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,$e.integerToDer(0).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Xp(e.n)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Xp(e.e)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Xp(e.d)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Xp(e.p)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Xp(e.q)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Xp(e.dP)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Xp(e.dQ)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Xp(e.qInv))])};Wn.publicKeyFromAsn1=function(e){var t={},r=[];if($e.validate(e,cIt,t,r)){var n=$e.derToOid(t.publicKeyOid);if(n!==Wn.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!$e.validate(e,lIt,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=Xr.util.createBuffer(t.publicKeyModulus).toHex(),a=Xr.util.createBuffer(t.publicKeyExponent).toHex();return Wn.setRsaPublicKey(new Gi(s,16),new Gi(a,16))};Wn.publicKeyToAsn1=Wn.publicKeyToSubjectPublicKeyInfo=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.OID,!1,$e.oidToDer(Wn.oids.rsaEncryption).getBytes()),$e.create($e.Class.UNIVERSAL,$e.Type.NULL,!1,"")]),$e.create($e.Class.UNIVERSAL,$e.Type.BITSTRING,!1,[Wn.publicKeyToRSAPublicKey(e)])])};Wn.publicKeyToRSAPublicKey=function(e){return $e.create($e.Class.UNIVERSAL,$e.Type.SEQUENCE,!0,[$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Xp(e.n)),$e.create($e.Class.UNIVERSAL,$e.Type.INTEGER,!1,Xp(e.e))])};function jRe(e,t,r){var n=Xr.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var a=i-3-e.length,l;if(r===0||r===1){l=r===0?0:255;for(var c=0;c<a;++c)n.putByte(l)}else for(;a>0;){for(var u=0,f=Xr.random.getBytes(a),c=0;c<a;++c)l=f.charCodeAt(c),l===0?++u:n.putByte(l);a=u}return n.putByte(0),n.putBytes(e),n}o(jRe,"_encodePkcs1_v1_5");function Sq(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),s=Xr.util.createBuffer(e),a=s.getByte(),l=s.getByte();if(a!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(l===0){c=i-3-n;for(var u=0;u<c;++u)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(c=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++c}else if(l===2)for(c=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++c}var f=s.getByte();if(f!==0||c!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}o(Sq,"_decodePkcs1_v1_5");function dIt(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){s(e.pBits,function(l,c){if(l)return r(l);if(e.p=c,e.q!==null)return a(l,e.q);s(e.qBits,a)})}o(i,"generate");function s(l,c){Xr.prime.generateProbablePrime(l,n,c)}o(s,"getPrime");function a(l,c){if(l)return r(l);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(Gi.ONE).gcd(e.e).compareTo(Gi.ONE)!==0){e.p=null,i();return}if(e.q.subtract(Gi.ONE).gcd(e.e).compareTo(Gi.ONE)!==0){e.q=null,s(e.qBits,a);return}if(e.p1=e.p.subtract(Gi.ONE),e.q1=e.q.subtract(Gi.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(Gi.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,s(e.qBits,a);return}var f=e.e.modInverse(e.phi);e.keys={privateKey:Wn.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:Wn.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}o(a,"finish")}o(dIt,"_generateKeyPair");function Xp(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=Xr.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o(Xp,"_bnToBytes");function mIt(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}o(mIt,"_getMillerRabinTests");function qRe(e){return Xr.util.isNodejs&&typeof Ase[e]=="function"}o(qRe,"_detectNodeCrypto");function WRe(e){return typeof Bd.globalScope<"u"&&typeof Bd.globalScope.crypto=="object"&&typeof Bd.globalScope.crypto.subtle=="object"&&typeof Bd.globalScope.crypto.subtle[e]=="function"}o(WRe,"_detectSubtleCrypto");function GRe(e){return typeof Bd.globalScope<"u"&&typeof Bd.globalScope.msCrypto=="object"&&typeof Bd.globalScope.msCrypto.subtle=="object"&&typeof Bd.globalScope.msCrypto.subtle[e]=="function"}o(GRe,"_detectSubtleMsCrypto");function HRe(e){for(var t=Xr.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}o(HRe,"_intToUint8Array")});var yse=V((Mjr,XRe)=>{d();var vr=ei();_y();ih();r_();Vp();ky();bq();ux();_d();cse();o_();Ji();typeof zRe>"u"&&(zRe=vr.jsbn.BigInteger);var zRe,mt=vr.asn1,Jn=vr.pki=vr.pki||{};XRe.exports=Jn.pbe=vr.pbe=vr.pbe||{};var mx=Jn.oids,hIt={name:"EncryptedPrivateKeyInfo",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},pIt={name:"PBES2Algorithms",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},gIt={name:"pkcs-12PbeParams",tagClass:mt.Class.UNIVERSAL,type:mt.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:mt.Class.UNIVERSAL,type:mt.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:mt.Class.UNIVERSAL,type:mt.Type.INTEGER,constructed:!1,capture:"iterations"}]};Jn.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=vr.random.getBytesSync(r.saltSize),i=r.count,s=mt.integerToDer(i),a,l,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,f,m;switch(r.algorithm){case"aes128":a=16,u=16,f=mx["aes128-CBC"],m=vr.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,f=mx["aes192-CBC"],m=vr.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,f=mx["aes256-CBC"],m=vr.aes.createEncryptionCipher;break;case"des":a=8,u=8,f=mx.desCBC,m=vr.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),A=JRe(p),x=vr.pkcs5.pbkdf2(t,n,i,a,A),E=vr.random.getBytesSync(u),v=m(x);v.start(E),v.update(mt.toDer(e)),v.finish(),c=v.output.getBytes();var b=AIt(n,s,a,p);l=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(mx.pkcs5PBES2).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(mx.pkcs5PBKDF2).getBytes()),b]),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(f).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,E)])])])}else if(r.algorithm==="3des"){a=24;var S=new vr.util.ByteBuffer(n),x=Jn.pbe.generatePkcs12Key(t,S,1,i,a),E=Jn.pbe.generatePkcs12Key(t,S,2,i,a),v=vr.des.createEncryptionCipher(x);v.start(E),v.update(mt.toDer(e)),v.finish(),c=v.output.getBytes(),l=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(mx["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,n),mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,s.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var B=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[l,mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,c)]);return B};Jn.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!mt.validate(e,hIt,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=mt.derToOid(n.encryptionOid),l=Jn.pbe.getCipher(a,n.encryptionParams,t),c=vr.util.createBuffer(n.encryptedData);return l.update(c),l.finish()&&(r=mt.fromDer(l.output)),r};Jn.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:mt.toDer(e).getBytes()};return vr.pem.encode(r,{maxline:t})};Jn.encryptedPrivateKeyFromPem=function(e){var t=vr.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return mt.fromDer(t.body)};Jn.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=Jn.wrapRsaPrivateKey(Jn.privateKeyToAsn1(e));return n=Jn.encryptPrivateKeyInfo(n,t,r),Jn.encryptedPrivateKeyToPem(n)}var i,s,a,l;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,s=vr.random.getBytesSync(16),l=vr.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,s=vr.random.getBytesSync(16),l=vr.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,s=vr.random.getBytesSync(16),l=vr.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,s=vr.random.getBytesSync(8),l=vr.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,s=vr.random.getBytesSync(8),l=vr.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=vr.pbe.opensslDeriveBytes(t,s.substr(0,8),a),f=l(u);f.start(s),f.update(mt.toDer(Jn.privateKeyToAsn1(e))),f.finish();var m={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:vr.util.bytesToHex(s).toUpperCase()},body:f.output.getBytes()};return vr.pem.encode(m)};Jn.decryptRsaPrivateKey=function(e,t){var r=null,n=vr.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,a;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,a=vr.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,a=vr.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,a=vr.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,a=vr.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,a=vr.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,a=o(function(m){return vr.rc2.createDecryptionCipher(m,40)},"cipherFn");break;case"RC2-64-CBC":s=8,a=o(function(m){return vr.rc2.createDecryptionCipher(m,64)},"cipherFn");break;case"RC2-128-CBC":s=16,a=o(function(m){return vr.rc2.createDecryptionCipher(m,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var l=vr.util.hexToBytes(n.dekInfo.parameters),c=vr.pbe.opensslDeriveBytes(t,l.substr(0,8),s),u=a(c);if(u.start(l),u.update(vr.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=Jn.decryptPrivateKeyInfo(mt.fromDer(r),t):r=mt.fromDer(r),r!==null&&(r=Jn.privateKeyFromAsn1(r)),r};Jn.pbe.generatePkcs12Key=function(e,t,r,n,i,s){var a,l;if(typeof s>"u"||s===null){if(!("sha1"in vr.md))throw new Error('"sha1" hash algorithm unavailable.');s=vr.md.sha1.create()}var c=s.digestLength,u=s.blockLength,f=new vr.util.ByteBuffer,m=new vr.util.ByteBuffer;if(e!=null){for(l=0;l<e.length;l++)m.putInt16(e.charCodeAt(l));m.putInt16(0)}var h=m.length(),p=t.length(),A=new vr.util.ByteBuffer;A.fillWithByte(r,u);var x=u*Math.ceil(p/u),E=new vr.util.ByteBuffer;for(l=0;l<x;l++)E.putByte(t.at(l%p));var v=u*Math.ceil(h/u),b=new vr.util.ByteBuffer;for(l=0;l<v;l++)b.putByte(m.at(l%h));var S=E;S.putBuffer(b);for(var B=Math.ceil(i/c),D=1;D<=B;D++){var F=new vr.util.ByteBuffer;F.putBytes(A.bytes()),F.putBytes(S.bytes());for(var W=0;W<n;W++)s.start(),s.update(F.getBytes()),F=s.digest();var ee=new vr.util.ByteBuffer;for(l=0;l<u;l++)ee.putByte(F.at(l%c));var de=Math.ceil(p/u)+Math.ceil(h/u),X=new vr.util.ByteBuffer;for(a=0;a<de;a++){var G=new vr.util.ByteBuffer(S.getBytes(u)),U=511;for(l=ee.length()-1;l>=0;l--)U=U>>8,U+=ee.at(l)+G.at(l),G.setAt(l,U&255);X.putBuffer(G)}S=X,f.putBuffer(F)}return f.truncate(f.length()-i),f};Jn.pbe.getCipher=function(e,t,r){switch(e){case Jn.oids.pkcs5PBES2:return Jn.pbe.getCipherForPBES2(e,t,r);case Jn.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case Jn.oids["pbewithSHAAnd40BitRC2-CBC"]:return Jn.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};Jn.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!mt.validate(t,pIt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(e=mt.derToOid(n.kdfOid),e!==Jn.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=e,s.supportedOids=["pkcs5PBKDF2"],s}if(e=mt.derToOid(n.encOid),e!==Jn.oids["aes128-CBC"]&&e!==Jn.oids["aes192-CBC"]&&e!==Jn.oids["aes256-CBC"]&&e!==Jn.oids["des-EDE3-CBC"]&&e!==Jn.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=e,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var a=n.kdfSalt,l=vr.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var c,u;switch(Jn.oids[e]){case"aes128-CBC":c=16,u=vr.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=vr.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=vr.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=vr.des.createDecryptionCipher;break;case"desCBC":c=8,u=vr.des.createDecryptionCipher;break}var f=KRe(n.prfOid),m=vr.pkcs5.pbkdf2(r,a,l,c,f),h=n.encIv,p=u(m);return p.start(h),p};Jn.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!mt.validate(t,gIt,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var a=vr.util.createBuffer(n.salt),l=vr.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var c,u,f;switch(e){case Jn.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=vr.des.startDecrypting;break;case Jn.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=o(function(x,E){var v=vr.rc2.createDecryptionCipher(x,40);return v.start(E,null),v},"cipherFn");break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=e,s}var m=KRe(n.prfOid),h=Jn.pbe.generatePkcs12Key(r,a,1,l,c,m);m.start();var p=Jn.pbe.generatePkcs12Key(r,a,2,l,u,m);return f(h,p)};Jn.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in vr.md))throw new Error('"md5" hash algorithm unavailable.');n=vr.md.md5.create()}t===null&&(t="");for(var i=[YRe(n,e+t)],s=16,a=1;s<r;++a,s+=16)i.push(YRe(n,i[a-1]+e+t));return i.join("").substr(0,r)};function YRe(e,t){return e.start().update(t).digest().getBytes()}o(YRe,"hash");function KRe(e){var t;if(!e)t="hmacWithSHA1";else if(t=Jn.oids[mt.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return JRe(t)}o(KRe,"prfOidToMessageDigest");function JRe(e){var t=vr.md;switch(e){case"hmacWithSHA224":t=vr.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o(JRe,"prfAlgorithmToMessageDigest");function AIt(e,t,r,n){var i=mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OCTETSTRING,!1,e),mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(mt.create(mt.Class.UNIVERSAL,mt.Type.INTEGER,!1,vr.util.hexToBytes(r.toString(16))),mt.create(mt.Class.UNIVERSAL,mt.Type.SEQUENCE,!0,[mt.create(mt.Class.UNIVERSAL,mt.Type.OID,!1,mt.oidToDer(Jn.oids[n]).getBytes()),mt.create(mt.Class.UNIVERSAL,mt.Type.NULL,!1,"")])),i}o(AIt,"createPbkdf2Params")});var Cse=V((qjr,tDe)=>{d();var j8=ei();ih();Ji();var xr=j8.asn1,$8=tDe.exports=j8.pkcs7asn1=j8.pkcs7asn1||{};j8.pkcs7=j8.pkcs7||{};j8.pkcs7.asn1=$8;var ZRe={name:"ContentInfo",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:xr.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};$8.contentInfoValidator=ZRe;var eDe={name:"EncryptedContentInfo",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:xr.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:xr.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};$8.envelopedDataValidator={name:"EnvelopedData",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(eDe)};$8.encryptedDataValidator={name:"EncryptedData",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"version"}].concat(eDe)};var yIt={name:"SignerInfo",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:xr.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:xr.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:xr.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};$8.signedDataValidator={name:"SignedData",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},ZRe,{name:"SignedData.Certificates",tagClass:xr.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:xr.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SET,capture:"signerInfos",optional:!0,value:[yIt]}]};$8.recipientInfoValidator={name:"RecipientInfo",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:xr.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var xse=V((Gjr,rDe)=>{d();var hx=ei();Ji();hx.mgf=hx.mgf||{};var CIt=rDe.exports=hx.mgf.mgf1=hx.mgf1=hx.mgf1||{};CIt.create=function(e){var t={generate:o(function(r,n){for(var i=new hx.util.ByteBuffer,s=Math.ceil(n/e.digestLength),a=0;a<s;a++){var l=new hx.util.ByteBuffer;l.putInt32(a),e.start(),e.update(r+l.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()},"generate")};return t}});var iDe=V((jjr,nDe)=>{d();var _q=ei();xse();nDe.exports=_q.mgf=_q.mgf||{};_q.mgf.mgf1=_q.mgf1});var kq=V((zjr,oDe)=>{d();var px=ei();_d();Ji();var xIt=oDe.exports=px.pss=px.pss||{};xIt.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=px.util.createBuffer(i));var s;if("saltLength"in e)s=e.saltLength;else if(i!==null)s=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==s)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||px.random,l={};return l.encode=function(c,u){var f,m=u-1,h=Math.ceil(m/8),p=c.digest().getBytes();if(h<n+s+2)throw new Error("Message is too long to encrypt.");var A;i===null?A=a.getBytesSync(s):A=i.bytes();var x=new px.util.ByteBuffer;x.fillWithByte(0,8),x.putBytes(p),x.putBytes(A),t.start(),t.update(x.getBytes());var E=t.digest().getBytes(),v=new px.util.ByteBuffer;v.fillWithByte(0,h-s-n-2),v.putByte(1),v.putBytes(A);var b=v.getBytes(),S=h-n-1,B=r.generate(E,S),D="";for(f=0;f<S;f++)D+=String.fromCharCode(b.charCodeAt(f)^B.charCodeAt(f));var F=65280>>8*h-m&255;return D=String.fromCharCode(D.charCodeAt(0)&~F)+D.substr(1),D+E+"\xBC"},l.verify=function(c,u,f){var m,h=f-1,p=Math.ceil(h/8);if(u=u.substr(-p),p<n+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var A=p-n-1,x=u.substr(0,A),E=u.substr(A,n),v=65280>>8*p-h&255;if((x.charCodeAt(0)&v)!==0)throw new Error("Bits beyond keysize not zero as expected.");var b=r.generate(E,A),S="";for(m=0;m<A;m++)S+=String.fromCharCode(x.charCodeAt(m)^b.charCodeAt(m));S=String.fromCharCode(S.charCodeAt(0)&~v)+S.substr(1);var B=p-n-s-2;for(m=0;m<B;m++)if(S.charCodeAt(m)!==0)throw new Error("Leftmost octets not zero as expected");if(S.charCodeAt(B)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var D=S.substr(-s),F=new px.util.ByteBuffer;F.fillWithByte(0,8),F.putBytes(c),F.putBytes(D),t.start(),t.update(F.getBytes());var W=t.digest().getBytes();return E===W},l}});var Dq=V((Kjr,uDe)=>{d();var Zr=ei();_y();ih();r_();Vp();iDe();ky();ux();kq();o_();Ji();var $=Zr.asn1,rr=uDe.exports=Zr.pki=Zr.pki||{},Hi=rr.oids,Zs={};Zs.CN=Hi.commonName;Zs.commonName="CN";Zs.C=Hi.countryName;Zs.countryName="C";Zs.L=Hi.localityName;Zs.localityName="L";Zs.ST=Hi.stateOrProvinceName;Zs.stateOrProvinceName="ST";Zs.O=Hi.organizationName;Zs.organizationName="O";Zs.OU=Hi.organizationalUnitName;Zs.organizationalUnitName="OU";Zs.E=Hi.emailAddress;Zs.emailAddress="E";var aDe=Zr.pki.rsa.publicKeyValidator,EIt={name:"Certificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},aDe,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},bIt={name:"rsapss",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},vIt={name:"CertificationRequestInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},aDe,{name:"CertificationRequestInfo.attributes",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:$.Class.UNIVERSAL,type:$.Type.SET,constructed:!0}]}]}]},IIt={name:"CertificationRequest",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[vIt,{name:"CertificationRequest.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};rr.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,s,a=0;a<e.value.length;++a){n=e.value[a];for(var l=0;l<n.value.length;++l)s={},i=n.value[l],s.type=$.derToOid(i.value[0].value),s.value=i.value[1].value,s.valueTagClass=i.value[1].type,s.type in Hi&&(s.name=Hi[s.type],s.name in Zs&&(s.shortName=Zs[s.name])),t&&(t.update(s.type),t.update(s.value)),r.push(s)}return r};rr.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=$.derToOid(n.value[0].value),s=n.value[1].value,a=0;a<s.length;++a){var l={};if(l.type=i,l.value=s[a].value,l.valueTagClass=s[a].type,l.type in Hi&&(l.name=Hi[l.type],l.name in Zs&&(l.shortName=Zs[l.name])),l.type===Hi.extensionRequest){l.extensions=[];for(var c=0;c<l.value.length;++c)l.extensions.push(rr.certificateExtensionFromAsn1(l.value[c]))}t.push(l)}return t};function Dy(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o(Dy,"_getAttribute");var Bq=o(function(e,t,r){var n={};if(e!==Hi["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Hi.sha1},mgf:{algorithmOid:Hi.mgf1,hash:{algorithmOid:Hi.sha1}},saltLength:20});var i={},s=[];if(!$.validate(t,bIt,i,s)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=s,a}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=$.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=$.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=$.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),Rq=o(function(e){switch(Hi[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return Zr.md.sha1.create();case"md5WithRSAEncryption":return Zr.md.md5.create();case"sha256WithRSAEncryption":return Zr.md.sha256.create();case"sha384WithRSAEncryption":return Zr.md.sha384.create();case"sha512WithRSAEncryption":return Zr.md.sha512.create();case"RSASSA-PSS":return Zr.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),lDe=o(function(e){var t=e.certificate,r;switch(t.signatureOid){case Hi.sha1WithRSAEncryption:case Hi.sha1WithRSASignature:break;case Hi["RSASSA-PSS"]:var n,i;if(n=Hi[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||Zr.md[n]===void 0){var s=new Error("Unsupported MGF hash function.");throw s.oid=t.signatureParameters.mgf.hash.algorithmOid,s.name=n,s}if(i=Hi[t.signatureParameters.mgf.algorithmOid],i===void 0||Zr.mgf[i]===void 0){var s=new Error("Unsupported MGF function.");throw s.oid=t.signatureParameters.mgf.algorithmOid,s.name=i,s}if(i=Zr.mgf[i].create(Zr.md[n].create()),n=Hi[t.signatureParameters.hash.algorithmOid],n===void 0||Zr.md[n]===void 0){var s=new Error("Unsupported RSASSA-PSS hash function.");throw s.oid=t.signatureParameters.hash.algorithmOid,s.name=n,s}r=Zr.pss.create(Zr.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");rr.certificateFromPem=function(e,t,r){var n=Zr.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=$.fromDer(n.body,r);return rr.certificateFromAsn1(s,t)};rr.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:$.toDer(rr.certificateToAsn1(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};rr.publicKeyFromPem=function(e){var t=Zr.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=$.fromDer(t.body);return rr.publicKeyFromAsn1(n)};rr.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:$.toDer(rr.publicKeyToAsn1(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};rr.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:$.toDer(rr.publicKeyToRSAPublicKey(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};rr.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Zr.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=$.toDer(rr.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=$.toDer(rr.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var s=r.digest();if(t.encoding==="hex"){var a=s.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};rr.certificationRequestFromPem=function(e,t,r){var n=Zr.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=$.fromDer(n.body,r);return rr.certificationRequestFromAsn1(s,t)};rr.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:$.toDer(rr.certificationRequestToAsn1(e)).getBytes()};return Zr.pem.encode(r,{maxline:t})};rr.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return Dy(e.issuer,t)},e.issuer.addField=function(t){Rd([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return Dy(e.subject,t)},e.subject.addField=function(t){Rd([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){Rd(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){Rd(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)cDe(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||Zr.md.sha1.create();var n=Hi[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=rr.getTBSCertificate(e);var s=$.toDer(e.tbsCertificate);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=i.attributes,s.actualIssuer=n.attributes,s}var a=t.md;if(a===null){a=Rq({signatureOid:t.signatureOid,type:"certificate"});var l=t.tbsCertificate||rr.getTBSCertificate(t),c=$.toDer(l);a.update(c.getBytes())}return a!==null&&(r=lDe({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var s,a,l=0;r&&l<n.attributes.length;++l)s=n.attributes[l],a=i.attributes[l],(s.type!==a.type||s.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return rr.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Hi.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return Zr.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};rr.certificateFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,EIt,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var s=$.derToOid(r.publicKeyOid);if(s!==rr.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=rr.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=Zr.util.createBuffer(r.certSerialNumber);a.serialNumber=l.toHex(),a.signatureOid=Zr.asn1.derToOid(r.certSignatureOid),a.signatureParameters=Bq(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=Zr.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=Bq(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=c[0],a.validity.notAfter=c[1],a.tbsCertificate=r.tbsCertificate,t){a.md=Rq({signatureOid:a.signatureOid,type:"certificate"});var u=$.toDer(a.tbsCertificate);a.md.update(u.getBytes())}var f=Zr.md.sha1.create(),m=$.toDer(r.certIssuer);f.update(m.getBytes()),a.issuer.getField=function(A){return Dy(a.issuer,A)},a.issuer.addField=function(A){Rd([A]),a.issuer.attributes.push(A)},a.issuer.attributes=rr.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=f.digest().toHex();var h=Zr.md.sha1.create(),p=$.toDer(r.certSubject);return h.update(p.getBytes()),a.subject.getField=function(A){return Dy(a.subject,A)},a.subject.addField=function(A){Rd([A]),a.subject.attributes.push(A)},a.subject.attributes=rr.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=h.digest().toHex(),r.certExtensions?a.extensions=rr.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=rr.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};rr.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(rr.certificateExtensionFromAsn1(n.value[i]));return t};rr.certificateExtensionFromAsn1=function(e){var t={};if(t.id=$.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===$.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Hi){if(t.name=Hi[t.id],t.name==="keyUsage"){var r=$.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=$.fromDer(t.value);r.value.length>0&&r.value[0].type===$.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var s=null;r.value.length>0&&r.value[0].type===$.Type.INTEGER?s=r.value[0].value:r.value.length>1&&(s=r.value[1].value),s!==null&&(t.pathLenConstraint=$.derToInteger(s))}else if(t.name==="extKeyUsage")for(var r=$.fromDer(t.value),a=0;a<r.value.length;++a){var l=$.derToOid(r.value[a].value);l in Hi?t[Hi[l]]=!0:t[l]=!0}else if(t.name==="nsCertType"){var r=$.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=$.fromDer(t.value),u=0;u<r.value.length;++u){c=r.value[u];var f={type:c.type,value:c.value};switch(t.altNames.push(f),c.type){case 1:case 2:case 6:break;case 7:f.ip=Zr.util.bytesToIP(c.value);break;case 8:f.oid=$.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=$.fromDer(t.value);t.subjectKeyIdentifier=Zr.util.bytesToHex(r.value)}}return t};rr.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,IIt,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var s=$.derToOid(r.publicKeyOid);if(s!==rr.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=rr.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=Zr.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=Bq(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=Zr.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=Bq(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=Rq({signatureOid:a.signatureOid,type:"certification request"});var l=$.toDer(a.certificationRequestInfo);a.md.update(l.getBytes())}var c=Zr.md.sha1.create();return a.subject.getField=function(u){return Dy(a.subject,u)},a.subject.addField=function(u){Rd([u]),a.subject.attributes.push(u)},a.subject.attributes=rr.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),a.subject.hash=c.digest().toHex(),a.publicKey=rr.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(u){return Dy(a,u)},a.addAttribute=function(u){Rd([u]),a.attributes.push(u)},a.attributes=rr.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};rr.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return Dy(e.subject,t)},e.subject.addField=function(t){Rd([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return Dy(e,t)},e.addAttribute=function(t){Rd([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){Rd(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){Rd(t),e.attributes=t},e.sign=function(t,r){e.md=r||Zr.md.sha1.create();var n=Hi[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=rr.getCertificationRequestInfo(e);var s=$.toDer(e.certificationRequestInfo);e.md.update(s.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=Rq({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||rr.getCertificationRequestInfo(e),i=$.toDer(n);r.update(i.getBytes())}return r!==null&&(t=lDe({certificate:e,md:r,signature:e.signature})),t},e};function z8(e){for(var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,s=0;s<i.length;++s){r=i[s];var a=r.value,l=$.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===$.Type.UTF8&&(a=Zr.util.encodeUtf8(a))),n=$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(r.type).getBytes()),$.create($.Class.UNIVERSAL,l,!1,a)])]),t.value.push(n)}return t}o(z8,"_dnToAsn1");function Rd(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in rr.oids?t.name=rr.oids[t.type]:t.shortName&&t.shortName in Zs&&(t.name=rr.oids[Zs[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in rr.oids)t.type=rr.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in Zs&&(t.shortName=Zs[t.name]),t.type===Hi.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=$.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(rr.certificateExtensionToAsn1(cDe(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}o(Rd,"_fillMissingFields");function cDe(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in rr.oids&&(e.name=rr.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in rr.oids)e.id=rr.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,s=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(s|=128,n=7);var a=String.fromCharCode(n);s!==0?a+=String.fromCharCode(i)+String.fromCharCode(s):i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var c in e)e[c]===!0&&(c in Hi?l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(Hi[c]).getBytes())):c.indexOf(".")!==-1&&l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var a=String.fromCharCode(n);i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=Zr.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));e.value.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=$.create($.Class.UNIVERSAL,$.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var m=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=m.toHex(),e.value=$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,m.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;if(e.keyIdentifier){var h=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push($.create($.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var p=[$.create($.Class.CONTEXT_SPECIFIC,4,!0,[z8(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];l.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,p))}if(e.serialNumber){var A=Zr.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);l.push($.create($.Class.CONTEXT_SPECIFIC,2,!1,A))}}else if(e.name==="cRLDistributionPoints"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var l=e.value.value,x=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),E=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]),u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=Zr.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));E.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}x.value.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[E])),l.push(x)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}o(cDe,"_fillMissingExtensionFields");function Ese(e,t){switch(e){case Hi["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(t.saltLength).getBytes())])),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,r);default:return $.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")}}o(Ese,"_signatureParametersToAsn1");function TIt(e){var t=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],s=i.value,a=$.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===$.Type.UTF8&&(s=Zr.util.encodeUtf8(s));var l=!1;"valueConstructed"in i&&(l=i.valueConstructed);var c=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(i.type).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,a,l,s)])]);t.value.push(c)}return t}o(TIt,"_CRIAttributesToAsn1");var wIt=new Date("1950-01-01T00:00:00Z"),SIt=new Date("2050-01-01T00:00:00Z");function sDe(e){return e>=wIt&&e<SIt?$.create($.Class.UNIVERSAL,$.Type.UTCTIME,!1,$.dateToUtcTime(e)):$.create($.Class.UNIVERSAL,$.Type.GENERALIZEDTIME,!1,$.dateToGeneralizedTime(e))}o(sDe,"_dateToAsn1");rr.getTBSCertificate=function(e){var t=sDe(e.validity.notBefore),r=sDe(e.validity.notAfter),n=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes())]),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,Zr.util.hexToBytes(e.serialNumber)),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.siginfo.algorithmOid).getBytes()),Ese(e.siginfo.algorithmOid,e.siginfo.parameters)]),z8(e.issuer),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,r]),z8(e.subject),rr.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(rr.certificateExtensionsToAsn1(e.extensions)),n};rr.getCertificationRequestInfo=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes()),z8(e.subject),rr.publicKeyToAsn1(e.publicKey),TIt(e)]);return t};rr.distinguishedNameToAsn1=function(e){return z8(e)};rr.certificateToAsn1=function(e){var t=e.tbsCertificate||rr.getTBSCertificate(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),Ese(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};rr.certificateExtensionsToAsn1=function(e){var t=$.create($.Class.CONTEXT_SPECIFIC,3,!0,[]),r=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(rr.certificateExtensionToAsn1(e[n]));return t};rr.certificateExtensionToAsn1=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.id).getBytes())),e.critical&&t.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=$.toDer(r).getBytes()),t.value.push($.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,r)),t};rr.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||rr.getCertificationRequestInfo(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),Ese(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};rr.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var l=r(a.issuer);return l},t.addCertificate=function(a){if(typeof a=="string"&&(a=Zr.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var l=t.certs[a.subject.hash];Zr.util.isArray(l)||(l=[l]),l.push(a),t.certs[a.subject.hash]=l}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=Zr.pki.certificateFromPem(a));var l=r(a.subject);if(!l)return!1;Zr.util.isArray(l)||(l=[l]);for(var c=$.toDer(rr.certificateToAsn1(a)).getBytes(),u=0;u<l.length;++u){var f=$.toDer(rr.certificateToAsn1(l[u])).getBytes();if(c===f)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var l in t.certs)if(t.certs.hasOwnProperty(l)){var c=t.certs[l];if(!Zr.util.isArray(c))a.push(c);else for(var u=0;u<c.length;++u)a.push(c[u])}return a},t.removeCertificate=function(a){var l;if(typeof a=="string"&&(a=Zr.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var c=r(a.subject);if(!Zr.util.isArray(c))return l=t.certs[a.subject.hash],delete t.certs[a.subject.hash],l;for(var u=$.toDer(rr.certificateToAsn1(a)).getBytes(),f=0;f<c.length;++f){var m=$.toDer(rr.certificateToAsn1(c[f])).getBytes();u===m&&(l=c[f],c.splice(f,1))}return c.length===0&&delete t.certs[a.subject.hash],l};function r(a){return n(a),t.certs[a.hash]||null}o(r,"getBySubject");function n(a){if(!a.hash){var l=Zr.md.sha1.create();a.attributes=rr.RDNAttributesAsArray(z8(a),l),a.hash=l.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),e)for(var i=0;i<e.length;++i){var s=e[i];t.addCertificate(s)}return t};rr.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};rr.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var s=!0,a=null,l=0;do{var c=t.shift(),u=null,f=!1;if(i&&(i<c.validity.notBefore||i>c.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:rr.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}),a===null){if(u=t[0]||e.getIssuer(c),u===null&&c.isIssuer(c)&&(f=!0,u=c),u){var m=u;Zr.util.isArray(m)||(m=[m]);for(var h=!1;!h&&m.length>0;){u=m.shift();try{h=u.verify(c)}catch{}}h||(a={message:"Certificate signature is invalid.",error:rr.certificateError.bad_certificate})}a===null&&(!u||f)&&!e.hasCertificate(c)&&(a={message:"Certificate is not trusted.",error:rr.certificateError.unknown_ca})}if(a===null&&u&&!c.isIssuer(u)&&(a={message:"Certificate issuer is invalid.",error:rr.certificateError.bad_certificate}),a===null)for(var p={keyUsage:!0,basicConstraints:!0},A=0;a===null&&A<c.extensions.length;++A){var x=c.extensions[A];x.critical&&!(x.name in p)&&(a={message:"Certificate has an unsupported critical extension.",error:rr.certificateError.unsupported_certificate})}if(a===null&&(!s||t.length===0&&(!u||f))){var E=c.getExtension("basicConstraints"),v=c.getExtension("keyUsage");if(v!==null&&(!v.keyCertSign||E===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:rr.certificateError.bad_certificate}),a===null&&E!==null&&!E.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:rr.certificateError.bad_certificate}),a===null&&v!==null&&"pathLenConstraint"in E){var b=l-1;b>E.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:rr.certificateError.bad_certificate})}}var S=a===null?!0:a.error,B=r.verify?r.verify(S,l,n):S;if(B===!0)a=null;else throw S===!0&&(a={message:"The application rejected the certificate.",error:rr.certificateError.bad_certificate}),(B||B===0)&&(typeof B=="object"&&!Zr.util.isArray(B)?(B.message&&(a.message=B.message),B.error&&(a.error=B.error)):typeof B=="string"&&(a.error=B)),a;s=!1,++l}while(t.length>0);return!0}});var vse=V((Zjr,dDe)=>{d();var qo=ei();ih();q8();ky();Cse();yse();_d();o_();V8();Ji();Dq();var we=qo.asn1,yi=qo.pki,a_=dDe.exports=qo.pkcs12=qo.pkcs12||{},fDe={name:"ContentInfo",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},_It={name:"PFX",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:we.Class.UNIVERSAL,type:we.Type.INTEGER,constructed:!1,capture:"version"},fDe,{name:"PFX.macData",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:we.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:we.Class.UNIVERSAL,type:we.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:we.Class.UNIVERSAL,type:we.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:we.Class.UNIVERSAL,type:we.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},kIt={name:"SafeBag",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:we.Class.UNIVERSAL,type:we.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},BIt={name:"Attribute",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:we.Class.UNIVERSAL,type:we.Type.SET,constructed:!0,capture:"values"}]},RIt={name:"CertBag",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:we.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:we.Class.UNIVERSAL,type:we.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function s_(e,t,r,n){for(var i=[],s=0;s<e.length;s++)for(var a=0;a<e[s].safeBags.length;a++){var l=e[s].safeBags[a];if(!(n!==void 0&&l.type!==n)){if(t===null){i.push(l);continue}l.attributes[t]!==void 0&&l.attributes[t].indexOf(r)>=0&&i.push(l)}}return i}o(s_,"_getBagsByAttribute");a_.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!we.validate(e,_It,n,i)){var s=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw s.errors=s,s}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:o(function(E){var v={},b;return"localKeyId"in E?b=E.localKeyId:"localKeyIdHex"in E&&(b=qo.util.hexToBytes(E.localKeyIdHex)),b===void 0&&!("friendlyName"in E)&&"bagType"in E&&(v[E.bagType]=s_(a.safeContents,null,null,E.bagType)),b!==void 0&&(v.localKeyId=s_(a.safeContents,"localKeyId",b,E.bagType)),"friendlyName"in E&&(v.friendlyName=s_(a.safeContents,"friendlyName",E.friendlyName,E.bagType)),v},"getBags"),getBagsByFriendlyName:o(function(E,v){return s_(a.safeContents,"friendlyName",E,v)},"getBagsByFriendlyName"),getBagsByLocalKeyId:o(function(E,v){return s_(a.safeContents,"localKeyId",E,v)},"getBagsByLocalKeyId")};if(n.version.charCodeAt(0)!==3){var s=new Error("PKCS#12 PFX of version other than 3 not supported.");throw s.version=n.version.charCodeAt(0),s}if(we.derToOid(n.contentType)!==yi.oids.data){var s=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw s.oid=we.derToOid(n.contentType),s}var l=n.content.value[0];if(l.tagClass!==we.Class.UNIVERSAL||l.type!==we.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=bse(l),n.mac){var c=null,u=0,f=we.derToOid(n.macAlgorithm);switch(f){case yi.oids.sha1:c=qo.md.sha1.create(),u=20;break;case yi.oids.sha256:c=qo.md.sha256.create(),u=32;break;case yi.oids.sha384:c=qo.md.sha384.create(),u=48;break;case yi.oids.sha512:c=qo.md.sha512.create(),u=64;break;case yi.oids.md5:c=qo.md.md5.create(),u=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+f);var m=new qo.util.ByteBuffer(n.macSalt),h="macIterations"in n?parseInt(qo.util.bytesToHex(n.macIterations),16):1,p=a_.generateKey(r,m,3,h,u,c),A=qo.hmac.create();A.start(c,p),A.update(l.value);var x=A.getMac();if(x.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return DIt(a,l.value,t,r),a};function bse(e){if(e.composed||e.constructed){for(var t=qo.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}o(bse,"_decodePkcs7Data");function DIt(e,t,r,n){if(t=we.fromDer(t,r),t.tagClass!==we.Class.UNIVERSAL||t.type!==we.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var s=t.value[i],a={},l=[];if(!we.validate(s,fDe,a,l)){var c=new Error("Cannot read ContentInfo.");throw c.errors=l,c}var u={encrypted:!1},f=null,m=a.content.value[0];switch(we.derToOid(a.contentType)){case yi.oids.data:if(m.tagClass!==we.Class.UNIVERSAL||m.type!==we.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");f=bse(m).value;break;case yi.oids.encryptedData:f=PIt(m,n),u.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=we.derToOid(a.contentType),c}u.safeBags=FIt(f,r,n),e.safeContents.push(u)}}o(DIt,"_decodeAuthenticatedSafe");function PIt(e,t){var r={},n=[];if(!we.validate(e,qo.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var s=we.derToOid(r.contentType);if(s!==yi.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=s,i}s=we.derToOid(r.encAlgorithm);var a=yi.pbe.getCipher(s,r.encParameter,t),l=bse(r.encryptedContentAsn1),c=qo.util.createBuffer(l.value);if(a.update(c),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}o(PIt,"_decryptSafeContents");function FIt(e,t,r){if(!t&&e.length===0)return[];if(e=we.fromDer(e,t),e.tagClass!==we.Class.UNIVERSAL||e.type!==we.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var s=e.value[i],a={},l=[];if(!we.validate(s,kIt,a,l)){var c=new Error("Cannot read SafeBag.");throw c.errors=l,c}var u={type:we.derToOid(a.bagId),attributes:NIt(a.bagAttributes)};n.push(u);var f,m,h=a.bagValue.value[0];switch(u.type){case yi.oids.pkcs8ShroudedKeyBag:if(h=yi.decryptPrivateKeyInfo(h,r),h===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case yi.oids.keyBag:try{u.key=yi.privateKeyFromAsn1(h)}catch{u.key=null,u.asn1=h}continue;case yi.oids.certBag:f=RIt,m=o(function(){if(we.derToOid(a.certId)!==yi.oids.x509Certificate){var A=new Error("Unsupported certificate type, only X.509 supported.");throw A.oid=we.derToOid(a.certId),A}var x=we.fromDer(a.cert,t);try{u.cert=yi.certificateFromAsn1(x,!0)}catch{u.cert=null,u.asn1=x}},"decoder");break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=u.type,c}if(f!==void 0&&!we.validate(h,f,a,l)){var c=new Error("Cannot read PKCS#12 "+f.name);throw c.errors=l,c}m()}return n}o(FIt,"_decodeSafeContents");function NIt(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!we.validate(e[r],BIt,n,i)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=i,s}var a=we.derToOid(n.oid);if(yi.oids[a]!==void 0){t[yi.oids[a]]=[];for(var l=0;l<n.values.length;++l)t[yi.oids[a]].push(n.values[l].value)}}return t}o(NIt,"_decodeBagAttributes");a_.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,s;if(i!==null)i=qo.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var a=qo.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=yi.certificateFromPem(a));var l=qo.md.sha1.create();l.update(we.toDer(yi.certificateToAsn1(a)).getBytes()),i=l.digest().getBytes()}else i=qo.random.getBytes(20);var c=[];i!==null&&c.push(we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.localKeyId).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SET,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&c.push(we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.friendlyName).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SET,!0,[we.create(we.Class.UNIVERSAL,we.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(s=we.create(we.Class.UNIVERSAL,we.Type.SET,!0,c));var u=[],f=[];t!==null&&(qo.util.isArray(t)?f=t:f=[t]);for(var m=[],h=0;h<f.length;++h){t=f[h],typeof t=="string"&&(t=yi.certificateFromPem(t));var p=h===0?s:void 0,A=yi.certificateToAsn1(t),x=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.certBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.x509Certificate).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(A).getBytes())])])]),p]);m.push(x)}if(m.length>0){var E=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,m),v=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(E).getBytes())])]);u.push(v)}var b=null;if(e!==null){var S=yi.wrapRsaPrivateKey(yi.privateKeyToAsn1(e));r===null?b=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.keyBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[S]),s]):b=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.pkcs8ShroudedKeyBag).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[yi.encryptPrivateKeyInfo(S,r,n)]),s]);var B=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[b]),D=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(B).getBytes())])]);u.push(D)}var F=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,u),W;if(n.useMac){var l=qo.md.sha1.create(),ee=new qo.util.ByteBuffer(qo.random.getBytes(n.saltSize)),de=n.count,e=a_.generateKey(r,ee,3,de,20),X=qo.hmac.create();X.start(l,e),X.update(we.toDer(F).getBytes());var G=X.getMac();W=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.sha1).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.NULL,!1,"")]),we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,G.getBytes())]),we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,ee.getBytes()),we.create(we.Class.UNIVERSAL,we.Type.INTEGER,!1,we.integerToDer(de).getBytes())])}return we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.INTEGER,!1,we.integerToDer(3).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(yi.oids.data).getBytes()),we.create(we.Class.CONTEXT_SPECIFIC,0,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,we.toDer(F).getBytes())])]),W])};a_.generateKey=qo.pbe.generatePkcs12Key});var Tse=V((r$r,mDe)=>{d();var Py=ei();ih();ky();yse();ux();bq();vse();kq();o_();Ji();Dq();var Ise=Py.asn1,Y8=mDe.exports=Py.pki=Py.pki||{};Y8.pemToDer=function(e){var t=Py.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return Py.util.createBuffer(t.body)};Y8.privateKeyFromPem=function(e){var t=Py.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=Ise.fromDer(t.body);return Y8.privateKeyFromAsn1(n)};Y8.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:Ise.toDer(Y8.privateKeyToAsn1(e)).getBytes()};return Py.pem.encode(r,{maxline:t})};Y8.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:Ise.toDer(e).getBytes()};return Py.pem.encode(r,{maxline:t})}});var Rse=V((i$r,EDe)=>{d();var Bt=ei();ih();q8();yq();ux();Tse();_d();V8();Ji();var Lq=o(function(e,t,r,n){var i=Bt.util.createBuffer(),s=e.length>>1,a=s+(e.length&1),l=e.substr(0,a),c=e.substr(s,a),u=Bt.util.createBuffer(),f=Bt.hmac.create();r=t+r;var m=Math.ceil(n/16),h=Math.ceil(n/20);f.start("MD5",l);var p=Bt.util.createBuffer();u.putBytes(r);for(var A=0;A<m;++A)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),p.putBuffer(f.digest());f.start("SHA1",c);var x=Bt.util.createBuffer();u.clear(),u.putBytes(r);for(var A=0;A<h;++A)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),x.putBuffer(f.digest());return i.putBytes(Bt.util.xorBytes(p.getBytes(),x.getBytes(),n)),i},"prf_TLS1"),LIt=o(function(e,t,r){var n=Bt.hmac.create();n.start("SHA1",e);var i=Bt.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},"hmac_sha1"),QIt=o(function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=Bt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"deflate"),MIt=o(function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=Bt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"inflate"),sf=o(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return Bt.util.createBuffer(e.getBytes(r))},"readVector"),Dd=o(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),te={};te.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};te.SupportedVersions=[te.Versions.TLS_1_1,te.Versions.TLS_1_0];te.Version=te.SupportedVersions[0];te.MaxFragment=15360;te.ConnectionEnd={server:0,client:1};te.PRFAlgorithm={tls_prf_sha256:0};te.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};te.CipherType={stream:0,block:1,aead:2};te.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};te.CompressionMethod={none:0,deflate:1};te.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};te.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};te.Alert={};te.Alert.Level={warning:1,fatal:2};te.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};te.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};te.CipherSuites={};te.getCipherSuite=function(e){var t=null;for(var r in te.CipherSuites){var n=te.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};te.handleUnexpected=function(e,t){var r=!e.open&&e.entity===te.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.unexpected_message}})};te.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(te.queue(e,te.createAlert(e,{level:te.Alert.Level.warning,description:te.Alert.Description.no_renegotiation})),te.flush(e)),e.process()};te.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===te.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.illegal_parameter}});else{var s=t.fragment,a=s.length();if(n={version:{major:s.getByte(),minor:s.getByte()},random:Bt.util.createBuffer(s.getBytes(32)),session_id:sf(s,1),extensions:[]},i?(n.cipher_suite=s.getBytes(2),n.compression_method=s.getByte()):(n.cipher_suites=sf(s,2),n.compression_methods=sf(s,1)),a=r-(a-s.length()),a>0){for(var l=sf(s,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:sf(l,2)});if(!i)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(u.type[0]===0&&u.type[1]===0)for(var f=sf(u.data,2);f.length()>0;){var m=f.getByte();if(m!==0)break;e.session.extensions.server_name.serverNameList.push(sf(f,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=te.getCipherSuite(n.cipher_suite);else for(var h=Bt.util.createBuffer(n.cipher_suites.bytes());h.length()>0&&(e.session.cipherSuite=te.getCipherSuite(h.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.handshake_failure},cipherSuite:Bt.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=te.CompressionMethod.none}return n};te.createSecurityParameters=function(e,t){var r=e.entity===te.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,s=r?n:te.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:te.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:s}};te.handleServerHello=function(e,t,r){var n=te.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=gDe,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=UIt,e.session.resuming=!1,te.createSecurityParameters(e,n)),e.session.id=i,e.process()}};te.handleClientHello=function(e,t,r){var n=te.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),s=null;if(e.sessionCache&&(s=e.sessionCache.getSession(i),s===null?i="":(s.version.major!==n.version.major||s.version.minor>n.version.minor)&&(s=null,i="")),i.length===0&&(i=Bt.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},s)e.version=e.session.version=s.version,e.session.sp=s.sp;else{for(var a,l=1;l<te.SupportedVersions.length&&(a=te.SupportedVersions[l],!(a.minor<=n.version.minor));++l);e.version={major:a.major,minor:a.minor},e.session.version=e.version}s!==null?(e.expect=kse,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?$It:_se,e.session.resuming=!1,te.createSecurityParameters(e,n)),e.open=!0,te.queue(e,te.createRecord(e,{type:te.ContentType.handshake,data:te.createServerHello(e)})),e.session.resuming?(te.queue(e,te.createRecord(e,{type:te.ContentType.change_cipher_spec,data:te.createChangeCipherSpec()})),e.state.pending=te.createConnectionState(e),e.state.current.write=e.state.pending.write,te.queue(e,te.createRecord(e,{type:te.ContentType.handshake,data:te.createFinished(e)}))):(te.queue(e,te.createRecord(e,{type:te.ContentType.handshake,data:te.createCertificate(e)})),e.fail||(te.queue(e,te.createRecord(e,{type:te.ContentType.handshake,data:te.createServerKeyExchange(e)})),e.verifyClient!==!1&&te.queue(e,te.createRecord(e,{type:te.ContentType.handshake,data:te.createCertificateRequest(e)})),te.queue(e,te.createRecord(e,{type:te.ContentType.handshake,data:te.createServerHelloDone(e)})))),te.flush(e),e.process()}};te.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:sf(n,3)},s,a,l=[];try{for(;i.certificate_list.length()>0;)s=sf(i.certificate_list,3),a=Bt.asn1.fromDer(s),s=Bt.pki.certificateFromAsn1(a,!0),l.push(s)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.bad_certificate}})}var c=e.entity===te.ConnectionEnd.client;(c||e.verifyClient===!0)&&l.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.illegal_parameter}}):l.length===0?e.expect=c?hDe:_se:(c?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],te.verifyCertificateChain(e,l)&&(e.expect=c?hDe:_se)),e.process()};te.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.unsupported_certificate}});e.expect=qIt,e.process()};te.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:sf(n,2).getBytes()},s=null;if(e.getPrivateKey)try{s=e.getPrivateKey(e,e.session.serverCertificate),s=Bt.pki.privateKeyFromPem(s)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.internal_error}})}if(s===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=s.decrypt(i.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==a.pre_master_secret.charCodeAt(0)||l.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=Bt.random.getBytes(48)}e.expect=kse,e.session.clientCertificate!==null&&(e.expect=zIt),e.process()};te.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:sf(n,1),certificate_authorities:sf(n,2)};e.session.certificateRequest=i,e.expect=WIt,e.process()};te.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s={signature:sf(n,2).getBytes()},a=Bt.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var l=e.session.clientCertificate;if(!l.publicKey.verify(a,s.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.handshake_failure}})}e.expect=kse,e.process()};te.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.insufficient_security}},i=0,s=e.verify(e,n.alert.description,i,[]);if(s!==!0)return(s||s===0)&&(typeof s=="object"&&!Bt.util.isArray(s)?(s.message&&(n.message=s.message),s.alert&&(n.alert.description=s.alert)):typeof s=="number"&&(n.alert.description=s)),e.error(e,n)}e.session.certificateRequest!==null&&(t=te.createRecord(e,{type:te.ContentType.handshake,data:te.createCertificate(e)}),te.queue(e,t)),t=te.createRecord(e,{type:te.ContentType.handshake,data:te.createClientKeyExchange(e)}),te.queue(e,t),e.expect=VIt;var a=o(function(l,c){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&te.queue(l,te.createRecord(l,{type:te.ContentType.handshake,data:te.createCertificateVerify(l,c)})),te.queue(l,te.createRecord(l,{type:te.ContentType.change_cipher_spec,data:te.createChangeCipherSpec()})),l.state.pending=te.createConnectionState(l),l.state.current.write=l.state.pending.write,te.queue(l,te.createRecord(l,{type:te.ContentType.handshake,data:te.createFinished(l)})),l.expect=gDe,te.flush(l),l.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);te.getClientSignature(e,a)};te.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.illegal_parameter}});var r=e.entity===te.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=te.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?GIt:YIt,e.process()};te.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var s=t.fragment.getBytes();n=Bt.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===te.ConnectionEnd.client,l=a?"server finished":"client finished",c=e.session.sp,u=12,f=Lq;if(n=f(c.master_secret,l,n.getBytes(),u),n.getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&a||!e.session.resuming&&!a)&&(te.queue(e,te.createRecord(e,{type:te.ContentType.change_cipher_spec,data:te.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,te.queue(e,te.createRecord(e,{type:te.ContentType.handshake,data:te.createFinished(e)}))),e.expect=a?HIt:KIt,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,te.flush(e),e.isConnected=!0,e.connected(e),e.process()};te.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case te.Alert.Description.close_notify:i="Connection closed.";break;case te.Alert.Description.unexpected_message:i="Unexpected message.";break;case te.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case te.Alert.Description.decryption_failed:i="Decryption failed.";break;case te.Alert.Description.record_overflow:i="Record overflow.";break;case te.Alert.Description.decompression_failure:i="Decompression failed.";break;case te.Alert.Description.handshake_failure:i="Handshake failure.";break;case te.Alert.Description.bad_certificate:i="Bad certificate.";break;case te.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case te.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case te.Alert.Description.certificate_expired:i="Certificate expired.";break;case te.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case te.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case te.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case te.Alert.Description.access_denied:i="Access denied.";break;case te.Alert.Description.decode_error:i="Decode error.";break;case te.Alert.Description.decrypt_error:i="Decrypt error.";break;case te.Alert.Description.export_restriction:i="Export restriction.";break;case te.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case te.Alert.Description.insufficient_security:i="Insufficient security.";break;case te.Alert.Description.internal_error:i="Internal error.";break;case te.Alert.Description.user_canceled:i="User canceled.";break;case te.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===te.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===te.ConnectionEnd.client?"server":"client",alert:n}),e.process()};te.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=Bt.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var s=r.bytes(i+4);r.read+=4,n in Nq[e.entity][e.expect]?(e.entity===te.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:Bt.md.md5.create(),sha1:Bt.md.sha1.create()}),n!==te.HandshakeType.hello_request&&n!==te.HandshakeType.certificate_verify&&n!==te.HandshakeType.finished&&(e.session.md5.update(s),e.session.sha1.update(s)),Nq[e.entity][e.expect][n](e,t,i)):te.handleUnexpected(e,t)};te.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};te.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),s=r.getBytes(i);if(n===te.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>s.length)return e.process();te.queue(e,te.createRecord(e,{type:te.ContentType.heartbeat,data:te.createHeartbeat(te.HeartbeatMessageType.heartbeat_response,s)})),te.flush(e)}else if(n===te.HeartbeatMessageType.heartbeat_response){if(s!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,Bt.util.createBuffer(s))}e.process()};var OIt=0,UIt=1,hDe=2,qIt=3,WIt=4,gDe=5,GIt=6,HIt=7,VIt=8,jIt=0,$It=1,_se=2,zIt=3,kse=4,YIt=5,KIt=6,J=te.handleUnexpected,ADe=te.handleChangeCipherSpec,Yl=te.handleAlert,tc=te.handleHandshake,yDe=te.handleApplicationData,Kl=te.handleHeartbeat,Bse=[];Bse[te.ConnectionEnd.client]=[[J,Yl,tc,J,Kl],[J,Yl,tc,J,Kl],[J,Yl,tc,J,Kl],[J,Yl,tc,J,Kl],[J,Yl,tc,J,Kl],[ADe,Yl,J,J,Kl],[J,Yl,tc,J,Kl],[J,Yl,tc,yDe,Kl],[J,Yl,tc,J,Kl]];Bse[te.ConnectionEnd.server]=[[J,Yl,tc,J,Kl],[J,Yl,tc,J,Kl],[J,Yl,tc,J,Kl],[J,Yl,tc,J,Kl],[ADe,Yl,J,J,Kl],[J,Yl,tc,J,Kl],[J,Yl,tc,yDe,Kl],[J,Yl,tc,J,Kl]];var Fy=te.handleHelloRequest,JIt=te.handleServerHello,CDe=te.handleCertificate,pDe=te.handleServerKeyExchange,wse=te.handleCertificateRequest,Pq=te.handleServerHelloDone,xDe=te.handleFinished,Nq=[];Nq[te.ConnectionEnd.client]=[[J,J,JIt,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J],[Fy,J,J,J,J,J,J,J,J,J,J,CDe,pDe,wse,Pq,J,J,J,J,J,J],[Fy,J,J,J,J,J,J,J,J,J,J,J,pDe,wse,Pq,J,J,J,J,J,J],[Fy,J,J,J,J,J,J,J,J,J,J,J,J,wse,Pq,J,J,J,J,J,J],[Fy,J,J,J,J,J,J,J,J,J,J,J,J,J,Pq,J,J,J,J,J,J],[Fy,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J],[Fy,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,xDe],[Fy,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J],[Fy,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J]];var XIt=te.handleClientHello,ZIt=te.handleClientKeyExchange,e8t=te.handleCertificateVerify;Nq[te.ConnectionEnd.server]=[[J,XIt,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J],[J,J,J,J,J,J,J,J,J,J,J,CDe,J,J,J,J,J,J,J,J,J],[J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,ZIt,J,J,J,J],[J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,e8t,J,J,J,J,J],[J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J],[J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,xDe],[J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J],[J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J]];te.generateKeys=function(e,t){var r=Lq,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,s=e.version.major===te.Versions.TLS_1_0.major&&e.version.minor===te.Versions.TLS_1_0.minor;s&&(i+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,i),l={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return s&&(l.client_write_IV=a.getBytes(t.fixed_iv_length),l.server_write_IV=a.getBytes(t.fixed_iv_length)),l};te.createConnectionState=function(e){var t=e.entity===te.ConnectionEnd.client,r=o(function(){var s={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:o(function(a){return!0},"cipherFunction"),compressionState:null,compressFunction:o(function(a){return!0},"compressFunction"),updateSequenceNumber:o(function(){s.sequenceNumber[1]===4294967295?(s.sequenceNumber[1]=0,++s.sequenceNumber[0]):++s.sequenceNumber[1]},"updateSequenceNumber")};return s},"createMode"),n={read:r(),write:r()};if(n.read.update=function(s,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(s,a,n.read)||s.error(s,{message:"Could not decompress record.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.decompression_failure}}):s.error(s,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.bad_record_mac}}),!s.fail},n.write.update=function(s,a){return n.write.compressFunction(s,a,n.write)?n.write.cipherFunction(a,n.write)||s.error(s,{message:"Could not encrypt record.",send:!1,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.internal_error}}):s.error(s,{message:"Could not compress record.",send:!1,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.internal_error}}),!s.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=te.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case te.CompressionMethod.none:break;case te.CompressionMethod.deflate:n.read.compressFunction=MIt,n.write.compressFunction=QIt;break;default:throw new Error("Unsupported compression algorithm.")}}return n};te.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=Bt.util.createBuffer();return r.putInt32(t),r.putBytes(Bt.random.getBytes(28)),r};te.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};te.createAlert=function(e,t){var r=Bt.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),te.createRecord(e,{type:te.ContentType.alert,data:r})};te.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=Bt.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),s=Bt.util.createBuffer();s.putByte(te.CompressionMethod.none);var a=s.length(),l=Bt.util.createBuffer();if(e.virtualHost){var c=Bt.util.createBuffer();c.putByte(0),c.putByte(0);var u=Bt.util.createBuffer();u.putByte(0),Dd(u,2,Bt.util.createBuffer(e.virtualHost));var f=Bt.util.createBuffer();Dd(f,2,u),Dd(c,2,f),l.putBuffer(c)}var m=l.length();m>0&&(m+=2);var h=e.session.id,p=h.length+1+2+4+28+2+i+1+a+m,A=Bt.util.createBuffer();return A.putByte(te.HandshakeType.client_hello),A.putInt24(p),A.putByte(e.version.major),A.putByte(e.version.minor),A.putBytes(e.session.sp.client_random),Dd(A,1,Bt.util.createBuffer(h)),Dd(A,2,t),Dd(A,1,s),m>0&&Dd(A,2,l),A};te.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=Bt.util.createBuffer();return n.putByte(te.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Dd(n,1,Bt.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};te.createCertificate=function(e){var t=e.entity===te.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=Bt.util.createBuffer();if(r!==null)try{Bt.util.isArray(r)||(r=[r]);for(var s=null,a=0;a<r.length;++a){var l=Bt.pem.decode(r[a])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=l.type,c}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=Bt.util.createBuffer(l.body);s===null&&(s=Bt.asn1.fromDer(u.bytes(),!1));var f=Bt.util.createBuffer();Dd(f,3,u),i.putBuffer(f)}r=Bt.pki.certificateFromAsn1(s),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(p){return e.error(e,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.bad_certificate}})}var m=3+i.length(),h=Bt.util.createBuffer();return h.putByte(te.HandshakeType.certificate),h.putInt24(m),Dd(h,3,i),h};te.createClientKeyExchange=function(e){var t=Bt.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(Bt.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,s=Bt.util.createBuffer();return s.putByte(te.HandshakeType.client_key_exchange),s.putInt24(i),s.putInt16(t.length),s.putBytes(t),s};te.createServerKeyExchange=function(e){var t=0,r=Bt.util.createBuffer();return t>0&&(r.putByte(te.HandshakeType.server_key_exchange),r.putInt24(t)),r};te.getClientSignature=function(e,t){var r=Bt.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,s){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=Bt.pki.privateKeyFromPem(a)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.internal_error}}):i=a.sign(i,null),s(n,i)},e.getSignature(e,r,t)};te.createCertificateVerify=function(e,t){var r=t.length+2,n=Bt.util.createBuffer();return n.putByte(te.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};te.createCertificateRequest=function(e){var t=Bt.util.createBuffer();t.putByte(1);var r=Bt.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],s=Bt.pki.distinguishedNameToAsn1(i.subject),a=Bt.asn1.toDer(s);r.putInt16(a.length()),r.putBuffer(a)}var l=1+t.length()+2+r.length(),c=Bt.util.createBuffer();return c.putByte(te.HandshakeType.certificate_request),c.putInt24(l),Dd(c,1,t),Dd(c,2,r),c};te.createServerHelloDone=function(e){var t=Bt.util.createBuffer();return t.putByte(te.HandshakeType.server_hello_done),t.putInt24(0),t};te.createChangeCipherSpec=function(){var e=Bt.util.createBuffer();return e.putByte(1),e};te.createFinished=function(e){var t=Bt.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===te.ConnectionEnd.client,n=e.session.sp,i=12,s=Lq,a=r?"client finished":"server finished";t=s(n.master_secret,a,t.getBytes(),i);var l=Bt.util.createBuffer();return l.putByte(te.HandshakeType.finished),l.putInt24(t.length()),l.putBuffer(t),l};te.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=Bt.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),s=Math.max(16,i-r-3);return n.putBytes(Bt.random.getBytes(s)),n};te.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===te.ContentType.handshake||t.type===te.ContentType.alert||t.type===te.ContentType.change_cipher_spec))){if(t.type===te.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=te.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>te.MaxFragment;)n.push(te.createRecord(e,{type:t.type,data:Bt.util.createBuffer(i.slice(0,te.MaxFragment))})),i=i.slice(te.MaxFragment);i.length>0&&n.push(te.createRecord(e,{type:t.type,data:Bt.util.createBuffer(i)}))}for(var s=0;s<n.length&&!e.fail;++s){var a=n[s],l=e.state.current.write;l.update(e,a)&&e.records.push(a)}}};te.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var Sse=o(function(e){switch(e){case!0:return!0;case Bt.pki.certificateError.bad_certificate:return te.Alert.Description.bad_certificate;case Bt.pki.certificateError.unsupported_certificate:return te.Alert.Description.unsupported_certificate;case Bt.pki.certificateError.certificate_revoked:return te.Alert.Description.certificate_revoked;case Bt.pki.certificateError.certificate_expired:return te.Alert.Description.certificate_expired;case Bt.pki.certificateError.certificate_unknown:return te.Alert.Description.certificate_unknown;case Bt.pki.certificateError.unknown_ca:return te.Alert.Description.unknown_ca;default:return te.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),t8t=o(function(e){switch(e){case!0:return!0;case te.Alert.Description.bad_certificate:return Bt.pki.certificateError.bad_certificate;case te.Alert.Description.unsupported_certificate:return Bt.pki.certificateError.unsupported_certificate;case te.Alert.Description.certificate_revoked:return Bt.pki.certificateError.certificate_revoked;case te.Alert.Description.certificate_expired:return Bt.pki.certificateError.certificate_expired;case te.Alert.Description.certificate_unknown:return Bt.pki.certificateError.certificate_unknown;case te.Alert.Description.unknown_ca:return Bt.pki.certificateError.unknown_ca;default:return Bt.pki.certificateError.bad_certificate}},"_alertDescToCertError");te.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(s,a,l){var c=Sse(s),u=e.verify(e,s,a,l);if(u!==!0){if(typeof u=="object"&&!Bt.util.isArray(u)){var f=new Error("The application rejected the certificate.");throw f.send=!0,f.alert={level:te.Alert.Level.fatal,description:te.Alert.Description.bad_certificate},u.message&&(f.message=u.message),u.alert&&(f.alert.description=u.alert),f}u!==s&&(u=t8t(u))}return u},Bt.pki.verifyCertificateChain(e.caStore,t,r)}catch(s){var i=s;(typeof i!="object"||Bt.util.isArray(i))&&(i={send:!0,alert:{level:te.Alert.Level.fatal,description:Sse(s)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:te.Alert.Level.fatal,description:Sse(i.error)}),e.error(e,i)}return!e.fail};te.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var s=null,a=null;if(i?a=Bt.util.bytesToHex(i):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){s=r.cache[a],delete r.cache[a];for(var l in r.order)if(r.order[l]===a){r.order.splice(l,1);break}}return s},r.setSession=function(i,s){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=Bt.util.bytesToHex(i);r.order.push(a),r.cache[a]=s}}return r};te.createConnection=function(e){var t=null;e.caStore?Bt.util.isArray(e.caStore)?t=Bt.pki.createCaStore(e.caStore):t=e.caStore:t=Bt.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in te.CipherSuites)r.push(te.CipherSuites[n])}var i=e.server?te.ConnectionEnd.server:te.ConnectionEnd.client,s=e.sessionCache?te.createSessionCache(e.sessionCache):null,a={version:{major:te.Version.major,minor:te.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:s,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(f,m,h,p){return m},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:Bt.util.createBuffer(),tlsData:Bt.util.createBuffer(),data:Bt.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:o(function(f,m){m.origin=m.origin||(f.entity===te.ConnectionEnd.client?"client":"server"),m.send&&(te.queue(f,te.createAlert(f,m.alert)),te.flush(f));var h=m.fatal!==!1;h&&(f.fail=!0),e.error(f,m),h&&f.close(!1)},"error"),deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(f){a.version={major:te.Version.major,minor:te.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===te.ConnectionEnd.client?OIt:jIt,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(f||typeof f>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=te.createConnectionState(a)},a.reset();var l=o(function(f,m){var h=m.type-te.ContentType.change_cipher_spec,p=Bse[f.entity][f.expect];h in p?p[h](f,m):te.handleUnexpected(f,m)},"_update"),c=o(function(f){var m=0,h=f.input,p=h.length();if(p<5)m=5-p;else{f.record={type:h.getByte(),version:{major:h.getByte(),minor:h.getByte()},length:h.getInt16(),fragment:Bt.util.createBuffer(),ready:!1};var A=f.record.version.major===f.version.major;A&&f.session&&f.session.version&&(A=f.record.version.minor===f.version.minor),A||f.error(f,{message:"Incompatible TLS version.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.protocol_version}})}return m},"_readRecordHeader"),u=o(function(f){var m=0,h=f.input,p=h.length();if(p<f.record.length)m=f.record.length-p;else{f.record.fragment.putBytes(h.getBytes(f.record.length)),h.compact();var A=f.state.current.read;A.update(f,f.record)&&(f.fragmented!==null&&(f.fragmented.type===f.record.type?(f.fragmented.fragment.putBuffer(f.record.fragment),f.record=f.fragmented):f.error(f,{message:"Invalid fragmented record.",send:!0,alert:{level:te.Alert.Level.fatal,description:te.Alert.Description.unexpected_message}})),f.record.ready=!0)}return m},"_readRecord");return a.handshake=function(f){if(a.entity!==te.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,f=f||"";var m=null;f.length>0&&(a.sessionCache&&(m=a.sessionCache.getSession(f)),m===null&&(f="")),f.length===0&&a.sessionCache&&(m=a.sessionCache.getSession(),m!==null&&(f=m.id)),a.session={id:f,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:Bt.md.md5.create(),sha1:Bt.md.sha1.create()},m&&(a.version=m.version,a.session.sp=m.sp),a.session.sp.client_random=te.createRandom().getBytes(),a.open=!0,te.queue(a,te.createRecord(a,{type:te.ContentType.handshake,data:te.createClientHello(a)})),te.flush(a)}},a.process=function(f){var m=0;return f&&a.input.putBytes(f),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(m=c(a)),!a.fail&&a.record!==null&&!a.record.ready&&(m=u(a)),!a.fail&&a.record!==null&&a.record.ready&&l(a,a.record)),m},a.prepare=function(f){return te.queue(a,te.createRecord(a,{type:te.ContentType.application_data,data:Bt.util.createBuffer(f)})),te.flush(a)},a.prepareHeartbeatRequest=function(f,m){return f instanceof Bt.util.ByteBuffer&&(f=f.bytes()),typeof m>"u"&&(m=f.length),a.expectedHeartbeatPayload=f,te.queue(a,te.createRecord(a,{type:te.ContentType.heartbeat,data:te.createHeartbeat(te.HeartbeatMessageType.heartbeat_request,f,m)})),te.flush(a)},a.close=function(f){if(!a.fail&&a.sessionCache&&a.session){var m={id:a.session.id,version:a.session.version,sp:a.session.sp};m.sp.keys=null,a.sessionCache.setSession(m.id,m)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,te.queue(a,te.createAlert(a,{level:te.Alert.Level.warning,description:te.Alert.Description.close_notify})),te.flush(a)),a.closed(a)),a.reset(f)},a};EDe.exports=Bt.tls=Bt.tls||{};for(Fq in te)typeof te[Fq]!="function"&&(Bt.tls[Fq]=te[Fq]);var Fq;Bt.tls.prf_tls1=Lq;Bt.tls.hmac_sha1=LIt;Bt.tls.createSessionCache=te.createSessionCache;Bt.tls.createConnection=te.createConnection});var IDe=V((a$r,vDe)=>{d();var Ny=ei();_y();Rse();var Pd=vDe.exports=Ny.tls;Pd.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:o(function(e){e.bulk_cipher_algorithm=Pd.BulkCipherAlgorithm.aes,e.cipher_type=Pd.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Pd.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:bDe};Pd.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:o(function(e){e.bulk_cipher_algorithm=Pd.BulkCipherAlgorithm.aes,e.cipher_type=Pd.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Pd.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:bDe};function bDe(e,t,r){var n=t.entity===Ny.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:Ny.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:Ny.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=o8t,e.write.cipherFunction=r8t,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Pd.hmac_sha1}o(bDe,"initConnectionState");function r8t(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===Pd.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=Ny.random.getBytesSync(16),t.cipherState.init=!0;var s=t.cipherState.cipher;return s.start({iv:i}),e.version.minor>=Pd.Versions.TLS_1_1.minor&&s.output.putBytes(i),s.update(e.fragment),s.finish(n8t)&&(e.fragment=s.output,e.length=e.fragment.length(),r=!0),r}o(r8t,"encrypt_aes_cbc_sha1");function n8t(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}o(n8t,"encrypt_aes_cbc_sha1_padding");function i8t(e,t,r){var n=!0;if(r){for(var i=t.length(),s=t.last(),a=i-1-s;a<i-1;++a)n=n&&t.at(a)==s;n&&t.truncate(s+1)}return n}o(i8t,"decrypt_aes_cbc_sha1_padding");function o8t(e,t){var r=!1,n;e.version.minor===Pd.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(i8t);var s=t.macLength,a=Ny.random.getBytesSync(s),l=i.output.length();l>=s?(e.fragment=i.output.getBytes(l-s),a=i.output.getBytes(s)):e.fragment=i.output.getBytes(),e.fragment=Ny.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=s8t(t.macKey,a,c)&&r,r}o(o8t,"decrypt_aes_cbc_sha1");function s8t(e,t,r){var n=Ny.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}o(s8t,"compareMacs")});var Fse=V((u$r,_De)=>{d();var as=ei();Vp();Ji();var l_=_De.exports=as.sha512=as.sha512||{};as.md.sha512=as.md.algorithms.sha512=l_;var wDe=as.sha384=as.sha512.sha384=as.sha512.sha384||{};wDe.create=function(){return l_.create("SHA-384")};as.md.sha384=as.md.algorithms.sha384=wDe;as.sha512.sha256=as.sha512.sha256||{create:o(function(){return l_.create("SHA-512/256")},"create")};as.md["sha512/256"]=as.md.algorithms["sha512/256"]=as.sha512.sha256;as.sha512.sha224=as.sha512.sha224||{create:o(function(){return l_.create("SHA-512/224")},"create")};as.md["sha512/224"]=as.md.algorithms["sha512/224"]=as.sha512.sha224;l_.create=function(e){if(SDe||a8t(),typeof e>"u"&&(e="SHA-512"),!(e in gx))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=gx[e],r=null,n=as.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var l={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var c=l.messageLengthSize/4,u=0;u<c;++u)l.fullMessageLength.push(0);n=as.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return l},l.start(),l.update=function(c,u){u==="utf8"&&(c=as.util.encodeUtf8(c));var f=c.length;l.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var m=l.fullMessageLength.length-1;m>=0;--m)l.fullMessageLength[m]+=f[1],f[1]=f[0]+(l.fullMessageLength[m]/4294967296>>>0),l.fullMessageLength[m]=l.fullMessageLength[m]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(c),TDe(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var c=as.util.createBuffer();c.putBytes(n.bytes());var u=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,f=u&l.blockLength-1;c.putBytes(Dse.substr(0,l.blockLength-f));for(var m,h,p=l.fullMessageLength[0]*8,A=0;A<l.fullMessageLength.length-1;++A)m=l.fullMessageLength[A+1]*8,h=m/4294967296>>>0,p+=h,c.putInt32(p>>>0),p=m>>>0;c.putInt32(p);for(var x=new Array(r.length),A=0;A<r.length;++A)x[A]=r[A].slice(0);TDe(x,i,c);var E=as.util.createBuffer(),v;e==="SHA-512"?v=x.length:e==="SHA-384"?v=x.length-2:v=x.length-4;for(var A=0;A<v;++A)E.putInt32(x[A][0]),(A!==v-1||e!=="SHA-512/224")&&E.putInt32(x[A][1]);return E},l};var Dse=null,SDe=!1,Pse=null,gx=null;function a8t(){Dse="\x80",Dse+=as.util.fillString("\0",128),Pse=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],gx={},gx["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],gx["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],gx["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],gx["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],SDe=!0}o(a8t,"_init");function TDe(e,t,r){for(var n,i,s,a,l,c,u,f,m,h,p,A,x,E,v,b,S,B,D,F,W,ee,de,X,G,U,ie,z,H,M,j,Z,ae,ne,le,fe=r.length();fe>=128;){for(H=0;H<16;++H)t[H][0]=r.getInt32()>>>0,t[H][1]=r.getInt32()>>>0;for(;H<80;++H)Z=t[H-2],M=Z[0],j=Z[1],n=((M>>>19|j<<13)^(j>>>29|M<<3)^M>>>6)>>>0,i=((M<<13|j>>>19)^(j<<3|M>>>29)^(M<<26|j>>>6))>>>0,ne=t[H-15],M=ne[0],j=ne[1],s=((M>>>1|j<<31)^(M>>>8|j<<24)^M>>>7)>>>0,a=((M<<31|j>>>1)^(M<<24|j>>>8)^(M<<25|j>>>7))>>>0,ae=t[H-7],le=t[H-16],j=i+ae[1]+a+le[1],t[H][0]=n+ae[0]+s+le[0]+(j/4294967296>>>0)>>>0,t[H][1]=j>>>0;for(x=e[0][0],E=e[0][1],v=e[1][0],b=e[1][1],S=e[2][0],B=e[2][1],D=e[3][0],F=e[3][1],W=e[4][0],ee=e[4][1],de=e[5][0],X=e[5][1],G=e[6][0],U=e[6][1],ie=e[7][0],z=e[7][1],H=0;H<80;++H)u=((W>>>14|ee<<18)^(W>>>18|ee<<14)^(ee>>>9|W<<23))>>>0,f=((W<<18|ee>>>14)^(W<<14|ee>>>18)^(ee<<23|W>>>9))>>>0,m=(G^W&(de^G))>>>0,h=(U^ee&(X^U))>>>0,l=((x>>>28|E<<4)^(E>>>2|x<<30)^(E>>>7|x<<25))>>>0,c=((x<<4|E>>>28)^(E<<30|x>>>2)^(E<<25|x>>>7))>>>0,p=(x&v|S&(x^v))>>>0,A=(E&b|B&(E^b))>>>0,j=z+f+h+Pse[H][1]+t[H][1],n=ie+u+m+Pse[H][0]+t[H][0]+(j/4294967296>>>0)>>>0,i=j>>>0,j=c+A,s=l+p+(j/4294967296>>>0)>>>0,a=j>>>0,ie=G,z=U,G=de,U=X,de=W,X=ee,j=F+i,W=D+n+(j/4294967296>>>0)>>>0,ee=j>>>0,D=S,F=B,S=v,B=b,v=x,b=E,j=i+a,x=n+s+(j/4294967296>>>0)>>>0,E=j>>>0;j=e[0][1]+E,e[0][0]=e[0][0]+x+(j/4294967296>>>0)>>>0,e[0][1]=j>>>0,j=e[1][1]+b,e[1][0]=e[1][0]+v+(j/4294967296>>>0)>>>0,e[1][1]=j>>>0,j=e[2][1]+B,e[2][0]=e[2][0]+S+(j/4294967296>>>0)>>>0,e[2][1]=j>>>0,j=e[3][1]+F,e[3][0]=e[3][0]+D+(j/4294967296>>>0)>>>0,e[3][1]=j>>>0,j=e[4][1]+ee,e[4][0]=e[4][0]+W+(j/4294967296>>>0)>>>0,e[4][1]=j>>>0,j=e[5][1]+X,e[5][0]=e[5][0]+de+(j/4294967296>>>0)>>>0,e[5][1]=j>>>0,j=e[6][1]+U,e[6][0]=e[6][0]+G+(j/4294967296>>>0)>>>0,e[6][1]=j>>>0,j=e[7][1]+z,e[7][0]=e[7][0]+ie+(j/4294967296>>>0)>>>0,e[7][1]=j>>>0,fe-=128}}o(TDe,"_update")});var kDe=V(Nse=>{d();var l8t=ei();ih();var Tl=l8t.asn1;Nse.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Tl.Class.UNIVERSAL,type:Tl.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Tl.Class.UNIVERSAL,type:Tl.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Tl.Class.UNIVERSAL,type:Tl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Tl.Class.UNIVERSAL,type:Tl.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Tl.Class.UNIVERSAL,type:Tl.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};Nse.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Tl.Class.UNIVERSAL,type:Tl.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Tl.Class.UNIVERSAL,type:Tl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Tl.Class.UNIVERSAL,type:Tl.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Tl.Class.UNIVERSAL,type:Tl.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var WDe=V((p$r,qDe)=>{d();var Jl=ei();i_();_d();Fse();Ji();var NDe=kDe(),c8t=NDe.publicKeyValidator,u8t=NDe.privateKeyValidator;typeof BDe>"u"&&(BDe=Jl.jsbn.BigInteger);var BDe,Mse=Jl.util.ByteBuffer,tu=typeof Buffer>"u"?Uint8Array:Buffer;Jl.pki=Jl.pki||{};qDe.exports=Jl.pki.ed25519=Jl.ed25519=Jl.ed25519||{};var Ci=Jl.ed25519;Ci.constants={};Ci.constants.PUBLIC_KEY_BYTE_LENGTH=32;Ci.constants.PRIVATE_KEY_BYTE_LENGTH=64;Ci.constants.SEED_BYTE_LENGTH=32;Ci.constants.SIGN_BYTE_LENGTH=64;Ci.constants.HASH_BYTE_LENGTH=64;Ci.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=Jl.random.getBytesSync(Ci.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==Ci.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+Ci.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=cA({message:t,encoding:"binary"});for(var r=new tu(Ci.constants.PUBLIC_KEY_BYTE_LENGTH),n=new tu(Ci.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return h8t(r,n),{publicKey:r,privateKey:n}};Ci.privateKeyFromAsn1=function(e){var t={},r=[],n=Jl.asn1.validate(e,u8t,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=Jl.asn1.derToOid(t.privateKeyOid),a=Jl.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var l=t.privateKey,c=cA({message:Jl.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:c}};Ci.publicKeyFromAsn1=function(e){var t={},r=[],n=Jl.asn1.validate(e,c8t,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var s=Jl.asn1.derToOid(t.publicKeyOid),a=Jl.oids.EdDSA25519;if(s!==a)throw new Error('Invalid OID "'+s+'"; OID must be "'+a+'".');var l=t.ed25519PublicKey;if(l.length!==Ci.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return cA({message:l,encoding:"binary"})};Ci.publicKeyFromPrivateKey=function(e){e=e||{};var t=cA({message:e.privateKey,encoding:"binary"});if(t.length!==Ci.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Ci.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new tu(Ci.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};Ci.sign=function(e){e=e||{};var t=cA(e),r=cA({message:e.privateKey,encoding:"binary"});if(r.length===Ci.constants.SEED_BYTE_LENGTH){var n=Ci.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==Ci.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Ci.constants.SEED_BYTE_LENGTH+" or "+Ci.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new tu(Ci.constants.SIGN_BYTE_LENGTH+t.length);p8t(i,t,t.length,r);for(var s=new tu(Ci.constants.SIGN_BYTE_LENGTH),a=0;a<s.length;++a)s[a]=i[a];return s};Ci.verify=function(e){e=e||{};var t=cA(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=cA({message:e.signature,encoding:"binary"});if(r.length!==Ci.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+Ci.constants.SIGN_BYTE_LENGTH);var n=cA({message:e.publicKey,encoding:"binary"});if(n.length!==Ci.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+Ci.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new tu(Ci.constants.SIGN_BYTE_LENGTH+t.length),s=new tu(Ci.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<Ci.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<t.length;++a)i[a+Ci.constants.SIGN_BYTE_LENGTH]=t[a];return g8t(s,i,i.length,n)>=0};function cA(e){var t=e.message;if(t instanceof Uint8Array||t instanceof tu)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new Mse(t,r)}else if(!(t instanceof Mse))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new tu(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}o(cA,"messageToNativeBuffer");var Ose=pn(),Qq=pn([1]),f8t=pn([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d8t=pn([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),RDe=pn([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),DDe=pn([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Lse=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),m8t=pn([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function c_(e,t){var r=Jl.md.sha512.create(),n=new Mse(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var s=new tu(Ci.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)s[a]=i.charCodeAt(a);return s}o(c_,"sha512");function h8t(e,t){var r=[pn(),pn(),pn(),pn()],n,i=c_(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,Gse(r,i),Wse(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}o(h8t,"crypto_sign_keypair");function p8t(e,t,r,n){var i,s,a=new Float64Array(64),l=[pn(),pn(),pn(),pn()],c=c_(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var f=c_(e.subarray(32),r+32);for(Use(f),Gse(l,f),Wse(e,l),i=32;i<64;++i)e[i]=n[i];var m=c_(e,r+64);for(Use(m),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=f[i];for(i=0;i<32;++i)for(s=0;s<32;s++)a[i+s]+=m[i]*c[s];return LDe(e.subarray(32),a),u}o(p8t,"crypto_sign");function g8t(e,t,r,n){var i,s,a=new tu(32),l=[pn(),pn(),pn(),pn()],c=[pn(),pn(),pn(),pn()];if(s=-1,r<64||A8t(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var u=c_(e,r);if(Use(u),ODe(l,c,u),Gse(c,t.subarray(32)),qse(l,c),Wse(a,l),r-=64,QDe(t,0,a,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return s=r,s}o(g8t,"crypto_sign_open");function LDe(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*Lse[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*Lse[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*Lse[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}o(LDe,"modL");function Use(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;LDe(e,t)}o(Use,"reduce");function qse(e,t){var r=pn(),n=pn(),i=pn(),s=pn(),a=pn(),l=pn(),c=pn(),u=pn(),f=pn();J8(r,e[1],e[0]),J8(f,t[1],t[0]),Do(r,r,f),K8(n,e[0],e[1]),K8(f,t[0],t[1]),Do(n,n,f),Do(i,e[3],t[3]),Do(i,i,d8t),Do(s,e[2],t[2]),K8(s,s,s),J8(a,n,r),J8(l,s,i),K8(c,s,i),K8(u,n,r),Do(e[0],a,l),Do(e[1],u,c),Do(e[2],c,l),Do(e[3],a,u)}o(qse,"add");function PDe(e,t,r){for(var n=0;n<4;++n)UDe(e[n],t[n],r)}o(PDe,"cswap");function Wse(e,t){var r=pn(),n=pn(),i=pn();E8t(i,t[2]),Do(r,t[0],i),Do(n,t[1],i),Mq(e,n),e[31]^=MDe(r)<<7}o(Wse,"pack");function Mq(e,t){var r,n,i,s=pn(),a=pn();for(r=0;r<16;++r)a[r]=t[r];for(Qse(a),Qse(a),Qse(a),n=0;n<2;++n){for(s[0]=a[0]-65517,r=1;r<15;++r)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,UDe(a,s,1-i)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}o(Mq,"pack25519");function A8t(e,t){var r=pn(),n=pn(),i=pn(),s=pn(),a=pn(),l=pn(),c=pn();return Ly(e[2],Qq),y8t(e[1],t),Ax(i,e[1]),Do(s,i,f8t),J8(i,i,e[2]),K8(s,e[2],s),Ax(a,s),Ax(l,a),Do(c,l,a),Do(r,c,i),Do(r,r,s),C8t(r,r),Do(r,r,i),Do(r,r,s),Do(r,r,s),Do(e[0],r,s),Ax(n,e[0]),Do(n,n,s),FDe(n,i)&&Do(e[0],e[0],m8t),Ax(n,e[0]),Do(n,n,s),FDe(n,i)?-1:(MDe(e[0])===t[31]>>7&&J8(e[0],Ose,e[0]),Do(e[3],e[0],e[1]),0)}o(A8t,"unpackneg");function y8t(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}o(y8t,"unpack25519");function C8t(e,t){var r=pn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)Ax(r,r),n!==1&&Do(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(C8t,"pow2523");function FDe(e,t){var r=new tu(32),n=new tu(32);return Mq(r,e),Mq(n,t),QDe(r,0,n,0)}o(FDe,"neq25519");function QDe(e,t,r,n){return x8t(e,t,r,n,32)}o(QDe,"crypto_verify_32");function x8t(e,t,r,n,i){var s,a=0;for(s=0;s<i;++s)a|=e[t+s]^r[n+s];return(1&a-1>>>8)-1}o(x8t,"vn");function MDe(e){var t=new tu(32);return Mq(t,e),t[0]&1}o(MDe,"par25519");function ODe(e,t,r){var n,i;for(Ly(e[0],Ose),Ly(e[1],Qq),Ly(e[2],Qq),Ly(e[3],Ose),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,PDe(e,t,n),qse(t,e),qse(e,e),PDe(e,t,n)}o(ODe,"scalarmult");function Gse(e,t){var r=[pn(),pn(),pn(),pn()];Ly(r[0],RDe),Ly(r[1],DDe),Ly(r[2],Qq),Do(r[3],RDe,DDe),ODe(e,r,t)}o(Gse,"scalarbase");function Ly(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}o(Ly,"set25519");function E8t(e,t){var r=pn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)Ax(r,r),n!==2&&n!==4&&Do(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(E8t,"inv25519");function Qse(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}o(Qse,"car25519");function UDe(e,t,r){for(var n,i=~(r-1),s=0;s<16;++s)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}o(UDe,"sel25519");function pn(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}o(pn,"gf");function K8(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}o(K8,"A");function J8(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}o(J8,"Z");function Ax(e,t){Do(e,t,t)}o(Ax,"S");function Do(e,t,r){var n,i,s=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=0,A=0,x=0,E=0,v=0,b=0,S=0,B=0,D=0,F=0,W=0,ee=0,de=0,X=0,G=0,U=0,ie=0,z=0,H=0,M=0,j=0,Z=0,ae=0,ne=r[0],le=r[1],fe=r[2],Re=r[3],Ee=r[4],Oe=r[5],Be=r[6],Je=r[7],at=r[8],Xe=r[9],st=r[10],oe=r[11],Pe=r[12],Ae=r[13],We=r[14],Y=r[15];n=t[0],s+=n*ne,a+=n*le,l+=n*fe,c+=n*Re,u+=n*Ee,f+=n*Oe,m+=n*Be,h+=n*Je,p+=n*at,A+=n*Xe,x+=n*st,E+=n*oe,v+=n*Pe,b+=n*Ae,S+=n*We,B+=n*Y,n=t[1],a+=n*ne,l+=n*le,c+=n*fe,u+=n*Re,f+=n*Ee,m+=n*Oe,h+=n*Be,p+=n*Je,A+=n*at,x+=n*Xe,E+=n*st,v+=n*oe,b+=n*Pe,S+=n*Ae,B+=n*We,D+=n*Y,n=t[2],l+=n*ne,c+=n*le,u+=n*fe,f+=n*Re,m+=n*Ee,h+=n*Oe,p+=n*Be,A+=n*Je,x+=n*at,E+=n*Xe,v+=n*st,b+=n*oe,S+=n*Pe,B+=n*Ae,D+=n*We,F+=n*Y,n=t[3],c+=n*ne,u+=n*le,f+=n*fe,m+=n*Re,h+=n*Ee,p+=n*Oe,A+=n*Be,x+=n*Je,E+=n*at,v+=n*Xe,b+=n*st,S+=n*oe,B+=n*Pe,D+=n*Ae,F+=n*We,W+=n*Y,n=t[4],u+=n*ne,f+=n*le,m+=n*fe,h+=n*Re,p+=n*Ee,A+=n*Oe,x+=n*Be,E+=n*Je,v+=n*at,b+=n*Xe,S+=n*st,B+=n*oe,D+=n*Pe,F+=n*Ae,W+=n*We,ee+=n*Y,n=t[5],f+=n*ne,m+=n*le,h+=n*fe,p+=n*Re,A+=n*Ee,x+=n*Oe,E+=n*Be,v+=n*Je,b+=n*at,S+=n*Xe,B+=n*st,D+=n*oe,F+=n*Pe,W+=n*Ae,ee+=n*We,de+=n*Y,n=t[6],m+=n*ne,h+=n*le,p+=n*fe,A+=n*Re,x+=n*Ee,E+=n*Oe,v+=n*Be,b+=n*Je,S+=n*at,B+=n*Xe,D+=n*st,F+=n*oe,W+=n*Pe,ee+=n*Ae,de+=n*We,X+=n*Y,n=t[7],h+=n*ne,p+=n*le,A+=n*fe,x+=n*Re,E+=n*Ee,v+=n*Oe,b+=n*Be,S+=n*Je,B+=n*at,D+=n*Xe,F+=n*st,W+=n*oe,ee+=n*Pe,de+=n*Ae,X+=n*We,G+=n*Y,n=t[8],p+=n*ne,A+=n*le,x+=n*fe,E+=n*Re,v+=n*Ee,b+=n*Oe,S+=n*Be,B+=n*Je,D+=n*at,F+=n*Xe,W+=n*st,ee+=n*oe,de+=n*Pe,X+=n*Ae,G+=n*We,U+=n*Y,n=t[9],A+=n*ne,x+=n*le,E+=n*fe,v+=n*Re,b+=n*Ee,S+=n*Oe,B+=n*Be,D+=n*Je,F+=n*at,W+=n*Xe,ee+=n*st,de+=n*oe,X+=n*Pe,G+=n*Ae,U+=n*We,ie+=n*Y,n=t[10],x+=n*ne,E+=n*le,v+=n*fe,b+=n*Re,S+=n*Ee,B+=n*Oe,D+=n*Be,F+=n*Je,W+=n*at,ee+=n*Xe,de+=n*st,X+=n*oe,G+=n*Pe,U+=n*Ae,ie+=n*We,z+=n*Y,n=t[11],E+=n*ne,v+=n*le,b+=n*fe,S+=n*Re,B+=n*Ee,D+=n*Oe,F+=n*Be,W+=n*Je,ee+=n*at,de+=n*Xe,X+=n*st,G+=n*oe,U+=n*Pe,ie+=n*Ae,z+=n*We,H+=n*Y,n=t[12],v+=n*ne,b+=n*le,S+=n*fe,B+=n*Re,D+=n*Ee,F+=n*Oe,W+=n*Be,ee+=n*Je,de+=n*at,X+=n*Xe,G+=n*st,U+=n*oe,ie+=n*Pe,z+=n*Ae,H+=n*We,M+=n*Y,n=t[13],b+=n*ne,S+=n*le,B+=n*fe,D+=n*Re,F+=n*Ee,W+=n*Oe,ee+=n*Be,de+=n*Je,X+=n*at,G+=n*Xe,U+=n*st,ie+=n*oe,z+=n*Pe,H+=n*Ae,M+=n*We,j+=n*Y,n=t[14],S+=n*ne,B+=n*le,D+=n*fe,F+=n*Re,W+=n*Ee,ee+=n*Oe,de+=n*Be,X+=n*Je,G+=n*at,U+=n*Xe,ie+=n*st,z+=n*oe,H+=n*Pe,M+=n*Ae,j+=n*We,Z+=n*Y,n=t[15],B+=n*ne,D+=n*le,F+=n*fe,W+=n*Re,ee+=n*Ee,de+=n*Oe,X+=n*Be,G+=n*Je,U+=n*at,ie+=n*Xe,z+=n*st,H+=n*oe,M+=n*Pe,j+=n*Ae,Z+=n*We,ae+=n*Y,s+=38*D,a+=38*F,l+=38*W,c+=38*ee,u+=38*de,f+=38*X,m+=38*G,h+=38*U,p+=38*ie,A+=38*z,x+=38*H,E+=38*M,v+=38*j,b+=38*Z,S+=38*ae,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,s+=i-1+37*(i-1),e[0]=s,e[1]=a,e[2]=l,e[3]=c,e[4]=u,e[5]=f,e[6]=m,e[7]=h,e[8]=p,e[9]=A,e[10]=x,e[11]=E,e[12]=v,e[13]=b,e[14]=S,e[15]=B}o(Do,"M")});var jDe=V((y$r,VDe)=>{d();var af=ei();Ji();_d();i_();VDe.exports=af.kem=af.kem||{};var GDe=af.jsbn.BigInteger;af.kem.rsa={};af.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||af.random,n={};return n.encrypt=function(i,s){var a=Math.ceil(i.n.bitLength()/8),l;do l=new GDe(af.util.bytesToHex(r.getBytesSync(a)),16).mod(i.n);while(l.compareTo(GDe.ONE)<=0);l=af.util.hexToBytes(l.toString(16));var c=a-l.length;c>0&&(l=af.util.fillString("\0",c)+l);var u=i.encrypt(l,"NONE"),f=e.generate(l,s);return{encapsulation:u,key:f}},n.decrypt=function(i,s,a){var l=i.decrypt(s,"NONE");return e.generate(l,a)},n};af.kem.kdf1=function(e,t){HDe(this,e,0,t||e.digestLength)};af.kem.kdf2=function(e,t){HDe(this,e,1,t||e.digestLength)};function HDe(e,t,r,n){e.generate=function(i,s){for(var a=new af.util.ByteBuffer,l=Math.ceil(s/n)+r,c=new af.util.ByteBuffer,u=r;u<l;++u){c.putInt32(u),t.start(),t.update(i+c.getBytes());var f=t.digest();a.putBytes(f.getBytes(n))}return a.truncate(a.length()-s),a.getBytes()}}o(HDe,"_createKDF")});var KDe=V((E$r,YDe)=>{d();var _i=ei();Ji();YDe.exports=_i.log=_i.log||{};_i.log.levels=["none","error","warning","info","debug","verbose","max"];var Oq={},jse=[],f_=null;_i.log.LEVEL_LOCKED=2;_i.log.NO_LEVEL_CHECK=4;_i.log.INTERPOLATE=8;for(Zp=0;Zp<_i.log.levels.length;++Zp)Hse=_i.log.levels[Zp],Oq[Hse]={index:Zp,name:Hse.toUpperCase()};var Hse,Zp;_i.log.logMessage=function(e){for(var t=Oq[e.level].index,r=0;r<jse.length;++r){var n=jse[r];if(n.flags&_i.log.NO_LEVEL_CHECK)n.f(e);else{var i=Oq[n.level].index;t<=i&&n.f(n,e)}}};_i.log.prepareStandard=function(e){"standard"in e||(e.standard=Oq[e.level].name+" ["+e.category+"] "+e.message)};_i.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=_i.util.format.apply(this,t)}};_i.log.prepareStandardFull=function(e){"standardFull"in e||(_i.log.prepareStandard(e),e.standardFull=e.standard)};for(Vse=["error","warning","info","debug","verbose"],Zp=0;Zp<Vse.length;++Zp)(function(t){_i.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),s={timestamp:new Date,level:t,category:r,message:n,arguments:i};_i.log.logMessage(s)}})(Vse[Zp]);var Vse,Zp;_i.log.makeLogger=function(e){var t={flags:0,f:e};return _i.log.setLevel(t,"none"),t};_i.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&_i.log.LEVEL_LOCKED))for(var n=0;n<_i.log.levels.length;++n){var i=_i.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};_i.log.lock=function(e,t){typeof t>"u"||t?e.flags|=_i.log.LEVEL_LOCKED:e.flags&=~_i.log.LEVEL_LOCKED};_i.log.addLogger=function(e){jse.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?($De={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},d_=o(function(e,t){_i.log.prepareStandard(t);var r=$De[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),X8=_i.log.makeLogger(d_)):(d_=o(function(t,r){_i.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),X8=_i.log.makeLogger(d_)),_i.log.setLevel(X8,"debug"),_i.log.addLogger(X8),f_=X8):console={log:o(function(){},"log")};var X8,$De,d_;f_!==null&&typeof window<"u"&&window.location&&(u_=new URL(window.location.href).searchParams,u_.has("console.level")&&_i.log.setLevel(f_,u_.get("console.level").slice(-1)[0]),u_.has("console.lock")&&(zDe=u_.get("console.lock").slice(-1)[0],zDe=="true"&&_i.log.lock(f_)));var u_,zDe;_i.log.consoleLogger=f_});var XDe=V((I$r,JDe)=>{d();JDe.exports=Vp();yq();V8();ose();Fse()});var tPe=V((w$r,ePe)=>{d();var mr=ei();_y();ih();r_();ky();ux();Cse();_d();Ji();Dq();var De=mr.asn1,rc=ePe.exports=mr.pkcs7=mr.pkcs7||{};rc.messageFromPem=function(e){var t=mr.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=De.fromDer(t.body);return rc.messageFromAsn1(n)};rc.messageToPem=function(e,t){var r={type:"PKCS7",body:De.toDer(e.toAsn1()).getBytes()};return mr.pem.encode(r,{maxline:t})};rc.messageFromAsn1=function(e){var t={},r=[];if(!De.validate(e,rc.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=De.derToOid(t.contentType),s;switch(i){case mr.pki.oids.envelopedData:s=rc.createEnvelopedData();break;case mr.pki.oids.encryptedData:s=rc.createEncryptedData();break;case mr.pki.oids.signedData:s=rc.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s};rc.createSignedData=function(){var e=null;return e={type:mr.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:o(function(n){if(zse(e,n,rc.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,s=0;s<i.length;++s)e.certificates.push(mr.pki.certificateFromAsn1(i[s]))},"fromAsn1"),toAsn1:o(function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(mr.pki.certificateToAsn1(e.certificates[i]));var s=[],a=De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(De.create(De.Class.CONTEXT_SPECIFIC,0,!0,n)),s.length>0&&a.value[0].value.push(De.create(De.Class.CONTEXT_SPECIFIC,1,!0,s)),a.value[0].value.push(De.create(De.Class.UNIVERSAL,De.Type.SET,!0,e.signerInfos)),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),a])},"toAsn1"),addSigner:o(function(n){var i=n.issuer,s=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=mr.pki.certificateFromPem(a)),i=a.issuer.attributes,s=a.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=mr.pki.privateKeyFromPem(l));var c=n.digestAlgorithm||mr.pki.oids.sha1;switch(c){case mr.pki.oids.sha1:case mr.pki.oids.sha256:case mr.pki.oids.sha384:case mr.pki.oids.sha512:case mr.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var f=!1,m=!1,h=0;h<u.length;++h){var p=u[h];if(!f&&p.type===mr.pki.oids.contentType){if(f=!0,m)break;continue}if(!m&&p.type===mr.pki.oids.messageDigest){if(m=!0,f)break;continue}}if(!f||!m)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:l,version:1,issuer:i,serialNumber:s,digestAlgorithm:c,signatureAlgorithm:mr.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},"addSigner"),sign:o(function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(mr.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof mr.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=mr.util.encodeUtf8(e.content)),n.detached?e.detachedContent=De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var s=t();r(s)}},"sign"),verify:o(function(){throw new Error("PKCS#7 signature verification not yet implemented.")},"verify"),addCertificate:o(function(n){typeof n=="string"&&(n=mr.pki.certificateFromPem(n)),e.certificates.push(n)},"addCertificate"),addCertificateRevokationList:o(function(n){throw new Error("PKCS#7 CRL support not yet implemented.")},"addCertificateRevokationList")},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var s=e.signers[i],a=s.digestAlgorithm;a in n||(n[a]=mr.md[mr.pki.oids[a]].create()),s.authenticatedAttributes.length===0?s.md=n[a]:s.md=mr.md[mr.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(a).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")]));return n}o(t,"addDigestAlgorithmIds");function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=De.derToOid(e.contentInfo.value[0].value),a=De.toDer(i);a.getByte(),De.getBerValueLength(a),a=a.getBytes();for(var l in n)n[l].start().update(a);for(var c=new Date,u=0;u<e.signers.length;++u){var f=e.signers[u];if(f.authenticatedAttributes.length===0){if(s!==mr.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var m=De.create(De.Class.UNIVERSAL,De.Type.SET,!0,[]),h=0;h<f.authenticatedAttributes.length;++h){var p=f.authenticatedAttributes[h];p.type===mr.pki.oids.messageDigest?p.value=n[f.digestAlgorithm].digest():p.type===mr.pki.oids.signingTime&&(p.value||(p.value=c)),m.value.push($se(p)),f.authenticatedAttributesAsn1.value.push($se(p))}a=De.toDer(m).getBytes(),f.md.start().update(a)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=S8t(e.signers)}o(r,"addSignerInfos")};rc.createEncryptedData=function(){var e=null;return e={type:mr.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:mr.pki.oids["aes256-CBC"]},fromAsn1:o(function(t){zse(e,t,rc.asn1.encryptedDataValidator)},"fromAsn1"),decrypt:o(function(t){t!==void 0&&(e.encryptedContent.key=t),ZDe(e)},"decrypt")},e};rc.createEnvelopedData=function(){var e=null;return e={type:mr.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:mr.pki.oids["aes256-CBC"]},fromAsn1:o(function(t){var r=zse(e,t,rc.asn1.envelopedDataValidator);e.recipients=I8t(r.recipientInfos.value)},"fromAsn1"),toAsn1:o(function(){return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,T8t(e.recipients)),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,_8t(e.encryptedContent))])])])},"toAsn1"),findRecipient:o(function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],s=i.issuer;if(i.serialNumber===t.serialNumber&&s.length===r.length){for(var a=!0,l=0;l<r.length;++l)if(s[l].type!==r[l].type||s[l].value!==r[l].value){a=!1;break}if(a)return i}}return null},"findRecipient"),decrypt:o(function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case mr.pki.oids.rsaEncryption:case mr.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=mr.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}ZDe(e)},"decrypt"),addRecipient:o(function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:mr.pki.oids.rsaEncryption,key:t.publicKey}})},"addRecipient"),encrypt:o(function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,s;switch(r){case mr.pki.oids["aes128-CBC"]:n=16,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["aes192-CBC"]:n=24,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["aes256-CBC"]:n=32,i=16,s=mr.aes.createEncryptionCipher;break;case mr.pki.oids["des-EDE3-CBC"]:n=24,i=8,s=mr.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=mr.util.createBuffer(mr.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=mr.util.createBuffer(mr.random.getBytes(i));var a=s(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var l=0;l<e.recipients.length;++l){var c=e.recipients[l];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case mr.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}},"encrypt")},e};function b8t(e){var t={},r=[];if(!De.validate(e,rc.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:mr.pki.RDNAttributesAsArray(t.issuer),serialNumber:mr.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:De.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}o(b8t,"_recipientFromAsn1");function v8t(e){return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[mr.pki.distinguishedNameToAsn1({attributes:e.issuer}),De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,mr.util.hexToBytes(e.serialNumber))]),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.encryptedContent.algorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")]),De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.encryptedContent.content)])}o(v8t,"_recipientToAsn1");function I8t(e){for(var t=[],r=0;r<e.length;++r)t.push(b8t(e[r]));return t}o(I8t,"_recipientsFromAsn1");function T8t(e){for(var t=[],r=0;r<e.length;++r)t.push(v8t(e[r]));return t}o(T8t,"_recipientsToAsn1");function w8t(e){var t=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(e.version).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[mr.pki.distinguishedNameToAsn1({attributes:e.issuer}),De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,mr.util.hexToBytes(e.serialNumber))]),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.digestAlgorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.signatureAlgorithm).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")])),t.value.push(De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=De.create(De.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push($se(i))}t.value.push(r)}return t}o(w8t,"_signerToAsn1");function S8t(e){for(var t=[],r=0;r<e.length;++r)t.push(w8t(e[r]));return t}o(S8t,"_signersToAsn1");function $se(e){var t;if(e.type===mr.pki.oids.contentType)t=De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.value).getBytes());else if(e.type===mr.pki.oids.messageDigest)t=De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===mr.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var s=Date.parse(i);isNaN(s)?i.length===13?i=De.utcTimeToDate(i):i=De.generalizedTimeToDate(i):i=new Date(s)}i>=r&&i<n?t=De.create(De.Class.UNIVERSAL,De.Type.UTCTIME,!1,De.dateToUtcTime(i)):t=De.create(De.Class.UNIVERSAL,De.Type.GENERALIZEDTIME,!1,De.dateToGeneralizedTime(i))}return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.type).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,[t])])}o($se,"_attributeToAsn1");function _8t(e){return[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(mr.pki.oids.data).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(e.algorithm).getBytes()),e.parameter?De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,e.content.getBytes())])]}o(_8t,"_encryptedContentToAsn1");function zse(e,t,r){var n={},i=[];if(!De.validate(t,r,n,i)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}var a=De.derToOid(n.contentType);if(a!==mr.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(mr.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==De.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[c].value}else l=n.encryptedContent;e.encryptedContent={algorithm:De.derToOid(n.encAlgorithm),parameter:mr.util.createBuffer(n.encParameter.value),content:mr.util.createBuffer(l)}}if(n.content){var l="";if(mr.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==De.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[c].value}else l=n.content;e.content=mr.util.createBuffer(l)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}o(zse,"_fromAsn1");function ZDe(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case mr.pki.oids["aes128-CBC"]:case mr.pki.oids["aes192-CBC"]:case mr.pki.oids["aes256-CBC"]:t=mr.aes.createDecryptionCipher(e.encryptedContent.key);break;case mr.pki.oids.desCBC:case mr.pki.oids["des-EDE3-CBC"]:t=mr.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o(ZDe,"_decryptContent")});var nPe=V((k$r,rPe)=>{d();var Oa=ei();_y();q8();yq();V8();Ji();var qq=rPe.exports=Oa.ssh=Oa.ssh||{};qq.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",s="PuTTY-User-Key-File-2: "+n+`\r
`;s+="Encryption: "+i+`\r
`,s+="Comment: "+r+`\r
`;var a=Oa.util.createBuffer();Z8(a,n),eg(a,e.e),eg(a,e.n);var l=Oa.util.encode64(a.bytes(),64),c=Math.floor(l.length/66)+1;s+="Public-Lines: "+c+`\r
`,s+=l;var u=Oa.util.createBuffer();eg(u,e.d),eg(u,e.p),eg(u,e.q),eg(u,e.qInv);var f;if(!t)f=Oa.util.encode64(u.bytes(),64);else{var m=u.length()+16-1;m-=m%16;var h=Uq(u.bytes());h.truncate(h.length()-m+u.length()),u.putBuffer(h);var p=Oa.util.createBuffer();p.putBuffer(Uq("\0\0\0\0",t)),p.putBuffer(Uq("\0\0\0",t));var A=Oa.aes.createEncryptionCipher(p.truncate(8),"CBC");A.start(Oa.util.createBuffer().fillWithByte(0,16)),A.update(u.copy()),A.finish();var x=A.output;x.truncate(16),f=Oa.util.encode64(x.bytes(),64)}c=Math.floor(f.length/66)+1,s+=`\r
Private-Lines: `+c+`\r
`,s+=f;var E=Uq("putty-private-key-file-mac-key",t),v=Oa.util.createBuffer();Z8(v,n),Z8(v,i),Z8(v,r),v.putInt32(a.length()),v.putBuffer(a),v.putInt32(u.length()),v.putBuffer(u);var b=Oa.hmac.create();return b.start("sha1",E),b.update(v.bytes()),s+=`\r
Private-MAC: `+b.digest().toHex()+`\r
`,s};qq.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=Oa.util.createBuffer();return Z8(n,r),eg(n,e.e),eg(n,e.n),r+" "+Oa.util.encode64(n.bytes())+" "+t};qq.privateKeyToOpenSSH=function(e,t){return t?Oa.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):Oa.pki.privateKeyToPem(e)};qq.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Oa.md.md5.create(),n="ssh-rsa",i=Oa.util.createBuffer();Z8(i,n),eg(i,e.e),eg(i,e.n),r.start(),r.update(i.getBytes());var s=r.digest();if(t.encoding==="hex"){var a=s.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return s};function eg(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=Oa.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}o(eg,"_addBigIntegerToBuffer");function Z8(e,t){e.putInt32(t.length),e.putString(t)}o(Z8,"_addStringToBuffer");function Uq(){for(var e=Oa.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o(Uq,"_sha1")});var oPe=V((D$r,iPe)=>{d();iPe.exports=ei();_y();IDe();ih();fq();r_();WDe();q8();jDe();KDe();XDe();xse();bq();ux();hse();vse();tPe();Tse();gse();sse();kq();_d();cse();nPe();Rse();Ji()});var lPe=V(yx=>{"use strict";d();Object.defineProperty(yx,"__esModule",{value:!0});yx.convert=yx.Format=void 0;var m_=oPe(),Qy;(function(e){e.der="der",e.pem="pem",e.txt="txt",e.asn1="asn1",e.x509="x509",e.fingerprint="fingerprint"})(Qy=yx.Format||(yx.Format={}));function sPe(e){var t=m_.pki.pemToDer(e),r=m_.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,i=n[0],s=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,a=n.slice(s);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}o(sPe,"myASN");function k8t(e){var t=sPe(e),r=t.subject.value.map(function(i){return i.value[0].value[1].value}).join("/"),n=t.valid.value.map(function(i){return i.value}).join(" - ");return["Subject	".concat(r),"Valid	".concat(n),String(e)].join(`
`)}o(k8t,"txtFormat");function aPe(e,t){switch(t){case Qy.der:return m_.pki.pemToDer(e);case Qy.pem:return e;case Qy.txt:return k8t(e);case Qy.asn1:return sPe(e);case Qy.fingerprint:var r=m_.md.sha1.create(),n=aPe(e,Qy.der);return r.update(n.getBytes()),r.digest().toHex();case Qy.x509:return m_.pki.certificateFromPem(e);default:throw new Error("unknown format ".concat(t))}}o(aPe,"convert");yx.convert=aPe});var hPe=V(ru=>{"use strict";d();var My=ru&&ru.__assign||function(){return My=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},My.apply(this,arguments)},Wq=ru&&ru.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(ru,"__esModule",{value:!0});ru.convert=ru.Format=ru.addToGlobalAgent=ru.get=void 0;var Yse=require("https"),B8t=require("tls"),cPe=require("child_process"),uPe=GBe(),uA=lPe();Object.defineProperty(ru,"Format",{enumerable:!0,get:o(function(){return uA.Format},"get")});Object.defineProperty(ru,"convert",{enumerable:!0,get:o(function(){return uA.convert},"get")});var fPe=process.platform==="darwin",dPe=Yse.globalAgent,Hq={keychain:"all",unique:!0,excludeBundled:!0,format:uA.Format.pem};function mPe(e){if(e===void 0&&(e=Hq),!fPe)return[];e=My(My({},Hq),e);var t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r=["find-certificate","-a","-p"],n=[];if(e.keychain==="all"||e.keychain==="SystemRootCertificates"){var i="/System/Library/Keychains/SystemRootCertificates.keychain",s=(0,cPe.spawnSync)("/usr/bin/security",r.concat(i)).stdout.toString().split(t).map(function(u){return u.trim()});n=Wq(Wq([],n,!0),s,!0)}if(e.keychain==="all"||e.keychain==="current"){var a=(0,cPe.spawnSync)("/usr/bin/security",r).stdout.toString().split(t).map(function(u){return u.trim()});n=Wq(Wq([],n,!0),a,!0)}if(e.unique||e.excludeBundled){var l=n.map(function(u){return(0,uA.convert)(u,uA.Format.fingerprint)}),c=e.excludeBundled?B8t.rootCertificates.map(function(u){return(0,uA.convert)(u,uA.Format.fingerprint)}):[];n=n.filter(function(u,f){var m=l[f];return!(e.unique&&f!==l.indexOf(m)||e.excludeBundled&&c.includes(m))})}return n.map(function(u){return(0,uA.convert)(u,e.format)})}o(mPe,"get");ru.get=mPe;var Gq=dPe.options.ca,R8t=o(function(e){if(e===void 0&&(e=Hq),!!fPe){var t;Array.isArray(Gq)?t=Array.from(Gq):t=typeof Gq<"u"?[Gq]:[],mPe(My(My(My({},Hq),e),{format:uA.Format.pem,excludeBundled:!1})).forEach(function(r){return t.push(r)}),dPe.options.ca=t,Yse.Agent=function(r){return function(n){var i=typeof n<"u"?My({},n):{};return typeof i.ca>"u"&&(i.ca=t),r.call(this,i)}}(Yse.Agent),(0,uPe.setGlobalDispatcher)(new uPe.Agent({connect:{ca:t}}))}},"addToGlobalAgent");ru.addToGlobalAgent=R8t});var pPe=V((U$r,Kse)=>{d();function D8t(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),i=[],s=new n.Crypt32;try{let a;for(;a=s.next();){let l=new e(a);i.push(l.toString())}}finally{s.done()}return Array.from(new Set(i))}o(D8t,"all");process.platform!=="win32"?Kse.exports.all=()=>[]:Kse.exports.all=D8t});var IPe=V(($$r,vPe)=>{"use strict";d();function bPe(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let i=typeof e;if(n.type&&i!==n.type){if(n.required===!1&&t.slice(r).some(s=>s.type===i))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}o(bPe,"validateParameter");function F8t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o(F8t,"hasOwnProperty");function N8t(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let s=0,a=0;s<t.length;++s,++a){let l=t[s],c=r[a];F8t(l,"default")&&c==null&&(c=l.default),l.type==="object"&&l.default!=null&&(c=Object.assign({},l.default,c)),l.name==="options"&&(typeof c=="function"||c==null)&&(c={}),bPe(c,t,s)?n.push(c):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((s,a)=>{n.push((l,c)=>{if(l)return a(l);s(c)}),e.apply(this,n)});e.apply(this,n)}}o(N8t,"defineOperation");vPe.exports={defineOperation:N8t,validateParameter:bPe}});var oae=V((K$r,SPe)=>{"use strict";d();var r6=QX()("kerberos"),t6=r6.KerberosClient,TPe=r6.KerberosServer,Oy=IPe().defineOperation,L8t=1,Q8t=2,M8t=4,O8t=8,U8t=16,q8t=32,W8t=64,G8t=128,H8t=256,wPe=0,V8t=9,j8t=6;t6.prototype.step=Oy(t6.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);t6.prototype.wrap=Oy(t6.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);t6.prototype.unwrap=Oy(t6.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);TPe.prototype.step=Oy(TPe.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var $8t=Oy(r6.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),z8t=Oy(r6.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),Y8t=Oy(r6.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:wPe}},{name:"callback",type:"function",required:!1}]),K8t=Oy(r6.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);SPe.exports={initializeClient:Y8t,initializeServer:K8t,principalDetails:z8t,checkPassword:$8t,GSS_C_DELEG_FLAG:L8t,GSS_C_MUTUAL_FLAG:Q8t,GSS_C_REPLAY_FLAG:M8t,GSS_C_SEQUENCE_FLAG:O8t,GSS_C_CONF_FLAG:U8t,GSS_C_INTEG_FLAG:q8t,GSS_C_ANON_FLAG:W8t,GSS_C_PROT_READY_FLAG:G8t,GSS_C_TRANS_FLAG:H8t,GSS_C_NO_OID:wPe,GSS_MECH_OID_KRB5:V8t,GSS_MECH_OID_SPNEGO:j8t}});var _Pe=V((X$r,J8t)=>{J8t.exports={name:"kerberos",version:"2.2.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"^7.1.2"},devDependencies:{"@types/node":"^22.2.0",chai:"^4.4.1","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^9.9.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","jsdoc-to-markdown":"^8.0.3",mocha:"^10.7.3",mongodb:"^6.8.0","node-gyp":"^10.1.0",prebuild:"^13.0.0",prettier:"^3.3.3",request:"^2.88.2"},overrides:{prebuild:{"node-gyp":"$node-gyp"}},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"ESLINT_USE_FLAT_CONFIG=false eslint lib test --fix","check:lint":"ESLINT_USE_FLAT_CONFIG=false eslint lib test",precommit:"check-clang-format",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",test:"mocha test",prebuild:"prebuild --runtime napi --strip --verbose --all"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var BPe=V((Z$r,kPe)=>{"use strict";d();var X8t=require("dns"),Z8t=oae(),sae=class{static{o(this,"MongoAuthProcess")}constructor(t,r,n,i){i=i||{},this.host=t,this.port=r,this.serviceName=n||i.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof i.gssapiCanonicalizeHostName=="boolean"?i.gssapiCanonicalizeHostName:!1,this._transition=e6t(this),this.retries=10}init(t,r,n){let i=this;this.username=t,this.password=r;function s(a,l,c){if(!a)return c();X8t.resolveCname(l,(u,f)=>{if(u)return c(u);Array.isArray(f)&&f.length>0&&(i.host=f[0]),c()})}o(s,"performGssapiCanonicalizeHostName"),s(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let l={};r!=null&&Object.assign(l,{user:t,password:r});let c=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;Z8t.initializeClient(c,l,(u,f)=>{if(u)return n(u,null);i.client=f,n(null,f)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};function e6t(e){return(t,r)=>{e.client.step("",(n,i)=>{if(n)return r(n);e._transition=t6t(e),r(null,i)})}}o(e6t,"firstTransition");function t6t(e){return(t,r)=>{e.client.step(t,(n,i)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=r6t(e),r(null,i||"")})}}o(t6t,"secondTransition");function r6t(e){return(t,r)=>{e.client.unwrap(t,(n,i)=>{if(n)return r(n,!1);e.client.wrap(i,{user:e.username},(s,a)=>{if(s)return r(s,!1);e._transition=n6t(e),r(null,a)})})}}o(r6t,"thirdTransition");function n6t(e){return(t,r)=>{e._transition=null,r(null,!0)}}o(n6t,"fourthTransition");kPe.exports={MongoAuthProcess:sae}});var DPe=V((rzr,h_)=>{"use strict";d();var RPe=oae();h_.exports=RPe;h_.exports.Kerberos=RPe;h_.exports.version=_Pe().version;h_.exports.processes={MongoAuthProcess:BPe().MongoAuthProcess}});var U_=V((Bcn,aNe)=>{d();var D9t="2.0.0",P9t=Number.MAX_SAFE_INTEGER||9007199254740991,F9t=16,N9t=250,L9t=["major","premajor","minor","preminor","patch","prepatch","prerelease"];aNe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:F9t,MAX_SAFE_BUILD_LENGTH:N9t,MAX_SAFE_INTEGER:P9t,RELEASE_TYPES:L9t,SEMVER_SPEC_VERSION:D9t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var q_=V((Dcn,lNe)=>{d();var Q9t=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};lNe.exports=Q9t});var v6=V((ag,cNe)=>{d();var{MAX_SAFE_COMPONENT_LENGTH:Ale,MAX_SAFE_BUILD_LENGTH:M9t,MAX_LENGTH:O9t}=U_(),U9t=q_();ag=cNe.exports={};var q9t=ag.re=[],W9t=ag.safeRe=[],Sr=ag.src=[],G9t=ag.safeSrc=[],_r=ag.t={},H9t=0,yle="[a-zA-Z0-9-]",V9t=[["\\s",1],["\\d",O9t],[yle,M9t]],j9t=o(e=>{for(let[t,r]of V9t)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},"makeSafeRegex"),Gn=o((e,t,r)=>{let n=j9t(t),i=H9t++;U9t(e,i,t),_r[e]=i,Sr[i]=t,G9t[i]=n,q9t[i]=new RegExp(t,r?"g":void 0),W9t[i]=new RegExp(n,r?"g":void 0)},"createToken");Gn("NUMERICIDENTIFIER","0|[1-9]\\d*");Gn("NUMERICIDENTIFIERLOOSE","\\d+");Gn("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${yle}*`);Gn("MAINVERSION",`(${Sr[_r.NUMERICIDENTIFIER]})\\.(${Sr[_r.NUMERICIDENTIFIER]})\\.(${Sr[_r.NUMERICIDENTIFIER]})`);Gn("MAINVERSIONLOOSE",`(${Sr[_r.NUMERICIDENTIFIERLOOSE]})\\.(${Sr[_r.NUMERICIDENTIFIERLOOSE]})\\.(${Sr[_r.NUMERICIDENTIFIERLOOSE]})`);Gn("PRERELEASEIDENTIFIER",`(?:${Sr[_r.NUMERICIDENTIFIER]}|${Sr[_r.NONNUMERICIDENTIFIER]})`);Gn("PRERELEASEIDENTIFIERLOOSE",`(?:${Sr[_r.NUMERICIDENTIFIERLOOSE]}|${Sr[_r.NONNUMERICIDENTIFIER]})`);Gn("PRERELEASE",`(?:-(${Sr[_r.PRERELEASEIDENTIFIER]}(?:\\.${Sr[_r.PRERELEASEIDENTIFIER]})*))`);Gn("PRERELEASELOOSE",`(?:-?(${Sr[_r.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Sr[_r.PRERELEASEIDENTIFIERLOOSE]})*))`);Gn("BUILDIDENTIFIER",`${yle}+`);Gn("BUILD",`(?:\\+(${Sr[_r.BUILDIDENTIFIER]}(?:\\.${Sr[_r.BUILDIDENTIFIER]})*))`);Gn("FULLPLAIN",`v?${Sr[_r.MAINVERSION]}${Sr[_r.PRERELEASE]}?${Sr[_r.BUILD]}?`);Gn("FULL",`^${Sr[_r.FULLPLAIN]}$`);Gn("LOOSEPLAIN",`[v=\\s]*${Sr[_r.MAINVERSIONLOOSE]}${Sr[_r.PRERELEASELOOSE]}?${Sr[_r.BUILD]}?`);Gn("LOOSE",`^${Sr[_r.LOOSEPLAIN]}$`);Gn("GTLT","((?:<|>)?=?)");Gn("XRANGEIDENTIFIERLOOSE",`${Sr[_r.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Gn("XRANGEIDENTIFIER",`${Sr[_r.NUMERICIDENTIFIER]}|x|X|\\*`);Gn("XRANGEPLAIN",`[v=\\s]*(${Sr[_r.XRANGEIDENTIFIER]})(?:\\.(${Sr[_r.XRANGEIDENTIFIER]})(?:\\.(${Sr[_r.XRANGEIDENTIFIER]})(?:${Sr[_r.PRERELEASE]})?${Sr[_r.BUILD]}?)?)?`);Gn("XRANGEPLAINLOOSE",`[v=\\s]*(${Sr[_r.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Sr[_r.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Sr[_r.XRANGEIDENTIFIERLOOSE]})(?:${Sr[_r.PRERELEASELOOSE]})?${Sr[_r.BUILD]}?)?)?`);Gn("XRANGE",`^${Sr[_r.GTLT]}\\s*${Sr[_r.XRANGEPLAIN]}$`);Gn("XRANGELOOSE",`^${Sr[_r.GTLT]}\\s*${Sr[_r.XRANGEPLAINLOOSE]}$`);Gn("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Ale}})(?:\\.(\\d{1,${Ale}}))?(?:\\.(\\d{1,${Ale}}))?`);Gn("COERCE",`${Sr[_r.COERCEPLAIN]}(?:$|[^\\d])`);Gn("COERCEFULL",Sr[_r.COERCEPLAIN]+`(?:${Sr[_r.PRERELEASE]})?(?:${Sr[_r.BUILD]})?(?:$|[^\\d])`);Gn("COERCERTL",Sr[_r.COERCE],!0);Gn("COERCERTLFULL",Sr[_r.COERCEFULL],!0);Gn("LONETILDE","(?:~>?)");Gn("TILDETRIM",`(\\s*)${Sr[_r.LONETILDE]}\\s+`,!0);ag.tildeTrimReplace="$1~";Gn("TILDE",`^${Sr[_r.LONETILDE]}${Sr[_r.XRANGEPLAIN]}$`);Gn("TILDELOOSE",`^${Sr[_r.LONETILDE]}${Sr[_r.XRANGEPLAINLOOSE]}$`);Gn("LONECARET","(?:\\^)");Gn("CARETTRIM",`(\\s*)${Sr[_r.LONECARET]}\\s+`,!0);ag.caretTrimReplace="$1^";Gn("CARET",`^${Sr[_r.LONECARET]}${Sr[_r.XRANGEPLAIN]}$`);Gn("CARETLOOSE",`^${Sr[_r.LONECARET]}${Sr[_r.XRANGEPLAINLOOSE]}$`);Gn("COMPARATORLOOSE",`^${Sr[_r.GTLT]}\\s*(${Sr[_r.LOOSEPLAIN]})$|^$`);Gn("COMPARATOR",`^${Sr[_r.GTLT]}\\s*(${Sr[_r.FULLPLAIN]})$|^$`);Gn("COMPARATORTRIM",`(\\s*)${Sr[_r.GTLT]}\\s*(${Sr[_r.LOOSEPLAIN]}|${Sr[_r.XRANGEPLAIN]})`,!0);ag.comparatorTrimReplace="$1$2$3";Gn("HYPHENRANGE",`^\\s*(${Sr[_r.XRANGEPLAIN]})\\s+-\\s+(${Sr[_r.XRANGEPLAIN]})\\s*$`);Gn("HYPHENRANGELOOSE",`^\\s*(${Sr[_r.XRANGEPLAINLOOSE]})\\s+-\\s+(${Sr[_r.XRANGEPLAINLOOSE]})\\s*$`);Gn("STAR","(<|>)?=?\\s*\\*");Gn("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Gn("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var oG=V((Lcn,uNe)=>{d();var $9t=Object.freeze({loose:!0}),z9t=Object.freeze({}),Y9t=o(e=>e?typeof e!="object"?$9t:e:z9t,"parseOptions");uNe.exports=Y9t});var Cle=V((Ocn,mNe)=>{d();var fNe=/^[0-9]+$/,dNe=o((e,t)=>{let r=fNe.test(e),n=fNe.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},"compareIdentifiers"),K9t=o((e,t)=>dNe(t,e),"rcompareIdentifiers");mNe.exports={compareIdentifiers:dNe,rcompareIdentifiers:K9t}});var _0=V((Wcn,ANe)=>{d();var sG=q_(),{MAX_LENGTH:hNe,MAX_SAFE_INTEGER:aG}=U_(),{safeRe:pNe,safeSrc:gNe,t:lG}=v6(),J9t=oG(),{compareIdentifiers:I6}=Cle(),xle=class e{static{o(this,"SemVer")}constructor(t,r){if(r=J9t(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>hNe)throw new TypeError(`version is longer than ${hNe} characters`);sG("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?pNe[lG.LOOSE]:pNe[lG.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>aG||this.major<0)throw new TypeError("Invalid major version");if(this.minor>aG||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>aG||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<aG)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(sG("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),I6(this.major,t.major)||I6(this.minor,t.minor)||I6(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(sG("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return I6(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(sG("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return I6(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=new RegExp(`^${this.options.loose?gNe[lG.PRERELEASELOOSE]:gNe[lG.PRERELEASE]}$`),s=`-${r}`.match(i);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),I6(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};ANe.exports=xle});var Dx=V((Vcn,CNe)=>{d();var yNe=_0(),X9t=o((e,t,r=!1)=>{if(e instanceof yNe)return e;try{return new yNe(e,t)}catch(n){if(!r)return null;throw n}},"parse");CNe.exports=X9t});var ENe=V((zcn,xNe)=>{d();var Z9t=Dx(),e7t=o((e,t)=>{let r=Z9t(e,t);return r?r.version:null},"valid");xNe.exports=e7t});var vNe=V((Jcn,bNe)=>{d();var t7t=Dx(),r7t=o((e,t)=>{let r=t7t(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},"clean");bNe.exports=r7t});var wNe=V((eun,TNe)=>{d();var INe=_0(),n7t=o((e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new INe(e instanceof INe?e.version:e,r).inc(t,n,i).version}catch{return null}},"inc");TNe.exports=n7t});var kNe=V((iun,_Ne)=>{d();var SNe=Dx(),i7t=o((e,t)=>{let r=SNe(e,null,!0),n=SNe(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,l=s?n:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(a)===0)return l.minor&&!l.patch?"minor":"patch"}let f=c?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"},"diff");_Ne.exports=i7t});var RNe=V((aun,BNe)=>{d();var o7t=_0(),s7t=o((e,t)=>new o7t(e,t).major,"major");BNe.exports=s7t});var PNe=V((uun,DNe)=>{d();var a7t=_0(),l7t=o((e,t)=>new a7t(e,t).minor,"minor");DNe.exports=l7t});var NNe=V((mun,FNe)=>{d();var c7t=_0(),u7t=o((e,t)=>new c7t(e,t).patch,"patch");FNe.exports=u7t});var QNe=V((gun,LNe)=>{d();var f7t=Dx(),d7t=o((e,t)=>{let r=f7t(e,t);return r&&r.prerelease.length?r.prerelease:null},"prerelease");LNe.exports=d7t});var Nd=V((Cun,ONe)=>{d();var MNe=_0(),m7t=o((e,t,r)=>new MNe(e,r).compare(new MNe(t,r)),"compare");ONe.exports=m7t});var qNe=V((bun,UNe)=>{d();var h7t=Nd(),p7t=o((e,t,r)=>h7t(t,e,r),"rcompare");UNe.exports=p7t});var GNe=V((Tun,WNe)=>{d();var g7t=Nd(),A7t=o((e,t)=>g7t(e,t,!0),"compareLoose");WNe.exports=A7t});var cG=V((_un,VNe)=>{d();var HNe=_0(),y7t=o((e,t,r)=>{let n=new HNe(e,r),i=new HNe(t,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");VNe.exports=y7t});var $Ne=V((Run,jNe)=>{d();var C7t=cG(),x7t=o((e,t)=>e.sort((r,n)=>C7t(r,n,t)),"sort");jNe.exports=x7t});var YNe=V((Fun,zNe)=>{d();var E7t=cG(),b7t=o((e,t)=>e.sort((r,n)=>E7t(n,r,t)),"rsort");zNe.exports=b7t});var W_=V((Qun,KNe)=>{d();var v7t=Nd(),I7t=o((e,t,r)=>v7t(e,t,r)>0,"gt");KNe.exports=I7t});var uG=V((Uun,JNe)=>{d();var T7t=Nd(),w7t=o((e,t,r)=>T7t(e,t,r)<0,"lt");JNe.exports=w7t});var Ele=V((Gun,XNe)=>{d();var S7t=Nd(),_7t=o((e,t,r)=>S7t(e,t,r)===0,"eq");XNe.exports=_7t});var ble=V((jun,ZNe)=>{d();var k7t=Nd(),B7t=o((e,t,r)=>k7t(e,t,r)!==0,"neq");ZNe.exports=B7t});var fG=V((Yun,eLe)=>{d();var R7t=Nd(),D7t=o((e,t,r)=>R7t(e,t,r)>=0,"gte");eLe.exports=D7t});var dG=V((Xun,tLe)=>{d();var P7t=Nd(),F7t=o((e,t,r)=>P7t(e,t,r)<=0,"lte");tLe.exports=F7t});var vle=V((tfn,rLe)=>{d();var N7t=Ele(),L7t=ble(),Q7t=W_(),M7t=fG(),O7t=uG(),U7t=dG(),q7t=o((e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return N7t(e,r,n);case"!=":return L7t(e,r,n);case">":return Q7t(e,r,n);case">=":return M7t(e,r,n);case"<":return O7t(e,r,n);case"<=":return U7t(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}},"cmp");rLe.exports=q7t});var iLe=V((ifn,nLe)=>{d();var W7t=_0(),G7t=Dx(),{safeRe:mG,t:hG}=v6(),H7t=o((e,t)=>{if(e instanceof W7t)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?mG[hG.COERCEFULL]:mG[hG.COERCE]);else{let c=t.includePrerelease?mG[hG.COERCERTLFULL]:mG[hG.COERCERTL],u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",l=t.includePrerelease&&r[6]?`+${r[6]}`:"";return G7t(`${n}.${i}.${s}${a}${l}`,t)},"coerce");nLe.exports=H7t});var sLe=V((afn,oLe)=>{d();var Ile=class{static{o(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};oLe.exports=Ile});var Ld=V((ufn,uLe)=>{d();var V7t=/\s+/g,Tle=class e{static{o(this,"Range")}constructor(t,r){if(r=$7t(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof wle)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(V7t," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!lLe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&eTt(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&X7t)|(this.options.loose&&Z7t))+":"+t,i=aLe.get(n);if(i)return i;let s=this.options.loose,a=s?iu[oc.HYPHENRANGELOOSE]:iu[oc.HYPHENRANGE];t=t.replace(a,uTt(this.options.includePrerelease)),ls("hyphen replace",t),t=t.replace(iu[oc.COMPARATORTRIM],Y7t),ls("comparator trim",t),t=t.replace(iu[oc.TILDETRIM],K7t),ls("tilde trim",t),t=t.replace(iu[oc.CARETTRIM],J7t),ls("caret trim",t);let l=t.split(" ").map(m=>tTt(m,this.options)).join(" ").split(/\s+/).map(m=>cTt(m,this.options));s&&(l=l.filter(m=>(ls("loose invalid filter",m,this.options),!!m.match(iu[oc.COMPARATORLOOSE])))),ls("range list",l);let c=new Map,u=l.map(m=>new wle(m,this.options));for(let m of u){if(lLe(m))return[m];c.set(m.value,m)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return aLe.set(n,f),f}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>cLe(n,r)&&t.set.some(i=>cLe(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new z7t(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(fTt(this.set[r],t,this.options))return!0;return!1}};uLe.exports=Tle;var j7t=sLe(),aLe=new j7t,$7t=oG(),wle=G_(),ls=q_(),z7t=_0(),{safeRe:iu,t:oc,comparatorTrimReplace:Y7t,tildeTrimReplace:K7t,caretTrimReplace:J7t}=v6(),{FLAG_INCLUDE_PRERELEASE:X7t,FLAG_LOOSE:Z7t}=U_(),lLe=o(e=>e.value==="<0.0.0-0","isNullSet"),eTt=o(e=>e.value==="","isAny"),cLe=o((e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},"isSatisfiable"),tTt=o((e,t)=>(ls("comp",e,t),e=iTt(e,t),ls("caret",e),e=rTt(e,t),ls("tildes",e),e=sTt(e,t),ls("xrange",e),e=lTt(e,t),ls("stars",e),e),"parseComparator"),sc=o(e=>!e||e.toLowerCase()==="x"||e==="*","isX"),rTt=o((e,t)=>e.trim().split(/\s+/).map(r=>nTt(r,t)).join(" "),"replaceTildes"),nTt=o((e,t)=>{let r=t.loose?iu[oc.TILDELOOSE]:iu[oc.TILDE];return e.replace(r,(n,i,s,a,l)=>{ls("tilde",e,n,i,s,a,l);let c;return sc(i)?c="":sc(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:sc(a)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:l?(ls("replaceTilde pr",l),c=`>=${i}.${s}.${a}-${l} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,ls("tilde return",c),c})},"replaceTilde"),iTt=o((e,t)=>e.trim().split(/\s+/).map(r=>oTt(r,t)).join(" "),"replaceCarets"),oTt=o((e,t)=>{ls("caret",e,t);let r=t.loose?iu[oc.CARETLOOSE]:iu[oc.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,a,l,c)=>{ls("caret",e,i,s,a,l,c);let u;return sc(s)?u="":sc(a)?u=`>=${s}.0.0${n} <${+s+1}.0.0-0`:sc(l)?s==="0"?u=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:c?(ls("replaceCaret pr",c),s==="0"?a==="0"?u=`>=${s}.${a}.${l}-${c} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}-${c} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l}-${c} <${+s+1}.0.0-0`):(ls("no pr"),s==="0"?a==="0"?u=`>=${s}.${a}.${l}${n} <${s}.${a}.${+l+1}-0`:u=`>=${s}.${a}.${l}${n} <${s}.${+a+1}.0-0`:u=`>=${s}.${a}.${l} <${+s+1}.0.0-0`),ls("caret return",u),u})},"replaceCaret"),sTt=o((e,t)=>(ls("replaceXRanges",e,t),e.split(/\s+/).map(r=>aTt(r,t)).join(" ")),"replaceXRanges"),aTt=o((e,t)=>{e=e.trim();let r=t.loose?iu[oc.XRANGELOOSE]:iu[oc.XRANGE];return e.replace(r,(n,i,s,a,l,c)=>{ls("xRange",e,n,i,s,a,l,c);let u=sc(s),f=u||sc(a),m=f||sc(l),h=m;return i==="="&&h&&(i=""),c=t.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(f&&(a=0),l=0,i===">"?(i=">=",f?(s=+s+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",f?s=+s+1:a=+a+1),i==="<"&&(c="-0"),n=`${i+s}.${a}.${l}${c}`):f?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:m&&(n=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),ls("xRange return",n),n})},"replaceXRange"),lTt=o((e,t)=>(ls("replaceStars",e,t),e.trim().replace(iu[oc.STAR],"")),"replaceStars"),cTt=o((e,t)=>(ls("replaceGTE0",e,t),e.trim().replace(iu[t.includePrerelease?oc.GTE0PRE:oc.GTE0],"")),"replaceGTE0"),uTt=o(e=>(t,r,n,i,s,a,l,c,u,f,m,h)=>(sc(n)?r="":sc(i)?r=`>=${n}.0.0${e?"-0":""}`:sc(s)?r=`>=${n}.${i}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,sc(u)?c="":sc(f)?c=`<${+u+1}.0.0-0`:sc(m)?c=`<${u}.${+f+1}.0-0`:h?c=`<=${u}.${f}.${m}-${h}`:e?c=`<${u}.${f}.${+m+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),"hyphenReplace"),fTt=o((e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(ls(e[n].semver),e[n].semver!==wle.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0},"testSet")});var G_=V((mfn,gLe)=>{d();var H_=Symbol("SemVer ANY"),kle=class e{static{o(this,"Comparator")}static get ANY(){return H_}constructor(t,r){if(r=fLe(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),_le("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===H_?this.value="":this.value=this.operator+this.semver.version,_le("comp",this)}parse(t){let r=this.options.loose?dLe[mLe.COMPARATORLOOSE]:dLe[mLe.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new hLe(n[2],this.options.loose):this.semver=H_}toString(){return this.value}test(t){if(_le("Comparator.test",t,this.options.loose),this.semver===H_||t===H_)return!0;if(typeof t=="string")try{t=new hLe(t,this.options)}catch{return!1}return Sle(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new pLe(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new pLe(this.value,r).test(t.semver):(r=fLe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||Sle(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||Sle(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};gLe.exports=kle;var fLe=oG(),{safeRe:dLe,t:mLe}=v6(),Sle=vle(),_le=q_(),hLe=_0(),pLe=Ld()});var V_=V((gfn,ALe)=>{d();var dTt=Ld(),mTt=o((e,t,r)=>{try{t=new dTt(t,r)}catch{return!1}return t.test(e)},"satisfies");ALe.exports=mTt});var CLe=V((Cfn,yLe)=>{d();var hTt=Ld(),pTt=o((e,t)=>new hTt(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");yLe.exports=pTt});var ELe=V((bfn,xLe)=>{d();var gTt=_0(),ATt=Ld(),yTt=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new ATt(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new gTt(n,r))}),n},"maxSatisfying");xLe.exports=yTt});var vLe=V((Tfn,bLe)=>{d();var CTt=_0(),xTt=Ld(),ETt=o((e,t,r)=>{let n=null,i=null,s=null;try{s=new xTt(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new CTt(n,r))}),n},"minSatisfying");bLe.exports=ETt});var wLe=V((_fn,TLe)=>{d();var Ble=_0(),bTt=Ld(),ILe=W_(),vTt=o((e,t)=>{e=new bTt(e,t);let r=new Ble("0.0.0");if(e.test(r)||(r=new Ble("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(a=>{let l=new Ble(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!s||ILe(l,s))&&(s=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||ILe(r,s))&&(r=s)}return r&&e.test(r)?r:null},"minVersion");TLe.exports=vTt});var _Le=V((Rfn,SLe)=>{d();var ITt=Ld(),TTt=o((e,t)=>{try{return new ITt(e,t).range||"*"}catch{return null}},"validRange");SLe.exports=TTt});var pG=V((Ffn,DLe)=>{d();var wTt=_0(),RLe=G_(),{ANY:STt}=RLe,_Tt=Ld(),kTt=V_(),kLe=W_(),BLe=uG(),BTt=dG(),RTt=fG(),DTt=o((e,t,r,n)=>{e=new wTt(e,n),t=new _Tt(t,n);let i,s,a,l,c;switch(r){case">":i=kLe,s=BTt,a=BLe,l=">",c=">=";break;case"<":i=BLe,s=RTt,a=kLe,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(kTt(e,t,n))return!1;for(let u=0;u<t.set.length;++u){let f=t.set[u],m=null,h=null;if(f.forEach(p=>{p.semver===STt&&(p=new RLe(">=0.0.0")),m=m||p,h=h||p,i(p.semver,m.semver,n)?m=p:a(p.semver,h.semver,n)&&(h=p)}),m.operator===l||m.operator===c||(!h.operator||h.operator===l)&&s(e,h.semver))return!1;if(h.operator===c&&a(e,h.semver))return!1}return!0},"outside");DLe.exports=DTt});var FLe=V((Qfn,PLe)=>{d();var PTt=pG(),FTt=o((e,t,r)=>PTt(e,t,">",r),"gtr");PLe.exports=FTt});var LLe=V((Ufn,NLe)=>{d();var NTt=pG(),LTt=o((e,t,r)=>NTt(e,t,"<",r),"ltr");NLe.exports=LTt});var OLe=V((Gfn,MLe)=>{d();var QLe=Ld(),QTt=o((e,t,r)=>(e=new QLe(e,r),t=new QLe(t,r),e.intersects(t,r)),"intersects");MLe.exports=QTt});var qLe=V((jfn,ULe)=>{d();var MTt=V_(),OTt=Nd();ULe.exports=(e,t,r)=>{let n=[],i=null,s=null,a=e.sort((f,m)=>OTt(f,m,r));for(let f of a)MTt(f,t,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let l=[];for(let[f,m]of n)f===m?l.push(f):!m&&f===a[0]?l.push("*"):m?f===a[0]?l.push(`<=${m}`):l.push(`${f} - ${m}`):l.push(`>=${f}`);let c=l.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var $Le=V((zfn,jLe)=>{d();var WLe=Ld(),Dle=G_(),{ANY:Rle}=Dle,j_=V_(),Ple=Nd(),UTt=o((e,t,r={})=>{if(e===t)return!0;e=new WLe(e,r),t=new WLe(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let a=WTt(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),qTt=[new Dle(">=0.0.0-0")],GLe=[new Dle(">=0.0.0")],WTt=o((e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Rle){if(t.length===1&&t[0].semver===Rle)return!0;r.includePrerelease?e=qTt:e=GLe}if(t.length===1&&t[0].semver===Rle){if(r.includePrerelease)return!0;t=GLe}let n=new Set,i,s;for(let p of e)p.operator===">"||p.operator===">="?i=HLe(i,p,r):p.operator==="<"||p.operator==="<="?s=VLe(s,p,r):n.add(p.semver);if(n.size>1)return null;let a;if(i&&s){if(a=Ple(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let p of n){if(i&&!j_(p,String(i),r)||s&&!j_(p,String(s),r))return null;for(let A of t)if(!j_(p,String(A),r))return!1;return!0}let l,c,u,f,m=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&s.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let p of t){if(f=f||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(l=HLe(i,p,r),l===p&&l!==i)return!1}else if(i.operator===">="&&!j_(i.semver,String(p),r))return!1}if(s){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator==="<"||p.operator==="<="){if(c=VLe(s,p,r),c===p&&c!==s)return!1}else if(s.operator==="<="&&!j_(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&a!==0)return!1}return!(i&&u&&!s&&a!==0||s&&f&&!i&&a!==0||h||m)},"simpleSubset"),HLe=o((e,t,r)=>{if(!e)return t;let n=Ple(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},"higherGT"),VLe=o((e,t,r)=>{if(!e)return t;let n=Ple(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e},"lowerLT");jLe.exports=UTt});var Nle=V((Jfn,KLe)=>{d();var Fle=v6(),zLe=U_(),GTt=_0(),YLe=Cle(),HTt=Dx(),VTt=ENe(),jTt=vNe(),$Tt=wNe(),zTt=kNe(),YTt=RNe(),KTt=PNe(),JTt=NNe(),XTt=QNe(),ZTt=Nd(),ewt=qNe(),twt=GNe(),rwt=cG(),nwt=$Ne(),iwt=YNe(),owt=W_(),swt=uG(),awt=Ele(),lwt=ble(),cwt=fG(),uwt=dG(),fwt=vle(),dwt=iLe(),mwt=G_(),hwt=Ld(),pwt=V_(),gwt=CLe(),Awt=ELe(),ywt=vLe(),Cwt=wLe(),xwt=_Le(),Ewt=pG(),bwt=FLe(),vwt=LLe(),Iwt=OLe(),Twt=qLe(),wwt=$Le();KLe.exports={parse:HTt,valid:VTt,clean:jTt,inc:$Tt,diff:zTt,major:YTt,minor:KTt,patch:JTt,prerelease:XTt,compare:ZTt,rcompare:ewt,compareLoose:twt,compareBuild:rwt,sort:nwt,rsort:iwt,gt:owt,lt:swt,eq:awt,neq:lwt,gte:cwt,lte:uwt,cmp:fwt,coerce:dwt,Comparator:mwt,Range:hwt,satisfies:pwt,toComparators:gwt,maxSatisfying:Awt,minSatisfying:ywt,minVersion:Cwt,validRange:xwt,outside:Ewt,gtr:bwt,ltr:vwt,intersects:Iwt,simplifyRange:Twt,subset:wwt,SemVer:GTt,re:Fle.re,src:Fle.src,tokens:Fle.t,SEMVER_SPEC_VERSION:zLe.SEMVER_SPEC_VERSION,RELEASE_TYPES:zLe.RELEASE_TYPES,compareIdentifiers:YLe.compareIdentifiers,rcompareIdentifiers:YLe.rcompareIdentifiers}});var df=V(K_=>{"use strict";d();Object.defineProperty(K_,"__esModule",{value:!0});K_.dedent=void 0;function AQe(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(l,c){var u=c.match(/\n([\t ]+|(?!\s).)/g);return u?l.concat(u.map(function(f){var m,h;return(h=(m=f.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&h!==void 0?h:0})):l},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(l){return l.replace(s,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return t.forEach(function(l,c){var u=a.match(/(?:^|\n)( *)$/),f=u?u[1]:"",m=l;typeof l=="string"&&l.includes(`
`)&&(m=String(l).split(`
`).map(function(h,p){return p===0?h:""+f+h}).join(`
`)),a+=m+n[c+1]}),a}o(AQe,"dedent");K_.dedent=AQe;K_.default=AQe});var TQe=V(Yle=>{"use strict";d();Object.defineProperty(Yle,"__esModule",{value:!0});Yle.workerFile=`
const { parentPort } = require('worker_threads')

parentPort.on('message', async worker => {
  const response = {
    error: null,
    data: null
  }

  try {
    eval(worker)
    // __executor__ is defined in worker
    response.data = await __executor__()
    parentPort.postMessage(response)
  } catch (err) {
    response.data = null
    response.error = {
      message: err.message,
      stack: err.stack
    }

    try {
      parentPort.postMessage(response)
    } catch (err) {
      console.error(err)
    }
  }
})
`});var RQe=V(Jle=>{"use strict";d();Object.defineProperty(Jle,"__esModule",{value:!0});var wQe=require("worker_threads"),zwt=require("v8"),Ywt=require("os"),SQe=TQe(),wG="ready",_Qe="spawning",Kwt="busy",SG="off",kQe=Ywt.cpus().length,BQe=process.version.replace("v","").split("."),Jwt=parseInt(BQe[0]),Xwt=parseInt(BQe[1]),Kle=class{static{o(this,"WorkerPool")}constructor(){this.maxWorkers=kQe,this.taskQueue=[],this.workers=[]}resurrect(t){let r=new wQe.Worker(SQe.workerFile,{eval:!0});t.status=_Qe,t.worker=r,r.once("online",()=>process.nextTick(()=>{t.status=wG,r.removeAllListeners(),this.tick()})),r.once("error",n=>{console.error(n),t.status=SG,r.removeAllListeners(),this.tick()})}tick(){if(this.workers.filter(({status:c})=>c===SG).forEach(c=>this.resurrect(c)),this.taskQueue.length===0)return;let t;for(let c=0;c<this.workers.length;c++)if(this.workers[c].status===wG){t=this.workers[c];break}if(typeof t>"u")return;let r=this.taskQueue.shift();t.status=Kwt;let{worker:n}=t,{handler:i,config:s,resolve:a,reject:l}=r;try{let c="";for(let h in s.ctx){if(!s.ctx.hasOwnProperty(h))continue;let p;switch(typeof s.ctx[h]){case"string":p=`'${s.ctx[h]}'`;break;case"object":p=JSON.stringify(s.ctx[h]);break;default:p=s.ctx[h]}c+=`let ${h} = ${p}
`}let u=zwt.serialize(s.data),f=JSON.stringify(u),m=`
      async function __executor__() {
        const v8 = require('v8')
        ${c}
        const dataParsed = JSON.parse('${f}')
        const dataBuffer = Buffer.from(dataParsed.data)
        const dataDeserialized = v8.deserialize(dataBuffer)
        return await (${i.toString()})(dataDeserialized)
      }
      `;n.once("message",h=>{if(this.free(n),typeof h.error>"u"||h.error===null)return a(h.data);let p=new Error(h.error.message);p.stack=h.error.stack,l(p)}),n.once("error",h=>{t.status=SG,l(h),this.tick()}),n.postMessage(m)}catch(c){this.free(n),l(c)}}enqueue({handler:t,config:r,resolve:n,reject:i}){this.taskQueue.push({handler:t,config:r,resolve:n,reject:i}),this.tick()}free(t){for(let r=0;r<this.workers.length;r++)if(t.threadId===this.workers[r].worker.threadId){this.workers[r].status=wG,this.workers[r].worker.removeAllListeners(),this.tick();break}}setup(t={}){return this.maxWorkers=t.maxWorkers>0?t.maxWorkers:kQe,this.maxWorkers>10&&console.warn(`Worker pool has more than 10 workers.
You should also increase the Max Listeners of Node.js (https://nodejs.org/docs/latest/api/events.html#events_emitter_setmaxlisteners_n)
Otherwise, limit them with start({maxWorkers: 10})`),new Promise((r,n)=>{let i=0,s=0;for(let a=0;a<this.maxWorkers;a++){let l=new wQe.Worker(SQe.workerFile,{eval:!0});this.workers.push({status:_Qe,worker:l}),l.once("online",(c=>()=>{process.nextTick(()=>{this.workers[c].status=wG,this.workers[c].worker.removeAllListeners(),i++,i>0&&i+s===this.maxWorkers&&r()})})(a)),l.once("error",(c=>u=>{this.workers[c].status=SG,this.workers[c].worker.removeAllListeners(),s++,s===this.maxWorkers&&n(u)})(a))}})}async teardown(){if(Jwt>=12&&Xwt>=5){let t=[];for(let{worker:r}of this.workers)t.push(r.terminate());await Promise.all(t),this.workers=[]}else await new Promise(r=>{let n=0;for(let i=0;i<this.workers.length;i++)this.workers[i].worker.terminate(()=>{n++,n===this.workers.length&&(this.workers=[],r())})})}};Jle.default=new Kle});var _G=V(Fx=>{"use strict";d();var Zwt=Fx&&Fx.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fx,"__esModule",{value:!0});var J_=Zwt(RQe()),eSt=`job needs a function.
Try with:
> job(() => {...}, config)`,tSt=`job needs an object as ctx.
Try with:
> job(() => {...}, {ctx: {...}})`;function rSt(e,t={ctx:{},data:{}}){return new Promise((r,n)=>{if(typeof e!="function")return n(new Error(eSt));if(t.ctx=t.ctx||{},t.data=t.data||{},typeof t.ctx!="object")return n(new Error(tSt));J_.default.enqueue({handler:e,config:t,resolve:r,reject:n})})}o(rSt,"job");Fx.job=rSt;Fx.stop=J_.default.teardown.bind(J_.default);Fx.start=J_.default.setup.bind(J_.default)});var zQe=V(Nx=>{"use strict";d();var fg=Nx&&Nx.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},a0e=Nx&&Nx.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},EA,rC;Object.defineProperty(Nx,"__esModule",{value:!0});var l0e=class{static{o(this,"AwaitLock")}constructor(){EA.set(this,!1),rC.set(this,new Set)}get acquired(){return fg(this,EA,"f")}acquireAsync({timeout:t}={}){if(!fg(this,EA,"f"))return a0e(this,EA,!0,"f"),Promise.resolve();if(t==null)return new Promise(i=>{fg(this,rC,"f").add(i)});let r,n;return Promise.race([new Promise(i=>{r=o(()=>{clearTimeout(n),i()},"resolver"),fg(this,rC,"f").add(r)}),new Promise((i,s)=>{n=setTimeout(()=>{fg(this,rC,"f").delete(r),s(new Error("Timed out waiting for lock"))},t)})])}tryAcquire(){return fg(this,EA,"f")?!1:(a0e(this,EA,!0,"f"),!0)}release(){if(!fg(this,EA,"f"))throw new Error("Cannot release an unacquired lock");if(fg(this,rC,"f").size>0){let[t]=fg(this,rC,"f");fg(this,rC,"f").delete(t),t()}else a0e(this,EA,!1,"f")}};Nx.default=l0e;EA=new WeakMap,rC=new WeakMap});var SFt={};$g(SFt,{getTokenizer:()=>vo,main:()=>iWe});module.exports=kGe(SFt);d();var zVn=tt(O$());d();d();var T7="github.copilot";d();d();var Xh=class{static{o(this,"Clock")}now(){return new Date}};d();var XR=tt(j2());function W$(e){return(0,XR.SHA256)(XR.enc.Utf16.parse(e.prefix+e.suffix)).toString()}o(W$,"keyForPrompt");var xn=class{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}static{o(this,"LRUCacheMap")}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?this.deleteKey(t):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}deleteKey(t){let r=!1;return this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&(r=this.valueMap.delete(t)),r}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};d();d();d();d();var Us=class extends Error{static{o(this,"CopilotAuthError")}constructor(t,r){super(t,{cause:r}),this.name="CopilotAuthError"}};d();var Df="X-Copilot-RelatedPluginVersion-",S7=(M=>(M.Market="X-MSEdge-Market",M.CorpNet="X-FD-Corpnet",M.Build="X-VSCode-Build",M.ApplicationVersion="X-VSCode-AppVersion",M.TargetPopulation="X-VSCode-TargetPopulation",M.ClientId="X-MSEdge-ClientId",M.ExtensionName="X-VSCode-ExtensionName",M.ExtensionVersion="X-VSCode-ExtensionVersion",M.ExtensionRelease="X-VSCode-ExtensionRelease",M.Language="X-VSCode-Language",M.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",M.CopilotEngine="X-Copilot-Engine",M.CopilotOverrideEngine="X-Copilot-OverrideEngine",M.CopilotRepository="X-Copilot-Repository",M.CopilotFileType="X-Copilot-FileType",M.CopilotUserKind="X-Copilot-UserKind",M.CopilotDogfood="X-Copilot-Dogfood",M.CopilotCustomModel="X-Copilot-CustomModel",M.CopilotOrgs="X-Copilot-Orgs",M.CopilotCustomModelNames="X-Copilot-CustomModelNames",M.CopilotTrackingId="X-Copilot-CopilotTrackingId",M.CopilotClientVersion="X-Copilot-ClientVersion",M.CopilotRelatedPluginVersionCppTools=Df+"msvscodecpptools",M.CopilotRelatedPluginVersionCMakeTools=Df+"msvscodecmaketools",M.CopilotRelatedPluginVersionMakefileTools=Df+"msvscodemakefiletools",M.CopilotRelatedPluginVersionCSharpDevKit=Df+"msdotnettoolscsdevkit",M.CopilotRelatedPluginVersionPython=Df+"mspythonpython",M.CopilotRelatedPluginVersionPylance=Df+"mspythonvscodepylance",M.CopilotRelatedPluginVersionJavaPack=Df+"vscjavavscodejavapack",M.CopilotRelatedPluginVersionTypescript=Df+"vscodetypescriptlanguagefeatures",M.CopilotRelatedPluginVersionTypescriptNext=Df+"msvscodevscodetypescriptnext",M.CopilotRelatedPluginVersionCSharp=Df+"msdotnettoolscsharp",M))(S7||{});var hHe={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},m3=class e{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{o(this,"FilterSettings")}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=hHe[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new e({...this.filters,[t]:r})}};d();d();var Cb=tt(dhe(),1),CMt={ALPN_HTTP2:Cb.default.ALPN_HTTP2,ALPN_HTTP2C:Cb.default.ALPN_HTTP2C,ALPN_HTTP1_1:Cb.default.ALPN_HTTP1_1,ALPN_HTTP1_0:Cb.default.ALPN_HTTP1_0},{fetch:xMt,context:mhe,reset:EMt,noCache:bMt,h1:vMt,keepAlive:IMt,h1NoCache:TMt,keepAliveNoCache:wMt,cacheStats:SMt,clearCache:_Mt,offPush:kMt,onPush:BMt,createUrl:RMt,timeoutSignal:DMt,Body:PMt,Headers:hhe,Request:FMt,Response:NMt,AbortController:CD,AbortError:xb,AbortSignal:phe,FetchBaseError:LMt,FetchError:N7,ALPN_HTTP2:QMt,ALPN_HTTP2C:MMt,ALPN_HTTP1_1:OMt,ALPN_HTTP1_0:UMt}=Cb.default;var ghe=tt(require("util")),Ahe=require("util");var Nr=class{static{o(this,"Fetcher")}#e;set rejectUnauthorized(t){this.#e=t}get rejectUnauthorized(){return this.#e}},L7=class extends Error{static{o(this,"HttpTimeoutError")}constructor(t,r){super(t,{cause:r}),this.name="HttpTimeoutError"}};function Ec(e){return!e||typeof e!="object"?!1:e instanceof L7||e instanceof xb||"name"in e&&e.name==="AbortError"||e instanceof N7&&e.code==="ABORT_ERR"}o(Ec,"isAbortError");var Eb=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{o(this,"JsonParseError")}},x3=class extends Error{static{o(this,"FetchResponseError")}constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}},o$e=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function Q7(e,t=!0){return e instanceof Error?t&&"cause"in e&&Q7(e.cause,!1)?!0:e instanceof N7||e.name==="EditorFetcherError"||e.name==="FetchError"||e instanceof Eb||e instanceof x3||e?.message?.startsWith("net::")||o$e.has(e.code??""):!1}o(Q7,"isNetworkError");var K2=class{constructor(t,r,n,i,s){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=s;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{o(this,"Response")}async text(){return this.getText()}async json(){let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new Eb(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let s=new Ahe.TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new Eb(`Response body truncated: actualLength=${s}`,"Truncated"):new Eb(`Response body truncated: actualLength=${s}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};function E3(e,t,r,n,i,s,a,l,c){let u={...l,Authorization:ghe.format("Bearer %s",r),"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(hs).sessionId,"VScode-MachineId":e.get(hs).machineId,...f0(e)};n&&(u["OpenAI-Intent"]=n);let f={method:"POST",headers:u,json:s,timeout:c},m=e.get(Nr);if(a){let p=m.makeAbortController();a.onCancellationRequested(()=>{Gt(e,"networking.cancelRequest",rn.createAndMarkAsIssued({headerRequestId:i})),p.abort()}),f.signal=p.signal}return m.fetch(t,f).catch(p=>{if(s$e(p))return Gt(e,"networking.disconnectAll"),m.disconnectAll().then(()=>m.fetch(t,f));throw p})}o(E3,"postRequest");function s$e(e){return e instanceof Error?e.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in e?e.code=="ECONNRESET"||e.code=="ETIMEDOUT"||e.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}o(s$e,"isInterruptedNetworkError");d();d();d();d();d();d();d();var d0={};$g(d0,{HasPropertyKey:()=>xD,IsArray:()=>sa,IsAsyncIterator:()=>bz,IsBigInt:()=>M7,IsBoolean:()=>e1,IsDate:()=>b3,IsFunction:()=>vz,IsIterator:()=>Iz,IsNull:()=>Tz,IsNumber:()=>yu,IsObject:()=>go,IsRegExp:()=>O7,IsString:()=>So,IsSymbol:()=>wz,IsUint8Array:()=>t1,IsUndefined:()=>aa});d();function xD(e,t){return t in e}o(xD,"HasPropertyKey");function bz(e){return go(e)&&!sa(e)&&!t1(e)&&Symbol.asyncIterator in e}o(bz,"IsAsyncIterator");function sa(e){return Array.isArray(e)}o(sa,"IsArray");function M7(e){return typeof e=="bigint"}o(M7,"IsBigInt");function e1(e){return typeof e=="boolean"}o(e1,"IsBoolean");function b3(e){return e instanceof globalThis.Date}o(b3,"IsDate");function vz(e){return typeof e=="function"}o(vz,"IsFunction");function Iz(e){return go(e)&&!sa(e)&&!t1(e)&&Symbol.iterator in e}o(Iz,"IsIterator");function Tz(e){return e===null}o(Tz,"IsNull");function yu(e){return typeof e=="number"}o(yu,"IsNumber");function go(e){return typeof e=="object"&&e!==null}o(go,"IsObject");function O7(e){return e instanceof globalThis.RegExp}o(O7,"IsRegExp");function So(e){return typeof e=="string"}o(So,"IsString");function wz(e){return typeof e=="symbol"}o(wz,"IsSymbol");function t1(e){return e instanceof globalThis.Uint8Array}o(t1,"IsUint8Array");function aa(e){return e===void 0}o(aa,"IsUndefined");function a$e(e){return e.map(t=>ED(t))}o(a$e,"ArrayType");function l$e(e){return new Date(e.getTime())}o(l$e,"DateType");function c$e(e){return new Uint8Array(e)}o(c$e,"Uint8ArrayType");function u$e(e){return new RegExp(e.source,e.flags)}o(u$e,"RegExpType");function f$e(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=ED(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=ED(e[r]);return t}o(f$e,"ObjectType");function ED(e){return sa(e)?a$e(e):b3(e)?l$e(e):t1(e)?c$e(e):O7(e)?u$e(e):go(e)?f$e(e):e}o(ED,"Visit");function $o(e){return ED(e)}o($o,"Clone");function bb(e,t){return t===void 0?$o(e):$o({...t,...e})}o(bb,"CloneType");d();d();d();function bD(e){return Zn(e)&&globalThis.Symbol.asyncIterator in e}o(bD,"IsAsyncIterator");function vD(e){return Zn(e)&&globalThis.Symbol.iterator in e}o(vD,"IsIterator");function Sz(e){return Zn(e)&&(globalThis.Object.getPrototypeOf(e)===Object.prototype||globalThis.Object.getPrototypeOf(e)===null)}o(Sz,"IsStandardObject");function ID(e){return e instanceof globalThis.Promise}o(ID,"IsPromise");function M0(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}o(M0,"IsDate");function yhe(e){return e instanceof globalThis.Map}o(yhe,"IsMap");function Che(e){return e instanceof globalThis.Set}o(Che,"IsSet");function Nf(e){return globalThis.ArrayBuffer.isView(e)}o(Nf,"IsTypedArray");function vb(e){return e instanceof globalThis.Uint8Array}o(vb,"IsUint8Array");function cn(e,t){return t in e}o(cn,"HasPropertyKey");function Zn(e){return e!==null&&typeof e=="object"}o(Zn,"IsObject");function un(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}o(un,"IsArray");function zo(e){return e===void 0}o(zo,"IsUndefined");function r1(e){return e===null}o(r1,"IsNull");function Zh(e){return typeof e=="boolean"}o(Zh,"IsBoolean");function Hr(e){return typeof e=="number"}o(Hr,"IsNumber");function TD(e){return globalThis.Number.isInteger(e)}o(TD,"IsInteger");function Ml(e){return typeof e=="bigint"}o(Ml,"IsBigInt");function ki(e){return typeof e=="string"}o(ki,"IsString");function J2(e){return typeof e=="function"}o(J2,"IsFunction");function n1(e){return typeof e=="symbol"}o(n1,"IsSymbol");function Cu(e){return Ml(e)||Zh(e)||r1(e)||Hr(e)||ki(e)||n1(e)||zo(e)}o(Cu,"IsValueType");var Fo;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=Zn(a);return e.AllowArrayObject?l:l&&!un(a)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return e.AllowNaN?Hr(a):Number.isFinite(a)}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){let l=zo(a);return e.AllowNullVoid?l||a===null:l}o(s,"IsVoidLike"),e.IsVoidLike=s})(Fo||(Fo={}));d();function d$e(e){return globalThis.Object.freeze(e).map(t=>U7(t))}o(d$e,"ImmutableArray");function m$e(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=U7(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=U7(e[r]);return globalThis.Object.freeze(t)}o(m$e,"ImmutableObject");function U7(e){return sa(e)?d$e(e):b3(e)?e:t1(e)?e:O7(e)?e:go(e)?m$e(e):e}o(U7,"Immutable");function ut(e,t){let r=t!==void 0?{...t,...e}:e;switch(Fo.InstanceMode){case"freeze":return U7(r);case"clone":return $o(r);default:return r}}o(ut,"CreateType");d();var fn=class extends Error{static{o(this,"TypeBoxError")}constructor(t){super(t)}};d();d();d();var ps=Symbol.for("TypeBox.Transform"),fm=Symbol.for("TypeBox.Readonly"),Ol=Symbol.for("TypeBox.Optional"),Lf=Symbol.for("TypeBox.Hint"),ot=Symbol.for("TypeBox.Kind");function Ib(e){return go(e)&&e[fm]==="Readonly"}o(Ib,"IsReadonly");function bc(e){return go(e)&&e[Ol]==="Optional"}o(bc,"IsOptional");function _z(e){return bi(e,"Any")}o(_z,"IsAny");function kz(e){return bi(e,"Argument")}o(kz,"IsArgument");function dm(e){return bi(e,"Array")}o(dm,"IsArray");function v3(e){return bi(e,"AsyncIterator")}o(v3,"IsAsyncIterator");function I3(e){return bi(e,"BigInt")}o(I3,"IsBigInt");function i1(e){return bi(e,"Boolean")}o(i1,"IsBoolean");function mm(e){return bi(e,"Computed")}o(mm,"IsComputed");function hm(e){return bi(e,"Constructor")}o(hm,"IsConstructor");function h$e(e){return bi(e,"Date")}o(h$e,"IsDate");function pm(e){return bi(e,"Function")}o(pm,"IsFunction");function gm(e){return bi(e,"Integer")}o(gm,"IsInteger");function Rs(e){return bi(e,"Intersect")}o(Rs,"IsIntersect");function T3(e){return bi(e,"Iterator")}o(T3,"IsIterator");function bi(e,t){return go(e)&&ot in e&&e[ot]===t}o(bi,"IsKindOf");function wD(e){return e1(e)||yu(e)||So(e)}o(wD,"IsLiteralValue");function xu(e){return bi(e,"Literal")}o(xu,"IsLiteral");function Eu(e){return bi(e,"MappedKey")}o(Eu,"IsMappedKey");function Yo(e){return bi(e,"MappedResult")}o(Yo,"IsMappedResult");function X2(e){return bi(e,"Never")}o(X2,"IsNever");function p$e(e){return bi(e,"Not")}o(p$e,"IsNot");function q7(e){return bi(e,"Null")}o(q7,"IsNull");function Am(e){return bi(e,"Number")}o(Am,"IsNumber");function la(e){return bi(e,"Object")}o(la,"IsObject");function w3(e){return bi(e,"Promise")}o(w3,"IsPromise");function S3(e){return bi(e,"Record")}o(S3,"IsRecord");function qs(e){return bi(e,"Ref")}o(qs,"IsRef");function Bz(e){return bi(e,"RegExp")}o(Bz,"IsRegExp");function o1(e){return bi(e,"String")}o(o1,"IsString");function W7(e){return bi(e,"Symbol")}o(W7,"IsSymbol");function bu(e){return bi(e,"TemplateLiteral")}o(bu,"IsTemplateLiteral");function g$e(e){return bi(e,"This")}o(g$e,"IsThis");function zi(e){return go(e)&&ps in e}o(zi,"IsTransform");function vu(e){return bi(e,"Tuple")}o(vu,"IsTuple");function s1(e){return bi(e,"Undefined")}o(s1,"IsUndefined");function Bi(e){return bi(e,"Union")}o(Bi,"IsUnion");function A$e(e){return bi(e,"Uint8Array")}o(A$e,"IsUint8Array");function y$e(e){return bi(e,"Unknown")}o(y$e,"IsUnknown");function C$e(e){return bi(e,"Unsafe")}o(C$e,"IsUnsafe");function x$e(e){return bi(e,"Void")}o(x$e,"IsVoid");function Z2(e){return go(e)&&ot in e&&So(e[ot])}o(Z2,"IsKind");function gs(e){return _z(e)||kz(e)||dm(e)||i1(e)||I3(e)||v3(e)||mm(e)||hm(e)||h$e(e)||pm(e)||gm(e)||Rs(e)||T3(e)||xu(e)||Eu(e)||Yo(e)||X2(e)||p$e(e)||q7(e)||Am(e)||la(e)||w3(e)||S3(e)||qs(e)||Bz(e)||o1(e)||W7(e)||bu(e)||g$e(e)||vu(e)||s1(e)||Bi(e)||A$e(e)||y$e(e)||C$e(e)||x$e(e)||Z2(e)}o(gs,"IsSchema");var Qe={};$g(Qe,{IsAny:()=>vhe,IsArgument:()=>Ihe,IsArray:()=>The,IsAsyncIterator:()=>whe,IsBigInt:()=>She,IsBoolean:()=>_he,IsComputed:()=>khe,IsConstructor:()=>Bhe,IsDate:()=>Rhe,IsFunction:()=>Dhe,IsImport:()=>w$e,IsInteger:()=>Phe,IsIntersect:()=>Fhe,IsIterator:()=>Nhe,IsKind:()=>ape,IsKindOf:()=>li,IsLiteral:()=>H7,IsLiteralBoolean:()=>S$e,IsLiteralNumber:()=>Qhe,IsLiteralString:()=>Lhe,IsLiteralValue:()=>Mhe,IsMappedKey:()=>Ohe,IsMappedResult:()=>Uhe,IsNever:()=>qhe,IsNot:()=>Whe,IsNull:()=>Ghe,IsNumber:()=>Hhe,IsObject:()=>Vhe,IsOptional:()=>T$e,IsPromise:()=>jhe,IsProperties:()=>SD,IsReadonly:()=>I$e,IsRecord:()=>$he,IsRecursive:()=>_$e,IsRef:()=>zhe,IsRegExp:()=>Yhe,IsSchema:()=>Ko,IsString:()=>Khe,IsSymbol:()=>Jhe,IsTemplateLiteral:()=>Xhe,IsThis:()=>Zhe,IsTransform:()=>epe,IsTuple:()=>tpe,IsUint8Array:()=>npe,IsUndefined:()=>rpe,IsUnion:()=>Fz,IsUnionLiteral:()=>k$e,IsUnknown:()=>ipe,IsUnsafe:()=>ope,IsVoid:()=>spe,TypeGuardUnknownTypeError:()=>Rz});d();var Rz=class extends fn{static{o(this,"TypeGuardUnknownTypeError")}},E$e=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function xhe(e){try{return new RegExp(e),!0}catch{return!1}}o(xhe,"IsPattern");function Dz(e){if(!So(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}o(Dz,"IsControlCharacterFree");function Ehe(e){return Pz(e)||Ko(e)}o(Ehe,"IsAdditionalProperties");function G7(e){return aa(e)||M7(e)}o(G7,"IsOptionalBigInt");function _o(e){return aa(e)||yu(e)}o(_o,"IsOptionalNumber");function Pz(e){return aa(e)||e1(e)}o(Pz,"IsOptionalBoolean");function Ao(e){return aa(e)||So(e)}o(Ao,"IsOptionalString");function b$e(e){return aa(e)||So(e)&&Dz(e)&&xhe(e)}o(b$e,"IsOptionalPattern");function v$e(e){return aa(e)||So(e)&&Dz(e)}o(v$e,"IsOptionalFormat");function bhe(e){return aa(e)||Ko(e)}o(bhe,"IsOptionalSchema");function I$e(e){return go(e)&&e[fm]==="Readonly"}o(I$e,"IsReadonly");function T$e(e){return go(e)&&e[Ol]==="Optional"}o(T$e,"IsOptional");function vhe(e){return li(e,"Any")&&Ao(e.$id)}o(vhe,"IsAny");function Ihe(e){return li(e,"Argument")&&yu(e.index)}o(Ihe,"IsArgument");function The(e){return li(e,"Array")&&e.type==="array"&&Ao(e.$id)&&Ko(e.items)&&_o(e.minItems)&&_o(e.maxItems)&&Pz(e.uniqueItems)&&bhe(e.contains)&&_o(e.minContains)&&_o(e.maxContains)}o(The,"IsArray");function whe(e){return li(e,"AsyncIterator")&&e.type==="AsyncIterator"&&Ao(e.$id)&&Ko(e.items)}o(whe,"IsAsyncIterator");function She(e){return li(e,"BigInt")&&e.type==="bigint"&&Ao(e.$id)&&G7(e.exclusiveMaximum)&&G7(e.exclusiveMinimum)&&G7(e.maximum)&&G7(e.minimum)&&G7(e.multipleOf)}o(She,"IsBigInt");function _he(e){return li(e,"Boolean")&&e.type==="boolean"&&Ao(e.$id)}o(_he,"IsBoolean");function khe(e){return li(e,"Computed")&&So(e.target)&&sa(e.parameters)&&e.parameters.every(t=>Ko(t))}o(khe,"IsComputed");function Bhe(e){return li(e,"Constructor")&&e.type==="Constructor"&&Ao(e.$id)&&sa(e.parameters)&&e.parameters.every(t=>Ko(t))&&Ko(e.returns)}o(Bhe,"IsConstructor");function Rhe(e){return li(e,"Date")&&e.type==="Date"&&Ao(e.$id)&&_o(e.exclusiveMaximumTimestamp)&&_o(e.exclusiveMinimumTimestamp)&&_o(e.maximumTimestamp)&&_o(e.minimumTimestamp)&&_o(e.multipleOfTimestamp)}o(Rhe,"IsDate");function Dhe(e){return li(e,"Function")&&e.type==="Function"&&Ao(e.$id)&&sa(e.parameters)&&e.parameters.every(t=>Ko(t))&&Ko(e.returns)}o(Dhe,"IsFunction");function w$e(e){return li(e,"Import")&&xD(e,"$defs")&&go(e.$defs)&&SD(e.$defs)&&xD(e,"$ref")&&So(e.$ref)&&e.$ref in e.$defs}o(w$e,"IsImport");function Phe(e){return li(e,"Integer")&&e.type==="integer"&&Ao(e.$id)&&_o(e.exclusiveMaximum)&&_o(e.exclusiveMinimum)&&_o(e.maximum)&&_o(e.minimum)&&_o(e.multipleOf)}o(Phe,"IsInteger");function SD(e){return go(e)&&Object.entries(e).every(([t,r])=>Dz(t)&&Ko(r))}o(SD,"IsProperties");function Fhe(e){return li(e,"Intersect")&&!(So(e.type)&&e.type!=="object")&&sa(e.allOf)&&e.allOf.every(t=>Ko(t)&&!epe(t))&&Ao(e.type)&&(Pz(e.unevaluatedProperties)||bhe(e.unevaluatedProperties))&&Ao(e.$id)}o(Fhe,"IsIntersect");function Nhe(e){return li(e,"Iterator")&&e.type==="Iterator"&&Ao(e.$id)&&Ko(e.items)}o(Nhe,"IsIterator");function li(e,t){return go(e)&&ot in e&&e[ot]===t}o(li,"IsKindOf");function Lhe(e){return H7(e)&&So(e.const)}o(Lhe,"IsLiteralString");function Qhe(e){return H7(e)&&yu(e.const)}o(Qhe,"IsLiteralNumber");function S$e(e){return H7(e)&&e1(e.const)}o(S$e,"IsLiteralBoolean");function H7(e){return li(e,"Literal")&&Ao(e.$id)&&Mhe(e.const)}o(H7,"IsLiteral");function Mhe(e){return e1(e)||yu(e)||So(e)}o(Mhe,"IsLiteralValue");function Ohe(e){return li(e,"MappedKey")&&sa(e.keys)&&e.keys.every(t=>yu(t)||So(t))}o(Ohe,"IsMappedKey");function Uhe(e){return li(e,"MappedResult")&&SD(e.properties)}o(Uhe,"IsMappedResult");function qhe(e){return li(e,"Never")&&go(e.not)&&Object.getOwnPropertyNames(e.not).length===0}o(qhe,"IsNever");function Whe(e){return li(e,"Not")&&Ko(e.not)}o(Whe,"IsNot");function Ghe(e){return li(e,"Null")&&e.type==="null"&&Ao(e.$id)}o(Ghe,"IsNull");function Hhe(e){return li(e,"Number")&&e.type==="number"&&Ao(e.$id)&&_o(e.exclusiveMaximum)&&_o(e.exclusiveMinimum)&&_o(e.maximum)&&_o(e.minimum)&&_o(e.multipleOf)}o(Hhe,"IsNumber");function Vhe(e){return li(e,"Object")&&e.type==="object"&&Ao(e.$id)&&SD(e.properties)&&Ehe(e.additionalProperties)&&_o(e.minProperties)&&_o(e.maxProperties)}o(Vhe,"IsObject");function jhe(e){return li(e,"Promise")&&e.type==="Promise"&&Ao(e.$id)&&Ko(e.item)}o(jhe,"IsPromise");function $he(e){return li(e,"Record")&&e.type==="object"&&Ao(e.$id)&&Ehe(e.additionalProperties)&&go(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&xhe(r[0])&&go(t.patternProperties)&&Ko(t.patternProperties[r[0]])})(e)}o($he,"IsRecord");function _$e(e){return go(e)&&Lf in e&&e[Lf]==="Recursive"}o(_$e,"IsRecursive");function zhe(e){return li(e,"Ref")&&Ao(e.$id)&&So(e.$ref)}o(zhe,"IsRef");function Yhe(e){return li(e,"RegExp")&&Ao(e.$id)&&So(e.source)&&So(e.flags)&&_o(e.maxLength)&&_o(e.minLength)}o(Yhe,"IsRegExp");function Khe(e){return li(e,"String")&&e.type==="string"&&Ao(e.$id)&&_o(e.minLength)&&_o(e.maxLength)&&b$e(e.pattern)&&v$e(e.format)}o(Khe,"IsString");function Jhe(e){return li(e,"Symbol")&&e.type==="symbol"&&Ao(e.$id)}o(Jhe,"IsSymbol");function Xhe(e){return li(e,"TemplateLiteral")&&e.type==="string"&&So(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}o(Xhe,"IsTemplateLiteral");function Zhe(e){return li(e,"This")&&Ao(e.$id)&&So(e.$ref)}o(Zhe,"IsThis");function epe(e){return go(e)&&ps in e}o(epe,"IsTransform");function tpe(e){return li(e,"Tuple")&&e.type==="array"&&Ao(e.$id)&&yu(e.minItems)&&yu(e.maxItems)&&e.minItems===e.maxItems&&(aa(e.items)&&aa(e.additionalItems)&&e.minItems===0||sa(e.items)&&e.items.every(t=>Ko(t)))}o(tpe,"IsTuple");function rpe(e){return li(e,"Undefined")&&e.type==="undefined"&&Ao(e.$id)}o(rpe,"IsUndefined");function k$e(e){return Fz(e)&&e.anyOf.every(t=>Lhe(t)||Qhe(t))}o(k$e,"IsUnionLiteral");function Fz(e){return li(e,"Union")&&Ao(e.$id)&&go(e)&&sa(e.anyOf)&&e.anyOf.every(t=>Ko(t))}o(Fz,"IsUnion");function npe(e){return li(e,"Uint8Array")&&e.type==="Uint8Array"&&Ao(e.$id)&&_o(e.minByteLength)&&_o(e.maxByteLength)}o(npe,"IsUint8Array");function ipe(e){return li(e,"Unknown")&&Ao(e.$id)}o(ipe,"IsUnknown");function ope(e){return li(e,"Unsafe")}o(ope,"IsUnsafe");function spe(e){return li(e,"Void")&&e.type==="void"&&Ao(e.$id)}o(spe,"IsVoid");function ape(e){return go(e)&&ot in e&&So(e[ot])&&!E$e.includes(e[ot])}o(ape,"IsKind");function Ko(e){return go(e)&&(vhe(e)||Ihe(e)||The(e)||_he(e)||She(e)||whe(e)||khe(e)||Bhe(e)||Rhe(e)||Dhe(e)||Phe(e)||Fhe(e)||Nhe(e)||H7(e)||Ohe(e)||Uhe(e)||qhe(e)||Whe(e)||Ghe(e)||Hhe(e)||Vhe(e)||jhe(e)||$he(e)||zhe(e)||Yhe(e)||Khe(e)||Jhe(e)||Xhe(e)||Zhe(e)||tpe(e)||rpe(e)||Fz(e)||npe(e)||ipe(e)||ope(e)||spe(e)||ape(e))}o(Ko,"IsSchema");d();var Nz="(true|false)",V7="(0|[1-9][0-9]*)",Lz="(.*)",B$e="(?!.*)",DOt=`^${Nz}$`,ep=`^${V7}$`,tp=`^${Lz}$`,lpe=`^${B$e}$`;d();var ym={};$g(ym,{Clear:()=>D$e,Delete:()=>P$e,Entries:()=>R$e,Get:()=>L$e,Has:()=>F$e,Set:()=>N$e});d();var Tb=new Map;function R$e(){return new Map(Tb)}o(R$e,"Entries");function D$e(){return Tb.clear()}o(D$e,"Clear");function P$e(e){return Tb.delete(e)}o(P$e,"Delete");function F$e(e){return Tb.has(e)}o(F$e,"Has");function N$e(e,t){Tb.set(e,t)}o(N$e,"Set");function L$e(e){return Tb.get(e)}o(L$e,"Get");var O0={};$g(O0,{Clear:()=>M$e,Delete:()=>O$e,Entries:()=>Q$e,Get:()=>W$e,Has:()=>U$e,Set:()=>q$e});d();var wb=new Map;function Q$e(){return new Map(wb)}o(Q$e,"Entries");function M$e(){return wb.clear()}o(M$e,"Clear");function O$e(e){return wb.delete(e)}o(O$e,"Delete");function U$e(e){return wb.has(e)}o(U$e,"Has");function q$e(e,t){wb.set(e,t)}o(q$e,"Set");function W$e(e){return wb.get(e)}o(W$e,"Get");d();function cpe(e,t){return e.includes(t)}o(cpe,"SetIncludes");function upe(e){return[...new Set(e)]}o(upe,"SetDistinct");function G$e(e,t){return e.filter(r=>t.includes(r))}o(G$e,"SetIntersect");function H$e(e,t){return e.reduce((r,n)=>G$e(r,n),t)}o(H$e,"SetIntersectManyResolve");function fpe(e){return e.length===1?e[0]:e.length>1?H$e(e.slice(1),e[0]):[]}o(fpe,"SetIntersectMany");function dpe(e){let t=[];for(let r of e)t.push(...r);return t}o(dpe,"SetUnionMany");d();function e5(e){return ut({[ot]:"Any"},e)}o(e5,"Any");d();function Sb(e,t){return ut({[ot]:"Array",type:"array",items:e},t)}o(Sb,"Array");d();function mpe(e){return ut({[ot]:"Argument",index:e})}o(mpe,"Argument");d();function _b(e,t){return ut({[ot]:"AsyncIterator",type:"AsyncIterator",items:e},t)}o(_b,"AsyncIterator");d();d();function No(e,t,r){return ut({[ot]:"Computed",target:e,parameters:t},r)}o(No,"Computed");d();d();function V$e(e,t){let{[t]:r,...n}=e;return n}o(V$e,"DiscardKey");function Ds(e,t){return t.reduce((r,n)=>V$e(r,n),e)}o(Ds,"Discard");d();function Vn(e){return ut({[ot]:"Never",not:{}},e)}o(Vn,"Never");d();d();function Li(e){return ut({[ot]:"MappedResult",properties:e})}o(Li,"MappedResult");d();d();function kb(e,t,r){return ut({[ot]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}o(kb,"Constructor");d();function rp(e,t,r){return ut({[ot]:"Function",type:"Function",parameters:e,returns:t},r)}o(rp,"Function");d();d();d();d();function j7(e,t){return ut({[ot]:"Union",anyOf:e},t)}o(j7,"UnionCreate");function j$e(e){return e.some(t=>bc(t))}o(j$e,"IsUnionOptional");function hpe(e){return e.map(t=>bc(t)?$$e(t):t)}o(hpe,"RemoveOptionalFromRest");function $$e(e){return Ds(e,[Ol])}o($$e,"RemoveOptionalFromType");function z$e(e,t){return j$e(e)?m0(j7(hpe(e),t)):j7(hpe(e),t)}o(z$e,"ResolveUnion");function np(e,t){return e.length===1?ut(e[0],t):e.length===0?Vn(t):z$e(e,t)}o(np,"UnionEvaluated");d();function Yi(e,t){return e.length===0?Vn(t):e.length===1?ut(e[0],t):j7(e,t)}o(Yi,"Union");d();d();d();var _D=class extends fn{static{o(this,"TemplateLiteralParserError")}};function Y$e(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}o(Y$e,"Unescape");function Qz(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}o(Qz,"IsNonEscaped");function l1(e,t){return Qz(e,t,"(")}o(l1,"IsOpenParen");function $7(e,t){return Qz(e,t,")")}o($7,"IsCloseParen");function ppe(e,t){return Qz(e,t,"|")}o(ppe,"IsSeparator");function K$e(e){if(!(l1(e,0)&&$7(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(l1(e,r)&&(t+=1),$7(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}o(K$e,"IsGroup");function J$e(e){return e.slice(1,e.length-1)}o(J$e,"InGroup");function X$e(e){let t=0;for(let r=0;r<e.length;r++)if(l1(e,r)&&(t+=1),$7(e,r)&&(t-=1),ppe(e,r)&&t===0)return!0;return!1}o(X$e,"IsPrecedenceOr");function Z$e(e){for(let t=0;t<e.length;t++)if(l1(e,t))return!0;return!1}o(Z$e,"IsPrecedenceAnd");function eze(e){let[t,r]=[0,0],n=[];for(let s=0;s<e.length;s++)if(l1(e,s)&&(t+=1),$7(e,s)&&(t-=1),ppe(e,s)&&t===0){let a=e.slice(r,s);a.length>0&&n.push(Bb(a)),r=s+1}let i=e.slice(r);return i.length>0&&n.push(Bb(i)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}o(eze,"Or");function tze(e){function t(i,s){if(!l1(i,s))throw new _D("TemplateLiteralParser: Index must point to open parens");let a=0;for(let l=s;l<i.length;l++)if(l1(i,l)&&(a+=1),$7(i,l)&&(a-=1),a===0)return[s,l];throw new _D("TemplateLiteralParser: Unclosed group parens in expression")}o(t,"Group");function r(i,s){for(let a=s;a<i.length;a++)if(l1(i,a))return[s,a];return[s,i.length]}o(r,"Range");let n=[];for(let i=0;i<e.length;i++)if(l1(e,i)){let[s,a]=t(e,i),l=e.slice(s,a+1);n.push(Bb(l)),i=a}else{let[s,a]=r(e,i),l=e.slice(s,a);l.length>0&&n.push(Bb(l)),i=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}o(tze,"And");function Bb(e){return K$e(e)?Bb(J$e(e)):X$e(e)?eze(e):Z$e(e)?tze(e):{type:"const",const:Y$e(e)}}o(Bb,"TemplateLiteralParse");function Rb(e){return Bb(e.slice(1,e.length-1))}o(Rb,"TemplateLiteralParseExact");var Mz=class extends fn{static{o(this,"TemplateLiteralFiniteError")}};function rze(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}o(rze,"IsNumberExpression");function nze(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}o(nze,"IsBooleanExpression");function ize(e){return e.type==="const"&&e.const===".*"}o(ize,"IsStringExpression");function _3(e){return rze(e)||ize(e)?!1:nze(e)?!0:e.type==="and"?e.expr.every(t=>_3(t)):e.type==="or"?e.expr.every(t=>_3(t)):e.type==="const"?!0:(()=>{throw new Mz("Unknown expression type")})()}o(_3,"IsTemplateLiteralExpressionFinite");function kD(e){let t=Rb(e.pattern);return _3(t)}o(kD,"IsTemplateLiteralFinite");d();var Oz=class extends fn{static{o(this,"TemplateLiteralGenerateError")}};function*gpe(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of gpe(e.slice(1)))yield`${t}${r}`}o(gpe,"GenerateReduce");function*oze(e){return yield*gpe(e.expr.map(t=>[...z7(t)]))}o(oze,"GenerateAnd");function*sze(e){for(let t of e.expr)yield*z7(t)}o(sze,"GenerateOr");function*aze(e){return yield e.const}o(aze,"GenerateConst");function*z7(e){return e.type==="and"?yield*oze(e):e.type==="or"?yield*sze(e):e.type==="const"?yield*aze(e):(()=>{throw new Oz("Unknown expression")})()}o(z7,"TemplateLiteralExpressionGenerate");function Db(e){let t=Rb(e.pattern);return _3(t)?[...z7(t)]:[]}o(Db,"TemplateLiteralGenerate");d();d();function vi(e,t){return ut({[ot]:"Literal",const:e,type:typeof e},t)}o(vi,"Literal");d();function BD(e){return ut({[ot]:"Boolean",type:"boolean"},e)}o(BD,"Boolean");d();function Pb(e){return ut({[ot]:"BigInt",type:"bigint"},e)}o(Pb,"BigInt");d();function Qf(e){return ut({[ot]:"Number",type:"number"},e)}o(Qf,"Number");d();function U0(e){return ut({[ot]:"String",type:"string"},e)}o(U0,"String");function*lze(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield BD():t==="number"?yield Qf():t==="bigint"?yield Pb():t==="string"?yield U0():yield(()=>{let r=t.split("|").map(n=>vi(n.trim()));return r.length===0?Vn():r.length===1?r[0]:np(r)})()}o(lze,"FromUnion");function*cze(e){if(e[1]!=="{"){let t=vi("$"),r=Uz(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=lze(e.slice(2,t)),n=Uz(e.slice(t+1));return yield*[...r,...n]}yield vi(e)}o(cze,"FromTerminal");function*Uz(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=vi(e.slice(0,t)),n=cze(e.slice(t));return yield*[r,...n]}yield vi(e)}o(Uz,"FromSyntax");function Ape(e){return[...Uz(e)]}o(Ape,"TemplateLiteralSyntax");d();var qz=class extends fn{static{o(this,"TemplateLiteralPatternError")}};function uze(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(uze,"Escape");function ype(e,t){return bu(e)?e.pattern.slice(1,e.pattern.length-1):Bi(e)?`(${e.anyOf.map(r=>ype(r,t)).join("|")})`:Am(e)?`${t}${V7}`:gm(e)?`${t}${V7}`:I3(e)?`${t}${V7}`:o1(e)?`${t}${Lz}`:xu(e)?`${t}${uze(e.const.toString())}`:i1(e)?`${t}${Nz}`:(()=>{throw new qz(`Unexpected Kind '${e[ot]}'`)})()}o(ype,"Visit");function Wz(e){return`^${e.map(t=>ype(t,"")).join("")}$`}o(Wz,"TemplateLiteralPattern");d();function k3(e){let r=Db(e).map(n=>vi(n));return np(r)}o(k3,"TemplateLiteralToUnion");d();function RD(e,t){let r=So(e)?Wz(Ape(e)):Wz(e);return ut({[ot]:"TemplateLiteral",type:"string",pattern:r},t)}o(RD,"TemplateLiteral");function fze(e){return Db(e).map(r=>r.toString())}o(fze,"FromTemplateLiteral");function dze(e){let t=[];for(let r of e)t.push(...vc(r));return t}o(dze,"FromUnion");function mze(e){return[e.toString()]}o(mze,"FromLiteral");function vc(e){return[...new Set(bu(e)?fze(e):Bi(e)?dze(e.anyOf):xu(e)?mze(e.const):Am(e)?["[number]"]:gm(e)?["[number]"]:[])]}o(vc,"IndexPropertyKeys");d();function hze(e,t,r){let n={};for(let i of Object.getOwnPropertyNames(t))n[i]=t5(e,vc(t[i]),r);return n}o(hze,"FromProperties");function pze(e,t,r){return hze(e,t.properties,r)}o(pze,"FromMappedResult");function Cpe(e,t,r){let n=pze(e,t,r);return Li(n)}o(Cpe,"IndexFromMappedResult");function Epe(e,t){return e.map(r=>bpe(r,t))}o(Epe,"FromRest");function gze(e){return e.filter(t=>!X2(t))}o(gze,"FromIntersectRest");function Aze(e,t){return DD(gze(Epe(e,t)))}o(Aze,"FromIntersect");function yze(e){return e.some(t=>X2(t))?[]:e}o(yze,"FromUnionRest");function Cze(e,t){return np(yze(Epe(e,t)))}o(Cze,"FromUnion");function xze(e,t){return t in e?e[t]:t==="[number]"?np(e):Vn()}o(xze,"FromTuple");function Eze(e,t){return t==="[number]"?e:Vn()}o(Eze,"FromArray");function bze(e,t){return t in e?e[t]:Vn()}o(bze,"FromProperty");function bpe(e,t){return Rs(e)?Aze(e.allOf,t):Bi(e)?Cze(e.anyOf,t):vu(e)?xze(e.items??[],t):dm(e)?Eze(e.items,t):la(e)?bze(e.properties,t):Vn()}o(bpe,"IndexFromPropertyKey");function Y7(e,t){return t.map(r=>bpe(e,r))}o(Y7,"IndexFromPropertyKeys");function xpe(e,t){return np(Y7(e,t))}o(xpe,"FromSchema");function t5(e,t,r){if(qs(e)||qs(t)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!gs(e)||!gs(t))throw new fn(n);return No("Index",[e,t])}return Yo(t)?Cpe(e,t,r):Eu(t)?vpe(e,t,r):ut(gs(t)?xpe(e,vc(t)):xpe(e,t),r)}o(t5,"Index");function vze(e,t,r){return{[t]:t5(e,[t],$o(r))}}o(vze,"MappedIndexPropertyKey");function Ize(e,t,r){return t.reduce((n,i)=>({...n,...vze(e,i,r)}),{})}o(Ize,"MappedIndexPropertyKeys");function Tze(e,t,r){return Ize(e,t.keys,r)}o(Tze,"MappedIndexProperties");function vpe(e,t,r){let n=Tze(e,t,r);return Li(n)}o(vpe,"IndexFromMappedKey");d();function Fb(e,t){return ut({[ot]:"Iterator",type:"Iterator",items:e},t)}o(Fb,"Iterator");d();function wze(e){let t=[];for(let r in e)bc(e[r])||t.push(r);return t}o(wze,"RequiredKeys");function Sze(e,t){let r=wze(e),n=r.length>0?{[ot]:"Object",type:"object",properties:e,required:r}:{[ot]:"Object",type:"object",properties:e};return ut(n,t)}o(Sze,"_Object");var Ki=Sze;d();function PD(e,t){return ut({[ot]:"Promise",type:"Promise",item:e},t)}o(PD,"Promise");d();d();function _ze(e){return ut(Ds(e,[fm]))}o(_ze,"RemoveReadonly");function kze(e){return ut({...e,[fm]:"Readonly"})}o(kze,"AddReadonly");function Bze(e,t){return t===!1?_ze(e):kze(e)}o(Bze,"ReadonlyWithFlag");function Ic(e,t){let r=t??!0;return Yo(e)?Ipe(e,r):Bze(e,r)}o(Ic,"Readonly");function Rze(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Ic(e[n],t);return r}o(Rze,"FromProperties");function Dze(e,t){return Rze(e.properties,t)}o(Dze,"FromMappedResult");function Ipe(e,t){let r=Dze(e,t);return Li(r)}o(Ipe,"ReadonlyFromMappedResult");d();function Mf(e,t){return ut(e.length>0?{[ot]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[ot]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}o(Mf,"Tuple");function Tpe(e,t){return e in t?Of(e,t[e]):Li(t)}o(Tpe,"FromMappedResult");function Pze(e){return{[e]:vi(e)}}o(Pze,"MappedKeyToKnownMappedResultProperties");function Fze(e){let t={};for(let r of e)t[r]=vi(r);return t}o(Fze,"MappedKeyToUnknownMappedResultProperties");function Nze(e,t){return cpe(t,e)?Pze(e):Fze(t)}o(Nze,"MappedKeyToMappedResultProperties");function Lze(e,t){let r=Nze(e,t);return Tpe(e,r)}o(Lze,"FromMappedKey");function K7(e,t){return t.map(r=>Of(e,r))}o(K7,"FromRest");function Qze(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Of(e,t[n]);return r}o(Qze,"FromProperties");function Of(e,t){let r={...t};return bc(t)?m0(Of(e,Ds(t,[Ol]))):Ib(t)?Ic(Of(e,Ds(t,[fm]))):Yo(t)?Tpe(e,t.properties):Eu(t)?Lze(e,t.keys):hm(t)?kb(K7(e,t.parameters),Of(e,t.returns),r):pm(t)?rp(K7(e,t.parameters),Of(e,t.returns),r):v3(t)?_b(Of(e,t.items),r):T3(t)?Fb(Of(e,t.items),r):Rs(t)?h0(K7(e,t.allOf),r):Bi(t)?Yi(K7(e,t.anyOf),r):vu(t)?Mf(K7(e,t.items??[]),r):la(t)?Ki(Qze(e,t.properties),r):dm(t)?Sb(Of(e,t.items),r):w3(t)?PD(Of(e,t.item),r):t}o(Of,"FromSchemaType");function Mze(e,t){let r={};for(let n of e)r[n]=Of(n,t);return r}o(Mze,"MappedFunctionReturnType");function wpe(e,t,r){let n=gs(e)?vc(e):e,i=t({[ot]:"MappedKey",keys:n}),s=Mze(n,i);return Ki(s,r)}o(wpe,"Mapped");d();function Oze(e){return ut(Ds(e,[Ol]))}o(Oze,"RemoveOptional");function Uze(e){return ut({...e,[Ol]:"Optional"})}o(Uze,"AddOptional");function qze(e,t){return t===!1?Oze(e):Uze(e)}o(qze,"OptionalWithFlag");function m0(e,t){let r=t??!0;return Yo(e)?Spe(e,r):qze(e,r)}o(m0,"Optional");function Wze(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=m0(e[n],t);return r}o(Wze,"FromProperties");function Gze(e,t){return Wze(e.properties,t)}o(Gze,"FromMappedResult");function Spe(e,t){let r=Gze(e,t);return Li(r)}o(Spe,"OptionalFromMappedResult");d();function J7(e,t={}){let r=e.every(i=>la(i)),n=gs(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return ut(t.unevaluatedProperties===!1||gs(t.unevaluatedProperties)||r?{...n,[ot]:"Intersect",type:"object",allOf:e}:{...n,[ot]:"Intersect",allOf:e},t)}o(J7,"IntersectCreate");function Hze(e){return e.every(t=>bc(t))}o(Hze,"IsIntersectOptional");function Vze(e){return Ds(e,[Ol])}o(Vze,"RemoveOptionalFromType");function _pe(e){return e.map(t=>bc(t)?Vze(t):t)}o(_pe,"RemoveOptionalFromRest");function jze(e,t){return Hze(e)?m0(J7(_pe(e),t)):J7(_pe(e),t)}o(jze,"ResolveIntersect");function DD(e,t={}){if(e.length===1)return ut(e[0],t);if(e.length===0)return Vn(t);if(e.some(r=>zi(r)))throw new Error("Cannot intersect transform types");return jze(e,t)}o(DD,"IntersectEvaluated");d();function h0(e,t){if(e.length===1)return ut(e[0],t);if(e.length===0)return Vn(t);if(e.some(r=>zi(r)))throw new Error("Cannot intersect transform types");return J7(e,t)}o(h0,"Intersect");d();function Uf(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new fn("Ref: $ref must be a string");return ut({[ot]:"Ref",$ref:t},r)}o(Uf,"Ref");function $ze(e,t){return No("Awaited",[No(e,t)])}o($ze,"FromComputed");function zze(e){return No("Awaited",[Uf(e)])}o(zze,"FromRef");function Yze(e){return h0(kpe(e))}o(Yze,"FromIntersect");function Kze(e){return Yi(kpe(e))}o(Kze,"FromUnion");function Jze(e){return Nb(e)}o(Jze,"FromPromise");function kpe(e){return e.map(t=>Nb(t))}o(kpe,"FromRest");function Nb(e,t){return ut(mm(e)?$ze(e.target,e.parameters):Rs(e)?Yze(e.allOf):Bi(e)?Kze(e.anyOf):w3(e)?Jze(e.item):qs(e)?zze(e.$ref):e,t)}o(Nb,"Awaited");d();d();d();d();function Bpe(e){let t=[];for(let r of e)t.push(Tc(r));return t}o(Bpe,"FromRest");function Xze(e){let t=Bpe(e);return dpe(t)}o(Xze,"FromIntersect");function Zze(e){let t=Bpe(e);return fpe(t)}o(Zze,"FromUnion");function eYe(e){return e.map((t,r)=>r.toString())}o(eYe,"FromTuple");function tYe(e){return["[number]"]}o(tYe,"FromArray");function rYe(e){return globalThis.Object.getOwnPropertyNames(e)}o(rYe,"FromProperties");function nYe(e){return Gz?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}o(nYe,"FromPatternProperties");function Tc(e){return Rs(e)?Xze(e.allOf):Bi(e)?Zze(e.anyOf):vu(e)?eYe(e.items??[]):dm(e)?tYe(e.items):la(e)?rYe(e.properties):S3(e)?nYe(e.patternProperties):[]}o(Tc,"KeyOfPropertyKeys");var Gz=!1;function c1(e){Gz=!0;let t=Tc(e);return Gz=!1,`^(${t.map(n=>`(${n})`).join("|")})$`}o(c1,"KeyOfPattern");function iYe(e,t){return No("KeyOf",[No(e,t)])}o(iYe,"FromComputed");function oYe(e){return No("KeyOf",[Uf(e)])}o(oYe,"FromRef");function sYe(e,t){let r=Tc(e),n=aYe(r),i=np(n);return ut(i,t)}o(sYe,"KeyOfFromType");function aYe(e){return e.map(t=>t==="[number]"?Qf():vi(t))}o(aYe,"KeyOfPropertyKeysToRest");function Lb(e,t){return mm(e)?iYe(e.target,e.parameters):qs(e)?oYe(e.$ref):Yo(e)?Rpe(e,t):sYe(e,t)}o(Lb,"KeyOf");function lYe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Lb(e[n],$o(t));return r}o(lYe,"FromProperties");function cYe(e,t){return lYe(e.properties,t)}o(cYe,"FromMappedResult");function Rpe(e,t){let r=cYe(e,t);return Li(r)}o(Rpe,"KeyOfFromMappedResult");d();function FD(e){let t=Tc(e),r=Y7(e,t);return t.map((n,i)=>[t[i],r[i]])}o(FD,"KeyOfPropertyEntries");function uYe(e){let t=[];for(let r of e)t.push(...Tc(r));return upe(t)}o(uYe,"CompositeKeys");function fYe(e){return e.filter(t=>!X2(t))}o(fYe,"FilterNever");function dYe(e,t){let r=[];for(let n of e)r.push(...Y7(n,[t]));return fYe(r)}o(dYe,"CompositeProperty");function mYe(e,t){let r={};for(let n of t)r[n]=DD(dYe(e,n));return r}o(mYe,"CompositeProperties");function Dpe(e,t){let r=uYe(e),n=mYe(e,r);return Ki(n,t)}o(Dpe,"Composite");d();d();function ND(e){return ut({[ot]:"Date",type:"Date"},e)}o(ND,"Date");d();function LD(e){return ut({[ot]:"Null",type:"null"},e)}o(LD,"Null");d();function QD(e){return ut({[ot]:"Symbol",type:"symbol"},e)}o(QD,"Symbol");d();function MD(e){return ut({[ot]:"Undefined",type:"undefined"},e)}o(MD,"Undefined");d();function OD(e){return ut({[ot]:"Uint8Array",type:"Uint8Array"},e)}o(OD,"Uint8Array");d();function Cm(e){return ut({[ot]:"Unknown"},e)}o(Cm,"Unknown");function hYe(e){return e.map(t=>Hz(t,!1))}o(hYe,"FromArray");function pYe(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Ic(Hz(e[r],!1));return t}o(pYe,"FromProperties");function UD(e,t){return t===!0?e:Ic(e)}o(UD,"ConditionalReadonly");function Hz(e,t){return bz(e)?UD(e5(),t):Iz(e)?UD(e5(),t):sa(e)?Ic(Mf(hYe(e))):t1(e)?OD():b3(e)?ND():go(e)?UD(Ki(pYe(e)),t):vz(e)?UD(rp([],Cm()),t):aa(e)?MD():Tz(e)?LD():wz(e)?QD():M7(e)?Pb():yu(e)?vi(e):e1(e)?vi(e):So(e)?vi(e):Ki({})}o(Hz,"FromValue");function Ppe(e,t){return ut(Hz(e,!0),t)}o(Ppe,"Const");d();function Fpe(e,t){return hm(e)?Mf(e.parameters,t):Vn(t)}o(Fpe,"ConstructorParameters");d();function Npe(e,t){if(aa(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(s=>isNaN(s)).map(s=>e[s]),i=[...new Set(r)].map(s=>vi(s));return Yi(i,{...t,[Lf]:"Enum"})}o(Npe,"Enum");d();d();d();var jz=class extends fn{static{o(this,"ExtendsResolverError")}},ft;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(ft||(ft={}));function qf(e){return e===ft.False?e:ft.True}o(qf,"IntoBooleanResult");function Qb(e){throw new jz(e)}o(Qb,"Throw");function wa(e){return Qe.IsNever(e)||Qe.IsIntersect(e)||Qe.IsUnion(e)||Qe.IsUnknown(e)||Qe.IsAny(e)}o(wa,"IsStructuralRight");function Sa(e,t){return Qe.IsNever(t)?Wpe(e,t):Qe.IsIntersect(t)?qD(e,t):Qe.IsUnion(t)?Kz(e,t):Qe.IsUnknown(t)?jpe(e,t):Qe.IsAny(t)?Yz(e,t):Qb("StructuralRight")}o(Sa,"StructuralRight");function Yz(e,t){return ft.True}o(Yz,"FromAnyRight");function gYe(e,t){return Qe.IsIntersect(t)?qD(e,t):Qe.IsUnion(t)&&t.anyOf.some(r=>Qe.IsAny(r)||Qe.IsUnknown(r))?ft.True:Qe.IsUnion(t)?ft.Union:Qe.IsUnknown(t)||Qe.IsAny(t)?ft.True:ft.Union}o(gYe,"FromAny");function AYe(e,t){return Qe.IsUnknown(e)?ft.False:Qe.IsAny(e)?ft.Union:Qe.IsNever(e)?ft.True:ft.False}o(AYe,"FromArrayRight");function yYe(e,t){return Qe.IsObject(t)&&WD(t)?ft.True:wa(t)?Sa(e,t):Qe.IsArray(t)?qf(yo(e.items,t.items)):ft.False}o(yYe,"FromArray");function CYe(e,t){return wa(t)?Sa(e,t):Qe.IsAsyncIterator(t)?qf(yo(e.items,t.items)):ft.False}o(CYe,"FromAsyncIterator");function xYe(e,t){return wa(t)?Sa(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsRecord(t)?Wf(e,t):Qe.IsBigInt(t)?ft.True:ft.False}o(xYe,"FromBigInt");function Upe(e,t){return Qe.IsLiteralBoolean(e)||Qe.IsBoolean(e)?ft.True:ft.False}o(Upe,"FromBooleanRight");function EYe(e,t){return wa(t)?Sa(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsRecord(t)?Wf(e,t):Qe.IsBoolean(t)?ft.True:ft.False}o(EYe,"FromBoolean");function bYe(e,t){return wa(t)?Sa(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsConstructor(t)?e.parameters.length>t.parameters.length?ft.False:e.parameters.every((r,n)=>qf(yo(t.parameters[n],r))===ft.True)?qf(yo(e.returns,t.returns)):ft.False:ft.False}o(bYe,"FromConstructor");function vYe(e,t){return wa(t)?Sa(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsRecord(t)?Wf(e,t):Qe.IsDate(t)?ft.True:ft.False}o(vYe,"FromDate");function IYe(e,t){return wa(t)?Sa(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsFunction(t)?e.parameters.length>t.parameters.length?ft.False:e.parameters.every((r,n)=>qf(yo(t.parameters[n],r))===ft.True)?qf(yo(e.returns,t.returns)):ft.False:ft.False}o(IYe,"FromFunction");function qpe(e,t){return Qe.IsLiteral(e)&&d0.IsNumber(e.const)||Qe.IsNumber(e)||Qe.IsInteger(e)?ft.True:ft.False}o(qpe,"FromIntegerRight");function TYe(e,t){return Qe.IsInteger(t)||Qe.IsNumber(t)?ft.True:wa(t)?Sa(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsRecord(t)?Wf(e,t):ft.False}o(TYe,"FromInteger");function qD(e,t){return t.allOf.every(r=>yo(e,r)===ft.True)?ft.True:ft.False}o(qD,"FromIntersectRight");function wYe(e,t){return e.allOf.some(r=>yo(r,t)===ft.True)?ft.True:ft.False}o(wYe,"FromIntersect");function SYe(e,t){return wa(t)?Sa(e,t):Qe.IsIterator(t)?qf(yo(e.items,t.items)):ft.False}o(SYe,"FromIterator");function _Ye(e,t){return Qe.IsLiteral(t)&&t.const===e.const?ft.True:wa(t)?Sa(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsRecord(t)?Wf(e,t):Qe.IsString(t)?Vpe(e,t):Qe.IsNumber(t)?Gpe(e,t):Qe.IsInteger(t)?qpe(e,t):Qe.IsBoolean(t)?Upe(e,t):ft.False}o(_Ye,"FromLiteral");function Wpe(e,t){return ft.False}o(Wpe,"FromNeverRight");function kYe(e,t){return ft.True}o(kYe,"FromNever");function Lpe(e){let[t,r]=[e,0];for(;Qe.IsNot(t);)t=t.not,r+=1;return r%2===0?t:Cm()}o(Lpe,"UnwrapTNot");function BYe(e,t){return Qe.IsNot(e)?yo(Lpe(e),t):Qe.IsNot(t)?yo(e,Lpe(t)):Qb("Invalid fallthrough for Not")}o(BYe,"FromNot");function RYe(e,t){return wa(t)?Sa(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsRecord(t)?Wf(e,t):Qe.IsNull(t)?ft.True:ft.False}o(RYe,"FromNull");function Gpe(e,t){return Qe.IsLiteralNumber(e)||Qe.IsNumber(e)||Qe.IsInteger(e)?ft.True:ft.False}o(Gpe,"FromNumberRight");function DYe(e,t){return wa(t)?Sa(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsRecord(t)?Wf(e,t):Qe.IsInteger(t)||Qe.IsNumber(t)?ft.True:ft.False}o(DYe,"FromNumber");function wc(e,t){return Object.getOwnPropertyNames(e.properties).length===t}o(wc,"IsObjectPropertyCount");function Qpe(e){return WD(e)}o(Qpe,"IsObjectStringLike");function Mpe(e){return wc(e,0)||wc(e,1)&&"description"in e.properties&&Qe.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(Qe.IsString(e.properties.description.anyOf[0])&&Qe.IsUndefined(e.properties.description.anyOf[1])||Qe.IsString(e.properties.description.anyOf[1])&&Qe.IsUndefined(e.properties.description.anyOf[0]))}o(Mpe,"IsObjectSymbolLike");function Vz(e){return wc(e,0)}o(Vz,"IsObjectNumberLike");function Ope(e){return wc(e,0)}o(Ope,"IsObjectBooleanLike");function PYe(e){return wc(e,0)}o(PYe,"IsObjectBigIntLike");function FYe(e){return wc(e,0)}o(FYe,"IsObjectDateLike");function NYe(e){return WD(e)}o(NYe,"IsObjectUint8ArrayLike");function LYe(e){let t=Qf();return wc(e,0)||wc(e,1)&&"length"in e.properties&&qf(yo(e.properties.length,t))===ft.True}o(LYe,"IsObjectFunctionLike");function QYe(e){return wc(e,0)}o(QYe,"IsObjectConstructorLike");function WD(e){let t=Qf();return wc(e,0)||wc(e,1)&&"length"in e.properties&&qf(yo(e.properties.length,t))===ft.True}o(WD,"IsObjectArrayLike");function MYe(e){let t=rp([e5()],e5());return wc(e,0)||wc(e,1)&&"then"in e.properties&&qf(yo(e.properties.then,t))===ft.True}o(MYe,"IsObjectPromiseLike");function Hpe(e,t){return yo(e,t)===ft.False||Qe.IsOptional(e)&&!Qe.IsOptional(t)?ft.False:ft.True}o(Hpe,"Property");function p0(e,t){return Qe.IsUnknown(e)?ft.False:Qe.IsAny(e)?ft.Union:Qe.IsNever(e)||Qe.IsLiteralString(e)&&Qpe(t)||Qe.IsLiteralNumber(e)&&Vz(t)||Qe.IsLiteralBoolean(e)&&Ope(t)||Qe.IsSymbol(e)&&Mpe(t)||Qe.IsBigInt(e)&&PYe(t)||Qe.IsString(e)&&Qpe(t)||Qe.IsSymbol(e)&&Mpe(t)||Qe.IsNumber(e)&&Vz(t)||Qe.IsInteger(e)&&Vz(t)||Qe.IsBoolean(e)&&Ope(t)||Qe.IsUint8Array(e)&&NYe(t)||Qe.IsDate(e)&&FYe(t)||Qe.IsConstructor(e)&&QYe(t)||Qe.IsFunction(e)&&LYe(t)?ft.True:Qe.IsRecord(e)&&Qe.IsString($z(e))?t[Lf]==="Record"?ft.True:ft.False:Qe.IsRecord(e)&&Qe.IsNumber($z(e))?wc(t,0)?ft.True:ft.False:ft.False}o(p0,"FromObjectRight");function OYe(e,t){return wa(t)?Sa(e,t):Qe.IsRecord(t)?Wf(e,t):Qe.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!Qe.IsOptional(t.properties[r]))return ft.False;if(Qe.IsOptional(t.properties[r]))return ft.True;if(Hpe(e.properties[r],t.properties[r])===ft.False)return ft.False}return ft.True})():ft.False}o(OYe,"FromObject");function UYe(e,t){return wa(t)?Sa(e,t):Qe.IsObject(t)&&MYe(t)?ft.True:Qe.IsPromise(t)?qf(yo(e.item,t.item)):ft.False}o(UYe,"FromPromise");function $z(e){return ep in e.patternProperties?Qf():tp in e.patternProperties?U0():Qb("Unknown record key pattern")}o($z,"RecordKey");function zz(e){return ep in e.patternProperties?e.patternProperties[ep]:tp in e.patternProperties?e.patternProperties[tp]:Qb("Unable to get record value schema")}o(zz,"RecordValue");function Wf(e,t){let[r,n]=[$z(t),zz(t)];return Qe.IsLiteralString(e)&&Qe.IsNumber(r)&&qf(yo(e,n))===ft.True?ft.True:Qe.IsUint8Array(e)&&Qe.IsNumber(r)||Qe.IsString(e)&&Qe.IsNumber(r)||Qe.IsArray(e)&&Qe.IsNumber(r)?yo(e,n):Qe.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if(Hpe(n,e.properties[i])===ft.False)return ft.False;return ft.True})():ft.False}o(Wf,"FromRecordRight");function qYe(e,t){return wa(t)?Sa(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsRecord(t)?yo(zz(e),zz(t)):ft.False}o(qYe,"FromRecord");function WYe(e,t){let r=Qe.IsRegExp(e)?U0():e,n=Qe.IsRegExp(t)?U0():t;return yo(r,n)}o(WYe,"FromRegExp");function Vpe(e,t){return Qe.IsLiteral(e)&&d0.IsString(e.const)||Qe.IsString(e)?ft.True:ft.False}o(Vpe,"FromStringRight");function GYe(e,t){return wa(t)?Sa(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsRecord(t)?Wf(e,t):Qe.IsString(t)?ft.True:ft.False}o(GYe,"FromString");function HYe(e,t){return wa(t)?Sa(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsRecord(t)?Wf(e,t):Qe.IsSymbol(t)?ft.True:ft.False}o(HYe,"FromSymbol");function VYe(e,t){return Qe.IsTemplateLiteral(e)?yo(k3(e),t):Qe.IsTemplateLiteral(t)?yo(e,k3(t)):Qb("Invalid fallthrough for TemplateLiteral")}o(VYe,"FromTemplateLiteral");function jYe(e,t){return Qe.IsArray(t)&&e.items!==void 0&&e.items.every(r=>yo(r,t.items)===ft.True)}o(jYe,"IsArrayOfTuple");function $Ye(e,t){return Qe.IsNever(e)?ft.True:Qe.IsUnknown(e)?ft.False:Qe.IsAny(e)?ft.Union:ft.False}o($Ye,"FromTupleRight");function zYe(e,t){return wa(t)?Sa(e,t):Qe.IsObject(t)&&WD(t)||Qe.IsArray(t)&&jYe(e,t)?ft.True:Qe.IsTuple(t)?d0.IsUndefined(e.items)&&!d0.IsUndefined(t.items)||!d0.IsUndefined(e.items)&&d0.IsUndefined(t.items)?ft.False:d0.IsUndefined(e.items)&&!d0.IsUndefined(t.items)||e.items.every((r,n)=>yo(r,t.items[n])===ft.True)?ft.True:ft.False:ft.False}o(zYe,"FromTuple");function YYe(e,t){return wa(t)?Sa(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsRecord(t)?Wf(e,t):Qe.IsUint8Array(t)?ft.True:ft.False}o(YYe,"FromUint8Array");function KYe(e,t){return wa(t)?Sa(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsRecord(t)?Wf(e,t):Qe.IsVoid(t)?ZYe(e,t):Qe.IsUndefined(t)?ft.True:ft.False}o(KYe,"FromUndefined");function Kz(e,t){return t.anyOf.some(r=>yo(e,r)===ft.True)?ft.True:ft.False}o(Kz,"FromUnionRight");function JYe(e,t){return e.anyOf.every(r=>yo(r,t)===ft.True)?ft.True:ft.False}o(JYe,"FromUnion");function jpe(e,t){return ft.True}o(jpe,"FromUnknownRight");function XYe(e,t){return Qe.IsNever(t)?Wpe(e,t):Qe.IsIntersect(t)?qD(e,t):Qe.IsUnion(t)?Kz(e,t):Qe.IsAny(t)?Yz(e,t):Qe.IsString(t)?Vpe(e,t):Qe.IsNumber(t)?Gpe(e,t):Qe.IsInteger(t)?qpe(e,t):Qe.IsBoolean(t)?Upe(e,t):Qe.IsArray(t)?AYe(e,t):Qe.IsTuple(t)?$Ye(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsUnknown(t)?ft.True:ft.False}o(XYe,"FromUnknown");function ZYe(e,t){return Qe.IsUndefined(e)||Qe.IsUndefined(e)?ft.True:ft.False}o(ZYe,"FromVoidRight");function eKe(e,t){return Qe.IsIntersect(t)?qD(e,t):Qe.IsUnion(t)?Kz(e,t):Qe.IsUnknown(t)?jpe(e,t):Qe.IsAny(t)?Yz(e,t):Qe.IsObject(t)?p0(e,t):Qe.IsVoid(t)?ft.True:ft.False}o(eKe,"FromVoid");function yo(e,t){return Qe.IsTemplateLiteral(e)||Qe.IsTemplateLiteral(t)?VYe(e,t):Qe.IsRegExp(e)||Qe.IsRegExp(t)?WYe(e,t):Qe.IsNot(e)||Qe.IsNot(t)?BYe(e,t):Qe.IsAny(e)?gYe(e,t):Qe.IsArray(e)?yYe(e,t):Qe.IsBigInt(e)?xYe(e,t):Qe.IsBoolean(e)?EYe(e,t):Qe.IsAsyncIterator(e)?CYe(e,t):Qe.IsConstructor(e)?bYe(e,t):Qe.IsDate(e)?vYe(e,t):Qe.IsFunction(e)?IYe(e,t):Qe.IsInteger(e)?TYe(e,t):Qe.IsIntersect(e)?wYe(e,t):Qe.IsIterator(e)?SYe(e,t):Qe.IsLiteral(e)?_Ye(e,t):Qe.IsNever(e)?kYe(e,t):Qe.IsNull(e)?RYe(e,t):Qe.IsNumber(e)?DYe(e,t):Qe.IsObject(e)?OYe(e,t):Qe.IsRecord(e)?qYe(e,t):Qe.IsString(e)?GYe(e,t):Qe.IsSymbol(e)?HYe(e,t):Qe.IsTuple(e)?zYe(e,t):Qe.IsPromise(e)?UYe(e,t):Qe.IsUint8Array(e)?YYe(e,t):Qe.IsUndefined(e)?KYe(e,t):Qe.IsUnion(e)?JYe(e,t):Qe.IsUnknown(e)?XYe(e,t):Qe.IsVoid(e)?eKe(e,t):Qb(`Unknown left type operand '${e[ot]}'`)}o(yo,"Visit");function r5(e,t){return yo(e,t)}o(r5,"ExtendsCheck");d();d();d();function tKe(e,t,r,n,i){let s={};for(let a of globalThis.Object.getOwnPropertyNames(e))s[a]=Mb(e[a],t,r,n,$o(i));return s}o(tKe,"FromProperties");function rKe(e,t,r,n,i){return tKe(e.properties,t,r,n,i)}o(rKe,"FromMappedResult");function $pe(e,t,r,n,i){let s=rKe(e,t,r,n,i);return Li(s)}o($pe,"ExtendsFromMappedResult");function nKe(e,t,r,n){let i=r5(e,t);return i===ft.Union?Yi([r,n]):i===ft.True?r:n}o(nKe,"ExtendsResolve");function Mb(e,t,r,n,i){return Yo(e)?$pe(e,t,r,n,i):Eu(e)?ut(zpe(e,t,r,n,i)):ut(nKe(e,t,r,n),i)}o(Mb,"Extends");function iKe(e,t,r,n,i){return{[e]:Mb(vi(e),t,r,n,$o(i))}}o(iKe,"FromPropertyKey");function oKe(e,t,r,n,i){return e.reduce((s,a)=>({...s,...iKe(a,t,r,n,i)}),{})}o(oKe,"FromPropertyKeys");function sKe(e,t,r,n,i){return oKe(e.keys,t,r,n,i)}o(sKe,"FromMappedKey");function zpe(e,t,r,n,i){let s=sKe(e,t,r,n,i);return Li(s)}o(zpe,"ExtendsFromMappedKey");d();function aKe(e){return e.allOf.every(t=>u1(t))}o(aKe,"Intersect");function lKe(e){return e.anyOf.some(t=>u1(t))}o(lKe,"Union");function cKe(e){return!u1(e.not)}o(cKe,"Not");function u1(e){return e[ot]==="Intersect"?aKe(e):e[ot]==="Union"?lKe(e):e[ot]==="Not"?cKe(e):e[ot]==="Undefined"}o(u1,"ExtendsUndefinedCheck");d();function Ype(e,t){return Ob(k3(e),t)}o(Ype,"ExcludeFromTemplateLiteral");function uKe(e,t){let r=e.filter(n=>r5(n,t)===ft.False);return r.length===1?r[0]:Yi(r)}o(uKe,"ExcludeRest");function Ob(e,t,r={}){return bu(e)?ut(Ype(e,t),r):Yo(e)?ut(Kpe(e,t),r):ut(Bi(e)?uKe(e.anyOf,t):r5(e,t)!==ft.False?Vn():e,r)}o(Ob,"Exclude");function fKe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Ob(e[n],t);return r}o(fKe,"FromProperties");function dKe(e,t){return fKe(e.properties,t)}o(dKe,"FromMappedResult");function Kpe(e,t){let r=dKe(e,t);return Li(r)}o(Kpe,"ExcludeFromMappedResult");d();d();d();function Jpe(e,t){return Ub(k3(e),t)}o(Jpe,"ExtractFromTemplateLiteral");function mKe(e,t){let r=e.filter(n=>r5(n,t)!==ft.False);return r.length===1?r[0]:Yi(r)}o(mKe,"ExtractRest");function Ub(e,t,r){return bu(e)?ut(Jpe(e,t),r):Yo(e)?ut(Xpe(e,t),r):ut(Bi(e)?mKe(e.anyOf,t):r5(e,t)!==ft.False?e:Vn(),r)}o(Ub,"Extract");function hKe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Ub(e[n],t);return r}o(hKe,"FromProperties");function pKe(e,t){return hKe(e.properties,t)}o(pKe,"FromMappedResult");function Xpe(e,t){let r=pKe(e,t);return Li(r)}o(Xpe,"ExtractFromMappedResult");d();function Zpe(e,t){return hm(e)?ut(e.returns,t):Vn(t)}o(Zpe,"InstanceType");d();d();function GD(e){return Ic(m0(e))}o(GD,"ReadonlyOptional");d();function B3(e,t,r){return ut({[ot]:"Record",type:"object",patternProperties:{[e]:t}},r)}o(B3,"RecordCreateFromPattern");function Jz(e,t,r){let n={};for(let i of e)n[i]=t;return Ki(n,{...r,[Lf]:"Record"})}o(Jz,"RecordCreateFromKeys");function gKe(e,t,r){return kD(e)?Jz(vc(e),t,r):B3(e.pattern,t,r)}o(gKe,"FromTemplateLiteralKey");function AKe(e,t,r){return Jz(vc(Yi(e)),t,r)}o(AKe,"FromUnionKey");function yKe(e,t,r){return Jz([e.toString()],t,r)}o(yKe,"FromLiteralKey");function CKe(e,t,r){return B3(e.source,t,r)}o(CKe,"FromRegExpKey");function xKe(e,t,r){let n=aa(e.pattern)?tp:e.pattern;return B3(n,t,r)}o(xKe,"FromStringKey");function EKe(e,t,r){return B3(tp,t,r)}o(EKe,"FromAnyKey");function bKe(e,t,r){return B3(lpe,t,r)}o(bKe,"FromNeverKey");function vKe(e,t,r){return Ki({true:t,false:t},r)}o(vKe,"FromBooleanKey");function IKe(e,t,r){return B3(ep,t,r)}o(IKe,"FromIntegerKey");function TKe(e,t,r){return B3(ep,t,r)}o(TKe,"FromNumberKey");function HD(e,t,r={}){return Bi(e)?AKe(e.anyOf,t,r):bu(e)?gKe(e,t,r):xu(e)?yKe(e.const,t,r):i1(e)?vKe(e,t,r):gm(e)?IKe(e,t,r):Am(e)?TKe(e,t,r):Bz(e)?CKe(e,t,r):o1(e)?xKe(e,t,r):_z(e)?EKe(e,t,r):X2(e)?bKe(e,t,r):Vn(r)}o(HD,"Record");function VD(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}o(VD,"RecordPattern");function ege(e){let t=VD(e);return t===tp?U0():t===ep?Qf():U0({pattern:t})}o(ege,"RecordKey");function jD(e){return e.patternProperties[VD(e)]}o(jD,"RecordValue");function wKe(e,t){return t.parameters=X7(e,t.parameters),t.returns=xm(e,t.returns),t}o(wKe,"FromConstructor");function SKe(e,t){return t.parameters=X7(e,t.parameters),t.returns=xm(e,t.returns),t}o(SKe,"FromFunction");function _Ke(e,t){return t.allOf=X7(e,t.allOf),t}o(_Ke,"FromIntersect");function kKe(e,t){return t.anyOf=X7(e,t.anyOf),t}o(kKe,"FromUnion");function BKe(e,t){return aa(t.items)||(t.items=X7(e,t.items)),t}o(BKe,"FromTuple");function RKe(e,t){return t.items=xm(e,t.items),t}o(RKe,"FromArray");function DKe(e,t){return t.items=xm(e,t.items),t}o(DKe,"FromAsyncIterator");function PKe(e,t){return t.items=xm(e,t.items),t}o(PKe,"FromIterator");function FKe(e,t){return t.item=xm(e,t.item),t}o(FKe,"FromPromise");function NKe(e,t){let r=OKe(e,t.properties);return{...t,...Ki(r)}}o(NKe,"FromObject");function LKe(e,t){let r=xm(e,ege(t)),n=xm(e,jD(t)),i=HD(r,n);return{...t,...i}}o(LKe,"FromRecord");function QKe(e,t){return t.index in e?e[t.index]:Cm()}o(QKe,"FromArgument");function MKe(e,t){let r=Ib(t),n=bc(t),i=xm(e,t);return r&&n?GD(i):r&&!n?Ic(i):!r&&n?m0(i):i}o(MKe,"FromProperty");function OKe(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:MKe(e,t[n])}),{})}o(OKe,"FromProperties");function X7(e,t){return t.map(r=>xm(e,r))}o(X7,"FromTypes");function xm(e,t){return hm(t)?wKe(e,t):pm(t)?SKe(e,t):Rs(t)?_Ke(e,t):Bi(t)?kKe(e,t):vu(t)?BKe(e,t):dm(t)?RKe(e,t):v3(t)?DKe(e,t):T3(t)?PKe(e,t):w3(t)?FKe(e,t):la(t)?NKe(e,t):S3(t)?LKe(e,t):kz(t)?QKe(e,t):t}o(xm,"FromType");function tge(e,t){return xm(t,bb(e))}o(tge,"Instantiate");d();function rge(e){return ut({[ot]:"Integer",type:"integer"},e)}o(rge,"Integer");d();d();d();function UKe(e,t,r){return{[e]:Em(vi(e),t,$o(r))}}o(UKe,"MappedIntrinsicPropertyKey");function qKe(e,t,r){return e.reduce((i,s)=>({...i,...UKe(s,t,r)}),{})}o(qKe,"MappedIntrinsicPropertyKeys");function WKe(e,t,r){return qKe(e.keys,t,r)}o(WKe,"MappedIntrinsicProperties");function nge(e,t,r){let n=WKe(e,t,r);return Li(n)}o(nge,"IntrinsicFromMappedKey");function GKe(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}o(GKe,"ApplyUncapitalize");function HKe(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}o(HKe,"ApplyCapitalize");function VKe(e){return e.toUpperCase()}o(VKe,"ApplyUppercase");function jKe(e){return e.toLowerCase()}o(jKe,"ApplyLowercase");function $Ke(e,t,r){let n=Rb(e.pattern);if(!_3(n))return{...e,pattern:ige(e.pattern,t)};let a=[...z7(n)].map(u=>vi(u)),l=oge(a,t),c=Yi(l);return RD([c],r)}o($Ke,"FromTemplateLiteral");function ige(e,t){return typeof e=="string"?t==="Uncapitalize"?GKe(e):t==="Capitalize"?HKe(e):t==="Uppercase"?VKe(e):t==="Lowercase"?jKe(e):e:e.toString()}o(ige,"FromLiteralValue");function oge(e,t){return e.map(r=>Em(r,t))}o(oge,"FromRest");function Em(e,t,r={}){return Eu(e)?nge(e,t,r):bu(e)?$Ke(e,t,r):Bi(e)?Yi(oge(e.anyOf,t),r):xu(e)?vi(ige(e.const,t),r):ut(e,r)}o(Em,"Intrinsic");function sge(e,t={}){return Em(e,"Capitalize",t)}o(sge,"Capitalize");d();function age(e,t={}){return Em(e,"Lowercase",t)}o(age,"Lowercase");d();function lge(e,t={}){return Em(e,"Uncapitalize",t)}o(lge,"Uncapitalize");d();function cge(e,t={}){return Em(e,"Uppercase",t)}o(cge,"Uppercase");d();d();d();d();d();function zKe(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=n5(e[i],t,$o(r));return n}o(zKe,"FromProperties");function YKe(e,t,r){return zKe(e.properties,t,r)}o(YKe,"FromMappedResult");function uge(e,t,r){let n=YKe(e,t,r);return Li(n)}o(uge,"OmitFromMappedResult");function KKe(e,t){return e.map(r=>Xz(r,t))}o(KKe,"FromIntersect");function JKe(e,t){return e.map(r=>Xz(r,t))}o(JKe,"FromUnion");function XKe(e,t){let{[t]:r,...n}=e;return n}o(XKe,"FromProperty");function ZKe(e,t){return t.reduce((r,n)=>XKe(r,n),e)}o(ZKe,"FromProperties");function eJe(e,t){let r=Ds(e,[ps,"$id","required","properties"]),n=ZKe(e.properties,t);return Ki(n,r)}o(eJe,"FromObject");function tJe(e){let t=e.reduce((r,n)=>wD(n)?[...r,vi(n)]:r,[]);return Yi(t)}o(tJe,"UnionFromPropertyKeys");function Xz(e,t){return Rs(e)?h0(KKe(e.allOf,t)):Bi(e)?Yi(JKe(e.anyOf,t)):la(e)?eJe(e,t):Ki({})}o(Xz,"OmitResolve");function n5(e,t,r){let n=sa(t)?tJe(t):t,i=gs(t)?vc(t):t,s=qs(e),a=qs(t);return Yo(e)?uge(e,i,r):Eu(t)?fge(e,t,r):s&&a?No("Omit",[e,n],r):!s&&a?No("Omit",[e,n],r):s&&!a?No("Omit",[e,n],r):ut({...Xz(e,i),...r})}o(n5,"Omit");function rJe(e,t,r){return{[t]:n5(e,[t],$o(r))}}o(rJe,"FromPropertyKey");function nJe(e,t,r){return t.reduce((n,i)=>({...n,...rJe(e,i,r)}),{})}o(nJe,"FromPropertyKeys");function iJe(e,t,r){return nJe(e,t.keys,r)}o(iJe,"FromMappedKey");function fge(e,t,r){let n=iJe(e,t,r);return Li(n)}o(fge,"OmitFromMappedKey");d();d();d();function oJe(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=i5(e[i],t,$o(r));return n}o(oJe,"FromProperties");function sJe(e,t,r){return oJe(e.properties,t,r)}o(sJe,"FromMappedResult");function dge(e,t,r){let n=sJe(e,t,r);return Li(n)}o(dge,"PickFromMappedResult");function aJe(e,t){return e.map(r=>Zz(r,t))}o(aJe,"FromIntersect");function lJe(e,t){return e.map(r=>Zz(r,t))}o(lJe,"FromUnion");function cJe(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}o(cJe,"FromProperties");function uJe(e,t){let r=Ds(e,[ps,"$id","required","properties"]),n=cJe(e.properties,t);return Ki(n,r)}o(uJe,"FromObject");function fJe(e){let t=e.reduce((r,n)=>wD(n)?[...r,vi(n)]:r,[]);return Yi(t)}o(fJe,"UnionFromPropertyKeys");function Zz(e,t){return Rs(e)?h0(aJe(e.allOf,t)):Bi(e)?Yi(lJe(e.anyOf,t)):la(e)?uJe(e,t):Ki({})}o(Zz,"PickResolve");function i5(e,t,r){let n=sa(t)?fJe(t):t,i=gs(t)?vc(t):t,s=qs(e),a=qs(t);return Yo(e)?dge(e,i,r):Eu(t)?mge(e,t,r):s&&a?No("Pick",[e,n],r):!s&&a?No("Pick",[e,n],r):s&&!a?No("Pick",[e,n],r):ut({...Zz(e,i),...r})}o(i5,"Pick");function dJe(e,t,r){return{[t]:i5(e,[t],$o(r))}}o(dJe,"FromPropertyKey");function mJe(e,t,r){return t.reduce((n,i)=>({...n,...dJe(e,i,r)}),{})}o(mJe,"FromPropertyKeys");function hJe(e,t,r){return mJe(e,t.keys,r)}o(hJe,"FromMappedKey");function mge(e,t,r){let n=hJe(e,t,r);return Li(n)}o(mge,"PickFromMappedKey");d();d();function pJe(e,t){return No("Partial",[No(e,t)])}o(pJe,"FromComputed");function gJe(e){return No("Partial",[Uf(e)])}o(gJe,"FromRef");function AJe(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=m0(e[r]);return t}o(AJe,"FromProperties");function yJe(e){let t=Ds(e,[ps,"$id","required","properties"]),r=AJe(e.properties);return Ki(r,t)}o(yJe,"FromObject");function hge(e){return e.map(t=>pge(t))}o(hge,"FromRest");function pge(e){return mm(e)?pJe(e.target,e.parameters):qs(e)?gJe(e.$ref):Rs(e)?h0(hge(e.allOf)):Bi(e)?Yi(hge(e.anyOf)):la(e)?yJe(e):I3(e)||i1(e)||gm(e)||xu(e)||q7(e)||Am(e)||o1(e)||W7(e)||s1(e)?e:Ki({})}o(pge,"PartialResolve");function qb(e,t){return Yo(e)?gge(e,t):ut({...pge(e),...t})}o(qb,"Partial");function CJe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=qb(e[n],$o(t));return r}o(CJe,"FromProperties");function xJe(e,t){return CJe(e.properties,t)}o(xJe,"FromMappedResult");function gge(e,t){let r=xJe(e,t);return Li(r)}o(gge,"PartialFromMappedResult");d();d();function EJe(e,t){return No("Required",[No(e,t)])}o(EJe,"FromComputed");function bJe(e){return No("Required",[Uf(e)])}o(bJe,"FromRef");function vJe(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Ds(e[r],[Ol]);return t}o(vJe,"FromProperties");function IJe(e){let t=Ds(e,[ps,"$id","required","properties"]),r=vJe(e.properties);return Ki(r,t)}o(IJe,"FromObject");function Age(e){return e.map(t=>yge(t))}o(Age,"FromRest");function yge(e){return mm(e)?EJe(e.target,e.parameters):qs(e)?bJe(e.$ref):Rs(e)?h0(Age(e.allOf)):Bi(e)?Yi(Age(e.anyOf)):la(e)?IJe(e):I3(e)||i1(e)||gm(e)||xu(e)||q7(e)||Am(e)||o1(e)||W7(e)||s1(e)?e:Ki({})}o(yge,"RequiredResolve");function Wb(e,t){return Yo(e)?Cge(e,t):ut({...yge(e),...t})}o(Wb,"Required");function TJe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Wb(e[n],t);return r}o(TJe,"FromProperties");function wJe(e,t){return TJe(e.properties,t)}o(wJe,"FromMappedResult");function Cge(e,t){let r=wJe(e,t);return Li(r)}o(Cge,"RequiredFromMappedResult");function SJe(e,t){return t.map(r=>qs(r)?eY(e,r.$ref):Iu(e,r))}o(SJe,"DereferenceParameters");function eY(e,t){return t in e?qs(e[t])?eY(e,e[t].$ref):Iu(e,e[t]):Vn()}o(eY,"Dereference");function _Je(e){return Nb(e[0])}o(_Je,"FromAwaited");function kJe(e){return t5(e[0],e[1])}o(kJe,"FromIndex");function BJe(e){return Lb(e[0])}o(BJe,"FromKeyOf");function RJe(e){return qb(e[0])}o(RJe,"FromPartial");function DJe(e){return n5(e[0],e[1])}o(DJe,"FromOmit");function PJe(e){return i5(e[0],e[1])}o(PJe,"FromPick");function FJe(e){return Wb(e[0])}o(FJe,"FromRequired");function NJe(e,t,r){let n=SJe(e,r);return t==="Awaited"?_Je(n):t==="Index"?kJe(n):t==="KeyOf"?BJe(n):t==="Partial"?RJe(n):t==="Omit"?DJe(n):t==="Pick"?PJe(n):t==="Required"?FJe(n):Vn()}o(NJe,"FromComputed");function LJe(e,t){return Sb(Iu(e,t))}o(LJe,"FromArray");function QJe(e,t){return _b(Iu(e,t))}o(QJe,"FromAsyncIterator");function MJe(e,t,r){return kb(Z7(e,t),Iu(e,r))}o(MJe,"FromConstructor");function OJe(e,t,r){return rp(Z7(e,t),Iu(e,r))}o(OJe,"FromFunction");function UJe(e,t){return h0(Z7(e,t))}o(UJe,"FromIntersect");function qJe(e,t){return Fb(Iu(e,t))}o(qJe,"FromIterator");function WJe(e,t){return Ki(globalThis.Object.keys(t).reduce((r,n)=>({...r,[n]:Iu(e,t[n])}),{}))}o(WJe,"FromObject");function GJe(e,t){let[r,n]=[Iu(e,jD(t)),VD(t)],i=bb(t);return i.patternProperties[n]=r,i}o(GJe,"FromRecord");function HJe(e,t){return qs(t)?{...eY(e,t.$ref),[ps]:t[ps]}:t}o(HJe,"FromTransform");function VJe(e,t){return Mf(Z7(e,t))}o(VJe,"FromTuple");function jJe(e,t){return Yi(Z7(e,t))}o(jJe,"FromUnion");function Z7(e,t){return t.map(r=>Iu(e,r))}o(Z7,"FromTypes");function Iu(e,t){return bc(t)?ut(Iu(e,Ds(t,[Ol])),t):Ib(t)?ut(Iu(e,Ds(t,[fm])),t):zi(t)?ut(HJe(e,t),t):dm(t)?ut(LJe(e,t.items),t):v3(t)?ut(QJe(e,t.items),t):mm(t)?ut(NJe(e,t.target,t.parameters)):hm(t)?ut(MJe(e,t.parameters,t.returns),t):pm(t)?ut(OJe(e,t.parameters,t.returns),t):Rs(t)?ut(UJe(e,t.allOf),t):T3(t)?ut(qJe(e,t.items),t):la(t)?ut(WJe(e,t.properties),t):S3(t)?ut(GJe(e,t)):vu(t)?ut(VJe(e,t.items||[]),t):Bi(t)?ut(jJe(e,t.anyOf),t):t}o(Iu,"FromType");function $Je(e,t){return t in e?Iu(e,e[t]):Vn()}o($Je,"ComputeType");function xge(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:$Je(e,r)}),{})}o(xge,"ComputeModuleProperties");var tY=class{static{o(this,"TModule")}constructor(t){let r=xge(t),n=this.WithIdentifiers(r);this.$defs=n}Import(t,r){let n={...this.$defs,[t]:ut(this.$defs[t],r)};return ut({[ot]:"Import",$defs:n,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:{...t[n],$id:n}}),{})}};function Ege(e){return new tY(e)}o(Ege,"Module");d();function bge(e,t){return ut({[ot]:"Not",not:e},t)}o(bge,"Not");d();function vge(e,t){return pm(e)?Mf(e.parameters,t):Vn()}o(vge,"Parameters");d();var zJe=0;function Ige(e,t={}){aa(t.$id)&&(t.$id=`T${zJe++}`);let r=bb(e({[ot]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,ut({[Lf]:"Recursive",...r},t)}o(Ige,"Recursive");d();function Tge(e,t){let r=So(e)?new globalThis.RegExp(e):e;return ut({[ot]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}o(Tge,"RegExp");d();function YJe(e){return Rs(e)?e.allOf:Bi(e)?e.anyOf:vu(e)?e.items??[]:[]}o(YJe,"RestResolve");function wge(e){return YJe(e)}o(wge,"Rest");d();function Sge(e,t){return pm(e)?ut(e.returns,t):Vn(t)}o(Sge,"ReturnType");d();var rY=class{static{o(this,"TransformDecodeBuilder")}constructor(t){this.schema=t}Decode(t){return new nY(this.schema,t)}},nY=class{static{o(this,"TransformEncodeBuilder")}constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let s={Encode:o(a=>r[ps].Encode(t(a)),"Encode"),Decode:o(a=>this.decode(r[ps].Decode(a)),"Decode")};return{...r,[ps]:s}}EncodeSchema(t,r){let n={Decode:this.decode,Encode:t};return{...r,[ps]:n}}Encode(t){return zi(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};function _ge(e){return new rY(e)}o(_ge,"Transform");d();function kge(e={}){return ut({[ot]:e[ot]??"Unsafe"},e)}o(kge,"Unsafe");d();function Bge(e){return ut({[ot]:"Void",type:"void"},e)}o(Bge,"Void");d();var iY={};$g(iY,{Any:()=>e5,Argument:()=>mpe,Array:()=>Sb,AsyncIterator:()=>_b,Awaited:()=>Nb,BigInt:()=>Pb,Boolean:()=>BD,Capitalize:()=>sge,Composite:()=>Dpe,Const:()=>Ppe,Constructor:()=>kb,ConstructorParameters:()=>Fpe,Date:()=>ND,Enum:()=>Npe,Exclude:()=>Ob,Extends:()=>Mb,Extract:()=>Ub,Function:()=>rp,Index:()=>t5,InstanceType:()=>Zpe,Instantiate:()=>tge,Integer:()=>rge,Intersect:()=>h0,Iterator:()=>Fb,KeyOf:()=>Lb,Literal:()=>vi,Lowercase:()=>age,Mapped:()=>wpe,Module:()=>Ege,Never:()=>Vn,Not:()=>bge,Null:()=>LD,Number:()=>Qf,Object:()=>Ki,Omit:()=>n5,Optional:()=>m0,Parameters:()=>vge,Partial:()=>qb,Pick:()=>i5,Promise:()=>PD,Readonly:()=>Ic,ReadonlyOptional:()=>GD,Record:()=>HD,Recursive:()=>Ige,Ref:()=>Uf,RegExp:()=>Tge,Required:()=>Wb,Rest:()=>wge,ReturnType:()=>Sge,String:()=>U0,Symbol:()=>QD,TemplateLiteral:()=>RD,Transform:()=>_ge,Tuple:()=>Mf,Uint8Array:()=>OD,Uncapitalize:()=>lge,Undefined:()=>MD,Union:()=>Yi,Unknown:()=>Cm,Unsafe:()=>kge,Uppercase:()=>cge,Void:()=>Bge});d();var I=iY;var s5e=tt(jn()),a5e=I.Object({accessToken:I.Optional(I.String({minLength:1})),handle:I.Optional(I.String({minLength:1})),githubAppId:I.Optional(I.String({minLength:1}))}),DK;(r=>(r.method="github/didChangeAuth",r.type=new s5e.ProtocolNotificationType(r.method)))(DK||={});d();var l5e=tt(jn()),PK;(r=>(r.method="copilot/ipCodeCitation",r.type=new l5e.NotificationType(r.method)))(PK||={});d();var c5e=tt(jn()),PP;(r=>(r.method="context/update",r.type=new c5e.ProtocolRequestType(r.method)))(PP||={});d();d();var h5="Cancelled";d();var Hn=tt(jn()),cT=I.String(),ZXe=I.Object({uri:cT}),L3=I.Intersect([ZXe,I.Object({version:I.Optional(I.Integer())})]),hrr=I.Required(L3),Vf=I.Object({line:I.Integer({minimum:0}),character:I.Integer({minimum:0})}),Im=I.Object({start:Vf,end:Vf}),FK=I.Union([I.Integer(),I.String()]),prr=I.Object({isCancellationRequested:I.Boolean(),onCancellationRequested:I.Any()});d();var u5e=tt(jn()),NK;(r=>(r.method="textDocument/didFocus",r.type=new u5e.ProtocolNotificationType(r.method)))(NK||={});d();var eZe=I.Object({fetch:I.Boolean(),ipCodeCitation:I.Boolean(),redirectedTelemetry:I.Boolean(),related:I.Boolean(),token:I.Boolean(),watchedFiles:I.Boolean()}),tZe=I.Object({name:I.String(),version:I.String(),readableName:I.Optional(I.String())}),f5e=I.Object({name:I.String(),version:I.Optional(I.String()),readableName:I.Optional(I.String())}),d5e=I.Object({editorInfo:I.Optional(f5e),editorPluginInfo:I.Optional(f5e),relatedPluginInfo:I.Optional(I.Array(tZe)),copilotIntegrationId:I.Optional(I.String()),copilotCapabilities:I.Optional(I.Partial(eZe)),githubAppId:I.Optional(I.String())});d();var uT=tt(jn());var FP=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(FP||{}),rZe=I.Enum(FP),nZe=I.Object({triggerKind:rZe,selectedCompletionInfo:I.Optional(I.Object({text:I.String(),range:Im,tooltipSignature:I.Optional(I.String())}))}),m5e=I.Object({textDocument:L3,position:Vf,formattingOptions:I.Optional(I.Object({tabSize:I.Optional(I.Union([I.Integer({minimum:1}),I.String()])),insertSpaces:I.Optional(I.Union([I.Boolean(),I.String()]))})),context:nZe,data:I.Optional(I.Unknown())}),LK;(r=>(r.method="textDocument/inlineCompletion",r.type=new uT.ProtocolRequestType(r.method)))(LK||={});var h5e=I.Object({command:I.Object({arguments:I.Tuple([I.String({minLength:1})])})}),p5e=I.Object({item:h5e}),QK;(r=>(r.method="textDocument/didShowCompletion",r.type=new uT.ProtocolNotificationType(r.method)))(QK||={});var g5e=I.Object({item:h5e,acceptedLength:I.Integer({minimum:1})}),MK;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new uT.ProtocolNotificationType(r.method)))(MK||={});d();var A5e=tt(jn()),OK;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new A5e.ProtocolRequestType(r.method)))(OK||={});d();var y5e=tt(jn()),C5e=I.Object({textDocument:L3,position:Vf}),iZe=I.Object({command:I.Object({arguments:I.Tuple([I.String({minLength:1})])})}),x5e=I.Object({item:iZe}),UK;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new y5e.ProtocolNotificationType(r.method)))(UK||={});d();var NP=tt(jn());var E5e=I.Object({textDocument:L3,position:Vf,partialResultToken:I.Optional(FK),workDoneToken:I.Optional(FK)}),LP;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new NP.ProtocolRequestType(n.method),n.partialResult=new NP.ProgressType))(LP||={});d();var b5e=tt(jn()),qK;(r=>(r.method="copilot/related",r.type=new b5e.ProtocolRequestType(r.method)))(qK||={});d();var v5e=tt(jn()),WK;(r=>(r.method="statusNotification",r.type=new v5e.ProtocolNotificationType(r.method)))(WK||={});var I5e=tt(require("events"));var QP="CopilotToken",ap=class{static{o(this,"CopilotTokenNotifier")}#e=new I5e.default;#t;constructor(){this.#e.setMaxListeners(20)}emitToken(t){if(t.token!==this.#t?.token)return this.#t=t,this.#e.emit(QP,t)}onToken(t){return this.#e.on(QP,t),Hn.Disposable.create(()=>this.#e.off(QP,t))}};function Ya(e,t){let r=Su(e,t,`event.${QP}`);return e.get(ap).onToken(r)}o(Ya,"onCopilotToken");function fT(e,t){return e.get(ap).emitToken(t)}o(fT,"emitCopilotToken");var ql=class{static{o(this,"TelemetryUserConfig")}constructor(t,r,n,i){this.trackingId=r,this.optedIn=n??!1,this.ftFlag=i??"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){Ya(t,r=>{let n=r.getTokenValue("rt")==="1",i=r.getTokenValue("ft")??"",s=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,c=r.getTokenValue("sku");s!==void 0&&(this.trackingId=s,this.organizationsList=a?.toString(),this.enterpriseList=l?.toString(),this.sku=c,this.optedIn=n,this.ftFlag=i)})}};var MP=tt(j2()),OP=tt(require("os"));var oZe=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function sZe(e){let t={type:e.name,value:e.message},r=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let n of r.slice(e.toString().length+1).split(/\n/).reverse()){let i=n.match(oZe),s={filename:"",function:""};i&&(s.function=i[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??s.function,s.filename=(i[4]?.trim()??s.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),i[5]&&i[5]!==":0"&&(s.lineno=i[5].slice(1)),i[6]&&i[5]!==":0"&&(s.colno=i[6].slice(1)),s.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(s.filename)),t.stacktrace.push(s)}}return t}o(sZe,"buildExceptionDetail");function GK(e,t){let r=e.get(an),n=r.getEditorInfo(),i=e.get(ql),s={"#editor":n.devName??n.name,"#editor_version":lp({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":lp(r.getEditorPluginInfo()),"#session_id":e.get(hs).sessionId,"#machine_id":e.get(hs).machineId,"#architecture":OP.arch(),"#os_platform":OP.platform(),...t};return i.trackingId&&(s.user=i.trackingId,s["#tracking_id"]=i.trackingId),s}o(GK,"buildContext");function T5e(e,t){let r=e.get(uo),n=e.get(an).getEditorInfo(),i={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:GK(e,{"#node_version":process.versions.node}),sensitive_context:{}},s=[];i.exception_detail=[];let a=0,l=t;for(;l instanceof Error&&a<10;){let u=sZe(l);i.exception_detail.unshift(u),s.unshift([l,u]),a+=1,l=l.cause}let c=[];for(let[u,f]of s)if(f.stacktrace&&f.stacktrace.length>0){c.push(`${f.type}: ${u.code??""}`);let m=[...f.stacktrace].reverse();for(let h of m)if(h.filename?.startsWith("/github-copilot/"))return i;for(let h of m)if(h.in_app){c.push(`${h.filename?.replace(/^\.\//,"")}:${h.lineno}:${h.colno}`);break}c.push(`${m[0].filename?.replace(/^\.\//,"")}`)}else return i;return i.exception_detail.length>0&&(i.rollup_id=(0,MP.SHA256)(MP.enc.Utf16.parse(c.join(`
`))).toString()),i}o(T5e,"buildPayload");d();var cp=class{constructor(t=5){this.perTenMinutes=t;this.cache=new xn}static{o(this,"ExceptionRateLimiter")}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};d();var jf=class e{constructor(t){this.flags=t}static{o(this,"RuntimeMode")}static fromEnvironment(t,r=process.argv,n=process.env){return new e({debug:_5e(r,n),verboseLogging:lZe(r,n),testMode:t,simulation:aZe(n)})}};function Tm(e){return e.get(jf).flags.testMode}o(Tm,"isRunningInTest");function lv(e){return Tm(e)}o(lv,"shouldFailForDebugPurposes");function dT(e){return e.get(jf).flags.debug}o(dT,"isDebugEnabled");function S5e(e){return e.get(jf).flags.verboseLogging}o(S5e,"isVerboseLoggingEnabled");function _5e(e,t){return e.includes("--debug")||HK(t,"DEBUG")}o(_5e,"determineDebugFlag");function aZe(e){return HK(e,"SIMULATION")}o(aZe,"determineSimulationFlag");function qP(e){return e.get(jf).flags.simulation}o(qP,"isRunningInSimulation");function lZe(e,t){return t.COPILOT_AGENT_VERBOSE==="1"||t.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||HK(t,"VERBOSE")||_5e(e,t)}o(lZe,"determineVerboseLoggingEnabled");function HK(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}o(HK,"determineEnvFlagEnabled");d();d();d();var R5e=require("os"),GP=require("path");d();var k5e;(()=>{"use strict";var e={975:G=>{function U(H){if(typeof H!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(H))}o(U,"e");function ie(H,M){for(var j,Z="",ae=0,ne=-1,le=0,fe=0;fe<=H.length;++fe){if(fe<H.length)j=H.charCodeAt(fe);else{if(j===47)break;j=47}if(j===47){if(!(ne===fe-1||le===1))if(ne!==fe-1&&le===2){if(Z.length<2||ae!==2||Z.charCodeAt(Z.length-1)!==46||Z.charCodeAt(Z.length-2)!==46){if(Z.length>2){var Re=Z.lastIndexOf("/");if(Re!==Z.length-1){Re===-1?(Z="",ae=0):ae=(Z=Z.slice(0,Re)).length-1-Z.lastIndexOf("/"),ne=fe,le=0;continue}}else if(Z.length===2||Z.length===1){Z="",ae=0,ne=fe,le=0;continue}}M&&(Z.length>0?Z+="/..":Z="..",ae=2)}else Z.length>0?Z+="/"+H.slice(ne+1,fe):Z=H.slice(ne+1,fe),ae=fe-ne-1;ne=fe,le=0}else j===46&&le!==-1?++le:le=-1}return Z}o(ie,"r");var z={resolve:o(function(){for(var H,M="",j=!1,Z=arguments.length-1;Z>=-1&&!j;Z--){var ae;Z>=0?ae=arguments[Z]:(H===void 0&&(H=process.cwd()),ae=H),U(ae),ae.length!==0&&(M=ae+"/"+M,j=ae.charCodeAt(0)===47)}return M=ie(M,!j),j?M.length>0?"/"+M:"/":M.length>0?M:"."},"resolve"),normalize:o(function(H){if(U(H),H.length===0)return".";var M=H.charCodeAt(0)===47,j=H.charCodeAt(H.length-1)===47;return(H=ie(H,!M)).length!==0||M||(H="."),H.length>0&&j&&(H+="/"),M?"/"+H:H},"normalize"),isAbsolute:o(function(H){return U(H),H.length>0&&H.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var H,M=0;M<arguments.length;++M){var j=arguments[M];U(j),j.length>0&&(H===void 0?H=j:H+="/"+j)}return H===void 0?".":z.normalize(H)},"join"),relative:o(function(H,M){if(U(H),U(M),H===M||(H=z.resolve(H))===(M=z.resolve(M)))return"";for(var j=1;j<H.length&&H.charCodeAt(j)===47;++j);for(var Z=H.length,ae=Z-j,ne=1;ne<M.length&&M.charCodeAt(ne)===47;++ne);for(var le=M.length-ne,fe=ae<le?ae:le,Re=-1,Ee=0;Ee<=fe;++Ee){if(Ee===fe){if(le>fe){if(M.charCodeAt(ne+Ee)===47)return M.slice(ne+Ee+1);if(Ee===0)return M.slice(ne+Ee)}else ae>fe&&(H.charCodeAt(j+Ee)===47?Re=Ee:Ee===0&&(Re=0));break}var Oe=H.charCodeAt(j+Ee);if(Oe!==M.charCodeAt(ne+Ee))break;Oe===47&&(Re=Ee)}var Be="";for(Ee=j+Re+1;Ee<=Z;++Ee)Ee!==Z&&H.charCodeAt(Ee)!==47||(Be.length===0?Be+="..":Be+="/..");return Be.length>0?Be+M.slice(ne+Re):(ne+=Re,M.charCodeAt(ne)===47&&++ne,M.slice(ne))},"relative"),_makeLong:o(function(H){return H},"_makeLong"),dirname:o(function(H){if(U(H),H.length===0)return".";for(var M=H.charCodeAt(0),j=M===47,Z=-1,ae=!0,ne=H.length-1;ne>=1;--ne)if((M=H.charCodeAt(ne))===47){if(!ae){Z=ne;break}}else ae=!1;return Z===-1?j?"/":".":j&&Z===1?"//":H.slice(0,Z)},"dirname"),basename:o(function(H,M){if(M!==void 0&&typeof M!="string")throw new TypeError('"ext" argument must be a string');U(H);var j,Z=0,ae=-1,ne=!0;if(M!==void 0&&M.length>0&&M.length<=H.length){if(M.length===H.length&&M===H)return"";var le=M.length-1,fe=-1;for(j=H.length-1;j>=0;--j){var Re=H.charCodeAt(j);if(Re===47){if(!ne){Z=j+1;break}}else fe===-1&&(ne=!1,fe=j+1),le>=0&&(Re===M.charCodeAt(le)?--le==-1&&(ae=j):(le=-1,ae=fe))}return Z===ae?ae=fe:ae===-1&&(ae=H.length),H.slice(Z,ae)}for(j=H.length-1;j>=0;--j)if(H.charCodeAt(j)===47){if(!ne){Z=j+1;break}}else ae===-1&&(ne=!1,ae=j+1);return ae===-1?"":H.slice(Z,ae)},"basename"),extname:o(function(H){U(H);for(var M=-1,j=0,Z=-1,ae=!0,ne=0,le=H.length-1;le>=0;--le){var fe=H.charCodeAt(le);if(fe!==47)Z===-1&&(ae=!1,Z=le+1),fe===46?M===-1?M=le:ne!==1&&(ne=1):M!==-1&&(ne=-1);else if(!ae){j=le+1;break}}return M===-1||Z===-1||ne===0||ne===1&&M===Z-1&&M===j+1?"":H.slice(M,Z)},"extname"),format:o(function(H){if(H===null||typeof H!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof H);return function(M,j){var Z=j.dir||j.root,ae=j.base||(j.name||"")+(j.ext||"");return Z?Z===j.root?Z+ae:Z+"/"+ae:ae}(0,H)},"format"),parse:o(function(H){U(H);var M={root:"",dir:"",base:"",ext:"",name:""};if(H.length===0)return M;var j,Z=H.charCodeAt(0),ae=Z===47;ae?(M.root="/",j=1):j=0;for(var ne=-1,le=0,fe=-1,Re=!0,Ee=H.length-1,Oe=0;Ee>=j;--Ee)if((Z=H.charCodeAt(Ee))!==47)fe===-1&&(Re=!1,fe=Ee+1),Z===46?ne===-1?ne=Ee:Oe!==1&&(Oe=1):ne!==-1&&(Oe=-1);else if(!Re){le=Ee+1;break}return ne===-1||fe===-1||Oe===0||Oe===1&&ne===fe-1&&ne===le+1?fe!==-1&&(M.base=M.name=le===0&&ae?H.slice(1,fe):H.slice(le,fe)):(le===0&&ae?(M.name=H.slice(1,ne),M.base=H.slice(1,fe)):(M.name=H.slice(le,ne),M.base=H.slice(le,fe)),M.ext=H.slice(ne,fe)),le>0?M.dir=H.slice(0,le-1):ae&&(M.dir="/"),M},"parse"),sep:"/",delimiter:":",win32:null,posix:null};z.posix=z,G.exports=z}},t={};function r(G){var U=t[G];if(U!==void 0)return U.exports;var ie=t[G]={exports:{}};return e[G](ie,ie.exports,r),ie.exports}o(r,"r"),r.d=(G,U)=>{for(var ie in U)r.o(U,ie)&&!r.o(G,ie)&&Object.defineProperty(G,ie,{enumerable:!0,get:U[ie]})},r.o=(G,U)=>Object.prototype.hasOwnProperty.call(G,U),r.r=G=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:o(()=>h,"URI"),Utils:o(()=>X,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function c(G,U){if(!G.scheme&&U)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${G.authority}", path: "${G.path}", query: "${G.query}", fragment: "${G.fragment}"}`);if(G.scheme&&!s.test(G.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(G.path){if(G.authority){if(!a.test(G.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(G.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(c,"a");let u="",f="/",m=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class h{static{o(this,"l")}static isUri(U){return U instanceof h||!!U&&typeof U.authority=="string"&&typeof U.fragment=="string"&&typeof U.path=="string"&&typeof U.query=="string"&&typeof U.scheme=="string"&&typeof U.fsPath=="string"&&typeof U.with=="function"&&typeof U.toString=="function"}scheme;authority;path;query;fragment;constructor(U,ie,z,H,M,j=!1){typeof U=="object"?(this.scheme=U.scheme||u,this.authority=U.authority||u,this.path=U.path||u,this.query=U.query||u,this.fragment=U.fragment||u):(this.scheme=function(Z,ae){return Z||ae?Z:"file"}(U,j),this.authority=ie||u,this.path=function(Z,ae){switch(Z){case"https":case"http":case"file":ae?ae[0]!==f&&(ae=f+ae):ae=f}return ae}(this.scheme,z||u),this.query=H||u,this.fragment=M||u,c(this,j))}get fsPath(){return b(this,!1)}with(U){if(!U)return this;let{scheme:ie,authority:z,path:H,query:M,fragment:j}=U;return ie===void 0?ie=this.scheme:ie===null&&(ie=u),z===void 0?z=this.authority:z===null&&(z=u),H===void 0?H=this.path:H===null&&(H=u),M===void 0?M=this.query:M===null&&(M=u),j===void 0?j=this.fragment:j===null&&(j=u),ie===this.scheme&&z===this.authority&&H===this.path&&M===this.query&&j===this.fragment?this:new A(ie,z,H,M,j)}static parse(U,ie=!1){let z=m.exec(U);return z?new A(z[2]||u,F(z[4]||u),F(z[5]||u),F(z[7]||u),F(z[9]||u),ie):new A(u,u,u,u,u)}static file(U){let ie=u;if(i&&(U=U.replace(/\\/g,f)),U[0]===f&&U[1]===f){let z=U.indexOf(f,2);z===-1?(ie=U.substring(2),U=f):(ie=U.substring(2,z),U=U.substring(z)||f)}return new A("file",ie,U,u,u)}static from(U){let ie=new A(U.scheme,U.authority,U.path,U.query,U.fragment);return c(ie,!0),ie}toString(U=!1){return S(this,U)}toJSON(){return this}static revive(U){if(U){if(U instanceof h)return U;{let ie=new A(U);return ie._formatted=U.external,ie._fsPath=U._sep===p?U.fsPath:null,ie}}return U}}let p=i?1:void 0;class A extends h{static{o(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath}toString(U=!1){return U?S(this,!0):(this._formatted||(this._formatted=S(this,!1)),this._formatted)}toJSON(){let U={$mid:1};return this._fsPath&&(U.fsPath=this._fsPath,U._sep=p),this._formatted&&(U.external=this._formatted),this.path&&(U.path=this.path),this.scheme&&(U.scheme=this.scheme),this.authority&&(U.authority=this.authority),this.query&&(U.query=this.query),this.fragment&&(U.fragment=this.fragment),U}}let x={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function E(G,U,ie){let z,H=-1;for(let M=0;M<G.length;M++){let j=G.charCodeAt(M);if(j>=97&&j<=122||j>=65&&j<=90||j>=48&&j<=57||j===45||j===46||j===95||j===126||U&&j===47||ie&&j===91||ie&&j===93||ie&&j===58)H!==-1&&(z+=encodeURIComponent(G.substring(H,M)),H=-1),z!==void 0&&(z+=G.charAt(M));else{z===void 0&&(z=G.substr(0,M));let Z=x[j];Z!==void 0?(H!==-1&&(z+=encodeURIComponent(G.substring(H,M)),H=-1),z+=Z):H===-1&&(H=M)}}return H!==-1&&(z+=encodeURIComponent(G.substring(H))),z!==void 0?z:G}o(E,"m");function v(G){let U;for(let ie=0;ie<G.length;ie++){let z=G.charCodeAt(ie);z===35||z===63?(U===void 0&&(U=G.substr(0,ie)),U+=x[z]):U!==void 0&&(U+=G[ie])}return U!==void 0?U:G}o(v,"y");function b(G,U){let ie;return ie=G.authority&&G.path.length>1&&G.scheme==="file"?`//${G.authority}${G.path}`:G.path.charCodeAt(0)===47&&(G.path.charCodeAt(1)>=65&&G.path.charCodeAt(1)<=90||G.path.charCodeAt(1)>=97&&G.path.charCodeAt(1)<=122)&&G.path.charCodeAt(2)===58?U?G.path.substr(1):G.path[1].toLowerCase()+G.path.substr(2):G.path,i&&(ie=ie.replace(/\//g,"\\")),ie}o(b,"v");function S(G,U){let ie=U?v:E,z="",{scheme:H,authority:M,path:j,query:Z,fragment:ae}=G;if(H&&(z+=H,z+=":"),(M||H==="file")&&(z+=f,z+=f),M){let ne=M.indexOf("@");if(ne!==-1){let le=M.substr(0,ne);M=M.substr(ne+1),ne=le.lastIndexOf(":"),ne===-1?z+=ie(le,!1,!1):(z+=ie(le.substr(0,ne),!1,!1),z+=":",z+=ie(le.substr(ne+1),!1,!0)),z+="@"}M=M.toLowerCase(),ne=M.lastIndexOf(":"),ne===-1?z+=ie(M,!1,!0):(z+=ie(M.substr(0,ne),!1,!0),z+=M.substr(ne))}if(j){if(j.length>=3&&j.charCodeAt(0)===47&&j.charCodeAt(2)===58){let ne=j.charCodeAt(1);ne>=65&&ne<=90&&(j=`/${String.fromCharCode(ne+32)}:${j.substr(3)}`)}else if(j.length>=2&&j.charCodeAt(1)===58){let ne=j.charCodeAt(0);ne>=65&&ne<=90&&(j=`${String.fromCharCode(ne+32)}:${j.substr(2)}`)}z+=ie(j,!0,!1)}return Z&&(z+="?",z+=ie(Z,!1,!1)),ae&&(z+="#",z+=U?ae:E(ae,!1,!1)),z}o(S,"b");function B(G){try{return decodeURIComponent(G)}catch{return G.length>3?G.substr(0,3)+B(G.substr(3)):G}}o(B,"C");let D=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function F(G){return G.match(D)?G.replace(D,U=>B(U)):G}o(F,"w");var W=r(975);let ee=W.posix||W,de="/";var X;(function(G){G.joinPath=function(U,...ie){return U.with({path:ee.join(U.path,...ie)})},G.resolvePath=function(U,...ie){let z=U.path,H=!1;z[0]!==de&&(z=de+z,H=!0);let M=ee.resolve(z,...ie);return H&&M[0]===de&&!U.authority&&(M=M.substring(1)),U.with({path:M})},G.dirname=function(U){if(U.path.length===0||U.path===de)return U;let ie=ee.dirname(U.path);return ie.length===1&&ie.charCodeAt(0)===46&&(ie=""),U.with({path:ie})},G.basename=function(U){return ee.basename(U.path)},G.extname=function(U){return ee.extname(U.path)}})(X||(X={})),k5e=n})();var{URI:p5,Utils:WP}=k5e;function D5e(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+D5e(e.substring(3)):e}}o(D5e,"decodeURIComponentGraceful");var B5e=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function VK(e){return e.match(B5e)?e.replace(B5e,t=>D5e(t)):e}o(VK,"percentDecode");function q0(e){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(e))throw new Error("Path must not contain a scheme");if(!e)throw new Error("Path must not be empty");return p5.file(e).toString()}o(q0,"makeFsUri");function cv(e){if(typeof e!="string"&&(e=e.uri),/^[A-Za-z]:\\/.test(e))throw new Error(`Could not parse <${e}>: Windows-style path`);try{let t=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return t?p5.parse(t[1]+t[2],!0):p5.parse(e,!0)}catch(t){throw new Error(`Could not parse <${e}>`,{cause:t})}}o(cv,"parseUri");function P5e(e){return cv(e),e}o(P5e,"validateUri");function W0(e){try{return cv(e).toString()}catch{return e}}o(W0,"normalizeUri");var F5e=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function mT(e){let t=cv(e);if(!F5e.has(t.scheme))throw new Error(`Unsupported scheme: ${t.scheme}`);if((0,R5e.platform)()==="win32"){let r=t.path;return t.authority?r=`//${t.authority}${t.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,GP.normalize)(r)}else{if(t.authority)throw new Error("Unsupported remote file path");return t.path}}o(mT,"fsPath");function ys(e){try{return mT(e)}catch{return}}o(ys,"getFsPath");function N5e(e){let t=ys(e);if(t)return p5.file(t).toString()}o(N5e,"getFsUri");function Q3(e,...t){let r,n=ys(e);return n?r=q0((0,GP.resolve)(n,...t)):r=WP.resolvePath(cv(e),...t.map(i=>L5e(i))).toString(),typeof e=="string"?r:{uri:r}}o(Q3,"resolveFilePath");function Xo(e,...t){let r=WP.joinPath(cv(e),...t.map(L5e)).toString();return typeof e=="string"?r:{uri:r}}o(Xo,"joinPath");function L5e(e){return cZe(e)?e.replaceAll("\\","/"):e}o(L5e,"pathToURIPath");function cZe(e){return/^[^/\\]*\\/.test(e)}o(cZe,"isWinPath");function Fs(e){return VK((typeof e=="string"?e:e.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}o(Fs,"basename");function _u(e){let t=WP.dirname(cv(e)),r;return F5e.has(t.scheme)&&t.scheme!=="file"?r=t.with({scheme:"file",fragment:""}).toString():r=t.toString(),typeof e=="string"?r:{uri:r}}o(_u,"dirname");var Dn=class{static{o(this,"NetworkConfiguration")}},HP={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function jK(e,t,r){if(r&&Tm(e)){for(let n of r){let i=qn(e,n);if(i)return i}return}for(let n of t){let i=qn(e,n);if(i)return i}}o(jK,"urlConfigOverride");function uZe(e,t){switch(t){case"api":return jK(e,[Pt.DebugOverrideCapiUrl,Pt.DebugOverrideCapiUrlLegacy],[Pt.DebugTestOverrideCapiUrl,Pt.DebugTestOverrideCapiUrlLegacy]);case"proxy":return jK(e,[Pt.DebugOverrideProxyUrl,Pt.DebugOverrideProxyUrlLegacy],[Pt.DebugTestOverrideProxyUrl,Pt.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!VP(e))return jK(e,[Pt.DebugSnippyOverrideUrl])}}o(uZe,"getEndpointOverrideUrl");function uv(e,t,r,...n){let i=uZe(e,r)??(t.envelope.endpoints??HP)[r];return Xo(i,...n)}o(uv,"getEndpointUrl");d();d();d();var M3=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(M3||{}),ka=class{static{o(this,"LogTarget")}},up=class{static{o(this,"TelemetryLogSender")}},Cr=class{constructor(t){this.category=t}static{o(this,"Logger")}log(t,r,...n){t.get(ka).logIt(t,r,this.category,...n)}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){t.get(up).sendError(t,this.category,...r),this.errorWithoutTelemetry(t,...r)}errorWithoutTelemetry(t,...r){this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.category}${n}`),t.get(up).sendException(t,r,n);let s=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(t,1,`${i}:`,s)}},ni=new Cr("default");var q5e=tt(M5e()),W5e=tt(U5e()),ku=tt(require("os"));var fv=class{constructor(t,r,n,i=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=i;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:o((t,r)=>{if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=t.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(Nr).fetch(t.urlString,i).then(s=>s.text().then(a=>{r(s.status,Object.fromEntries(s.headers),a)})).catch(s=>{ni.errorWithoutTelemetry(this.ctx,"Error sending telemetry",s),r(0,{})})},"sendPOST")};this.client=new W5e.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(Dn).getTelemetryUrl(),extensionConfig:{[q5e.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=fZe(t),this.commonProperties=dZe(t),this.#e=Ya(t,this.onCopilotToken)}static{o(this,"AppInsightsReporter")}#e;sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};function fZe(e){let t={},r=e.get(hs);t["ai.session.id"]=r.sessionId;let n=e.get(ql);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${ku.type()} ${ku.release()}`,t["ai.device.osArchitecture"]=ku.arch(),t["ai.device.osPlatform"]=ku.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(uo).getVersion(),t}o(fZe,"getTags");function dZe(e){let t={};t.common_os=ku.platform(),t.common_platformversion=ku.release(),t.common_arch=ku.arch(),t.common_cpu=Array.from(new Set(ku.cpus().map(n=>n.model))).join();let r=e.get(hs);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}o(dZe,"getCommonProperties");var G5e="7d7048df-6dd0-4048-bb23-b716c1461f8f",H5e="3fdd7f28-937a-48c8-9a21-ba337db23bd1",mZe="f0000000-0000-0000-0000-000000000000",Bu=class{constructor(){this._initialized=!1}static{o(this,"TelemetryInitialization")}get isInitialized(){return this._initialized}get isEnabled(){return this._enabled??!1}async initialize(t,r,n){let i=t.get(Cs).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let s=t.get(Cs);s.setReporter(new fv(t,r,G5e)),s.setRestrictedReporter(new fv(t,r,H5e)),s.setFTReporter(new fv(t,r,mZe,!0))}await i}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};function g5(e,t,r){return e.get(Bu).initialize(e,t,r)}o(g5,"setupTelemetryReporters");d();var zP=tt(require("assert"));var m1=class{constructor(){this.events=[];this.errors=[]}static{o(this,"TelemetrySpy")}sendTelemetryEvent(t,r={},n={}){this.events.push({name:t,properties:r,measurements:n})}sendTelemetryErrorEvent(t,r={},n={},i){this.errors.push({name:t,properties:r,measurements:n,errorProps:i})}sendTelemetryException(t,r={},n={}){this.events.push({name:"error.exception",properties:{message:t.message,...r},measurements:n})}dispose(){return Promise.resolve()}get hasEvent(){return this.events.length>0}get hasError(){return this.errors.length>0}get exceptions(){return this.events.filter(t=>t.name==="error.exception")}get hasException(){return this.exceptions.length>0}get firstEvent(){return this.events[0]}get firstError(){return this.errors[0]}get firstException(){return this.exceptions[0]}eventsMatching(t){return this.events.filter(t)}eventByName(t){let r=this.events.filter(n=>n.name===t);return zP.strictEqual(r.length,1,`Expected exactly one event with name ${t}`),r[0]}errorsMatching(t){return this.errors.filter(t)}exceptionsMatching(t){return this.exceptions.filter(t)}assertHasProperty(t){zP.ok(this.eventsMatching(r=>r.name!=="ghostText.produced").every(r=>t(r.properties)))}};d();var Co=class{constructor(){this.promises=new Set}static{o(this,"PromiseQueue")}register(t){this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};var dv=class extends Co{static{o(this,"TestPromiseQueue")}async awaitPromises(){await Promise.all(this.promises)}};var hT=class{static{o(this,"FailingTelemetryReporter")}sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};d();var $5e=require("os"),z5e=tt(require("path"));function pT(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(pT,"redactPaths");var hZe=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),pZe=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function zK(e){if(hZe.has(e))return e;for(let t of pZe)if(t.test(e))return e;return pT(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(zK,"redactMessage");function YP(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(YP,"escapeForRegExp");var gZe=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+YP((0,$5e.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function $K(e){return e.replace(gZe,"~")}o($K,"redactHomeDir");var Y5e="[\\\\/]?([^:)]*)(?=:\\d)",V5e=new RegExp(YP(z5e.sep),"g"),j5e=new RegExp(YP(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+Y5e,"gi");function YK(e,t,r=!1,n=[]){let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let s=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let l of[e.toString(),`${e.name}: ${e.message}`])if(s?.startsWith(l+`
`)){a=s.slice(l.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let l of a)if(j5e.test(l))i.stack+=`
${pT(l.replace(j5e,(c,u)=>"./"+u.replace(V5e,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))i.stack+=`
${pT(l)}`;else{let c=!1;for(let{prefix:u,path:f}of n){let m=new RegExp(YP(f.replace(/[\\/]$/,""))+Y5e,"gi");if(m.test(l)){i.stack+=`
${pT(l.replace(m,(h,p)=>u+p.replace(V5e,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${$K(l)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&s&&(i.stack=$K(s));return e.cause instanceof Error&&(i.cause=YK(e.cause,t,r,n)),i}o(YK,"cloneError");function K5e(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(K5e,"errorMessageWithoutPath");function J5e(e,t){return YK(e,o(function(n){return $K(K5e(n))},"prepareMessage"),!0,t)}o(J5e,"prepareErrorForRestrictedTelemetry");function KK(e,t,r=!1){return YK(e,o(function(i){if(r)return zK(K5e(i));let s="[redacted]";return typeof i.code=="string"&&(s=i.code+" "+s),typeof i.syscall=="string"?s=pT(i.syscall)+" "+s:i instanceof N7&&i.erroredSysCall&&(s=i.erroredSysCall+" "+s),s},"prepareMessage"),!1,t)}o(KK,"redactError");d();d();function AZe(e){switch(e.errorType){case nt.ArrayContains:return"Expected array to contain at least one matching value";case nt.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case nt.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case nt.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case nt.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case nt.ArrayUniqueItems:return"Expected array elements to be unique";case nt.Array:return"Expected array";case nt.AsyncIterator:return"Expected AsyncIterator";case nt.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case nt.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case nt.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case nt.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case nt.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case nt.BigInt:return"Expected bigint";case nt.Boolean:return"Expected boolean";case nt.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case nt.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case nt.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case nt.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case nt.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case nt.Date:return"Expected Date";case nt.Function:return"Expected function";case nt.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case nt.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case nt.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case nt.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case nt.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case nt.Integer:return"Expected integer";case nt.IntersectUnevaluatedProperties:return"Unexpected property";case nt.Intersect:return"Expected all values to match";case nt.Iterator:return"Expected Iterator";case nt.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case nt.Never:return"Never";case nt.Not:return"Value should not match";case nt.Null:return"Expected null";case nt.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case nt.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case nt.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case nt.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case nt.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case nt.Number:return"Expected number";case nt.Object:return"Expected object";case nt.ObjectAdditionalProperties:return"Unexpected property";case nt.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case nt.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case nt.ObjectRequiredProperty:return"Expected required property";case nt.Promise:return"Expected Promise";case nt.RegExp:return"Expected string to match regular expression";case nt.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case nt.StringFormat:return`Expected string to match '${e.schema.format}' format`;case nt.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case nt.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case nt.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case nt.String:return"Expected string";case nt.Symbol:return"Expected symbol";case nt.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case nt.Tuple:return"Expected tuple";case nt.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case nt.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case nt.Uint8Array:return"Expected Uint8Array";case nt.Undefined:return"Expected undefined";case nt.Union:return"Expected union value";case nt.Void:return"Expected void";case nt.Kind:return`Expected kind '${e.schema[ot]}'`;default:return"Unknown error type"}}o(AZe,"DefaultErrorFunction");var yZe=AZe;function X5e(){return yZe}o(X5e,"GetErrorFunction");d();var JK=class extends fn{static{o(this,"TypeDereferenceError")}constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`),this.schema=t}};function CZe(e,t){let r=t.find(n=>n.$id===e.$ref);if(r===void 0)throw new JK(e);return Qi(r,t)}o(CZe,"Resolve");function fl(e,t){return!ki(e.$id)||t.some(r=>r.$id===e.$id)||t.push(e),t}o(fl,"Pushref");function Qi(e,t){return e[ot]==="This"||e[ot]==="Ref"?CZe(e,t):e}o(Qi,"Deref");d();var XK=class extends fn{static{o(this,"ValueHashError")}constructor(t){super("Unable to hash value"),this.value=t}},Ru;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(Ru||(Ru={}));var mv=BigInt("14695981039346656037"),[xZe,EZe]=[BigInt("1099511628211"),BigInt("18446744073709551616")],bZe=Array.from({length:256}).map((e,t)=>BigInt(t)),Z5e=new Float64Array(1),eye=new DataView(Z5e.buffer),tye=new Uint8Array(Z5e.buffer);function*vZe(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(vZe,"NumberToBytes");function IZe(e){C0(Ru.Array);for(let t of e)hv(t)}o(IZe,"ArrayType");function TZe(e){C0(Ru.Boolean),C0(e?1:0)}o(TZe,"BooleanType");function wZe(e){C0(Ru.BigInt),eye.setBigInt64(0,e);for(let t of tye)C0(t)}o(wZe,"BigIntType");function SZe(e){C0(Ru.Date),hv(e.getTime())}o(SZe,"DateType");function _Ze(e){C0(Ru.Null)}o(_Ze,"NullType");function kZe(e){C0(Ru.Number),eye.setFloat64(0,e);for(let t of tye)C0(t)}o(kZe,"NumberType");function BZe(e){C0(Ru.Object);for(let t of globalThis.Object.getOwnPropertyNames(e).sort())hv(t),hv(e[t])}o(BZe,"ObjectType");function RZe(e){C0(Ru.String);for(let t=0;t<e.length;t++)for(let r of vZe(e.charCodeAt(t)))C0(r)}o(RZe,"StringType");function DZe(e){C0(Ru.Symbol),hv(e.description)}o(DZe,"SymbolType");function PZe(e){C0(Ru.Uint8Array);for(let t=0;t<e.length;t++)C0(e[t])}o(PZe,"Uint8ArrayType");function FZe(e){return C0(Ru.Undefined)}o(FZe,"UndefinedType");function hv(e){if(un(e))return IZe(e);if(Zh(e))return TZe(e);if(Ml(e))return wZe(e);if(M0(e))return SZe(e);if(r1(e))return _Ze(e);if(Hr(e))return kZe(e);if(Zn(e))return BZe(e);if(ki(e))return RZe(e);if(n1(e))return DZe(e);if(vb(e))return PZe(e);if(zo(e))return FZe(e);throw new XK(e)}o(hv,"Visit");function C0(e){mv=mv^bZe[e],mv=mv*xZe%EZe}o(C0,"FNV1A64");function A5(e){return mv=BigInt("14695981039346656037"),hv(e),mv}o(A5,"Hash");d();var ZK=class extends fn{static{o(this,"ValueCheckUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function NZe(e){return e[ot]==="Any"||e[ot]==="Unknown"}o(NZe,"IsAnyOrUnknown");function hi(e){return e!==void 0}o(hi,"IsDefined");function LZe(e,t,r){return!0}o(LZe,"FromAny");function QZe(e,t,r){return!0}o(QZe,"FromArgument");function MZe(e,t,r){if(!un(r)||hi(e.minItems)&&!(r.length>=e.minItems)||hi(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(s=>dl(e.items,t,s))||e.uniqueItems===!0&&!function(){let s=new Set;for(let a of r){let l=A5(a);if(s.has(l))return!1;s.add(l)}return!0}())return!1;if(!(hi(e.contains)||Hr(e.minContains)||Hr(e.maxContains)))return!0;let n=hi(e.contains)?e.contains:Vn(),i=r.reduce((s,a)=>dl(n,t,a)?s+1:s,0);return!(i===0||Hr(e.minContains)&&i<e.minContains||Hr(e.maxContains)&&i>e.maxContains)}o(MZe,"FromArray");function OZe(e,t,r){return bD(r)}o(OZe,"FromAsyncIterator");function UZe(e,t,r){return!(!Ml(r)||hi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||hi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||hi(e.maximum)&&!(r<=e.maximum)||hi(e.minimum)&&!(r>=e.minimum)||hi(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(UZe,"FromBigInt");function qZe(e,t,r){return Zh(r)}o(qZe,"FromBoolean");function WZe(e,t,r){return dl(e.returns,t,r.prototype)}o(WZe,"FromConstructor");function GZe(e,t,r){return!(!M0(r)||hi(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||hi(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||hi(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||hi(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||hi(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(GZe,"FromDate");function HZe(e,t,r){return J2(r)}o(HZe,"FromFunction");function VZe(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return dl(i,[...t,...n],r)}o(VZe,"FromImport");function jZe(e,t,r){return!(!TD(r)||hi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||hi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||hi(e.maximum)&&!(r<=e.maximum)||hi(e.minimum)&&!(r>=e.minimum)||hi(e.multipleOf)&&r%e.multipleOf!==0)}o(jZe,"FromInteger");function $Ze(e,t,r){let n=e.allOf.every(i=>dl(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(c1(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&s}else if(gs(e.unevaluatedProperties)){let i=new RegExp(c1(e)),s=Object.getOwnPropertyNames(r).every(a=>i.test(a)||dl(e.unevaluatedProperties,t,r[a]));return n&&s}else return n}o($Ze,"FromIntersect");function zZe(e,t,r){return vD(r)}o(zZe,"FromIterator");function YZe(e,t,r){return r===e.const}o(YZe,"FromLiteral");function KZe(e,t,r){return!1}o(KZe,"FromNever");function JZe(e,t,r){return!dl(e.not,t,r)}o(JZe,"FromNot");function XZe(e,t,r){return r1(r)}o(XZe,"FromNull");function ZZe(e,t,r){return!(!Fo.IsNumberLike(r)||hi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||hi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||hi(e.minimum)&&!(r>=e.minimum)||hi(e.maximum)&&!(r<=e.maximum)||hi(e.multipleOf)&&r%e.multipleOf!==0)}o(ZZe,"FromNumber");function eet(e,t,r){if(!Fo.IsObjectLike(r)||hi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||hi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let s=e.properties[i];if(e.required&&e.required.includes(i)){if(!dl(s,t,r[i])||(u1(s)||NZe(s))&&!(i in r))return!1}else if(Fo.IsExactOptionalProperty(r,i)&&!dl(s,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(s=>n.includes(s))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(s=>n.includes(s)||dl(e.additionalProperties,t,r[s])):!0}o(eet,"FromObject");function tet(e,t,r){return ID(r)}o(tet,"FromPromise");function ret(e,t,r){if(!Fo.IsRecordLike(r)||hi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||hi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],s=new RegExp(n),a=Object.entries(r).every(([u,f])=>s.test(u)?dl(i,t,f):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,f])=>s.test(u)?!0:dl(e.additionalProperties,t,f)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>s.test(u)):!0;return a&&l&&c}o(ret,"FromRecord");function net(e,t,r){return dl(Qi(e,t),t,r)}o(net,"FromRef");function iet(e,t,r){let n=new RegExp(e.source,e.flags);return hi(e.minLength)&&!(r.length>=e.minLength)||hi(e.maxLength)&&!(r.length<=e.maxLength)?!1:n.test(r)}o(iet,"FromRegExp");function oet(e,t,r){return!ki(r)||hi(e.minLength)&&!(r.length>=e.minLength)||hi(e.maxLength)&&!(r.length<=e.maxLength)||hi(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:hi(e.format)?ym.Has(e.format)?ym.Get(e.format)(r):!1:!0}o(oet,"FromString");function set(e,t,r){return n1(r)}o(set,"FromSymbol");function aet(e,t,r){return ki(r)&&new RegExp(e.pattern).test(r)}o(aet,"FromTemplateLiteral");function cet(e,t,r){return dl(Qi(e,t),t,r)}o(cet,"FromThis");function uet(e,t,r){if(!un(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!dl(e.items[n],t,r[n]))return!1;return!0}o(uet,"FromTuple");function fet(e,t,r){return zo(r)}o(fet,"FromUndefined");function det(e,t,r){return e.anyOf.some(n=>dl(n,t,r))}o(det,"FromUnion");function met(e,t,r){return!(!vb(r)||hi(e.maxByteLength)&&!(r.length<=e.maxByteLength)||hi(e.minByteLength)&&!(r.length>=e.minByteLength))}o(met,"FromUint8Array");function het(e,t,r){return!0}o(het,"FromUnknown");function pet(e,t,r){return Fo.IsVoidLike(r)}o(pet,"FromVoid");function get(e,t,r){return O0.Has(e[ot])?O0.Get(e[ot])(e,r):!1}o(get,"FromKind");function dl(e,t,r){let n=hi(e.$id)?fl(e,t):t,i=e;switch(i[ot]){case"Any":return LZe(i,n,r);case"Argument":return QZe(i,n,r);case"Array":return MZe(i,n,r);case"AsyncIterator":return OZe(i,n,r);case"BigInt":return UZe(i,n,r);case"Boolean":return qZe(i,n,r);case"Constructor":return WZe(i,n,r);case"Date":return GZe(i,n,r);case"Function":return HZe(i,n,r);case"Import":return VZe(i,n,r);case"Integer":return jZe(i,n,r);case"Intersect":return $Ze(i,n,r);case"Iterator":return zZe(i,n,r);case"Literal":return YZe(i,n,r);case"Never":return KZe(i,n,r);case"Not":return JZe(i,n,r);case"Null":return XZe(i,n,r);case"Number":return ZZe(i,n,r);case"Object":return eet(i,n,r);case"Promise":return tet(i,n,r);case"Record":return ret(i,n,r);case"Ref":return net(i,n,r);case"RegExp":return iet(i,n,r);case"String":return oet(i,n,r);case"Symbol":return set(i,n,r);case"TemplateLiteral":return aet(i,n,r);case"This":return cet(i,n,r);case"Tuple":return uet(i,n,r);case"Undefined":return fet(i,n,r);case"Union":return det(i,n,r);case"Uint8Array":return met(i,n,r);case"Unknown":return het(i,n,r);case"Void":return pet(i,n,r);default:if(!O0.Has(i[ot]))throw new ZK(i);return get(i,n,r)}}o(dl,"Visit");function ii(...e){return e.length===3?dl(e[0],e[1],e[2]):dl(e[0],[],e[1])}o(ii,"Check");var nt;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(nt||(nt={}));var eJ=class extends fn{static{o(this,"ValueErrorsUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function h1(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(h1,"EscapeKey");function pi(e){return e!==void 0}o(pi,"IsDefined");var y5=class{static{o(this,"ValueErrorIterator")}constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};function gr(e,t,r,n,i=[]){return{type:e,schema:t,path:r,value:n,message:X5e()({errorType:e,path:r,schema:t,value:n,errors:i}),errors:i}}o(gr,"Create");function*Aet(e,t,r,n){}o(Aet,"FromAny");function*yet(e,t,r,n){}o(yet,"FromArgument");function*Cet(e,t,r,n){if(!un(n))return yield gr(nt.Array,e,r,n);pi(e.minItems)&&!(n.length>=e.minItems)&&(yield gr(nt.ArrayMinItems,e,r,n)),pi(e.maxItems)&&!(n.length<=e.maxItems)&&(yield gr(nt.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*ml(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let c=A5(l);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield gr(nt.ArrayUniqueItems,e,r,n)),!(pi(e.contains)||pi(e.minContains)||pi(e.maxContains)))return;let i=pi(e.contains)?e.contains:Vn(),s=n.reduce((a,l,c)=>ml(i,t,`${r}${c}`,l).next().done===!0?a+1:a,0);s===0&&(yield gr(nt.ArrayContains,e,r,n)),Hr(e.minContains)&&s<e.minContains&&(yield gr(nt.ArrayMinContains,e,r,n)),Hr(e.maxContains)&&s>e.maxContains&&(yield gr(nt.ArrayMaxContains,e,r,n))}o(Cet,"FromArray");function*xet(e,t,r,n){bD(n)||(yield gr(nt.AsyncIterator,e,r,n))}o(xet,"FromAsyncIterator");function*Eet(e,t,r,n){if(!Ml(n))return yield gr(nt.BigInt,e,r,n);pi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(nt.BigIntExclusiveMaximum,e,r,n)),pi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(nt.BigIntExclusiveMinimum,e,r,n)),pi(e.maximum)&&!(n<=e.maximum)&&(yield gr(nt.BigIntMaximum,e,r,n)),pi(e.minimum)&&!(n>=e.minimum)&&(yield gr(nt.BigIntMinimum,e,r,n)),pi(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield gr(nt.BigIntMultipleOf,e,r,n))}o(Eet,"FromBigInt");function*bet(e,t,r,n){Zh(n)||(yield gr(nt.Boolean,e,r,n))}o(bet,"FromBoolean");function*vet(e,t,r,n){yield*ml(e.returns,t,r,n.prototype)}o(vet,"FromConstructor");function*Iet(e,t,r,n){if(!M0(n))return yield gr(nt.Date,e,r,n);pi(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield gr(nt.DateExclusiveMaximumTimestamp,e,r,n)),pi(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield gr(nt.DateExclusiveMinimumTimestamp,e,r,n)),pi(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield gr(nt.DateMaximumTimestamp,e,r,n)),pi(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield gr(nt.DateMinimumTimestamp,e,r,n)),pi(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield gr(nt.DateMultipleOfTimestamp,e,r,n))}o(Iet,"FromDate");function*Tet(e,t,r,n){J2(n)||(yield gr(nt.Function,e,r,n))}o(Tet,"FromFunction");function*wet(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref];yield*ml(s,[...t,...i],r,n)}o(wet,"FromImport");function*_et(e,t,r,n){if(!TD(n))return yield gr(nt.Integer,e,r,n);pi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(nt.IntegerExclusiveMaximum,e,r,n)),pi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(nt.IntegerExclusiveMinimum,e,r,n)),pi(e.maximum)&&!(n<=e.maximum)&&(yield gr(nt.IntegerMaximum,e,r,n)),pi(e.minimum)&&!(n>=e.minimum)&&(yield gr(nt.IntegerMinimum,e,r,n)),pi(e.multipleOf)&&n%e.multipleOf!==0&&(yield gr(nt.IntegerMultipleOf,e,r,n))}o(_et,"FromInteger");function*ket(e,t,r,n){let i=!1;for(let s of e.allOf)for(let a of ml(s,t,r,n))i=!0,yield a;if(i)return yield gr(nt.Intersect,e,r,n);if(e.unevaluatedProperties===!1){let s=new RegExp(c1(e));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield gr(nt.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(c1(e));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let l=ml(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}o(ket,"FromIntersect");function*Bet(e,t,r,n){vD(n)||(yield gr(nt.Iterator,e,r,n))}o(Bet,"FromIterator");function*Ret(e,t,r,n){n!==e.const&&(yield gr(nt.Literal,e,r,n))}o(Ret,"FromLiteral");function*Det(e,t,r,n){yield gr(nt.Never,e,r,n)}o(Det,"FromNever");function*Pet(e,t,r,n){ml(e.not,t,r,n).next().done===!0&&(yield gr(nt.Not,e,r,n))}o(Pet,"FromNot");function*Fet(e,t,r,n){r1(n)||(yield gr(nt.Null,e,r,n))}o(Fet,"FromNull");function*Net(e,t,r,n){if(!Fo.IsNumberLike(n))return yield gr(nt.Number,e,r,n);pi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield gr(nt.NumberExclusiveMaximum,e,r,n)),pi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield gr(nt.NumberExclusiveMinimum,e,r,n)),pi(e.maximum)&&!(n<=e.maximum)&&(yield gr(nt.NumberMaximum,e,r,n)),pi(e.minimum)&&!(n>=e.minimum)&&(yield gr(nt.NumberMinimum,e,r,n)),pi(e.multipleOf)&&n%e.multipleOf!==0&&(yield gr(nt.NumberMultipleOf,e,r,n))}o(Net,"FromNumber");function*Let(e,t,r,n){if(!Fo.IsObjectLike(n))return yield gr(nt.Object,e,r,n);pi(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield gr(nt.ObjectMinProperties,e,r,n)),pi(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield gr(nt.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],s=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield gr(nt.ObjectRequiredProperty,e.properties[l],`${r}/${h1(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)s.includes(l)||(yield gr(nt.ObjectAdditionalProperties,e,`${r}/${h1(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)s.includes(l)||(yield*ml(e.additionalProperties,t,`${r}/${h1(l)}`,n[l]));for(let l of s){let c=e.properties[l];e.required&&e.required.includes(l)?(yield*ml(c,t,`${r}/${h1(l)}`,n[l]),u1(e)&&!(l in n)&&(yield gr(nt.ObjectRequiredProperty,c,`${r}/${h1(l)}`,void 0))):Fo.IsExactOptionalProperty(n,l)&&(yield*ml(c,t,`${r}/${h1(l)}`,n[l]))}}o(Let,"FromObject");function*Qet(e,t,r,n){ID(n)||(yield gr(nt.Promise,e,r,n))}o(Qet,"FromPromise");function*Met(e,t,r,n){if(!Fo.IsRecordLike(n))return yield gr(nt.Object,e,r,n);pi(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield gr(nt.ObjectMinProperties,e,r,n)),pi(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield gr(nt.ObjectMaxProperties,e,r,n));let[i,s]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,c]of Object.entries(n))a.test(l)&&(yield*ml(s,t,`${r}/${h1(l)}`,c));if(typeof e.additionalProperties=="object")for(let[l,c]of Object.entries(n))a.test(l)||(yield*ml(e.additionalProperties,t,`${r}/${h1(l)}`,c));if(e.additionalProperties===!1){for(let[l,c]of Object.entries(n))if(!a.test(l))return yield gr(nt.ObjectAdditionalProperties,e,`${r}/${h1(l)}`,c)}}o(Met,"FromRecord");function*Oet(e,t,r,n){yield*ml(Qi(e,t),t,r,n)}o(Oet,"FromRef");function*Uet(e,t,r,n){if(!ki(n))return yield gr(nt.String,e,r,n);if(pi(e.minLength)&&!(n.length>=e.minLength)&&(yield gr(nt.StringMinLength,e,r,n)),pi(e.maxLength)&&!(n.length<=e.maxLength)&&(yield gr(nt.StringMaxLength,e,r,n)),!new RegExp(e.source,e.flags).test(n))return yield gr(nt.RegExp,e,r,n)}o(Uet,"FromRegExp");function*qet(e,t,r,n){if(!ki(n))return yield gr(nt.String,e,r,n);pi(e.minLength)&&!(n.length>=e.minLength)&&(yield gr(nt.StringMinLength,e,r,n)),pi(e.maxLength)&&!(n.length<=e.maxLength)&&(yield gr(nt.StringMaxLength,e,r,n)),ki(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield gr(nt.StringPattern,e,r,n))),ki(e.format)&&(ym.Has(e.format)?ym.Get(e.format)(n)||(yield gr(nt.StringFormat,e,r,n)):yield gr(nt.StringFormatUnknown,e,r,n))}o(qet,"FromString");function*Wet(e,t,r,n){n1(n)||(yield gr(nt.Symbol,e,r,n))}o(Wet,"FromSymbol");function*Get(e,t,r,n){if(!ki(n))return yield gr(nt.String,e,r,n);new RegExp(e.pattern).test(n)||(yield gr(nt.StringPattern,e,r,n))}o(Get,"FromTemplateLiteral");function*Het(e,t,r,n){yield*ml(Qi(e,t),t,r,n)}o(Het,"FromThis");function*Vet(e,t,r,n){if(!un(n))return yield gr(nt.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield gr(nt.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield gr(nt.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*ml(e.items[i],t,`${r}/${i}`,n[i])}o(Vet,"FromTuple");function*jet(e,t,r,n){zo(n)||(yield gr(nt.Undefined,e,r,n))}o(jet,"FromUndefined");function*$et(e,t,r,n){if(ii(e,t,n))return;let i=e.anyOf.map(s=>new y5(ml(s,t,r,n)));yield gr(nt.Union,e,r,n,i)}o($et,"FromUnion");function*zet(e,t,r,n){if(!vb(n))return yield gr(nt.Uint8Array,e,r,n);pi(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield gr(nt.Uint8ArrayMaxByteLength,e,r,n)),pi(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield gr(nt.Uint8ArrayMinByteLength,e,r,n))}o(zet,"FromUint8Array");function*Yet(e,t,r,n){}o(Yet,"FromUnknown");function*Ket(e,t,r,n){Fo.IsVoidLike(n)||(yield gr(nt.Void,e,r,n))}o(Ket,"FromVoid");function*Jet(e,t,r,n){O0.Get(e[ot])(e,n)||(yield gr(nt.Kind,e,r,n))}o(Jet,"FromKind");function*ml(e,t,r,n){let i=pi(e.$id)?[...t,e]:t,s=e;switch(s[ot]){case"Any":return yield*Aet(s,i,r,n);case"Argument":return yield*yet(s,i,r,n);case"Array":return yield*Cet(s,i,r,n);case"AsyncIterator":return yield*xet(s,i,r,n);case"BigInt":return yield*Eet(s,i,r,n);case"Boolean":return yield*bet(s,i,r,n);case"Constructor":return yield*vet(s,i,r,n);case"Date":return yield*Iet(s,i,r,n);case"Function":return yield*Tet(s,i,r,n);case"Import":return yield*wet(s,i,r,n);case"Integer":return yield*_et(s,i,r,n);case"Intersect":return yield*ket(s,i,r,n);case"Iterator":return yield*Bet(s,i,r,n);case"Literal":return yield*Ret(s,i,r,n);case"Never":return yield*Det(s,i,r,n);case"Not":return yield*Pet(s,i,r,n);case"Null":return yield*Fet(s,i,r,n);case"Number":return yield*Net(s,i,r,n);case"Object":return yield*Let(s,i,r,n);case"Promise":return yield*Qet(s,i,r,n);case"Record":return yield*Met(s,i,r,n);case"Ref":return yield*Oet(s,i,r,n);case"RegExp":return yield*Uet(s,i,r,n);case"String":return yield*qet(s,i,r,n);case"Symbol":return yield*Wet(s,i,r,n);case"TemplateLiteral":return yield*Get(s,i,r,n);case"This":return yield*Het(s,i,r,n);case"Tuple":return yield*Vet(s,i,r,n);case"Undefined":return yield*jet(s,i,r,n);case"Union":return yield*$et(s,i,r,n);case"Uint8Array":return yield*zet(s,i,r,n);case"Unknown":return yield*Yet(s,i,r,n);case"Void":return yield*Ket(s,i,r,n);default:if(!O0.Has(s[ot]))throw new eJ(e);return yield*Jet(s,i,r,n)}}o(ml,"Visit");function fp(...e){let t=e.length===3?ml(e[0],e[1],"",e[2]):ml(e[0],[],"",e[1]);return new y5(t)}o(fp,"Errors");d();d();var pv=class extends fn{static{o(this,"TransformDecodeCheckError")}constructor(t,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},tJ=class extends fn{static{o(this,"TransformDecodeError")}constructor(t,r,n,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=t,this.path=r,this.value=n,this.error=i}};function xs(e,t,r){try{return zi(e)?e[ps].Decode(r):r}catch(n){throw new tJ(e,t,r,n)}}o(xs,"Default");function Xet(e,t,r,n){return un(n)?xs(e,r,n.map((i,s)=>wm(e.items,t,`${r}/${s}`,i))):xs(e,r,n)}o(Xet,"FromArray");function Zet(e,t,r,n){if(!Zn(n)||Cu(n))return xs(e,r,n);let i=FD(e),s=i.map(f=>f[0]),a={...n};for(let[f,m]of i)f in a&&(a[f]=wm(m,t,`${r}/${f}`,a[f]));if(!zi(e.unevaluatedProperties))return xs(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.unevaluatedProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=xs(c,`${r}/${f}`,u[f]));return xs(e,r,u)}o(Zet,"FromIntersect");function ett(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=wm(s,[...t,...i],r,n);return xs(e,r,a)}o(ett,"FromImport");function ttt(e,t,r,n){return xs(e,r,wm(e.not,t,r,n))}o(ttt,"FromNot");function rtt(e,t,r,n){if(!Zn(n))return xs(e,r,n);let i=Tc(e),s={...n};for(let u of i)cn(s,u)&&(zo(s[u])&&(!s1(e.properties[u])||Fo.IsExactOptionalProperty(s,u))||(s[u]=wm(e.properties[u],t,`${r}/${u}`,s[u])));if(!gs(e.additionalProperties))return xs(e,r,s);let a=Object.getOwnPropertyNames(s),l=e.additionalProperties,c={...s};for(let u of a)i.includes(u)||(c[u]=xs(l,`${r}/${u}`,c[u]));return xs(e,r,c)}o(rtt,"FromObject");function ntt(e,t,r,n){if(!Zn(n))return xs(e,r,n);let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=new RegExp(i),a={...n};for(let f of Object.getOwnPropertyNames(n))s.test(f)&&(a[f]=wm(e.patternProperties[i],t,`${r}/${f}`,a[f]));if(!gs(e.additionalProperties))return xs(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.test(f)||(u[f]=xs(c,`${r}/${f}`,u[f]));return xs(e,r,u)}o(ntt,"FromRecord");function itt(e,t,r,n){let i=Qi(e,t);return xs(e,r,wm(i,t,r,n))}o(itt,"FromRef");function ott(e,t,r,n){let i=Qi(e,t);return xs(e,r,wm(i,t,r,n))}o(ott,"FromThis");function stt(e,t,r,n){return un(n)&&un(e.items)?xs(e,r,e.items.map((i,s)=>wm(i,t,`${r}/${s}`,n[s]))):xs(e,r,n)}o(stt,"FromTuple");function att(e,t,r,n){for(let i of e.anyOf){if(!ii(i,t,n))continue;let s=wm(i,t,r,n);return xs(e,r,s)}return xs(e,r,n)}o(att,"FromUnion");function wm(e,t,r,n){let i=fl(e,t),s=e;switch(e[ot]){case"Array":return Xet(s,i,r,n);case"Import":return ett(s,i,r,n);case"Intersect":return Zet(s,i,r,n);case"Not":return ttt(s,i,r,n);case"Object":return rtt(s,i,r,n);case"Record":return ntt(s,i,r,n);case"Ref":return itt(s,i,r,n);case"Symbol":return xs(s,r,n);case"This":return ott(s,i,r,n);case"Tuple":return stt(s,i,r,n);case"Union":return att(s,i,r,n);default:return xs(s,r,n)}}o(wm,"Visit");function gv(e,t,r){return wm(e,t,"",r)}o(gv,"TransformDecode");d();var Av=class extends fn{static{o(this,"TransformEncodeCheckError")}constructor(t,r,n){super("The encoded value does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},rJ=class extends fn{static{o(this,"TransformEncodeError")}constructor(t,r,n,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=t,this.path=r,this.value=n,this.error=i}};function Wl(e,t,r){try{return zi(e)?e[ps].Encode(r):r}catch(n){throw new rJ(e,t,r,n)}}o(Wl,"Default");function ltt(e,t,r,n){let i=Wl(e,r,n);return un(i)?i.map((s,a)=>Sm(e.items,t,`${r}/${a}`,s)):i}o(ltt,"FromArray");function ctt(e,t,r,n){let i=globalThis.Object.values(e.$defs),s=e.$defs[e.$ref],a=Wl(e,r,n);return Sm(s,[...t,...i],r,a)}o(ctt,"FromImport");function utt(e,t,r,n){let i=Wl(e,r,n);if(!Zn(n)||Cu(n))return i;let s=FD(e),a=s.map(m=>m[0]),l={...i};for(let[m,h]of s)m in l&&(l[m]=Sm(h,t,`${r}/${m}`,l[m]));if(!zi(e.unevaluatedProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.unevaluatedProperties,f={...l};for(let m of c)a.includes(m)||(f[m]=Wl(u,`${r}/${m}`,f[m]));return f}o(utt,"FromIntersect");function ftt(e,t,r,n){return Wl(e.not,r,Wl(e,r,n))}o(ftt,"FromNot");function dtt(e,t,r,n){let i=Wl(e,r,n);if(!Zn(i))return i;let s=Tc(e),a={...i};for(let f of s)cn(a,f)&&(zo(a[f])&&(!s1(e.properties[f])||Fo.IsExactOptionalProperty(a,f))||(a[f]=Sm(e.properties[f],t,`${r}/${f}`,a[f])));if(!gs(e.additionalProperties))return a;let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)s.includes(f)||(u[f]=Wl(c,`${r}/${f}`,u[f]));return u}o(dtt,"FromObject");function mtt(e,t,r,n){let i=Wl(e,r,n);if(!Zn(n))return i;let s=Object.getOwnPropertyNames(e.patternProperties)[0],a=new RegExp(s),l={...i};for(let m of Object.getOwnPropertyNames(n))a.test(m)&&(l[m]=Sm(e.patternProperties[s],t,`${r}/${m}`,l[m]));if(!gs(e.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.additionalProperties,f={...l};for(let m of c)a.test(m)||(f[m]=Wl(u,`${r}/${m}`,f[m]));return f}o(mtt,"FromRecord");function htt(e,t,r,n){let i=Qi(e,t),s=Sm(i,t,r,n);return Wl(e,r,s)}o(htt,"FromRef");function ptt(e,t,r,n){let i=Qi(e,t),s=Sm(i,t,r,n);return Wl(e,r,s)}o(ptt,"FromThis");function gtt(e,t,r,n){let i=Wl(e,r,n);return un(e.items)?e.items.map((s,a)=>Sm(s,t,`${r}/${a}`,i[a])):[]}o(gtt,"FromTuple");function Att(e,t,r,n){for(let i of e.anyOf){if(!ii(i,t,n))continue;let s=Sm(i,t,r,n);return Wl(e,r,s)}for(let i of e.anyOf){let s=Sm(i,t,r,n);if(ii(e,t,s))return Wl(e,r,s)}return Wl(e,r,n)}o(Att,"FromUnion");function Sm(e,t,r,n){let i=fl(e,t),s=e;switch(e[ot]){case"Array":return ltt(s,i,r,n);case"Import":return ctt(s,i,r,n);case"Intersect":return utt(s,i,r,n);case"Not":return ftt(s,i,r,n);case"Object":return dtt(s,i,r,n);case"Record":return mtt(s,i,r,n);case"Ref":return htt(s,i,r,n);case"This":return ptt(s,i,r,n);case"Tuple":return gtt(s,i,r,n);case"Union":return Att(s,i,r,n);default:return Wl(s,r,n)}}o(Sm,"Visit");function yv(e,t,r){return Sm(e,t,"",r)}o(yv,"TransformEncode");d();function ytt(e,t){return zi(e)||Ka(e.items,t)}o(ytt,"FromArray");function Ctt(e,t){return zi(e)||Ka(e.items,t)}o(Ctt,"FromAsyncIterator");function xtt(e,t){return zi(e)||Ka(e.returns,t)||e.parameters.some(r=>Ka(r,t))}o(xtt,"FromConstructor");function Ett(e,t){return zi(e)||Ka(e.returns,t)||e.parameters.some(r=>Ka(r,t))}o(Ett,"FromFunction");function btt(e,t){return zi(e)||zi(e.unevaluatedProperties)||e.allOf.some(r=>Ka(r,t))}o(btt,"FromIntersect");function vtt(e,t){let r=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((i,s)=>[...i,e.$defs[s]],[]),n=e.$defs[e.$ref];return zi(e)||Ka(n,[...r,...t])}o(vtt,"FromImport");function Itt(e,t){return zi(e)||Ka(e.items,t)}o(Itt,"FromIterator");function Ttt(e,t){return zi(e)||Ka(e.not,t)}o(Ttt,"FromNot");function wtt(e,t){return zi(e)||Object.values(e.properties).some(r=>Ka(r,t))||gs(e.additionalProperties)&&Ka(e.additionalProperties,t)}o(wtt,"FromObject");function Stt(e,t){return zi(e)||Ka(e.item,t)}o(Stt,"FromPromise");function _tt(e,t){let r=Object.getOwnPropertyNames(e.patternProperties)[0],n=e.patternProperties[r];return zi(e)||Ka(n,t)||gs(e.additionalProperties)&&zi(e.additionalProperties)}o(_tt,"FromRecord");function ktt(e,t){return zi(e)?!0:Ka(Qi(e,t),t)}o(ktt,"FromRef");function Btt(e,t){return zi(e)?!0:Ka(Qi(e,t),t)}o(Btt,"FromThis");function Rtt(e,t){return zi(e)||!zo(e.items)&&e.items.some(r=>Ka(r,t))}o(Rtt,"FromTuple");function Dtt(e,t){return zi(e)||e.anyOf.some(r=>Ka(r,t))}o(Dtt,"FromUnion");function Ka(e,t){let r=fl(e,t),n=e;if(e.$id&&nJ.has(e.$id))return!1;switch(e.$id&&nJ.add(e.$id),e[ot]){case"Array":return ytt(n,r);case"AsyncIterator":return Ctt(n,r);case"Constructor":return xtt(n,r);case"Function":return Ett(n,r);case"Import":return vtt(n,r);case"Intersect":return btt(n,r);case"Iterator":return Itt(n,r);case"Not":return Ttt(n,r);case"Object":return wtt(n,r);case"Promise":return Stt(n,r);case"Record":return _tt(n,r);case"Ref":return ktt(n,r);case"This":return Btt(n,r);case"Tuple":return Rtt(n,r);case"Union":return Dtt(n,r);default:return zi(e)}}o(Ka,"Visit");var nJ=new Set;function p1(e,t){return nJ.clear(),Ka(e,t)}o(p1,"HasTransform");var iJ=class{static{o(this,"TypeCheck")}constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=p1(t,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(t){return fp(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new pv(this.schema,t,this.Errors(t).First());return this.hasTransform?gv(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?yv(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new Av(this.schema,t,this.Errors(t).First());return r}},g1;(function(e){function t(s){return s===36}o(t,"DollarSign"),e.DollarSign=t;function r(s){return s===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(s){return s>=65&&s<=90||s>=97&&s<=122}o(n,"IsAlpha"),e.IsAlpha=n;function i(s){return s>=48&&s<=57}o(i,"IsNumeric"),e.IsNumeric=i})(g1||(g1={}));var KP;(function(e){function t(s){return s.length===0?!1:g1.IsNumeric(s.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(s){if(t(s))return!1;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);if(!(g1.IsAlpha(l)||g1.IsNumeric(l)||g1.DollarSign(l)||g1.IsUnderscore(l)))return!1}return!0}o(r,"IsAccessor");function n(s){return s.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function i(s,a){return r(a)?`${s}.${a}`:`${s}['${n(a)}']`}o(i,"Encode"),e.Encode=i})(KP||(KP={}));var oJ;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let s=r.charCodeAt(i);g1.IsNumeric(s)||g1.IsAlpha(s)?n.push(r.charAt(i)):n.push(`_${s}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(oJ||(oJ={}));var sJ;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(sJ||(sJ={}));var aJ=class extends fn{static{o(this,"TypeCompilerUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}},JP=class extends fn{static{o(this,"TypeCompilerTypeGuardError")}constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}},O3;(function(e){function t(a,l,c){return Fo.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${c} : true)`:`(${KP.Encode(a,l)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Fo.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Fo.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return Fo.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}o(i,"IsNumberLike"),e.IsNumberLike=i;function s(a){return Fo.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(s,"IsVoidLike"),e.IsVoidLike=s})(O3||(O3={}));var Ns;(function(e){function t(oe){return oe[ot]==="Any"||oe[ot]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(oe,Pe,Ae){yield"true"}o(r,"FromAny");function*n(oe,Pe,Ae){yield"true"}o(n,"FromArgument");function*i(oe,Pe,Ae){yield`Array.isArray(${Ae})`;let[We,Y]=[Be("value","any"),Be("acc","number")];Hr(oe.maxItems)&&(yield`${Ae}.length <= ${oe.maxItems}`),Hr(oe.minItems)&&(yield`${Ae}.length >= ${oe.minItems}`);let re=fe(oe.items,Pe,"value");if(yield`${Ae}.every((${We}) => ${re})`,Ko(oe.contains)||Hr(oe.minContains)||Hr(oe.maxContains)){let Ne=Ko(oe.contains)?oe.contains:Vn(),Se=fe(Ne,Pe,"value"),Ce=Hr(oe.minContains)?[`(count >= ${oe.minContains})`]:[],Ue=Hr(oe.maxContains)?[`(count <= ${oe.maxContains})`]:[],Ve=`const count = value.reduce((${Y}, ${We}) => ${Se} ? acc + 1 : acc, 0)`,et=["(count > 0)",...Ce,...Ue].join(" && ");yield`((${We}) => { ${Ve}; return ${et}})(${Ae})`}oe.uniqueItems===!0&&(yield`((${We}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${Ae})`)}o(i,"FromArray");function*s(oe,Pe,Ae){yield`(typeof value === 'object' && Symbol.asyncIterator in ${Ae})`}o(s,"FromAsyncIterator");function*a(oe,Pe,Ae){yield`(typeof ${Ae} === 'bigint')`,Ml(oe.exclusiveMaximum)&&(yield`${Ae} < BigInt(${oe.exclusiveMaximum})`),Ml(oe.exclusiveMinimum)&&(yield`${Ae} > BigInt(${oe.exclusiveMinimum})`),Ml(oe.maximum)&&(yield`${Ae} <= BigInt(${oe.maximum})`),Ml(oe.minimum)&&(yield`${Ae} >= BigInt(${oe.minimum})`),Ml(oe.multipleOf)&&(yield`(${Ae} % BigInt(${oe.multipleOf})) === 0`)}o(a,"FromBigInt");function*l(oe,Pe,Ae){yield`(typeof ${Ae} === 'boolean')`}o(l,"FromBoolean");function*c(oe,Pe,Ae){yield*ne(oe.returns,Pe,`${Ae}.prototype`)}o(c,"FromConstructor");function*u(oe,Pe,Ae){yield`(${Ae} instanceof Date) && Number.isFinite(${Ae}.getTime())`,Hr(oe.exclusiveMaximumTimestamp)&&(yield`${Ae}.getTime() < ${oe.exclusiveMaximumTimestamp}`),Hr(oe.exclusiveMinimumTimestamp)&&(yield`${Ae}.getTime() > ${oe.exclusiveMinimumTimestamp}`),Hr(oe.maximumTimestamp)&&(yield`${Ae}.getTime() <= ${oe.maximumTimestamp}`),Hr(oe.minimumTimestamp)&&(yield`${Ae}.getTime() >= ${oe.minimumTimestamp}`),Hr(oe.multipleOfTimestamp)&&(yield`(${Ae}.getTime() % ${oe.multipleOfTimestamp}) === 0`)}o(u,"FromDate");function*f(oe,Pe,Ae){yield`(typeof ${Ae} === 'function')`}o(f,"FromFunction");function*m(oe,Pe,Ae){let We=globalThis.Object.getOwnPropertyNames(oe.$defs).reduce((Y,re)=>[...Y,oe.$defs[re]],[]);yield*ne(Uf(oe.$ref),[...Pe,...We],Ae)}o(m,"FromImport");function*h(oe,Pe,Ae){yield`Number.isInteger(${Ae})`,Hr(oe.exclusiveMaximum)&&(yield`${Ae} < ${oe.exclusiveMaximum}`),Hr(oe.exclusiveMinimum)&&(yield`${Ae} > ${oe.exclusiveMinimum}`),Hr(oe.maximum)&&(yield`${Ae} <= ${oe.maximum}`),Hr(oe.minimum)&&(yield`${Ae} >= ${oe.minimum}`),Hr(oe.multipleOf)&&(yield`(${Ae} % ${oe.multipleOf}) === 0`)}o(h,"FromInteger");function*p(oe,Pe,Ae){let We=oe.allOf.map(Y=>fe(Y,Pe,Ae)).join(" && ");if(oe.unevaluatedProperties===!1){let Y=Ee(`${new RegExp(c1(oe))};`),re=`Object.getOwnPropertyNames(${Ae}).every(key => ${Y}.test(key))`;yield`(${We} && ${re})`}else if(Ko(oe.unevaluatedProperties)){let Y=Ee(`${new RegExp(c1(oe))};`),re=`Object.getOwnPropertyNames(${Ae}).every(key => ${Y}.test(key) || ${fe(oe.unevaluatedProperties,Pe,`${Ae}[key]`)})`;yield`(${We} && ${re})`}else yield`(${We})`}o(p,"FromIntersect");function*A(oe,Pe,Ae){yield`(typeof value === 'object' && Symbol.iterator in ${Ae})`}o(A,"FromIterator");function*x(oe,Pe,Ae){typeof oe.const=="number"||typeof oe.const=="boolean"?yield`(${Ae} === ${oe.const})`:yield`(${Ae} === '${sJ.Escape(oe.const)}')`}o(x,"FromLiteral");function*E(oe,Pe,Ae){yield"false"}o(E,"FromNever");function*v(oe,Pe,Ae){yield`(!${fe(oe.not,Pe,Ae)})`}o(v,"FromNot");function*b(oe,Pe,Ae){yield`(${Ae} === null)`}o(b,"FromNull");function*S(oe,Pe,Ae){yield O3.IsNumberLike(Ae),Hr(oe.exclusiveMaximum)&&(yield`${Ae} < ${oe.exclusiveMaximum}`),Hr(oe.exclusiveMinimum)&&(yield`${Ae} > ${oe.exclusiveMinimum}`),Hr(oe.maximum)&&(yield`${Ae} <= ${oe.maximum}`),Hr(oe.minimum)&&(yield`${Ae} >= ${oe.minimum}`),Hr(oe.multipleOf)&&(yield`(${Ae} % ${oe.multipleOf}) === 0`)}o(S,"FromNumber");function*B(oe,Pe,Ae){yield O3.IsObjectLike(Ae),Hr(oe.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${oe.minProperties}`),Hr(oe.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${oe.maxProperties}`);let We=Object.getOwnPropertyNames(oe.properties);for(let Y of We){let re=KP.Encode(Ae,Y),Ne=oe.properties[Y];if(oe.required&&oe.required.includes(Y))yield*ne(Ne,Pe,re),(u1(Ne)||t(Ne))&&(yield`('${Y}' in ${Ae})`);else{let Se=fe(Ne,Pe,re);yield O3.IsExactOptionalProperty(Ae,Y,Se)}}if(oe.additionalProperties===!1)if(oe.required&&oe.required.length===We.length)yield`Object.getOwnPropertyNames(${Ae}).length === ${We.length}`;else{let Y=`[${We.map(re=>`'${re}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${Ae}).every(key => ${Y}.includes(key))`}if(typeof oe.additionalProperties=="object"){let Y=fe(oe.additionalProperties,Pe,`${Ae}[key]`),re=`[${We.map(Ne=>`'${Ne}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${Ae}).every(key => ${re}.includes(key) || ${Y}))`}}o(B,"FromObject");function*D(oe,Pe,Ae){yield`${Ae} instanceof Promise`}o(D,"FromPromise");function*F(oe,Pe,Ae){yield O3.IsRecordLike(Ae),Hr(oe.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${oe.minProperties}`),Hr(oe.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${oe.maxProperties}`);let[We,Y]=Object.entries(oe.patternProperties)[0],re=Ee(`${new RegExp(We)}`),Ne=fe(Y,Pe,"value"),Se=Ko(oe.additionalProperties)?fe(oe.additionalProperties,Pe,Ae):oe.additionalProperties===!1?"false":"true",Ce=`(${re}.test(key) ? ${Ne} : ${Se})`;yield`(Object.entries(${Ae}).every(([key, value]) => ${Ce}))`}o(F,"FromRecord");function*W(oe,Pe,Ae){let We=Qi(oe,Pe);if(le.functions.has(oe.$ref))return yield`${Re(oe.$ref)}(${Ae})`;yield*ne(We,Pe,Ae)}o(W,"FromRef");function*ee(oe,Pe,Ae){let We=Ee(`${new RegExp(oe.source,oe.flags)};`);yield`(typeof ${Ae} === 'string')`,Hr(oe.maxLength)&&(yield`${Ae}.length <= ${oe.maxLength}`),Hr(oe.minLength)&&(yield`${Ae}.length >= ${oe.minLength}`),yield`${We}.test(${Ae})`}o(ee,"FromRegExp");function*de(oe,Pe,Ae){yield`(typeof ${Ae} === 'string')`,Hr(oe.maxLength)&&(yield`${Ae}.length <= ${oe.maxLength}`),Hr(oe.minLength)&&(yield`${Ae}.length >= ${oe.minLength}`),oe.pattern!==void 0&&(yield`${Ee(`${new RegExp(oe.pattern)};`)}.test(${Ae})`),oe.format!==void 0&&(yield`format('${oe.format}', ${Ae})`)}o(de,"FromString");function*X(oe,Pe,Ae){yield`(typeof ${Ae} === 'symbol')`}o(X,"FromSymbol");function*G(oe,Pe,Ae){yield`(typeof ${Ae} === 'string')`,yield`${Ee(`${new RegExp(oe.pattern)};`)}.test(${Ae})`}o(G,"FromTemplateLiteral");function*U(oe,Pe,Ae){yield`${Re(oe.$ref)}(${Ae})`}o(U,"FromThis");function*ie(oe,Pe,Ae){if(yield`Array.isArray(${Ae})`,oe.items===void 0)return yield`${Ae}.length === 0`;yield`(${Ae}.length === ${oe.maxItems})`;for(let We=0;We<oe.items.length;We++)yield`${fe(oe.items[We],Pe,`${Ae}[${We}]`)}`}o(ie,"FromTuple");function*z(oe,Pe,Ae){yield`${Ae} === undefined`}o(z,"FromUndefined");function*H(oe,Pe,Ae){yield`(${oe.anyOf.map(Y=>fe(Y,Pe,Ae)).join(" || ")})`}o(H,"FromUnion");function*M(oe,Pe,Ae){yield`${Ae} instanceof Uint8Array`,Hr(oe.maxByteLength)&&(yield`(${Ae}.length <= ${oe.maxByteLength})`),Hr(oe.minByteLength)&&(yield`(${Ae}.length >= ${oe.minByteLength})`)}o(M,"FromUint8Array");function*j(oe,Pe,Ae){yield"true"}o(j,"FromUnknown");function*Z(oe,Pe,Ae){yield O3.IsVoidLike(Ae)}o(Z,"FromVoid");function*ae(oe,Pe,Ae){let We=le.instances.size;le.instances.set(We,oe),yield`kind('${oe[ot]}', ${We}, ${Ae})`}o(ae,"FromKind");function*ne(oe,Pe,Ae,We=!0){let Y=ki(oe.$id)?[...Pe,oe]:Pe,re=oe;if(We&&ki(oe.$id)){let Ne=Re(oe.$id);if(le.functions.has(Ne))return yield`${Ne}(${Ae})`;{le.functions.set(Ne,"<deferred>");let Se=Oe(Ne,oe,Pe,"value",!1);return le.functions.set(Ne,Se),yield`${Ne}(${Ae})`}}switch(re[ot]){case"Any":return yield*r(re,Y,Ae);case"Argument":return yield*n(re,Y,Ae);case"Array":return yield*i(re,Y,Ae);case"AsyncIterator":return yield*s(re,Y,Ae);case"BigInt":return yield*a(re,Y,Ae);case"Boolean":return yield*l(re,Y,Ae);case"Constructor":return yield*c(re,Y,Ae);case"Date":return yield*u(re,Y,Ae);case"Function":return yield*f(re,Y,Ae);case"Import":return yield*m(re,Y,Ae);case"Integer":return yield*h(re,Y,Ae);case"Intersect":return yield*p(re,Y,Ae);case"Iterator":return yield*A(re,Y,Ae);case"Literal":return yield*x(re,Y,Ae);case"Never":return yield*E(re,Y,Ae);case"Not":return yield*v(re,Y,Ae);case"Null":return yield*b(re,Y,Ae);case"Number":return yield*S(re,Y,Ae);case"Object":return yield*B(re,Y,Ae);case"Promise":return yield*D(re,Y,Ae);case"Record":return yield*F(re,Y,Ae);case"Ref":return yield*W(re,Y,Ae);case"RegExp":return yield*ee(re,Y,Ae);case"String":return yield*de(re,Y,Ae);case"Symbol":return yield*X(re,Y,Ae);case"TemplateLiteral":return yield*G(re,Y,Ae);case"This":return yield*U(re,Y,Ae);case"Tuple":return yield*ie(re,Y,Ae);case"Undefined":return yield*z(re,Y,Ae);case"Union":return yield*H(re,Y,Ae);case"Uint8Array":return yield*M(re,Y,Ae);case"Unknown":return yield*j(re,Y,Ae);case"Void":return yield*Z(re,Y,Ae);default:if(!O0.Has(re[ot]))throw new aJ(oe);return yield*ae(re,Y,Ae)}}o(ne,"Visit");let le={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function fe(oe,Pe,Ae,We=!0){return`(${[...ne(oe,Pe,Ae,We)].join(" && ")})`}o(fe,"CreateExpression");function Re(oe){return`check_${oJ.Encode(oe)}`}o(Re,"CreateFunctionName");function Ee(oe){let Pe=`local_${le.variables.size}`;return le.variables.set(Pe,`const ${Pe} = ${oe}`),Pe}o(Ee,"CreateVariable");function Oe(oe,Pe,Ae,We,Y=!0){let[re,Ne]=[`
`,Ve=>"".padStart(Ve," ")],Se=Be("value","any"),Ce=Je("boolean"),Ue=[...ne(Pe,Ae,We,Y)].map(Ve=>`${Ne(4)}${Ve}`).join(` &&${re}`);return`function ${oe}(${Se})${Ce} {${re}${Ne(2)}return (${re}${Ue}${re}${Ne(2)})
}`}o(Oe,"CreateFunction");function Be(oe,Pe){let Ae=le.language==="typescript"?`: ${Pe}`:"";return`${oe}${Ae}`}o(Be,"CreateParameter");function Je(oe){return le.language==="typescript"?`: ${oe}`:""}o(Je,"CreateReturns");function at(oe,Pe,Ae){let We=Oe("check",oe,Pe,"value"),Y=Be("value","any"),re=Je("boolean"),Ne=[...le.functions.values()],Se=[...le.variables.values()],Ce=ki(oe.$id)?`return function check(${Y})${re} {
  return ${Re(oe.$id)}(value)
}`:`return ${We}`;return[...Se,...Ne,Ce].join(`
`)}o(at,"Build");function Xe(...oe){let Pe={language:"javascript"},[Ae,We,Y]=oe.length===2&&un(oe[1])?[oe[0],oe[1],Pe]:oe.length===2&&!un(oe[1])?[oe[0],[],oe[1]]:oe.length===3?[oe[0],oe[1],oe[2]]:oe.length===1?[oe[0],[],Pe]:[null,[],Pe];if(le.language=Y.language,le.variables.clear(),le.functions.clear(),le.instances.clear(),!Ko(Ae))throw new JP(Ae);for(let re of We)if(!Ko(re))throw new JP(re);return at(Ae,We,Y)}o(Xe,"Code"),e.Code=Xe;function st(oe,Pe=[]){let Ae=Xe(oe,Pe,{language:"javascript"}),We=globalThis.Function("kind","format","hash",Ae),Y=new Map(le.instances);function re(Ue,Ve,et){if(!O0.Has(Ue)||!Y.has(Ve))return!1;let yt=O0.Get(Ue),Rt=Y.get(Ve);return yt(Rt,et)}o(re,"typeRegistryFunction");function Ne(Ue,Ve){return ym.Has(Ue)?ym.Get(Ue)(Ve):!1}o(Ne,"formatRegistryFunction");function Se(Ue){return A5(Ue)}o(Se,"hashFunction");let Ce=We(re,Ne,Se);return new iJ(oe,Pe,Ce,Ae)}o(st,"Compile"),e.Compile=st})(Ns||(Ns={}));var eF=tt(j2());d();d();var Gl=[];for(let e=0;e<256;++e)Gl.push((e+256).toString(16).slice(1));function rye(e,t=0){return(Gl[e[t+0]]+Gl[e[t+1]]+Gl[e[t+2]]+Gl[e[t+3]]+"-"+Gl[e[t+4]]+Gl[e[t+5]]+"-"+Gl[e[t+6]]+Gl[e[t+7]]+"-"+Gl[e[t+8]]+Gl[e[t+9]]+"-"+Gl[e[t+10]]+Gl[e[t+11]]+Gl[e[t+12]]+Gl[e[t+13]]+Gl[e[t+14]]+Gl[e[t+15]]).toLowerCase()}o(rye,"unsafeStringify");d();var nye=require("crypto");var ZP=new Uint8Array(256),XP=ZP.length;function lJ(){return XP>ZP.length-16&&((0,nye.randomFillSync)(ZP),XP=0),ZP.slice(XP,XP+=16)}o(lJ,"rng");d();d();var iye=require("crypto"),cJ={randomUUID:iye.randomUUID};function Ptt(e,t,r){if(cJ.randomUUID&&!t&&!e)return cJ.randomUUID();e=e||{};let n=e.random??e.rng?.()??lJ();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return rye(n)}o(Ptt,"v4");var Tr=Ptt;var tF=tt(jn());function Cv(e){return e===1}o(Cv,"isRestricted");var Ftt=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],gT=8192,Ntt=21;var Cs=class{static{o(this,"TelemetryReporters")}getReporter(t,r=0){return Cv(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(rF(t))return this.reporterRestricted;if(lv(t))return new hT}getFTReporter(t){if(sye(t))return this.reporterFT;if(lv(t))return new hT}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}},Ltt=I.Object({},{additionalProperties:I.String()}),Qtt=I.Object({meanLogProb:I.Optional(I.Number()),meanAlternativeLogProb:I.Optional(I.Number())},{additionalProperties:I.Number()}),Mtt=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Ott(e){return Mtt.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(Ott,"isOomError");function Utt(e){return Q7(e)?"network":Ott(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(Utt,"getErrorType");var rn=class e{static{o(this,"TelemetryData")}static{this.validateTelemetryProperties=Ns.Compile(Ltt)}static{this.validateTelemetryMeasurements=Ns.Compile(Qtt)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new e(t||{},r||{},Gs())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime);return s.displayedTime=this.displayedTime,s}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=Gs())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(or).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=lp(t.get(an).getEditorInfo()),this.properties.editor_plugin_version=lp(t.get(an).getEditorPluginInfo());let r=t.get(hs);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${q3(t)}`,this.properties.runtime_version=`node/${process.versions.node}`;let n=t.get(an);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=lp(n.getEditorInfo());let i=t.get(Nr);this.properties.fetcher=i.name;let s=i.proxySettings;this.properties.proxy_enabled=s?"true":"false",this.properties.proxy_auth=s?.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=s?.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=i.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=fye(t);r["copilot.build"]=dye(t),r["copilot.buildType"]=zf(t),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(Cv(t))return r;let n={};for(let i in r)e.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=e.sanitizeKeys(this.properties),this.measurements=e.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}multiplexProperties(){this.properties=e.multiplexProperties(this.properties)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=e.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}static multiplexProperties(t){let r={...t};for(let n in t){let i=t[n],s=i?.length??0;if(s>gT){let a=0,l=0;for(;s>0&&l<Ntt;){l+=1;let c=n;l>1&&(c=n+"_"+(l<10?"0":"")+l);let u=a+gT;s<gT&&(u=a+s),r[c]=i.slice(a,u),s-=gT,a+=gT}}}return r}updateMeasurements(t){let r=t-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=t-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=Gtt(t))}validateData(t,r){let n;if(e.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...e.validateTelemetryProperties.Errors(this.properties)])}),!e.validateTelemetryMeasurements.Check(this.measurements)){let i=JSON.stringify([...e.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:i}:(n.problem="both",n.error+=`; ${i}`)}if(n===void 0)return!0;if(lv(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return U3(t,"invalidTelemetryData",e.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),Cv(r)&&U3(t,"invalidTelemetryData_in_secure",e.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(t,r,n,i){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(i),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,aye(t))}},A1=class e extends rn{static{o(this,"TelemetryWithExp")}constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},s=new e(n,i,this.issuedTime,this.filtersAndExp);return s.displayedTime=this.displayedTime,s}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new e({},{},0,{filters:new m3({}),exp:$f.createEmptyConfig()})}};function AT(e,t,r,n){e.get(Cs).getReporter(e,t)?.sendTelemetryEvent(r,rn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(AT,"sendTelemetryEvent");function qtt(e,t,r,n){e.get(Cs).getReporter(e,t)?.sendTelemetryErrorEvent(r,rn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(qtt,"sendTelemetryErrorEvent");function Wtt(e,t,r,n){e.get(Cs).getFTReporter(e)?.sendTelemetryEvent(r,rn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(Wtt,"sendFTTelemetryEvent");function xv(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(xv,"telemetrizePromptLength");function Gs(){return performance.now()}o(Gs,"now");function Gtt(e){return Math.floor(e/1e3)}o(Gtt,"nowSeconds");function rF(e){return e.get(ql).optedIn}o(rF,"shouldSendRestricted");function sye(e){return e.get(ql).ftFlag!==""}o(sye,"shouldSendFinetuningTelemetry");function Gt(e,t,r,n){return e.get(Co).register(Htt(e,t,Gs(),r?.extendedBy(),n))}o(Gt,"telemetry");async function Htt(e,t,r,n,i=0){let s=n||rn.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i??!1,"IncludeExp",r),(!Cv(i)||rF(e))&&AT(e,i,t,s),Cv(i)&&Ftt.includes(t)&&sye(e)&&Wtt(e,i,t,s)}o(Htt,"_telemetry");function nF(e,t){return e.get(Co).register(Vtt(e,t,Gs()))}o(nF,"telemetryExpProblem");async function Vtt(e,t,r){let n="expProblem",i=rn.createAndMarkAsIssued(t,{});await i.makeReadyForSending(e,0,"SkipExp",r),AT(e,0,n,i)}o(Vtt,"_telemetryExpProblem");function Ev(e,t,r,n){return e.get(Co).register(jtt(e,t,r,n))}o(Ev,"telemetryRaw");async function jtt(e,t,r,n){let i={...r,...aye(e)};AT(e,0,t,{properties:i,measurements:n})}o(jtt,"_telemetryRaw");function aye(e){let t=e.get(an),r={unique_id:Tr(),common_extname:t.getEditorPluginInfo().name,common_extversion:t.getEditorPluginInfo().version,common_vscodeversion:lp(t.getEditorInfo())},n=e.get(ql);return n.trackingId&&(r.copilot_trackingId=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),r}o(aye,"createRequiredProperties");var uJ=class extends Error{static{o(this,"CopilotNonError")}constructor(t){let r;try{r=JSON.stringify(t)}catch{r=String(t)}super(r),this.name="CopilotNonError",this.code=(0,eF.SHA256)(eF.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function Qo(e,t,r,n,i){return e.get(Co).register(lye(e,t,Gs(),r,{...n},i))}o(Qo,"telemetryException");async function lye(e,t,r,n,i,s){let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||a instanceof Us||a instanceof tF.ConnectionError||a instanceof tF.ResponseError)return}else{if(a=new uJ(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let x=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(x[0]??"")&&x.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(x[0]??"")&&x.shift(),a.stack=`${a}
${x.join(`
`)}`}}let l=e.get(an).getEditorInfo(),c;l.root&&(c=[{prefix:`${l.name}:`,path:l.root}]);let u=KK(a,c),f=rF(e),m=Utt(a),h=m==="exception",p=rn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:u.stack||u.toString(),message:u.message,...i});if(await p.makeReadyForSending(e,0,"IncludeExp",r),s?.exception_detail)for(let x of s.exception_detail)x.value&&(f?x.value=zK(x.value):x.value="[redacted]");if(s??=T5e(e,KK(a,c,f)),s.context={...s.context,"copilot_event.unique_id":p.properties.unique_id,"#restricted_telemetry":f?"true":"false"},n&&(s.context["#origin"]=n,s.transaction=n),s.rollup_id!=="auto"&&(p.properties.errno=s.rollup_id),s.created_at=new Date(p.issuedTime).toISOString(),f){let x=J5e(a,c),E=rn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:x.stack||x.toString(),message:x.message,...i});s.rollup_id!=="auto"&&(E.properties.errno=s.rollup_id),await E.makeReadyForSending(e,1,"IncludeExp",r),E.properties.unique_id=p.properties.unique_id,p.properties.restricted_unique_id=E.properties.unique_id,AT(e,1,`error.${m}`,E)}let A=s.rollup_id==="auto"?a.stack??"":s.rollup_id;h&&!e.get(cp).isThrottled(A)&&(p.properties.failbot_payload=JSON.stringify(s)),AT(e,0,`error.${m}`,p)}o(lye,"_telemetryException");function Su(e,t,r,n){let i=o(async(...s)=>{try{await t(...s)}catch(a){await lye(e,a,Gs(),r,n)}},"wrapped");return(...s)=>e.get(Co).register(i(...s))}o(Su,"telemetryCatch");function U3(e,t,r,n){return e.get(Co).register($tt(e,t,Gs(),r?.extendedBy(),n))}o(U3,"telemetryError");async function $tt(e,t,r,n,i=0){if(Cv(i)&&!rF(e))return;let s=n||rn.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,i,"IncludeExp",r),qtt(e,i,t,s)}o($tt,"_telemetryError");function cye(e,t,r,n,i){let s=rn.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[a,l]of Object.entries(r.logprobs))s.properties["logprobs_"+a]=JSON.stringify(l)??"unset";return s.extendWithRequestId(n),Gt(e,"engine.completion",s,1)}o(cye,"logEngineCompletion");function uye(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix),promptElementRanges:JSON.stringify(t.promptElementRanges)}:n={promptJson:JSON.stringify(t.prefix),promptElementRanges:JSON.stringify(t.promptElementRanges)};let i=r.extendedBy(n);return Gt(e,"engine.prompt",i,1)}o(uye,"logEnginePrompt");var $f=class e{static{o(this,"ExpConfig")}constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return nF(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new e({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};d();var _m=class{static{o(this,"ExpConfigMaker")}},yT=class extends _m{constructor(r="",n={}){super();this.overrideTASUrl=r;this.defaultFilters=n}static{o(this,"ExpConfigFromTAS")}async fetchExperiments(r,n){let i=r.get(Nr),s=Object.keys(n).length===0?this.defaultFilters:n,a=this.overrideTASUrl.length===0?r.get(Dn).getExperimentationUrl():this.overrideTASUrl,l;try{l=await i.fetch(a,{method:"GET",headers:s,timeout:5e3})}catch(m){return $f.createFallbackConfig(r,`Error fetching ExP config: ${String(m)}`)}if(!l.ok)return $f.createFallbackConfig(r,`ExP responded with ${l.status}`);let c;try{c=await l.json()}catch(m){if(m instanceof SyntaxError)return Qo(r,m,"fetchExperiments"),$f.createFallbackConfig(r,"ExP responded with invalid JSON");throw m}let u=c.Configs.find(m=>m.Id==="vscode")??{Id:"vscode",Parameters:{}},f=Object.entries(u.Parameters).map(([m,h])=>m+(h?"":"cf"));return new $f(u.Parameters,c.AssignmentContext,f.join(";"))}},iF=class extends _m{static{o(this,"ExpConfigNone")}async fetchExperiments(t,r){return $f.createEmptyConfig()}};d();d();var oF=class{constructor(t){this.prefix=t}static{o(this,"GranularityImplementation")}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}},fJ=class extends oF{static{o(this,"ConstantGranularity")}getValue(t){return this.prefix}getUpcomingValues(t){return[]}},mye=o(e=>new fJ(e),"DEFAULT_GRANULARITY"),sF=class extends oF{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}static{o(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),s=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of s)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var hye="X-Copilot-ClientTimeBucket",aF=class{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=mye(t)}static{o(this,"GranularityDirectory")}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new sF(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(hye,n),otherFilterSettingsToPrefetch:i.map(s=>t.withChange(hye,s))}}};d();d();d();d();d();d();function lF(e){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>e.includes(r))}o(lF,"findKnownOrg");d();d();var hl=class{static{o(this,"NotificationSender")}async showWarningMessageOnlyOnce(t,r,...n){return this.showWarningMessage(r,...n)}};d();d();var xT=tt(require("node:process"),1),Pye=require("node:buffer"),vJ=tt(require("node:path"),1),Fye=require("node:url"),Nye=tt(require("node:child_process"),1),G3=tt(require("node:fs/promises"),1);d();var gJ=tt(require("node:process"),1),Aye=tt(require("node:os"),1),yye=tt(require("node:fs"),1);d();var pye=tt(require("node:fs"),1);d();var mJ=tt(require("node:fs"),1);var dJ;function ztt(){try{return mJ.default.statSync("/.dockerenv"),!0}catch{return!1}}o(ztt,"hasDockerEnv");function Ytt(){try{return mJ.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}o(Ytt,"hasDockerCGroup");function hJ(){return dJ===void 0&&(dJ=ztt()||Ytt()),dJ}o(hJ,"isDocker");var pJ,Ktt=o(()=>{try{return pye.default.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv");function bv(){return pJ===void 0&&(pJ=Ktt()||hJ()),pJ}o(bv,"isInsideContainer");var gye=o(()=>{if(gJ.default.platform!=="linux")return!1;if(Aye.default.release().toLowerCase().includes("microsoft"))return!bv();try{return yye.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!bv():!1}catch{return!1}},"isWsl"),CT=gJ.default.env.__IS_WSL_TEST__?gye:gye();d();function W3(e,t,r){let n=o(i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}o(W3,"defineLazyProperty");d();var Sye=require("node:util"),uF=tt(require("node:process"),1),_ye=require("node:child_process");d();var Cye=require("node:util"),xye=tt(require("node:process"),1),Eye=require("node:child_process");var Jtt=(0,Cye.promisify)(Eye.execFile);async function AJ(){if(xye.default.platform!=="darwin")throw new Error("macOS only");let{stdout:e}=await Jtt("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(e)?.groups.id??"com.apple.Safari"}o(AJ,"defaultBrowserId");d();d();var bye=tt(require("node:process"),1),vye=require("node:util"),yJ=require("node:child_process");var Xtt=(0,vye.promisify)(yJ.execFile);async function Iye(e,{humanReadableOutput:t=!0}={}){if(bye.default.platform!=="darwin")throw new Error("macOS only");let r=t?[]:["-ss"],{stdout:n}=await Xtt("osascript",["-e",e,r]);return n.trim()}o(Iye,"runAppleScript");async function CJ(e){return Iye(`tell application "Finder" to set app_path to application file id "${e}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}o(CJ,"bundleName");d();var Tye=require("node:util"),wye=require("node:child_process");var Ztt=(0,Tye.promisify)(wye.execFile),ert={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},cF=class extends Error{static{o(this,"UnknownBrowserError")}};async function xJ(e=Ztt){let{stdout:t}=await e("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),r=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(t);if(!r)throw new cF(`Cannot find Windows browser in stdout: ${JSON.stringify(t)}`);let{id:n}=r.groups,i=ert[n];if(!i)throw new cF(`Unknown browser ID: ${n}`);return i}o(xJ,"defaultBrowser");var trt=(0,Sye.promisify)(_ye.execFile),rrt=o(e=>e.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,t=>t.toUpperCase()),"titleize");async function EJ(){if(uF.default.platform==="darwin"){let e=await AJ();return{name:await CJ(e),id:e}}if(uF.default.platform==="linux"){let{stdout:e}=await trt("xdg-mime",["query","default","x-scheme-handler/http"]),t=e.trim();return{name:rrt(t.replace(/.desktop$/,"").replace("-"," ")),id:t}}if(uF.default.platform==="win32")return xJ();throw new Error("Only macOS, Linux, and Windows are supported")}o(EJ,"defaultBrowser");var bJ=vJ.default.dirname((0,Fye.fileURLToPath)(importMetaUrlShim)),kye=vJ.default.join(bJ,"xdg-open"),{platform:vv,arch:Bye}=xT.default,nrt=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await G3.default.access(r,G3.constants.F_OK),n=!0}catch{}if(!n)return e;let i=await G3.default.readFile(r,{encoding:"utf8"}),s=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return s?(t=s.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),Rye=o(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(i){r=i}throw r},"pTryEach"),fF=o(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return Rye(e.app,l=>fF({...e,app:l}));let{name:t,arguments:r=[]}=e.app??{};if(r=[...r],Array.isArray(t))return Rye(t,l=>fF({...e,app:{name:l,arguments:r}}));if(t==="browser"||t==="browserPrivate"){let l={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","microsoft-edge.desktop":"edge"},c={chrome:"--incognito",firefox:"--private-window",edge:"--inPrivate"},u=await EJ();if(u.id in l){let f=l[u.id];return t==="browserPrivate"&&r.push(c[f]),fF({...e,app:{name:Iv[f],arguments:r}})}throw new Error(`${u.name} is not supported as a default browser`)}let n,i=[],s={};if(vv==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if(vv==="win32"||CT&&!bv()&&!t){let l=await nrt();n=CT?`${l}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${xT.default.env.SYSTEMROOT||xT.default.env.windir||"C:\\Windows"}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),CT||(s.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`),e.target&&r.push(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),c.push("-ArgumentList",r.join(","))),e.target=Pye.Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let l=!bJ||bJ==="/",c=!1;try{await G3.default.access(kye,G3.constants.X_OK),c=!0}catch{}n=xT.default.versions.electron??(vv==="android"||l||!c)?"xdg-open":kye}r.length>0&&i.push(...r),e.wait||(s.stdio="ignore",s.detached=!0)}vv==="darwin"&&r.length>0&&i.push("--args",...r),e.target&&i.push(e.target);let a=Nye.default.spawn(n,i,s);return e.wait?new Promise((l,c)=>{a.once("error",c),a.once("close",u=>{if(!e.allowNonzeroExitCode&&u>0){c(new Error(`Exited with code ${u}`));return}l(a)})}):(a.unref(),a)},"baseOpen"),irt=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return fF({...t,target:e})},"open");function Dye(e){if(typeof e=="string"||Array.isArray(e))return e;let{[Bye]:t}=e;if(!t)throw new Error(`${Bye} is not supported`);return t}o(Dye,"detectArchBinary");function IJ({[vv]:e},{wsl:t}){if(t&&CT)return Dye(t);if(!e)throw new Error(`${vv} is not supported`);return Dye(e)}o(IJ,"detectPlatformBinary");var Iv={};W3(Iv,"chrome",()=>IJ({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));W3(Iv,"firefox",()=>IJ({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));W3(Iv,"edge",()=>IJ({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));W3(Iv,"browser",()=>"browser");W3(Iv,"browserPrivate",()=>"browserPrivate");var dF=irt;var Hl=class{static{o(this,"UrlOpener")}},mF=class extends Hl{static{o(this,"SpawnUrlOpener")}async open(t){await dF(t)}};var ort=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],Lye="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",Qye="https://gh.io/copilot-network-errors",Rc=class{constructor(){this.notifiedErrorCodes=[]}static{o(this,"UserErrorNotifier")}notifyUser(t,r){if(!(r instanceof Error))return;let n=r;n.code&&ort.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(t,n))}async displayCertificateErrorNotification(t,r){new Cr("certificates").error(t,`${Lye} Please visit ${Qye} to learn more. Original cause:`,r);let n={title:"Learn more"};return t.get(hl).showWarningMessage(Lye,n).then(i=>{if(i?.title===n.title)return t.get(Hl).open(Qye)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};var Du=new Cr("auth"),Uye=60;function Mye(){return Math.floor(Date.now()/1e3)}o(Mye,"nowSeconds");async function hF(e,t){let r=rn.createAndMarkAsIssued({},{});Gt(e,"auth.new_login");let n=await srt(e,t),i=await n.json(),s=i.user_notification;if(Oye(e,s,t),n.clientError&&!n.headers.get("x-github-request-id")&&Du.error(e,`HTTP ${n.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`),n.status===401){let c="Failed to get copilot token due to 401 status. Please sign out and try again.";return Du.info(e,c),U3(e,"auth.unknown_401",r),{kind:"failure",reason:"HTTP401",message:c,envelope:i}}if(!n.ok||!i.token){Du.info(e,`Invalid copilot token: missing token: ${n.status} ${n.statusText}`),U3(e,"auth.invalid_token",r.extendedBy({status:n.status.toString(),status_text:n.statusText}));let c=i.error_details;return c?.notification_id!=="not_signed_up"&&Oye(e,c,t),{kind:"failure",reason:"NotAuthorized",message:"User not authorized",envelope:i,...c}}let a=i.expires_at;i.expires_at=Mye()+i.refresh_in+Uye;let l=new y1(i);return fT(e,l),Gt(e,"auth.new_token",r.extendedBy({},{adjusted_expires_at:i.expires_at,expires_at:a,current_time:Mye()})),{kind:"success",envelope:i}}o(hF,"authFromGitHubToken");async function srt(e,t){let r=e.get(Dn).getTokenUrl(t);try{return await e.get(Nr).fetch(r,{headers:{Authorization:`token ${t.token}`,...f0(e)},timeout:12e4})}catch(n){throw e.get(Rc).notifyUser(e,n),n}}o(srt,"fetchCopilotToken");function Oye(e,t,r){t&&e.get(hl).showWarningMessageOnlyOnce(t.notification_id,t.message,{title:t.title},{title:"Dismiss"}).then(async n=>{let i=n?.title===t.title,s=i||n?.title==="Dismiss";if(i){let a=e.get(an).getEditorPluginInfo(),l=t.url.replace("{EDITOR}",encodeURIComponent(a.name+"_"+a.version));await e.get(Hl).open(l)}t.notification_id&&s&&await art(e,t.notification_id,r)}).catch(n=>{Du.exception(e,n,"copilotToken.notification")})}o(Oye,"notifyUser");async function art(e,t,r){let n=e.get(Dn).getNotificationUrl(r),i=await e.get(Nr).fetch(n,{headers:{Authorization:`token ${r.token}`,...f0(e)},method:"POST",body:JSON.stringify({notification_id:t})});(!i||!i.ok)&&Du.error(e,`Failed to send notification result to GitHub: ${i?.status} ${i?.statusText}`)}o(art,"sendNotificationResultToGitHub");var y1=class{constructor(t){this.envelope=t;this.token=t.token,this.organization_list=t.organization_list,this.enterprise_list=t.enterprise_list,this.tokenMap=this.parseToken(this.token)}static{o(this,"CopilotToken")}needsRefresh(){return(this.envelope.expires_at-Uye)*1e3<Date.now()}isExpired(){return this.envelope.expires_at*1e3<Date.now()}get hasKnownOrg(){return lF(this.organization_list||[])!==void 0}parseToken(t){let r=new Map,i=(t??"").split(":")[0].split(";");for(let s of i){let[a,l]=s.split("=");r.set(a,l)}return r}getTokenValue(t){return this.tokenMap.get(t)}};d();var wn=class{constructor(t,r){this.authPersistence=t;this._copilotTokenManager=r;this.pendingSignIn=void 0}static{o(this,"AuthManager")}#e;getCopilotTokenManager(){return this._copilotTokenManager}async checkAndUpdateStatus(t,r){let n=r?.localChecksOnly??!1,i=qye(process.env);return i===void 0&&(i=await this.getAuthRecord(r?.githubAppId)),i===void 0?(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),{status:"NotSignedIn"}):n?{status:"MaybeOK",user:i.user}:(r?.forceRefresh&&this._copilotTokenManager.resetToken(),{status:await this.getTokenWithSignUpLimited(t,i,r?.freshSignIn??!1),user:i.user})}async getAuthRecord(t){if(this.#e!==null)return this.#e??this.getPersistedAuthRecord(t)}async getTokenWithSignUpLimited(t,r,n){try{await this._copilotTokenManager.getToken()}catch(i){if(i instanceof Yf)return n&&i.result.envelope?.can_signup_for_limited&&await this.signUpLimited(t,r)?this.getTokenWithSignUpLimited(t,r,!1):i.result.reason==="HTTP401"?"NotSignedIn":i.result.reason;throw i}return"OK"}async getPersistedAuthRecord(t){return await this.authPersistence.getAuthRecord(t)}async getGitHubToken(t){let r=qye(process.env)??await this.getAuthRecord();if(r===void 0)return;let n={token:r.oauth_token};return r.dev_override&&zf(t)==="dev"&&(n.devOverride={copilotTokenUrl:r.dev_override.copilot_token_url,notificationUrl:r.dev_override.notification_url,contentRestrictionsUrl:r.dev_override.content_restrictions_url}),n}async signUpLimited(t,r){let n=t.get(Dn).getSignUpLimitedUrl();try{return(await(await t.get(Nr).fetch(n,{headers:{Authorization:`token ${r.oauth_token}`,...f0(t)},method:"POST",body:JSON.stringify({restricted_telemetry:t.get(Bu).isEnabled?"enabled":"disabled",public_code_suggestions:"enabled"})})).json())?.subscribed||!1}catch(i){return Du.exception(t,i,"signUpLimited failed"),!1}}async setAuthRecord(t,r){await this.authPersistence.saveAuthRecord(r),this._copilotTokenManager.resetToken()}setTransientAuthRecord(t,r,n=!0){this.#e=r,n&&this._copilotTokenManager.resetToken()}async deleteAuthRecord(t){await this.authPersistence.deleteAuthRecord(),!this.#e&&(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken())}};function qye(e){if(e.GH_COPILOT_TOKEN&&!/=/.test(e.GH_COPILOT_TOKEN))return{user:"<environment-variable-user>",oauth_token:e.GH_COPILOT_TOKEN};if(e.GITHUB_COPILOT_TOKEN)return{user:"<environment-variable-user>",oauth_token:e.GITHUB_COPILOT_TOKEN};if(e.CODESPACES==="true"&&e.GITHUB_TOKEN)return{user:e.GITHUB_USER||"<codespaces-user>",oauth_token:e.GITHUB_TOKEN}}o(qye,"getAuthRecordFromEnv");d();var Mi=class{static{o(this,"StatusReporter")}#e=0;#t="Normal";#i;#n;#r=!0;get busy(){return this.#e>0}withProgress(t){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),t().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(t,r,n){this.#t===t&&this.#i===r&&!n&&!this.#n&&!this.#r||(this.#t=t,this.#i=r,this.#n=n,this.#r=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(t,r){this.forceStatus("Error",t,r)}setWarning(t){this.#t!=="Error"&&this.forceStatus("Warning",t)}setInactive(t){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",t)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let t={kind:this.#t,message:this.#i,busy:this.busy,command:this.#n};this.didChange(t)}},pF=class extends Mi{static{o(this,"NoOpStatusReporter")}didChange(){}};var qr=class{static{o(this,"CopilotTokenManager")}constructor(){}async getGitHubToken(){return(await this.getGitHubSession())?.token}primeToken(){try{return this.getToken().then(()=>{},()=>{})}catch{return Promise.resolve()}}},Yf=class extends Us{constructor(r){super(r.message??"");this.result=r}static{o(this,"TokenResultError")}},gF=class extends qr{constructor(r){super();this.ctx=r;this.token=void 0;this.tokenPromise=void 0}static{o(this,"CopilotTokenManagerFromGitHubTokenBase")}async fetchCopilotTokenEnvelope(){let r=await this.getGitHubSession();if(!r)throw new Yf({reason:"NotSignedIn"});if(!r?.token)throw new Yf({reason:"HTTP401"});let n=await hF(this.ctx,r);if(n.kind==="failure"){if(n.message)throw new Yf(n);let i=new Error(`Unexpected error getting Copilot token: ${n.reason}`);throw i.code=`CopilotToken.${n.reason}`,i}return n.envelope}async getToken(){if(!this.tokenPromise&&(!this.token||this.token?.needsRefresh())){let r=this.fetchCopilotTokenEnvelope().then(n=>{let i=new y1(n);return this.tokenPromise!==r?i:(this.token=i,this.tokenPromise=void 0,this.ctx.get(Mi).forceNormal(),this.token)},n=>{if(this.tokenPromise!==r)throw n;this.tokenPromise=void 0;let i=this.ctx.get(Mi);if(n instanceof Yf)switch(n.result.reason){case"NotSignedIn":i.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":i.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":i.setError(n.message||"No access to Copilot found.");break}else i.setWarning(String(n));throw n});this.tokenPromise=r}return this.token&&!this.token.isExpired()?this.token:await this.tokenPromise}resetToken(r){r!==void 0?(Gt(this.ctx,"auth.reset_token_"+r),Du.debug(this.ctx,`Resetting copilot token on HTTP error ${r}`)):Du.debug(this.ctx,"Resetting copilot token"),this.token=void 0,this.tokenPromise=void 0}},Tv=class extends gF{static{o(this,"CopilotTokenManagerFromAuthManager")}async getGitHubSession(){return await this.ctx.get(wn).getGitHubToken(this.ctx)}};function lrt(e){let t=e.getCopilotIntegrationId();if(t)return t;switch(e.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}o(lrt,"getIntegrationId");function C5(e){let t={...f0(e),"X-GitHub-Api-Version":"2025-01-21"},r=lrt(e.get(an));return r&&(t["Copilot-Integration-Id"]=r),t}o(C5,"getCapiHeaders");function wv(e,t,...r){return uv(e,t,"api",...r)}o(wv,"getCapiUrl");async function H3(e,t){let r=await e.get(qr).getToken(),n=wv(e,r,t),i={Authorization:`Bearer ${r.token}`,...C5(e)};return await e.get(Nr).fetch(new URL(n).href,{method:"GET",headers:i})}o(H3,"fetchCapiUrl");async function Wye(e,t,r){let n=await e.get(qr).getToken(),i=wv(e,n,t),s={Authorization:`Bearer ${n.token}`,...C5(e)};return await e.get(Nr).fetch(new URL(i).href,{method:"POST",headers:s,body:r})}o(Wye,"postCapiUrl");d();var Gye=10*60*1e3,Oi={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",Unknown:"unknown"};function Zo(e){switch(e){case"edits":case"user":case"inline":return[Oi.Gpt4o,Oi.Gpt4turbo,Oi.Gpt4,Oi.O1Mini,Oi.O1Ga,Oi.Claude35Sonnet,Oi.O3Mini,Oi.Gemini20Flash,Oi.Claude37Sonnet,Oi.Claude37SonnetThought,Oi.Gpt45];case"meta":case"suggestions":case"synonyms":return[Oi.Gpt4oMini,Oi.Gpt35turbo]}}o(Zo,"getSupportedModelFamiliesForPrompt");var CF={textEmbedding3Small:"text-embedding-3-small"},crt=I.Object({type:I.Union([I.Literal("chat"),I.Literal("embeddings"),I.Literal("completion")]),tokenizer:I.String(),family:I.String(),object:I.String(),supports:I.Optional(I.Object({tool_calls:I.Optional(I.Boolean()),parallel_tool_calls:I.Optional(I.Boolean()),streaming:I.Optional(I.Boolean()),vision:I.Optional(I.Boolean())})),limits:I.Optional(I.Object({max_inputs:I.Optional(I.Number()),max_prompt_tokens:I.Optional(I.Number()),max_output_tokens:I.Optional(I.Number()),max_context_window_tokens:I.Optional(I.Number())}))}),urt=I.Object({id:I.String(),name:I.String(),version:I.String(),model_picker_enabled:I.Boolean(),capabilities:crt,object:I.String(),preview:I.Optional(I.Boolean()),isExperimental:I.Optional(I.Boolean()),policy:I.Optional(I.Object({state:I.String(),terms:I.String()}))}),Hye=I.Object({data:I.Array(urt)}),Pu=class{static{o(this,"ModelMetadataProvider")}},AF=class extends Pu{constructor(r){super();this.ctx=r;this._metadata=[];this._lastFetchTime=0}static{o(this,"CapiModelMetadataProvider")}async getMetadata(){return this.shouldRefreshModels()&&await this.fetchMetadata(),this._metadata.slice()}async fetchMetadata(){let r=await H3(this.ctx,"/models");if(!r.ok)throw ni.error(this.ctx,"Failed to fetch models from CAPI",{status:r.status,statusText:r.statusText}),new x3(r);await this.processModels(r)}async fetchModel(r){let n=await H3(this.ctx,`/models/${r}`);if(!n.ok){ni.error(this.ctx,`Failed to fetch model ${r} from CAPI`,{status:n.status,statusText:n.statusText});return}return await n.json()}async acceptModelPolicy(r){return(await Wye(this.ctx,`/models/${r}/policy`,JSON.stringify({status:"enabled"}))).ok?(await this.fetchMetadata(),!0):!1}async processModels(r){try{let n=await r.json();this._metadata=n.data,this._lastFetchTime=Date.now()}catch(n){ni.error(this.ctx,"Failed to parse models from CAPI",{error:n})}}shouldRefreshModels(){return this._metadata.length===0||!this._lastFetchTime?!0:this.isLastFetchOlderTenMinutes()}isLastFetchOlderTenMinutes(){return Date.now()-this._lastFetchTime>Gye}},yF=class extends Pu{constructor(r,n){super();this.ctx=r;this.delegate=n;this._exp_models_cache=new Map}static{o(this,"ExpModelMetadataProvider")}async getMetadata(){let r=this.ctx.get(or),n=await r.updateExPValuesAndAssignments(),i=r.ideChatExpModelIds(n),s=[];if(i){let a=i?.split(",");for(let l of a){let c=await this.fetchModel(l.trim());c!==void 0&&(c.isExperimental=!0,s.push(c))}}return s.concat(await this.delegate.getMetadata())}async fetchModel(r){let n=this._exp_models_cache.get(r);if(n){let[s,a]=n;if(Date.now()-a<Gye)return s}let i=await this.delegate.fetchModel(r);if(i)return this._exp_models_cache.set(r,[i,Date.now()]),i}async acceptModelPolicy(r){return await this.delegate.acceptModelPolicy(r)}};d();function Vye(e){let t=qn(e,Pt.UserSelectedCompletionModel);return typeof t=="string"&&t.length>0?t:null}o(Vye,"getUserSelectedModelConfiguration");d();d();var frt=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},$ye=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},TJ,xF,zye,wJ=class extends fn{static{o(this,"AssertError")}constructor(t){let r=t.First();super(r===void 0?"Invalid Value":r.message),TJ.add(this),xF.set(this,void 0),frt(this,xF,t,"f"),this.error=r}Errors(){return new y5($ye(this,TJ,"m",zye).call(this))}};xF=new WeakMap,TJ=new WeakSet,zye=o(function*(){this.error&&(yield this.error),yield*$ye(this,xF,"f")},"_AssertError_Iterator");function jye(e,t,r){if(!ii(e,t,r))throw new wJ(fp(e,t,r))}o(jye,"AssertValue");function EF(...e){return e.length===3?jye(e[0],e[1],e[2]):jye(e[0],[],e[1])}o(EF,"Assert");d();d();d();function drt(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Ui(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Ui(e[r]);return t}o(drt,"FromObject");function mrt(e){return e.map(t=>Ui(t))}o(mrt,"FromArray");function hrt(e){return e.slice()}o(hrt,"FromTypedArray");function prt(e){return new Map(Ui([...e.entries()]))}o(prt,"FromMap");function grt(e){return new Set(Ui([...e.entries()]))}o(grt,"FromSet");function Art(e){return new Date(e.toISOString())}o(Art,"FromDate");function Ui(e){if(un(e))return mrt(e);if(M0(e))return Art(e);if(Nf(e))return hrt(e);if(yhe(e))return prt(e);if(Che(e))return grt(e);if(Zn(e))return drt(e);if(Cu(e))return e;throw new Error("ValueClone: Unable to clone value")}o(Ui,"Clone");var Fu=class extends fn{static{o(this,"ValueCreateError")}constructor(t,r){super(r),this.schema=t}};function qi(e){return J2(e)?e():Ui(e)}o(qi,"FromDefault");function yrt(e,t){return cn(e,"default")?qi(e.default):{}}o(yrt,"FromAny");function Crt(e,t){return{}}o(Crt,"FromArgument");function xrt(e,t){if(e.uniqueItems===!0&&!cn(e,"default"))throw new Fu(e,"Array with the uniqueItems constraint requires a default value");if("contains"in e&&!cn(e,"default"))throw new Fu(e,"Array with the contains constraint requires a default value");return"default"in e?qi(e.default):e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>Dc(e.items,t)):[]}o(xrt,"FromArray");function Ert(e,t){return cn(e,"default")?qi(e.default):async function*(){}()}o(Ert,"FromAsyncIterator");function brt(e,t){return cn(e,"default")?qi(e.default):BigInt(0)}o(brt,"FromBigInt");function vrt(e,t){return cn(e,"default")?qi(e.default):!1}o(vrt,"FromBoolean");function Irt(e,t){if(cn(e,"default"))return qi(e.default);{let r=Dc(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let s=this;s[n]=i}}}:class{}}}o(Irt,"FromConstructor");function Trt(e,t){return cn(e,"default")?qi(e.default):e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(Trt,"FromDate");function wrt(e,t){return cn(e,"default")?qi(e.default):()=>Dc(e.returns,t)}o(wrt,"FromFunction");function Srt(e,t){let r=globalThis.Object.values(e.$defs),n=e.$defs[e.$ref];return Dc(n,[...t,...r])}o(Srt,"FromImport");function _rt(e,t){return cn(e,"default")?qi(e.default):e.minimum!==void 0?e.minimum:0}o(_rt,"FromInteger");function krt(e,t){if(cn(e,"default"))return qi(e.default);{let r=e.allOf.reduce((n,i)=>{let s=Dc(i,t);return typeof s=="object"?{...n,...s}:s},{});if(!ii(e,t,r))throw new Fu(e,"Intersect produced invalid value. Consider using a default value.");return r}}o(krt,"FromIntersect");function Brt(e,t){return cn(e,"default")?qi(e.default):function*(){}()}o(Brt,"FromIterator");function Rrt(e,t){return cn(e,"default")?qi(e.default):e.const}o(Rrt,"FromLiteral");function Drt(e,t){if(cn(e,"default"))return qi(e.default);throw new Fu(e,"Never types cannot be created. Consider using a default value.")}o(Drt,"FromNever");function Prt(e,t){if(cn(e,"default"))return qi(e.default);throw new Fu(e,"Not types must have a default value")}o(Prt,"FromNot");function Frt(e,t){return cn(e,"default")?qi(e.default):null}o(Frt,"FromNull");function Nrt(e,t){return cn(e,"default")?qi(e.default):e.minimum!==void 0?e.minimum:0}o(Nrt,"FromNumber");function Lrt(e,t){if(cn(e,"default"))return qi(e.default);{let r=new Set(e.required),n={};for(let[i,s]of Object.entries(e.properties))r.has(i)&&(n[i]=Dc(s,t));return n}}o(Lrt,"FromObject");function Qrt(e,t){return cn(e,"default")?qi(e.default):Promise.resolve(Dc(e.item,t))}o(Qrt,"FromPromise");function Mrt(e,t){let[r,n]=Object.entries(e.patternProperties)[0];if(cn(e,"default"))return qi(e.default);if(r===tp||r===ep)return{};{let i=r.slice(1,r.length-1).split("|"),s={};for(let a of i)s[a]=Dc(n,t);return s}}o(Mrt,"FromRecord");function Ort(e,t){return cn(e,"default")?qi(e.default):Dc(Qi(e,t),t)}o(Ort,"FromRef");function Urt(e,t){if(cn(e,"default"))return qi(e.default);throw new Fu(e,"RegExp types cannot be created. Consider using a default value.")}o(Urt,"FromRegExp");function qrt(e,t){if(e.pattern!==void 0){if(cn(e,"default"))return qi(e.default);throw new Fu(e,"String types with patterns must specify a default value")}else if(e.format!==void 0){if(cn(e,"default"))return qi(e.default);throw new Fu(e,"String types with formats must specify a default value")}else return cn(e,"default")?qi(e.default):e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>" ").join(""):""}o(qrt,"FromString");function Wrt(e,t){return cn(e,"default")?qi(e.default):"value"in e?Symbol.for(e.value):Symbol()}o(Wrt,"FromSymbol");function Grt(e,t){if(cn(e,"default"))return qi(e.default);if(!kD(e))throw new Fu(e,"Can only create template literals that produce a finite variants. Consider using a default value.");return Db(e)[0]}o(Grt,"FromTemplateLiteral");function Hrt(e,t){if(Yye++>Xrt)throw new Fu(e,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return cn(e,"default")?qi(e.default):Dc(Qi(e,t),t)}o(Hrt,"FromThis");function Vrt(e,t){return cn(e,"default")?qi(e.default):e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>Dc(e.items[n],t))}o(Vrt,"FromTuple");function jrt(e,t){if(cn(e,"default"))return qi(e.default)}o(jrt,"FromUndefined");function $rt(e,t){if(cn(e,"default"))return qi(e.default);if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return Dc(e.anyOf[0],t)}o($rt,"FromUnion");function zrt(e,t){return cn(e,"default")?qi(e.default):e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o(zrt,"FromUint8Array");function Yrt(e,t){return cn(e,"default")?qi(e.default):{}}o(Yrt,"FromUnknown");function Krt(e,t){if(cn(e,"default"))return qi(e.default)}o(Krt,"FromVoid");function Jrt(e,t){if(cn(e,"default"))return qi(e.default);throw new Error("User defined types must specify a default value")}o(Jrt,"FromKind");function Dc(e,t){let r=fl(e,t),n=e;switch(n[ot]){case"Any":return yrt(n,r);case"Argument":return Crt(n,r);case"Array":return xrt(n,r);case"AsyncIterator":return Ert(n,r);case"BigInt":return brt(n,r);case"Boolean":return vrt(n,r);case"Constructor":return Irt(n,r);case"Date":return Trt(n,r);case"Function":return wrt(n,r);case"Import":return Srt(n,r);case"Integer":return _rt(n,r);case"Intersect":return krt(n,r);case"Iterator":return Brt(n,r);case"Literal":return Rrt(n,r);case"Never":return Drt(n,r);case"Not":return Prt(n,r);case"Null":return Frt(n,r);case"Number":return Nrt(n,r);case"Object":return Lrt(n,r);case"Promise":return Qrt(n,r);case"Record":return Mrt(n,r);case"Ref":return Ort(n,r);case"RegExp":return Urt(n,r);case"String":return qrt(n,r);case"Symbol":return Wrt(n,r);case"TemplateLiteral":return Grt(n,r);case"This":return Hrt(n,r);case"Tuple":return Vrt(n,r);case"Undefined":return jrt(n,r);case"Union":return $rt(n,r);case"Uint8Array":return zrt(n,r);case"Unknown":return Yrt(n,r);case"Void":return Krt(n,r);default:if(!O0.Has(n[ot]))throw new Fu(n,"Unknown type");return Jrt(n,r)}}o(Dc,"Visit");var Xrt=512,Yye=0;function Kf(...e){return Yye=0,e.length===2?Dc(e[0],e[1]):Dc(e[0],[])}o(Kf,"Create");var bF=class extends fn{static{o(this,"ValueCastError")}constructor(t,r){super(r),this.schema=t}};function Zrt(e,t,r){if(e[ot]==="Object"&&typeof r=="object"&&!r1(r)){let n=e,i=Object.getOwnPropertyNames(r),s=Object.entries(n.properties),[a,l]=[1/s.length,s.length];return s.reduce((c,[u,f])=>{let m=f[ot]==="Literal"&&f.const===r[u]?l:0,h=ii(f,t,r[u])?a:0,p=i.includes(u)?a:0;return c+(m+h+p)},0)}else return ii(e,t,r)?1:0}o(Zrt,"ScoreUnion");function ent(e,t,r){let n=e.anyOf.map(a=>Qi(a,t)),[i,s]=[n[0],0];for(let a of n){let l=Zrt(a,t,r);l>s&&(i=a,s=l)}return i}o(ent,"SelectUnion");function tnt(e,t,r){if("default"in e)return typeof r=="function"?e.default:Ui(e.default);{let n=ent(e,t,r);return ET(n,t,r)}}o(tnt,"CastUnion");function rnt(e,t,r){return ii(e,t,r)?Ui(r):Kf(e,t)}o(rnt,"DefaultClone");function nnt(e,t,r){return ii(e,t,r)?r:Kf(e,t)}o(nnt,"Default");function int(e,t,r){if(ii(e,t,r))return Ui(r);let n=un(r)?Ui(r):Kf(e,t),i=Hr(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=(Hr(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(c=>km(e.items,t,c));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!ii(e,t,l))throw new bF(e,"Array cast produced invalid data due to uniqueItems constraint");return l}o(int,"FromArray");function ont(e,t,r){if(ii(e,t,r))return Kf(e,t);let n=new Set(e.returns.required||[]),i=o(function(){},"result");for(let[s,a]of Object.entries(e.returns.properties))!n.has(s)&&r.prototype[s]===void 0||(i.prototype[s]=km(a,t,r.prototype[s]));return i}o(ont,"FromConstructor");function snt(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return km(i,[...t,...n],r)}o(snt,"FromImport");function ant(e,t,r){let n=Kf(e,t),i=Zn(n)&&Zn(r)?{...n,...r}:r;return ii(e,t,i)?i:Kf(e,t)}o(ant,"FromIntersect");function lnt(e,t,r){throw new bF(e,"Never types cannot be cast")}o(lnt,"FromNever");function cnt(e,t,r){if(ii(e,t,r))return r;if(r===null||typeof r!="object")return Kf(e,t);let n=new Set(e.required||[]),i={};for(let[s,a]of Object.entries(e.properties))!n.has(s)&&r[s]===void 0||(i[s]=km(a,t,r[s]));if(typeof e.additionalProperties=="object"){let s=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))s.includes(a)||(i[a]=km(e.additionalProperties,t,r[a]))}return i}o(cnt,"FromObject");function unt(e,t,r){if(ii(e,t,r))return Ui(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return Kf(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],s={};for(let[a,l]of Object.entries(r))s[a]=km(i,t,l);return s}o(unt,"FromRecord");function fnt(e,t,r){return km(Qi(e,t),t,r)}o(fnt,"FromRef");function dnt(e,t,r){return km(Qi(e,t),t,r)}o(dnt,"FromThis");function mnt(e,t,r){return ii(e,t,r)?Ui(r):un(r)?e.items===void 0?[]:e.items.map((n,i)=>km(n,t,r[i])):Kf(e,t)}o(mnt,"FromTuple");function hnt(e,t,r){return ii(e,t,r)?Ui(r):tnt(e,t,r)}o(hnt,"FromUnion");function km(e,t,r){let n=ki(e.$id)?fl(e,t):t,i=e;switch(e[ot]){case"Array":return int(i,n,r);case"Constructor":return ont(i,n,r);case"Import":return snt(i,n,r);case"Intersect":return ant(i,n,r);case"Never":return lnt(i,n,r);case"Object":return cnt(i,n,r);case"Record":return unt(i,n,r);case"Ref":return fnt(i,n,r);case"This":return dnt(i,n,r);case"Tuple":return mnt(i,n,r);case"Union":return hnt(i,n,r);case"Date":case"Symbol":case"Uint8Array":return rnt(e,t,r);default:return nnt(i,n,r)}}o(km,"Visit");function ET(...e){return e.length===3?km(e[0],e[1],e[2]):km(e[0],[],e[1])}o(ET,"Cast");d();function pnt(e){return Z2(e)&&e[ot]!=="Unsafe"}o(pnt,"IsCheckable");function gnt(e,t,r){return un(r)?r.map(n=>Pc(e.items,t,n)):r}o(gnt,"FromArray");function Ant(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Pc(i,[...t,...n],r)}o(Ant,"FromImport");function ynt(e,t,r){let n=e.unevaluatedProperties,s=e.allOf.map(l=>Pc(l,t,Ui(r))).reduce((l,c)=>Zn(c)?{...l,...c}:c,{});if(!Zn(r)||!Zn(s)||!Z2(n))return s;let a=Tc(e);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||ii(n,t,r[l])&&(s[l]=Pc(n,t,r[l]));return s}o(ynt,"FromIntersect");function Cnt(e,t,r){if(!Zn(r)||un(r))return r;let n=e.additionalProperties;for(let i of Object.getOwnPropertyNames(r)){if(cn(e.properties,i)){r[i]=Pc(e.properties[i],t,r[i]);continue}if(Z2(n)&&ii(n,t,r[i])){r[i]=Pc(n,t,r[i]);continue}delete r[i]}return r}o(Cnt,"FromObject");function xnt(e,t,r){if(!Zn(r))return r;let n=e.additionalProperties,i=Object.getOwnPropertyNames(r),[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of i){if(l.test(c)){r[c]=Pc(a,t,r[c]);continue}if(Z2(n)&&ii(n,t,r[c])){r[c]=Pc(n,t,r[c]);continue}delete r[c]}return r}o(xnt,"FromRecord");function Ent(e,t,r){return Pc(Qi(e,t),t,r)}o(Ent,"FromRef");function bnt(e,t,r){return Pc(Qi(e,t),t,r)}o(bnt,"FromThis");function vnt(e,t,r){if(!un(r))return r;if(zo(e.items))return[];let n=Math.min(r.length,e.items.length);for(let i=0;i<n;i++)r[i]=Pc(e.items[i],t,r[i]);return r.length>n?r.slice(0,n):r}o(vnt,"FromTuple");function Int(e,t,r){for(let n of e.anyOf)if(pnt(n)&&ii(n,t,r))return Pc(n,t,r);return r}o(Int,"FromUnion");function Pc(e,t,r){let n=ki(e.$id)?fl(e,t):t,i=e;switch(i[ot]){case"Array":return gnt(i,n,r);case"Import":return Ant(i,n,r);case"Intersect":return ynt(i,n,r);case"Object":return Cnt(i,n,r);case"Record":return xnt(i,n,r);case"Ref":return Ent(i,n,r);case"This":return bnt(i,n,r);case"Tuple":return vnt(i,n,r);case"Union":return Int(i,n,r);default:return r}}o(Pc,"Visit");function vF(...e){return e.length===3?Pc(e[0],e[1],e[2]):Pc(e[0],[],e[1])}o(vF,"Clean");d();function IF(e){return ki(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(IF,"IsStringNumeric");function Tnt(e){return Ml(e)||Zh(e)||Hr(e)}o(Tnt,"IsValueToString");function bT(e){return e===!0||Hr(e)&&e===1||Ml(e)&&e===BigInt("1")||ki(e)&&(e.toLowerCase()==="true"||e==="1")}o(bT,"IsValueTrue");function vT(e){return e===!1||Hr(e)&&(e===0||Object.is(e,-0))||Ml(e)&&e===BigInt("0")||ki(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(vT,"IsValueFalse");function wnt(e){return ki(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(wnt,"IsTimeStringWithTimeZone");function Snt(e){return ki(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(Snt,"IsTimeStringWithoutTimeZone");function _nt(e){return ki(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(_nt,"IsDateTimeStringWithTimeZone");function knt(e){return ki(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(knt,"IsDateTimeStringWithoutTimeZone");function Bnt(e){return ki(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(Bnt,"IsDateString");function Rnt(e,t){let r=Jye(e);return r===t?r:e}o(Rnt,"TryConvertLiteralString");function Dnt(e,t){let r=Xye(e);return r===t?r:e}o(Dnt,"TryConvertLiteralNumber");function Pnt(e,t){let r=Kye(e);return r===t?r:e}o(Pnt,"TryConvertLiteralBoolean");function Fnt(e,t){return ki(e.const)?Rnt(t,e.const):Hr(e.const)?Dnt(t,e.const):Zh(e.const)?Pnt(t,e.const):t}o(Fnt,"TryConvertLiteral");function Kye(e){return bT(e)?!0:vT(e)?!1:e}o(Kye,"TryConvertBoolean");function Nnt(e){let t=o(r=>r.split(".")[0],"truncateInteger");return IF(e)?BigInt(t(e)):Hr(e)?BigInt(Math.trunc(e)):vT(e)?BigInt(0):bT(e)?BigInt(1):e}o(Nnt,"TryConvertBigInt");function Jye(e){return n1(e)&&e.description!==void 0?e.description.toString():Tnt(e)?e.toString():e}o(Jye,"TryConvertString");function Xye(e){return IF(e)?parseFloat(e):bT(e)?1:vT(e)?0:e}o(Xye,"TryConvertNumber");function Lnt(e){return IF(e)?parseInt(e):Hr(e)?Math.trunc(e):bT(e)?1:vT(e)?0:e}o(Lnt,"TryConvertInteger");function Qnt(e){return ki(e)&&e.toLowerCase()==="null"?null:e}o(Qnt,"TryConvertNull");function Mnt(e){return ki(e)&&e==="undefined"?void 0:e}o(Mnt,"TryConvertUndefined");function Ont(e){return M0(e)?e:Hr(e)?new Date(e):bT(e)?new Date(1):vT(e)?new Date(0):IF(e)?new Date(parseInt(e)):Snt(e)?new Date(`1970-01-01T${e}.000Z`):wnt(e)?new Date(`1970-01-01T${e}`):knt(e)?new Date(`${e}.000Z`):_nt(e)?new Date(e):Bnt(e)?new Date(`${e}T00:00:00.000Z`):e}o(Ont,"TryConvertDate");function Unt(e,t,r){return(un(r)?r:[r]).map(i=>Bm(e.items,t,i))}o(Unt,"FromArray");function qnt(e,t,r){return Nnt(r)}o(qnt,"FromBigInt");function Wnt(e,t,r){return Kye(r)}o(Wnt,"FromBoolean");function Gnt(e,t,r){return Ont(r)}o(Gnt,"FromDate");function Hnt(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Bm(i,[...t,...n],r)}o(Hnt,"FromImport");function Vnt(e,t,r){return Lnt(r)}o(Vnt,"FromInteger");function jnt(e,t,r){return e.allOf.reduce((n,i)=>Bm(i,t,n),r)}o(jnt,"FromIntersect");function $nt(e,t,r){return Fnt(e,r)}o($nt,"FromLiteral");function znt(e,t,r){return Qnt(r)}o(znt,"FromNull");function Ynt(e,t,r){return Xye(r)}o(Ynt,"FromNumber");function Knt(e,t,r){if(!Zn(r))return r;for(let n of Object.getOwnPropertyNames(e.properties))cn(r,n)&&(r[n]=Bm(e.properties[n],t,r[n]));return r}o(Knt,"FromObject");function Jnt(e,t,r){if(!Zn(r))return r;let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[i];for(let[a,l]of Object.entries(r))r[a]=Bm(s,t,l);return r}o(Jnt,"FromRecord");function Xnt(e,t,r){return Bm(Qi(e,t),t,r)}o(Xnt,"FromRef");function Znt(e,t,r){return Jye(r)}o(Znt,"FromString");function eit(e,t,r){return ki(r)||Hr(r)?Symbol(r):r}o(eit,"FromSymbol");function tit(e,t,r){return Bm(Qi(e,t),t,r)}o(tit,"FromThis");function rit(e,t,r){return un(r)&&!zo(e.items)?r.map((i,s)=>s<e.items.length?Bm(e.items[s],t,i):i):r}o(rit,"FromTuple");function nit(e,t,r){return Mnt(r)}o(nit,"FromUndefined");function iit(e,t,r){for(let n of e.anyOf){let i=Bm(n,t,Ui(r));if(ii(n,t,i))return i}return r}o(iit,"FromUnion");function Bm(e,t,r){let n=fl(e,t),i=e;switch(e[ot]){case"Array":return Unt(i,n,r);case"BigInt":return qnt(i,n,r);case"Boolean":return Wnt(i,n,r);case"Date":return Gnt(i,n,r);case"Import":return Hnt(i,n,r);case"Integer":return Vnt(i,n,r);case"Intersect":return jnt(i,n,r);case"Literal":return $nt(i,n,r);case"Null":return znt(i,n,r);case"Number":return Ynt(i,n,r);case"Object":return Knt(i,n,r);case"Record":return Jnt(i,n,r);case"Ref":return Xnt(i,n,r);case"String":return Znt(i,n,r);case"Symbol":return eit(i,n,r);case"This":return tit(i,n,r);case"Tuple":return rit(i,n,r);case"Undefined":return nit(i,n,r);case"Union":return iit(i,n,r);default:return r}}o(Bm,"Visit");function TF(...e){return e.length===3?Bm(e[0],e[1],e[2]):Bm(e[0],[],e[1])}o(TF,"Convert");d();function Zye(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!ii(t,r,n))throw new pv(t,n,fp(t,r,n).First());return p1(t,r)?gv(t,r,n):n}o(Zye,"Decode");d();function C1(e,t){let r=cn(e,"default")?e.default:void 0,n=J2(r)?r():Ui(r);return zo(t)?n:Zn(t)&&Zn(n)?Object.assign(n,t):t}o(C1,"ValueOrDefault");function SJ(e){return Z2(e)&&"default"in e}o(SJ,"HasDefaultProperty");function oit(e,t,r){if(un(r)){for(let i=0;i<r.length;i++)r[i]=G0(e.items,t,r[i]);return r}let n=C1(e,r);if(!un(n))return n;for(let i=0;i<n.length;i++)n[i]=G0(e.items,t,n[i]);return n}o(oit,"FromArray");function sit(e,t,r){return M0(r)?r:C1(e,r)}o(sit,"FromDate");function ait(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return G0(i,[...t,...n],r)}o(ait,"FromImport");function lit(e,t,r){let n=C1(e,r);return e.allOf.reduce((i,s)=>{let a=G0(s,t,n);return Zn(a)?{...i,...a}:a},{})}o(lit,"FromIntersect");function cit(e,t,r){let n=C1(e,r);if(!Zn(n))return n;let i=Object.getOwnPropertyNames(e.properties);for(let s of i){let a=G0(e.properties[s],t,n[s]);zo(a)||(n[s]=G0(e.properties[s],t,n[s]))}if(!SJ(e.additionalProperties))return n;for(let s of Object.getOwnPropertyNames(n))i.includes(s)||(n[s]=G0(e.additionalProperties,t,n[s]));return n}o(cit,"FromObject");function uit(e,t,r){let n=C1(e,r);if(!Zn(n))return n;let i=e.additionalProperties,[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let c of Object.getOwnPropertyNames(n))l.test(c)&&SJ(a)&&(n[c]=G0(a,t,n[c]));if(!SJ(i))return n;for(let c of Object.getOwnPropertyNames(n))l.test(c)||(n[c]=G0(i,t,n[c]));return n}o(uit,"FromRecord");function fit(e,t,r){return G0(Qi(e,t),t,C1(e,r))}o(fit,"FromRef");function dit(e,t,r){return G0(Qi(e,t),t,r)}o(dit,"FromThis");function mit(e,t,r){let n=C1(e,r);if(!un(n)||zo(e.items))return n;let[i,s]=[e.items,Math.max(e.items.length,n.length)];for(let a=0;a<s;a++)a<i.length&&(n[a]=G0(i[a],t,n[a]));return n}o(mit,"FromTuple");function hit(e,t,r){let n=C1(e,r);for(let i of e.anyOf){let s=G0(i,t,Ui(n));if(ii(i,t,s))return s}return n}o(hit,"FromUnion");function G0(e,t,r){let n=fl(e,t),i=e;switch(i[ot]){case"Array":return oit(i,n,r);case"Date":return sit(i,n,r);case"Import":return ait(i,n,r);case"Intersect":return lit(i,n,r);case"Object":return cit(i,n,r);case"Record":return uit(i,n,r);case"Ref":return fit(i,n,r);case"This":return dit(i,n,r);case"Tuple":return mit(i,n,r);case"Union":return hit(i,n,r);default:return C1(i,r)}}o(G0,"Visit");function wF(...e){return e.length===3?G0(e[0],e[1],e[2]):G0(e[0],[],e[1])}o(wF,"Default");d();d();var Rm={};$g(Rm,{Delete:()=>git,Format:()=>IT,Get:()=>yit,Has:()=>Ait,Set:()=>pit,ValuePointerRootDeleteError:()=>_F,ValuePointerRootSetError:()=>SF});d();var SF=class extends fn{static{o(this,"ValuePointerRootSetError")}constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}},_F=class extends fn{static{o(this,"ValuePointerRootDeleteError")}constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};function eCe(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}o(eCe,"Escape");function*IT(e){if(e==="")return;let[t,r]=[0,0];for(let n=0;n<e.length;n++)e.charAt(n)==="/"?(n===0||(r=n,yield eCe(e.slice(t,r))),t=n+1):r=n;yield eCe(e.slice(t))}o(IT,"Format");function pit(e,t,r){if(t==="")throw new SF(e,t,r);let[n,i,s]=[null,e,""];for(let a of IT(t))i[a]===void 0&&(i[a]={}),n=i,i=i[a],s=a;n[s]=r}o(pit,"Set");function git(e,t){if(t==="")throw new _F(e,t);let[r,n,i]=[null,e,""];for(let s of IT(t)){if(n[s]===void 0||n[s]===null)return;r=n,n=n[s],i=s}if(Array.isArray(r)){let s=parseInt(i);r.splice(s,1)}else delete r[i]}o(git,"Delete");function Ait(e,t){if(t==="")return!0;let[r,n,i]=[null,e,""];for(let s of IT(t)){if(n[s]===void 0)return!1;r=n,n=n[s],i=s}return Object.getOwnPropertyNames(r).includes(i)}o(Ait,"Has");function yit(e,t){if(t==="")return e;let r=e;for(let n of IT(t)){if(r[n]===void 0)return;r=r[n]}return r}o(yit,"Get");d();function Cit(e,t){if(!Zn(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>V3(e[i],t[i]))}o(Cit,"ObjectType");function xit(e,t){return M0(t)&&e.getTime()===t.getTime()}o(xit,"DateType");function Eit(e,t){return!un(t)||e.length!==t.length?!1:e.every((r,n)=>V3(r,t[n]))}o(Eit,"ArrayType");function bit(e,t){return!Nf(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>V3(r,t[n]))}o(bit,"TypedArrayType");function vit(e,t){return e===t}o(vit,"ValueType");function V3(e,t){if(M0(e))return xit(e,t);if(Nf(e))return bit(e,t);if(un(e))return Eit(e,t);if(Zn(e))return Cit(e,t);if(Cu(e))return vit(e,t);throw new Error("ValueEquals: Unable to compare value")}o(V3,"Equal");var Iit=Ki({type:vi("insert"),path:U0(),value:Cm()}),Tit=Ki({type:vi("update"),path:U0(),value:Cm()}),wit=Ki({type:vi("delete"),path:U0()}),rCe=Yi([Iit,Tit,wit]),kF=class extends fn{static{o(this,"ValueDiffError")}constructor(t,r){super(r),this.value=t}};function BF(e,t){return{type:"update",path:e,value:t}}o(BF,"CreateUpdate");function nCe(e,t){return{type:"insert",path:e,value:t}}o(nCe,"CreateInsert");function iCe(e){return{type:"delete",path:e}}o(iCe,"CreateDelete");function tCe(e){if(globalThis.Object.getOwnPropertySymbols(e).length>0)throw new kF(e,"Cannot diff objects with symbols")}o(tCe,"AssertDiffable");function*Sit(e,t,r){if(tCe(t),tCe(r),!Sz(r))return yield BF(e,r);let n=globalThis.Object.getOwnPropertyNames(t),i=globalThis.Object.getOwnPropertyNames(r);for(let s of i)cn(t,s)||(yield nCe(`${e}/${s}`,r[s]));for(let s of n)cn(r,s)&&(V3(t,r)||(yield*RF(`${e}/${s}`,t[s],r[s])));for(let s of n)cn(r,s)||(yield iCe(`${e}/${s}`))}o(Sit,"ObjectType");function*_it(e,t,r){if(!un(r))return yield BF(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*RF(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield nCe(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield iCe(`${e}/${n}`))}o(_it,"ArrayType");function*kit(e,t,r){if(!Nf(r)||t.length!==r.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield BF(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*RF(`${e}/${n}`,t[n],r[n])}o(kit,"TypedArrayType");function*Bit(e,t,r){t!==r&&(yield BF(e,r))}o(Bit,"ValueType");function*RF(e,t,r){if(Sz(t))return yield*Sit(e,t,r);if(un(t))return yield*_it(e,t,r);if(Nf(t))return yield*kit(e,t,r);if(Cu(t))return yield*Bit(e,t,r);throw new kF(t,"Unable to diff value")}o(RF,"Visit");function oCe(e,t){return[...RF("",e,t)]}o(oCe,"Diff");function Rit(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(Rit,"IsRootUpdate");function Dit(e){return e.length===0}o(Dit,"IsIdentity");function sCe(e,t){if(Rit(t))return Ui(t[0].value);if(Dit(t))return Ui(e);let r=Ui(e);for(let n of t)switch(n.type){case"insert":{Rm.Set(r,n.path,n.value);break}case"update":{Rm.Set(r,n.path,n.value);break}case"delete":{Rm.Delete(r,n.path);break}}return r}o(sCe,"Patch");d();function aCe(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]],i=p1(t,r)?yv(t,r,n):n;if(!ii(t,r,i))throw new Av(t,i,fp(t,r,i).First());return i}o(aCe,"Encode");d();function DF(e){return Zn(e)&&!un(e)}o(DF,"IsStandardObject");var PF=class extends fn{static{o(this,"ValueMutateError")}constructor(t){super(t)}};function Pit(e,t,r,n){if(!DF(r))Rm.Set(e,t,Ui(n));else{let i=Object.getOwnPropertyNames(r),s=Object.getOwnPropertyNames(n);for(let a of i)s.includes(a)||delete r[a];for(let a of s)i.includes(a)||(r[a]=null);for(let a of s)_J(e,`${t}/${a}`,r[a],n[a])}}o(Pit,"ObjectType");function Fit(e,t,r,n){if(!un(r))Rm.Set(e,t,Ui(n));else{for(let i=0;i<n.length;i++)_J(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}o(Fit,"ArrayType");function Nit(e,t,r,n){if(Nf(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else Rm.Set(e,t,Ui(n))}o(Nit,"TypedArrayType");function Lit(e,t,r,n){r!==n&&Rm.Set(e,t,n)}o(Lit,"ValueType");function _J(e,t,r,n){if(un(n))return Fit(e,t,r,n);if(Nf(n))return Nit(e,t,r,n);if(DF(n))return Pit(e,t,r,n);if(Cu(n))return Lit(e,t,r,n)}o(_J,"Visit");function lCe(e){return Nf(e)||Cu(e)}o(lCe,"IsNonMutableValue");function Qit(e,t){return DF(e)&&un(t)||un(e)&&DF(t)}o(Qit,"IsMismatchedValue");function cCe(e,t){if(lCe(e)||lCe(t))throw new PF("Only object and array types can be mutated at the root level");if(Qit(e,t))throw new PF("Cannot assign due type mismatch of assignable values");_J(e,"",e,t)}o(cCe,"Mutate");d();var FF=class extends fn{static{o(this,"ParseError")}constructor(t){super(t)}},kJ;(function(e){let t=new Map([["Assert",(s,a,l)=>(EF(s,a,l),l)],["Cast",(s,a,l)=>ET(s,a,l)],["Clean",(s,a,l)=>vF(s,a,l)],["Clone",(s,a,l)=>Ui(l)],["Convert",(s,a,l)=>TF(s,a,l)],["Decode",(s,a,l)=>p1(s,a)?gv(s,a,l):l],["Default",(s,a,l)=>wF(s,a,l)],["Encode",(s,a,l)=>p1(s,a)?yv(s,a,l):l]]);function r(s){t.delete(s)}o(r,"Delete"),e.Delete=r;function n(s,a){t.set(s,a)}o(n,"Set"),e.Set=n;function i(s){return t.get(s)}o(i,"Get"),e.Get=i})(kJ||(kJ={}));var uCe=["Clone","Clean","Default","Convert","Assert","Decode"];function Mit(e,t,r,n){return e.reduce((i,s)=>{let a=kJ.Get(s);if(zo(a))throw new FF(`Unable to find Parse operation '${s}'`);return a(t,r,i)},n)}o(Mit,"ParseValue");function fCe(...e){let[t,r,n,i]=e.length===4?[e[0],e[1],e[2],e[3]]:e.length===3?un(e[0])?[e[0],e[1],[],e[2]]:[uCe,e[0],e[1],e[2]]:e.length===2?[uCe,e[0],[],e[1]]:(()=>{throw new FF("Invalid Arguments")})();return Mit(t,r,n,i)}o(fCe,"Parse");d();var x5={};$g(x5,{Assert:()=>EF,Cast:()=>ET,Check:()=>ii,Clean:()=>vF,Clone:()=>Ui,Convert:()=>TF,Create:()=>Kf,Decode:()=>Zye,Default:()=>wF,Diff:()=>oCe,Edit:()=>rCe,Encode:()=>aCe,Equal:()=>V3,Errors:()=>fp,Hash:()=>A5,Mutate:()=>cCe,Parse:()=>fCe,Patch:()=>sCe,ValueErrorIterator:()=>y5});d();var Oit={capabilities:{family:"gpt-3.5-turbo",object:"model_capabilities",supports:{streaming:!0},tokenizer:"cl100k_base",type:"completion"},id:"copilot-codex",model_picker_enabled:!0,name:"GPT-3.5 Turbo",object:"model",preview:!1,version:"copilot-codex"},Uit="gpt-4o-copilot",Jf=class e{constructor(t,r=!0){this._ctx=t;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&Ya(this._ctx,n=>this.refreshAvailableModels(n))}static{o(this,"AvailableModelsManager")}async refreshAvailableModels(t){await this.refreshModels(t);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(t){this.onModelsFetchedCallbacks.push(t)}getDefaultModelId(){if(this.fetchedModelData){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(t)return t.id}return Uit}parseModelsResponse(t){try{return x5.Parse(Hye,t)}catch(r){ni.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(t){let r=await this.fetchModels(t);r&&(this.fetchedModelData=r)}async fetchModels(t){return this.customModels=t.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=t.getTokenValue("editor_preview_features")=="0",t.getTokenValue("fcv1")=="1"?Promise.resolve([Oit]):await this.fetch()}async fetch(){let t=await H3(this._ctx,"/models");return t.ok?this.parseModelsResponse(await t.json())?.data??[]:(ni.error(this._ctx,"Failed to fetch models from CAPI",{status:t.status,statusText:t.statusText}),null)}getGenericCompletionModels(){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return e.mapCompletionModels(t)}static filterCompletionModels(t,r){return t.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(t){return t.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview}))}getCurrentModelRequestInfo(t=void 0){let r=this.getDefaultModelId(),n=Vye(this._ctx);if(n){let l=this.getGenericCompletionModels().map(c=>c.modelId);l.includes(n)||(l.length>0&&ni.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let i=qn(this._ctx,Pt.DebugOverrideEngine)||qn(this._ctx,Pt.DebugOverrideEngineLegacy);if(i)return new E5(i,"override");let s=t?this._ctx.get(or).customEngine(t):"",a=t?this._ctx.get(or).customEngineTargetEngine(t):void 0;return n?s&&a&&n===a?new E5(s,"exp"):new E5(n,"modelpicker"):s?new E5(s,"exp"):this.customModels.length>0?new E5(this.customModels[0],"custommodel"):new E5(r,"default")}},E5=class{constructor(t,r){this.modelId=t;this.modelChoiceSource=r}static{o(this,"ModelRequestInfo")}get headers(){return{}}};function b5(e,t=void 0){let r=e.get(Jf).getCurrentModelRequestInfo(t);return{headers:r.headers,modelId:r.modelId,engineChoiceSource:r.modelChoiceSource}}o(b5,"getEngineRequestInfo");d();d();var TT=require("fs");var ko=class{static{o(this,"FileSystem")}},Sv=class extends ko{static{o(this,"LocalFileSystem")}async readFileString(t){return(await TT.promises.readFile(mT(t))).toString()}async stat(t){let{targetStat:r,lstat:n,stat:i}=await this.statWithLink(mT(t));return{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size,type:this.getFileType(r,n,i)}}async readDirectory(t){let r=mT(t),n=await TT.promises.readdir(r,{withFileTypes:!0}),i=[];for(let s of n)i.push([s.name,s.isFile()?1:2]);return i}async statWithLink(t){let r=await TT.promises.lstat(t);if(r.isSymbolicLink())try{let n=await TT.promises.stat(t);return{lstat:r,stat:n,targetStat:n}}catch{}return{lstat:r,targetStat:r}}getFileType(t,r,n){let i=0;return t.isFile()&&(i=1),t.isDirectory()&&(i=2),r.isSymbolicLink()&&n&&(i|=64),i}};var kCe=tt(_Ce());function BCe(e){return e!==void 0&&e!==0}o(BCe,"isRepoInfo");async function RCe(e){let r=(await e.get(qr).getToken()).organization_list??[];return lF(r)??""}o(RCe,"getUserKind");async function wT(e,t){return(await e.get(qr).getToken()).getTokenValue(t)??""}o(wT,"getTokenKeyValue");function DCe(e){if(e===void 0||e===0)return"";let t=x1(e);if(t==="github/github")return t;let r=dot(e)?.toLowerCase();return r!==void 0?r:""}o(DCe,"getDogFood");function x1(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(x1,"tryGetGitHubNWO");function dot(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}o(dot,"tryGetADONWO");function v5(e,t){let r=_u(t);return mot(e,r)}o(v5,"extractRepoInfoInBackground");var mot=Aot(hot,1e4);async function hot(e,t){let r=N5e(t);if(!r)return;let n=await pot(e,r);if(!n)return;let i=e.get(ko),s=Xo(n,".git","config"),a;try{a=await i.readFileString(s)}catch{return}let l=got(a)??"",c=PJ(l),u={uri:n};return c===void 0?{baseFolder:u,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:u,url:l,...c}}o(hot,"extractRepoInfo");function PJ(e){let t;try{if(t=(0,kCe.default)(e),t.resource==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.resource,owner:t.owner,repo:t.name,pathname:t.pathname}}o(PJ,"parseRepoUrl");async function pot(e,t){let r=t+"_add_to_make_longer",n=e.get(ko);for(;t!=="file:///"&&t.length<r.length;){let i=Xo(t,".git","config"),s=!1;try{await n.stat(i),s=!0}catch{s=!1}if(s)return t;r=t,t=_u(t)}}o(pot,"getRepoBaseUri");function got(e){let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,s,a,l=!1;for(let c of e.split(`
`))if(l&&s!==void 0){if(s+=c,c.endsWith("\\"))s=s.substring(0,s.length-1);else if(l=!1,a==="origin")return s}else{let u=c.match(t)??c.match(r);if(u)a=u[1];else if(c.match(i))a=void 0;else{if(s&&a!=="origin")continue;{let f=c.match(n);if(f){if(s=f[1],s.endsWith("\\"))s=s.substring(0,s.length-1),l=!0;else if(a==="origin")return s}}}}return s}o(got,"getRepoUrlFromConfigText");var DJ=class{static{o(this,"CompletedComputation")}constructor(t){this.result=t}};function Aot(e,t){let r=new xn(t),n=new Set;return(i,...s)=>{let a=JSON.stringify(s),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let c=e(i,...s);return n.add(a),c.then(u=>{r.set(a,new DJ(u)),n.delete(a)}),0}}o(Aot,"computeInBackgroundAndMemoize");d();var bN=tt(require("path")),F3e=require("worker_threads");d();d();d();d();d();d();d();function FJ(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(FJ,"virtualNode");function PCe(e,t,r,n,i){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:i}}o(PCe,"lineNode");function NJ(e){return{type:"blank",lineNumber:e,subs:[]}}o(NJ,"blankNode");function NF(e){return{type:"top",indentation:-1,subs:e??[]}}o(NF,"topNode");function Vl(e){return e.type==="blank"}o(Vl,"isBlank");function j3(e){return e.type==="line"}o(j3,"isLine");function $3(e){return e.type==="virtual"}o($3,"isVirtual");d();function FCe(e,t){return x0(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(FCe,"clearLabelsIf");function z3(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(n=>z3(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>z3(r,t)),label:e.label?t(e.label):void 0}}}o(z3,"mapLabels");function x0(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(s=>{n(s)}),r==="bottomUp"&&t(i)}o(n,"_visit"),n(e)}o(x0,"visitTree");function LJ(e,t,r,n){let i=t;function s(a){i=r(a,i)}return o(s,"visitor"),x0(e,s,n),i}o(LJ,"foldTree");function LF(e,t,r){let n=o(s=>{if(r!==void 0&&r(s))return s;{let a=s.subs.map(n).filter(l=>l!==void 0);return s.subs=a,t(s)}},"rebuild"),i=n(e);return i!==void 0?i:NF()}o(LF,"rebuildTree");d();function Cot(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function i(u){let[f,m]=s(u+1,r[u]);return[PCe(r[u],u,n[u],f),m]}o(i,"parseNode");function s(u,f){let m,h=[],p=u,A;for(;p<n.length&&(n[p]===""||r[p]>f);)if(n[p]==="")A===void 0&&(A=p),p+=1;else{if(A!==void 0){for(let x=A;x<p;x++)h.push(NJ(x));A=void 0}[m,p]=i(p),h.push(m)}return A!==void 0&&(p=A),[h,p]}o(s,"parseSubs");let[a,l]=s(0,-1),c=l;for(;c<n.length&&n[c]==="";)a.push(NJ(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return NF(a)}o(Cot,"parseRaw");function ST(e,t){function r(n){if(j3(n)){let i=t.find(s=>s.matches(n.sourceLine));i&&(n.label=i.label)}}o(r,"visitor"),x0(e,r,"bottomUp")}o(ST,"labelLines");function QF(e){function t(r){if($3(r)&&r.label===void 0){let n=r.subs.filter(i=>!Vl(i));n.length===1&&(r.label=n[0].label)}}o(t,"visitor"),x0(e,t,"bottomUp")}o(QF,"labelVirtualInherited");function _T(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=o(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(_T,"buildLabelRules");function QJ(e){let r=LF(e,o(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],s;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],c=n.subs[a-1];if(l.label==="opener"&&c!==void 0&&j3(c))c.subs.push(l),l.subs.forEach(u=>c.subs.push(u)),l.subs=[];else if(l.label==="closer"&&s!==void 0&&(j3(l)||$3(l))&&l.indentation>=s.indentation){let u=i.length-1;for(;u>0&&Vl(i[u]);)u-=1;if(s.subs.push(...i.splice(u+1)),l.subs.length>0){let f=s.subs.findIndex(A=>A.label!=="newVirtual"),m=s.subs.slice(0,f),h=s.subs.slice(f),p=h.length>0?[FJ(l.indentation,h,"newVirtual")]:[];s.subs=[...m,...p,l]}else s.subs.push(l)}else i.push(l),Vl(l)||(s=l)}return n.subs=i,n},"rebuilder"));return FCe(e,n=>n==="newVirtual"),r}o(QJ,"combineClosersAndOpeners");function NCe(e,t=Vl,r){return LF(e,o(function(i){if(i.subs.length<=1)return i;let s=[],a=[],l,c=!1;function u(f=!1){if(l!==void 0&&(s.length>0||!f)){let m=FJ(l,a,r);s.push(m)}else a.forEach(m=>s.push(m))}o(u,"flushBlockIntoNewSubs");for(let f=0;f<i.subs.length;f++){let m=i.subs[f],h=t(m);!h&&c&&(u(),a=[]),c=h,a.push(m),Vl(m)||(l=l??m.indentation)}return u(!0),i.subs=s,i},"rebuilder"))}o(NCe,"groupBlocks");function Y3(e){return LF(e,o(function(r){return $3(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&$3(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}o(Y3,"flattenVirtual");var xot={opener:/^[[({]/,closer:/^[\])}]/},Eot=_T(xot),LCe={};function MJ(e,t){LCe[e]=t}o(MJ,"registerLanguageSpecificParser");function kT(e,t){let r=Cot(e),n=LCe[t??""];return n?n(r):(ST(r,Eot),QJ(r))}o(kT,"parseTree");var bot={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},vot=_T(bot);function QCe(e){let t=e;return ST(t,vot),t=QJ(t),t=Y3(t),QF(t),x0(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!Vl(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(QCe,"processJava");d();var Iot={heading:/^# /,subheading:/^## /,subsubheading:/### /},Tot=_T(Iot);function MCe(e){let t=e;if(ST(t,Tot),Vl(t))return t;function r(s){if(s.label==="heading")return 1;if(s.label==="subheading")return 2;if(s.label==="subsubheading")return 3}o(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let s of i){let a=r(s);if(a===void 0||Vl(s))n[n.length-1].subs.push(s);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(s),n[a]=s;n.length>a+1;)n.pop()}}return t=NCe(t),t=Y3(t),QF(t),t}o(MCe,"processMarkdown");d();function OCe(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(OCe,"deparseLine");MJ("markdown",MCe);MJ("java",QCe);var wot={worthUp:.9,worthSibling:.88,worthDown:.8};function OJ(e,t=wot){let r=z3(e,n=>n?1:void 0);return x0(r,n=>{if(Vl(n))return;let i=n.subs.reduce((s,a)=>Math.max(s,a.label??0),0);n.label=Math.max(n.label??0,i*t.worthUp)},"bottomUp"),x0(r,n=>{if(Vl(n))return;let i=n.subs.map(l=>l.label??0),s=[...i];for(let l=0;l<i.length;l++)i[l]!==0&&(s=s.map((c,u)=>Math.max(c,Math.pow(t.worthSibling,Math.abs(l-u))*i[l])));let a=n.label;a!==void 0&&(s=s.map(l=>Math.max(l,t.worthDown*a))),n.subs.forEach((l,c)=>l.label=s[c])},"topDown"),Sot(r)}o(OJ,"fromTreeWithFocussedLines");function Sot(e){let t=LJ(e,[],(r,n)=>((r.type==="line"||r.type==="blank")&&n.push(r.type==="line"?[OCe(r).trimEnd(),r.label??0]:["",r.label??0]),n),"topDown");return new Xt(t)}o(Sot,"fromTreeWithValuedLines");function Nu(e,t=!0,r=!0){let n=typeof e=="string"?kT(e):kT(e.source,e.languageId);Y3(n);let i=z3(n,s=>t&&s!=="closer");return x0(i,s=>{s.label===void 0&&(s.label=t&&s.label!==!1)},"topDown"),t&&x0(i,s=>{if(s.label){let a=!1;for(let l of[...s.subs].reverse())l.label&&!a?a=!0:l.label=!1}else for(let a of s.subs)a.label=!1;s.subs.length>0&&(s.label=!1)},"topDown"),r&&x0(i,s=>{s.label||=(j3(s)||Vl(s))&&s.lineNumber==0},"topDown"),OJ(i)}o(Nu,"elidableTextForSourceCode");d();d();d();d();var E1=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{o(this,"CopilotPromptLoadFailure")}};var _v=tt(ZCe()),t3e=require("fs"),r3e=require("path");var e3e=new Map;function vo(e="cl100k_base"){let t=e3e.get(e);return t!==void 0||(e==="mock"?t=new JJ:e==="approximate"?t=new XJ:t=new KJ(e),e3e.set(e,t)),t}o(vo,"getTokenizer");function Vot(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,t3e.readFileSync)(e,"utf-8"),r=new Map;for(let n of t.split(`
`)){if(!n)continue;let i=Buffer.from(n,"base64");r.set(i,r.size)}return r}o(Vot,"parseTikTokenNoIndex");var KJ=class{static{o(this,"TTokenizer")}constructor(t){try{this._tokenizer=(0,_v.createTokenizer)(Vot((0,r3e.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,_v.getSpecialTokensByEncoder)(t),(0,_v.getRegexByEncoder)(t),32768)}catch(r){throw r instanceof Error?new E1("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(-s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(-s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,s=Math.min(t.length,r*n),a=t.slice(0,s),l=this.tokenize(a);for(;l.length<r+2&&s<t.length;)s=Math.min(t.length,s+r*i),a=t.slice(0,s),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},JJ=class{constructor(){this.hash=o(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}static{o(this,"MockTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let n=this.tokenizeStrings(t).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},XJ=class{static{o(this,"ApproximateTokenizer")}tokenize(t){throw new Error("Not implemented")}detokenize(t){throw new Error("Not implemented")}tokenizeStrings(t){throw new Error("Not implemented")}tokenLength(t){return Math.ceil(t.length/4)}takeLastTokens(t,r){throw new Error("Not implemented")}takeFirstTokens(t,r){throw new Error("Not implemented")}takeLastLinesTokens(t,r){throw new Error("Not implemented")}};var RT=class e{constructor(t,r,n,i="strict",s){this.text=t;this._value=r;this._cost=n;this.metadata=s;if(t.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}static{o(this,"LineWithValueAndCost")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>vo().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new e(this.text,this.value,this.cost,"none",this.metadata)}};var Xt=class e{constructor(t,r,n=vo()){this.metadata=r;this.tokenizer=n;this.lines=[];let i=[];for(let s of t){let a=Array.isArray(s)?s[1]:1,l=Array.isArray(s)?s[0]:s;typeof l=="string"?l.split(`
`).forEach(c=>i.push(new RT(c,a,n.tokenLength(c+`
`),"strict",this.metadata))):l instanceof e?l.lines.forEach(c=>i.push(c.copy().adjustValue(a))):"source"in l&&"languageId"in l&&Nu(l).lines.forEach(c=>i.push(c.copy().adjustValue(a)))}this.lines=i}static{o(this,"ElidableText")}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>vo().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}elide(t,r="[...]",n=!0,i="removeLeastDesirable"){let s=this.lines.map(a=>a.copy());return jot(s,t,r,n,i,this.tokenizer)}};function jot(e,t,r,n,i,s){if(s.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");i==="removeLeastBangForBuck"&&e.forEach(m=>m.adjustValue(1/m.cost));let a=e.reduce((m,h)=>Math.max(m,h.value),0)+1,l=e.reduce((m,h)=>Math.max(m,h.text.length),0)+1,c=r.trim(),u=e.reduce((m,h)=>m+h.cost,0),f=e.length+1;for(;u>t&&f-->=-1;){let m=e.reduce((b,S)=>S.value<b.value?S:b),h=e.indexOf(m),p=e.slice(0,h+1).reverse().find(b=>b.text.trim()!=="")??{text:""},A=n?Math.min(p.text.match(/^\s*/)?.[0].length??0,e[h-1]?.text.trim()===c?e[h-1]?.text.match(/^\s*/)?.[0].length??0:l,e[h+1]?.text.trim()===c?e[h+1]?.text.match(/^\s*/)?.[0].length??0:l):0,x=" ".repeat(A)+r,E=new RT(x,a,s.tokenLength(x+`
`),"loose",m.metadata);e.splice(h,1,E),e[h+1]?.text.trim()===c&&e.splice(h+1,1),e[h-1]?.text.trim()===c&&e.splice(h-1,1);let v=e.reduce((b,S)=>b+S.cost,0);v>=u&&e.every(b=>b.value===a)&&(n=!1),u=v}if(f<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return{getText:o(()=>e.map(m=>m.text).join(`
`),"getText"),getLines:o(()=>e,"getLines")}}o(jot,"elide");d();d();function Dm(){}o(Dm,"Diff");Dm.prototype={diff:o(function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=i.callback;typeof i=="function"&&(s=i,i={});var a=this;function l(B){return B=a.postProcess(B,i),s?(setTimeout(function(){s(B)},0),!0):B}o(l,"done"),t=this.castInput(t,i),r=this.castInput(r,i),t=this.removeEmpty(this.tokenize(t,i)),r=this.removeEmpty(this.tokenize(r,i));var c=r.length,u=t.length,f=1,m=c+u;i.maxEditLength!=null&&(m=Math.min(m,i.maxEditLength));var h=(n=i.timeout)!==null&&n!==void 0?n:1/0,p=Date.now()+h,A=[{oldPos:-1,lastComponent:void 0}],x=this.extractCommon(A[0],r,t,0,i);if(A[0].oldPos+1>=u&&x+1>=c)return l(n3e(a,A[0].lastComponent,r,t,a.useLongestToken));var E=-1/0,v=1/0;function b(){for(var B=Math.max(E,-f);B<=Math.min(v,f);B+=2){var D=void 0,F=A[B-1],W=A[B+1];F&&(A[B-1]=void 0);var ee=!1;if(W){var de=W.oldPos-B;ee=W&&0<=de&&de<c}var X=F&&F.oldPos+1<u;if(!ee&&!X){A[B]=void 0;continue}if(!X||ee&&F.oldPos<W.oldPos?D=a.addToPath(W,!0,!1,0,i):D=a.addToPath(F,!1,!0,1,i),x=a.extractCommon(D,r,t,B,i),D.oldPos+1>=u&&x+1>=c)return l(n3e(a,D.lastComponent,r,t,a.useLongestToken));A[B]=D,D.oldPos+1>=u&&(v=Math.min(v,B-1)),x+1>=c&&(E=Math.max(E,B+1))}f++}if(o(b,"execEditLength"),s)o(function B(){setTimeout(function(){if(f>m||Date.now()>p)return s();b()||B()},0)},"exec")();else for(;f<=m&&Date.now()<=p;){var S=b();if(S)return S}},"diff"),addToPath:o(function(t,r,n,i,s){var a=t.lastComponent;return a&&!s.oneChangePerToken&&a.added===r&&a.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:a.count+1,added:r,removed:n,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:a}}},"addToPath"),extractCommon:o(function(t,r,n,i,s){for(var a=r.length,l=n.length,c=t.oldPos,u=c-i,f=0;u+1<a&&c+1<l&&this.equals(n[c+1],r[u+1],s);)u++,c++,f++,s.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return f&&!s.oneChangePerToken&&(t.lastComponent={count:f,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=c,u},"extractCommon"),equals:o(function(t,r,n){return n.comparator?n.comparator(t,r):t===r||n.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:o(function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},"removeEmpty"),castInput:o(function(t){return t},"castInput"),tokenize:o(function(t){return Array.from(t)},"tokenize"),join:o(function(t){return t.join("")},"join"),postProcess:o(function(t){return t},"postProcess")};function n3e(e,t,r,n,i){for(var s=[],a;t;)s.push(t),a=t.previousComponent,delete t.previousComponent,t=a;s.reverse();for(var l=0,c=s.length,u=0,f=0;l<c;l++){var m=s[l];if(m.removed)m.value=e.join(n.slice(f,f+m.count)),f+=m.count;else{if(!m.added&&i){var h=r.slice(u,u+m.count);h=h.map(function(p,A){var x=n[f+A];return x.length>p.length?x:p}),m.value=e.join(h)}else m.value=e.join(r.slice(u,u+m.count));u+=m.count,m.added||(f+=m.count)}}return s}o(n3e,"buildValues");var Ehr=new Dm;function i3e(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}o(i3e,"longestCommonPrefix");function o3e(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}o(o3e,"longestCommonSuffix");function ZJ(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}o(ZJ,"replacePrefix");function eX(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}o(eX,"replaceSuffix");function DT(e,t){return ZJ(e,t,"")}o(DT,"removePrefix");function HF(e,t){return eX(e,t,"")}o(HF,"removeSuffix");function s3e(e,t){return t.slice(0,$ot(e,t))}o(s3e,"maximumOverlap");function $ot(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var n=t.length;e.length<t.length&&(n=e.length);var i=Array(n),s=0;i[0]=0;for(var a=1;a<n;a++){for(t[a]==t[s]?i[a]=i[s]:i[a]=s;s>0&&t[a]!=t[s];)s=i[s];t[a]==t[s]&&s++}s=0;for(var l=r;l<e.length;l++){for(;s>0&&e[l]!=t[s];)s=i[s];e[l]==t[s]&&s++}return s}o($ot,"overlapCount");var VF="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",zot=new RegExp("[".concat(VF,"]+|\\s+|[^").concat(VF,"]"),"ug"),jF=new Dm;jF.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};jF.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(s){return s.segment})}else r=e.match(zot)||[];var n=[],i=null;return r.forEach(function(s){/\s/.test(s)?i==null?n.push(s):n.push(n.pop()+s):/\s/.test(i)?n[n.length-1]==i?n.push(n.pop()+s):n.push(i+s):n.push(s),i=s}),n};jF.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};jF.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,n=null,i=null;return e.forEach(function(s){s.added?n=s:s.removed?i=s:((n||i)&&a3e(r,i,n,s),r=s,n=null,i=null)}),(n||i)&&a3e(r,i,n,null),e};function a3e(e,t,r,n){if(t&&r){var i=t.value.match(/^\s*/)[0],s=t.value.match(/\s*$/)[0],a=r.value.match(/^\s*/)[0],l=r.value.match(/\s*$/)[0];if(e){var c=i3e(i,a);e.value=eX(e.value,a,c),t.value=DT(t.value,c),r.value=DT(r.value,c)}if(n){var u=o3e(s,l);n.value=ZJ(n.value,l,u),t.value=HF(t.value,u),r.value=HF(r.value,u)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),n&&(n.value=n.value.replace(/^\s*/,""));else if(e&&n){var f=n.value.match(/^\s*/)[0],m=t.value.match(/^\s*/)[0],h=t.value.match(/\s*$/)[0],p=i3e(f,m);t.value=DT(t.value,p);var A=o3e(DT(f,p),h);t.value=HF(t.value,A),n.value=ZJ(n.value,f,A),e.value=eX(e.value,f,f.slice(0,f.length-A.length))}else if(n){var x=n.value.match(/^\s*/)[0],E=t.value.match(/\s*$/)[0],v=s3e(E,x);t.value=HF(t.value,v)}else if(e){var b=e.value.match(/\s*$/)[0],S=t.value.match(/^\s*/)[0],B=s3e(b,S);t.value=DT(t.value,B)}}o(a3e,"dedupeWhitespaceInChangeObjects");var Yot=new Dm;Yot.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(VF,"]+|[^\\S\\n\\r]+|[^").concat(VF,"]"),"ug");return e.match(t)||[]};var iX=new Dm;iX.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var s=n[i];i%2&&!t.newlineIsToken?r[r.length-1]+=s:r.push(s)}return r};iX.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),Dm.prototype.equals.call(this,e,t,r)};var Kot=new Dm;Kot.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Jot=new Dm;Jot.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function tX(e){"@babel/helpers - typeof";return tX=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tX(e)}o(tX,"_typeof");var PT=new Dm;PT.useLongestToken=!0;PT.tokenize=iX.tokenize;PT.castInput=function(e,t){var r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(s,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(rX(e,null,null,i),i,"  ")};PT.equals=function(e,t,r){return Dm.prototype.equals.call(PT,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function rX(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var s;for(s=0;s<t.length;s+=1)if(t[s]===e)return r[s];var a;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),s=0;s<e.length;s+=1)a[s]=rX(e[s],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),tX(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var l=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&l.push(c);for(l.sort(),s=0;s<l.length;s+=1)c=l[s],a[c]=rX(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}o(rX,"canonicalize");var nX=new Dm;nX.tokenize=function(e){return e.slice()};nX.join=nX.removeEmpty=function(e){return e};d();var T5={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},oX={};for(let[e,t]of Object.entries(T5))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)oX[r]=e;else oX[e]=e;function u3e(e){return oX[e]}o(u3e,"mdCodeBlockLangToLanguageId");var f3e={start:"//",end:""},Zot=["php","plaintext"],l3e={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function est({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o(est,"hasLanguageMarker");function $F(e,t){let r=T5[t]?T5[t].lineComment:f3e;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${e}${n}`}return""}o($F,"comment");function tst(e,t){let r=T5[t]?T5[t].lineComment:f3e;if(!r)return e;let n=e,i=`${r.start} `;if(n.startsWith(i)&&(n=n.substring(i.length)),r.end&&r.end!==""){let s=` ${r.end}`;n.endsWith(s)&&(n=n.substring(0,n.length-s.length))}return n}o(tst,"uncomment");function d3e(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>tst(s,t)).join(`
`);return r?i+`
`:i}o(d3e,"uncommentBlockAsSingles");function Hs(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(s=>$F(s,t)).join(`
`);return r?i+`
`:i}o(Hs,"commentBlockAsSingles");function zF(e){let{languageId:t}=e;return Zot.indexOf(t)===-1&&!est(e)?t in l3e?l3e[t]:$F(`Language: ${t}`,t):""}o(zF,"getLanguageMarker");function YF(e){return e.relativePath?$F(`Path: ${e.relativePath}`,e.languageId):""}o(YF,"getPathMarker");function jl(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(jl,"newLineEnded");function m3e(e){return c3e(typeof e=="string"?e:"plaintext")}o(m3e,"getLanguage");function c3e(e){return T5[e]!==void 0?{languageId:e,...T5[e]}:{languageId:e,lineComment:{start:"//",end:""}}}o(c3e,"_getLanguage");d();d();d();d();d();d();d();d();var rst={tokenizerName:"cl100k_base"};function nst(e){return{...rst,...e}}o(nst,"cursorContextOptions");function kv(e,t={}){let r=nst(t),n=vo(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}o(kv,"getCursorContext");d();var sX=class{constructor(t){this.keys=[];this.cache={};this.size=t}static{o(this,"FifoCache")}put(t,r){if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let n=this.keys.shift()??"";delete this.cache[n]}}get(t){return this.cache[t]}};var aX=class{static{o(this,"Tokenizer")}constructor(t){this.stopsForLanguage=ast.get(t.languageId)??sst}tokenize(t){return new Set(ist(t).filter(r=>!this.stopsForLanguage.has(r)))}},h3e=new sX(20),Bv=class{static{o(this,"WindowedMatcher")}constructor(t){this.referenceDoc=t,this.tokenizer=new aX(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){let n=[];if(t.source.length===0||(await this.referenceTokens).size===0)return n;let i=t.source.split(`
`),s=this.id()+":"+t.source,a=h3e.get(s)??[],l=a.length==0,c=l?i.map(u=>this.tokenizer.tokenize(u),this.tokenizer):[];for(let[u,[f,m]]of this.getWindowsDelineations(i).entries()){if(l){let A=new Set;c.slice(f,m).forEach(x=>x.forEach(E=>A.add(E),A)),a.push(A)}let h=a[u],p=this.similarityScore(h,await this.referenceTokens);if(n.length&&f>0&&n[n.length-1].endLine>f){n[n.length-1].score<p&&(n[n.length-1].score=p,n[n.length-1].startLine=f,n[n.length-1].endLine=m);continue}n.push({score:p,startLine:f,endLine:m})}return l&&h3e.put(s,a),this.sortScoredSnippets(n,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let n=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let s=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let l=n.slice(i[a].startLine,i[a].endLine).join(`
`);s.push({snippet:l,semantics:"snippet",provider:"similar-files",...i[a]})}return s}};function ist(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(ist,"splitIntoWords");var ost=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),sst=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...ost]),ast=new Map([]);d();function JF(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}o(JF,"getBasicWindowDelineations");var XF=class e extends Bv{static{o(this,"FixedWindowSizeJaccardMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return JF(this.windowLength,t)}_getCursorContextInfo(t){return kv(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return lst(t,r)}};function lst(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(lst,"computeScore");d();d();var g3e=require("fs"),ZF=tt(require("path")),eN=tt(p3e());var cX={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function Lu(e){return e in cX&&e!=="csharp"&&e!=="java"}o(Lu,"isSupportedLanguageId");function tN(e){if(!(e in cX))throw new Error(`Unrecognized language: ${e}`);return cX[e]}o(tN,"languageIdToWasmLanguage");var lX=new Map;async function cst(e){let t,r=ZF.default.resolve(ZF.default.extname(__filename)!==".ts"?__dirname:ZF.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await g3e.promises.readFile(r)}catch(n){throw n instanceof Error&&"code"in n&&typeof n.code=="string"&&n.name==="Error"?new E1(`Could not load tree-sitter-${e}.wasm`,n):n}return eN.default.Language.load(t)}o(cst,"loadWasmLanguage");function ust(e){let t=tN(e);if(!lX.has(t)){let r=cst(t);lX.set(t,r)}return lX.get(t)}o(ust,"getLanguage");var uX=class extends Error{static{o(this,"WrappedError")}constructor(t,r){super(t,{cause:r})}};async function b1(e,t){await eN.default.init();let r;try{r=new eN.default}catch(s){throw s&&typeof s=="object"&&"message"in s&&typeof s.message=="string"&&s.message.includes("table index is out of bounds")?new uX(`Could not init Parse for language <${e}>`,s):s}let n=await ust(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}o(b1,"parseTreeSitter");function A3e(e){switch(tN(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":return"}";case"ruby":return"end"}}o(A3e,"getBlockCloseToken");function fst(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}o(fst,"innerQuery");var dst=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function y3e(e){return fst([dst],e).length==1}o(y3e,"queryPythonIsDocstring");var rN=class e extends Bv{static{o(this,"BlockTokenSubsetMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=o(t=>({to:o(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return JF(this.windowLength,t)}_getCursorContextInfo(t){return kv(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=e.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let t=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=t?this.referenceDoc.source.slice(t,r):kv(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return mst(t,r)}async getEnclosingMemberStart(t,r){let n;try{n=await b1(this.referenceDoc.languageId,t);let i=n.rootNode.namedDescendantForIndex(r);for(;i&&!(e.isMember(i)||e.isBlock(i));)i=i.parent??void 0;return i}finally{n?.delete()}}static isMember(t){switch(t?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function mst(e,t){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size}o(mst,"computeScore");var hst=0,pst=60,gst=4,Ast=1,yst=20,Cst=1e4,nN={snippetLength:pst,threshold:hst,maxTopSnippets:gst,maxCharPerFile:Cst,maxNumberOfFiles:yst,maxSnippetsPerFile:Ast,useSubsetMatching:!1};var Dv={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function xst(e,t){return(t.useSubsetMatching?rN.FACTORY(t.snippetLength):XF.FACTORY(t.snippetLength)).to(e)}o(xst,"getMatcher");async function iN(e,t,r){let n=xst(e,r);return r.maxTopSnippets===0?[]:(await t.filter(s=>s.source.length<r.maxCharPerFile&&s.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(s,a)=>(await s).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(l=>({relativePath:a.relativePath,...l}))),Promise.resolve([]))).filter(s=>s.score&&s.snippet&&s.score>r.threshold).sort((s,a)=>s.score-a.score).slice(-r.maxTopSnippets)}o(iN,"getSimilarSnippets");d();d();function C3e(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let n=t.text.split(`
`);for(let E=0;E<n.length-1;E++)n[E]+=`
`;let i=[];n.forEach((E,v)=>{E===`
`&&i.length>0&&!i[i.length-1].endsWith(`

`)?i[i.length-1]+=`
`:i.push(E)});let s=i.map(E=>e.tokenLength(E)),a=1,l=0;for(;a<=s.length;a++){let E=s.at(-a);if(E){if(E+l>r){a--;break}l+=E}}let u=i.slice(-a).join(""),f=e.tokenLength(u),h=i.slice(0,-a).join(""),p=e.tokenLength(h),A={id:t.id,kind:t.kind,text:u,tokens:f,score:t.score},x={id:t.id,kind:t.kind,text:h,tokens:p,score:t.score};return{summarizedElement:A,removedMaterial:x}}o(C3e,"truncateFirstLinesFirst");var oN=class{static{o(this,"SnippetTextProcessor")}constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",C3e]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,n){return this.kindToFunctionMap.get(r.kind)(t,r,n)}};d();var bst=/(\.|->|::)\w+$/;function x3e(e,t){let r=`Use ${e}`;return Hs(r,t)}o(x3e,"announceTooltipSignatureSnippet");function E3e(e){let t=e.source.substring(0,e.offset);return bst.test(t)}o(E3e,"endsWithAttributesOrMethod");function b3e(e,t){let r=e.lastIndexOf(`
`)+1,n=e.substring(0,r),i=e.substring(r);return t.snippet=t.snippet+i,[n,t]}o(b3e,"transferLastLineToTooltipSignature");var v3e={text:"",tokens:[]};var NT=500,Pv=8192-NT,fX=4,vst=150,LT=10,sN=15;var FT=class{constructor(t,r){this.maxPromptLength=Pv;this.lineEnding="unix";this.tokenizerName="cl100k_base";this.suffixPercent=15;this.suffixMatchThreshold=LT;this.promptOrderListPreset="default";this.promptPriorityPreset="default";this.snippetTextProcessingPreset="default";if(Object.assign(this,t),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`);r==="cpp"?(this.similarFilesOptions??=Dv,this.numberOfSnippets??=Dv.maxTopSnippets):(this.similarFilesOptions??=nN,this.numberOfSnippets??=fX)}static{o(this,"PromptOptions")}},Ist={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function Da(e){return e=e.toLowerCase(),Ist[e]??e}o(Da,"normalizeLanguageId");async function I3e(e,t={},r=[]){let n=new FT(t,e.languageId),i=vo(n.tokenizerName),s=new oN(n.snippetTextProcessingPreset),a=new QT(n.promptOrderListPreset),l=new aN(n.promptPriorityPreset),{source:c,offset:u}=e;if(u<0||u>c.length)throw new Error(`Offset ${u} is out of range.`);e.languageId=Da(e.languageId);let f=new cN(i,n.lineEnding,a,s,l),m=r.find(B=>B.provider==="path"),h=r.find(B=>B.provider==="language"),p=r.find(B=>B.provider==="trait"),A=r.find(B=>B.provider==="tooltip-signature");m!==void 0&&m.snippet.length>0?(f.append(m.snippet,"PathMarker"),h&&f.extMarkUnused({text:h.snippet,kind:"LanguageMarker",tokens:i.tokenLength(h.snippet),id:NaN,score:NaN})):h&&f.append(h.snippet,"LanguageMarker"),p!=null&&f.append(p.snippet,"Traits"),r=r.filter(B=>B.provider!=="language"&&B.provider!=="path"&&B.provider!=="tooltip-signature"&&B.provider!=="trait");function x(){T3e(r,e.languageId,i,l,n.numberOfSnippets).forEach(D=>{let F=lN(D.provider);f.append(D.announcedSnippet,F,D.tokens,D.score)})}o(x,"addSnippetsNow"),x();let E=c.substring(0,u);A!==void 0&&i.tokenLength(A.snippet)<=vst?([E,A]=b3e(E,A),f.append(A.snippet,"TooltipSignature")):A!==void 0&&f.extMarkUnused({text:A.snippet,kind:"TooltipSignature",tokens:i.tokenLength(A.snippet),id:NaN,score:NaN}),f.append(E,"BeforeCursor");let v=c.slice(u),{promptInfo:b,newCachedSuffix:S}=f.fulfill(v,n,v3e);return v3e=S,b}o(I3e,"getPrompt");d();function uN(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[i][n]=Math.min((i==0?n:r[i-1][n])+1,(n==0?i:r[i][n-1])+1,(i==0||n==0?Math.max(i,n):r[i-1][n-1])+(e[i]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(uN,"findEditDistanceScore");var w5=50,dX=5,Fv=class{constructor(){this.used=new Map;this.unused=new Map}static{o(this,"PromptBackground")}add(t){for(let[r,n]of t.used)this.used.set(r,n);for(let[r,n]of t.unused)this.unused.set(r,n)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="TooltipSignature"}},Nv=class{constructor(){this.used=new Map;this.unused=new Map;this.usedCounts=new Map;this.unusedCounts=new Map}static{o(this,"PromptChoices")}toJSON(){return{used:Object.fromEntries(this.used),unused:Object.fromEntries(this.unused),usedCounts:Object.fromEntries(this.usedCounts),unusedCounts:Object.fromEntries(this.unusedCounts)}}add(t){for(let[r,n]of t.used)this.used.set(r,(this.used.get(r)||0)+n);for(let[r,n]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+n);for(let[r,n]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+n);for(let[r,n]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+n)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}},QT=class{static{o(this,"PromptOrderList")}constructor(t="default"){this._rankedList=["LanguageMarker","PathMarker","Traits","CodeSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,n)=>{let i=this._rankedList.indexOf(r.kind),s=this._rankedList.indexOf(n.kind);if(i===-1||s===-1)throw new Error(`Invalid element kind: ${r.kind} or ${n.kind}, not found in prompt element ordering list`);return i===s?r.id-n.id:i-s})}},aN=class extends QT{static{o(this,"PromptPriorityList")}constructor(t="default"){switch(super(),t){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","LanguageMarker","Traits"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","PathMarker","LanguageMarker","Traits"]}}sortElements(t){return t.sort((r,n)=>{let i=this._rankedList.indexOf(r.kind),s=this._rankedList.indexOf(n.kind);if(i===-1||s===-1)throw new Error(`Invalid element kind: ${r.kind} or ${n.kind}, not found in snippet provider priority list`);return i===s?n.id-r.id:i-s})}};function lN(e){switch(e){case"similar-files":return"SimilarFile";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";case"trait":return"Traits";case"code":return"CodeSnippet";default:throw new Error(`Unknown snippet provider type ${e}`)}}o(lN,"kindForSnippetProviderType");var fN=class{constructor(t){this.ranges=new Array;let r=0,n;for(let i of t)i.text.length!==0&&(n==="BeforeCursor"&&i.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=i.text.length:this.ranges.push({kind:i.kind,start:r,end:r+i.text.length}),n=i.kind,r+=i.text.length)}static{o(this,"PromptElementRanges")}},cN=class{constructor(t,r,n,i,s){this.tokenizer=t;this.lineEndingOption=r;this.orderingList=n;this.snippetTextProcessor=i;this.priorityList=s;this.content=[];this.basePromptBackground=new Fv;this.baseTallyOfChoices=new Nv}static{o(this,"PromptWishlist")}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n?/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,n=this.tokenizer.tokenLength(t),i=NaN){t=this.convertLineEndings(t);let s=this.content.length;return this.content.push({id:s,text:t,kind:r,tokens:n,score:i}),s}fulfillPrefix(t){let r=new Fv;r.add(this.basePromptBackground);let n=new Nv;n.add(this.baseTallyOfChoices);function i(A){r.markUsed(A),n.markUsed(A)}o(i,"markUsed");function s(A){r.undoMarkUsed(A),n.undoMarkUsed(A)}o(s,"undoMarkUsed");function a(A){r.markUnused(A),n.markUnused(A)}o(a,"markUnused"),this.priorityList.sortElements(this.content);let l,c=[],u=t;this.content.forEach(A=>{if(u>0||l===void 0){let x=A.tokens;if(u>=x)u-=x,i(A),c.push(A);else if(A.kind==="BeforeCursor"&&u>0){let{summarizedElement:E,removedMaterial:v}=this.snippetTextProcessor.summarize(this.tokenizer,A,u);A=E,x=A.tokens,u-=x,A.text.length>0&&i(A),v.text.length>0&&a(v),c.push(A)}else l===void 0?l=A:a(A)}else a(A)}),this.orderingList.sortElements(c);let f=c.reduce((A,x)=>A+x.text,""),m=this.tokenizer.tokenLength(f);for(;m>t;){this.priorityList.sortElements(c);let A=c.pop();A&&(s(A),a(A),l!==void 0&&a(l),l=void 0),this.orderingList.sortElements(c),f=c.reduce((x,E)=>x+E.text,""),m=this.tokenizer.tokenLength(f)}let h=[...c];if(l!==void 0){h.push(l),this.orderingList.sortElements(h);let A=h.reduce((E,v)=>E+v.text,""),x=this.tokenizer.tokenLength(A);if(x<=t){i(l);let E=new fN(h);return{prefix:A,suffix:"",prefixLength:x,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:E}}else a(l)}let p=new fN(c);return{prefix:f,suffix:"",prefixLength:m,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:p}}fulfill(t,r,n){if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:n};let i=r.maxPromptLength-dX,s=Math.floor(i*(100-r.suffixPercent)/100),a=i-s,l=t.replace(/^.*/,"").trimStart();if(i>w5&&a<w5)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${a} < ${w5}
`);let c=this.tokenizer.takeFirstTokens(l,w5),u=!1;c.tokens.length>0&&r.suffixMatchThreshold>0&&100*uN(c.tokens,n.tokens.slice(0,w5))?.score<r.suffixMatchThreshold*c.tokens.length&&(u=!0);let f;if(u)s=i-n.tokens.length,f=n;else{let h=this.maxPrefixTokenLength(),p=this.tokenizer.tokenLength(l);h<s?(s=h,a=i-s):p<a&&(s=i-p,a=p),f=this.tokenizer.takeFirstTokens(l,a)}let m=this.fulfillPrefix(s);return m.suffix=f.text,m.suffixLength=f.tokens.length,{promptInfo:m,newCachedSuffix:f}}};var Tst={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function mX(e,t){let r=Tst[e.semantics],n=["snippets"].includes(e.semantics)?"these":"this",s=(e.relativePath?`Compare ${n} ${r} from ${e.relativePath}:`:`Compare ${n} ${r}:`)+`
`+e.snippet;return s.endsWith(`
`)||(s+=`
`),Hs(s,t)}o(mX,"announceSnippet");function w3e(e){e.sort((t,r)=>r.score-t.score)}o(w3e,"sortSnippetsDescending");function wst(e,t,r){if(t==0)return[];let n=e.map(s=>({...s,kind:lN(s.provider)})),i=[];return r.rankedList.forEach(s=>{let a=n.filter(({kind:l})=>l===s);w3e(a),i.push(...a)}),i.slice(0,t)}o(wst,"selectSnippets");function T3e(e,t,r,n,i){let a=wst(e,i,n).map(l=>{let c=mX(l,t),u=r.tokenLength(c);return{announcedSnippet:c,provider:l.provider,score:l.score,tokens:u,relativePath:l.relativePath}}).filter(l=>l.tokens>0);return w3e(a),a.reverse(),a}o(T3e,"processSnippetsForWishlist");d();var v1=class extends Error{static{o(this,"ProviderTimeoutError")}constructor(t){super(t),this.name="ProviderTimeoutError"}},Fc=class{static{o(this,"SnippetProvider")}constructor(t){this.api=t}getSnippets(t,r){return new Promise((n,i)=>{r.aborted&&i(new K3(this.type,new v1("provider aborted"))),r.addEventListener("abort",()=>{i(new K3(this.type,new v1(`max runtime exceeded: ${hX} ms`)))},{once:!0});let s=performance.now();this.buildSnippets(t).then(a=>{let l=performance.now();n({snippets:a,providerType:this.type,runtime:l-s})}).catch(a=>{i(new K3(this.type,a))})})}};var dN=class extends Fc{constructor(){super(...arguments);this.type="code"}static{o(this,"CodeSnippetProvider")}async buildSnippets(r){if(r.codeSnippets===void 0||r.codeSnippets.length===0)return[];let{codeSnippets:n}=r,i=new Map;for(let a of n){let l=a.relativePath??a.snippet.uri,c=i.get(l);c===void 0&&(c=[],i.set(l,c)),c.push(a)}let s=[];return i.forEach((a,l)=>{let c=a.map(u=>u.snippet.value).join(`
---
`);s.push({provider:this.type,semantics:a.length>1?"snippets":"snippet",snippet:jl(c),relativePath:l,startLine:0,endLine:0,score:Math.max(...a.map(u=>u.snippet.importance??0))})}),s}};d();var mN=class extends Fc{constructor(){super(...arguments);this.type="language"}static{o(this,"LanguageSnippetProvider")}async buildSnippets(r){let{currentFile:n}=r;return n.languageId=Da(n.languageId),[{provider:this.type,semantics:"snippet",snippet:jl(zF(n)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var hN=class extends Fc{constructor(){super(...arguments);this.type="path"}static{o(this,"PathSnippetProvider")}async buildSnippets(r){let{currentFile:n}=r;return n.languageId=Da(n.languageId),[{provider:this.type,semantics:"snippet",snippet:jl(YF(n)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var pN=class extends Fc{constructor(){super(...arguments);this.type="similar-files"}static{o(this,"SimilarFilesProvider")}async buildSnippets(r){let{currentFile:n,similarFiles:i,options:s}=r;return s&&i&&i.length?await this.api.getSimilarSnippets(n,i,s.similarFilesOptions):[]}};d();var gN=class extends Fc{constructor(){super(...arguments);this.type="tooltip-signature"}static{o(this,"TooltipSignatureSnippetProvider")}async buildSnippets(r){let{currentFile:n,tooltipSignature:i}=r,s=[];return n.languageId=Da(n.languageId),i&&E3e(n)&&s.push({provider:this.type,semantics:"snippet",snippet:jl(x3e(i,n.languageId)),relativePath:n.relativePath,startLine:0,endLine:0,score:0}),s}};d();var AN=class extends Fc{constructor(){super(...arguments);this.type="trait"}static{o(this,"TraitProvider")}async buildSnippets(r){if(r.traits.length===0)return[];let{currentFile:n}=r;return n.languageId=Da(n.languageId),[{provider:this.type,semantics:"snippet",snippet:Hs(`Consider this related information:
`+r.traits.map(i=>i.kind==="string"?jl(i.value):jl(`${i.name}: ${i.value}`)).join(""),n.languageId),relativePath:n.relativePath,startLine:0,endLine:0,score:0}]}};d();var yN=tt(require("path")),pp=require("worker_threads");function Sst(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}o(Sst,"sleep");var S3e=["getSimilarSnippets","sleep"],pX=class{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=iN;this.sleep=Sst;!pp.isMainThread&&pp.workerData?.port&&(O$(),process.cwd=()=>pp.workerData.cwd,this.configureWorkerResponse(pp.workerData.port))}static{o(this,"WorkerProxy")}initWorker(){let{port1:t,port2:r}=new pp.MessageChannel;this.port=t,this.worker=new pp.Worker(yN.default.resolve(yN.default.extname(__filename)!==".ts"?__dirname:yN.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",n=>this.handleMessage(n)),this.port.on("error",n=>this.handleError(n))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of S3e)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of S3e){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",r=>void this.onMessage(r))}async onMessage({id:t,fn:r,args:n}){let i=this[r];if(!i)throw new Error(`Function not found: ${r}`);try{let s=await i.apply(this,n);this.port.postMessage({id:t,res:s})}catch(s){if(!(s instanceof Error))throw s;typeof s.code=="string"?this.port.postMessage({id:t,err:s,code:s.code}):this.port.postMessage({id:t,err:s})}}handleMessage({id:t,err:r,code:n,res:i}){let s=this.handlers.get(t);s&&(this.handlers.delete(t),r?(r.code=n,s.reject(r)):s.resolve(i))}handleError(t){let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&r.message?.endsWith("workerProxy.js'")&&(r=new E1("Failed to load workerProxy.js"));let n=new Error().stack;r.stack&&n?.match(/^Error\n/)&&(r.stack+=n.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let n of this.handlers.values())n.reject(r);throw r}proxy(t){this[t]=function(...r){let n=this.nextHandlerId++;return new Promise((i,s)=>{this.handlers.set(n,{resolve:i,reject:s}),this.port?.postMessage({id:n,fn:t,args:r})})}}},CN=new pX;var hX=300,_st=[mN,hN,pN,gN,AN,dN],K3=class extends Error{constructor(r,n){super();this.providerType=r;this.error=n}static{o(this,"ProviderError")}};function _3e(e){return e.status==="fulfilled"}o(_3e,"isFulfilledResult");function kst(e){return e.status==="rejected"}o(kst,"isRejectedResult");function gX(e){return e.filter(_3e).flatMap(t=>t.value.snippets)}o(gX,"providersSnippets");function AX(e){return e.filter(kst).flatMap(t=>t.reason)}o(AX,"providersErrors");function yX(e){let t={},r={};return e.forEach(n=>{_3e(n)?(t[n.value.providerType]=Math.round(n.value.runtime),r[n.value.providerType]=!1):Bst(n.reason)&&(r[n.reason.providerType]=!0,t[n.reason.providerType]=0)}),{runtimes:t,timeouts:r}}o(yX,"providersPerformance");function Bst(e){return e!==null&&typeof e=="object"&&"error"in e&&e.error instanceof v1}o(Bst,"isProviderTimeout");var Pm=class{constructor(t=_st){this.startThreading=o(()=>CN.startThreading(),"startThreading");this.stopThreading=o(()=>CN.stopThreading(),"stopThreading");this.providers=t.map(r=>new r(CN))}static{o(this,"SnippetOrchestrator")}async getSnippets(t){let r=AbortSignal.timeout(hX),n=this.providers.map(i=>i.getSnippets(t,r));return Promise.allSettled?Promise.allSettled(n):Rst(n)}};function Rst(e){return Promise.all(e.map(t=>t.then(Dst,Pst)))}o(Rst,"allSettledBackup");function Dst(e){return{status:"fulfilled",value:e}}o(Dst,"createPromiseFulfilledResult");function Pst(e){return{status:"rejected",reason:e}}o(Pst,"createPromiseRejectedResult");d();var xN=class{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{o(this,"BaseBlockParser")}async getNodeMatchAtPosition(t,r,n){let i=await b1(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((c==""?a.namedChildren[0]:a.childForFieldName(c))?.type==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let s=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(s){if(this.languageId=="python"&&s.parent){let a=s.parent.type==":"?s.parent.parent:s.parent,l=a?.nextSibling;for(;l&&l.type=="comment";){let c=l.startPosition.row==s.endPosition.row&&l.startPosition.column>=s.endPosition.column,u=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(c||u)s=l,l=l.nextSibling;else break}}if(!(s.endIndex>=s.tree.rootNode.endIndex-1&&(s.hasError()||s.parent.hasError())))return n(s)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),s=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(s!==void 0&&s<i.length){let a=s-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}},EN=class extends xN{constructor(r,n,i,s,a){super(r,s,a);this.blockEmptyMatch=n;this.lineMatch=i}static{o(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,s=>{s.startIndex<n&&(n=s.startIndex);let a=r.substring(n,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=B3e(r,n),this.isBlockStart(Fst(r,n))&&this.isBlockBodyEmpty(r,n)}};function Fst(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(Fst,"getLineAtOffset");function B3e(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(B3e,"rewindToNearestNonWs");function k3e(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}o(k3e,"indent");function Nst(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=k3e(e,r),i=k3e(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}o(Nst,"outdented");var S5=class extends xN{constructor(r,n,i,s,a,l,c){super(r,n,i);this.startKeywords=s;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=c}static{o(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&y3e(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let s=n;s<r.length&&r.charAt(s)!=`
`;s++)if(/\S/.test(r.charAt(s)))return!1;n=B3e(r,n);let i=await b1(this.languageId,r);try{let s=i.rootNode.descendantForIndex(n-1);if(s==null||this.curlyBraceLanguage&&s.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&s.parent&&s.parent.type=="object"&&s.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let f=s;for(;f.parent;){if(f.type=="function_signature"||f.type=="method_signature"){let m=s.nextSibling;return m&&f.hasError()&&Nst(f,m,r)?!0:!f.children.find(p=>p.type==";")&&f.endIndex<=n}f=f.parent}}let a=null,l=null,c=null,u=s;for(;u!=null;){if(u.type==this.blockNodeType){l=u;break}if(this.nodeMatch[u.type]){c=u;break}if(u.type=="ERROR"){a=u;break}u=u.parent}if(l!=null){if(!l.parent||!this.nodeMatch[l.parent.type])return!1;if(this.languageId=="python"){let f=l.previousSibling;if(f!=null&&f.hasError()&&(f.text.startsWith('"""')||f.text.startsWith("'''")))return!0}return this.isBlockEmpty(l,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let f=[...a.children].reverse(),m=f.find(p=>this.startKeywords.includes(p.type)),h=f.find(p=>p.type==this.blockNodeType);if(m){switch(this.languageId){case"python":{m.type=="try"&&s.type=="identifier"&&s.text.length>4&&(h=f.find(x=>x.hasError())?.children.find(x=>x.type=="block"));let p,A=0;for(let x of a.children){if(x.type==":"&&A==0){p=x;break}x.type=="("&&(A+=1),x.type==")"&&(A-=1)}if(p&&m.endIndex<=p.startIndex&&p.nextSibling){if(m.type=="def"){let x=p.nextSibling;if(x.type=='"'||x.type=="'"||x.type=="ERROR"&&(x.text=='"""'||x.text=="'''"))return!0}return!1}break}case"javascript":{let p=f.find(E=>E.type=="formal_parameters");if(m.type=="class"&&p)return!0;let A=f.find(E=>E.type=="{");if(A&&A.startIndex>m.endIndex&&A.nextSibling!=null||f.find(E=>E.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}case"typescript":{let p=f.find(x=>x.type=="{");if(p&&p.startIndex>m.endIndex&&p.nextSibling!=null||f.find(x=>x.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}}return h&&h.startIndex>m.endIndex?this.isBlockEmpty(h,n):!0}}if(c!=null){let f=this.nodeMatch[c.type],m=c.children.slice().reverse().find(h=>h.type==f);if(m)return this.isBlockEmpty(m,n);if(this.nodeTypesWithBlockOrStmtChild.has(c.type)){let h=this.nodeTypesWithBlockOrStmtChild.get(c.type),p=h==""?c.children[0]:c.childForFieldName(h);if(p&&p.type!=this.blockNodeType&&p.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}},Lst={python:new S5("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new S5("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new S5("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new S5("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new EN("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new EN("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new S5("csharp",{},new Map([]),[],"block",null,!0),java:new S5("java",{},new Map([]),[],"block",null,!0)};function CX(e){if(!Lu(e))throw new Error(`Language ${e} is not supported`);return Lst[tN(e)]}o(CX,"getBlockParser");async function R3e(e,t,r){return Lu(e)?CX(e).isEmptyBlockStart(t,r):!1}o(R3e,"isEmptyBlockStart");async function D3e(e,t,r,n){if(Lu(e))return CX(e).isBlockBodyFinished(t,r,n)}o(D3e,"isBlockBodyFinished");async function P3e(e,t,r){if(Lu(e))return CX(e).getNodeStart(t,r)}o(P3e,"getNodeStart");function xX(e,t){return new F3e.Worker(bN.default.resolve(bN.default.extname(__filename)!==".ts"?__dirname:bN.default.resolve(__dirname,"../../dist"),e),{workerData:t})}o(xX,"createWorker");var EX=class{constructor(t){this.ctx=t;this.cache=new xn(200)}static{o(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new bX(()=>this.ctx.get(_m).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){return this.cache.get(t.stringify())?.value()}},bX=class{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}static{o(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function Ost(e){return"uri"in e}o(Ost,"isCompletionsFiltersInfo");var or=class e{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new EX(this.ctx)}static{o(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}registerDynamicFilterGroup(t){this.dynamicFilterGroups.push(t)}getDynamicFilterValues(){let t={};for(let r of this.dynamicFilterGroups)Object.assign(t,r());for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r=rn.createAndMarkAsIssued()){if(r instanceof A1)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let n=t&&Ost(t)?v5(this.ctx,t.uri):void 0,i=x1(n)??"",s=DCe(n)??"",a=t?.languageId??"",l=b5(this.ctx).modelId,c=await RCe(this.ctx),u=await wT(this.ctx,"ft"),f=await wT(this.ctx,"ol"),m=await wT(this.ctx,"cml"),h=await wT(this.ctx,"tid"),p={"X-Copilot-Repository":i,"X-Copilot-FileType":a,"X-Copilot-UserKind":c,"X-Copilot-Dogfood":s,"X-Copilot-Engine":l,"X-Copilot-CustomModel":u,"X-Copilot-Orgs":f,"X-Copilot-CustomModelNames":m,"X-Copilot-CopilotTrackingId":h},A=this.getGranularityDirectory(),x=this.makeFilterSettings(p),E=A.extendFilters(x),v=await this.getExpConfig(E.newFilterSettings);A.update(x,+(v.variables.copilotbycallbuckets??NaN),+(v.variables.copilottimeperiodsizeinh??NaN));let b=A.extendFilters(x),S=b.newFilterSettings,B=await this.getExpConfig(S),D=new Promise(F=>setTimeout(F,e.upcomingDynamicFilterCheckDelayMs));for(let F of b.otherFilterSettingsToPrefetch)D=D.then(async()=>{await new Promise(W=>setTimeout(W,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(F)});return this.prepareForUpcomingFilters(S),new A1(r.properties,r.measurements,r.issuedTime,{filters:S,exp:B})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(hs).machineId;this.granularityDirectory=new aF(t,this.ctx.get(Xh))}return this.granularityDirectory}makeFilterSettings(t){return new m3({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return $f.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(r)}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-e.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(i=>setTimeout(i,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){let t=this.assignments.getCachedExpConfig(new m3({}));return JSON.stringify(t?.variables??{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}disableLogProb(t){return t.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}overrideNumGhostCompletions(t){return t.filtersAndExp.exp.variables.copilotoverridednumghostcompletions}dropCompletionReasons(t){let r=t.filtersAndExp.exp.variables.copilotdropcompletionreasons;if(r)return r.split(",")}showModelTeaserFeature(t){return t.filtersAndExp.exp.variables.showmodelteaser??!1}customEngine(t){return t.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(t){return t.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(t){return t.filtersAndExp.exp.variables.CopilotSuffixPercent??sN}suffixMatchThreshold(t){return t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??LT}cppHeaders(t){return t.filtersAndExp.exp.variables.copilotcppheaders??!1}relatedFilesVSCodeCSharp(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}cppIncludeTraits(t){let r=t.filtersAndExp.exp.variables.copilotcppIncludeTraits;if(r)return r.split(",")}cppMsvcCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppMsvcCompilerArgumentFilter}cppClangCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppClangCompilerArgumentFilter}cppGccCompilerArgumentFilter(t){return t.filtersAndExp.exp.variables.copilotcppGccCompilerArgumentFilter}cppCompilerArgumentDirectAskMap(t){return t.filtersAndExp.exp.variables.copilotcppCompilerArgumentDirectAskMap}relatedFilesVSCode(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}excludeOpenTabFilesCSharp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescsharp??!1}excludeOpenTabFilesCpp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescpp??!1}excludeOpenTabFilesTypeScript(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilestypescript??!1}fallbackToOpenTabFilesWithNoRelatedFiles(t){return t.filtersAndExp.exp.variables.copilotfallbacktoopentabfiles??!1}contextProviders(t){let r=t.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}includeNeighboringFiles(t){return t.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}maxPromptCompletionTokens(t){return t.filtersAndExp.exp.variables.maxpromptcompletionTokens??Pv+NT}promptOrderListPreset(t){let r=t.filtersAndExp.exp.variables.copilotpromptorderlistpreset;return"default"}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){case"office-exp":return"office-exp";default:return"default"}}promptComponentsEnabled(t){return t.filtersAndExp.exp.variables.copilotpromptcomponents??!1}ideChatMaxRequestTokens(t){return t.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(t){return t.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(t){return t.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}ideEnableCopilotEditsAgent(t){return t.filtersAndExp.exp.variables.ideenablecopiloteditsagent??!1}disableDebounce(t){return t.filtersAndExp.exp.variables.copilotdisabledebounce??!1}recentEditsInPrompt(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinprompt??!1}recentEditsEditCount(t){return t.filtersAndExp.exp.variables.copilotrecenteditseditcount??5}recentEditsMaxFiles(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxfiles??5}recentEditsContextLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditscontextlines??3}recentEditsMaxLinesBetweenEdits(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxlinesbetweenedits??100}recentEditsActiveDocDistanceLimitFromCursor(t){return t.filtersAndExp.exp.variables.copilotrecenteditsactivedocdistancelimitfromcursor??100}debounceThreshold(t){return t.filtersAndExp.exp.variables.copilotdebouncethreshold}triggerCompletionAfterAccept(t){return t.filtersAndExp.exp.variables.copilottriggercompletionafteraccept}enableAsyncCompletions(t){return t.filtersAndExp.exp.variables.copilotasynccompletions??!1}enableSpeculativeRequests(t){return t.filtersAndExp.exp.variables.copilotspeculativerequests??!1}cppCodeSnippetsFeatures(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsFeatureNames}cppCodeSnippetsTimeBudgetFactor(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsTimeBudgetFactor}cppCodeSnippetsMaxDistanceToCaret(t){return t.filtersAndExp.exp.variables.copilotcppcodesnippetsMaxDistanceToCaret}disableContextualFilter(t){return t.filtersAndExp.exp.variables.copilotdisablecontextualfilter??!1}vscodeDebounceThreshold(t){return t.filtersAndExp.exp.variables.copilotvscodedebouncethreshold}enableElectronFetcher(t){return t.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(t){return t.filtersAndExp.exp.variables.copilotasynccompletionstimeout??100}enablePromptContextProxyField(t){return t.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(t){return t.filtersAndExp.exp.variables.copilotprogressivereveal??!1}enablePrefixCompletionsCache(t){return t.filtersAndExp.exp.variables.copilotprefixcompletionscache??!1}};var Q3e=tt(require("node:events"));var vX={};$g(vX,{activationEvents:()=>oat,badges:()=>iat,bugs:()=>Kst,build:()=>Hst,buildType:()=>Vst,categories:()=>rat,contributes:()=>IX,default:()=>dat,dependencies:()=>uat,description:()=>Wst,devDependencies:()=>cat,displayName:()=>qst,enabledApiProposals:()=>aat,engines:()=>tat,extensionPack:()=>eat,homepage:()=>zst,icon:()=>Xst,keywords:()=>nat,license:()=>Yst,main:()=>sat,name:()=>Ust,overrides:()=>fat,preview:()=>$st,pricing:()=>Zst,publisher:()=>jst,qna:()=>Jst,scripts:()=>lat,version:()=>Gst});var Ust="copilot",qst="GitHub Copilot",Wst="Your AI pair programmer",Gst="1.302.0",Hst="1501",Vst="prod",jst="GitHub",$st=!1,zst="https://github.com/features/copilot?editor=vscode",Yst="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",Kst={url:"https://github.com/microsoft/vscode-copilot-release/issues"},Jst="https://github.com/github-community/community/discussions/categories/copilot",Xst="assets/Copilot-App-Icon.png",Zst="Trial",eat=["GitHub.copilot-chat"],tat={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},rat=["AI","Chat","Programming Languages","Machine Learning"],nat=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],iat=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],oat=["onStartupFinished"],sat="./dist/extension",aat=["inlineCompletionsAdditions"],IX={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && !commentEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completion Model"__ command or open the model picker from the Copilot menu. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.enable instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,deprecationMessage:"This setting is deprecated. Please use github.copilot.enable instead.",description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},lat={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":"npm -C prompt run test","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},cat={"@datadog/datadog-ci":"^3.3.1","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.0","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^7.0.2","@types/git-url-parse":"^9.0.3","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.8.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/vsce":"^3.3.2","@yao-pkg/pkg":"^6.4.0",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^16.10.0",electron:"^28.1.4",esbuild:"^0.25.2","esbuild-plugin-copy":"^2.1.1","esbuild-plugin-summary":"^0.0.2",eslint:"^9.24.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",fantasticon:"^3.0.0",glob:"^11.0.1",globals:"^16.0.0","js-yaml":"^4.1.0",mocha:"^11.1.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.1.0",proxy:"^2.1.1",sinon:"^20.0.0","ts-dedent":"^2.2.0","ts-node":"^10.9.1","tsconfig-paths":"^4.2.0",tsx:"^4.19.3",typescript:"^5.8.3","typescript-eslint":"^8.29.1","vscode-dts":"^0.3.3"},uat={"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.6","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.9","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.36","@vscode/prompt-tsx":"0.3.0-alpha.21","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^7.0.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^16.0.0",kerberos:"^2.2.0","mac-ca":"^3.1.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.1.0",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},fat={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},dat={name:Ust,displayName:qst,description:Wst,version:Gst,build:Hst,buildType:Vst,publisher:jst,preview:$st,homepage:zst,license:Yst,bugs:Kst,qna:Jst,icon:Xst,pricing:Zst,extensionPack:eat,engines:tat,categories:rat,keywords:nat,badges:iat,activationEvents:oat,main:sat,enabledApiProposals:aat,contributes:IX,scripts:lat,devDependencies:cat,dependencies:uat,overrides:fat};var Pt={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",DebugOverrideCppHeaders:"advanced.debug.overrideCppHeaders",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ExcludeOpenTabFilesCSharp:"advanced.excludeOpenTabFilesCSharp",ExcludeOpenTabFilesCpp:"advanced.excludeOpenTabFilesCpp",ExcludeOpenTabFilesTypeScript:"advanced.excludeOpenTabFilesTypeScript",FallbackToOpenTabFilesWithNoRelatedFiles:"advanced.fallbackToOpenTabFilesWithNoRelatedFiles",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",EnablePromptComponents:"advanced.enablePromptComponents",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",UseAsyncCompletions:"internal.useAsyncCompletions",EnableSpeculativeRequests:"internal.enableSpeculativeRequests",EnablePrefixCache:"internal.enablePrefixCache",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",VSCodeDebounceThreshold:"internal.vscodeDebounceThreshold",RecentEditsInPrompt:"internal.RecentEditsInPrompt",RecentEditsEditCount:"internal.RecentEditsEditCount",RecentEditsMaxFiles:"internal.RecentEditsMaxFiles",RecentEditsContextLines:"internal.RecentEditsContextLines",RecentEditsMaxLinesBetweenEdits:"internal.RecentEditsMaxLinesBetweenEdits",RecentEditsActiveDocDistanceLimitFromCursor:"internal.RecentEditsActiveDocDistanceLimitFromCursor",IncludeNeighboringFiles:"internal.includeNeighboringFiles"};function M3e(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(M3e,"shouldDoParsingTrimming");function O3e(e){return["server","parsingandserver"].includes(e)}o(O3e,"shouldDoServerTrimming");var Fm=class{static{o(this,"BlockModeConfig")}},Qv=class extends Fm{static{o(this,"ConfigBlockModeConfig")}forLanguage(t,r,n){let i=t.get(or).overrideBlockMode(n);if(i)return N3e(i,r);let s=t.get(or).enableProgressiveReveal(n);return qn(t,Pt.AlwaysRequestMultiline)??s?N3e("moremultiline",r):r=="ruby"?"parsing":Lu(r)?"parsingandserver":"server"}};function mat(e){return["parsing","parsingandserver","moremultiline"].includes(e)}o(mat,"blockModeRequiresTreeSitter");function N3e(e,t){return mat(e)&&!Lu(t)?"server":e}o(N3e,"toApplicableBlockMode");var gp=class{static{o(this,"ConfigProvider")}},Mv=class extends gp{static{o(this,"DefaultsOnlyConfigProvider")}getConfig(t){return pat(t)}getOptionalConfig(t){return gat(t)}dumpForTelemetry(){return{}}},J3=class extends gp{constructor(r,n){super();this.baseConfigProvider=r;this.overrides=n;this.emitters=new Map}static{o(this,"InMemoryConfigProvider")}getOptionalOverride(r){return this.overrides.get(r)}getConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getConfig(r)}getOptionalConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getOptionalConfig(r)}setConfig(r,n){n!==void 0?this.overrides.set(r,n):this.overrides.delete(r),this.emitters.get(r)?.emit("change",n)}onConfigChange(r,n){this.emitters.has(r)||this.emitters.set(r,new Q3e.default),this.emitters.get(r)?.on("change",n)}dumpForTelemetry(){let r=this.baseConfigProvider.dumpForTelemetry();for(let n of[Pt.ShowEditorCompletions,Pt.EnableAutoCompletions,Pt.DelayCompletions,Pt.FilterCompletions]){let i=this.overrides.get(n);i!==void 0&&(r[n]=JSON.stringify(i))}return r}};function hat(e){return e?.type==="object"&&"properties"in e}o(hat,"isContributesObject");function U3e(e,t){let r=e,n=[];for(let i of t.split(".")){let s=[...n,i].join(".");r&&typeof r=="object"&&s in r?(r=r[s],n.length=0):n.push(i)}if(!(r===void 0||n.length>0))return r}o(U3e,"getConfigKeyRecursively");function pat(e){if(Lv.has(e))return Lv.get(e);throw new Error(`Missing config default value: ${T7}.${e}`)}o(pat,"getConfigDefaultForKey");function gat(e){return Lv.get(e)}o(gat,"getOptionalConfigDefaultForKey");var Lv=new Map([[Pt.DebugOverrideCppHeaders,!1],[Pt.RelatedFilesVSCodeCSharp,!1],[Pt.RelatedFilesVSCodeTypeScript,!1],[Pt.RelatedFilesVSCode,!1],[Pt.ExcludeOpenTabFilesCSharp,!1],[Pt.ExcludeOpenTabFilesCpp,!1],[Pt.ExcludeOpenTabFilesTypeScript,!1],[Pt.FallbackToOpenTabFilesWithNoRelatedFiles,!1],[Pt.IncludeNeighboringFiles,!1],[Pt.ContextProviders,[]],[Pt.DebugUseEditorFetcher,null],[Pt.DebugUseElectronFetcher,null],[Pt.DebugOverrideLogLevels,{}],[Pt.DebugSnippyOverrideUrl,""],[Pt.FetchStrategy,"auto"],[Pt.UseSubsetMatching,null],[Pt.EnablePromptComponents,!1],[Pt.ContextProviderTimeBudget,150],[Pt.DebugOverrideCapiUrl,""],[Pt.DebugTestOverrideCapiUrl,""],[Pt.DebugOverrideProxyUrl,""],[Pt.DebugTestOverrideProxyUrl,""],[Pt.DebugOverrideEngine,""],[Pt.UseAsyncCompletions,void 0],[Pt.EnableSpeculativeRequests,void 0],[Pt.EnablePrefixCache,void 0],[Pt.AlwaysRequestMultiline,void 0],[Pt.TrimCompletionsAggressively,void 0],[Pt.VSCodeDebounceThreshold,void 0],[Pt.RecentEditsInPrompt,void 0],[Pt.RecentEditsEditCount,void 0],[Pt.RecentEditsMaxFiles,void 0],[Pt.RecentEditsContextLines,void 0],[Pt.RecentEditsMaxLinesBetweenEdits,void 0],[Pt.RecentEditsActiveDocDistanceLimitFromCursor,void 0],[Pt.ShowEditorCompletions,void 0],[Pt.DelayCompletions,void 0],[Pt.FilterCompletions,void 0]]);for(let e of Object.values(Pt)){let t=IX.configuration[0],r=[],n=`${T7}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if(hat(i))r.length=0,t=i;else if(n.length==0&&i?.default!==void 0){if(Lv.has(e))throw new Error(`Duplicate config default value ${T7}.${e}`);Lv.set(e,i.default)}}if(!Lv.has(e))throw new Error(`Missing config default value ${T7}.${e}`)}function qn(e,t){return e.get(gp).getConfig(t)}o(qn,"getConfig");function fye(e){return e.get(gp).dumpForTelemetry()}o(fye,"dumpForTelemetry");var uo=class{constructor(){this.packageJson=vX}static{o(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function VP(e){return e.get(uo).isProduction()}o(VP,"isProduction");function zf(e){return e.get(uo).getBuildType()}o(zf,"getBuildType");function dye(e){return e.get(uo).getBuild()}o(dye,"getBuild");function q3(e){return e.get(uo).getVersion()}o(q3,"getVersion");var hs=class{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}static{o(this,"EditorSession")}};function lp({name:e,version:t}){return`${e}/${t}`}o(lp,"formatNameAndVersion");var an=class{static{o(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},Aat="2024-12-15";function f0(e){let t=e.get(an);return{"X-GitHub-Api-Version":Aat,"Editor-Version":lp(t.getEditorInfo()),"Editor-Plugin-Version":lp(t.getEditorPluginInfo()),"Copilot-Language-Server-Version":q3(e)}}o(f0,"editorVersionHeaders");var L3e="Iv1.b507a08c87ecfe98",Vs=class{static{o(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??L3e}fallbackAppId(){return L3e}};d();d();d();var X3={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};d();d();var q3e=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],W3e={".php":[".blade"]},MT=Object.keys(X3).flatMap(e=>X3[e].extensions);var TX=tt(require("node:path"));var Uv=class{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}static{o(this,"Language")}},OT=class{static{o(this,"LanguageDetection")}},wX=new Map,Ov=new Map;for(let[e,{extensions:t,filenames:r}]of Object.entries(X3)){for(let n of t)wX.set(n,[...wX.get(n)??[],e]);for(let n of r??[])Ov.set(n,[...Ov.get(n)??[],e])}var SX=class extends OT{static{o(this,"FilenameAndExensionLanguageDetection")}detectLanguage(t){let r=Fs(t.uri),n=TX.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),s=this.detectLanguageId(r,i),a=this.computeFullyQualifiedExtension(n,i);return s?new Uv(s.languageId,s.isGuess,a):new Uv(t.languageId,!0,a)}extensionWithoutTemplateLanguage(t,r){if(q3e.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=TX.extname(n).toLowerCase();if(i.length>0&&MT.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=W3e[t];return!n||n.includes(r)}detectLanguageId(t,r){if(Ov.has(t))return{languageId:Ov.get(t)[0],isGuess:!1};let n=wX.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),Ov.has(t))return{languageId:Ov.get(t)[0],isGuess:!1}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}},_X=class extends OT{constructor(r){super();this.delegate=r}static{o(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new Uv("cpp",n.isGuess,n.fileExtension):n}},kX=class extends OT{constructor(r){super();this.delegate=r}static{o(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new Uv(r.languageId,!0,""):this.delegate.detectLanguage(r)}},yat=new _X(new kX(new SX));function vN({uri:e,languageId:t}){let r=yat.detectLanguage({uri:e,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?t:r.languageId}o(vN,"detectLanguage");d();d();d();d();function I1(e){if(e.isCancellationRequested)throw new IN}o(I1,"throwIfCancellationRequested");function UT(e){return e instanceof IN?!0:e instanceof Error&&e.name===BX&&e.message===BX}o(UT,"isCancellationError");var IN=class extends Error{static{o(this,"CancellationError")}constructor(){super(BX),this.name=this.message}},BX="Canceled",TN=class{constructor(){this.items=[]}static{o(this,"Stack")}push(t){this.items.push(t)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}tryPeek(){return this.items.length>0}toArray(){return this.items}};function Z3(e){switch(e){case 0:case 2:case 7:case 8:case 11:case 12:case 13:case 14:return!0;default:return!1}}o(Z3,"isTypeDefinition");var Xf=class e{static{o(this,"TextRange")}static{this.empty=new e(0,0)}constructor(t,r){this.start=t,this.length=r}static fromBounds(t,r){return new e(t,r-t)}get end(){return this.start+this.length}contains(t){return this.start<=t&&this.end>=t}containsRange(t){return this.start<=t.start&&this.end>=t.end}equals(t){return this.start===t.start&&this.length===t.length}getText(t){return t.slice(this.start,this.end)}getTextWithIndentation(t,r){let n=[],i=this.start;for(i=H3e(t,t.length,i),G3e(n,r);i<this.end;)t[i]!=="\r"&&t[i]!==`
`?n.push(t[i++]):t[i]==="\r"&&i<t.length&&t[i+1]!==`
`||t[i]===`
`?(n.push(`
`),i=H3e(t,t.length,++i),G3e(n,r)):i++;return n.join("")}};function G3e(e,t){for(let r=0;r<t;r++)e.push(" ")}o(G3e,"appendIndent");function H3e(e,t,r){for(;r<t&&(e[r]===" "||e[r]==="	");)r++;return r}o(H3e,"consumeIndent");var qv=class{constructor(t,r,n,i,s,a,l,c,u){this.fileName=t;this.fullyQualifiedName=r;this.unqualifiedName=n;this.commentRange=i;this.nameRange=s;this.bodyRange=a;this.extentRange=l;this.kind=c;this.refKind=u;if(t.indexOf("\\")!==-1)throw new Error("fileName must be normalized to use forward slashes as path separators")}static{o(this,"SymbolRange")}equals(t){return this.fileName===t.fileName&&this.fullyQualifiedName===t.fullyQualifiedName&&this.unqualifiedName===t.unqualifiedName&&this.commentRange.equals(t.commentRange)&&this.nameRange.equals(t.nameRange)&&this.bodyRange.equals(t.bodyRange)&&this.extentRange.equals(t.extentRange)&&this.kind===t.kind&&this.refKind===t.refKind}},Nm=class e{constructor(){this.queriesCache=new Map}static{o(this,"SymbolExtractorBase")}async executeQuery(t,r,n){let i;try{i=await b1(this.languageId,r);let s=i.getLanguage(),l=this.getOrCreateQuery(s,n).matches(i.rootNode),c=new TN,u=[];for(let f of l){let m=this.createSymbolRange(c,t,r,f.captures);m&&u.push(m)}return u}finally{i?.delete()}}getOrCreateQuery(t,r){let n=this.queriesCache.get(r);return n||(n=t.query(r),this.queriesCache.set(r,n)),n}createSymbolRange(t,r,n,i){let s=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=null,A=null;for(let v=0;v<i.length;v++){let b=i[v].name;b==="name"?(u=i[v].node.startIndex,f=i[v].node.endIndex):b==="reference"?(u=i[v].node.startIndex,f=i[v].node.endIndex,l=i[v].node.startIndex,c=i[v].node.endIndex,p=b):b==="body"?(m=i[v].node.startIndex,h=i[v].node.endIndex):b==="comment"?(s=s===0?i[v].node.startIndex:Math.min(s,i[v].node.startIndex),a=Math.max(a,i[v].node.endIndex)):b==="receiver"?A=Xf.fromBounds(i[v].node.startIndex,i[v].node.endIndex).getText(n):(l=i[v].node.startIndex,c=i[v].node.endIndex,p=b)}p==="definition.module.filescoped"&&(h=n.length,c=h);let x=Xf.fromBounds(l,c),E=l>0||c>0||u>0||f>0?new qv(r,"","",Xf.fromBounds(s,a),Xf.fromBounds(u,f),Xf.fromBounds(m,h),x,e.kindFromString(p),0):null;if(E){e.updateScopesForSymbol(t,E);let v=E.nameRange.getText(n),b=this.createNameFromScopes(n,t.toArray());return b=A?`${A}.${b}`:b,new qv(r,b,v.substring(v.lastIndexOf(".")+1),E.commentRange,E.nameRange,E.bodyRange,E.extentRange,E.kind,0)}return null}static updateScopesForSymbol(t,r){for(;t.tryPeek()&&!t.peek()?.extentRange.containsRange(r.extentRange);)t.pop();t.push(r)}static kindFromString(t){switch(t){case"definition.class":return 0;case"definition.constant":return 1;case"definition.enum_variant":return 3;case"definition.enum":return 2;case"definition.field":return 4;case"definition.function":return 5;case"definition.implementation":return 6;case"definition.interface":return 7;case"definition.macro":return 8;case"definition.method":return 9;case"definition.module":case"definition.module.filescoped":return 10;case"definition.struct":return 11;case"definition.trait":return 12;case"definition.type":return 13;case"definition.union":return 14;case"reference":return 16;default:throw new Error("NotSupportedException")}}};var wN=class extends Nm{static{o(this,"GoSymbolExtractor")}get languageId(){return"go"}extractSymbols(t,r){return this.executeQuery(t,r,Cat)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},SN=class extends Nm{static{o(this,"GoReferenceExtractor")}get languageId(){return"go"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}extractReferences(t,r){return this.executeQuery(t,r,xat)}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,Eat),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},Cat=`
(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (struct_type (field_declaration_list) @body))) @definition.struct
)

(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (interface_type (_)) @body)) @definition.interface
)

(
    ((comment)* @comment)
    .
    (method_declaration receiver: (parameter_list (parameter_declaration type: [(type_identifier) @receiver (pointer_type (type_identifier) @receiver)] )) name: (_) @name body: (_) @body) @definition.method
)

(
    ((comment)* @comment)
    .
    (method_elem name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (function_declaration name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (field_declaration name: (_) @name) @definition.field
)
`,xat=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`,Eat=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`;d();var _N=class extends Nm{static{o(this,"JavaSymbolExtractor")}get languageId(){return"java"}extractSymbols(t,r){return this.executeQuery(t,r,bat)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},kN=class extends Nm{static{o(this,"JavaReferenceExtractor")}get languageId(){return"java"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}extractReferences(t,r){return this.executeQuery(t,r,vat)}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,Iat),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},bat=`
(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (class_declaration name: (identifier) @name body: (class_body) @body) @definition.class
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (constructor_declaration name: (identifier) @name body: (constructor_body) @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (method_declaration name: (identifier) @name body: (block)? @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (interface_declaration name: (identifier) @name body: (interface_body) @body) @definition.interface
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (field_declaration declarator: (variable_declarator name: (identifier) @name)) @definition.field
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_declaration name: (_) @name body: (_) @body) @definition.enum
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_constant name: (identifier) @name) @definition.enum_variant
)
`,vat=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`,Iat=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`;d();var Tat=new Set(["int","str","float","bool","list","dict","tuple","set"]),BN=class extends Nm{static{o(this,"PythonSymbolExtractor")}get languageId(){return"python"}extractSymbols(t,r){return this.executeQuery(t,r,wat)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},RN=class extends Nm{static{o(this,"PythonReferenceExtractor")}get languageId(){return"python"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}async extractReferences(t,r){return(await this.executeQuery(t,r,Sat)).filter(i=>!Tat.has(i.unqualifiedName))}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,_at),s=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...s.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}},wat=`
(
    ((comment)* @comment)
    .
    (class_definition name: (_) @name body: (_) @body) @definition.class
)

(
    ((comment)* @comment)
    .
    (function_definition name: (_) @name body: (_) @body) @definition.method
)
`,Sat=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
]) @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`,_at=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
])  @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`;var DN=[{symbolExtractor:new _N,referenceExtractor:new kN,languageId:"java"},{symbolExtractor:new wN,referenceExtractor:new SN,languageId:"go"},{symbolExtractor:new BN,referenceExtractor:new RN,languageId:"python"}];function j3e(e){let t=vN({uri:e});if(t&&DN.some(r=>t===r.languageId))return t}o(j3e,"getSupportedLanguageIdForFallbackProvider");var $3e=DN.map(e=>e.referenceExtractor),PN=DN.map(e=>e.symbolExtractor),RX=DN.map(e=>X3[e.languageId].extensions).flat();d();d();var z3e=require("fs");async function Y3e(e,t,r,n,i){let s=new Map,a=0;for(let m of e){let h=m.node.fileName.toLowerCase(),p=s.get(h);p?p.symbols.push(m):s.set(h,{symbols:[m],topRank:a}),a++}if(s.delete(r.toLowerCase()),s.size===0)return[];let l=t,c=t/Math.min(4,s.size),u=[],f=Array.from(s.keys());f.sort((m,h)=>{let p=s.get(m).topRank,A=s.get(h).topRank;return p-A});for(let m of f){let h=s.get(m).symbols;if(h.length===0)continue;let p=h[0].node.fileName,A=h.reduce((x,E)=>x+E.node.extentRange.length,0);for(let x of h){if(l<=5)return u;I1(i);let E=x.node.extentRange.length/A,v=Math.min(l,E*c),b=(await kat([x])).elide(v).getText();l-=n.tokenLength(b),u.push({uri:p,value:b})}}return u}o(Y3e,"symbolRangesToCodeSnippets");async function kat(e){if(e.length===0)return new Xt([]);let t=e[0].node.fileName,r=[],n="";try{let i=ys(t);i&&(n=(await z3e.promises.readFile(i)).toString())}catch{}for(let i of e)K3e(i,n).forEach(s=>r.push(s));return new Xt(r)}o(kat,"sameFileSymbolRangeToElidableText");function K3e(e,t){let n=[],i=e.node,s=t.substring(DX(t,i.commentRange.start),i.commentRange.end);n.push([PX(s),1-3e-4]);let a=DX(t,i.bodyRange.start),l=DX(t,i.extentRange.start),c=i.bodyRange.length===0?t.substring(l,i.extentRange.end):t.substring(i.commentRange.length===0?l:i.commentRange.end,a);if(Z3(i.kind)&&(c="BEGIN "+c.trimStart()),n.push([PX(c),1-1e-4]),e.children.length>0)for(let u of e.children)n.push(...K3e(u,t));else{let u=1-(Z3(e.node.kind)?3e-4:4e-4),f=t.substring(a,i.bodyRange.end);n.push([PX(f),u])}return Z3(i.kind)&&n.push(["END "+c.substring(6),1-1e-4]),n.filter(u=>u[0].length>0)}o(K3e,"prepareForElidableText");function DX(e,t){for(;t-1>=0&&(e[t-1]==="	"||e[t-1]===" ");)t--;return t}o(DX,"shiftLeftToNearestLineEndingOrAlphanumeric");function PX(e){let t=0;for(;t<e.length&&(e[t]==="\r"||e[t]===`
`);)t++;let r=e.length-1;for(;r>=0&&(e[r]==="\r"||e[r]===`
`||e[r]===" "||e[r]==="	");)r--;return e.substring(t,r+1)}o(PX,"trimLineEndingsAndTrailingWhitespace");var FX=class{constructor(t,r){this.referenceExtractors=new Map;this.index=t;for(let n of r)this.referenceExtractors.set(n.languageId,n)}static{o(this,"ContextRetrievalStrategy")}},qT=class extends FX{static{o(this,"UnqualifiedNameRetrievalStrategy")}constructor(t,r,n,i){super(t,r),this.caseSensitive=n,this.typesOnly=i}async getContextAtPositionAsync(t,r,n,i,s){let a=this.referenceExtractors.get(i);if(!a)return[];I1(s);let l=await a.extractReferences(t,r);I1(s);let c=Array.from(l);c.sort((h,p)=>this.compareSymbolRangesByProximityToCaret(h,p,n));let u=[],f=new Set,m=await this.findDefinitionsViaUnqualifiedNames(c,s);this.typesOnly&&(m=m.filter(h=>Z3(h.kind)));for(let h of m)f.has(JSON.stringify(h))||(f.add(JSON.stringify(h)),u.push(await this.makeSymbolRangeNodeFromDefinition(h,s)));return u}async findDefinitionsViaUnqualifiedNames(t,r){let n=Array.from(new Set(t.map(f=>f.unqualifiedName))),i=!this.caseSensitive,s=await this.index.findPotentialDefinitionsAsync(n,i,r),a=o(f=>i?f.toLowerCase():f,"lowercaseIfCaseInsensitive"),l=o(f=>a(f.unqualifiedName),"getSymbolKey"),c=new Map;for(let f of s){let m=l(f),h=c.get(m)??[];c.set(m,[...h,f])}let u=[];for(let f of n){let m=c.get(a(f));!m||m.length>20||u.push(...m)}return u}async makeSymbolRangeNodeFromDefinition(t,r){if(I1(r),Z3(t.kind)){let n=await this.index.findSymbolsByFullyQualifiedNamePrefix(t.fileName,t.fullyQualifiedName+".",r),i=await Promise.all(n.map(s=>this.makeSymbolRangeNodeFromDefinition(s,r)));return{node:t,children:i}}else return{node:t,children:[]}}compareSymbolRangesByProximityToCaret(t,r,n){let i=t.extentRange.end<=n,s=r.extentRange.end<=n;if(i&&!s)return-1;if(!i&&s)return 1;let a=Math.abs(t.extentRange.start-n),l=Math.abs(r.extentRange.start-n);return a-l}},FN=class{constructor(t,r){this.strategies=new Map;this.strategies.set("go",new qT(t,r,!0,!0)),this.strategies.set("java",new qT(t,r,!0,!0)),this.strategies.set("python",new qT(t,r,!0,!1))}static{o(this,"SyntaxAwareContextRetrieval")}async getStringifiedContextAtPositionAsync(t,r,n,i,s,a){let l=await this.getContextAtPositionAsync(t,r,n,i,a);I1(a);let c=vo();return Y3e(l,s,t,c,a)}async getContextAtPositionAsync(t,r,n,i,s){return this.strategies.has(i)?this.strategies.get(i).getContextAtPositionAsync(t,r,n,i,s):[]}};d();d();d();d();var e4={Id:"id"},Qu={FilePath:"filePath",LastWriteTimeUtc:"lastWriteTimeUtc"},Ii={DocumentId:"documentId",FullyQualifiedName:"fullyQualifiedName",UnqualifiedName:"unqualifiedName",CommentStart:"commentStart",CommentLength:"commentLength",NameStart:"nameStart",NameLength:"nameLength",BodyStart:"bodyStart",BodyLength:"bodyLength",ExtentStart:"extentStart",ExtentLength:"extentLength",SymbolKind:"symbolKind",RefKind:"refKind"};d();d();var NN=class{constructor(t,r,n){this.tableName=t;this.createOptimizations=r;this.extraCreateDeclarations=n;this.primaryKey=new NX(e4.Id)}static{o(this,"SQLTableQueryGenerator")}createTableQueries(){return this.createTableString??=this.generateCreateTableString(),[this.createTableString,...this.createOptimizations]}generateCreateTableString(){let t=this.fields.map(r=>r.initColumnString());return this.extraCreateDeclarations&&t.push(this.extraCreateDeclarations),t.push(),[`CREATE TABLE IF NOT EXISTS ${this.tableName} (`,`    ${this.primaryKey.initColumnString()},`,`    ${t.join(`,
`)}`,")"].join(`
`)}insertQuery(t,r){this.cachedInsertQueryStrings??=this.generateInsertQueryStrings();let n=[this.cachedInsertQueryStrings.prefix,Array(r).fill(this.cachedInsertQueryStrings.valuesTemplate).join(`,
`)];return t&&n.push("ON CONFLICT DO NOTHING"),n.join(`
`)}generateInsertQueryStrings(){return{prefix:`INSERT INTO ${this.tableName} (${this.fields.map(t=>t.name).join(", ")})
VALUES`,valuesTemplate:`(${Array(this.fields.length).fill("?").join(", ")})`}}},WT=class e extends NN{constructor(){super(e.tableName,[`CREATE UNIQUE INDEX IF NOT EXISTS 'IX_Document_FilePath' ON '${e.tableName}' ('${Qu.FilePath}');`]);this.fields=[new VT(Qu.FilePath,{notNull:!0,collate:!0,noCase:!0,unique:!0}),new Nc(Qu.LastWriteTimeUtc,{notNull:!0})]}static{o(this,"DocumentQueryGenerator")}static{this.tableName="Document"}},GT=class e extends NN{constructor(){super(e.tableName,[`CREATE INDEX IF NOT EXISTS 'IX_Symbol_DocumentId' ON '${e.tableName}' ('${Ii.DocumentId}', '${Ii.ExtentStart}', '${Ii.ExtentLength}');`,`CREATE INDEX IF NOT EXISTS 'IX_Symbol_UnqualifiedName' ON '${e.tableName}' ('${Ii.UnqualifiedName}');`],`FOREIGN KEY(${Ii.DocumentId}) REFERENCES Document(${e4.Id}) ON DELETE CASCADE`);this.fields=[new Nc(Ii.DocumentId),new VT(Ii.FullyQualifiedName,{notNull:!0}),new VT(Ii.UnqualifiedName,{notNull:!0}),new Nc(Ii.CommentStart,{notNull:!0}),new Nc(Ii.CommentLength,{notNull:!0}),new Nc(Ii.NameStart,{notNull:!0}),new Nc(Ii.NameLength,{notNull:!0}),new Nc(Ii.BodyStart,{notNull:!0}),new Nc(Ii.BodyLength,{notNull:!0}),new Nc(Ii.ExtentStart,{notNull:!0}),new Nc(Ii.ExtentLength,{notNull:!0}),new Nc(Ii.SymbolKind,{notNull:!0}),new Nc(Ii.RefKind,{notNull:!0})]}static{o(this,"SymbolQueryGenerator")}static{this.tableName="Symbol"}},HT=class{constructor(t,r){this.name=t;this.notNull=r?.notNull??!1}static{o(this,"SQLField")}},VT=class extends HT{static{o(this,"StringColumn")}constructor(t,r){super(t,{notNull:r?.notNull}),this.collate=r?.collate??!1,this.noCase=r?.noCase??!1,this.unique=r?.unique??!1}initColumnString(){let t=this.collate?"COLLATE":void 0,r=this.noCase?"NOCASE":void 0,n=this.notNull?"NOT NULL":void 0,i=this.unique?"UNIQUE":void 0,s=[t,r,n,i].filter(a=>a).join(" ");return`'${this.name}' VARCHAR(500) ${s}`}},Nc=class extends HT{static{o(this,"NumberColumn")}initColumnString(){return`'${this.name}' INTEGER${this.notNull?" NOT NULL":""}`}},NX=class extends HT{static{o(this,"NumberPrimaryKeyColumn")}initColumnString(){return`'${this.name}' INTEGER PRIMARY KEY AUTOINCREMENT${this.notNull?" NOT NULL":""}`}};var LN=class{static{o(this,"SQLTable")}constructor(t){this.queryGenerator=this.createQueryGenerator(),this.init=this.doInit(t)}async doInit(t){let r=await t;return await this.create(r),r}async create(t){let r=o(i=>new Promise((s,a)=>{t.run(i,l=>{l?a(l):s()})}),"runQuery"),n=this.queryGenerator.createTableQueries();for(let i of n)await r(i)}async insert(t,r){let n=await this.init;return new Promise((i,s)=>{let a=this.queryGenerator.insertQuery(r,t.length);n.run(a,t.map(l=>Object.values(l)).flat(),function(l){l?s(l):i(this)})})}async getAllRows(){let t=await this.init;return Zf(t,`SELECT * FROM ${this.queryGenerator.tableName}`,[])}async deleteRow(t){let r=await this.init;return Zf(r,`DELETE FROM ${this.queryGenerator.tableName} WHERE ${e4.Id} = ?`,[t])}},T1=class e extends LN{static{o(this,"DocumentTable")}static{this.tableName=WT.tableName}createQueryGenerator(){return new WT}async updateTimestamp(t,r){let n=await this.init;await Zf(n,`UPDATE ${e.tableName} SET ${Qu.LastWriteTimeUtc} = ? WHERE ${Qu.FilePath} = ?`,[r,t])}async deleteAllWithPath(t){let r=await this.init;await Zf(r,`DELETE FROM ${e.tableName} WHERE ${Qu.FilePath} = ?`,[t])}async getDocumentByFilePath(t){let r=await this.init;return Zf(r,`SELECT * FROM ${this.queryGenerator.tableName} WHERE ${Qu.FilePath} = ?`,[t])}},Pa=class e extends LN{static{o(this,"SymbolTable")}static{this.tableName=GT.tableName}createQueryGenerator(){return new GT}async clearAllSymbolsFromDocument(t){let r=await this.init;return Zf(r,`DELETE FROM ${e.tableName} WHERE ${Ii.DocumentId} = ?`,[t])}};async function Zf(e,t,r){return new Promise((n,i)=>e.all(t,r,(s,a)=>{s&&i(s),n(a)}))}o(Zf,"runPromisifiedDBQuery");var c4e=tt(l4e());var ON=class{constructor(t){this.databaseFileName=t;this.innerJoinStatement=`INNER JOIN ${T1.tableName} ON ${Pa.tableName}.${Ii.DocumentId} = ${T1.tableName}.${e4.Id}`;this.db=this.initDb(t),this.documentTable=new T1(this.db),this.symbolTable=new Pa(this.db)}static{o(this,"DocumentSymbolDatabase")}async initDb(t){let r=await new Promise((n,i)=>{let s=new c4e.Database(t,a=>{a?(console.error("Error opening database",a),i(a)):n(s)})});return await Zf(r,"pragma journal_mode=wal",[]),await Zf(r,"pragma synchronous=normal",[]),await Zf(r,"pragma optimize=0x10002",[]),await Zf(r,"pragma foreign_keys = ON",[]),r}async close(){let t=await this.db;return await this.documentTable.init,await this.symbolTable.init,new Promise((r,n)=>{t.close(i=>i?n(i):r())})}async querySymbolsFuzzilyUsingUnqualifiedName(t,r){return await this.query([`SELECT * FROM ${Pa.tableName}`,this.innerJoinStatement,`WHERE ${Ii.UnqualifiedName} BETWEEN ? AND (? || '~')`,`ORDER BY ${Ii.UnqualifiedName}`,"LIMIT ?"].join(`
`),[t,t,r])}async querySymbolsUsingUnqualifiedNames(t,r){let n=t.map(()=>"?").join(", "),i=r?"COLLATE NOCASE ":"";return await this.query([`SELECT * FROM ${Pa.tableName}`,this.innerJoinStatement,`WHERE ${Ii.UnqualifiedName} ${i}IN (${n})`].join(`
`),t)}async querySymbolsUsingFullyQualifiedName(t){return this.query([`SELECT * FROM ${Pa.tableName}`,this.innerJoinStatement,`WHERE ${Ii.FullyQualifiedName} = ?`].join(`
`),[t])}async querySymbolsContainingPosition(t,r){return this.query([`SELECT * FROM ${Pa.tableName}`,this.innerJoinStatement,`WHERE ${T1.tableName}.${Qu.FilePath} = ? AND ${Pa.tableName}.${Ii.ExtentStart} <= ? AND (${Pa.tableName}.${Ii.ExtentStart} + ${Pa.tableName}.${Ii.ExtentLength}) >= ?`].join(`
`),[t,r,r])}async querySymbolsContainedByRange(t,r,n){return this.query([`SELECT * FROM ${Pa.tableName}`,this.innerJoinStatement,`WHERE ${T1.tableName}.${Qu.FilePath} = ? AND ${Pa.tableName}.${Ii.ExtentStart} >= ? AND (${Pa.tableName}.${Ii.ExtentStart} + ${Pa.tableName}.${Ii.ExtentLength}) <= ?`,`ORDER BY ${Pa.tableName}.${Ii.ExtentStart}`].join(`
`),[t,r,n])}async querySymbolsByQualifiedNamePrefix(t,r){return this.query([`SELECT * FROM ${Pa.tableName}`,this.innerJoinStatement,`WHERE ${T1.tableName}.${Qu.FilePath} = ? AND ${Pa.tableName}.${Ii.FullyQualifiedName} LIKE ?`,`ORDER BY ${Pa.tableName}.${Ii.ExtentStart}`].join(`
`),[t,`${r}%`])}async insertSymbols(t){return await this.symbolTable.insert(t,!1)}async insertDocument(t,r,n=!1){return await this.documentTable.insert([{filePath:t,lastWriteTimeUtc:r}],n)}async clearAllSymbolsFromDocument(t){return this.symbolTable.clearAllSymbolsFromDocument(t)}async updateDocumentTimestamp(t,r){return this.documentTable.updateTimestamp(t,r)}async deleteAllDocumentsWithPath(t){return this.documentTable.deleteAllWithPath(t)}async getAllDocuments(){return this.documentTable.getAllRows()}getDocument(t){return this.documentTable.getDocumentByFilePath(t)}async query(t,r){let n=await this.db;return await this.documentTable.init,await this.symbolTable.init,Zf(n,t,r)}};var UN=class{static{o(this,"SQLStorageReaderWriter")}constructor(t){this.database=new ON(t)}async close(){await this.database.close()}async insertOrReplaceDocumentSymbolsAsync(t,r,n){let i=await this.getOrCreateDocumentAsync(t,r);await this.database.clearAllSymbolsFromDocument(i.id),n.length>0&&await this.database.insertSymbols(n.map(s=>({documentId:i.id,fullyQualifiedName:s.fullyQualifiedName,unqualifiedName:s.unqualifiedName,commentStart:s.commentRange.start,commentLength:s.commentRange.length,nameStart:s.nameRange.start,nameLength:s.nameRange.length,bodyStart:s.bodyRange.start,bodyLength:s.bodyRange.length,extentStart:s.extentRange.start,extentLength:s.extentRange.length,symbolKind:s.kind,refKind:s.refKind}))),await this.database.updateDocumentTimestamp(t,r)}async addDocumentsAsync(t){for(let r of t)r=r.toLowerCase(),await this.database.insertDocument(r,Date.now(),!0)}async deleteDocumentAsync(t){return await this.database.deleteAllDocumentsWithPath(t.toLowerCase())}async updateDocumentTimestampAsync(t,r){return await this.database.updateDocumentTimestamp(t.toLowerCase(),r)}async fuzzyMatchSymbolsAsync(t,r){return Hv(await this.database.querySymbolsFuzzilyUsingUnqualifiedName(t,r))}async findPotentialDefinitionsAsync(t,r,n){let i=[],a=0;for(;a<t.length;){let l=t.slice(a,a+500);a+=500;let c=await this.database.querySymbolsUsingUnqualifiedNames(l,r);i.push(...c),I1(n)}return Hv(i)}async getDefinitionsAsync(t){return Hv(await this.database.querySymbolsUsingFullyQualifiedName(t))}async findSymbolsContainingPositionAsync(t,r){let n=await this.database.querySymbolsContainingPosition(t.toLowerCase(),r);return Hv(n)}async findSymbolsContainedByRangeAsync(t,r,n){return Hv(await this.database.querySymbolsContainedByRange(t.toLowerCase(),r,n))}async findSymbolsByFullyQualifiedNamePrefix(t,r){return Hv(await this.database.querySymbolsByQualifiedNamePrefix(t.toLowerCase(),r))}async getDocumentsAsync(){return this.database.getAllDocuments()}async getDocumentAsync(t){let r=await this.database.getDocument(t);if(r?.at(0))return r[0]}async getOrCreateDocumentAsync(t,r){let n=await this.database.getDocument(t);if(n?.at(0))return n[0];await this.database.insertDocument(t,r,!0);let i=await this.database.getDocument(t);if(!i)throw Error("Unable to insert document");return i[0]}};function Hv(e){return e.map(t=>new qv(t.filePath,t.fullyQualifiedName,t.unqualifiedName,new Xf(t.commentStart,t.commentLength),new Xf(t.nameStart,t.nameLength),new Xf(t.bodyStart,t.bodyLength),new Xf(t.extentStart,t.extentLength),t.symbolKind,t.refKind))}o(Hv,"symbolsToSymbolRanges");var WN=tt(require("fs/promises"));var qN=class{static{o(this,"Index")}constructor(t,r){this.storage=new UN(t),this.symbolExtractors=r}dispose(){return this.storage.close()}get reader(){return this.storage}async indexFile(t,r){let n=ys(t);if(!n)throw Error(`Cannot resolve a readable file path from ${t}`);let i;try{i=await WN.stat(n)}catch{await this.storage.deleteDocumentAsync(t);return}let s=i.mtimeMs,a=await this.storage.getDocumentAsync(t);if(a&&a.lastWriteTimeUtc>=s)return;let l=this.symbolExtractors.find(f=>f.languageId==r);if(!l)return;let c=(await WN.readFile(n)).toString(),u=await l.extractSymbols(t,c);await this.storage.insertOrReplaceDocumentSymbolsAsync(t,s,u)}async getDocumentFilePaths(){return(await this.storage.getDocumentsAsync()).map(r=>r.filePath)}};d();function qX(e){let t=e;return typeof t?.cwd=="string"&&Array.isArray(t?.indexWorkspaceRoots)&&t.indexWorkspaceRoots.every(r=>Lat(r))}o(qX,"isIndexWorkerData");var $T=class{static{o(this,"IndexNotification")}constructor(t){this.operation=t}},_5=class extends $T{constructor(r,n){super(n);this.id=r;this.id=r}static{o(this,"IndexRequest")}},GN=class extends $T{constructor(r){super(E0.Cancel);this.messageIdToCancel=r}static{o(this,"CancellationNotification")}},E0={CreateIndex:"createIndex",AddOrInvalidated:"addOrInvalidated",GetContext:"getContext",Exit:"exit",Response:"response",RemoveIndex:"removeIndex",Cancel:"cancel",GetAllDocumentsInWorkspace:"getAllDocumentsInWorkspace"},HN=class extends _5{constructor(r,n,i){super(r,E0.CreateIndex);this.baseWorkspaceFolderPath=n;this.databaseFilePath=i}static{o(this,"CreateIndexRequest")}},VN=class extends _5{constructor(r,n){super(r,E0.RemoveIndex);this.baseWorkspaceFolderPath=n}static{o(this,"RemoveIndexRequest")}},jN=class extends _5{constructor(r,n,i){super(r,E0.AddOrInvalidated);this.filePath=n;this.languageId=i}static{o(this,"AddOrInvalidatedRequest")}},$N=class extends _5{constructor(r,n){super(r,E0.GetAllDocumentsInWorkspace);this.baseWorkspaceFolderPath=n}static{o(this,"GetAllDocumentsRequest")}},zN=class extends _5{constructor(r,n,i,s,a){super(r,E0.GetContext);this.filePath=n;this.code=i;this.offset=s;this.languageId=a}static{o(this,"GetContextRequest")}},YN=class extends _5{static{o(this,"ExitRequest")}constructor(t){super(t,E0.Exit)}},td=class extends $T{constructor(r,n,i){super(E0.Response);this.id=r;this.error=n;this.data=i;n&&"code"in n&&typeof n.code=="string"&&(this.code=n.code)}static{o(this,"ResponseMessage")}};function Lat(e){return"databaseFilePath"in e&&"rootPath"in e}o(Lat,"isIndexableWorkspaceFolder");var t4=tt(require("path")),u4e=tt(jn()),r4=require("worker_threads");var KN=class{static{o(this,"IndexInfo")}constructor(t){this.index=new qN(t,PN),this.contextRetreival=new FN(this.index.reader,$3e)}},WX=class e{constructor(t,r){this.indices=new Map;this.cancellationTokens=new Map;for(let n of r)this.indices.set(t4.default.normalize(n.rootPath),new KN(n.databaseFilePath));this.port=t,this.port.on("message",n=>void this.dispatchMessage(n,this.indices,this.cancellationTokens))}static{o(this,"IndexWorker")}async dispatchMessage(t,r,n){try{let i=new u4e.CancellationTokenSource;n.set(t.id,i);let s;switch(t.operation){case E0.AddOrInvalidated:s=await e.dispatchAddOrInvalidate(t,r,i.token);break;case E0.GetContext:s=await e.dispatchGetContext(t,r,i.token);break;case E0.Cancel:n.get(t.id)?.cancel(),s=new td(t.id,void 0,void 0);break;case E0.Exit:s=await this.dispatchExit(t,r,i.token);break;case E0.CreateIndex:s=await e.dispatchCreateIndex(t,r,i.token);break;case E0.RemoveIndex:s=await e.dispatchRemoveIndex(t,r,i.token);break;case E0.GetAllDocumentsInWorkspace:s=await e.GetAllDocumentsInWorkspaceRequest(t,r,i.token);break;default:this.port?.postMessage(new Error(`Unknown operation: ${t.operation}`))}s&&this.port?.postMessage(s),n.get(t.id)?.dispose(),n.delete(t.id)}catch(i){if(!(i instanceof Error))throw i;this.port?.postMessage(new td(t.id,i,void 0))}}static async GetAllDocumentsInWorkspaceRequest(t,r,n){let i=t4.default.normalize(t.baseWorkspaceFolderPath),s,a;return r.has(i)?a=await r.get(i).index.getDocumentFilePaths():s=new Error(`Index not found for ${t.baseWorkspaceFolderPath}`),new td(t.id,s,a)}static async dispatchAddOrInvalidate(t,r,n){let i=e.getIndexInfo(t.filePath,r)?.index,s;return i?await i.indexFile(t.filePath,t.languageId):s=new Error(`Index not found for ${t.filePath}`),new td(t.id,s,void 0)}static async dispatchGetContext(t,r,n){if(!ys(t.filePath))return new td(t.id,void 0,[]);let i=e.getIndexInfo(t.filePath,r)?.contextRetreival,s,a;return i?a=await i.getStringifiedContextAtPositionAsync(t.filePath,t.code,t.offset,t.languageId,8e3,n):s=new Error(`ContextRetrieval not found for ${t.filePath}`),new td(t.id,s,a)}async dispatchExit(t,r,n){for(let i of r.values())await i.index.dispose();r.clear(),this.port?.postMessage(new td(t.id,void 0,void 0)),this.port?.close()}static async dispatchCreateIndex(t,r,n){return r.has(t4.default.normalize(t.baseWorkspaceFolderPath))||r.set(t4.default.normalize(t.baseWorkspaceFolderPath),new KN(t.databaseFilePath)),new td(t.id,void 0,void 0)}static async dispatchRemoveIndex(t,r,n){let i=t4.default.normalize(t.baseWorkspaceFolderPath);if(r.has(i)){let s=r.get(i);s&&await s.index.dispose(),r.delete(i)}return new td(t.id,void 0,void 0)}static getIndexInfo(t,r){for(let[n,i]of r)if(t4.default.normalize(t).startsWith(n))return i}};function f4e(){return qX(r4.workerData)}o(f4e,"isIndexWorker");function d4e(){let e=r4.parentPort;if(!e)throw new Error("This must be run a worker thread.");if(!qX(r4.workerData))throw new Error("Worker data must provide a valid database path.");let t=r4.workerData.cwd;process.cwd=()=>t,new WX(e,r4.workerData.indexWorkspaceRoots)}o(d4e,"runIndexWorker");d();var zT=tt(require("util"));function m4e(e){let t=new console.Console(process.stderr,process.stderr);function r(n,...i){if(zf(e)==="dev")return e.get(ka).logIt(e,n,"console",...i)}return o(r,"logIt"),t.debug=(...n)=>r(4,...n),t.info=(...n)=>r(3,...n),t.warn=(...n)=>r(2,...n),t.error=(...n)=>r(1,...n),t.assert=(n,...i)=>{n||(i.length===0?r(2,"Assertion failed"):r(2,"Assertion failed:",zT.format(...i)))},t.dir=(n,i)=>r(4,zT.inspect(n,i)),t.log=t.debug.bind(t),t.trace=(...n)=>{let i=new Error(zT.format(...n));i.name="Trace",t.log(i)},t}o(m4e,"createConsole");var tWe=tt(require("fs/promises")),rWe=tt(require("os")),Wd=tt(Ap()),nWe=require("worker_threads");d();d();var FL=require("assert");d();d();var Ylt={right:e0t,center:t0t},Klt=0,SL=1,Jlt=2,_L=3,hZ=class{static{o(this,"UI")}constructor(t){var r;this.width=t.width,this.wrap=(r=t.wrap)!==null&&r!==void 0?r:!0,this.rows=[]}span(...t){let r=this.div(...t);r.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let r=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(r),r}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let r=t.split(`
`).map(i=>i.split("	")),n=0;return r.forEach(i=>{i.length>1&&Mu.stringWidth(i[0])>n&&(n=Math.min(Math.floor(this.width*.5),Mu.stringWidth(i[0])))}),r.forEach(i=>{this.div(...i.map((s,a)=>({text:s.trim(),padding:this.measurePadding(s),width:a===0&&i.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let r=Mu.stripAnsi(t);return[0,r.match(/\s*$/)[0].length,0,r.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(r=>{this.rowToString(r,t)}),t.filter(r=>!r.hidden).map(r=>r.text).join(`
`)}rowToString(t,r){return this.rasterize(t).forEach((n,i)=>{let s="";n.forEach((a,l)=>{let{width:c}=t[l],u=this.negatePadding(t[l]),f=a;if(u>Mu.stringWidth(a)&&(f+=" ".repeat(u-Mu.stringWidth(a))),t[l].align&&t[l].align!=="left"&&this.wrap){let h=Ylt[t[l].align];f=h(f,u),Mu.stringWidth(f)<u&&(f+=" ".repeat((c||0)-Mu.stringWidth(f)-1))}let m=t[l].padding||[0,0,0,0];m[_L]&&(s+=" ".repeat(m[_L])),s+=axe(t[l],f,"| "),s+=f,s+=axe(t[l],f," |"),m[SL]&&(s+=" ".repeat(m[SL])),i===0&&r.length>0&&(s=this.renderInline(s,r[r.length-1]))}),r.push({text:s.replace(/ +$/,""),span:t.span})}),r}renderInline(t,r){let n=t.match(/^ */),i=n?n[0].length:0,s=r.text,a=Mu.stringWidth(s.trimRight());return r.span?this.wrap?i<a?t:(r.hidden=!0,s.trimRight()+" ".repeat(i-a)+t.trimLeft()):(r.hidden=!0,s+t):t}rasterize(t){let r=[],n=this.columnWidths(t),i;return t.forEach((s,a)=>{s.width=n[a],this.wrap?i=Mu.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[Klt]||0).fill("")),i.push(...new Array(s.padding[Jlt]||0).fill(""))),i.forEach((l,c)=>{r[c]||r.push([]);let u=r[c];for(let f=0;f<a;f++)u[f]===void 0&&u.push("");u.push(l)})}),r}negatePadding(t){let r=t.width||0;return t.padding&&(r-=(t.padding[_L]||0)+(t.padding[SL]||0)),t.border&&(r-=4),r}columnWidths(t){if(!this.wrap)return t.map(a=>a.width||Mu.stringWidth(a.text));let r=t.length,n=this.width,i=t.map(a=>{if(a.width)return r--,n-=a.width,a.width}),s=r?Math.floor(n/r):0;return i.map((a,l)=>a===void 0?Math.max(s,Xlt(t[l])):a)}};function axe(e,t,r){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?r:"  ":""}o(axe,"addBorder");function Xlt(e){let t=e.padding||[],r=1+(t[_L]||0)+(t[SL]||0);return e.border?r+4:r}o(Xlt,"_minWidth");function Zlt(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}o(Zlt,"getWindowWidth");function e0t(e,t){e=e.trim();let r=Mu.stringWidth(e);return r<t?" ".repeat(t-r)+e:e}o(e0t,"alignRight");function t0t(e,t){e=e.trim();let r=Mu.stringWidth(e);return r>=t?e:" ".repeat(t-r>>1)+e}o(t0t,"alignCenter");var Mu;function lxe(e,t){return Mu=t,new hZ({width:e?.width||Zlt(),wrap:e?.wrap})}o(lxe,"cliui");d();var cxe=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function pZ(e){return e.replace(cxe,"")}o(pZ,"stripAnsi");function uxe(e,t){let[r,n]=e.match(cxe)||["",""];e=pZ(e);let i="";for(let s=0;s<e.length;s++)s!==0&&s%t===0&&(i+=`
`),i+=e.charAt(s);return r&&n&&(i=`${r}${i}${n}`),i}o(uxe,"wrap");function gZ(e){return lxe(e,{stringWidth:o(t=>[...t].length,"stringWidth"),stripAnsi:pZ,wrap:uxe})}o(gZ,"ui");d();var zv=require("path"),kL=require("fs");function AZ(e,t){let r=(0,zv.resolve)(".",e),n;for((0,kL.statSync)(r).isDirectory()||(r=(0,zv.dirname)(r));;){if(n=t(r,(0,kL.readdirSync)(r)),n)return(0,zv.resolve)(r,n);if(r=(0,zv.dirname)(n=r),n===r)break}}o(AZ,"default");var wxe=require("util"),Sxe=require("fs"),_xe=require("url");d();var pxe=require("util"),PL=require("path");d();function s4(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let r="",n=!1,i=e.match(/^-+/);for(let s=i?i[0].length:0;s<e.length;s++){let a=e.charAt(s);n&&(n=!1,a=a.toUpperCase()),s!==0&&(a==="-"||a==="_")?n=!0:a!=="-"&&a!=="_"&&(r+=a)}return r}}o(s4,"camelCase");function BL(e,t){let r=e.toLowerCase();t=t||"-";let n="";for(let i=0;i<e.length;i++){let s=r.charAt(i),a=e.charAt(i);s!==a&&i>0?n+=`${t}${r.charAt(i)}`:n+=a}return n}o(BL,"decamelize");function RL(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}o(RL,"looksLikeNumber");d();d();function fxe(e){if(Array.isArray(e))return e.map(a=>typeof a!="string"?a+"":a);e=e.trim();let t=0,r=null,n=null,i=null,s=[];for(let a=0;a<e.length;a++){if(r=n,n=e.charAt(a),n===" "&&!i){r!==" "&&t++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),s[t]||(s[t]=""),s[t]+=n}return s}o(fxe,"tokenizeArgString");d();var sd;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(sd||(sd={}));var w1,DL=class{static{o(this,"YargsParser")}constructor(t){w1=t}parse(t,r){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),i=fxe(t),s=typeof t=="string",a=r0t(Object.assign(Object.create(null),n.alias)),l=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),c=Object.assign(Object.create(null),n.default),u=n.configObjects||[],f=n.envPrefix,m=l["populate--"],h=m?"--":"_",p=Object.create(null),A=Object.create(null),x=n.__||w1.format,E={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},v=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,b=new RegExp("^--"+l["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(Y){let re=typeof Y=="object"?Y.key:Y,Ne=Object.keys(Y).map(function(Se){return{boolean:"bools",string:"strings",number:"numbers"}[Se]}).filter(Boolean).pop();Ne&&(E[Ne][re]=!0),E.arrays[re]=!0,E.keys.push(re)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(Y){E.bools[Y]=!0,E.keys.push(Y)}),[].concat(n.string||[]).filter(Boolean).forEach(function(Y){E.strings[Y]=!0,E.keys.push(Y)}),[].concat(n.number||[]).filter(Boolean).forEach(function(Y){E.numbers[Y]=!0,E.keys.push(Y)}),[].concat(n.count||[]).filter(Boolean).forEach(function(Y){E.counts[Y]=!0,E.keys.push(Y)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(Y){E.normalize[Y]=!0,E.keys.push(Y)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([Y,re])=>{typeof re=="number"&&(E.nargs[Y]=re,E.keys.push(Y))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([Y,re])=>{typeof re=="function"&&(E.coercions[Y]=re,E.keys.push(Y))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(Y){E.configs[Y]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([Y,re])=>{(typeof re=="boolean"||typeof re=="function")&&(E.configs[Y]=re)})),Re(n.key,a,n.default,E.arrays),Object.keys(c).forEach(function(Y){(E.aliases[Y]||[]).forEach(function(re){c[re]=c[Y]})});let S=null;We();let B=[],D=Object.assign(Object.create(null),{_:[]}),F={};for(let Y=0;Y<i.length;Y++){let re=i[Y],Ne=re.replace(/^-{3,}/,"---"),Se,Ce,Ue,Ve,et,yt;if(re!=="--"&&/^-/.test(re)&&at(re))W(re);else if(Ne.match(/^---+(=|$)/)){W(re);continue}else if(re.match(/^--.+=/)||!l["short-option-groups"]&&re.match(/^-.+=/))Ve=re.match(/^--?([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&(Ee(Ve[1],E.arrays)?Y=de(Y,Ve[1],i,Ve[2]):Ee(Ve[1],E.nargs)!==!1?Y=ee(Y,Ve[1],i,Ve[2]):X(Ve[1],Ve[2],!0));else if(re.match(b)&&l["boolean-negation"])Ve=re.match(b),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],X(Ce,Ee(Ce,E.arrays)?[!1]:!1));else if(re.match(/^--.+/)||!l["short-option-groups"]&&re.match(/^-[^-]+/))Ve=re.match(/^--?(.+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],Ee(Ce,E.arrays)?Y=de(Y,Ce,i):Ee(Ce,E.nargs)!==!1?Y=ee(Y,Ce,i):(et=i[Y+1],et!==void 0&&(!et.match(/^-/)||et.match(v))&&!Ee(Ce,E.bools)&&!Ee(Ce,E.counts)||/^(true|false)$/.test(et)?(X(Ce,et),Y++):X(Ce,st(Ce))));else if(re.match(/^-.\..+=/))Ve=re.match(/^-([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&X(Ve[1],Ve[2]);else if(re.match(/^-.\..+/)&&!re.match(v))et=i[Y+1],Ve=re.match(/^-(.\..+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],et!==void 0&&!et.match(/^-/)&&!Ee(Ce,E.bools)&&!Ee(Ce,E.counts)?(X(Ce,et),Y++):X(Ce,st(Ce)));else if(re.match(/^-[^-]+/)&&!re.match(v)){Ue=re.slice(1,-1).split(""),Se=!1;for(let Rt=0;Rt<Ue.length;Rt++){if(et=re.slice(Rt+2),Ue[Rt+1]&&Ue[Rt+1]==="="){yt=re.slice(Rt+3),Ce=Ue[Rt],Ee(Ce,E.arrays)?Y=de(Y,Ce,i,yt):Ee(Ce,E.nargs)!==!1?Y=ee(Y,Ce,i,yt):X(Ce,yt),Se=!0;break}if(et==="-"){X(Ue[Rt],et);continue}if(/[A-Za-z]/.test(Ue[Rt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(et)&&Ee(et,E.bools)===!1){X(Ue[Rt],et),Se=!0;break}if(Ue[Rt+1]&&Ue[Rt+1].match(/\W/)){X(Ue[Rt],et),Se=!0;break}else X(Ue[Rt],st(Ue[Rt]))}Ce=re.slice(-1)[0],!Se&&Ce!=="-"&&(Ee(Ce,E.arrays)?Y=de(Y,Ce,i):Ee(Ce,E.nargs)!==!1?Y=ee(Y,Ce,i):(et=i[Y+1],et!==void 0&&(!/^(-|--)[^-]/.test(et)||et.match(v))&&!Ee(Ce,E.bools)&&!Ee(Ce,E.counts)||/^(true|false)$/.test(et)?(X(Ce,et),Y++):X(Ce,st(Ce))))}else if(re.match(/^-[0-9]$/)&&re.match(v)&&Ee(re.slice(1),E.bools))Ce=re.slice(1),X(Ce,st(Ce));else if(re==="--"){B=i.slice(Y+1);break}else if(l["halt-at-non-option"]){B=i.slice(Y);break}else W(re)}j(D,!0),j(D,!1),z(D),M(),ne(D,E.aliases,c,!0),Z(D),l["set-placeholder-key"]&&ae(D),Object.keys(E.counts).forEach(function(Y){le(D,Y.split("."))||X(Y,0)}),m&&B.length&&(D[h]=[]),B.forEach(function(Y){D[h].push(Y)}),l["camel-case-expansion"]&&l["strip-dashed"]&&Object.keys(D).filter(Y=>Y!=="--"&&Y.includes("-")).forEach(Y=>{delete D[Y]}),l["strip-aliased"]&&[].concat(...Object.keys(a).map(Y=>a[Y])).forEach(Y=>{l["camel-case-expansion"]&&Y.includes("-")&&delete D[Y.split(".").map(re=>s4(re)).join(".")],delete D[Y]});function W(Y){let re=ie("_",Y);(typeof re=="string"||typeof re=="number")&&D._.push(re)}o(W,"pushPositional");function ee(Y,re,Ne,Se){let Ce,Ue=Ee(re,E.nargs);if(Ue=typeof Ue!="number"||isNaN(Ue)?1:Ue,Ue===0)return Ae(Se)||(S=Error(x("Argument unexpected for: %s",re))),X(re,st(re)),Y;let Ve=Ae(Se)?0:1;if(l["nargs-eats-options"])Ne.length-(Y+1)+Ve<Ue&&(S=Error(x("Not enough arguments following: %s",re))),Ve=Ue;else{for(Ce=Y+1;Ce<Ne.length&&(!Ne[Ce].match(/^-[^0-9]/)||Ne[Ce].match(v)||at(Ne[Ce]));Ce++)Ve++;Ve<Ue&&(S=Error(x("Not enough arguments following: %s",re)))}let et=Math.min(Ve,Ue);for(!Ae(Se)&&et>0&&(X(re,Se),et--),Ce=Y+1;Ce<et+Y+1;Ce++)X(re,Ne[Ce]);return Y+et}o(ee,"eatNargs");function de(Y,re,Ne,Se){let Ce=[],Ue=Se||Ne[Y+1],Ve=Ee(re,E.nargs);if(Ee(re,E.bools)&&!/^(true|false)$/.test(Ue))Ce.push(!0);else if(Ae(Ue)||Ae(Se)&&/^-/.test(Ue)&&!v.test(Ue)&&!at(Ue)){if(c[re]!==void 0){let et=c[re];Ce=Array.isArray(et)?et:[et]}}else{Ae(Se)||Ce.push(U(re,Se,!0));for(let et=Y+1;et<Ne.length&&!(!l["greedy-arrays"]&&Ce.length>0||Ve&&typeof Ve=="number"&&Ce.length>=Ve||(Ue=Ne[et],/^-/.test(Ue)&&!v.test(Ue)&&!at(Ue)));et++)Y=et,Ce.push(U(re,Ue,s))}return typeof Ve=="number"&&(Ve&&Ce.length<Ve||isNaN(Ve)&&Ce.length===0)&&(S=Error(x("Not enough arguments following: %s",re))),X(re,Ce),Y}o(de,"eatArray");function X(Y,re,Ne=s){if(/-/.test(Y)&&l["camel-case-expansion"]){let Ue=Y.split(".").map(function(Ve){return s4(Ve)}).join(".");G(Y,Ue)}let Se=U(Y,re,Ne),Ce=Y.split(".");fe(D,Ce,Se),E.aliases[Y]&&E.aliases[Y].forEach(function(Ue){let Ve=Ue.split(".");fe(D,Ve,Se)}),Ce.length>1&&l["dot-notation"]&&(E.aliases[Ce[0]]||[]).forEach(function(Ue){let Ve=Ue.split("."),et=[].concat(Ce);et.shift(),Ve=Ve.concat(et),(E.aliases[Y]||[]).includes(Ve.join("."))||fe(D,Ve,Se)}),Ee(Y,E.normalize)&&!Ee(Y,E.arrays)&&[Y].concat(E.aliases[Y]||[]).forEach(function(Ve){Object.defineProperty(F,Ve,{enumerable:!0,get(){return re},set(et){re=typeof et=="string"?w1.normalize(et):et}})})}o(X,"setArg");function G(Y,re){E.aliases[Y]&&E.aliases[Y].length||(E.aliases[Y]=[re],p[re]=!0),E.aliases[re]&&E.aliases[re].length||G(re,Y)}o(G,"addNewAlias");function U(Y,re,Ne){Ne&&(re=n0t(re)),(Ee(Y,E.bools)||Ee(Y,E.counts))&&typeof re=="string"&&(re=re==="true");let Se=Array.isArray(re)?re.map(function(Ce){return ie(Y,Ce)}):ie(Y,re);return Ee(Y,E.counts)&&(Ae(Se)||typeof Se=="boolean")&&(Se=yZ()),Ee(Y,E.normalize)&&Ee(Y,E.arrays)&&(Array.isArray(re)?Se=re.map(Ce=>w1.normalize(Ce)):Se=w1.normalize(re)),Se}o(U,"processValue");function ie(Y,re){return!l["parse-positional-numbers"]&&Y==="_"||!Ee(Y,E.strings)&&!Ee(Y,E.bools)&&!Array.isArray(re)&&(RL(re)&&l["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${re}`)))||!Ae(re)&&Ee(Y,E.numbers))&&(re=Number(re)),re}o(ie,"maybeCoerceNumber");function z(Y){let re=Object.create(null);ne(re,E.aliases,c),Object.keys(E.configs).forEach(function(Ne){let Se=Y[Ne]||re[Ne];if(Se)try{let Ce=null,Ue=w1.resolve(w1.cwd(),Se),Ve=E.configs[Ne];if(typeof Ve=="function"){try{Ce=Ve(Ue)}catch(et){Ce=et}if(Ce instanceof Error){S=Ce;return}}else Ce=w1.require(Ue);H(Ce)}catch(Ce){Ce.name==="PermissionDenied"?S=Ce:Y[Ne]&&(S=Error(x("Invalid JSON config file: %s",Se)))}})}o(z,"setConfig");function H(Y,re){Object.keys(Y).forEach(function(Ne){let Se=Y[Ne],Ce=re?re+"."+Ne:Ne;typeof Se=="object"&&Se!==null&&!Array.isArray(Se)&&l["dot-notation"]?H(Se,Ce):(!le(D,Ce.split("."))||Ee(Ce,E.arrays)&&l["combine-arrays"])&&X(Ce,Se)})}o(H,"setConfigObject");function M(){typeof u<"u"&&u.forEach(function(Y){H(Y)})}o(M,"setConfigObjects");function j(Y,re){if(typeof f>"u")return;let Ne=typeof f=="string"?f:"",Se=w1.env();Object.keys(Se).forEach(function(Ce){if(Ne===""||Ce.lastIndexOf(Ne,0)===0){let Ue=Ce.split("__").map(function(Ve,et){return et===0&&(Ve=Ve.substring(Ne.length)),s4(Ve)});(re&&E.configs[Ue.join(".")]||!re)&&!le(Y,Ue)&&X(Ue.join("."),Se[Ce])}})}o(j,"applyEnvVars");function Z(Y){let re,Ne=new Set;Object.keys(Y).forEach(function(Se){if(!Ne.has(Se)&&(re=Ee(Se,E.coercions),typeof re=="function"))try{let Ce=ie(Se,re(Y[Se]));[].concat(E.aliases[Se]||[],Se).forEach(Ue=>{Ne.add(Ue),Y[Ue]=Ce})}catch(Ce){S=Ce}})}o(Z,"applyCoercions");function ae(Y){return E.keys.forEach(re=>{~re.indexOf(".")||typeof Y[re]>"u"&&(Y[re]=void 0)}),Y}o(ae,"setPlaceholderKeys");function ne(Y,re,Ne,Se=!1){Object.keys(Ne).forEach(function(Ce){le(Y,Ce.split("."))||(fe(Y,Ce.split("."),Ne[Ce]),Se&&(A[Ce]=!0),(re[Ce]||[]).forEach(function(Ue){le(Y,Ue.split("."))||fe(Y,Ue.split("."),Ne[Ce])}))})}o(ne,"applyDefaultsAndAliases");function le(Y,re){let Ne=Y;l["dot-notation"]||(re=[re.join(".")]),re.slice(0,-1).forEach(function(Ce){Ne=Ne[Ce]||{}});let Se=re[re.length-1];return typeof Ne!="object"?!1:Se in Ne}o(le,"hasKey");function fe(Y,re,Ne){let Se=Y;l["dot-notation"]||(re=[re.join(".")]),re.slice(0,-1).forEach(function(yt){yt=dxe(yt),typeof Se=="object"&&Se[yt]===void 0&&(Se[yt]={}),typeof Se[yt]!="object"||Array.isArray(Se[yt])?(Array.isArray(Se[yt])?Se[yt].push({}):Se[yt]=[Se[yt],{}],Se=Se[yt][Se[yt].length-1]):Se=Se[yt]});let Ce=dxe(re[re.length-1]),Ue=Ee(re.join("."),E.arrays),Ve=Array.isArray(Ne),et=l["duplicate-arguments-array"];!et&&Ee(Ce,E.nargs)&&(et=!0,(!Ae(Se[Ce])&&E.nargs[Ce]===1||Array.isArray(Se[Ce])&&Se[Ce].length===E.nargs[Ce])&&(Se[Ce]=void 0)),Ne===yZ()?Se[Ce]=yZ(Se[Ce]):Array.isArray(Se[Ce])?et&&Ue&&Ve?Se[Ce]=l["flatten-duplicate-arrays"]?Se[Ce].concat(Ne):(Array.isArray(Se[Ce][0])?Se[Ce]:[Se[Ce]]).concat([Ne]):!et&&!!Ue==!!Ve?Se[Ce]=Ne:Se[Ce]=Se[Ce].concat([Ne]):Se[Ce]===void 0&&Ue?Se[Ce]=Ve?Ne:[Ne]:et&&!(Se[Ce]===void 0||Ee(Ce,E.counts)||Ee(Ce,E.bools))?Se[Ce]=[Se[Ce],Ne]:Se[Ce]=Ne}o(fe,"setKey");function Re(...Y){Y.forEach(function(re){Object.keys(re||{}).forEach(function(Ne){E.aliases[Ne]||(E.aliases[Ne]=[].concat(a[Ne]||[]),E.aliases[Ne].concat(Ne).forEach(function(Se){if(/-/.test(Se)&&l["camel-case-expansion"]){let Ce=s4(Se);Ce!==Ne&&E.aliases[Ne].indexOf(Ce)===-1&&(E.aliases[Ne].push(Ce),p[Ce]=!0)}}),E.aliases[Ne].concat(Ne).forEach(function(Se){if(Se.length>1&&/[A-Z]/.test(Se)&&l["camel-case-expansion"]){let Ce=BL(Se,"-");Ce!==Ne&&E.aliases[Ne].indexOf(Ce)===-1&&(E.aliases[Ne].push(Ce),p[Ce]=!0)}}),E.aliases[Ne].forEach(function(Se){E.aliases[Se]=[Ne].concat(E.aliases[Ne].filter(function(Ce){return Se!==Ce}))}))})})}o(Re,"extendAliases");function Ee(Y,re){let Ne=[].concat(E.aliases[Y]||[],Y),Se=Object.keys(re),Ce=Ne.find(Ue=>Se.includes(Ue));return Ce?re[Ce]:!1}o(Ee,"checkAllAliases");function Oe(Y){let re=Object.keys(E);return[].concat(re.map(Se=>E[Se])).some(function(Se){return Array.isArray(Se)?Se.includes(Y):Se[Y]})}o(Oe,"hasAnyFlag");function Be(Y,...re){return[].concat(...re).some(function(Se){let Ce=Y.match(Se);return Ce&&Oe(Ce[1])})}o(Be,"hasFlagsMatching");function Je(Y){if(Y.match(v)||!Y.match(/^-[^-]+/))return!1;let re=!0,Ne,Se=Y.slice(1).split("");for(let Ce=0;Ce<Se.length;Ce++){if(Ne=Y.slice(Ce+2),!Oe(Se[Ce])){re=!1;break}if(Se[Ce+1]&&Se[Ce+1]==="="||Ne==="-"||/[A-Za-z]/.test(Se[Ce])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Ne)||Se[Ce+1]&&Se[Ce+1].match(/\W/))break}return re}o(Je,"hasAllShortFlags");function at(Y){return l["unknown-options-as-args"]&&Xe(Y)}o(at,"isUnknownOptionAsArg");function Xe(Y){return Y=Y.replace(/^-{3,}/,"--"),Y.match(v)||Je(Y)?!1:!Be(Y,/^-+([^=]+?)=[\s\S]*$/,b,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}o(Xe,"isUnknownOption");function st(Y){return!Ee(Y,E.bools)&&!Ee(Y,E.counts)&&`${Y}`in c?c[Y]:oe(Pe(Y))}o(st,"defaultValue");function oe(Y){return{[sd.BOOLEAN]:!0,[sd.STRING]:"",[sd.NUMBER]:void 0,[sd.ARRAY]:[]}[Y]}o(oe,"defaultForType");function Pe(Y){let re=sd.BOOLEAN;return Ee(Y,E.strings)?re=sd.STRING:Ee(Y,E.numbers)?re=sd.NUMBER:Ee(Y,E.bools)?re=sd.BOOLEAN:Ee(Y,E.arrays)&&(re=sd.ARRAY),re}o(Pe,"guessType");function Ae(Y){return Y===void 0}o(Ae,"isUndefined");function We(){Object.keys(E.counts).find(Y=>Ee(Y,E.arrays)?(S=Error(x("Invalid configuration: %s, opts.count excludes opts.array.",Y)),!0):Ee(Y,E.nargs)?(S=Error(x("Invalid configuration: %s, opts.count excludes opts.narg.",Y)),!0):!1)}return o(We,"checkConfiguration"),{aliases:Object.assign({},E.aliases),argv:Object.assign(F,D),configuration:l,defaulted:Object.assign({},A),error:S,newAliases:Object.assign({},p)}}};function r0t(e){let t=[],r=Object.create(null),n=!0;for(Object.keys(e).forEach(function(i){t.push([].concat(e[i],i))});n;){n=!1;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++)if(t[i].filter(function(l){return t[s].indexOf(l)!==-1}).length){t[i]=t[i].concat(t[s]),t.splice(s,1),n=!0;break}}return t.forEach(function(i){i=i.filter(function(a,l,c){return c.indexOf(a)===l});let s=i.pop();s!==void 0&&typeof s=="string"&&(r[s]=i)}),r}o(r0t,"combineAliases");function yZ(e){return e!==void 0?e+1:1}o(yZ,"increment");function dxe(e){return e==="__proto__"?"___proto___":e}o(dxe,"sanitizeKey");function n0t(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}o(n0t,"stripQuotes");var gxe=require("fs");var CZ,xZ,EZ,mxe=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,hxe=(xZ=(CZ=process==null?void 0:process.versions)===null||CZ===void 0?void 0:CZ.node)!==null&&xZ!==void 0?xZ:(EZ=process==null?void 0:process.version)===null||EZ===void 0?void 0:EZ.slice(1);if(hxe&&Number(hxe.match(/^([^.]+)/)[1])<mxe)throw Error(`yargs parser supports a minimum Node.js version of ${mxe}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var i0t=process?process.env:{},Axe=new DL({cwd:process.cwd,env:o(()=>i0t,"env"),format:pxe.format,normalize:PL.normalize,resolve:PL.resolve,require:o(e=>{if(typeof require<"u")return require(e);if(e.match(/\.json$/))return JSON.parse((0,gxe.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")},"require")}),tw=o(function(t,r){return Axe.parse(t.slice(),r).argv},"Parser");tw.detailed=function(e,t){return Axe.parse(e.slice(),t)};tw.camelCase=s4;tw.decamelize=BL;tw.looksLikeNumber=RL;var yxe=tw;var Mm=require("path");d();function o0t(){return s0t()?0:1}o(o0t,"getProcessArgvBinIndex");function s0t(){return a0t()&&!process.defaultApp}o(s0t,"isBundledElectronApp");function a0t(){return!!process.versions.electron}o(a0t,"isElectronApp");function Cxe(){return process.argv[o0t()]}o(Cxe,"getProcessArgvBin");d();var es=class e extends Error{static{o(this,"YError")}constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,e)}};d();d();var Yv=require("fs"),xxe=require("util"),Exe=require("path");var bxe={fs:{readFileSync:Yv.readFileSync,writeFile:Yv.writeFile},format:xxe.format,resolve:Exe.resolve,exists:o(e=>{try{return(0,Yv.statSync)(e).isFile()}catch{return!1}},"exists")};d();var Qm,bZ=class{static{o(this,"Y18N")}constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let r=t.shift(),n=o(function(){},"cb");return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]=r,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),Qm.format.apply(Qm.format,[this.cache[this.locale][r]||r].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),r=t.shift(),n=t.shift(),i=t.shift(),s=o(function(){},"cb");typeof t[t.length-1]=="function"&&(s=t.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?r:n;this.cache[this.locale][r]&&(a=this.cache[this.locale][r][i===1?"one":"other"]),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]={one:r,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let l=[a];return~a.indexOf("%d")&&l.push(i),Qm.format.apply(Qm.format,l.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.cache[this.locale][r]=t[r])}_taggedLiteral(t,...r){let n="";return t.forEach(function(i,s){let a=r[s+1];n+=i,typeof a<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(r,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,r=this.writeQueue[0],n=r.directory,i=r.locale,s=r.cb,a=this._resolveLocaleFile(n,i),l=JSON.stringify(this.cache[i],null,2);Qm.fs.writeFile(a,l,"utf-8",function(c){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),s(c)})}_readLocaleFile(){let t={},r=this._resolveLocaleFile(this.directory,this.locale);try{Qm.fs.readFileSync&&(t=JSON.parse(Qm.fs.readFileSync(r,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+r),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t}_resolveLocaleFile(t,r){let n=Qm.resolve(t,"./",r+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~r.lastIndexOf("_")){let i=Qm.resolve(t,"./",r.split("_")[0]+".json");this._fileExistsSync(i)&&(n=i)}return n}_fileExistsSync(t){return Qm.exists(t)}};function vxe(e,t){Qm=t;let r=new bZ(e);return{__:r.__.bind(r),__n:r.__n.bind(r),setLocale:r.setLocale.bind(r),getLocale:r.getLocale.bind(r),updateLocale:r.updateLocale.bind(r),locale:r.locale}}o(vxe,"y18n");var l0t=o(e=>vxe(e,bxe),"y18n"),Ixe=l0t;var c0t="require is not supported by ESM",Txe="loading a directory of commands is not supported yet for ESM",rw;try{rw=(0,_xe.fileURLToPath)(importMetaUrlShim)}catch{rw=process.cwd()}var u0t=rw.substring(0,rw.lastIndexOf("node_modules")),kxe={assert:{notStrictEqual:FL.notStrictEqual,strictEqual:FL.strictEqual},cliui:gZ,findUp:AZ,getEnv:o(e=>process.env[e],"getEnv"),inspect:wxe.inspect,getCallerFile:o(()=>{throw new es(Txe)},"getCallerFile"),getProcessArgvBin:Cxe,mainFilename:u0t||process.cwd(),Parser:yxe,path:{basename:Mm.basename,dirname:Mm.dirname,extname:Mm.extname,relative:Mm.relative,resolve:Mm.resolve},process:{argv:o(()=>process.argv,"argv"),cwd:process.cwd,emitWarning:o((e,t)=>process.emitWarning(e,t),"emitWarning"),execPath:o(()=>process.execPath,"execPath"),exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:Sxe.readFileSync,require:o(()=>{throw new es(c0t)},"require"),requireDirectory:o(()=>{throw new es(Txe)},"requireDirectory"),stringWidth:o(e=>[...e].length,"stringWidth"),y18n:Ixe({directory:(0,Mm.resolve)(rw,"../../../locales"),updateFiles:!1})};d();d();d();function j0(e,t,r,n){r.assert.notStrictEqual(e,t,n)}o(j0,"assertNotStrictEqual");function vZ(e,t){t.assert.strictEqual(typeof e,"string")}o(vZ,"assertSingleKey");function Kv(e){return Object.keys(e)}o(Kv,"objectKeys");d();function ts(e){return!!e&&!!e.then&&typeof e.then=="function"}o(ts,"isPromise");d();d();d();function D5(e){let r=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=r.shift();if(!i)throw new Error(`No command found in: ${e}`);let s={cmd:i.replace(n,""),demanded:[],optional:[]};return r.forEach((a,l)=>{let c=!1;a=a.replace(/\s/g,""),/\.+[\]>]/.test(a)&&l===r.length-1&&(c=!0),/^\[/.test(a)?s.optional.push({cmd:a.replace(n,"").split("|"),variadic:c}):s.demanded.push({cmd:a.replace(n,"").split("|"),variadic:c})}),s}o(D5,"parseCommand");var f0t=["first","second","third","fourth","fifth","sixth"];function kr(e,t,r){function n(){return typeof e=="object"?[{demanded:[],optional:[]},e,t]:[D5(`cmd ${e}`),t,r]}o(n,"parseArgs");try{let i=0,[s,a,l]=n(),c=[].slice.call(a);for(;c.length&&c[c.length-1]===void 0;)c.pop();let u=l||c.length;if(u<s.demanded.length)throw new es(`Not enough arguments provided. Expected ${s.demanded.length} but received ${c.length}.`);let f=s.demanded.length+s.optional.length;if(u>f)throw new es(`Too many arguments provided. Expected max ${f} but received ${u}.`);s.demanded.forEach(m=>{let h=c.shift(),p=Bxe(h);m.cmd.filter(x=>x===p||x==="*").length===0&&Rxe(p,m.cmd,i),i+=1}),s.optional.forEach(m=>{if(c.length===0)return;let h=c.shift(),p=Bxe(h);m.cmd.filter(x=>x===p||x==="*").length===0&&Rxe(p,m.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}o(kr,"argsert");function Bxe(e){return Array.isArray(e)?"array":e===null?"null":typeof e}o(Bxe,"guessType");function Rxe(e,t,r){throw new es(`Invalid ${f0t[r]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}o(Rxe,"argumentTypeError");var NL=class{static{o(this,"GlobalMiddleware")}constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,r,n=!0,i=!1){if(kr("<array|function> [boolean] [boolean] [boolean]",[t,r,n],arguments.length),Array.isArray(t)){for(let s=0;s<t.length;s++){if(typeof t[s]!="function")throw Error("middleware must be a function");let a=t[s];a.applyBeforeValidation=r,a.global=n}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let s=t;s.applyBeforeValidation=r,s.global=n,s.mutates=i,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,r){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...n[r]||[],r];return i.option?!s.includes(i.option):!0}),t.option=r,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function Dxe(e){return e?e.map(t=>(t.applyBeforeValidation=!1,t)):[]}o(Dxe,"commandMiddlewareFactory");function a4(e,t,r,n){return r.reduce((i,s)=>{if(s.applyBeforeValidation!==n)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if(ts(i))return i.then(a=>Promise.all([a,s(a,t)])).then(([a,l])=>Object.assign(a,l));{let a=s(i,t);return ts(a)?a.then(l=>Object.assign(i,l)):Object.assign(i,a)}},e)}o(a4,"applyMiddleware");d();function l4(e,t,r=n=>{throw n}){try{let n=d0t(e)?e():e;return ts(n)?n.then(i=>t(i)):t(n)}catch(n){return r(n)}}o(l4,"maybeAsyncResult");function d0t(e){return typeof e=="function"}o(d0t,"isFunction");d();function IZ(e){if(typeof require>"u")return null;for(let t=0,r=Object.keys(require.cache),n;t<r.length;t++)if(n=require.cache[r[t]],n.exports===e)return n;return null}o(IZ,"whichModule");var Jv=/(^\*)|(^\$0)/,TZ=class{static{o(this,"CommandInstance")}constructor(t,r,n,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=t,this.globalMiddleware=n,this.validation=r}addDirectory(t,r,n,i){i=i||{},typeof i.recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,l,c)=>{let u=s(a,l,c);if(u){if(this.requireCache.has(l))return u;this.requireCache.add(l),this.addHandler(u)}return u},this.shim.requireDirectory({require:r,filename:n},t,i)}addHandler(t,r,n,i,s,a){let l=[],c=Dxe(s);if(i=i||(()=>{}),Array.isArray(t))if(m0t(t))[t,...l]=t;else for(let u of t)this.addHandler(u);else if(p0t(t)){let u=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(u=[].concat(u).concat(t.aliases)),this.addHandler(u,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(Pxe(n)){this.addHandler([t].concat(l),r,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof t=="string"){let u=D5(t);l=l.map(h=>D5(h).cmd);let f=!1,m=[u.cmd].concat(l).filter(h=>Jv.test(h)?(f=!0,!1):!0);m.length===0&&f&&m.push("$0"),f&&(u.cmd=m[0],l=m.slice(1),t=t.replace(Jv,u.cmd)),l.forEach(h=>{this.aliasMap[h]=u.cmd}),r!==!1&&this.usage.command(t,r,f,l,a),this.handlers[u.cmd]={original:t,description:r,handler:i,builder:n||{},middlewares:c,deprecated:a,demanded:u.demanded,optional:u.optional},f&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,r,n,i,s,a){let l=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,c=r.getInternalMethods().getContext(),u=c.commands.slice(),f=!t;t&&(c.commands.push(t),c.fullCommands.push(l.original));let m=this.applyBuilderUpdateUsageAndParse(f,l,r,n.aliases,u,i,s,a);return ts(m)?m.then(h=>this.applyMiddlewareAndGetResult(f,l,h.innerArgv,c,s,h.aliases,r)):this.applyMiddlewareAndGetResult(f,l,m.innerArgv,c,s,m.aliases,r)}applyBuilderUpdateUsageAndParse(t,r,n,i,s,a,l,c){let u=r.builder,f=n;if(LL(u)){n.getInternalMethods().getUsageInstance().freeze();let m=u(n.getInternalMethods().reset(i),c);if(ts(m))return m.then(h=>(f=Nxe(h)?h:n,this.parseAndUpdateUsage(t,r,f,s,a,l)))}else h0t(u)&&(n.getInternalMethods().getUsageInstance().freeze(),f=n.getInternalMethods().reset(i),Object.keys(r.builder).forEach(m=>{f.option(m,u[m])}));return this.parseAndUpdateUsage(t,r,f,s,a,l)}parseAndUpdateUsage(t,r,n,i,s,a){t&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,r),r.description);let l=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,a);return ts(l)?l.then(c=>({aliases:n.parsed.aliases,innerArgv:c})):{aliases:n.parsed.aliases,innerArgv:l}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,r){let n=Jv.test(r.original)?r.original.replace(Jv,"").trim():r.original,i=t.filter(s=>!Jv.test(s));return i.push(n),`$0 ${i.join(" ")}`}handleValidationAndGetResult(t,r,n,i,s,a,l,c){if(!a.getInternalMethods().getHasOutput()){let u=a.getInternalMethods().runValidation(s,c,a.parsed.error,t);n=l4(n,f=>(u(f),f))}if(r.handler&&!a.getInternalMethods().getHasOutput()){a.getInternalMethods().setHasOutput();let u=!!a.getOptions().configuration["populate--"];a.getInternalMethods().postProcess(n,u,!1,!1),n=a4(n,a,l,!1),n=l4(n,f=>{let m=r.handler(f);return ts(m)?m.then(()=>f):f}),t||a.getInternalMethods().getUsageInstance().cacheHelpMessage(),ts(n)&&!a.getInternalMethods().hasParseCallback()&&n.catch(f=>{try{a.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return t||(i.commands.pop(),i.fullCommands.pop()),n}applyMiddlewareAndGetResult(t,r,n,i,s,a,l){let c={};if(s)return n;l.getInternalMethods().getHasOutput()||(c=this.populatePositionals(r,n,i,l));let u=this.globalMiddleware.getMiddleware().slice(0).concat(r.middlewares),f=a4(n,l,u,!0);return ts(f)?f.then(m=>this.handleValidationAndGetResult(t,r,m,i,a,l,u,c)):this.handleValidationAndGetResult(t,r,f,i,a,l,u,c)}populatePositionals(t,r,n,i){r._=r._.slice(n.commands.length);let s=t.demanded.slice(0),a=t.optional.slice(0),l={};for(this.validation.positionalCount(s.length,r._.length);s.length;){let c=s.shift();this.populatePositional(c,r,l)}for(;a.length;){let c=a.shift();this.populatePositional(c,r,l)}return r._=n.commands.concat(r._.map(c=>""+c)),this.postProcessPositionals(r,l,this.cmdToParseOptions(t.original),i),l}populatePositional(t,r,n){let i=t.cmd[0];t.variadic?n[i]=r._.splice(0).map(String):r._.length&&(n[i]=[String(r._.shift())])}cmdToParseOptions(t){let r={array:[],default:{},alias:{},demand:{}},n=D5(t);return n.demanded.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=a,r.demand[s]=!0}),n.optional.forEach(i=>{let[s,...a]=i.cmd;i.variadic&&(r.array.push(s),r.default[s]=[]),r.alias[s]=a}),r}postProcessPositionals(t,r,n,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(n.default,s.default);for(let u of Object.keys(n.alias))s.alias[u]=(s.alias[u]||[]).concat(n.alias[u]);s.array=s.array.concat(n.array),s.config={};let a=[];if(Object.keys(r).forEach(u=>{r[u].map(f=>{s.configuration["unknown-options-as-args"]&&(s.key[u]=!0),a.push(`--${u}`),a.push(f)})}),!a.length)return;let l=Object.assign({},s.configuration,{"populate--":!1}),c=this.shim.Parser.detailed(a,Object.assign({},s,{configuration:l}));if(c.error)i.getInternalMethods().getUsageInstance().fail(c.error.message,c.error);else{let u=Object.keys(r);Object.keys(r).forEach(f=>{u.push(...c.aliases[f])}),Object.keys(c.argv).forEach(f=>{u.includes(f)&&(r[f]||(r[f]=c.argv[f]),!this.isInConfigs(i,f)&&!this.isDefaulted(i,f)&&Object.prototype.hasOwnProperty.call(t,f)&&Object.prototype.hasOwnProperty.call(c.argv,f)&&(Array.isArray(t[f])||Array.isArray(c.argv[f]))?t[f]=[].concat(t[f],c.argv[f]):t[f]=c.argv[f])})}}isDefaulted(t,r){let{default:n}=t.getOptions();return Object.prototype.hasOwnProperty.call(n,r)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(r))}isInConfigs(t,r){let{configObjects:n}=t.getOptions();return n.some(i=>Object.prototype.hasOwnProperty.call(i,r))||n.some(i=>Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(r)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let n=Jv.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let r=this.defaultCommand.builder;if(LL(r))return r(t,!0);Pxe(r)||Object.keys(r).forEach(n=>{t.option(n,r[n])})}moduleName(t){let r=IZ(t);if(!r)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(r.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:r,desc:n}){for(let i of[t,r,n]){if(typeof i=="string"||i===!1)return i;j0(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();j0(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function Fxe(e,t,r,n){return new TZ(e,t,r,n)}o(Fxe,"command");function Pxe(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}o(Pxe,"isCommandBuilderDefinition");function m0t(e){return e.every(t=>typeof t=="string")}o(m0t,"isCommandAndAliases");function LL(e){return typeof e=="function"}o(LL,"isCommandBuilderCallback");function h0t(e){return typeof e=="object"}o(h0t,"isCommandBuilderOptionDefinitions");function p0t(e){return typeof e=="object"&&!Array.isArray(e)}o(p0t,"isCommandHandlerDefinition");d();d();function P5(e={},t=()=>!0){let r={};return Kv(e).forEach(n=>{t(n,e[n])&&(r[n]=e[n])}),r}o(P5,"objFilter");d();function F5(e){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let r=t;r._handle&&r.isTTY&&typeof r._handle.setBlocking=="function"&&r._handle.setBlocking(e)})}o(F5,"setBlocking");function g0t(e){return typeof e=="boolean"}o(g0t,"isBoolean");function Qxe(e,t){let r=t.y18n.__,n={},i=[];n.failFn=o(function(U){i.push(U)},"failFn");let s=null,a=null,l=!0;n.showHelpOnFail=o(function(U=!0,ie){let[z,H]=typeof U=="string"?[!0,U]:[U,ie];return e.getInternalMethods().isGlobalContext()&&(a=H),s=H,l=z,n},"showHelpOnFailFn");let c=!1;n.fail=o(function(U,ie){let z=e.getInternalMethods().getLoggerInstance();if(i.length)for(let H=i.length-1;H>=0;--H){let M=i[H];if(g0t(M)){if(ie)throw ie;if(U)throw Error(U)}else M(U,ie,n)}else{if(e.getExitProcess()&&F5(!0),!c){c=!0,l&&(e.showHelp("error"),z.error()),(U||ie)&&z.error(U||ie);let H=s||a;H&&((U||ie)&&z.error(""),z.error(H))}if(ie=ie||new es(U),e.getExitProcess())return e.exit(1);if(e.getInternalMethods().hasParseCallback())return e.exit(1,ie);throw ie}},"fail");let u=[],f=!1;n.usage=(G,U)=>G===null?(f=!0,u=[],n):(f=!1,u.push([G,U||""]),n),n.getUsage=()=>u,n.getUsageDisabled=()=>f,n.getPositionalGroupName=()=>r("Positionals:");let m=[];n.example=(G,U)=>{m.push([G,U||""])};let h=[];n.command=o(function(U,ie,z,H,M=!1){z&&(h=h.map(j=>(j[2]=!1,j))),h.push([U,ie||"",z,H,M])},"command"),n.getCommands=()=>h;let p={};n.describe=o(function(U,ie){Array.isArray(U)?U.forEach(z=>{n.describe(z,ie)}):typeof U=="object"?Object.keys(U).forEach(z=>{n.describe(z,U[z])}):p[U]=ie},"describe"),n.getDescriptions=()=>p;let A=[];n.epilog=G=>{A.push(G)};let x=!1,E;n.wrap=G=>{x=!0,E=G},n.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(x||(E=ee(),x=!0),E);let v="__yargsString__:";n.deferY18nLookup=G=>v+G,n.help=o(function(){if(B)return B;S();let U=e.customScriptName?e.$0:t.path.basename(e.$0),ie=e.getDemandedOptions(),z=e.getDemandedCommands(),H=e.getDeprecatedOptions(),M=e.getGroups(),j=e.getOptions(),Z=[];Z=Z.concat(Object.keys(p)),Z=Z.concat(Object.keys(ie)),Z=Z.concat(Object.keys(z)),Z=Z.concat(Object.keys(j.default)),Z=Z.filter(F),Z=Object.keys(Z.reduce((Be,Je)=>(Je!=="_"&&(Be[Je]=!0),Be),{}));let ae=n.getWrap(),ne=t.cliui({width:ae,wrap:!!ae});if(!f){if(u.length)u.forEach(Be=>{ne.div({text:`${Be[0].replace(/\$0/g,U)}`}),Be[1]&&ne.div({text:`${Be[1]}`,padding:[1,0,0,0]})}),ne.div();else if(h.length){let Be=null;z._?Be=`${U} <${r("command")}>
`:Be=`${U} [${r("command")}]
`,ne.div(`${Be}`)}}if(h.length>1||h.length===1&&!h[0][2]){ne.div(r("Commands:"));let Be=e.getInternalMethods().getContext(),Je=Be.commands.length?`${Be.commands.join(" ")} `:"";e.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(h=h.sort((Xe,st)=>Xe[0].localeCompare(st[0])));let at=U?`${U} `:"";h.forEach(Xe=>{let st=`${at}${Je}${Xe[0].replace(/^\$0 ?/,"")}`;ne.span({text:st,padding:[0,2,0,2],width:b(h,ae,`${U}${Je}`)+4},{text:Xe[1]});let oe=[];Xe[2]&&oe.push(`[${r("default")}]`),Xe[3]&&Xe[3].length&&oe.push(`[${r("aliases:")} ${Xe[3].join(", ")}]`),Xe[4]&&(typeof Xe[4]=="string"?oe.push(`[${r("deprecated: %s",Xe[4])}]`):oe.push(`[${r("deprecated")}]`)),oe.length?ne.div({text:oe.join(" "),padding:[0,0,0,2],align:"right"}):ne.div()}),ne.div()}let le=(Object.keys(j.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);Z=Z.filter(Be=>!e.parsed.newAliases[Be]&&le.every(Je=>(j.alias[Je]||[]).indexOf(Be)===-1));let fe=r("Options:");M[fe]||(M[fe]=[]),D(Z,j.alias,M,fe);let Re=o(Be=>/^--/.test(QL(Be)),"isLongSwitch"),Ee=Object.keys(M).filter(Be=>M[Be].length>0).map(Be=>{let Je=M[Be].filter(F).map(at=>{if(le.includes(at))return at;for(let Xe=0,st;(st=le[Xe])!==void 0;Xe++)if((j.alias[st]||[]).includes(at))return st;return at});return{groupName:Be,normalizedKeys:Je}}).filter(({normalizedKeys:Be})=>Be.length>0).map(({groupName:Be,normalizedKeys:Je})=>{let at=Je.reduce((Xe,st)=>(Xe[st]=[st].concat(j.alias[st]||[]).map(oe=>Be===n.getPositionalGroupName()?oe:(/^[0-9]$/.test(oe)?j.boolean.includes(st)?"-":"--":oe.length>1?"--":"-")+oe).sort((oe,Pe)=>Re(oe)===Re(Pe)?0:Re(oe)?1:-1).join(", "),Xe),{});return{groupName:Be,normalizedKeys:Je,switches:at}});if(Ee.filter(({groupName:Be})=>Be!==n.getPositionalGroupName()).some(({normalizedKeys:Be,switches:Je})=>!Be.every(at=>Re(Je[at])))&&Ee.filter(({groupName:Be})=>Be!==n.getPositionalGroupName()).forEach(({normalizedKeys:Be,switches:Je})=>{Be.forEach(at=>{Re(Je[at])&&(Je[at]=A0t(Je[at],4))})}),Ee.forEach(({groupName:Be,normalizedKeys:Je,switches:at})=>{ne.div(Be),Je.forEach(Xe=>{let st=at[Xe],oe=p[Xe]||"",Pe=null;oe.includes(v)&&(oe=r(oe.substring(v.length))),j.boolean.includes(Xe)&&(Pe=`[${r("boolean")}]`),j.count.includes(Xe)&&(Pe=`[${r("count")}]`),j.string.includes(Xe)&&(Pe=`[${r("string")}]`),j.normalize.includes(Xe)&&(Pe=`[${r("string")}]`),j.array.includes(Xe)&&(Pe=`[${r("array")}]`),j.number.includes(Xe)&&(Pe=`[${r("number")}]`);let Ae=o(re=>typeof re=="string"?`[${r("deprecated: %s",re)}]`:`[${r("deprecated")}]`,"deprecatedExtra"),We=[Xe in H?Ae(H[Xe]):null,Pe,Xe in ie?`[${r("required")}]`:null,j.choices&&j.choices[Xe]?`[${r("choices:")} ${n.stringifiedValues(j.choices[Xe])}]`:null,W(j.default[Xe],j.defaultDescription[Xe])].filter(Boolean).join(" ");ne.span({text:QL(st),padding:[0,2,0,2+Lxe(st)],width:b(at,ae)+4},oe);let Y=e.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;We&&!Y?ne.div({text:We,padding:[0,0,0,2],align:"right"}):ne.div()}),ne.div()}),m.length&&(ne.div(r("Examples:")),m.forEach(Be=>{Be[0]=Be[0].replace(/\$0/g,U)}),m.forEach(Be=>{Be[1]===""?ne.div({text:Be[0],padding:[0,2,0,2]}):ne.div({text:Be[0],padding:[0,2,0,2],width:b(m,ae)+4},{text:Be[1]})}),ne.div()),A.length>0){let Be=A.map(Je=>Je.replace(/\$0/g,U)).join(`
`);ne.div(`${Be}
`)}return ne.toString().replace(/\s*$/,"")},"help");function b(G,U,ie){let z=0;return Array.isArray(G)||(G=Object.values(G).map(H=>[H])),G.forEach(H=>{z=Math.max(t.stringWidth(ie?`${ie} ${QL(H[0])}`:QL(H[0]))+Lxe(H[0]),z)}),U&&(z=Math.min(z,parseInt((U*.5).toString(),10))),z}o(b,"maxWidth");function S(){let G=e.getDemandedOptions(),U=e.getOptions();(Object.keys(U.alias)||[]).forEach(ie=>{U.alias[ie].forEach(z=>{p[z]&&n.describe(ie,p[z]),z in G&&e.demandOption(ie,G[z]),U.boolean.includes(z)&&e.boolean(ie),U.count.includes(z)&&e.count(ie),U.string.includes(z)&&e.string(ie),U.normalize.includes(z)&&e.normalize(ie),U.array.includes(z)&&e.array(ie),U.number.includes(z)&&e.number(ie)})})}o(S,"normalizeAliases");let B;n.cacheHelpMessage=function(){B=this.help()},n.clearCachedHelpMessage=function(){B=void 0},n.hasCachedHelpMessage=function(){return!!B};function D(G,U,ie,z){let H=[],M=null;return Object.keys(ie).forEach(j=>{H=H.concat(ie[j])}),G.forEach(j=>{M=[j].concat(U[j]),M.some(Z=>H.indexOf(Z)!==-1)||ie[z].push(j)}),H}o(D,"addUngroupedKeys");function F(G){return e.getOptions().hiddenOptions.indexOf(G)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}o(F,"filterHiddenOptions"),n.showHelp=G=>{let U=e.getInternalMethods().getLoggerInstance();G||(G="error"),(typeof G=="function"?G:U[G])(n.help())},n.functionDescription=G=>["(",G.name?t.Parser.decamelize(G.name,"-"):r("generated-value"),")"].join(""),n.stringifiedValues=o(function(U,ie){let z="",H=ie||", ",M=[].concat(U);return!U||!M.length||M.forEach(j=>{z.length&&(z+=H),z+=JSON.stringify(j)}),z},"stringifiedValues");function W(G,U){let ie=`[${r("default:")} `;if(G===void 0&&!U)return null;if(U)ie+=U;else switch(typeof G){case"string":ie+=`"${G}"`;break;case"object":ie+=JSON.stringify(G);break;default:ie+=G}return`${ie}]`}o(W,"defaultString");function ee(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}o(ee,"windowWidth");let de=null;n.version=G=>{de=G},n.showVersion=G=>{let U=e.getInternalMethods().getLoggerInstance();G||(G="error"),(typeof G=="function"?G:U[G])(de)},n.reset=o(function(U){return s=null,c=!1,u=[],f=!1,A=[],m=[],h=[],p=P5(p,ie=>!U[ie]),n},"reset");let X=[];return n.freeze=o(function(){X.push({failMessage:s,failureOutput:c,usages:u,usageDisabled:f,epilogs:A,examples:m,commands:h,descriptions:p})},"freeze"),n.unfreeze=o(function(U=!1){let ie=X.pop();ie&&(U?(p={...ie.descriptions,...p},h=[...ie.commands,...h],u=[...ie.usages,...u],m=[...ie.examples,...m],A=[...ie.epilogs,...A]):{failMessage:s,failureOutput:c,usages:u,usageDisabled:f,epilogs:A,examples:m,commands:h,descriptions:p}=ie)},"unfreeze"),n}o(Qxe,"usage");function wZ(e){return typeof e=="object"}o(wZ,"isIndentedText");function A0t(e,t){return wZ(e)?{text:e.text,indentation:e.indentation+t}:{text:e,indentation:t}}o(A0t,"addIndentation");function Lxe(e){return wZ(e)?e.indentation:0}o(Lxe,"getIndentation");function QL(e){return wZ(e)?e.text:e}o(QL,"getText");d();d();var Mxe=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,Oxe=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var SZ=class{static{o(this,"Completion")}constructor(t,r,n,i){var s,a,l;this.yargs=t,this.usage=r,this.command=n,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(l=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&l!==void 0?l:!1}defaultCompletion(t,r,n,i){let s=this.command.getCommandHandlers();for(let l=0,c=t.length;l<c;++l)if(s[t[l]]&&s[t[l]].builder){let u=s[t[l]].builder;if(LL(u)){this.indexAfterLastReset=l+1;let f=this.yargs.getInternalMethods().reset();return u(f,!0),f.argv}}let a=[];this.commandCompletions(a,t,n),this.optionCompletions(a,t,r,n),this.choicesFromOptionsCompletions(a,t,r,n),this.choicesFromPositionalsCompletions(a,t,r,n),i(null,a)}commandCompletions(t,r,n){let i=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&i[i.length-1]!==n&&!this.previousArgHasChoices(r)&&this.usage.getCommands().forEach(s=>{let a=D5(s[0]).cmd;if(r.indexOf(a)===-1)if(!this.zshShell)t.push(a);else{let l=s[1]||"";t.push(a.replace(/:/g,"\\:")+":"+l)}})}optionCompletions(t,r,n,i){if((i.match(/^-/)||i===""&&t.length===0)&&!this.previousArgHasChoices(r)){let s=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(l=>{let c=!!s.configuration["boolean-negation"]&&s.boolean.includes(l);!a.includes(l)&&!s.hiddenOptions.includes(l)&&!this.argsContainKey(r,l,c)&&this.completeOptionKey(l,t,i,c&&!!s.default[l])})}}choicesFromOptionsCompletions(t,r,n,i){if(this.previousArgHasChoices(r)){let s=this.getPreviousArgChoices(r);s&&s.length>0&&t.push(...s.map(a=>a.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,r,n,i){if(i===""&&t.length>0&&this.previousArgHasChoices(r))return;let s=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],a=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),l=s[n._.length-a-1];if(!l)return;let c=this.yargs.getOptions().choices[l]||[];for(let u of c)u.startsWith(i)&&t.push(u.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let r=t[t.length-1],n="";if(!r.startsWith("-")&&t.length>1&&(n=r,r=t[t.length-2]),!r.startsWith("-"))return;let i=r.replace(/^-+/,""),s=this.yargs.getOptions(),a=[i,...this.yargs.getAliases()[i]||[]],l;for(let c of a)if(Object.prototype.hasOwnProperty.call(s.key,c)&&Array.isArray(s.choices[c])){l=s.choices[c];break}if(l)return l.filter(c=>!n||c.startsWith(n))}previousArgHasChoices(t){let r=this.getPreviousArgChoices(t);return r!==void 0&&r.length>0}argsContainKey(t,r,n){let i=o(s=>t.indexOf((/^[^0-9]$/.test(s)?"-":"--")+s)!==-1,"argsContains");if(i(r)||n&&i(`no-${r}`))return!0;if(this.aliases){for(let s of this.aliases[r])if(i(s))return!0}return!1}completeOptionKey(t,r,n,i){var s,a,l,c;let u=t;if(this.zshShell){let p=this.usage.getDescriptions(),A=(a=(s=this===null||this===void 0?void 0:this.aliases)===null||s===void 0?void 0:s[t])===null||a===void 0?void 0:a.find(v=>{let b=p[v];return typeof b=="string"&&b.length>0}),x=A?p[A]:void 0,E=(c=(l=p[t])!==null&&l!==void 0?l:x)!==null&&c!==void 0?c:"";u=`${t.replace(/:/g,"\\:")}:${E.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let f=o(p=>/^--/.test(p),"startsByTwoDashes"),m=o(p=>/^[^0-9]$/.test(p),"isShortOption"),h=!f(n)&&m(t)?"-":"--";r.push(h+u),i&&r.push(h+"no-"+u)}customCompletion(t,r,n,i){if(j0(this.customCompletionFunction,null,this.shim),C0t(this.customCompletionFunction)){let s=this.customCompletionFunction(n,r);return ts(s)?s.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,s)}else return x0t(this.customCompletionFunction)?this.customCompletionFunction(n,r,(s=i)=>this.defaultCompletion(t,r,n,s),s=>{i(null,s)}):this.customCompletionFunction(n,r,s=>{i(null,s)})}getCompletion(t,r){let n=t.length?t[t.length-1]:"",i=this.yargs.parse(t,!0),s=this.customCompletionFunction?a=>this.customCompletion(t,a,n,r):a=>this.defaultCompletion(t,a,n,r);return ts(i)?i.then(s):s(i)}generateCompletionScript(t,r){let n=this.zshShell?Oxe:Mxe,i=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),n=n.replace(/{{app_name}}/g,i),n=n.replace(/{{completion_command}}/g,r),n.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function Uxe(e,t,r,n){return new SZ(e,t,r,n)}o(Uxe,"completion");function C0t(e){return e.length<3}o(C0t,"isSyncCompletionFunction");function x0t(e){return e.length>3}o(x0t,"isFallbackCompletionFunction");d();d();function qxe(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let r=[],n;for(n=0;n<=t.length;n++)r[n]=[n];let i;for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)===e.charAt(i-1)?r[n][i]=r[n-1][i-1]:n>1&&i>1&&t.charAt(n-2)===e.charAt(i-1)&&t.charAt(n-1)===e.charAt(i-2)?r[n][i]=r[n-2][i-2]+1:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}o(qxe,"levenshtein");var Wxe=["$0","--","_"];function Gxe(e,t,r){let n=r.y18n.__,i=r.y18n.__n,s={};s.nonOptionCount=o(function(m){let h=e.getDemandedCommands(),A=m._.length+(m["--"]?m["--"].length:0)-e.getInternalMethods().getContext().commands.length;h._&&(A<h._.min||A>h._.max)&&(A<h._.min?h._.minMsg!==void 0?t.fail(h._.minMsg?h._.minMsg.replace(/\$0/g,A.toString()).replace(/\$1/,h._.min.toString()):null):t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",A,A.toString(),h._.min.toString())):A>h._.max&&(h._.maxMsg!==void 0?t.fail(h._.maxMsg?h._.maxMsg.replace(/\$0/g,A.toString()).replace(/\$1/,h._.max.toString()):null):t.fail(i("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",A,A.toString(),h._.max.toString()))))},"nonOptionCount"),s.positionalCount=o(function(m,h){h<m&&t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",h,h+"",m+""))},"positionalCount"),s.requiredArguments=o(function(m,h){let p=null;for(let A of Object.keys(h))(!Object.prototype.hasOwnProperty.call(m,A)||typeof m[A]>"u")&&(p=p||{},p[A]=h[A]);if(p){let A=[];for(let E of Object.keys(p)){let v=p[E];v&&A.indexOf(v)<0&&A.push(v)}let x=A.length?`
${A.join(`
`)}`:"";t.fail(i("Missing required argument: %s","Missing required arguments: %s",Object.keys(p).length,Object.keys(p).join(", ")+x))}},"requiredArguments"),s.unknownArguments=o(function(m,h,p,A,x=!0){var E;let v=e.getInternalMethods().getCommandInstance().getCommands(),b=[],S=e.getInternalMethods().getContext();if(Object.keys(m).forEach(B=>{!Wxe.includes(B)&&!Object.prototype.hasOwnProperty.call(p,B)&&!Object.prototype.hasOwnProperty.call(e.getInternalMethods().getParseContext(),B)&&!s.isValidAndSomeAliasIsNotNew(B,h)&&b.push(B)}),x&&(S.commands.length>0||v.length>0||A)&&m._.slice(S.commands.length).forEach(B=>{v.includes(""+B)||b.push(""+B)}),x){let D=((E=e.getDemandedCommands()._)===null||E===void 0?void 0:E.max)||0,F=S.commands.length+D;F<m._.length&&m._.slice(F).forEach(W=>{W=String(W),!S.commands.includes(W)&&!b.includes(W)&&b.push(W)})}b.length&&t.fail(i("Unknown argument: %s","Unknown arguments: %s",b.length,b.map(B=>B.trim()?B:`"${B}"`).join(", ")))},"unknownArguments"),s.unknownCommands=o(function(m){let h=e.getInternalMethods().getCommandInstance().getCommands(),p=[],A=e.getInternalMethods().getContext();return(A.commands.length>0||h.length>0)&&m._.slice(A.commands.length).forEach(x=>{h.includes(""+x)||p.push(""+x)}),p.length>0?(t.fail(i("Unknown command: %s","Unknown commands: %s",p.length,p.join(", "))),!0):!1},"unknownCommands"),s.isValidAndSomeAliasIsNotNew=o(function(m,h){if(!Object.prototype.hasOwnProperty.call(h,m))return!1;let p=e.parsed.newAliases;return[m,...h[m]].some(A=>!Object.prototype.hasOwnProperty.call(p,A)||!p[m])},"isValidAndSomeAliasIsNotNew"),s.limitedChoices=o(function(m){let h=e.getOptions(),p={};if(!Object.keys(h.choices).length)return;Object.keys(m).forEach(E=>{Wxe.indexOf(E)===-1&&Object.prototype.hasOwnProperty.call(h.choices,E)&&[].concat(m[E]).forEach(v=>{h.choices[E].indexOf(v)===-1&&v!==void 0&&(p[E]=(p[E]||[]).concat(v))})});let A=Object.keys(p);if(!A.length)return;let x=n("Invalid values:");A.forEach(E=>{x+=`
  ${n("Argument: %s, Given: %s, Choices: %s",E,t.stringifiedValues(p[E]),t.stringifiedValues(h.choices[E]))}`}),t.fail(x)},"limitedChoices");let a={};s.implies=o(function(m,h){kr("<string|object> [array|number|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{s.implies(p,m[p])}):(e.global(m),a[m]||(a[m]=[]),Array.isArray(h)?h.forEach(p=>s.implies(m,p)):(j0(h,void 0,r),a[m].push(h)))},"implies"),s.getImplied=o(function(){return a},"getImplied");function l(f,m){let h=Number(m);return m=isNaN(h)?m:h,typeof m=="number"?m=f._.length>=m:m.match(/^--no-.+/)?(m=m.match(/^--no-(.+)/)[1],m=!Object.prototype.hasOwnProperty.call(f,m)):m=Object.prototype.hasOwnProperty.call(f,m),m}o(l,"keyExists"),s.implications=o(function(m){let h=[];if(Object.keys(a).forEach(p=>{let A=p;(a[p]||[]).forEach(x=>{let E=A,v=x;E=l(m,E),x=l(m,x),E&&!x&&h.push(` ${A} -> ${v}`)})}),h.length){let p=`${n("Implications failed:")}
`;h.forEach(A=>{p+=A}),t.fail(p)}},"implications");let c={};s.conflicts=o(function(m,h){kr("<string|object> [array|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{s.conflicts(p,m[p])}):(e.global(m),c[m]||(c[m]=[]),Array.isArray(h)?h.forEach(p=>s.conflicts(m,p)):c[m].push(h))},"conflicts"),s.getConflicting=()=>c,s.conflicting=o(function(m){Object.keys(m).forEach(h=>{c[h]&&c[h].forEach(p=>{p&&m[h]!==void 0&&m[p]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})}),e.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(c).forEach(h=>{c[h].forEach(p=>{p&&m[r.Parser.camelCase(h)]!==void 0&&m[r.Parser.camelCase(p)]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})})},"conflictingFn"),s.recommendCommands=o(function(m,h){h=h.sort((E,v)=>v.length-E.length);let A=null,x=1/0;for(let E=0,v;(v=h[E])!==void 0;E++){let b=qxe(m,v);b<=3&&b<x&&(x=b,A=v)}A&&t.fail(n("Did you mean %s?",A))},"recommendCommands"),s.reset=o(function(m){return a=P5(a,h=>!m[h]),c=P5(c,h=>!m[h]),s},"reset");let u=[];return s.freeze=o(function(){u.push({implied:a,conflicting:c})},"freeze"),s.unfreeze=o(function(){let m=u.pop();j0(m,void 0,r),{implied:a,conflicting:c}=m},"unfreeze"),s}o(Gxe,"validation");d();var _Z=[],nw;function ML(e,t,r,n){nw=n;let i={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return i;let s=/\.json|\..*rc$/.test(e.extends),a=null;if(s)a=b0t(t,e.extends);else try{a=require.resolve(e.extends)}catch{return e}E0t(a),_Z.push(a),i=s?JSON.parse(nw.readFileSync(a,"utf8")):require(e.extends),delete e.extends,i=ML(i,nw.path.dirname(a),r,nw)}return _Z=[],r?Hxe(i,e):Object.assign({},i,e)}o(ML,"applyExtends");function E0t(e){if(_Z.indexOf(e)>-1)throw new es(`Circular extended configurations: '${e}'.`)}o(E0t,"checkForCircularExtends");function b0t(e,t){return nw.path.resolve(e,t)}o(b0t,"getPathToDefaultConfig");function Hxe(e,t){let r={};function n(i){return i&&typeof i=="object"&&!Array.isArray(i)}o(n,"isObject"),Object.assign(r,e);for(let i of Object.keys(t))n(t[i])&&n(r[i])?r[i]=Hxe(e[i],t[i]):r[i]=t[i];return r}o(Hxe,"mergeDeep");var Rr=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},pe=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ca,c4,iw,ad,Ou,OL,N5,u4,UL,ld,qL,cd,yp,Uu,ud,WL,Xv,pl,Wr,GL,HL,qu,f4,Zv,d4,L5,VL,Sn,m4,h4,p4,Nn,jL,Cp,js;function uEe(e){return(t=[],r=e.process.cwd(),n)=>{let i=new OZ(t,r,n,e);return Object.defineProperty(i,"argv",{get:o(()=>i.parse(),"get"),enumerable:!0}),i.help(),i.version(),i}}o(uEe,"YargsFactory");var Vxe=Symbol("copyDoubleDash"),jxe=Symbol("copyDoubleDash"),kZ=Symbol("deleteFromParserHintObject"),$xe=Symbol("emitWarning"),zxe=Symbol("freeze"),Yxe=Symbol("getDollarZero"),g4=Symbol("getParserConfiguration"),Kxe=Symbol("getUsageConfiguration"),BZ=Symbol("guessLocale"),Jxe=Symbol("guessVersion"),Xxe=Symbol("parsePositionalNumbers"),RZ=Symbol("pkgUp"),Q5=Symbol("populateParserHintArray"),eI=Symbol("populateParserHintSingleValueDictionary"),DZ=Symbol("populateParserHintArrayDictionary"),PZ=Symbol("populateParserHintDictionary"),FZ=Symbol("sanitizeKey"),NZ=Symbol("setKey"),LZ=Symbol("unfreeze"),Zxe=Symbol("validateAsync"),eEe=Symbol("getCommandInstance"),tEe=Symbol("getContext"),rEe=Symbol("getHasOutput"),nEe=Symbol("getLoggerInstance"),iEe=Symbol("getParseContext"),oEe=Symbol("getUsageInstance"),sEe=Symbol("getValidationInstance"),$L=Symbol("hasParseCallback"),aEe=Symbol("isGlobalContext"),A4=Symbol("postProcess"),lEe=Symbol("rebase"),QZ=Symbol("reset"),ow=Symbol("runYargsParserAndExecuteCommands"),MZ=Symbol("runValidation"),cEe=Symbol("setHasOutput"),y4=Symbol("kTrackManuallySetKeys"),OZ=class{static{o(this,"YargsInstance")}constructor(t=[],r,n,i){this.customScriptName=!1,this.parsed=!1,ca.set(this,void 0),c4.set(this,void 0),iw.set(this,{commands:[],fullCommands:[]}),ad.set(this,null),Ou.set(this,null),OL.set(this,"show-hidden"),N5.set(this,null),u4.set(this,!0),UL.set(this,{}),ld.set(this,!0),qL.set(this,[]),cd.set(this,void 0),yp.set(this,{}),Uu.set(this,!1),ud.set(this,null),WL.set(this,!0),Xv.set(this,void 0),pl.set(this,""),Wr.set(this,void 0),GL.set(this,void 0),HL.set(this,{}),qu.set(this,null),f4.set(this,null),Zv.set(this,{}),d4.set(this,{}),L5.set(this,void 0),VL.set(this,!1),Sn.set(this,void 0),m4.set(this,!1),h4.set(this,!1),p4.set(this,!1),Nn.set(this,void 0),jL.set(this,{}),Cp.set(this,null),js.set(this,void 0),Rr(this,Sn,i,"f"),Rr(this,L5,t,"f"),Rr(this,c4,r,"f"),Rr(this,GL,n,"f"),Rr(this,cd,new NL(this),"f"),this.$0=this[Yxe](),this[QZ](),Rr(this,ca,pe(this,ca,"f"),"f"),Rr(this,Nn,pe(this,Nn,"f"),"f"),Rr(this,js,pe(this,js,"f"),"f"),Rr(this,Wr,pe(this,Wr,"f"),"f"),pe(this,Wr,"f").showHiddenOpt=pe(this,OL,"f"),Rr(this,Xv,this[jxe](),"f")}addHelpOpt(t,r){let n="help";return kr("[string|boolean] [string]",[t,r],arguments.length),pe(this,ud,"f")&&(this[kZ](pe(this,ud,"f")),Rr(this,ud,null,"f")),t===!1&&r===void 0?this:(Rr(this,ud,typeof t=="string"?t:n,"f"),this.boolean(pe(this,ud,"f")),this.describe(pe(this,ud,"f"),r||pe(this,Nn,"f").deferY18nLookup("Show help")),this)}help(t,r){return this.addHelpOpt(t,r)}addShowHiddenOpt(t,r){if(kr("[string|boolean] [string]",[t,r],arguments.length),t===!1&&r===void 0)return this;let n=typeof t=="string"?t:pe(this,OL,"f");return this.boolean(n),this.describe(n,r||pe(this,Nn,"f").deferY18nLookup("Show hidden options")),pe(this,Wr,"f").showHiddenOpt=n,this}showHidden(t,r){return this.addShowHiddenOpt(t,r)}alias(t,r){return kr("<object|string|array> [string|array]",[t,r],arguments.length),this[DZ](this.alias.bind(this),"alias",t,r),this}array(t){return kr("<array|string>",[t],arguments.length),this[Q5]("array",t),this[y4](t),this}boolean(t){return kr("<array|string>",[t],arguments.length),this[Q5]("boolean",t),this[y4](t),this}check(t,r){return kr("<function> [boolean]",[t,r],arguments.length),this.middleware((n,i)=>l4(()=>t(n,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&pe(this,Nn,"f").fail(s.toString(),s):pe(this,Nn,"f").fail(pe(this,Sn,"f").y18n.__("Argument check failed: %s",t.toString())),n),s=>(pe(this,Nn,"f").fail(s.message?s.message:s.toString(),s),n)),!1,r),this}choices(t,r){return kr("<object|string|array> [string|array]",[t,r],arguments.length),this[DZ](this.choices.bind(this),"choices",t,r),this}coerce(t,r){if(kr("<object|string|array> [function]",[t,r],arguments.length),Array.isArray(t)){if(!r)throw new es("coerce callback must be provided");for(let n of t)this.coerce(n,r);return this}else if(typeof t=="object"){for(let n of Object.keys(t))this.coerce(n,t[n]);return this}if(!r)throw new es("coerce callback must be provided");return pe(this,Wr,"f").key[t]=!0,pe(this,cd,"f").addCoerceMiddleware((n,i)=>{let s;return Object.prototype.hasOwnProperty.call(n,t)?l4(()=>(s=i.getAliases(),r(n[t])),l=>{n[t]=l;let c=i.getInternalMethods().getParserConfiguration()["strip-aliased"];if(s[t]&&c!==!0)for(let u of s[t])n[u]=l;return n},l=>{throw new es(l.message)}):n},t),this}conflicts(t,r){return kr("<string|object> [string|array]",[t,r],arguments.length),pe(this,js,"f").conflicts(t,r),this}config(t="config",r,n){return kr("[object|string] [string|function] [function]",[t,r,n],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=ML(t,pe(this,c4,"f"),this[g4]()["deep-merge-config"]||!1,pe(this,Sn,"f")),pe(this,Wr,"f").configObjects=(pe(this,Wr,"f").configObjects||[]).concat(t),this):(typeof r=="function"&&(n=r,r=void 0),this.describe(t,r||pe(this,Nn,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(i=>{pe(this,Wr,"f").config[i]=n||!0}),this)}completion(t,r,n){return kr("[string] [string|boolean|function] [function]",[t,r,n],arguments.length),typeof r=="function"&&(n=r,r=void 0),Rr(this,Ou,t||pe(this,Ou,"f")||"completion","f"),!r&&r!==!1&&(r="generate completion script"),this.command(pe(this,Ou,"f"),r),n&&pe(this,ad,"f").registerFunction(n),this}command(t,r,n,i,s,a){return kr("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,r,n,i,s,a],arguments.length),pe(this,ca,"f").addHandler(t,r,n,i,s,a),this}commands(t,r,n,i,s,a){return this.command(t,r,n,i,s,a)}commandDir(t,r){kr("<string> [object]",[t,r],arguments.length);let n=pe(this,GL,"f")||pe(this,Sn,"f").require;return pe(this,ca,"f").addDirectory(t,n,pe(this,Sn,"f").getCallerFile(),r),this}count(t){return kr("<array|string>",[t],arguments.length),this[Q5]("count",t),this[y4](t),this}default(t,r,n){return kr("<object|string|array> [*] [string]",[t,r,n],arguments.length),n&&(vZ(t,pe(this,Sn,"f")),pe(this,Wr,"f").defaultDescription[t]=n),typeof r=="function"&&(vZ(t,pe(this,Sn,"f")),pe(this,Wr,"f").defaultDescription[t]||(pe(this,Wr,"f").defaultDescription[t]=pe(this,Nn,"f").functionDescription(r)),r=r.call()),this[eI](this.default.bind(this),"default",t,r),this}defaults(t,r,n){return this.default(t,r,n)}demandCommand(t=1,r,n,i){return kr("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,r,n,i],arguments.length),typeof r!="number"&&(n=r,r=1/0),this.global("_",!1),pe(this,Wr,"f").demandedCommands._={min:t,max:r,minMsg:n,maxMsg:i},this}demand(t,r,n){return Array.isArray(r)?(r.forEach(i=>{j0(n,!0,pe(this,Sn,"f")),this.demandOption(i,n)}),r=1/0):typeof r!="number"&&(n=r,r=1/0),typeof t=="number"?(j0(n,!0,pe(this,Sn,"f")),this.demandCommand(t,r,n,n)):Array.isArray(t)?t.forEach(i=>{j0(n,!0,pe(this,Sn,"f")),this.demandOption(i,n)}):typeof n=="string"?this.demandOption(t,n):(n===!0||typeof n>"u")&&this.demandOption(t),this}demandOption(t,r){return kr("<object|string|array> [string]",[t,r],arguments.length),this[eI](this.demandOption.bind(this),"demandedOptions",t,r),this}deprecateOption(t,r){return kr("<string> [string|boolean]",[t,r],arguments.length),pe(this,Wr,"f").deprecatedOptions[t]=r,this}describe(t,r){return kr("<object|string|array> [string]",[t,r],arguments.length),this[NZ](t,!0),pe(this,Nn,"f").describe(t,r),this}detectLocale(t){return kr("<boolean>",[t],arguments.length),Rr(this,u4,t,"f"),this}env(t){return kr("[string|boolean]",[t],arguments.length),t===!1?delete pe(this,Wr,"f").envPrefix:pe(this,Wr,"f").envPrefix=t||"",this}epilogue(t){return kr("<string>",[t],arguments.length),pe(this,Nn,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,r){return kr("<string|array> [string]",[t,r],arguments.length),Array.isArray(t)?t.forEach(n=>this.example(...n)):pe(this,Nn,"f").example(t,r),this}exit(t,r){Rr(this,Uu,!0,"f"),Rr(this,N5,r,"f"),pe(this,ld,"f")&&pe(this,Sn,"f").process.exit(t)}exitProcess(t=!0){return kr("[boolean]",[t],arguments.length),Rr(this,ld,t,"f"),this}fail(t){if(kr("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new es("Invalid first argument. Expected function or boolean 'false'");return pe(this,Nn,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,r){return kr("<array> [function]",[t,r],arguments.length),r?pe(this,ad,"f").getCompletion(t,r):new Promise((n,i)=>{pe(this,ad,"f").getCompletion(t,(s,a)=>{s?i(s):n(a)})})}getDemandedOptions(){return kr([],0),pe(this,Wr,"f").demandedOptions}getDemandedCommands(){return kr([],0),pe(this,Wr,"f").demandedCommands}getDeprecatedOptions(){return kr([],0),pe(this,Wr,"f").deprecatedOptions}getDetectLocale(){return pe(this,u4,"f")}getExitProcess(){return pe(this,ld,"f")}getGroups(){return Object.assign({},pe(this,yp,"f"),pe(this,d4,"f"))}getHelp(){if(Rr(this,Uu,!0,"f"),!pe(this,Nn,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[ow](pe(this,L5,"f"),void 0,void 0,0,!0);if(ts(r))return r.then(()=>pe(this,Nn,"f").help())}let t=pe(this,ca,"f").runDefaultBuilderOn(this);if(ts(t))return t.then(()=>pe(this,Nn,"f").help())}return Promise.resolve(pe(this,Nn,"f").help())}getOptions(){return pe(this,Wr,"f")}getStrict(){return pe(this,m4,"f")}getStrictCommands(){return pe(this,h4,"f")}getStrictOptions(){return pe(this,p4,"f")}global(t,r){return kr("<string|array> [boolean]",[t,r],arguments.length),t=[].concat(t),r!==!1?pe(this,Wr,"f").local=pe(this,Wr,"f").local.filter(n=>t.indexOf(n)===-1):t.forEach(n=>{pe(this,Wr,"f").local.includes(n)||pe(this,Wr,"f").local.push(n)}),this}group(t,r){kr("<string|array> <string>",[t,r],arguments.length);let n=pe(this,d4,"f")[r]||pe(this,yp,"f")[r];pe(this,d4,"f")[r]&&delete pe(this,d4,"f")[r];let i={};return pe(this,yp,"f")[r]=(n||[]).concat(t).filter(s=>i[s]?!1:i[s]=!0),this}hide(t){return kr("<string>",[t],arguments.length),pe(this,Wr,"f").hiddenOptions.push(t),this}implies(t,r){return kr("<string|object> [number|string|array]",[t,r],arguments.length),pe(this,js,"f").implies(t,r),this}locale(t){return kr("[string]",[t],arguments.length),t===void 0?(this[BZ](),pe(this,Sn,"f").y18n.getLocale()):(Rr(this,u4,!1,"f"),pe(this,Sn,"f").y18n.setLocale(t),this)}middleware(t,r,n){return pe(this,cd,"f").addMiddleware(t,!!r,n)}nargs(t,r){return kr("<string|object|array> [number]",[t,r],arguments.length),this[eI](this.nargs.bind(this),"narg",t,r),this}normalize(t){return kr("<array|string>",[t],arguments.length),this[Q5]("normalize",t),this}number(t){return kr("<array|string>",[t],arguments.length),this[Q5]("number",t),this[y4](t),this}option(t,r){if(kr("<string|object> [object]",[t,r],arguments.length),typeof t=="object")Object.keys(t).forEach(n=>{this.options(n,t[n])});else{typeof r!="object"&&(r={}),this[y4](t),pe(this,Cp,"f")&&(t==="version"||r?.alias==="version")&&this[$xe](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),pe(this,Wr,"f").key[t]=!0,r.alias&&this.alias(t,r.alias);let n=r.deprecate||r.deprecated;n&&this.deprecateOption(t,n);let i=r.demand||r.required||r.require;i&&this.demand(t,i),r.demandOption&&this.demandOption(t,typeof r.demandOption=="string"?r.demandOption:void 0),r.conflicts&&this.conflicts(t,r.conflicts),"default"in r&&this.default(t,r.default),r.implies!==void 0&&this.implies(t,r.implies),r.nargs!==void 0&&this.nargs(t,r.nargs),r.config&&this.config(t,r.configParser),r.normalize&&this.normalize(t),r.choices&&this.choices(t,r.choices),r.coerce&&this.coerce(t,r.coerce),r.group&&this.group(t,r.group),(r.boolean||r.type==="boolean")&&(this.boolean(t),r.alias&&this.boolean(r.alias)),(r.array||r.type==="array")&&(this.array(t),r.alias&&this.array(r.alias)),(r.number||r.type==="number")&&(this.number(t),r.alias&&this.number(r.alias)),(r.string||r.type==="string")&&(this.string(t),r.alias&&this.string(r.alias)),(r.count||r.type==="count")&&this.count(t),typeof r.global=="boolean"&&this.global(t,r.global),r.defaultDescription&&(pe(this,Wr,"f").defaultDescription[t]=r.defaultDescription),r.skipValidation&&this.skipValidation(t);let s=r.describe||r.description||r.desc,a=pe(this,Nn,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(a,t)||typeof s=="string")&&this.describe(t,s),r.hidden&&this.hide(t),r.requiresArg&&this.requiresArg(t)}return this}options(t,r){return this.option(t,r)}parse(t,r,n){kr("[string|array] [function|boolean|object] [function]",[t,r,n],arguments.length),this[zxe](),typeof t>"u"&&(t=pe(this,L5,"f")),typeof r=="object"&&(Rr(this,f4,r,"f"),r=n),typeof r=="function"&&(Rr(this,qu,r,"f"),r=!1),r||Rr(this,L5,t,"f"),pe(this,qu,"f")&&Rr(this,ld,!1,"f");let i=this[ow](t,!!r),s=this.parsed;return pe(this,ad,"f").setParsed(this.parsed),ts(i)?i.then(a=>(pe(this,qu,"f")&&pe(this,qu,"f").call(this,pe(this,N5,"f"),a,pe(this,pl,"f")),a)).catch(a=>{throw pe(this,qu,"f")&&pe(this,qu,"f")(a,this.parsed.argv,pe(this,pl,"f")),a}).finally(()=>{this[LZ](),this.parsed=s}):(pe(this,qu,"f")&&pe(this,qu,"f").call(this,pe(this,N5,"f"),i,pe(this,pl,"f")),this[LZ](),this.parsed=s,i)}parseAsync(t,r,n){let i=this.parse(t,r,n);return ts(i)?i:Promise.resolve(i)}parseSync(t,r,n){let i=this.parse(t,r,n);if(ts(i))throw new es(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(t){return kr("<object>",[t],arguments.length),Rr(this,HL,t,"f"),this}pkgConf(t,r){kr("<string> [string]",[t,r],arguments.length);let n=null,i=this[RZ](r||pe(this,c4,"f"));return i[t]&&typeof i[t]=="object"&&(n=ML(i[t],r||pe(this,c4,"f"),this[g4]()["deep-merge-config"]||!1,pe(this,Sn,"f")),pe(this,Wr,"f").configObjects=(pe(this,Wr,"f").configObjects||[]).concat(n)),this}positional(t,r){kr("<string> <object>",[t,r],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];r=P5(r,(a,l)=>a==="type"&&!["string","number","boolean"].includes(l)?!1:n.includes(a));let i=pe(this,iw,"f").fullCommands[pe(this,iw,"f").fullCommands.length-1],s=i?pe(this,ca,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return Kv(s).forEach(a=>{let l=s[a];Array.isArray(l)?l.indexOf(t)!==-1&&(r[a]=!0):l[t]&&!(a in r)&&(r[a]=l[t])}),this.group(t,pe(this,Nn,"f").getPositionalGroupName()),this.option(t,r)}recommendCommands(t=!0){return kr("[boolean]",[t],arguments.length),Rr(this,VL,t,"f"),this}required(t,r,n){return this.demand(t,r,n)}require(t,r,n){return this.demand(t,r,n)}requiresArg(t){return kr("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&pe(this,Wr,"f").narg[t]?this:(this[eI](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,r){return kr("[string] [string]",[t,r],arguments.length),t=t||this.$0,pe(this,Xv,"f").log(pe(this,ad,"f").generateCompletionScript(t,r||pe(this,Ou,"f")||"completion")),this}showHelp(t){if(kr("[string|function]",[t],arguments.length),Rr(this,Uu,!0,"f"),!pe(this,Nn,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[ow](pe(this,L5,"f"),void 0,void 0,0,!0);if(ts(n))return n.then(()=>{pe(this,Nn,"f").showHelp(t)}),this}let r=pe(this,ca,"f").runDefaultBuilderOn(this);if(ts(r))return r.then(()=>{pe(this,Nn,"f").showHelp(t)}),this}return pe(this,Nn,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,r){return kr("[boolean|string] [string]",[t,r],arguments.length),pe(this,Nn,"f").showHelpOnFail(t,r),this}showVersion(t){return kr("[string|function]",[t],arguments.length),pe(this,Nn,"f").showVersion(t),this}skipValidation(t){return kr("<array|string>",[t],arguments.length),this[Q5]("skipValidation",t),this}strict(t){return kr("[boolean]",[t],arguments.length),Rr(this,m4,t!==!1,"f"),this}strictCommands(t){return kr("[boolean]",[t],arguments.length),Rr(this,h4,t!==!1,"f"),this}strictOptions(t){return kr("[boolean]",[t],arguments.length),Rr(this,p4,t!==!1,"f"),this}string(t){return kr("<array|string>",[t],arguments.length),this[Q5]("string",t),this[y4](t),this}terminalWidth(){return kr([],0),pe(this,Sn,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return kr("<object>",[t],arguments.length),Rr(this,u4,!1,"f"),pe(this,Sn,"f").y18n.updateLocale(t),this}usage(t,r,n,i){if(kr("<string|null|undefined> [string|boolean] [function|object] [function]",[t,r,n,i],arguments.length),r!==void 0){if(j0(t,null,pe(this,Sn,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,r,n,i);throw new es(".usage() description must start with $0 if being used as alias for .command()")}else return pe(this,Nn,"f").usage(t),this}usageConfiguration(t){return kr("<object>",[t],arguments.length),Rr(this,jL,t,"f"),this}version(t,r,n){let i="version";if(kr("[boolean|string] [string] [string]",[t,r,n],arguments.length),pe(this,Cp,"f")&&(this[kZ](pe(this,Cp,"f")),pe(this,Nn,"f").version(void 0),Rr(this,Cp,null,"f")),arguments.length===0)n=this[Jxe](),t=i;else if(arguments.length===1){if(t===!1)return this;n=t,t=i}else arguments.length===2&&(n=r,r=void 0);return Rr(this,Cp,typeof t=="string"?t:i,"f"),r=r||pe(this,Nn,"f").deferY18nLookup("Show version number"),pe(this,Nn,"f").version(n||void 0),this.boolean(pe(this,Cp,"f")),this.describe(pe(this,Cp,"f"),r),this}wrap(t){return kr("<number|null|undefined>",[t],arguments.length),pe(this,Nn,"f").wrap(t),this}[(ca=new WeakMap,c4=new WeakMap,iw=new WeakMap,ad=new WeakMap,Ou=new WeakMap,OL=new WeakMap,N5=new WeakMap,u4=new WeakMap,UL=new WeakMap,ld=new WeakMap,qL=new WeakMap,cd=new WeakMap,yp=new WeakMap,Uu=new WeakMap,ud=new WeakMap,WL=new WeakMap,Xv=new WeakMap,pl=new WeakMap,Wr=new WeakMap,GL=new WeakMap,HL=new WeakMap,qu=new WeakMap,f4=new WeakMap,Zv=new WeakMap,d4=new WeakMap,L5=new WeakMap,VL=new WeakMap,Sn=new WeakMap,m4=new WeakMap,h4=new WeakMap,p4=new WeakMap,Nn=new WeakMap,jL=new WeakMap,Cp=new WeakMap,js=new WeakMap,Vxe)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[jxe](){return{log:o((...t)=>{this[$L]()||console.log(...t),Rr(this,Uu,!0,"f"),pe(this,pl,"f").length&&Rr(this,pl,pe(this,pl,"f")+`
`,"f"),Rr(this,pl,pe(this,pl,"f")+t.join(" "),"f")},"log"),error:o((...t)=>{this[$L]()||console.error(...t),Rr(this,Uu,!0,"f"),pe(this,pl,"f").length&&Rr(this,pl,pe(this,pl,"f")+`
`,"f"),Rr(this,pl,pe(this,pl,"f")+t.join(" "),"f")},"error")}}[kZ](t){Kv(pe(this,Wr,"f")).forEach(r=>{if((i=>i==="configObjects")(r))return;let n=pe(this,Wr,"f")[r];Array.isArray(n)?n.includes(t)&&n.splice(n.indexOf(t),1):typeof n=="object"&&delete n[t]}),delete pe(this,Nn,"f").getDescriptions()[t]}[$xe](t,r,n){pe(this,UL,"f")[n]||(pe(this,Sn,"f").process.emitWarning(t,r),pe(this,UL,"f")[n]=!0)}[zxe](){pe(this,qL,"f").push({options:pe(this,Wr,"f"),configObjects:pe(this,Wr,"f").configObjects.slice(0),exitProcess:pe(this,ld,"f"),groups:pe(this,yp,"f"),strict:pe(this,m4,"f"),strictCommands:pe(this,h4,"f"),strictOptions:pe(this,p4,"f"),completionCommand:pe(this,Ou,"f"),output:pe(this,pl,"f"),exitError:pe(this,N5,"f"),hasOutput:pe(this,Uu,"f"),parsed:this.parsed,parseFn:pe(this,qu,"f"),parseContext:pe(this,f4,"f")}),pe(this,Nn,"f").freeze(),pe(this,js,"f").freeze(),pe(this,ca,"f").freeze(),pe(this,cd,"f").freeze()}[Yxe](){let t="",r;return/\b(node|iojs|electron)(\.exe)?$/.test(pe(this,Sn,"f").process.argv()[0])?r=pe(this,Sn,"f").process.argv().slice(1,2):r=pe(this,Sn,"f").process.argv().slice(0,1),t=r.map(n=>{let i=this[lEe](pe(this,c4,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<n.length?i:n}).join(" ").trim(),pe(this,Sn,"f").getEnv("_")&&pe(this,Sn,"f").getProcessArgvBin()===pe(this,Sn,"f").getEnv("_")&&(t=pe(this,Sn,"f").getEnv("_").replace(`${pe(this,Sn,"f").path.dirname(pe(this,Sn,"f").process.execPath())}/`,"")),t}[g4](){return pe(this,HL,"f")}[Kxe](){return pe(this,jL,"f")}[BZ](){if(!pe(this,u4,"f"))return;let t=pe(this,Sn,"f").getEnv("LC_ALL")||pe(this,Sn,"f").getEnv("LC_MESSAGES")||pe(this,Sn,"f").getEnv("LANG")||pe(this,Sn,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[Jxe](){return this[RZ]().version||"unknown"}[Xxe](t){let r=t["--"]?t["--"]:t._;for(let n=0,i;(i=r[n])!==void 0;n++)pe(this,Sn,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(r[n]=Number(i));return t}[RZ](t){let r=t||"*";if(pe(this,Zv,"f")[r])return pe(this,Zv,"f")[r];let n={};try{let i=t||pe(this,Sn,"f").mainFilename;!t&&pe(this,Sn,"f").path.extname(i)&&(i=pe(this,Sn,"f").path.dirname(i));let s=pe(this,Sn,"f").findUp(i,(a,l)=>{if(l.includes("package.json"))return"package.json"});j0(s,void 0,pe(this,Sn,"f")),n=JSON.parse(pe(this,Sn,"f").readFileSync(s,"utf8"))}catch{}return pe(this,Zv,"f")[r]=n||{},pe(this,Zv,"f")[r]}[Q5](t,r){r=[].concat(r),r.forEach(n=>{n=this[FZ](n),pe(this,Wr,"f")[t].push(n)})}[eI](t,r,n,i){this[PZ](t,r,n,i,(s,a,l)=>{pe(this,Wr,"f")[s][a]=l})}[DZ](t,r,n,i){this[PZ](t,r,n,i,(s,a,l)=>{pe(this,Wr,"f")[s][a]=(pe(this,Wr,"f")[s][a]||[]).concat(l)})}[PZ](t,r,n,i,s){if(Array.isArray(n))n.forEach(a=>{t(a,i)});else if((a=>typeof a=="object")(n))for(let a of Kv(n))t(a,n[a]);else s(r,this[FZ](n),i)}[FZ](t){return t==="__proto__"?"___proto___":t}[NZ](t,r){return this[eI](this[NZ].bind(this),"key",t,r),this}[LZ](){var t,r,n,i,s,a,l,c,u,f,m,h;let p=pe(this,qL,"f").pop();j0(p,void 0,pe(this,Sn,"f"));let A;t=this,r=this,n=this,i=this,s=this,a=this,l=this,c=this,u=this,f=this,m=this,h=this,{options:{set value(x){Rr(t,Wr,x,"f")}}.value,configObjects:A,exitProcess:{set value(x){Rr(r,ld,x,"f")}}.value,groups:{set value(x){Rr(n,yp,x,"f")}}.value,output:{set value(x){Rr(i,pl,x,"f")}}.value,exitError:{set value(x){Rr(s,N5,x,"f")}}.value,hasOutput:{set value(x){Rr(a,Uu,x,"f")}}.value,parsed:this.parsed,strict:{set value(x){Rr(l,m4,x,"f")}}.value,strictCommands:{set value(x){Rr(c,h4,x,"f")}}.value,strictOptions:{set value(x){Rr(u,p4,x,"f")}}.value,completionCommand:{set value(x){Rr(f,Ou,x,"f")}}.value,parseFn:{set value(x){Rr(m,qu,x,"f")}}.value,parseContext:{set value(x){Rr(h,f4,x,"f")}}.value}=p,pe(this,Wr,"f").configObjects=A,pe(this,Nn,"f").unfreeze(),pe(this,js,"f").unfreeze(),pe(this,ca,"f").unfreeze(),pe(this,cd,"f").unfreeze()}[Zxe](t,r){return l4(r,n=>(t(n),n))}getInternalMethods(){return{getCommandInstance:this[eEe].bind(this),getContext:this[tEe].bind(this),getHasOutput:this[rEe].bind(this),getLoggerInstance:this[nEe].bind(this),getParseContext:this[iEe].bind(this),getParserConfiguration:this[g4].bind(this),getUsageConfiguration:this[Kxe].bind(this),getUsageInstance:this[oEe].bind(this),getValidationInstance:this[sEe].bind(this),hasParseCallback:this[$L].bind(this),isGlobalContext:this[aEe].bind(this),postProcess:this[A4].bind(this),reset:this[QZ].bind(this),runValidation:this[MZ].bind(this),runYargsParserAndExecuteCommands:this[ow].bind(this),setHasOutput:this[cEe].bind(this)}}[eEe](){return pe(this,ca,"f")}[tEe](){return pe(this,iw,"f")}[rEe](){return pe(this,Uu,"f")}[nEe](){return pe(this,Xv,"f")}[iEe](){return pe(this,f4,"f")||{}}[oEe](){return pe(this,Nn,"f")}[sEe](){return pe(this,js,"f")}[$L](){return!!pe(this,qu,"f")}[aEe](){return pe(this,WL,"f")}[A4](t,r,n,i){return n||ts(t)||(r||(t=this[Vxe](t)),(this[g4]()["parse-positional-numbers"]||this[g4]()["parse-positional-numbers"]===void 0)&&(t=this[Xxe](t)),i&&(t=a4(t,this,pe(this,cd,"f").getMiddleware(),!1))),t}[QZ](t={}){Rr(this,Wr,pe(this,Wr,"f")||{},"f");let r={};r.local=pe(this,Wr,"f").local||[],r.configObjects=pe(this,Wr,"f").configObjects||[];let n={};r.local.forEach(a=>{n[a]=!0,(t[a]||[]).forEach(l=>{n[l]=!0})}),Object.assign(pe(this,d4,"f"),Object.keys(pe(this,yp,"f")).reduce((a,l)=>{let c=pe(this,yp,"f")[l].filter(u=>!(u in n));return c.length>0&&(a[l]=c),a},{})),Rr(this,yp,{},"f");let i=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],s=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return i.forEach(a=>{r[a]=(pe(this,Wr,"f")[a]||[]).filter(l=>!n[l])}),s.forEach(a=>{r[a]=P5(pe(this,Wr,"f")[a],l=>!n[l])}),r.envPrefix=pe(this,Wr,"f").envPrefix,Rr(this,Wr,r,"f"),Rr(this,Nn,pe(this,Nn,"f")?pe(this,Nn,"f").reset(n):Qxe(this,pe(this,Sn,"f")),"f"),Rr(this,js,pe(this,js,"f")?pe(this,js,"f").reset(n):Gxe(this,pe(this,Nn,"f"),pe(this,Sn,"f")),"f"),Rr(this,ca,pe(this,ca,"f")?pe(this,ca,"f").reset():Fxe(pe(this,Nn,"f"),pe(this,js,"f"),pe(this,cd,"f"),pe(this,Sn,"f")),"f"),pe(this,ad,"f")||Rr(this,ad,Uxe(this,pe(this,Nn,"f"),pe(this,ca,"f"),pe(this,Sn,"f")),"f"),pe(this,cd,"f").reset(),Rr(this,Ou,null,"f"),Rr(this,pl,"","f"),Rr(this,N5,null,"f"),Rr(this,Uu,!1,"f"),this.parsed=!1,this}[lEe](t,r){return pe(this,Sn,"f").path.relative(t,r)}[ow](t,r,n,i=0,s=!1){let a=!!n||s;t=t||pe(this,L5,"f"),pe(this,Wr,"f").__=pe(this,Sn,"f").y18n.__,pe(this,Wr,"f").configuration=this[g4]();let l=!!pe(this,Wr,"f").configuration["populate--"],c=Object.assign({},pe(this,Wr,"f").configuration,{"populate--":!0}),u=pe(this,Sn,"f").Parser.detailed(t,Object.assign({},pe(this,Wr,"f"),{configuration:{"parse-positional-numbers":!1,...c}})),f=Object.assign(u.argv,pe(this,f4,"f")),m,h=u.aliases,p=!1,A=!1;Object.keys(f).forEach(x=>{x===pe(this,ud,"f")&&f[x]?p=!0:x===pe(this,Cp,"f")&&f[x]&&(A=!0)}),f.$0=this.$0,this.parsed=u,i===0&&pe(this,Nn,"f").clearCachedHelpMessage();try{if(this[BZ](),r)return this[A4](f,l,!!n,!1);pe(this,ud,"f")&&[pe(this,ud,"f")].concat(h[pe(this,ud,"f")]||[]).filter(S=>S.length>1).includes(""+f._[f._.length-1])&&(f._.pop(),p=!0),Rr(this,WL,!1,"f");let x=pe(this,ca,"f").getCommands(),E=pe(this,ad,"f").completionKey in f,v=p||E||s;if(f._.length){if(x.length){let b;for(let S=i||0,B;f._[S]!==void 0;S++)if(B=String(f._[S]),x.includes(B)&&B!==pe(this,Ou,"f")){let D=pe(this,ca,"f").runCommand(B,this,u,S+1,s,p||A||s);return this[A4](D,l,!!n,!1)}else if(!b&&B!==pe(this,Ou,"f")){b=B;break}!pe(this,ca,"f").hasDefaultCommand()&&pe(this,VL,"f")&&b&&!v&&pe(this,js,"f").recommendCommands(b,x)}pe(this,Ou,"f")&&f._.includes(pe(this,Ou,"f"))&&!E&&(pe(this,ld,"f")&&F5(!0),this.showCompletionScript(),this.exit(0))}if(pe(this,ca,"f").hasDefaultCommand()&&!v){let b=pe(this,ca,"f").runCommand(null,this,u,0,s,p||A||s);return this[A4](b,l,!!n,!1)}if(E){pe(this,ld,"f")&&F5(!0),t=[].concat(t);let b=t.slice(t.indexOf(`--${pe(this,ad,"f").completionKey}`)+1);return pe(this,ad,"f").getCompletion(b,(S,B)=>{if(S)throw new es(S.message);(B||[]).forEach(D=>{pe(this,Xv,"f").log(D)}),this.exit(0)}),this[A4](f,!l,!!n,!1)}if(pe(this,Uu,"f")||(p?(pe(this,ld,"f")&&F5(!0),a=!0,this.showHelp("log"),this.exit(0)):A&&(pe(this,ld,"f")&&F5(!0),a=!0,pe(this,Nn,"f").showVersion("log"),this.exit(0))),!a&&pe(this,Wr,"f").skipValidation.length>0&&(a=Object.keys(f).some(b=>pe(this,Wr,"f").skipValidation.indexOf(b)>=0&&f[b]===!0)),!a){if(u.error)throw new es(u.error.message);if(!E){let b=this[MZ](h,{},u.error);n||(m=a4(f,this,pe(this,cd,"f").getMiddleware(),!0)),m=this[Zxe](b,m??f),ts(m)&&!n&&(m=m.then(()=>a4(f,this,pe(this,cd,"f").getMiddleware(),!1)))}}}catch(x){if(x instanceof es)pe(this,Nn,"f").fail(x.message,x);else throw x}return this[A4](m??f,l,!!n,!0)}[MZ](t,r,n,i){let s={...this.getDemandedOptions()};return a=>{if(n)throw new es(n.message);pe(this,js,"f").nonOptionCount(a),pe(this,js,"f").requiredArguments(a,s);let l=!1;pe(this,h4,"f")&&(l=pe(this,js,"f").unknownCommands(a)),pe(this,m4,"f")&&!l?pe(this,js,"f").unknownArguments(a,t,r,!!i):pe(this,p4,"f")&&pe(this,js,"f").unknownArguments(a,t,{},!1,!1),pe(this,js,"f").limitedChoices(a),pe(this,js,"f").implications(a),pe(this,js,"f").conflicting(a)}}[cEe](){Rr(this,Uu,!0,"f")}[y4](t){if(typeof t=="string")pe(this,Wr,"f").key[t]=!0;else for(let r of t)pe(this,Wr,"f").key[r]=!0}};function Nxe(e){return!!e&&typeof e.getInternalMethods=="function"}o(Nxe,"isYargsInstance");var v0t=uEe(kxe),fEe=v0t;d();d();var sw="apps",UZ="hosts",aw=class{constructor(t,r){this.ctx=t;this.persistenceManager=r}static{o(this,"AuthPersistence")}async getAuthRecord(t){let r=await this.persistenceManager.read(sw,this.authRecordKey(this.ctx,t));return!t&&!r&&(r=await this.persistenceManager.read(sw,this.authRecordKey(this.ctx,this.ctx.get(Vs).fallbackAppId()))),r||await this.legacyAuthRecordMaybe()}async legacyAuthRecordMaybe(){let t=await this.persistenceManager.read(UZ,this.legacyAuthRecordKey(this.ctx));if(t){let r=this.ctx.get(Vs).fallbackAppId();return{...t,githubAppId:r}}}async saveAuthRecord(t){let r=this.ctx.get(Vs).findAppIdToAuthenticate();await this.persistenceManager.update(sw,this.authRecordKey(this.ctx,t.githubAppId),t);let n=this.ctx.get(Vs).fallbackAppId();r===n&&await this.persistenceManager.delete(UZ,this.legacyAuthRecordKey(this.ctx))}async deleteAuthRecord(){let t=await this.getAuthRecord();if(t){let r=this.ctx.get(Vs).fallbackAppId();t.githubAppId===r&&await this.persistenceManager.delete(UZ,this.legacyAuthRecordKey(this.ctx)),await this.persistenceManager.delete(sw,this.authRecordKey(this.ctx)),await this.persistenceManager.delete(sw,this.authRecordKey(this.ctx,r))}}authRecordKey(t,r){let n=t.get(Dn).getAuthAuthority(),i=r??t.get(Vs).findAppIdToAuthenticate();return`${n}:${i}`}legacyAuthRecordKey(t){return t.get(Dn).getAuthAuthority()}};d();d();var zL={AuthNotifyShown:"auth.auth_notify_shown",AuthNotifyDismissed:"auth.auth_notify_dismissed",NewGitHubLogin:"auth.new_github_login",GitHubLoginSuccess:"auth.github_login_success"};function dEe(e,t){let r=rn.createAndMarkAsIssued({authSource:t});return Gt(e,zL.AuthNotifyShown,r)}o(dEe,"telemetryAuthNotifyShown");function mEe(e){return Gt(e,zL.AuthNotifyDismissed)}o(mEe,"telemetryAuthNotifyDismissed");function YL(e,t,r){let n=rn.createAndMarkAsIssued({authSource:t,authType:r});return Gt(e,zL.NewGitHubLogin,n)}o(YL,"telemetryNewGitHubLogin");function KL(e,t){let r=rn.createAndMarkAsIssued({authType:t});return Gt(e,zL.GitHubLoginSuccess,r)}o(KL,"telemetryGitHubLoginSuccess");async function I0t(e,t){YL(e,"unknown","deviceFlow");let r={method:"POST",headers:{Accept:"application/json",...f0(e)},json:{client_id:t},timeout:30*1e3},n;try{n=await e.get(Nr).fetch(e.get(Dn).getDeviceFlowStartUrl(),r)}catch(i){throw i instanceof Error&&Q7(i)?new Us(`Could not log in with device flow on ${e.get(Dn).getAuthAuthority()}: ${i.message}`):i}if(!n.ok)throw new Us(`Could not log in with device flow on ${e.get(Dn).getAuthAuthority()}: HTTP ${n.status}`);return await n.json()}o(I0t,"requestDeviceFlowStage1");async function T0t(e,t,r){let n={method:"POST",headers:{Accept:"application/json",...f0(e)},json:{client_id:r,device_code:t,grant_type:"urn:ietf:params:oauth:grant-type:device_code"},timeout:3e4};return await(await e.get(Nr).fetch(e.get(Dn).getDeviceFlowCompletionUrl(),n)).json()}o(T0t,"requestDeviceFlowStage2");async function w0t(e,t){return KL(e,"deviceFlow"),await(await e.get(Nr).fetch(e.get(Dn).getUserInfoUrl(),{headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}})).json()}o(w0t,"requestUserInfo");var C4=class{static{o(this,"GitHubDeviceFlow")}async getToken(t,r){try{return await this.getTokenUnguarded(t,r)}catch(n){throw t.get(Rc).notifyUser(t,n),n}}async getTokenUnguarded(t,r){let n=await I0t(t,r),i=(async()=>{let s=n.expires_in,a;for(;s>0;){let l=await T0t(t,n.device_code,r);if(s-=n.interval,await new Promise(c=>setTimeout(c,1e3*n.interval)),a=l.access_token,a)return{user:(await w0t(t,a)).login,oauth_token:a}}throw new Us("Timed out waiting for login to complete")})();return{...n,waitForAuth:i}}};d();var Wu=class{static{o(this,"CitationManager")}},JL=class extends Wu{static{o(this,"NoOpCitationManager")}async handleIPCodeCitation(t,r){}};d();d();var S0t={fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1},rs=class{constructor(){this.capabilities={...S0t}}static{o(this,"CopilotCapabilitiesProvider")}setCapabilities(t){let r;for(r in t){let n=t[r];n!==void 0&&(this.capabilities[r]=n)}}getCapabilities(){return this.capabilities}};d();var tI=class{constructor(){this.instances=new Map}static{o(this,"Context")}get(t){let r=this.tryGet(t);if(r)return r;throw new Error(`No instance of ${t.name} has been registered.`)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};d();d();var XL=class extends Error{static{o(this,"FetchSpeculationCanceledException")}constructor(t){super(t),this.name="FetchSpeculationCanceledException"}};d();var rI=class extends Error{static{o(this,"FetchSpeculationFailedException")}constructor(t){super(t),this.name="FetchSpeculationFailedException"}};d();d();async function*S1(e,t){for await(let r of e)yield t(r)}o(S1,"asyncIterableMap");async function*hEe(e,t){for await(let r of e)await t(r)&&(yield r)}o(hEe,"asyncIterableFilter");async function*lw(e,t){for await(let r of e){let n=await t(r);n!==void 0&&(yield n)}}o(lw,"asyncIterableMapFilter");async function*pEe(...e){for(let t of e)yield*t}o(pEe,"asyncIterableConcat");d();async function Ja(e,t,r,n){let i=rn.createAndMarkAsIssued({messageId:t,conversationId:r});return await e.get(or).updateExPValuesAndAssignments(n,i)}o(Ja,"createTelemetryWithExpWithId");function cw(e,t,r,n,i,s,a,l){let c=e.turns[e.turns.length-1].skills.map(m=>m.skillId).sort(),u={source:"user",turnIndex:(e.turns.length-1).toString(),uiKind:t,skillIds:c.join(",")},f={promptTokenLen:n,messageCharLen:r};return i&&(u.suggestion=i),s&&(u.suggestionId=s),l.length>0&&(u.skillResolutionsJson=JSON.stringify(_0t(l))),a=a.extendedBy(u,f),a}o(cw,"extendUserMessageTelemetryData");function _0t(e){return e.map(t=>({skillId:t.skillId,resolution:t.resolution,fileStatus:t.files?.map(r=>r.status),tokensPreEliding:t.tokensPreEliding??0,resolutionTimeMs:t.resolutionTimeMs??0,processingTimeMs:t.processingTimeMs??0}))}o(_0t,"mapSkillResolutionsForTelemetry");function gEe(e,t,r,n,i,s,a){return n!=null&&(a=a.extendedBy({offTopic:n.toString()})),ZL(e,s,t,r,{uiKind:t,headerRequestId:i},{},a).properties.messageId}o(gEe,"createUserMessageTelemetryData");function AEe(e,t,r,n,i,s,a,l){let c=B0t(n);return ZL(e,a,r,n,{source:"model",turnIndex:(t.turns.length-1).toString(),headerRequestId:s,uiKind:r,codeBlockLanguages:JSON.stringify({...c})},{messageCharLen:n.length,numCodeBlocks:c.length,numTokens:i},l).properties.messageId}o(AEe,"createModelMessageTelemetryData");function yEe(e,t,r,n,i,s,a){ZL(e,s,r,n,{source:"offTopic",turnIndex:t.turns.length.toString(),userMessageId:i,uiKind:r},{messageCharLen:n.length},a)}o(yEe,"createOffTopicMessageTelemetryData");function CEe(e,t,r,n,i,s,a,l,c){let u=ZL(e,l,r,n,{source:"suggestion",suggestion:s,turnIndex:(t.turns.length-1).toString(),uiKind:r,suggestionId:a},{promptTokenLen:i,messageCharLen:n.length},c);return k0t(e,r,s,u.properties.messageId,u.properties.conversationId,a,c,l),u.properties.messageId}o(CEe,"createSuggestionMessageTelemetryData");var xEe={synonymTimeMs:0,rankingTimeMs:0,chunkCount:0,localSnippetCount:0,embeddingsTimeMs:0,rerankingTimeMs:0};async function EEe(e,t,r){let n=await Ja(e.ctx,e.turn.id,e.conversation.id),i=e.conversation.source==="inline"?"conversationInline":"conversationPanel";Gu(e.ctx,void 0,{conversationId:e.conversation.id,turnIndex:(e.conversation.turns.length-1).toString(),userMessageId:e.turn.id,provider:t,uiKind:i},r,"index.codesearch",n)}o(EEe,"telemetryIndexCodesearch");function ZL(e,t,r,n,i,s,a){let l=a??rn.createAndMarkAsIssued(),c={messageText:n,...i};if(!("messageId"in i)&&!("messageId"in l.properties)){let h=Tr();i.messageId=h,c.messageId=h}t&&(i.languageId=t.detectedLanguageId,s.documentLength=t.getText().length,s.documentLineCount=t.lineCount);let u=l.extendedBy(i,s),f=l.extendedBy(c),m=Qc(r);return Gt(e,`${m}.message`,u),Gt(e,`${m}.messageText`,f,1),u}o(ZL,"telemetryMessage");function bEe(e,t,r,n){Gu(e,n,{uiKind:t},{},"conversation.suggestionShown",r)}o(bEe,"createSuggestionShownTelemetryData");function k0t(e,t,r,n,i,s,a,l){Gu(e,l,{suggestion:r,messageId:n,conversationId:i,suggestionId:s,uiKind:t},{},"conversation.suggestionSelected",a)}o(k0t,"createSuggestionSelectedTelemetryData");function Gu(e,t,r,n,i,s){let a=s??rn.createAndMarkAsIssued();t&&(r.languageId=t.detectedLanguageId,n.documentLength=t.getText().length,n.documentLineCount=t.lineCount);let l=a.extendedBy(r,n);return Gt(e,i,l),l}o(Gu,"telemetryUserAction");function iI(e,t,r){let n=r.extendedBy({messagesJson:JSON.stringify(t)});return Gt(e,"engine.messages",n,1)}o(iI,"logEngineMessages");function Qc(e){switch(e){case"editsPanel":return"copilotEditsPanel";case"conversationInline":return"inlineConversation";case"conversationPanel":default:return"conversation"}}o(Qc,"telemetryPrefixForUiKind");function B0t(e){let t=e.split(`
`),r=[],n=[];for(let i=0;i<t.length;i++){let s=t[i];s.startsWith("```")&&(n.length>0&&s==="```"?r.push(n.pop()):n.length===0&&n.push(s.substring(3)))}return r}o(B0t,"getCodeBlocks");function vEe(e){return e=="conversationInline"?"conversation-inline":"conversation-panel"}o(vEe,"uiKindToIntent");function M5(e){return e==="inline"?"conversationInline":"conversationPanel"}o(M5,"conversationSourceToUiKind");d();function IEe(e,t,r,n,i,s,a){return cye(e,t,r,i,n),{completionText:t,meanLogProb:R0t(e,r),meanAlternativeLogProb:D0t(e,r),choiceIndex:n,requestId:i,blockFinished:s,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:Tr(),finishReason:r.finish_reason}}o(IEe,"convertToAPIChoice");async function*TEe(e,t){for await(let r of e){let n={...r},i=n.completionText.split(`
`);for(let s=0;s<i.length;++s){let a=i[s].trimLeft();a===""?i[s]=a:i[s]=t+a}n.completionText=i.join(`
`),yield n}}o(TEe,"cleanupIndentChoices");function R0t(e,t){if(t?.logprobs?.token_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--)r+=t.logprobs.token_logprobs[s],n+=1;return n>0?r/n:void 0}catch(r){ni.exception(e,r,"Error calculating mean prob")}}o(R0t,"calculateMeanLogProb");function D0t(e,t){if(t?.logprobs?.top_logprobs)try{let r=0,n=0,i=50;for(let s=0;s<t.logprobs.token_logprobs.length-1&&i>0;s++,i--){let a={...t.logprobs.top_logprobs[s]};delete a[t.logprobs.tokens[s]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){ni.exception(e,r,"Error calculating mean prob")}}o(D0t,"calculateMeanAlternativeLogProb");function oI(e,t){return Tm(e)||t<=1?0:t<10?.2:t<20?.4:.8}o(oI,"getTemperatureForSamples");var P0t={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function wEe(e,t){return P0t[t??""]??[`


`,"\n```"]}o(wEe,"getStops");function eQ(e){return 1}o(eQ,"getTopP");function tQ(e){return NT}o(tQ,"getMaxSolutionTokens");d();var Uc=new Cr("streamChoices"),qZ=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new HZ;this.tool_calls=[];this.function_call=new GZ;this.copilot_references=[]}static{o(this,"APIJsonDataStreaming")}append(t){if(t.text&&this.text.push(t.text),t.delta?.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push(t.logprobs.tokens??[]),this.text_offset.push(t.logprobs.text_offset??[]),this.logprobs.push(t.logprobs.token_logprobs??[]),this.top_logprobs.push(t.logprobs.top_logprobs??[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),t.delta?.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),t.delta?.tool_calls&&t.delta.tool_calls.length>0)for(let r of t.delta.tool_calls){let n=r.index;this.tool_calls[n]||(this.tool_calls[n]=new WZ),this.tool_calls[n].update(r)}t.delta?.function_call&&this.function_call.update(t.delta.function_call),t?.finish_reason&&(this.finish_reason=t.finish_reason)}};function F0t(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(F0t,"splitChunk");var WZ=class{constructor(){this.arguments=[]}static{o(this,"StreamingToolCall")}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}},GZ=class{constructor(){this.arguments=[]}static{o(this,"StreamingFunctionCall")}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}},HZ=class{constructor(){this.current={}}static{o(this,"StreamCopilotAnnotations")}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(s=>s.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){return this.current[t]??[]}},U5=class e{constructor(t,r,n,i,s,a,l){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=s;this.dropCompletionReasons=a;this.cancellationToken=l;this.requestId=O5(this.response);this.stats=new VZ(this.expectedNumChoices);this.solutions={}}static{o(this,"SSEProcessor")}static create(t,r,n,i,s,a){let l=n.body();return l.setEncoding("utf8"),new e(t,r,n,l,i,s??["content_filter"],a)}async*processSSE(t=async()=>{}){try{yield*this.processSSEInner(t)}finally{this.cancel(),Uc.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),Uc.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(t){let r="",n=null,i,s;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;Uc.debug(this.ctx,"chunk",a.toString());let[l,c]=F0t(r+a.toString());r=c;for(let u of l){let f=u.slice(5).trim();if(f=="[DONE]"){yield*this.finishSolutions(n,i,s);return}n=null;let m;try{m=JSON.parse(f)}catch{Uc.error(this.ctx,"Error parsing JSON stream data",u);continue}if(m.copilot_confirmation&&N0t(m.copilot_confirmation)&&await t("",{text:"",requestId:this.requestId,copilotConfirmation:m.copilot_confirmation}),m.copilot_references&&await t("",{text:"",requestId:this.requestId,copilotReferences:m.copilot_references}),m.choices===void 0){!m.copilot_references&&!m.copilot_confirmation&&(m.error!==void 0?Uc.error(this.ctx,"Error in response:",m.error.message):Uc.error(this.ctx,"Unexpected response with no choices or error: "+f)),m.copilot_errors&&await t("",{text:"",requestId:this.requestId,copilotErrors:m.copilot_errors});continue}if(this.requestId.created==0&&(this.requestId=O5(this.response,m),this.requestId.created===0&&m.choices?.length&&Uc.error(this.ctx,'Request id invalid, should have "completionId" and "created":',this.requestId)),i===void 0&&m.model&&(i=m.model),s===void 0&&m.usage&&(s=m.usage),this.allSolutionsDone()){r="";break e}for(let h=0;h<m.choices?.length;h++){let p=m.choices[h];Uc.debug(this.ctx,"choice",p),this.stats.add(p.index),p.index in this.solutions||(this.solutions[p.index]=new qZ);let A=this.solutions[p.index];if(A==null)continue;A.append(p);let x,E=p.text?.indexOf(`
`)>-1||p.delta?.content?.indexOf(`
`)>-1;if(p.finish_reason||E){let S=A.text.join("");if(x=await t(S,{text:S,requestId:this.requestId,annotations:A.copilot_annotations,copilotReferences:A.copilot_references}),this.maybeCancel("after awaiting finishedCb"))return}if(p.finish_reason&&A.function_call.name!==void 0){n=p.finish_reason;continue}if(!(p.finish_reason||x!==void 0))continue;let b=p.finish_reason??"client-trimmed";if(Gt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:b,engineName:i??"",engineChoiceSource:b5(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(p.finish_reason)?this.solutions[p.index]=null:(this.stats.markYielded(p.index),yield{solution:A,finishOffset:x,reason:p.finish_reason,requestId:this.requestId,index:p.index,model:i,usage:s}),this.maybeCancel("after yielding finished choice"))return;this.solutions[p.index]=null}}}for(let[a,l]of Object.entries(this.solutions)){let c=Number(a);if(l!=null&&(Gt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i??""})),this.stats.markYielded(c),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:c,model:i,usage:s},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&Uc.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{Uc.error(this.ctx,`Error parsing extraData: ${r}`)}}async*finishSolutions(t,r,n){for(let[i,s]of Object.entries(this.solutions)){let a=Number(i);if(s!=null&&(this.stats.markYielded(a),Gt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:t??"DONE",engineName:r??""})),yield{solution:s,finishOffset:void 0,reason:t??"DONE",requestId:this.requestId,index:a,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){return this.cancellationToken?.isCancellationRequested?(Uc.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};function rQ(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(Uc.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),Uc.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),Uc.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=$Z(t.solution);return IEe(e,n,s,t.index,t.requestId,i,r)}o(rQ,"prepareSolutionForReturn");function $Z(e){let t=e.text.join(""),r=L0t(e),n=Q0t(e),i=e.copilot_annotations.current,s={text:t,tokens:e.text,tool_calls:r,function_call:n,copilot_annotations:i,finish_reason:e.finish_reason??"stop"};if(e.logprobs.length===0)return s;let a=e.logprobs.reduce((f,m)=>f.concat(m),[]),l=e.top_logprobs.reduce((f,m)=>f.concat(m),[]),c=e.text_offset.reduce((f,m)=>f.concat(m),[]),u=e.tokens.reduce((f,m)=>f.concat(m),[]);return{...s,logprobs:{token_logprobs:a,top_logprobs:l,text_offset:c,tokens:u}}}o($Z,"convertToAPIJsonData");function N0t(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}o(N0t,"isCopilotConfirmation");function L0t(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.length>0?JSON.parse(r.arguments.join("")):{};t.push({type:"function",function:{name:r.name,arguments:n},approxNumTokens:r.arguments.length+1})}return t}o(L0t,"extractToolCalls");function Q0t(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):{};return{name:e.function_call.name,arguments:t}}}o(Q0t,"extractFunctionCall");var VZ=class{constructor(t){this.choices=new Map;for(let r=0;r<t;r++)this.choices.set(r,new jZ)}static{o(this,"ChunkStats")}add(t){this.choices.get(t).increment()}markYielded(t){this.choices.get(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},jZ=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{o(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};d();function nQ(e,t){return e!==null&&typeof e=="object"&&t in e}o(nQ,"hasKey");function $0(e,t){return nQ(e,t)?e[t]:void 0}o($0,"getKey");var _Ee=tt(jn());var Ls=new Cr("fetchCompletions");function O5(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(O5,"getRequestId");function sI(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(sI,"getProcessingTime");function kEe(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(kEe,"uiKindToIntent");var Oc=class{static{o(this,"OpenAIFetcher")}};function M0t(e,t,r,n){return uv(e,t,"proxy","v1/engines",r,n)}o(M0t,"getProxyEngineUrl");async function SEe(e,t,r,n,i,s,a,l,c,u,f){let m=e.get(Mi),h=M0t(e,a,r,n),p=c.extendedBy({endpoint:n,engineName:r,uiKind:l},xv(t));for(let[E,v]of Object.entries(s))E=="prompt"||E=="suffix"||E=="context"||(p.properties[`request.option.${E}`]=JSON.stringify(v)??"undefined");p.properties.headerRequestId=i,Gt(e,"request.sent",p);let A=Gs(),x=kEe(l);return E3(e,h,a.token,x,i,s,u,f).then(E=>{let v=O5(E,void 0);p.extendWithRequestId(v);let b=Gs()-A;return p.measurements.totalTimeMs=b,Ls.info(e,`request.response: [${h}] took ${b} ms`),Ls.debug(e,"request.response properties",p.properties),Ls.debug(e,"request.response measurements",p.measurements),Ls.debug(e,"prompt:",t),Gt(e,"request.response",p),E}).catch(E=>{if(Ec(E))throw Gt(e,"request.cancel",p),E;m.setWarning($0(E,"message")??"");let v=p.extendedBy({error:"Network exception"});Gt(e,"request.shownWarning",v),p.properties.message=String($0(E,"name")??""),p.properties.code=String($0(E,"code")??""),p.properties.errno=String($0(E,"errno")??""),p.properties.type=String($0(E,"type")??"");let b=Gs()-A;throw p.measurements.totalTimeMs=b,Ls.debug(e,`request.response: [${h}] took ${b} ms`),Ls.debug(e,"request.error properties",p.properties),Ls.debug(e,"request.error measurements",p.measurements),Gt(e,"request.error",p),E}).finally(()=>{uye(e,t,p)})}o(SEe,"fetchWithInstrumentation");async function O0t(e,t,r,n,i,s,a,l,c,u){let f=c.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:l});for(let[A,x]of Object.entries(s))A!=="messages"&&(f.properties[`request.option.${A}`]=JSON.stringify(x)??"undefined");f.properties.headerRequestId=i,Gt(e,"request.sent",f);let m=Gs(),h=kEe(l),p={...C5(e)};try{let A=await E3(e,n,a.token,h,i,s,u,p),x=O5(A,void 0);f.extendWithRequestId(x);let E=Gs()-m;return f.measurements.totalTimeMs=E,Ls.info(e,`request.response: [${n}] took ${E} ms`),Ls.debug(e,"request.response properties",f.properties),Ls.debug(e,"request.response measurements",f.measurements),Ls.debug(e,"messages:",JSON.stringify(t)),Gt(e,"request.response",f),A}catch(A){if(Ec(A))throw Gt(e,"request.cancel",f),A;let x=f.extendedBy({error:"Network exception"});Gt(e,"request.shownWarning",x),f.properties.message=String($0(A,"name")??""),f.properties.code=String($0(A,"code")??""),f.properties.errno=String($0(A,"errno")??""),f.properties.type=String($0(A,"type")??"");let E=Gs()-m;throw f.measurements.totalTimeMs=E,Ls.debug(e,`request.response: [${n}] took ${E} ms`),Ls.debug(e,"request.error properties",f.properties),Ls.debug(e,"request.error measurements",f.measurements),Gt(e,"request.error",f),A}finally{iI(e,t,f)}}o(O0t,"fetchChatWithInstrumentation");function zZ(e){return hEe(e,async t=>t.completionText.trim().length>0)}o(zZ,"postProcessChoices");var U0t="github.copilot.completions.quotaExceeded",uw=class extends Oc{static{o(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Mi),l="completions",c=await t.get(qr).getToken(),u=await this.fetchWithParameters(t,l,r,c,n,s);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let A=u.body();try{A.destroy()}catch(x){Ls.exception(t,x,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u.status!==200){let A=this.createTelemetryData(l,t,r);return this.handleError(t,a,A,u,c)}let f=t.get(or).dropCompletionReasons(n),h=U5.create(t,r.count,u,n,f,s).processSSE(i),p=S1(h,async A=>rQ(t,A,n));return{type:"success",choices:zZ(p),getProcessingTime:o(()=>sI(u),"getProcessingTime")}}async fetchAndStreamChat(t,r,n,i,s,a,l){if(this.#e)return{type:"canceled",reason:this.#e};let c="https://copilot-proxy.githubusercontent.com/chat/completions",u={id:"copilot-nes-v",name:"proxy-4o-mini"},f={messages:r,model:u.id,stream:!0},m=n.extendedBy({endpoint:c,model:u.name}),h=t.get(Mi),p=await t.get(qr).getToken(),A=await O0t(t,r,u.id,c,s,f,p,i,m,l);if(l?.isCancellationRequested){let S=A.body();try{S.destroy()}catch(B){Ls.exception(t,B,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(A.status!==200){let S=rn.createAndMarkAsIssued({endpoint:c,engineName:u.name,uiKind:i,headerRequestId:s});return this.handleError(t,h,S,A,p)}let x=t.get(or).dropCompletionReasons(n),v=U5.create(t,1,A,m,x,_Ee.CancellationToken.None).processSSE(),b=S1(v,async S=>rQ(t,S,n));return{type:"success",choices:zZ(b),getProcessingTime:o(()=>sI(A),"getProcessingTime")}}async fetchAndStreamSpeculation(t,r,n,i,s){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(Mi),l="speculation",c=await t.get(qr).getToken(),u={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1,promptElementRanges:[]},postOptions:{speculation:r.speculation,temperature:r.temperature,stream:r.stream,stop:r.stops??[]},languageId:"",count:0,repoInfo:void 0,ourRequestId:Tr(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers},f=await this.fetchSpeculationWithParameters(t,l,u,c,n,s);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let x=f.body();try{x.destroy()}catch(E){Ls.exception(t,E,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let x=this.createTelemetryData(l,t,u);return this.handleError(t,a,x,f,c)}let m=t.get(or).dropCompletionReasons(n),p=U5.create(t,1,f,n,m,s).processSSE(i),A=S1(p,async x=>rQ(t,x,n));return{type:"success",choices:zZ(A),getProcessingTime:o(()=>sI(f),"getProcessingTime")}}createTelemetryData(t,r,n){return rn.createAndMarkAsIssued({endpoint:t,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(t,r,n,i,s,a){let l={prompt:n.prompt.prefix};return n.postOptions&&Object.assign(l,n.postOptions),await new Promise((u,f)=>{setImmediate(u)}),a?.isCancellationRequested?"not-sent":await SEe(t,n.prompt,n.engineModelId,r,n.ourRequestId,l,i,n.uiKind,s,a,n.headers)}async fetchWithParameters(t,r,n,i,s,a){let l=t.get(or).disableLogProb(s),c=t.get(or).enablePromptContextProxyField(s),u={prompt:c?n.prompt.prefixWithoutContext??"":n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:tQ(t),temperature:oI(t,n.count),top_p:eQ(t),n:n.count,stop:wEe(t,n.languageId)};(n.requestLogProbs||!l)&&(u.logprobs=2);let f=x1(n.repoInfo);return f!==void 0&&(u.nwo=f),n.postOptions&&Object.assign(u,n.postOptions),c&&n.prompt.context&&(u.extra?u.extra.context=n.prompt.context:u.extra={language:n.languageId,prompt_tokens:n.prompt.prefixTokens??0,suffix_tokens:n.prompt.suffixTokens??0,context:n.prompt.context}),await new Promise((h,p)=>{setImmediate(h)}),a?.isCancellationRequested?"not-sent":await SEe(t,n.prompt,n.engineModelId,r,n.ourRequestId,u,i,n.uiKind,s,a,n.headers)}async handleError(t,r,n,i,s){let a=await i.text();if(i.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:U0t,title:"Learn More"});let c=Ya(t,u=>{this.#e=void 0,(u.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),c.dispose())});return{type:"failed",reason:this.#e}}if(i.status===466)return r.setError(a),Ls.info(t,a),{type:"failed",reason:`client not supported: ${a}`};if(i.clientError&&!i.headers.get("x-github-request-id")){let l=`Last response was a ${i.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;Ls.error(t,l),r.setWarning(l),n.properties.error=`Response status was ${i.status} with no x-github-request-id header`}else i.clientError?(Ls.warn(t,`Response status was ${i.status}:`,a),r.setWarning(`Last response was a ${i.status} error: ${a}`),n.properties.error=`Response status was ${i.status}: ${a}`):(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`);return n.properties.status=String(i.status),Gt(t,"request.shownWarning",n),i.status===401||i.status===403?(t.get(qr).resetToken(i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`}):i.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",Ls.warn(t,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):i.status===499?(Ls.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(Ls.error(t,"Unhandled status from server:",i.status,a),{type:"failed",reason:`unhandled status from server: ${i.status} ${a}`})}};var Ibr=I.Object({prompt:I.String(),speculation:I.String(),languageId:I.String(),stops:I.Array(I.String())}),x4=class{static{o(this,"SpeculationFetcher")}constructor(t){this.ctx=t}async fetchSpeculation(t,r){let i={prompt:t.prompt,speculation:t.speculation,engineModelId:"copilot-centralus-h100",uiKind:"editsPanel",temperature:0,stream:!0,stops:t.stops},s=await this.ctx.get(or).updateExPValuesAndAssignments(),a=await this.ctx.get(Oc).fetchAndStreamSpeculation(this.ctx,i,s,async(l,c)=>{},r);switch(a.type){case"success":return a;case"canceled":throw new XL(a.reason);case"failed":throw new rI(a.reason)}}};d();d();d();var iQ=class e{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=DEe(n.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,f=BEe(n.text,!1,s);if(c-l===f.length)for(let h=0,p=f.length;h<p;h++)u[h+l+1]=f[h];else f.length<1e4?u.splice(l+1,c-l,...f):this._lineOffsets=u=u.slice(0,l+1).concat(f,u.slice(c+1));let m=n.text.length-(a-s);if(m!==0)for(let h=l+1+f.length,p=u.length;h<p;h++)u[h]=u[h]+m}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=BEe(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return t=this.ensureBeforeEOL(t,r[s]),{line:s,character:t-r[s]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let i=t.line+1<r.length?r[t.line+1]:this._content.length,s=Math.min(n+t.character,i);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(t,r){for(;t>r&&REe(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},q5;(function(e){function t(i,s,a,l){return new iQ(i,s,a,l)}o(t,"create"),e.create=t;function r(i,s,a){if(i instanceof iQ)return i.update(s,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(i,s){let a=i.getText(),l=YZ(s.map(q0t),(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),c=0,u=[];for(let f of l){let m=i.offsetAt(f.range.start);if(m<c)throw new Error("Overlapping edit");m>c&&u.push(a.substring(c,m)),f.newText.length&&u.push(f.newText),c=i.offsetAt(f.range.end)}return u.push(a.substr(c)),u.join("")}o(n,"applyEdits"),e.applyEdits=n})(q5||(q5={}));function YZ(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);YZ(n,t),YZ(i,t);let s=0,a=0,l=0;for(;s<n.length&&a<i.length;)t(n[s],i[a])<=0?e[l++]=n[s++]:e[l++]=i[a++];for(;s<n.length;)e[l++]=n[s++];for(;a<i.length;)e[l++]=i[a++];return e}o(YZ,"mergeSort");function BEe(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);REe(s)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}o(BEe,"computeLineOffsets");function REe(e){return e===13||e===10}o(REe,"isEOL");function DEe(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(DEe,"getWellformedRange");function q0t(e){let t=DEe(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(q0t,"getWellformedEdit");d();var PEe;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(PEe||(PEe={}));var KZ;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(KZ||(KZ={}));var FEe;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(FEe||(FEe={}));var oQ;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(oQ||(oQ={}));var I0;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=oQ.MAX_VALUE),i===Number.MAX_VALUE&&(i=oQ.MAX_VALUE),{line:n,character:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.uinteger(i.line)&&Ye.uinteger(i.character)}o(r,"is"),e.is=r})(I0||(I0={}));var Mo;(function(e){function t(n,i,s,a){if(Ye.uinteger(n)&&Ye.uinteger(i)&&Ye.uinteger(s)&&Ye.uinteger(a))return{start:I0.create(n,i),end:I0.create(s,a)};if(I0.is(n)&&I0.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${s}, ${a}]`)}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&I0.is(i.start)&&I0.is(i.end)}o(r,"is"),e.is=r})(Mo||(Mo={}));var sQ;(function(e){function t(n,i){return{uri:n,range:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.range)&&(Ye.string(i.uri)||Ye.undefined(i.uri))}o(r,"is"),e.is=r})(sQ||(sQ={}));var NEe;(function(e){function t(n,i,s,a){return{targetUri:n,targetRange:i,targetSelectionRange:s,originSelectionRange:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.targetRange)&&Ye.string(i.targetUri)&&Mo.is(i.targetSelectionRange)&&(Mo.is(i.originSelectionRange)||Ye.undefined(i.originSelectionRange))}o(r,"is"),e.is=r})(NEe||(NEe={}));var JZ;(function(e){function t(n,i,s,a){return{red:n,green:i,blue:s,alpha:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.numberRange(i.red,0,1)&&Ye.numberRange(i.green,0,1)&&Ye.numberRange(i.blue,0,1)&&Ye.numberRange(i.alpha,0,1)}o(r,"is"),e.is=r})(JZ||(JZ={}));var LEe;(function(e){function t(n,i){return{range:n,color:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.range)&&JZ.is(i.color)}o(r,"is"),e.is=r})(LEe||(LEe={}));var QEe;(function(e){function t(n,i,s){return{label:n,textEdit:i,additionalTextEdits:s}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.string(i.label)&&(Ye.undefined(i.textEdit)||lI.is(i))&&(Ye.undefined(i.additionalTextEdits)||Ye.typedArray(i.additionalTextEdits,lI.is))}o(r,"is"),e.is=r})(QEe||(QEe={}));var MEe;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(MEe||(MEe={}));var OEe;(function(e){function t(n,i,s,a,l,c){let u={startLine:n,endLine:i};return Ye.defined(s)&&(u.startCharacter=s),Ye.defined(a)&&(u.endCharacter=a),Ye.defined(l)&&(u.kind=l),Ye.defined(c)&&(u.collapsedText=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.uinteger(i.startLine)&&Ye.uinteger(i.startLine)&&(Ye.undefined(i.startCharacter)||Ye.uinteger(i.startCharacter))&&(Ye.undefined(i.endCharacter)||Ye.uinteger(i.endCharacter))&&(Ye.undefined(i.kind)||Ye.string(i.kind))}o(r,"is"),e.is=r})(OEe||(OEe={}));var XZ;(function(e){function t(n,i){return{location:n,message:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&sQ.is(i.location)&&Ye.string(i.message)}o(r,"is"),e.is=r})(XZ||(XZ={}));var UEe;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(UEe||(UEe={}));var qEe;(function(e){e.Unnecessary=1,e.Deprecated=2})(qEe||(qEe={}));var WEe;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&Ye.string(n.href)}o(t,"is"),e.is=t})(WEe||(WEe={}));var aQ;(function(e){function t(n,i,s,a,l,c){let u={range:n,message:i};return Ye.defined(s)&&(u.severity=s),Ye.defined(a)&&(u.code=a),Ye.defined(l)&&(u.source=l),Ye.defined(c)&&(u.relatedInformation=c),u}o(t,"create"),e.create=t;function r(n){var i;let s=n;return Ye.defined(s)&&Mo.is(s.range)&&Ye.string(s.message)&&(Ye.number(s.severity)||Ye.undefined(s.severity))&&(Ye.integer(s.code)||Ye.string(s.code)||Ye.undefined(s.code))&&(Ye.undefined(s.codeDescription)||Ye.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(Ye.string(s.source)||Ye.undefined(s.source))&&(Ye.undefined(s.relatedInformation)||Ye.typedArray(s.relatedInformation,XZ.is))}o(r,"is"),e.is=r})(aQ||(aQ={}));var aI;(function(e){function t(n,i,...s){let a={title:n,command:i};return Ye.defined(s)&&s.length>0&&(a.arguments=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.title)&&Ye.string(i.command)}o(r,"is"),e.is=r})(aI||(aI={}));var lI;(function(e){function t(s,a){return{range:s,newText:a}}o(t,"replace"),e.replace=t;function r(s,a){return{range:{start:s,end:s},newText:a}}o(r,"insert"),e.insert=r;function n(s){return{range:s,newText:""}}o(n,"del"),e.del=n;function i(s){let a=s;return Ye.objectLiteral(a)&&Ye.string(a.newText)&&Mo.is(a.range)}o(i,"is"),e.is=i})(lI||(lI={}));var ZZ;(function(e){function t(n,i,s){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),s!==void 0&&(a.description=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Ye.string(i.label)&&(Ye.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Ye.string(i.description)||i.description===void 0)}o(r,"is"),e.is=r})(ZZ||(ZZ={}));var cI;(function(e){function t(r){let n=r;return Ye.string(n)}o(t,"is"),e.is=t})(cI||(cI={}));var GEe;(function(e){function t(s,a,l){return{range:s,newText:a,annotationId:l}}o(t,"replace"),e.replace=t;function r(s,a,l){return{range:{start:s,end:s},newText:a,annotationId:l}}o(r,"insert"),e.insert=r;function n(s,a){return{range:s,newText:"",annotationId:a}}o(n,"del"),e.del=n;function i(s){let a=s;return lI.is(a)&&(ZZ.is(a.annotationId)||cI.is(a.annotationId))}o(i,"is"),e.is=i})(GEe||(GEe={}));var eee;(function(e){function t(n,i){return{textDocument:n,edits:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&oee.is(i.textDocument)&&Array.isArray(i.edits)}o(r,"is"),e.is=r})(eee||(eee={}));var tee;(function(e){function t(n,i,s){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&Ye.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Ye.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ye.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||cI.is(i.annotationId))}o(r,"is"),e.is=r})(tee||(tee={}));var ree;(function(e){function t(n,i,s,a){let l={kind:"rename",oldUri:n,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&Ye.string(i.oldUri)&&Ye.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Ye.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ye.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||cI.is(i.annotationId))}o(r,"is"),e.is=r})(ree||(ree={}));var nee;(function(e){function t(n,i,s){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),s!==void 0&&(a.annotationId=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&Ye.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Ye.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Ye.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||cI.is(i.annotationId))}o(r,"is"),e.is=r})(nee||(nee={}));var iee;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Ye.string(i.kind)?tee.is(i)||ree.is(i)||nee.is(i):eee.is(i)))}o(t,"is"),e.is=t})(iee||(iee={}));var HEe;(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)}o(r,"is"),e.is=r})(HEe||(HEe={}));var VEe;(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&Ye.integer(i.version)}o(r,"is"),e.is=r})(VEe||(VEe={}));var oee;(function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&(i.version===null||Ye.integer(i.version))}o(r,"is"),e.is=r})(oee||(oee={}));var jEe;(function(e){function t(n,i,s,a){return{uri:n,languageId:i,version:s,text:a}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.string(i.uri)&&Ye.string(i.languageId)&&Ye.integer(i.version)&&Ye.string(i.text)}o(r,"is"),e.is=r})(jEe||(jEe={}));var see;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(see||(see={}));var fw;(function(e){function t(r){let n=r;return Ye.objectLiteral(r)&&see.is(n.kind)&&Ye.string(n.value)}o(t,"is"),e.is=t})(fw||(fw={}));var $Ee;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})($Ee||($Ee={}));var zEe;(function(e){e.PlainText=1,e.Snippet=2})(zEe||(zEe={}));var YEe;(function(e){e.Deprecated=1})(YEe||(YEe={}));var KEe;(function(e){function t(n,i,s){return{newText:n,insert:i,replace:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.newText)&&Mo.is(i.insert)&&Mo.is(i.replace)}o(r,"is"),e.is=r})(KEe||(KEe={}));var JEe;(function(e){e.asIs=1,e.adjustIndentation=2})(JEe||(JEe={}));var XEe;(function(e){function t(r){let n=r;return n&&(Ye.string(n.detail)||n.detail===void 0)&&(Ye.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(XEe||(XEe={}));var ZEe;(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(ZEe||(ZEe={}));var ebe;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})(ebe||(ebe={}));var lQ;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return Ye.string(i)||Ye.objectLiteral(i)&&Ye.string(i.language)&&Ye.string(i.value)}o(r,"is"),e.is=r})(lQ||(lQ={}));var tbe;(function(e){function t(r){let n=r;return!!n&&Ye.objectLiteral(n)&&(fw.is(n.contents)||lQ.is(n.contents)||Ye.typedArray(n.contents,lQ.is))&&(r.range===void 0||Mo.is(r.range))}o(t,"is"),e.is=t})(tbe||(tbe={}));var rbe;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(rbe||(rbe={}));var nbe;(function(e){function t(r,n,...i){let s={label:r};return Ye.defined(n)&&(s.documentation=n),Ye.defined(i)?s.parameters=i:s.parameters=[],s}o(t,"create"),e.create=t})(nbe||(nbe={}));var ibe;(function(e){e.Text=1,e.Read=2,e.Write=3})(ibe||(ibe={}));var obe;(function(e){function t(r,n){let i={range:r};return Ye.number(n)&&(i.kind=n),i}o(t,"create"),e.create=t})(obe||(obe={}));var sbe;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(sbe||(sbe={}));var abe;(function(e){e.Deprecated=1})(abe||(abe={}));var lbe;(function(e){function t(r,n,i,s,a){let l={name:r,kind:n,location:{uri:s,range:i}};return a&&(l.containerName=a),l}o(t,"create"),e.create=t})(lbe||(lbe={}));var cbe;(function(e){function t(r,n,i,s){return s!==void 0?{name:r,kind:n,location:{uri:i,range:s}}:{name:r,kind:n,location:{uri:i}}}o(t,"create"),e.create=t})(cbe||(cbe={}));var ube;(function(e){function t(n,i,s,a,l,c){let u={name:n,detail:i,kind:s,range:a,selectionRange:l};return c!==void 0&&(u.children=c),u}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.name)&&Ye.number(i.kind)&&Mo.is(i.range)&&Mo.is(i.selectionRange)&&(i.detail===void 0||Ye.string(i.detail))&&(i.deprecated===void 0||Ye.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o(r,"is"),e.is=r})(ube||(ube={}));var fbe;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(fbe||(fbe={}));var cQ;(function(e){e.Invoked=1,e.Automatic=2})(cQ||(cQ={}));var dbe;(function(e){function t(n,i,s){let a={diagnostics:n};return i!=null&&(a.only=i),s!=null&&(a.triggerKind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.typedArray(i.diagnostics,aQ.is)&&(i.only===void 0||Ye.typedArray(i.only,Ye.string))&&(i.triggerKind===void 0||i.triggerKind===cQ.Invoked||i.triggerKind===cQ.Automatic)}o(r,"is"),e.is=r})(dbe||(dbe={}));var mbe;(function(e){function t(n,i,s){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):aI.is(i)?a.command=i:a.edit=i,l&&s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return i&&Ye.string(i.title)&&(i.diagnostics===void 0||Ye.typedArray(i.diagnostics,aQ.is))&&(i.kind===void 0||Ye.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||aI.is(i.command))&&(i.isPreferred===void 0||Ye.boolean(i.isPreferred))&&(i.edit===void 0||iee.is(i.edit))}o(r,"is"),e.is=r})(mbe||(mbe={}));var hbe;(function(e){function t(n,i){let s={range:n};return Ye.defined(i)&&(s.data=i),s}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Mo.is(i.range)&&(Ye.undefined(i.command)||aI.is(i.command))}o(r,"is"),e.is=r})(hbe||(hbe={}));var pbe;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Ye.uinteger(i.tabSize)&&Ye.boolean(i.insertSpaces)}o(r,"is"),e.is=r})(pbe||(pbe={}));var gbe;(function(e){function t(n,i,s){return{range:n,target:i,data:s}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Mo.is(i.range)&&(Ye.undefined(i.target)||Ye.string(i.target))}o(r,"is"),e.is=r})(gbe||(gbe={}));var Abe;(function(e){function t(n,i){return{range:n,parent:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&Mo.is(i.range)&&(i.parent===void 0||e.is(i.parent))}o(r,"is"),e.is=r})(Abe||(Abe={}));var ybe;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(ybe||(ybe={}));var Cbe;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(Cbe||(Cbe={}));var xbe;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(xbe||(xbe={}));var Ebe;(function(e){function t(n,i){return{range:n,text:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Mo.is(i.range)&&Ye.string(i.text)}o(r,"is"),e.is=r})(Ebe||(Ebe={}));var bbe;(function(e){function t(n,i,s){return{range:n,variableName:i,caseSensitiveLookup:s}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Mo.is(i.range)&&Ye.boolean(i.caseSensitiveLookup)&&(Ye.string(i.variableName)||i.variableName===void 0)}o(r,"is"),e.is=r})(bbe||(bbe={}));var vbe;(function(e){function t(n,i){return{range:n,expression:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Mo.is(i.range)&&(Ye.string(i.expression)||i.expression===void 0)}o(r,"is"),e.is=r})(vbe||(vbe={}));var Ibe;(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.defined(i)&&Mo.is(n.stoppedLocation)}o(r,"is"),e.is=r})(Ibe||(Ibe={}));var aee;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(aee||(aee={}));var lee;(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&(i.tooltip===void 0||Ye.string(i.tooltip)||fw.is(i.tooltip))&&(i.location===void 0||sQ.is(i.location))&&(i.command===void 0||aI.is(i.command))}o(r,"is"),e.is=r})(lee||(lee={}));var Tbe;(function(e){function t(n,i,s){let a={position:n,label:i};return s!==void 0&&(a.kind=s),a}o(t,"create"),e.create=t;function r(n){let i=n;return Ye.objectLiteral(i)&&I0.is(i.position)&&(Ye.string(i.label)||Ye.typedArray(i.label,lee.is))&&(i.kind===void 0||aee.is(i.kind))&&i.textEdits===void 0||Ye.typedArray(i.textEdits,lI.is)&&(i.tooltip===void 0||Ye.string(i.tooltip)||fw.is(i.tooltip))&&(i.paddingLeft===void 0||Ye.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Ye.boolean(i.paddingRight))}o(r,"is"),e.is=r})(Tbe||(Tbe={}));var wbe;(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(wbe||(wbe={}));var Sbe;(function(e){function t(r,n,i,s){return{insertText:r,filterText:n,range:i,command:s}}o(t,"create"),e.create=t})(Sbe||(Sbe={}));var _be;(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(_be||(_be={}));var kbe;(function(e){e.Invoked=0,e.Automatic=1})(kbe||(kbe={}));var Bbe;(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(Bbe||(Bbe={}));var Rbe;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(Rbe||(Rbe={}));var Dbe;(function(e){function t(r){let n=r;return Ye.objectLiteral(n)&&KZ.is(n.uri)&&Ye.string(n.name)}o(t,"is"),e.is=t})(Dbe||(Dbe={}));var Pbe;(function(e){function t(s,a,l,c){return new cee(s,a,l,c)}o(t,"create"),e.create=t;function r(s){let a=s;return!!(Ye.defined(a)&&Ye.string(a.uri)&&(Ye.undefined(a.languageId)||Ye.string(a.languageId))&&Ye.uinteger(a.lineCount)&&Ye.func(a.getText)&&Ye.func(a.positionAt)&&Ye.func(a.offsetAt))}o(r,"is"),e.is=r;function n(s,a){let l=s.getText(),c=i(a,(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),u=l.length;for(let f=c.length-1;f>=0;f--){let m=c[f],h=s.offsetAt(m.range.start),p=s.offsetAt(m.range.end);if(p<=u)l=l.substring(0,h)+m.newText+l.substring(p,l.length);else throw new Error("Overlapping edit");u=h}return l}o(n,"applyEdits"),e.applyEdits=n;function i(s,a){if(s.length<=1)return s;let l=s.length/2|0,c=s.slice(0,l),u=s.slice(l);i(c,a),i(u,a);let f=0,m=0,h=0;for(;f<c.length&&m<u.length;)a(c[f],u[m])<=0?s[h++]=c[f++]:s[h++]=u[m++];for(;f<c.length;)s[h++]=c[f++];for(;m<u.length;)s[h++]=u[m++];return s}o(i,"mergeSort")})(Pbe||(Pbe={}));var cee=class{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let s=r.charAt(i);n=s==="\r"||s===`
`,s==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return I0.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let s=n-1;return I0.create(s,t-r[s])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}},Ye;(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}o(r,"defined"),e.defined=r;function n(p){return typeof p>"u"}o(n,"undefined"),e.undefined=n;function i(p){return p===!0||p===!1}o(i,"boolean"),e.boolean=i;function s(p){return t.call(p)==="[object String]"}o(s,"string"),e.string=s;function a(p){return t.call(p)==="[object Number]"}o(a,"number"),e.number=a;function l(p,A,x){return t.call(p)==="[object Number]"&&A<=p&&p<=x}o(l,"numberRange"),e.numberRange=l;function c(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}o(c,"integer"),e.integer=c;function u(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}o(u,"uinteger"),e.uinteger=u;function f(p){return t.call(p)==="[object Function]"}o(f,"func"),e.func=f;function m(p){return p!==null&&typeof p=="object"}o(m,"objectLiteral"),e.objectLiteral=m;function h(p,A){return Array.isArray(p)&&p.every(A)}o(h,"typedArray"),e.typedArray=h})(Ye||(Ye={}));var oo=class{static{o(this,"LocationFactory")}static{this.range=Mo.create.bind(Mo)}static{this.position=I0.create.bind(I0)}};function W5(e,t,r){let n=e.offsetAt(t);for(let{range:i,newText:s}of r){let a=e.getText(i),l=e.offsetAt(i.end);e=e.applyEdits([{range:i,newText:s}]),!(n<e.offsetAt(i.start))&&(n<l&&(n=l),n+=s.length-a.length)}return{textDocument:e,position:e.positionAt(n)}}o(W5,"applyEditsWithPosition");var _1=class e{constructor(t,r,n,i=[]){this.uri=t;this._textDocument=r;this.detectedLanguageId=n;this.appliedEdits=i}static{o(this,"CopilotTextDocument")}static withChanges(t,r,n){let i=q5.create(t.clientUri,t.clientLanguageId,n,t.getText());return q5.update(i,r,n),new e(t.uri,i,t.detectedLanguageId)}applyEdits(t){let r=q5.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return q5.update(r,t.map(n=>({text:n.newText,range:n.range})),this.version),new e(this.uri,r,this.detectedLanguageId,[...this.appliedEdits,...t])}static create(t,r,n,i,s=vN({uri:t,languageId:r})){return new e(W0(t),q5.create(t,r,n,i),s)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(t){return this._textDocument.getText(t)}positionAt(t){return this._textDocument.positionAt(t)}offsetAt(t){return this._textDocument.offsetAt(t)}lineAt(t){let r=typeof t=="number"?t:t.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Mo.create(r,0,r+1,0),i=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),s=Mo.create(I0.create(r,0),I0.create(r,i.length)),a=i.trim().length===0;return{text:i,range:s,isEmptyOrWhitespace:a}}};d();d();d();d();var dw={isBlocked:!1,reason:"VALID_FILE"},uQ={isBlocked:!1,reason:"NO_MATCHING_POLICY"},Fbe={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},E4={all:"all",repo:"repo"},k1=new Cr("contentExclusion");d();d();var fQ=class{static{o(this,"PolicyEvaluator")}};d();d();d();var Nbe=require("child_process");var W0t=new Cr("repository"),uI=class e{constructor(){this.data={}}static{o(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(s=>s.startsWith(n)&&s.endsWith(i)).map(s=>s.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(s=>r.add(n,s)),r),new e)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},xp=class{static{o(this,"GitConfigLoader")}},dQ=class extends xp{static{o(this,"GitCLIConfigLoader")}runCommand(t,r,n){return new Promise((i,s)=>{(0,Nbe.execFile)(r,n,{cwd:t},(a,l)=>{a?s(a):i(l)})})}async tryRunCommand(t,r,n,i){try{return await this.runCommand(r,n,i)}catch(s){W0t.info(t,`Failed to run command '${n}' in ${r}:`,s);return}}async getConfig(t,r){let n=ys(r);if(n===void 0)return;let i=await this.tryRunCommand(t,n,"git",["-c","safe.directory=*","config","--list","--null",...this.extraArgs()]);return i?this.extractConfig(i):void 0}extractConfig(t){let r=new uI;for(let n of t.split("\0").filter(i=>i)){let i=n.split(`
`,1)[0],s=n.slice(i.length+1);r.add(i,s)}return r}extraArgs(){return[]}},mQ=class extends xp{constructor(r){super();this.loaders=r}static{o(this,"GitFallbackConfigLoader")}async getConfig(r,n){for(let i of this.loaders){let s=await i.getConfig(r,n);if(s)return s}}};d();var Lbe=require("os");var hQ=class{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{o(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return p5.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=p5.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,Lbe.platform)()!=="win32"||(t.groups?.host?.length??0)>1)){let r=t.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};var pQ=class{static{o(this,"GitRemoteResolver")}async resolveRemote(t,r){let n=await t.get(xp).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),s=i.filter(a=>a.url.isGitHub());if(s.length)return s.find(a=>a.name==="origin")?.url??s[0].url;if(i.length)return i.find(a=>a.name==="origin")?.url??i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>({name:n,url:new hQ(this.applyInsteadOfRules(r,t.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var H0t=100,uee=class{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}static{o(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let t=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t?.[0],this._name=t?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&t?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=t?.[1],this._owner=t?.[2],this._name=t?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=t?.[1],this._name=t?.[3]):(this._adoOrganization=t?.[0],this._owner=t?.[1],this._name=t?.[3])}}},B1=class e{constructor(t){this.ctx=t;this.remoteResolver=new pQ;this.cache=new xn(H0t)}static{o(this,"RepositoryManager")}async getRepo({uri:t}){let r,n=[];do{if(this.cache.has(t.toString())){let s=this.cache.get(t);return this.updateCache(n,s),s}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=_u(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new uee(typeof t=="string"?{uri:t}:t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await e.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(ko),i=Xo(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=Xo(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let s=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!s)return;let a=Q3(r,s[1]),l=Xo(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let c=Xo(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=Xo(a,"commondir");a=Q3(a,(await t.readFileString(u)).trimEnd());let f=Xo(a,"config");return await t.stat(f),f}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};d();var Qbe=o((e,t)=>{if(x5.Check(e,t))return t;let r=`Typebox schema validation failed:
${[...x5.Errors(e,t)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");d();d();d();var gQ=new WeakMap;function AQ(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,s=Object.prototype.toString.call(e);if(s!=="[object RegExp]"&&s!=="[object Date]"&&gQ.has(e))return gQ.get(e);switch(gQ.set(e,"~"+ ++t),s){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=AQ(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+AQ(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+AQ(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return gQ.set(e,n),n}o(AQ,"t");function yQ(e){return AQ(e,0)}o(yQ,"r");var fee=new WeakMap;function Mbe(e,t,r=yQ(t)){let n,i,s=fee.get(e);s||(fee.set(e,s=[[],i=[],n=[]]),queueMicrotask(function(){let u,f=0;function m(h){for(;u=n[f++];u.r(h));}o(m,"o"),fee.delete(e),e(i).then(function(h){if(h.length!==n.length)return m(new Error("loader value length mismatch"));for(;u=h[f++],f<=h.length;u instanceof Error?n[f-1].r(u):n[f-1].s(u));},m)}));let a=s[0].indexOf(r);if(~a)return s[2][a].p;let l=s[0].push(r)-1,c=s[2][l]={};return s[1][l]=t,c.p=new Promise(function(u,f){c.s=u,c.r=f})}o(Mbe,"n");var Obe=new WeakMap;function V0t(e,t,r,n=yQ(r)){if(t||(t=Obe.get(e)),t||Obe.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=Mbe(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}o(V0t,"n");function Ube(e,t){return function(r,n){return V0t(e,t,r,n)}}o(Ube,"o");d();var ave=tt(Zbe(),1);d();var hw=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");d();d();var Z0t={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},pw=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),ect=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),eve=o(e=>e.join(""),"rangesToString"),tve=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],s=r+1,a=!1,l=!1,c=!1,u=!1,f=r,m="";e:for(;s<e.length;){let x=e.charAt(s);if((x==="!"||x==="^")&&s===r+1){u=!0,s++;continue}if(x==="]"&&a&&!c){f=s+1;break}if(a=!0,x==="\\"&&!c){c=!0,s++;continue}if(x==="["&&!c){for(let[E,[v,b,S]]of Object.entries(Z0t))if(e.startsWith(E,s)){if(m)return["$.",!1,e.length-r,!0];s+=E.length,S?i.push(v):n.push(v),l=l||b;continue e}}if(c=!1,m){x>m?n.push(pw(m)+"-"+pw(x)):x===m&&n.push(pw(x)),m="",s++;continue}if(e.startsWith("-]",s+1)){n.push(pw(x+"-")),s+=2;continue}if(e.startsWith("-",s+1)){m=x,s+=2;continue}n.push(pw(x)),s++}if(f<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let x=n[0].length===2?n[0].slice(-1):n[0];return[ect(x),!1,f-r,!1]}let h="["+(u?"^":"")+eve(n)+"]",p="["+(u?"":"^")+eve(i)+"]";return[n.length&&i.length?"("+h+"|"+p+")":n.length?h:p,l,f-r,!0]},"parseClass");d();var G5=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var tct=new Set(["!","?","+","*","@"]),rve=o(e=>tct.has(e),"isExtglobType"),rct="(?!(?:^|/)\\.\\.?(?:$|/))",CQ="(?!\\.)",nct=new Set(["[","."]),ict=new Set(["..","."]),oct=new Set("().*{}+?[]^$\\!"),sct=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),hee="[^/]",nve=hee+"*?",ive=hee+"+?",fI=class e{static{o(this,"AST")}type;#e;#t;#i=!1;#n=[];#r;#o;#s;#a=!1;#l;#c;#f=!1;constructor(t,r,n={}){this.type=t,t&&(this.#t=!0),this.#r=r,this.#e=this.#r?this.#r.#e:this,this.#l=this.#e===this?n:this.#e.#l,this.#s=this.#e===this?[]:this.#e.#s,t==="!"&&!this.#e.#a&&this.#s.push(this),this.#o=this.#r?this.#r.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let t of this.#n)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#n.map(t=>String(t)).join("|")+")":this.#c=this.#n.map(t=>String(t)).join("")}#m(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#s.pop();){if(t.type!=="!")continue;let r=t,n=r.#r;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#n.length;i++)for(let s of t.#n){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(n.#n[i])}r=n,n=r.#r}}return this}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof e&&r.#r===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let t=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")&&t.push({}),t}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(this.#o===0)return!0;let t=this.#r;for(let r=0;r<this.#o;r++){let n=t.#n[r];if(!(n instanceof e&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let t=this.#r?this.#r.#n.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new e(this.type,t);for(let n of this.#n)r.copyIn(n);return r}static#u(t,r,n,i){let s=!1,a=!1,l=-1,c=!1;if(r.type===null){let p=n,A="";for(;p<t.length;){let x=t.charAt(p++);if(s||x==="\\"){s=!s,A+=x;continue}if(a){p===l+1?(x==="^"||x==="!")&&(c=!0):x==="]"&&!(p===l+2&&c)&&(a=!1),A+=x;continue}else if(x==="["){a=!0,l=p,c=!1,A+=x;continue}if(!i.noext&&rve(x)&&t.charAt(p)==="("){r.push(A),A="";let E=new e(x,r);p=e.#u(t,E,p,i),r.push(E);continue}A+=x}return r.push(A),p}let u=n+1,f=new e(null,r),m=[],h="";for(;u<t.length;){let p=t.charAt(u++);if(s||p==="\\"){s=!s,h+=p;continue}if(a){u===l+1?(p==="^"||p==="!")&&(c=!0):p==="]"&&!(u===l+2&&c)&&(a=!1),h+=p;continue}else if(p==="["){a=!0,l=u,c=!1,h+=p;continue}if(rve(p)&&t.charAt(u)==="("){f.push(h),h="";let A=new e(p,f);f.push(A),u=e.#u(t,A,u,i);continue}if(p==="|"){f.push(h),h="",m.push(f),f=new e(null,r);continue}if(p===")")return h===""&&r.#n.length===0&&(r.#f=!0),f.push(h),h="",r.push(...m,f),u;h+=p}return r.type=null,r.#t=void 0,r.#n=[t.substring(n-1)],u}static fromGlob(t,r={}){let n=new e(null,void 0,r);return e.#u(t,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let t=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||this.#t||this.#l.nocase&&!this.#l.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(this.#l.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}get options(){return this.#l}toRegExpSource(t){let r=t??!!this.#l.dot;if(this.#e===this&&this.#m(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#n.map(p=>{let[A,x,E,v]=typeof p=="string"?e.#h(p,this.#t,c):p.toRegExpSource(t);return this.#t=this.#t||E,this.#i=this.#i||v,A}).join(""),f="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&ict.has(this.#n[0]))){let A=nct,x=r&&A.has(u.charAt(0))||u.startsWith("\\.")&&A.has(u.charAt(2))||u.startsWith("\\.\\.")&&A.has(u.charAt(4)),E=!r&&!t&&A.has(u.charAt(0));f=x?rct:E?CQ:""}let m="";return this.isEnd()&&this.#e.#a&&this.#r?.type==="!"&&(m="(?:$|\\/)"),[f+u+m,G5(u),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",s=this.#d(r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){let c=this.toString();return this.#n=[c],this.type=null,this.#t=void 0,[c,G5(this.toString()),!1,!1]}let a=!n||t||r||!CQ?"":this.#d(!0);a===s&&(a=""),a&&(s=`(?:${s})(?:${a})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?CQ:"")+ive;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?CQ:"")+nve+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+s+c}return[l,G5(s),this.#t=!!this.#t,this.#i]}#d(t){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,s,a]=r.toRegExpSource(t);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#h(t,r,n=!1){let i=!1,s="",a=!1;for(let l=0;l<t.length;l++){let c=t.charAt(l);if(i){i=!1,s+=(oct.has(c)?"\\":"")+c;continue}if(c==="\\"){l===t.length-1?s+="\\\\":i=!0;continue}if(c==="["){let[u,f,m,h]=tve(t,l);if(m){s+=u,a=a||f,l+=m-1,r=r||h;continue}}if(c==="*"){n&&t==="*"?s+=ive:s+=nve,r=!0;continue}if(c==="?"){s+=hee,r=!0;continue}s+=sct(c)}return[s,G5(t),!!r,a]}};d();var pee=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var ua=o((e,t,r={})=>(hw(t),!r.nocomment&&t.charAt(0)==="#"?!1:new dI(t,r).match(e)),"minimatch"),act=/^\*+([^+@!?\*\[\(]*)$/,lct=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),cct=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),uct=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),fct=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),dct=/^\*+\.\*+$/,mct=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),hct=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),pct=/^\.\*+$/,gct=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),Act=/^\*+$/,yct=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),Cct=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),xct=/^\?+([^+@!?\*\[\(]*)?$/,Ect=o(([e,t=""])=>{let r=lve([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),bct=o(([e,t=""])=>{let r=cve([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),vct=o(([e,t=""])=>{let r=cve([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),Ict=o(([e,t=""])=>{let r=lve([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),lve=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),cve=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),uve=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",ove={win32:{sep:"\\"},posix:{sep:"/"}},Tct=uve==="win32"?ove.win32.sep:ove.posix.sep;ua.sep=Tct;var dd=Symbol("globstar **");ua.GLOBSTAR=dd;var wct="[^/]",Sct=wct+"*?",_ct="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",kct="(?:(?!(?:\\/|^)\\.).)*?",Bct=o((e,t={})=>r=>ua(r,e,t),"filter");ua.filter=Bct;var fd=o((e,t={})=>Object.assign({},e,t),"ext"),Rct=o(e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return ua;let t=ua;return Object.assign(o((n,i,s={})=>t(n,i,fd(e,s)),"m"),{Minimatch:class extends t.Minimatch{static{o(this,"Minimatch")}constructor(i,s={}){super(i,fd(e,s))}static defaults(i){return t.defaults(fd(e,i)).Minimatch}},AST:class extends t.AST{static{o(this,"AST")}constructor(i,s,a={}){super(i,s,fd(e,a))}static fromGlob(i,s={}){return t.AST.fromGlob(i,fd(e,s))}},unescape:o((n,i={})=>t.unescape(n,fd(e,i)),"unescape"),escape:o((n,i={})=>t.escape(n,fd(e,i)),"escape"),filter:o((n,i={})=>t.filter(n,fd(e,i)),"filter"),defaults:o(n=>t.defaults(fd(e,n)),"defaults"),makeRe:o((n,i={})=>t.makeRe(n,fd(e,i)),"makeRe"),braceExpand:o((n,i={})=>t.braceExpand(n,fd(e,i)),"braceExpand"),match:o((n,i,s={})=>t.match(n,i,fd(e,s)),"match"),sep:t.sep,GLOBSTAR:dd})},"defaults");ua.defaults=Rct;var fve=o((e,t={})=>(hw(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,ave.default)(e)),"braceExpand");ua.braceExpand=fve;var Dct=o((e,t={})=>new dI(e,t).makeRe(),"makeRe");ua.makeRe=Dct;var Pct=o((e,t,r={})=>{let n=new dI(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");ua.match=Pct;var sve=/[?*]|[+@!]\(.*?\)|\[|\]/,Fct=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),dI=class{static{o(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,r={}){hw(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||uve,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...s)=>console.error(...s)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(s=>this.slashSplit(s));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((s,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=s[0]===""&&s[1]===""&&(s[2]==="?"||!sve.test(s[2]))&&!sve.test(s[3]),u=/^[a-z]:/i.test(s[0]);if(c)return[...s.slice(0,4),...s.slice(4).map(f=>this.parse(f))];if(u)return[s[0],...s.slice(1).map(f=>this.parse(f))]}return s.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(s=>s.indexOf(!1)===-1),this.isWindows)for(let s=0;s<this.set.length;s++){let a=this.set[s];a[0]===""&&a[1]===""&&this.globParts[s][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let s=n[n.length-1];return i==="**"&&s==="**"?n:i===".."&&s&&s!==".."&&s!=="."&&s!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let s=t[i];i===1&&s===""&&t[0]===""||(s==="."||s==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],c=n[i+2],u=n[i+3];if(l!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(i,1);let f=n.slice(0);f[i]="**",t.push(f),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let s=0;for(;(s=n.indexOf("..",s+1))!==-1;){let a=n[s-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=s===1&&n[s+1]==="**"?["."]:[];n.splice(s-1,2,...c),n.length===0&&n.push(""),s-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(i){t[r]=[],t[n]=i;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,s=0,a=[],l="";for(;i<t.length&&s<r.length;)if(t[i]===r[s])a.push(l==="b"?r[s]:t[i]),i++,s++;else if(n&&t[i]==="**"&&r[s]===t[i+1])a.push(t[i]),i++;else if(n&&r[s]==="**"&&t[i]===r[s+1])a.push(r[s]),s++;else if(t[i]==="*"&&r[s]&&(this.options.dot||!r[s].startsWith("."))&&r[s]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,s++}else if(r[s]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[s]),i++,s++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let x=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),E=!x&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),v=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),b=!v&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),S=E?3:x?0:void 0,B=b?3:v?0:void 0;if(typeof S=="number"&&typeof B=="number"){let[D,F]=[t[S],r[B]];D.toLowerCase()===F.toLowerCase()&&(r[B]=D,B>S?r=r.slice(B):S>B&&(t=t.slice(S)))}}let{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,c=t.length,u=r.length;a<c&&l<u;a++,l++){this.debug("matchOne loop");var f=r[l],m=t[a];if(this.debug(r,f,m),f===!1)return!1;if(f===dd){this.debug("GLOBSTAR",[r,f,m]);var h=a,p=l+1;if(p===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;h<c;){var A=t[h];if(this.debug(`
globstar while`,t,h,r,p,A),this.matchOne(t.slice(h),r.slice(p),n))return this.debug("globstar found match!",h,c,A),!0;if(A==="."||A===".."||!i.dot&&A.charAt(0)==="."){this.debug("dot detected!",t,h,r,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,h,r,p),h===c))}let x;if(typeof f=="string"?(x=m===f,this.debug("string match",f,m,x)):(x=f.test(m),this.debug("pattern match",f,m,x)),!x)return!1}if(a===c&&l===u)return!0;if(a===c)return n;if(l===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return fve(this.pattern,this.options)}parse(t){hw(t);let r=this.options;if(t==="**")return dd;if(t==="")return"";let n,i=null;(n=t.match(Act))?i=r.dot?Cct:yct:(n=t.match(act))?i=(r.nocase?r.dot?fct:uct:r.dot?cct:lct)(n[1]):(n=t.match(xct))?i=(r.nocase?r.dot?bct:Ect:r.dot?vct:Ict)(n):(n=t.match(dct))?i=r.dot?hct:mct:(n=t.match(pct))&&(i=gct);let s=fI.fromGlob(t,this.options).toMMPattern();return i&&typeof s=="object"&&Reflect.defineProperty(s,"test",{value:i}),s}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Sct:r.dot?_ct:kct,i=new Set(r.nocase?["i"]:[]),s=t.map(c=>{let u=c.map(f=>{if(f instanceof RegExp)for(let m of f.flags.split(""))i.add(m);return typeof f=="string"?Fct(f):f===dd?dd:f._src});return u.forEach((f,m)=>{let h=u[m+1],p=u[m-1];f!==dd||p===dd||(p===void 0?h!==void 0&&h!==dd?u[m+1]="(?:\\/|"+n+"\\/)?"+h:u[m]=n:h===void 0?u[m-1]=p+"(?:\\/|"+n+")?":h!==dd&&(u[m-1]=p+"(?:\\/|\\/"+n+"\\/)"+h,u[m+1]=dd))}),u.filter(f=>f!==dd).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];s="^"+a+s+l+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let s=this.set;this.debug(this.pattern,"set",s);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<s.length;l++){let c=s[l],u=i;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return ua.defaults(t).Minimatch}};ua.AST=fI;ua.Minimatch=dI;ua.escape=pee;ua.unescape=G5;var gee="contentExclusion",xQ=class extends fQ{static{o(this,"CopilotContentExclusion")}#e;#t=new xn(1e4);#i=new xn(200);constructor(t){super(),this.#e=t}async evaluate(t,r){try{t=Q3(t).toString();let n=await this.getGitRepo({uri:t}),i=await this.#n(n?.url??E4.all);if(!i)return uQ;let s=n?.baseFolder?.uri??"file://",a=await this.evaluateFilePathRules(t,s,i);if(a.isBlocked)return a;let l=await this.evaluateTextBasedRules(t,i,r);if(l.isBlocked)return l}catch(n){return k1.exception(this.#e,n,`${gee}.evaluate`),Fbe}return dw}async evaluateFilePathRules(t,r,n){let i=t;if(this.#t.has(i))return this.#t.get(i);let s=dw,a,l=VK(t.replace(r,""));e:for(let c of n)for(let u of c.paths)if(ua(l,u,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){s=Aee(c,"FILE_BLOCKED_PATH"),a=u;break e}return k1.debug(this.#e,`Evaluated path-based exclusion rules for <${t}>`,{result:s,baseUri:r,fileName:l,matchingPattern:a}),this.#t.set(i,s),s}async evaluateTextBasedRules(t,r,n){let i=r.filter(l=>l.ifAnyMatch),s=r.filter(l=>l.ifNoneMatch);if(!n||i.length===0&&s.length===0)return dw;let a=await this.evaluateFileContent(i,s,n);return k1.debug(this.#e,`Evaluated text-based exclusion rules for <${t}>`,{result:a}),a}async evaluateFileContent(t,r,n){for(let i of t)if(i.ifAnyMatch&&i.ifAnyMatch.length>0&&i.ifAnyMatch.map(a=>dve(a)).some(a=>a.test(n)))return Aee(i,"FILE_BLOCKED_TEXT_BASED");for(let i of r)if(i.ifNoneMatch&&i.ifNoneMatch.length>0&&!i.ifNoneMatch.map(a=>dve(a)).some(a=>a.test(n)))return Aee(i,"FILE_BLOCKED_TEXT_BASED");return dw}async refresh(){try{let t=[...this.#i.keys()];this.reset(),await Promise.all(t.map(r=>this.#o(r)))}catch(t){Qo(this.#e,t,`${gee}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#n(t){if(this.#r?.length)return this.#r;let r=await this.#o(t.toLowerCase());if(r.length!==0)return r}#r;setTestingRules(t){this.#r=t}#o=Ube(async t=>{let r=await this.#e.get(qr).getGitHubSession();if(!r)throw new Us("No token found");let n=this.#e.get(Dn).getContentRestrictionsUrl(r),i=new URL(n),s=t.includes(E4.all);t.filter(u=>u!==E4.all).length>0&&i.searchParams.set("repos",t.filter(u=>u!==E4.all).join(",")),i.searchParams.set("scope",s?E4.all:E4.repo);let l=await this.#e.get(Nr).fetch(i.href,{method:"GET",headers:{Authorization:`token ${r.token}`}}),c=await l.json();if(!l.ok){if(l.status===404)return Array.from(t,()=>[]);throw this.#s("fetch.error",{message:c.message}),new x3(l)}return this.#s("fetch.success"),Qbe(Mct,c).map(u=>u.rules)},this.#i);async getGitRepo(t){let n=await this.#e.get(B1).getRepo(_u(t));if(!n||!n?.remote)return;let i=n.remote.getUrlForApi();if(i)return{baseFolder:n.baseFolder,url:i}}#s(t,r,n){Gt(this.#e,`${gee}.${t}`,rn.createAndMarkAsIssued(r,n))}};function dve(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}o(dve,"stringToRegex");function Aee(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}o(Aee,"fileBlockedEvaluationResult");var Nct=I.Object({name:I.String(),type:I.String()}),Lct=I.Object({paths:I.Array(I.String()),ifNoneMatch:I.Optional(I.Array(I.String())),ifAnyMatch:I.Optional(I.Array(I.String())),source:Nct}),yee=I.Array(Lct),Qct=I.Object({rules:yee,last_updated_at:I.String(),scope:I.String()}),Mct=I.Array(Qct);var gl=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new xQ(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!this.#e)return;if(!t){this.updateStatusIcon(!1);return}let r=await this.ctx.get(Vr).getTextDocumentValidation(t.document),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(Vr).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),Ya(this.ctx,r=>{this.#e=r.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{o(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(t,r,n){let i=ys(t)!==void 0;if(i||k1.debug(this.ctx,`Unsupported file URI <${t}>`),!this.#e||!i)return{isBlocked:!1};let s=[],a=o(async(u,f)=>{let m=Date.now(),h=await f.evaluate(t,r),p=Date.now();return s.push({key:u,result:h,elapsedMs:p-m}),h},"track"),c=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(u=>u?.isBlocked)??{isBlocked:!1};try{for(let u of s)this.#i(u.key,t,u.result,u.elapsedMs)}catch(u){k1.error(this.ctx,"Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(t,r){this.#e&&(t?this.ctx.get(Mi).setInactive(r??"Copilot is disabled"):this.ctx.get(Mi).clearInactive())}#i(t,r,n,i){let s=r+t;if(this.evaluateResultCache.get(s)===n.reason)return!1;if(this.evaluateResultCache.set(s,n.reason??"UNKNOWN"),n.reason===uQ.reason)return k1.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},c={elapsedMs:i};return Gt(this.ctx,t,rn.createAndMarkAsIssued(l,c)),Gt(this.ctx,t,rn.createAndMarkAsIssued({...l,path:r},c),1),k1.debug(this.ctx,`[${t}] ${r}`,n),!0}setTestingRules(t){this.#t.setTestingRules(t)}set __contentExclusions(t){this.#t=t}get __contentExclusions(){return this.#t}};async function b4(e,t,r){let n=await e.get(gl).evaluate(t.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}o(b4,"isDocumentValid");var Vr=class{constructor(t){this.ctx=t}static{o(this,"TextDocumentManager")}async textDocuments(){let t=this.getOpenTextDocuments(),r=[];for(let n of t)(await b4(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(t){return this.getOpenTextDocument(t)}getOpenTextDocument(t){let r=W0(t.uri);return this.getOpenTextDocuments().find(n=>n.uri==r)}async getTextDocument(t){return this.getOpenTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return b4(this.ctx,t,r)}async getTextDocumentValidation(t){try{let r=this.getOpenTextDocument(t)?.getText()??await this.readTextDocumentFromDisk(t.uri);return r===void 0?this.notFoundResult(t):this.validateTextDocument(t,r)}catch{return this.notFoundResult(t)}}async getOpenTextDocumentWithValidation(t){let r=this.getTextDocumentUnsafe(t);if(!r)return this.notFoundResult(t);let n=await this.validateTextDocument(t,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:t}){return{status:"notfound",message:`Document for URI could not be found: ${t}`}}async readTextDocumentFromDisk(t){try{if((await this.ctx.get(ko).stat(t)).size>5*1024*1024)return}catch{return}return await this.ctx.get(ko).readFileString(t)}getWorkspaceFolder(t){let r=W0(t.uri);return this.getWorkspaceFolders().find(n=>r.startsWith(W0(n.uri)))}getRelativePath(t){if(t.uri.startsWith("untitled:"))return;let r=W0(t.uri);for(let n of this.getWorkspaceFolders()){let i=W0(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(i))return r.slice(i.length)}return Fs(r)}};function ns(e){switch(e.status){case"valid":return e.document.getText().trim().length===0?"empty":"included";case"invalid":return"blocked";case"notfound":return"notfound"}}o(ns,"statusFromTextDocumentResult");var dn=class{constructor(t){this.ctx=t}static{o(this,"FileReader")}getRelativePath(t){return this.ctx.get(Vr).getRelativePath(t)??Fs(t.uri)}getOrReadTextDocument(t){return this.readFile(t.uri)}getOrReadTextDocumentWithFakeClientProperties(t){return this.readFile(t.uri)}async readFile(t){let n=await this.ctx.get(Vr).getOpenTextDocumentWithValidation({uri:t});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(t)>1)return{status:"notfound",message:"File too large"};let s=await this.doReadFile(t),a=await b4(this.ctx,{uri:t},s);return a.status==="valid"?{status:"valid",document:_1.create(t,"UNKNOWN",-1,s)}:a}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(t){return await this.ctx.get(ko).readFileString(t)}async getFileSizeMB(t){return(await this.ctx.get(ko).stat(t)).size/1024/1024}};d();d();var mI=class{constructor(){this.resolve=o(()=>{},"resolve");this.reject=o(()=>{},"reject");this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}static{o(this,"Deferred")}};d();var Cee=class{constructor(){this.observers=new Set}static{o(this,"Subject")}subscribe(t){return this.observers.add(t),()=>this.observers.delete(t)}next(t){for(let r of this.observers)r.next(t)}error(t){for(let r of this.observers)r.error?.(t)}complete(){for(let t of this.observers)t.complete?.()}},EQ=class extends Cee{static{o(this,"ReplaySubject")}subscribe(t){let r=super.subscribe(t);return this._value!==void 0&&t.next(this._value),r}next(t){this._value=t,super.next(t)}};var Om=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new Cr("AsyncCompletionManager");this.requests=new xn(100);this.mostRecentRequestId="";Ya(t,r=>{this.#e=r.hasKnownOrg})}static{o(this,"AsyncCompletionManager")}#e;#t;clear(){this.requests.clear()}isEnabled(t){let r=qn(this.ctx,Pt.UseAsyncCompletions);return this.#e&&typeof r=="boolean"?r:this.ctx.get(or).enableAsyncCompletions(t)}shouldWaitForAsyncCompletions(t,r){for(let[n,i]of this.requests)if(xee(t,r,i))return!0;return!1}updateCompletion(t,r){let n=this.requests.get(t);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(t,r,n,i,s){this.#t.debug(this.ctx,`[${t}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new EQ;return this.requests.set(t,{state:2,cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a}),s.then(l=>{if(this.requests.delete(t),l.type!=="success"){this.#t.debug(this.ctx,`[${t}] Request failed with`,l.reason),a.error(l.reason);return}let c={cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(t,c),a.next(c),a.complete()}).catch(l=>{this.#t.error(this.ctx,`[${t}] Request errored with`,l),this.requests.delete(t),a.error(l)})}getFirstMatchingRequestWithTimeout(t,r,n,i,s){let a=this.ctx.get(or).asyncCompletionsTimeout(s);return a<0?(this.#t.debug(this.ctx,`[${t}] Waiting for completions without timeout`),this.getFirstMatchingRequest(t,r,n,i)):(this.#t.debug(this.ctx,`[${t}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(t,r,n,i),new Promise(l=>setTimeout(()=>l(null),a))]).then(l=>{if(l===null){this.#t.debug(this.ctx,`[${t}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(t,r,n,i){i||(this.mostRecentRequestId=t);let s=!1,a=new mI,l=new Map,c=o(f=>()=>{let m=l.get(f);m!==void 0&&(m(),l.delete(f),!s&&l.size===0&&(s=!0,this.#t.debug(this.ctx,`[${t}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),u=o(f=>{if(xee(r,n,f)){if(f.state===0){let m=r.substring(f.prefix.length),{completionText:h}=f.choice;if(!h.startsWith(m)||h.length<=m.length){c(f.headerRequestId)();return}h=h.substring(m.length),f.choice.telemetryData.measurements.foundOffset=m.length,this.#t.debug(this.ctx,`[${t}] Found completion at offset ${m.length}: ${JSON.stringify(h)}`),a.resolve([{...f.choice,completionText:h},f.allChoicesPromise]),s=!0}}else this.cancelRequest(t,f),c(f.headerRequestId)()},"next");for(let[f,m]of this.requests)xee(r,n,m)?l.set(f,m.subject.subscribe({next:u,error:c(f),complete:c(f)})):this.cancelRequest(t,m);return a.promise.finally(()=>{for(let f of l.values())f()})}cancelRequest(t,r){t===this.mostRecentRequestId&&r.state!==0&&(this.#t.debug(this.ctx,`[${t}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function xee(e,t,r){if(r.prompt.suffix!==t.suffix||!e.startsWith(r.prefix))return!1;let n=e.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}o(xee,"isCandidate");d();d();var Aw=class{constructor(t){this.maxSize=t;this.root=new gw;this.leafNodes=new Set}static{o(this,"LRURadixTrie")}set(t,r){let{node:n,remainingKey:i}=this.findClosestNode(t);if(i.length>0){for(let[a,l]of n.children)if(i.startsWith(a)){let c=a.slice(0,i.length),u=new gw;n.removeChild(a),n.addChild(c,u),u.addChild(a.slice(c.length),l),n=u,i=i.slice(c.length);break}let s=new gw;n.addChild(i,s),n=s}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(t){return this.findClosestNode(t).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(t){let{node:r,remainingKey:n}=this.findClosestNode(t);n.length>0||this.deleteNode(r)}findClosestNode(t){let r=!0,n=this.root,i=[{node:n,remainingKey:t}];for(;t.length>0&&r;){r=!1;for(let[s,a]of n.children)if(t.startsWith(s)){t=t.slice(s.length),i.unshift({node:a,remainingKey:t}),n=a,r=!0;break}}return{node:n,remainingKey:t,stack:i}}deleteNode(t){if(t.value=void 0,this.leafNodes.delete(t),t.parent===void 0||t.childCount>1)return;let{node:r,edge:n}=t.parent;if(t.childCount===1){let[s,a]=Array.from(t.children)[0];t.removeChild(s),r.removeChild(n),r.addChild(n+s,a);return}if(r.removeChild(n),r.parent===void 0)return;let i=r.parent;if(r.value===void 0&&r.childCount===1){let[s,a]=Array.from(r.children)[0],l=i.edge+s;r.removeChild(s),i.node.removeChild(i.edge),i.node.addChild(l,a)}}evictLeastRecentlyUsed(){let t=this.findLeastRecentlyUsed();t&&this.deleteNode(t)}findLeastRecentlyUsed(){let t;for(let r of this.leafNodes)(t===void 0||r.touched<t.touched)&&(t=r);return t}},gw=class{constructor(){this._children=new Map;this._touched=performance.now()}static{o(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(t,r){this._children.set(t,r),r.parent={node:this,edge:t}}removeChild(t){let r=this._children.get(t);r&&(r.parent=void 0),this._children.delete(t)}get value(){return this.touch(),this._value}set value(t){this.touch(),this._value=t}get touched(){return this._touched}touch(){this._touched=performance.now()}};var Hu=class{static{o(this,"CompletionsCache")}constructor(){this._cache=new xn(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}},Um=class{constructor(){this.cache=new Aw(100)}static{o(this,"PrefixCompletionsCache")}findAll(t){return this.cache.findAll(t).flatMap(({remainingKey:r,value:n})=>n.choices.filter(i=>i.completionText.startsWith(r)&&i.completionText.length>r.length).map(i=>({...i,completionText:i.completionText.slice(r.length),telemetryData:i.telemetryData.extendedBy({},{foundOffset:r.length})})))}append(t,r){let n=this.cache.findAll(t);if(n.length>0&&n[0].remainingKey===""){let i=n[0].value.choices;this.cache.set(t,{choices:[...i,...r]})}else this.cache.set(t,{choices:r})}clear(){this.cache=new Aw(100)}};d();d();var Eee={javascript:1,typescript:2,typescriptreact:3,python:4,vue:5,php:6,dart:7,javascriptreact:8,go:9,css:10,cpp:11,html:12,scss:13,markdown:14,csharp:15,java:16,json:17,rust:18,ruby:19,c:20},qc={" ":1,"!":2,'"':3,"#":4,$:5,"%":6,"&":7,"'":8,"(":9,")":10,"*":11,"+":12,",":13,"-":14,".":15,"/":16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,":":27,";":28,"<":29,"=":30,">":31,"?":32,"@":33,A:34,B:35,C:36,D:37,E:38,F:39,G:40,H:41,I:42,J:43,K:44,L:45,M:46,N:47,O:48,P:49,Q:50,R:51,S:52,T:53,U:54,V:55,W:56,X:57,Y:58,Z:59,"[":60,"\\":61,"]":62,"^":63,_:64,"`":65,a:66,b:67,c:68,d:69,e:70,f:71,g:72,h:73,i:74,j:75,k:76,l:77,m:78,n:79,o:80,p:81,q:82,r:83,s:84,t:85,u:86,v:87,w:88,x:89,y:90,z:91,"{":92,"|":93,"}":94,"~":95};d();function mve(e){let t;e[0]>1e-35?e[29]>1e-35?e[138]>1e-35?t=.49496579646815353:t=.47546580490346646:e[30]>1e-35?t=.4456371992737078:e[4]>3.238486181444842?e[135]>1e-35?t=.2645576817782658:e[46]>1e-35?t=.20251922126765812:t=.37359143313367105:e[7]>.9662372103242399?t=.44975631109230374:t=.4067133376207218:e[7]>.960816451500545?e[29]>1e-35?e[4]>1.7005986908310777?t=.4240336839258693:t=.35414085998710754:e[4]>3.238486181444842?t=.353882328354817:e[100]>1e-35?t=.48783079865293355:e[30]>1e-35?t=.419904106522537:t=.38599249795612806:e[4]>3.6242520361853052?e[29]>1e-35?e[7]>.5086748127709895?t=.37522628419389664:t=.3359393805000766:e[30]>1e-35?t=.3685210833144829:e[135]>1e-35?t=.22140958666091123:e[134]>1e-35?t=.38379851487275685:e[46]>1e-35?t=.1926283522107934:t=.3098162447812857:e[46]>1e-35?t=.22698331991181095:e[4]>1.4978661367769956?e[30]>1e-35?e[4]>2.138333059508028?t=.39709448374768985:t=.34711865383837703:e[134]>1e-35?t=.40608455346469957:e[135]>1e-35?t=.3084120164848763:e[48]>1e-35?t=.24193590696691425:e[51]>1e-35?t=.2087938690163009:e[4]>3.1984648276080736?t=.3529508564858481:t=.3698795818909763:t=.30210240039979064;let r;e[0]>1e-35?e[2]>2.4414009612931857?e[2]>3.676220550121792?e[7]>.9246495578512688?r=.0570428673081833:r=.019779482100154476:e[7]>.9705672697050661?r=.1023948532887641:r=.06265430080550045:e[29]>1e-35?e[5]>4.658699722134796?e[2]>1.2424533248940002?r=.12784241430585772:r=.15126156743993927:e[8]>1e-35?e[2]>.8958797346140276?r=.10624230855386699:r=-.1699142543394302:r=.10290106276456985:e[5]>3.5694334999727624?r=.09368877801612557:r=.1552615744687782:e[2]>3.3842466058243152?e[4]>3.5694334999727624?e[29]>1e-35?e[7]>.7022798213723723?r=.02282408308012389:r=-.032610792718175546:r=-.04405498437523181:e[46]>1e-35?r=-.14475563528583885:e[7]>.9159108669154322?r=.02539215399728953:e[134]>1e-35?r=.04720629593220485:e[4]>1.8688348091416842?r=-.00150052748656963:r=-.04528409340753242:e[5]>3.5694334999727624?e[4]>3.6505739029280164?e[29]>1e-35?r=.050909089229765704:e[39]>1e-35?r=-.08747827386821926:e[46]>1e-35?r=-.11300671054986217:r=-.002669293928522137:e[46]>1e-35?r=-.07873653229849684:e[39]>1e-35?r=-.06389470798465265:e[2]>.8958797346140276?e[47]>1e-35?r=-.07102696386827136:e[4]>1.8688348091416842?r=.04567768852273886:r=.016429189359442275:r=.024223384872688037:e[7]>.9569480028661056?r=.12458720561596202:r=-.006224718391409129;let n;e[29]>1e-35?e[2]>2.602003343538398?e[2]>4.166635176627655?e[7]>.8375851232899904?n=.027219239366992384:n=-.023288925509443156:e[7]>.5866799179067689?n=.05780689652787357:n=.019914206435185725:e[2]>1.2424533248940002?e[7]>.9246495578512688?n=.1091540005913688:n=.08430043254349175:e[6]>4.832297822126891?e[125]>1e-35?n=.029350728374412424:n=.1327178977041336:e[8]>1e-35?e[7]>.9793410316570949?n=-.10742256752042179:n=.10128035205992136:n=.08719230025231978:e[5]>3.772694874805912?e[39]>1e-35?n=-.07712063687837625:e[46]>1e-35?n=-.09987046122905541:e[2]>3.6242520361853052?e[134]>1e-35?n=.0549278412468898:e[155]>1e-35?n=.0628934857241284:e[47]>1e-35?n=-.14605662411148382:e[48]>1e-35?n=-.1460221669882455:n=.002073957868392086:e[2]>1e-35?e[47]>1e-35?n=-.0769198367034467:e[155]>1e-35?n=.0769122902449957:e[134]>1e-35?n=.06856131328753592:e[152]>1e-35?n=.07081107422282688:e[51]>1e-35?n=-.11095669360187602:e[91]>1e-35?n=-.08136006552659215:e[48]>1e-35?n=-.07180356044417698:e[18]>1e-35?n=-.029572927306223313:e[50]>1e-35?n=-.11419309779400831:n=.03331652781327257:n=.0015747823792064454:e[7]>.9662372103242399?n=.1203598683210537:n=.011240838199712565;let i;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.03420147928485?i=.03823654007072966:e[7]>.9033253454895247?i=.09329944316059466:i=.06705865009439997:e[134]>1e-35?i=.06865805795066232:e[30]>1e-35?i=.05189058132179502:e[217]>1e-35?i=.044913757044379055:i=-.05078929160105722:e[1]>1e-35?e[6]>5.161920636569023?e[2]>1.4978661367769956?i=.10652732380394028:i=.13307829460294332:e[7]>.985694415330804?i=.06936133858882627:i=.11090193559908544:e[30]>1e-35?i=.10406540623634791:i=.03985408831881549:e[1]>1e-35?e[2]>3.772694874805912?e[29]>1e-35?e[7]>.7316379010844482?i=.012897973304512032:i=-.028068579877067623:i=.024577017676752924:e[5]>3.417592293073651?e[22]>1e-35?i=-.023871063947594612:e[7]>.8255520169851381?i=.0513970804870914:e[153]>1e-35?i=.0032035784177419503:i=.038713568639820416:e[7]>.9527510849235538?i=.10975706910869304:i=-.009433959232316078:e[38]>1e-35?i=.05195298239886214:e[30]>1e-35?i=.02476336300816124:e[2]>2.524928003624769?e[217]>1e-35?i=.0135414448190362:e[135]>1e-35?i=-.14660288310803915:i=-.07298980826531443:e[135]>1e-35?i=-.11136111748165503:e[123]>1e-35?i=-.1489448617480049:e[46]>1e-35?i=-.0922792773195811:i=-.024587716086845016;let s;e[0]>1e-35?e[2]>2.249904835165133?e[1]>1e-35?e[2]>3.540854293052788?e[3]>2.249904835165133?s=.0590142410559562:e[7]>.6376007852429183?s=.043799948513989724:s=-4018626768373957e-20:s=.0790082705503403:e[38]>1e-35?s=.06581244939148062:e[30]>1e-35?s=.04874874335011108:s=-.03908081910821116:e[3]>2.602003343538398?e[1]>1e-35?s=.0902076086329385:e[30]>1e-35?s=.10143876154366023:s=.021304615514737626:e[2]>1.4978661367769956?s=.10248710197602005:e[8]>1e-35?e[125]>1e-35?s=-.1652240484643952:s=.09695355914385996:s=.12574960258243387:e[1]>1e-35?e[2]>3.8815106545092593?e[3]>2.249904835165133?s=.030411053020370282:e[7]>.8375851232899904?s=.01347947217941036:s=-.02329004077119854:e[7]>.9480659774309611?e[22]>1e-35?s=-.021734552060979462:e[100]>1e-35?s=.12154672718218543:e[3]>1e-35?s=.0467045097539336:s=.07133232987671506:e[4]>2.012675845367575?e[4]>3.9219243190762363?s=.018631928508103857:s=.04026129961424531:s=-.0060403819170799225:e[38]>1e-35?s=.04740678443866351:e[30]>1e-35?s=.022411595432555845:e[2]>2.970085626360216?e[121]>1e-35?s=.016385457091892035:s=-.07115043890873148:e[4]>3.417592293073651?s=-.04057726754591634:e[29]>1e-35?s=-.10601923621749415:s=-.013474385705240824;let a;e[3]>1e-35?e[3]>3.481121732133104?e[30]>1e-35?a=.03419190074885174:e[39]>1e-35?a=-.07596248521514803:e[142]>1e-35?a=-.09906305142951233:e[143]>1e-35?a=-.11544208927241095:e[134]>1e-35?a=.03231677158309109:e[217]>1e-35?a=.04584520241402839:a=-.014587374070287719:e[30]>1e-35?e[141]>1e-35?a=-.05022127515891476:e[6]>3.540854293052788?a=.046006786519929344:e[3]>2.3502401828962087?a=.03746852485580482:a=.11887634683908754:e[142]>1e-35?a=-.0715680845257123:e[134]>1e-35?a=.05310603374316432:e[39]>1e-35?a=-.05301061369502469:e[143]>1e-35?a=-.06806923450459589:e[21]>1e-35?a=-.054617004299251364:e[113]>1e-35?e[6]>3.795426061844291?a=.03901365322581413:a=.11833310693969545:e[141]>1e-35?a=-.039041289505442084:e[3]>3.0677824455408698?a=.010823236602311471:e[29]>1e-35?a=-.062100944449970996:e[58]>1e-35?a=-.04585181543113668:e[99]>1e-35?a=.053796582993543764:e[100]>1e-35?e[6]>3.676220550121792?a=.02800134029424525:a=.12622387863644666:e[98]>1e-35?a=.06289940430905602:a=.023655750883710656:e[138]>1e-35?a=.09902929683374195:e[6]>5.161920636569023?a=.07160940969782595:e[141]>1e-35?a=.11975693334861698:a=.03480602671098732;let l;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.600145018061341?l=.02024868069387139:e[2]>3.1984648276080736?l=.048682024362267456:l=.07158946327961134:e[134]>1e-35?l=.05360858064017479:e[30]>1e-35?l=.03969788038954029:e[39]>1e-35?l=-.1339275468398512:l=-.03340699462411555:e[1]>1e-35?e[2]>1.2424533248940002?l=.09338368602561321:e[5]>4.5379471377116305?l=.11818377094705468:l=.02406138301472482:e[30]>1e-35?l=.08786833398626331:l=.031294938606502315:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[2]>4.923617305492666?l=-.0247806554659429:l=.00415615978158072:e[4]>2.138333059508028?e[4]>3.6505739029280164?l=-.0025888569756007704:l=.033556460788819964:l=-.011238496891848667:e[5]>3.5694334999727624?e[4]>2.012675845367575?e[2]>.8958797346140276?l=.03964701920383755:l=.024902380380505313:e[141]>1e-35?l=-.07221122170573789:l=.009221806859728395:e[2]>.8958797346140276?l=.09633850035166669:l=.007323280248710229:e[134]>1e-35?l=.038330704525669945:e[30]>1e-35?l=.01660549386778516:e[2]>2.524928003624769?e[217]>1e-35?l=.008967266036665084:e[29]>1e-35?l=-.12693911437262784:l=-.05779560753585583:e[29]>1e-35?l=-.0908743155940788:e[4]>3.314020688089767?l=-.030882471980034343:l=-.010429019903489632;let c;e[0]>1e-35?e[2]>2.138333059508028?e[1]>1e-35?e[2]>3.4498615536424366?e[3]>2.249904835165133?c=.04956831432894648:e[2]>5.223051249395764?c=-.010305811579773205:c=.027491320728082233:c=.06656735137915168:e[38]>1e-35?c=.05309749470598965:e[30]>1e-35?c=.03843762763805799:c=-.030980078724697425:e[3]>1e-35?e[1]>1e-35?c=.08089335516186445:c=.04120452858949669:e[6]>4.832297822126891?e[2]>.8958797346140276?c=.10006865536846919:c=.11917243570572485:e[8]>1e-35?e[2]>.8958797346140276?c=.06704577104028654:c=-.1454046740476985:e[219]>1e-35?c=-.13678871665753098:c=.07859247859374968:e[1]>1e-35?e[2]>3.314020688089767?e[3]>2.249904835165133?c=.024623237775190106:e[2]>4.73179313355342?c=-.02080435685185878:c=.0026175118278487855:e[6]>3.417592293073651?e[22]>1e-35?c=-.025465692791530083:e[45]>1e-35?c=-.044807460105408044:e[8]>1e-35?c=.008766235663186964:c=.032712521408248645:e[3]>2.602003343538398?c=-.0056332432294706036:e[6]>2.524928003624769?c=.09592889105245415:c=-.013339150198983546:e[38]>1e-35?c=.03563564253379704:e[30]>1e-35?c=.014870517098142924:e[2]>2.970085626360216?c=-.054537994223319376:e[219]>1e-35?c=-.13242819761683536:e[39]>1e-35?c=-.0910629106840573:c=-.01970485337755703;let u;e[0]>1e-35?e[2]>2.012675845367575?e[1]>1e-35?e[2]>3.4498615536424366?e[7]>.9246495578512688?u=.04812308497880073:e[29]>1e-35?u=.0005380021336956461:u=.03361690381564229:e[5]>3.5694334999727624?u=.05947219194425965:u=.11024468105183681:e[134]>1e-35?u=.04905351957215242:e[138]>1e-35?u=.05554447267811877:u=-.021863233324542066:e[29]>1e-35?e[5]>4.855921334140645?e[2]>.8958797346140276?u=.09590438270550732:u=.11498869480105023:u=.04093609484315685:u=.06588820186431316:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[7]>.41763374498947375?u=.0043146758499583255:u=-.03443798345003191:e[58]>1e-35?u=-.08355523706358281:u=.017928058505534663:e[5]>3.5694334999727624?e[22]>1e-35?u=-.02209335592785362:e[2]>.8958797346140276?u=.03223396066919647:u=.0170789547385017:e[7]>.9546729796082215?e[2]>.8958797346140276?u=.09545837551902411:u=.008923660539643153:u=-.012322532316048181:e[134]>1e-35?u=.03182502017906531:e[138]>1e-35?e[29]>1e-35?u=-.06617589040350445:u=.040440282181288686:e[2]>2.802901033147999?u=-.043412758816960974:e[219]>1e-35?u=-.11700143817568372:e[48]>1e-35?u=-.11379636451926181:e[49]>1e-35?u=-.14202838670262277:e[39]>1e-35?u=-.08160450909782378:u=-.013448620144296253;let f;e[1]>1e-35?e[2]>2.602003343538398?e[3]>2.249904835165133?e[4]>3.6505739029280164?f=.004170792297448336:f=.0368033867902024:e[7]>.8333442551332461?e[2]>4.677480030793064?f=.009136341105716223:f=.03568813371096505:e[7]>.22301866079069904?e[2]>5.1209788959100075?f=-.02365589472388456:f=.00919157417627931:f=-.0379399276194825:e[3]>1e-35?e[5]>3.5694334999727624?e[2]>.8958797346140276?e[22]>1e-35?f=-.019258819649469603:f=.03709105125649261:f=.016860660630369267:e[3]>2.602003343538398?f=-.00991261350028801:e[7]>.9626084674797213?f=.11517814309711256:f=-.009719045525281071:e[2]>1.2424533248940002?e[7]>.7316379010844482?f=.07097600019370685:f=.04586465946843457:e[6]>4.783307617946789?f=.09722756919612678:e[8]>1e-35?e[7]>.9793410316570949?f=-.11805054859481241:f=.07110946491407406:f=.05402719662002902:e[134]>1e-35?f=.03393227005537922:e[30]>1e-35?f=.023661319650909306:e[2]>2.970085626360216?e[121]>1e-35?f=.031049210793405797:e[135]>1e-35?f=-.10837216222444626:e[219]>1e-35?f=-.14640457784236915:f=-.03965818070110935:e[121]>1e-35?f=.039992710146502054:e[143]>1e-35?f=-.09311937611688731:e[46]>1e-35?f=-.07559392834101462:e[219]>1e-35?f=-.09895720087616466:e[135]>1e-35?f=-.07586062007425573:f=-.011775153504486295;let m;e[1]>1e-35?e[3]>1e-35?e[141]>1e-35?m=-.03681630636575175:e[22]>1e-35?m=-.024594313135047084:e[7]>.9626084674797213?e[6]>3.676220550121792?m=.03355559026428929:e[3]>2.602003343538398?m=.012516956280523336:m=.1113827943542528:e[3]>2.3502401828962087?e[39]>1e-35?m=-.03483153469277968:e[29]>1e-35?m=-.06012725416594425:m=.03180949281577552:e[3]>1.2424533248940002?m=.007572391854701212:m=-.04833059473573461:e[7]>.5866799179067689?e[138]>1e-35?m=.084956566507563:e[7]>.9407436463973539?e[6]>5.161920636569023?m=.07174368742657447:e[7]>.9793410316570949?m=.024186357466630726:m=.07739671408330714:m=.048429456456843774:e[6]>5.078289090109146?e[138]>1e-35?m=.07555203090037793:m=.033181836695182196:m=-.02197298038836975:e[38]>1e-35?m=.031334580210504996:e[30]>1e-35?m=.021270582199851534:e[121]>1e-35?m=.0329970846397004:e[42]>1e-35?m=.04064092183581017:e[135]>1e-35?m=-.08440485061890712:e[219]>1e-35?m=-.10638369254266776:e[143]>1e-35?m=-.09755269717731242:e[144]>1e-35?m=-.1173397395002877:e[51]>1e-35?m=-.1288517354356988:e[49]>1e-35?m=-.13923283846721088:e[91]>1e-35?m=-.1224188861275682:e[3]>3.156774023138548?m=-.02477169567121223:m=-.006917307470148426;let h;e[2]>2.802901033147999?e[7]>.9159108669154322?e[3]>3.314020688089767?h=-.0010700017432373199:e[2]>4.832297822126891?h=.009582861728698568:h=.029780100164495754:e[30]>1e-35?e[210]>1e-35?h=-.028942339056712313:h=.020599853201598167:e[3]>3.540854293052788?h=-.030156164189210577:e[2]>4.620046665062766?e[3]>1.8688348091416842?h=-.00103151911027294:e[217]>1e-35?h=.005930672148987754:h=-.03586108945255643:h=.004417350848115493:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?e[3]>3.6242520361853052?e[30]>1e-35?h=.02388317653477103:h=-.0034021644637823034:e[125]>1e-35?h=-.059034648546006076:e[18]>1e-35?h=-.02514305472376584:e[46]>1e-35?h=-.05290744310611087:e[21]>1e-35?h=-.03750702516022783:e[39]>1e-35?h=-.031092446888446753:h=.028272541588979773:e[7]>.9676186228082213?e[3]>2.602003343538398?h=-.009169247394016047:h=.11347856526033356:h=-.00310251177264949:e[2]>1e-35?h=.00844340216096322:h=-.00894414829369423:e[2]>1.4978661367769956?e[7]>.6223082132708274?e[6]>3.0677824455408698?h=.04885293193722139:h=.10736598620828455:h=.026545392586289893:e[6]>4.938058177869999?e[2]>.8958797346140276?h=.07355143458077283:h=.09420954595651049:e[8]>1e-35?e[2]>.8958797346140276?h=.07966619891180966:h=-.10471235843714122:h=.04867207725748343;let p;e[1]>1e-35?e[3]>1e-35?e[5]>3.5694334999727624?e[3]>2.249904835165133?e[22]>1e-35?p=-.0262424908256809:e[8]>1e-35?p=.001637419319408071:e[155]>1e-35?p=.053444838794586114:e[99]>1e-35?p=.05039717103923269:p=.02448689278350471:e[141]>1e-35?p=-.05723199469388615:p=.005411562031545046:e[7]>.9626084674797213?e[3]>2.602003343538398?p=.00980665121101267:p=.10420505846679201:p=-.001639851950872336:e[7]>.26911173821332884?e[138]>1e-35?p=.07591724033622518:e[7]>.9275861021112151?e[5]>5.173316863805991?p=.06276466446882598:e[194]>1e-35?p=-.1330802382498368:e[5]>3.156774023138548?e[8]>1e-35?p=-.027034262965141144:p=.03949417085855365:p=.08851962788853085:e[9]>1e-35?p=.05379608621573637:p=.032253635727649325:e[138]>1e-35?p=.058048925881989615:p=.005620237500451222:e[134]>1e-35?p=.02734220426041116:e[30]>1e-35?p=.017746745665275825:e[142]>1e-35?p=-.07814745820732061:e[143]>1e-35?p=-.08860968498533135:e[14]>1e-35?p=.01954819512523945:e[42]>1e-35?p=.03333354798081121:e[147]>1e-35?p=-.11642554317575503:e[49]>1e-35?p=-.12425086420883341:e[146]>1e-35?p=-.12996952774815626:e[3]>3.817651943129708?p=-.03275661606585881:p=-.014860694091417102;let A;e[1]>1e-35?e[2]>2.524928003624769?e[3]>2.249904835165133?e[3]>3.725620842493839?A=-.000906155627647317:e[24]>1e-35?A=.0785324151067157:e[154]>1e-35?A=-.058309500036909157:A=.026762512119806844:e[7]>.26911173821332884?e[2]>4.505334588423558?A=-.010584135839537876:A=.013982545022862853:A=-.03208712711019827:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?A=.026401003398891884:e[3]>2.602003343538398?A=-.008168418058515686:e[7]>.9662372103242399?A=.10626422692131453:A=-.01031637351522216:A=.010358942714602982:e[2]>1.2424533248940002?e[2]>2.012675845367575?A=.0312811686023135:A=.05423507965224627:e[6]>4.832297822126891?A=.08479742987484738:e[8]>1e-35?e[7]>.9793410316570949?A=-.09338070882722671:A=.058145805002919916:A=.04227449937397909:e[38]>1e-35?A=.025289091019879376:e[2]>3.1132683346437333?e[3]>.8958797346140276?e[46]>1e-35?A=-.09114331684757576:e[135]>1e-35?A=-.07948190608487016:e[48]>1e-35?A=-.12911151777601662:e[143]>1e-35?A=-.09735205976374478:A=-.017192402584465798:A=-.08661537827420282:e[217]>1e-35?A=.033425023239885124:e[14]>1e-35?A=.02729990952110066:e[48]>1e-35?A=-.09098188061865646:e[46]>1e-35?A=-.05848458618550134:e[91]>1e-35?A=-.10969774095556883:A=-.0068971807474334365;let x;e[1]>1e-35?e[3]>1e-35?e[3]>1.2424533248940002?e[125]>1e-35?x=-.06150017523108556:e[39]>1e-35?x=-.03350257370473994:e[22]>1e-35?x=-.02193617429266551:e[8]>1e-35?x=7274245146620154e-20:e[6]>3.676220550121792?e[4]>2.3502401828962087?x=.026702786904914785:x=.00851181280021978:e[4]>2.673553765358735?x=.010358811529123666:e[6]>2.802901033147999?x=.08891517935366504:x=.023114323891227237:x=-.02875694375159779:e[4]>1.7005986908310777?e[138]>1e-35?x=.06720372648635974:e[6]>5.427147823217923?e[9]>1e-35?x=.0544777682515472:x=.037060547607205986:e[6]>1e-35?x=.022016394753027843:x=-.1559604133821172:e[6]>3.540854293052788?x=-.009372509268454739:x=-.24388295956457617:e[38]>1e-35?x=.023012278764368795:e[138]>1e-35?x=.03564423186175008:e[30]>1e-35?x=.008093643695090883:e[217]>1e-35?x=.028810461962454004:e[135]>1e-35?x=-.07120877224354143:e[46]>1e-35?x=-.06546454537408128:e[144]>1e-35?x=-.09534262423492412:e[143]>1e-35?x=-.0770344566882831:e[29]>1e-35?x=-.06285371287531509:e[14]>1e-35?x=.02073120300153793:e[123]>1e-35?x=-.09016320513643451:e[51]>1e-35?x=-.10496442920973255:e[3]>3.1132683346437333?x=-.019949599427836494:x=-.0019060085544902166;let E;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.1984648276080736?e[1]>1e-35?e[3]>2.249904835165133?E=.03174009468268253:e[2]>5.363634090365639?E=-.019608371322822362:E=.012560836552403976:E=-.006925466014569184:e[1]>1e-35?E=.047796055675515446:E=.014363935217773802:e[6]>5.391349638084432?e[2]>.8958797346140276?e[3]>1e-35?E=.05193425865217324:E=.07891754708034264:E=.09859506024630252:e[8]>1e-35?e[5]>4.424828703319957?E=.0288226384042998:E=-.09397342098461306:e[4]>.8958797346140276?E=.06181532763949055:e[3]>1e-35?E=.0661728888522049:E=-.18938681666136592:e[2]>3.6242520361853052?e[30]>1e-35?E=.005754128097002715:e[4]>1.7005986908310777?e[1]>1e-35?e[3]>1.8688348091416842?E=.003940381852503271:E=-.01767544594631589:e[134]>1e-35?E=.005683243725945637:E=-.033167818200618454:E=-.049739953036904844:e[1]>1e-35?e[5]>3.417592293073651?e[3]>2.249904835165133?e[3]>4.051747139190486?E=-.013281167238314323:E=.016971087295600894:E=-.0032296953806057044:e[8]>1e-35?e[3]>1e-35?E=-.09772932329003692:E=.10215199291158968:e[3]>1e-35?E=.04042124133857408:e[4]>1.7005986908310777?E=-.03780917296974188:E=-.29617407728303585:e[3]>1.2424533248940002?e[134]>1e-35?E=.019695468056761475:E=-.008073287117671947:E=-.07196945037292647;let v;e[0]>1e-35?e[3]>1e-35?e[30]>1e-35?v=.04565870990720628:e[4]>3.481121732133104?v=-.0010242035152053465:e[46]>1e-35?v=-.06735757101078846:v=.028047085557873476:e[4]>.8958797346140276?v=.061451212522936484:v=-.008994471708946133:e[4]>3.8815106545092593?v=-.015862290359637304:e[4]>1.2424533248940002?e[156]>1e-35?v=-.0353203284829365:e[135]>1e-35?v=-.029955239188290975:e[153]>1e-35?v=-.024262881593313065:e[21]>1e-35?v=-.04039396048201336:e[155]>1e-35?v=.031605649750965394:e[46]>1e-35?v=-.0412690351363074:e[18]>1e-35?v=-.02516534034859168:e[51]>1e-35?v=-.09383050740007202:e[219]>1e-35?e[30]>1e-35?v=.05781620337941066:v=-.031029108058883783:e[54]>1e-35?v=-.1312103962175427:e[14]>1e-35?v=.029309503966067275:e[52]>1e-35?v=-.12376041877584809:e[49]>1e-35?v=-.08405476403385437:e[129]>1e-35?v=-.07017699310303659:e[3]>3.238486181444842?v=.0005864979938663785:e[90]>1e-35?v=-.19027994988708324:e[4]>2.4414009612931857?v=.013036973814688194:e[141]>1e-35?v=-.05866284827055356:e[196]>1e-35?e[3]>1.2424533248940002?e[3]>1.4978661367769956?v=.021738540839636195:v=.10410506831002041:v=-.25590968590756463:v=.0023982515170817725:v=-.04143304307857132;let b;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.417592293073651?e[2]>5.335128436483344?b=-.011443269019739626:e[1]>1e-35?b=.015228192424880932:b=-.005492858431736962:e[1]>1e-35?e[5]>3.5694334999727624?b=.03605247912942737:b=.08439131345296227:b=.009650676995478455:e[5]>5.096808314315481?e[2]>.8958797346140276?e[29]>1e-35?b=.07077360688836766:b=.044754385330663386:b=.09313294724999382:e[8]>1e-35?e[2]>.8958797346140276?b=.04214845406094496:b=-.10283747682230321:e[4]>.8958797346140276?b=.05232959789940822:e[2]>.8958797346140276?b=.00730829946441921:b=-.23825070451282065:e[7]>.9358314658959646?e[5]>3.417592293073651?e[8]>1e-35?b=-.013117301012430346:b=.010418379595902224:e[19]>1e-35?b=-.07514668047310291:b=.05032486941219513:e[29]>1e-35?e[1]>1e-35?e[7]>.14547530463198097?e[4]>2.138333059508028?b=-.009576060406554683:b=-.04582944318062007:b=-.04685159067258116:b=-.07022291581850879:e[1]>1e-35?e[4]>2.3502401828962087?e[4]>3.8815106545092593?b=-.008313873320272646:e[140]>1e-35?b=-.029352675967497712:e[37]>1e-35?b=-.09937923794037767:b=.015967772276156707:b=-.009857373135428817:e[38]>1e-35?b=.011345159604794278:e[2]>2.4414009612931857?e[30]>1e-35?b=.001522017389940959:b=-.026992183902105407:b=-.006358778971076675;let S;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>2.970085626360216?e[7]>.8649016459419877?S=.018617011644318126:e[29]>1e-35?e[2]>4.832297822126891?S=-.03407648259949232:S=-.0036502511604675977:e[4]>3.540854293052788?S=-.00934040898683245:S=.010922739771398862:e[7]>.9676186228082213?S=.05137169375874399:S=.02682190004807807:e[29]>1e-35?e[2]>.8958797346140276?S=.065076078729683:e[8]>1e-35?e[7]>.9750059495478345?e[7]>.996914501566243?S=.08915557171019604:S=-.06286636147644172:S=.0902247220475161:e[4]>.8958797346140276?S=.09051085461905525:e[9]>1e-35?S=-.19701197524821418:S=.005536577088671752:e[30]>1e-35?S=.0682573098268795:S=.031380692115494484:e[2]>4.151008904875603?e[155]>1e-35?S=.026867659395235544:e[7]>.5866799179067689?S=-.008345671861059714:S=-.02185200164340811:e[7]>.9626084674797213?e[22]>1e-35?S=-.024341883095402903:e[141]>1e-35?e[29]>1e-35?S=.08888912525147288:S=-.040584195806350004:S=.014817521849450843:e[4]>1.7005986908310777?e[4]>3.9219243190762363?S=-.01259238316205765:e[156]>1e-35?S=-.03305969547622109:e[50]>1e-35?S=-.10133912689920138:e[155]>1e-35?S=.025358210175047153:e[55]>1e-35?S=-.14645261489281414:e[9]>1e-35?S=.012035823488806215:S=.0010743871783232305:S=-.030440082321355873;let B;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[4]>.8958797346140276?e[138]>1e-35?B=.0708169212387357:e[7]>.9974623466432676?B=.06323909894881967:B=.04463133906529934:B=-.006876640569960593:e[4]>2.138333059508028?B=.02983313061920756:B=-.012849740499321841:e[138]>1e-35?B=.05170725384597862:e[134]>1e-35?B=.03407970940934425:e[32]>1e-35?B=.04641257566344885:e[217]>1e-35?B=.04726549849359106:e[152]>1e-35?B=.04284855498215312:B=-.018635981778740818:e[7]>.9358314658959646?e[1]>1e-35?B=.013495195381145214:B=-.0017562536904350947:e[153]>1e-35?B=-.035450683955968364:e[135]>1e-35?B=-.033677490938511655:e[1]>1e-35?e[156]>1e-35?B=-.03492338371344172:e[4]>2.012675845367575?e[8]>1e-35?B=-.012478407554855247:e[58]>1e-35?B=-.06588308463544146:B=.01024668455910621:B=-.017964352445712636:e[138]>1e-35?B=.023509519134334668:e[134]>1e-35?B=.009985116251562821:e[219]>1e-35?B=-.08089904073615993:e[144]>1e-35?B=-.08668450969211726:e[146]>1e-35?B=-.11193950701534479:e[91]>1e-35?B=-.09510832561737878:e[47]>1e-35?B=-.06671901650698997:e[145]>1e-35?B=-.10185972302071798:e[142]>1e-35?B=-.050979038763275586:B=-.008318124414257324;let D;e[2]>2.4414009612931857?e[7]>.5866799179067689?e[1]>1e-35?e[2]>5.059420419187638?D=-.004966114458456121:e[3]>1.4978661367769956?e[6]>3.9219243190762363?D=.016160825033090097:e[4]>2.673553765358735?D=-.008119911797705546:e[7]>.9676186228082213?D=.10191214482603793:D=.010406721157764452:e[4]>2.602003343538398?D=.011963972867583182:e[209]>1e-35?e[24]>1e-35?D=-.4633165603515741:D=-.027241411195905924:D=-.01021341522779383:e[3]>.8958797346140276?e[39]>1e-35?D=-.07106669495723826:D=-.003949154414882924:D=-.06434150131915288:e[3]>1.7005986908310777?e[1]>1e-35?D=.005050893558647285:D=-.01649483548684653:e[217]>1e-35?D=.0027009145619870485:e[7]>.16413460456379095?D=-.021492035902356262:D=-.04956173856083012:e[3]>1e-35?e[2]>.8958797346140276?e[4]>3.314020688089767?D=.004614615289098078:e[125]>1e-35?D=-.053838919278819175:e[141]>1e-35?D=-.031232660335016666:e[7]>.9676186228082213?D=.031522536832188655:D=.016369948821613637:D=-.001970208279177045:e[2]>1.2424533248940002?e[7]>.8045995506441456?e[6]>3.0677824455408698?D=.035653122678366796:D=.09668798382116887:D=.017192957672541906:e[6]>5.427147823217923?e[2]>.8958797346140276?D=.05167603828162103:D=.07201242912898732:e[4]>.8958797346140276?e[6]>4.3882378946731615?D=.04079789432551034:D=-.00477197753110532:D=-.1330224689055222;let F;e[0]>1e-35?e[1]>1e-35?e[6]>5.519456907163478?e[3]>1e-35?F=.025938224253040522:e[7]>.9480659774309611?F=.06369970668749851:F=.04567224211157202:e[8]>1e-35?F=-.03272937728465352:e[7]>.8002228006195066?e[219]>1e-35?F=-.06304921759586735:F=.04293432033794005:F=.0034607309539607385:e[30]>1e-35?F=.03333728636724803:e[134]>1e-35?F=.03171739664928598:e[32]>1e-35?F=.04247521237473512:e[217]>1e-35?F=.04515237436183519:e[138]>1e-35?F=.043674672816657406:F=-.021495642896979555:e[153]>1e-35?e[7]>.7405695827634472?F=-.005353425538700483:F=-.03818743916821677:e[1]>1e-35?e[156]>1e-35?F=-.026937004040991603:e[9]>1e-35?F=.01687211330975012:e[129]>1e-35?F=-.06344334253531962:e[5]>3.276966702012906?e[3]>2.4414009612931857?e[3]>4.3882378946731615?F=-.029787052855333836:e[140]>1e-35?F=-.0315337765152156:F=.01010125865272709:F=-.003643087951301554:e[3]>1.8688348091416842?F=-.009293469974765106:e[7]>.9407436463973539?e[19]>1e-35?F=-.10837629052758145:F=.08012552652666853:F=-.03240188731353479:e[3]>.8958797346140276?e[138]>1e-35?F=.028089541906112948:e[134]>1e-35?F=.011775653029555359:e[54]>1e-35?F=-.1329256322319015:F=-.010520589644656487:F=-.058476715353390545;let W;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>2.970085626360216?e[3]>1.4978661367769956?e[1]>1e-35?W=.015966021866473425:W=-.004942501766182043:e[7]>.7646034107159144?W=.0008922354520049755:W=-.02377096637770522:e[1]>1e-35?W=.03185471115279236:W=.009030463601278762:e[6]>5.033695261903033?e[2]>.8958797346140276?e[3]>1e-35?W=.03583918176912262:W=.05978765203310842:e[3]>1.4978661367769956?W=.04363706154403441:W=.08596238935719265:e[8]>1e-35?e[4]>3.676220550121792?W=-.14139420543234502:e[6]>4.135134555718313?W=.06641653507737781:W=-.08482961471233386:e[219]>1e-35?W=-.08432601495298837:W=.036383288293587494:e[2]>4.212100162283537?e[4]>4.06899022722607?W=-.027653216441781994:e[4]>1.2424533248940002?W=-.0074990353344818825:W=-.047274115298751654:e[3]>4.350257124271638?W=-.021535524001034215:e[7]>.9626084674797213?e[6]>3.314020688089767?W=.008343192891130257:e[3]>2.602003343538398?W=-.029175290449111352:e[19]>1e-35?W=-.0982821612709299:W=.07967468666491928:e[3]>2.012675845367575?e[1]>1e-35?e[141]>1e-35?W=-.050000478457880464:e[99]>1e-35?W=.03066844761711629:W=.00757148708610041:e[14]>1e-35?W=.030325269400598688:e[138]>1e-35?W=.029925649226634522:W=-.005865781126590595:e[7]>.14547530463198097?W=-.006746433384005582:W=-.03419211369300411;let ee;e[7]>.8453853180651066?e[9]>1e-35?e[204]>1e-35?e[5]>3.979637980058199?ee=.03492440471960614:ee=.10640952227810228:ee=.024674544399570984:e[21]>1e-35?ee=-.03056548710005192:e[24]>1e-35?ee=.04417102228084844:e[18]>1e-35?e[5]>3.417592293073651?ee=-.01915628728670732:ee=.08218968786016527:e[22]>1e-35?ee=-.015022557207326592:e[7]>.9941118339384912?ee=.024199625103362956:e[135]>1e-35?ee=-.01204089678887213:e[5]>3.156774023138548?e[14]>1e-35?ee=.03343354440638259:e[144]>1e-35?ee=-.06832894943893354:ee=.0114980261254499:e[12]>1e-35?e[100]>1e-35?ee=.09915326976032354:ee=-.011405707270850872:ee=.05400113313957842:e[138]>1e-35?ee=.029070115198082648:e[7]>.11348809759407426?e[9]>1e-35?ee=.0124381999772114:e[14]>1e-35?ee=.021548670539672424:e[152]>1e-35?ee=.02386756199239544:e[155]>1e-35?ee=.024879667358339554:e[217]>1e-35?ee=.014495299809094343:e[17]>1e-35?ee=.023665548251738264:e[21]>1e-35?ee=-.04352613176288253:e[142]>1e-35?ee=-.041479100066479035:e[47]>1e-35?ee=-.054730987834988636:e[135]>1e-35?ee=-.02041552814087628:e[12]>1e-35?ee=.00599257601351913:e[19]>1e-35?ee=.017289098956116435:ee=-.005346146967029123:ee=-.015035114021856248;let de;e[2]>2.524928003624769?e[39]>1e-35?de=-.054727205204329936:e[2]>5.1209788959100075?e[3]>1.7005986908310777?de=-.006846267565269392:e[5]>6.826002629905951?de=-.031164989612379426:de=-.002741497453668024:e[91]>1e-35?de=-.09671408062751485:e[4]>1.4978661367769956?e[1]>1e-35?e[3]>2.249904835165133?de=.01457038163563883:e[7]>.1998775237752378?de=.0022386178156093236:de=-.023878153904868322:e[138]>1e-35?de=.02577301491883366:e[134]>1e-35?de=.012196636151923639:de=-.011620066788940737:de=-.02547345266933859:e[3]>1e-35?e[2]>1e-35?e[1]>1e-35?e[125]>1e-35?de=-.054140900037670386:e[5]>3.5694334999727624?de=.011956526123643832:e[3]>2.602003343538398?de=-.02114925328017154:e[7]>.9662372103242399?de=.08782010508103752:de=-.017223208918198857:e[138]>1e-35?de=.03552967765214556:e[134]>1e-35?de=.02029988465200251:de=-.0027071098830831453:de=-.010563423003945922:e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?de=.020789754957971127:e[8]>1e-35?de=.09676607622337308:de=-.13431522143386382:de=-.04328684841078818:e[6]>5.427147823217923?e[2]>.8958797346140276?de=.04286558286931383:de=.0632450248289209:e[4]>.8958797346140276?e[8]>1e-35?e[4]>3.676220550121792?de=-.12134536828900527:de=-.0021406313647826976:de=.02703554321037796:de=-.10987991092748431;let X;e[3]>3.238486181444842?e[30]>1e-35?X=.009506310623811853:e[39]>1e-35?X=-.0390989997202559:e[187]>1e-35?X=-.07249802958837052:e[46]>1e-35?X=-.05080833699879983:e[143]>1e-35?X=-.06014247774751084:e[219]>1e-35?X=-.05179602905357869:e[6]>6.1537953943602615?e[15]>1e-35?X=-.025022238573512268:X=.0011147676050071987:X=-.013840284878987585:e[7]>.9626084674797213?e[5]>3.417592293073651?e[3]>1e-35?e[6]>3.9219243190762363?X=.008593726678003006:X=.05272960047875293:e[5]>4.424828703319957?X=.03164186747443643:X=-.019512539098210834:e[3]>2.602003343538398?X=-.0016290671598964486:e[3]>1.2424533248940002?e[8]>1e-35?X=-.1920669264002081:X=.09024848315677546:e[8]>1e-35?X=.06434775905745808:e[44]>1e-35?X=.11389595321585716:X=-.036695137521575945:e[6]>4.987019604243537?e[141]>1e-35?X=-.03813401544172915:e[138]>1e-35?X=.029859363038130183:e[58]>1e-35?X=-.06135288076045784:e[39]>1e-35?X=-.04609789446034826:e[7]>.14547530463198097?e[11]>1e-35?X=.0007666746170242386:e[129]>1e-35?X=-.04984156530077896:e[18]>1e-35?X=-.01554744241744757:e[10]>1e-35?e[219]>1e-35?X=-.043774129950223145:X=.0062051346459236715:X=.014331149613197688:X=-.004868728135790881:X=-.009310258638274059;let G;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.817651943129708?e[3]>1.8688348091416842?G=.0015603015891380355:G=-.018128739944024166:e[5]>3.5694334999727624?e[6]>5.427147823217923?G=.017445711714402918:G=-.006013735620008879:e[3]>1.2424533248940002?G=.08568755276415789:e[4]>2.602003343538398?G=.03195371214541369:e[6]>2.970085626360216?G=-.3506562612672139:G=-.038898555979475155:e[6]>5.391349638084432?e[2]>.8958797346140276?G=.04755052122467952:e[3]>1.4978661367769956?G=.03861414711908666:G=.08185303441168128:e[8]>1e-35?e[5]>4.424828703319957?G=.016473058697350277:G=-.08025494910794358:e[219]>1e-35?G=-.06606152909975703:G=.033955083083682974:e[153]>1e-35?G=-.022769519242142378:e[155]>1e-35?G=.021917770434351808:e[3]>4.051747139190486?G=-.016298405734735375:e[4]>1.2424533248940002?e[156]>1e-35?G=-.023334559703496013:e[91]>1e-35?G=-.07354920004445119:e[21]>1e-35?G=-.03472005783841508:e[9]>1e-35?G=.0088614848397155:e[152]>1e-35?G=.01650058356046536:e[50]>1e-35?G=-.08689386936995537:e[219]>1e-35?G=-.025293957964644554:e[22]>1e-35?G=-.02911571993589908:e[52]>1e-35?G=-.10060771324188006:e[151]>1e-35?G=-.11187645020980451:e[49]>1e-35?G=-.07269389735370566:G=.00010096962399904588:G=-.0308050484468705;let U;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.1132683346437333?e[2]>5.589117819455554?U=-.01634394676179118:e[135]>1e-35?U=-.025978770194490092:U=.003478202132522329:e[5]>3.772694874805912?e[6]>5.55101783490842?U=.0201238113260563:U=-.003889163967162744:U=.0619995705843029:e[6]>5.391349638084432?e[2]>.8958797346140276?U=.04441301244720888:U=.07580163057048642:e[5]>4.424828703319957?U=.030400021609279876:e[135]>1e-35?e[6]>4.03420147928485?U=-.1614949959350695:U=.011868201115510678:e[144]>1e-35?U=-.24480189212017833:U=.00743113235503554:e[135]>1e-35?U=-.02500550080046047:e[155]>1e-35?U=.019914668189284807:e[14]>1e-35?U=.016272311078771865:e[2]>4.436734027666816?U=-.010942143677155697:e[152]>1e-35?U=.01655515192923104:e[5]>3.276966702012906?e[208]>1e-35?U=.01544696196221499:e[209]>1e-35?U=.011686634595667988:e[204]>1e-35?U=.012948259428096241:e[54]>1e-35?U=-.0987840586310838:e[17]>1e-35?U=.019642065140602974:e[9]>1e-35?U=.002408217148588979:e[129]>1e-35?U=-.051760999013377655:e[53]>1e-35?U=-.12326801905337725:e[156]>1e-35?U=-.027148214121600067:U=-.00591946140033722:e[141]>1e-35?U=.08076229481403298:e[100]>1e-35?U=.09029873540689846:U=.004633440115146894;let ie;e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?e[7]>.9738681190948303?e[4]>2.249904835165133?ie=.0335386338744903:ie=.08871810783567416:ie=.019225035967642936:e[7]>.5866799179067689?e[44]>1e-35?ie=-.028577747938027556:e[22]>1e-35?ie=-.017080349342057245:e[123]>1e-35?ie=-.06459630434555787:ie=.01496396100048332:e[7]>.04507521918085865?ie=.0037545927605624665:ie=-.024364818555823085:e[7]>.3301972011875425?e[4]>.8958797346140276?ie=.003955118988355861:ie=-.024852972286710795:e[210]>1e-35?ie=-.06918033561606161:ie=-.016436360434421187:e[219]>1e-35?ie=-.07074619361594191:e[14]>1e-35?ie=.02288621182895308:e[30]>1e-35?ie=.009951065285890723:e[4]>3.0677824455408698?e[48]>1e-35?ie=-.08645289278185848:e[18]>1e-35?ie=-.07128859518483391:e[46]>1e-35?ie=-.059012415377229614:e[51]>1e-35?ie=-.09897820075751956:e[143]>1e-35?ie=-.0658809793369211:e[39]>1e-35?ie=-.05072244120975425:e[145]>1e-35?ie=-.1041573357946847:e[21]>1e-35?ie=-.07265724033978356:e[121]>1e-35?ie=.032340406020414894:e[150]>1e-35?ie=-.12780465144045577:e[50]>1e-35?ie=-.10084067045905792:ie=-.008282579596590931:e[31]>1e-35?ie=.09475423612489574:e[134]>1e-35?ie=.016436600209473996:ie=-.0032052350949025154;let z;e[0]>1e-35?e[1]>1e-35?e[6]>5.980149988077803?e[3]>1e-35?z=.016868562767356994:e[7]>.9480659774309611?z=.0490126593301439:z=.03183712887814021:e[4]>.8958797346140276?e[8]>1e-35?z=-.018344689935240077:e[7]>.5762123732244849?z=.027823839417468396:z=.0022237549483396734:z=-.049221463486990365:e[30]>1e-35?z=.024881540664409785:e[4]>3.0677824455408698?z=-.012956173562801246:z=.010844244442972509:e[153]>1e-35?z=-.021011529883710918:e[135]>1e-35?z=-.022862755771243214:e[91]>1e-35?z=-.06523564179230792:e[3]>4.3372693810700085?z=-.01836396186345982:e[4]>1.2424533248940002?e[14]>1e-35?z=.018063557788938384:e[1]>1e-35?e[58]>1e-35?z=-.05666864992513037:e[37]>1e-35?z=-.09859173931566362:e[140]>1e-35?z=-.026368697925604742:e[139]>1e-35?z=-.06458698835998881:e[3]>2.4414009612931857?e[8]>1e-35?z=-.012750470980894203:e[128]>1e-35?z=-.06062526587440112:z=.011637315217958607:e[7]>.9569480028661056?e[6]>3.314020688089767?e[6]>8.256477558772088?z=-.01867324944649552:z=.013333709765106694:e[19]>1e-35?z=-.0862336521704207:z=.06263843669460754:z=-.005209374987876728:e[29]>1e-35?z=-.05314556259108334:e[144]>1e-35?z=-.06747511467043471:z=-.0032459743896180644:z=-.025647852465095045;let H;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?H=-.028446025186518367:e[135]>1e-35?H=-.030498458478750823:e[4]>1.4978661367769956?H=.0028332406263713176:H=-.029966327008991617:H=.018714561890725637:e[6]>5.033695261903033?e[2]>.8958797346140276?H=.041738631496127304:H=.0701395739744944:e[7]>.9811887196001154?e[28]>1e-35?e[194]>1e-35?H=-.6270617037879163:H=-.14198370205598315:H=-.008029082191082339:H=.03966126215239892:e[153]>1e-35?H=-.018792731305353614:e[135]>1e-35?H=-.020500053366640306:e[156]>1e-35?e[11]>1e-35?H=-.05063175110475535:H=-.0120172710473678:e[147]>1e-35?H=-.06181360325166399:e[7]>.06275229375044648?e[52]>1e-35?H=-.09381845963236321:e[4]>4.424828703319957?H=-.015836182358134197:e[4]>1.2424533248940002?e[48]>1e-35?H=-.047387335727107405:e[50]>1e-35?H=-.07061356901704502:e[151]>1e-35?H=-.09680213548388712:e[46]>1e-35?H=-.028970851669790916:e[123]>1e-35?H=-.035197840867969954:e[49]>1e-35?H=-.06299268464836878:e[149]>1e-35?H=-.10197175263174806:e[58]>1e-35?H=-.03908263666673043:e[22]>1e-35?H=-.021903737116021876:e[2]>.8958797346140276?H=.005307704388235018:H=-.0020984759645931708:H=-.021935509998616008:H=-.01887705116018838;let M;e[2]>2.4414009612931857?e[2]>4.749261159734808?e[219]>1e-35?M=-.0427111578574511:e[153]>1e-35?M=-.030189831687705213:e[135]>1e-35?M=-.03512251542671204:M=-.005813108237155817:e[39]>1e-35?M=-.03612853474204475:e[91]>1e-35?M=-.07347487395456895:e[142]>1e-35?M=-.04314124434818331:e[21]>1e-35?M=-.03933135423264962:e[29]>1e-35?e[6]>4.3882378946731615?e[1]>1e-35?M=-.0015250307417007892:M=-.0490054084929899:e[209]>1e-35?M=-.19107169934362123:M=-.032434842765588306:e[18]>1e-35?M=-.04413318629193353:e[5]>3.772694874805912?M=.004026864766696988:e[7]>.9705672697050661?e[4]>2.602003343538398?M=-.0184663870129198:M=.08888448773905216:M=-.0040785146358560806:e[29]>1e-35?e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?M=.012676257607559291:e[4]>2.012675845367575?M=.07794141958502514:M=-.23905004122480836:M=-.03904279404529968:e[6]>5.818597045157784?e[1]>1e-35?M=.04439337662833094:M=-.009601154125838422:e[28]>1e-35?e[7]>.9926276364955392?e[156]>1e-35?M=.08495906118788314:e[153]>1e-35?M=.09808912606252018:M=-.41470362752984724:M=.024659633328041372:e[6]>4.3882378946731615?M=.02348696158531392:M=-.011219631635525798:e[2]>.8958797346140276?M=.00764827947682953:M=-.002636723662133651;let j;e[0]>1e-35?e[138]>1e-35?j=.04040206743401164:e[7]>.47159631571429605?e[39]>1e-35?j=-.04204265697956852:e[18]>1e-35?j=-.02345608311313191:e[46]>1e-35?j=-.07250113205332377:e[47]>1e-35?j=-.06901706560471924:e[123]>1e-35?j=-.02471508138476658:e[91]>1e-35?j=-.08527667683257537:e[6]>5.519456907163478?e[7]>.9811887196001154?j=.033642311398086024:j=.019968221974742344:e[6]>3.540854293052788?e[28]>1e-35?e[7]>.9914949911911836?j=-.17171139407761582:j=.033182911468765224:j=.0060896749985828915:e[7]>.9626084674797213?j=.050178751374534494:j=-.008697473314227091:e[6]>5.957131031247307?j=.008840008772752947:j=-.00839587224544437:e[57]>1e-35?j=-.11000065936717814:e[187]>1e-35?j=-.039919217528968265:e[135]>1e-35?j=-.01777859479698383:e[7]>.841541958453746?e[6]>8.681774988134558?j=-.006645633391127337:j=.005363553180866138:e[7]>.06275229375044648?e[141]>1e-35?j=-.028575934798358252:e[147]>1e-35?j=-.06523418671938815:e[53]>1e-35?j=-.12439699935111644:e[47]>1e-35?j=-.04201034294282216:e[21]>1e-35?j=-.029998534764449716:e[11]>1e-35?j=-.008349262144218515:e[10]>1e-35?e[152]>1e-35?j=.03211843381827455:j=-.009616753935387912:j=.001507728277179471:j=-.018453367252451447;let Z;e[2]>2.4414009612931857?e[155]>1e-35?Z=.02097415247337288:e[2]>5.1209788959100075?e[219]>1e-35?Z=-.04107586321461544:e[153]>1e-35?Z=-.030708779452328257:Z=-.008547089256234949:e[24]>1e-35?e[113]>1e-35?Z=.10372474211849725:Z=.010871474495452506:e[46]>1e-35?Z=-.048875079231930615:e[152]>1e-35?Z=.0169028183837229:e[91]>1e-35?Z=-.06545106192484919:e[7]>.5395500104437768?e[21]>1e-35?Z=-.03634133884877529:e[123]>1e-35?Z=-.04524486315275367:Z=.0007726000210664368:e[153]>1e-35?Z=-.026631444280113794:Z=-.005897540198114922:e[29]>1e-35?e[2]>1.2424533248940002?e[141]>1e-35?Z=.06938494238244022:e[1]>1e-35?e[4]>2.602003343538398?e[7]>.21160651352969054?Z=.016731168841731828:Z=-.009280453313693341:Z=-.006549806005743951:Z=-.035447929694275064:e[8]>1e-35?Z=-.0032912467465369953:e[4]>1.2424533248940002?e[1]>1e-35?e[2]>.8958797346140276?Z=.024369266212637037:e[138]>1e-35?Z=.06205121318768558:Z=.03811769435016647:Z=-.009452348851889555:Z=-.025248141993897872:e[2]>1e-35?e[57]>1e-35?Z=-.12191990737301042:e[4]>3.3842466058243152?Z=.00020591213976092076:e[141]>1e-35?Z=-.03252260939244301:e[186]>1e-35?Z=-.13818838492678748:Z=.009368844137034227:Z=-.007973426105216213;let ae;e[2]>2.3502401828962087?e[14]>1e-35?ae=.015015656987761437:e[30]>1e-35?e[210]>1e-35?e[7]>.6876768869498817?ae=.00543900892248828:ae=-.04253496769494065:e[141]>1e-35?ae=-.052958350924390156:e[140]>1e-35?ae=-.10364099832282586:ae=.010452960405207413:e[24]>1e-35?e[113]>1e-35?ae=.09898709072741292:e[209]>1e-35?e[7]>.9821472231924556?ae=-.26615665549082984:ae=.09636256138859388:ae=.01708542025496261:e[217]>1e-35?ae=.008049408683788317:e[21]>1e-35?ae=-.04590265539954756:e[90]>1e-35?ae=-.13784770816769107:e[142]>1e-35?ae=-.04628126597884301:e[47]>1e-35?ae=-.05827975565933709:e[135]>1e-35?ae=-.0223224900840969:e[18]>1e-35?ae=-.03220713396184497:e[91]>1e-35?ae=-.06447405488640102:e[58]>1e-35?ae=-.05284544446869763:e[48]>1e-35?ae=-.06649148594881385:e[123]>1e-35?ae=-.04383701454842744:e[7]>.07815070294696584?e[52]>1e-35?ae=-.11846610284210293:e[50]>1e-35?ae=-.08907531725085399:e[156]>1e-35?ae=-.018270336483319834:e[150]>1e-35?ae=-.1090721461891663:e[151]>1e-35?ae=-.12157322199183473:ae=-.001565820654257863:ae=-.02380240397829804:e[7]>.7957410883753849?ae=.01267070049428537:e[9]>1e-35?ae=.012970301396505988:ae=.0031136826722851885;let ne;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>3.817651943129708?e[29]>1e-35?ne=-.01811927921170173:ne=-.0007182192063435364:e[30]>1e-35?ne=.024303187146750442:e[1]>1e-35?ne=.011106265465270054:e[134]>1e-35?ne=.029835980521591587:ne=-.011058553872914158:e[29]>1e-35?e[4]>.8958797346140276?e[2]>.8958797346140276?ne=.038081831260496:e[7]>.9761943980359399?e[7]>.9974623466432676?ne=.0678338591810893:ne=.02371719224774027:ne=.0682898584583309:ne=-.023148464063014726:e[30]>1e-35?ne=.04610988679672867:ne=.003060113702583105:e[29]>1e-35?e[2]>.8958797346140276?e[4]>2.4414009612931857?e[7]>.9587163092581167?ne=.01081564552001606:ne=-.006807357600587744:ne=-.02409609521595022:ne=-.033329165496176885:e[4]>4.051747139190486?ne=-.01130115168237245:e[129]>1e-35?ne=-.04589370141507604:e[21]>1e-35?ne=-.029442074982620643:e[14]>1e-35?ne=.016895124578179443:e[186]>1e-35?ne=-.11907557430036886:e[1]>1e-35?e[139]>1e-35?ne=-.06194447560538838:e[133]>1e-35?ne=-.0758465323292204:e[58]>1e-35?ne=-.04330766372695393:e[138]>1e-35?ne=-.04155491116231014:e[156]>1e-35?ne=-.04841608169206507:e[44]>1e-35?ne=-.01948221703985556:ne=.006580878599054945:e[217]>1e-35?ne=.022433802380447482:ne=-.00412091757515532;let le;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.970085626360216?e[153]>1e-35?le=-.024502725801264887:e[2]>5.589117819455554?le=-.01230190569981064:le=.0013078979950003464:e[1]>1e-35?le=.016172143068823742:le=.0006345060509537773:e[2]>.8958797346140276?le=.030005982109869073:e[7]>.9811887196001154?e[7]>.9983480540068196?le=.0671951915420627:e[4]>.8958797346140276?e[204]>1e-35?e[4]>2.4414009612931857?le=.044068636573383585:le=-.6634026033584294:e[28]>1e-35?e[194]>1e-35?le=-.3139210817530322:le=-.030502668897116853:le=.02841326513237545:le=-.12080826254458728:le=.05983169094937563:e[25]>1e-35?le=-.03468266531519899:e[17]>1e-35?le=.018557285805987474:e[91]>1e-35?le=-.051420462987159146:e[153]>1e-35?e[24]>1e-35?le=.04301006671297924:e[57]>1e-35?le=-.09748386515224282:e[7]>.43956365248689394?le=-.00756781004151352:le=-.03008603678955382:e[40]>1e-35?le=-.06712212199178254:e[9]>1e-35?e[99]>1e-35?le=.02709638137622776:le=.00311232737924217:e[219]>1e-35?le=-.021650545703290135:e[129]>1e-35?le=-.04139534817677377:e[4]>4.482986592105174?le=-.01666373169408667:e[7]>.14547530463198097?e[28]>1e-35?le=.0203181446326991:e[24]>1e-35?le=.019321702534414745:le=-.0013149142637674523:le=-.010572437649803333;let fe;e[1]>1e-35?e[99]>1e-35?fe=.024922390516579074:e[7]>.6223082132708274?e[5]>8.674624195715621?fe=-.0013697481432616754:e[8]>1e-35?e[5]>3.0201273556387074?e[5]>4.855921334140645?fe=-.0034268395365245545:fe=-.034186463672076346:e[29]>1e-35?fe=.07759914281958613:fe=-.07773573805144608:e[22]>1e-35?fe=-.0175879419801366:e[7]>.9626084674797213?fe=.016773359142537643:fe=.008028381804196754:e[133]>1e-35?fe=-.0535216100744091:fe=-.0005000628423357899:e[38]>1e-35?e[14]>1e-35?fe=.05090247458630403:fe=.007750826606170666:e[30]>1e-35?fe=.007698939719746262:e[121]>1e-35?fe=.02303487268261317:e[56]>1e-35?fe=.04301822779572479:e[219]>1e-35?fe=-.061056125991793546:e[49]>1e-35?fe=-.08519783826666813:e[54]>1e-35?fe=-.11098408863832084:e[51]>1e-35?fe=-.07495147940928196:e[52]>1e-35?fe=-.10268521021357209:e[143]>1e-35?fe=-.050337621945760906:e[50]>1e-35?fe=-.08215637358309871:e[135]>1e-35?fe=-.037923453156281546:e[29]>1e-35?fe=-.03275476659364492:e[118]>1e-35?fe=-.05655325181162936:e[46]>1e-35?fe=-.03579874818682071:e[55]>1e-35?fe=-.10858775815345066:e[98]>1e-35?fe=-.02949179817285505:e[91]>1e-35?fe=-.06114394873657414:fe=-.0024381269826722327;let Re;e[0]>1e-35?e[138]>1e-35?Re=.03188433658945665:e[6]>5.957131031247307?e[29]>1e-35?Re=.02161439640262312:e[46]>1e-35?Re=-.05856082884648366:Re=.00579188508436574:e[5]>3.417592293073651?Re=-.0023781291067078423:e[6]>2.524928003624769?e[29]>1e-35?Re=-.009165058612451055:Re=.06060298049441096:Re=-.024654633200924148:e[29]>1e-35?e[141]>1e-35?Re=.047057536167451744:e[5]>7.751690325550034?Re=-.014630738159823437:e[6]>1e-35?Re=-.0022830386545257364:Re=-.1244934159203967:e[141]>1e-35?Re=-.03108265181870111:e[151]>1e-35?Re=-.0899976208431091:e[53]>1e-35?Re=-.10125439914522794:e[57]>1e-35?Re=-.08285049636367613:e[48]>1e-35?Re=-.04071723813859757:e[147]>1e-35?Re=-.05043191744833317:e[49]>1e-35?Re=-.05480244282058292:e[52]>1e-35?Re=-.07341553831872409:e[91]>1e-35?Re=-.04164336745260387:e[50]>1e-35?Re=-.05943962674275153:e[40]>1e-35?Re=-.054773037913883875:e[129]>1e-35?Re=-.03640370706396673:e[54]>1e-35?Re=-.07483146938849299:e[22]>1e-35?Re=-.02027834075472462:e[186]>1e-35?Re=-.08116240011202293:e[143]>1e-35?Re=-.028437692949603324:e[21]>1e-35?Re=-.02421670339700474:e[46]>1e-35?Re=-.02303808594532841:Re=.0030552215125396933;let Ee;e[0]>1e-35?e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?Ee=.02933727780739186:e[6]>4.722943345003718?e[7]>.9246495578512688?Ee=.024680404379144982:Ee=.012015730636539185:e[113]>1e-35?Ee=.09112392780348796:e[135]>1e-35?e[7]>.990877425524446?Ee=-.11617284449593282:Ee=-.005246041787488675:Ee=-.011069319481086321:e[90]>1e-35?Ee=-.2763006993902732:e[7]>.9546729796082215?e[6]>3.0677824455408698?Ee=.009233858920042097:Ee=.08920751503262825:Ee=-.008824102277148265:e[138]>1e-35?Ee=.02736126919460762:e[4]>2.917405368531303?e[30]>1e-35?Ee=.013112272135200274:e[217]>1e-35?Ee=.035799930603658235:Ee=-.015618218537266096:Ee=.010656981322113845:e[14]>1e-35?Ee=.01147191978691208:e[17]>1e-35?Ee=.016681596753170068:e[135]>1e-35?Ee=-.017396147137824756:e[4]>1.8688348091416842?e[4]>4.03420147928485?Ee=-.008863534867945834:e[31]>1e-35?Ee=.05416038384474034:e[113]>1e-35?Ee=.012656827040897288:e[204]>1e-35?Ee=.011410879858785482:e[208]>1e-35?e[1]>1e-35?Ee=.02085606775425661:Ee=-.008618410086291444:e[53]>1e-35?Ee=-.09674487817291225:e[155]>1e-35?Ee=.010841012663281826:Ee=-.0027234799964982103:e[100]>1e-35?e[6]>4.226807104886684?Ee=-.02684998739505702:Ee=.09196076999373319:Ee=-.014557367931257406;let Oe;e[1]>1e-35?e[4]>2.4414009612931857?e[140]>1e-35?Oe=-.020508725755139606:e[9]>1e-35?Oe=.014160204295049248:e[37]>1e-35?Oe=-.06190233326923697:e[6]>1e-35?Oe=.005164496028342236:Oe=-.11389189550910446:e[141]>1e-35?Oe=-.04125881484049697:e[186]>1e-35?Oe=-.17160163910476212:e[29]>1e-35?e[6]>3.676220550121792?Oe=-.010283419868136159:e[7]>.9626084674797213?Oe=-.1716178372310524:Oe=-.008856137283327148:e[28]>1e-35?Oe=.05315666786902214:e[129]>1e-35?Oe=-.04136913767615559:e[7]>.9705672697050661?e[6]>3.540854293052788?Oe=.00751812285476753:e[8]>1e-35?Oe=-.11960098941111366:Oe=.06631760098044483:e[210]>1e-35?e[30]>1e-35?Oe=-.05338190010412709:Oe=.017275201286894953:e[30]>1e-35?Oe=.014424216946760394:e[99]>1e-35?Oe=.027062693955934525:Oe=-.006762492910108134:e[219]>1e-35?Oe=-.0534489198792768:e[138]>1e-35?Oe=.017328465617667224:e[4]>2.970085626360216?e[144]>1e-35?Oe=-.0662951231725991:e[143]>1e-35?Oe=-.04739088646917139:e[145]>1e-35?Oe=-.07635546796992515:e[14]>1e-35?Oe=.012433708195861912:e[217]>1e-35?Oe=.021046036228368578:e[51]>1e-35?Oe=-.07024391932712475:Oe=-.007585229386863768:e[127]>1e-35?Oe=.0788172427657374:Oe=.0036475442240054556;let Be;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?Be=-.02488671343402725:e[135]>1e-35?Be=-.026342401137212534:e[4]>1.4978661367769956?Be=-.0002120610158998857:Be=-.02619014803287452:e[5]>3.772694874805912?Be=.00791871819482647:Be=.05245006986819034:e[5]>5.431533816254341?e[2]>.8958797346140276?Be=.026755493155023333:Be=.05657996196424821:e[5]>4.424828703319957?e[28]>1e-35?Be=-.12833948112036647:Be=.02009706276124955:e[135]>1e-35?Be=-.1062651205805238:Be=-.014392542658357654:e[156]>1e-35?e[11]>1e-35?Be=-.0426876288098691:Be=-.009210886749467585:e[25]>1e-35?Be=-.029685120249418873:e[153]>1e-35?e[24]>1e-35?Be=.039675921298659045:Be=-.01470247025894634:e[135]>1e-35?Be=-.013162475027411236:e[2]>1e-35?e[22]>1e-35?Be=-.01924589513592333:e[21]>1e-35?Be=-.02301719200164619:e[5]>8.75754777636908?e[4]>2.602003343538398?Be=-.0007468484638490539:Be=-.0158247553028744:e[1]>1e-35?e[99]>1e-35?Be=.024493682002973784:e[42]>1e-35?Be=-.07469088345156226:e[45]>1e-35?Be=-.03838380763638677:e[114]>1e-35?Be=.02409327545276692:e[154]>1e-35?Be=-.038977286951036944:e[208]>1e-35?Be=.021915882358345885:Be=.003839964304606302:Be=-.0014382346596150915:Be=-.008713493537728363;let Je;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.119004124609202?e[3]>1.2424533248940002?Je=-.0017308950709495397:Je=-.020269742816377157:e[5]>3.5694334999727624?e[6]>6.468474521450064?Je=.007854184286630537:Je=-.005163758444496073:e[3]>1.2424533248940002?e[12]>1e-35?Je=-.009039854020477722:Je=.08762320620103459:e[194]>1e-35?Je=-.3433922378591172:e[24]>1e-35?Je=-.2523113760729937:Je=-.000461371156912453:e[5]>5.692045796563381?e[3]>1.4978661367769956?Je=.007177758561499448:e[2]>.8958797346140276?Je=.03195343200682438:Je=.059909349900388334:e[5]>4.424828703319957?e[28]>1e-35?Je=-.10695282804536732:Je=.019125081292682575:e[135]>1e-35?Je=-.09257011968677195:Je=-.012855523323410875:e[14]>1e-35?Je=.010052176448775013:e[152]>1e-35?Je=.011482760058014926:e[156]>1e-35?Je=-.017677609761538152:e[24]>1e-35?Je=.01670301885059328:e[39]>1e-35?Je=-.02425844450882272:e[12]>1e-35?e[3]>1.2424533248940002?e[6]>5.980149988077803?Je=.01117036123239103:e[3]>1.4978661367769956?Je=-.005154239762347923:Je=.06349844063391799:Je=-.011876368966362884:e[4]>3.772694874805912?Je=-.010120762110714197:e[5]>3.276966702012906?e[4]>2.4414009612931857?e[4]>3.1132683346437333?Je=-.0035902728428789336:Je=.003411450739155564:e[5]>8.17933999189099?Je=-.018866709049095685:Je=-.0038747233097564068:Je=.024379138339081993;let at;e[7]>.5866799179067689?e[11]>1e-35?e[217]>1e-35?at=.01816196279626246:at=-.008720340174685528:e[14]>1e-35?at=.017422275374961747:e[3]>2.802901033147999?e[6]>6.0026509725338455?e[18]>1e-35?at=-.035421013136394335:e[219]>1e-35?at=-.03997357699142973:e[3]>4.993822430271426?at=-.03250278247092862:at=.004080430247607075:at=-.010055330454519094:e[5]>9.345963324807864?at=-.008136951493137817:e[90]>1e-35?at=-.16414188828180187:e[45]>1e-35?at=-.0395103723535772:e[17]>1e-35?e[6]>3.314020688089767?at=.03144428117941763:at=-.12305809642153893:e[5]>3.417592293073651?at=.006863569747629234:e[7]>.9626084674797213?e[204]>1e-35?at=.08986402088848823:e[100]>1e-35?at=.09658177526577977:e[141]>1e-35?at=.06795495668113817:e[28]>1e-35?e[3]>1e-35?at=.10311172778826272:at=-.12367638872784459:e[209]>1e-35?at=.06796205879581844:e[6]>3.0677824455408698?e[3]>2.012675845367575?at=-.1815028770626217:at=-.027600842388305583:at=.013979123567456554:at=-.003475039039176338:e[6]>4.3882378946731615?e[3]>3.6242520361853052?at=-.008151073332139989:e[3]>2.4414009612931857?e[48]>1e-35?at=-.05732062477153205:at=.0038104987226822806:e[7]>.14547530463198097?at=-.0015360108147469411:at=-.014797616303672155:e[3]>.8958797346140276?at=-.010446976011382926:at=-.039018423658353285;let Xe;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.620046665062766?e[3]>1.8688348091416842?Xe=-.0031733808376565214:Xe=-.019463570735432378:Xe=.0032566959999593536:e[5]>5.692045796563381?e[3]>1.4978661367769956?Xe=.006472511895453073:e[2]>.8958797346140276?Xe=.029439910335277677:Xe=.05703290277034656:e[219]>1e-35?Xe=-.06489530937321614:e[5]>4.424828703319957?Xe=.017756995160153607:e[125]>1e-35?Xe=-.13863131633711023:Xe=-.011337464460106939:e[29]>1e-35?e[2]>.8958797346140276?e[3]>1e-35?Xe=-.04822012795561216:e[125]>1e-35?Xe=.06083023155995546:e[141]>1e-35?Xe=.04503531231698771:e[5]>7.751690325550034?Xe=-.008826435995092507:Xe=.0004769856196102064:e[5]>5.895778350950796?Xe=-.03439788269853701:Xe=.0012862199645308793:e[141]>1e-35?e[3]>3.0677824455408698?Xe=.0046610227653059695:Xe=-.04504560149384845:e[3]>4.3372693810700085?Xe=-.011924612526365003:e[151]>1e-35?Xe=-.07909878419302184:e[40]>1e-35?Xe=-.04837106565429512:e[52]>1e-35?Xe=-.06478730352567258:e[18]>1e-35?e[46]>1e-35?Xe=.060888920864590634:e[5]>3.5694334999727624?Xe=-.02601024872439008:Xe=.07960150564774994:e[46]>1e-35?Xe=-.027213119561154103:e[51]>1e-35?Xe=-.054081846676903716:e[54]>1e-35?Xe=-.07375359621246233:e[50]>1e-35?Xe=-.0570341640965886:Xe=.0021129818482267812;let st;e[2]>2.861792550976191?e[11]>1e-35?e[58]>1e-35?st=-.09222476830824185:e[156]>1e-35?st=-.044357001480428:st=-.009033627105152873:e[8]>1e-35?e[5]>7.429817490674132?st=-.007435399919321396:st=-.025630334739367253:e[155]>1e-35?st=.02064199664419035:e[5]>8.75754777636908?e[2]>4.119004124609202?st=-.012759040985224594:st=-.0009375109950390992:e[21]>1e-35?st=-.028664595543047417:e[187]>1e-35?st=-.03837361994986333:e[22]>1e-35?st=-.027274995074267547:e[14]>1e-35?st=.016392245342055616:e[17]>1e-35?st=.022509678093313362:e[28]>1e-35?st=.025145343126000193:e[39]>1e-35?st=-.02939647868188604:st=.00042395552644239256:e[29]>1e-35?e[2]>2.012675845367575?st=-.0030925701821976686:e[5]>6.0390628155997765?e[2]>.8958797346140276?st=.010736817315927911:st=.02426980448005241:e[28]>1e-35?e[194]>1e-35?st=-.3070569158934055:e[196]>1e-35?st=-.5506885961570867:st=-.033353293982668515:st=.006553036790621832:e[2]>1.2424533248940002?e[5]>3.5694334999727624?e[155]>1e-35?st=.02102370525016274:st=.003409533559556135:e[204]>1e-35?st=.08873962123163927:e[24]>1e-35?st=.10555359938821945:e[28]>1e-35?st=.09719645392539251:e[196]>1e-35?st=.08224623369607056:st=-.020134405544960793:st=-.0015937623030202052;let oe;e[0]>1e-35?e[2]>1.8688348091416842?e[3]>1.4978661367769956?e[3]>3.540854293052788?oe=-.0076758153562413375:e[18]>1e-35?oe=-.04295196457825341:e[51]>1e-35?oe=-.13248011320062422:oe=.008952360414023641:e[7]>.987306237235768?oe=.006439776900137331:oe=-.012660562195035134:e[3]>2.861792550976191?e[30]>1e-35?oe=.026757175255811883:oe=-.01062556784320532:e[2]>.8958797346140276?oe=.02114926571950188:e[8]>1e-35?e[7]>.9738681190948303?e[7]>.996914501566243?oe=.039844832378913425:oe=-.06690456482695102:oe=.05010759067838343:e[7]>.9901971344332651?e[204]>1e-35?e[7]>.9945060383544003?oe=.03772632631184001:oe=-.28522617893050056:e[28]>1e-35?oe=-.060992612788434375:oe=.03341245674945403:oe=.051288950777861456:e[8]>1e-35?oe=-.010769283931178146:e[29]>1e-35?e[2]>.8958797346140276?e[1]>1e-35?e[7]>.98482287934795?oe=.009069204772381522:oe=-.004081394384581673:oe=-.03594060084257492:e[7]>.9216401592048815?oe=-.00442206228805168:oe=-.03576891499137606:e[55]>1e-35?oe=-.08223884312902127:e[57]>1e-35?oe=-.0742535346669798:e[149]>1e-35?oe=-.07940704728071792:e[39]>1e-35?oe=-.017161105634171125:e[49]>1e-35?oe=-.04763279499691125:e[139]>1e-35?oe=-.027192821855546695:e[10]>1e-35?oe=-.0036316338579956914:oe=.0026484338648234077;let Pe;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>5.527441013321604?Pe=-.012306712525171806:e[7]>.26911173821332884?e[18]>1e-35?Pe=-.027850707388722303:e[91]>1e-35?Pe=-.07216882827488169:e[2]>2.740319461670996?e[3]>1.4978661367769956?Pe=.005596837686865309:Pe=-.0059429747278747225:Pe=.009524033665726878:Pe=-.0077898166249992535:e[6]>5.912149824839399?e[3]>1.4978661367769956?e[30]>1e-35?Pe=.032201880996274065:Pe=-.009587971174292791:e[2]>.8958797346140276?Pe=.02761965407835318:Pe=.05238312639482409:e[7]>.990877425524446?e[28]>1e-35?e[156]>1e-35?Pe=.08220352701195494:Pe=-.16200772313735304:e[135]>1e-35?e[6]>4.310776603370241?Pe=-.03126230621131264:Pe=-.15437767199900418:e[219]>1e-35?e[2]>.8958797346140276?Pe=.018944713961164792:e[3]>1e-35?Pe=.06629929139668997:Pe=-.16790799717043633:e[192]>1e-35?Pe=-.3320398525405097:Pe=.009790162291004705:e[125]>1e-35?Pe=-.0996239956884951:Pe=.017982806591038288:e[25]>1e-35?Pe=-.02642518530716432:e[6]>9.286096980078398?e[3]>2.740319461670996?Pe=-.0027582177390145703:Pe=-.02047492290459601:e[17]>1e-35?Pe=.01622159988588393:e[7]>.5866799179067689?Pe=.0012556670436606133:e[3]>2.3502401828962087?e[3]>3.314020688089767?Pe=-.00567335909535631:Pe=.0036605424249172938:e[7]>.085616240166877?Pe=-.00662352094724046:Pe=-.024196995936398374;let Ae;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.802901033147999?e[3]>1.8688348091416842?e[4]>3.6242520361853052?Ae=-.008283589876968955:Ae=.005263882290960596:e[7]>.9662372103242399?Ae=.0028703212438091555:Ae=-.014488335095453487:e[5]>3.5694334999727624?Ae=.006182444666070272:Ae=.04834325475124454:e[5]>5.821564412917691?e[3]>1.4978661367769956?Ae=.006862035478899274:e[2]>1e-35?Ae=.03694434517261685:Ae=.06818308291563471:e[8]>1e-35?e[4]>3.979637980058199?Ae=-.14792403668068005:e[5]>4.297262267176281?Ae=.04085199387960594:Ae=-.08112459203056922:e[7]>.990877425524446?e[204]>1e-35?e[4]>2.4414009612931857?Ae=.040094872099644886:Ae=-.37432021591644105:e[128]>1e-35?e[17]>1e-35?Ae=.11216772098992614:Ae=-.39517539261887863:Ae=-.006202508512715542:Ae=.031730389306944315:e[8]>1e-35?e[5]>3.156774023138548?Ae=-.011787620507206525:e[3]>1.2424533248940002?Ae=-.0681989521208321:Ae=.06597717957453096:e[2]>1e-35?e[25]>1e-35?Ae=-.024543929344106336:e[5]>8.193814844759492?e[4]>2.602003343538398?e[2]>5.167634984480833?Ae=-.00996811570890536:Ae=.001134417943860963:Ae=-.013004815776467261:e[1]>1e-35?e[22]>1e-35?Ae=-.019057324908699217:e[141]>1e-35?Ae=-.026707851278989517:Ae=.005608056403567553:Ae=-.0017699070677530831:e[3]>1.4978661367769956?Ae=-.005457163739006659:Ae=-.02994467745413277;let We;e[11]>1e-35?e[154]>1e-35?We=-.07640004589975245:e[153]>1e-35?We=-.027921183286970398:e[156]>1e-35?We=-.02508900369371103:e[47]>1e-35?We=-.09621039139423637:e[46]>1e-35?We=-.05890206826599292:We=-.0018521707885188695:e[7]>.1998775237752378?e[39]>1e-35?We=-.02026563108381904:e[91]>1e-35?We=-.03979999802398471:e[14]>1e-35?e[134]>1e-35?We=.044705853812635206:We=.01112016315736189:e[24]>1e-35?e[6]>3.417592293073651?We=.01585670681557334:We=.0820229237073549:e[9]>1e-35?e[204]>1e-35?e[6]>3.9219243190762363?We=.01475544028693712:e[30]>1e-35?We=.10219265831102325:We=-.0567832116465987:e[154]>1e-35?We=-.04682869193620295:We=.0058147572533605784:e[123]>1e-35?We=-.04011640490395746:e[17]>1e-35?e[6]>3.314020688089767?We=.016472642951500794:We=-.10372235311156908:e[19]>1e-35?We=.013619887374131652:e[28]>1e-35?e[6]>3.1984648276080736?e[6]>5.5816130673839615?We=.021404525777064917:We=-.022090537029637168:We=.07927547222505857:e[129]>1e-35?We=-.0315112950229846:e[90]>1e-35?We=-.08016175793969123:e[60]>1e-35?We=-.044255594885932:e[150]>1e-35?We=-.0643645650066138:We=18071436579202054e-21:e[6]>6.132312266239896?We=.00017227075512669227:We=-.010904669702571911;let Y;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[154]>1e-35?Y=-.053460642910797676:Y=.009652079082741289:Y=-.0017676195976280011:e[134]>1e-35?Y=.01746182064829904:e[32]>1e-35?Y=.033149881191962445:e[138]>1e-35?Y=.02149173543949675:e[37]>1e-35?Y=.028519159270523897:e[152]>1e-35?Y=.023352031441951773:e[217]>1e-35?Y=.02290558132732214:Y=-.01850975101703459:e[152]>1e-35?Y=.010488854074509982:e[155]>1e-35?e[12]>1e-35?Y=.027490522294963154:Y=.002575743497494008:e[131]>1e-35?Y=-.07138027268500055:e[57]>1e-35?Y=-.06658662137088783:e[28]>1e-35?Y=.015141080652315508:e[55]>1e-35?Y=-.07156337757427284:e[204]>1e-35?Y=.008085415901726045:e[99]>1e-35?e[1]>1e-35?Y=.01803019280250009:Y=-.012275416064615064:e[113]>1e-35?Y=.007680714218522011:e[102]>1e-35?Y=.01923593781092882:e[38]>1e-35?Y=.00598208846998872:e[112]>1e-35?Y=.00895148693111358:e[217]>1e-35?Y=.004322676779141819:e[114]>1e-35?e[1]>1e-35?Y=.019173900241286065:e[18]>1e-35?Y=-.1302545616586715:Y=-.012219608237225175:e[89]>1e-35?Y=.019080595932083305:e[95]>1e-35?Y=.009182530113836561:Y=-.006531048204768366;let re;e[2]>4.135134555718313?e[47]>1e-35?re=-.06057129526622943:e[5]>6.805168536739806?e[3]>2.4414009612931857?e[1]>1e-35?e[32]>1e-35?re=-.09672976728291365:e[217]>1e-35?re=-.09138286775903748:e[114]>1e-35?re=.034435801312936894:re=.003550781249532139:e[56]>1e-35?re=.06582022232543998:e[144]>1e-35?re=-.08601101006110747:re=-.006766914059699758:e[217]>1e-35?re=.001822103802069182:re=-.013646878234832634:e[8]>1e-35?re=-.02495807137678248:e[1]>1e-35?re=.009517017217557915:re=-.007488737506950444:e[6]>6.1537953943602615?e[140]>1e-35?re=-.013180308369805589:e[51]>1e-35?re=-.0496089337787575:e[15]>1e-35?e[30]>1e-35?re=.017032153502995334:re=-.01330098154550191:e[10]>1e-35?e[56]>1e-35?re=.04713518460375107:re=-.0016223104582873055:e[131]>1e-35?re=-.07291331059881433:e[27]>1e-35?re=-.015619378359486803:re=.006051005570772542:e[3]>3.1132683346437333?e[8]>1e-35?re=-.02945681137428643:re=-.00725026522062693:e[6]>1e-35?e[3]>1.2424533248940002?re=.0035081297381004684:e[194]>1e-35?e[5]>3.772694874805912?re=-.03142097937872678:re=-.17253564001853064:e[5]>3.156774023138548?re=-.004860170522962415:e[12]>1e-35?re=-.04169370739781986:re=.05886396855048806:re=-.10415236736977414;let Ne;e[2]>2.3502401828962087?e[11]>1e-35?e[58]>1e-35?Ne=-.07548370555339029:Ne=-.009060327134219393:e[21]>1e-35?Ne=-.02536204329245056:e[155]>1e-35?Ne=.01626198918750622:e[142]>1e-35?Ne=-.029262265693304763:e[4]>1.8688348091416842?e[48]>1e-35?Ne=-.0522966414357639:e[47]>1e-35?Ne=-.03867213359133592:e[149]>1e-35?Ne=-.10392339919606915:e[135]>1e-35?Ne=-.010541433982611018:e[51]>1e-35?Ne=-.06273170107556418:e[54]>1e-35?Ne=-.08769404750229767:e[18]>1e-35?e[1]>1e-35?Ne=.0022966362330231133:e[31]>1e-35?Ne=.19571528454816625:Ne=-.04919246049942885:e[50]>1e-35?Ne=-.06766114512966344:e[7]>.9793410316570949?Ne=.00837983401462093:Ne=.0007986280224776339:e[186]>1e-35?Ne=-.16446174535054356:e[62]>1e-35?Ne=.06508947502037822:Ne=-.010260699234562241:e[6]>5.486867329823672?e[140]>1e-35?Ne=-.01589822136096899:e[125]>1e-35?Ne=-.025465846683560996:e[190]>1e-35?Ne=-.03671457167643481:e[91]>1e-35?Ne=-.03821691103237143:e[57]>1e-35?Ne=-.07502589184745939:e[50]>1e-35?Ne=-.05395522531288487:Ne=.005241788285288346:e[4]>3.1132683346437333?Ne=-.008741587825172916:e[12]>1e-35?e[100]>1e-35?Ne=.06608964318040904:Ne=-.012827641806975033:Ne=.004744161815471635;let Se;e[4]>.8958797346140276?e[2]>5.4049245766661995?e[5]>6.0051201133541365?Se=-.008352440702113342:Se=.00818161196788124:e[123]>1e-35?Se=-.02387242845183433:e[190]>1e-35?Se=-.03574127589374163:e[152]>1e-35?Se=.01262147105943106:e[11]>1e-35?e[58]>1e-35?Se=-.05955906348417553:Se=-.003717083835106387:e[6]>6.0026509725338455?e[15]>1e-35?e[30]>1e-35?Se=.023589988800048537:Se=-.01290090410411923:e[38]>1e-35?Se=.015295369946508892:e[1]>1e-35?e[4]>2.740319461670996?e[22]>1e-35?Se=-.01614208413608714:e[42]>1e-35?Se=-.05454658382875832:Se=.008894057269932708:e[141]>1e-35?Se=-.029660896741885025:Se=.0007918628584206305:e[12]>1e-35?Se=.010735865892076339:e[218]>1e-35?Se=.06499398466334683:e[29]>1e-35?Se=-.02987220407530282:e[118]>1e-35?Se=-.05994319680494358:Se=-.0022119035344297464:e[113]>1e-35?e[24]>1e-35?Se=.09992180359591052:Se=.003953091072683087:e[204]>1e-35?e[4]>2.249904835165133?Se=.0012737346185997833:e[5]>3.979637980058199?Se=.012350990163327259:e[29]>1e-35?Se=-.4173182186315585:Se=.09483857671510697:Se=-.0034771114722081282:e[19]>1e-35?Se=.04818172610227253:e[158]>1e-35?Se=.09085872490042819:e[123]>1e-35?Se=.046170414156546824:Se=-.030833991141721785;let Ce;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.138333059508028?e[3]>1.4978661367769956?e[3]>4.197173680708697?Ce=-.015067858446918237:e[5]>3.979637980058199?Ce=.0025493966284458503:e[24]>1e-35?Ce=.10170949517680355:e[3]>2.3502401828962087?Ce=-.010182198776560389:e[7]>.9662372103242399?Ce=.0855616171705204:Ce=-.0044290837387121786:e[7]>.992067132663463?Ce=.006950766900495411:Ce=-.011703657118613042:e[3]>3.314020688089767?Ce=-.007590151825214328:Ce=.011931088318037653:e[5]>4.424828703319957?e[3]>1.4978661367769956?Ce=.003895993078605918:e[2]>1e-35?e[5]>5.859359688974663?Ce=.03311360926528595:e[7]>.9936484368123463?e[28]>1e-35?Ce=-.1296383065201116:e[18]>1e-35?Ce=-.2304238024287801:Ce=-.0007035160942990814:Ce=.03872938637191365:Ce=.05931958562003542:e[204]>1e-35?e[7]>.9926276364955392?Ce=-.2503820824196552:Ce=.01514980593659256:e[135]>1e-35?e[7]>.990877425524446?Ce=-.12146435764173391:Ce=.03579230653026111:e[125]>1e-35?Ce=-.11990587076136816:Ce=-.0017264106529335022:e[2]>.8958797346140276?e[3]>4.878999622893762?Ce=-.028006872909888104:e[17]>1e-35?Ce=.015327119563713427:e[14]>1e-35?Ce=.008966123864441086:e[24]>1e-35?Ce=.014884319812071584:Ce=-.0008180929266082377:e[29]>1e-35?e[5]>5.895778350950796?Ce=-.02927173520516398:Ce=.004256706136162408:Ce=-.0030692852485265805;let Ue;e[39]>1e-35?Ue=-.019116728566000912:e[152]>1e-35?Ue=.011159312353677259:e[52]>1e-35?Ue=-.06556505864685434:e[7]>.14547530463198097?e[187]>1e-35?Ue=-.02203060071288757:e[48]>1e-35?Ue=-.03406851575382452:e[10]>1e-35?e[219]>1e-35?Ue=-.026242020752538932:Ue=-.0026163734864036088:e[21]>1e-35?Ue=-.016803181860075653:e[8]>1e-35?e[5]>3.0201273556387074?e[6]>4.722943345003718?e[125]>1e-35?Ue=-.07907862980413462:Ue=-.0024968534057976956:e[141]>1e-35?Ue=.01751368963010255:Ue=-.035334686232177996:e[3]>1e-35?Ue=-.049727650261844114:Ue=.06649006602788514:e[51]>1e-35?Ue=-.047051279496267896:e[58]>1e-35?e[19]>1e-35?Ue=.06794814379814933:Ue=-.033933057704283995:e[6]>8.681774988134558?Ue=-.001906867260604815:e[3]>3.3842466058243152?e[23]>1e-35?Ue=.029126145919054786:e[12]>1e-35?e[59]>1e-35?Ue=.06547842372312768:Ue=.005706402727440608:e[89]>1e-35?Ue=.05238448470974841:Ue=-.003970577798047124:e[141]>1e-35?e[3]>1e-35?Ue=-.02994666941636212:Ue=.029175297065511276:e[139]>1e-35?Ue=-.03926804943552878:e[7]>.9626084674797213?Ue=.010270060885238803:e[6]>4.5379471377116305?Ue=.0051640733904868355:Ue=-.006326617548806485:e[3]>2.3502401828962087?Ue=-.001064039369711557:Ue=-.015232776877478657;let Ve;e[4]>.8958797346140276?e[0]>1e-35?e[3]>3.540854293052788?e[138]>1e-35?Ve=.020620751195117866:Ve=-.007657642824282572:e[9]>1e-35?Ve=.013255738783000171:e[123]>1e-35?Ve=-.04553588467808997:e[14]>1e-35?Ve=.020257942633657516:e[17]>1e-35?Ve=.02379466680602821:e[7]>.26911173821332884?Ve=.004563013176326579:Ve=-.006044878247080096:e[208]>1e-35?e[1]>1e-35?Ve=.016583051243963785:Ve=-.005473696128326885:e[53]>1e-35?Ve=-.07392011100318682:e[3]>4.840234496705036?Ve=-.022277334024938686:e[49]>1e-35?Ve=-.04140311782670083:e[40]>1e-35?Ve=-.041278341040658334:e[156]>1e-35?Ve=-.01087788432462589:e[8]>1e-35?e[141]>1e-35?Ve=.032404890147508435:Ve=-.008762958389316138:e[153]>1e-35?e[18]>1e-35?Ve=.03064796696780178:e[19]>1e-35?Ve=.025912082684934896:e[7]>.9033253454895247?Ve=.00010665286308939541:Ve=-.019390651252802232:e[133]>1e-35?Ve=-.013215417920201165:e[35]>1e-35?Ve=-.07409193965805899:e[16]>1e-35?Ve=.010595288788401727:Ve=.0004445963442680354:e[19]>1e-35?Ve=.043800560164078434:e[62]>1e-35?Ve=.08440762960688118:e[123]>1e-35?Ve=.04196062757398021:e[44]>1e-35?e[7]>.9880960409521241?Ve=-.14025705728324367:Ve=.07605327900446729:Ve=-.030453882536033008;let et;e[14]>1e-35?e[134]>1e-35?et=.03807815059641535:et=.007895137847547357:e[39]>1e-35?et=-.019172673927560828:e[138]>1e-35?et=.009207480510332959:e[152]>1e-35?e[10]>1e-35?et=.029310247627617716:et=.006422126177312616:e[3]>3.5114340430413216?e[155]>1e-35?et=.02869511059037871:e[137]>1e-35?et=.048763707543632046:e[218]>1e-35?et=.0393143924208134:et=-.0065205942363783:e[4]>2.4414009612931857?e[113]>1e-35?et=.016047178137914484:e[35]>1e-35?et=-.09486179869071369:e[118]>1e-35?et=-.032706818831570415:e[0]>1e-35?et=.004733859562945298:et=-4345884264792552e-20:e[29]>1e-35?e[204]>1e-35?e[4]>2.3502401828962087?et=-.23804773582311067:et=.0015066742334155967:e[194]>1e-35?e[4]>1.7005986908310777?et=-.013296404682101122:et=-.14340192620927933:e[196]>1e-35?et=-.17446678790111786:et=-.01140535620661492:e[141]>1e-35?et=-.03362328403627273:e[99]>1e-35?et=.02082592497315901:e[196]>1e-35?et=.02125156827172031:e[204]>1e-35?et=.018738441981476887:e[194]>1e-35?et=.022230335367621302:e[114]>1e-35?et=.017460982004618885:e[210]>1e-35?e[11]>1e-35?et=-.07421933796695453:et=-.02600449772874995:e[62]>1e-35?et=.0435295764572802:et=-.0036358741919687645;let yt;e[2]>4.749261159734808?e[5]>6.826002629905951?e[29]>1e-35?yt=-.012866931871530748:e[47]>1e-35?yt=-.06511122680099479:yt=-.0033152297369715466:e[1]>1e-35?yt=.00634942519508748:yt=-.008516826211528918:e[6]>6.1537953943602615?e[11]>1e-35?e[121]>1e-35?e[1]>1e-35?yt=-.06214080664476329:yt=.037029947625630194:e[47]>1e-35?yt=-.08203414630098728:yt=-.0044122376347199765:e[15]>1e-35?e[30]>1e-35?yt=.012452689013210465:yt=-.011970977023212193:e[10]>1e-35?e[152]>1e-35?yt=.02888624440861723:yt=-.0026872248277927456:e[27]>1e-35?yt=-.01471521834054285:e[21]>1e-35?yt=-.014970363019863132:e[13]>1e-35?yt=-.0057151868439017945:e[38]>1e-35?yt=.01633003881478886:yt=.005850603591179588:e[113]>1e-35?e[5]>3.979637980058199?yt=.006600693642185256:e[6]>3.1984648276080736?yt=.07576534772024612:yt=-.013028252220942527:e[204]>1e-35?e[9]>1e-35?e[6]>3.9219243190762363?yt=.01266221511189265:e[29]>1e-35?yt=-.20167612409830682:yt=.09361829582187109:yt=.0016303497789744046:e[6]>4.310776603370241?yt=-.0015960016142716584:e[141]>1e-35?e[2]>2.249904835165133?e[6]>2.970085626360216?yt=-.05054316446311788:yt=.06528096075929847:e[29]>1e-35?yt=.07763431964140277:yt=-.017239135292908336:yt=-.011068823413100247;let Rt;e[91]>1e-35?Rt=-.03524202222673902:e[55]>1e-35?Rt=-.07505808762820981:e[47]>1e-35?Rt=-.026314216162986376:e[49]>1e-35?Rt=-.045488810456426665:e[54]>1e-35?Rt=-.06424779605129435:e[0]>1e-35?e[39]>1e-35?Rt=-.03267263134559766:e[46]>1e-35?Rt=-.049285436356671077:e[51]>1e-35?Rt=-.09277060040547602:e[4]>.8958797346140276?e[123]>1e-35?Rt=-.027164727231258436:e[7]>.4232249052377311?e[14]>1e-35?Rt=.021561483416797714:e[9]>1e-35?e[58]>1e-35?Rt=-.08387877475105178:Rt=.014404401501386124:Rt=.004694473365260974:Rt=-.0001897538693116325:Rt=-.017140588284242805:e[5]>9.119594757170685?e[3]>2.740319461670996?Rt=-.0007153953072197825:Rt=-.010378474356201449:e[8]>1e-35?e[5]>3.276966702012906?e[125]>1e-35?Rt=-.06966241558514917:e[4]>4.82429765145367?Rt=-.05703428861212874:Rt=-.007549683006633188:e[3]>1.2424533248940002?Rt=-.05340556429257431:Rt=.0524214727387076:e[22]>1e-35?Rt=-.012756524179901607:e[186]>1e-35?Rt=-.06578146880564559:e[208]>1e-35?Rt=.011189277267677045:e[11]>1e-35?e[58]>1e-35?Rt=-.05051984734793551:e[3]>1.2424533248940002?Rt=-.0002576217567062796:e[134]>1e-35?Rt=-.07452351335236179:Rt=-.010366062496356129:e[94]>1e-35?Rt=-.04206673603732986:Rt=.0017654268359667174;let At;e[2]>2.3502401828962087?e[28]>1e-35?At=.018743416209068924:e[142]>1e-35?At=-.027628078748284907:e[4]>1.7005986908310777?e[123]>1e-35?At=-.039485087567133176:e[48]>1e-35?At=-.04707407726639779:e[49]>1e-35?At=-.0644727439161007:e[47]>1e-35?At=-.03586301268310228:e[52]>1e-35?At=-.08213761833929575:e[60]>1e-35?At=-.036939376764301805:e[22]>1e-35?At=-.02264827779335228:e[153]>1e-35?e[24]>1e-35?At=.03651632275248908:At=-.010403215174169965:e[18]>1e-35?e[31]>1e-35?At=.17011943799802248:At=-.024083374989820074:e[147]>1e-35?At=-.05792387046048145:e[39]>1e-35?At=-.019000152117179:e[54]>1e-35?At=-.09256681585621543:e[50]>1e-35?At=-.06535283940797192:e[187]>1e-35?At=-.023020538580498528:e[149]>1e-35?At=-.09670391878996044:e[8]>1e-35?e[6]>5.865049616265698?At=.0007122257672540384:At=-.024203929126070334:e[55]>1e-35?At=-.10687519344783902:e[21]>1e-35?At=-.019836359134795922:At=.0028141634686288143:e[153]>1e-35?At=-.044827592367532504:At=-.009894012855110334:e[140]>1e-35?e[18]>1e-35?At=.060584003745668275:At=-.015006980258423744:e[6]>5.161920636569023?e[125]>1e-35?At=-.021624709427283298:At=.0035264081894521636:At=-.0030260520850755417;let Vt;e[57]>1e-35?Vt=-.06665941268716478:e[2]>5.4049245766661995?Vt=-.0048763725607228565:e[17]>1e-35?Vt=.012937023835595996:e[91]>1e-35?Vt=-.032642493399923284:e[40]>1e-35?Vt=-.04355571234278559:e[14]>1e-35?e[217]>1e-35?Vt=-.030555708374197955:Vt=.010895997063478696:e[1]>1e-35?e[99]>1e-35?Vt=.016029829045206837:e[114]>1e-35?Vt=.017475123428921584:e[139]>1e-35?Vt=-.042037981483985604:e[210]>1e-35?e[29]>1e-35?Vt=.015395913258454092:Vt=-.024779051599098958:e[90]>1e-35?Vt=-.09436512907953146:e[25]>1e-35?Vt=-.0385103760507401:e[113]>1e-35?Vt=.014955995782471:e[208]>1e-35?Vt=.01363101947809469:Vt=.0004708078358576994:e[29]>1e-35?Vt=-.02567148566035587:e[217]>1e-35?Vt=.017896286118860596:e[118]>1e-35?Vt=-.04366196842115269:e[144]>1e-35?Vt=-.04332564222613586:e[54]>1e-35?Vt=-.08095356842154083:e[31]>1e-35?e[15]>1e-35?Vt=-.12797365603832508:Vt=.05407709367007049:e[56]>1e-35?Vt=.030874690971051524:e[148]>1e-35?Vt=-.06664437092250396:e[50]>1e-35?Vt=-.05710031053092695:e[114]>1e-35?e[18]>1e-35?Vt=-.12348764088627251:Vt=-.014081947133593207:e[147]>1e-35?Vt=-.044629298717173554:Vt=-.000742893245658901;let $t;e[138]>1e-35?$t=.008266725465725232:e[1]>1e-35?e[37]>1e-35?$t=-.06288072801700428:e[114]>1e-35?$t=.01701875404216428:e[128]>1e-35?$t=-.022207708344996902:e[113]>1e-35?e[24]>1e-35?$t=.08078133512323216:$t=.010126216487392538:e[11]>1e-35?e[58]>1e-35?$t=-.0542116306120395:$t=-.004962440421854299:e[155]>1e-35?e[30]>1e-35?$t=.02107443326718807:$t=-.01069225359959257:$t=.0009105709984003484:e[218]>1e-35?$t=.05160355321154702:e[134]>1e-35?$t=.006114948378400552:e[121]>1e-35?$t=.016106484014031797:e[89]>1e-35?$t=.01912348851711998:e[56]>1e-35?$t=.029777849606436514:e[157]>1e-35?$t=.04060172642469715:e[31]>1e-35?$t=.040190765597096945:e[115]>1e-35?$t=.038285461163007885:e[144]>1e-35?$t=-.04397941351839926:e[53]>1e-35?$t=-.09153555712989248:e[34]>1e-35?$t=.05063635650139542:e[145]>1e-35?$t=-.05531793235403996:e[18]>1e-35?e[142]>1e-35?$t=.050915836711889595:$t=-.038668153033606156:e[142]>1e-35?$t=-.03161888799270195:e[21]>1e-35?$t=-.039152400008548416:e[147]>1e-35?$t=-.06369054146375448:e[146]>1e-35?$t=-.06687062048733548:e[143]>1e-35?$t=-.0374398909044375:$t=-.004075281311375503;let nr;e[19]>1e-35?nr=.011138060439416179:e[7]>.054053454943712505?e[17]>1e-35?e[30]>1e-35?nr=.031458353209402545:nr=.006712963530887799:e[135]>1e-35?nr=-.008268741342836259:e[60]>1e-35?nr=-.026373116795568554:e[7]>.8375851232899904?e[3]>2.602003343538398?e[6]>4.832297822126891?nr=.001164103411669833:e[8]>1e-35?nr=-.04419920795209664:nr=-.007580602414427876:e[6]>3.417592293073651?e[6]>8.80963889693121?nr=-.00653283113371423:e[8]>1e-35?e[125]>1e-35?nr=-.10156793652811894:nr=-.004200534838133274:e[18]>1e-35?nr=-.01192673279840267:nr=.007421951916920296:e[7]>.9626084674797213?e[29]>1e-35?e[6]>2.970085626360216?nr=-.0032059430383565256:nr=.05159315082197918:e[8]>1e-35?nr=-.0890031715943104:e[22]>1e-35?nr=-.16814104441488775:e[12]>1e-35?e[100]>1e-35?nr=.1021284677424052:nr=-.13655977142603173:nr=.09393254504800182:nr=-.0008030674521708154:e[153]>1e-35?e[18]>1e-35?nr=.028570793527563892:nr=-.01146507406243734:e[125]>1e-35?e[3]>1e-35?nr=-.04344386283066575:nr=.049543778722220704:e[47]>1e-35?nr=-.025602694767462936:nr=41633336342102227e-21:e[3]>2.3502401828962087?e[3]>3.3497501700808394?nr=-.018924000087166926:nr=.005374758944061522:e[14]>1e-35?nr=.02825013192303339:nr=-.028367959366723622;let ge;e[190]>1e-35?ge=-.033259392758942484:e[4]>2.4414009612931857?e[123]>1e-35?ge=-.030965448877928344:e[150]>1e-35?ge=-.05353588365501967:e[53]>1e-35?ge=-.07322459471644706:e[0]>1e-35?e[6]>6.9012339353508745?ge=.007566110700214329:e[4]>3.0677824455408698?e[7]>.5242163672259389?e[8]>1e-35?e[6]>4.722943345003718?ge=-.00508197369229565:e[4]>3.5694334999727624?ge=-.09566908841488272:ge=-.009799018561370653:e[29]>1e-35?ge=.01134634874419129:ge=-.008480456528154491:ge=-.010775036248093376:ge=.006611525544742429:e[23]>1e-35?ge=.01761735039511882:e[19]>1e-35?ge=.01278442042249664:ge=-.0002242132003162585:e[186]>1e-35?ge=-.1282956565830828:e[99]>1e-35?ge=.018493666625505303:e[141]>1e-35?ge=-.026024552608676074:e[29]>1e-35?e[5]>3.5694334999727624?e[217]>1e-35?ge=.010089877008871859:e[7]>.9569480028661056?ge=-.0021891593882122327:ge=-.019455050281455402:e[7]>.960816451500545?ge=-.13777176433158442:ge=.02722608122697913:e[28]>1e-35?e[194]>1e-35?ge=.09549833737461155:ge=.012447932823540411:e[129]>1e-35?e[26]>1e-35?ge=.147381625399948:ge=-.03418523266130075:e[7]>.26911173821332884?ge=.0014660191124088442:e[217]>1e-35?ge=-.08282397562490618:e[210]>1e-35?ge=-.0386848317545183:ge=-.001892646396528824;let Le;e[57]>1e-35?Le=-.059790543460520464:e[55]>1e-35?Le=-.06524069243313577:e[3]>4.283562780082224?e[37]>1e-35?Le=-.054605342954169904:Le=-.006343751747681404:e[17]>1e-35?Le=.011961708215735271:e[40]>1e-35?Le=-.04296088601962452:e[6]>1e-35?e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?Le=-.026498922218692673:Le=.10501477027016158:e[6]>4.03420147928485?Le=.012792216148037112:e[7]>.9830997303909479?Le=-.2271005546552327:Le=-.008348690537914538:e[9]>1e-35?e[153]>1e-35?e[7]>.20588252599634785?Le=-.004842123367456505:Le=-.03575275485660392:e[99]>1e-35?e[1]>1e-35?Le=.032397176999597294:Le=-.0033271937210452387:e[204]>1e-35?Le=.02154799118278769:Le=.0034498877728340095:e[28]>1e-35?e[6]>3.0677824455408698?e[6]>5.5816130673839615?Le=.01602715871650751:e[7]>.9901971344332651?e[194]>1e-35?Le=-.21161676626091178:e[127]>1e-35?Le=-.4024450297968636:Le=-.030976570087232314:Le=.0031980605341801454:Le=.07943810970798848:e[135]>1e-35?Le=-.00869354055420051:e[123]>1e-35?Le=-.022241787113206086:e[62]>1e-35?Le=.037165483434744594:e[7]>.04507521918085865?e[21]>1e-35?Le=-.013433718654288605:e[155]>1e-35?Le=.00919342834132915:Le=-.0002729025327531227:Le=-.012537468897218136:Le=-.07894994665155514;let Ke;e[4]>.8958797346140276?e[14]>1e-35?Ke=.007800140351631253:e[138]>1e-35?Ke=.007294945388686309:e[1]>1e-35?e[32]>1e-35?e[28]>1e-35?Ke=.09462192942805535:Ke=-.06376046128949985:e[37]>1e-35?Ke=-.06442220885770956:e[140]>1e-35?e[30]>1e-35?Ke=-.09261012186873348:Ke=-.015294712278584928:e[98]>1e-35?Ke=.019329173498247088:e[58]>1e-35?Ke=-.026405515460271967:e[5]>8.608586615680721?e[4]>2.602003343538398?Ke=6125118307170923e-20:Ke=-.009497787119169794:e[40]>1e-35?Ke=-.05491317248554455:e[7]>.30853255358841714?Ke=.003951848833690266:Ke=-.0021827028977256715:e[219]>1e-35?Ke=-.03918852409108207:e[98]>1e-35?Ke=-.025490621458423603:e[218]>1e-35?Ke=.04685239586600909:e[4]>2.970085626360216?e[152]>1e-35?Ke=.019288400231624092:e[132]>1e-35?Ke=.04845025214421127:e[157]>1e-35?Ke=.03681235344369351:e[18]>1e-35?Ke=-.034132162265456074:e[48]>1e-35?Ke=-.04861483835690636:e[142]>1e-35?Ke=-.031057400959951156:e[148]>1e-35?Ke=-.06903688486009983:Ke=-.004426858558248682:e[31]>1e-35?Ke=.06983425899920179:Ke=.002335587968443938:e[19]>1e-35?Ke=.04178364096434334:e[123]>1e-35?Ke=.03954255208630935:e[62]>1e-35?Ke=.07169067239737285:Ke=-.022094630155173406;let rt;e[190]>1e-35?rt=-.029705030481716018:e[2]>2.4414009612931857?e[125]>1e-35?e[3]>1e-35?rt=-.052080713549693486:rt=.015237248725743169:e[49]>1e-35?rt=-.05738028956460733:e[28]>1e-35?rt=.015629889576502864:e[14]>1e-35?rt=.007178838639724632:e[217]>1e-35?rt=.006873744757442591:e[3]>.8958797346140276?rt=-.0009297977761919447:e[4]>2.740319461670996?rt=-.0032588616048005344:e[209]>1e-35?rt=-.09352716353634213:rt=-.015820890219545396:e[0]>1e-35?e[2]>.8958797346140276?e[30]>1e-35?rt=.019248760742983276:e[3]>2.861792550976191?e[6]>8.372051799062541?rt=.011687619771455333:rt=-.014380012538782239:rt=.007119108038702808:e[5]>4.424828703319957?e[3]>2.249904835165133?rt=-.004571416888569663:e[4]>.8958797346140276?e[2]>1e-35?rt=.03291298609827498:rt=.056149641245301286:e[6]>5.66469358412419?rt=.03259771207074825:rt=-.09357704176112766:e[135]>1e-35?e[4]>3.1132683346437333?e[4]>3.276966702012906?rt=-.061655392996083594:rt=-.32745698278768204:rt=.05791789791717941:rt=-.018505458368810124:e[2]>1.2424533248940002?rt=.0026761409362875913:e[3]>1e-35?e[30]>1e-35?e[210]>1e-35?rt=-.039544237504098204:rt=-.00840469876565937:e[138]>1e-35?rt=-.03964217397514852:rt=-4311139741723525e-22:e[5]>6.136645972583987?rt=-.022772355719852342:rt=.00817231129409795;let St;e[91]>1e-35?St=-.028069212077752072:e[2]>5.1209788959100075?e[25]>1e-35?e[4]>3.314020688089767?St=-.07374751231467579:St=-.012603466600012023:St=-.003323309316995181:e[0]>1e-35?e[2]>1.2424533248940002?e[11]>1e-35?St=-.008138434386494645:e[2]>1.8688348091416842?e[18]>1e-35?St=-.021752576521312197:e[142]>1e-35?St=-.03703704004008216:e[21]>1e-35?St=-.031901873695323615:St=.0007949433315561949:e[156]>1e-35?St=.04622194605125366:St=.007164185384903575:e[156]>1e-35?St=.05649230717257425:e[192]>1e-35?St=-.14560972428612223:e[144]>1e-35?St=-.0847860756426489:e[4]>.8958797346140276?e[2]>.8958797346140276?St=.009443385055723438:e[9]>1e-35?St=.0384706300742172:e[7]>.9738681190948303?e[7]>.9983480540068196?St=.03566002120217884:e[125]>1e-35?St=-.08601531943220733:e[28]>1e-35?St=-.07136595081940608:St=.005430826378707227:St=.026279964393698674:e[2]>.8958797346140276?St=.025916235406054845:St=-.05093685243097706:e[2]>.8958797346140276?e[4]>2.4414009612931857?e[22]>1e-35?St=-.018458649485324576:e[123]>1e-35?St=-.027048533130577097:e[9]>1e-35?St=.005768627348361876:St=.0011976274380886302:e[196]>1e-35?St=.024074476840894424:St=-.0040891042038809855:e[156]>1e-35?St=-.03722816735059365:St=-.004021663177778795;let Et;e[57]>1e-35?Et=-.054174378986311306:e[55]>1e-35?Et=-.05937408126377534:e[35]>1e-35?Et=-.06355743050048665:e[52]>1e-35?Et=-.049028563645544726:e[10]>1e-35?e[152]>1e-35?Et=.023779508772836917:e[217]>1e-35?Et=.00760039749111183:Et=-.005758267779536595:e[6]>1e-35?e[50]>1e-35?Et=-.03899686693288482:e[53]>1e-35?Et=-.06158372699069763:e[19]>1e-35?Et=.009506113370718208:e[154]>1e-35?Et=-.021220440237800273:e[129]>1e-35?e[26]>1e-35?Et=.12643307498280917:Et=-.02322694568396696:e[49]>1e-35?Et=-.03489161935560748:e[173]>1e-35?Et=-.041310484369004336:e[116]>1e-35?Et=-.026931019221510855:e[150]>1e-35?Et=-.04336081700276943:e[46]>1e-35?Et=-.01503021840754708:e[21]>1e-35?Et=-.011723313966476847:e[187]>1e-35?e[30]>1e-35?Et=.029035482597327224:Et=-.020238143126606493:e[22]>1e-35?Et=-.0092659038594408:e[6]>8.954867306462836?Et=-.002270298325316596:e[25]>1e-35?e[1]>1e-35?e[152]>1e-35?Et=.025059955137215612:Et=-.058962720741665454:Et=4061285457160542e-20:e[7]>.787025207541384?Et=.0045073893285534905:e[156]>1e-35?Et=-.00956127321029558:e[153]>1e-35?Et=-.006428735642845697:Et=.0020065887307204903:Et=-.07142994726664682;let Lt;e[190]>1e-35?Lt=-.026482483927372538:e[11]>1e-35?e[153]>1e-35?Lt=-.019448665116575673:e[46]>1e-35?Lt=-.046207503035123526:e[143]>1e-35?Lt=-.060693025841649276:e[125]>1e-35?Lt=-.0635615784828548:Lt=-.0020226769939179086:e[10]>1e-35?e[152]>1e-35?Lt=.021657999498329004:e[217]>1e-35?Lt=.006867901248533881:e[186]>1e-35?Lt=-.17526174685635476:e[7]>.3736576099860928?e[125]>1e-35?Lt=-.06860813037660739:Lt=-.0030373931794416857:e[153]>1e-35?Lt=-.036659407900460406:Lt=-.009138716679401575:e[8]>1e-35?e[141]>1e-35?Lt=.022488528656368925:Lt=-.004824813956579289:e[155]>1e-35?e[29]>1e-35?Lt=-.0923825728762917:Lt=.013279779321478072:e[13]>1e-35?e[29]>1e-35?Lt=-.02015430689927317:Lt=-.0014075476679032272:e[21]>1e-35?Lt=-.010052866682366596:e[15]>1e-35?e[127]>1e-35?Lt=-.11613127921904604:Lt=-.004425492436566155:e[61]>1e-35?Lt=-.04761391619756717:e[38]>1e-35?Lt=.010790742168686546:e[138]>1e-35?e[25]>1e-35?Lt=-.03936956646884221:Lt=.012187893435100131:e[18]>1e-35?e[46]>1e-35?Lt=.052404637972043124:e[29]>1e-35?e[219]>1e-35?Lt=-.026128288926960785:Lt=.01402455905339408:Lt=-.018095204676971146:Lt=.002238241111198228;let Mt;e[3]>4.993822430271426?Mt=-.021704560089024494:e[39]>1e-35?Mt=-.012978601337522922:e[57]>1e-35?Mt=-.04850734344953324:e[190]>1e-35?Mt=-.02323817835232452:e[55]>1e-35?Mt=-.054265924680079236:e[144]>1e-35?Mt=-.020797331827991154:e[52]>1e-35?Mt=-.04407078296749134:e[50]>1e-35?Mt=-.03531075513550682:e[14]>1e-35?e[217]>1e-35?Mt=-.02603818360896512:Mt=.00845420085528292:e[90]>1e-35?e[3]>3.5114340430413216?Mt=.010289606334961197:Mt=-.10259966877314837:e[139]>1e-35?Mt=-.01903913128660918:e[17]>1e-35?e[30]>1e-35?Mt=.027295226228104732:e[38]>1e-35?Mt=.036847447575421244:e[3]>2.861792550976191?Mt=-.016454620470329126:Mt=.010475083165212631:e[19]>1e-35?Mt=.008675111927467:e[40]>1e-35?Mt=-.036362054443170776:e[9]>1e-35?Mt=.0031294075955568394:e[123]>1e-35?Mt=-.02131953072683769:e[24]>1e-35?e[113]>1e-35?e[3]>2.602003343538398?Mt=-.005045224468848018:e[3]>2.3502401828962087?Mt=.1006727710215487:Mt=-.21606952724358763:e[209]>1e-35?Mt=-.07903381656359819:Mt=.0099843967860757:e[28]>1e-35?Mt=.009909672751437115:e[155]>1e-35?e[3]>3.941534675652877?Mt=.04961274235179155:Mt=.005113567009198253:e[158]>1e-35?Mt=.031566828492110836:Mt=-.0012534895812835874;let Tt;e[4]>2.4414009612931857?e[123]>1e-35?Tt=-.022743199998420272:e[47]>1e-35?Tt=-.02199867034393067:e[3]>3.238486181444842?e[155]>1e-35?Tt=.015256601991879549:e[23]>1e-35?Tt=.01997791344831838:e[97]>1e-35?Tt=.024977281654938052:e[218]>1e-35?Tt=.031730655567930977:e[32]>1e-35?e[1]>1e-35?Tt=-.05855958691798028:Tt=-.009630189044251312:e[195]>1e-35?Tt=-.009842090802252708:e[125]>1e-35?Tt=-.030084333742373532:Tt=-.0009935375527704107:e[135]>1e-35?Tt=-.006040875366017567:e[43]>1e-35?Tt=-.03616920022546756:e[44]>1e-35?Tt=-.014787601622259254:e[0]>1e-35?Tt=.005949240867095038:Tt=.0018435357767462809:e[141]>1e-35?e[3]>1e-35?Tt=-.030610116678182732:Tt=.01960307197844505:e[3]>1.2424533248940002?e[101]>1e-35?Tt=-.04366907994393087:e[28]>1e-35?e[194]>1e-35?Tt=.0927536258129216:Tt=.00806369969474508:e[198]>1e-35?Tt=.03402296877725087:Tt=-.00033907517363096143:e[194]>1e-35?e[19]>1e-35?Tt=-.16957712930341856:e[28]>1e-35?Tt=-.2078243840685859:Tt=-.01982072284112783:e[134]>1e-35?Tt=-.059093837808976674:e[155]>1e-35?Tt=-.11429749518431415:e[1]>1e-35?e[123]>1e-35?Tt=.04159085402090426:Tt=-.0053579302271092874:Tt=-.038428527597709254;let _t;e[2]>2.249904835165133?e[53]>1e-35?_t=-.09149569302330776:e[142]>1e-35?_t=-.020143603866796752:e[29]>1e-35?e[1]>1e-35?e[4]>2.740319461670996?e[0]>1e-35?_t=-.005838073295705989:_t=.0025448179376697196:e[217]>1e-35?_t=.010391363152324442:e[6]>3.9219243190762363?e[7]>.9546729796082215?_t=.00016709708501075782:_t=-.019274537854809464:e[7]>.9717523368299734?e[2]>4.848108675189105?_t=.0038332904395533517:e[141]>1e-35?e[6]>3.0677824455408698?_t=-.12592300140122323:_t=-1.2073741246841418:_t=-.17682453022795175:_t=-.004373737265888883:_t=-.032810714691009164:e[18]>1e-35?_t=-.024280045660709612:e[156]>1e-35?_t=-.023509654115095334:e[1]>1e-35?e[141]>1e-35?_t=-.032438707623116556:e[32]>1e-35?_t=-.061272201063817755:_t=.004415514992097752:_t=-.0017176659108089432:e[0]>1e-35?e[6]>6.288787065535392?e[2]>.8958797346140276?_t=.008680085548304642:e[29]>1e-35?_t=.03767506445697859:_t=-.0007537359215762705:e[4]>.8958797346140276?_t=.0002799056937607271:_t=-.039667032027283916:e[2]>1.2424533248940002?_t=.002506908961838236:e[29]>1e-35?e[7]>.950335336459789?_t=.0027367426972748597:_t=-.021265206402010337:e[30]>1e-35?e[210]>1e-35?_t=-.03496264625173957:_t=-.007705718616493613:e[138]>1e-35?_t=-.035840689909527164:_t=.0006855012949462712;let wt;e[2]>5.418317700738354?e[5]>6.0051201133541365?e[156]>1e-35?wt=-.024776046248283234:wt=-.004761578172448051:e[8]>1e-35?wt=-.025343070913887773:wt=.012224469039913016:e[150]>1e-35?wt=-.04079051452350429:e[10]>1e-35?e[152]>1e-35?wt=.019743419118584654:e[186]>1e-35?wt=-.15575093795294756:e[217]>1e-35?wt=.0056968023991711995:wt=-.004356449942923164:e[5]>6.0051201133541365?e[125]>1e-35?wt=-.01597803134795572:e[151]>1e-35?wt=-.05058454115923059:e[50]>1e-35?wt=-.03619853041443809:e[49]>1e-35?wt=-.03261722685392842:e[24]>1e-35?wt=.011909155984778505:e[2]>2.012675845367575?wt=.0004933624031973823:e[219]>1e-35?wt=.015579421213152617:wt=.002812703494519415:e[113]>1e-35?e[24]>1e-35?wt=.09675188599473092:wt=.0008025077587732017:e[204]>1e-35?e[9]>1e-35?e[5]>3.772694874805912?wt=.02609533140492082:e[29]>1e-35?wt=-.21256031284758028:wt=.09442590919716193:wt=-.004086903422513798:e[24]>1e-35?e[5]>3.979637980058199?wt=-.011071875945121415:e[209]>1e-35?wt=-.19367443751378252:wt=-.04414838576908475:e[178]>1e-35?wt=-.06538606241685795:e[100]>1e-35?e[5]>3.772694874805912?wt=-.01294941588968201:e[5]>2.673553765358735?wt=.08150000027300734:wt=-.08989919051554107:wt=-.0032151101072856354;let Ut;e[35]>1e-35?Ut=-.05704221149718709:e[91]>1e-35?Ut=-.023832002943165256:e[102]>1e-35?Ut=.015441451551750014:e[3]>4.993822430271426?Ut=-.020159490027748073:e[4]>2.3502401828962087?e[144]>1e-35?Ut=-.022873219553742163:e[22]>1e-35?Ut=-.01287591196884623:e[47]>1e-35?e[18]>1e-35?Ut=.07657102696661595:Ut=-.0243921910773003:e[150]>1e-35?Ut=-.043982850497096056:e[138]>1e-35?e[25]>1e-35?Ut=-.03740348349716821:Ut=.008237493112057112:e[49]>1e-35?Ut=-.03254806921800082:e[53]>1e-35?Ut=-.057370285686186163:e[3]>4.085941003063911?e[37]>1e-35?Ut=-.04084726667137505:e[155]>1e-35?Ut=.0323666619020495:Ut=-.0038866525930422893:e[118]>1e-35?e[18]>1e-35?Ut=-.0975422096275863:Ut=-.014038224866250074:e[136]>1e-35?Ut=-.03199938604211209:Ut=.0014268928516615767:e[99]>1e-35?Ut=.018668567929263327:e[5]>7.334002872979111?e[156]>1e-35?Ut=-.05380541629812827:e[210]>1e-35?e[30]>1e-35?Ut=-.047112416583853595:Ut=.00900546030963941:e[208]>1e-35?Ut=.02334424121914086:e[158]>1e-35?Ut=.04595592178250823:Ut=-.006709820970668842:e[204]>1e-35?e[5]>3.772694874805912?Ut=.009489783712825852:e[3]>2.249904835165133?Ut=.09999429949553015:Ut=-.03961464289941561:Ut=-.001190853283470586;let Wt;e[39]>1e-35?Wt=-.011391872842603505:e[190]>1e-35?Wt=-.021093147889461955:e[51]>1e-35?e[18]>1e-35?Wt=.08723256651643213:Wt=-.04233732133209843:e[19]>1e-35?Wt=.008078856044745801:e[4]>.8958797346140276?e[60]>1e-35?Wt=-.022165860715145688:e[129]>1e-35?e[3]>3.314020688089767?Wt=.019990677612126993:Wt=-.035520772730423776:e[153]>1e-35?e[2]>.8958797346140276?Wt=-.006946377120973384:e[0]>1e-35?e[8]>1e-35?e[5]>5.692045796563381?Wt=.04230611914121616:Wt=-.1152833284663223:Wt=.03987788751961305:Wt=-.02748865099804465:e[46]>1e-35?e[18]>1e-35?Wt=.047655531405650486:Wt=-.022707509947190632:e[18]>1e-35?e[3]>.8958797346140276?e[31]>1e-35?Wt=.1425984397283696:e[143]>1e-35?Wt=.05597721538261218:Wt=-.02117927246804007:Wt=.011077153043550766:e[143]>1e-35?Wt=-.0158979963012007:e[187]>1e-35?e[30]>1e-35?Wt=.02515771028113912:Wt=-.019084229614362958:e[49]>1e-35?e[1]>1e-35?Wt=.014623537050735559:Wt=-.05320125987679328:e[58]>1e-35?e[3]>3.1132683346437333?Wt=.021421346835282216:Wt=-.03287702034784505:e[16]>1e-35?Wt=.008645735809593434:e[3]>4.993822430271426?Wt=-.01889537207927676:Wt=.00131546333396141:e[153]>1e-35?Wt=-.09822789507794744:Wt=-.010292962989428067;let zt;e[11]>1e-35?e[156]>1e-35?e[4]>3.1132683346437333?zt=-.009153166060719259:zt=-.035386636811765286:e[58]>1e-35?zt=-.03881024236774208:e[153]>1e-35?e[7]>.12645023619128054?zt=-.01286680669029116:zt=-.0573874491021103:e[3]>3.276966702012906?e[38]>1e-35?zt=-.03084033316462023:zt=-.00517175216868761:e[195]>1e-35?zt=.01773824295809578:e[131]>1e-35?zt=-.17828043850421407:zt=.0005554487984838318:e[7]>.14547530463198097?e[105]>1e-35?zt=-.018589129226123456:e[116]>1e-35?zt=-.0227108777687536:e[24]>1e-35?zt=.009520152980411787:e[135]>1e-35?zt=-.004364970908897872:e[0]>1e-35?e[18]>1e-35?zt=-.015737703364129243:zt=.003711277180349787:e[12]>1e-35?e[4]>3.540854293052788?e[155]>1e-35?zt=.04655165952772795:zt=.009321761971665682:e[210]>1e-35?zt=.018839890489201528:e[129]>1e-35?zt=-.03111680952187252:zt=.0002649813454447912:e[23]>1e-35?zt=.014110539528977999:e[109]>1e-35?zt=.014168740682742625:zt=-.0008607565404007093:e[3]>2.3502401828962087?e[9]>1e-35?e[4]>3.3842466058243152?zt=-.004252607769147212:zt=.02017003996344357:e[16]>1e-35?zt=.01594899805169211:zt=-.006372071796745688:e[12]>1e-35?zt=-.0251011457777017:e[121]>1e-35?zt=-.07822588279288774:zt=-.005026529762858;let lr;e[7]>.8375851232899904?e[155]>1e-35?e[3]>1.2424533248940002?lr=.014982109981371684:lr=-.08302064203662592:e[3]>2.602003343538398?e[125]>1e-35?lr=-.02862612402789537:lr=-.0004831913476108919:e[42]>1e-35?lr=-.08030278175390543:e[90]>1e-35?lr=-.11931838045625616:lr=.003328726909052652:e[125]>1e-35?e[3]>1e-35?lr=-.03347653784336098:lr=.0381767649776156:e[3]>2.4414009612931857?e[3]>3.1132683346437333?e[137]>1e-35?lr=.04078434374172937:e[130]>1e-35?lr=.04811471469938318:e[152]>1e-35?lr=.012079515899716571:e[23]>1e-35?lr=.017817807971301534:e[122]>1e-35?lr=.049338146544587284:e[115]>1e-35?lr=.026905923036994708:e[10]>1e-35?lr=-.008135082370740723:e[89]>1e-35?lr=.023584069012120446:e[95]>1e-35?lr=.013988944683250695:lr=-.002584756192745314:e[139]>1e-35?lr=-.04454469703180858:e[99]>1e-35?e[3]>2.524928003624769?lr=.010620580427538877:lr=.047779724434429495:e[131]>1e-35?lr=-.08155143867377633:lr=.0031488702256745843:e[7]>.06275229375044648?e[99]>1e-35?lr=.016956254821045937:e[90]>1e-35?lr=-.11685880917620971:e[210]>1e-35?e[11]>1e-35?lr=-.040607887814632475:lr=-.006287900824728332:lr=-.0018997472673294537:e[14]>1e-35?lr=.02358706984105576:lr=-.01737075534918072;let hr;e[6]>1e-35?e[2]>5.4049245766661995?e[5]>6.441743353550561?e[29]>1e-35?e[4]>2.673553765358735?hr=-.007517267159018327:hr=-.02379463821120899:hr=-.0026543290628044274:e[8]>1e-35?hr=-.022865480180725452:hr=.009005117181880752:e[6]>5.161920636569023?e[0]>1e-35?e[2]>.8958797346140276?e[2]>2.012675845367575?e[3]>2.3502401828962087?hr=.0021573820428423146:hr=-.0046125093600082965:e[3]>3.314020688089767?hr=-.005566488595229649:e[6]>6.288787065535392?hr=.012796965207082116:hr=-.0023971957228440767:e[3]>2.249904835165133?e[2]>1e-35?hr=-.0003832411399288501:e[1]>1e-35?hr=-.03148874544425103:hr=-.3158553329522586:e[2]>1e-35?hr=.025981575700247922:hr=.052944809618023905:e[6]>8.681774988134558?e[3]>2.970085626360216?hr=-.0005280655103032829:hr=-.009402467452152188:e[2]>.8958797346140276?hr=.0018798828715775142:e[3]>1.7005986908310777?hr=-.0002583719758369029:hr=-.014467497542301198:e[128]>1e-35?hr=-.03075061856353219:e[3]>3.0201273556387074?e[8]>1e-35?hr=-.03107874404542307:hr=-.0063178690978266385:e[113]>1e-35?e[24]>1e-35?hr=.10168122236339333:hr=.0027676566086997536:e[100]>1e-35?e[3]>1.4978661367769956?hr=-.019182725682091863:e[3]>1.2424533248940002?hr=.10007959215270637:hr=-.049901874168813753:e[12]>1e-35?hr=-.008354674563617942:hr=.000556773623388255:hr=-.06338083699889271;let sr;e[14]>1e-35?e[5]>7.841296344941067?e[217]>1e-35?sr=-.03452197748259044:e[141]>1e-35?sr=-.05526745933972476:sr=.003096257901065188:sr=.013468654879205778:e[90]>1e-35?sr=-.04633994478668718:e[7]>.04507521918085865?e[39]>1e-35?sr=-.011427282692256308:e[188]>1e-35?sr=-.11824461537515621:e[17]>1e-35?e[5]>3.276966702012906?sr=.009014346731620665:sr=-.10784986305366669:e[102]>1e-35?sr=.014356846380168074:e[109]>1e-35?sr=.0100955463134877:e[31]>1e-35?sr=.025672511171270042:e[127]>1e-35?sr=-.10904631172619624:e[19]>1e-35?sr=.007015456473363717:e[60]>1e-35?sr=-.02409044800892067:e[217]>1e-35?e[7]>.9914949911911836?sr=.02334115299069277:e[1]>1e-35?sr=-29013080593250377e-21:sr=.014307421165143329:e[1]>1e-35?e[42]>1e-35?sr=-.06673983904970003:e[37]>1e-35?sr=-.05636396687178933:e[32]>1e-35?sr=-.042854874962508754:e[140]>1e-35?sr=-.014546243613252019:e[119]>1e-35?sr=.02592806792359847:sr=.0008331579108247542:e[12]>1e-35?sr=.004348565717870661:e[195]>1e-35?sr=-.016064193157584304:e[210]>1e-35?sr=-.01896835246692864:e[122]>1e-35?sr=.06415669138405272:e[219]>1e-35?sr=-.03191239858069586:sr=-.0022170295258555585:sr=-.00965022020696389;let cr;e[55]>1e-35?cr=-.04649484416236924:e[6]>1e-35?e[35]>1e-35?cr=-.04814595674860986:e[173]>1e-35?cr=-.030965289355370126:e[190]>1e-35?cr=-.01892908615035444:e[50]>1e-35?cr=-.03023310323845746:e[14]>1e-35?e[134]>1e-35?cr=.029102388421738776:e[217]>1e-35?cr=-.021829759931582565:cr=.005209049556942947:e[90]>1e-35?e[3]>3.276966702012906?cr=.007482519637019732:e[28]>1e-35?cr=.08823476156200263:cr=-.1134870648564767:e[17]>1e-35?e[5]>3.156774023138548?e[3]>2.861792550976191?e[134]>1e-35?cr=.037573808092493166:cr=-.008120569804875069:cr=.015185866424900767:cr=-.10150107137017012:e[39]>1e-35?cr=-.011108691883331833:e[4]>2.4414009612931857?e[123]>1e-35?cr=-.019406534412652932:e[22]>1e-35?cr=-.011646225036274034:e[118]>1e-35?e[1]>1e-35?cr=.007977856608752276:cr=-.038946271309380914:cr=.0009257226566265858:e[101]>1e-35?e[6]>5.769881059461895?cr=-.06484570063989317:cr=.016294764421436982:e[29]>1e-35?e[204]>1e-35?e[5]>5.859359688974663?cr=.036329398743295674:cr=-.20474934656494398:e[4]>1.7005986908310777?cr=-.0005630875641286038:e[5]>3.5694334999727624?e[19]>1e-35?cr=.03322386202318951:cr=-.01687696637036405:cr=-.10533305728771972:cr=-.0004901077590279651:cr=-.05758869249681345;let Zt;e[57]>1e-35?Zt=-.043478488738181505:e[53]>1e-35?Zt=-.05188532777589009:e[11]>1e-35?e[156]>1e-35?Zt=-.01733439245316815:e[58]>1e-35?Zt=-.03508850349398082:e[134]>1e-35?e[38]>1e-35?e[3]>3.156774023138548?Zt=-.02641618586067251:Zt=.0053883499998111746:Zt=-.04111067521339709:e[46]>1e-35?Zt=-.03960880739147387:e[56]>1e-35?Zt=.02833430038101972:e[3]>4.548585836935273?Zt=-.028156779064728323:Zt=-.0006287807275955149:e[105]>1e-35?Zt=-.018589321466431944:e[187]>1e-35?e[30]>1e-35?Zt=.021938681282791916:Zt=-.016917430307970042:e[7]>.015258684697466883?e[132]>1e-35?Zt=.026815659384164206:e[204]>1e-35?e[7]>.992067132663463?Zt=-.010565408217521758:e[7]>.9738681190948303?e[9]>1e-35?e[30]>1e-35?Zt=.09345774314045512:Zt=-.003460687191126055:Zt=.009778848673591349:Zt=.006207652194161698:e[134]>1e-35?e[14]>1e-35?Zt=.026940863472122597:Zt=.004032635910042969:e[16]>1e-35?e[156]>1e-35?Zt=-.014571620220052964:e[219]>1e-35?Zt=.03394257525872151:e[189]>1e-35?Zt=-.16441255476933125:Zt=.006890416623408193:e[7]>.5866799179067689?e[156]>1e-35?e[9]>1e-35?Zt=-.002374233797129139:Zt=.015343494638416642:Zt=.0007085956801478842:Zt=-.0014226167854637043:Zt=-.014931890774210171;let ur;e[52]>1e-35?ur=-.040552145534119004:e[88]>1e-35?ur=-.11616238297789526:e[147]>1e-35?e[21]>1e-35?ur=.08405882357263977:ur=-.028120036866471673:e[89]>1e-35?ur=.013417411709807947:e[138]>1e-35?e[25]>1e-35?ur=-.03104795267483152:e[8]>1e-35?ur=-.013793892541819341:ur=.007067793368543704:e[3]>4.212100162283537?e[37]>1e-35?ur=-.04169781427571004:e[59]>1e-35?ur=.039366779099462186:e[190]>1e-35?ur=-.0746572875957972:ur=-.0046665287028623895:e[31]>1e-35?e[3]>3.3497501700808394?ur=-.015043885860062665:ur=.04427790295514171:e[127]>1e-35?ur=-.09222397003880911:e[188]>1e-35?ur=-.11791399942046604:e[116]>1e-35?ur=-.022670774074606673:e[21]>1e-35?e[118]>1e-35?ur=-.08590814127371893:ur=-.009079159755287763:e[10]>1e-35?e[153]>1e-35?e[7]>.12025037553499339?ur=-.010834658570263708:ur=-.06942979142484561:e[59]>1e-35?ur=-.0368654965105411:e[186]>1e-35?ur=-.13585047638050318:ur=-.001475385731000911:e[11]>1e-35?e[47]>1e-35?ur=-.07021793045868131:e[58]>1e-35?ur=-.03264322466138671:e[153]>1e-35?e[7]>.4982752029697964?ur=-.000719771928860618:ur=-.02550581685370434:ur=-.001300530189452872:e[216]>1e-35?ur=-.04553949138490546:ur=.0013445292966782988;let ve;e[152]>1e-35?ve=.005642349825665321:e[108]>1e-35?e[1]>1e-35?ve=.012759171568581189:ve=-.0015650437871311187:e[102]>1e-35?ve=.012533880283367552:e[10]>1e-35?e[4]>1.4978661367769956?e[7]>.9888588760569341?ve=.007453521083396632:ve=-.0036225862281260785:e[3]>.8958797346140276?ve=-.0027177080775155366:e[5]>5.782284349061034?ve=-.04454373321655838:ve=.021964247026786614:e[11]>1e-35?e[47]>1e-35?ve=-.06196070580382676:e[121]>1e-35?e[1]>1e-35?ve=-.06122312462911518:e[7]>.3847172300624272?ve=.03518239795956787:e[3]>2.4414009612931857?ve=.006811972713764457:ve=-.0933556055347465:e[5]>4.938058177869999?ve=-.004012086267764631:ve=.01930669434547199:e[5]>6.0051201133541365?e[27]>1e-35?ve=-.012304580143719986:ve=.0013650712455989071:e[3]>2.802901033147999?ve=-.0083470520183599:e[7]>.5811983411966435?e[7]>.990877425524446?e[219]>1e-35?e[3]>1e-35?ve=.06211865200552023:e[17]>1e-35?ve=.06775644666502018:ve=-.06866304616688222:e[217]>1e-35?ve=.059656960273077646:ve=-.004328630560280456:e[204]>1e-35?e[4]>2.249904835165133?ve=.006371564018556469:e[3]>2.138333059508028?ve=.09486061534469152:ve=-.09409330595635478:e[4]>2.602003343538398?ve=.011308844028341723:e[100]>1e-35?ve=.0439316487073224:ve=-.003403233436702135:ve=-.00960652384005499;let O;e[144]>1e-35?e[18]>1e-35?O=.07197995497453837:e[1]>1e-35?O=-.001274320993832369:O=-.040032546534329444:e[52]>1e-35?e[18]>1e-35?O=.09098124993319018:O=-.04537404774072243:e[40]>1e-35?O=-.02515534903180516:e[53]>1e-35?O=-.04736675675905027:e[178]>1e-35?O=-.021374380471858013:e[55]>1e-35?O=-.04240162360893064:e[51]>1e-35?e[18]>1e-35?O=.07999652271774131:O=-.036649228565504045:e[109]>1e-35?O=.009067075019741765:e[54]>1e-35?e[1]>1e-35?O=.019160818735605257:O=-.05967997790089002:e[35]>1e-35?O=-.043420689526233285:e[173]>1e-35?O=-.027561163630755333:e[190]>1e-35?O=-.016370101115869642:e[14]>1e-35?e[217]>1e-35?O=-.019735056448517897:e[141]>1e-35?O=-.028090004807030017:O=.006865378253320941:e[139]>1e-35?e[1]>1e-35?O=-.032389864623829076:O=.005458607214221278:e[60]>1e-35?O=-.019089857559617188:e[153]>1e-35?e[18]>1e-35?O=.015189336996079859:e[19]>1e-35?O=.013745154147527805:e[1]>1e-35?O=-.005284271350108698:O=-.0374184512092477:e[18]>1e-35?e[99]>1e-35?O=-.0595395395199616:e[100]>1e-35?O=-.09991342902311327:O=-.0042488091801234805:O=.0006682804828197052;let me;e[46]>1e-35?me=-.012191380765172536:e[88]>1e-35?me=-.10266216005056819:e[91]>1e-35?me=-.018445844031974568:e[50]>1e-35?me=-.027431707051961525:e[144]>1e-35?e[7]>.9945060383544003?me=.03614842925379388:me=-.02095650990295711:e[4]>2.4414009612931857?e[123]>1e-35?e[3]>3.0201273556387074?me=-.01053451990903616:me=-.05114195197878968:e[16]>1e-35?me=.007316468830803533:e[9]>1e-35?me=.003316750172048933:me=860911526134492e-20:e[141]>1e-35?e[3]>1e-35?me=-.02547358042212171:me=.019472890771357998:e[186]>1e-35?me=-.09288424685816356:e[41]>1e-35?me=-.1310231930206974:e[42]>1e-35?me=-.056216247465863484:e[29]>1e-35?e[5]>3.5694334999727624?e[134]>1e-35?me=-.054747915129536466:e[1]>1e-35?e[131]>1e-35?me=-.16815706432319097:me=-.002818043413853223:me=-.041951940639575136:e[7]>.960816451500545?e[219]>1e-35?me=.10052885656939581:me=-.11599835225683999:me=.029922858316313545:e[101]>1e-35?e[5]>7.429817490674132?me=-.06576516230122952:me=-.0008540865426696243:e[210]>1e-35?e[114]>1e-35?me=.013062456952379193:e[7]>.7267616382562012?me=.0022613700798703854:me=-.03938763940013096:e[59]>1e-35?e[12]>1e-35?me=.008501036224046256:me=-.06542467236134167:me=.002585754319607976;let ye;e[28]>1e-35?ye=.008779900390406317:e[7]>.9880960409521241?e[8]>1e-35?ye=-.008991654120695218:e[3]>1e-35?e[140]>1e-35?ye=-.02731072195122447:ye=.002008744895602654:e[217]>1e-35?ye=.02359361264236281:ye=.007024522001417586:e[2]>2.138333059508028?e[3]>2.4414009612931857?e[125]>1e-35?ye=-.04199133736767654:e[47]>1e-35?ye=-.027561033349225085:e[3]>4.085941003063911?e[12]>1e-35?ye=.007807873722550442:e[152]>1e-35?ye=.030689318204494505:e[137]>1e-35?ye=.06699720359975746:ye=-.010441301216813357:e[118]>1e-35?ye=-.03153852460438172:e[48]>1e-35?ye=-.03440026517387997:ye=.0015296602873888215:e[0]>1e-35?e[2]>6.607325405747152?ye=-.027110120892630915:e[153]>1e-35?ye=-.017016088064422574:ye=-.005723165911539293:e[187]>1e-35?ye=-.031718114891806884:ye=-.0005272212291525389:e[0]>1e-35?e[2]>.8958797346140276?e[46]>1e-35?ye=-.09171631422683799:ye=.003327268948098216:e[3]>2.3502401828962087?e[125]>1e-35?ye=-.5887915327321841:e[2]>1e-35?ye=-.006637502258168407:ye=-.08424468641004934:e[125]>1e-35?ye=-.06617256968162606:ye=.028846174454930092:e[2]>1.2424533248940002?e[15]>1e-35?ye=-.016616715415331784:ye=.002680237807803091:e[3]>1e-35?ye=-.0012589163812412535:ye=-.015154395987664649;let K;e[6]>9.286096980078398?e[4]>2.970085626360216?K=-.001155963563974424:K=-.011949331884445141:e[6]>6.3071868642287745?e[2]>5.150393035655617?K=-.0033183579364470086:e[11]>1e-35?K=-.0018887492076874403:e[169]>1e-35?K=-.09486398911649394:K=.0025252552927441433:e[4]>3.0677824455408698?e[7]>.09963982551990838?e[141]>1e-35?e[6]>3.314020688089767?K=.012137569190879735:K=.09584425242224671:e[8]>1e-35?e[7]>.987306237235768?e[2]>.8958797346140276?K=-.020817404206469048:K=-.06464699261956137:K=-.008121005894366425:K=-.002273798477153842:e[4]>3.5114340430413216?K=-.024199637055494112:K=-.0044500308011184275:e[12]>1e-35?K=-.00483411782477681:e[5]>3.156774023138548?e[8]>1e-35?e[5]>3.772694874805912?e[6]>3.795426061844291?K=.0013628724281773107:K=-.04205266437322089:e[141]>1e-35?e[4]>2.861792550976191?e[5]>3.417592293073651?K=-.15445392240959782:e[2]>2.970085626360216?K=-.5683130345409004:K=-1.2639522532467855:K=-.12861577169349267:K=-.08527127841498366:e[4]>2.4414009612931857?e[7]>.29163353806150266?K=.003881870206848933:K=.01474849027472377:e[18]>1e-35?e[219]>1e-35?K=-.07387984252991263:K=-.013089382916580447:K=-.0008129634296833813:e[3]>2.3502401828962087?e[2]>3.1132683346437333?K=.019943967048858428:K=-.04278248600927625:e[17]>1e-35?K=-.11809979934412335:K=.03777084692378827;let L;e[57]>1e-35?L=-.03805766278012468:e[6]>9.286096980078398?e[2]>3.725620842493839?L=-.010152097691926694:L=-.000726856757223527:e[25]>1e-35?e[4]>2.917405368531303?e[6]>4.226807104886684?e[5]>8.866229029069968?L=.016965184252348844:L=-.027524673351863413:L=-.09999982742666325:e[219]>1e-35?L=-.11642840619184194:e[6]>3.1984648276080736?L=.02202934385365115:L=-.0758508504188626:e[17]>1e-35?e[5]>3.276966702012906?e[3]>2.861792550976191?e[38]>1e-35?L=.03529859841404316:L=-.005442656204983076:L=.013832633319757828:L=-.07099090377505678:e[40]>1e-35?e[12]>1e-35?L=.020780509349314687:L=-.0412229778697227:e[178]>1e-35?e[6]>4.832297822126891?L=-.012751356404573045:L=-.07365946414911166:e[6]>1e-35?e[91]>1e-35?L=-.018973855754862178:e[31]>1e-35?e[3]>3.3497501700808394?L=-.019342018507399077:L=.04336755184633714:e[52]>1e-35?L=-.034601279556920723:e[53]>1e-35?L=-.04570921257037347:e[4]>2.4414009612931857?e[22]>1e-35?L=-.009909029766665835:e[88]>1e-35?L=-.13759996623650647:L=.0010774168904012999:e[90]>1e-35?L=-.09942790916464699:e[5]>8.17933999189099?L=-.006237804261380787:e[154]>1e-35?L=-.02869365685254793:e[41]>1e-35?L=-.11951308633255478:L=.0005720279396045617:L=-.05091927304878396;let Ie;e[2]>8.18910569469239?Ie=-.011281718118735835:e[2]>8.136957041085973?Ie=.007639929297282146:e[2]>6.178980383851587?Ie=-.006867711027875817:e[6]>4.5379471377116305?e[125]>1e-35?e[3]>1e-35?Ie=-.026657037414316055:Ie=.03822052894720058:e[89]>1e-35?Ie=.01442240494610187:Ie=.0005482931472826037:e[3]>2.970085626360216?e[8]>1e-35?Ie=-.04157937378268839:e[25]>1e-35?Ie=-.07438346384769444:Ie=-.007688780027797844:e[113]>1e-35?e[24]>1e-35?Ie=.10208422768618285:Ie=-.0025376848550412623:e[24]>1e-35?e[209]>1e-35?e[7]>.9738681190948303?Ie=-.18081467351794253:Ie=.06403272706376394:Ie=-.006045919721112658:e[100]>1e-35?e[3]>1.4978661367769956?Ie=-.034372452343283254:e[3]>1.2424533248940002?Ie=.10087241747333926:Ie=-.06270133551905664:e[12]>1e-35?e[209]>1e-35?Ie=.02872327658284419:Ie=-.012940407270969699:e[5]>3.276966702012906?e[8]>1e-35?Ie=-.02165149142042258:e[3]>2.249904835165133?Ie=.011522668417532612:Ie=-.005129494488342788:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Ie=.018894357520732635:Ie=-.03443967069634786:e[19]>1e-35?e[0]>1e-35?Ie=.0868126244943877:e[2]>1.4978661367769956?e[194]>1e-35?Ie=-.16834554324370338:Ie=.08799302490518951:Ie=.007907573815540844:e[17]>1e-35?Ie=-.07843101628051594:Ie=.04322926522720053;let Me;e[7]>.987306237235768?e[8]>1e-35?e[5]>6.285066127789834?Me=6536595256810364e-20:e[153]>1e-35?Me=-.07687008855803332:Me=-.015088524832702519:e[18]>1e-35?Me=-.012556097563484098:e[217]>1e-35?e[5]>8.28387302567733?Me=-.004574660978375117:Me=.02566519458840368:Me=.003837771337656032:e[28]>1e-35?e[194]>1e-35?e[29]>1e-35?e[5]>3.979637980058199?Me=.04675774128546983:Me=-.16922871147253024:e[5]>5.821564412917691?Me=.017788548280824237:Me=.101599048954043:e[5]>4.424828703319957?Me=.009470487487627452:Me=-.046977132290520585:e[95]>1e-35?Me=.008579165333164537:e[204]>1e-35?e[7]>.9782662069407232?e[9]>1e-35?Me=.0717824359443052:Me=.01776258010455891:Me=.003970948558978321:e[208]>1e-35?e[1]>1e-35?Me=.012428835257375037:e[18]>1e-35?Me=-.08152843296689005:Me=-.0059907248803252305:e[109]>1e-35?Me=.008117980905290326:e[89]>1e-35?e[1]>1e-35?Me=-.08097766993639294:Me=.014258345453663996:e[62]>1e-35?Me=.025185598552042956:e[213]>1e-35?Me=.01261362855232781:e[138]>1e-35?e[1]>1e-35?e[29]>1e-35?Me=.004355449069502461:Me=-.03327693117307522:e[29]>1e-35?Me=-.024228224306581475:e[5]>5.244385543610066?Me=.01690188327986934:Me=-.02426164440751183:Me=-.0016932467092565535;let Ct;e[116]>1e-35?Ct=-.018106356667092538:e[24]>1e-35?e[113]>1e-35?e[5]>4.658699722134796?Ct=-.0289267666661116:Ct=.10225466717059267:e[5]>3.979637980058199?Ct=.007715497036238576:e[209]>1e-35?Ct=-.1596622066794057:Ct=-.02153459011172981:e[46]>1e-35?e[18]>1e-35?Ct=.044010040060630896:Ct=-.018791912393741998:e[39]>1e-35?Ct=-.008648992983623099:e[3]>4.993822430271426?Ct=-.01442291433054286:e[158]>1e-35?Ct=.023944934429097977:e[21]>1e-35?Ct=-.008731676115726167:e[51]>1e-35?e[18]>1e-35?Ct=.07015276907667169:Ct=-.03981801316250594:e[152]>1e-35?e[12]>1e-35?e[7]>.9811887196001154?Ct=.025342984951627335:e[56]>1e-35?Ct=-.039652717595259894:Ct=-.003499774006708361:e[4]>3.676220550121792?Ct=.026612369959601385:e[0]>1e-35?e[2]>2.012675845367575?Ct=.012259156005894655:Ct=.04466570041636591:Ct=.002369030228609974:e[50]>1e-35?Ct=-.02625338435100237:e[198]>1e-35?e[5]>3.156774023138548?e[4]>2.602003343538398?Ct=.004706524615587467:Ct=.03172381727140614:Ct=-.08877100979833137:e[19]>1e-35?e[156]>1e-35?Ct=.047690620764284854:Ct=.004980692597287184:e[188]>1e-35?Ct=-.10330323519600788:e[108]>1e-35?Ct=.006389080836282864:e[217]>1e-35?Ct=.0034861135133741716:Ct=-.0005184951270632008;let qt;e[150]>1e-35?qt=-.03083355660591381:e[6]>8.681774988134558?e[0]>1e-35?qt=.0032708551521722813:e[3]>2.970085626360216?qt=-.0008773771112515323:qt=-.008194765714031488:e[1]>1e-35?e[42]>1e-35?qt=-.0544661644610188:e[114]>1e-35?qt=.014743200719322279:e[25]>1e-35?qt=-.03415156332118204:e[121]>1e-35?e[0]>1e-35?qt=-.012241568524042012:qt=-.08332027167107449:e[119]>1e-35?qt=.02487058944439717:e[210]>1e-35?e[4]>2.602003343538398?qt=.003409540133128587:e[7]>.985694415330804?qt=.014360134818665793:qt=-.029939754177999198:e[140]>1e-35?e[30]>1e-35?qt=-.07017324311241228:qt=-.00954038893956995:e[32]>1e-35?qt=-.0321895511220355:qt=.0018389054792352236:e[3]>.8958797346140276?e[138]>1e-35?qt=.014210083256713822:e[3]>2.970085626360216?e[56]>1e-35?qt=.03179391063657913:e[132]>1e-35?qt=.044860161753142676:e[122]>1e-35?qt=.056053352587009365:e[44]>1e-35?qt=.011126140459263092:e[217]>1e-35?qt=.015177735064648389:e[30]>1e-35?qt=.00292550151642784:e[0]>1e-35?qt=-.01370614277688821:qt=-.00467240699644943:e[30]>1e-35?e[17]>1e-35?qt=.06455607454604466:qt=-.018525791968354337:e[127]>1e-35?qt=.058525937257934674:qt=.004550050432870272:qt=-.024273015893662056;let Ft;e[57]>1e-35?Ft=-.03433295479723807:e[35]>1e-35?Ft=-.039185287251387806:e[2]>8.18910569469239?Ft=-.01005594457537474:e[2]>8.136957041085973?Ft=.006899889609485921:e[2]>5.6542404955442525?e[156]>1e-35?Ft=-.021428903659715646:Ft=-.003794036359277691:e[6]>4.3882378946731615?e[125]>1e-35?Ft=-.012625422706971806:e[0]>1e-35?e[2]>.8958797346140276?e[32]>1e-35?Ft=.024078606665492636:e[6]>6.9309832857755405?e[2]>2.012675845367575?Ft=.00015676395930232578:Ft=.008324926956588046:Ft=-.0031526636810443134:e[156]>1e-35?Ft=.053603289446623514:e[6]>5.912149824839399?Ft=.022861200347258755:e[128]>1e-35?e[9]>1e-35?Ft=-.44322676747225076:Ft=-.07989645752877887:Ft=.005736631305989689:e[6]>9.286096980078398?Ft=-.005302861539231229:e[133]>1e-35?Ft=-.011410750972764748:e[2]>1e-35?e[139]>1e-35?Ft=-.01695599188677891:e[12]>1e-35?e[129]>1e-35?Ft=-.029257180272820173:e[106]>1e-35?Ft=.03593102425808264:e[59]>1e-35?Ft=.03336711951593411:e[114]>1e-35?Ft=.021293721644930708:Ft=.0031644417228525465:e[140]>1e-35?e[2]>2.802901033147999?Ft=.005338088459754211:Ft=-.018863893195455395:e[59]>1e-35?e[20]>1e-35?Ft=-.2145461556048109:Ft=-.013833058686928565:Ft=.0010745795613665528:Ft=-.003974960846380726:Ft=-.004018386137909663;let tr;e[55]>1e-35?tr=-.038436881673730244:e[49]>1e-35?e[1]>1e-35?tr=.013340924551504776:tr=-.04038081752369706:e[135]>1e-35?e[17]>1e-35?tr=.02160784630817418:e[6]>4.722943345003718?e[2]>3.9981586158983733?tr=-.012347824466576033:tr=-.000545766507983511:e[4]>3.0201273556387074?e[2]>1e-35?tr=-.0252070573488502:tr=-.13173630032620282:tr=.009893647988200364:e[6]>1e-35?e[73]>1e-35?tr=-.05384174968342247:e[52]>1e-35?e[1]>1e-35?tr=.02326718288961822:tr=-.04799167043714381:e[7]>.8453853180651066?e[4]>3.481121732133104?e[12]>1e-35?e[59]>1e-35?tr=.061286381265316374:e[3]>3.481121732133104?tr=.005424469650470853:e[6]>4.310776603370241?tr=.014609485744972962:tr=.06126754321077295:e[156]>1e-35?e[2]>8.898092196194755?tr=-.2427431056579565:tr=.018014774163852717:tr=.0018695162213364096:e[61]>1e-35?tr=-.07802947082997094:e[45]>1e-35?tr=-.024426413301391545:e[140]>1e-35?e[4]>.8958797346140276?tr=-.021126260874271455:e[6]>4.03420147928485?tr=-.08415757514826445:e[3]>1e-35?tr=.10708927158160722:tr=-.24178647896179492:tr=.0008522369825914582:e[218]>1e-35?tr=.02373187641553724:e[57]>1e-35?tr=-.04729470896114382:e[6]>4.135134555718313?tr=-.00014270136560779048:tr=-.007024429214918294:tr=-.08338039048086893;let ir;e[72]>1e-35?ir=.056415744834310104:e[102]>1e-35?ir=.010312560108512227:e[109]>1e-35?ir=.007457767681676636:e[208]>1e-35?e[4]>3.0677824455408698?e[18]>1e-35?ir=-.06595581480202953:ir=.0010087955639505731:ir=.010976237400105874:e[4]>2.4414009612931857?e[123]>1e-35?e[2]>4.5900436644025815?ir=-.05474288807524913:ir=-.010369052951168002:e[47]>1e-35?e[18]>1e-35?ir=.06670108938458437:e[20]>1e-35?ir=.08555144132474565:ir=-.021968528557862133:e[48]>1e-35?e[18]>1e-35?ir=.06392608504748652:ir=-.02321056177872842:e[54]>1e-35?ir=-.03592967725793262:e[6]>5.519456907163478?ir=.0008682946366782881:e[133]>1e-35?ir=-.029370515479889298:e[4]>3.0201273556387074?ir=-.004567764283497172:e[12]>1e-35?ir=-.008355751724201374:e[113]>1e-35?ir=.04158028065835193:ir=.005544170962219649:e[141]>1e-35?ir=-.01706283616408152:e[186]>1e-35?ir=-.08075713781164345:e[196]>1e-35?e[4]>2.012675845367575?ir=-.004591551989937031:e[4]>.8958797346140276?e[18]>1e-35?ir=-.1239344826496822:ir=.026355647530608275:ir=-.07955511774996737:e[41]>1e-35?ir=-.10181506412232362:e[42]>1e-35?ir=-.0453542732395041:e[116]>1e-35?ir=-.040407946567398226:e[158]>1e-35?ir=.027239009428531448:ir=-.002118967070037752;let Ot;e[174]>1e-35?Ot=-.02339144841300339:e[173]>1e-35?Ot=-.02466576607302462:e[60]>1e-35?Ot=-.014400177078045:e[187]>1e-35?Ot=-.009580909976967153:e[6]>8.681774988134558?Ot=-.0018832004566674773:e[1]>1e-35?e[42]>1e-35?e[10]>1e-35?Ot=-.13287881120130746:Ot=-.03759084751116859:e[25]>1e-35?Ot=-.029737667621816583:e[119]>1e-35?Ot=.022639692376110337:e[98]>1e-35?Ot=.014991063146855506:e[195]>1e-35?e[6]>3.417592293073651?Ot=.008961268500787772:Ot=-.023240187732927162:e[61]>1e-35?e[7]>.428769371249852?Ot=-.08413653233956772:Ot=.0010489731231787087:e[140]>1e-35?e[3]>.8958797346140276?e[5]>4.855921334140645?e[44]>1e-35?Ot=-.009299863216357543:Ot=-.0613782065666655:Ot=-.06705655672927394:e[5]>3.772694874805912?Ot=.0008635593500817348:Ot=.08361268069705163:Ot=.001087642897550713:e[98]>1e-35?Ot=-.021712258264119783:e[3]>.8958797346140276?e[105]>1e-35?Ot=-.039681509263849626:e[195]>1e-35?e[18]>1e-35?Ot=-.07079074829049314:Ot=-.008109353986158243:e[210]>1e-35?e[18]>1e-35?Ot=-.10610285355896108:Ot=-.009292320249100847:e[157]>1e-35?Ot=.03507595269407085:e[97]>1e-35?Ot=.0249669535461336:e[48]>1e-35?Ot=-.027595291123779366:Ot=.0011643902717306173:Ot=-.0211420439263067;let vt;e[138]>1e-35?e[1]>1e-35?e[42]>1e-35?e[3]>3.5114340430413216?vt=-.022448598781455772:vt=-.07031164685918086:e[2]>1e-35?e[2]>2.740319461670996?vt=.00894455632762117:vt=-.003454709734759444:e[0]>1e-35?vt=.060858110677215166:vt=-.03435493609374257:e[3]>2.602003343538398?e[2]>.8958797346140276?vt=.0168978378983998:vt=-.009237748165804088:vt=-.016931758267026403:e[3]>4.424828703319957?vt=-.005659352703826067:e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?vt=-.023722482692479133:vt=.10064484300766507:e[6]>4.03420147928485?vt=.007526717802235146:e[209]>1e-35?e[4]>2.970085626360216?vt=.11711852031495243:vt=-.15067622815741855:vt=-.011085192149895408:e[108]>1e-35?vt=.0059255171206349135:e[19]>1e-35?e[156]>1e-35?vt=.04454460743043898:e[37]>1e-35?vt=-.14161163738926447:e[4]>1.4978661367769956?e[4]>1.7005986908310777?e[217]>1e-35?vt=-.020705364221039385:vt=.006460529078997639:e[0]>1e-35?e[98]>1e-35?vt=.10347448218504114:vt=-.04090123141769794:e[6]>5.636572136251498?vt=-.001212671493834005:e[2]>1.8688348091416842?vt=-.15821279618670178:vt=-.03563734739460456:vt=.027924859655082585:e[57]>1e-35?vt=-.03743904649648422:e[35]>1e-35?vt=-.0414066369468363:e[46]>1e-35?vt=-.011240341460759123:vt=-.0003091959047563666;let ar;e[14]>1e-35?e[5]>7.841296344941067?e[141]>1e-35?ar=-.04382809259971909:e[217]>1e-35?e[4]>3.417592293073651?ar=-.05008164665262682:ar=.0007032387608254502:e[190]>1e-35?ar=-.19371592847895003:ar=.0017489801221668277:e[129]>1e-35?ar=-.24591656603456258:ar=.011026730387591234:e[72]>1e-35?ar=.05658163433406649:e[90]>1e-35?e[4]>3.5114340430413216?ar=.017141361021852975:e[28]>1e-35?ar=.07243997319099477:ar=-.08677988948169385:e[138]>1e-35?ar=.0038201430289573884:e[23]>1e-35?e[4]>2.917405368531303?ar=.014990462643385919:ar=-.013592080985068531:e[217]>1e-35?e[4]>1.8688348091416842?ar=.0022421195021632245:e[4]>1.2424533248940002?ar=.03891295508085918:e[4]>.8958797346140276?ar=-.08902318396862074:ar=.02476911275463073:e[2]>3.1132683346437333?e[29]>1e-35?e[19]>1e-35?ar=.023731839695418987:e[5]>7.366761104104307?e[4]>3.417592293073651?e[6]>6.633975895571033?e[8]>1e-35?ar=.016171629088047517:e[134]>1e-35?ar=.03196373735768742:ar=-.006820341969572339:ar=-.02712238491085242:ar=-.016309188486296804:ar=-.0019386576944297078:e[156]>1e-35?ar=-.03079416196682616:e[123]>1e-35?ar=-.020888866054988395:e[4]>3.238486181444842?ar=-.0027078359220281674:e[141]>1e-35?ar=-.029581214969996845:ar=.002299670778244013:ar=.0001804027795430786;let Po=Oct(t+r+n+i+s+a+l+c+u+f+m+h+p+A+x+E+v+b+S+B+D+F+W+ee+de+X+G+U+ie+z+H+M+j+Z+ae+ne+le+fe+Re+Ee+Oe+Be+Je+at+Xe+st+oe+Pe+Ae+We+Y+re+Ne+Se+Ce+Ue+Ve+et+yt+Rt+At+Vt+$t+nr+ge+Le+Ke+rt+St+Et+Lt+Mt+Tt+_t+wt+Ut+Wt+zt+lr+hr+sr+cr+Zt+ur+ve+O+me+ye+K+L+Ie+Me+Ct+qt+Ft+tr+ir+Ot+vt+ar);return[1-Po,Po]}o(mve,"treeScore");function Oct(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(Oct,"sigmoid");var Vu=class{static{o(this,"ContextualFilterManager")}constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};function hve(e){let t=e.split(`
`);return t[t.length-1].length}o(hve,"getLastLineLength");function pve(e,t,r){let n=e.get(Vu),i=n.previousLabel,s=0;"afterCursorWhitespace"in t.properties&&t.properties.afterCursorWhitespace==="true"&&(s=1);let a=(Date.now()-n.previousLabelTimestamp)/1e3,l=Math.log(1+a),c=0,u=0,f=r.prefix;if(f){c=Math.log(1+hve(f));let B=f.slice(-1);qc[B]!==void 0&&(u=qc[B])}let m=0,h=0,p=f.trimEnd();if(p){m=Math.log(1+hve(p));let B=p.slice(-1);qc[B]!==void 0&&(h=qc[B])}let A=0;if("documentLength"in t.measurements){let B=t.measurements.documentLength;A=Math.log(1+B)}let x=0;if("promptEndPos"in t.measurements){let B=t.measurements.promptEndPos;x=Math.log(1+B)}let E=0;if("promptEndPos"in t.measurements&&"documentLength"in t.measurements){let B=t.measurements.documentLength;E=(t.measurements.promptEndPos+.5)/(1+B)}let v=0;Eee[t.properties.languageId]!==void 0&&(v=Eee[t.properties.languageId]);let b=0,S=new Array(221).fill(0);return S[0]=i,S[1]=s,S[2]=l,S[3]=c,S[4]=m,S[5]=A,S[6]=x,S[7]=E,S[8+v]=1,S[29+u]=1,S[125+h]=1,b=mve(S)[1],e.get(Vu).probabilityAccept=b,b}o(pve,"contextualFilterScore");d();d();d();var bQ=class{static{o(this,"Debouncer")}async debounce(t){return this.state&&(clearTimeout(this.state.timer),this.state.reject(),this.state=void 0),new Promise((r,n)=>{this.state={timer:setTimeout(()=>r(),t),reject:n}})}};d();d();var Ew=class{constructor(t){this.node=t;this.children=[];this.collapsed=!1}static{o(this,"StatementNode")}addChild(t){t.parent=this,t.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=t),this.children.push(t)}childrenFinished(){}containsStatement(t){return this.node.startIndex<=t.node.startIndex&&this.node.endIndex>=t.node.endIndex}statementAt(t){if(this.node.startIndex>t||this.node.endIndex<t)return;let r;return this.children.find(n=>(r=n.statementAt(t),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(t="",r=""){let n=[`${t}${this.description}`];return this.children.forEach(i=>{n.push(i.dump(`${r}+- `,i.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(t="",r="",n=!1){if(this.parent){let i=this.parent.dumpPath(t,r,!0),s=i.length-i.lastIndexOf(`
`)-1-r.length,a=" ".repeat(s),l=n?`
${r}${a}+- `:"";return i+this.description+l}else{let i=n?`
${r}+- `:"";return t+this.description+i}}},R1=class{constructor(t,r,n,i){this.languageId=t;this.text=r;this.startOffset=n;this.endOffset=i;this.statements=[]}static{o(this,"StatementTree")}static isSupported(t){return yw.languageIds.has(t)||Cw.languageIds.has(t)||xw.languageIds.has(t)}static create(t,r,n,i){if(yw.languageIds.has(t))return new yw(t,r,n,i);if(Cw.languageIds.has(t))return new Cw(t,r,n,i);if(xw.languageIds.has(t))return new xw(t,r,n,i);throw new Error(`Unsupported languageId: ${t}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(t){let r;return this.statements.find(n=>(r=n.statementAt(t),r!==void 0)),r}async build(){let t=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(i=>{let s=this.createNode(i.node);for(;t.length>0&&!t[0].containsStatement(s);)t.shift()?.childrenFinished();t.length>0?t[0].addChild(s):this.addStatement(s),t.unshift(s)}),t.forEach(i=>i.childrenFinished())}addStatement(t){t.parent=void 0,t.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=t),this.statements.push(t)}async parse(){return this.tree||(this.tree=await b1(this.languageId,this.text)),this.tree}getStatementQuery(t){return this.getQuery(t.getLanguage(),this.getStatementQueryText())}getQuery(t,r){return t.query(r)}offsetToPosition(t){let r=this.text.slice(0,t).split(`
`),n=r.length-1,i=r[r.length-1].length;return{row:n,column:i}}dump(t=""){let r=[];return this.statements.forEach((n,i)=>{let s=`[${i}]`,a=" ".repeat(s.length);r.push(n.dump(`${t} ${s} `,`${t} ${a} `))}),r.join(`
`)}},bee=class e extends Ew{static{o(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},yw=class extends R1{static{o(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(t){return new bee(t)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},vee=class e extends Ew{static{o(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},Cw=class extends R1{static{o(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(t){return new vee(t)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},Iee=class e extends Ew{static{o(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},xw=class extends R1{static{o(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(t){return new Iee(t)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}};var D1=class{constructor(t,r,n){this.languageId=t;this.prefix=r;this.completion=n}static{o(this,"BlockTrimmer")}static isSupported(t){return R1.isSupported(t)}async withParsedStatementTree(t){var n=[];try{let r=p$(n,R1.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await t(r)}catch(i){var s=i,a=!0}finally{g$(n,s,a)}}trimmedCompletion(t){return t===void 0?this.completion:this.completion.substring(0,t)}getStatementAtCursor(t){return t.statementAt(Math.max(this.prefix.length-1,0))??t.statements[0]}getContainingBlockOffset(t){let r;if(t&&this.isCompoundStatement(t))r=t;else if(t){let n=t.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(t){if(!t||!t.nextSibling)return!1;let r=this.asCompletionOffset(t.node.endIndex),n=this.asCompletionOffset(t.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(t){return t===void 0?void 0:t-this.prefix.length}isCompoundStatement(t){return t.isCompoundStatementType||t.children.length>0}},vQ=class extends D1{constructor(r,n,i,s=10){super(r,n,i);this.lineLimit=s;let a=[...this.completion.matchAll(/\n/g)];a.length>=this.lineLimit&&this.lineLimit>0?this.offsetLimit=a[this.lineLimit-1].index:this.offsetLimit=void 0}static{o(this,"VerboseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=this.getStatementAtCursor(r),i=this.getContainingBlockOffset(n);return this.isWithinLimit(i)||(i=this.trimToBlankLine(i)),this.isWithinLimit(i)||(i=this.trimToStatement(n,i)),i})}isWithinLimit(r){return this.offsetLimit===void 0||r!==void 0&&r<=this.offsetLimit}trimToBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)].reverse();for(;n.length>0&&!this.isWithinLimit(r);)r=n.pop().index;return r}trimToStatement(r,n){let i=this.prefix.length,s=this.prefix.length+(this.offsetLimit??this.completion.length),a=r,l=r?.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a);)a=l,l=l.nextSibling;return a&&a===r&&a.node.endIndex<=i&&(a=l),a&&a.node.endIndex>s?this.trimToStatement(a.children[0],this.asCompletionOffset(a.node.endIndex)):this.asCompletionOffset(a?.node?.endIndex)??n}},IQ=class extends D1{constructor(r,n,i,s=3,a=7){super(r,n,i);this.lineLimit=s;this.lookAhead=a;let l=[...this.completion.matchAll(/\n/g)],c=this.lineLimit+this.lookAhead;l.length>=this.lineLimit&&this.lineLimit>0&&(this.limitOffset=l[this.lineLimit-1].index),l.length>=c&&c>0&&(this.lookAheadOffset=l[c-1].index)}static{o(this,"TerseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=r.statementAt(this.stmtStartPos()),i=this.getContainingBlockOffset(n);return i=this.trimAtFirstBlankLine(i),n&&(i=this.trimAtStatementChange(n,i)),this.limitOffset&&this.lookAheadOffset&&(i===void 0||i>this.lookAheadOffset)?this.limitOffset:i})}stmtStartPos(){let r=this.completion.match(/\S/);return r&&r.index!==void 0?this.prefix.length+r.index:Math.max(this.prefix.length-1,0)}trimAtFirstBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)];for(;n.length>0&&(r===void 0||r>n[0].index);){let i=n.shift();if(this.completion.substring(0,i.index).trim()!=="")return i.index}return r}trimAtStatementChange(r,n){let i=this.prefix.length,s=this.prefix.length+(n??this.completion.length);if(r.node.endIndex>i&&this.isCompoundStatement(r))return r.nextSibling&&r.node.endIndex<s?this.asCompletionOffset(r.node.endIndex):n;let a=r,l=r.nextSibling;for(;l&&l.node.endIndex<=s&&!this.hasNonStatementContentAfter(a)&&!this.isCompoundStatement(l);)a=l,l=l.nextSibling;return l&&a.node.endIndex>i&&a.node.endIndex<s?this.asCompletionOffset(a.node.endIndex):n}};async function gve(e,t){var l=[];try{let r=e.getText();let n=e.offsetAt(t);let i=p$(l,R1.create(e.detectedLanguageId,r,0,r.length));await i.build();let s=i.statementAt(n);if(!s)return"non-block";if(!s.isCompoundStatementType&&s.children.length===0)return s.parent&&!s.nextSibling&&s.node.endPosition.row<=t.line?"block-end":s.parent?"mid-block":"non-block";if(s.children.length===0)return"empty-block";let a=s.children[s.children.length-1];if(n<a.node.startIndex)return"mid-block";return"block-end"}catch(c){var u=c,f=!0}finally{g$(l,u,f)}}o(gve,"getBlockPositionType");d();d();function Ave(e){let t;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>427.50000000000006?e[9]>13.500000000000002?e[121]>1e-35?t=-.3793786744885956:e[149]>1e-35?t=-.34717430705356905:t=-.26126834451035963:t=-.2431318366096852:e[5]>888.5000000000001?t=-.20600463586387135:t=-.2568037008471491:e[308]>1e-35?t=-.2363064824497454:e[8]>370.50000000000006?t=-.37470755210284723:t=-.321978453730494:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?t=-.26259136509758885:t=-.3096719634039438:e[4]>30.500000000000004?e[9]>18.500000000000004?t=-.34254903852890883:e[2]>98.50000000000001?t=-.41585250791146294:t=-.3673574858887241:e[9]>6.500000000000001?t=-.31688079287876225:e[31]>1e-35?t=-.29110977864003823:e[308]>1e-35?t=-.3201411739040839:t=-.36874023066055506:e[8]>691.5000000000001?e[82]>1e-35?t=-.41318393149040566:e[133]>1e-35?t=-.3741272613525161:e[32]>1e-35?t=-.4112378041027121:e[227]>1e-35?t=-.37726615155719356:e[10]>3.5000000000000004?t=-.3164502293560397:t=-.2930071546509045:e[9]>13.500000000000002?t=-.277366858539218:e[308]>1e-35?e[4]>10.500000000000002?t=-.30975610686807187:e[4]>1.5000000000000002?t=-.2549142136728043:t=-.3271325650785176:e[127]>1e-35?e[0]>1937.5000000000002?t=-.2533046188098832:t=-.325520883579:t=-.331628896481776;let r;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?e[9]>13.500000000000002?r=.031231253521808708:r=.05380836288014532:e[5]>423.00000000000006?e[8]>114.50000000000001?r=.06751619128429062:r=.09625089153176467:r=.027268163053989804:e[308]>1e-35?r=.060174483556283756:r=-.049062854038919135:e[3]>24.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?r=-.03969241799174589:r=.01086816842550381:e[31]>1e-35?r=-.003284694817583201:e[9]>6.500000000000001?e[4]>30.500000000000004?r=-.04224490699947552:r=-.011834162944360616:e[308]>1e-35?e[32]>1e-35?r=-.13448447971850278:r=-.019569456707046823:e[19]>1e-35?e[9]>1.5000000000000002?r=-.07256260662659254:e[4]>60.50000000000001?r=-.08227503453609311:r=-.020596416747563847:r=-.07396549241564149:e[8]>691.5000000000001?e[82]>1e-35?r=-.10046536995362734:e[133]>1e-35?r=-.06407649822752297:e[225]>1e-35?r=.08035785003303324:e[92]>1e-35?r=.018901360933204676:e[20]>1e-35?r=.05252546973665552:e[8]>2592.5000000000005?r=-.040543705016462955:r=-.011236043818320725:e[9]>17.500000000000004?r=.025560632674895334:e[308]>1e-35?e[0]>1847.5000000000002?r=.03527165701669741:r=-.0071847350825815035:e[127]>1e-35?r=.024373016379595405:e[9]>2.5000000000000004?r=-.0035090719709448288:r=-.03514829488063766;let n;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?n=.03848674861536988:e[5]>423.00000000000006?e[8]>114.50000000000001?e[9]>56.50000000000001?n=-.003764520033319488:n=.06570817919969299:e[4]>61.50000000000001?n=.028346156293069538:n=.0908154644362606:n=.02445594243234816:e[308]>1e-35?e[8]>65.50000000000001?n=.0019305229020073053:n=.09279357295883772:n=-.04458984161917124:e[3]>24.500000000000004?e[23]>1e-35?n=.0027405390271277013:e[4]>29.500000000000004?e[52]>1e-35?n=.044727478132905285:e[115]>1e-35?n=.10245804828855934:e[9]>17.500000000000004?n=-.03353173647469207:e[2]>98.50000000000001?n=-.10048106638102179:n=-.05484231104348874:e[31]>1e-35?n=.016807537467116516:e[9]>6.500000000000001?n=-.012113620535295137:e[4]>8.500000000000002?e[308]>1e-35?n=-.01882594250504289:n=-.05585658862796076:n=.04279591277938338:e[8]>691.5000000000001?e[82]>1e-35?n=-.09262278043707878:e[133]>1e-35?n=-.058454257768893625:e[32]>1e-35?n=-.09769348447126434:e[25]>1e-35?n=-.0725430043727677:e[122]>1e-35?n=-.10047841601578077:n=-.00580671054458958:e[9]>13.500000000000002?n=.021399199032818294:e[308]>1e-35?e[4]>10.500000000000002?n=-.0076376731757173515:n=.03394923033036848:e[127]>1e-35?n=.02070489091204209:n=-.02290162726126496;let i;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?i=.010230295672324606:i=.038540509248742805:e[8]>125.50000000000001?e[1]>49.50000000000001?i=.03086356292895467:i=.057128750867458604:e[5]>888.5000000000001?i=.07861602941396924:i=.030523262699070908:e[308]>1e-35?i=.048236117667577356:e[8]>370.50000000000006?i=-.05642125069212264:i=-.007232836777168195:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?i=.03640661467213915:i=-.005889820723907028:e[31]>1e-35?i=-.0009007166998276938:e[9]>6.500000000000001?i=-.022590340093882378:e[308]>1e-35?e[32]>1e-35?i=-.1215445089091064:i=-.01435612266219722:e[19]>1e-35?e[9]>1.5000000000000002?i=-.061555513040777825:e[4]>60.50000000000001?i=-.07053475504569347:i=-.013733369453963092:i=-.06302097189114152:e[227]>1e-35?i=-.05820440333190048:e[8]>683.5000000000001?e[82]>1e-35?i=-.08466979526809346:e[10]>24.500000000000004?i=-.017092159721119944:e[92]>1e-35?i=.03592901452463749:i=-.00359310519524756:e[5]>1809.5000000000002?e[243]>1e-35?i=-.03963116207386097:e[118]>1e-35?i=-.09483996283536394:e[217]>1e-35?i=-.03394542089519989:e[242]>1e-35?i=-.07985899422287938:i=.019706602160656964:e[9]>12.500000000000002?i=.014072998937735146:i=-.021156294523894684;let s;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?s=.009197756540516563:s=.03458896869535166:e[5]>5082.500000000001?s=.08265545468131008:e[131]>1e-35?s=.0740738432473315:s=.045159136632942756:e[8]>319.50000000000006?s=-.04653401534465376:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?s=-.011400839766681709:s=.11149800187510031:s=-.08683250977599462:s=.08355310136724753:e[4]>23.500000000000004?e[23]>1e-35?e[131]>1e-35?s=.040389083779932555:s=-.009887614274108602:e[52]>1e-35?s=.03705353499757327:e[9]>6.500000000000001?s=-.025401260429257562:e[2]>98.50000000000001?s=-.09237673187534504:s=-.04298556869281803:e[222]>1e-35?s=-.045221965895986184:e[8]>691.5000000000001?e[133]>1e-35?s=-.05435318330148897:e[128]>1e-35?s=-.08672907303184191:e[227]>1e-35?s=-.05568304584186561:e[122]>1e-35?s=-.09623059693538563:e[225]>1e-35?s=.07558331642202279:e[82]>1e-35?s=-.07360566227233566:s=-.005646164647395919:e[242]>1e-35?s=-.08203758341228108:e[9]>13.500000000000002?s=.018726123829696042:e[308]>1e-35?e[4]>10.500000000000002?s=-.011153942154062704:s=.03132858912391067:e[127]>1e-35?s=.021455228822345174:e[23]>1e-35?s=.01959966745346997:s=-.021764790177579325;let a;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>284.50000000000006?e[121]>1e-35?e[18]>1e-35?a=.07547602514276922:a=-.08529678832140396:a=.030314822344598043:e[5]>888.5000000000001?e[4]>61.50000000000001?a=.011143589009415464:a=.0654700456802118:a=.021794712646632755:e[308]>1e-35?a=.04231872551095028:a=-.034381999950549455:e[4]>23.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?a=-.03678981254332261:a=.010518160384496255:e[8]>825.5000000000001?a=-.04506534842082387:e[9]>38.50000000000001?a=.01004983052203438:a=-.030580958620701027:e[39]>1e-35?a=-.12802435021505382:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>6.500000000000001?a=.030426957004611704:a=-.0726407693060581:a=.017395521646964375:e[4]>7.500000000000001?e[0]>93.50000000000001?e[9]>7.500000000000001?a=-.008024349629981291:e[31]>1e-35?a=.01296539930850471:e[308]>1e-35?a=-.012855016509024084:a=-.04564527976851505:a=-.15681420504058596:e[10]>4.500000000000001?e[243]>1e-35?a=-.1012064426380198:a=-.0062808850924854194:a=.030706323726162416:e[9]>13.500000000000002?a=.017081636133736405:e[308]>1e-35?e[4]>10.500000000000002?a=-.009306613091760644:e[4]>1.5000000000000002?a=.03655523200850989:a=-.02671654212893341:e[127]>1e-35?a=.019261510468604387:a=-.017627818570628936;let l;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[308]>1e-35?l=.036100405995889276:l=.011709313297015793:e[0]>119.50000000000001?e[8]>125.50000000000001?l=.03622542297472574:l=.05595579157301536:l=-.02234751038146796:e[8]>319.50000000000006?l=-.040132029478400735:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?l=-.009306153573847916:l=.10058509567064988:l=-.0785668890966017:e[9]>28.500000000000004?l=-.04781977604130416:l=.09753292614937459:e[4]>23.500000000000004?e[131]>1e-35?l=.02372493254975127:e[148]>1e-35?l=.028103095989516644:e[4]>58.50000000000001?e[10]>1e-35?l=-.05000852203469597:l=.02922366846119705:e[23]>1e-35?l=-.0026335076988151292:l=-.03073993752935585:e[222]>1e-35?l=-.03867374428185713:e[32]>1e-35?l=-.07220729365053084:e[39]>1e-35?l=-.11624524614351733:e[8]>691.5000000000001?e[133]>1e-35?l=-.04836360271198036:e[8]>4968.500000000001?l=-.10873681915578029:e[149]>1e-35?l=-.11847484033769298:e[122]>1e-35?l=-.08916172460307559:e[82]>1e-35?l=-.06774726602152634:l=-.0033469147714351327:e[126]>1e-35?l=-.09474445392080015:e[8]>131.50000000000003?e[118]>1e-35?l=-.09002547031023511:l=.015475385187009489:e[25]>1e-35?l=-.08175501232759151:l=-.000429679055394914;let c;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?c=.021942996005324917:c=.042349138084484074:e[308]>1e-35?c=.036507270845732874:c=-.028981850556764995:e[3]>24.500000000000004?e[23]>1e-35?c=.00210930790963475:e[31]>1e-35?c=.006825358293027163:e[9]>6.500000000000001?c=-.013772084269062394:e[308]>1e-35?c=-.008307929099892574:e[19]>1e-35?c=-.027706313312904487:c=-.04891108984170914:e[134]>1e-35?c=-.0605730733844732:e[25]>1e-35?c=-.05347926493253117:e[227]>1e-35?c=-.049415829249003666:e[32]>1e-35?c=-.06807799662179595:e[308]>1e-35?e[4]>10.500000000000002?e[2]>13.500000000000002?c=-.00016302718260794637:c=-.10247095758122947:e[210]>1e-35?c=-.022149002072787024:e[95]>1e-35?c=.15222631630626304:c=.027393884520465712:e[9]>7.500000000000001?e[225]>1e-35?c=.13483346577752245:e[3]>9.500000000000002?e[243]>1e-35?c=-.045352728133789516:e[8]>683.5000000000001?c=.00474372227519902:c=.02635476098707525:e[92]>1e-35?c=.05659380819933452:e[105]>1e-35?c=.07431443210341222:e[186]>1e-35?c=.0915821133384904:c=-.016414750130401053:e[127]>1e-35?c=.011824693641866162:e[23]>1e-35?c=.0228468674288774:e[284]>1e-35?c=.06606936863302432:c=-.02872463273902358;let u;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>125.50000000000001?e[288]>1e-35?u=-.019844363904157558:e[1]>50.50000000000001?e[131]>1e-35?u=.044961338592245194:u=.003659599513761676:e[121]>1e-35?u=-.04057103630479994:u=.03158560697078578:e[0]>421.50000000000006?e[4]>61.50000000000001?u=-.0003708603406529278:u=.05331312264472391:u=.0006575958601218936:e[8]>319.50000000000006?u=-.034654694051901545:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?u=-.0076053515916517005:u=.09116695486305336:u=-.07137458699162028:u=.06633130654035282:e[4]>29.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?u=-.0308520802187302:u=.013156423968295541:e[115]>1e-35?u=.11581171687488252:e[52]>1e-35?e[10]>22.500000000000004?u=.12264179915175587:u=-.021905727233873535:e[8]>799.5000000000001?u=-.04181869575935412:u=-.023695901673350575:e[222]>1e-35?u=-.034612899265371776:e[8]>691.5000000000001?e[9]>98.50000000000001?u=-.06892116536821917:e[149]>1e-35?u=-.11194586444154514:e[133]>1e-35?u=-.04269583234000504:e[128]>1e-35?u=-.0644631966969502:e[8]>4968.500000000001?u=-.09650726096330133:u=-.004219129180139438:e[126]>1e-35?u=-.08038306745347751:e[5]>1809.5000000000002?u=.009265335288169993:e[9]>2.5000000000000004?u=.006447645462117438:u=-.021047132609551503;let f;e[13]>1e-35?e[3]>1.5000000000000002?e[9]>21.500000000000004?e[121]>1e-35?f=-.08436540015142402:e[8]>1861.5000000000002?f=-.01621425699342421:f=.01878613821895428:f=.031052879158242532:e[8]>319.50000000000006?f=-.031536619360997865:e[7]>3.5000000000000004?f=-.004510586962343298:f=.0596524941011746:e[4]>18.500000000000004?e[23]>1e-35?f=.004757490541310808:e[9]>6.500000000000001?f=-.008842393772207996:e[31]>1e-35?f=.0010536183837006993:e[308]>1e-35?f=-.008145882815435419:e[2]>98.50000000000001?f=-.08404937622173021:e[276]>1e-35?f=.0020072791321856663:e[19]>1e-35?f=-.023031820639490178:f=-.04553314326377875:e[8]>2134.5000000000005?f=-.02244583113572251:e[134]>1e-35?f=-.05592137394753121:e[308]>1e-35?e[49]>1e-35?f=.09989109704064947:e[4]>10.500000000000002?e[2]>13.500000000000002?f=-.00447733056482096:f=-.10191061664873849:f=.021765308380331864:e[9]>7.500000000000001?e[118]>1e-35?f=-.07570059131536411:e[243]>1e-35?f=-.040983393346598646:e[3]>9.500000000000002?f=.014763759061483812:e[92]>1e-35?f=.05136368898963024:f=-.008162398981149495:e[127]>1e-35?f=.013999119696708346:e[23]>1e-35?e[20]>1e-35?f=.14138985500120907:f=.008668274102844162:e[284]>1e-35?f=.06356484011042893:f=-.024781304572706303;let m;e[13]>1e-35?e[3]>8.500000000000002?e[8]>892.5000000000001?e[0]>384.50000000000006?m=.014387526569215037:e[8]>2266.5000000000005?m=-.1397298649743087:m=.007953931014097788:e[0]>119.50000000000001?e[4]>61.50000000000001?m=.0029819092211896296:e[218]>1e-35?m=.08450459375645737:m=.031646488019280654:m=-.03544960151460596:e[9]>9.500000000000002?m=-.026002317735915183:e[7]>1.5000000000000002?m=.005074258810794793:m=.0745247650477651:e[4]>29.500000000000004?e[131]>1e-35?m=.023269218675640847:e[148]>1e-35?m=.03812942399144545:e[115]>1e-35?m=.10512283476967227:m=-.02607307479736138:e[227]>1e-35?m=-.036576708299046294:e[101]>1e-35?m=.027948683650881864:e[149]>1e-35?m=-.08195628451594297:e[50]>1e-35?m=-.16997544922278504:e[8]>691.5000000000001?e[9]>101.50000000000001?m=-.06860333850762075:e[225]>1e-35?m=.06066641950951723:e[10]>22.500000000000004?e[1]>29.500000000000004?e[127]>1e-35?m=.028599705845427533:m=-.010746719511640914:e[0]>4877.500000000001?m=-.07251187886096228:m=-.021299712241446785:e[118]>1e-35?m=-.11902023760964736:m=15874469526809387e-21:e[8]>267.50000000000006?m=.01317292185402293:e[148]>1e-35?e[9]>20.500000000000004?m=.09614842415142123:m=.006049073167176467:e[189]>1e-35?m=.05562696451900713:m=-.006257541923837303;let h;e[13]>1e-35?e[9]>14.500000000000002?e[2]>11.500000000000002?e[1]>71.50000000000001?e[8]>1252.5000000000002?h=-.10069846585436666:h=-.010577995535809317:e[146]>1e-35?h=-.008877238274428668:e[280]>1e-35?h=.10076055897012692:e[6]>70.50000000000001?h=-.020603523042565547:e[7]>1.5000000000000002?h=.02819095420813202:h=-.1223354167911277:h=-.025073583348334844:e[8]>416.50000000000006?h=.01718560189149466:e[230]>1e-35?h=.12281803224342265:h=.03281276971308565:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?h=-.13070568109867683:e[4]>63.50000000000001?h=-.027221825262496814:h=.01530862490082352:e[9]>6.500000000000001?e[5]>4320.500000000001?e[2]>31.500000000000004?h=-.00605574271293711:h=.04739407327741249:h=-.012537528620315956:e[31]>1e-35?e[20]>1e-35?h=.1252215087035768:h=.003905888677601057:e[52]>1e-35?h=.045466299731038815:e[2]>100.50000000000001?h=-.07815624550168065:e[308]>1e-35?h=-.007715815250508057:e[276]>1e-35?e[9]>1.5000000000000002?h=-.03538265083203445:e[18]>1e-35?h=.1591211669800727:h=.015151475408241136:e[8]>557.5000000000001?h=-.04225569725456342:h=-.022455546324243267:e[308]>1e-35?h=.01325441736085826:e[197]>1e-35?h=.03752194600682512:e[225]>1e-35?h=.06583712394533976:h=-.005205289866839043;let p;e[13]>1e-35?e[9]>21.500000000000004?e[2]>12.500000000000002?p=.010264022580774884:p=-.02335958814489217:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?p=-.0936747137352166:e[0]>384.50000000000006?p=.019846244507320695:p=-.0751102554077272:p=-.026885329334203723:e[0]>966.5000000000001?e[10]>48.50000000000001?p=.11654906890054273:p=.0346250587613322:e[4]>39.50000000000001?p=-.08568002378645614:e[9]>16.500000000000004?p=-.12010535752923689:p=.021321923389033808:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?p=-.12056431231412057:e[131]>1e-35?p=.03652965550568472:p=.002563006128791669:e[9]>6.500000000000001?e[30]>1e-35?p=-.10141481732178981:p=-.003936457893178248:e[31]>1e-35?p=.008215898756249477:e[52]>1e-35?e[0]>4188.500000000001?p=.12972828769588213:p=-.003137412232297087:e[2]>100.50000000000001?p=-.0730872929087944:e[308]>1e-35?p=-.006958622747243333:e[35]>1e-35?e[0]>3707.5000000000005?p=.07934620723812878:p=-.018598568353702116:p=-.030635505446410763:e[128]>1e-35?p=-.06962290453843294:e[84]>1e-35?p=-.15290337844960322:e[308]>1e-35?e[8]>2543.5000000000005?p=-.034938657503885584:p=.016339322898966915:e[197]>1e-35?p=.03358907965870046:e[18]>1e-35?p=-.01754013791515288:p=-.0004944586067698557;let A;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?A=.005888790687820524:A=.0429676533834978:e[2]>7.500000000000001?e[0]>119.50000000000001?e[6]>79.50000000000001?A=-.0224319889201976:e[212]>1e-35?A=.06249587051783863:e[8]>963.5000000000001?e[8]>1156.5000000000002?A=.010357273289123324:A=-.029749145161304082:e[218]>1e-35?A=.06449336340743606:A=.018047654539345502:A=-.07350502390293116:A=-.019594829995832414:e[4]>39.50000000000001?A=-.019338083179859314:e[39]>1e-35?A=-.10427066919173111:e[222]>1e-35?e[0]>612.5000000000001?A=-.019197415255018464:A=-.0836562507048181:e[149]>1e-35?A=-.07679624472577429:e[32]>1e-35?A=-.05097506748590604:e[191]>1e-35?A=.04670476485250936:e[30]>1e-35?A=-.05313073892148652:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>8.500000000000002?A=.03930363008271334:A=-.06029171685615689:A=.016203086182431294:e[4]>7.500000000000001?A=-.013824248237085224:e[10]>4.500000000000001?e[94]>1e-35?A=-.09817668643367765:e[10]>40.50000000000001?A=-.023558078753593125:A=.0065113494780482326:e[8]>809.5000000000001?e[297]>1e-35?A=-.1352063548573715:A=.058203900441270634:A=-.035243959159285736:e[10]>59.50000000000001?e[1]>43.50000000000001?A=-.012552876807800442:A=.05991247777734298:A=.0035893102109330177;let x;e[13]>1e-35?e[9]>21.500000000000004?e[145]>1e-35?x=.03507251990078782:e[2]>14.500000000000002?x=.004905698363309292:e[8]>2421.5000000000005?x=-.10306119951984316:x=-.018951037816654928:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?x=-.08503171085833393:x=.015130974593044409:x=-.024425267075198206:x=.02624054905103126:e[4]>19.500000000000004?e[131]>1e-35?x=.02100191580704534:e[32]>1e-35?e[8]>2302.5000000000005?x=.09908783187786288:x=-.06920877329925636:e[8]>241.50000000000003?x=-.016756131804203496:e[9]>33.50000000000001?x=.04903179955263626:e[217]>1e-35?x=-.047416847619291644:x=-.0017200891991431119:e[39]>1e-35?x=-.10389927604977028:e[134]>1e-35?x=-.050480365434872866:e[178]>1e-35?x=-.05167855791556937:e[8]>2134.5000000000005?x=-.01663197335585307:e[242]>1e-35?x=-.05361323756615453:e[118]>1e-35?x=-.05299780866211368:e[10]>24.500000000000004?e[10]>55.50000000000001?e[8]>764.5000000000001?x=-.0016544848369620534:x=.04494144460483587:x=-.009283616456736156:e[121]>1e-35?e[0]>4463.500000000001?x=.051166688553608355:x=-.06623908820705383:e[84]>1e-35?x=-.12990936092409747:e[306]>1e-35?x=-.07020596855118943:e[49]>1e-35?x=.06272964802556856:e[192]>1e-35?x=.06540204627162581:x=.008277910531592885;let E;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?E=.003325460510319164:E=.037153108286272905:e[2]>12.500000000000002?e[1]>124.50000000000001?E=-.09880713344892134:e[7]>60.50000000000001?e[10]>71.50000000000001?E=.0697359767152808:e[230]>1e-35?E=.06513506845651572:E=-.02826625276613455:e[5]>246.50000000000003?e[8]>95.50000000000001?E=.013616385013146277:E=.04171540100223404:E=-.04360396575094823:e[212]>1e-35?E=.025945477945627522:E=-.019793208261535442:e[4]>39.50000000000001?e[25]>1e-35?E=-.07856453318384411:E=-.014803893522351739:e[39]>1e-35?E=-.09185452630751932:e[149]>1e-35?E=-.07122426086157027:e[134]>1e-35?E=-.04231052091434186:e[227]>1e-35?E=-.029815824273994197:e[50]>1e-35?E=-.15736496271211153:e[222]>1e-35?E=-.02360285356956629:e[128]>1e-35?E=-.03922080193836443:e[136]>1e-35?E=-.07219685327698587:e[10]>24.500000000000004?e[1]>8.500000000000002?E=-.0029736170756835783:E=-.06482902102259112:e[84]>1e-35?E=-.11340924635708383:e[94]>1e-35?E=-.03635703457792193:e[118]>1e-35?E=-.058181913914186034:e[126]>1e-35?E=-.062030576241517366:e[116]>1e-35?E=-.045086301850604006:e[25]>1e-35?E=-.031665223656767286:e[203]>1e-35?E=-.009444685731407691:E=.0112265153772187;let v;e[13]>1e-35?e[1]>64.50000000000001?e[9]>14.500000000000002?e[9]>54.50000000000001?v=.022717227245241684:v=-.049700413274686266:v=.007175776918589741:e[5]>50.50000000000001?e[8]>61.50000000000001?e[21]>1e-35?v=-.07927556792063156:e[3]>8.500000000000002?e[4]>23.500000000000004?e[281]>1e-35?v=-.12263724050601095:v=.0070743478891288035:e[288]>1e-35?v=-.050439138582109:v=.0255701593657891:v=-.005812703740580558:e[6]>49.50000000000001?v=-.008542694147899113:v=.035147383686665:v=-.0960461939274094:e[32]>1e-35?v=-.04555453745517765:e[222]>1e-35?e[0]>612.5000000000001?v=-.01800870272656664:v=-.07817304234604389:e[30]>1e-35?v=-.05227061750368981:e[25]>1e-35?e[0]>4449.500000000001?e[217]>1e-35?v=.08778416018479411:v=-.026563982720830256:v=-.05296139548112329:e[50]>1e-35?v=-.14926464875852247:e[8]>779.5000000000001?e[133]>1e-35?v=-.036572140520852024:e[183]>1e-35?v=-.10766853736801459:v=-.003966794968701808:e[217]>1e-35?e[5]>5237.500000000001?v=.09513215942486053:v=-.03641865277445567:e[10]>59.50000000000001?v=.03177172388687933:e[39]>1e-35?v=-.10234241303898953:e[243]>1e-35?v=-.02966738115984321:e[190]>1e-35?v=-.04312785336449181:e[118]>1e-35?v=-.05808521194081524:v=.006720381600740378;let b;e[308]>1e-35?e[5]>423.00000000000006?e[133]>1e-35?b=-.046284053681928526:e[210]>1e-35?b=49778070699847876e-21:e[13]>1e-35?b=.03328070054739309:e[128]>1e-35?b=-.054790214922938896:e[126]>1e-35?b=-.08524792218532945:b=.014414055975542446:e[1]>38.50000000000001?b=-.07287851335872973:b=.005263371501687163:e[9]>7.500000000000001?e[21]>1e-35?e[10]>4.500000000000001?b=-.12459748864088374:b=-.004626323021331593:e[298]>1e-35?e[4]>64.50000000000001?b=.13044981041138526:e[9]>71.50000000000001?b=-.056068402282406865:e[9]>12.500000000000002?b=.038957722962512764:b=-.04598815982492169:e[8]>691.5000000000001?e[126]>1e-35?b=-.0852126122372075:e[225]>1e-35?b=.10082066771689505:e[1]>161.50000000000003?b=-.11609832500613824:e[3]>8.500000000000002?e[8]>1685.5000000000002?b=-.010835400874777133:b=.004607419973807752:b=-.016989075258564062:b=.009205417251698097:e[23]>1e-35?e[20]>1e-35?b=.10184317139657878:e[0]>5724.500000000001?b=-.1163666496650542:e[1]>106.50000000000001?b=.1303850608190687:e[129]>1e-35?b=.10745031509534769:b=.006166901738036226:e[31]>1e-35?b=.010177092833155127:e[13]>1e-35?e[0]>213.50000000000003?b=.005004582564506611:b=-.10481581731668346:e[19]>1e-35?b=-.009850706427306281:b=-.02608226348051303;let S;e[13]>1e-35?e[1]>64.50000000000001?e[2]>4.500000000000001?S=-.0024117174588695603:S=-.058339700513831916:e[212]>1e-35?e[0]>2215.5000000000005?e[8]>847.5000000000001?e[10]>21.500000000000004?e[1]>39.50000000000001?S=.04575380761203418:S=-.10025595041353463:e[15]>1e-35?S=.17705790384964004:S=.0073813837628615014:S=.07676373681392407:S=-.027167992693885996:e[3]>11.500000000000002?e[280]>1e-35?S=.07078572910026419:e[4]>23.500000000000004?S=.005513918674164821:S=.0206586476926392:e[0]>5269.500000000001?S=.07706773525822633:S=-.010233826953776122:e[148]>1e-35?e[8]>1622.5000000000002?S=-.03204783603215824:S=.027405418223981973:e[4]>14.500000000000002?e[131]>1e-35?e[9]>1.5000000000000002?e[0]>5026.500000000001?S=-.0930246911392012:S=.011173087289703683:e[3]>24.500000000000004?S=.03281421918878597:S=.12449335091369843:e[204]>1e-35?S=.06634531187326123:S=-.011522999669353388:e[92]>1e-35?e[10]>42.50000000000001?S=-.041196758517013515:e[4]>7.500000000000001?S=-2942718111029724e-20:e[4]>6.500000000000001?S=.11953909558532852:S=.03188615019450534:e[122]>1e-35?S=-.0616037324662157:e[101]>1e-35?S=.027230889593349412:e[8]>4968.500000000001?S=-.1113986516540856:e[3]>2.5000000000000004?S=-.002045140426885727:e[129]>1e-35?S=.12641163374304432:S=.014909826232873194;let B;e[308]>1e-35?e[0]>7277.500000000001?B=-.09337446795435:e[5]>423.00000000000006?e[133]>1e-35?B=-.040884836258675006:e[210]>1e-35?B=-.0003719413278428804:e[13]>1e-35?B=.030287610160818174:B=.011174130013595384:e[1]>38.50000000000001?B=-.0662442170185784:B=.004332185707008564:e[9]>7.500000000000001?e[145]>1e-35?e[285]>1e-35?B=-.08092286307197555:B=.029866363328584986:e[21]>1e-35?e[10]>4.500000000000001?B=-.1155211149523894:B=-.0032903546638958538:e[149]>1e-35?B=-.03632198993199768:e[3]>9.500000000000002?e[8]>999.5000000000001?B=-.003507023626534306:e[128]>1e-35?e[4]>13.500000000000002?e[0]>3459.5000000000005?B=-.025416927789760076:B=.02777568919793122:B=-.10310351509769732:B=.013549608903688785:e[186]>1e-35?B=.08513865847420551:B=-.009306721292510369:e[31]>1e-35?B=.009780833952582307:e[23]>1e-35?B=.011143773934157629:e[210]>1e-35?B=.025354797285173356:e[17]>1e-35?e[10]>3.5000000000000004?B=-.04846287537743046:B=-.014647271080376757:e[2]>5.500000000000001?e[7]>57.50000000000001?B=-.034224938681445764:e[8]>1641.5000000000002?B=-.027298372075800673:e[191]>1e-35?e[10]>18.500000000000004?B=-.027950103994861836:B=.14575930827829034:B=-.007124740389354946:e[10]>22.500000000000004?B=.013173304107866726:B=-.11119620042551365;let D;e[131]>1e-35?D=.01892225243240137:e[308]>1e-35?e[5]>691.5000000000001?e[133]>1e-35?D=-.037118314390013646:e[1]>51.50000000000001?e[5]>3749.5000000000005?e[8]>58.50000000000001?D=-.022305242912035072:D=.024792895826340516:D=.013666137278072166:e[88]>1e-35?e[10]>27.500000000000004?D=.2080083584805785:D=.04247197078083379:e[10]>40.50000000000001?e[18]>1e-35?e[1]>27.500000000000004?D=.060783227455868206:D=-.056904865557409035:D=-.03278952553107572:e[192]>1e-35?D=.13117402617043625:D=.01647119888257836:D=-.01825870445636398:e[9]>6.500000000000001?e[298]>1e-35?D=.026536210945939682:e[8]>691.5000000000001?e[126]>1e-35?D=-.07927319604548912:e[10]>3.5000000000000004?e[21]>1e-35?D=-.11083976837572328:e[146]>1e-35?D=-.03359294484446772:D=-.0042815953591236475:e[190]>1e-35?D=-.09264239592903775:e[10]>1e-35?D=.022282638485105657:D=-.0205994057928458:e[5]>4918.500000000001?D=.03430715695199153:e[243]>1e-35?e[2]>57.50000000000001?D=.08935072241972036:D=-.03781647876237494:D=.0062655753179671515:e[31]>1e-35?D=.008603500300349887:e[230]>1e-35?D=.03350056932774173:e[23]>1e-35?e[241]>1e-35?D=.10277555508503314:D=.0017901817172993888:e[2]>98.50000000000001?D=-.05920081229672715:D=-.015722173275739208;let F;e[13]>1e-35?e[118]>1e-35?F=.07957905150112207:e[1]>125.50000000000001?F=-.0662620579858685:e[145]>1e-35?F=.029682040828779843:e[19]>1e-35?e[6]>15.500000000000002?F=-.0009597832580977798:F=-.081474760755753:e[212]>1e-35?F=.03637001492325179:F=.006912305498963309:e[32]>1e-35?F=-.03919900630910754:e[134]>1e-35?F=-.036225295529777886:e[4]>4.500000000000001?e[5]>384.50000000000006?e[204]>1e-35?F=.06671440854602108:e[136]>1e-35?F=-.07577364230133474:e[148]>1e-35?e[4]>7.500000000000001?F=.026430947016830915:F=-.04075501264495112:e[9]>93.50000000000001?F=-.04353169430417609:e[50]>1e-35?F=-.1411224537622882:e[17]>1e-35?e[49]>1e-35?F=.068392679163672:e[10]>1.5000000000000002?F=-.0209659792007492:F=-.0004393235559249831:e[133]>1e-35?e[9]>64.50000000000001?F=.07254524592323175:F=-.0319087835282534:F=.00037444813327793425:F=-.025138768151370408:e[243]>1e-35?F=-.050010891710502096:e[94]>1e-35?F=-.0817513550778599:e[122]>1e-35?F=-.061038875809822285:e[19]>1e-35?e[8]>1085.5000000000002?F=-.008408408775061623:e[2]>5.500000000000001?e[218]>1e-35?F=.1454877641381946:F=.053787998331240316:e[9]>33.50000000000001?F=.08602629796680285:F=-.03895127455803038:F=.008830878042315722;let W;e[131]>1e-35?W=.01687979707990516:e[8]>2915.5000000000005?e[297]>1e-35?W=.07473600489975568:e[0]>93.50000000000001?W=-.021596848506011502:W=-.13840802327735696:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?W=.10264284346448256:W=.031042487183181262:W=-.016653982936827776:e[4]>60.50000000000001?e[10]>75.50000000000001?W=.04226403420647408:e[10]>1e-35?e[0]>4733.500000000001?W=.006271403149804702:W=-.030013637555715046:e[0]>4449.500000000001?W=-.06556876058654929:W=.06437994816903034:e[32]>1e-35?W=-.043814577251655815:e[308]>1e-35?e[0]>7277.500000000001?W=-.09349726304052086:e[210]>1e-35?W=-.0035960132209098003:e[5]>691.5000000000001?e[133]>1e-35?W=-.029188394315052574:W=.017219308333820193:W=-.017378928852189585:e[9]>6.500000000000001?e[0]>2653.5000000000005?e[149]>1e-35?W=-.04428555753857688:W=.0001456106867817353:e[5]>213.50000000000003?W=.01740292726636365:W=-.011361718115556464:e[7]>4.500000000000001?e[0]>316.50000000000006?e[19]>1e-35?e[10]>54.50000000000001?W=.03410288911259329:e[121]>1e-35?W=-.06056527462120627:e[8]>2592.5000000000005?W=.12166808844363577:e[191]>1e-35?W=.11669879218998758:W=-.001664858391716235:W=-.01262927450503166:W=-.04506589951879664:e[227]>1e-35?W=-.08548904959752329:W=.02156080776537726;let ee;e[306]>1e-35?e[149]>1e-35?ee=-.1389218965136736:ee=-.032218642644416894:e[13]>1e-35?ee=.006465035217331847:e[50]>1e-35?ee=-.1381687930130022:e[179]>1e-35?ee=-.13112784985951215:e[148]>1e-35?e[8]>1726.5000000000002?ee=-.03262719498763048:ee=.023342916702125613:e[191]>1e-35?ee=.030005484947580197:e[4]>4.500000000000001?e[204]>1e-35?ee=.047767773119269434:e[136]>1e-35?e[0]>1937.5000000000002?ee=-.09989343595668776:ee=.06533942033334243:e[15]>1e-35?e[9]>86.50000000000001?ee=-.10577989354150097:e[8]>668.5000000000001?e[126]>1e-35?ee=-.09165257825246746:e[9]>32.50000000000001?ee=.02484870392366004:ee=-.008499493096971395:e[8]>24.500000000000004?ee=.02459679192828244:ee=-.010527978013140512:e[25]>1e-35?e[217]>1e-35?ee=.0015644546318714849:ee=-.06579524865022705:ee=-.0060233890975120614:e[122]>1e-35?e[1]>36.50000000000001?ee=.03331853632960164:ee=-.09482264761126993:e[19]>1e-35?e[8]>1430.5000000000002?ee=-.019091477207111116:ee=.037878468575478504:e[94]>1e-35?ee=-.08013082284576584:e[4]>2.5000000000000004?e[186]>1e-35?ee=.16919658785098224:e[243]>1e-35?ee=-.06580584936754524:ee=.01567555159935563:e[129]>1e-35?ee=.06721746994993226:e[10]>32.50000000000001?ee=-.046394462507797975:ee=-.006436180519584767;let de;e[131]>1e-35?de=.015039096856208693:e[8]>779.5000000000001?e[145]>1e-35?de=.019122095523977856:e[298]>1e-35?de=.023828936462317443:e[1]>23.500000000000004?e[5]>384.50000000000006?e[7]>59.50000000000001?de=-.026094309429557913:e[204]>1e-35?de=.09163404305658318:e[1]>27.500000000000004?e[149]>1e-35?e[6]>34.50000000000001?de=.012643810980689466:de=-.07884161741497837:de=-.0025267379810891104:e[2]>43.50000000000001?e[0]>2860.5000000000005?de=.04493082949897325:de=.18046359750455776:e[7]>18.500000000000004?de=-.018667348656891496:de=.02584325784698236:de=-.045696524897545915:e[0]>3321.5000000000005?e[201]>1e-35?de=.04749240016989375:de=-.0333334578246718:e[5]>3276.5000000000005?de=.11330554740098908:e[7]>94.50000000000001?de=.1296600395033268:de=-.003576436308940934:e[15]>1e-35?e[183]>1e-35?de=-.13787130789142835:e[0]>1847.5000000000002?de=.017915229729920556:e[10]>23.500000000000004?e[10]>31.500000000000004?e[6]>7.500000000000001?de=.028856848462727104:de=-.11197632885851168:de=.08169801342016791:e[1]>22.500000000000004?de=-.021052888644970163:de=.019048604298876753:e[7]>4.500000000000001?de=-.002603328695276418:e[7]>1.5000000000000002?e[2]>5.500000000000001?de=.03432638833359197:de=-.0036767863082454973:e[1]>48.50000000000001?de=.03087375270128195:e[2]>3.5000000000000004?de=-.04219917149740248:de=.018818493993207935;let X;e[306]>1e-35?X=-.04076858123502297:e[13]>1e-35?e[1]>67.50000000000001?e[9]>14.500000000000002?e[9]>53.50000000000001?e[8]>1971.5000000000002?X=-.09091897542577475:X=.04042943082645558:e[218]>1e-35?X=.056254985867151:X=-.053848117950183044:X=.003881630017086845:e[5]>5152.500000000001?e[8]>857.5000000000001?e[6]>28.500000000000004?X=.021581808008986944:X=-.05639286496176611:X=.052838875036198954:e[5]>50.50000000000001?e[5]>4082.5000000000005?e[17]>1e-35?X=.023061479860228728:e[145]>1e-35?e[9]>10.500000000000002?X=.023885302967553288:X=.1617794086125622:e[212]>1e-35?X=.04504545345658806:e[3]>17.500000000000004?e[4]>45.50000000000001?X=-.03948072448245435:e[1]>47.50000000000001?e[9]>18.500000000000004?X=.01894935813286188:X=-.06449356357429188:X=.012297239104320094:e[1]>26.500000000000004?e[8]>33.50000000000001?X=-.034718828212885515:X=.0898976288814321:e[1]>17.500000000000004?X=-.15440137451988326:X=-.03864183216821465:X=.009988507307006308:X=-.08540311947043305:e[50]>1e-35?X=-.13323659732101975:e[134]>1e-35?X=-.031820386486894385:e[32]>1e-35?e[8]>2302.5000000000005?X=.08082476177379844:X=-.041665761903645876:e[179]>1e-35?X=-.12405023987936657:e[39]>1e-35?X=-.06247416524997478:e[138]>1e-35?X=-.10724031753676487:X=-.0005423122305122404;let G;e[308]>1e-35?G=.006160742906729798:e[190]>1e-35?e[0]>2461.5000000000005?e[10]>22.500000000000004?G=.023223358334607133:G=-.04383410185346742:G=-.08542395045055405:e[297]>1e-35?e[8]>51.50000000000001?e[1]>13.500000000000002?G=.023406489302867494:G=-.085521220804058:G=-.02921899554854833:e[298]>1e-35?e[9]>12.500000000000002?G=.028120059780969632:G=-.04211009474298743:e[294]>1e-35?G=-.05040415676618239:e[86]>1e-35?e[1]>36.50000000000001?G=-.0993035220737934:G=-.0005384930611060366:e[230]>1e-35?e[4]>6.500000000000001?G=.029770210551187937:G=-.016272917551655715:e[4]>60.50000000000001?e[280]>1e-35?G=.06421359317599738:G=-.01963732469244167:e[218]>1e-35?e[3]>3.5000000000000004?G=.024368404612215164:G=-.04045232374803373:e[131]>1e-35?G=.017372701982485795:e[120]>1e-35?G=.08812710275150198:e[18]>1e-35?e[90]>1e-35?G=.18451364351180236:e[7]>33.50000000000001?G=-.03850813130183531:e[195]>1e-35?G=.06966114053446336:e[3]>16.500000000000004?G=-.0012869181693341211:e[0]>4242.500000000001?G=-.054625548611291035:G=-.014431095117473881:e[5]>4558.500000000001?e[8]>1.5000000000000002?G=.006302103427145562:G=.13967622319898698:e[121]>1e-35?G=-.038798585213145644:e[5]>4544.500000000001?G=-.08050498033009466:G=-.002986974112681435;let U;e[0]>384.50000000000006?e[2]>101.50000000000001?e[1]>16.500000000000004?U=-.03461119351456781:U=.05659026566680352:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?U=-.12404435523286539:U=-.0034376913880382956:U=-.09821622245095822:e[131]>1e-35?e[9]>1.5000000000000002?U=.0037507103585310234:U=.03610387965829944:e[8]>999.5000000000001?e[9]>137.50000000000003?U=-.11985021663179699:e[0]>1847.5000000000002?e[126]>1e-35?U=-.04832024079663151:e[37]>1e-35?U=-.037103393468366934:U=-.004248086592531705:e[8]>3084.0000000000005?e[9]>43.50000000000001?U=.032539071163832034:e[5]>1643.5000000000002?U=.036408625378035665:e[0]>1500.5000000000002?U=-.1346358322854993:U=-.027586559522081014:e[3]>1e-35?e[190]>1e-35?U=-.1133991164577881:e[9]>52.50000000000001?U=-.024478640359723122:U=.03673777861098756:U=-.1037451237591819:e[230]>1e-35?e[9]>48.50000000000001?e[10]>20.500000000000004?U=.002583438691776944:U=.10773520810108106:e[9]>12.500000000000002?e[1]>16.500000000000004?U=-.02141222346712401:U=.06392462314316179:e[4]>12.500000000000002?U=.08700122294434816:e[8]>267.50000000000006?U=.056923170082743224:U=-.07716309825583327:e[32]>1e-35?U=-.03961343943752142:U=.002674914122888783:e[1]>42.50000000000001?U=-.05217539654421676:e[145]>1e-35?U=.09553630282946368:U=-.009424791262477729;let ie;e[183]>1e-35?ie=-.05753337139158443:e[308]>1e-35?ie=.00562436671450989:e[9]>7.500000000000001?e[21]>1e-35?e[10]>8.500000000000002?ie=-.10477869875380448:ie=-.0070301869937306055:e[3]>9.500000000000002?e[8]>1765.5000000000002?e[0]>4571.500000000001?ie=-.12526505173232894:e[10]>1e-35?e[9]>71.50000000000001?ie=-.04442302951713574:ie=.00012409888451734224:ie=-.092199119633697:e[225]>1e-35?ie=.13773072450201831:e[0]>2882.5000000000005?ie=.0028540012229920533:e[298]>1e-35?ie=.07134486044361629:ie=.014297412329837425:e[145]>1e-35?ie=.05608385321902638:e[92]>1e-35?ie=.038298413603926135:e[107]>1e-35?e[2]>6.500000000000001?ie=-.0039957800609801315:ie=.0776927564241081:e[203]>1e-35?ie=-.05502900859432093:e[105]>1e-35?ie=.06062892720841595:ie=-.009574839629252128:e[31]>1e-35?ie=.009488858841144216:e[23]>1e-35?e[20]>1e-35?ie=.08818126313644752:e[8]>161.50000000000003?ie=.014353968957885408:ie=-.022240738532827903:e[210]>1e-35?ie=.024648862719806694:e[2]>5.500000000000001?e[4]>4.500000000000001?e[17]>1e-35?e[10]>16.500000000000004?ie=-.043902062079383485:ie=-.014741559220396223:ie=-.00934935734853194:e[6]>32.50000000000001?ie=.1514593126307404:ie=.010771222510801532:e[10]>22.500000000000004?ie=.01412495209334078:ie=-.08576940379502533;let z;e[0]>384.50000000000006?e[84]>1e-35?z=-.06647690967306838:e[2]>101.50000000000001?z=-.024451334501552457:e[306]>1e-35?z=-.034517188927733505:e[131]>1e-35?e[9]>1.5000000000000002?z=.0031858381443673127:z=.032574927024450646:e[204]>1e-35?e[1]>62.50000000000001?z=-.08601340441214533:e[1]>29.500000000000004?z=.10487598629539963:e[8]>597.5000000000001?z=-.0786529133673238:z=.08689436600511559:e[8]>779.5000000000001?e[10]>2.5000000000000004?e[9]>100.50000000000001?z=-.04883600353740688:e[126]>1e-35?z=-.03794042763348827:z=-.003358871967539988:e[210]>1e-35?z=.054991356498447566:e[6]>19.500000000000004?z=-.007418396981635549:z=.018032606049498613:e[18]>1e-35?e[7]>35.50000000000001?e[2]>44.50000000000001?z=-.02143003429501711:z=-.09016000554055564:e[1]>19.500000000000004?e[1]>42.50000000000001?e[8]>17.500000000000004?z=-.006636355416244082:z=-.06483095743431454:e[4]>21.500000000000004?z=-.028975965946833545:z=.022012264796522657:z=-.06653648243193663:e[5]>4593.500000000001?z=.01753551428088607:e[217]>1e-35?z=-.028864824937700297:e[94]>1e-35?z=-.04885192273020658:e[279]>1e-35?z=.08105715462329498:e[121]>1e-35?z=-.04576676034750651:z=.004795141324949362:e[1]>42.50000000000001?z=-.047446619702809195:e[145]>1e-35?z=.08400495571952321:z=-.00854528836489364;let H;e[294]>1e-35?H=-.042529778074638265:e[266]>1e-35?H=-.1180276669679798:e[134]>1e-35?H=-.026818144353279623:e[183]>1e-35?H=-.05120747503479363:e[227]>1e-35?e[8]>1641.5000000000002?H=-.07265906898294434:e[4]>12.500000000000002?e[17]>1e-35?H=-.027516137530797014:e[0]>4331.500000000001?e[1]>64.50000000000001?H=-.03049646619610203:e[1]>50.50000000000001?H=.20634590755061122:H=.06956378103625731:e[0]>3770.5000000000005?H=-.07946414366134913:e[19]>1e-35?H=.17083312065604694:e[2]>21.500000000000004?H=-.02327981978127724:H=.129717297518715:e[145]>1e-35?H=.006891245076133524:H=-.0789123467863741:e[3]>99.50000000000001?H=-.02022281202803071:e[302]>1e-35?e[10]>47.50000000000001?H=.06447639919732716:H=-.05457561977645972:e[306]>1e-35?H=-.029995903305383882:e[191]>1e-35?H=.030596508110850414:e[242]>1e-35?H=-.024085578702020216:e[8]>3198.5000000000005?e[297]>1e-35?H=.09518584795377832:H=-.018197744600833596:e[13]>1e-35?H=.006751790086127549:e[148]>1e-35?H=.01904174573618417:e[99]>1e-35?H=.025287735102561926:e[4]>14.500000000000002?H=-.004364337681643273:e[1]>15.500000000000002?e[35]>1e-35?H=-.09467943982430241:e[243]>1e-35?H=-.02521824751996268:H=.005437570718352172:H=-.022476214821960674;let M;e[0]>384.50000000000006?e[84]>1e-35?M=-.06088131453064195:e[147]>1e-35?M=-.05332792965930566:e[135]>1e-35?e[9]>32.50000000000001?M=.04219361472548491:M=-.07227529211725771:e[10]>4.500000000000001?e[21]>1e-35?M=-.0787279848043689:e[17]>1e-35?e[3]>18.500000000000004?e[188]>1e-35?M=-.054347604504400286:e[0]>3544.5000000000005?e[0]>5850.500000000001?M=-.11431764534511478:M=.013549717238356157:M=-.020987333767091276:e[6]>2.5000000000000004?M=-.02914877855133127:M=.08483464900160231:e[8]>58.50000000000001?e[183]>1e-35?M=-.10087072787978416:e[37]>1e-35?M=-.030467397753331196:e[229]>1e-35?M=-.1017559811057469:e[4]>20.500000000000004?M=-.00413177742240167:e[20]>1e-35?M=.05213315982685969:M=.0037921635866823133:e[8]>51.50000000000001?M=.07327913092421544:e[6]>49.50000000000001?M=-.03457694284156811:e[6]>18.500000000000004?e[7]>17.500000000000004?M=.02744420891894289:M=.11288946357194463:M=.003482908820966248:e[18]>1e-35?e[1]>20.500000000000004?e[7]>4.500000000000001?M=-.012329314369909049:M=.026816658655600168:M=-.0872405354618811:M=.007872673500247845:e[1]>42.50000000000001?M=-.04309044198258254:e[145]>1e-35?M=.07572529147860785:e[7]>5.500000000000001?M=-.013837187093264945:e[1]>17.500000000000004?M=.04208698439539668:M=-.06284346769019863;let j;e[294]>1e-35?j=-.0384794324818203:e[266]>1e-35?j=-.1087205883821061:e[32]>1e-35?e[8]>2302.5000000000005?j=.07432960094940501:j=-.035248735855751855:e[134]>1e-35?j=-.02456191365284949:e[121]>1e-35?e[0]>4720.500000000001?e[1]>39.50000000000001?j=-.01706896375068821:j=.08212247914968074:e[2]>59.50000000000001?j=-.09546478958824225:e[6]>53.50000000000001?j=.12317082897575611:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?j=.02816463285971267:j=.15449139016588445:j=-.10199787406123524:j=-.038068684323297096:e[223]>1e-35?e[8]>668.5000000000001?j=-.13924786681478077:j=-.0072772442570213335:e[39]>1e-35?j=-.05392786531177836:e[0]>93.50000000000001?e[40]>1e-35?j=-.054059371343144036:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?j=-.11174465335620831:j=.00013144040097180107:j=-.08493919336681105:e[42]>1e-35?j=-.11078582572836196:e[84]>1e-35?e[4]>17.500000000000004?j=-.015540659878839153:j=-.14442609417300142:e[21]>1e-35?j=-.025251979447574083:j=.0023698372645272847:e[18]>1e-35?j=.07269739695712212:e[8]>2592.5000000000005?j=-.1460388776448558:e[9]>30.500000000000004?e[1]>23.500000000000004?j=-.01835130329646532:e[9]>45.50000000000001?j=.02023047454629885:j=.16469378262221102:j=-.042975030085836426;let Z;e[8]>2915.5000000000005?e[297]>1e-35?Z=.06257393915394144:e[0]>93.50000000000001?e[4]>1.5000000000000002?Z=-.01034964686484714:Z=-.07357437440667927:Z=-.11987794734779106:e[298]>1e-35?e[8]>81.50000000000001?e[0]>3370.5000000000005?e[8]>155.50000000000003?e[8]>660.5000000000001?e[8]>2134.5000000000005?Z=-.09476398869062203:e[9]>72.50000000000001?Z=-.0757383854264379:Z=.02806542779508718:Z=-.05147742568418084:Z=.10212721564444344:Z=.0518263760642861:Z=-.08743405377022222:e[189]>1e-35?e[0]>5269.500000000001?Z=-.10669213185972036:Z=.027050434286384796:e[302]>1e-35?Z=-.0407832394672723:e[116]>1e-35?e[10]>38.50000000000001?Z=.06354599160071946:e[1]>67.50000000000001?Z=.05317447949011187:Z=-.059138165935307165:e[212]>1e-35?e[19]>1e-35?Z=-.09369289448773599:e[0]>2215.5000000000005?Z=.04077965380363924:e[0]>807.5000000000001?Z=-.0591771776458298:Z=.057315736906679376:e[308]>1e-35?e[1]>52.50000000000001?e[5]>3749.5000000000005?Z=-.016323380219241672:Z=.007291062979527741:e[210]>1e-35?e[8]>1641.5000000000002?Z=.03720704290087811:Z=-.008730548158766654:e[4]>80.50000000000001?Z=-.05346644687473197:Z=.014596824736762107:e[218]>1e-35?e[3]>3.5000000000000004?Z=.019984510398089086:Z=-.03917825025861855:e[9]>170.50000000000003?Z=-.09759719821334525:Z=-.0023586682752856298;let ae;e[183]>1e-35?e[17]>1e-35?ae=.030100940443356424:e[10]>1.5000000000000002?ae=-.10861112216742408:ae=.017680668976453255:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?ae=-.032062878390325456:ae=-.10808232631806887:e[8]>1641.5000000000002?ae=-.06147013392655731:e[4]>12.500000000000002?ae=.03324767551088266:e[145]>1e-35?ae=.028851633810612017:ae=-.054871239091792784:e[134]>1e-35?ae=-.023813968121342108:e[266]>1e-35?ae=-.10037039667146351:e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>1939.5000000000002?ae=-.055566877553100726:e[2]>24.500000000000004?e[8]>182.50000000000003?e[10]>43.50000000000001?e[10]>55.50000000000001?ae=-.025350325484720576:ae=.1579024598549572:e[9]>2.5000000000000004?e[0]>3746.5000000000005?ae=.056817276537534815:ae=-.07674158463557636:ae=-.06335553143454145:e[1]>56.50000000000001?ae=.16390494217299284:ae=-.0027330160430847177:e[10]>36.50000000000001?e[8]>1067.5000000000002?ae=.041717597065890205:ae=-.10357913492269129:e[10]>29.500000000000004?ae=.1365512866715726:ae=.020600048310575665:ae=.09708785634773187:ae=-.060427658852305666:e[126]>1e-35?e[10]>32.50000000000001?e[6]>24.500000000000004?e[8]>1146.5000000000002?ae=-.03146213719547347:ae=.11784024316238083:ae=-.050940520532045355:ae=-.047988344143075616:e[191]>1e-35?ae=.028764654731460032:ae=.0011911575567860023;let ne;e[294]>1e-35?e[10]>50.50000000000001?ne=-.11630092297244568:e[0]>2432.5000000000005?e[0]>4199.500000000001?ne=-.05103908560370243:ne=.05002066201169583:ne=-.09976646725732496:e[32]>1e-35?e[0]>4242.500000000001?ne=-.0648838712201258:e[5]>3721.5000000000005?e[9]>4.500000000000001?ne=.127983140816313:ne=-.05436534163636867:ne=-.024514536544596455:e[121]>1e-35?e[0]>4449.500000000001?e[4]>9.500000000000002?ne=-.009504203657088933:e[8]>819.5000000000001?ne=.18689664822602375:ne=.03635576744011826:ne=-.029862411809998525:e[223]>1e-35?ne=-.06474496692999487:e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?ne=-.09405026597863717:e[0]>4153.500000000001?ne=.053577663326799765:ne=-.05062127873995668:ne=.06512222894425874:e[39]>1e-35?ne=-.04985311717827547:e[51]>1e-35?ne=-.04541229517934797:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?ne=-.02860634573675884:ne=.08863753005590103:ne=.11158892111063744:e[0]>655.5000000000001?ne=-.031005736641654926:ne=-.1439827004505974:e[222]>1e-35?e[1]>11.500000000000002?e[0]>612.5000000000001?ne=-.00843386136334982:ne=-.05273594615999777:ne=.1060183822015004:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?ne=-.015774115523598486:ne=.10147367091236065:ne=-.048307000563071016:ne=.002118376117677254;let le;e[8]>1014.5000000000001?e[9]>137.50000000000003?le=-.10279096288817871:e[0]>93.50000000000001?e[8]>1067.5000000000002?e[227]>1e-35?le=-.03544332389470493:e[285]>1e-35?e[9]>64.50000000000001?le=.07211107542565391:le=-.041556776020476104:e[145]>1e-35?e[1]>66.50000000000001?le=-.0751486415451188:e[1]>59.50000000000001?le=.13459005084554104:le=.024184371850147466:e[0]>3072.5000000000005?e[95]>1e-35?le=.06715575425741895:le=-.005895690393702183:e[8]>2915.5000000000005?le=-.010205039411753762:e[9]>33.50000000000001?e[9]>47.50000000000001?le=-.00029068886245881074:le=.0613467393188786:e[148]>1e-35?le=-.06074463294936236:e[3]>1.5000000000000002?e[5]>1849.5000000000002?e[1]>15.500000000000002?le=.003887223773199377:le=-.08553893131979015:le=.025654192706396767:le=-.05651733979610658:le=-.02039913645229667:e[2]>7.500000000000001?le=-.1058450646728524:le=.02267192191610376:e[1]>120.50000000000001?e[2]>60.50000000000001?le=-.12304707569000428:e[1]>132.50000000000003?e[6]>41.50000000000001?le=.1283258201586378:le=-.01718135372229775:le=-.07702452408491414:e[125]>1e-35?le=-.0804612900572707:e[178]>1e-35?e[0]>4533.500000000001?le=.04273051857848212:le=-.04533122948101463:e[2]>196.50000000000003?le=-.10543331044088727:e[94]>1e-35?e[5]>4532.500000000001?le=.0231032972703664:le=-.04807386814498683:le=.002729435991332102;let fe;e[179]>1e-35?fe=-.08065315471211375:e[183]>1e-35?e[17]>1e-35?fe=.026484626664041125:e[10]>1.5000000000000002?fe=-.10187000872941615:fe=.015274190652133752:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?fe=.09574540795390041:fe=-.06454986703691233:fe=-.11411849349353141:e[266]>1e-35?fe=-.09281838517322076:e[32]>1e-35?e[8]>2302.5000000000005?fe=.06685250330182936:e[4]>67.50000000000001?e[2]>97.50000000000001?fe=-.04403391373512386:fe=.1132928075412222:e[2]>47.50000000000001?fe=-.09700191391838056:fe=-.02147184357182825:e[10]>4.500000000000001?e[21]>1e-35?fe=-.0735617817957859:e[17]>1e-35?e[3]>18.500000000000004?fe=-.001668912999010927:fe=-.02363511102970245:e[8]>58.50000000000001?fe=-.00035213368294640616:e[3]>17.500000000000004?e[2]>28.500000000000004?e[10]>23.500000000000004?e[1]>38.50000000000001?fe=.0911011436534449:e[1]>28.500000000000004?fe=-.07192390493729035:fe=.06913818091291246:fe=-.012312625373699222:fe=.06784496312307986:fe=-167756936027735e-19:e[18]>1e-35?e[8]>302.50000000000006?fe=.0026564453057705273:fe=-.025425772389361445:e[122]>1e-35?fe=-.12046786388602149:e[0]>3183.5000000000005?fe=.01162092842804907:e[91]>1e-35?fe=.07000265526928563:e[1]>22.500000000000004?e[0]>576.5000000000001?fe=-.0001647792543020228:fe=-.023664538532907665:fe=.01609078206180752;let Re;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4141.500000000001?Re=-.051473645433684705:e[0]>3030.5000000000005?e[1]>51.50000000000001?Re=-.017696526862422682:Re=.1450050954613223:Re=-.05406930069823832:Re=-.08308700260259043:e[120]>1e-35?Re=.058316269489189415:e[297]>1e-35?e[94]>1e-35?Re=-.07425512495167255:e[8]>51.50000000000001?e[1]>13.500000000000002?e[1]>33.50000000000001?e[19]>1e-35?e[0]>4498.500000000001?Re=.038431826961746934:Re=-.05937462906539856:e[9]>65.50000000000001?Re=.10814845712507865:e[4]>9.500000000000002?e[2]>22.500000000000004?e[1]>39.50000000000001?e[1]>44.50000000000001?e[10]>44.50000000000001?Re=.12297945639231944:e[0]>3796.5000000000005?e[4]>26.500000000000004?Re=-.09579030954062734:Re=.025064711572811746:Re=.02579440518821548:Re=.1044440128091862:Re=-.058348633139536844:Re=.07766788227934436:Re=-.01021229539092708:e[2]>2.5000000000000004?e[10]>29.500000000000004?e[0]>3770.5000000000005?e[0]>4438.500000000001?Re=.07463684068207214:Re=.18244269035484484:e[6]>39.50000000000001?Re=-.06050050067471004:Re=.05787759066913493:Re=.010783225857972171:Re=.1674891243602606:e[4]>9.500000000000002?Re=-.004814132027475892:Re=-.14543299413454813:Re=-.02935093398687923:e[116]>1e-35?e[9]>2.5000000000000004?e[8]>1218.5000000000002?Re=-.07634466313617769:Re=.0287825335169114:Re=-.06894721943300268:Re=-.00023988459059521937;let Ee;e[131]>1e-35?e[1]>93.50000000000001?Ee=-.05706887458825395:e[2]>1.5000000000000002?Ee=.011446637886629108:Ee=-.10616119878749211:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?Ee=.08424281276381033:e[3]>17.500000000000004?e[20]>1e-35?Ee=.11146885439601915:e[8]>61.50000000000001?e[0]>3530.5000000000005?e[9]>48.50000000000001?e[9]>61.50000000000001?Ee=.026278724448495064:Ee=.17053138400480508:e[0]>4463.500000000001?Ee=-.06482289890096041:Ee=.03026516489536295:Ee=-.031785170717683144:Ee=.1312690622980455:e[13]>1e-35?Ee=.14336922540461444:Ee=.03523850945454039:Ee=-.015407465968975714:e[39]>1e-35?Ee=-.054809635385158186:e[32]>1e-35?e[0]>4242.500000000001?Ee=-.0659975068798723:Ee=-.008386582621403979:e[4]>60.50000000000001?e[10]>75.50000000000001?e[3]>107.50000000000001?Ee=-.04225314193574262:e[3]>70.50000000000001?e[1]>29.500000000000004?Ee=.057409156184759516:Ee=.2024322059866388:Ee=-.030670938454461245:e[10]>1e-35?e[0]>4733.500000000001?Ee=.010648654146284154:e[308]>1e-35?Ee=.008728141696325391:e[4]>64.50000000000001?e[298]>1e-35?Ee=.12364025998551711:Ee=-.02247495081065243:e[1]>22.500000000000004?Ee=-.0726295464624251:Ee=.03481895086048152:e[0]>4331.500000000001?Ee=-.04775443357020673:Ee=.07172377425057568:e[2]>89.50000000000001?Ee=-.11782645274716962:Ee=.00010092665257989378;let Oe;e[147]>1e-35?Oe=-.041560228567115574:e[302]>1e-35?e[10]>47.50000000000001?Oe=.062292114082780084:e[10]>5.500000000000001?e[7]>22.500000000000004?Oe=-.016101990375700172:e[0]>2579.5000000000005?Oe=-.13045089661551845:Oe=-.02874367814784938:Oe=.025835149631944995:e[167]>1e-35?e[0]>3928.5000000000005?Oe=.17084176915326055:Oe=-.019195947948312853:e[222]>1e-35?e[30]>1e-35?e[1]>36.50000000000001?e[8]>45.50000000000001?e[8]>578.5000000000001?e[1]>67.50000000000001?Oe=.10591712319944074:Oe=-.024082167264285:Oe=.16497698867036126:Oe=-.04985066326861431:e[0]>1937.5000000000002?e[2]>16.500000000000004?Oe=-.021012910475524206:Oe=-.13058422554298485:e[0]>1102.5000000000002?Oe=.10955864175201457:Oe=-.03566689354348996:e[1]>11.500000000000002?Oe=-.02093884208606101:Oe=.09107244766183857:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?Oe=-.013861861436128482:Oe=.09756849802202777:e[224]>1e-35?e[1]>51.50000000000001?Oe=.10163873449625677:Oe=-.02779270277623805:e[1]>26.500000000000004?Oe=-.08035058228527389:Oe=.0005719695099064484:e[191]>1e-35?e[9]>9.500000000000002?Oe=-.007028075523033826:Oe=.0489470913925288:e[1]>61.50000000000001?e[132]>1e-35?Oe=.11230846723576784:e[0]>350.50000000000006?e[2]>1.5000000000000002?Oe=-.0032075580718124892:Oe=-.04442829143298883:Oe=-.06597073245775804:Oe=.0015594090939337751;let Be;e[223]>1e-35?e[8]>668.5000000000001?Be=-.12803889879260094:Be=.002171373740016862:e[121]>1e-35?e[0]>4720.500000000001?e[217]>1e-35?Be=.08967966612917375:e[1]>39.50000000000001?Be=-.059791671514498074:Be=.05648934961902822:e[2]>59.50000000000001?Be=-.08633234097449628:e[6]>53.50000000000001?Be=.11140345067444689:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?Be=.025606129643140924:Be=.13835395886271978:Be=-.09361630641448024:e[4]>7.500000000000001?e[1]>26.500000000000004?e[1]>49.50000000000001?Be=-.09975506556937946:e[10]>36.50000000000001?Be=-.09427724661655643:e[10]>24.500000000000004?Be=.07329330653410447:Be=-.02271182965807972:Be=-.09767874967639482:e[6]>13.500000000000002?e[10]>23.500000000000004?Be=-.05082091374050816:Be=.1687114435254966:e[0]>2314.5000000000005?Be=-.06422664016383926:Be=.0636688376664789:e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?Be=-.06857762517406195:e[9]>71.50000000000001?e[0]>4188.500000000001?Be=-.1274167728754332:Be=.01308079126447365:e[4]>73.50000000000001?Be=.13854015371106546:e[4]>48.50000000000001?Be=-.03684255740123261:e[6]>45.50000000000001?Be=.10329912215813097:e[10]>77.50000000000001?Be=-.08630788656925215:Be=.031022006843800853:e[1]>25.500000000000004?Be=-.08278381528048026:Be=.06664374548141594:e[84]>1e-35?Be=-.05624227409079396:Be=.00012184182357340415;let Je;e[179]>1e-35?Je=-.07443348719246982:e[40]>1e-35?e[0]>1937.5000000000002?Je=-.07595415373151816:Je=.054065040429292326:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[0]>1187.5000000000002?Je=.022822510448266862:Je=.17491569312933697:Je=-.058362287133533565:e[2]>2.5000000000000004?Je=-.03633895806364428:Je=.06397808186120692:e[8]>4968.500000000001?e[1]>31.500000000000004?Je=-.07294848747514579:Je=.025053613105805606:e[230]>1e-35?e[4]>6.500000000000001?e[107]>1e-35?Je=-.07009535282685533:e[8]>2640.0000000000005?Je=-.051761240111316276:e[131]>1e-35?Je=-.06245774419231631:Je=.03495606662854905:Je=-.013863522184803188:e[131]>1e-35?e[1]>93.50000000000001?e[1]>105.50000000000001?Je=.0015036626973581122:Je=-.12505706794835883:e[1]>48.50000000000001?e[276]>1e-35?Je=.10435171369790015:e[0]>5026.500000000001?e[0]>5308.500000000001?Je=.022343994371919224:Je=-.14087991797693533:e[8]>1323.5000000000002?e[10]>49.50000000000001?Je=.07724450228328664:e[0]>3853.5000000000005?Je=-.15671707454435677:e[10]>28.500000000000004?Je=-.10179090671841723:Je=.014878216919760927:Je=.03967665658164865:e[8]>2696.5000000000005?e[15]>1e-35?Je=.14054154485273487:Je=.01821247272493051:e[2]>5.500000000000001?e[2]>100.50000000000001?Je=-.08632985141410315:Je=.005524157938954954:Je=-.08802502622523681:Je=-.0004649168897260341;let at;e[86]>1e-35?e[8]>65.50000000000001?e[1]>32.50000000000001?e[4]>16.500000000000004?at=-.007458687464321174:at=-.09444966249102484:e[1]>23.500000000000004?at=.08564129697360716:at=-.07105002902845851:at=.05688756955238231:e[294]>1e-35?e[10]>50.50000000000001?at=-.10326216566705966:e[1]>26.500000000000004?at=.0050539832484585365:at=-.07080395606126953:e[306]>1e-35?e[149]>1e-35?at=-.10399433201474328:e[2]>14.500000000000002?e[9]>6.500000000000001?at=.05783632021087773:e[10]>17.500000000000004?at=-.06720598671764105:e[1]>47.50000000000001?at=.097495825172558:at=-.013372242800584872:at=-.06463226787713715:e[42]>1e-35?at=-.0885725817597767:e[204]>1e-35?e[1]>62.50000000000001?at=-.07496598696848249:e[1]>29.500000000000004?e[8]>446.50000000000006?at=.11051270080118503:at=.027719462817590454:e[8]>597.5000000000001?at=-.08441503592016869:at=.05534229430302502:e[223]>1e-35?e[8]>668.5000000000001?at=-.12190088985091102:at=-.0067442838156576345:e[148]>1e-35?e[9]>79.50000000000001?at=.09225972475904022:e[2]>10.500000000000002?e[1]>102.50000000000001?at=.11805676536334647:e[8]>1726.5000000000002?e[9]>10.500000000000002?at=.016585157185448045:at=-.11032043771149425:at=.01586986028570486:e[8]>388.50000000000006?at=-.10592413013261853:at=.04930703248769364:e[13]>1e-35?at=.003621937787920821:at=-.0013786331198611841;let Xe;e[145]>1e-35?e[1]>32.50000000000001?e[1]>38.50000000000001?e[10]>55.50000000000001?e[1]>54.50000000000001?Xe=.009769895322846493:Xe=-.10620052926943656:e[9]>19.500000000000004?Xe=.03781202525403449:e[9]>14.500000000000002?Xe=-.11485785321365344:e[9]>6.500000000000001?Xe=.07677177833073881:e[0]>4342.500000000001?Xe=-.07079285609687631:e[49]>1e-35?Xe=.06156814809246001:Xe=-.014788509042554625:Xe=-.032659201618470655:e[5]>5207.500000000001?Xe=-.09013500825185713:e[3]>10.500000000000002?e[8]>1787.5000000000002?Xe=-.03094160322187924:e[1]>29.500000000000004?Xe=.09474646043921069:Xe=.023445783928231618:Xe=.09342846694174194:e[0]>533.5000000000001?e[204]>1e-35?e[1]>62.50000000000001?Xe=-.07164443768784848:e[1]>29.500000000000004?Xe=.089473622509272:e[8]>597.5000000000001?Xe=-.08155349903101317:Xe=.07098423265024251:e[8]>691.5000000000001?e[5]>2252.5000000000005?Xe=-.004003900679358653:e[190]>1e-35?Xe=-.09236113461485262:e[8]>3198.5000000000005?Xe=-.0124130160451179:Xe=.018453070064009328:e[15]>1e-35?Xe=.012013209112857824:e[7]>4.500000000000001?e[7]>5.500000000000001?Xe=-.0009580759587680961:Xe=-.03227283036698222:Xe=.01369287669536875:e[1]>50.50000000000001?Xe=-.04213060332500437:e[35]>1e-35?Xe=-.11508095777767471:e[190]>1e-35?Xe=-.08611884672400155:e[297]>1e-35?Xe=.05723551879433584:Xe=-.004829340082311461;let st;e[183]>1e-35?st=-.037994150023203555:e[227]>1e-35?e[17]>1e-35?e[3]>20.500000000000004?e[10]>36.50000000000001?st=-.11753465135886734:st=-.007515490299047085:st=-.08576941990777916:e[8]>1641.5000000000002?e[10]>37.50000000000001?st=-.12371142493530439:e[1]>36.50000000000001?st=.032189417575190435:st=-.10339125953022954:e[3]>32.50000000000001?e[4]>27.500000000000004?e[1]>59.50000000000001?st=-.0784518658439288:e[2]>54.50000000000001?st=.12477882322370665:st=.000313468482399738:st=.12261955132611434:e[8]>81.50000000000001?e[23]>1e-35?st=.04969252946760318:e[8]>511.50000000000006?e[8]>1146.5000000000002?st=.0353146070135579:st=-.06327619611098285:st=.02813577701641991:st=-.12354390728506215:e[34]>1e-35?st=-.07664408516055397:e[3]>99.50000000000001?e[1]>16.500000000000004?e[1]>26.500000000000004?st=-.01245803535276381:st=-.07169472553475001:e[1]>11.500000000000002?st=.12989984824561698:st=-.01201544398886606:e[6]>91.50000000000001?e[1]>22.500000000000004?st=.010390226893521422:e[10]>14.500000000000002?st=.16790888126487719:st=.010614982228955577:e[4]>79.50000000000001?e[9]>44.50000000000001?e[0]>3853.5000000000005?st=-.043398307129729134:st=.09963544907820426:e[9]>30.500000000000004?st=-.13540713124984502:e[9]>17.500000000000004?st=.0509435850590757:st=-.04761897852404613:e[4]>78.50000000000001?st=.09197086656470652:st=.0006771050176682337;let oe;e[122]>1e-35?e[6]>36.50000000000001?oe=.05686884451670743:oe=-.05334759543084309:e[266]>1e-35?oe=-.08603579519816038:e[157]>1e-35?oe=-.06736746113382097:e[302]>1e-35?e[0]>2579.5000000000005?oe=-.0499592651503952:e[0]>725.5000000000001?oe=.11780353905132664:oe=-.05232097173108943:e[147]>1e-35?e[1]>53.50000000000001?oe=-.11398297342629615:e[0]>2604.5000000000005?e[0]>3629.5000000000005?oe=-.03190157229022304:oe=.07985197845805492:oe=-.0763078988943886:e[4]>41.50000000000001?e[280]>1e-35?oe=.05162933940904835:e[11]>1e-35?e[0]>460.50000000000006?oe=-.027174047777029083:oe=.057117284879796476:e[3]>43.50000000000001?oe=-.0016147040913107311:oe=-.05856597304613519:e[2]>45.50000000000001?e[0]>4663.500000000001?e[18]>1e-35?oe=-.04779247091640426:e[10]>25.500000000000004?e[9]>22.500000000000004?e[22]>1e-35?oe=-.01466076988151239:oe=.13375695925484857:oe=-.04885873081899647:e[0]>5566.500000000001?oe=.11086813028591343:e[8]>992.5000000000001?oe=-.07622304217072383:oe=.04316019272026325:e[10]>12.500000000000002?e[9]>36.50000000000001?e[9]>45.50000000000001?oe=.03285858361708423:oe=-.12354858211764992:oe=.0672788301823281:e[15]>1e-35?oe=.08658836986585006:oe=-.02741484278509758:e[290]>1e-35?oe=-.08161310335133287:e[135]>1e-35?oe=-.04824156054814152:oe=.0009156904299554183;let Pe;e[3]>7.500000000000001?Pe=.0006791852818377787:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Pe=.03642374718166293:Pe=.16379973756366603:Pe=-.03946685266127979:e[186]>1e-35?Pe=.07618896623420895:e[96]>1e-35?Pe=.0680272261319657:e[107]>1e-35?e[1]>48.50000000000001?Pe=-.022822371600847505:Pe=.0501405836324949:e[203]>1e-35?e[1]>77.50000000000001?Pe=.044416424920571296:Pe=-.0648450593196238:e[5]>3921.5000000000005?e[1]>110.50000000000001?Pe=-.11110466767595227:e[9]>5.500000000000001?e[9]>52.50000000000001?e[1]>50.50000000000001?Pe=.1061937286809567:e[7]>54.50000000000001?Pe=.11487507743121311:e[8]>819.5000000000001?Pe=-.07181278009001418:e[10]>25.500000000000004?Pe=.13499019430369633:e[1]>31.500000000000004?Pe=.09032979489780704:Pe=-.12754166393372374:e[9]>37.50000000000001?Pe=-.05093963635361407:Pe=-.005026651151683848:e[9]>2.5000000000000004?Pe=.07619735785573735:Pe=.012363301341532136:e[26]>1e-35?Pe=-.10685800454968203:e[8]>125.50000000000001?e[8]>446.50000000000006?e[0]>3842.5000000000005?Pe=-.08783796894105043:e[282]>1e-35?e[1]>47.50000000000001?e[9]>40.50000000000001?Pe=-.10764172927882483:Pe=.01890760098464703:Pe=.06573095405846417:e[8]>634.5000000000001?Pe=-.00783575973273707:Pe=-.050612689680229306:e[1]>22.500000000000004?Pe=-.0016842490401359626:Pe=.0738227088444087:Pe=-.02663970950432175;let Ae;e[31]>1e-35?e[8]>17.500000000000004?Ae=.013678038624884814:e[1]>35.50000000000001?e[1]>51.50000000000001?Ae=.007191286124908192:Ae=-.09347881647636902:e[10]>1.5000000000000002?Ae=.07938758708008091:Ae=-.008702935600305113:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ae=.12321804057595996:Ae=-.018281109320672437:e[23]>1e-35?e[4]>62.50000000000001?Ae=-.04644244754790671:Ae=.024546310702263208:e[8]>862.5000000000001?e[0]>3429.5000000000005?e[4]>9.500000000000002?e[52]>1e-35?Ae=.0706108609273337:e[2]>40.50000000000001?Ae=-.028046629962303716:Ae=-.06497613993109329:Ae=.01076489668586676:e[1]>33.50000000000001?e[0]>966.5000000000001?e[2]>14.500000000000002?e[1]>38.50000000000001?Ae=-.03056331974267756:Ae=-.11886389712497057:Ae=.053364962175658184:e[8]>2233.5000000000005?Ae=-.0448152521157682:Ae=.1508651602190868:e[2]>33.50000000000001?e[0]>2882.5000000000005?e[0]>3183.5000000000005?Ae=.03818796510453344:Ae=.23673992112982362:Ae=.02858814226507374:e[10]>44.50000000000001?Ae=-.1125863771551199:Ae=.009129996952394916:e[1]>7.500000000000001?Ae=-.004374525302461639:Ae=-.07858519434925451:e[149]>1e-35?e[6]>23.500000000000004?Ae=.0005231594491642136:e[0]>4053.5000000000005?e[8]>660.5000000000001?Ae=-.13677189943034931:e[10]>2.5000000000000004?Ae=.039591891437078086:Ae=-.09312596849507347:Ae=-.02423172142089822:Ae=.0009836986075266283;let We;e[189]>1e-35?e[0]>5269.500000000001?We=-.103183298350443:e[2]>51.50000000000001?We=.09784373530929913:e[10]>26.500000000000004?e[8]>764.5000000000001?We=-.05186168947388339:We=.0496996365539082:e[10]>23.500000000000004?We=.1404445738719:e[93]>1e-35?We=.0027146310074558505:e[5]>3821.5000000000005?We=.002153033152069652:e[4]>2.5000000000000004?We=.007663539551317215:We=.13902616832015402:e[298]>1e-35?e[8]>81.50000000000001?e[4]>64.50000000000001?We=.11498405722487515:e[2]>23.500000000000004?e[0]>2815.5000000000005?e[2]>44.50000000000001?e[4]>42.50000000000001?We=-.021479467709980358:We=.09336868994327292:e[1]>22.500000000000004?e[15]>1e-35?We=.021660293256233334:We=-.0927396152303864:We=.0665074081601698:e[0]>1550.5000000000002?We=.08972407105958534:We=-.0380796411182682:e[6]>13.500000000000002?e[10]>2.5000000000000004?We=.06761927942466854:We=-.015762168112653286:e[17]>1e-35?We=.10311304131145381:We=-.017672785252336027:We=-.08629805732772755:e[1]>24.500000000000004?e[138]>1e-35?We=-.10638321435298535:We=.0007073011744385905:e[18]>1e-35?We=-.027056185501334325:e[145]>1e-35?We=.023191199677450886:e[9]>33.50000000000001?e[201]>1e-35?We=.09762140519655171:e[9]>110.50000000000001?We=-.06581942957595835:e[6]>54.50000000000001?We=.04959634035251596:We=.0022616298654554207:We=-.007437620924990854;let Y;e[179]>1e-35?Y=-.06961998209988884:e[167]>1e-35?e[0]>3928.5000000000005?Y=.1470294450403005:Y=-.01671476793947083:e[187]>1e-35?e[6]>13.500000000000002?e[4]>30.500000000000004?e[13]>1e-35?Y=.07448480853603114:e[0]>1012.5000000000001?e[5]>2883.5000000000005?e[0]>3682.5000000000005?e[5]>4031.5000000000005?e[23]>1e-35?Y=.07965955447707423:e[10]>10.500000000000002?Y=-.09236156404262426:Y=.03396273196231458:Y=-.13246465021467432:Y=.07092822261735353:Y=-.08753829085942:Y=.09409024840640956:e[1]>40.50000000000001?e[8]>984.5000000000001?e[8]>1514.5000000000002?e[8]>2134.5000000000005?Y=.004705878789890202:Y=.13775378964952867:Y=-.04770928980587811:e[10]>29.500000000000004?Y=.011221519891071544:e[0]>3853.5000000000005?Y=.06365381191628273:Y=.15506252245336827:e[1]>37.50000000000001?Y=-.07254777021042061:Y=.026514587757252385:e[308]>1e-35?Y=.04115804816617256:e[10]>26.500000000000004?Y=.02077721353011946:e[5]>3548.5000000000005?Y=-.1280907116663952:Y=-.021974774274438:e[306]>1e-35?Y=-.02700446558079895:e[297]>1e-35?e[212]>1e-35?Y=.07794139136748461:e[7]>5.500000000000001?e[19]>1e-35?Y=-.005710865560475598:e[94]>1e-35?Y=-.06751507982853555:Y=.027250040757588703:e[9]>52.50000000000001?Y=.07060357924595577:Y=-.030297760713011795:Y=-.0006005400085266517;let re;e[113]>1e-35?re=-.07311041707507712:e[40]>1e-35?e[0]>1937.5000000000002?re=-.06996356565314456:re=.04780211300352931:e[10]>52.50000000000001?e[49]>1e-35?re=-.08317707559926495:e[21]>1e-35?re=-.0817284654645976:e[15]>1e-35?e[2]>3.5000000000000004?re=-.010538203005984922:re=.08454819465349446:e[9]>124.50000000000001?re=.09015659250299132:e[7]>15.500000000000002?e[5]>5732.500000000001?re=-.08542251249346582:e[9]>50.50000000000001?re=-.023428882537657472:re=.010042500833979073:re=.020697210754240154:e[10]>28.500000000000004?e[5]>423.00000000000006?e[148]>1e-35?re=.03006025206979096:e[9]>108.50000000000001?re=-.09153851322499747:e[145]>1e-35?e[5]>4814.500000000001?e[2]>38.50000000000001?re=.04222035773042132:re=-.09078149053947535:e[8]>568.5000000000001?e[1]>64.50000000000001?re=-.07209095448054853:re=.028065954981903313:re=.08714651929917122:re=-.006678820669279169:e[10]>40.50000000000001?re=.006982396294941626:re=-.07889649792011418:e[94]>1e-35?e[4]>30.500000000000004?re=-.09351114982645548:e[4]>3.5000000000000004?re=-.004837550129223451:re=-.08324141237464677:e[303]>1e-35?re=.10703037493990825:e[9]>156.50000000000003?re=-.10803018621648303:e[116]>1e-35?re=-.03208302566598311:e[212]>1e-35?e[243]>1e-35?re=.10261721665006701:re=.018994509090668264:re=.0011244262442038839;let Ne;e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?Ne=-.08404263465005328:e[0]>3682.5000000000005?Ne=.041259223920298876:e[1]>29.500000000000004?Ne=-.09541257493441671:Ne=.001482192721625409:Ne=.051541427372951004:e[3]>7.500000000000001?e[157]>1e-35?Ne=-.08268996098437432:e[230]>1e-35?Ne=.015749498159959817:e[4]>7.500000000000001?e[3]>11.500000000000002?Ne=-913218977737457e-19:e[4]>10.500000000000002?Ne=-.056334165674005156:e[127]>1e-35?Ne=-.0784634021824036:e[2]>9.500000000000002?e[1]>62.50000000000001?Ne=-.04231200150318989:e[10]>42.50000000000001?Ne=.10182973257894812:Ne=.015934763950068445:Ne=-.03130938805859397:e[92]>1e-35?e[4]>6.500000000000001?e[1]>51.50000000000001?e[9]>19.500000000000004?Ne=-.041117068322885315:Ne=.1167767830037126:Ne=.13611206992387337:e[10]>41.50000000000001?Ne=-.07120286010564107:Ne=.022032788063345417:e[8]>1.5000000000000002?e[1]>51.50000000000001?e[9]>72.50000000000001?Ne=-.07702290997669524:e[198]>1e-35?Ne=.08776558554437136:Ne=-.008290740324975692:e[2]>32.50000000000001?Ne=.07198457624219955:Ne=.005463113714361629:Ne=.09414099512900526:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Ne=.03295785445437507:Ne=.15140250150674536:Ne=-.035613213948910254:e[186]>1e-35?Ne=.06849425535860769:e[96]>1e-35?Ne=.06028225812727254:Ne=-.007582543288662308;let Se;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Se=.08396556264106572:Se=-.0562516995099192:Se=-.10593011018789432:e[183]>1e-35?e[15]>1e-35?Se=-.09705176473553752:e[7]>18.500000000000004?e[2]>37.50000000000001?Se=.0052017514017035915:Se=-.11194119432743639:Se=.03724337696163019:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?Se=-.025692451287403446:Se=-.09511862672123193:e[8]>1661.5000000000002?e[10]>37.50000000000001?Se=-.11892250746801664:e[10]>22.500000000000004?Se=.07548493166973796:Se=-.05973048107712209:e[4]>12.500000000000002?e[0]>4319.500000000001?e[10]>4.500000000000001?e[10]>37.50000000000001?Se=.13750699058082427:e[18]>1e-35?Se=.06535408879552801:Se=-.054118179035040674:Se=.1344282838979622:e[0]>3982.5000000000005?Se=-.10409582202467015:e[19]>1e-35?Se=.12672850705810795:e[8]>587.5000000000001?e[1]>35.50000000000001?Se=.012705935670766466:Se=.14149359442527545:Se=-.047977876173706004:e[20]>1e-35?Se=.057945228080337946:e[0]>3642.5000000000005?Se=-.008726535792122467:Se=-.08424769891378858:e[34]>1e-35?Se=-.0699329538228602:e[134]>1e-35?e[11]>1e-35?e[4]>15.500000000000002?e[0]>1187.5000000000002?Se=.01196849566739346:Se=.1614642278429876:Se=-.043022338150701625:e[3]>5.500000000000001?Se=-.03907848255033881:Se=.018280601026175593:Se=.0006654540402589085;let Ce;e[31]>1e-35?e[2]>58.50000000000001?e[9]>1.5000000000000002?Ce=-.01386103677247845:Ce=.11386694333005128:e[4]>27.500000000000004?Ce=-.021862617610091336:e[2]>31.500000000000004?Ce=.0828858469030438:Ce=.006483353475830127:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ce=.11303635767048735:Ce=-.01645525128352694:e[23]>1e-35?e[4]>62.50000000000001?Ce=-.04238798044549342:Ce=.022091190130494303:e[5]>5082.500000000001?Ce=-.04287166152163786:e[8]>862.5000000000001?e[19]>1e-35?Ce=.000660344696244351:e[4]>9.500000000000002?e[0]>1277.5000000000002?Ce=-.04291104140431434:e[17]>1e-35?Ce=.11256797532342613:Ce=-.017206916368289193:Ce=.026482035265709743:e[1]>8.500000000000002?e[11]>1e-35?Ce=.04060606971664621:e[0]>4733.500000000001?e[8]>214.50000000000003?e[5]>4814.500000000001?Ce=.03581712466863222:Ce=.14770264307668884:e[8]>73.50000000000001?Ce=-.13093289429740068:Ce=.042461737442702936:e[52]>1e-35?Ce=.0501831919044939:Ce=-.010450249720465756:Ce=-.0753365425372656:e[149]>1e-35?e[6]>23.500000000000004?Ce=.0005381332165438493:Ce=-.04549431717503909:e[133]>1e-35?e[2]>5.500000000000001?e[8]>698.5000000000001?e[282]>1e-35?Ce=.04849637311285226:Ce=-.036671377119808564:e[0]>421.50000000000006?Ce=.00020968499911058945:Ce=.11636422423182405:Ce=-.12687837788222575:Ce=.0012774367867215346;let Ue;e[120]>1e-35?Ue=.04776057572434719:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?Ue=-.042799574885345304:Ue=.07412430171193245:Ue=-.11248270469336048:e[193]>1e-35?Ue=-.060694220820603384:e[121]>1e-35?e[217]>1e-35?e[0]>4449.500000000001?e[4]>8.500000000000002?Ue=.028911612178122104:Ue=.12326369727728437:e[0]>4091.5000000000005?Ue=-.09370267064141052:e[0]>3519.5000000000005?e[8]>668.5000000000001?Ue=.1159839898100149:Ue=-.01924880886585737:e[8]>501.50000000000006?e[10]>16.500000000000004?Ue=-.0216343737351583:Ue=-.1220272260878369:e[2]>18.500000000000004?Ue=.09152924475072398:e[8]>55.50000000000001?Ue=.039508716651005665:Ue=-.11714436880423203:e[18]>1e-35?e[9]>2.5000000000000004?Ue=.06793009902674053:Ue=-.024060578029812988:e[4]>2.5000000000000004?e[2]>16.500000000000004?e[4]>11.500000000000002?Ue=-.04391068849624096:Ue=.04009967593394672:e[8]>1085.5000000000002?Ue=-.024773826356034825:Ue=-.13919707884246582:Ue=.06659278075192335:e[223]>1e-35?e[8]>668.5000000000001?Ue=-.11567917501901476:Ue=-.006813640337684114:e[3]>7.500000000000001?Ue=.0010671269682548076:e[7]>3.5000000000000004?e[1]>33.50000000000001?e[0]>1597.5000000000002?e[10]>1.5000000000000002?Ue=-.001754586408351048:Ue=-.055422422450722056:Ue=-.06090032532532226:e[0]>5269.500000000001?Ue=.11787981735983527:Ue=-.00198119768540783:Ue=.00210412924303036;let Ve;e[294]>1e-35?e[10]>50.50000000000001?Ve=-.09738558653332406:e[0]>2432.5000000000005?e[0]>4533.500000000001?Ve=-.06063239096209816:Ve=.03317022411417386:Ve=-.08607562321324262:e[120]>1e-35?e[4]>18.500000000000004?Ve=-.013608609329298802:Ve=.09078000157330264:e[99]>1e-35?Ve=.014828708581964632:e[10]>52.50000000000001?e[49]>1e-35?Ve=-.07536137260189814:Ve=.006253266595455118:e[10]>28.500000000000004?Ve=-.006106041147592768:e[9]>156.50000000000003?Ve=-.11828932797811101:e[94]>1e-35?Ve=-.02566078479505714:e[303]>1e-35?Ve=.09544850289775349:e[15]>1e-35?e[224]>1e-35?e[4]>56.50000000000001?Ve=-.08401252789168523:e[5]>4244.500000000001?Ve=.026372887658499107:e[1]>16.500000000000004?Ve=-.027836756345634026:Ve=.09205362097909099:Ve=.00934612788718244:e[203]>1e-35?Ve=-.016371658366767253:e[7]>26.500000000000004?e[0]>966.5000000000001?e[1]>38.50000000000001?e[146]>1e-35?e[9]>21.500000000000004?Ve=-.09580979052540028:e[1]>50.50000000000001?Ve=-.06402211827281554:Ve=.08342858760095972:e[2]>36.50000000000001?Ve=.008114897658204584:e[92]>1e-35?Ve=.09541587072672864:Ve=-.022342147210555434:Ve=-.01660492519175128:Ve=.014721622240945446:e[4]>25.500000000000004?e[11]>1e-35?Ve=.15846731118501817:Ve=.039498507912023195:e[245]>1e-35?Ve=.07008718676813333:Ve=.0019806389728814727;let et;e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[0]>4188.500000000001?et=-.01192072916082109:et=.13888590840802637:e[1]>16.500000000000004?e[8]>2302.5000000000005?et=.06874032717466054:e[4]>40.50000000000001?et=-.07752510020707537:e[1]>76.50000000000001?et=-.09944032260703917:e[8]>1381.5000000000002?et=-.054466635810800745:e[1]>32.50000000000001?et=.05974084520839573:et=-.0384718740755954:et=-.11374190719134032:e[0]>2151.5000000000005?et=-.13703645155803298:et=.004833344758654556:e[297]>1e-35?e[212]>1e-35?et=.06954747264544993:e[7]>9.500000000000002?e[19]>1e-35?e[1]>30.500000000000004?e[0]>4242.500000000001?et=.013539805885738608:et=-.0692740641801559:e[0]>2653.5000000000005?e[10]>57.50000000000001?et=.09941880179344399:et=-.01608127391210995:et=.08025226531247417:e[9]>67.50000000000001?et=.13525448212444113:e[6]>61.50000000000001?et=-.05511099182158894:e[94]>1e-35?et=-.06821509831783572:e[128]>1e-35?et=.11361314817714643:et=.030160785008575566:e[1]>13.500000000000002?e[8]>17.500000000000004?e[16]>1e-35?et=-.09954181329804547:e[197]>1e-35?et=.10102833149755386:e[188]>1e-35?et=.05584490988313965:e[9]>49.50000000000001?e[4]>5.500000000000001?et=-.03781554214742005:et=.09927933385592314:et=-.020006000056720083:et=-.10520473615957895:et=-.12006990846253787:et=-.00026111570975317574;let yt;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[0]>1725.5000000000002?e[7]>14.500000000000002?e[2]>38.50000000000001?yt=-.019188245509744628:yt=-.13354864350075848:e[0]>2461.5000000000005?yt=.051885477468354396:yt=-.0833581968852119:yt=.08233441701532287:yt=-.10865584951212362:e[8]>2992.5000000000005?e[10]>49.50000000000001?e[10]>56.50000000000001?e[1]>45.50000000000001?e[0]>2041.5000000000002?yt=.09926337893072812:yt=-.027753610497327715:e[0]>1972.5000000000002?yt=-.09780045823152517:yt=.032380915168504935:yt=.11502632261226381:e[17]>1e-35?yt=-.06094965899579662:e[10]>40.50000000000001?yt=-.07500475582440802:yt=.006499832113084677:e[10]>4.500000000000001?e[4]>10.500000000000002?yt=-.09584538995220808:yt=-.00908705814304442:yt=.03203281520813893:e[10]>49.50000000000001?yt=-.03146271513986384:e[2]>63.50000000000001?yt=.13172001315536286:e[224]>1e-35?yt=.08945777550527927:e[0]>2282.5000000000005?e[4]>4.500000000000001?yt=.09521549382082259:yt=-.04414925613522197:e[0]>1847.5000000000002?yt=-.09118580379557353:yt=.009206744918282364:e[178]>1e-35?e[2]>25.500000000000004?e[1]>31.500000000000004?yt=.03525144509943896:yt=-.053340750721609057:e[0]>1057.5000000000002?e[10]>2.5000000000000004?yt=-.04766112322938157:e[2]>10.500000000000002?yt=.0728516504357201:yt=-.05049625965272536:yt=-.10868663055825774:yt=.0005382613419948969;let Rt;e[147]>1e-35?e[1]>53.50000000000001?Rt=-.10615739288764095:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Rt=-.030504020655417463:Rt=.07102458639110094:Rt=-.07058131985243714:e[302]>1e-35?e[10]>47.50000000000001?Rt=.055304563442710876:e[1]>53.50000000000001?Rt=.033723409577443623:e[8]>175.50000000000003?e[0]>2628.5000000000005?e[9]>40.50000000000001?Rt=-.1568835288372895:Rt=-.0279829124400056:Rt=.04493843959601833:Rt=-.11637042729644327:e[191]>1e-35?e[282]>1e-35?Rt=-.054133834303687026:e[9]>48.50000000000001?Rt=.11263810289007213:e[9]>9.500000000000002?Rt=-.02202034562838259:e[4]>45.50000000000001?Rt=-.03410927569045158:Rt=.04381615166534081:e[242]>1e-35?e[0]>3615.5000000000005?e[3]>19.500000000000004?e[1]>56.50000000000001?e[4]>28.500000000000004?Rt=-.029687297407295893:Rt=.10673602850001934:e[4]>42.50000000000001?Rt=.0036275562945108117:Rt=-.0760789221330622:Rt=-.10385623431741903:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?Rt=.08274426793676076:Rt=-.07076234425516396:Rt=.13890177606150175:Rt=-.019863286503635686:e[53]>1e-35?e[18]>1e-35?Rt=-.09250637750836187:Rt=-.0031531727902009026:e[2]>107.50000000000001?e[4]>91.50000000000001?e[1]>16.500000000000004?Rt=-.01897867921812603:Rt=.04890781705365262:Rt=-.11569892307597907:e[2]>106.50000000000001?Rt=.09032697440623969:Rt=.00047935919155035045;let At;e[115]>1e-35?At=.05338335681275557:e[242]>1e-35?e[0]>3615.5000000000005?e[4]>42.50000000000001?e[4]>75.50000000000001?At=-.10131179514695865:e[8]>938.5000000000001?At=.10203729808015481:At=-.015357944186835289:e[1]>56.50000000000001?e[2]>22.500000000000004?At=.03574015165562999:At=-.07763042506449493:At=-.0813323116215548:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?At=.0665706259130275:At=-.06586817559309924:At=.11925564412287476:At=-.014170019267143326:e[1]>124.50000000000001?e[2]>30.500000000000004?e[8]>533.5000000000001?e[4]>41.50000000000001?e[8]>977.5000000000001?At=.046017146627455346:At=-.08623321630086885:e[8]>1765.5000000000002?At=-.017990564319859934:e[10]>25.500000000000004?e[10]>48.50000000000001?At=.11143827902215087:At=-.01817808730473413:At=.16980985030210127:At=-.09357806298740017:e[10]>7.500000000000001?e[10]>54.50000000000001?At=.010168994879727824:At=-.09099594488792513:e[9]>1.5000000000000002?At=.0533459678147928:At=-.06886854808370108:e[99]>1e-35?e[17]>1e-35?e[9]>22.500000000000004?At=-.062346959148773695:e[1]>47.50000000000001?At=-.0021578343835599316:e[2]>27.500000000000004?At=.19567373210166172:At=.07851555379116423:e[18]>1e-35?At=.03711549097804649:e[8]>359.50000000000006?At=.012492346746905587:e[4]>20.500000000000004?At=.047511695735697544:At=-.07999269063948773:At=6802045404471004e-20;let Vt;e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>2167.5000000000005?e[4]>25.500000000000004?Vt=.0011484728213539738:Vt=-.0936582904650763:e[2]>25.500000000000004?e[8]>182.50000000000003?e[10]>22.500000000000004?e[0]>5026.500000000001?Vt=-.09828874964938798:e[8]>1586.5000000000002?Vt=.13726397438080162:e[4]>48.50000000000001?e[2]>63.50000000000001?Vt=.011938269926919522:Vt=.17541983715953954:e[19]>1e-35?Vt=.023002786011088672:Vt=-.06221461272461431:e[9]>2.5000000000000004?e[0]>3818.5000000000005?Vt=.06508934844183291:Vt=-.10168553534835639:Vt=-.07755626499024171:e[2]>51.50000000000001?e[4]>65.50000000000001?Vt=.021140806225203937:Vt=-.1167833342453639:e[2]>33.50000000000001?Vt=.13163585734056618:Vt=-.00203273890889717:e[10]>36.50000000000001?e[8]>1067.5000000000002?Vt=.06314479201263888:Vt=-.09639088327091713:e[10]>29.500000000000004?Vt=.09225469303582386:e[0]>3129.5000000000005?e[0]>4091.5000000000005?e[0]>4354.500000000001?Vt=40577156464836036e-21:Vt=.12322387121810757:Vt=-.03697224045046014:e[1]>22.500000000000004?Vt=.016474835887320276:Vt=.16919298733903063:Vt=.07633203630214054:Vt=-.047438037934250644:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?Vt=.14150493354700563:Vt=-.01831155354975749:e[1]>28.500000000000004?Vt=-.07952557178685365:e[10]>28.500000000000004?Vt=.0665695554984927:Vt=-.053640139319277094:Vt=.0004754840665898665;let $t;e[76]>1e-35?$t=-.06814884255939921:e[179]>1e-35?$t=-.06325743795510681:e[122]>1e-35?e[6]>36.50000000000001?$t=.05052338063261613:e[8]>626.5000000000001?e[1]>38.50000000000001?$t=.004193658608848433:$t=-.1066968975983452:e[8]>302.50000000000006?$t=.05476730110440451:$t=-.06382970920394895:e[218]>1e-35?e[2]>3.5000000000000004?e[6]>13.500000000000002?e[2]>19.500000000000004?e[0]>3200.5000000000005?e[4]>91.50000000000001?$t=-.12156071809840739:e[9]>21.500000000000004?e[5]>3883.5000000000005?e[8]>919.5000000000001?e[8]>1085.5000000000002?$t=.013555772109446666:$t=-.09856116699770784:$t=.0284329611813383:e[2]>52.50000000000001?$t=.04008708444763762:e[9]>29.500000000000004?$t=-.1289599546008197:$t=-.018566534248335896:e[8]>747.5000000000001?$t=.02236484980076122:$t=.1148871655157582:e[8]>3084.0000000000005?$t=-.05573875952902531:e[10]>17.500000000000004?e[2]>51.50000000000001?$t=.03164751204281298:$t=.11752140436184891:e[9]>42.50000000000001?$t=-.07180559595410106:e[22]>1e-35?$t=.09325040416256854:$t=-.016041122807939914:$t=-.02765708954618808:e[1]>30.500000000000004?e[1]>66.50000000000001?$t=-.010718250133458515:$t=.09818827994853763:$t=.010180038981174032:$t=-.039472162599295535:e[9]>170.50000000000003?$t=-.08536729235976731:e[189]>1e-35?e[0]>5269.500000000001?$t=-.08674788057474031:$t=.02077653508548371:$t=-.0003536561382007414;let nr;e[86]>1e-35?e[10]>6.500000000000001?e[0]>4376.500000000001?nr=.018337297491457794:nr=-.05926206443180149:nr=.024026520855881126:e[288]>1e-35?e[184]>1e-35?nr=.10747078482128616:e[126]>1e-35?nr=-.10550625192391357:e[7]>71.50000000000001?nr=-.07698346027863572:e[8]>302.50000000000006?e[6]>49.50000000000001?e[4]>47.50000000000001?e[1]>38.50000000000001?e[15]>1e-35?nr=.1317396472229434:nr=-.025035791351328947:nr=-.0728334305864372:e[8]>963.5000000000001?nr=.023642201723096064:nr=.183010326734258:e[128]>1e-35?nr=.04228920135648387:e[2]>34.50000000000001?e[15]>1e-35?nr=.002801782941492993:e[3]>40.50000000000001?e[4]>39.50000000000001?nr=-.1088876900335281:nr=.02758317023002635:nr=-.11886771300807207:e[9]>59.50000000000001?e[1]>33.50000000000001?nr=-.01928020117446408:nr=.10193718474139135:e[1]>48.50000000000001?e[4]>9.500000000000002?e[8]>932.5000000000001?nr=.07893723375925096:nr=-.009878929627026153:e[10]>2.5000000000000004?e[9]>20.500000000000004?nr=-.10301657587280551:nr=.005787463140224318:nr=.07421364314695046:e[0]>2840.5000000000005?e[10]>29.500000000000004?nr=-.019296977889522397:nr=-.07274529751752634:e[1]>30.500000000000004?nr=-.050368901143148286:nr=.029630869489466655:e[2]>6.500000000000001?e[4]>9.500000000000002?nr=.0015332402792773946:nr=.09930153676749967:nr=-.06370844564357069:nr=.00042272155209927616;let ge;e[71]>1e-35?e[4]>17.500000000000004?ge=.12586844370423247:ge=-.006791999603126354:e[222]>1e-35?e[1]>10.500000000000002?e[30]>1e-35?e[1]>36.50000000000001?e[9]>1.5000000000000002?e[10]>25.500000000000004?ge=-.08474891624263797:e[8]>125.50000000000001?ge=.08125086980439704:ge=-.04082085238068532:e[0]>3863.5000000000005?ge=.020481535807469208:ge=.14810819386202126:e[0]>1937.5000000000002?e[2]>16.500000000000004?ge=-.019110200161573936:ge=-.12387719685855114:e[0]>1102.5000000000002?ge=.08376595701957407:ge=-.031821919580524834:e[9]>4.500000000000001?ge=-.08116383486497568:e[7]>8.500000000000002?e[2]>24.500000000000004?ge=-.02154820850475448:e[0]>3863.5000000000005?e[8]>902.5000000000001?ge=.1349841206807871:ge=.011864053595560297:e[1]>41.50000000000001?ge=-.08203662486612544:e[2]>18.500000000000004?ge=-.009541865642346947:ge=.08345043168501759:e[2]>10.500000000000002?ge=-.09585031818030947:ge=.019432330487099865:ge=.08399259524715129:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?ge=.11951517733981365:ge=-.016651014735738538:e[1]>28.500000000000004?ge=-.07410922545030711:e[10]>28.500000000000004?ge=.05886430683844788:ge=-.04929626605117184:e[191]>1e-35?e[9]>9.500000000000002?e[9]>48.50000000000001?ge=.04802269879144705:ge=-.026208212831796737:e[4]>45.50000000000001?ge=-.03227476944664786:ge=.05124575625622705:ge=.00020506696916003137;let Le;e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?Le=-.03042091758483443:e[10]>14.500000000000002?Le=.09816619204768777:Le=.01332124067720947:e[8]>8.500000000000002?e[4]>15.500000000000002?Le=-.02381165060401718:Le=-.10950361804974783:Le=.03538211665111128:e[212]>1e-35?e[19]>1e-35?Le=-.09940014650006174:e[0]>2215.5000000000005?e[5]>5056.500000000001?e[3]>5.500000000000001?e[10]>25.500000000000004?Le=-.06371052144380579:Le=.0835500621252692:Le=-.10408255929333915:e[1]>74.50000000000001?Le=.13208968122712403:e[1]>64.50000000000001?Le=-.04778844603644965:e[8]>51.50000000000001?e[8]>201.50000000000003?e[8]>660.5000000000001?e[6]>4.500000000000001?e[9]>5.500000000000001?e[1]>29.500000000000004?e[0]>3830.5000000000005?Le=.09922816902423433:Le=.016366955328796718:Le=.1592412560903584:e[1]>39.50000000000001?Le=.05409467990258923:Le=-.08260633210459611:Le=-.06307205775247567:e[9]>36.50000000000001?Le=.040253940015648144:Le=.14202568969471283:Le=-.028761848341594044:Le=.08994073058773508:e[0]>807.5000000000001?Le=-.043427848826323195:Le=.04573516446846493:e[20]>1e-35?e[188]>1e-35?Le=-.0758877731600639:e[23]>1e-35?Le=.05913923322043199:e[8]>155.50000000000003?e[128]>1e-35?Le=.08124700978741987:Le=.013296063087086852:e[7]>5.500000000000001?Le=-.01640196088612987:Le=-.12685498840146067:Le=-.0004940792382459551;let Ke;e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Ke=-.05584993681929434:e[9]>27.500000000000004?e[0]>3916.5000000000005?Ke=.08513773825688947:Ke=-.1184664832315282:Ke=.05676963535893477:Ke=.14263843210340613:Ke=.0005795003292924202:e[18]>1e-35?e[0]>5453.500000000001?e[1]>11.500000000000002?Ke=-.10669720555606924:Ke=.029016613003137307:e[2]>46.50000000000001?e[10]>9.500000000000002?Ke=.0664744575868955:Ke=-.08469256188890871:Ke=-.026746678040592144:e[281]>1e-35?Ke=-.07408427239006925:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Ke=.012131807587207655:Ke=-.12776015795398743:Ke=.04320472481083551:Ke=.08390980661550446:e[10]>227.50000000000003?Ke=-.09771783809101153:e[10]>130.50000000000003?Ke=.11175201938704937:e[8]>779.5000000000001?e[5]>3325.5000000000005?e[128]>1e-35?Ke=-.07610698254064358:e[8]>902.5000000000001?Ke=-.03136381213599649:e[131]>1e-35?Ke=.0704821739127936:e[224]>1e-35?Ke=-.056961477774953785:e[10]>30.500000000000004?e[9]>43.50000000000001?Ke=.10431473040024908:e[8]>841.5000000000001?Ke=.07304745320500514:Ke=-.038011541882439825:Ke=-.01679746695007364:e[0]>3129.5000000000005?Ke=.05589952587431965:e[210]>1e-35?Ke=.06227198085800842:Ke=-.0011341890997947812:e[8]>740.5000000000001?Ke=.04817300084412584:Ke=-.000577001010789238;let rt;e[187]>1e-35?e[6]>12.500000000000002?e[10]>8.500000000000002?e[10]>16.500000000000004?e[8]>234.50000000000003?e[4]>43.50000000000001?e[0]>4476.500000000001?rt=-.10504730480402079:e[5]>3341.5000000000005?rt=.11087894671081754:rt=-.0406668834674614:rt=.03308382165616109:e[8]>104.50000000000001?rt=-.10431436764549162:rt=.0073928337244891455:e[4]>34.50000000000001?rt=-.10571751512748416:rt=-.006081128814142983:e[13]>1e-35?rt=.1299673566095023:e[4]>60.50000000000001?rt=-.06587492443829139:e[0]>2604.5000000000005?e[3]>19.500000000000004?rt=.04857126072645073:rt=-.03431365358104773:e[4]>16.500000000000004?rt=.04101865986596709:rt=.16480274980378218:e[10]>26.500000000000004?rt=.03673978504199255:e[10]>9.500000000000002?rt=-.10996402743800027:e[308]>1e-35?rt=.0553693735082498:rt=-.041600136235644125:e[306]>1e-35?e[8]>1156.5000000000002?e[4]>14.500000000000002?e[10]>21.500000000000004?rt=.010902983761213922:rt=.1325118659895645:rt=-.064362945508595:e[1]>66.50000000000001?rt=.033416767779331176:rt=-.054080316225040496:e[42]>1e-35?rt=-.07762364337810815:e[10]>1089.5000000000002?rt=-.08465599849125216:e[31]>1e-35?e[8]>30.500000000000004?rt=.012788520036013586:e[1]>32.50000000000001?e[1]>51.50000000000001?rt=.0220102041325908:rt=-.06516708740003069:rt=.012833498905748267:e[224]>1e-35?rt=-.007038418272997865:rt=.00037666304316290967;let St;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?St=.07554189644995735:St=-.052089349455904946:St=-.10148206848169845:e[113]>1e-35?St=-.06666678653225779:e[39]>1e-35?e[9]>3.5000000000000004?e[0]>3670.5000000000005?St=.07172653627995676:St=-.07602959317610998:St=-.08790686271287523:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?St=-.0399322883690891:St=.06523495517476098:St=-.10358715295743802:e[193]>1e-35?St=-.05551414334329124:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[10]>1.5000000000000002?St=.015928764772252406:St=.1341513061552287:St=-.04975001987586173:e[10]>2.5000000000000004?e[3]>5.500000000000001?e[9]>2.5000000000000004?e[8]>310.50000000000006?St=-.033592997607280156:St=-.12432458028446665:e[1]>32.50000000000001?e[217]>1e-35?St=-.08402551858097379:St=.017401984506038796:e[1]>25.500000000000004?St=.13337205393591278:St=-.01160208350090984:St=.06708317942315471:e[8]>227.50000000000003?St=-.08486943882418681:St=-.013970104864235007:e[8]>4968.500000000001?e[1]>31.500000000000004?e[9]>4.500000000000001?St=-.10496268177586783:St=-.020921489532370493:St=.02629915927247642:e[7]>20.500000000000004?e[8]>251.50000000000003?e[115]>1e-35?St=.11639296062157028:St=-.004275784356569115:e[32]>1e-35?St=-.07297384970166025:St=.006026841626381599:St=.002034611134960428;let Et;e[248]>1e-35?Et=.06091438745093315:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Et=-.06455513326540585:e[1]>29.500000000000004?Et=.07718474591552532:e[4]>7.500000000000001?Et=.040139336931404826:Et=-.09685734690563386:Et=.00015327283570347363:e[9]>88.50000000000001?Et=.10079017954199324:e[1]>47.50000000000001?e[2]>20.500000000000004?e[2]>27.500000000000004?Et=-.04077257804338707:Et=.0739963982640615:e[9]>1.5000000000000002?e[17]>1e-35?Et=.03778141591008941:Et=-.06459919920634845:Et=-.11193190957880604:e[7]>6.500000000000001?e[11]>1e-35?e[18]>1e-35?Et=.14063930759326346:e[0]>179.50000000000003?Et=.07287482250668585:e[8]>1180.5000000000002?Et=-.14419393112726253:e[10]>28.500000000000004?Et=-.07993142770099469:e[17]>1e-35?Et=-.04702595410391655:e[7]>21.500000000000004?e[2]>26.500000000000004?Et=.05527969663610186:Et=-.10824385941441346:e[3]>11.500000000000002?Et=.12358502961047915:Et=-.017509147119622873:e[0]>74.50000000000001?Et=-.014907705458730486:e[8]>95.50000000000001?Et=-.02225118168342062:Et=-.1222374623708485:e[8]>1.5000000000000002?e[8]>950.5000000000001?Et=.06946188930925638:e[3]>6.500000000000001?e[10]>2.5000000000000004?e[19]>1e-35?Et=.04962819555610421:Et=-.07213577821855309:Et=.09139529824708481:e[19]>1e-35?Et=.013439401088345224:Et=-.049274647207292056:Et=.10531673719686951;let Lt;e[40]>1e-35?e[0]>1937.5000000000002?Lt=-.06421671152073961:Lt=.04235421241226177:e[294]>1e-35?e[10]>50.50000000000001?Lt=-.09100102290316286:e[0]>3030.5000000000005?e[0]>4177.500000000001?Lt=-.03520420769287065:e[8]>1085.5000000000002?Lt=-.019817352506127633:Lt=.11444439424520964:Lt=-.06854631664538167:e[120]>1e-35?e[4]>18.500000000000004?Lt=-.010490117519863269:Lt=.08104430117757461:e[121]>1e-35?e[243]>1e-35?Lt=.16408304891242204:e[217]>1e-35?e[0]>4449.500000000001?Lt=.06619344145920268:e[0]>4091.5000000000005?Lt=-.08813353450871053:e[0]>3519.5000000000005?e[8]>668.5000000000001?Lt=.10016091391222309:Lt=-.017407607199427293:e[8]>501.50000000000006?e[10]>16.500000000000004?Lt=-.019511460451434884:Lt=-.11643672465055221:e[2]>18.500000000000004?Lt=.07848228087333317:e[8]>55.50000000000001?Lt=.032583027899956235:Lt=-.11209832692153521:e[11]>1e-35?Lt=.027482174104412567:e[10]>1.5000000000000002?e[6]>26.500000000000004?e[4]>19.500000000000004?e[9]>31.500000000000004?Lt=-.09996887746328006:e[9]>2.5000000000000004?Lt=.02157682011863397:Lt=-.05247727848991843:Lt=.07409150201483244:e[1]>38.50000000000001?Lt=-.11378466075449625:e[224]>1e-35?Lt=-.10741749127732923:e[1]>26.500000000000004?Lt=.07343136534146562:Lt=-.07013573628594773:e[25]>1e-35?Lt=-.04626669734164317:Lt=.05518333197956482:Lt=.00032434010867555516;let Mt;e[183]>1e-35?e[10]>1.5000000000000002?e[17]>1e-35?Mt=.026313251010808853:Mt=-.08997339150292381:Mt=.025062509535227952:e[227]>1e-35?e[1]>6.500000000000001?e[2]>9.500000000000002?e[210]>1e-35?Mt=.08071107515789745:e[23]>1e-35?e[1]>75.50000000000001?Mt=.0905155504503746:e[8]>1049.5000000000002?Mt=-.062312558183394054:e[8]>719.5000000000001?Mt=.09583836191410239:e[0]>3719.5000000000005?Mt=-.0778097309430818:Mt=.04012012419054895:e[4]>12.500000000000002?e[8]>1496.5000000000002?e[10]>42.50000000000001?Mt=-.12920865648544927:e[0]>2699.5000000000005?Mt=-.07086587879041864:Mt=.022614182502461846:e[4]>15.500000000000002?e[8]>55.50000000000001?e[1]>60.50000000000001?e[8]>652.5000000000001?Mt=-.11377786322600797:Mt=-.009486325820117998:e[1]>55.50000000000001?Mt=.12430248795958142:e[0]>2952.5000000000005?e[0]>4331.500000000001?e[1]>38.50000000000001?Mt=-.07938291201004219:e[2]>36.50000000000001?Mt=.01520046732530246:Mt=.13649854049662832:Mt=-.07145015938528873:e[8]>407.50000000000006?Mt=-.00350257360822279:Mt=.11332047082193297:Mt=-.10060624458629897:Mt=.05429496612497562:e[8]>1446.5000000000002?Mt=.006073419197482838:Mt=-.08718676350883998:Mt=-.11532497988252638:Mt=.10766270463068293:e[34]>1e-35?Mt=-.06345912440611544:e[131]>1e-35?e[9]>1.5000000000000002?Mt=-.0004109812623829506:Mt=.021601073497455662:Mt=-7343540098965853e-20;let Tt;e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?Tt=-.06107663265515864:e[9]>70.50000000000001?e[10]>37.50000000000001?Tt=.05995640200798119:e[0]>3443.5000000000005?Tt=-.14698883458733583:Tt=-.030039164579240187:e[189]>1e-35?Tt=-.06086763220538141:e[1]>86.50000000000001?Tt=-.05096727866142538:e[4]>64.50000000000001?Tt=.11240554253834577:e[4]>45.50000000000001?Tt=-.030279760168394117:e[6]>45.50000000000001?Tt=.10161088917815142:e[10]>77.50000000000001?Tt=-.0792333078055653:e[7]>23.500000000000004?e[0]>2882.5000000000005?Tt=-.06672020005240323:Tt=.08831457502630258:e[8]>2592.5000000000005?Tt=-.052617701047376654:e[10]>29.500000000000004?Tt=.08499327690298047:e[2]>12.500000000000002?e[9]>41.50000000000001?Tt=.12880460816709416:e[9]>25.500000000000004?e[4]>11.500000000000002?Tt=-.064099222705728:Tt=.044332487521538365:e[0]>2882.5000000000005?Tt=.031099546885005065:Tt=.12938467051623853:e[0]>4221.500000000001?Tt=-.0928676413498701:e[9]>30.500000000000004?Tt=-.05781824812803708:Tt=.07561268901778094:e[8]>711.5000000000001?e[2]>22.500000000000004?Tt=-.06648105454098469:Tt=.05985487552383097:Tt=-.13070190291919334:e[116]>1e-35?e[10]>38.50000000000001?Tt=.05282385499619401:e[1]>66.50000000000001?Tt=.048802929108006314:e[2]>4.500000000000001?e[0]>4593.500000000001?Tt=.027885690791379255:Tt=-.08407126408362446:Tt=.014432924125571093:Tt=-9903435845205118e-20;let _t;e[76]>1e-35?_t=-.06307875292162934:e[21]>1e-35?e[7]>10.500000000000002?e[10]>4.500000000000001?e[8]>944.5000000000001?e[0]>3655.5000000000005?_t=.013633653464240465:_t=-.10164319411983509:_t=-.1228424374328996:e[1]>26.500000000000004?e[2]>28.500000000000004?_t=.00632864847804078:_t=-.08393000368134668:_t=.07870508617440916:e[284]>1e-35?_t=.1092302727710421:_t=-.0025505047582483234:e[248]>1e-35?_t=.07101822393621864:e[274]>1e-35?_t=-.06621099406425579:e[1]>26.500000000000004?e[1]>28.500000000000004?_t=.0003077044909372931:e[10]>2.5000000000000004?e[0]>3770.5000000000005?_t=.025081789181021243:_t=-.014813325803582618:e[9]>33.50000000000001?_t=-.033466921233840194:e[3]>12.500000000000002?e[23]>1e-35?_t=.11926990418060353:_t=.01852125513565268:_t=.0975367595927343:e[5]>3325.5000000000005?e[8]>892.5000000000001?e[133]>1e-35?_t=-.1178464984373743:e[283]>1e-35?_t=.043370859226927405:e[5]>4320.500000000001?_t=-.01103141226366587:e[8]>1104.5000000000002?_t=-.023053423988095886:_t=-.0734238953804657:e[6]>18.500000000000004?e[8]>85.50000000000001?_t=.000579145585864887:_t=.03389152834202143:e[128]>1e-35?_t=-.14527722052568462:e[210]>1e-35?_t=-.08915971541902741:e[7]>9.500000000000002?_t=-.03307314577076116:e[18]>1e-35?_t=-.05521712302023565:_t=.009315605032770029:_t=.0036332551852289933;let wt;e[0]>689.5000000000001?e[5]>768.5000000000001?e[20]>1e-35?e[5]>4368.500000000001?wt=-.07583539600416284:e[188]>1e-35?wt=-.07042659515500142:e[23]>1e-35?e[0]>3807.5000000000005?wt=-.011038193049597113:wt=.08154028164397753:e[1]>85.50000000000001?wt=.10259361975201933:wt=.011640408330521594:wt=-.00023319159023748508:e[92]>1e-35?wt=.13771692859530546:wt=.022860029819654806:e[1]>22.500000000000004?e[1]>24.500000000000004?e[2]>96.50000000000001?wt=.09967230141007705:e[30]>1e-35?wt=-.08888529037551285:wt=-.008615931385397808:e[10]>5.500000000000001?e[4]>36.50000000000001?wt=.08284665960761373:wt=-.029292565021289504:e[7]>7.500000000000001?wt=-.09945093355204493:wt=-.008381393701708593:e[20]>1e-35?wt=-.04218678460370465:e[10]>6.500000000000001?e[9]>2.5000000000000004?e[1]>13.500000000000002?e[8]>143.50000000000003?e[4]>7.500000000000001?e[2]>36.50000000000001?wt=.07585582641438211:e[8]>284.50000000000006?wt=-.029387993239886723:wt=.07716738177321587:e[1]>18.500000000000004?wt=.026745348497993746:wt=.1427429617069753:e[9]>16.500000000000004?e[9]>33.50000000000001?wt=.02337306890530338:wt=-.10390355904767366:wt=.07390521199638532:wt=-.06788247515155237:wt=-.04201446383470994:e[2]>25.500000000000004?e[2]>29.500000000000004?e[8]>227.50000000000003?wt=-.06360325615644084:wt=.04342192339836601:wt=-.10598779152030145:wt=.05253384605768211;let Ut;e[3]>7.500000000000001?e[157]>1e-35?Ut=-.07514182877923786:Ut=.000636205502279271:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Ut=.028692053800951845:Ut=.14081686716133598:Ut=-.03316566526940354:e[186]>1e-35?e[0]>2653.5000000000005?Ut=.0037139292567243084:Ut=.12662311031652707:e[107]>1e-35?e[0]>612.5000000000001?Ut=.01202688580305612:Ut=.0993509141454483:e[203]>1e-35?e[1]>77.50000000000001?Ut=.043935495082738626:Ut=-.05639305759669704:e[247]>1e-35?Ut=-.06770766046891649:e[105]>1e-35?e[19]>1e-35?Ut=.10331836202616368:Ut=.0006926658459781341:e[96]>1e-35?Ut=.05361846065599475:e[127]>1e-35?e[0]>2723.5000000000005?e[1]>54.50000000000001?Ut=-.0741403257305367:Ut=.022900127535540854:e[7]>3.5000000000000004?Ut=.038110741403836294:Ut=.14618649985842758:e[5]>3921.5000000000005?e[1]>110.50000000000001?Ut=-.09552842289807008:e[1]>27.500000000000004?Ut=.012505935885798007:Ut=-.020509603428689526:e[282]>1e-35?e[9]>45.50000000000001?e[6]>5.500000000000001?Ut=-.1046104767723845:Ut=.031388606992301074:e[8]>114.50000000000001?e[9]>17.500000000000004?e[9]>22.500000000000004?e[1]>32.50000000000001?Ut=.023466328488582572:Ut=.11730925774586994:Ut=-.04771965631104874:Ut=.17059689880751394:Ut=-.08181850955999449:e[26]>1e-35?Ut=-.12727482696678769:Ut=-.014343123272734182;let Wt;e[147]>1e-35?e[1]>53.50000000000001?Wt=-.0993064321015924:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Wt=-.02763546051134888:Wt=.06423344777499343:Wt=-.064606430904295:e[302]>1e-35?e[10]>2.5000000000000004?e[10]>47.50000000000001?Wt=.049825139823021586:e[7]>22.500000000000004?Wt=-.01131680751379858:e[0]>2579.5000000000005?Wt=-.10673674485369694:Wt=-.015387212937189957:Wt=.04347325151148724:e[179]>1e-35?Wt=-.05788885608624092:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Wt=.0650355590939066:Wt=-.0473332870892226:Wt=-.09699315983340703:e[288]>1e-35?e[88]>1e-35?Wt=.11139543329789044:e[126]>1e-35?Wt=-.09726928633696198:e[8]>149.50000000000003?e[9]>46.50000000000001?e[4]>1.5000000000000002?e[8]>1861.5000000000002?Wt=.06370903833231022:e[10]>29.500000000000004?Wt=.03415223859607161:e[10]>3.5000000000000004?Wt=-.07415518117873297:Wt=-.0014119203473324082:Wt=.12617652343819508:e[9]>41.50000000000001?Wt=-.10311145857176976:e[8]>2757.5000000000005?Wt=-.08106484219011428:e[7]>71.50000000000001?Wt=-.09783384432091176:e[1]>88.50000000000001?Wt=.06249739709782831:e[3]>9.500000000000002?e[5]>1601.5000000000002?Wt=-.008884084501608536:Wt=.061339437777743616:Wt=-.042490992675121846:e[2]>6.500000000000001?e[3]>10.500000000000002?Wt=.01526664064166223:Wt=.13534828515415498:Wt=-.06985484465894776:Wt=.0005758961943178744;let zt;e[86]>1e-35?e[1]>23.500000000000004?e[1]>29.500000000000004?e[4]>16.500000000000004?e[2]>31.500000000000004?zt=-.029152732370514342:zt=.07173628916139178:e[1]>36.50000000000001?zt=-.08859111297255318:zt=.0018030071815630785:zt=.13652461563759322:zt=-.07550137680349367:e[10]>52.50000000000001?e[49]>1e-35?zt=-.07145140450454163:e[21]>1e-35?zt=-.07422841663493233:zt=.006289319702780104:e[10]>40.50000000000001?e[9]>59.50000000000001?e[19]>1e-35?e[13]>1e-35?zt=.11864240653986852:e[3]>33.50000000000001?zt=-.08821209591953476:zt=.05706392280054726:zt=-.03600088051578915:e[18]>1e-35?e[1]>24.500000000000004?zt=.01953613016837112:zt=-.059781039130025006:e[148]>1e-35?zt=.052668447861325476:e[3]>30.500000000000004?e[9]>49.50000000000001?zt=.07207826841738371:e[202]>1e-35?zt=.08163917539410503:zt=-.01319846363832958:e[9]>35.50000000000001?e[5]>4134.500000000001?e[10]>44.50000000000001?zt=-.06858280496900336:zt=-.1781828899516648:zt=-.04024620133969553:e[9]>10.500000000000002?e[1]>22.500000000000004?e[1]>37.50000000000001?zt=.018232649414147116:zt=-.04419781124222661:zt=.05145485182416554:e[1]>23.500000000000004?e[0]>655.5000000000001?e[5]>4901.500000000001?e[10]>45.50000000000001?zt=.11452368095776105:zt=-.036496437259924026:zt=-.040445338739465486:zt=.0816572651001145:zt=-.08968914517368663:zt=.0002826343082585516;let lr;e[189]>1e-35?e[0]>5269.500000000001?lr=-.08839493050459957:e[10]>85.50000000000001?lr=.10046908365702462:e[8]>2592.5000000000005?lr=-.09632233975926387:e[8]>2000.5000000000002?lr=.10282992953871627:e[8]>1266.5000000000002?e[9]>34.50000000000001?lr=.035504970430426296:e[1]>31.500000000000004?lr=-.1133764813142531:lr=-.01138280942244812:e[8]>1125.5000000000002?lr=.09800530246229806:lr=.016170419267589393:e[218]>1e-35?e[9]>99.50000000000001?e[9]>101.50000000000001?e[9]>124.50000000000001?lr=.07316772160107896:lr=-.059095014819051765:lr=.17859437315769733:e[2]>1.5000000000000002?e[9]>86.50000000000001?lr=-.09150209066166894:e[8]>3084.0000000000005?lr=-.05443972593168094:e[1]>65.50000000000001?e[10]>11.500000000000002?e[9]>33.50000000000001?lr=-.04449234460408263:lr=.05568837973347338:lr=-.12362324875024472:e[1]>41.50000000000001?e[10]>12.500000000000002?e[8]>1336.5000000000002?lr=.12741077850267066:lr=.007372371864985329:e[2]>39.50000000000001?lr=.02295917234617787:lr=.14966532083907075:e[1]>39.50000000000001?lr=-.06685557815340279:e[10]>22.500000000000004?e[2]>52.50000000000001?lr=-.02511861881285652:e[1]>27.500000000000004?lr=.08683660011672288:lr=.02956214835267301:e[9]>15.500000000000002?lr=-.016538805462996232:lr=.04352738094981517:lr=-.05561856645643868:e[9]>170.50000000000003?lr=-.07996752635874248:e[179]>1e-35?lr=-.09065975936933919:lr=-.00042817975060427177;let hr;e[39]>1e-35?e[4]>25.500000000000004?hr=.03443173196222934:hr=-.06554248341270724:e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[4]>86.50000000000001?hr=-.0013415395759330318:hr=.12950978489563347:e[1]>22.500000000000004?e[10]>19.500000000000004?e[4]>30.500000000000004?e[9]>41.50000000000001?hr=.002297618040307216:hr=-.12522800128774994:e[4]>8.500000000000002?e[8]>1075.5000000000002?hr=-.015297257305397608:hr=.09651828834062742:hr=-.06636003334371929:e[10]>11.500000000000002?hr=.17631616138309397:e[0]>1639.5000000000002?hr=3804386478092585e-20:hr=-.09099296398683193:hr=-.06874415876172972:e[0]>2151.5000000000005?hr=-.1311264883406766:hr=.00809052010141122:e[253]>1e-35?hr=-.06338558211939296:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?e[10]>10.500000000000002?e[0]>3615.5000000000005?hr=.045038497754638605:hr=-.07770167665661752:hr=-.08596294280650517:hr=.08538655727027213:hr=.09829076418590559:e[1]>39.50000000000001?e[9]>1.5000000000000002?hr=.054627956617973275:e[1]>61.50000000000001?hr=-.11994465088415499:e[4]>8.500000000000002?hr=.06676200239406452:hr=-.027503148069376867:e[8]>676.5000000000001?hr=-.10363964928357075:e[4]>8.500000000000002?hr=-.07589816227175682:hr=.034664436544646814:e[1]>159.50000000000003?e[6]>25.500000000000004?hr=.009093153189012338:hr=-.06119765876605404:hr=.0004668642103528348;let sr;e[223]>1e-35?e[1]>31.500000000000004?e[8]>711.5000000000001?sr=-.10100794502567233:sr=.08000205636470442:sr=-.11945419826856896:e[113]>1e-35?sr=-.06105445938688056:e[167]>1e-35?e[0]>3928.5000000000005?sr=.1224302423880318:sr=-.01875566982911468:e[222]>1e-35?e[1]>8.500000000000002?e[1]>24.500000000000004?e[4]>3.5000000000000004?e[0]>725.5000000000001?e[0]>1682.5000000000002?e[0]>2860.5000000000005?sr=.0019277012166729114:e[1]>28.500000000000004?sr=-.054445821715687494:sr=.045645722976713245:e[30]>1e-35?sr=.13402660155331655:sr=.008921176001777645:sr=-.058547426505451076:sr=.08841202222426625:e[1]>22.500000000000004?e[10]>9.500000000000002?sr=-.13526418192218206:sr=-.03266013432583145:e[1]>20.500000000000004?e[4]>27.500000000000004?sr=.0007263224246135398:sr=.12450043268647056:e[1]>17.500000000000004?e[9]>1.5000000000000002?sr=-.11575657261278308:sr=-.01530376565862095:e[4]>13.500000000000002?e[4]>22.500000000000004?sr=-.01995960178292952:sr=.11216586049153021:sr=-.10050961087149474:sr=.08848063368485726:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?sr=.10303451081526649:sr=-.01375730267020699:e[1]>28.500000000000004?e[2]>20.500000000000004?sr=-.043799548968209395:sr=-.12451444314954115:e[4]>12.500000000000002?sr=-.03838117361958468:sr=.06504990789767144:e[57]>1e-35?sr=.06890006938293915:sr=.0003914274695562949;let cr;e[53]>1e-35?e[4]>11.500000000000002?e[8]>617.5000000000001?e[2]>41.50000000000001?cr=.004271749009686975:cr=-.10523878297127605:cr=.04633982158107851:cr=-.10349713975483057:e[183]>1e-35?e[15]>1e-35?cr=-.08655730561951676:e[8]>919.5000000000001?cr=-.0676453705610183:e[7]>18.500000000000004?cr=-.027787974193650575:cr=.08012784576991301:e[227]>1e-35?e[1]>6.500000000000001?e[3]>8.500000000000002?e[210]>1e-35?cr=.07185850683316512:e[8]>201.50000000000003?e[8]>348.50000000000006?e[23]>1e-35?e[8]>1049.5000000000002?cr=-.03473877164537313:e[8]>719.5000000000001?cr=.10471053866934404:cr=.008236107678382981:e[4]>57.50000000000001?cr=.09412219478825269:e[10]>66.50000000000001?cr=-.13884338641811986:e[10]>19.500000000000004?e[10]>22.500000000000004?e[0]>2490.5000000000005?cr=-.040681323751002293:cr=.06374650297561021:cr=.12884615227401788:e[10]>5.500000000000001?cr=-.0887517295786972:e[8]>597.5000000000001?e[18]>1e-35?cr=-.05474068967150784:cr=.03744700650806603:cr=-.07846396348680855:e[1]>42.50000000000001?cr=.018972315810821302:cr=.10953621007604744:e[5]>4439.500000000001?cr=.010999776705494586:e[1]>40.50000000000001?cr=-.12394200059775967:e[10]>2.5000000000000004?cr=.013528093962849453:cr=-.09222088417048682:cr=-.12662967149701485:cr=.09327296405849603:e[3]>99.50000000000001?cr=-.013581954439986752:cr=.0005526498251862075;let Zt;e[187]>1e-35?e[243]>1e-35?Zt=-.08392792551692502:e[10]>68.50000000000001?Zt=.07871769409454053:e[10]>8.500000000000002?e[10]>16.500000000000004?e[2]>17.500000000000004?e[3]>31.500000000000004?e[91]>1e-35?e[10]>21.500000000000004?e[10]>33.50000000000001?e[10]>48.50000000000001?Zt=-.0825306209711224:Zt=.049559996084532945:Zt=-.1064938580886302:Zt=.03353240732240275:Zt=.045985370399163464:e[1]>42.50000000000001?e[4]>20.500000000000004?Zt=.16966001471529374:e[1]>57.50000000000001?Zt=-.005772777673676247:Zt=.09383677041525058:e[8]>747.5000000000001?Zt=.054068175469351235:Zt=-.049968216310277036:e[8]>753.5000000000001?Zt=-.0679383555784074:e[4]>8.500000000000002?Zt=-.059757341189735386:Zt=.05701083682780414:Zt=-.052497281448921164:e[6]>12.500000000000002?e[8]>969.5000000000001?e[4]>23.500000000000004?Zt=.05820296128730006:Zt=-.1063042385102475:e[1]>49.50000000000001?e[8]>302.50000000000006?Zt=.15340611616954566:Zt=.04385036188666874:e[0]>4449.500000000001?Zt=-.02110897605541555:e[1]>24.500000000000004?e[2]>17.500000000000004?Zt=.004840354641006495:Zt=.09967827580276283:Zt=.11605363537391578:e[9]>19.500000000000004?Zt=-.0735831692725717:Zt=.019973331823355176:e[306]>1e-35?e[149]>1e-35?Zt=-.08968948874343531:e[8]>1094.5000000000002?e[10]>15.500000000000002?Zt=-.02442182361342386:Zt=.10334853004243093:Zt=-.030431948680167104:Zt=-956078595250818e-19;let ur;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4078.5000000000005?ur=-.040232505718244854:e[0]>3030.5000000000005?ur=.0634109586813073:ur=-.04043617034245621:ur=-.06385323610738443:e[120]>1e-35?e[4]>18.500000000000004?ur=-.007859096946435131:ur=.07282728486115758:e[229]>1e-35?e[0]>2952.5000000000005?e[17]>1e-35?ur=.05515771679628051:ur=-.04214471312668263:ur=-.09589322222261765:e[193]>1e-35?ur=-.05056345906812831:e[121]>1e-35?e[243]>1e-35?ur=.14857706653119385:e[4]>9.500000000000002?e[1]>26.500000000000004?e[2]>59.50000000000001?ur=-.08152604001147906:e[11]>1e-35?ur=.09132936522356462:e[15]>1e-35?e[4]>23.500000000000004?ur=.13100930780107503:e[10]>25.500000000000004?ur=.05921074710011526:ur=-.07226005736695183:e[0]>3304.5000000000005?e[0]>3707.5000000000005?e[0]>4053.5000000000005?ur=.0009447118243153454:ur=-.09820565036865991:ur=.057146909749745546:e[0]>2115.5000000000005?ur=-.12331216726611678:ur=.007281983677694285:e[2]>56.50000000000001?ur=.012310154675612615:ur=-.08873665774670461:e[6]>25.500000000000004?ur=.134708740821879:e[9]>5.500000000000001?ur=-.0805901581148979:e[224]>1e-35?ur=-.063684477784257:e[7]>2.5000000000000004?e[19]>1e-35?ur=.10842593386554122:e[2]>13.500000000000002?ur=.06466798320378395:ur=-.08578130788886655:ur=-.03590892078300114:ur=.0003499894043880708;let ve;e[134]>1e-35?e[6]>50.50000000000001?e[0]>3601.5000000000005?ve=.10839808814624702:ve=-.028043875308180352:e[7]>30.500000000000004?e[8]>932.5000000000001?ve=-.007478368069393829:ve=-.09066751344326617:e[0]>3588.5000000000005?e[5]>4748.500000000001?ve=.04035247751736232:e[0]>4255.500000000001?ve=-.1310865624507367:e[0]>4004.5000000000005?ve=.06647367311982634:ve=-.08339693352955757:e[4]>10.500000000000002?e[1]>34.50000000000001?ve=-.011618902907510411:ve=.1114646660406691:e[10]>2.5000000000000004?e[0]>3072.5000000000005?ve=.09356028223727986:ve=-.03811765057032162:ve=-.09456215497345526:e[280]>1e-35?e[7]>70.50000000000001?ve=.10322956436499003:e[2]>22.500000000000004?e[1]>83.50000000000001?ve=.1146142460964847:e[1]>62.50000000000001?ve=-.09679869865322362:e[9]>71.50000000000001?ve=-.07377580769927583:e[4]>19.500000000000004?e[0]>4571.500000000001?ve=-.039046426387852974:ve=.04558778688367152:ve=.11220830937352602:e[7]>5.500000000000001?e[9]>17.500000000000004?e[8]>1067.5000000000002?ve=.03261697816211156:e[15]>1e-35?ve=.02586252542264368:e[2]>14.500000000000002?ve=-.016420452667484604:ve=-.1011799626006976:ve=-.13787471318963773:e[6]>4.500000000000001?e[8]>427.50000000000006?e[10]>36.50000000000001?ve=.010193588102560583:ve=.11748729525930773:ve=-.04468162226743652:ve=-.028365274393617957:e[71]>1e-35?ve=.05115139346588793:ve=-.0001510425316936658;let O;e[298]>1e-35?e[8]>81.50000000000001?e[8]>119.50000000000001?e[4]>64.50000000000001?O=.09072192054181037:e[9]>72.50000000000001?e[8]>1094.5000000000002?O=.020637047900190317:O=-.1017300802134141:e[1]>23.500000000000004?e[9]>12.500000000000002?e[0]>2815.5000000000005?e[0]>3183.5000000000005?e[3]>23.500000000000004?e[3]>45.50000000000001?e[4]>48.50000000000001?O=-.04632587527094407:O=.08603684785510396:O=-.05101401015448496:O=.025466432054358498:O=-.07897811963329214:e[6]>13.500000000000002?e[10]>26.500000000000004?O=.020385355430046367:O=.12032592051335252:O=-.012387370292173013:e[2]>23.500000000000004?O=-.12568545484492677:O=-.022261190943521976:e[8]>634.5000000000001?e[8]>857.5000000000001?O=.043528764484784536:O=.14352071657196003:O=-.009332833816977268:O=.11186782227735846:O=-.0737365712425554:e[136]>1e-35?e[0]>1937.5000000000002?O=-.05649104643152564:O=.03884200719305747:e[42]>1e-35?O=-.07191700385792335:e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?O=-.04103416502526736:O=.04881823954656287:e[4]>15.500000000000002?O=.009342724662897898:e[0]>3969.5000000000005?O=-.025637309961309498:O=-.12574492012987865:e[212]>1e-35?e[19]>1e-35?O=-.08185697075265091:e[0]>2215.5000000000005?O=.030063975892297354:e[0]>807.5000000000001?O=-.03924325550733229:O=.0415330999189793:O=-.00024374664461674863;let me;e[3]>7.500000000000001?me=.0005117490419655908:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?me=.025798416259686565:me=.13251610353146012:me=-.029900559552677654:e[1]>81.50000000000001?e[1]>110.50000000000001?e[0]>4242.500000000001?me=-.11098564237775424:me=25960925309712775e-21:e[0]>4177.500000000001?e[9]>35.50000000000001?me=.15347826616466054:e[3]>4.500000000000001?me=.10379320730958941:me=-.008896303020010654:e[0]>3415.5000000000005?e[0]>3830.5000000000005?me=.03159791088468647:me=-.10612873364104258:me=.05059856107348746:e[133]>1e-35?e[2]>5.500000000000001?me=-.02335760775001469:me=-.1379386577903324:e[1]>62.50000000000001?e[3]>2.5000000000000004?me=-.011164334474672973:me=-.06594044410501655:e[207]>1e-35?me=-.1014214372326535:e[8]>3.5000000000000004?e[107]>1e-35?e[2]>6.500000000000001?me=-.01725821503981916:me=.05594086838700241:e[203]>1e-35?e[1]>44.50000000000001?e[1]>51.50000000000001?me=-.04226531631656534:me=-.14409800530171432:me=-.03245576341206398:e[8]>4214.500000000001?me=.0895409165534886:e[247]>1e-35?me=-.06506383629143335:e[118]>1e-35?me=-.07214270121257443:e[8]>546.5000000000001?me=-.004385020865473831:me=.009321812545248529:e[0]>1639.5000000000002?e[13]>1e-35?me=.046278501133958524:me=-.030835570926968044:e[0]>493.50000000000006?me=-.12794504651610425:me=.009415039807550776;let ye;e[304]>1e-35?ye=-.04717777269217453:e[76]>1e-35?ye=-.05813439142128324:e[1]>59.50000000000001?e[0]>350.50000000000006?e[53]>1e-35?ye=-.09648224457374217:e[132]>1e-35?ye=.07089308107910267:e[0]>2248.5000000000005?e[5]>2525.5000000000005?e[9]>1.5000000000000002?e[114]>1e-35?ye=-.08595213071749083:e[9]>14.500000000000002?e[9]>33.50000000000001?e[285]>1e-35?ye=.10838431695638147:e[230]>1e-35?ye=.06458713915750626:e[0]>3219.5000000000005?e[3]>23.500000000000004?e[9]>69.50000000000001?ye=.050071316251979:ye=-.006356941111525215:e[6]>8.500000000000002?ye=-.0384814076434817:e[1]>73.50000000000001?e[0]>3746.5000000000005?ye=.10217402850540398:ye=-.048840949025349197:ye=-.03668313197909846:e[7]>39.50000000000001?ye=-.0562642841496003:e[10]>2.5000000000000004?ye=.09749777369987417:ye=-.04848223121417616:e[0]>5453.500000000001?ye=.08316648226133942:ye=-.0261979698267618:e[212]>1e-35?ye=.09565573198318654:e[5]>4814.500000000001?e[8]>963.5000000000001?e[8]>1514.5000000000002?ye=.04837009746506856:ye=-.09184360565631328:ye=.0032411047845613606:e[0]>4733.500000000001?ye=.0977378556864798:ye=.010776545559325588:ye=-.012483310473120218:ye=-.049284121449103935:ye=.011962641341789565:e[1]>67.50000000000001?e[1]>77.50000000000001?ye=-.08380361910948711:ye=.07375088778585813:ye=-.1084864186071348:ye=.0007819503469605476;let K;e[7]>17.500000000000004?e[115]>1e-35?K=.08741852531696623:e[167]>1e-35?K=.10078975495600809:K=-.0018324767784017562:e[290]>1e-35?K=-.0850089851255888:e[74]>1e-35?e[10]>16.500000000000004?K=.1379733311640402:K=-.0038500648529631075:e[6]>29.500000000000004?e[8]>876.5000000000001?e[0]>3129.5000000000005?e[9]>5.500000000000001?e[8]>1765.5000000000002?K=-.09360083033774169:K=.061471353193188374:e[10]>11.500000000000002?e[10]>31.500000000000004?K=-.015599362579530679:e[0]>4593.500000000001?K=-.12029549262691491:K=-.018917032256501397:K=.04632831686576592:K=.06892347785444271:e[4]>8.500000000000002?e[10]>33.50000000000001?K=-.05894883236412263:K=.05213944998315824:K=.12621779223564986:e[243]>1e-35?e[6]>16.500000000000004?e[0]>4141.500000000001?e[0]>5850.500000000001?K=.07577412405680808:K=-.053144737214742235:e[1]>29.500000000000004?e[9]>16.500000000000004?K=-.0277076900736147:e[1]>65.50000000000001?K=-.023587471585763506:K=.10184896592433082:K=-.057699270527916825:K=-.041191811945739454:e[114]>1e-35?e[2]>23.500000000000004?K=.06566902102799584:e[10]>25.500000000000004?K=-.07033633753181047:K=-.01599120398351932:e[242]>1e-35?e[0]>2402.5000000000005?K=-.08108035861059537:K=.04184690010531078:e[35]>1e-35?e[0]>2904.5000000000005?K=-.12431182772561139:K=.01886235886984271:K=.0025579594894418116;let L;e[8]>2915.5000000000005?e[101]>1e-35?L=.08648323956719083:e[0]>93.50000000000001?e[196]>1e-35?L=-.09509320772734361:e[4]>1.5000000000000002?e[5]>1106.5000000000002?e[5]>1191.5000000000002?e[283]>1e-35?L=-.11268313808648661:e[10]>12.500000000000002?e[131]>1e-35?L=.0687641681341721:e[10]>102.50000000000001?L=-.09667920080214842:e[4]>15.500000000000002?e[8]>2992.5000000000005?e[1]>24.500000000000004?e[1]>71.50000000000001?L=-.06762578396473291:e[10]>65.50000000000001?L=-.05226727783610509:e[282]>1e-35?L=.09911438410640917:e[19]>1e-35?L=.06915156336429933:L=-.006565637886508241:L=-.08344300251849307:L=-.0928863907927501:e[1]>60.50000000000001?e[2]>17.500000000000004?L=.19428463865406298:L=.016073883020956765:e[13]>1e-35?L=.06864077097923665:L=-.01388867527034731:e[0]>1847.5000000000002?L=.004655280608161356:e[1]>40.50000000000001?L=.031406054057765996:L=.12798062439212832:L=.09859670536264255:e[10]>2.5000000000000004?e[9]>68.50000000000001?L=.08821759640665892:e[9]>32.50000000000001?e[8]>3960.0000000000005?e[1]>31.500000000000004?L=-.0706095614785733:L=.04227164041372561:L=-.1056906923176064:e[2]>8.500000000000002?e[19]>1e-35?L=-.07139533369873902:L=.008952586782921625:L=.06086212582180936:L=-.0816938490403437:L=-.051224901945956025:L=-.10525399124186095:L=.000270924147208224;let Ie;e[122]>1e-35?e[0]>2461.5000000000005?e[2]>36.50000000000001?Ie=.029186512383291244:e[7]>1.5000000000000002?Ie=-.14984127276725573:e[1]>40.50000000000001?Ie=.032757060730648144:Ie=-.07675575422749602:e[6]>8.500000000000002?Ie=.10599766037117893:Ie=-.0541423394552156:e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Ie=-.051394622947855385:Ie=.03237141302699347:Ie=.12526173027943244:Ie=.000579473126472788:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?Ie=-.07383912482657777:e[0]>5147.500000000001?Ie=.07008813937042091:e[10]>38.50000000000001?Ie=-.06779203808365307:Ie=-.013782769999524498:Ie=.0880038869117715:Ie=-.12846294176070952:e[281]>1e-35?Ie=-.06810806903850834:e[10]>227.50000000000003?Ie=-.08937977001661111:e[10]>130.50000000000003?Ie=.10538920632708033:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Ie=.011036530162093841:Ie=-.11500797478569702:Ie=.03702229366129399:Ie=.07242026683784307:e[189]>1e-35?Ie=.03331407112090286:e[9]>33.50000000000001?e[201]>1e-35?Ie=.08979610115743614:e[7]>57.50000000000001?e[1]>20.500000000000004?Ie=-.02608892716555304:Ie=.09609599320761308:e[9]>105.50000000000001?Ie=-.06848127135991534:Ie=.0023675721254089715:e[86]>1e-35?Ie=-.11049635625500497:Ie=-.004847764219432233;let Me;e[125]>1e-35?e[0]>3969.5000000000005?Me=-.09462233499115416:Me=.05235324508465096:e[17]>1e-35?e[49]>1e-35?e[10]>19.500000000000004?Me=-.030700661288166148:Me=.0870883677166864:e[10]>3.5000000000000004?e[3]>18.500000000000004?e[0]>3544.5000000000005?e[188]>1e-35?e[9]>7.500000000000001?Me=.03149547314036763:Me=-.08166208257451366:e[0]>5850.500000000001?Me=-.10228136324773157:e[102]>1e-35?Me=-.10572585290676295:e[8]>726.5000000000001?e[5]>3657.5000000000005?Me=.01782894842128785:e[13]>1e-35?Me=.002680190260979968:Me=.1773965720476949:e[2]>72.50000000000001?Me=.09090831938627947:e[1]>59.50000000000001?Me=-.12297206702816128:e[0]>4977.500000000001?Me=.09899015653118268:Me=-.022207141540838887:e[4]>32.50000000000001?e[1]>34.50000000000001?Me=-.0675900954187773:Me=.012336403425364092:Me=-.0017002325391924573:e[6]>7.500000000000001?e[1]>17.500000000000004?Me=-.02671721777458802:Me=-.09242452991958029:e[284]>1e-35?Me=-.08585691288582491:Me=.013332890564324447:e[4]>14.500000000000002?Me=-.005245022074799553:e[23]>1e-35?Me=-.020036720167235768:e[1]>29.500000000000004?e[114]>1e-35?Me=-.09289852307936758:e[116]>1e-35?Me=-.09686573010015055:e[8]>804.5000000000001?Me=.03812547148215318:Me=.005162744968176633:e[9]>43.50000000000001?Me=-.059246106396159376:Me=.050370113808135275:Me=.000794041852811028;let Ct;e[3]>7.500000000000001?Ct=.0004981426543104341:e[9]>114.50000000000001?Ct=.05666010099424601:e[129]>1e-35?e[6]>3.5000000000000004?Ct=-.019061766497948867:Ct=.07193491146561211:e[186]>1e-35?e[0]>2653.5000000000005?Ct=-.006044199577160493:Ct=.1147136801028133:e[6]>85.50000000000001?e[8]>847.5000000000001?Ct=.11486607015912494:e[9]>16.500000000000004?Ct=-.08686820858087294:Ct=.06119632492911875:e[127]>1e-35?e[0]>2723.5000000000005?e[0]>3682.5000000000005?e[1]>38.50000000000001?Ct=-.022230207980026437:Ct=.1056683690528792:Ct=-.05859530800943035:Ct=.06970608927597141:e[7]>3.5000000000000004?e[105]>1e-35?Ct=.08073568184886762:e[107]>1e-35?e[2]>6.500000000000001?Ct=-.05177544573528314:Ct=.05370469772149028:e[1]>35.50000000000001?e[0]>4106.500000000001?e[9]>46.50000000000001?e[0]>4633.500000000001?Ct=.15159657923771555:Ct=-.0060542654587671055:e[9]>5.500000000000001?Ct=-.042808028205051786:e[1]>48.50000000000001?Ct=-.010449538258110742:Ct=.10026907521968294:Ct=-.04249349329714756:e[9]>42.50000000000001?e[1]>19.500000000000004?e[8]>852.5000000000001?Ct=-.02272452389409874:Ct=-.11202691218244319:e[5]>1809.5000000000002?Ct=-.04460413584255906:Ct=.08196329474205256:e[10]>69.50000000000001?Ct=.10221481166238167:Ct=.0004063052701699382:e[243]>1e-35?Ct=-.07563941678849846:e[18]>1e-35?Ct=.02563513231103432:Ct=-.004740081147303786;let qt;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?qt=.057446442918106:qt=-.04404018270156349:qt=-.09282976714550464:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?qt=-.05930486238817954:e[1]>29.500000000000004?qt=.06955866121256543:e[8]>597.5000000000001?qt=-.06538593556505168:qt=.06212512595497445:qt=.00021102929959182257:e[9]>90.50000000000001?qt=.0958061289119631:e[102]>1e-35?qt=.07172059675638813:e[1]>47.50000000000001?qt=-.03879798603977766:e[297]>1e-35?qt=.054948234271956144:e[282]>1e-35?e[2]>6.500000000000001?qt=.003805910996312012:qt=.09304295674749524:e[11]>1e-35?e[18]>1e-35?qt=.11252376801858695:e[288]>1e-35?qt=-.10293901912180432:qt=.014669268837893872:e[1]>42.50000000000001?qt=-.05988274123836837:e[145]>1e-35?qt=.06142784665288495:e[3]>1.5000000000000002?e[4]>4.500000000000001?e[1]>21.500000000000004?e[1]>27.500000000000004?e[9]>24.500000000000004?qt=.038791154988529926:e[10]>22.500000000000004?e[2]>19.500000000000004?qt=-.03366718308159971:qt=.11936550608549797:e[1]>31.500000000000004?qt=-.07454716789539667:qt=.027859650621164217:e[10]>10.500000000000002?qt=-.11806374092321247:qt=-.03506042229223101:qt=-.0007080765837654515:e[10]>6.500000000000001?qt=-.028077713664996503:e[2]>7.500000000000001?qt=.15803724124216814:qt=.0351381284833169:qt=-.07877953381054767;let Ft;e[131]>1e-35?e[282]>1e-35?e[4]>23.500000000000004?Ft=.14144941521975005:Ft=.0007727806714190652:e[9]>1.5000000000000002?e[8]>2134.5000000000005?e[2]>34.50000000000001?Ft=.10514088112381886:e[7]>18.500000000000004?Ft=-.10370643555956745:Ft=.04093594315421388:e[6]>15.500000000000002?e[4]>9.500000000000002?e[10]>27.500000000000004?e[10]>71.50000000000001?Ft=-.0508129468802936:e[224]>1e-35?Ft=-.037816066368733595:e[10]>43.50000000000001?Ft=.07793408602607932:Ft=.017646166646099453:e[9]>3.5000000000000004?e[9]>29.500000000000004?e[17]>1e-35?Ft=.036972453794202324:Ft=-.08727431092411866:e[8]>427.50000000000006?e[8]>1278.5000000000002?Ft=.09475302525132188:Ft=-.03580104945898193:Ft=.08349488283861875:e[10]>3.5000000000000004?e[0]>1847.5000000000002?e[0]>4280.500000000001?e[2]>27.500000000000004?Ft=-.1282448778804823:Ft=-.014395808269207212:Ft=-.008940927190750592:Ft=-.1459118815453748:e[0]>4897.500000000001?Ft=-.09733068457286576:e[1]>57.50000000000001?Ft=.06575271409540207:Ft=-.019556422817450115:Ft=-.10623959222984136:e[18]>1e-35?Ft=.11280940901275241:e[8]>319.50000000000006?e[2]>6.500000000000001?Ft=.008125645893104896:Ft=-.11084368630465868:Ft=.0584398731508786:e[0]>350.50000000000006?e[3]>83.50000000000001?Ft=-.05854904579626861:e[4]>5.500000000000001?Ft=.02985784951394175:Ft=-.03247600140149334:Ft=-.11152899295304973:Ft=-.00035424577714215764;let tr;e[32]>1e-35?e[17]>1e-35?e[8]>359.50000000000006?e[8]>804.5000000000001?tr=-.06563670567578264:tr=.067656954313663:tr=-.10388217548685377:e[8]>2302.5000000000005?tr=.07190621943790435:e[4]>67.50000000000001?tr=.060020507643618604:e[4]>38.50000000000001?tr=-.08707253184321638:e[2]>11.500000000000002?e[2]>16.500000000000004?e[1]>31.500000000000004?e[1]>59.50000000000001?tr=-.06568134366461277:e[8]>1075.5000000000002?tr=-.004768057709758692:tr=.11785959165999467:tr=-.05080221682879267:tr=.14814206127494542:tr=-.07241946332311736:e[253]>1e-35?tr=-.058893562861261274:e[4]>61.50000000000001?e[283]>1e-35?e[10]>23.500000000000004?tr=-.02471195342450034:tr=.11866056464409412:e[10]>44.50000000000001?e[1]>16.500000000000004?e[8]>2640.0000000000005?tr=-.10741850739482771:tr=.010051635824944:tr=.12502069436017124:e[8]>1971.5000000000002?e[1]>23.500000000000004?e[308]>1e-35?tr=.10511236013756364:e[10]>10.500000000000002?e[1]>53.50000000000001?tr=-.08992396138178163:tr=.010944365997007212:tr=.06221307021813793:tr=.1286024087559141:e[127]>1e-35?tr=.06568148624531012:e[10]>40.50000000000001?tr=-.07567979134643352:e[5]>5647.500000000001?tr=.07594672895572069:tr=-.018158016446439187:e[6]>55.50000000000001?tr=.009293422430111872:e[4]>45.50000000000001?tr=-.017749818406964022:e[2]>46.50000000000001?tr=.01714136511113982:tr=-724762291423549e-19;let ir;e[1]>24.500000000000004?e[103]>1e-35?e[8]>48.50000000000001?e[17]>1e-35?ir=-.048689215588703864:e[9]>27.500000000000004?e[0]>3916.5000000000005?ir=.07084726276890757:ir=-.11232323677722932:ir=.04812773089510436:ir=.11757502216780046:e[5]>1464.5000000000002?e[5]>1505.5000000000002?e[167]>1e-35?ir=.07470606002425358:e[1]>53.50000000000001?e[132]>1e-35?ir=.0879462816013881:ir=-.002966662093626573:e[306]>1e-35?ir=-.04588085188342676:ir=.0031910005157084823:e[3]>10.500000000000002?e[10]>20.500000000000004?ir=-.006600332774461143:ir=.1272481351557754:ir=-.09030973597154808:e[284]>1e-35?e[1]>38.50000000000001?e[10]>2.5000000000000004?ir=.011884312066620044:ir=.11678751052403374:e[4]>8.500000000000002?ir=.03627129613273813:ir=-.12132783497902287:ir=-.006784372643244717:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?ir=-.06830131718398992:e[0]>5147.500000000001?ir=.062360406249609306:e[4]>4.500000000000001?ir=-.013162203864592055:ir=-.07153029184927609:ir=.07628618062271557:ir=-.12085065687320373:e[190]>1e-35?ir=-.045816889524231186:e[137]>1e-35?ir=-.07956001795911584:e[199]>1e-35?e[0]>3853.5000000000005?ir=.025895337822752502:ir=-.06503949350616421:e[10]>227.50000000000003?ir=-.09989456525790491:e[10]>130.50000000000003?ir=.08616651057030683:ir=.0001234981796706021;let Ot;e[8]>1014.5000000000001?e[9]>137.50000000000003?Ot=-.08778879924617534:e[8]>1022.5000000000001?e[285]>1e-35?e[9]>64.50000000000001?Ot=.04955806187281689:e[0]>3670.5000000000005?e[10]>32.50000000000001?Ot=-.141732381961068:Ot=-.0317152307496497:Ot=-.02074638849097191:e[0]>93.50000000000001?e[0]>3072.5000000000005?e[10]>100.50000000000001?e[4]>24.500000000000004?e[8]>1336.5000000000002?Ot=.12191801556691254:Ot=-.0003444689085397977:Ot=.005739668504631604:e[146]>1e-35?e[308]>1e-35?Ot=.015237524791728777:e[6]>61.50000000000001?e[4]>63.50000000000001?Ot=-.05676033995381961:Ot=.10933961076803381:e[4]>26.500000000000004?Ot=-.11667582544549814:e[8]>1765.5000000000002?Ot=.032174455312047705:Ot=-.0755016390126608:e[293]>1e-35?Ot=-.08234885407658332:e[9]>41.50000000000001?e[0]>3830.5000000000005?Ot=.026571311956824436:e[15]>1e-35?Ot=.06175459479851121:Ot=-.018778084411148754:e[9]>40.50000000000001?Ot=-.09420232889965811:Ot=-.004578248021263184:e[2]>1.5000000000000002?Ot=.005453714644971445:Ot=-.03907138175699279:Ot=-.055296364182154736:e[23]>1e-35?Ot=.036555134842143476:e[0]>4188.500000000001?e[6]>29.500000000000004?Ot=-.09358146510580179:Ot=.060524657996178094:Ot=-.11245101144669545:e[125]>1e-35?e[9]>1.5000000000000002?Ot=-.12698331085931538:Ot=.006059605604079918:e[2]>196.50000000000003?Ot=-.09451315810804783:Ot=.0011390147031687425;let vt;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[8]>3794.5000000000005?vt=.05517359070460923:vt=-.04758751221404857:vt=-.09482078194138792:e[8]>2992.5000000000005?e[1]>101.50000000000001?vt=.1040436595565776:e[9]>21.500000000000004?vt=.04032250517675179:e[107]>1e-35?vt=.05978752253058374:e[210]>1e-35?e[4]>37.50000000000001?vt=.1192453009230486:e[1]>51.50000000000001?vt=.0443376336292195:vt=-.07967674833321865:e[5]>2117.5000000000005?e[9]>10.500000000000002?vt=-.10025078607591283:e[0]>2882.5000000000005?e[18]>1e-35?vt=-.08999822408398037:vt=.017533219253893447:e[9]>1.5000000000000002?e[4]>12.500000000000002?vt=-.061850439226075:vt=.08849196353361093:vt=.10536348167793089:e[92]>1e-35?vt=.04894947712119185:e[9]>16.500000000000004?vt=.05900227903883853:e[9]>5.500000000000001?vt=-.11946594348916476:vt=-.03652096348071964:e[1]>41.50000000000001?vt=-.07411603110840567:vt=-.00021033247574340914:e[10]>22.500000000000004?e[9]>68.50000000000001?vt=.08493634342741495:e[11]>1e-35?vt=-.10899097825564363:vt=-.006156708838964173:e[8]>3198.5000000000005?e[2]>41.50000000000001?vt=.08356655906359918:e[7]>25.500000000000004?vt=-.09475076526194888:e[10]>5.500000000000001?vt=-.01999406228763778:vt=.06696212545889428:e[6]>20.500000000000004?vt=.14713592661393468:vt=.0459917279002218:vt=.00027445928493734093;let ar;e[223]>1e-35?e[1]>31.500000000000004?e[8]>634.5000000000001?ar=-.06904501553217077:ar=.05696231672035904:ar=-.1124703178077813:e[99]>1e-35?e[1]>89.50000000000001?ar=-.05074261170009721:e[1]>57.50000000000001?e[8]>969.5000000000001?ar=-.011419256378538392:e[0]>3830.5000000000005?ar=.140315841503076:ar=.02403434913963024:e[1]>31.500000000000004?e[8]>65.50000000000001?e[2]>10.500000000000002?ar=-.04027822909411164:ar=.03176085103667189:ar=.06779515865838849:e[4]>15.500000000000002?ar=.0762878389015175:e[8]>175.50000000000003?e[0]>3030.5000000000005?e[8]>1041.5000000000002?ar=.06124039747298539:ar=-.04312732764434027:ar=.09161522761808062:ar=-.09663512235460074:e[280]>1e-35?e[6]>45.50000000000001?e[1]>46.50000000000001?ar=.11211681010488772:e[13]>1e-35?ar=.06725735814960367:ar=-.046744031455827846:e[10]>44.50000000000001?e[0]>3400.5000000000005?e[0]>4004.5000000000005?e[2]>22.500000000000004?ar=.11743605068905603:ar=-.011309033539148687:ar=-.07896094707523052:ar=.12862714793172117:e[10]>1.5000000000000002?e[8]>455.50000000000006?e[0]>4706.500000000001?ar=-.09218756798869711:e[10]>19.500000000000004?e[0]>1894.5000000000002?e[0]>3719.5000000000005?ar=.02836295848998302:ar=.12210680366745175:ar=-.058302317470509096:e[5]>4144.500000000001?ar=.06123341960495106:ar=-.03840046906926525:ar=-.05221474543453495:ar=.03988215485860711:ar=-.00033074684693083496;let Po=Uct(t+r+n+i+s+a+l+c+u+f+m+h+p+A+x+E+v+b+S+B+D+F+W+ee+de+X+G+U+ie+z+H+M+j+Z+ae+ne+le+fe+Re+Ee+Oe+Be+Je+at+Xe+st+oe+Pe+Ae+We+Y+re+Ne+Se+Ce+Ue+Ve+et+yt+Rt+At+Vt+$t+nr+ge+Le+Ke+rt+St+Et+Lt+Mt+Tt+_t+wt+Ut+Wt+zt+lr+hr+sr+cr+Zt+ur+ve+O+me+ye+K+L+Ie+Me+Ct+qt+Ft+tr+ir+Ot+vt+ar);return[1-Po,Po]}o(Ave,"multilineModelPredict");function Uct(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}o(Uct,"sigmoid");var qct={javascript:["//"],typescript:["//"],typescriptreact:["//"],javascriptreact:["//"],vue:["//","-->"],php:["//","#"],dart:["//"],go:["//"],cpp:["//"],scss:["//"],csharp:["//"],java:["//"],c:["//"],rust:["//"],python:["#"],markdown:["#","-->"],css:["*/"]},yve={javascript:1,javascriptreact:2,typescript:3,typescriptreact:4,python:5,go:6,ruby:7};function Cve(e,t,r,n=!0){let i=e.split(`
`);if(n&&(i=i.filter(l=>l.trim().length>0)),Math.abs(t)>i.length||t>=i.length)return!1;t<0&&(t=i.length+t);let s=i[t];return(qct[r]??[]).some(l=>s.includes(l))}o(Cve,"hasComment");var TQ=class{static{o(this,"PromptFeatures")}constructor(t,r){let[n,i]=this.firstAndLast(t),s=this.firstAndLast(t.trimEnd());this.language=r,this.length=t.length,this.firstLineLength=n.length,this.lastLineLength=i.length,this.lastLineRstripLength=i.trimEnd().length,this.lastLineStripLength=i.trim().length,this.rstripLength=t.trimEnd().length,this.stripLength=t.trim().length,this.rstripLastLineLength=s[1].length,this.rstripLastLineStripLength=s[1].trim().length,this.secondToLastLineHasComment=Cve(t,-2,r),this.rstripSecondToLastLineHasComment=Cve(t.trimEnd(),-2,r),this.prefixEndsWithNewline=t.endsWith(`
`),this.lastChar=t.slice(-1),this.rstripLastChar=t.trimEnd().slice(-1),this.firstChar=t[0],this.lstripFirstChar=t.trimStart().slice(0,1)}firstAndLast(t){let r=t.split(`
`),n=r.length,i=r[0],s=r[n-1];return s==""&&n>1&&(s=r[n-2]),[i,s]}},Tee=class{static{o(this,"MultilineModelFeatures")}constructor(t,r,n){this.language=n,this.prefixFeatures=new TQ(t,n),this.suffixFeatures=new TQ(r,n)}constructFeatures(){let t=new Array(14).fill(0);t[0]=this.prefixFeatures.length,t[1]=this.prefixFeatures.firstLineLength,t[2]=this.prefixFeatures.lastLineLength,t[3]=this.prefixFeatures.lastLineRstripLength,t[4]=this.prefixFeatures.lastLineStripLength,t[5]=this.prefixFeatures.rstripLength,t[6]=this.prefixFeatures.rstripLastLineLength,t[7]=this.prefixFeatures.rstripLastLineStripLength,t[8]=this.suffixFeatures.length,t[9]=this.suffixFeatures.firstLineLength,t[10]=this.suffixFeatures.lastLineLength,t[11]=this.prefixFeatures.secondToLastLineHasComment?1:0,t[12]=this.prefixFeatures.rstripSecondToLastLineHasComment?1:0,t[13]=this.prefixFeatures.prefixEndsWithNewline?1:0;let r=new Array(Object.keys(yve).length+1).fill(0);r[yve[this.language]??0]=1;let n=new Array(Object.keys(qc).length+1).fill(0);n[qc[this.prefixFeatures.lastChar]??0]=1;let i=new Array(Object.keys(qc).length+1).fill(0);i[qc[this.prefixFeatures.rstripLastChar]??0]=1;let s=new Array(Object.keys(qc).length+1).fill(0);s[qc[this.suffixFeatures.firstChar]??0]=1;let a=new Array(Object.keys(qc).length+1).fill(0);return a[qc[this.suffixFeatures.lstripFirstChar]??0]=1,t.concat(r,n,i,s,a)}};function Wct(e,t){return new Tee(e.prefix,e.suffix,t)}o(Wct,"constructMultilineFeatures");function xve(e,t){let r=Wct(e,t).constructFeatures();return Ave(r)[1]}o(xve,"requestMultilineScore");d();var wQ=new Cr("getCompletions");function SQ(e,t,r){r.telemetry.markAsDisplayed(),r.telemetry.properties.reason=bw(r.resultType),Gt(e,`${t}.shown`,r.telemetry)}o(SQ,"telemetryShown");function Eve(e,t,r){let n=t+".accepted",i=e.get(Vu);i.previousLabel=1,i.previousLabelTimestamp=Date.now(),Gt(e,n,r)}o(Eve,"telemetryAccepted");function bve(e,t,r){let n=t+".rejected",i=e.get(Vu);i.previousLabel=0,i.previousLabelTimestamp=Date.now(),Gt(e,n,r)}o(bve,"telemetryRejected");function md(e,t={}){return{...t,telemetryBlob:e}}o(md,"mkCanceledResultTelemetry");function Es(e){let t={headerRequestId:e.properties.headerRequestId,copilot_trackingId:e.properties.copilot_trackingId};return e.properties.sku!==void 0&&(t.sku=e.properties.sku),e.properties.opportunityId!==void 0&&(t.opportunityId=e.properties.opportunityId),e.properties.organizations_list!==void 0&&(t.organizations_list=e.properties.organizations_list),e.properties.enterprise_list!==void 0&&(t.enterprise_list=e.properties.enterprise_list),e.properties.clientCompletionId!==void 0&&(t.clientCompletionId=e.properties.clientCompletionId),t["abexp.assignmentcontext"]=e.filtersAndExp.exp.assignmentContext,t}o(Es,"mkBasicResultTelemetry");function vve(e,t){if(t.type!=="promptOnly"){if(t.type==="success"){let r=Gs()-t.telemetryBlob.issuedTime,n=bw(t.resultType),i=JSON.stringify(t.performanceMetrics),s={...t.telemetryData,reason:n,performanceMetrics:i},{foundOffset:a}=t.telemetryBlob.measurements,l=t.performanceMetrics?.map(([c,u])=>`
${u.toFixed(2)}	${c}`).join("")??"";return wQ.debug(e,`ghostText produced from ${n} in ${Math.round(r)}ms with foundOffset ${a}${l}`),Ev(e,"ghostText.produced",s,{timeToProduceMs:r,foundOffset:a}),t.value}if(wQ.debug(e,"No ghostText produced -- "+t.type+": "+t.reason),t.type==="canceled"){Gt(e,"ghostText.canceled",t.telemetryData.telemetryBlob.extendedBy({reason:t.reason,cancelledNetworkRequest:t.telemetryData.cancelledNetworkRequest?"true":"false"}));return}Ev(e,`ghostText.${t.type}`,{...t.telemetryData,reason:t.reason},{})}}o(vve,"handleGhostTextResultTelemetry");function bw(e){switch(e){case 0:return"network";case 1:return"cache";case 3:return"cycling";case 2:return"typingAsSuggested";case 4:return"async"}}o(bw,"resultTypeToString");d();d();var Gct=["isEmptyBlockStart","isBlockBodyFinished","getNodeStart"],Hct=["isSupportedLanguageId","getBlockCloseToken","getPrompt"],I6r=[...Gct,...Hct];var Ep={isEmptyBlockStart:R3e,isBlockBodyFinished:D3e,isSupportedLanguageId:Lu,getBlockCloseToken:A3e,getNodeStart:P3e,getPrompt:I3e};function kQ(e,t){return Ep.isEmptyBlockStart(e.detectedLanguageId,e.getText(),e.offsetAt(t))}o(kQ,"isEmptyBlockStart");var P6r=new Cr("parseBlock");function Iw(e,t,r,n){let i=t.getText(oo.range(oo.position(0,0),r))+(n?`
`:""),s=t.offsetAt(r)+(n?1:0),a=t.detectedLanguageId;return l=>Ep.isBlockBodyFinished(a,i,l,s)}o(Iw,"parsingBlockFinished");async function Ive(e,t,r,n){let s=t.getText(oo.range(oo.position(0,0),r))+n,a=await Ep.getNodeStart(t.detectedLanguageId,s,t.offsetAt(r));if(a)return t.positionAt(a)}o(Ive,"getNodeStart");var Vct=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),jct=new RegExp(`^(${Vct.join("|")})`);function $ct(e){return jct.test(e.trimLeft().toLowerCase())}o($ct,"isContinuationLine");function _Q(e){let t=/^(\s*)([^]*)$/.exec(e);if(t&&t[2]&&t[2].length>0)return t[1].length}o(_Q,"indentationOfLine");function Tw(e,t){let r=e.getText(),n=e.offsetAt(t);return wee(r,n,e.detectedLanguageId)}o(Tw,"contextIndentation");function wee(e,t,r){let n=e.slice(0,t).split(`
`),i=e.slice(t).split(`
`);function s(f,m,h){let p=m,A,x;for(;A===void 0&&p>=0&&p<f.length;)A=_Q(f[p]),x=p,p+=h;if(r==="python"&&h===-1){p++;let E=f[p].trim();if(E.endsWith('"""')){if(!(E.startsWith('"""')&&E!=='"""'))for(p--;p>=0&&!f[p].trim().startsWith('"""');)p--;if(p>=0)for(A=void 0,p--;A===void 0&&p>=0;)A=_Q(f[p]),x=p,p--}}return[A,x]}o(s,"seekNonBlank");let[a,l]=s(n,n.length-1,-1),c=(()=>{if(!(a===void 0||l===void 0))for(let f=l-1;f>=0;f--){let m=_Q(n[f]);if(m!==void 0&&m<a)return m}})(),[u]=s(i,1,1);return{prev:c,current:a??0,next:u}}o(wee,"contextIndentationFromText");var zct=!1;function Yct(e,t,r){let n=e.split(`
`),i=r!==void 0,s=r?.split(`
`).pop(),a=0;if(i&&s?.trim()!=""&&n[0].trim()!==""&&a++,!i&&zct&&n[0].trim()===""&&a++,i||a++,n.length===a)return"continue";let l=Math.max(t.current,t.next??0);for(let c=a;c<n.length;c++){let u=n[c];c==0&&s!==void 0&&(u=s+u);let f=_Q(u);if(f!==void 0&&(f<l||f===l&&!$ct(u)))return n.slice(0,c).join(`
`).length}return"continue"}o(Yct,"completionCutOrContinue");function Tve(e,t){return async r=>{let n=Yct(r,e,t);return n==="continue"?void 0:n}}o(Tve,"indentationBlockFinished");d();d();d();function wve(e,t){return{...Dv,useSubsetMatching:See(e,t)}}o(wve,"getCppSimilarFilesOptions");function Sve(e){return Dv.maxTopSnippets}o(Sve,"getCppNumberOfSnippets");var Kct=new Map([["cpp",wve]]);function BQ(e,t,r){let n=Kct.get(r);return n?n(e,t):{...nN,useSubsetMatching:See(e,t)}}o(BQ,"getSimilarFilesOptions");var Jct=new Map([["cpp",Sve]]);function _ve(e,t){let r=Jct.get(t);return r?r(e):fX}o(_ve,"getNumberOfSnippets");function See(e,t){return(t.filtersAndExp.exp.variables.copilotsubsetmatching||qn(e,Pt.UseSubsetMatching))??!1}o(See,"useSubsetMatching");d();d();var Xct=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Zct(e){return Xct.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(Zct,"isOomError");function RQ(e,t,r,n=ni){if(!Ec(t)){if(t instanceof Error){let i=t;Zct(i)?e.get(Mi).setWarning("Out of memory"):i.code==="EMFILE"||i.code==="ENFILE"?e.get(Mi).setWarning("Too many open files"):i.code==="CopilotPromptLoadFailure"?e.get(Mi).setWarning("Corrupted Copilot installation"):`${i.code}`.startsWith("CopilotPromptWorkerExit")?e.get(Mi).setWarning("Worker unexpectedly exited"):i.syscall==="uv_cwd"&&i.code==="ENOENT"&&e.get(Mi).setWarning("Current working directory does not exist")}n.exception(e,t,r)}}o(RQ,"handleException");function kve(e){process.addListener("uncaughtException",r=>{RQ(e,r,"uncaughtException")});let t=!1;process.addListener("unhandledRejection",r=>{if(!t)try{t=!0,RQ(e,r,"unhandledRejection")}finally{t=!1}})}o(kve,"registerDefaultHandlers");d();d();d();var Na=class{constructor(){this._prompt_lib_expectations=new Map;this._prompt_components_expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{o(this,"ContextProviderStatistics")}addPromptLibExpectations(t,r){let n=this._prompt_lib_expectations.get(t)??[];this._prompt_lib_expectations.set(t,[...n,...r])}addPromptComponentsExpectations(t,r){let n=this._prompt_components_expectations.get(t)??[];this._prompt_components_expectations.set(t,[...n,...r])}clearExpectations(){this._prompt_lib_expectations.clear(),this._prompt_components_expectations.clear()}setLastResolution(t,r){this._lastResolution.set(t,r)}get(t){return this._statistics.get(t)}pop(t){let r=this._statistics.get(t);if(r)return this._statistics.delete(t),r}computeMatchWithPrompt(t){try{for(let[r,n]of this._prompt_lib_expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=0,a=!1;for(let u of n){if(u==DQ){a=!0;continue}t.includes(u)&&s++}let l=s/n.length,c;a?c=l===0?"none_content_excluded":"partial_content_excluded":c=l===1?"full":l===0?"none":"partial",this._statistics.set(r,{usage:c,resolution:i})}}finally{this.clearExpectations(),this._lastResolution.clear()}}computeMatch(t){try{for(let[r,n]of this._prompt_components_expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let s=[],a=!1;for(let[f,m]of n){let h={id:f.id,type:f.type};if(f.origin&&(h.origin=f.origin),m==="content_excluded"){a=!0,s.push({...h,usage:"none_content_excluded"});continue}let p=t.find(A=>A.source===f);p===void 0?s.push({...h,usage:"error"}):s.push({...h,usage:p.expectedTokens>0&&p.expectedTokens===p.actualTokens?"full":p.actualTokens>0?"partial":"none",expectedTokens:p.expectedTokens,actualTokens:p.actualTokens})}let c=s.reduce((f,m)=>m.usage==="full"?f+1:m.usage==="partial"?f+.5:f,0)/n.length,u;a?u=c===0?"none_content_excluded":"partial_content_excluded":u=c===1?"full":c===0?"none":"partial",this._statistics.set(r,{resolution:i,usage:u,usageDetails:s})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function Bve(e){return e.map(t=>{if(!(t.source===void 0||t.expectedTokens===void 0||t.actualTokens===void 0))return{source:t.source,expectedTokens:t.expectedTokens,actualTokens:t.actualTokens}}).filter(t=>t!==void 0)}o(Bve,"componentStatisticsToPromptMatcher");d();var Rve=I.Object({importance:I.Optional(I.Integer({minimum:0,maximum:100})),id:I.Optional(I.String()),origin:I.Optional(I.Union([I.Literal("request"),I.Literal("update")]))}),Dve=I.Intersect([I.Object({name:I.String(),value:I.String()}),Rve]),Pve=I.Intersect([I.Object({uri:I.String(),value:I.String(),additionalUris:I.Optional(I.Array(I.String()))}),Rve]),eut=[Dve,Pve],tut=I.Union(eut),rut=new Map([["Trait",Ns.Compile(Dve)],["CodeSnippet",Ns.Compile(Pve)]]),nut=o(e=>e,"ensureTypesAreEqual");nut(!0);var iut=I.Object({contextItems:I.Array(tut)}),sut=I.Object({selector:I.Array(I.Union([I.String(),I.Object({language:I.Optional(I.String()),scheme:I.Optional(I.String()),pattern:I.Optional(I.String())})]))}),_ee=I.Object({id:I.String()}),aut=I.Intersect([_ee,sut]),lut=I.Intersect([_ee,iut]),Fve=I.Object({providers:I.Array(aut)}),Nve=I.Object({providers:I.Array(_ee)}),kee=I.Object({providers:I.Array(lut),updating:I.Optional(I.Array(I.String()))}),PQ=I.Intersect([m5e,I.Object({contextItems:I.Optional(kee)})]);function FQ(e,t){return e.map(r=>{let n=r.data.filter(i=>i.type===t);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}o(FQ,"filterContextItemsByType");function Lve(e){let t=[],r=0;return e.forEach(n=>{let i=!1;for(let[s,a]of rut.entries())if(a.Check(n)){t.push({...n,type:s}),i=!0;break}i||r++}),[t,r]}o(Lve,"filterSupportedContextItems");function cut(e){return e.length>0&&e.replaceAll(/[^a-zA-Z0-9-]/g,"").length===e.length}o(cut,"validateContextItemId");function Qve(e,t){let r=new Set,n=[];for(let i of t){let s=i.id??Tr();if(!cut(s)){let a=Tr();ni.error(e,`Invalid context item ID ${s}, replacing with ${a}`),s=a}if(r.has(s)){let a=Tr();ni.error(e,`Duplicate context item ID ${s}, replacing with ${a}`),s=a}r.add(s),n.push({...i,id:s})}return n}o(Qve,"addOrValidateContextItemsIDs");var DQ="content_excluded";async function NQ(e,t,r){let n=FQ(t,"CodeSnippet");if(n.length===0)return[];let i=new Set,s=n.flatMap(u=>u.data.map(f=>(i.add(f.uri),f.additionalUris?.forEach(m=>i.add(m)),{providerId:u.providerId,data:f}))),a=e.get(Vr),l=new Map;await Promise.all(Array.from(i).map(async u=>{l.set(u,await a.getTextDocumentValidation({uri:u}))}));let c=e.get(Na);return s.filter(u=>{let m=[u.data.uri,...u.data.additionalUris??[]].every(h=>l.get(h)?.status==="valid");return m?(c.addPromptLibExpectations(u.providerId,[Hs(u.data.value,Da(r))]),c.addPromptComponentsExpectations(u.providerId,[[u.data,"included"]])):(c.addPromptLibExpectations(u.providerId,[DQ]),c.addPromptComponentsExpectations(u.providerId,[[u.data,DQ]])),m}).map(u=>u.data)}o(NQ,"getCodeSnippetsFromContextItems");function LQ(e,t){let r=e.get(Vr);return t.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}o(LQ,"addRelativePathToCodeSnippets");d();function $s(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}o($s,"Text");function Mve(e){return e.children}o(Mve,"Chunk");d();function On(e,t,r){let n=[];Array.isArray(t.children)?n=t.children:t.children&&(n=[t.children]);let i={...t,children:n};return r&&(i.key=r),{type:e,props:i}}o(On,"functionComponentFunction");function P1(e){return{type:"f",children:e}}o(P1,"fragmentFunction");P1.isFragmentFunction=!0;var Ove=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(Wc,f=>{f.codeSnippets!==r&&n(f.codeSnippets),f.document.uri!==i?.uri&&s(f.document)}),!r||r.length===0||!i)return;let a=Da(i.clientLanguageId),l=LQ(e.ctx,r),c=new Map;for(let f of l){let m=f.relativePath??f.snippet.uri,h=c.get(m);h===void 0&&(h=[],c.set(m,h)),h.push(f)}let u=[];for(let[f,m]of c.entries()){let h=m.filter(p=>p.snippet.value.length>0);h.length>0&&u.push({chunkElements:h.map(p=>p.snippet),importance:Math.max(...h.map(p=>p.snippet.importance??0)),uri:f})}if(u.length!==0)return u.sort((f,m)=>m.importance-f.importance),u.reverse(),u.map(f=>{let m=[];return m.push(On($s,{children:Hs(`Compare ${f.chunkElements.length>1?"these snippets":"this snippet"} from ${f.uri}:`,a)})),f.chunkElements.forEach((h,p)=>{m.push(On($s,{source:h,children:Hs(h.value,a)},h.id)),f.chunkElements.length>1&&p<f.chunkElements.length-1&&m.push(On($s,{children:Hs("---",a)}))}),On(Mve,{children:m})})},"CodeSnippets");d();d();function uut(e){let t=e*4,r=e*.1;return Math.floor(t+r)}o(uut,"approximateMaxCharacters");function ww(e,t){let[r,n]=t.useState(),[i,s]=t.useState(),[a,l]=t.useState(0),[c,u]=t.useState();t.useData(Wc,m=>{let h=m.document;(m.document.uri!==r?.uri||h.getText()!==r?.getText())&&n(h),m.position!==i&&s(m.position),m.suffixMatchThreshold!==c&&u(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens)});let f=uut(a);return On(P1,{children:[On(Bee,{document:r,position:i,maxCharacters:f}),On(Ree,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:f})]})}o(ww,"CurrentFile");function Bee(e){if(e.document===void 0||e.position===void 0)return On($s,{});let t=e.document.getText({start:{line:0,character:0},end:e.position});return t.length>e.maxCharacters&&(t=t.slice(-e.maxCharacters)),On($s,{children:t})}o(Bee,"BeforeCursor");function Ree(e,t){let[r,n]=t.useState("");if(e.document===void 0||e.position===void 0)return On($s,{});let i=e.document.getText({start:e.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});i.length>e.maxCharacters&&(i=i.slice(0,e.maxCharacters));let s=i.replace(/^.*/,"").trimStart();if(s==="")return On($s,{});if(r===s)return On($s,{children:r});let a=s;if(r!==""){let l=vo(),c=l.takeFirstTokens(s,w5);c.tokens.length>0&&100*uN(c.tokens,l.takeFirstTokens(r,w5).tokens)?.score<(e.suffixMatchThreshold??LT)*c.tokens.length&&(a=r)}return a!==r&&n(a),On($s,{children:a})}o(Ree,"AfterCursor");d();var QQ=class{constructor(t){this.tokenizer=t}static{o(this,"WishlistElision")}elide(t,r,n,i=0){if(r<=0)throw new Error("Prefix limit must be greater than 0");let s=n??{componentPath:"",value:"",weight:1,nodeStatistics:{},type:"suffix"},[a,l]=this.preparePrefixBlocks(t),{elidedSuffix:c,adjustedPrefixTokenLimit:u}=this.elideSuffix(s,i,r,l),f=this.elidePrefix(a,u,l);return[c,...f]}preparePrefixBlocks(t){let r=0,n=new Set;return[t.map((s,a)=>{let l=this.tokenizer.tokenLength(s.value);r+=l;let c=s.componentPath;if(n.has(c))throw new Error(`Duplicate component path in prefix blocks: ${c}`);return n.add(c),{...s,tokens:l,markedForRemoval:!1,originalIndex:a}}),r]}elideSuffix(t,r,n,i){let s=t.value;if(s.length===0||r<=0)return{elidedSuffix:{...t,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};i<n&&(r=r+(n-i),n=i);let a=this.tokenizer.takeFirstTokens(s,r);return{elidedSuffix:{...t,value:s,tokens:this.tokenizer.tokenLength(s),elidedValue:a.text,elidedTokens:a.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-a.tokens.length)}}elidePrefix(t,r,n){let i=this.removeLowWeightPrefixBlocks(t,r,n),s=i.filter(u=>!u.markedForRemoval).flatMap(u=>u.value.split(/([^\n]*\n+)/).map(m=>({line:m,componentPath:u.componentPath}))).filter(u=>u.line!=="");if(s.length===0)return[];let[a,l]=this.trimPrefixLinesToFit(s,r),c=l;return i.map(u=>{if(u.markedForRemoval)return c+u.tokens<=r&&!u.chunk?(c+=u.tokens,{...u,elidedValue:u.value,elidedTokens:u.tokens}):{...u,elidedValue:"",elidedTokens:0};let f=a.filter(h=>h.componentPath===u.componentPath&&h.line!=="").map(h=>h.line).join(""),m=u.tokens;return f!==u.value&&(m=f!==""?this.tokenizer.tokenLength(f):0),{...u,elidedValue:f,elidedTokens:m}})}removeLowWeightPrefixBlocks(t,r,n){let i=n;t.sort((s,a)=>s.weight-a.weight);for(let s of t){if(i<=r)break;if(s.weight!==1&&!(s.chunk&&s.markedForRemoval))if(s.chunk)for(let a of t)a.chunk===s.chunk&&!a.markedForRemoval&&(a.markedForRemoval=!0,i-=a.tokens);else s.markedForRemoval=!0,i-=s.tokens}return t.sort((s,a)=>s.originalIndex-a.originalIndex).map(s=>{let{originalIndex:a,...l}=s;return l})}trimPrefixLinesToFit(t,r){let n=0,i=[];for(let s=t.length-1;s>=0;s--){let a=t[s],l=a.line,c=this.tokenizer.tokenLength(l);if(n+c<=r)i.unshift(a),n+=c;else break}if(i.length===0){let s=t[t.length-1];if(s&&s.line.length>0){let l=this.tokenizer.takeLastTokens(s.line,r);return i.push({line:l.text,componentPath:s.componentPath}),[i,l.tokens.length]}let a=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(a)}return[i,n]}};function Uve(e){return e.map(t=>t.elidedValue).join("")}o(Uve,"makePrompt");function qve(e){return e.filter(t=>t.type==="prefix").map(t=>t.elidedValue).join("")}o(qve,"makePrefixPrompt");function Wve(e,t){return e.filter(r=>r.type==="context").map(r=>d3e(r.elidedValue,t)).join("").trim()}o(Wve,"makeContextPrompt");d();var VIe=tt(EI());var oM=class{constructor(t){this.snapshot=t}static{o(this,"SnapshotWalker")}walkSnapshot(t){this.walkSnapshotNode(this.snapshot,void 0,t,1,void 0,void 0)}walkSnapshotNode(t,r,n,i,s,a){let l=t.props?.weight??1,u=(typeof l=="number"?Math.max(0,Math.min(1,l)):1)*i,m=t.name===VIe.Chunk.name?t:s,h=t.props?.source??a;if(n(t,r,u,m,h))for(let A of t.children??[])this.walkSnapshotNode(A,t,n,u,m,h)}};var sM=class{constructor(){this.renderId=0}static{o(this,"CompletionsPromptRenderer")}render(t,r,n){let i=this.renderId++,s=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",l=r.tokenizer??vo(),{prefixBlocks:c,suffixBlock:u,componentStatistics:f}=this.processSnapshot(t,a),{prefixTokenLimit:m,suffixTokenLimit:h}=this.getPromptLimits(u,r),p=performance.now(),A=new QQ(l),[x,...E]=A.elide(c,m,u,h),v=performance.now(),b=Uve(E),S=qve(E),B=Wve(E,r.languageId),D=x.elidedValue,F=E.reduce((ee,de)=>ee+de.elidedTokens,0),W=F+x.elidedTokens;return f.push(...nft([...E,x])),{prefix:b,prefixTokens:F,suffix:D,suffixTokens:x.elidedTokens,prefixWithoutContext:S,context:B,tokens:W,status:"ok",metadata:{actualTokens:W,renderId:i,elisionTimeMs:v-p,renderTimeMs:performance.now()-s,componentStatistics:f,updateDataTimeMs:f.reduce((ee,de)=>ee+(de.updateDataTimeMs??0),0),status:"ok"}}}catch(a){return{status:"error",error:a}}}getPromptLimits(t,r){let n=t?.value??"",i=r.promptTokenLimit,s=r.suffixPercent;if(n.length==0||s==0)return{prefixTokenLimit:i,suffixTokenLimit:0};i=n.length>0?i-dX:i;let a=Math.ceil(i*(s/100));return{prefixTokenLimit:i-a,suffixTokenLimit:a}}processSnapshot(t,r){let n=[],i=[],s=[],a=!1,l=!1,c=!1;if(new oM(t).walkSnapshot((m,h,p,A,x)=>{if(m===t||(m.name===ww.name?a=!0:m.name===Bee.name?l=!0:m.name===Ree.name&&(c=!0),m.statistics.updateDataTimeMs&&m.statistics.updateDataTimeMs>0&&s.push({componentPath:m.path,updateDataTimeMs:m.statistics.updateDataTimeMs}),m.value===void 0||m.value===""))return!0;if(c)i.push({value:m.value,type:"suffix",weight:p,componentPath:m.path,nodeStatistics:m.statistics,chunk:A?A.path:void 0,source:x});else{let E=m.value.endsWith(r)?m.value:m.value+r,v=l?m.value:E;n.push({type:l?"prefix":"context",value:v,weight:p,componentPath:m.path,nodeStatistics:m.statistics,chunk:A?A.path:void 0,source:x})}return!0}),!a)throw new Error(`Node of type ${ww.name} not found`);if(i.length>1)throw new Error("Only one suffix is allowed");let f=i[0];return{prefixBlocks:n,suffixBlock:f,componentStatistics:s}}};function nft(e){return e.map(t=>{let r={componentPath:t.componentPath};return t.tokens!==0&&(r.expectedTokens=t.tokens,r.actualTokens=t.elidedTokens),t.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=t.nodeStatistics.updateDataTimeMs),t.source&&(r.source=t.source),r})}o(nft,"computeComponentStatistics");d();var jIe=o((e,t)=>{let[r,n]=t.useState();if(t.useData(Wc,i=>{n(i.telemetryData)}),r&&e.by(e.ctx,r))return e.children},"Gated");d();var $Ie=o((e,t)=>{let[r,n]=t.useState();if(t.useData(Wc,i=>{i.document.uri!==r?.uri&&n(i.document)}),r){let i=e.ctx.get(Vr),s=i.getRelativePath(r),a={uri:r.uri,source:r.getText(),offset:-1,relativePath:s,languageId:r.detectedLanguageId},l=i.findNotebook(r);return a.relativePath&&!l?On(ift,{docInfo:a}):On(oft,{docInfo:a})}},"DocumentMarker"),ift=o((e,t)=>On($s,{children:YF(e.docInfo)}),"PathMarker"),oft=o((e,t)=>On($s,{children:zF(e.docInfo)}),"LanguageMarker");d();d();d();d();d();var yte=class{static{o(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?aM.isErrorNoTelemetry(t)?new aM(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(r=>{r(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},zIe=new yte;function _4(e){zIe.onUnexpectedError(e)}o(_4,"onBugIndicatingError");function bI(e){sft(e)||zIe.onUnexpectedError(e)}o(bI,"onUnexpectedError");var Cte="Canceled";function sft(e){return e instanceof Sp?!0:e instanceof Error&&e.name===Cte&&e.message===Cte}o(sft,"isCancellationError");var Sp=class extends Error{static{o(this,"CancellationError")}constructor(){super(Cte),this.name=this.message}};function Ow(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(Ow,"illegalArgument");function YIe(e){return e?new Error(`Illegal state: ${e}`):new Error("Illegal state")}o(YIe,"illegalState");var aM=class e extends Error{static{o(this,"ErrorNoTelemetry")}constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof e)return t;let r=new e;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},gi=class e extends Error{static{o(this,"BugIndicatingError")}constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,e.prototype)}};function lM(e,t="Unreachable"){throw new Error(t)}o(lM,"assertNever");function Vc(e,t="unexpected state"){if(!e)throw new gi(`Assertion Failed: ${t}`)}o(Vc,"assert");function K5(e){if(!e()){debugger;e(),bI(new gi("Assertion Failed"))}}o(K5,"assertFn");function cM(e,t){let r=0;for(;r<e.length-1;){let n=e[r],i=e[r+1];if(!t(n,i))return!1;r++}return!0}o(cM,"checkAdjacentItems");d();d();d();function xte(e,t){let r=Hm(e,t);return r===-1?void 0:e[r]}o(xte,"findLastMonotonous");function Hm(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?i=a+1:s=a}return i-1}o(Hm,"findLastIdxMonotonous");function vI(e,t,r=0,n=e.length){let i=r,s=n;for(;i<s;){let a=Math.floor((i+s)/2);t(e[a])?s=a:i=a+1}return i}o(vI,"findFirstIdxMonotonousOrArrLen");var KIe=class e{constructor(t){this._array=t;this._findLastMonotonousLastIdx=0}static{o(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(t){if(e.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!t(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=t}let r=Hm(this._array,t,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};function Ete(e,t,r=(n,i)=>n===i){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!r(e[n],t[n]))return!1;return!0}o(Ete,"equals");function*XIe(e,t){let r,n;for(let i of e)n!==void 0&&t(n,i)?r.push(i):(r&&(yield r),r=[i]),n=i;r&&(yield r)}o(XIe,"groupAdjacentBy");function ZIe(e){return e.filter(t=>!!t)}o(ZIe,"coalesce");var e8e;(l=>{function e(c){return c<0}l.isLessThan=e,o(e,"isLessThan");function t(c){return c<=0}l.isLessThanOrEqual=t,o(t,"isLessThanOrEqual");function r(c){return c>0}l.isGreaterThan=r,o(r,"isGreaterThan");function n(c){return c===0}l.isNeitherLessOrGreaterThan=n,o(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(e8e||={});function J5(e,t){return(r,n)=>t(e(r),e(n))}o(J5,"compareBy");var X5=o((e,t)=>e-t,"numberComparator");var uM=class{constructor(t){this.items=t;this.firstIdx=0;this.lastIdx=this.items.length-1}static{o(this,"ArrayQueue")}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(t){let r=this.firstIdx;for(;r<this.items.length&&t(this.items[r]);)r++;let n=r===this.firstIdx?null:this.items.slice(this.firstIdx,r);return this.firstIdx=r,n}takeFromEndWhile(t){let r=this.lastIdx;for(;r>=0&&t(this.items[r]);)r--;let n=r===this.lastIdx?null:this.items.slice(r+1,this.lastIdx+1);return this.lastIdx=r,n}peek(){if(this.length!==0)return this.items[this.firstIdx]}peekLast(){if(this.length!==0)return this.items[this.lastIdx]}dequeue(){let t=this.items[this.firstIdx];return this.firstIdx++,t}removeLast(){let t=this.items[this.lastIdx];return this.lastIdx--,t}takeCount(t){let r=this.items.slice(this.firstIdx,this.firstIdx+t);return this.firstIdx+=t,r}},JIe=class e{constructor(t){this.iterate=t}static{o(this,"CallbackIterable")}static{this.empty=new e(t=>{})}forEach(t){this.iterate(r=>(t(r),!0))}toArray(){let t=[];return this.iterate(r=>(t.push(r),!0)),t}filter(t){return new e(r=>this.iterate(n=>t(n)?r(n):!0))}map(t){return new e(r=>this.iterate(n=>r(t(n))))}some(t){let r=!1;return this.iterate(n=>(r=t(n),!r)),r}findFirst(t){let r;return this.iterate(n=>t(n)?(r=n,!1):!0),r}findLast(t){let r;return this.iterate(n=>(t(n)&&(r=n),!0)),r}findLastMaxBy(t){let r,n=!0;return this.iterate(i=>((n||e8e.isGreaterThan(t(i,r)))&&(n=!1,r=i),!0)),r}};d();function i8e(e,t){let r=Object.create(null);for(let n of e){let i=t(n),s=r[i];s||(s=r[i]=[]),s.push(n)}return r}o(i8e,"groupBy");var r8e,n8e,t8e=class{constructor(t,r){this.toKey=r;this._map=new Map;this[r8e]="SetWithKey";for(let n of t)this.add(n)}static{o(this,"SetWithKey")}get size(){return this._map.size}add(t){let r=this.toKey(t);return this._map.set(r,t),this}delete(t){return this._map.delete(this.toKey(t))}has(t){return this._map.has(this.toKey(t))}*entries(){for(let t of this._map.values())yield[t,t]}keys(){return this.values()}*values(){for(let t of this._map.values())yield t}clear(){this._map.clear()}forEach(t,r){this._map.forEach(n=>t.call(r,n,n,this))}[(n8e=Symbol.iterator,r8e=Symbol.toStringTag,n8e)](){return this.values()}};d();function bte(e,t){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,t)try{i=e.apply(r,arguments)}finally{t()}else i=e.apply(r,arguments);return i}}o(bte,"createSingleCallFunction");d();var vte;(S=>{function e(B){return B&&typeof B=="object"&&typeof B[Symbol.iterator]=="function"}S.is=e,o(e,"is");let t=Object.freeze([]);function r(){return t}S.empty=r,o(r,"empty");function*n(B){yield B}S.single=n,o(n,"single");function i(B){return e(B)?B:n(B)}S.wrap=i,o(i,"wrap");function s(B){return B||t}S.from=s,o(s,"from");function*a(B){for(let D=B.length-1;D>=0;D--)yield B[D]}S.reverse=a,o(a,"reverse");function l(B){return!B||B[Symbol.iterator]().next().done===!0}S.isEmpty=l,o(l,"isEmpty");function c(B){return B[Symbol.iterator]().next().value}S.first=c,o(c,"first");function u(B,D){let F=0;for(let W of B)if(D(W,F++))return!0;return!1}S.some=u,o(u,"some");function f(B,D){for(let F of B)if(D(F))return F}S.find=f,o(f,"find");function*m(B,D){for(let F of B)D(F)&&(yield F)}S.filter=m,o(m,"filter");function*h(B,D){let F=0;for(let W of B)yield D(W,F++)}S.map=h,o(h,"map");function*p(B,D){let F=0;for(let W of B)yield*D(W,F++)}S.flatMap=p,o(p,"flatMap");function*A(...B){for(let D of B)yield*D}S.concat=A,o(A,"concat");function x(B,D,F){let W=F;for(let ee of B)W=D(W,ee);return W}S.reduce=x,o(x,"reduce");function*E(B,D,F=B.length){for(D<-B.length&&(D=0),D<0&&(D+=B.length),F<0?F+=B.length:F>B.length&&(F=B.length);D<F;D++)yield B[D]}S.slice=E,o(E,"slice");function v(B,D=Number.POSITIVE_INFINITY){let F=[];if(D===0)return[F,B];let W=B[Symbol.iterator]();for(let ee=0;ee<D;ee++){let de=W.next();if(de.done)return[F,S.empty()];F.push(de.value)}return[F,{[Symbol.iterator](){return W}}]}S.consume=v,o(v,"consume");async function b(B){let D=[];for await(let F of B)D.push(F);return Promise.resolve(D)}S.asyncToArray=b,o(b,"asyncToArray")})(vte||={});d();var Ite=class{constructor(t,r){this.uri=t;this.value=r}static{o(this,"ResourceMapEntry")}};function lft(e){return Array.isArray(e)}o(lft,"isEntries");var s8e,fM=class e{constructor(t,r){this[s8e]="ResourceMap";if(t instanceof e)this.map=new Map(t.map),this.toKey=r??e.defaultToKey;else if(lft(t)){this.map=new Map,this.toKey=r??e.defaultToKey;for(let[n,i]of t)this.set(n,i)}else this.map=new Map,this.toKey=t??e.defaultToKey}static{o(this,"ResourceMap")}static{this.defaultToKey=o(t=>t.toString(),"defaultToKey")}set(t,r){return this.map.set(this.toKey(t),new Ite(t,r)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,r){typeof r<"u"&&(t=t.bind(r));for(let[n,i]of this.map)t(i.value,i.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(s8e=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}},a8e,o8e=class{constructor(t,r){this[a8e]="ResourceSet";!t||typeof t=="function"?this._map=new fM(t):(this._map=new fM(r),t.forEach(this.add,this))}static{o(this,"ResourceSet")}get size(){return this._map.size}add(t){return this._map.set(t,t),this}clear(){this._map.clear()}delete(t){return this._map.delete(t)}forEach(t,r){this._map.forEach((n,i)=>t.call(r,i,i,this))}has(t){return this._map.has(t)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(a8e=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var l8e,Tte=class{constructor(){this[l8e]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{o(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=0){let n=this._map.get(t);if(n)return r!==0&&this.touch(n,r),n.value}set(t,r,n=0){let i=this._map.get(t);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.key,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}values(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:n.value,done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}entries(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let s={value:[n.key,n.value],done:!1};return n=n.next,s}else return{value:void 0,done:!0}}};return i}[(l8e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===2){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}},wte=class extends Tte{static{o(this,"Cache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=2){return super.get(t,r)}peek(t){return super.get(t,0)}set(t,r){return super.set(t,r,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},dM=class extends wte{static{o(this,"LRUCache")}constructor(t,r=1){super(t,r)}trim(t){this.trimOld(t)}set(t,r){return super.set(t,r),this.checkTrim(),this}};var mM=class{constructor(){this.map=new Map}static{o(this,"SetMap")}add(t,r){let n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(r)}delete(t,r){let n=this.map.get(t);n&&(n.delete(r),n.size===0&&this.map.delete(t))}forEach(t,r){let n=this.map.get(t);n&&n.forEach(r)}get(t){let r=this.map.get(t);return r||new Set}};var cft=!1,II=null;var c8e=class e{constructor(){this.livingDisposables=new Map}static{o(this,"DisposableTracker")}static{this.idx=0}getDisposableData(t){let r=this.livingDisposables.get(t);return r||(r={parent:null,source:null,isSingleton:!1,value:t,idx:e.idx++},this.livingDisposables.set(t,r)),r}trackDisposable(t){let r=this.getDisposableData(t);r.source||(r.source=new Error().stack)}setParent(t,r){let n=this.getDisposableData(t);n.parent=r}markAsDisposed(t){this.livingDisposables.delete(t)}markAsSingleton(t){this.getDisposableData(t).isSingleton=!0}getRootParent(t,r){let n=r.get(t);if(n)return n;let i=t.parent?this.getRootParent(this.getDisposableData(t.parent),r):t;return r.set(t,i),i}getTrackedDisposables(){let t=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,t).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(t=10,r){let n;if(r)n=r;else{let c=new Map,u=[...this.livingDisposables.values()].filter(m=>m.source!==null&&!this.getRootParent(m,c).isSingleton);if(u.length===0)return;let f=new Set(u.map(m=>m.value));if(n=u.filter(m=>!(m.parent&&f.has(m.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(c){function u(m,h){for(;m.length>0&&h.some(p=>typeof p=="string"?p===m[0]:m[0].match(p));)m.shift()}o(u,"removePrefix");let f=c.source.split(`
`).map(m=>m.trim().replace("at ","")).filter(m=>m!=="");return u(f,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),f.reverse()}o(i,"getStackTracePath");let s=new mM;for(let c of n){let u=i(c);for(let f=0;f<=u.length;f++)s.add(u.slice(0,f).join(`
`),c)}n.sort(J5(c=>c.idx,X5));let a="",l=0;for(let c of n.slice(0,t)){l++;let u=i(c),f=[];for(let m=0;m<u.length;m++){let h=u[m];h=`(shared with ${s.get(u.slice(0,m+1).join(`
`)).size}/${n.length} leaks) at ${h}`;let A=s.get(u.slice(0,m).join(`
`)),x=i8e([...A].map(E=>i(E)[m]),E=>E);delete x[u[m]];for(let[E,v]of Object.entries(x))f.unshift(`    - stacktraces of ${v.length} other leaks continue with ${E}`);f.unshift(h)}a+=`


==================== Leaking disposable ${l}/${n.length}: ${c.value.constructor.name} ====================
${f.join(`
`)}
============================================================

`}return n.length>t&&(a+=`


... and ${n.length-t} more leaking disposables

`),{leaks:n,details:a}}};function uft(e){II=e}o(uft,"setDisposableTracker");if(cft){let e="__is_disposable_tracked__";uft(new class{trackDisposable(t){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{t[e]||console.log(r)},3e3)}setParent(t,r){if(t&&t!==fa.None)try{t[e]=!0}catch{}}markAsDisposed(t){if(t&&t!==fa.None)try{t[e]=!0}catch{}}markAsSingleton(t){}})}function TI(e){return II?.trackDisposable(e),e}o(TI,"trackDisposable");function wI(e){II?.markAsDisposed(e)}o(wI,"markAsDisposed");function Ste(e,t){II?.setParent(e,t)}o(Ste,"setParentOfDisposable");function fft(e,t){if(II)for(let r of e)II.setParent(r,t)}o(fft,"setParentOfDisposables");function u8e(e){return typeof e=="object"&&e!==null&&typeof e.dispose=="function"&&e.dispose.length===0}o(u8e,"isDisposable");function hM(e){if(vte.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(n){t.push(n)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}o(hM,"dispose");function f8e(...e){let t=da(()=>hM(e));return fft(e,t),t}o(f8e,"combinedDisposable");function da(e){let t=TI({dispose:bte(()=>{wI(t),e()})});return t}o(da,"toDisposable");var z0=class e{constructor(){this._toDispose=new Set;this._isDisposed=!1;TI(this)}static{o(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(wI(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{hM(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return Ste(t,this),this._isDisposed?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),Ste(t,null))}},fa=class{constructor(){this._store=new z0;TI(this),Ste(this._store,this)}static{o(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){wI(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};d();d();d();d();d();var Q1=o((e,t)=>e===t,"strictEquals");d();d();var d8e=class e{static{o(this,"Node")}static{this.Undefined=new e(void 0)}constructor(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}};d();var dft=globalThis.performance&&typeof globalThis.performance.now=="function",pM=class e{static{o(this,"StopWatch")}static create(t){return new e(t)}constructor(t){this._now=dft&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var m8e=!1,mft=!1,k4;(z=>{z.None=o(()=>fa.None,"None");function t(H){if(mft){let{onDidAddListener:M}=H,j=Uw.create(),Z=0;H.onDidAddListener=()=>{++Z===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),j.print()),M?.()}}}o(t,"_addLeakageTraceLogic");function r(H,M){return p(H,()=>{},0,void 0,!0,void 0,M)}z.defer=r,o(r,"defer");function n(H){return(M,j=null,Z)=>{let ae=!1,ne;return ne=H(le=>{if(!ae)return ne?ne.dispose():ae=!0,M.call(j,le)},null,Z),ae&&ne.dispose(),ne}}z.once=n,o(n,"once");function i(H,M){return z.once(z.filter(H,M))}z.onceIf=i,o(i,"onceIf");function s(H,M,j){return m((Z,ae=null,ne)=>H(le=>Z.call(ae,M(le)),null,ne),j)}z.map=s,o(s,"map");function a(H,M,j){return m((Z,ae=null,ne)=>H(le=>{M(le),Z.call(ae,le)},null,ne),j)}z.forEach=a,o(a,"forEach");function l(H,M,j){return m((Z,ae=null,ne)=>H(le=>M(le)&&Z.call(ae,le),null,ne),j)}z.filter=l,o(l,"filter");function c(H){return H}z.signal=c,o(c,"signal");function u(...H){return(M,j=null,Z)=>{let ae=f8e(...H.map(ne=>ne(le=>M.call(j,le))));return h(ae,Z)}}z.any=u,o(u,"any");function f(H,M,j,Z){let ae=j;return s(H,ne=>(ae=M(ae,ne),ae),Z)}z.reduce=f,o(f,"reduce");function m(H,M){let j,Z={onWillAddFirstListener(){j=H(ae.fire,ae)},onDidRemoveLastListener(){j?.dispose()}};M||t(Z);let ae=new $u(Z);return M?.add(ae),ae.event}o(m,"snapshot");function h(H,M){return M instanceof Array?M.push(H):M&&M.add(H),H}o(h,"addAndReturnDisposable");function p(H,M,j=100,Z=!1,ae=!1,ne,le){let fe,Re,Ee,Oe=0,Be,Je={leakWarningThreshold:ne,onWillAddFirstListener(){fe=H(Xe=>{Oe++,Re=M(Re,Xe),Z&&!Ee&&(at.fire(Re),Re=void 0),Be=o(()=>{let st=Re;Re=void 0,Ee=void 0,(!Z||Oe>1)&&at.fire(st),Oe=0},"doFire"),typeof j=="number"?(clearTimeout(Ee),Ee=setTimeout(Be,j)):Ee===void 0&&(Ee=0,queueMicrotask(Be))})},onWillRemoveListener(){ae&&Oe>0&&Be?.()},onDidRemoveLastListener(){Be=void 0,fe.dispose()}};le||t(Je);let at=new $u(Je);return le?.add(at),at.event}z.debounce=p,o(p,"debounce");function A(H,M=0,j){return z.debounce(H,(Z,ae)=>Z?(Z.push(ae),Z):[ae],M,void 0,!0,void 0,j)}z.accumulate=A,o(A,"accumulate");function x(H,M=(Z,ae)=>Z===ae,j){let Z=!0,ae;return l(H,ne=>{let le=Z||!M(ne,ae);return Z=!1,ae=ne,le},j)}z.latch=x,o(x,"latch");function E(H,M,j){return[z.filter(H,M,j),z.filter(H,Z=>!M(Z),j)]}z.split=E,o(E,"split");function v(H,M=!1,j=[],Z){let ae=j.slice(),ne=H(Re=>{ae?ae.push(Re):fe.fire(Re)});Z&&Z.add(ne);let le=o(()=>{ae?.forEach(Re=>fe.fire(Re)),ae=null},"flush"),fe=new $u({onWillAddFirstListener(){ne||(ne=H(Re=>fe.fire(Re)),Z&&Z.add(ne))},onDidAddFirstListener(){ae&&(M?setTimeout(le):le())},onDidRemoveLastListener(){ne&&ne.dispose(),ne=null}});return Z&&Z.add(fe),fe.event}z.buffer=v,o(v,"buffer");function b(H,M){return o((Z,ae,ne)=>{let le=M(new B);return H(function(fe){let Re=le.evaluate(fe);Re!==S&&Z.call(ae,Re)},void 0,ne)},"fn")}z.chain=b,o(b,"chain");let S=Symbol("HaltChainable");class B{constructor(){this.steps=[]}static{o(this,"ChainableSynthesis")}map(M){return this.steps.push(M),this}forEach(M){return this.steps.push(j=>(M(j),j)),this}filter(M){return this.steps.push(j=>M(j)?j:S),this}reduce(M,j){let Z=j;return this.steps.push(ae=>(Z=M(Z,ae),Z)),this}latch(M=(j,Z)=>j===Z){let j=!0,Z;return this.steps.push(ae=>{let ne=j||!M(ae,Z);return j=!1,Z=ae,ne?ae:S}),this}evaluate(M){for(let j of this.steps)if(M=j(M),M===S)break;return M}}function D(H,M,j=Z=>Z){let Z=o((...fe)=>le.fire(j(...fe)),"fn"),ae=o(()=>H.on(M,Z),"onFirstListenerAdd"),ne=o(()=>H.removeListener(M,Z),"onLastListenerRemove"),le=new $u({onWillAddFirstListener:ae,onDidRemoveLastListener:ne});return le.event}z.fromNodeEventEmitter=D,o(D,"fromNodeEventEmitter");function F(H,M,j=Z=>Z){let Z=o((...fe)=>le.fire(j(...fe)),"fn"),ae=o(()=>H.addEventListener(M,Z),"onFirstListenerAdd"),ne=o(()=>H.removeEventListener(M,Z),"onLastListenerRemove"),le=new $u({onWillAddFirstListener:ae,onDidRemoveLastListener:ne});return le.event}z.fromDOMEventEmitter=F,o(F,"fromDOMEventEmitter");function W(H,M){return new Promise(j=>n(H)(j,null,M))}z.toPromise=W,o(W,"toPromise");function ee(H){let M=new $u;return H.then(j=>{M.fire(j)},()=>{M.fire(void 0)}).finally(()=>{M.dispose()}),M.event}z.fromPromise=ee,o(ee,"fromPromise");function de(H,M){return H(j=>M.fire(j))}z.forward=de,o(de,"forward");function X(H,M,j){return M(j),H(Z=>M(Z))}z.runAndSubscribe=X,o(X,"runAndSubscribe");class G{constructor(M,j){this._observable=M;this._counter=0;this._hasChanged=!1;let Z={onWillAddFirstListener:o(()=>{M.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:o(()=>{M.removeObserver(this)},"onDidRemoveLastListener")};j||t(Z),this.emitter=new $u(Z),j&&j.add(this.emitter)}static{o(this,"EmitterObserver")}beginUpdate(M){this._counter++}handlePossibleChange(M){}handleChange(M,j){this._hasChanged=!0}endUpdate(M){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function U(H,M){return new G(H,M).emitter.event}z.fromObservable=U,o(U,"fromObservable");function ie(H){return(M,j,Z)=>{let ae=0,ne=!1,le={beginUpdate(){ae++},endUpdate(){ae--,ae===0&&(H.reportChanges(),ne&&(ne=!1,M.call(j)))},handlePossibleChange(){},handleChange(){ne=!0}};H.addObserver(le),H.reportChanges();let fe={dispose(){H.removeObserver(le)}};return Z instanceof z0?Z.add(fe):Array.isArray(Z)&&Z.push(fe),fe}}z.fromObservableLight=ie,o(ie,"fromObservableLight")})(k4||={});var _te=class e{constructor(t){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${t}_${e._idPool++}`,e.all.add(this)}static{o(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(t){this._stopWatch=new pM,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}},h8e=-1;var kte=class e{constructor(t,r,n=(e._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t;this.threshold=r;this.name=n;this._warnCountdown=0}static{o(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(t,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[s,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(s);let c=new Bte(l,s);this._errorHandler(c)}return()=>{let s=this._stacks.get(t.value)||0;this._stacks.set(t.value,s-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[n,i]of this._stacks)(!t||r<i)&&(t=[n,i],r=i);return t}},Uw=class e{constructor(t){this.value=t}static{o(this,"Stacktrace")}static create(){let t=new Error;return new e(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},Bte=class extends Error{static{o(this,"ListenerLeakError")}constructor(t,r){super(t),this.name="ListenerLeakError",this.stack=r}},Rte=class extends Error{static{o(this,"ListenerRefusalError")}constructor(t,r){super(t),this.name="ListenerRefusalError",this.stack=r}},hft=0,SI=class{constructor(t){this.value=t;this.id=hft++}static{o(this,"UniqueContainer")}},pft=2,gft=o((e,t)=>{if(e instanceof SI)t(e);else for(let r=0;r<e.length;r++){let n=e[r];n&&t(n)}},"forEachListener"),$u=class{constructor(t){this._size=0;this._options=t,this._leakageMon=h8e>0||this._options?.leakWarningThreshold?new kte(t?.onListenerError??bI,this._options?.leakWarningThreshold??h8e):void 0,this._perfMon=this._options?._profName?new _te(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{o(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(m8e){let t=this._listeners;queueMicrotask(()=>{gft(t,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(t,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],f=new Rte(`${c}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||bI)(f),fa.None}if(this._disposed)return fa.None;r&&(t=t.bind(r));let i=new SI(t),s,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=Uw.create(),s=this._leakageMon.check(i.stack,this._size+1)),m8e&&(i.stack=a??Uw.create()),this._listeners?this._listeners instanceof SI?(this._deliveryQueue??=new Dte,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=da(()=>{s?.(),this._removeListener(i)});return n instanceof z0?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(t){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(t);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*pft<=r.length){let s=0;for(let a=0;a<r.length;a++)r[a]?r[s++]=r[a]:i&&s<this._deliveryQueue.end&&(this._deliveryQueue.end--,s<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=s}}_deliver(t,r){if(!t)return;let n=this._options?.onListenerError||bI;if(!n){t.value(r);return}try{t.value(r)}catch(i){n(i)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof SI)this._deliver(this._listeners,t);else{let r=this._deliveryQueue;r.enqueue(this,t,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var Dte=class{constructor(){this.i=-1;this.end=0}static{o(this,"EventDeliveryQueuePrivate")}enqueue(t,r,n){this.i=0,this.end=n,this.current=t,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};d();var Y0=class{constructor(t,r,n){this.owner=t;this.debugNameSource=r;this.referenceFn=n}static{o(this,"DebugNameData")}getDebugName(t){return y8e(t,this)}},p8e=new Map,Pte=new WeakMap;function y8e(e,t){let r=Pte.get(e);if(r)return r;let n=Aft(e,t);if(n){let i=p8e.get(n)??0;i++,p8e.set(n,i);let s=i===1?n:`${n}#${i}`;return Pte.set(e,s),s}}o(y8e,"getDebugName");function Aft(e,t){let r=Pte.get(e);if(r)return r;let n=t.owner?Cft(t.owner)+".":"",i,s=t.debugNameSource;if(s!==void 0)if(typeof s=="function"){if(i=s(),i!==void 0)return n+i}else return n+s;let a=t.referenceFn;if(a!==void 0&&(i=gM(a),i!==void 0))return n+i;if(t.owner!==void 0){let l=yft(t.owner,e);if(l!==void 0)return n+l}}o(Aft,"computeDebugName");function yft(e,t){for(let r in e)if(e[r]===t)return r}o(yft,"findKey");var g8e=new Map,A8e=new WeakMap;function Cft(e){let t=A8e.get(e);if(t)return t;let r=xft(e),n=g8e.get(r)??0;n++,g8e.set(r,n);let i=n===1?r:`${r}#${n}`;return A8e.set(e,i),i}o(Cft,"formatOwner");function xft(e){let t=e.constructor;return t?t.name:"Object"}o(xft,"getClassName");function gM(e){let t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t);return(n?n[1]:void 0)?.trim()}o(gM,"getFunctionName");d();var B4;function yM(e){B4?B4 instanceof AM?B4.loggers.push(e):B4=new AM([B4,e]):B4=e}o(yM,"addLogger");function bs(){return B4}o(bs,"getLogger");var Fte;function C8e(e){Fte=e}o(C8e,"setLogObservableFn");function x8e(e){Fte&&Fte(e)}o(x8e,"logObservable");var AM=class{constructor(t){this.loggers=t}static{o(this,"ComposedLogger")}handleObservableCreated(t){for(let r of this.loggers)r.handleObservableCreated(t)}handleOnListenerCountChanged(t,r){for(let n of this.loggers)n.handleOnListenerCountChanged(t,r)}handleObservableUpdated(t,r){for(let n of this.loggers)n.handleObservableUpdated(t,r)}handleAutorunCreated(t){for(let r of this.loggers)r.handleAutorunCreated(t)}handleAutorunDisposed(t){for(let r of this.loggers)r.handleAutorunDisposed(t)}handleAutorunDependencyChanged(t,r,n){for(let i of this.loggers)i.handleAutorunDependencyChanged(t,r,n)}handleAutorunStarted(t){for(let r of this.loggers)r.handleAutorunStarted(t)}handleAutorunFinished(t){for(let r of this.loggers)r.handleAutorunFinished(t)}handleDerivedDependencyChanged(t,r,n){for(let i of this.loggers)i.handleDerivedDependencyChanged(t,r,n)}handleDerivedCleared(t){for(let r of this.loggers)r.handleDerivedCleared(t)}handleBeginTransaction(t){for(let r of this.loggers)r.handleBeginTransaction(t)}handleEndTransaction(t){for(let r of this.loggers)r.handleEndTransaction(t)}};var E8e;function b8e(e){E8e=e}o(b8e,"_setRecomputeInitiallyAndOnChange");var v8e;function I8e(e){v8e=e}o(I8e,"_setKeepObserved");var Nte;function T8e(e){Nte=e}o(T8e,"_setDerivedOpts");var CM=class{static{o(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(t){return t?t.readObservable(this):this.get()}map(t,r){let n=r===void 0?void 0:t,i=r===void 0?t:r;return Nte({owner:n,debugName:o(()=>{let s=gM(i);if(s!==void 0)return s;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:i},s=>i(this.read(s),s))}flatten(){return Nte({owner:void 0,debugName:o(()=>`${this.debugName} (flattened)`,"debugName")},t=>this.read(t).read(t))}recomputeInitiallyAndOnChange(t,r){return t.add(E8e(this,r)),this}keepObserved(t){return t.add(v8e(this)),this}get debugValue(){return this.get()}},Z5=class extends CM{constructor(){super();this.observers=new Set;bs()?.handleObservableCreated(this)}static{o(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&bs()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&bs()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!bs();return x8e(this),r||bs()?.handleObservableCreated(this),this}};function EM(e,t){let r=new _I(e,t);try{e(r)}finally{r.finish()}}o(EM,"transaction");function Lte(e,t,r){e?t(e):EM(t,r)}o(Lte,"subtransaction");var _I=class{constructor(t,r){this._fn=t;this._getDebugName=r;this.updatingObservers=[];bs()?.handleBeginTransaction(this)}static{o(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():gM(this._fn)}updateObserver(t,r){this.updatingObservers.push({observer:t,observable:r}),t.beginUpdate(r)}finish(){let t=this.updatingObservers;for(let r=0;r<t.length;r++){let{observer:n,observable:i}=t[r];n.endUpdate(i)}this.updatingObservers=null,bs()?.handleEndTransaction(this)}};function Vm(e,t){let r;return typeof e=="string"?r=new Y0(void 0,e,void 0):r=new Y0(e,void 0,void 0),new xM(r,t,Q1)}o(Vm,"observableValue");var xM=class extends Z5{constructor(r,n,i){super();this._debugNameData=r;this._equalityComparator=i;this._value=n,bs()?.handleObservableUpdated(this,{hadValue:!1,newValue:n,change:void 0,didChange:!0,oldValue:void 0})}static{o(this,"ObservableValue")}get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}get(){return this._value}set(r,n,i){if(i===void 0&&this._equalityComparator(this._value,r))return;let s;n||(n=s=new _I(()=>{},()=>`Setting ${this.debugName}`));try{let a=this._value;this._setValue(r),bs()?.handleObservableUpdated(this,{oldValue:a,newValue:r,change:i,didChange:!0,hadValue:!0});for(let l of this.observers)n.updateObserver(l,this),l.handleChange(this,i)}finally{s&&s.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(r){this._value=r}};d();d();function R4(e){return new kI(new Y0(void 0,void 0,e),e,void 0,void 0)}o(R4,"autorun");function Qte(e,t){return new kI(new Y0(e.owner,e.debugName,e.debugReferenceFn??t),t,void 0,void 0)}o(Qte,"autorunOpts");function bM(e,t){return new kI(new Y0(e.owner,e.debugName,e.debugReferenceFn??t),t,e.createEmptyChangeSummary,e.handleChange)}o(bM,"autorunHandleChanges");function Mte(e,t){let r=new z0,n=bM({owner:e.owner,debugName:e.debugName,debugReferenceFn:e.debugReferenceFn??t,createEmptyChangeSummary:e.createEmptyChangeSummary,handleChange:e.handleChange},(i,s)=>{r.clear(),t(i,s,r)});return da(()=>{n.dispose(),r.dispose()})}o(Mte,"autorunWithStoreHandleChanges");function Ote(e){let t=new z0,r=Qte({owner:void 0,debugName:void 0,debugReferenceFn:e},n=>{t.clear(),e(n,t)});return da(()=>{r.dispose(),t.dispose()})}o(Ote,"autorunWithStore");var kI=class{constructor(t,r,n,i){this._debugNameData=t;this._runFn=r;this.createChangeSummary=n;this._handleChange=i;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),bs()?.handleAutorunCreated(this),this._runIfNeeded(),TI(this)}static{o(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),bs()?.handleAutorunDisposed(this),wI(this)}_runIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3;try{if(!this.disposed){bs()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){_4(n)}finally{this._isRunning=!1}}}finally{this.disposed||bs()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(t){this.state===3&&(this.state=1),this.updateCount++}endUpdate(t){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}K5(()=>this.updateCount>=0)}handlePossibleChange(t){this.state===3&&this._isDependency(t)&&(this.state=1)}handleChange(t,r){if(this._isDependency(t)){bs()?.handleAutorunDependencyChanged(this,t,r);try{(this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:o(i=>i===t,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){_4(n)}}}_isDependency(t){return this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)}readObservable(t){if(!this._isRunning)throw new gi("The reader object cannot be used outside its compute function!");if(this.disposed)return t.get();t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}};(t=>t.Observer=kI)(R4||={});d();function vM(e,t){return new D4(new Y0(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??Q1)}o(vM,"derivedOpts");T8e(vM);var D4=class extends Z5{constructor(r,n,i,s,a=void 0,l){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=i;this._handleChange=s;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{o(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,bs()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,i=this.value;this.state=3;let s=!1;this._isComputing=!0;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,a)}finally{this._isReaderValid=!1;for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}s=n&&!this._equalityComparator(i,this.value),bs()?.handleObservableUpdated(this,{oldValue:i,newValue:this.value,change:void 0,didChange:s,hadValue:n})}catch(a){_4(a)}if(this._isComputing=!1,s)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new gi("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let i of this.observers)i.handlePossibleChange(this);if(n)for(let i of this.observers)i.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let i of n)i.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let i=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let s of i)s.endUpdate(this)}}K5(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){bs()?.handleDerivedDependencyChanged(this,r,n);let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:o(a=>a===r,"didChange")},this.changeSummary):!0}catch(a){_4(a)}let s=this.state===3;if(i&&(this.state===1||s)&&(this.state=2,s))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new gi("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};d();d();function Ute(...e){let t,r,n;return e.length===3?[t,r,n]=e:[r,n]=e,new ey(new Y0(t,void 0,n),r,n,()=>ey.globalTransaction,Q1)}o(Ute,"observableFromEvent");var ey=class extends Z5{constructor(r,n,i,s,a){super();this._debugNameData=r;this.event=n;this._getValue=i;this._getTransaction=s;this._equalityComparator=a;this.hasValue=!1;this.handleEvent=o(r=>{let n=this._getValue(r),i=this.value,s=!this.hasValue||!this._equalityComparator(i,n),a=!1;s&&(this.value=n,this.hasValue&&(a=!0,Lte(this._getTransaction(),l=>{bs()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue});for(let c of this.observers)l.updateObserver(c,this),c.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||bs()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:s,hadValue:this.hasValue})},"handleEvent")}static{o(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=ey;function t(n,i){let s=!1;ey.globalTransaction===void 0&&(ey.globalTransaction=n,s=!0);try{i()}finally{s&&(ey.globalTransaction=void 0)}}r.batchEventsGlobally=t,o(t,"batchEventsGlobally")})(Ute||={});function S8e(e){let t=new IM(!1,void 0);return e.addObserver(t),da(()=>{e.removeObserver(t)})}o(S8e,"keepObserved");I8e(S8e);function _8e(e,t){let r=new IM(!0,t);return e.addObserver(r),t?t(e.get()):e.reportChanges(),da(()=>{e.removeObserver(r)})}o(_8e,"recomputeInitiallyAndOnChange");b8e(_8e);var IM=class{constructor(t,r){this._forceRecompute=t;this._handleValue=r;this._counter=0}static{o(this,"KeepAliveObserver")}beginUpdate(t){this._counter++}endUpdate(t){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(t.get()):t.reportChanges())}handlePossibleChange(t){}handleChange(t,r){}};function M1(e,t,r,n){let i=new TM(r,n);return vM({debugReferenceFn:r,owner:e,onLastObserverRemoved:o(()=>{i.dispose(),i=new TM(r)},"onLastObserverRemoved")},a=>(i.setItems(t.read(a)),i.getItems()))}o(M1,"mapObservableArrayCached");var TM=class{constructor(t,r){this._map=t;this._keySelector=r;this._cache=new Map;this._items=[]}static{o(this,"ArrayMap")}dispose(){this._cache.forEach(t=>t.store.dispose()),this._cache.clear()}setItems(t){let r=[],n=new Set(this._cache.keys());for(let i of t){let s=this._keySelector?this._keySelector(i):i,a=this._cache.get(s);if(a)n.delete(s);else{let l=new z0;a={out:this._map(i,l),store:l},this._cache.set(s,a)}r.push(a.out)}for(let i of n)this._cache.get(i).store.dispose(),this._cache.delete(i);this._items=r}getItems(){return this._items}};function qte(e,t){let r;return Mte({createEmptyChangeSummary:o(()=>({deltas:[],didChange:!1}),"createEmptyChangeSummary"),handleChange:o((n,i)=>{if(n.didChange(e)){let s=n.change;s!==void 0&&i.deltas.push(s),i.didChange=!0}return!0},"handleChange")},(n,i)=>{let s=e.read(n),a=r;i.didChange&&(r=s,t(s,a,i.deltas))})}o(qte,"runOnChange");d();d();d();var k8e=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),wM;(n=>{function e(i){return i===n.None||i===n.Cancelled||i instanceof BI?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=e,o(e,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:k4.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k8e})})(wM||={});var BI=class{constructor(){this._isCancelled=!1;this._emitter=null}static{o(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k8e:(this._emitter||(this._emitter=new $u),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},O1=class{constructor(t){this._token=void 0;this._parentListener=void 0;this._parentListener=t&&t.onCancellationRequested(this.cancel,this)}static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new BI),this._token}cancel(){this._token?this._token instanceof BI&&this._token.cancel():this._token=wM.Cancelled}dispose(t=!1){t&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof BI&&this._token.dispose():this._token=wM.None}};d();var SM;function B8e(e){SM||(SM=new Ww,yM(SM)),SM.addFilteredObj(e)}o(B8e,"logObservableToConsole");var Ww=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{o(this,"ConsoleObservableLogger")}addFilteredObj(t){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(t)}_isIncluded(t){return this._filteredObjects?.has(t)??!0}textToConsoleArgs(t){return Eft([RI(Ift("|  ",this.indentation)),t])}formatInfo(t){return t.hadValue?t.didChange?[RI(" "),hd(qw(t.oldValue,70),{color:"red",strikeThrough:!0}),RI(" "),hd(qw(t.newValue,60),{color:"green"})]:[RI(" (unchanged)")]:[RI(" "),hd(qw(t.newValue,60),{color:"green"}),RI(" (initial)")]}handleObservableCreated(t){if(t instanceof D4){let r=t;if(this.changedObservablesSets.set(r,new Set),!1){let i=[];r.__debugUpdating=i;let s=r.beginUpdate;r.beginUpdate=l=>(i.push(l),s.apply(r,[l]));let a=r.endUpdate;r.endUpdate=l=>{let c=i.indexOf(l);return c===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),i.splice(c,1),a.apply(r,[l])}}}}handleOnListenerCountChanged(t,r){}handleObservableUpdated(t,r){if(this._isIncluded(t)){if(t instanceof D4){this._handleDerivedRecomputed(t,r);return}console.log(...this.textToConsoleArgs([DI("observable value changed"),hd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(t){if(t.size!==0)return hd(" (changed deps: "+[...t].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t)?.add(r)}_handleDerivedRecomputed(t,r){if(!this._isIncluded(t))return;let n=this.changedObservablesSets.get(t);n&&(console.log(...this.textToConsoleArgs([DI("derived recomputed"),hd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:t._debugNameData.referenceFn??t._computeFn}]}])),n.clear())}handleDerivedCleared(t){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([DI("derived cleared"),hd(t.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(t,r){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([DI("observable from event triggered"),hd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:t._getValue}]}]))}handleAutorunCreated(t){this._isIncluded(t)&&this.changedObservablesSets.set(t,new Set)}handleAutorunDisposed(t){}handleAutorunDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t).add(r)}handleAutorunStarted(t){let r=this.changedObservablesSets.get(t);r&&(this._isIncluded(t)&&console.log(...this.textToConsoleArgs([DI("autorun"),hd(t.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:t._debugNameData.referenceFn??t._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(t){this.indentation--}handleBeginTransaction(t){let r=t.getDebugName();r===void 0&&(r=""),this._isIncluded(t)&&console.log(...this.textToConsoleArgs([DI("transaction"),hd(r,{color:"BlueViolet"}),{data:[{fn:t._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function Eft(e){let t=new Array,r=[],n="";function i(a){if("length"in a)for(let l of a)l&&i(l);else"text"in a?(n+=`%c${a.text}`,t.push(a.style),a.data&&r.push(...a.data)):"data"in a&&r.push(...a.data)}o(i,"process"),i(e);let s=[n,...t];return s.push(...r),s}o(Eft,"consoleTextToArgs");function RI(e){return hd(e,{color:"black"})}o(RI,"normalText");function DI(e){return hd(Tft(`${e}: `,10),{color:"black",bold:!0})}o(DI,"formatKind");function hd(e,t={color:"black"}){function r(i){return Object.entries(i).reduce((s,[a,l])=>`${s}${a}:${l};`,"")}o(r,"objToCss");let n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:r(n)}}o(hd,"styled");function qw(e,t){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return e===null?"null":Array.isArray(e)?bft(e,t):vft(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}o(qw,"formatValue");function bft(e,t){let r="[ ",n=!0;for(let i of e){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${qw(i,t-r.length)}`}return r+=" ]",r}o(bft,"formatArray");function vft(e,t){if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString){let i=e.toString();return i.length<=t?i:i.substring(0,t-3)+"..."}let r="{ ",n=!0;for(let[i,s]of Object.entries(e)){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${i}: ${qw(s,t-r.length)}`}return r+=" }",r}o(vft,"formatObject");function Ift(e,t){let r="";for(let n=1;n<=t;n++)r+=e;return r}o(Ift,"repeat");function Tft(e,t){for(;e.length<t;)e+=" ";return e}o(Tft,"padStr");C8e(B8e);var wft=!1;wft&&yM(new Ww);d();var P4;(r=>{r.PlainText="plaintext";function t(n){return n}r.create=t,o(t,"create")})(P4||={});d();d();d();function R8e(e){return e}o(R8e,"identity");var _M=class{constructor(t,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof t=="function"?(this._fn=t,this._computeKey=R8e):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"LRUCachedFunction")}get(t){let r=this._computeKey(t);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(t)),this.lastCache}},U1=class{constructor(t,r){this._map=new Map;this._map2=new Map;typeof t=="function"?(this._fn=t,this._computeKey=R8e):(this._fn=r,this._computeKey=t.getCacheKey)}static{o(this,"CachedFunction")}get cachedValues(){return this._map}get(t){let r=this._computeKey(t);if(this._map2.has(r))return this._map2.get(r);let n=this._fn(t);return this._map.set(t,n),this._map2.set(r,n),n}};d();d();var _p=class{constructor(t){this.executor=t;this._didRun=!1}static{o(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};d();function F4(e){return e<0?0:e>4294967295?4294967295:e|0}o(F4,"toUint32");function Gte(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}o(Gte,"escapeRegExpCharacters");function ty(e){return e.split(/\r\n|\r|\n/)}o(ty,"splitLines");function N8e(e,t){let r=Math.min(e.length,t.length),n;for(n=0;n<r;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return r}o(N8e,"commonPrefixLength");function kM(e,t){let r=Math.min(e.length,t.length),n,i=e.length-1,s=t.length-1;for(n=0;n<r;n++)if(e.charCodeAt(i-n)!==t.charCodeAt(s-n))return n;return r}o(kM,"commonSuffixLength");var _ft=/^[\t\n\r\x20-\x7E]*$/;function Hte(e){return _ft.test(e)}o(Hte,"isBasicASCII");var gBr=String.fromCharCode(65279);var D8e=class e{static{o(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}constructor(){this._data=kft()}getGraphemeBreakType(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(t<r[3*i])i=2*i;else if(t>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function kft(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}o(kft,"getGraphemeBreakRawData");var P8e=class e{constructor(t){this.confusableDictionary=t}static{o(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new _p(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new _M({getCacheKey:JSON.stringify},t=>{function r(f){let m=new Map;for(let h=0;h<f.length;h+=2)m.set(f[h],f[h+1]);return m}o(r,"arrayToMap");function n(f,m){let h=new Map(f);for(let[p,A]of m)h.set(p,A);return h}o(n,"mergeMaps");function i(f,m){if(!f)return m;let h=new Map;for(let[p,A]of f)m.has(p)&&h.set(p,A);return h}o(i,"intersectMaps");let s=this.ambiguousCharacterData.value,a=t.filter(f=>!f.startsWith("_")&&f in s);a.length===0&&(a=["_default"]);let l;for(let f of a){let m=r(s[f]);l=i(l,m)}let c=r(s._common),u=n(c,l);return new e(u)})}static getInstance(t){return e.cache.get(Array.from(t))}static{this._locales=new _p(()=>Object.keys(e.ambiguousCharacterData.value).filter(t=>!t.startsWith("_")))}static getLocales(){return e._locales.value}isAmbiguous(t){return this.confusableDictionary.has(t)}containsAmbiguousCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},F8e=class e{static{o(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(e.getRawData())),this._data}static isInvisibleCharacter(t){return e.getData().has(t)}static containsInvisibleCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&e.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return e.getData()}};d();var Mr=class e{constructor(t,r){this.start=t;this.endExclusive=r;if(t>r)throw new gi(`Invalid range: ${this.toString()}`)}static{o(this,"OffsetRange")}static fromTo(t,r){return new e(t,r)}static addRange(t,r){let n=0;for(;n<r.length&&r[n].endExclusive<t.start;)n++;let i=n;for(;i<r.length&&r[i].start<=t.endExclusive;)i++;if(n===i)r.splice(n,0,t);else{let s=Math.min(t.start,r[n].start),a=Math.max(t.endExclusive,r[i-1].endExclusive);r.splice(n,i-n,new e(s,a))}}static tryCreate(t,r){if(!(t>r))return new e(t,r)}static ofLength(t){return new e(0,t)}static ofStartAndLength(t,r){return new e(t,t+r)}static emptyAt(t){return new e(t,t)}get isEmpty(){return this.start===this.endExclusive}delta(t){return new e(this.start+t,this.endExclusive+t)}deltaStart(t){return new e(this.start+t,this.endExclusive)}deltaEnd(t){return new e(this.start,this.endExclusive+t)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(t){return this.start===t.start&&this.endExclusive===t.endExclusive}containsRange(t){return this.start<=t.start&&t.endExclusive<=this.endExclusive}contains(t){return this.start<=t&&t<this.endExclusive}join(t){return new e(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);if(r<=n)return new e(r,n)}intersectionLength(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return Math.max(0,n-r)}intersects(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<n}intersectsOrTouches(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<=n}isBefore(t){return this.endExclusive<=t.start}isAfter(t){return this.start>=t.endExclusive}slice(t){return t.slice(this.start,this.endExclusive)}substring(t){return t.substring(this.start,this.endExclusive)}clip(t){if(this.isEmpty)throw new gi(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,t))}clipCyclic(t){if(this.isEmpty)throw new gi(`Invalid clipping range: ${this.toString()}`);return t<this.start?this.endExclusive-(this.start-t)%this.length:t>=this.endExclusive?this.start+(t-this.start)%this.length:t}map(t){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.start;r<this.endExclusive;r++)t(r)}};d();var so=class e{static{o(this,"Position")}constructor(t,r){this.lineNumber=t,this.column=r}with(t=this.lineNumber,r=this.column){return t===this.lineNumber&&r===this.column?this:new e(t,r)}delta(t=0,r=0){return this.with(this.lineNumber+t,this.column+r)}equals(t){return e.equals(this,t)}static equals(t,r){return!t&&!r?!0:!!t&&!!r&&t.lineNumber===r.lineNumber&&t.column===r.column}isBefore(t){return e.isBefore(this,t)}static isBefore(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<r.column}isBeforeOrEqual(t){return e.isBeforeOrEqual(this,t)}static isBeforeOrEqual(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<=r.column}static compare(t,r){let n=t.lineNumber|0,i=r.lineNumber|0;if(n===i){let s=t.column|0,a=r.column|0;return s-a}return n-i}clone(){return new e(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new e(t.lineNumber,t.column)}static isIPosition(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};d();var ci=class e{static{o(this,"Range")}constructor(t,r,n,i){t>n||t===n&&r>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=t,this.endColumn=r):(this.startLineNumber=t,this.startColumn=r,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return e.isEmpty(this)}static isEmpty(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn}containsPosition(t){return e.containsPosition(this,t)}static containsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<t.startColumn||r.lineNumber===t.endLineNumber&&r.column>t.endColumn)}static strictContainsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<=t.startColumn||r.lineNumber===t.endLineNumber&&r.column>=t.endColumn)}containsRange(t){return e.containsRange(this,t)}static containsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>t.endColumn)}strictContainsRange(t){return e.strictContainsRange(this,t)}static strictContainsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<=t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>=t.endColumn)}plusRange(t){return e.plusRange(this,t)}static plusRange(t,r){let n,i,s,a;return r.startLineNumber<t.startLineNumber?(n=r.startLineNumber,i=r.startColumn):r.startLineNumber===t.startLineNumber?(n=r.startLineNumber,i=Math.min(r.startColumn,t.startColumn)):(n=t.startLineNumber,i=t.startColumn),r.endLineNumber>t.endLineNumber?(s=r.endLineNumber,a=r.endColumn):r.endLineNumber===t.endLineNumber?(s=r.endLineNumber,a=Math.max(r.endColumn,t.endColumn)):(s=t.endLineNumber,a=t.endColumn),new e(n,i,s,a)}intersectRanges(t){return e.intersectRanges(this,t)}static intersectRanges(t,r){let n=t.startLineNumber,i=t.startColumn,s=t.endLineNumber,a=t.endColumn,l=r.startLineNumber,c=r.startColumn,u=r.endLineNumber,f=r.endColumn;return n<l?(n=l,i=c):n===l&&(i=Math.max(i,c)),s>u?(s=u,a=f):s===u&&(a=Math.min(a,f)),n>s||n===s&&i>a?null:new e(n,i,s,a)}equalsRange(t){return e.equalsRange(this,t)}static equalsRange(t,r){return!t&&!r?!0:!!t&&!!r&&t.startLineNumber===r.startLineNumber&&t.startColumn===r.startColumn&&t.endLineNumber===r.endLineNumber&&t.endColumn===r.endColumn}getEndPosition(){return e.getEndPosition(this)}static getEndPosition(t){return new so(t.endLineNumber,t.endColumn)}getStartPosition(){return e.getStartPosition(this)}static getStartPosition(t){return new so(t.startLineNumber,t.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,r){return new e(this.startLineNumber,this.startColumn,t,r)}setStartPosition(t,r){return new e(t,r,this.endLineNumber,this.endColumn)}collapseToStart(){return e.collapseToStart(this)}static collapseToStart(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}collapseToEnd(){return e.collapseToEnd(this)}static collapseToEnd(t){return new e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}delta(t){return new e(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(t,r=t){return new e(t.lineNumber,t.column,r.lineNumber,r.column)}static lift(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"}static areIntersectingOrTouching(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<t.startColumn)}static areIntersecting(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<=r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<=t.startColumn)}static compareRangesUsingStarts(t,r){if(t&&r){let s=t.startLineNumber|0,a=r.startLineNumber|0;if(s===a){let l=t.startColumn|0,c=r.startColumn|0;if(l===c){let u=t.endLineNumber|0,f=r.endLineNumber|0;if(u===f){let m=t.endColumn|0,h=r.endColumn|0;return m-h}return u-f}return l-c}return s-a}return(t?1:0)-(r?1:0)}static compareRangesUsingEnds(t,r){return t.endLineNumber===r.endLineNumber?t.endColumn===r.endColumn?t.startLineNumber===r.startLineNumber?t.startColumn-r.startColumn:t.startLineNumber-r.startLineNumber:t.endColumn-r.endColumn:t.endLineNumber-r.endLineNumber}static spansMultipleLines(t){return t.endLineNumber>t.startLineNumber}toJSON(){return this}};d();d();var zn=class e{static{o(this,"LineRange")}static fromRange(t){return new e(t.startLineNumber,t.endLineNumber)}static fromRangeInclusive(t){return new e(t.startLineNumber,t.endLineNumber+1)}static subtract(t,r){return r?t.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(t.startLineNumber,r.startLineNumber),new e(r.endLineNumberExclusive,t.endLineNumberExclusive)]:r.startLineNumber<=t.startLineNumber&&t.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(Math.max(r.endLineNumberExclusive,t.startLineNumber),t.endLineNumberExclusive)]:[new e(t.startLineNumber,Math.min(r.startLineNumber,t.endLineNumberExclusive))]:[t]}static joinMany(t){if(t.length===0)return[];let r=new BM(t[0].slice());for(let n=1;n<t.length;n++)r=r.getUnion(new BM(t[n].slice()));return r.ranges}static join(t){if(t.length===0)throw new gi("lineRanges cannot be empty");let r=t[0].startLineNumber,n=t[0].endLineNumberExclusive;for(let i=1;i<t.length;i++)r=Math.min(r,t[i].startLineNumber),n=Math.max(n,t[i].endLineNumberExclusive);return new e(r,n)}static ofLength(t,r){return new e(t,t+r)}static deserialize(t){return new e(t[0],t[1])}constructor(t,r){if(t>r)throw new gi(`startLineNumber ${t} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=t,this.endLineNumberExclusive=r}contains(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new e(this.startLineNumber+t,this.endLineNumberExclusive+t)}deltaLength(t){return new e(this.startLineNumber,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new e(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(t){let r=Math.max(this.startLineNumber,t.startLineNumber),n=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(r<=n)return new e(r,n)}intersectsStrict(t){return this.startLineNumber<t.endLineNumberExclusive&&t.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(t){return this.startLineNumber<=t.endLineNumberExclusive&&t.startLineNumber<=this.endLineNumberExclusive}equals(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumberExclusive===t.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new ci(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new ci(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(t){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)t(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}toOffsetRange(){return new Mr(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(t){return this.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-this.endLineNumberExclusive:t.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-t.endLineNumberExclusive:0}distanceToLine(t){return this.contains(t)?0:t<this.startLineNumber?this.startLineNumber-t:t-this.endLineNumberExclusive}addMargin(t,r){return new e(this.startLineNumber-t,this.endLineNumberExclusive+r)}},BM=class e{constructor(t=[]){this._normalizedRanges=t}static{o(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(t){if(t.length===0)return;let r=vI(this._normalizedRanges,i=>i.endLineNumberExclusive>=t.startLineNumber),n=Hm(this._normalizedRanges,i=>i.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,t);else if(r===n-1){let i=this._normalizedRanges[r];this._normalizedRanges[r]=i.join(t)}else{let i=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(t);this._normalizedRanges.splice(r,n-r,i)}}contains(t){let r=xte(this._normalizedRanges,n=>n.startLineNumber<=t);return!!r&&r.endLineNumberExclusive>t}intersects(t){let r=xte(this._normalizedRanges,n=>n.startLineNumber<t.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>t.startLineNumber}getUnion(t){if(this._normalizedRanges.length===0)return t;if(t._normalizedRanges.length===0)return this;let r=[],n=0,i=0,s=null;for(;n<this._normalizedRanges.length||i<t._normalizedRanges.length;){let a=null;if(n<this._normalizedRanges.length&&i<t._normalizedRanges.length){let l=this._normalizedRanges[n],c=t._normalizedRanges[i];l.startLineNumber<c.startLineNumber?(a=l,n++):(a=c,i++)}else n<this._normalizedRanges.length?(a=this._normalizedRanges[n],n++):(a=t._normalizedRanges[i],i++);s===null?s=a:s.endLineNumberExclusive>=a.startLineNumber?s=new zn(s.startLineNumber,Math.max(s.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(s),s=a)}return s!==null&&r.push(s),new e(r)}subtractFrom(t){let r=vI(this._normalizedRanges,a=>a.endLineNumberExclusive>=t.startLineNumber),n=Hm(this._normalizedRanges,a=>a.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)return new e([t]);let i=[],s=t.startLineNumber;for(let a=r;a<n;a++){let l=this._normalizedRanges[a];l.startLineNumber>s&&i.push(new zn(s,l.startLineNumber)),s=l.endLineNumberExclusive}return s<t.endLineNumberExclusive&&i.push(new zn(s,t.endLineNumberExclusive)),new e(i)}toString(){return this._normalizedRanges.map(t=>t.toString()).join(", ")}getIntersection(t){let r=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<t._normalizedRanges.length;){let s=this._normalizedRanges[n],a=t._normalizedRanges[i],l=s.intersect(a);l&&!l.isEmpty&&r.push(l),s.endLineNumberExclusive<a.endLineNumberExclusive?n++:i++}return new e(r)}getWithDelta(t){return new e(this._normalizedRanges.map(r=>r.delta(t)))}};var zu=class e{constructor(t,r){this.lineCount=t;this.columnCount=r}static{o(this,"TextLength")}static{this.zero=new e(0,0)}static lengthDiffNonNegative(t,r){return r.isLessThan(t)?e.zero:t.lineCount===r.lineCount?new e(0,r.columnCount-t.columnCount):new e(r.lineCount-t.lineCount,r.columnCount)}static betweenPositions(t,r){return t.lineNumber===r.lineNumber?new e(0,r.column-t.column):new e(r.lineNumber-t.lineNumber,r.column-1)}static fromPosition(t){return new e(t.lineNumber-1,t.column-1)}static ofRange(t){return e.betweenPositions(t.getStartPosition(),t.getEndPosition())}static ofText(t){let r=0,n=0;for(let i of t)i===`
`?(r++,n=0):n++;return new e(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(t){return this.lineCount!==t.lineCount?this.lineCount<t.lineCount:this.columnCount<t.columnCount}isGreaterThan(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>t.columnCount}isGreaterThanOrEqualTo(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>=t.columnCount}equals(t){return this.lineCount===t.lineCount&&this.columnCount===t.columnCount}compare(t){return this.lineCount!==t.lineCount?this.lineCount-t.lineCount:this.columnCount-t.columnCount}add(t){return t.lineCount===0?new e(this.lineCount,this.columnCount+t.columnCount):new e(this.lineCount+t.lineCount,t.columnCount)}createRange(t){return this.lineCount===0?new ci(t.lineNumber,t.column,t.lineNumber,t.column+this.columnCount):new ci(t.lineNumber,t.column,t.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new ci(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return zn.ofLength(1,this.lineCount)}addToPosition(t){return this.lineCount===0?new so(t.lineNumber,t.column+this.columnCount):new so(t.lineNumber+this.lineCount,this.columnCount+1)}addToRange(t){return ci.fromPositions(this.addToPosition(t.getStartPosition()),this.addToPosition(t.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};var yl=class e{constructor(t){this.value=t}static{o(this,"StringValue")}apply(t){return new e(t.apply(this.value))}equals(t){return this.value===t.value}getTransformer(){return this._transformer||(this._transformer=new Vte(this.value)),this._transformer}getValueOfRange(t){return this.getTransformer().getOffsetRange(t).substring(this.value)}getLines(){return ty(this.value)}getLineAt(t){return this.getLines()[t-1]}toString(){return this.value}getTextLength(){return this.getTransformer().textLength}},Vte=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Mr(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=Hm(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new so(n,i)}getRange(t){return ci.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return zu.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new zu(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var kp=class{static{o(this,"ObservableWorkspace")}getFirstOpenDocument(){return this.openDocuments.get()[0]}getDocument(t){return this.openDocuments.get().find(r=>r.id===t)}};var RM=class extends fa{constructor(r,n,i,s,a,l){super();this.id=r;this.workspaceRoot=l;this.value=Vm(this,n),this.selection=Vm(this,i),this.languageId=Vm(this,s),this._register(da(a))}static{o(this,"MutableObservableDocument")}applyEdit(r,n=void 0){let i=this.value.get().apply(r);this.value.set(i,n,r)}updateSelection(r,n=void 0){this.selection.set(r,n)}};var J8e=tt(jn());d();d();d();d();var PM=!1,FM=!1,DM=!1,Bft=!1,Rft=!1,L8e=!1,Dft=!1,Pft=!1,Fft=!1,Nft=!1;var q1,W1=globalThis,pd;typeof W1.vscode<"u"&&typeof W1.vscode.process<"u"?pd=W1.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(pd=process);var Q8e=typeof pd?.versions?.electron=="string",Lft=Q8e&&pd?.type==="renderer";typeof pd=="object"?(PM=pd.platform==="win32",FM=pd.platform==="darwin",DM=pd.platform==="linux",Bft=DM&&!!pd.env.SNAP&&!!pd.env.SNAP_REVISION,Dft=Q8e,Fft=!!pd.env.CI||!!pd.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Rft=!0):typeof navigator=="object"&&!Lft?(q1=navigator.userAgent,PM=q1.indexOf("Windows")>=0,FM=q1.indexOf("Macintosh")>=0,Pft=(q1.indexOf("Macintosh")>=0||q1.indexOf("iPad")>=0||q1.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,DM=q1.indexOf("Linux")>=0,Nft=q1?.indexOf("Mobi")>=0,L8e=!0):console.error("Unable to resolve platform.");var jte=0;FM?jte=1:PM?jte=3:DM&&(jte=2);var N4=PM,M8e=FM;var Qft=L8e&&typeof W1.importScripts=="function",dRr=Qft?W1.origin:void 0;var Bp=q1;var Mft=typeof W1.postMessage=="function"&&!W1.importScripts,mRr=(()=>{if(Mft){let e=[];W1.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let s=e[n];if(s.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),s.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),W1.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();var Oft=!!(Bp&&Bp.indexOf("Chrome")>=0),hRr=!!(Bp&&Bp.indexOf("Firefox")>=0),pRr=!!(!Oft&&Bp&&Bp.indexOf("Safari")>=0),gRr=!!(Bp&&Bp.indexOf("Edg/")>=0),ARr=!!(Bp&&Bp.indexOf("Android")>=0);var L4,$te=globalThis.vscode;if(typeof $te<"u"&&typeof $te.process<"u"){let e=$te.process;L4={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?L4={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:L4={get platform(){return N4?"win32":M8e?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var Gw=L4.cwd,O8e=L4.env,U8e=L4.platform,vRr=L4.arch;var qft=65,Wft=97,Gft=90,Hft=122,iy=46,Cl=47,jc=92,ry=58,Vft=63,NM=class extends Error{static{o(this,"ErrorInvalidArgType")}constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let s=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${s} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function jft(e,t){if(e===null||typeof e!="object")throw new NM(t,"Object",e)}o(jft,"validateObject");function Ys(e,t){if(typeof e!="string")throw new NM(t,"string",e)}o(Ys,"validateString");var $c=U8e==="win32";function Yn(e){return e===Cl||e===jc}o(Yn,"isPathSeparator");function zte(e){return e===Cl}o(zte,"isPosixPathSeparator");function ny(e){return e>=qft&&e<=Gft||e>=Wft&&e<=Hft}o(ny,"isWindowsDeviceRoot");function LM(e,t,r,n){let i="",s=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=Cl}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||s!==2||i.charCodeAt(i.length-1)!==iy||i.charCodeAt(i.length-2)!==iy){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",s=0):(i=i.slice(0,f),s=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",s=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",s=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),s=u-a-1;a=u,l=0}else c===iy&&l!==-1?++l:l=-1}return i}o(LM,"normalizeString");function $ft(e){return e?`${e[0]==="."?"":"."}${e}`:""}o($ft,"formatExt");function q8e(e,t){jft(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${$ft(t.ext)}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}o(q8e,"_format");var Ks={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let s;if(i>=0){if(s=e[i],Ys(s,`paths[${i}]`),s.length===0)continue}else t.length===0?s=Gw():(s=O8e[`=${t}`]||Gw(),(s===void 0||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&s.charCodeAt(2)===jc)&&(s=`${t}\\`));let a=s.length,l=0,c="",u=!1,f=s.charCodeAt(0);if(a===1)Yn(f)&&(l=1,u=!0);else if(Yn(f))if(u=!0,Yn(s.charCodeAt(1))){let m=2,h=m;for(;m<a&&!Yn(s.charCodeAt(m));)m++;if(m<a&&m!==h){let p=s.slice(h,m);for(h=m;m<a&&Yn(s.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!Yn(s.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${s.slice(h,m)}`,l=m)}}}else l=1;else ny(f)&&s.charCodeAt(1)===ry&&(c=s.slice(0,2),l=2,a>2&&Yn(s.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${s.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=LM(r,!n,"\\",Yn),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){Ys(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,s=e.charCodeAt(0);if(t===1)return zte(s)?"\\":e;if(Yn(s))if(i=!0,Yn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!Yn(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&Yn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!Yn(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else ny(s)&&e.charCodeAt(1)===ry&&(n=e.slice(0,2),r=2,t>2&&Yn(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?LM(e.slice(r),!i,"\\",Yn):"";return a.length===0&&!i&&(a="."),a.length>0&&Yn(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){Ys(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return Yn(r)||t>2&&ny(r)&&e.charCodeAt(1)===ry&&Yn(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let s=0;s<e.length;++s){let a=e[s];Ys(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&Yn(r.charCodeAt(0))){++i;let s=r.length;s>1&&Yn(r.charCodeAt(1))&&(++i,s>2&&(Yn(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&Yn(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return Ks.normalize(t)},relative(e,t){if(Ys(e,"from"),Ys(t,"to"),e===t)return"";let r=Ks.resolve(e),n=Ks.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===jc;)i++;let s=e.length;for(;s-1>i&&e.charCodeAt(s-1)===jc;)s--;let a=s-i,l=0;for(;l<t.length&&t.charCodeAt(l)===jc;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===jc;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let A=e.charCodeAt(i+h);if(A!==t.charCodeAt(l+h))break;A===jc&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===jc)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===jc?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=s;++h)(h===s||e.charCodeAt(h)===jc)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===jc&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=Ks.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===jc){if(t.charCodeAt(1)===jc){let r=t.charCodeAt(2);if(r!==Vft&&r!==iy)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(ny(t.charCodeAt(0))&&t.charCodeAt(1)===ry&&t.charCodeAt(2)===jc)return`\\\\?\\${t}`;return e},dirname(e){Ys(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return Yn(i)?e:".";if(Yn(i)){if(r=n=1,Yn(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!Yn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&Yn(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!Yn(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else ny(i)&&e.charCodeAt(1)===ry&&(r=t>2&&Yn(e.charCodeAt(2))?3:2,n=r);let s=-1,a=!0;for(let l=t-1;l>=n;--l)if(Yn(e.charCodeAt(l))){if(!a){s=l;break}}else a=!1;if(s===-1){if(r===-1)return".";s=r}return e.slice(0,s)},basename(e,t){t!==void 0&&Ys(t,"suffix"),Ys(e,"path");let r=0,n=-1,i=!0,s;if(e.length>=2&&ny(e.charCodeAt(0))&&e.charCodeAt(1)===ry&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=r;--s){let c=e.charCodeAt(s);if(Yn(c)){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=r;--s)if(Yn(e.charCodeAt(s))){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){Ys(e,"path");let t=0,r=-1,n=0,i=-1,s=!0,a=0;e.length>=2&&e.charCodeAt(1)===ry&&ny(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(Yn(c)){if(!s){n=l+1;break}continue}i===-1&&(s=!1,i=l+1),c===iy?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:q8e.bind(null,"\\"),parse(e){Ys(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return Yn(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(Yn(i)){if(n=1,Yn(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!Yn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&Yn(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!Yn(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(ny(i)&&e.charCodeAt(1)===ry){if(r<=2)return t.root=t.dir=e,t;if(n=2,Yn(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),Yn(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===iy?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return l!==-1&&(s===-1||f===0||f===1&&s===l-1&&s===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,s),t.base=e.slice(a,l),t.ext=e.slice(s,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},zft=(()=>{if($c){let e=/\\/g;return()=>{let t=Gw().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>Gw()})(),ma={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:zft();Ys(i,`paths[${n}]`),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===Cl)}return t=LM(t,!r,"/",zte),r?`/${t}`:t.length>0?t:"."},normalize(e){if(Ys(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Cl,r=e.charCodeAt(e.length-1)===Cl;return e=LM(e,!t,"/",zte),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return Ys(e,"path"),e.length>0&&e.charCodeAt(0)===Cl},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];Ys(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":ma.normalize(t)},relative(e,t){if(Ys(e,"from"),Ys(t,"to"),e===t||(e=ma.resolve(e),t=ma.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,s=1,a=t.length-s,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(s+u))break;m===Cl&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(s+u)===Cl)return t.slice(s+u+1);if(u===0)return t.slice(s+u)}else i>l&&(e.charCodeAt(r+u)===Cl?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===Cl)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(s+c)}`},toNamespacedPath(e){return e},dirname(e){if(Ys(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Cl,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===Cl){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&Ys(t,"ext"),Ys(e,"path");let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(s=e.length-1;s>=0;--s){let c=e.charCodeAt(s);if(c===Cl){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=s):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===Cl){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){Ys(e,"path");let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===Cl){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===iy?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:q8e.bind(null,"/"),parse(e){Ys(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===Cl,n;r?(t.root="/",n=1):n=0;let i=-1,s=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===Cl){if(!l){s=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===iy?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=s===0&&r?1:s;i===-1||u===0||u===1&&i===a-1&&i===s+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};ma.win32=Ks.win32=Ks;ma.posix=Ks.posix=ma;var TRr=$c?Ks.normalize:ma.normalize,wRr=$c?Ks.isAbsolute:ma.isAbsolute,SRr=$c?Ks.join:ma.join,_Rr=$c?Ks.resolve:ma.resolve,kRr=$c?Ks.relative:ma.relative,BRr=$c?Ks.dirname:ma.dirname,W8e=$c?Ks.basename:ma.basename,G8e=$c?Ks.extname:ma.extname,RRr=$c?Ks.format:ma.format,DRr=$c?Ks.parse:ma.parse,PRr=$c?Ks.toNamespacedPath:ma.toNamespacedPath,FRr=$c?Ks.sep:ma.sep,NRr=$c?Ks.delimiter:ma.delimiter;d();d();var Kft=/^\w[\w\d+.-]*$/,Jft=/^\//,Xft=/^\/\//;function Zft(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!Kft.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!Jft.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Xft.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(Zft,"_validateUri");function edt(e,t){return!e&&!t?"file":e}o(edt,"_schemeFix");function tdt(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==jm&&(t=jm+t):t=jm;break}return t}o(tdt,"_referenceResolution");var Ro="",jm="/",rdt=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,sy=class e{static{o(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}constructor(t,r,n,i,s,a=!1){typeof t=="object"?(this.scheme=t.scheme||Ro,this.authority=t.authority||Ro,this.path=t.path||Ro,this.query=t.query||Ro,this.fragment=t.fragment||Ro):(this.scheme=edt(t,a),this.authority=r||Ro,this.path=tdt(this.scheme,n||Ro),this.query=i||Ro,this.fragment=s||Ro,Zft(this,a))}get fsPath(){return Yte(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:s,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=Ro),n===void 0?n=this.authority:n===null&&(n=Ro),i===void 0?i=this.path:i===null&&(i=Ro),s===void 0?s=this.query:s===null&&(s=Ro),a===void 0?a=this.fragment:a===null&&(a=Ro),r===this.scheme&&n===this.authority&&i===this.path&&s===this.query&&a===this.fragment?this:new oy(r,n,i,s,a)}static parse(t,r=!1){let n=rdt.exec(t);return n?new oy(n[2]||Ro,QM(n[4]||Ro),QM(n[5]||Ro),QM(n[7]||Ro),QM(n[9]||Ro),r):new oy(Ro,Ro,Ro,Ro,Ro)}static file(t){let r=Ro;if(N4&&(t=t.replace(/\\/g,jm)),t[0]===jm&&t[1]===jm){let n=t.indexOf(jm,2);n===-1?(r=t.substring(2),t=jm):(r=t.substring(2,n),t=t.substring(n)||jm)}return new oy("file",r,t,Ro,Ro)}static from(t,r){return new oy(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return N4&&t.scheme==="file"?n=e.file(Ks.join(Yte(t,!0),...r)).path:n=ma.join(t.path,...r),t.with({path:n})}toString(t=!1){return Kte(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new oy(t);return r._formatted=t.external??null,r._fsPath=t._sep===j8e?t.fsPath??null:null,r}}else return t}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var j8e=N4?1:void 0,oy=class extends sy{constructor(){super(...arguments);this._formatted=null;this._fsPath=null}static{o(this,"Uri")}get fsPath(){return this._fsPath||(this._fsPath=Yte(this,!1)),this._fsPath}toString(r=!1){return r?Kte(this,!0):(this._formatted||(this._formatted=Kte(this,!1)),this._formatted)}toJSON(){let r={$mid:1};return this._fsPath&&(r.fsPath=this._fsPath,r._sep=j8e),this._formatted&&(r.external=this._formatted),this.path&&(r.path=this.path),this.scheme&&(r.scheme=this.scheme),this.authority&&(r.authority=this.authority),this.query&&(r.query=this.query),this.fragment&&(r.fragment=this.fragment),r}},$8e={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function H8e(e,t,r){let n,i=-1;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n!==void 0&&(n+=e.charAt(s));else{n===void 0&&(n=e.substr(0,s));let l=$8e[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,s)),i=-1),n+=l):i===-1&&(i=s)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}o(H8e,"encodeURIComponentFast");function ndt(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=$8e[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}o(ndt,"encodeURIComponentMinimal");function Yte(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,N4&&(r=r.replace(/\//g,"\\")),r}o(Yte,"uriToFsPath");function Kte(e,t){let r=t?ndt:H8e,n="",{scheme:i,authority:s,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(s||i==="file")&&(n+=jm,n+=jm),s){let u=s.indexOf("@");if(u!==-1){let f=s.substr(0,u);s=s.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}s=s.toLowerCase(),u=s.lastIndexOf(":"),u===-1?n+=r(s,!1,!0):(n+=r(s.substr(0,u),!1,!0),n+=s.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:H8e(c,!1,!1)),n}o(Kte,"_asFormatted");function z8e(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+z8e(e.substr(3)):e}}o(z8e,"decodeURIComponentGraceful");var V8e=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function QM(e){return e.match(V8e)?e.replace(V8e,t=>z8e(t)):e}o(QM,"percentDecode");var gd=class e{constructor(t){this.uri=t;this._uri=sy.parse(W0(this.uri))}static{o(this,"DocumentId")}static{this._cache=new U1({getCacheKey:JSON.stringify},t=>new e(t.uri))}static create(t){return e._cache.get({uri:t})}get path(){return this._uri.path}get fragment(){return this._uri.fragment}toString(){return this.uri}get baseName(){return W8e(this.uri)}get extension(){return G8e(this.uri)}toUri(){return this._uri}};function Jte(e){return gd.create(e)}o(Jte,"createDocumentId");d();d();var Ad=class e{constructor(t){this.edits=t;let r=-1;for(let n of t){if(!(n.replaceRange.start>=r))throw new gi(`Edits must be disjoint and sorted. Found ${n} after ${r}`);r=n.replaceRange.endExclusive}}static{o(this,"OffsetEdit")}static{this.empty=new e([])}static fromJson(t){return new e(t.map(La.fromJson))}static from(t){let r=t.map(i=>new La(Mr.ofStartAndLength(i.rangeOffset,i.rangeLength),i.text));return r.reverse(),new e(r)}static single(t,r){return new e([new La(t,r)])}normalize(){let t=[],r;for(let n of this.edits)n.newText.length===0&&n.replaceRange.length===0||(r&&r.replaceRange.endExclusive===n.replaceRange.start?r=new La(r.replaceRange.join(n.replaceRange),r.newText+n.newText):(r&&t.push(r),r=n));return r&&t.push(r),new e(t)}normalizeEOL(t){return new e(this.edits.map(r=>r.normalizeEOL(t)))}isNoop(t){return this.edits.every(r=>r.isNoop(t))}toString(){return`[${this.edits.map(r=>r.toString()).join(", ")}]`}apply(t){let r=[],n=0;for(let i of this.edits)r.push(t.substring(n,i.replaceRange.start)),r.push(i.newText),n=i.replaceRange.endExclusive;return r.push(t.substring(n)),r.join("")}compose(t){return idt(this,t)}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(new La(Mr.ofStartAndLength(i.replaceRange.start+n,i.newText.length),t.substring(i.replaceRange.start,i.replaceRange.endExclusive))),n+=i.newText.length-i.replaceRange.length;return new e(r)}getNewTextRanges(){let t=[],r=0;for(let n of this.edits)t.push(Mr.ofStartAndLength(n.replaceRange.start+r,n.newText.length)),r+=n.newText.length-n.replaceRange.length;return t}get isEmpty(){return this.edits.length===0}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)a?l.replaceRange.intersects(a.replaceRange)?i++:l.replaceRange.start<a.replaceRange.start?(r.push(new La(l.replaceRange.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.replaceRange.length):(r.push(new La(l.replaceRange.delta(s),l.newText)),i++);else break}return new e(r)}removeCommonSuffixPrefix(t){let r=[];for(let n of this.edits){let i=n.removeCommonSuffixPrefix(t);i.isEmpty||r.push(i)}return new e(r)}applyToOffset(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return n.replaceRange.start+r;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRange(t){return new Mr(this.applyToOffset(t.start),this.applyToOffset(t.endExclusive))}applyToOffsetOrUndefined(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRangeOrUndefined(t){let r=this.applyToOffsetOrUndefined(t.start);if(r===void 0)return;let n=this.applyToOffsetOrUndefined(t.endExclusive);if(n!==void 0)return new Mr(r,n)}applyInverseToOffset(t){let r=0;for(let n of this.edits){let i=n.newText.length;if(n.replaceRange.start<=t-r){if(t-r<n.replaceRange.start+i)return n.replaceRange.start;r+=i-n.replaceRange.length}else break}return t-r}},La=class e{constructor(t,r){this.replaceRange=t;this.newText=r}static{o(this,"SingleOffsetEdit")}static delete(t){return new e(t,"")}static fromJson(t){return new e(Mr.ofStartAndLength(t.pos,t.len),t.txt)}toString(){return`${this.replaceRange} -> "${this.newText}"`}removeCommonSuffixPrefix(t){let r=t.substring(this.replaceRange.start,this.replaceRange.endExclusive),n=N8e(r,this.newText),i=Math.min(r.length-n,this.newText.length-n,kM(r,this.newText)),s=new Mr(this.replaceRange.start+n,this.replaceRange.endExclusive-i),a=this.newText.substring(n,this.newText.length-i);return new e(s,a)}normalizeEOL(t){let r=this.newText.replace(/\r\n|\n/g,t);return new e(this.replaceRange,r)}isNoop(t){return this.newText===t.substring(this.replaceRange.start,this.replaceRange.endExclusive)}get isEmpty(){return this.newText.length===0&&this.replaceRange.length===0}};function idt(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty)return t;if(t.isEmpty)return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.replaceRange.start+i+u.newText.length>=s.replaceRange.start)break;r.shift(),n.push(u),i+=u.newText.length-u.replaceRange.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.replaceRange.start+i>s.replaceRange.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.replaceRange.length}if(!l)n.push(new La(s.replaceRange.delta(-i),s.newText));else{let u="",f=s.replaceRange.start-(l.replaceRange.start+a);f>0&&(u=l.newText.slice(0,f));let m=c.replaceRange.endExclusive+i-s.replaceRange.endExclusive;if(m>0){let A=new La(Mr.ofStartAndLength(c.replaceRange.endExclusive,0),c.newText.slice(-m));r.unshift(A),i-=A.newText.length-A.replaceRange.length}let h=u+s.newText,p=new Mr(Math.min(l.replaceRange.start,s.replaceRange.start-a),s.replaceRange.endExclusive-i);n.push(new La(p,h))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return new Ad(n).normalize()}o(idt,"joinEdits");d();d();var Y8e=-1;function PI(){return Y8e!==-1?Y8e:Date.now()}o(PI,"now");function K8e(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(K8e,"lineRangeDistance");d();var FI=class e{constructor(t){this.edits=t}static{o(this,"TextEdit")}static fromEdit(t,r){let n=t.edits.map(i=>new G1(r.getTransformer().getRange(i.range),i.newText));return new e(n)}toEdit(t){let r=this.edits.map(n=>vs.replace(t.getTransformer().getOffsetRange(n.range),n.newText));return is.create(r)}mapEdits(t){return new e(this.edits.map(t))}},G1=class e{constructor(t,r){this.range=t;this.newText=r}static{o(this,"SingleTextEdit")}static joinEdits(t,r){if(t.length===0)throw new gi;if(t.length===1)return t[0];let n=t[0].range.getStartPosition(),i=t[t.length-1].range.getEndPosition(),s="";for(let a=0;a<t.length;a++){let l=t[a];if(s+=l.newText,a<t.length-1){let c=t[a+1],u=ci.fromPositions(l.range.getEndPosition(),c.range.getStartPosition()),f=r.getValueOfRange(u);s+=f}}return new e(ci.fromPositions(n,i),s)}static fromSingleEdit(t,r){return new e(r.getTransformer().getRange(t.range),t.newText)}extendToCoverRange(t,r){if(this.range.containsRange(t))return this;let n=this.range.plusRange(t),i=r.getValueOfRange(ci.fromPositions(n.getStartPosition(),this.range.getStartPosition())),s=r.getValueOfRange(ci.fromPositions(this.range.getEndPosition(),n.getEndPosition())),a=i+this.newText+s;return new e(n,a)}extendToFullLine(t){let r=new ci(this.range.startLineNumber,1,this.range.endLineNumber,t.getTransformer().getLineLength(this.range.endLineNumber)+1);return this.extendToCoverRange(r,t)}toSingleEdit(t){let n=t.getTransformer().getOffsetRange(this.range);return vs.replace(n,this.newText)}};var Is=class e{constructor(t){this.edits=t;Vc(cM(t,(r,n)=>r.lineRange.endLineNumberExclusive<=n.lineRange.startLineNumber))}static{o(this,"LineEdit")}static{this.empty=new e([])}static deserialize(t){return new e(t.map(r=>H1.deserialize(r)))}static fromEdit(t){let r=FI.fromEdit(t.edit,t.base);return e.fromTextEdit(r,t.base)}static fromTextEdit(t,r){let n=t.edits,i=[],s=[];for(let a=0;a<n.length;a++){let l=n[a],c=a+1<n.length?n[a+1]:void 0;if(s.push(l),c&&c.range.startLineNumber===l.range.endLineNumber)continue;let u=G1.joinEdits(s,r);s.length=0;let f=H1.fromSingleTextEdit(u,r);i.push(f)}return new e(i)}static createFromUnsorted(t){let r=t.slice();return r.sort(J5(n=>n.lineRange.startLineNumber,X5)),new e(r)}isEmpty(){return this.edits.length===0}toEdit(t){let r=[];for(let n of this.edits){let i=n.toSingleEdit(t);r.push(i)}return is.create(r)}toString(){return this.edits.map(t=>t.toString()).join(",")}serialize(){return this.edits.map(t=>t.serialize())}getNewLineRanges(){let t=[],r=0;for(let n of this.edits)t.push(zn.ofLength(n.lineRange.startLineNumber+r,n.newLines.length)),r+=n.newLines.length-n.lineRange.length;return t}mapLineNumber(t){let r=0;for(let n of this.edits){if(n.lineRange.endLineNumberExclusive>t)break;r+=n.newLines.length-n.lineRange.length}return t+r}mapLineRange(t){return new zn(this.mapLineNumber(t.startLineNumber),this.mapLineNumber(t.endLineNumberExclusive))}mapBackLineRange(t,r){return this.inverse(r).mapLineRange(t)}touches(t){return this.edits.some(r=>t.edits.some(n=>r.lineRange.intersect(n.lineRange)))}rebase(t){return new e(this.edits.map(r=>new H1(t.mapLineRange(r.lineRange),r.newLines)))}humanReadablePatch(t){let r=[];function n(l,c,u,f){let m=u==="unmodified"?" ":u==="deleted"?"-":"+";f===void 0&&(f="[[[[[ WARNING: LINE DOES NOT EXIST ]]]]]");let h=l===-1?"   ":l.toString().padStart(3," "),p=c===-1?"   ":c.toString().padStart(3," ");r.push(`${m} ${h} ${p} ${f}`)}o(n,"pushLine");function i(){r.push("---")}o(i,"pushSeperator");let s=0,a=!0;for(let l of XIe(this.edits,(c,u)=>K8e(c.lineRange,u.lineRange)<=5)){a?a=!1:i();let c=l[0].lineRange.startLineNumber-2;for(let u of l){for(let h=Math.max(1,c);h<u.lineRange.startLineNumber;h++)n(h,h+s,"unmodified",t[h-1]);let f=u.lineRange,m=u.newLines;for(let h of f.mapToLineArray(p=>p)){let p=t[h-1];n(h,-1,"deleted",p)}for(let h=0;h<m.length;h++){let p=m[h];n(-1,f.startLineNumber+s+h,"added",p)}c=f.endLineNumberExclusive,s+=u.newLines.length-u.lineRange.length}for(let u=c;u<=Math.min(c+2,t.length);u++)n(u,u+s,"unmodified",t[u-1])}return r.join(`
`)}apply(t){let r=[],n=0;for(let i of this.edits){for(;n<i.lineRange.startLineNumber-1;)r.push(t[n]),n++;for(let s of i.newLines)r.push(s);n=i.lineRange.endLineNumberExclusive-1}for(;n<t.length;)r.push(t[n]),n++;return r}inverse(t){let r=this.getNewLineRanges();return new e(this.edits.map((n,i)=>new H1(r[i],t.slice(n.lineRange.startLineNumber-1,n.lineRange.endLineNumberExclusive-1))))}},H1=class e{constructor(t,r){this.lineRange=t;this.newLines=r}static{o(this,"SingleLineEdit")}static deserialize(t){return new e(zn.ofLength(t[0],t[1]-t[0]),t[2])}static fromSingleTextEdit(t,r){let n=ty(t.newText),i=t.range.startLineNumber,s=r.getValueOfRange(ci.fromPositions(new so(t.range.startLineNumber,1),t.range.getStartPosition()));n[0]=s+n[0];let a=t.range.endLineNumber+1,l=r.getTransformer().getLineLength(t.range.endLineNumber)+1,c=r.getValueOfRange(ci.fromPositions(t.range.getEndPosition(),new so(t.range.endLineNumber,l)));n[n.length-1]=n[n.length-1]+c;let u=t.range.startColumn===r.getTransformer().getLineLength(t.range.startLineNumber)+1,f=t.range.endColumn===1;return u&&n[0].length===s.length&&(i++,n.shift()),n.length>0&&i<a&&f&&n[n.length-1].length===c.length&&(a--,n.pop()),new e(new zn(i,a),n)}toLineEdit(){return new Is([this])}toSingleTextEdit(t){if(this.newLines.length===0){let r=t.getTransformer().textLength;if(this.lineRange.endLineNumberExclusive===r.lineCount+2){let n;if(this.lineRange.startLineNumber>1){let s=this.lineRange.startLineNumber-1,a=t.getTransformer().getLineLength(s)+1;n=new so(s,a)}else n=new so(1,1);let i=r.addToPosition(new so(1,1));return new G1(ci.fromPositions(n,i),"")}else return new G1(new ci(this.lineRange.startLineNumber,1,this.lineRange.endLineNumberExclusive,1),"")}else if(this.lineRange.isEmpty){let r,n,i,s=this.lineRange.startLineNumber;return s===t.getTransformer().textLength.lineCount+2?(r=s-1,n=t.getTransformer().getLineLength(r)+1,i=this.newLines.map(a=>`
`+a).join("")):(r=s,n=1,i=this.newLines.map(a=>a+`
`).join("")),new G1(ci.fromPositions(new so(r,n)),i)}else{let r=this.lineRange.endLineNumberExclusive-1,n=t.getTransformer().getLineLength(r)+1,i=new ci(this.lineRange.startLineNumber,1,r,n),s=this.newLines.join(`
`);return new G1(i,s)}}toSingleEdit(t){let r=this.toSingleTextEdit(t),n=t.getTransformer().getOffsetRange(r.range);return vs.replace(n,r.newText)}toString(){return`${this.lineRange}->${JSON.stringify(this.newLines)}`}serialize(){return[this.lineRange.startLineNumber,this.lineRange.endLineNumberExclusive,this.newLines]}removeCommonSuffixPrefixLines(t){let r=this.lineRange.startLineNumber,n=this.lineRange.endLineNumberExclusive,i=0;for(;r<n&&i<this.newLines.length&&this.newLines[i]===t.getLineAt(r);)r++,i++;let s=0;for(;r<n&&s+i<this.newLines.length&&this.newLines[this.newLines.length-1-s]===t.getLineAt(n-1);)n--,s++;return i===0&&s===0?this:new e(new zn(r,n),this.newLines.slice(i,this.newLines.length-s))}},odt;(t=>{function e(r){return Array.isArray(r)&&r.length===3&&typeof r[0]=="number"&&typeof r[1]=="number"&&Array.isArray(r[2])&&r[2].every(n=>typeof n=="string")}t.is=e,o(e,"is")})(odt||={});var Rp=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedLineEdit")}static fromEdit(t){let r=Is.fromEdit(t);return new e(t.base,r)}toString(){return this.edit.humanReadablePatch(this.base.getLines())}toEdit(){return this.edit.toEdit(this.base)}toRootedEdit(){return new Yu(this.base,this.toEdit())}getEditedState(){let t=this.base.getLines();return this.edit.apply(t)}removeCommonSuffixPrefixLines(){let t=o(n=>!n.lineRange.isEmpty||n.newLines.length>0,"isNotEmptyEdit"),r=this.edit.edits.map(n=>n.removeCommonSuffixPrefixLines(this.base)).filter(n=>t(n));return new e(this.base,new Is(r))}};var is=class e{constructor(t){this.edits=t;Vc(cM(t,(r,n)=>r.range.endExclusive<=n.range.start))}static{o(this,"Edit")}static deserialize(t){return new e(t.map(r=>vs.deserialize(r)))}static{this.empty=new e([])}static create(t){return new e(t)}static single(t){return new e([t])}static replace(t,r){return new e([vs.replace(t,r)])}static insert(t,r){return new e([vs.insert(t,r)])}static fromOffsetEdit(t){return new e(t.edits.map(r=>vs.replace(r.replaceRange,r.newText)))}static compose(t){let r;for(let n of t)r===void 0?r=n:r=r.compose(n);return r??e.empty}static trySwap(t,r){let n=t.inverse((a,l)=>" ".repeat(l-a)),i=r.tryRebase(n);if(!i)return;let s=t.tryRebase(i);if(s)return{e1:i,e2:s}}toOffsetEdit(){return new Ad(this.edits.map(t=>new La(t.range,t.newText)))}compose(t){return sdt(this,t)}getNewRanges(){return this.toOffsetEdit().getNewTextRanges()}apply(t){let r="",n=0;for(let i of this.edits)r+=t.substring(n,i.range.start),r+=i.newText,n=i.range.endExclusive;return r+=t.substring(n),r}normalize(){let t=[],r;for(let n of this.edits)if(!(n.newText.length===0&&n.range.length===0))if(r&&r.range.endExclusive===n.range.start){let i=r.data?.merge(n.data)??void 0;r=vs.replaceWithData(r.range.join(n.range),r.newText+n.newText,i)}else r&&t.push(r),r=n;return r&&t.push(r),new e(t)}normalizeOnSource(t){let r=this.apply(t),i=vs.replace(Mr.ofLength(t.length),r).removeCommonSuffixAndPrefix(t);return i.isNeutral()?e.empty:i.toEdit()}toString(){return this.edits.map(t=>t.toString()).join("")}decompose(t){if(t===void 0){let i=[],s=0;for(let a of this.edits)i.push(vs.replaceWithData(Mr.ofStartAndLength(a.range.start+s,a.range.length),a.newText,a.data)),s+=a.newText.length-a.range.length;return new MM(i)}if(this.edits.length!==t.arrayLength)throw Ow(`Number of edits ${this.edits.length} does not match ${t.arrayLength}`);let r=[],n=this.edits.slice();for(let i=0;i<this.edits.length;++i){let s=t.mapIndexBack(i),a=n[s];r.push(a);for(let l=s;l<n.length;++l){let c=a.newText.length-a.range.length,u=n[l];n[l]=vs.replaceWithData(Mr.ofStartAndLength(u.range.start+c,u.range.length),u.newText,u.data)}}return new MM(r)}getRange(){if(this.edits.length!==0)return this.edits[0].range.join(this.edits[this.edits.length-1].range)}isEmpty(){return this.edits.length===0}applyInverseToOffsetRange(t){let r=this.toOffsetEdit(),n=r.applyInverseToOffset(t.start),i=r.applyInverseToOffset(t.endExclusive);return new Mr(n,i)}serialize(){return this.edits.map(t=>t.serialize())}equals(t){if(this.edits.length!==t.edits.length)return!1;for(let r=0;r<this.edits.length;++r)if(!this.edits[r].equals(t.edits[r]))return!1;return!0}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(vs.replace(Mr.ofStartAndLength(i.range.start+n,i.newText.length),t(i.range.start,i.range.endExclusive))),n+=i.newText.length-i.range.length;return new e(r)}inverseOnString(t){return this.inverse((r,n)=>t.substring(r,n))}mapData(t){return e.create(this.edits.map(r=>r.mapData(t)))}tryRebase(t){let r=[],n=0,i=0,s=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)if(!a)r.push(vs.replace(l.range.delta(s),l.newText)),i++;else{if(l.range.intersectsOrTouches(a.range))return;l.range.start<a.range.start?(r.push(vs.replace(l.range.delta(s),l.newText)),i++):(n++,s+=a.newText.length-a.range.length)}else break}return new e(r)}};function sdt(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty())return t;if(t.isEmpty())return e;let r=[...e.edits],n=[],i=0;for(let s of t.edits){for(;;){let u=r[0];if(!u||u.range.start+i+u.newText.length>=s.range.start)break;r.shift(),n.push(u),i+=u.newText.length-u.range.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.range.start+i>s.range.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.range.length}if(!l)n.push(vs.replaceWithData(s.range.delta(-i),s.newText,s.data));else{let u=s.range.start-a-l.range.start;u>0&&n.push(vs.replaceWithData(Mr.emptyAt(l.range.start),l.newText.slice(0,u),l.data));let f=c.range.endExclusive+i-s.range.endExclusive;if(f>0){let h=vs.replaceWithData(Mr.emptyAt(c.range.endExclusive),c.newText.slice(-f),c.data);r.unshift(h),i-=h.newText.length-h.range.length}let m=new Mr(Math.min(l.range.start,s.range.start-a),s.range.endExclusive-i);n.push(vs.replaceWithData(m,s.newText,s.data))}}for(;;){let s=r.shift();if(!s)break;n.push(s)}return is.create(n).normalize()}o(sdt,"joinEdits");var vs=class e{constructor(t,r,n){this.range=t;this.newText=r;this.data=n}static{o(this,"SingleEdit")}static deserialize(t){return new e(new Mr(t[0],t[1]),t[2],void 0)}static replace(t,r){return new e(t,r,void 0)}static insert(t,r){return new e(new Mr(t,t),r,void 0)}static delete(t){return new e(t,"",void 0)}static replaceWithData(t,r,n){return new e(t,r,n)}static insertWithData(t,r,n){return new e(new Mr(t,t),r,n)}static deleteWithData(t,r){return new e(t,"",r)}static fromSingleOffsetEdit(t){return new e(t.replaceRange,t.newText,void 0)}toString(){return`${this.range}->${JSON.stringify(this.newText)}`}serialize(){return[this.range.start,this.range.endExclusive,this.newText]}toEdit(){return is.create([this])}equals(t){return this.range.equals(t.range)&&this.newText===t.newText}removeCommonSuffixAndPrefix(t){return this.removeCommonSuffix(t).removeCommonPrefix(t)}removeCommonPrefix(t){let r=this.range.substring(t),n=adt(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaStart(n),this.newText.substring(n),this.data)}removeCommonSuffix(t){let r=this.range.substring(t),n=ldt(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaEnd(-n),this.newText.substring(0,this.newText.length-n),this.data)}isNeutral(){return this.newText.length===0&&this.range.length===0}mapData(t){return new e(this.range,this.newText,t(this.data))}};function adt(e,t){let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return r}o(adt,"commonPrefixLength");function ldt(e,t){let r=0;for(;r<e.length&&r<t.length&&e[e.length-1-r]===t[t.length-1-r];)r++;return r}o(ldt,"commonSuffixLength");var Yu=class e{constructor(t,r){this.base=t;this.edit=r}static{o(this,"RootedEdit")}getEditedState(){return this.base.apply(this.edit)}rebase(t){return K5(()=>null.base.equals(this.base.apply(t))),K5(()=>null.base.apply(null.edit).equals(this.base.apply(t).apply(this.edit))),null}toString(){return Rp.fromEdit(this).toString()}normalize(){return new e(this.base,this.edit.normalizeOnSource(this.base.value))}equals(t){return this.base.equals(t.base)&&this.edit.equals(t.edit)}},MM=class e{constructor(t){this.edits=t}static{o(this,"SingleEdits")}static{this.empty=new e([])}compose(){return is.compose(this.edits.map(t=>t.toEdit()))}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}toEdits(){return new Dp(this.edits.map(t=>t.toEdit()))}},Dp=class e{constructor(t){this.edits=t}static{o(this,"Edits")}static{this.empty=new e([])}static single(t){return new e([t])}compose(){return is.compose(this.edits)}add(t){return new e([...this.edits,t])}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}swap(t){let r=t,n=[];for(let i of this.edits){let s=is.trySwap(r,i);if(!s)return;n.push(s.e1),r=s.e2}return{edits:new e(n),editLast:r}}mapData(t){return new e(this.edits.map(r=>r.mapData(t)))}serialize(){return this.edits.map(t=>t.serialize())}static deserialize(t){return new e(t.map(r=>is.deserialize(r)))}toHumanReadablePatch(t){let r=t,n=[];for(let i of this.edits){let s=Is.fromEdit(new Yu(r,i));n.push(s.humanReadablePatch(r.getLines())),r=r.apply(i)}return n.join(`
---
`)}};d();var NI=class extends kp{constructor(r,n=!1){super();this._openDocuments=Vm(this,[]);this.openDocuments=this._openDocuments;this._documents=new Map;this._started=!1;this.ctx=r,this._started=!1,n||this.start()}static{o(this,"ObservableLspWorkspace")}start(){if(this._started)return;this._started=!0;let r=this.ctx.get(Vr);for(let n of r.getOpenTextDocuments())n&&this.addLspDocument(n.uri,n);r.onDidOpenTextDocument(async n=>{this.addLspDocument(n.document.uri,n.document)}),r.onDidCloseTextDocument(async n=>{this.removeClosedLspDocument(n.document.uri)}),r.onDidChangeTextDocument(async n=>{this.onDidChangeLspDocument(n.document.uri,n.contentChanges,n.document)})}addLspDocument(r,n){let i=gd.create(r);return this.addDocument({id:i,initialValue:n.getText(),languageId:P4.create(n.clientLanguageId)},void 0)}onDidChangeLspDocument(r,n,i){if(i===void 0)throw new Error("Not implemented: LspDocumentManager.onDidChangeLspDocument with undefined baseDoc");let s=gd.create(r),a=this._documents.get(s);a&&a.applyLspContentChanges(n,i)}onUserPositionChange(r,n){let i=gd.create(r),s=this._documents.get(i);s&&s.updateSelectionFromLspPosition(n)}removeClosedLspDocument(r){let n=gd.create(r);this._documents.get(n)?.dispose()}addDocument(r,n=void 0){let i=this._documents.get(r.id);if(i)return i;let s=new Xte(r.id,new yl(r.initialValue??""),[],r.languageId??P4.PlainText,()=>{this._documents.delete(r.id);let a=this._openDocuments.get(),l=a.filter(c=>c.id!==s.id);l.length!==a.length&&this._openDocuments.set(l,n,{added:[],removed:[s]})},r.workspaceRoot);return this._documents.set(r.id,s),this._openDocuments.set([...this._openDocuments.get(),s],n,{added:[s],removed:[]}),s}getDocument(r){return this._documents.get(r)}clear(){this._openDocuments.set([],void 0,{added:[],removed:this._openDocuments.get()});for(let r of this._documents.values())r.dispose();this._documents.clear()}getWorkspaceRoot(r){return this._documents.get(r)?.workspaceRoot}},Xte=class extends RM{static{o(this,"MutableObservableLspDocument")}constructor(t,r,n,i,s,a){super(t,r,n,i,s,a)}applyLspContentChanges(t,r){let n=this.editFromLspContentChanges(t);this.applyEdit(n.compose(),void 0)}updateSelectionFromLspPosition(t){let r=this.value.get().getTransformer().getOffset(new so(t.lineNumber+1,t.column+1));this.updateSelection([new Mr(r,r)])}editFromLspContentChanges(t){return new Dp(t.map(n=>this.editFromLspContentChange(n)))}editFromLspContentChange(t){if(J8e.TextDocumentContentChangeEvent.isIncremental(t)){let r=this.value.get().getTransformer(),n=r.getOffset(new so(t.range.start.line+1,t.range.start.character+1)),i=r.getOffset(new so(t.range.end.line+1,t.range.end.character+1));return is.replace(new Mr(n,i),t.text)}throw new Error("Full replacement edits are not supported")}};d();d();function X8e(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}o(X8e,"isObject");function OM(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}o(OM,"assertType");d();d();d();var Q4=0;function UM(e){return e===0}o(UM,"lengthIsZero");var Ku=2**26;function LI(e,t){return e*Ku+t}o(LI,"toLength");function V1(e){let t=e,r=Math.floor(t/Ku),n=t-r*Ku;return new zu(r,n)}o(V1,"lengthToObj");function Hw(e,t){let r=e+t;return t>=Ku&&(r=r-e%Ku),r}o(Hw,"lengthAdd");function Z8e(e,t){return e.reduce((r,n)=>Hw(r,t(n)),Q4)}o(Z8e,"sumLengths");function Zte(e,t){return e===t}o(Zte,"lengthEquals");function Vw(e,t){let r=e,n=t;if(n-r<=0)return Q4;let s=Math.floor(r/Ku),a=Math.floor(n/Ku),l=n-a*Ku;if(s===a){let c=r-s*Ku;return LI(0,l-c)}else return LI(a-s,l)}o(Vw,"lengthDiffNonNegative");function e6e(e,t){let r=e,n=Math.floor(r/Ku),i=r-n*Ku,s=t,a=Math.floor(s/Ku),l=s-a*Ku;return new ci(n+1,i+1,a+1,l+1)}o(e6e,"lengthsToRange");d();var QI=class{constructor(t,r,n){this.startOffset=t;this.endOffset=r;this.newLength=n}static{o(this,"TextEditInfo")}toString(){return`[${V1(this.startOffset)}...${V1(this.endOffset)}) -> ${V1(this.newLength)}`}};function r6e(e,t){if(e.length===0)return t;if(t.length===0)return e;let r=new uM(t6e(e)),n=t6e(t);n.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let i=r.dequeue();function s(u){if(u===void 0){let m=r.takeWhile(h=>!0)||[];return i&&m.unshift(i),m}let f=[];for(;i&&!UM(u);){let[m,h]=i.splitAt(u);f.push(m),u=Vw(m.lengthAfter,u),i=h??r.dequeue()}return UM(u)||f.push(new jw(!1,u,u)),f}o(s,"nextS0ToS1MapWithS1LengthOf");let a=[];function l(u,f,m){if(a.length>0&&Zte(a[a.length-1].endOffset,u)){let h=a[a.length-1];a[a.length-1]=new QI(h.startOffset,f,Hw(h.newLength,m))}else a.push({startOffset:u,endOffset:f,newLength:m})}o(l,"pushEdit");let c=Q4;for(let u of n){let f=s(u.lengthBefore);if(u.modified){let m=Z8e(f,p=>p.lengthBefore),h=Hw(c,m);l(c,h,u.lengthAfter),c=h}else for(let m of f){let h=c;c=Hw(c,m.lengthBefore),m.modified&&l(h,c,m.lengthAfter)}}return a}o(r6e,"combineTextEditInfos");var jw=class e{constructor(t,r,n){this.modified=t;this.lengthBefore=r;this.lengthAfter=n}static{o(this,"LengthMapping")}splitAt(t){let r=Vw(t,this.lengthAfter);return Zte(r,Q4)?[this,void 0]:this.modified?[new e(this.modified,this.lengthBefore,t),new e(this.modified,Q4,r)]:[new e(this.modified,t,t),new e(this.modified,r,r)]}toString(){return`${this.modified?"M":"U"}:${V1(this.lengthBefore)} -> ${V1(this.lengthAfter)}`}};function t6e(e){let t=[],r=Q4;for(let n of e){let i=Vw(r,n.startOffset);UM(i)||t.push(new jw(!1,i,i));let s=Vw(n.startOffset,n.endOffset);t.push(new jw(!0,s,n.newLength)),r=n.endOffset}return t}o(t6e,"toLengthMapping");var $w=class e{constructor(t){this.edits=t}static{o(this,"TextLengthEdit")}static{this.empty=new e([])}static fromTextEdit(t){let r=t.edits.map(n=>new qM(n.range,zu.ofText(n.newText)));return new e(r)}static _fromTextEditInfo(t){let r=t.map(n=>{let i=V1(n.newLength);return new qM(e6e(n.startOffset,n.endOffset),new zu(i.lineCount,i.columnCount))});return new e(r)}_toTextEditInfo(){return this.edits.map(t=>new QI(LI(t.range.startLineNumber-1,t.range.startColumn-1),LI(t.range.endLineNumber-1,t.range.endColumn-1),LI(t.newLength.lineCount,t.newLength.columnCount)))}compose(t){let r=this._toTextEditInfo(),n=t._toTextEditInfo(),i=r6e(r,n);return e._fromTextEditInfo(i)}getRange(){if(this.edits.length!==0)return ci.fromPositions(this.edits[0].range.getStartPosition(),this.edits.at(-1).range.getEndPosition())}toString(){return`[${this.edits.join(", ")}]`}},qM=class{constructor(t,r){this.range=t;this.newLength=r}static{o(this,"SingleTextEditLength")}toString(){return`{ range: ${this.range}, newLength: ${this.newLength} }`}};d();function MI(e,t,r){let n=new Map(Object.entries(t).map(([i,s])=>[s,i]));return bM({owner:e,createEmptyChangeSummary:o(()=>({}),"createEmptyChangeSummary"),handleChange:o((i,s)=>{let a=n.get(i.changedObservable);return s[a]===void 0&&(s[a]={value:void 0,changes:[]}),s[a].changes.push(i.change),!0},"handleChange")},(i,s)=>{for(let[a,l]of Object.entries(t)){let c=l.read(i);s[a]===void 0&&(s[a]={value:c,changes:[]}),s[a].value=c}r(s)})}o(MI,"autorunWithChanges");d();var WM=class{constructor(t){this.documents=t;Vc(t.length>0)}static{o(this,"HistoryContext")}getMostRecentDocument(){return this.documents.at(-1)}getDocument(t){return this.documents.find(r=>r.docId===t)}getDocumentAndIdx(t){let r=this.documents.findIndex(n=>n.docId.uri===t.uri);if(r!==-1)return{doc:this.documents[r],idx:r}}},GM=class{constructor(t,r,n,i,s){this.docId=t;this.languageId=r;this.base=n;this.lastEdits=i;this.lastSelection=s;this.lastEdit=new Yu(this.base,this.lastEdits.compose())}static{o(this,"DocumentHistory")}};d();var HM=class extends fa{constructor(){super();this.branch=Vm("branchName",void 0);this._register(Ote((r,n)=>{this.init(n)}))}static{o(this,"ObservableGitStub")}async init(r){}};var OI=class extends fa{constructor(r,n=!1){super();this._documentState=new Map;this._lastDocuments=new tre(50);this.workspace=r,this._lastGitCheckout=void 0,this._started=!1,n||this.start()}static{o(this,"NesHistoryContextProvider")}start(){if(this._started)return;this._started=!0;let r=new HM;this._register(R4(n=>{n.readObservable(r.branch)!==void 0&&(this._lastGitCheckout=PI(),this._documentState.forEach(s=>s.applyAllEdits()))})),M1(this,this.workspace.openDocuments,(n,i)=>{let s=n.selection.get().at(0),a=new ere(n.id,n.value.get().value,n.languageId.get(),s);this._documentState.set(a.docId,a),s&&this._lastDocuments.push(a),i.add(MI(this,{value:n.value,selection:n.selection,languageId:n.languageId},l=>{l.languageId.changes.length>0&&(a.languageId=l.languageId.value);let c=this._isAwaitingGitCheckoutCooldown();for(let u of l.value.changes)this._lastDocuments.push(a),a.handleEdit(u,c);l.selection.changes.length>0&&(a.handleSelection(l.selection.value.at(0)),this._lastDocuments.push(a))})),i.add(da(()=>{let l=this._documentState.get(n.id);l&&this._lastDocuments.remove(l),this._documentState.delete(n.id)}))},n=>n.id).recomputeInitiallyAndOnChange(this._store)}getHistoryContext(r,n=5,i=100){let s=this._documentState.get(r);if(!s||!this._lastDocuments.has(s))return;let a=[],l=!1;for(let c of this._lastDocuments.getItemsReversed()){let u=c.getRecentEdit(n,i);if(u!==void 0&&(u.editCount===0&&l||(c.docId===r&&(l=!0),a.push(u.history),n-=u.editCount,n<=0)))break}if(a.reverse(),!!a.some(c=>c.docId===r))return new WM(a)}_isAwaitingGitCheckoutCooldown(){if(!this._lastGitCheckout)return!1;let r=PI()-this._lastGitCheckout<2*1e3;return r||(this._lastGitCheckout=void 0),r}getRecentDocumentUris(){return this._lastDocuments.getItems().map(r=>r.docId.uri)}},ere=class e{constructor(t,r,n,i){this.docId=t;this.languageId=n;this._edits=[];this._isUserDocument=!1;this._baseValue=new yl(r),this._currentValue=this._baseValue,this.handleSelection(i)}static{o(this,"DocumentState")}static{this.MAX_EDITED_LINES_PER_EDIT=10}static{this.MAX_EDITED_CHARS_PER_EDIT=5e3}getSelection(){return this._selection}handleSelection(t){t&&(this._isUserDocument=!0),this._selection=t}handleEdit(t,r){if(t.isEmpty())return;this._currentValue=this._currentValue.apply(t);let n=FI.fromEdit(t,this._currentValue),i=$w.fromTextEdit(n);if(r){this._baseValue=this._currentValue,this._edits=[];return}function s(l){return VM(l.edits,c=>c.newText.length)}o(s,"editInsertSize");let a=this._edits.at(-1);a&&s(a.edit)<200&&cdt(t,a.edit)?(a.edit=a.edit.compose(t),a.textLengthEdit=a.textLengthEdit.compose(i),a.instant=PI(),a.edit.isEmpty()&&this._edits.pop()):this._edits.push({edit:t,textLengthEdit:i,instant:PI()})}getRecentEdit(t,r){if(!this._isUserDocument)return;let{editCount:n}=this._applyStaleEdits(t,r),i=new Dp(this._edits.map(s=>s.edit));return{history:new GM(this.docId,this.languageId,this._baseValue,i,this._selection),editCount:n}}applyAllEdits(){this._baseValue=this._currentValue,this._edits=[]}_applyStaleEdits(t,r){let n=this._currentValue,i=is.empty,s=$w.empty,a,l=0,c=is.empty;for(a=this._edits.length-1;a>=0;a--){let u=this._edits[a];if(PI()-u.instant>10*60*1e3)break;let f=u.textLengthEdit.compose(s),m=f.getRange();OM(m,"we only compose non-empty Edits");let h=m.endLineNumber-m.startLineNumber;if(r>0&&h>r)break;let p=VM(u.textLengthEdit.edits,D=>D.range.endLineNumber-D.range.startLineNumber+D.newLength.lineCount);if(p>e.MAX_EDITED_LINES_PER_EDIT||VM(u.edit.edits,D=>D.newText.length)>e.MAX_EDITED_CHARS_PER_EDIT||VM(u.edit.edits,D=>D.range.length)>e.MAX_EDITED_CHARS_PER_EDIT)break;if(a===this._edits.length-1)c=u.edit;else{let D=is.trySwap(u.edit,c);if(D)c=D.e1;else{if(p>=2)break;c=u.edit.compose(c)}}let E=u.edit.inverseOnString(n.value);n=n.apply(E);let v=u.edit.compose(i),b=Is.fromEdit(new Yu(n,v)),B=new Rp(n,b).removeCommonSuffixPrefixLines().edit.edits.length;if(B>t)break;l=B,i=v,s=f}for(let u=0;u<=a;u++){let f=this._edits[u];this._baseValue=this._baseValue.apply(f.edit)}return this._edits=this._edits.slice(a+1),{editCount:l}}toString(){return new Dp(this._edits.map(t=>t.edit)).toHumanReadablePatch(this._baseValue)}};function VM(e,t){let r=0;for(let n of e)r+=t(n);return r}o(VM,"sum");function cdt(e,t){let r=t.getNewRanges();return e.edits.every(n=>udt(n.range,r))}o(cdt,"editExtends");function udt(e,t){return t.some(r=>e.start===r.endExclusive||e.endExclusive===r.start)}o(udt,"doesTouch");var tre=class{constructor(t){this.maxSize=t;this._arr=[]}static{o(this,"FifoSet")}push(t){let r=this._arr.indexOf(t);r!==-1?this._arr.splice(r,1):this._arr.length>=this.maxSize&&this._arr.shift(),this._arr.push(t)}remove(t){let r=this._arr.indexOf(t);r!==-1&&this._arr.splice(r,1)}getItems(){return this._arr}getItemsReversed(){let t=[...this._arr];return t.reverse(),t}has(t){return this._arr.indexOf(t)!==-1}};d();function n6e(e,t,r){return e.get(rre).safeStartIfApplicable(t,r)}o(n6e,"startRecentEditsPromptFeatureIfApplicable");var rre=class{static{o(this,"RecentEditsPromptFeatureLifecycle")}};function fdt(e,t,r){return qn(e,Pt.RecentEditsInPrompt)??t.recentEditsInPrompt(r)}o(fdt,"isRecentEditsActive");var o6e=o((e,t)=>{let r=e.get(or);return fdt(e,r,t)},"recentEditsPredicate");function i6e(e,t){return Math.abs(e-t)}o(i6e,"lineDistance");function ddt(e,t,r=0,n=!1,i,s){let a=[];if(n&&(i===void 0||s===void 0))throw new Error("cursorLine and distanceLimitFromCursor are required when filterByCursorLine is true");for(let l of e.edits){let c=l.lineRange.startLineNumber-1,u=l.lineRange.endLineNumberExclusive-1,f=t.slice(c,u),m=l.newLines;if(n&&(i6e(c,i)<=s||i6e(u,i)<=s))continue;let h=f.filter(E=>E.trim().length>0),p=m.filter(E=>E.trim().length>0);if(h.length===0&&p.length===0||h.join("").trim()===p.join("").trim())continue;let A=Math.max(0,c-r),x=Math.min(t.length,u+r);a.push(`@@ -${c+1},${f.length} +${c+1},${m.length} @@`);for(let E=A;E<c;E++)a.push(` ${t[E]}`);a.push(...f.map(E=>`-${E}`)),a.push(...m.map(E=>`+${E}`));for(let E=u;E<x;E++)a.push(` ${t[E]}`)}return a}o(ddt,"summarizeEditsAsUnifiedDiff");var s6e=o((e,t)=>{let[r,n]=t.useState();return t.useData(Wc,i=>{if(!i.document)return;let s=i.telemetryData,a=e.ctx.get(or);n6e(e.ctx,s,a);let l=qn(e.ctx,Pt.RecentEditsMaxFiles)??a.recentEditsMaxFiles(s),c=qn(e.ctx,Pt.RecentEditsEditCount)??a.recentEditsEditCount(s),u=qn(e.ctx,Pt.RecentEditsContextLines)??a.recentEditsContextLines(s),f=qn(e.ctx,Pt.RecentEditsMaxLinesBetweenEdits)??a.recentEditsMaxLinesBetweenEdits(s),m=qn(e.ctx,Pt.RecentEditsActiveDocDistanceLimitFromCursor)??a.recentEditsActiveDocDistanceLimitFromCursor(s),h=e.ctx.get(OI),p=e.ctx.get(NI),A=e.ctx.get(Vr),x=A.getOpenTextDocuments(),E={};for(let W of x)E[W.uri]=W;let v=h.getRecentDocumentUris(),b=[],S=0;for(let W of v){if(S>=l)break;let ee=E[W];if(!ee)continue;p.onUserPositionChange(ee.uri,new so(0,0));let X=h.getHistoryContext(Jte(ee.uri),c,f)?.getDocument(Jte(ee.uri)),G=X?.base.getLines();if(X&&G){let U=X.lastEdit,ie=Is.fromEdit(U),z=ee.uri===i.document?.uri?0:u,H=ee.uri===i.document?.uri,M=H?i.position.line:void 0,j=ddt(ie,G,z,H,M,m);if(j.length>0){let Z={value:j.join(`
`),uri:A.getRelativePath(ee)??ee.uri};b.push(Z),S++}}}let B=b;if(!B||B.length===0){n(void 0);return}let D=Da(i.document.clientLanguageId),F=jl("These are recently edited files in unified diff format:");F+=jl(`There are ${x.length} open files.`);for(let W of B)F+=jl(`File: ${W.uri}`),F+=jl(W.value);F+=jl("End of recent edits"),F=Hs(F,D),n(F)}),r?On($s,{children:r}):void 0},"RecentEdits");d();d();async function jM(e,t){let r=FQ(t,"Trait");for(let i of r)mdt(e,i.data,i.providerId);return r.flatMap(i=>i.data).sort((i,s)=>(i.importance??0)-(s.importance??0))}o(jM,"getTraitsFromContextItems");function mdt(e,t,r){let n=e.get(Na);t.forEach(i=>{n.addPromptLibExpectations(r,[i.value]),n.addPromptComponentsExpectations(r,[[i,"included"]])})}o(mdt,"setupExpectationsForTraits");function a6e(e){return e.map(t=>({...t,includeInPrompt:!0}))}o(a6e,"convertTraitsToRelatedFileTraits");function $M(e){return e.promptTextOverride?{kind:"string",value:e.promptTextOverride}:{kind:"name-value",name:e.name,value:e.value}}o($M,"addKindToRelatedFileTrait");d();d();d();var nre=new xn;function l6e(e){return[...e].sort((t,r)=>{let n=nre.get(t.uri.toString())??0;return(nre.get(r.uri.toString())??0)-n})}o(l6e,"sortByAccessTimes");var c6e=o(e=>e.get(Vr).onDidFocusTextDocument(t=>{t&&nre.set(t.document.uri.toString(),Date.now())}),"registerDocumentTracker");var zM=class{constructor(t){this.docManager=t}static{o(this,"OpenTabFiles")}async truncateDocs(t,r,n,i){let s=new Map,a=0;for(let l of t)if(!(a+l.getText().length>Pp.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&YM(n,l.detectedLanguageId)&&(s.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),a+=l.getText().length),s.size>=i))break;return s}async getNeighborFiles(t,r,n){let i=new Map,s=new Map;return i=await this.truncateDocs(l6e(await this.docManager.textDocuments()),t,r,n),s.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:s}}};d();d();function u6e(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}o(u6e,"shortCircuit");d();function pdt(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}o(pdt,"defaultHash");function ire(e,t={}){let{hash:r=pdt,cache:n=new Map}=t;return function(...i){let s=r.apply(this,i);if(n.has(s))return n.get(s);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(s),l})),n.set(s,a),a}}o(ire,"memoize");var f6e={entries:[],traits:[]},KM={entries:new Map,traits:[]},ore=class extends xn{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{o(this,"LRUExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.deleteKey(r)}},Xa=new Cr("relatedFiles"),gdt=1e3,JM=class extends Error{static{o(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},M4=class e{constructor(t){this.context=t}static{o(this,"RelatedFilesProvider")}async getRelatedFiles(t,r,n){let i=await this.getRelatedFilesResponse(t,r,n);if(i===null)return null;let s={entries:new Map,traits:i.traits??[]};for(let a of i.entries){let l=s.entries.get(a.type);l||(l=new Map,s.entries.set(a.type,l));for(let c of a.uris)try{Xa.debug(this.context,`Processing ${c}`);let u=await this.getFileContent(c);if(!u||u.length==0){Xa.debug(this.context,`Skip ${c} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,u)){Xa.debug(this.context,`Skip ${c} due content exclusion.`);continue}u=e.dropBOM(u),l.set(c,u)}catch(u){Xa.warn(this.context,u)}}return s}async getFileContent(t){try{return this.context.get(ko).readFileString(t)}catch(r){Xa.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(gl).evaluate(t,r)).isBlocked}catch(n){Xa.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}},Adt=3,d6e=new ore(gdt);async function m6e(e,t,r,n,i){let s=Date.now(),a;try{a=await i.getRelatedFiles(t,r,n)}catch(c){Xa.exception(e,c,".getRelatedFiles"),a=null}a===null&&(d6e.bumpRetryCount(t.uri)>=Adt?a=KM:a=null);let l=Date.now()-s;if(Xa.debug(e,a!==null?`Fetched ${[...a.entries.values()].map(c=>c.size).reduce((c,u)=>c+u,0)} related files for '${t.uri}' in ${l}ms.`:`Failing fetching files for '${t.uri}' in ${l}ms.`),a===null)throw new JM;return a}o(m6e,"getRelatedFiles");var sre=ire(m6e,{cache:d6e,hash:o((e,t,r,n,i)=>`${t.uri}`,"hash")});sre=u6e(sre,200,KM);async function h6e(e,t,r,n,i,s=!1){let a=e.get(M4),l=KM;try{let c={uri:t.uri,clientLanguageId:t.clientLanguageId,data:i};l=s?await m6e(e,c,r,n,a):await sre(e,c,r,n,a)}catch(c){l=KM,c instanceof JM&&Gt(e,"getRelatedFilesList",r)}return Cdt(e,l.traits,t,r),Xa.debug(e,l!=null?`Fetched following traits ${l.traits.map(c=>`{${c.name} : ${c.value}}`).join("")} for '${t.uri}'`:`Failing fecthing traits for '${t.uri}'.`),l}o(h6e,"getRelatedFilesAndTraits");var ydt=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function Cdt(e,t,r,n){if(t.length>0){let i={};i.detectedLanguageId=r.detectedLanguageId,i.languageId=r.clientLanguageId;for(let a of t){let l=ydt.get(a.name);l&&(i[l]=a.value)}let s=n.extendedBy(i,{});return Gt(e,"related.traits",s)}}o(Cdt,"ReportTraitsTelemetry");function YM(e,t){return Da(e)===Da(t)}o(YM,"considerNeighborFile");var Pp=class e{static{o(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){e.instance=void 0}static async getNeighborFilesAndTraits(t,r,n,i,s,a,l){let c=t.get(Vr);e.instance===void 0&&(e.instance=new zM(c));let u=_dt(t,n,i),f=wdt(t,i),m=!u||f?{...await e.instance.getNeighborFiles(r,n,e.MAX_NEIGHBOR_FILES),traits:[]}:e.defaultEmptyResult(),h=await c.getTextDocument({uri:r});if(!h)return Xa.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),m;let p=c.getWorkspaceFolder(h);if(!p)return Xa.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),m;let A=await h6e(t,h,i,s,a,l);if(A.entries.size===0)return Xa.debug(t,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),m.traits.push(...A.traits),m;let x=u?e.defaultEmptyResult():m;return A.entries.forEach((E,v)=>{let b=[];E.forEach((S,B)=>{let D=e.getRelativePath(B,p.uri);if(!D||x.docs.has(B))return;let F={relativePath:D,uri:B,source:S};b.unshift(F),x.docs.set(B,F)}),b.length>0&&x.neighborSource.set(v,b.map(S=>S.uri.toString()))}),x.traits.push(...A.traits),x}static basename(t){return decodeURIComponent(t.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(t,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return t.toString().startsWith(n)?t.toString().slice(n.length):e.basename(t)}},xdt=["cpp","c"],Edt=["typescript","javascript","typescriptreact","javascriptreact"],bdt=["csharp"];function vdt(e,t){return e.get(or).excludeOpenTabFilesCSharp(t)||qn(e,Pt.ExcludeOpenTabFilesCSharp)}o(vdt,"isExcludeOpenTabFilesCSharpActive");function Idt(e,t){return e.get(or).excludeOpenTabFilesCpp(t)||qn(e,Pt.ExcludeOpenTabFilesCpp)}o(Idt,"isExcludeOpenTabFilesCppActive");function Tdt(e,t){return e.get(or).excludeOpenTabFilesTypeScript(t)||qn(e,Pt.ExcludeOpenTabFilesTypeScript)}o(Tdt,"isExcludeOpenTabFilesTypeScriptActive");function wdt(e,t){return e.get(or).fallbackToOpenTabFilesWithNoRelatedFiles(t)||qn(e,Pt.FallbackToOpenTabFilesWithNoRelatedFiles)}o(wdt,"isFallbackToOpenTabFilesActive");var Sdt=new Map([...xdt.map(e=>[e,Idt]),...Edt.map(e=>[e,Tdt]),...bdt.map(e=>[e,vdt])]);function _dt(e,t,r){let n=Sdt.get(t);return n?n(e,r):!1}o(_dt,"isExcludeOpenTabFilesActive");function XM(e,t){return e.get(or).includeNeighboringFiles(t)||qn(e,Pt.IncludeNeighboringFiles)}o(XM,"isIncludeNeighborFilesActive");var p6e=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState([]),[a,l]=t.useState();t.useData(Wc,async m=>{m.document.uri!==r?.uri&&s([]),n(m.document);let h=m.turnOffSimilarFiles?Pp.defaultEmptyResult():await Pp.getNeighborFilesAndTraits(e.ctx,m.document.uri,m.document.detectedLanguageId,m.telemetryData,m.cancellationToken,m.data),p=await c(m.telemetryData,m.document,m,h);s(p);let A=h.traits.filter(x=>x.includeInPrompt).map($M);l(f(A,m.document))});async function c(m,h,p,A){let x=zw(e.ctx,m,h.detectedLanguageId);return(await u(x,m,h,p,A)).filter(v=>v.snippet.length>0).sort((v,b)=>v.score-b.score).map(v=>({text:mX(v,h.detectedLanguageId),score:v.score}))}o(c,"produceSimilarFiles");async function u(m,h,p,A,x){let E=m.similarFilesOptions||BQ(e.ctx,h,p.detectedLanguageId),b=e.ctx.get(Vr).getRelativePath(p),S={uri:p.uri,source:p.getText(),offset:p.offsetAt(A.position),relativePath:b,languageId:p.detectedLanguageId};return await iN(S,Array.from(x.docs.values()),E)}o(u,"findSimilarSnippets");function f(m,h){if(m.length>0&&h!==void 0)return Hs(`Consider this related information:
`+m.map(p=>p.kind==="string"?p.value:`${p.name}: ${p.value}`).join(`
`),h.detectedLanguageId)}return o(f,"produceTraitsText"),On(P1,{children:[a!==void 0?On($s,{children:a}):void 0,...i.map((m,h)=>On(kdt,{text:m.text}))]})},"SimilarFiles"),kdt=o((e,t)=>On($s,{children:e.text}),"SimilarFile");d();var g6e=o((e,t)=>{let[r,n]=t.useState(),[i,s]=t.useState();if(t.useData(Wc,a=>{a.traits!==r&&n(a.traits);let l=Da(a.document.clientLanguageId);l!==i&&s(l)}),!(!r||r.length===0||!i))return On(P1,{children:[On($s,{children:Hs(`Consider this related information:
`,i)}),...r.map(a=>On($s,{source:a,children:Hs(`${a.name}: ${a.value}`,i)},a.id))]})},"Traits");d();d();var Bdt="CppCodeSnippetsEnabledFeatures",Rdt="CppCodeSnippetsTimeBudgetFactor",Ddt="CppCodeSnippetsMaxDistanceToCaret";function ZM(e,t,r){try{let n=e.get(or).cppCodeSnippetsFeatures(r);if(n){t.set(Bdt,n);let i=e.get(or).cppCodeSnippetsTimeBudgetFactor(r);i&&t.set(Rdt,i);let s=e.get(or).cppCodeSnippetsMaxDistanceToCaret(r);s&&t.set(Ddt,s)}}catch(n){return ni.debug(e,`Failed to get the active C++ Code Snippets experiments for the Context Provider API: ${n}`),!1}return!0}o(ZM,"fillInCppActiveExperiments");var A6e=require("node:timers/promises"),y6e=tt(jn());var ha=class{static{o(this,"ContextProviderRegistry")}},are=class extends ha{constructor(r,n){super();this.ctx=r;this.match=n;this._providers=[]}static{o(this,"CoreContextProviderRegistry")}registerContextProvider(r){if(r.id.includes(",")||r.id.includes("*"))throw new Error(`A context provider id cannot contain a comma or an asterisk. The id ${r.id} is invalid.`);if(this._providers.find(n=>n.id===r.id))throw new Error(`A context provider with id ${r.id} has already been registered`);this._providers.push(r)}unregisterContextProvider(r){this._providers=this._providers.filter(n=>n.id!==r)}get providers(){return this._providers.slice()}async resolveAllProviders(r,n,i,s){if(i?.isCancellationRequested)return ni.debug(this.ctx,"Resolving context providers cancelled"),[];let a=new Map;ZM(this.ctx,a,n);let l=[];if(this._providers.length===0)return l;let c=await this.matchProviders(r,n),u=c.filter(p=>p[1]>0);if(c.filter(p=>p[1]<=0).forEach(([p,A])=>{let x={providerId:p.id,matchScore:A,resolution:"none",resolutionTimeMs:0,data:[]};l.push(x)}),u.length===0)return l;if(i?.isCancellationRequested)return ni.debug(this.ctx,"Resolving context providers cancelled"),[];let m=dT(this.ctx)&&!qP(this.ctx)?0:qn(this.ctx,Pt.ContextProviderTimeBudget),h=u.length>0?m/u.length:m;for(let[p,A]of u){let x={completionId:x6e(n),documentContext:r,activeExperiments:a,timeBudget:h,data:s},E=this.ctx.get(Na).pop(p.id);E&&(x.previousUsageStatistics=E);let v=new y6e.CancellationTokenSource;i?.onCancellationRequested(G=>{v.cancel()});let b=performance.now(),S=p.resolver.resolve(x,v.token),[B,D]=await Pdt(this.ctx,S,x,p,v),F=performance.now();this.ctx.get(Na).setLastResolution(p.id,D);let[W,ee]=Lve(B);ee&&ni.error(this.ctx,`Dropped ${ee} context items from ${p.id} due to invalid schema`);let de=Qve(this.ctx,W),X={providerId:p.id,matchScore:A,resolution:D,resolutionTimeMs:F-b,data:de};l.push(X)}return l.sort((p,A)=>A.matchScore-p.matchScore)}async matchProviders(r,n){let i=UI(this.ctx,n),s=i.length===1&&i[0]==="*";return await Promise.all(this._providers.map(async l=>{if(!s&&!i.includes(l.id))return[l,0];let c=await this.match(this.ctx,l.selector,r);return[l,c]}))}},lre=class extends ha{constructor(r){super();this.delegate=r;this._cachedContextItems=new xn(5)}static{o(this,"CachedContextProviderRegistry")}registerContextProvider(r){this.delegate.registerContextProvider(r)}unregisterContextProvider(r){this.delegate.unregisterContextProvider(r)}get providers(){return this.delegate.providers}async resolveAllProviders(r,n,i,s){let a=x6e(n),l=this._cachedContextItems.get(a);if(a&&l&&l.length>0)return l;let c=await this.delegate.resolveAllProviders(r,n,i,s);return c.length>0&&a&&this._cachedContextItems.set(a,c),c}};function C6e(e){return e>0?(0,A6e.setTimeout)(e,null):new Promise(()=>{})}o(C6e,"nullTimeout");async function Pdt(e,t,r,n,i){let s=[],a;return t instanceof Promise?[s,a]=await Fdt(e,t,r,n,i):[s,a]=await Ndt(e,t,r,n,i),[s,a]}o(Pdt,"extractDataFromPendingContextItem");async function Fdt(e,t,r,n,i){let s=[],a,l=C6e(r.timeBudget);try{let c=await Promise.race([t,l]);c===null?(a="none",i.cancel(),ni.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):(a="full",Array.isArray(c)?s.push(...c):s.push(c))}catch(c){return UT(c)||ni.error(e,`Error resolving context from ${n.id}: `,c),i.cancel(),[[],"error"]}return[s,a]}o(Fdt,"handlePromiseContextItem");async function Ndt(e,t,r,n,i){let s=[],a,l=C6e(r.timeBudget),c=(async()=>{for await(let u of t)s.push(u);return s})();try{await Promise.race([c,l])===null?(a=s.length>0?"partial":"none",i.cancel(),ni.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):a="full"}catch(u){return UT(u)||ni.error(e,`Error resolving context from ${n.id}: `,u),i.cancel(),[[],"error"]}return[s,a]}o(Ndt,"handleAsyncIteratorContextItem");function eO(e,t){return new lre(new are(e,t))}o(eO,"getContextProviderRegistry");function tO(e,t){let r=e.get(Na);return t.map(i=>{let{providerId:s,resolution:a,resolutionTimeMs:l,matchScore:c,data:u}=i,f=r.get(s),m=f?.usage??"none";(c<=0||a==="none"||a==="error")&&(m="none");let h={providerId:s,resolution:a,resolutionTimeMs:l,usage:m,usageDetails:f?.usageDetails,matched:c>0,numResolvedItems:u.length},p=f?.usageDetails!==void 0?f?.usageDetails.filter(x=>x.usage==="full"||x.usage==="partial"||x.usage==="partial_content_excluded").length:void 0,A=f?.usageDetails!==void 0?f?.usageDetails.filter(x=>x.usage==="partial"||x.usage==="partial_content_excluded").length:void 0;return p!==void 0&&(h.numUsedItems=p),A!==void 0&&(h.numPartiallyUsedItems=A),h})}o(tO,"telemetrizeContextItems");function x6e(e){return e.properties.headerRequestId}o(x6e,"extractCompletionId");function rO(e){return e.matchScore>0&&e.resolution!=="error"}o(rO,"matchContextItems");function UI(e,t){if(dT(e))return["*"];let r=e.get(or).contextProviders(t),n=qn(e,Pt.ContextProviders)??[];return r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*"?["*"]:Array.from(new Set([...r,...n]))}o(UI,"getExpContextProviders");function qI(e,t){return UI(e,t).length>0}o(qI,"useContextProviderAPI");d();d();d();var nO=class{constructor(t){this.states=t;this.currentIndex=0;this.stateChanged=!1}static{o(this,"UseState")}useState(t){let r=this.currentIndex;if(this.states[r]===void 0){let i=typeof t=="function"?t():t;this.states[r]=i}let n=o(i=>{let s=typeof i=="function"?i(this.states[r]):i;this.states[r]=s,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},iO=class{constructor(t){this.measureUpdateTime=t;this.consumers=[]}static{o(this,"UseData")}useData(t,r){this.consumers.push(n=>{if(t(n))return r(n)})}async updateData(t){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(t);this.measureUpdateTime(performance.now()-r)}}};var oO=class{constructor(t){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(t,"$",0)}static{o(this,"VirtualPromptReconciler")}reconcile(t){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return t?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,t),this.vTree)}reconcileNode(t,r,n,i){if(!t.children&&!t.lifecycle)return t;let s=t;if(t.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(t);s=this.virtualizeElement(t.component,r,n);let c=this.collectChildPaths(s);this.cleanupState(l,c)}else if(t.children){let l=[];for(let c=0;c<t.children.length;c++){let u=t.children[c];if(u){let f=this.reconcileNode(u,t.path,c,i);f!==void 0&&l.push(f)}}s.children=l}return s}virtualizeElement(t,r,n){if(!(typeof t>"u")){if(typeof t=="string"||typeof t=="number")return{name:typeof t,path:`${r}[${n}]`,props:{value:t},component:t};if(Ldt(t.type)){let i=t.type(t.props.children),s=r!=="$"?`[${n}]`:"",a=`${r}${s}.${i.type}`,l=i.children.map((c,u)=>this.virtualizeElement(c,a,u));return this.ensureUniqueKeys(l),{name:i.type,path:a,children:l.flat().filter(c=>c!==void 0),component:t}}return this.virtualizeFunctionComponent(r,n,t,t.type)}}virtualizeFunctionComponent(t,r,n,i){let s=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${t}${s}.${i.name}`,l=new ure(this.getOrCreateLifecycleData(a)),c=i(n.props,l),m=(Array.isArray(c)?c:[c]).map((h,p)=>this.virtualizeElement(h,a,p)).flat().filter(h=>h!==void 0);return this.ensureUniqueKeys(m),{name:i.name,path:a,props:n.props,children:m,component:n,lifecycle:l}}ensureUniqueKeys(t){let r=new Map;for(let i of t){if(!i)continue;let s=i.props?.key;s&&r.set(s,(r.get(s)||0)+1)}let n=Array.from(r.entries()).filter(([i,s])=>s>1).map(([i])=>i);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(t){let r=[];if(t?.children)for(let n of t.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(t,r){for(let n of t)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(t){return this.lifecycleData.has(t)||this.lifecycleData.set(t,new cre([])),this.lifecycleData.get(t)}createPipe(){return{pump:o(async t=>{await this.pumpData(t)},"pump")}}async pumpData(t){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(t,this.vTree)}async recursivelyPumpData(t,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(t);for(let n of r.children||[])await this.recursivelyPumpData(t,n)}},cre=class{static{o(this,"PromptElementLifecycleData")}constructor(t){this.state=t,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let t=this._updateTimeMs;return this._updateTimeMs=0,t}},ure=class{constructor(t){this.lifecycleData=t;this.stateHook=new nO(t.state),this.dataHook=new iO(r=>{t._updateTimeMs=r})}static{o(this,"PromptElementLifecycle")}useState(t){return this.stateHook.useState(t)}useData(t,r){this.dataHook.useData(t,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function Ldt(e){return typeof e=="function"&&"isFragmentFunction"in e}o(Ldt,"isFragmentFunction");var sO=class{static{o(this,"VirtualPrompt")}constructor(t){this.reconciler=new oO(t)}snapshotNode(t,r){if(!t)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let i of t.children??[]){let s=this.snapshotNode(i,r);if(s==="cancelled")return"cancelled";s!==void 0&&n.push(s)}return{value:t.props?.value?.toString(),name:t.name,path:t.path,props:t.props,children:n,statistics:{updateDataTimeMs:t.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(t){try{let r=this.reconciler.reconcile(t);if(t?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,t);return n==="cancelled"||t?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};var yd=class{static{o(this,"CompletionsPromptFactory")}};function aO(e,t){return new fre(new dre(new mre(e,t)))}o(aO,"createCompletionsPromptFactory");var fre=class extends yd{constructor(r){super();this.delegate=r}static{o(this,"SequentialCompletionsPromptFactory")}prompt(r,n,i,s,a){return this.lastPromise=this.promptAsync(r,n,i,s,a),this.lastPromise}async promptAsync(r,n,i,s,a){if(await this.lastPromise,s?.isCancellationRequested)return WI;try{return await this.delegate.prompt(r,n,i,s,a)}catch{return Are}}},Mdt=1200,dre=class extends yd{constructor(r){super();this.delegate=r}static{o(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(r,n,i,s,a={}){let l=new Hn.CancellationTokenSource,c=l.token;return s?.onCancellationRequested(()=>{l.cancel()}),await Promise.race([this.delegate.prompt(r,n,i,c,a),new Promise(u=>{setTimeout(()=>{l.cancel(),u(v6e)},Mdt)})])}};function Wc(e){if(!e||typeof e!="object")return!1;let t=e;return!(!t.document||!t.position||t.position.line===void 0||t.position.character===void 0||!t.telemetryData)}o(Wc,"isCompletionRequestData");var mre=class extends yd{constructor(r,n){super();this.ctx=r;this.renderer=new sM;this.virtualPrompt=n}static{o(this,"ComponentsCompletionsPromptFactory")}async prompt(r,n,i,s,a={}){try{return await this.createPromptUnsafe(r,n,i,s,a)}catch(l){return this.errorPrompt(l)}}async createPromptUnsafe(r,n,i,s,a={}){let{maxPromptLength:l,suffixPercent:c,suffixMatchThreshold:u}=zw(this.ctx,i,r.detectedLanguageId),f=await this.failFastPrompt(r,n,c??0,s);if(f)return f;let{virtualPrompt:m,pipe:h}=this.getOrCreateVirtualPrompt(this.ctx),p=performance.now(),{traits:A,codeSnippets:x,turnOffSimilarFiles:E,resolvedContextItems:v}=await this.resolveContext(r,n,i,s,a);if(await this.updateComponentData(h,r,n,A,x,i,E,l??Pv,s,a,u),s?.isCancellationRequested)return WI;let b=m.snapshot(s),S=b.status;if(S==="cancelled")return WI;if(S==="error")return this.errorPrompt(b.error);let B=this.renderer.render(b.snapshot,{delimiter:`
`,tokenizer:vo(),promptTokenLimit:l??Pv,suffixPercent:c??sN,languageId:r.detectedLanguageId},s);if(B.status==="cancelled")return WI;if(B.status==="error")return this.errorPrompt(B.error);let[D,F]=ay(B.prefix),[W]=ay(B.prefixWithoutContext),ee={...B,prefix:D,prefixWithoutContext:W},de;if(qI(this.ctx,i)){let G=Bve(B.metadata.componentStatistics);this.ctx.get(Na).computeMatch(G),de=tO(this.ctx,v)}let X=performance.now();return this.resetIfEmpty(B),this.successPrompt(ee,X,p,F,de)}async updateComponentData(r,n,i,s,a,l,c,u,f,m={},h){let p=this.createRequestData(n,i,l,f,m,u,s,a,c,h);await r.pump(p)}async resolveContext(r,n,i,s,a={}){let l=[],c,u,f=!1;if(qI(this.ctx,i)){l=await this.ctx.get(ha).resolveAllProviders({uri:r.uri,languageId:r.clientLanguageId,version:r.version,offset:r.offsetAt(n),position:a.positionBeforeApplyingEdits??n,proposedEdits:r.appliedEdits.length>0?r.appliedEdits:void 0},i,s,a.data);let h=l.filter(rO);!XM(this.ctx,i)&&h.length>0&&(f=!0),c=await jM(this.ctx,h),u=await NQ(this.ctx,h,r.detectedLanguageId)}return{traits:c,codeSnippets:u,turnOffSimilarFiles:f,resolvedContextItems:l}}async failFastPrompt(r,n,i,s){if(s?.isCancellationRequested)return WI;if((await this.ctx.get(gl).evaluate(r.uri,r.getText(),"UPDATE")).isBlocked)return gre;if((i>0?r.getText().length:r.offsetAt(n))<hre)return pre}getOrCreateVirtualPrompt(r){return this.virtualPrompt||(this.virtualPrompt=new sO(this.completionsPrompt())),this.pipe||(this.pipe=this.virtualPrompt.createPipe()),{virtualPrompt:this.virtualPrompt,pipe:this.pipe}}completionsPrompt(){return On(P1,{children:[On($Ie,{ctx:this.ctx,weight:.7}),On(g6e,{weight:.6}),On(Ove,{ctx:this.ctx,weight:.9}),On(p6e,{ctx:this.ctx,weight:.8}),On(jIe,{ctx:this.ctx,by:o6e,children:On(s6e,{ctx:this.ctx,weight:.99})}),On(ww,{weight:1})]})}createRequestData(r,n,i,s,a,l,c,u,f,m){return{document:r,position:n,telemetryData:i,cancellationToken:s,data:a.data,traits:c,codeSnippets:u,turnOffSimilarFiles:f,suffixMatchThreshold:m,maxPromptTokens:l}}resetIfEmpty(r){r.prefix.length===0&&r.suffix.length===0&&this.reset()}successPrompt(r,n,i,s,a){return{type:"prompt",prompt:{prefix:r.prefix,prefixTokens:r.prefixTokens,suffix:r.suffix,suffixTokens:r.suffixTokens,context:r.context,prefixWithoutContext:r.prefixWithoutContext,isFimEnabled:r.suffix.length>0,promptElementRanges:[]},computeTimeMs:n-i,trailingWs:s,promptChoices:new Nv,promptBackground:new Fv,neighborSource:new Map,metadata:r.metadata,contextProvidersTelemetry:a}}errorPrompt(r){return Qo(this.ctx,r,"PromptComponents.CompletionsPromptFactory"),this.reset(),Are}reset(){this.virtualPrompt=void 0,this.pipe=void 0}};function E6e(e,t){return e.get(or).promptComponentsEnabled(t)||qn(e,Pt.EnablePromptComponents)?"components":"wishlist"}o(E6e,"getPromptStrategy");function b6e(e){try{vo()}catch(t){RQ(e,t,"heatUpTokenizer")}}o(b6e,"tryHeatingUpTokenizer");var yre=require("node:perf_hooks");var hre=10,pre={type:"contextTooShort"},gre={type:"copilotContentExclusion"},Are={type:"promptError"},WI={type:"promptCancelled"},v6e={type:"promptTimeout"};async function Odt(e,t,r,n,i,s,a,l,c,u,f,m,h={}){let p={uri:s.toString(),source:t,offset:r,relativePath:i,languageId:a},A=zw(e,f,a),x=[],E=new Map,v=new Map,b=[],S=[],B=[],D=[],F=!1;try{if(qI(e,f)){S=await e.get(ha).resolveAllProviders({uri:s,languageId:l,version:c,offset:r,position:h.positionBeforeApplyingEdits??n,proposedEdits:u.length>0?u:void 0},f,m,h.data);let X=S.filter(rO);!XM(e,f)&&X.length>0&&(F=!0),D=await jM(e,X),B=await NQ(e,X,a)}let ee=F?Pp.defaultEmptyResult():await Pp.getNeighborFilesAndTraits(e,s,a,f,m,h.data);E=ee.docs,v=ee.neighborSource,b=ee.traits.concat(a6e(D)).filter(de=>de.includeInPrompt).map($M)}catch(ee){Qo(e,ee,"prompt.getPromptForSource.exception")}try{let ee={currentFile:p,similarFiles:Array.from(E.values()),traits:b,tooltipSignature:h.selectedCompletionInfo?.tooltipSignature,options:new FT(A,a),codeSnippets:LQ(e,B)},X=await e.get(Pm).getSnippets(ee),G=gX(X),U=AX(X),{runtimes:ie,timeouts:z}=yX(X);f.extendWithConfigProperties(e),f.sanitizeKeys();let H=Es(f);E.size>0?Ev(e,"prompt.stat",{...H,neighborFilesTimeout:`${z["similar-files"]}`},{neighborFilesRuntimeMs:ie["similar-files"]}):Ev(e,"prompt.stat",{...H},{});for(let M of U)M.error instanceof v1||Qo(e,M.error,"getSnippets");x.push(...G)}catch(ee){throw Qo(e,ee,"prompt.orchestrator.getSnippets.exception"),ee}let W;try{W=await Ep.getPrompt(p,A,x),qI(e,f)&&(e.get(Na).computeMatchWithPrompt(W.prefix+`
`+W.suffix),W.contextProvidersTelemetry=tO(e,S))}catch(ee){throw Qo(e,ee,"prompt.getPromptForSource.exception"),ee}return{neighborSource:v,...W}}o(Odt,"getPromptForSource");function ay(e){let t=e.split(`
`),r=t[t.length-1],n=r.length-r.trimEnd().length,i=e.slice(0,e.length-n),s=e.slice(i.length);return[r.length==n?i:e,s]}o(ay,"trimLastLine");async function I6e(e,t,r,n,i,s,a,l,c,u,f,m,h={}){if((await e.get(gl).evaluate(s,t,"UPDATE")).isBlocked)return gre;let p=e.get(or).suffixPercent(f);if((p>0?t.length:r)<hre)return pre;let x=yre.performance.now(),{prefix:E,suffix:v,prefixLength:b,suffixLength:S,promptChoices:B,promptBackground:D,promptElementRanges:F,neighborSource:W,contextProvidersTelemetry:ee}=await Odt(e,t,r,n,i,s,a,l,c,u,f,m,h),[de,X]=ay(E),G=yre.performance.now();return{type:"prompt",prompt:{prefix:de,suffix:v,prefixTokens:b,suffixTokens:S,isFimEnabled:p>0&&v.length>0,promptElementRanges:F.ranges},trailingWs:X,promptChoices:B,computeTimeMs:G-x,promptBackground:D,neighborSource:W,contextProvidersTelemetry:ee}}o(I6e,"extractPromptForSource");async function T6e(e,t,r,n,i="wishlist",s,a={}){let l=e.get(Vr).getRelativePath(t);return i==="components"?(n.extendWithConfigProperties(e),n.sanitizeKeys(),e.get(yd).prompt(t,r,n,s,a)):I6e(e,t.getText(),t.offsetAt(r),r,l,t.uri,t.detectedLanguageId,t.clientLanguageId,t.version,t.appliedEdits,n,s,a)}o(T6e,"extractPromptForDocument");function Udt(e,t){let r=e.document.detectedLanguageId,n=e.document.getText();return r===t?n:Hs(n,t)}o(Udt,"addNeighboringCellsToPrompt");async function qdt(e,t,r,n,i,s="wishlist",a,l={}){let c=r.getCellFor(t);if(c){let f=r.getCells().filter(p=>p.index<c.index&&YM(c.document.detectedLanguageId,p.document.detectedLanguageId)),m=f.length>0?f.map(p=>Udt(p,c.document.detectedLanguageId)).join(`

`)+`

`:"",h={line:0,character:0};return{textDocument:t,position:n}=W5(t,n,[{newText:m,range:{start:h,end:h}}]),s==="components"?(i.extendWithConfigProperties(e),i.sanitizeKeys(),e.get(yd).prompt(t,n,i,a,l)):I6e(e,t.getText(),t.offsetAt(n),n,void 0,t.uri,t.detectedLanguageId,t.clientLanguageId,t.version,t.appliedEdits,i,a,l)}else return T6e(e,t,n,i,s,a,l)}o(qdt,"extractPromptForNotebook");function GI(e,t,r,n,i,s={}){let l=e.get(Vr).findNotebook(t),c=E6e(e,n);return l===void 0?T6e(e,t,r,n,c,i,s):qdt(e,t,l,r,n,c,i,s)}o(GI,"extractPrompt");function zw(e,t,r){let i=e.get(or).maxPromptCompletionTokens(t)-tQ(e),s=_ve(t,r),a=BQ(e,t,r),l=e.get(or).promptOrderListPreset(t),c=e.get(or).promptPriorityPreset(t),u={maxPromptLength:i,similarFilesOptions:a,numberOfSnippets:s,promptOrderListPreset:l,promptPriorityPreset:c},f=e.get(or).suffixPercent(t),m=e.get(or).suffixMatchThreshold(t);return f>0&&m>0&&(u={...u,suffixPercent:f,suffixMatchThreshold:m}),u}o(zw,"getPromptOptions");d();d();var w6e=2.98410452738298,S6e=-.838732736843507,_6e=1.50314646255716,k6e=-.237798634012662,lO={python:.314368072478742},B6e={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var Wdt={link:o(e=>Math.exp(e)/(1+Math.exp(e)),"link"),unlink:o(e=>Math.log(e/(1-e)),"unlink")};function Gdt(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),s=t.get(n);return s+(i-s)*(e-n)/(r-n)}o(Gdt,"linearInterpolation");var HI=class{static{o(this,"Regressor")}constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}},Cre=class{constructor(t,r,n){this.link=Wdt;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}static{o(this,"LogisticRegression")}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let s=r[i.name];if(s===void 0)return NaN;n+=i.contribution(s)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return Gdt(n,this.logitsToQuantiles)}},R6e=new Cre(w6e,[new HI("compCharLen",S6e,e=>Math.log(1+e)),new HI("meanLogProb",_6e),new HI("meanAlternativeLogProb",k6e)].concat(Object.entries(lO).map(e=>new HI(e[0],e[1]))),B6e);function D6e(e,t){let r={...t.measurements};return Object.keys(lO).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),R6e.predict(e,r)}o(D6e,"ghostTextScoreConfidence");function P6e(e,t){let r={...t.measurements};return Object.keys(lO).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),R6e.quantile(e,r)}o(P6e,"ghostTextScoreQuantile");d();d();var Hdt=[{max_token_sequence_length:1,last_tokens_to_consider:10},{max_token_sequence_length:10,last_tokens_to_consider:30},{max_token_sequence_length:20,last_tokens_to_consider:45},{max_token_sequence_length:30,last_tokens_to_consider:60}];function cO(e){let t=e.slice();return t.reverse(),F6e(t)||F6e(t.filter(r=>r.trim().length>0))}o(cO,"isRepetitive");function F6e(e){let t=Vdt(e);for(let r of Hdt){if(e.length<r.last_tokens_to_consider)continue;if(r.last_tokens_to_consider-1-t[r.last_tokens_to_consider-1]<=r.max_token_sequence_length)return!0}return!1}o(F6e,"isRepeatedPattern");function Vdt(e){let t=Array(e.length).fill(0);t[0]=-1;let r=-1;for(let n=1;n<e.length;n++){for(;r>=0&&e[r+1]!==e[n];)r=t[r];e[r+1]===e[n]&&r++,t[n]=r}return t}o(Vdt,"kmp_prefix_function");function jdt(e,t,r,n){let i="}";try{i=Ep.getBlockCloseToken(t.detectedLanguageId)??"}"}catch{}return $dt({getLineText:o(s=>t.lineAt(s).text,"getLineText"),getLineCount:o(()=>t.lineCount,"getLineCount")},r,n,i)}o(jdt,"maybeSnipCompletion");function $dt(e,t,r,n){let i=zdt(r),s=i.lines;if(s.length===1)return r;for(let a=1;a<s.length;a++){let l=!0,c=0,u=0;for(let f=0;f+a+u<s.length;f++){let m;for(;;){let x=t.line+1+f+c;if(m=x>=e.getLineCount()?void 0:e.getLineText(x),m!==void 0&&m.trim()==="")c++;else break}let h,p;for(;h=a+f+u,p=h>=s.length?void 0:s[h],p!==void 0&&p.trim()==="";)u++;let A=h===s.length-1;if(!p||!(m&&(A?m.startsWith(p)||p.startsWith(m):m===p&&p.trim()===n))){l=!1;break}}if(l)return s.slice(0,a).join(i.newLineCharacter)}return r}o($dt,"maybeSnipCompletionImpl");function zdt(e){let t=e.includes(`\r
`)?`\r
`:`
`;return{lines:e.split(t),newLineCharacter:t}}o(zdt,"splitByNewLine");function Ydt(e,t,r,n){let i="",s=t.line+1,a=n?r.trim():r;for(;i===""&&s<e.lineCount;){if(i=e.lineAt(s).text,n&&(i=i.trim()),i===a)return!0;s++}return!1}o(Ydt,"matchesNextLine");function Yw(e,t,r,n,i,s){if(cO(n.tokens)){let l=rn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Gt(e,"repetition.detected",l,1),s.info(e,"Filtered out repetitive solution");return}let a={...n};if(Ydt(t,r,a.completionText,!i)){let l=rn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),Gt(e,"completion.alreadyInDocument",l),Gt(e,"completion.alreadyInDocument",l.extendedBy({completionTextJson:JSON.stringify(a.completionText)}),1),s.info(e,"Filtered out solution matching next line");return}return a.completionText=jdt(e,t,r,a.completionText),a.completionText?a:void 0}o(Yw,"postProcessChoiceInContext");function N6e(e,t,r){let i=e.lineAt(t.line).text.substring(t.character);if(i.length>0){if(r.completionText.indexOf(i)!==-1)return i.length;{let s=-1,a=0;for(let l of i){let c=r.completionText.indexOf(l,s+1);if(c>s)a++,s=c;else break}return a}}return 0}o(N6e,"checkSuffix");var L6e=tt(j2());var Di=new Cr("ghostText");async function Q6e(e,t,r,n,i,s,a){Di.debug(e,`Getting ${s} from network`),r=r.extendedBy();let l=emt(e,t,r),c=oI(e,l),u={stream:!0,n:l,temperature:c,extra:{language:t.languageId,next_indent:t.indentation.next??0,trim_by_indentation:O3e(t.blockMode),prompt_tokens:t.prompt.prefixTokens??0,suffix_tokens:t.prompt.suffixTokens??0}};t.multiline||(u.stop=[`
`]);let f=Date.now(),m={endpoint:"completions",uiKind:"ghostText",temperature:JSON.stringify(c),n:JSON.stringify(l),stop:JSON.stringify(u.stop)??"unset",logit_bias:JSON.stringify(u.logit_bias??null)};Object.assign(r.properties,m);try{let h={prompt:t.prompt,languageId:t.languageId,repoInfo:t.repoInfo,ourRequestId:t.ourRequestId,engineModelId:t.engineModelId,count:l,uiKind:"ghostText",postOptions:u,headers:t.headers},p=await e.get(Oc).fetchAndStreamCompletions(e,h,r,i,n);return p.type==="failed"?{type:"failed",reason:p.reason,telemetryData:Es(r)}:p.type==="canceled"?(Di.debug(e,"Cancelled after awaiting fetchCompletions"),{type:"canceled",reason:p.reason,telemetryData:md(r)}):a(l,f,p.getProcessingTime(),p.choices)}catch(h){if(Ec(h))return{type:"canceled",reason:"network request aborted",telemetryData:md(r,{cancelledNetworkRequest:!0})};if(Di.exception(e,h,"Error on ghost text request"),e.get(Rc).notifyUser(e,h),lv(e))throw h;return{type:"failed",reason:"non-abort error on ghost text request",telemetryData:Es(r)}}}o(Q6e,"genericGetCompletionsFromNetwork");function xre(e,t,r){if(r||(r=[]),e.completionText=e.completionText.trimEnd(),!!e.completionText&&r.findIndex(n=>n.completionText.trim()===e.completionText.trim())===-1)return t.requestForNextLine&&(e.completionText=`
`+e.completionText),e}o(xre,"postProcessChoices");async function Xdt(e,t,r,n,i){return Q6e(e,t,r,n,i,"completions",async(s,a,l,c)=>{let f=await c[Symbol.asyncIterator]().next();if(f.done)return Di.debug(e,"All choices redacted"),{type:"empty",reason:"all choices redacted",telemetryData:Es(r)};if(n?.isCancellationRequested)return Di.debug(e,"Cancelled after awaiting redactedChoices iterator"),{type:"canceled",reason:"after awaiting redactedChoices iterator",telemetryData:md(r)};let m=f.value;if(m===void 0)return Di.debug(e,"Got undefined choice from redactedChoices iterator"),{type:"empty",reason:"got undefined choice from redactedChoices iterator",telemetryData:Es(r)};O6e(e,"performance",m,a,l),Di.debug(e,`Awaited first result, id:  ${m.choiceIndex}`);let h=xre(m,t);h&&(Ere(e,t,{multiline:t.multiline,choices:[h]},r),Di.debug(e,`GhostText first completion (index ${h?.choiceIndex}): ${JSON.stringify(h?.completionText)}`));let p=(async()=>{let A=h!==void 0?[h]:[];for await(let x of c){if(x===void 0)continue;Di.debug(e,`GhostText later completion (index ${x?.choiceIndex}): ${JSON.stringify(x.completionText)}`);let E=xre(x,t,A);E&&(A.push(E),Ere(e,t,{multiline:t.multiline,choices:[E]},r))}})();return Tm(e)&&await p,h?{type:"success",value:[uO(h,{forceSingleLine:!1}),p],telemetryData:Es(r),telemetryBlob:r,resultType:0}:{type:"empty",reason:"got undefined processedFirstChoice",telemetryData:Es(r)}})}o(Xdt,"getCompletionsFromNetwork");async function Zdt(e,t,r,n,i){return Q6e(e,t,r,n,i,"all completions",async(s,a,l,c)=>{let u=[];for await(let f of c){if(n?.isCancellationRequested)return Di.debug(e,"Cancelled after awaiting choices iterator"),{type:"canceled",reason:"after awaiting choices iterator",telemetryData:md(r)};let m=xre(f,t,u);m&&u.push(m)}return u.length>0&&(Ere(e,t,{multiline:t.multiline,choices:u},r),O6e(e,"cyclingPerformance",u[0],a,l)),{type:"success",value:[u,Promise.resolve()],telemetryData:Es(r),telemetryBlob:r,resultType:3}})}o(Zdt,"getAllCompletionsFromNetwork");function uO(e,t){let r={...e};if(t.forceSingleLine){let{completionText:n}=r;n?.[0]===`
`?r.completionText=`
`+n.split(`
`)[1]:r.completionText=n.split(`
`)[0]}return r}o(uO,"makeGhostAPIChoice");function emt(e,t,r){let n=e.get(or).overrideNumGhostCompletions(r);return n?t.isCycling?Math.max(3,n):n:!t.isCycling&&t.blockMode==="moremultiline"&&D1.isSupported(t.languageId)?1:M3e(t.blockMode)&&t.multiline?3:t.isCycling?2:1}o(emt,"getNumGhostCompletions");async function tmt(e,t,r,n,i,s,a,l,c){let u=e.get(Fm).forLanguage(e,t.detectedLanguageId,c);switch(u){case"server":return{blockMode:"server",requestMultiline:!0,isCyclingRequest:i,finishedCb:o(f=>{},"finishedCb")};case"parsing":case"parsingandserver":case"moremultiline":default:{let f=await fmt(e,u,t,r,s,a,l,n);if(f.requestMultiline){let m;return n.trailingWs.length>0&&!n.prompt.prefix.endsWith(n.trailingWs)?m=oo.position(r.line,Math.max(r.character-n.trailingWs.length,0)):m=r,{blockMode:u,requestMultiline:!0,isCyclingRequest:!1,finishedCb:rmt(e,u,t,m,f.blockPosition,l)}}return{blockMode:u,requestMultiline:!1,isCyclingRequest:i,finishedCb:o(m=>{},"finishedCb")}}}}o(tmt,"getGhostTextStrategy");function rmt(e,t,r,n,i,s){if(t==="moremultiline"&&D1.isSupported(r.detectedLanguageId)){let a=r.getText(oo.range(oo.position(0,0),n))+(s?`
`:"");if(qn(e,Pt.TrimCompletionsAggressively)!==!1){let l=3;return(i==="empty-block"||i==="block-end")&&(l=7),async function(c){return await new IQ(r.detectedLanguageId,a,c,3,l).getCompletionTrimOffset()}}else return async function(l){return await new vQ(r.detectedLanguageId,a,l).getCompletionTrimOffset()}}return Iw(e,r,n,s)}o(rmt,"multilineFinishedCallback");var nmt=new bQ,imt={isCycling:!1,promptOnly:!1,isSpeculative:!1};async function omt(e,t,r,n,i,s,a){let l=i.issuedTime,c=[];function u(B){let D=Gs();c.push([B,D-l]),l=D}o(u,"recordPerformance"),u("telemetry");let f={...imt,...a},m=e.get(Cd),h=m.clientCompletionId,p=e.get(or);if(s?.isCancellationRequested)return{type:"abortedBeforeIssued",reason:"cancelled before extractPrompt",telemetryData:Es(i)};let A=amt(t,r);if(A===void 0)return Di.debug(e,"Breaking, invalid middle of the line"),{type:"abortedBeforeIssued",reason:"Invalid middle of the line",telemetryData:Es(i)};let x=e.get(Om).isEnabled(i)?e.get(Om):void 0,E=s,v=new Hn.CancellationTokenSource;x&&(s=v.token);let b=await GI(e,t,r,i,s,f);return u("prompt"),b.type==="copilotContentExclusion"?(Di.debug(e,"Copilot not available, due to content exclusion"),{type:"abortedBeforeIssued",reason:"Copilot not available due to content exclusion",telemetryData:Es(i)}):b.type==="contextTooShort"?(Di.debug(e,"Breaking, not enough context"),{type:"abortedBeforeIssued",reason:"Not enough context",telemetryData:Es(i)}):b.type==="promptError"?(Di.debug(e,"Error while building the prompt"),{type:"abortedBeforeIssued",reason:"Error while building the prompt",telemetryData:Es(i)}):f.promptOnly?{type:"promptOnly",reason:"Breaking, promptOnly set to true",prompt:b}:b.type==="promptCancelled"?(Di.debug(e,"Cancelled during extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled during extractPrompt",telemetryData:Es(i)}):b.type==="promptTimeout"?(Di.debug(e,"Timeout during extractPrompt"),{type:"abortedBeforeIssued",reason:"Timeout",telemetryData:Es(i)}):b.prompt.prefix.length===0&&b.prompt.suffix.length===0?(Di.debug(e,"Error empty prompt"),{type:"abortedBeforeIssued",reason:"Empty prompt",telemetryData:Es(i)}):s?.isCancellationRequested?(Di.debug(e,"Cancelled after extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled after extractPrompt",telemetryData:Es(i)}):e.get(Mi).withProgress(async()=>{let[B]=ay(t.getText(oo.range(oo.position(0,0),r))),D=p.triggerCompletionAfterAccept(i),F=e.get(Cd).hasAcceptedCurrentCompletion(B,b.prompt.suffix),W=D?F:void 0,ee=b.prompt;W&&(b.prompt={...b.prompt,prefix:b.prompt.prefix+`
`,prefixWithoutContext:b.prompt.prefixWithoutContext+`
`});let de=await tmt(e,t,r,b,f.isCycling,A,F,W??!1,i);if(u("strategy"),s?.isCancellationRequested)return Di.debug(e,"Cancelled after requestMultiline"),{type:"abortedBeforeIssued",reason:"Cancelled after requestMultiline",telemetryData:Es(i)};let X=smt(e,B,ee,de.requestMultiline,i);u("cache");let G=v5(e,t.uri),U=b5(e,i),ie={blockMode:de.blockMode,languageId:t.detectedLanguageId,repoInfo:G,engineModelId:U.modelId,ourRequestId:n,prefix:B,prompt:b.prompt,multiline:de.requestMultiline,indentation:Tw(t,r),isCycling:f.isCycling,headers:U.headers,requestForNextLine:W};ie.headers={...ie.headers,"X-Copilot-Async":x?"true":"false","X-Copilot-Speculative":f.isSpeculative?"true":"false"};let z=ymt(e,t,ie,r,b,i,U,f),H=qn(e,Pt.EnableSpeculativeRequests),M=p.enableSpeculativeRequests(i),j=(H??M)&&!f.isSpeculative&&!de.isCyclingRequest,Z=Promise.resolve();if(x&&X===void 0&&!de.isCyclingRequest&&x.shouldWaitForAsyncCompletions(B,b.prompt)){let Ee=await x.getFirstMatchingRequestWithTimeout(n,B,b.prompt,f.isSpeculative,z);if(u("asyncWait"),Ee){let Oe=!de.requestMultiline;X=[[uO(Ee[0],{forceSingleLine:Oe})],4],Z=Ee[1]}if(E?.isCancellationRequested)return Di.debug(e,"Cancelled before requesting a new completion"),{type:"abortedBeforeIssued",reason:"Cancelled after waiting for async completion",telemetryData:Es(z)}}let ae=de.blockMode==="moremultiline"&&D1.isSupported(t.detectedLanguageId);if(X!==void 0&&(X[0]=X[0].map(Ee=>Yw(e,t,r,Ee,ae,Di)).filter(Ee=>Ee!==void 0)),X!==void 0&&X[0].length>0&&(!de.isCyclingRequest||X[0].length>1))Di.debug(e,`Found inline suggestions locally via ${bw(X[1])}`);else{if(de.isCyclingRequest){let Ee=await Zdt(e,ie,z,s,de.finishedCb);if(Ee.type==="success"){let Oe=X?.[0]??[];Ee.value[0].forEach(Be=>{Oe.findIndex(Je=>Je.completionText.trim()===Be.completionText.trim())===-1&&Oe.push(Be)}),X=[Oe,3]}else if(X===void 0)return Ee}else{let Oe=p.debounceThreshold(i)??(U.modelId.startsWith("gpt-4o")||U.modelId.startsWith("chat-")?0:75);if(!(x!==void 0||ie.requestForNextLine===!0||Oe===0)){try{await nmt.debounce(Oe),u("debounce")}catch{return{type:"canceled",reason:"by debouncer",telemetryData:md(z)}}if(s?.isCancellationRequested)return Di.debug(e,"Cancelled during debounce"),{type:"canceled",reason:"during debounce",telemetryData:md(z)}}if(s?.isCancellationRequested)return Di.debug(e,"Cancelled before contextual filter"),{type:"canceled",reason:"before contextual filter",telemetryData:md(z)};if(!p.disableContextualFilter(i)&&z.measurements.contextualFilterScore<35/100)return Di.debug(e,"Cancelled by contextual filter"),{type:"canceled",reason:"contextualFilterScore below threshold",telemetryData:md(z)};let Je=x?(Xe,st)=>(x.updateCompletion(n,Xe),de.finishedCb(Xe,st)):de.finishedCb,at=Xdt(e,ie,z,s,Je);if(x){x.queueCompletionRequest(n,B,b.prompt,v,at);let Xe=await x.getFirstMatchingRequest(n,B,b.prompt,f.isSpeculative);if(Xe===void 0)return{type:"empty",reason:"received no results from async completions",telemetryData:Es(z)};X=[[Xe[0]],4],Z=Xe[1]}else{let Xe=await at;if(Xe.type!=="success")return Xe;X=[[Xe.value[0]],0],Z=Xe.value[1]}}u("network")}if(X===void 0)return{type:"failed",reason:"internal error: choices should be defined after network call",telemetryData:Es(z)};let[ne,le]=X,fe=ne.map(Ee=>Yw(e,t,r,Ee,ae,Di)).filter(Ee=>Ee!==void 0),Re=[];for(let Ee of fe){let Oe=Amt(e,t,ie,Ee,z),Be=A?N6e(t,r,Ee):0,at={completion:mmt(Ee.choiceIndex,Ee.completionText,b.trailingWs),telemetry:Oe,isMiddleOfTheLine:A,suffixCoverage:Be,copilotAnnotations:Ee.copilotAnnotations};Re.push(at)}if(E?.isCancellationRequested)return Di.debug(e,"Cancelled after post processing completions"),{type:"canceled",reason:"after post processing completions",telemetryData:md(z)};if(z.properties.clientCompletionId=Re?.[0]?.telemetry?.properties.clientCompletionId,z.measurements.foundOffset=Re?.[0]?.telemetry?.measurements?.foundOffset??-1,Di.debug(e,`Produced ${Re.length} results from ${bw(le)} at ${z.measurements.foundOffset} offset`),j&&Re.length>0){let Ee=W5(t,r,[{newText:Re[0].completion.completionText,range:{start:r,end:r}}]),Oe=new Hn.CancellationTokenSource().token;Z.then(()=>{bre(e,Ee.textDocument,Ee.position,Oe,{positionBeforeApplyingEdits:f.positionBeforeApplyingEdits,isSpeculative:!0,opportunityId:f.opportunityId})})}if(h!==m.clientCompletionId){let Ee=m.getCompletionsForUserTyping(B,b.prompt.suffix);if(Ee&&Ee.length>0)return Di.debug(e,"Current completion changed before returning"),{type:"canceled",reason:"current completion changed before returning",telemetryData:md(z)}}return f.isSpeculative||m.setGhostText(B,b.prompt.suffix,fe,le),u("complete"),{type:"success",value:[Re,le],telemetryData:Es(z),telemetryBlob:z,resultType:le,performanceMetrics:c}})}o(omt,"getGhostTextWithoutAbortHandling");async function bre(e,t,r,n,i){let s=Tr(),a=await gmt(e,t,s,i);try{return await omt(e,t,r,s,a,n,i)}catch(l){if(Ec(l))return{type:"canceled",reason:"aborted at unknown location",telemetryData:md(a,{cancelledNetworkRequest:!0})};throw l}}o(bre,"getGhostText");function smt(e,t,r,n,i){let s=e.get(Cd).getCompletionsForUserTyping(t,r.suffix),a=pmt(e,t,r,n,i);if(s&&s.length>0){let l=(a??[]).filter(c=>!s.some(u=>u.completionText===c.completionText));return[s.concat(l),2]}if(a&&a.length>0)return[a,1]}o(smt,"getLocalInlineSuggestion");function amt(e,t){let r=lmt(t,e),n=cmt(t,e);return r&&!n?void 0:r&&n}o(amt,"isInlineSuggestion");function lmt(e,t){return t.lineAt(e).text.substr(e.character).trim().length!=0}o(lmt,"isMiddleOfTheLine");function cmt(e,t){let n=t.lineAt(e).text.substr(e.character).trim();return/^\s*[)>}\]"'`]*\s*[:{;,]?\s*$/.test(n)}o(cmt,"isValidMiddleOfTheLinePosition");function umt(e,t){return t.lineAt(e).text.trim().length===0}o(umt,"isNewLine");var j1=class e{constructor(t=!1){this.requestMultilineOverride=t}static{o(this,"ForceMultiLine")}static{this.default=new e}};async function fmt(e,t,r,n,i,s,a,l){if(e.get(j1).requestMultilineOverride)return{requestMultiline:!0};if(r.lineCount>=8e3)Gt(e,"ghostText.longFileMultilineSkip",rn.createAndMarkAsIssued({languageId:r.detectedLanguageId,lineCount:String(r.lineCount),currentLine:String(n.line)}));else{if(t=="moremultiline"&&D1.isSupported(r.detectedLanguageId)){let f=await gve(r,n);return s||f==="empty-block"?{requestMultiline:!0,blockPosition:f}:{requestMultiline:!1,blockPosition:f}}if(a){let f=Tw(r,n),m=f.current>0?r.lineAt(n).text[0]:void 0,h={range:{start:n,end:n},newText:`
`+(m?m.repeat(f.current):"")};r=r.applyEdits([h])}if(["typescript","typescriptreact"].includes(r.detectedLanguageId)&&umt(n,r))return{requestMultiline:!0};let u=!1;return!i&&Lu(r.detectedLanguageId)?u=await kQ(r,n):i&&Lu(r.detectedLanguageId)&&(u=await kQ(r,n)||await kQ(r,r.lineAt(n).range.end)),u||["javascript","javascriptreact","python"].includes(r.detectedLanguageId)&&(u=xve(l.prompt,r.detectedLanguageId)>.5),{requestMultiline:u}}return{requestMultiline:!1}}o(fmt,"shouldRequestMultiline");function Ere(e,t,r,n){if(qn(e,Pt.EnablePrefixCache)??e.get(or).enablePrefixCompletionsCache(n)){e.get(Um).append(t.prefix,r.choices);return}let i={...t.prompt};t.requestForNextLine&&(i.prefix=i.prefix.slice(0,-1));let s=W$(i),a=e.get(Hu).get(s);a&&a.multiline===r.multiline?e.get(Hu).set(s,{multiline:a.multiline,choices:a.choices.concat(r.choices)}):e.get(Hu).set(s,r),Di.debug(e,`Appended ${r.choices.length} cached ghost text for key: ${s}, multiline: ${r.multiline}, total number of suggestions: ${(a?.choices.length??0)+r.choices.length}`)}o(Ere,"appendToCache");function dmt(e,t,r){let n=e.get(Hu).get(t);if(n&&!(r&&!n.multiline))return n.choices}o(dmt,"getCachedChoices");function mmt(e,t,r){if(r.length>0){if(t.startsWith(r))return{completionIndex:e,completionText:t,displayText:t.substring(r.length),displayNeedsWsOffset:!1};{let n=t.substring(0,t.length-t.trimStart().length);return r.startsWith(n)?{completionIndex:e,completionText:t,displayText:t.trimStart(),displayNeedsWsOffset:!0}:{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}}else return{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}o(mmt,"adjustLeadingWhitespace");var hmt=50;function pmt(e,t,r,n,i){if(qn(e,Pt.EnablePrefixCache)??e.get(or).enablePrefixCompletionsCache(i)){let s=e.get(Um).findAll(t);return s.length===0?(Di.debug(e,"Found no completions in prefix cache"),[]):(Di.debug(e,`Found ${s.length} completions in prefix cache`),s.map(a=>uO(a,{forceSingleLine:!n})))}for(let s=0;s<hmt;s++){let a=[],l=r.prefix.substring(0,r.prefix.length-s),c=W$({prefix:l,suffix:r.suffix}),u=dmt(e,c,n);if(!u)continue;Di.debug(e,`Got completions from cache at ${s} characters back for key: ${c}, multiline: ${n}`);let f=r.prefix.substring(l.length);for(let m of u){let h=m.completionText;if(!h.startsWith(f)||h.length<=f.length)continue;h=h.substring(f.length);let p=uO({...m,completionText:h},{forceSingleLine:!n});p.telemetryData.measurements.foundOffset=s,p.completionText!==""&&a.push(p)}if(Di.debug(e,`Found ${a.length} matching completions from cache at ${s} characters back`),a.length>0)return a}return[]}o(pmt,"getCompletionsFromCache");async function gmt(e,t,r,n){let i={headerRequestId:r};n?.opportunityId&&(i.opportunityId=n.opportunityId),n?.selectedCompletionInfo?.text&&(i.completionsActive="true"),n?.isSpeculative&&(i.reason="speculative");let s=rn.createAndMarkAsIssued(i);return await e.get(or).updateExPValuesAndAssignments({uri:t.uri,languageId:t.detectedLanguageId},s)}o(gmt,"createTelemetryWithExp");function Amt(e,t,r,n,i){let s=n.requestId,a={choiceIndex:n.choiceIndex.toString(),clientCompletionId:n.clientCompletionId},l=n.completionText.split(`
`).length,c={compCharLen:n.completionText.length,numLines:r.requestForNextLine?l-1:l};n.meanLogProb&&(c.meanLogProb=n.meanLogProb),n.meanAlternativeLogProb&&(c.meanAlternativeLogProb=n.meanAlternativeLogProb);let u=n.telemetryData.extendedBy(a,c);return u.issuedTime=i.issuedTime,u.measurements.timeToProduceMs=performance.now()-i.issuedTime,M6e(u,t),u.extendWithRequestId(s),u.measurements.confidence=D6e(e,u),u.measurements.quantile=P6e(e,u),Di.debug(e,`Extended telemetry for ${n.telemetryData.properties.headerRequestId} with retention confidence ${u.measurements.confidence} (expected as good or better than about ${u.measurements.quantile} of all suggestions)`),u}o(Amt,"telemetryWithAddData");function ymt(e,t,r,n,i,s,a,l){let c={languageId:t.detectedLanguageId};r.requestForNextLine!==void 0&&(c.requestForNextLine=r.requestForNextLine.toString()),c.isSpeculative=l.isSpeculative.toString();let u=s.extendedBy(c);M6e(u,t);let f=r.repoInfo;u.properties.gitRepoInformation=f===void 0?"unavailable":f===0?"pending":"available",f!==void 0&&f!==0&&(u.properties.gitRepoUrl=f.url,u.properties.gitRepoHost=f.hostname,u.properties.gitRepoOwner=f.owner,u.properties.gitRepoName=f.repo,u.properties.gitRepoPath=f.pathname),u.properties.engineName=a.modelId,u.properties.engineChoiceSource=a.engineChoiceSource,u.properties.isMultiline=JSON.stringify(r.multiline),u.properties.isCycling=JSON.stringify(r.isCycling);let m=t.lineAt(n.line),h=t.getText(oo.range(m.range.start,n)),p=t.getText(oo.range(n,m.range.end)),A=Array.from(i.neighborSource.entries()).map(b=>[b[0],b[1].map(S=>(0,L6e.SHA256)(S).toString())]),x={beforeCursorWhitespace:JSON.stringify(h.trim()===""),afterCursorWhitespace:JSON.stringify(p.trim()===""),promptChoices:JSON.stringify(i.promptChoices,(b,S)=>S instanceof Map?Array.from(S.entries()).reduce((B,[D,F])=>({...B,[D]:F}),{}):S),promptBackground:JSON.stringify(i.promptBackground,(b,S)=>S instanceof Map?Array.from(S.values()):S),neighborSource:JSON.stringify(A),blockMode:r.blockMode},E={...xv(i.prompt),promptEndPos:t.offsetAt(n),promptComputeTimeMs:i.computeTimeMs};i.metadata&&(x.promptMetadata=JSON.stringify(i.metadata)),i.contextProvidersTelemetry&&(x.contextProviders=JSON.stringify(i.contextProvidersTelemetry));let v=u.extendedBy(x,E);return v.measurements.contextualFilterScore=pve(e,v,i.prompt),Gt(e,"ghostText.issued",v),u}o(ymt,"telemetryIssued");function M6e(e,t){e.measurements.documentLength=t.getText().length,e.measurements.documentLineCount=t.lineCount}o(M6e,"addDocumentTelemetry");function O6e(e,t,r,n,i){let s=Date.now()-n,a=s-i,l=r.telemetryData.extendedBy({},{completionCharLen:r.completionText.length,requestTimeMs:s,processingTimeMs:i,deltaMs:a,meanLogProb:r.meanLogProb||NaN,meanAlternativeLogProb:r.meanAlternativeLogProb||NaN});l.extendWithRequestId(r.requestId),Gt(e,`ghostText.${t}`,l)}o(O6e,"telemetryPerformance");var Cd=class{constructor(){this.choices=[]}static{o(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(t,r,n,i){i!==2&&(this.prefix=t,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(t,r){let n=this.getRemainingPrefix(t,r);if(n!==void 0&&U6e(this.choices[0].completionText,n))return Cmt(this.choices,n)}hasAcceptedCurrentCompletion(t,r){let n=this.getRemainingPrefix(t,r);if(n===void 0)return!1;let i=n===this.choices?.[0].completionText,s=this.choices?.[0].finishReason;return i&&s==="stop"}getRemainingPrefix(t,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&t.startsWith(this.prefix))return t.substring(this.prefix.length)}};function Cmt(e,t){return e.filter(r=>U6e(r.completionText,t)).map(r=>({...r,completionText:r.completionText.substring(t.length)}))}o(Cmt,"adjustChoicesStart");function U6e(e,t){return e.startsWith(t)&&e.length>t.length}o(U6e,"startsWithAndExceeds");d();d();d();var O4=class{constructor(t,r,n){this._referenceCount=0;this._isDisposed=!1;this._offset=n;let i=t.get(Vr);this._tracker=i.onDidChangeTextDocument(async s=>{if(s.document.uri===r){for(let a of s.contentChanges)if(a.rangeOffset+a.rangeLength<=this.offset){let l=a.text.length-a.rangeLength;this._offset=this._offset+l}}})}static{o(this,"ChangeTracker")}get offset(){return this._offset}push(t,r){if(this._isDisposed)throw new Error("Unable to push new actions to a disposed ChangeTracker");this._referenceCount++,setTimeout(()=>{t(),this._referenceCount--,this._referenceCount===0&&(this._tracker.dispose(),this._isDisposed=!0)},r)}};d();function vre(e,t,r=(n,i)=>n===i?0:1){if(t.length===0||e.length===0)return{distance:t.length,startOffset:0,endOffset:0};let n=new Array(t.length+1).fill(0),i=new Array(t.length+1).fill(0),s=new Array(e.length+1).fill(0),a=new Array(e.length+1).fill(0),l=t[0];for(let u=0;u<e.length+1;u++)u===0?n[u]=1:n[u]=r(e[u-1],l,u-1,0),i[u]=u>0?u-1:0;for(let u=1;u<t.length;u++){let f=s;s=n,n=f,f=a,a=i,i=f,l=t[u],n[0]=u+1;for(let m=1;m<e.length+1;m++){let h=1+s[m],p=1+n[m-1],A=r(e[m-1],l,m-1,u)+s[m-1];n[m]=Math.min(p,h,A),n[m]===A?i[m]=a[m-1]:n[m]===h?i[m]=a[m]:i[m]=i[m-1]}}let c=0;for(let u=0;u<e.length+1;u++)n[u]<n[c]&&(c=u);return{distance:n[c],startOffset:i[c],endOffset:c}}o(vre,"editDistance");function xmt(){return new Map}o(xmt,"emptyLexDictionary");function Emt(e){let t=new Array(e.size);for(let[r,n]of e)t[n]=r;return t}o(Emt,"reverseLexDictionary");function*bmt(e){let t="",r;(l=>(l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other"))(r||={});let n=0;for(let i of e){let s;new RegExp("(\\p{L}|\\p{Nd}|_)","u").test(i)?s=0:i===" "?s=1:s=2,s===n&&s!==2?t+=i:(t.length>0&&(yield t),t=i,n=s)}t.length>0&&(yield t)}o(bmt,"lexGeneratorWords");function q6e(e,t,r,n){let i=[],s=0;for(let a of r(e))n(a)&&(t.has(a)||t.set(a,t.size),i.push([t.get(a),s])),s+=a.length;return[i,t]}o(q6e,"lexicalAnalyzer");function W6e(e){return e!==" "}o(W6e,"notSingleSpace");function G6e(e,t,r=bmt){let[n,i]=q6e(e,xmt(),r,W6e),[s,a]=q6e(t,i,r,W6e);if(s.length===0||n.length===0)return{lexDistance:s.length,startOffset:0,endOffset:0,haystackLexLength:n.length,needleLexLength:s.length};let l=Emt(a),c=s.length,u=l[s[0][0]],f=l[s[c-1][0]];function m(x,E,v,b){if(b===0||b===c-1){let S=l[n[v][0]];return b==0&&S.endsWith(u)||b==c-1&&S.startsWith(f)?0:1}else return x===E?0:1}o(m,"compare");let h=vre(n.map(x=>x[0]),s.map(x=>x[0]),m),p=n[h.startOffset][1],A=h.endOffset<n.length?n[h.endOffset][1]:e.length;return A>0&&e[A-1]===" "&&--A,{lexDistance:h.distance,startOffset:p,endOffset:A,haystackLexLength:n.length,needleLexLength:s.length}}o(G6e,"lexEditDistance");d();function H6e(e,t){return e.compType==="partial"?e.acceptedLength:t.length}o(H6e,"computeCompCharLen");function V6e(e,t){return t.compType==="partial"?e.substring(0,t.acceptedLength):e}o(V6e,"computeCompletionText");function j6e(e,t,r){return e.displayText!==e.insertText&&e.insertText.trim()===e.displayText||r===3?t:t-e.range.end.character+e.range.start.character}o(j6e,"computePartialLength");var ly=new Cr("postInsertion"),$6e=[{seconds:15,captureCode:!1,captureRejection:!1},{seconds:30,captureCode:!0,captureRejection:!0},{seconds:120,captureCode:!1,captureRejection:!1},{seconds:300,captureCode:!1,captureRejection:!1},{seconds:600,captureCode:!1,captureRejection:!1}],z6e=50,vmt=1500,Imt=.5,Tmt=500,Ire={triggerPostInsertionSynchroneously:!1,captureCode:!1,captureRejection:!1};async function Y6e(e,t,r,n,i){let s=await e.get(dn).getOrReadTextDocumentWithFakeClientProperties({uri:t});if(s.status!=="valid")return ly.info(e,`Could not get document for ${t}. Maybe it was closed by the editor.`),{prompt:{prefix:"",suffix:"",isFimEnabled:!1,promptElementRanges:[]},capturedCode:"",terminationOffset:0};let a=s.document,l=a.getText(),c=l.substring(0,n),u=a.positionAt(n),f=await GI(e,a,u,r),m=f.type==="prompt"?f.prompt:{prefix:c,suffix:"",isFimEnabled:!1,promptElementRanges:[]};if(m.isFimEnabled&&i!==void 0){let h=l.substring(n,i);return m.suffix=l.substring(i),{prompt:m,capturedCode:h,terminationOffset:0}}else{let h=l.substring(n),p=wee(c,n,a.detectedLanguageId),x=await Tve(p,void 0)(h),E=Math.min(l.length,n+(x?x*2:Tmt)),v=l.substring(n,E);return{prompt:m,capturedCode:v,terminationOffset:x??-1}}}o(Y6e,"captureCode");function fO(e,t,r,n,i){i.forEach(({completionText:c,completionTelemetryData:u})=>{ly.debug(e,`${t}.rejected choiceIndex: ${u.properties.choiceIndex}`),bve(e,t,u)});let s=new O4(e,n,r-1),a=new O4(e,n,r),l=o(async c=>{ly.debug(e,`Original offset: ${r}, Tracked offset: ${s.offset}`);let{completionTelemetryData:u}=i[0],{prompt:f,capturedCode:m,terminationOffset:h}=await Y6e(e,n,u,s.offset+1,a.offset),p;f.isFimEnabled?p={hypotheticalPromptPrefixJson:JSON.stringify(f.prefix),hypotheticalPromptSuffixJson:JSON.stringify(f.suffix)}:p={hypotheticalPromptJson:JSON.stringify(f.prefix)};let A=u.extendedBy({...p,capturedCodeJson:JSON.stringify(m)},{timeout:c.seconds,insertionOffset:r,trackedOffset:s.offset,terminationOffsetInCapturedCode:h});ly.debug(e,`${t}.capturedAfterRejected choiceIndex: ${u.properties.choiceIndex}`,A),Gt(e,t+".capturedAfterRejected",A,1)},"checkInCode");$6e.filter(c=>c.captureRejection).map(c=>s.push(Su(e,()=>l(c),"postRejectionTasks"),c.seconds*1e3))}o(fO,"postRejectionTasks");function U4(e,t,r,n,i,s,a,l){let c=s.extendedBy({compType:a.compType},{compCharLen:H6e(a,r)});ly.debug(e,`${t}.accepted choiceIndex: ${c.properties.choiceIndex}`),Eve(e,t,c);let u=r;r=V6e(r,a);let f=r.trim(),m=new O4(e,i,n),h=new O4(e,i,n+r.length),p=o(async A=>{await kmt(e,t,f,n,i,A,c,m,h)},"stillInCodeCheck");if(Ire.triggerPostInsertionSynchroneously&&Tm(e)){let A=p({seconds:0,captureCode:Ire.captureCode,captureRejection:Ire.captureRejection});e.get(Co).register(A)}else $6e.map(A=>m.push(Su(e,()=>p(A),"postInsertionTasks"),A.seconds*1e3));Su(e,wmt,"post insertion citation check")(e,i,u,r,n,l)}o(U4,"postInsertionTasks");async function wmt(e,t,r,n,i,s){if(!s||(s.ip_code_citations?.length??0)<1)return;let a=await e.get(Vr).getTextDocument({uri:t});if(a){let l=Tre(a.getText(),n,z6e,i);l.stillInCodeHeuristic&&(i=l.foundOffset)}for(let l of s.ip_code_citations){let c=Smt(r.length,n.length,l.start_offset);if(c===void 0){ly.info(e,`Full completion for ${t} contains a reference matching public code, but the partially inserted text did not include the match.`);continue}let u=i+c,f=a?.positionAt(u),m=i+_mt(r.length,n.length,l.stop_offset),h=a?.positionAt(m),p=f&&h?a?.getText({start:f,end:h}):"<unknown>";await e.get(Wu).handleIPCodeCitation(e,{inDocumentUri:t,offsetStart:u,offsetEnd:m,version:a?.version,location:f&&h?{start:f,end:h}:void 0,matchingText:p,details:l.details.citations})}}o(wmt,"citationCheck");function Smt(e,t,r){if(!(t<e&&r>t))return r}o(Smt,"computeCitationStart");function _mt(e,t,r){return t<e?Math.min(r,t):r}o(_mt,"computeCitationEnd");function Tre(e,t,r,n){let i=e.substring(Math.max(0,n-r),Math.min(e.length,n+t.length+r)),s=G6e(i,t),a=s.lexDistance/s.needleLexLength,{distance:l}=vre(i.substring(s.startOffset,s.endOffset),t);return{relativeLexEditDistance:a,charEditDistance:l,completionLexLength:s.needleLexLength,foundOffset:s.startOffset+Math.max(0,n-r),lexEditDistance:s.lexDistance,stillInCodeHeuristic:a<=Imt?1:0}}o(Tre,"find");async function kmt(e,t,r,n,i,s,a,l,c){let u=await e.get(dn).getOrReadTextDocument({uri:i});if(u.status==="valid"){let m=u.document.getText(),h=Tre(m,r,z6e,l.offset);h.stillInCodeHeuristic||(h=Tre(m,r,vmt,l.offset)),ly.debug(e,`stillInCode: ${h.stillInCodeHeuristic?"Found":"Not found"}! Completion '${r}' in file ${i}. lexEditDistance fraction was ${h.relativeLexEditDistance}. Char edit distance was ${h.charEditDistance}. Inserted at ${n}, tracked at ${l.offset}, found at ${h.foundOffset}. choiceIndex: ${a.properties.choiceIndex}`);let p=a.extendedBy({},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset}).extendedBy({},h);if(Gt(e,t+".stillInCode",p),s.captureCode){let{prompt:A,capturedCode:x,terminationOffset:E}=await Y6e(e,i,p,l.offset,c.offset),v;A.isFimEnabled?v={hypotheticalPromptPrefixJson:JSON.stringify(A.prefix),hypotheticalPromptSuffixJson:JSON.stringify(A.suffix)}:v={hypotheticalPromptJson:JSON.stringify(A.prefix)};let b=a.extendedBy({...v,capturedCodeJson:JSON.stringify(x)},{timeout:s.seconds,insertionOffset:n,trackedOffset:l.offset,terminationOffsetInCapturedCode:E});ly.debug(e,`${t}.capturedAfterAccepted choiceIndex: ${a.properties.choiceIndex}`,p),Gt(e,t+".capturedAfterAccepted",b,1)}}}o(kmt,"checkStillInCode");var wre=new Cr("ghostText"),K0=class{static{o(this,"LastGhostText")}#e;#t;#i=[];get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[]}setState({uri:t},r){this.#t=t,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};function Bmt(e){let t=[];return e.shownCompletions.forEach(r=>{if(r.displayText&&r.telemetry){let n,i;e.partiallyAcceptedLength?(n=r.displayText.substring(e.partiallyAcceptedLength-1),i=r.telemetry.extendedBy({compType:"partial"},{compCharLen:n.length})):(n=r.displayText,i=r.telemetry);let s={completionText:n,completionTelemetryData:i,offset:r.offset};t.push(s)}}),t}o(Bmt,"computeRejectedCompletions");function Sre(e,t){let r=e.get(K0);if(!r.position||!r.uri)return;let n=Bmt(r);n.length>0&&fO(e,"ghostText",t??n[0].offset,r.uri,n),r.resetState(),r.resetPartialAcceptanceState()}o(Sre,"rejectLastShown");function K6e(e,t,r,n){let i=e.get(K0);return i.position&&i.uri&&!(i.position.line===r.line&&i.position.character===r.character&&i.uri.toString()===t.uri.toString())&&n!==2&&Sre(e,t.offsetAt(i.position)),i.setState(t,r),i.index}o(K6e,"setLastShown");function J6e(e,t){let r=e.get(K0);if(r.index=t.index,!r.shownCompletions.find(n=>n.index===t.index)&&(t.uri===r.uri&&r.position?.line===t.position.line&&r.position?.character==t.position.character&&r.shownCompletions.push(t),t.displayText)){let n=t.resultType!==0;wre.debug(e,`[${t.telemetry.properties.headerRequestId}] shown choiceIndex: ${t.telemetry.properties.choiceIndex}, fromCache ${n}`),t.telemetry.measurements.compCharLen=t.displayText.length,SQ(e,"ghostText",t)}}o(J6e,"handleGhostTextShown");function dO(e,t){let r=e.get(K0);r.resetState(),wre.debug(e,"Ghost text post insert");let n=r.partiallyAcceptedLength?{compType:"partial",acceptedLength:t.displayText.length}:{compType:"full"};return r.resetPartialAcceptanceState(),U4(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,n,t.copilotAnnotations)}o(dO,"handleGhostTextPostInsert");function X6e(e,t,r,n=0){let i=e.get(K0);r===t.insertText.length&&i.resetState(),wre.debug(e,"Ghost text partial post insert");let s=j6e(t,r,n);if(s)return i.partiallyAcceptedLength=r,U4(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,{compType:"partial",acceptedLength:s},t.copilotAnnotations)}o(X6e,"handlePartialGhostTextPostInsert");d();d();var Z6e=tt(require("node:util"));function e9e(e,...t){return`[${e}] ${Rmt(t)}`}o(e9e,"formatLogMessage");function Rmt(e){return Z6e.default.formatWithOptions({maxStringLength:1/0},...e)}o(Rmt,"format");function mO(e){return S5e(e)}o(mO,"verboseLogging");var hO=class extends ka{constructor(r){super();this.console=r}static{o(this,"ConsoleLog")}logIt(r,n,i,...s){n==1?this.console.error(`[${i}]`,...s):(n==2||mO(r))&&this.console.warn(`[${i}]`,...s)}};d();var t9e=require("node:util");var VI=class extends up{static{o(this,"TelemetryLogSenderImpl")}sendError(t,r,...n){U3(t,"log",rn.createAndMarkAsIssued({context:r,level:M3[1],message:Dmt(...n)}),1)}sendException(t,r,n){Qo(t,r,n)}};function Dmt(...e){return e.map(t=>(0,t9e.inspect)(t)).join(" ")}o(Dmt,"telemetryMessage");d();var gPe=tt(require("crypto")),APe=tt(require("fs")),yPe=tt(hPe()),CPe=require("tls"),xPe=tt(pPe());var e6=new Cr("certificates"),Ua=class{static{o(this,"RootCertificateReader")}};function Vq(e,t=process.platform){return new Xse(e,[new Zse,new eae,P8t(e,t)])}o(Vq,"getRootCertificateReader");function P8t(e,t){switch(t){case"linux":return new tae(e);case"darwin":return new rae(e);case"win32":return new nae(e);default:return new iae}}o(P8t,"createPlatformReader");var Jse=class extends Ua{constructor(r,n){super();this.ctx=r;this.delegate=n}static{o(this,"ErrorHandlingCertificateReader")}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return e6.warn(this.ctx,"Failed to read root certificates:",r),[]}}},Xse=class extends Ua{constructor(r,n){super();this.ctx=r;this.delegates=n.map(i=>new Jse(r,i))}static{o(this,"CachingRootCertificateReader")}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),i=r.filter(s=>{try{let a=new gPe.X509Certificate(s),l=Date.parse(a.validTo);return isNaN(l)||l>n}catch(a){return e6.warn(this.ctx,"Failed to parse certificate",s,a),!1}});return r.length!==i.length&&e6.info(this.ctx,`Removed ${r.length-i.length} expired certificates`),i}},Zse=class extends Ua{static{o(this,"NodeTlsRootCertificateReader")}async getAllRootCAs(){return CPe.rootCertificates}},eae=class extends Ua{static{o(this,"EnvironmentVariableRootCertificateReader")}async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await EPe(t):[]}},tae=class extends Ua{constructor(r){super();this.ctx=r}static{o(this,"LinuxRootCertificateReader")}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let i=await EPe(n);e6.debug(this.ctx,`Read ${i.length} certificates from ${n}`),r=r.concat(i)}return r}},rae=class extends Ua{constructor(r){super();this.ctx=r}static{o(this,"MacRootCertificateReader")}async getAllRootCAs(){let r=yPe.get();return e6.debug(this.ctx,`Read ${r.length} certificates from Mac keychain`),r}},nae=class extends Ua{constructor(r){super();this.ctx=r}static{o(this,"WindowsRootCertificateReader")}async getAllRootCAs(){let r=xPe.all();return e6.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}},iae=class extends Ua{static{o(this,"UnsupportedPlatformRootCertificateReader")}async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}};async function EPe(e){try{let n=(await APe.promises.readFile(e,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(s=>s.length>0),i=new Set(n);return Array.from(i)}catch(t){if(t instanceof Error&&"code"in t&&t.code==="ENOENT")return[];throw t}}o(EPe,"readCertsFromFile");d();var PPe=tt(require("http"));var i6t=407,Xl=new Cr("proxySocketFactory"),tg=class{static{o(this,"ProxySocketFactory")}},Cx=class extends Error{static{o(this,"ProxySocketError")}constructor(t,r,n){super(t),this.code=r?.code,this.syscall=r?.syscall,this.errno=r?.errno,/^Failed to establish a socket connection to proxies:/.test(r?.message??"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test(r?.message??"")?this.code="ProxyInitializeSecurityContext":r?.message==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test(r?.message??"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};function jq(e){return new aae(e,new lae(e))}o(jq,"getProxySocketFactory");var aae=class extends tg{constructor(r,n,i=new p_,s=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=i;this.platform=s;this.successfullyAuthorized=new xn(20)}static{o(this,"KerberosProxySocketFactory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(Xl.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof Cx&&i.code===`ProxyStatusCode${i6t}`){Xl.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let s=await this.authorizeAndCreateSocket(r,n);if(s)return Xl.debug(this.ctx,"Proxy authorization successful, caching result"),Gt(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),s}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(Xl.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(Xl.debug(this.ctx,"Proxy authorization successful, received token"),i)return Xl.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){Xl.debug(this.ctx,"Loading kerberos module");let n=this.kerberosLoader.load(),i=this.computeSpn(r);Xl.debug(this.ctx,"Initializing kerberos client using spn",i);let s=await n.initializeClient(i);Xl.debug(this.ctx,"Perform client side kerberos step");let a=await s.step("");return Xl.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return Xl.debug(this.ctx,"Using configured kerberos spn",n),n;let i=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return Xl.debug(this.ctx,"Using default kerberos spn",i),i}getProxyCacheKey(r){return r.host+":"+r.port}},lae=class extends tg{constructor(r){super();this.ctx=r}static{o(this,"TunnelingProxySocketFactory")}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((s,a)=>{Xl.debug(this.ctx,"Attempting to establish connection to proxy");let l=PPe.request(i);l.useChunkedEncodingByDefault=!1,l.once("connect",(c,u,f)=>{Xl.debug(this.ctx,"Socket Connect returned status code",c.statusCode),l.removeAllListeners(),u.removeAllListeners(),c.statusCode!==200?(u.destroy(),a(new Cx(`tunneling socket could not be established, statusCode=${c.statusCode}`,void 0,`ProxyStatusCode${c.statusCode}`))):f.length>0?(u.destroy(),a(new Cx(`got non-empty response body from proxy, length=${f.length}`,void 0,"ProxyNonEmptyResponseBody"))):(Xl.debug(this.ctx,"Successfully established tunneling connection to proxy"),s(u))}),l.once("error",c=>{Xl.debug(this.ctx,"Proxy socket connection error",c.message),l.removeAllListeners(),a(new Cx(`tunneling socket could not be established, cause=${c.message}`,c))}),l.on("timeout",()=>{Xl.debug(this.ctx,"Proxy socket connection timeout"),a(new Cx(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.host}:${i.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let i=`${r.hostname}:${r.port}`,s={...n,method:"CONNECT",path:i,agent:!1,headers:{host:i,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(s.localAddress=r.localAddress),this.configureProxyAuthorization(s,r),s}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}},p_=class{static{o(this,"KerberosLoader")}load(){return DPe()}};d();var QPe=require("node:os");var o6t=new Cr("repository"),xx="\\\\",MPe="(?:[#;].*)",n6=`(?:[^"${xx}]|${xx}.)`,s6t="[0-9A-Za-z-]",FPe=`[A-Za-z]${s6t}*`,OPe=`\\s*${MPe}?$`,UPe=`(?:[^"${xx};#]|${xx}.)`,a6t=`(?:"${n6}*"|"${n6}*(?<strCont>${xx})$)`,l6t=`(?:${UPe}|${a6t})+`,c6t=`(?:(?<cont>${xx})$)`,qPe=`(?<value>${l6t})${c6t}?${OPe}`,NPe=new RegExp(`^${qPe}`),u6t=new RegExp(`^(?<value>${n6}*(?:(?<strCont>${xx})$|(?<quote>")))`),f6t=new RegExp(`^\\s*(?:(?<key>${FPe})\\s*=\\s*${qPe}|(?<soloKey>${FPe})${OPe})`),d6t=new RegExp(`(?<value>${UPe}+)|"(?<string>${n6}*)"`,"g"),LPe="[-.0-9A-Za-z]+",m6t=`\\s+"(?<ext>${n6}*)"`,h6t=`\\s+"(?<extOnly>${n6}*)"`,p6t=new RegExp(`^\\s*\\[(?:(?<simple>${LPe})${m6t}|${h6t}|(?<simpleOnly>${LPe}))\\]`),g6t=new RegExp(`^\\s*${MPe}$`),cae=class{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{o(this,"GitConfigParser")}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){let t=this.line.match(p6t);t&&(t.groups?.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):t.groups?.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){let t=this.line.match(f6t);if(t){if(t.groups?.key){let r=this.handleContinued(t);this.configValueHandler?.(this.nameWithSection(t.groups.key.toLowerCase()),r)}else t.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(t.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(t){let r=t,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(u6t),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(NPe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(NPe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(d6t)].map(i=>i.groups?.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){g6t.test(this.line)&&(this.line="")}},$q=class extends xp{static{o(this,"GitParsingConfigLoader")}async getConfig(t,r){let n=await B1.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new uI)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let s=new cae(i),a=new uI;return s.parse((l,c)=>a.add(l,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(ko).readFileString(r)}catch(i){(n||!(i instanceof Error)||i.code!=="ENOENT")&&o6t.warn(t,`Failed to load git config from ${JSON.stringify(r)}:`,i);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=Xo(this.xdgConfigUri(),"git","config"),s=Xo(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,s,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(Fs(r).toLowerCase()!=="config.worktree")return;let n=_u(r),i=Xo(n,"commondir");try{let s=(await t.get(ko).readFileString(i)).trimEnd();return Xo(Q3(n,s),"config")}catch{return}}xdgConfigUri(){return process.env.XDG_CONFIG_HOME?q0(process.env.XDG_CONFIG_HOME):Xo(this.homeUri(),".config")}homeUri(){return q0((0,QPe.homedir)())}};d();var GPe=tt(require("node:events"));var WPe="onWorkspaceChanged",lf=class{constructor(){this.emitter=new GPe.default}static{o(this,"WorkspaceNotifier")}onChange(t){this.emitter.on(WPe,t)}emit(t){this.emitter.emit(WPe,t)}};function HPe(e){let t=new tI;return t.set(gp,e),t.set(Xh,new Xh),t.set(uo,new uo),A6t(t),t.set(Hu,new Hu),t.set(Um,new Um),t.set(ap,new ap),t.set(Ua,Vq(t)),t.set(tg,jq(t)),t.set(or,new or(t)),t.set(cp,new cp),t.set(ql,new ql(t)),t.set(Cs,new Cs),t.set(Bu,new Bu),t.set(Rc,new Rc),t.set(Vu,new Vu),t.set(Oc,new uw),t.set(Fm,new Qv),t.set(_m,new yT),t.set(Co,new Co),t.set(yd,aO(t)),t.set(Pm,new Pm),t.set(K0,new K0),t.set(Cd,new Cd),t.set(j1,j1.default),t.set(B1,new B1(t)),t.set(xp,new mQ([new dQ,new $q])),t.set(lf,new lf),t.set(Jf,new Jf(t)),t.set(Vs,new Vs),t.set(Om,new Om(t)),t.set(x4,new x4(t)),t.set(rs,new rs),t.set(dn,new dn(t)),t}o(HPe,"createProductionContext");function A6t(e){e.set(jf,jf.fromEnvironment(!1)),e.set(up,new VI),e.set(ka,new hO(console))}o(A6t,"setupRudimentaryLogging");var rYr=new Cr("context");d();d();var Kr=new Cr("chat");d();d();var wl=(s=>(s.System="system",s.User="user",s.Assistant="assistant",s.Function="function",s.Tool="tool",s))(wl||{});function en(e){return e?typeof e=="string"?e:e.map(t=>"text"in t?t.text:"").join(""):""}o(en,"getTextPart");var VPe=o((e,t)=>I.Unsafe({type:"string",enum:e,description:t?.description}),"StringEnum"),jPe=I.Optional(I.Object({agentSlug:I.String(),state:I.Union([I.Literal("accepted"),I.Literal("dismissed")]),confirmation:I.Any()}));function Uy(e){if(typeof e.function.arguments=="string")try{return JSON.parse(e.function.arguments)}catch{return{}}return e.function.arguments}o(Uy,"parseToolCallArguments");function $Pe(e){return typeof e.function.arguments=="object"&&(e.function.arguments=JSON.stringify(e.function.arguments)),e}o($Pe,"toOpenAIToolCall");function zPe(e,t,r,n,i,s,a,l){let c=JSON.parse(JSON.stringify(t));return r.tool_calls&&(c.tool_calls=r.tool_calls),iI(e,[c],l),{message:t,choiceIndex:n,requestId:i,blockFinished:s,finishReason:a,tokens:r.tokens,numTokens:r.tokens.length,tool_calls:r.tool_calls,function_call:r.function_call,telemetryData:l}}o(zPe,"convertToChatCompletion");d();var uae=new Cr("streamMessages");function YPe(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(uae.debug(e,`message ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),uae.info(e,`message ${t.index} returned. finish reason: [${t.reason}]`),uae.debug(e,`message ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let s=$Z(t.solution),a={role:"assistant",content:n};return zPe(e,a,s,t.index,t.requestId,i,t.reason??"",r)}o(YPe,"prepareChatCompletionForReturn");var Fd=new Cr("fetchChat"),zq=class{static{o(this,"OpenAIChatMLFetcher")}async fetchAndStreamChat(t,r,n,i,s){let a=await this.fetchWithParameters(t,r.endpoint,r,n,s);if(a==="not-sent")return{type:"canceled",reason:"before fetch request"};if(s?.isCancellationRequested){let l=a.body();try{l.destroy()}catch(c){Fd.exception(t,c,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(a.status!==200){let l=this.createTelemetryData(r.endpoint,t,r);return this.handleError(t,l,a)}if(r.postOptions?.stream===!1){let l=await a.text(),c=JSON.parse(l),u=c.choices!=null?c.choices[0].message:{role:"assistant",content:""},f=a.headers.get("X-Request-ID")??Tr(),m={blockFinished:!1,choiceIndex:0,finishReason:"stop",message:u,tokens:en(u.content).split(" "),requestId:{headerRequestId:f,completionId:c.id?c.id:"",created:c.created?Number(c.created):0,deploymentId:"",serverExperiments:""},telemetryData:n,numTokens:0},h=en(u.content);return await i(h,{text:h,copilotReferences:c.copilot_references}),{type:"success",chatCompletions:async function*(){yield m}(),getProcessingTime:o(()=>sI(a),"getProcessingTime")}}else{let c=U5.create(t,r.count,a,n,[],s).processSSE(i);return{type:"success",chatCompletions:S1(c,async f=>YPe(t,f,n)),getProcessingTime:o(()=>sI(a),"getProcessingTime")}}}createTelemetryData(t,r,n){return rn.createAndMarkAsIssued({endpoint:t,engineName:n.engineName,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,i,s){let a={messages:n.messages,tools:n.tools,tool_choice:n.tool_choice,model:n.model,temperature:oI(t,n.count),top_p:eQ(t),n:n.count,stop:[`


`],copilot_thread_id:n.copilot_thread_id},l=x1(n.repoInfo);return l!==void 0&&(a.nwo=l),n.postOptions&&Object.assign(a,n.postOptions),n.intent&&(a.intent=n.intent,n.intent_model&&(a.intent_model=n.intent_model),n.intent_tokenizer&&(a.intent_tokenizer=n.intent_tokenizer),n.intent_threshold&&(a.intent_threshold=n.intent_threshold),n.intent_content&&(a.intent_content=n.intent_content)),s?.isCancellationRequested?"not-sent":await y6t(t,n.messages,n.capiUrl,n.engineName,r,n.ourRequestId,a,n.authToken,n.uiKind,i,n.llmInteraction,s)}async handleError(t,r,n){if(n.clientError&&!n.headers.get("x-github-request-id")){let s=`Last response was a ${n.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;Fd.error(t,s),r.properties.error=`Response status was ${n.status} with no x-github-request-id header`}else r.properties.error=`Response status was ${n.status}`;if(r.properties.status=String(n.status),Gt(t,"request.shownWarning",r),n.status===401)try{let s=await n.text(),a=JSON.parse(s);if(a.authorize_url)return{type:"authRequired",reason:"not authorized",authUrl:a.authorize_url}}catch{}if(n.status===401||n.status===403)return t.get(qr).resetToken(n.status),{type:"failed",reason:`token expired or invalid: ${n.status}`,code:n.status};if(n.status===499)return Fd.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server",code:n.status};let i=await n.text();if(n.status===466)return Fd.info(t,i),{type:"failed",reason:`client not supported: ${i}`,code:n.status};if(n.status===400&&i.includes("off_topic"))return{type:"failed",reason:"filtered as off_topic by intent classifier: message was not programming related",code:n.status};if(n.status===400&&i.includes("model_not_supported"))return{type:"failed",reason:"model is not supported.",code:n.status};if(n.status===424)return{type:"failedDependency",reason:i};if(n.status===402){let a=n.headers.get("retry-after");return{type:"failed",reason:a?`You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait until ${new Date(a).toLocaleString()} for your limit to reset.`:"You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",code:n.status}}return Fd.error(t,"Unhandled status from server:",n.status,i),{type:"failed",reason:`unhandled status from server: ${n.status} ${i}`,code:n.status}}};async function y6t(e,t,r,n,i,s,a,l,c,u,f,m){let h=Xo(r,n,i);if(!l)throw new Error(`Failed to send request to ${h} due to missing key`);let p=u.extendedBy({endpoint:i,engineName:n,uiKind:c});for(let[v,b]of Object.entries(a))v!="messages"&&(p.properties[`request.option.${v}`]=JSON.stringify(b)??"undefined");p.properties.headerRequestId=s,Gt(e,"request.sent",p);let A=Gs(),x=vEe(c),E={...C5(e),...f.toCapiHeaders()};return a.messages?.some(v=>Array.isArray(v.content)?v.content.some(b=>"image_url"in b):!1)&&(E["Copilot-Vision-Request"]="true"),a.messages&&a.messages.forEach(v=>{C6t(v)&&v.tool_calls&&(v.tool_calls=v.tool_calls.map(b=>$Pe(b)))}),E3(e,h,l,x,s,a,m,E).then(v=>{let b=O5(v,void 0);p.extendWithRequestId(b);let S=Gs()-A;return p.measurements.totalTimeMs=S,Fd.info(e,`request.response: [${h}] took ${S} ms`),Fd.debug(e,"request.response properties",p.properties),Fd.debug(e,"request.response measurements",p.measurements),Fd.debug(e,"messages:",JSON.stringify(t)),Gt(e,"request.response",p),v}).catch(v=>{if(Ec(v))throw v;let b=p.extendedBy({error:"Network exception"});Gt(e,"request.shownWarning",b),p.properties.message=String($0(v,"name")??""),p.properties.code=String($0(v,"code")??""),p.properties.errno=String($0(v,"errno")??""),p.properties.type=String($0(v,"type")??"");let S=Gs()-A;throw p.measurements.totalTimeMs=S,Fd.debug(e,`request.response: [${h}] took ${S} ms`),Fd.debug(e,"request.error properties",p.properties),Fd.debug(e,"request.error measurements",p.measurements),Gt(e,"request.error",p),v}).finally(()=>{iI(e,t,p)})}o(y6t,"fetchWithInstrumentation");function C6t(e){return"tool_calls"in e}o(C6t,"isChatMessageWithToolCalls");var Aa=class{constructor(t){this.ctx=t;this.fetcher=new zq}static{o(this,"ChatMLFetcher")}async fetchResponse(t,r,n,i){let s=Tr(),a={n:t.num_suggestions??1,temperature:t.temperature??0,stop:t.stop,top_p:t.topP??1,copilot_thread_id:t.copilot_thread_id},l=t.modelConfiguration;l&&(a.max_tokens=l.maxResponseTokens,a.stream=!!l.stream),t.logitBias&&(a.logit_bias=t.logitBias);let c=await this.ctx.get(qr).getToken(),u=wv(this.ctx,c),f=t.endpoint??"completions",m=t.authToken??c.token,h={messages:t.messages,repoInfo:void 0,ourRequestId:s,capiUrl:u,engineName:t.engineName??"chat",endpoint:f,count:t.num_suggestions??1,uiKind:t.uiKind,postOptions:a,authToken:m,...t.intentParams,llmInteraction:t.llmInteraction};return l&&(h.model=l.modelId),t.tools&&t.tools?.length>0&&(l===void 0||l.toolCalls)&&(h.tools=t.tools,h.tool_choice=t.tool_choice??"auto"),await this.fetch(h,i,r,n)}async fetch(t,r,n,i){try{let s=await this.fetcher.fetchAndStreamChat(this.ctx,t,i.extendedBy({uiKind:t.uiKind}),r||(async()=>{}),n);switch(s.type){case"success":return await this.processSuccessfulResponse(s,t.ourRequestId,i);case"canceled":return this.processCanceledResponse(s,t.ourRequestId);case"failed":case"failedDependency":return this.processFailedResponse(s,t.ourRequestId);case"authRequired":return{type:"agentAuthRequired",reason:"Agent authentication required.",authUrl:s.authUrl,requestId:t.ourRequestId}}}catch(s){return this.processError(s,t.ourRequestId)}}async processSuccessfulResponse(t,r,n){let i=[],s=lw(t.chatCompletions,async a=>this.postProcess(a,n));for await(let a of s)Kr.debug(this.ctx,`Received choice: ${JSON.stringify(a,null,2)}`),i.push(a);if(i.length==1){let a=i[0];switch(a.finishReason){case"stop":return{type:"success",value:en(a.message?.content)??"",toolCalls:a.tool_calls,requestId:r,numTokens:a.numTokens};case"tool_calls":return{type:"tool_calls",toolCalls:a.tool_calls,requestId:r};case"content_filter":return{type:"filtered",reason:"Response got filtered.",requestId:r};case"length":return{type:"length",reason:"Response too long.",requestId:r};case"DONE":return{type:"no_finish_reason",reason:"No finish reason received.",requestId:r};default:return{type:"unknown",reason:"Unknown finish reason received.",requestId:r}}}else if(i.length>1){let a=i.filter(l=>l.finishReason=="stop"||l.finishReason=="tool_calls");if(a.length>0)return{type:"successMultiple",value:a.map(l=>en(l.message.content)),toolCalls:a.map(l=>l.tool_calls).filter(l=>l),requestId:r}}return{type:"no_choices",reason:"Response contained no choices.",requestId:r}}postProcess(t,r){return cO(t.tokens)?(r.extendWithRequestId(t.requestId),Gt(this.ctx,"conversation.repetition.detected",r,0),t.finishReason!==""?t:void 0):t.message?t:void 0}processCanceledResponse(t,r){return Kr.debug(this.ctx,"Cancelled after awaiting fetchConversation"),{type:"canceled",reason:t.reason,requestId:r}}processFailedResponse(t,r){return t?.reason.includes("filtered as off_topic by intent classifier")?{type:"offTopic",reason:t.reason,requestId:r}:t?.reason.includes("model is not supported")?{type:"model_not_supported",reason:t.reason,requestId:r}:{type:"failed",reason:t.reason,requestId:r,code:t.type==="failed"?t.code:void 0}}processError(t,r){return Ec(t)?{type:"canceled",reason:"network request aborted",requestId:r}:(Kr.exception(this.ctx,t,"Error on conversation request"),{type:"failed",reason:"Error on conversation request. Check the log for more details.",requestId:r})}};d();var qy=class{constructor(t){this.ctx=t}static{o(this,"AbstractClientToolInvoker")}};d();var Zl=class{constructor(t){this.ctx=t}static{o(this,"EditProgressReporter")}},Yq=class extends Zl{constructor(){super(...arguments);this.items=[]}static{o(this,"LibTestEditProgressReporter")}reset(){this.items=[]}async reportTurn(r,n){this.items.push({editConversationId:r.editConversationId,editTurnId:r.editTurnId,...n})}};d();d();d();var Wy=class extends Error{static{o(this,"CopilotEditsCancelledByUserException")}constructor(){super("Operation cancelled by user"),this.name="CopilotEditsCancelledByUserException"}};d();var Gy=class extends Error{static{o(this,"CopilotEditsProcessCodeBlockException")}constructor(t){super(t),this.name="CopilotEditsProcessCodeBlockException"}};d();d();var Kq="filepath:",Sl="...existing code...",Ex="copilot-edited-file";d();function sh(e){let t=e.matchAll(/^\s*(```+)/gm),r=Math.max(3,...Array.from(t,n=>n[1].length+1));return"`".repeat(r)}o(sh,"getFenceForCodeBlock");var fae=class{constructor(t){this.props=t}static{o(this,"CodeBlockChangeDescription")}render(){if(this.props.markdownBeforeBlock)return["This is the description of what the code block changes:","<changeDescription>",this.props.markdownBeforeBlock,"","</changeDescription>",""].join(`
`)}},Jq=class{constructor(t){this.props=t}static{o(this,"CodeMapperPrompt")}async render(){let t=await this.props.textDocumentProvider.getByUri(this.props.uri.toString());return[{role:"system",content:this.buildSystemMessage(t)},{role:"user",content:await this.buildUserMessage(t)}]}transformToSpeculationPrompt(t,r,n){return t.reduce((s,a)=>{if(a.role==="system"){let l=en(a.content).endsWith(`
`)?en(a.content):`${en(a.content)}
`;return`${s}<SYSTEM>
${l}
End your response with </${Ex}>.
</SYSTEM>


`}return s+en(a.content)},"")+`


The resulting document:
<${Ex}>
${n}${r}
`}buildSystemMessage(t){if(t.status!=="valid")return"";let r=[];return r.push("You are an AI programming assistant that is specialized in applying code changes to an existing document.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",`The user has a code block that represents a suggestion for a code change and a ${t.document.detectedLanguageId} file opened in a code editor.`,"Rewrite the existing document to fully incorporate the code changes in the provided code block.","For the response, always follow these instructions:","1. Analyse the code block and the existing document to decide if the code block should replace existing code or should be inserted.","2. If necessary, break up the code block into multiple parts and insert each part at the appropriate location.","3. Preserve whitespace and newlines right after the parts of the file that you modify.",`4. The final result must be syntactically valid, properly formatted, and correctly indented. It should not contain any \`${Sl}\` comments.`,"5. Finally, provide the fully rewritten file. You must output the complete file."),r.join(`
`)}async buildUserMessage(t){let r=[];if(t.status!=="valid")return"";if(t.document.getText().length>0){let a=sh(t.document.getText());r.push(`I have the following code open in the editor, starting from line 1 to line ${t.document.lineCount}.`,`${a}${t.document.detectedLanguageId}`,t.document.getText(),`${a}`)}else r.push("I am in an empty editor.");let i=new fae({markdownBeforeBlock:this.props.markdownBeforeBlock}).render();i&&r.push(i);let s=sh(this.props.codeBlock);return r.push("This is the code block that represents the suggested code change:",`${s}${t.document.detectedLanguageId}`,this.props.codeBlock,`${s}`,"<userPrompt>","Provide the fully rewritten file, incorporating the suggested code change. You must produce the complete file.","</userPrompt>"),r.join(`
`)}};d();var Hy=class{constructor(t){this.ctx=t}static{o(this,"DefaultTextDocumentProvider")}async getByUri(t){return await this.ctx.get(dn).getOrReadTextDocument({uri:t})}};var i6=class{static{o(this,"CodeMapper")}constructor(t){this.ctx=t,this.logger=new Cr("CopilotEditsCodeMapper")}async mapCode(t,r,n){if(!t.resource)throw new Gy("No uri found in code block");if(r.isCancellationRequested)throw new Wy;if(!t.code.includes(Sl))return n&&await this.reportCodeBlock(t,n),t.code;let i=await this.ctx.get(dn).getOrReadTextDocument({uri:t.resource});if(i.status==="notfound")return n&&await this.reportCodeBlock(t,n),t.code;if(i.status==="invalid"){let A=`Failed to find file ${t.resource} with status ${i.status} and reason ${i.reason}`,x=new Gy(A);throw this.logger.error(this.ctx,A,x),x}let s=new Jq({documentContext:{document:i},codeBlock:t.code,uri:t.resource,markdownBeforeBlock:t.markdownBeforeBlock,textDocumentProvider:new Hy(this.ctx)}),a=await s.render(),l=i.document.detectedLanguageId,c=sh(t.code),u=i.document.getText();if(u.length>0){let A=sh(u);A.length>c.length&&(c=A)}let f=s.transformToSpeculationPrompt(a,l,c);n&&await n({fileGenerationStatus:"edit-plan-generated",uri:t.resource,basename:Fs(t.resource),editDescription:t.markdownBeforeBlock});let m=await this.ctx.get(x4).fetchSpeculation({prompt:f,speculation:i.document.getText(),languageId:l,stops:[`\`\`\`
</${Ex}>`,`\`\`\`\r
</${Ex}>`,`</${Ex}>`]},r),h=[];for await(let A of m.choices)h.push(A.completionText);let p=h.find(A=>A.length>0);if(p)return n&&await n({fileGenerationStatus:"updated-code-generated",uri:t.resource,basename:Fs(t.resource),partialText:p,languageId:l,markdownCodeFence:sh(p)}),p;{let A=`No valid completion found for uri ${t.resource}`;throw new Gy(A)}}async reportCodeBlock(t,r){await r({fileGenerationStatus:"edit-plan-generated",uri:t.resource,basename:Fs(t.resource),editDescription:t.markdownBeforeBlock}),await r({fileGenerationStatus:"updated-code-generated",partialText:t.code,uri:t.resource,basename:Fs(t.resource)})}};d();var nc=class extends Error{constructor(r){super(r.message);this.editConversationError=r;this.name="EditConversationException"}static{o(this,"EditConversationException")}};d();d();var o6=class{static{o(this,"CapiErrorTranslator")}static translateErrorMessage(t,r){switch(t){case 466:return"Oops, your plugin is out of date. Please update it.";case 401:return"Oops, you are not authorized. Please sign in.";case 402:return r||"Oops, you need to upgrade your plan.";case 413:return"Oops, your request is too large. Please try again with a smaller input.";case 429:return"Oops, you reached the rate limit. Please try again later.";default:return"Sorry, an error occurred while generating a response."}}};d();d();var Xq=class extends Error{static{o(this,"EditTurnNotFoundException")}constructor(t){super(t),this.name="EditTurnNotFoundException"}};var Vy=class{constructor(t,r){this.request=t;this.id=Tr();this.timestamp=Date.now();this.status="in-progress";this.workingSet=[];r&&r.length>0&&(this.workingSet=r)}static{o(this,"EditTurn")}},dae=class{constructor(t=[]){this.turns=[];this.turns=t}static{o(this,"EditTurnManager")}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){if(this.turns.length!==0)return this.turns[this.turns.length-1]}hasTurn(t){return this.turns.some(r=>r.id===t)}getTurns(){return[...this.turns]}},Zq=class{constructor(t=[],r="panel",n="en"){this._id=Tr();this._timestamp=Date.now();this.source="panel";this.userLanguage="en";this.source=r,this.userLanguage=n,this.turnsManager=new dae(t)}static{o(this,"EditConversation")}get id(){return this._id}get timestamp(){return this._timestamp}getUserLanguage(){return this.userLanguage}getTurns(){return this.turnsManager.getTurns()}getSource(){return this.source}addTurn(t){this.turnsManager.addTurn(t)}deleteTurn(t){this.turnsManager.deleteTurn(t)}getLastTurn(){let t=this.turnsManager.getLastTurn();if(t===void 0)throw new Xq(`No turns in the conversation ${this._id}`);return t}hasTurn(t){return this.turnsManager.hasTurn(t)}};var eW=class{static{o(this,"EditCodeResultProcessor")}static processResult(t,r){switch(r.type){case"success":return r.value;case"offTopic":{t.currentTurn.status="off-topic";let n="Sorry, but I can only assist with programming related questions.";throw t.currentTurn.response={message:n,type:"offtopic-detection"},new nc({message:n,responseIsFiltered:!0})}case"canceled":throw t.currentTurn.status="cancelled",t.currentTurn.response={message:h5,type:"user"},new nc({message:h5});case"failed":throw t.currentTurn.status="error",t.currentTurn.response={message:r.reason,type:"server"},new nc({message:o6.translateErrorMessage(r.code,r.reason),code:r.code});case"filtered":throw t.currentTurn.status="filtered",new nc({message:"Oops, your response got filtered.",responseIsFiltered:!0});case"length":throw t.currentTurn.status="error",new nc({message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0});case"agentAuthRequired":throw t.currentTurn.status="error",t.currentTurn.response={message:"Authorization required",type:"server"},new nc({message:"Authorization required",responseIsFiltered:!1});case"no_choices":throw t.currentTurn.status="error",t.currentTurn.response={message:"No choices returned",type:"server"},new nc({message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"no_finish_reason":throw t.currentTurn.status="error",t.currentTurn.response={message:"No finish reason",type:"server"},new nc({message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"model_not_supported":throw t.currentTurn.status="error",t.currentTurn.response={message:"Model not supported",type:"server"},new nc({message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1});case"successMultiple":case"tool_calls":case"unknown":throw t.currentTurn.status="error",new nc({message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1})}}};d();async function*JPe(e){yield e}o(JPe,"stringToAsyncIterable");d();d();var fA=class{static{o(this,"CopilotEditsPromptUriUtils")}static pathToUri(t,r){let n=t.mapToUriInWorkingSet(r);return n||q0(r)}static uriToPath(t){let r=ys(t);if(r)return r;throw new Error(`Unsupported URI scheme: ${t.split(":")[0]}`)}static posixFilePathToUri(t){return process.platform==="win32"?`file:///c:${t}`:`file://${t}`}};var tW=class{constructor(t){this.props=t;this.exampleFilePath=this.getExampleFilePath("/path/to/file"),this.tsExampleFilePath=this.getExampleFilePath("/Users/someone/proj01/example.ts")}static{o(this,"EditCodePrompt")}async render(){let t=await this.getValidFilesInWorkingSet(),r=[{role:"system",content:this.buildSystemMessage(t)}];if(this.props.history&&this.props.history.length>0)for(let n of this.props.history)r.push({role:"user",content:n.request.message}),n.response&&n.response.type==="model"&&r.push({role:"assistant",content:n.response.message});return r.push({role:"user",content:this.buildUserMessage(t)}),r}getExampleFilePath(t){return this.getFilePath(fA.posixFilePathToUri(t))}getFilePath(t){return fA.uriToPath(t)}async getValidFilesInWorkingSet(){let t=new Map;if(this.props.workingSet===void 0||this.props.workingSet===null||this.props.workingSet.length===0)return t;for(let r of this.props.workingSet){let n=await this.props.textDocumentProvider.getByUri(r.uri);n.status==="valid"&&t.set(r.uri,n.document)}return t}buildSystemMessage(t){let r=[];return r.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",t.size>0?"The user has a request for modifying one or more files.":["If the user asks a question, then answer it.",`If you need to change existing files and it's not clear which files should be changed, then refuse and answer with "Please add the files to be modified to the working set"`].join(`
`),"1. Please come up with a solution that you first describe step-by-step.","2. Group your changes by file. Use the file path as the header.","3. For each file, give a short summary of what needs to be changed followed by a code block that contains the code changes.","4. Each file's code block must start with a comment containing the filepath.","5. Use a single code block per file that needs to be modified, even if there are multiple changes for a file.","6. The user is very smart and can understand how to merge your code blocks into their files, you just need to provide minimal hints.","7. Avoid repeating existing code, instead use comments to represent regions of unchanged code. The user prefers that you are as concise as possible. For example: ",["<file>","````languageId",`// ${Kq} ${this.exampleFilePath}`,`// ${Sl}`,"{ changed code }",`// ${Sl}`,"{ changed code }",`// ${Sl}`,"````","</file>"].join(`
`),"8. If you generate edits for a Markdown file, use four backticks for the outer code block.",""),this.props.userLanguage&&r.push(`Respond in the following locale: ${this.props.userLanguage}`),this.props.modelName&&r.push(`You use the ${this.props.modelName} large language model.`),r.push("Here is an example of how you should format a code block belonging to the file example.ts in your response:","<example>",[`### ${this.tsExampleFilePath}`,"","Add a new property 'age' and a new method 'getAge' to the class Person.","","<file>","```typescript",`// ${Kq} ${this.tsExampleFilePath}`,"class Person {",`   // ${Sl}`,"   age: number;",`   // ${Sl}`,"   getAge() {","      return this.age;","   }","}","```","</file>"].join(`
`),"</example>"),r.join(`
`)}buildUserMessage(t){let r=[];if(t.size>0){r.push("The user has provided the following files as input. Always make changes to these files unless the user asks to create a new file.","Untitled files are files that are not yet named. Make changes to them like regular files.");for(let[n,i]of t){let s=this.getFilePath(n),a=i.getText(),l=sh(a);r.push("<file>",`${l}${i.detectedLanguageId}`,`// ${Kq} ${s}`,`${a}`,`${l}`,"</file>")}}return r.push("<reminder>",`Avoid repeating existing code, instead use a line comment with \`${Sl}\` to represent regions of unchanged code.`,"Each file's code block must start with a line comment containing the filepath. This includes Markdown files.","For existing files, make sure the filepath exactly matches the filepath of the original file."),this.props.workspaceFolder&&r.push(`When suggesting to create new files, pick a location inside \`${this.getFilePath(this.props.workspaceFolder)}\``),r.push("</reminder>"),r.push("<prompt>",`${this.props.userMessage}`,"</prompt>"),r.join(`
`)}};d();d();var rW=class{constructor(t){this._source=t;this._buffer="";this._atEnd=!1}static{o(this,"PartialAsyncTextReader")}get endOfStream(){return this._buffer.length===0&&this._atEnd}async extendBuffer(){if(this._atEnd)return;let{value:t,done:r}=await this._source.next();r?this._atEnd=!0:this._buffer+=t}async waitForLength(t){for(;this._buffer.length<t&&!this._atEnd;)await this.extendBuffer()}async peek(t){return await this.waitForLength(t),this._buffer.substring(0,t)}async read(t){await this.waitForLength(t);let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}async readUntil(t){let r="";for(;!this.endOfStream;){let n=this.readImmediateExcept(t);if(r+=n,await this.peek(1)===t)break}return r}async readLineIncludingLF(){let t=await this.readUntil(`
`);return t+=await this.read(1),t}async readLine(){let t=await this.readUntil(`
`);return await this.read(1),t}readImmediateExcept(t){let r=this._buffer.indexOf(t);return this.readImmediate(r===-1?this._buffer.length:r)}readImmediate(t){let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}};var mae="<file>",g_="```",y_="###",E6t=/^(`+)([^ \n]*)/,A_="filepath:";async function*ZPe(e,t){let r=new rW(e[Symbol.asyncIterator]()),n=[];for(;!r.endOfStream;){for(;!r.endOfStream;){let x=await r.peek(Math.max(g_.length,mae.length,y_.length));if(x.startsWith(mae)||x.startsWith(g_))break;if(x.startsWith(y_)){let E=await r.readLineIncludingLF(),v=E.substring(y_.length).trim();await t(v)?n.length=0:n.push(E)}else await XPe(r,n)}if(r.endOfStream)break;let i=await r.readLineIncludingLF(),s=i.startsWith(mae);for(;!r.endOfStream&&!i.startsWith(g_);)i=await r.readLineIncludingLF();if(r.endOfStream)break;let a=i.match(E6t),l=a?a[2]:void 0,c=m3e(l?u3e(l):void 0),u=[`${c.lineComment.start} ${A_}`,`:: ${A_}`,`<!-- ${A_}`,`// ${A_}`,`# ${A_}`],f=Math.max(...u.map(x=>x.length)),m=c.lineComment.end??"",h="</file>",p,A=[];for(;!r.endOfStream;){let x=await r.peek(Math.max(g_.length,f));if(x.startsWith(g_)){let E=await r.readLineIncludingLF();if(!s)break;if(await r.peek(h.length)===h){await r.readLineIncludingLF();break}else{A.push(E);continue}}if(!p&&u.some(E=>x.startsWith(E))){let E=await r.readLineIncludingLF(),v=u.reduce((b,S)=>x.startsWith(S)?E.substring(S.length):b,E);v=v.split("-->")[0].trim(),v.endsWith(m)&&(v=v.substring(0,v.length-m.length)),v=v.trim(),p=await t(v);continue}await XPe(r,A)}yield{resource:p,language:l,code:A.join(""),markdownBeforeBlock:n.join("")},n.length=0}}o(ZPe,"getCodeBlocksFromResponse");async function XPe(e,t){for(;!e.endOfStream;){let r=e.readImmediateExcept(`
`);if(r.length>0&&t?.push(r),await e.peek(1)===`
`){e.readImmediate(1),t?.push(`
`);break}}}o(XPe,"pipeOneLine");function eFe(e){if(e.startsWith(`${y_} `))return"";let t=e.indexOf(`
${y_} `);return t===-1?"":e.substring(0,t)+`
`}o(eFe,"parseOverallDescription");d();d();var nW=class extends Error{static{o(this,"EditConversationNotFoundException")}constructor(t){super(t),this.name="EditConversationNotFoundException"}};var b6t=new Cr("CopilotEditsConversations"),qa=class{constructor(t){this.editConversations=new xn(50);this.ctx=t}static{o(this,"EditConversations")}create(t="panel",r){let n=new Zq([],t,r);return this.editConversations.set(n.id,n),n}destroy(t){this.editConversations.delete(t)!==!0&&b6t.warn(this.ctx,`Edit code conversation ${t} does not exist`)}addTurn(t,r){return this.get(t).addTurn(r),r}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getEditConversation(t)}getEditConversation(t){let r=this.editConversations.get(t);if(!r)throw new nW(`Conversation with id ${t} does not exist`);return r}getAll(){return Array.from(this.editConversations.values())}findByTurnId(t){let r=this.getAll();for(let n of r)if(n.hasTurn(t))return n}};d();d();var ti=class{static{o(this,"ModelConfigurationProvider")}},oW=class extends ti{constructor(r){super();this.ctx=r}static{o(this,"DefaultModelConfigurationProvider")}async getBestChatModelConfig(r,n){let i=[];for(let s of r){let a=await this.getFirstMatchingChatModelConfiguration(s,n);a&&i.push(a)}if(i.length>0){let s=i.find(a=>a.isExperimental);return s||i[0]}throw Kr.error(this.ctx,`No model configuration found for families: ${r.join(", ")}. Available models: ${JSON.stringify(await this.ctx.get(Pu).getMetadata())}`),new Error("No model configuration found")}async getFirstMatchingModelMetadata(r){let n=await this.ctx.get(Pu).getMetadata(),i=v6t(n,r);if(i.length>0)return i[0]}async getFirstMatchingChatModelConfiguration(r,n){let i=await this.getFirstMatchingModelMetadata({family:r,type:"chat",supports:n});if(i!==void 0)return r===Oi.Gpt35turbo||r===Oi.Gpt4oMini?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:hae(6144,i),maxResponseTokens:iW(2048,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r===Oi.Gpt4||r===Oi.Gpt4turbo?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:hae(10240,i),maxResponseTokens:iW(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r.includes("claude")?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await tFe(this.ctx,i),maxResponseTokens:iW(8192,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await tFe(this.ctx,i),maxResponseTokens:iW(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}}async getFirstMatchingEmbeddingModelConfiguration(r){let n=await this.getFirstMatchingModelMetadata({family:r,type:"embeddings"});if(n!==void 0)switch(r){case CF.textEmbedding3Small:return{modelId:n.id,modelFamily:r,maxBatchSize:n.capabilities.limits?.max_inputs??16,maxTokens:8191,tokenizer:"cl100k_base"}}}};async function tFe(e,t){let r=e.get(or),n=await r.updateExPValuesAndAssignments(),i=r.ideChatMaxRequestTokens(n);return i===-1&&(i=16384),hae(i,t)}o(tFe,"getExpRequestTokens");function hae(e,t){return t.capabilities.limits?.max_prompt_tokens?Math.min(e,t.capabilities.limits.max_prompt_tokens):e}o(hae,"getRequestTokens");function iW(e,t){return t.capabilities.limits?.max_output_tokens?Math.min(e,t.capabilities.limits.max_output_tokens):e}o(iW,"getResponseTokens");function v6t(e,t){return e.filter(r=>r.capabilities.type!==t.type||r.capabilities.family!==t.family?!1:r.capabilities.supports===void 0||t.supports===void 0?!0:Object.keys(t.supports).every(n=>t.supports?.[n]===r.capabilities.supports?.[n]))}o(v6t,"filterModelsByCapabilities");var ah=class{static{o(this,"ModelPickerUtils")}static async getModelConfiguration(t,r,n){return t.get(ti).getBestChatModelConfig(n?[n]:Zo(r))}static transformMessages(t,r){return r===Oi.O1Ga||r===Oi.O1Mini?t.map(n=>n.role!=="user"?{role:"user",content:n.content}:n):t}};var dA=class{constructor(t,r){this.chatFetcher=r;this.ctx=t,this.chatFetcher=this.chatFetcher??new Aa(t)}static{o(this,"CopilotEditsService")}async createOrContinueEditConversation(t,r){try{await this.reportBegin(t);let n=await this.getEditCodeResult(t,r),i=eW.processResult(t,n);await this.parseAndSendProgressBack(t,i,r),t.currentTurn.response={message:i,type:"model"},t.currentTurn.status="success",await this.reportEnd(t)}catch(n){if(n instanceof Wy)await this.reportEnd(t,{message:h5});else if(n instanceof nc)await this.reportEnd(t,n.editConversationError);else{let i=n instanceof Error?n.message:String(n);t.currentTurn.status="error",t.currentTurn.response={message:i,type:"meta"},await this.reportEnd(t,{message:i})}}return[]}async getEditCodeResult(t,r){await this.abortIfCancelled(t,r);let n=await this.buildEditCodePromptMessages(t),i=await this.ctx.get(or).updateExPValuesAndAssignments();await this.abortIfCancelled(t,r);let s=await ah.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),a=ah.transformMessages(n,s.modelFamily);return await this.abortIfCancelled(t,r),await this.chatFetcher.fetchResponse({modelConfiguration:s,messages:a,uiKind:"editsPanel",intentParams:{intent:!0},temperature:.1,llmInteraction:t.toLlmInteraction()},r,i)}async buildEditCodePromptMessages(t){let r=t.currentTurn,n=await ah.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),i=t.editConversation.getTurns(),s=i.length>1?i.slice(0,-1):[];return await new tW({userMessage:r.request.message,workspaceFolder:r.workspaceFolder,workingSet:r.workingSet,userLanguage:t.editConversation.getUserLanguage(),textDocumentProvider:new Hy(this.ctx),modelName:n.uiName,history:s}).render()}async abortIfCancelled(t,r){if(r.isCancellationRequested)throw t.currentTurn.status="cancelled",t.currentTurn.response={message:h5,type:"user"},new Wy;this.ctx.get(qa).get(t.editConversationId)}async parseAndSendProgressBack(t,r,n){try{let i=JPe(r),s=new i6(this.ctx),a=o(async u=>fA.pathToUri(t,u),"createUri"),l=[],c=eFe(r);c&&await this.ctx.get(Zl).reportTurn(t,{fileGenerationStatus:"overall-description-generated",editDescription:c}),await this.abortIfCancelled(t,n);for await(let u of ZPe(i,a))l.push(s.mapCode(u,n,async f=>{await this.ctx.get(Zl).reportTurn(t,f)}));await Promise.all(l),l.length===0&&await this.reportNoCodeBlocks(t,r)}catch(i){if(i instanceof Gy||i instanceof rI)t.currentTurn.status="error",t.currentTurn.response={message:i.message,type:"meta"},await this.reportEnd(t,{message:i.message});else if(i instanceof Wy)t.currentTurn.status="cancelled",t.currentTurn.response={message:h5,type:"user"},await this.reportEnd(t,{message:h5});else throw i}}async reportNoCodeBlocks(t,r){await this.ctx.get(Zl).reportTurn(t,{fileGenerationStatus:"no-code-blocks-found",rawResponse:r})}async reportBegin(t){await this.ctx.get(Zl).reportTurn(t,{fileGenerationStatus:"edit-conversation-begin"})}async reportEnd(t,r){await this.ctx.get(Zl).reportTurn(t,{fileGenerationStatus:"edit-conversation-end",error:r})}};d();var nFe="github.com",rFe=`https://${nFe}`,s6=class extends Dn{constructor(r,n=rFe,i=process.env){super();this.env=i;this.validateBaseUrl(r,n)&&this.recalculateUrlDefaults(n),Ya(r,s=>this.onCopilotToken(r,s))}static{o(this,"DefaultNetworkConfiguration")}onCopilotToken(r,n){this.updateServiceEndpoints(r,n.envelope.endpoints)}getLastKnownEndpointUrl(r,n){return this.join((this.lastEndpoints??HP)[r],n)}isGitHubEnterprise(){return this.isEnterprise}getAuthAuthority(){return this.baseUrlObject.host}getAPIUrl(r){return this.join(this.apiUrl,r)}getTokenUrl(r){return r.devOverride?.copilotTokenUrl??this.tokenUrl}getNotificationUrl(r){return r.devOverride?.notificationUrl??this.notificationUrl}getContentRestrictionsUrl(r){return r.devOverride?.contentRestrictionsUrl??this.contentRestrictionsUrl}getBlackbirdIndexingStatusUrl(){return this.blackbirdIndexingStatusUrl}getLoginReachabilityUrl(){return this.loginReachabilityUrl}getDeviceFlowStartUrl(){return this.deviceFlowStartUrl}getDeviceFlowCompletionUrl(){return this.deviceFlowCompletionUrl}getSignUpLimitedUrl(){return this.signUpLimitedUrl}getUserInfoUrl(){return this.userInfoUrl}getTelemetryUrl(r){return this.join(this.telemetryUrl,r)}setTelemetryUrlForTesting(r){this.telemetryUrl=r}getExperimentationUrl(r){return this.join(this.experimentationUrl,r)}validateBaseUrl(r,n){return this.isPermittedUrl(r,n)?!0:(r.get(hl).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${n}".`),!1)}updateBaseUrl(r,n){n||=rFe;let i=this.baseUrlObject;this.validateBaseUrl(r,n)&&this.withTelemetryReInitialization(r,()=>{this.recalculateUrlDefaults(n),i.href!==this.baseUrlObject.href&&r.get(qr).resetToken()})}updateBaseUrlFromTokenEndpoint(r,n){try{let i=new URL(n);i.hostname.startsWith("api.")?this.updateBaseUrl(r,`https://${i.hostname.substring(4)}`):this.updateBaseUrl(r)}catch{this.updateBaseUrl(r)}}updateServiceEndpoints(r,n){this.lastEndpoints=n,n&&this.isPermittedUrl(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=this.join(n.telemetry,"telemetry"),this.experimentationUrl=this.join(n.telemetry,"telemetry")})}withTelemetryReInitialization(r,n){let i=this.telemetryUrl;if(n(),i===this.telemetryUrl)return;let s=r.get(Bu);s.isInitialized&&s.reInitialize(r)}recalculateUrlDefaults(r){let n=this.parseUrls(r);this.baseUrlObject=n.base;let i=n.api;this.isEnterprise=this.baseUrlObject.host!==nFe,this.apiUrl=i.href,this.tokenUrl=this.join(i.href,"/copilot_internal/v2/token"),this.notificationUrl=this.join(i.href,"/copilot_internal/notification"),this.contentRestrictionsUrl=this.join(i.href,"/copilot_internal/content_exclusion"),this.blackbirdIndexingStatusUrl=this.join(i.href,"/copilot_internal/check_indexing_status"),this.loginReachabilityUrl=this.join(this.baseUrlObject.href,"/login/device"),this.deviceFlowStartUrl=this.join(this.baseUrlObject.href,"/login/device/code"),this.deviceFlowCompletionUrl=this.join(this.baseUrlObject.href,"/login/oauth/access_token"),this.userInfoUrl=this.join(i.href,"/user"),this.signUpLimitedUrl=this.join(i.href,"/copilot_internal/subscribe_limited_user"),this.telemetryUrl=this.join(this.isEnterprise?this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href:HP.telemetry,"/telemetry"),this.experimentationUrl=this.telemetryUrl}parseUrls(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL)try{return{base:new URL(this.env.GITHUB_SERVER_URL),api:new URL(this.env.GITHUB_API_URL)}}catch{}let n=new URL(r),i=this.prefixWith("api.",n);return{base:n,api:i}}isPermittedUrl(r,n){return this.isValidUrl(n)&&this.hasSupportedProtocol(r,n)}isValidUrl(r){try{if(r)return new URL(r),!0}catch{}return!1}hasSupportedProtocol(r,n){let i=new URL(n).protocol;return i==="https:"||!VP(r)&&i==="http:"}join(r,n){return n?new URL(n,r).href:r}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}};d();var yZr=new Cr("exp");function iFe(e){let t=e.get(or);t.registerStaticFilters(w6t(e)),t.registerDynamicFilter("X-Copilot-OverrideEngine",()=>qn(e,Pt.DebugOverrideEngine)||qn(e,Pt.DebugOverrideEngineLegacy)),t.registerDynamicFilter("X-VSCode-ExtensionName",()=>e.get(an).getEditorPluginInfo().name),t.registerDynamicFilter("X-VSCode-ExtensionVersion",()=>pae(!e.get(uo).isProduction()&&e.get(an).getEditorPluginInfo().name==="copilot"?"1.999.0":e.get(an).getEditorPluginInfo().version)),t.registerDynamicFilter("X-VSCode-ExtensionRelease",()=>I6t(e)),t.registerDynamicFilter("X-VSCode-Build",()=>e.get(an).getEditorInfo().name),t.registerDynamicFilter("X-VSCode-AppVersion",()=>pae(e.get(an).getEditorInfo().version)),t.registerDynamicFilter("X-VSCode-TargetPopulation",()=>T6t(e)),t.registerDynamicFilterGroup(()=>{let r={};for(let n of e.get(an).getRelatedPluginInfo()){let i=Df+n.name.replace(/[^A-Za-z]/g,"").toLowerCase();if(!Object.values(S7).includes(i)){nF(e,{reason:`A filter could not be registered for the unrecognized related plugin "${n.name}".`});continue}r[i]=pae(n.version)}return r})}o(iFe,"setupExperimentationService");function I6t(e){let t=e.get(an).getEditorPluginInfo();return t.name==="copilot"&&zf(e)==="nightly"||t.name==="copilot-intellij"&&t.version.endsWith("nightly")?"nightly":"stable"}o(I6t,"getPluginRelease");function T6t(e){let t=e.get(an).getEditorInfo();return t.name==="vscode"&&t.version.endsWith("-insider")?"insider":"public"}o(T6t,"getTargetPopulation");function w6t(e){return S6t(e)}o(w6t,"createAllFilters");function S6t(e){let t=e.get(hs);return{"X-MSEdge-ClientId":t.machineId,"X-Copilot-ClientVersion":q3(e)}}o(S6t,"createDefaultFilters");function pae(e){return e.split("-")[0]}o(pae,"trimVersionSuffix");d();d();var a6=class e{static{o(this,"TextEdit")}static isTextEdit(t){return t instanceof e?!0:t?nu.isRange(t)&&typeof t.newText=="string":!1}static replace(t,r){return new e(t,r)}static insert(t,r){return e.replace(new nu(t,t),r)}static delete(t){return e.replace(t,"")}static setEndOfLine(t){let r=new e(new nu(new ho(0,0),new ho(0,0)),"");return r.newEol=t,r}get range(){return this._range}set range(t){if(t&&!nu.isRange(t))throw jy("range");this._range=t}get newText(){return this._newText||""}set newText(t){if(t&&typeof t!="string")throw jy("newText");this._newText=t}get newEol(){return this._newEol}set newEol(t){if(t&&typeof t!="number")throw jy("newEol");this._newEol=t}constructor(t,r){this._range=t,this._newText=r}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};var ho=class e{static{o(this,"Position")}static Min(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isBefore(r)&&(r=i)}return r}static Max(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isAfter(r)&&(r=i)}return r}static isPosition(t){if(!t)return!1;if(t instanceof e)return!0;let{line:r,character:n}=t;return typeof r=="number"&&typeof n=="number"}get line(){return this._line}get character(){return this._character}constructor(t,r){if(t<0)throw jy("line must be non-negative");if(r<0)throw jy("character must be non-negative");this._line=t,this._character=r}isBefore(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<t._character}isBeforeOrEqual(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<=t._character}isAfter(t){return!this.isBeforeOrEqual(t)}isAfterOrEqual(t){return!this.isBefore(t)}isEqual(t){return this._line===t._line&&this._character===t._character}compareTo(t){return this._line<t._line?-1:this._line>t.line?1:this._character<t._character?-1:this._character>t._character?1:0}translate(t,r=0){if(t===null||r===null)throw jy();let n;return typeof t>"u"?n=0:typeof t=="number"?n=t:(n=typeof t.lineDelta=="number"?t.lineDelta:0,r=typeof t.characterDelta=="number"?t.characterDelta:0),n===0&&r===0?this:new e(this.line+n,this.character+r)}with(t,r=this.character){if(t===null||r===null)throw jy();let n;return typeof t>"u"?n=this.line:typeof t=="number"?n=t:(n=typeof t.line=="number"?t.line:this.line,r=typeof t.character=="number"?t.character:this.character),n===this.line&&r===this.character?this:new e(n,r)}toJSON(){return{line:this.line,character:this.character}}[Symbol.for("debug.description")](){return`(${this.line}:${this.character})`}},nu=class e{static{o(this,"Range")}static isRange(t){return t instanceof e?!0:t?ho.isPosition(t.start)&&ho.isPosition(t.end):!1}get start(){return this._start}get end(){return this._end}constructor(t,r,n,i){let s,a;if(typeof t=="number"&&typeof r=="number"&&typeof n=="number"&&typeof i=="number"?(s=new ho(t,r),a=new ho(n,i)):ho.isPosition(t)&&ho.isPosition(r)&&(s=t,a=r),!s||!a)throw new Error("Invalid arguments");s.isBefore(a)?(this._start=s,this._end=a):(this._start=a,this._end=s)}contains(t){return e.isRange(t)?this.contains(t.start)&&this.contains(t.end):ho.isPosition(t)?!(t.isBefore(this._start)||this._end.isBefore(t)):!1}isEqual(t){return this._start.isEqual(t._start)&&this._end.isEqual(t._end)}intersection(t){let r=ho.Max(t.start,this._start),n=ho.Min(t.end,this._end);if(!r.isAfter(n))return new e(r,n)}union(t){if(this.contains(t))return this;if(t.contains(this))return t;let r=ho.Min(t.start,this._start),n=ho.Max(t.end,this.end);return new e(r,n)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(t,r=this.end){if(t===null||r===null)throw jy();let n;return t?ho.isPosition(t)?n=t:(n=t.start||this.start,r=t.end||this.end):n=this.start,n.isEqual(this._start)&&r.isEqual(this.end)?this:new e(n,r)}toJSON(){return[this.start,this.end]}[Symbol.for("debug.description")](){return _6t(this)}};function jy(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}o(jy,"illegalArgument");function _6t(e){return e.isEmpty?`[${e.start.line}:${e.start.character})`:`[${e.start.line}:${e.start.character} -> ${e.end.line}:${e.end.character})`}o(_6t,"getDebugDescriptionOfRange");d();d();var gae=tt(require("crypto"));var C_=gae.randomUUID.bind(gae);d();d();d();var lh;(i=>{i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function n(s){return s[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=n,o(n,"getServiceDependencies")})(lh||={});var rg=ch("instantiationService");function k6t(e,t,r){t[lh.DI_TARGET]===t?t[lh.DI_DEPENDENCIES].push({id:e,index:r}):(t[lh.DI_DEPENDENCIES]=[{id:e,index:r}],t[lh.DI_TARGET]=t)}o(k6t,"storeServiceDependency");function ch(e){if(lh.serviceIds.has(e))return lh.serviceIds.get(e);let t=o(function(r,n,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k6t(t,r,i)},"id");return t.toString=()=>e,lh.serviceIds.set(e,t),t}o(ch,"createDecorator");d();d();var cf=class{static{o(this,"SyncDescriptor")}constructor(t,r=[],n=!1){this.ctor=t,this.staticArguments=r,this.supportsDelayedInstantiation=n}};d();var Aae=class{constructor(t,r){this.key=t;this.data=r;this.incoming=new Map;this.outgoing=new Map}static{o(this,"Node")}},x_=class{constructor(t){this._hashFn=t;this._nodes=new Map}static{o(this,"Graph")}roots(){let t=[];for(let r of this._nodes.values())r.outgoing.size===0&&t.push(r);return t}insertEdge(t,r){let n=this.lookupOrInsertNode(t),i=this.lookupOrInsertNode(r);n.outgoing.set(i.key,i),i.incoming.set(n.key,n)}removeNode(t){let r=this._hashFn(t);this._nodes.delete(r);for(let n of this._nodes.values())n.outgoing.delete(r),n.incoming.delete(r)}lookupOrInsertNode(t){let r=this._hashFn(t),n=this._nodes.get(r);return n||(n=new Aae(r,t),this._nodes.set(r,n)),n}lookup(t){return this._nodes.get(this._hashFn(t))}isEmpty(){return this._nodes.size===0}toString(){let t=[];for(let[r,n]of this._nodes)t.push(`${r}
	(-> incoming)[${[...n.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...n.outgoing.keys()].join(",")}]
`);return t.join(`
`)}findCycleSlow(){for(let[t,r]of this._nodes){let n=new Set([t]),i=this._findCycle(r,n);if(i)return i}}_findCycle(t,r){for(let[n,i]of t.outgoing){if(r.has(n))return[...r,n].join(" -> ");r.add(n);let s=this._findCycle(i,r);if(s)return s;r.delete(n)}}};d();var bx=class{constructor(...t){this._entries=new Map;for(let[r,n]of t)this.set(r,n)}static{o(this,"ServiceCollection")}set(t,r){let n=this._entries.get(t);return this._entries.set(t,r),n}has(t){return this._entries.has(t)}get(t){return this._entries.get(t)}};var B6t=!1,sW=class extends Error{static{o(this,"CyclicDependencyError")}constructor(t){super("cyclic dependency between services"),this.message=t.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}},aW=class e{constructor(t=new bx,r=!1,n,i=B6t){this._services=t;this._strict=r;this._parent=n;this._enableTracing=i;this._isDisposed=!1;this._servicesToMaybeDispose=new Set;this._children=new Set;this._activeInstantiations=new Set;this._services.set(rg,this),this._globalGraph=i?n?._globalGraph??new x_(s=>s):void 0}static{o(this,"InstantiationService")}dispose(){if(!this._isDisposed){this._isDisposed=!0,hM(this._children),this._children.clear();for(let t of this._servicesToMaybeDispose)u8e(t)&&t.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(t,r){this._throwIfDisposed();let n=this,i=new class extends e{dispose(){n._children.delete(i),super.dispose()}}(t,this._strict,this,this._enableTracing);return this._children.add(i),r?.add(i),i}invokeFunction(t,...r){this._throwIfDisposed();let n=E_.traceInvocation(this._enableTracing,t),i=!1;try{return t({get:o(a=>{if(i)throw YIe("service accessor is only valid during the invocation of its target method");let l=this._getOrCreateServiceInstance(a,n);if(!l)throw new Error(`[invokeFunction] unknown service '${a}'`);return l},"get")},...r)}finally{i=!0,n.stop()}}createInstance(t,...r){this._throwIfDisposed();let n,i;return t instanceof cf?(n=E_.traceCreation(this._enableTracing,t.ctor),i=this._createInstance(t.ctor,t.staticArguments.concat(r),n)):(n=E_.traceCreation(this._enableTracing,t),i=this._createInstance(t,r,n)),n.stop(),i}_createInstance(t,r=[],n){let i=lh.getServiceDependencies(t).sort((l,c)=>l.index-c.index),s=[];for(let l of i){let c=this._getOrCreateServiceInstance(l.id,n);c||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${l.id}.`,!1),s.push(c)}let a=i.length>0?i[0].index:r.length;if(r.length!==a){console.trace(`[createInstance] First service dependency of ${t.name} at position ${a+1} conflicts with ${r.length} static arguments`);let l=a-r.length;l>0?r=r.concat(new Array(l)):r=r.slice(0,a)}return Reflect.construct(t,r.concat(s))}_setCreatedServiceInstance(t,r){if(this._services.get(t)instanceof cf)this._services.set(t,r);else if(this._parent)this._parent._setCreatedServiceInstance(t,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let r=this._services.get(t);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):r}_getOrCreateServiceInstance(t,r){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(t));let n=this._getServiceInstanceOrDescriptor(t);return n instanceof cf?this._safeCreateAndCacheServiceInstance(t,n,r.branch(t,!0)):(r.branch(t,!1),n)}_safeCreateAndCacheServiceInstance(t,r,n){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,r,n)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,r,n){let i=new x_(c=>c.id.toString()),s=0,a=[{id:t,desc:r,_trace:n}],l=new Set;for(;a.length;){let c=a.pop();if(!l.has(String(c.id))){if(l.add(String(c.id)),i.lookupOrInsertNode(c),s++>1e3)throw new sW(i);for(let u of lh.getServiceDependencies(c.desc.ctor)){let f=this._getServiceInstanceOrDescriptor(u.id);if(f||this._throwIfStrict(`[createInstance] ${t} depends on ${u.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(c.id),String(u.id)),f instanceof cf){let m={id:u.id,desc:f,_trace:c._trace.branch(u.id,!0)};i.insertEdge(c,m),a.push(m)}}}}for(;;){let c=i.roots();if(c.length===0){if(!i.isEmpty())throw new sW(i);break}for(let{data:u}of c){if(this._getServiceInstanceOrDescriptor(u.id)instanceof cf){let m=this._createServiceInstanceWithOwner(u.id,u.desc.ctor,u.desc.staticArguments,u.desc.supportsDelayedInstantiation,u._trace);this._setCreatedServiceInstance(u.id,m)}i.removeNode(u)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,r,n=[],i,s){if(this._services.get(t)instanceof cf)return this._createServiceInstance(t,r,n,i,s,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,r,n,i,s);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(t,r,n=[],i,s,a){if(i)throw new Error("Delayed instantiation not supported");{let l=this._createInstance(r,n,s);return a.add(l),l}}_throwIfStrict(t,r){if(r&&console.warn(t),this._strict)throw new Error(t)}};var E_=class e{constructor(t,r){this.type=t;this.name=r;this._start=Date.now();this._dep=[]}static{o(this,"Trace")}static{this.all=new Set}static{this._None=new class extends e{constructor(){super(0,null)}stop(){}branch(){return this}}}static traceInvocation(t,r){return t?new e(2,r.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):e._None}static traceCreation(t,r){return t?new e(1,r.name):e._None}static{this._totals=0}branch(t,r){let n=new e(3,t.toString());return this._dep.push([t,r,n]),n}stop(){let t=Date.now()-this._start;e._totals+=t;let r=!1;function n(s,a){let l=[],c=new Array(s+1).join("	");for(let[u,f,m]of a._dep)if(f&&m){r=!0,l.push(`${c}CREATES -> ${u}`);let h=n(s+1,m);h&&l.push(h)}else l.push(`${c}uses -> ${u}`);return l.join(`
`)}o(n,"printChild");let i=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${n(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${e._totals.toFixed(2)}ms)`];(t>2||r)&&e.all.add(i.join(`
`))}};var lW=class{constructor(t){this._isSealed=!1;this._collection=Array.isArray(t)?new bx(...t):t??new bx}static{o(this,"InstantiationServiceBuilder")}define(t,r){if(this._isSealed)throw new Error("This accessor is sealed and cannot be modified anymore.");this._collection.set(t,r)}seal(){if(this._isSealed)throw new Error("This accessor is sealed and cannot be seal again anymore.");return this._isSealed=!0,new aW(this._collection,!0)}};var mA=ch("IParserService");d();var cW=ch("ISnippyService");d();d();var b_=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu"),uW=65;function R6t(e){let t=0,r;b_.lastIndex=0;do if(r=b_.exec(e),r&&(t+=1),t>=uW)break;while(r);return t}o(R6t,"lexemeLength");function D6t(e,t){let r=0,n;b_.lastIndex=0;do if(n=b_.exec(e),n&&(r+=1,r>=t))return b_.lastIndex;while(n);return e.length}o(D6t,"offsetFirstLexemes");function oFe(e,t){let r=e.split("").reverse().join(""),n=D6t(r,t);return r.length-n}o(oFe,"offsetLastLexemes");function yae(e){return R6t(e)>=uW}o(yae,"hasMinLexemeLength");d();d();d();var ya;(n=>{function e(i){return new Cae(i)}n.ok=e,o(e,"ok");function t(i){return new xae(i)}n.error=t,o(t,"error");function r(i){return n.error(new Error(i))}n.fromString=r,o(r,"fromString")})(ya||={});var Cae=class e{constructor(t){this.val=t}static{o(this,"ResultOk")}map(t){return new e(t(this.val))}flatMap(t){return t(this.val)}isOk(){return!0}isError(){return!1}},xae=class{constructor(t){this.err=t}static{o(this,"ResultError")}map(t){return this}flatMap(t){return this}isOk(){return!1}isError(){return!0}};var sFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.matched_source=="string"&&typeof r.occurrences=="string"&&typeof r.capped=="boolean"&&typeof r.cursor=="string"&&typeof r.github_url=="string"}t.is=e,o(e,"is")})(sFe||={});var Eae;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.kind=="string"&&typeof r.reason=="string"&&typeof r.code=="number"&&typeof r.msg=="string"}t.is=e,o(e,"is")})(Eae||={});var aFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"snippets"in r&&Array.isArray(r.snippets)&&r.snippets.every(sFe.is)}t.is=e,o(e,"is")})(aFe||={});var bae;(t=>{function e(r){if(Eae.is(r))return ya.error(r);if(aFe.is(r))return ya.ok(r)}t.to=e,o(e,"to")})(bae||={});var lFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.commit_id=="string"&&typeof r.license=="string"&&typeof r.nwo=="string"&&typeof r.path=="string"&&typeof r.url=="string"}t.is=e,o(e,"is")})(lFe||={});var cFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.has_next_page=="boolean"&&typeof r.cursor=="string"}t.is=e,o(e,"is")})(cFe||={});var uFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.count=="object"&&Object.values(r.count).every(n=>typeof n=="string")}t.is=e,o(e,"is")})(uFe||={});var fFe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"file_matches"in r&&Array.isArray(r.file_matches)&&r.file_matches.every(lFe.is)&&"page_info"in r&&cFe.is(r.page_info)&&"license_stats"in r&&uFe.is(r.license_stats)}t.is=e,o(e,"is")})(fFe||={});var vae;(t=>{function e(r){if(Eae.is(r))return ya.error(r);if(fFe.is(r))return ya.ok(r)}t.to=e,o(e,"to")})(vae||={});var fW=class e{static{o(this,"SnippyFetchService")}static{this.TWIRP_URL="twirp/github.snippy.v1.SnippyAPI"}constructor(t){this.ctx=t}async fetchMatch(t){let r={source:t};return this.fetch("Match",r,bae.to)}async fetchFilesForMatch(t){let r={cursor:t};return this.fetch("FilesForMatch",r,vae.to)}async fetch(t,r,n){let i=this.ctx.get(Nr),s=await this.ctx.get(qr).getToken(),a=uv(this.ctx,s,"origin-tracker",`${e.TWIRP_URL}/${t}`),l={Authorization:`Bearer ${s.token}`,...f0(this.ctx)},c=i.makeAbortController(),u=await i.fetch(a,{method:"POST",headers:l,json:r,signal:c.signal});if(!u.ok)throw new Error(`Failed with status ${u.status} and body: ${await u.text()}`);let f=await u.json();return n(f)}};var dFe=new Cr("[CODE REFERENCING]"),l6=class{constructor(t,r){this.instantiationService=r;this.ctx=t,this.fetcher=this.instantiationService.createInstance(fW,this.ctx)}static{o(this,"SnippyService")}async handlePostInsertion(t,r,n){let i=this.computeSourceToCheck(r,n);if(!i)return;let a=await this.ctx.get(Vr).getOpenTextDocument({uri:t.toString()});if(!a){dFe.error(this.ctx,"Unable to raise IP code citation notification: could not determine document version.");return}let l=a.version,c;try{c=await this.fetcher.fetchMatch(i.source)}catch(p){throw p}if(!c)throw new Error(`Failed to parse match response: ${c}`);if(c.isError())throw new Error(`Failed to match: ${c.err}`);if(c.val.snippets.length===0)return;let{snippets:u}=c.val,f=u.map(async p=>{let A=await this.fetcher.fetchFilesForMatch(p.cursor);if(!A||A.isError())return;let{file_matches:x,license_stats:E}=A.val;return{match:p,files:x,licenseStats:E}}),h=(await Promise.all(f)).filter(p=>!!p);if(h.length===0){dFe.error(this.ctx,"Should never happen as per https://github.com/github/copilot-client/blob/34cae5c581d662525eb3305d58f0762e952f866d/extension/src/codeReferencing/handlePostInsertion.ts#L138");return}for(let p of h){let A=new Set(Object.keys(p.licenseStats?.count??{}));A.delete("NOASSERTION")&&A.add("unknown");let x=Array.from(A).sort(),E=`${p.match.matched_source.slice(0,100).replace(/[\r\n\t]+|^[ \t]+/gm," ").trim()}...`,v={inDocumentUri:t.toString(),offsetStart:i.startOffset,offsetEnd:i.endOffset,matchingText:E,location:{start:{line:i.startPosition.lineNumber,character:i.startPosition.column},end:{line:i.endPosition.lineNumber,character:i.endPosition.column}},version:l,details:x.map(b=>({license:b,url:`${p.match.github_url}`}))};await this.ctx.get(Wu).handleIPCodeCitation(this.ctx,v)}}computeSourceToCheck(t,r){if(r.newText==="")return;let n=is.single(r),s=n.getNewRanges().reduce((h,p)=>h.join(p)),a=t.apply(n),l=s.start,c=a.value.substring(s.start,s.endExclusive);if(!yae(c)){let h=a.value.slice(0,s.start),p=oFe(h,uW);l=p,c=a.value.slice(p,s.start+r.newText.length)}if(!yae(c))return;let u=a.getTransformer(),f=u.getPosition(l),m=u.getPosition(s.endExclusive);return{source:c,startOffset:l,endOffset:s.endExclusive,startPosition:f,endPosition:m}}};l6=pu([Ia(1,rg)],l6);d();var v_=ch("ITokenizerProvider");d();d();d();var N6t=Symbol("MicrotaskDelay");function L6t(e){let t=new O1,r=e(t.token),n=new Promise((i,s)=>{let a=t.token.onCancellationRequested(()=>{a.dispose(),s(new Sp)});Promise.resolve(r).then(l=>{a.dispose(),t.dispose(),i(l)},l=>{a.dispose(),t.dispose(),s(l)})});return new class{cancel(){t.cancel(),t.dispose()}then(i,s){return n.then(i,s)}catch(i){return this.then(void 0,i)}finally(i){return n.finally(i)}}}o(L6t,"createCancelablePromise");function vx(e,t){return t?new Promise((r,n)=>{let i=setTimeout(()=>{s.dispose(),r()},e),s=t.onCancellationRequested(()=>{clearTimeout(i),s.dispose(),n(new Sp)})}):L6t(r=>vx(e,r))}o(vx,"timeout");var dW=class{constructor(t,r){this._isDisposed=!1;this._token=-1,typeof t=="function"&&typeof r=="number"&&this.setIfNotSet(t,r)}static{o(this,"TimeoutTimer")}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,r){if(this._isDisposed)throw new gi("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,t()},r)}setIfNotSet(t,r){if(this._isDisposed)throw new gi("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,t()},r))}};var I_=class{static{o(this,"DeferredPromise")}get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}constructor(){this.p=new Promise((t,r)=>{this.completeCallback=t,this.errorCallback=r})}complete(t){return new Promise(r=>{this.completeCallback(t),this.outcome={outcome:0,value:t},r()})}error(t){return new Promise(r=>{this.errorCallback(t),this.outcome={outcome:1,value:t},r()})}cancel(){return this.error(new Sp)}},Q6t;(r=>{async function e(n){let i,s=await Promise.all(n.map(a=>a.then(l=>l,l=>{i||(i=l)})));if(typeof i<"u")throw i;return s}r.settled=e,o(e,"settled");function t(n){return new Promise(async(i,s)=>{try{await n(i,s)}catch(a){s(a)}})}r.withAsyncBody=t,o(t,"withAsyncBody")})(Q6t||={});var T_=class e{static{o(this,"AsyncIterableObject")}static fromArray(t){return new e(r=>{r.emitMany(t)})}static fromPromise(t){return new e(async r=>{r.emitMany(await t)})}static fromPromisesResolveOrder(t){return new e(async r=>{await Promise.all(t.map(async n=>r.emitOne(await n)))})}static merge(t){return new e(async r=>{await Promise.all(t.map(async n=>{for await(let i of n)r.emitOne(i)}))})}static{this.EMPTY=e.fromArray([])}constructor(t,r){this._state=0,this._results=[],this._error=null,this._onReturn=r,this._onStateChanged=new $u,queueMicrotask(async()=>{let n={emitOne:o(i=>this.emitOne(i),"emitOne"),emitMany:o(i=>this.emitMany(i),"emitMany"),reject:o(i=>this.reject(i),"reject")};try{await Promise.resolve(t(n)),this.resolve()}catch(i){this.reject(i)}finally{n.emitOne=void 0,n.emitMany=void 0,n.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:o(async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await k4.toPromise(this._onStateChanged.event)}while(!0)},"next"),return:o(async()=>(this._onReturn?.(),{done:!0,value:void 0}),"return")}}static map(t,r){return new e(async n=>{for await(let i of t)n.emitOne(r(i))})}map(t){return e.map(this,t)}static filter(t,r){return new e(async n=>{for await(let i of t)r(i)&&n.emitOne(i)})}filter(t){return e.filter(this,t)}static coalesce(t){return e.filter(t,r=>!!r)}coalesce(){return e.coalesce(this)}static async toPromise(t){let r=[];for await(let n of t)r.push(n);return r}toPromise(){return e.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};var mW=class{constructor(t){this._deferred=new I_;this._asyncIterable=new T_(i=>{if(r){i.reject(r);return}return n&&i.emitMany(n),this._errorFn=s=>i.reject(s),this._emitFn=s=>i.emitOne(s),this._deferred.p},t);let r,n;this._emitFn=i=>{n||(n=[]),n.push(i)},this._errorFn=i=>{r||(r=i)}}static{o(this,"AsyncIterableSource")}get asyncIterable(){return this._asyncIterable}resolve(){this._deferred.complete()}reject(t){this._errorFn(t),this._deferred.complete()}emitOne(t){this._emitFn(t)}};var pW=ch("ITelemetrySender"),hA=ch("IChatMLFetcher");var hW=class{constructor(){this._stream=new mW;this._seenAnnotationTypes=new Set}static{o(this,"FetchStreamSource")}get stream(){return this._stream.asyncIterable}update(t,r){r.codeVulnAnnotations&&(!((t.match(/(^|\n)```/g)?.length??0)%2===1)||t.match(/(^|\n)```\w*\s*$/))&&(r.codeVulnAnnotations=void 0),r.codeVulnAnnotations&&(r.codeVulnAnnotations=r.codeVulnAnnotations.filter(n=>!this._seenAnnotationTypes.has(n.details.type)),r.codeVulnAnnotations.forEach(n=>this._seenAnnotationTypes.add(n.details.type))),this._stream.emitOne({text:t,delta:r})}resolve(){this._stream.resolve()}};async function mFe(e){let t=new lW;return t.define(pW,new Iae(e)),t.define(mA,new cf(Tae,[!0])),t.define(cW,new cf(l6,[e])),t.define(hA,await wae.Create(e)),t.define(v_,new cf(Sae)),t.seal()}o(mFe,"createInstantiationService");var Iae=class{constructor(t){this.ctx=t;this.ctx=t}static{o(this,"TelemetrySender")}sendTelemetryEvent(t,r,n){let i=Object.fromEntries(Object.entries(r??{}).filter(([l,c])=>c!==void 0)),s=Object.fromEntries(Object.entries(n??{}).filter(([l,c])=>c!==void 0)),a=rn.createAndMarkAsIssued(i,s);Gt(this.ctx,t,a)}},Tae=class{static{o(this,"ParserServiceImpl")}getTreeSitterAST(t){}},wae=class e{constructor(t,r){this.ctx=t;this.modelConfiguration=r}static{o(this,"CLSChatMLFetcher")}static async Create(t){let r=await t.get(ti).getBestChatModelConfig([Oi.Gpt4oMini]);return new e(t,r)}get tokenBudget(){return this.modelConfiguration.maxRequestTokens}get tokenizerName(){return this.modelConfiguration.tokenizer}async fetchOne(t,r,n){let i=t.map(l=>e.chatMessageToClsChatMessage(l)),s=C_(),a=await this.ctx.get(Oc).fetchAndStreamChat(this.ctx,i,A1.createEmptyConfigForTesting(),"nextEditSuggestion",s,async(l,c)=>{if(r)return await r(l,0,{text:c.text})},n);if(a.type==="success"){if(r)for await(let l of a.choices)l.finishReason!=="snippy"&&await r(l.completionText,0,{text:l.completionText});return{type:"success",value:""}}else return{type:e.clsResponseTypeToResponseType(a.type),reason:a.type}}static chatMessageToClsChatMessage(t){switch(t.role){case"system":return{role:"system",content:t.content};case"user":if(typeof t.content!="string")throw new Error("User message content must be a string");return{role:"user",content:t.content};default:throw new Error(`Unsupported chat role: ${t.role}`)}}static clsResponseTypeToResponseType(t){switch(t){case"success":return"success";case"successMultiple":return"success";case"offTopic":return"offTopic";case"canceled":return"canceled";case"filtered":return"filtered";case"length":return"length";case"failed":return"failed";case"agentAuthRequired":return"agent_unauthorized";default:return"unknown"}}},Sae=class e{constructor(){this.tokenizers=new Map;this.cl100kTokenizer=new gW("cl100k_base")}static{o(this,"CLSTokenizerProvider")}acquireTokenizer(t){let r=this.tokenizers.get(t.tokenizer);return r||(r=new gW(e.typeToName(t.tokenizer)),this.tokenizers.set(t.tokenizer,r)),r}static typeToName(t){switch(t){case"cl100k_base":return"cl100k_base";case"o200k_base":return"o200k_base";case"llama3":throw new Error("Llama3 tokenizer is not supported");default:throw new Error(`Unknown tokenizer type: ${t}`)}}},gW=class{static{o(this,"CLSTokenizer")}constructor(t){this.tokenizer=vo(t)}tokenLength(t){return this.tokenizer.tokenLength(t)}countMessageTokens(t){let r=0;if(typeof t.content=="string")return this.tokenLength(t.content);if(Array.isArray(t.content))for(let n of t.content)if(n.type==="text")r+=this.tokenLength(n.text);else throw new Error(`Unsupported message content part type: ${n.type}`);else throw new Error("Unsupported message content type");return r}countMessagesTokens(t){let r=0;for(let n of t)r+=this.countMessageTokens(n);return r}countToolTokens(t){throw new Error("Method not implemented.")}};d();d();var _ae=class{constructor(t,r){this.baseDebounceTime=t;this.expectedTotalTime=r;this.providerInvocationTime=Date.now()}static{o(this,"DelaySession")}getDebounceTime(){let t=this.expectedTotalTime===void 0?this.baseDebounceTime:Math.min(this.baseDebounceTime,this.expectedTotalTime),r=Date.now()-this.providerInvocationTime;return Math.max(0,t-r)}getArtificalDelay(){if(this.expectedTotalTime===void 0)return 0;let t=Date.now()-this.providerInvocationTime;return Math.max(0,this.expectedTotalTime-t)}},AW=class{constructor(){this._recentUserActions=[]}static{o(this,"Delayer")}createDelaySession(){let n=this._getExpectedTotalTime(200);return new _ae(200,n)}handleAcceptance(){this._recordUserAction("accepted")}handleRejection(){this._recordUserAction("rejected")}_recordUserAction(t){this._recentUserActions.push({time:Date.now(),kind:t}),this._recentUserActions=this._recentUserActions.slice(-10)}_getExpectedTotalTime(t){let l=Date.now(),c=1;for(let f of this._recentUserActions){let m=l-f.time;if(m>6e5)continue;let h=Math.exp(-m/6e5),p=f.kind==="rejected"?1.5:.8;c*=1+(p-1)*h}let u=t*c;return u=Math.min(3e3,Math.max(50,u)),u}};d();d();d();var yW=class e{constructor(t){this._indexMap=t}static{o(this,"Permutation")}get arrayLength(){return this._indexMap.length}static createSortPermutation(t,r){let n=Array.from(t.keys()).sort((i,s)=>r(t[i],t[s]));return new e(n)}apply(t){if(t.length!==this.arrayLength)throw Ow(`Permutation must be applied on an array of same length. Received length: ${t.length}. Expected length: ${this.arrayLength}`);return t.map((r,n)=>t[this._indexMap[n]])}mapIndexBack(t){let r=this._indexMap.at(t);if(r===void 0)throw Ow(`Given index must be within original array length. Received: ${t}. Expected: 0 <= x < ${this.arrayLength}`);return r}inverse(){let t=this._indexMap.slice();for(let r=0;r<this._indexMap.length;r++)t[this._indexMap[r]]=r;return new e(t)}};d();var w_=class e{constructor(t,r){this.firstEditStrategy=t;this.maxLinesPerEdit=r}static{o(this,"StatelessNextEditOptions")}doesFitMaxLinesPerEdit(t){return this.maxLinesPerEdit===void 0||t.lineRange.length<=this.maxLinesPerEdit&&t.newLines.length<=this.maxLinesPerEdit}serialize(){return{firstEditStrategy:this.firstEditStrategy,maxLinesPerEdit:this.maxLinesPerEdit}}static deserialize(t){return new e(t.firstEditStrategy,t.maxLinesPerEdit)}},CW=class e{constructor(t,r,n,i){this.id=t;this.documents=r;this.activeDocumentIdx=n;this.options=i;this.seqid=String(++e.ID);this.cancellationTokenSource=new O1;this.liveDependentants=0;this.fetchIssued=!1;this._result=new I_;Vc(r.length>0),Vc(n>=0&&n<r.length)}static{o(this,"StatelessNextEditRequest")}static{this.ID=0}get result(){return this._result.p}setResult(t){this._result.complete(t)}setResultError(t){this._result.error(t)}hasDocument(t){return this.documents.find(r=>r.id===t)!==void 0}static deserialize(t){return new e(t.id,t.documents.map(r=>S_.deserialize(r)),t.activeDocumentIdx,w_.deserialize(t.options))}getActiveDocument(){return this.documents[this.activeDocumentIdx]}serialize(){return{id:this.id,documents:this.documents.map(t=>t.serialize()),activeDocumentIdx:this.activeDocumentIdx,options:this.options.serialize()}}toString(){return this.toMarkdown()}toMarkdown(){return`### StatelessNextEditRequest

${this.documents.map((r,n)=>` * [${n+1}/${this.documents.length}] ${n===this.activeDocumentIdx?"(active document) ":""}`+r.toMarkdown()).join(`

`)}`}},S_=class e{constructor(t,r,n,i,s,a,l,c,u,f,m,h,p=i.length,A=new zn(1,i.length+1),x=void 0){this.id=t;this.workspaceRoot=r;this.languageId=n;this.documentLinesBeforeEdit=i;this.recentEdit=s;this.recentlyEditedInLinesAfterEditRange=a;this.documentBeforeEdits=l;this.recentEdits=c;this.documentAfterEditsNoShortening=u;this.toEditOnDocumentAfterEditsNoShortening=f;this.toOffsetOnDocumentAfterEditsNoShortening=m;this.toProjectedOffset=h;this.lineCountBeforeClipping=p;this.clippingRange=A;this.lastSelectionInAfterEdit=x;this.recentlyEditedInLinesAfterEdit=this.recentlyEditedInLinesAfterEditRange===void 0?void 0:zn.fromRangeInclusive(this.recentlyEditedInLinesAfterEditRange);this.documentAfterEdits=new yl(this.recentEdits.apply(this.documentBeforeEdits.value));this.documentAfterEditsLines=this.documentAfterEdits.getLines()}static{o(this,"StatelessNextEditDocument")}static deserialize(t){return new e(gd.create(t.id),t.workspaceRoot?sy.parse(t.workspaceRoot):void 0,P4.create(t.languageId),t.documentLinesBeforeEdit,Is.deserialize(t.recentEdit),t.recentlyEditedInLinesAfterEditRange?ci.lift(t.recentlyEditedInLinesAfterEditRange):void 0,new yl(t.documentBeforeEdits),Dp.deserialize(t.recentEdits),new yl(t.documentAfterEditsNoShortening),r=>{throw new Error("Deserializing serialized document does not implement translation of line edit to edit")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},t.lineCountBeforeClipping,zn.deserialize(t.clippingRange))}serialize(){return{id:this.id.uri,workspaceRoot:this.workspaceRoot?.toString(),languageId:this.languageId,documentLinesBeforeEdit:this.documentLinesBeforeEdit,recentEdit:this.recentEdit.serialize(),recentlyEditedInLinesAfterEditRange:this.recentlyEditedInLinesAfterEditRange?.toJSON(),documentBeforeEdits:this.documentBeforeEdits.value,recentEdits:this.recentEdits.serialize(),documentAfterEditsNoShortening:this.documentAfterEditsNoShortening.value,lineCountBeforeClipping:this.lineCountBeforeClipping,clippingRange:this.clippingRange.serialize()}}getDisplayPath(){return this.id.uri}toString(){return this.toMarkdown()}toMarkdown(){let t=[];return t.push(`StatelessNextEditDocument: **${this.id.uri}**
`),t.push("```patch"),t.push(this.recentEdit.humanReadablePatch(this.documentLinesBeforeEdit)),t.push("```"),t.push(""),t.join(`
`)}};var Zi=class e{constructor(t,r){this.nextEdit=t;this.telemetry=r}static{o(this,"StatelessNextEditResult")}static noEdit(t,r){let n=ya.error(t),i=r.build(n);return new e(n,i)}static edit(t,r){let n=ya.ok(t),i=r.build(n);return new e(n,i)}},c6=class{constructor(t){this._request=t;this.startTime=Date.now(),this.requestUuid=t.id}static{o(this,"StatelessNextEditTelemetryBuilder")}build(t){let n=Date.now()-this.startTime,i=this._prompt?.split(`
`).length,s=this._prompt?.length,a=t.isOk(),l=t.isOk()?void 0:t.err.kind,c;if(!t.isOk())switch(t.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":break;case"gotCancelled":case"filteredOut":c=t.err.message;break;case"fetchFailure":case"uncategorized":case"unexpected":c=t.err.error.stack?t.err.error.stack:t.err.error.message;break;default:lM(t.err)}return{hadStatelessNextEditProviderCall:!0,firstEditStrategy:this._request.options.firstEditStrategy,maxLinesPerEdit:this._request.options.maxLinesPerEdit,hasNextEdit:a,noNextEditReasonKind:l,noNextEditReasonMessage:c,statelessNextEditProviderDuration:n,logProbThreshold:this._logProbThreshold,promptLineCount:i,promptCharCount:s,isDefaultEndpoint:this._isDefaultEndpoint,debounceTime:this._debounceTime,fetchStartedAt:this._fetchStartedAt,fetchTime:this._fetchTime,fetchResult:this._fetchResult,fetchError:this._fetchError,hadLowLogProbSuggestion:this._hadLowLogProbSuggestion,nonTerminatingError:this._nonTerminatingError,nEditsSuggested:this._nEditsSuggested,nextEditLogprob:this._nextEditLogProb,kthEditPicked:this._kthEditPicked,lineDistanceToMostRecentEdit:this._lineDistanceToMostRecentEdit,firstPickStrategyOverride:this._firstPickStrategyOverride}}setLogProbThreshold(t){return this._logProbThreshold=t,this}setHadLowLogProbSuggestion(t){return this._hadLowLogProbSuggestion=t,this}setPrompt(t){return this._prompt=t,this}setIsDefaultEndpoint(t){return this._isDefaultEndpoint=t,this}setDebounceTime(t){return this._debounceTime=t,this}setFetchStartedAt(){return this._fetchStartedAt=Date.now(),this}get fetchStartedAt(){return this._fetchStartedAt}setFetchResultIfNotSet(t,r){return this._fetchResult===void 0&&(this._fetchResult=t,this._fetchError=r,Vc(this._fetchStartedAt!==void 0,"fetchStartedAt must be set before setting fetchTime"),this._fetchTime=Date.now()-this._fetchStartedAt),this}get fetchResult(){return this._fetchResult}get fetchError(){return this._fetchError}get fetchTime(){return this._fetchTime}setNonTerminatingError(t){return this._nonTerminatingError=t,this}setNextEditLogProb(t){return this._nextEditLogProb=t,this}setNEditsSuggested(t){return this._nEditsSuggested=t,this}setKthEditPicked(t){return this._kthEditPicked=t,this}setLineDistanceToMostRecentEdit(t){return this._lineDistanceToMostRecentEdit=t,this}setFirstPickStrategyOverride(t){return this._firstPickStrategyOverride=t,this}};function O6t(e,...t){let r=e;for(let n of t)r=n(r);return r}o(O6t,"chainStatelessNextEditProviders");var xW=class{constructor(t,r){this.ID=t;this._providers=r;let n={ID:this.ID,provideNextEdit:o((i,s)=>this.provideNextEditBase(i,s),"provideNextEdit")};this._impl=O6t(n,...this._providers)}static{o(this,"ChainedStatelessNextEditProvider")}provideNextEdit(t,r){return this._impl.provideNextEdit(t,r)}},u6=class{constructor(t){this._baseProvider=t}static{o(this,"EditFilterAspect")}get ID(){return this._baseProvider.ID}async provideNextEdit(t,r){let n=await this._baseProvider.provideNextEdit(t,r);if(n.nextEdit.isError())return n;let i=n.nextEdit.val,s=i.permutation===void 0?i.edit.edits:i.permutation.apply(i.edit.edits),a=this.filterEdit(t.getActiveDocument(),s);if(a.length===s.length)return n;if(a.length===0)return new Zi(ya.error({kind:"filteredOut",message:"uncategorized"}),n.telemetry);let l=yW.createSortPermutation(a,J5(u=>u.lineRange.startLineNumber,X5)),c=new Is(l.apply(a));return new Zi(ya.ok({edit:c,permutation:l.inverse()}),n.telemetry)}},EW=class extends u6{static{o(this,"IgnoreTriviaWhitespaceChangesAspect")}filterEdit(t,r){return r.filter(i=>!this._isWhitespaceOnlyChange(i,t.documentAfterEditsLines))}_isWhitespaceOnlyChange(t,r){let n=t.lineRange.toOffsetRange().slice(r),i=t.newLines;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++){let a=n[s],l=i[s];if(a.trim()!==l.trim())return!1}return!0}},bW=class extends u6{static{o(this,"IgnoreEditsAtClippingBorderAspect")}filterEdit(t,r){return r.filter(i=>!this._isAtClippingBorder(i,t.clippingRange,t.lineCountBeforeClipping))}_isAtClippingBorder(t,r,n){return r.startLineNumber>1&&t.lineRange.startLineNumber===1||r.endLineNumberExclusive<n&&t.lineRange.endLineNumberExclusive===r.length}};d();d();var U6t=Object.freeze({abap:{lineComment:{start:"'"},markdownLanguageIds:["abap","sap-abap"]},bat:{lineComment:{start:"REM"},alternativeLineComments:[{start:"::"}],aliases:["Batch","bat"],extensions:[".bat",".cmd"]},bibtex:{lineComment:{start:"%"},aliases:["BibTeX","bibtex"],extensions:[".bib"]},blade:{lineComment:{start:"#"}},c:{lineComment:{start:"//"},aliases:["C","c"],extensions:[".c",".i"],markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";"},aliases:["Clojure","clojure"],extensions:[".clj",".cljs",".cljc",".cljx",".clojure",".edn"],markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//"},aliases:["CoffeeScript","coffeescript","coffee"],extensions:[".coffee",".cson",".iced"],markdownLanguageIds:["coffeescript","coffee","cson","iced"],blockComment:["###","###"]},cpp:{lineComment:{start:"//"},aliases:["C++","Cpp","cpp"],extensions:[".cpp",".cc",".cxx",".c++",".hpp",".hh",".hxx",".h++",".h",".ii",".ino",".inl",".ipp",".ixx",".tpp",".txx",".hpp.in",".h.in"],markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"],blockComment:["/*","*/"]},csharp:{lineComment:{start:"//"},aliases:["C#","csharp"],extensions:[".cs",".csx",".cake"],markdownLanguageIds:["csharp","cs"],blockComment:["/*","*/"]},css:{lineComment:{start:"/*",end:"*/"},aliases:["CSS","css"],extensions:[".css"],blockComment:["/*","*/"]},dart:{lineComment:{start:"//"},aliases:["Dart"],extensions:[".dart"],blockComment:["/*","*/"]},dockerfile:{lineComment:{start:"#"},aliases:["Docker","Dockerfile","Containerfile"],extensions:[".dockerfile",".containerfile"],markdownLanguageIds:["dockerfile","docker"]},elixir:{lineComment:{start:"#"}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%"},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//"},aliases:["F#","FSharp","fsharp"],extensions:[".fs",".fsi",".fsx",".fsscript"],markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"],blockComment:["(*","*)"]},go:{lineComment:{start:"//"},aliases:["Go"],extensions:[".go"],markdownLanguageIds:["go","golang"],blockComment:["/*","*/"]},groovy:{lineComment:{start:"//"},aliases:["Groovy","groovy"],extensions:[".groovy",".gvy",".gradle",".jenkinsfile",".nf"],blockComment:["/*","*/"]},haml:{lineComment:{start:"-#"}},handlebars:{lineComment:{start:"{{!",end:"}}"},extensions:[".hbs",".handlebars"],markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"],blockComment:["{{!--","--}}"]},haskell:{lineComment:{start:"--"},markdownLanguageIds:["haskell","hs"]},html:{lineComment:{start:"<!--",end:"-->"},aliases:["HTML","htm","html","xhtml"],extensions:[".html",".htm",".shtml",".xhtml",".xht",".mdoc",".jsp",".asp",".aspx",".jshtm",".volt",".ejs",".rhtml"],markdownLanguageIds:["html","xhtml"],blockComment:["<!--","-->"]},ini:{lineComment:{start:";"},blockComment:[";"," "]},java:{lineComment:{start:"//"},extensions:[".java",".class"],markdownLanguageIds:["java","jsp"],blockComment:["/*","*/"]},javascript:{lineComment:{start:"//"},aliases:["JavaScript","javascript","js"],extensions:[".js",".es6",".mjs",".cjs",".pac"],markdownLanguageIds:["javascript","js"],blockComment:["/*","*/"]},javascriptreact:{lineComment:{start:"//"},aliases:["JavaScript JSX","JavaScript React","jsx"],extensions:[".jsx"],markdownLanguageIds:["jsx"]},json:{extensions:[".json"],lineComment:{start:"//"},blockComment:["/*","*/"]},jsonc:{lineComment:{start:"//"}},jsx:{lineComment:{start:"//"},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#"},aliases:["Julia","julia"],extensions:[".jl"],markdownLanguageIds:["julia","jl"],blockComment:["#=","=#"]},kotlin:{lineComment:{start:"//"},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%"},aliases:["LaTeX","latex"],extensions:[".tex",".ltx",".ctx"],markdownLanguageIds:["tex"]},less:{lineComment:{start:"//"},aliases:["Less","less"],extensions:[".less"],blockComment:["/*","*/"]},lua:{lineComment:{start:"--"},aliases:["Lua","lua"],extensions:[".lua"],markdownLanguageIds:["lua","pluto"],blockComment:["--[[","]]"]},makefile:{lineComment:{start:"#"},aliases:["Makefile","makefile"],extensions:[".mak",".mk"],markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"//"},aliases:["Markdown","markdown"],extensions:[".md",".mkd",".mdwn",".mdown",".markdown",".markdn",".mdtxt",".mdtext",".workbook"],markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//"},aliases:["Objective-C"],extensions:[".m"],markdownLanguageIds:["objectivec","mm","objc","obj-c"],blockComment:["/*","*/"]},"objective-cpp":{lineComment:{start:"//"},aliases:["Objective-C++"],extensions:[".mm"],markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#"},aliases:["Perl","perl"],extensions:[".pl",".pm",".pod",".t",".PL",".psgi"],markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//"},aliases:["PHP","php"],extensions:[".php",".php4",".php5",".phtml",".ctp"],blockComment:["/*","*/"]},powershell:{lineComment:{start:"#"},aliases:["PowerShell","powershell","ps","ps1"],extensions:[".ps1",".psm1",".psd1",".pssc",".psrc"],markdownLanguageIds:["powershell","ps","ps1"],blockComment:["<#","#>"]},pug:{lineComment:{start:"//"}},python:{lineComment:{start:"#"},aliases:["Python","py"],extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi",".pyi",".ipy",".pyt"],markdownLanguageIds:["python","py","gyp"],blockComment:['"""','"""']},ql:{lineComment:{start:"//"}},r:{lineComment:{start:"#"},aliases:["R","r"],extensions:[".r",".rhistory",".rprofile",".rt"]},razor:{lineComment:{start:"<!--",end:"-->"},aliases:["Razor","razor"],extensions:[".cshtml",".razor"],markdownLanguageIds:["cshtml","razor","razor-cshtml"],blockComment:["<!--","-->"]},ruby:{lineComment:{start:"#"},aliases:["Ruby","rb"],extensions:[".rb",".rbx",".rjs",".gemspec",".rake",".ru",".erb",".podspec",".rbi"],markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"],blockComment:["=begin","=end"]},rust:{lineComment:{start:"//"},aliases:["Rust","rust"],extensions:[".rs"],markdownLanguageIds:["rust","rs"],blockComment:["/*","*/"]},sass:{lineComment:{start:"//"}},scala:{lineComment:{start:"//"}},scss:{lineComment:{start:"//"},aliases:["SCSS","scss"],extensions:[".scss"],blockComment:["/*","*/"]},shellscript:{lineComment:{start:"#"},aliases:["Shell Script","shellscript","bash","fish","sh","zsh","ksh","csh"],extensions:[".sh",".bash",".bashrc",".bash_aliases",".bash_profile",".bash_login",".ebuild",".profile",".bash_logout",".xprofile",".xsession",".xsessionrc",".Xsession",".zsh",".zshrc",".zprofile",".zlogin",".zlogout",".zshenv",".zsh-theme",".fish",".ksh",".csh",".cshrc",".tcshrc",".yashrc",".yash_profile"],markdownLanguageIds:["bash","sh","zsh"]},slim:{lineComment:{start:"/"}},solidity:{lineComment:{start:"//"},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--"},aliases:["SQL"],extensions:[".sql",".dsql"],blockComment:["/*","*/"]},stylus:{lineComment:{start:"//"}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//"},aliases:["Swift","swift"],extensions:[".swift"],blockComment:["/*","*/"]},terraform:{lineComment:{start:"#"}},tex:{lineComment:{start:"%"},aliases:["TeX","tex"],extensions:[".sty",".cls",".bbx",".cbx"]},typescript:{lineComment:{start:"//"},aliases:["TypeScript","ts","typescript"],extensions:[".ts",".cts",".mts"],markdownLanguageIds:["typescript","ts"],blockComment:["/*","*/"]},typescriptreact:{lineComment:{start:"//"},aliases:["TypeScript JSX","TypeScript React","tsx"],extensions:[".tsx"],markdownLanguageIds:["tsx"],blockComment:["/*","*/"]},vb:{lineComment:{start:"'"},aliases:["Visual Basic","vb"],extensions:[".vb",".brs",".vbs",".bas",".vba"],markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//"}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//"},extensions:[".vue"]},xml:{lineComment:{start:"<!--",end:"-->"},aliases:["XML","xml"],extensions:[".xml",".xsd",".ascx",".atom",".axml",".axaml",".bpmn",".cpt",".csl",".csproj",".csproj.user",".dita",".ditamap",".dtd",".ent",".mod",".dtml",".fsproj",".fxml",".iml",".isml",".jmx",".launch",".menu",".mxml",".nuspec",".opml",".owl",".proj",".props",".pt",".publishsettings",".pubxml",".pubxml.user",".rbxlx",".rbxmx",".rdf",".rng",".rss",".shproj",".storyboard",".svg",".targets",".tld",".tmx",".vbproj",".vbproj.user",".vcxproj",".vcxproj.filters",".wsdl",".wxi",".wxl",".wxs",".xaml",".xbl",".xib",".xlf",".xliff",".xpdl",".xul",".xoml"],blockComment:["<!--","-->"]},xsl:{lineComment:{start:"<!--",end:"-->"},aliases:["XSL","xsl"],extensions:[".xsl",".xslt"]},yaml:{lineComment:{start:"#"},markdownLanguageIds:["yaml","yml"]}}),q6t=new Map(Object.entries(U6t).map(([e,t])=>[e,{languageId:e,...t}]));function pFe(e){return Bae(typeof e=="string"?e:typeof e>"u"?"plaintext":e.languageId)}o(pFe,"getLanguage");function Bae(e){return q6t.get(e.toLowerCase())??{languageId:e,lineComment:{start:"//"}}}o(Bae,"_getLanguage");d();function gFe(e){let r=e.split(/\r?\n/).map(W6t),n=r.filter(s=>s===1).length,i=r.filter(s=>s===2).length;return n>i}o(gFe,"looksLikeCode");function W6t(e){if(e.length===0)return 0;let t=0,r=0;if(["==","!=","===","!==",">=","<=","&&","||",">>",">>>","<<","<<<","+=","-=","*=","/=","%=","<<=","<<<=",">>=",">>>=","++","--","=>","->","...","??","??="].some(i=>e.includes(i))||e.match(/^\s/)||e.match(/^[;{}()\[\]`~?]/))return 1;e.charAt(0).match(/[A-Z]/)&&(t+=1),e[e.length-1]==="."&&(t+=1),Hte(e)||(t+=1);{Hte(e.charAt(0))&&!e.charAt(0).match(/[A-Z]/)&&(r+=1),e.match(/^\s/)&&(r+=1);let s=[";","{","}","(",")","[","]","`","~","#","$","%","^","&","*","_","=","+","\\","|","<",">"].map(a=>e.includes(a)?1:0).filter(a=>a).length;r+=s}return t>r?2:r>t?1:0}o(W6t,"guessLineType");var f6;(r=>{function e(n){return n.length===0?[]:n.split(/\r\n|\r|\n/g)}r.fromString=e,o(e,"fromString");function t(n){if(n.lineCount===0)return[];let i=[];for(let s=0;s<n.lineCount;s++)i.push(n.lineAt(s).text);return i}r.fromDocument=t,o(t,"fromDocument")})(f6||={});function G6t(e){return e.replace(/^\s+/g,"")}o(G6t,"trimLeadingWhitespace");function Rae(e,t){switch(t){case"java":return!!e.match(/^\s*import\s/);case"typescript":case"typescriptreact":case"javascript":case"javascriptreact":return!!e.match(/^\s*import[\s{*]|^\s*[var|const|let].*=\s*require\(/);case"php":return!!e.match(/^\s*use/);case"rust":return!!e.match(/^\s*use\s+[\w:{}, ]+\s*(as\s+\w+)?;/);case"python":return!!e.match(/^\s*from\s+[\w.]+\s+import\s+[\w, *]+$/)||!!e.match(/^\s*import\s+[\w, ]+$/);default:return!1}}o(Rae,"isImportStatement");var H6t=new U1(e=>{let t=pFe(e),{start:r,end:n}=t.lineComment,i=`(?:${Gte(r)})`,s=n?`(?:${Gte(n)})?`:"";return new RegExp(`${i}(.*)${s}$`)});function Dae(e,t){let r=e.match(H6t.get(t));if(!r)return;let n=r.index;if(typeof n>"u")return;let i=e.substring(0,n),s=r[0],a=G6t(r[1]||"");return{content:i,commentWithTokens:s,commentWithoutTokens:a}}o(Dae,"extractEndLineComment");function vW(e,t){let r=Dae(e,t);if(!(r&&r.content.trim().length>0&&gFe(r.commentWithoutTokens)))return r}o(vW,"extractExplicativeEndLineComment");var IW=class e extends u6{static{o(this,"IgnoreImportChangesAspect")}static isImportChange(t,r,n){return t.newLines.some(i=>Rae(i,r))||V6t(t,n).some(i=>Rae(i,r))}filterEdit(t,r){let n=t.languageId;return r.filter(s=>!e.isImportChange(s,n,t.documentLinesBeforeEdit))}};function V6t(e,t){return ZIe(e.lineRange.mapToLineArray(r=>t[r-1]))}o(V6t,"getOldLines");d();var Pae=tt(EI());d();var d6=class{static{o(this,"DiffChange")}constructor(t,r,n,i){this.originalStart=t,this.originalLength=r,this.modifiedStart=n,this.modifiedLength=i}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}},__=class{constructor(t,r=!0){this.lines=t;this.trimWhitespace=r}static{o(this,"LineSequence")}getElements(){let t=[];for(let r=0,n=this.lines.length;r<n;r++)t[r]=this.trimWhitespace?this.lines[r].trim():this.lines[r];return t}getCharCount(){let t=0;for(let r of this.lines)t+=r.length;return t}},k_=class{static{o(this,"CharSequence")}constructor(t){this._chars=t.split("")}getElements(){return this._chars}},$y=class{static{o(this,"Debug")}static Assert(t,r){if(!t)throw new Error(r)}},zy=class{static{o(this,"MyArray")}static Copy(t,r,n,i,s){for(let a=0;a<s;a++)n[i+a]=t[r+a]}static Copy2(t,r,n,i,s){for(let a=0;a<s;a++)n[i+a]=t[r+a]}};var TW=class{static{o(this,"DiffChangeHelper")}constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new d6(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_originalCount++}AddModifiedElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},B_=class e{static{o(this,"LcsDiff")}constructor(t,r){let[n,i]=e._getElements(t),[s,a]=e._getElements(r);this._originalStringElements=n,this._originalElementsOrHash=i,this._modifiedStringElements=s,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _getElements(t){let r=t.getElements(),n=new Int32Array(r.length);for(let i=0,s=r.length;i<s;i++)n[i]=this._stringHash(r[i],0);return[r,n]}static _numberHash(t,r){return(r<<5)-r+t|0}static _stringHash(t,r){r=this._numberHash(149417,r);for(let n=0,i=t.length;n<i;n++)r=this._numberHash(t.charCodeAt(n),r);return r}ElementsAreEqual(t,r){return this._originalElementsOrHash[t]!==this._modifiedElementsOrHash[r]?!1:this._originalStringElements[t]===this._modifiedStringElements[r]}ComputeDiff(){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1)}_ComputeDiff(t,r,n,i){return this.ComputeDiffRecursive(t,r,n,i)}ComputeDiffRecursive(t,r,n,i){for(;t<=r&&n<=i&&this.ElementsAreEqual(t,n);)t++,n++;for(;r>=t&&i>=n&&this.ElementsAreEqual(r,i);)r--,i--;if(t>r||n>i){let f;return n<=i?($y.Assert(t===r+1,"originalStart should only be one more than originalEnd"),f=[new d6(t,0,n,i-n+1)]):t<=r?($y.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[new d6(t,r-t+1,n,0)]):($y.Assert(t===r+1,"originalStart should only be one more than originalEnd"),$y.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[]),f}let s=[0],a=[0],l=this.ComputeRecursionPoint(t,r,n,i,s,a),c=s[0],u=a[0];if(l!==null)return l;{let f=this.ComputeDiffRecursive(t,c,n,u),m=this.ComputeDiffRecursive(c+1,r,u+1,i);return this.ConcatenateChanges(f,m)}}WALKTRACE(t,r,n,i,s,a,l,c,u,f,m,h,p,A,x,E,v){let b=null,S=null,B=new TW,D=r,F=n,W=p[0]-E[0]-i,ee=-1073741824,de=this.m_forwardHistory.length-1;do{let X=W+t;X===D||X<F&&u[X-1]<u[X+1]?(m=u[X+1],A=m-W-i,m<ee&&B.MarkNextChange(),ee=m,B.AddModifiedElement(m+1,A),W=X+1-t):(m=u[X-1]+1,A=m-W-i,m<ee&&B.MarkNextChange(),ee=m-1,B.AddOriginalElement(m,A+1),W=X-1-t),de>=0&&(u=this.m_forwardHistory[de],t=u[0],D=1,F=u.length-1)}while(--de>=-1);b=B.getReverseChanges(),B=new TW,D=a,F=l,W=p[0]-E[0]-c,ee=1073741824,de=v?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let X=W+s;X===D||X<F&&f[X-1]>=f[X+1]?(m=f[X+1]-1,A=m-W-c,m>ee&&B.MarkNextChange(),ee=m+1,B.AddOriginalElement(m+1,A+1),W=X+1-s):(m=f[X-1],A=m-W-c,m>ee&&B.MarkNextChange(),ee=m,B.AddModifiedElement(m+1,A+1),W=X-1-s),de>=0&&(f=this.m_reverseHistory[de],s=f[0],D=1,F=f.length-1)}while(--de>=-1);return S=B.getChanges(),this.ConcatenateChanges(b,S)}ComputeRecursionPoint(t,r,n,i,s,a){let l=0,c=0,u=0,f=0,m=0,h=0;t--,n--,s[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let p=r-t+(i-n),A=p+1,x=new Int32Array(A),E=new Int32Array(A),v=i-n,b=r-t,S=t-n,B=r-i,F=(b-v)%2===0;x[v]=t,E[b]=r;for(let W=1;W<=p/2+1;W++){let ee=0,de=0;u=this.ClipDiagonalBound(v-W,W,v,A),f=this.ClipDiagonalBound(v+W,W,v,A);for(let X=u;X<=f;X+=2){X===u||X<f&&x[X-1]<x[X+1]?l=x[X+1]:l=x[X-1]+1,c=l-(X-v)-S;let G=l;for(;l<r&&c<i&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(x[X]=l,l+c>ee+de&&(ee=l,de=c),!F&&Math.abs(X-b)<=W-1&&l>=E[X])return s[0]=l,a[0]=c,G<=E[X]&&W<=1448?this.WALKTRACE(v,u,f,S,b,m,h,B,x,E,l,r,s,c,i,a,F):null}m=this.ClipDiagonalBound(b-W,W,b,A),h=this.ClipDiagonalBound(b+W,W,b,A);for(let X=m;X<=h;X+=2){X===m||X<h&&E[X-1]>=E[X+1]?l=E[X+1]-1:l=E[X-1],c=l-(X-b)-B;let G=l;for(;l>t&&c>n&&this.ElementsAreEqual(l,c);)l--,c--;if(E[X]=l,F&&Math.abs(X-v)<=W&&l<=x[X])return s[0]=l,a[0]=c,G>=x[X]&&W<=1448?this.WALKTRACE(v,u,f,S,b,m,h,B,x,E,l,r,s,c,i,a,F):null}if(W<=1447){let X=new Int32Array(f-u+2);X[0]=v-u+1,zy.Copy2(x,u,X,1,f-u+1),this.m_forwardHistory.push(X),X=new Int32Array(h-m+2),X[0]=b-m+1,zy.Copy2(E,m,X,1,h-m+1),this.m_reverseHistory.push(X)}}return this.WALKTRACE(v,u,f,S,b,m,h,B,x,E,l,r,s,c,i,a,F)}ConcatenateChanges(t,r){let n=[];if(t.length===0||r.length===0)return r.length>0?r:t;if(this.ChangesOverlap(t[t.length-1],r[0],n)){let i=new Array(t.length+r.length-1);return zy.Copy(t,0,i,0,t.length-1),i[t.length-1]=n[0],zy.Copy(r,1,i,t.length,r.length-1),i}else{let i=new Array(t.length+r.length);return zy.Copy(t,0,i,0,t.length),zy.Copy(r,0,i,t.length,r.length),i}}ChangesOverlap(t,r,n){if($y.Assert(t.originalStart<=r.originalStart,"Left change is not less than or equal to right change"),$y.Assert(t.modifiedStart<=r.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=r.originalStart||t.modifiedStart+t.modifiedLength>=r.modifiedStart){let i=t.originalStart,s=t.originalLength,a=t.modifiedStart,l=t.modifiedLength;return t.originalStart+t.originalLength>=r.originalStart&&(s=r.originalStart+r.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=r.modifiedStart&&(l=r.modifiedStart+r.modifiedLength-t.modifiedStart),n[0]=new d6(i,s,a,l),!0}else return n[0]=null,!1}ClipDiagonalBound(t,r,n,i){if(t>=0&&t<i)return t;let s=n,a=i-n-1,l=r%2===0;if(t<0){let c=s%2===0;return l===c?0:1}else{let c=a%2===0;return l===c?i-1:i-2}}};d();function AFe(e){let t=new Set;return JSON.stringify(e,(r,n)=>{if(X8e(n)||Array.isArray(n)){if(t.has(n))return"[Circular]";t.add(n)}return typeof n=="bigint"?`[BigInt ${n.toString()}]`:n})}o(AFe,"safeStringify");var wW=!1,Lae=!0,j6t=200,R_=class{constructor(t,r){this.ID=t;this._parserService=r;this.dependsOnSelection=!0}static{o(this,"AbstractNearbyCursorInlineEditProvider")}async provideNextEdit(t,r){let n=new c6(t),i=t.getActiveDocument(),s=D_(i);if(!s||!s.isEmpty())return Zi.noEdit({kind:"uncategorized",error:new Error("Selection is not empty")},n);let a=i.documentLinesBeforeEdit,l=i.recentEdit.apply(a),c=[];for(let b of t.documents)b.id!==i.id&&(c.push(`RELATED DOC: ${b.getDisplayPath()}`),c.push("```patch"),c.push(...J6t(b)),c.push("```"),c.push(""));c.push(`ORIGINAL VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...a),c.push("```"),c.push("");let u="// ...rest of the lines omitted...",f=new zn(1,Math.max(1,s.startLineNumber-1)),m=i.recentEdit.edits.length>0?i.recentEdit.edits[i.recentEdit.edits.length-1].lineRange.endLineNumberExclusive-1:0,h;if(m>0&&m>=f.endLineNumberExclusive){let b=m<l.length;c.push(`IN PROGRESS VERSION ${b?" PREFIX":""}: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,m)),b&&(c.push(u),h={editRange:new zn(f.endLineNumberExclusive,m+1),omittedMessage:u}),c.push("```"),c.push("")}c.push(`NEXT VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,f.endLineNumberExclusive-1)),c.push("");let p=l.slice(f.endLineNumberExclusive-1).join(`
`),A=await this.fetchUntilConvergence(c.join(`
`),p,r);if(r.isCancellationRequested)return Zi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n);if(A.isError())return A.err.kind==="cancel"?Zi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n):Zi.noEdit({kind:"fetchFailure",error:new Error(AFe(A.err))},n);let{result:x}=A.val;if(x.trim().length===0)return Zi.noEdit({kind:"noSuggestions"},n);let E=SW(i.languageId,l,f,void 0,x,h),v=await Oae(this._parserService,E,i,{requireEditWithinNLines:5});if(v){let b=new Is([v]);return Zi.edit({edit:b},n)}else return Zi.noEdit({kind:"filteredOut",message:"uncategorized"},n)}};R_=pu([Ia(1,mA)],R_);var m6=class extends R_{constructor(r,n){super(m6.ID,r);this._chatMLFetcher=n}static{o(this,"MiniNearbyCursorInlineEditProvider")}static{this.ID="MiniNearbyCursorInlineEditProvider"}async fetchUntilConvergence(r,n,i){if(i.isCancellationRequested)return ya.error({kind:"cancel"});let s=await Qae(this.ID,this._chatMLFetcher,[{role:Pae.ChatRole.System,content:`
Please no talking.
You must only provide code.
Simply provide the code that follows most logically.
You don't change code if not necessary.
You see the same file multiple times, but only the last one is the final version.
`.trim()},{role:Pae.ChatRole.User,content:r}],{convergence:n},i);if(s.isError())return s;let{ignored:a,result:l,headersTime:c}=s.val;return l=l.replace(/^```[^\n]*\n/,""),ya.ok({ignored:a,result:l,headersTime:c})}};m6=pu([Ia(0,mA),Ia(1,hA)],m6);async function Qae(e,t,r,n,i){let s=new hW,a=!1,l,c=s.stream.map(x=>({choices:[{index:0,finish_reason:null,logprobs:null,text:x.delta.text}]})),u=z6t(c,n),f=t.fetchOne(r,async(x,E,v)=>(typeof l>"u"&&(l=Date.now()),s.update(x,v),a?x.length:void 0),i);(async()=>{try{await f}finally{s.resolve()}})();let{ignored:m,result:h,shouldCancelRequest:p}=await u;typeof l>"u"&&(l=Date.now()),p&&(a=!0);let A=await f;return A.type!=="success"?ya.error({kind:"failure",err:new Error(`Fetch failed (${A.type}, ${A.reason})`)}):ya.ok({headersTime:l,ignored:m,result:h})}o(Qae,"fetchUntilConvergence");function D_(e){let t=new Mr(0,0);return e.lastSelectionInAfterEdit&&!e.lastSelectionInAfterEdit.equals(t)?e.documentAfterEdits.getTransformer().getRange(e.lastSelectionInAfterEdit):e.recentEdit.edits.length===0?null:$6t(e)}o(D_,"getOrDeduceSelectionFromLastEdit");function $6t(e){let t=e.recentEdit.edits[e.recentEdit.edits.length-1],r=t.lineRange,i=e.recentEdit.getNewLineRanges()[e.recentEdit.edits.length-1].endLineNumberExclusive-1,s=t.newLines[t.newLines.length-1]??"";if(r.length===0)return new ci(i,s.length+1,i,s.length+1);let a=e.documentLinesBeforeEdit[r.endLineNumberExclusive-2],l=kM(a,s),c=s.length-l+1;return new ci(i,c,i,c)}o($6t,"deduceSelectionFromLastEdit");async function z6t(e,t){let r=Y6t(e,t.ignoreReplyTextBefore),n=t.convergence,i=t.maxCompletionLineCount??20,s=t.convergenceNonWhitespaceCharOverlap??40,a=n.replace(/\s/g,""),l=[],c=[],u=[],f=[],m=o(h=>{let p=c[0];return{ignored:l[0]??"",result:p.substring(0,p.lastIndexOf(`
`)+1),shouldCancelRequest:!0}},"returnEarly");for await(let h of r){if(h.kind==="ignore"){l[h.index]=(l[h.index]??"")+h.text;continue}let p=h.text;if(c[h.index]=c[h.index]??"",c[h.index]+=p,f[h.index]=f[h.index]??"",f[h.index]+=p.replace(/\s/g,""),u[h.index]=u[h.index]??0,u[h.index]+=p.split(`
`).length-1,p.indexOf(`
`)===-1||h.index!==0)continue;if(u[h.index]>i)return m(`too many lines: ${u[h.index]}`);let A=c[h.index];if(n.startsWith(A))continue;let x=A.split(`
`).slice(-4,-1);if(x.length<3||n.indexOf(x.join(`
`)+`
`)<=0)continue;let v=f[h.index].substring(f[h.index].length-s);if(a.indexOf(v)>0)return m("convergence!")}return{ignored:l[0]??"",result:c[0]??"",shouldCancelRequest:!1}}o(z6t,"fetchCompletionUntilConvergence");function Y6t(e,t){let r=[],n=[];return new T_(async i=>{for await(let s of e)for(let a of s.choices){let l=a.index,c=a.text??"";if(!t||r[l]){i.emitOne({kind:"completion",index:l,text:c});continue}n[l]=(n[l]??"")+c;let u=n[l].match(t);!u||typeof u.index>"u"||(r[l]=!0,i.emitOne({kind:"ignore",index:l,text:n[l].substring(0,u.index+u[0].length)}),i.emitOne({kind:"completion",index:a.index,text:n[l].substring(u.index+u[0].length)}),n[l]=void 0)}for(let s=0;s<n.length;s++)typeof n[s]<"u"&&i.emitOne({kind:"ignore",index:s,text:n[s]})})}o(Y6t,"getTextAfterFirstPattern");function K6t(e,t,r){let n=t.startLineNumber,i=t.endLineNumberExclusive,s=r.slice(0);for(;n+1<i&&s.length>0;){let a=e[i-2],l=s[s.length-1];if(a!==l)break;i--,s.pop()}for(;n+1<i&&s.length>0;){let a=e[n-1],l=s[0];if(a!==l)break;n++,s.shift()}return new H1(new zn(n,i),s)}o(K6t,"createReducedLineEdit");var h6=class{constructor(t,r,n,i){this.languageId=t;this.oldLines=r;this.oldLines=r,this.edit=K6t(r,n,i);let s=new Is([this.edit]);this.newLines=s.apply(r)}static{o(this,"PossibleEdit")}hasEditWithinFirstLines(t){let r=this.oldLines.slice(this.edit.lineRange.startLineNumber-1,this.edit.lineRange.endLineNumberExclusive-1),n=this.edit.newLines;return s(r,n)<t;function s(a,l){for(let c=0;c<Math.min(a.length,l.length);c++)if(a[c]!==l[c])return c;return Math.min(a.length,l.length)}}resolveDiff(){let t=o((m,h,p)=>m.map(A=>{let x=h.lines.slice(A.originalStart,A.originalStart+A.originalLength),E=p.lines.slice(A.modifiedStart,A.modifiedStart+A.modifiedLength),v=x.join(`
`),b=E.join(`
`),{editDistance:S}=f(v,b);return new Fae(A.originalStart,A.originalLength,A.modifiedStart,A.modifiedLength,S)}),"computeEditDistances"),r=o(m=>{let h=0;for(let p of m)h+=p.editDistance;return{editDistance:h}},"computeDiffMetrics"),n=!1,i=new __(this.oldLines,n),s=new __(this.newLines,n),a=new B_(i,s),l=t(a.ComputeDiff(),i,s),c=r(l),u=[];{let m=0;for(let h of l)u=u.concat(this.oldLines.slice(m,h.originalStart)),u=u.concat(this.newLines.slice(h.modifiedStart,h.modifiedStart+h.modifiedLength)),m=h.originalStart+h.originalLength;u=u.concat(this.oldLines.slice(m))}if(Ete(this.newLines,u))return new Nae(this.languageId,this.oldLines,this.edit,this.newLines,l,c);return yFe(this.languageId,this.oldLines,u);function f(m,h){let p=new k_(m),A=new k_(h),E=new B_(p,A).ComputeDiff(),v=0,b=0;for(let F of E)v+=F.originalLength,b+=F.modifiedLength;let S=m.length,B=h.length,D=v+b;return{aChanged:v,bChanged:b,aLength:S,bLength:B,editDistance:D}}}},Fae=class{constructor(t,r,n,i,s){this.originalStart=t;this.originalLength=r;this.modifiedStart=n;this.modifiedLength=i;this.editDistance=s}static{o(this,"DiffChangeWithEditDistance")}},Nae=class{constructor(t,r,n,i,s,a){this.languageId=t;this.oldLines=r;this.edit=n;this.newLines=i;this.diff=s;this.diffMetrics=a;this.parseErrorCount="unknown"}static{o(this,"PossibleEditWithDiff")}toLineEdit(t){if(t==="single")return new Is([this.edit]);{let r=this.groupInHunks();return new Is(r.map(n=>{let i=n[0],s=n[n.length-1];return new H1(new zn(i.originalStart+1,s.originalStart+s.originalLength+1),this.newLines.slice(i.modifiedStart,s.modifiedStart+s.modifiedLength))}))}}eliminateLargeChangeHunks(){if(!Lae)return this;let t=this.groupInHunks(),r=[];for(let n of t)n.every(s=>s.originalLength===0)||n.reduce((a,l)=>a+l.editDistance,0)>j6t&&(r=r.concat(n));if(r.length===this.diff.length)return null;if(r.length>0){let n=this._recreateNewLinesWithoutDiffs(r);return this._createPossibleEditFromLines(n)}return this}containWithinLines(t){let r=this.groupInHunks(),n=[];for(let i of r)for(let s of i){let a=s.originalStart+1,l=s.originalStart+s.originalLength+1;if(!Mae(new zn(a,l),t)){n=n.concat(i);break}}if(n.length===this.diff.length)return null;if(n.length>0){let i=this._recreateNewLinesWithoutDiffs(n);return this._createPossibleEditFromLines(i).containWithinLines(t)}return this}groupInHunks(){let t=[];for(let r of this.diff){let n=t.length>0?t[t.length-1]:null;if(!n){t.push([r]);continue}let i=n[n.length-1],s=this.oldLines.slice(i.originalStart+i.originalLength,r.originalStart);if(s.length>1){t.push([r]);continue}if(s[0].trim().length>10){t.push([r]);continue}if(n.reduce((c,u)=>c+u.originalLength,0)>1){t.push([r]);continue}n.push(r)}return t}_recreateNewLinesWithoutDiffs(t){let r=[],n=0;for(let i of t)r=r.concat(this.newLines.slice(n,i.modifiedStart)),r=r.concat(this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength)),n=i.modifiedStart+i.modifiedLength;return r=r.concat(this.newLines.slice(n)),r}async resolveParseErrorCountIfPossible(t,r){let n=new Is([this.edit]),i=r(n);this.parseErrorCount=await P_(t,this.languageId,i)}eliminateEmptyLineChanges(){let t=o(r=>this._createPossibleEditFromLines(r).eliminateEmptyLineChanges(),"recurseWithNewLines");for(let r of this.diff){let n=this.oldLines.slice(r.originalStart,r.originalStart+r.originalLength),i=this.newLines.slice(r.modifiedStart,r.modifiedStart+r.modifiedLength);if(r.modifiedLength===0){if(n.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,0,...n),t(a)}continue}if(r.originalLength===0){if(i.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,r.modifiedLength),t(a)}continue}for(let s=0;s<n.length&&s<i.length;s++){let a=n[s],l=i[s],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+s,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+s,1),t(f)}}}for(let s=1;s<=n.length&&s<=i.length;s++){let a=n[n.length-s],l=i[i.length-s],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-s+1,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-s,1),t(f)}}}}return this}eliminateInsertedOrDeletedComments(){let t=[],r=0,n=!1;for(let i of this.diff){t=t.concat(this.newLines.slice(r,i.modifiedStart));let s=this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength),a=this.newLines.slice(i.modifiedStart,i.modifiedStart+i.modifiedLength),{hasChanges:l,newDiffModifiedLines:c}=this._eliminateCommentsDiff(s,a);n=n||l,t=t.concat(c),r=i.modifiedStart+i.modifiedLength}return t=t.concat(this.newLines.slice(r)),n?this._createPossibleEditFromLines(t):this}_eliminateCommentsDiff(t,r){if(r.length===0){let c=!1,u=!1;for(let f of t){if(f.trim().length===0)continue;let m=vW(f,this.languageId);m&&m.content.trim().length===0?c=!0:u=!0}if(c&&!u)return{hasChanges:!0,newDiffModifiedLines:t}}let n=t.map(c=>vW(c,this.languageId)),i=r.map(c=>vW(c,this.languageId)),s=n.filter(c=>!!c).length,a=i.filter(c=>!!c).length;if(s===0&&a===0)return{hasChanges:!1,newDiffModifiedLines:r};if(s>0)return{hasChanges:!1,newDiffModifiedLines:r};let l=!1;for(let c=0;c<r.length;c++){let u=r[c],f=i[c];if(!f)continue;let{content:m}=f;r[c]=u.substring(0,m.length).trimEnd(),l=!0}return{hasChanges:l,newDiffModifiedLines:r}}_createPossibleEditFromLines(t){return yFe(this.languageId,this.oldLines,t)}};function Mae(e,t){return t.startLineNumber<e.startLineNumber&&e.startLineNumber<t.endLineNumberExclusive&&e.endLineNumberExclusive<=t.endLineNumberExclusive}o(Mae,"editIsInsideEditWindow");function yFe(e,t,r){let i=t.length+1,s=r.slice(0);return new h6(e,t,new zn(1,i),s).resolveDiff()}o(yFe,"createPossibleEditFromLines");function SW(e,t,r,n,i,s){if(i.trim().length===0)return[];let a=f6.fromString(i.trimEnd()),l=s?a.some(E=>E.indexOf(s.omittedMessage)>=0):!1,c=[],u=o((E,v)=>{c.push(new h6(e,t,E,v))},"generateEdit");function f(){n&&u(n,a)}o(f,"generateEditCompletionRange");function m(){if(l)return;let v=new zn(r.endLineNumberExclusive,t.length+1);v.length>a.length+5||u(v,a)}o(m,"generateEditAllDoc");function h(){for(let E=1;E<a.length;E++){let b=a.slice(a.length-E).join(`
`);for(let S=r.endLineNumberExclusive-1;S<t.length;S++){let D=t.slice(S,S+E).join(`
`);b===D&&u(new zn(r.endLineNumberExclusive,S+1),a.slice(0,a.length-E))}}}o(h,"generateEditsUsingOverlappingLines");function p(){if(!s||!l)return;let E=[];for(let v of a){if(v.indexOf(s.omittedMessage)>=0){u(s.editRange,E.map(b=>b));return}E.push(v)}}if(o(p,"generateEditWhenReplyContainsOmittedMessage"),f(),p(),m(),h(),!i.endsWith(`
`)){let E=i.substring(0,i.lastIndexOf(`
`)+1);c.push(...SW(e,t,r,n,E,s))}return A(c);function A(E){return x(E,o(b=>b.edit.lineRange.startLineNumber+","+b.edit.lineRange.endLineNumberExclusive+","+b.edit.newLines.join("|"),"keyfn"))}function x(E,v){let b=new Set,S=[];for(let B of E){let D=v(B);b.has(D)||(b.add(D),S.push(B))}return S}}o(SW,"generatePossibleEdits");async function Oae(e,t,r,n){let a=t.filter(m=>m.hasEditWithinFirstLines(n.requireEditWithinNLines)).map(m=>m.resolveDiff()).map(m=>m.eliminateEmptyLineChanges()),l=wW?await P_(e,r.languageId,r.documentAfterEditsNoShortening.value):"unknown";if(wW){let m=o(h=>{let p=r.documentAfterEditsNoShortening;return r.toEditOnDocumentAfterEditsNoShortening(h).apply(p.value)},"applyToDocumentNoShortening");await Promise.all(a.map(h=>h.resolveParseErrorCountIfPossible(e,m)))}let c=a.filter(m=>l==="unknown"?m.parseErrorCount===0:m.parseErrorCount!=="unknown"&&m.parseErrorCount<=l),u=c.length>0?c:a;u.sort((m,h)=>m.parseErrorCount===h.parseErrorCount?0:m.parseErrorCount==="unknown"?1:h.parseErrorCount==="unknown"?-1:m.parseErrorCount-h.parseErrorCount);let f=o(m=>m.diffMetrics.editDistance,"score");return u.sort((m,h)=>f(m)-f(h)),u.length>0?u[0].edit:null}o(Oae,"selectBestEdit");function J6t(e){let r=[],n=e.documentLinesBeforeEdit,i=0,s=0,a=-1,l=o((c,u)=>{c>a+1&&r.push("[...]"),u?r.push(`-${n[c]}`):r.push(`${n[c]}`),a=c},"addOldLineIndex");for(let c of e.recentEdit.edits){for(;i<c.lineRange.startLineNumber-1;)Math.min(c.lineRange.startLineNumber-i-1,s>0?i-s-2:1073741824)<=2&&l(i,!1),i++;for(;i<c.lineRange.endLineNumberExclusive-1;)l(i,!0),i++;r.push(c.newLines.map(u=>`+${u}`).join(`
`)),s=c.lineRange.endLineNumberExclusive}for(;i<n.length;)i-s+2<=2&&l(i,!1),i++;return r.push("[...]"),r}o(J6t,"summariseDocDiff");function CFe(e){let t=[];for(let r of e.recentEdit.edits){let n=e.documentLinesBeforeEdit.slice(r.lineRange.startLineNumber-1,r.lineRange.endLineNumberExclusive-1),i=r.newLines;if(n.filter(a=>a.trim().length>0).length===0&&i.filter(a=>a.trim().length>0).length===0)continue;let s=r.lineRange.startLineNumber+e.clippingRange.startLineNumber-1;t.push(`@@ -${s},${n.length} +${s},${i.length} @@`),t.push(...n.map(a=>`-${a}`)),t.push(...i.map(a=>`+${a}`))}return t}o(CFe,"summarizeEditsAsUnifiedDiff");async function P_(e,t,r){return await e.getTreeSitterAST({languageId:t,getText:o(()=>r,"getText")})?.getParseErrorCount()??"unknown"}o(P_,"getParseErrorCount");d();var xFe=tt(EI());d();var Yy=class extends xFe.PromptRenderer{constructor(r,n,i={validate:!0},s,a,l){let c=s.acquireTokenizer({tokenizer:l.tokenizerName}),u={modelMaxPromptTokens:l.tokenBudget};super(u,r,n,c);this.options=i;this._instantiationService=a}static{o(this,"PromptRenderer")}static create(r,n,i,s={validate:!0}){return r.invokeFunction(a=>{let l=a.get(v_);return new Yy(n,i,s,l,r,a.get(hA))})}createElement(r,...n){return this._instantiationService.createInstance(r.ctor,r.props,...n)}async render(r,n,i){let s=await super.render(r,n);i={...{trace:!0},...i};for(let c=1;c<s.messages.length;c++){let u=s.messages[c],f=s.messages[c-1];u.role==="system"&&f.role==="system"&&(f.content+=`
`+u.content,s.messages.splice(c,1),c--)}let l=s.messages[s.messages.length-1];if(this.options.validate&&l&&l.role!=="user"&&l.role!=="function")throw new Error("Sorry, this message is too long. Please try a shorter question.");return{...s,references:[]}}async countTokens(r){return(await super.render(void 0,r)).tokenCount}};Yy=pu([Ia(3,v_),Ia(4,rg),Ia(5,hA)],Yy);d();var EFe=tt(EI());var _W=class extends EFe.PromptElement{static{o(this,"SafetyRules")}render(){return vscpp(vscppf,null,"Follow Microsoft content policies.",vscpp("br",null),"Avoid content that violates copyrights.",vscpp("br",null),`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,vscpp("br",null),"Keep your answers short and impersonal.",vscpp("br",null))}};d();d();var kW=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{o(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Mr(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=Hm(this.lineStartOffsetByLineIdx,s=>s<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new so(n,i)}getRange(t){return ci.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return zu.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new zu(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var Uae=class{static{o(this,"AbstractDocument")}rangeToOffsetRange(t){return new Mr(this.getOffsetAtPosition(t.start),this.getOffsetAtPosition(t.end))}offsetRangeToRange(t){return new nu(this.getPositionAtOffset(t.start),this.getPositionAtOffset(t.endExclusive))}},uh=class extends Uae{constructor(r){super();this.value=r;this._transformer=new kW(this.value)}static{o(this,"StringTextDocument")}getText(){return this.value}getLineText(r){let n=this._transformer.getOffset(new so(r+1,1)),i=n+this.getLineLength(r);return this.value.substring(n,i)}getLineLength(r){return this._transformer.getLineLength(r+1)}getLineCount(){return this._transformer.textLength.lineCount+1}getTextInOffsetRange(r){return r.substring(this.value)}getPositionAtOffset(r){return X6t(this._transformer.getPosition(r))}getOffsetAtPosition(r){return r=this._validatePosition(r),this._transformer.getOffset(Z6t(r))}_validatePosition(r){if(r.line<0)return new ho(0,0);let n=this._transformer.textLength.lineCount+1;if(r.line>=n){let s=this._transformer.getLineLength(n);return new ho(n-1,s)}if(r.character<0)return new ho(r.line,0);let i=this._transformer.getLineLength(r.line+1);return r.character>i?new ho(r.line,i):r}};function X6t(e){return new ho(e.lineNumber-1,e.column-1)}o(X6t,"corePositionToVSCodePosition");function Z6t(e){return new so(e.line+1,e.character+1)}o(Z6t,"vsCodePositionToCorePosition");d();d();function bFe(e){if(e.length===0)return 1/0;let t=e[0];for(let r=1;r<e.length;r++)t=Math.min(t,e[r]);return t}o(bFe,"min");d();function qae(e,t){let r=t(e);return{...r,range:[r.range.start,r.range.endExclusive],children:r.children?.map(n=>qae(n,t))}}o(qae,"toAstNode");function vFe(e,t){let r=vI(t,a=>a.endExclusive>=e.start),n=Hm(t,a=>a.start<=e.endExclusive)+1;if(r===n)return[e];let i=[],s=e.start;for(let a=r;a<n;a++){let l=t[a];l.start>s&&i.push(new Mr(s,l.start)),s=l.endExclusive}return s<e.endExclusive&&i.push(new Mr(s,e.endExclusive)),i}o(vFe,"subtractRange");d();d();d();var BW=class{static{o(this,"PrefixSumComputer")}constructor(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}getCount(){return this.values.length}insertValues(t,r){t=F4(t);let n=this.values,i=this.prefixSum,s=r.length;return s===0?!1:(this.values=new Uint32Array(n.length+s),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t),t+s),this.values.set(r,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(t,r){return t=F4(t),r=F4(r),this.values[t]===r?!1:(this.values[t]=r,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)}removeValues(t,r){t=F4(t),r=F4(r);let n=this.values,i=this.prefixSum;if(t>=n.length)return!1;let s=n.length-t;return r>=s&&(r=s),r===0?!1:(this.values=new Uint32Array(n.length-r),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t+r),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(t){return t<0?0:(t=F4(t),this._getPrefixSum(t))}_getPrefixSum(t){if(t<=this.prefixSumValidIndex[0])return this.prefixSum[t];let r=this.prefixSumValidIndex[0]+1;r===0&&(this.prefixSum[0]=this.values[0],r++),t>=this.values.length&&(t=this.values.length-1);for(let n=r;n<=t;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],t),this.prefixSum[t]}getIndexOf(t){t=Math.floor(t),this.getTotalSum();let r=0,n=this.values.length-1,i=0,s=0,a=0;for(;r<=n;)if(i=r+(n-r)/2|0,s=this.prefixSum[i],a=s-this.values[i],t<a)n=i-1;else if(t>=s)r=i+1;else break;return new Wae(i,t-a)}};var Wae=class{constructor(t,r){this.index=t;this.remainder=r;this._prefixSumIndexOfResultBrand=void 0;this.index=t,this.remainder=r}static{o(this,"PrefixSumIndexOfResult")}};var F_=class{static{o(this,"PositionOffsetTransformer")}constructor(t){this._lines=ty(t),this._eol=t.charAt(this._lines[0].length)==="\r"?`\r
`:`
`;let r=new Uint32Array(this._lines.length);for(let n=0;n<this._lines.length;n++)r[n]=this._lines[n].length+this._eol.length;this._lineStarts=new BW(r)}_getText(){return this._lines.join(this._eol)}applyOffsetEdits(t){let{edits:r}=t;for(let n=r.length-1;n>=0;n--){let i=r[n],s=this.toRange(i.replaceRange);this._acceptDeleteRange(s),this._acceptInsertText(s.start,i.newText)}}_acceptDeleteRange(t){if(t.start.line===t.end.line){if(t.start.character===t.end.character)return;this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.start.line].substring(t.end.character));return}this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.end.line].substring(t.end.character)),this._lines.splice(t.start.line+1,t.end.line-t.start.line),this._lineStarts.removeValues(t.start.line+1,t.end.line-t.start.line)}_acceptInsertText(t,r){if(r.length===0)return;let n=ty(r);if(n.length===1){this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]+this._lines[t.line].substring(t.character));return}n[n.length-1]+=this._lines[t.line].substring(t.character),this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]);let i=new Uint32Array(n.length-1);for(let s=1;s<n.length;s++)this._lines.splice(t.line+1+s-1,0,n[s]),i[s-1]=n[s].length+this._eol.length;this._lineStarts.insertValues(t.line+1,i)}_setLineText(t,r){this._lines[t]=r,this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}getLineCount(){return this._lines.length}getOffset(t){return t=this.validatePosition(t),this._lineStarts.getPrefixSum(t.line-1)+t.character}getPosition(t){t=Math.floor(t),t=Math.max(0,t);let r=this._lineStarts.getIndexOf(t),n=this._lines[r.index].length;return new ho(r.index,Math.min(r.remainder,n))}toRange(t){return new nu(this.getPosition(t.start),this.getPosition(t.endExclusive))}toOffsetRange(t){return new Mr(this.getOffset(t.start),this.getOffset(t.end))}toOffsetEdit(t){let r=t.map(n=>new a6(this.validateRange(n.range),n.newText));return new Ad(r.map(n=>new La(this.toOffsetRange(n.range),n.newText)))}toTextEdits(t){return t.edits.map(r=>new a6(this.toRange(r.replaceRange),r.newText))}validatePosition(t){if(!(t instanceof ho))throw new Error("Invalid argument");if(this._lines.length===0)return t.with(0,0);let{line:r,character:n}=t,i=!1;if(r<0)r=0,n=0,i=!0;else if(r>=this._lines.length)r=this._lines.length-1,n=this._lines[r].length,i=!0;else{let s=this._lines[r].length;n<0?(n=0,i=!0):n>s&&(n=s,i=!0)}return i?new ho(r,n):t}validateRange(t){return new nu(this.validatePosition(t.start),this.validatePosition(t.end))}};var RW=class{constructor(t,r){this.originalText=t;this.edits=r;this._positionOffsetTransformer=new _p(()=>new F_(this.text));this._originalPositionOffsetTransformer=new _p(()=>new F_(this.originalText));this._text=new _p(()=>this.edits.apply(this.originalText))}static{o(this,"ProjectedText")}get positionOffsetTransformer(){return this._positionOffsetTransformer.value}get originalPositionOffsetTransformer(){return this._originalPositionOffsetTransformer.value}get text(){return this._text.value}get lineCount(){return this.positionOffsetTransformer.getLineCount()}get isOriginal(){return this.edits.isEmpty||this.edits.isNoop(this.originalText)}project(t){return this.edits.applyToOffset(t)}projectOffsetRange(t){return this.edits.applyToOffsetRange(t)}projectRange(t){let r=this.originalPositionOffsetTransformer.toOffsetRange(t),n=this.projectOffsetRange(r);return this.positionOffsetTransformer.toRange(n)}projectOffsetEdit(t){return t.tryRebase(this.edits)}projectBack(t){return this.edits.applyInverseToOffset(t)}projectBackOffsetEdit(t){return t.tryRebase(this.edits.inverse(this.originalText))}projectBackTextEdit(t){let r=this.positionOffsetTransformer.toOffsetEdit(t),n=this.projectBackOffsetEdit(r);return this.originalPositionOffsetTransformer.toTextEdits(n)}};var Gae=class{constructor(t,r,n,i,s){this.parent=t;this.overlayNode=r;this.range=n;this.children=i;this._document=s}static{o(this,"RemovableNode")}get kind(){return this.overlayNode.kind}get text(){return this._document.getTextInOffsetRange(this.range)}},Tx=class extends RW{constructor(r,n){super(r.getText(),n);this.baseDocument=r}static{o(this,"ProjectedDocument")}getLanguageId(){return this.baseDocument.languageId}};function PW(e,t,r){let n=[],i=[],s=[];for(let l=0;l<r.length;l++){let{document:c,overlayNodeRoot:u,selection:f}=r[l],m=c.getText(),h=f?c.rangeToOffsetRange(f):void 0,p=IFe(u,c),A=Hae.fromRootNode(p,m),x=Vae.fromNode(A,!!t.tryPreserveTypeChecking,!!t.alwaysUseEllipsisForElisions);h&&x.visitAll(W=>W.node.range.intersectsOrTouches(h)?(W.node.children.length===0&&W.markAsSurviving(),!0):!1),n.push(x),i.push(x.getTextFragment());let E=o(W=>h?W.range.endExclusive<h.start?h.start-W.range.endExclusive:W.range.start>h.endExclusive?3*(W.range.start-h.endExclusive):0:0,"distanceScoreToSelection"),v=new U1(W=>h?W.children.length===0?W.range.intersectsOrTouches(h)?0:Number.MAX_SAFE_INTEGER:bFe(W.children.map(ee=>v.get(ee)))+1:0),b=new U1(W=>{let ee=W.parent?b.get(W.parent):Number.MAX_SAFE_INTEGER,de=v.get(W);return Math.min(ee,de)}),S=!!t.tryPreserveTypeChecking,B=o(W=>S&&W.node?.kind==="import_statement"?0:100*b.get(W)+W.depth+10*(E(W)/m.length),"costFn"),D=typeof t.costFnOverride=="object"?t.costFnOverride.createCostFn(c):t.costFnOverride;if(D!==void 0){let W=B;B=o(ee=>{let de=W(ee);return de===!1?!1:ee.node?D(ee.node,de,c):de},"costFn")}let F=x.getDescendantsAndSelf();for(let W of F){if(!W.node.node)continue;let ee=B(W.node);ee!==!1&&s.push({idx:l,node:W,cost:ee})}}s.sort(J5(l=>l.cost,X5));for(let{node:l,idx:c}of s){if(l.markAsSurviving(),n.reduce((f,m)=>f+m.getTextFragment().length,0)>e)break;i[c]=n[c].getTextFragment()}let a=[];for(let l=0;l<i.length;l++){let c=i[l],{document:u}=r[l],f=new Tx(u,c.toTextEditFromOriginal(u.getText().length)),m=f,h=n[l];m.getVisualization=()=>({$fileExtension:"ast.w",source:{value:f.originalText,decorations:vFe(Mr.ofLength(f.originalText.length),f.edits.edits.map(p=>p.replaceRange)).map(p=>({range:[p.start,p.endExclusive],color:"lime"}))},root:qae(h,p=>({label:(p.node.node?.kind||"unknown")+` (${s.find(A=>A.node===p)?.cost})`,range:p.node.range,children:p.childNodes,isMarked:p._surviving}))}),a.push(f)}return a}o(PW,"summarizeDocumentsSyncImpl");function IFe(e,t,r=void 0){let n=new Mr(e.startIndex,e.endIndex),i=[],s=new Gae(r,e,n,i,t);for(let a of e.children)i.push(IFe(a,t,s));return s}o(IFe,"createRemovableNodeFromOverlayNode");var Hae=class e{constructor(t,r,n,i,s,a){this.node=t;this.range=r;this.children=n;this.depth=i;this.parent=s;this.document=a}static{o(this,"TextNode")}static fromRootNode(t,r){let n=new Mr(0,r.length);if(t.range.equals(n))return e.fromNode(t,r);let i=new Mr(0,t.range.start),s=new Mr(t.range.endExclusive,r.length),a=[],l=new e(void 0,n,a,0,null,r);return i.isEmpty||a.push(new e(void 0,i,[],0,l,r)),a.push(e.fromNode(t,r,1,null)),s.isEmpty||a.push(new e(void 0,s,[],0,l,r)),l}static fromNode(t,r,n=0,i=null){let s=[],a=new e(t,t.range,s,n,i,r);if(t.children.length>0){let l=t.range.start;for(let u of t.children){let f=new Mr(l,u.range.start);f.isEmpty||s.push(new e(void 0,f,[],n,a,r)),s.push(e.fromNode(u,r,n+1,a)),l=u.range.endExclusive}let c=new Mr(l,t.range.endExclusive);c.isEmpty||s.push(new e(void 0,c,[],n,a,r))}return a}},Vae=class e{constructor(t,r,n,i,s){this.node=t;this.parent=r;this.childNodes=n;this._tryPreserveTypeChecking=i;this._alwaysUseEllipsisForElisions=s;this._surviving=!1;this._textFragment=null}static{o(this,"SurvivingTextNode")}static fromNode(t,r,n){return e.fromNodeParent(t,null,r,n)}static fromNodeParent(t,r,n,i){let s=[],a=new e(t,r,s,n,i);for(let l of t.children){let c=e.fromNodeParent(l,a,n,i);s.push(c)}return a}visitAll(t){if(t(this))for(let r of this.childNodes)r.visitAll(t)}markAsSurviving(){this._surviving||(this._surviving=!0,this.parent&&this.parent.markAsSurviving(),this.invalidate())}invalidate(){this._textFragment&&(this._textFragment=null,this.parent&&this.parent.invalidate())}getTextFragment(){return this._textFragment||(this._textFragment=this._computeSummarization()),this._textFragment}_computeSummarization(){if(this.childNodes.length===0&&(this._surviving||!this.node.node))return new pA(this.node.range,this.node.document);if(!this._surviving)return new Ix("");let t=[];for(let r of this.childNodes){let n=r.getTextFragment();if(n.length===0){t.length>0&&t[t.length-1].length===0||t.push(n);continue}e9t(t,n)}for(let r=0;r<=t.length-3;r++){let n=t[r],i=t[r+1],s=t[r+2];if(i.length===0&&n instanceof pA&&s instanceof pA){let a=n.trimEnd(),l=s.trimStart();a.endsWith("{")&&l.startsWith("}")&&(t[r]=a,t[r+1]=new Ix(this._tryPreserveTypeChecking?"/* ... */":"\u2026"),t[r+2]=l)}if(this._alwaysUseEllipsisForElisions&&i.length===0&&!(i instanceof pA)){let a=t[r].text,c=a.substring(a.lastIndexOf(`
`)+1).trim()===""?"":`
`,u=t[r+2].text,m=u.substring(0,u.indexOf(`
`)).trim()===""?"":`
`;t[r+1]=new Ix(c+(this._tryPreserveTypeChecking?"/* ... */":"\u2026")+m)}}return DW.from(t)}getDescendantsAndSelf(){let t=[];return this._getDescendantsAndSelf(t),t}_getDescendantsAndSelf(t){t.push(this);for(let r of this.childNodes)r._getDescendantsAndSelf(t)}},N_=class{static{o(this,"TextFragment")}toString(){return this.text}toTextEditFromOriginal(t){let r=[],n=0,i="";function s(l){(n!==l||i.length>0)&&(r.push(new La(new Mr(n,l),i)),i="")}o(s,"emit");function a(l){if(l instanceof DW)for(let c of l.fragments)a(c);else l instanceof Ix?i+=l.text:l instanceof pA&&(s(l.range.start),n=l.range.endExclusive)}return o(a,"process"),a(this),s(t),new Ad(r)}},Ix=class extends N_{constructor(r){super();this.text=r}static{o(this,"LiteralTextFragment")}get length(){return this.text.length}},pA=class e extends N_{constructor(r,n){super();this.range=r;this.originalText=n}static{o(this,"OriginalTextFragment")}get length(){return this.range.length}get text(){return this.range.substring(this.originalText)}trimStart(){let r=this.text.trimStart();return r.length===this.length?this:new e(new Mr(this.range.endExclusive-r.length,this.range.endExclusive),this.originalText)}trimEnd(){let r=this.text.trimEnd();return r.length===this.length?this:new e(new Mr(this.range.start,this.range.start+r.length),this.originalText)}startsWith(r){return this.text.startsWith(r)}endsWith(r){return this.text.endsWith(r)}tryJoin(r){return this.range.endExclusive===r.range.start?new e(new Mr(this.range.start,r.range.endExclusive),this.originalText):null}},DW=class e extends N_{constructor(r){super();this.fragments=r;this.length=this.fragments.reduce((r,n)=>r+n.length,0)}static{o(this,"ConcatenatedTextFragment")}static from(r){return r.length===0?new Ix(""):r.length===1?r[0]:new e(r)}get text(){return this.fragments.map(r=>r.text).join("")}};function e9t(e,t){if(t.length===0)return;let r=e[e.length-1];if(r&&r instanceof pA&&t instanceof pA){let n=r.tryJoin(t);if(n){e[e.length-1]=n;return}}e.push(t)}o(e9t,"pushFragment");d();d();var FW=class{constructor(t,r,n,i){this.startIndex=t;this.endIndex=r;this.kind=n;this.children=i;if(t>r)throw new gi("startIndex must be less than endIndex");let s=t;for(let a of i){if(a.startIndex<s)throw new gi("Invalid child startIndex");if(a.endIndex>r)throw new gi("Invalid child endIndex");s=Math.max(a.endIndex,s)}}static{o(this,"OverlayNode")}toString(){let t=[];function r(n,i=""){t.push(`${i}${n.kind} [${n.startIndex}, ${n.endIndex}]`),n.children.forEach(s=>r(s,i+"    "))}return o(r,"toString"),r(this),t.join(`
`)}};function wFe(e,t,r){let n=e.getText().split(/\r\n|\r|\n/g),i=r||{tabSize:4},s={getLineCount:o(()=>n.length,"getLineCount"),getLineContent:o(a=>n[a-1],"getLineContent"),getOptions:o(()=>i,"getOptions")};try{let a=t9t(s,t),[l]=SFe(e,a,void 0);return l.adjust(e,_Fe(t)),l.toOverlayNode(e,!0)}catch{return new NW(1,e.getLineCount(),[]).toOverlayNode(e,!0)}}o(wFe,"getStructureUsingIndentation");function SFe(e,t,r){if(typeof r<"u"&&r>=t.length)throw new Error(`Invalid region index ${r}`);let n=typeof r>"u"?1:t.getStartLineNumber(r),i=typeof r>"u"?e.getLineCount():t.getEndLineNumber(r),s=[],a=null;for(r=typeof r>"u"?0:r+1;r<t.length;){let l=t.getStartLineNumber(r),c=t.getEndLineNumber(r);if(l>i||c>i)break;let u=a;if([a,r]=SFe(e,t,r),u&&a.startLineNumber<=u.endLineNumber)throw new gi("Invalid Folding Ranges: overlapping children");if(a.startLineNumber<n)throw new gi("Invalid Folding Ranges: child starts before parent");s.push(a)}return[new NW(n,i,s),r]}o(SFe,"createFoldingRangeTree");var NW=class{constructor(t,r,n){this.startLineNumber=t;this.endLineNumber=r;this.children=n;if(t>r)throw new gi("Invalid Folding Ranges: startLineNumber > endLineNumber")}static{o(this,"FoldingRangeNode")}adjust(t,r){r?this._adjustOffside():this._adjustRegular(t,t.getLineCount())}_adjustOffside(){this.startLineNumber++;for(let t of this.children)t._adjustOffside()}_adjustRegular(t,r){if(this.endLineNumber<r){let n=t.getLineText(this.endLineNumber).trim(),i=/^[\}\]\)];?$/.test(n),s=/^<\/\w/.test(n);(i||s)&&this.endLineNumber++}for(let n=this.children.length-1;n>=0;n--){let i=this.children[n],s=n+1<this.children.length?this.children[n+1].startLineNumber-1:r;i._adjustRegular(t,s)}}toOverlayNode(t,r){let n=[],i=r&&this.startLineNumber===1?1:this.startLineNumber+1;for(let s of this.children){for(let a=i;a<s.startLineNumber;a++){let l=jae(t,a,a,"LINE",[]);l&&n.push(l)}n.push(s.toOverlayNode(t,!1)),i=s.endLineNumber+1}for(let s=i;s<this.endLineNumber;s++){let a=jae(t,s,s,"LINE",[]);a&&n.push(a)}return jae(t,this.startLineNumber,this.endLineNumber,"FOLD",n)}};function jae(e,t,r,n,i){let s=e.getOffsetAtPosition(new ho(t-1,0)),a=r<e.getLineCount()?new ho(r,0):new ho(r-1,e.getLineLength(r-1)),l=e.getOffsetAtPosition(a);return new FW(s,l,n,i)}o(jae,"createOverlayNode");function t9t(e,t){return r9t(e,_Fe(t))}o(t9t,"generateFoldingRegions");function _Fe(e){return["clojure","coffeescript","fsharp","latex","markdown","pug","python","sql","yaml"].includes(e)}o(_Fe,"isOffSide");function r9t(e,t){let r=e.getOptions().tabSize,n=new $ae,i=[],s=e.getLineCount()+1;i.push({indent:-1,endAbove:s,line:s});for(let a=e.getLineCount();a>0;a--){let l=e.getLineContent(a),c=i9t(l,r),u=i[i.length-1];if(c===-1){t&&(u.endAbove=a);continue}if(u.indent>c){do i.pop(),u=i[i.length-1];while(u.indent>c);let f=u.endAbove-1;f-a>=1&&n.insertFirst(a,f,c)}u.indent===c?u.endAbove=a:i.push({indent:c,endAbove:a,line:a})}return n.toIndentRanges()}o(r9t,"_computeRanges");var n9t=65535,wx=16777215,TFe=4278190080,$ae=class{static{o(this,"RangesCollector")}constructor(){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0}insertFirst(t,r,n){if(t>wx||r>wx)return;let i=this._length;this._startIndexes[i]=t,this._endIndexes[i]=r,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(){let t=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let n=this._length-1,i=0;n>=0;n--,i++)t[i]=this._startIndexes[n],r[i]=this._endIndexes[n];return new zae(t,r)}};function i9t(e,t){let r=0,n=0,i=e.length;for(;n<i;){let s=e.charCodeAt(n);if(s===32)r++;else if(s===9)r=r-r%t+t;else break;n++}return n===i?-1:r}o(i9t,"computeIndentLevel");var zae=class{static{o(this,"FoldingRegions")}constructor(t,r){this._startIndexes=t,this._endIndexes=r,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let t=[],r=o((n,i)=>{let s=t[t.length-1];return this.getStartLineNumber(s)<=n&&this.getEndLineNumber(s)>=i},"isInsideLast");for(let n=0,i=this._startIndexes.length;n<i;n++){let s=this._startIndexes[n],a=this._endIndexes[n];if(s>wx||a>wx)throw new Error("startLineNumber or endLineNumber must not exceed "+wx);for(;t.length>0&&!r(s,a);)t.pop();let l=t.length>0?t[t.length-1]:-1;t.push(n),this._startIndexes[n]=s+((l&255)<<24),this._endIndexes[n]=a+((l&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(t){return this._startIndexes[t]&wx}getEndLineNumber(t){return this._endIndexes[t]&wx}getParentIndex(t){this.ensureParentIndices();let r=((this._startIndexes[t]&TFe)>>>24)+((this._endIndexes[t]&TFe)>>>16);return r===n9t?-1:r}contains(t,r){return this.getStartLineNumber(t)<=r&&this.getEndLineNumber(t)>=r}findIndex(t){let r=0,n=this._startIndexes.length;if(n===0)return-1;for(;r<n;){let i=Math.floor((r+n)/2);t<this.getStartLineNumber(i)?n=i:r=i+1}return r-1}findRange(t){let r=this.findIndex(t);if(r>=0){if(this.getEndLineNumber(r)>=t)return r;for(r=this.getParentIndex(r);r!==-1;){if(this.contains(r,t))return r;r=this.getParentIndex(r)}}return-1}};d();function Yae(e){return e instanceof Error?e:typeof e=="string"?new Error(e):new Error(`An unexpected error occurred: ${e}`)}o(Yae,"fromUnknown");var el=tt(EI());var LW="current-version",uf="next-version",kFe=2,BFe=10,RFe=.7,a9t=/```[^\n]*\n/,Ky=class extends xW{constructor(r,n,i){super(Ky.ID,[s=>new IW(s),s=>new EW(s),s=>new bW(s)]);this.fetcher=r;this._parserService=n;this._instantiationService=i;this.dependsOnSelection=!0;this.showNextEditPreference="always";this._delayer=new AW}static{o(this,"GhNearbyNesProvider")}static{this.ID="GhNearbyNesProvider"}canReuseResult(r,n){if(r.getActiveDocument().id!==n.getActiveDocument().id||r.documents.length!==n.documents.length)return!1;let i=new Map(r.documents.map(a=>[a.id,a]));for(let a of n.documents){let l=i.get(a.id);if(!l||!s(l,a))return!1}return!0;function s(a,l){if(a.documentAfterEditsNoShortening.value!==l.documentAfterEditsNoShortening.value)return!1;let c=D_(a),u=c?Kae(a,c):null,f=D_(l),m=f?Kae(l,f):null;return!u||!m?!0:Math.abs(u.line-m.line)<Math.min(kFe,BFe)}}handleAcceptance(){this._delayer.handleAcceptance()}handleRejection(){this._delayer.handleRejection()}async provideNextEditBase(r,n){let i=new c6(r),s=this._delayer.createDelaySession(),a;try{a=await this.doGetNextEdit(r,i,s,n)}catch(c){return Zi.noEdit({kind:"unexpected",error:Yae(c)},i)}let l=s.getArtificalDelay();return l>0&&await vx(l),a}async doGetNextEdit(r,n,i,s){return r.documents.some(c=>{if(c.recentEdit.edits.length===0)return!1;for(let u of c.recentEdit.edits)if(!u.lineRange.isEmpty||u.newLines.length>0)return!0;return!1})?await this.sendRequestAndProcessResult(r,i,s,n):Zi.noEdit({kind:"activeDocumentHasNoEdits"},n)}async sendRequestAndProcessResult(r,n,i,s){let a=await this.createPrompt(r,i);if(!a)return Zi.noEdit({kind:"noSuggestions"},s);if(!a.editWindowIsInPrompt)return Zi.noEdit({kind:"filteredOut",message:"promptTooLarge"},s);if(await this.debounce(n,s),i.isCancellationRequested){let B={kind:"gotCancelled",message:"afterDebounce"};return Zi.noEdit(B,s)}let{summarizedEditWindow:l,editWindowAllowedEditLineRange:c,allowedEditLineRange:u,maxCompletionLineCount:f,messages:m,completionPrefixRange:h,completionRange:p,convergence:A,activeDocument:x,activeDocumentLines:E}=a;s.setFetchStartedAt(),r.fetchIssued=!0;let v=await Qae(this.ID,this.fetcher,m,{convergence:A,ignoreReplyTextBefore:a9t,maxCompletionLineCount:f,convergenceNonWhitespaceCharOverlap:1e3},i);if(s.setFetchResultIfNotSet(v.isOk()?"success":v.err.kind==="cancel"||i.isCancellationRequested?"cancelled":"failure"),i.isCancellationRequested)return Zi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},s);if(v.isError())return v.err.kind==="cancel"?Zi.noEdit({kind:"gotCancelled",message:"afterFetchCall"},s):Zi.noEdit({kind:"fetchFailure",error:Yae(v.err.err)},s);let{result:b}=v.val;if(b.length===0){let B=`<${uf}>
`,D=v.val.ignored.indexOf(B);D>=0&&(b=v.val.ignored.substring(D+B.length))}if(b=l9t(b),b.trim().length===0)return Zi.noEdit({kind:"noSuggestions"},s);let S;if(l&&c&&u){let B=c9t(x,l,c,b);if(!B||B.edits.length===0)return Zi.noEdit({kind:"filteredOut",message:"Content is identical or cannot get clean diff within edit window"},s);let D=u9t(l,B);if(D.edits.length===0)return Zi.noEdit({kind:"filteredOut",message:"No-op edit or could not map back to original document"},s);if(wW){let ee=await P_(this._parserService,x.languageId,x.documentAfterEditsNoShortening.value),de=D.apply(x.documentAfterEditsNoShortening.value);if(await P_(this._parserService,x.languageId,de)>ee)return Zi.noEdit({kind:"filteredOut",message:"More parse errors after edit"},s)}S=f9t(x,D);let F=S.edits[0].lineRange.startLineNumber,W=S.edits[S.edits.length-1].lineRange.endLineNumberExclusive;if(!Mae(new zn(F,W),u))return Zi.noEdit({kind:"filteredOut",message:"Outside edit window after projection"},s)}else{let B=SW(x.languageId,E,h,p,b,void 0),D=await Oae(this._parserService,B,x,{requireEditWithinNLines:100});if(!D)return Zi.noEdit({kind:"filteredOut",message:"Could not identify best edit"},s);S=new Is([D])}return d9t(x,S)?Zi.noEdit({kind:"filteredOut",message:"Undo of recent edit"},s):m9t(x,S)?Zi.noEdit({kind:"filteredOut",message:"Deletion of recent insertion"},s):h9t(x,S)?Zi.noEdit({kind:"filteredOut",message:"uncategorized"},s):p9t(x,S)?Zi.noEdit({kind:"filteredOut",message:"uncategorized"},s):Zi.edit({edit:S},s)}async debounce(r,n){let i=r.getDebounceTime();n.setDebounceTime(i),await vx(i)}async createPrompt(r,n){let i=r.getActiveDocument(),a=i.documentAfterEdits.value.includes(`\r
`)?`\r
`:`
`,l=i.documentAfterEdits.value.split(a),c=D_(i);if(c===null)return;let u=Kae(i,c),f=new uh(i.documentAfterEditsNoShortening.value),m=await y9t(this._parserService,{getText:o(()=>f.getText(),"getText"),languageId:i.languageId}),{firstEditableLineInShortenedDocument:h,lastEditableLineInShortenedDocument:p,editWindow:A}=function(){let de=g9t(i.documentAfterEditsLines,c.startLineNumber),X=Math.max(1,Math.min(de,c.startLineNumber-kFe)),G=c.startLineNumber-X,U=Math.min(l.length,c.endLineNumber+BFe),ie=U-c.endLineNumber,z=u.line-G,H=u.line+ie,M=new nu(z,0,H,f.getLineLength(H));return{firstEditableLineInShortenedDocument:X,lastEditableLineInShortenedDocument:U,editWindow:M}}(),x=PW(0,{alwaysUseEllipsisForElisions:!0},[{overlayNodeRoot:m,document:f,selection:A}])[0],E=new zn(1,h),v=new zn(h,p+1),b=x.text,{messages:S,prediction:B,editWindowIsInPrompt:D}=await this._renderPrompt({request:r,activeDocumentSlice:b,languageId:i.languageId},n),F=b.split(/\r\n|\r|\n/).length,W=x.projectRange(A),ee=x.positionOffsetTransformer.toOffsetRange(W);return{summarizedEditWindow:x,editWindowAllowedEditLineRange:new zn(W.start.line+1,W.end.line+2),allowedEditLineRange:new zn(h,p+1),messages:S,prediction:B,editWindowIsInPrompt:D,activeDocument:i,activeDocumentLines:l,completionPrefixRange:E,completionRange:v,convergence:b,expectedConvergencePrefix:ee.start,maxCompletionLineCount:F+20}}async _renderPrompt(r,n){let s=await Yy.create(this._instantiationService,Xae,r).render(void 0,n,{trace:!1}),a=s.metadata.get(qW)?.prediction,l=!!s.metadata.get(MW);return{messages:s.messages,prediction:a,editWindowIsInPrompt:l}}};Ky=pu([Ia(0,hA),Ia(1,mA),Ia(2,rg)],Ky);function l9t(e){function t(r,n,i){let s=r.lastIndexOf(n);if(s===-1)return r;let a=r.slice(0,s);return a.trim().length>0?a+i:a}return o(t,"getStringBeforeLastPattern"),e=t(e,"\n```",`
`),e=t(e,`\`\`\`</${uf}>`,`
`),e=t(e,`\`\`\`
</${uf}>`,`
`),e=t(e,`</${uf}>`,`
`),e}o(l9t,"removeSuffixFromReply");function Kae(e,t){let r=e.documentAfterEdits.getTransformer().getOffset(t.getEndPosition()),n=e.toOffsetOnDocumentAfterEditsNoShortening(r);return new uh(e.documentAfterEditsNoShortening.value).getPositionAtOffset(n)}o(Kae,"getCursorPositionInOuterDocument");function c9t(e,t,r,n){let i=f6.fromString(t.text),s=f6.fromString(n.trimEnd()),l=new h6(e.languageId,i,new zn(1,i.length+1),s).resolveDiff().eliminateEmptyLineChanges().eliminateInsertedOrDeletedComments().eliminateEmptyLineChanges(),c=t.isOriginal?l:l.containWithinLines(r);if(!c)return null;let u=Lae?c.eliminateLargeChangeHunks():c;return u?u.toLineEdit("multiple-hunks"):null}o(c9t,"generateSummarizedEditWindowEdit");function u9t(e,t){let r=t.toEdit(new yl(e.text));return e.projectBackOffsetEdit(r.toOffsetEdit())}o(u9t,"convertSummarizedEditWindowEditToOuterDocumentEdit");function f9t(e,t){let r=t.edits.map(i=>{let s=i.replaceRange.start,a=e.toProjectedOffset(s);return vs.replace(new Mr(a,a+i.replaceRange.length),i.newText)}),n=new Yu(e.documentAfterEdits,is.create(r));return Is.fromEdit(n)}o(f9t,"convertOuterDocumentEditToProjectedEdit");function d9t(e,t){let r=t.toEdit(e.documentAfterEdits),n=DFe(e.documentAfterEdits.value,r),i=new QW,s=e.documentBeforeEdits.value;for(let a of e.recentEdits.edits)i=i.combine(DFe(s,a)),s=a.apply(s);return!!i.isUndoneBy(n)}o(d9t,"editWouldUndo");function m9t(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!LFe(r))return!1;for(let n=e.recentEdits.edits.length-1;n>=0;n--){let i=e.recentEdits.edits[n],s=r.tryRebase(i);if(!s)return!0;r=s}return!1}o(m9t,"editWouldDeleteWhatWasJustInserted");function h9t(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!LFe(r))return!1;for(let n of r.edits){let i=e.documentAfterEdits.value.substring(n.range.start,n.range.endExclusive);if(Dae(i,e.languageId))return!0}return!1}o(h9t,"editWouldDeleteAComment");function p9t(e,t){if(t.edits.length!==1)return!1;let r=t.edits[0];if(!r.lineRange.isEmpty)return!1;let n=o(l=>l.trim().length>5,"isSignificantLine"),i=new Set(r.newLines.filter(n));if(i.size>1)return!1;let s=new Set(e.documentAfterEditsLines.filter(n));return Jae(s,i)/i.size>.8}o(p9t,"editWouldDuplicateExistingLines");function LFe(e){let t=e.edits.reduce((n,i)=>n+i.range.length,0);return e.edits.reduce((n,i)=>n+i.newText.length,0)===0&&t>0}o(LFe,"editIsDeletion");function g9t(e,t){for(;t>0;){if(e[t-1].trim().length>0)return t;t--}return 1}o(g9t,"findLineNumberAboveWithContent");var QW=class e{constructor(t=new Set,r=new Set){this.inserted=t;this.deleted=r}static{o(this,"InformationDelta")}combine(t){return new e(FFe(this.inserted,t.inserted),FFe(this.deleted,t.deleted))}isUndoneBy(t){let r=NFe(t.inserted,t.deleted),n=NFe(t.deleted,t.inserted),i=Jae(n,this.inserted),s=Jae(r,this.deleted);return n.size>6&&i/n.size>RFe||r.size>6&&s/r.size>RFe}};function DFe(e,t){let r=new Set,n=new Set,i=o(a=>{if(!a)return;let l=e.substring(a.start,a.endExclusive);for(let c of l.split(/\r\n|\r|\n/)){c=c.trim();for(let u of PFe(c))n.add(u)}},"tryAddDeleted"),s=o(a=>{for(let l of a.split(/\r\n|\r|\n/)){l=l.trim();for(let c of PFe(l))r.add(c)}},"tryAddInserted");for(let a of t.edits){let l=a.removeCommonPrefix(e).removeCommonSuffix(e),c=a.removeCommonSuffix(e).removeCommonPrefix(e);l.isNeutral()||(i(l.range),i(c.range),i(l.range.intersect(c.range)),s(A9t(l.newText,c.newText)))}return new QW(r,n)}o(DFe,"getInformationDelta");function A9t(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let i=e.slice(0,e.length-n),s=t.slice(n);if(i===s)return i}return""}o(A9t,"trimOverlap");function PFe(e){let t=[];for(let r=4;r<e.length;r++){let n=e.slice(r-4,r);t.push(n)}return t}o(PFe,"to4grams");function FFe(e,t){let r=new Set;for(let n of e)r.add(n);for(let n of t)r.add(n);return r}o(FFe,"setUnion");function NFe(e,t){let r=new Set;for(let n of e)t.has(n)||r.add(n);return r}o(NFe,"setMinus");function Jae(e,t){let r=0;for(let n of e)t.has(n)&&r++;return r}o(Jae,"setIntersectionCount");async function y9t(e,t){let n=await e.getTreeSitterAST(t)?.getStructure();return n||wFe(new uh(t.getText()),t.languageId,void 0)}o(y9t,"getStructure");var Xae=class extends el.PromptElement{static{o(this,"GHNearbyPrompt")}async render(t,r){let{request:n,activeDocumentSlice:i,languageId:s}=this.props,a=[`<${uf}>`,`\`\`\`${s}`,`${i}`,"```",`</${uf}>`].join(`
`),l=(0,el.useKeepWith)();return vscpp(vscppf,null,vscpp("meta",{value:new qW(a)}),vscpp(el.SystemMessage,{priority:1e3},vscpp(_W,null),this._getInstructions()),vscpp(el.UserMessage,{priority:900},"These are the files I'm working on, before I started making changes to them:",vscpp("br",null),"<original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(el.Chunk,{priority:300},vscpp(OW,{doc:c}))):vscpp(el.Chunk,{priority:100+u},vscpp(OW,{doc:c}))),vscpp("br",null),"</original_code>",vscpp("br",null),vscpp("br",null),"This is a sequence of edits that I made on these files, starting from the oldest to the newest:",vscpp("br",null),"<edits_to_original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(el.Chunk,{priority:300},vscpp(UW,{doc:c}))):vscpp(el.Chunk,{priority:200+u},vscpp(UW,{doc:c}))),vscpp("br",null),"</edits_to_original_code>",vscpp("br",null),vscpp("br",null),vscpp(l,{priority:300},vscpp(el.Chunk,{priority:300},vscpp("meta",{local:!0,value:new MW}),"Here is the piece of code I am currently editing in"," ",n.getActiveDocument().getDisplayPath(),":",vscpp("br",null),vscpp("br",null),"<",LW,">",vscpp("br",null),"```",s,vscpp("br",null),i,vscpp("br",null),"```",vscpp("br",null),"</",LW,">",vscpp("br",null),vscpp("br",null),"Based on my most recent edits, what will I do next? Rewrite the code between <",LW,"> and </",LW,"> based on what I will do next. Do not skip any lines. Do not be lazy.",vscpp("br",null)))))}_getInstructions(){switch("v1"){case"v1":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Make only the necessary changes as indicated by the context.",vscpp("br",null),"- Avoid unnecessary rewrites and make only the necessary changes, using ellipses to indicate partial code where appropriate.",vscpp("br",null),"- Ensure all specified additions, modifications, and new elements (e.g., methods, parameters, function calls) are included in the response.",vscpp("br",null),"- Adhere strictly to the provided pattern, structure, and content, including matching the exact structure and formatting of the expected response.",vscpp("br",null),"- Maintain the integrity of the existing code while making necessary updates.",vscpp("br",null),"- Provide complete and detailed code snippets without omissions, ensuring all necessary parts such as additional classes, methods, or specific steps are included.",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Match the expected response exactly, even if it includes errors or corruptions, to ensure consistency.",vscpp("br",null),"- Do not alter method signatures, add or remove return values, or modify existing logic unless explicitly instructed.",vscpp("br",null),"- You must ONLY reply using the tag: <",uf,">.");case"v2":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- Ensure that all necessary conditional logic and key-value pairs are preserved in the updated code.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Avoid introducing unnecessary variables or methods that are not part of the original code structure.",vscpp("br",null),"- You must ONLY reply using the tag: <",uf,">.",vscpp("br",null),"- Provide a complete and functional code snippet without placeholders or incomplete sections unless explicitly required.");default:return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is currently edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on. Some examples are:",vscpp("br",null),"- Further implementing a class, method, or variable.",vscpp("br",null),"- Improving quality of the code.",vscpp("br",null),"- Making sure the programmer does not get distracted - make sure the next changes are relevant.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- If you think changes should be made, ask yourself if this is really what needs to happen. If you are confident about it, then continue with the edits.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- You must ONLY reply using the tag: <",uf,">.:",vscpp("br",null),"- If you see further edits to make to the programmer's code, you must provide the updated code in the <",uf,"> tag.:",vscpp("br",null),"- If the programmer's code is already correct and requires no further edits, simply answer with <",uf,">IDENTICAL</",uf,">.",vscpp("br",null),"- Make sure that the indentation level of any new code is correct and consistent with the existing code.",vscpp("br",null),vscpp("br",null),"Remember, you must ONLY respond using the tag: <",uf,">.")}}},MW=class extends el.PromptMetadata{static{o(this,"EditWindowMarkerMetadata")}},OW=class extends el.PromptElement{static{o(this,"OriginalDocument")}async render(t,r){let{doc:n}=this.props,i=[];for(let s=0;s<n.documentLinesBeforeEdit.length;s++){let a=n.documentLinesBeforeEdit[s];i.push(`${n.clippingRange.startLineNumber+s}\u2502${a}`)}return vscpp(vscppf,null,n.getDisplayPath(),":",vscpp("br",null),i.join(`
`))}},UW=class extends el.PromptElement{static{o(this,"DocumentDiffs")}async render(t,r){let{doc:n}=this.props,i=[];return i.push("```"),i.push(`---${n.getDisplayPath()}:`),i.push(`+++${n.getDisplayPath()}:`),i.push(...CFe(n)),i.push("```"),vscpp(vscppf,null,i.join(`
`))}},qW=class extends el.PromptMetadata{constructor(r){super();this.prediction=r}static{o(this,"PredictionMetadata")}};d();d();var WW=class extends fa{constructor(r){super();this.workspace=r;this._garbageCollector=new tle(20);this._documentCaches=new Map;M1(this,r.openDocuments,(n,i)=>{let s=new Zae(n.id,n.value.get(),this._garbageCollector);this._documentCaches.set(s.docId,s),i.add(MI(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)s.handleEdit(l)})),i.add(da(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{o(this,"RejectionCollector")}reject(r,n){let i=this._documentCaches.get(r);i&&i.reject(n)}isRejected(r,n){let i=this._documentCaches.get(r);return i?i.isRejected(n):!1}},Zae=class{constructor(t,r,n){this.docId=t;this._garbageCollector=n;this._rejectedEdits=new Set}static{o(this,"DocumentRejectionTracker")}handleEdit(t){for(let r of[...this._rejectedEdits])r.handleEdit(t)}reject(t){if(this.isRejected(t))return;let r=new ele(t.toEdit(),()=>{this._rejectedEdits.delete(r)});this._rejectedEdits.add(r),this._garbageCollector.put(r)}isRejected(t){for(let r of this._rejectedEdits)if(r.isRejected(t))return!0;return!1}},ele=class{constructor(t,r){this._edit=t;this._onDispose=r}static{o(this,"RejectedEdit")}handleEdit(t){let r=this._edit.tryRebase(t);r?this._edit=r:this.dispose()}isRejected(t){return this._edit.equals(t.toEdit())}dispose(){this._onDispose()}},tle=class{constructor(t){this._maxSize=t;this._disposables=[]}static{o(this,"LRUGarbageCollector")}put(t){this._disposables.push(t),this._disposables.length>this._maxSize&&this._disposables.shift().dispose()}dispose(){for(let t of this._disposables)t.dispose();this._disposables=[]}};d();d();d();var L_=class{constructor(t,r){this.prev=null;this.next=null;this.key=t,this.value=r}static{o(this,"Node")}},GW=class{static{o(this,"LRUCache")}constructor(t=10){if(t<1)throw new Error("Cache size must be at least 1");this._capacity=t,this._cache=new Map,this._head=new L_("",null),this._tail=new L_("",null),this._head.next=this._tail,this._tail.prev=this._head}_addNode(t){t.prev=this._head,t.next=this._head.next,this._head.next.prev=t,this._head.next=t}_removeNode(t){let r=t.prev,n=t.next;r.next=n,n.prev=r}_moveToHead(t){this._removeNode(t),this._addNode(t)}_popTail(){let t=this._tail.prev;return this._removeNode(t),t}clear(){this._cache.clear(),this._head.next=this._tail,this._tail.prev=this._head}deleteKey(t){let r=this._cache.get(t);if(r)return this._removeNode(r),this._cache.delete(t),r.value}get(t){let r=this._cache.get(t);if(r)return this._moveToHead(r),r.value}keys(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.key),r=r.next;return t}getValues(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.value),r=r.next;return t}put(t,r){let n=this._cache.get(t);if(n)n.value=r,this._moveToHead(n);else if(n=new L_(t,r),this._cache.set(t,n),this._addNode(n),this._cache.size>this._capacity){let i=this._popTail();return this._cache.delete(i.key),[i.key,i.value]}}};var HW=class extends fa{constructor(r){super();this.workspace=r;this._documentCaches=new Map;this._sharedCache=new GW(50);M1(this,r.openDocuments,(n,i)=>{let s=new rle(n.id,n.value.get(),this._sharedCache);this._documentCaches.set(s.docId,s),i.add(MI(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)s.handleEdit(l)})),i.add(da(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{o(this,"NextEditCache")}setNextEdits(r,n,i){let s=this._documentCaches.get(r);s&&s.setNextEdits(n,i)}lookupNextEdit(r){let n=this._documentCaches.get(r);if(n)return n.lookupNextEdit()}},rle=class{constructor(t,r,n){this.docId=t;this._sharedCache=n;this._value=r}static{o(this,"DocumentEditCache")}handleEdit(t){this._value=this._value.apply(t)}setNextEdits(t,r){let n=this._value;for(let i=0;i<t.edits.length;i++){let s=t.edits[i],a=this._getKey(n.value);this._sharedCache.put(a,{edit:s,subsequentN:i,source:r,documentBeforeEdit:n}),n=n.apply(s.toEdit())}}lookupNextEdit(){let t=this._getKey(this._value.value),r=this._sharedCache.get(t);if(r)return r}_getKey(t){return JSON.stringify([this.docId.uri,t])}};d();var VW=class e{constructor(t){this._providerId=t;this._isFromCache=!1;this._wasPreviouslyRejected=!1;this._isShown=!1;this._acceptance="notAccepted";this._startTime=Date.now(),this._requestN=++e.requestN}static{o(this,"NextEditProviderTelemetryBuilder")}static{this.requestN=0}build(){let t,r,n,i,s,a;if(this._request){let c=this._request.getActiveDocument();t=this._request.documents.length,r=this._request.documents.reduce((u,f)=>u+f.recentEdits.edits.length,0),n=c.recentEdits.edits.length,i=c.languageId,s=c.lineCountBeforeClipping,a=c.clippingRange.length}let l=this._statelessNextEditTelemetry?.fetchStartedAt===void 0?void 0:this._statelessNextEditTelemetry.fetchStartedAt-this._startTime;return{opportunityId:this._opportunityId||"",headerRequestId:this._headerRequestId||"",requestN:this._requestN,providerId:this._providerId,nextEditProviderDuration:this._duration||0,isFromCache:this._isFromCache,subsequentEditOrder:this._subsequentEditOrder,documentShorteningStrategy:this._documentShorteningStrategy,documentsCount:t,editsCount:r,activeDocumentEditsCount:n,activeDocumentLanguageId:i,activeDocumentOriginalLineCount:s,activeDocumentShortenedLineCount:a,fetchStartedAfterMs:l,wasPreviouslyRejected:this._wasPreviouslyRejected,isShown:this._isShown,acceptance:this._acceptance,...this._statelessNextEditTelemetry}}setOpportunityId(t){return this._opportunityId=t,this}setHeaderRequestId(t){return this._headerRequestId=t,this}setIsFromCache(){return this._isFromCache=!0,this}setSubsequentEditOrder(t){return this._subsequentEditOrder=t,this}setDocumentShorteningStrategy(t){return this._documentShorteningStrategy=t,this}setRequest(t){return this._request=t,this}setStatelessNextEditTelemetry(t){return this._statelessNextEditTelemetry=t,this}setWasPreviouslyRejected(){return this._wasPreviouslyRejected=!0,this}markEndTime(){return this._duration=Date.now()-this._startTime,this}setAsShown(){return this._isShown=!0,this}setAcceptance(t){return this._acceptance=t,this}},p6=class{constructor(t){this.telemetrySender=t;this._map=new Map}static{o(this,"TelemetrySender")}markNextEditResultAsShown(t){let r=this._map.get(t);r&&r.builder.setAsShown()}scheduleSendingTelemetry(t,r){let n=setTimeout(()=>{this._doSendTelemetry(r),this._map.delete(t)},12e4);this._map.set(t,{builder:r,timeout:n})}sendTelemetryFor(t,r){let n=this._map.get(t);if(!n)return;this._map.delete(t),clearTimeout(n.timeout);let i=n.builder;i.setAcceptance(r),this._doSendTelemetry(i)}sendTelemetry(t){this._doSendTelemetry(t)}_doSendTelemetry(t){let r=t.build(),{opportunityId:n,headerRequestId:i,requestN:s,providerId:a,hadStatelessNextEditProviderCall:l,statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:f,subsequentEditOrder:m,documentShorteningStrategy:h,activeDocumentLanguageId:p,activeDocumentOriginalLineCount:A,activeDocumentShortenedLineCount:x,wasPreviouslyRejected:E,isShown:v,acceptance:b,logProbThreshold:S,documentsCount:B,editsCount:D,activeDocumentEditsCount:F,promptLineCount:W,promptCharCount:ee,isDefaultEndpoint:de,hadLowLogProbSuggestion:X,nonTerminatingError:G,nEditsSuggested:U,kthEditPicked:ie,lineDistanceToMostRecentEdit:z,debounceTime:H,hasNextEdit:M,nextEditLogprob:j,maxLinesPerEdit:Z,noNextEditReasonKind:ae,noNextEditReasonMessage:ne,firstEditStrategy:le,firstPickStrategyOverride:fe,fetchTime:Re,fetchResult:Ee,fetchError:Oe,fetchStartedAfterMs:Be}=r;this._sendTelemetryToBoth({opportunityId:n,headerRequestId:i,providerId:a,documentShorteningStrategy:h,activeDocumentLanguageId:p,acceptance:b,nonTerminatingError:G,noNextEditReasonKind:ae,noNextEditReasonMessage:ne,firstEditStrategy:le,firstPickStrategyOverride:fe,fetchResult:Ee,fetchError:Oe},{requestN:s,hadStatelessNextEditProviderCall:this._boolToNum(l),statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:this._boolToNum(f),subsequentEditOrder:m,isDefaultEndpoint:this._boolToNum(de),activeDocumentOriginalLineCount:A,activeDocumentShortenedLineCount:x,wasPreviouslyRejected:this._boolToNum(E),isShown:this._boolToNum(v),logProbThreshold:S,documentsCount:B,editsCount:D,activeDocumentEditsCount:F,promptLineCount:W,promptCharCount:ee,hadLowLogProbSuggestion:this._boolToNum(X),nEditsSuggested:U,kthEditPicked:ie,lineDistanceToMostRecentEdit:z,debounceTime:H,fetchStartedAfterMs:Be,fetchTime:Re,hasNextEdit:this._boolToNum(M),nextEditLogprob:j,maxLinesPerEdit:Z})}_sendTelemetryToBoth(t,r){this.telemetrySender.sendTelemetryEvent("copilot-nes/provideInlineEdit",t,r)}_boolToNum(t){return t===void 0?void 0:t?1:0}};p6=pu([Ia(0,pW)],p6);d();var g6=class{constructor(t){this.result=t}static{o(this,"NextEditResult")}};var Sx=!1,QFe=300,A6=class extends fa{constructor(r,n,i,s,a,l){super();this._workspace=r;this._statelessNextEditProvider=n;this._historyContextProvider=i;this._parseService=s;this._instantiationService=a;this._snippyService=l;this._rejectionCollector=new WW(this._workspace);this._nextEditCache=new HW(this._workspace);this._recentlyShownCache=new ole;this._pendingStatelessNextEditRequest=null;this._lastShownTime=0;this._lastRejectionTime=0;this._lastTriggerTime=0;M1(this,this._workspace.openDocuments,(c,u)=>{u.add(qte(c.value,f=>{this._cancelPendingRequestDueToDocChange(c.id,f)}))}).recomputeInitiallyAndOnChange(this._store),this._telemetrySender=this._instantiationService.createInstance(p6)}static{o(this,"NextEditProvider")}get lastRejectionTime(){return this._lastRejectionTime}get lastTriggerTime(){return this._lastTriggerTime}_cancelPendingRequestDueToDocChange(r,n){if(this._pendingStatelessNextEditRequest===null)return;let i=this._pendingStatelessNextEditRequest.getActiveDocument();i.id===r&&i.documentAfterEditsNoShortening.value!==n.value&&this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel()}async getNextEdit(r,n,i){this._lastTriggerTime=Date.now();let s=this._workspace.getDocument(r);if(!s)throw new gi(`Document "${r}" not found`);let a=s.value.get(),l=new VW(this._statelessNextEditProvider.ID);l.setOpportunityId(n.requestUuid??C_());let c=this._recentlyShownCache.get(r,a),u=this._nextEditCache.lookupNextEdit(r),f,m,h,p;if(c)f=c[0],p=c[1],m=a,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),await vx(QFe);else if(u)f=u.edit,p=u.source,m=u.documentBeforeEdit,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),l.setSubsequentEditOrder(u.subsequentN),await vx(QFe);else{p=new ile,l.setHeaderRequestId(p.headerRequestId);let E=s.value.get();m=E;let v=await this.fetchNextEdit(p,r,l,i),b=E.value!==s.value.get().value;if(v.isError())switch(v.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":case"gotCancelled":case"filteredOut":case"uncategorized":break;case"fetchFailure":case"unexpected":h=v.err.error;break;default:lM(v.err)}else if(!b){let S=v.val;S.isEmpty()||(f=S.edits[0],(!this._statelessNextEditProvider.dependsOnSelection||S.edits.length>1)&&this._nextEditCache.setNextEdits(r,S,p))}}if(l.markEndTime(),h)throw this._telemetrySender.sendTelemetry(l),h;if(!f)return this._telemetrySender.sendTelemetry(l),new g6(void 0);if(this._rejectionCollector.isRejected(r,f))return l.setWasPreviouslyRejected(),this._telemetrySender.sendTelemetry(l),new g6(void 0);Vc(m!==void 0,"should be defined if edit is defined");let A=this._statelessNextEditProvider.showNextEditPreference??"aroundEdit",x=new g6({edit:f,showRangePreference:A,documentBeforeEdits:m});return this._telemetrySender.scheduleSendingTelemetry(x,l),f.isNeutral()||this._recentlyShownCache.add(r,a,[f,p]),x}async _shortenDocument(r,n){let i=r.lastEdit.getEditedState(),{document:s,clippedRange:a}=n==="noShortening"?this.getProjectedDocumentNoShortening(r.lastEdit):n==="clipping"?this.getProjectedDocumentClipping(r.lastEdit):await this.getProjectedDocumentSummarizedDocument(r.languageId,r.lastEdit),l=is.fromOffsetEdit(s.edits).inverseOnString(s.originalText),{edits:c,editLast:u}=nle(r.lastEdits.swap(l)),f=c.compose(),m=new Tx(new uh(r.lastEdits.apply(s.originalText)),u.toOffsetEdit().inverse(c.apply(s.text))),h=new yl(s.text),A=Rp.fromEdit(new Yu(h,f)).removeCommonSuffixPrefixLines(),x=c.edits.at(-1)?.getNewRanges().at(0),E;x&&(E=new yl(m.text).getTransformer().getRange(x));let v=r.lastSelection?m.projectOffsetRange(r.lastSelection):void 0,b=this._workspace.getWorkspaceRoot(r.docId),S=o(W=>{let de=new Rp(new yl(m.text),W).toEdit();return MFe(de,m)},"toEditOnDocumentAfterEditsNoShortening"),B=o(W=>m.projectBack(W),"toOffsetOnDocumentAfterEditsNoShortening"),D=o(W=>m.project(W),"toProjectedOffset"),F=new S_(r.docId,b,r.languageId,A.base.getLines(),A.edit,E,h,c,i,S,B,D,r.lastEdit.base.getTextLength().lineCount,a,v);return{recentEdit:r.lastEdit,nextEditDoc:F,projectedDocument:m}}async fetchNextEdit(r,n,i,s){let a=this._historyContextProvider.getHistoryContext(n);if(!a)return ya.error({kind:"unexpected",error:new Error("DocumentMissingInHistoryContext")});let l=nle(a.getDocumentAndIdx(n)),c=this.getDocumentShorteningStrategy();i.setDocumentShorteningStrategy(c);let u=await Promise.all(a.documents.map(F=>this._shortenDocument(F,c))),f=u[l.idx],m=new CW(r.headerRequestId,u.map(F=>F.nextEditDoc),l.idx,this.nextEditOptions),h=this._findExistingPendingRequest(m),p,A;if(h){p=h,Sx&&console.log(`=> reusing an existing request ${p.seqid}`),i.setHeaderRequestId(h.id),i.setIsFromCache(),i.setRequest(p);let F=this._hookupCancellation(p,s);try{A=await p.result}finally{F.dispose()}}else{p=m,this._pendingStatelessNextEditRequest&&(this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel(),this._pendingStatelessNextEditRequest=null),this._pendingStatelessNextEditRequest=p;let F=o(()=>{this._pendingStatelessNextEditRequest===p&&(this._pendingStatelessNextEditRequest=null)},"removeFromPending");i.setRequest(p);let W=this._hookupCancellation(p,s);try{A=await this._statelessNextEditProvider.provideNextEdit(p,p.cancellationTokenSource.token),p.setResult(A)}catch(ee){throw p.setResultError(ee),ee}finally{W.dispose(),F()}}i.setStatelessNextEditTelemetry(A.telemetry);let x=A.nextEdit;if(x.isError())return x;let E=x.val.edit;if(E.edits.length===0)return ya.error({kind:"noSuggestions"});let b=new Rp(new yl(f.projectedDocument.text),E).toEdit(),S=MFe(b,f.projectedDocument),B=b.edits.length===S.edits.length?x.val.permutation:void 0,D=S.decompose(B);return ya.ok(D)}_hookupCancellation(r,n){let i=new z0,s=!1,a=o(()=>{s||(s=!0,r.liveDependentants--)},"removeDependant"),l=i.add(new dW);return i.add(n.onCancellationRequested(()=>{if(a(),r.liveDependentants>0){Sx&&console.log(`=> ignoring UI cancellation signal for ${r.seqid} because others depend on this request`);return}if(!r.fetchIssued){Sx&&console.log(`=> canceling ${r.seqid} due to UI cancellation signal`),r.cancellationTokenSource.cancel();return}l.setIfNotSet(()=>{if(r.liveDependentants>0){Sx&&console.log(`=> ignoring timer cancellation signal for ${r.seqid} because others depend on this request`);return}Sx&&console.log(`=> canceling ${r.seqid} due to timer after UI cancellation signal`),r.cancellationTokenSource.cancel()},500)})),i.add(da(()=>{a()})),r.liveDependentants++,i}_findExistingPendingRequest(r){if(this._statelessNextEditProvider.canReuseResult&&this._pendingStatelessNextEditRequest&&!this._pendingStatelessNextEditRequest.cancellationTokenSource.token.isCancellationRequested&&this._statelessNextEditProvider.canReuseResult(this._pendingStatelessNextEditRequest,r))return this._pendingStatelessNextEditRequest}handleShown(r){this._lastShownTime=Date.now(),this._telemetrySender.markNextEditResultAsShown(r)}handleAcceptance(r,n){this._telemetrySender.sendTelemetryFor(n,"accepted"),this.runSnippy(r,n),this._statelessNextEditProvider.handleAcceptance?.()}handleRejection(r,n){OM(n.result,"@ulugbekna: undefined edit cannot be rejected?"),Date.now()-this._lastShownTime>1e3&&n.result&&(this._recentlyShownCache.remove(n.result.edit),this._rejectionCollector.reject(r,n.result.edit)),this._lastRejectionTime=Date.now(),this._telemetrySender.sendTelemetryFor(n,"rejected")}getProjectedDocumentNoShortening(r){return{document:new Tx(new uh(r.base.value),new Ad([])),clippedRange:new zn(1,r.base.getTextLength().lineCount+1)}}getProjectedDocumentClipping(r){let n=r.base.getTransformer(),i=n.getRange(r.edit.getRange()??new Mr(0,0)),s=zn.fromRange(i);function a(m,h){return new zn(m.startLineNumber-h,m.endLineNumberExclusive+h)}o(a,"extendRange");let l=new zn(1,n.textLength.lineCount+1),c=nle(l.intersect(a(s,100))),u=zn.subtract(l,c);return{document:new Tx(new uh(r.base.value),new Ad(u.map(m=>La.delete(n.getOffsetRange(new ci(m.startLineNumber,1,m.endLineNumberExclusive,1)))))),clippedRange:c}}getDocumentShorteningStrategy(){return this._statelessNextEditProvider.documentShorteningStrategy??"clipping"}get nextEditOptions(){return new w_("firstByLineNumber",8)}async getProjectedDocumentSummarizedDocument(r,n){let i=await x9t(this._parseService,{getText:o(()=>n.base.value,"getText"),languageId:r});if(!i)return this.getProjectedDocumentClipping(n);let s=new uh(n.base.value),a=n.edit.edits.at(0)?.range??new Mr(0,0),l;if(n.edit.edits.length!==0){let p=n.edit.edits.at(0),A=n.edit.edits.at(-1);l=s.offsetRangeToRange(new Mr(p.range.start,A.range.endExclusive))}let c=OFe(s.offsetRangeToRange(a)),u=PW(200*50,{costFnOverride:o((p,A,x)=>{let E=OFe(x.offsetRangeToRange(p.range)),v=C9t(c,E);return v>100?!1:v},"costFnOverride")},[{overlayNodeRoot:i,document:s,selection:l}])[0],f=u.projectBack(1)-1,m=n.base.getTransformer().getPosition(f).lineNumber,h=new zn(m,m+u.lineCount);return{document:u,clippedRange:h}}async runSnippy(r,n){n.result!==void 0&&this._snippyService.handlePostInsertion(r.toUri(),n.result.documentBeforeEdits,n.result.edit)}};A6=pu([Ia(3,mA),Ia(4,rg),Ia(5,cW)],A6);function MFe(e,t){let r=t.projectBackOffsetEdit(e.toOffsetEdit());return is.fromOffsetEdit(r)}o(MFe,"projectBackEdit");function OFe(e){return new zn(e.start.line+1,e.end.line+1)}o(OFe,"lineRangeFromVSCodeRange");function C9t(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}o(C9t,"lineRangeDist");async function x9t(e,t){return await e.getTreeSitterAST(t)?.getStructure()}o(x9t,"getStructure");function nle(e){if(!e)throw new gi("expected value to be defined, but it was not");return e}o(nle,"assertDefined");var ile=class{constructor(){this.headerRequestId=C_()}static{o(this,"NextEditFetchRequest")}},ole=class{constructor(){this._cache=new dM(10)}static{o(this,"RecentlyShownCache")}add(t,r,n){let i=this._key(t,r);this._cache.set(i,n)}get(t,r){let n=this._key(t,r);return this._cache.get(n)}remove(t){for(let r of this._cache)if(r[1][0]===t){this._cache.delete(r[0]);break}}_key(t,r){return t.uri+";"+r.value}};var UFe=10,fh=class{constructor(t){this.lastResultsById=new xn(UFe);this.lastResultsByUri=new xn(UFe);this.ctx=t}static{o(this,"NextEditSuggestionsManager")}async handleNextEditRequest(t,r,n){let i=await(this.nextEditProvider??=this.createNextEditProvider()),s=this.lastResultsByUri.get(t);s&&(this.lastResultsByUri.delete(t),this.lastResultsById.delete(s.resultId),i.handleRejection(s.documentId,s.nextEditResult));let a=gd.create(t),l=await i.getNextEdit(a,{triggerKind:1},n);if(l.result==null)return;let c=await this.ctx.get(Vr).getTextDocument({uri:t});if(!c)return;let u=c.positionAt(l.result.edit.range.start),f=c.positionAt(l.result.edit.range.endExclusive),m=Tr(),h={resultId:m,nextEditResult:l,documentId:a};return this.lastResultsById.set(m,h),this.lastResultsByUri.set(t,h),[{edit:{text:l.result?.edit.newText??"",range:{start:u,end:f},textDocument:{uri:t,version:r}},id:m}]}async handleAcceptance(t){let r=await this.nextEditProvider,n=this.lastResultsById.get(t);!r||!n||n.resultId===t&&(this.lastResultsByUri.delete(n.resultId),this.lastResultsById.delete(n.resultId),await r.handleAcceptance(n.documentId,n.nextEditResult))}async handleShown(t){let r=await this.nextEditProvider,n=this.lastResultsById.get(t);!r||!n||n.resultId===t&&r.handleShown(n.nextEditResult)}async createNextEditProvider(){let t=await mFe(this.ctx),r=t.createInstance(Ky),n=this.ctx.get(kp),i=new OI(n);return t.createInstance(A6,n,r,i)}};d();var Jy=require("fs"),qFe=require("os"),WFe=tt(require("path")),y6=require("process");var e0=class{static{o(this,"PersistenceManager")}},sle=class extends e0{constructor(r){super();this.directory=r}static{o(this,"FilePersistenceManager")}async read(r,n){try{return(await this.readJsonObject(r))[n]}catch{return}}async update(r,n,i){await Jy.promises.mkdir(this.directory,{recursive:!0,mode:448});let s=`${this.directory}/${r}.json`,a=await this.readJsonObject(r);a[n]=i,await Jy.promises.writeFile(s,JSON.stringify(a)+`
`,{encoding:"utf8"})}async delete(r,n){let i=`${this.directory}/${r}.json`;try{let s=await this.readJsonObject(r);delete s[n];let a=JSON.stringify(s)+`
`;a===`{}
`?await Jy.promises.rm(i):await Jy.promises.writeFile(i,a,{encoding:"utf8"})}catch{}}async deleteSetting(r){let n=`${this.directory}/${r}.json`;try{await Jy.promises.rm(n)}catch{}}async listSettings(){try{return(await Jy.promises.readdir(this.directory)).filter(n=>n.endsWith(".json")).map(n=>n.slice(0,-5))}catch{return[]}}async listKeys(r){return Object.keys(await this.readJsonObject(r))}async readJsonObject(r){let n=`${this.directory}/${r}.json`;try{let i=await Jy.promises.readFile(n,{encoding:"utf8"});return JSON.parse(i)}catch{return{}}}};function E9t(){return y6.env.XDG_CONFIG_HOME&&WFe.isAbsolute(y6.env.XDG_CONFIG_HOME)?y6.env.XDG_CONFIG_HOME+"/github-copilot":(0,qFe.platform)()==="win32"?y6.env.USERPROFILE+"\\AppData\\Local\\github-copilot":y6.env.HOME+"/.config/github-copilot"}o(E9t,"getXdgConfigPath");function GFe(){return new sle(E9t())}o(GFe,"makeXdgPersistenceManager");d();d();d();var HFe=tt(require("node:events"));var jW="onWorkspaceWatcherChanged";var $W=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.emitter=new HFe.default;this.status="created",this.startWatching()}static{o(this,"WorkspaceWatcher")}onFileChange(t){this.emitter.on(jW,Su(this.ctx,t,"WorkspaceWatcher.onFileChange"))}onFilesCreated(t){this.emitter.emit(jW,{type:"create",documents:t,workspaceFolder:this.workspaceFolder})}onFilesUpdated(t){this.emitter.emit(jW,{type:"update",documents:t,workspaceFolder:this.workspaceFolder})}onFilesDeleted(t){this.emitter.emit(jW,{type:"delete",documents:t,workspaceFolder:this.workspaceFolder})}};var ic=class{constructor(t){this.ctx=t;this.watchers=new xn(25)}static{o(this,"WorkspaceWatcherProvider")}getWatcher(t){let r=this.watchers.get(t.uri);if(r)return r;let n=this.getParentFolder(t.uri);return n?this.watchers.get(n):void 0}getParentFolder(t){return[...this.watchers.keys()].find(n=>{let i=n.replace(/[#?].*/,"").replace(/\/?$/,"/");return t!==n&&t.startsWith(i)})}hasWatcher(t){return this.getParentFolder(t.uri)||this.getWatcher(t)!==void 0}startWatching(t){if(Kr.debug(this.ctx,`WorkspaceWatcherProvider - Start watching workspace ${t.uri}`),this.hasWatcher(t)){this.getWatcher(t)?.startWatching();return}let r=this.createWatcher(t);this.watchers.set(t.uri,r)}stopWatching(t){this.getWatcher(t)?.stopWatching()}terminateSubfolderWatchers(t){let r=[...this.watchers.keys()],n=t.uri.replace(/[#?].*/,"").replace(/\/?$/,"/"),i=r.filter(s=>s!==t.uri&&s.startsWith(n));for(let s of i)this.terminateWatching({uri:s});return i}terminateWatching(t){if(this.getWatcher(t)?.status!=="stopped")return this.stopWatching(t),this.watchers.delete(t.uri);this.watchers.delete(t.uri)}onFileChange(t,r){this.getWatcher(t)?.onFileChange(r)}async getWatchedFiles(t){return await this.getWatcher(t)?.getWatchedFiles()??[]}getStatus(t){return this.getWatcher(t)?.status}};var C6=class{static{o(this,"WorkspaceLifecycleListener")}start(){}onWorkspaceAdded(t){}onWorkspaceRemoved(t){}onWorkspaceSubfoldersTerminated(t,r){}onFileChange(t){}},ng=class e{constructor(t){this.ctx=t;this.activeListeners=[];this.inactiveListeners=[];this.ctx=t}static{o(this,"WorkspaceLifecycleManager")}async start(){this.ctx.get(lf).onChange(t=>{this.onWorkspacesAdded(t.added,this.ctx),this.onWorkspacesRemoved(t.removed,this.ctx)})}static isSubfolder(t,r){let n=t.uri,i=r.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");return n!==i&&n.startsWith(i)}async onWorkspacesAdded(t,r){if(t.length){await this.startListeners(),t=t.filter((n,i,s)=>s.findIndex(a=>a.uri===n.uri)===i&&!s.some(a=>e.isSubfolder(n,a)));for(let n of t){if(!n.uri)continue;let i=r.get(ic);if(i.shouldStartWatching(n)){i.startWatching(n);let s=i.terminateSubfolderWatchers(n);if(s.length)for(let a of this.activeListeners)await a.onWorkspaceSubfoldersTerminated(n,s);for(let a of this.activeListeners)i.onFileChange(n,a.onFileChange.bind(a))}}for(let n of t)for(let i of this.activeListeners)await i.onWorkspaceAdded(n)}}async onWorkspacesRemoved(t,r){if(t.length){await this.startListeners();for(let n of t){if(!n.uri)continue;r.get(ic).terminateWatching(n);for(let s of this.activeListeners)await s.onWorkspaceRemoved(n)}}}async startListeners(){if(this.inactiveListeners.length>0){let t=[];for(let r of this.inactiveListeners)await r.isEnabled()?(await r.start(),this.activeListeners.push(r)):t.push(r);this.inactiveListeners=this.inactiveListeners.filter(r=>!this.activeListeners.includes(r)),t.forEach(r=>this.removeListener(r))}}addListener(t){this.inactiveListeners.push(t)}removeListener(t){this.activeListeners=this.activeListeners.filter(r=>r!==t),this.inactiveListeners=this.inactiveListeners.filter(r=>r!==t)}removeAllListeners(){this.activeListeners=[],this.inactiveListeners=[]}isInitialized(){return this.inactiveListeners.length===0}getActiveListeners(){return this.activeListeners}getInactiveListeners(){return this.inactiveListeners}};function zW(e){e.set(ng,new ng(e))}o(zW,"setupWorkspaceLifecycleListener");d();d();d();d();d();var ale=new Map([["copilot_semanticSearch","semantic_search"],["copilot_readFile","read_file"],["copilot_listDir","list_dir"],["copilot_getErrors","get_errors"],["copilot_runInTerminal","run_in_terminal"],["copilot_insertEdit","insert_edit_into_file"],["copilot_createFile","create_file"],["copilot_replaceString","replace_string_in_file"]]),b9t=new Map;for(let[e,t]of ale)b9t.set(t,e);function jFe(e){return ale.get(e)??e}o(jFe,"getToolName");function $Fe(e){return ale.forEach((t,r)=>{let n=new RegExp(`\\b${r}\\b`,"g");e=e.replace(n,t)}),e}o($Fe,"mapContributedToolNamesInString");var zFe=new Set;function YFe(e){zFe.add(e)}o(YFe,"registerReservedToolName");function lle(e){return zFe.has(e)}o(lle,"isToolNameReserved");function YW(e,t){return lle(t)?`${e}_${t}`:t}o(YW,"resolveToolNameConflict");d();var t0=class{static{o(this,"LanguageModelTextPart")}constructor(t){this.value=t}},x6=class{static{o(this,"LanguageModelPromptTsxPart")}constructor(t){this.value=t}},r0=class{static{o(this,"LanguageModelToolResult")}constructor(t){this.content=t}},KFe=I.Object({content:I.Array(I.Union([I.Object({value:I.String()}),I.Object({value:I.Unknown()})]))});var Xy=class{constructor(){this.type="shared";YFe(this.toolName())}static{o(this,"ReservedTool")}};d();function E6(e){return`[${Fs(e)}](${e})`}o(E6,"formatUriForFileWidget");function ig(e){let t=v9t(e);if(!t)throw new Error(`Invalid input path: ${e}. Be sure to use an absolute path.`);return t}o(ig,"resolvePathInput");function v9t(e){if(e.startsWith("/")||JFe()&&T9t(e)||JFe()&&e.startsWith("\\\\"))return q0(e)}o(v9t,"resolveFsUri");function JFe(){return process.platform==="win32"}o(JFe,"isWindows");function I9t(e){return e>=65&&e<=90||e>=97&&e<=122}o(I9t,"isWindowsDriveLetter");function T9t(e){return I9t(e.charCodeAt(0))&&e.charCodeAt(1)===58}o(T9t,"hasDriveLetter");function XFe(e){let t="";return e.length>0&&(t=e.map(r=>r instanceof t0?r.value:(r instanceof x6,"")).join(`
`)),t.trim()===""?"(empty)":t}o(XFe,"parseToolResultToString");var KW=class extends Xy{static{o(this,"EditFileTool")}toolName(){return"insert_edit_into_file"}async invoke(t,r,n){try{let i=await this.mapCode(r.input,t,n);return await this.invokeClientEditFileTool(t,r,i,n),this.readFileContentAfterEdit(r.input,t,n)}catch(i){let s=i instanceof Error?i.message:"An unknown error occurred";return new r0([new t0(s)])}}async mapCode(t,r,n){let{filePath:i}=t,s=ig(i);if(!s)throw new Error(`Invalid file path: ${i}`);return await new i6(r.ctx).mapCode({code:t.code,resource:s,markdownBeforeBlock:t.explanation},n)}async invokeClientEditFileTool(t,r,n,i){return t.ctx.get(og).invokeTool(t,YW("client",this.toolName()),{toolInvocationToken:r.toolInvocationToken,input:{filePath:r.input.filePath,code:n,explanation:r.input.explanation},roundId:r.roundId,toolCallId:r.toolCallId},i)}async readFileContentAfterEdit(t,r,n){let{filePath:i}=t,s=ig(i);if(!s)throw new Error(`Invalid file path: ${i}`);let a=await r.ctx.get(dn).getOrReadTextDocument({uri:s});if(a.status==="notfound")return new r0([new t0(`File ${i} is not found`)]);if(a.status==="invalid")return new r0([new t0(`File ${i} is invalid with ${a.reason}`)]);{let l=a.document.getText(),c=sh(l),u=[];return u.push(`<file_after_edit path="${i}">`),u.push("This is the new state of the file after the edit. Base future edits off of this file, no need to read it again, unless a terminal command may have changed it."),u.push(`${c}${a.document.detectedLanguageId}`),u.push(`${l}`),u.push(`${c}`),u.push("</file_after_edit>"),new r0([new t0(u.join(`
`))])}}prepareInvocation(t,r){let{input:n}=t;if(!n.filePath.length)return{progressMessage:"Running insert_edit_into_file tool"};let i=ig(n.filePath);return{progressMessage:`Editing ${E6(i)}`}}static toEditFileParams(t){if(typeof t.filePath!="string")throw new Error("filePath must be a string");if(typeof t.code!="string")throw new Error("code must be a string");if(typeof t.explanation!="string")throw new Error("explanation must be a string");return{filePath:t.filePath,code:t.code,explanation:t.explanation}}};d();var XW=class extends Xy{static{o(this,"ListDirTool")}toolName(){return"list_dir"}async invoke(t,r,n){let{path:i}=r.input,s=ig(i),l=await t.ctx.get(ko).readDirectory(s.toString());return l.length===0?new r0([new t0("Folder is empty")]):new r0([new t0(l.map(([c,u])=>`${c}${u===2?"/":""}`).join(`
`))])}prepareInvocation(t,r){let n=ig(t.input.path);return{progressMessage:`Reading ${E6(n)}`}}static toListDirParams(t){if(typeof t.path!="string")throw new Error("path must be a string");return{path:t.path}}};d();var ZW=class extends Xy{static{o(this,"ReadFileTool")}toolName(){return"read_file"}async invoke(t,r,n){try{let{filePath:i}=r.input,s=ig(i);if(!s)throw new Error(`Invalid file path: ${i}`);let l=await t.ctx.get(dn).getOrReadTextDocument({uri:s});if(l.status==="valid")return new r0([new t0(`\`\`\`\`
// filepath: ${i}
${l.document.getText()}
\`\`\`\``)]);throw new Error("File is outside of the workspace and can't be read")}catch(i){let s=i instanceof Error?i.message:"An unknown error occurred";return new r0([new t0(s)])}}prepareInvocation(t,r){let{input:n}=t;if(!n.filePath.length)return{progressMessage:"Running read_file tool"};let i=ig(n.filePath);return{progressMessage:`Reading ${E6(i)}`}}static toReadFileParams(t){if(typeof t.filePath!="string")throw new Error("filePath must be a string");return{filePath:t.filePath}}};function ZFe(e){e.registerTool("read_file",`Read the contents of a file.

You must specify the line range you're interested in, and if the file is larger, you will be given an outline of the rest of the file. If the file contents returned are insufficient for your task, you may call this tool again to retrieve more content.`,I.Object({filePath:I.String({description:"The absolute path of the file to read."})}),new ZW),e.registerTool("list_dir","List the contents of a directory. Result will have the name of the child. If the name ends in /, it's a folder, otherwise a file",{type:"object",properties:{path:{description:"The absolute path to the directory to list.",type:"string"}},required:["path"]},new XW),e.registerTool("insert_edit_into_file",`Edit a file in the workspace. Use this tool once per file that needs to be modified, even if there are multiple changes for a file. Generate the "explanation" property first.
The system is very smart and can understand how to apply your edits to the files, you just need to provide minimal hints.
Avoid repeating existing code, instead use comments to represent regions of unchanged code. Be as concise as possible. For example:
// ...existing code...
{ changed code }
// ...existing code...
{ changed code }
// ...existing code...

Here is an example of how you should use format an edit to an existing Person class:
class Person {
	// ...existing code...
	age: number;
	// ...existing code...
	getAge() {
	return this.age;
	}
}`,I.Object({filePath:I.String({description:"The absolute path of the file to edit."}),code:I.String({description:`The code change to apply to the file.
The system is very smart and can understand how to apply your edits to the files, you just need to provide minimal hints.
Avoid repeating existing code, instead use comments to represent regions of unchanged code. Be as concise as possible. For example:
// ...existing code...
{ changed code }
// ...existing code...
{ changed code }
// ...existing code...

Here is an example of how you should use format an edit to an existing Person class:
class Person {
	// ...existing code...
	age: number;
	// ...existing code...
	getAge() {
		return this.age;
	}
}`}),explanation:I.String({description:"A short explanation of the edit being made."})}),new KW)}o(ZFe,"registerAllTools");d();var og=class{constructor(t){this.ctx=t;this.registeredTools=[];this.toolMap=new Map}static{o(this,"ToolsService")}registerAllSharedTools(){ZFe(this)}registerTool(t,r,n,i){let s,a=[];i.type!=="shared"&&lle(t)&&(s=t,t=YW(i.type,t),a.push("hiddenFromLlm","toolNameHasBeenModified")),this.registeredTools.push({type:i.type,name:t,originalName:s,description:r,inputSchema:n,tags:a}),this.toolMap.set(t,i)}get tools(){return this.registeredTools.map(t=>({...t,name:jFe(t.name),description:$Fe(t.description),inputSchema:t.inputSchema}))}prepareInvocation(t,r,n){let i=this.toolMap.get(t);if(!i)throw new Error(`Tool function for ${t} is undefined`);return i.prepareInvocation?.(r,n)??{}}async invokeTool(t,r,n,i){let s=this.toolMap.get(r);if(!s)throw new Error(`Tool function for ${r} is undefined`);let a=this.getTool(r);if(!a)throw new Error(`Tool information for ${r} is undefined`);if(s.type==="client"){let l={name:a.originalName??a.name,input:n.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:n.roundId,toolCallId:n.toolCallId};try{return await t.ctx.get(qy).invokeClientTool(t,l)}catch(c){throw new Error(`Failed to invoke client tool ${r}: ${String(c)}`)}}else return await s.invoke?.(t,n,i)??new r0([])}getTool(t){return this.tools.find(r=>r.name===t)}getEnabledTools(t){return this.tools.filter(r=>t?t(r)!==!1:!0)}};function eNe(e){let t=new og(e);t.registerAllSharedTools(),e.set(og,t)}o(eNe,"activateToolsService");d();d();var _x=class{static{o(this,"FallbackContextProviderFeatureLifecycle")}async dispose(){}};d();var nNe=require("crypto"),ule=require("fs"),fle=tt(require("path"));var tNe="symbolDatabaseLookup",rNe="fallbackContextProviderDocumentSymbols",kx=class{constructor(t){this.persistenceManager=t}static{o(this,"WorkspaceDatabasePersistenceManager")}async getDBFilePath(t){await this.init();let r=await this.persistenceManager.read(tNe,t);return r||(r=await this.createDBFile(t)),fle.default.join(this.persistenceManager.directory,rNe,r)}async init(){let t=fle.default.join(this.persistenceManager.directory,rNe);await this.createIfNotExists(t)}async dirExists(t){try{return await ule.promises.access(t),!0}catch{return!1}}async createIfNotExists(t){try{await this.dirExists(t)||await ule.promises.mkdir(t,{recursive:!0})}catch{throw new Error(`Failed to create directory: ${t}`)}}async createDBFile(t){let r=`${(0,nNe.randomUUID)()}.db`;return await this.persistenceManager.update(tNe,t,r),r}async deleteDBFile(t){}};d();d();var Bx=class{static{o(this,"FileSearch")}};d();var Q_=class{constructor(t,r){this.workspaceUris=t;this.params=r}static{o(this,"FileWatcher")}};d();d();var iNe=100,S9t=5e3,eG=class{static{o(this,"CachedContextFetcher")}constructor(){}runWithCache(t,r,n,i,s,a,l){let c=Date.now(),u=this.get(n,i,r,c);if(u)return this.incrementRefCount(u),l.onCancellationRequested(()=>this.decrementRefCount(u)),u.value;if(!a)return t(r,n,i,s,l);let f=new Hn.CancellationTokenSource,m=o(()=>f.cancel(),"cancel"),h=t(r,n,i,s,f.token);return u=this.setBasedOnLastDelimiter(n,i,r,c,h,m),this.incrementRefCount(u),l.onCancellationRequested(()=>this.decrementRefCount(u)),h}get(t,r,n,i){if(this.cachedValue&&this.cachedValue.uri===n&&!(Math.abs(this.cachedValue.cursorPosition-r)>iNe)){if(r>this.cachedValue.cursorPosition){if(t.substring(this.cachedValue.cursorPosition,r).match(/[^A-Za-z0-9]/))return}else if(r<this.cachedValue.cursorPosition)return;if(!(i-this.cachedValue.timestamp>S9t))return this.cachedValue}}setBasedOnLastDelimiter(t,r,n,i,s,a){let l=t.substring(0,r),c=/[A-Za-z0-9]+$/.exec(l),u=r;c&&(u=c.index),r-u>iNe&&(u=r);let f={cursorPosition:u,uri:n,timestamp:i,fullText:t,value:s.finally(()=>{f.complete=!0}),refCount:0,cancel:a,uuid:Tr(),complete:!1};return this.cachedValue=f}incrementRefCount(t){t&&t.refCount++}decrementRefCount(t){t&&!t.complete&&(t.refCount--,t.refCount<=0&&t.cancel())}};d();d();d();var tG=class{constructor(t){this.maxDegreeOfParalellism=t;this.outstandingPromises=[],this.runningPromises=0}static{o(this,"PriorityLimiter")}queue(t,r=!1){return new Promise((n,i)=>{r?this.outstandingPromises.unshift({factory:t,c:n,e:i}):this.outstandingPromises.push({factory:t,c:n,e:i}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){let t=this.outstandingPromises.shift();this.runningPromises++;let r=t.factory();r.then(t.c,t.e),r.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningPromises--,this.outstandingPromises.length>0&&this.consume()}};var oNe=tt(jn());var dle="main.js",rG=class{constructor(t,r=3){this.promiseResolvers=new Map;this.id=0;try{let n={cwd:process.cwd(),indexWorkspaceRoots:t};this.worker=xX(dle,n),this.worker.on("message",this.handleWorkerMessage.bind(this)),this.worker.on("error",i=>{this.handleUnexpectedError(i)}),this.postMessageQueue=new tG(r)}catch(n){throw console.error(`Failed to create worker: ${n.message}`),n}}static{o(this,"IndexClient")}dispose(){return this.postMessageInQueue(new YN(this.id++),oNe.CancellationToken.None,!0)}async indexFile(t,r,n){return await this.postMessageInQueue(new jN(this.id++,t,r),n)}async getAllFileNames(t,r){return this.postMessageInQueue(new $N(this.id++,t),r)}getContext(t,r,n,i,s){return this.postMessageInQueue(new zN(this.id++,t,r,n,i),s,!0)}tryCreateIndex(t,r,n){return this.postMessageInQueue(new HN(this.id++,t,r),n)}async postMessageInQueue(t,r,n=!1){return this.postMessageQueue.queue(()=>this.postMessageAndWait(t,r),n)}tryRemoveIndex(t,r){return this.postMessageAndWait(new VN(this.id++,t),r)}async postMessageAndWait(t,r){if(this.fatalError)return Promise.reject(this.fatalError);let n=new Promise((s,a)=>{this.promiseResolvers.set(t.id,{resolve:s,reject:a})});this.worker.postMessage(t);let i=r.onCancellationRequested(()=>{this.worker.postMessage(new GN(t.id))});try{return await n}finally{i.dispose()}}handleWorkerMessage(t){if(t.operation!=="response")throw new Error("Unexpected message operation");let r=this.promiseResolvers.get(t.id);if(!r)throw new Error(`Received response for message that isn't in progress: ${t.id}`);this.promiseResolvers.delete(t.id),t.error?(t.error.code=t.code,r.reject(t.error)):r.resolve(t.data)}handleUnexpectedError(t){let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&r.message?.endsWith(dle+"'")&&(r=new Error(`Failed to load ${dle}`),r.code="CopilotPromptLoadFailure");let n=new Error().stack;r.stack&&n?.match(/^Error\n/)&&(r.stack+=n.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&"status"in t&&t.name==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`worker.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let n of this.promiseResolvers.values())n.reject(r);this.promiseResolvers.clear(),this.fatalError=r}};var M_=tt(jn());var b6="fallbackContextProvider",Zy=new Cr(b6),Rx=class{constructor(t,r,n,i){this.ctx=t;this.watcher=r;this.workspaceDatabasePersistenceManager=n;this.workspaceInit=new Map;this.watcher.onFileChange(async(s,a)=>{await this.indexFile(a,this.languageId(a)??"plaintext")}),this.watcher.onWorkspaceChange(async(s,a)=>{if(s===1){await this.indexClient.tryRemoveIndex(a,M_.CancellationToken.None);return}await this.indexAddedWorkspace(a)}),this.indexClient=new rG(i);for(let s of i){let a=s.rootPath;this.workspaceInit.set(a,this.doWorkspaceIndex(a).then(()=>{Zy.debug(this.ctx,`workspace ${a} indexed`),this.workspaceInit.delete(a)}))}}static{o(this,"FallbackContextIndexWatcher")}isInitializing(t){for(let[r]of this.workspaceInit)if(t.startsWith(r))return!0;return!1}dispose(){return this.indexClient.dispose()}async indexAddedWorkspace(t){let r=await k9t(t,this.workspaceDatabasePersistenceManager);await this.indexClient.tryCreateIndex(r.rootPath,r.databaseFilePath,M_.CancellationToken.None),this.workspaceInit.has(t)&&await this.workspaceInit.get(t);let n=this.doWorkspaceIndex(t).then(()=>{Zy.debug(this.ctx,`workspace ${t} indexed`),this.workspaceInit.delete(t)});this.workspaceInit.set(t,n)}async doWorkspaceIndex(t){Zy.debug(this.ctx,`indexing workspace ${t}`);let r=RX.map(f=>`*${f}`);if(r.length===0)return;let i=`**/${RX.length===1?r[0]:`{${r.join(",")}}`}`,s=this.ctx.get(Bx),a=await Promise.all([s.findFiles(i,t,{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0,excludeIDESearchIgnoredFiles:!0}),this.indexClient.getAllFileNames(t,M_.CancellationToken.None)]),l=a[0],c=a[1],u=Array.from(new Set([...l,...c]));await Promise.all(u.map(async f=>{let m=this.languageId(f);m&&await this.indexFile(f.replace(/\/+$/,""),m)}))}async indexFile(t,r){try{Zy.debug(this.ctx,`index triggered for ${t}`),await this.indexClient.indexFile(t,r,M_.CancellationToken.None)}catch(n){Zy.debug(this.ctx,`failed to index ${t} with ${n}`)}}languageId(t){return j3e(t)}};async function k9t(e,t){return{databaseFilePath:await t.getDBFilePath(e),rootPath:e}}o(k9t,"createIndexableWorkspaceFolder");var nG=class{constructor(t){this.id=b6;this.selector=PN.map(t=>({language:t.languageId}));try{this.documentManager=t.get(Vr),this.resolver=new mle(this.documentManager,t)}catch(r){throw Zy.error(t,"Failed to create fallback context provider",r),r}}static{o(this,"FallbackContextProvider")}},mle=class{constructor(t,r){this.ctx=r;this.documentManager=t,this.cachedContextFetcher=new eG}static{o(this,"FallbackContextResolver")}resolve(t,r){return this.resolveImpl(t,r)}async resolveImpl(t,r){let n=this.ctx.get(_x).indexWatcher;if(!n)return[];if(n.isInitializing(t.documentContext.uri))return[];let i=n.indexClient;try{let s=await this.documentManager.getTextDocument({uri:t.documentContext.uri});if(s?.version!==t.documentContext.version)return[];let a=t.documentContext.position,l=t.documentContext.proposedEdits??[];({textDocument:s,position:a}=W5(s,a,l));let c=s.getText();return await this.cachedContextFetcher.runWithCache(i.getContext.bind(i),t.documentContext.uri,c,s.offsetAt(a),t.documentContext.languageId,l.length===0,r)}catch(s){if(UT(s))return[];throw Zy.error(this.ctx,"Failed to get context",s),s}}};var O_=class extends C6{static{o(this,"AgentFallbackContextProvider")}constructor(t){super(),this.ctx=t,this.ctx.get(ng).addListener(this)}async start(){if(await this.isEnabled()&&!this.ctx.get(ha).providers.some(t=>t.id===b6)){let t=this.ctx.get(kx);this.fileWatcher=new hle([],{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!1,excludeIDESearchIgnoredFiles:!1}),this.fallbackContextIndexWatcher=new Rx(this.ctx,this.fileWatcher,t,[]),this.fileSearch=new ple(this.ctx),this.ctx.set(Q_,this.fileWatcher),this.ctx.set(Bx,this.fileSearch),this.ctx.set(Rx,this.fallbackContextIndexWatcher),this.ctx.get(ha).registerContextProvider(new nG(this.ctx))}}async isEnabled(){try{await this.ctx.get(qr).getToken()}catch{return!1}let t=await this.ctx.get(or).updateExPValuesAndAssignments(),r=UI(this.ctx,t);return r.includes(b6)||r.length===1&&r[0]==="*"}async onWorkspaceAdded(t){await this.isEnabled()&&await this.fileWatcher?.triggerWorkspaceChange(0,t.uri)}async onWorkspaceRemoved(t){await this.isEnabled()&&await this.fileWatcher?.triggerWorkspaceChange(1,t.uri)}async onWorkspaceSubfoldersTerminated(t,r){if(await this.isEnabled())return super.onWorkspaceSubfoldersTerminated(t,r)}async onFileChange(t){if(await this.isEnabled())for(let r of t.documents)await this.fileWatcher?.triggerFileChange(this.toFileWatcherType(t.type),r.uri)}toFileWatcherType(t){switch(t){case"create":return 2;case"delete":return 1;case"update":return 0;default:throw new Error("Unknown file watcher event type")}}},hle=class extends Q_{constructor(r,n){super(r,n);this.fileChangeListeners=[];this.workspaceChangeListeners=[]}static{o(this,"FallbackFileWatcher")}onFileChange(r){this.fileChangeListeners.push(r)}onWorkspaceChange(r){this.workspaceChangeListeners.push(r)}dispose(){}async triggerFileChange(r,n){for(let i of this.fileChangeListeners)await i(r,n)}async triggerWorkspaceChange(r,n){for(let i of this.workspaceChangeListeners)await i(r,n)}},ple=class extends Bx{constructor(r){super();this.ctx=r}static{o(this,"LspFileSearch")}async findFiles(r,n,i){return(await this.ctx.get(ic).getWatchedFiles({uri:n})).map(a=>this.ctx.get(Vr).getTextDocumentUnsafe(a)?.clientUri??a.uri)}};var gle=class extends _x{static{o(this,"AgentFallbackContextProviderFeatureLifecycle")}constructor(t){super(),this.agentFallbackContextProvider=new O_(t),t.set(O_,this.agentFallbackContextProvider)}get indexWatcher(){return this.agentFallbackContextProvider?.fallbackContextIndexWatcher}async tryStart(t){}async dispose(){return super.dispose()}};function sNe(e){let t=e.get(e0),r=new kx(t);e.set(kx,r),e.set(_x,new gle(e))}o(sNe,"setupFallbackContextProviderFeature");d();d();d();var sg=new Map;sg.set("copilot",{app:"copilot-client",catalog_service:"CopilotCompletionsVSCode"});sg.set("copilot-intellij",{app:"copilot-intellij",catalog_service:"CopilotIntelliJ"});sg.set("copilot-xcode",{app:"copilot-xcode",catalog_service:"CopilotXcode"});sg.set("copilot-eclipse",{app:"copilot-eclipse",catalog_service:"CopilotEclipse"});sg.set("copilot.vim",{app:"copilot-vim",catalog_service:"CopilotVim"});sg.set("copilot-vs",{app:"copilot-vs",catalog_service:"CopilotVS"});var R9t=new Cr("sdk");function iG(e,t){sg.has(e.get(an).getEditorPluginInfo().name)||R9t.warn(e,...t)}o(iG,"deprecationWarning");var Bqe=tt(Nle()),yh=tt(Ap());d();d();d();var nn={ParseError:-32700,InvalidRequest:-32600,MethodNotFound:-32601,InvalidParams:-32602,InternalError:-32603,ServerNotInitialized:-32002,RequestCancelled:-32800,ContentModified:-32801,ServerCancelled:-32802,NoCopilotToken:1e3,DeviceFlowFailed:1001,CopilotNotAvailable:1002};var ac=class extends Error{static{o(this,"SchemaValidationError")}constructor(t){super(JLe(t))}};function lt(e,t){let r=Ns.Compile(e);return async(n,i,s)=>{if(!r.Check(s)){let a=JLe(r.Errors(s));return[null,{code:nn.InvalidParams,message:a}]}return t(n,i,s)}}o(lt,"addMethodHandlerValidation");function JLe(e){return`Schema validation failed with the following errors:
${Array.from(e).map(r=>`- ${r.path}: ${r.message}`).join(`
`)}`}o(JLe,"createErrorMessage");d();var Lle=tt(jn());d();var lg=class{constructor(t){this.ctx=t}static{o(this,"AbstractCommand")}};var gG="github.copilot.finishDeviceFlow",Qle=class extends lg{constructor(){super(...arguments);this.name=gG;this.arguments=I.Tuple([])}static{o(this,"FinishDeviceFlowCommand")}async handle(r,n){let i=this.ctx.get(wn).pendingSignIn;if(!i)throw new Lle.ResponseError(nn.InvalidRequest,"No pending sign in");try{await this.ctx.get(Hl).open(i.verificationUri)}catch(s){Du.warn(this.ctx,"Failed to open",i.verificationUri),Du.exception(this.ctx,s,gG)}try{return await i.status}catch(s){throw new Lle.ResponseError(nn.DeviceFlowFailed,String(s))}finally{this.ctx.get(wn).pendingSignIn=void 0}}},XLe=[Qle];d();d();var Wo=class extends xn{static{o(this,"CopilotCompletionCache")}constructor(t=100){super(t)}};var $_="github.copilot.didAcceptCompletionItem",Mle=class extends lg{constructor(){super(...arguments);this.name=$_;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptCommand")}async handle(r,[n]){let s=this.ctx.get(Wo).get(n);return s?(dO(this.ctx,s),!0):!1}},ZLe=[Mle];d();var Swt="github.copilot.didAcceptNextEditSuggestionItem",Ole=class extends lg{constructor(){super(...arguments);this.name=Swt;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptCommand")}async handle(r,[n]){return await this.ctx.get(fh).handleAcceptance(n),!0}},eQe=[Ole];d();var qle="github.copilot.didAcceptPanelCompletionItem",Ule=class extends lg{constructor(){super(...arguments);this.name=qle;this.arguments=I.Tuple([I.String({minLength:1})])}static{o(this,"DidAcceptPanelCompletionItemCommand")}async handle(r,n){let[i]=n,a=this.ctx.get(Wo).get(i);return a?(U4(this.ctx,a.triggerCategory,a.insertText,a.offset,a.uri,a.telemetry,{compType:"full"},a.copilotAnnotations),!0):!1}},tQe=[Ule];var _wt=[...XLe,...ZLe,...eQe,...tQe];function rQe(e,t){let r=new Map;for(let n of _wt){let i=new n(e),s=Ns.Compile(i.arguments);r.set(i.name,{typeCheck:s,command:i})}return t.onExecuteCommand(async(n,i)=>{let s=r.get(n.command);if(!s)throw new Error(`Unknown command: ${n.command}`);let a=gA(n.arguments??[]);if(a.length<s.command.arguments.minItems&&(a.length=s.command.arguments.minItems),s.typeCheck.Check(n.arguments))return s.command.handle(i,a);throw new ac(s.typeCheck.Errors(n.arguments))}),[...r.keys()]}o(rQe,"registerCommands");d();var ff=class extends J3{constructor(r){super(new Mv,new Map);this.envSettings=new Map;this.env={...r},this.setOverridesFromEnvironment()}static{o(this,"AgentConfigProvider")}setOverridesFromEnvironment(){["DebugOverrideEngine","DebugOverrideProxyUrl","DebugOverrideCapiUrl","DebugUseEditorFetcher","UseSubsetMatching","ExcludeOpenTabFilesCSharp","ExcludeOpenTabFilesCpp","FallbackToOpenTabFilesWithNoRelatedFiles"].forEach(n=>{for(let i of["AGENT_DEBUG_","GITHUB_COPILOT_","GH_COPILOT_"]){let s=`${i}${kwt(n.replace(/^Debug/,""))}`;s in this.env&&(this.envSettings.set(Pt[n],this.env[s]),this.setConfig(Pt[n],this.env[s]))}})}setConfig(r,n){super.setConfig(r,n??this.envSettings.get(r))}};function kwt(e){return e.replace(/([a-z])([A-Z]+)/g,"$1_$2").toUpperCase()}o(kwt,"camelCaseToSnakeCaseAllCaps");var Bwt="unknown-editor",nQe="unknown-editor-plugin",AG=class extends an{static{o(this,"AgentEditorInfo")}setEditorAndPluginInfo(t,r,n=[]){this._editorInfo=r,this._editorPluginInfo=t,this._relatedPluginInfo=n}setCopilotIntegrationId(t){this._copilotIntegrationId=t}getEditorInfo(){return this._editorInfo?this._editorInfo:{name:Bwt,version:"0"}}getEditorPluginInfo(){return this._editorPluginInfo?this._editorPluginInfo:{name:nQe,version:"0"}}getRelatedPluginInfo(){return this._relatedPluginInfo??[]}getCopilotIntegrationId(){return this._copilotIntegrationId}};function iQe(e){return e.getEditorPluginInfo().name!==nQe}o(iQe,"hasValidInfo");d();var sQe=require("node:events");var oQe="initialize",AA=class{constructor(){this.emitter=new sQe.EventEmitter;this.initialized=!1}static{o(this,"InitializedNotifier")}once(t){this.emitter.once(oQe,t)}emit(){if(this.initialized)throw new Error("Already initialized");this.initialized=!0,this.emitter.emit(oQe)}};d();var yA=tt(Ap());var Rwt=new Map([[4,yA.MessageType.Log],[3,yA.MessageType.Info],[2,yA.MessageType.Warning],[1,yA.MessageType.Error]]),yG=class extends ka{static{o(this,"NotificationLogger")}logIt(t,r,n,...i){if(r==4&&!mO(t)&&n!=="console")return;let s={type:Rwt.get(r),message:e9e(n,...i)},a=t.get(jr).connection;try{a.sendNotification(new yA.NotificationType("window/logMessage"),s)}catch(l){if(l instanceof yA.ConnectionError)return;throw l}}};d();var aQe=tt(v0());var CG=class{constructor(t,r=!1){this.ctx=t;this.codeSnippets=r}static{o(this,"RedirectTelemetryReporter")}get notificationName(){return this.codeSnippets?"codeSnippetTelemetry":"uedTelemetry"}sendTelemetryEvent(t,r,n){this.ctx.get(jr).connection.sendNotification(new aQe.NotificationType(this.notificationName),{type:"event",name:t,properties:r||{},measurements:n||{}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(t,r,n)}dispose(){return Promise.resolve()}};async function lQe(e){let t=e.get(Cs),r=t.deactivate();t.setReporter(new CG(e)),t.setRestrictedReporter(new CG(e,!0)),await r}o(lQe,"setupRedirectingTelemetryReporters");d();d();var xG=class{static{o(this,"InstallationManager")}async startup(t){await this.isNewInstall(t)?(await this.markInstalled(t),this.handleInstall(t,await this.wasPreviouslyInstalled(t))):await this.isNewUpgrade(t)&&(await this.markUpgraded(t),this.handleUpgrade(t))}async uninstall(t){return await this.handleUninstall(t)}handleInstall(t,r){r?Gt(t,"installed.reinstall"):Gt(t,"installed.new")}handleUpgrade(t){Gt(t,"installed.upgrade")}async handleUninstall(t){Gt(t,"uninstalled")}};var z_=tt(Nle());var T6=class extends xG{static{o(this,"AgentInstallationManager")}async isNewInstall(t){let r=t.get(an).getEditorPluginInfo();return await t.get(e0).read("versions",r.name)===void 0&&!await this.hasPersistedSettings(t)}async hasPersistedSettings(t){return(await t.get(e0).listSettings()).length>0}async markInstalled(t){let r=t.get(an).getEditorPluginInfo();await t.get(e0).update("versions",r.name,r.version)}wasPreviouslyInstalled(t){return Promise.resolve(!1)}async isNewUpgrade(t){try{let r=t.get(an).getEditorPluginInfo(),n=await t.get(e0).read("versions",r.name);return n===void 0&&await this.hasPersistedSettings(t)?!0:(0,z_.gt)((0,z_.coerce)(r.version),(0,z_.coerce)(n))}catch{return!1}}async markUpgraded(t){await this.markInstalled(t)}async uninstall(t){await super.uninstall(t);let r=t.get(an).getEditorPluginInfo();await t.get(e0).delete("versions",r.name),(await t.get(e0).listKeys("versions")).length===0&&await t.get(e0).deleteSetting("versions")}};d();var cQe=require("events"),Gle=tt(require("path")),EG=tt(v0());var Wle="didChangeWatchedFiles",Dwt={watchedFiles:[],contentRestrictedFiles:[],unknownFileExtensions:[]},dh=class e{constructor(t){this.ctx=t;this.emitter=new cQe.EventEmitter}static{o(this,"LspFileWatcher")}static{this.requestType=new EG.ProtocolRequestType("copilot/watchedFiles")}get connection(){return this.ctx.get(jr).connection}init(){this.ctx.get(rs).getCapabilities().watchedFiles&&this.connection.onNotification(EG.DidChangeWatchedFilesNotification.type,r=>{"workspaceUri"in r&&typeof r.workspaceUri=="string"&&this.didChangeWatchedFilesHandler(r)})}async getWatchedFiles(t){if(!this.ctx.get(rs).getCapabilities().watchedFiles)return Dwt;let i=(await this.connection.sendRequest(e.requestType,t)).files,s=[],a=[],l=[];for(let c of i){let u=Gle.extname(c).toLowerCase();if(!MT.includes(u)){l.push({uri:c});continue}let f=await this.getValidDocument(c);if(f===void 0){a.push({uri:c});continue}s.push(f)}return{watchedFiles:s,contentRestrictedFiles:a,unknownFileExtensions:l}}onDidChangeWatchedFiles(t){this.emitter.on(Wle,t)}offDidChangeWatchedFiles(t){this.emitter.off(Wle,t)}async didChangeWatchedFilesHandler(t){let r=[],n=[],i=[];for(let s of t.changes){let a=s.uri,l={uri:a,isRestricted:!1,isUnknownFileExtension:!1},c=Gle.extname(s.uri).toLowerCase();if(!MT.includes(c))l.isUnknownFileExtension=!0;else{let u=await this.getValidDocument(a);u===void 0?l.isRestricted=!0:l.document=u}switch(s.type){case 1:n.push(l);break;case 2:r.push(l);break;case 3:i.push(l);break}}this.emitter.emit(Wle,{workspaceFolder:{uri:t.workspaceUri},created:n,changed:r,deleted:i})}async getValidDocument(t){let n=await this.ctx.get(dn).getOrReadTextDocument({uri:t});return n.status==="valid"?n.document:void 0}};d();d();var Pwt=I.Object({uri:I.String({minLength:1})});async function Fwt(e,t,r){let n=await e.get(dn).getOrReadTextDocument(r);return[{status:ns(n),...n.status==="invalid"&&{reason:n.reason},...n.status==="notfound"&&{reason:n.message}},null]}o(Fwt,"handleCheckFileStatusChecked");var uQe=lt(Pwt,Fwt);d();d();var Pn=I.Object({});var Nwt=I.Object({options:I.Optional(I.Intersect([I.Object({localChecksOnly:I.Optional(I.Boolean()),forceRefresh:I.Optional(I.Boolean())}),Pn]))});async function Lwt(e,t,r){return[await e.get(wn).checkAndUpdateStatus(e,r.options),null]}o(Lwt,"handleCheckStatusChecked");var fQe=lt(Nwt,Lwt);d();d();d();d();d();d();function dQe(e){return e?e.filter(t=>t.type==="github.web-search").map(t=>t):[]}o(dQe,"filterUnsupportedReferences");function mQe(e){return e?e.filter(t=>t.type==="github.web-search"):[]}o(mQe,"convertToCopilotReferences");var hQe=I.Object({type:I.Literal("github.web-search"),id:I.String(),data:I.Object({query:I.String(),type:I.String(),results:I.Optional(I.Array(I.Object({title:I.String(),excerpt:I.String(),url:I.String()})))}),metadata:I.Optional(I.Object({display_name:I.Optional(I.String()),display_icon:I.Optional(I.String())}))});var eC=class{constructor(t){this.deltaApplier=t;this.appliedLength=0;this.appliedText="";this.appliedAnnotations=[]}static{o(this,"ConversationFinishCallback")}isFinishedAfter(t,r){let n=t.substring(this.appliedLength,t.length),s=this.mapAnnotations(r.annotations).filter(a=>!this.appliedAnnotations.includes(a.id));this.append(n,s,dQe(r.copilotReferences),r.copilotErrors??[],r.copilotConfirmation)}append(t,r,n,i,s){this.deltaApplier(t,r,n,i,s),this.appliedLength+=t.length,this.appliedText+=t,this.appliedAnnotations.push(...r.map(a=>a.id))}mapAnnotations(t){if(!t)return[];let r=[],n=t.for("CodeVulnerability").map(s=>({...s,type:"code_vulnerability"})),i=t.for("IPCodeCitations").map(s=>({...s,type:"ip_code_citations"}));return r.push(...n),r.push(...i),r}};d();var Wa=class{static{o(this,"ConversationInspector")}};d();var cs=class{static{o(this,"ConversationProgress")}};d();d();var cg=class{constructor(t){this.ctx=t;this.githubRepositoryInfoCache=new Map}static{o(this,"GitHubRepositoryApi")}async getRepositoryInfo(t,r){let n=this.githubRepositoryInfoCache.get(`${t}/${r}`);if(n)return n;let i=await this._doGetRepositoryInfo(t,r);if(i.ok){let s=await i.json();return this.githubRepositoryInfoCache.set(`${t}/${r}`,s),s}throw new Error(`Failed to fetch repository info for ${t}/${r}`)}async _doGetRepositoryInfo(t,r){let n=await this.ctx.get(qr).getGitHubToken(),i={Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"};n&&(i.Authorization=`Bearer ${n}`);let s=this.ctx.get(Dn).getAPIUrl(`repos/${t}/${r}`);return this.ctx.get(Nr).fetch(s,{method:"GET",headers:i})}async isAvailable(t,r){try{return(await this._doGetRepositoryInfo(t,r)).ok}catch{return!1}}};d();d();d();var Qwt=I.Union([I.Literal("included"),I.Literal("blocked"),I.Literal("notfound"),I.Literal("empty")]),lc=I.Object({uri:I.String(),position:I.Optional(I.Object({line:I.Number({minimum:0}),character:I.Number({minimum:0})})),visibleRange:I.Optional(Im),selection:I.Optional(Im),openedAt:I.Optional(I.String()),activeAt:I.Optional(I.String())}),Y_=I.Intersect([I.Object({type:I.Literal("file"),status:I.Optional(Qwt),range:I.Optional(Im)}),lc]),w6=I.Union([Y_,hQe]),Qd=I.Union([I.Literal("panel"),I.Literal("inline")]),Mwt=I.Union([I.Object({type:I.Literal("text"),text:I.String()}),I.Object({type:I.Literal("image_url"),imageUrl:I.Object({url:I.String(),detail:I.Optional(I.Union([I.Literal("low"),I.Literal("high")]))})})]),Hle=I.Union([I.String(),I.Array(Mwt)]),pQe=I.Object({request:Hle,response:I.Optional(I.String()),agentSlug:I.Optional(I.String())});function bG(e){return typeof e=="string"?e:e.map(t=>t.type==="image_url"?{type:"image_url",image_url:{url:t.imageUrl.url,detail:t.imageUrl.detail}}:{type:"text",text:t.text})}o(bG,"convertToMessageContent");function S6(e,t){if(typeof e=="string")return e+t;let r=e.map(n=>n.type==="text").lastIndexOf(!0);if(r>=0){let n=[...e],i=n[r];return n[r]={type:"text",text:i.text+t},n}return[...e,{type:"text",text:t}]}o(S6,"appendToMessage");var vG=I.Union([I.Literal("Ask"),I.Literal("Agent")]),Owt=I.Object({type:I.String(),description:I.String()}),gQe=I.Object({name:I.String(),description:I.String(),inputSchema:I.Optional(I.Object({type:I.String(),properties:I.Record(I.String(),Owt),required:I.Array(I.String())}))});d();var yQe=tt(df());var ug=class{constructor(t,r,n){this.doc=t;this.selection=r;this.visibleRange=n}static{o(this,"ElidableDocument")}fromSelectedCode(t){let r=this.getExpandedSelection(),n=r;if(t.trimNewLines){let s=this.doc.getText(r),a=s.match(/^\n*/)?.[0].length??0,l=s.match(/\n*$/)?.[0].length??0;n={start:this.getLineStart(r.start.line+a),end:this.expandLineToEnd(r.end.line-l)}}let i=new Xt([(0,yQe.default)(this.doc.getText(n)).trim()]);return[this.wrapInTicks(i),n]}fromAllCode(t){let r=this.getDocumentRange(),n=this.getExpandedSelection(),i;!this.visibleRange||!this.rangeContainedIn(this.visibleRange,n)?i=n:i={start:this.getLineStart(this.visibleRange.start.line),end:this.expandLineToEnd(this.visibleRange.end.line)};let s={start:r.start,end:i.start.line>0?this.expandLineToEnd(i.start.line-1):r.start},a={start:i.start,end:n.start.line>0&&n.start.line>i.start.line?this.expandLineToEnd(n.start.line-1):i.start},l={start:n.end.line<this.doc.lineCount-1&&n.end.line<i.end.line?this.getLineStart(n.end.line+1):i.end,end:i.end},c={start:i.end.line<this.doc.lineCount-1?this.getLineStart(i.end.line+1):r.end,end:r.end},u=[[s,.6],[a,.8],[n,1],[l,.4],[c,.2]],f=new Xt(u.filter(([m,h])=>!_6(m)||h===1).map(([m,h])=>{let p;return t.addLineNumbers?p=this.addLineNumbers(m):p=this.doc.getText(m),[h==1?p:Nu(p),h]}));return this.wrapInTicks(f)}selectionIsDocument(){return this.rangeEquals(this.getExpandedSelection(),this.getDocumentRange())}selectionIsEmpty(){return this.selection==null||_6(this.selection)}getExpandedSelection(){return this.selection!==void 0?{start:this.getLineStart(this.selection.start.line),end:this.expandLineToEnd(this.selection.end.line)}:this.getDocumentRange()}getDocumentRange(){return{start:this.getLineStart(0),end:this.expandLineToEnd(this.doc.lineCount-1)}}getLineStart(t){return{line:t,character:0}}expandLineToEnd(t){return t>this.doc.lineCount-1&&(t=this.doc.lineCount-1),{line:t,character:this.doc.lineAt({line:t,character:0}).text.length}}rangeContainedIn(t,r){return t.start.line<=r.start.line&&t.end.line>=r.end.line}rangeEquals(t,r){return t.start.line==r.start.line&&t.end.line==r.end.line}wrapInTicks(t,r){return new Xt([["```"+this.doc.detectedLanguageId,1],[t,r??1],["```",1]])}addLineNumbers(t){let r=this.doc.getText(t).split(`
`),n=this.doc.lineCount.toString().length;return r.map((s,a)=>`${(t.start.line+a+1).toString().padEnd(n," ")}:${s}`).join(`
`)}};function _6(e){return e.start.line==e.end.line&&e.start.character==e.end.character}o(_6,"isEmptyRange");var CQe=tt(require("path"));var xQe=lc,Vle=class{constructor(t){this.turnContext=t}static{o(this,"CurrentEditorSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(dn),n=await r.getOrReadTextDocument(t),i=ns(n);if(await this.turnContext.collectFile(k0,t.uri,i),n.status==="valid"){let s=this.turnContext.conversation.source==="inline",a=new ug(n.document,t.selection,t.visibleRange),l=r.getRelativePath(n.document);if(i==="empty")return new Xt([`The currently open file \`${l}\` is empty.`]);let c=[[`Code excerpt from the currently open file \`${l}\`:`,1],[a.fromAllCode({addLineNumbers:s}),1]],u=[];if(a.selectionIsDocument())u=[["The user is selecting the entire file.",1]];else if(s){let[f,m]=a.fromSelectedCode({trimNewLines:!0}),h=m.start.line+1;if(_6(m))u=[[`The user is selecting line ${h}, which is empty.`,1]];else{let p=m.end.line+1;u=[["The user is selecting"+(h==p?` line ${h}:`:` lines ${h} to ${p} (inclusive):`),1],[f,1]]}}else a.selectionIsEmpty()||(u=[["The user is selecting this code:",1],[a.fromSelectedCode({trimNewLines:!1})[0],1]]);return new Xt([...c,...u])}else if(n.status==="invalid")return new Xt([`The currently open file \`${CQe.basename(t.uri)}\` is content excluded.`])}},k0="current-editor",IG=class{constructor(t){this._resolver=t;this.id=k0;this.type="explicit"}static{o(this,"CurrentEditorSkill")}description(){return"The code from the user's currently open file"}resolver(){return this._resolver}processor(t){return new Vle(t)}};d();d();var Ga=class{constructor(){this.skills=[]}static{o(this,"ConversationSkillRegistry")}registerSkill(t){if(this.getSkill(t.id))throw new Error(`Skill with id '${t.id}' already registered`);this.skills.push(t)}getSkill(t){return this.skills.find(r=>r.id===t)}getDescriptors(){return[...this.skills]}},jle=class{constructor(t,r,n){this.delegate=t;this.stepId=r;this.stepTitle=n}static{o(this,"StepReportingSkillResolver")}async resolveSkill(t){await t.steps.start(this.stepId,this.stepTitle);try{let r=await this.delegate.resolveSkill(t);return r||await t.steps.finish(this.stepId),r}catch(r){throw await t.steps.error(this.stepId,r instanceof Error?r.message:`Error resolving ${this.stepTitle}`),r}}},$le=class{constructor(t,r){this.delegate=t;this.stepId=r}static{o(this,"StepReportingSkillProcessor")}value(){return this.delegate.value()}async processSkill(t,r){try{let n=await this.delegate.processSkill(t,r);return await r.steps.finish(this.stepId),n}catch(n){throw await r.steps.error(this.stepId,n instanceof Error?n.message:`Error processing ${this.stepId}`),n}}},_l=class{constructor(t,r,n,i,s,a="explicit",l=[],c=async()=>!0){this.id=t;this._description=r;this.stepTitle=n;this._resolver=i;this._processor=s;this.type=a;this._examples=l;this._isAvailable=c}static{o(this,"SingleStepReportingSkill")}description(){return this._description}examples(){return this._examples}isAvailable(t){return this._isAvailable(t)}resolver(t){return new jle(this._resolver(t),this.id,this.stepTitle)}processor(t){return new $le(this._processor(t),this.id)}};var EQe=I.Object({name:I.String(),url:I.String()}),bQe=I.Object({path:I.String(),head:I.Optional(I.Object({name:I.String(),upstream:I.Optional(EQe)})),remotes:I.Optional(I.Array(EQe))}),zle=class{constructor(t){this.turnContext=t}static{o(this,"GitMetadataSkillProcessor")}value(){return .8}async processSkill(t){this.turnContext.collectLabel(Px,"git repository information");let r=[];return r.push([new Xt(["Metadata about the current git repository:"]),1]),t.head&&t.head.name?(r.push([new Xt([`- Current branch name: ${t.head.name}`]),1]),t.head.upstream&&r.push([new Xt([`- Upstream name and url: ${t.head.upstream.name} - ${t.head.upstream.url}`]),1])):r.push([new Xt(["- Detached HEAD: yes"]),1]),t.remotes&&t.remotes.length>0&&r.push([new Xt([`- Remotes: ${t.remotes.map(n=>n.name).join(", ")}`]),1]),new Xt(r)}},Px="git-metadata",TG=class extends _l{static{o(this,"GitMetadataSkill")}constructor(t){super(Px,"Metadata about the current git repository, useful for questions about branch management and git related commands","Reading git information",()=>t,r=>new zle(r))}};async function vQe(e){let t=await e.skillResolver.resolve(k0);if(t){let a=t.uri,l=v5(e.ctx,a);if(BCe(l))return{repoInfo:l,skillUsed:k0}}let r=await e.skillResolver.resolve(Px);if(!r||!r.remotes||r.remotes.length===0){Kr.debug(e.ctx,"Git metadata skill is not available or no remotes available.");return}let i=r.remotes.find(a=>a.name==="origin")??r.remotes[0],s=PJ(i.url);if(s)return{repoInfo:{baseFolder:{uri:r.path},url:i.url,...s},skillUsed:Px}}o(vQe,"extractRepoInfo");async function IQe(e){let t=[];return await Uwt(e,t),await qwt(e,t),await Wwt(e,t),t}o(IQe,"skillsToReference");async function Uwt(e,t){let r=await Gwt(e);r&&t.push(r)}o(Uwt,"addRepositoryReference");async function qwt(e,t){let r=await Hwt(e);r&&t.push(r)}o(qwt,"addSelectionReference");async function Wwt(e,t){let r=[],n=await jwt(e);n&&r.push(n),r.push(...await $wt(e)),r.length>0&&t.push(...r)}o(Wwt,"addFileReferences");async function Gwt(e){let t=await vQe(e);if(t){let r=e.ctx.get(cg),n=t.repoInfo.owner,i=t.repoInfo.repo;if(await r.isAvailable(n,i))return{type:"github.repository",id:`${n}/${i}`,data:{type:"repository",name:i,ownerLogin:n,id:(await r.getRepositoryInfo(n,i)).id}}}}o(Gwt,"gitMetadataToReference");async function Hwt(e){let t=await e.skillResolver.resolve(k0);if(t&&t.selection){let n=await e.ctx.get(dn).getOrReadTextDocument(t),i=ns(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i,t.selection),n.status==="valid")return await Vwt(t,n.document)}}o(Hwt,"currentEditorToSelectionReference");async function Vwt(e,t){if(e.selection&&!_6(e.selection)){let r=t.getText(e.selection);return{type:"client.selection",id:e.uri,data:{start:{line:e.selection.start.line,col:e.selection.start.character},end:{line:e.selection.end.line,col:e.selection.end.character},content:r}}}}o(Vwt,"extractSelection");async function jwt(e){let t=await e.skillResolver.resolve(k0);if(t){let n=await e.ctx.get(dn).getOrReadTextDocument(t),i=ns(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i),n.status==="valid")return{type:"client.file",id:n.document.uri,data:{content:n.document.getText(),language:n.document.detectedLanguageId}}}}o(jwt,"currentEditorToFileReference");async function $wt(e){let t=[],r=e.turn.request.references;if(r&&r.length>0){let n=e.ctx.get(dn);for(let i of r)if(i.type==="file"){let s=await n.getOrReadTextDocument(i),a=ns(s);if(await e.collectFile(e.turn.agent.agentSlug,i.uri,a,i.selection),s.status==="valid"){let l=s.document.getText();t.push({type:"client.file",id:i.uri,data:{content:l,language:s.document.detectedLanguageId}})}}}return t}o($wt,"fileReferenceToPlatformFileReference");d();d();d();d();var DQe=tt(_G()),Xle=tt(require("path"));var PQe=500,nSt=Math.floor(.25*PQe),kG=class{static{o(this,"FixedSizeChunking")}async chunk(t,r){let n=[],i=Xle.default.extname(__filename)===".ts"?Xle.default.resolve(__dirname,"../../../../../../dist/main.js"):__filename;return n=await DQe.job(async({text:s,uri:a,tokenizerName:l,directory:c,chunkSize:u,overlap:f})=>{let h=require(c).getTokenizer(l),p=h.tokenize(s),A=p.length,x=[],E=0;for(;E<A;){let v=E+u>=A,b=v?A:E+u,S=p.slice(E,b),B=h.detokenize(S),D=s.indexOf(B);x.push({id:`${a.toString()}#${E}`,chunk:B,tokenCount:S.length,range:{start:D,end:D+B.length}}),E=v?b:b-f}return x},{data:{text:t.getText(),uri:t.uri.toString(),tokenizerName:r.tokenizer,directory:i,chunkSize:PQe,overlap:nSt}}),n}};var iSt="fixedSize",oSt=new Map([["fixedSize",kG]]);function FQe(e){let t=e==="default"?iSt:e,r=oSt.get(t);if(!r)throw new Error(`Chunking constructor for type ${e} not found`);return r}o(FQe,"getChunkingAlgorithm");d();d();var BG=tt(j2()),CA=tt(require("fs")),NQe=require("os"),Md=tt(require("path")),k6=require("process");var Zle=5e4,sSt=new Cr("workspaceChunks"),RG=class e{constructor(t,r){this.ctx=t;this.pathHashLength=8;let n=Md.basename(r),i=(0,BG.SHA256)(r).toString().substring(0,this.pathHashLength);this.cacheRootPath=Md.join(aSt(),"project-context",`${n}.${i}`)}static{o(this,"WorkspaceChunks")}static{this.CACHE_VERSION="1.0.0"}getChunksCacheFile(t){let r=(0,BG.SHA256)(t).toString().substring(0,this.pathHashLength),n=Md.basename(t);return Md.join(this.cacheRootPath,`${n}.${r}.json`)}async getChunksCacheFromCacheFile(t){let r=await CA.promises.readFile(t,{encoding:"utf8"}).catch(()=>{});if(r)try{return JSON.parse(r)}catch{}}async getChunksCache(t){let r=this.getChunksCacheFile(t);return await this.getChunksCacheFromCacheFile(r)}async setChunksCache(t,r){let n=this.getChunksCacheFile(t);try{await CA.promises.mkdir(Md.dirname(n),{recursive:!0}),await CA.promises.writeFile(n,JSON.stringify(r),{encoding:"utf8"})}catch(i){sSt.debug(this.ctx,"Failed to set chunks cache:",i)}}async removeChunksCache(t){let r=this.getChunksCacheFile(t);await CA.promises.rm(r).catch(()=>{})}async enumerateChunksCacheFileNames(){return await CA.promises.readdir(this.cacheRootPath).catch(()=>[])}async getFilesCount(){return(await this.enumerateChunksCacheFileNames()).length}async getChunksCount(){let t=0;for await(let r of this.getChunks())t++;return t++}async*getChunksForFile({uri:t}){let r=await this.getChunksCache(t);r!==void 0&&(yield*r.documentChunks)}async*getChunksFromCacheFile(t){let r=await this.getChunksCacheFromCacheFile(t);yield*r?r.documentChunks:[]}async*getChunks(t){if(t!==void 0)yield*this.getChunksForFile(t);else{let r=await this.enumerateChunksCacheFileNames();for(let n of r)yield*this.getChunksFromCacheFile(Md.join(this.cacheRootPath,n))}}async getFileHash(t){let r=ys(t),n="";return r&&(n=await CA.promises.readFile(r,{encoding:"utf8"}).catch(()=>"")),(0,BG.SHA256)(n).toString()}async addChunks({uri:t},r){let n=await this.getFileHash(t),i=await this.getChunksCache(t);if(i!==void 0&&i.hash===n&&i.version===e.CACHE_VERSION)return;let s={version:e.CACHE_VERSION,filePath:t,hash:n,documentChunks:r};await this.setChunksCache(t,s)}async deleteChunksForSource(t){let r=q0(t),n=await this.getChunksCache(r);return n===void 0?[]:(await this.removeChunksCache(r),n.documentChunks)}async deleteChunks({uri:t}){let r=ys(t);if(!r)return[];let n;try{n=await CA.promises.readdir(r)}catch{return await this.deleteChunksForSource(r)}let i=[];for(let s of n){let a=q0(Md.join(r,s));i.push(...await this.deleteChunks({uri:a}))}return i}async clear(){await CA.promises.rm(this.cacheRootPath,{recursive:!0}).catch(()=>{})}};function aSt(){return k6.env.XDG_CACHE_HOME&&Md.isAbsolute(k6.env.XDG_CACHE_HOME)?k6.env.XDG_CACHE_HOME+"/github-copilot":(0,NQe.platform)()==="win32"?k6.env.USERPROFILE+"\\AppData\\Local\\Temp\\github-copilot":k6.env.HOME+"/.cache/github-copilot"}o(aSt,"getXdgCachePath");var e0e=1e4;var DG=class{constructor(t,r,n){this.workspaceFolder=r;this.implementation=n;this._chunkLimiter=new r0e;this.status="notStarted",this.workspaceChunks=new RG(t,r),this.cancellationToken=new t0e,this._chunkingTimeMs=0,this._fileCountExceeded=!1,this._chunkCountExceeded=!1,this._totalFileCount=0,this._filesUpdated=new Set}static{o(this,"ChunkingHandler")}async chunk(t,r){return r?await this.chunkFiles(t,r):await this.chunkWorkspace(t)}async chunkWorkspace(t){let r=performance.now();if(this.status="started",this.cancellationToken.isCancelled())return this.status="cancelled",this.updateChunkingTime(r,performance.now()),this.workspaceChunks.getChunks();await this.updateModelConfig(t);let n=await t.get(ic).getWatchedFiles({uri:this.workspaceFolder});this._totalFileCount=n.length,n.length>e0e&&(this._fileCountExceeded=!0,n=n.slice(0,e0e));let i=n.map(async s=>{this.cancellationToken.isCancelled()||await this._chunkLimiter.queue(()=>this._chunk(t,s))});try{await Promise.all(i)}catch(s){Qo(t,s,"ChunkingProvider.chunk"),await this.terminateChunking()}return this.status=this.cancellationToken.isCancelled()?"cancelled":"completed",this.updateChunkingTime(r,performance.now()),await this.workspaceChunks.getChunksCount()>Zle&&(this._chunkCountExceeded=!0),this.workspaceChunks.getChunks()}async chunkFiles(t,r){await this.updateModelConfig(t);let n=r.map(async i=>{this.cancellationToken.isCancelled()||(this._filesUpdated.add(i.uri),await this._chunkLimiter.queue(()=>this._chunk(t,i)))});try{await Promise.all(n)}catch(i){Qo(t,i,"ChunkingProvider.chunkFiles"),await this.terminateChunking()}return await this.workspaceChunks.getChunksCount()>Zle&&(this._chunkCountExceeded=!0),await this.workspaceChunks.getFilesCount()>e0e&&(this._fileCountExceeded=!0),pEe(...r.map(i=>this.workspaceChunks.getChunks(i)))}async _chunk(t,r){if(this.cancellationToken.isCancelled())return;let n=await this.implementation.chunk(r,this.modelConfig);await this.workspaceChunks.addChunks(r,n)}async updateModelConfig(t){this.modelConfig||(this.modelConfig=await t.get(ti).getBestChatModelConfig(Zo("user")))}async terminateChunking(){this.cancellationToken.cancel()}async clearChunks(){await this.workspaceChunks.clear()}updateChunkingTime(t,r){this._chunkingTimeMs=r-t}get chunkingTimeMs(){return Math.floor(this._chunkingTimeMs)}get fileCountExceeded(){return this._fileCountExceeded}get totalFileCount(){return this._totalFileCount}get chunkCountExceeded(){return this._chunkCountExceeded}get filesUpdatedCount(){return this._filesUpdated.size}async getFilesCount(){return this.workspaceChunks.getFilesCount()}getChunks(){return this.workspaceChunks.getChunks()}async getChunksCount(){return this.workspaceChunks.getChunksCount()}deleteSubfolderChunks(t){return this.workspaceChunks.deleteChunks({uri:t})}deleteFileChunks(t){return this._filesUpdated.add(t),this.workspaceChunks.deleteChunks({uri:t})}},t0e=class{constructor(){this.cancelled=!1}static{o(this,"ChunkingCancellationToken")}cancel(){this.cancelled=!0}isCancelled(){return this.cancelled}},r0e=class{constructor(t=20){this.maxCount=t;this.tasks=[];this.runningTasks=0}static{o(this,"Limiter")}async queue(t){return new Promise((r,n)=>{this.tasks.push({factory:t,resolve:r,reject:n}),this.consume()})}consume(){for(;this.tasks.length>0&&this.runningTasks<=this.maxCount;){let{factory:t,resolve:r,reject:n}=this.tasks.shift();this.runningTasks++;let i=t();i.then(r,n),i.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningTasks--,this.consume()}};var ea=class{constructor(t){this.ctx=t;this.workspaceChunkingProviders=new Map}static{o(this,"ChunkingProvider")}get workspaceCount(){return this.workspaceChunkingProviders.size}createImplementation(t,r){let n=FQe(r),i=new n;return new DG(this.ctx,t,i)}getImplementation(t,r="default"){let n=this.getParentFolder(t);if(n)return this.workspaceChunkingProviders.get(n);let i=this.workspaceChunkingProviders.get(t);return i||(i=this.createImplementation(t,r),this.workspaceChunkingProviders.set(t,i)),i}getParentFolder(t){return[...this.workspaceChunkingProviders.keys()].find(n=>{let i=n.replace(/[#?].*/,"").replace(/\/?$/,"/");return t!==n&&t.startsWith(i)})}status(t){return this.getImplementation(t).status}checkLimits(t){let r=this.getImplementation(t);return{fileCountExceeded:r.fileCountExceeded,chunkCountExceeded:r.chunkCountExceeded}}fileCount(t){return this.getImplementation(t).getFilesCount()}chunkCount(t){return this.getImplementation(t).getChunksCount()}chunkingTimeMs(t){return this.getImplementation(t).chunkingTimeMs}getChunks(t){return this.getImplementation(t).getChunks()}async terminateChunking(t,r){let n=this.getImplementation(r);await n.terminateChunking();let s=rn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:n.filesUpdatedCount});Gt(t,"index.terminate",s),this.workspaceChunkingProviders.delete(r)}async clearChunks(t,r){await this.terminateChunking(t,r),await this.getImplementation(r).clearChunks()}async deleteSubfolderChunks(t,r){return await this.getImplementation(t).deleteSubfolderChunks(r)}async deleteFileChunks(t,r){let n=this.getImplementation(t),i=[];Array.isArray(r)||(r=[r]);for(let s of r)i.push(...await n.deleteFileChunks(s));return i}async chunk(t,r,n,i){let s;return n&&(Array.isArray(n)?s=n:i=n),i||(i="default"),s?await this.chunkFiles(t,r,s,i):await this.chunkFolder(t,r,i)}async chunkFolder(t,r,n="default"){let i=this.getImplementation(r,n),s=await i.chunk(t),l=rn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:i.totalFileCount,chunkCount:await i.getChunksCount(),timeTakenMs:i.chunkingTimeMs,workspaceCount:this.workspaceCount});return Gt(t,"index.chunk",l),s}async chunkFiles(t,r,n,i="default"){return await this.getImplementation(r,i).chunk(t,n)}};d();d();d();d();d();function FG(e){switch(e){case"Agent":return"Agent";case"Ask":default:return"Ask"}}o(FG,"toChatModeEnum");var B6=class{constructor(t){this.request=t;this.id=Tr();this.timestamp=Date.now();this.status="in-progress";this.skills=[];this.ignoredSkills=[];this.annotations=[]}static{o(this,"Turn")}},PG=class e{constructor(t=[],r="panel",n="en"){this.turns=t;this.source=r;this.userLanguage=n;this._id=Tr();this._timestamp=Date.now()}static{o(this,"Conversation")}copy(){let t=JSON.parse(JSON.stringify(this.turns)),r=new e(t,this.source,this.userLanguage);return r._id=this.id,r._timestamp=this.timestamp,r}get id(){return this._id}get timestamp(){return this._timestamp}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){return this.turns[this.turns.length-1]}hasTurn(t){return this.turns.some(r=>r.id===t)}};d();d();d();var LQe={id:0,start_offset:0,stop_offset:0,type:"ip_code_citations",details:{},citations:{snippet:`html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canvas Example</title>
<`,url:"https://github.com/duonghle285/gnoud9x.github.io/tree/c95127bc5b7a491d9223f21ac3b8c5100996e754/26062020-vehinhchunhat%2Findex.html",ip_type:"LICENSE",license:"NOASSERTION"}},QQe="Alright, This response contains a code citation.";d();var MQe=`
# Should render

## Links
Links should render. However, if a user clicks on the link, it should open a confirmation dialog before navigating to the link. 

markdown:

[GitHub Copilot](https://copilot.github.com)

html:

<a href="https://copilot.github.com">GitHub Copilot</a>

## Images
The following images do come from one of these sources and should render:

- \`raw.githubusercontent.com/\`
- \`private-user-images.githubusercontent.com/\`
- \`avatars.githubusercontent.com\`
- \`gist.github.com/assets/\`


markdown:

![logo](https://avatars.githubusercontent.com/u/147005046?v=4)

html:

<img src="https://avatars.githubusercontent.com/u/147005046?v=4" alt="logo"/>

## Headers

markdown:

# Header 1
## Header 2
### Header 3
#### Header 4
##### Header 5
###### Header 6

html:

<h1>Header 1</h1>
<h2>Header 2</h2>
<h3>Header 3</h3>
<h4>Header 4</h4>
<h5>Header 5</h5>
<h6>Header 6</h6>

## Paragraphs

html:

<p>This is a paragraph.</p>

## Bold

markdown:

**bold text**

html:

<strong>bold text</strong>

## Italic

markdown:

_italic text_

html:

<i>italic text</i>

## Codeblock

markdown:

\`\`\`javascript
console.log('Hello, World!');
\`\`\`

html:

<code>console.log('Hello, World!');</code>

## Unordered List

markdown:

- item 1
- item 2
- item 3

html:

<ul>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ul>

## Ordered List

markdown:

1. item 1
2. item 2
3. item 3

html:

<ol>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ol>

## Table

markdown:

| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| cell 1   | cell 2   | cell 3   |
| cell 4   | cell 5   | cell 6   |

html:

<table>
    <thead>
        <tr>
            <th>Header 1</th>
            <th>Header 2</th>
            <th>Header 3</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>cell 1</td>
            <td>cell 2</td>
            <td>cell 3</td>
        </tr>
        <tr>
            <td>cell 4</td>
            <td>cell 5</td>
            <td>cell 6</td>
        </tr>
    </tbody>
</table>

## Blockquote

markdown:

> This is a blockquote.

html:

<blockquote>This is a blockquote.</blockquote>


# Should not render

## html tags
Unsupported tags like \`<div>\` should not render but should be escaped. This code:

\`\`\`html
<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

should be rendered as:

\`\`\`html
<div>
* Foo
<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

code:

<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/></div>

## images
The following images do *not* come from one of the trusted domains and should not render.

markdown:

![productivity](https://github.com/images/modules/site/copilot/productivity-bg-head.png)

html:

<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="100"/>

## Invisible characters

### Inline styles
Styled elements should not be rendered styled. This may trick the user to think elements are actually IDE controls

<p style="color: red;">This is an <span style="display: none;">harmfully</span> styled text!</p>

### html attributes
Only img src/alt and a href attributes should make it to the dom. 

The following paragraph should not render the \`id\` attribute in the dom.

<p id="foo">This is a paragraph with an id</p>
`;d();d();var OQe=tt(require("fs")),cc=tt(require("path"));var n0e=[".test",".spec","_test","Test","_spec","_test","Tests",".Tests","Spec"],i0e="test_",X_={js:{suffix:[".test",".spec"],location:"sameFolder"},ts:{suffix:[".test",".spec"],location:"sameFolder"},go:{suffix:["_test"],location:"sameFolder"},java:{suffix:["Test"],location:"testFolder"},php:{suffix:["Test"],location:"testFolder"},dart:{suffix:["_test"],location:"testFolder"},cs:{suffix:["Test"],location:"testFolder"},rb:{suffix:["_test","_spec"],location:"testFolder"},py:{prefix:"test_",location:"testFolder"},ps1:{suffix:[".Tests"],location:"testFolder"},kt:{suffix:["Test"],location:"testFolder"}},Z_=class{constructor(t,r,n=void 0){this.ctx=t;this.fileExists=r;this.baseUri=n}static{o(this,"TestFileFinder")}async findTestFileForSourceFile(t){let r=Fs(t),n=cc.extname(r).replace(".",""),i=X_[n]??{location:"sameFolder",prefix:i0e,suffix:n0e},s=[];if(i.prefix&&s.push(i.prefix+r),i.suffix)for(let u of i.suffix??[]){let f=r.replace(`.${n}`,u+"."+n);s.push(f)}let a=i.location??"sameFolder",l;if(a==="sameFolder"){if(l=ys(_u(t)),l===void 0)return}else{let u=ys(t);if(u===void 0)return;l=this.determineTestFolder(u,a)}for(let u of s){let f=cc.join(l,u),m=this.parseTestFilePath(f);if(m&&await this.fileExists(m))return m}let c=q0(l);if(await this.fileExists(c))return Xo(c,s[0])}parseTestFilePath(t){try{return q0(t)}catch(r){ni.error(this.ctx,`Failed to parse test file path: ${t}`,r);return}}async findImplFileForTestFile(t){let r=Fs(t),n=cc.extname(r).replace(".",""),i=X_[n]??{location:"sameFolder",prefix:i0e,suffix:n0e},s=[];if(i.prefix&&s.push(r.substring(i.prefix.length)),i.suffix)for(let c of i.suffix??[]){let f=r.substring(0,r.length-c.length-1-n.length)+"."+n;s.push(f)}let a=i.location??"sameFolder",l;a==="sameFolder"?l=_u(t):l=this.determineImplFolder(t);for(let c of s){let u=Xo(l,c);if(await this.fileExists(u))return u}}findExampleTestFile(t){let r=ys(t);if(r===void 0)return;let n=cc.extname(Fs(t)).replace(".",""),i,s=X_[n]?.location??"sameFolder";s==="sameFolder"?i=cc.dirname(r):i=this.determineTestFolder(r,s);let a=this.findFiles(i,`.${n}`,X_[n]);if(a.length>0)return q0(a[0])}findFiles(t,r,n){let i=this._readdir(t),s=[];for(let a of i){let l=`${t}${cc.sep}${a}`;n?.prefix&&a.startsWith(n.prefix)&&s.push(l),n?.suffix&&n?.suffix.some(c=>a.endsWith(c+r))&&s.push(l)}return s}_readdir(t){return OQe.readdirSync(t,{withFileTypes:!0}).filter(r=>r.isFile()).map(r=>r.name)}determineTestFolder(t,r){let n=(this.baseUri&&ys(this.baseUri))??"",i=cc.extname(t).replace(".",""),s=this.getRelativeTestFolder(t,n,i,r);return[n,...s].filter(a=>a).join(cc.sep)}getRelativeTestFolder(t,r,n,i){let s=cc.dirname(t).replace(r,"");switch(n){case"php":case"dart":case"py":return["tests"];case"ps1":return["Tests"];case"rb":return["test",s];case"cs":return[s.replace("src","src/tests")];case"java":case"scala":case"kt":return[s.replace(/src[\\/]main/,"src/test")];default:return i==="testFolder"?[s.replace("src","test")]:[s]}}determineImplFolder(t){let r=cc.extname(Fs(t)).replace(".",""),n=_u(t);switch(r){case"php":case"dart":case"py":return n.replace("tests","src");case"ps1":return n.replace("Tests","src");case"rb":return n.replace("/test","");case"cs":return n.replace("src/tests","src");case"java":case"scala":case"kt":return n.replace("src/test","src/main");default:return n.replace("test/","src/")}}};async function ek(e){let t=Fs(e),r=cc.extname(t),n=X_[r.replace(".","")];return n?!(n.suffix&&!n.suffix.some(s=>t.endsWith(s+r))||n.prefix&&!t.startsWith(n.prefix)):!!(n0e.some(s=>t.endsWith(s+r))||t.startsWith(i0e))}o(ek,"isTestFile");d();var UQe=["indexed","indexing","not_indexed"],tC=class{constructor(){this._cache=new xn(100)}static{o(this,"BlackbirdIndexingStatus")}async queryIndexingStatus(t,r,n){let i=t.ctx,s=i.get(Dn).getBlackbirdIndexingStatusUrl();if(!n)return!1;let a=new URL(s);a.searchParams.set("nwo",r);let l={Authorization:`token ${n}`},c=await i.get(Nr).fetch(a.href,{method:"GET",headers:l});if(!c.ok)return!1;let u=await c.json();return u.docs_status==="indexed"||u.code_status==="indexed"}isValid(t){return t!==void 0&&Date.now()-t.timestamp<30*60*1e3}async isRepoIndexed(t,r,n,i=!1){let s=x1(r);if(!s)return!1;let a=this._cache.get(s);if(!i&&this.isValid(a))return a.status;let l=await this.queryIndexingStatus(t,s,n);return this._cache.set(s,{status:l,timestamp:Date.now()}),l}get cache(){return this._cache}};d();d();d();async function qQe(e,t,r,n){let i=vo(t.tokenizer),s=r.filter(m=>i.tokenLength(m.text)<t.maxTokens);if(s.length===0)return;let a=[],l=await e.get(qr).getToken(),c=wv(e,l,"embeddings"),u=l.token,f=0;for(;f<s.length&&!n.isCancellationRequested;){let m=s.slice(f,f+t.maxBatchSize),h=await lSt(e,c,u,t.modelId,m,n);a.push(...h||[]),f+=t.maxBatchSize}return a.length?a:void 0}o(qQe,"fetchEmbeddings");async function lSt(e,t,r,n,i,s){let a=Tr(),l=i.map(u=>u.text),c=await E3(e,t,r,void 0,a,{input:l,model:n,dimensions:1024},s,C5(e));if(c.status!==200||s.isCancellationRequested){Qo(e,new xA(`Failed to request dense embeddings, status: ${c.status}`),"LocalSnippetProvider.fetchEmbeddings");return}try{return(await c.json()).data.map(f=>({id:i[f.index].id,embedding:f.embedding}))}catch{return}}o(lSt,"sendEmbeddingsRequest");d();d();var NG=class{static{o(this,"CosineSimilarityScoring")}score(t,r){let n=Math.sqrt(t.reduce((a,l)=>a+l*l,0)),i=Math.sqrt(r.reduce((a,l)=>a+l*l,0));return t.reduce((a,l,c)=>a+l*r[c],0)/(n*i)}terminateScoring(){}};var cSt="cosine",uSt=new Map([["cosine",NG]]);function WQe(e){let t=e==="default"?cSt:e,r=uSt.get(t);if(!r)throw new Error(`Scoring constructor for type ${e} not found`);return r}o(WQe,"getScoringAlgorithm");d();var mf=class{constructor(){this.workspaceScoringProviders=new xn(25)}static{o(this,"ScoringProvider")}createImplementation(t,r){let n=WQe(r);return new n}getImplementation(t,r,n="default"){let i=this.workspaceScoringProviders.get(r);return i||(i=this.createImplementation(t,n),this.workspaceScoringProviders.set(r,i)),i}score(t,r,n,i,s){return this.getImplementation(t,r,s).score(n,i)}terminateScoring(t,r,n){this.getImplementation(t,r,n).terminateScoring(),this.workspaceScoringProviders.delete(r)}};var GQe={modelFamily:CF.textEmbedding3Small,scoringType:"default",dimensions:null};async function HQe(e,t,r,n,i,s,a,l=GQe){let c={...GQe,...l},u=dSt(e,t,r,n);Kr.debug(e,`EmbeddingsReranker: Reranking ${u.length} snippets (includes the user query)`);let f=await e.get(ti).getFirstMatchingEmbeddingModelConfiguration(c.modelFamily);if(f===void 0)throw new Error(`EmbeddingsReranker: Model configuration not found for ${c.modelFamily}`);let m=performance.now(),h=await qQe(e,f,u,s),p=performance.now();if(a.embeddingsTimeMs=Math.floor(p-m),h===void 0||h.length===0)return[];let A=h.findIndex(D=>D.id==="userQuery");if(A===void 0)return[];let x=h.splice(A,1)[0];if(s.isCancellationRequested)return[];let E=performance.now(),v=mSt(e,t,h,x,c.scoringType),b=performance.now();a.rerankingTimeMs=Math.floor(b-E);let S=v.slice(0,i);return Kr.debug(e,`EmbeddingsReranker: Returning ${S.length} snippets`),S.map(D=>u.find(F=>F.id===D.id).id)}o(HQe,"rerankSnippets");function dSt(e,t,r,n){let i=n.map(s=>({id:s.id,text:s.chunk.toLowerCase()}));return i.push({id:"userQuery",text:r.toLowerCase()}),i}o(dSt,"formatEmbeddingsInput");function mSt(e,t,r,n,i){let s=e.get(mf);return r.map(l=>({id:l.id,score:s.score(e,t,n.embedding,l.embedding,i)})).sort((l,c)=>c.score-l.score)}o(mSt,"scoreEmbeddings");d();d();d();var s0e=tt(_G());var hSt=.75,pSt=1.2,gSt=47,LG=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.chunksCount=0;this.sumTokenCount=0;this.status="notStarted"}static{o(this,"BM25Ranking")}get avgTokenCount(){return this.sumTokenCount/this.chunksCount}async initialize(t){this.sumTokenCount=0,this.chunksCount=0;for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++;this.status="completed"}async addChunks(t){for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++}async query(t){let r=await tk();try{return await this.doQuery(t)}finally{await r.stopWorkerPool()}}async doQuery(t){let r=t.map(l=>l.toLowerCase()),n=await this.calculateIDFValues(r),i=Math.min(10*t.length,gSt),s=Math.min(i,this.chunksCount);return await this.calculateBM25Scores(r,this.avgTokenCount,n,s)}async calculateIDFValues(t){let r=this.ctx.get(ea).getChunks(this.workspaceFolder),n=S1(r,async s=>({...s,chunk:s.chunk.toLowerCase()})),i=S1(n,async s=>s.chunk);return await ASt(t,i)}async calculateBM25Scores(t,r,n,i){let s=this.ctx.get(ea).getChunks(this.workspaceFolder),a=new o0e(i);for await(let l of s){let c=await ySt({...l,chunk:l.chunk.toLowerCase()},t,r,n);a.add({...c,chunk:l.chunk})}return a.toArray(.75)}async deleteEmbeddings(t){this.chunksCount-=t.length,this.sumTokenCount-=t.reduce((r,n)=>r+n.tokenCount,0)}async terminateRanking(){}};async function ASt(e,t){let r=new SharedArrayBuffer(e.length*Int32Array.BYTES_PER_ELEMENT),n=new Int32Array(r),i=[],s=0;for await(let c of t){s++;let u=s0e.job(({snippet:f,keywords:m})=>m.map(p=>f.includes(p)?1:0),{data:{snippet:c,keywords:e}}).then(f=>{for(let m=0;m<e.length;m++)Atomics.add(n,m,f[m])});i.push(u)}await Promise.all(i);let a=new Int32Array(r),l={};for(let c=0;c<e.length;c++)l[e[c]]=Math.log((s-a[c]+.5)/(a[c]+.5)+1);return l}o(ASt,"calculateIDFValues");async function ySt(e,t,r,n){return{score:await s0e.job(({keywords:s,document:a,docLength:l,avgTokenCount:c,idfValues:u,k1:f,b:m})=>{let h=0;for(let p of s){let A=u[p],x=(a.match(new RegExp(p,"g"))||[]).length,E=A*(x*(f+1)),v=x+f*(1-m+m*l/c);h+=E/v}return h},{data:{document:e.chunk,docLength:e.tokenCount,keywords:t,avgTokenCount:r,idfValues:n,k1:pSt,b:hSt}}),...e}}o(ySt,"calculateBM25Score");var o0e=class{constructor(t,r=-1/0){this.maxSize=t;this.minScore=r;this.store=[]}static{o(this,"SimpleHeap")}toArray(t){if(this.store.length&&typeof t=="number"){let r=this.store.at(0).score*(1-t);return this.store.filter(n=>n.score>=r)}return this.store}add(t){if(t.score<=this.minScore)return;let r=this.store.findIndex(n=>n.score<t.score);for(this.store.splice(r>=0?r:this.store.length,0,t);this.store.length>this.maxSize;)this.store.pop();this.store.length===this.maxSize&&(this.minScore=this.store.at(-1)?.score??this.minScore)}};var xSt="bm25",ESt=new Map([["bm25",LG]]);function VQe(e){let t=e==="default"?xSt:e,r=ESt.get(t);if(!r)throw new Error(`Ranking constructor for type ${e} not found`);return r}o(VQe,"getRankingAlgorithm");var n0=class{constructor(){this.workspaceRankingProviders=new xn(25)}static{o(this,"RankingProvider")}createImplementation(t,r,n){let i=VQe(n);return new i(t,r)}getImplementation(t,r,n="default"){let i=this.workspaceRankingProviders.get(r);return i||(i=this.createImplementation(t,r,n),this.workspaceRankingProviders.set(r,i)),i}status(t,r,n){return this.getImplementation(t,r,n).status}async initialize(t,r,n,i="default"){await this.getImplementation(t,r,i).initialize(n)}async addChunks(t,r,n,i="default"){await this.getImplementation(t,r,i).addChunks(n)}async query(t,r,n,i){return this.getImplementation(t,r,i).query(n)}async terminateRanking(t,r,n){await this.getImplementation(t,r,n).terminateRanking(),this.workspaceRankingProviders.delete(r)}deleteEmbeddings(t,r,n,i){return this.getImplementation(t,r,i).deleteEmbeddings(n)}};d();async function jQe(e,t){let r=e.ctx,n=await r.get(ti).getBestChatModelConfig(Zo("synonyms"),{tool_calls:!0}),i={promptType:"synonyms",modelConfiguration:n},s=await r.get(i0).toPrompt(e,i);if(!s.toolConfig)return;let a={modelConfiguration:n,uiKind:"conversationPanel",messages:s.messages,tools:s.toolConfig?.tools,tool_choice:s.toolConfig?.tool_choice,llmInteraction:e.toLlmInteraction()},l=new Aa(r),c=await Ja(r,e.turn.id,e.conversation.id),u=await l.fetchResponse(a,t,c.extendedBy({messageSource:"chat.synonyms"}));if(u.type==="success"&&u.toolCalls&&u.toolCalls.length>0){let f=u.toolCalls[0],m=s.toolConfig?.extractArguments(f).keywords;return!m||!Array.isArray(m)?void 0:(Kr.debug(r,`UserQueryParser: Parsed ${m.length} keywords from the original user query: ${m.join(", ")}`),m.length?m:void 0)}else{let f="reason"in u?u.reason:"";Qo(r,new xA(`Failed to request user query synonyms, result type: ${u.type}, reason: ${f}`),"LocalSnippetProvider.parseUserQuery")}}o(jQe,"parseUserQuery");var $Qe=tt(df());var xA=class extends Error{static{o(this,"LocalSnippetProviderError")}constructor(t){super(String(t),{cause:t}),this.name="LocalSnippetProviderError"}},QG=class{constructor(){this.providerType="local"}static{o(this,"LocalSnippetProvider")}snippetProviderStatus(t,r){if(!t.turn.workspaceFolder)return Promise.resolve("not_indexed");r===void 0&&(r=!0);let n=t.ctx,i=n.get(ea),s=i.status(t.turn.workspaceFolder),a=n.get(n0),l=a.status(n,t.turn.workspaceFolder);if(s==="completed"&&l==="completed")return Promise.resolve("indexed");if(s==="started"||l==="started")return Promise.resolve("indexing");if(r){let c=t.turn.workspaceFolder;if(s==="notStarted")return Promise.race([i.chunk(n,c).then(u=>{if(i.status(c)==="completed")return a.initialize(n,c,u)}).then(()=>this.snippetProviderStatus(t,!1)),new Promise(u=>setTimeout(()=>u("not_indexed"),1e3))]);if(l==="notStarted"){let u=i.getChunks(c);return Promise.race([a.initialize(n,c,u).then(()=>this.snippetProviderStatus(t,!1)),new Promise(f=>setTimeout(()=>f("not_indexed"),1e3))])}}return Promise.resolve("not_indexed")}async collectLocalSnippets(t,r){let n=t.turn.workspaceFolder;if(!n)return[];let i=t.ctx,a=await i.get(ea).chunkCount(n);if(a===0)return[];r.chunkCount=a;let l,c=performance.now();try{l=await jQe(t,t.cancelationToken)}catch(A){let x=new xA(A);Qo(i,x,"LocalSnippetProvider.parseUserQuery")}let u=performance.now();if(r.synonymTimeMs=Math.floor(u-c),l===void 0)return[];let f=i.get(n0),m=[],h=performance.now();try{let A=await f.query(i,n,l);r.localSnippetCount=A.length,m=A}catch(A){let x=new xA(A);Qo(i,x,"LocalSnippetProvider.rankingQuery")}let p=performance.now();return r.rankingTimeMs=Math.floor(p-h),m}async rerankLocalSnippets(t,r,n){let i=t.turn.workspaceFolder;if(!i)return[];let s=t.ctx,a=en(t.turn.request.message),l=[];try{l=await HQe(s,i,a,r,5,t.cancelationToken,n)}catch(f){let m=new xA(f);Qo(s,m,"LocalSnippetProvider.rerankSnippets")}let c=[],u=s.get(dn);for(let f of l){let m=f.split("#")[0],h=await u.getOrReadTextDocument({uri:m}),p=r.find(A=>A.id===f);if(h.status==="valid"){let A=h.document.positionAt(p.range.start),x=h.document.positionAt(p.range.end),E=oo.range(A,x);c.push({uri:h.document.uri,range:E,snippet:p.chunk})}}return c}async provideSnippets(t){let r=this.collectInfoMessage(t);r&&await t.info(r);let n={...xEe},i=await this.collectLocalSnippets(t,n);if(i.length===0)return{snippets:[],measurements:n};let s=t.ctx;return Kr.debug(s,`LocalSnippetProvider: First pass: Found ${i.length} snippets.`),{snippets:await this.rerankLocalSnippets(t,i,n),measurements:n}}collectInfoMessage(t){let r=t.turn.workspaceFolder;if(!r)return;let s=t.ctx.get(ea).checkLimits(r);if(s.fileCountExceeded||s.chunkCountExceeded)return $Qe.default`
Copilot has partially indexed this project as it exceeds the file limit. As a result, responses may have incomplete context. Consider excluding large, less relevant files or folders (e.g., large CSV files) to improve accuracy.
`}};var YQe=tt(zQe()),UG=tt(_G()),KQe=tt(require("os")),JQe=tt(df());var ISt=Math.max(KQe.cpus().length-1,1),rk=class e{constructor(){this.isActive=!0}static{o(this,"WorkerPoolToken")}static{this.workerPoolStarted=!1}static{this.activeProcessCount=0}static{this.allTokens=[]}static{this.lock=new YQe.default}static async startWorkerPool(){await e.lock.acquireAsync();try{e.workerPoolStarted||(e.workerPoolStarted=!0,await UG.start({maxWorkers:ISt})),e.activeProcessCount++;let t=new e;return e.allTokens.push(t),t}finally{e.lock.release()}}async stopWorkerPool(){if(this.isActive){await e.lock.acquireAsync();try{this.isActive&&(this.isActive=!1,e.activeProcessCount--,e.activeProcessCount==0&&(await UG.stop(),e.workerPoolStarted=!1),e.allTokens.includes(this)&&e.allTokens.splice(e.allTokens.indexOf(this),1))}finally{e.lock.release()}}}static async forceStopWorkerPool(){let t=e.allTokens[Symbol.iterator]();for(let r of t)await r.stopWorkerPool();e.workerPoolStarted=!1,e.activeProcessCount=0}},tk=rk.startWorkerPool.bind(rk);var LAn=I.Object({uri:I.String(),snippet:I.String(),range:I.Object({start:I.Object({line:I.Number(),character:I.Number()}),end:I.Object({line:I.Number(),character:I.Number()})})}),c0e=class{constructor(t){this.turnContext=t}static{o(this,"ProjectContextSkillProcessor")}value(){return 1}async processSkill(t){if(this.turnContext.cancelationToken.isCancellationRequested){await this.turnContext.steps.cancel(R6);return}let r=[],n=this.turnContext.ctx.get(dn),i=this.removeDuplicateSnippets(t);for(let s of i){let{uri:a,snippet:l,range:c}=s,u=await n.getOrReadTextDocument(s);if(u.status==="valid"){let f=new ug(u.document,c,c),m=new Xt([l]),p=await ek(a)?.5:.8;r.push([`Code excerpt from file \`${ys(a)}\`:`,1],[f.wrapInTicks(m,p),1]),await this.turnContext.collectFile(D6,a,ns(u),c)}}if(r.length>0)return r.unshift([new Xt(["The user wants you to consider the following snippets when computing your answer."]),1]),new Xt(r)}removeDuplicateSnippets(t){let r={};return t.forEach(n=>{let i=`${n.uri}#[${n.range.start.line},${n.range.start.character}]-[${n.range.end.line},${n.range.end.character}]`;r[i]||(r[i]=n)}),Object.values(r)}},R6="collect-project-context",MG=class extends C6{constructor(r,n=[new QG]){super();this.ctx=r;this.snippetProviders=n;this.ready=!1;this.ctx.get(ng).addListener(this)}static{o(this,"ProjectContextSkillResolver")}async onWorkspaceAdded(r){if(!await this.isEnabled()||(this.workerPoolToken=await tk(),!r.uri))return;let n=this.ctx.get(ea),i=this.ctx.get(ic),s=this.ctx.get(n0),a=await n.chunk(this.ctx,r.uri);n.status(r.uri)!=="completed"&&i.terminateWatching(r),await s.initialize(this.ctx,r.uri,a),i.onFileChange(r,async({documents:l,type:c})=>{let u=await tk();try{let f=l.map(m=>m.uri);if(c==="delete"||c==="update"){let m=await n.deleteFileChunks(r.uri,f);await s.deleteEmbeddings(this.ctx,r.uri,m)}if(c==="create"||c==="update"){let m=await n.chunk(this.ctx,r.uri,l);await s.addChunks(this.ctx,r.uri,m)}}finally{await u.stopWorkerPool()}}),await this.workerPoolToken.stopWorkerPool()}async onWorkspaceRemoved(r){if(!await this.isEnabled())return;let n=this.ctx.get(ea),i=r.uri;if(!i)return;let s=n.getParentFolder(i);if(s){let c=await n.deleteSubfolderChunks(s,i);await this.ctx.get(n0).deleteEmbeddings(this.ctx,s,c);return}await n.terminateChunking(this.ctx,i),await this.ctx.get(n0).terminateRanking(this.ctx,i),this.ctx.get(mf).terminateScoring(this.ctx,i),n.workspaceCount===0&&await rk.forceStopWorkerPool()}async onWorkspaceSubfoldersTerminated(r,n){let i=this.ctx.get(ea),s=this.ctx.get(n0),a=this.ctx.get(mf);for(let l of n)await i.terminateChunking(this.ctx,l),await s.terminateRanking(this.ctx,l),a.terminateScoring(this.ctx,r.uri)}async onFileChange(r){if(!await this.isEnabled())return;let n=await tk();try{let i=r.documents.map(c=>c.uri),s=r.workspaceFolder.uri;if(!s)return;let a=this.ctx.get(ea),l=this.ctx.get(n0);if(r.type==="delete"||r.type==="update"){let c=await a.deleteFileChunks(s,i);await l.deleteEmbeddings(this.ctx,s,c)}if(r.type==="create"||r.type==="update"){let c=await a.chunk(this.ctx,s,r.documents);await l.addChunks(this.ctx,s,c)}}finally{await n.stopWorkerPool()}}async isEnabled(){return!0}async resolveSkill(r){await r.steps.start(R6,"Collecting relevant project context"),await r.info(JQe.default`Project context is applied to this response, which may lead to slightly longer load times. For faster and more general Copilot responses, remove the project context option from your prompt.`);let n=this.snippetProviders.map(async l=>l.snippetProviderStatus(r)),i=await Promise.all(n),s="not_indexed",a;for(let l of UQe){let c=i.findIndex(u=>u===l);if(c!==-1){s=l,a=this.snippetProviders[c];break}}switch(s){case"indexed":{let{snippets:l,measurements:c}=await a.provideSnippets(r);if(await EEe(r,a.providerType,c),l.length===0){await r.steps.error(R6,"No project context found");return}return await r.steps.finish(R6),l}case"indexing":{await r.steps.error(R6,"Indexing repository, please try again later");return}case"not_indexed":{await r.steps.error(R6,"No project context available");return}}}},D6="project-context",OG=class extends _l{static{o(this,"ProjectContextSkill")}constructor(t){super(D6,"Code snippets and documentation from the open project. This skill is useful when the user question is specific to the open project and its context. Do not include this skill for general programming questions.","Performing code search",()=>t,r=>new c0e(r),"implicit",["Relevant: How do I add a custom server route?","Relevant: Where is the code that processes the response from CopyableThreadElement?","Relevant: Where do I add tests for the InputValidation class?","Relevant: How to implement a shared buffer component","Not relevant: What does numpy do?"],async r=>!0)}};d();var XQe=I.Object({labels:I.Array(I.String())}),u0e=class{constructor(t){this.turnContext=t}static{o(this,"ProjectLabelsSkillProcessor")}value(){return 1}async processSkill(t){let r=[];return r.push([new Xt(["The developer is working on a project with the following characteristics (languages, frameworks):"]),1]),t.labels.forEach(n=>{r.push([new Xt([`- ${n}`]),.9]),this.turnContext.collectLabel(mh,n)}),new Xt(r)}},mh="project-labels",qG=class{constructor(t){this._resolver=t;this.id=mh;this.type="explicit"}static{o(this,"ProjectLabelsSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new u0e(t)}};d();var WG=tt(df());var eMe={id:0,start_offset:0,stop_offset:0,type:"code_vulnerability",details:{type:"server-side-unvalidated-url-redirection",description:"Allows a URL to be redirected to a different URL that is specified by an external user.",ui_type:"test",ui_description:"test"}},tMe=WG.dedent`
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna 
    aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
`,rMe=WG.dedent`
    \`\`\`kotlin
    fun main() {
        println("Hello, World!")
    }
    \`\`\`
`,TSt=WG.dedent`
    ### Inputs
    
    \`p\` - paragraph message
    
    \`c\` - code block
    
    \`<number>\` - number of vulnerabilities, must be at the end of the string (applies to all code blocks)
    
    ### Examples
    
    \`/debug.vulnerability\` - 1 paragraph followed by 1 code block with 1 vulnerability
    
    \`/debug.vulnerability pcc2\` - 1 paragraph followed by 2 code blocks with 2 vulnerabilities each
    
    \`/debug.vulnerability cpc3\` - 1 code block followed by 1 paragraph followed by 1 code block--each code block has 3 vulnerabilities
`,f0e=`

`,ZQe=tMe+f0e+rMe;function nMe(e){let t=1;if(e.length===0)return{reply:ZQe,vulnerabilities:t};if(e==="0")return{reply:ZQe,vulnerabilities:0};if(e==="help")return{reply:TSt,vulnerabilities:t};let r=e.slice(-1);isNaN(Number(r))||(t=Number(r),e=e.slice(0,-1));let n="";for(let i of e)i==="p"?n+=tMe+f0e:i==="c"&&(n+=rMe+f0e);return{reply:n.trimEnd(),vulnerabilities:t}}o(nMe,"parseVulnerabilitiesInstructions");var iMe=tt(df());var wSt="Oops, your response got filtered. Vote down if you think this shouldn't have happened",SSt="You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",d0e=class{constructor(){this.id="debug.fail";this.description="Fail for debugging purposes";this.shortDescription="Fail";this.scopes=["chat-panel"]}static{o(this,"DebugFailPromptTemplate")}response(t,r){throw new Error(r.length>0?r:"Debug Fail")}},_St=new d0e,m0e=class{constructor(){this.id="debug.upgrade";this.description="upgrade for debugging purposes";this.shortDescription="upgrade";this.scopes=["chat-panel"]}static{o(this,"DebugUpgradePromptTemplate")}async response(t,r){return new kl(SSt,{message:"",code:402,responseIsIncomplete:!0,responseIsFiltered:!1})}},kSt=new m0e,h0e=class{constructor(){this.id="debug.notify";this.description="Notify for debugging purposes";this.shortDescription="Notify";this.scopes=["chat-panel","inline"]}static{o(this,"DebugNotificationPromptTemplate")}async response(t,r){let n="warning";r.includes("info")&&(n="info");let i=r.replace("info","").replace("warning","").trim(),s=[{severity:n,message:i.length>0?i:"Debug Notification"}];return new kl("Alright, I'm producing a notification",void 0,[],s)}},BSt=new h0e,p0e=class{constructor(){this.id="debug.filter";this.description="Make the RAI filter kick in";this.shortDescription="RAI Filter";this.scopes=["chat-panel"]}static{o(this,"DebugFilterPromptTemplate")}async response(t,r){return t.turn.status="filtered",new kl(wSt,{message:"",responseIsFiltered:!0,responseIsIncomplete:!1})}},RSt=new p0e,g0e=class{constructor(){this.id="debug.dump";this.description="Dump the conversation";this.shortDescription="Dump";this.scopes=["chat-panel"]}static{o(this,"DebugDumpPromptTemplate")}async response(t){return new kl(await sMe(t))}},DSt=new g0e,A0e=class{constructor(){this.id="debug.tree";this.description="Jingle bells, jingle bells, jingle all the way";this.shortDescription="Christmas Tree";this.scopes=["chat-panel"]}static{o(this,"DebugChristmasTreePromptTemplate")}async requiredSkills(t){return[mh,k0]}instructions(t,r){return"Create a function that prints a christmas tree"}},PSt=new A0e,y0e=class{constructor(){this.id="debug.echo";this.description="Echo the user message back to the user";this.shortDescription="Echo";this.scopes=["chat-panel"]}static{o(this,"DebugEchoPromptTemplate")}async response(t){return new kl(en(t.turn.request.message))}},FSt=new y0e,C0e=class{constructor(){this.id="debug.prompt";this.description="Show the prompt for the last response or generate a new one";this.shortDescription="Prompt";this.scopes=["chat-panel"]}static{o(this,"DebugPromptPromptTemplate")}async response(t,r){let n=t.ctx.get(Bl).getLastTurnPrompts();if(n!==void 0&&n.size>0){let i="Here are the prompts used in the last turn:";return n.forEach((s,a)=>{i+=iMe.default`

                        ### ${a} prompt
                        
                        \`\`\`\`
                        ${s}
                        \`\`\`\`
                    `}),new kl(i)}return new kl("No prompt available")}},NSt=new C0e,x0e=class{constructor(){this.id="debug.skills";this.description="Resolves and displays all available skills or a single skill (id) if provided";this.shortDescription="Skills";this.scopes=["chat-panel"]}static{o(this,"DebugSkillsPromptTemplate")}async response(t,r,n){let i,s;if(r.length>0){let a=r.split(" ");i=a[0],s=a.slice(1).join(" ")}return t.turn.request.message=s??"",new kl(await aMe(t,n,i))}},LSt=new x0e,E0e=class{constructor(){this.id="debug.vulnerability";this.description="Create a message with a vulnerability annotation";this.shortDescription="Vulnerability";this.scopes=["chat-panel"]}static{o(this,"DebugVulnerabilityPromptTemplate")}async response(t,r){let{reply:n,vulnerabilities:i}=nMe(r);for(let s=0;s<i;s++)t.turn.annotations.push(eMe);return new kl(n,void 0,t.turn.annotations)}},QSt=new E0e,b0e=class{constructor(){this.id="debug.citation";this.description="Create a message with a code citation annotation";this.shortDescription="CodeCitation";this.scopes=["chat-panel"]}static{o(this,"DebugCodeCitationPromptTemplate")}async response(t,r){return t.turn.annotations.push(LQe),new kl(QQe,void 0,t.turn.annotations)}},MSt=new b0e,v0e=class{constructor(){this.id="debug.markdown";this.description="Markdown rendering specification by example";this.shortDescription="Markdown";this.scopes=["chat-panel","inline"]}static{o(this,"DebugMarkdownRenderingPromptTemplate")}async response(t,r){return new kl(MQe)}},OSt=new v0e,I0e=class{constructor(){this.id="debug.long";this.description="Generate a long response";this.shortDescription="Long";this.scopes=["chat-panel"]}static{o(this,"DebugLongPromptTemplate")}instructions(t,r){return"Write out the OWASP top 10 with code examples in java"}},USt=new I0e,T0e=class{constructor(){this.id="debug.project";this.description="Generate a response using the project context skill";this.shortDescription="Project";this.scopes=["chat-panel","inline"]}static{o(this,"DebugProjectContextPromptTemplate")}async requiredSkills(t){return[D6]}},qSt=new T0e,w0e=class{constructor(){this.id="debug.confirmation";this.description="Generate a response with a confirmation";this.shortDescription="Confirmation";this.scopes=["chat-panel","inline"]}static{o(this,"DebugConfirmationPromptTemplate")}async response(){let t={type:"action",title:"Confirmation that you want to proceed",message:"Do you want to proceed?",agentSlug:"debug.confirmation",confirmation:{answer:"yes"}};return new kl("Alright, I'm producing a notification",void 0,[],[],[],t)}},WSt=new w0e;function oMe(){return[_St,kSt,BSt,RSt,PSt,DSt,FSt,NSt,LSt,QSt,MSt,WSt,OSt,USt,qSt]}o(oMe,"getDebugTemplates");d();d();function nC(e,t){if(e.length==0)return new Xt([]);let r=e.map((n,i)=>{let s;switch(t){case"linear":s=1-i/e.length;break;case"inverseLinear":s=(i+1)/e.length;break;case"positional":s=1/(i+1);break;case"inversePositional":s=1/(e.length-i);break}return Array.isArray(n)&&n.length==2&&(s*=n[1],n=n[0]),[n,s]});return new Xt(r)}o(nC,"weighElidableList");var lMe=I.Object({uri:I.String(),problems:I.Array(I.Object({message:I.String(),range:Im}))}),S0e=class{constructor(t){this.turnContext=t}static{o(this,"ProblemsInActiveDocumentSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(dn),n=await r.getOrReadTextDocument(t);if(await this.turnContext.collectFile(iC,t.uri,ns(n)),n.status==="valid"){let i=r.getRelativePath(n.document);this.turnContext.collectLabel(iC,`problems in ${i}`);let s=this.getElidableProblems(t,n,i);return await this.preElideDocuments(s)}else this.turnContext.collectLabel(iC,"problem markers")}getElidableProblems(t,r,n){let i=[];return i.push(new Xt([`Problems and errors in the active document (\`${n}\`):`])),i.push(...this.createElidableProblems(t,r)),nC(i,"linear")}createElidableProblems(t,r){return t.problems.map(n=>{let i=[];i.push(new Xt([`- "${n.message}" at line ${n.range.start.line}.`+(r.document?" Excerpt from the code:":"")]));let s=n.range,a;if(s&&(this.isEmpty(s)?a=r.document.lineAt(s.start).text:a=r.document.getText(s),a)){let l=r.document.detectedLanguageId;i.push(new Xt([["```"+l,1],[Nu(a),.8],["```",1]]))}return new Xt(i)})}isEmpty(t){return t.start.line===t.end.line&&t.start.character===t.end.character}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(ti).getBestChatModelConfig(Zo("user"))).maxRequestTokens,n=t.elide(Math.floor(r*.1)).getText();return new Xt([n])}},iC="problems-in-active-document",GG=class extends _l{static{o(this,"ProblemsInActiveDocumentSkill")}constructor(t){super(iC,"List of problems and errors in the active document, useful when the user question is about finding and fixing errors, non-functioning code, compilation issues, etc.","Analyzing problems and errors",()=>t,r=>new S0e(r),"explicit",["How can I fix the errors?","Why is my app not working?","Why am I getting compilation errors?","Raw error messages or stack traces"])}};d();d();var HG=class{constructor(t){this.turnContext=t}static{o(this,"PromptForTestGeneration")}async fromImplementationFile(t){let r=this.turnContext.ctx.get(Vr).getWorkspaceFolder(t),n=this.fileExistFn(),i=new Z_(this.turnContext.ctx,n,r?.uri),s=await i.findTestFileForSourceFile(t.uri),a=await ek(t.uri);if(s&&!a){let l=t.detectedLanguageId;if(await n(s))return await this.asTestFilePrompt(l,s);{let c=i.findExampleTestFile(t.uri);if(c)return await this.asExampleFilePrompt(l,c)}}}async fromTestFile(t){if(!await ek(t))return;let n=this.turnContext.ctx.get(Vr).getWorkspaceFolder(t),i=this.fileExistFn(),a=await new Z_(this.turnContext.ctx,i,n?.uri).findImplFileForTestFile(t.uri);if(a){let l=t.detectedLanguageId;if(await i(a))return await this.asImplFilePrompt(l,a)}}async asImplFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new Xt([[`${GSt} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Xt([])}async asTestFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new Xt([[`${HSt} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Xt([])}async asExampleFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,s]=n;return new Xt([[`${VSt} \`${s}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Xt([])}async fileInfoForPrompt(t){if(!this.turnContext.isFileIncluded(t)){let r=this.turnContext.ctx.get(dn),n=await r.getOrReadTextDocument({uri:t});if(await this.turnContext.collectFile(hh,t,ns(n)),n.status==="valid"){let i=r.getRelativePath(n.document);return[Nu(n.document.getText()),i]}}}fileExistFn(){return async t=>{try{return await this.turnContext.ctx.get(ko).stat(t),!0}catch{return!1}}}},GSt="Code excerpt from the implementation source file",HSt="Code excerpt from the test file",VSt="Code excerpt from an example test file";var cMe=I.Object({currentFileUri:I.String(),sourceFileUri:I.Optional(I.String()),testFileUri:I.Optional(I.String())}),k0e=class{constructor(t){this.turnContext=t}static{o(this,"TestContextSkillProcessor")}value(){return .9}async processSkill(t){let r=this.turnContext.ctx.get(dn),n=new HG(this.turnContext);if(t.sourceFileUri&&t.testFileUri){if(t.sourceFileUri!==t.currentFileUri&&t.testFileUri!==t.currentFileUri)return;if(t.testFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.testFileUri});if(await this.turnContext.collectFile(hh,t.testFileUri,ns(i)),i.status==="valid")return await n.asImplFilePrompt(i.document.detectedLanguageId,t.sourceFileUri)}else if(t.sourceFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.sourceFileUri});if(await this.turnContext.collectFile(hh,t.sourceFileUri,ns(i)),i.status==="valid")return await n.asTestFilePrompt(i.document.detectedLanguageId,t.testFileUri)}}else if(t.sourceFileUri&&t.sourceFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.sourceFileUri});if(await this.turnContext.collectFile(hh,t.sourceFileUri,ns(i)),i.status==="valid")return await n.fromImplementationFile(i.document)}else if(t.testFileUri&&t.testFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.testFileUri});if(await this.turnContext.collectFile(hh,t.testFileUri,ns(i)),i.status==="valid")return await n.fromTestFile(i.document)}}},hh="test-context",VG=class extends _l{static{o(this,"TestContextSkill")}constructor(t){super(hh,"Example tests useful for creating, adding and fixing tests, to detect available test frameworks as well as finding the corresponding implementation to existing tests","Searching test examples",()=>t,r=>new k0e(r))}};d();var uMe=tt(df());var fMe=I.Object({failures:I.Array(I.Object({testName:I.String(),testSuite:I.Optional(I.String()),testFileUri:I.String(),failureReason:I.Optional(I.String()),testLocation:Im}))}),B0e=class{constructor(t){this.turnContext=t}static{o(this,"TestFailuresSkillProcessor")}value(){return .9}async processSkill(t){if(t.failures.length>0){this.turnContext.collectLabel(Lx,"test failures");let r=await this.createElidableFailures(t.failures);if(r){let n=new Xt(["The latest test run produced the following failures and errors:"]);return new Xt([[n,1],[r,1]])}}}async createElidableFailures(t){let r=this.turnContext.ctx.get(dn),n=[],i=this.groupFailuresByFile(t);for(let[s,a]of i.entries()){let l=await r.getOrReadTextDocument({uri:s});if(await this.turnContext.collectFile(Lx,s,ns(l)),l.status==="valid"){let c=r.getRelativePath(l.document),u=this.createElidableFailuresOfDoc(a,c),f=this.appendCode(u,c,l.document);n.push([f,1])}}if(n.length>0)return new Xt(n)}groupFailuresByFile(t){let r=new Map;for(let n of t){let i=r.get(n.testFileUri)||[];i.push(n),r.set(n.testFileUri,i)}return r}createElidableFailuresOfDoc(t,r){let n=t.map(i=>{let s=`\`${i.testName}\``,a=`${i.testSuite?` in suite \`${i.testSuite}\``:""}`,l=` in file \`${r}\` `,c=". ";i.failureReason&&(c=" with the following error:",i.failureReason.includes(`
`)?c+="\n```\n"+i.failureReason+"\n```\n":c+=` \`${i.failureReason}\`. `);let u=`${i.testLocation.start.line==i.testLocation.end.line?"on line "+i.testLocation.start.line:"between lines "+i.testLocation.start.line+" and "+i.testLocation.end.line}`;return[new Xt([uMe.default`\n\n- Test ${s}${a}${l}failed${c}The failed test is ${u}.\n`]),1]});return new Xt(n)}appendCode(t,r,n){let i=[new Xt([`
The code of file \`${r}\` is:
`]),.6],s=[new Xt([["```"+n.detectedLanguageId,1],[Nu(n.getText()),.9],["```",1]]),.7];return new Xt([[t,1],i,s])}},Lx="test-failures",jG=class extends _l{static{o(this,"TestFailuresSkill")}constructor(t){super(Lx,"Test failures and errors of the latest test run","Collecting test failures",()=>t,r=>new B0e(r))}};var Od=tt(df());var kl=class{constructor(t,r,n=[],i=[],s=[],a){this.message=t;this.error=r;this.annotations=n;this.notifications=i;this.references=s;this.confirmationRequest=a}static{o(this,"PromptTemplateResponse")}},Qx=class{constructor(t,r,n,i,s=[],a=[],l,c=!1){this.id=t;this.description=r;this.shortDescription=n;this.prompt=i;this.skills=s;this.scopes=a;this.inlinePrompt=l;this.producesCodeEdits=c}static{o(this,"StaticPromptTemplate")}instructions(t,r,n="panel"){let i;return n==="inline"?i=this.inlinePrompt??this.prompt:i=this.prompt,i+`
`+r}async requiredSkills(t){return this.skills}},jSt=new Qx("tests","Generate unit tests","Generate Tests",Od.default`
        Write a set of unit tests for the code above, or for the selected code if provided.
        Provide tests for the functionality of the code and not the implementation details.
        The tests should test the happy path as well as the edge cases.
        Choose self explanatory names for the tests that describe the tested behavior. Do not start the test names with "test".
        Think about the different scenarios that could happen and test them.
        Do reply with the tests only and do not explain them further.
        Do reply with new or modified tests only and not with the complete test class or suite.
        Follow the same test style as in existing tests if they exist.
        You must not create inline comments like "Arrange, Act, Assert", unless existing tests use inline comments as well.
        If existing tests use any mocking or stubbing libraries, use the same libraries before writing your own test doubles.
        `,[hh,Lx],["chat-panel","editor"]),$St=new Qx("simplify","Simplify the code","Simplify This",Od.default`
        Provide a simplified version of the selected code above.
        Do not change the behavior of the code. 
        The code should still be readable and easy to understand. 
        Do not reply with the original code but only a simplified version. 
        Do only reply with one code snippet that contains the complete simplified code and explain what you have simplified after.`,[],["editor","chat-panel","inline"],Od.default`
        Provide a simplified version of the selected code.
        Modify the selected code to make it simpler and easier to understand.
        Do not change the behavior of the code. 
        Removing empty lines is not a simplification.
        You must not omit any code that is necessary for the code to compile and run, for example by replacing lines with ... or similar.
        Do not reply with the original code but only a simplified version.`,!0),zSt=new Qx("fix","Fix problems and compile errors","Fix This",Od.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed. 
        Group problems if they are related and can be fixed by the same change. 
        Present a group as a single problem with a simple description that does not repeat the single problems but explains the whole group of problems in a few words.
        Explain each group of problems without repeating the detailed error message. 
        Show how the error can be fixed by providing a code snippet that displays the code before and after it has been fixed after each group. 
        Shorten fully qualified class names to the simple class name and full file paths to the file names only.
        When enumerating the groups, start with the word "Problem" followed by the number and a quick summary of the problem. Format this headline bold.
        At last provide a completely fixed version of the code if the fixes required multiple code changes.`,[iC],["editor","chat-panel","inline"],Od.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed.
        Do not attempt to fix problems that are not provided, like unbalanced brackets or parentheses that are not causing errors.
        Briefly explain the problems without repeating the detailed error message.`,!0),YSt=new Qx("explain","Explain how the code works","Explain This",Od.default`
        Write an explanation for the selected code above as paragraphs of text. 
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        The explanation should be easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,[],["editor","chat-panel","inline"],Od.default`
        Write an explanation for the code the user is selecting.
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        Keep the explanation brief and easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,!1),KSt=new Qx("doc","Document the current selection of code","Generate Docs",Od.default`
        Write documentation for the selected code.
        The reply should be a codeblock containing the original selection with the documentation added as comments.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.)`,[],["editor","chat-panel","inline"],Od.default`
        Add documentation to the selected code.
        Modify the selected code by adding documentation as comments.
        You must only modify the selected code and nothing else.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.).
        Place the comments before functions and methods, unless the language has a different convention (for example Python's docstring).`,!0),R0e=class{constructor(){this.id="feedback";this.description="Steps to provide feedback";this.shortDescription="Feedback";this.scopes=["chat-panel"]}static{o(this,"FeedbackPromptTemplate")}async response(t){let r=F0e(t.conversation),n=Od.default`
            You can provide direct feedback by pressing the thumbs up/down buttons on a single message. 
            In case you want to share more details, please click [here](https://gh.io/copilot-chat-jb-feedback) to share your feedback.
            `;return r?new kl(n+`

In order to help us understand your feedback better, you can include the following identifier in your feedback: by doing so, you are granting us permission to access the telemetry data associated with your feedback.
\`\`\`yaml
${t.conversation.id}/${r}
\`\`\``):new kl(n)}},JSt=new R0e,D0e=class{constructor(){this.id="help";this.description="Get help on how to use Copilot chat";this.shortDescription="Help";this.scopes=["chat-panel"]}static{o(this,"HelpPromptTemplate")}async response(t){let r=P0e(t.ctx).filter(i=>i!=this),n=Od.default`
            You can ask me general programming questions, or use one of the following commands to get help with a specific task:

            ${r.map(i=>`- \`/${i.id}\` - ${i.description}`).join(`
`)}

            To have a great conversation, ask me questions as if I was a real programmer:
            
            - **Show me the code** you want to talk about by having the files open and selecting the most important lines.
            - On top of files, **I take different parts of your IDE into consideration** when answering questions. This includes, but is not limited to, test results and failures, build and runtime logs, active Git repository as well as details of the open project.
            - **Make refinements** by asking me follow-up questions, adding clarifications, providing errors, etc.
            - **Review my suggested code** and tell me about issues or improvements, so I can iterate on it.
        `;return new kl(n)}},XSt=new D0e;function nk(){return[jSt,$St,zSt,YSt,KSt,JSt,XSt,...oMe()]}o(nk,"getPromptTemplates");function P0e(e){let t=nk();return!dT(e)&&!Tm(e)&&(t=t.filter(r=>!r.id.startsWith("debug."))),t}o(P0e,"getUserFacingPromptTemplates");var N0e=class{constructor(t,r){this.conversation=t;this.capabilities=r}static{o(this,"ConversationHolder")}},Vi=class{constructor(t){this.ctx=t;this.conversations=new xn(100)}static{o(this,"Conversations")}async create(t,r="panel",n){let i=new PG([],r,n);return this.conversations.set(i.id,new N0e(i,t)),i}destroy(t){this.conversations.delete(t)}async addTurn(t,r,n,i,s,a){let l=this.get(t);return r.request.references=n&&n.length>0?n:[],i&&(r.workspaceFolder=i),s&&s.length>0&&(r.ignoredSkills=s.map(c=>({skillId:c}))),a&&(r.agent={agentSlug:a.agentSlug},r.confirmationResponse=a),await this.determineAndApplyAgent(l,r),await this.determineAndApplyTemplate(l,r),l.addTurn(r),r}async determineAndApplyAgent(t,r){if(t.source==="panel"&&en(r.request.message).trim().startsWith("@")){let[n,i]=this.extractKeywordAndQuestionFromRequest(en(r.request.message),"@");(await dg(this.ctx)).find(l=>l.slug===n)&&(r.request.message=i,r.request.type="user",r.agent={agentSlug:n})}}async determineAndApplyTemplate(t,r){if(en(r.request.message).trim().startsWith("/")){let[n,i]=this.extractKeywordAndQuestionFromRequest(en(r.request.message),"/"),s=nk().find(a=>a.id===n);if(s){r.request.message=i,r.request.type="user",await this.determineAndApplyAgent(t,r);let a=s.instructions?s.instructions(this.ctx,r.request.message,t.source):i;r.template={templateId:n,userQuestion:r.request.message},r.request.message=a,r.request.type="template"}}}extractKeywordAndQuestionFromRequest(t,r){let[n,...i]=t.trim().split(" "),s=i.join(" ");return[n.replace(r,""),s]}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getHolder(t).conversation}getCapabilities(t){return this.getHolder(t).capabilities}getSupportedSkills(t){let r=this.ctx.get(Ga).getDescriptors().filter(i=>i.type==="implicit").map(i=>i.id),n=this.getCapabilities(t).skills;return[...r,...n]}filterSupportedSkills(t,r){let n=this.getSupportedSkills(t);return r.filter(i=>n.includes(i))}getHolder(t){let r=this.conversations.get(t);if(!r)throw new Error(`Conversation with id ${t} does not exist`);return r}getAll(){let t=this.conversations.values();return Array.from(t).map(r=>r.conversation)}findByTurnId(t){return this.getAll().find(r=>r.hasTurn(t))}};d();function SMe(e){return typeof e>"u"||e===null}o(SMe,"isNothing");function ZSt(e){return typeof e=="object"&&e!==null}o(ZSt,"isObject");function e_t(e){return Array.isArray(e)?e:SMe(e)?[]:[e]}o(e_t,"toArray");function t_t(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}o(t_t,"extend");function r_t(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}o(r_t,"repeat");function n_t(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}o(n_t,"isNegativeZero");var i_t=SMe,o_t=ZSt,s_t=e_t,a_t=r_t,l_t=n_t,c_t=t_t,tl={isNothing:i_t,isObject:o_t,toArray:s_t,repeat:a_t,isNegativeZero:l_t,extend:c_t};function _Me(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}o(_Me,"formatError");function ok(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=_Me(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}o(ok,"YAMLException$1");ok.prototype=Object.create(Error.prototype);ok.prototype.constructor=ok;ok.prototype.toString=o(function(t){return this.name+": "+_Me(this,t)},"toString");var ou=ok;function L0e(e,t,r,n,i){var s="",a="",l=Math.floor(i/2)-1;return n-t>l&&(s=" ... ",t=n-l+s.length),r-n>l&&(a=" ...",r=n+l-a.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+a,pos:n-t+s.length}}o(L0e,"getLine");function Q0e(e,t){return tl.repeat(" ",t-e.length)+e}o(Q0e,"padStart");function u_t(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var l="",c,u,f=Math.min(e.line+t.linesAfter,i.length).toString().length,m=t.maxLength-(t.indent+f+3);for(c=1;c<=t.linesBefore&&!(a-c<0);c++)u=L0e(e.buffer,n[a-c],i[a-c],e.position-(n[a]-n[a-c]),m),l=tl.repeat(" ",t.indent)+Q0e((e.line-c+1).toString(),f)+" | "+u.str+`
`+l;for(u=L0e(e.buffer,n[a],i[a],e.position,m),l+=tl.repeat(" ",t.indent)+Q0e((e.line+1).toString(),f)+" | "+u.str+`
`,l+=tl.repeat("-",t.indent+f+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(a+c>=i.length);c++)u=L0e(e.buffer,n[a+c],i[a+c],e.position-(n[a]-n[a+c]),m),l+=tl.repeat(" ",t.indent)+Q0e((e.line+c+1).toString(),f)+" | "+u.str+`
`;return l.replace(/\n$/,"")}o(u_t,"makeSnippet");var f_t=u_t,d_t=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],m_t=["scalar","sequence","mapping"];function h_t(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}o(h_t,"compileStyleAliases");function p_t(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(d_t.indexOf(r)===-1)throw new ou('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=h_t(t.styleAliases||null),m_t.indexOf(this.kind)===-1)throw new ou('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}o(p_t,"Type$1");var B0=p_t;function dMe(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}o(dMe,"compileList");function g_t(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(o(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}o(g_t,"compileMap");function O0e(e){return this.extend(e)}o(O0e,"Schema$1");O0e.prototype.extend=o(function(t){var r=[],n=[];if(t instanceof B0)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new ou("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof B0))throw new ou("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new ou("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new ou("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof B0))throw new ou("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(O0e.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=dMe(i,"implicit"),i.compiledExplicit=dMe(i,"explicit"),i.compiledTypeMap=g_t(i.compiledImplicit,i.compiledExplicit),i},"extend");var A_t=O0e,y_t=new B0("tag:yaml.org,2002:str",{kind:"scalar",construct:o(function(e){return e!==null?e:""},"construct")}),C_t=new B0("tag:yaml.org,2002:seq",{kind:"sequence",construct:o(function(e){return e!==null?e:[]},"construct")}),x_t=new B0("tag:yaml.org,2002:map",{kind:"mapping",construct:o(function(e){return e!==null?e:{}},"construct")}),E_t=new A_t({explicit:[y_t,C_t,x_t]});function b_t(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}o(b_t,"resolveYamlNull");function v_t(){return null}o(v_t,"constructYamlNull");function I_t(e){return e===null}o(I_t,"isNull");var T_t=new B0("tag:yaml.org,2002:null",{kind:"scalar",resolve:b_t,construct:v_t,predicate:I_t,represent:{canonical:o(function(){return"~"},"canonical"),lowercase:o(function(){return"null"},"lowercase"),uppercase:o(function(){return"NULL"},"uppercase"),camelcase:o(function(){return"Null"},"camelcase"),empty:o(function(){return""},"empty")},defaultStyle:"lowercase"});function w_t(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}o(w_t,"resolveYamlBoolean");function S_t(e){return e==="true"||e==="True"||e==="TRUE"}o(S_t,"constructYamlBoolean");function __t(e){return Object.prototype.toString.call(e)==="[object Boolean]"}o(__t,"isBoolean");var k_t=new B0("tag:yaml.org,2002:bool",{kind:"scalar",resolve:w_t,construct:S_t,predicate:__t,represent:{lowercase:o(function(e){return e?"true":"false"},"lowercase"),uppercase:o(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:o(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function B_t(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}o(B_t,"isHexCode");function R_t(e){return 48<=e&&e<=55}o(R_t,"isOctCode");function D_t(e){return 48<=e&&e<=57}o(D_t,"isDecCode");function P_t(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!B_t(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!R_t(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!D_t(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}o(P_t,"resolveYamlInteger");function F_t(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}o(F_t,"constructYamlInteger");function N_t(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!tl.isNegativeZero(e)}o(N_t,"isInteger");var L_t=new B0("tag:yaml.org,2002:int",{kind:"scalar",resolve:P_t,construct:F_t,predicate:N_t,represent:{binary:o(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:o(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:o(function(e){return e.toString(10)},"decimal"),hexadecimal:o(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Q_t=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function M_t(e){return!(e===null||!Q_t.test(e)||e[e.length-1]==="_")}o(M_t,"resolveYamlFloat");function O_t(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}o(O_t,"constructYamlFloat");var U_t=/^[-+]?[0-9]+e/;function q_t(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(tl.isNegativeZero(e))return"-0.0";return r=e.toString(10),U_t.test(r)?r.replace("e",".e"):r}o(q_t,"representYamlFloat");function W_t(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||tl.isNegativeZero(e))}o(W_t,"isFloat");var G_t=new B0("tag:yaml.org,2002:float",{kind:"scalar",resolve:M_t,construct:O_t,predicate:W_t,represent:q_t,defaultStyle:"lowercase"}),H_t=E_t.extend({implicit:[T_t,k_t,L_t,G_t]}),V_t=H_t,kMe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),BMe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function j_t(e){return e===null?!1:kMe.exec(e)!==null||BMe.exec(e)!==null}o(j_t,"resolveYamlTimestamp");function $_t(e){var t,r,n,i,s,a,l,c=0,u=null,f,m,h;if(t=kMe.exec(e),t===null&&(t=BMe.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],a=+t[5],l=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(f=+t[10],m=+(t[11]||0),u=(f*60+m)*6e4,t[9]==="-"&&(u=-u)),h=new Date(Date.UTC(r,n,i,s,a,l,c)),u&&h.setTime(h.getTime()-u),h}o($_t,"constructYamlTimestamp");function z_t(e){return e.toISOString()}o(z_t,"representYamlTimestamp");var Y_t=new B0("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:j_t,construct:$_t,instanceOf:Date,represent:z_t});function K_t(e){return e==="<<"||e===null}o(K_t,"resolveYamlMerge");var J_t=new B0("tag:yaml.org,2002:merge",{kind:"scalar",resolve:K_t}),H0e=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function X_t(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=H0e;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}o(X_t,"resolveYamlBinary");function Z_t(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=H0e,a=0,l=[];for(t=0;t<i;t++)t%4===0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)),a=a<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)):r===18?(l.push(a>>10&255),l.push(a>>2&255)):r===12&&l.push(a>>4&255),new Uint8Array(l)}o(Z_t,"constructYamlBinary");function ekt(e){var t="",r=0,n,i,s=e.length,a=H0e;for(n=0;n<s;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}o(ekt,"representYamlBinary");function tkt(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}o(tkt,"isBinary");var rkt=new B0("tag:yaml.org,2002:binary",{kind:"scalar",resolve:X_t,construct:Z_t,predicate:tkt,represent:ekt}),nkt=Object.prototype.hasOwnProperty,ikt=Object.prototype.toString;function okt(e){if(e===null)return!0;var t=[],r,n,i,s,a,l=e;for(r=0,n=l.length;r<n;r+=1){if(i=l[r],a=!1,ikt.call(i)!=="[object Object]")return!1;for(s in i)if(nkt.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}o(okt,"resolveYamlOmap");function skt(e){return e!==null?e:[]}o(skt,"constructYamlOmap");var akt=new B0("tag:yaml.org,2002:omap",{kind:"sequence",resolve:okt,construct:skt}),lkt=Object.prototype.toString;function ckt(e){if(e===null)return!0;var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],lkt.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}o(ckt,"resolveYamlPairs");function ukt(e){if(e===null)return[];var t,r,n,i,s,a=e;for(s=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}o(ukt,"constructYamlPairs");var fkt=new B0("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:ckt,construct:ukt}),dkt=Object.prototype.hasOwnProperty;function mkt(e){if(e===null)return!0;var t,r=e;for(t in r)if(dkt.call(r,t)&&r[t]!==null)return!1;return!0}o(mkt,"resolveYamlSet");function hkt(e){return e!==null?e:{}}o(hkt,"constructYamlSet");var pkt=new B0("tag:yaml.org,2002:set",{kind:"mapping",resolve:mkt,construct:hkt}),RMe=V_t.extend({implicit:[Y_t,J_t],explicit:[rkt,akt,fkt,pkt]}),sC=Object.prototype.hasOwnProperty,$G=1,DMe=2,PMe=3,zG=4,M0e=1,gkt=2,mMe=3,Akt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ykt=/[\x85\u2028\u2029]/,Ckt=/[,\[\]\{\}]/,FMe=/^(?:!|!!|![a-z\-]+!)$/i,NMe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function hMe(e){return Object.prototype.toString.call(e)}o(hMe,"_class");function mg(e){return e===10||e===13}o(mg,"is_EOL");function Ox(e){return e===9||e===32}o(Ox,"is_WHITE_SPACE");function su(e){return e===9||e===32||e===10||e===13}o(su,"is_WS_OR_EOL");function F6(e){return e===44||e===91||e===93||e===123||e===125}o(F6,"is_FLOW_INDICATOR");function xkt(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}o(xkt,"fromHexCode");function Ekt(e){return e===120?2:e===117?4:e===85?8:0}o(Ekt,"escapedHexLen");function bkt(e){return 48<=e&&e<=57?e-48:-1}o(bkt,"fromDecimalCode");function pMe(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}o(pMe,"simpleEscapeSequence");function vkt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}o(vkt,"charFromCodepoint");var LMe=new Array(256),QMe=new Array(256);for(Mx=0;Mx<256;Mx++)LMe[Mx]=pMe(Mx)?1:0,QMe[Mx]=pMe(Mx);var Mx;function Ikt(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||RMe,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}o(Ikt,"State$1");function MMe(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=f_t(r),new ou(t,r)}o(MMe,"generateError");function Yr(e,t){throw MMe(e,t)}o(Yr,"throwError");function YG(e,t){e.onWarning&&e.onWarning.call(null,MMe(e,t))}o(YG,"throwWarning");var gMe={YAML:o(function(t,r,n){var i,s,a;t.version!==null&&Yr(t,"duplication of %YAML directive"),n.length!==1&&Yr(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Yr(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&Yr(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&YG(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:o(function(t,r,n){var i,s;n.length!==2&&Yr(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],FMe.test(i)||Yr(t,"ill-formed tag handle (first argument) of the TAG directive"),sC.call(t.tagMap,i)&&Yr(t,'there is a previously declared suffix for "'+i+'" tag handle'),NMe.test(s)||Yr(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Yr(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s},"handleTagDirective")};function oC(e,t,r,n){var i,s,a,l;if(t<r){if(l=e.input.slice(t,r),n)for(i=0,s=l.length;i<s;i+=1)a=l.charCodeAt(i),a===9||32<=a&&a<=1114111||Yr(e,"expected valid JSON character");else Akt.test(l)&&Yr(e,"the stream contains non-printable characters");e.result+=l}}o(oC,"captureSegment");function AMe(e,t,r,n){var i,s,a,l;for(tl.isObject(r)||Yr(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,l=i.length;a<l;a+=1)s=i[a],sC.call(t,s)||(t[s]=r[s],n[s]=!0)}o(AMe,"mergeMappings");function N6(e,t,r,n,i,s,a,l,c){var u,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,f=i.length;u<f;u+=1)Array.isArray(i[u])&&Yr(e,"nested arrays are not supported inside keys"),typeof i=="object"&&hMe(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&hMe(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,f=s.length;u<f;u+=1)AMe(e,t,s[u],r);else AMe(e,t,s,r);else!e.json&&!sC.call(r,i)&&sC.call(t,i)&&(e.line=a||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,Yr(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}o(N6,"storeMappingPair");function V0e(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Yr(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}o(V0e,"readLineBreak");function Ha(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Ox(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(mg(i))for(V0e(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&YG(e,"deficient indentation"),n}o(Ha,"skipSeparationSpace");function XG(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||su(r)))}o(XG,"testDocumentSeparator");function j0e(e,t){t===1?e.result+=" ":t>1&&(e.result+=tl.repeat(`
`,t-1))}o(j0e,"writeFoldedLines");function Tkt(e,t,r){var n,i,s,a,l,c,u,f,m=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),su(p)||F6(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),su(i)||r&&F6(i)))return!1;for(e.kind="scalar",e.result="",s=a=e.position,l=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),su(i)||r&&F6(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),su(n))break}else{if(e.position===e.lineStart&&XG(e)||r&&F6(p))break;if(mg(p))if(c=e.line,u=e.lineStart,f=e.lineIndent,Ha(e,!1,-1),e.lineIndent>=t){l=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=c,e.lineStart=u,e.lineIndent=f;break}}l&&(oC(e,s,a,!1),j0e(e,e.line-c),s=a=e.position,l=!1),Ox(p)||(a=e.position+1),p=e.input.charCodeAt(++e.position)}return oC(e,s,a,!1),e.result?!0:(e.kind=m,e.result=h,!1)}o(Tkt,"readPlainScalar");function wkt(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(oC(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else mg(r)?(oC(e,n,i,!0),j0e(e,Ha(e,!1,t)),n=i=e.position):e.position===e.lineStart&&XG(e)?Yr(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Yr(e,"unexpected end of the stream within a single quoted scalar")}o(wkt,"readSingleQuotedScalar");function Skt(e,t){var r,n,i,s,a,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return oC(e,r,e.position,!0),e.position++,!0;if(l===92){if(oC(e,r,e.position,!0),l=e.input.charCodeAt(++e.position),mg(l))Ha(e,!1,t);else if(l<256&&LMe[l])e.result+=QMe[l],e.position++;else if((a=Ekt(l))>0){for(i=a,s=0;i>0;i--)l=e.input.charCodeAt(++e.position),(a=xkt(l))>=0?s=(s<<4)+a:Yr(e,"expected hexadecimal character");e.result+=vkt(s),e.position++}else Yr(e,"unknown escape sequence");r=n=e.position}else mg(l)?(oC(e,r,n,!0),j0e(e,Ha(e,!1,t)),r=n=e.position):e.position===e.lineStart&&XG(e)?Yr(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Yr(e,"unexpected end of the stream within a double quoted scalar")}o(Skt,"readDoubleQuotedScalar");function _kt(e,t){var r=!0,n,i,s,a=e.tag,l,c=e.anchor,u,f,m,h,p,A=Object.create(null),x,E,v,b;if(b=e.input.charCodeAt(e.position),b===91)f=93,p=!1,l=[];else if(b===123)f=125,p=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),b=e.input.charCodeAt(++e.position);b!==0;){if(Ha(e,!0,t),b=e.input.charCodeAt(e.position),b===f)return e.position++,e.tag=a,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=l,!0;r?b===44&&Yr(e,"expected the node content, but found ','"):Yr(e,"missed comma between flow collection entries"),E=x=v=null,m=h=!1,b===63&&(u=e.input.charCodeAt(e.position+1),su(u)&&(m=h=!0,e.position++,Ha(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,L6(e,t,$G,!1,!0),E=e.tag,x=e.result,Ha(e,!0,t),b=e.input.charCodeAt(e.position),(h||e.line===n)&&b===58&&(m=!0,b=e.input.charCodeAt(++e.position),Ha(e,!0,t),L6(e,t,$G,!1,!0),v=e.result),p?N6(e,l,A,E,x,v,n,i,s):m?l.push(N6(e,null,A,E,x,v,n,i,s)):l.push(x),Ha(e,!0,t),b=e.input.charCodeAt(e.position),b===44?(r=!0,b=e.input.charCodeAt(++e.position)):r=!1}Yr(e,"unexpected end of the stream within a flow collection")}o(_kt,"readFlowCollection");function kkt(e,t){var r,n,i=M0e,s=!1,a=!1,l=t,c=0,u=!1,f,m;if(m=e.input.charCodeAt(e.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)M0e===i?i=m===43?mMe:gkt:Yr(e,"repeat of a chomping mode identifier");else if((f=bkt(m))>=0)f===0?Yr(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?Yr(e,"repeat of an indentation width identifier"):(l=t+f-1,a=!0);else break;if(Ox(m)){do m=e.input.charCodeAt(++e.position);while(Ox(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!mg(m)&&m!==0)}for(;m!==0;){for(V0e(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!a||e.lineIndent<l)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>l&&(l=e.lineIndent),mg(m)){c++;continue}if(e.lineIndent<l){i===mMe?e.result+=tl.repeat(`
`,s?1+c:c):i===M0e&&s&&(e.result+=`
`);break}for(n?Ox(m)?(u=!0,e.result+=tl.repeat(`
`,s?1+c:c)):u?(u=!1,e.result+=tl.repeat(`
`,c+1)):c===0?s&&(e.result+=" "):e.result+=tl.repeat(`
`,c):e.result+=tl.repeat(`
`,s?1+c:c),s=!0,a=!0,c=0,r=e.position;!mg(m)&&m!==0;)m=e.input.charCodeAt(++e.position);oC(e,r,e.position,!1)}return!0}o(kkt,"readBlockScalar");function yMe(e,t){var r,n=e.tag,i=e.anchor,s=[],a,l=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Yr(e,"tab characters must not be used in indentation")),!(c!==45||(a=e.input.charCodeAt(e.position+1),!su(a))));){if(l=!0,e.position++,Ha(e,!0,-1)&&e.lineIndent<=t){s.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,L6(e,t,PMe,!1,!0),s.push(e.result),Ha(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)Yr(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}o(yMe,"readBlockSequence");function Bkt(e,t,r){var n,i,s,a,l,c,u=e.tag,f=e.anchor,m={},h=Object.create(null),p=null,A=null,x=null,E=!1,v=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),b=e.input.charCodeAt(e.position);b!==0;){if(!E&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Yr(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(b===63||b===58)&&su(n))b===63?(E&&(N6(e,m,h,p,A,null,a,l,c),p=A=x=null),v=!0,E=!0,i=!0):E?(E=!1,i=!0):Yr(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=n;else{if(a=e.line,l=e.lineStart,c=e.position,!L6(e,r,DMe,!1,!0))break;if(e.line===s){for(b=e.input.charCodeAt(e.position);Ox(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),su(b)||Yr(e,"a whitespace character is expected after the key-value separator within a block mapping"),E&&(N6(e,m,h,p,A,null,a,l,c),p=A=x=null),v=!0,E=!1,i=!1,p=e.tag,A=e.result;else if(v)Yr(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=f,!0}else if(v)Yr(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=f,!0}if((e.line===s||e.lineIndent>t)&&(E&&(a=e.line,l=e.lineStart,c=e.position),L6(e,t,zG,!0,i)&&(E?A=e.result:x=e.result),E||(N6(e,m,h,p,A,x,a,l,c),p=A=x=null),Ha(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&b!==0)Yr(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return E&&N6(e,m,h,p,A,null,a,l,c),v&&(e.tag=u,e.anchor=f,e.kind="mapping",e.result=m),v}o(Bkt,"readBlockMapping");function Rkt(e){var t,r=!1,n=!1,i,s,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&Yr(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(s=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):Yr(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!su(a);)a===33&&(n?Yr(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),FMe.test(i)||Yr(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),Ckt.test(s)&&Yr(e,"tag suffix cannot contain flow indicator characters")}s&&!NMe.test(s)&&Yr(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Yr(e,"tag name is malformed: "+s)}return r?e.tag=s:sC.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:Yr(e,'undeclared tag handle "'+i+'"'),!0}o(Rkt,"readTagProperty");function Dkt(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Yr(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!su(r)&&!F6(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Yr(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}o(Dkt,"readAnchorProperty");function Pkt(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!su(n)&&!F6(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Yr(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),sC.call(e.anchorMap,r)||Yr(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Ha(e,!0,-1),!0}o(Pkt,"readAlias");function L6(e,t,r,n,i){var s,a,l,c=1,u=!1,f=!1,m,h,p,A,x,E;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=l=zG===r||PMe===r,n&&Ha(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;Rkt(e)||Dkt(e);)Ha(e,!0,-1)?(u=!0,l=s,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):l=!1;if(l&&(l=u||i),(c===1||zG===r)&&($G===r||DMe===r?x=t:x=t+1,E=e.position-e.lineStart,c===1?l&&(yMe(e,E)||Bkt(e,E,x))||_kt(e,x)?f=!0:(a&&kkt(e,x)||wkt(e,x)||Skt(e,x)?f=!0:Pkt(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&Yr(e,"alias node should not have any properties")):Tkt(e,x,$G===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(f=l&&yMe(e,E))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Yr(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,h=e.implicitTypes.length;m<h;m+=1)if(A=e.implicitTypes[m],A.resolve(e.result)){e.result=A.construct(e.result),e.tag=A.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(sC.call(e.typeMap[e.kind||"fallback"],e.tag))A=e.typeMap[e.kind||"fallback"][e.tag];else for(A=null,p=e.typeMap.multi[e.kind||"fallback"],m=0,h=p.length;m<h;m+=1)if(e.tag.slice(0,p[m].tag.length)===p[m].tag){A=p[m];break}A||Yr(e,"unknown tag !<"+e.tag+">"),e.result!==null&&A.kind!==e.kind&&Yr(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+A.kind+'", not "'+e.kind+'"'),A.resolve(e.result,e.tag)?(e.result=A.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Yr(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}o(L6,"composeNode");function Fkt(e){var t=e.position,r,n,i,s=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(Ha(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(s=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!su(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Yr(e,"directive name must not be less than one character in length");a!==0;){for(;Ox(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!mg(a));break}if(mg(a))break;for(r=e.position;a!==0&&!su(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&V0e(e),sC.call(gMe,n)?gMe[n](e,n,i):YG(e,'unknown document directive "'+n+'"')}if(Ha(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ha(e,!0,-1)):s&&Yr(e,"directives end mark is expected"),L6(e,e.lineIndent-1,zG,!1,!0),Ha(e,!0,-1),e.checkLineBreaks&&ykt.test(e.input.slice(t,e.position))&&YG(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&XG(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ha(e,!0,-1));return}if(e.position<e.length-1)Yr(e,"end of the stream or a document separator is expected");else return}o(Fkt,"readDocument");function OMe(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Ikt(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Yr(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Fkt(r);return r.documents}o(OMe,"loadDocuments");function Nkt(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=OMe(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}o(Nkt,"loadAll$1");function Lkt(e,t){var r=OMe(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new ou("expected a single document in the stream, but found more")}}o(Lkt,"load$1");var Qkt=Nkt,Mkt=Lkt,UMe={loadAll:Qkt,load:Mkt},qMe=Object.prototype.toString,WMe=Object.prototype.hasOwnProperty,$0e=65279,Okt=9,sk=10,Ukt=13,qkt=32,Wkt=33,Gkt=34,U0e=35,Hkt=37,Vkt=38,jkt=39,$kt=42,GMe=44,zkt=45,KG=58,Ykt=61,Kkt=62,Jkt=63,Xkt=64,HMe=91,VMe=93,Zkt=96,jMe=123,eBt=124,$Me=125,R0={};R0[0]="\\0";R0[7]="\\a";R0[8]="\\b";R0[9]="\\t";R0[10]="\\n";R0[11]="\\v";R0[12]="\\f";R0[13]="\\r";R0[27]="\\e";R0[34]='\\"';R0[92]="\\\\";R0[133]="\\N";R0[160]="\\_";R0[8232]="\\L";R0[8233]="\\P";var tBt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],rBt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function nBt(e,t){var r,n,i,s,a,l,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)a=n[i],l=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),c=e.compiledTypeMap.fallback[a],c&&WMe.call(c.styleAliases,l)&&(l=c.styleAliases[l]),r[a]=l;return r}o(nBt,"compileStyleMap");function iBt(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new ou("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+tl.repeat("0",n-t.length)+t}o(iBt,"encodeHex");var oBt=1,ak=2;function sBt(e){this.schema=e.schema||RMe,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=tl.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=nBt(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ak:oBt,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}o(sBt,"State");function CMe(e,t){for(var r=tl.repeat(" ",t),n=0,i=-1,s="",a,l=e.length;n<l;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=l):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}o(CMe,"indentString");function q0e(e,t){return`
`+tl.repeat(" ",e.indent*t)}o(q0e,"generateNextLine");function aBt(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}o(aBt,"testImplicitResolving");function JG(e){return e===qkt||e===Okt}o(JG,"isWhitespace");function lk(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==$0e||65536<=e&&e<=1114111}o(lk,"isPrintable");function xMe(e){return lk(e)&&e!==$0e&&e!==Ukt&&e!==sk}o(xMe,"isNsCharOrWhitespace");function EMe(e,t,r){var n=xMe(e),i=n&&!JG(e);return(r?n:n&&e!==GMe&&e!==HMe&&e!==VMe&&e!==jMe&&e!==$Me)&&e!==U0e&&!(t===KG&&!i)||xMe(t)&&!JG(t)&&e===U0e||t===KG&&i}o(EMe,"isPlainSafe");function lBt(e){return lk(e)&&e!==$0e&&!JG(e)&&e!==zkt&&e!==Jkt&&e!==KG&&e!==GMe&&e!==HMe&&e!==VMe&&e!==jMe&&e!==$Me&&e!==U0e&&e!==Vkt&&e!==$kt&&e!==Wkt&&e!==eBt&&e!==Ykt&&e!==Kkt&&e!==jkt&&e!==Gkt&&e!==Hkt&&e!==Xkt&&e!==Zkt}o(lBt,"isPlainSafeFirst");function cBt(e){return!JG(e)&&e!==KG}o(cBt,"isPlainSafeLast");function ik(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}o(ik,"codePointAt");function zMe(e){var t=/^\n* /;return t.test(e)}o(zMe,"needIndentIndicator");var YMe=1,W0e=2,KMe=3,JMe=4,P6=5;function uBt(e,t,r,n,i,s,a,l){var c,u=0,f=null,m=!1,h=!1,p=n!==-1,A=-1,x=lBt(ik(e,0))&&cBt(ik(e,e.length-1));if(t||a)for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=ik(e,c),!lk(u))return P6;x=x&&EMe(u,f,l),f=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=ik(e,c),u===sk)m=!0,p&&(h=h||c-A-1>n&&e[A+1]!==" ",A=c);else if(!lk(u))return P6;x=x&&EMe(u,f,l),f=u}h=h||p&&c-A-1>n&&e[A+1]!==" "}return!m&&!h?x&&!a&&!i(e)?YMe:s===ak?P6:W0e:r>9&&zMe(e)?P6:a?s===ak?P6:W0e:h?JMe:KMe}o(uBt,"chooseScalarStyle");function fBt(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===ak?'""':"''";if(!e.noCompatMode&&(tBt.indexOf(t)!==-1||rBt.test(t)))return e.quotingType===ak?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),l=n||e.flowLevel>-1&&r>=e.flowLevel;function c(u){return aBt(e,u)}switch(o(c,"testAmbiguity"),uBt(t,l,e.indent,a,c,e.quotingType,e.forceQuotes&&!n,i)){case YMe:return t;case W0e:return"'"+t.replace(/'/g,"''")+"'";case KMe:return"|"+bMe(t,e.indent)+vMe(CMe(t,s));case JMe:return">"+bMe(t,e.indent)+vMe(CMe(dBt(t,a),s));case P6:return'"'+mBt(t)+'"';default:throw new ou("impossible error: invalid scalar style")}}()}o(fBt,"writeScalar");function bMe(e,t){var r=zMe(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}o(bMe,"blockHeader");function vMe(e){return e[e.length-1]===`
`?e.slice(0,-1):e}o(vMe,"dropEndingNewline");function dBt(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,IMe(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",s,a;a=r.exec(e);){var l=a[1],c=a[2];s=c[0]===" ",n+=l+(!i&&!s&&c!==""?`
`:"")+IMe(c,t),i=s}return n}o(dBt,"foldString");function IMe(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,a=0,l=0,c="";n=r.exec(e);)l=n.index,l-i>t&&(s=a>i?a:l,c+=`
`+e.slice(i,s),i=s+1),a=l;return c+=`
`,e.length-i>t&&a>i?c+=e.slice(i,a)+`
`+e.slice(a+1):c+=e.slice(i),c.slice(1)}o(IMe,"foldLine");function mBt(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ik(e,i),n=R0[r],!n&&lk(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||iBt(r);return t}o(mBt,"escapeString");function hBt(e,t,r){var n="",i=e.tag,s,a,l;for(s=0,a=r.length;s<a;s+=1)l=r[s],e.replacer&&(l=e.replacer.call(r,String(s),l)),(bA(e,t,l,!1,!1)||typeof l>"u"&&bA(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}o(hBt,"writeFlowSequence");function TMe(e,t,r,n){var i="",s=e.tag,a,l,c;for(a=0,l=r.length;a<l;a+=1)c=r[a],e.replacer&&(c=e.replacer.call(r,String(a),c)),(bA(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&bA(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=q0e(e,t)),e.dump&&sk===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}o(TMe,"writeBlockSequence");function pBt(e,t,r){var n="",i=e.tag,s=Object.keys(r),a,l,c,u,f;for(a=0,l=s.length;a<l;a+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),c=s[a],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),bA(e,t,c,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),bA(e,t,u,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}o(pBt,"writeFlowMapping");function gBt(e,t,r,n){var i="",s=e.tag,a=Object.keys(r),l,c,u,f,m,h;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new ou("sortKeys must be a boolean or a function");for(l=0,c=a.length;l<c;l+=1)h="",(!n||i!=="")&&(h+=q0e(e,t)),u=a[l],f=r[u],e.replacer&&(f=e.replacer.call(r,u,f)),bA(e,t+1,u,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&sk===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,m&&(h+=q0e(e,t)),bA(e,t+1,f,!0,m)&&(e.dump&&sk===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=s,e.dump=i||"{}"}o(gBt,"writeBlockMapping");function wMe(e,t,r){var n,i,s,a,l,c;for(i=r?e.explicitTypes:e.implicitTypes,s=0,a=i.length;s<a;s+=1)if(l=i[s],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(r?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(c=e.styleMap[l.tag]||l.defaultStyle,qMe.call(l.represent)==="[object Function]")n=l.represent(t,c);else if(WMe.call(l.represent,c))n=l.represent[c](t,c);else throw new ou("!<"+l.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}o(wMe,"detectType");function bA(e,t,r,n,i,s,a){e.tag=null,e.dump=r,wMe(e,r,!1)||wMe(e,r,!0);var l=qMe.call(e.dump),c=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=l==="[object Object]"||l==="[object Array]",m,h;if(f&&(m=e.duplicates.indexOf(r),h=m!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(f&&h&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),l==="[object Object]")n&&Object.keys(e.dump).length!==0?(gBt(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(pBt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?TMe(e,t-1,e.dump,i):TMe(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(hBt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&fBt(e,e.dump,t,s,c);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new ou("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}o(bA,"writeNode");function ABt(e,t){var r=[],n=[],i,s;for(G0e(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}o(ABt,"getDuplicateReferences");function G0e(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)G0e(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)G0e(e[n[i]],t,r)}o(G0e,"inspectNode");function yBt(e,t){t=t||{};var r=new sBt(t);r.noRefs||ABt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),bA(r,0,n,!0,!0)?r.dump+`
`:""}o(yBt,"dump$1");var CBt=yBt,xBt={dump:CBt};function z0e(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}o(z0e,"renamed");var B5n=UMe.load,R5n=UMe.loadAll,Y0e=xBt.dump;var D5n=z0e("safeLoad","load"),P5n=z0e("safeLoadAll","loadAll"),F5n=z0e("safeDump","dump");var Ux=tt(df());var K0e=class{constructor(){this.resolvedSkills={};this.resolutions=[]}static{o(this,"SkillDump")}},Bl=class{constructor(){this.dump=new xn(25);this.promptsDump=new xn(1)}static{o(this,"ConversationDumper")}addResolvedSkill(t,r,n){let i=this.getDump(t);i.resolvedSkills[r]=n}getResolvedSkill(t,r){return this.getDump(t).resolvedSkills[r]}addResolution(t,r){this.getDump(t).resolutions.push(r)}getDump(t){let r=this.dump.get(t);return r||(r=new K0e,this.dump.set(t,r)),r}addPrompt(t,r,n){let i=this.promptsDump.get(t);i===void 0&&(i=new Map,this.promptsDump.set(t,i)),i.set(n,r)}getLastTurnPrompts(){if(this.promptsDump===void 0)return;let t=this.promptsDump.values().next();if(!t.done)return t.value}};function XMe(e){let t=e.copy();return t.turns=t.turns.filter(r=>r.status!=="in-progress"&&(r.response===void 0||r.response?.type==="model")),t}o(XMe,"filterConversationTurns");function F0e(e){return XMe(e).getLastTurn()?.id}o(F0e,"getLastTurnId");async function sMe(e){let t=XMe(e.conversation),r=F0e(e.conversation);if(!r)return"Nothing to dump because no request has been sent to the model yet.";let i=e.ctx.get(Bl).getDump(r),s=vBt(i,t.turns);ni.debug(e.ctx,`conversation.dump
`,`
`+s);let a=await IBt(i,e.ctx);return Ux.default`
        ${bBt(e.conversation,r)}
        ${EBt(e.ctx)}

        The following code can be copied into a chat simulation \`yml\` file. This response has not polluted the conversation history and did not cause any model roundtrip.
        \`\`\`yaml
        ${s}
        \`\`\`${a?`
${a}`:""}
        `}o(sMe,"getConversationDump");function EBt(e){let t=e.get(an);return Ux.default`
        - IDE: \`${t.getEditorInfo().name} (${t.getEditorInfo().version})\`
        - Plugin: \`${t.getEditorPluginInfo().version}\`
    `}o(EBt,"getEditorInfoDumpMessage");function bBt(e,t){return Ux.default`
        Debug information for the last turn of the conversation.

        - ConversationId: \`${e.id}\`
        - MessageId: \`${t}\`
    `}o(bBt,"getInfoDumpMessage");async function aMe(e,t,r){let n=e.ctx.get(Ga),i="# Available skills",s=n.getDescriptors().filter(a=>e.ctx.get(Vi).getSupportedSkills(e.conversation.id).includes(a.id));if(r&&(s=s.filter(a=>a.id===r)),s.length===0)return`No skill with id ${r} available`;for(let a of s)i+=`
- ${a.id}`;e.turn.request.message&&en(e.turn.request.message).trim().length>0&&(i+=`

**User message**: ${en(e.turn.request.message)}`);for(let a of s){i+=`
## ${a.id}`,i+=Ux.default`
            \n\n
            **Description**
            
            ${a.description()}`;let l=n.getSkill(a.id),c=await l?.resolver(e).resolveSkill(e);if(c){i+=Ux.default`
                \n\n
                **Resolution**
                
                \`\`\`yaml
                ${Y0e(c)}
                \`\`\``;let u=await l?.processor(e).processSkill(c,e);if(u){let f=typeof u=="string"?u:u.elide(1e3).getText();i+=Ux.default`
                    \n\n
                    **Processed value**
                    
                    ${f}`}else i+=`

**Unprocessable**`}else i+=`

**Unresolvable**`}return i}o(aMe,"getSkillsDump");function vBt(e,t){let r={state:{skills:e.resolvedSkills},turns:t.map((n,i)=>{let s={request:en(n.request.message)};return n.response&&(s.response=en(n.response.message)),s})};return Y0e(r)}o(vBt,"toSimulationFormat");async function IBt(e,t){let r=e.resolutions.map(s=>s.files).flat(),n=r.filter((s,a)=>s&&r.indexOf(s)===a),i;for(let s of n)if(s&&s.status==="included"){i||(i=`The following files have been used:
`);let a=await t.get(dn).getOrReadTextDocument(s),l;a.status==="valid"&&(l=a.document);let c=l?.getText();ni.debug(t,`conversation.dump.file
`,c),i+=`
**${s.uri}**

\`\`\`${l?.detectedLanguageId}
${c}
\`\`\``}return i}o(IBt,"fileDump");d();function J0e(e,t){let r=vo(t.tokenizer),n=0;for(let i of e)n+=t.baseTokensPerMessage,i.role&&(n+=r.tokenize(i.role).length),i.name&&(n+=r.tokenize(i.name).length+t.baseTokensPerName),i.content&&(n+=r.tokenize(en(i.content)).length);return n+=t.baseTokensPerCompletion,n}o(J0e,"countMessagesTokens");d();async function ZMe(e,t,r,n,i){let s=["You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","You can answer general programming questions and perform the following tasks:","* Ask a question about the files in your current workspace","* Explain how the code in your active editor works","* Make changes to existing code","* Review the selected code in your active editor","* Generate unit tests for the selected code","* Propose a fix for the problems in the selected code","* Scaffold code for a new file or project in a workspace","* Create a new Jupyter Notebook","* Ask questions about VS Code","* Generate query parameters for workspace search","* Ask how to do something in the terminal","* Explain what just happened in the terminal"].join(`
`),a=["The active document is the source code the user is looking at right now.","You have read access to the code in the active document, files the user has recently worked with and open tabs. You are able to retrieve, read and use this code to answer questions.","You cannot retrieve code that is outside of the current project.","You can only give one reply for each conversation turn."].join(`
`),l=t?`The user works in an IDE called ${t} which can be used to edit code, run and debug the user's application as well as executing tests.`:"",c=n?`The user is using ${n} as their operating system.`:"",u=i?`You use the ${i} large language model.`:"",f=r?`The user is logged in as ${r} on GitHub.`:"";return[s,c,u,f,l,a].filter(m=>m&&m!="").join(`
`)}o(ZMe,"chatBasePrompt");d();d();d();d();d();var TBt=".github/copilot-instructions.md",wBt=".github/git-commit-instructions.md",ZG=class{static{o(this,"CustomInstructionsService")}static async _collectInstructionsFromFile(t,r,n,i,s,a){try{let l=Xo(r,n),c=await t.getByUri(l);if(c.status!=="valid"||!c.document)return;let u=c.document.getText().trim();u&&s.push({kind:a,content:[{instruction:u,languageId:i}],reference:l})}catch{}}static async readFromWorkspaces(t,r,n={}){let i=[];if(!r.length)return i;let s=new Hy(t),a=r.flatMap(l=>{let c=[];return n.includeCodeGenerationInstructions!==!1&&c.push(this._collectInstructionsFromFile(s,l,TBt,n.languageId,i,0)),n.includeCommitMessageGenerationInstructions&&c.push(this._collectInstructionsFromFile(s,l,wBt,void 0,i,0)),c});return await Promise.all(a),i}};var Q6=class{static{o(this,"CustomInstruction")}static async getInstructions(t,r,n={}){try{let i=await ZG.readFromWorkspaces(t,r,n);return this.processInstructions(i,n)}catch{return}}static processInstructions(t,r={}){if(!t||t.length===0)return;let n=[];for(let s of t){let a=this.createInstructionElement(s,r);a&&n.push(a)}return n.length===0?void 0:`${r.customIntroduction||"When generating code, please follow these user provided coding instructions. You can ignore an instruction if it contradicts a system message."}

<instructions>${n.join(`
`)}</instructions>`}static createInstructionElement(t,r={}){let n=[];for(let i of t.content)i.languageId?r.languageId&&i.languageId===r.languageId&&n.push(`For ${i.languageId} code: ${i.instruction}`):n.push(i.instruction);if(n.length!==0)return n.join(`
`)}};d();d();function eOe(e){let t=e.split(`
`),r=[],n=!1,i=[];for(let s of t)s.startsWith("```")?(n?(r.push([Nu(i.join(`
`)),1]),i=[],r.push([new Xt([s]),1])):r.push([new Xt([s]),1]),n=!n):n?i.push(s):r.push([new Xt([s]),.8]);return n&&(r.push([Nu(i.join(`
`)),1]),r.push([new Xt(["```"]),1])),new Xt(r)}o(eOe,"fromMessage");function M6(e){let t=X0e(e),r=[];for(let n=0;n<t.length;n++){let i=t[n],s=tOe(i.request,n+1),a=i.response&&i.response?.type!=="meta"?tOe(i.response):"",l=s;a!==""&&(l+=`
`+a+(t.length>1&&n!==t.length-1?`
`:"")),r.push(eOe(l))}return r.length>0?new Xt([[new Xt(["Consider the following conversation history:"]),1],[nC(r,"inverseLinear"),1]]):null}o(M6,"fromHistory");var SBt=5;function X0e(e,t){return e.filter(n=>(n.status==="success"||n.status==="in-progress")&&en(n.request.message)!=""&&n.agent?.agentSlug===t).reverse().slice(0,SBt).reverse()}o(X0e,"filterTurns");function tOe(e,t=0){let r;switch(e.type){case"user":case"template":r="User";break;case"model":r="GitHub Copilot";break;default:r=e.type}let n=en(e.message).startsWith("```")?`
`:" ";return`${t>0?`${t}) `:""}${r}:${n}${en(e.message)}`}o(tOe,"formatTurnMessage");d();d();d();var _Bt=4,Z0e={skillIds:[]},eH=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{o(this,"MetaPromptFetcher")}async fetchPromptContext(t,r,n,i,s){let a=t.conversation.getLastTurn().request.message;if(r.length>0){let l=await this.ctx.get(ti).getBestChatModelConfig(Zo("meta"),{tool_calls:!0}),c={promptType:"meta",supportedSkillDescriptors:r,modelConfiguration:l},u=await this.ctx.get(i0).toPrompt(t,c),f=i.extendedBy({messageSource:"chat.metaprompt"},{promptTokenLen:u.tokens}),m={modelConfiguration:l,messages:u.messages,uiKind:s,llmInteraction:t.toLlmInteraction()};if(u.toolConfig===void 0)throw new Error("No tool call configuration found in meta prompt.");m.tool_choice=u.toolConfig.tool_choice,m.tools=u.toolConfig.tools;let h=await this.chatFetcher.fetchResponse(m,n,f);return h.type!=="success"&&(Kr.error(this.ctx,"Failed to fetch prompt context, trying again..."),h=await this.chatFetcher.fetchResponse(m,n,f)),await t.ctx.get(Wa).inspectFetchResult(h),await this.handleResult(h,f,en(a),s,u.toolConfig)}else return Z0e}async handleResult(t,r,n,i,s){if(t.type!=="success")return this.telemetryError(r,t),Z0e;let l;if(t.toolCalls&&t.toolCalls.length>0)l=s.extractArguments(t.toolCalls[0]).skillIds?.slice(0,_Bt);else return Kr.error(this.ctx,"Missing tool call in meta prompt response"),Z0e;let c=r.extendedBy({uiKind:i,skillIds:l?.join(",")??""},{numTokens:t.numTokens+t.toolCalls[0].approxNumTokens}),u=c.extendedBy({messageText:n});return Gt(this.ctx,`${Qc(i)}.metaPrompt`,c,0),Gt(this.ctx,`${Qc(i)}.promptContext`,u,1),{skillIds:l??[]}}telemetryError(t,r){let n=t.extendedBy({resultType:r.type,reason:r.reason??""});Gt(this.ctx,"conversation.promptContextError",n,1)}};d();d();d();var tH=class{constructor(){this.languageId=["java","kotlin","scala","groovy"]}static{o(this,"JavaProjectMetadataLookup")}determineBuildTools(t){return[...t.buildTools]}determineApplicationFrameworks(t){let r=[];return he(t,r,"org.springframework.boot","Spring Boot"),he(t,r,"jakarta.jakartaee-api","Jakarta EE"),he(t,r,"javax:javaee-api","Java EE"),he(t,r,"org.apache.struts:struts2-core","Apache Struts"),he(t,r,"org.hibernate:hibernate-core","Hibernate"),he(t,r,"org.apache.wicket:wicket-core","Apache Wicket"),he(t,r,"javax.faces:jsf-api","JSF"),he(t,r,"org.grails:grails-core","Grails"),r}determineCoreLibraries(t){let r=[];return he(t,r,"com.google.guava","Google Guava"),he(t,r,"org.apache.commons:commons-lang3","Apache Commons Lang"),he(t,r,"org.apache.commons:commons-io","Apache Commons IO"),he(t,r,"joda-time:joda-time","Joda-Time"),he(t,r,"com.google.code.gson:gson","Google Gson"),he(t,r,"org.apache.commons:commons-math3","Apache Commons Math"),he(t,r,"org.apache.commons:commons-collections4","Apache Commons Collections"),he(t,r,"org.apache.commons:commons-net","Apache Commons Net"),he(t,r,"org.apache.poi:poi","Apache POI"),he(t,r,"com.fasterxml.jackson.core:jackson-databind","Jackson"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"org.junit.jupiter:junit-jupiter","JUnit"),he(t,r,"junit:junit","JUnit"),he(t,r,"org.testng:testng","TestNG"),he(t,r,"org.spockframework:spock-core","Spock"),he(t,r,"io.cucumber:cucumber-java","Cucumber"),he(t,r,"org.jboss.arquillian.junit:arquillian-junit-container","Arquillian"),r}determineTestingLibraries(t){let r=[];return he(t,r,"org.mockito","Mockito"),he(t,r,"org.assertj","AssertJ"),he(t,r,"org.hamcrest","Hamcrest"),he(t,r,"org.powermock","PowerMock"),he(t,r,"org.jmock","JMock"),he(t,r,"org.easymock","EasyMock"),he(t,r,"org.jmockit:jmockit","JMockit"),he(t,r,"com.github.tomakehurst:wiremock","WireMock"),he(t,r,"org.dbunit:dbunit","DBUnit"),he(t,r,"com.icegreen:greenmail","GreenMail"),he(t,r,"net.sourceforge.htmlunit:htmlunit","HtmlUnit"),he(t,r,"org.seleniumhq.selenium:selenium-java","Selenium"),he(t,r,"io.rest-assured:rest-assured","Rest-Assured"),he(t,r,"io.gatling.highcharts:gatling-charts-highcharts","Gatling"),he(t,r,"org.apache.jmeter:ApacheJMeter","JMeter"),r}},rH=class{constructor(){this.languageId=["javascript","javascriptreact","typescript","typescriptreact","vue"]}static{o(this,"JavaScriptProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"@types/node","Node.js"),he(t,r,"react-native","React Native"),r.find(n=>n.name==="React Native")||he(t,r,"react","React"),he(t,r,"angular","Angular"),he(t,r,"vue","Vue.js"),he(t,r,"ember","Ember.js"),he(t,r,"backbone","Backbone.js"),he(t,r,"meteor","Meteor"),he(t,r,"polymer","Polymer"),he(t,r,"aurelia","Aurelia"),he(t,r,"knockout","Knockout.js"),he(t,r,"dojo","Dojo Toolkit"),he(t,r,"mithril","Mithril.js"),he(t,r,"marionette","Marionette.js"),he(t,r,"marko","Marko.js"),he(t,r,"svelte","Svelte"),he(t,r,"hyperapp","Hyperapp"),he(t,r,"inferno","Inferno.js"),he(t,r,"preact","Preact"),he(t,r,"riot","Riot.js"),he(t,r,"moon","Moon.js"),he(t,r,"stencil","Stencil.js"),r}determineCoreLibraries(t){let r=[];return he(t,r,"lodash","Lodash"),he(t,r,"moment","Moment.js"),he(t,r,"axios","Axios"),he(t,r,"redux","Redux"),he(t,r,"recoil","Recoil"),he(t,r,"jquery","jQuery"),he(t,r,"d3","D3.js"),he(t,r,"underscore","Underscore.js"),he(t,r,"ramda","Ramda"),he(t,r,"immutable","Immutable.js"),he(t,r,"rxjs","RxJS"),he(t,r,"three","Three.js"),he(t,r,"socket.io","Socket.IO"),he(t,r,"express","Express.js"),he(t,r,"next","Next.js"),he(t,r,"puppeteer","Puppeteer"),he(t,r,"cheerio","Cheerio"),he(t,r,"nodemailer","Nodemailer"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"jest","Jest"),he(t,r,"mocha","Mocha"),he(t,r,"jasmine","Jasmine"),he(t,r,"ava","AVA"),he(t,r,"qunit","QUnit"),he(t,r,"tape","Tape"),r}determineTestingLibraries(t){let r=[];return he(t,r,"chai","Chai"),he(t,r,"sinon","Sinon"),he(t,r,"enzyme","Enzyme"),he(t,r,"protractor","Protractor"),he(t,r,"supertest","Supertest"),he(t,r,"nock","Nock"),he(t,r,"cypress","Cypress"),he(t,r,"@testing-library/react","React Testing Library"),r}},nH=class{constructor(){this.languageId="go"}static{o(this,"GoProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"github.com/gorilla/mux","Gorilla Mux"),he(t,r,"github.com/go-chi/chi","Chi"),he(t,r,"github.com/gin-gonic/gin","Gin"),he(t,r,"github.com/labstack/echo","Echo"),he(t,r,"github.com/revel/revel","Revel"),he(t,r,"github.com/astaxie/beego","Beego"),he(t,r,"github.com/go-martini/martini","Martini"),he(t,r,"github.com/gobuffalo/buffalo","Buffalo"),he(t,r,"github.com/goji/goji","Goji"),he(t,r,"github.com/hoisie/web","Web.go"),r}determineCoreLibraries(t){let r=[];return he(t,r,"net/http","net/http"),he(t,r,"fmt","fmt"),he(t,r,"io","io"),he(t,r,"time","time"),he(t,r,"math","math"),he(t,r,"strconv","strconv"),he(t,r,"strings","strings"),he(t,r,"sort","sort"),he(t,r,"encoding/json","encoding/json"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"github.com/onsi/ginkgo","ginkgo"),he(t,r,"github.com/onsi/gomega","gomega"),he(t,r,"github.com/stretchr/testify","testify"),he(t,r,"gopkg.in/check.v1","gocheck"),he(t,r,"github.com/franela/goblin","goblin"),he(t,r,"github.com/DATA-DOG/godog","godog"),he(t,r,"github.com/stesla/gospec","gospec"),he(t,r,"github.com/rjeczalik/gotest","gotest"),he(t,r,"github.com/smartystreets/goconvey","goconvey"),r}determineTestingLibraries(t){let r=[];return he(t,r,"github.com/stretchr/testify","Testify"),he(t,r,"github.com/smartystreets/goconvey","GoConvey"),he(t,r,"github.com/onsi/ginkgo","Ginkgo"),he(t,r,"github.com/golang/mock","GoMock"),he(t,r,"gopkg.in/check.v1","GoCheck"),he(t,r,"github.com/franela/goblin","Goblin"),he(t,r,"github.com/DATA-DOG/godog","GoDog"),he(t,r,"github.com/onsi/gomega","Gomega"),he(t,r,"github.com/stesla/gospec","GoSpec"),he(t,r,"github.com/rjeczalik/gotest","GoTest"),r}},iH=class{constructor(){this.languageId=["python","jupyter"]}static{o(this,"PythonProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"flask","Flask"),he(t,r,"django","Django"),he(t,r,"pyramid","Pyramid"),he(t,r,"tornado","Tornado"),he(t,r,"fastapi","FastAPI"),r}determineCoreLibraries(t){let r=[];return he(t,r,"requests","requests"),he(t,r,"numpy","numpy"),he(t,r,"pandas","pandas"),he(t,r,"scipy","scipy"),he(t,r,"matplotlib","matplotlib"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"pytest","Pytest"),he(t,r,"unittest","Unittest"),he(t,r,"doctest","Doctest"),he(t,r,"nose","Nose"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mock","Mock"),he(t,r,"hypothesis","Hypothesis"),he(t,r,"behave","Behave"),he(t,r,"lettuce","Lettuce"),he(t,r,"testify","Testify"),he(t,r,"pyhamcrest","PyHamcrest"),r}},oH=class{constructor(){this.languageId=["php","blade"]}static{o(this,"PhpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"laravel/framework","Laravel"),he(t,r,"symfony/symfony","Symfony"),he(t,r,"slim/slim","Slim"),he(t,r,"cakephp/cakephp","CakePHP"),he(t,r,"yiisoft/yii2","Yii"),he(t,r,"zendframework/zendframework","Zend Framework"),he(t,r,"phalcon/cphalcon","Phalcon"),he(t,r,"bcosca/fatfree","Fat-Free"),he(t,r,"fuel/fuel","FuelPHP"),he(t,r,"phpixie/framework","PHPixie"),r}determineCoreLibraries(t){let r=[];return he(t,r,"monolog/monolog","Monolog"),he(t,r,"vlucas/phpdotenv","PHP dotenv"),he(t,r,"symfony/console","Symfony Console"),he(t,r,"guzzlehttp/guzzle","GuzzleHttp"),he(t,r,"ramsey/uuid","Ramsey UUID"),he(t,r,"doctrine/orm","Doctrine ORM"),he(t,r,"php-di/php-di","PHP-DI"),he(t,r,"phpunit/php-timer","PHPUnit Timer"),he(t,r,"symfony/finder","Symfony Finder"),he(t,r,"symfony/yaml","Symfony Yaml"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"phpunit/phpunit","PHPUnit"),he(t,r,"behat/behat","Behat"),he(t,r,"phpspec/phpspec","PHPSpec"),he(t,r,"codeception/codeception","Codeception"),he(t,r,"atoum/atoum","Atoum"),he(t,r,"pestphp/pest","PestPHP"),he(t,r,"kahlan/kahlan","Kahlan"),he(t,r,"peridot-php/peridot","Peridot"),he(t,r,"phake/phake","Phake"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mockery/mockery","Mockery"),he(t,r,"php-mock/php-mock","PHP-Mock"),he(t,r,"php-mock/php-mock-phpunit","PHP-Mock PHPUnit"),he(t,r,"padraic/mockery","Padraic Mockery"),he(t,r,"phpspec/prophecy","PHPSpec Prophecy"),he(t,r,"phpunit/php-invoker","PHPUnit Invoker"),he(t,r,"phpunit/php-token-stream","PHPUnit Token Stream"),he(t,r,"phpunit/php-code-coverage","PHPUnit Code Coverage"),he(t,r,"phpunit/php-timer","PHPUnit Timer"),he(t,r,"phpunit/php-text-template","PHPUnit Text Template"),r}},sH=class{constructor(){this.languageId="csharp"}static{o(this,"CSharpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"Microsoft.NETCore.App",".NET Core"),he(t,r,"Microsoft.AspNetCore.App","ASP.NET Core"),r}determineCoreLibraries(t){let r=[];return he(t,r,"EntityFramework","Entity Framework"),he(t,r,"Newtonsoft.Json","Newtonsoft.Json"),he(t,r,"AutoMapper","AutoMapper"),he(t,r,"Serilog","Serilog"),he(t,r,"Dapper","Dapper"),he(t,r,"Polly","Polly"),he(t,r,"FluentValidation","FluentValidation"),he(t,r,"MediatR","MediatR"),he(t,r,"Hangfire","Hangfire"),he(t,r,"RabbitMQ.Client","RabbitMQ.Client"),he(t,r,"MassTransit","MassTransit"),he(t,r,"Microsoft.Extensions.Logging","Microsoft.Extensions.Logging"),he(t,r,"Microsoft.Extensions.DependencyInjection","Microsoft.Extensions.DependencyInjection"),he(t,r,"Microsoft.Extensions.Configuration","Microsoft.Extensions.Configuration"),he(t,r,"Microsoft.Extensions.Http","Microsoft.Extensions.Http"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"xunit","xUnit"),he(t,r,"NUnit","NUnit"),he(t,r,"SpecFlow","SpecFlow"),r}determineTestingLibraries(t){let r=[];return he(t,r,"Moq","Moq"),he(t,r,"FluentAssertions","FluentAssertions"),he(t,r,"Bogus","Bogus"),he(t,r,"RestSharp","RestSharp"),he(t,r,"Swashbuckle.AspNetCore","Swashbuckle.AspNetCore"),r}},aH=class{constructor(){this.languageId="dart"}static{o(this,"DartProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"flutter","Flutter"),he(t,r,"angular","AngularDart"),r}determineCoreLibraries(t){let r=[];return he(t,r,"dartx","dartx"),he(t,r,"provider","Provider"),he(t,r,"rxdart","RxDart"),he(t,r,"dio","Dio"),he(t,r,"json_serializable","json_serializable"),he(t,r,"freezed","Freezed"),he(t,r,"moor","Moor"),he(t,r,"hive","Hive"),he(t,r,"http","http"),he(t,r,"path","path"),he(t,r,"intl","intl"),he(t,r,"equatable","equatable"),he(t,r,"get_it","get_it"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"test","test"),he(t,r,"flutter_test","flutter_test"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mockito","mockito"),he(t,r,"bloc_test","bloc_test"),r}},lH=class{constructor(){this.languageId="ruby"}static{o(this,"RubyProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"rails","Rails"),he(t,r,"sinatra","Sinatra"),he(t,r,"hanami","Hanami"),he(t,r,"grape","Grape"),he(t,r,"roda","Roda"),he(t,r,"padrino","Padrino"),he(t,r,"cuba","Cuba"),he(t,r,"ramaze","Ramaze"),he(t,r,"nyara","Nyara"),he(t,r,"rack","Rack"),r}determineCoreLibraries(t){let r=[];return he(t,r,"active_record","ActiveRecord"),he(t,r,"sequel","Sequel"),he(t,r,"rom","ROM"),he(t,r,"datamapper","DataMapper"),he(t,r,"mongoid","Mongoid"),he(t,r,"neo4j","Neo4j"),he(t,r,"redis","Redis"),he(t,r,"cassandra","Cassandra"),he(t,r,"couchrest","CouchRest"),he(t,r,"riak","Riak"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"rspec","RSpec"),he(t,r,"minitest","Minitest"),he(t,r,"cucumber","Cucumber"),he(t,r,"spinach","Spinach"),he(t,r,"turnip","Turnip"),he(t,r,"bacon","Bacon"),he(t,r,"shoulda","Shoulda"),he(t,r,"test-unit","Test::Unit"),he(t,r,"wrong","Wrong"),he(t,r,"contest","Contest"),r}determineTestingLibraries(t){let r=[];return he(t,r,"factory_bot","FactoryBot"),he(t,r,"faker","Faker"),he(t,r,"ffaker","FFaker"),he(t,r,"fabrication","Fabrication"),he(t,r,"machinist","Machinist"),he(t,r,"mocha","Mocha"),he(t,r,"flexmock","FlexMock"),he(t,r,"rr","RR"),he(t,r,"bourne","Bourne"),he(t,r,"not_a_mock","NotAMock"),r}},cH=class{constructor(){this.languageId="rust"}static{o(this,"RustProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"tokio","tokio"),he(t,r,"async-std","async-std"),he(t,r,"hyper","hyper"),he(t,r,"actix-web","actix-web"),he(t,r,"rocket","rocket"),r}determineCoreLibraries(t){let r=[];return he(t,r,"serde","serde"),he(t,r,"regex","regex"),he(t,r,"rand","rand"),he(t,r,"log","log"),he(t,r,"lazy_static","lazy_static"),he(t,r,"libc","libc"),he(t,r,"futures","futures"),he(t,r,"rayon","rayon"),he(t,r,"reqwest","reqwest"),he(t,r,"warp","warp"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"test-case","test-case"),he(t,r,"proptest","proptest"),he(t,r,"quickcheck","quickcheck"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mockall","mockall"),he(t,r,"double","double"),he(t,r,"rstest","rstest"),he(t,r,"mockiato","mockiato"),he(t,r,"mock_derive","mock_derive"),he(t,r,"mocktopus","mocktopus"),he(t,r,"mockers","mockers"),he(t,r,"mock_it","mock_it"),r}},uH=class{constructor(){this.languageId=["c","cpp"]}static{o(this,"CProjectMetadataLookup")}determineBuildTools(t){return t.buildTools.filter(r=>["gcc","clang","make","cmake","autotools","ninja","meson"].includes(r.name))}determineApplicationFrameworks(t){return t.libraries.filter(r=>["libc","libuv","openssl","zlib","libevent","libcurl"].includes(r.name))}determineCoreLibraries(t){return t.libraries.filter(r=>["libpng","libjpeg","libxml2","sqlite","postgres","mysql"].includes(r.name))}determineTestingFrameworks(t){return t.libraries.filter(r=>["unity","criterion","cmocka","check","ctest","minunit"].includes(r.name))}determineTestingLibraries(t){return t.libraries.filter(r=>["cmock","fff","trompeloeil","fakeit"].includes(r.name))}};function he(e,t,r,n){let i=e.libraries.find(s=>s.name.toLowerCase().indexOf(r.toLowerCase())>-1);i&&t.push({name:n,version:i.version})}o(he,"addFromLibraries");var fH=class{constructor(t,r){this.languageId=t;this.delegates=r}static{o(this,"CompositeProjectMetadataLookup")}determineBuildTools(t){return this.delegates.map(r=>r.determineBuildTools(t)).flat()}determineApplicationFrameworks(t){return this.delegates.map(r=>r.determineApplicationFrameworks(t)).flat()}determineCoreLibraries(t){return this.delegates.map(r=>r.determineCoreLibraries(t)).flat()}determineTestingFrameworks(t){return this.delegates.map(r=>r.determineTestingFrameworks(t)).flat()}determineTestingLibraries(t){return this.delegates.map(r=>r.determineTestingLibraries(t)).flat()}};function nOe(e){return e.language.version?e.language.name+" "+e.language.version:e.language.name}o(nOe,"determineProgrammingLanguage");var rOe=[new tH,new rH,new nH,new iH,new oH,new sH,new aH,new lH,new cH,new uH];function iOe(e){let t=rOe.find(r=>typeof r.languageId=="string"?r.languageId===e:Array.isArray(r.languageId)?r.languageId.includes(e):!1)??new fH(e,rOe);return new ece(t)}o(iOe,"getMetadataLookup");var ece=class{constructor(t){this.delegate=t;this.languageId=t.languageId}static{o(this,"DistinctProjectMetadataLookup")}determineBuildTools(t){return this.deduplicateDependencies(this.delegate.determineBuildTools(t))}determineApplicationFrameworks(t){return this.deduplicateDependencies(this.delegate.determineApplicationFrameworks(t))}determineCoreLibraries(t){return this.deduplicateDependencies(this.delegate.determineCoreLibraries(t))}determineTestingFrameworks(t){return this.deduplicateDependencies(this.delegate.determineTestingFrameworks(t))}determineTestingLibraries(t){return this.deduplicateDependencies(this.delegate.determineTestingLibraries(t))}deduplicateDependencies(t){let r=[];return t.forEach(n=>{r.find(i=>i.name===n.name)||r.push(n)}),r}};var oOe=I.Object({name:I.String(),version:I.Optional(I.String())}),sOe=I.Object({language:I.Object({id:I.String(),name:I.String(),version:I.Optional(I.String())}),libraries:I.Array(oOe),buildTools:I.Array(oOe)}),tce=class{constructor(t){this.turnContext=t}static{o(this,"ProjectMetadataSkillProcessor")}value(){return 1}async processSkill(t){let r=[];r.push([new Xt([`The user is working on a project with the following characteristics:
`]),1]);let n=iOe(t.language.id);return this.addProgrammingLanguage(t,r),this.addBuildTools(t,r,n),this.addApplicationFramework(t,r,n),this.addCoreLibraries(t,r,n),this.addTestingFrameworks(t,r,n),this.addTestingLibraries(t,r,n),new Xt(r)}addProgrammingLanguage(t,r){let n=nOe(t);this.turnContext.collectLabel(hg,n),r.push([new Xt([`- programming language: ${n}`]),1])}addBuildTools(t,r,n){this.addToPrompt(r,"- build tools:",n.determineBuildTools(t))}addApplicationFramework(t,r,n){this.addToPrompt(r,"- application frameworks:",n.determineApplicationFrameworks(t))}addCoreLibraries(t,r,n){this.addToPrompt(r,"- core libraries:",n.determineCoreLibraries(t))}addTestingFrameworks(t,r,n){this.addToPrompt(r,"- testing frameworks:",n.determineTestingFrameworks(t))}addTestingLibraries(t,r,n){this.addToPrompt(r,"- testing libraries:",n.determineTestingLibraries(t))}addToPrompt(t,r,n){if(n.length>0){n.forEach(s=>{this.turnContext.collectLabel(hg,`${s.name}${s.version?" "+s.version:""}`)});let i=n.map(s=>`  - ${s.name}${s.version?" "+s.version:""}`).join(`
`);t.push([new Xt([`${r}
${i}`]),1])}}},hg="project-metadata",dH=class{constructor(t){this._resolver=t;this.id=hg;this.type="explicit"}static{o(this,"ProjectMetadataSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new tce(t)}};d();var aOe=tt(require("path"));var rce=class{constructor(t){this.turnContext=t}static{o(this,"ReferencesSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(dn),n=[],i=await this.filterIncludedFiles(t),s=(await this.toFileChunks(i,r)).filter(a=>a!==void 0).flat();if(s.length>0)return n.push([new Xt(["The user wants you to consider the following referenced files when computing your answer."]),1]),n.push(...s),new Xt(n)}async filterIncludedFiles(t){return t.filter(r=>r.type==="file"&&!this.turnContext.isFileIncluded(r.uri))}async toFileChunks(t,r){return await Promise.all(t.map(async n=>{if(n.type==="file"&&n.uri)return await this.elideReferencedFiles(r,n)}))}async elideReferencedFiles(t,r){let n=await t.getOrReadTextDocument(r),i=ns(n);if(await this.turnContext.collectFile(hH,r.uri,i),n.status==="valid"){let s=t.getRelativePath(n.document);if(i==="included"){let a=new ug(n.document,r.selection,r.visibleRange);return[[`Code excerpt from referenced file \`${s}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),1]]}else if(i==="empty")return[[new Xt([`The referenced file \`${s}\` is empty.`]),1]]}else if(n.status==="invalid")return[[new Xt([`The referenced file \`${aOe.basename(r.uri)}\` is content excluded.`]),1]]}},nce=class{static{o(this,"ReferencesSkillResolver")}async resolveSkill(t){if(t.turn.request.references&&t.turn.request.references.length>0)return t.turn.request.references}},hH="references",mH=class{constructor(){this.id=hH;this.type="implicit"}static{o(this,"ReferencesSkill")}description(){return"The code from the user's referenced files"}resolver(){return new nce}processor(t){return new rce(t)}};var qx=o(()=>[hg,mh,hH,k0],"mandatorySkills"),pH=class{constructor(t,r){this.chatFetcher=r;this.metaPromptFetcher=new eH(t,this.chatFetcher)}static{o(this,"ConversationContextCollector")}async collectContext(t,r,n,i,s,a){let l=[];if(s){let c=s.requiredSkills?await s.requiredSkills(t.ctx):[];l.push(...c.filter(u=>!qx().includes(u)))}else(await this.metaPromptFetcher.fetchPromptContext(t,await this.selectableSkillDescriptors(t.ctx,t.conversation,t.turn),r,n,i)).skillIds.reverse().forEach(u=>{!l.includes(u)&&!qx().includes(u)&&l.push(u)});if(a){let c=await a.additionalSkills(t.ctx);l.push(...c.filter(u=>!qx().includes(u)))}return l.push(...qx()),l=l.filter(c=>!this.isIgnoredSkill(c,t.turn)),{skillIds:t.ctx.get(Vi).filterSupportedSkills(t.conversation.id,l)}}async selectableSkillDescriptors(t,r,n){let i=await this.getNonSelectableSkills(t),s=t.get(Vi).getSupportedSkills(r.id),a=t.get(Ga).getDescriptors(),l=[];for(let c of a){if(i.includes(c.id)||!s.includes(c.id))continue;(c.isAvailable?await c.isAvailable(t):!0)&&!this.isIgnoredSkill(c.id,n)&&l.push(c)}return l}async getNonSelectableSkills(t){let r=await dg(t),n=(await Promise.all(r.map(i=>i.additionalSkills(t)))).flat();return[...qx(),...n]}isIgnoredSkill(t,r){return r.ignoredSkills?.some(n=>n.skillId===t)}};d();d();var gH=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.rounds=[]}static{o(this,"AgentToolCalls")}getRound(t){return this.rounds.find(r=>r.roundId===t)}async start(t,r,n,i){let s=this.getRound(t);if(s||(s={roundId:t,reply:""},this.rounds.push(s)),s.toolCalls?.find(l=>l.id===r))Kr.error(this.ctx,`Tool call ${r} already exists for the round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`);else{let l={id:r,name:n,progressMessage:i,status:"running"};s.toolCalls=[l],await this.progress.report(this.conversation,this.turn,{editAgentRounds:[s]})}}async finish(t,r){await this.update(t,r,n=>{n.status="completed"})}async cancel(t,r){await this.update(t,r,n=>{n.status="cancelled"})}async finishAll(t="completed"){let r=this.rounds.filter(n=>{let i=n.toolCalls?.filter(s=>s.status==="running").map(s=>(s.status=t,s));if(i&&i.length>0)return n.toolCalls=i,!0});r.length>0&&await this.progress.report(this.conversation,this.turn,{editAgentRounds:r})}async error(t,r,n){await this.update(t,r,i=>{i.status="error",i.error=n||"Unknown error"})}async update(t,r,n){let i=this.rounds.find(a=>a.roundId===t);i||(i={roundId:t,reply:""},this.rounds.push(i));let s=i.toolCalls?.find(a=>a.id===r);s?(n(s),await this.progress.report(this.conversation,this.turn,{editAgentRounds:[i]})):Kr.error(this.ctx,`Tool call ${r} not found for the agent round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`)}};d();var AH=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.steps=[]}static{o(this,"Steps")}async start(t,r,n){let i=this.steps.find(s=>s.id===t);if(!i)i={id:t,title:r,description:n,status:"running"},this.steps.push(i),await this.progress.report(this.conversation,this.turn,{steps:[i]});else throw new Error(`Step with id "${t}" already started`)}async finish(t){await this.updateStep(t,r=>{r.status="completed"})}async cancel(t){await this.updateStep(t,r=>{r.status="cancelled"})}async finishAll(t="completed"){let r=this.steps.filter(n=>n.status==="running").map(n=>(n.status=t,n));r.length>0&&await this.progress.report(this.conversation,this.turn,{steps:r})}async error(t,r){return this.updateStep(t,n=>{n.status="failed",n.error={message:r||"Unknown error"}})}async updateStep(t,r){let n=this.steps.find(i=>i.id===t);n?(r(n),await this.progress.report(this.conversation,this.turn,{steps:[n]})):Kr.error(this.ctx,`Step ${t} not found for conversation ${this.conversation.id} and turn ${this.turn.id}`)}};d();var kBt="X-Initiator",BBt="X-Interaction-ID",RBt="X-Interaction-Type";var yH=class{static{o(this,"LlmInteractionInitiator")}static id(){throw new Error("Must be implemented by subclass")}},ice=class extends yH{static{o(this,"User")}static id(){return"user"}},oce=class extends yH{static{o(this,"Agent")}static id(){return"agent"}},sce=class{static{o(this,"GenericLlmInteraction")}constructor(t,r,n){this.initiator=t.id(),this.interactionType=r,this.interactionId=n}toCapiHeaders(){return{[kBt]:this.initiator,[BBt]:this.interactionId,[RBt]:this.interactionType.toString()}}},hf=class e extends sce{static{o(this,"LlmInteraction")}static user(t,r){return new e(ice,t,r)}static agent(t,r){return new e(oce,t,r)}};var O6=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.cancelationToken=i;this.skillResolver=new ace(this),this.steps=new AH(t,r,n,t.get(cs)),this.collector=new lce(r,n,t.get(cs)),this.agentToolCalls=new gH(t,r,n,t.get(cs))}static{o(this,"TurnContext")}toLlmInteraction(){return this.conversation.source==="inline"?hf.user("conversation-inline",this.turn.id):hf.user("conversation-panel",this.turn.id)}async collectFile(t,r,n,i){let s={type:"file",collector:t,uri:r,status:n};i&&(s.range=i),await this.collector.collect(s)}collectLabel(t,r){this.collector.collect({type:"label",collector:t,label:r})}isFileIncluded(t){return this.collector.collectibles.some(r=>r.type==="file"&&r.status==="included"&&r.uri===t)}async info(t){await this.sendChatNotification(t,"info")}async warn(t){await this.sendChatNotification(t,"warning")}async sendChatNotification(t,r){await this.ctx.get(cs).report(this.conversation,this.turn,{notifications:[{severity:r,message:t}]})}},CH=class extends Error{constructor(r,n){super(`Cycle detected while resolving skills: ${n.join(" -> ")} -> ${r}`);this.skillId=r;this.skillStack=n}static{o(this,"CycleError")}},ck=class extends Error{static{o(this,"ConversationAbortError")}constructor(t){super(t)}},ace=class{constructor(t){this.turnContext=t;this.resolveStack=[]}static{o(this,"SkillResolver")}async resolve(t){if(this.turnContext.ctx.get(Vi).getSupportedSkills(this.turnContext.conversation.id).includes(t)){this.ensureNoCycle(t);let n=this.turnContext.ctx.get(Bl).getResolvedSkill(this.turnContext.turn.id,t);if(n)return this.resolveStack.pop(),n;let i=await this.newlyResolve(t);return this.resolveStack.pop(),i}}ensureNoCycle(t){if(this.resolveStack.includes(t))throw new CH(t,this.resolveStack);this.resolveStack.push(t)}async newlyResolve(t){let n=this.turnContext.ctx.get(Ga).getSkill(t);try{let i=await n?.resolver(this.turnContext).resolveSkill(this.turnContext);if(i)return this.turnContext.ctx.get(Bl).addResolvedSkill(this.turnContext.turn.id,t,i),i}catch(i){if(i instanceof CH||i instanceof ck)throw i;Kr.exception(this.turnContext.ctx,i,`Error while resolving skill ${t}`)}}},lce=class{constructor(t,r,n){this.conversation=t;this.turn=r;this.conversationProgress=n;this.collectibles=[]}static{o(this,"Collector")}async collect(t){this.collectibles.push(t),await this.reportCollectedFile(t)}async reportCollectedFile(t){t.type==="file"&&await this.conversationProgress.report(this.conversation,this.turn,{references:[{type:"file",uri:t.uri,status:t.status,range:t.range}]})}collectiblesForCollector(t){return this.collectibles.filter(r=>r.collector===t)}};async function lOe(e,t){let[r,n,i]=await DBt(e,t);return i.push(...NBt(e)),r.length>0||n.length>0?[new Xt([[new Xt(["Consider the additional context:"]),1],[nC(r,"inverseLinear"),.9],...n]),i]:[null,i]}o(lOe,"fromSkills");async function DBt(e,t){let r=[],n=[],i=[],s=[...e.turn.skills].reverse();for(let a of s){if(!await LBt(e,a.skillId,t?.languageId??""))continue;let[l,c]=await PBt(e,a.skillId);l&&(qx().indexOf(a.skillId)===-1?n.push(l):i.push(l)),r.push(c)}return n.reverse(),i.reverse(),r.reverse(),[n,i,r]}o(DBt,"handleSkillsInReverse");async function PBt(e,t){let n=e.ctx.get(Ga).getSkill(t);try{let i=Date.now(),s=await e.skillResolver.resolve(t),a=Date.now()-i;if(s){let l=n?.processor(e),c=Date.now(),u=await l?.processSkill(s,e),f=Date.now()-c;return u?await FBt(e,n,l,u,a,f):[void 0,await EH(e,n,"unprocessable",void 0,a,f)]}else return[void 0,await EH(e,n,"unresolvable",void 0,a)]}catch(i){if(Kr.exception(e.ctx,i,`Error while resolving skill ${t}`),i instanceof ck)throw i;return[void 0,await EH(e,n,"failed")]}}o(PBt,"safelyProcessSkill");async function FBt(e,t,r,n,i,s){let a;return typeof n=="string"?a=new Xt([[n,1]]):a=n,[[a,r?.value()||0],await EH(e,t,"resolved",a,i,s)]}o(FBt,"handleProcessedSkill");async function EH(e,t,r,n,i,s){let l=e.collector.collectiblesForCollector(t?.id??"unknown").filter(u=>u.type==="file"),c={skillId:t?.id??"unknown",resolution:r,files:l,resolutionTimeMs:i,processingTimeMs:s};if(n){let u=await e.ctx.get(ti).getBestChatModelConfig(Zo("user")),f=n.elide(u.maxRequestTokens).getText();c.tokensPreEliding=vo(u.tokenizer).tokenLength(f)}return e.ctx.get(Bl).addResolution(e.turn.id,c),c}o(EH,"determineResolution");function NBt(e){return e.turn.ignoredSkills.map(t=>({skillId:t.skillId,resolution:"ignored"}))}o(NBt,"handleIgnoredSkills");async function LBt(e,t,r){if(t!==hg&&t!==mh)return!0;let n=e.ctx.get(or),i=await n.updateExPValuesAndAssignments({languageId:r});return n.ideChatEnableProjectMetadata(i)?t===hg:t===mh}o(LBt,"includeSkill");var cOe=tt(df());var Wx=class{static{o(this,"AbstractUserPromptStrategy")}async elidableContent(t,r){let n=[],i=M6(t.conversation.turns.slice(0,-1));i!==null&&n.push([i,.6]);let[s,a]=await this.elidableSkills(t,r);return s!==null&&(i!==null&&n.push(["",.1]),n.push([s,.8])),[new Xt(n),a]}async elidableSkills(t,r){return await lOe(t,r)}async promptContent(t,r,n){let i;t.turn.workspaceFolder&&(i=await Q6.getInstructions(t.ctx,[t.turn.workspaceFolder],{includeCodeGenerationInstructions:!0,includeCommitMessageGenerationInstructions:!1}));let s=t.conversation.getLastTurn().request.message,a;i?typeof s=="string"?a=i+`

`+s:a=[{type:"text",text:i},...s]:a=s;let[l,c]=await this.elidableContent(t,n);return[[{role:"system",content:r},{role:"user",content:l},{role:"system",content:this.suffix(t)},{role:"user",content:a}],c]}},bH=class extends Wx{static{o(this,"PanelUserPromptStrategy")}suffix(t){return cOe.default` 
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            When generating code, think step-by-step. Briefly explain the code and then output it in a single code block.
            When fixing problems and errors, provide a brief description first.
            When generating classes, use a separate code block for each class.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers.
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Avoid wrapping the whole response in triple backticks.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.
        `.trim()}};var uOe=tt(df());var vH=class extends Wx{static{o(this,"InlineUserPromptStrategy")}suffix(t){return uOe.default`
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers. 
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.

            The user is editing an open file in their editor.
            The user's code is provided with line numbers prepended, for example: '1:code', starting at 1.
            The selected code line numbers are provided and are inclusive.

            If the user's question is about modifying the code in the editor, adhere to the following rules:

            To edit a range of the user's code, use the following format:
            - Generate a codeblock with the new code.
            - Prefix the codeblock with a markdown comment of the form <!-- replace lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line edits can be done by setting start and end to the same line number: <!-- replace lines X to X -->
            - The original code between the start and end will be replaced with the new code.
            - This format can be used to replace as well as add new code to the user's code.

            For example, to replace lines X to Y of the user's code, use the following format:
            <!-- replace lines X to Y -->
            \`\`\`language
            new code
            \`\`\`

            To delete a range of the user's code, use the following format:
            - Generate a codeblock with the original code.
            - Prefix the codeblock with a markdown comment of the form <!-- delete lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line deletions can be done by setting start and end to the same line number: <!-- delete lines X to X -->
            - The original code in the range will be deleted from the user's code.

            For example, to delete lines X to Y of the user's code, use the following format:
            <!-- delete lines X to Y -->
            \`\`\`language
            original code
            \`\`\`

            Remember:
            - Prefix comments must be placed directly above/after the code block respectively.
            - The first row of a codeblock must never be indented.
            - Code in codeblocks must not contain line numbers.
            - You must not return a codeblock containing the final code, but only individual codeblocks for each change.
        `.trim()}};d();var cce=tt(df());var IH=class{static{o(this,"MetaPromptStrategy")}elidableContent(t){let r=M6(t.turns.slice(0,-1)),n=[];return r!==null&&n.push([r,.6]),new Xt(n)}suffix(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");if(!t.supportedSkillDescriptors)throw new Error("Supported skills must be provided for meta prompts");return this.buildMetaPrompt(t.supportedSkillDescriptors)}buildMetaPrompt(t){return cce.default`
            Your task is to provide a helpful answer to the user's question.
            To help you create that answer, you can resolve skills that give you more context.
            Each skill has a description and some example user questions to help you understand when the skill may be useful. 
            
            List of available skills:
            ${t.map(r=>`${this.skillToPrompt(r)}
`).join(`
`)}
        `.trim()}createFunctionArgumentSchema(t){let r=VPe(t.map(n=>n.id));return I.Object({skillIds:I.Array(r,{description:"The skill ids to resolve ranked from most to least useful"})})}toolConfig(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");return{tool_choice:{type:"function",function:{name:"resolveSkills"}},tools:[{type:"function",function:{name:"resolveSkills",description:"Resolves the skills by id to help answer the user question.",parameters:this.createFunctionArgumentSchema(t.supportedSkillDescriptors)}}],extractArguments(r){return{skillIds:Uy(r).skillIds}}}}skillToPrompt(t){let r=t.description?t.description():t.id,n=`Skill Id: ${t.id}
Skill Description: ${r}`,i=t.examples?t.examples():[];return i.length>0&&(n+=`
Skill Examples:
${i.map(s=>`  - ${s}`).join(`
`)}`),n}async promptContent(t,r,n){let i=t.conversation.getLastTurn().request.message,s=this.elidableContent(t.conversation);return[[{role:"system",content:r},{role:"user",content:s},{role:"system",content:this.suffix(n)},{role:"user",content:cce.default`
                    This is the user's question: 
                    ${en(i).trim()} 
                `.trim()}],[]]}};d();var fOe=tt(df());var TH=class{static{o(this,"SuggestionsPromptStrategy")}toolConfig(){return{tool_choice:{type:"function",function:{name:"showSuggestions"}},tools:[{type:"function",function:{name:"showSuggestions",description:"Show the computed suggestions to the user",parameters:I.Object({suggestedTitle:I.String({description:"The suggested title for the conversation"}),followUp:I.String({description:"The suggested follow-up question for the conversation"})})}}],extractArguments(t){let r=Uy(t);return{suggestedTitle:r.suggestedTitle,followUp:r.followUp}}}}suffix(t){return fOe.default`
            Your task is to come up with two suggestions:

            1) Suggest a title for the current conversation based on the history of the conversation so far.
                - The title must be a short phrase that captures the essence of the conversation.
                - The title must be relevant to the conversation context.
                - The title must not be offensive or inappropriate.
                - The title must be in the following locale: ${t.conversation.userLanguage}.

            2) Write a short one-sentence question that the user can ask as a follow up to continue the current conversation.
                - The question must be phrased as a question asked by the user, not by Copilot.
                - The question must be relevant to the conversation context.
                - The question must not be offensive or inappropriate.
                - The question must not appear in the conversation history.
                - The question must not have already been answered.
                - The question must be in the following locale: ${t.conversation.userLanguage}.
        `.trim()}async elidableContent(t){let r=M6(t.turns.slice()),n=[];return r!==null&&n.push([r,.6]),new Xt(n)}async promptContent(t,r,n){return[[{role:"system",content:r},{role:"user",content:await this.elidableContent(t.conversation)},{role:"system",content:this.suffix(t)}],[]]}};d();var QBt=[{type:"function",function:{name:"queryWithKeywords",description:"Searches the workspace for synonyms and relevant keywords related to the original user query. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code.",parameters:I.Object({keywords:I.Array(I.Object({keyword:I.String({description:"A keyword or phrase relevant to the original user query that a user could search to answer their question. Keywords are not generic and do not repeat."}),variations:I.Array(I.String(),{description:"An array of relevant variations of the keyword. Variations include synonyms and plural forms. Variations are not generic and do not repeat."})}))})}}],wH=class extends Wx{static{o(this,"UserQuerySynonymsPromptStrategy")}suffix(){return`
You are a coding assistant that helps developers find relevant code in their workspace by providing a list of relevant keywords they can search for.
The user will provide you with potentially relevant information from the workspace. This information may be incomplete.

# Additional Rules

Think step by step:
1. Read the user's question to understand what they are asking about their workspace.
2. If there are pronouns in the question, such as 'it', 'that', 'this', try to understand what they refer to by looking at the rest of the question and the conversation history.
3. Output a list of up to 8 relevant keywords that the user could search to answer their question. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code. Put the keywords most relevant to the question first. Do not include overly generic keywords. Do not repeat keywords.
4. For each keyword in the list of relevant keywords, output a list of relevant variations of the keyword if applicable. Consider synonyms and plural forms. Do not include overly generic variations. Do not repeat variations.

# Example

User: Where is the code for base64 encoding?

Response:

queryWithKeywords([
    { "keyword": "base64 encoding", "variations": ["base64 encoder", "base64 encode"] },
    { "keyword": "base64", "variations": ["base 64"] },
    { "keyword": "encode", "variations": ["encoding", "encoded", "encoder", "encoders"] }
]);
`.trim()}async promptContent(t,r,n){if(n.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");let i=t.conversation.getLastTurn().request.message;return[[{role:"system",content:r},{role:"system",content:this.suffix()},{role:"user",content:i}],[]]}toolConfig(t){if(t.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");return{tools:QBt,tool_choice:{type:"function",function:{name:"queryWithKeywords"}},extractArguments(r){let n=Uy(r).keywords;if(!n||!Array.isArray(n))return{keywords:[]};let i=new Set;for(let s of n)if(!(!nQ(s,"keyword")||!s.keyword||typeof s.keyword!="string")&&(i.add(s.keyword.toLowerCase()),!(!nQ(s,"variations")||!s.variations||!Array.isArray(s.variations))))for(let a of s.variations)typeof a=="string"&&i.add(a.toLowerCase());return{keywords:Array.from(i)??[]}}}}};var uce=class{constructor(t,r,n){this.promptType=t;this.strategy=n;this.modelFamilies=Array.isArray(r)?r:[r]}static{o(this,"PromptStrategyDescriptor")}};function uk(e,t,r){return new uce(e,t,r)}o(uk,"descriptor");var dOe=[uk("user",Zo("user"),async()=>new bH),uk("inline",Zo("inline"),async()=>new vH),uk("meta",Zo("meta"),async()=>new IH),uk("suggestions",Zo("suggestions"),async()=>new TH),uk("synonyms",Zo("synonyms"),async()=>new wH)],SH=class{static{o(this,"DefaultPromptStrategyFactory")}async createPromptStrategy(t,r,n){let i=dOe.find(s=>s.promptType===r&&s.modelFamilies.includes(n));if(!i)throw new Error(`No prompt strategy found for promptType: ${r} and modelFamily: ${n}`);return i.strategy(t)}get descriptors(){return dOe}};var hOe=require("console");var i0=class{constructor(t,r=new SH){this.ctx=t;this.promptStrategyFactory=r}static{o(this,"ConversationPromptEngine")}async toPrompt(t,r){let n=await this.promptStrategyFactory.createPromptStrategy(this.ctx,r.promptType,r.modelConfiguration.modelFamily),[i,s]=await n.promptContent(t,await this.safetyPrompt(r.userSelectedModelName??r.modelConfiguration.uiName),r),[a,l]=await this.elideChatMessages(i,r.modelConfiguration);return await this.ctx.get(Wa).inspectPrompt({type:r.promptType,prompt:mOe(a),tokens:l}),this.ctx.get(Bl).addPrompt(t.turn.id,mOe(a),r.promptType),{messages:a,tokens:l,skillResolutions:s,toolConfig:n.toolConfig?.(r)}}async elideChatMessages(t,r){let n=t.filter(l=>!(typeof l.content=="string"||Array.isArray(l.content)));(0,hOe.assert)(n.length==1,"Only one elidable message is supported right now.");let i=this.computeNonElidableTokens(t,r),s=r.maxRequestTokens-i,a=t.map(l=>typeof l.content=="string"||Array.isArray(l.content)?l:{role:l.role,content:MBt(l.content.elide(s).getText())}).filter(l=>l.content.length>0);return[a,J0e(a,r)]}computeNonElidableTokens(t,r){let n=t.filter(i=>typeof i.content=="string");return n.push({role:"user",content:""}),J0e(n,r)}async safetyPrompt(t){let r=await this.ctx.get(wn).getAuthRecord(),n=this.ctx.get(an).getEditorInfo().readableName??this.ctx.get(an).getEditorInfo().name,i=OBt(process.platform);return await ZMe(this.ctx,n,r?.user,i,t)}};function MBt(e){return e.trimStart().replace(/^\[\.\.\.\]\n?/,"")}o(MBt,"processResultOfElidableText");function mOe(e){return e.map(t=>en(t.content)).join(`

`)}o(mOe,"debugChatMessages");function OBt(e){switch(e){case"darwin":return"macOS";case"win32":return"Windows";case"linux":return"Linux";case"freebsd":return"FreeBSD";case"openbsd":return"OpenBSD";case"sunos":return"SunOS";case"aix":return"AIX";default:return}}o(OBt,"mapPlatformToOs");var _H=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{o(this,"TurnSuggestions")}async fetchRawSuggestions(t,r,n,i){let s=await this.ctx.get(ti).getBestChatModelConfig(Zo("suggestions"),{tool_calls:!0}),a={promptType:"suggestions",modelConfiguration:s},l=await this.ctx.get(i0).toPrompt(t,a),c=i.extendedBy({messageSource:"chat.suggestions"},{promptTokenLen:l.tokens}),u={modelConfiguration:s,messages:l.messages,uiKind:n,llmInteraction:t.toLlmInteraction()};if(l.toolConfig===void 0)throw new Error("No tool call configuration found in suggestions prompt.");u.tool_choice=l.toolConfig.tool_choice,u.tools=l.toolConfig.tools;let f=await this.chatFetcher.fetchResponse(u,r,c);if(f.type!=="success"&&(Kr.error(this.ctx,"Failed to fetch suggestions, trying again..."),f=await this.chatFetcher.fetchResponse(u,r,c)),f.type==="success"){if(!f.toolCalls||f.toolCalls.length===0){Kr.error(this.ctx,"Missing tool call in suggestions response");return}let m=f.toolCalls[0],{followUp:h,suggestedTitle:p}=l.toolConfig.extractArguments(m);if(!h||!p){Kr.error(this.ctx,"Missing follow-up or suggested title in suggestions response");return}return{followUp:h.trim(),suggestedTitle:p.trim(),promptTokenLen:l.tokens,numTokens:f.numTokens+m.approxNumTokens}}else if(f.type==="successMultiple"){Kr.error(this.ctx,"successMultiple response is unexpected for suggestions");return}else if(f.type==="tool_calls"){Kr.error(this.ctx,"tool_calls response is unexpected for suggestions");return}else{Kr.error(this.ctx,`Failed to fetch suggestions due to reason: ${f.reason}`);return}}};var U6=class{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.computeSuggestions=n}static{o(this,"ChatFetchResultPostProcessor")}async postProcess(t,r,n,i,s,a,l,c){switch(gEe(this.turnContext.ctx,l,a,t.type=="offTopic",t.requestId,c,s.extendedBy({},{fileCount:this.turnContext.ctx.get(ea).workspaceCount})),await this.turnContext.ctx.get(Wa).inspectFetchResult(t),t.type){case"success":return await this.processSuccessfulFetchResult(n,t.numTokens,t.requestId,r,l,i,s,c);case"offTopic":return await this.processOffTopicFetchResult(s,l,c);case"canceled":return this.turnContext.turn.status="cancelled",this.turnContext.turn.response={message:"Cancelled",type:"user"},{error:{message:en(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}};case"failed":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:t.reason,type:"server"},{error:{message:o6.translateErrorMessage(t.code,t.reason),code:t.code}};case"filtered":return this.turnContext.turn.status="filtered",{error:{message:"Oops, your response got filtered. Vote down if you think this shouldn't have happened.",responseIsFiltered:!0}};case"length":return this.turnContext.turn.status="error",{error:{message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0}};case"agentAuthRequired":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},{error:{message:"Authorization required",responseIsFiltered:!1}};case"no_choices":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"No choices returned",type:"server"},{error:{message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"no_finish_reason":return this.turnContext.turn.status="error",n&&n.length>0?this.turnContext.turn.response={message:n,type:"model",references:this.turnContext.turn.response?.references}:this.turnContext.turn.response={message:"No finish reason",type:"server"},{error:{message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"model_not_supported":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Model not supported",type:"server"},{error:{message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1}};case"successMultiple":case"tool_calls":case"unknown":return this.turnContext.turn.status="error",{error:{message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1}}}}async processSuccessfulFetchResult(t,r,n,i,s,a,l,c){if(t&&t.length>0){a.markAsDisplayed(),l.markAsDisplayed(),this.turnContext.turn.status="success",this.turnContext.turn.response={message:t,type:"model",references:this.turnContext.turn.response?.references},AEe(this.turnContext.ctx,this.turnContext.conversation,s,t,r,n,c,l);let u=this.computeSuggestions?await this.fetchSuggestions(i,s,a,c):void 0;if(u){let{followUp:f,suggestedTitle:m}=u;return{followup:f.message!==""?f:void 0,suggestedTitle:m!==""?m:void 0}}return{}}return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"The model returned successful but did not contain any response text.",type:"meta"},{error:{message:en(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}}}async fetchSuggestions(t,r,n,i){let a=await new _H(this.turnContext.ctx,this.chatFetcher).fetchRawSuggestions(this.turnContext,t,r,n);if(a===void 0)return;let l=this.enrichFollowup(a,r,n,i);return Kr.debug(this.turnContext.ctx,"Computed followup",l),Kr.debug(this.turnContext.ctx,"Computed suggested title",a.suggestedTitle),{followUp:l,suggestedTitle:a.suggestedTitle}}enrichFollowup(t,r,n,i){let s=n.extendedBy({messageSource:"chat.suggestions",suggestionId:Tr(),suggestion:"Follow-up from model"},{promptTokenLen:t.promptTokenLen,numTokens:t.numTokens});return bEe(this.turnContext.ctx,r,s,i),{message:t.followUp,id:s.properties.suggestionId,type:s.properties.suggestion}}async processOffTopicFetchResult(t,r,n){let i="Sorry, but I can only assist with programming related questions.";return this.turnContext.turn.response={message:i,type:"offtopic-detection"},this.turnContext.turn.status="off-topic",yEe(this.turnContext.ctx,this.turnContext.conversation,r,i,t.properties.messageId,n,t),{error:{message:i,responseIsFiltered:!0}}}};var fce="generate-response",kH=class extends Error{constructor(r,n,i,s){super(r);this.authorizationUri=n;this.agentSlug=i;this.agentName=s}static{o(this,"RemoteAgentAuthorizationError")}},fk=class{constructor(t,r,n){this.agent=t;this.turnContext=r;this.chatFetcher=n;this.conversationProgress=r.ctx.get(cs),this.chatFetcher=this.chatFetcher??new Aa(r.ctx),this.postProcessor=new U6(r,this.chatFetcher,!1),this.conversation=r.conversation,this.turn=r.turn}static{o(this,"RemoteAgentTurnProcessor")}async process(t,r,n,i){try{await this.processWithAgent(t,r,this.turnContext,i)}catch(s){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,s);let a=s instanceof Error?s.message:String(s);this.turn.status="error",this.turn.response={message:a,type:"meta"},s instanceof kH?await this.endProgress({unauthorized:{authorizationUri:s.authorizationUri,agentSlug:s.agentSlug,agentName:s.agentName}}):await this.endProgress({error:{message:a,responseIsIncomplete:!0}})}}async processWithAgent(t,r,n,i){await this.conversationProgress.begin(this.conversation,this.turn,t);let s=await Ja(this.turnContext.ctx,this.turn.id,this.conversation.id,{languageId:i?.detectedLanguageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let a=await this.buildAgentPrompt(n);if(!a)await this.endTurnWithResponse(`No prompt created for agent ${this.agent.id}`,"error");else{let l={type:"user",prompt:JSON.stringify(a.messages,null,2),tokens:a.tokens};await n.ctx.get(Wa).inspectPrompt(l),await n.steps.start(fce,"Generating response");let c=this.augmentTelemetry(a,s,this.turn.template,i);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let u=await this.fetchConversationResponse(n,a.messages,r,s.extendedBy({messageSource:"chat.user"},{promptTokenLen:a.tokens}),c,i);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(u,n),await this.endProgress({error:u.error,followUp:u.followup,suggestedTitle:u.suggestedTitle,skillResolutions:a.skillResolutions}))}}async buildAgentPrompt(t){let r=this.createMessagesFromHistory(t),n=await this.computeCopilotReferences(t),i=this.getOrCreateAgentSessionId(t);return this.turn.agent&&(this.turn.agent.sessionId=i),this.turn.confirmationResponse?this.addConfirmationResponse(this.turn.confirmationResponse,r):r.push({role:"user",content:t.turn.request.message,copilot_references:n.length>0?n:void 0}),{messages:r,tokens:-1,skillResolutions:[]}}getOrCreateAgentSessionId(t){let r=this.turn.agent?.agentSlug;if(r){for(let n of t.conversation.turns)if(n.agent?.agentSlug===r&&n.agent.sessionId)return n.agent.sessionId}return Tr()}addConfirmationResponse(t,r){r.push({role:"user",content:"",copilot_confirmations:[t]})}createMessagesFromHistory(t){return X0e(t.conversation.turns.slice(0,-1),this.agent.slug).flatMap(r=>{let n=[];if(r.request&&n.push({role:"user",content:r.request.message}),r.response&&r.response.type==="model"){let i=mQe(r.response.references);n.push({role:"assistant",content:r.response.message,copilot_references:i.length>0?i:void 0})}return n})}async computeCopilotReferences(t){return await IQe(t)}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async fetchConversationResponse(t,r,n,i,s,a){n.onCancellationRequested(async()=>{await this.cancelProgress()});let l=new eC((m,h,p,A,x)=>{let E=x?{...x,agentSlug:this.agent.slug}:void 0;this.conversationProgress.report(this.conversation,this.turn,{reply:m,annotations:h,references:p,notifications:A.map(v=>({message:v.message,severity:"warning"})),confirmationRequest:E}),this.turn.response?(this.turn.response.message=S6(this.turn.response.message,m),this.turn.response.references.push(...p)):this.turn.response={message:m,type:"model",references:p},this.turn.annotations.push(...h??[]),E&&(this.turn.confirmationRequest=E)}),c=await this.turnContext.ctx.get(qr).getGitHubToken(),u={engineName:"agents",endpoint:this.agent.endpoint??this.agent.slug,messages:r,uiKind:"conversationPanel",intentParams:{intent:!0,intent_threshold:.7,intent_content:en(this.turn.request.message)},authToken:c,copilot_thread_id:this.turn.agent?.sessionId,llmInteraction:t.toLlmInteraction()},f=await this.chatFetcher.fetchResponse(u,n,i,async(m,h)=>l.isFinishedAfter(m,h));return this.ensureAgentIsAuthorized(f),await this.postProcessor.postProcess(f,n,l.appliedText,i,s.extendedBy(this.addExtensibilityInfoTelemetry()),en(this.turn.request.message),"conversationPanel",a)}ensureAgentIsAuthorized(t){if(t.type==="agentAuthRequired")throw this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},new kH("Authorization required",t.authUrl,this.agent.slug,this.agent.name)}augmentTelemetry(t,r,n,i){return cw(this.conversation,"conversationPanel",en(this.turn.request.message).length,t.tokens,n?.templateId,void 0,r,t.skillResolutions)}addExtensibilityInfoTelemetry(){return{extensibilityInfoJson:JSON.stringify({agent:this.agent.slug,outgoingReferences:this.turn.request.references?.map(t=>t.type)??[],incomingReferences:this.turn.response?.references?.map(t=>t.type)??[]})}}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(fce,t.error.message):await r.steps.finish(fce)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};var dk=class{constructor(t,r,n,i,s,a){this.id=t;this.slug=r;this.name=n;this.description=i;this.avatarUrl=s;this.endpoint=a}static{o(this,"RemoteAgent")}async additionalSkills(t){return[]}turnProcessor(t){return new fk(this,t)}},BH=class extends dk{static{o(this,"ExtensibilityPlatformAgent")}constructor(){super(0,"github","GitHub","Get answers grounded in web search, code search, and your enterprise's knowledge bases.","https://avatars.githubusercontent.com/u/9919?s=200&v=4","chat")}turnProcessor(t){return new fk(this,t)}};d();var UBt="github",ph=class{static{o(this,"RemoteAgentRegistry")}},RH=class extends ph{constructor(r){super();this.ctx=r;this._agents=void 0;this._lastFetchTime=0}static{o(this,"CapiRemoteAgentRegistry")}async agents(){return this.shouldRefreshAgents()&&(this._agents=await this.fetchAgents()),this._agents!=null?this._agents.slice():[]}shouldRefreshAgents(){return!this._agents||!this._lastFetchTime?!0:this.isLastFetchOlderOneHour()}isLastFetchOlderOneHour(){return Date.now()-this._lastFetchTime>36e5}async fetchAgents(){let r=await H3(this.ctx,"/agents");return r.ok?(this._lastFetchTime=Date.now(),this.parseAgents(await r.text())):(ni.error(this.ctx,"Failed to fetch agents from CAPI",{status:r.status,statusText:r.statusText}),[])}parseAgents(r){let n;try{n=JSON.parse(r).agents,Array.isArray(n)||ni.error(this.ctx,"Expected 'agents' to be an array")}catch(i){return r.includes("access denied")||ni.warn(this.ctx,"Invalid remote agent response:",r,i),[]}return n.filter(i=>i.slug!==UBt).map(i=>new dk(i.id,i.slug,i.name,i.description,i.avatar_url))}};var dce=class{constructor(){this.slug="project";this.name="Project";this.description="Ask about your project"}static{o(this,"ProjectAgent")}async additionalSkills(t){return[D6]}};async function dg(e){let t=[];return t.push(new BH),t.push(...await e.get(ph).agents()),t.push(new dce),t}o(dg,"getAgents");d();var pOe=tt(v0());async function DH(e){let t=await e.get(wn).checkAndUpdateStatus(e);if(t.status!=="OK")throw new pOe.ResponseError(nn.NoCopilotToken,`Not authenticated: ${t.status}`)}o(DH,"verifyAuthenticated");function to(e){return async(t,r,n)=>(await DH(t),e(t,r,n))}o(to,"ensureAuthenticated");var qBt=I.Object({options:I.Optional(Pn)});async function WBt(e,t,r){return[(await dg(e)).map(s=>({slug:s.slug,name:s.name,description:s.description,avatarUrl:s.avatarUrl})),null]}o(WBt,"handleConversationAgentsChecked");var gOe=to(lt(qBt,WBt));d();d();var mk=tt(v0());function GBt(e,t,r){let n=rn.createAndMarkAsIssued({languageId:String(t.detectedLanguageId),requestedDocumentVersion:String(r),actualDocumentVersion:String(t.version)});return Gt(e,"getCompletions.docVersionMismatch",n)}o(GBt,"telemetryVersionMismatch");async function gh(e,t,r){let i=e.get(Vr).getTextDocumentUnsafe(t);if(!i)throw new mk.ResponseError(nn.InvalidParams,`Document for URI could not be found: ${t.uri}`);await DH(e);let s=await b4(e,t,i.getText());if(s.status==="invalid")throw e.get(Mi).setInactive(s.reason),new mk.ResponseError(nn.CopilotNotAvailable,s.reason);if(t.version!==void 0&&i.version!==t.version)throw r?.isCancellationRequested||(GBt(e,i,t.version),pf.debug(e,`Requested document version was ${t.version} but actual document version was ${i.version}.`)),new mk.ResponseError(nn.ContentModified,"Document Version Mismatch");return i}o(gh,"getTextDocument");async function pg(e,{doc:t},r){if(!t){await DH(e);return}try{return await gh(e,t,r)}catch(n){if(n instanceof mk.ResponseError&&n.code===nn.CopilotNotAvailable)return;throw n}}o(pg,"getTextDocumentIfAvailable");var HBt=I.Union([I.Literal("keyboard"),I.Literal("toolbar")]),VBt=I.Object({turnId:I.String(),codeBlockIndex:I.Number(),source:HBt,copiedCharacters:I.Number(),totalCharacters:I.Number(),copiedText:I.String(),doc:I.Optional(lc),options:I.Optional(Pn),conversationSource:I.Optional(Qd)});async function jBt(e,t,r){let n=await pg(e,r,t),i={totalCharacters:r.totalCharacters,copiedCharacters:r.copiedCharacters};n&&r.doc?.position&&(i={...i,currentLine:r.doc.position.line});let s=M5(r.conversationSource),a=await Ja(e,r.turnId,e.get(Vi).findByTurnId(r.turnId)?.id??"",{languageId:n?.detectedLanguageId??""});return Gu(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:s},i,`${Qc(s)}.acceptedCopy`,a),["OK",null]}o(jBt,"handleConversationCodeCopyChecked");var AOe=lt(VBt,jBt);d();var $Bt=I.Union([I.Literal("keyboard"),I.Literal("toolbar"),I.Literal("diff")]),zBt=I.Object({turnId:I.String(),source:$Bt,codeBlockIndex:I.Number(),acceptedLength:I.Optional(I.Number()),totalCharacters:I.Number(),newFile:I.Optional(I.Boolean()),doc:I.Optional(lc),options:I.Optional(Pn),conversationSource:I.Optional(Qd)});async function YBt(e,t,r){let n=await pg(e,r,t),i={totalCharacters:r.totalCharacters,acceptedLength:r.acceptedLength??r.totalCharacters};n&&r.doc?.position&&(i={...i,insertionOffset:n.offsetAt(r.doc.position),currentLine:r.doc.position.line});let s=M5(r.conversationSource),a=await Ja(e,r.turnId,e.get(Vi).findByTurnId(r.turnId)?.id??"",{languageId:n?.detectedLanguageId??""});return Gu(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:s,compType:r.acceptedLength&&r.acceptedLength<r.totalCharacters?"partial":"full"},i,`${Qc(s)}.acceptedInsert`,a),["OK",null]}o(YBt,"handleConversationCodeInsertChecked");var yOe=lt(zBt,YBt);d();d();d();d();d();var COe="```",hk=String.raw`<!-- (?<mode>[\w-]+) lines? (?<start>\d+)(?: to (?<end>\d+))? -->`,KBt=String.raw`${COe}[\w]*?\n(?<codeblock>[\s\S]*?)\n${COe}`,JBt=new RegExp(hk+`
`+KBt,"gs"),mce=["replace","delete"];function hce(e,t){let r=e.matchAll(JBt),n=Array.from(r),i=[];for(let s of n){let a=s.groups;if(!a||!mce.includes(a.mode))continue;let l=a.start?parseInt(a.start)-1:-1,c=a.end?parseInt(a.end)-1:l,f=a.codeblock.split(`
`),m=f[0].match(/^\s*/)?.[0]??"";f.forEach((x,E)=>{f[E]=x.slice(m.length)});let h={mode:a.mode,codeblock:f.join(`
`),start:l,end:c},p=pce([h],t);if(!p)continue;let A={text:p,uri:t.uri};i.push({...h,updatedDocument:A})}return i}o(hce,"extractEditsFromTaggedCodeblocks");function pce(e,t){if(e.length===0)return;e.sort((n,i)=>n.start!==i.start?i.start-n.start:i.end-n.end);let r=t.getText().split(`
`);for(let n of e){let i=n.start,s=n.end,a=n.mode,l=n.codeblock.split(`
`);if(!(i<0||s<0||s<i)&&!(i>=r.length||s>=r.length)){if(a==="delete")r.splice(i,s-i+1);else if(a==="replace"){let c=r[i].match(/^\s*/)?.[0]??"";l.forEach((u,f)=>{l[f]=c+u}),r.splice(i,s-i+1,...l)}}}return r.join(`
`)}o(pce,"applyEditsToDocument");d();var PH=class{constructor(t,r){this._toolsService=t;this.props=r;this.toolCalls=[]}static{o(this,"EditAgentPrompt")}render(){let t=[{role:"system",content:this.buildSystemMessage().join(`
`)},{role:"system",content:this.buildDefaultAgentPrompt().join(`
`)},{role:"user",content:this.buildUserPrompt(this.props.userMessage).join(`
`)},...this.toolCalls];return this.toolCalls.length&&t.push({role:"user",content:"Above is the result of calling one or more tools. The user cannot see the results, so you should explain them to the user if referencing them in your answer. Continue from where you left off without repeating yourself."}),t}addToolCallModelResponse(t,r){this.toolCalls.push({role:"assistant",content:t,tool_calls:r})}addToolCallResult(t,r){let n=XFe(t);this.toolCalls.push({role:"tool",content:n,tool_call_id:r})}buildSystemMessage(){let t=[];return t.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal."),t}buildDefaultAgentPrompt(){let t=this._toolsService.getTool("get_errors")!==void 0,r=this._toolsService.getTool("run_in_terminal")!==void 0,n=this._toolsService.getTool("replace_string_in_file")!==void 0,i=[];return i.push("<instructions>"),i.push("You are a highly sophisticated automated coding agent with expert-level knowledge across many different programming languages and frameworks."),i.push("The user will ask a question, or ask you to perform a task, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question."),i.push("If you can infer the project type (languages, frameworks, and libraries) from the user's query or the context that you have, make sure to keep them in mind when making changes."),i.push("If the user wants you to implement a feature and they have not specified the files to edit, first break down the user's request into smaller concepts and think about the kinds of files you need to grasp each concept."),i.push("If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have. It's YOUR RESPONSIBILITY to make sure that you have done all you can to collect necessary context."),i.push("Prefer using the semantic_search tool to search for context unless you know the exact string or filename pattern you're searching for."),i.push("Don't make assumptions about the situation-gather context first, then perform the task or answer the question."),i.push("Think creatively and explore the workspace in order to make a complete fix."),i.push("Don't repeat yourself after a tool call, pick up where you left off."),i.push(`NEVER print out a codeblock with file changes unless the user asked for it. Use the insert_edit_into_file ${n&&"replace_string_in_file"} tool instead.`),r&&i.push("NEVER print out a codeblock with a terminal command to run unless the user asked for it. Use the run_in_terminal tool instead."),i.push("You don't need to read a file if it's already provided in context."),i.push("</instructions>"),i.push("<toolUseInstructions>"),i.push("When using a tool, follow the json schema very carefully and make sure to include ALL required properties."),i.push("Always output valid JSON when using a tool."),i.push("If a tool exists to do a task, use the tool instead of asking the user to manually take an action."),i.push("If you say that you will take an action, then go ahead and use the tool to do it. No need to ask permission."),i.push("Never use multi_tool_use.parallel or any tool that does not exist. Use tools using the proper procedure, DO NOT write out a json codeblock with the tool inputs."),i.push("Never say the name of a tool to a user."),i.push("If you think running multiple tools can answer the user's question, prefer calling them in parallel whenever possible, but do not call semantic_search in parallel."),i.push("If semantic_search returns the full contents of the text files in the workspace, you have all the workspace context."),r&&i.push("Don't call the run_in_terminal tool multiple times in parallel. Instead, run one command and wait for the output before running the next command."),i.push("</toolUseInstructions>"),i.push("<editFileInstructions>"),n?(i.push("Before you edit an existing file, make sure you either already have it in the provided context, or read it with the read_file tool, so that you can make proper changes."),i.push("Use the replace_string_in_file tool to replace a string in a file, but only if you are sure that the string is unique enough to not cause any issues. You can use this tool multiple times per file."),i.push("Use the insert_edit_into_file tool to insert code into a file."),i.push("When editing files, group your changes by file."),i.push("NEVER show the changes to the user, just call the tool, and the edits will be applied and shown to the user."),i.push("NEVER print a codeblock that represents a change to a file, use insert_edit_into_file or replace_string_in_file instead."),i.push("For each file, give a short description of what needs to be changed, then use the replace_string_in_file or insert_edit_into_file tools. You can use any tool multiple times in a response, and you can keep writing text after using a tool.")):(i.push("Don't try to edit an existing file without reading it first, so you can make changes properly."),i.push("Use the insert_edit_into_file tool to edit files. When editing files, group your changes by file."),i.push("NEVER show the changes to the user, just call the tool, and the edits will be applied and shown to the user."),i.push("NEVER print a codeblock that represents a change to a file, use insert_edit_into_file instead."),i.push("For each file, give a short description of what needs to be changed, then use the insert_edit_into_file tool. You can use any tool multiple times in a response, and you can keep writing text after using a tool.")),i.push(`Follow best practices when editing files. If a popular external library exists to solve a problem, use it and properly install the package e.g. ${r?'with "npm install" or ':""}creating a "requirements.txt".`),t&&i.push("After editing a file, you MUST call get_errors to validate the change. Fix the errors if they are relevant to your change or the prompt, and remember to validate that they were actually fixed."),i.push("The insert_edit_into_file tool is very smart and can understand how to apply your edits to the user's files, you just need to provide minimal hints."),i.push("When you use the insert_edit_into_file tool, avoid repeating existing code, instead use comments to represent regions of unchanged code. The tool prefers that you are as concise as possible. For example:"),i.push(`// ${Sl}`),i.push("changed code"),i.push(`// ${Sl}`),i.push("changed code"),i.push(`// ${Sl}`),i.push(""),i.push("Here is an example of how you should format an edit to an existing Person class:"),i.push("class Person {"),i.push(`	// ${Sl}`),i.push("	age: number;"),i.push(`	// ${Sl}`),i.push("	getAge() {"),i.push("		return this.age;"),i.push("	}"),i.push("}"),i.push("</editFileInstructions>"),i}buildUserPrompt(t){let r=this._toolsService.getTool("replace_string_in_file")!==void 0,n=[];return n.push("<context>"),n.push(`${this.getCurrentDate()}`),n.push(`${this.getUserOS()}`),n.push(`${this.getWorkspaceFoldersHint()}`),n.push("</context>"),n.push("<reminder>"),n.push(`When using the insert_edit_into_file tool, avoid repeating existing code, instead use a line comment with \`${Sl}\` to represent regions of unchanged code.`),r&&n.push("When using the replace_string_in_file tool, include 3-5 lines of unchanged code before and after the string you want to replace, to make it unambiguous which part of the file should be edited."),n.push("</reminder>"),n.push("<prompt>"),n.push(t),n.push("</prompt>"),n}getWorkspaceFoldersHint(){return this.props.workspaceFolder?`I am working in the workspace folder:
 -${this.props.workspaceFolder}`:"There is no workspace currently open."}getCurrentDate(){return`The current date is ${new Date().toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}.`}getUserOS(){let t=process.platform;return`My current OS is: ${t==="win32"?"Windows":t==="darwin"?"macOS":t==="linux"?"Linux":"Unknown"}`}};var XBt=15,FH=class e{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.modelConfiguration=n;this.toolCallRounds=[];this.conversationProgress=t.ctx.get(cs),this.conversation=t.conversation,this.turn=t.turn,this.toolsService=t.ctx.get(og),this.prompt=new PH(this.toolsService,{userMessage:en(this.turnContext.turn.request.message),workspaceFolder:this.turnContext.turn.workspaceFolder}),this.requestId=Tr()}static{o(this,"ToolCallingLoop")}static{this.NextToolCallId=Date.now()}async run(t,r){let n=0,i;for(;;){if(r.isCancellationRequested||i&&n++>=XBt)return;let s=await this.runOne(n,r);if(i={...s},this.toolCallRounds.push(s.round),!s.round.toolCalls.length||s.response.type!=="success"&&s.response.type!=="tool_calls")return}}async runOne(t,r){let n=this.prompt.render(),i=[],s="",a=new eC((u,f,m,h)=>{let p=u.trim().match(hk)!==null;this.conversationProgress.report(this.conversation,this.turn,{annotations:f,references:m,hideText:p,notifications:h.map(A=>({severity:"warning",message:A.message})),editAgentRounds:[{roundId:t,reply:u}]}),this.turn.response?this.turn.response.message=S6(this.turn.response.message,u):this.turn.response={message:u,type:"model"},this.turn.annotations.push(...f??[]),s+=u}),l=await this.turnContext.ctx.get(or).updateExPValuesAndAssignments();l.properties.requestId=this.requestId;let c=await this.chatFetcher.fetchResponse({messages:n,modelConfiguration:this.modelConfiguration,uiKind:"conversationPanel",tools:this.getAvailableTools(),intentParams:{intent:!0},llmInteraction:this.turnContext.toLlmInteraction()},r,l,async(u,f)=>a.isFinishedAfter(u,f));if(c.type==="success")return{response:c,round:{response:c.value,toolInputRetry:0,toolCalls:i}};if(c.type==="tool_calls"){let u=c.toolCalls.map(f=>{if(!f.id){let m=`cls_${e.NextToolCallId++}`;f.id=m}return f});this.prompt.addToolCallModelResponse(s,u);for(let f of u){if(!f.id)throw new Error(`Tool call id is required but was not provided for function ${f.function.name}`);let m=this.toolsService.getTool(f.function.name);if(m){let h=Uy(f),p=this.toolsService.prepareInvocation(f.function.name,{input:h},r);await this.turnContext.agentToolCalls.start(t,f.id,m.name,p.progressMessage||`Running ${m.name} tool`);let A=await this.toolsService.invokeTool(this.turnContext,m.name,{toolInvocationToken:f.id,input:h,roundId:t,toolCallId:f.id},r);this.prompt.addToolCallResult(A.content,f.id),await this.turnContext.agentToolCalls.finish(t,f.id)}}return{response:c,round:{response:s,toolInputRetry:0,toolCalls:u.map(f=>({id:f.id,name:f.function.name,arguments:JSON.stringify(f.function.arguments)}))}}}return{response:c,round:{response:"",toolInputRetry:0,toolCalls:i}}}getAvailableTools(){return this.toolsService.getEnabledTools(t=>!t.tags.includes("hiddenFromLlm")).map(t=>({type:"function",function:{name:t.name,description:t.description,parameters:t.inputSchema}}))}};var NH=class{constructor(t,r){this.turnContext=t;this.chatFetcher=r;this.conversationProgress=t.ctx.get(cs),this.chatFetcher=this.chatFetcher??new Aa(t.ctx),this.conversation=t.conversation,this.turn=t.turn}static{o(this,"AgenticTurnProcessor")}async process(t,r,n,i,s){try{await this.processWithModelAndToolCall(t,r,this.turnContext,n,i,s)}catch(a){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModelAndToolCall(t,r,n,i,s,a){if(await this.conversationProgress.begin(this.conversation,this.turn,t),r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let l=await ah.getModelConfiguration(this.turnContext.ctx,"edits",a);await new FH(this.turnContext,this.chatFetcher,l).run(t,r),await this.endProgress({})}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var gce="collect-context",Ace="generate-response",LH=class{constructor(t,r,n){this.turnContext=t;this.strategy=r;this.chatFetcher=n;this.conversationProgress=t.ctx.get(cs),this.chatFetcher=this.chatFetcher??new Aa(t.ctx),this.postProcessor=new U6(t,this.chatFetcher,r.computeSuggestions),this.conversation=t.conversation,this.turn=t.turn}static{o(this,"ModelTurnProcessor")}async process(t,r,n,i,s){try{await this.processWithModel(t,r,this.turnContext,n,i,s)}catch(a){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModel(t,r,n,i,s,a){await this.conversationProgress.begin(this.conversation,this.turn,t);let l=await Ja(this.turnContext.ctx,this.turn.id,this.conversation.id,{languageId:s?.detectedLanguageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let c=nk().find(h=>h.id===this.turn.template?.templateId);if(c?.response){await this.handleTemplateResponse(c,this.turn.template.userQuestion,r);return}let u=(await dg(this.turnContext.ctx)).find(h=>h.slug===this.turn.agent?.agentSlug);if(u){let h=await this.checkAgentPreconditions(u);if(h){await this.endProgress(h);return}}await n.steps.start(gce,"Collecting context"),await this.collectContext(n,r,l,this.strategy.uiKind,c,u);let f=a?(await this.turnContext.ctx.get(ti).getBestChatModelConfig([a])).uiName:void 0,m=await this.strategy.buildConversationPrompt(n,s?.detectedLanguageId??"",void 0,f);if(!m)await n.steps.error(gce,"Failed to collect context"),await this.endTurnWithResponse(this.strategy.earlyReturnResponse,"error");else{await n.steps.finish(gce),await n.steps.start(Ace,"Generating response");let h=this.augmentTelemetry(m,l,c,i,s);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let p=await this.fetchConversationResponse(m.messages,r,l.extendedBy({messageSource:"chat.user"},{promptTokenLen:m.tokens}),h,s,a),A=await this.strategy.processResponse(this.turn);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(p,n),await this.endProgress({error:p.error,followUp:p.followup,suggestedTitle:p.suggestedTitle,skillResolutions:m.skillResolutions,updatedDocuments:A}))}}async checkAgentPreconditions(t){try{let r=t.checkPreconditions?await t.checkPreconditions(this.turnContext.ctx,this.turn):void 0;if(r&&r.type==="authorizationRequired")return{unauthorized:{...r,agentName:t.name,agentSlug:t.slug}}}catch(r){Kr.error(this.turnContext.ctx,`Error checking preconditions for agent ${t.slug}`,r);let n=r instanceof Error?r.message:String(r);return this.turn.status="error",this.turn.response={message:n,type:"meta"},{error:{message:n,responseIsIncomplete:!0}}}}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async handleTemplateResponse(t,r,n){if(!t.response)return;let i=await t.response(this.turnContext,r,n);this.turn.response={type:"meta",message:i.message},this.turn.status=i.error?.responseIsFiltered?"filtered":i.error?.responseIsIncomplete?"error":"success",i.error?.responseIsFiltered||i.error?.responseIsIncomplete?(await this.conversationProgress.report(this.conversation,this.turn,{reply:"Sure, I can definitely do that!",annotations:i.annotations,notifications:i.notifications,references:i.references}),await this.turnContext.steps.finishAll(),await this.endProgress({error:{message:i.message,code:i.error?.code||0,responseIsIncomplete:i.error?.responseIsIncomplete,responseIsFiltered:i.error?.responseIsFiltered}})):(await this.conversationProgress.report(this.conversation,this.turn,{reply:i.message,annotations:i.annotations,notifications:i.notifications,references:i.references,confirmationRequest:i.confirmationRequest}),await this.endProgress())}async collectContext(t,r,n,i,s,a){let c=await new pH(this.turnContext.ctx,this.chatFetcher).collectContext(t,r,n,i,s,a);return this.turn.skills=c.skillIds.map(u=>({skillId:u})),c}async fetchConversationResponse(t,r,n,i,s,a){r.onCancellationRequested(async()=>{await this.cancelProgress()});let l="",c=0,u=new eC((p,A,x,E)=>{let v=p.trim().match(hk)!==null;if(this.conversationProgress.report(this.conversation,this.turn,{reply:p,annotations:A,references:x,hideText:v,notifications:E.map(b=>({severity:"warning",message:b.message}))}),this.turn.response?this.turn.response.message=S6(this.turn.response.message,p):this.turn.response={message:p,type:"model"},this.turn.annotations.push(...A??[]),l+=p,this.strategy.currentDocument){let b=this.strategy.extractEditsFromResponse(l,this.strategy.currentDocument);b&&b.length>0&&(l="",this.conversationProgress.report(this.conversation,this.turn,{codeEdits:b}),c+=b.length)}}),f=await ah.getModelConfiguration(this.turnContext.ctx,"user",a);t=ah.transformMessages(t,f.modelFamily);let m={modelConfiguration:f,messages:t,uiKind:this.strategy.uiKind,intentParams:{intent:!0,intent_threshold:.7,intent_content:en(this.turn.request.message)},llmInteraction:this.turnContext.toLlmInteraction()},h=await this.chatFetcher.fetchResponse(m,r,n,async(p,A)=>u.isFinishedAfter(p,A));return i=i.extendedBy(void 0,{numCodeEdits:c}),await this.postProcessor.postProcess(h,r,u.appliedText,n,i,en(this.turn.request.message),this.strategy.uiKind,s)}augmentTelemetry(t,r,n,i,s){let a;return i?(this.turn.request.type="follow-up",CEe(this.turnContext.ctx,this.conversation,this.strategy.uiKind,en(this.turn.request.message),t.tokens,i.type,i.id,s,r),a=cw(this.conversation,this.strategy.uiKind,en(this.turn.request.message).length,t.tokens,i.type,i.id,r,t.skillResolutions)):a=cw(this.conversation,this.strategy.uiKind,en(this.turn.request.message).length,t.tokens,n?.id,void 0,r,t.skillResolutions),a}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(Ace,t.error.message):await r.steps.finish(Ace)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var QH=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Oops, an error has occurred. Please try again";this.uiKind="conversationPanel";this.computeSuggestions=!0}static{o(this,"PanelTurnProcessorStrategy")}async processResponse(){return[]}async buildConversationPrompt(t,r,n,i){let s="user",a=await t.ctx.get(ti).getBestChatModelConfig(Zo(s)),l={promptType:s,modelConfiguration:a,languageId:r,userSelectedModelName:i};return await this.ctx.get(i0).toPrompt(t,l)}extractEditsFromResponse(t,r){return[]}},MH=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Please open a file and select code for the inline chat to be available";this.uiKind="conversationInline";this.computeSuggestions=!1}static{o(this,"InlineTurnProcessorStrategy")}async buildConversationPrompt(t,r,n){let i=await this.getCurrentEditorSkill(t);if(!i)return;let s=await this.getDocumentIfValid(i.uri);if(!s)return;let a=n?.producesCodeEdits===!1?"user":"inline",l=await t.ctx.get(ti).getBestChatModelConfig(Zo(a)),c={promptType:a,modelConfiguration:l,languageId:r};return c.promptType==="inline"&&(this.currentDocument=s),await this.ctx.get(i0).toPrompt(t,c)}async processResponse(t){let r=[],n=en(t.response?.message??"");if(n&&t.status==="success"&&this.currentDocument){let i=await this.processInlineResponse(n,this.currentDocument);i&&r.push(i)}return r}async getCurrentEditorSkill(t){let r=await t.skillResolver.resolve(k0);if(r)return r}async getDocumentIfValid(t){let r=await this.ctx.get(dn).getOrReadTextDocument({uri:t});if(r.status==="valid")return r.document}async processInlineResponse(t,r){let i=hce(t,r).filter(a=>mce.includes(a.mode)),s=pce(i,r);if(s)return await this.ctx.get(Wa).documentDiff({original:r.getText(),updated:s}),{uri:r.uri,text:s}}extractEditsFromResponse(t,r){return hce(t,r)}};d();var bOe=tt(require("node:timers/promises"));d();var xOe=tt(v0()),EOe=tt(Ap());var uc=class{constructor(t,r,n){this.ctx=t;this.skillId=r;this.requestType=new xOe.ProtocolRequestType("conversation/context");this.typeCheck=Ns.Compile(n)}static{o(this,"AgentSkillResolver")}async resolveSkill(t){let r=this.ctx.get(jr).connection,n={conversationId:t.conversation.id,turnId:t.turn.id,skillId:this.skillId},i;try{let s=await r.sendRequest(this.requestType,n),[a,l]=s;if(l){let c=new EOe.ResponseError(l.code,l.message,l.data);Kr.error(this.ctx,`ResponseError while resolving skill ${this.skillId}`,c);return}i=a}catch(s){Kr.error(this.ctx,`Error while resolving skill ${this.skillId}`,s);return}if(i!=null){if(!this.typeCheck.Check(i))throw new ac(this.typeCheck.Errors(i));return i}}};var yce=class{constructor(t,r,n="",i="",s=[],a=[]){this.workDoneToken=t;this.chunks=r;this.followUp=n;this.suggestedTitle=i;this.skills=s;this.references=a}static{o(this,"SyntheticTurn")}},gg=class{constructor(){this.turns=[]}static{o(this,"SyntheticTurns")}add(t,r,n="",i="",s=[],a=[]){this.turns.push(new yce(t,r,n,i,s,a))}get(t){return this.turns.find(r=>r.workDoneToken===t)}},OH=class{constructor(t){this.turnContext=t;this.conversationProgress=t.ctx.get(cs)}static{o(this,"SyntheticTurnProcessor")}async process(t,r){try{let n=this.turnContext.ctx.get(gg)?.get(t);await this.processWithSyntheticTurns(n,t,r)}catch(n){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turnContext.turn.id}`,n);let i=n.message;this.turnContext.turn.status="error",this.turnContext.turn.response={message:i,type:"meta"},await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{error:{message:i,responseIsIncomplete:!0}})}}async processWithSyntheticTurns(t,r,n){await this.conversationProgress.begin(this.turnContext.conversation,this.turnContext.turn,r),await this.resolveSyntheticSkill(t,n),await this.processSyntheticChunks(t,n),await this.endSyntheticProgress(t,n),this.turnContext.turn.response={type:"model",message:t.chunks.join("")},this.turnContext.turn.status=n.isCancellationRequested?"cancelled":"success"}async resolveSyntheticSkill(t,r){let n=this.turnContext.ctx.get(Vi).getCapabilities(this.turnContext.conversation.id),i=t.skills.filter(s=>n.skills.includes(s));for(let s of i){let l=await new uc(this.turnContext.ctx,s,I.Object({value:I.String()})).resolveSkill(this.turnContext);l&&!r.isCancellationRequested&&await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:l.value})}}async processSyntheticChunks(t,r){for(let n of t.chunks)r.isCancellationRequested||(await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:n}),await bOe.setTimeout(1))}async endSyntheticProgress(t,r){r.isCancellationRequested?await this.conversationProgress.cancel(this.turnContext.conversation,this.turnContext.turn):await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{followUp:{message:t.followUp,type:"followup",id:Tr()},suggestedTitle:t.suggestedTitle,updatedDocuments:this.turnContext.conversation.source==="inline"?[{uri:"fakeUpdatedDoc.ts",text:"fake"}]:void 0})}};var vA=class{static{o(this,"TurnProcessorFactory")}async createProcessor(t,r,n){if(t.ctx.get(gg)?.get(r)!==void 0)return new OH(t);let a=(await dg(t.ctx)).find(c=>c.slug===t.turn.agent?.agentSlug);if(a?.turnProcessor)return a.turnProcessor(t);let l;return t.conversation.source==="inline"?l=new MH(t.ctx):l=new QH(t.ctx),t.turn.chatMode==="Agent"?new NH(t):(n!==void 0&&(l.computeSuggestions=n),new LH(t,l))}};d();d();var ZBt=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),au=class{constructor(t){this.tokens=[];this.handlers=[];this._isCancelled=!1;this.onCancellationRequested=o((t,r)=>this._isCancelled?ZBt(t,r):(this.handlers.push(t.bind(r)),{dispose:o(()=>{},"dispose")}),"onCancellationRequested");this.tokens=t,this._isCancelled=t.some(r=>r.isCancellationRequested),t.forEach(r=>{r.onCancellationRequested(n=>this.cancel(n))})}static{o(this,"MergedToken")}cancel(t){this._isCancelled||(this._isCancelled=!0,this.handlers.forEach(r=>r(t)))}get isCancellationRequested(){return this.tokens.some(t=>t.isCancellationRequested)}};var fc=class{constructor(){this.tokens=new xn(250)}static{o(this,"ProgressTokens")}add(t,r){let n=new Hn.CancellationTokenSource,i=new au([r,n.token]);return this.tokens.set(t.toString(),n),i}cancel(t){let r=this.tokens.get(t.toString());r&&(r.cancel(),this.tokens.delete(t.toString()))}};var eRt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),turns:I.Array(pQe,{minItems:1}),options:I.Optional(Pn),capabilities:I.Object({allSkills:I.Optional(I.Boolean()),skills:I.Array(I.String())}),doc:I.Optional(lc),computeSuggestions:I.Optional(I.Boolean()),references:I.Optional(I.Array(w6)),source:I.Optional(Qd),workspaceFolder:I.Optional(I.String()),ignoredSkills:I.Optional(I.Array(I.String())),userLanguage:I.Optional(I.String()),model:I.Optional(I.String()),chatMode:I.Optional(vG)});async function tRt(e,t,r){let n=await pg(e,r,t);r.capabilities.allSkills&&(r.capabilities.skills=e.get(Ga).getDescriptors().map(f=>f.id));let i=r.source??"panel",s=await e.get(Vi).create(r.capabilities,i,r.userLanguage);await rRt(e,s,r);let a=s.turns[s.turns.length-1],l=e.get(fc).add(r.workDoneToken,t),c=new O6(e,s,a,l);return await(await e.get(vA).createProcessor(c,r.workDoneToken,r.computeSuggestions)).process(r.workDoneToken,l,void 0,n,r.model),[{conversationId:s.id,turnId:a.id,agentSlug:a.agent?.agentSlug,modelFamily:r.model},null]}o(tRt,"handleConversationCreateChecked");async function rRt(e,t,r){for(let n of r.turns){let i=bG(n.request),s=new B6({message:i,type:"user"});n.response&&(s.response={message:n.response,type:"model"}),n.agentSlug&&(s.agent={agentSlug:n.agentSlug}),s.chatMode=FG(r.chatMode),await e.get(Vi).addTurn(t.id,s,r.references,r.workspaceFolder,r.ignoredSkills)}}o(rRt,"addTurns");var vOe=lt(eRt,tRt);d();var nRt=I.Object({conversationId:I.String(),options:I.Optional(Pn)});async function iRt(e,t,r){return e.get(Vi).destroy(r.conversationId),["OK",null]}o(iRt,"handleConversationDestroyChecked");var IOe=to(lt(nRt,iRt));d();var oRt=I.Object({options:I.Optional(Pn)});async function sRt(e,t,r){return[{path:e.get(e0).directory},null]}o(sRt,"handleConversationPersistenceChecked");var TOe=to(lt(oRt,sRt));d();d();var SOe=tt(require("node:events"));var Cce=class{static{o(this,"TokenPreconditionCheck")}async check(t){let r=await t.get(wn).getAuthRecord(),n=t.get(Vs),i=n.fallbackAppId();return r&&r.githubAppId&&r.githubAppId!==i?{type:"token",status:"ok"}:{type:"token",status:"failed",githubAppId:n.githubAppId}}},xce=class{static{o(this,"ChatEnabledPreconditionCheck")}async check(t){return{type:"chat_enabled",status:(await t.get(qr).getToken()).envelope.chat_enabled?"ok":"failed"}}},aRt=[new Cce,new xce],wOe="onPreconditionsChanged",Ud=class{constructor(t,r=aRt){this.ctx=t;this.checks=r;this.emitter=new SOe.default;Ya(t,async()=>{await this.check()})}static{o(this,"PreconditionsCheck")}check(t){return t&&(this.result=void 0),this.result===void 0&&(this.result=this.requestChecks()),this.result}async requestChecks(){let t=[];this.checks.length>0&&(t=await Promise.all(this.checks.map(i=>i.check(this.ctx))));let r=t.every(i=>i.status==="ok")?"ok":"failed",n={results:t,status:r};return this.emit(n),n}onChange(t){this.emitter.on(wOe,t)}emit(t){this.emitter.emit(wOe,t)}};var lRt=I.Object({options:I.Optional(Pn),forceCheck:I.Optional(I.Boolean())});async function cRt(e,t,r){let n=r.forceCheck??!1;return[await e.get(Ud).check(n),null]}o(cRt,"handleConversationPreconditionsChecked");var _Oe=to(lt(lRt,cRt));d();var uRt=I.Object({turnId:I.String(),rating:I.Number(),doc:I.Optional(lc),options:I.Optional(Pn),source:I.Optional(Qd)});async function fRt(e,t,r){let n=await pg(e,r,t),i=M5(r.source),s="unrated";r.rating>0?s="positive":r.rating<0&&(s="negative");let a=await Ja(e,r.turnId,e.get(Vi).findByTurnId(r.turnId)?.id??"",{languageId:n?.detectedLanguageId??""});return Gu(e,n,{rating:s,messageId:r.turnId,conversationId:e.get(Vi).findByTurnId(r.turnId)?.id??"",uiKind:i},{},`${Qc(i)}.messageRating`,a),["OK",null]}o(fRt,"handleConversationRatingChecked");var kOe=lt(uRt,fRt);d();var dRt=I.Object({tools:I.Array(gQe)});async function mRt(e,t,r){return r.tools.forEach(n=>{e.get(og).registerTool(n.name,n.description,n.inputSchema,{type:"client"})}),["OK",null]}o(mRt,"conversationRegisterToolsChecked");var BOe=to(lt(dRt,mRt));d();var hRt=I.Object({options:I.Optional(Pn)});async function pRt(e,t,r){return[P0e(e).map(i=>({id:i.id,description:i.description,shortDescription:i.shortDescription,scopes:i.scopes})),null]}o(pRt,"handleConversationTemplatesChecked");var ROe=to(lt(hRt,pRt));d();var gRt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),conversationId:I.String(),message:Hle,followUp:I.Optional(I.Object({id:I.String(),type:I.String()})),options:I.Optional(Pn),doc:I.Optional(lc),computeSuggestions:I.Optional(I.Boolean()),references:I.Optional(I.Array(w6)),workspaceFolder:I.Optional(I.String()),ignoredSkills:I.Optional(I.Array(I.String())),confirmationResponse:jPe,model:I.Optional(I.String()),chatMode:I.Optional(vG)});async function ARt(e,t,r){let n=await pg(e,r,t),i=e.get(Vi),s=i.get(r.conversationId),a=bG(r.message),l=new B6({message:a,type:"user"});l.chatMode=FG(r.chatMode),l=await i.addTurn(s.id,l,r.references,r.workspaceFolder,r.ignoredSkills,r.confirmationResponse);let c=e.get(fc).add(r.workDoneToken,t),u=new O6(e,s,l,c);return await(await e.get(vA).createProcessor(u,r.workDoneToken,r.computeSuggestions)).process(r.workDoneToken,c,r.followUp,n,r.model),[{conversationId:s.id,turnId:l.id,agentSlug:l.agent?.agentSlug,modelFamily:r.model},null]}o(ARt,"handleConversationTurnChecked");var DOe=lt(gRt,ARt);d();var yRt=I.Object({conversationId:I.String(),turnId:I.String(),options:I.Optional(Pn),source:I.Optional(Qd)});async function CRt(e,t,r){e.get(Vi).deleteTurn(r.conversationId,r.turnId);let i=M5(r.source),s=await Ja(e,r.turnId,e.get(Vi).findByTurnId(r.turnId)?.id??"",{languageId:""});return Gu(e,void 0,{messageId:r.turnId,uiKind:i,conversationId:r.conversationId},{},`${Qc(i)}.messageDelete`,s),["OK",null]}o(CRt,"handleConversationTurnDeleteChecked");var POe=to(lt(yRt,CRt));d();var xRt=I.Object({document:I.Object({uri:I.String(),text:I.String(),languageId:I.String(),version:I.Number()}),selection:I.Object({start:I.Object({line:I.Number(),character:I.Number()}),end:I.Object({line:I.Number(),character:I.Number()})}),options:I.Optional(Pn)});function ERt(){return["You are a world-class software engineer and the author and maintainer of the discussed code. Your feedback prefectly combines detailed feedback and explanation of context.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","Use Markdown formatting in your answers.","Make sure to include the programming language name at the start of the Markdown code blocks.","Avoid wrapping the whole response in triple backticks.","The user works in an IDE called Visual Studio Code which has a concept for editors with open files, integrated unit test support, an output pane that shows the output of running the code as well as an integrated terminal.","The active document is the source code the user is looking at right now.","You can only give one reply for each conversation turn.","","Additional Rules","Think step by step:","1. Examine the provided code and any other context like user question, related errors, project details, class definitions, etc.","2. Provide feedback on the current selection on where it can be improved or introduces a problem.","2a. Avoid commenting on correct code.","2b. Avoid commenting on commented out code.","2c. Keep scoping rules in mind.","3. Reply with an enumerated list of feedback with source line number, filepath, kind (bug, performance, consistency, documentation, naming, readability, style, other), severity (low, medium, high), and feedback text.","3a. E.g.: 1. Line 357 in src/flow.js, bug, high severity: `i` is not incremented.","3b. E.g.: 2. Line 361 in src/arrays.js, documentation, low severity: Function `binarySearch` is not documented.","3c. E.g.: 3. Line 176 in src/vs/platform/actionWidget/browser/actionWidget.ts, consistency, medium severity: The color id `'background.actionBar'` is not consistent with the other color ids used. Use `'actionBar.background'` instead.","3d. E.g.: 4. Line 410 in src/search.js, documentation, medium severity: Returning `-1` when the target is not found is a common convention, but it should be documented.","3e. E.g.: 5. Line 51 in src/account.py, bug, high severity: The deposit method is not thread-safe. You should use a lock to ensure that the balance update is an atomic operation.","3f. E.g.: 6. Line 220 in src/account.py, readability, low severity: The withdraw method is very long and combines multipe logical steps, consider splitting it into multiple methods.","4. Try to sort the feedback by file and line number.",'5. When there is no feedback to provide, reply with "No feedback to provide."',"","Focus on being clear, helpful, and thorough.","Use developer-friendly terms and analogies in your explanations.","Provide clear and relevant examples when helpful."].join(`
`)}o(ERt,"buildSystemMessage");function bRt(e){let r=e.document.text.split(`
`).slice(e.selection.start.line,e.selection.end.line+1),n=e.selection.start.line+1,i=e.selection.end.line+1,s=r.map((a,l)=>{let c=e.selection.start.line+l+1;return`/* ${c>n&&c<i?"Selected ":""}Line ${c} */${a}`}).join(`
`);return["<currentChange>","Current selection with the selected lines labeled as such:","",`From the file: ${e.document.uri}`,`\`\`\`${e.document.languageId}/${e.document.uri}: FROM_LINE: ${n} - TO_LINE: ${i}`,s,"```","","</currentChange>"].join(`
`)}o(bRt,"buildUserMessage");function vRt(e,t){let r=[],n=e.text.split(`
`),i=/(\d+)\.\s*Line\s*(\d+)\s*in\s*([^,]+),\s*(\w+),\s*(\w+)\s*severity:\s*((?:[^`.\n]|`[^`]*`|\.(?=\s*[A-Z]))+)(?:\.|$)/gm,s;for(;(s=i.exec(t))!==null;){let[a,l,c,u,f,m,h]=s;if(!["bug","performance","consistency","documentation","naming","readability","style","other"].includes(f.toLowerCase()))continue;let p=parseInt(c)-1;if(p<0||p>=n.length)continue;let A=n[p],x=Math.max(A.search(/\S/),0),E=A.trimEnd().length,v={uri:e.uri,range:{start:{line:p,character:x},end:{line:p,character:E}},message:h.trim(),kind:f.toLowerCase(),severity:m.toLowerCase()};r.push(v)}return r}o(vRt,"parseReviewComments");async function IRt(e,t,r){if(!r.document.text)return[null,{code:nn.InvalidRequest,message:"Document text is required"}];if(!r.document.uri)return[null,{code:nn.InvalidRequest,message:"Document URI is required"}];if(!r.document.languageId)return[null,{code:nn.InvalidRequest,message:"Document language ID is required"}];let n=r.document.text.split(`
`);if(r.selection.start.line<0||r.selection.end.line>=n.length)return[null,{code:nn.InvalidRequest,message:"Invalid selection range"}];if(r.selection.start.line>r.selection.end.line)return[null,{code:nn.InvalidRequest,message:"Selection start line must be before end line"}];let i=e.get(Aa),s=await e.get(ti).getBestChatModelConfig([Oi.Gpt4]),a=[{role:"system",content:ERt()},{role:"user",content:bRt(r)}],l=await e.get(or).updateExPValuesAndAssignments(),c=await i.fetchResponse({modelConfiguration:s,messages:a,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:hf.user("code-review",Tr())},t,l);if(c.type!=="success")return[null,{code:nn.InternalError,message:"Failed to generate code review"}];let u=vRt(r.document,c.value);return u.sort((f,m)=>f.range.start.line-m.range.start.line),[{comments:u},null]}o(IRt,"handleCopilotCodeReviewChecked");var FOe=to(lt(xRt,IRt));d();d();var aC=class{constructor(t,r,n,i,s){this.ctx=t;this.editConversation=r;this.currentTurn=n;this.partialResultToken=i;this.userSelectedModel=s;this.workingSetUriToPathMap=new Map;for(let a of n.workingSet)this.workingSetUriToPathMap.set(a.uri,fA.uriToPath(a.uri))}static{o(this,"EditTurnContext")}get editTurnId(){return this.currentTurn.id}get editConversationId(){return this.editConversation.id}mapToUriInWorkingSet(t){for(let[r,n]of this.workingSetUriToPathMap)if(n===t)return r}toLlmInteraction(){return hf.user("conversation-edit-panel",this.editTurnId)}};d();async function UH(e,t,r,n){let s=e.get(qa).create("panel","en"),a=new Vy({message:"",type:"user"},[]),l="file:///path/to/HelloWorld.java",c=new aC(e,s,a,n,Oi.Gpt4o),u=e.get(Zl);await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.java](${l})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:l}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:l,partialText:`public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}`,languageId:"java",markdownCodeFence:"```"});let f="file:///path/to/HelloWorld.py";await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.py](${f})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:f}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`def main():
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`    println("Hello, World!")
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:f,partialText:"",languageId:"python",markdownCodeFence:"```"})}o(UH,"streamMockedResult");d();var TRt=I.Object({enableMock:I.Boolean()}),Ag=class{constructor(){this.enableMock=!1}static{o(this,"CopilotEditsMockManager")}isMockEnabled(){return this.enableMock}setMockEnabled(t){this.enableMock=t}};async function wRt(e,t,r){return e.get(Ag).setMockEnabled(r.enableMock),["OK",null]}o(wRt,"handleTestingSetCopilotEditsResponseChecked");var NOe=lt(TRt,wRt);var SRt=I.Object({request:I.String(),response:I.Optional(I.String())}),_Rt=I.Union([I.Literal("panel")]),kRt=I.Object({partialResultToken:I.Union([I.String(),I.Number()]),turns:I.Array(SRt,{minItems:1}),workingSet:I.Optional(I.Array(Y_)),source:I.Optional(_Rt),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String()),model:I.Optional(I.String())});function BRt(e,t){let r=e.create(t.source,t.userLanguage);for(let n of t.turns){let i=new Vy({message:n.request,type:"user"},t.workingSet);n.response&&(i.response={message:n.response,type:"model"}),t.workspaceFolder&&(i.workspaceFolder=t.workspaceFolder),e.addTurn(r.id,i)}return r}o(BRt,"buildEditConversation");async function RRt(e,t,r){if(e.get(Ag).isMockEnabled())return await UH(e,Tr(),Tr(),r.partialResultToken),[[],null];let n=BRt(e.get(qa),r),i=n.getLastTurn(),s=new aC(e,n,i,r.partialResultToken,r.model),a=e.get(fc).add(r.partialResultToken,t);return[await e.get(dA).createOrContinueEditConversation(s,a),null]}o(RRt,"handleEditConversationCreateChecked");var LOe=to(lt(kRt,RRt));d();var DRt=I.Object({editConversationId:I.String()});async function PRt(e,t,r){return e.get(qa).destroy(r.editConversationId),["OK",null]}o(PRt,"handleEditConversationDestroyChecked");var QOe=to(lt(DRt,PRt));d();var FRt=I.Object({partialResultToken:I.Union([I.String(),I.Number()]),editConversationId:I.String(),message:I.String(),workingSet:I.Optional(I.Array(Y_)),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String()),model:I.Optional(I.String())});function NRt(e,t,r){let n=e.get(t),i=new Vy({message:r.message,type:"user"},r.workingSet);return r.workspaceFolder&&(i.workspaceFolder=r.workspaceFolder),e.addTurn(n.id,i),n}o(NRt,"buildEditConversation");async function LRt(e,t,r){if(e.get(Ag).isMockEnabled())return await UH(e,r.editConversationId,Tr(),r.partialResultToken),[[],null];let n=e.get(qa),i=NRt(n,r.editConversationId,r),s=i.getLastTurn(),a=new aC(e,i,s,r.partialResultToken,r.model),l=e.get(fc).add(r.partialResultToken,t);return[await e.get(dA).createOrContinueEditConversation(a,l),null]}o(LRt,"handleEditConversationTurnChecked");var MOe=to(lt(FRt,LRt));d();var QRt=I.Object({editConversationId:I.String(),editTurnId:I.String(),options:I.Optional(Pn),source:I.Optional(Qd)});async function MRt(e,t,r){e.get(qa).deleteTurn(r.editConversationId,r.editTurnId);let i=await Ja(e,r.editTurnId,r.editConversationId,{languageId:""});return Gu(e,void 0,{messageId:r.editTurnId,uiKind:"editsPanel",conversationId:r.editConversationId},{},`${Qc("editsPanel")}.copilotEditsMessageDelete`,i),["OK",null]}o(MRt,"handleEditConversationTurnDeleteChecked");var OOe=to(lt(QRt,MRt));d();var ORt=I.Object({options:I.Optional(Pn)});async function URt(e,t,r){let n=await e.get(qr).getToken();return[qRt(await e.get(Pu).getMetadata(),n),null]}o(URt,"handleCopilotModelsChecked");function qRt(e,t){let r=new Map,n=[];e.forEach(a=>{if(a.model_picker_enabled===!0){let l=[];a.capabilities.type==="chat"?(l.push("chat-panel"),l.push("edit-panel"),l.push("inline"),r.set(a.capabilities.family,{modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:l,id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})):a.capabilities.type!=="completion"&&n.push({modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:l,id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})}});let i=t.getTokenValue("editor_preview_features")=="0";return Jf.filterCompletionModels(e,i).forEach(a=>{n.push({modelFamily:a.capabilities.family,modelName:a.name,modelPolicy:a.policy,scopes:["completion"],id:a.id,preview:a.preview??!1,capabilities:{supports:{vision:a.capabilities.supports?.vision??!1}}})}),[...r.values(),...n]}o(qRt,"filterModels");var UOe=to(lt(ORt,URt));d();var WRt=I.Object({model:I.Optional(I.String()),status:I.Optional(I.String())});async function GRt(e,t,r){return r.model&&r.status==="enabled"?await e.get(Pu).acceptModelPolicy(r.model)?["OK",null]:[null,{code:nn.InternalError,message:"Failed to accept model policy"}]:[null,{code:nn.InvalidRequest,message:"Invalid model or status"}]}o(GRt,"handleCopilotModelsPolicyChecked");var qOe=to(lt(WRt,GRt));d();d();var IA=10;function WOe(e){switch(e){case 2:return"open copilot";default:return"unknown"}}o(WOe,"completionTypeToString");var Ece=class{constructor(t,r,n){this.appendToCompletion="";this.indentation=null;this.completionType=2;this.position=oo.position(r.line,r.character),this.completionType=n}static{o(this,"CompletionContext")}};function qH(e,t,r){let n=r,i=t.lineAt(r.line);return i.isEmptyOrWhitespace||(n=i.range.end),new Ece(e,n,2)}o(qH,"completionContextForDocument");d();var bce=new Cr("solutions");async function*HRt(e){for await(let t of e){let r={...t};r.completionText=r.completionText.trimEnd(),yield r}}o(HRt,"trimChoices");var q6=class{constructor(t,r,n,i,s){this.textDocument=t;this.startPosition=r;this.completionContext=n;this.cancellationToken=i;this.solutionCountTarget=s}static{o(this,"SolutionManager")}get savedTelemetryData(){return this._savedTelemetryData}set savedTelemetryData(t){this._savedTelemetryData=t}};function WH(e){return e.replace(/\s+/g,"")}o(WH,"normalizeCompletionText");async function VRt(e,t){let r=t.completionContext.position,n=t.completionContext.indentation,i=t.textDocument,s=v5(e,i.uri),a=Tr(),l=rn.createAndMarkAsIssued({headerRequestId:a,languageId:i.detectedLanguageId,source:WOe(t.completionContext.completionType)},{});t.savedTelemetryData=await e.get(or).updateExPValuesAndAssignments({uri:i.uri,languageId:i.detectedLanguageId},l);let c=await GI(e,i,r,t.savedTelemetryData);if(c.type==="copilotContentExclusion")return{status:"FinishedNormally"};if(c.type==="contextTooShort")return{status:"FinishedWithError",error:"Context too short"};if(c.type==="promptCancelled")return{status:"FinishedWithError",error:"Prompt cancelled"};if(c.type==="promptTimeout")return{status:"FinishedWithError",error:"Prompt timeout"};if(c.type==="promptError")return{status:"FinishedWithError",error:"Prompt error"};let u=c.prompt,f=c.trailingWs;f.length>0&&(t.startPosition=oo.position(t.startPosition.line,t.startPosition.character-f.length));let m=t.cancellationToken;t.savedTelemetryData=t.savedTelemetryData.extendedBy({},{...xv(u),solutionCount:t.solutionCountTarget,promptEndPos:i.offsetAt(r)}),bce.debug(e,"prompt:",u),Gt(e,"solution.requested",t.savedTelemetryData);let h=e.get(Fm).forLanguage(e,i.detectedLanguageId,t.savedTelemetryData),p=Ep.isSupportedLanguageId(i.detectedLanguageId),A=Tw(i,r),x={stream:!0,extra:{language:i.detectedLanguageId,next_indent:A.next??0,prompt_tokens:u.prefixTokens??0,suffix_tokens:u.suffixTokens??0}};h==="parsing"&&!p&&(x.stop=[`

`,`\r
\r
`]);let E=b5(e,t.savedTelemetryData),v={prompt:u,languageId:i.detectedLanguageId,repoInfo:s,ourRequestId:a,engineModelId:E.modelId,count:t.solutionCountTarget,uiKind:"synthesize",postOptions:x,requestLogProbs:!0,headers:E.headers},b;switch(h){case"server":b=o(async ee=>{},"finishedCb"),x.extra.force_indent=A.prev??-1,x.extra.trim_by_indentation=!0;break;case"parsingandserver":b=p?Iw(e,i,t.startPosition,!1):async ee=>{},x.extra.force_indent=A.prev??-1,x.extra.trim_by_indentation=!0;break;case"parsing":default:b=p?Iw(e,i,t.startPosition,!1):async ee=>{};break}let S=t.savedTelemetryData,B=await e.get(Oc).fetchAndStreamCompletions(e,v,S.extendedBy(),b,m);if(B.type==="failed"||B.type==="canceled")return{status:"FinishedWithError",error:`${B.type}: ${B.reason}`};let D=B.choices;D=HRt(D),n!==null&&(D=TEe(D,n)),D=lw(D,async ee=>Yw(e,i,r,ee,!1,bce));let F=lw(D,async ee=>{let de=ee.completionText;bce.info(e,`Open Copilot completion: [${ee.completionText}]`);let X=await Ive(e,i,r,ee.completionText)??oo.position(r.line,0),[G]=ay(i.getText(oo.range(X,r)));de=G+de;let U=ee.completionText;f.length>0&&U.startsWith(f)&&(U=U.substring(f.length));let ie=ee.meanLogProb,z=ie!==void 0?Math.exp(ie):0,H=S.extendedBy({choiceIndex:ee.choiceIndex.toString()});return{completionText:U,insertText:de,range:oo.range(X,r),meanProb:z,meanLogProb:ie||0,requestId:ee.requestId,choiceIndex:ee.choiceIndex,telemetryData:H,copilotAnnotations:ee.copilotAnnotations}});return HOe(m,F[Symbol.asyncIterator]())}o(VRt,"launchSolutions");async function GOe(e,t){let r=await e;switch(r.status){case"Solution":await t.onSolution(r.solution),await GOe(r.next,t);break;case"FinishedNormally":await t.onFinishedNormally();break;case"FinishedWithError":await t.onFinishedWithError(r.error);break}}o(GOe,"reportSolutions");async function GH(e,t,r){return e.get(Mi).withProgress(async()=>{let i=VRt(e,t);return await GOe(i,r)})}o(GH,"runSolutions");async function HOe(e,t){if(e.isCancellationRequested)return{status:"FinishedWithError",error:"Cancelled"};let r=await t.next();return r.done===!0?{status:"FinishedNormally"}:{status:"Solution",solution:r.value,next:HOe(e,t)}}o(HOe,"generateSolutionsStream");var jOe=tt(j2()),gk=tt(v0());d();d();function HH(e,t){let r=e.split(`
`),n=t,i=t,s=r[t.line],a=s.indexOf("%");a!==-1&&(s=s.substring(0,a)+s.substring(a+1),n={line:t.line,character:a});let l=s.indexOf("^");if(l!==-1){let c=s.indexOf("^",l+1);if(c===-1)throw new Error("Challenge document must contain zero or two ^ characters.");s=s.substring(0,l)+s.substring(l+1,c)+s.substring(c+1),n={line:t.line,character:t.character},i={line:t.line,character:t.character+c-l-1}}return{cursorLine:s,lines:r,start:n,end:i}}o(HH,"parseChallengeDoc");var jRt=I.Object({text:I.String(),score:I.Number()}),$Rt=I.Object({documents:I.Array(jRt),options:I.Optional(I.Object({}))});async function VH(e,t,r){let n=Tr();for(let i=0;i<t.length&&i<10;i++){let{text:s,score:a}=t[i],{cursorLine:l,lines:c,start:u}=HH(s,e),f=[l.slice(Math.min(u.character,e.character))].concat(c.slice(e.line+1)).join(`
`);r.offset=c.slice(0,e.line).reduce((m,h)=>m+h.length+1,0)+u.character,await r.onSolution({requestId:{headerRequestId:n,completionId:Tr(),created:0,serverExperiments:"",deploymentId:""},completionText:f,insertText:f,range:{start:e,end:e},meanProb:a,meanLogProb:-1,choiceIndex:i,telemetryData:A1.createEmptyConfigForTesting()})}await r.onFinishedNormally()}o(VH,"runTestSolutions");var Ah=class{constructor(t){this.documents=t}static{o(this,"ExternalTestingPanelCompletionDocuments")}};async function zRt(e,t,r){return e.forceSet(Ah,new Ah(r.documents)),["OK",null]}o(zRt,"handleTestingSetPanelCompletionDocumentsChecked");var VOe=lt($Rt,zRt);var $Oe=LP.type;function YRt(e,t,r,n,i){let s=WH(n.completionText),a=(0,jOe.SHA256)(s).toString();return e.get(Wo).set(a,{displayText:n.completionText,insertText:n.insertText,offset:r,uuid:a,range:n.range,uri:t.textDocument.uri,telemetry:n.telemetryData.extendedBy({},{rank:i-1}),index:n.choiceIndex,position:t.position,resultType:0,triggerCategory:"solution",copilotAnnotations:n.copilotAnnotations}),{range:n.range,insertText:n.insertText,command:{command:qle,title:`Accept completion ${i}`,arguments:[a]}}}o(YRt,"makeCompletion");function Ice(e,t){return`${e}/${t}`}o(Ice,"progressMessage");var vce=class{constructor(t,r,n){this.ctx=t;this.params=r;this.onCompletion=n;this.offset=0;this.count=0;this.items=new Map}static{o(this,"SolutionHandler")}get service(){return this.ctx.get(jr)}async onSolution(t){this.count+=1;let r=YRt(this.ctx,this.params,this.offset,t,this.items.size+1);this.items.has(r.command.arguments[0])||(this.items.set(r.command.arguments[0],r),await this.onCompletion(r)),this.params.workDoneToken!==void 0&&await this.service.connection.sendProgress(gk.WorkDoneProgress.type,this.params.workDoneToken,{kind:"report",message:Ice(this.count,IA),percentage:Math.round(100*this.count/IA)})}onFinishedNormally(){return KRt(this.params.workDoneToken,this.service,this.count)}async onFinishedWithError(t){if(this.error=t,this.params.workDoneToken!==void 0)return this.service.connection.sendProgress(gk.WorkDoneProgress.type,this.params.workDoneToken,{kind:"end",message:`Error: ${t}`})}};async function KRt(e,t,r=0){e!==void 0&&await t.connection.sendProgress(gk.WorkDoneProgress.type,e,{kind:"end",message:Ice(r,IA)})}o(KRt,"reportDone");var pk;async function JRt(e,t,r){let n=await gh(e,r.textDocument,t),i=r.position;r.workDoneToken!==void 0&&await e.get(jr).connection.sendProgress(gk.WorkDoneProgress.type,r.workDoneToken,{kind:"begin",title:"GitHub Copilot Completions Panel",cancellable:!0,message:Ice(0,IA),percentage:0});let s=[],a=o(async f=>{s.push(f)},"onCompletion"),l=r.partialResultToken;l!==void 0&&(a=o(async f=>{await e.get(jr).connection.sendProgress(LP.partialResult,l,{items:[f]})},"onCompletion"));let c=new vce(e,r,a),u=e.get(Ah);if(u.documents){let f=u.documents;await VH(i,f,c)}else{c.offset=n.offsetAt(i);let f=qH(e,n,i),m=new q6(n,i,f,t,IA);await GH(e,m,c)}return c.error!==void 0?[null,{code:nn.InternalError,message:c.error}]:[{items:s},null]}o(JRt,"handleChecked");async function XRt(e,t,r){pk&&(pk.cancel(),pk.dispose()),pk=new Hn.CancellationTokenSource;let n=pk.token,i=new au([t,n]);try{return await JRt(e,i,r)}catch(s){if(n.isCancellationRequested&&!t.isCancellationRequested)return[null,{code:nn.ServerCancelled,message:"Request was superseded by a new request"}];throw s}}o(XRt,"handleCheckedWithAbort");var zOe=lt(E5e,XRt);d();d();d();function eDt(e){let t=e.get(Dn).getLoginReachabilityUrl(),r=e.get(Dn).getAPIUrl(),n=e.get(Dn).getLastKnownEndpointUrl("proxy","_ping"),i=e.get(Dn).getLastKnownEndpointUrl("api","_ping"),s=e.get(Dn).getLastKnownEndpointUrl("telemetry","_ping");function a(l){return new URL(l).host}return o(a,"label"),[{label:a(t),url:t},{label:a(r),url:r},{label:a(n),url:n},{label:a(i),url:i},{label:a(s),url:s}]}o(eDt,"urlsToCheck");async function YOe(e){let t=eDt(e).map(async({label:r,url:n})=>{let{message:i,status:s}=await tDt(e,n);return{label:r,url:n,message:i,status:s}});return await Promise.all(t)}o(YOe,"checkReachability");async function tDt(e,t){try{let r=await e.get(Nr).fetch(t,{}),n=r.status>=200&&r.status<400?"reachable":"unreachable";return{message:`HTTP ${r.status}`+(r.statusText?` - ${r.statusText}`:""),status:n}}catch(r){return{message:String(r),status:"unreachable"}}}o(tDt,"determineReachability");var qd=tt(require("os")),W6=tt(require("tls"));async function KOe(e){return{sections:[rDt(e),nDt(),await oDt(e),iDt(),sDt(e),await aDt(e)]}}o(KOe,"collectDiagnostics");function JOe(e){return e.sections.map(lDt).join(qd.EOL+qd.EOL)}o(JOe,"formatDiagnosticsAsMarkdown");function rDt(e){return{name:"Copilot",items:{Version:q3(e),Build:zf(e),Editor:f0(e)["Editor-Version"]}}}o(rDt,"collectCopilotSection");function nDt(){return{name:"Environment",items:{http_proxy:TA("http_proxy"),https_proxy:TA("https_proxy"),no_proxy:TA("no_proxy"),SSL_CERT_FILE:TA("SSL_CERT_FILE"),SSL_CERT_DIR:TA("SSL_CERT_DIR"),OPENSSL_CONF:TA("OPENSSL_CONF")}}}o(nDt,"collectEnvironmentSection");function iDt(){return{name:"Node setup",items:{"Number of root certificates":W6.rootCertificates.length,"Operating system":qd.type(),"Operating system version":qd.release(),"Operating system architecture":qd.arch(),NODE_OPTIONS:TA("NODE_OPTIONS"),NODE_EXTRA_CA_CERTS:TA("NODE_EXTRA_CA_CERTS"),NODE_TLS_REJECT_UNAUTHORIZED:TA("NODE_TLS_REJECT_UNAUTHORIZED"),"tls default min version":W6.DEFAULT_MIN_VERSION,"tls default max version":W6.DEFAULT_MAX_VERSION}}}o(iDt,"collectNodeSection");async function oDt(e){let t={};try{let r=await e.get(qr).getToken();t["Send Restricted Telemetry"]=r.getTokenValue("rt")==="1"?"enabled":"disabled",t.Chat=r.envelope?.chat_enabled?"enabled":void 0,t["Content exclusion"]=r.envelope?.copilotignore_enabled?"enabled":"unavailable"}catch{}return Object.keys(t).forEach(r=>t[r]===void 0&&delete t[r]),{name:"Feature Flags",items:t}}o(oDt,"collectFeatureFlagsSection");function sDt(e){let t=e.get(Nr);return{name:"Network Configuration",items:{"Proxy host":t.proxySettings?.host,"Proxy port":t.proxySettings?.port,"Kerberos SPN":t.proxySettings?.kerberosServicePrincipal,"Reject unauthorized":t.rejectUnauthorized?"enabled":"disabled",Fetcher:t.name}}}o(sDt,"collectNetworkConfigSection");async function aDt(e){return{name:"Reachability",items:Object.fromEntries((await YOe(e)).map(({label:r,status:n,message:i})=>[r,i]))}}o(aDt,"collectReachabilitySection");function TA(e){let t=Object.keys(process.env).find(r=>r.toLowerCase()===e.toLowerCase());return t?process.env[t]:void 0}o(TA,"findEnvironmentVariable");function lDt(e){return`## ${e.name}`+qd.EOL+qd.EOL+Object.keys(e.items).filter(t=>t!=="name").map(t=>`- ${t}: ${e.items[t]??"n/a"}`).join(qd.EOL)}o(lDt,"formatSectionAsMarkdown");var cDt=I.Object({});async function uDt(e){return[{report:JOe(await KOe(e))},null]}o(uDt,"handleDiagnosticsChecked");var XOe=lt(cDt,uDt);d();d();d();d();function ZOe(e,t,r){function n(s,a,l){let c=new RegExp(`^(${a})+`,"g");return s.split(`
`).map(u=>{let f=u.replace(c,""),m=u.length-f.length;return l(m)+f}).join(`
`)}o(n,"replace");let i;if(e.tabSize===void 0||typeof e.tabSize=="string"?i=4:i=e.tabSize,e.insertSpaces===!1){let s=o(a=>n(a," ",l=>"	".repeat(Math.floor(l/i))+" ".repeat(l%i)),"r");t.displayText=s(t.displayText),t.completionText=s(t.completionText)}else if(e.insertSpaces===!0){let s=o(a=>n(a,"	",l=>" ".repeat(l*i)),"r");if(t.displayText=s(t.displayText),t.completionText=s(t.completionText),r){let a=o(l=>{if(l==="")return l;let c=l.split(`
`)[0],u=c.length-c.trimStart().length,f=u%i;if(f!==0&&u>0){let m=" ".repeat(f);return n(l,m,h=>" ".repeat((Math.floor(h/i)+1)*i))}else return l},"re");t.displayText=a(t.displayText),t.completionText=a(t.completionText)}}return t}o(ZOe,"normalizeIndentCharacter");function eUe(e,t,r,n,i,s,a){let l=n.lineAt(i),c=t.map(u=>{let f=oo.range(oo.position(i.line,0),oo.position(i.line,i.character+u.suffixCoverage)),m="";if(s&&(u.completion=ZOe(s,u.completion,l.isEmptyOrWhitespace)),l.isEmptyOrWhitespace&&(u.completion.displayNeedsWsOffset||u.completion.completionText.startsWith(l.text)))m=u.completion.completionText;else{let p=oo.range(f.start,i);m=n.getText(p)+u.completion.displayText}return{uuid:Tr(),insertText:m,range:f,uri:n.uri,index:u.completion.completionIndex,telemetry:u.telemetry,displayText:u.completion.displayText,position:i,offset:n.offsetAt(i),resultType:r,copilotAnnotations:u.copilotAnnotations}});if(r===2&&a!==void 0){let u=c.find(f=>f.index===a);if(u){let f=c.filter(m=>m.index!==a);c=[u,...f]}}return c}o(eUe,"completionsFromGhostTextResults");async function Tce(e,t,r,n,i={}){i={...i,positionBeforeApplyingEdits:r};let s=0;if(i.selectedCompletionInfo?.text){let h={range:i.selectedCompletionInfo.range,newText:i.selectedCompletionInfo.text};({textDocument:t,position:r}=W5(t,h.range.end,[h])),s=r.character-h.range.end.character}let a=await bre(e,t,r,n,i);if(a.type!=="success")return a;let[l,c]=a.value;if(n?.isCancellationRequested)return{type:"canceled",reason:"after getGhostText",telemetryData:{telemetryBlob:a.telemetryBlob}};let u=K6e(e,t,r,c),f=eUe(e,l,c,t,r,i.formattingOptions,u);if(f.length===0)return{type:"empty",reason:"no completions in final result",telemetryData:a.telemetryData};let m=f.map(h=>{let{start:p,end:A}=h.range,x=Hn.Range.create(p,Hn.Position.create(A.line,A.character-s));return{...h,range:x}});return{...a,value:m}}o(Tce,"getInlineCompletionsResult");async function jH(e,t,r,n,i={}){fDt(e,t,r);let s=await Tce(e,t,r,n,i);return vve(e,s)}o(jH,"getInlineCompletions");function fDt(e,t,r){let n=t.getText({start:{line:Math.max(r.line-1,0),character:0},end:r}),i=t.getText({start:r,end:{line:Math.min(r.line+2,t.lineCount-1),character:t.lineCount-1>r.line?0:r.character}});wQ.debug(e,`Requesting for ${t.uri} at ${r.line}:${r.character}`,`between ${JSON.stringify(n)} and ${JSON.stringify(i)}.`)}o(fDt,"logCompletionLocation");var sUe=tt(v0());d();var tUe=require("crypto");var G6=class{static{o(this,"LspClientContextProvider")}constructor(t,r,n){this.id=r,this.selector=n,this.resolver=new Sce(t,this.id)}},Sce=class{constructor(t,r){this.ctx=t;this.id=r;this.contextItems=[];this.update=!1}static{o(this,"LspClientContextResolver")}async resolve(t,r){let n=[];if(this.contextItems.length>0)n=this.contextItems;else if(this.update){let i=this.ctx.get(jr),s=(0,tUe.randomUUID)(),a=i.connection.onProgress(PP.type,s,l=>{n.push(...l)});r.onCancellationRequested(()=>{a?.dispose()});try{let l=await i.connection.sendRequest(PP.type,{providerId:this.id,data:this.data,textDocument:{uri:t.documentContext.uri,languageId:t.documentContext.languageId,version:t.documentContext.version},position:t.documentContext.position,partialResultToken:s},r);n.push(...l)}finally{a?.dispose()}}return this.reset(),Promise.resolve(n)}setContextItems(t){this.contextItems=t}clearContextItems(){this.contextItems=[]}setUpdate(t){this.update=t}clearData(){this.data=void 0}reset(){this.clearContextItems(),this.clearData(),this.setUpdate(!1)}};function H6(e,t,r){try{let n=e.get(ha),i=new Map;n.providers.forEach(s=>{i.set(s.id,s)}),t.providers.forEach(s=>{let a=i.get(s.id);a&&a instanceof G6&&a.resolver.setContextItems(s.contextItems)}),t.updating&&t.updating.length>0&&t.updating.forEach(s=>{let a=i.get(s);a&&a instanceof G6&&(a.resolver.setUpdate(!0),a.resolver.data=r)})}catch(n){ni.error(e,"Failed to set context items on context providers",n)}}o(H6,"setContextItems");var wce={nocase:!0,matchBase:!0,nonegate:!0,dot:!0};async function rUe(e,t,r){return t.map(i=>{try{if(typeof i=="string")return ua(r.uri,i,wce);if(typeof i=="object"){let s=!0;return"language"in i&&(s&&=r.languageId==(i.language||"")),"scheme"in i&&(s&&=ua(r.uri,i.scheme||"",wce)),"pattern"in i&&(s&&=ua(r.uri,i.pattern||"",wce)),s}}catch{return!1}return!1}).some(Boolean)?10:0}o(rUe,"match");d();var dDt=I.Object({documents:I.Array(I.String()),basename:I.Optional(I.String()),options:I.Optional(I.Object({}))}),lC=class{constructor(t,r){this.documents=t;this.basename=r}static{o(this,"ExternalTestingCompletionDocuments")}};async function mDt(e,t,r){return e.forceSet(lC,new lC(r.documents,r.basename||"")),["OK",null]}o(mDt,"handleTestingSetCompletionDocumentsChecked");var nUe=new Cr("setCompletionDocuments"),oUe=lt(dDt,mDt);function $H(e,t,r,n){let i=e.get(lC);if(i.documents){let s=n?3:1;if(r&&i.basename&&i.basename.trim().length>0){nUe.debug(e,`Returning filtered completions by basename ${i.basename}`);let a=hDt(i,r);return a&&a.length>0?iUe(a,s,t):void 0}else return nUe.debug(e,"Returning completions for all pre-set documents"),iUe(i.documents,s,t)}}o($H,"getTestCompletions");function iUe(e,t,r){return e.slice(0,t).map(n=>{let{cursorLine:i,lines:s,start:a,end:l}=HH(n,r);return{insertText:[i.slice(Math.min(a.character,r.character))].concat(s.slice(r.line+1)).join(`
`),range:{start:a,end:l}}})}o(iUe,"sliceAndMapCompletions");function hDt(e,t){return e.basename===Fs(t)?e.documents||[]:[]}o(hDt,"getFilteredDocs");var aUe=I.Object({doc:I.Object({position:Vf,insertSpaces:I.Optional(I.Boolean()),tabSize:I.Optional(I.Number()),uri:cT,version:I.Number()}),contextItems:I.Optional(kee),options:I.Optional(Pn)}),Ak;async function lUe(e,t,r,n){Ak&&(Ak.cancel(),Ak.dispose()),Ak=new Hn.CancellationTokenSource;let i=new au([t,Ak.token]);r.contextItems&&H6(e,r.contextItems);let s=$H(e,r.doc.position,r.doc.uri,n);if(s)return[{completions:s.map(h=>({uuid:Tr(),text:h.insertText,displayText:h.insertText,position:r.doc.position,range:h.range,docVersion:r.doc.version}))},null];let a;try{a=await gh(e,r.doc,i)}catch(m){if(!(m instanceof sUe.ResponseError))throw m;switch(m.code){case nn.CopilotNotAvailable:case nn.ContentModified:return[{completions:[]},null]}throw m}let l=r.doc.position,c=await jH(e,a,l,i,{isCycling:n,formattingOptions:r.doc});if(!c)return[{completions:[]},null];let u=e.get(Wo);for(let m of c)u.set(m.uuid,{...m,triggerCategory:"ghostText"});return[{completions:c.map(m=>({uuid:m.uuid,text:m.insertText,range:m.range,displayText:m.displayText,position:m.position,docVersion:a.version}))},null]}o(lUe,"handleGetCompletionsHelper");var cUe=lt(aUe,(e,t,r)=>lUe(e,t,r,!1)),uUe=lt(aUe,(e,t,r)=>lUe(e,t,r,!0));d();var fUe=tt(j2()),V6=tt(v0());var pDt=I.Object({doc:I.Object({position:Vf,uri:cT,version:I.Number()}),panelId:I.String(),options:I.Optional(Pn)});function gDt(e,t,r,n,i){let s=WH(i.completionText),a=(0,fUe.SHA256)(s).toString();return e.get(Wo).set(a,{displayText:i.insertText,insertText:i.completionText,offset:n,uuid:a,range:r,uri:t.doc.uri,telemetry:i.telemetryData,index:i.choiceIndex,position:r.end,resultType:0,triggerCategory:"solution",copilotAnnotations:i.copilotAnnotations}),{panelId:t.panelId,range:r,completionText:i.completionText,displayText:i.insertText,score:i.meanProb,solutionId:a}}o(gDt,"makeSolution");var _ce=class{constructor(t,r,n){this.ctx=t;this.params=r;this.range=n;this.offset=0}static{o(this,"SolutionHandler")}get service(){return this.ctx.get(jr)}onSolution(t){return this.service.connection.sendNotification(new V6.NotificationType("PanelSolution"),gDt(this.ctx,this.params,this.range,this.offset,t))}onFinishedNormally(){return dUe(this.params.panelId,this.service)}onFinishedWithError(t){return this.service.connection.sendNotification(new V6.NotificationType("PanelSolutionsDone"),{status:"Error",message:t,panelId:this.params.panelId})}};async function dUe(e,t){return t.connection.sendNotification(new V6.NotificationType("PanelSolutionsDone"),{status:"OK",panelId:e})}o(dUe,"reportDone");var yk;async function ADt(e,t,r){yk&&(yk.cancel(),yk.dispose()),yk=new Hn.CancellationTokenSource;let n=new au([t,yk.token]),i=r.doc.position,s=oo.range(i,i),a=new _ce(e,r,s),l=e.get(Ah);if(l.documents){let c=l.documents;VH(i,c,a)}else{let c;try{c=await gh(e,r.doc,n)}catch(m){if(!(m instanceof V6.ResponseError))throw m;switch(m.code){case nn.CopilotNotAvailable:case nn.ContentModified:return yDt(e,r)}throw m}a.offset=c.offsetAt(i);let u=qH(e,c,i),f=new q6(c,i,u,n,IA);GH(e,f,a)}return[{solutionCountTarget:IA},null]}o(ADt,"handleGetPanelCompletionsChecked");async function yDt(e,t){return await dUe(t.panelId,e.get(jr)),[{solutionCountTarget:0},null]}o(yDt,"produceEmptySolutions");var mUe=lt(pDt,ADt);d();var CDt=I.Object({});async function xDt(e,t,r){return[{version:e.get(uo).getDisplayVersion(),buildType:zf(e),runtimeVersion:`node/${process.versions.node}`},null]}o(xDt,"handleGetVersionChecked");var hUe=lt(CDt,xDt);d();var EDt=I.Object({changes:I.Array(I.String()),userCommits:I.Array(I.String()),recentCommits:I.Array(I.String()),workspaceFolder:I.Optional(I.String()),options:I.Optional(Pn)});function bDt(){return["You are an AI programming assistant, helping a software developer to come up with the best git commit message for their code changes.","You excel in interpreting the purpose behind code changes to craft succinct, clear commit messages that adhere to the repository's guidelines.","","# First, think step-by-step:","1. Analyze the CODE CHANGES thoroughly to understand what's been modified.","2. Identify the purpose of the changes to answer the *why* for the commit messages, also considering the optionally provided RECENT USER COMMITS.","3. Review the provided RECENT REPOSITORY COMMITS to identify established commit message conventions. Focus on the format and style, ignoring commit-specific details like refs, tags, and authors.","4. Generate a thoughtful and succinct commit message for the given CODE CHANGES. It MUST follow the established writing conventions.","5. Remove any meta information like issue references, tags, or author names from the commit message. The developer will add them.","6. Now only show your message, wrapped with a single markdown ```text codeblock! Do not provide any explanations or details"].join(`
`)}o(bDt,"buildSystemMessage");function vDt(e,t){let r=[];return e.userCommits.length>0&&r.push("# RECENT USER COMMITS (For reference only, do not copy!):",e.userCommits.map(n=>`- ${n}`).join(`
`),""),e.recentCommits.length>0&&r.push("# RECENT REPOSITORY COMMITS (For reference only, do not copy!):",e.recentCommits.map(n=>`- ${n}`).join(`
`),""),r.push("# CODE CHANGES:",e.changes.join(`
`),"","<reminder>","Now generate a commit message that describes the CODE CHANGES.","DO NOT COPY commits from RECENT COMMITS, but use them as reference for the commit style.","ONLY return a single markdown code block, NO OTHER PROSE!","```text","commit message goes here","```","</reminder>"),t&&r.push("<custom-instructions>",t,"</custom-instructions>"),r.join(`
`)}o(vDt,"buildUserMessage");async function IDt(e,t,r){if(r.changes.length===0)return[null,{code:nn.InvalidRequest,message:"No changes provided"}];let n=new Aa(e),i=await e.get(ti).getBestChatModelConfig([Oi.Gpt4oMini,Oi.Gpt4o,Oi.Gpt4]),s=r.workspaceFolder?[r.workspaceFolder]:[process.cwd()],a=await Q6.getInstructions(e,s,{includeCodeGenerationInstructions:!1,includeCommitMessageGenerationInstructions:!0,customIntroduction:"When generating the commit message, please use the following custom instructions provided by the user."}),l=[{role:"system",content:bDt()},{role:"user",content:vDt(r,a)}],c=await e.get(or).updateExPValuesAndAssignments(),u=await n.fetchResponse({modelConfiguration:i,messages:l,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:hf.user("git-commit",Tr())},t,c);if(u.type!=="success")return[null,{code:nn.InternalError,message:"Failed to generate commit message"}];let f=u.value.match(/```text\n([\s\S]*?)\n```/);return[{commitMessage:f?f[1].trim():u.value.trim()},null]}o(IDt,"handleGitCommitGenerateChecked");var pUe=to(lt(EDt,IDt));d();var AUe=LK.type,Ck;function gUe(e){return{title:"Completion Accepted",command:$_,arguments:[e]}}o(gUe,"makeCommand");async function TDt(e,t,r){Ck&&(Ck.cancel(),Ck.dispose());let n=r.context.triggerKind===1;Ck=new Hn.CancellationTokenSource;let i=Ck.token,s=new au([t,i]);r.contextItems&&H6(e,r.contextItems,r.data);let a=$H(e,r.position,r.textDocument.uri,n);if(a)return[{items:a.map(p=>({command:gUe(Tr()),...p}))},null];let l=await gh(e,r.textDocument,s),c=r.position,u=await jH(e,l,c,s,{isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(!u)return t.isCancellationRequested?[null,{code:nn.RequestCancelled,message:"Request was canceled"}]:i.isCancellationRequested?[null,{code:nn.ServerCancelled,message:"Request was superseded by a new request"}]:[{items:[]},null];let f=e.get(Wo);for(let h of u)f.set(h.uuid,{...h,triggerCategory:"ghostText"});return[{items:u.map(h=>({command:gUe(h.uuid),insertText:h.insertText,range:h.range}))},null]}o(TDt,"handleChecked");var yUe=lt(PQ,(e,t,r)=>TDt(e,t,r));d();var CUe=OK.type,xk;async function SDt(e,t,r){xk&&(xk.cancel(),xk.dispose());let n=r.context.triggerKind===1;xk=new Hn.CancellationTokenSource;let i=xk.token,s=new au([t,i]);r.contextItems&&H6(e,r.contextItems);let a=await gh(e,r.textDocument,s),l=await Tce(e,a,r.position,s,{promptOnly:!0,isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(l.type!=="promptOnly")throw new Error(`Unexpected result type ${l.type}`);return[{prompt:l.prompt},null]}o(SDt,"handleChecked");var xUe=lt(PQ,(e,t,r)=>SDt(e,t,r));d();d();function kce(e){let t=e.indexOf("-----BEGIN CERTIFICATE-----")+27,r=e.indexOf("-----END CERTIFICATE-----"),n=30,i=e.substring(t,t+n)+"..."+e.substring(r-n,r-1);return j6(i)}o(kce,"asReadableCert");function j6(e){return e.replace(/\s/g,"")}o(j6,"normalizeNewlines");var kDt=I.Object({});async function BDt(e){return[{certificates:(await e.get(Ua).getAllRootCAs()).map(j6)},null]}o(BDt,"handleListCertificatesChecked");var EUe=lt(kDt,BDt);d();async function RDt(e,t,r){let n=e.get(fh);if(r.textDocument.version===void 0)throw new Error("textDocument.version is undefined");let i=r.textDocument.uri;e.get(kp).onUserPositionChange(i,new so(r.position.line,r.position.character));let s=await n.handleNextEditRequest(i,r.textDocument.version,t);return s?[{edits:s.map(l=>({text:l.edit.text,textDocument:l.edit.textDocument,range:l.edit.range,command:{title:"Accept inline edit",command:$_,arguments:[l.id]}}))},null]:[{edits:[]},null]}o(RDt,"handleChecked");var bUe=lt(C5e,RDt);d();var DDt=I.Object({uuid:I.String({minLength:1}),acceptedLength:I.Optional(I.Number({minimum:1})),options:I.Optional(Pn)});async function PDt(e,t,r){let n=e.get(Wo),i=n.get(r.uuid);if(i){n.delete(r.uuid);let s=FDt(r,i);U4(e,i.triggerCategory,i.insertText,i.offset,i.uri,i.telemetry,s,i.copilotAnnotations)}return["OK",null]}o(PDt,"notifyAcceptedChecked");function FDt(e,t){return e.acceptedLength===void 0?{compType:"full"}:e.acceptedLength<t.insertText.length?{compType:"partial",acceptedLength:e.acceptedLength}:{compType:"full"}}o(FDt,"getSuggestionStatus");var vUe=lt(DDt,PDt);d();var NDt=I.Object({uuids:I.Array(I.String()),options:I.Optional(Pn)});async function LDt(e,t,r){let n=e.get(Wo),i=r.uuids.flatMap(s=>n.get(s)??[]);if(i.length>0){let s=i[0];for(let l of r.uuids)n.delete(l);let a=i.map(l=>({completionText:l.displayText,completionTelemetryData:l.telemetry}));fO(e,"ghostText",s.offset,s.uri,a),e.get(K0).resetState()}return["OK",null]}o(LDt,"notifyRejectedChecked");var IUe=lt(NDt,LDt);d();var QDt=I.Object({uuid:I.String({minLength:1}),options:I.Optional(Pn)});async function MDt(e,t,r){let i=e.get(Wo).get(r.uuid);return i&&SQ(e,i.triggerCategory,i),["OK",null]}o(MDt,"notifyShownChecked");var TUe=lt(QDt,MDt);d();var ODt=Fve;async function UDt(e,t,r){let n=e.get(ha),i={unregistered:[],registered:[]};return r.providers.forEach(s=>{try{let a=new G6(e,s.id,s.selector);n.registerContextProvider(a),i.registered.push(s.id)}catch{i.unregistered.push(s.id)}}),[i,null]}o(UDt,"registerContextProviders");var wUe=lt(ODt,UDt);d();d();var SUe=require("net");function Bce(e){return e.HTTPS_PROXY||e.https_proxy||e.HTTP_PROXY||e.http_proxy}o(Bce,"getProxyFromEnvironment");function qDt(e){return e.NODE_TLS_REJECT_UNAUTHORIZED!=="0"}o(qDt,"getRejectUnauthorizedFromEnvironment");var _Ue=I.Object({proxy:I.Optional(I.String()),proxyStrictSSL:I.Optional(I.Boolean()),proxyAuthorization:I.Optional(I.String()),proxyKerberosServicePrincipal:I.Optional(I.String())});function kUe(e){let r={proxy:Bce(e),proxyStrictSSL:qDt(e)},n=e.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.AGENT_KERBEROS_SERVICE_PRINCIPAL;return n&&(r.proxyKerberosServicePrincipal=n),r}o(kUe,"getHttpSettingsFromEnvironment");function Ek(e){(0,SUe.isIPv6)(e)?e="https://["+e+"]":/:\/\//.test(e)||(e=`https://${e}`);let{hostname:t,port:r,username:n,password:i}=new URL(e);return{host:t,port:WDt(r),proxyAuth:GDt(n,i)}}o(Ek,"proxySettingFromUrl");function WDt(e){if(!e)return 80;let t=Number(e);if(isNaN(t))throw new TypeError("Invalid proxy port");return t}o(WDt,"parsePort");function GDt(e,t){return!e||!t?"":`${decodeURIComponent(e)}:${decodeURIComponent(t)}`}o(GDt,"getAuth");d();var Dce=I.Object({host:I.String(),port:I.Number(),username:I.Optional(I.String()),password:I.Optional(I.String()),rejectUnauthorized:I.Optional(I.Boolean())}),HDt=I.Object({uri:I.Optional(I.String())}),VDt=I.Object({showEditorCompletions:I.Optional(I.Boolean()),enableAutoCompletions:I.Optional(I.Boolean()),delayCompletions:I.Optional(I.Boolean()),filterCompletions:I.Optional(I.Boolean())}),RUe=I.Object({github:I.Optional(I.Object({copilot:I.Optional(I.Object({}))})),"github-enterprise":I.Optional(HDt),http:I.Optional(_Ue),telemetry:I.Optional(I.Object({telemetryLevel:I.Optional(I.String())}))}),Pce=Object.keys(RUe.properties).filter(e=>e!=="github"),jDt=I.Intersect([RUe,VDt]),Fce=I.Object({url:I.Optional(I.String())}),$Dt=I.Object({settings:I.Optional(I.Union([I.Object({}),I.Array(I.Unknown(),{maxItems:0})])),networkProxy:I.Optional(Dce),authProvider:I.Optional(Fce),options:I.Optional(Pn)}),BUe=Ns.Compile($Dt),Rce=Ns.Compile(jDt);async function DUe(e,t){if(!BUe.Check(t))throw new ac(BUe.Errors(t));let r=Array.isArray(t.settings)?{}:t.settings;r&&Nce(e,r),t.networkProxy!==void 0&&zH(e,t.networkProxy),t.authProvider&&e.get(Dn).updateBaseUrl(e,t.authProvider.url),await bk(e,r)}o(DUe,"notifyChangeConfiguration");function Nce(e,t){for(let i of Rce.Errors(t)){let s=i.path.split("/")?.[1];pf.warn(e,`Invalid ${i.path.slice(1).replace(/\//g,".")} setting:`,i.message),delete t[s]}if(!Rce.Check(t))throw new ac(Rce.Errors(t));let r=e.get(ff);r.setConfig(Pt.ShowEditorCompletions,t.showEditorCompletions),r.setConfig(Pt.DelayCompletions,t.delayCompletions),r.setConfig(Pt.EnableAutoCompletions,t.enableAutoCompletions),r.setConfig(Pt.FilterCompletions,t.filterCompletions);let n=t["github-enterprise"];n&&e.get(Dn).updateBaseUrl(e,n.uri),t.http&&Lce(e,t.http),t.github?.copilot&&zDt(e,t.github.copilot)}o(Nce,"applySettingsToConfiguration");function zDt(e,t){let r=e.get(ff);for(let n of Object.values(Pt)){let i=U3e(t,n);r.setConfig(n,i)}}o(zDt,"applyCopilotConfiguration");function Lce(e,t){let r=e.get(ff),n=e.get(Nr);if(t.proxy===void 0&&(t=kUe(r.env)),n.rejectUnauthorized=t?.proxyStrictSSL,!t.proxy){n.proxySettings=void 0;return}try{n.proxySettings=Ek(t.proxy),t.proxyAuthorization&&(n.proxySettings.proxyAuth=t.proxyAuthorization),t.proxyKerberosServicePrincipal&&(n.proxySettings.kerberosServicePrincipal=t.proxyKerberosServicePrincipal)}catch(i){if(!(i instanceof TypeError))throw i;pf.warn(e,"Invalid proxy URL",t.proxy,i),n.proxySettings=void 0}}o(Lce,"applyHttpConfiguration");function zH(e,t){if(!t){e.get(Nr).proxySettings=void 0,e.get(Nr).rejectUnauthorized=void 0;return}let r;t.username&&(t.password?r=t.username+":"+t.password:r=t.username),e.get(Nr).proxySettings={host:t.host,port:t.port,proxyAuth:r},e.get(Nr).rejectUnauthorized=t.rejectUnauthorized??!0}o(zH,"applyNetworkProxyConfiguration");async function bk(e,t){if(!e.get(rs).getCapabilities().redirectedTelemetry){let r=(t?.telemetry?.telemetryLevel??"all")==="all";await g5(e,"agent",r)}await e.get(qr).primeToken()}o(bk,"initializePostConfigurationDependencies");var PUe=I.Object({name:I.String(),version:I.String(),readableName:I.Optional(I.String())}),YDt=I.Object({editorInfo:PUe,editorPluginInfo:PUe,editorConfiguration:I.Optional(I.Object({})),networkProxy:I.Optional(Dce),authProvider:I.Optional(Fce),redirectTelemetry:I.Optional(I.Boolean()),options:I.Optional(I.Object({}))});async function KDt(e,t,r){e.get(an).setEditorAndPluginInfo(r.editorPluginInfo,r.editorInfo),iG(e,["setEditorInfo is deprecated. Use initializationOptions for editorInfo and editorPluginInfo","and workspace/didChangeConfiguration for editorConfiguration."]),r.editorConfiguration&&Nce(e,r.editorConfiguration);let n=e.get(Nr),i=e.get(ff).env,s=Bce(i);if(r.editorInfo.name==="VisualStudio"){if(s)n.proxySettings=Ek(s);else if(r.networkProxy){zH(e,r.networkProxy);let a=i.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.AGENT_KERBEROS_SERVICE_PRINCIPAL;n.proxySettings&&a&&(n.proxySettings.kerberosServicePrincipal??=a)}}else r.networkProxy?zH(e,r.networkProxy):s&&(n.proxySettings=Ek(s));return r.authProvider&&e.get(Dn).updateBaseUrl(e,r.authProvider.url),await bk(e,r.editorConfiguration),["OK",null]}o(KDt,"handleSetEditorInfoChecked");var FUe=lt(YDt,KDt);d();var JDt=I.Object({options:I.Optional(I.Object({}))});async function XDt(e,t,r){let n=e.get(wn).pendingSignIn?.status;if(n===void 0)return[null,{code:nn.InvalidRequest,message:"No pending sign in"}];let i;try{return i=await n,[i,null]}catch(s){return[null,{code:nn.DeviceFlowFailed,message:String(s)}]}finally{e.get(wn).pendingSignIn=void 0}}o(XDt,"handleSignInConfirmChecked");var NUe=lt(JDt,XDt);d();var ZDt=I.Object({options:I.Optional(I.Object({})),githubAppId:I.Optional(I.String())});async function ePt(e,t,r){try{let n=await e.get(wn).checkAndUpdateStatus(e,{githubAppId:r.githubAppId});if(n.status==="OK")return[{status:"AlreadySignedIn",user:n.user},null];let i=r.githubAppId??e.get(Vs).findAppIdToAuthenticate(),s=await e.get(C4).getToken(e,i),a=s.waitForAuth.then(async l=>(e.get(Vs).githubAppId=i,await e.get(wn).setAuthRecord(e,{...l,githubAppId:i}),await e.get(wn).checkAndUpdateStatus(e,{freshSignIn:!0})));return e.get(wn).pendingSignIn={verificationUri:s.verification_uri,status:a},[{status:"PromptUserDeviceFlow",userCode:s.user_code,verificationUri:s.verification_uri,expiresIn:s.expires_in,interval:s.interval,command:{command:gG,title:"Sign in with GitHub",arguments:[]}},null]}catch(n){if(!(n instanceof Us))throw n;return[null,{code:nn.DeviceFlowFailed,message:n.message}]}}o(ePt,"handleSignInInitiateChecked");var Qce=lt(ZDt,ePt);d();var tPt=I.Object({githubToken:I.String({minLength:1}),user:I.String({minLength:1}),githubAppId:I.Optional(I.String({minLength:1}))});async function rPt(e,t,r){let n=r.githubToken,i=r.user,s=r.githubAppId;return await e.get(wn).setAuthRecord(e,{user:i,oauth_token:n,githubAppId:s}),[await e.get(wn).checkAndUpdateStatus(e),null]}o(rPt,"handleSignInWithGithubTokenChecked");var LUe=lt(tPt,rPt);d();var nPt=I.Object({options:I.Optional(I.Object({}))});async function iPt(e,t,r){return await e.get(wn).deleteAuthRecord(e),[await e.get(wn).checkAndUpdateStatus(e),null]}o(iPt,"handleSignOutChecked");var QUe=lt(nPt,iPt);d();var oPt=I.Object({});async function sPt(e,t,r){return mEe(e),["OK",null]}o(sPt,"handleTelemetryAuthNotifyDismissedChecked");var MUe=lt(oPt,sPt);d();var aPt=I.Object({authSource:I.Union([I.Literal("toast"),I.Literal("goldbar"),I.Literal("menu")])});async function lPt(e,t,r){return dEe(e,r.authSource),["OK",null]}o(lPt,"handleTelemetryAuthNotifyShownChecked");var OUe=lt(aPt,lPt);d();var cPt=I.Object({authType:I.Union([I.Literal("editorAuth"),I.Literal("deviceFlow")])});async function uPt(e,t,r){return KL(e,r.authType),["OK",null]}o(uPt,"handleTelemetryGitHubLoginSuccessChecked");var UUe=lt(cPt,uPt);d();var fPt=I.Object({authSource:I.Union([I.Literal("toast"),I.Literal("goldbar"),I.Literal("menu")]),authType:I.Union([I.Literal("editorAuth"),I.Literal("deviceFlow")])});async function dPt(e,t,r){return YL(e,r.authSource,r.authType),["OK",null]}o(dPt,"handleTelemetryNewGitHubLoginChecked");var qUe=lt(fPt,dPt);d();var mPt=I.Object({transaction:I.Optional(I.String()),stacktrace:I.Optional(I.String()),properties:I.Optional(I.Record(I.String(),I.String())),platform:I.Optional(I.String()),exception_detail:I.Optional(I.Array(I.Object({type:I.Optional(I.String()),value:I.Optional(I.String()),stacktrace:I.Optional(I.Array(I.Object({filename:I.Optional(I.String()),lineno:I.Optional(I.Union([I.String(),I.Integer()])),colno:I.Optional(I.Union([I.String(),I.Integer()])),function:I.Optional(I.String()),in_app:I.Optional(I.Boolean())})))})))}),Mce=class extends Error{constructor(r,n){super(r);this.code=n;this.name="AgentEditorError"}static{o(this,"AgentEditorError")}};async function hPt(e,t,r){let n=e.get(uo),i=e.get(an).getEditorPluginInfo(),s=r.properties||{},a;r.platform&&r.exception_detail&&sg.has(i.name)&&(a=Object.assign({rollup_id:"auto",context:GK(e),sensitive_context:{},deployed_to:n.getBuildType(),platform:r.platform,exception_detail:r.exception_detail},sg.get(i.name)),r.transaction&&(a.transaction=r.transaction),n.getBuildType()!=="dev"&&(a.release=`${a.app}@${i.version}`));let l=new Mce(r.stacktrace??"N/A",i.name);return l.stack=void 0,Qo(e,l,void 0,s,a),["OK",null]}o(hPt,"handleTelemetryExceptionChecked");var WUe=lt(mPt,hPt);d();d();d();d();d();d();var GUe=tt(require("tls"));var YH=class{static{o(this,"RootCertificateConfigurator")}#e;constructor(t){this._certificateReader=t.get(Ua)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async createSecureContext(){let t=await this._certificateReader.getAllRootCAs(),n=GUe.createSecureContext({_vscodeAdditionalCaCerts:t});for(let i of t)n.context.addCACert(i);return{secureContext:n,certs:t}}async applyToRequestOptions(t){this.#e??=this.createSecureContext();let r=await this.#e;t.secureContext=r.secureContext,t.ca=r.certs,t.cert=r.certs}};var $6=class extends Nr{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=o((r,n)=>async i=>{i.rejectUnauthorized=n,i.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(i);let s=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(i,s)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new YH(r),this.proxySocketFactory=r.get(tg)}static{o(this,"HelixFetcher")}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(uo);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),mhe({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let i=n.signal,s=!1;if(n.timeout){let u=this.makeAbortController();setTimeout(()=>{u.abort(),s=!0},n.timeout),n.signal?.addEventListener("abort",()=>u.abort()),n.signal?.aborted&&u.abort(),i=u.signal}let a={...n,body:n.body?n.body:n.json,signal:i};await this.certificateConfigurator.applyToRequestOptions(a);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let c=await this.fetchApi.fetch(r,a).catch(u=>{throw s?new L7(`Request to <${r}> timed out after ${n.timeout}ms`,u):u});return new K2(c.status,c.statusText,c.headers,()=>c.text(),()=>c.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new CD}};d();d();var KH=class extends ph{constructor(r=[]){super();this._agents=r}static{o(this,"TestRemoteAgentRegistry")}async agents(){return this._agents}};d();var JH=class extends Wa{constructor(){super(...arguments);this.prompts=[];this.fetchResults=[];this.diffs=[]}static{o(this,"TestConversationInspector")}shouldInspect(){return!0}async inspectPrompt(r){this.shouldInspect()&&this.prompts.push(r)}async inspectFetchResult(r){this.shouldInspect()&&this.fetchResults.push(r)}async documentDiff(r){this.shouldInspect()&&this.diffs.push(r)}};d();var XH=class extends cs{constructor(){super(...arguments);this.openConversations=new Map;this.steps=[]}static{o(this,"TestConversationProgress")}async begin(r,n,i){this.openConversations.set(r.id,i),this.steps.push({workDoneToken:i,conversationId:r.id,turnId:n.id,type:"BEGIN",agentSlug:n.agent?.agentSlug})}async cancel(r,n,i){let s=this.getWorkDoneToken(r);this.steps.push({workDoneToken:s,conversationId:r.id,turnId:n.id,type:"CANCEL",error:i}),this.openConversations.delete(r.id)}async end(r,n,i){let s=this.getWorkDoneToken(r);this.steps.push({workDoneToken:s,conversationId:r.id,turnId:n.id,type:"END",...i}),this.openConversations.delete(r.id)}async report(r,n,i){let s=this.getWorkDoneToken(r);this.steps.push({workDoneToken:s,conversationId:r.id,turnId:n.id,type:"REPORT",...i,steps:this.copyPayloadSteps(i)})}copyPayloadSteps(r){return r.steps?.map(n=>({id:n.id,title:n.title,description:n.description,status:n.status,error:n.error}))||[]}getWorkDoneToken(r){let n=this.openConversations.get(r.id);if(n===void 0)throw new Error(`No work done token for conversation ${r.id}`);return n}};d();var Oce=class extends Ua{constructor(r){super();this.certificates=r}static{o(this,"TestCertificateReader")}async getAllRootCAs(){return this.certificates}},HUe=o(e=>new Oce(e),"createTestCertificateReader");function Wce(e,t,r){let n=new Uce;n.set("x-github-request-id","1");for(let[i,s]of Object.entries(r||{}))n.set(i,s);return new K2(e,"status text",n,()=>Promise.resolve(t??""),()=>null)}o(Wce,"createFakeResponse");function VUe(e,t,r){let n;return typeof t=="string"?n=t:n=JSON.stringify(t),Wce(e,n,Object.assign({"content-type":"application/json"},r))}o(VUe,"createFakeJsonResponse");var vk=class extends Nr{constructor(){super(...arguments);this.name="FakeFetcher"}static{o(this,"FakeFetcher")}disconnectAll(){throw new Error("Method not implemented.")}makeAbortController(){return new qce}};var ZH=class extends vk{static{o(this,"NoFetchFetcher")}fetch(t,r){throw new Error("NoFetchFetcher does not support fetching")}};var Uce=class{constructor(){this.headers=new Map}static{o(this,"FakeHeaders")}append(t,r){this.headers.set(t.toLowerCase(),r)}delete(t){this.headers.delete(t.toLowerCase())}get(t){return this.headers.get(t.toLowerCase())??null}has(t){return this.headers.has(t.toLowerCase())}set(t,r){this.headers.set(t.toLowerCase(),r)}entries(){return this.headers.entries()}keys(){return this.headers.keys()}values(){return this.headers.values()}[Symbol.iterator](){return this.headers.entries()}},qce=class{constructor(){this.signal={aborted:!1,addEventListener:o(()=>{},"addEventListener"),removeEventListener:o(()=>{},"removeEventListener")}}static{o(this,"FakeAbortController")}abort(){this.signal.aborted=!0}};d();function pPt(e){return{modelId:"gpt-3.5-turbo",modelFamily:e,uiName:"Test GPT",maxRequestTokens:6144,maxResponseTokens:2048,baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:"cl100k_base",isExperimental:!1,stream:!0,toolCalls:!0}}o(pPt,"fakeChatModelConfiguration");function gPt(e){return{modelId:"embedding-test",modelFamily:e,maxBatchSize:1,maxTokens:50,tokenizer:"cl100k_base"}}o(gPt,"fakeEmbeddingModelConfiguration");var eV=class extends ti{static{o(this,"TestModelConfigurationProvider")}async getBestChatModelConfig(t){let r=t[0];return pPt(r)}async getFirstMatchingEmbeddingModelConfiguration(t){return gPt(t)}};d();var tV=class extends Hl{constructor(){super(...arguments);this.openedUrls=[];this.opened=new mI}static{o(this,"TestUrlOpener")}async open(r){this.openedUrls.push(r),this.opened.resolve()}},rV=class extends hl{constructor(){super();this.sentMessages=[];this.warningPromises=[]}static{o(this,"TestNotificationSender")}performDismiss(){this.actionToPerform="DISMISS"}performAction(r){this.actionToPerform=r}showWarningMessage(r,...n){this.sentMessages.push(r);let i;if(this.actionToPerform)if(this.actionToPerform==="DISMISS")i=Promise.resolve(void 0);else{let s=n.find(a=>a.title===this.actionToPerform);i=s?Promise.resolve(s):Promise.resolve(void 0)}else i=n?Promise.resolve(n[0]):Promise.resolve(void 0);return this.warningPromises.push(i),i}async waitForWarningMessages(){await Promise.all(this.warningPromises)}};d();function jUe(e,t,r,n){return _1.create(P5e(e),t,r,n,t)}o(jUe,"createTextDocument");var Gce=class extends Vr{constructor(r){super(r);this._openTextDocuments=[];this._notebookDocuments=new Map;this._workspaceFolders=[];this._focusSubscribers=[];this._changeSubscribers=[];this._openSubscribers=[];this._closeSubscribers=[];this.onDidFocusTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._focusSubscribers.push(s),{dispose:o(()=>{this._focusSubscribers=this._focusSubscribers.filter(a=>a!==s)},"dispose")}},"onDidFocusTextDocument");this.onDidChangeTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._changeSubscribers.push(s),{dispose:o(()=>{this._changeSubscribers=this._changeSubscribers.filter(a=>a!==s)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._openSubscribers.push(s),{dispose:o(()=>{this._openSubscribers=this._openSubscribers.filter(a=>a!==s)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._closeSubscribers.push(s),{dispose:o(()=>{this._closeSubscribers=this._closeSubscribers.filter(a=>a!==s)},"dispose")}},"onDidCloseTextDocument")}static{o(this,"SimpleTestTextDocumentManager")}init(r){this._workspaceFolders=r}async readTextDocumentFromDisk(r){return super.readTextDocumentFromDisk(r)}getOpenTextDocuments(){return this._openTextDocuments}setTextDocument(r,n,i){let s=jUe(r,n,0,i);return this._openTextDocuments.push(s),s}updateTextDocument(r,n){let i=this._openTextDocuments.findIndex(a=>a.uri===r.toString());if(i<0)throw new Error("Document not found");let s=this._openTextDocuments[i];this._openTextDocuments[i]=jUe(r,s.clientLanguageId,s.version+1,n)}setNotebookDocument(r,n){this._notebookDocuments.set(r.uri.replace(/#.*/,""),n)}findNotebook({uri:r}){return this._notebookDocuments.get(r.replace(/#.*/,""))}getWorkspaceFolders(){return this._workspaceFolders}emitEvent(r){switch(r.eventName){case"focus":this._focusSubscribers.forEach(n=>n(r.args));break;case"change":this._changeSubscribers.forEach(n=>n(r.args));break;case"open":this._openSubscribers.forEach(n=>n(r.args));break;case"close":this._closeSubscribers.forEach(n=>n(r.args));break}}},nV=class extends Gce{constructor(r){super(r);this.contents=new Map}static{o(this,"TestTextDocumentManager")}async readTextDocumentFromDisk(r){return this.contents.get(r)}setDiskContents(r,n){this.contents.set(r,n)}};var Hce=class extends ka{static{o(this,"NullLog")}logIt(...t){}};function APt(e){let t=new tI;return t.set(gp,e),t.set(J3,e),t.set(uo,new uo),t.set(jf,new jf({debug:!1,verboseLogging:!1,testMode:!0,simulation:!1})),t.set(Ua,HUe([])),t.set(tg,jq(t)),t.set(Xh,new Xh),t.set(_m,new iF),t.set(Vu,new Vu),t.set(ap,new ap),t.set(cp,new cp),t.set(ql,new ql(t,"tid=test",!0)),t.set(Cs,new Cs),t.set(hl,new rV),t.set(Hl,new tV),t.set(up,new VI),t.set(ka,new Hce),t.set(Rc,new Rc),t.set(hs,new hs("test-session","test-machine")),t.set(Dn,new s6(t)),t.set(Bu,new Bu),g5(t,"copilot-test",!0),t.set(or,new or(t)),t.set(Hu,new Hu),t.set(Um,new Um),t.set(Fm,new Qv),t.set(qr,new cC("tid=test")),t.set(Mi,new pF),t.set(Co,new Co),t.set(yd,aO(t)),t.set(Pm,new Pm),t.set(K0,new K0),t.set(Cd,new Cd),t.set(j1,j1.default),t.set(lf,new lf),t.set(Jf,new Jf(t,!1)),t.set(Vs,new Vs),t.set(dn,new dn(t)),t.set(Wu,new JL),t.set(Na,new Na),t.set(ha,eO(t,async(r,n,i)=>n.find(s=>s==="*")?1:n.find(s=>typeof s!="string"&&s.language===i.languageId)?10:0)),yPt(t),t.set(Om,new Om(t)),t.set(rs,new rs),t}o(APt,"_createBaselineContext");function yPt(e){e.set(Vi,new Vi(e)),e.set(cs,new XH),e.set(i0,new i0(e)),e.set(Ga,new Ga),e.set(Bl,new Bl),e.set(Wa,new JH),e.set(Ud,new Ud(e,[])),e.set(ti,new eV),e.set(ph,new KH),e.set(cg,new cg(e)),e.set(tC,new tC),e.set(ea,new ea(e)),e.set(n0,new n0),e.set(mf,new mf)}o(yPt,"registerConversation");function $Ue(){let e=APt(new J3(new Mv,new Map));return e.set(Nr,new ZH),e.set(an,new Vce),e.set(Vr,new nV(e)),e.set(ko,new Sv),e.set(gl,new gl(e)),e.set(qa,new qa(e)),e.set(Zl,new Yq(e)),zW(e),e}o($Ue,"createLibTestingContext");var Vce=class extends an{constructor(r={name:"lib-tests-plugin",version:"2"},n={name:"lib-tests-editor",version:"1"},i=[{name:"lib-tests-related-plugin",version:"3"}]){super();this.editorPluginInfo=r;this.editorInfo=n;this.relatedPluginInfo=i}static{o(this,"LibTestsEditorInfo")}getEditorInfo(){return this.editorInfo}getEditorPluginInfo(){return this.editorPluginInfo}getRelatedPluginInfo(){return this.relatedPluginInfo}};var YUe=tt(require("fs"));var zUe=`${process.env.HOME}/.copilot-testing-gh-token`,iV,oV;async function KUe(e){e.forceSet(qr,new cC(await CPt()))}o(KUe,"setTestingCopilotTokenManager");var CPt=o(async()=>{if(process.env.GH_COPILOT_IDE_TOKEN)return process.env.GH_COPILOT_IDE_TOKEN;let e=process.env.GH_COPILOT_TOKEN??"";if(/=/.test(e))return e;if(oV)return oV;let t=e||process.env.GITHUB_COPILOT_TOKEN||await xPt(),r=$Ue(),n=new $6(r);return r.forceSet(Nr,n),oV=hF(r,{token:t}).then(i=>{if(i.kind==="success")return i.envelope.token;throw new Us('Could not fetch testing Copilot token. Try running "npm run get_token" again?')}),oV},"getCopilotToken");async function xPt(){try{iV??=(await YUe.promises.readFile(zUe)).toString().trim()}catch{iV??=process.env.GITHUB_TOKEN??""}if(!iV)throw new Error(`Tests: either GH_COPILOT_IDE_TOKEN, GH_COPILOT_TOKEN, or GITHUB_TOKEN must be set, or there must be a GitHub token from an app with access to Copilot in ${zUe}. Run "npm run get_token" to get one.`);return iV}o(xPt,"getTestingGitHubToken");function JUe(e){return new y1({token:`test token ${Tr()}`,refresh_in:0,expires_at:0,...e})}o(JUe,"createTestCopilotToken");var cC=class extends qr{constructor(r){super();this.token=r;this.wasReset=!1}static{o(this,"FixedCopilotTokenManager")}async getGitHubSession(){return Promise.resolve({token:`copilot-client test oauth token ${Tr()}`})}async getToken(){return JUe({token:this.token})}resetToken(){this.wasReset=!0}async checkCopilotToken(){return{status:"OK"}}};var sV=class extends wn{static{o(this,"NotAuthManager")}constructor(){super(null,null)}getAuthRecord(){return Promise.resolve(void 0)}async checkAndUpdateStatus(t,r){return{status:"NotSignedIn"}}},aV=class extends wn{static{o(this,"AlwaysAuthManager")}constructor(){super(null,new cC("tid=valid-copilot-token"))}getAuthRecord(){return Promise.resolve({user:"user",oauth_token:"",githubAppId:""})}};var EPt=I.Object({options:I.Optional(I.Object({}))});async function bPt(e,t,r){return e.forceSet(wn,new aV),e.get(qr).resetToken(),e.get(Mi).forceNormal(),await new Promise(n=>setTimeout(n,0)),["OK",null]}o(bPt,"handleTestingAlwaysAuthChecked");var XUe=lt(EPt,bPt);d();var vPt=I.Object({options:I.Optional(Pn),messages:I.Array(I.Object({role:I.Enum(wl),content:I.String(),name:I.Optional(I.String())})),modelFamily:I.Optional(I.Enum(Oi)),stop:I.Optional(I.Array(I.String())),conversationOptions:I.Optional(I.Object({maxResponseTokens:I.Optional(I.Number()),temperature:I.Optional(I.Number())}))});async function IPt(e,t,r){let n=new Aa(e),i=await e.get(ti).getBestChatModelConfig([r.modelFamily??Oi.Gpt35turbo]),s=await Ja(e,"","");return[await n.fetchResponse({modelConfiguration:i,messages:r.messages,uiKind:"conversationIntegrationTest",stop:r.stop,intentParams:{intent:!0},llmInteraction:hf.user("test",Tr())},t,s),null]}o(IPt,"handleChatMLChecked");var ZUe=to(lt(vPt,IPt));d();d();var eqe=require("crypto"),tqe=require("http"),rqe=require("stream"),nqe=require("util"),Y6=tt(Ap());var TPt=9e4,wPt=new Y6.ProtocolRequestType("copilot/fetch"),SPt=new Y6.ProtocolRequestType("copilot/fetchCancel"),_Pt=new Y6.ProgressType,kPt=new Y6.ProtocolRequestType("copilot/fetchDisconnectAll"),yg=class extends Error{static{o(this,"EditorFetcherError")}constructor(t){super(t),this.name="EditorFetcherError"}},z6=class extends Nr{constructor(r){super();this.ctx=r;this.name="EditorFetcher";this.userAgent=`GithubCopilot/${r.get(uo).getVersion()}`}static{o(this,"EditorFetcher")}disconnectAll(){return this.ctx.get(jr).connection.sendRequest(kPt,{})}makeAbortController(){return new CD}async fetch(r,n){n.headers||={},n.headers["user-agent"]=this.userAgent;let{signal:i}=n,s=this.ctx.get(jr).connection,a=(0,eqe.randomUUID)(),l=new Hn.CancellationTokenSource,c=new rqe.PassThrough,u=o(()=>{s.sendRequest(SPt,{workDoneToken:a})},"sendCancelRequest"),f=o(()=>{c.emit("error",new xb("EditorFetch request aborted")),c.end()},"destroyBodyStream");if(i){if(!(i instanceof phe))throw new yg("EditorFetcher received unexpected abort signal");if(i.aborted)throw new xb("EditorFetcher signal aborted before fetch");i.addEventListener("abort",u)}s.onProgress(_Pt,a,h=>{h.kind==="end"?(i?.removeEventListener("abort",u),i?.removeEventListener("abort",f),h.error&&c.emit("error",new yg(h.error)),c.end()):h.kind==="report"&&c.write(h.chunk)});let m=await new Promise((h,p)=>{let A=setTimeout(()=>{p(new yg("Request timed out from lsp server"))},n.timeout??TPt),x=o(()=>{p(new xb("EditorFetcher request aborted"))},"rejectIfAborted");i?.addEventListener("abort",x),s.sendRequest(wPt,RPt(r,a,n),l.token).then(h).catch(E=>{let v="EditorFetcher request failed";E&&typeof E=="object"&&"message"in E&&(v+=`: ${String(E.message)}`),E&&typeof E=="object"&&"data"in E&&(v+=`: ${(0,nqe.inspect)(E.data)}`),p(new yg(v))}).finally(()=>{i?.removeEventListener("abort",x),clearTimeout(A)})});if(!m.status)throw new yg("EditorFetcher received invalid response");return i?.addEventListener("abort",f),new K2(m.status,tqe.STATUS_CODES[m.status]??"",new hhe(m.headers),()=>BPt(c),()=>c)}};function BPt(e){return new Promise((t,r)=>{let n="";e.on("error",r),e.on("end",()=>t(n)),e.on("data",i=>n+=String(i))})}o(BPt,"consumeStream");function RPt(e,t,r){let{timeout:n,method:i}=r,s=r.headers??{},a=r.json?JSON.stringify(r.json):r.body;return r.json&&(s["content-type"]="application/json"),{url:e,headers:s,body:a,timeout:n,method:i,workDoneToken:t}}o(RPt,"convertOptionsToParams");var DPt=I.Object({url:I.String(),headers:I.Optional(I.Record(I.String(),I.String())),body:I.Optional(I.String()),timeout:I.Optional(I.Number()),method:I.Optional(I.Union([I.Literal("GET"),I.Literal("POST")])),cancelBeforeRequest:I.Optional(I.Boolean()),cancelAfterRequest:I.Optional(I.Boolean()),cancelAfterFirstChunk:I.Optional(I.Boolean())});async function PPt(e,t,r){let n=new z6(e),i=n.makeAbortController(),s=i.signal,{url:a,cancelBeforeRequest:l,cancelAfterRequest:c,cancelAfterFirstChunk:u,...f}=r;l&&i.abort();let m=n.fetch(a,{signal:s,...f});c&&i.abort();let h;try{h=await m}catch(x){return[{error:`Fetch stream error: ${x instanceof yg?x.message:String(x)}`},null]}let{status:p}=h,A=Object.fromEntries(Array.from(h.headers));try{if(u){let E=h.body();for await(let v of E){let b=v.toString();return i.abort(),[{status:p,headers:A,body:b},null]}}let x=await h.text();return[{status:p,headers:A,body:x},null]}catch(x){return[{error:`Fetch stream error: ${x instanceof yg?x.message:String(x)}`},null]}}o(PPt,"handleTestingFetchChecked");var iqe=lt(DPt,PPt);d();var FPt=I.Object({});async function NPt(e,t,r){return await e.get(Co).flush(),["OK",null]}o(NPt,"handleTestingFlushPromiseQueueChecked");var oqe=lt(FPt,NPt);d();var LPt=I.Object({filePath:I.String(),code:I.String(),offset:I.Number(),languageId:I.String(),timeout:I.Optional(I.Number()),waitForContext:I.Optional(I.Boolean())});async function QPt(e,t,r){try{let n=e.get(Rx),i=r.timeout??1e3,s=Date.now(),a=[],l=!0;for(;l;)try{a=await n.indexClient.getContext(r.filePath,r.code,r.offset,r.languageId,t)}catch{}finally{l=(r.waitForContext??!1)&&a.length==0&&Date.now()-s<i}return[{initialized:!0,context:a},null]}catch{return[{initialized:!1,context:[]},null]}}o(QPt,"handleTestingGetContextChecked");var sqe=lt(LPt,QPt);d();var MPt=I.Object({uri:I.String()});async function OPt(e,t,r){let i=await e.get(Vr).getTextDocument(r);return[{uri:r.uri,languageId:i?.clientLanguageId??"unknown",version:i?.version??-1,text:i?.getText()??""},null]}o(OPt,"handleGetDocumentChecked");var aqe=lt(MPt,OPt);d();var UPt=I.Object({});async function qPt(e,t,r){let n=e.get(Cs),i=n.getReporter(e),s=n.getRestrictedReporter(e);if(!(i instanceof m1)||!(s instanceof m1||s===void 0))return[null,{code:nn.InternalError,message:"Telemetry is not being captured. You must first call testing/setTelemetryCapture."}];let a=e.get(Co);return a instanceof dv&&await a.awaitPromises(),[{standard:{events:i.events,errors:i.errors},restricted:{events:s?.events||[],errors:s?.errors||[]}},null]}o(qPt,"handleTestingGetTelemetryChecked");var lqe=lt(UPt,qPt);d();var WPt=I.Object({options:I.Optional(I.Object({}))});async function GPt(e,t,r){e.forceSet(wn,new sV),e.get(qr).resetToken();try{await e.get(qr).getToken()}catch{}return await new Promise(n=>setTimeout(n,0)),["OK",null]}o(GPt,"handleTestingNeverAuthChecked");var cqe=lt(WPt,GPt);d();d();var jce=class extends vk{static{o(this,"ExpConfigFetcher")}constructor(t){super(),this.fullConfig={Features:[],Flights:{},Configs:[{Id:"vscode",Parameters:t.Parameters}],ParameterGroups:[],AssignmentContext:t.AssignmentContext}}fetch(t,r){return t.endsWith("telemetry")?Promise.resolve(VUe(200,this.fullConfig)):Promise.resolve(Wce(404,""))}},lV=class extends jce{constructor(r,n){super(r);this.delegate=n}static{o(this,"ExpConfigFetcherWithDelegate")}fetch(r,n){return r.endsWith("telemetry")?super.fetch(r,n):this.delegate.fetch(r,n)}makeAbortController(){return this.delegate.makeAbortController()}};var HPt=I.Object({expFlags:I.Record(I.String(),I.Union([I.String(),I.Number(),I.Boolean()]))});async function VPt(e,t,r){if(r.expFlags){let n={AssignmentContext:"assignmentcontext",Parameters:{...r.expFlags}};e.forceSet(Nr,new lV(n,e.get(Nr)))}return["OK",null]}o(VPt,"handleTestingOverrideExpFlagsChecked");var uqe=lt(HPt,VPt);d();var jPt=I.Object({rules:yee});async function $Pt(e,t,r){let n=e.get(gl);return n?(n.setTestingRules(r.rules),["OK",null]):[null,{code:nn.InternalError,message:"Could not set content exclusion rules"}]}o($Pt,"handleTestingSetContentExclusionRulesChecked");var fqe=lt(jPt,$Pt);d();var zPt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),chunks:I.Array(I.String()),followUp:I.Optional(I.String()),suggestedTitle:I.Optional(I.String()),skills:I.Optional(I.Array(I.String())),references:I.Optional(I.Array(w6)),options:I.Optional(I.Object({}))});async function YPt(e,t,r){return e.get(gg).add(r.workDoneToken,r.chunks,r.followUp,r.suggestedTitle,r.skills,r.references),["OK",null]}o(YPt,"handleTestingSetSyntheticTurnsChecked");var dqe=lt(zPt,YPt);d();var KPt=I.Object({telemetryCapture:I.Boolean()});async function JPt(e,t,r){return r.telemetryCapture?(await g5(e,"agent",!1),e.get(Cs).setReporter(new m1),e.get(Cs).setRestrictedReporter(new m1),e.forceSet(Co,new dv)):(await g5(e,"agent",!0),e.forceSet(Co,new Co)),["OK",null]}o(JPt,"handleTestingSetTelemetryCaptureChecked");var mqe=lt(KPt,JPt);d();var XPt=I.Object({});async function ZPt(e,t,r){let n=e.get(hl),i=e.get(ka);return await n.showWarningMessage("This is a test message",{title:"Some Action"}).then(a=>s(3,"response from message request",a?.title)).catch(a=>s(1,"error sending show message request",a)),["OK",null];async function s(a,l,c){return i.logIt(e,a,"triggerShowMessage",`${l} (${String(c)})`)}o(s,"sendNotification")}o(ZPt,"handleTriggerShowMessageChecked");var hqe=lt(XPt,ZPt);d();var eFt=I.Object({options:I.Optional(I.Object({})),githubAppId:I.Optional(I.String())}),$ce=class extends wn{constructor(r,n){super(void 0,r);this.githubAppId=n;this.user="user"}static{o(this,"FakeAuthManager")}getAuthRecord(){return Promise.resolve({user:this.user,oauth_token:"",githubAppId:this.githubAppId})}};async function tFt(e,t,r){return await KUe(e),e.forceSet(wn,new $ce(e.get(qr),r.githubAppId)),["OK",null]}o(tFt,"handleTestingUseTestingTokenChecked");var pqe=lt(eFt,tFt);d();var rFt=I.Object({});async function nFt(e,t,r){return await new T6().uninstall(e),["OK",null]}o(nFt,"handleUninstallChecked");var gqe=lt(rFt,nFt);d();var iFt=Nve;async function oFt(e,t,r){let n=e.get(ha),i={unregistered:[],notUnregistered:[]};return r.providers.forEach(s=>{try{n.unregisterContextProvider(s.id),i.unregistered.push(s.id)}catch{i.notUnregistered.push(s.id)}}),[i,null]}o(oFt,"unregisterContextProviders");var Aqe=lt(iFt,oFt);d();var zce=tt(require("os"));var sFt=I.Object({expectedCertificate:I.String()});async function aFt(e,t,r){let i=(await Vq(e).getAllRootCAs()).map(j6),s=j6(r.expectedCertificate);return i.includes(s)?[{status:!0,message:"Certificate verified"},null]:[{status:!1,message:`expected certificate not found - Expected to find certificate ${kce(s)}. Only found those installed on the system:${zce.EOL}${i.map(a=>"- "+kce(a)).join(zce.EOL)}`},null]}o(aFt,"handleVerifyCertificateChecked");var yqe=lt(sFt,aFt);d();var lFt=I.Object({});async function cFt(){return[{status:!!new p_().load()},null]}o(cFt,"handleVerifyKerberosChecked");var Cqe=lt(lFt,cFt);d();var uFt=I.Object({source:I.String(),version:I.Number(),uri:I.String()});async function fFt(e,t,r){let i=await e.get(Vr).getTextDocument(r);return i?i.getText()!==r.source?[{status:!1,message:`Source mismatch: [State] ${i.getText()} !== [Request] ${r.source}`},null]:i.version!==r.version?[{status:!1,message:`Version mismatch: [State] ${i.version} !== [Request] ${r.version}`},null]:[{status:!0,message:""},null]:[{status:!1,message:`Document not found: <${r.uri}>`},null]}o(fFt,"handleVerifyStateChecked");var xqe=lt(uFt,fFt);d();var dFt=I.Object({});async function mFt(e,t,r){return[e.get(Vr).getWorkspaceFolders().map(i=>{let s=new URL(i.uri),a=decodeURIComponent(s.pathname);return{...i,path:a}}),null]}o(mFt,"handleVerifyWorkspaceStateChecked");var Eqe=lt(dFt,mFt);var Gx=class{constructor(t){this.handlers=t}static{o(this,"MethodHandlers")}};function bqe(){let e=new Map;return e.set(AUe.method,yUe),e.set(CUe.method,xUe),e.set("getCompletions",cUe),e.set("getCompletionsCycling",uUe),e.set("getPanelCompletions",mUe),e.set($Oe.method,zOe),e.set("getVersion",hUe),e.set("setEditorInfo",FUe),e.set("checkStatus",fQe),e.set("checkFileStatus",uQe),e.set("signInInitiate",Qce),e.set("signIn",Qce),e.set("signInConfirm",NUe),e.set("signInWithGithubToken",LUe),e.set("signOut",QUe),e.set("notifyShown",TUe),e.set("notifyAccepted",vUe),e.set("notifyRejected",IUe),e.set("telemetry/exception",WUe),e.set("telemetry/authNotifyDismissed",MUe),e.set("telemetry/authNotifyShown",OUe),e.set("telemetry/gitHubLoginSuccess",UUe),e.set("telemetry/newGitHubLogin",qUe),e.set("textDocument/copilotInlineEdit",bUe),e.set("testing/overrideExpFlags",uqe),e.set("testing/alwaysAuth",XUe),e.set("testing/neverAuth",cqe),e.set("testing/useTestingToken",pqe),e.set("testing/setCompletionDocuments",oUe),e.set("testing/setPanelCompletionDocuments",VOe),e.set("testing/triggerShowMessageRequest",hqe),e.set("testing/getTelemetry",lqe),e.set("testing/setTelemetryCapture",mqe),e.set("testing/flushPromiseQueue",oqe),e.set("testing/getDocument",aqe),e.set("testing/chatml",ZUe),e.set("testing/setSyntheticTurns",dqe),e.set("testing/fetch",iqe),e.set("testing/setContentExclusionRules",fqe),e.set("testing/setCopilotEditsResponse",NOe),e.set("testing/getContext",sqe),e.set("uninstall",gqe),e.set("debug/diagnostics",XOe),e.set("debug/listCertificates",EUe),e.set("debug/verifyState",xqe),e.set("debug/verifyCertificate",yqe),e.set("debug/verifyKerberos",Cqe),e.set("debug/verifyWorkspaceState",Eqe),e.set("context/registerProviders",wUe),e.set("context/unregisterProviders",Aqe),e.set("conversation/preconditions",_Oe),e.set("conversation/persistence",TOe),e.set("conversation/create",vOe),e.set("conversation/turn",DOe),e.set("conversation/turnDelete",POe),e.set("conversation/destroy",IOe),e.set("conversation/rating",kOe),e.set("conversation/copyCode",AOe),e.set("conversation/insertCode",yOe),e.set("conversation/templates",ROe),e.set("conversation/agents",gOe),e.set("conversation/registerTools",BOe),e.set("copilot/models",UOe),e.set("copilot/setModelPolicy",qOe),e.set("copilot/codeReview",FOe),e.set("git/commitGenerate",pUe),e.set("editConversation/create",LOe),e.set("editConversation/turn",MOe),e.set("editConversation/turnDelete",OOe),e.set("editConversation/destroy",QOe),new Gx(e)}o(bqe,"getAllMethods");d();d();d();var vqe=tt(Ap());var Cg=class{constructor(t){this.ctx=t}static{o(this,"AbstractNotification")}get type(){return new vqe.NotificationType(this.name)}};var Yce=class extends Cg{constructor(){super(...arguments);this.name=DK.method;this.params=a5e}static{o(this,"DidChangeAuthNotificationHandler")}async handle(r){let n=this.ctx.get(wn);r?.handle&&r?.accessToken?n.setTransientAuthRecord(this.ctx,{oauth_token:r.accessToken,user:r.handle,githubAppId:r.githubAppId}):n.setTransientAuthRecord(this.ctx,null)}},Iqe=[Yce];d();var Kce=class extends Cg{constructor(){super(...arguments);this.name=QK.method;this.params=p5e}static{o(this,"DidShowCompletionNotificationHandler")}async handle(r){let n=r.item.command.arguments[0],s=this.ctx.get(Wo).get(n);s&&J6e(this.ctx,s)}},Jce=class extends Cg{constructor(){super(...arguments);this.name=UK.method;this.params=x5e}static{o(this,"DidShowInlineEditNotificationHandler")}async handle(r){let n=r.item.command.arguments[0];await this.ctx.get(fh).handleShown(n)}},Xce=class extends Cg{constructor(){super(...arguments);this.name=MK.method;this.params=g5e}static{o(this,"DidPartiallyAcceptCompletionNotificationHandler")}async handle(r){let n=r.item.command.arguments[0],i=r.acceptedLength,s=this.ctx.get(Wo),a=s.get(n);a&&(s.delete(n),i>=a.insertText.length?dO(this.ctx,a):X6e(this.ctx,a,i))}},Tqe=[Kce,Jce,Xce];d();var cV=class extends Cg{constructor(){super(...arguments);this.name="window/workDoneProgress/cancel";this.params=I.Object({token:I.Union([I.String(),I.Number()])})}static{o(this,"WorkDoneProgressCancelNotification")}handle(r){this.ctx.get(fc).cancel(r.token)}};var hFt=[...Iqe,...Tqe,cV];function wqe(e,t){for(let r of hFt){let n=new r(e),i=Ns.Compile(n.params);t.onNotification(n.type,Su(e,async s=>{gA(s),i.Check(s)?await n.handle(s):pf.error(e,`Notification ${n.name}:`,new ac(i.Errors(s)))},`Notification ${n.name}`))}}o(wqe,"registerNotifications");d();var _qe=tt(require("events")),uV=tt(v0());var Sqe=new Cr("AgentTextDocumentConfiguration"),Zce=class{constructor(t){this.ctx=t;this.emitter=new _qe.default}static{o(this,"AgentTextDocumentsConfiguration")}create(t,r,n,i){try{return _1.create(t,r,n,i)}catch(s){throw Sqe.exception(this.ctx,s,".create"),s}}update(t,r,n){try{let i=[];for(let a of r)if(uV.TextDocumentContentChangeEvent.isIncremental(a)){let l={range:a.range,rangeOffset:t.offsetAt(a.range.start),rangeLength:t.offsetAt(a.range.end)-t.offsetAt(a.range.start),text:a.text};i.push(l)}let s={document:t,contentChanges:i};return this.emitter.emit("change",s),_1.withChanges(t,r,n)}catch(i){throw Sqe.exception(this.ctx,i,".update"),i}}},uC=class extends Vr{constructor(r){super(r);this._documents=new Map;this.workspaceFolders=[];this.onDidChangeTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("change",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("change",s)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("open",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("open",s)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=o((r,n,i)=>{let s=r.bind(n);return this._textDocumentConfiguration.emitter.on("close",s),{dispose:o(()=>{this._textDocumentConfiguration.emitter.removeListener("close",s)},"dispose")}},"onDidCloseTextDocument");this.onDidFocusTextDocument=o((r,n,i)=>this.connection.onNotification(NK.type,s=>{let a=("textDocument"in s?s.textDocument:s)??{};r.call(n,"uri"in a?{document:a}:void 0)}),"onDidFocusTextDocument");this._textDocumentConfiguration=new Zce(r),this._notebookDocuments=new uV.NotebookDocuments(this._textDocumentConfiguration)}static{o(this,"AgentTextDocumentManager")}get connection(){return this.ctx.get(jr).connection}init(r){this.connection.onDidOpenTextDocument(n=>{let i=n.textDocument,s=this._textDocumentConfiguration.create(i.uri,i.languageId,i.version,i.text);this._documents.set(W0(i.uri),s),this._textDocumentConfiguration.emitter.emit("open",{document:s,contentChanges:[]})}),this.connection.onDidChangeTextDocument(n=>{let i=n.textDocument,s=n.contentChanges,{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=W0(i.uri),c=this._documents.get(l);c!==void 0&&(c=this._textDocumentConfiguration.update(c,s,a),this._documents.set(l,c))}),this.connection.onDidCloseTextDocument(n=>{let i=W0(n.textDocument.uri);this._documents.delete(i),this._textDocumentConfiguration.emitter.emit("close",{document:{uri:i}})}),this._notebookDocuments.listen(this.connection),this.workspaceFolders.length=0,this.workspaceFolders.push(...r)}didChangeWorkspaceFolders(r){r.added.forEach(n=>this.registerWorkspaceFolder(n)),r.removed.forEach(n=>this.unregisterWorkspaceFolder(n))}unregisterWorkspaceFolder(r){let n=this.workspaceFolders.findIndex(i=>i.uri===r.uri);n>=0&&this.workspaceFolders.splice(n,1)}registerWorkspaceFolder(r){this.workspaceFolders.push(r)}getOpenTextDocuments(){return[...this._documents.values()]}getOpenTextDocument(r){return this._documents.get(W0(r.uri))}getWorkspaceFolders(){return this.workspaceFolders}findNotebook(r){let n=this._notebookDocuments.findNotebookDocumentForCell(r.uri);if(n)return{getCells:o(()=>n.cells.map((i,s)=>this.wrapCell(i,s)).filter(i=>!!i),"getCells"),getCellFor:o(({uri:i})=>{let s=n.cells.findIndex(a=>a.document===i);return s!==-1?this.wrapCell(n.cells[s],s):void 0},"getCellFor")}}wrapCell(r,n){let i=this._notebookDocuments.getCellTextDocument(r);if(i)return{kind:r.kind,metadata:r.metadata??{},index:n,document:i}}};var kqe=Ns.Compile(d5e);function gA(e){if(e!==null){if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=gA(e[t]);else if(typeof e=="object"){let t=e;for(let r in t)t[r]===null?delete t[r]:t[r]=gA(t[r])}return e}}o(gA,"purgeNulls");var jr=class{constructor(t,r){this.ctx=t;this.connection=r;this.initialized=!1;this.#i=this.ctx.get(ka)}static{o(this,"Service")}#e;#t;#i;get clientCapabilities(){return this.#t}listen(){let t=this.ctx,r=this.connection;r.onRequest(this.messageHandler.bind(this)),wqe(t,r);let n={name:"GitHub Copilot Language Server",version:t.get(uo).getDisplayVersion(),nodeVersion:process.versions.node},i,s=o(async c=>{try{if(i&&c&&typeof c=="object"&&!("settings"in c)){let u=await r.workspace.getConfiguration(["github.copilot",...Pce].map(m=>({section:m}))),f={github:{copilot:u.shift()}};for(let m of Pce)f[m]=u.shift();c.settings=f}return DUe(t,gA(c))}catch(u){pf.exception(t,u,"didChangeConfiguration")}},"didChangeConfiguration");function a(c){try{t.get(uC).didChangeWorkspaceFolders(c),t.get(lf).emit(c)}catch(u){pf.exception(t,u,"didChangeWorkspaceFolders")}}o(a,"didChangeWorkspaceFolders"),this.connection.onNotification("vs/didAddWorkspaceFolder",({name:c,uri:u})=>a({added:[{uri:u,name:c??u}],removed:[]})),this.connection.onNotification("vs/didRemoveWorkspaceFolder",({name:c,uri:u})=>a({added:[],removed:[{uri:u,name:c??u}]})),r.onInitialize(async c=>{if(this.initialized)throw new Error("initialize request sent after initialized notification");this.#t=c.capabilities;let u=c.capabilities.copilot,f=gA(c.initializationOptions);if(f){if(!kqe.Check(f))throw new ac(kqe.Errors(f));let A=f,x=t.get(an);A.editorPluginInfo?x.setEditorAndPluginInfo({version:"unknown",...A.editorPluginInfo},A.editorInfo&&{version:"unknown",...A.editorInfo},A.relatedPluginInfo??[]):pf.warn(t,"editorInfo and editorPluginInfo will soon be required in initializationOptions. This will replace setEditorInfo."),A.copilotIntegrationId&&x.setCopilotIntegrationId(A.copilotIntegrationId),A.githubAppId&&(t.get(Vs).githubAppId=A.githubAppId),A.copilotCapabilities&&(u=A.copilotCapabilities)}let m=c.capabilities.workspace?.workspaceFolders??!1;m&&await this.ctx.get(ng).start(),t.get(uC).init(c.workspaceFolders??[]),c6e(this.ctx),t.get(lf).emit({added:c.workspaceFolders??[],removed:[]}),i=c.capabilities.workspace?.configuration,u&&(t.get(rs).setCapabilities(u),"openURL"in u&&iG(t,["The openURL Copilot capability has been removed in favor of window/showDocument."]));let p=o(async()=>{this.initialized||(this.initialized=!0,pf.info(t,`${n.name} ${n.version} initialized`),m&&r.workspace.onDidChangeWorkspaceFolders(a),i?await s({}):await bk(t),this.installationTelemetryTimer=setTimeout(()=>{new T6().startup(t).catch(()=>{})},1e3),t.get(AA).emit(),b6e(t))},"onInitialized");return r.onInitialized(Su(t,p,"onInitialized")),t.get(dh).init(),u?.token&&t.get(wn).setTransientAuthRecord(t,null),u?.redirectedTelemetry&&await lQe(t),Bqe.lt(process.versions.node,"20.8.0")&&pf.warn(t,`Node.js ${process.versions.node} support is deprecated. Please upgrade to Node.js 20.8 or newer.`),{capabilities:{textDocumentSync:{openClose:!0,change:yh.TextDocumentSyncKind.Incremental},notebookDocumentSync:{notebookSelector:[{notebook:"*"}]},workspace:{workspaceFolders:{supported:m,changeNotifications:m}},executeCommandProvider:{commands:rQe(t,r)},inlineCompletionProvider:{}},serverInfo:n}}),r.onShutdown(async()=>{await(this.#e??=this.deactivate())}),r.onExit(()=>void this.onExit()),r.onDidChangeConfiguration(Su(t,s,"onDidChangeConfiguration")),r.listen();let l=new yG;this.ctx.forceSet(ka,l)}async messageHandler(t,r,n){let i=this.ctx.get(Gx).handlers.get(t);if(!i)return new yh.ResponseError(nn.MethodNotFound,`Method not found: ${t}`);if(!this.initialized)return new yh.ResponseError(nn.ServerNotInitialized,"Agent service not initialized.");if(this.#e)return new yh.ResponseError(nn.InvalidRequest,"Agent service shut down.");if(t!=="setEditorInfo"&&!iQe(this.ctx.get(an)))throw new yh.ResponseError(nn.ServerNotInitialized,"editorInfo and editorPluginInfo not set in initializationOptions");Array.isArray(r)&&(r=r[0]),gA(r);try{let[s,a]=await i(this.ctx,n,r);return a?new yh.ResponseError(a.code,a.message,a.data):s}catch(s){if(n.isCancellationRequested)return new yh.ResponseError(nn.RequestCancelled,"Request was canceled");if(s instanceof Us)return new yh.ResponseError(nn.NoCopilotToken,`Not authenticated: ${s.message}`);throw s instanceof yh.ResponseError||pf.exception(this.ctx,s,`Request ${t}`),s}}async onExit(){this.ctx.forceSet(ka,this.#i),await(this.#e??=this.deactivate())}async deactivate(){let t=this.ctx;clearTimeout(this.installationTelemetryTimer),Sre(t),await Promise.race([new Promise(r=>setTimeout(r,100)),t.get(Co).flush()]),await Promise.race([new Promise(r=>setTimeout(r,1800)),t.get(Cs).deactivate()])}dispose(){clearTimeout(this.installationTelemetryTimer),this.connection.dispose()}},pf=new Cr("lsp");var fV=class e extends M4{constructor(r){super(r);this.reportedUnknownProviders=new Set}static{o(this,"AgentRelatedFilesProvider")}get service(){return this.context.get(jr)}static mapProviderNameToNeighboringFileType(r){let n="CSharpCopilotCompletionContextProvider",i="CSharpRoslynCompletionRelatedContextProvider",s="CppCopilotCompletionContextProvider",a="CppCopilotCompletionSemanticCodeContextProvider";switch(r){case n:return"related/csharp";case i:return"related/csharproslyn";case s:return"related/cpp";case a:return"related/cppsemanticcodecontext";default:return"related/other"}}convert(r){let n={entries:[],traits:r.traits};for(let i of r.entries){let s={type:e.mapProviderNameToNeighboringFileType(i.providerName),uris:i.uris};n.entries.push(s),s.type==="related/other"&&!this.reportedUnknownProviders.has(i.providerName)&&(this.reportedUnknownProviders.add(i.providerName),Xa.warn(this.context,`unknown providerName ${i.providerName}`))}return n}async getRelatedFilesResponse(r,n,i){Xa.debug(this.context,`Fetching related files for ${r.uri}`);let s=this.context.get(rs).getCapabilities().related??!1;if(await e.relatedCapabilityTelemetry(this.context,n,s),!s)return Xa.debug(this.context,"`copilot/related` not supported"),f6e;try{let a=await this.service.connection.sendRequest(qK.type,{textDocument:{uri:r.uri},data:r.data,telemetry:{properties:n.properties,measurements:n.measurements}},i);return this.convert(a)}catch(a){return Xa.exception(this.context,a,".copilotRelated"),null}}static{this.telemetrySent=!1}static async relatedCapabilityTelemetry(r,n,i){try{if(!i||e.telemetrySent)return;e.telemetrySent=!0,Gt(r,"copilotRelated.hasRelatedCapability",n)}catch(s){Xa.exception(r,s,"copilotRelated")}}};d();var Dqe=tt(v0());var Rqe=new Cr("copilotTokenManager"),eue=class e extends Tv{static{o(this,"AgentClientCopilotTokenManager")}static{this.RequestType=new Dqe.ProtocolRequestType("copilot/token")}constructor(t){super(t)}async fetchCopilotTokenEnvelope(){let t=this.ctx.get(jr).connection;try{this.didChangeToken??=t.onNotification("copilot/didChangeToken",()=>{this.resetToken()});let r=await t.sendRequest(e.RequestType,{force:!1});if(!r?.envelope)throw Rqe.debug(this.ctx,"Envelope missing from copilot/token response"),new Yf({reason:"NotSignedIn",message:"Editor did not return a token"});let{accessToken:n,handle:i,githubAppId:s,envelope:a,tokenEndpoint:l}=r;Rqe.debug(this.ctx,"Retrieved envelope from copilot/token");let c=new y1(a);if(c.isExpired())throw new Us("Expired token in copilot/token response");if(i&&n)this.ctx.get(wn).setTransientAuthRecord(this.ctx,{user:i,oauth_token:n,githubAppId:s},!1);else if(!await this.getGitHubSession())throw new Yf({reason:"NotSignedIn"});return l!==void 0&&this.ctx.get(Dn).updateBaseUrlFromTokenEndpoint(this.ctx,l),fT(this.ctx,c),a}catch(r){throw r instanceof Error?new Us(r.message,r):r}}},Ik=class extends qr{constructor(r,n=new Tv(r)){super();this.ctx=r;this.fallback=n;this.client=new eue(r)}static{o(this,"AgentCopilotTokenManager")}canGetToken(){return this.ctx.get(rs).getCapabilities().token??!1}getDelegate(){return this.canGetToken()?this.client:this.fallback}resetToken(r){this.getDelegate().resetToken(r)}async getToken(){return this.getDelegate().getToken()}async getGitHubSession(){return this.fallback.getGitHubSession()}};d();var pFt=new Cr("Public Code References"),dV=class extends Wu{static{o(this,"CLSCitationManager")}async handleIPCodeCitation(t,r){let n=r.location?.start.line!==void 0?r.location.start.line+1:"-",i=r.location?.start.character!==void 0?r.location.start.character+1:"-",s=(r.matchingText??"").replace(/[\r\n]/g," ");pFt.info(t,`Text found matching public code in ${r.inDocumentUri} [Ln ${n}, Col ${i}] near ${s}...:`+r.details.map((a,l)=>`
  ${l+1}) [${a.license}] ${a.url}`).join("")),!(r.version===void 0||r.location===void 0)&&t.get(rs).getCapabilities().ipCodeCitation===!0&&await t.get(jr).connection.sendNotification(PK.type,{uri:r.inDocumentUri,version:r.version,range:r.location,matchingText:r.matchingText??"",citations:r.details})}};d();d();function Pqe(e){gFt(e)}o(Pqe,"activateExtensibilityPlatformFeature");function gFt(e){e.set(ph,new RH(e)),e.set(cg,new cg(e))}o(gFt,"registerContextDependencies");d();var Fqe=I.String(),tue=class{constructor(t){this.turnContext=t}static{o(this,"BuildLogsSkillProcessor")}value(){return .9}async processSkill(t){return this.turnContext.collectLabel(hV,"build logs"),`The contents of the application build logs:
\`\`\`
${t}
\`\`\``}},hV="build-logs",mV=class extends _l{static{o(this,"BuildLogsSkill")}constructor(t){super(hV,"The application build logs, which can be used to fix build or compilation errors.","Reading build logs",()=>t,r=>new tue(r))}};d();var Nqe=I.Object({files:I.Array(lc)}),AFt=3,rue=class{constructor(t){this.turnContext=t}static{o(this,"RecentFilesSkillProcessor")}value(){return .7}async processSkill(t){let r=await this.getDocuments(t);if(r.length>0){let n=this.toElidableDocs(r),i=nC(n,"inversePositional");return await this.preElideDocuments(i)}}async getDocuments(t){let r=this.sortFiles(t.files);r=this.filterIncludedDocs(r);let n=this.turnContext.ctx.get(dn),i=[];for(let s of r){let a=await n.getOrReadTextDocument(s),l=ns(a);if(await this.turnContext.collectFile(gV,s.uri,l),a.status==="valid"&&l!=="empty"&&(i.push([a.document,s]),i.length===AFt))break}return i.reverse()}sortFiles(t){return t.sort((r,n)=>r.activeAt&&n.activeAt?new Date(r.activeAt).getTime()-new Date(n.activeAt).getTime():r.activeAt?-1:n.activeAt?1:0).reverse()}filterIncludedDocs(t){return t.filter(r=>!this.turnContext.isFileIncluded(r.uri))}toElidableDocs(t){return t.map(r=>{let[n,i]=r,s=this.turnContext.ctx.get(dn).getRelativePath(n),a=new ug(n,void 0,i.visibleRange);return new Xt([[`Code excerpt from file \`${s}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),.9]])})}async preElideDocuments(t){let r=(await this.turnContext.ctx.get(ti).getBestChatModelConfig(Zo("user"))).maxRequestTokens,n=t.elide(Math.floor(r*.1)).getText();return new Xt([n])}},gV="recent-files",pV=class extends _l{static{o(this,"RecentFilesSkill")}constructor(t){super(gV,"Provides code examples helpful for creating, explaining, refactoring, or fixing code. It's based on the files the user has worked on in the editor.","Resolving recent files",()=>t,r=>new rue(r))}};d();var Lqe=I.String(),nue=class{constructor(t){this.turnContext=t}static{o(this,"RuntimeLogsSkillProcessor")}value(){return .9}async processSkill(t){return this.turnContext.collectLabel(yV,"runtime logs"),`The contents of the application runtime logs:
\`\`\`
${t}
\`\`\``}},yV="runtime-logs",AV=class extends _l{static{o(this,"RuntimeLogsSkill")}constructor(t){super(yV,"The application runtime or debug logs, which are used to view output logs from the console. This is useful for debugging and troubleshooting runtime issues.","Reading runtime logs",()=>t,r=>new nue(r))}};d();var CV=tt(Ap());var xV=class extends Wa{constructor(r){super();this.ctx=r}static{o(this,"AgentConversationInspector")}shouldInspect(){return qP(this.ctx)}get connection(){if(this.shouldInspect())return this.ctx.get(jr).connection}async inspectPrompt(r){return this.connection?.sendNotification(new CV.NotificationType("conversation/inspectPrompt"),r)}async inspectFetchResult(r){return this.connection?.sendNotification(new CV.NotificationType("conversation/inspectFetchResult"),r)}async documentDiff(r){return this.connection?.sendNotification(new CV.NotificationType("conversation/documentDiff"),r)}};d();var Qqe=tt(v0());var EV=new Qqe.ProgressType,bV=class extends cs{constructor(r){super();this.ctx=r;this.workDoneTokens=new xn(250)}static{o(this,"AgentConversationProgress")}async begin(r,n,i){this.workDoneTokens.set(r.id,{status:"open",token:i}),await this.ctx.get(jr).connection.sendProgress(EV,i,{kind:"begin",title:`Conversation ${r.id} Turn ${n.id}`,conversationId:r.id,turnId:n.id,agentSlug:n.agent?.agentSlug})}async report(r,n,i){let s=this.getWorkDoneToken(r);s.status==="open"&&await this.ctx.get(jr).connection.sendProgress(EV,s.token,{kind:"report",conversationId:r.id,turnId:n.id,...i})}async end(r,n,i){let s=this.getWorkDoneToken(r);s.status==="open"&&(this.workDoneTokens.set(r.id,{status:"done",token:s.token,updatedAt:Date.now()}),await this.ctx.get(jr).connection.sendProgress(EV,s.token,{kind:"end",conversationId:r.id,turnId:n.id,...i}))}async cancel(r,n,i){let s=this.getWorkDoneToken(r);s.status==="open"&&(this.workDoneTokens.set(r.id,{status:"cancelled",token:s.token,updatedAt:Date.now()}),await this.ctx.get(jr).connection.sendProgress(EV,s.token,{kind:"end",conversationId:r.id,turnId:n.id,cancellationReason:"CancelledByUser",error:i}))}getWorkDoneToken(r){let n=this.workDoneTokens.get(r.id);if(n===void 0)throw new Error(`No work done token for conversation ${r.id}`);return n.status!=="open"&&Kr.error(this.ctx,`Work done token for conversation ${r.id} is already ${n.status}, last updated at ${n.updatedAt}`),n}};d();var Mqe=tt(v0());var Tk=class{constructor(t){this.ctx=t;this.notificationEndpoint="conversation/preconditionsNotification";t.get(Ud).onChange(r=>{this.sendNotification(r)})}static{o(this,"PreconditionsNotifier")}sendNotification(t){return this.ctx.get(jr).connection.sendNotification(new Mqe.NotificationType(this.notificationEndpoint),t)}};function Oqe(e){yFt(e),CFt(e),Pqe(e)}o(Oqe,"activateConversationFeature");function yFt(e){e.set(Vi,new Vi(e)),e.set(Bl,new Bl),e.set(i0,new i0(e)),e.set(ti,new oW(e)),e.set(gg,new gg),e.set(cs,new bV(e)),e.set(Ud,new Ud(e)),e.set(Tk,new Tk(e)),e.set(Pu,new yF(e,new AF(e))),e.set(vA,new vA),e.set(tC,new tC),e.set(Wa,new xV(e)),e.set(ea,new ea(e)),e.set(n0,new n0),e.set(mf,new mf)}o(yFt,"registerContextDependencies");function CFt(e){let t=new Ga;t.registerSkill(new OG(new MG(e))),t.registerSkill(new dH(new uc(e,hg,sOe))),t.registerSkill(new qG(new uc(e,mh,XQe))),t.registerSkill(new IG(new uc(e,k0,xQe))),t.registerSkill(new mH),t.registerSkill(new pV(new uc(e,gV,Nqe))),t.registerSkill(new TG(new uc(e,Px,bQe))),t.registerSkill(new GG(new uc(e,iC,lMe))),t.registerSkill(new AV(new uc(e,yV,Lqe))),t.registerSkill(new mV(new uc(e,hV,Fqe))),t.registerSkill(new VG(new uc(e,hh,cMe))),t.registerSkill(new jG(new uc(e,Lx,fMe))),e.set(Ga,t)}o(CFt,"registerSkills");d();var Uqe=tt(jn());var vV=class extends Zl{static{o(this,"AgentEditProgressReporter")}constructor(t){super(t)}async reportTurn(t,r){await this.ctx.get(jr).connection.sendProgress(new Uqe.ProgressType,t.partialResultToken,[{editConversationId:t.editConversationId,editTurnId:t.editTurnId,...r}])}};d();var qqe=tt(v0()),Wqe=tt(Ap());var IV=class extends qy{constructor(){super(...arguments);this.requestType=new qqe.ProtocolRequestType("conversation/invokeClientTool");this.typeCheck=Ns.Compile(KFe)}static{o(this,"AgentClientToolInvoker")}async invokeClientTool(r,n){let i=this.ctx.get(jr).connection,s;try{let a=await i.sendRequest(this.requestType,n),[l,c]=a;if(c){let u=new Wqe.ResponseError(c.code,c.message,c.data);throw Kr.error(this.ctx,`ResponseError while invoking client tool ${n.name}`,u),new Error(`Failed to invoke client tool ${n.name}: ${c.message}`)}s=l}catch(a){throw new Error(`Failed to invoke client tool ${n.name}: ${String(a)}`)}if(s==null)throw new Error(`Failed to invoke client tool ${n.name}: No result returned`);if(!this.typeCheck.Check(s))throw new ac(this.typeCheck.Errors(s));return this.transformToToolResult(s)}transformToToolResult(r){let n=r.content.map(i=>typeof i.value=="string"?new t0(i.value):new x6(i.value));return new r0(n)}};d();var Gqe=tt(Ap());var wk=class{constructor(t){this.ctx=t;this.notificationEndpoint="featureFlagsNotification";Ya(t,async r=>{let n=t.get(or),i=await n.updateExPValuesAndAssignments(),s=!1;r.envelope.chat_enabled&&(s=n.ideEnableCopilotEditsAgent(i));let a={};r.envelope.xcode_chat&&r.envelope.chat_enabled&&(a.xc=!0);let l={},c=UI(t,i);c.length>0&&(l.ExpContextProviders=c);let u=new Map;ZM(t,u,i);for(let[f,m]of u.entries())l[f]=m;await this.sendNotification({rt:r.getTokenValue("rt")==="1",sn:r.getTokenValue("sn")==="1",chat:r.envelope.chat_enabled??!1,ic:r.envelope.chat_enabled??!1,pc:!0,cea:s,ae:l,...a})})}static{o(this,"FeatureFlagsNotifier")}async sendNotification(t){await this.ctx.get(jr).connection.sendNotification(new Gqe.NotificationType(this.notificationEndpoint),t)}};d();var TV=class extends Mi{constructor(r){super();this.ctx=r;this.notificationEndpoint="statusNotification"}static{o(this,"NotificationStatusReporter")}didChange(r){let n=r.kind;r.busy&&n!=="Error"&&(n="InProgress"),this.ctx.get(jr).connection.sendNotification(WK.type,{busy:r.busy,kind:r.kind,status:n,message:r.message??""}),this.ctx.get(jr).connection.sendNotification("didChangeStatus",{busy:r.busy,kind:r.kind,message:r.message})}};d();var Hqe=new Sv;d();d();var xFt=new Cr("fetcher"),EFt="https://default.exp-tas.com/",wV=class extends Nr{constructor(r,n,i,s){super();this.ctx=r;this.defaultFetcher=n;this.fallbackFetcher=i;this.onFallbackSuccess=s}static{o(this,"FallbackFetcher")}async fetch(r,n){try{return await this.defaultFetcher.fetch(r,n)}catch(i){if(Ec(i)||`${r}/`.startsWith(EFt))throw i;xFt.info(this.ctx,`Request to <${r}> failed, attempting fallback.`,i);let s=await this.fallbackFetcher.fetch(r,n);return this.onFallbackSuccess(),s}}set proxySettings(r){this.defaultFetcher.proxySettings=r}get proxySettings(){return this.defaultFetcher.proxySettings}get name(){return this.defaultFetcher.name}async disconnectAll(){return this.defaultFetcher.disconnectAll()}makeAbortController(){return this.defaultFetcher.makeAbortController()}};var Vqe=new Cr("fetcher"),SV=class extends Nr{constructor(r,n=new $6(r),i=new z6(r)){super();this.ctx=r;this.helixFetcher=n;this.editorFetcher=i;this.currentFetcher=this.helixFetcher,this.fallbackFetcher=new wV(r,n,i,()=>{Vqe.info(this.ctx,"Fallback fetch succeeded, switching to editor fetcher."),this.currentFetcher=this.editorFetcher}),r.get(AA).once(()=>{this.updateFetcher()}),r.get(ff).onConfigChange(Pt.FetchStrategy,a=>{this.fetchStrategy=a,this.updateFetcher()}),this.fetchStrategy=qn(r,Pt.FetchStrategy)}static{o(this,"AgentDelegatingFetcher")}get editorFetcherCapability(){return this.ctx.get(rs).getCapabilities().fetch??!1}updateFetcher(){let r,n;if(!this.editorFetcherCapability)n="Using Helix fetcher, editor does not have fetch capability.",r=this.helixFetcher;else if(this.fetchStrategy==="client")n="Using editor fetcher, fetch strategy set to client.",r=this.editorFetcher;else if(this.fetchStrategy==="native")n="Using Helix fetcher, fetch strategy set to native.",r=this.helixFetcher;else{let i=qn(this.ctx,Pt.DebugUseEditorFetcher);i?.toString()==="true"?(n="Using editor fetcher, debug flag is enabled.",r=this.editorFetcher):i?.toString()==="false"?(n="Using Helix fetcher, debug flag is disabled.",r=this.helixFetcher):(n="Editor fetcher capability available, will fallback if needed.",r=this.fallbackFetcher)}this.currentFetcher!=r&&(Vqe.debug(this.ctx,n),this.currentFetcher=r)}get name(){return this.currentFetcher.name}set proxySettings(r){this.helixFetcher.proxySettings=r}get proxySettings(){return this.helixFetcher.proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.helixFetcher.rejectUnauthorized=r}get rejectUnauthorized(){return super.rejectUnauthorized}fetch(r,n){return this.currentFetcher.fetch(r,n)}disconnectAll(){return this.currentFetcher.disconnectAll()}makeAbortController(){return this.currentFetcher.makeAbortController()}};d();var _V=class extends hl{constructor(r){super();this.ctx=r}static{o(this,"ConnectionNotificationSender")}get connection(){return this.ctx.get(jr).connection}showWarningMessage(r,...n){return this.connection.window.showWarningMessage(r,...n)}};d();d();var jqe=tt(require("crypto")),$qe=require("os");var bFt=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function vFt(e){let t=e.replace(/-/g,":").toLowerCase();return!bFt.has(t)}o(vFt,"validateMacAddress");function IFt(){let e=(0,$qe.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(vFt(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(IFt,"getMac");var iue;function TFt(){try{let e=IFt();return jqe.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}o(TFt,"getMacMachineId");function zqe(){return iue||(iue=TFt()||Tr()),iue}o(zqe,"getMachineId");var wFt=Tr()+Date.now(),Yqe=new hs(wFt,zqe());d();var kV=class extends Hl{constructor(r,n=new mF){super();this.ctx=r;this.fallback=n}static{o(this,"AgentUrlOpener")}async open(r){let n=this.ctx.get(jr);if(!(n.clientCapabilities?.window?.showDocument?.support&&(await n.connection.window.showDocument({uri:r,external:!0})).success))return this.fallback.open(r)}};d();d();var BV=class extends $W{static{o(this,"AgentWorkspaceWatcher")}async getWatchedFiles(){return(await this.ctx.get(dh).getWatchedFiles({workspaceUri:this.workspaceFolder.uri,excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0})).watchedFiles}startWatching(){if(this.status==="ready")return;this.ctx.get(dh).onDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this)),this.status="ready"}stopWatching(){this.status="stopped",this.ctx.get(dh).offDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this))}onDidChangeWatchedFilesHandler(t){if(t.workspaceFolder.uri!==this.workspaceFolder.uri)return;let n=t.created.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(n.length){let a=n.map(l=>l.document).filter(l=>l!==void 0);this.onFilesCreated(a)}let i=t.changed.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(i.length){let a=i.map(l=>l.document).filter(l=>l!==void 0);this.onFilesUpdated(a)}let s=t.deleted.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);s.length&&this.onFilesDeleted(s.map(a=>({uri:a.uri})))}};var RV=class extends ic{static{o(this,"AgentWorkspaceWatcherProvider")}createWatcher(t){return new BV(this.ctx,t)}shouldStartWatching(t){return!!this.ctx.get(rs).getCapabilities().watchedFiles&&(!this.hasWatcher(t)||this.getStatus(t)==="stopped")}};function Kqe(e){let t=new ff(process.env),r=HPe(t);r.set(ff,t),r.set(AA,new AA),r.set(Nr,new SV(r)),r.set(Aa,new Aa(r)),Lce(r,{});let n=GFe();r.set(e0,n);let i=new Ik(r);r.set(qr,i),r.set(Ik,i);let s=new aw(r,n);r.set(aw,s),r.set(wn,new wn(s,i)),r.set(C4,new C4),r.set(hs,Yqe),r.set(an,new AG),r.set(Gx,bqe()),r.set(Wo,new Wo),r.set(ko,Hqe),r.set(M4,new fV(r)),r.set(ic,new RV(r)),r.set(dh,new dh(r)),r.set(Na,new Na),r.set(ha,eO(r,rUe)),zW(r),sNe(r),kve(r),r.set(jr,new jr(r,e)),r.set(hl,new _V(r)),r.set(Hl,new kV(r)),r.set(Mi,new TV(r)),r.set(wk,new wk(r));let a=new uC(r);return r.set(Vr,a),r.set(uC,a),r.set(Dn,new s6(r)),r.set(gl,new gl(r)),Oqe(r),iFe(r),r.set(fc,new fc),r.set(lC,new lC),r.set(Ah,new Ah),r.set(Wu,new dV),r.set(Ag,new Ag),r.set(kp,new NI(r)),r.set(fh,new fh(r)),r.set(dA,new dA(r)),r.set(qa,new qa(r)),r.set(Zl,new vV(r)),r.set(qy,new IV(r)),eNe(r),r}o(Kqe,"createLanguageServerContext");d();var oue=require("events"),Sk=tt(require("fs"));var PV=tt(v0());d();var Xqe=tt(require("fs")),Zqe=tt(require("http")),K6=tt(require("path"));var DV=class{constructor(t,r){this.port=t;let n;this.server=Zqe.createServer((i,s)=>{if(i.headers.accept&&i.headers.accept=="text/event-stream")switch(s.writeHead(200,{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}),i.url){case"/stdin":r.on("read",l=>{Jqe(s,JSON.stringify(l))});return;case"/stdout":r.on("write",l=>{Jqe(s,JSON.stringify(l))});return;default:s.writeHead(404),s.end();return}s.writeHead(200,{"Content-Type":"text/html"});let a=__dirname;K6.basename(__dirname)!=="debug"&&(a=K6.dirname(__dirname)),n??=Xqe.readFileSync(K6.join(a,"dist","debugServer.html")).toString(),s.write(n),s.end()}),this.server.on("error",i=>{console.error(i)})}static{o(this,"DebugServer")}listen(){return this.server.listen(this.port),this}getPort(){return this.server.address().port}};function Jqe(e,t){e.write("data: "+t.toString().replace(/\n/g,`
data: `)+`

`)}o(Jqe,"writeData");var sue=class extends PV.AbstractMessageWriter{constructor(r,n){super();this.delegate=r;this.ev=n}static{o(this,"DebugMessageWriter")}async write(r){return this.ev.emit("write",r),this.delegate.write(r)}end(){this.ev.emit("end"),this.delegate.end()}},aue=class extends PV.AbstractMessageReader{constructor(r,n){super();this.delegate=r;this.ev=n}static{o(this,"DebugMessageReader")}listen(r){return this.delegate.listen(n=>{this.ev.emit("read",n),r(n)})}};async function eWe(e,t,r){let n,i=parseInt(e.GH_COPILOT_DEBUG_UI_PORT??e.GITHUB_COPILOT_DEBUG_UI_PORT);if(!isNaN(i)){n??=new oue.EventEmitter;let l=new DV(i,n).listen();i===0&&await dF(`http://localhost:${l.getPort()}`)}let s=e.GITHUB_COPILOT_RECORD??"",a;try{let l=Date.now().toString();s==="1"||s==="true"?a=Sk.openSync(`stdio${l}.log`,"w"):s&&s!=="0"&&s!=="false"&&(a=Sk.openSync(s.replaceAll("%s",l),"w"))}catch(l){console.error(l)}if(a){let l=o(c=>{a&&Sk.appendFile(a,c,u=>{u&&(a=void 0,console.error(u))})},"log");n??=new oue.EventEmitter,n.on("read",c=>l(`<-- ${JSON.stringify(c)}
`)),n.on("write",c=>l(`--> ${JSON.stringify(c)}
`))}return n&&(t=new aue(t,n),r=new sue(r,n)),[t,r]}o(eWe,"wrapTransports");async function iWe(){let e=fEe(process.argv.slice(2)).version(new uo().getDisplayVersion()).strict().option("debug",{type:"boolean",hidden:!0}).option("clientProcessId",{type:"string",hidden:!0}).option("stdio",{type:"boolean",describe:"Use stdio"});"pkg"in process||e.option("node-ipc",{type:"boolean",describe:"Use node IPC",conflicts:"stdio"});let t=await e.parse(),r,n;t["node-ipc"]?(r=new Wd.IPCMessageReader(process),n=new Wd.IPCMessageWriter(process)):t.stdio?(r=new Wd.StreamMessageReader(process.stdin),n=new Wd.StreamMessageWriter(process.stdout)):(console.error("error: required option '--stdio' not specified"),process.exit(1)),"pkg"in process&&process.platform!=="win32"&&(process.env.TMPDIR=await tWe.mkdtemp(rWe.default.tmpdir()+"/github-copilot-"));let i=(0,Wd.createConnection)(Wd.ProposedFeatures.all,...await eWe(process.env,r,n)),s=Kqe(i);console=m4e(s);let a=s.get(jr);r.onClose(()=>a.onExit()),process.on("SIGINT",()=>{a.onExit().finally(()=>process.exit(130)).catch(()=>{})}),process.on("SIGTERM",()=>{a.onExit().finally(()=>process.exit(143)).catch(()=>{})}),a.listen()}o(iWe,"main");nWe.isMainThread?require.main===module&&iWe():f4e()&&d4e();0&&(module.exports={getTokenizer,main});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

@vscode/prompt-tsx/dist/base/util/vs/nls.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/platform.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/process.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/path.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

@vscode/prompt-tsx/dist/base/util/vs/common/uri.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

undici/lib/web/fetch/body.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

undici/lib/web/websocket/frame.js:
  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)

yargs-parser/build/lib/string-utils.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/tokenize-arg-string.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser-types.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=main.js.map
