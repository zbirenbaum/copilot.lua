"use strict";var dKe=Object.create;var Z4=Object.defineProperty;var gpe=Object.getOwnPropertyDescriptor;var mKe=Object.getOwnPropertyNames;var hKe=Object.getPrototypeOf,pKe=Object.prototype.hasOwnProperty;var hpe=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),ppe=e=>{throw TypeError(e)};var s=(e,t)=>Z4(e,"name",{value:t,configurable:!0});var gKe=(e,t)=>()=>(e&&(t=e(e=0)),t);var H=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),V1=(e,t)=>{for(var r in t)Z4(e,r,{get:t[r],enumerable:!0})},Ape=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mKe(t))!pKe.call(e,i)&&i!==r&&Z4(e,i,{get:()=>t[i],enumerable:!(n=gpe(t,i))||n.enumerable});return e};var Ze=(e,t,r)=>(r=e!=null?dKe(hKe(e)):{},Ape(t||!e||!e.__esModule?Z4(r,"default",{value:e,enumerable:!0}):r,e)),AKe=e=>Ape(Z4({},"__esModule",{value:!0}),e),c0=(e,t,r,n)=>{for(var i=n>1?void 0:n?gpe(t,r):t,o=e.length-1,a;o>=0;o--)(a=e[o])&&(i=(n?a(t,r,i):a(i))||i);return n&&i&&Z4(t,r,i),i},js=(e,t)=>(r,n)=>t(r,n,e);var BK=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&ppe("Object expected");var n,i;r&&(n=t[hpe("asyncDispose")]),n===void 0&&(n=t[hpe("dispose")],r&&(i=n)),typeof n!="function"&&ppe("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.push([r,n,t])}else r&&e.push([r]);return t},DK=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,l,c,u){return u=Error(c),u.name="SuppressedError",u.error=a,u.suppressed=l,u},i=a=>t=r?new n(a,t,"An error was suppressed during disposal"):(r=!0,a),o=a=>{for(;a=e.pop();)try{var l=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(l).then(o,c=>(i(c),o()))}catch(c){i(c)}if(r)throw t};return o()};var importMetaUrlShim,d=gKe(()=>{"use strict";importMetaUrlShim=typeof document>"u"?require("node:url").pathToFileURL(__filename).href:importMetaUrlShim});var Cpe=H(PK=>{d();var ype="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");PK.encode=function(e){if(0<=e&&e<ype.length)return ype[e];throw new TypeError("Must be between 0 and 63: "+e)};PK.decode=function(e){var t=65,r=90,n=97,i=122,o=48,a=57,l=43,c=47,u=26,f=52;return t<=e&&e<=r?e-t:n<=e&&e<=i?e-n+u:o<=e&&e<=a?e-o+f:e==l?62:e==c?63:-1}});var FK=H(LK=>{d();var xpe=Cpe(),NK=5,vpe=1<<NK,bpe=vpe-1,Epe=vpe;function yKe(e){return e<0?(-e<<1)+1:(e<<1)+0}s(yKe,"toVLQSigned");function CKe(e){var t=(e&1)===1,r=e>>1;return t?-r:r}s(CKe,"fromVLQSigned");LK.encode=s(function(t){var r="",n,i=yKe(t);do n=i&bpe,i>>>=NK,i>0&&(n|=Epe),r+=xpe.encode(n);while(i>0);return r},"base64VLQ_encode");LK.decode=s(function(t,r,n){var i=t.length,o=0,a=0,l,c;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(c=xpe.decode(t.charCodeAt(r++)),c===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));l=!!(c&Epe),c&=bpe,o=o+(c<<a),a+=NK}while(l);n.value=CKe(o),n.rest=r},"base64VLQ_decode")});var rI=H(Sc=>{d();function xKe(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}s(xKe,"getArg");Sc.getArg=xKe;var Ipe=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,vKe=/^data:.+\,.+$/;function k7(e){var t=e.match(Ipe);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}s(k7,"urlParse");Sc.urlParse=k7;function eI(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}s(eI,"urlGenerate");Sc.urlGenerate=eI;function MK(e){var t=e,r=k7(e);if(r){if(!r.path)return e;t=r.path}for(var n=Sc.isAbsolute(t),i=t.split(/\/+/),o,a=0,l=i.length-1;l>=0;l--)o=i[l],o==="."?i.splice(l,1):o===".."?a++:a>0&&(o===""?(i.splice(l+1,a),a=0):(i.splice(l,2),a--));return t=i.join("/"),t===""&&(t=n?"/":"."),r?(r.path=t,eI(r)):t}s(MK,"normalize");Sc.normalize=MK;function Tpe(e,t){e===""&&(e="."),t===""&&(t=".");var r=k7(t),n=k7(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),eI(r);if(r||t.match(vKe))return t;if(n&&!n.host&&!n.path)return n.host=t,eI(n);var i=t.charAt(0)==="/"?t:MK(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=i,eI(n)):i}s(Tpe,"join");Sc.join=Tpe;Sc.isAbsolute=function(e){return e.charAt(0)==="/"||Ipe.test(e)};function bKe(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}s(bKe,"relative");Sc.relative=bKe;var wpe=function(){var e=Object.create(null);return!("__proto__"in e)}();function _pe(e){return e}s(_pe,"identity");function EKe(e){return Spe(e)?"$"+e:e}s(EKe,"toSetString");Sc.toSetString=wpe?_pe:EKe;function IKe(e){return Spe(e)?e.slice(1):e}s(IKe,"fromSetString");Sc.fromSetString=wpe?_pe:IKe;function Spe(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}s(Spe,"isProtoString");function TKe(e,t,r){var n=tI(e.source,t.source);return n!==0||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0||r)||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=e.generatedLine-t.generatedLine,n!==0)?n:tI(e.name,t.name)}s(TKe,"compareByOriginalPositions");Sc.compareByOriginalPositions=TKe;function wKe(e,t,r){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0||r)||(n=tI(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:tI(e.name,t.name)}s(wKe,"compareByGeneratedPositionsDeflated");Sc.compareByGeneratedPositionsDeflated=wKe;function tI(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}s(tI,"strcmp");function _Ke(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=tI(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:tI(e.name,t.name)}s(_Ke,"compareByGeneratedPositionsInflated");Sc.compareByGeneratedPositionsInflated=_Ke;function SKe(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}s(SKe,"parseSourceMapInput");Sc.parseSourceMapInput=SKe;function RKe(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var n=k7(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}t=Tpe(eI(n),t)}return MK(t)}s(RKe,"computeSourceURL");Sc.computeSourceURL=RKe});var UK=H(Rpe=>{d();var QK=rI(),OK=Object.prototype.hasOwnProperty,_x=typeof Map<"u";function $1(){this._array=[],this._set=_x?new Map:Object.create(null)}s($1,"ArraySet");$1.fromArray=s(function(t,r){for(var n=new $1,i=0,o=t.length;i<o;i++)n.add(t[i],r);return n},"ArraySet_fromArray");$1.prototype.size=s(function(){return _x?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");$1.prototype.add=s(function(t,r){var n=_x?t:QK.toSetString(t),i=_x?this.has(t):OK.call(this._set,n),o=this._array.length;(!i||r)&&this._array.push(t),i||(_x?this._set.set(t,o):this._set[n]=o)},"ArraySet_add");$1.prototype.has=s(function(t){if(_x)return this._set.has(t);var r=QK.toSetString(t);return OK.call(this._set,r)},"ArraySet_has");$1.prototype.indexOf=s(function(t){if(_x){var r=this._set.get(t);if(r>=0)return r}else{var n=QK.toSetString(t);if(OK.call(this._set,n))return this._set[n]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");$1.prototype.at=s(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");$1.prototype.toArray=s(function(){return this._array.slice()},"ArraySet_toArray");Rpe.ArraySet=$1});var Dpe=H(Bpe=>{d();var kpe=rI();function kKe(e,t){var r=e.generatedLine,n=t.generatedLine,i=e.generatedColumn,o=t.generatedColumn;return n>r||n==r&&o>=i||kpe.compareByGeneratedPositionsInflated(e,t)<=0}s(kKe,"generatedPositionAfter");function qP(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}s(qP,"MappingList");qP.prototype.unsortedForEach=s(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");qP.prototype.add=s(function(t){kKe(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");qP.prototype.toArray=s(function(){return this._sorted||(this._array.sort(kpe.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");Bpe.MappingList=qP});var qK=H(Ppe=>{d();var B7=FK(),Oa=rI(),WP=UK().ArraySet,BKe=Dpe().MappingList;function md(e){e||(e={}),this._file=Oa.getArg(e,"file",null),this._sourceRoot=Oa.getArg(e,"sourceRoot",null),this._skipValidation=Oa.getArg(e,"skipValidation",!1),this._sources=new WP,this._names=new WP,this._mappings=new BKe,this._sourcesContents=null}s(md,"SourceMapGenerator");md.prototype._version=3;md.fromSourceMap=s(function(t){var r=t.sourceRoot,n=new md({file:t.file,sourceRoot:r});return t.eachMapping(function(i){var o={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(o.source=i.source,r!=null&&(o.source=Oa.relative(r,o.source)),o.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(o.name=i.name)),n.addMapping(o)}),t.sources.forEach(function(i){var o=i;r!==null&&(o=Oa.relative(r,i)),n._sources.has(o)||n._sources.add(o);var a=t.sourceContentFor(i);a!=null&&n.setSourceContent(i,a)}),n},"SourceMapGenerator_fromSourceMap");md.prototype.addMapping=s(function(t){var r=Oa.getArg(t,"generated"),n=Oa.getArg(t,"original",null),i=Oa.getArg(t,"source",null),o=Oa.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,n,i,o),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),o!=null&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:o})},"SourceMapGenerator_addMapping");md.prototype.setSourceContent=s(function(t,r){var n=t;this._sourceRoot!=null&&(n=Oa.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Oa.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[Oa.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");md.prototype.applySourceMap=s(function(t,r,n){var i=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var o=this._sourceRoot;o!=null&&(i=Oa.relative(o,i));var a=new WP,l=new WP;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){var u=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});u.source!=null&&(c.source=u.source,n!=null&&(c.source=Oa.join(n,c.source)),o!=null&&(c.source=Oa.relative(o,c.source)),c.originalLine=u.line,c.originalColumn=u.column,u.name!=null&&(c.name=u.name))}var f=c.source;f!=null&&!a.has(f)&&a.add(f);var m=c.name;m!=null&&!l.has(m)&&l.add(m)},this),this._sources=a,this._names=l,t.sources.forEach(function(c){var u=t.sourceContentFor(c);u!=null&&(n!=null&&(c=Oa.join(n,c)),o!=null&&(c=Oa.relative(o,c)),this.setSourceContent(c,u))},this)},"SourceMapGenerator_applySourceMap");md.prototype._validateMapping=s(function(t,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!n&&!i)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i}))}},"SourceMapGenerator_validateMapping");md.prototype._serializeMappings=s(function(){for(var t=0,r=1,n=0,i=0,o=0,a=0,l="",c,u,f,m,h=this._mappings.toArray(),p=0,g=h.length;p<g;p++){if(u=h[p],c="",u.generatedLine!==r)for(t=0;u.generatedLine!==r;)c+=";",r++;else if(p>0){if(!Oa.compareByGeneratedPositionsInflated(u,h[p-1]))continue;c+=","}c+=B7.encode(u.generatedColumn-t),t=u.generatedColumn,u.source!=null&&(m=this._sources.indexOf(u.source),c+=B7.encode(m-a),a=m,c+=B7.encode(u.originalLine-1-i),i=u.originalLine-1,c+=B7.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(f=this._names.indexOf(u.name),c+=B7.encode(f-o),o=f)),l+=c}return l},"SourceMapGenerator_serializeMappings");md.prototype._generateSourcesContent=s(function(t,r){return t.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=Oa.relative(r,n));var i=Oa.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");md.prototype.toJSON=s(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");md.prototype.toString=s(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");Ppe.SourceMapGenerator=md});var Npe=H(Sx=>{d();Sx.GREATEST_LOWER_BOUND=1;Sx.LEAST_UPPER_BOUND=2;function WK(e,t,r,n,i,o){var a=Math.floor((t-e)/2)+e,l=i(r,n[a],!0);return l===0?a:l>0?t-a>1?WK(a,t,r,n,i,o):o==Sx.LEAST_UPPER_BOUND?t<n.length?t:-1:a:a-e>1?WK(e,a,r,n,i,o):o==Sx.LEAST_UPPER_BOUND?a:e<0?-1:e}s(WK,"recursiveSearch");Sx.search=s(function(t,r,n,i){if(r.length===0)return-1;var o=WK(-1,r.length,t,r,n,i||Sx.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&n(r[o],r[o-1],!0)===0;)--o;return o},"search")});var Fpe=H(Lpe=>{d();function GK(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}s(GK,"swap");function DKe(e,t){return Math.round(e+Math.random()*(t-e))}s(DKe,"randomIntInRange");function HK(e,t,r,n){if(r<n){var i=DKe(r,n),o=r-1;GK(e,i,n);for(var a=e[n],l=r;l<n;l++)t(e[l],a)<=0&&(o+=1,GK(e,o,l));GK(e,o+1,l);var c=o+1;HK(e,t,r,c-1),HK(e,t,c+1,n)}}s(HK,"doQuickSort");Lpe.quickSort=function(e,t){HK(e,t,0,e.length-1)}});var Qpe=H(GP=>{d();var Ur=rI(),jK=Npe(),nI=UK().ArraySet,PKe=FK(),D7=Fpe().quickSort;function ss(e,t){var r=e;return typeof e=="string"&&(r=Ur.parseSourceMapInput(e)),r.sections!=null?new Hm(r,t):new ec(r,t)}s(ss,"SourceMapConsumer");ss.fromSourceMap=function(e,t){return ec.fromSourceMap(e,t)};ss.prototype._version=3;ss.prototype.__generatedMappings=null;Object.defineProperty(ss.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:s(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});ss.prototype.__originalMappings=null;Object.defineProperty(ss.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:s(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});ss.prototype._charIsMappingSeparator=s(function(t,r){var n=t.charAt(r);return n===";"||n===","},"SourceMapConsumer_charIsMappingSeparator");ss.prototype._parseMappings=s(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");ss.GENERATED_ORDER=1;ss.ORIGINAL_ORDER=2;ss.GREATEST_LOWER_BOUND=1;ss.LEAST_UPPER_BOUND=2;ss.prototype.eachMapping=s(function(t,r,n){var i=r||null,o=n||ss.GENERATED_ORDER,a;switch(o){case ss.GENERATED_ORDER:a=this._generatedMappings;break;case ss.ORIGINAL_ORDER:a=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;a.map(function(c){var u=c.source===null?null:this._sources.at(c.source);return u=Ur.computeSourceURL(l,u,this._sourceMapURL),{source:u,generatedLine:c.generatedLine,generatedColumn:c.generatedColumn,originalLine:c.originalLine,originalColumn:c.originalColumn,name:c.name===null?null:this._names.at(c.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");ss.prototype.allGeneratedPositionsFor=s(function(t){var r=Ur.getArg(t,"line"),n={source:Ur.getArg(t,"source"),originalLine:r,originalColumn:Ur.getArg(t,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Ur.compareByOriginalPositions,jK.LEAST_UPPER_BOUND);if(o>=0){var a=this._originalMappings[o];if(t.column===void 0)for(var l=a.originalLine;a&&a.originalLine===l;)i.push({line:Ur.getArg(a,"generatedLine",null),column:Ur.getArg(a,"generatedColumn",null),lastColumn:Ur.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++o];else for(var c=a.originalColumn;a&&a.originalLine===r&&a.originalColumn==c;)i.push({line:Ur.getArg(a,"generatedLine",null),column:Ur.getArg(a,"generatedColumn",null),lastColumn:Ur.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++o]}return i},"SourceMapConsumer_allGeneratedPositionsFor");GP.SourceMapConsumer=ss;function ec(e,t){var r=e;typeof e=="string"&&(r=Ur.parseSourceMapInput(e));var n=Ur.getArg(r,"version"),i=Ur.getArg(r,"sources"),o=Ur.getArg(r,"names",[]),a=Ur.getArg(r,"sourceRoot",null),l=Ur.getArg(r,"sourcesContent",null),c=Ur.getArg(r,"mappings"),u=Ur.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);a&&(a=Ur.normalize(a)),i=i.map(String).map(Ur.normalize).map(function(f){return a&&Ur.isAbsolute(a)&&Ur.isAbsolute(f)?Ur.relative(a,f):f}),this._names=nI.fromArray(o.map(String),!0),this._sources=nI.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(f){return Ur.computeSourceURL(a,f,t)}),this.sourceRoot=a,this.sourcesContent=l,this._mappings=c,this._sourceMapURL=t,this.file=u}s(ec,"BasicSourceMapConsumer");ec.prototype=Object.create(ss.prototype);ec.prototype.consumer=ss;ec.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=Ur.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};ec.fromSourceMap=s(function(t,r){var n=Object.create(ec.prototype),i=n._names=nI.fromArray(t._names.toArray(),!0),o=n._sources=nI.fromArray(t._sources.toArray(),!0);n.sourceRoot=t._sourceRoot,n.sourcesContent=t._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=t._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(p){return Ur.computeSourceURL(n.sourceRoot,p,r)});for(var a=t._mappings.toArray().slice(),l=n.__generatedMappings=[],c=n.__originalMappings=[],u=0,f=a.length;u<f;u++){var m=a[u],h=new Mpe;h.generatedLine=m.generatedLine,h.generatedColumn=m.generatedColumn,m.source&&(h.source=o.indexOf(m.source),h.originalLine=m.originalLine,h.originalColumn=m.originalColumn,m.name&&(h.name=i.indexOf(m.name)),c.push(h)),l.push(h)}return D7(n.__originalMappings,Ur.compareByOriginalPositions),n},"SourceMapConsumer_fromSourceMap");ec.prototype._version=3;Object.defineProperty(ec.prototype,"sources",{get:s(function(){return this._absoluteSources.slice()},"get")});function Mpe(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}s(Mpe,"Mapping");ec.prototype._parseMappings=s(function(t,r){for(var n=1,i=0,o=0,a=0,l=0,c=0,u=t.length,f=0,m={},h={},p=[],g=[],y,x,b,E,_;f<u;)if(t.charAt(f)===";")n++,f++,i=0;else if(t.charAt(f)===",")f++;else{for(y=new Mpe,y.generatedLine=n,E=f;E<u&&!this._charIsMappingSeparator(t,E);E++);if(x=t.slice(f,E),b=m[x],b)f+=x.length;else{for(b=[];f<E;)PKe.decode(t,f,h),_=h.value,f=h.rest,b.push(_);if(b.length===2)throw new Error("Found a source, but no line and column");if(b.length===3)throw new Error("Found a source and line, but no column");m[x]=b}y.generatedColumn=i+b[0],i=y.generatedColumn,b.length>1&&(y.source=l+b[1],l+=b[1],y.originalLine=o+b[2],o=y.originalLine,y.originalLine+=1,y.originalColumn=a+b[3],a=y.originalColumn,b.length>4&&(y.name=c+b[4],c+=b[4])),g.push(y),typeof y.originalLine=="number"&&p.push(y)}D7(g,Ur.compareByGeneratedPositionsDeflated),this.__generatedMappings=g,D7(p,Ur.compareByOriginalPositions),this.__originalMappings=p},"SourceMapConsumer_parseMappings");ec.prototype._findMapping=s(function(t,r,n,i,o,a){if(t[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[n]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return jK.search(t,r,o,a)},"SourceMapConsumer_findMapping");ec.prototype.computeColumnSpans=s(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");ec.prototype.originalPositionFor=s(function(t){var r={generatedLine:Ur.getArg(t,"line"),generatedColumn:Ur.getArg(t,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",Ur.compareByGeneratedPositionsDeflated,Ur.getArg(t,"bias",ss.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var o=Ur.getArg(i,"source",null);o!==null&&(o=this._sources.at(o),o=Ur.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var a=Ur.getArg(i,"name",null);return a!==null&&(a=this._names.at(a)),{source:o,line:Ur.getArg(i,"originalLine",null),column:Ur.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");ec.prototype.hasContentsOfAllSources=s(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");ec.prototype.sourceContentFor=s(function(t,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(t);if(n>=0)return this.sourcesContent[n];var i=t;this.sourceRoot!=null&&(i=Ur.relative(this.sourceRoot,i));var o;if(this.sourceRoot!=null&&(o=Ur.urlParse(this.sourceRoot))){var a=i.replace(/^file:\/\//,"");if(o.scheme=="file"&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!o.path||o.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");ec.prototype.generatedPositionFor=s(function(t){var r=Ur.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Ur.getArg(t,"line"),originalColumn:Ur.getArg(t,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Ur.compareByOriginalPositions,Ur.getArg(t,"bias",ss.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:Ur.getArg(o,"generatedLine",null),column:Ur.getArg(o,"generatedColumn",null),lastColumn:Ur.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");GP.BasicSourceMapConsumer=ec;function Hm(e,t){var r=e;typeof e=="string"&&(r=Ur.parseSourceMapInput(e));var n=Ur.getArg(r,"version"),i=Ur.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new nI,this._names=new nI;var o={line:-1,column:0};this._sections=i.map(function(a){if(a.url)throw new Error("Support for url field in sections not implemented.");var l=Ur.getArg(a,"offset"),c=Ur.getArg(l,"line"),u=Ur.getArg(l,"column");if(c<o.line||c===o.line&&u<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=l,{generatedOffset:{generatedLine:c+1,generatedColumn:u+1},consumer:new ss(Ur.getArg(a,"map"),t)}})}s(Hm,"IndexedSourceMapConsumer");Hm.prototype=Object.create(ss.prototype);Hm.prototype.constructor=ss;Hm.prototype._version=3;Object.defineProperty(Hm.prototype,"sources",{get:s(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});Hm.prototype.originalPositionFor=s(function(t){var r={generatedLine:Ur.getArg(t,"line"),generatedColumn:Ur.getArg(t,"column")},n=jK.search(r,this._sections,function(o,a){var l=o.generatedLine-a.generatedOffset.generatedLine;return l||o.generatedColumn-a.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");Hm.prototype.hasContentsOfAllSources=s(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");Hm.prototype.sourceContentFor=s(function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],o=i.consumer.sourceContentFor(t,!0);if(o)return o}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");Hm.prototype.generatedPositionFor=s(function(t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Ur.getArg(t,"source"))!==-1){var i=n.consumer.generatedPositionFor(t);if(i){var o={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return o}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");Hm.prototype._parseMappings=s(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],o=i.consumer._generatedMappings,a=0;a<o.length;a++){var l=o[a],c=i.consumer._sources.at(l.source);c=Ur.computeSourceURL(i.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var u=null;l.name&&(u=i.consumer._names.at(l.name),this._names.add(u),u=this._names.indexOf(u));var f={source:c,generatedLine:l.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(i.generatedOffset.generatedLine===l.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:u};this.__generatedMappings.push(f),typeof f.originalLine=="number"&&this.__originalMappings.push(f)}D7(this.__generatedMappings,Ur.compareByGeneratedPositionsDeflated),D7(this.__originalMappings,Ur.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");GP.IndexedSourceMapConsumer=Hm});var Upe=H(Ope=>{d();var NKe=qK().SourceMapGenerator,HP=rI(),LKe=/(\r?\n)/,FKe=10,iI="$$$isSourceNode$$$";function Gu(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=e??null,this.column=t??null,this.source=r??null,this.name=i??null,this[iI]=!0,n!=null&&this.add(n)}s(Gu,"SourceNode");Gu.fromStringWithSourceMap=s(function(t,r,n){var i=new Gu,o=t.split(LKe),a=0,l=s(function(){var h=g(),p=g()||"";return h+p;function g(){return a<o.length?o[a++]:void 0}},"shiftNextLine"),c=1,u=0,f=null;return r.eachMapping(function(h){if(f!==null)if(c<h.generatedLine)m(f,l()),c++,u=0;else{var p=o[a]||"",g=p.substr(0,h.generatedColumn-u);o[a]=p.substr(h.generatedColumn-u),u=h.generatedColumn,m(f,g),f=h;return}for(;c<h.generatedLine;)i.add(l()),c++;if(u<h.generatedColumn){var p=o[a]||"";i.add(p.substr(0,h.generatedColumn)),o[a]=p.substr(h.generatedColumn),u=h.generatedColumn}f=h},this),a<o.length&&(f&&m(f,l()),i.add(o.splice(a).join(""))),r.sources.forEach(function(h){var p=r.sourceContentFor(h);p!=null&&(n!=null&&(h=HP.join(n,h)),i.setSourceContent(h,p))}),i;function m(h,p){if(h===null||h.source===void 0)i.add(p);else{var g=n?HP.join(n,h.source):h.source;i.add(new Gu(h.originalLine,h.originalColumn,g,p,h.name))}}s(m,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");Gu.prototype.add=s(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[iI]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");Gu.prototype.prepend=s(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[iI]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");Gu.prototype.walk=s(function(t){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[iI]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");Gu.prototype.join=s(function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this},"SourceNode_join");Gu.prototype.replaceRight=s(function(t,r){var n=this.children[this.children.length-1];return n[iI]?n.replaceRight(t,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");Gu.prototype.setSourceContent=s(function(t,r){this.sourceContents[HP.toSetString(t)]=r},"SourceNode_setSourceContent");Gu.prototype.walkSourceContents=s(function(t){for(var r=0,n=this.children.length;r<n;r++)this.children[r][iI]&&this.children[r].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)t(HP.fromSetString(i[r]),this.sourceContents[i[r]])},"SourceNode_walkSourceContents");Gu.prototype.toString=s(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");Gu.prototype.toStringWithSourceMap=s(function(t){var r={code:"",line:1,column:0},n=new NKe(t),i=!1,o=null,a=null,l=null,c=null;return this.walk(function(u,f){r.code+=u,f.source!==null&&f.line!==null&&f.column!==null?((o!==f.source||a!==f.line||l!==f.column||c!==f.name)&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name}),o=f.source,a=f.line,l=f.column,c=f.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),o=null,i=!1);for(var m=0,h=u.length;m<h;m++)u.charCodeAt(m)===FKe?(r.line++,r.column=0,m+1===h?(o=null,i=!1):i&&n.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:r.line,column:r.column},name:f.name})):r.column++}),this.walkSourceContents(function(u,f){n.setSourceContent(u,f)}),{code:r.code,map:n}},"SourceNode_toStringWithSourceMap");Ope.SourceNode=Gu});var qpe=H(jP=>{d();jP.SourceMapGenerator=qK().SourceMapGenerator;jP.SourceMapConsumer=Qpe().SourceMapConsumer;jP.SourceNode=Upe().SourceNode});var Gpe=H((gjt,Wpe)=>{d();var MKe=Object.prototype.toString,VK=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function QKe(e){return MKe.call(e).slice(8,-1)==="ArrayBuffer"}s(QKe,"isArrayBuffer");function OKe(e,t,r){t>>>=0;var n=e.byteLength-t;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return VK?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}s(OKe,"fromArrayBuffer");function UKe(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return VK?Buffer.from(e,t):new Buffer(e,t)}s(UKe,"fromString");function qKe(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return QKe(e)?OKe(e,t,r):typeof e=="string"?UKe(e,t):VK?Buffer.from(e):new Buffer(e)}s(qKe,"bufferFrom");Wpe.exports=qKe});var Jpe=H((kx,KK)=>{d();var WKe=qpe().SourceMapConsumer,$K=require("path"),Gp;try{Gp=require("fs"),(!Gp.existsSync||!Gp.readFileSync)&&(Gp=null)}catch{}var GKe=Gpe();function Hpe(e,t){return e.require(t)}s(Hpe,"dynamicRequire");var jpe=!1,Vpe=!1,zK=!1,P7="auto",Rx={},N7={},HKe=/^data:application\/json[^,]+base64,/,Jy=[],Xy=[];function JK(){return P7==="browser"?!0:P7==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}s(JK,"isInBrowser");function jKe(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}s(jKe,"hasGlobalProcessEventEmitter");function VKe(){return typeof process=="object"&&process!==null?process.version:""}s(VKe,"globalProcessVersion");function $Ke(){if(typeof process=="object"&&process!==null)return process.stderr}s($Ke,"globalProcessStderr");function zKe(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}s(zKe,"globalProcessExit");function VP(e){return function(t){for(var r=0;r<e.length;r++){var n=e[r](t);if(n)return n}return null}}s(VP,"handlerExec");var XK=VP(Jy);Jy.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),e in Rx)return Rx[e];var t="";try{if(Gp)Gp.existsSync(e)&&(t=Gp.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return Rx[e]=t});function YK(e,t){if(!e)return t;var r=$K.dirname(e),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",o=r.slice(i.length);return i&&/^\/\w\:/.test(o)?(i+="/",i+$K.resolve(r.slice(i.length),t).replace(/\\/g,"/")):i+$K.resolve(r.slice(i.length),t)}s(YK,"supportRelativeURL");function YKe(e){var t;if(JK())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}t=XK(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,o,a;a=i.exec(t);)o=a;return o?o[1]:null}s(YKe,"retrieveSourceMapURL");var ZK=VP(Xy);Xy.push(function(e){var t=YKe(e);if(!t)return null;var r;if(HKe.test(t)){var n=t.slice(t.indexOf(",")+1);r=GKe(n,"base64").toString(),t=e}else t=YK(e,t),r=XK(t);return r?{url:t,map:r}:null});function eJ(e){var t=N7[e.source];if(!t){var r=ZK(e.source);r?(t=N7[e.source]={url:r.url,map:new WKe(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,o){var a=t.map.sourcesContent[o];if(a){var l=YK(t.url,i);Rx[l]=a}})):t=N7[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var n=t.map.originalPositionFor(e);if(n.source!==null)return n.source=YK(t.url,n.source),n}return e}s(eJ,"mapSourcePosition");function zpe(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=eJ({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+zpe(t[2])+")":e}s(zpe,"mapEvalOrigin");function KKe(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var n=this.getColumnNumber();n&&(t+=":"+n)}}var i="",o=this.getFunctionName(),a=!0,l=this.isConstructor(),c=!(this.isToplevel()||l);if(c){var u=this.getTypeName();u==="[object Object]"&&(u="null");var f=this.getMethodName();o?(u&&o.indexOf(u)!=0&&(i+=u+"."),i+=o,f&&o.indexOf("."+f)!=o.length-f.length-1&&(i+=" [as "+f+"]")):i+=u+"."+(f||"<anonymous>")}else l?i+="new "+(o||"<anonymous>"):o?i+=o:(i+=t,a=!1);return a&&(i+=" ("+t+")"),i}s(KKe,"CallSiteToString");function $pe(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=KKe,t}s($pe,"cloneCallSite");function Ype(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var n=e.getLineNumber(),i=e.getColumnNumber()-1,o=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,a=o.test(VKe())?0:62;n===1&&i>a&&!JK()&&!e.isEval()&&(i-=a);var l=eJ({source:r,line:n,column:i});t.curPosition=l,e=$pe(e);var c=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?c():t.nextPosition.name||c()},e.getFileName=function(){return l.source},e.getLineNumber=function(){return l.line},e.getColumnNumber=function(){return l.column+1},e.getScriptNameOrSourceURL=function(){return l.source},e}var u=e.isEval()&&e.getEvalOrigin();return u&&(u=zpe(u),e=$pe(e),e.getEvalOrigin=function(){return u}),e}s(Ype,"wrapCallSite");function JKe(e,t){zK&&(Rx={},N7={});for(var r=e.name||"Error",n=e.message||"",i=r+": "+n,o={nextPosition:null,curPosition:null},a=[],l=t.length-1;l>=0;l--)a.push(`
    at `+Ype(t[l],o)),o.nextPosition=o.curPosition;return o.curPosition=o.nextPosition=null,i+a.reverse().join("")}s(JKe,"prepareStackTrace");function Kpe(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],n=+t[2],i=+t[3],o=Rx[r];if(!o&&Gp&&Gp.existsSync(r))try{o=Gp.readFileSync(r,"utf8")}catch{o=""}if(o){var a=o.split(/(?:\r\n|\r|\n)/)[n-1];if(a)return r+":"+n+`
`+a+`
`+new Array(i).join(" ")+"^"}}return null}s(Kpe,"getErrorSource");function XKe(e){var t=Kpe(e),r=$Ke();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),zKe(1)}s(XKe,"printErrorAndExit");function ZKe(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(t).length>0;if(r&&!n)return XKe(arguments[1])}return e.apply(this,arguments)}}s(ZKe,"shimEmitUncaughtException");var eJe=Jy.slice(0),tJe=Xy.slice(0);kx.wrapCallSite=Ype;kx.getErrorSource=Kpe;kx.mapSourcePosition=eJ;kx.retrieveSourceMap=ZK;kx.install=function(e){if(e=e||{},e.environment&&(P7=e.environment,["node","browser","auto"].indexOf(P7)===-1))throw new Error("environment "+P7+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(Jy.length=0),Jy.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(Xy.length=0),Xy.unshift(e.retrieveSourceMap)),e.hookRequire&&!JK()){var t=Hpe(KK,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(o,a){return Rx[a]=o,N7[a]=void 0,r.call(this,o,a)},t.prototype._compile.__sourceMapSupport=!0)}if(zK||(zK="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),jpe||(jpe=!0,Error.prepareStackTrace=JKe),!Vpe){var n="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=Hpe(KK,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&jKe()&&(Vpe=!0,ZKe())}};kx.resetRetrieveHandlers=function(){Jy.length=0,Xy.length=0,Jy=eJe.slice(0),Xy=tJe.slice(0),ZK=VP(Xy),XK=VP(Jy)}});var Ri=H(($P,Xpe)=>{d();(function(e,t){typeof $P=="object"?Xpe.exports=$P=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})($P,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var i=s(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),o=Object.create||function(){function b(){}return s(b,"F"),function(E){var _;return b.prototype=E,_=new b,b.prototype=null,_}}(),a={},l=a.lib={},c=l.Base=function(){return{extend:s(function(b){var E=o(this);return b&&E.mixIn(b),(!E.hasOwnProperty("init")||this.init===E.init)&&(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},"extend"),create:s(function(){var b=this.extend();return b.init.apply(b,arguments),b},"create"),init:s(function(){},"init"),mixIn:s(function(b){for(var E in b)b.hasOwnProperty(E)&&(this[E]=b[E]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},"mixIn"),clone:s(function(){return this.init.prototype.extend(this)},"clone")}}(),u=l.WordArray=c.extend({init:s(function(b,E){b=this.words=b||[],E!=r?this.sigBytes=E:this.sigBytes=b.length*4},"init"),toString:s(function(b){return(b||m).stringify(this)},"toString"),concat:s(function(b){var E=this.words,_=b.words,k=this.sigBytes,B=b.sigBytes;if(this.clamp(),k%4)for(var N=0;N<B;N++){var M=_[N>>>2]>>>24-N%4*8&255;E[k+N>>>2]|=M<<24-(k+N)%4*8}else for(var te=0;te<B;te+=4)E[k+te>>>2]=_[te>>>2];return this.sigBytes+=B,this},"concat"),clamp:s(function(){var b=this.words,E=this.sigBytes;b[E>>>2]&=4294967295<<32-E%4*8,b.length=t.ceil(E/4)},"clamp"),clone:s(function(){var b=c.clone.call(this);return b.words=this.words.slice(0),b},"clone"),random:s(function(b){for(var E=[],_=0;_<b;_+=4)E.push(i());return new u.init(E,b)},"random")}),f=a.enc={},m=f.Hex={stringify:s(function(b){for(var E=b.words,_=b.sigBytes,k=[],B=0;B<_;B++){var N=E[B>>>2]>>>24-B%4*8&255;k.push((N>>>4).toString(16)),k.push((N&15).toString(16))}return k.join("")},"stringify"),parse:s(function(b){for(var E=b.length,_=[],k=0;k<E;k+=2)_[k>>>3]|=parseInt(b.substr(k,2),16)<<24-k%8*4;return new u.init(_,E/2)},"parse")},h=f.Latin1={stringify:s(function(b){for(var E=b.words,_=b.sigBytes,k=[],B=0;B<_;B++){var N=E[B>>>2]>>>24-B%4*8&255;k.push(String.fromCharCode(N))}return k.join("")},"stringify"),parse:s(function(b){for(var E=b.length,_=[],k=0;k<E;k++)_[k>>>2]|=(b.charCodeAt(k)&255)<<24-k%4*8;return new u.init(_,E)},"parse")},p=f.Utf8={stringify:s(function(b){try{return decodeURIComponent(escape(h.stringify(b)))}catch{throw new Error("Malformed UTF-8 data")}},"stringify"),parse:s(function(b){return h.parse(unescape(encodeURIComponent(b)))},"parse")},g=l.BufferedBlockAlgorithm=c.extend({reset:s(function(){this._data=new u.init,this._nDataBytes=0},"reset"),_append:s(function(b){typeof b=="string"&&(b=p.parse(b)),this._data.concat(b),this._nDataBytes+=b.sigBytes},"_append"),_process:s(function(b){var E,_=this._data,k=_.words,B=_.sigBytes,N=this.blockSize,M=N*4,te=B/M;b?te=t.ceil(te):te=t.max((te|0)-this._minBufferSize,0);var de=te*N,Z=t.min(de*4,B);if(de){for(var G=0;G<de;G+=N)this._doProcessBlock(k,G);E=k.splice(0,de),_.sigBytes-=Z}return new u.init(E,Z)},"_process"),clone:s(function(){var b=c.clone.call(this);return b._data=this._data.clone(),b},"clone"),_minBufferSize:0}),y=l.Hasher=g.extend({cfg:c.extend(),init:s(function(b){this.cfg=this.cfg.extend(b),this.reset()},"init"),reset:s(function(){g.reset.call(this),this._doReset()},"reset"),update:s(function(b){return this._append(b),this._process(),this},"update"),finalize:s(function(b){b&&this._append(b);var E=this._doFinalize();return E},"finalize"),blockSize:512/32,_createHelper:s(function(b){return function(E,_){return new b.init(_).finalize(E)}},"_createHelper"),_createHmacHelper:s(function(b){return function(E,_){return new x.HMAC.init(b,_).finalize(E)}},"_createHmacHelper")}),x=a.algo={};return a}(Math);return e})});var F7=H((zP,Zpe)=>{d();(function(e,t){typeof zP=="object"?Zpe.exports=zP=t(Ri()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(zP,function(e){return function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,a=r.x64={},l=a.Word=i.extend({init:s(function(u,f){this.high=u,this.low=f},"init")}),c=a.WordArray=i.extend({init:s(function(u,f){u=this.words=u||[],f!=t?this.sigBytes=f:this.sigBytes=u.length*8},"init"),toX32:s(function(){for(var u=this.words,f=u.length,m=[],h=0;h<f;h++){var p=u[h];m.push(p.high),m.push(p.low)}return o.create(m,this.sigBytes)},"toX32"),clone:s(function(){for(var u=i.clone.call(this),f=u.words=this.words.slice(0),m=f.length,h=0;h<m;h++)f[h]=f[h].clone();return u},"clone")})}(),e})});var tge=H((YP,ege)=>{d();(function(e,t){typeof YP=="object"?ege.exports=YP=t(Ri()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(YP,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,i=n.init,o=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var l=a.byteLength,c=[],u=0;u<l;u++)c[u>>>2]|=a[u]<<24-u%4*8;i.call(this,c,l)}else i.apply(this,arguments)};o.prototype=n}}(),e.lib.WordArray})});var nge=H((KP,rge)=>{d();(function(e,t){typeof KP=="object"?rge.exports=KP=t(Ri()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(KP,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Utf16=i.Utf16BE={stringify:s(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=c[m>>>2]>>>16-m%4*8&65535;f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:s(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return n.create(u,c*2)},"parse")};i.Utf16LE={stringify:s(function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var h=a(c[m>>>2]>>>16-m%4*8&65535);f.push(String.fromCharCode(h))}return f.join("")},"stringify"),parse:s(function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return n.create(u,c*2)},"parse")};function a(l){return l<<8&4278255360|l>>>8&16711935}s(a,"swapEndian")}(),e.enc.Utf16})});var Zy=H((JP,ige)=>{d();(function(e,t){typeof JP=="object"?ige.exports=JP=t(Ri()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(JP,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Base64={stringify:s(function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var m=[],h=0;h<u;h+=3)for(var p=c[h>>>2]>>>24-h%4*8&255,g=c[h+1>>>2]>>>24-(h+1)%4*8&255,y=c[h+2>>>2]>>>24-(h+2)%4*8&255,x=p<<16|g<<8|y,b=0;b<4&&h+b*.75<u;b++)m.push(f.charAt(x>>>6*(3-b)&63));var E=f.charAt(64);if(E)for(;m.length%4;)m.push(E);return m.join("")},"stringify"),parse:s(function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<u.length;m++)f[u.charCodeAt(m)]=m}var h=u.charAt(64);if(h){var p=l.indexOf(h);p!==-1&&(c=p)}return a(l,c,f)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,g=u[l.charCodeAt(h)]>>>6-h%4*2,y=p|g;f[m>>>2]|=y<<24-m%4*8,m++}return n.create(f,m)}s(a,"parseLoop")}(),e.enc.Base64})});var sge=H((XP,oge)=>{d();(function(e,t){typeof XP=="object"?oge.exports=XP=t(Ri()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(XP,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.enc,o=i.Base64url={stringify:s(function(l,c){c===void 0&&(c=!0);var u=l.words,f=l.sigBytes,m=c?this._safe_map:this._map;l.clamp();for(var h=[],p=0;p<f;p+=3)for(var g=u[p>>>2]>>>24-p%4*8&255,y=u[p+1>>>2]>>>24-(p+1)%4*8&255,x=u[p+2>>>2]>>>24-(p+2)%4*8&255,b=g<<16|y<<8|x,E=0;E<4&&p+E*.75<f;E++)h.push(m.charAt(b>>>6*(3-E)&63));var _=m.charAt(64);if(_)for(;h.length%4;)h.push(_);return h.join("")},"stringify"),parse:s(function(l,c){c===void 0&&(c=!0);var u=l.length,f=c?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var h=0;h<f.length;h++)m[f.charCodeAt(h)]=h}var p=f.charAt(64);if(p){var g=l.indexOf(p);g!==-1&&(u=g)}return a(l,u,m)},"parse"),_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var f=[],m=0,h=0;h<c;h++)if(h%4){var p=u[l.charCodeAt(h-1)]<<h%4*2,g=u[l.charCodeAt(h)]>>>6-h%4*2,y=p|g;f[m>>>2]|=y<<24-m%4*8,m++}return n.create(f,m)}s(a,"parseLoop")}(),e.enc.Base64url})});var e5=H((ZP,age)=>{d();(function(e,t){typeof ZP=="object"?age.exports=ZP=t(Ri()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ZP,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=[];(function(){for(var p=0;p<64;p++)l[p]=t.abs(t.sin(p+1))*4294967296|0})();var c=a.MD5=o.extend({_doReset:s(function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},"_doReset"),_doProcessBlock:s(function(p,g){for(var y=0;y<16;y++){var x=g+y,b=p[x];p[x]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var E=this._hash.words,_=p[g+0],k=p[g+1],B=p[g+2],N=p[g+3],M=p[g+4],te=p[g+5],de=p[g+6],Z=p[g+7],G=p[g+8],q=p[g+9],ie=p[g+10],z=p[g+11],j=p[g+12],U=p[g+13],V=p[g+14],K=p[g+15],ae=E[0],re=E[1],le=E[2],ce=E[3];ae=u(ae,re,le,ce,_,7,l[0]),ce=u(ce,ae,re,le,k,12,l[1]),le=u(le,ce,ae,re,B,17,l[2]),re=u(re,le,ce,ae,N,22,l[3]),ae=u(ae,re,le,ce,M,7,l[4]),ce=u(ce,ae,re,le,te,12,l[5]),le=u(le,ce,ae,re,de,17,l[6]),re=u(re,le,ce,ae,Z,22,l[7]),ae=u(ae,re,le,ce,G,7,l[8]),ce=u(ce,ae,re,le,q,12,l[9]),le=u(le,ce,ae,re,ie,17,l[10]),re=u(re,le,ce,ae,z,22,l[11]),ae=u(ae,re,le,ce,j,7,l[12]),ce=u(ce,ae,re,le,U,12,l[13]),le=u(le,ce,ae,re,V,17,l[14]),re=u(re,le,ce,ae,K,22,l[15]),ae=f(ae,re,le,ce,k,5,l[16]),ce=f(ce,ae,re,le,de,9,l[17]),le=f(le,ce,ae,re,z,14,l[18]),re=f(re,le,ce,ae,_,20,l[19]),ae=f(ae,re,le,ce,te,5,l[20]),ce=f(ce,ae,re,le,ie,9,l[21]),le=f(le,ce,ae,re,K,14,l[22]),re=f(re,le,ce,ae,M,20,l[23]),ae=f(ae,re,le,ce,q,5,l[24]),ce=f(ce,ae,re,le,V,9,l[25]),le=f(le,ce,ae,re,N,14,l[26]),re=f(re,le,ce,ae,G,20,l[27]),ae=f(ae,re,le,ce,U,5,l[28]),ce=f(ce,ae,re,le,B,9,l[29]),le=f(le,ce,ae,re,Z,14,l[30]),re=f(re,le,ce,ae,j,20,l[31]),ae=m(ae,re,le,ce,te,4,l[32]),ce=m(ce,ae,re,le,G,11,l[33]),le=m(le,ce,ae,re,z,16,l[34]),re=m(re,le,ce,ae,V,23,l[35]),ae=m(ae,re,le,ce,k,4,l[36]),ce=m(ce,ae,re,le,M,11,l[37]),le=m(le,ce,ae,re,Z,16,l[38]),re=m(re,le,ce,ae,ie,23,l[39]),ae=m(ae,re,le,ce,U,4,l[40]),ce=m(ce,ae,re,le,_,11,l[41]),le=m(le,ce,ae,re,N,16,l[42]),re=m(re,le,ce,ae,de,23,l[43]),ae=m(ae,re,le,ce,q,4,l[44]),ce=m(ce,ae,re,le,j,11,l[45]),le=m(le,ce,ae,re,K,16,l[46]),re=m(re,le,ce,ae,B,23,l[47]),ae=h(ae,re,le,ce,_,6,l[48]),ce=h(ce,ae,re,le,Z,10,l[49]),le=h(le,ce,ae,re,V,15,l[50]),re=h(re,le,ce,ae,te,21,l[51]),ae=h(ae,re,le,ce,j,6,l[52]),ce=h(ce,ae,re,le,N,10,l[53]),le=h(le,ce,ae,re,ie,15,l[54]),re=h(re,le,ce,ae,k,21,l[55]),ae=h(ae,re,le,ce,G,6,l[56]),ce=h(ce,ae,re,le,K,10,l[57]),le=h(le,ce,ae,re,de,15,l[58]),re=h(re,le,ce,ae,U,21,l[59]),ae=h(ae,re,le,ce,M,6,l[60]),ce=h(ce,ae,re,le,z,10,l[61]),le=h(le,ce,ae,re,B,15,l[62]),re=h(re,le,ce,ae,q,21,l[63]),E[0]=E[0]+ae|0,E[1]=E[1]+re|0,E[2]=E[2]+le|0,E[3]=E[3]+ce|0},"_doProcessBlock"),_doFinalize:s(function(){var p=this._data,g=p.words,y=this._nDataBytes*8,x=p.sigBytes*8;g[x>>>5]|=128<<24-x%32;var b=t.floor(y/4294967296),E=y;g[(x+64>>>9<<4)+15]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,g[(x+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,p.sigBytes=(g.length+1)*4,this._process();for(var _=this._hash,k=_.words,B=0;B<4;B++){var N=k[B];k[B]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}return _},"_doFinalize"),clone:s(function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p},"clone")});function u(p,g,y,x,b,E,_){var k=p+(g&y|~g&x)+b+_;return(k<<E|k>>>32-E)+g}s(u,"FF");function f(p,g,y,x,b,E,_){var k=p+(g&x|y&~x)+b+_;return(k<<E|k>>>32-E)+g}s(f,"GG");function m(p,g,y,x,b,E,_){var k=p+(g^y^x)+b+_;return(k<<E|k>>>32-E)+g}s(m,"HH");function h(p,g,y,x,b,E,_){var k=p+(y^(g|~x))+b+_;return(k<<E|k>>>32-E)+g}s(h,"II"),r.MD5=o._createHelper(c),r.HmacMD5=o._createHmacHelper(c)}(Math),e.MD5})});var tJ=H((eN,lge)=>{d();(function(e,t){typeof eN=="object"?lge.exports=eN=t(Ri()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(eN,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,o=t.algo,a=[],l=o.SHA1=i.extend({_doReset:s(function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:s(function(c,u){for(var f=this._hash.words,m=f[0],h=f[1],p=f[2],g=f[3],y=f[4],x=0;x<80;x++){if(x<16)a[x]=c[u+x]|0;else{var b=a[x-3]^a[x-8]^a[x-14]^a[x-16];a[x]=b<<1|b>>>31}var E=(m<<5|m>>>27)+y+a[x];x<20?E+=(h&p|~h&g)+1518500249:x<40?E+=(h^p^g)+1859775393:x<60?E+=(h&p|h&g|p&g)-1894007588:E+=(h^p^g)-899497514,y=g,g=p,p=h<<30|h>>>2,h=m,m=E}f[0]=f[0]+m|0,f[1]=f[1]+h|0,f[2]=f[2]+p|0,f[3]=f[3]+g|0,f[4]=f[4]+y|0},"_doProcessBlock"),_doFinalize:s(function(){var c=this._data,u=c.words,f=this._nDataBytes*8,m=c.sigBytes*8;return u[m>>>5]|=128<<24-m%32,u[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(m+64>>>9<<4)+15]=f,c.sigBytes=u.length*4,this._process(),this._hash},"_doFinalize"),clone:s(function(){var c=i.clone.call(this);return c._hash=this._hash.clone(),c},"clone")});t.SHA1=i._createHelper(l),t.HmacSHA1=i._createHmacHelper(l)}(),e.SHA1})});var rN=H((tN,cge)=>{d();(function(e,t){typeof tN=="object"?cge.exports=tN=t(Ri()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(tN,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=[],c=[];(function(){function m(y){for(var x=t.sqrt(y),b=2;b<=x;b++)if(!(y%b))return!1;return!0}s(m,"isPrime");function h(y){return(y-(y|0))*4294967296|0}s(h,"getFractionalBits");for(var p=2,g=0;g<64;)m(p)&&(g<8&&(l[g]=h(t.pow(p,1/2))),c[g]=h(t.pow(p,1/3)),g++),p++})();var u=[],f=a.SHA256=o.extend({_doReset:s(function(){this._hash=new i.init(l.slice(0))},"_doReset"),_doProcessBlock:s(function(m,h){for(var p=this._hash.words,g=p[0],y=p[1],x=p[2],b=p[3],E=p[4],_=p[5],k=p[6],B=p[7],N=0;N<64;N++){if(N<16)u[N]=m[h+N]|0;else{var M=u[N-15],te=(M<<25|M>>>7)^(M<<14|M>>>18)^M>>>3,de=u[N-2],Z=(de<<15|de>>>17)^(de<<13|de>>>19)^de>>>10;u[N]=te+u[N-7]+Z+u[N-16]}var G=E&_^~E&k,q=g&y^g&x^y&x,ie=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),z=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),j=B+z+G+c[N]+u[N],U=ie+q;B=k,k=_,_=E,E=b+j|0,b=x,x=y,y=g,g=j+U|0}p[0]=p[0]+g|0,p[1]=p[1]+y|0,p[2]=p[2]+x|0,p[3]=p[3]+b|0,p[4]=p[4]+E|0,p[5]=p[5]+_|0,p[6]=p[6]+k|0,p[7]=p[7]+B|0},"_doProcessBlock"),_doFinalize:s(function(){var m=this._data,h=m.words,p=this._nDataBytes*8,g=m.sigBytes*8;return h[g>>>5]|=128<<24-g%32,h[(g+64>>>9<<4)+14]=t.floor(p/4294967296),h[(g+64>>>9<<4)+15]=p,m.sigBytes=h.length*4,this._process(),this._hash},"_doFinalize"),clone:s(function(){var m=o.clone.call(this);return m._hash=this._hash.clone(),m},"clone")});r.SHA256=o._createHelper(f),r.HmacSHA256=o._createHmacHelper(f)}(Math),e.SHA256})});var fge=H((nN,uge)=>{d();(function(e,t,r){typeof nN=="object"?uge.exports=nN=t(Ri(),rN()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(nN,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=t.algo,o=i.SHA256,a=i.SHA224=o.extend({_doReset:s(function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},"_doReset"),_doFinalize:s(function(){var l=o._doFinalize.call(this);return l.sigBytes-=4,l},"_doFinalize")});t.SHA224=o._createHelper(a),t.HmacSHA224=o._createHmacHelper(a)}(),e.SHA224})});var rJ=H((iN,dge)=>{d();(function(e,t,r){typeof iN=="object"?dge.exports=iN=t(Ri(),F7()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(iN,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,i=t.x64,o=i.Word,a=i.WordArray,l=t.algo;function c(){return o.create.apply(o,arguments)}s(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var h=0;h<80;h++)f[h]=c()})();var m=l.SHA512=n.extend({_doReset:s(function(){this._hash=new a.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},"_doReset"),_doProcessBlock:s(function(h,p){for(var g=this._hash.words,y=g[0],x=g[1],b=g[2],E=g[3],_=g[4],k=g[5],B=g[6],N=g[7],M=y.high,te=y.low,de=x.high,Z=x.low,G=b.high,q=b.low,ie=E.high,z=E.low,j=_.high,U=_.low,V=k.high,K=k.low,ae=B.high,re=B.low,le=N.high,ce=N.low,De=M,be=te,qe=de,Re=Z,Xe=G,ft=q,at=ie,lt=z,oe=j,Ne=U,Ae=V,Ge=K,Y=ae,ne=re,Fe=le,Se=ce,Ce=0;Ce<80;Ce++){var Ue,Ve,tt=f[Ce];if(Ce<16)Ve=tt.high=h[p+Ce*2]|0,Ue=tt.low=h[p+Ce*2+1]|0;else{var Ct=f[Ce-15],Pt=Ct.high,yt=Ct.low,Kt=(Pt>>>1|yt<<31)^(Pt>>>8|yt<<24)^Pt>>>7,Xt=(yt>>>1|Pt<<31)^(yt>>>8|Pt<<24)^(yt>>>7|Pt<<25),lr=f[Ce-2],ge=lr.high,Me=lr.low,Je=(ge>>>19|Me<<13)^(ge<<3|Me>>>29)^ge>>>6,rt=(Me>>>19|ge<<13)^(Me<<3|ge>>>29)^(Me>>>6|ge<<26),Rt=f[Ce-7],Et=Rt.high,Mt=Rt.low,Ot=f[Ce-16],_t=Ot.high,kt=Ot.low;Ue=Xt+Mt,Ve=Kt+Et+(Ue>>>0<Xt>>>0?1:0),Ue=Ue+rt,Ve=Ve+Je+(Ue>>>0<rt>>>0?1:0),Ue=Ue+kt,Ve=Ve+_t+(Ue>>>0<kt>>>0?1:0),tt.high=Ve,tt.low=Ue}var St=oe&Ae^~oe&Y,qt=Ne&Ge^~Ne&ne,$t=De&qe^De&Xe^qe&Xe,Zt=be&Re^be&ft^Re&ft,dr=(De>>>28|be<<4)^(De<<30|be>>>2)^(De<<25|be>>>7),xr=(be>>>28|De<<4)^(be<<30|De>>>2)^(be<<25|De>>>7),ur=(oe>>>14|Ne<<18)^(oe>>>18|Ne<<14)^(oe<<23|Ne>>>9),mr=(Ne>>>14|oe<<18)^(Ne>>>18|oe<<14)^(Ne<<23|oe>>>9),nr=u[Ce],hr=nr.high,Ie=nr.low,O=Se+mr,me=Fe+ur+(O>>>0<Se>>>0?1:0),O=O+qt,me=me+St+(O>>>0<qt>>>0?1:0),O=O+Ie,me=me+hr+(O>>>0<Ie>>>0?1:0),O=O+Ue,me=me+Ve+(O>>>0<Ue>>>0?1:0),ye=xr+Zt,J=dr+$t+(ye>>>0<xr>>>0?1:0);Fe=Y,Se=ne,Y=Ae,ne=Ge,Ae=oe,Ge=Ne,Ne=lt+O|0,oe=at+me+(Ne>>>0<lt>>>0?1:0)|0,at=Xe,lt=ft,Xe=qe,ft=Re,qe=De,Re=be,be=O+ye|0,De=me+J+(be>>>0<O>>>0?1:0)|0}te=y.low=te+be,y.high=M+De+(te>>>0<be>>>0?1:0),Z=x.low=Z+Re,x.high=de+qe+(Z>>>0<Re>>>0?1:0),q=b.low=q+ft,b.high=G+Xe+(q>>>0<ft>>>0?1:0),z=E.low=z+lt,E.high=ie+at+(z>>>0<lt>>>0?1:0),U=_.low=U+Ne,_.high=j+oe+(U>>>0<Ne>>>0?1:0),K=k.low=K+Ge,k.high=V+Ae+(K>>>0<Ge>>>0?1:0),re=B.low=re+ne,B.high=ae+Y+(re>>>0<ne>>>0?1:0),ce=N.low=ce+Se,N.high=le+Fe+(ce>>>0<Se>>>0?1:0)},"_doProcessBlock"),_doFinalize:s(function(){var h=this._data,p=h.words,g=this._nDataBytes*8,y=h.sigBytes*8;p[y>>>5]|=128<<24-y%32,p[(y+128>>>10<<5)+30]=Math.floor(g/4294967296),p[(y+128>>>10<<5)+31]=g,h.sigBytes=p.length*4,this._process();var x=this._hash.toX32();return x},"_doFinalize"),clone:s(function(){var h=n.clone.call(this);return h._hash=this._hash.clone(),h},"clone"),blockSize:1024/32});t.SHA512=n._createHelper(m),t.HmacSHA512=n._createHmacHelper(m)}(),e.SHA512})});var hge=H((oN,mge)=>{d();(function(e,t,r){typeof oN=="object"?mge.exports=oN=t(Ri(),F7(),rJ()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(oN,function(e){return function(){var t=e,r=t.x64,n=r.Word,i=r.WordArray,o=t.algo,a=o.SHA512,l=o.SHA384=a.extend({_doReset:s(function(){this._hash=new i.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},"_doReset"),_doFinalize:s(function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c},"_doFinalize")});t.SHA384=a._createHelper(l),t.HmacSHA384=a._createHmacHelper(l)}(),e.SHA384})});var gge=H((sN,pge)=>{d();(function(e,t,r){typeof sN=="object"?pge.exports=sN=t(Ri(),F7()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(sN,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.x64,l=a.Word,c=r.algo,u=[],f=[],m=[];(function(){for(var g=1,y=0,x=0;x<24;x++){u[g+5*y]=(x+1)*(x+2)/2%64;var b=y%5,E=(2*g+3*y)%5;g=b,y=E}for(var g=0;g<5;g++)for(var y=0;y<5;y++)f[g+5*y]=y+(2*g+3*y)%5*5;for(var _=1,k=0;k<24;k++){for(var B=0,N=0,M=0;M<7;M++){if(_&1){var te=(1<<M)-1;te<32?N^=1<<te:B^=1<<te-32}_&128?_=_<<1^113:_<<=1}m[k]=l.create(B,N)}})();var h=[];(function(){for(var g=0;g<25;g++)h[g]=l.create()})();var p=c.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:s(function(){for(var g=this._state=[],y=0;y<25;y++)g[y]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},"_doReset"),_doProcessBlock:s(function(g,y){for(var x=this._state,b=this.blockSize/2,E=0;E<b;E++){var _=g[y+2*E],k=g[y+2*E+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;var B=x[E];B.high^=k,B.low^=_}for(var N=0;N<24;N++){for(var M=0;M<5;M++){for(var te=0,de=0,Z=0;Z<5;Z++){var B=x[M+5*Z];te^=B.high,de^=B.low}var G=h[M];G.high=te,G.low=de}for(var M=0;M<5;M++)for(var q=h[(M+4)%5],ie=h[(M+1)%5],z=ie.high,j=ie.low,te=q.high^(z<<1|j>>>31),de=q.low^(j<<1|z>>>31),Z=0;Z<5;Z++){var B=x[M+5*Z];B.high^=te,B.low^=de}for(var U=1;U<25;U++){var te,de,B=x[U],V=B.high,K=B.low,ae=u[U];ae<32?(te=V<<ae|K>>>32-ae,de=K<<ae|V>>>32-ae):(te=K<<ae-32|V>>>64-ae,de=V<<ae-32|K>>>64-ae);var re=h[f[U]];re.high=te,re.low=de}var le=h[0],ce=x[0];le.high=ce.high,le.low=ce.low;for(var M=0;M<5;M++)for(var Z=0;Z<5;Z++){var U=M+5*Z,B=x[U],De=h[U],be=h[(M+1)%5+5*Z],qe=h[(M+2)%5+5*Z];B.high=De.high^~be.high&qe.high,B.low=De.low^~be.low&qe.low}var B=x[0],Re=m[N];B.high^=Re.high,B.low^=Re.low}},"_doProcessBlock"),_doFinalize:s(function(){var g=this._data,y=g.words,x=this._nDataBytes*8,b=g.sigBytes*8,E=this.blockSize*32;y[b>>>5]|=1<<24-b%32,y[(t.ceil((b+1)/E)*E>>>5)-1]|=128,g.sigBytes=y.length*4,this._process();for(var _=this._state,k=this.cfg.outputLength/8,B=k/8,N=[],M=0;M<B;M++){var te=_[M],de=te.high,Z=te.low;de=(de<<8|de>>>24)&16711935|(de<<24|de>>>8)&4278255360,Z=(Z<<8|Z>>>24)&16711935|(Z<<24|Z>>>8)&4278255360,N.push(Z),N.push(de)}return new i.init(N,k)},"_doFinalize"),clone:s(function(){for(var g=o.clone.call(this),y=g._state=this._state.slice(0),x=0;x<25;x++)y[x]=y[x].clone();return g},"clone")});r.SHA3=o._createHelper(p),r.HmacSHA3=o._createHmacHelper(p)}(Math),e.SHA3})});var yge=H((aN,Age)=>{d();(function(e,t){typeof aN=="object"?Age.exports=aN=t(Ri()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(aN,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,l=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=o.extend({_doReset:s(function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},"_doReset"),_doProcessBlock:s(function(k,B){for(var N=0;N<16;N++){var M=B+N,te=k[M];k[M]=(te<<8|te>>>24)&16711935|(te<<24|te>>>8)&4278255360}var de=this._hash.words,Z=m.words,G=h.words,q=l.words,ie=c.words,z=u.words,j=f.words,U,V,K,ae,re,le,ce,De,be,qe;le=U=de[0],ce=V=de[1],De=K=de[2],be=ae=de[3],qe=re=de[4];for(var Re,N=0;N<80;N+=1)Re=U+k[B+q[N]]|0,N<16?Re+=g(V,K,ae)+Z[0]:N<32?Re+=y(V,K,ae)+Z[1]:N<48?Re+=x(V,K,ae)+Z[2]:N<64?Re+=b(V,K,ae)+Z[3]:Re+=E(V,K,ae)+Z[4],Re=Re|0,Re=_(Re,z[N]),Re=Re+re|0,U=re,re=ae,ae=_(K,10),K=V,V=Re,Re=le+k[B+ie[N]]|0,N<16?Re+=E(ce,De,be)+G[0]:N<32?Re+=b(ce,De,be)+G[1]:N<48?Re+=x(ce,De,be)+G[2]:N<64?Re+=y(ce,De,be)+G[3]:Re+=g(ce,De,be)+G[4],Re=Re|0,Re=_(Re,j[N]),Re=Re+qe|0,le=qe,qe=be,be=_(De,10),De=ce,ce=Re;Re=de[1]+K+be|0,de[1]=de[2]+ae+qe|0,de[2]=de[3]+re+le|0,de[3]=de[4]+U+ce|0,de[4]=de[0]+V+De|0,de[0]=Re},"_doProcessBlock"),_doFinalize:s(function(){var k=this._data,B=k.words,N=this._nDataBytes*8,M=k.sigBytes*8;B[M>>>5]|=128<<24-M%32,B[(M+64>>>9<<4)+14]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,k.sigBytes=(B.length+1)*4,this._process();for(var te=this._hash,de=te.words,Z=0;Z<5;Z++){var G=de[Z];de[Z]=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360}return te},"_doFinalize"),clone:s(function(){var k=o.clone.call(this);return k._hash=this._hash.clone(),k},"clone")});function g(k,B,N){return k^B^N}s(g,"f1");function y(k,B,N){return k&B|~k&N}s(y,"f2");function x(k,B,N){return(k|~B)^N}s(x,"f3");function b(k,B,N){return k&N|B&~N}s(b,"f4");function E(k,B,N){return k^(B|~N)}s(E,"f5");function _(k,B){return k<<B|k>>>32-B}s(_,"rotl"),r.RIPEMD160=o._createHelper(p),r.HmacRIPEMD160=o._createHmacHelper(p)}(Math),e.RIPEMD160})});var cN=H((lN,Cge)=>{d();(function(e,t){typeof lN=="object"?Cge.exports=lN=t(Ri()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(lN,function(e){(function(){var t=e,r=t.lib,n=r.Base,i=t.enc,o=i.Utf8,a=t.algo,l=a.HMAC=n.extend({init:s(function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=o.parse(u));var f=c.blockSize,m=f*4;u.sigBytes>m&&(u=c.finalize(u)),u.clamp();for(var h=this._oKey=u.clone(),p=this._iKey=u.clone(),g=h.words,y=p.words,x=0;x<f;x++)g[x]^=1549556828,y[x]^=909522486;h.sigBytes=p.sigBytes=m,this.reset()},"init"),reset:s(function(){var c=this._hasher;c.reset(),c.update(this._iKey)},"reset"),update:s(function(c){return this._hasher.update(c),this},"update"),finalize:s(function(c){var u=this._hasher,f=u.finalize(c);u.reset();var m=u.finalize(this._oKey.clone().concat(f));return m},"finalize")})})()})});var vge=H((uN,xge)=>{d();(function(e,t,r){typeof uN=="object"?xge.exports=uN=t(Ri(),rN(),cN()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(uN,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,o=t.algo,a=o.SHA256,l=o.HMAC,c=o.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:s(function(u){this.cfg=this.cfg.extend(u)},"init"),compute:s(function(u,f){for(var m=this.cfg,h=l.create(m.hasher,u),p=i.create(),g=i.create([1]),y=p.words,x=g.words,b=m.keySize,E=m.iterations;y.length<b;){var _=h.update(f).finalize(g);h.reset();for(var k=_.words,B=k.length,N=_,M=1;M<E;M++){N=h.finalize(N),h.reset();for(var te=N.words,de=0;de<B;de++)k[de]^=te[de]}p.concat(_),x[0]++}return p.sigBytes=b*4,p},"compute")});t.PBKDF2=function(u,f,m){return c.create(m).compute(u,f)}}(),e.PBKDF2})});var z1=H((fN,bge)=>{d();(function(e,t,r){typeof fN=="object"?bge.exports=fN=t(Ri(),tJ(),cN()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(fN,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,o=t.algo,a=o.MD5,l=o.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:s(function(c){this.cfg=this.cfg.extend(c)},"init"),compute:s(function(c,u){for(var f,m=this.cfg,h=m.hasher.create(),p=i.create(),g=p.words,y=m.keySize,x=m.iterations;g.length<y;){f&&h.update(f),f=h.update(c).finalize(u),h.reset();for(var b=1;b<x;b++)f=h.finalize(f),h.reset();p.concat(f)}return p.sigBytes=y*4,p},"compute")});t.EvpKDF=function(c,u,f){return l.create(f).compute(c,u)}}(),e.EvpKDF})});var al=H((dN,Ege)=>{d();(function(e,t,r){typeof dN=="object"?Ege.exports=dN=t(Ri(),z1()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(dN,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,l=r.enc,c=l.Utf8,u=l.Base64,f=r.algo,m=f.EvpKDF,h=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:s(function(G,q){return this.create(this._ENC_XFORM_MODE,G,q)},"createEncryptor"),createDecryptor:s(function(G,q){return this.create(this._DEC_XFORM_MODE,G,q)},"createDecryptor"),init:s(function(G,q,ie){this.cfg=this.cfg.extend(ie),this._xformMode=G,this._key=q,this.reset()},"init"),reset:s(function(){a.reset.call(this),this._doReset()},"reset"),process:s(function(G){return this._append(G),this._process()},"process"),finalize:s(function(G){G&&this._append(G);var q=this._doFinalize();return q},"finalize"),keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function G(q){return typeof q=="string"?Z:M}return s(G,"selectCipherStrategy"),function(q){return{encrypt:s(function(ie,z,j){return G(z).encrypt(q,ie,z,j)},"encrypt"),decrypt:s(function(ie,z,j){return G(z).decrypt(q,ie,z,j)},"decrypt")}}}()}),p=n.StreamCipher=h.extend({_doFinalize:s(function(){var G=this._process(!0);return G},"_doFinalize"),blockSize:1}),g=r.mode={},y=n.BlockCipherMode=i.extend({createEncryptor:s(function(G,q){return this.Encryptor.create(G,q)},"createEncryptor"),createDecryptor:s(function(G,q){return this.Decryptor.create(G,q)},"createDecryptor"),init:s(function(G,q){this._cipher=G,this._iv=q},"init")}),x=g.CBC=function(){var G=y.extend();G.Encryptor=G.extend({processBlock:s(function(ie,z){var j=this._cipher,U=j.blockSize;q.call(this,ie,z,U),j.encryptBlock(ie,z),this._prevBlock=ie.slice(z,z+U)},"processBlock")}),G.Decryptor=G.extend({processBlock:s(function(ie,z){var j=this._cipher,U=j.blockSize,V=ie.slice(z,z+U);j.decryptBlock(ie,z),q.call(this,ie,z,U),this._prevBlock=V},"processBlock")});function q(ie,z,j){var U,V=this._iv;V?(U=V,this._iv=t):U=this._prevBlock;for(var K=0;K<j;K++)ie[z+K]^=U[K]}return s(q,"xorBlock"),G}(),b=r.pad={},E=b.Pkcs7={pad:s(function(G,q){for(var ie=q*4,z=ie-G.sigBytes%ie,j=z<<24|z<<16|z<<8|z,U=[],V=0;V<z;V+=4)U.push(j);var K=o.create(U,z);G.concat(K)},"pad"),unpad:s(function(G){var q=G.words[G.sigBytes-1>>>2]&255;G.sigBytes-=q},"unpad")},_=n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:x,padding:E}),reset:s(function(){var G;h.reset.call(this);var q=this.cfg,ie=q.iv,z=q.mode;this._xformMode==this._ENC_XFORM_MODE?G=z.createEncryptor:(G=z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==G?this._mode.init(this,ie&&ie.words):(this._mode=G.call(z,this,ie&&ie.words),this._mode.__creator=G)},"reset"),_doProcessBlock:s(function(G,q){this._mode.processBlock(G,q)},"_doProcessBlock"),_doFinalize:s(function(){var G,q=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(q.pad(this._data,this.blockSize),G=this._process(!0)):(G=this._process(!0),q.unpad(G)),G},"_doFinalize"),blockSize:128/32}),k=n.CipherParams=i.extend({init:s(function(G){this.mixIn(G)},"init"),toString:s(function(G){return(G||this.formatter).stringify(this)},"toString")}),B=r.format={},N=B.OpenSSL={stringify:s(function(G){var q,ie=G.ciphertext,z=G.salt;return z?q=o.create([1398893684,1701076831]).concat(z).concat(ie):q=ie,q.toString(u)},"stringify"),parse:s(function(G){var q,ie=u.parse(G),z=ie.words;return z[0]==1398893684&&z[1]==1701076831&&(q=o.create(z.slice(2,4)),z.splice(0,4),ie.sigBytes-=16),k.create({ciphertext:ie,salt:q})},"parse")},M=n.SerializableCipher=i.extend({cfg:i.extend({format:N}),encrypt:s(function(G,q,ie,z){z=this.cfg.extend(z);var j=G.createEncryptor(ie,z),U=j.finalize(q),V=j.cfg;return k.create({ciphertext:U,key:ie,iv:V.iv,algorithm:G,mode:V.mode,padding:V.padding,blockSize:G.blockSize,formatter:z.format})},"encrypt"),decrypt:s(function(G,q,ie,z){z=this.cfg.extend(z),q=this._parse(q,z.format);var j=G.createDecryptor(ie,z).finalize(q.ciphertext);return j},"decrypt"),_parse:s(function(G,q){return typeof G=="string"?q.parse(G,this):G},"_parse")}),te=r.kdf={},de=te.OpenSSL={execute:s(function(G,q,ie,z,j){if(z||(z=o.random(64/8)),j)var U=m.create({keySize:q+ie,hasher:j}).compute(G,z);else var U=m.create({keySize:q+ie}).compute(G,z);var V=o.create(U.words.slice(q),ie*4);return U.sigBytes=q*4,k.create({key:U,iv:V,salt:z})},"execute")},Z=n.PasswordBasedCipher=M.extend({cfg:M.cfg.extend({kdf:de}),encrypt:s(function(G,q,ie,z){z=this.cfg.extend(z);var j=z.kdf.execute(ie,G.keySize,G.ivSize,z.salt,z.hasher);z.iv=j.iv;var U=M.encrypt.call(this,G,q,j.key,z);return U.mixIn(j),U},"encrypt"),decrypt:s(function(G,q,ie,z){z=this.cfg.extend(z),q=this._parse(q,z.format);var j=z.kdf.execute(ie,G.keySize,G.ivSize,q.salt,z.hasher);z.iv=j.iv;var U=M.decrypt.call(this,G,q,j.key,z);return U},"decrypt")})}()})});var Tge=H((mN,Ige)=>{d();(function(e,t,r){typeof mN=="object"?Ige.exports=mN=t(Ri(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(mN,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:s(function(n,i){var o=this._cipher,a=o.blockSize;r.call(this,n,i,a,o),this._prevBlock=n.slice(i,i+a)},"processBlock")}),t.Decryptor=t.extend({processBlock:s(function(n,i){var o=this._cipher,a=o.blockSize,l=n.slice(i,i+a);r.call(this,n,i,a,o),this._prevBlock=l},"processBlock")});function r(n,i,o,a){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,a.encryptBlock(l,0);for(var u=0;u<o;u++)n[i+u]^=l[u]}return s(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var _ge=H((hN,wge)=>{d();(function(e,t,r){typeof hN=="object"?wge.exports=hN=t(Ri(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(hN,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:s(function(n,i){var o=this._cipher,a=o.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var u=c.slice(0);o.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var f=0;f<a;f++)n[i+f]^=u[f]},"processBlock")});return t.Decryptor=r,t}(),e.mode.CTR})});var Rge=H((pN,Sge)=>{d();(function(e,t,r){typeof pN=="object"?Sge.exports=pN=t(Ri(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(pN,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(o){if((o>>24&255)===255){var a=o>>16&255,l=o>>8&255,c=o&255;a===255?(a=0,l===255?(l=0,c===255?c=0:++c):++l):++a,o=0,o+=a<<16,o+=l<<8,o+=c}else o+=1<<24;return o}s(r,"incWord");function n(o){return(o[0]=r(o[0]))===0&&(o[1]=r(o[1])),o}s(n,"incCounter");var i=t.Encryptor=t.extend({processBlock:s(function(o,a){var l=this._cipher,c=l.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),n(f);var m=f.slice(0);l.encryptBlock(m,0);for(var h=0;h<c;h++)o[a+h]^=m[h]},"processBlock")});return t.Decryptor=i,t}(),e.mode.CTRGladman})});var Bge=H((gN,kge)=>{d();(function(e,t,r){typeof gN=="object"?kge.exports=gN=t(Ri(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(gN,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:s(function(n,i){var o=this._cipher,a=o.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),o.encryptBlock(c,0);for(var u=0;u<a;u++)n[i+u]^=c[u]},"processBlock")});return t.Decryptor=r,t}(),e.mode.OFB})});var Pge=H((AN,Dge)=>{d();(function(e,t,r){typeof AN=="object"?Dge.exports=AN=t(Ri(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(AN,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:s(function(r,n){this._cipher.encryptBlock(r,n)},"processBlock")}),t.Decryptor=t.extend({processBlock:s(function(r,n){this._cipher.decryptBlock(r,n)},"processBlock")}),t}(),e.mode.ECB})});var Lge=H((yN,Nge)=>{d();(function(e,t,r){typeof yN=="object"?Nge.exports=yN=t(Ri(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(yN,function(e){return e.pad.AnsiX923={pad:s(function(t,r){var n=t.sigBytes,i=r*4,o=i-n%i,a=n+o-1;t.clamp(),t.words[a>>>2]|=o<<24-a%4*8,t.sigBytes+=o},"pad"),unpad:s(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Ansix923})});var Mge=H((CN,Fge)=>{d();(function(e,t,r){typeof CN=="object"?Fge.exports=CN=t(Ri(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(CN,function(e){return e.pad.Iso10126={pad:s(function(t,r){var n=r*4,i=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},"pad"),unpad:s(function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r},"unpad")},e.pad.Iso10126})});var Oge=H((xN,Qge)=>{d();(function(e,t,r){typeof xN=="object"?Qge.exports=xN=t(Ri(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(xN,function(e){return e.pad.Iso97971={pad:s(function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},"pad"),unpad:s(function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--},"unpad")},e.pad.Iso97971})});var qge=H((vN,Uge)=>{d();(function(e,t,r){typeof vN=="object"?Uge.exports=vN=t(Ri(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(vN,function(e){return e.pad.ZeroPadding={pad:s(function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},"pad"),unpad:s(function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}},"unpad")},e.pad.ZeroPadding})});var Gge=H((bN,Wge)=>{d();(function(e,t,r){typeof bN=="object"?Wge.exports=bN=t(Ri(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(bN,function(e){return e.pad.NoPadding={pad:s(function(){},"pad"),unpad:s(function(){},"unpad")},e.pad.NoPadding})});var jge=H((EN,Hge)=>{d();(function(e,t,r){typeof EN=="object"?Hge.exports=EN=t(Ri(),al()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(EN,function(e){return function(t){var r=e,n=r.lib,i=n.CipherParams,o=r.enc,a=o.Hex,l=r.format,c=l.Hex={stringify:s(function(u){return u.ciphertext.toString(a)},"stringify"),parse:s(function(u){var f=a.parse(u);return i.create({ciphertext:f})},"parse")}}(),e.format.Hex})});var $ge=H((IN,Vge)=>{d();(function(e,t,r){typeof IN=="object"?Vge.exports=IN=t(Ri(),Zy(),e5(),z1(),al()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(IN,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo,o=[],a=[],l=[],c=[],u=[],f=[],m=[],h=[],p=[],g=[];(function(){for(var b=[],E=0;E<256;E++)E<128?b[E]=E<<1:b[E]=E<<1^283;for(var _=0,k=0,E=0;E<256;E++){var B=k^k<<1^k<<2^k<<3^k<<4;B=B>>>8^B&255^99,o[_]=B,a[B]=_;var N=b[_],M=b[N],te=b[M],de=b[B]*257^B*16843008;l[_]=de<<24|de>>>8,c[_]=de<<16|de>>>16,u[_]=de<<8|de>>>24,f[_]=de;var de=te*16843009^M*65537^N*257^_*16843008;m[B]=de<<24|de>>>8,h[B]=de<<16|de>>>16,p[B]=de<<8|de>>>24,g[B]=de,_?(_=N^b[b[b[te^N]]],k^=b[b[k]]):_=k=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],x=i.AES=n.extend({_doReset:s(function(){var b;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,_=E.words,k=E.sigBytes/4,B=this._nRounds=k+6,N=(B+1)*4,M=this._keySchedule=[],te=0;te<N;te++)te<k?M[te]=_[te]:(b=M[te-1],te%k?k>6&&te%k==4&&(b=o[b>>>24]<<24|o[b>>>16&255]<<16|o[b>>>8&255]<<8|o[b&255]):(b=b<<8|b>>>24,b=o[b>>>24]<<24|o[b>>>16&255]<<16|o[b>>>8&255]<<8|o[b&255],b^=y[te/k|0]<<24),M[te]=M[te-k]^b);for(var de=this._invKeySchedule=[],Z=0;Z<N;Z++){var te=N-Z;if(Z%4)var b=M[te];else var b=M[te-4];Z<4||te<=4?de[Z]=b:de[Z]=m[o[b>>>24]]^h[o[b>>>16&255]]^p[o[b>>>8&255]]^g[o[b&255]]}}},"_doReset"),encryptBlock:s(function(b,E){this._doCryptBlock(b,E,this._keySchedule,l,c,u,f,o)},"encryptBlock"),decryptBlock:s(function(b,E){var _=b[E+1];b[E+1]=b[E+3],b[E+3]=_,this._doCryptBlock(b,E,this._invKeySchedule,m,h,p,g,a);var _=b[E+1];b[E+1]=b[E+3],b[E+3]=_},"decryptBlock"),_doCryptBlock:s(function(b,E,_,k,B,N,M,te){for(var de=this._nRounds,Z=b[E]^_[0],G=b[E+1]^_[1],q=b[E+2]^_[2],ie=b[E+3]^_[3],z=4,j=1;j<de;j++){var U=k[Z>>>24]^B[G>>>16&255]^N[q>>>8&255]^M[ie&255]^_[z++],V=k[G>>>24]^B[q>>>16&255]^N[ie>>>8&255]^M[Z&255]^_[z++],K=k[q>>>24]^B[ie>>>16&255]^N[Z>>>8&255]^M[G&255]^_[z++],ae=k[ie>>>24]^B[Z>>>16&255]^N[G>>>8&255]^M[q&255]^_[z++];Z=U,G=V,q=K,ie=ae}var U=(te[Z>>>24]<<24|te[G>>>16&255]<<16|te[q>>>8&255]<<8|te[ie&255])^_[z++],V=(te[G>>>24]<<24|te[q>>>16&255]<<16|te[ie>>>8&255]<<8|te[Z&255])^_[z++],K=(te[q>>>24]<<24|te[ie>>>16&255]<<16|te[Z>>>8&255]<<8|te[G&255])^_[z++],ae=(te[ie>>>24]<<24|te[Z>>>16&255]<<16|te[G>>>8&255]<<8|te[q&255])^_[z++];b[E]=U,b[E+1]=V,b[E+2]=K,b[E+3]=ae},"_doCryptBlock"),keySize:256/32});t.AES=n._createHelper(x)}(),e.AES})});var Yge=H((TN,zge)=>{d();(function(e,t,r){typeof TN=="object"?zge.exports=TN=t(Ri(),Zy(),e5(),z1(),al()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(TN,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=o.DES=i.extend({_doReset:s(function(){for(var y=this._key,x=y.words,b=[],E=0;E<56;E++){var _=a[E]-1;b[E]=x[_>>>5]>>>31-_%32&1}for(var k=this._subKeys=[],B=0;B<16;B++){for(var N=k[B]=[],M=c[B],E=0;E<24;E++)N[E/6|0]|=b[(l[E]-1+M)%28]<<31-E%6,N[4+(E/6|0)]|=b[28+(l[E+24]-1+M)%28]<<31-E%6;N[0]=N[0]<<1|N[0]>>>31;for(var E=1;E<7;E++)N[E]=N[E]>>>(E-1)*4+3;N[7]=N[7]<<5|N[7]>>>27}for(var te=this._invSubKeys=[],E=0;E<16;E++)te[E]=k[15-E]},"_doReset"),encryptBlock:s(function(y,x){this._doCryptBlock(y,x,this._subKeys)},"encryptBlock"),decryptBlock:s(function(y,x){this._doCryptBlock(y,x,this._invSubKeys)},"decryptBlock"),_doCryptBlock:s(function(y,x,b){this._lBlock=y[x],this._rBlock=y[x+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var E=0;E<16;E++){for(var _=b[E],k=this._lBlock,B=this._rBlock,N=0,M=0;M<8;M++)N|=u[M][((B^_[M])&f[M])>>>0];this._lBlock=B,this._rBlock=k^N}var te=this._lBlock;this._lBlock=this._rBlock,this._rBlock=te,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),y[x]=this._lBlock,y[x+1]=this._rBlock},"_doCryptBlock"),keySize:64/32,ivSize:64/32,blockSize:64/32});function h(y,x){var b=(this._lBlock>>>y^this._rBlock)&x;this._rBlock^=b,this._lBlock^=b<<y}s(h,"exchangeLR");function p(y,x){var b=(this._rBlock>>>y^this._lBlock)&x;this._lBlock^=b,this._rBlock^=b<<y}s(p,"exchangeRL"),t.DES=i._createHelper(m);var g=o.TripleDES=i.extend({_doReset:s(function(){var y=this._key,x=y.words;if(x.length!==2&&x.length!==4&&x.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var b=x.slice(0,2),E=x.length<4?x.slice(0,2):x.slice(2,4),_=x.length<6?x.slice(0,2):x.slice(4,6);this._des1=m.createEncryptor(n.create(b)),this._des2=m.createEncryptor(n.create(E)),this._des3=m.createEncryptor(n.create(_))},"_doReset"),encryptBlock:s(function(y,x){this._des1.encryptBlock(y,x),this._des2.decryptBlock(y,x),this._des3.encryptBlock(y,x)},"encryptBlock"),decryptBlock:s(function(y,x){this._des3.decryptBlock(y,x),this._des2.encryptBlock(y,x),this._des1.decryptBlock(y,x)},"decryptBlock"),keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=i._createHelper(g)}(),e.TripleDES})});var Jge=H((wN,Kge)=>{d();(function(e,t,r){typeof wN=="object"?Kge.exports=wN=t(Ri(),Zy(),e5(),z1(),al()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(wN,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=i.RC4=n.extend({_doReset:s(function(){for(var c=this._key,u=c.words,f=c.sigBytes,m=this._S=[],h=0;h<256;h++)m[h]=h;for(var h=0,p=0;h<256;h++){var g=h%f,y=u[g>>>2]>>>24-g%4*8&255;p=(p+m[h]+y)%256;var x=m[h];m[h]=m[p],m[p]=x}this._i=this._j=0},"_doReset"),_doProcessBlock:s(function(c,u){c[u]^=a.call(this)},"_doProcessBlock"),keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,f=this._j,m=0,h=0;h<4;h++){u=(u+1)%256,f=(f+c[u])%256;var p=c[u];c[u]=c[f],c[f]=p,m|=c[(c[u]+c[f])%256]<<24-h*8}return this._i=u,this._j=f,m}s(a,"generateKeystreamWord"),t.RC4=n._createHelper(o);var l=i.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:s(function(){o._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)},"_doReset")});t.RC4Drop=n._createHelper(l)}(),e.RC4})});var Zge=H((_N,Xge)=>{d();(function(e,t,r){typeof _N=="object"?Xge.exports=_N=t(Ri(),Zy(),e5(),z1(),al()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(_N,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=[],a=[],l=[],c=i.Rabbit=n.extend({_doReset:s(function(){for(var f=this._key.words,m=this.cfg.iv,h=0;h<4;h++)f[h]=(f[h]<<8|f[h]>>>24)&16711935|(f[h]<<24|f[h]>>>8)&4278255360;var p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var h=0;h<4;h++)u.call(this);for(var h=0;h<8;h++)g[h]^=p[h+4&7];if(m){var y=m.words,x=y[0],b=y[1],E=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,_=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,k=E>>>16|_&4294901760,B=_<<16|E&65535;g[0]^=E,g[1]^=k,g[2]^=_,g[3]^=B,g[4]^=E,g[5]^=k,g[6]^=_,g[7]^=B;for(var h=0;h<4;h++)u.call(this)}},"_doReset"),_doProcessBlock:s(function(f,m){var h=this._X;u.call(this),o[0]=h[0]^h[5]>>>16^h[3]<<16,o[1]=h[2]^h[7]>>>16^h[5]<<16,o[2]=h[4]^h[1]>>>16^h[7]<<16,o[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,f[m+p]^=o[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],g=p&65535,y=p>>>16,x=((g*g>>>17)+g*y>>>15)+y*y,b=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=x^b}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var t1e=H((SN,e1e)=>{d();(function(e,t,r){typeof SN=="object"?e1e.exports=SN=t(Ri(),Zy(),e5(),z1(),al()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(SN,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,i=t.algo,o=[],a=[],l=[],c=i.RabbitLegacy=n.extend({_doReset:s(function(){var f=this._key.words,m=this.cfg.iv,h=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],p=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)u.call(this);for(var g=0;g<8;g++)p[g]^=h[g+4&7];if(m){var y=m.words,x=y[0],b=y[1],E=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,_=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,k=E>>>16|_&4294901760,B=_<<16|E&65535;p[0]^=E,p[1]^=k,p[2]^=_,p[3]^=B,p[4]^=E,p[5]^=k,p[6]^=_,p[7]^=B;for(var g=0;g<4;g++)u.call(this)}},"_doReset"),_doProcessBlock:s(function(f,m){var h=this._X;u.call(this),o[0]=h[0]^h[5]>>>16^h[3]<<16,o[1]=h[2]^h[7]>>>16^h[5]<<16,o[2]=h[4]^h[1]>>>16^h[7]<<16,o[3]=h[6]^h[3]>>>16^h[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,f[m+p]^=o[p]},"_doProcessBlock"),blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,h=0;h<8;h++)a[h]=m[h];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<a[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<a[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<a[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<a[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<a[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<a[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<a[6]>>>0?1:0)|0,this._b=m[7]>>>0<a[7]>>>0?1:0;for(var h=0;h<8;h++){var p=f[h]+m[h],g=p&65535,y=p>>>16,x=((g*g>>>17)+g*y>>>15)+y*y,b=((p&4294901760)*p|0)+((p&65535)*p|0);l[h]=x^b}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var n1e=H((RN,r1e)=>{d();(function(e,t,r){typeof RN=="object"?r1e.exports=RN=t(Ri(),Zy(),e5(),z1(),al()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(RN,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,i=t.algo;let o=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(g,y){let x=y>>24&255,b=y>>16&255,E=y>>8&255,_=y&255,k=g.sbox[0][x]+g.sbox[1][b];return k=k^g.sbox[2][E],k=k+g.sbox[3][_],k}s(u,"F");function f(g,y,x){let b=y,E=x,_;for(let k=0;k<o;++k)b=b^g.pbox[k],E=u(g,b)^E,_=b,b=E,E=_;return _=b,b=E,E=_,E=E^g.pbox[o],b=b^g.pbox[o+1],{left:b,right:E}}s(f,"BlowFish_Encrypt");function m(g,y,x){let b=y,E=x,_;for(let k=o+1;k>1;--k)b=b^g.pbox[k],E=u(g,b)^E,_=b,b=E,E=_;return _=b,b=E,E=_,E=E^g.pbox[1],b=b^g.pbox[0],{left:b,right:E}}s(m,"BlowFish_Decrypt");function h(g,y,x){for(let B=0;B<4;B++){g.sbox[B]=[];for(let N=0;N<256;N++)g.sbox[B][N]=l[B][N]}let b=0;for(let B=0;B<o+2;B++)g.pbox[B]=a[B]^y[b],b++,b>=x&&(b=0);let E=0,_=0,k=0;for(let B=0;B<o+2;B+=2)k=f(g,E,_),E=k.left,_=k.right,g.pbox[B]=E,g.pbox[B+1]=_;for(let B=0;B<4;B++)for(let N=0;N<256;N+=2)k=f(g,E,_),E=k.left,_=k.right,g.sbox[B][N]=E,g.sbox[B][N+1]=_;return!0}s(h,"BlowFishInit");var p=i.Blowfish=n.extend({_doReset:s(function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,y=g.words,x=g.sigBytes/4;h(c,y,x)}},"_doReset"),encryptBlock:s(function(g,y){var x=f(c,g[y],g[y+1]);g[y]=x.left,g[y+1]=x.right},"encryptBlock"),decryptBlock:s(function(g,y){var x=m(c,g[y],g[y+1]);g[y]=x.left,g[y+1]=x.right},"decryptBlock"),blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var t5=H((kN,i1e)=>{d();(function(e,t,r){typeof kN=="object"?i1e.exports=kN=t(Ri(),F7(),tge(),nge(),Zy(),sge(),e5(),tJ(),rN(),fge(),rJ(),hge(),gge(),yge(),cN(),vge(),z1(),al(),Tge(),_ge(),Rge(),Bge(),Pge(),Lge(),Mge(),Oge(),qge(),Gge(),jge(),$ge(),Yge(),Jge(),Zge(),t1e(),n1e()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(kN,function(e){return e})});var _I=H(Nc=>{"use strict";d();Object.defineProperty(Nc,"__esModule",{value:!0});Nc.stringArray=Nc.array=Nc.func=Nc.error=Nc.number=Nc.string=Nc.boolean=void 0;function Ktt(e){return e===!0||e===!1}s(Ktt,"boolean");Nc.boolean=Ktt;function y2e(e){return typeof e=="string"||e instanceof String}s(y2e,"string");Nc.string=y2e;function Jtt(e){return typeof e=="number"||e instanceof Number}s(Jtt,"number");Nc.number=Jtt;function Xtt(e){return e instanceof Error}s(Xtt,"error");Nc.error=Xtt;function Ztt(e){return typeof e=="function"}s(Ztt,"func");Nc.func=Ztt;function C2e(e){return Array.isArray(e)}s(C2e,"array");Nc.array=C2e;function ert(e){return C2e(e)&&e.every(t=>y2e(t))}s(ert,"stringArray");Nc.stringArray=ert});var fX=H(Zr=>{"use strict";d();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.Message=Zr.NotificationType9=Zr.NotificationType8=Zr.NotificationType7=Zr.NotificationType6=Zr.NotificationType5=Zr.NotificationType4=Zr.NotificationType3=Zr.NotificationType2=Zr.NotificationType1=Zr.NotificationType0=Zr.NotificationType=Zr.RequestType9=Zr.RequestType8=Zr.RequestType7=Zr.RequestType6=Zr.RequestType5=Zr.RequestType4=Zr.RequestType3=Zr.RequestType2=Zr.RequestType1=Zr.RequestType=Zr.RequestType0=Zr.AbstractMessageSignature=Zr.ParameterStructures=Zr.ResponseError=Zr.ErrorCodes=void 0;var Gx=_I(),qJ;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(qJ||(Zr.ErrorCodes=qJ={}));var WJ=class e extends Error{static{s(this,"ResponseError")}constructor(t,r,n){super(r),this.code=Gx.number(t)?t:qJ.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};Zr.ResponseError=WJ;var Z0=class e{static{s(this,"ParameterStructures")}constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};Zr.ParameterStructures=Z0;Z0.auto=new Z0("auto");Z0.byPosition=new Z0("byPosition");Z0.byName=new Z0("byName");var ds=class{static{s(this,"AbstractMessageSignature")}constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return Z0.auto}};Zr.AbstractMessageSignature=ds;var GJ=class extends ds{static{s(this,"RequestType0")}constructor(t){super(t,0)}};Zr.RequestType0=GJ;var HJ=class extends ds{static{s(this,"RequestType")}constructor(t,r=Z0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Zr.RequestType=HJ;var jJ=class extends ds{static{s(this,"RequestType1")}constructor(t,r=Z0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Zr.RequestType1=jJ;var VJ=class extends ds{static{s(this,"RequestType2")}constructor(t){super(t,2)}};Zr.RequestType2=VJ;var $J=class extends ds{static{s(this,"RequestType3")}constructor(t){super(t,3)}};Zr.RequestType3=$J;var zJ=class extends ds{static{s(this,"RequestType4")}constructor(t){super(t,4)}};Zr.RequestType4=zJ;var YJ=class extends ds{static{s(this,"RequestType5")}constructor(t){super(t,5)}};Zr.RequestType5=YJ;var KJ=class extends ds{static{s(this,"RequestType6")}constructor(t){super(t,6)}};Zr.RequestType6=KJ;var JJ=class extends ds{static{s(this,"RequestType7")}constructor(t){super(t,7)}};Zr.RequestType7=JJ;var XJ=class extends ds{static{s(this,"RequestType8")}constructor(t){super(t,8)}};Zr.RequestType8=XJ;var ZJ=class extends ds{static{s(this,"RequestType9")}constructor(t){super(t,9)}};Zr.RequestType9=ZJ;var eX=class extends ds{static{s(this,"NotificationType")}constructor(t,r=Z0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Zr.NotificationType=eX;var tX=class extends ds{static{s(this,"NotificationType0")}constructor(t){super(t,0)}};Zr.NotificationType0=tX;var rX=class extends ds{static{s(this,"NotificationType1")}constructor(t,r=Z0.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Zr.NotificationType1=rX;var nX=class extends ds{static{s(this,"NotificationType2")}constructor(t){super(t,2)}};Zr.NotificationType2=nX;var iX=class extends ds{static{s(this,"NotificationType3")}constructor(t){super(t,3)}};Zr.NotificationType3=iX;var oX=class extends ds{static{s(this,"NotificationType4")}constructor(t){super(t,4)}};Zr.NotificationType4=oX;var sX=class extends ds{static{s(this,"NotificationType5")}constructor(t){super(t,5)}};Zr.NotificationType5=sX;var aX=class extends ds{static{s(this,"NotificationType6")}constructor(t){super(t,6)}};Zr.NotificationType6=aX;var lX=class extends ds{static{s(this,"NotificationType7")}constructor(t){super(t,7)}};Zr.NotificationType7=lX;var cX=class extends ds{static{s(this,"NotificationType8")}constructor(t){super(t,8)}};Zr.NotificationType8=cX;var uX=class extends ds{static{s(this,"NotificationType9")}constructor(t){super(t,9)}};Zr.NotificationType9=uX;var x2e;(function(e){function t(i){let o=i;return o&&Gx.string(o.method)&&(Gx.string(o.id)||Gx.number(o.id))}s(t,"isRequest"),e.isRequest=t;function r(i){let o=i;return o&&Gx.string(o.method)&&i.id===void 0}s(r,"isNotification"),e.isNotification=r;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(Gx.string(o.id)||Gx.number(o.id)||o.id===null)}s(n,"isResponse"),e.isResponse=n})(x2e||(Zr.Message=x2e={}))});var mX=H(f5=>{"use strict";d();var v2e;Object.defineProperty(f5,"__esModule",{value:!0});f5.LRUCache=f5.LinkedMap=f5.Touch=void 0;var Lc;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(Lc||(f5.Touch=Lc={}));var oL=class{static{s(this,"LinkedMap")}constructor(){this[v2e]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=Lc.None){let n=this._map.get(t);if(n)return r!==Lc.None&&this.touch(n,r),n.value}set(t,r,n=Lc.None){let i=this._map.get(t);if(i)i.value=r,n!==Lc.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case Lc.None:this.addItemLast(i);break;case Lc.First:this.addItemFirst(i);break;case Lc.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(v2e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Lc.First&&r!==Lc.Last)){if(r===Lc.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===Lc.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};f5.LinkedMap=oL;var dX=class extends oL{static{s(this,"LRUCache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=Lc.AsNew){return super.get(t,r)}peek(t){return super.get(t,Lc.None)}set(t,r){return super.set(t,r,Lc.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};f5.LRUCache=dX});var E2e=H(sL=>{"use strict";d();Object.defineProperty(sL,"__esModule",{value:!0});sL.Disposable=void 0;var b2e;(function(e){function t(r){return{dispose:r}}s(t,"create"),e.create=t})(b2e||(sL.Disposable=b2e={}))});var d5=H(gX=>{"use strict";d();Object.defineProperty(gX,"__esModule",{value:!0});var hX;function pX(){if(hX===void 0)throw new Error("No runtime abstraction layer installed");return hX}s(pX,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");hX=r}s(t,"install"),e.install=t})(pX||(pX={}));gX.default=pX});var RI=H(SI=>{"use strict";d();Object.defineProperty(SI,"__esModule",{value:!0});SI.Emitter=SI.Event=void 0;var trt=d5(),I2e;(function(e){let t={dispose(){}};e.None=function(){return t}})(I2e||(SI.Event=I2e={}));var AX=class{static{s(this,"CallbackList")}add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:s(()=>this.remove(t,r),"dispose")})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,a=n.length;o<a;o++)try{r.push(n[o].apply(i[o],t))}catch(l){(0,trt.default)().console.error(l)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},aL=class e{static{s(this,"Emitter")}constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new AX),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:s(()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};SI.Emitter=aL;aL._noop=function(){}});var uL=H(kI=>{"use strict";d();Object.defineProperty(kI,"__esModule",{value:!0});kI.CancellationTokenSource=kI.CancellationToken=void 0;var rrt=d5(),nrt=_I(),yX=RI(),lL;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:yX.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:yX.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||nrt.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}s(t,"is"),e.is=t})(lL||(kI.CancellationToken=lL={}));var irt=Object.freeze(function(e,t){let r=(0,rrt.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),cL=class{static{s(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?irt:(this._emitter||(this._emitter=new yX.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},CX=class{static{s(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new cL),this._token}cancel(){this._token?this._token.cancel():this._token=lL.Cancelled}dispose(){this._token?this._token instanceof cL&&this._token.dispose():this._token=lL.None}};kI.CancellationTokenSource=CX});var T2e=H(BI=>{"use strict";d();Object.defineProperty(BI,"__esModule",{value:!0});BI.SharedArrayReceiverStrategy=BI.SharedArraySenderStrategy=void 0;var ort=uL(),r_;(function(e){e.Continue=0,e.Cancelled=1})(r_||(r_={}));var xX=class{static{s(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=r_.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,r_.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};BI.SharedArraySenderStrategy=xX;var vX=class{static{s(this,"SharedArrayBufferCancellationToken")}constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===r_.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},bX=class{static{s(this,"SharedArrayBufferCancellationTokenSource")}constructor(t){this.token=new vX(t)}cancel(){}dispose(){}},EX=class{static{s(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new ort.CancellationTokenSource:new bX(r)}};BI.SharedArrayReceiverStrategy=EX});var TX=H(fL=>{"use strict";d();Object.defineProperty(fL,"__esModule",{value:!0});fL.Semaphore=void 0;var srt=d5(),IX=class{static{s(this,"Semaphore")}constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,srt.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};fL.Semaphore=IX});var _2e=H(m5=>{"use strict";d();Object.defineProperty(m5,"__esModule",{value:!0});m5.ReadableStreamMessageReader=m5.AbstractMessageReader=m5.MessageReader=void 0;var _X=d5(),DI=_I(),wX=RI(),art=TX(),w2e;(function(e){function t(r){let n=r;return n&&DI.func(n.listen)&&DI.func(n.dispose)&&DI.func(n.onError)&&DI.func(n.onClose)&&DI.func(n.onPartialMessage)}s(t,"is"),e.is=t})(w2e||(m5.MessageReader=w2e={}));var dL=class{static{s(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new wX.Emitter,this.closeEmitter=new wX.Emitter,this.partialMessageEmitter=new wX.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${DI.string(t.message)?t.message:"unknown"}`)}};m5.AbstractMessageReader=dL;var SX;(function(e){function t(r){let n,i,o,a=new Map,l,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,a.set(o.name,o)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)a.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(l=r.contentTypeDecoder,c.set(l.name,l)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return l===void 0&&(l=(0,_X.default)().applicationJson.decoder,c.set(l.name,l)),{charset:n,contentDecoder:o,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:c}}s(t,"fromOptions"),e.fromOptions=t})(SX||(SX={}));var RX=class extends dL{static{s(this,"ReadableStreamMessageReader")}constructor(t,r){super(),this.readable=t,this.options=SX.fromOptions(r),this.buffer=(0,_X.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new art.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,_X.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};m5.ReadableStreamMessageReader=RX});var D2e=H(h5=>{"use strict";d();Object.defineProperty(h5,"__esModule",{value:!0});h5.WriteableStreamMessageWriter=h5.AbstractMessageWriter=h5.MessageWriter=void 0;var S2e=d5(),n_=_I(),lrt=TX(),R2e=RI(),crt="Content-Length: ",k2e=`\r
`,B2e;(function(e){function t(r){let n=r;return n&&n_.func(n.dispose)&&n_.func(n.onClose)&&n_.func(n.onError)&&n_.func(n.write)}s(t,"is"),e.is=t})(B2e||(h5.MessageWriter=B2e={}));var mL=class{static{s(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new R2e.Emitter,this.closeEmitter=new R2e.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${n_.string(t.message)?t.message:"unknown"}`)}};h5.AbstractMessageWriter=mL;var kX;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,S2e.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,S2e.default)().applicationJson.encoder}}s(t,"fromOptions"),e.fromOptions=t})(kX||(kX={}));var BX=class extends mL{static{s(this,"WriteableStreamMessageWriter")}constructor(t,r){super(),this.writable=t,this.options=kX.fromOptions(r),this.errorCount=0,this.writeSemaphore=new lrt.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(crt,n.byteLength.toString(),k2e),i.push(k2e),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};h5.WriteableStreamMessageWriter=BX});var P2e=H(hL=>{"use strict";d();Object.defineProperty(hL,"__esModule",{value:!0});hL.AbstractMessageBuffer=void 0;var urt=13,frt=10,drt=`\r
`,DX=class{static{s(this,"AbstractMessageBuffer")}constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case urt:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case frt:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}o+=u.byteLength,n++}if(r!==4)return;let a=this._read(o+i),l=new Map,c=this.toString(a,"ascii").split(drt);if(c.length<2)return l;for(let u=0;u<c.length-2;u++){let f=c[u],m=f.indexOf(":");if(m===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let h=f.substr(0,m),p=f.substr(m+1).trim();l.set(t?h.toLowerCase():h,p)}return l}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],a=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let o=this._chunks[i];if(o.byteLength>t){let a=o.slice(0,t);r.set(a,n),n+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return r}};hL.AbstractMessageBuffer=DX});var Q2e=H(Jn=>{"use strict";d();Object.defineProperty(Jn,"__esModule",{value:!0});Jn.createMessageConnection=Jn.ConnectionOptions=Jn.MessageStrategy=Jn.CancellationStrategy=Jn.CancellationSenderStrategy=Jn.CancellationReceiverStrategy=Jn.RequestCancellationReceiverStrategy=Jn.IdCancellationReceiverStrategy=Jn.ConnectionStrategy=Jn.ConnectionError=Jn.ConnectionErrors=Jn.LogTraceNotification=Jn.SetTraceNotification=Jn.TraceFormat=Jn.TraceValues=Jn.Trace=Jn.NullLogger=Jn.ProgressType=Jn.ProgressToken=void 0;var N2e=d5(),Ys=_I(),Rn=fX(),L2e=mX(),i_=RI(),PX=uL(),a_;(function(e){e.type=new Rn.NotificationType("$/cancelRequest")})(a_||(a_={}));var NX;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}s(t,"is"),e.is=t})(NX||(Jn.ProgressToken=NX={}));var o_;(function(e){e.type=new Rn.NotificationType("$/progress")})(o_||(o_={}));var LX=class{static{s(this,"ProgressType")}constructor(){}};Jn.ProgressType=LX;var FX;(function(e){function t(r){return Ys.func(r)}s(t,"is"),e.is=t})(FX||(FX={}));Jn.NullLogger=Object.freeze({error:s(()=>{},"error"),warn:s(()=>{},"warn"),info:s(()=>{},"info"),log:s(()=>{},"log")});var po;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(po||(Jn.Trace=po={}));var F2e;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(F2e||(Jn.TraceValues=F2e={}));(function(e){function t(n){if(!Ys.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}s(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}s(r,"toString"),e.toString=r})(po||(Jn.Trace=po={}));var Xu;(function(e){e.Text="text",e.JSON="json"})(Xu||(Jn.TraceFormat=Xu={}));(function(e){function t(r){return Ys.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}s(t,"fromString"),e.fromString=t})(Xu||(Jn.TraceFormat=Xu={}));var MX;(function(e){e.type=new Rn.NotificationType("$/setTrace")})(MX||(Jn.SetTraceNotification=MX={}));var pL;(function(e){e.type=new Rn.NotificationType("$/logTrace")})(pL||(Jn.LogTraceNotification=pL={}));var s_;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(s_||(Jn.ConnectionErrors=s_={}));var PI=class e extends Error{static{s(this,"ConnectionError")}constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};Jn.ConnectionError=PI;var QX;(function(e){function t(r){let n=r;return n&&Ys.func(n.cancelUndispatched)}s(t,"is"),e.is=t})(QX||(Jn.ConnectionStrategy=QX={}));var gL;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Ys.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Ys.func(n.dispose))}s(t,"is"),e.is=t})(gL||(Jn.IdCancellationReceiverStrategy=gL={}));var OX;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Ys.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Ys.func(n.dispose))}s(t,"is"),e.is=t})(OX||(Jn.RequestCancellationReceiverStrategy=OX={}));var AL;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new PX.CancellationTokenSource}});function t(r){return gL.is(r)||OX.is(r)}s(t,"is"),e.is=t})(AL||(Jn.CancellationReceiverStrategy=AL={}));var yL;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(a_.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Ys.func(n.sendCancellation)&&Ys.func(n.cleanup)}s(t,"is"),e.is=t})(yL||(Jn.CancellationSenderStrategy=yL={}));var CL;(function(e){e.Message=Object.freeze({receiver:AL.Message,sender:yL.Message});function t(r){let n=r;return n&&AL.is(n.receiver)&&yL.is(n.sender)}s(t,"is"),e.is=t})(CL||(Jn.CancellationStrategy=CL={}));var xL;(function(e){function t(r){let n=r;return n&&Ys.func(n.handleMessage)}s(t,"is"),e.is=t})(xL||(Jn.MessageStrategy=xL={}));var M2e;(function(e){function t(r){let n=r;return n&&(CL.is(n.cancellationStrategy)||QX.is(n.connectionStrategy)||xL.is(n.messageStrategy))}s(t,"is"),e.is=t})(M2e||(Jn.ConnectionOptions=M2e={}));var nh;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(nh||(nh={}));function mrt(e,t,r,n){let i=r!==void 0?r:Jn.NullLogger,o=0,a=0,l=0,c="2.0",u,f=new Map,m,h=new Map,p=new Map,g,y=new L2e.LinkedMap,x=new Map,b=new Set,E=new Map,_=po.Off,k=Xu.Text,B,N=nh.New,M=new i_.Emitter,te=new i_.Emitter,de=new i_.Emitter,Z=new i_.Emitter,G=new i_.Emitter,q=n&&n.cancellationStrategy?n.cancellationStrategy:CL.Message;function ie(ge){if(ge===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+ge.toString()}s(ie,"createRequestQueueKey");function z(ge){return ge===null?"res-unknown-"+(++l).toString():"res-"+ge.toString()}s(z,"createResponseQueueKey");function j(){return"not-"+(++a).toString()}s(j,"createNotificationQueueKey");function U(ge,Me){Rn.Message.isRequest(Me)?ge.set(ie(Me.id),Me):Rn.Message.isResponse(Me)?ge.set(z(Me.id),Me):ge.set(j(),Me)}s(U,"addMessageToQueue");function V(ge){}s(V,"cancelUndispatched");function K(){return N===nh.Listening}s(K,"isListening");function ae(){return N===nh.Closed}s(ae,"isClosed");function re(){return N===nh.Disposed}s(re,"isDisposed");function le(){(N===nh.New||N===nh.Listening)&&(N=nh.Closed,te.fire(void 0))}s(le,"closeHandler");function ce(ge){M.fire([ge,void 0,void 0])}s(ce,"readErrorHandler");function De(ge){M.fire(ge)}s(De,"writeErrorHandler"),e.onClose(le),e.onError(ce),t.onClose(le),t.onError(De);function be(){g||y.size===0||(g=(0,N2e.default)().timer.setImmediate(()=>{g=void 0,Re()}))}s(be,"triggerMessageQueue");function qe(ge){Rn.Message.isRequest(ge)?ft(ge):Rn.Message.isNotification(ge)?lt(ge):Rn.Message.isResponse(ge)?at(ge):oe(ge)}s(qe,"handleMessage");function Re(){if(y.size===0)return;let ge=y.shift();try{let Me=n?.messageStrategy;xL.is(Me)?Me.handleMessage(ge,qe):qe(ge)}finally{be()}}s(Re,"processMessageQueue");let Xe=s(ge=>{try{if(Rn.Message.isNotification(ge)&&ge.method===a_.type.method){let Me=ge.params.id,Je=ie(Me),rt=y.get(Je);if(Rn.Message.isRequest(rt)){let Et=n?.connectionStrategy,Mt=Et&&Et.cancelUndispatched?Et.cancelUndispatched(rt,V):void 0;if(Mt&&(Mt.error!==void 0||Mt.result!==void 0)){y.delete(Je),E.delete(Me),Mt.id=rt.id,Y(Mt,ge.method,Date.now()),t.write(Mt).catch(()=>i.error("Sending response for canceled message failed."));return}}let Rt=E.get(Me);if(Rt!==void 0){Rt.cancel(),Fe(ge);return}else b.add(Me)}U(y,ge)}finally{be()}},"callback");function ft(ge){if(re())return;function Me(_t,kt,St){let qt={jsonrpc:c,id:ge.id};_t instanceof Rn.ResponseError?qt.error=_t.toJson():qt.result=_t===void 0?null:_t,Y(qt,kt,St),t.write(qt).catch(()=>i.error("Sending response failed."))}s(Me,"reply");function Je(_t,kt,St){let qt={jsonrpc:c,id:ge.id,error:_t.toJson()};Y(qt,kt,St),t.write(qt).catch(()=>i.error("Sending response failed."))}s(Je,"replyError");function rt(_t,kt,St){_t===void 0&&(_t=null);let qt={jsonrpc:c,id:ge.id,result:_t};Y(qt,kt,St),t.write(qt).catch(()=>i.error("Sending response failed."))}s(rt,"replySuccess"),ne(ge);let Rt=f.get(ge.method),Et,Mt;Rt&&(Et=Rt.type,Mt=Rt.handler);let Ot=Date.now();if(Mt||u){let _t=ge.id??String(Date.now()),kt=gL.is(q.receiver)?q.receiver.createCancellationTokenSource(_t):q.receiver.createCancellationTokenSource(ge);ge.id!==null&&b.has(ge.id)&&kt.cancel(),ge.id!==null&&E.set(_t,kt);try{let St;if(Mt)if(ge.params===void 0){if(Et!==void 0&&Et.numberOfParams!==0){Je(new Rn.ResponseError(Rn.ErrorCodes.InvalidParams,`Request ${ge.method} defines ${Et.numberOfParams} params but received none.`),ge.method,Ot);return}St=Mt(kt.token)}else if(Array.isArray(ge.params)){if(Et!==void 0&&Et.parameterStructures===Rn.ParameterStructures.byName){Je(new Rn.ResponseError(Rn.ErrorCodes.InvalidParams,`Request ${ge.method} defines parameters by name but received parameters by position`),ge.method,Ot);return}St=Mt(...ge.params,kt.token)}else{if(Et!==void 0&&Et.parameterStructures===Rn.ParameterStructures.byPosition){Je(new Rn.ResponseError(Rn.ErrorCodes.InvalidParams,`Request ${ge.method} defines parameters by position but received parameters by name`),ge.method,Ot);return}St=Mt(ge.params,kt.token)}else u&&(St=u(ge.method,ge.params,kt.token));let qt=St;St?qt.then?qt.then($t=>{E.delete(_t),Me($t,ge.method,Ot)},$t=>{E.delete(_t),$t instanceof Rn.ResponseError?Je($t,ge.method,Ot):$t&&Ys.string($t.message)?Je(new Rn.ResponseError(Rn.ErrorCodes.InternalError,`Request ${ge.method} failed with message: ${$t.message}`),ge.method,Ot):Je(new Rn.ResponseError(Rn.ErrorCodes.InternalError,`Request ${ge.method} failed unexpectedly without providing any details.`),ge.method,Ot)}):(E.delete(_t),Me(St,ge.method,Ot)):(E.delete(_t),rt(St,ge.method,Ot))}catch(St){E.delete(_t),St instanceof Rn.ResponseError?Me(St,ge.method,Ot):St&&Ys.string(St.message)?Je(new Rn.ResponseError(Rn.ErrorCodes.InternalError,`Request ${ge.method} failed with message: ${St.message}`),ge.method,Ot):Je(new Rn.ResponseError(Rn.ErrorCodes.InternalError,`Request ${ge.method} failed unexpectedly without providing any details.`),ge.method,Ot)}}else Je(new Rn.ResponseError(Rn.ErrorCodes.MethodNotFound,`Unhandled method ${ge.method}`),ge.method,Ot)}s(ft,"handleRequest");function at(ge){if(!re())if(ge.id===null)ge.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(ge.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Me=ge.id,Je=x.get(Me);if(Se(ge,Je),Je!==void 0){x.delete(Me);try{if(ge.error){let rt=ge.error;Je.reject(new Rn.ResponseError(rt.code,rt.message,rt.data))}else if(ge.result!==void 0)Je.resolve(ge.result);else throw new Error("Should never happen.")}catch(rt){rt.message?i.error(`Response handler '${Je.method}' failed with message: ${rt.message}`):i.error(`Response handler '${Je.method}' failed unexpectedly.`)}}}}s(at,"handleResponse");function lt(ge){if(re())return;let Me,Je;if(ge.method===a_.type.method){let rt=ge.params.id;b.delete(rt),Fe(ge);return}else{let rt=h.get(ge.method);rt&&(Je=rt.handler,Me=rt.type)}if(Je||m)try{if(Fe(ge),Je)if(ge.params===void 0)Me!==void 0&&Me.numberOfParams!==0&&Me.parameterStructures!==Rn.ParameterStructures.byName&&i.error(`Notification ${ge.method} defines ${Me.numberOfParams} params but received none.`),Je();else if(Array.isArray(ge.params)){let rt=ge.params;ge.method===o_.type.method&&rt.length===2&&NX.is(rt[0])?Je({token:rt[0],value:rt[1]}):(Me!==void 0&&(Me.parameterStructures===Rn.ParameterStructures.byName&&i.error(`Notification ${ge.method} defines parameters by name but received parameters by position`),Me.numberOfParams!==ge.params.length&&i.error(`Notification ${ge.method} defines ${Me.numberOfParams} params but received ${rt.length} arguments`)),Je(...rt))}else Me!==void 0&&Me.parameterStructures===Rn.ParameterStructures.byPosition&&i.error(`Notification ${ge.method} defines parameters by position but received parameters by name`),Je(ge.params);else m&&m(ge.method,ge.params)}catch(rt){rt.message?i.error(`Notification handler '${ge.method}' failed with message: ${rt.message}`):i.error(`Notification handler '${ge.method}' failed unexpectedly.`)}else de.fire(ge)}s(lt,"handleNotification");function oe(ge){if(!ge){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(ge,null,4)}`);let Me=ge;if(Ys.string(Me.id)||Ys.number(Me.id)){let Je=Me.id,rt=x.get(Je);rt&&rt.reject(new Error("The received response has neither a result nor an error property."))}}s(oe,"handleInvalidMessage");function Ne(ge){if(ge!=null)switch(_){case po.Verbose:return JSON.stringify(ge,null,4);case po.Compact:return JSON.stringify(ge);default:return}}s(Ne,"stringifyTrace");function Ae(ge){if(!(_===po.Off||!B))if(k===Xu.Text){let Me;(_===po.Verbose||_===po.Compact)&&ge.params&&(Me=`Params: ${Ne(ge.params)}

`),B.log(`Sending request '${ge.method} - (${ge.id})'.`,Me)}else Ce("send-request",ge)}s(Ae,"traceSendingRequest");function Ge(ge){if(!(_===po.Off||!B))if(k===Xu.Text){let Me;(_===po.Verbose||_===po.Compact)&&(ge.params?Me=`Params: ${Ne(ge.params)}

`:Me=`No parameters provided.

`),B.log(`Sending notification '${ge.method}'.`,Me)}else Ce("send-notification",ge)}s(Ge,"traceSendingNotification");function Y(ge,Me,Je){if(!(_===po.Off||!B))if(k===Xu.Text){let rt;(_===po.Verbose||_===po.Compact)&&(ge.error&&ge.error.data?rt=`Error data: ${Ne(ge.error.data)}

`:ge.result?rt=`Result: ${Ne(ge.result)}

`:ge.error===void 0&&(rt=`No result returned.

`)),B.log(`Sending response '${Me} - (${ge.id})'. Processing request took ${Date.now()-Je}ms`,rt)}else Ce("send-response",ge)}s(Y,"traceSendingResponse");function ne(ge){if(!(_===po.Off||!B))if(k===Xu.Text){let Me;(_===po.Verbose||_===po.Compact)&&ge.params&&(Me=`Params: ${Ne(ge.params)}

`),B.log(`Received request '${ge.method} - (${ge.id})'.`,Me)}else Ce("receive-request",ge)}s(ne,"traceReceivedRequest");function Fe(ge){if(!(_===po.Off||!B||ge.method===pL.type.method))if(k===Xu.Text){let Me;(_===po.Verbose||_===po.Compact)&&(ge.params?Me=`Params: ${Ne(ge.params)}

`:Me=`No parameters provided.

`),B.log(`Received notification '${ge.method}'.`,Me)}else Ce("receive-notification",ge)}s(Fe,"traceReceivedNotification");function Se(ge,Me){if(!(_===po.Off||!B))if(k===Xu.Text){let Je;if((_===po.Verbose||_===po.Compact)&&(ge.error&&ge.error.data?Je=`Error data: ${Ne(ge.error.data)}

`:ge.result?Je=`Result: ${Ne(ge.result)}

`:ge.error===void 0&&(Je=`No result returned.

`)),Me){let rt=ge.error?` Request failed: ${ge.error.message} (${ge.error.code}).`:"";B.log(`Received response '${Me.method} - (${ge.id})' in ${Date.now()-Me.timerStart}ms.${rt}`,Je)}else B.log(`Received response ${ge.id} without active response promise.`,Je)}else Ce("receive-response",ge)}s(Se,"traceReceivedResponse");function Ce(ge,Me){if(!B||_===po.Off)return;let Je={isLSPMessage:!0,type:ge,message:Me,timestamp:Date.now()};B.log(Je)}s(Ce,"logLSPMessage");function Ue(){if(ae())throw new PI(s_.Closed,"Connection is closed.");if(re())throw new PI(s_.Disposed,"Connection is disposed.")}s(Ue,"throwIfClosedOrDisposed");function Ve(){if(K())throw new PI(s_.AlreadyListening,"Connection is already listening")}s(Ve,"throwIfListening");function tt(){if(!K())throw new Error("Call listen() first.")}s(tt,"throwIfNotListening");function Ct(ge){return ge===void 0?null:ge}s(Ct,"undefinedToNull");function Pt(ge){if(ge!==null)return ge}s(Pt,"nullToUndefined");function yt(ge){return ge!=null&&!Array.isArray(ge)&&typeof ge=="object"}s(yt,"isNamedParam");function Kt(ge,Me){switch(ge){case Rn.ParameterStructures.auto:return yt(Me)?Pt(Me):[Ct(Me)];case Rn.ParameterStructures.byName:if(!yt(Me))throw new Error("Received parameters by name but param is not an object literal.");return Pt(Me);case Rn.ParameterStructures.byPosition:return[Ct(Me)];default:throw new Error(`Unknown parameter structure ${ge.toString()}`)}}s(Kt,"computeSingleParam");function Xt(ge,Me){let Je,rt=ge.numberOfParams;switch(rt){case 0:Je=void 0;break;case 1:Je=Kt(ge.parameterStructures,Me[0]);break;default:Je=[];for(let Rt=0;Rt<Me.length&&Rt<rt;Rt++)Je.push(Ct(Me[Rt]));if(Me.length<rt)for(let Rt=Me.length;Rt<rt;Rt++)Je.push(null);break}return Je}s(Xt,"computeMessageParams");let lr={sendNotification:s((ge,...Me)=>{Ue();let Je,rt;if(Ys.string(ge)){Je=ge;let Et=Me[0],Mt=0,Ot=Rn.ParameterStructures.auto;Rn.ParameterStructures.is(Et)&&(Mt=1,Ot=Et);let _t=Me.length,kt=_t-Mt;switch(kt){case 0:rt=void 0;break;case 1:rt=Kt(Ot,Me[Mt]);break;default:if(Ot===Rn.ParameterStructures.byName)throw new Error(`Received ${kt} parameters for 'by Name' notification parameter structure.`);rt=Me.slice(Mt,_t).map(St=>Ct(St));break}}else{let Et=Me;Je=ge.method,rt=Xt(ge,Et)}let Rt={jsonrpc:c,method:Je,params:rt};return Ge(Rt),t.write(Rt).catch(Et=>{throw i.error("Sending notification failed."),Et})},"sendNotification"),onNotification:s((ge,Me)=>{Ue();let Je;return Ys.func(ge)?m=ge:Me&&(Ys.string(ge)?(Je=ge,h.set(ge,{type:void 0,handler:Me})):(Je=ge.method,h.set(ge.method,{type:ge,handler:Me}))),{dispose:s(()=>{Je!==void 0?h.delete(Je):m=void 0},"dispose")}},"onNotification"),onProgress:s((ge,Me,Je)=>{if(p.has(Me))throw new Error(`Progress handler for token ${Me} already registered`);return p.set(Me,Je),{dispose:s(()=>{p.delete(Me)},"dispose")}},"onProgress"),sendProgress:s((ge,Me,Je)=>lr.sendNotification(o_.type,{token:Me,value:Je}),"sendProgress"),onUnhandledProgress:Z.event,sendRequest:s((ge,...Me)=>{Ue(),tt();let Je,rt,Rt;if(Ys.string(ge)){Je=ge;let _t=Me[0],kt=Me[Me.length-1],St=0,qt=Rn.ParameterStructures.auto;Rn.ParameterStructures.is(_t)&&(St=1,qt=_t);let $t=Me.length;PX.CancellationToken.is(kt)&&($t=$t-1,Rt=kt);let Zt=$t-St;switch(Zt){case 0:rt=void 0;break;case 1:rt=Kt(qt,Me[St]);break;default:if(qt===Rn.ParameterStructures.byName)throw new Error(`Received ${Zt} parameters for 'by Name' request parameter structure.`);rt=Me.slice(St,$t).map(dr=>Ct(dr));break}}else{let _t=Me;Je=ge.method,rt=Xt(ge,_t);let kt=ge.numberOfParams;Rt=PX.CancellationToken.is(_t[kt])?_t[kt]:void 0}let Et=o++,Mt;Rt&&(Mt=Rt.onCancellationRequested(()=>{let _t=q.sender.sendCancellation(lr,Et);return _t===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Et}`),Promise.resolve()):_t.catch(()=>{i.log(`Sending cancellation messages for id ${Et} failed`)})}));let Ot={jsonrpc:c,id:Et,method:Je,params:rt};return Ae(Ot),typeof q.sender.enableCancellation=="function"&&q.sender.enableCancellation(Ot),new Promise(async(_t,kt)=>{let St=s(Zt=>{_t(Zt),q.sender.cleanup(Et),Mt?.dispose()},"resolveWithCleanup"),qt=s(Zt=>{kt(Zt),q.sender.cleanup(Et),Mt?.dispose()},"rejectWithCleanup"),$t={method:Je,timerStart:Date.now(),resolve:St,reject:qt};try{await t.write(Ot),x.set(Et,$t)}catch(Zt){throw i.error("Sending request failed."),$t.reject(new Rn.ResponseError(Rn.ErrorCodes.MessageWriteError,Zt.message?Zt.message:"Unknown reason")),Zt}})},"sendRequest"),onRequest:s((ge,Me)=>{Ue();let Je=null;return FX.is(ge)?(Je=void 0,u=ge):Ys.string(ge)?(Je=null,Me!==void 0&&(Je=ge,f.set(ge,{handler:Me,type:void 0}))):Me!==void 0&&(Je=ge.method,f.set(ge.method,{type:ge,handler:Me})),{dispose:s(()=>{Je!==null&&(Je!==void 0?f.delete(Je):u=void 0)},"dispose")}},"onRequest"),hasPendingResponse:s(()=>x.size>0,"hasPendingResponse"),trace:s(async(ge,Me,Je)=>{let rt=!1,Rt=Xu.Text;Je!==void 0&&(Ys.boolean(Je)?rt=Je:(rt=Je.sendNotification||!1,Rt=Je.traceFormat||Xu.Text)),_=ge,k=Rt,_===po.Off?B=void 0:B=Me,rt&&!ae()&&!re()&&await lr.sendNotification(MX.type,{value:po.toString(ge)})},"trace"),onError:M.event,onClose:te.event,onUnhandledNotification:de.event,onDispose:G.event,end:s(()=>{t.end()},"end"),dispose:s(()=>{if(re())return;N=nh.Disposed,G.fire(void 0);let ge=new Rn.ResponseError(Rn.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Me of x.values())Me.reject(ge);x=new Map,E=new Map,b=new Set,y=new L2e.LinkedMap,Ys.func(t.dispose)&&t.dispose(),Ys.func(e.dispose)&&e.dispose()},"dispose"),listen:s(()=>{Ue(),Ve(),N=nh.Listening,e.listen(Xe)},"listen"),inspect:s(()=>{(0,N2e.default)().console.log("inspect")},"inspect")};return lr.onNotification(pL.type,ge=>{if(_===po.Off||!B)return;let Me=_===po.Verbose||_===po.Compact;B.log(ge.message,Me?ge.verbose:void 0)}),lr.onNotification(o_.type,ge=>{let Me=p.get(ge.token);Me?Me(ge.value):Z.fire(ge)}),lr}s(mrt,"createMessageConnection");Jn.createMessageConnection=mrt});var vL=H(gt=>{"use strict";d();Object.defineProperty(gt,"__esModule",{value:!0});gt.ProgressType=gt.ProgressToken=gt.createMessageConnection=gt.NullLogger=gt.ConnectionOptions=gt.ConnectionStrategy=gt.AbstractMessageBuffer=gt.WriteableStreamMessageWriter=gt.AbstractMessageWriter=gt.MessageWriter=gt.ReadableStreamMessageReader=gt.AbstractMessageReader=gt.MessageReader=gt.SharedArrayReceiverStrategy=gt.SharedArraySenderStrategy=gt.CancellationToken=gt.CancellationTokenSource=gt.Emitter=gt.Event=gt.Disposable=gt.LRUCache=gt.Touch=gt.LinkedMap=gt.ParameterStructures=gt.NotificationType9=gt.NotificationType8=gt.NotificationType7=gt.NotificationType6=gt.NotificationType5=gt.NotificationType4=gt.NotificationType3=gt.NotificationType2=gt.NotificationType1=gt.NotificationType0=gt.NotificationType=gt.ErrorCodes=gt.ResponseError=gt.RequestType9=gt.RequestType8=gt.RequestType7=gt.RequestType6=gt.RequestType5=gt.RequestType4=gt.RequestType3=gt.RequestType2=gt.RequestType1=gt.RequestType0=gt.RequestType=gt.Message=gt.RAL=void 0;gt.MessageStrategy=gt.CancellationStrategy=gt.CancellationSenderStrategy=gt.CancellationReceiverStrategy=gt.ConnectionError=gt.ConnectionErrors=gt.LogTraceNotification=gt.SetTraceNotification=gt.TraceFormat=gt.TraceValues=gt.Trace=void 0;var Jo=fX();Object.defineProperty(gt,"Message",{enumerable:!0,get:s(function(){return Jo.Message},"get")});Object.defineProperty(gt,"RequestType",{enumerable:!0,get:s(function(){return Jo.RequestType},"get")});Object.defineProperty(gt,"RequestType0",{enumerable:!0,get:s(function(){return Jo.RequestType0},"get")});Object.defineProperty(gt,"RequestType1",{enumerable:!0,get:s(function(){return Jo.RequestType1},"get")});Object.defineProperty(gt,"RequestType2",{enumerable:!0,get:s(function(){return Jo.RequestType2},"get")});Object.defineProperty(gt,"RequestType3",{enumerable:!0,get:s(function(){return Jo.RequestType3},"get")});Object.defineProperty(gt,"RequestType4",{enumerable:!0,get:s(function(){return Jo.RequestType4},"get")});Object.defineProperty(gt,"RequestType5",{enumerable:!0,get:s(function(){return Jo.RequestType5},"get")});Object.defineProperty(gt,"RequestType6",{enumerable:!0,get:s(function(){return Jo.RequestType6},"get")});Object.defineProperty(gt,"RequestType7",{enumerable:!0,get:s(function(){return Jo.RequestType7},"get")});Object.defineProperty(gt,"RequestType8",{enumerable:!0,get:s(function(){return Jo.RequestType8},"get")});Object.defineProperty(gt,"RequestType9",{enumerable:!0,get:s(function(){return Jo.RequestType9},"get")});Object.defineProperty(gt,"ResponseError",{enumerable:!0,get:s(function(){return Jo.ResponseError},"get")});Object.defineProperty(gt,"ErrorCodes",{enumerable:!0,get:s(function(){return Jo.ErrorCodes},"get")});Object.defineProperty(gt,"NotificationType",{enumerable:!0,get:s(function(){return Jo.NotificationType},"get")});Object.defineProperty(gt,"NotificationType0",{enumerable:!0,get:s(function(){return Jo.NotificationType0},"get")});Object.defineProperty(gt,"NotificationType1",{enumerable:!0,get:s(function(){return Jo.NotificationType1},"get")});Object.defineProperty(gt,"NotificationType2",{enumerable:!0,get:s(function(){return Jo.NotificationType2},"get")});Object.defineProperty(gt,"NotificationType3",{enumerable:!0,get:s(function(){return Jo.NotificationType3},"get")});Object.defineProperty(gt,"NotificationType4",{enumerable:!0,get:s(function(){return Jo.NotificationType4},"get")});Object.defineProperty(gt,"NotificationType5",{enumerable:!0,get:s(function(){return Jo.NotificationType5},"get")});Object.defineProperty(gt,"NotificationType6",{enumerable:!0,get:s(function(){return Jo.NotificationType6},"get")});Object.defineProperty(gt,"NotificationType7",{enumerable:!0,get:s(function(){return Jo.NotificationType7},"get")});Object.defineProperty(gt,"NotificationType8",{enumerable:!0,get:s(function(){return Jo.NotificationType8},"get")});Object.defineProperty(gt,"NotificationType9",{enumerable:!0,get:s(function(){return Jo.NotificationType9},"get")});Object.defineProperty(gt,"ParameterStructures",{enumerable:!0,get:s(function(){return Jo.ParameterStructures},"get")});var UX=mX();Object.defineProperty(gt,"LinkedMap",{enumerable:!0,get:s(function(){return UX.LinkedMap},"get")});Object.defineProperty(gt,"LRUCache",{enumerable:!0,get:s(function(){return UX.LRUCache},"get")});Object.defineProperty(gt,"Touch",{enumerable:!0,get:s(function(){return UX.Touch},"get")});var hrt=E2e();Object.defineProperty(gt,"Disposable",{enumerable:!0,get:s(function(){return hrt.Disposable},"get")});var O2e=RI();Object.defineProperty(gt,"Event",{enumerable:!0,get:s(function(){return O2e.Event},"get")});Object.defineProperty(gt,"Emitter",{enumerable:!0,get:s(function(){return O2e.Emitter},"get")});var U2e=uL();Object.defineProperty(gt,"CancellationTokenSource",{enumerable:!0,get:s(function(){return U2e.CancellationTokenSource},"get")});Object.defineProperty(gt,"CancellationToken",{enumerable:!0,get:s(function(){return U2e.CancellationToken},"get")});var q2e=T2e();Object.defineProperty(gt,"SharedArraySenderStrategy",{enumerable:!0,get:s(function(){return q2e.SharedArraySenderStrategy},"get")});Object.defineProperty(gt,"SharedArrayReceiverStrategy",{enumerable:!0,get:s(function(){return q2e.SharedArrayReceiverStrategy},"get")});var qX=_2e();Object.defineProperty(gt,"MessageReader",{enumerable:!0,get:s(function(){return qX.MessageReader},"get")});Object.defineProperty(gt,"AbstractMessageReader",{enumerable:!0,get:s(function(){return qX.AbstractMessageReader},"get")});Object.defineProperty(gt,"ReadableStreamMessageReader",{enumerable:!0,get:s(function(){return qX.ReadableStreamMessageReader},"get")});var WX=D2e();Object.defineProperty(gt,"MessageWriter",{enumerable:!0,get:s(function(){return WX.MessageWriter},"get")});Object.defineProperty(gt,"AbstractMessageWriter",{enumerable:!0,get:s(function(){return WX.AbstractMessageWriter},"get")});Object.defineProperty(gt,"WriteableStreamMessageWriter",{enumerable:!0,get:s(function(){return WX.WriteableStreamMessageWriter},"get")});var prt=P2e();Object.defineProperty(gt,"AbstractMessageBuffer",{enumerable:!0,get:s(function(){return prt.AbstractMessageBuffer},"get")});var nc=Q2e();Object.defineProperty(gt,"ConnectionStrategy",{enumerable:!0,get:s(function(){return nc.ConnectionStrategy},"get")});Object.defineProperty(gt,"ConnectionOptions",{enumerable:!0,get:s(function(){return nc.ConnectionOptions},"get")});Object.defineProperty(gt,"NullLogger",{enumerable:!0,get:s(function(){return nc.NullLogger},"get")});Object.defineProperty(gt,"createMessageConnection",{enumerable:!0,get:s(function(){return nc.createMessageConnection},"get")});Object.defineProperty(gt,"ProgressToken",{enumerable:!0,get:s(function(){return nc.ProgressToken},"get")});Object.defineProperty(gt,"ProgressType",{enumerable:!0,get:s(function(){return nc.ProgressType},"get")});Object.defineProperty(gt,"Trace",{enumerable:!0,get:s(function(){return nc.Trace},"get")});Object.defineProperty(gt,"TraceValues",{enumerable:!0,get:s(function(){return nc.TraceValues},"get")});Object.defineProperty(gt,"TraceFormat",{enumerable:!0,get:s(function(){return nc.TraceFormat},"get")});Object.defineProperty(gt,"SetTraceNotification",{enumerable:!0,get:s(function(){return nc.SetTraceNotification},"get")});Object.defineProperty(gt,"LogTraceNotification",{enumerable:!0,get:s(function(){return nc.LogTraceNotification},"get")});Object.defineProperty(gt,"ConnectionErrors",{enumerable:!0,get:s(function(){return nc.ConnectionErrors},"get")});Object.defineProperty(gt,"ConnectionError",{enumerable:!0,get:s(function(){return nc.ConnectionError},"get")});Object.defineProperty(gt,"CancellationReceiverStrategy",{enumerable:!0,get:s(function(){return nc.CancellationReceiverStrategy},"get")});Object.defineProperty(gt,"CancellationSenderStrategy",{enumerable:!0,get:s(function(){return nc.CancellationSenderStrategy},"get")});Object.defineProperty(gt,"CancellationStrategy",{enumerable:!0,get:s(function(){return nc.CancellationStrategy},"get")});Object.defineProperty(gt,"MessageStrategy",{enumerable:!0,get:s(function(){return nc.MessageStrategy},"get")});var grt=d5();gt.RAL=grt.default});var H2e=H(VX=>{"use strict";d();Object.defineProperty(VX,"__esModule",{value:!0});var W2e=require("util"),sA=vL(),bL=class e extends sA.AbstractMessageBuffer{static{s(this,"MessageBuffer")}constructor(t="utf-8"){super(t)}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new W2e.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};bL.emptyBuffer=Buffer.allocUnsafe(0);var GX=class{static{s(this,"ReadableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),sA.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),sA.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),sA.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),sA.Disposable.create(()=>this.stream.off("data",t))}},HX=class{static{s(this,"WritableStreamWrapper")}constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),sA.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),sA.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),sA.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,i)=>{let o=s(a=>{a==null?n():i(a)},"callback");typeof t=="string"?this.stream.write(t,r,o):this.stream.write(t,o)})}end(){this.stream.end()}},G2e=Object.freeze({messageBuffer:Object.freeze({create:s(e=>new bL(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:s((e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:s((e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new W2e.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}},"decode")})}),stream:Object.freeze({asReadableStream:s(e=>new GX(e),"asReadableStream"),asWritableStream:s(e=>new HX(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:s(()=>clearTimeout(n),"dispose")}},setImmediate(e,...t){let r=setImmediate(e,...t);return{dispose:s(()=>clearImmediate(r),"dispose")}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:s(()=>clearInterval(n),"dispose")}}})});function jX(){return G2e}s(jX,"RIL");(function(e){function t(){sA.RAL.install(G2e)}s(t,"install"),e.install=t})(jX||(jX={}));VX.default=jX});var Vx=H(qi=>{"use strict";d();var Art=qi&&qi.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yrt=qi&&qi.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Art(t,e,r)};Object.defineProperty(qi,"__esModule",{value:!0});qi.createMessageConnection=qi.createServerSocketTransport=qi.createClientSocketTransport=qi.createServerPipeTransport=qi.createClientPipeTransport=qi.generateRandomPipeName=qi.StreamMessageWriter=qi.StreamMessageReader=qi.SocketMessageWriter=qi.SocketMessageReader=qi.PortMessageWriter=qi.PortMessageReader=qi.IPCMessageWriter=qi.IPCMessageReader=void 0;var NI=H2e();NI.default.install();var j2e=require("path"),Crt=require("os"),xrt=require("crypto"),TL=require("net"),Zu=vL();yrt(vL(),qi);var $X=class extends Zu.AbstractMessageReader{static{s(this,"IPCMessageReader")}constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Zu.Disposable.create(()=>this.process.off("message",t))}};qi.IPCMessageReader=$X;var zX=class extends Zu.AbstractMessageWriter{static{s(this,"IPCMessageWriter")}constructor(t){super(),this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};qi.IPCMessageWriter=zX;var YX=class extends Zu.AbstractMessageReader{static{s(this,"PortMessageReader")}constructor(t){super(),this.onData=new Zu.Emitter,t.on("close",()=>this.fireClose),t.on("error",r=>this.fireError(r)),t.on("message",r=>{this.onData.fire(r)})}listen(t){return this.onData.event(t)}};qi.PortMessageReader=YX;var KX=class extends Zu.AbstractMessageWriter{static{s(this,"PortMessageWriter")}constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};qi.PortMessageWriter=KX;var Hx=class extends Zu.ReadableStreamMessageReader{static{s(this,"SocketMessageReader")}constructor(t,r="utf-8"){super((0,NI.default)().stream.asReadableStream(t),r)}};qi.SocketMessageReader=Hx;var jx=class extends Zu.WriteableStreamMessageWriter{static{s(this,"SocketMessageWriter")}constructor(t,r){super((0,NI.default)().stream.asWritableStream(t),r),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};qi.SocketMessageWriter=jx;var EL=class extends Zu.ReadableStreamMessageReader{static{s(this,"StreamMessageReader")}constructor(t,r){super((0,NI.default)().stream.asReadableStream(t),r)}};qi.StreamMessageReader=EL;var IL=class extends Zu.WriteableStreamMessageWriter{static{s(this,"StreamMessageWriter")}constructor(t,r){super((0,NI.default)().stream.asWritableStream(t),r)}};qi.StreamMessageWriter=IL;var V2e=process.env.XDG_RUNTIME_DIR,vrt=new Map([["linux",107],["darwin",103]]);function brt(){let e=(0,xrt.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;V2e?t=j2e.join(V2e,`vscode-ipc-${e}.sock`):t=j2e.join(Crt.tmpdir(),`vscode-${e}.sock`);let r=vrt.get(process.platform);return r!==void 0&&t.length>r&&(0,NI.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}s(brt,"generateRandomPipeName");qi.generateRandomPipeName=brt;function Ert(e,t="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let a=(0,TL.createServer)(l=>{a.close(),r([new Hx(l,t),new jx(l,t)])});a.on("error",o),a.listen(e,()=>{a.removeListener("error",o),i({onConnected:s(()=>n,"onConnected")})})})}s(Ert,"createClientPipeTransport");qi.createClientPipeTransport=Ert;function Irt(e,t="utf-8"){let r=(0,TL.createConnection)(e);return[new Hx(r,t),new jx(r,t)]}s(Irt,"createServerPipeTransport");qi.createServerPipeTransport=Irt;function Trt(e,t="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let a=(0,TL.createServer)(l=>{a.close(),r([new Hx(l,t),new jx(l,t)])});a.on("error",o),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",o),i({onConnected:s(()=>n,"onConnected")})})})}s(Trt,"createClientSocketTransport");qi.createClientSocketTransport=Trt;function wrt(e,t="utf-8"){let r=(0,TL.createConnection)(e,"127.0.0.1");return[new Hx(r,t),new jx(r,t)]}s(wrt,"createServerSocketTransport");qi.createServerSocketTransport=wrt;function _rt(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}s(_rt,"isReadableStream");function Srt(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}s(Srt,"isWritableStream");function Rrt(e,t,r,n){r||(r=Zu.NullLogger);let i=_rt(e)?new EL(e):e,o=Srt(t)?new IL(t):t;return Zu.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Zu.createMessageConnection)(i,o,r,n)}s(Rrt,"createMessageConnection");qi.createMessageConnection=Rrt});var JX=H((tcr,$2e)=>{"use strict";d();$2e.exports=Vx()});var _L=H((z2e,wL)=>{d();(function(e){if(typeof wL=="object"&&typeof wL.exports=="object"){var t=e(require,z2e);t!==void 0&&(wL.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(O){function me(ye){return typeof ye=="string"}s(me,"is"),O.is=me})(r||(t.DocumentUri=r={}));var n;(function(O){function me(ye){return typeof ye=="string"}s(me,"is"),O.is=me})(n||(t.URI=n={}));var i;(function(O){O.MIN_VALUE=-2147483648,O.MAX_VALUE=2147483647;function me(ye){return typeof ye=="number"&&O.MIN_VALUE<=ye&&ye<=O.MAX_VALUE}s(me,"is"),O.is=me})(i||(t.integer=i={}));var o;(function(O){O.MIN_VALUE=0,O.MAX_VALUE=2147483647;function me(ye){return typeof ye=="number"&&O.MIN_VALUE<=ye&&ye<=O.MAX_VALUE}s(me,"is"),O.is=me})(o||(t.uinteger=o={}));var a;(function(O){function me(J,F){return J===Number.MAX_VALUE&&(J=o.MAX_VALUE),F===Number.MAX_VALUE&&(F=o.MAX_VALUE),{line:J,character:F}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.objectLiteral(F)&&Ie.uinteger(F.line)&&Ie.uinteger(F.character)}s(ye,"is"),O.is=ye})(a||(t.Position=a={}));var l;(function(O){function me(J,F,Te,Oe){if(Ie.uinteger(J)&&Ie.uinteger(F)&&Ie.uinteger(Te)&&Ie.uinteger(Oe))return{start:a.create(J,F),end:a.create(Te,Oe)};if(a.is(J)&&a.is(F))return{start:J,end:F};throw new Error("Range#create called with invalid arguments[".concat(J,", ").concat(F,", ").concat(Te,", ").concat(Oe,"]"))}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.objectLiteral(F)&&a.is(F.start)&&a.is(F.end)}s(ye,"is"),O.is=ye})(l||(t.Range=l={}));var c;(function(O){function me(J,F){return{uri:J,range:F}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.objectLiteral(F)&&l.is(F.range)&&(Ie.string(F.uri)||Ie.undefined(F.uri))}s(ye,"is"),O.is=ye})(c||(t.Location=c={}));var u;(function(O){function me(J,F,Te,Oe){return{targetUri:J,targetRange:F,targetSelectionRange:Te,originSelectionRange:Oe}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.objectLiteral(F)&&l.is(F.targetRange)&&Ie.string(F.targetUri)&&l.is(F.targetSelectionRange)&&(l.is(F.originSelectionRange)||Ie.undefined(F.originSelectionRange))}s(ye,"is"),O.is=ye})(u||(t.LocationLink=u={}));var f;(function(O){function me(J,F,Te,Oe){return{red:J,green:F,blue:Te,alpha:Oe}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.objectLiteral(F)&&Ie.numberRange(F.red,0,1)&&Ie.numberRange(F.green,0,1)&&Ie.numberRange(F.blue,0,1)&&Ie.numberRange(F.alpha,0,1)}s(ye,"is"),O.is=ye})(f||(t.Color=f={}));var m;(function(O){function me(J,F){return{range:J,color:F}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.objectLiteral(F)&&l.is(F.range)&&f.is(F.color)}s(ye,"is"),O.is=ye})(m||(t.ColorInformation=m={}));var h;(function(O){function me(J,F,Te){return{label:J,textEdit:F,additionalTextEdits:Te}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.objectLiteral(F)&&Ie.string(F.label)&&(Ie.undefined(F.textEdit)||B.is(F))&&(Ie.undefined(F.additionalTextEdits)||Ie.typedArray(F.additionalTextEdits,B.is))}s(ye,"is"),O.is=ye})(h||(t.ColorPresentation=h={}));var p;(function(O){O.Comment="comment",O.Imports="imports",O.Region="region"})(p||(t.FoldingRangeKind=p={}));var g;(function(O){function me(J,F,Te,Oe,xt,Wt){var Lt={startLine:J,endLine:F};return Ie.defined(Te)&&(Lt.startCharacter=Te),Ie.defined(Oe)&&(Lt.endCharacter=Oe),Ie.defined(xt)&&(Lt.kind=xt),Ie.defined(Wt)&&(Lt.collapsedText=Wt),Lt}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.objectLiteral(F)&&Ie.uinteger(F.startLine)&&Ie.uinteger(F.startLine)&&(Ie.undefined(F.startCharacter)||Ie.uinteger(F.startCharacter))&&(Ie.undefined(F.endCharacter)||Ie.uinteger(F.endCharacter))&&(Ie.undefined(F.kind)||Ie.string(F.kind))}s(ye,"is"),O.is=ye})(g||(t.FoldingRange=g={}));var y;(function(O){function me(J,F){return{location:J,message:F}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.defined(F)&&c.is(F.location)&&Ie.string(F.message)}s(ye,"is"),O.is=ye})(y||(t.DiagnosticRelatedInformation=y={}));var x;(function(O){O.Error=1,O.Warning=2,O.Information=3,O.Hint=4})(x||(t.DiagnosticSeverity=x={}));var b;(function(O){O.Unnecessary=1,O.Deprecated=2})(b||(t.DiagnosticTag=b={}));var E;(function(O){function me(ye){var J=ye;return Ie.objectLiteral(J)&&Ie.string(J.href)}s(me,"is"),O.is=me})(E||(t.CodeDescription=E={}));var _;(function(O){function me(J,F,Te,Oe,xt,Wt){var Lt={range:J,message:F};return Ie.defined(Te)&&(Lt.severity=Te),Ie.defined(Oe)&&(Lt.code=Oe),Ie.defined(xt)&&(Lt.source=xt),Ie.defined(Wt)&&(Lt.relatedInformation=Wt),Lt}s(me,"create"),O.create=me;function ye(J){var F,Te=J;return Ie.defined(Te)&&l.is(Te.range)&&Ie.string(Te.message)&&(Ie.number(Te.severity)||Ie.undefined(Te.severity))&&(Ie.integer(Te.code)||Ie.string(Te.code)||Ie.undefined(Te.code))&&(Ie.undefined(Te.codeDescription)||Ie.string((F=Te.codeDescription)===null||F===void 0?void 0:F.href))&&(Ie.string(Te.source)||Ie.undefined(Te.source))&&(Ie.undefined(Te.relatedInformation)||Ie.typedArray(Te.relatedInformation,y.is))}s(ye,"is"),O.is=ye})(_||(t.Diagnostic=_={}));var k;(function(O){function me(J,F){for(var Te=[],Oe=2;Oe<arguments.length;Oe++)Te[Oe-2]=arguments[Oe];var xt={title:J,command:F};return Ie.defined(Te)&&Te.length>0&&(xt.arguments=Te),xt}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.defined(F)&&Ie.string(F.title)&&Ie.string(F.command)}s(ye,"is"),O.is=ye})(k||(t.Command=k={}));var B;(function(O){function me(Te,Oe){return{range:Te,newText:Oe}}s(me,"replace"),O.replace=me;function ye(Te,Oe){return{range:{start:Te,end:Te},newText:Oe}}s(ye,"insert"),O.insert=ye;function J(Te){return{range:Te,newText:""}}s(J,"del"),O.del=J;function F(Te){var Oe=Te;return Ie.objectLiteral(Oe)&&Ie.string(Oe.newText)&&l.is(Oe.range)}s(F,"is"),O.is=F})(B||(t.TextEdit=B={}));var N;(function(O){function me(J,F,Te){var Oe={label:J};return F!==void 0&&(Oe.needsConfirmation=F),Te!==void 0&&(Oe.description=Te),Oe}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.objectLiteral(F)&&Ie.string(F.label)&&(Ie.boolean(F.needsConfirmation)||F.needsConfirmation===void 0)&&(Ie.string(F.description)||F.description===void 0)}s(ye,"is"),O.is=ye})(N||(t.ChangeAnnotation=N={}));var M;(function(O){function me(ye){var J=ye;return Ie.string(J)}s(me,"is"),O.is=me})(M||(t.ChangeAnnotationIdentifier=M={}));var te;(function(O){function me(Te,Oe,xt){return{range:Te,newText:Oe,annotationId:xt}}s(me,"replace"),O.replace=me;function ye(Te,Oe,xt){return{range:{start:Te,end:Te},newText:Oe,annotationId:xt}}s(ye,"insert"),O.insert=ye;function J(Te,Oe){return{range:Te,newText:"",annotationId:Oe}}s(J,"del"),O.del=J;function F(Te){var Oe=Te;return B.is(Oe)&&(N.is(Oe.annotationId)||M.is(Oe.annotationId))}s(F,"is"),O.is=F})(te||(t.AnnotatedTextEdit=te={}));var de;(function(O){function me(J,F){return{textDocument:J,edits:F}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.defined(F)&&ae.is(F.textDocument)&&Array.isArray(F.edits)}s(ye,"is"),O.is=ye})(de||(t.TextDocumentEdit=de={}));var Z;(function(O){function me(J,F,Te){var Oe={kind:"create",uri:J};return F!==void 0&&(F.overwrite!==void 0||F.ignoreIfExists!==void 0)&&(Oe.options=F),Te!==void 0&&(Oe.annotationId=Te),Oe}s(me,"create"),O.create=me;function ye(J){var F=J;return F&&F.kind==="create"&&Ie.string(F.uri)&&(F.options===void 0||(F.options.overwrite===void 0||Ie.boolean(F.options.overwrite))&&(F.options.ignoreIfExists===void 0||Ie.boolean(F.options.ignoreIfExists)))&&(F.annotationId===void 0||M.is(F.annotationId))}s(ye,"is"),O.is=ye})(Z||(t.CreateFile=Z={}));var G;(function(O){function me(J,F,Te,Oe){var xt={kind:"rename",oldUri:J,newUri:F};return Te!==void 0&&(Te.overwrite!==void 0||Te.ignoreIfExists!==void 0)&&(xt.options=Te),Oe!==void 0&&(xt.annotationId=Oe),xt}s(me,"create"),O.create=me;function ye(J){var F=J;return F&&F.kind==="rename"&&Ie.string(F.oldUri)&&Ie.string(F.newUri)&&(F.options===void 0||(F.options.overwrite===void 0||Ie.boolean(F.options.overwrite))&&(F.options.ignoreIfExists===void 0||Ie.boolean(F.options.ignoreIfExists)))&&(F.annotationId===void 0||M.is(F.annotationId))}s(ye,"is"),O.is=ye})(G||(t.RenameFile=G={}));var q;(function(O){function me(J,F,Te){var Oe={kind:"delete",uri:J};return F!==void 0&&(F.recursive!==void 0||F.ignoreIfNotExists!==void 0)&&(Oe.options=F),Te!==void 0&&(Oe.annotationId=Te),Oe}s(me,"create"),O.create=me;function ye(J){var F=J;return F&&F.kind==="delete"&&Ie.string(F.uri)&&(F.options===void 0||(F.options.recursive===void 0||Ie.boolean(F.options.recursive))&&(F.options.ignoreIfNotExists===void 0||Ie.boolean(F.options.ignoreIfNotExists)))&&(F.annotationId===void 0||M.is(F.annotationId))}s(ye,"is"),O.is=ye})(q||(t.DeleteFile=q={}));var ie;(function(O){function me(ye){var J=ye;return J&&(J.changes!==void 0||J.documentChanges!==void 0)&&(J.documentChanges===void 0||J.documentChanges.every(function(F){return Ie.string(F.kind)?Z.is(F)||G.is(F)||q.is(F):de.is(F)}))}s(me,"is"),O.is=me})(ie||(t.WorkspaceEdit=ie={}));var z=function(){function O(me,ye){this.edits=me,this.changeAnnotations=ye}return s(O,"TextEditChangeImpl"),O.prototype.insert=function(me,ye,J){var F,Te;if(J===void 0?F=B.insert(me,ye):M.is(J)?(Te=J,F=te.insert(me,ye,J)):(this.assertChangeAnnotations(this.changeAnnotations),Te=this.changeAnnotations.manage(J),F=te.insert(me,ye,Te)),this.edits.push(F),Te!==void 0)return Te},O.prototype.replace=function(me,ye,J){var F,Te;if(J===void 0?F=B.replace(me,ye):M.is(J)?(Te=J,F=te.replace(me,ye,J)):(this.assertChangeAnnotations(this.changeAnnotations),Te=this.changeAnnotations.manage(J),F=te.replace(me,ye,Te)),this.edits.push(F),Te!==void 0)return Te},O.prototype.delete=function(me,ye){var J,F;if(ye===void 0?J=B.del(me):M.is(ye)?(F=ye,J=te.del(me,ye)):(this.assertChangeAnnotations(this.changeAnnotations),F=this.changeAnnotations.manage(ye),J=te.del(me,F)),this.edits.push(J),F!==void 0)return F},O.prototype.add=function(me){this.edits.push(me)},O.prototype.all=function(){return this.edits},O.prototype.clear=function(){this.edits.splice(0,this.edits.length)},O.prototype.assertChangeAnnotations=function(me){if(me===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},O}(),j=function(){function O(me){this._annotations=me===void 0?Object.create(null):me,this._counter=0,this._size=0}return s(O,"ChangeAnnotations"),O.prototype.all=function(){return this._annotations},Object.defineProperty(O.prototype,"size",{get:s(function(){return this._size},"get"),enumerable:!1,configurable:!0}),O.prototype.manage=function(me,ye){var J;if(M.is(me)?J=me:(J=this.nextId(),ye=me),this._annotations[J]!==void 0)throw new Error("Id ".concat(J," is already in use."));if(ye===void 0)throw new Error("No annotation provided for id ".concat(J));return this._annotations[J]=ye,this._size++,J},O.prototype.nextId=function(){return this._counter++,this._counter.toString()},O}(),U=function(){function O(me){var ye=this;this._textEditChanges=Object.create(null),me!==void 0?(this._workspaceEdit=me,me.documentChanges?(this._changeAnnotations=new j(me.changeAnnotations),me.changeAnnotations=this._changeAnnotations.all(),me.documentChanges.forEach(function(J){if(de.is(J)){var F=new z(J.edits,ye._changeAnnotations);ye._textEditChanges[J.textDocument.uri]=F}})):me.changes&&Object.keys(me.changes).forEach(function(J){var F=new z(me.changes[J]);ye._textEditChanges[J]=F})):this._workspaceEdit={}}return s(O,"WorkspaceChange"),Object.defineProperty(O.prototype,"edit",{get:s(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),O.prototype.getTextEditChange=function(me){if(ae.is(me)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var ye={uri:me.uri,version:me.version},J=this._textEditChanges[ye.uri];if(!J){var F=[],Te={textDocument:ye,edits:F};this._workspaceEdit.documentChanges.push(Te),J=new z(F,this._changeAnnotations),this._textEditChanges[ye.uri]=J}return J}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var J=this._textEditChanges[me];if(!J){var F=[];this._workspaceEdit.changes[me]=F,J=new z(F),this._textEditChanges[me]=J}return J}},O.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new j,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},O.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},O.prototype.createFile=function(me,ye,J){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var F;N.is(ye)||M.is(ye)?F=ye:J=ye;var Te,Oe;if(F===void 0?Te=Z.create(me,J):(Oe=M.is(F)?F:this._changeAnnotations.manage(F),Te=Z.create(me,J,Oe)),this._workspaceEdit.documentChanges.push(Te),Oe!==void 0)return Oe},O.prototype.renameFile=function(me,ye,J,F){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Te;N.is(J)||M.is(J)?Te=J:F=J;var Oe,xt;if(Te===void 0?Oe=G.create(me,ye,F):(xt=M.is(Te)?Te:this._changeAnnotations.manage(Te),Oe=G.create(me,ye,F,xt)),this._workspaceEdit.documentChanges.push(Oe),xt!==void 0)return xt},O.prototype.deleteFile=function(me,ye,J){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var F;N.is(ye)||M.is(ye)?F=ye:J=ye;var Te,Oe;if(F===void 0?Te=q.create(me,J):(Oe=M.is(F)?F:this._changeAnnotations.manage(F),Te=q.create(me,J,Oe)),this._workspaceEdit.documentChanges.push(Te),Oe!==void 0)return Oe},O}();t.WorkspaceChange=U;var V;(function(O){function me(J){return{uri:J}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.defined(F)&&Ie.string(F.uri)}s(ye,"is"),O.is=ye})(V||(t.TextDocumentIdentifier=V={}));var K;(function(O){function me(J,F){return{uri:J,version:F}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.defined(F)&&Ie.string(F.uri)&&Ie.integer(F.version)}s(ye,"is"),O.is=ye})(K||(t.VersionedTextDocumentIdentifier=K={}));var ae;(function(O){function me(J,F){return{uri:J,version:F}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.defined(F)&&Ie.string(F.uri)&&(F.version===null||Ie.integer(F.version))}s(ye,"is"),O.is=ye})(ae||(t.OptionalVersionedTextDocumentIdentifier=ae={}));var re;(function(O){function me(J,F,Te,Oe){return{uri:J,languageId:F,version:Te,text:Oe}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.defined(F)&&Ie.string(F.uri)&&Ie.string(F.languageId)&&Ie.integer(F.version)&&Ie.string(F.text)}s(ye,"is"),O.is=ye})(re||(t.TextDocumentItem=re={}));var le;(function(O){O.PlainText="plaintext",O.Markdown="markdown";function me(ye){var J=ye;return J===O.PlainText||J===O.Markdown}s(me,"is"),O.is=me})(le||(t.MarkupKind=le={}));var ce;(function(O){function me(ye){var J=ye;return Ie.objectLiteral(ye)&&le.is(J.kind)&&Ie.string(J.value)}s(me,"is"),O.is=me})(ce||(t.MarkupContent=ce={}));var De;(function(O){O.Text=1,O.Method=2,O.Function=3,O.Constructor=4,O.Field=5,O.Variable=6,O.Class=7,O.Interface=8,O.Module=9,O.Property=10,O.Unit=11,O.Value=12,O.Enum=13,O.Keyword=14,O.Snippet=15,O.Color=16,O.File=17,O.Reference=18,O.Folder=19,O.EnumMember=20,O.Constant=21,O.Struct=22,O.Event=23,O.Operator=24,O.TypeParameter=25})(De||(t.CompletionItemKind=De={}));var be;(function(O){O.PlainText=1,O.Snippet=2})(be||(t.InsertTextFormat=be={}));var qe;(function(O){O.Deprecated=1})(qe||(t.CompletionItemTag=qe={}));var Re;(function(O){function me(J,F,Te){return{newText:J,insert:F,replace:Te}}s(me,"create"),O.create=me;function ye(J){var F=J;return F&&Ie.string(F.newText)&&l.is(F.insert)&&l.is(F.replace)}s(ye,"is"),O.is=ye})(Re||(t.InsertReplaceEdit=Re={}));var Xe;(function(O){O.asIs=1,O.adjustIndentation=2})(Xe||(t.InsertTextMode=Xe={}));var ft;(function(O){function me(ye){var J=ye;return J&&(Ie.string(J.detail)||J.detail===void 0)&&(Ie.string(J.description)||J.description===void 0)}s(me,"is"),O.is=me})(ft||(t.CompletionItemLabelDetails=ft={}));var at;(function(O){function me(ye){return{label:ye}}s(me,"create"),O.create=me})(at||(t.CompletionItem=at={}));var lt;(function(O){function me(ye,J){return{items:ye||[],isIncomplete:!!J}}s(me,"create"),O.create=me})(lt||(t.CompletionList=lt={}));var oe;(function(O){function me(J){return J.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(me,"fromPlainText"),O.fromPlainText=me;function ye(J){var F=J;return Ie.string(F)||Ie.objectLiteral(F)&&Ie.string(F.language)&&Ie.string(F.value)}s(ye,"is"),O.is=ye})(oe||(t.MarkedString=oe={}));var Ne;(function(O){function me(ye){var J=ye;return!!J&&Ie.objectLiteral(J)&&(ce.is(J.contents)||oe.is(J.contents)||Ie.typedArray(J.contents,oe.is))&&(ye.range===void 0||l.is(ye.range))}s(me,"is"),O.is=me})(Ne||(t.Hover=Ne={}));var Ae;(function(O){function me(ye,J){return J?{label:ye,documentation:J}:{label:ye}}s(me,"create"),O.create=me})(Ae||(t.ParameterInformation=Ae={}));var Ge;(function(O){function me(ye,J){for(var F=[],Te=2;Te<arguments.length;Te++)F[Te-2]=arguments[Te];var Oe={label:ye};return Ie.defined(J)&&(Oe.documentation=J),Ie.defined(F)?Oe.parameters=F:Oe.parameters=[],Oe}s(me,"create"),O.create=me})(Ge||(t.SignatureInformation=Ge={}));var Y;(function(O){O.Text=1,O.Read=2,O.Write=3})(Y||(t.DocumentHighlightKind=Y={}));var ne;(function(O){function me(ye,J){var F={range:ye};return Ie.number(J)&&(F.kind=J),F}s(me,"create"),O.create=me})(ne||(t.DocumentHighlight=ne={}));var Fe;(function(O){O.File=1,O.Module=2,O.Namespace=3,O.Package=4,O.Class=5,O.Method=6,O.Property=7,O.Field=8,O.Constructor=9,O.Enum=10,O.Interface=11,O.Function=12,O.Variable=13,O.Constant=14,O.String=15,O.Number=16,O.Boolean=17,O.Array=18,O.Object=19,O.Key=20,O.Null=21,O.EnumMember=22,O.Struct=23,O.Event=24,O.Operator=25,O.TypeParameter=26})(Fe||(t.SymbolKind=Fe={}));var Se;(function(O){O.Deprecated=1})(Se||(t.SymbolTag=Se={}));var Ce;(function(O){function me(ye,J,F,Te,Oe){var xt={name:ye,kind:J,location:{uri:Te,range:F}};return Oe&&(xt.containerName=Oe),xt}s(me,"create"),O.create=me})(Ce||(t.SymbolInformation=Ce={}));var Ue;(function(O){function me(ye,J,F,Te){return Te!==void 0?{name:ye,kind:J,location:{uri:F,range:Te}}:{name:ye,kind:J,location:{uri:F}}}s(me,"create"),O.create=me})(Ue||(t.WorkspaceSymbol=Ue={}));var Ve;(function(O){function me(J,F,Te,Oe,xt,Wt){var Lt={name:J,detail:F,kind:Te,range:Oe,selectionRange:xt};return Wt!==void 0&&(Lt.children=Wt),Lt}s(me,"create"),O.create=me;function ye(J){var F=J;return F&&Ie.string(F.name)&&Ie.number(F.kind)&&l.is(F.range)&&l.is(F.selectionRange)&&(F.detail===void 0||Ie.string(F.detail))&&(F.deprecated===void 0||Ie.boolean(F.deprecated))&&(F.children===void 0||Array.isArray(F.children))&&(F.tags===void 0||Array.isArray(F.tags))}s(ye,"is"),O.is=ye})(Ve||(t.DocumentSymbol=Ve={}));var tt;(function(O){O.Empty="",O.QuickFix="quickfix",O.Refactor="refactor",O.RefactorExtract="refactor.extract",O.RefactorInline="refactor.inline",O.RefactorRewrite="refactor.rewrite",O.Source="source",O.SourceOrganizeImports="source.organizeImports",O.SourceFixAll="source.fixAll"})(tt||(t.CodeActionKind=tt={}));var Ct;(function(O){O.Invoked=1,O.Automatic=2})(Ct||(t.CodeActionTriggerKind=Ct={}));var Pt;(function(O){function me(J,F,Te){var Oe={diagnostics:J};return F!=null&&(Oe.only=F),Te!=null&&(Oe.triggerKind=Te),Oe}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.defined(F)&&Ie.typedArray(F.diagnostics,_.is)&&(F.only===void 0||Ie.typedArray(F.only,Ie.string))&&(F.triggerKind===void 0||F.triggerKind===Ct.Invoked||F.triggerKind===Ct.Automatic)}s(ye,"is"),O.is=ye})(Pt||(t.CodeActionContext=Pt={}));var yt;(function(O){function me(J,F,Te){var Oe={title:J},xt=!0;return typeof F=="string"?(xt=!1,Oe.kind=F):k.is(F)?Oe.command=F:Oe.edit=F,xt&&Te!==void 0&&(Oe.kind=Te),Oe}s(me,"create"),O.create=me;function ye(J){var F=J;return F&&Ie.string(F.title)&&(F.diagnostics===void 0||Ie.typedArray(F.diagnostics,_.is))&&(F.kind===void 0||Ie.string(F.kind))&&(F.edit!==void 0||F.command!==void 0)&&(F.command===void 0||k.is(F.command))&&(F.isPreferred===void 0||Ie.boolean(F.isPreferred))&&(F.edit===void 0||ie.is(F.edit))}s(ye,"is"),O.is=ye})(yt||(t.CodeAction=yt={}));var Kt;(function(O){function me(J,F){var Te={range:J};return Ie.defined(F)&&(Te.data=F),Te}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.defined(F)&&l.is(F.range)&&(Ie.undefined(F.command)||k.is(F.command))}s(ye,"is"),O.is=ye})(Kt||(t.CodeLens=Kt={}));var Xt;(function(O){function me(J,F){return{tabSize:J,insertSpaces:F}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.defined(F)&&Ie.uinteger(F.tabSize)&&Ie.boolean(F.insertSpaces)}s(ye,"is"),O.is=ye})(Xt||(t.FormattingOptions=Xt={}));var lr;(function(O){function me(J,F,Te){return{range:J,target:F,data:Te}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.defined(F)&&l.is(F.range)&&(Ie.undefined(F.target)||Ie.string(F.target))}s(ye,"is"),O.is=ye})(lr||(t.DocumentLink=lr={}));var ge;(function(O){function me(J,F){return{range:J,parent:F}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.objectLiteral(F)&&l.is(F.range)&&(F.parent===void 0||O.is(F.parent))}s(ye,"is"),O.is=ye})(ge||(t.SelectionRange=ge={}));var Me;(function(O){O.namespace="namespace",O.type="type",O.class="class",O.enum="enum",O.interface="interface",O.struct="struct",O.typeParameter="typeParameter",O.parameter="parameter",O.variable="variable",O.property="property",O.enumMember="enumMember",O.event="event",O.function="function",O.method="method",O.macro="macro",O.keyword="keyword",O.modifier="modifier",O.comment="comment",O.string="string",O.number="number",O.regexp="regexp",O.operator="operator",O.decorator="decorator"})(Me||(t.SemanticTokenTypes=Me={}));var Je;(function(O){O.declaration="declaration",O.definition="definition",O.readonly="readonly",O.static="static",O.deprecated="deprecated",O.abstract="abstract",O.async="async",O.modification="modification",O.documentation="documentation",O.defaultLibrary="defaultLibrary"})(Je||(t.SemanticTokenModifiers=Je={}));var rt;(function(O){function me(ye){var J=ye;return Ie.objectLiteral(J)&&(J.resultId===void 0||typeof J.resultId=="string")&&Array.isArray(J.data)&&(J.data.length===0||typeof J.data[0]=="number")}s(me,"is"),O.is=me})(rt||(t.SemanticTokens=rt={}));var Rt;(function(O){function me(J,F){return{range:J,text:F}}s(me,"create"),O.create=me;function ye(J){var F=J;return F!=null&&l.is(F.range)&&Ie.string(F.text)}s(ye,"is"),O.is=ye})(Rt||(t.InlineValueText=Rt={}));var Et;(function(O){function me(J,F,Te){return{range:J,variableName:F,caseSensitiveLookup:Te}}s(me,"create"),O.create=me;function ye(J){var F=J;return F!=null&&l.is(F.range)&&Ie.boolean(F.caseSensitiveLookup)&&(Ie.string(F.variableName)||F.variableName===void 0)}s(ye,"is"),O.is=ye})(Et||(t.InlineValueVariableLookup=Et={}));var Mt;(function(O){function me(J,F){return{range:J,expression:F}}s(me,"create"),O.create=me;function ye(J){var F=J;return F!=null&&l.is(F.range)&&(Ie.string(F.expression)||F.expression===void 0)}s(ye,"is"),O.is=ye})(Mt||(t.InlineValueEvaluatableExpression=Mt={}));var Ot;(function(O){function me(J,F){return{frameId:J,stoppedLocation:F}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.defined(F)&&l.is(J.stoppedLocation)}s(ye,"is"),O.is=ye})(Ot||(t.InlineValueContext=Ot={}));var _t;(function(O){O.Type=1,O.Parameter=2;function me(ye){return ye===1||ye===2}s(me,"is"),O.is=me})(_t||(t.InlayHintKind=_t={}));var kt;(function(O){function me(J){return{value:J}}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.objectLiteral(F)&&(F.tooltip===void 0||Ie.string(F.tooltip)||ce.is(F.tooltip))&&(F.location===void 0||c.is(F.location))&&(F.command===void 0||k.is(F.command))}s(ye,"is"),O.is=ye})(kt||(t.InlayHintLabelPart=kt={}));var St;(function(O){function me(J,F,Te){var Oe={position:J,label:F};return Te!==void 0&&(Oe.kind=Te),Oe}s(me,"create"),O.create=me;function ye(J){var F=J;return Ie.objectLiteral(F)&&a.is(F.position)&&(Ie.string(F.label)||Ie.typedArray(F.label,kt.is))&&(F.kind===void 0||_t.is(F.kind))&&F.textEdits===void 0||Ie.typedArray(F.textEdits,B.is)&&(F.tooltip===void 0||Ie.string(F.tooltip)||ce.is(F.tooltip))&&(F.paddingLeft===void 0||Ie.boolean(F.paddingLeft))&&(F.paddingRight===void 0||Ie.boolean(F.paddingRight))}s(ye,"is"),O.is=ye})(St||(t.InlayHint=St={}));var qt;(function(O){function me(ye){return{kind:"snippet",value:ye}}s(me,"createSnippet"),O.createSnippet=me})(qt||(t.StringValue=qt={}));var $t;(function(O){function me(ye,J,F,Te){return{insertText:ye,filterText:J,range:F,command:Te}}s(me,"create"),O.create=me})($t||(t.InlineCompletionItem=$t={}));var Zt;(function(O){function me(ye){return{items:ye}}s(me,"create"),O.create=me})(Zt||(t.InlineCompletionList=Zt={}));var dr;(function(O){O.Invoked=0,O.Automatic=1})(dr||(t.InlineCompletionTriggerKind=dr={}));var xr;(function(O){function me(ye,J){return{range:ye,text:J}}s(me,"create"),O.create=me})(xr||(t.SelectedCompletionInfo=xr={}));var ur;(function(O){function me(ye,J){return{triggerKind:ye,selectedCompletionInfo:J}}s(me,"create"),O.create=me})(ur||(t.InlineCompletionContext=ur={}));var mr;(function(O){function me(ye){var J=ye;return Ie.objectLiteral(J)&&n.is(J.uri)&&Ie.string(J.name)}s(me,"is"),O.is=me})(mr||(t.WorkspaceFolder=mr={})),t.EOL=[`
`,`\r
`,"\r"];var nr;(function(O){function me(Te,Oe,xt,Wt){return new hr(Te,Oe,xt,Wt)}s(me,"create"),O.create=me;function ye(Te){var Oe=Te;return!!(Ie.defined(Oe)&&Ie.string(Oe.uri)&&(Ie.undefined(Oe.languageId)||Ie.string(Oe.languageId))&&Ie.uinteger(Oe.lineCount)&&Ie.func(Oe.getText)&&Ie.func(Oe.positionAt)&&Ie.func(Oe.offsetAt))}s(ye,"is"),O.is=ye;function J(Te,Oe){for(var xt=Te.getText(),Wt=F(Oe,function(fr,zo){var Tm=fr.range.start.line-zo.range.start.line;return Tm===0?fr.range.start.character-zo.range.start.character:Tm}),Lt=xt.length,or=Wt.length-1;or>=0;or--){var cr=Wt[or],Ut=Te.offsetAt(cr.range.start),Tt=Te.offsetAt(cr.range.end);if(Tt<=Lt)xt=xt.substring(0,Ut)+cr.newText+xt.substring(Tt,xt.length);else throw new Error("Overlapping edit");Lt=Ut}return xt}s(J,"applyEdits"),O.applyEdits=J;function F(Te,Oe){if(Te.length<=1)return Te;var xt=Te.length/2|0,Wt=Te.slice(0,xt),Lt=Te.slice(xt);F(Wt,Oe),F(Lt,Oe);for(var or=0,cr=0,Ut=0;or<Wt.length&&cr<Lt.length;){var Tt=Oe(Wt[or],Lt[cr]);Tt<=0?Te[Ut++]=Wt[or++]:Te[Ut++]=Lt[cr++]}for(;or<Wt.length;)Te[Ut++]=Wt[or++];for(;cr<Lt.length;)Te[Ut++]=Lt[cr++];return Te}s(F,"mergeSort")})(nr||(t.TextDocument=nr={}));var hr=function(){function O(me,ye,J,F){this._uri=me,this._languageId=ye,this._version=J,this._content=F,this._lineOffsets=void 0}return s(O,"FullTextDocument"),Object.defineProperty(O.prototype,"uri",{get:s(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"languageId",{get:s(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"version",{get:s(function(){return this._version},"get"),enumerable:!1,configurable:!0}),O.prototype.getText=function(me){if(me){var ye=this.offsetAt(me.start),J=this.offsetAt(me.end);return this._content.substring(ye,J)}return this._content},O.prototype.update=function(me,ye){this._content=me.text,this._version=ye,this._lineOffsets=void 0},O.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var me=[],ye=this._content,J=!0,F=0;F<ye.length;F++){J&&(me.push(F),J=!1);var Te=ye.charAt(F);J=Te==="\r"||Te===`
`,Te==="\r"&&F+1<ye.length&&ye.charAt(F+1)===`
`&&F++}J&&ye.length>0&&me.push(ye.length),this._lineOffsets=me}return this._lineOffsets},O.prototype.positionAt=function(me){me=Math.max(Math.min(me,this._content.length),0);var ye=this.getLineOffsets(),J=0,F=ye.length;if(F===0)return a.create(0,me);for(;J<F;){var Te=Math.floor((J+F)/2);ye[Te]>me?F=Te:J=Te+1}var Oe=J-1;return a.create(Oe,me-ye[Oe])},O.prototype.offsetAt=function(me){var ye=this.getLineOffsets();if(me.line>=ye.length)return this._content.length;if(me.line<0)return 0;var J=ye[me.line],F=me.line+1<ye.length?ye[me.line+1]:this._content.length;return Math.max(Math.min(J+me.character,F),J)},Object.defineProperty(O.prototype,"lineCount",{get:s(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),O}(),Ie;(function(O){var me=Object.prototype.toString;function ye(Tt){return typeof Tt<"u"}s(ye,"defined"),O.defined=ye;function J(Tt){return typeof Tt>"u"}s(J,"undefined"),O.undefined=J;function F(Tt){return Tt===!0||Tt===!1}s(F,"boolean"),O.boolean=F;function Te(Tt){return me.call(Tt)==="[object String]"}s(Te,"string"),O.string=Te;function Oe(Tt){return me.call(Tt)==="[object Number]"}s(Oe,"number"),O.number=Oe;function xt(Tt,fr,zo){return me.call(Tt)==="[object Number]"&&fr<=Tt&&Tt<=zo}s(xt,"numberRange"),O.numberRange=xt;function Wt(Tt){return me.call(Tt)==="[object Number]"&&-2147483648<=Tt&&Tt<=2147483647}s(Wt,"integer"),O.integer=Wt;function Lt(Tt){return me.call(Tt)==="[object Number]"&&0<=Tt&&Tt<=2147483647}s(Lt,"uinteger"),O.uinteger=Lt;function or(Tt){return me.call(Tt)==="[object Function]"}s(or,"func"),O.func=or;function cr(Tt){return Tt!==null&&typeof Tt=="object"}s(cr,"objectLiteral"),O.objectLiteral=cr;function Ut(Tt,fr){return Array.isArray(Tt)&&Tt.every(fr)}s(Ut,"typedArray"),O.typedArray=Ut})(Ie||(Ie={}))})});var Ns=H(eu=>{"use strict";d();Object.defineProperty(eu,"__esModule",{value:!0});eu.ProtocolNotificationType=eu.ProtocolNotificationType0=eu.ProtocolRequestType=eu.ProtocolRequestType0=eu.RegistrationType=eu.MessageDirection=void 0;var LI=Vx(),Y2e;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(Y2e||(eu.MessageDirection=Y2e={}));var XX=class{static{s(this,"RegistrationType")}constructor(t){this.method=t}};eu.RegistrationType=XX;var ZX=class extends LI.RequestType0{static{s(this,"ProtocolRequestType0")}constructor(t){super(t)}};eu.ProtocolRequestType0=ZX;var eZ=class extends LI.RequestType{static{s(this,"ProtocolRequestType")}constructor(t){super(t,LI.ParameterStructures.byName)}};eu.ProtocolRequestType=eZ;var tZ=class extends LI.NotificationType0{static{s(this,"ProtocolNotificationType0")}constructor(t){super(t)}};eu.ProtocolNotificationType0=tZ;var rZ=class extends LI.NotificationType{static{s(this,"ProtocolNotificationType")}constructor(t){super(t,LI.ParameterStructures.byName)}};eu.ProtocolNotificationType=rZ});var SL=H(Wa=>{"use strict";d();Object.defineProperty(Wa,"__esModule",{value:!0});Wa.objectLiteral=Wa.typedArray=Wa.stringArray=Wa.array=Wa.func=Wa.error=Wa.number=Wa.string=Wa.boolean=void 0;function krt(e){return e===!0||e===!1}s(krt,"boolean");Wa.boolean=krt;function K2e(e){return typeof e=="string"||e instanceof String}s(K2e,"string");Wa.string=K2e;function Brt(e){return typeof e=="number"||e instanceof Number}s(Brt,"number");Wa.number=Brt;function Drt(e){return e instanceof Error}s(Drt,"error");Wa.error=Drt;function Prt(e){return typeof e=="function"}s(Prt,"func");Wa.func=Prt;function J2e(e){return Array.isArray(e)}s(J2e,"array");Wa.array=J2e;function Nrt(e){return J2e(e)&&e.every(t=>K2e(t))}s(Nrt,"stringArray");Wa.stringArray=Nrt;function Lrt(e,t){return Array.isArray(e)&&e.every(t)}s(Lrt,"typedArray");Wa.typedArray=Lrt;function Frt(e){return e!==null&&typeof e=="object"}s(Frt,"objectLiteral");Wa.objectLiteral=Frt});var eye=H(RL=>{"use strict";d();Object.defineProperty(RL,"__esModule",{value:!0});RL.ImplementationRequest=void 0;var X2e=Ns(),Z2e;(function(e){e.method="textDocument/implementation",e.messageDirection=X2e.MessageDirection.clientToServer,e.type=new X2e.ProtocolRequestType(e.method)})(Z2e||(RL.ImplementationRequest=Z2e={}))});var nye=H(kL=>{"use strict";d();Object.defineProperty(kL,"__esModule",{value:!0});kL.TypeDefinitionRequest=void 0;var tye=Ns(),rye;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=tye.MessageDirection.clientToServer,e.type=new tye.ProtocolRequestType(e.method)})(rye||(kL.TypeDefinitionRequest=rye={}))});var sye=H(FI=>{"use strict";d();Object.defineProperty(FI,"__esModule",{value:!0});FI.DidChangeWorkspaceFoldersNotification=FI.WorkspaceFoldersRequest=void 0;var BL=Ns(),iye;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=BL.MessageDirection.serverToClient,e.type=new BL.ProtocolRequestType0(e.method)})(iye||(FI.WorkspaceFoldersRequest=iye={}));var oye;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=BL.MessageDirection.clientToServer,e.type=new BL.ProtocolNotificationType(e.method)})(oye||(FI.DidChangeWorkspaceFoldersNotification=oye={}))});var cye=H(DL=>{"use strict";d();Object.defineProperty(DL,"__esModule",{value:!0});DL.ConfigurationRequest=void 0;var aye=Ns(),lye;(function(e){e.method="workspace/configuration",e.messageDirection=aye.MessageDirection.serverToClient,e.type=new aye.ProtocolRequestType(e.method)})(lye||(DL.ConfigurationRequest=lye={}))});var dye=H(MI=>{"use strict";d();Object.defineProperty(MI,"__esModule",{value:!0});MI.ColorPresentationRequest=MI.DocumentColorRequest=void 0;var PL=Ns(),uye;(function(e){e.method="textDocument/documentColor",e.messageDirection=PL.MessageDirection.clientToServer,e.type=new PL.ProtocolRequestType(e.method)})(uye||(MI.DocumentColorRequest=uye={}));var fye;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=PL.MessageDirection.clientToServer,e.type=new PL.ProtocolRequestType(e.method)})(fye||(MI.ColorPresentationRequest=fye={}))});var pye=H(QI=>{"use strict";d();Object.defineProperty(QI,"__esModule",{value:!0});QI.FoldingRangeRefreshRequest=QI.FoldingRangeRequest=void 0;var NL=Ns(),mye;(function(e){e.method="textDocument/foldingRange",e.messageDirection=NL.MessageDirection.clientToServer,e.type=new NL.ProtocolRequestType(e.method)})(mye||(QI.FoldingRangeRequest=mye={}));var hye;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=NL.MessageDirection.serverToClient,e.type=new NL.ProtocolRequestType0(e.method)})(hye||(QI.FoldingRangeRefreshRequest=hye={}))});var yye=H(LL=>{"use strict";d();Object.defineProperty(LL,"__esModule",{value:!0});LL.DeclarationRequest=void 0;var gye=Ns(),Aye;(function(e){e.method="textDocument/declaration",e.messageDirection=gye.MessageDirection.clientToServer,e.type=new gye.ProtocolRequestType(e.method)})(Aye||(LL.DeclarationRequest=Aye={}))});var vye=H(FL=>{"use strict";d();Object.defineProperty(FL,"__esModule",{value:!0});FL.SelectionRangeRequest=void 0;var Cye=Ns(),xye;(function(e){e.method="textDocument/selectionRange",e.messageDirection=Cye.MessageDirection.clientToServer,e.type=new Cye.ProtocolRequestType(e.method)})(xye||(FL.SelectionRangeRequest=xye={}))});var Tye=H(p5=>{"use strict";d();Object.defineProperty(p5,"__esModule",{value:!0});p5.WorkDoneProgressCancelNotification=p5.WorkDoneProgressCreateRequest=p5.WorkDoneProgress=void 0;var Mrt=Vx(),ML=Ns(),bye;(function(e){e.type=new Mrt.ProgressType;function t(r){return r===e.type}s(t,"is"),e.is=t})(bye||(p5.WorkDoneProgress=bye={}));var Eye;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=ML.MessageDirection.serverToClient,e.type=new ML.ProtocolRequestType(e.method)})(Eye||(p5.WorkDoneProgressCreateRequest=Eye={}));var Iye;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=ML.MessageDirection.clientToServer,e.type=new ML.ProtocolNotificationType(e.method)})(Iye||(p5.WorkDoneProgressCancelNotification=Iye={}))});var Rye=H(g5=>{"use strict";d();Object.defineProperty(g5,"__esModule",{value:!0});g5.CallHierarchyOutgoingCallsRequest=g5.CallHierarchyIncomingCallsRequest=g5.CallHierarchyPrepareRequest=void 0;var OI=Ns(),wye;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=OI.MessageDirection.clientToServer,e.type=new OI.ProtocolRequestType(e.method)})(wye||(g5.CallHierarchyPrepareRequest=wye={}));var _ye;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=OI.MessageDirection.clientToServer,e.type=new OI.ProtocolRequestType(e.method)})(_ye||(g5.CallHierarchyIncomingCallsRequest=_ye={}));var Sye;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=OI.MessageDirection.clientToServer,e.type=new OI.ProtocolRequestType(e.method)})(Sye||(g5.CallHierarchyOutgoingCallsRequest=Sye={}))});var Lye=H(tu=>{"use strict";d();Object.defineProperty(tu,"__esModule",{value:!0});tu.SemanticTokensRefreshRequest=tu.SemanticTokensRangeRequest=tu.SemanticTokensDeltaRequest=tu.SemanticTokensRequest=tu.SemanticTokensRegistrationType=tu.TokenFormat=void 0;var aA=Ns(),kye;(function(e){e.Relative="relative"})(kye||(tu.TokenFormat=kye={}));var l_;(function(e){e.method="textDocument/semanticTokens",e.type=new aA.RegistrationType(e.method)})(l_||(tu.SemanticTokensRegistrationType=l_={}));var Bye;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=aA.MessageDirection.clientToServer,e.type=new aA.ProtocolRequestType(e.method),e.registrationMethod=l_.method})(Bye||(tu.SemanticTokensRequest=Bye={}));var Dye;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=aA.MessageDirection.clientToServer,e.type=new aA.ProtocolRequestType(e.method),e.registrationMethod=l_.method})(Dye||(tu.SemanticTokensDeltaRequest=Dye={}));var Pye;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=aA.MessageDirection.clientToServer,e.type=new aA.ProtocolRequestType(e.method),e.registrationMethod=l_.method})(Pye||(tu.SemanticTokensRangeRequest=Pye={}));var Nye;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=aA.MessageDirection.serverToClient,e.type=new aA.ProtocolRequestType0(e.method)})(Nye||(tu.SemanticTokensRefreshRequest=Nye={}))});var Qye=H(QL=>{"use strict";d();Object.defineProperty(QL,"__esModule",{value:!0});QL.ShowDocumentRequest=void 0;var Fye=Ns(),Mye;(function(e){e.method="window/showDocument",e.messageDirection=Fye.MessageDirection.serverToClient,e.type=new Fye.ProtocolRequestType(e.method)})(Mye||(QL.ShowDocumentRequest=Mye={}))});var qye=H(OL=>{"use strict";d();Object.defineProperty(OL,"__esModule",{value:!0});OL.LinkedEditingRangeRequest=void 0;var Oye=Ns(),Uye;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=Oye.MessageDirection.clientToServer,e.type=new Oye.ProtocolRequestType(e.method)})(Uye||(OL.LinkedEditingRangeRequest=Uye={}))});var Yye=H(Fc=>{"use strict";d();Object.defineProperty(Fc,"__esModule",{value:!0});Fc.WillDeleteFilesRequest=Fc.DidDeleteFilesNotification=Fc.DidRenameFilesNotification=Fc.WillRenameFilesRequest=Fc.DidCreateFilesNotification=Fc.WillCreateFilesRequest=Fc.FileOperationPatternKind=void 0;var Ed=Ns(),Wye;(function(e){e.file="file",e.folder="folder"})(Wye||(Fc.FileOperationPatternKind=Wye={}));var Gye;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Ed.MessageDirection.clientToServer,e.type=new Ed.ProtocolRequestType(e.method)})(Gye||(Fc.WillCreateFilesRequest=Gye={}));var Hye;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Ed.MessageDirection.clientToServer,e.type=new Ed.ProtocolNotificationType(e.method)})(Hye||(Fc.DidCreateFilesNotification=Hye={}));var jye;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Ed.MessageDirection.clientToServer,e.type=new Ed.ProtocolRequestType(e.method)})(jye||(Fc.WillRenameFilesRequest=jye={}));var Vye;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Ed.MessageDirection.clientToServer,e.type=new Ed.ProtocolNotificationType(e.method)})(Vye||(Fc.DidRenameFilesNotification=Vye={}));var $ye;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Ed.MessageDirection.clientToServer,e.type=new Ed.ProtocolNotificationType(e.method)})($ye||(Fc.DidDeleteFilesNotification=$ye={}));var zye;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Ed.MessageDirection.clientToServer,e.type=new Ed.ProtocolRequestType(e.method)})(zye||(Fc.WillDeleteFilesRequest=zye={}))});var e5e=H(A5=>{"use strict";d();Object.defineProperty(A5,"__esModule",{value:!0});A5.MonikerRequest=A5.MonikerKind=A5.UniquenessLevel=void 0;var Kye=Ns(),Jye;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(Jye||(A5.UniquenessLevel=Jye={}));var Xye;(function(e){e.$import="import",e.$export="export",e.local="local"})(Xye||(A5.MonikerKind=Xye={}));var Zye;(function(e){e.method="textDocument/moniker",e.messageDirection=Kye.MessageDirection.clientToServer,e.type=new Kye.ProtocolRequestType(e.method)})(Zye||(A5.MonikerRequest=Zye={}))});var i5e=H(y5=>{"use strict";d();Object.defineProperty(y5,"__esModule",{value:!0});y5.TypeHierarchySubtypesRequest=y5.TypeHierarchySupertypesRequest=y5.TypeHierarchyPrepareRequest=void 0;var UI=Ns(),t5e;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=UI.MessageDirection.clientToServer,e.type=new UI.ProtocolRequestType(e.method)})(t5e||(y5.TypeHierarchyPrepareRequest=t5e={}));var r5e;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=UI.MessageDirection.clientToServer,e.type=new UI.ProtocolRequestType(e.method)})(r5e||(y5.TypeHierarchySupertypesRequest=r5e={}));var n5e;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=UI.MessageDirection.clientToServer,e.type=new UI.ProtocolRequestType(e.method)})(n5e||(y5.TypeHierarchySubtypesRequest=n5e={}))});var a5e=H(qI=>{"use strict";d();Object.defineProperty(qI,"__esModule",{value:!0});qI.InlineValueRefreshRequest=qI.InlineValueRequest=void 0;var UL=Ns(),o5e;(function(e){e.method="textDocument/inlineValue",e.messageDirection=UL.MessageDirection.clientToServer,e.type=new UL.ProtocolRequestType(e.method)})(o5e||(qI.InlineValueRequest=o5e={}));var s5e;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=UL.MessageDirection.serverToClient,e.type=new UL.ProtocolRequestType0(e.method)})(s5e||(qI.InlineValueRefreshRequest=s5e={}))});var f5e=H(C5=>{"use strict";d();Object.defineProperty(C5,"__esModule",{value:!0});C5.InlayHintRefreshRequest=C5.InlayHintResolveRequest=C5.InlayHintRequest=void 0;var WI=Ns(),l5e;(function(e){e.method="textDocument/inlayHint",e.messageDirection=WI.MessageDirection.clientToServer,e.type=new WI.ProtocolRequestType(e.method)})(l5e||(C5.InlayHintRequest=l5e={}));var c5e;(function(e){e.method="inlayHint/resolve",e.messageDirection=WI.MessageDirection.clientToServer,e.type=new WI.ProtocolRequestType(e.method)})(c5e||(C5.InlayHintResolveRequest=c5e={}));var u5e;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=WI.MessageDirection.serverToClient,e.type=new WI.ProtocolRequestType0(e.method)})(u5e||(C5.InlayHintRefreshRequest=u5e={}))});var y5e=H(Id=>{"use strict";d();Object.defineProperty(Id,"__esModule",{value:!0});Id.DiagnosticRefreshRequest=Id.WorkspaceDiagnosticRequest=Id.DocumentDiagnosticRequest=Id.DocumentDiagnosticReportKind=Id.DiagnosticServerCancellationData=void 0;var A5e=Vx(),Qrt=SL(),GI=Ns(),d5e;(function(e){function t(r){let n=r;return n&&Qrt.boolean(n.retriggerRequest)}s(t,"is"),e.is=t})(d5e||(Id.DiagnosticServerCancellationData=d5e={}));var m5e;(function(e){e.Full="full",e.Unchanged="unchanged"})(m5e||(Id.DocumentDiagnosticReportKind=m5e={}));var h5e;(function(e){e.method="textDocument/diagnostic",e.messageDirection=GI.MessageDirection.clientToServer,e.type=new GI.ProtocolRequestType(e.method),e.partialResult=new A5e.ProgressType})(h5e||(Id.DocumentDiagnosticRequest=h5e={}));var p5e;(function(e){e.method="workspace/diagnostic",e.messageDirection=GI.MessageDirection.clientToServer,e.type=new GI.ProtocolRequestType(e.method),e.partialResult=new A5e.ProgressType})(p5e||(Id.WorkspaceDiagnosticRequest=p5e={}));var g5e;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=GI.MessageDirection.serverToClient,e.type=new GI.ProtocolRequestType0(e.method)})(g5e||(Id.DiagnosticRefreshRequest=g5e={}))});var T5e=H(na=>{"use strict";d();Object.defineProperty(na,"__esModule",{value:!0});na.DidCloseNotebookDocumentNotification=na.DidSaveNotebookDocumentNotification=na.DidChangeNotebookDocumentNotification=na.NotebookCellArrayChange=na.DidOpenNotebookDocumentNotification=na.NotebookDocumentSyncRegistrationType=na.NotebookDocument=na.NotebookCell=na.ExecutionSummary=na.NotebookCellKind=void 0;var c_=_L(),ih=SL(),Kp=Ns(),nZ;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}s(t,"is"),e.is=t})(nZ||(na.NotebookCellKind=nZ={}));var iZ;(function(e){function t(i,o){let a={executionOrder:i};return(o===!0||o===!1)&&(a.success=o),a}s(t,"create"),e.create=t;function r(i){let o=i;return ih.objectLiteral(o)&&c_.uinteger.is(o.executionOrder)&&(o.success===void 0||ih.boolean(o.success))}s(r,"is"),e.is=r;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}s(n,"equals"),e.equals=n})(iZ||(na.ExecutionSummary=iZ={}));var qL;(function(e){function t(o,a){return{kind:o,document:a}}s(t,"create"),e.create=t;function r(o){let a=o;return ih.objectLiteral(a)&&nZ.is(a.kind)&&c_.DocumentUri.is(a.document)&&(a.metadata===void 0||ih.objectLiteral(a.metadata))}s(r,"is"),e.is=r;function n(o,a){let l=new Set;return o.document!==a.document&&l.add("document"),o.kind!==a.kind&&l.add("kind"),o.executionSummary!==a.executionSummary&&l.add("executionSummary"),(o.metadata!==void 0||a.metadata!==void 0)&&!i(o.metadata,a.metadata)&&l.add("metadata"),(o.executionSummary!==void 0||a.executionSummary!==void 0)&&!iZ.equals(o.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}s(n,"diff"),e.diff=n;function i(o,a){if(o===a)return!0;if(o==null||a===null||a===void 0||typeof o!=typeof a||typeof o!="object")return!1;let l=Array.isArray(o),c=Array.isArray(a);if(l!==c)return!1;if(l&&c){if(o.length!==a.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],a[u]))return!1}if(ih.objectLiteral(o)&&ih.objectLiteral(a)){let u=Object.keys(o),f=Object.keys(a);if(u.length!==f.length||(u.sort(),f.sort(),!i(u,f)))return!1;for(let m=0;m<u.length;m++){let h=u[m];if(!i(o[h],a[h]))return!1}}return!0}s(i,"equalsMetadata")})(qL||(na.NotebookCell=qL={}));var C5e;(function(e){function t(n,i,o,a){return{uri:n,notebookType:i,version:o,cells:a}}s(t,"create"),e.create=t;function r(n){let i=n;return ih.objectLiteral(i)&&ih.string(i.uri)&&c_.integer.is(i.version)&&ih.typedArray(i.cells,qL.is)}s(r,"is"),e.is=r})(C5e||(na.NotebookDocument=C5e={}));var HI;(function(e){e.method="notebookDocument/sync",e.messageDirection=Kp.MessageDirection.clientToServer,e.type=new Kp.RegistrationType(e.method)})(HI||(na.NotebookDocumentSyncRegistrationType=HI={}));var x5e;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Kp.MessageDirection.clientToServer,e.type=new Kp.ProtocolNotificationType(e.method),e.registrationMethod=HI.method})(x5e||(na.DidOpenNotebookDocumentNotification=x5e={}));var v5e;(function(e){function t(n){let i=n;return ih.objectLiteral(i)&&c_.uinteger.is(i.start)&&c_.uinteger.is(i.deleteCount)&&(i.cells===void 0||ih.typedArray(i.cells,qL.is))}s(t,"is"),e.is=t;function r(n,i,o){let a={start:n,deleteCount:i};return o!==void 0&&(a.cells=o),a}s(r,"create"),e.create=r})(v5e||(na.NotebookCellArrayChange=v5e={}));var b5e;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Kp.MessageDirection.clientToServer,e.type=new Kp.ProtocolNotificationType(e.method),e.registrationMethod=HI.method})(b5e||(na.DidChangeNotebookDocumentNotification=b5e={}));var E5e;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Kp.MessageDirection.clientToServer,e.type=new Kp.ProtocolNotificationType(e.method),e.registrationMethod=HI.method})(E5e||(na.DidSaveNotebookDocumentNotification=E5e={}));var I5e;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Kp.MessageDirection.clientToServer,e.type=new Kp.ProtocolNotificationType(e.method),e.registrationMethod=HI.method})(I5e||(na.DidCloseNotebookDocumentNotification=I5e={}))});var S5e=H(WL=>{"use strict";d();Object.defineProperty(WL,"__esModule",{value:!0});WL.InlineCompletionRequest=void 0;var w5e=Ns(),_5e;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=w5e.MessageDirection.clientToServer,e.type=new w5e.ProtocolRequestType(e.method)})(_5e||(WL.InlineCompletionRequest=_5e={}))});var qCe=H(Ee=>{"use strict";d();Object.defineProperty(Ee,"__esModule",{value:!0});Ee.WorkspaceSymbolRequest=Ee.CodeActionResolveRequest=Ee.CodeActionRequest=Ee.DocumentSymbolRequest=Ee.DocumentHighlightRequest=Ee.ReferencesRequest=Ee.DefinitionRequest=Ee.SignatureHelpRequest=Ee.SignatureHelpTriggerKind=Ee.HoverRequest=Ee.CompletionResolveRequest=Ee.CompletionRequest=Ee.CompletionTriggerKind=Ee.PublishDiagnosticsNotification=Ee.WatchKind=Ee.RelativePattern=Ee.FileChangeType=Ee.DidChangeWatchedFilesNotification=Ee.WillSaveTextDocumentWaitUntilRequest=Ee.WillSaveTextDocumentNotification=Ee.TextDocumentSaveReason=Ee.DidSaveTextDocumentNotification=Ee.DidCloseTextDocumentNotification=Ee.DidChangeTextDocumentNotification=Ee.TextDocumentContentChangeEvent=Ee.DidOpenTextDocumentNotification=Ee.TextDocumentSyncKind=Ee.TelemetryEventNotification=Ee.LogMessageNotification=Ee.ShowMessageRequest=Ee.ShowMessageNotification=Ee.MessageType=Ee.DidChangeConfigurationNotification=Ee.ExitNotification=Ee.ShutdownRequest=Ee.InitializedNotification=Ee.InitializeErrorCodes=Ee.InitializeRequest=Ee.WorkDoneProgressOptions=Ee.TextDocumentRegistrationOptions=Ee.StaticRegistrationOptions=Ee.PositionEncodingKind=Ee.FailureHandlingKind=Ee.ResourceOperationKind=Ee.UnregistrationRequest=Ee.RegistrationRequest=Ee.DocumentSelector=Ee.NotebookCellTextDocumentFilter=Ee.NotebookDocumentFilter=Ee.TextDocumentFilter=void 0;Ee.MonikerRequest=Ee.MonikerKind=Ee.UniquenessLevel=Ee.WillDeleteFilesRequest=Ee.DidDeleteFilesNotification=Ee.WillRenameFilesRequest=Ee.DidRenameFilesNotification=Ee.WillCreateFilesRequest=Ee.DidCreateFilesNotification=Ee.FileOperationPatternKind=Ee.LinkedEditingRangeRequest=Ee.ShowDocumentRequest=Ee.SemanticTokensRegistrationType=Ee.SemanticTokensRefreshRequest=Ee.SemanticTokensRangeRequest=Ee.SemanticTokensDeltaRequest=Ee.SemanticTokensRequest=Ee.TokenFormat=Ee.CallHierarchyPrepareRequest=Ee.CallHierarchyOutgoingCallsRequest=Ee.CallHierarchyIncomingCallsRequest=Ee.WorkDoneProgressCancelNotification=Ee.WorkDoneProgressCreateRequest=Ee.WorkDoneProgress=Ee.SelectionRangeRequest=Ee.DeclarationRequest=Ee.FoldingRangeRefreshRequest=Ee.FoldingRangeRequest=Ee.ColorPresentationRequest=Ee.DocumentColorRequest=Ee.ConfigurationRequest=Ee.DidChangeWorkspaceFoldersNotification=Ee.WorkspaceFoldersRequest=Ee.TypeDefinitionRequest=Ee.ImplementationRequest=Ee.ApplyWorkspaceEditRequest=Ee.ExecuteCommandRequest=Ee.PrepareRenameRequest=Ee.RenameRequest=Ee.PrepareSupportDefaultBehavior=Ee.DocumentOnTypeFormattingRequest=Ee.DocumentRangesFormattingRequest=Ee.DocumentRangeFormattingRequest=Ee.DocumentFormattingRequest=Ee.DocumentLinkResolveRequest=Ee.DocumentLinkRequest=Ee.CodeLensRefreshRequest=Ee.CodeLensResolveRequest=Ee.CodeLensRequest=Ee.WorkspaceSymbolResolveRequest=void 0;Ee.InlineCompletionRequest=Ee.DidCloseNotebookDocumentNotification=Ee.DidSaveNotebookDocumentNotification=Ee.DidChangeNotebookDocumentNotification=Ee.NotebookCellArrayChange=Ee.DidOpenNotebookDocumentNotification=Ee.NotebookDocumentSyncRegistrationType=Ee.NotebookDocument=Ee.NotebookCell=Ee.ExecutionSummary=Ee.NotebookCellKind=Ee.DiagnosticRefreshRequest=Ee.WorkspaceDiagnosticRequest=Ee.DocumentDiagnosticRequest=Ee.DocumentDiagnosticReportKind=Ee.DiagnosticServerCancellationData=Ee.InlayHintRefreshRequest=Ee.InlayHintResolveRequest=Ee.InlayHintRequest=Ee.InlineValueRefreshRequest=Ee.InlineValueRequest=Ee.TypeHierarchySupertypesRequest=Ee.TypeHierarchySubtypesRequest=Ee.TypeHierarchyPrepareRequest=void 0;var tr=Ns(),R5e=_L(),wl=SL(),Ort=eye();Object.defineProperty(Ee,"ImplementationRequest",{enumerable:!0,get:s(function(){return Ort.ImplementationRequest},"get")});var Urt=nye();Object.defineProperty(Ee,"TypeDefinitionRequest",{enumerable:!0,get:s(function(){return Urt.TypeDefinitionRequest},"get")});var MCe=sye();Object.defineProperty(Ee,"WorkspaceFoldersRequest",{enumerable:!0,get:s(function(){return MCe.WorkspaceFoldersRequest},"get")});Object.defineProperty(Ee,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:s(function(){return MCe.DidChangeWorkspaceFoldersNotification},"get")});var qrt=cye();Object.defineProperty(Ee,"ConfigurationRequest",{enumerable:!0,get:s(function(){return qrt.ConfigurationRequest},"get")});var QCe=dye();Object.defineProperty(Ee,"DocumentColorRequest",{enumerable:!0,get:s(function(){return QCe.DocumentColorRequest},"get")});Object.defineProperty(Ee,"ColorPresentationRequest",{enumerable:!0,get:s(function(){return QCe.ColorPresentationRequest},"get")});var OCe=pye();Object.defineProperty(Ee,"FoldingRangeRequest",{enumerable:!0,get:s(function(){return OCe.FoldingRangeRequest},"get")});Object.defineProperty(Ee,"FoldingRangeRefreshRequest",{enumerable:!0,get:s(function(){return OCe.FoldingRangeRefreshRequest},"get")});var Wrt=yye();Object.defineProperty(Ee,"DeclarationRequest",{enumerable:!0,get:s(function(){return Wrt.DeclarationRequest},"get")});var Grt=vye();Object.defineProperty(Ee,"SelectionRangeRequest",{enumerable:!0,get:s(function(){return Grt.SelectionRangeRequest},"get")});var cZ=Tye();Object.defineProperty(Ee,"WorkDoneProgress",{enumerable:!0,get:s(function(){return cZ.WorkDoneProgress},"get")});Object.defineProperty(Ee,"WorkDoneProgressCreateRequest",{enumerable:!0,get:s(function(){return cZ.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(Ee,"WorkDoneProgressCancelNotification",{enumerable:!0,get:s(function(){return cZ.WorkDoneProgressCancelNotification},"get")});var uZ=Rye();Object.defineProperty(Ee,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:s(function(){return uZ.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(Ee,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:s(function(){return uZ.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(Ee,"CallHierarchyPrepareRequest",{enumerable:!0,get:s(function(){return uZ.CallHierarchyPrepareRequest},"get")});var jI=Lye();Object.defineProperty(Ee,"TokenFormat",{enumerable:!0,get:s(function(){return jI.TokenFormat},"get")});Object.defineProperty(Ee,"SemanticTokensRequest",{enumerable:!0,get:s(function(){return jI.SemanticTokensRequest},"get")});Object.defineProperty(Ee,"SemanticTokensDeltaRequest",{enumerable:!0,get:s(function(){return jI.SemanticTokensDeltaRequest},"get")});Object.defineProperty(Ee,"SemanticTokensRangeRequest",{enumerable:!0,get:s(function(){return jI.SemanticTokensRangeRequest},"get")});Object.defineProperty(Ee,"SemanticTokensRefreshRequest",{enumerable:!0,get:s(function(){return jI.SemanticTokensRefreshRequest},"get")});Object.defineProperty(Ee,"SemanticTokensRegistrationType",{enumerable:!0,get:s(function(){return jI.SemanticTokensRegistrationType},"get")});var Hrt=Qye();Object.defineProperty(Ee,"ShowDocumentRequest",{enumerable:!0,get:s(function(){return Hrt.ShowDocumentRequest},"get")});var jrt=qye();Object.defineProperty(Ee,"LinkedEditingRangeRequest",{enumerable:!0,get:s(function(){return jrt.LinkedEditingRangeRequest},"get")});var $x=Yye();Object.defineProperty(Ee,"FileOperationPatternKind",{enumerable:!0,get:s(function(){return $x.FileOperationPatternKind},"get")});Object.defineProperty(Ee,"DidCreateFilesNotification",{enumerable:!0,get:s(function(){return $x.DidCreateFilesNotification},"get")});Object.defineProperty(Ee,"WillCreateFilesRequest",{enumerable:!0,get:s(function(){return $x.WillCreateFilesRequest},"get")});Object.defineProperty(Ee,"DidRenameFilesNotification",{enumerable:!0,get:s(function(){return $x.DidRenameFilesNotification},"get")});Object.defineProperty(Ee,"WillRenameFilesRequest",{enumerable:!0,get:s(function(){return $x.WillRenameFilesRequest},"get")});Object.defineProperty(Ee,"DidDeleteFilesNotification",{enumerable:!0,get:s(function(){return $x.DidDeleteFilesNotification},"get")});Object.defineProperty(Ee,"WillDeleteFilesRequest",{enumerable:!0,get:s(function(){return $x.WillDeleteFilesRequest},"get")});var fZ=e5e();Object.defineProperty(Ee,"UniquenessLevel",{enumerable:!0,get:s(function(){return fZ.UniquenessLevel},"get")});Object.defineProperty(Ee,"MonikerKind",{enumerable:!0,get:s(function(){return fZ.MonikerKind},"get")});Object.defineProperty(Ee,"MonikerRequest",{enumerable:!0,get:s(function(){return fZ.MonikerRequest},"get")});var dZ=i5e();Object.defineProperty(Ee,"TypeHierarchyPrepareRequest",{enumerable:!0,get:s(function(){return dZ.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(Ee,"TypeHierarchySubtypesRequest",{enumerable:!0,get:s(function(){return dZ.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(Ee,"TypeHierarchySupertypesRequest",{enumerable:!0,get:s(function(){return dZ.TypeHierarchySupertypesRequest},"get")});var UCe=a5e();Object.defineProperty(Ee,"InlineValueRequest",{enumerable:!0,get:s(function(){return UCe.InlineValueRequest},"get")});Object.defineProperty(Ee,"InlineValueRefreshRequest",{enumerable:!0,get:s(function(){return UCe.InlineValueRefreshRequest},"get")});var mZ=f5e();Object.defineProperty(Ee,"InlayHintRequest",{enumerable:!0,get:s(function(){return mZ.InlayHintRequest},"get")});Object.defineProperty(Ee,"InlayHintResolveRequest",{enumerable:!0,get:s(function(){return mZ.InlayHintResolveRequest},"get")});Object.defineProperty(Ee,"InlayHintRefreshRequest",{enumerable:!0,get:s(function(){return mZ.InlayHintRefreshRequest},"get")});var u_=y5e();Object.defineProperty(Ee,"DiagnosticServerCancellationData",{enumerable:!0,get:s(function(){return u_.DiagnosticServerCancellationData},"get")});Object.defineProperty(Ee,"DocumentDiagnosticReportKind",{enumerable:!0,get:s(function(){return u_.DocumentDiagnosticReportKind},"get")});Object.defineProperty(Ee,"DocumentDiagnosticRequest",{enumerable:!0,get:s(function(){return u_.DocumentDiagnosticRequest},"get")});Object.defineProperty(Ee,"WorkspaceDiagnosticRequest",{enumerable:!0,get:s(function(){return u_.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(Ee,"DiagnosticRefreshRequest",{enumerable:!0,get:s(function(){return u_.DiagnosticRefreshRequest},"get")});var Jp=T5e();Object.defineProperty(Ee,"NotebookCellKind",{enumerable:!0,get:s(function(){return Jp.NotebookCellKind},"get")});Object.defineProperty(Ee,"ExecutionSummary",{enumerable:!0,get:s(function(){return Jp.ExecutionSummary},"get")});Object.defineProperty(Ee,"NotebookCell",{enumerable:!0,get:s(function(){return Jp.NotebookCell},"get")});Object.defineProperty(Ee,"NotebookDocument",{enumerable:!0,get:s(function(){return Jp.NotebookDocument},"get")});Object.defineProperty(Ee,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:s(function(){return Jp.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(Ee,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Jp.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(Ee,"NotebookCellArrayChange",{enumerable:!0,get:s(function(){return Jp.NotebookCellArrayChange},"get")});Object.defineProperty(Ee,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Jp.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(Ee,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Jp.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(Ee,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:s(function(){return Jp.DidCloseNotebookDocumentNotification},"get")});var Vrt=S5e();Object.defineProperty(Ee,"InlineCompletionRequest",{enumerable:!0,get:s(function(){return Vrt.InlineCompletionRequest},"get")});var oZ;(function(e){function t(r){let n=r;return wl.string(n)||wl.string(n.language)||wl.string(n.scheme)||wl.string(n.pattern)}s(t,"is"),e.is=t})(oZ||(Ee.TextDocumentFilter=oZ={}));var sZ;(function(e){function t(r){let n=r;return wl.objectLiteral(n)&&(wl.string(n.notebookType)||wl.string(n.scheme)||wl.string(n.pattern))}s(t,"is"),e.is=t})(sZ||(Ee.NotebookDocumentFilter=sZ={}));var aZ;(function(e){function t(r){let n=r;return wl.objectLiteral(n)&&(wl.string(n.notebook)||sZ.is(n.notebook))&&(n.language===void 0||wl.string(n.language))}s(t,"is"),e.is=t})(aZ||(Ee.NotebookCellTextDocumentFilter=aZ={}));var lZ;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!wl.string(n)&&!oZ.is(n)&&!aZ.is(n))return!1;return!0}s(t,"is"),e.is=t})(lZ||(Ee.DocumentSelector=lZ={}));var k5e;(function(e){e.method="client/registerCapability",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolRequestType(e.method)})(k5e||(Ee.RegistrationRequest=k5e={}));var B5e;(function(e){e.method="client/unregisterCapability",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolRequestType(e.method)})(B5e||(Ee.UnregistrationRequest=B5e={}));var D5e;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(D5e||(Ee.ResourceOperationKind=D5e={}));var P5e;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(P5e||(Ee.FailureHandlingKind=P5e={}));var N5e;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(N5e||(Ee.PositionEncodingKind=N5e={}));var L5e;(function(e){function t(r){let n=r;return n&&wl.string(n.id)&&n.id.length>0}s(t,"hasId"),e.hasId=t})(L5e||(Ee.StaticRegistrationOptions=L5e={}));var F5e;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||lZ.is(n.documentSelector))}s(t,"is"),e.is=t})(F5e||(Ee.TextDocumentRegistrationOptions=F5e={}));var M5e;(function(e){function t(n){let i=n;return wl.objectLiteral(i)&&(i.workDoneProgress===void 0||wl.boolean(i.workDoneProgress))}s(t,"is"),e.is=t;function r(n){let i=n;return i&&wl.boolean(i.workDoneProgress)}s(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(M5e||(Ee.WorkDoneProgressOptions=M5e={}));var Q5e;(function(e){e.method="initialize",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(Q5e||(Ee.InitializeRequest=Q5e={}));var O5e;(function(e){e.unknownProtocolVersion=1})(O5e||(Ee.InitializeErrorCodes=O5e={}));var U5e;(function(e){e.method="initialized",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(U5e||(Ee.InitializedNotification=U5e={}));var q5e;(function(e){e.method="shutdown",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType0(e.method)})(q5e||(Ee.ShutdownRequest=q5e={}));var W5e;(function(e){e.method="exit",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType0(e.method)})(W5e||(Ee.ExitNotification=W5e={}));var G5e;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(G5e||(Ee.DidChangeConfigurationNotification=G5e={}));var H5e;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(H5e||(Ee.MessageType=H5e={}));var j5e;(function(e){e.method="window/showMessage",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolNotificationType(e.method)})(j5e||(Ee.ShowMessageNotification=j5e={}));var V5e;(function(e){e.method="window/showMessageRequest",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolRequestType(e.method)})(V5e||(Ee.ShowMessageRequest=V5e={}));var $5e;(function(e){e.method="window/logMessage",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolNotificationType(e.method)})($5e||(Ee.LogMessageNotification=$5e={}));var z5e;(function(e){e.method="telemetry/event",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolNotificationType(e.method)})(z5e||(Ee.TelemetryEventNotification=z5e={}));var Y5e;(function(e){e.None=0,e.Full=1,e.Incremental=2})(Y5e||(Ee.TextDocumentSyncKind=Y5e={}));var K5e;(function(e){e.method="textDocument/didOpen",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(K5e||(Ee.DidOpenTextDocumentNotification=K5e={}));var J5e;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}s(t,"isIncremental"),e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}s(r,"isFull"),e.isFull=r})(J5e||(Ee.TextDocumentContentChangeEvent=J5e={}));var X5e;(function(e){e.method="textDocument/didChange",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(X5e||(Ee.DidChangeTextDocumentNotification=X5e={}));var Z5e;(function(e){e.method="textDocument/didClose",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(Z5e||(Ee.DidCloseTextDocumentNotification=Z5e={}));var eCe;(function(e){e.method="textDocument/didSave",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(eCe||(Ee.DidSaveTextDocumentNotification=eCe={}));var tCe;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(tCe||(Ee.TextDocumentSaveReason=tCe={}));var rCe;(function(e){e.method="textDocument/willSave",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(rCe||(Ee.WillSaveTextDocumentNotification=rCe={}));var nCe;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(nCe||(Ee.WillSaveTextDocumentWaitUntilRequest=nCe={}));var iCe;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolNotificationType(e.method)})(iCe||(Ee.DidChangeWatchedFilesNotification=iCe={}));var oCe;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(oCe||(Ee.FileChangeType=oCe={}));var sCe;(function(e){function t(r){let n=r;return wl.objectLiteral(n)&&(R5e.URI.is(n.baseUri)||R5e.WorkspaceFolder.is(n.baseUri))&&wl.string(n.pattern)}s(t,"is"),e.is=t})(sCe||(Ee.RelativePattern=sCe={}));var aCe;(function(e){e.Create=1,e.Change=2,e.Delete=4})(aCe||(Ee.WatchKind=aCe={}));var lCe;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolNotificationType(e.method)})(lCe||(Ee.PublishDiagnosticsNotification=lCe={}));var cCe;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(cCe||(Ee.CompletionTriggerKind=cCe={}));var uCe;(function(e){e.method="textDocument/completion",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(uCe||(Ee.CompletionRequest=uCe={}));var fCe;(function(e){e.method="completionItem/resolve",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(fCe||(Ee.CompletionResolveRequest=fCe={}));var dCe;(function(e){e.method="textDocument/hover",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(dCe||(Ee.HoverRequest=dCe={}));var mCe;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(mCe||(Ee.SignatureHelpTriggerKind=mCe={}));var hCe;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(hCe||(Ee.SignatureHelpRequest=hCe={}));var pCe;(function(e){e.method="textDocument/definition",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(pCe||(Ee.DefinitionRequest=pCe={}));var gCe;(function(e){e.method="textDocument/references",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(gCe||(Ee.ReferencesRequest=gCe={}));var ACe;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(ACe||(Ee.DocumentHighlightRequest=ACe={}));var yCe;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(yCe||(Ee.DocumentSymbolRequest=yCe={}));var CCe;(function(e){e.method="textDocument/codeAction",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(CCe||(Ee.CodeActionRequest=CCe={}));var xCe;(function(e){e.method="codeAction/resolve",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(xCe||(Ee.CodeActionResolveRequest=xCe={}));var vCe;(function(e){e.method="workspace/symbol",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(vCe||(Ee.WorkspaceSymbolRequest=vCe={}));var bCe;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(bCe||(Ee.WorkspaceSymbolResolveRequest=bCe={}));var ECe;(function(e){e.method="textDocument/codeLens",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(ECe||(Ee.CodeLensRequest=ECe={}));var ICe;(function(e){e.method="codeLens/resolve",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(ICe||(Ee.CodeLensResolveRequest=ICe={}));var TCe;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolRequestType0(e.method)})(TCe||(Ee.CodeLensRefreshRequest=TCe={}));var wCe;(function(e){e.method="textDocument/documentLink",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(wCe||(Ee.DocumentLinkRequest=wCe={}));var _Ce;(function(e){e.method="documentLink/resolve",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(_Ce||(Ee.DocumentLinkResolveRequest=_Ce={}));var SCe;(function(e){e.method="textDocument/formatting",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(SCe||(Ee.DocumentFormattingRequest=SCe={}));var RCe;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(RCe||(Ee.DocumentRangeFormattingRequest=RCe={}));var kCe;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(kCe||(Ee.DocumentRangesFormattingRequest=kCe={}));var BCe;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(BCe||(Ee.DocumentOnTypeFormattingRequest=BCe={}));var DCe;(function(e){e.Identifier=1})(DCe||(Ee.PrepareSupportDefaultBehavior=DCe={}));var PCe;(function(e){e.method="textDocument/rename",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(PCe||(Ee.RenameRequest=PCe={}));var NCe;(function(e){e.method="textDocument/prepareRename",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(NCe||(Ee.PrepareRenameRequest=NCe={}));var LCe;(function(e){e.method="workspace/executeCommand",e.messageDirection=tr.MessageDirection.clientToServer,e.type=new tr.ProtocolRequestType(e.method)})(LCe||(Ee.ExecuteCommandRequest=LCe={}));var FCe;(function(e){e.method="workspace/applyEdit",e.messageDirection=tr.MessageDirection.serverToClient,e.type=new tr.ProtocolRequestType("workspace/applyEdit")})(FCe||(Ee.ApplyWorkspaceEditRequest=FCe={}))});var GCe=H(GL=>{"use strict";d();Object.defineProperty(GL,"__esModule",{value:!0});GL.createProtocolConnection=void 0;var WCe=Vx();function $rt(e,t,r,n){return WCe.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,WCe.createMessageConnection)(e,t,r,n)}s($rt,"createProtocolConnection");GL.createProtocolConnection=$rt});var jCe=H(ru=>{"use strict";d();var zrt=ru&&ru.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),HL=ru&&ru.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zrt(t,e,r)};Object.defineProperty(ru,"__esModule",{value:!0});ru.LSPErrorCodes=ru.createProtocolConnection=void 0;HL(Vx(),ru);HL(_L(),ru);HL(Ns(),ru);HL(qCe(),ru);var Yrt=GCe();Object.defineProperty(ru,"createProtocolConnection",{enumerable:!0,get:s(function(){return Yrt.createProtocolConnection},"get")});var HCe;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(HCe||(ru.LSPErrorCodes=HCe={}))});var ii=H(Xp=>{"use strict";d();var Krt=Xp&&Xp.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),VCe=Xp&&Xp.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Krt(t,e,r)};Object.defineProperty(Xp,"__esModule",{value:!0});Xp.createProtocolConnection=void 0;var Jrt=JX();VCe(JX(),Xp);VCe(jCe(),Xp);function Xrt(e,t,r,n){return(0,Jrt.createMessageConnection)(e,t,r,n)}s(Xrt,"createProtocolConnection");Xp.createProtocolConnection=Xrt});var exe=H((xF,Z3e)=>{d();(function(e,t){typeof xF=="object"&&typeof Z3e<"u"?t(xF):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(xF,function(e){"use strict";function t(w,R){return w||R}s(t,"_pureAssign");function r(w,R){return w[R]}s(r,"_pureRef");var n=void 0,i=null,o="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",g="length",y="name",x="call",b="toString",E=t(Object),_=r(E,c),k=t(String),B=r(k,c),N=t(Math),M=t(Array),te=r(M,c),de=r(te,"slice");function Z(w,R){try{return{v:w.apply(this,R)}}catch(D){return{e:D}}}s(Z,"safe");function G(w){return function(R){return typeof R===w}}s(G,"_createIs");function q(w){var R="[object "+w+"]";return function(D){return!!(D&&ie(D)===R)}}s(q,"_createObjIs");function ie(w){return _[b].call(w)}s(ie,"objToString");function z(w){return typeof w===f||w===f}s(z,"isUndefined");function j(w){return!V(w)}s(j,"isStrictUndefined");function U(w){return w===i||z(w)}s(U,"isNullOrUndefined");function V(w){return!!w||w!==n}s(V,"isDefined");var K=G("string"),ae=G(a);function re(w){return!w&&U(w)?!1:!!w&&typeof w===l}s(re,"isObject");var le=r(M,"isArray"),ce=q("Error"),De=r(E,"getOwnPropertyDescriptor");function be(w,R){return!!w&&_.hasOwnProperty[x](w,R)}s(be,"objHasOwnProperty");var qe=t(r(E,"hasOwn"),Re);function Re(w,R){return be(w,R)||!!De(w,R)}s(Re,"polyObjHasOwn");function Xe(w,R,D){if(w&&re(w)){for(var Q in w)if(qe(w,Q)&&R[x](D||w,Q,w[Q])===-1)break}}s(Xe,"objForEachKey");var ft={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function at(w){var R={};if(R[ft.c]=!0,R[ft.e]=!0,w.l){R.get=function(){return w.l.v};var D=De(w.l,"v");D&&D.set&&(R.set=function(Q){w.l.v=Q})}return Xe(w,function(Q,ue){R[ft[Q]]=j(ue)?R[ft[Q]]:ue}),R}s(at,"_createProp");var lt=r(E,"defineProperty");function oe(w,R,D){return lt(w,R,at(D))}s(oe,"objDefine");function Ne(w,R,D,Q,ue){var we={};return Xe(w,function(Be,je){Ae(we,Be,R?je:Be),Ae(we,je,D?je:Be)}),Q?Q(we):we}s(Ne,"_createKeyValueMap");function Ae(w,R,D,Q){lt(w,R,{value:D,enumerable:!0,writable:!1})}s(Ae,"_assignMapValue");var Ge=t(k),Y="[object Error]";function ne(w,R){var D=o,Q=_[b][x](w);Q===Y&&(w={stack:Ge(w.stack),message:Ge(w.message),name:Ge(w.name)});try{D=JSON.stringify(w,i,R?typeof R=="number"?R:4:n),D=(D?D.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||Ge(w)}catch(ue){D=" - "+ne(ue,R)}return Q+": "+D}s(ne,"dumpObj");function Fe(w){throw new Error(w)}s(Fe,"throwError");function Se(w){throw new TypeError(w)}s(Se,"throwTypeError");var Ce=r(E,"freeze");function Ue(w){return w}s(Ue,"_doNothing");function Ve(w){return w[u]||i}s(Ve,"_getProto");var tt=r(E,"assign"),Ct=r(E,"keys"),Pt=t(Ce,Ue),yt=t(r(E,"getPrototypeOf"),Ve);function Kt(w){return Ne(w,1,0,Pt)}s(Kt,"createEnum");function Xt(w){var R={};return Xe(w,function(D,Q){Ae(R,D,Q[1]),Ae(R,Q[0],Q[1])}),Pt(R)}s(Xt,"createSimpleMap");function lr(w){return Xt(w)}s(lr,"createTypeMap");var ge="__tsUtils$gblCfg",Me;function Je(){var w;return typeof globalThis!==f&&(w=globalThis),!w&&typeof self!==f&&(w=self),!w&&typeof window!==f&&(w=window),!w&&typeof global!==f&&(w=global),w}s(Je,"_getGlobalValue");function rt(){if(!Me){var w=Z(Je).v||{};Me=w[ge]=w[ge]||{}}return Me}s(rt,"_getGlobalConfig");var Rt=Et;function Et(w,R,D){var Q=R?R[w]:i;return function(ue){var we=(ue?ue[w]:i)||Q;if(we||D){var Be=arguments;return(we||D).apply(ue,we?de[x](Be,1):Be)}Se('"'+Ge(w)+'" not defined for '+ne(ue))}}s(Et,"_unwrapFunctionWithPoly");var Mt=r(N,"min"),Ot=r(N,"max"),_t=Rt("slice",B),kt=Rt("substring",B),St=Et("substr",B,qt);function qt(w,R,D){return U(w)&&Se("Invalid "+ne(w)),D<0?o:(R=R||0,R<0&&(R=Ot(R+w[g],0)),z(D)?_t(w,R):_t(w,R,R+D))}s(qt,"polyStrSubstr");function $t(w,R){return kt(w,0,R)}s($t,"strLeft");var Zt="_urid",dr;function xr(){if(!dr){var w=rt();dr=w.gblSym=w.gblSym||{k:{},s:{}}}return dr}s(xr,"_globalSymbolRegistry");function ur(w){var R={description:Ge(w),toString:s(function(){return h+"("+w+")"},"toString")};return R[p]=!0,R}s(ur,"polyNewSymbol");function mr(w){var R=xr();if(!qe(R.k,w)){var D=ur(w),Q=Ct(R.s).length;D[Zt]=function(){return Q+"_"+D[b]()},R.k[w]=D,R.s[D[Zt]()]=Ge(w)}return R.k[w]}s(mr,"polySymbolFor");var nr;function hr(){nr=rt()}s(hr,"_initTestHooks");function Ie(w){return lt({toJSON:s(function(){return w},"toJSON")},"v",{value:w})}s(Ie,"createCachedValue");var O="window",me;function ye(w,R){var D;return function(){return!nr&&hr(),(!D||nr.lzy)&&(D=Ie(Z(w,R).v)),D.v}}s(ye,"_getGlobalInstFn");function J(w){return!nr&&hr(),(!me||w===!1||nr.lzy)&&(me=Ie(Z(Je).v||i)),me.v}s(J,"getGlobal");function F(w,R){var D;if(!me||R===!1?D=J(R):D=me.v,D&&D[w])return D[w];if(w===O)try{return window}catch{}return i}s(F,"getInst");var Te=ye(F,["document"]);function Oe(){return!!xt()}s(Oe,"hasWindow");var xt=ye(F,[O]);function Wt(){return!!Lt()}s(Wt,"hasNavigator");var Lt=ye(F,["navigator"]),or,cr;function Ut(){return or=Ie(Z(F,[h]).v),or}s(Ut,"_initSymbol");function Tt(w){var R=(nr.lzy?0:or)||Ut();return R.v?R.v[w]:n}s(Tt,"_getSymbolKey");function fr(w,R){!nr&&hr();var D=(nr.lzy?0:or)||Ut();return D.v?D.v(w):R?i:ur(w)}s(fr,"newSymbol");function zo(w){return!nr&&hr(),cr=(nr.lzy?0:cr)||Ie(Z(Tt,["for"]).v),(cr.v||mr)(w)}s(zo,"symbolFor");function Tm(w,R,D){return w.apply(R,D)}s(Tm,"fnApply");function Cl(w,R,D){if(w)for(var Q=w[g]>>>0,ue=0;ue<Q&&!(ue in w&&R[x](D||w,w[ue],ue,w)===-1);ue++);}s(Cl,"arrForEach");var wm=Rt("indexOf",te),Xf=Rt("map",te),ta=Rt("reduce",te),fp=t(r(E,"create"),L2);function L2(w){if(!w)return{};var R=typeof w;R!==l&&R!==a&&Se("Prototype must be an Object or function: "+ne(w));function D(){}return s(D,"tempFunc"),D[c]=w,new D}s(L2,"polyObjCreate");var aw;function _m(w,R){var D=E.setPrototypeOf||function(Q,ue){var we;!aw&&(aw=Ie((we={},we[u]=[],we instanceof Array))),aw.v?Q[u]=ue:Xe(ue,function(Be,je){return Q[Be]=je})};return D(w,R)}s(_m,"objSetPrototypeOf");function Kz(w,R,D){Z(oe,[R,y,{v:w,c:!0,e:!1}]),R=_m(R,D);function Q(){this[m]=R,Z(oe,[this,y,{v:w,c:!0,e:!1}])}return s(Q,"__"),R[c]=D===i?fp(D):(Q[c]=D[c],new Q),R}s(Kz,"_createCustomError");function dp(w,R){R&&(w[y]=R)}s(dp,"_setName");function Jz(w,R,D){var Q=D||Error,ue=Q[c][y],we=Error.captureStackTrace;return Kz(w,function(){var Be=this,je=arguments;try{Z(dp,[Q,w]);var it=Tm(Q,Be,de[x](je))||Be;if(it!==Be){var vt=yt(Be);vt!==yt(it)&&_m(it,vt)}return we&&we(it,Be[m]),R&&R(it,je),it}finally{Z(dp,[Q,ue])}},Q)}s(Jz,"createCustomError");function C1(){return(Date.now||lw)()}s(C1,"utcNow");function lw(){return new Date().getTime()}s(lw,"polyUtcNow");function ME(w){return s(function(D){return U(D)&&Se("strTrim called ["+ne(D)+"]"),D&&D.replace&&(D=D.replace(w,o)),D},"_doTrim")}s(ME,"_createTrimFn");var Xz=ME(/^\s+|(?=\s)\s+$/g),Ec=Et("trim",B,Xz),mp=r(N,"floor"),R3,x1,k3;function hp(w){if(!w||typeof w!==l)return!1;k3||(k3=Oe()?xt():!0);var R=!1;if(w!==k3){x1||(R3=Function[c][b],x1=R3[x](E));try{var D=yt(w);R=!D,R||(be(D,m)&&(D=D[m]),R=!!(D&&typeof D===a&&R3[x](D)===x1))}catch{}}return R}s(hp,"isPlainObject");var QE;function B3(){return!nr&&hr(),(!QE||nr.lzy)&&(QE=Ie(Z(F,["performance"]).v)),QE.v}s(B3,"getPerformance");var cw=r(N,"round"),F2=Et("endsWith",B,M2);function M2(w,R,D){K(w)||Se("'"+ne(w)+"' is not a string");var Q=K(R)?R:Ge(R),ue=!z(D)&&D<w[g]?D:w[g];return kt(w,ue-Q[g],ue)===Q}s(M2,"polyStrEndsWith");var Jr=Rt("indexOf",B),n0="ref",v1="unref",Q2="hasRef",Zz="enabled";function pp(w,R,D){var Q=!0,ue=w?R(i):i,we;function Be(){return Q=!1,ue&&ue[v1]&&ue[v1](),we}s(Be,"_unref");function je(){ue&&D(ue),ue=i}s(je,"_cancel");function it(){return ue=R(ue),Q||Be(),we}s(it,"_refresh");function vt(Tr){!Tr&&ue&&je(),Tr&&!ue&&it()}return s(vt,"_setEnabled"),we={cancel:je,refresh:it},we[Q2]=function(){return ue&&ue[Q2]?ue[Q2]():Q},we[n0]=function(){return Q=!0,ue&&ue[n0]&&ue[n0](),we},we[v1]=Be,we=lt(we,Zz,{get:s(function(){return!!ue},"get"),set:vt}),{h:we,dn:s(function(){ue=i},"dn")}}s(pp,"_createTimerHandler");function eY(w,R,D){var Q=le(R),ue=Q?R.length:0,we=(ue>0?R[0]:Q?n:R)||setTimeout,Be=(ue>1?R[1]:n)||clearTimeout,je=D[0];D[0]=function(){it.dn(),Tm(je,n,de[x](arguments))};var it=pp(w,function(vt){if(vt){if(vt.refresh)return vt.refresh(),vt;Tm(Be,n,[vt])}return Tm(we,n,D)},function(vt){Tm(Be,n,[vt])});return it.h}s(eY,"_createTimeoutWith");function uw(w,R){return eY(!0,n,de[x](arguments))}s(uw,"scheduleTimeout");var D3=Kt,tY=lr,P3="toLowerCase",Na="length",gp="warnToConsole",N3="throwInternal",aD="watch",rY="apply",Gi="push",b1="splice",Ap="logger",fw="cancel",L3="name",i0="unload",lD="version",cD="loggingLevelConsole",dw="messageId",E1="message",mw="diagLog",uD="userAgent",hw="split",O2="replace",yp="type",fD="evtName",OE="traceFlags",pw="getAttribute",UE;function nY(w,R){UE||(UE=Jz("AggregationError",function(Q,ue){ue[Na]>1&&(Q.errors=ue[1])}));var D=w||"One or more errors occurred.";throw Cl(R,function(Q,ue){D+=`
`.concat(ue," > ").concat(ne(Q))}),new UE(D,R||[])}s(nY,"throwAggregationError");var iY="function",dD="object",oY="undefined",Sm="prototype",qE=Object,gw=qE[Sm];(J()||{}).Symbol,(J()||{}).Reflect;var WE="hasOwnProperty",sY=s(function(w){for(var R,D=1,Q=arguments.length;D<Q;D++){R=arguments[D];for(var ue in R)gw[WE].call(R,ue)&&(w[ue]=R[ue])}return w},"__objAssignFnImpl"),GE=tt||sY,HE=s(function(w,R){return HE=qE.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,Q){D.__proto__=Q}||function(D,Q){for(var ue in Q)Q[WE](ue)&&(D[ue]=Q[ue])},HE(w,R)},"extendStaticsFn");function Cp(w,R){typeof R!==iY&&R!==null&&Se("Class extends value "+String(R)+" is not a constructor or null"),HE(w,R);function D(){this.constructor=w}s(D,"__"),w[Sm]=R===null?fp(R):(D[Sm]=R[Sm],new D)}s(Cp,"__extendsFn");var jE,I1="constructor",O0="prototype",U0="function",T1="_dynInstFuncs",U2="_isDynProxy",xp="_dynClass",q2="_dynCls$",Aw="_dynInstChk",w1=Aw,W2="_dfOpts",yw="_unknown_",VE="__proto__",G2="_dyn"+VE,F3="__dynProto$Gbl",$E="_dynInstProto",H2="useBaseInst",j2="setInstFuncs",M3=Object,_1=M3.getPrototypeOf,V2=M3.getOwnPropertyNames,Cw=J(),zE=Cw[F3]||(Cw[F3]={o:(jE={},jE[j2]=!0,jE[H2]=!0,jE),n:1e3});function $2(w){return w&&(w===M3[O0]||w===Array[O0])}s($2,"_isObjectOrArrayPrototype");function z2(w){return $2(w)||w===Function[O0]}s(z2,"_isObjectArrayOrFunctionPrototype");function Rm(w){var R;if(w){if(_1)return _1(w);var D=w[VE]||w[O0]||(w[I1]?w[I1][O0]:null);R=w[G2]||D,be(w,G2)||(delete w[$E],R=w[G2]=w[$E]||w[G2],w[$E]=D)}return R}s(Rm,"_getObjProto");function Zf(w,R){var D=[];if(V2)D=V2(w);else for(var Q in w)typeof Q=="string"&&be(w,Q)&&D.push(Q);if(D&&D.length>0)for(var ue=0;ue<D.length;ue++)R(D[ue])}s(Zf,"_forEachProp");function Y2(w,R,D){return R!==I1&&typeof w[R]===U0&&(D||be(w,R))&&R!==VE&&R!==O0}s(Y2,"_isDynamicCandidate");function K2(w){Se("DynamicProto: "+w)}s(K2,"_throwTypeError");function YE(w){var R=fp(null);return Zf(w,function(D){!R[D]&&Y2(w,D,!1)&&(R[D]=w[D])}),R}s(YE,"_getInstanceFuncs");function xw(w,R){for(var D=w.length-1;D>=0;D--)if(w[D]===R)return!0;return!1}s(xw,"_hasVisited");function vw(w,R,D,Q){function ue(it,vt,Tr){var wn=vt[Tr];if(wn[U2]&&Q){var Hn=it[T1]||{};Hn[w1]!==!1&&(wn=(Hn[vt[xp]]||{})[Tr]||wn)}return function(){return wn.apply(it,arguments)}}s(ue,"_instFuncProxy");var we=fp(null);Zf(D,function(it){we[it]=ue(R,D,it)});for(var Be=Rm(w),je=[];Be&&!z2(Be)&&!xw(je,Be);)Zf(Be,function(it){!we[it]&&Y2(Be,it,!_1)&&(we[it]=ue(R,Be,it))}),je.push(Be),Be=Rm(Be);return we}s(vw,"_getBaseFuncs");function aY(w,R,D,Q){var ue=null;if(w&&be(D,xp)){var we=w[T1]||fp(null);if(ue=(we[D[xp]]||fp(null))[R],ue||K2("Missing ["+R+"] "+U0),!ue[Aw]&&we[w1]!==!1){for(var Be=!be(w,R),je=Rm(w),it=[];Be&&je&&!z2(je)&&!xw(it,je);){var vt=je[R];if(vt){Be=vt===Q;break}it.push(je),je=Rm(je)}try{Be&&(w[R]=ue),ue[Aw]=1}catch{we[w1]=!1}}}return ue}s(aY,"_getInstFunc");function lY(w,R,D){var Q=R[w];return Q===D&&(Q=Rm(R)[w]),typeof Q!==U0&&K2("["+w+"] is not a "+U0),Q}s(lY,"_getProtoFunc");function cY(w,R,D,Q,ue){function we(it,vt){var Tr=s(function(){var wn=aY(this,vt,it,Tr)||lY(vt,it,Tr);return wn.apply(this,arguments)},"dynProtoProxy");return Tr[U2]=1,Tr}if(s(we,"_createDynamicPrototype"),!$2(w)){var Be=D[T1]=D[T1]||fp(null);if(!$2(Be)){var je=Be[R]=Be[R]||fp(null);Be[w1]!==!1&&(Be[w1]=!!ue),$2(je)||Zf(D,function(it){Y2(D,it,!1)&&D[it]!==Q[it]&&(je[it]=D[it],delete D[it],(!be(w,it)||w[it]&&!w[it][U2])&&(w[it]=we(w,it)))})}}}s(cY,"_populatePrototype");function uY(w,R){if(_1){for(var D=[],Q=Rm(R);Q&&!z2(Q)&&!xw(D,Q);){if(Q===w)return!0;D.push(Q),Q=Rm(Q)}return!1}return!0}s(uY,"_checkPrototype");function bw(w,R){return be(w,O0)?w.name||R||yw:((w||{})[I1]||{}).name||R||yw}s(bw,"_getObjName");function Q3(w,R,D,Q){be(w,O0)||K2("theClass is an invalid class definition.");var ue=w[O0];uY(ue,R)||K2("["+bw(w)+"] not in hierarchy of ["+bw(R)+"]");var we=null;be(ue,xp)?we=ue[xp]:(we=q2+bw(w,"_")+"$"+zE.n,zE.n++,ue[xp]=we);var Be=Q3[W2],je=!!Be[H2];je&&Q&&Q[H2]!==void 0&&(je=!!Q[H2]);var it=YE(R),vt=vw(ue,R,it,je);D(R,vt);var Tr=!!_1&&!!Be[j2];Tr&&Q&&(Tr=!!Q[j2]),cY(ue,we,R,it,Tr!==!1)}s(Q3,"dynamicProto"),Q3[W2]=zE.o;var Yl=void 0,qs="",mD="Not dynamic - ",hD=/-([a-z])/g,O3=/([^\w\d_$])/g,Ew=/^(\d+[\w\d_$])/;function Iw(w){return!U(w)}s(Iw,"isNotNullOrUndefined");function KE(w){var R=w;return R&&K(R)&&(R=R[O2](hD,function(D,Q){return Q.toUpperCase()}),R=R[O2](O3,"_"),R=R[O2](Ew,function(D,Q){return"_"+Q})),R}s(KE,"normalizeJsName");function pD(w,R){return w&&R?Jr(w,R)!==-1:!1}s(pD,"strContains");function km(w){return w&&w.toISOString()||""}s(km,"toISOString");function vp(w){return ce(w)?w[L3]:qs}s(vp,"getExceptionName");function U3(w){return function(){function R(){var D=this;w&&Xe(w,function(Q,ue){D[Q]=ue})}return s(R,"class_1"),R}()}s(U3,"createClassFromInterface");var gD="console",JE="JSON",fY="crypto",bp="msCrypto",J2="msie",Yn="trident/",X2=null,S1=null,Bm=null;function XE(){return typeof console!==oY?console:F(gD)}s(XE,"getConsole");function Hi(){return!!(typeof JSON===dD&&JSON||F(JE)!==null)}s(Hi,"hasJSON");function Z2(){return Hi()?JSON||F(JE):null}s(Z2,"getJSON");function pa(){return F(fY)}s(pa,"getCrypto");function ey(){return F(bp)}s(ey,"getMsCrypto");function q3(){var w=Lt();if(w&&(w[uD]!==S1||X2===null)){S1=w[uD];var R=(S1||qs)[P3]();X2=pD(R,J2)||pD(R,Yn)}return X2}s(q3,"isIE");function Ep(w){return(Bm===null||w===!1)&&(Bm=Wt()&&!!Lt().sendBeacon),Bm}s(Ep,"isBeaconsSupported");function W3(w,R){if(w)for(var D=0;D<w[Na];D++){var Q=w[D];if(Q[L3]&&Q[L3]===R)return Q}return{}}s(W3,"_getNamedValue");function ZE(w){var R=Te();return R&&w?W3(R.querySelectorAll("meta"),w).content:null}s(ZE,"findMetaTag");function ed(w){var R,D=B3();if(D){var Q=D.getEntriesByType("navigation")||[];R=W3((Q[Na]>0?Q[0]:{}).serverTiming,w).description}return R}s(ed,"findNamedServerTiming");var ty=4294967296,Fu=4294967295,ry=123456789,Ip=987654321,xl=!1,ny=ry,td=Ip;function AD(w){w<0&&(w>>>=0),ny=ry+w&Fu,td=Ip-w&Fu,xl=!0}s(AD,"_mwcSeed");function R1(){try{var w=C1()&2147483647;AD((Math.random()*ty^w)+w)}catch{}}s(R1,"_autoSeedMwc");function e4(w){return w>0?mp(iy()/Fu*(w+1))>>>0:0}s(e4,"randomValue");function iy(w){var R=0,D=pa()||ey();return D&&D.getRandomValues&&(R=D.getRandomValues(new Uint32Array(1))[0]&Fu),R===0&&q3()&&(xl||R1(),R=yD()&Fu),R===0&&(R=mp(ty*Math.random()|0)),w||(R>>>=0),R}s(iy,"random32");function yD(w){td=36969*(td&65535)+(td>>16)&Fu,ny=18e3*(ny&65535)+(ny>>16)&Fu;var R=(td<<16)+(ny&65535)>>>0&Fu|0;return w||(R>>>=0),R}s(yD,"mwcRandom32");function k1(w){w===void 0&&(w=22);for(var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=iy()>>>0,Q=0,ue=qs;ue[Na]<w;)Q++,ue+=R.charAt(D&63),D>>>=6,Q===5&&(D=(iy()<<2&4294967295|D&3)>>>0,Q=0);return ue}s(k1,"newId");var rd="3.3.6",t4="."+k1(6),B1=0;function nd(w){return w.nodeType===1||w.nodeType===9||!+w.nodeType}s(nd,"_canAcceptData");function r4(w,R){var D=R[w.id];if(!D){D={};try{nd(R)&&oe(R,w.id,{e:!1,v:D})}catch{}}return D}s(r4,"_getCache");function Dm(w,R){return R===void 0&&(R=!1),KE(w+B1+++(R?"."+rd:qs)+t4)}s(Dm,"createUniqueNamespace");function id(w){var R={id:Dm("_aiData-"+(w||qs)+"."+rd),accept:s(function(D){return nd(D)},"accept"),get:s(function(D,Q,ue,we){var Be=D[R.id];return Be?Be[KE(Q)]:(we&&(Be=r4(R,D),Be[KE(Q)]=ue),ue)},"get"),kill:s(function(D,Q){if(D&&D[Q])try{delete D[Q]}catch{}},"kill")};return R}s(id,"createElmNodeData");function Tp(w){return w&&re(w)&&(w.isVal||w.fb||qe(w,"v")||qe(w,"mrg")||qe(w,"ref")||w.set)}s(Tp,"_isConfigDefaults");function n4(w,R,D){var Q,ue=D.dfVal||V;if(R&&D.fb){var we=D.fb;le(we)||(we=[we]);for(var Be=0;Be<we[Na];Be++){var je=we[Be],it=R[je];if(ue(it)?Q=it:w&&(it=w.cfg[je],ue(it)&&(Q=it),w.set(w.cfg,Ge(je),it)),ue(Q))break}}return!ue(Q)&&ue(D.v)&&(Q=D.v),Q}s(n4,"_getDefault");function wp(w,R,D){var Q=D;if(D&&Tp(D)&&(Q=n4(w,R,D)),Q){Tp(Q)&&(Q=wp(w,R,Q));var ue;le(Q)?(ue=[],ue[Na]=Q[Na]):hp(Q)&&(ue={}),ue&&(Xe(Q,function(we,Be){Be&&Tp(Be)&&(Be=wp(w,R,Be)),ue[we]=Be}),Q=ue)}return Q}s(wp,"_resolveDefaultValue");function _p(w,R,D,Q){var ue,we,Be,je=Q,it,vt,Tr,wn;Tp(je)?(ue=je.isVal,we=je.set,Tr=je.rdOnly,wn=je.blkVal,it=je.mrg,vt=je.ref,!vt&&z(vt)&&(vt=!!it),Be=n4(w,R,je)):Be=Q,wn&&w.blkVal(R,D);var Hn,Rr=!0,Mr=R[D];(Mr||!U(Mr))&&(Hn=Mr,Rr=!1,ue&&Hn!==Be&&!ue(Hn)&&(Hn=Be,Rr=!0),we&&(Hn=we(Hn,Be,R),Rr=Hn===Be)),Rr?Be?Hn=wp(w,R,Be):Hn=Be:(hp(Hn)||le(Be))&&it&&Be&&(hp(Be)||le(Be))&&Xe(Be,function(qn,_n){_p(w,Hn,qn,_n)}),w.set(R,D,Hn),vt&&w.ref(R,D),Tr&&w.rdOnly(R,D)}s(_p,"_applyDefaultValue");var Kl=zo("[[ai_dynCfg_1]]"),Tw=zo("[[ai_blkDynCfg_1]]"),G3=zo("[[ai_frcDynCfg_1]]");function ww(w){if(w){var R;if(le(w)?(R=[],R[Na]=w[Na]):hp(w)&&(R={}),R)return Xe(w,function(D,Q){R[D]=ww(Q)}),R}return w}s(ww,"_cfgDeepCopy");function _w(w){if(w){var R=w[Kl]||w;if(R.cfg&&(R.cfg===w||R.cfg[Kl]===R))return R}return null}s(_w,"getDynamicConfigHandler");function oy(w){if(w&&(hp(w)||le(w)))try{w[Tw]=!0}catch{}return w}s(oy,"blockDynamicConversion");function Sp(w,R,D){var Q=!1;return D&&!w[R.blkVal]&&(Q=D[G3],!Q&&!D[Tw]&&(Q=hp(D)||le(D))),Q}s(Sp,"_canMakeDynamic");function Mu(w){Se("InvalidAccess:"+w)}s(Mu,"throwInvalidAccess");var CD=["push","pop","shift","unshift","splice"],Pm=s(function(w,R,D,Q){w&&w[N3](3,108,"".concat(D," [").concat(R,"] failed - ")+ne(Q))},"_throwDynamicError");function Sw(w,R,D){le(R)&&Cl(CD,function(Q){var ue=R[Q];R[Q]=function(){for(var we=[],Be=0;Be<arguments.length;Be++)we[Be]=arguments[Be];var je=ue[rY](this,we);return D1(w,R,D,"Patching"),je}})}s(Sw,"_patchArray");function Nm(w,R){var D=De(w,R);return D&&D.get}s(Nm,"_getOwnPropGetter");function xD(w,R,D,Q){var ue={n:D,h:[],trk:s(function(vt){vt&&vt.fn&&(wm(ue.h,vt)===-1&&ue.h[Gi](vt),w.trk(vt,ue))},"trk"),clr:s(function(vt){var Tr=wm(ue.h,vt);Tr!==-1&&ue.h[b1](Tr,1)},"clr")},we=!0,Be=!1;function je(){we&&(Be=Be||Sp(je,w,Q),Q&&!Q[Kl]&&Be&&(Q=D1(w,Q,D,"Converting")),we=!1);var vt=w.act;return vt&&ue.trk(vt),Q}s(je,"_getProperty"),je[w.prop]={chng:s(function(){w.add(ue)},"chng")};function it(vt){if(Q!==vt){je[w.ro]&&!w.upd&&Mu("["+D+"] is read-only:"+ne(R)),we&&(Be=Be||Sp(je,w,Q),we=!1);var Tr=Be&&je[w.rf];if(Be)if(Tr){Xe(Q,function(Hn){Q[Hn]=vt?vt[Hn]:Yl});try{Xe(vt,function(Hn,Rr){sy(w,Q,Hn,Rr)}),vt=Q}catch(Hn){Pm((w.hdlr||{})[Ap],D,"Assigning",Hn),Be=!1}}else Q&&Q[Kl]&&Xe(Q,function(Hn){var Rr=Nm(Q,Hn);if(Rr){var Mr=Rr[w.prop];Mr&&Mr.chng()}});if(vt!==Q){var wn=vt&&Sp(je,w,vt);!Tr&&wn&&(vt=D1(w,vt,D,"Converting")),Q=vt,Be=wn}w.add(ue)}}s(it,"_setProperty"),oe(R,ue.n,{g:je,s:it})}s(xD,"_createDynamicProperty");function sy(w,R,D,Q){if(R){var ue=Nm(R,D),we=ue&&!!ue[w.prop];we?R[D]=Q:xD(w,R,D,Q)}return R}s(sy,"_setDynamicProperty");function Rw(w,R,D,Q){if(R){var ue=Nm(R,D),we=ue&&!!ue[w.prop],Be=Q&&Q[0],je=Q&&Q[1],it=Q&&Q[2];if(!we){if(it)try{oy(R)}catch(vt){Pm((w.hdlr||{})[Ap],D,"Blocking",vt)}try{sy(w,R,D,R[D]),ue=Nm(R,D)}catch(vt){Pm((w.hdlr||{})[Ap],D,"State",vt)}}Be&&(ue[w.rf]=Be),je&&(ue[w.ro]=je),it&&(ue[w.blkVal]=!0)}return R}s(Rw,"_setDynamicPropertyState");function D1(w,R,D,Q){try{Xe(R,function(ue,we){sy(w,R,ue,we)}),R[Kl]||(lt(R,Kl,{get:s(function(){return w.hdlr},"get")}),Sw(w,R,D))}catch(ue){Pm((w.hdlr||{})[Ap],D,Q,ue)}return R}s(D1,"_makeDynamicObject");var P1="[[ai_",q0="]]";function vD(w){var R=fr(P1+"get"+w.uid+q0),D=fr(P1+"ro"+w.uid+q0),Q=fr(P1+"rf"+w.uid+q0),ue=fr(P1+"blkVal"+w.uid+q0),we=fr(P1+"dtl"+w.uid+q0),Be=null,je=null,it;function vt(Rr,Mr){var qn=it.act;try{it.act=Rr,Rr&&Rr[we]&&(Cl(Rr[we],function(pi){pi.clr(Rr)}),Rr[we]=[]),Mr({cfg:w.cfg,set:w.set.bind(w),setDf:w.setDf.bind(w),ref:w.ref.bind(w),rdOnly:w.rdOnly.bind(w)})}catch(pi){var _n=w[Ap];throw _n&&_n[N3](1,107,ne(pi)),pi}finally{it.act=qn||null}}s(vt,"_useHandler");function Tr(){if(Be){var Rr=Be;Be=null,je&&je[fw](),je=null;var Mr=[];if(Cl(Rr,function(qn){if(qn&&(qn[we]&&(Cl(qn[we],function(_n){_n.clr(qn)}),qn[we]=null),qn.fn))try{vt(qn,qn.fn)}catch(_n){Mr[Gi](_n)}}),Be)try{Tr()}catch(qn){Mr[Gi](qn)}Mr[Na]>0&&nY("Watcher error(s): ",Mr)}}s(Tr,"_notifyWatchers");function wn(Rr){if(Rr&&Rr.h[Na]>0){Be||(Be=[]),je||(je=uw(function(){je=null,Tr()},0));for(var Mr=0;Mr<Rr.h[Na];Mr++){var qn=Rr.h[Mr];qn&&wm(Be,qn)===-1&&Be[Gi](qn)}}}s(wn,"_addWatcher");function Hn(Rr,Mr){if(Rr){var qn=Rr[we]=Rr[we]||[];wm(qn,Mr)===-1&&qn[Gi](Mr)}}return s(Hn,"_trackHandler"),it={prop:R,ro:D,rf:Q,blkVal:ue,hdlr:w,add:wn,notify:Tr,use:vt,trk:Hn},it}s(vD,"_createState");function dY(w,R){var D={fn:R,rm:s(function(){D.fn=null,w=null,R=null},"rm")};return oe(D,"toJSON",{v:s(function(){return"WatcherHandler"+(D.fn?"":"[X]")},"v")}),w.use(D,R),D}s(dY,"_createAndUseHandler");function bD(w,R,D){var Q=_w(R);if(Q)return Q;var ue=Dm("dyncfg",!0),we=R&&D!==!1?R:ww(R),Be;function je(){Be.notify()}s(je,"_notifyWatchers");function it(_n,pi,no){try{_n=sy(Be,_n,pi,no)}catch(Si){Pm(w,pi,"Setting value",Si)}return _n[pi]}s(it,"_setValue");function vt(_n){return dY(Be,_n)}s(vt,"_watch");function Tr(_n,pi){Be.use(null,function(no){var Si=Be.upd;try{z(pi)||(Be.upd=pi),_n(no)}finally{Be.upd=Si}})}s(Tr,"_block");function wn(_n,pi){var no;return Rw(Be,_n,pi,(no={},no[0]=!0,no))[pi]}s(wn,"_ref");function Hn(_n,pi){var no;return Rw(Be,_n,pi,(no={},no[1]=!0,no))[pi]}s(Hn,"_rdOnly");function Rr(_n,pi){var no;return Rw(Be,_n,pi,(no={},no[2]=!0,no))[pi]}s(Rr,"_blkPropValue");function Mr(_n,pi){return pi&&Xe(pi,function(no,Si){_p(qn,_n,no,Si)}),_n}s(Mr,"_applyDefaults");var qn={uid:null,cfg:we,logger:w,notify:je,set:it,setDf:Mr,watch:vt,ref:wn,rdOnly:Hn,blkVal:Rr,_block:Tr};return oe(qn,"uid",{c:!1,e:!1,w:!1,v:ue}),Be=vD(qn),D1(Be,we,"config","Creating"),qn}s(bD,"_createDynamicHandler");function ED(w,R){w?(w[gp](R),w[N3](2,108,R)):Mu(R)}s(ED,"_logInvalidAccess");function H3(w,R,D,Q){var ue=bD(D,w||{},Q);return R&&ue.setDf(ue.cfg,R),ue}s(H3,"createDynamicConfig");function ID(w,R,D){var Q=w[Kl]||w;return Q.cfg&&(Q.cfg===w||Q.cfg[Kl]===Q)?Q[aD](R):(ED(D,mD+ne(w)),H3(w,null,D)[aD](R))}s(ID,"onConfigChange");var i4=null;function TD(){var w=F("Microsoft");return w&&(i4=w.ApplicationInsights),i4}s(TD,"_getExtensionNamespace");function mY(w){var R=i4;return!R&&w.disableDbgExt!==!0&&(R=i4||TD()),R?R.ChromeDbgExt:null}s(mY,"getDebugExt");var ay,o4="warnToConsole",wD="AI (Internal): ",_D="AI: ",hY="AITR_",pY={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},SD=(ay={},ay[0]=null,ay[1]="errorToConsole",ay[2]=o4,ay[3]="debugToConsole",ay);function RD(w){return w?'"'+w[O2](/\"/g,qs)+'"':qs}s(RD,"_sanitizeDiagnosticText");function s4(w,R){var D=XE();if(D){var Q="log";D[w]&&(Q=w),ae(D[Q])&&D[Q](R)}}s(s4,"_logToConsole");var a4=function(){function w(R,D,Q,ue){Q===void 0&&(Q=!1);var we=this;we[dw]=R,we[E1]=(Q?_D:wD)+R;var Be=qs;Hi()&&(Be=Z2().stringify(ue));var je=(D?" message:"+RD(D):qs)+(ue?" props:"+RD(Be):qs);we[E1]+=je}return s(w,"_InternalLogMessage"),w.dataType="MessageData",w}();function gY(w,R){return(w||{})[Ap]||new l4(R)}s(gY,"safeGetLogger");var l4=function(){function w(R){this.identifier="DiagnosticLogger",this.queue=[];var D=0,Q={},ue,we,Be,je,it;Q3(w,this,function(vt){it=wn(R||{}),vt.consoleLoggingLevel=function(){return ue},vt[N3]=function(Mr,qn,_n,pi,no){no===void 0&&(no=!1);var Si=new a4(qn,_n,no,pi);if(je)throw ne(Si);var La=SD[Mr]||o4;if(z(Si[E1]))Rr("throw"+(Mr===1?"Critical":"Warning"),Si);else{if(no){var Qy=+Si[dw];!Q[Qy]&&ue>=Mr&&(vt[La](Si[E1]),Q[Qy]=!0)}else ue>=Mr&&vt[La](Si[E1]);Tr(Mr,Si)}},vt.debugToConsole=function(Mr){s4("debug",Mr),Rr("warning",Mr)},vt[gp]=function(Mr){s4("warn",Mr),Rr("warning",Mr)},vt.errorToConsole=function(Mr){s4("error",Mr),Rr("error",Mr)},vt.resetInternalMessageCount=function(){D=0,Q={}},vt.logInternalMessage=Tr,vt[i0]=function(Mr){it&&it.rm(),it=null};function Tr(Mr,qn){if(!Hn()){var _n=!0,pi=hY+qn[dw];if(Q[pi]?_n=!1:Q[pi]=!0,_n&&(Mr<=we&&(vt.queue[Gi](qn),D++,Rr(Mr===1?"error":"warn",qn)),D===Be)){var no="Internal events throttle limit per PageView reached for this app.",Si=new a4(23,no,!1);vt.queue[Gi](Si),Mr===1?vt.errorToConsole(no):vt[gp](no)}}}s(Tr,"_logInternalMessage");function wn(Mr){return ID(H3(Mr,pY,vt).cfg,function(qn){var _n=qn.cfg;ue=_n[cD],we=_n.loggingLevelTelemetry,Be=_n.maxMessageLimit,je=_n.enableDebug})}s(wn,"_setDefaultsFromConfig");function Hn(){return D>=Be}s(Hn,"_areInternalMessagesThrottled");function Rr(Mr,qn){var _n=mY(R||{});_n&&_n[mw]&&_n[mw](Mr,qn)}s(Rr,"_debugExtMsg")})}return s(w,"DiagnosticLogger"),w.__ieDyn=1,w}();function c4(w){return w||new l4}s(c4,"_getLogger");function o0(w,R,D,Q,ue,we){we===void 0&&(we=!1),c4(w)[N3](R,D,Q,ue,we)}s(o0,"_throwInternal");function u4(){for(var w=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],R=qs,D,Q=0;Q<4;Q++)D=iy(),R+=w[D&15]+w[D>>4&15]+w[D>>8&15]+w[D>>12&15]+w[D>>16&15]+w[D>>20&15]+w[D>>24&15]+w[D>>28&15];var ue=w[8+(iy()&3)|0];return St(R,0,8)+St(R,9,4)+"4"+St(R,13,3)+ue+St(R,16,3)+St(R,19,12)}s(u4,"generateW3CId");var ly=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,kw="00",W0="ff",hi="00000000000000000000000000000000",Lm="0000000000000000",ga=1;function Qu(w,R,D){return w&&w[Na]===R&&w!==D?!!w.match(/^[\da-f]*$/i):!1}s(Qu,"_isValid");function f4(w,R,D){return Qu(w,R)?w:D}s(f4,"_formatValue");function N1(w){(isNaN(w)||w<0||w>255)&&(w=1);for(var R=w.toString(16);R[Na]<2;)R="0"+R;return R}s(N1,"_formatFlags");function cy(w,R,D,Q){return{version:Qu(Q,2,W0)?Q:kw,traceId:uy(w)?w:u4(),spanId:fy(R)?R:$t(u4(),16),traceFlags:D>=0&&D<=255?D:1}}s(cy,"createTraceParent");function G0(w,R){if(!w||(le(w)&&(w=w[0]||""),!w||!K(w)||w[Na]>8192))return null;if(w.indexOf(",")!==-1){var D=w[hw](",");w=D[R>0&&D[Na]>R?R:0]}var Q=ly.exec(Ec(w));return!Q||Q[1]===W0||Q[2]===hi||Q[3]===Lm?null:{version:(Q[1]||qs)[P3](),traceId:(Q[2]||qs)[P3](),spanId:(Q[3]||qs)[P3](),traceFlags:parseInt(Q[4],16)}}s(G0,"parseTraceParent");function uy(w){return Qu(w,32,hi)}s(uy,"isValidTraceId");function fy(w){return Qu(w,16,Lm)}s(fy,"isValidSpanId");function dy(w){return!(!w||!Qu(w[lD],2,W0)||!Qu(w.traceId,32,hi)||!Qu(w.spanId,16,Lm)||!Qu(N1(w[OE]),2))}s(dy,"isValidTraceParent");function d4(w){return dy(w)?(w[OE]&ga)===ga:!1}s(d4,"isSampledFlag");function L1(w){if(w){var R=N1(w[OE]);Qu(R,2)||(R="01");var D=w[lD]||kw;return D!=="00"&&D!=="ff"&&(D=kw),"".concat(D.toLowerCase(),"-").concat(f4(w.traceId,32,hi).toLowerCase(),"-").concat(f4(w.spanId,16,Lm).toLowerCase(),"-").concat(R.toLowerCase())}return""}s(L1,"formatTraceParent");function Bw(w){var R="traceparent",D=G0(ZE(R),w);return D||(D=G0(ed(R),w)),D}s(Bw,"findW3cTraceParent");function Dw(w){var R=w.getElementsByTagName("script"),D=[];return Cl(R,function(Q){var ue=Q[pw]("src");if(ue){var we=Q[pw]("crossorigin"),Be=Q.hasAttribute("async")===!0,je=Q.hasAttribute("defer")===!0,it=Q[pw]("referrerpolicy"),vt={url:ue};we&&(vt.crossOrigin=we),Be&&(vt.async=Be),je&&(vt.defer=je),it&&(vt.referrerPolicy=it),D[Gi](vt)}}),D}s(Dw,"findAllScripts");var m4="on",j3="attachEvent",h4="addEventListener",p4="detachEvent",kD="removeEventListener",Pw="events";Dm("aiEvtPageHide"),Dm("aiEvtPageShow");var AY=/\.[\.]+/g,yY=/[\.]+$/,g4=1,my=id("events"),vl=/^([^.]*)(?:\.(.+)|)/;function V3(w){return w&&w[O2]?w[O2](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,qs):w}s(V3,"_normalizeNamespace");function il(w,R){if(R){var D=qs;le(R)?(D=qs,Cl(R,function(ue){ue=V3(ue),ue&&(ue[0]!=="."&&(ue="."+ue),D+=ue)})):D=V3(R),D&&(D[0]!=="."&&(D="."+D),w=(w||qs)+D)}var Q=vl.exec(w||qs)||[];return{type:Q[1],ns:(Q[2]||qs).replace(AY,".").replace(yY,qs)[hw](".").sort().join(".")}}s(il,"_getEvtNamespace");function Rp(w,R,D){D===void 0&&(D=!0);var Q=my.get(w,Pw,{},D),ue=Q[R];return ue||(ue=Q[R]=[]),ue}s(Rp,"_getRegisteredEvents");function BD(w,R,D,Q){w&&R&&R[yp]&&(w[kD]?w[kD](R[yp],D,Q):w[p4]&&w[p4](m4+R[yp],D))}s(BD,"_doDetach");function CY(w,R,D,Q){var ue=!1;return w&&R&&R[yp]&&D&&(w[h4]?(w[h4](R[yp],D,Q),ue=!0):w[j3]&&(w[j3](m4+R[yp],D),ue=!0)),ue}s(CY,"_doAttach");function $3(w,R,D,Q){for(var ue=R[Na];ue--;){var we=R[ue];we&&(!D.ns||D.ns===we[fD].ns)&&(!Q||Q(we))&&(BD(w,we[fD],we.handler,we.capture),R[b1](ue,1))}}s($3,"_doUnregister");function Nw(w,R,D){if(R[yp])$3(w,Rp(w,R[yp]),R,D);else{var Q=my.get(w,Pw,{});Xe(Q,function(ue,we){$3(w,we,R,D)}),Ct(Q)[Na]===0&&my.kill(w,Pw)}}s(Nw,"_unregisterEvents");function xY(w,R){var D;return R?(le(R)?D=[w].concat(R):D=[w,R],D=il("xx",D).ns[hw](".")):D=w,D}s(xY,"mergeEvtNamespace");function Lw(w,R,D,Q,ue){ue===void 0&&(ue=!1);var we=!1;if(w)try{var Be=il(R,Q);if(we=CY(w,Be,D,ue),we&&my.accept(w)){var je={guid:g4++,evtName:Be,handler:D,capture:ue};Rp(w,Be.type)[Gi](je)}}catch{}return we}s(Lw,"eventOn");function DD(w,R,D,Q,ue){if(ue===void 0&&(ue=!1),w)try{var we=il(R,Q),Be=!1;Nw(w,we,function(je){return we.ns&&!D||je.handler===D?(Be=!0,!0):!1}),Be||BD(w,we,D,ue)}catch{}}s(DD,"eventOff");var A4="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",PD="sampleRate",y4="ProcessLegacy",ND="http.method",Fw="https://dc.services.visualstudio.com",z3="/v2/track",od="not_specified",Mw="iKey",LD=tY({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),kp="split",Tn="length",hy="toLowerCase",F1="ingestionendpoint",M1="toString",Qw="removeItem",Y3="message",py="count",C4="preTriggerDate",Ow="getUTCDate",x4="stringify",gy="pathname",Q1="match",Uw="correlationHeaderExcludePatterns",H0="name",Ay="extensionConfig",sd="properties",Ic="measurements",yy="sizeInBytes",K3="typeName",Cy="exceptions",J3="severityLevel",xy="problemGroup",s0="parsedStack",v4="hasFullStack",b4="assembly",Ou="fileName",vy="line",Bp="aiDataContract",X3="duration";function qw(w,R,D){var Q=R[Tn],ue=Ww(w,R);if(ue[Tn]!==Q){for(var we=0,Be=ue;D[Be]!==void 0;)we++,Be=kt(ue,0,147)+FD(we);ue=Be}return ue}s(qw,"dataSanitizeKeyAndAddUniqueness");function Ww(w,R){var D;return R&&(R=Ec(Ge(R)),R[Tn]>150&&(D=kt(R,0,150),o0(w,2,57,"name is too long.  It has been truncated to 150 characters.",{name:R},!0))),D||R}s(Ww,"dataSanitizeKey");function ol(w,R,D){D===void 0&&(D=1024);var Q;return R&&(D=D||1024,R=Ec(Ge(R)),R[Tn]>D&&(Q=kt(R,0,D),o0(w,2,61,"string value is too long. It has been truncated to "+D+" characters.",{value:R},!0))),Q||R}s(ol,"dataSanitizeString");function ad(w,R){return Hw(w,R,2048,66)}s(ad,"dataSanitizeUrl");function E4(w,R){var D;return R&&R[Tn]>32768&&(D=kt(R,0,32768),o0(w,2,56,"message is too long, it has been truncated to 32768 characters.",{message:R},!0)),D||R}s(E4,"dataSanitizeMessage");function Gw(w,R){var D;if(R){var Q=""+R;Q[Tn]>32768&&(D=kt(Q,0,32768),o0(w,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:R},!0))}return D||R}s(Gw,"dataSanitizeException");function Fm(w,R){if(R){var D={};Xe(R,function(Q,ue){if(re(ue)&&Hi())try{ue=Z2()[x4](ue)}catch(we){o0(w,2,49,"custom property is not valid",{exception:we},!0)}ue=ol(w,ue,8192),Q=qw(w,Q,D),D[Q]=ue}),R=D}return R}s(Fm,"dataSanitizeProperties");function j0(w,R){if(R){var D={};Xe(R,function(Q,ue){Q=qw(w,Q,D),D[Q]=ue}),R=D}return R}s(j0,"dataSanitizeMeasurements");function by(w,R){return R&&Hw(w,R,128,69)[M1]()}s(by,"dataSanitizeId");function Hw(w,R,D,Q){var ue;return R&&(R=Ec(Ge(R)),R[Tn]>D&&(ue=kt(R,0,D),o0(w,2,Q,"input is too long, it has been truncated to "+D+" characters.",{data:R},!0))),ue||R}s(Hw,"dataSanitizeInput");function FD(w){var R="00"+w;return St(R,R[Tn]-3)}s(FD,"dsPadNumber");var jw=Te()||{},MD=0,vY=[null,null,null,null,null];function Ey(w){var R=MD,D=vY,Q=D[R];return jw.createElement?D[R]||(Q=D[R]=jw.createElement("a")):Q={host:OD(w,!0)},Q.href=w,R++,R>=D[Tn]&&(R=0),MD=R,Q}s(Ey,"urlParseUrl");function bY(w){var R,D=Ey(w);return D&&(R=D.href),R}s(bY,"urlGetAbsoluteUrl");function EY(w){var R,D=Ey(w);return D&&(R=D[gy]),R}s(EY,"urlGetPathName");function QD(w,R){return w?w.toUpperCase()+" "+R:R}s(QD,"urlGetCompleteUrl");function OD(w,R){var D=Mm(w,R)||"";if(D){var Q=D[Q1](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[Tn]>3&&K(Q[2])&&Q[2][Tn]>0)return Q[2]+(Q[3]||"")}return D}s(OD,"urlParseHost");function Mm(w,R){var D=null;if(w){var Q=w[Q1](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Q!=null&&Q[Tn]>2&&K(Q[2])&&Q[2][Tn]>0&&(D=Q[2]||"",R&&Q[Tn]>2)){var ue=(Q[1]||"")[hy](),we=Q[3]||"";(ue==="http"&&we===":80"||ue==="https"&&we===":443")&&(we=""),D+=we}}return D}s(Mm,"urlParseFullHost");var UD=[Fw+z3,"https://breeze.aimon.applicationinsights.io"+z3,"https://dc-int.services.visualstudio.com"+z3],Iy="cid-v1:";function qD(w){return wm(UD,w[hy]())!==-1}s(qD,"isInternalApplicationInsightsEndpoint");function Vw(w){Iy=w}s(Vw,"correlationIdSetPrefix");function $w(){return Iy}s($w,"correlationIdGetPrefix");function Dp(w,R,D){if(!R||w&&w.disableCorrelationHeaders)return!1;if(w&&w[Uw]){for(var Q=0;Q<w.correlationHeaderExcludePatterns[Tn];Q++)if(w[Uw][Q].test(R))return!1}var ue=Ey(R).host[hy]();if(ue&&(Jr(ue,":443")!==-1||Jr(ue,":80")!==-1)&&(ue=(Mm(R,!0)||"")[hy]()),(!w||!w.enableCorsCorrelation)&&ue&&ue!==D)return!1;var we=w&&w.correlationHeaderDomains;if(we){var Be;if(Cl(we,function(vt){var Tr=new RegExp(vt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Be=Be||Tr.test(ue)}),!Be)return!1}var je=w&&w.correlationHeaderExcludedDomains;if(!je||je[Tn]===0)return!0;for(var Q=0;Q<je[Tn];Q++){var it=new RegExp(je[Q].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(it.test(ue))return!1}return ue&&ue[Tn]>0}s(Dp,"correlationIdCanIncludeCorrelationHeader");function WD(w){if(w){var R=GD(w,LD[1]);if(R&&R!==Iy)return R}}s(WD,"correlationIdGetCorrelationContext");function GD(w,R){if(w)for(var D=w[kp](","),Q=0;Q<D[Tn];++Q){var ue=D[Q][kp]("=");if(ue[Tn]===2&&ue[0]===R)return ue[1]}}s(GD,"correlationIdGetCorrelationContextValue");function HD(w,R,D,Q){var ue,we=Q,Be=Q;if(R&&R[Tn]>0){var je=Ey(R);if(ue=je.host,!we)if(je[gy]!=null){var it=je.pathname[Tn]===0?"/":je[gy];it.charAt(0)!=="/"&&(it="/"+it),Be=je[gy],we=ol(w,D?D+" "+it:it)}else we=ol(w,R)}else ue=Q,we=Q;return{target:ue,name:we,data:Be}}s(HD,"AjaxHelperParseDependencyPath");function IY(){var w=B3();if(w&&w.now&&w.timing){var R=w.now()+w.timing.navigationStart;if(R>0)return R}return C1()}s(IY,"dateTimeUtilsNow");function TY(w,R){var D=null;return w!==0&&R!==0&&!U(w)&&!U(R)&&(D=R-w),D}s(TY,"dateTimeUtilsDuration");function zw(w,R){var D=w||{};return{getName:s(function(){return D[H0]},"getName"),setName:s(function(Q){R&&R.setName(Q),D[H0]=Q},"setName"),getTraceId:s(function(){return D.traceID},"getTraceId"),setTraceId:s(function(Q){R&&R.setTraceId(Q),uy(Q)&&(D.traceID=Q)},"setTraceId"),getSpanId:s(function(){return D.parentID},"getSpanId"),setSpanId:s(function(Q){R&&R.setSpanId(Q),fy(Q)&&(D.parentID=Q)},"setSpanId"),getTraceFlags:s(function(){return D.traceFlags},"getTraceFlags"),setTraceFlags:s(function(Q){R&&R.setTraceFlags(Q),D.traceFlags=Q},"setTraceFlags")}}s(zw,"createDistributedTraceContextFromTrace");var Ty=D3({LocalStorage:0,SessionStorage:1}),wY=D3({AI:0,AI_AND_W3C:1,W3C:2}),Z3=D3({Normal:1,Critical:2}),Pp=void 0,Uu=void 0,jD="";function wy(){return I4()?_y(Ty.LocalStorage):null}s(wy,"_getLocalStorageObject");function _y(w){try{if(U(J()))return null;var R=new Date()[M1](),D=F(w===Ty.LocalStorage?"localStorage":"sessionStorage"),Q=jD+R;D.setItem(Q,R);var ue=D.getItem(Q)!==R;if(D[Qw](Q),!ue)return D}catch{}return null}s(_y,"_getVerifiedStorageObject");function Sy(){return Qm()?_y(Ty.SessionStorage):null}s(Sy,"_getSessionStorageObject");function ex(){Pp=!1,Uu=!1}s(ex,"utlDisableStorage");function tx(w){jD=w||""}s(tx,"utlSetStoragePrefix");function _Y(){Pp=I4(!0),Uu=Qm(!0)}s(_Y,"utlEnableStorage");function I4(w){return(w||Pp===void 0)&&(Pp=!!_y(Ty.LocalStorage)),Pp}s(I4,"utlCanUseLocalStorage");function VD(w,R){var D=wy();if(D!==null)try{return D.getItem(R)}catch(Q){Pp=!1,o0(w,2,1,"Browser failed read of local storage. "+vp(Q),{exception:ne(Q)})}return null}s(VD,"utlGetLocalStorage");function $D(w,R,D){var Q=wy();if(Q!==null)try{return Q.setItem(R,D),!0}catch(ue){Pp=!1,o0(w,2,3,"Browser failed write to local storage. "+vp(ue),{exception:ne(ue)})}return!1}s($D,"utlSetLocalStorage");function V0(w,R){var D=wy();if(D!==null)try{return D[Qw](R),!0}catch(Q){Pp=!1,o0(w,2,5,"Browser failed removal of local storage item. "+vp(Q),{exception:ne(Q)})}return!1}s(V0,"utlRemoveStorage");function Qm(w){return(w||Uu===void 0)&&(Uu=!!_y(Ty.SessionStorage)),Uu}s(Qm,"utlCanUseSessionStorage");function Ry(){var w=[];return Qm()&&Xe(F("sessionStorage"),function(R){w.push(R)}),w}s(Ry,"utlGetSessionStorageKeys");function zD(w,R){var D=Sy();if(D!==null)try{return D.getItem(R)}catch(Q){Uu=!1,o0(w,2,2,"Browser failed read of session storage. "+vp(Q),{exception:ne(Q)})}return null}s(zD,"utlGetSessionStorage");function SY(w,R,D){var Q=Sy();if(Q!==null)try{return Q.setItem(R,D),!0}catch(ue){Uu=!1,o0(w,2,4,"Browser failed write to session storage. "+vp(ue),{exception:ne(ue)})}return!1}s(SY,"utlSetSessionStorage");function YD(w,R){var D=Sy();if(D!==null)try{return D[Qw](R),!0}catch(Q){Uu=!1,o0(w,2,6,"Browser failed removal of session storage item. "+vp(Q),{exception:ne(Q)})}return!1}s(YD,"utlRemoveSessionStorage");var RY="appInsightsThrottle",kY=function(){function w(R,D){var Q=this,ue,we,Be,je,it,vt,Tr,wn=!1,Hn=!1;Mr(),Q._getDbgPlgTargets=function(){return[Tr]},Q.getConfig=function(){return Be},Q.canThrottle=function(Ft){var Gr=l7(Ft),cn=qn(Ft);return no(cn,ue,Gr)},Q.isTriggered=function(Ft){return dP(Ft)},Q.isReady=function(){return wn},Q.flush=function(Ft){try{var Gr=mP(Ft);if(Gr&&Gr[Tn]>0){var cn=Gr.slice(0);return Tr[Ft]=[],Cl(cn,function(Mo){Rr(Mo.msgID,Mo[Y3],Mo.severity,!1)}),!0}}catch{}return!1},Q.flushAll=function(){try{if(Tr){var Ft=!0;return Xe(Tr,function(Gr){var cn=Q.flush(parseInt(Gr));Ft=Ft&&cn}),Ft}}catch{}return!1},Q.onReadyState=function(Ft,Gr){return Gr===void 0&&(Gr=!0),wn=U(Ft)?!0:Ft,wn&&Gr?Q.flushAll():null},Q.sendMessage=function(Ft,Gr,cn){return Rr(Ft,Gr,cn,!0)};function Rr(Ft,Gr,cn,Mo){if(wn){var Fa=zY(Ft);if(!Fa)return;var Ws=qn(Ft),Ma=l7(Ft),U1=no(Ws,ue,Ma),Qp=!1,Oy=0,hP=dP(Ft);try{U1&&!hP?(Oy=Mt(Ws.limit.maxSendNumber,Ma[py]+1),Ma[py]=0,Qp=!0,it[Ft]=!0,Ma[C4]=new Date):(it[Ft]=U1,Ma[py]+=1);var pP=Si(Ft);a7(we,pP,Ma);for(var Q4=0;Q4<Oy;Q4++)fP(Ft,we,Gr,cn)}catch{}return{isThrottled:Qp,throttleNum:Oy}}else if(Mo){var YY=mP(Ft);YY.push({msgID:Ft,message:Gr,severity:cn})}return null}s(Rr,"_flushMessage");function Mr(){we=gY(R),it={},je={},Tr={},Be={},_n(109),vt=Iw(D)?D:"",R.addUnloadHook(ID(R.config,function(Ft){var Gr=Ft.cfg;ue=I4();var cn=Gr.throttleMgrCfg||{};Xe(cn,function(Mo,Fa){_n(parseInt(Mo),Fa)})}))}s(Mr,"_initConfig");function qn(Ft){return Be[Ft]||Be[109]}s(qn,"_getCfgByKey");function _n(Ft,Gr){var cn,Mo;try{var Fa=Gr||{},Ws={};Ws.disabled=!!Fa.disabled;var Ma=Fa.interval||{};Hn=Ma?.daysOfMonth&&Ma?.daysOfMonth[Tn]>0,Ws.interval=pi(Ma);var U1={samplingRate:((cn=Fa.limit)===null||cn===void 0?void 0:cn.samplingRate)||100,maxSendNumber:((Mo=Fa.limit)===null||Mo===void 0?void 0:Mo.maxSendNumber)||1};Ws.limit=U1,Be[Ft]=Ws}catch{}}s(_n,"_setCfgByKey");function pi(Ft){Ft=Ft||{};var Gr=Ft?.monthInterval,cn=Ft?.dayInterval;return U(Gr)&&U(cn)&&(Ft.monthInterval=3,Hn||(Ft.daysOfMonth=[28],Hn=!0)),Ft={monthInterval:Ft?.monthInterval,dayInterval:Ft?.dayInterval,daysOfMonth:Ft?.daysOfMonth},Ft}s(pi,"_getIntervalConfig");function no(Ft,Gr,cn){if(Ft&&!Ft.disabled&&Gr&&Iw(cn)){var Mo=cx(),Fa=cn.date,Ws=Ft.interval,Ma=1;if(Ws?.monthInterval){var U1=(Mo.getUTCFullYear()-Fa.getUTCFullYear())*12+Mo.getUTCMonth()-Fa.getUTCMonth();Ma=M4(Ws.monthInterval,0,U1)}var Qp=1;if(Hn)Qp=wm(Ws.daysOfMonth,Mo[Ow]());else if(Ws?.dayInterval){var Oy=mp((Mo.getTime()-Fa.getTime())/864e5);Qp=M4(Ws.dayInterval,0,Oy)}return Ma>=0&&Qp>=0}return!1}s(no,"_canThrottle");function Si(Ft,Gr){var cn=Iw(Gr)?Gr:"";return Ft?RY+cn+"-"+Ft:null}s(Si,"_getLocalStorageName");function La(Ft){try{if(Ft){var Gr=new Date;return Ft.getUTCFullYear()===Gr.getUTCFullYear()&&Ft.getUTCMonth()===Gr.getUTCMonth()&&Ft[Ow]()===Gr[Ow]()}}catch{}return!1}s(La,"_isTriggeredOnCurDate");function Qy(Ft,Gr,cn){try{var Mo={date:cx(),count:0};if(Ft){var Fa=JSON.parse(Ft),Ws={date:cx(Fa.date)||Mo.date,count:Fa[py]||Mo[py],preTriggerDate:Fa.preTriggerDate?cx(Fa[C4]):void 0};return Ws}else return a7(Gr,cn,Mo),Mo}catch{}return null}s(Qy,"_getLocalStorageObj");function cx(Ft){try{if(Ft){var Gr=new Date(Ft);if(!isNaN(Gr.getDate()))return Gr}else return new Date}catch{}return null}s(cx,"_getThrottleDate");function a7(Ft,Gr,cn){try{return $D(Ft,Gr,Ec(JSON[x4](cn)))}catch{}return!1}s(a7,"_resetLocalStorage");function M4(Ft,Gr,cn){return Ft<=0?1:cn>=Gr&&(cn-Gr)%Ft==0?mp((cn-Gr)/Ft)+1:-1}s(M4,"_checkInterval");function fP(Ft,Gr,cn,Mo){o0(Gr,Mo||1,Ft,cn)}s(fP,"_sendMessage");function zY(Ft){try{var Gr=qn(Ft);return e4(1e6)<=Gr.limit.samplingRate}catch{}return!1}s(zY,"_canSampledIn");function l7(Ft){try{var Gr=je[Ft];if(!Gr){var cn=Si(Ft,vt);Gr=Qy(VD(we,cn),we,cn),je[Ft]=Gr}return je[Ft]}catch{}return null}s(l7,"_getLocalStorageObjByKey");function dP(Ft){var Gr=it[Ft];if(U(Gr)){Gr=!1;var cn=l7(Ft);cn&&(Gr=La(cn[C4])),it[Ft]=Gr}return it[Ft]}s(dP,"_isTrigger");function mP(Ft){return Tr=Tr||{},U(Tr[Ft])&&(Tr[Ft]=[]),Tr[Ft]}s(mP,"_getQueueByKey")}return s(w,"ThrottleMgr"),w}(),Yw=";",ld="=";function T4(w){if(!w)return{};var R=w[kp](Yw),D=ta(R,function(ue,we){var Be=we[kp](ld);if(Be[Tn]===2){var je=Be[0][hy](),it=Be[1];ue[je]=it}return ue},{});if(Ct(D)[Tn]>0){if(D.endpointsuffix){var Q=D.location?D.location+".":"";D[F1]=D[F1]||"https://"+Q+"dc."+D.endpointsuffix}D[F1]=D[F1]||Fw,F2(D[F1],"/")&&(D[F1]=D[F1].slice(0,-1))}return D}s(T4,"parseConnectionString");var w4={parse:T4},_4=function(){function w(R,D,Q){var ue=this,we=this;we.ver=1,we.sampleRate=100,we.tags={},we[H0]=ol(R,Q)||od,we.data=D,we.time=km(new Date),we[Bp]={time:1,iKey:1,name:1,sampleRate:s(function(){return ue.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return s(w,"Envelope"),w}(),BY=function(){function w(R,D,Q,ue){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var we=this;we.ver=2,we[H0]=ol(R,D)||od,we[sd]=Fm(R,Q),we[Ic]=j0(R,ue)}return s(w,"Event"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Event",w.dataType="EventData",w}(),DY=58,KD=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,PY=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,ky=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,JD=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,NY=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,LY=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,FY=/([^\(\s\n]+):([0-9]+)$/,XD="<no_method>",By="error",a0="stack",rx="stackDetails",S4="errorSrc",nx="message",ix="description",Kw=[{re:PY,len:5,m:1,fn:2,ln:3,col:4},{chk:R4,pre:Or,re:ky,len:4,m:1,fn:2,ln:3},{re:JD,len:3,m:1,fn:2,hdl:Xw},{re:NY,len:2,fn:1,hdl:Xw}];function Or(w){return w.replace(/(\(anonymous\))/,"<anonymous>")}s(Or,"_scrubAnonymous");function R4(w){return Jr(w,"[native")<0}s(R4,"_ignoreNative");function ox(w,R){var D=w;return D&&!K(D)&&(JSON&&JSON[x4]?(D=JSON[x4](w),R&&(!D||D==="{}")&&(ae(w[M1])?D=w[M1]():D=""+w)):D=""+w+" - (Missing JSON.stringify)"),D||""}s(ox,"_stringify");function Np(w,R){var D=w;return w&&(D&&!K(D)&&(D=w[nx]||w[ix]||D),D&&!K(D)&&(D=ox(D,!0)),w.filename&&(D=D+" @"+(w.filename||"")+":"+(w.lineno||"?")+":"+(w.colno||"?"))),R&&R!=="String"&&R!=="Object"&&R!=="Error"&&Jr(D||"",R)===-1&&(D=R+": "+D),D||""}s(Np,"_formatMessage");function ZD(w){try{if(re(w))return"hasFullStack"in w&&"typeName"in w}catch{}return!1}s(ZD,"_isExceptionDetailsInternal");function eP(w){try{if(re(w))return"ver"in w&&"exceptions"in w&&"properties"in w}catch{}return!1}s(eP,"_isExceptionInternal");function k4(w){return w&&w.src&&K(w.src)&&w.obj&&le(w.obj)}s(k4,"_isStackDetails");function Om(w){var R=w||"";K(R)||(K(R[a0])?R=R[a0]:R=""+R);var D=R[kp](`
`);return{src:R,obj:D}}s(Om,"_convertStackObj");function tP(w){for(var R=[],D=w[kp](`
`),Q=0;Q<D[Tn];Q++){var ue=D[Q];D[Q+1]&&(ue+="@"+D[Q+1],Q++),R.push(ue)}return{src:w,obj:R}}s(tP,"_getOperaStack");function B4(w){var R=null;if(w)try{if(w[a0])R=Om(w[a0]);else if(w[By]&&w[By][a0])R=Om(w[By][a0]);else if(w.exception&&w.exception[a0])R=Om(w.exception[a0]);else if(k4(w))R=w;else if(k4(w[rx]))R=w[rx];else if(xt()&&xt().opera&&w[nx])R=tP(w[Y3]);else if(w.reason&&w.reason[a0])R=Om(w.reason[a0]);else if(K(w))R=Om(w);else{var D=w[nx]||w[ix]||"";K(w[S4])&&(D&&(D+=`
`),D+=" from "+w[S4]),D&&(R=Om(D))}}catch(Q){R=Om(Q)}return R||{src:"",obj:null}}s(B4,"_getStackFromErrorObj");function rP(w){var R="";return w&&(w.obj?R=w.obj.join(`
`):R=w.src||""),R}s(rP,"_formatStackTrace");function D4(w){var R,D=w.obj;if(D&&D[Tn]>0){R=[];var Q=0,ue=!1,we=0;Cl(D,function(qn){if(ue||MY(qn)){var _n=Ge(qn);ue=!0;var pi=QY(_n,Q);pi&&(we+=pi[yy],R.push(pi),Q++)}});var Be=32*1024;if(we>Be)for(var je=0,it=R[Tn]-1,vt=0,Tr=je,wn=it;je<it;){var Hn=R[je][yy],Rr=R[it][yy];if(vt+=Hn+Rr,vt>Be){var Mr=wn-Tr+1;R.splice(Tr,Mr);break}Tr=je,wn=it,je++,it--}}return R}s(D4,"_parseStack");function Dy(w){var R="";if(w&&(R=w.typeName||w[H0]||"",!R))try{var D=/function (.{1,200})\(/,Q=D.exec(w.constructor[M1]());R=Q&&Q[Tn]>1?Q[1]:""}catch{}return R}s(Dy,"_getErrorType");function P4(w){if(w)try{if(!K(w)){var R=Dy(w),D=ox(w,!1);return(!D||D==="{}")&&(w[By]&&(w=w[By],R=Dy(w)),D=ox(w,!0)),Jr(D,R)!==0&&R!=="String"?R+":"+D:D}}catch{}return""+(w||"")}s(P4,"_formatErrorCode");var cd=function(){function w(R,D,Q,ue,we,Be){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var je=this;je.ver=2,eP(D)?(je[Cy]=D[Cy]||[],je[sd]=D[sd],je[Ic]=D[Ic],D[J3]&&(je[J3]=D[J3]),D.id&&(je.id=D.id,D[sd].id=D.id),D[xy]&&(je[xy]=D[xy]),U(D.isManual)||(je.isManual=D.isManual)):(Q||(Q={}),Be&&(Q.id=Be),je[Cy]=[oP(R,D,Q)],je[sd]=Fm(R,Q),je[Ic]=j0(R,ue),we&&(je[J3]=we),Be&&(je.id=Be))}return s(w,"Exception"),w.CreateAutoException=function(R,D,Q,ue,we,Be,je,it){var vt=Dy(we||Be||R);return{message:Np(R,vt),url:D,lineNumber:Q,columnNumber:ue,error:P4(we||Be||R),evt:P4(Be||R),typeName:vt,stackDetails:B4(je||we||Be),errorSrc:it}},w.CreateFromInterface=function(R,D,Q,ue){var we=D[Cy]&&Xf(D[Cy],function(je){return Jw(R,je)}),Be=new w(R,GE(GE({},D),{exceptions:we}),Q,ue);return Be},w.prototype.toInterface=function(){var R=this,D=R.exceptions,Q=R.properties,ue=R.measurements,we=R.severityLevel,Be=R.problemGroup,je=R.id,it=R.isManual,vt=D instanceof Array&&Xf(D,function(Tr){return Tr.toInterface()})||void 0;return{ver:"4.0",exceptions:vt,severityLevel:we,properties:Q,measurements:ue,problemGroup:Be,id:je,isManual:it}},w.CreateSimpleException=function(R,D,Q,ue,we,Be){var je;return{exceptions:[(je={},je[v4]=!0,je.message=R,je.stack=we,je.typeName=D,je)]}},w.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",w.dataType="ExceptionData",w.formatError=P4,w}(),nP=Pt({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function iP(){var w=this,R=le(w[s0])&&Xf(w[s0],function(Q){return aP(Q)}),D={id:w.id,outerId:w.outerId,typeName:w[K3],message:w[Y3],hasFullStack:w[v4],stack:w[a0],parsedStack:R||void 0};return D}s(iP,"_toInterface");function oP(w,R,D){var Q,ue,we,Be,je,it,vt,Tr;if(ZD(R))Be=R[K3],je=R[Y3],vt=R[a0],Tr=R[s0]||[],it=R[v4];else{var wn=R,Hn=wn&&wn.evt;ce(wn)||(wn=wn[By]||Hn||wn),Be=ol(w,Dy(wn))||od,je=E4(w,Np(R||wn,Be))||od;var Rr=R[rx]||B4(R);Tr=D4(Rr),le(Tr)&&Xf(Tr,function(Mr){Mr[b4]=ol(w,Mr[b4]),Mr[Ou]=ol(w,Mr[Ou])}),vt=Gw(w,rP(Rr)),it=le(Tr)&&Tr[Tn]>0,D&&(D[K3]=D[K3]||Be)}return Q={},Q[Bp]=nP,Q.id=ue,Q.outerId=we,Q.typeName=Be,Q.message=je,Q[v4]=it,Q.stack=vt,Q.parsedStack=Tr,Q.toInterface=iP,Q}s(oP,"_createExceptionDetails");function Jw(w,R){var D=le(R[s0])&&Xf(R[s0],function(ue){return sP(ue)})||R[s0],Q=oP(w,GE(GE({},R),{parsedStack:D}));return Q}s(Jw,"_createExDetailsFromInterface");function sx(w,R){var D=R[Q1](LY);if(D&&D[Tn]>=4)w[Ou]=D[1],w[vy]=parseInt(D[2]);else{var Q=R[Q1](FY);Q&&Q[Tn]>=3?(w[Ou]=Q[1],w[vy]=parseInt(Q[2])):w[Ou]=R}}s(sx,"_parseFilename");function Xw(w,R,D){var Q=w[Ou];R.fn&&D&&D[Tn]>R.fn&&(R.ln&&D[Tn]>R.ln?(Q=Ec(D[R.fn]||""),w[vy]=parseInt(Ec(D[R.ln]||""))||0):Q=Ec(D[R.fn]||"")),Q&&sx(w,Q)}s(Xw,"_handleFilename");function MY(w){var R=!1;if(w&&K(w)){var D=Ec(w);D&&(R=KD.test(D))}return R}s(MY,"_isStackFrame");var Zw=Pt({level:1,method:1,assembly:0,fileName:0,line:0});function QY(w,R){var D,Q;if(w&&K(w)&&Ec(w)){Q=(D={},D[Bp]=Zw,D.level=R,D.assembly=Ec(w),D.method=XD,D.fileName="",D.line=0,D.sizeInBytes=0,D);for(var ue=0;ue<Kw[Tn];){var we=Kw[ue];if(we.chk&&!we.chk(w))break;we.pre&&(w=we.pre(w));var Be=w[Q1](we.re);if(Be&&Be[Tn]>=we.len){we.m&&(Q.method=Ec(Be[we.m]||XD)),we.hdl?we.hdl(Q,we,Be):we.fn&&(we.ln?(Q[Ou]=Ec(Be[we.fn]||""),Q[vy]=parseInt(Ec(Be[we.ln]||""))||0):sx(Q,Be[we.fn]||""));break}ue++}}return e7(Q)}s(QY,"_extractStackFrame");function sP(w){var R,D=(R={},R[Bp]=Zw,R.level=w.level,R.method=w.method,R.assembly=w[b4],R.fileName=w[Ou],R.line=w[vy],R.sizeInBytes=0,R);return e7(D)}s(sP,"_stackFrameFromInterface");function e7(w){var R=DY;return w&&(R+=w.method[Tn],R+=w.assembly[Tn],R+=w.fileName[Tn],R+=w.level.toString()[Tn],R+=w.line.toString()[Tn],w[yy]=R),w}s(e7,"_populateFrameSizeInBytes");function aP(w){return{level:w.level,method:w.method,assembly:w[b4],fileName:w[Ou],line:w[vy]}}s(aP,"_parsedFrameToInterface");var lP=function(){function w(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(w,"DataPoint"),w}(),OY=function(){function w(R,D,Q,ue,we,Be,je,it,vt){this.aiDataContract={ver:1,metrics:1,properties:0};var Tr=this;Tr.ver=2;var wn=new lP;wn[py]=ue>0?ue:void 0,wn.max=isNaN(Be)||Be===null?void 0:Be,wn.min=isNaN(we)||we===null?void 0:we,wn[H0]=ol(R,D)||od,wn.value=Q,wn.stdDev=isNaN(je)||je===null?void 0:je,Tr.metrics=[wn],Tr[sd]=Fm(R,it),Tr[Ic]=j0(R,vt)}return s(w,"Metric"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",w.dataType="MetricData",w}(),Py="";function UY(w,R){return R===void 0&&(R=!1),w==null?R:w.toString()[hy]()==="true"}s(UY,"stringToBoolOrDefault");function t7(w){(isNaN(w)||w<0)&&(w=0),w=cw(w);var R=Py+w%1e3,D=Py+mp(w/1e3)%60,Q=Py+mp(w/(1e3*60))%60,ue=Py+mp(w/(1e3*60*60))%24,we=mp(w/(1e3*60*60*24));return R=R[Tn]===1?"00"+R:R[Tn]===2?"0"+R:R,D=D[Tn]<2?"0"+D:D,Q=Q[Tn]<2?"0"+Q:Q,ue=ue[Tn]<2?"0"+ue:ue,(we>0?we+".":Py)+ue+":"+Q+":"+D+"."+R}s(t7,"msToTimeSpan");function qY(w,R){var D=null;return Cl(w,function(Q){if(Q.identifier===R)return D=Q,-1}),D}s(qY,"getExtensionByName");function Lp(w,R,D,Q,ue){return!ue&&K(w)&&(w==="Script error."||w==="Script error")}s(Lp,"isCrossOriginError");var WY=function(){function w(R,D,Q,ue,we,Be,je){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var it=this;it.ver=2,it.id=by(R,je),it.url=ad(R,Q),it[H0]=ol(R,D)||od,isNaN(ue)||(it[X3]=t7(ue)),it[sd]=Fm(R,we),it[Ic]=j0(R,Be)}return s(w,"PageView"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",w.dataType="PageviewData",w}(),Ny=function(){function w(R,D,Q,ue,we,Be,je,it,vt,Tr,wn,Hn){vt===void 0&&(vt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Rr=this;Rr.ver=2,Rr.id=D,Rr[X3]=t7(we),Rr.success=Be,Rr.resultCode=je+"",Rr.type=ol(R,vt);var Mr=HD(R,Q,it,ue);Rr.data=ad(R,ue)||Mr.data,Rr.target=ol(R,Mr.target),Tr&&(Rr.target="".concat(Rr.target," | ").concat(Tr)),Rr[H0]=ol(R,Mr[H0]),Rr[sd]=Fm(R,wn),Rr[Ic]=j0(R,Hn)}return s(w,"RemoteDependencyData"),w.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",w.dataType="RemoteDependencyData",w}(),r7=function(){function w(R,D,Q,ue,we){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Be=this;Be.ver=2,D=D||od,Be[Y3]=E4(R,D),Be[sd]=Fm(R,ue),Be[Ic]=j0(R,we),Q&&(Be[J3]=Q)}return s(w,"Trace"),w.envelopeType="Microsoft.ApplicationInsights.{0}.Message",w.dataType="MessageData",w}(),ax=function(){function w(R,D,Q,ue,we,Be,je){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var it=this;it.ver=2,it.url=ad(R,Q),it[H0]=ol(R,D)||od,it[sd]=Fm(R,we),it[Ic]=j0(R,Be),je&&(it.domProcessing=je.domProcessing,it[X3]=je[X3],it.networkConnect=je.networkConnect,it.perfTotal=je.perfTotal,it.receivedResponse=je.receivedResponse,it.sentRequest=je.sentRequest)}return s(w,"PageViewPerformance"),w.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",w.dataType="PageviewPerformanceData",w}(),GY=function(){function w(R,D){this.aiDataContract={baseType:1,baseData:1},this.baseType=R,this.baseData=D}return s(w,"Data"),w}(),N4=D3({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),HY=function(){function w(){}return s(w,"ConfigurationManager"),w.getConfig=function(R,D,Q,ue){ue===void 0&&(ue=!1);var we;return Q&&R[Ay]&&R[Ay][Q]&&!U(R[Ay][Q][D])?we=R[Ay][Q][D]:we=R[D],U(we)?ue:we},w}();function ud(w){var R="ai."+w+".";return function(D){return R+D}}s(ud,"_aiNameFunc");var Ly=ud("application"),Aa=ud("device"),L4=ud("location"),Fy=ud("operation"),F4=ud("session"),Fp=ud("user"),O1=ud("cloud"),lx=ud("internal"),Mp=function(w){Cp(R,w);function R(){return w.call(this)||this}return s(R,"ContextTagKeys"),R}(U3({applicationVersion:Ly("ver"),applicationBuild:Ly("build"),applicationTypeId:Ly("typeId"),applicationId:Ly("applicationId"),applicationLayer:Ly("layer"),deviceId:Aa("id"),deviceIp:Aa("ip"),deviceLanguage:Aa("language"),deviceLocale:Aa("locale"),deviceModel:Aa("model"),deviceFriendlyName:Aa("friendlyName"),deviceNetwork:Aa("network"),deviceNetworkName:Aa("networkName"),deviceOEMName:Aa("oemName"),deviceOS:Aa("os"),deviceOSVersion:Aa("osVersion"),deviceRoleInstance:Aa("roleInstance"),deviceRoleName:Aa("roleName"),deviceScreenResolution:Aa("screenResolution"),deviceType:Aa("type"),deviceMachineName:Aa("machineName"),deviceVMName:Aa("vmName"),deviceBrowser:Aa("browser"),deviceBrowserVersion:Aa("browserVersion"),locationIp:L4("ip"),locationCountry:L4("country"),locationProvince:L4("province"),locationCity:L4("city"),operationId:Fy("id"),operationName:Fy("name"),operationParentId:Fy("parentId"),operationRootId:Fy("rootId"),operationSyntheticSource:Fy("syntheticSource"),operationCorrelationVector:Fy("correlationVector"),sessionId:F4("id"),sessionIsFirst:F4("isFirst"),sessionIsNew:F4("isNew"),userAccountAcquisitionDate:Fp("accountAcquisitionDate"),userAccountId:Fp("accountId"),userAgent:Fp("userAgent"),userId:Fp("id"),userStoreRegion:Fp("storeRegion"),userAuthUserId:Fp("authUserId"),userAnonymousUserAcquisitionDate:Fp("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Fp("authUserAcquisitionDate"),cloudName:O1("name"),cloudRole:O1("role"),cloudRoleVer:O1("roleVer"),cloudRoleInstance:O1("roleInstance"),cloudEnvironment:O1("environment"),cloudLocation:O1("location"),cloudDeploymentUnit:O1("deploymentUnit"),internalNodeName:lx("nodeName"),internalSdkVersion:lx("sdkVersion"),internalAgentVersion:lx("agentVersion"),internalSnippet:lx("snippet"),internalSdkSrc:lx("sdkSrc")}));function n7(w,R,D,Q,ue,we){D=ol(Q,D)||od,(U(w)||U(R)||U(D))&&Fe("Input doesn't contain all required fields");var Be="";w[Mw]&&(Be=w[Mw],delete w[Mw]);var je={name:D,time:km(new Date),iKey:Be,ext:we||{},tags:[],data:{},baseType:R,baseData:w};return U(ue)||Xe(ue,function(it,vt){je.data[it]=vt}),je}s(n7,"createTelemetryItem");var i7=function(){function w(){}return s(w,"TelemetryItemCreator"),w.create=n7,w}(),jY={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},VY=new Mp;function cP(w){var R=null;if(ae(Event))R=new Event(w);else{var D=Te();D&&D.createEvent&&(R=D.createEvent("Event"),R.initEvent(w,!0,!0))}return R}s(cP,"createDomEvent");function o7(w,R){DD(w,null,null,R)}s(o7,"_disableEvents");function uP(w){var R=Te(),D=Lt(),Q=!1,ue=[],we=1;D&&!U(D.onLine)&&!D.onLine&&(we=2);var Be=0,je=Hn(),it=xY(Dm("OfflineListener"),w);try{if(Tr(xt())&&(Q=!0),R){var vt=R.body||R;vt.ononline&&Tr(vt)&&(Q=!0)}}catch{Q=!1}function Tr(Si){var La=!1;return Si&&(La=Lw(Si,"online",qn,it),La&&Lw(Si,"offline",_n,it)),La}s(Tr,"_enableEvents");function wn(){return je}s(wn,"_isOnline");function Hn(){return!(Be===2||we===2)}s(Hn,"calCurrentState");function Rr(){var Si=Hn();je!==Si&&(je=Si,Cl(ue,function(La){var Qy={isOnline:je,rState:we,uState:Be};try{La(Qy)}catch{}}))}s(Rr,"listnerNoticeCheck");function Mr(Si){Be=Si,Rr()}s(Mr,"setOnlineState");function qn(){we=1,Rr()}s(qn,"_setOnline");function _n(){we=2,Rr()}s(_n,"_setOffline");function pi(){var Si=xt();if(Si&&Q){if(o7(Si,it),R){var La=R.body||R;z(La.ononline)||o7(La,it)}Q=!1}}s(pi,"_unload");function no(Si){return ue.push(Si),{rm:s(function(){var La=ue.indexOf(Si);if(La>-1)return ue.splice(La,1)},"rm")}}return s(no,"addListener"),{isOnline:wn,isListening:s(function(){return Q},"isListening"),unload:pi,addListener:no,setOnlineState:Mr}}s(uP,"createOfflineListener");var $Y="AppInsightsPropertiesPlugin",s7="AppInsightsChannelPlugin",My="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=My,e.BreezeChannelIdentifier=s7,e.ConfigurationManager=HY,e.ConnectionStringParser=w4,e.ContextTagKeys=Mp,e.CtxTagKeys=VY,e.DEFAULT_BREEZE_ENDPOINT=Fw,e.DEFAULT_BREEZE_PATH=z3,e.Data=GY,e.DisabledPropertyName=A4,e.DistributedTracingModes=wY,e.Envelope=_4,e.Event=BY,e.EventPersistence=Z3,e.Exception=cd,e.Extensions=jY,e.HttpMethod=ND,e.Metric=OY,e.PageView=WY,e.PageViewPerformance=ax,e.ProcessLegacy=y4,e.PropertiesPluginIdentifier=$Y,e.RemoteDependencyData=Ny,e.RequestHeaders=LD,e.SampleRate=PD,e.SeverityLevel=N4,e.TelemetryItemCreator=i7,e.ThrottleMgr=kY,e.Trace=r7,e.correlationIdCanIncludeCorrelationHeader=Dp,e.correlationIdGetCorrelationContext=WD,e.correlationIdGetCorrelationContextValue=GD,e.correlationIdGetPrefix=$w,e.correlationIdSetPrefix=Vw,e.createDistributedTraceContextFromTrace=zw,e.createDomEvent=cP,e.createOfflineListener=uP,e.createTelemetryItem=n7,e.createTraceParent=cy,e.dataSanitizeException=Gw,e.dataSanitizeId=by,e.dataSanitizeInput=Hw,e.dataSanitizeKey=Ww,e.dataSanitizeKeyAndAddUniqueness=qw,e.dataSanitizeMeasurements=j0,e.dataSanitizeMessage=E4,e.dataSanitizeProperties=Fm,e.dataSanitizeString=ol,e.dataSanitizeUrl=ad,e.dateTimeUtilsDuration=TY,e.dateTimeUtilsNow=IY,e.dsPadNumber=FD,e.findAllScripts=Dw,e.findW3cTraceParent=Bw,e.formatTraceParent=L1,e.getExtensionByName=qY,e.isBeaconApiSupported=Ep,e.isCrossOriginError=Lp,e.isInternalApplicationInsightsEndpoint=qD,e.isSampledFlag=d4,e.isValidSpanId=fy,e.isValidTraceId=uy,e.isValidTraceParent=dy,e.msToTimeSpan=t7,e.parseConnectionString=T4,e.parseTraceParent=G0,e.strNotSpecified=od,e.stringToBoolOrDefault=UY,e.urlGetAbsoluteUrl=bY,e.urlGetCompleteUrl=QD,e.urlGetPathName=EY,e.urlParseFullHost=Mm,e.urlParseHost=OD,e.urlParseUrl=Ey,e.utlCanUseLocalStorage=I4,e.utlCanUseSessionStorage=Qm,e.utlDisableStorage=ex,e.utlEnableStorage=_Y,e.utlGetLocalStorage=VD,e.utlGetSessionStorage=zD,e.utlGetSessionStorageKeys=Ry,e.utlRemoveSessionStorage=YD,e.utlRemoveStorage=V0,e.utlSetLocalStorage=$D,e.utlSetSessionStorage=SY,e.utlSetStoragePrefix=tx})});var rxe=H((vF,txe)=>{d();(function(e,t){typeof vF=="object"&&typeof txe<"u"?t(vF):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(vF,function(e){"use strict";function t(A,v){return A||v}s(t,"_pureAssign");function r(A,v){return A[v]}s(r,"_pureRef");var n=void 0,i=null,o="",a="function",l="object",c="prototype",u="__proto__",f="undefined",m="constructor",h="Symbol",p="_polyfill",g="length",y="name",x="call",b="toString",E=t(Object),_=r(E,c),k=t(String),B=r(k,c),N=t(Math),M=t(Array),te=r(M,c),de=r(te,"slice");function Z(A,v){try{return{v:A.apply(this,v)}}catch(T){return{e:T}}}s(Z,"safe");function G(A,v){var T=Z(A);return T.e?v:T.v}s(G,"safeGet");var q;function ie(A){return function(v){return typeof v===A}}s(ie,"_createIs");function z(A){var v="[object "+A+"]";return function(T){return!!(T&&j(T)===v)}}s(z,"_createObjIs");function j(A){return _[b].call(A)}s(j,"objToString");function U(A){return typeof A===f||A===f}s(U,"isUndefined");function V(A){return!re(A)}s(V,"isStrictUndefined");function K(A){return A===i||U(A)}s(K,"isNullOrUndefined");function ae(A){return A===i||!re(A)}s(ae,"isStrictNullOrUndefined");function re(A){return!!A||A!==n}s(re,"isDefined");function le(A){return!q&&(q=["string","number","boolean",f,"symbol","bigint"]),A!==l&&q.indexOf(A)!==-1}s(le,"isPrimitiveType");var ce=ie("string"),De=ie(a);function be(A){return!A&&K(A)?!1:!!A&&typeof A===l}s(be,"isObject");var qe=r(M,"isArray"),Re=z("Date"),Xe=ie("number"),ft=ie("boolean"),at=z("Error");function lt(A){return!!(A&&A.then&&De(A.then))}s(lt,"isPromiseLike");function oe(A){return!(!A||G(function(){return!(A&&0+A)},!A))}s(oe,"isTruthy");var Ne=r(E,"getOwnPropertyDescriptor");function Ae(A,v){return!!A&&_.hasOwnProperty[x](A,v)}s(Ae,"objHasOwnProperty");var Ge=t(r(E,"hasOwn"),Y);function Y(A,v){return Ae(A,v)||!!Ne(A,v)}s(Y,"polyObjHasOwn");function ne(A,v,T){if(A&&be(A)){for(var S in A)if(Ge(A,S)&&v[x](T||A,S,A[S])===-1)break}}s(ne,"objForEachKey");var Fe={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Se(A){var v={};if(v[Fe.c]=!0,v[Fe.e]=!0,A.l){v.get=function(){return A.l.v};var T=Ne(A.l,"v");T&&T.set&&(v.set=function(S){A.l.v=S})}return ne(A,function(S,P){v[Fe[S]]=V(P)?v[Fe[S]]:P}),v}s(Se,"_createProp");var Ce=r(E,"defineProperty");function Ue(A,v,T){return Ce(A,v,Se(T))}s(Ue,"objDefine");function Ve(A,v,T,S,P){var L={};return ne(A,function(W,se){tt(L,W,v?se:W),tt(L,se,T?se:W)}),S?S(L):L}s(Ve,"_createKeyValueMap");function tt(A,v,T,S){Ce(A,v,{value:T,enumerable:!0,writable:!1})}s(tt,"_assignMapValue");var Ct=t(k),Pt="[object Error]";function yt(A,v){var T=o,S=_[b][x](A);S===Pt&&(A={stack:Ct(A.stack),message:Ct(A.message),name:Ct(A.name)});try{T=JSON.stringify(A,i,v?typeof v=="number"?v:4:n),T=(T?T.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||Ct(A)}catch(P){T=" - "+yt(P,v)}return S+": "+T}s(yt,"dumpObj");function Kt(A){throw new Error(A)}s(Kt,"throwError");function Xt(A){throw new TypeError(A)}s(Xt,"throwTypeError");var lr=r(E,"freeze");function ge(A){return A}s(ge,"_doNothing");function Me(A){return A[u]||i}s(Me,"_getProto");var Je=r(E,"assign"),rt=r(E,"keys");function Rt(A){return lr&&ne(A,function(v,T){(qe(T)||be(T))&&Rt(T)}),Et(A)}s(Rt,"objDeepFreeze");var Et=t(lr,ge),Mt=t(r(E,"getPrototypeOf"),Me);function Ot(A){return Ve(A,1,0,Et)}s(Ot,"createEnum");function _t(A){return Ve(A,0,0,Et)}s(_t,"createEnumKeyMap");function kt(A){var v={};return ne(A,function(T,S){tt(v,T,S[1]),tt(v,S[0],S[1])}),Et(v)}s(kt,"createSimpleMap");function St(A){return kt(A)}s(St,"createTypeMap");var qt=_t({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),$t="__tsUtils$gblCfg",Zt;function dr(){var A;return typeof globalThis!==f&&(A=globalThis),!A&&typeof self!==f&&(A=self),!A&&typeof window!==f&&(A=window),!A&&typeof global!==f&&(A=global),A}s(dr,"_getGlobalValue");function xr(){if(!Zt){var A=Z(dr).v||{};Zt=A[$t]=A[$t]||{}}return Zt}s(xr,"_getGlobalConfig");var ur=mr;function mr(A,v,T){var S=v?v[A]:i;return function(P){var L=(P?P[A]:i)||S;if(L||T){var W=arguments;return(L||T).apply(P,L?de[x](W,1):W)}Xt('"'+Ct(A)+'" not defined for '+yt(P))}}s(mr,"_unwrapFunctionWithPoly");function nr(A){return function(v){return v[A]}}s(nr,"_unwrapProp");var hr=r(N,"min"),Ie=r(N,"max"),O=ur("slice",B),me=ur("substring",B),ye=mr("substr",B,J);function J(A,v,T){return K(A)&&Xt("Invalid "+yt(A)),T<0?o:(v=v||0,v<0&&(v=Ie(v+A[g],0)),U(T)?O(A,v):O(A,v,v+T))}s(J,"polyStrSubstr");function F(A,v){return me(A,0,v)}s(F,"strLeft");var Te="_urid",Oe;function xt(){if(!Oe){var A=xr();Oe=A.gblSym=A.gblSym||{k:{},s:{}}}return Oe}s(xt,"_globalSymbolRegistry");var Wt;function Lt(A){var v={description:Ct(A),toString:s(function(){return h+"("+A+")"},"toString")};return v[p]=!0,v}s(Lt,"polyNewSymbol");function or(A){var v=xt();if(!Ge(v.k,A)){var T=Lt(A),S=rt(v.s).length;T[Te]=function(){return S+"_"+T[b]()},v.k[A]=T,v.s[T[Te]()]=Ct(A)}return v.k[A]}s(or,"polySymbolFor");function cr(A){!Wt&&(Wt={});var v,T=qt[A];return T&&(v=Wt[T]=Wt[T]||Lt(h+"."+T)),v}s(cr,"polyGetKnownSymbol");var Ut;function Tt(){Ut=xr()}s(Tt,"_initTestHooks");function fr(A){var v={};return!Ut&&Tt(),v.b=Ut.lzy,Ce(v,"v",{configurable:!0,get:s(function(){var T=A();return Ut.lzy||Ce(v,"v",{value:T}),v.b=Ut.lzy,T},"get")}),v}s(fr,"getLazy");function zo(A){return Ce({toJSON:s(function(){return A},"toJSON")},"v",{value:A})}s(zo,"createCachedValue");var Tm="window",Cl;function wm(A,v){var T;return function(){return!Ut&&Tt(),(!T||Ut.lzy)&&(T=zo(Z(A,v).v)),T.v}}s(wm,"_getGlobalInstFn");function Xf(A){return!Ut&&Tt(),(!Cl||A===!1||Ut.lzy)&&(Cl=zo(Z(dr).v||i)),Cl.v}s(Xf,"getGlobal");function ta(A,v){var T;if(!Cl||v===!1?T=Xf(v):T=Cl.v,T&&T[A])return T[A];if(A===Tm)try{return window}catch{}return i}s(ta,"getInst");function fp(){return!!L2()}s(fp,"hasDocument");var L2=wm(ta,["document"]);function aw(){return!!_m()}s(aw,"hasWindow");var _m=wm(ta,[Tm]);function Kz(){return!!dp()}s(Kz,"hasNavigator");var dp=wm(ta,["navigator"]),Jz=wm(function(){return!!Z(function(){return process&&(process.versions||{}).node}).v}),C1,lw;function ME(){return C1=zo(Z(ta,[h]).v),C1}s(ME,"_initSymbol");function Xz(A){var v=(Ut.lzy?0:C1)||ME();return v.v?v.v[A]:n}s(Xz,"_getSymbolKey");function Ec(){return!!mp()}s(Ec,"hasSymbol");function mp(){return!Ut&&Tt(),((Ut.lzy?0:C1)||ME()).v}s(mp,"getSymbol");function R3(A,v){var T=qt[A];!Ut&&Tt();var S=(Ut.lzy?0:C1)||ME();return S.v?S.v[T||A]:v?n:cr(A)}s(R3,"getKnownSymbol");function x1(A,v){!Ut&&Tt();var T=(Ut.lzy?0:C1)||ME();return T.v?T.v(A):v?i:Lt(A)}s(x1,"newSymbol");function k3(A){return!Ut&&Tt(),lw=(Ut.lzy?0:lw)||zo(Z(Xz,["for"]).v),(lw.v||or)(A)}s(k3,"symbolFor");function hp(A){return!!A&&De(A.next)}s(hp,"isIterator");function QE(A){return!ae(A)&&De(A[R3(3)])}s(QE,"isIterable");var B3;function cw(A,v,T){if(A&&(hp(A)||(!B3&&(B3=zo(R3(3))),A=A[B3.v]?A[B3.v]():i),hp(A))){var S=n,P=n;try{for(var L=0;!(P=A.next()).done&&v[x](T||A,P.value,L,A)!==-1;)L++}catch(W){S={e:W},A.throw&&(P=i,A.throw(S))}finally{try{P&&!P.done&&A.return&&A.return(P)}finally{if(S)throw S.e}}}}s(cw,"iterForOf");function F2(A,v,T){return A.apply(v,T)}s(F2,"fnApply");function M2(A,v){return!U(v)&&A&&(qe(v)?F2(A.push,A,v):hp(v)||QE(v)?cw(v,function(T){A.push(T)}):A.push(v)),A}s(M2,"arrAppend");function Jr(A,v,T){if(A)for(var S=A[g]>>>0,P=0;P<S&&!(P in A&&v[x](T||A,A[P],P,A)===-1);P++);}s(Jr,"arrForEach");var n0=ur("indexOf",te),v1=ur("map",te);function Q2(A,v,T){return((A?A.slice:i)||de).apply(A,de[x](arguments,1))}s(Q2,"arrSlice");var Zz=ur("reduce",te),pp=t(r(E,"create"),eY);function eY(A){if(!A)return{};var v=typeof A;v!==l&&v!==a&&Xt("Prototype must be an Object or function: "+yt(A));function T(){}return s(T,"tempFunc"),T[c]=A,new T}s(eY,"polyObjCreate");var uw;function D3(A,v){var T=E.setPrototypeOf||function(S,P){var L;!uw&&(uw=zo((L={},L[u]=[],L instanceof Array))),uw.v?S[u]=P:ne(P,function(W,se){return S[W]=se})};return T(A,v)}s(D3,"objSetPrototypeOf");function tY(A,v,T){Z(Ue,[v,y,{v:A,c:!0,e:!1}]),v=D3(v,T);function S(){this[m]=v,Z(Ue,[this,y,{v:A,c:!0,e:!1}])}return s(S,"__"),v[c]=T===i?pp(T):(S[c]=T[c],new S),v}s(tY,"_createCustomError");function P3(A,v){v&&(A[y]=v)}s(P3,"_setName");function Na(A,v,T){var S=T||Error,P=S[c][y],L=Error.captureStackTrace;return tY(A,function(){var W=this,se=arguments;try{Z(P3,[S,A]);var fe=F2(S,W,de[x](se))||W;if(fe!==W){var ve=Mt(W);ve!==Mt(fe)&&D3(fe,ve)}return L&&L(fe,W[m]),v&&v(fe,se),fe}finally{Z(P3,[S,P])}},S)}s(Na,"createCustomError");function gp(){return(Date.now||N3)()}s(gp,"utcNow");function N3(){return new Date().getTime()}s(N3,"polyUtcNow");function aD(A){return s(function(T){return K(T)&&Xt("strTrim called ["+yt(T)+"]"),T&&T.replace&&(T=T.replace(A,o)),T},"_doTrim")}s(aD,"_createTrimFn");var rY=aD(/^\s+|(?=\s)\s+$/g),Gi=mr("trim",B,rY),b1=r(N,"floor"),Ap,fw,L3;function i0(A){if(!A||typeof A!==l)return!1;L3||(L3=aw()?_m():!0);var v=!1;if(A!==L3){fw||(Ap=Function[c][b],fw=Ap[x](E));try{var T=Mt(A);v=!T,v||(Ae(T,m)&&(T=T[m]),v=!!(T&&typeof T===a&&Ap[x](T)===fw))}catch{}}return v}s(i0,"isPlainObject");function lD(A){return A.value&&OE(A),!0}s(lD,"_defaultDeepCopyHandler");var cD=[O2,OE,fD,yp];function dw(A,v,T,S){var P;return Jr(A,function(L){if(L.k===v)return P=L,-1}),P||(P={k:v,v},A.push(P),S(P)),P.v}s(dw,"_getSetVisited");function E1(A,v,T,S){var P=T.handler,L=T.path?S?T.path.concat(S):T.path:[],W={handler:T.handler,src:T.src,path:L},se=typeof v,fe=!1,ve=v===i;ve||(v&&se===l?fe=i0(v):ve=le(se));var ke={type:se,isPrim:ve,isPlain:fe,value:v,result:v,path:L,origin:T.src,copy:s(function(We,et){return E1(A,We,et?W:T,et)},"copy"),copyTo:s(function(We,et){return mw(A,We,et,W)},"copyTo")};return ke.isPrim?P&&P[x](T,ke)?ke.result:v:dw(A,v,L,function(We){Ue(ke,"result",{g:s(function(){return We.v},"g"),s:s(function(Ye){We.v=Ye},"s")});for(var et=0,He=P;!(He||(et<cD.length?cD[et++]:lD))[x](T,ke);)He=i})}s(E1,"_deepCopy");function mw(A,v,T,S){if(!K(T))for(var P in T)v[P]=E1(A,T[P],S,P);return v}s(mw,"_copyProps");function uD(A,v,T){var S={handler:T,src:v,path:[]};return mw([],A,v,S)}s(uD,"objCopyProps");function hw(A,v){var T={handler:v,src:A};return E1([],A,T)}s(hw,"objDeepCopy");function O2(A){var v=A.value;if(qe(v)){var T=A.result=[];return T.length=v.length,A.copyTo(T,v),!0}return!1}s(O2,"arrayDeepCopyHandler");function yp(A){var v=A.value;return Re(v)?(A.result=new Date(v.getTime()),!0):!1}s(yp,"dateDeepCopyHandler");function fD(A){return A.type===a}s(fD,"functionDeepCopyHandler");function OE(A){var v=A.value;if(v&&A.isPlain){var T=A.result={};return A.copyTo(T,v),!0}return!1}s(OE,"plainObjDeepCopyHandler");function pw(A,v){return Jr(v,function(T){uD(A,T)}),A}s(pw,"_doExtend");function UE(A,v,T,S,P,L,W){return pw(hw(A)||{},de[x](arguments))}s(UE,"deepExtend");var nY=nr(g),iY=r(N,"round"),dD=mr("endsWith",B,oY);function oY(A,v,T){ce(A)||Xt("'"+yt(A)+"' is not a string");var S=ce(v)?v:Ct(v),P=!U(T)&&T<A[g]?T:A[g];return me(A,P-S[g],P)===S}s(oY,"polyStrEndsWith");var Sm=ur("indexOf",B),qE="ref",gw="unref",WE="hasRef",sY="enabled";function GE(A,v,T){var S=!0,P=A?v(i):i,L;function W(){return S=!1,P&&P[gw]&&P[gw](),L}s(W,"_unref");function se(){P&&T(P),P=i}s(se,"_cancel");function fe(){return P=v(P),S||W(),L}s(fe,"_refresh");function ve(ke){!ke&&P&&se(),ke&&!P&&fe()}return s(ve,"_setEnabled"),L={cancel:se,refresh:fe},L[WE]=function(){return P&&P[WE]?P[WE]():S},L[qE]=function(){return S=!0,P&&P[qE]&&P[qE](),L},L[gw]=W,L=Ce(L,sY,{get:s(function(){return!!P},"get"),set:ve}),{h:L,dn:s(function(){P=i},"dn")}}s(GE,"_createTimerHandler");function HE(A,v,T){var S=qe(v),P=S?v.length:0,L=(P>0?v[0]:S?n:v)||setTimeout,W=(P>1?v[1]:n)||clearTimeout,se=T[0];T[0]=function(){fe.dn(),F2(se,n,de[x](arguments))};var fe=GE(A,function(ve){if(ve){if(ve.refresh)return ve.refresh(),ve;F2(W,n,[ve])}return F2(L,n,T)},function(ve){F2(W,n,[ve])});return fe.h}s(HE,"_createTimeoutWith");function Cp(A,v){return HE(!0,n,de[x](arguments))}s(Cp,"scheduleTimeout");function jE(A,v){return HE(!1,n,de[x](arguments))}s(jE,"createTimeout");var I1,O0="constructor",U0="prototype",T1="function",U2="_dynInstFuncs",xp="_isDynProxy",q2="_dynClass",Aw="_dynCls$",w1="_dynInstChk",W2=w1,yw="_dfOpts",VE="_unknown_",G2="__proto__",F3="_dyn"+G2,$E="__dynProto$Gbl",H2="_dynInstProto",j2="useBaseInst",M3="setInstFuncs",_1=Object,V2=_1.getPrototypeOf,Cw=_1.getOwnPropertyNames,zE=Xf(),$2=zE[$E]||(zE[$E]={o:(I1={},I1[M3]=!0,I1[j2]=!0,I1),n:1e3});function z2(A){return A&&(A===_1[U0]||A===Array[U0])}s(z2,"_isObjectOrArrayPrototype");function Rm(A){return z2(A)||A===Function[U0]}s(Rm,"_isObjectArrayOrFunctionPrototype");function Zf(A){var v;if(A){if(V2)return V2(A);var T=A[G2]||A[U0]||(A[O0]?A[O0][U0]:null);v=A[F3]||T,Ae(A,F3)||(delete A[H2],v=A[F3]=A[H2]||A[F3],A[H2]=T)}return v}s(Zf,"_getObjProto");function Y2(A,v){var T=[];if(Cw)T=Cw(A);else for(var S in A)typeof S=="string"&&Ae(A,S)&&T.push(S);if(T&&T.length>0)for(var P=0;P<T.length;P++)v(T[P])}s(Y2,"_forEachProp");function K2(A,v,T){return v!==O0&&typeof A[v]===T1&&(T||Ae(A,v))&&v!==G2&&v!==U0}s(K2,"_isDynamicCandidate");function YE(A){Xt("DynamicProto: "+A)}s(YE,"_throwTypeError");function xw(A){var v=pp(null);return Y2(A,function(T){!v[T]&&K2(A,T,!1)&&(v[T]=A[T])}),v}s(xw,"_getInstanceFuncs");function vw(A,v){for(var T=A.length-1;T>=0;T--)if(A[T]===v)return!0;return!1}s(vw,"_hasVisited");function aY(A,v,T,S){function P(fe,ve,ke){var We=ve[ke];if(We[xp]&&S){var et=fe[U2]||{};et[W2]!==!1&&(We=(et[ve[q2]]||{})[ke]||We)}return function(){return We.apply(fe,arguments)}}s(P,"_instFuncProxy");var L=pp(null);Y2(T,function(fe){L[fe]=P(v,T,fe)});for(var W=Zf(A),se=[];W&&!Rm(W)&&!vw(se,W);)Y2(W,function(fe){!L[fe]&&K2(W,fe,!V2)&&(L[fe]=P(v,W,fe))}),se.push(W),W=Zf(W);return L}s(aY,"_getBaseFuncs");function lY(A,v,T,S){var P=null;if(A&&Ae(T,q2)){var L=A[U2]||pp(null);if(P=(L[T[q2]]||pp(null))[v],P||YE("Missing ["+v+"] "+T1),!P[w1]&&L[W2]!==!1){for(var W=!Ae(A,v),se=Zf(A),fe=[];W&&se&&!Rm(se)&&!vw(fe,se);){var ve=se[v];if(ve){W=ve===S;break}fe.push(se),se=Zf(se)}try{W&&(A[v]=P),P[w1]=1}catch{L[W2]=!1}}}return P}s(lY,"_getInstFunc");function cY(A,v,T){var S=v[A];return S===T&&(S=Zf(v)[A]),typeof S!==T1&&YE("["+A+"] is not a "+T1),S}s(cY,"_getProtoFunc");function uY(A,v,T,S,P){function L(fe,ve){var ke=s(function(){var We=lY(this,ve,fe,ke)||cY(ve,fe,ke);return We.apply(this,arguments)},"dynProtoProxy");return ke[xp]=1,ke}if(s(L,"_createDynamicPrototype"),!z2(A)){var W=T[U2]=T[U2]||pp(null);if(!z2(W)){var se=W[v]=W[v]||pp(null);W[W2]!==!1&&(W[W2]=!!P),z2(se)||Y2(T,function(fe){K2(T,fe,!1)&&T[fe]!==S[fe]&&(se[fe]=T[fe],delete T[fe],(!Ae(A,fe)||A[fe]&&!A[fe][xp])&&(A[fe]=L(A,fe)))})}}}s(uY,"_populatePrototype");function bw(A,v){if(V2){for(var T=[],S=Zf(v);S&&!Rm(S)&&!vw(T,S);){if(S===A)return!0;T.push(S),S=Zf(S)}return!1}return!0}s(bw,"_checkPrototype");function Q3(A,v){return Ae(A,U0)?A.name||v||VE:((A||{})[O0]||{}).name||v||VE}s(Q3,"_getObjName");function Yl(A,v,T,S){Ae(A,U0)||YE("theClass is an invalid class definition.");var P=A[U0];bw(P,v)||YE("["+Q3(A)+"] not in hierarchy of ["+Q3(v)+"]");var L=null;Ae(P,q2)?L=P[q2]:(L=Aw+Q3(A,"_")+"$"+$2.n,$2.n++,P[q2]=L);var W=Yl[yw],se=!!W[j2];se&&S&&S[j2]!==void 0&&(se=!!S[j2]);var fe=xw(v),ve=aY(P,v,fe,se);T(v,ve);var ke=!!V2&&!!W[M3];ke&&S&&(ke=!!S[M3]),uY(P,L,v,fe,ke!==!1)}s(Yl,"dynamicProto"),Yl[yw]=$2.o;var qs="function",mD="object",hD="undefined",O3="prototype",Ew=Object,Iw=Ew[O3];(Xf()||{}).Symbol,(Xf()||{}).Reflect;var KE="hasOwnProperty",pD=s(function(A){for(var v,T=1,S=arguments.length;T<S;T++){v=arguments[T];for(var P in v)Iw[KE].call(v,P)&&(A[P]=v[P])}return A},"__objAssignFnImpl"),km=Je||pD,vp=s(function(A,v){return vp=Ew.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,S){T.__proto__=S}||function(T,S){for(var P in S)S[KE](P)&&(T[P]=S[P])},vp(A,v)},"extendStaticsFn");function U3(A,v){typeof v!==qs&&v!==null&&Xt("Class extends value "+String(v)+" is not a constructor or null"),vp(A,v);function T(){this.constructor=A}s(T,"__"),A[O3]=v===null?pp(v):(T[O3]=v[O3],new T)}s(U3,"__extendsFn");function gD(A,v){for(var T=0,S=v.length,P=A.length;T<S;T++,P++)A[P]=v[T];return A}s(gD,"__spreadArrayFn");var JE=Ot,fY=St,bp=JE({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),J2="toLowerCase",Yn="length",X2="warnToConsole",S1="throwInternal",Bm="watch",XE="apply",Hi="push",Z2="splice",pa="logger",ey="cancel",q3="initialize",Ep="identifier",W3="removeNotificationListener",ZE="addNotificationListener",ed="isInitialized",ty="value",Fu="getNotifyMgr",ry="getPlugin",Ip="name",xl="processNext",ny="getProcessTelContext",td="enabled",AD="stopPollingInternalLogs",R1="unload",e4="onComplete",iy="version",yD="loggingLevelConsole",k1="createNew",rd="teardown",t4="messageId",B1="message",nd="diagLog",r4="_doTeardown",Dm="update",id="getNext",Tp="setNextPlugin",n4="userAgent",wp="split",_p="replace",Kl="type",Tw="evtName",G3="status",ww="getAllResponseHeaders",_w="isChildEvt",oy="data",Sp="getCtx",Mu="setCtx",CD="itemsReceived",Pm="urlString",Sw="headers",Nm="timeout",xD="traceFlags",sy;function Rw(A,v){sy||(sy=Na("AggregationError",function(S,P){P[Yn]>1&&(S.errors=P[1])}));var T=A||"One or more errors occurred.";throw Jr(v,function(S,P){T+=`
`.concat(P," > ").concat(yt(S))}),new sy(T,v||[])}s(Rw,"throwAggregationError");var D1="Promise",P1="rejected";function q0(A,v){return vD(A,function(T){return v?v({status:"fulfilled",rejected:!1,value:T}):T},function(T){return v?v({status:P1,rejected:!0,reason:T}):T})}s(q0,"doAwaitResponse");function vD(A,v,T,S){var P=A;try{if(lt(A))(v||T)&&(P=A.then(v,T));else try{v&&(P=v(A))}catch(L){if(T)P=T(L);else throw L}}finally{S&&dY(P,S)}return P}s(vD,"doAwait");function dY(A,v){var T=A;return v&&(lt(A)?A.finally?T=A.finally(v):T=A.then(function(S){return v(),S},function(S){throw v(),S}):v()),T}s(dY,"doFinally");var bD=["pending","resolving","resolved",P1],ED="dispatchEvent",H3;function ID(A){var v;return A&&A.createEvent&&(v=A.createEvent("Event")),!!v&&v.initEvent}s(ID,"_hasInitEventFn");function i4(A,v,T,S){var P=L2();!H3&&(H3=zo(!!Z(ID,[P]).v));var L=H3.v?P.createEvent("Event"):S?new Event(v):{};if(T&&T(L),H3.v&&L.initEvent(v,!1,!0),L&&A[ED])A[ED](L);else{var W=A["on"+v];if(W)W(L);else{var se=ta("console");se&&(se.error||se.log)(v,yt(L))}}}s(i4,"emitEvent");var TD="unhandledRejection",mY=TD.toLowerCase(),ay=10,o4;function wD(A){return De(A)?A.toString():yt(A)}s(wD,"dumpFnObj");function _D(A,v,T){var S=Q2(arguments,3),P=0,L=!1,W,se=[],fe=!1,ve=null,ke;function We(pr,Pr){try{fe=!0,ve&&ve.cancel(),ve=null;var jn=A(function(Ci,xi){se.push(function(){try{var mo=P===2?pr:Pr,pn=U(mo)?W:De(mo)?mo(W):mo;lt(pn)?pn.then(Ci,xi):mo?Ci(pn):P===3?xi(pn):Ci(pn)}catch($r){xi($r)}}),L&&pt()},S);return jn}finally{}}s(We,"_then");function et(pr){return We(void 0,pr)}s(et,"_catch");function He(pr){var Pr=pr,jn=pr;return De(pr)&&(Pr=s(function(Ci){return pr&&pr(),Ci},"thenFinally"),jn=s(function(Ci){throw pr&&pr(),Ci},"catchFinally")),We(Pr,jn)}s(He,"_finally");function Ye(){return bD[P]}s(Ye,"_strState");function pt(){if(se.length>0){var pr=se.slice();se=[],fe=!0,ve&&ve.cancel(),ve=null,v(pr)}}s(pt,"_processQueue");function ct(pr,Pr){return function(jn){if(P===Pr){if(pr===2&&lt(jn)){P=1,jn.then(ct(2,1),ct(3,1));return}P=pr,L=!0,W=jn,pt(),!fe&&pr===3&&!ve&&(ve=Cp(wt,ay))}}}s(ct,"_createSettleIfFn");function wt(){if(!fe)if(fe=!0,Jz())process.emit(TD,W,ke);else{var pr=_m()||Xf();!o4&&(o4=zo(Z(ta,[D1+"RejectionEvent"]).v)),i4(pr,mY,function(Pr){return Ue(Pr,"promise",{g:s(function(){return ke},"g")}),Pr.reason=W,Pr},!!o4.v)}}s(wt,"_notifyUnhandledRejection"),ke={then:We,catch:et,finally:He},Ce(ke,"state",{get:Ye}),Ec()&&(ke[R3(11)]="IPromise");function Jt(){return"IPromise "+Ye()+(L?" - "+wD(W):"")}return s(Jt,"_toString"),ke.toString=Jt,s(function(){De(T)||Xt(D1+": executor is not a function - "+wD(T));var Pr=ct(3,0);try{T.call(ke,ct(2,0),Pr)}catch(jn){Pr(jn)}},"_initialize")(),ke}s(_D,"_createPromise");function hY(A){return function(v){var T=Q2(arguments,1);return A(function(S,P){try{var L=[],W=1;cw(v,function(se,fe){se&&(W++,vD(se,function(ve){L[fe]=ve,--W===0&&S(L)},P))}),W--,W===0&&S(L)}catch(se){P(se)}},T)}}s(hY,"_createAllPromise");function pY(A){return zo(function(v){var T=Q2(arguments,1);return A(function(S,P){var L=[],W=1;function se(fe,ve){W++,q0(fe,function(ke){ke.rejected?L[ve]={status:P1,reason:ke.reason}:L[ve]={status:"fulfilled",value:ke.value},--W===0&&S(L)})}s(se,"processItem");try{qe(v)?Jr(v,se):QE(v)?cw(v,se):Xt("Input is not an iterable"),W--,W===0&&S(L)}catch(fe){P(fe)}},T)})}s(pY,"_createAllSettledPromise");function SD(A){Jr(A,function(v){try{v()}catch{}})}s(SD,"syncItemProcessor");function RD(A){var v=Xe(A)?A:0;return function(T){Cp(function(){SD(T)},v)}}s(RD,"timeoutItemProcessor");function s4(A,v){return _D(s4,RD(v),A,v)}s(s4,"createAsyncPromise");var a4;function gY(A,v){!a4&&(a4=zo(Z(ta,[D1]).v||null));var T=a4.v;if(!T)return s4(A);De(A)||Xt(D1+": executor is not a function - "+yt(A));var S=0;function P(){return bD[S]}s(P,"_strState");var L=new T(function(W,se){function fe(ke){S=2,W(ke)}s(fe,"_resolve");function ve(ke){S=3,se(ke)}s(ve,"_reject"),A(fe,ve)});return Ce(L,"state",{get:P}),L}s(gY,"createNativePromise");var l4;function c4(A){return _D(c4,SD,A)}s(c4,"createSyncPromise");function o0(A,v){return!l4&&(l4=pY(c4)),l4.v(A,v)}s(o0,"createSyncAllSettledPromise");var u4;function ly(A,v){return!u4&&(u4=zo(gY)),u4.v.call(this,A,v)}s(ly,"createPromise");var kw=hY(ly),W0=void 0,hi="",Lm="channels",ga="core",Qu="createPerfMgr",f4="disabled",N1="extensionConfig",cy="extensions",G0="processTelemetry",uy="priority",fy="eventsSent",dy="eventsDiscarded",d4="eventsSendRequest",L1="perfEvent",Bw="offlineEventsStored",Dw="offlineBatchSent",m4="offlineBatchDrop",j3="getPerfMgr",h4="domain",p4="path",kD="Not dynamic - ",Pw=/-([a-z])/g,AY=/([^\w\d_$])/g,yY=/^(\d+[\w\d_$])/;function g4(A){return!K(A)}s(g4,"isNotNullOrUndefined");function my(A){var v=A;return v&&ce(v)&&(v=v[_p](Pw,function(T,S){return S.toUpperCase()}),v=v[_p](AY,"_"),v=v[_p](yY,function(T,S){return"_"+S})),v}s(my,"normalizeJsName");function vl(A,v){return A&&v?Sm(A,v)!==-1:!1}s(vl,"strContains");function V3(A){return A&&A.toISOString()||""}s(V3,"toISOString");function il(A){return at(A)?A[Ip]:hi}s(il,"getExceptionName");function Rp(A,v,T,S,P){var L=T;return A&&(L=A[v],L!==T&&(!P||P(L))&&(!S||S(T))&&(L=T,A[v]=L)),L}s(Rp,"setValue");function BD(A,v,T){var S;return A?(S=A[v],!S&&K(S)&&(S=U(T)?{}:T,A[v]=S)):S=U(T)?{}:T,S}s(BD,"getSetValue");function CY(A,v){var T=null,S=null;return De(A)?T=A:S=A,function(){var P=arguments;if(T&&(S=T()),S)return S[v][XE](S,P)}}s(CY,"_createProxyFunction");function $3(A,v,T,S,P){A&&v&&T&&(P!==!1||U(A[v]))&&(A[v]=CY(T,S))}s($3,"proxyFunctionAs");function Nw(A,v,T,S){return A&&v&&be(A)&&qe(T)&&Jr(T,function(P){ce(P)&&$3(A,P,v,P,S)}),A}s(Nw,"proxyFunctions");function xY(A){return function(){function v(){var T=this;A&&ne(A,function(S,P){T[S]=P})}return s(v,"class_1"),v}()}s(xY,"createClassFromInterface");function Lw(A){return A&&Je&&(A=Ew(Je({},A))),A}s(Lw,"optimizeObject");function DD(A,v,T,S,P,L){var W=arguments,se=W[0]||{},fe=W[Yn],ve=!1,ke=1;for(fe>0&&ft(se)&&(ve=se,se=W[ke]||{},ke++),be(se)||(se={});ke<fe;ke++){var We=W[ke],et=qe(We),He=be(We);for(var Ye in We){var pt=et&&Ye in We||He&&Ge(We,Ye);if(pt){var ct=We[Ye],wt=void 0;if(ve&&ct&&((wt=qe(ct))||i0(ct))){var Jt=se[Ye];wt?qe(Jt)||(Jt=[]):i0(Jt)||(Jt={}),ct=DD(ve,Jt,ct)}ct!==void 0&&(se[Ye]=ct)}}}return se}s(DD,"objExtend");function A4(A){try{return A.responseText}catch{}return null}s(A4,"getResponseText");function PD(A,v){return A?"XDomainRequest,Response:"+A4(A)||"":v}s(PD,"formatErrorMessageXdr");function y4(A,v){return A?"XMLHttpRequest,Status:"+A[G3]+",Response:"+A4(A)||A.response||"":v}s(y4,"formatErrorMessageXhr");function ND(A,v){return v&&(Xe(v)?A=[v].concat(A):qe(v)&&(A=v.concat(A))),A}s(ND,"prependTransports");var Fw="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",z3="withCredentials",od="timeout";function Mw(A,v,T,S,P,L){S===void 0&&(S=!1),P===void 0&&(P=!1);function W(fe,ve,ke){try{fe[ve]=ke}catch{}}s(W,"_wrapSetXhrProp");var se=new XMLHttpRequest;return S&&W(se,Fw,S),T&&W(se,z3,T),se.open(A,v,!P),T&&W(se,z3,T),!P&&L&&W(se,od,L),se}s(Mw,"openXhr");function LD(A){var v={};if(ce(A)){var T=Gi(A)[wp](/[\r\n]+/);Jr(T,function(S){if(S){var P=S.indexOf(": ");if(P!==-1){var L=Gi(S.substring(0,P))[J2](),W=Gi(S.substring(P+1));v[L]=W}else v[Gi(S)]=1}})}return v}s(LD,"convertAllHeadersToMap");function kp(A,v,T){if(!A[T]&&v&&v.getResponseHeader){var S=v.getResponseHeader(T);S&&(A[T]=Gi(S))}return A}s(kp,"_appendHeader");var Tn="kill-duration",hy="kill-duration-seconds",F1="time-delta-millis";function M1(A,v){var T={};return A[ww]?T=LD(A[ww]()):v&&(T=kp(T,A,F1),T=kp(T,A,Tn),T=kp(T,A,hy)),T}s(M1,"_getAllResponseHeaders");var Qw="documentMode",Y3="location",py="console",C4="JSON",Ow="crypto",x4="msCrypto",gy="msie",Q1="trident/",Uw="XMLHttpRequest",H0=null,Ay=null,sd=!1,Ic=null,yy=null;function K3(A,v){var T=!1;if(A){try{if(T=v in A,!T){var S=A[O3];S&&(T=v in S)}}catch{}if(!T)try{var P=new A;T=!U(P[v])}catch{}}return T}s(K3,"_hasProperty");function Cy(A){if(A&&sd){var v=ta("__mockLocation");if(v)return v}return typeof location===mD&&location?location:ta(Y3)}s(Cy,"getLocation");function J3(){return typeof console!==hD?console:ta(py)}s(J3,"getConsole");function xy(){return!!(typeof JSON===mD&&JSON||ta(C4)!==null)}s(xy,"hasJSON");function s0(){return xy()?JSON||ta(C4):null}s(s0,"getJSON");function v4(){return ta(Ow)}s(v4,"getCrypto");function b4(){return ta(x4)}s(b4,"getMsCrypto");function Ou(){var A=dp();if(A&&(A[n4]!==Ay||H0===null)){Ay=A[n4];var v=(Ay||hi)[J2]();H0=vl(v,gy)||vl(v,Q1)}return H0}s(Ou,"isIE");function vy(A){if(A===void 0&&(A=null),!A){var v=dp()||{};A=v?(v.userAgent||hi)[J2]():hi}var T=(A||hi)[J2]();if(vl(T,gy)){var S=L2()||{};return Ie(parseInt(T[wp](gy)[1]),S[Qw]||0)}else if(vl(T,Q1)){var P=parseInt(T[wp](Q1)[1]);if(P)return P+4}return null}s(vy,"getIEVersion");function Bp(A){return(yy===null||A===!1)&&(yy=Kz()&&!!dp().sendBeacon),yy}s(Bp,"isBeaconsSupported");function X3(A){var v=!1;try{v=!!ta("fetch");var T=ta("Request");v&&A&&T&&(v=K3(T,"keepalive"))}catch{}return v}s(X3,"isFetchSupported");function qw(){return Ic===null&&(Ic=typeof XDomainRequest!==hD,Ic&&Ww()&&(Ic=Ic&&!K3(ta(Uw),"withCredentials"))),Ic}s(qw,"useXDomainRequest");function Ww(){var A=!1;try{var v=ta(Uw);A=!!v}catch{}return A}s(Ww,"isXhrSupported");var ol=4294967296,ad=4294967295,E4=123456789,Gw=987654321,Fm=!1,j0=E4,by=Gw;function Hw(A){A<0&&(A>>>=0),j0=E4+A&ad,by=Gw-A&ad,Fm=!0}s(Hw,"_mwcSeed");function FD(){try{var A=gp()&2147483647;Hw((Math.random()*ol^A)+A)}catch{}}s(FD,"_autoSeedMwc");function jw(A){var v=0,T=v4()||b4();return T&&T.getRandomValues&&(v=T.getRandomValues(new Uint32Array(1))[0]&ad),v===0&&Ou()&&(Fm||FD(),v=MD()&ad),v===0&&(v=b1(ol*Math.random()|0)),A||(v>>>=0),v}s(jw,"random32");function MD(A){by=36969*(by&65535)+(by>>16)&ad,j0=18e3*(j0&65535)+(j0>>16)&ad;var v=(by<<16)+(j0&65535)>>>0&ad|0;return A||(v>>>=0),v}s(MD,"mwcRandom32");function vY(A){A===void 0&&(A=22);for(var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=jw()>>>0,S=0,P=hi;P[Yn]<A;)S++,P+=v.charAt(T&63),T>>>=6,S===5&&(T=(jw()<<2&4294967295|T&3)>>>0,S=0);return P}s(vY,"newId");var Ey="3.3.6",bY="."+vY(6),EY=0;function QD(A){return A.nodeType===1||A.nodeType===9||!+A.nodeType}s(QD,"_canAcceptData");function OD(A,v){var T=v[A.id];if(!T){T={};try{QD(v)&&Ue(v,A.id,{e:!1,v:T})}catch{}}return T}s(OD,"_getCache");function Mm(A,v){return v===void 0&&(v=!1),my(A+EY+++(v?"."+Ey:hi)+bY)}s(Mm,"createUniqueNamespace");function UD(A){var v={id:Mm("_aiData-"+(A||hi)+"."+Ey),accept:s(function(T){return QD(T)},"accept"),get:s(function(T,S,P,L){var W=T[v.id];return W?W[my(S)]:(L&&(W=OD(v,T),W[my(S)]=P),P)},"get"),kill:s(function(T,S){if(T&&T[S])try{delete T[S]}catch{}},"kill")};return v}s(UD,"createElmNodeData");function Iy(A){return A&&be(A)&&(A.isVal||A.fb||Ge(A,"v")||Ge(A,"mrg")||Ge(A,"ref")||A.set)}s(Iy,"_isConfigDefaults");function qD(A,v,T){var S,P=T.dfVal||re;if(v&&T.fb){var L=T.fb;qe(L)||(L=[L]);for(var W=0;W<L[Yn];W++){var se=L[W],fe=v[se];if(P(fe)?S=fe:A&&(fe=A.cfg[se],P(fe)&&(S=fe),A.set(A.cfg,Ct(se),fe)),P(S))break}}return!P(S)&&P(T.v)&&(S=T.v),S}s(qD,"_getDefault");function Vw(A,v,T){var S=T;if(T&&Iy(T)&&(S=qD(A,v,T)),S){Iy(S)&&(S=Vw(A,v,S));var P;qe(S)?(P=[],P[Yn]=S[Yn]):i0(S)&&(P={}),P&&(ne(S,function(L,W){W&&Iy(W)&&(W=Vw(A,v,W)),P[L]=W}),S=P)}return S}s(Vw,"_resolveDefaultValue");function $w(A,v,T,S){var P,L,W,se=S,fe,ve,ke,We;Iy(se)?(P=se.isVal,L=se.set,ke=se.rdOnly,We=se.blkVal,fe=se.mrg,ve=se.ref,!ve&&U(ve)&&(ve=!!fe),W=qD(A,v,se)):W=S,We&&A.blkVal(v,T);var et,He=!0,Ye=v[T];(Ye||!K(Ye))&&(et=Ye,He=!1,P&&et!==W&&!P(et)&&(et=W,He=!0),L&&(et=L(et,W,v),He=et===W)),He?W?et=Vw(A,v,W):et=W:(i0(et)||qe(W))&&fe&&W&&(i0(W)||qe(W))&&ne(W,function(pt,ct){$w(A,et,pt,ct)}),A.set(v,T,et),ve&&A.ref(v,T),ke&&A.rdOnly(v,T)}s($w,"_applyDefaultValue");var Dp=k3("[[ai_dynCfg_1]]"),WD=k3("[[ai_blkDynCfg_1]]"),GD=k3("[[ai_frcDynCfg_1]]");function HD(A){if(A){var v;if(qe(A)?(v=[],v[Yn]=A[Yn]):i0(A)&&(v={}),v)return ne(A,function(T,S){v[T]=HD(S)}),v}return A}s(HD,"_cfgDeepCopy");function IY(A){if(A){var v=A[Dp]||A;if(v.cfg&&(v.cfg===A||v.cfg[Dp]===v))return v}return null}s(IY,"getDynamicConfigHandler");function TY(A){if(A&&(i0(A)||qe(A)))try{A[WD]=!0}catch{}return A}s(TY,"blockDynamicConversion");function zw(A,v,T){var S=!1;return T&&!A[v.blkVal]&&(S=T[GD],!S&&!T[WD]&&(S=i0(T)||qe(T))),S}s(zw,"_canMakeDynamic");function Ty(A){Xt("InvalidAccess:"+A)}s(Ty,"throwInvalidAccess");var wY=["push","pop","shift","unshift","splice"],Z3=s(function(A,v,T,S){A&&A[S1](3,108,"".concat(T," [").concat(v,"] failed - ")+yt(S))},"_throwDynamicError");function Pp(A,v,T){qe(v)&&Jr(wY,function(S){var P=v[S];v[S]=function(){for(var L=[],W=0;W<arguments.length;W++)L[W]=arguments[W];var se=P[XE](this,L);return Sy(A,v,T,"Patching"),se}})}s(Pp,"_patchArray");function Uu(A,v){var T=Ne(A,v);return T&&T.get}s(Uu,"_getOwnPropGetter");function jD(A,v,T,S){var P={n:T,h:[],trk:s(function(ve){ve&&ve.fn&&(n0(P.h,ve)===-1&&P.h[Hi](ve),A.trk(ve,P))},"trk"),clr:s(function(ve){var ke=n0(P.h,ve);ke!==-1&&P.h[Z2](ke,1)},"clr")},L=!0,W=!1;function se(){L&&(W=W||zw(se,A,S),S&&!S[Dp]&&W&&(S=Sy(A,S,T,"Converting")),L=!1);var ve=A.act;return ve&&P.trk(ve),S}s(se,"_getProperty"),se[A.prop]={chng:s(function(){A.add(P)},"chng")};function fe(ve){if(S!==ve){se[A.ro]&&!A.upd&&Ty("["+T+"] is read-only:"+yt(v)),L&&(W=W||zw(se,A,S),L=!1);var ke=W&&se[A.rf];if(W)if(ke){ne(S,function(et){S[et]=ve?ve[et]:W0});try{ne(ve,function(et,He){wy(A,S,et,He)}),ve=S}catch(et){Z3((A.hdlr||{})[pa],T,"Assigning",et),W=!1}}else S&&S[Dp]&&ne(S,function(et){var He=Uu(S,et);if(He){var Ye=He[A.prop];Ye&&Ye.chng()}});if(ve!==S){var We=ve&&zw(se,A,ve);!ke&&We&&(ve=Sy(A,ve,T,"Converting")),S=ve,W=We}A.add(P)}}s(fe,"_setProperty"),Ue(v,P.n,{g:se,s:fe})}s(jD,"_createDynamicProperty");function wy(A,v,T,S){if(v){var P=Uu(v,T),L=P&&!!P[A.prop];L?v[T]=S:jD(A,v,T,S)}return v}s(wy,"_setDynamicProperty");function _y(A,v,T,S){if(v){var P=Uu(v,T),L=P&&!!P[A.prop],W=S&&S[0],se=S&&S[1],fe=S&&S[2];if(!L){if(fe)try{TY(v)}catch(ve){Z3((A.hdlr||{})[pa],T,"Blocking",ve)}try{wy(A,v,T,v[T]),P=Uu(v,T)}catch(ve){Z3((A.hdlr||{})[pa],T,"State",ve)}}W&&(P[A.rf]=W),se&&(P[A.ro]=se),fe&&(P[A.blkVal]=!0)}return v}s(_y,"_setDynamicPropertyState");function Sy(A,v,T,S){try{ne(v,function(P,L){wy(A,v,P,L)}),v[Dp]||(Ce(v,Dp,{get:s(function(){return A.hdlr},"get")}),Pp(A,v,T))}catch(P){Z3((A.hdlr||{})[pa],T,S,P)}return v}s(Sy,"_makeDynamicObject");var ex="[[ai_",tx="]]";function _Y(A){var v=x1(ex+"get"+A.uid+tx),T=x1(ex+"ro"+A.uid+tx),S=x1(ex+"rf"+A.uid+tx),P=x1(ex+"blkVal"+A.uid+tx),L=x1(ex+"dtl"+A.uid+tx),W=null,se=null,fe;function ve(He,Ye){var pt=fe.act;try{fe.act=He,He&&He[L]&&(Jr(He[L],function(wt){wt.clr(He)}),He[L]=[]),Ye({cfg:A.cfg,set:A.set.bind(A),setDf:A.setDf.bind(A),ref:A.ref.bind(A),rdOnly:A.rdOnly.bind(A)})}catch(wt){var ct=A[pa];throw ct&&ct[S1](1,107,yt(wt)),wt}finally{fe.act=pt||null}}s(ve,"_useHandler");function ke(){if(W){var He=W;W=null,se&&se[ey](),se=null;var Ye=[];if(Jr(He,function(pt){if(pt&&(pt[L]&&(Jr(pt[L],function(ct){ct.clr(pt)}),pt[L]=null),pt.fn))try{ve(pt,pt.fn)}catch(ct){Ye[Hi](ct)}}),W)try{ke()}catch(pt){Ye[Hi](pt)}Ye[Yn]>0&&Rw("Watcher error(s): ",Ye)}}s(ke,"_notifyWatchers");function We(He){if(He&&He.h[Yn]>0){W||(W=[]),se||(se=Cp(function(){se=null,ke()},0));for(var Ye=0;Ye<He.h[Yn];Ye++){var pt=He.h[Ye];pt&&n0(W,pt)===-1&&W[Hi](pt)}}}s(We,"_addWatcher");function et(He,Ye){if(He){var pt=He[L]=He[L]||[];n0(pt,Ye)===-1&&pt[Hi](Ye)}}return s(et,"_trackHandler"),fe={prop:v,ro:T,rf:S,blkVal:P,hdlr:A,add:We,notify:ke,use:ve,trk:et},fe}s(_Y,"_createState");function I4(A,v){var T={fn:v,rm:s(function(){T.fn=null,A=null,v=null},"rm")};return Ue(T,"toJSON",{v:s(function(){return"WatcherHandler"+(T.fn?"":"[X]")},"v")}),A.use(T,v),T}s(I4,"_createAndUseHandler");function VD(A,v,T){var S=IY(v);if(S)return S;var P=Mm("dyncfg",!0),L=v&&T!==!1?v:HD(v),W;function se(){W.notify()}s(se,"_notifyWatchers");function fe(ct,wt,Jt){try{ct=wy(W,ct,wt,Jt)}catch(pr){Z3(A,wt,"Setting value",pr)}return ct[wt]}s(fe,"_setValue");function ve(ct){return I4(W,ct)}s(ve,"_watch");function ke(ct,wt){W.use(null,function(Jt){var pr=W.upd;try{U(wt)||(W.upd=wt),ct(Jt)}finally{W.upd=pr}})}s(ke,"_block");function We(ct,wt){var Jt;return _y(W,ct,wt,(Jt={},Jt[0]=!0,Jt))[wt]}s(We,"_ref");function et(ct,wt){var Jt;return _y(W,ct,wt,(Jt={},Jt[1]=!0,Jt))[wt]}s(et,"_rdOnly");function He(ct,wt){var Jt;return _y(W,ct,wt,(Jt={},Jt[2]=!0,Jt))[wt]}s(He,"_blkPropValue");function Ye(ct,wt){return wt&&ne(wt,function(Jt,pr){$w(pt,ct,Jt,pr)}),ct}s(Ye,"_applyDefaults");var pt={uid:null,cfg:L,logger:A,notify:se,set:fe,setDf:Ye,watch:ve,ref:We,rdOnly:et,blkVal:He,_block:ke};return Ue(pt,"uid",{c:!1,e:!1,w:!1,v:P}),W=_Y(pt),Sy(W,L,"config","Creating"),pt}s(VD,"_createDynamicHandler");function $D(A,v){A?(A[X2](v),A[S1](2,108,v)):Ty(v)}s($D,"_logInvalidAccess");function V0(A,v,T,S){var P=VD(T,A||{},S);return v&&P.setDf(P.cfg,v),P}s(V0,"createDynamicConfig");function Qm(A,v,T){var S=A[Dp]||A;return S.cfg&&(S.cfg===A||S.cfg[Dp]===S)?S[Bm](v):($D(T,kD+yt(A)),V0(A,null,T)[Bm](v))}s(Qm,"onConfigChange");function Ry(A,v){if(A&&A[R1])return A[R1](v)}s(Ry,"runTargetUnload");function zD(A,v,T){var S;return T||(S=ly(function(P){T=P})),A&&nY(A)>0?q0(Ry(A[0],v),function(){zD(Q2(A,1),v,T)}):T(),S}s(zD,"doUnloadAll");var SY=500,YD="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function RY(A,v,T){return!A&&K(A)?v:ft(A)?A:Ct(A)[J2]()==="true"}s(RY,"_stringToBoolOrDefault");function kY(A){return{mrg:!0,v:A}}s(kY,"cfgDfMerge");function Yw(A,v,T){return{fb:T,isVal:A,v}}s(Yw,"cfgDfValidate");function ld(A,v){return{fb:v,set:RY,v:!!A}}s(ld,"cfgDfBoolean");var T4=[fy,dy,d4,L1],w4=null,_4;function BY(A,v){return function(){var T=arguments,S=KD(v);if(S){var P=S.listener;P&&P[A]&&P[A][XE](P,T)}}}s(BY,"_listenerProxyFunc");function DY(){var A=ta("Microsoft");return A&&(w4=A.ApplicationInsights),w4}s(DY,"_getExtensionNamespace");function KD(A){var v=w4;return!v&&A.disableDbgExt!==!0&&(v=w4||DY()),v?v.ChromeDbgExt:null}s(KD,"getDebugExt");function PY(A){if(!_4){_4={};for(var v=0;v<T4[Yn];v++)_4[T4[v]]=BY(T4[v],A)}return _4}s(PY,"getDebugListener");var ky,JD="warnToConsole",NY="AI (Internal): ",LY="AI: ",FY="AITR_",XD={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},By=(ky={},ky[0]=null,ky[1]="errorToConsole",ky[2]=JD,ky[3]="debugToConsole",ky);function a0(A){return A?'"'+A[_p](/\"/g,hi)+'"':hi}s(a0,"_sanitizeDiagnosticText");function rx(A,v){var T=J3();if(T){var S="log";T[A]&&(S=A),De(T[S])&&T[S](v)}}s(rx,"_logToConsole");var S4=function(){function A(v,T,S,P){S===void 0&&(S=!1);var L=this;L[t4]=v,L[B1]=(S?LY:NY)+v;var W=hi;xy()&&(W=s0().stringify(P));var se=(T?" message:"+a0(T):hi)+(P?" props:"+a0(W):hi);L[B1]+=se}return s(A,"_InternalLogMessage"),A.dataType="MessageData",A}();function nx(A,v){return(A||{})[pa]||new ix(v)}s(nx,"safeGetLogger");var ix=function(){function A(v){this.identifier="DiagnosticLogger",this.queue=[];var T=0,S={},P,L,W,se,fe;Yl(A,this,function(ve){fe=We(v||{}),ve.consoleLoggingLevel=function(){return P},ve[S1]=function(Ye,pt,ct,wt,Jt){Jt===void 0&&(Jt=!1);var pr=new S4(pt,ct,Jt,wt);if(se)throw yt(pr);var Pr=By[Ye]||JD;if(U(pr[B1]))He("throw"+(Ye===1?"Critical":"Warning"),pr);else{if(Jt){var jn=+pr[t4];!S[jn]&&P>=Ye&&(ve[Pr](pr[B1]),S[jn]=!0)}else P>=Ye&&ve[Pr](pr[B1]);ke(Ye,pr)}},ve.debugToConsole=function(Ye){rx("debug",Ye),He("warning",Ye)},ve[X2]=function(Ye){rx("warn",Ye),He("warning",Ye)},ve.errorToConsole=function(Ye){rx("error",Ye),He("error",Ye)},ve.resetInternalMessageCount=function(){T=0,S={}},ve.logInternalMessage=ke,ve[R1]=function(Ye){fe&&fe.rm(),fe=null};function ke(Ye,pt){if(!et()){var ct=!0,wt=FY+pt[t4];if(S[wt]?ct=!1:S[wt]=!0,ct&&(Ye<=L&&(ve.queue[Hi](pt),T++,He(Ye===1?"error":"warn",pt)),T===W)){var Jt="Internal events throttle limit per PageView reached for this app.",pr=new S4(23,Jt,!1);ve.queue[Hi](pr),Ye===1?ve.errorToConsole(Jt):ve[X2](Jt)}}}s(ke,"_logInternalMessage");function We(Ye){return Qm(V0(Ye,XD,ve).cfg,function(pt){var ct=pt.cfg;P=ct[yD],L=ct.loggingLevelTelemetry,W=ct.maxMessageLimit,se=ct.enableDebug})}s(We,"_setDefaultsFromConfig");function et(){return T>=W}s(et,"_areInternalMessagesThrottled");function He(Ye,pt){var ct=KD(v||{});ct&&ct[nd]&&ct[nd](Ye,pt)}s(He,"_debugExtMsg")})}return s(A,"DiagnosticLogger"),A.__ieDyn=1,A}();function Kw(A){return A||new ix}s(Kw,"_getLogger");function Or(A,v,T,S,P,L){L===void 0&&(L=!1),Kw(A)[S1](v,T,S,P,L)}s(Or,"_throwInternal");function R4(A,v){Kw(A)[X2](v)}s(R4,"_warnToConsole");var ox,Np,ZD="toGMTString",eP="toUTCString",k4="cookie",Om="expires",tP="isCookieUseDisabled",B4="disableCookiesUsage",rP="_ckMgr",D4=null,Dy=null,P4=null,cd,nP={},iP={},oP=(ox={cookieCfg:kY((Np={},Np[h4]={fb:"cookieDomain",dfVal:g4},Np.path={fb:"cookiePath",dfVal:g4},Np.enabled=W0,Np.ignoreCookies=W0,Np.blockedCookies=W0,Np)),cookieDomain:W0,cookiePath:W0},ox[B4]=W0,ox);function Jw(){!cd&&(cd=fr(function(){return L2()}))}s(Jw,"_getDoc");function sx(A){return A?A.isEnabled():!0}s(sx,"_isMgrEnabled");function Xw(A,v){return v&&A&&qe(A.ignoreCookies)?n0(A.ignoreCookies,v)!==-1:!1}s(Xw,"_isIgnoredCookie");function MY(A,v){return v&&A&&qe(A.blockedCookies)&&n0(A.blockedCookies,v)!==-1?!0:Xw(A,v)}s(MY,"_isBlockedCookie");function Zw(A,v){var T=v[td];if(K(T)){var S=void 0;U(A[tP])||(S=!A[tP]),U(A[B4])||(S=!A[B4]),T=S}return T}s(Zw,"_isCfgEnabled");function QY(A,v){var T,S,P,L,W,se,fe,ve;A=V0(A||iP,null,v).cfg,L=Qm(A,function(We){We.setDf(We.cfg,oP),T=We.ref(We.cfg,"cookieCfg"),S=T[p4]||"/",P=T[h4],W=Zw(A,T)!==!1,se=T.getCookie||OY,fe=T.setCookie||Py,ve=T.delCookie||Py},v);var ke={isEnabled:s(function(){var We=Zw(A,T)!==!1&&W&&sP(v),et=iP[rP];return We&&et&&ke!==et&&(We=sx(et)),We},"isEnabled"),setEnabled:s(function(We){W=We!==!1,T[td]=We},"setEnabled"),set:s(function(We,et,He,Ye,pt){var ct=!1;if(sx(ke)&&!MY(T,We)){var wt={},Jt=Gi(et||hi),pr=Sm(Jt,";");if(pr!==-1&&(Jt=Gi(F(et,pr)),wt=e7(me(et,pr+1))),Rp(wt,h4,Ye||P,oe,U),!K(He)){var Pr=Ou();if(U(wt[Om])){var jn=gp(),Ci=jn+He*1e3;if(Ci>0){var xi=new Date;xi.setTime(Ci),Rp(wt,Om,aP(xi,Pr?ZD:eP)||aP(xi,Pr?ZD:eP)||hi,oe)}}Pr||Rp(wt,"max-age",hi+He,null,U)}var mo=Cy();mo&&mo.protocol==="https:"&&(Rp(wt,"secure",null,null,U),Dy===null&&(Dy=!UY((dp()||{})[n4])),Dy&&Rp(wt,"SameSite","None",null,U)),Rp(wt,p4,pt||S,null,U),fe(We,lP(Jt,wt)),ct=!0}return ct},"set"),get:s(function(We){var et=hi;return sx(ke)&&!Xw(T,We)&&(et=se(We)),et},"get"),del:s(function(We,et){var He=!1;return sx(ke)&&(He=ke.purge(We,et)),He},"del"),purge:s(function(We,et){var He,Ye=!1;if(sP(v)){var pt=(He={},He[p4]=et||"/",He[Om]="Thu, 01 Jan 1970 00:00:01 GMT",He);Ou()||(pt["max-age"]="0"),ve(We,lP(hi,pt)),Ye=!0}return Ye},"purge"),unload:s(function(We){L&&L.rm(),L=null},"unload")};return ke[rP]=ke,ke}s(QY,"createCookieMgr");function sP(A){if(D4===null){D4=!1,!cd&&Jw();try{var v=cd.v||{};D4=v[k4]!==void 0}catch(T){Or(A,2,68,"Cannot access document.cookie - "+il(T),{exception:yt(T)})}}return D4}s(sP,"areCookiesSupported");function e7(A){var v={};if(A&&A[Yn]){var T=Gi(A)[wp](";");Jr(T,function(S){if(S=Gi(S||hi),S){var P=Sm(S,"=");P===-1?v[S]=null:v[Gi(F(S,P))]=Gi(me(S,P+1))}})}return v}s(e7,"_extractParts");function aP(A,v){return De(A[v])?A[v]():null}s(aP,"_formatDate");function lP(A,v){var T=A||hi;return ne(v,function(S,P){T+="; "+S+(K(P)?hi:"="+P)}),T}s(lP,"_formatCookieValue");function OY(A){var v=hi;if(!cd&&Jw(),cd.v){var T=cd.v[k4]||hi;P4!==T&&(nP=e7(T),P4=T),v=Gi(nP[A]||hi)}return v}s(OY,"_getCookieValue");function Py(A,v){!cd&&Jw(),cd.v&&(cd.v[k4]=A+"="+v)}s(Py,"_setCookieValue");function UY(A){return ce(A)?!!(vl(A,"CPU iPhone OS 12")||vl(A,"iPad; CPU OS 12")||vl(A,"Macintosh; Intel Mac OS X 10_14")&&vl(A,"Version/")&&vl(A,"Safari")||vl(A,"Macintosh; Intel Mac OS X 10_14")&&dD(A,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||vl(A,"Chrome/5")||vl(A,"Chrome/6")||vl(A,"UnrealEngine")&&!vl(A,"Chrome")||vl(A,"UCBrowser/12")||vl(A,"UCBrowser/11")):!1}s(UY,"uaDisallowsSameSiteNone");var t7={perfEvtsSendAll:!1};function qY(A){A.h=null;var v=A.cb;A.cb=[],Jr(v,function(T){Z(T.fn,[T.arg])})}s(qY,"_runScheduledListeners");function Lp(A,v,T,S){Jr(A,function(P){P&&P[v]&&(T?(T.cb[Hi]({fn:S,arg:P}),T.h=T.h||Cp(qY,0,T)):Z(S,[P]))})}s(Lp,"_runListeners");var WY=function(){function A(v){this.listeners=[];var T,S,P=[],L={h:null,cb:[]},W=V0(v,t7);S=W[Bm](function(se){T=!!se.cfg.perfEvtsSendAll}),Yl(A,this,function(se){Ue(se,"listeners",{g:s(function(){return P},"g")}),se[ZE]=function(fe){P[Hi](fe)},se[W3]=function(fe){for(var ve=n0(P,fe);ve>-1;)P[Z2](ve,1),ve=n0(P,fe)},se[fy]=function(fe){Lp(P,fy,L,function(ve){ve[fy](fe)})},se[dy]=function(fe,ve){Lp(P,dy,L,function(ke){ke[dy](fe,ve)})},se[d4]=function(fe,ve){Lp(P,d4,ve?L:null,function(ke){ke[d4](fe,ve)})},se[L1]=function(fe){fe&&(T||!fe[_w]())&&Lp(P,L1,null,function(ve){fe.isAsync?Cp(function(){return ve[L1](fe)},0):ve[L1](fe)})},se[Bw]=function(fe){fe&&fe[Yn]&&Lp(P,Bw,L,function(ve){ve[Bw](fe)})},se[Dw]=function(fe){fe&&fe[oy]&&Lp(P,Dw,L,function(ve){ve[Dw](fe)})},se[m4]=function(fe,ve){if(fe>0){var ke=ve||0;Lp(P,m4,L,function(We){We[m4](fe,ke)})}},se[R1]=function(fe){var ve=s(function(){S&&S.rm(),S=null,P=[],L.h&&L.h[ey](),L.h=null,L.cb=[]},"_finishUnload"),ke;if(Lp(P,"unload",null,function(We){var et=We[R1](fe);et&&(ke||(ke=[]),ke[Hi](et))}),ke)return ly(function(We){return q0(kw(ke),function(){ve(),We()})});ve()}})}return s(A,"NotificationManager"),A.__ieDyn=1,A}(),Ny="ctx",r7="ParentContextKey",ax="ChildrenContextKey",GY=null,N4=function(){function A(v,T,S){var P=this;if(P.start=gp(),P[Ip]=v,P.isAsync=S,P[_w]=function(){return!1},De(T)){var L;Ue(P,"payload",{g:s(function(){return!L&&De(T)&&(L=T(),T=null),L},"g")})}P[Sp]=function(W){return W?W===A[r7]||W===A[ax]?P[W]:(P[Ny]||{})[W]:null},P[Mu]=function(W,se){if(W)if(W===A[r7])P[W]||(P[_w]=function(){return!0}),P[W]=se;else if(W===A[ax])P[W]=se;else{var fe=P[Ny]=P[Ny]||{};fe[W]=se}},P.complete=function(){var W=0,se=P[Sp](A[ax]);if(qe(se))for(var fe=0;fe<se[Yn];fe++){var ve=se[fe];ve&&(W+=ve.time)}P.time=gp()-P.start,P.exTime=P.time-W,P.complete=function(){}}}return s(A,"PerfEvent"),A.ParentContextKey="parent",A.ChildrenContextKey="childEvts",A}(),HY=function(){function A(v){this.ctx={},Yl(A,this,function(T){T.create=function(S,P,L){return new N4(S,P,L)},T.fire=function(S){S&&(S.complete(),v&&De(v[L1])&&v[L1](S))},T[Mu]=function(S,P){if(S){var L=T[Ny]=T[Ny]||{};L[S]=P}},T[Sp]=function(S){return(T[Ny]||{})[S]}})}return s(A,"PerfManager"),A.__ieDyn=1,A}(),ud="CoreUtils.doPerf";function Ly(A,v,T,S,P){if(A){var L=A;if(L[j3]&&(L=L[j3]()),L){var W=void 0,se=L[Sp](ud);try{if(W=L.create(v(),S,P),W){if(se&&W[Mu]&&(W[Mu](N4[r7],se),se[Sp]&&se[Mu])){var fe=se[Sp](N4[ax]);fe||(fe=[],se[Mu](N4[ax],fe)),fe[Hi](W)}return L[Mu](ud,W),T(W)}}catch(ve){W&&W[Mu]&&W[Mu]("exception",ve)}finally{W&&L.fire(W),L[Mu](ud,se)}}}return T()}s(Ly,"doPerf");function Aa(){return GY}s(Aa,"getGblPerfMgr");var L4="00000000000000000000000000000000",Fy="0000000000000000";function F4(A,v,T){return A&&A[Yn]===v&&A!==T?!!A.match(/^[\da-f]*$/i):!1}s(F4,"_isValid");function Fp(A){return F4(A,32,L4)}s(Fp,"isValidTraceId");function O1(A){return F4(A,16,Fy)}s(O1,"isValidSpanId");var lx=UD("plugin");function Mp(A){return lx.get(A,"state",{},!0)}s(Mp,"_getPluginState");function n7(A,v){for(var T=[],S=null,P=A[id](),L;P;){var W=P[ry]();if(W){S&&S[Tp]&&W[G0]&&S[Tp](W),L=Mp(W);var se=!!L[ed];W[ed]&&(se=W[ed]()),se||T[Hi](W),S=W,P=P[id]()}}Jr(T,function(fe){var ve=A[ga]();fe[q3](A.getCfg(),ve,v,A[id]()),L=Mp(fe),!fe[ga]&&!L[ga]&&(L[ga]=ve),L[ed]=!0,delete L[rd]})}s(n7,"initializePlugins");function i7(A){return A.sort(function(v,T){var S=0;if(T){var P=T[G0];v[G0]?S=P?v[uy]-T[uy]:1:P&&(S=-1)}else S=v?1:-1;return S})}s(i7,"sortPlugins");function jY(A){var v={};return{getName:s(function(){return v[Ip]},"getName"),setName:s(function(T){A&&A.setName(T),v[Ip]=T},"setName"),getTraceId:s(function(){return v.traceId},"getTraceId"),setTraceId:s(function(T){A&&A.setTraceId(T),Fp(T)&&(v.traceId=T)},"setTraceId"),getSpanId:s(function(){return v.spanId},"getSpanId"),setSpanId:s(function(T){A&&A.setSpanId(T),O1(T)&&(v.spanId=T)},"setSpanId"),getTraceFlags:s(function(){return v[xD]},"getTraceFlags"),setTraceFlags:s(function(T){A&&A.setTraceFlags(T),v[xD]=T},"setTraceFlags")}}s(jY,"createDistributedTraceContext");var VY="TelemetryPluginChain",cP="_hasRun",o7="_getTelCtx",uP=0;function $Y(A,v,T){for(;A;){if(A[ry]()===T)return A;A=A[id]()}return D([T],v.config||{},v)}s($Y,"_getNextProxyStart");function s7(A,v,T,S){var P=null,L=[];v||(v=V0({},null,T[pa])),S!==null&&(P=S?$Y(A,T,S):A);var W={_next:fe,ctx:{core:s(function(){return T},"core"),diagLog:s(function(){return nx(T,v.cfg)},"diagLog"),getCfg:s(function(){return v.cfg},"getCfg"),getExtCfg:ke,getConfig:We,hasNext:s(function(){return!!P},"hasNext"),getNext:s(function(){return P},"getNext"),setNext:s(function(He){P=He},"setNext"),iterate:et,onComplete:se}};function se(He,Ye){for(var pt=[],ct=2;ct<arguments.length;ct++)pt[ct-2]=arguments[ct];He&&L[Hi]({func:He,self:U(Ye)?W.ctx:Ye,args:pt})}s(se,"_addOnComplete");function fe(){var He=P;if(P=He?He[id]():null,!He){var Ye=L;Ye&&Ye[Yn]>0&&(Jr(Ye,function(pt){try{pt.func.call(pt.self,pt.args)}catch(ct){Or(T[pa],2,73,"Unexpected Exception during onComplete - "+yt(ct))}}),L=[])}return He}s(fe,"_moveNext");function ve(He,Ye){var pt=null,ct=v.cfg;if(ct&&He){var wt=ct[N1];!wt&&Ye&&(wt={}),ct[N1]=wt,wt=v.ref(ct,N1),wt&&(pt=wt[He],!pt&&Ye&&(pt={}),wt[He]=pt,pt=v.ref(wt,He))}return pt}s(ve,"_getExtCfg");function ke(He,Ye){var pt=ve(He,!0);return Ye&&ne(Ye,function(ct,wt){if(K(pt[ct])){var Jt=v.cfg[ct];(Jt||!K(Jt))&&(pt[ct]=Jt)}$w(v,pt,ct,wt)}),v.setDf(pt,Ye)}s(ke,"_resolveExtCfg");function We(He,Ye,pt){pt===void 0&&(pt=!1);var ct,wt=ve(He,!1),Jt=v.cfg;return wt&&(wt[Ye]||!K(wt[Ye]))?ct=wt[Ye]:(Jt[Ye]||!K(Jt[Ye]))&&(ct=Jt[Ye]),ct||!K(ct)?ct:pt}s(We,"_getConfig");function et(He){for(var Ye;Ye=W._next();){var pt=Ye[ry]();pt&&He(pt)}}return s(et,"_iterateChain"),W}s(s7,"_createInternalContext");function My(A,v,T,S){var P=V0(v),L=s7(A,P,T,S),W=L.ctx;function se(ve){var ke=L._next();return ke&&ke[G0](ve,W),!ke}s(se,"_processNext");function fe(ve,ke){return ve===void 0&&(ve=null),qe(ve)&&(ve=D(ve,P.cfg,T,ke)),My(ve||W[id](),P.cfg,T,ke)}return s(fe,"_createNew"),W[xl]=se,W[k1]=fe,W}s(My,"createProcessTelemetryContext");function w(A,v,T){var S=V0(v.config),P=s7(A,S,v,T),L=P.ctx;function W(fe){var ve=P._next();return ve&&ve[R1](L,fe),!ve}s(W,"_processNext");function se(fe,ve){return fe===void 0&&(fe=null),qe(fe)&&(fe=D(fe,S.cfg,v,ve)),w(fe||L[id](),v,ve)}return s(se,"_createNew"),L[xl]=W,L[k1]=se,L}s(w,"createProcessTelemetryUnloadContext");function R(A,v,T){var S=V0(v.config),P=s7(A,S,v,T),L=P.ctx;function W(fe){return L.iterate(function(ve){De(ve[Dm])&&ve[Dm](L,fe)})}s(W,"_processNext");function se(fe,ve){return fe===void 0&&(fe=null),qe(fe)&&(fe=D(fe,S.cfg,v,ve)),R(fe||L[id](),v,ve)}return s(se,"_createNew"),L[xl]=W,L[k1]=se,L}s(R,"createProcessTelemetryUpdateContext");function D(A,v,T,S){var P=null,L=!S;if(qe(A)&&A[Yn]>0){var W=null;Jr(A,function(se){if(!L&&S===se&&(L=!0),L&&se&&De(se[G0])){var fe=Q(se,v,T);P||(P=fe),W&&W._setNext(fe),W=fe}})}return S&&!P?D([S],v,T):P}s(D,"createTelemetryProxyChain");function Q(A,v,T){var S=null,P=De(A[G0]),L=De(A[Tp]),W;A?W=A[Ep]+"-"+A[uy]+"-"+uP++:W="Unknown-0-"+uP++;var se={getPlugin:s(function(){return A},"getPlugin"),getNext:s(function(){return S},"getNext"),processTelemetry:ke,unload:We,update:et,_id:W,_setNext:s(function(He){S=He},"_setNext")};function fe(){var He;return A&&De(A[o7])&&(He=A[o7]()),He||(He=My(se,v,T)),He}s(fe,"_getTelCtx");function ve(He,Ye,pt,ct,wt){var Jt=!1,pr=A?A[Ep]:VY,Pr=He[cP];return Pr||(Pr=He[cP]={}),He.setNext(S),A&&Ly(He[ga](),function(){return pr+":"+pt},function(){Pr[W]=!0;try{var jn=S?S._id:hi;jn&&(Pr[jn]=!1),Jt=Ye(He)}catch(xi){var Ci=S?Pr[S._id]:!0;Ci&&(Jt=!0),(!S||!Ci)&&Or(He[nd](),1,73,"Plugin ["+pr+"] failed during "+pt+" - "+yt(xi)+", run flags: "+yt(Pr))}},ct,wt),Jt}s(ve,"_processChain");function ke(He,Ye){Ye=Ye||fe();function pt(ct){if(!A||!P)return!1;var wt=Mp(A);return wt[rd]||wt[f4]?!1:(L&&A[Tp](S),A[G0](He,ct),!0)}s(pt,"_callProcessTelemetry"),ve(Ye,pt,"processTelemetry",function(){return{item:He}},!He.sync)||Ye[xl](He)}s(ke,"_processTelemetry");function We(He,Ye){function pt(){var ct=!1;if(A){var wt=Mp(A),Jt=A[ga]||wt[ga];A&&(!Jt||Jt===He.core())&&!wt[rd]&&(wt[ga]=null,wt[rd]=!0,wt[ed]=!1,A[rd]&&A[rd](He,Ye)===!0&&(ct=!0))}return ct}s(pt,"_callTeardown"),ve(He,pt,"unload",function(){},Ye.isAsync)||He[xl](Ye)}s(We,"_unloadPlugin");function et(He,Ye){function pt(){var ct=!1;if(A){var wt=Mp(A),Jt=A[ga]||wt[ga];A&&(!Jt||Jt===He.core())&&!wt[rd]&&A[Dm]&&A[Dm](He,Ye)===!0&&(ct=!0)}return ct}s(pt,"_callUpdate"),ve(He,pt,"update",function(){},!1)||He[xl](Ye)}return s(et,"_updatePlugin"),Et(se)}s(Q,"createTelemetryPluginProxy");function ue(){var A=[];function v(S){S&&A[Hi](S)}s(v,"_addHandler");function T(S,P){Jr(A,function(L){try{L(S,P)}catch(W){Or(S[nd](),2,73,"Unexpected error calling unload handler - "+yt(W))}}),A=[]}return s(T,"_runHandlers"),{add:v,run:T}}s(ue,"createUnloadHandlerContainer");function we(){var A=[];function v(S){var P=A;A=[],Jr(P,function(L){try{(L.rm||L.remove).call(L)}catch(W){Or(S,2,73,"Unloading:"+yt(W))}})}s(v,"_doUnload");function T(S){S&&M2(A,S)}return s(T,"_addHook"),{run:v,add:T}}s(we,"createUnloadHookContainer");var Be,je="getPlugin",it=(Be={},Be[N1]={isVal:g4,v:{}},Be),vt=function(){function A(){var v=this,T,S,P,L,W;ve(),Yl(A,v,function(ke){ke[q3]=function(We,et,He,Ye){fe(We,et,Ye),T=!0},ke[rd]=function(We,et){var He=ke[ga];if(!He||We&&He!==We[ga]())return;var Ye,pt=!1,ct=We||w(null,He,P&&P[je]?P[je]():P),wt=et||{reason:0,isAsync:!1};function Jt(){pt||(pt=!0,L.run(ct,et),W.run(ct[nd]()),Ye===!0&&ct[xl](wt),ve())}return s(Jt,"_unloadCallback"),!ke[r4]||ke[r4](ct,wt,Jt)!==!0?Jt():Ye=!0,Ye},ke[Dm]=function(We,et){var He=ke[ga];if(!He||We&&He!==We[ga]())return;var Ye,pt=!1,ct=We||R(null,He,P&&P[je]?P[je]():P),wt=et||{reason:0};function Jt(){pt||(pt=!0,fe(ct.getCfg(),ct.core(),ct[id]()))}return s(Jt,"_updateCallback"),!ke._doUpdate||ke._doUpdate(ct,wt,Jt)!==!0?Jt():Ye=!0,Ye},$3(ke,"_addUnloadCb",function(){return L},"add"),$3(ke,"_addHook",function(){return W},"add"),Ue(ke,"_unloadHooks",{g:s(function(){return W},"g")})}),v[nd]=function(ke){return se(ke)[nd]()},v[ed]=function(){return T},v.setInitialized=function(ke){T=ke},v[Tp]=function(ke){P=ke},v[xl]=function(ke,We){We?We[xl](ke):P&&De(P[G0])&&P[G0](ke,null)},v._getTelCtx=se;function se(ke){ke===void 0&&(ke=null);var We=ke;if(!We){var et=S||My(null,{},v[ga]);P&&P[je]?We=et[k1](null,P[je]):We=et[k1](null,P)}return We}s(se,"_getTelCtx");function fe(ke,We,et){V0(ke,it,nx(We)),!et&&We&&(et=We[ny]()[id]());var He=P;P&&P[je]&&(He=P[je]()),v[ga]=We,S=My(et,ke,We,He)}s(fe,"_setDefaults");function ve(){T=!1,v[ga]=null,S=null,P=null,W=we(),L=ue()}s(ve,"_initDefaults")}return s(A,"BaseTelemetryPlugin"),A.__ieDyn=1,A}();function Tr(A,v,T){var S={id:v,fn:T};M2(A,S);var P={remove:s(function(){Jr(A,function(L,W){if(L.id===S.id)return A[Z2](W,1),-1})},"remove")};return P}s(Tr,"_addInitializer");function wn(A,v,T){for(var S=!1,P=A[Yn],L=0;L<P;++L){var W=A[L];if(W)try{if(W.fn[XE](null,[v])===!1){S=!0;break}}catch(se){Or(T,2,64,"Telemetry initializer failed: "+il(se),{exception:yt(se)},!0)}}return!S}s(wn,"_runInitializers");var Hn=function(A){U3(v,A);function v(){var T=A.call(this)||this;T.identifier="TelemetryInitializerPlugin",T.priority=199;var S,P;L(),Yl(v,T,function(W,se){W.addTelemetryInitializer=function(fe){return Tr(P,S++,fe)},W[G0]=function(fe,ve){wn(P,fe,ve?ve[nd]():W[nd]())&&W[xl](fe,ve)},W[r4]=function(){L()}});function L(){S=0,P=[]}return s(L,"_initDefaults"),T}return s(v,"TelemetryInitializerPlugin"),v.__ieDyn=1,v}(vt),Rr,Mr="Plugins must provide initialize method",qn="_notificationManager",_n="SDK is still unloading...",pi="SDK is not initialized",no=100,Si=5e4,La=Rt((Rr={cookieCfg:{}},Rr[cy]={rdOnly:!0,ref:!0,v:[]},Rr[Lm]={rdOnly:!0,ref:!0,v:[]},Rr[N1]={ref:!0,v:{}},Rr[Qu]=W0,Rr.loggingLevelConsole=0,Rr.diagnosticLogInterval=W0,Rr));function Qy(A,v){return new HY(v)}s(Qy,"_createPerfManager");function cx(A,v,T){var S=[],P=[],L={};return Jr(T,function(W){(K(W)||K(W[q3]))&&Kt(Mr);var se=W[uy],fe=W[Ep];W&&se&&(K(L[se])?L[se]=fe:R4(A,"Two extensions have same priority #"+se+" - "+L[se]+", "+fe)),!se||se<v?S[Hi](W):P[Hi](W)}),{core:S,channels:P}}s(cx,"_validateExtensions");function a7(A,v){var T=!1;return Jr(v,function(S){if(S===A)return T=!0,-1}),T}s(a7,"_isPluginPresent");function M4(A,v,T,S){T&&ne(T,function(P,L){S&&i0(L)&&i0(v[P])&&M4(A,v[P],L,S),S&&i0(L)&&i0(v[P])?M4(A,v[P],L,S):A.set(v,P,L)})}s(M4,"_deepMergeConfig");function fP(A,v){var T=null,S=-1;return Jr(A,function(P,L){if(P.w===v)return T=P,S=L,-1}),{i:S,l:T}}s(fP,"_findWatcher");function zY(A,v){var T=fP(A,v).l;return T||(T={w:v,rm:s(function(){var S=fP(A,v);S.i!==-1&&A[Z2](S.i,1)},"rm")},A[Hi](T)),T}s(zY,"_addDelayedCfgListener");function l7(A,v,T){Jr(v,function(S){var P=Qm(A,S.w,T);delete S.w,S.rm=function(){P.rm()}})}s(l7,"_registerDelayedCfgListener");function dP(A,v,T,S){return v.add(A[Bm](function(P){var L=P.cfg.disableDbgExt;L===!0&&S&&(T[W3](S),S=null),T&&!S&&L!==!0&&(S=PY(P.cfg),T[ZE](S))})),S}s(dP,"_initDebugListener");function mP(A){return Ue({rm:s(function(){A.rm()},"rm")},"toJSON",{v:s(function(){return"aicore::onCfgChange<"+JSON.stringify(A)+">"},"v")})}s(mP,"_createUnloadHook");var Ft=function(){function A(){var v,T,S,P,L,W,se,fe,ve,ke,We,et,He,Ye,pt,ct,wt,Jt,pr,Pr,jn,Ci,xi,mo,pn,$r,vi,Rs,Uo,er,zr,io;Yl(A,this,function(Nt){mt(),Nt._getDbgPlgTargets=function(){return[xi,P]},Nt[ed]=function(){return T},Nt.activeStatus=function(){return $r},Nt._setPendingStatus=function(){$r=3},Nt[q3]=function(At,Br,Pn,Hr){He&&Kt(_n),Nt[ed]()&&Kt("Core cannot be initialized more than once"),v=V0(At,La,Pn||Nt[pa],!1),At=v.cfg,Xl(v[Bm](function(wo){var os=wo.cfg,_c=$r===3;if(!_c){Rs=os.initInMemoMaxSize||no;var $0=os.instrumentationKey,Wm=os.endpointUrl;if(K($0)){jn=null,$r=bp.INACTIVE;var Gm="Please provide instrumentation key";T?(Or(S,1,100,Gm),Gs()):Kt(Gm);return}var K4=[];if(lt($0)?(K4[Hi]($0),jn=null):jn=$0,lt(Wm)?(K4[Hi](Wm),vi=null):vi=Wm,K4[Yn]){Uo=!1,$r=3;var S7=g4(os.initTimeOut)?os.initTimeOut:Si,wK=o0(K4);Cp(function(){Uo||Sn()},S7),q0(wK,function(Yy){try{if(Uo)return;if(!Yy.rejected){var Ky=Yy[ty];if(Ky&&Ky[Yn]){var MP=Ky[0];if(jn=MP&&MP[ty],Ky[Yn]>1){var QP=Ky[1];vi=QP&&QP[ty]}}jn&&(At.instrumentationKey=jn,At.endpointUrl=vi)}Sn()}catch{Uo||Sn()}})}else Sn();var J4=wo.ref(wo.cfg,N1);ne(J4,function(Yy){wo.ref(J4,Yy)})}})),L=Hr,pr=dP(v,Jt,L&&Nt[Fu](),pr),$y(),Nt[pa]=Pn;var Nn=At[cy];if(ke=[],ke[Hi].apply(ke,gD(gD([],Br,!1),Nn)),We=At[Lm],Hs(null),(!et||et[Yn]===0)&&Kt("No "+Lm+" available"),We&&We[Yn]>1){var xo=Nt[ry]("TeeChannelController");(!xo||!xo.plugin)&&Or(S,1,28,"TeeChannel required")}l7(At,Ci,S),Ci=null,T=!0,$r===bp.ACTIVE&&Gs()},Nt.getChannels=function(){var At=[];return et&&Jr(et,function(Br){At[Hi](Br)}),Et(At)},Nt.track=function(At){Ly(Nt[j3](),function(){return"AppInsightsCore:track"},function(){At===null&&(ks(At),Kt("Invalid telemetry item")),!At[Ip]&&K(At[Ip])&&(ks(At),Kt("telemetry name required")),At.iKey=At.iKey||jn,At.time=At.time||V3(new Date),At.ver=At.ver||"4.0",!He&&Nt[ed]()&&$r===bp.ACTIVE?Qa()[xl](At):$r!==bp.INACTIVE&&P[Yn]<=Rs&&P[Hi](At)},function(){return{item:At}},!At.sync)},Nt[ny]=Qa,Nt[Fu]=function(){return L||(L=new WY(v.cfg),Nt[qn]=L),L},Nt[ZE]=function(At){Nt.getNotifyMgr()[ZE](At)},Nt[W3]=function(At){L&&L[W3](At)},Nt.getCookieMgr=function(){return fe||(fe=QY(v.cfg,Nt[pa])),fe},Nt.setCookieMgr=function(At){fe!==At&&(Ry(fe,!1),fe=At)},Nt[j3]=function(){return W||se||Aa()},Nt.setPerfMgr=function(At){W=At},Nt.eventCnt=function(){return P[Yn]},Nt.releaseQueue=function(){if(T&&P[Yn]>0){var At=P;P=[],$r===2?Jr(At,function(Br){Br.iKey=Br.iKey||jn,Qa()[xl](Br)}):Or(S,2,20,"core init status is not active")}},Nt.pollInternalLogs=function(At){return pt=At||null,io=!1,er&&er[ey](),ho(!0)};function Sn(){Uo=!0,K(jn)?($r=bp.INACTIVE,Or(S,1,112,"ikey can't be resolved from promises")):$r=bp.ACTIVE,Gs()}s(Sn,"_setStatus");function Gs(){T&&(Nt.releaseQueue(),Nt.pollInternalLogs())}s(Gs,"_releaseQueues");function ho(At){if((!er||!er[td])&&!io){var Br=At||S&&S.queue[Yn]>0;Br&&(zr||(zr=!0,Xl(v[Bm](function(Pn){var Hr=Pn.cfg.diagnosticLogInterval;(!Hr||!(Hr>0))&&(Hr=1e4);var Nn=!1;er&&(Nn=er[td],er[ey]()),er=jE(Vy,Hr),er.unref(),er[td]=Nn}))),er[td]=!0)}return er}s(ho,"_startLogPoller"),Nt[AD]=function(){io=!0,er&&er[ey](),Vy()},Nw(Nt,function(){return Ye},["addTelemetryInitializer"]),Nt[R1]=function(At,Br,Pn){At===void 0&&(At=!0),T||Kt(pi),He&&Kt(_n);var Hr={reason:50,isAsync:At,flushComplete:!1},Nn;At&&!Br&&(Nn=ly(function(os){Br=os}));var xo=w(dd(),Nt);xo[e4](function(){Jt.run(Nt[pa]),zD([fe,L,S],At,function(){mt(),Br&&Br(Hr)})},Nt);function wo(os){Hr.flushComplete=os,He=!0,wt.run(xo,Hr),Nt[AD](),xo[xl](Hr)}return s(wo,"_doUnload"),Vy(),Um(At,wo,6,Pn),Nn},Nt[ry]=Tl,Nt.addPlugin=function(At,Br,Pn,Hr){if(!At){Hr&&Hr(!1),zy(Mr);return}var Nn=Tl(At[Ep]);if(Nn&&!Br){Hr&&Hr(!1),zy("Plugin ["+At[Ep]+"] is already loaded!");return}var xo={reason:16};function wo($0){ke[Hi](At),xo.added=[At],Hs(xo),Hr&&Hr(!0)}if(s(wo,"_addPlugin"),Nn){var os=[Nn.plugin],_c={reason:2,isAsync:!!Pn};l0(os,_c,function($0){$0?(xo.removed=os,xo.reason|=32,wo()):Hr&&Hr(!1)})}else wo()},Nt.updateCfg=function(At,Br){Br===void 0&&(Br=!0);var Pn;if(Nt[ed]()){Pn={reason:1,cfg:v.cfg,oldCfg:UE({},v.cfg),newConfig:UE({},At),merge:Br},At=Pn.newConfig;var Hr=v.cfg;At[cy]=Hr[cy],At[Lm]=Hr[Lm]}v._block(function(Nn){var xo=Nn.cfg;M4(Nn,xo,At,Br),Br||ne(xo,function(wo){Ge(At,wo)||Nn.set(xo,wo,W0)}),Nn.setDf(xo,La)},!0),v.notify(),Pn&&qm(Pn)},Nt.evtNamespace=function(){return ct},Nt.flush=Um,Nt.getTraceCtx=function(At){return Pr||(Pr=jY()),Pr},Nt.setTraceCtx=function(At){Pr=At||null},Nt.addUnloadHook=Xl,$3(Nt,"addUnloadCb",function(){return wt},"add"),Nt.onCfgChange=function(At){var Br;return T?Br=Qm(v.cfg,At,Nt[pa]):Br=zY(Ci,At),mP(Br)},Nt.getWParam=function(){return fp()||v.cfg.enableWParam?0:-1};function Il(){var At={};mo=[];var Br=s(function(Pn){Pn&&Jr(Pn,function(Hr){if(Hr[Ep]&&Hr[iy]&&!At[Hr.identifier]){var Nn=Hr[Ep]+"="+Hr[iy];mo[Hi](Nn),At[Hr.identifier]=Hr}})},"_addPluginVersions");Br(et),We&&Jr(We,function(Pn){Br(Pn)}),Br(ke)}s(Il,"_setPluginVersions");function mt(){T=!1,v=V0({},La,Nt[pa]),v.cfg[yD]=1,Ue(Nt,"config",{g:s(function(){return v.cfg},"g"),s:s(function(Br){Nt.updateCfg(Br,!1)},"s")}),Ue(Nt,"pluginVersionStringArr",{g:s(function(){return mo||Il(),mo},"g")}),Ue(Nt,"pluginVersionString",{g:s(function(){return pn||(mo||Il(),pn=mo.join(";")),pn||hi},"g")}),Ue(Nt,"logger",{g:s(function(){return S||(S=new ix(v.cfg),v[pa]=S),S},"g"),s:s(function(Br){v[pa]=Br,S!==Br&&(Ry(S,!1),S=Br)},"s")}),Nt[pa]=new ix(v.cfg),xi=[];var At=Nt.config[cy]||[];At.splice(0,At[Yn]),M2(At,xi),Ye=new Hn,P=[],Ry(L,!1),L=null,W=null,se=null,Ry(fe,!1),fe=null,ve=null,ke=[],We=null,et=null,He=!1,pt=null,ct=Mm("AIBaseCore",!0),wt=ue(),Pr=null,jn=null,Jt=we(),Ci=[],pn=null,mo=null,io=!1,er=null,zr=!1,$r=0,vi=null,Rs=null,Uo=!1}s(mt,"_initDefaults");function Qa(){var At=My(dd(),v.cfg,Nt);return At[e4](ho),At}s(Qa,"_createTelCtx");function Hs(At){var Br=cx(Nt[pa],SY,ke);ve=null,pn=null,mo=null,et=(We||[])[0]||[],et=i7(M2(et,Br[Lm]));var Pn=M2(i7(Br[ga]),et);xi=Et(Pn);var Hr=Nt.config[cy]||[];Hr.splice(0,Hr[Yn]),M2(Hr,xi);var Nn=Qa();et&&et[Yn]>0&&n7(Nn[k1](et),Pn),n7(Nn,Pn),At&&qm(At)}s(Hs,"_initPluginChain");function Tl(At){var Br=null,Pn=null,Hr=[];return Jr(xi,function(Nn){if(Nn[Ep]===At&&Nn!==Ye)return Pn=Nn,-1;Nn.getChannel&&Hr[Hi](Nn)}),!Pn&&Hr[Yn]>0&&Jr(Hr,function(Nn){if(Pn=Nn.getChannel(At),!Pn)return-1}),Pn&&(Br={plugin:Pn,setEnabled:s(function(Nn){Mp(Pn)[f4]=!Nn},"setEnabled"),isEnabled:s(function(){var Nn=Mp(Pn);return!Nn[rd]&&!Nn[f4]},"isEnabled"),remove:s(function(Nn,xo){Nn===void 0&&(Nn=!0);var wo=[Pn],os={reason:1,isAsync:Nn};l0(wo,os,function(_c){_c&&Hs({reason:32,removed:wo}),xo&&xo(_c)})},"remove")}),Br}s(Tl,"_getPlugin");function dd(){if(!ve){var At=(xi||[]).slice();n0(At,Ye)===-1&&At[Hi](Ye),ve=D(i7(At),v.cfg,Nt)}return ve}s(dd,"_getPluginChain");function l0(At,Br,Pn){if(At&&At[Yn]>0){var Hr=D(At,v.cfg,Nt),Nn=w(Hr,Nt);Nn[e4](function(){var xo=!1,wo=[];Jr(ke,function(_c,$0){a7(_c,At)?xo=!0:wo[Hi](_c)}),ke=wo,pn=null,mo=null;var os=[];We&&(Jr(We,function(_c,$0){var Wm=[];Jr(_c,function(Gm){a7(Gm,At)?xo=!0:Wm[Hi](Gm)}),os[Hi](Wm)}),We=os),Pn&&Pn(xo),ho()}),Nn[xl](Br)}else Pn(!1)}s(l0,"_removePlugins");function Vy(){if(S&&S.queue){var At=S.queue.slice(0);S.queue[Yn]=0,Jr(At,function(Br){var Pn={name:pt||"InternalMessageId: "+Br[t4],iKey:jn,time:V3(new Date),baseType:S4.dataType,baseData:{message:Br[B1]}};Nt.track(Pn)})}}s(Vy,"_flushInternalLogs");function Um(At,Br,Pn,Hr){var Nn=1,xo=!1,wo=null;Hr=Hr||5e3;function os(){Nn--,xo&&Nn===0&&(wo&&wo[ey](),wo=null,Br&&Br(xo),Br=null)}if(s(os,"doCallback"),et&&et[Yn]>0){var _c=Qa()[k1](et);_c.iterate(function($0){if($0.flush){Nn++;var Wm=!1;$0.flush(At,function(){Wm=!0,os()},Pn)||Wm||(At&&wo==null?wo=Cp(function(){wo=null,os()},Hr):os())}})}return xo=!0,os(),!0}s(Um,"_flushChannels");function $y(){var At;Xl(v[Bm](function(Br){var Pn=Br.cfg.enablePerfMgr;if(Pn){var Hr=Br.cfg[Qu];(At!==Hr||!At)&&(Hr||(Hr=Qy),BD(Br.cfg,Qu,Hr),At=Hr,se=null),!W&&!se&&De(Hr)&&(se=Hr(Nt,Nt[Fu]()))}else se=null,At=null}))}s($y,"_initPerfManager");function qm(At){var Br=R(dd(),Nt);Br[e4](ho),(!Nt._updateHook||Nt._updateHook(Br,At)!==!0)&&Br[xl](At)}s(qm,"_doUpdate");function zy(At){var Br=Nt[pa];Br?(Or(Br,2,73,At),ho()):Kt(At)}s(zy,"_logOrThrowError");function ks(At){var Br=Nt[Fu]();Br&&Br[dy]([At],2)}s(ks,"_notifyInvalidEvent");function Xl(At){Jt.add(At)}s(Xl,"_addUnloadHook")})}return s(A,"AppInsightsCore"),A.__ieDyn=1,A}();function Gr(A,v){try{if(A&&A!==""){var T=s0().parse(A);if(T&&T[CD]&&T[CD]>=T.itemsAccepted&&T.itemsReceived-T.itemsAccepted===T.errors[Yn])return T}}catch(S){Or(v,1,43,"Cannot parse the response. "+(S[Ip]||yt(S)),{response:A})}return null}s(Gr,"parseResponse");var cn="",Mo="NoResponseBody",Fa="&"+Mo+"=true",Ws="POST",Ma=function(){function A(){var v=0,T,S,P,L,W,se,fe,ve,ke,We,et,He,Ye,pt;Yl(A,this,function(ct,wt){var Jt=!0;Uo(),ct[q3]=function(er,zr){P=zr,S&&Or(P,1,28,"Sender is already initialized"),ct.SetConfig(er),S=!0},ct._getDbgPlgTargets=function(){return[S,L,se,T]},ct.SetConfig=function(er){try{if(W=er.senderOnCompleteCallBack||{},se=!!er.disableCredentials,fe=er.fetchCredentials,L=!!er.isOneDs,T=!!er.enableSendPromise,ke=!!er.disableXhr,We=!!er.disableBeacon,et=!!er.disableBeaconSync,pt=er.timeWrapper,Ye=!!er.addNoResponse,He=!!er.disableFetchKeepAlive,ve={sendPOST:$r},L||(Jt=!1),se){var zr=Cy();zr&&zr.protocol&&zr.protocol[J2]()==="file:"&&(Jt=!1)}return!0}catch{}return!1},ct.getSyncFetchPayload=function(){return v},ct.getSenderInst=function(er,zr){return er&&er[Yn]?Ci(er,zr):null},ct.getFallbackInst=function(){return ve},ct[r4]=function(er,zr){Uo()};function pr(er,zr){xi(zr,200,{},er)}s(pr,"_onSuccess");function Pr(er,zr){Or(P,2,26,"Failed to send telemetry.",{message:er}),xi(zr,400,{})}s(Pr,"_onError");function jn(er){Pr("No endpoint url is provided for the batch",er)}s(jn,"_onNoPayloadUrl");function Ci(er,zr){for(var io=0,Nt=null,Sn=0;Nt==null&&Sn<er[Yn];)io=er[Sn],!ke&&io===1?qw()?Nt=Rs:Ww()&&(Nt=$r):io===2&&X3(zr)&&(!zr||!He)?Nt=vi:io===3&&Bp()&&(zr?!et:!We)&&(Nt=pn),Sn++;return Nt?{_transport:io,_isSync:zr,sendPOST:Nt}:null}s(Ci,"_getSenderInterface");function xi(er,zr,io,Nt){try{er&&er(zr,io,Nt)}catch{}}s(xi,"_doOnComplete");function mo(er,zr){var io=dp(),Nt=er[Pm];if(!Nt)return jn(zr),!0;Nt=er[Pm]+(Ye?Fa:cn);var Sn=er[oy],Gs=L?Sn:new Blob([Sn],{type:"text/plain;charset=UTF-8"}),ho=io.sendBeacon(Nt,Gs);return ho}s(mo,"_doBeaconSend");function pn(er,zr,io){var Nt=er[oy];try{if(Nt)if(mo(er,zr))pr(cn,zr);else{var Sn=W&&W.beaconOnRetry;Sn&&De(Sn)?Sn(er,zr,mo):(ve&&ve.sendPOST(er,zr,!0),Or(P,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(Gs){L&&R4(P,"Failed to send telemetry using sendBeacon API. Ex:"+yt(Gs)),xi(zr,L?0:400,{},cn)}}s(pn,"_beaconSender");function $r(er,zr,io){var Nt,Sn,Gs,ho=er[Sw]||{};!io&&T&&(Nt=ly(function(Hs,Tl){Sn=Hs,Gs=Tl})),L&&io&&er.disableXhrSync&&(io=!1);var Il=er[Pm];if(!Il){jn(zr),Sn&&Sn(!1);return}var mt=Mw(Ws,Il,Jt,!0,io,er[Nm]);L||mt.setRequestHeader("Content-type","application/json"),Jr(rt(ho),function(Hs){mt.setRequestHeader(Hs,ho[Hs])}),mt.onreadystatechange=function(){L||(Qa(mt),mt.readyState===4&&Sn&&Sn(!0))},mt.onload=function(){L&&Qa(mt)};function Qa(Hs){var Tl=W&&W.xhrOnComplete,dd=Tl&&De(Tl);if(dd)Tl(Hs,zr,er);else{var l0=A4(Hs);xi(zr,Hs[G3],M1(Hs,L),l0)}}return s(Qa,"_doOnReadyFunc"),mt.onerror=function(Hs){xi(zr,L?mt[G3]:400,M1(mt,L),L?cn:y4(mt)),Gs&&Gs(Hs)},mt.ontimeout=function(){xi(zr,L?mt[G3]:500,M1(mt,L),L?cn:y4(mt)),Sn&&Sn(!1)},mt.send(er[oy]),Nt}s($r,"_xhrSender");function vi(er,zr,io){var Nt,Sn=er[Pm],Gs=er[oy],ho=L?Gs:new Blob([Gs],{type:"application/json"}),Il,mt,Qa,Hs=new Headers,Tl=Gs[Yn],dd=!1,l0=!1,Vy=er[Sw]||{},Um=(Nt={method:Ws,body:ho},Nt[YD]=!0,Nt);er.headers&&rt(er.headers)[Yn]>0&&(Jr(rt(Vy),function(ks){Hs.append(ks,Vy[ks])}),Um[Sw]=Hs),fe?Um.credentials=fe:Jt&&L&&(Um.credentials="include"),io&&(Um.keepalive=!0,v+=Tl,L?er._sendReason===2&&(dd=!0,Ye&&(Sn+=Fa)):dd=!0);var $y=new Request(Sn,Um);try{$y[YD]=!0}catch{}if(!io&&T&&(Il=ly(function(ks,Xl){mt=ks,Qa=Xl})),!Sn){jn(zr),mt&&mt(!1);return}function qm(ks){xi(zr,L?0:400,{},L?cn:ks)}s(qm,"_handleError");function zy(ks,Xl,At){var Br=ks[G3],Pn=W.fetchOnComplete;Pn&&De(Pn)?Pn(ks,zr,At||cn,Xl):xi(zr,Br,{},At||cn)}s(zy,"_onFetchComplete");try{q0(fetch(L?Sn:$y,L?Um:null),function(ks){if(io&&(v-=Tl,Tl=0),!l0)if(l0=!0,ks.rejected)qm(ks.reason&&ks.reason[B1]),Qa&&Qa(ks.reason);else{var Xl=ks[ty];try{!L&&!Xl.ok?(qm(Xl.statusText),mt&&mt(!1)):L&&!Xl.body?(zy(Xl,null,cn),mt&&mt(!0)):q0(Xl.text(),function(At){zy(Xl,er,At[ty]),mt&&mt(!0)})}catch(At){qm(yt(At)),Qa&&Qa(At)}}})}catch(ks){l0||(qm(yt(ks)),Qa&&Qa(ks))}return dd&&!l0&&(l0=!0,xi(zr,200,{}),mt&&mt(!0)),L&&!l0&&er[Nm]>0&&pt&&pt.set(function(){l0||(l0=!0,xi(zr,500,{}),mt&&mt(!0))},er[Nm]),Il}s(vi,"_doFetchSender");function Rs(er,zr,io){var Nt=_m(),Sn=new XDomainRequest,Gs=er[oy];Sn.onload=function(){var Hs=A4(Sn),Tl=W&&W.xdrOnComplete;Tl&&De(Tl)?Tl(Sn,zr,er):xi(zr,200,{},Hs)},Sn.onerror=function(){xi(zr,400,{},L?cn:PD(Sn))},Sn.ontimeout=function(){xi(zr,500,{})},Sn.onprogress=function(){};var ho=Nt&&Nt.location&&Nt.location.protocol||"",Il=er[Pm];if(!Il){jn(zr);return}if(!L&&Il.lastIndexOf(ho,0)!==0){var mt="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Or(P,2,40,". "+mt),Pr(mt,zr);return}var Qa=L?Il:Il[_p](/^(https?:)/,"");Sn.open(Ws,Qa),er[Nm]&&(Sn[Nm]=er[Nm]),Sn.send(Gs),L&&io?pt&&pt.set(function(){Sn.send(Gs)},0):Sn.send(Gs)}s(Rs,"_xdrSender");function Uo(){v=0,S=!1,T=!1,P=null,L=null,W=null,se=null,fe=null,ve=null,ke=!1,We=!1,et=!1,He=!1,Ye=!1,pt=null}s(Uo,"_initDefaults")})}return s(A,"SenderPostManager"),A.__ieDyn=1,A}(),U1="on",Qp="attachEvent",Oy="addEventListener",hP="detachEvent",pP="removeEventListener",Q4="events";Mm("aiEvtPageHide"),Mm("aiEvtPageShow");var YY=/\.[\.]+/g,phe=/[\.]+$/,$ze=1,gP=UD("events"),zze=/^([^.]*)(?:\.(.+)|)/;function ghe(A){return A&&A[_p]?A[_p](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,hi):A}s(ghe,"_normalizeNamespace");function KY(A,v){if(v){var T=hi;qe(v)?(T=hi,Jr(v,function(P){P=ghe(P),P&&(P[0]!=="."&&(P="."+P),T+=P)})):T=ghe(v),T&&(T[0]!=="."&&(T="."+T),A=(A||hi)+T)}var S=zze.exec(A||hi)||[];return{type:S[1],ns:(S[2]||hi).replace(YY,".").replace(phe,hi)[wp](".").sort().join(".")}}s(KY,"_getEvtNamespace");function Ahe(A,v,T){T===void 0&&(T=!0);var S=gP.get(A,Q4,{},T),P=S[v];return P||(P=S[v]=[]),P}s(Ahe,"_getRegisteredEvents");function yhe(A,v,T,S){A&&v&&v[Kl]&&(A[pP]?A[pP](v[Kl],T,S):A[hP]&&A[hP](U1+v[Kl],T))}s(yhe,"_doDetach");function Yze(A,v,T,S){var P=!1;return A&&v&&v[Kl]&&T&&(A[Oy]?(A[Oy](v[Kl],T,S),P=!0):A[Qp]&&(A[Qp](U1+v[Kl],T),P=!0)),P}s(Yze,"_doAttach");function Che(A,v,T,S){for(var P=v[Yn];P--;){var L=v[P];L&&(!T.ns||T.ns===L[Tw].ns)&&(!S||S(L))&&(yhe(A,L[Tw],L.handler,L.capture),v[Z2](P,1))}}s(Che,"_doUnregister");function Kze(A,v,T){if(v[Kl])Che(A,Ahe(A,v[Kl]),v,T);else{var S=gP.get(A,Q4,{});ne(S,function(P,L){Che(A,L,v,T)}),rt(S)[Yn]===0&&gP.kill(A,Q4)}}s(Kze,"_unregisterEvents");function xhe(A,v){var T;return v?(qe(v)?T=[A].concat(v):T=[A,v],T=KY("xx",T).ns[wp](".")):T=A,T}s(xhe,"mergeEvtNamespace");function vhe(A,v,T,S,P){P===void 0&&(P=!1);var L=!1;if(A)try{var W=KY(v,S);if(L=Yze(A,W,T,P),L&&gP.accept(A)){var se={guid:$ze++,evtName:W,handler:T,capture:P};Ahe(A,W.type)[Hi](se)}}catch{}return L}s(vhe,"eventOn");function Jze(A,v,T,S,P){if(P===void 0&&(P=!1),A)try{var L=KY(v,S),W=!1;Kze(A,L,function(se){return L.ns&&!T||se.handler===T?(W=!0,!0):!1}),W||yhe(A,L,T,P)}catch{}}s(Jze,"eventOff");var bhe="sampleRate",JY="ProcessLegacy",Ehe="http.method",XY="https://dc.services.visualstudio.com",O4="/v2/track",Uy="not_specified",Ihe=fY({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),AP="split",di="length",ZY="toLowerCase",ux="ingestionendpoint",c7="toString",The="removeItem",yP="message",Xze="count",eK="stringify",tK="pathname",u7="match",qy="name",Op="properties",q1="measurements",CP="sizeInBytes",xP="typeName",f7="exceptions",d7="severityLevel",rK="problemGroup",U4="parsedStack",vP="hasFullStack",bP="assembly",W1="fileName",q4="line",EP="aiDataContract",IP="duration";function whe(A,v,T){var S=v[di],P=Zze(A,v);if(P[di]!==S){for(var L=0,W=P;T[W]!==void 0;)L++,W=me(P,0,147)+rYe(L);P=W}return P}s(whe,"dataSanitizeKeyAndAddUniqueness");function Zze(A,v){var T;return v&&(v=Gi(Ct(v)),v[di]>150&&(T=me(v,0,150),Or(A,2,57,"name is too long.  It has been truncated to 150 characters.",{name:v},!0))),T||v}s(Zze,"dataSanitizeKey");function Tc(A,v,T){T===void 0&&(T=1024);var S;return v&&(T=T||1024,v=Gi(Ct(v)),v[di]>T&&(S=me(v,0,T),Or(A,2,61,"string value is too long. It has been truncated to "+T+" characters.",{value:v},!0))),S||v}s(Tc,"dataSanitizeString");function nK(A,v){return She(A,v,2048,66)}s(nK,"dataSanitizeUrl");function _he(A,v){var T;return v&&v[di]>32768&&(T=me(v,0,32768),Or(A,2,56,"message is too long, it has been truncated to 32768 characters.",{message:v},!0)),T||v}s(_he,"dataSanitizeMessage");function eYe(A,v){var T;if(v){var S=""+v;S[di]>32768&&(T=me(S,0,32768),Or(A,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:v},!0))}return T||v}s(eYe,"dataSanitizeException");function fx(A,v){if(v){var T={};ne(v,function(S,P){if(be(P)&&xy())try{P=s0()[eK](P)}catch(L){Or(A,2,49,"custom property is not valid",{exception:L},!0)}P=Tc(A,P,8192),S=whe(A,S,T),T[S]=P}),v=T}return v}s(fx,"dataSanitizeProperties");function dx(A,v){if(v){var T={};ne(v,function(S,P){S=whe(A,S,T),T[S]=P}),v=T}return v}s(dx,"dataSanitizeMeasurements");function tYe(A,v){return v&&She(A,v,128,69)[c7]()}s(tYe,"dataSanitizeId");function She(A,v,T,S){var P;return v&&(v=Gi(Ct(v)),v[di]>T&&(P=me(v,0,T),Or(A,2,S,"input is too long, it has been truncated to "+T+" characters.",{data:v},!0))),P||v}s(She,"dataSanitizeInput");function rYe(A){var v="00"+A;return ye(v,v[di]-3)}s(rYe,"dsPadNumber");var Rhe=L2()||{},khe=0,nYe=[null,null,null,null,null];function iYe(A){var v=khe,T=nYe,S=T[v];return Rhe.createElement?T[v]||(S=T[v]=Rhe.createElement("a")):S={host:oYe(A,!0)},S.href=A,v++,v>=T[di]&&(v=0),khe=v,S}s(iYe,"urlParseUrl");function oYe(A,v){var T=sYe(A,v)||"";if(T){var S=T[u7](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(S!=null&&S[di]>3&&ce(S[2])&&S[2][di]>0)return S[2]+(S[3]||"")}return T}s(oYe,"urlParseHost");function sYe(A,v){var T=null;if(A){var S=A[u7](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(S!=null&&S[di]>2&&ce(S[2])&&S[2][di]>0&&(T=S[2]||"",v&&S[di]>2)){var P=(S[1]||"")[ZY](),L=S[3]||"";(P==="http"&&L===":80"||P==="https"&&L===":443")&&(L=""),T+=L}}return T}s(sYe,"urlParseFullHost");var aYe=[XY+O4,"https://breeze.aimon.applicationinsights.io"+O4,"https://dc-int.services.visualstudio.com"+O4];function Bhe(A){return n0(aYe,A[ZY]())!==-1}s(Bhe,"isInternalApplicationInsightsEndpoint");function lYe(A,v,T,S){var P,L=S,W=S;if(v&&v[di]>0){var se=iYe(v);if(P=se.host,!L)if(se[tK]!=null){var fe=se.pathname[di]===0?"/":se[tK];fe.charAt(0)!=="/"&&(fe="/"+fe),W=se[tK],L=Tc(A,T?T+" "+fe:fe)}else L=Tc(A,v)}else P=S,L=S;return{target:P,name:L,data:W}}s(lYe,"AjaxHelperParseDependencyPath");var iK=JE({LocalStorage:0,SessionStorage:1}),W4=void 0,Dhe="";function Phe(A){try{if(K(Xf()))return null;var v=new Date()[c7](),T=ta(A===iK.LocalStorage?"localStorage":"sessionStorage"),S=Dhe+v;T.setItem(S,v);var P=T.getItem(S)!==v;if(T[The](S),!P)return T}catch{}return null}s(Phe,"_getVerifiedStorageObject");function oK(){return Nhe()?Phe(iK.SessionStorage):null}s(oK,"_getSessionStorageObject");function cYe(A){Dhe=A||""}s(cYe,"utlSetStoragePrefix");function Nhe(A){return(A||W4===void 0)&&(W4=!!Phe(iK.SessionStorage)),W4}s(Nhe,"utlCanUseSessionStorage");function uYe(A,v){var T=oK();if(T!==null)try{return T.getItem(v)}catch(S){W4=!1,Or(A,2,2,"Browser failed read of session storage. "+il(S),{exception:yt(S)})}return null}s(uYe,"utlGetSessionStorage");function fYe(A,v,T){var S=oK();if(S!==null)try{return S.setItem(v,T),!0}catch(P){W4=!1,Or(A,2,4,"Browser failed write to session storage. "+il(P),{exception:yt(P)})}return!1}s(fYe,"utlSetSessionStorage");function dYe(A,v){var T=oK();if(T!==null)try{return T[The](v),!0}catch(S){W4=!1,Or(A,2,6,"Browser failed removal of session storage item. "+il(S),{exception:yt(S)})}return!1}s(dYe,"utlRemoveSessionStorage");var mYe=";",hYe="=";function sK(A){if(!A)return{};var v=A[AP](mYe),T=Zz(v,function(P,L){var W=L[AP](hYe);if(W[di]===2){var se=W[0][ZY](),fe=W[1];P[se]=fe}return P},{});if(rt(T)[di]>0){if(T.endpointsuffix){var S=T.location?T.location+".":"";T[ux]=T[ux]||"https://"+S+"dc."+T.endpointsuffix}T[ux]=T[ux]||XY,dD(T[ux],"/")&&(T[ux]=T[ux].slice(0,-1))}return T}s(sK,"parseConnectionString");var pYe=function(){function A(v,T,S){var P=this,L=this;L.ver=1,L.sampleRate=100,L.tags={},L[qy]=Tc(v,S)||Uy,L.data=T,L.time=V3(new Date),L[EP]={time:1,iKey:1,name:1,sampleRate:s(function(){return P.sampleRate===100?4:1},"sampleRate"),tags:1,data:1}}return s(A,"Envelope"),A}(),G4=function(){function A(v,T,S,P){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var L=this;L.ver=2,L[qy]=Tc(v,T)||Uy,L[Op]=fx(v,S),L[q1]=dx(v,P)}return s(A,"Event"),A.envelopeType="Microsoft.ApplicationInsights.{0}.Event",A.dataType="EventData",A}(),gYe=58,AYe=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,yYe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,CYe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,xYe=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,vYe=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,bYe=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,EYe=/([^\(\s\n]+):([0-9]+)$/,Lhe="<no_method>",H4="error",fd="stack",aK="stackDetails",Fhe="errorSrc",lK="message",Mhe="description",Qhe=[{re:yYe,len:5,m:1,fn:2,ln:3,col:4},{chk:TYe,pre:IYe,re:CYe,len:4,m:1,fn:2,ln:3},{re:xYe,len:3,m:1,fn:2,hdl:Hhe},{re:vYe,len:2,fn:1,hdl:Hhe}];function IYe(A){return A.replace(/(\(anonymous\))/,"<anonymous>")}s(IYe,"_scrubAnonymous");function TYe(A){return Sm(A,"[native")<0}s(TYe,"_ignoreNative");function cK(A,v){var T=A;return T&&!ce(T)&&(JSON&&JSON[eK]?(T=JSON[eK](A),v&&(!T||T==="{}")&&(De(A[c7])?T=A[c7]():T=""+A)):T=""+A+" - (Missing JSON.stringify)"),T||""}s(cK,"_stringify");function Ohe(A,v){var T=A;return A&&(T&&!ce(T)&&(T=A[lK]||A[Mhe]||T),T&&!ce(T)&&(T=cK(T,!0)),A.filename&&(T=T+" @"+(A.filename||"")+":"+(A.lineno||"?")+":"+(A.colno||"?"))),v&&v!=="String"&&v!=="Object"&&v!=="Error"&&Sm(T||"",v)===-1&&(T=v+": "+T),T||""}s(Ohe,"_formatMessage");function wYe(A){try{if(be(A))return"hasFullStack"in A&&"typeName"in A}catch{}return!1}s(wYe,"_isExceptionDetailsInternal");function _Ye(A){try{if(be(A))return"ver"in A&&"exceptions"in A&&"properties"in A}catch{}return!1}s(_Ye,"_isExceptionInternal");function Uhe(A){return A&&A.src&&ce(A.src)&&A.obj&&qe(A.obj)}s(Uhe,"_isStackDetails");function mx(A){var v=A||"";ce(v)||(ce(v[fd])?v=v[fd]:v=""+v);var T=v[AP](`
`);return{src:v,obj:T}}s(mx,"_convertStackObj");function SYe(A){for(var v=[],T=A[AP](`
`),S=0;S<T[di];S++){var P=T[S];T[S+1]&&(P+="@"+T[S+1],S++),v.push(P)}return{src:A,obj:v}}s(SYe,"_getOperaStack");function qhe(A){var v=null;if(A)try{if(A[fd])v=mx(A[fd]);else if(A[H4]&&A[H4][fd])v=mx(A[H4][fd]);else if(A.exception&&A.exception[fd])v=mx(A.exception[fd]);else if(Uhe(A))v=A;else if(Uhe(A[aK]))v=A[aK];else if(_m()&&_m().opera&&A[lK])v=SYe(A[yP]);else if(A.reason&&A.reason[fd])v=mx(A.reason[fd]);else if(ce(A))v=mx(A);else{var T=A[lK]||A[Mhe]||"";ce(A[Fhe])&&(T&&(T+=`
`),T+=" from "+A[Fhe]),T&&(v=mx(T))}}catch(S){v=mx(S)}return v||{src:"",obj:null}}s(qhe,"_getStackFromErrorObj");function RYe(A){var v="";return A&&(A.obj?v=A.obj.join(`
`):v=A.src||""),v}s(RYe,"_formatStackTrace");function kYe(A){var v,T=A.obj;if(T&&T[di]>0){v=[];var S=0,P=!1,L=0;Jr(T,function(pt){if(P||NYe(pt)){var ct=Ct(pt);P=!0;var wt=LYe(ct,S);wt&&(L+=wt[CP],v.push(wt),S++)}});var W=32*1024;if(L>W)for(var se=0,fe=v[di]-1,ve=0,ke=se,We=fe;se<fe;){var et=v[se][CP],He=v[fe][CP];if(ve+=et+He,ve>W){var Ye=We-ke+1;v.splice(ke,Ye);break}ke=se,We=fe,se++,fe--}}return v}s(kYe,"_parseStack");function TP(A){var v="";if(A&&(v=A.typeName||A[qy]||"",!v))try{var T=/function (.{1,200})\(/,S=T.exec(A.constructor[c7]());v=S&&S[di]>1?S[1]:""}catch{}return v}s(TP,"_getErrorType");function uK(A){if(A)try{if(!ce(A)){var v=TP(A),T=cK(A,!1);return(!T||T==="{}")&&(A[H4]&&(A=A[H4],v=TP(A)),T=cK(A,!0)),Sm(T,v)!==0&&v!=="String"?v+":"+T:T}}catch{}return""+(A||"")}s(uK,"_formatErrorCode");var wP=function(){function A(v,T,S,P,L,W){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var se=this;se.ver=2,_Ye(T)?(se[f7]=T[f7]||[],se[Op]=T[Op],se[q1]=T[q1],T[d7]&&(se[d7]=T[d7]),T.id&&(se.id=T.id,T[Op].id=T.id),T[rK]&&(se[rK]=T[rK]),K(T.isManual)||(se.isManual=T.isManual)):(S||(S={}),W&&(S.id=W),se[f7]=[Whe(v,T,S)],se[Op]=fx(v,S),se[q1]=dx(v,P),L&&(se[d7]=L),W&&(se.id=W))}return s(A,"Exception"),A.CreateAutoException=function(v,T,S,P,L,W,se,fe){var ve=TP(L||W||v);return{message:Ohe(v,ve),url:T,lineNumber:S,columnNumber:P,error:uK(L||W||v),evt:uK(W||v),typeName:ve,stackDetails:qhe(se||L||W),errorSrc:fe}},A.CreateFromInterface=function(v,T,S,P){var L=T[f7]&&v1(T[f7],function(se){return PYe(v,se)}),W=new A(v,km(km({},T),{exceptions:L}),S,P);return W},A.prototype.toInterface=function(){var v=this,T=v.exceptions,S=v.properties,P=v.measurements,L=v.severityLevel,W=v.problemGroup,se=v.id,fe=v.isManual,ve=T instanceof Array&&v1(T,function(ke){return ke.toInterface()})||void 0;return{ver:"4.0",exceptions:ve,severityLevel:L,properties:S,measurements:P,problemGroup:W,id:se,isManual:fe}},A.CreateSimpleException=function(v,T,S,P,L,W){var se;return{exceptions:[(se={},se[vP]=!0,se.message=v,se.stack=L,se.typeName=T,se)]}},A.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",A.dataType="ExceptionData",A.formatError=uK,A}(),BYe=Et({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function DYe(){var A=this,v=qe(A[U4])&&v1(A[U4],function(S){return MYe(S)}),T={id:A.id,outerId:A.outerId,typeName:A[xP],message:A[yP],hasFullStack:A[vP],stack:A[fd],parsedStack:v||void 0};return T}s(DYe,"_toInterface");function Whe(A,v,T){var S,P,L,W,se,fe,ve,ke;if(wYe(v))W=v[xP],se=v[yP],ve=v[fd],ke=v[U4]||[],fe=v[vP];else{var We=v,et=We&&We.evt;at(We)||(We=We[H4]||et||We),W=Tc(A,TP(We))||Uy,se=_he(A,Ohe(v||We,W))||Uy;var He=v[aK]||qhe(v);ke=kYe(He),qe(ke)&&v1(ke,function(Ye){Ye[bP]=Tc(A,Ye[bP]),Ye[W1]=Tc(A,Ye[W1])}),ve=eYe(A,RYe(He)),fe=qe(ke)&&ke[di]>0,T&&(T[xP]=T[xP]||W)}return S={},S[EP]=BYe,S.id=P,S.outerId=L,S.typeName=W,S.message=se,S[vP]=fe,S.stack=ve,S.parsedStack=ke,S.toInterface=DYe,S}s(Whe,"_createExceptionDetails");function PYe(A,v){var T=qe(v[U4])&&v1(v[U4],function(P){return FYe(P)})||v[U4],S=Whe(A,km(km({},v),{parsedStack:T}));return S}s(PYe,"_createExDetailsFromInterface");function Ghe(A,v){var T=v[u7](bYe);if(T&&T[di]>=4)A[W1]=T[1],A[q4]=parseInt(T[2]);else{var S=v[u7](EYe);S&&S[di]>=3?(A[W1]=S[1],A[q4]=parseInt(S[2])):A[W1]=v}}s(Ghe,"_parseFilename");function Hhe(A,v,T){var S=A[W1];v.fn&&T&&T[di]>v.fn&&(v.ln&&T[di]>v.ln?(S=Gi(T[v.fn]||""),A[q4]=parseInt(Gi(T[v.ln]||""))||0):S=Gi(T[v.fn]||"")),S&&Ghe(A,S)}s(Hhe,"_handleFilename");function NYe(A){var v=!1;if(A&&ce(A)){var T=Gi(A);T&&(v=AYe.test(T))}return v}s(NYe,"_isStackFrame");var jhe=Et({level:1,method:1,assembly:0,fileName:0,line:0});function LYe(A,v){var T,S;if(A&&ce(A)&&Gi(A)){S=(T={},T[EP]=jhe,T.level=v,T.assembly=Gi(A),T.method=Lhe,T.fileName="",T.line=0,T.sizeInBytes=0,T);for(var P=0;P<Qhe[di];){var L=Qhe[P];if(L.chk&&!L.chk(A))break;L.pre&&(A=L.pre(A));var W=A[u7](L.re);if(W&&W[di]>=L.len){L.m&&(S.method=Gi(W[L.m]||Lhe)),L.hdl?L.hdl(S,L,W):L.fn&&(L.ln?(S[W1]=Gi(W[L.fn]||""),S[q4]=parseInt(Gi(W[L.ln]||""))||0):Ghe(S,W[L.fn]||""));break}P++}}return Vhe(S)}s(LYe,"_extractStackFrame");function FYe(A){var v,T=(v={},v[EP]=jhe,v.level=A.level,v.method=A.method,v.assembly=A[bP],v.fileName=A[W1],v.line=A[q4],v.sizeInBytes=0,v);return Vhe(T)}s(FYe,"_stackFrameFromInterface");function Vhe(A){var v=gYe;return A&&(v+=A.method[di],v+=A.assembly[di],v+=A.fileName[di],v+=A.level.toString()[di],v+=A.line.toString()[di],A[CP]=v),A}s(Vhe,"_populateFrameSizeInBytes");function MYe(A){return{level:A.level,method:A.method,assembly:A[bP],fileName:A[W1],line:A[q4]}}s(MYe,"_parsedFrameToInterface");var QYe=function(){function A(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return s(A,"DataPoint"),A}(),m7=function(){function A(v,T,S,P,L,W,se,fe,ve){this.aiDataContract={ver:1,metrics:1,properties:0};var ke=this;ke.ver=2;var We=new QYe;We[Xze]=P>0?P:void 0,We.max=isNaN(W)||W===null?void 0:W,We.min=isNaN(L)||L===null?void 0:L,We[qy]=Tc(v,T)||Uy,We.value=S,We.stdDev=isNaN(se)||se===null?void 0:se,ke.metrics=[We],ke[Op]=fx(v,fe),ke[q1]=dx(v,ve)}return s(A,"Metric"),A.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",A.dataType="MetricData",A}(),h7="";function $he(A){(isNaN(A)||A<0)&&(A=0),A=iY(A);var v=h7+A%1e3,T=h7+b1(A/1e3)%60,S=h7+b1(A/(1e3*60))%60,P=h7+b1(A/(1e3*60*60))%24,L=b1(A/(1e3*60*60*24));return v=v[di]===1?"00"+v:v[di]===2?"0"+v:v,T=T[di]<2?"0"+T:T,S=S[di]<2?"0"+S:S,P=P[di]<2?"0"+P:P,(L>0?L+".":h7)+P+":"+S+":"+T+"."+v}s($he,"msToTimeSpan");var _P=function(){function A(v,T,S,P,L,W,se){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var fe=this;fe.ver=2,fe.id=tYe(v,se),fe.url=nK(v,S),fe[qy]=Tc(v,T)||Uy,isNaN(P)||(fe[IP]=$he(P)),fe[Op]=fx(v,L),fe[q1]=dx(v,W)}return s(A,"PageView"),A.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",A.dataType="PageviewData",A}(),SP=function(){function A(v,T,S,P,L,W,se,fe,ve,ke,We,et){ve===void 0&&(ve="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var He=this;He.ver=2,He.id=T,He[IP]=$he(L),He.success=W,He.resultCode=se+"",He.type=Tc(v,ve);var Ye=lYe(v,S,fe,P);He.data=nK(v,P)||Ye.data,He.target=Tc(v,Ye.target),ke&&(He.target="".concat(He.target," | ").concat(ke)),He[qy]=Tc(v,Ye[qy]),He[Op]=fx(v,We),He[q1]=dx(v,et)}return s(A,"RemoteDependencyData"),A.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",A.dataType="RemoteDependencyData",A}(),RP=function(){function A(v,T,S,P,L){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var W=this;W.ver=2,T=T||Uy,W[yP]=_he(v,T),W[Op]=fx(v,P),W[q1]=dx(v,L),S&&(W[d7]=S)}return s(A,"Trace"),A.envelopeType="Microsoft.ApplicationInsights.{0}.Message",A.dataType="MessageData",A}(),kP=function(){function A(v,T,S,P,L,W,se){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var fe=this;fe.ver=2,fe.url=nK(v,S),fe[qy]=Tc(v,T)||Uy,fe[Op]=fx(v,L),fe[q1]=dx(v,W),se&&(fe.domProcessing=se.domProcessing,fe[IP]=se[IP],fe.networkConnect=se.networkConnect,fe.perfTotal=se.perfTotal,fe.receivedResponse=se.receivedResponse,fe.sentRequest=se.sentRequest)}return s(A,"PageViewPerformance"),A.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",A.dataType="PageviewPerformanceData",A}(),hx=function(){function A(v,T){this.aiDataContract={baseType:1,baseData:1},this.baseType=v,this.baseData=T}return s(A,"Data"),A}(),OYe=JE({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function Wy(A){var v="ai."+A+".";return function(T){return v+T}}s(Wy,"_aiNameFunc");var p7=Wy("application"),sl=Wy("device"),BP=Wy("location"),j4=Wy("operation"),fK=Wy("session"),Gy=Wy("user"),px=Wy("cloud"),g7=Wy("internal"),zhe=function(A){U3(v,A);function v(){return A.call(this)||this}return s(v,"ContextTagKeys"),v}(xY({applicationVersion:p7("ver"),applicationBuild:p7("build"),applicationTypeId:p7("typeId"),applicationId:p7("applicationId"),applicationLayer:p7("layer"),deviceId:sl("id"),deviceIp:sl("ip"),deviceLanguage:sl("language"),deviceLocale:sl("locale"),deviceModel:sl("model"),deviceFriendlyName:sl("friendlyName"),deviceNetwork:sl("network"),deviceNetworkName:sl("networkName"),deviceOEMName:sl("oemName"),deviceOS:sl("os"),deviceOSVersion:sl("osVersion"),deviceRoleInstance:sl("roleInstance"),deviceRoleName:sl("roleName"),deviceScreenResolution:sl("screenResolution"),deviceType:sl("type"),deviceMachineName:sl("machineName"),deviceVMName:sl("vmName"),deviceBrowser:sl("browser"),deviceBrowserVersion:sl("browserVersion"),locationIp:BP("ip"),locationCountry:BP("country"),locationProvince:BP("province"),locationCity:BP("city"),operationId:j4("id"),operationName:j4("name"),operationParentId:j4("parentId"),operationRootId:j4("rootId"),operationSyntheticSource:j4("syntheticSource"),operationCorrelationVector:j4("correlationVector"),sessionId:fK("id"),sessionIsFirst:fK("isFirst"),sessionIsNew:fK("isNew"),userAccountAcquisitionDate:Gy("accountAcquisitionDate"),userAccountId:Gy("accountId"),userAgent:Gy("userAgent"),userId:Gy("id"),userStoreRegion:Gy("storeRegion"),userAuthUserId:Gy("authUserId"),userAnonymousUserAcquisitionDate:Gy("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Gy("authUserAcquisitionDate"),cloudName:px("name"),cloudRole:px("role"),cloudRoleVer:px("roleVer"),cloudRoleInstance:px("roleInstance"),cloudEnvironment:px("environment"),cloudLocation:px("location"),cloudDeploymentUnit:px("deploymentUnit"),internalNodeName:g7("nodeName"),internalSdkVersion:g7("sdkVersion"),internalAgentVersion:g7("agentVersion"),internalSnippet:g7("snippet"),internalSdkSrc:g7("sdkSrc")})),bl=new zhe;function Yhe(A,v){Jze(A,null,null,v)}s(Yhe,"_disableEvents");function UYe(A){var v=L2(),T=dp(),S=!1,P=[],L=1;T&&!K(T.onLine)&&!T.onLine&&(L=2);var W=0,se=et(),fe=xhe(Mm("OfflineListener"),A);try{if(ke(_m())&&(S=!0),v){var ve=v.body||v;ve.ononline&&ke(ve)&&(S=!0)}}catch{S=!1}function ke(pr){var Pr=!1;return pr&&(Pr=vhe(pr,"online",pt,fe),Pr&&vhe(pr,"offline",ct,fe)),Pr}s(ke,"_enableEvents");function We(){return se}s(We,"_isOnline");function et(){return!(W===2||L===2)}s(et,"calCurrentState");function He(){var pr=et();se!==pr&&(se=pr,Jr(P,function(Pr){var jn={isOnline:se,rState:L,uState:W};try{Pr(jn)}catch{}}))}s(He,"listnerNoticeCheck");function Ye(pr){W=pr,He()}s(Ye,"setOnlineState");function pt(){L=1,He()}s(pt,"_setOnline");function ct(){L=2,He()}s(ct,"_setOffline");function wt(){var pr=_m();if(pr&&S){if(Yhe(pr,fe),v){var Pr=v.body||v;U(Pr.ononline)||Yhe(Pr,fe)}S=!1}}s(wt,"_unload");function Jt(pr){return P.push(pr),{rm:s(function(){var Pr=P.indexOf(pr);if(Pr>-1)return P.splice(Pr,1)},"rm")}}return s(Jt,"addListener"),{isOnline:We,isListening:s(function(){return S},"isListening"),unload:wt,addListener:Jt,setOnlineState:Ye}}s(UYe,"createOfflineListener");var qYe="AppInsightsChannelPlugin",gx="duration",Jl="tags",dK="deviceType",qu="data",G1="name",A7="traceID",gi="length",y7="stringify",Ax="measurements",Up="dataType",yx="envelopeType",Cx="toString",xx="enqueue",vx="count",H1="push",mK="emitLineDelimitedJson",V4="clear",DP="markAsSent",C7="clearSent",hK="bufferOverride",x7="BUFFER_KEY",Hy="SENT_BUFFER_KEY",$4="concat",v7="MAX_BUFFER_SIZE",b7="triggerSend",wc="diagLog",pK="initialize",E7="_sender",I7="endpointUrl",T7="instrumentationKey",gK="customHeaders",Khe="maxBatchSizeInBytes",AK="onunloadDisableBeacon",yK="isBeaconApiDisabled",Jhe="alwaysUseXhrOverride",Xhe="enableSessionStorageBuffer",qp="_buffer",Zhe="onunloadDisableFetch",epe="disableSendBeaconSplit",PP="getSenderInst",bx="_onError",CK="_onPartialSuccess",NP="_onSuccess",xK="itemsReceived",vK="itemsAccepted",bK="baseType",LP="sampleRate",WYe="getHashCodeScore",EK="baseType",Ss="baseData",El="properties",tpe="true";function ya(A,v,T){return Rp(A,v,T,oe)}s(ya,"_setValueIf");function GYe(A,v,T){var S=T[Jl]=T[Jl]||{},P=v.ext=v.ext||{},L=v[Jl]=v[Jl]||[],W=P.user;W&&(ya(S,bl.userAuthUserId,W.authId),ya(S,bl.userId,W.id||W.localId));var se=P.app;se&&ya(S,bl.sessionId,se.sesId);var fe=P.device;fe&&(ya(S,bl.deviceId,fe.id||fe.localId),ya(S,bl[dK],fe.deviceClass),ya(S,bl.deviceIp,fe.ip),ya(S,bl.deviceModel,fe.model),ya(S,bl[dK],fe[dK]));var ve=v.ext.web;if(ve){ya(S,bl.deviceLanguage,ve.browserLang),ya(S,bl.deviceBrowserVersion,ve.browserVer),ya(S,bl.deviceBrowser,ve.browser);var ke=T[qu]=T[qu]||{},We=ke[Ss]=ke[Ss]||{},et=We[El]=We[El]||{};ya(et,"domain",ve.domain),ya(et,"isManual",ve.isManual?tpe:null),ya(et,"screenRes",ve.screenRes),ya(et,"userConsent",ve.userConsent?tpe:null)}var He=P.os;He&&(ya(S,bl.deviceOS,He[G1]),ya(S,bl.deviceOSVersion,He.osVer));var Ye=P.trace;Ye&&(ya(S,bl.operationParentId,Ye.parentID),ya(S,bl.operationName,Tc(A,Ye[G1])),ya(S,bl.operationId,Ye[A7]));for(var pt={},ct=L[gi]-1;ct>=0;ct--){var wt=L[ct];ne(wt,function(pr,Pr){pt[pr]=Pr}),L.splice(ct,1)}ne(L,function(pr,Pr){pt[pr]=Pr});var Jt=km(km({},S),pt);Jt[bl.internalSdkVersion]||(Jt[bl.internalSdkVersion]=Tc(A,"javascript:".concat(HYe.Version),64)),T[Jl]=Lw(Jt)}s(GYe,"_extractPartAExtensions");function jy(A,v,T){K(A)||ne(A,function(S,P){Xe(P)?T[S]=P:ce(P)?v[S]=P:xy()&&(v[S]=s0()[y7](P))})}s(jy,"_extractPropsAndMeasurements");function Ex(A,v){K(A)||ne(A,function(T,S){A[T]=S||v})}s(Ex,"_convertPropsUndefinedToCustomDefinedValue");function Ix(A,v,T,S){var P=new pYe(A,S,v);ya(P,"sampleRate",T[bhe]),(T[Ss]||{}).startTime&&(P.time=V3(T[Ss].startTime)),P.iKey=T.iKey;var L=T.iKey.replace(/-/g,"");return P[G1]=P[G1].replace("{0}",L),GYe(A,T,P),T[Jl]=T[Jl]||[],Lw(P)}s(Ix,"_createEnvelope");function Tx(A,v){K(v[Ss])&&Or(A,1,46,"telemetryItem.baseData cannot be null.")}s(Tx,"EnvelopeCreatorInit");var HYe={Version:"3.3.6"};function jYe(A,v,T){Tx(A,v);var S=v[Ss][Ax]||{},P=v[Ss][El]||{};jy(v[qu],P,S),K(T)||Ex(P,T);var L=v[Ss];if(K(L))return R4(A,"Invalid input for dependency data"),null;var W=L[El]&&L[El][Ehe]?L[El][Ehe]:"GET",se=new SP(A,L.id,L.target,L[G1],L[gx],L.success,L.responseCode,W,L.type,L.correlationContext,P,S),fe=new hx(SP[Up],se);return Ix(A,SP[yx],v,fe)}s(jYe,"DependencyEnvelopeCreator");function rpe(A,v,T){Tx(A,v);var S={},P={};v[EK]!==G4[Up]&&(S.baseTypeSource=v[EK]),v[EK]===G4[Up]?(S=v[Ss][El]||{},P=v[Ss][Ax]||{}):v[Ss]&&jy(v[Ss],S,P),jy(v[qu],S,P),K(T)||Ex(S,T);var L=v[Ss][G1],W=new G4(A,L,S,P),se=new hx(G4[Up],W);return Ix(A,G4[yx],v,se)}s(rpe,"EventEnvelopeCreator");function VYe(A,v,T){Tx(A,v);var S=v[Ss][Ax]||{},P=v[Ss][El]||{};jy(v[qu],P,S),K(T)||Ex(P,T);var L=v[Ss],W=wP.CreateFromInterface(A,L,P,S),se=new hx(wP[Up],W);return Ix(A,wP[yx],v,se)}s(VYe,"ExceptionEnvelopeCreator");function $Ye(A,v,T){Tx(A,v);var S=v[Ss],P=S[El]||{},L=S[Ax]||{};jy(v[qu],P,L),K(T)||Ex(P,T);var W=new m7(A,S[G1],S.average,S.sampleCount,S.min,S.max,S.stdDev,P,L),se=new hx(m7[Up],W);return Ix(A,m7[yx],v,se)}s($Ye,"MetricEnvelopeCreator");function zYe(A,v,T){Tx(A,v);var S,P=v[Ss];!K(P)&&!K(P[El])&&!K(P[El][gx])?(S=P[El][gx],delete P[El][gx]):!K(v[qu])&&!K(v[qu][gx])&&(S=v[qu][gx],delete v[qu][gx]);var L=v[Ss],W;((v.ext||{}).trace||{})[A7]&&(W=v.ext.trace[A7]);var se=L.id||W,fe=L[G1],ve=L.uri,ke=L[El]||{},We=L[Ax]||{};if(K(L.refUri)||(ke.refUri=L.refUri),K(L.pageType)||(ke.pageType=L.pageType),K(L.isLoggedIn)||(ke.isLoggedIn=L.isLoggedIn[Cx]()),!K(L[El])){var et=L[El];ne(et,function(pt,ct){ke[pt]=ct})}jy(v[qu],ke,We),K(T)||Ex(ke,T);var He=new _P(A,fe,ve,S,ke,We,se),Ye=new hx(_P[Up],He);return Ix(A,_P[yx],v,Ye)}s(zYe,"PageViewEnvelopeCreator");function YYe(A,v,T){Tx(A,v);var S=v[Ss],P=S[G1],L=S.uri||S.url,W=S[El]||{},se=S[Ax]||{};jy(v[qu],W,se),K(T)||Ex(W,T);var fe=new kP(A,P,L,void 0,W,se,S),ve=new hx(kP[Up],fe);return Ix(A,kP[yx],v,ve)}s(YYe,"PageViewPerformanceEnvelopeCreator");function KYe(A,v,T){Tx(A,v);var S=v[Ss].message,P=v[Ss].severityLevel,L=v[Ss][El]||{},W=v[Ss][Ax]||{};jy(v[qu],L,W),K(T)||Ex(L,T);var se=new RP(A,S,P,L,W),fe=new hx(RP[Up],se);return Ix(A,RP[yx],v,fe)}s(KYe,"TraceEnvelopeCreator");var npe=function(){function A(v,T){var S=[],P=!1,L=T.maxRetryCnt;this._get=function(){return S},this._set=function(W){return S=W,S},Yl(A,this,function(W){W[xx]=function(se){if(W[vx]()>=T.eventsLimitInMem){P||(Or(v,2,105,"Maximum in-memory buffer size reached: "+W[vx](),!0),P=!0);return}se.cnt=se.cnt||0,!(!K(L)&&se.cnt>L)&&S[H1](se)},W[vx]=function(){return S[gi]},W.size=function(){for(var se=S[gi],fe=0;fe<S[gi];fe++)se+=S[fe].item[gi];return T[mK]||(se+=2),se},W[V4]=function(){S=[],P=!1},W.getItems=function(){return S.slice(0)},W.batchPayloads=function(se){if(se&&se[gi]>0){var fe=[];Jr(se,function(ke){fe[H1](ke.item)});var ve=T[mK]?fe.join(`
`):"["+fe.join(",")+"]";return ve}return null},W.createNew=function(se,fe,ve){var ke=S.slice(0);se=se||v,fe=fe||{};var We=ve?new ipe(se,fe):new IK(se,fe);return Jr(ke,function(et){We[xx](et)}),We}})}return s(A,"BaseSendBuffer"),A.__ieDyn=1,A}(),IK=function(A){U3(v,A);function v(T,S){var P=A.call(this,T,S)||this;return Yl(v,P,function(L,W){L[DP]=function(se){W[V4]()},L[C7]=function(se){}}),P}return s(v,"ArraySendBuffer"),v.__ieDyn=1,v}(npe),JYe=["AI_buffer","AI_sentBuffer"],ipe=function(A){U3(v,A);function v(S,P){var L=A.call(this,S,P)||this,W=!1,se=P?.namePrefix,fe=P[hK]||{getItem:uYe,setItem:fYe},ve=fe.getItem,ke=fe.setItem,We=P.maxRetryCnt;return Yl(v,L,function(et,He){var Ye=Pr(v[x7]),pt=Pr(v[Hy]),ct=xi(),wt=pt[$4](ct),Jt=et._set(Ye[$4](wt));Jt[gi]>v[v7]&&(Jt[gi]=v[v7]),Ci(v[Hy],[]),Ci(v[x7],Jt),et[xx]=function(pn){if(et[vx]()>=v[v7]){W||(Or(S,2,67,"Maximum buffer size reached: "+et[vx](),!0),W=!0);return}pn.cnt=pn.cnt||0,!(!K(We)&&pn.cnt>We)&&(He[xx](pn),Ci(v[x7],et._get()))},et[V4]=function(){He[V4](),Ci(v[x7],et._get()),Ci(v[Hy],[]),W=!1},et[DP]=function(pn){Ci(v[x7],et._set(pr(pn,et._get())));var $r=Pr(v[Hy]);$r instanceof Array&&pn instanceof Array&&($r=$r[$4](pn),$r[gi]>v[v7]&&(Or(S,1,67,"Sent buffer reached its maximum size: "+$r[gi],!0),$r[gi]=v[v7]),Ci(v[Hy],$r))},et[C7]=function(pn){var $r=Pr(v[Hy]);$r=pr(pn,$r),Ci(v[Hy],$r)},et.createNew=function(pn,$r,vi){vi=!!vi;var Rs=et._get().slice(0),Uo=Pr(v[Hy]).slice(0);pn=pn||S,$r=$r||{},et[V4]();var er=vi?new v(pn,$r):new IK(pn,$r);return Jr(Rs,function(zr){er[xx](zr)}),vi&&er[DP](Uo),er};function pr(pn,$r){var vi=[],Rs=[];return Jr(pn,function(Uo){Rs[H1](Uo.item)}),Jr($r,function(Uo){!De(Uo)&&n0(Rs,Uo.item)===-1&&vi[H1](Uo)}),vi}s(pr,"_removePayloadsFromBuffer");function Pr(pn){var $r=pn;return $r=se?se+"_"+$r:$r,jn($r)}s(Pr,"_getBuffer");function jn(pn){try{var $r=ve(S,pn);if($r){var vi=s0().parse($r);if(ce(vi)&&(vi=s0().parse(vi)),vi&&qe(vi))return vi}}catch(Rs){Or(S,1,42," storage key: "+pn+", "+il(Rs),{exception:yt(Rs)})}return[]}s(jn,"_getBufferBase");function Ci(pn,$r){var vi=pn;try{vi=se?se+"_"+vi:vi;var Rs=JSON[y7]($r);ke(S,vi,Rs)}catch(Uo){ke(S,vi,JSON[y7]([])),Or(S,2,41," storage key: "+vi+", "+il(Uo)+". Buffer cleared",{exception:yt(Uo)})}}s(Ci,"_setBuffer");function xi(){var pn=[];try{return Jr(JYe,function($r){var vi=mo($r);if(pn=pn[$4](vi),se){var Rs=se+"_"+$r,Uo=mo(Rs);pn=pn[$4](Uo)}}),pn}catch($r){Or(S,2,41,"Transfer events from previous buffers: "+il($r)+". previous Buffer items can not be removed",{exception:yt($r)})}return[]}s(xi,"_getPreviousEvents");function mo(pn){try{var $r=jn(pn),vi=[];return Jr($r,function(Rs){var Uo={item:Rs,cnt:0};vi[H1](Uo)}),dYe(S,pn),vi}catch{}return[]}s(mo,"_getItemsFromPreviousKey")}),L}s(v,"SessionStorageSendBuffer");var T;return T=v,v.VERSION="_1",v.BUFFER_KEY="AI_buffer"+T.VERSION,v.SENT_BUFFER_KEY="AI_sentBuffer"+T.VERSION,v.MAX_BUFFER_SIZE=2e3,v}(npe),XYe=function(){function A(v){Yl(A,this,function(T){T.serialize=function(W){var se=S(W,"root");try{return s0()[y7](se)}catch(fe){Or(v,1,48,fe&&De(fe[Cx])?fe[Cx]():"Error serializing object",null,!0)}};function S(W,se){var fe="__aiCircularRefCheck",ve={};if(!W)return Or(v,1,48,"cannot serialize object because it is null or undefined",{name:se},!0),ve;if(W[fe])return Or(v,2,50,"Circular reference detected while serializing object",{name:se},!0),ve;if(!W.aiDataContract){if(se==="measurements")ve=L(W,"number",se);else if(se==="properties")ve=L(W,"string",se);else if(se==="tags")ve=L(W,"string",se);else if(qe(W))ve=P(W,se);else{Or(v,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:se},!0);try{s0()[y7](W),ve=W}catch(ke){Or(v,1,48,ke&&De(ke[Cx])?ke[Cx]():"Error serializing object",null,!0)}}return ve}return W[fe]=!0,ne(W.aiDataContract,function(ke,We){var et=De(We)?We()&1:We&1,He=De(We)?We()&4:We&4,Ye=We&2,pt=W[ke]!==void 0,ct=be(W[ke])&&W[ke]!==null;if(et&&!pt&&!Ye)Or(v,1,24,"Missing required field specification. The field is required but not present on source",{field:ke,name:se});else if(!He){var wt=void 0;ct?Ye?wt=P(W[ke],ke):wt=S(W[ke],ke):wt=W[ke],wt!==void 0&&(ve[ke]=wt)}}),delete W[fe],ve}s(S,"_serializeObject");function P(W,se){var fe;if(W)if(!qe(W))Or(v,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:se},!0);else{fe=[];for(var ve=0;ve<W[gi];ve++){var ke=W[ve],We=S(ke,se+"["+ve+"]");fe[H1](We)}}return fe}s(P,"_serializeArray");function L(W,se,fe){var ve;return W&&(ve={},ne(W,function(ke,We){if(se==="string")We===void 0?ve[ke]="undefined":We===null?ve[ke]="null":We[Cx]?ve[ke]=We[Cx]():ve[ke]="invalid field: toString() is not defined.";else if(se==="number")if(We===void 0)ve[ke]="undefined";else if(We===null)ve[ke]="null";else{var et=parseFloat(We);ve[ke]=et}else ve[ke]="invalid field: "+fe+" is of unknown type.",Or(v,1,ve[ke],null,!0)})),ve}s(L,"_serializeStringMap")})}return s(A,"Serializer"),A.__ieDyn=1,A}(),ZYe=8,eKe=function(){function A(){}return s(A,"HashCodeScoreGenerator"),A.prototype.getHashCodeScore=function(v){var T=this.getHashCode(v)/A.INT_MAX_VALUE;return T*100},A.prototype.getHashCode=function(v){if(v==="")return 0;for(;v[gi]<ZYe;)v=v[$4](v);for(var T=5381,S=0;S<v[gi];++S)T=(T<<5)+T+v.charCodeAt(S),T=T&T;return Math.abs(T)},A.INT_MAX_VALUE=2147483647,A}(),tKe=function(){function A(){var v=this,T=new eKe,S=new zhe;v.getSamplingScore=function(P){var L=0;return P[Jl]&&P[Jl][S.userId]?L=T.getHashCodeScore(P[Jl][S.userId]):P.ext&&P.ext.user&&P.ext.user.id?L=T[WYe](P.ext.user.id):P[Jl]&&P[Jl][S.operationId]?L=T.getHashCodeScore(P[Jl][S.operationId]):P.ext&&P.ext.telemetryTrace&&P.ext.telemetryTrace[A7]?L=T.getHashCodeScore(P.ext.telemetryTrace[A7]):L=Math.random()*100,L}}return s(A,"SamplingScoreGenerator"),A}(),rKe=function(){function A(v,T){this.INT_MAX_VALUE=2147483647;var S=T||nx(null);(v>100||v<0)&&(S.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:v},!0),v=100),this[LP]=v,this.samplingScoreGenerator=new tKe}return s(A,"Sample"),A.prototype.isSampledIn=function(v){var T=this[LP],S=!1;return T==null||T>=100||v.baseType===m7[Up]?!0:(S=this.samplingScoreGenerator.getSamplingScore(v)<T,S)},A}(),is,j1,Wp=void 0,ope="",nKe=65e3;function spe(A){try{return A.responseText}catch{}return null}s(spe,"_getResponseText");function iKe(A){return A&&A.sendPOST}s(iKe,"isOverrideFn");var ape=Rt((is={endpointUrl:Yw(oe,XY+O4)},is[mK]=ld(),is.maxBatchInterval=15e3,is[Khe]=102400,is.disableTelemetry=ld(),is[Xhe]=ld(!0),is.isRetryDisabled=ld(),is[yK]=ld(!0),is[epe]=ld(!0),is.disableXhr=ld(),is[Zhe]=ld(),is[AK]=ld(),is[T7]=Wp,is.namePrefix=Wp,is.samplingPercentage=Yw(oKe,100),is[gK]=Wp,is.convertUndefined=Wp,is.eventsLimitInMem=1e4,is[hK]=!1,is.httpXHROverride={isVal:iKe,v:Wp},is[Jhe]=ld(),is.transports=Wp,is.retryCodes=Wp,is.maxRetryCnt={isVal:Xe,v:10},is));function oKe(A){return!isNaN(A)&&A>0&&A<=100}s(oKe,"_chkSampling");var sKe=(j1={},j1[G4.dataType]=rpe,j1[RP.dataType]=KYe,j1[_P.dataType]=zYe,j1[kP.dataType]=YYe,j1[wP.dataType]=VYe,j1[m7.dataType]=$Ye,j1[SP.dataType]=jYe,j1),lpe=function(A){U3(v,A);function v(){var T=A.call(this)||this;T.priority=1001,T.identifier=qYe;var S,P,L,W,se,fe,ve,ke=0,We,et,He,Ye,pt,ct,wt,Jt,pr,Pr,jn,Ci,xi,mo,pn,$r,vi,Rs,Uo,er,zr,io,Nt,Sn,Gs,ho,Il;return Yl(v,T,function(mt,Qa){upe(),mt.pause=function(){Yy(),L=!0},mt.resume=function(){L&&(L=!1,P=null,wo(),J4())},mt.flush=function($e,It,vr){if($e===void 0&&($e=!0),!L){Yy();try{return mt[b7]($e,null,vr||1)}catch(qr){Or(mt[wc](),1,22,"flush failed, telemetry will not be collected: "+il(qr),{exception:yt(qr)})}}},mt.onunloadFlush=function(){if(!L)if(wt||er)try{return mt[b7](!0,$0,2)}catch($e){Or(mt[wc](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+il($e),{exception:yt($e)})}else mt.flush(!1)},mt.addHeader=function($e,It){ve[$e]=It},mt[pK]=function($e,It,vr,qr){mt.isInitialized()&&Or(mt[wc](),1,28,"Sender is already initialized"),Qa[pK]($e,It,vr,qr);var Ln=mt.identifier;se=new XYe(It.logger),S=0,P=null,mt[E7]=null,fe=0;var An=mt[wc]();He=xhe(Mm("Sender"),It.evtNamespace&&It.evtNamespace()),et=UYe(He),mt._addHook(Qm($e,function(ji){var Ca=ji.cfg;Ca.storagePrefix&&cYe(Ca.storagePrefix);var Wu=My(null,Ca,It),ci=Wu.getExtCfg(Ln,ape),fpe=ci[I7];if(Ye&&fpe===Ye){var _K=Ca[I7];_K&&_K!==fpe&&(ci[I7]=_K)}lt(ci[T7])&&(ci[T7]=Ca[T7]),Ue(mt,"_senderConfig",{g:s(function(){return ci},"g")}),pt!==ci[I7]&&(Ye=pt=ci[I7]),It.activeStatus()===bp.PENDING?mt.pause():It.activeStatus()===bp.ACTIVE&&mt.resume(),Pr&&Pr!==ci[gK]&&Jr(Pr,function(Zl){delete ve[Zl.header]}),ct=ci[Khe],wt=(ci[AK]===!1||ci[yK]===!1)&&Bp(),Jt=ci[AK]===!1&&Bp(),pr=ci[yK]===!1&&Bp(),er=ci[Jhe],zr=!!ci.disableXhr,Il=ci.retryCodes;var SK=ci[hK],X4=!!ci[Xhe]&&(!!SK||Nhe()),dpe=ci.namePrefix,uKe=X4!==$r||X4&&Rs!==dpe||X4&&vi!==SK;if(mt[qp]){if(uKe)try{mt[qp]=mt[qp].createNew(An,ci,X4)}catch(Zl){Or(mt[wc](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+il(Zl),{exception:yt(Zl)})}wo()}else mt[qp]=X4?new ipe(An,ci):new IK(An,ci);Rs=dpe,$r=X4,vi=SK,io=!ci[Zhe]&&X3(!0),Gs=!!ci[epe],mt._sample=new rKe(ci.samplingPercentage,An),Ci=ci[T7],!lt(Ci)&&!cpe(Ci,Ca)&&Or(An,1,100,"Invalid Instrumentation key "+Ci),Pr=ci[gK],ce(Ye)&&!Bhe(Ye)&&Pr&&Pr[gi]>0?Jr(Pr,function(Zl){T.addHeader(Zl.header,Zl.value)}):Pr=null,Uo=ci.enableSendPromise;var mpe=Tl();ho?ho.SetConfig(mpe):(ho=new Ma,ho[pK](mpe,An));var OP=ci.httpXHROverride,UP=null,R7=null,fKe=ND([3,1,2],ci.transports);UP=ho&&ho[PP](fKe,!1);var RK=ho&&ho.getFallbackInst();Nt=s(function(Zl,wx){return Hr(RK,Zl,wx)},"_xhrSend"),Sn=s(function(Zl,wx){return Hr(RK,Zl,wx,!1)},"_fallbackSend"),UP=er?OP:UP||OP||RK,mt[E7]=function(Zl,wx){return Hr(UP,Zl,wx)},io&&(We=K4);var kK=ND([3,1],ci.unloadTransports);io||(kK=kK.filter(function(Zl){return Zl!==2})),R7=ho&&ho[PP](kK,!0),R7=er?OP:R7||OP,(er||ci.unloadTransports||!We)&&R7&&(We=s(function(Zl,wx){return Hr(R7,Zl,wx)},"_syncUnloadSender")),We||(We=Nt),jn=ci.disableTelemetry,xi=ci.convertUndefined||Wp,mo=ci.isRetryDisabled,pn=ci.maxBatchInterval}))},mt.processTelemetry=function($e,It){It=mt._getTelCtx(It);var vr=It[wc]();try{var qr=qm($e,vr);if(!qr)return;var Ln=zy($e,vr);if(!Ln)return;var An=se.serialize(Ln),ji=mt[qp];wo(An);var Ca={item:An,cnt:0};ji[xx](Ca),J4()}catch(Wu){Or(vr,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+il(Wu),{exception:yt(Wu)})}mt.processNext($e,It)},mt.isCompletelyIdle=function(){return!L&&ke===0&&mt._buffer[vx]()===0},mt.getOfflineListener=function(){return et},mt._xhrReadyStateChange=function($e,It,vr){if(!Gm(It))return dd($e,It,vr)},mt[b7]=function($e,It,vr){$e===void 0&&($e=!0);var qr;if(!L)try{var Ln=mt[qp];if(jn)Ln[V4]();else if(Ln[vx]()>0){var An=Ln.getItems();QP(vr||0,$e),It?qr=It.call(mt,An,$e):qr=mt[E7](An,$e)}Yy()}catch(Ca){var ji=vy();(!ji||ji>9)&&Or(mt[wc](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+il(Ca),{exception:yt(Ca)})}return qr},mt.getOfflineSupport=function(){return{getUrl:s(function(){return Ye},"getUrl"),createPayload:At,serialize:ks,batch:Xl,shouldProcess:s(function($e){return!!qm($e)},"shouldProcess")}},mt._doTeardown=function($e,It){mt.onunloadFlush(),Ry(et,!1),upe()},mt[bx]=function($e,It,vr){if(!Gm($e))return l0($e,It)},mt[CK]=function($e,It){if(!Gm($e))return Vy($e,It)},mt[NP]=function($e,It){if(!Gm($e))return Um($e)},mt._xdrOnLoad=function($e,It){if(!Gm(It))return Hs($e,It)};function Hs($e,It){var vr=spe($e);if($e&&(vr+""=="200"||vr===""))S=0,mt[NP](It,0);else{var qr=Gr(vr);qr&&qr[xK]&&qr[xK]>qr[vK]&&!mo?mt[CK](It,qr):mt[bx](It,PD($e))}}s(Hs,"_xdrOnLoad");function Tl(){try{var $e={xdrOnComplete:s(function(vr,qr,Ln){var An=$y(Ln);if(An)return Hs(vr,An)},"xdrOnComplete"),fetchOnComplete:s(function(vr,qr,Ln,An){var ji=$y(An);if(ji)return os(vr.status,ji,vr.url,ji[gi],vr.statusText,Ln||"")},"fetchOnComplete"),xhrOnComplete:s(function(vr,qr,Ln){var An=$y(Ln);if(An)return dd(vr,An,An[gi])},"xhrOnComplete"),beaconOnRetry:s(function(vr,qr,Ln){return Wm(vr,qr,Ln)},"beaconOnRetry")},It={enableSendPromise:Uo,isOneDs:!1,disableCredentials:!1,disableXhr:zr,disableBeacon:!pr,disableBeaconSync:!Jt,senderOnCompleteCallBack:$e};return It}catch{}return null}s(Tl,"_getSendPostMgrConfig");function dd($e,It,vr){$e.readyState===4&&os($e.status,It,$e.responseURL,vr,y4($e),spe($e)||$e.response)}s(dd,"_xhrReadyStateChange");function l0($e,It,vr){Or(mt[wc](),2,26,"Failed to send telemetry.",{message:It}),mt._buffer&&mt._buffer[C7]($e)}s(l0,"_onError");function Vy($e,It){for(var vr=[],qr=[],Ln=It.errors.reverse(),An=0,ji=Ln;An<ji.length;An++){var Ca=ji[An],Wu=$e.splice(Ca.index,1)[0];Ky(Ca.statusCode)?qr[H1](Wu):vr[H1](Wu)}$e[gi]>0&&mt[NP]($e,It[vK]),vr[gi]>0&&mt[bx](vr,y4(null,["partial success",It[vK],"of",It.itemsReceived].join(" "))),qr[gi]>0&&(S7(qr),Or(mt[wc](),2,40,"Partial success. Delivered: "+$e[gi]+", Failed: "+vr[gi]+". Will retry to send "+qr[gi]+" our of "+It[xK]+" items"))}s(Vy,"_onPartialSuccess");function Um($e,It){mt._buffer&&mt._buffer[C7]($e)}s(Um,"_onSuccess");function $y($e){try{if($e){var It=$e,vr=It.oriPayload;return vr&&vr[gi]?vr:null}}catch{}return null}s($y,"_getPayloadArr");function qm($e,It){if(jn)return!1;if(!$e)return It&&Or(It,1,7,"Cannot send empty telemetry"),!1;if($e.baseData&&!$e[bK])return It&&Or(It,1,70,"Cannot send telemetry without baseData and baseType"),!1;if($e[bK]||($e[bK]="EventData"),!mt[E7])return It&&Or(It,1,28,"Sender was not initialized"),!1;if(Br($e))$e[bhe]=mt._sample[LP];else return It&&Or(It,2,33,"Telemetry item was sampled out and not sent",{SampleRate:mt._sample[LP]}),!1;return!0}s(qm,"_validate");function zy($e,It){var vr=$e.iKey||Ci,qr=v.constructEnvelope($e,vr,It,xi);if(!qr){Or(It,1,47,"Unable to create an AppInsights envelope");return}var Ln=!1;if($e[Jl]&&$e[Jl][JY]&&(Jr($e[Jl][JY],function(An){try{An&&An(qr)===!1&&(Ln=!0,R4(It,"Telemetry processor check returns false"))}catch(ji){Or(It,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+il(ji),{exception:yt(ji)},!0)}}),delete $e[Jl][JY]),!Ln)return qr}s(zy,"_getEnvelope");function ks($e){var It=ope,vr=mt[wc]();try{var qr=qm($e,vr),Ln=null;qr&&(Ln=zy($e,vr)),Ln&&(It=se.serialize(Ln))}catch{}return It}s(ks,"_serialize");function Xl($e){var It=ope;return $e&&$e[gi]&&(It="["+$e.join(",")+"]"),It}s(Xl,"_batch");function At($e){var It=xo();return{urlString:Ye,data:$e,headers:It}}s(At,"_createPayload");function Br($e){return mt._sample.isSampledIn($e)}s(Br,"_isSampledIn");function Pn($e,It,vr,qr){It===200&&$e?mt._onSuccess($e,$e[gi]):qr&&mt[bx]($e,qr)}s(Pn,"_getOnComplete");function Hr($e,It,vr,qr){qr===void 0&&(qr=!0);var Ln=s(function(Ca,Wu,ci){return Pn(It,Ca,Wu,ci)},"onComplete"),An=Nn(It),ji=$e&&$e.sendPOST;return ji&&An?(qr&&mt._buffer[DP](It),ji(An,Ln,!vr)):null}s(Hr,"_doSend");function Nn($e){if(qe($e)&&$e[gi]>0){var It=mt[qp].batchPayloads($e),vr=xo(),qr={data:It,urlString:Ye,headers:vr,disableXhrSync:zr,disableFetchKeepAlive:!io,oriPayload:$e};return qr}return null}s(Nn,"_getPayload");function xo(){try{var $e=ve||{};return Bhe(Ye)&&($e[Ihe[6]]=Ihe[7]),$e}catch{}return null}s(xo,"_getHeaders");function wo($e){var It=$e?$e[gi]:0;return mt[qp].size()+It>ct?((!et||et.isOnline())&&mt[b7](!0,null,10),!0):!1}s(wo,"_checkMaxSize");function os($e,It,vr,qr,Ln,An){var ji=null;if(mt._appId||(ji=Gr(An),ji&&ji.appId&&(mt._appId=ji.appId)),($e<200||$e>=300)&&$e!==0){if(($e===301||$e===307||$e===308)&&!_c(vr)){mt[bx](It,Ln);return}if(et&&!et.isOnline()){if(!mo){var Ca=10;S7(It,Ca),Or(mt[wc](),2,40,". Offline - Response Code: ".concat($e,". Offline status: ").concat(!et.isOnline(),". Will retry to send ").concat(It.length," items."))}return}!mo&&Ky($e)?(S7(It),Or(mt[wc](),2,40,". Response code "+$e+". Will retry to send "+It[gi]+" items.")):mt[bx](It,Ln)}else _c(vr),$e===206?(ji||(ji=Gr(An)),ji&&!mo?mt[CK](It,ji):mt[bx](It,Ln)):(S=0,mt[NP](It,qr))}s(os,"_checkResponsStatus");function _c($e){return fe>=10?!1:!K($e)&&$e!==""&&$e!==Ye?(Ye=$e,++fe,!0):!1}s(_c,"_checkAndUpdateEndPointUrl");function $0($e,It){if(We)We($e,!1);else{var vr=ho&&ho[PP]([3],!0);return Hr(vr,$e,It)}}s($0,"_doUnloadSend");function Wm($e,It,vr){var qr=$e,Ln=qr&&qr.oriPayload;if(Gs)Sn&&Sn(Ln,!0),Or(mt[wc](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var An=[],ji=0;ji<Ln[gi];ji++){var Ca=Ln[ji],Wu=[Ca],ci=Nn(Wu);vr(ci,It)?mt._onSuccess(Wu,Wu[gi]):An[H1](Ca)}An[gi]>0&&(Sn&&Sn(An,!0),Or(mt[wc](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}s(Wm,"_onBeaconRetry");function Gm($e){try{if($e&&$e[gi])return ce($e[0])}catch{}return null}s(Gm,"_isStringArr");function K4($e,It){var vr=null;if(qe($e)){for(var qr=$e[gi],Ln=0;Ln<$e[gi];Ln++)qr+=$e[Ln].item[gi];var An=ho.getSyncFetchPayload();An+qr<=nKe?vr=2:Bp()?vr=3:(vr=1,Or(mt[wc](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var ji=ho&&ho[PP]([vr],!0);return Hr(ji,$e,It)}return null}s(K4,"_fetchKeepAliveSender");function S7($e,It){if(It===void 0&&(It=1),!(!$e||$e[gi]===0)){var vr=mt[qp];vr[C7]($e),S++;for(var qr=0,Ln=$e;qr<Ln.length;qr++){var An=Ln[qr];An.cnt=An.cnt||0,An.cnt++,vr[xx](An)}wK(It),J4()}}s(S7,"_resendPayload");function wK($e){var It=10,vr;if(S<=1)vr=It;else{var qr=(Math.pow(2,S)-1)/2,Ln=b1(Math.random()*qr*It)+1;Ln=$e*Ln,vr=Ie(hr(Ln,3600),It)}var An=gp()+vr*1e3;P=An}s(wK,"_setRetryTime");function J4(){if(!W&&!L){var $e=P?Ie(0,P-gp()):0,It=Ie(pn,$e);W=Cp(function(){W=null,mt[b7](!0,null,1)},It)}}s(J4,"_setupTimer");function Yy(){W&&W.cancel(),W=null,P=null}s(Yy,"_clearScheduledTimer");function Ky($e){return K(Il)?$e===401||$e===408||$e===429||$e===500||$e===502||$e===503||$e===504:Il[gi]&&Il.indexOf($e)>-1}s(Ky,"_isRetriable");function MP(){var $e="getNotifyMgr";return mt.core[$e]?mt.core[$e]():mt.core._notificationManager}s(MP,"_getNotifyMgr");function QP($e,It){var vr=MP();if(vr&&vr.eventsSendRequest)try{vr.eventsSendRequest($e,It)}catch(qr){Or(mt[wc](),1,74,"send request notification failed: "+il(qr),{exception:yt(qr)})}}s(QP,"_notifySendRequest");function cpe($e,It){var vr=It.disableInstrumentationKeyValidation,qr=K(vr)?!1:vr;if(qr)return!0;var Ln="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",An=new RegExp(Ln);return An.test($e)}s(cpe,"_validateInstrumentationKey");function upe(){mt[E7]=null,mt[qp]=null,mt._appId=null,mt._sample=null,ve={},et=null,S=0,P=null,L=!1,W=null,se=null,fe=0,ke=0,We=null,He=null,Ye=null,pt=null,ct=0,wt=!1,Pr=null,jn=!1,Ci=null,xi=Wp,mo=!1,$r=null,Rs=Wp,zr=!1,io=!1,Gs=!1,Nt=null,Sn=null,ho=null,Ue(mt,"_senderConfig",{g:s(function(){return DD({},ape)},"g")})}s(upe,"_initDefaults")}),T}return s(v,"Sender"),v.constructEnvelope=function(T,S,P,L){var W;S!==T.iKey&&!K(S)?W=km(km({},T),{iKey:S}):W=T;var se=sKe[W.baseType]||rpe;return se(P,W,L)},v}(vt),z4="instrumentationKey",FP="connectionString",w7="endpointUrl",_7="userOverrideEndpointUrl",Y4,TK=void 0,aKe=(Y4={diagnosticLogInterval:Yw(lKe,1e4)},Y4[FP]=TK,Y4.endpointUrl=TK,Y4[z4]=TK,Y4.extensionConfig={},Y4);function lKe(A){return A&&A>0}s(lKe,"_chkDiagLevel");var cKe=function(){function A(v){var T=new Ft,S;(K(v)||K(v[z4])&&K(v[FP]))&&Kt("Invalid input configuration"),Yl(A,this,function(L){Ue(L,"config",{g:s(function(){return S},"g")}),W(),L.initialize=W,L.track=P,Nw(L,T,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function W(){var se=V0(v||{},aKe);S=se.cfg,T.addUnloadHook(Qm(se,function(){var fe=S[FP];if(lt(fe)){var ve=c4(function(He,Ye){q0(fe,function(pt){var ct=pt.value,wt=S[z4];if(!pt.rejected&&ct){S[FP]=ct;var Jt=sK(ct);wt=Jt.instrumentationkey||wt}He(wt)})}),ke=c4(function(He,Ye){q0(fe,function(pt){var ct=pt.value,wt=S[w7];if(!pt.rejected&&ct){var Jt=sK(ct),pr=Jt.ingestionendpoint;wt=pr?pr+O4:wt}He(wt)})});S[z4]=ve,S[w7]=S[_7]||ke}if(ce(fe)){var We=sK(fe),et=We.ingestionendpoint;S[w7]=S[_7]?S[_7]:et+O4,S[z4]=We.instrumentationkey||S[z4]}S[w7]=S[_7]?S[_7]:S[w7]})),T.initialize(S,[new lpe])}s(W,"_initialize")});function P(L){L&&(L.baseData=L.baseData||{},L.baseType=L.baseType||"EventData"),T.track(L)}s(P,"_track")}return s(A,"ApplicationInsights"),A.__ieDyn=1,A}();e.AppInsightsCore=Ft,e.ApplicationInsights=cKe,e.Sender=lpe,e.SeverityLevel=OYe,e.arrForEach=Jr,e.isNullOrUndefined=K,e.proxyFunctions=Nw,e.throwError=Kt})});var eee=H((g2r,Pxe)=>{"use strict";d();Pxe.exports=s(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var i=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?i[r]:i},"protocols")});var Lxe=H((C2r,Nxe)=>{"use strict";d();var Slt=eee();function Rlt(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=Slt(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}s(Rlt,"parsePath");Nxe.exports=Rlt});var qxe=H((b2r,Uxe)=>{"use strict";d();var klt=Lxe();function Blt(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}s(Blt,"_interopDefaultLegacy");var Dlt=Blt(klt);function Plt(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=s(function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)},"a");r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:s(function(){return e[n]},"get")})}),r}s(Plt,"getAugmentedNamespace");var Mxe={},Nlt="text/plain",Llt="us-ascii",Fxe=s((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),Flt=s((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:o}=r.groups,a=n.split(";");o=t?"":o;let l=!1;a[a.length-1]==="base64"&&(a.pop(),l=!0);let c=(a.shift()||"").toLowerCase(),f=[...a.map(m=>{let[h,p=""]=m.split("=").map(g=>g.trim());return h==="charset"&&(p=p.toLowerCase(),p===Llt)?"":`${h}${p?`=${p}`:""}`}).filter(Boolean)];return l&&f.push("base64"),(f.length>0||c&&c!==Nlt)&&f.unshift(c),`data:${f.join(";")},${l?i.trim():i}${o?`#${o}`:""}`},"normalizeDataURL");function Mlt(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return Flt(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let f=a.exec(i.pathname);if(!f)break;let m=f[0],h=f.index,p=i.pathname.slice(l,h);c+=p.replace(/\/{2,}/g,"/"),c+=m,l=h+m.length}let u=i.pathname.slice(l,i.pathname.length);c+=u.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=i.pathname.split("/"),l=a[a.length-1];Fxe(l,t.removeDirectoryIndex)&&(a=a.slice(0,-1),i.pathname=a.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...i.searchParams.keys()])Fxe(a,t.removeQueryParameters)&&i.searchParams.delete(a);if(t.removeQueryParameters===!0&&(i.search=""),t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let o=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!o.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}s(Mlt,"normalizeUrl");var Qlt=Object.freeze({__proto__:null,default:Mlt}),Olt=Plt(Qlt);Object.defineProperty(Mxe,"__esModule",{value:!0});var Ult=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qlt=Olt,Wlt=Qxe(qlt),Glt=Dlt.default,Hlt=Qxe(Glt);function Qxe(e){return e&&e.__esModule?e:{default:e}}s(Qxe,"_interopRequireDefault");var Oxe=s(function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=/^(?:([a-zA-Z_][a-zA-Z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:](([\~,\.\w,\-,\_,\/,\s]|%[0-9A-Fa-f]{2})+?(?:\.git|\/)?)$/,i=s(function(c){var u=new Error(c);throw u.subject_url=t,u},"throwErr");(typeof t!="string"||!t.trim())&&i("Invalid url."),t.length>e.MAX_INPUT_LENGTH&&i("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),r&&((typeof r>"u"?"undefined":Ult(r))!=="object"&&(r={stripHash:!1}),t=(0,Wlt.default)(t,r));var o=(0,Hlt.default)(t);if(o.parse_failed){var a=o.href.match(n);a?(o.protocols=["ssh"],o.protocol="ssh",o.resource=a[2],o.host=a[2],o.user=a[1],o.pathname="/"+a[3],o.parse_failed=!1):i("URL parsing failed.")}return o},"parseUrl");Oxe.MAX_INPUT_LENGTH=2048;var jlt=Mxe.default=Oxe;Uxe.exports=jlt});var Hxe=H((T2r,Gxe)=>{"use strict";d();var Vlt=eee();function Wxe(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=Vlt(e);if(e=e.substring(e.indexOf("://")+3),Wxe(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}s(Wxe,"isSsh");Gxe.exports=Wxe});var $xe=H((S2r,Vxe)=>{"use strict";d();var $lt=qxe(),jxe=Hxe();function zlt(e){let t=$lt(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),jxe(t.protocols)||t.protocols.length===0&&jxe(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}s(zlt,"gitUp");Vxe.exports=zlt});var Yxe=H((B2r,zxe)=>{"use strict";d();var Ylt=$xe();function tee(e,t){if(t=t||[],typeof e!="string")throw new Error("The url must be a string.");if(!t.every(function(E){return typeof E=="string"}))throw new Error("The refs should contain only strings");var r=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;r.test(e)&&(e="https://github.com/"+e);var n=Ylt(e),i=n.resource.split("."),o=null;switch(n.toString=function(E){return tee.stringify(this,E)},n.source=i.length>2?i.slice(1-i.length).join("."):n.source=n.resource,n.git_suffix=/\.git$/.test(n.pathname),n.name=decodeURIComponent((n.pathname||n.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),n.owner=decodeURIComponent(n.user),n.source){case"git.cloudforge.com":n.owner=n.user,n.organization=i[0],n.source="cloudforge.com";break;case"visualstudio.com":if(n.resource==="vs-ssh.visualstudio.com"){o=n.name.split("/"),o.length===4&&(n.organization=o[1],n.owner=o[2],n.name=o[3],n.full_name=o[2]+"/"+o[3]);break}else{o=n.name.split("/"),o.length===2?(n.owner=o[1],n.name=o[1],n.full_name="_git/"+n.name):o.length===3?(n.name=o[2],o[0]==="DefaultCollection"?(n.owner=o[2],n.organization=o[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=o[0],n.full_name=n.owner+"/_git/"+n.name)):o.length===4&&(n.organization=o[0],n.owner=o[1],n.name=o[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name);break}case"dev.azure.com":case"azure.com":if(n.resource==="ssh.dev.azure.com"){o=n.name.split("/"),o.length===4&&(n.organization=o[1],n.owner=o[2],n.name=o[3]);break}else{o=n.name.split("/"),o.length===5?(n.organization=o[0],n.owner=o[1],n.name=o[4],n.full_name="_git/"+n.name):o.length===3?(n.name=o[2],o[0]==="DefaultCollection"?(n.owner=o[2],n.organization=o[0],n.full_name=n.organization+"/_git/"+n.name):(n.owner=o[0],n.full_name=n.owner+"/_git/"+n.name)):o.length===4&&(n.organization=o[0],n.owner=o[1],n.name=o[3],n.full_name=n.organization+"/"+n.owner+"/_git/"+n.name),n.query&&n.query.path&&(n.filepath=n.query.path.replace(/^\/+/g,"")),n.query&&n.query.version&&(n.ref=n.query.version.replace(/^GB/,""));break}default:o=n.name.split("/");var a=o.length-1;if(o.length>=2){var l=o.indexOf("-",2),c=o.indexOf("blob",2),u=o.indexOf("tree",2),f=o.indexOf("commit",2),m=o.indexOf("issues",2),h=o.indexOf("src",2),p=o.indexOf("raw",2),g=o.indexOf("edit",2);a=l>0?l-1:c>0&&u>0?Math.min(c-1,u-1):c>0?c-1:m>0?m-1:u>0?u-1:f>0?f-1:h>0?h-1:p>0?p-1:g>0?g-1:a,n.owner=o.slice(0,a).join("/"),n.name=o[a],f&&m<0&&(n.commit=o[a+2])}n.ref="",n.filepathtype="",n.filepath="";var y=o.length>a&&o[a+1]==="-"?a+1:a;o.length>y+2&&["raw","src","blob","tree","edit"].indexOf(o[y+1])>=0&&(n.filepathtype=o[y+1],n.ref=o[y+2],o.length>y+3&&(n.filepath=o.slice(y+3).join("/"))),n.organization=n.owner;break}n.full_name||(n.full_name=n.owner,n.name&&(n.full_name&&(n.full_name+="/"),n.full_name+=n.name)),n.owner.startsWith("scm/")&&(n.source="bitbucket-server",n.owner=n.owner.replace("scm/",""),n.organization=n.owner,n.full_name=n.owner+"/"+n.name);var x=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,b=x.exec(n.pathname);return b!=null&&(n.source="bitbucket-server",b[1]==="users"?n.owner="~"+b[2]:n.owner=b[2],n.organization=n.owner,n.name=b[3],o=b[4].split("/"),o.length>1&&(["raw","browse"].indexOf(o[1])>=0?(n.filepathtype=o[1],o.length>2&&(n.filepath=o.slice(2).join("/"))):o[1]==="commits"&&o.length>2&&(n.commit=o[2])),n.full_name=n.owner+"/"+n.name,n.query.at?n.ref=n.query.at:n.ref=""),t.length!==0&&n.ref&&(n.ref=Xlt(n.href,t)||n.ref,n.filepath=n.href.split(n.ref+"/")[1]),n}s(tee,"gitUrlParse");tee.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",i=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+i:n+"@"+e.resource+":"+e.full_name+i;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+i;case"http":case"https":var o=e.token?Klt(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+o+e.resource+r+"/"+Jlt(e)+i;default:return e.href}};function Klt(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}s(Klt,"buildToken");function Jlt(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:var t=e.full_name.split("/").map(function(r){return encodeURIComponent(r)}).join("/");return t}}s(Jlt,"buildPath");function Xlt(e,t){var r="";return t.forEach(function(n){e.includes(n)&&n.length>r.length&&(r=n)}),r}s(Xlt,"findLongestMatchingSubstring");zxe.exports=tee});var tve=H(sg=>{"use strict";d();Object.defineProperty(sg,"__esModule",{value:!0});sg.bytePairEncode=sg.BinaryMap=sg.binaryMapKey=void 0;var oct=s((e,t,r)=>{let n=r-t,i=16777215>>>Math.max(0,(3-n)*8),o=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,a=16777215>>>Math.min(31,Math.max(0,(6-n)*8)),l=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&a;return o+16777216*l},"binaryMapKey");sg.binaryMapKey=oct;var oee=class e{static{s(this,"BinaryMap")}constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,n=t.length){let i=n<6+r,o=(0,sg.binaryMapKey)(t,r,n);return i?this.final.get(o):this.nested.get(o)?.get(t,6+r,n)}set(t,r){let n=(0,sg.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(n,r);return}let o=this.nested.get(n);if(o instanceof e)o.set(t.subarray(6),r);else{let a=new e;a.set(t.subarray(6),r),this.nested.set(n,a)}}};sg.BinaryMap=oee;var og=new Int32Array(128),p0=new Int32Array(128);function sct(e,t,r){if(r===1)return[t.get(e)];let n=2147483647,i=-1;for(;og.length<r*2;)p0=new Int32Array(p0.length*2),og=new Int32Array(og.length*2);for(let c=0;c<r-1;c++){let u=t.get(e,c,c+2)??2147483647;u<n&&(n=u,i=c),p0[c]=c,og[c]=u}p0[r-1]=r-1,og[r-1]=2147483647,p0[r]=r,og[r]=2147483647;let o=r+1;function a(c,u=0){if(c+u+2<o){let f=t.get(e,p0[c],p0[c+u+2]);if(f!==void 0)return f}return 2147483647}for(s(a,"getRank");n!==2147483647;){og[p0[i]]=a(i,1),i>0&&(og[p0[i-1]]=a(i-1,1));for(let c=i+1;c<o-1;c++)p0[c]=p0[c+1];o--,i=-1,n=2147483647;for(let c=0;c<o-1;c++){let u=og[p0[c]];og[p0[c]]<n&&(n=u,i=c)}}let l=[];for(let c=0;c<o-1;c++)l.push(t.get(e,p0[c],p0[c+1]));return l}s(sct,"bytePairEncode");sg.bytePairEncode=sct});var rve=H(HF=>{"use strict";d();Object.defineProperty(HF,"__esModule",{value:!0});HF.makeTextEncoder=void 0;var see=class{static{s(this,"UniversalTextEncoder")}constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}},aee=class{static{s(this,"NodeTextEncoder")}constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}},act=s(()=>typeof Buffer<"u"?new aee:new see,"makeTextEncoder");HF.makeTextEncoder=act});var nve=H(jF=>{"use strict";d();Object.defineProperty(jF,"__esModule",{value:!0});jF.LRUCache=void 0;var lee=class{static{s(this,"LRUCache")}constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let n=this.nodes.get(t);if(n)n.value=r,this.moveToHead(n);else{let i=new cee(t,r);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};jF.LRUCache=lee;var cee=class{static{s(this,"Node")}constructor(t,r){this.key=t,this.value=r}}});var fee=H($F=>{"use strict";d();Object.defineProperty($F,"__esModule",{value:!0});$F.TikTokenizer=void 0;var VF=tve(),lct=rve(),cct=nve();function uct(e){let t=new Map;try{let i=require("fs").readFileSync(e,"utf-8");return r(i),t}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let o=i.split(" ");if(o.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let a=new Uint8Array(Buffer.from(o[0],"base64")),l=parseInt(o[1]);if(!isNaN(l))t.set(a,l);else throw new Error(`Can't parse ${o[1]} to integer`)}}s(r,"processBpeRanks")}s(uct,"loadTikTokenBpe");function fct(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(fct,"escapeRegExp");var uee=class{static{s(this,"TikTokenizer")}constructor(t,r,n,i=8192){this.textEncoder=(0,lct.makeTextEncoder)(),this.textDecoder=new TextDecoder("utf-8"),this.cache=new cct.LRUCache(i);let o=typeof t=="string"?uct(t):t;this.init(o,r,n)}init(t,r,n){this.encoder=new VF.BinaryMap;for(let[i,o]of t)this.encoder.set(i,o);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>fct(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,o]of t)this.decoder.set(o,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,o]of r)this.specialTokensDecoder.set(o,i)}findNextSpecialToken(t,r,n){let i=r,o=null;if(n&&this.specialTokensRegex)for(;o=t.slice(i).match(this.specialTokensRegex),!(!o||n&&n.includes(o[0]));)i+=o.index+1;let a=o?i+o.index:t.length;return[o,a]}encode(t,r){let n=[],i=0;for(;;){let o,a;if([o,a]=this.findNextSpecialToken(t,i,r),a>i&&this.encodeByIndex(t,n,i,a),o){if(i=i+this.encodeSpecialToken(n,o),i>=t.length)break}else break}return n}encodeSpecialToken(t,r){let n=this.specialTokensEncoder?.get(r[0]);return t.push(n),r.index+r[0].length}encodeByIndex(t,r,n,i){let o,a=t.substring(n,i);for(this.regex.lastIndex=0;o=this.regex.exec(a);){let l=this.cache.get(o[0]);if(l)for(let c of l)r.push(c);else{let c=this.textEncoder.encode(o[0]),u=this.encoder.get(c,0,this.textEncoder.length);if(u!==void 0)r.push(u),this.cache.set(o[0],[u]);else{let f=(0,VF.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let m of f)r.push(m);this.cache.set(o[0],f)}}}}encodeTrimSuffixByIndex(t,r,n,i,o,a,l){let c,u=t.substring(n,i);for(this.regex.lastIndex=0;c=this.regex.exec(u);){let f=c[0],m=this.cache.get(f);if(m)if(a+m.length<=o)a+=m.length,l+=f.length,r.push(...m);else{let h=o-a;a+=h,l+=f.length,r.push(...m.slice(0,h));break}else{let h=this.textEncoder.encode(f),p=this.encoder.get(h,0,h.length);if(p!==void 0)if(this.cache.set(f,[p]),a+1<=o)a++,l+=f.length,r.push(p);else break;else{let g=(0,VF.bytePairEncode)(h,this.encoder,this.textEncoder.length);if(this.cache.set(f,g),a+g.length<=o){a+=g.length,l+=f.length;for(let y of g)r.push(y)}else{let y=o-a;a+=y,l+=f.length;for(let x=0;x<y;x++)r.push(g[x]);break}}}if(a>=o)break}return{tokenCount:a,encodeLength:l}}encodeTrimSuffix(t,r,n){let i=[],o=0,a=0,l=0;for(;;){let u,f;if([u,f]=this.findNextSpecialToken(t,o,n),f>o){let{tokenCount:m,encodeLength:h}=this.encodeTrimSuffixByIndex(t,i,o,f,r,a,l);if(a=m,l=h,a>=r)break}if(u!==null){if(a++,a<=r&&(o=o+this.encodeSpecialToken(i,u),l+=u[0].length,o>=t.length)||a>=r)break}else break}let c=l===t.length?t:t.slice(0,l);return{tokenIds:i,text:c}}encodeTrimPrefix(t,r,n){let i=[],o=0,a=0,l=0,c=new Map;for(c.set(a,l);;){let h,p;if([h,p]=this.findNextSpecialToken(t,o,n),p>o){let g,y=t.substring(o,p);for(this.regex.lastIndex=0;g=this.regex.exec(y);){let x=g[0],b=this.cache.get(x);if(b)a+=b.length,l+=x.length,i.push(...b),c.set(a,l);else{let E=this.textEncoder.encode(x),_=this.encoder.get(E);if(_!==void 0)this.cache.set(x,[_]),a++,l+=x.length,i.push(_),c.set(a,l);else{let k=(0,VF.bytePairEncode)(E,this.encoder,this.textEncoder.length);this.cache.set(x,k),a+=k.length,l+=x.length;for(let B of k)i.push(B);c.set(a,l)}}}}if(h!==null){if(o=o+this.encodeSpecialToken(i,h),a++,l+=h[0].length,c.set(a,l),o>=t.length)break}else break}if(a<=r)return{tokenIds:i,text:t};let u=a-r,f=0,m=0;for(let[h,p]of c)if(h>=u){f=h,m=p;break}if(f>r){let h=this.encode(t,n),p=h.slice(h.length-r);return{tokenIds:p,text:this.decode(p)}}return{tokenIds:i.slice(f),text:t.slice(m)}}decode(t){let r=[];for(let n of t){let i=[],o=this.decoder?.get(n);if(o!==void 0)i=Array.from(o);else{let a=this.specialTokensDecoder?.get(n);if(a!==void 0){let l=this.textEncoder.encode(a);i=Array.from(l.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};$F.TikTokenizer=uee});var mve=H(Va=>{"use strict";d();Object.defineProperty(Va,"__esModule",{value:!0});Va.createTokenizer=Va.createByEncoderName=Va.createByModelName=Va.getRegexByModel=Va.getRegexByEncoder=Va.getSpecialTokensByModel=Va.getSpecialTokensByEncoder=Va.MODEL_TO_ENCODING=void 0;var dct=fee(),mct=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);Va.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var zF="<|endoftext|>",ive="<|fim_prefix|>",ove="<|fim_middle|>",sve="<|fim_suffix|>",ave="<|endofprompt|>",T_="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",lve="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",hct=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],cve=hct.join("|");function dee(e){let t="";if(Va.MODEL_TO_ENCODING.has(e))t=Va.MODEL_TO_ENCODING.get(e);else for(let[r,n]of mct)if(e.startsWith(r)){t=n;break}return t}s(dee,"getEncoderFromModelName");async function pct(e,t){let r=require("fs"),n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${n.status}`);let i=await n.text();r.writeFileSync(t,i)}s(pct,"fetchAndSaveFile");function mee(e){let t=new Map([[zF,50256]]);switch(e){case"o200k_base":t=new Map([[zF,199999],[ave,200018]]);break;case"cl100k_base":t=new Map([[zF,100257],[ive,100258],[ove,100259],[sve,100260],[ave,100276]]);break;case"p50k_edit":t=new Map([[zF,50256],[ive,50281],[ove,50282],[sve,50283]]);break;default:break}return t}s(mee,"getSpecialTokensByEncoder");Va.getSpecialTokensByEncoder=mee;function gct(e){let t=dee(e);return mee(t)}s(gct,"getSpecialTokensByModel");Va.getSpecialTokensByModel=gct;function uve(e){switch(e){case"o200k_base":return cve;case"cl100k_base":return lve;default:break}return T_}s(uve,"getRegexByEncoder");Va.getRegexByEncoder=uve;function Act(e){let t=dee(e);return uve(t)}s(Act,"getRegexByModel");Va.getRegexByModel=Act;async function yct(e,t=null){return fve(dee(e),t)}s(yct,"createByModelName");Va.createByModelName=yct;async function fve(e,t=null){let r,n,i=mee(e);switch(e){case"o200k_base":r=cve,n="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=lve,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=T_,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=T_,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=T_,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=T_,n="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let o=require("fs"),a=require("path"),l=a.basename(n),c=a.resolve(__dirname,"..","model");o.existsSync(c)||o.mkdirSync(c,{recursive:!0});let u=a.resolve(c,l);return o.existsSync(u)||(console.log(`Downloading file from ${n}`),await pct(n,u),console.log(`Saved file to ${u}`)),dve(u,i,r)}s(fve,"createByEncoderName");Va.createByEncoderName=fve;function dve(e,t,r,n=8192){return new dct.TikTokenizer(e,t,r,n)}s(dve,"createTokenizer");Va.createTokenizer=dve});var hve=H($a=>{"use strict";d();Object.defineProperty($a,"__esModule",{value:!0});$a.createTokenizer=$a.createByEncoderName=$a.createByModelName=$a.getSpecialTokensByModel=$a.getSpecialTokensByEncoder=$a.getRegexByModel=$a.getRegexByEncoder=$a.MODEL_TO_ENCODING=$a.TikTokenizer=void 0;var Cct=fee();Object.defineProperty($a,"TikTokenizer",{enumerable:!0,get:s(function(){return Cct.TikTokenizer},"get")});var k5=mve();Object.defineProperty($a,"MODEL_TO_ENCODING",{enumerable:!0,get:s(function(){return k5.MODEL_TO_ENCODING},"get")});Object.defineProperty($a,"getRegexByEncoder",{enumerable:!0,get:s(function(){return k5.getRegexByEncoder},"get")});Object.defineProperty($a,"getRegexByModel",{enumerable:!0,get:s(function(){return k5.getRegexByModel},"get")});Object.defineProperty($a,"getSpecialTokensByEncoder",{enumerable:!0,get:s(function(){return k5.getSpecialTokensByEncoder},"get")});Object.defineProperty($a,"getSpecialTokensByModel",{enumerable:!0,get:s(function(){return k5.getSpecialTokensByModel},"get")});Object.defineProperty($a,"createByModelName",{enumerable:!0,get:s(function(){return k5.createByModelName},"get")});Object.defineProperty($a,"createByEncoderName",{enumerable:!0,get:s(function(){return k5.createByEncoderName},"get")});Object.defineProperty($a,"createTokenizer",{enumerable:!0,get:s(function(){return k5.createTokenizer},"get")})});var bve=H((exports,module)=>{d();var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{static{s(this,"Parser")}constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=s((e,t)=>{throw t},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}s(locateFile,"locateFile");function logExceptionOnExit(e){e instanceof ExitStatus||err("exiting due to exception: "+e)}if(s(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=s((e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),"read_"),readBinary=s(e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},"readBinary"),readAsync=s((e,t,r)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,function(n,i){n?r(n):t(i.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=s((e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=s(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=s(e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},"readBinary")),readAsync=s((e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?t(n.response):r()},n.onerror=r,n.send(null)},"readAsync"),setWindowTitle=s(e=>document.title=e,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var l=63&e[t++];if((224&a)!=192){var c=63&e[t++];if((a=(240&a)==224?(15&a)<<12|l<<6|c:(7&a)<<18|l<<12|c<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|l)}else o+=String.fromCharCode(a)}return o}s(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}s(UTF8ToString,"UTF8ToString");function stringToUTF8Array(e,t,r,n){if(!(n>0))return 0;for(var i=r,o=r+n-1,a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l>=55296&&l<=57343&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++a)),l<=127){if(r>=o)break;t[r++]=l}else if(l<=2047){if(r+1>=o)break;t[r++]=192|l>>6,t[r++]=128|63&l}else if(l<=65535){if(r+2>=o)break;t[r++]=224|l>>12,t[r++]=128|l>>6&63,t[r++]=128|63&l}else{if(r+3>=o)break;t[r++]=240|l>>18,t[r++]=128|l>>12&63,t[r++]=128|l>>6&63,t[r++]=128|63&l}}return t[r]=0,r-i}s(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}s(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}s(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}s(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}s(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}s(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}s(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}s(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}s(postRun,"postRun");function addOnPreRun(e){__ATPRERUN__.unshift(e)}s(addOnPreRun,"addOnPreRun");function addOnInit(e){__ATINIT__.unshift(e)}s(addOnInit,"addOnInit");function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}s(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}s(addRunDependency,"addRunDependency");function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}s(removeRunDependency,"removeRunDependency");function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}s(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}s(isDataURI,"isDataURI");function isFileURI(e){return e.startsWith("file://")}s(isFileURI,"isFileURI");function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(t){abort(t)}}s(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(e,t){readAsync(wasmBinaryFile,function(r){e(new Uint8Array(r))},t)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}s(getBinaryPromise,"getBinaryPromise");function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function t(i,o){var a=i.exports;a=relocateExports(a,1024);var l=getDylinkMetadata(o);l.neededDynlibs&&(dynamicLibraries=l.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(a,"main"),Module.asm=a,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}s(t,"t");function r(i){t(i.instance,i.module)}s(r,"r");function n(i){return getBinaryPromise().then(function(o){return WebAssembly.instantiate(o,e)}).then(function(o){return o}).then(i,function(o){err("failed to asynchronously prepare wasm: "+o),abort(o)})}if(s(n,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,e).then(r,function(o){return err("wasm streaming compile failed: "+o),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}s(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}s(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:s(function(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(r.required=!0),r},"get")};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}s(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(e){var t=0,r=0;function n(){for(var b=0,E=1;;){var _=e[t++];if(b+=(127&_)*E,E*=128,!(128&_))break}return b}s(n,"_");function i(){var b=n();return UTF8ArrayToString(e,(t+=b)-b,b)}s(i,"n");function o(b,E){if(b)throw new Error(E)}s(o,"s");var a="dylink.0";if(e instanceof WebAssembly.Module){var l=WebAssembly.Module.customSections(e,a);l.length===0&&(a="dylink",l=WebAssembly.Module.customSections(e,a)),o(l.length===0,"need dylink section"),r=(e=new Uint8Array(l[0])).length}else{o(new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),o(e[8]!==0,"need the dylink section to be first"),t=9;var c=n();r=t+c,a=i()}var u={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(a=="dylink"){u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();for(var f=n(),m=0;m<f;++m){var h=i();u.neededDynlibs.push(h)}}else for(o(a!=="dylink.0");t<r;){var p=e[t++],g=n();if(p===1)u.memorySize=n(),u.memoryAlign=n(),u.tableSize=n(),u.tableAlign=n();else if(p===2)for(f=n(),m=0;m<f;++m)h=i(),u.neededDynlibs.push(h);else if(p===3)for(var y=n();y--;){var x=i();256&n()&&u.tlsExports.add(x)}else if(p===4)for(y=n();y--;)i(),x=i(),(3&n())==1&&u.weakImports.add(x);else t+=g}return u}s(getDylinkMetadata,"getDylinkMetadata");function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort("invalid type for getValue: "+t)}return null}s(getValue,"getValue");function asmjsMangle(e){return e.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}s(asmjsMangle,"asmjsMangle");function mergeLibSymbols(e,t){for(var r in e)if(e.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=e[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=e[r]),r=="__main_argc_argv"&&(Module._main=e[r])}}s(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,r){var n=Module["dynCall_"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}s(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}s(getWasmTableEntry,"getWasmTableEntry");function dynCall(e,t,r){return e.includes("j")?dynCallLegacy(e,t,r):getWasmTableEntry(t).apply(null,r)}s(dynCall,"dynCall");function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(t),r!==r+0)throw r;_setThrew(1,0)}}}s(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}s(zeroMemory,"zeroMemory");function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+e+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,t}s(getMemory,"getMemory");function isInternalSym(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(e)}s(isInternalSym,"isInternalSym");function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}s(uleb128Encode,"uleb128Encode");function sigToWasmTypes(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},n=1;n<e.length;++n)r.parameters.push(t[e[n]]),e[n]==="j"&&r.parameters.push("i32");return r}s(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(e,t){var r=e.slice(0,1),n=e.slice(1),i={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(n.length,t);for(var o=0;o<n.length;++o)t.push(i[n[o]]);r=="v"?t.push(0):t.push(1,i[r])}s(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(e,t){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:e}}).exports.f}s(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(e,t){if(functionsInTableMap)for(var r=e;r<e+t;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}s(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return wasmTable.length-1}s(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}s(setWasmTableEntry,"setWasmTableEntry");function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,r),r}s(addFunction,"addFunction");function updateGOT(e,t){for(var r in e)if(!isInternalSym(r)){var n=e[r];r.startsWith("orig$")&&(r=r.split("$")[1],t=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}s(updateGOT,"updateGOT");function relocateExports(e,t,r){var n={};for(var i in e){var o=e[i];typeof o=="object"&&(o=o.value),typeof o=="number"&&(o+=t),n[i]=o}return updateGOT(n,r),n}s(relocateExports,"relocateExports");function resolveGlobalSymbol(e,t){var r;return t&&(r=asmLibraryArg["orig$"+e]),r||(r=asmLibraryArg[e])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(e)]),!r&&e.startsWith("invoke_")&&(r=createInvokeFunction(e.split("_")[1])),r}s(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(e,t){return Math.ceil(e/t)*t}s(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}s(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:s(function(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(t in asmLibraryArg)return asmLibraryArg[t];var r;return t in e||(e[t]=function(){return r||(r=resolveSymbol(t)),r.apply(null,arguments)}),e[t]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(s(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(s(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(e){return postInstantiation(e.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return s(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(e){loadDynamicLibrary(e,flags)}),loadModule())}s(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(e,t,r){t=t||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[e];if(n)return t.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,e)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!t.loadAsync||Promise.resolve(!0);function i(l){if(t.fs&&t.fs.findObject(l)){var c=t.fs.readFile(l,{encoding:"binary"});return c instanceof Uint8Array||(c=new Uint8Array(c)),t.loadAsync?Promise.resolve(c):c}if(l=locateFile(l),t.loadAsync)return new Promise(function(u,f){readAsync(l,m=>u(new Uint8Array(m)),f)});if(!readBinary)throw new Error(l+": file not found, and synchronous loading of external files is not available");return readBinary(l)}s(i,"n");function o(){if(typeof preloadedWasm<"u"&&preloadedWasm[e]){var l=preloadedWasm[e];return t.loadAsync?Promise.resolve(l):l}return t.loadAsync?i(e).then(function(c){return loadWebAssemblyModule(c,t,r)}):loadWebAssemblyModule(i(e),t,r)}s(o,"s");function a(l){n.global&&mergeLibSymbols(l,e),n.module=l}return s(a,"a"),n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},LDSO.loadedLibsByName[e]=n,r&&(LDSO.loadedLibsByHandle[r]=n),t.loadAsync?o().then(function(l){return a(l),!0}):(a(o()),!0)}s(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var e in GOT)if(GOT[e].value==0){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if(typeof t=="function")GOT[e].value=addFunction(t,t.sig);else{if(typeof t!="number")throw new Error("bad export type for `"+e+"`: "+typeof t);GOT[e].value=t}}}s(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(e,t){return e.then(function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}s(preloadDylibs,"preloadDylibs");function setValue(e,t,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort("invalid type for setValue: "+r)}}s(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}s(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}s(_abort,"_abort");function _emscripten_date_now(){return Date.now()}s(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}s(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}s(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}s(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var n=1;n<=4;n*=2){var i=t*(1+.2/n);if(i=Math.min(i,e+100663296),emscripten_realloc_buffer(Math.min(r,(o=Math.max(e,i))+((a=65536)-o%a)%a)))return!0}var o,a;return!1}s(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:s(function(e,t,r){if(PATH.isAbs(t))return t;var n;if(e===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(e).path,t.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,t)},"calculateAt"),doStat:s(function(e,t,r){try{var n=e(t)}catch(l){if(l&&l.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(l.node)))return-54;throw l}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),o=n.mtime.getTime(),a=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(o/1e3)>>>0,(tempDouble=Math.floor(o/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=o%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},"doStat"),doMsync:s(function(e,t,r,n,i){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var o=HEAPU8.slice(e,e+r);FS.msync(t,o,i,r,n)},"doMsync"),varargs:void 0,get:s(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:s(function(e){return UTF8ToString(e)},"getStr"),getStreamFromFD:s(function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t},"getStreamFromFD")};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}s(_proc_exit,"_proc_exit");function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}s(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}s(_fd_close,"_fd_close");function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}s(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(e,t,r,n,i){try{var o=convertI32PairToI53Checked(t,r);if(isNaN(o))return 61;var a=SYSCALLS.getStreamFromFD(e);return FS.llseek(a,o,n),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],a.getdents&&o===0&&n===0&&(a.getdents=null),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}s(_fd_seek,"_fd_seek");function doWritev(e,t,r,n){for(var i=0,o=0;o<r;o++){var a=HEAPU32[t>>2],l=HEAPU32[t+4>>2];t+=8;var c=FS.write(e,HEAP8,a,l,n);if(c<0)return-1;i+=c,n!==void 0&&(n+=c)}return i}s(doWritev,"doWritev");function _fd_write(e,t,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(e),t,r);return HEAPU32[n>>2]=i,0}catch(o){if(typeof FS>"u"||!(o instanceof FS.ErrnoError))throw o;return o.errno}}s(_fd_write,"_fd_write");function _tree_sitter_log_callback(e,t){if(currentLogCallback){let r=UTF8ToString(t);currentLogCallback(r,e!==0)}}s(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(e,t,r,n,i){var o=currentParseCallback(t,{row:r,column:n});typeof o=="string"?(setValue(i,o.length,"i32"),stringToUTF16(o,e,10240)):setValue(i,0,"i32")}s(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(e){if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)}s(handleException,"handleException");function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8Array(e,HEAP8,r,t),r}s(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(e,t,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=t,i=(r-=2)<2*e.length?r/2:e.length,o=0;o<i;++o){var a=e.charCodeAt(o);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-n}s(stringToUTF16,"stringToUTF16");function AsciiToString(e){for(var t="";;){var r=HEAPU8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}s(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var r=e.length,n=stackAlloc(4*(r+1)),i=n>>2;e.forEach(a=>{HEAP32[i++]=allocateUTF8OnStack(a)}),HEAP32[i]=0;try{var o=t(r,n);return exitJS(o,!0),o}catch(a){return handleException(a)}}}s(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=s(function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)},"e");var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}s(t,"t"),e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}if(s(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static{s(this,"ParserImpl")}static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(t){let r;if(t){if(t.constructor!==Language)throw new Error("Argument must be a Language");{r=t[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,t=null;return this.language=t,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(t,r,n){if(typeof t=="string")currentParseCallback=s((c,u,f)=>t.slice(c,f),"currentParseCallback");else{if(typeof t!="function")throw new Error("Argument must be a string or a function");currentParseCallback=t}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,o=0;if(n&&n.includedRanges){i=n.includedRanges.length,o=C._calloc(i,SIZE_OF_RANGE);let c=o;for(let u=0;u<i;u++)marshalRange(c,n.includedRanges[u]),c+=SIZE_OF_RANGE}let a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,o,i);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(t){C._ts_parser_set_timeout_micros(this[0],t)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(t){if(t){if(typeof t!="function")throw new Error("Logger callback must be a function")}else t=null;return this.logCallback=t,this}getLogger(){return this.logCallback}}class Tree{static{s(this,"Tree")}constructor(t,r,n,i){assertInternal(t),this[0]=r,this.language=n,this.textCallback=i}copy(){let t=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,t,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(t){marshalEdit(t),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(t){if(t.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],t[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let o=n;for(let a=0;a<r;a++)i[a]=unmarshalRange(o),o+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{static{s(this,"Node")}constructor(t,r){assertInternal(t),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(t){return this.id===t.id}child(t){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}namedChild(t){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldId(t){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],t),unmarshalNode(this.tree)}childForFieldName(t){let r=this.tree.language.fields.indexOf(t);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let t=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(t),t>0){let n=r;for(let i=0;i<t;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(t,r,n){Array.isArray(t)||(t=[t]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],o=this.tree.language.types;for(let f=0,m=o.length;f<m;f++)t.includes(o[f])&&i.push(f);let a=C._malloc(SIZE_OF_INT*i.length);for(let f=0,m=i.length;f<m;f++)setValue(a+f*SIZE_OF_INT,i[f],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,i.length,r.row,r.column,n.row,n.column);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=new Array(l);if(l>0){let f=c;for(let m=0;m<l;m++)u[m]=unmarshalNode(this.tree,f),f+=SIZE_OF_NODE}return C._free(c),C._free(a),u}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(t,r=t){if(typeof t!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,t,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(t,r=t){if(!isPoint(t)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,t),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let t=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(t);return C._free(t),r}}class TreeCursor{static{s(this,"TreeCursor")}constructor(t,r){assertInternal(t),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(t){marshalNode(t),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let t=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,t,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoNextSibling(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}gotoParent(){marshalTreeCursor(this);let t=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),t===1}}class Language{static{s(this,"Language")}constructor(t,r){assertInternal(t),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let o=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=o!==0?UTF8ToString(o):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(t){let r=this.fields.indexOf(t);return r!==-1?r:null}fieldNameForId(t){return this.fields[t]||null}idForNodeType(t,r){let n=lengthBytesUTF8(t),i=C._malloc(n+1);stringToUTF8(t,i,n+1);let o=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),o||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(t){let r=C._ts_language_symbol_name(this[0],t);return r?UTF8ToString(r):null}nodeTypeIsNamed(t){return!!C._ts_language_type_is_named_wasm(this[0],t)}nodeTypeIsVisible(t){return!!C._ts_language_type_is_visible_wasm(this[0],t)}query(t){let r=lengthBytesUTF8(t),n=C._malloc(r+1);stringToUTF8(t,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let y=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),x=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,b=t.substr(x,100).split(`
`)[0],E,_=b.match(QUERY_WORD_REGEX)[0];switch(y){case 2:E=new RangeError(`Bad node name '${_}'`);break;case 3:E=new RangeError(`Bad field name '${_}'`);break;case 4:E=new RangeError(`Bad capture name @${_}`);break;case 5:E=new TypeError(`Bad pattern structure at offset ${x}: '${b}'...`),_="";break;default:E=new SyntaxError(`Bad syntax at offset ${x}: '${b}'...`),_=""}throw E.index=x,E.length=_.length,C._free(n),E}let o=C._ts_query_string_count(i),a=C._ts_query_capture_count(i),l=C._ts_query_pattern_count(i),c=new Array(a),u=new Array(o);for(let y=0;y<a;y++){let x=C._ts_query_capture_name_for_id(i,y,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");c[y]=UTF8ToString(x,b)}for(let y=0;y<o;y++){let x=C._ts_query_string_value_for_id(i,y,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");u[y]=UTF8ToString(x,b)}let f=new Array(l),m=new Array(l),h=new Array(l),p=new Array(l),g=new Array(l);for(let y=0;y<l;y++){let x=C._ts_query_predicates_for_pattern(i,y,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");p[y]=[],g[y]=[];let E=[],_=x;for(let k=0;k<b;k++){let B=getValue(_,"i32");_+=SIZE_OF_INT;let N=getValue(_,"i32");if(_+=SIZE_OF_INT,B===PREDICATE_STEP_TYPE_CAPTURE)E.push({type:"capture",name:c[N]});else if(B===PREDICATE_STEP_TYPE_STRING)E.push({type:"string",value:u[N]});else if(E.length>0){if(E[0].type!=="string")throw new Error("Predicates must begin with a literal value");let M=E[0].value,te=!0;switch(M){case"not-eq?":te=!1;case"eq?":if(E.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(E.length-1));if(E[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${E[1].value}"`);if(E[2].type==="capture"){let q=E[1].name,ie=E[2].name;g[y].push(function(z){let j,U;for(let V of z)V.name===q&&(j=V.node),V.name===ie&&(U=V.node);return j===void 0||U===void 0||j.text===U.text===te})}else{let q=E[1].name,ie=E[2].value;g[y].push(function(z){for(let j of z)if(j.name===q)return j.node.text===ie===te;return!0})}break;case"not-match?":te=!1;case"match?":if(E.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${E.length-1}.`);if(E[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${E[1].value}".`);if(E[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${E[2].value}.`);let de=E[1].name,Z=new RegExp(E[2].value);g[y].push(function(q){for(let ie of q)if(ie.name===de)return Z.test(ie.node.text)===te;return!0});break;case"set!":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(q=>q.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');f[y]||(f[y]={}),f[y][E[1].value]=E[2]?E[2].value:null;break;case"is?":case"is-not?":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#${M}\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(q=>q.type!=="string"))throw new Error(`Arguments to \`#${M}\` predicate must be a strings.".`);let G=M==="is?"?m:h;G[y]||(G[y]={}),G[y][E[1].value]=E[2]?E[2].value:null;break;default:p[y].push({operator:M,operands:E.slice(1)})}E.length=0}}Object.freeze(f[y]),Object.freeze(m[y]),Object.freeze(h[y])}return C._free(n),new Query(INTERNAL,i,c,g,p,Object.freeze(f),Object.freeze(m),Object.freeze(h))}static load(t){let r;if(t instanceof Uint8Array)r=Promise.resolve(t);else{let i=t;if(typeof process<"u"&&process.versions&&process.versions.node){let o=require("fs");r=Promise.resolve(o.readFileSync(i))}else r=fetch(i).then(o=>o.arrayBuffer().then(a=>{if(o.ok)return new Uint8Array(a);{let l=new TextDecoder("utf-8").decode(a);throw new Error(`Language.load failed with status ${o.status}.

${l}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let o=Object.keys(i),a=o.find(c=>LANGUAGE_FUNCTION_REGEX.test(c)&&!c.includes("external_scanner_"));a||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(o,null,2)}`);let l=i[a]();return new Language(INTERNAL,l)})}}class Query{static{s(this,"Query")}constructor(t,r,n,i,o,a,l,c){assertInternal(t),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=o,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=c,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let o=i.matchLimit;if(o===void 0)o=0;else if(typeof o!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_matches_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,o);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=new Array(a);this.exceededMatchLimit=!!c;let f=0,m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let g=getValue(m,"i32");m+=SIZE_OF_INT;let y=new Array(g);if(m=unmarshalCaptures(this,t.tree,m,y),this.textPredicates[p].every(x=>x(y))){u[f++]={pattern:p,captures:y};let x=this.setProperties[p];x&&(u[h].setProperties=x);let b=this.assertedProperties[p];b&&(u[h].assertedProperties=b);let E=this.refutedProperties[p];E&&(u[h].refutedProperties=E)}}return u.length=f,C._free(l),u}captures(t,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let o=i.matchLimit;if(o===void 0)o=0;else if(typeof o!="number")throw new Error("Arguments must be numbers");marshalNode(t),C._ts_query_captures_wasm(this[0],t.tree[0],r.row,r.column,n.row,n.column,o);let a=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),u=[];this.exceededMatchLimit=!!c;let f=[],m=l;for(let h=0;h<a;h++){let p=getValue(m,"i32");m+=SIZE_OF_INT;let g=getValue(m,"i32");m+=SIZE_OF_INT;let y=getValue(m,"i32");if(m+=SIZE_OF_INT,f.length=g,m=unmarshalCaptures(this,t.tree,m,f),this.textPredicates[p].every(x=>x(f))){let x=f[y],b=this.setProperties[p];b&&(x.setProperties=b);let E=this.assertedProperties[p];E&&(x.assertedProperties=E);let _=this.refutedProperties[p];_&&(x.refutedProperties=_),u.push(x)}}return C._free(l),u}predicatesForPattern(t){return this.predicates[t]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){let n=r-t,i=e.textCallback(t,null,r);for(t+=i.length;t<r;){let o=e.textCallback(t,null,r);if(!(o&&o.length>0))break;t+=o.length,i+=o}return t>r&&(i=i.slice(0,n)),i}s(getText,"getText");function unmarshalCaptures(e,t,r,n){for(let i=0,o=n.length;i<o;i++){let a=getValue(r,"i32"),l=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:e.captureNames[a],node:l}}return r}s(unmarshalCaptures,"unmarshalCaptures");function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}s(assertInternal,"assertInternal");function isPoint(e){return e&&typeof e.row=="number"&&typeof e.column=="number"}s(isPoint,"isPoint");function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}s(marshalNode,"marshalNode");function unmarshalNode(e,t=TRANSFER_BUFFER){let r=getValue(t,"i32");if(r===0)return null;let n=getValue(t+=SIZE_OF_INT,"i32"),i=getValue(t+=SIZE_OF_INT,"i32"),o=getValue(t+=SIZE_OF_INT,"i32"),a=getValue(t+=SIZE_OF_INT,"i32"),l=new Node(INTERNAL,e);return l.id=r,l.startIndex=n,l.startPosition={row:i,column:o},l[0]=a,l}s(unmarshalNode,"unmarshalNode");function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32")}s(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}s(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}s(marshalPoint,"marshalPoint");function unmarshalPoint(e){return{row:getValue(e,"i32"),column:getValue(e+SIZE_OF_INT,"i32")}}s(unmarshalPoint,"unmarshalPoint");function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}s(marshalRange,"marshalRange");function unmarshalRange(e){let t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32"),e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32"),t}s(unmarshalRange,"unmarshalRange");function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}s(marshalEdit,"marshalEdit");for(let e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var ite=H((Ivr,Jve)=>{d();var nte=require("fs"),SM=require("path"),J_=SM.join,nut=SM.dirname,Yve=nte.accessSync&&function(e){try{nte.accessSync(e)}catch{return!1}return!0}||nte.existsSync||SM.existsSync,Kve={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function iut(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(Kve).map(function(c){c in e||(e[c]=Kve[c])}),e.module_root||(e.module_root=sut(__filename)),SM.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=e.try.length,o,a,l;n<i;n++){o=J_.apply(null,e.try[n].map(function(c){return e[c]||c})),r.push(o);try{return a=e.path?t.resolve(o):t(o),e.path||(a.path=o),a}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw l=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return e.arrow+c}).join(`
`)),l.tries=r,l}s(iut,"bindings");Jve.exports=iut;function sut(e){for(var t=nut(e),r;;){if(t==="."&&(t=process.cwd()),Yve(J_(t,"dist")))return J_(t,"dist");if(Yve(J_(t,"compiled")))return t;if(r===t)throw new Error('Could not find module root given file: "'+e+'". Do you have a `dist` or `compiled` directory? ');r=t,t=J_(t,"..")}}s(sut,"getRoot")});var Zve=H((_vr,Xve)=>{d();Xve.exports=ite()("node_sqlite3.node")});var rbe=H(tbe=>{d();var aut=require("util");function lut(e,t,r){let n=e[t];e[t]=function(){let i=new Error,o=e.constructor.name+"#"+t+"("+Array.prototype.slice.call(arguments).map(function(l){return aut.inspect(l,!1,0)}).join(", ")+")";typeof r>"u"&&(r=-1),r<0&&(r+=arguments.length);let a=arguments[r];return typeof arguments[r]=="function"&&(arguments[r]=s(function(){let c=arguments[0];return c&&c.stack&&!c.__augmented&&(c.stack=ebe(c).join(`
`),c.stack+=`
--> in `+o,c.stack+=`
`+ebe(i).slice(1).join(`
`),c.__augmented=!0),a.apply(this,arguments)},"replacement")),n.apply(this,arguments)}}s(lut,"extendTrace");tbe.extendTrace=lut;function ebe(e){return e.stack.split(`
`).filter(function(t){return t.indexOf(__filename)<0})}s(ebe,"filter")});var sbe=H((ibe,obe)=>{d();var cut=require("path"),Pd=Zve(),A8=require("events").EventEmitter;obe.exports=ibe=Pd;function y8(e){return function(t){let r,n=Array.prototype.slice.call(arguments,1);if(typeof n[n.length-1]=="function"){let o=n[n.length-1];r=s(function(a){a&&o(a)},"errBack")}let i=new RM(this,t,r);return e.call(this,i,n)}}s(y8,"normalizeMethod");function ste(e,t){for(let r in t.prototype)e.prototype[r]=t.prototype[r]}s(ste,"inherits");Pd.cached={Database:s(function(e,t,r){if(e===""||e===":memory:")return new A0(e,t,r);let n;if(e=cut.resolve(e),!Pd.cached.objects[e])n=Pd.cached.objects[e]=new A0(e,t,r);else{n=Pd.cached.objects[e];let o=typeof t=="number"?r:t;if(typeof o=="function"){let a=function(){o.call(n,null)};var i=a;s(a,"cb"),n.open?process.nextTick(a):n.once("open",a)}}return n},"Database"),objects:{}};var A0=Pd.Database,RM=Pd.Statement,ote=Pd.Backup;ste(A0,A8);ste(RM,A8);ste(ote,A8);A0.prototype.prepare=y8(function(e,t){return t.length?e.bind.apply(e,t):e});A0.prototype.run=y8(function(e,t){return e.run.apply(e,t).finalize(),this});A0.prototype.get=y8(function(e,t){return e.get.apply(e,t).finalize(),this});A0.prototype.all=y8(function(e,t){return e.all.apply(e,t).finalize(),this});A0.prototype.each=y8(function(e,t){return e.each.apply(e,t).finalize(),this});A0.prototype.map=y8(function(e,t){return e.map.apply(e,t).finalize(),this});A0.prototype.backup=function(){let e;return arguments.length<=2?e=new ote(this,arguments[0],"main","main",!0,arguments[1]):e=new ote(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),e.retryErrors=[Pd.BUSY,Pd.LOCKED],e};RM.prototype.map=function(){let e=Array.prototype.slice.call(arguments),t=e.pop();return e.push(function(r,n){if(r)return t(r);let i={};if(n.length){let o=Object.keys(n[0]),a=o[0];if(o.length>2)for(let l=0;l<n.length;l++)i[n[l][a]]=n[l];else{let l=o[1];for(let c=0;c<n.length;c++)i[n[c][a]]=n[c][l]}}t(r,i)}),this.all.apply(this,e)};var nbe=!1,ate=["trace","profile","change"];A0.prototype.addListener=A0.prototype.on=function(e){let t=A8.prototype.addListener.apply(this,arguments);return ate.indexOf(e)>=0&&this.configure(e,!0),t};A0.prototype.removeListener=function(e){let t=A8.prototype.removeListener.apply(this,arguments);return ate.indexOf(e)>=0&&!this._events[e]&&this.configure(e,!1),t};A0.prototype.removeAllListeners=function(e){let t=A8.prototype.removeAllListeners.apply(this,arguments);return ate.indexOf(e)>=0&&this.configure(e,!1),t};Pd.verbose=function(){if(!nbe){let e=rbe();["prepare","get","run","all","each","map","close","exec"].forEach(function(t){e.extendTrace(A0.prototype,t)}),["bind","get","run","all","each","map","reset","finalize"].forEach(function(t){e.extendTrace(RM.prototype,t)}),nbe=!0}return Pd}});var WM=H(Ya=>{"use strict";d();Object.defineProperty(Ya,"__esModule",{value:!0});Ya.thenable=Ya.typedArray=Ya.stringArray=Ya.array=Ya.func=Ya.error=Ya.number=Ya.string=Ya.boolean=void 0;function fut(e){return e===!0||e===!1}s(fut,"boolean");Ya.boolean=fut;function fbe(e){return typeof e=="string"||e instanceof String}s(fbe,"string");Ya.string=fbe;function dut(e){return typeof e=="number"||e instanceof Number}s(dut,"number");Ya.number=dut;function mut(e){return e instanceof Error}s(mut,"error");Ya.error=mut;function dbe(e){return typeof e=="function"}s(dbe,"func");Ya.func=dbe;function mbe(e){return Array.isArray(e)}s(mbe,"array");Ya.array=mbe;function hut(e){return mbe(e)&&e.every(t=>fbe(t))}s(hut,"stringArray");Ya.stringArray=hut;function put(e,t){return Array.isArray(e)&&e.every(t)}s(put,"typedArray");Ya.typedArray=put;function gut(e){return e&&dbe(e.then)}s(gut,"thenable");Ya.thenable=gut});var ute=H(Nd=>{"use strict";d();Object.defineProperty(Nd,"__esModule",{value:!0});Nd.generateUuid=Nd.parse=Nd.isUUID=Nd.v4=Nd.empty=void 0;var eS=class{static{s(this,"ValueUUID")}constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},tS=class e extends eS{static{s(this,"V4UUID")}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}};tS._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];tS._timeHighBits=["8","9","a","b"];Nd.empty=new eS("00000000-0000-0000-0000-000000000000");function hbe(){return new tS}s(hbe,"v4");Nd.v4=hbe;var Aut=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function pbe(e){return Aut.test(e)}s(pbe,"isUUID");Nd.isUUID=pbe;function yut(e){if(!pbe(e))throw new Error("invalid uuid");return new eS(e)}s(yut,"parse");Nd.parse=yut;function Cut(){return hbe().asHex()}s(Cut,"generateUuid");Nd.generateUuid=Cut});var gbe=H(N5=>{"use strict";d();Object.defineProperty(N5,"__esModule",{value:!0});N5.attachPartialResult=N5.ProgressFeature=N5.attachWorkDone=void 0;var P5=ii(),xut=ute(),dv=class e{static{s(this,"WorkDoneProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r,e.Instances.set(this._token,this)}begin(t,r,n,i){let o={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(P5.WorkDoneProgress.type,this._token,o)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(P5.WorkDoneProgress.type,this._token,n)}done(){e.Instances.delete(this._token),this._connection.sendProgress(P5.WorkDoneProgress.type,this._token,{kind:"end"})}};dv.Instances=new Map;var GM=class extends dv{static{s(this,"WorkDoneProgressServerReporterImpl")}constructor(t,r){super(t,r),this._source=new P5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},rS=class{static{s(this,"NullProgressReporter")}constructor(){}begin(){}report(){}done(){}},HM=class extends rS{static{s(this,"NullProgressServerReporter")}constructor(){super(),this._source=new P5.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function vut(e,t){if(t===void 0||t.workDoneToken===void 0)return new rS;let r=t.workDoneToken;return delete t.workDoneToken,new dv(e,r)}s(vut,"attachWorkDone");N5.attachWorkDone=vut;var but=s(e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(P5.WorkDoneProgressCancelNotification.type,r=>{let n=dv.Instances.get(r.token);(n instanceof GM||n instanceof HM)&&n.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new rS:new dv(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,xut.generateUuid)();return this.connection.sendRequest(P5.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new GM(this.connection,t))}else return Promise.resolve(new HM)}},"ProgressFeature");N5.ProgressFeature=but;var fte;(function(e){e.type=new P5.ProgressType})(fte||(fte={}));var dte=class{static{s(this,"ResultProgressReporterImpl")}constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(fte.type,this._token,t)}};function Eut(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new dte(e,r)}s(Eut,"attachPartialResult");N5.attachPartialResult=Eut});var Abe=H(jM=>{"use strict";d();Object.defineProperty(jM,"__esModule",{value:!0});jM.ConfigurationFeature=void 0;var Iut=ii(),Tut=WM(),wut=s(e=>class extends e{getConfiguration(t){return t?Tut.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(Iut.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(t)?n:n[0]:Array.isArray(t)?[]:null)}},"ConfigurationFeature");jM.ConfigurationFeature=wut});var ybe=H($M=>{"use strict";d();Object.defineProperty($M,"__esModule",{value:!0});$M.WorkspaceFoldersFeature=void 0;var VM=ii(),_ut=s(e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new VM.Emitter,this.connection.onNotification(VM.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let r=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(VM.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(VM.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}},"WorkspaceFoldersFeature");$M.WorkspaceFoldersFeature=_ut});var Cbe=H(zM=>{"use strict";d();Object.defineProperty(zM,"__esModule",{value:!0});zM.CallHierarchyFeature=void 0;var mte=ii(),Sut=s(e=>class extends e{get callHierarchy(){return{onPrepare:s(t=>this.connection.onRequest(mte.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onIncomingCalls:s(t=>{let r=mte.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onIncomingCalls"),onOutgoingCalls:s(t=>{let r=mte.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onOutgoingCalls")}}},"CallHierarchyFeature");zM.CallHierarchyFeature=Sut});var pte=H(L5=>{"use strict";d();Object.defineProperty(L5,"__esModule",{value:!0});L5.SemanticTokensBuilder=L5.SemanticTokensDiff=L5.SemanticTokensFeature=void 0;var YM=ii(),Rut=s(e=>class extends e{get semanticTokens(){return{refresh:s(()=>this.connection.sendRequest(YM.SemanticTokensRefreshRequest.type),"refresh"),on:s(t=>{let r=YM.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on"),onDelta:s(t=>{let r=YM.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onDelta"),onRange:s(t=>{let r=YM.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onRange")}}},"SemanticTokensFeature");L5.SemanticTokensFeature=Rut;var KM=class{static{s(this,"SemanticTokensDiff")}constructor(t,r){this.originalSequence=t,this.modifiedSequence=r}computeDiff(){let t=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<t&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<t){let i=t-1,o=r-1;for(;i>=n&&o>=n&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<n||o<n)&&(i++,o++);let a=i-n+1,l=this.modifiedSequence.slice(n,o+1);return l.length===1&&l[0]===this.originalSequence[i]?[{start:n,deleteCount:a-1}]:[{start:n,deleteCount:a,data:l}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<t?[{start:n,deleteCount:t-n}]:[]}};L5.SemanticTokensDiff=KM;var hte=class{static{s(this,"SemanticTokensBuilder")}constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,o){let a=t,l=r;this._dataLen>0&&(a-=this._prevLine,a===0&&(l-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=l,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new KM(this._prevData,this._data).computeDiff()}:this.build()}};L5.SemanticTokensBuilder=hte});var xbe=H(JM=>{"use strict";d();Object.defineProperty(JM,"__esModule",{value:!0});JM.ShowDocumentFeature=void 0;var kut=ii(),But=s(e=>class extends e{showDocument(t){return this.connection.sendRequest(kut.ShowDocumentRequest.type,t)}},"ShowDocumentFeature");JM.ShowDocumentFeature=But});var vbe=H(XM=>{"use strict";d();Object.defineProperty(XM,"__esModule",{value:!0});XM.FileOperationsFeature=void 0;var x8=ii(),Dut=s(e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(x8.DidCreateFilesNotification.type,r=>{t(r)})}onDidRenameFiles(t){return this.connection.onNotification(x8.DidRenameFilesNotification.type,r=>{t(r)})}onDidDeleteFiles(t){return this.connection.onNotification(x8.DidDeleteFilesNotification.type,r=>{t(r)})}onWillCreateFiles(t){return this.connection.onRequest(x8.WillCreateFilesRequest.type,(r,n)=>t(r,n))}onWillRenameFiles(t){return this.connection.onRequest(x8.WillRenameFilesRequest.type,(r,n)=>t(r,n))}onWillDeleteFiles(t){return this.connection.onRequest(x8.WillDeleteFilesRequest.type,(r,n)=>t(r,n))}},"FileOperationsFeature");XM.FileOperationsFeature=Dut});var bbe=H(ZM=>{"use strict";d();Object.defineProperty(ZM,"__esModule",{value:!0});ZM.LinkedEditingRangeFeature=void 0;var Put=ii(),Nut=s(e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(Put.LinkedEditingRangeRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))}},"LinkedEditingRangeFeature");ZM.LinkedEditingRangeFeature=Nut});var Ebe=H(eQ=>{"use strict";d();Object.defineProperty(eQ,"__esModule",{value:!0});eQ.TypeHierarchyFeature=void 0;var gte=ii(),Lut=s(e=>class extends e{get typeHierarchy(){return{onPrepare:s(t=>this.connection.onRequest(gte.TypeHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),"onPrepare"),onSupertypes:s(t=>{let r=gte.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSupertypes"),onSubtypes:s(t=>{let r=gte.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"onSubtypes")}}},"TypeHierarchyFeature");eQ.TypeHierarchyFeature=Lut});var Tbe=H(tQ=>{"use strict";d();Object.defineProperty(tQ,"__esModule",{value:!0});tQ.InlineValueFeature=void 0;var Ibe=ii(),Fut=s(e=>class extends e{get inlineValue(){return{refresh:s(()=>this.connection.sendRequest(Ibe.InlineValueRefreshRequest.type),"refresh"),on:s(t=>this.connection.onRequest(Ibe.InlineValueRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineValueFeature");tQ.InlineValueFeature=Fut});var _be=H(rQ=>{"use strict";d();Object.defineProperty(rQ,"__esModule",{value:!0});rQ.FoldingRangeFeature=void 0;var wbe=ii(),Mut=s(e=>class extends e{get foldingRange(){return{refresh:s(()=>this.connection.sendRequest(wbe.FoldingRangeRefreshRequest.type),"refresh"),on:s(t=>{let r=wbe.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"FoldingRangeFeature");rQ.FoldingRangeFeature=Mut});var Sbe=H(nQ=>{"use strict";d();Object.defineProperty(nQ,"__esModule",{value:!0});nQ.InlayHintFeature=void 0;var Ate=ii(),Qut=s(e=>class extends e{get inlayHint(){return{refresh:s(()=>this.connection.sendRequest(Ate.InlayHintRefreshRequest.type),"refresh"),on:s(t=>this.connection.onRequest(Ate.InlayHintRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on"),resolve:s(t=>this.connection.onRequest(Ate.InlayHintResolveRequest.type,(r,n)=>t(r,n)),"resolve")}}},"InlayHintFeature");nQ.InlayHintFeature=Qut});var Rbe=H(iQ=>{"use strict";d();Object.defineProperty(iQ,"__esModule",{value:!0});iQ.DiagnosticFeature=void 0;var nS=ii(),Out=s(e=>class extends e{get diagnostics(){return{refresh:s(()=>this.connection.sendRequest(nS.DiagnosticRefreshRequest.type),"refresh"),on:s(t=>this.connection.onRequest(nS.DocumentDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(nS.DocumentDiagnosticRequest.partialResult,r))),"on"),onWorkspace:s(t=>this.connection.onRequest(nS.WorkspaceDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(nS.WorkspaceDiagnosticRequest.partialResult,r))),"onWorkspace")}}},"DiagnosticFeature");iQ.DiagnosticFeature=Out});var Cte=H(oQ=>{"use strict";d();Object.defineProperty(oQ,"__esModule",{value:!0});oQ.TextDocuments=void 0;var mv=ii(),yte=class{static{s(this,"TextDocuments")}constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new mv.Emitter,this._onDidOpen=new mv.Emitter,this._onDidClose=new mv.Emitter,this._onDidSave=new mv.Emitter,this._onWillSave=new mv.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=mv.TextDocumentSyncKind.Incremental;let r=[];return r.push(t.onDidOpenTextDocument(n=>{let i=n.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);let a=Object.freeze({document:o});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),r.push(t.onDidChangeTextDocument(n=>{let i=n.textDocument,o=n.contentChanges;if(o.length===0)return;let{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=this._syncedDocuments.get(i.uri);l!==void 0&&(l=this._configuration.update(l,o,a),this._syncedDocuments.set(i.uri,l),this._onDidChangeContent.fire(Object.freeze({document:l})))})),r.push(t.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(t.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(t.onWillSaveTextDocumentWaitUntil((n,i)=>{let o=this._syncedDocuments.get(n.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:n.reason}),i):[]})),r.push(t.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),mv.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};oQ.TextDocuments=yte});var vte=H(v8=>{"use strict";d();Object.defineProperty(v8,"__esModule",{value:!0});v8.NotebookDocuments=v8.NotebookSyncFeature=void 0;var Ld=ii(),kbe=Cte(),Uut=s(e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:s(t=>this.connection.onNotification(Ld.DidOpenNotebookDocumentNotification.type,r=>{t(r)}),"onDidOpenNotebookDocument"),onDidChangeNotebookDocument:s(t=>this.connection.onNotification(Ld.DidChangeNotebookDocumentNotification.type,r=>{t(r)}),"onDidChangeNotebookDocument"),onDidSaveNotebookDocument:s(t=>this.connection.onNotification(Ld.DidSaveNotebookDocumentNotification.type,r=>{t(r)}),"onDidSaveNotebookDocument"),onDidCloseNotebookDocument:s(t=>this.connection.onNotification(Ld.DidCloseNotebookDocumentNotification.type,r=>{t(r)}),"onDidCloseNotebookDocument")}}},"NotebookSyncFeature");v8.NotebookSyncFeature=Uut;var sQ=class e{static{s(this,"CellTextDocumentConnection")}onDidOpenTextDocument(t){return this.openHandler=t,Ld.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,Ld.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,Ld.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};sQ.NULL_DISPOSE=Object.freeze({dispose:s(()=>{},"dispose")});var xte=class{static{s(this,"NotebookDocuments")}constructor(t){t instanceof kbe.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new kbe.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Ld.Emitter,this._onDidChange=new Ld.Emitter,this._onDidSave=new Ld.Emitter,this._onDidClose=new Ld.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let r=this.notebookCellMap.get(t);return r&&r[0]}findNotebookDocumentForCell(t){let r=typeof t=="string"?t:t.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let r=new sQ,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let o of i.cellTextDocuments)r.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;let a=o.metadata,l=!1,c=i.change;c.metadata!==void 0&&(l=!0,o.metadata=c.metadata);let u=[],f=[],m=[],h=[];if(c.cells!==void 0){let b=c.cells;if(b.structure!==void 0){let E=b.structure.array;if(o.cells.splice(E.start,E.deleteCount,...E.cells!==void 0?E.cells:[]),b.structure.didOpen!==void 0)for(let _ of b.structure.didOpen)r.openTextDocument({textDocument:_}),u.push(_.uri);if(b.structure.didClose)for(let _ of b.structure.didClose)r.closeTextDocument({textDocument:_}),f.push(_.uri)}if(b.data!==void 0){let E=new Map(b.data.map(_=>[_.document,_]));for(let _=0;_<=o.cells.length;_++){let k=E.get(o.cells[_].document);if(k!==void 0){let B=o.cells.splice(_,1,k);if(m.push({old:B[0],new:k}),E.delete(k.document),E.size===0)break}}}if(b.textContent!==void 0)for(let E of b.textContent)r.changeTextDocument({textDocument:E.document,contentChanges:E.changes}),h.push(E.document.uri)}this.updateCellMap(o);let p={notebookDocument:o};l&&(p.metadata={old:a,new:o.metadata});let g=[];for(let b of u)g.push(this.getNotebookCell(b));let y=[];for(let b of f)y.push(this.getNotebookCell(b));let x=[];for(let b of h)x.push(this.getNotebookCell(b));(g.length>0||y.length>0||m.length>0||x.length>0)&&(p.cells={added:g,removed:y,changed:{data:m,textContent:x}}),(p.metadata!==void 0||p.cells!==void 0)&&this._onDidChange.fire(p)})),n.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),n.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(let a of i.cellTextDocuments)r.closeTextDocument({textDocument:a});this.notebookDocuments.delete(i.notebookDocument.uri);for(let a of o.cells)this.notebookCellMap.delete(a.document)}})),Ld.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(t){for(let r of t.cells)this.notebookCellMap.set(r.document,[r,t])}};v8.NotebookDocuments=xte});var Bbe=H(aQ=>{"use strict";d();Object.defineProperty(aQ,"__esModule",{value:!0});aQ.MonikerFeature=void 0;var qut=ii(),Wut=s(e=>class extends e{get moniker(){return{on:s(t=>{let r=qut.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},"on")}}},"MonikerFeature");aQ.MonikerFeature=Wut});var _te=H(fo=>{"use strict";d();Object.defineProperty(fo,"__esModule",{value:!0});fo.createConnection=fo.combineFeatures=fo.combineNotebooksFeatures=fo.combineLanguagesFeatures=fo.combineWorkspaceFeatures=fo.combineWindowFeatures=fo.combineClientFeatures=fo.combineTracerFeatures=fo.combineTelemetryFeatures=fo.combineConsoleFeatures=fo._NotebooksImpl=fo._LanguagesImpl=fo.BulkUnregistration=fo.BulkRegistration=fo.ErrorMessageTracker=void 0;var gr=ii(),Fd=WM(),Ete=ute(),Kn=gbe(),Gut=Abe(),Hut=ybe(),jut=Cbe(),Vut=pte(),$ut=xbe(),zut=vbe(),Yut=bbe(),Kut=Ebe(),Jut=Tbe(),Xut=_be(),Zut=Sbe(),eft=Rbe(),tft=vte(),rft=Bbe();function bte(e){if(e!==null)return e}s(bte,"null2Undefined");var Ite=class{static{s(this,"ErrorMessageTracker")}constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};fo.ErrorMessageTracker=Ite;var lQ=class{static{s(this,"RemoteConsoleImpl")}constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(gr.MessageType.Error,t)}warn(t){this.send(gr.MessageType.Warning,t)}info(t){this.send(gr.MessageType.Info,t)}log(t){this.send(gr.MessageType.Log,t)}debug(t){this.send(gr.MessageType.Debug,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(gr.LogMessageNotification.type,{type:t,message:r}).catch(()=>{(0,gr.RAL)().console.error("Sending log message failed")})}},Tte=class{static{s(this,"_RemoteWindowImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:gr.MessageType.Error,message:t,actions:r};return this.connection.sendRequest(gr.ShowMessageRequest.type,n).then(bte)}showWarningMessage(t,...r){let n={type:gr.MessageType.Warning,message:t,actions:r};return this.connection.sendRequest(gr.ShowMessageRequest.type,n).then(bte)}showInformationMessage(t,...r){let n={type:gr.MessageType.Info,message:t,actions:r};return this.connection.sendRequest(gr.ShowMessageRequest.type,n).then(bte)}},Dbe=(0,$ut.ShowDocumentFeature)((0,Kn.ProgressFeature)(Tte)),Pbe;(function(e){function t(){return new cQ}s(t,"create"),e.create=t})(Pbe||(fo.BulkRegistration=Pbe={}));var cQ=class{static{s(this,"BulkRegistrationImpl")}constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=Fd.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=Ete.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},Nbe;(function(e){function t(){return new iS(void 0,[])}s(t,"create"),e.create=t})(Nbe||(fo.BulkUnregistration=Nbe={}));var iS=class{static{s(this,"BulkUnregistrationImpl")}constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(gr.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=Fd.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(gr.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},o=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},uQ=class{static{s(this,"RemoteClientImpl")}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof cQ?this.registerMany(t):t instanceof iS?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=Fd.string(r)?r:r.method,o=Ete.generateUuid(),a={registrations:[{id:o,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(gr.RegistrationRequest.type,a).then(l=>(t.add({id:o,method:i}),t),l=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(l)))}registerSingle2(t,r){let n=Fd.string(t)?t:t.method,i=Ete.generateUuid(),o={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(gr.RegistrationRequest.type,o).then(a=>gr.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),a=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(a)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this.connection.sendRequest(gr.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this.connection.sendRequest(gr.RegistrationRequest.type,r).then(()=>new iS(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},wte=class{static{s(this,"_RemoteWorkspaceImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}s(r,"isApplyWorkspaceEditParams");let n=r(t)?t:{edit:t};return this.connection.sendRequest(gr.ApplyWorkspaceEditRequest.type,n)}},Lbe=(0,zut.FileOperationsFeature)((0,Hut.WorkspaceFoldersFeature)((0,Gut.ConfigurationFeature)(wte))),fQ=class{static{s(this,"TracerImpl")}constructor(){this._trace=gr.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==gr.Trace.Off&&this.connection.sendNotification(gr.LogTraceNotification.type,{message:t,verbose:this._trace===gr.Trace.Verbose?r:void 0}).catch(()=>{})}},dQ=class{static{s(this,"TelemetryImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(gr.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},mQ=class{static{s(this,"_LanguagesImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Kn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Kn.attachPartialResult)(this.connection,r)}};fo._LanguagesImpl=mQ;var Fbe=(0,Xut.FoldingRangeFeature)((0,rft.MonikerFeature)((0,eft.DiagnosticFeature)((0,Zut.InlayHintFeature)((0,Jut.InlineValueFeature)((0,Kut.TypeHierarchyFeature)((0,Yut.LinkedEditingRangeFeature)((0,Vut.SemanticTokensFeature)((0,jut.CallHierarchyFeature)(mQ))))))))),hQ=class{static{s(this,"_NotebooksImpl")}constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,Kn.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,Kn.attachPartialResult)(this.connection,r)}};fo._NotebooksImpl=hQ;var Mbe=(0,tft.NotebookSyncFeature)(hQ);function Qbe(e,t){return function(r){return t(e(r))}}s(Qbe,"combineConsoleFeatures");fo.combineConsoleFeatures=Qbe;function Obe(e,t){return function(r){return t(e(r))}}s(Obe,"combineTelemetryFeatures");fo.combineTelemetryFeatures=Obe;function Ube(e,t){return function(r){return t(e(r))}}s(Ube,"combineTracerFeatures");fo.combineTracerFeatures=Ube;function qbe(e,t){return function(r){return t(e(r))}}s(qbe,"combineClientFeatures");fo.combineClientFeatures=qbe;function Wbe(e,t){return function(r){return t(e(r))}}s(Wbe,"combineWindowFeatures");fo.combineWindowFeatures=Wbe;function Gbe(e,t){return function(r){return t(e(r))}}s(Gbe,"combineWorkspaceFeatures");fo.combineWorkspaceFeatures=Gbe;function Hbe(e,t){return function(r){return t(e(r))}}s(Hbe,"combineLanguagesFeatures");fo.combineLanguagesFeatures=Hbe;function jbe(e,t){return function(r){return t(e(r))}}s(jbe,"combineNotebooksFeatures");fo.combineNotebooksFeatures=jbe;function nft(e,t){function r(i,o,a){return i&&o?a(i,o):i||o}return s(r,"combine"),{__brand:"features",console:r(e.console,t.console,Qbe),tracer:r(e.tracer,t.tracer,Ube),telemetry:r(e.telemetry,t.telemetry,Obe),client:r(e.client,t.client,qbe),window:r(e.window,t.window,Wbe),workspace:r(e.workspace,t.workspace,Gbe),languages:r(e.languages,t.languages,Hbe),notebooks:r(e.notebooks,t.notebooks,jbe)}}s(nft,"combineFeatures");fo.combineFeatures=nft;function ift(e,t,r){let n=r&&r.console?new(r.console(lQ)):new lQ,i=e(n);n.rawAttach(i);let o=r&&r.tracer?new(r.tracer(fQ)):new fQ,a=r&&r.telemetry?new(r.telemetry(dQ)):new dQ,l=r&&r.client?new(r.client(uQ)):new uQ,c=r&&r.window?new(r.window(Dbe)):new Dbe,u=r&&r.workspace?new(r.workspace(Lbe)):new Lbe,f=r&&r.languages?new(r.languages(Fbe)):new Fbe,m=r&&r.notebooks?new(r.notebooks(Mbe)):new Mbe,h=[n,o,a,l,c,u,f,m];function p(E){return E instanceof Promise?E:Fd.thenable(E)?new Promise((_,k)=>{E.then(B=>_(B),B=>k(B))}):Promise.resolve(E)}s(p,"asPromise");let g,y,x,b={listen:s(()=>i.listen(),"listen"),sendRequest:s((E,..._)=>i.sendRequest(Fd.string(E)?E:E.method,..._),"sendRequest"),onRequest:s((E,_)=>i.onRequest(E,_),"onRequest"),sendNotification:s((E,_)=>{let k=Fd.string(E)?E:E.method;return i.sendNotification(k,_)},"sendNotification"),onNotification:s((E,_)=>i.onNotification(E,_),"onNotification"),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:s(E=>(y=E,{dispose:s(()=>{y=void 0},"dispose")}),"onInitialize"),onInitialized:s(E=>i.onNotification(gr.InitializedNotification.type,E),"onInitialized"),onShutdown:s(E=>(g=E,{dispose:s(()=>{g=void 0},"dispose")}),"onShutdown"),onExit:s(E=>(x=E,{dispose:s(()=>{x=void 0},"dispose")}),"onExit"),get console(){return n},get telemetry(){return a},get tracer(){return o},get client(){return l},get window(){return c},get workspace(){return u},get languages(){return f},get notebooks(){return m},onDidChangeConfiguration:s(E=>i.onNotification(gr.DidChangeConfigurationNotification.type,E),"onDidChangeConfiguration"),onDidChangeWatchedFiles:s(E=>i.onNotification(gr.DidChangeWatchedFilesNotification.type,E),"onDidChangeWatchedFiles"),__textDocumentSync:void 0,onDidOpenTextDocument:s(E=>i.onNotification(gr.DidOpenTextDocumentNotification.type,E),"onDidOpenTextDocument"),onDidChangeTextDocument:s(E=>i.onNotification(gr.DidChangeTextDocumentNotification.type,E),"onDidChangeTextDocument"),onDidCloseTextDocument:s(E=>i.onNotification(gr.DidCloseTextDocumentNotification.type,E),"onDidCloseTextDocument"),onWillSaveTextDocument:s(E=>i.onNotification(gr.WillSaveTextDocumentNotification.type,E),"onWillSaveTextDocument"),onWillSaveTextDocumentWaitUntil:s(E=>i.onRequest(gr.WillSaveTextDocumentWaitUntilRequest.type,E),"onWillSaveTextDocumentWaitUntil"),onDidSaveTextDocument:s(E=>i.onNotification(gr.DidSaveTextDocumentNotification.type,E),"onDidSaveTextDocument"),sendDiagnostics:s(E=>i.sendNotification(gr.PublishDiagnosticsNotification.type,E),"sendDiagnostics"),onHover:s(E=>i.onRequest(gr.HoverRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),void 0)),"onHover"),onCompletion:s(E=>i.onRequest(gr.CompletionRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onCompletion"),onCompletionResolve:s(E=>i.onRequest(gr.CompletionResolveRequest.type,E),"onCompletionResolve"),onSignatureHelp:s(E=>i.onRequest(gr.SignatureHelpRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),void 0)),"onSignatureHelp"),onDeclaration:s(E=>i.onRequest(gr.DeclarationRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onDeclaration"),onDefinition:s(E=>i.onRequest(gr.DefinitionRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onDefinition"),onTypeDefinition:s(E=>i.onRequest(gr.TypeDefinitionRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onTypeDefinition"),onImplementation:s(E=>i.onRequest(gr.ImplementationRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onImplementation"),onReferences:s(E=>i.onRequest(gr.ReferencesRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onReferences"),onDocumentHighlight:s(E=>i.onRequest(gr.DocumentHighlightRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onDocumentHighlight"),onDocumentSymbol:s(E=>i.onRequest(gr.DocumentSymbolRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onDocumentSymbol"),onWorkspaceSymbol:s(E=>i.onRequest(gr.WorkspaceSymbolRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onWorkspaceSymbol"),onWorkspaceSymbolResolve:s(E=>i.onRequest(gr.WorkspaceSymbolResolveRequest.type,E),"onWorkspaceSymbolResolve"),onCodeAction:s(E=>i.onRequest(gr.CodeActionRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onCodeAction"),onCodeActionResolve:s(E=>i.onRequest(gr.CodeActionResolveRequest.type,(_,k)=>E(_,k)),"onCodeActionResolve"),onCodeLens:s(E=>i.onRequest(gr.CodeLensRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onCodeLens"),onCodeLensResolve:s(E=>i.onRequest(gr.CodeLensResolveRequest.type,(_,k)=>E(_,k)),"onCodeLensResolve"),onDocumentFormatting:s(E=>i.onRequest(gr.DocumentFormattingRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),void 0)),"onDocumentFormatting"),onDocumentRangeFormatting:s(E=>i.onRequest(gr.DocumentRangeFormattingRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),void 0)),"onDocumentRangeFormatting"),onDocumentOnTypeFormatting:s(E=>i.onRequest(gr.DocumentOnTypeFormattingRequest.type,(_,k)=>E(_,k)),"onDocumentOnTypeFormatting"),onRenameRequest:s(E=>i.onRequest(gr.RenameRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),void 0)),"onRenameRequest"),onPrepareRename:s(E=>i.onRequest(gr.PrepareRenameRequest.type,(_,k)=>E(_,k)),"onPrepareRename"),onDocumentLinks:s(E=>i.onRequest(gr.DocumentLinkRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onDocumentLinks"),onDocumentLinkResolve:s(E=>i.onRequest(gr.DocumentLinkResolveRequest.type,(_,k)=>E(_,k)),"onDocumentLinkResolve"),onDocumentColor:s(E=>i.onRequest(gr.DocumentColorRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onDocumentColor"),onColorPresentation:s(E=>i.onRequest(gr.ColorPresentationRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onColorPresentation"),onFoldingRanges:s(E=>i.onRequest(gr.FoldingRangeRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onFoldingRanges"),onSelectionRanges:s(E=>i.onRequest(gr.SelectionRangeRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),(0,Kn.attachPartialResult)(i,_))),"onSelectionRanges"),onExecuteCommand:s(E=>i.onRequest(gr.ExecuteCommandRequest.type,(_,k)=>E(_,k,(0,Kn.attachWorkDone)(i,_),void 0)),"onExecuteCommand"),dispose:s(()=>i.dispose(),"dispose")};for(let E of h)E.attach(b);return i.onRequest(gr.InitializeRequest.type,E=>{t.initialize(E),Fd.string(E.trace)&&(o.trace=gr.Trace.fromString(E.trace));for(let _ of h)_.initialize(E.capabilities);if(y){let _=y(E,new gr.CancellationTokenSource().token,(0,Kn.attachWorkDone)(i,E),void 0);return p(_).then(k=>{if(k instanceof gr.ResponseError)return k;let B=k;B||(B={capabilities:{}});let N=B.capabilities;N||(N={},B.capabilities=N),N.textDocumentSync===void 0||N.textDocumentSync===null?N.textDocumentSync=Fd.number(b.__textDocumentSync)?b.__textDocumentSync:gr.TextDocumentSyncKind.None:!Fd.number(N.textDocumentSync)&&!Fd.number(N.textDocumentSync.change)&&(N.textDocumentSync.change=Fd.number(b.__textDocumentSync)?b.__textDocumentSync:gr.TextDocumentSyncKind.None);for(let M of h)M.fillServerCapabilities(N);return B})}else{let _={capabilities:{textDocumentSync:gr.TextDocumentSyncKind.None}};for(let k of h)k.fillServerCapabilities(_.capabilities);return _}}),i.onRequest(gr.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,g)return g(new gr.CancellationTokenSource().token)}),i.onNotification(gr.ExitNotification.type,()=>{try{x&&x()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(gr.SetTraceNotification.type,E=>{o.trace=gr.Trace.fromString(E.value)}),b}s(ift,"createConnection");fo.createConnection=ift});var Vbe=H(cu=>{"use strict";d();Object.defineProperty(cu,"__esModule",{value:!0});cu.resolveModulePath=cu.FileSystem=cu.resolveGlobalYarnPath=cu.resolveGlobalNodePath=cu.resolve=cu.uriToFilePath=void 0;var oft=require("url"),gh=require("path"),Ste=require("fs"),Dte=require("child_process");function sft(e){let t=oft.parse(e);if(t.protocol!=="file:"||!t.path)return;let r=t.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let o=r[0],a=r[1];o.length===0&&a.length>1&&a[1]===":"&&r.shift()}return gh.normalize(r.join("/"))}s(sft,"uriToFilePath");cu.uriToFilePath=sft;function Rte(){return process.platform==="win32"}s(Rte,"isWindows");function pQ(e,t,r,n){let i="NODE_PATH",o=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((a,l)=>{let c=process.env,u=Object.create(null);Object.keys(c).forEach(f=>u[f]=c[f]),t&&Ste.existsSync(t)&&(u[i]?u[i]=t+gh.delimiter+u[i]:u[i]=t,n&&n(`NODE_PATH value is: ${u[i]}`)),u.ELECTRON_RUN_AS_NODE="1";try{let f=(0,Dte.fork)("",[],{cwd:r,env:u,execArgv:["-e",o]});if(f.pid===void 0){l(new Error(`Starting process to resolve node module  ${e} failed`));return}f.on("error",h=>{l(h)}),f.on("message",h=>{h.c==="r"&&(f.send({c:"e"}),h.s?a(h.r):l(new Error(`Failed to resolve module: ${e}`)))});let m={c:"rs",a:e};f.send(m)}catch(f){l(f)}})}s(pQ,"resolve");cu.resolve=pQ;function kte(e){let t="npm",r=Object.create(null);Object.keys(process.env).forEach(o=>r[o]=process.env[o]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};Rte()&&(t="npm.cmd",n.shell=!0);let i=s(()=>{},"handler");try{process.on("SIGPIPE",i);let o=(0,Dte.spawnSync)(t,["config","get","prefix"],n).stdout;if(!o){e&&e("'npm config get prefix' didn't return a value.");return}let a=o.trim();return e&&e(`'npm config get prefix' value is: ${a}`),a.length>0?Rte()?gh.join(a,"node_modules"):gh.join(a,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}s(kte,"resolveGlobalNodePath");cu.resolveGlobalNodePath=kte;function aft(e){let t="yarn",r={encoding:"utf8"};Rte()&&(t="yarn.cmd",r.shell=!0);let n=s(()=>{},"handler");try{process.on("SIGPIPE",n);let i=(0,Dte.spawnSync)(t,["global","dir","--json"],r),o=i.stdout;if(!o){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let a=o.trim().split(/\r?\n/);for(let l of a)try{let c=JSON.parse(l);if(c.type==="log")return gh.join(c.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",n)}}s(aft,"resolveGlobalYarnPath");cu.resolveGlobalYarnPath=aft;var Bte;(function(e){let t;function r(){return t!==void 0||(process.platform==="win32"?t=!1:t=!Ste.existsSync(__filename.toUpperCase())||!Ste.existsSync(__filename.toLowerCase())),t}s(r,"isCaseSensitive"),e.isCaseSensitive=r;function n(i,o){return r()?gh.normalize(o).indexOf(gh.normalize(i))===0:gh.normalize(o).toLowerCase().indexOf(gh.normalize(i).toLowerCase())===0}s(n,"isParent"),e.isParent=n})(Bte||(cu.FileSystem=Bte={}));function lft(e,t,r,n){return r?(gh.isAbsolute(r)||(r=gh.join(e,r)),pQ(t,r,r,n).then(i=>Bte.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>pQ(t,kte(n),e,n))):pQ(t,kte(n),e,n)}s(lft,"resolveModulePath");cu.resolveModulePath=lft});var Pte=H((GEr,$be)=>{"use strict";d();$be.exports=ii()});var zbe=H(gQ=>{"use strict";d();Object.defineProperty(gQ,"__esModule",{value:!0});gQ.InlineCompletionFeature=void 0;var cft=ii(),uft=s(e=>class extends e{get inlineCompletion(){return{on:s(t=>this.connection.onRequest(cft.InlineCompletionRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),"on")}}},"InlineCompletionFeature");gQ.InlineCompletionFeature=uft});var Jbe=H(Uc=>{"use strict";d();var fft=Uc&&Uc.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Kbe=Uc&&Uc.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&fft(t,e,r)};Object.defineProperty(Uc,"__esModule",{value:!0});Uc.ProposedFeatures=Uc.NotebookDocuments=Uc.TextDocuments=Uc.SemanticTokensBuilder=void 0;var dft=pte();Object.defineProperty(Uc,"SemanticTokensBuilder",{enumerable:!0,get:s(function(){return dft.SemanticTokensBuilder},"get")});var mft=zbe();Kbe(ii(),Uc);var hft=Cte();Object.defineProperty(Uc,"TextDocuments",{enumerable:!0,get:s(function(){return hft.TextDocuments},"get")});var pft=vte();Object.defineProperty(Uc,"NotebookDocuments",{enumerable:!0,get:s(function(){return pft.NotebookDocuments},"get")});Kbe(_te(),Uc);var Ybe;(function(e){e.all={__brand:"features",languages:mft.InlineCompletionFeature}})(Ybe||(Uc.ProposedFeatures=Ybe={}))});var ul=H(Md=>{"use strict";d();var gft=Md&&Md.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tEe=Md&&Md.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&gft(t,e,r)};Object.defineProperty(Md,"__esModule",{value:!0});Md.createConnection=Md.Files=void 0;var Xbe=require("node:util"),Nte=WM(),Aft=_te(),oS=Vbe(),hv=Pte();tEe(Pte(),Md);tEe(Jbe(),Md);var Zbe;(function(e){e.uriToFilePath=oS.uriToFilePath,e.resolveGlobalNodePath=oS.resolveGlobalNodePath,e.resolveGlobalYarnPath=oS.resolveGlobalYarnPath,e.resolve=oS.resolve,e.resolveModulePath=oS.resolveModulePath})(Zbe||(Md.Files=Zbe={}));var eEe;function AQ(){if(eEe!==void 0)try{eEe.end()}catch{}}s(AQ,"endProtocolConnection");var b8=!1,rEe;function yft(){let e="--clientProcessId";function t(r){try{let n=parseInt(r);isNaN(n)||(rEe=setInterval(()=>{try{process.kill(n,0)}catch{AQ(),process.exit(b8?0:1)}},3e3))}catch{}}s(t,"runTimer");for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===e&&r+1<process.argv.length){t(process.argv[r+1]);return}else{let i=n.split("=");i[0]===e&&t(i[1])}}}s(yft,"setupExitTimer");yft();var Cft={initialize:s(e=>{let t=e.processId;Nte.number(t)&&rEe===void 0&&setInterval(()=>{try{process.kill(t,0)}catch{process.exit(b8?0:1)}},3e3)},"initialize"),get shutdownReceived(){return b8},set shutdownReceived(e){b8=e},exit:s(e=>{AQ(),process.exit(e)},"exit")};function xft(e,t,r,n){let i,o,a,l;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),hv.ConnectionStrategy.is(e)||hv.ConnectionOptions.is(e)?l=e:(o=e,a=t,l=r),vft(o,a,l,i)}s(xft,"createConnection");Md.createConnection=xft;function vft(e,t,r,n){let i=!1;if(!e&&!t&&process.argv.length>2){let c,u,f=process.argv.slice(2);for(let m=0;m<f.length;m++){let h=f[m];if(h==="--node-ipc"){e=new hv.IPCMessageReader(process),t=new hv.IPCMessageWriter(process);break}else if(h==="--stdio"){i=!0,e=process.stdin,t=process.stdout;break}else if(h==="--socket"){c=parseInt(f[m+1]);break}else if(h==="--pipe"){u=f[m+1];break}else{var o=h.split("=");if(o[0]==="--socket"){c=parseInt(o[1]);break}else if(o[0]==="--pipe"){u=o[1];break}}}if(c){let m=(0,hv.createServerSocketTransport)(c);e=m[0],t=m[1]}else if(u){let m=(0,hv.createServerPipeTransport)(u);e=m[0],t=m[1]}}var a="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+a);if(!t)throw new Error("Connection output stream is not set. "+a);if(Nte.func(e.read)&&Nte.func(e.on)){let c=e;c.on("end",()=>{AQ(),process.exit(b8?0:1)}),c.on("close",()=>{AQ(),process.exit(b8?0:1)})}let l=s(c=>{let u=(0,hv.createProtocolConnection)(e,t,c,r);return i&&bft(c),u},"connectionFactory");return(0,Aft.createConnection)(l,Cft,n)}s(vft,"_createConnection");function bft(e){function t(n){return n.map(i=>typeof i=="string"?i:(0,Xbe.inspect)(i)).join(" ")}s(t,"serialize");let r=new Map;console.assert=s(function(i,...o){if(!i)if(o.length===0)e.error("Assertion failed");else{let[a,...l]=o;e.error(`Assertion failed: ${a} ${t(l)}`)}},"assert"),console.count=s(function(i="default"){let o=String(i),a=r.get(o)??0;a+=1,r.set(o,a),e.log(`${o}: ${o}`)},"count"),console.countReset=s(function(i){i===void 0?r.clear():r.delete(String(i))},"countReset"),console.debug=s(function(...i){e.log(t(i))},"debug"),console.dir=s(function(i,o){e.log((0,Xbe.inspect)(i,o))},"dir"),console.log=s(function(...i){e.log(t(i))},"log"),console.error=s(function(...i){e.error(t(i))},"error"),console.trace=s(function(...i){let o=new Error().stack.replace(/(.+\n){2}/,""),a="Trace";i.length!==0&&(a+=`: ${t(i)}`),e.log(`${a}
${o}`)},"trace"),console.warn=s(function(...i){e.warn(t(i))},"warn")}s(bft,"patchConsole")});var Ah=H((t4r,nEe)=>{"use strict";d();nEe.exports=ul()});var wIe=H((E9r,TIe)=>{"use strict";d();TIe.exports=EIe;function EIe(e,t,r){e instanceof RegExp&&(e=bIe(e,r)),t instanceof RegExp&&(t=bIe(t,r));var n=IIe(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}s(EIe,"balanced");function bIe(e,t){var r=t.match(e);return r?r[0]:null}s(bIe,"maybeMatch");EIe.range=IIe;function IIe(e,t,r){var n,i,o,a,l,c=r.indexOf(e),u=r.indexOf(t,c+1),f=c;if(c>=0&&u>0){if(e===t)return[c,u];for(n=[],o=r.length;f>=0&&!l;)f==c?(n.push(f),c=r.indexOf(e,f+1)):n.length==1?l=[n.pop(),u]:(i=n.pop(),i<o&&(o=i,a=u),u=r.indexOf(t,f+1)),f=c<u&&c>=0?c:u;n.length&&(l=[o,a])}return l}s(IIe,"range")});var NIe=H((w9r,PIe)=>{d();var _Ie=wIe();PIe.exports=adt;var SIe="\0SLASH"+Math.random()+"\0",RIe="\0OPEN"+Math.random()+"\0",wre="\0CLOSE"+Math.random()+"\0",kIe="\0COMMA"+Math.random()+"\0",BIe="\0PERIOD"+Math.random()+"\0";function Tre(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}s(Tre,"numeric");function odt(e){return e.split("\\\\").join(SIe).split("\\{").join(RIe).split("\\}").join(wre).split("\\,").join(kIe).split("\\.").join(BIe)}s(odt,"escapeBraces");function sdt(e){return e.split(SIe).join("\\").split(RIe).join("{").split(wre).join("}").split(kIe).join(",").split(BIe).join(".")}s(sdt,"unescapeBraces");function DIe(e){if(!e)return[""];var t=[],r=_Ie("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,o=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var l=DIe(o);return o.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),t.push.apply(t,a),t}s(DIe,"parseCommaParts");function adt(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),gS(odt(e),!0).map(sdt)):[]}s(adt,"expandTop");function ldt(e){return"{"+e+"}"}s(ldt,"embrace");function cdt(e){return/^-?0\d/.test(e)}s(cdt,"isPadded");function udt(e,t){return e<=t}s(udt,"lte");function fdt(e,t){return e>=t}s(fdt,"gte");function gS(e,t){var r=[],n=_Ie("{","}",e);if(!n)return[e];var i=n.pre,o=n.post.length?gS(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<o.length;a++){var l=i+"{"+n.body+"}"+o[a];r.push(l)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),f=c||u,m=n.body.indexOf(",")>=0;if(!f&&!m)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+wre+n.post,gS(e)):[e];var h;if(f)h=n.body.split(/\.\./);else if(h=DIe(n.body),h.length===1&&(h=gS(h[0],!1).map(ldt),h.length===1))return o.map(function(Z){return n.pre+h[0]+Z});var p;if(f){var g=Tre(h[0]),y=Tre(h[1]),x=Math.max(h[0].length,h[1].length),b=h.length==3?Math.abs(Tre(h[2])):1,E=udt,_=y<g;_&&(b*=-1,E=fdt);var k=h.some(cdt);p=[];for(var B=g;E(B,y);B+=b){var N;if(u)N=String.fromCharCode(B),N==="\\"&&(N="");else if(N=String(B),k){var M=x-N.length;if(M>0){var te=new Array(M+1).join("0");B<0?N="-"+te+N.slice(1):N=te+N}}p.push(N)}}else{p=[];for(var de=0;de<h.length;de++)p.push.apply(p,gS(h[de],!1))}for(var de=0;de<p.length;de++)for(var a=0;a<o.length;a++){var l=i+p[de]+o[a];(!t||f||l)&&r.push(l)}}return r}s(gS,"expand")});var Qs=H((gqr,sTe)=>{d();sTe.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kInterceptors:Symbol("dispatch interceptors"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var Ao=H((yqr,aTe)=>{"use strict";d();var Zs=class extends Error{static{s(this,"UndiciError")}constructor(t){super(t),this.name="UndiciError",this.code="UND_ERR"}},Yne=class extends Zs{static{s(this,"ConnectTimeoutError")}constructor(t){super(t),this.name="ConnectTimeoutError",this.message=t||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}},Kne=class extends Zs{static{s(this,"HeadersTimeoutError")}constructor(t){super(t),this.name="HeadersTimeoutError",this.message=t||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}},Jne=class extends Zs{static{s(this,"HeadersOverflowError")}constructor(t){super(t),this.name="HeadersOverflowError",this.message=t||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}},Xne=class extends Zs{static{s(this,"BodyTimeoutError")}constructor(t){super(t),this.name="BodyTimeoutError",this.message=t||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}},Zne=class extends Zs{static{s(this,"ResponseStatusCodeError")}constructor(t,r,n,i){super(t),this.name="ResponseStatusCodeError",this.message=t||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=i,this.status=r,this.statusCode=r,this.headers=n}},eie=class extends Zs{static{s(this,"InvalidArgumentError")}constructor(t){super(t),this.name="InvalidArgumentError",this.message=t||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}},tie=class extends Zs{static{s(this,"InvalidReturnValueError")}constructor(t){super(t),this.name="InvalidReturnValueError",this.message=t||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}},CU=class extends Zs{static{s(this,"AbortError")}constructor(t){super(t),this.name="AbortError",this.message=t||"The operation was aborted"}},rie=class extends CU{static{s(this,"RequestAbortedError")}constructor(t){super(t),this.name="AbortError",this.message=t||"Request aborted",this.code="UND_ERR_ABORTED"}},nie=class extends Zs{static{s(this,"InformationalError")}constructor(t){super(t),this.name="InformationalError",this.message=t||"Request information",this.code="UND_ERR_INFO"}},iie=class extends Zs{static{s(this,"RequestContentLengthMismatchError")}constructor(t){super(t),this.name="RequestContentLengthMismatchError",this.message=t||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}},oie=class extends Zs{static{s(this,"ResponseContentLengthMismatchError")}constructor(t){super(t),this.name="ResponseContentLengthMismatchError",this.message=t||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}},sie=class extends Zs{static{s(this,"ClientDestroyedError")}constructor(t){super(t),this.name="ClientDestroyedError",this.message=t||"The client is destroyed",this.code="UND_ERR_DESTROYED"}},aie=class extends Zs{static{s(this,"ClientClosedError")}constructor(t){super(t),this.name="ClientClosedError",this.message=t||"The client is closed",this.code="UND_ERR_CLOSED"}},lie=class extends Zs{static{s(this,"SocketError")}constructor(t,r){super(t),this.name="SocketError",this.message=t||"Socket error",this.code="UND_ERR_SOCKET",this.socket=r}},cie=class extends Zs{static{s(this,"NotSupportedError")}constructor(t){super(t),this.name="NotSupportedError",this.message=t||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}},uie=class extends Zs{static{s(this,"BalancedPoolMissingUpstreamError")}constructor(t){super(t),this.name="MissingUpstreamError",this.message=t||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}},fie=class extends Error{static{s(this,"HTTPParserError")}constructor(t,r,n){super(t),this.name="HTTPParserError",this.code=r?`HPE_${r}`:void 0,this.data=n?n.toString():void 0}},die=class extends Zs{static{s(this,"ResponseExceededMaxSizeError")}constructor(t){super(t),this.name="ResponseExceededMaxSizeError",this.message=t||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}},mie=class extends Zs{static{s(this,"RequestRetryError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="RequestRetryError",this.message=t||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=r,this.data=i,this.headers=n}},hie=class extends Zs{static{s(this,"ResponseError")}constructor(t,r,{headers:n,data:i}){super(t),this.name="ResponseError",this.message=t||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=r,this.data=i,this.headers=n}},pie=class extends Zs{static{s(this,"SecureProxyConnectionError")}constructor(t,r,n){super(r,{cause:t,...n??{}}),this.name="SecureProxyConnectionError",this.message=r||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=t}};aTe.exports={AbortError:CU,HTTPParserError:fie,UndiciError:Zs,HeadersTimeoutError:Kne,HeadersOverflowError:Jne,BodyTimeoutError:Xne,RequestContentLengthMismatchError:iie,ConnectTimeoutError:Yne,ResponseStatusCodeError:Zne,InvalidArgumentError:eie,InvalidReturnValueError:tie,RequestAbortedError:rie,ClientDestroyedError:sie,ClientClosedError:aie,InformationalError:nie,SocketError:lie,NotSupportedError:cie,ResponseContentLengthMismatchError:oie,BalancedPoolMissingUpstreamError:uie,ResponseExceededMaxSizeError:die,RequestRetryError:mie,ResponseError:hie,SecureProxyConnectionError:pie}});var vU=H((vqr,lTe)=>{"use strict";d();var xU={},gie=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"];for(let e=0;e<gie.length;++e){let t=gie[e],r=t.toLowerCase();xU[t]=xU[r]=r}Object.setPrototypeOf(xU,null);lTe.exports={wellknownHeaderNames:gie,headerNameLowerCasedRecord:xU}});var dTe=H((Eqr,fTe)=>{"use strict";d();var{wellknownHeaderNames:cTe,headerNameLowerCasedRecord:Mpt}=vU(),Aie=class e{static{s(this,"TstNode")}value=null;left=null;middle=null;right=null;code;constructor(t,r,n){if(n===void 0||n>=t.length)throw new TypeError("Unreachable");if((this.code=t.charCodeAt(n))>127)throw new TypeError("key must be ascii string");t.length!==++n?this.middle=new e(t,r,n):this.value=r}add(t,r){let n=t.length;if(n===0)throw new TypeError("Unreachable");let i=0,o=this;for(;;){let a=t.charCodeAt(i);if(a>127)throw new TypeError("key must be ascii string");if(o.code===a)if(n===++i){o.value=r;break}else if(o.middle!==null)o=o.middle;else{o.middle=new e(t,r,i);break}else if(o.code<a)if(o.left!==null)o=o.left;else{o.left=new e(t,r,i);break}else if(o.right!==null)o=o.right;else{o.right=new e(t,r,i);break}}}search(t){let r=t.length,n=0,i=this;for(;i!==null&&n<r;){let o=t[n];for(o<=90&&o>=65&&(o|=32);i!==null;){if(o===i.code){if(r===++n)return i;i=i.middle;break}i=i.code<o?i.left:i.right}}return null}},bU=class{static{s(this,"TernarySearchTree")}node=null;insert(t,r){this.node===null?this.node=new Aie(t,r,0):this.node.add(t,r)}lookup(t){return this.node?.search(t)?.value??null}},uTe=new bU;for(let e=0;e<cTe.length;++e){let t=Mpt[cTe[e]];uTe.insert(t,t)}fTe.exports={TernarySearchTree:bU,tree:uTe}});var yi=H((wqr,STe)=>{"use strict";d();var WS=require("node:assert"),{kDestroyed:hTe,kBodyUsed:l6,kListeners:yie,kBody:mTe}=Qs(),{IncomingMessage:Qpt}=require("node:http"),TU=require("node:stream"),Opt=require("node:net"),{Blob:Upt}=require("node:buffer"),qpt=require("node:util"),{stringify:Wpt}=require("node:querystring"),{EventEmitter:Gpt}=require("node:events"),{InvalidArgumentError:Nl}=Ao(),{headerNameLowerCasedRecord:Hpt}=vU(),{tree:pTe}=dTe(),[jpt,Vpt]=process.versions.node.split(".").map(e=>Number(e)),IU=class{static{s(this,"BodyAsyncIterable")}constructor(t){this[mTe]=t,this[l6]=!1}async*[Symbol.asyncIterator](){WS(!this[l6],"disturbed"),this[l6]=!0,yield*this[mTe]}};function $pt(e){return wU(e)?(xTe(e)===0&&e.on("data",function(){WS(!1)}),typeof e.readableDidRead!="boolean"&&(e[l6]=!1,Gpt.prototype.on.call(e,"data",function(){this[l6]=!0})),e):e&&typeof e.pipeTo=="function"?new IU(e):e&&typeof e!="string"&&!ArrayBuffer.isView(e)&&CTe(e)?new IU(e):e}s($pt,"wrapRequestBody");function zpt(){}s(zpt,"nop");function wU(e){return e&&typeof e=="object"&&typeof e.pipe=="function"&&typeof e.on=="function"}s(wU,"isStream");function gTe(e){if(e===null)return!1;if(e instanceof Upt)return!0;if(typeof e!="object")return!1;{let t=e[Symbol.toStringTag];return(t==="Blob"||t==="File")&&("stream"in e&&typeof e.stream=="function"||"arrayBuffer"in e&&typeof e.arrayBuffer=="function")}}s(gTe,"isBlobLike");function Ypt(e,t){if(e.includes("?")||e.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let r=Wpt(t);return r&&(e+="?"+r),e}s(Ypt,"buildURL");function ATe(e){let t=parseInt(e,10);return t===Number(e)&&t>=0&&t<=65535}s(ATe,"isValidPort");function EU(e){return e!=null&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&(e[4]===":"||e[4]==="s"&&e[5]===":")}s(EU,"isHttpOrHttpsPrefixed");function yTe(e){if(typeof e=="string"){if(e=new URL(e),!EU(e.origin||e.protocol))throw new Nl("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}if(!e||typeof e!="object")throw new Nl("Invalid URL: The URL argument must be a non-null object.");if(!(e instanceof URL)){if(e.port!=null&&e.port!==""&&ATe(e.port)===!1)throw new Nl("Invalid URL: port must be a valid integer or a string representation of an integer.");if(e.path!=null&&typeof e.path!="string")throw new Nl("Invalid URL path: the path must be a string or null/undefined.");if(e.pathname!=null&&typeof e.pathname!="string")throw new Nl("Invalid URL pathname: the pathname must be a string or null/undefined.");if(e.hostname!=null&&typeof e.hostname!="string")throw new Nl("Invalid URL hostname: the hostname must be a string or null/undefined.");if(e.origin!=null&&typeof e.origin!="string")throw new Nl("Invalid URL origin: the origin must be a string or null/undefined.");if(!EU(e.origin||e.protocol))throw new Nl("Invalid URL protocol: the URL must start with `http:` or `https:`.");let t=e.port!=null?e.port:e.protocol==="https:"?443:80,r=e.origin!=null?e.origin:`${e.protocol||""}//${e.hostname||""}:${t}`,n=e.path!=null?e.path:`${e.pathname||""}${e.search||""}`;return r[r.length-1]==="/"&&(r=r.slice(0,r.length-1)),n&&n[0]!=="/"&&(n=`/${n}`),new URL(`${r}${n}`)}if(!EU(e.origin||e.protocol))throw new Nl("Invalid URL protocol: the URL must start with `http:` or `https:`.");return e}s(yTe,"parseURL");function Kpt(e){if(e=yTe(e),e.pathname!=="/"||e.search||e.hash)throw new Nl("invalid url");return e}s(Kpt,"parseOrigin");function Jpt(e){if(e[0]==="["){let r=e.indexOf("]");return WS(r!==-1),e.substring(1,r)}let t=e.indexOf(":");return t===-1?e:e.substring(0,t)}s(Jpt,"getHostname");function Xpt(e){if(!e)return null;WS(typeof e=="string");let t=Jpt(e);return Opt.isIP(t)?"":t}s(Xpt,"getServerName");function Zpt(e){return JSON.parse(JSON.stringify(e))}s(Zpt,"deepClone");function egt(e){return e!=null&&typeof e[Symbol.asyncIterator]=="function"}s(egt,"isAsyncIterable");function CTe(e){return e!=null&&(typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function")}s(CTe,"isIterable");function xTe(e){if(e==null)return 0;if(wU(e)){let t=e._readableState;return t&&t.objectMode===!1&&t.ended===!0&&Number.isFinite(t.length)?t.length:null}else{if(gTe(e))return e.size!=null?e.size:null;if(ETe(e))return e.byteLength}return null}s(xTe,"bodyLength");function vTe(e){return e&&!!(e.destroyed||e[hTe]||TU.isDestroyed?.(e))}s(vTe,"isDestroyed");function tgt(e,t){e==null||!wU(e)||vTe(e)||(typeof e.destroy=="function"?(Object.getPrototypeOf(e).constructor===Qpt&&(e.socket=null),e.destroy(t)):t&&queueMicrotask(()=>{e.emit("error",t)}),e.destroyed!==!0&&(e[hTe]=!0))}s(tgt,"destroy");var rgt=/timeout=(\d+)/;function ngt(e){let t=e.toString().match(rgt);return t?parseInt(t[1],10)*1e3:null}s(ngt,"parseKeepAliveTimeout");function bTe(e){return typeof e=="string"?Hpt[e]??e.toLowerCase():pTe.lookup(e)??e.toString("latin1").toLowerCase()}s(bTe,"headerNameToString");function igt(e){return pTe.lookup(e)??e.toString("latin1").toLowerCase()}s(igt,"bufferToLowerCasedHeaderName");function ogt(e,t){t===void 0&&(t={});for(let r=0;r<e.length;r+=2){let n=bTe(e[r]),i=t[n];if(i)typeof i=="string"&&(i=[i],t[n]=i),i.push(e[r+1].toString("utf8"));else{let o=e[r+1];typeof o=="string"?t[n]=o:t[n]=Array.isArray(o)?o.map(a=>a.toString("utf8")):o.toString("utf8")}}return"content-length"in t&&"content-disposition"in t&&(t["content-disposition"]=Buffer.from(t["content-disposition"]).toString("latin1")),t}s(ogt,"parseHeaders");function sgt(e){let t=e.length,r=new Array(t),n=!1,i=-1,o,a,l=0;for(let c=0;c<e.length;c+=2)o=e[c],a=e[c+1],typeof o!="string"&&(o=o.toString()),typeof a!="string"&&(a=a.toString("utf8")),l=o.length,l===14&&o[7]==="-"&&(o==="content-length"||o.toLowerCase()==="content-length")?n=!0:l===19&&o[7]==="-"&&(o==="content-disposition"||o.toLowerCase()==="content-disposition")&&(i=c+1),r[c]=o,r[c+1]=a;return n&&i!==-1&&(r[i]=Buffer.from(r[i]).toString("latin1")),r}s(sgt,"parseRawHeaders");function ETe(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}s(ETe,"isBuffer");function agt(e,t,r){if(!e||typeof e!="object")throw new Nl("handler must be an object");if(typeof e.onConnect!="function")throw new Nl("invalid onConnect method");if(typeof e.onError!="function")throw new Nl("invalid onError method");if(typeof e.onBodySent!="function"&&e.onBodySent!==void 0)throw new Nl("invalid onBodySent method");if(r||t==="CONNECT"){if(typeof e.onUpgrade!="function")throw new Nl("invalid onUpgrade method")}else{if(typeof e.onHeaders!="function")throw new Nl("invalid onHeaders method");if(typeof e.onData!="function")throw new Nl("invalid onData method");if(typeof e.onComplete!="function")throw new Nl("invalid onComplete method")}}s(agt,"validateHandler");function lgt(e){return!!(e&&(TU.isDisturbed(e)||e[l6]))}s(lgt,"isDisturbed");function cgt(e){return!!(e&&TU.isErrored(e))}s(cgt,"isErrored");function ugt(e){return!!(e&&TU.isReadable(e))}s(ugt,"isReadable");function fgt(e){return{localAddress:e.localAddress,localPort:e.localPort,remoteAddress:e.remoteAddress,remotePort:e.remotePort,remoteFamily:e.remoteFamily,timeout:e.timeout,bytesWritten:e.bytesWritten,bytesRead:e.bytesRead}}s(fgt,"getSocketInfo");function dgt(e){let t;return new ReadableStream({async start(){t=e[Symbol.asyncIterator]()},async pull(r){let{done:n,value:i}=await t.next();if(n)queueMicrotask(()=>{r.close(),r.byobRequest?.respond(0)});else{let o=Buffer.isBuffer(i)?i:Buffer.from(i);o.byteLength&&r.enqueue(new Uint8Array(o))}return r.desiredSize>0},async cancel(r){await t.return()},type:"bytes"})}s(dgt,"ReadableStreamFrom");function mgt(e){return e&&typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&e[Symbol.toStringTag]==="FormData"}s(mgt,"isFormDataLike");function hgt(e,t){return"addEventListener"in e?(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)):(e.addListener("abort",t),()=>e.removeListener("abort",t))}s(hgt,"addAbortListener");var pgt=typeof String.prototype.toWellFormed=="function",ggt=typeof String.prototype.isWellFormed=="function";function ITe(e){return pgt?`${e}`.toWellFormed():qpt.toUSVString(e)}s(ITe,"toUSVString");function Agt(e){return ggt?`${e}`.isWellFormed():ITe(e)===`${e}`}s(Agt,"isUSVString");function TTe(e){switch(e){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return e>=33&&e<=126}}s(TTe,"isTokenCharCode");function ygt(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t)if(!TTe(e.charCodeAt(t)))return!1;return!0}s(ygt,"isValidHTTPToken");var Cgt=/[^\t\x20-\x7e\x80-\xff]/;function xgt(e){return!Cgt.test(e)}s(xgt,"isValidHeaderValue");function vgt(e){if(e==null||e==="")return{start:0,end:null,size:null};let t=e?e.match(/^bytes (\d+)-(\d+)\/(\d+)?$/):null;return t?{start:parseInt(t[1]),end:t[2]?parseInt(t[2]):null,size:t[3]?parseInt(t[3]):null}:null}s(vgt,"parseRangeHeader");function bgt(e,t,r){return(e[yie]??=[]).push([t,r]),e.on(t,r),e}s(bgt,"addListener");function Egt(e){for(let[t,r]of e[yie]??[])e.removeListener(t,r);e[yie]=null}s(Egt,"removeAllListeners");function Igt(e,t,r){try{t.onError(r),WS(t.aborted)}catch(n){e.emit("error",n)}}s(Igt,"errorRequest");var wTe=Object.create(null);wTe.enumerable=!0;var Cie={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},_Te={...Cie,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(Cie,null);Object.setPrototypeOf(_Te,null);STe.exports={kEnumerableProperty:wTe,nop:zpt,isDisturbed:lgt,isErrored:cgt,isReadable:ugt,toUSVString:ITe,isUSVString:Agt,isBlobLike:gTe,parseOrigin:Kpt,parseURL:yTe,getServerName:Xpt,isStream:wU,isIterable:CTe,isAsyncIterable:egt,isDestroyed:vTe,headerNameToString:bTe,bufferToLowerCasedHeaderName:igt,addListener:bgt,removeAllListeners:Egt,errorRequest:Igt,parseRawHeaders:sgt,parseHeaders:ogt,parseKeepAliveTimeout:ngt,destroy:tgt,bodyLength:xTe,deepClone:Zpt,ReadableStreamFrom:dgt,isBuffer:ETe,validateHandler:agt,getSocketInfo:fgt,isFormDataLike:mgt,buildURL:Ypt,addAbortListener:hgt,isValidHTTPToken:ygt,isValidHeaderValue:xgt,isTokenCharCode:TTe,parseRangeHeader:vgt,normalizedMethodRecordsBase:Cie,normalizedMethodRecords:_Te,isValidPort:ATe,isHttpOrHttpsPrefixed:EU,nodeMajor:jpt,nodeMinor:Vpt,safeHTTPMethods:["GET","HEAD","OPTIONS","TRACE"],wrapRequestBody:$pt}});var c6=H((Rqr,kTe)=>{"use strict";d();var bo=require("node:diagnostics_channel"),vie=require("node:util"),_U=vie.debuglog("undici"),xie=vie.debuglog("fetch"),jv=vie.debuglog("websocket"),RTe=!1,Tgt={beforeConnect:bo.channel("undici:client:beforeConnect"),connected:bo.channel("undici:client:connected"),connectError:bo.channel("undici:client:connectError"),sendHeaders:bo.channel("undici:client:sendHeaders"),create:bo.channel("undici:request:create"),bodySent:bo.channel("undici:request:bodySent"),headers:bo.channel("undici:request:headers"),trailers:bo.channel("undici:request:trailers"),error:bo.channel("undici:request:error"),open:bo.channel("undici:websocket:open"),close:bo.channel("undici:websocket:close"),socketError:bo.channel("undici:websocket:socket_error"),ping:bo.channel("undici:websocket:ping"),pong:bo.channel("undici:websocket:pong")};if(_U.enabled||xie.enabled){let e=xie.enabled?xie:_U;bo.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:o}}=t;e("connecting to %s using %s%s",`${o}${i?`:${i}`:""}`,n,r)}),bo.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:o}}=t;e("connected to %s using %s%s",`${o}${i?`:${i}`:""}`,n,r)}),bo.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:o},error:a}=t;e("connection to %s using %s%s errored - %s",`${o}${i?`:${i}`:""}`,n,r,a.message)}),bo.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)}),bo.channel("undici:request:headers").subscribe(t=>{let{request:{method:r,path:n,origin:i},response:{statusCode:o}}=t;e("received response to %s %s/%s - HTTP %d",r,i,n,o)}),bo.channel("undici:request:trailers").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("trailers received from %s %s/%s",r,i,n)}),bo.channel("undici:request:error").subscribe(t=>{let{request:{method:r,path:n,origin:i},error:o}=t;e("request to %s %s/%s errored - %s",r,i,n,o.message)}),RTe=!0}if(jv.enabled){if(!RTe){let e=_U.enabled?_U:jv;bo.channel("undici:client:beforeConnect").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:o}}=t;e("connecting to %s%s using %s%s",o,i?`:${i}`:"",n,r)}),bo.channel("undici:client:connected").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:o}}=t;e("connected to %s%s using %s%s",o,i?`:${i}`:"",n,r)}),bo.channel("undici:client:connectError").subscribe(t=>{let{connectParams:{version:r,protocol:n,port:i,host:o},error:a}=t;e("connection to %s%s using %s%s errored - %s",o,i?`:${i}`:"",n,r,a.message)}),bo.channel("undici:client:sendHeaders").subscribe(t=>{let{request:{method:r,path:n,origin:i}}=t;e("sending request to %s %s/%s",r,i,n)})}bo.channel("undici:websocket:open").subscribe(e=>{let{address:{address:t,port:r}}=e;jv("connection opened %s%s",t,r?`:${r}`:"")}),bo.channel("undici:websocket:close").subscribe(e=>{let{websocket:t,code:r,reason:n}=e;jv("closed connection to %s - %s %s",t.url,r,n)}),bo.channel("undici:websocket:socket_error").subscribe(e=>{jv("connection errored - %s",e.message)}),bo.channel("undici:websocket:ping").subscribe(e=>{jv("ping received")}),bo.channel("undici:websocket:pong").subscribe(e=>{jv("pong received")})}kTe.exports={channels:Tgt}});var LTe=H((Bqr,NTe)=>{"use strict";d();var{InvalidArgumentError:ea,NotSupportedError:wgt}=Ao(),RA=require("node:assert"),{isValidHTTPToken:PTe,isValidHeaderValue:BTe,isStream:_gt,destroy:Sgt,isBuffer:Rgt,isFormDataLike:kgt,isIterable:Bgt,isBlobLike:Dgt,buildURL:Pgt,validateHandler:Ngt,getServerName:Lgt,normalizedMethodRecords:Fgt}=yi(),{channels:hg}=c6(),{headerNameLowerCasedRecord:DTe}=vU(),Mgt=/[^\u0021-\u00ff]/,zd=Symbol("handler"),bie=class{static{s(this,"Request")}constructor(t,{path:r,method:n,body:i,headers:o,query:a,idempotent:l,blocking:c,upgrade:u,headersTimeout:f,bodyTimeout:m,reset:h,throwOnError:p,expectContinue:g,servername:y},x){if(typeof r!="string")throw new ea("path must be a string");if(r[0]!=="/"&&!(r.startsWith("http://")||r.startsWith("https://"))&&n!=="CONNECT")throw new ea("path must be an absolute URL or start with a slash");if(Mgt.test(r))throw new ea("invalid request path");if(typeof n!="string")throw new ea("method must be a string");if(Fgt[n]===void 0&&!PTe(n))throw new ea("invalid request method");if(u&&typeof u!="string")throw new ea("upgrade must be a string");if(f!=null&&(!Number.isFinite(f)||f<0))throw new ea("invalid headersTimeout");if(m!=null&&(!Number.isFinite(m)||m<0))throw new ea("invalid bodyTimeout");if(h!=null&&typeof h!="boolean")throw new ea("invalid reset");if(g!=null&&typeof g!="boolean")throw new ea("invalid expectContinue");if(this.headersTimeout=f,this.bodyTimeout=m,this.throwOnError=p===!0,this.method=n,this.abort=null,i==null)this.body=null;else if(_gt(i)){this.body=i;let b=this.body._readableState;(!b||!b.autoDestroy)&&(this.endHandler=s(function(){Sgt(this)},"autoDestroy"),this.body.on("end",this.endHandler)),this.errorHandler=E=>{this.abort?this.abort(E):this.error=E},this.body.on("error",this.errorHandler)}else if(Rgt(i))this.body=i.byteLength?i:null;else if(ArrayBuffer.isView(i))this.body=i.buffer.byteLength?Buffer.from(i.buffer,i.byteOffset,i.byteLength):null;else if(i instanceof ArrayBuffer)this.body=i.byteLength?Buffer.from(i):null;else if(typeof i=="string")this.body=i.length?Buffer.from(i):null;else if(kgt(i)||Bgt(i)||Dgt(i))this.body=i;else throw new ea("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=u||null,this.path=a?Pgt(r,a):r,this.origin=t,this.idempotent=l??(n==="HEAD"||n==="GET"),this.blocking=c??!1,this.reset=h??null,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=g??!1,Array.isArray(o)){if(o.length%2!==0)throw new ea("headers array must be even");for(let b=0;b<o.length;b+=2)SU(this,o[b],o[b+1])}else if(o&&typeof o=="object")if(o[Symbol.iterator])for(let b of o){if(!Array.isArray(b)||b.length!==2)throw new ea("headers must be in key-value pair format");SU(this,b[0],b[1])}else{let b=Object.keys(o);for(let E=0;E<b.length;++E)SU(this,b[E],o[b[E]])}else if(o!=null)throw new ea("headers must be an object or an array");Ngt(x,n,u),this.servername=y||Lgt(this.host),this[zd]=x,hg.create.hasSubscribers&&hg.create.publish({request:this})}onBodySent(t){if(this[zd].onBodySent)try{return this[zd].onBodySent(t)}catch(r){this.abort(r)}}onRequestSent(){if(hg.bodySent.hasSubscribers&&hg.bodySent.publish({request:this}),this[zd].onRequestSent)try{return this[zd].onRequestSent()}catch(t){this.abort(t)}}onConnect(t){if(RA(!this.aborted),RA(!this.completed),this.error)t(this.error);else return this.abort=t,this[zd].onConnect(t)}onResponseStarted(){return this[zd].onResponseStarted?.()}onHeaders(t,r,n,i){RA(!this.aborted),RA(!this.completed),hg.headers.hasSubscribers&&hg.headers.publish({request:this,response:{statusCode:t,headers:r,statusText:i}});try{return this[zd].onHeaders(t,r,n,i)}catch(o){this.abort(o)}}onData(t){RA(!this.aborted),RA(!this.completed);try{return this[zd].onData(t)}catch(r){return this.abort(r),!1}}onUpgrade(t,r,n){return RA(!this.aborted),RA(!this.completed),this[zd].onUpgrade(t,r,n)}onComplete(t){this.onFinally(),RA(!this.aborted),this.completed=!0,hg.trailers.hasSubscribers&&hg.trailers.publish({request:this,trailers:t});try{return this[zd].onComplete(t)}catch(r){this.onError(r)}}onError(t){if(this.onFinally(),hg.error.hasSubscribers&&hg.error.publish({request:this,error:t}),!this.aborted)return this.aborted=!0,this[zd].onError(t)}onFinally(){this.errorHandler&&(this.body.off("error",this.errorHandler),this.errorHandler=null),this.endHandler&&(this.body.off("end",this.endHandler),this.endHandler=null)}addHeader(t,r){return SU(this,t,r),this}};function SU(e,t,r){if(r&&typeof r=="object"&&!Array.isArray(r))throw new ea(`invalid ${t} header`);if(r===void 0)return;let n=DTe[t];if(n===void 0&&(n=t.toLowerCase(),DTe[n]===void 0&&!PTe(n)))throw new ea("invalid header key");if(Array.isArray(r)){let i=[];for(let o=0;o<r.length;o++)if(typeof r[o]=="string"){if(!BTe(r[o]))throw new ea(`invalid ${t} header`);i.push(r[o])}else if(r[o]===null)i.push("");else{if(typeof r[o]=="object")throw new ea(`invalid ${t} header`);i.push(`${r[o]}`)}r=i}else if(typeof r=="string"){if(!BTe(r))throw new ea(`invalid ${t} header`)}else r===null?r="":r=`${r}`;if(e.host===null&&n==="host"){if(typeof r!="string")throw new ea("invalid host header");e.host=r}else if(e.contentLength===null&&n==="content-length"){if(e.contentLength=parseInt(r,10),!Number.isFinite(e.contentLength))throw new ea("invalid content-length header")}else if(e.contentType===null&&n==="content-type")e.contentType=r,e.headers.push(t,r);else{if(n==="transfer-encoding"||n==="keep-alive"||n==="upgrade")throw new ea(`invalid ${n} header`);if(n==="connection"){let i=typeof r=="string"?r.toLowerCase():null;if(i!=="close"&&i!=="keep-alive")throw new ea("invalid connection header");i==="close"&&(e.reset=!0)}else{if(n==="expect")throw new wgt("expect header not supported");e.headers.push(t,r)}}}s(SU,"processHeader");NTe.exports=bie});var GS=H((Nqr,FTe)=>{"use strict";d();var Qgt=require("node:events"),RU=class extends Qgt{static{s(this,"Dispatcher")}dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...t){let r=Array.isArray(t[0])?t[0]:t,n=this.dispatch.bind(this);for(let i of r)if(i!=null){if(typeof i!="function")throw new TypeError(`invalid interceptor, expected function received ${typeof i}`);if(n=i(n),n==null||typeof n!="function"||n.length!==2)throw new TypeError("invalid interceptor")}return new Eie(this,n)}},Eie=class extends RU{static{s(this,"ComposedDispatcher")}#e=null;#t=null;constructor(t,r){super(),this.#e=t,this.#t=r}dispatch(...t){this.#t(...t)}close(...t){return this.#e.close(...t)}destroy(...t){return this.#e.destroy(...t)}};FTe.exports=RU});var m6=H((Mqr,MTe)=>{"use strict";d();var Ogt=GS(),{ClientDestroyedError:Iie,ClientClosedError:Ugt,InvalidArgumentError:u6}=Ao(),{kDestroy:qgt,kClose:Wgt,kClosed:HS,kDestroyed:f6,kDispatch:Tie,kInterceptors:Vv}=Qs(),kA=Symbol("onDestroyed"),d6=Symbol("onClosed"),kU=Symbol("Intercepted Dispatch"),wie=class extends Ogt{static{s(this,"DispatcherBase")}constructor(){super(),this[f6]=!1,this[kA]=null,this[HS]=!1,this[d6]=[]}get destroyed(){return this[f6]}get closed(){return this[HS]}get interceptors(){return this[Vv]}set interceptors(t){if(t){for(let r=t.length-1;r>=0;r--)if(typeof this[Vv][r]!="function")throw new u6("interceptor must be an function")}this[Vv]=t}close(t){if(t===void 0)return new Promise((n,i)=>{this.close((o,a)=>o?i(o):n(a))});if(typeof t!="function")throw new u6("invalid callback");if(this[f6]){queueMicrotask(()=>t(new Iie,null));return}if(this[HS]){this[d6]?this[d6].push(t):queueMicrotask(()=>t(null,null));return}this[HS]=!0,this[d6].push(t);let r=s(()=>{let n=this[d6];this[d6]=null;for(let i=0;i<n.length;i++)n[i](null,null)},"onClosed");this[Wgt]().then(()=>this.destroy()).then(()=>{queueMicrotask(r)})}destroy(t,r){if(typeof t=="function"&&(r=t,t=null),r===void 0)return new Promise((i,o)=>{this.destroy(t,(a,l)=>a?o(a):i(l))});if(typeof r!="function")throw new u6("invalid callback");if(this[f6]){this[kA]?this[kA].push(r):queueMicrotask(()=>r(null,null));return}t||(t=new Iie),this[f6]=!0,this[kA]=this[kA]||[],this[kA].push(r);let n=s(()=>{let i=this[kA];this[kA]=null;for(let o=0;o<i.length;o++)i[o](null,null)},"onDestroyed");this[qgt](t).then(()=>{queueMicrotask(n)})}[kU](t,r){if(!this[Vv]||this[Vv].length===0)return this[kU]=this[Tie],this[Tie](t,r);let n=this[Tie].bind(this);for(let i=this[Vv].length-1;i>=0;i--)n=this[Vv][i](n);return this[kU]=n,n(t,r)}dispatch(t,r){if(!r||typeof r!="object")throw new u6("handler must be an object");try{if(!t||typeof t!="object")throw new u6("opts must be an object.");if(this[f6]||this[kA])throw new Iie;if(this[HS])throw new Ugt;return this[kU](t,r)}catch(n){if(typeof r.onError!="function")throw new u6("invalid onError method");return r.onError(n),!1}}};MTe.exports=wie});var Pie=H((Uqr,qTe)=>{"use strict";d();var h6=0,_ie=1e3,Sie=(_ie>>1)-1,BA,Rie=Symbol("kFastTimer"),DA=[],kie=-2,Bie=-1,OTe=0,QTe=1;function Die(){h6+=Sie;let e=0,t=DA.length;for(;e<t;){let r=DA[e];r._state===OTe?(r._idleStart=h6-Sie,r._state=QTe):r._state===QTe&&h6>=r._idleStart+r._idleTimeout&&(r._state=Bie,r._idleStart=-1,r._onTimeout(r._timerArg)),r._state===Bie?(r._state=kie,--t!==0&&(DA[e]=DA[t])):++e}DA.length=t,DA.length!==0&&UTe()}s(Die,"onTick");function UTe(){BA?BA.refresh():(clearTimeout(BA),BA=setTimeout(Die,Sie),BA.unref&&BA.unref())}s(UTe,"refreshTimeout");var BU=class{static{s(this,"FastTimer")}[Rie]=!0;_state=kie;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(t,r,n){this._onTimeout=t,this._idleTimeout=r,this._timerArg=n,this.refresh()}refresh(){this._state===kie&&DA.push(this),(!BA||DA.length===1)&&UTe(),this._state=OTe}clear(){this._state=Bie,this._idleStart=-1}};qTe.exports={setTimeout(e,t,r){return t<=_ie?setTimeout(e,t,r):new BU(e,t,r)},clearTimeout(e){e[Rie]?e.clear():clearTimeout(e)},setFastTimeout(e,t,r){return new BU(e,t,r)},clearFastTimeout(e){e.clear()},now(){return h6},tick(e=0){h6+=e-_ie+1,Die(),Die()},reset(){h6=0,DA.length=0,clearTimeout(BA),BA=null},kFastTimer:Rie}});var jS=H((jqr,VTe)=>{"use strict";d();var Ggt=require("node:net"),WTe=require("node:assert"),jTe=yi(),{InvalidArgumentError:Hgt,ConnectTimeoutError:jgt}=Ao(),DU=Pie();function GTe(){}s(GTe,"noop");var Nie,Lie;global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG)?Lie=class{static{s(this,"WeakSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry(r=>{if(this._sessionCache.size<this._maxCachedSessions)return;let n=this._sessionCache.get(r);n!==void 0&&n.deref()===void 0&&this._sessionCache.delete(r)})}get(t){let r=this._sessionCache.get(t);return r?r.deref():null}set(t,r){this._maxCachedSessions!==0&&(this._sessionCache.set(t,new WeakRef(r)),this._sessionRegistry.register(r,t))}}:Lie=class{static{s(this,"SimpleSessionCache")}constructor(t){this._maxCachedSessions=t,this._sessionCache=new Map}get(t){return this._sessionCache.get(t)}set(t,r){if(this._maxCachedSessions!==0){if(this._sessionCache.size>=this._maxCachedSessions){let{value:n}=this._sessionCache.keys().next();this._sessionCache.delete(n)}this._sessionCache.set(t,r)}}};function Vgt({allowH2:e,maxCachedSessions:t,socketPath:r,timeout:n,session:i,...o}){if(t!=null&&(!Number.isInteger(t)||t<0))throw new Hgt("maxCachedSessions must be a positive integer or zero");let a={path:r,...o},l=new Lie(t??100);return n=n??1e4,e=e??!1,s(function({hostname:u,host:f,protocol:m,port:h,servername:p,localAddress:g,httpSocket:y},x){let b;if(m==="https:"){Nie||(Nie=require("node:tls")),p=p||a.servername||jTe.getServerName(f)||null;let _=p||u;WTe(_);let k=i||l.get(_)||null;h=h||443,b=Nie.connect({highWaterMark:16384,...a,servername:p,session:k,localAddress:g,ALPNProtocols:e?["http/1.1","h2"]:["http/1.1"],socket:y,port:h,host:u}),b.on("session",function(B){l.set(_,B)})}else WTe(!y,"httpSocket can only be sent on TLS update"),h=h||80,b=Ggt.connect({highWaterMark:64*1024,...a,localAddress:g,port:h,host:u});if(a.keepAlive==null||a.keepAlive){let _=a.keepAliveInitialDelay===void 0?6e4:a.keepAliveInitialDelay;b.setKeepAlive(!0,_)}let E=$gt(new WeakRef(b),{timeout:n,hostname:u,port:h});return b.setNoDelay(!0).once(m==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(E),x){let _=x;x=null,_(null,this)}}).on("error",function(_){if(queueMicrotask(E),x){let k=x;x=null,k(_)}}),b},"connect")}s(Vgt,"buildConnector");var $gt=process.platform==="win32"?(e,t)=>{if(!t.timeout)return GTe;let r=null,n=null,i=DU.setFastTimeout(()=>{r=setImmediate(()=>{n=setImmediate(()=>HTe(e.deref(),t))})},t.timeout);return()=>{DU.clearFastTimeout(i),clearImmediate(r),clearImmediate(n)}}:(e,t)=>{if(!t.timeout)return GTe;let r=null,n=DU.setFastTimeout(()=>{r=setImmediate(()=>{HTe(e.deref(),t)})},t.timeout);return()=>{DU.clearFastTimeout(n),clearImmediate(r)}};function HTe(e,t){if(e==null)return;let r="Connect Timeout Error";Array.isArray(e.autoSelectFamilyAttemptedAddresses)?r+=` (attempted addresses: ${e.autoSelectFamilyAttemptedAddresses.join(", ")},`:r+=` (attempted address: ${t.hostname}:${t.port},`,r+=` timeout: ${t.timeout}ms)`,jTe.destroy(e,new jgt(r))}s(HTe,"onConnectTimeout");VTe.exports=Vgt});var $Te=H(PU=>{"use strict";d();Object.defineProperty(PU,"__esModule",{value:!0});PU.enumToMap=void 0;function zgt(e){let t={};return Object.keys(e).forEach(r=>{let n=e[r];typeof n=="number"&&(t[r]=n)}),t}s(zgt,"enumToMap");PU.enumToMap=zgt});var zTe=H(ir=>{"use strict";d();Object.defineProperty(ir,"__esModule",{value:!0});ir.SPECIAL_HEADERS=ir.HEADER_STATE=ir.MINOR=ir.MAJOR=ir.CONNECTION_TOKEN_CHARS=ir.HEADER_CHARS=ir.TOKEN=ir.STRICT_TOKEN=ir.HEX=ir.URL_CHAR=ir.STRICT_URL_CHAR=ir.USERINFO_CHARS=ir.MARK=ir.ALPHANUM=ir.NUM=ir.HEX_MAP=ir.NUM_MAP=ir.ALPHA=ir.FINISH=ir.H_METHOD_MAP=ir.METHOD_MAP=ir.METHODS_RTSP=ir.METHODS_ICE=ir.METHODS_HTTP=ir.METHODS=ir.LENIENT_FLAGS=ir.FLAGS=ir.TYPE=ir.ERROR=void 0;var Ygt=$Te(),Kgt;(function(e){e[e.OK=0]="OK",e[e.INTERNAL=1]="INTERNAL",e[e.STRICT=2]="STRICT",e[e.LF_EXPECTED=3]="LF_EXPECTED",e[e.UNEXPECTED_CONTENT_LENGTH=4]="UNEXPECTED_CONTENT_LENGTH",e[e.CLOSED_CONNECTION=5]="CLOSED_CONNECTION",e[e.INVALID_METHOD=6]="INVALID_METHOD",e[e.INVALID_URL=7]="INVALID_URL",e[e.INVALID_CONSTANT=8]="INVALID_CONSTANT",e[e.INVALID_VERSION=9]="INVALID_VERSION",e[e.INVALID_HEADER_TOKEN=10]="INVALID_HEADER_TOKEN",e[e.INVALID_CONTENT_LENGTH=11]="INVALID_CONTENT_LENGTH",e[e.INVALID_CHUNK_SIZE=12]="INVALID_CHUNK_SIZE",e[e.INVALID_STATUS=13]="INVALID_STATUS",e[e.INVALID_EOF_STATE=14]="INVALID_EOF_STATE",e[e.INVALID_TRANSFER_ENCODING=15]="INVALID_TRANSFER_ENCODING",e[e.CB_MESSAGE_BEGIN=16]="CB_MESSAGE_BEGIN",e[e.CB_HEADERS_COMPLETE=17]="CB_HEADERS_COMPLETE",e[e.CB_MESSAGE_COMPLETE=18]="CB_MESSAGE_COMPLETE",e[e.CB_CHUNK_HEADER=19]="CB_CHUNK_HEADER",e[e.CB_CHUNK_COMPLETE=20]="CB_CHUNK_COMPLETE",e[e.PAUSED=21]="PAUSED",e[e.PAUSED_UPGRADE=22]="PAUSED_UPGRADE",e[e.PAUSED_H2_UPGRADE=23]="PAUSED_H2_UPGRADE",e[e.USER=24]="USER"})(Kgt=ir.ERROR||(ir.ERROR={}));var Jgt;(function(e){e[e.BOTH=0]="BOTH",e[e.REQUEST=1]="REQUEST",e[e.RESPONSE=2]="RESPONSE"})(Jgt=ir.TYPE||(ir.TYPE={}));var Xgt;(function(e){e[e.CONNECTION_KEEP_ALIVE=1]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=2]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=4]="CONNECTION_UPGRADE",e[e.CHUNKED=8]="CHUNKED",e[e.UPGRADE=16]="UPGRADE",e[e.CONTENT_LENGTH=32]="CONTENT_LENGTH",e[e.SKIPBODY=64]="SKIPBODY",e[e.TRAILING=128]="TRAILING",e[e.TRANSFER_ENCODING=512]="TRANSFER_ENCODING"})(Xgt=ir.FLAGS||(ir.FLAGS={}));var Zgt;(function(e){e[e.HEADERS=1]="HEADERS",e[e.CHUNKED_LENGTH=2]="CHUNKED_LENGTH",e[e.KEEP_ALIVE=4]="KEEP_ALIVE"})(Zgt=ir.LENIENT_FLAGS||(ir.LENIENT_FLAGS={}));var hn;(function(e){e[e.DELETE=0]="DELETE",e[e.GET=1]="GET",e[e.HEAD=2]="HEAD",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.CONNECT=5]="CONNECT",e[e.OPTIONS=6]="OPTIONS",e[e.TRACE=7]="TRACE",e[e.COPY=8]="COPY",e[e.LOCK=9]="LOCK",e[e.MKCOL=10]="MKCOL",e[e.MOVE=11]="MOVE",e[e.PROPFIND=12]="PROPFIND",e[e.PROPPATCH=13]="PROPPATCH",e[e.SEARCH=14]="SEARCH",e[e.UNLOCK=15]="UNLOCK",e[e.BIND=16]="BIND",e[e.REBIND=17]="REBIND",e[e.UNBIND=18]="UNBIND",e[e.ACL=19]="ACL",e[e.REPORT=20]="REPORT",e[e.MKACTIVITY=21]="MKACTIVITY",e[e.CHECKOUT=22]="CHECKOUT",e[e.MERGE=23]="MERGE",e[e["M-SEARCH"]=24]="M-SEARCH",e[e.NOTIFY=25]="NOTIFY",e[e.SUBSCRIBE=26]="SUBSCRIBE",e[e.UNSUBSCRIBE=27]="UNSUBSCRIBE",e[e.PATCH=28]="PATCH",e[e.PURGE=29]="PURGE",e[e.MKCALENDAR=30]="MKCALENDAR",e[e.LINK=31]="LINK",e[e.UNLINK=32]="UNLINK",e[e.SOURCE=33]="SOURCE",e[e.PRI=34]="PRI",e[e.DESCRIBE=35]="DESCRIBE",e[e.ANNOUNCE=36]="ANNOUNCE",e[e.SETUP=37]="SETUP",e[e.PLAY=38]="PLAY",e[e.PAUSE=39]="PAUSE",e[e.TEARDOWN=40]="TEARDOWN",e[e.GET_PARAMETER=41]="GET_PARAMETER",e[e.SET_PARAMETER=42]="SET_PARAMETER",e[e.REDIRECT=43]="REDIRECT",e[e.RECORD=44]="RECORD",e[e.FLUSH=45]="FLUSH"})(hn=ir.METHODS||(ir.METHODS={}));ir.METHODS_HTTP=[hn.DELETE,hn.GET,hn.HEAD,hn.POST,hn.PUT,hn.CONNECT,hn.OPTIONS,hn.TRACE,hn.COPY,hn.LOCK,hn.MKCOL,hn.MOVE,hn.PROPFIND,hn.PROPPATCH,hn.SEARCH,hn.UNLOCK,hn.BIND,hn.REBIND,hn.UNBIND,hn.ACL,hn.REPORT,hn.MKACTIVITY,hn.CHECKOUT,hn.MERGE,hn["M-SEARCH"],hn.NOTIFY,hn.SUBSCRIBE,hn.UNSUBSCRIBE,hn.PATCH,hn.PURGE,hn.MKCALENDAR,hn.LINK,hn.UNLINK,hn.PRI,hn.SOURCE];ir.METHODS_ICE=[hn.SOURCE];ir.METHODS_RTSP=[hn.OPTIONS,hn.DESCRIBE,hn.ANNOUNCE,hn.SETUP,hn.PLAY,hn.PAUSE,hn.TEARDOWN,hn.GET_PARAMETER,hn.SET_PARAMETER,hn.REDIRECT,hn.RECORD,hn.FLUSH,hn.GET,hn.POST];ir.METHOD_MAP=Ygt.enumToMap(hn);ir.H_METHOD_MAP={};Object.keys(ir.METHOD_MAP).forEach(e=>{/^H/.test(e)&&(ir.H_METHOD_MAP[e]=ir.METHOD_MAP[e])});var e1t;(function(e){e[e.SAFE=0]="SAFE",e[e.SAFE_WITH_CB=1]="SAFE_WITH_CB",e[e.UNSAFE=2]="UNSAFE"})(e1t=ir.FINISH||(ir.FINISH={}));ir.ALPHA=[];for(let e=65;e<=90;e++)ir.ALPHA.push(String.fromCharCode(e)),ir.ALPHA.push(String.fromCharCode(e+32));ir.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};ir.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};ir.NUM=["0","1","2","3","4","5","6","7","8","9"];ir.ALPHANUM=ir.ALPHA.concat(ir.NUM);ir.MARK=["-","_",".","!","~","*","'","(",")"];ir.USERINFO_CHARS=ir.ALPHANUM.concat(ir.MARK).concat(["%",";",":","&","=","+","$",","]);ir.STRICT_URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(ir.ALPHANUM);ir.URL_CHAR=ir.STRICT_URL_CHAR.concat(["	","\f"]);for(let e=128;e<=255;e++)ir.URL_CHAR.push(e);ir.HEX=ir.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);ir.STRICT_TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(ir.ALPHANUM);ir.TOKEN=ir.STRICT_TOKEN.concat([" "]);ir.HEADER_CHARS=["	"];for(let e=32;e<=255;e++)e!==127&&ir.HEADER_CHARS.push(e);ir.CONNECTION_TOKEN_CHARS=ir.HEADER_CHARS.filter(e=>e!==44);ir.MAJOR=ir.NUM_MAP;ir.MINOR=ir.MAJOR;var p6;(function(e){e[e.GENERAL=0]="GENERAL",e[e.CONNECTION=1]="CONNECTION",e[e.CONTENT_LENGTH=2]="CONTENT_LENGTH",e[e.TRANSFER_ENCODING=3]="TRANSFER_ENCODING",e[e.UPGRADE=4]="UPGRADE",e[e.CONNECTION_KEEP_ALIVE=5]="CONNECTION_KEEP_ALIVE",e[e.CONNECTION_CLOSE=6]="CONNECTION_CLOSE",e[e.CONNECTION_UPGRADE=7]="CONNECTION_UPGRADE",e[e.TRANSFER_ENCODING_CHUNKED=8]="TRANSFER_ENCODING_CHUNKED"})(p6=ir.HEADER_STATE||(ir.HEADER_STATE={}));ir.SPECIAL_HEADERS={connection:p6.CONNECTION,"content-length":p6.CONTENT_LENGTH,"proxy-connection":p6.CONNECTION,"transfer-encoding":p6.TRANSFER_ENCODING,upgrade:p6.UPGRADE}});var Fie=H((Zqr,YTe)=>{"use strict";d();var{Buffer:t1t}=require("node:buffer");YTe.exports=t1t.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK07MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtXACAAQRhqQgA3AwAgAEIANwMAIABBOGpCADcDACAAQTBqQgA3AwAgAEEoakIANwMAIABBIGpCADcDACAAQRBqQgA3AwAgAEEIakIANwMAIABB3QE2AhwLBgAgABAyC5otAQt/IwBBEGsiCiQAQaTQACgCACIJRQRAQeTTACgCACIFRQRAQfDTAEJ/NwIAQejTAEKAgISAgIDAADcCAEHk0wAgCkEIakFwcUHYqtWqBXMiBTYCAEH40wBBADYCAEHI0wBBADYCAAtBzNMAQYDUBDYCAEGc0ABBgNQENgIAQbDQACAFNgIAQazQAEF/NgIAQdDTAEGArAM2AgADQCABQcjQAGogAUG80ABqIgI2AgAgAiABQbTQAGoiAzYCACABQcDQAGogAzYCACABQdDQAGogAUHE0ABqIgM2AgAgAyACNgIAIAFB2NAAaiABQczQAGoiAjYCACACIAM2AgAgAUHU0ABqIAI2AgAgAUEgaiIBQYACRw0AC0GM1ARBwasDNgIAQajQAEH00wAoAgA2AgBBmNAAQcCrAzYCAEGk0ABBiNQENgIAQcz/B0E4NgIAQYjUBCEJCwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB7AFNBEBBjNAAKAIAIgZBECAAQRNqQXBxIABBC0kbIgRBA3YiAHYiAUEDcQRAAkAgAUEBcSAAckEBcyICQQN0IgBBtNAAaiIBIABBvNAAaigCACIAKAIIIgNGBEBBjNAAIAZBfiACd3E2AgAMAQsgASADNgIIIAMgATYCDAsgAEEIaiEBIAAgAkEDdCICQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDBELQZTQACgCACIIIARPDQEgAQRAAkBBAiAAdCICQQAgAmtyIAEgAHRxaCIAQQN0IgJBtNAAaiIBIAJBvNAAaigCACICKAIIIgNGBEBBjNAAIAZBfiAAd3EiBjYCAAwBCyABIAM2AgggAyABNgIMCyACIARBA3I2AgQgAEEDdCIAIARrIQUgACACaiAFNgIAIAIgBGoiBCAFQQFyNgIEIAgEQCAIQXhxQbTQAGohAEGg0AAoAgAhAwJ/QQEgCEEDdnQiASAGcUUEQEGM0AAgASAGcjYCACAADAELIAAoAggLIgEgAzYCDCAAIAM2AgggAyAANgIMIAMgATYCCAsgAkEIaiEBQaDQACAENgIAQZTQACAFNgIADBELQZDQACgCACILRQ0BIAtoQQJ0QbzSAGooAgAiACgCBEF4cSAEayEFIAAhAgNAAkAgAigCECIBRQRAIAJBFGooAgAiAUUNAQsgASgCBEF4cSAEayIDIAVJIQIgAyAFIAIbIQUgASAAIAIbIQAgASECDAELCyAAKAIYIQkgACgCDCIDIABHBEBBnNAAKAIAGiADIAAoAggiATYCCCABIAM2AgwMEAsgAEEUaiICKAIAIgFFBEAgACgCECIBRQ0DIABBEGohAgsDQCACIQcgASIDQRRqIgIoAgAiAQ0AIANBEGohAiADKAIQIgENAAsgB0EANgIADA8LQX8hBCAAQb9/Sw0AIABBE2oiAUFwcSEEQZDQACgCACIIRQ0AQQAgBGshBQJAAkACQAJ/QQAgBEGAAkkNABpBHyAEQf///wdLDQAaIARBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBvNIAaigCACICRQRAQQAhAUEAIQMMAQtBACEBIARBGSAGQQF2a0EAIAZBH0cbdCEAQQAhAwNAAkAgAigCBEF4cSAEayIHIAVPDQAgAiEDIAciBQ0AQQAhBSACIQEMAwsgASACQRRqKAIAIgcgByACIABBHXZBBHFqQRBqKAIAIgJGGyABIAcbIQEgAEEBdCEAIAINAAsLIAEgA3JFBEBBACEDQQIgBnQiAEEAIABrciAIcSIARQ0DIABoQQJ0QbzSAGooAgAhAQsgAUUNAQsDQCABKAIEQXhxIARrIgIgBUkhACACIAUgABshBSABIAMgABshAyABKAIQIgAEfyAABSABQRRqKAIACyIBDQALCyADRQ0AIAVBlNAAKAIAIARrTw0AIAMoAhghByADIAMoAgwiAEcEQEGc0AAoAgAaIAAgAygCCCIBNgIIIAEgADYCDAwOCyADQRRqIgIoAgAiAUUEQCADKAIQIgFFDQMgA0EQaiECCwNAIAIhBiABIgBBFGoiAigCACIBDQAgAEEQaiECIAAoAhAiAQ0ACyAGQQA2AgAMDQtBlNAAKAIAIgMgBE8EQEGg0AAoAgAhAQJAIAMgBGsiAkEQTwRAIAEgBGoiACACQQFyNgIEIAEgA2ogAjYCACABIARBA3I2AgQMAQsgASADQQNyNgIEIAEgA2oiACAAKAIEQQFyNgIEQQAhAEEAIQILQZTQACACNgIAQaDQACAANgIAIAFBCGohAQwPC0GY0AAoAgAiAyAESwRAIAQgCWoiACADIARrIgFBAXI2AgRBpNAAIAA2AgBBmNAAIAE2AgAgCSAEQQNyNgIEIAlBCGohAQwPC0EAIQEgBAJ/QeTTACgCAARAQezTACgCAAwBC0Hw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBDGpBcHFB2KrVqgVzNgIAQfjTAEEANgIAQcjTAEEANgIAQYCABAsiACAEQccAaiIFaiIGQQAgAGsiB3EiAk8EQEH80wBBMDYCAAwPCwJAQcTTACgCACIBRQ0AQbzTACgCACIIIAJqIQAgACABTSAAIAhLcQ0AQQAhAUH80wBBMDYCAAwPC0HI0wAtAABBBHENBAJAAkAgCQRAQczTACEBA0AgASgCACIAIAlNBEAgACABKAIEaiAJSw0DCyABKAIIIgENAAsLQQAQMyIAQX9GDQUgAiEGQejTACgCACIBQQFrIgMgAHEEQCACIABrIAAgA2pBACABa3FqIQYLIAQgBk8NBSAGQf7///8HSw0FQcTTACgCACIDBEBBvNMAKAIAIgcgBmohASABIAdNDQYgASADSw0GCyAGEDMiASAARw0BDAcLIAYgA2sgB3EiBkH+////B0sNBCAGEDMhACAAIAEoAgAgASgCBGpGDQMgACEBCwJAIAYgBEHIAGpPDQAgAUF/Rg0AQezTACgCACIAIAUgBmtqQQAgAGtxIgBB/v///wdLBEAgASEADAcLIAAQM0F/RwRAIAAgBmohBiABIQAMBwtBACAGaxAzGgwECyABIgBBf0cNBQwDC0EAIQMMDAtBACEADAoLIABBf0cNAgtByNMAQcjTACgCAEEEcjYCAAsgAkH+////B0sNASACEDMhAEEAEDMhASAAQX9GDQEgAUF/Rg0BIAAgAU8NASABIABrIgYgBEE4ak0NAQtBvNMAQbzTACgCACAGaiIBNgIAQcDTACgCACABSQRAQcDTACABNgIACwJAAkACQEGk0AAoAgAiAgRAQczTACEBA0AgACABKAIAIgMgASgCBCIFakYNAiABKAIIIgENAAsMAgtBnNAAKAIAIgFBAEcgACABT3FFBEBBnNAAIAA2AgALQQAhAUHQ0wAgBjYCAEHM0wAgADYCAEGs0ABBfzYCAEGw0ABB5NMAKAIANgIAQdjTAEEANgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBeCAAa0EPcSIBIABqIgIgBkE4ayIDIAFrIgFBAXI2AgRBqNAAQfTTACgCADYCAEGY0AAgATYCAEGk0AAgAjYCACAAIANqQTg2AgQMAgsgACACTQ0AIAIgA0kNACABKAIMQQhxDQBBeCACa0EPcSIAIAJqIgNBmNAAKAIAIAZqIgcgAGsiAEEBcjYCBCABIAUgBmo2AgRBqNAAQfTTACgCADYCAEGY0AAgADYCAEGk0AAgAzYCACACIAdqQTg2AgQMAQsgAEGc0AAoAgBJBEBBnNAAIAA2AgALIAAgBmohA0HM0wAhAQJAAkACQANAIAMgASgCAEcEQCABKAIIIgENAQwCCwsgAS0ADEEIcUUNAQtBzNMAIQEDQCABKAIAIgMgAk0EQCADIAEoAgRqIgUgAksNAwsgASgCCCEBDAALAAsgASAANgIAIAEgASgCBCAGajYCBCAAQXggAGtBD3FqIgkgBEEDcjYCBCADQXggA2tBD3FqIgYgBCAJaiIEayEBIAIgBkYEQEGk0AAgBDYCAEGY0ABBmNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEDAgLQaDQACgCACAGRgRAQaDQACAENgIAQZTQAEGU0AAoAgAgAWoiADYCACAEIABBAXI2AgQgACAEaiAANgIADAgLIAYoAgQiBUEDcUEBRw0GIAVBeHEhCCAFQf8BTQRAIAVBA3YhAyAGKAIIIgAgBigCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBwsgAiAANgIIIAAgAjYCDAwGCyAGKAIYIQcgBiAGKAIMIgBHBEAgACAGKAIIIgI2AgggAiAANgIMDAULIAZBFGoiAigCACIFRQRAIAYoAhAiBUUNBCAGQRBqIQILA0AgAiEDIAUiAEEUaiICKAIAIgUNACAAQRBqIQIgACgCECIFDQALIANBADYCAAwEC0F4IABrQQ9xIgEgAGoiByAGQThrIgMgAWsiAUEBcjYCBCAAIANqQTg2AgQgAiAFQTcgBWtBD3FqQT9rIgMgAyACQRBqSRsiA0EjNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAc2AgAgA0EQakHU0wApAgA3AgAgA0HM0wApAgA3AghB1NMAIANBCGo2AgBB0NMAIAY2AgBBzNMAIAA2AgBB2NMAQQA2AgAgA0EkaiEBA0AgAUEHNgIAIAUgAUEEaiIBSw0ACyACIANGDQAgAyADKAIEQX5xNgIEIAMgAyACayIFNgIAIAIgBUEBcjYCBCAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIDcUUEQEGM0AAgASADcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEGQ0AAoAgAiA0EBIAF0IgZxRQRAIAAgAjYCAEGQ0AAgAyAGcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQMCQANAIAMiACgCBEF4cSAFRg0BIAFBHXYhAyABQQF0IQEgACADQQRxakEQaiIGKAIAIgMNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAtBmNAAKAIAIgEgBE0NAEGk0AAoAgAiACAEaiICIAEgBGsiAUEBcjYCBEGY0AAgATYCAEGk0AAgAjYCACAAIARBA3I2AgQgAEEIaiEBDAgLQQAhAUH80wBBMDYCAAwHC0EAIQALIAdFDQACQCAGKAIcIgJBAnRBvNIAaiIDKAIAIAZGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAdBEEEUIAcoAhAgBkYbaiAANgIAIABFDQELIAAgBzYCGCAGKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAGQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAIaiEBIAYgCGoiBigCBCEFCyAGIAVBfnE2AgQgASAEaiABNgIAIAQgAUEBcjYCBCABQf8BTQRAIAFBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASABQQN2dCIBcUUEQEGM0AAgASACcjYCACAADAELIAAoAggLIgEgBDYCDCAAIAQ2AgggBCAANgIMIAQgATYCCAwBC0EfIQUgAUH///8HTQRAIAFBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmohBQsgBCAFNgIcIARCADcCECAFQQJ0QbzSAGohAEGQ0AAoAgAiAkEBIAV0IgNxRQRAIAAgBDYCAEGQ0AAgAiADcjYCACAEIAA2AhggBCAENgIIIAQgBDYCDAwBCyABQRkgBUEBdmtBACAFQR9HG3QhBSAAKAIAIQACQANAIAAiAigCBEF4cSABRg0BIAVBHXYhACAFQQF0IQUgAiAAQQRxakEQaiIDKAIAIgANAAsgAyAENgIAIAQgAjYCGCAEIAQ2AgwgBCAENgIIDAELIAIoAggiACAENgIMIAIgBDYCCCAEQQA2AhggBCACNgIMIAQgADYCCAsgCUEIaiEBDAILAkAgB0UNAAJAIAMoAhwiAUECdEG80gBqIgIoAgAgA0YEQCACIAA2AgAgAA0BQZDQACAIQX4gAXdxIgg2AgAMAgsgB0EQQRQgBygCECADRhtqIAA2AgAgAEUNAQsgACAHNgIYIAMoAhAiAQRAIAAgATYCECABIAA2AhgLIANBFGooAgAiAUUNACAAQRRqIAE2AgAgASAANgIYCwJAIAVBD00EQCADIAQgBWoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARqIgIgBUEBcjYCBCADIARBA3I2AgQgAiAFaiAFNgIAIAVB/wFNBEAgBUF4cUG00ABqIQACf0GM0AAoAgAiAUEBIAVBA3Z0IgVxRQRAQYzQACABIAVyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRBvNIAaiEAQQEgAXQiBCAIcUUEQCAAIAI2AgBBkNAAIAQgCHI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEEAkADQCAEIgAoAgRBeHEgBUYNASABQR12IQQgAUEBdCEBIAAgBEEEcWpBEGoiBigCACIEDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLIANBCGohAQwBCwJAIAlFDQACQCAAKAIcIgFBAnRBvNIAaiICKAIAIABGBEAgAiADNgIAIAMNAUGQ0AAgC0F+IAF3cTYCAAwCCyAJQRBBFCAJKAIQIABGG2ogAzYCACADRQ0BCyADIAk2AhggACgCECIBBEAgAyABNgIQIAEgAzYCGAsgAEEUaigCACIBRQ0AIANBFGogATYCACABIAM2AhgLAkAgBUEPTQRAIAAgBCAFaiIBQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEDAELIAAgBGoiByAFQQFyNgIEIAAgBEEDcjYCBCAFIAdqIAU2AgAgCARAIAhBeHFBtNAAaiEBQaDQACgCACEDAn9BASAIQQN2dCICIAZxRQRAQYzQACACIAZyNgIAIAEMAQsgASgCCAsiAiADNgIMIAEgAzYCCCADIAE2AgwgAyACNgIIC0Gg0AAgBzYCAEGU0AAgBTYCAAsgAEEIaiEBCyAKQRBqJAAgAQtDACAARQRAPwBBEHQPCwJAIABB//8DcQ0AIABBAEgNACAAQRB2QAAiAEF/RgRAQfzTAEEwNgIAQX8PCyAAQRB0DwsACwvcPyIAQYAICwkBAAAAAgAAAAMAQZQICwUEAAAABQBBpAgLCQYAAAAHAAAACABB3AgLii1JbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AFJlc3BvbnNlIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAFBhdXNlIG9uIENPTk5FQ1QvVXBncmFkZQBQYXVzZSBvbiBQUkkvVXBncmFkZQBFeHBlY3RlZCBIVFRQLzIgQ29ubmVjdGlvbiBQcmVmYWNlAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fbWV0aG9kAEV4cGVjdGVkIHNwYWNlIGFmdGVyIG1ldGhvZABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl9maWVsZABQYXVzZWQASW52YWxpZCB3b3JkIGVuY291bnRlcmVkAEludmFsaWQgbWV0aG9kIGVuY291bnRlcmVkAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2NoZW1hAFJlcXVlc3QgaGFzIGludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAF4TAAAmEwAAMBAAAPAXAACdEwAAFRIAADkXAADwEgAAChAAAHUSAACtEgAAghMAAE8UAAB/EAAAoBUAACMUAACJEgAAixQAAE0VAADUEQAAzxQAABAYAADJFgAA3BYAAMERAADgFwAAuxQAAHQUAAB8FQAA5RQAAAgXAAAfEAAAZRUAAKMUAAAoFQAAAhUAAJkVAAAsEAAAixkAAE8PAADUDgAAahAAAM4QAAACFwAAiQ4AAG4TAAAcEwAAZhQAAFYXAADBEwAAzRMAAGwTAABoFwAAZhcAAF8XAAAiEwAAzg8AAGkOAADYDgAAYxYAAMsTAACqDgAAKBcAACYXAADFEwAAXRYAAOgRAABnEwAAZRMAAPIWAABzEwAAHRcAAPkWAADzEQAAzw4AAM4VAAAMEgAAsxEAAKURAABhEAAAMhcAALsTAEH5NQsBAQBBkDYL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB/TcLAQEAQZE4C14CAwICAgICAAACAgACAgACAgICAgICAgICAAQAAAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEH9OQsBAQBBkToLXgIAAgICAgIAAAICAAICAAICAgICAgICAgIAAwAEAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgIAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgICAgACAAIAQfA7Cw1sb3NlZWVwLWFsaXZlAEGJPAsBAQBBoDwL4AEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBBiT4LAQEAQaA+C+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGwwAALXwEBAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGQwgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBwMIACy1yYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNCg0KU00NCg0KVFRQL0NFL1RTUC8AQfnCAAsFAQIAAQMAQZDDAAvgAQQBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5xAALBQECAAEDAEGQxQAL4AEEAQEFAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cYACwQBAAABAEGRxwAL3wEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH6yAALBAEAAAIAQZDJAAtfAwQAAAQEBAQEBAQEBAQEBQQEBAQEBAQEBAQEBAAEAAYHBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQAQfrKAAsEAQAAAQBBkMsACwEBAEGqywALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEH6zAALBAEAAAEAQZDNAAsBAQBBms0ACwYCAAAAAAIAQbHNAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB8M4AC5YBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRU9SRElSRUNUT1JUUkNIUEFSQU1FVEVSVVJDRUJTQ1JJQkVBUkRPV05BQ0VJTkROS0NLVUJTQ1JJQkVIVFRQL0FEVFAv","base64")});var JTe=H((tWr,KTe)=>{"use strict";d();var{Buffer:r1t}=require("node:buffer");KTe.exports=r1t.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAX8AYAJ/fwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAy0sBQYAAAIAAAAAAAACAQIAAgICAAADAAAAAAMDAwMBAQEBAQEBAQEAAAIAAAAEBQFwARISBQMBAAIGCAF/AUGA1AQLB9EFIgZtZW1vcnkCAAtfaW5pdGlhbGl6ZQAIGV9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGUBAAtsbGh0dHBfaW5pdAAJGGxsaHR0cF9zaG91bGRfa2VlcF9hbGl2ZQAvDGxsaHR0cF9hbGxvYwALBm1hbGxvYwAxC2xsaHR0cF9mcmVlAAwEZnJlZQAMD2xsaHR0cF9nZXRfdHlwZQANFWxsaHR0cF9nZXRfaHR0cF9tYWpvcgAOFWxsaHR0cF9nZXRfaHR0cF9taW5vcgAPEWxsaHR0cF9nZXRfbWV0aG9kABAWbGxodHRwX2dldF9zdGF0dXNfY29kZQAREmxsaHR0cF9nZXRfdXBncmFkZQASDGxsaHR0cF9yZXNldAATDmxsaHR0cF9leGVjdXRlABQUbGxodHRwX3NldHRpbmdzX2luaXQAFQ1sbGh0dHBfZmluaXNoABYMbGxodHRwX3BhdXNlABcNbGxodHRwX3Jlc3VtZQAYG2xsaHR0cF9yZXN1bWVfYWZ0ZXJfdXBncmFkZQAZEGxsaHR0cF9nZXRfZXJybm8AGhdsbGh0dHBfZ2V0X2Vycm9yX3JlYXNvbgAbF2xsaHR0cF9zZXRfZXJyb3JfcmVhc29uABwUbGxodHRwX2dldF9lcnJvcl9wb3MAHRFsbGh0dHBfZXJybm9fbmFtZQAeEmxsaHR0cF9tZXRob2RfbmFtZQAfEmxsaHR0cF9zdGF0dXNfbmFtZQAgGmxsaHR0cF9zZXRfbGVuaWVudF9oZWFkZXJzACEhbGxodHRwX3NldF9sZW5pZW50X2NodW5rZWRfbGVuZ3RoACIdbGxodHRwX3NldF9sZW5pZW50X2tlZXBfYWxpdmUAIyRsbGh0dHBfc2V0X2xlbmllbnRfdHJhbnNmZXJfZW5jb2RpbmcAJBhsbGh0dHBfbWVzc2FnZV9uZWVkc19lb2YALgkXAQBBAQsRAQIDBAUKBgcrLSwqKSglJyYK77MCLBYAQYjQACgCAARAAAtBiNAAQQE2AgALFAAgABAwIAAgAjYCOCAAIAE6ACgLFAAgACAALwEyIAAtAC4gABAvEAALHgEBf0HAABAyIgEQMCABQYAINgI4IAEgADoAKCABC48MAQd/AkAgAEUNACAAQQhrIgEgAEEEaygCACIAQXhxIgRqIQUCQCAAQQFxDQAgAEEDcUUNASABIAEoAgAiAGsiAUGc0AAoAgBJDQEgACAEaiEEAkACQEGg0AAoAgAgAUcEQCAAQf8BTQRAIABBA3YhAyABKAIIIgAgASgCDCICRgRAQYzQAEGM0AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyABKAIYIQYgASABKAIMIgBHBEAgACABKAIIIgI2AgggAiAANgIMDAMLIAFBFGoiAygCACICRQRAIAEoAhAiAkUNAiABQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFKAIEIgBBA3FBA0cNAiAFIABBfnE2AgRBlNAAIAQ2AgAgBSAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCABKAIcIgJBAnRBvNIAaiIDKAIAIAFGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgAUYbaiAANgIAIABFDQELIAAgBjYCGCABKAIQIgIEQCAAIAI2AhAgAiAANgIYCyABQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAFTw0AIAUoAgQiAEEBcUUNAAJAAkACQAJAIABBAnFFBEBBpNAAKAIAIAVGBEBBpNAAIAE2AgBBmNAAQZjQACgCACAEaiIANgIAIAEgAEEBcjYCBCABQaDQACgCAEcNBkGU0ABBADYCAEGg0ABBADYCAAwGC0Gg0AAoAgAgBUYEQEGg0AAgATYCAEGU0ABBlNAAKAIAIARqIgA2AgAgASAAQQFyNgIEIAAgAWogADYCAAwGCyAAQXhxIARqIQQgAEH/AU0EQCAAQQN2IQMgBSgCCCIAIAUoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAULIAIgADYCCCAAIAI2AgwMBAsgBSgCGCEGIAUgBSgCDCIARwRAQZzQACgCABogACAFKAIIIgI2AgggAiAANgIMDAMLIAVBFGoiAygCACICRQRAIAUoAhAiAkUNAiAFQRBqIQMLA0AgAyEHIAIiAEEUaiIDKAIAIgINACAAQRBqIQMgACgCECICDQALIAdBADYCAAwCCyAFIABBfnE2AgQgASAEaiAENgIAIAEgBEEBcjYCBAwDC0EAIQALIAZFDQACQCAFKAIcIgJBAnRBvNIAaiIDKAIAIAVGBEAgAyAANgIAIAANAUGQ0ABBkNAAKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiAANgIAIABFDQELIAAgBjYCGCAFKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAFQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAEaiAENgIAIAEgBEEBcjYCBCABQaDQACgCAEcNAEGU0AAgBDYCAAwBCyAEQf8BTQRAIARBeHFBtNAAaiEAAn9BjNAAKAIAIgJBASAEQQN2dCIDcUUEQEGM0AAgAiADcjYCACAADAELIAAoAggLIgIgATYCDCAAIAE2AgggASAANgIMIAEgAjYCCAwBC0EfIQIgBEH///8HTQRAIARBJiAEQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAgsgASACNgIcIAFCADcCECACQQJ0QbzSAGohAAJAQZDQACgCACIDQQEgAnQiB3FFBEAgACABNgIAQZDQACADIAdyNgIAIAEgADYCGCABIAE2AgggASABNgIMDAELIARBGSACQQF2a0EAIAJBH0cbdCECIAAoAgAhAAJAA0AgACIDKAIEQXhxIARGDQEgAkEddiEAIAJBAXQhAiADIABBBHFqQRBqIgcoAgAiAA0ACyAHIAE2AgAgASADNgIYIAEgATYCDCABIAE2AggMAQsgAygCCCIAIAE2AgwgAyABNgIIIAFBADYCGCABIAM2AgwgASAANgIIC0Gs0ABBrNAAKAIAQQFrIgBBfyAAGzYCAAsLBwAgAC0AKAsHACAALQAqCwcAIAAtACsLBwAgAC0AKQsHACAALwEyCwcAIAAtAC4LQAEEfyAAKAIYIQEgAC0ALSECIAAtACghAyAAKAI4IQQgABAwIAAgBDYCOCAAIAM6ACggACACOgAtIAAgATYCGAu74gECB38DfiABIAJqIQQCQCAAIgIoAgwiAA0AIAIoAgQEQCACIAE2AgQLIwBBEGsiCCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAhwiA0EBaw7dAdoBAdkBAgMEBQYHCAkKCwwNDtgBDxDXARES1gETFBUWFxgZGhvgAd8BHB0e1QEfICEiIyQl1AEmJygpKiss0wHSAS0u0QHQAS8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRtsBR0hJSs8BzgFLzQFMzAFNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAZABkQGSAZMBlAGVAZYBlwGYAZkBmgGbAZwBnQGeAZ8BoAGhAaIBowGkAaUBpgGnAagBqQGqAasBrAGtAa4BrwGwAbEBsgGzAbQBtQG2AbcBywHKAbgByQG5AcgBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgEA3AELQQAMxgELQQ4MxQELQQ0MxAELQQ8MwwELQRAMwgELQRMMwQELQRQMwAELQRUMvwELQRYMvgELQRgMvQELQRkMvAELQRoMuwELQRsMugELQRwMuQELQR0MuAELQQgMtwELQR4MtgELQSAMtQELQR8MtAELQQcMswELQSEMsgELQSIMsQELQSMMsAELQSQMrwELQRIMrgELQREMrQELQSUMrAELQSYMqwELQScMqgELQSgMqQELQcMBDKgBC0EqDKcBC0ErDKYBC0EsDKUBC0EtDKQBC0EuDKMBC0EvDKIBC0HEAQyhAQtBMAygAQtBNAyfAQtBDAyeAQtBMQydAQtBMgycAQtBMwybAQtBOQyaAQtBNQyZAQtBxQEMmAELQQsMlwELQToMlgELQTYMlQELQQoMlAELQTcMkwELQTgMkgELQTwMkQELQTsMkAELQT0MjwELQQkMjgELQSkMjQELQT4MjAELQT8MiwELQcAADIoBC0HBAAyJAQtBwgAMiAELQcMADIcBC0HEAAyGAQtBxQAMhQELQcYADIQBC0EXDIMBC0HHAAyCAQtByAAMgQELQckADIABC0HKAAx/C0HLAAx+C0HNAAx9C0HMAAx8C0HOAAx7C0HPAAx6C0HQAAx5C0HRAAx4C0HSAAx3C0HTAAx2C0HUAAx1C0HWAAx0C0HVAAxzC0EGDHILQdcADHELQQUMcAtB2AAMbwtBBAxuC0HZAAxtC0HaAAxsC0HbAAxrC0HcAAxqC0EDDGkLQd0ADGgLQd4ADGcLQd8ADGYLQeEADGULQeAADGQLQeIADGMLQeMADGILQQIMYQtB5AAMYAtB5QAMXwtB5gAMXgtB5wAMXQtB6AAMXAtB6QAMWwtB6gAMWgtB6wAMWQtB7AAMWAtB7QAMVwtB7gAMVgtB7wAMVQtB8AAMVAtB8QAMUwtB8gAMUgtB8wAMUQtB9AAMUAtB9QAMTwtB9gAMTgtB9wAMTQtB+AAMTAtB+QAMSwtB+gAMSgtB+wAMSQtB/AAMSAtB/QAMRwtB/gAMRgtB/wAMRQtBgAEMRAtBgQEMQwtBggEMQgtBgwEMQQtBhAEMQAtBhQEMPwtBhgEMPgtBhwEMPQtBiAEMPAtBiQEMOwtBigEMOgtBiwEMOQtBjAEMOAtBjQEMNwtBjgEMNgtBjwEMNQtBkAEMNAtBkQEMMwtBkgEMMgtBkwEMMQtBlAEMMAtBlQEMLwtBlgEMLgtBlwEMLQtBmAEMLAtBmQEMKwtBmgEMKgtBmwEMKQtBnAEMKAtBnQEMJwtBngEMJgtBnwEMJQtBoAEMJAtBoQEMIwtBogEMIgtBowEMIQtBpAEMIAtBpQEMHwtBpgEMHgtBpwEMHQtBqAEMHAtBqQEMGwtBqgEMGgtBqwEMGQtBrAEMGAtBrQEMFwtBrgEMFgtBAQwVC0GvAQwUC0GwAQwTC0GxAQwSC0GzAQwRC0GyAQwQC0G0AQwPC0G1AQwOC0G2AQwNC0G3AQwMC0G4AQwLC0G5AQwKC0G6AQwJC0G7AQwIC0HGAQwHC0G8AQwGC0G9AQwFC0G+AQwEC0G/AQwDC0HAAQwCC0HCAQwBC0HBAQshAwNAAkACQAJAAkACQAJAAkACQAJAIAICfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAgJ/AkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCADDsYBAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHyAhIyUmKCorLC8wMTIzNDU2Nzk6Ozw9lANAQkRFRklLTk9QUVJTVFVWWFpbXF1eX2BhYmNkZWZnaGpsb3Bxc3V2eHl6e3x/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHGAccByAHJAcsBzAHNAc4BzwGKA4kDiAOHA4QDgwOAA/sC+gL5AvgC9wL0AvMC8gLLAsECsALZAQsgASAERw3wAkHdASEDDLMDCyABIARHDcgBQcMBIQMMsgMLIAEgBEcNe0H3ACEDDLEDCyABIARHDXBB7wAhAwywAwsgASAERw1pQeoAIQMMrwMLIAEgBEcNZUHoACEDDK4DCyABIARHDWJB5gAhAwytAwsgASAERw0aQRghAwysAwsgASAERw0VQRIhAwyrAwsgASAERw1CQcUAIQMMqgMLIAEgBEcNNEE/IQMMqQMLIAEgBEcNMkE8IQMMqAMLIAEgBEcNK0ExIQMMpwMLIAItAC5BAUYNnwMMwQILQQAhAAJAAkACQCACLQAqRQ0AIAItACtFDQAgAi8BMCIDQQJxRQ0BDAILIAIvATAiA0EBcUUNAQtBASEAIAItAChBAUYNACACLwEyIgVB5ABrQeQASQ0AIAVBzAFGDQAgBUGwAkYNACADQcAAcQ0AQQAhACADQYgEcUGABEYNACADQShxQQBHIQALIAJBADsBMCACQQA6AC8gAEUN3wIgAkIANwMgDOACC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAARQ3MASAAQRVHDd0CIAJBBDYCHCACIAE2AhQgAkGwGDYCECACQRU2AgxBACEDDKQDCyABIARGBEBBBiEDDKQDCyABQQFqIQFBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAA3ZAgwcCyACQgA3AyBBEiEDDIkDCyABIARHDRZBHSEDDKEDCyABIARHBEAgAUEBaiEBQRAhAwyIAwtBByEDDKADCyACIAIpAyAiCiAEIAFrrSILfSIMQgAgCiAMWhs3AyAgCiALWA3UAkEIIQMMnwMLIAEgBEcEQCACQQk2AgggAiABNgIEQRQhAwyGAwtBCSEDDJ4DCyACKQMgQgBSDccBIAIgAi8BMEGAAXI7ATAMQgsgASAERw0/QdAAIQMMnAMLIAEgBEYEQEELIQMMnAMLIAFBAWohAUEAIQACQCACKAI4IgNFDQAgAygCUCIDRQ0AIAIgAxEAACEACyAADc8CDMYBC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ3GASAAQRVHDc0CIAJBCzYCHCACIAE2AhQgAkGCGTYCECACQRU2AgxBACEDDJoDC0EAIQACQCACKAI4IgNFDQAgAygCSCIDRQ0AIAIgAxEAACEACyAARQ0MIABBFUcNygIgAkEaNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMmQMLQQAhAAJAIAIoAjgiA0UNACADKAJMIgNFDQAgAiADEQAAIQALIABFDcQBIABBFUcNxwIgAkELNgIcIAIgATYCFCACQZEXNgIQIAJBFTYCDEEAIQMMmAMLIAEgBEYEQEEPIQMMmAMLIAEtAAAiAEE7Rg0HIABBDUcNxAIgAUEBaiEBDMMBC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3DASAAQRVHDcICIAJBDzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJYDCwNAIAEtAABB8DVqLQAAIgBBAUcEQCAAQQJHDcECIAIoAgQhAEEAIQMgAkEANgIEIAIgACABQQFqIgEQLSIADcICDMUBCyAEIAFBAWoiAUcNAAtBEiEDDJUDC0EAIQACQCACKAI4IgNFDQAgAygCTCIDRQ0AIAIgAxEAACEACyAARQ3FASAAQRVHDb0CIAJBGzYCHCACIAE2AhQgAkGRFzYCECACQRU2AgxBACEDDJQDCyABIARGBEBBFiEDDJQDCyACQQo2AgggAiABNgIEQQAhAAJAIAIoAjgiA0UNACADKAJIIgNFDQAgAiADEQAAIQALIABFDcIBIABBFUcNuQIgAkEVNgIcIAIgATYCFCACQYIZNgIQIAJBFTYCDEEAIQMMkwMLIAEgBEcEQANAIAEtAABB8DdqLQAAIgBBAkcEQAJAIABBAWsOBMQCvQIAvgK9AgsgAUEBaiEBQQghAwz8AgsgBCABQQFqIgFHDQALQRUhAwyTAwtBFSEDDJIDCwNAIAEtAABB8DlqLQAAIgBBAkcEQCAAQQFrDgTFArcCwwK4ArcCCyAEIAFBAWoiAUcNAAtBGCEDDJEDCyABIARHBEAgAkELNgIIIAIgATYCBEEHIQMM+AILQRkhAwyQAwsgAUEBaiEBDAILIAEgBEYEQEEaIQMMjwMLAkAgAS0AAEENaw4UtQG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwG/Ab8BvwEAvwELQQAhAyACQQA2AhwgAkGvCzYCECACQQI2AgwgAiABQQFqNgIUDI4DCyABIARGBEBBGyEDDI4DCyABLQAAIgBBO0cEQCAAQQ1HDbECIAFBAWohAQy6AQsgAUEBaiEBC0EiIQMM8wILIAEgBEYEQEEcIQMMjAMLQgAhCgJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAS0AAEEwaw43wQLAAgABAgMEBQYH0AHQAdAB0AHQAdAB0AEICQoLDA3QAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdABDg8QERIT0AELQgIhCgzAAgtCAyEKDL8CC0IEIQoMvgILQgUhCgy9AgtCBiEKDLwCC0IHIQoMuwILQgghCgy6AgtCCSEKDLkCC0IKIQoMuAILQgshCgy3AgtCDCEKDLYCC0INIQoMtQILQg4hCgy0AgtCDyEKDLMCC0IKIQoMsgILQgshCgyxAgtCDCEKDLACC0INIQoMrwILQg4hCgyuAgtCDyEKDK0CC0IAIQoCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsON8ACvwIAAQIDBAUGB74CvgK+Ar4CvgK+Ar4CCAkKCwwNvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ar4CvgK+Ag4PEBESE74CC0ICIQoMvwILQgMhCgy+AgtCBCEKDL0CC0IFIQoMvAILQgYhCgy7AgtCByEKDLoCC0IIIQoMuQILQgkhCgy4AgtCCiEKDLcCC0ILIQoMtgILQgwhCgy1AgtCDSEKDLQCC0IOIQoMswILQg8hCgyyAgtCCiEKDLECC0ILIQoMsAILQgwhCgyvAgtCDSEKDK4CC0IOIQoMrQILQg8hCgysAgsgAiACKQMgIgogBCABa60iC30iDEIAIAogDFobNwMgIAogC1gNpwJBHyEDDIkDCyABIARHBEAgAkEJNgIIIAIgATYCBEElIQMM8AILQSAhAwyIAwtBASEFIAIvATAiA0EIcUUEQCACKQMgQgBSIQULAkAgAi0ALgRAQQEhACACLQApQQVGDQEgA0HAAHFFIAVxRQ0BC0EAIQAgA0HAAHENAEECIQAgA0EIcQ0AIANBgARxBEACQCACLQAoQQFHDQAgAi0ALUEKcQ0AQQUhAAwCC0EEIQAMAQsgA0EgcUUEQAJAIAItAChBAUYNACACLwEyIgBB5ABrQeQASQ0AIABBzAFGDQAgAEGwAkYNAEEEIQAgA0EocUUNAiADQYgEcUGABEYNAgtBACEADAELQQBBAyACKQMgUBshAAsgAEEBaw4FvgIAsAEBpAKhAgtBESEDDO0CCyACQQE6AC8MhAMLIAEgBEcNnQJBJCEDDIQDCyABIARHDRxBxgAhAwyDAwtBACEAAkAgAigCOCIDRQ0AIAMoAkQiA0UNACACIAMRAAAhAAsgAEUNJyAAQRVHDZgCIAJB0AA2AhwgAiABNgIUIAJBkRg2AhAgAkEVNgIMQQAhAwyCAwsgASAERgRAQSghAwyCAwtBACEDIAJBADYCBCACQQw2AgggAiABIAEQKiIARQ2UAiACQSc2AhwgAiABNgIUIAIgADYCDAyBAwsgASAERgRAQSkhAwyBAwsgAS0AACIAQSBGDRMgAEEJRw2VAiABQQFqIQEMFAsgASAERwRAIAFBAWohAQwWC0EqIQMM/wILIAEgBEYEQEErIQMM/wILIAEtAAAiAEEJRyAAQSBHcQ2QAiACLQAsQQhHDd0CIAJBADoALAzdAgsgASAERgRAQSwhAwz+AgsgAS0AAEEKRw2OAiABQQFqIQEMsAELIAEgBEcNigJBLyEDDPwCCwNAIAEtAAAiAEEgRwRAIABBCmsOBIQCiAKIAoQChgILIAQgAUEBaiIBRw0AC0ExIQMM+wILQTIhAyABIARGDfoCIAIoAgAiACAEIAFraiEHIAEgAGtBA2ohBgJAA0AgAEHwO2otAAAgAS0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAEEDRgRAQQYhAQziAgsgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAc2AgAM+wILIAJBADYCAAyGAgtBMyEDIAQgASIARg35AiAEIAFrIAIoAgAiAWohByAAIAFrQQhqIQYCQANAIAFB9DtqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBCEYEQEEFIQEM4QILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPoCCyACQQA2AgAgACEBDIUCC0E0IQMgBCABIgBGDfgCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgJAA0AgAUHQwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYEQEEHIQEM4AILIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADPkCCyACQQA2AgAgACEBDIQCCyABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRg0JDIECCyAEIAFBAWoiAUcNAAtBMCEDDPgCC0EwIQMM9wILIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBP8B/gH+Af8B/gELIAQgAUEBaiIBRw0AC0E4IQMM9wILQTghAwz2AgsDQCABLQAAIgBBIEcgAEEJR3EN9gEgBCABQQFqIgFHDQALQTwhAwz1AgsDQCABLQAAIgBBIEcEQAJAIABBCmsOBPkBBAT5AQALIABBLEYN9QEMAwsgBCABQQFqIgFHDQALQT8hAwz0AgtBwAAhAyABIARGDfMCIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEGAQGstAAAgAS0AAEEgckcNASAAQQZGDdsCIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPQCCyACQQA2AgALQTYhAwzZAgsgASAERgRAQcEAIQMM8gILIAJBDDYCCCACIAE2AgQgAi0ALEEBaw4E+wHuAewB6wHUAgsgAUEBaiEBDPoBCyABIARHBEADQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxIgBBCUYNACAAQSBGDQACQAJAAkACQCAAQeMAaw4TAAMDAwMDAwMBAwMDAwMDAwMDAgMLIAFBAWohAUExIQMM3AILIAFBAWohAUEyIQMM2wILIAFBAWohAUEzIQMM2gILDP4BCyAEIAFBAWoiAUcNAAtBNSEDDPACC0E1IQMM7wILIAEgBEcEQANAIAEtAABBgDxqLQAAQQFHDfcBIAQgAUEBaiIBRw0AC0E9IQMM7wILQT0hAwzuAgtBACEAAkAgAigCOCIDRQ0AIAMoAkAiA0UNACACIAMRAAAhAAsgAEUNASAAQRVHDeYBIAJBwgA2AhwgAiABNgIUIAJB4xg2AhAgAkEVNgIMQQAhAwztAgsgAUEBaiEBC0E8IQMM0gILIAEgBEYEQEHCACEDDOsCCwJAA0ACQCABLQAAQQlrDhgAAswCzALRAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAswCzALMAgDMAgsgBCABQQFqIgFHDQALQcIAIQMM6wILIAFBAWohASACLQAtQQFxRQ3+AQtBLCEDDNACCyABIARHDd4BQcQAIQMM6AILA0AgAS0AAEGQwABqLQAAQQFHDZwBIAQgAUEBaiIBRw0AC0HFACEDDOcCCyABLQAAIgBBIEYN/gEgAEE6Rw3AAiACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgAN3gEM3QELQccAIQMgBCABIgBGDeUCIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFBkMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvwIgAUEFRg3CAiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzlAgtByAAhAyAEIAEiAEYN5AIgBCABayACKAIAIgFqIQcgACABa0EJaiEGA0AgAUGWwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw2+AkECIAFBCUYNwgIaIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOQCCyABIARGBEBByQAhAwzkAgsCQAJAIAEtAAAiAEEgciAAIABBwQBrQf8BcUEaSRtB/wFxQe4Aaw4HAL8CvwK/Ar8CvwIBvwILIAFBAWohAUE+IQMMywILIAFBAWohAUE/IQMMygILQcoAIQMgBCABIgBGDeICIAQgAWsgAigCACIBaiEGIAAgAWtBAWohBwNAIAFBoMIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNvAIgAUEBRg2+AiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBjYCAAziAgtBywAhAyAEIAEiAEYN4QIgBCABayACKAIAIgFqIQcgACABa0EOaiEGA0AgAUGiwgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw27AiABQQ5GDb4CIAFBAWohASAEIABBAWoiAEcNAAsgAiAHNgIADOECC0HMACEDIAQgASIARg3gAiAEIAFrIAIoAgAiAWohByAAIAFrQQ9qIQYDQCABQcDCAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDboCQQMgAUEPRg2+AhogAUEBaiEBIAQgAEEBaiIARw0ACyACIAc2AgAM4AILQc0AIQMgBCABIgBGDd8CIAQgAWsgAigCACIBaiEHIAAgAWtBBWohBgNAIAFB0MIAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNuQJBBCABQQVGDb0CGiABQQFqIQEgBCAAQQFqIgBHDQALIAIgBzYCAAzfAgsgASAERgRAQc4AIQMM3wILAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAvAK8ArwCvAK8ArwCvAK8ArwCvAK8ArwCAbwCvAK8AgIDvAILIAFBAWohAUHBACEDDMgCCyABQQFqIQFBwgAhAwzHAgsgAUEBaiEBQcMAIQMMxgILIAFBAWohAUHEACEDDMUCCyABIARHBEAgAkENNgIIIAIgATYCBEHFACEDDMUCC0HPACEDDN0CCwJAAkAgAS0AAEEKaw4EAZABkAEAkAELIAFBAWohAQtBKCEDDMMCCyABIARGBEBB0QAhAwzcAgsgAS0AAEEgRw0AIAFBAWohASACLQAtQQFxRQ3QAQtBFyEDDMECCyABIARHDcsBQdIAIQMM2QILQdMAIQMgASAERg3YAiACKAIAIgAgBCABa2ohBiABIABrQQFqIQUDQCABLQAAIABB1sIAai0AAEcNxwEgAEEBRg3KASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBjYCAAzYAgsgASAERgRAQdUAIQMM2AILIAEtAABBCkcNwgEgAUEBaiEBDMoBCyABIARGBEBB1gAhAwzXAgsCQAJAIAEtAABBCmsOBADDAcMBAcMBCyABQQFqIQEMygELIAFBAWohAUHKACEDDL0CC0EAIQACQCACKAI4IgNFDQAgAygCPCIDRQ0AIAIgAxEAACEACyAADb8BQc0AIQMMvAILIAItAClBIkYNzwIMiQELIAQgASIFRgRAQdsAIQMM1AILQQAhAEEBIQFBASEGQQAhAwJAAn8CQAJAAkACQAJAAkACQCAFLQAAQTBrDgrFAcQBAAECAwQFBgjDAQtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshA0EAIQFBACEGDL0BC0EJIQNBASEAQQAhAUEAIQYMvAELIAEgBEYEQEHdACEDDNMCCyABLQAAQS5HDbgBIAFBAWohAQyIAQsgASAERw22AUHfACEDDNECCyABIARHBEAgAkEONgIIIAIgATYCBEHQACEDDLgCC0HgACEDDNACC0HhACEDIAEgBEYNzwIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGA0AgAS0AACAAQeLCAGotAABHDbEBIABBA0YNswEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMzwILQeIAIQMgASAERg3OAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYDQCABLQAAIABB5sIAai0AAEcNsAEgAEECRg2vASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAzOAgtB4wAhAyABIARGDc0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgNAIAEtAAAgAEHpwgBqLQAARw2vASAAQQNGDa0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADM0CCyABIARGBEBB5QAhAwzNAgsgAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANqgFB1gAhAwyzAgsgASAERwRAA0AgAS0AACIAQSBHBEACQAJAAkAgAEHIAGsOCwABswGzAbMBswGzAbMBswGzAQKzAQsgAUEBaiEBQdIAIQMMtwILIAFBAWohAUHTACEDDLYCCyABQQFqIQFB1AAhAwy1AgsgBCABQQFqIgFHDQALQeQAIQMMzAILQeQAIQMMywILA0AgAS0AAEHwwgBqLQAAIgBBAUcEQCAAQQJrDgOnAaYBpQGkAQsgBCABQQFqIgFHDQALQeYAIQMMygILIAFBAWogASAERw0CGkHnACEDDMkCCwNAIAEtAABB8MQAai0AACIAQQFHBEACQCAAQQJrDgSiAaEBoAEAnwELQdcAIQMMsQILIAQgAUEBaiIBRw0AC0HoACEDDMgCCyABIARGBEBB6QAhAwzIAgsCQCABLQAAIgBBCmsOGrcBmwGbAbQBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBmwGbAZsBpAGbAZsBAJkBCyABQQFqCyEBQQYhAwytAgsDQCABLQAAQfDGAGotAABBAUcNfSAEIAFBAWoiAUcNAAtB6gAhAwzFAgsgAUEBaiABIARHDQIaQesAIQMMxAILIAEgBEYEQEHsACEDDMQCCyABQQFqDAELIAEgBEYEQEHtACEDDMMCCyABQQFqCyEBQQQhAwyoAgsgASAERgRAQe4AIQMMwQILAkACQAJAIAEtAABB8MgAai0AAEEBaw4HkAGPAY4BAHwBAo0BCyABQQFqIQEMCwsgAUEBagyTAQtBACEDIAJBADYCHCACQZsSNgIQIAJBBzYCDCACIAFBAWo2AhQMwAILAkADQCABLQAAQfDIAGotAAAiAEEERwRAAkACQCAAQQFrDgeUAZMBkgGNAQAEAY0BC0HaACEDDKoCCyABQQFqIQFB3AAhAwypAgsgBCABQQFqIgFHDQALQe8AIQMMwAILIAFBAWoMkQELIAQgASIARgRAQfAAIQMMvwILIAAtAABBL0cNASAAQQFqIQEMBwsgBCABIgBGBEBB8QAhAwy+AgsgAC0AACIBQS9GBEAgAEEBaiEBQd0AIQMMpQILIAFBCmsiA0EWSw0AIAAhAUEBIAN0QYmAgAJxDfkBC0EAIQMgAkEANgIcIAIgADYCFCACQYwcNgIQIAJBBzYCDAy8AgsgASAERwRAIAFBAWohAUHeACEDDKMCC0HyACEDDLsCCyABIARGBEBB9AAhAwy7AgsCQCABLQAAQfDMAGotAABBAWsOA/cBcwCCAQtB4QAhAwyhAgsgASAERwRAA0AgAS0AAEHwygBqLQAAIgBBA0cEQAJAIABBAWsOAvkBAIUBC0HfACEDDKMCCyAEIAFBAWoiAUcNAAtB8wAhAwy6AgtB8wAhAwy5AgsgASAERwRAIAJBDzYCCCACIAE2AgRB4AAhAwygAgtB9QAhAwy4AgsgASAERgRAQfYAIQMMuAILIAJBDzYCCCACIAE2AgQLQQMhAwydAgsDQCABLQAAQSBHDY4CIAQgAUEBaiIBRw0AC0H3ACEDDLUCCyABIARGBEBB+AAhAwy1AgsgAS0AAEEgRw16IAFBAWohAQxbC0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAADXgMgAILIAEgBEYEQEH6ACEDDLMCCyABLQAAQcwARw10IAFBAWohAUETDHYLQfsAIQMgASAERg2xAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYDQCABLQAAIABB8M4Aai0AAEcNcyAAQQVGDXUgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMsQILIAEgBEYEQEH8ACEDDLECCwJAAkAgAS0AAEHDAGsODAB0dHR0dHR0dHR0AXQLIAFBAWohAUHmACEDDJgCCyABQQFqIQFB5wAhAwyXAgtB/QAhAyABIARGDa8CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDXIgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADLACCyACQQA2AgAgBkEBaiEBQRAMcwtB/gAhAyABIARGDa4CIAIoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQfbOAGotAABHDXEgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK8CCyACQQA2AgAgBkEBaiEBQRYMcgtB/wAhAyABIARGDa0CIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQfzOAGotAABHDXAgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADK4CCyACQQA2AgAgBkEBaiEBQQUMcQsgASAERgRAQYABIQMMrQILIAEtAABB2QBHDW4gAUEBaiEBQQgMcAsgASAERgRAQYEBIQMMrAILAkACQCABLQAAQc4Aaw4DAG8BbwsgAUEBaiEBQesAIQMMkwILIAFBAWohAUHsACEDDJICCyABIARGBEBBggEhAwyrAgsCQAJAIAEtAABByABrDggAbm5ubm5uAW4LIAFBAWohAUHqACEDDJICCyABQQFqIQFB7QAhAwyRAgtBgwEhAyABIARGDakCIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQYDPAGotAABHDWwgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKoCCyACQQA2AgAgBkEBaiEBQQAMbQtBhAEhAyABIARGDagCIAIoAgAiACAEIAFraiEFIAEgAGtBBGohBgJAA0AgAS0AACAAQYPPAGotAABHDWsgAEEERg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADKkCCyACQQA2AgAgBkEBaiEBQSMMbAsgASAERgRAQYUBIQMMqAILAkACQCABLQAAQcwAaw4IAGtra2trawFrCyABQQFqIQFB7wAhAwyPAgsgAUEBaiEBQfAAIQMMjgILIAEgBEYEQEGGASEDDKcCCyABLQAAQcUARw1oIAFBAWohAQxgC0GHASEDIAEgBEYNpQIgAigCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBiM8Aai0AAEcNaCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpgILIAJBADYCACAGQQFqIQFBLQxpC0GIASEDIAEgBEYNpAIgAigCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABB0M8Aai0AAEcNZyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMpQILIAJBADYCACAGQQFqIQFBKQxoCyABIARGBEBBiQEhAwykAgtBASABLQAAQd8ARw1nGiABQQFqIQEMXgtBigEhAyABIARGDaICIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgNAIAEtAAAgAEGMzwBqLQAARw1kIABBAUYN+gEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMogILQYsBIQMgASAERg2hAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGOzwBqLQAARw1kIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyiAgsgAkEANgIAIAZBAWohAUECDGULQYwBIQMgASAERg2gAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHwzwBqLQAARw1jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyhAgsgAkEANgIAIAZBAWohAUEfDGQLQY0BIQMgASAERg2fAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHyzwBqLQAARw1iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAygAgsgAkEANgIAIAZBAWohAUEJDGMLIAEgBEYEQEGOASEDDJ8CCwJAAkAgAS0AAEHJAGsOBwBiYmJiYgFiCyABQQFqIQFB+AAhAwyGAgsgAUEBaiEBQfkAIQMMhQILQY8BIQMgASAERg2dAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGRzwBqLQAARw1gIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyeAgsgAkEANgIAIAZBAWohAUEYDGELQZABIQMgASAERg2cAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGXzwBqLQAARw1fIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAydAgsgAkEANgIAIAZBAWohAUEXDGALQZEBIQMgASAERg2bAiACKAIAIgAgBCABa2ohBSABIABrQQZqIQYCQANAIAEtAAAgAEGazwBqLQAARw1eIABBBkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAycAgsgAkEANgIAIAZBAWohAUEVDF8LQZIBIQMgASAERg2aAiACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGhzwBqLQAARw1dIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAybAgsgAkEANgIAIAZBAWohAUEeDF4LIAEgBEYEQEGTASEDDJoCCyABLQAAQcwARw1bIAFBAWohAUEKDF0LIAEgBEYEQEGUASEDDJkCCwJAAkAgAS0AAEHBAGsODwBcXFxcXFxcXFxcXFxcAVwLIAFBAWohAUH+ACEDDIACCyABQQFqIQFB/wAhAwz/AQsgASAERgRAQZUBIQMMmAILAkACQCABLQAAQcEAaw4DAFsBWwsgAUEBaiEBQf0AIQMM/wELIAFBAWohAUGAASEDDP4BC0GWASEDIAEgBEYNlgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBp88Aai0AAEcNWSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlwILIAJBADYCACAGQQFqIQFBCwxaCyABIARGBEBBlwEhAwyWAgsCQAJAAkACQCABLQAAQS1rDiMAW1tbW1tbW1tbW1tbW1tbW1tbW1tbW1sBW1tbW1sCW1tbA1sLIAFBAWohAUH7ACEDDP8BCyABQQFqIQFB/AAhAwz+AQsgAUEBaiEBQYEBIQMM/QELIAFBAWohAUGCASEDDPwBC0GYASEDIAEgBEYNlAIgAigCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBqc8Aai0AAEcNVyAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlQILIAJBADYCACAGQQFqIQFBGQxYC0GZASEDIAEgBEYNkwIgAigCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBrs8Aai0AAEcNViAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMlAILIAJBADYCACAGQQFqIQFBBgxXC0GaASEDIAEgBEYNkgIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBtM8Aai0AAEcNVSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkwILIAJBADYCACAGQQFqIQFBHAxWC0GbASEDIAEgBEYNkQIgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBts8Aai0AAEcNVCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAMkgILIAJBADYCACAGQQFqIQFBJwxVCyABIARGBEBBnAEhAwyRAgsCQAJAIAEtAABB1ABrDgIAAVQLIAFBAWohAUGGASEDDPgBCyABQQFqIQFBhwEhAwz3AQtBnQEhAyABIARGDY8CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbjPAGotAABHDVIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADJACCyACQQA2AgAgBkEBaiEBQSYMUwtBngEhAyABIARGDY4CIAIoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQbrPAGotAABHDVEgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI8CCyACQQA2AgAgBkEBaiEBQQMMUgtBnwEhAyABIARGDY0CIAIoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQe3PAGotAABHDVAgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI4CCyACQQA2AgAgBkEBaiEBQQwMUQtBoAEhAyABIARGDYwCIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQbzPAGotAABHDU8gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADI0CCyACQQA2AgAgBkEBaiEBQQ0MUAsgASAERgRAQaEBIQMMjAILAkACQCABLQAAQcYAaw4LAE9PT09PT09PTwFPCyABQQFqIQFBiwEhAwzzAQsgAUEBaiEBQYwBIQMM8gELIAEgBEYEQEGiASEDDIsCCyABLQAAQdAARw1MIAFBAWohAQxGCyABIARGBEBBowEhAwyKAgsCQAJAIAEtAABByQBrDgcBTU1NTU0ATQsgAUEBaiEBQY4BIQMM8QELIAFBAWohAUEiDE0LQaQBIQMgASAERg2IAiACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHAzwBqLQAARw1LIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyJAgsgAkEANgIAIAZBAWohAUEdDEwLIAEgBEYEQEGlASEDDIgCCwJAAkAgAS0AAEHSAGsOAwBLAUsLIAFBAWohAUGQASEDDO8BCyABQQFqIQFBBAxLCyABIARGBEBBpgEhAwyHAgsCQAJAAkACQAJAIAEtAABBwQBrDhUATU1NTU1NTU1NTQFNTQJNTQNNTQRNCyABQQFqIQFBiAEhAwzxAQsgAUEBaiEBQYkBIQMM8AELIAFBAWohAUGKASEDDO8BCyABQQFqIQFBjwEhAwzuAQsgAUEBaiEBQZEBIQMM7QELQacBIQMgASAERg2FAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHtzwBqLQAARw1IIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyGAgsgAkEANgIAIAZBAWohAUERDEkLQagBIQMgASAERg2EAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHCzwBqLQAARw1HIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyFAgsgAkEANgIAIAZBAWohAUEsDEgLQakBIQMgASAERg2DAiACKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHFzwBqLQAARw1GIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyEAgsgAkEANgIAIAZBAWohAUErDEcLQaoBIQMgASAERg2CAiACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHKzwBqLQAARw1FIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyDAgsgAkEANgIAIAZBAWohAUEUDEYLIAEgBEYEQEGrASEDDIICCwJAAkACQAJAIAEtAABBwgBrDg8AAQJHR0dHR0dHR0dHRwNHCyABQQFqIQFBkwEhAwzrAQsgAUEBaiEBQZQBIQMM6gELIAFBAWohAUGVASEDDOkBCyABQQFqIQFBlgEhAwzoAQsgASAERgRAQawBIQMMgQILIAEtAABBxQBHDUIgAUEBaiEBDD0LQa0BIQMgASAERg3/ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHNzwBqLQAARw1CIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAyAAgsgAkEANgIAIAZBAWohAUEODEMLIAEgBEYEQEGuASEDDP8BCyABLQAAQdAARw1AIAFBAWohAUElDEILQa8BIQMgASAERg39ASACKAIAIgAgBCABa2ohBSABIABrQQhqIQYCQANAIAEtAAAgAEHQzwBqLQAARw1AIABBCEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz+AQsgAkEANgIAIAZBAWohAUEqDEELIAEgBEYEQEGwASEDDP0BCwJAAkAgAS0AAEHVAGsOCwBAQEBAQEBAQEABQAsgAUEBaiEBQZoBIQMM5AELIAFBAWohAUGbASEDDOMBCyABIARGBEBBsQEhAwz8AQsCQAJAIAEtAABBwQBrDhQAPz8/Pz8/Pz8/Pz8/Pz8/Pz8/AT8LIAFBAWohAUGZASEDDOMBCyABQQFqIQFBnAEhAwziAQtBsgEhAyABIARGDfoBIAIoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQdnPAGotAABHDT0gAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPsBCyACQQA2AgAgBkEBaiEBQSEMPgtBswEhAyABIARGDfkBIAIoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQd3PAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAiAFNgIADPoBCyACQQA2AgAgBkEBaiEBQRoMPQsgASAERgRAQbQBIQMM+QELAkACQAJAIAEtAABBxQBrDhEAPT09PT09PT09AT09PT09Aj0LIAFBAWohAUGdASEDDOEBCyABQQFqIQFBngEhAwzgAQsgAUEBaiEBQZ8BIQMM3wELQbUBIQMgASAERg33ASACKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHkzwBqLQAARw06IABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz4AQsgAkEANgIAIAZBAWohAUEoDDsLQbYBIQMgASAERg32ASACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHqzwBqLQAARw05IABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAz3AQsgAkEANgIAIAZBAWohAUEHDDoLIAEgBEYEQEG3ASEDDPYBCwJAAkAgAS0AAEHFAGsODgA5OTk5OTk5OTk5OTkBOQsgAUEBaiEBQaEBIQMM3QELIAFBAWohAUGiASEDDNwBC0G4ASEDIAEgBEYN9AEgAigCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB7c8Aai0AAEcNNyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9QELIAJBADYCACAGQQFqIQFBEgw4C0G5ASEDIAEgBEYN8wEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8M8Aai0AAEcNNiAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM9AELIAJBADYCACAGQQFqIQFBIAw3C0G6ASEDIAEgBEYN8gEgAigCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB8s8Aai0AAEcNNSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8wELIAJBADYCACAGQQFqIQFBDww2CyABIARGBEBBuwEhAwzyAQsCQAJAIAEtAABByQBrDgcANTU1NTUBNQsgAUEBaiEBQaUBIQMM2QELIAFBAWohAUGmASEDDNgBC0G8ASEDIAEgBEYN8AEgAigCACIAIAQgAWtqIQUgASAAa0EHaiEGAkADQCABLQAAIABB9M8Aai0AAEcNMyAAQQdGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyACIAU2AgAM8QELIAJBADYCACAGQQFqIQFBGww0CyABIARGBEBBvQEhAwzwAQsCQAJAAkAgAS0AAEHCAGsOEgA0NDQ0NDQ0NDQBNDQ0NDQ0AjQLIAFBAWohAUGkASEDDNgBCyABQQFqIQFBpwEhAwzXAQsgAUEBaiEBQagBIQMM1gELIAEgBEYEQEG+ASEDDO8BCyABLQAAQc4ARw0wIAFBAWohAQwsCyABIARGBEBBvwEhAwzuAQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQcEAaw4VAAECAz8EBQY/Pz8HCAkKCz8MDQ4PPwsgAUEBaiEBQegAIQMM4wELIAFBAWohAUHpACEDDOIBCyABQQFqIQFB7gAhAwzhAQsgAUEBaiEBQfIAIQMM4AELIAFBAWohAUHzACEDDN8BCyABQQFqIQFB9gAhAwzeAQsgAUEBaiEBQfcAIQMM3QELIAFBAWohAUH6ACEDDNwBCyABQQFqIQFBgwEhAwzbAQsgAUEBaiEBQYQBIQMM2gELIAFBAWohAUGFASEDDNkBCyABQQFqIQFBkgEhAwzYAQsgAUEBaiEBQZgBIQMM1wELIAFBAWohAUGgASEDDNYBCyABQQFqIQFBowEhAwzVAQsgAUEBaiEBQaoBIQMM1AELIAEgBEcEQCACQRA2AgggAiABNgIEQasBIQMM1AELQcABIQMM7AELQQAhAAJAIAIoAjgiA0UNACADKAI0IgNFDQAgAiADEQAAIQALIABFDV4gAEEVRw0HIAJB0QA2AhwgAiABNgIUIAJBsBc2AhAgAkEVNgIMQQAhAwzrAQsgAUEBaiABIARHDQgaQcIBIQMM6gELA0ACQCABLQAAQQprDgQIAAALAAsgBCABQQFqIgFHDQALQcMBIQMM6QELIAEgBEcEQCACQRE2AgggAiABNgIEQQEhAwzQAQtBxAEhAwzoAQsgASAERgRAQcUBIQMM6AELAkACQCABLQAAQQprDgQBKCgAKAsgAUEBagwJCyABQQFqDAULIAEgBEYEQEHGASEDDOcBCwJAAkAgAS0AAEEKaw4XAQsLAQsLCwsLCwsLCwsLCwsLCwsLCwALCyABQQFqIQELQbABIQMMzQELIAEgBEYEQEHIASEDDOYBCyABLQAAQSBHDQkgAkEAOwEyIAFBAWohAUGzASEDDMwBCwNAIAEhAAJAIAEgBEcEQCABLQAAQTBrQf8BcSIDQQpJDQEMJwtBxwEhAwzmAQsCQCACLwEyIgFBmTNLDQAgAiABQQpsIgU7ATIgBUH+/wNxIANB//8Dc0sNACAAQQFqIQEgAiADIAVqIgM7ATIgA0H//wNxQegHSQ0BCwtBACEDIAJBADYCHCACQcEJNgIQIAJBDTYCDCACIABBAWo2AhQM5AELIAJBADYCHCACIAE2AhQgAkHwDDYCECACQRs2AgxBACEDDOMBCyACKAIEIQAgAkEANgIEIAIgACABECYiAA0BIAFBAWoLIQFBrQEhAwzIAQsgAkHBATYCHCACIAA2AgwgAiABQQFqNgIUQQAhAwzgAQsgAigCBCEAIAJBADYCBCACIAAgARAmIgANASABQQFqCyEBQa4BIQMMxQELIAJBwgE2AhwgAiAANgIMIAIgAUEBajYCFEEAIQMM3QELIAJBADYCHCACIAE2AhQgAkGXCzYCECACQQ02AgxBACEDDNwBCyACQQA2AhwgAiABNgIUIAJB4xA2AhAgAkEJNgIMQQAhAwzbAQsgAkECOgAoDKwBC0EAIQMgAkEANgIcIAJBrws2AhAgAkECNgIMIAIgAUEBajYCFAzZAQtBAiEDDL8BC0ENIQMMvgELQSYhAwy9AQtBFSEDDLwBC0EWIQMMuwELQRghAwy6AQtBHCEDDLkBC0EdIQMMuAELQSAhAwy3AQtBISEDDLYBC0EjIQMMtQELQcYAIQMMtAELQS4hAwyzAQtBPSEDDLIBC0HLACEDDLEBC0HOACEDDLABC0HYACEDDK8BC0HZACEDDK4BC0HbACEDDK0BC0HxACEDDKwBC0H0ACEDDKsBC0GNASEDDKoBC0GXASEDDKkBC0GpASEDDKgBC0GvASEDDKcBC0GxASEDDKYBCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB8Rs2AhAgAkEGNgIMDL0BCyACQQA2AgAgBkEBaiEBQSQLOgApIAIoAgQhACACQQA2AgQgAiAAIAEQJyIARQRAQeUAIQMMowELIAJB+QA2AhwgAiABNgIUIAIgADYCDEEAIQMMuwELIABBFUcEQCACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwy7AQsgAkH4ADYCHCACIAE2AhQgAkHKGDYCECACQRU2AgxBACEDDLoBCyACQQA2AhwgAiABNgIUIAJBjhs2AhAgAkEGNgIMQQAhAwy5AQsgAkEANgIcIAIgATYCFCACQf4RNgIQIAJBBzYCDEEAIQMMuAELIAJBADYCHCACIAE2AhQgAkGMHDYCECACQQc2AgxBACEDDLcBCyACQQA2AhwgAiABNgIUIAJBww82AhAgAkEHNgIMQQAhAwy2AQsgAkEANgIcIAIgATYCFCACQcMPNgIQIAJBBzYCDEEAIQMMtQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0RIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMtAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0gIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMswELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0iIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMsgELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0OIAJB5QA2AhwgAiABNgIUIAIgADYCDEEAIQMMsQELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0dIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMsAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0fIAJB0gA2AhwgAiABNgIUIAIgADYCDEEAIQMMrwELIABBP0cNASABQQFqCyEBQQUhAwyUAQtBACEDIAJBADYCHCACIAE2AhQgAkH9EjYCECACQQc2AgwMrAELIAJBADYCHCACIAE2AhQgAkHcCDYCECACQQc2AgxBACEDDKsBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNByACQeUANgIcIAIgATYCFCACIAA2AgxBACEDDKoBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNFiACQdMANgIcIAIgATYCFCACIAA2AgxBACEDDKkBCyACKAIEIQAgAkEANgIEIAIgACABECUiAEUNGCACQdIANgIcIAIgATYCFCACIAA2AgxBACEDDKgBCyACQQA2AhwgAiABNgIUIAJBxgo2AhAgAkEHNgIMQQAhAwynAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQMgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwymAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRIgAkHTADYCHCACIAE2AhQgAiAANgIMQQAhAwylAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDRQgAkHSADYCHCACIAE2AhQgAiAANgIMQQAhAwykAQsgAigCBCEAIAJBADYCBCACIAAgARAlIgBFDQAgAkHlADYCHCACIAE2AhQgAiAANgIMQQAhAwyjAQtB1QAhAwyJAQsgAEEVRwRAIAJBADYCHCACIAE2AhQgAkG5DTYCECACQRo2AgxBACEDDKIBCyACQeQANgIcIAIgATYCFCACQeMXNgIQIAJBFTYCDEEAIQMMoQELIAJBADYCACAGQQFqIQEgAi0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACEDIAJBADYCHCACIAE2AhQgAkH3CTYCECACQQg2AgwMoAELIAJBADYCACAGQQFqIQEgAi0AKUEhRg0DIAJBADYCHCACIAE2AhQgAkGbCjYCECACQQg2AgxBACEDDJ8BCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJBkDM2AhAgAkEINgIMDJ0BCyACQQA2AgAgBkEBaiEBIAItAClBI0kNACACQQA2AhwgAiABNgIUIAJB0wk2AhAgAkEINgIMQQAhAwycAQtB0QAhAwyCAQsgAS0AAEEwayIAQf8BcUEKSQRAIAIgADoAKiABQQFqIQFBzwAhAwyCAQsgAigCBCEAIAJBADYCBCACIAAgARAoIgBFDYYBIAJB3gA2AhwgAiABNgIUIAIgADYCDEEAIQMMmgELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ2GASACQdwANgIcIAIgATYCFCACIAA2AgxBACEDDJkBCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMhwELIAJB2gA2AhwgAiAFNgIUIAIgADYCDAyYAQtBACEBQQEhAwsgAiADOgArIAVBAWohAwJAAkACQCACLQAtQRBxDQACQAJAAkAgAi0AKg4DAQACBAsgBkUNAwwCCyAADQEMAgsgAUUNAQsgAigCBCEAIAJBADYCBCACIAAgAxAoIgBFBEAgAyEBDAILIAJB2AA2AhwgAiADNgIUIAIgADYCDEEAIQMMmAELIAIoAgQhACACQQA2AgQgAiAAIAMQKCIARQRAIAMhAQyHAQsgAkHZADYCHCACIAM2AhQgAiAANgIMQQAhAwyXAQtBzAAhAwx9CyAAQRVHBEAgAkEANgIcIAIgATYCFCACQZQNNgIQIAJBITYCDEEAIQMMlgELIAJB1wA2AhwgAiABNgIUIAJByRc2AhAgAkEVNgIMQQAhAwyVAQtBACEDIAJBADYCHCACIAE2AhQgAkGAETYCECACQQk2AgwMlAELIAIoAgQhACACQQA2AgQgAiAAIAEQJSIARQ0AIAJB0wA2AhwgAiABNgIUIAIgADYCDEEAIQMMkwELQckAIQMMeQsgAkEANgIcIAIgATYCFCACQcEoNgIQIAJBBzYCDCACQQA2AgBBACEDDJEBCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAlIgBFDQAgAkHSADYCHCACIAE2AhQgAiAANgIMDJABC0HIACEDDHYLIAJBADYCACAFIQELIAJBgBI7ASogAUEBaiEBQQAhAAJAIAIoAjgiA0UNACADKAIwIgNFDQAgAiADEQAAIQALIAANAQtBxwAhAwxzCyAAQRVGBEAgAkHRADYCHCACIAE2AhQgAkHjFzYCECACQRU2AgxBACEDDIwBC0EAIQMgAkEANgIcIAIgATYCFCACQbkNNgIQIAJBGjYCDAyLAQtBACEDIAJBADYCHCACIAE2AhQgAkGgGTYCECACQR42AgwMigELIAEtAABBOkYEQCACKAIEIQBBACEDIAJBADYCBCACIAAgARApIgBFDQEgAkHDADYCHCACIAA2AgwgAiABQQFqNgIUDIoBC0EAIQMgAkEANgIcIAIgATYCFCACQbERNgIQIAJBCjYCDAyJAQsgAUEBaiEBQTshAwxvCyACQcMANgIcIAIgADYCDCACIAFBAWo2AhQMhwELQQAhAyACQQA2AhwgAiABNgIUIAJB8A42AhAgAkEcNgIMDIYBCyACIAIvATBBEHI7ATAMZgsCQCACLwEwIgBBCHFFDQAgAi0AKEEBRw0AIAItAC1BCHFFDQMLIAIgAEH3+wNxQYAEcjsBMAwECyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE1IQMMbgsgAikDICIKQpmz5syZs+bMGVYNASACIApCCn4iCjcDICAKIACtQv8BgyILQn+FVg0BIAIgCiALfDcDICAEIAFBAWoiAUcNAAtBOSEDDIUBCyACKAIEIQBBACEDIAJBADYCBCACIAAgAUEBaiIBECoiAA0MDHcLQTkhAwyDAQsgAi0AMEEgcQ0GQcUBIQMMaQtBACEDIAJBADYCBCACIAEgARAqIgBFDQQgAkE6NgIcIAIgADYCDCACIAFBAWo2AhQMgQELIAItAChBAUcNACACLQAtQQhxRQ0BC0E3IQMMZgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIABEAgAkE7NgIcIAIgADYCDCACIAFBAWo2AhQMfwsgAUEBaiEBDG4LIAJBCDoALAwECyABQQFqIQEMbQtBACEDIAJBADYCHCACIAE2AhQgAkHkEjYCECACQQQ2AgwMewsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ1sIAJBNzYCHCACIAE2AhQgAiAANgIMDHoLIAIgAi8BMEEgcjsBMAtBMCEDDF8LIAJBNjYCHCACIAE2AhQgAiAANgIMDHcLIABBLEcNASABQQFqIQBBASEBAkACQAJAAkACQCACLQAsQQVrDgQDAQIEAAsgACEBDAQLQQIhAQwBC0EEIQELIAJBAToALCACIAIvATAgAXI7ATAgACEBDAELIAIgAi8BMEEIcjsBMCAAIQELQTkhAwxcCyACQQA6ACwLQTQhAwxaCyABIARGBEBBLSEDDHMLAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0EtIQMMdAsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIARQ0CIAJBLDYCHCACIAE2AhQgAiAANgIMDHMLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAS0AAEENRgRAIAIoAgQhAEEAIQMgAkEANgIEIAIgACABECoiAEUEQCABQQFqIQEMAgsgAkEsNgIcIAIgADYCDCACIAFBAWo2AhQMcgsgAi0ALUEBcQRAQcQBIQMMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKiIADQEMZQtBLyEDDFcLIAJBLjYCHCACIAE2AhQgAiAANgIMDG8LQQAhAyACQQA2AhwgAiABNgIUIAJB8BQ2AhAgAkEDNgIMDG4LQQEhAwJAAkACQAJAIAItACxBBWsOBAMBAgAECyACIAIvATBBCHI7ATAMAwtBAiEDDAELQQQhAwsgAkEBOgAsIAIgAi8BMCADcjsBMAtBKiEDDFMLQQAhAyACQQA2AhwgAiABNgIUIAJB4Q82AhAgAkEKNgIMDGsLQQEhAwJAAkACQAJAAkACQCACLQAsQQJrDgcFBAQDAQIABAsgAiACLwEwQQhyOwEwDAMLQQIhAwwBC0EEIQMLIAJBAToALCACIAIvATAgA3I7ATALQSshAwxSC0EAIQMgAkEANgIcIAIgATYCFCACQasSNgIQIAJBCzYCDAxqC0EAIQMgAkEANgIcIAIgATYCFCACQf0NNgIQIAJBHTYCDAxpCyABIARHBEADQCABLQAAQSBHDUggBCABQQFqIgFHDQALQSUhAwxpC0ElIQMMaAsgAi0ALUEBcQRAQcMBIQMMTwsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQKSIABEAgAkEmNgIcIAIgADYCDCACIAFBAWo2AhQMaAsgAUEBaiEBDFwLIAFBAWohASACLwEwIgBBgAFxBEBBACEAAkAgAigCOCIDRQ0AIAMoAlQiA0UNACACIAMRAAAhAAsgAEUNBiAAQRVHDR8gAkEFNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMZwsCQCAAQaAEcUGgBEcNACACLQAtQQJxDQBBACEDIAJBADYCHCACIAE2AhQgAkGWEzYCECACQQQ2AgwMZwsgAgJ/IAIvATBBFHFBFEYEQEEBIAItAChBAUYNARogAi8BMkHlAEYMAQsgAi0AKUEFRgs6AC5BACEAAkAgAigCOCIDRQ0AIAMoAiQiA0UNACACIAMRAAAhAAsCQAJAAkACQAJAIAAOFgIBAAQEBAQEBAQEBAQEBAQEBAQEBAMECyACQQE6AC4LIAIgAi8BMEHAAHI7ATALQSchAwxPCyACQSM2AhwgAiABNgIUIAJBpRY2AhAgAkEVNgIMQQAhAwxnC0EAIQMgAkEANgIcIAIgATYCFCACQdULNgIQIAJBETYCDAxmC0EAIQACQCACKAI4IgNFDQAgAygCLCIDRQ0AIAIgAxEAACEACyAADQELQQ4hAwxLCyAAQRVGBEAgAkECNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMZAtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMYwtBACEDIAJBADYCHCACIAE2AhQgAkGqHDYCECACQQ82AgwMYgsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEgCqdqIgEQKyIARQ0AIAJBBTYCHCACIAE2AhQgAiAANgIMDGELQQ8hAwxHC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxfC0IBIQoLIAFBAWohAQJAIAIpAyAiC0L//////////w9YBEAgAiALQgSGIAqENwMgDAELQQAhAyACQQA2AhwgAiABNgIUIAJBrQk2AhAgAkEMNgIMDF4LQSQhAwxEC0EAIQMgAkEANgIcIAIgATYCFCACQc0TNgIQIAJBDDYCDAxcCyACKAIEIQBBACEDIAJBADYCBCACIAAgARAsIgBFBEAgAUEBaiEBDFILIAJBFzYCHCACIAA2AgwgAiABQQFqNgIUDFsLIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQRY2AhwgAiAANgIMIAIgAUEBajYCFAxbC0EfIQMMQQtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMWQsgAigCBCEAQQAhAyACQQA2AgQgAiAAIAEQLSIARQRAIAFBAWohAQxQCyACQRQ2AhwgAiAANgIMIAIgAUEBajYCFAxYCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABEC0iAEUEQCABQQFqIQEMAQsgAkETNgIcIAIgADYCDCACIAFBAWo2AhQMWAtBHiEDDD4LQQAhAyACQQA2AhwgAiABNgIUIAJBxgw2AhAgAkEjNgIMDFYLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABEC0iAEUEQCABQQFqIQEMTgsgAkERNgIcIAIgADYCDCACIAFBAWo2AhQMVQsgAkEQNgIcIAIgATYCFCACIAA2AgwMVAtBACEDIAJBADYCHCACIAE2AhQgAkHGDDYCECACQSM2AgwMUwtBACEDIAJBADYCHCACIAE2AhQgAkHAFTYCECACQQI2AgwMUgsgAigCBCEAQQAhAyACQQA2AgQCQCACIAAgARAtIgBFBEAgAUEBaiEBDAELIAJBDjYCHCACIAA2AgwgAiABQQFqNgIUDFILQRshAww4C0EAIQMgAkEANgIcIAIgATYCFCACQcYMNgIQIAJBIzYCDAxQCyACKAIEIQBBACEDIAJBADYCBAJAIAIgACABECwiAEUEQCABQQFqIQEMAQsgAkENNgIcIAIgADYCDCACIAFBAWo2AhQMUAtBGiEDDDYLQQAhAyACQQA2AhwgAiABNgIUIAJBmg82AhAgAkEiNgIMDE4LIAIoAgQhAEEAIQMgAkEANgIEAkAgAiAAIAEQLCIARQRAIAFBAWohAQwBCyACQQw2AhwgAiAANgIMIAIgAUEBajYCFAxOC0EZIQMMNAtBACEDIAJBADYCHCACIAE2AhQgAkGaDzYCECACQSI2AgwMTAsgAEEVRwRAQQAhAyACQQA2AhwgAiABNgIUIAJBgww2AhAgAkETNgIMDEwLIAJBCjYCHCACIAE2AhQgAkHkFjYCECACQRU2AgxBACEDDEsLIAIoAgQhAEEAIQMgAkEANgIEIAIgACABIAqnaiIBECsiAARAIAJBBzYCHCACIAE2AhQgAiAANgIMDEsLQRMhAwwxCyAAQRVHBEBBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMSgsgAkEeNgIcIAIgATYCFCACQfkXNgIQIAJBFTYCDEEAIQMMSQtBACEAAkAgAigCOCIDRQ0AIAMoAiwiA0UNACACIAMRAAAhAAsgAEUNQSAAQRVGBEAgAkEDNgIcIAIgATYCFCACQbAYNgIQIAJBFTYCDEEAIQMMSQtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMSAtBACEDIAJBADYCHCACIAE2AhQgAkHaDTYCECACQRQ2AgwMRwtBACEDIAJBADYCHCACIAE2AhQgAkGnDjYCECACQRI2AgwMRgsgAkEAOgAvIAItAC1BBHFFDT8LIAJBADoALyACQQE6ADRBACEDDCsLQQAhAyACQQA2AhwgAkHkETYCECACQQc2AgwgAiABQQFqNgIUDEMLAkADQAJAIAEtAABBCmsOBAACAgACCyAEIAFBAWoiAUcNAAtB3QEhAwxDCwJAAkAgAi0ANEEBRw0AQQAhAAJAIAIoAjgiA0UNACADKAJYIgNFDQAgAiADEQAAIQALIABFDQAgAEEVRw0BIAJB3AE2AhwgAiABNgIUIAJB1RY2AhAgAkEVNgIMQQAhAwxEC0HBASEDDCoLIAJBADYCHCACIAE2AhQgAkHpCzYCECACQR82AgxBACEDDEILAkACQCACLQAoQQFrDgIEAQALQcABIQMMKQtBuQEhAwwoCyACQQI6AC9BACEAAkAgAigCOCIDRQ0AIAMoAgAiA0UNACACIAMRAAAhAAsgAEUEQEHCASEDDCgLIABBFUcEQCACQQA2AhwgAiABNgIUIAJBpAw2AhAgAkEQNgIMQQAhAwxBCyACQdsBNgIcIAIgATYCFCACQfoWNgIQIAJBFTYCDEEAIQMMQAsgASAERgRAQdoBIQMMQAsgAS0AAEHIAEYNASACQQE6ACgLQawBIQMMJQtBvwEhAwwkCyABIARHBEAgAkEQNgIIIAIgATYCBEG+ASEDDCQLQdkBIQMMPAsgASAERgRAQdgBIQMMPAsgAS0AAEHIAEcNBCABQQFqIQFBvQEhAwwiCyABIARGBEBB1wEhAww7CwJAAkAgAS0AAEHFAGsOEAAFBQUFBQUFBQUFBQUFBQEFCyABQQFqIQFBuwEhAwwiCyABQQFqIQFBvAEhAwwhC0HWASEDIAEgBEYNOSACKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEGD0ABqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw6CyACKAIEIQAgAkIANwMAIAIgACAGQQFqIgEQJyIARQRAQcYBIQMMIQsgAkHVATYCHCACIAE2AhQgAiAANgIMQQAhAww5C0HUASEDIAEgBEYNOCACKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGB0ABqLQAARw0CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAIgBTYCAAw5CyACQYEEOwEoIAIoAgQhACACQgA3AwAgAiAAIAZBAWoiARAnIgANAwwCCyACQQA2AgALQQAhAyACQQA2AhwgAiABNgIUIAJB2Bs2AhAgAkEINgIMDDYLQboBIQMMHAsgAkHTATYCHCACIAE2AhQgAiAANgIMQQAhAww0C0EAIQACQCACKAI4IgNFDQAgAygCOCIDRQ0AIAIgAxEAACEACyAARQ0AIABBFUYNASACQQA2AhwgAiABNgIUIAJBzA42AhAgAkEgNgIMQQAhAwwzC0HkACEDDBkLIAJB+AA2AhwgAiABNgIUIAJByhg2AhAgAkEVNgIMQQAhAwwxC0HSASEDIAQgASIARg0wIAQgAWsgAigCACIBaiEFIAAgAWtBBGohBgJAA0AgAC0AACABQfzPAGotAABHDQEgAUEERg0DIAFBAWohASAEIABBAWoiAEcNAAsgAiAFNgIADDELIAJBADYCHCACIAA2AhQgAkGQMzYCECACQQg2AgwgAkEANgIAQQAhAwwwCyABIARHBEAgAkEONgIIIAIgATYCBEG3ASEDDBcLQdEBIQMMLwsgAkEANgIAIAZBAWohAQtBuAEhAwwUCyABIARGBEBB0AEhAwwtCyABLQAAQTBrIgBB/wFxQQpJBEAgAiAAOgAqIAFBAWohAUG2ASEDDBQLIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0UIAJBzwE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAsgASAERgRAQc4BIQMMLAsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAIoAgQhACACQQA2AgQgAiAAIAEQKCIARQ0VIAJBzQE2AhwgAiABNgIUIAIgADYCDEEAIQMMLAtBtQEhAwwSCyAEIAEiBUYEQEHMASEDDCsLQQAhAEEBIQFBASEGQQAhAwJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAUtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyEDQQAhAUEAIQYMAgtBCSEDQQEhAEEAIQFBACEGDAELQQAhAUEBIQMLIAIgAzoAKyAFQQFqIQMCQAJAIAItAC1BEHENAAJAAkACQCACLQAqDgMBAAIECyAGRQ0DDAILIAANAQwCCyABRQ0BCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMAwsgAkHJATYCHCACIAM2AhQgAiAANgIMQQAhAwwtCyACKAIEIQAgAkEANgIEIAIgACADECgiAEUEQCADIQEMGAsgAkHKATYCHCACIAM2AhQgAiAANgIMQQAhAwwsCyACKAIEIQAgAkEANgIEIAIgACAFECgiAEUEQCAFIQEMFgsgAkHLATYCHCACIAU2AhQgAiAANgIMDCsLQbQBIQMMEQtBACEAAkAgAigCOCIDRQ0AIAMoAjwiA0UNACACIAMRAAAhAAsCQCAABEAgAEEVRg0BIAJBADYCHCACIAE2AhQgAkGUDTYCECACQSE2AgxBACEDDCsLQbIBIQMMEQsgAkHIATYCHCACIAE2AhQgAkHJFzYCECACQRU2AgxBACEDDCkLIAJBADYCACAGQQFqIQFB9QAhAwwPCyACLQApQQVGBEBB4wAhAwwPC0HiACEDDA4LIAAhASACQQA2AgALIAJBADoALEEJIQMMDAsgAkEANgIAIAdBAWohAUHAACEDDAsLQQELOgAsIAJBADYCACAGQQFqIQELQSkhAwwIC0E4IQMMBwsCQCABIARHBEADQCABLQAAQYA+ai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBPiEDDCELQT4hAwwgCwsgAkEAOgAsDAELQQshAwwEC0E6IQMMAwsgAUEBaiEBQS0hAwwCCyACIAE6ACwgAkEANgIAIAZBAWohAUEMIQMMAQsgAkEANgIAIAZBAWohAUEKIQMMAAsAC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwXC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwWC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwVC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwUC0EAIQMgAkEANgIcIAIgATYCFCACQc0QNgIQIAJBCTYCDAwTC0EAIQMgAkEANgIcIAIgATYCFCACQekKNgIQIAJBCTYCDAwSC0EAIQMgAkEANgIcIAIgATYCFCACQbcQNgIQIAJBCTYCDAwRC0EAIQMgAkEANgIcIAIgATYCFCACQZwRNgIQIAJBCTYCDAwQC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwPC0EAIQMgAkEANgIcIAIgATYCFCACQZcVNgIQIAJBDzYCDAwOC0EAIQMgAkEANgIcIAIgATYCFCACQcASNgIQIAJBCzYCDAwNC0EAIQMgAkEANgIcIAIgATYCFCACQZUJNgIQIAJBCzYCDAwMC0EAIQMgAkEANgIcIAIgATYCFCACQeEPNgIQIAJBCjYCDAwLC0EAIQMgAkEANgIcIAIgATYCFCACQfsPNgIQIAJBCjYCDAwKC0EAIQMgAkEANgIcIAIgATYCFCACQfEZNgIQIAJBAjYCDAwJC0EAIQMgAkEANgIcIAIgATYCFCACQcQUNgIQIAJBAjYCDAwIC0EAIQMgAkEANgIcIAIgATYCFCACQfIVNgIQIAJBAjYCDAwHCyACQQI2AhwgAiABNgIUIAJBnBo2AhAgAkEWNgIMQQAhAwwGC0EBIQMMBQtB1AAhAyABIARGDQQgCEEIaiEJIAIoAgAhBQJAAkAgASAERwRAIAVB2MIAaiEHIAQgBWogAWshACAFQX9zQQpqIgUgAWohBgNAIAEtAAAgBy0AAEcEQEECIQcMAwsgBUUEQEEAIQcgBiEBDAMLIAVBAWshBSAHQQFqIQcgBCABQQFqIgFHDQALIAAhBSAEIQELIAlBATYCACACIAU2AgAMAQsgAkEANgIAIAkgBzYCAAsgCSABNgIEIAgoAgwhACAIKAIIDgMBBAIACwALIAJBADYCHCACQbUaNgIQIAJBFzYCDCACIABBAWo2AhRBACEDDAILIAJBADYCHCACIAA2AhQgAkHKGjYCECACQQk2AgxBACEDDAELIAEgBEYEQEEiIQMMAQsgAkEJNgIIIAIgATYCBEEhIQMLIAhBEGokACADRQRAIAIoAgwhAAwBCyACIAM2AhxBACEAIAIoAgQiAUUNACACIAEgBCACKAIIEQEAIgFFDQAgAiAENgIUIAIgATYCDCABIQALIAALvgIBAn8gAEEAOgAAIABB3ABqIgFBAWtBADoAACAAQQA6AAIgAEEAOgABIAFBA2tBADoAACABQQJrQQA6AAAgAEEAOgADIAFBBGtBADoAAEEAIABrQQNxIgEgAGoiAEEANgIAQdwAIAFrQXxxIgIgAGoiAUEEa0EANgIAAkAgAkEJSQ0AIABBADYCCCAAQQA2AgQgAUEIa0EANgIAIAFBDGtBADYCACACQRlJDQAgAEEANgIYIABBADYCFCAAQQA2AhAgAEEANgIMIAFBEGtBADYCACABQRRrQQA2AgAgAUEYa0EANgIAIAFBHGtBADYCACACIABBBHFBGHIiAmsiAUEgSQ0AIAAgAmohAANAIABCADcDGCAAQgA3AxAgAEIANwMIIABCADcDACAAQSBqIQAgAUEgayIBQR9LDQALCwtWAQF/AkAgACgCDA0AAkACQAJAAkAgAC0ALw4DAQADAgsgACgCOCIBRQ0AIAEoAiwiAUUNACAAIAERAAAiAQ0DC0EADwsACyAAQcMWNgIQQQ4hAQsgAQsaACAAKAIMRQRAIABB0Rs2AhAgAEEVNgIMCwsUACAAKAIMQRVGBEAgAEEANgIMCwsUACAAKAIMQRZGBEAgAEEANgIMCwsHACAAKAIMCwcAIAAoAhALCQAgACABNgIQCwcAIAAoAhQLFwAgAEEkTwRAAAsgAEECdEGgM2ooAgALFwAgAEEuTwRAAAsgAEECdEGwNGooAgALvwkBAX9B6yghAQJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB5ABrDvQDY2IAAWFhYWFhYQIDBAVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhBgcICQoLDA0OD2FhYWFhEGFhYWFhYWFhYWFhEWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYRITFBUWFxgZGhthYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2YTc4OTphYWFhYWFhYTthYWE8YWFhYT0+P2FhYWFhYWFhQGFhQWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYUJDREVGR0hJSktMTU5PUFFSU2FhYWFhYWFhVFVWV1hZWlthXF1hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFeYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhX2BhC0HhJw8LQaQhDwtByywPC0H+MQ8LQcAkDwtBqyQPC0GNKA8LQeImDwtBgDAPC0G5Lw8LQdckDwtB7x8PC0HhHw8LQfofDwtB8iAPC0GoLw8LQa4yDwtBiDAPC0HsJw8LQYIiDwtBjh0PC0HQLg8LQcojDwtBxTIPC0HfHA8LQdIcDwtBxCAPC0HXIA8LQaIfDwtB7S4PC0GrMA8LQdQlDwtBzC4PC0H6Lg8LQfwrDwtB0jAPC0HxHQ8LQbsgDwtB9ysPC0GQMQ8LQdcxDwtBoi0PC0HUJw8LQeArDwtBnywPC0HrMQ8LQdUfDwtByjEPC0HeJQ8LQdQeDwtB9BwPC0GnMg8LQbEdDwtBoB0PC0G5MQ8LQbwwDwtBkiEPC0GzJg8LQeksDwtBrB4PC0HUKw8LQfcmDwtBgCYPC0GwIQ8LQf4eDwtBjSMPC0GJLQ8LQfciDwtBoDEPC0GuHw8LQcYlDwtB6B4PC0GTIg8LQcIvDwtBwx0PC0GLLA8LQeEdDwtBjS8PC0HqIQ8LQbQtDwtB0i8PC0HfMg8LQdIyDwtB8DAPC0GpIg8LQfkjDwtBmR4PC0G1LA8LQZswDwtBkjIPC0G2Kw8LQcIiDwtB+DIPC0GeJQ8LQdAiDwtBuh4PC0GBHg8LAAtB1iEhAQsgAQsWACAAIAAtAC1B/gFxIAFBAEdyOgAtCxkAIAAgAC0ALUH9AXEgAUEAR0EBdHI6AC0LGQAgACAALQAtQfsBcSABQQBHQQJ0cjoALQsZACAAIAAtAC1B9wFxIAFBAEdBA3RyOgAtCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBxhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9go2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7Ro2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBqhs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7RM2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBwhk2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlBQ2AhBBGCEECyAEC1kBAn8CQCAALQAoQQFGDQAgAC8BMiIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMCIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEwIgFBAnFFDQEMAgsgAC8BMCIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATIiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtzACAAQRBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAA/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQTBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQSBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQd0BNgIcCwYAIAAQMguaLQELfyMAQRBrIgokAEGk0AAoAgAiCUUEQEHk0wAoAgAiBUUEQEHw0wBCfzcCAEHo0wBCgICEgICAwAA3AgBB5NMAIApBCGpBcHFB2KrVqgVzIgU2AgBB+NMAQQA2AgBByNMAQQA2AgALQczTAEGA1AQ2AgBBnNAAQYDUBDYCAEGw0AAgBTYCAEGs0ABBfzYCAEHQ0wBBgKwDNgIAA0AgAUHI0ABqIAFBvNAAaiICNgIAIAIgAUG00ABqIgM2AgAgAUHA0ABqIAM2AgAgAUHQ0ABqIAFBxNAAaiIDNgIAIAMgAjYCACABQdjQAGogAUHM0ABqIgI2AgAgAiADNgIAIAFB1NAAaiACNgIAIAFBIGoiAUGAAkcNAAtBjNQEQcGrAzYCAEGo0ABB9NMAKAIANgIAQZjQAEHAqwM2AgBBpNAAQYjUBDYCAEHM/wdBODYCAEGI1AQhCQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAQewBTQRAQYzQACgCACIGQRAgAEETakFwcSAAQQtJGyIEQQN2IgB2IgFBA3EEQAJAIAFBAXEgAHJBAXMiAkEDdCIAQbTQAGoiASAAQbzQAGooAgAiACgCCCIDRgRAQYzQACAGQX4gAndxNgIADAELIAEgAzYCCCADIAE2AgwLIABBCGohASAAIAJBA3QiAkEDcjYCBCAAIAJqIgAgACgCBEEBcjYCBAwRC0GU0AAoAgAiCCAETw0BIAEEQAJAQQIgAHQiAkEAIAJrciABIAB0cWgiAEEDdCICQbTQAGoiASACQbzQAGooAgAiAigCCCIDRgRAQYzQACAGQX4gAHdxIgY2AgAMAQsgASADNgIIIAMgATYCDAsgAiAEQQNyNgIEIABBA3QiACAEayEFIAAgAmogBTYCACACIARqIgQgBUEBcjYCBCAIBEAgCEF4cUG00ABqIQBBoNAAKAIAIQMCf0EBIAhBA3Z0IgEgBnFFBEBBjNAAIAEgBnI2AgAgAAwBCyAAKAIICyIBIAM2AgwgACADNgIIIAMgADYCDCADIAE2AggLIAJBCGohAUGg0AAgBDYCAEGU0AAgBTYCAAwRC0GQ0AAoAgAiC0UNASALaEECdEG80gBqKAIAIgAoAgRBeHEgBGshBSAAIQIDQAJAIAIoAhAiAUUEQCACQRRqKAIAIgFFDQELIAEoAgRBeHEgBGsiAyAFSSECIAMgBSACGyEFIAEgACACGyEAIAEhAgwBCwsgACgCGCEJIAAoAgwiAyAARwRAQZzQACgCABogAyAAKAIIIgE2AgggASADNgIMDBALIABBFGoiAigCACIBRQRAIAAoAhAiAUUNAyAAQRBqIQILA0AgAiEHIAEiA0EUaiICKAIAIgENACADQRBqIQIgAygCECIBDQALIAdBADYCAAwPC0F/IQQgAEG/f0sNACAAQRNqIgFBcHEhBEGQ0AAoAgAiCEUNAEEAIARrIQUCQAJAAkACf0EAIARBgAJJDQAaQR8gBEH///8HSw0AGiAEQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qCyIGQQJ0QbzSAGooAgAiAkUEQEEAIQFBACEDDAELQQAhASAEQRkgBkEBdmtBACAGQR9HG3QhAEEAIQMDQAJAIAIoAgRBeHEgBGsiByAFTw0AIAIhAyAHIgUNAEEAIQUgAiEBDAMLIAEgAkEUaigCACIHIAcgAiAAQR12QQRxakEQaigCACICRhsgASAHGyEBIABBAXQhACACDQALCyABIANyRQRAQQAhA0ECIAZ0IgBBACAAa3IgCHEiAEUNAyAAaEECdEG80gBqKAIAIQELIAFFDQELA0AgASgCBEF4cSAEayICIAVJIQAgAiAFIAAbIQUgASADIAAbIQMgASgCECIABH8gAAUgAUEUaigCAAsiAQ0ACwsgA0UNACAFQZTQACgCACAEa08NACADKAIYIQcgAyADKAIMIgBHBEBBnNAAKAIAGiAAIAMoAggiATYCCCABIAA2AgwMDgsgA0EUaiICKAIAIgFFBEAgAygCECIBRQ0DIANBEGohAgsDQCACIQYgASIAQRRqIgIoAgAiAQ0AIABBEGohAiAAKAIQIgENAAsgBkEANgIADA0LQZTQACgCACIDIARPBEBBoNAAKAIAIQECQCADIARrIgJBEE8EQCABIARqIgAgAkEBcjYCBCABIANqIAI2AgAgASAEQQNyNgIEDAELIAEgA0EDcjYCBCABIANqIgAgACgCBEEBcjYCBEEAIQBBACECC0GU0AAgAjYCAEGg0AAgADYCACABQQhqIQEMDwtBmNAAKAIAIgMgBEsEQCAEIAlqIgAgAyAEayIBQQFyNgIEQaTQACAANgIAQZjQACABNgIAIAkgBEEDcjYCBCAJQQhqIQEMDwtBACEBIAQCf0Hk0wAoAgAEQEHs0wAoAgAMAQtB8NMAQn83AgBB6NMAQoCAhICAgMAANwIAQeTTACAKQQxqQXBxQdiq1aoFczYCAEH40wBBADYCAEHI0wBBADYCAEGAgAQLIgAgBEHHAGoiBWoiBkEAIABrIgdxIgJPBEBB/NMAQTA2AgAMDwsCQEHE0wAoAgAiAUUNAEG80wAoAgAiCCACaiEAIAAgAU0gACAIS3ENAEEAIQFB/NMAQTA2AgAMDwtByNMALQAAQQRxDQQCQAJAIAkEQEHM0wAhAQNAIAEoAgAiACAJTQRAIAAgASgCBGogCUsNAwsgASgCCCIBDQALC0EAEDMiAEF/Rg0FIAIhBkHo0wAoAgAiAUEBayIDIABxBEAgAiAAayAAIANqQQAgAWtxaiEGCyAEIAZPDQUgBkH+////B0sNBUHE0wAoAgAiAwRAQbzTACgCACIHIAZqIQEgASAHTQ0GIAEgA0sNBgsgBhAzIgEgAEcNAQwHCyAGIANrIAdxIgZB/v///wdLDQQgBhAzIQAgACABKAIAIAEoAgRqRg0DIAAhAQsCQCAGIARByABqTw0AIAFBf0YNAEHs0wAoAgAiACAFIAZrakEAIABrcSIAQf7///8HSwRAIAEhAAwHCyAAEDNBf0cEQCAAIAZqIQYgASEADAcLQQAgBmsQMxoMBAsgASIAQX9HDQUMAwtBACEDDAwLQQAhAAwKCyAAQX9HDQILQcjTAEHI0wAoAgBBBHI2AgALIAJB/v///wdLDQEgAhAzIQBBABAzIQEgAEF/Rg0BIAFBf0YNASAAIAFPDQEgASAAayIGIARBOGpNDQELQbzTAEG80wAoAgAgBmoiATYCAEHA0wAoAgAgAUkEQEHA0wAgATYCAAsCQAJAAkBBpNAAKAIAIgIEQEHM0wAhAQNAIAAgASgCACIDIAEoAgQiBWpGDQIgASgCCCIBDQALDAILQZzQACgCACIBQQBHIAAgAU9xRQRAQZzQACAANgIAC0EAIQFB0NMAIAY2AgBBzNMAIAA2AgBBrNAAQX82AgBBsNAAQeTTACgCADYCAEHY0wBBADYCAANAIAFByNAAaiABQbzQAGoiAjYCACACIAFBtNAAaiIDNgIAIAFBwNAAaiADNgIAIAFB0NAAaiABQcTQAGoiAzYCACADIAI2AgAgAUHY0ABqIAFBzNAAaiICNgIAIAIgAzYCACABQdTQAGogAjYCACABQSBqIgFBgAJHDQALQXggAGtBD3EiASAAaiICIAZBOGsiAyABayIBQQFyNgIEQajQAEH00wAoAgA2AgBBmNAAIAE2AgBBpNAAIAI2AgAgACADakE4NgIEDAILIAAgAk0NACACIANJDQAgASgCDEEIcQ0AQXggAmtBD3EiACACaiIDQZjQACgCACAGaiIHIABrIgBBAXI2AgQgASAFIAZqNgIEQajQAEH00wAoAgA2AgBBmNAAIAA2AgBBpNAAIAM2AgAgAiAHakE4NgIEDAELIABBnNAAKAIASQRAQZzQACAANgIACyAAIAZqIQNBzNMAIQECQAJAAkADQCADIAEoAgBHBEAgASgCCCIBDQEMAgsLIAEtAAxBCHFFDQELQczTACEBA0AgASgCACIDIAJNBEAgAyABKAIEaiIFIAJLDQMLIAEoAgghAQwACwALIAEgADYCACABIAEoAgQgBmo2AgQgAEF4IABrQQ9xaiIJIARBA3I2AgQgA0F4IANrQQ9xaiIGIAQgCWoiBGshASACIAZGBEBBpNAAIAQ2AgBBmNAAQZjQACgCACABaiIANgIAIAQgAEEBcjYCBAwIC0Gg0AAoAgAgBkYEQEGg0AAgBDYCAEGU0ABBlNAAKAIAIAFqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwICyAGKAIEIgVBA3FBAUcNBiAFQXhxIQggBUH/AU0EQCAFQQN2IQMgBigCCCIAIAYoAgwiAkYEQEGM0ABBjNAAKAIAQX4gA3dxNgIADAcLIAIgADYCCCAAIAI2AgwMBgsgBigCGCEHIAYgBigCDCIARwRAIAAgBigCCCICNgIIIAIgADYCDAwFCyAGQRRqIgIoAgAiBUUEQCAGKAIQIgVFDQQgBkEQaiECCwNAIAIhAyAFIgBBFGoiAigCACIFDQAgAEEQaiECIAAoAhAiBQ0ACyADQQA2AgAMBAtBeCAAa0EPcSIBIABqIgcgBkE4ayIDIAFrIgFBAXI2AgQgACADakE4NgIEIAIgBUE3IAVrQQ9xakE/ayIDIAMgAkEQakkbIgNBIzYCBEGo0ABB9NMAKAIANgIAQZjQACABNgIAQaTQACAHNgIAIANBEGpB1NMAKQIANwIAIANBzNMAKQIANwIIQdTTACADQQhqNgIAQdDTACAGNgIAQczTACAANgIAQdjTAEEANgIAIANBJGohAQNAIAFBBzYCACAFIAFBBGoiAUsNAAsgAiADRg0AIAMgAygCBEF+cTYCBCADIAMgAmsiBTYCACACIAVBAXI2AgQgBUH/AU0EQCAFQXhxQbTQAGohAAJ/QYzQACgCACIBQQEgBUEDdnQiA3FFBEBBjNAAIAEgA3I2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEG80gBqIQBBkNAAKAIAIgNBASABdCIGcUUEQCAAIAI2AgBBkNAAIAMgBnI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEDAkADQCADIgAoAgRBeHEgBUYNASABQR12IQMgAUEBdCEBIAAgA0EEcWpBEGoiBigCACIDDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLQZjQACgCACIBIARNDQBBpNAAKAIAIgAgBGoiAiABIARrIgFBAXI2AgRBmNAAIAE2AgBBpNAAIAI2AgAgACAEQQNyNgIEIABBCGohAQwIC0EAIQFB/NMAQTA2AgAMBwtBACEACyAHRQ0AAkAgBigCHCICQQJ0QbzSAGoiAygCACAGRgRAIAMgADYCACAADQFBkNAAQZDQACgCAEF+IAJ3cTYCAAwCCyAHQRBBFCAHKAIQIAZGG2ogADYCACAARQ0BCyAAIAc2AhggBigCECICBEAgACACNgIQIAIgADYCGAsgBkEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgCGohASAGIAhqIgYoAgQhBQsgBiAFQX5xNgIEIAEgBGogATYCACAEIAFBAXI2AgQgAUH/AU0EQCABQXhxQbTQAGohAAJ/QYzQACgCACICQQEgAUEDdnQiAXFFBEBBjNAAIAEgAnI2AgAgAAwBCyAAKAIICyIBIAQ2AgwgACAENgIIIAQgADYCDCAEIAE2AggMAQtBHyEFIAFB////B00EQCABQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qIQULIAQgBTYCHCAEQgA3AhAgBUECdEG80gBqIQBBkNAAKAIAIgJBASAFdCIDcUUEQCAAIAQ2AgBBkNAAIAIgA3I2AgAgBCAANgIYIAQgBDYCCCAEIAQ2AgwMAQsgAUEZIAVBAXZrQQAgBUEfRxt0IQUgACgCACEAAkADQCAAIgIoAgRBeHEgAUYNASAFQR12IQAgBUEBdCEFIAIgAEEEcWpBEGoiAygCACIADQALIAMgBDYCACAEIAI2AhggBCAENgIMIAQgBDYCCAwBCyACKAIIIgAgBDYCDCACIAQ2AgggBEEANgIYIAQgAjYCDCAEIAA2AggLIAlBCGohAQwCCwJAIAdFDQACQCADKAIcIgFBAnRBvNIAaiICKAIAIANGBEAgAiAANgIAIAANAUGQ0AAgCEF+IAF3cSIINgIADAILIAdBEEEUIAcoAhAgA0YbaiAANgIAIABFDQELIAAgBzYCGCADKAIQIgEEQCAAIAE2AhAgASAANgIYCyADQRRqKAIAIgFFDQAgAEEUaiABNgIAIAEgADYCGAsCQCAFQQ9NBEAgAyAEIAVqIgBBA3I2AgQgACADaiIAIAAoAgRBAXI2AgQMAQsgAyAEaiICIAVBAXI2AgQgAyAEQQNyNgIEIAIgBWogBTYCACAFQf8BTQRAIAVBeHFBtNAAaiEAAn9BjNAAKAIAIgFBASAFQQN2dCIFcUUEQEGM0AAgASAFcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbzSAGohAEEBIAF0IgQgCHFFBEAgACACNgIAQZDQACAEIAhyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhBAJAA0AgBCIAKAIEQXhxIAVGDQEgAUEddiEEIAFBAXQhASAAIARBBHFqQRBqIgYoAgAiBA0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIICyADQQhqIQEMAQsCQCAJRQ0AAkAgACgCHCIBQQJ0QbzSAGoiAigCACAARgRAIAIgAzYCACADDQFBkNAAIAtBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAARhtqIAM2AgAgA0UNAQsgAyAJNgIYIAAoAhAiAQRAIAMgATYCECABIAM2AhgLIABBFGooAgAiAUUNACADQRRqIAE2AgAgASADNgIYCwJAIAVBD00EQCAAIAQgBWoiAUEDcjYCBCAAIAFqIgEgASgCBEEBcjYCBAwBCyAAIARqIgcgBUEBcjYCBCAAIARBA3I2AgQgBSAHaiAFNgIAIAgEQCAIQXhxQbTQAGohAUGg0AAoAgAhAwJ/QQEgCEEDdnQiAiAGcUUEQEGM0AAgAiAGcjYCACABDAELIAEoAggLIgIgAzYCDCABIAM2AgggAyABNgIMIAMgAjYCCAtBoNAAIAc2AgBBlNAAIAU2AgALIABBCGohAQsgCkEQaiQAIAELQwAgAEUEQD8AQRB0DwsCQCAAQf//A3ENACAAQQBIDQAgAEEQdkAAIgBBf0YEQEH80wBBMDYCAEF/DwsgAEEQdA8LAAsL3D8iAEGACAsJAQAAAAIAAAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4otSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBSZXNwb25zZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucwBVc2VyIGNhbGxiYWNrIGVycm9yAGBvbl9yZXNldGAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2hlYWRlcmAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfYmVnaW5gIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fdmFsdWVgIGNhbGxiYWNrIGVycm9yAGBvbl9zdGF0dXNfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl92ZXJzaW9uX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdXJsX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWV0aG9kX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX25hbWVgIGNhbGxiYWNrIGVycm9yAFVuZXhwZWN0ZWQgY2hhciBpbiB1cmwgc2VydmVyAEludmFsaWQgaGVhZGVyIHZhbHVlIGNoYXIASW52YWxpZCBoZWFkZXIgZmllbGQgY2hhcgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3ZlcnNpb24ASW52YWxpZCBtaW5vciB2ZXJzaW9uAEludmFsaWQgbWFqb3IgdmVyc2lvbgBFeHBlY3RlZCBzcGFjZSBhZnRlciB2ZXJzaW9uAEV4cGVjdGVkIENSTEYgYWZ0ZXIgdmVyc2lvbgBJbnZhbGlkIEhUVFAgdmVyc2lvbgBJbnZhbGlkIGhlYWRlciB0b2tlbgBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3VybABJbnZhbGlkIGNoYXJhY3RlcnMgaW4gdXJsAFVuZXhwZWN0ZWQgc3RhcnQgY2hhciBpbiB1cmwARG91YmxlIEAgaW4gdXJsAEVtcHR5IENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhcmFjdGVyIGluIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZWQgdmFsdWUAUGF1c2VkIGJ5IG9uX2hlYWRlcnNfY29tcGxldGUASW52YWxpZCBFT0Ygc3RhdGUAb25fcmVzZXQgcGF1c2UAb25fY2h1bmtfaGVhZGVyIHBhdXNlAG9uX21lc3NhZ2VfYmVnaW4gcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlIHBhdXNlAG9uX3N0YXR1c19jb21wbGV0ZSBwYXVzZQBvbl92ZXJzaW9uX2NvbXBsZXRlIHBhdXNlAG9uX3VybF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfdmFsdWVfY29tcGxldGUgcGF1c2UAb25fbWVzc2FnZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXRob2RfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX2ZpZWxkX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lIHBhdXNlAFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgc3RhcnQgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AAU1dJVENIX1BST1hZAFVTRV9QUk9YWQBNS0FDVElWSVRZAFVOUFJPQ0VTU0FCTEVfRU5USVRZAENPUFkATU9WRURfUEVSTUFORU5UTFkAVE9PX0VBUkxZAE5PVElGWQBGQUlMRURfREVQRU5ERU5DWQBCQURfR0FURVdBWQBQTEFZAFBVVABDSEVDS09VVABHQVRFV0FZX1RJTUVPVVQAUkVRVUVTVF9USU1FT1VUAE5FVFdPUktfQ09OTkVDVF9USU1FT1VUAENPTk5FQ1RJT05fVElNRU9VVABMT0dJTl9USU1FT1VUAE5FVFdPUktfUkVBRF9USU1FT1VUAFBPU1QATUlTRElSRUNURURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9MT0FEX0JBTEFOQ0VEX1JFUVVFU1QAQkFEX1JFUVVFU1QASFRUUF9SRVFVRVNUX1NFTlRfVE9fSFRUUFNfUE9SVABSRVBPUlQASU1fQV9URUFQT1QAUkVTRVRfQ09OVEVOVABOT19DT05URU5UAFBBUlRJQUxfQ09OVEVOVABIUEVfSU5WQUxJRF9DT05TVEFOVABIUEVfQ0JfUkVTRVQAR0VUAEhQRV9TVFJJQ1QAQ09ORkxJQ1QAVEVNUE9SQVJZX1JFRElSRUNUAFBFUk1BTkVOVF9SRURJUkVDVABDT05ORUNUAE1VTFRJX1NUQVRVUwBIUEVfSU5WQUxJRF9TVEFUVVMAVE9PX01BTllfUkVRVUVTVFMARUFSTFlfSElOVFMAVU5BVkFJTEFCTEVfRk9SX0xFR0FMX1JFQVNPTlMAT1BUSU9OUwBTV0lUQ0hJTkdfUFJPVE9DT0xTAFZBUklBTlRfQUxTT19ORUdPVElBVEVTAE1VTFRJUExFX0NIT0lDRVMASU5URVJOQUxfU0VSVkVSX0VSUk9SAFdFQl9TRVJWRVJfVU5LTk9XTl9FUlJPUgBSQUlMR1VOX0VSUk9SAElERU5USVRZX1BST1ZJREVSX0FVVEhFTlRJQ0FUSU9OX0VSUk9SAFNTTF9DRVJUSUZJQ0FURV9FUlJPUgBJTlZBTElEX1hfRk9SV0FSREVEX0ZPUgBTRVRfUEFSQU1FVEVSAEdFVF9QQVJBTUVURVIASFBFX1VTRVIAU0VFX09USEVSAEhQRV9DQl9DSFVOS19IRUFERVIATUtDQUxFTkRBUgBTRVRVUABXRUJfU0VSVkVSX0lTX0RPV04AVEVBUkRPV04ASFBFX0NMT1NFRF9DT05ORUNUSU9OAEhFVVJJU1RJQ19FWFBJUkFUSU9OAERJU0NPTk5FQ1RFRF9PUEVSQVRJT04ATk9OX0FVVEhPUklUQVRJVkVfSU5GT1JNQVRJT04ASFBFX0lOVkFMSURfVkVSU0lPTgBIUEVfQ0JfTUVTU0FHRV9CRUdJTgBTSVRFX0lTX0ZST1pFTgBIUEVfSU5WQUxJRF9IRUFERVJfVE9LRU4ASU5WQUxJRF9UT0tFTgBGT1JCSURERU4ARU5IQU5DRV9ZT1VSX0NBTE0ASFBFX0lOVkFMSURfVVJMAEJMT0NLRURfQllfUEFSRU5UQUxfQ09OVFJPTABNS0NPTABBQ0wASFBFX0lOVEVSTkFMAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0VfVU5PRkZJQ0lBTABIUEVfT0sAVU5MSU5LAFVOTE9DSwBQUkkAUkVUUllfV0lUSABIUEVfSU5WQUxJRF9DT05URU5UX0xFTkdUSABIUEVfVU5FWFBFQ1RFRF9DT05URU5UX0xFTkdUSABGTFVTSABQUk9QUEFUQ0gATS1TRUFSQ0gAVVJJX1RPT19MT05HAFBST0NFU1NJTkcATUlTQ0VMTEFORU9VU19QRVJTSVNURU5UX1dBUk5JTkcATUlTQ0VMTEFORU9VU19XQVJOSU5HAEhQRV9JTlZBTElEX1RSQU5TRkVSX0VOQ09ESU5HAEV4cGVjdGVkIENSTEYASFBFX0lOVkFMSURfQ0hVTktfU0laRQBNT1ZFAENPTlRJTlVFAEhQRV9DQl9TVEFUVVNfQ09NUExFVEUASFBFX0NCX0hFQURFUlNfQ09NUExFVEUASFBFX0NCX1ZFUlNJT05fQ09NUExFVEUASFBFX0NCX1VSTF9DT01QTEVURQBIUEVfQ0JfQ0hVTktfQ09NUExFVEUASFBFX0NCX0hFQURFUl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fTkFNRV9DT01QTEVURQBIUEVfQ0JfTUVTU0FHRV9DT01QTEVURQBIUEVfQ0JfTUVUSE9EX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfRklFTERfQ09NUExFVEUAREVMRVRFAEhQRV9JTlZBTElEX0VPRl9TVEFURQBJTlZBTElEX1NTTF9DRVJUSUZJQ0FURQBQQVVTRQBOT19SRVNQT05TRQBVTlNVUFBPUlRFRF9NRURJQV9UWVBFAEdPTkUATk9UX0FDQ0VQVEFCTEUAU0VSVklDRV9VTkFWQUlMQUJMRQBSQU5HRV9OT1RfU0FUSVNGSUFCTEUAT1JJR0lOX0lTX1VOUkVBQ0hBQkxFAFJFU1BPTlNFX0lTX1NUQUxFAFBVUkdFAE1FUkdFAFJFUVVFU1RfSEVBREVSX0ZJRUxEU19UT09fTEFSR0UAUkVRVUVTVF9IRUFERVJfVE9PX0xBUkdFAFBBWUxPQURfVE9PX0xBUkdFAElOU1VGRklDSUVOVF9TVE9SQUdFAEhQRV9QQVVTRURfVVBHUkFERQBIUEVfUEFVU0VEX0gyX1VQR1JBREUAU09VUkNFAEFOTk9VTkNFAFRSQUNFAEhQRV9VTkVYUEVDVEVEX1NQQUNFAERFU0NSSUJFAFVOU1VCU0NSSUJFAFJFQ09SRABIUEVfSU5WQUxJRF9NRVRIT0QATk9UX0ZPVU5EAFBST1BGSU5EAFVOQklORABSRUJJTkQAVU5BVVRIT1JJWkVEAE1FVEhPRF9OT1RfQUxMT1dFRABIVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRABBTFJFQURZX1JFUE9SVEVEAEFDQ0VQVEVEAE5PVF9JTVBMRU1FTlRFRABMT09QX0RFVEVDVEVEAEhQRV9DUl9FWFBFQ1RFRABIUEVfTEZfRVhQRUNURUQAQ1JFQVRFRABJTV9VU0VEAEhQRV9QQVVTRUQAVElNRU9VVF9PQ0NVUkVEAFBBWU1FTlRfUkVRVUlSRUQAUFJFQ09ORElUSU9OX1JFUVVJUkVEAFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAE5FVFdPUktfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATEVOR1RIX1JFUVVJUkVEAFNTTF9DRVJUSUZJQ0FURV9SRVFVSVJFRABVUEdSQURFX1JFUVVJUkVEAFBBR0VfRVhQSVJFRABQUkVDT05ESVRJT05fRkFJTEVEAEVYUEVDVEFUSU9OX0ZBSUxFRABSRVZBTElEQVRJT05fRkFJTEVEAFNTTF9IQU5EU0hBS0VfRkFJTEVEAExPQ0tFRABUUkFOU0ZPUk1BVElPTl9BUFBMSUVEAE5PVF9NT0RJRklFRABOT1RfRVhURU5ERUQAQkFORFdJRFRIX0xJTUlUX0VYQ0VFREVEAFNJVEVfSVNfT1ZFUkxPQURFRABIRUFEAEV4cGVjdGVkIEhUVFAvAABeEwAAJhMAADAQAADwFwAAnRMAABUSAAA5FwAA8BIAAAoQAAB1EgAArRIAAIITAABPFAAAfxAAAKAVAAAjFAAAiRIAAIsUAABNFQAA1BEAAM8UAAAQGAAAyRYAANwWAADBEQAA4BcAALsUAAB0FAAAfBUAAOUUAAAIFwAAHxAAAGUVAACjFAAAKBUAAAIVAACZFQAALBAAAIsZAABPDwAA1A4AAGoQAADOEAAAAhcAAIkOAABuEwAAHBMAAGYUAABWFwAAwRMAAM0TAABsEwAAaBcAAGYXAABfFwAAIhMAAM4PAABpDgAA2A4AAGMWAADLEwAAqg4AACgXAAAmFwAAxRMAAF0WAADoEQAAZxMAAGUTAADyFgAAcxMAAB0XAAD5FgAA8xEAAM8OAADOFQAADBIAALMRAAClEQAAYRAAADIXAAC7EwBB+TULAQEAQZA2C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQf03CwEBAEGROAteAgMCAgICAgAAAgIAAgIAAgICAgICAgICAgAEAAAAAAACAgICAgICAgICAgICAgICAgICAgICAgICAgAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAAIAAgBB/TkLAQEAQZE6C14CAAICAgICAAACAgACAgACAgICAgICAgICAAMABAAAAAICAgICAgICAgICAgICAgICAgICAgICAgICAAAAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgACAEHwOwsNbG9zZWVlcC1hbGl2ZQBBiTwLAQEAQaA8C+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQYk+CwEBAEGgPgvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBsMAAC18BAQABAQEBAQAAAQEAAQEAAQEBAQEBAQEBAQAAAAAAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQBBkMIACyFlY3Rpb25lbnQtbGVuZ3Rob25yb3h5LWNvbm5lY3Rpb24AQcDCAAstcmFuc2Zlci1lbmNvZGluZ3BncmFkZQ0KDQoNClNNDQoNClRUUC9DRS9UU1AvAEH5wgALBQECAAEDAEGQwwAL4AEEAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+cQACwUBAgABAwBBkMUAC+ABBAEBBQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnGAAsEAQAAAQBBkccAC98BAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB+sgACwQBAAACAEGQyQALXwMEAAAEBAQEBAQEBAQEBAUEBAQEBAQEBAQEBAQABAAGBwQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEAAQABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQAAAAEAEH6ygALBAEAAAEAQZDLAAsBAQBBqssAC0ECAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB+swACwQBAAABAEGQzQALAQEAQZrNAAsGAgAAAAACAEGxzQALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQfDOAAuWAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")});var VS=H((nWr,owe)=>{"use strict";d();var XTe=["GET","HEAD","POST"],n1t=new Set(XTe),i1t=[101,204,205,304],ZTe=[301,302,303,307,308],o1t=new Set(ZTe),ewe=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],s1t=new Set(ewe),twe=["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],a1t=new Set(twe),l1t=["follow","manual","error"],rwe=["GET","HEAD","OPTIONS","TRACE"],c1t=new Set(rwe),u1t=["navigate","same-origin","no-cors","cors"],f1t=["omit","same-origin","include"],d1t=["default","no-store","reload","no-cache","force-cache","only-if-cached"],m1t=["content-encoding","content-language","content-location","content-type","content-length"],h1t=["half"],nwe=["CONNECT","TRACE","TRACK"],p1t=new Set(nwe),iwe=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],g1t=new Set(iwe);owe.exports={subresource:iwe,forbiddenMethods:nwe,requestBodyHeader:m1t,referrerPolicy:twe,requestRedirect:l1t,requestMode:u1t,requestCredentials:f1t,requestCache:d1t,redirectStatus:ZTe,corsSafeListedMethods:XTe,nullBodyStatus:i1t,safeMethods:rwe,badPorts:ewe,requestDuplex:h1t,subresourceSet:g1t,badPortsSet:s1t,redirectStatusSet:o1t,corsSafeListedMethodsSet:n1t,safeMethodsSet:c1t,forbiddenMethodsSet:p1t,referrerPolicySet:a1t}});var Qie=H((oWr,swe)=>{"use strict";d();var Mie=Symbol.for("undici.globalOrigin.1");function A1t(){return globalThis[Mie]}s(A1t,"getGlobalOrigin");function y1t(e){if(e===void 0){Object.defineProperty(globalThis,Mie,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let t=new URL(e);if(t.protocol!=="http:"&&t.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${t.protocol}`);Object.defineProperty(globalThis,Mie,{value:t,writable:!0,enumerable:!1,configurable:!1})}s(y1t,"setGlobalOrigin");swe.exports={getGlobalOrigin:A1t,setGlobalOrigin:y1t}});var pu=H((lWr,mwe)=>{"use strict";d();var LU=require("node:assert"),C1t=new TextEncoder,$S=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,x1t=/[\u000A\u000D\u0009\u0020]/,v1t=/[\u0009\u000A\u000C\u000D\u0020]/g,b1t=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function E1t(e){LU(e.protocol==="data:");let t=cwe(e,!0);t=t.slice(5);let r={position:0},n=g6(",",t,r),i=n.length;if(n=R1t(n,!0,!0),r.position>=t.length)return"failure";r.position++;let o=t.slice(i+1),a=uwe(o);if(/;(\u0020){0,}base64$/i.test(n)){let c=dwe(a);if(a=T1t(c),a==="failure")return"failure";n=n.slice(0,-6),n=n.replace(/(\u0020)+$/,""),n=n.slice(0,-1)}n.startsWith(";")&&(n="text/plain"+n);let l=Oie(n);return l==="failure"&&(l=Oie("text/plain;charset=US-ASCII")),{mimeType:l,body:a}}s(E1t,"dataURLProcessor");function cwe(e,t=!1){if(!t)return e.href;let r=e.href,n=e.hash.length,i=n===0?r:r.substring(0,r.length-n);return!n&&r.endsWith("#")?i.slice(0,-1):i}s(cwe,"URLSerializer");function FU(e,t,r){let n="";for(;r.position<t.length&&e(t[r.position]);)n+=t[r.position],r.position++;return n}s(FU,"collectASequenceOfCodePoints");function g6(e,t,r){let n=t.indexOf(e,r.position),i=r.position;return n===-1?(r.position=t.length,t.slice(i)):(r.position=n,t.slice(i,r.position))}s(g6,"collectASequenceOfCodePointsFast");function uwe(e){let t=C1t.encode(e);return I1t(t)}s(uwe,"stringPercentDecode");function awe(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}s(awe,"isHexCharByte");function lwe(e){return e>=48&&e<=57?e-48:(e&223)-55}s(lwe,"hexByteToNumber");function I1t(e){let t=e.length,r=new Uint8Array(t),n=0;for(let i=0;i<t;++i){let o=e[i];o!==37?r[n++]=o:o===37&&!(awe(e[i+1])&&awe(e[i+2]))?r[n++]=37:(r[n++]=lwe(e[i+1])<<4|lwe(e[i+2]),i+=2)}return t===n?r:r.subarray(0,n)}s(I1t,"percentDecode");function Oie(e){e=NU(e,!0,!0);let t={position:0},r=g6("/",e,t);if(r.length===0||!$S.test(r)||t.position>e.length)return"failure";t.position++;let n=g6(";",e,t);if(n=NU(n,!1,!0),n.length===0||!$S.test(n))return"failure";let i=r.toLowerCase(),o=n.toLowerCase(),a={type:i,subtype:o,parameters:new Map,essence:`${i}/${o}`};for(;t.position<e.length;){t.position++,FU(u=>x1t.test(u),e,t);let l=FU(u=>u!==";"&&u!=="=",e,t);if(l=l.toLowerCase(),t.position<e.length){if(e[t.position]===";")continue;t.position++}if(t.position>e.length)break;let c=null;if(e[t.position]==='"')c=fwe(e,t,!0),g6(";",e,t);else if(c=g6(";",e,t),c=NU(c,!1,!0),c.length===0)continue;l.length!==0&&$S.test(l)&&(c.length===0||b1t.test(c))&&!a.parameters.has(l)&&a.parameters.set(l,c)}return a}s(Oie,"parseMIMEType");function T1t(e){e=e.replace(v1t,"");let t=e.length;if(t%4===0&&e.charCodeAt(t-1)===61&&(--t,e.charCodeAt(t-1)===61&&--t),t%4===1||/[^+/0-9A-Za-z]/.test(e.length===t?e:e.substring(0,t)))return"failure";let r=Buffer.from(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}s(T1t,"forgivingBase64");function fwe(e,t,r){let n=t.position,i="";for(LU(e[t.position]==='"'),t.position++;i+=FU(a=>a!=='"'&&a!=="\\",e,t),!(t.position>=e.length);){let o=e[t.position];if(t.position++,o==="\\"){if(t.position>=e.length){i+="\\";break}i+=e[t.position],t.position++}else{LU(o==='"');break}}return r?i:e.slice(n,t.position)}s(fwe,"collectAnHTTPQuotedString");function w1t(e){LU(e!=="failure");let{parameters:t,essence:r}=e,n=r;for(let[i,o]of t.entries())n+=";",n+=i,n+="=",$S.test(o)||(o=o.replace(/(\\|")/g,"\\$1"),o='"'+o,o+='"'),n+=o;return n}s(w1t,"serializeAMimeType");function _1t(e){return e===13||e===10||e===9||e===32}s(_1t,"isHTTPWhiteSpace");function NU(e,t=!0,r=!0){return Uie(e,t,r,_1t)}s(NU,"removeHTTPWhitespace");function S1t(e){return e===13||e===10||e===9||e===12||e===32}s(S1t,"isASCIIWhitespace");function R1t(e,t=!0,r=!0){return Uie(e,t,r,S1t)}s(R1t,"removeASCIIWhitespace");function Uie(e,t,r,n){let i=0,o=e.length-1;if(t)for(;i<e.length&&n(e.charCodeAt(i));)i++;if(r)for(;o>0&&n(e.charCodeAt(o));)o--;return i===0&&o===e.length-1?e:e.slice(i,o+1)}s(Uie,"removeChars");function dwe(e){let t=e.length;if(65535>t)return String.fromCharCode.apply(null,e);let r="",n=0,i=65535;for(;n<t;)n+i>t&&(i=t-n),r+=String.fromCharCode.apply(null,e.subarray(n,n+=i));return r}s(dwe,"isomorphicDecode");function k1t(e){switch(e.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}return e.subtype.endsWith("+json")?"application/json":e.subtype.endsWith("+xml")?"application/xml":""}s(k1t,"minimizeSupportedMimeType");mwe.exports={dataURLProcessor:E1t,URLSerializer:cwe,collectASequenceOfCodePoints:FU,collectASequenceOfCodePointsFast:g6,stringPercentDecode:uwe,parseMIMEType:Oie,collectAnHTTPQuotedString:fwe,serializeAMimeType:w1t,removeChars:Uie,removeHTTPWhitespace:NU,minimizeSupportedMimeType:k1t,HTTP_TOKEN_CODEPOINTS:$S,isomorphicDecode:dwe}});var dc=H((fWr,hwe)=>{"use strict";d();var{types:pg,inspect:B1t}=require("node:util"),{markAsUncloneable:D1t}=require("node:worker_threads"),{toUSVString:P1t}=yi(),zt={};zt.converters={};zt.util={};zt.errors={};zt.errors.exception=function(e){return new TypeError(`${e.header}: ${e.message}`)};zt.errors.conversionFailed=function(e){let t=e.types.length===1?"":" one of",r=`${e.argument} could not be converted to${t}: ${e.types.join(", ")}.`;return zt.errors.exception({header:e.prefix,message:r})};zt.errors.invalidArgument=function(e){return zt.errors.exception({header:e.prefix,message:`"${e.value}" is an invalid ${e.type}.`})};zt.brandCheck=function(e,t,r){if(r?.strict!==!1){if(!(e instanceof t)){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}}else if(e?.[Symbol.toStringTag]!==t.prototype[Symbol.toStringTag]){let n=new TypeError("Illegal invocation");throw n.code="ERR_INVALID_THIS",n}};zt.argumentLengthCheck=function({length:e},t,r){if(e<t)throw zt.errors.exception({message:`${t} argument${t!==1?"s":""} required, but${e?" only":""} ${e} found.`,header:r})};zt.illegalConstructor=function(){throw zt.errors.exception({header:"TypeError",message:"Illegal constructor"})};zt.util.Type=function(e){switch(typeof e){case"undefined":return"Undefined";case"boolean":return"Boolean";case"string":return"String";case"symbol":return"Symbol";case"number":return"Number";case"bigint":return"BigInt";case"function":case"object":return e===null?"Null":"Object"}};zt.util.markAsUncloneable=D1t||(()=>{});zt.util.ConvertToInt=function(e,t,r,n){let i,o;t===64?(i=Math.pow(2,53)-1,r==="unsigned"?o=0:o=Math.pow(-2,53)+1):r==="unsigned"?(o=0,i=Math.pow(2,t)-1):(o=Math.pow(-2,t)-1,i=Math.pow(2,t-1)-1);let a=Number(e);if(a===0&&(a=0),n?.enforceRange===!0){if(Number.isNaN(a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)throw zt.errors.exception({header:"Integer conversion",message:`Could not convert ${zt.util.Stringify(e)} to an integer.`});if(a=zt.util.IntegerPart(a),a<o||a>i)throw zt.errors.exception({header:"Integer conversion",message:`Value must be between ${o}-${i}, got ${a}.`});return a}return!Number.isNaN(a)&&n?.clamp===!0?(a=Math.min(Math.max(a,o),i),Math.floor(a)%2===0?a=Math.floor(a):a=Math.ceil(a),a):Number.isNaN(a)||a===0&&Object.is(0,a)||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY?0:(a=zt.util.IntegerPart(a),a=a%Math.pow(2,t),r==="signed"&&a>=Math.pow(2,t)-1?a-Math.pow(2,t):a)};zt.util.IntegerPart=function(e){let t=Math.floor(Math.abs(e));return e<0?-1*t:t};zt.util.Stringify=function(e){switch(zt.util.Type(e)){case"Symbol":return`Symbol(${e.description})`;case"Object":return B1t(e);case"String":return`"${e}"`;default:return`${e}`}};zt.sequenceConverter=function(e){return(t,r,n,i)=>{if(zt.util.Type(t)!=="Object")throw zt.errors.exception({header:r,message:`${n} (${zt.util.Stringify(t)}) is not iterable.`});let o=typeof i=="function"?i():t?.[Symbol.iterator]?.(),a=[],l=0;if(o===void 0||typeof o.next!="function")throw zt.errors.exception({header:r,message:`${n} is not iterable.`});for(;;){let{done:c,value:u}=o.next();if(c)break;a.push(e(u,r,`${n}[${l++}]`))}return a}};zt.recordConverter=function(e,t){return(r,n,i)=>{if(zt.util.Type(r)!=="Object")throw zt.errors.exception({header:n,message:`${i} ("${zt.util.Type(r)}") is not an Object.`});let o={};if(!pg.isProxy(r)){let l=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(let c of l){let u=e(c,n,i),f=t(r[c],n,i);o[u]=f}return o}let a=Reflect.ownKeys(r);for(let l of a)if(Reflect.getOwnPropertyDescriptor(r,l)?.enumerable){let u=e(l,n,i),f=t(r[l],n,i);o[u]=f}return o}};zt.interfaceConverter=function(e){return(t,r,n,i)=>{if(i?.strict!==!1&&!(t instanceof e))throw zt.errors.exception({header:r,message:`Expected ${n} ("${zt.util.Stringify(t)}") to be an instance of ${e.name}.`});return t}};zt.dictionaryConverter=function(e){return(t,r,n)=>{let i=zt.util.Type(t),o={};if(i==="Null"||i==="Undefined")return o;if(i!=="Object")throw zt.errors.exception({header:r,message:`Expected ${t} to be one of: Null, Undefined, Object.`});for(let a of e){let{key:l,defaultValue:c,required:u,converter:f}=a;if(u===!0&&!Object.hasOwn(t,l))throw zt.errors.exception({header:r,message:`Missing required key "${l}".`});let m=t[l],h=Object.hasOwn(a,"defaultValue");if(h&&m!==null&&(m??=c()),u||h||m!==void 0){if(m=f(m,r,`${n}.${l}`),a.allowedValues&&!a.allowedValues.includes(m))throw zt.errors.exception({header:r,message:`${m} is not an accepted type. Expected one of ${a.allowedValues.join(", ")}.`});o[l]=m}}return o}};zt.nullableConverter=function(e){return(t,r,n)=>t===null?t:e(t,r,n)};zt.converters.DOMString=function(e,t,r,n){if(e===null&&n?.legacyNullToEmptyString)return"";if(typeof e=="symbol")throw zt.errors.exception({header:t,message:`${r} is a symbol, which cannot be converted to a DOMString.`});return String(e)};zt.converters.ByteString=function(e,t,r){let n=zt.converters.DOMString(e,t,r);for(let i=0;i<n.length;i++)if(n.charCodeAt(i)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${i} has a value of ${n.charCodeAt(i)} which is greater than 255.`);return n};zt.converters.USVString=P1t;zt.converters.boolean=function(e){return!!e};zt.converters.any=function(e){return e};zt.converters["long long"]=function(e,t,r){return zt.util.ConvertToInt(e,64,"signed",void 0,t,r)};zt.converters["unsigned long long"]=function(e,t,r){return zt.util.ConvertToInt(e,64,"unsigned",void 0,t,r)};zt.converters["unsigned long"]=function(e,t,r){return zt.util.ConvertToInt(e,32,"unsigned",void 0,t,r)};zt.converters["unsigned short"]=function(e,t,r,n){return zt.util.ConvertToInt(e,16,"unsigned",n,t,r)};zt.converters.ArrayBuffer=function(e,t,r,n){if(zt.util.Type(e)!=="Object"||!pg.isAnyArrayBuffer(e))throw zt.errors.conversionFailed({prefix:t,argument:`${r} ("${zt.util.Stringify(e)}")`,types:["ArrayBuffer"]});if(n?.allowShared===!1&&pg.isSharedArrayBuffer(e))throw zt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.resizable||e.growable)throw zt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};zt.converters.TypedArray=function(e,t,r,n,i){if(zt.util.Type(e)!=="Object"||!pg.isTypedArray(e)||e.constructor.name!==t.name)throw zt.errors.conversionFailed({prefix:r,argument:`${n} ("${zt.util.Stringify(e)}")`,types:[t.name]});if(i?.allowShared===!1&&pg.isSharedArrayBuffer(e.buffer))throw zt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw zt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};zt.converters.DataView=function(e,t,r,n){if(zt.util.Type(e)!=="Object"||!pg.isDataView(e))throw zt.errors.exception({header:t,message:`${r} is not a DataView.`});if(n?.allowShared===!1&&pg.isSharedArrayBuffer(e.buffer))throw zt.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(e.buffer.resizable||e.buffer.growable)throw zt.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return e};zt.converters.BufferSource=function(e,t,r,n){if(pg.isAnyArrayBuffer(e))return zt.converters.ArrayBuffer(e,t,r,{...n,allowShared:!1});if(pg.isTypedArray(e))return zt.converters.TypedArray(e,e.constructor,t,r,{...n,allowShared:!1});if(pg.isDataView(e))return zt.converters.DataView(e,t,r,{...n,allowShared:!1});throw zt.errors.conversionFailed({prefix:t,argument:`${r} ("${zt.util.Stringify(e)}")`,types:["BufferSource"]})};zt.converters["sequence<ByteString>"]=zt.sequenceConverter(zt.converters.ByteString);zt.converters["sequence<sequence<ByteString>>"]=zt.sequenceConverter(zt.converters["sequence<ByteString>"]);zt.converters["record<ByteString, ByteString>"]=zt.recordConverter(zt.converters.ByteString,zt.converters.ByteString);hwe.exports={webidl:zt}});var If=H((mWr,Swe)=>{"use strict";d();var{Transform:N1t}=require("node:stream"),pwe=require("node:zlib"),{redirectStatusSet:L1t,referrerPolicySet:F1t,badPortsSet:M1t}=VS(),{getGlobalOrigin:gwe}=Qie(),{collectASequenceOfCodePoints:$v,collectAnHTTPQuotedString:Q1t,removeChars:O1t,parseMIMEType:U1t}=pu(),{performance:q1t}=require("node:perf_hooks"),{isBlobLike:W1t,ReadableStreamFrom:G1t,isValidHTTPToken:Awe,normalizedMethodRecordsBase:H1t}=yi(),zv=require("node:assert"),{isUint8Array:j1t}=require("node:util/types"),{webidl:zS}=dc(),ywe=[],QU;try{QU=require("node:crypto");let e=["sha256","sha384","sha512"];ywe=QU.getHashes().filter(t=>e.includes(t))}catch{}function Cwe(e){let t=e.urlList,r=t.length;return r===0?null:t[r-1].toString()}s(Cwe,"responseURL");function V1t(e,t){if(!L1t.has(e.status))return null;let r=e.headersList.get("location",!0);return r!==null&&vwe(r)&&(xwe(r)||(r=$1t(r)),r=new URL(r,Cwe(e))),r&&!r.hash&&(r.hash=t),r}s(V1t,"responseLocationURL");function xwe(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>126||r<32)return!1}return!0}s(xwe,"isValidEncodedURL");function $1t(e){return Buffer.from(e,"binary").toString("utf8")}s($1t,"normalizeBinaryStringToUtf8");function KS(e){return e.urlList[e.urlList.length-1]}s(KS,"requestCurrentURL");function z1t(e){let t=KS(e);return wwe(t)&&M1t.has(t.port)?"blocked":"allowed"}s(z1t,"requestBadPort");function Y1t(e){return e instanceof Error||e?.constructor?.name==="Error"||e?.constructor?.name==="DOMException"}s(Y1t,"isErrorLike");function K1t(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(!(r===9||r>=32&&r<=126||r>=128&&r<=255))return!1}return!0}s(K1t,"isValidReasonPhrase");var J1t=Awe;function vwe(e){return(e[0]==="	"||e[0]===" "||e[e.length-1]==="	"||e[e.length-1]===" "||e.includes(`
`)||e.includes("\r")||e.includes("\0"))===!1}s(vwe,"isValidHeaderValue");function X1t(e,t){let{headersList:r}=t,n=(r.get("referrer-policy",!0)??"").split(","),i="";if(n.length>0)for(let o=n.length;o!==0;o--){let a=n[o-1].trim();if(F1t.has(a)){i=a;break}}i!==""&&(e.referrerPolicy=i)}s(X1t,"setRequestReferrerPolicyOnRedirect");function Z1t(){return"allowed"}s(Z1t,"crossOriginResourcePolicyCheck");function eAt(){return"success"}s(eAt,"corsCheck");function tAt(){return"success"}s(tAt,"TAOCheck");function rAt(e){let t=null;t=e.mode,e.headersList.set("sec-fetch-mode",t,!0)}s(rAt,"appendFetchMetadata");function nAt(e){let t=e.origin;if(!(t==="client"||t===void 0)){if(e.responseTainting==="cors"||e.mode==="websocket")e.headersList.append("origin",t,!0);else if(e.method!=="GET"&&e.method!=="HEAD"){switch(e.referrerPolicy){case"no-referrer":t=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":e.origin&&Wie(e.origin)&&!Wie(KS(e))&&(t=null);break;case"same-origin":OU(e,KS(e))||(t=null);break;default:}e.headersList.append("origin",t,!0)}}}s(nAt,"appendRequestOriginHeader");function A6(e,t){return e}s(A6,"coarsenTime");function iAt(e,t,r){return!e?.startTime||e.startTime<t?{domainLookupStartTime:t,domainLookupEndTime:t,connectionStartTime:t,connectionEndTime:t,secureConnectionStartTime:t,ALPNNegotiatedProtocol:e?.ALPNNegotiatedProtocol}:{domainLookupStartTime:A6(e.domainLookupStartTime,r),domainLookupEndTime:A6(e.domainLookupEndTime,r),connectionStartTime:A6(e.connectionStartTime,r),connectionEndTime:A6(e.connectionEndTime,r),secureConnectionStartTime:A6(e.secureConnectionStartTime,r),ALPNNegotiatedProtocol:e.ALPNNegotiatedProtocol}}s(iAt,"clampAndCoarsenConnectionTimingInfo");function oAt(e){return A6(q1t.now(),e)}s(oAt,"coarsenedSharedCurrentTime");function sAt(e){return{startTime:e.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:e.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}s(sAt,"createOpaqueTimingInfo");function bwe(){return{referrerPolicy:"strict-origin-when-cross-origin"}}s(bwe,"makePolicyContainer");function aAt(e){return{referrerPolicy:e.referrerPolicy}}s(aAt,"clonePolicyContainer");function lAt(e){let t=e.referrerPolicy;zv(t);let r=null;if(e.referrer==="client"){let l=gwe();if(!l||l.origin==="null")return"no-referrer";r=new URL(l)}else e.referrer instanceof URL&&(r=e.referrer);let n=qie(r),i=qie(r,!0);n.toString().length>4096&&(n=i);let o=OU(e,n),a=YS(n)&&!YS(e.url);switch(t){case"origin":return i??qie(r,!0);case"unsafe-url":return n;case"same-origin":return o?i:"no-referrer";case"origin-when-cross-origin":return o?n:i;case"strict-origin-when-cross-origin":{let l=KS(e);return OU(n,l)?n:YS(n)&&!YS(l)?"no-referrer":i}case"strict-origin":case"no-referrer-when-downgrade":default:return a?"no-referrer":i}}s(lAt,"determineRequestsReferrer");function qie(e,t){return zv(e instanceof URL),e=new URL(e),e.protocol==="file:"||e.protocol==="about:"||e.protocol==="blank:"?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}s(qie,"stripURLForReferrer");function YS(e){if(!(e instanceof URL))return!1;if(e.href==="about:blank"||e.href==="about:srcdoc"||e.protocol==="data:"||e.protocol==="file:")return!0;return t(e.origin);function t(r){if(r==null||r==="null")return!1;let n=new URL(r);return!!(n.protocol==="https:"||n.protocol==="wss:"||/^127(?:\.[0-9]+){0,2}\.[0-9]+$|^\[(?:0*:)*?:?0*1\]$/.test(n.hostname)||n.hostname==="localhost"||n.hostname.includes("localhost.")||n.hostname.endsWith(".localhost"))}}s(YS,"isURLPotentiallyTrustworthy");function cAt(e,t){if(QU===void 0)return!0;let r=Ewe(t);if(r==="no metadata"||r.length===0)return!0;let n=fAt(r),i=dAt(r,n);for(let o of i){let a=o.algo,l=o.hash,c=QU.createHash(a).update(e).digest("base64");if(c[c.length-1]==="="&&(c[c.length-2]==="="?c=c.slice(0,-2):c=c.slice(0,-1)),mAt(c,l))return!0}return!1}s(cAt,"bytesMatch");var uAt=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function Ewe(e){let t=[],r=!0;for(let n of e.split(" ")){r=!1;let i=uAt.exec(n);if(i===null||i.groups===void 0||i.groups.algo===void 0)continue;let o=i.groups.algo.toLowerCase();ywe.includes(o)&&t.push(i.groups)}return r===!0?"no metadata":t}s(Ewe,"parseMetadata");function fAt(e){let t=e[0].algo;if(t[3]==="5")return t;for(let r=1;r<e.length;++r){let n=e[r];if(n.algo[3]==="5"){t="sha512";break}else{if(t[3]==="3")continue;n.algo[3]==="3"&&(t="sha384")}}return t}s(fAt,"getStrongestMetadata");function dAt(e,t){if(e.length===1)return e;let r=0;for(let n=0;n<e.length;++n)e[n].algo===t&&(e[r++]=e[n]);return e.length=r,e}s(dAt,"filterMetadataListByAlgorithm");function mAt(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r]){if(e[r]==="+"&&t[r]==="-"||e[r]==="/"&&t[r]==="_")continue;return!1}return!0}s(mAt,"compareBase64Mixed");function hAt(e){}s(hAt,"tryUpgradeRequestToAPotentiallyTrustworthyURL");function OU(e,t){return e.origin===t.origin&&e.origin==="null"||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}s(OU,"sameOrigin");function pAt(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}s(pAt,"createDeferredPromise");function gAt(e){return e.controller.state==="aborted"}s(gAt,"isAborted");function AAt(e){return e.controller.state==="aborted"||e.controller.state==="terminated"}s(AAt,"isCancelled");function yAt(e){return H1t[e.toLowerCase()]??e}s(yAt,"normalizeMethod");function CAt(e){let t=JSON.stringify(e);if(t===void 0)throw new TypeError("Value is not JSON serializable");return zv(typeof t=="string"),t}s(CAt,"serializeJavascriptValueToJSONString");var xAt=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function Iwe(e,t,r=0,n=1){class i{static{s(this,"FastIterableIterator")}#e;#t;#i;constructor(a,l){this.#e=a,this.#t=l,this.#i=0}next(){if(typeof this!="object"||this===null||!(#e in this))throw new TypeError(`'next' called on an object that does not implement interface ${e} Iterator.`);let a=this.#i,l=this.#e[t],c=l.length;if(a>=c)return{value:void 0,done:!0};let{[r]:u,[n]:f}=l[a];this.#i=a+1;let m;switch(this.#t){case"key":m=u;break;case"value":m=f;break;case"key+value":m=[u,f];break}return{value:m,done:!1}}}return delete i.prototype.constructor,Object.setPrototypeOf(i.prototype,xAt),Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${e} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(o,a){return new i(o,a)}}s(Iwe,"createIterator");function vAt(e,t,r,n=0,i=1){let o=Iwe(e,r,n,i),a={keys:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return zS.brandCheck(this,t),o(this,"key")},"keys")},values:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return zS.brandCheck(this,t),o(this,"value")},"values")},entries:{writable:!0,enumerable:!0,configurable:!0,value:s(function(){return zS.brandCheck(this,t),o(this,"key+value")},"entries")},forEach:{writable:!0,enumerable:!0,configurable:!0,value:s(function(c,u=globalThis){if(zS.brandCheck(this,t),zS.argumentLengthCheck(arguments,1,`${e}.forEach`),typeof c!="function")throw new TypeError(`Failed to execute 'forEach' on '${e}': parameter 1 is not of type 'Function'.`);for(let{0:f,1:m}of o(this,"key+value"))c.call(u,m,f,this)},"forEach")}};return Object.defineProperties(t.prototype,{...a,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:a.entries.value}})}s(vAt,"iteratorMixin");async function bAt(e,t,r){let n=t,i=r,o;try{o=e.stream.getReader()}catch(a){i(a);return}try{n(await Twe(o))}catch(a){i(a)}}s(bAt,"fullyReadBody");function EAt(e){return e instanceof ReadableStream||e[Symbol.toStringTag]==="ReadableStream"&&typeof e.tee=="function"}s(EAt,"isReadableStreamLike");function IAt(e){try{e.close(),e.byobRequest?.respond(0)}catch(t){if(!t.message.includes("Controller is already closed")&&!t.message.includes("ReadableStream is already closed"))throw t}}s(IAt,"readableStreamClose");var TAt=/[^\x00-\xFF]/;function MU(e){return zv(!TAt.test(e)),e}s(MU,"isomorphicEncode");async function Twe(e){let t=[],r=0;for(;;){let{done:n,value:i}=await e.read();if(n)return Buffer.concat(t,r);if(!j1t(i))throw new TypeError("Received non-Uint8Array chunk");t.push(i),r+=i.length}}s(Twe,"readAllBytes");function wAt(e){zv("protocol"in e);let t=e.protocol;return t==="about:"||t==="blob:"||t==="data:"}s(wAt,"urlIsLocal");function Wie(e){return typeof e=="string"&&e[5]===":"&&e[0]==="h"&&e[1]==="t"&&e[2]==="t"&&e[3]==="p"&&e[4]==="s"||e.protocol==="https:"}s(Wie,"urlHasHttpsScheme");function wwe(e){zv("protocol"in e);let t=e.protocol;return t==="http:"||t==="https:"}s(wwe,"urlIsHttpHttpsScheme");function _At(e,t){let r=e;if(!r.startsWith("bytes"))return"failure";let n={position:5};if(t&&$v(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==61)return"failure";n.position++,t&&$v(c=>c==="	"||c===" ",r,n);let i=$v(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),o=i.length?Number(i):null;if(t&&$v(c=>c==="	"||c===" ",r,n),r.charCodeAt(n.position)!==45)return"failure";n.position++,t&&$v(c=>c==="	"||c===" ",r,n);let a=$v(c=>{let u=c.charCodeAt(0);return u>=48&&u<=57},r,n),l=a.length?Number(a):null;return n.position<r.length||l===null&&o===null||o>l?"failure":{rangeStartValue:o,rangeEndValue:l}}s(_At,"simpleRangeHeaderValue");function SAt(e,t,r){let n="bytes ";return n+=MU(`${e}`),n+="-",n+=MU(`${t}`),n+="/",n+=MU(`${r}`),n}s(SAt,"buildContentRange");var Gie=class extends N1t{static{s(this,"InflateStream")}#e;constructor(t){super(),this.#e=t}_transform(t,r,n){if(!this._inflateStream){if(t.length===0){n();return}this._inflateStream=(t[0]&15)===8?pwe.createInflate(this.#e):pwe.createInflateRaw(this.#e),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",i=>this.destroy(i))}this._inflateStream.write(t,r,n)}_final(t){this._inflateStream&&(this._inflateStream.end(),this._inflateStream=null),t()}};function RAt(e){return new Gie(e)}s(RAt,"createInflate");function kAt(e){let t=null,r=null,n=null,i=_we("content-type",e);if(i===null)return"failure";for(let o of i){let a=U1t(o);a==="failure"||a.essence==="*/*"||(n=a,n.essence!==r?(t=null,n.parameters.has("charset")&&(t=n.parameters.get("charset")),r=n.essence):!n.parameters.has("charset")&&t!==null&&n.parameters.set("charset",t))}return n??"failure"}s(kAt,"extractMimeType");function BAt(e){let t=e,r={position:0},n=[],i="";for(;r.position<t.length;){if(i+=$v(o=>o!=='"'&&o!==",",t,r),r.position<t.length)if(t.charCodeAt(r.position)===34){if(i+=Q1t(t,r),r.position<t.length)continue}else zv(t.charCodeAt(r.position)===44),r.position++;i=O1t(i,!0,!0,o=>o===9||o===32),n.push(i),i=""}return n}s(BAt,"gettingDecodingSplitting");function _we(e,t){let r=t.get(e,!0);return r===null?null:BAt(r)}s(_we,"getDecodeSplit");var DAt=new TextDecoder;function PAt(e){return e.length===0?"":(e[0]===239&&e[1]===187&&e[2]===191&&(e=e.subarray(3)),DAt.decode(e))}s(PAt,"utf8DecodeBytes");var Hie=class{static{s(this,"EnvironmentSettingsObjectBase")}get baseUrl(){return gwe()}get origin(){return this.baseUrl?.origin}policyContainer=bwe()},jie=class{static{s(this,"EnvironmentSettingsObject")}settingsObject=new Hie},NAt=new jie;Swe.exports={isAborted:gAt,isCancelled:AAt,isValidEncodedURL:xwe,createDeferredPromise:pAt,ReadableStreamFrom:G1t,tryUpgradeRequestToAPotentiallyTrustworthyURL:hAt,clampAndCoarsenConnectionTimingInfo:iAt,coarsenedSharedCurrentTime:oAt,determineRequestsReferrer:lAt,makePolicyContainer:bwe,clonePolicyContainer:aAt,appendFetchMetadata:rAt,appendRequestOriginHeader:nAt,TAOCheck:tAt,corsCheck:eAt,crossOriginResourcePolicyCheck:Z1t,createOpaqueTimingInfo:sAt,setRequestReferrerPolicyOnRedirect:X1t,isValidHTTPToken:Awe,requestBadPort:z1t,requestCurrentURL:KS,responseURL:Cwe,responseLocationURL:V1t,isBlobLike:W1t,isURLPotentiallyTrustworthy:YS,isValidReasonPhrase:K1t,sameOrigin:OU,normalizeMethod:yAt,serializeJavascriptValueToJSONString:CAt,iteratorMixin:vAt,createIterator:Iwe,isValidHeaderName:J1t,isValidHeaderValue:vwe,isErrorLike:Y1t,fullyReadBody:bAt,bytesMatch:cAt,isReadableStreamLike:EAt,readableStreamClose:IAt,isomorphicEncode:MU,urlIsLocal:wAt,urlHasHttpsScheme:Wie,urlIsHttpHttpsScheme:wwe,readAllBytes:Twe,simpleRangeHeaderValue:_At,buildContentRange:SAt,parseMetadata:Ewe,createInflate:RAt,extractMimeType:kAt,getDecodeSplit:_we,utf8DecodeBytes:PAt,environmentSettingsObject:NAt}});var Z5=H((gWr,Rwe)=>{"use strict";d();Rwe.exports={kUrl:Symbol("url"),kHeaders:Symbol("headers"),kSignal:Symbol("signal"),kState:Symbol("state"),kDispatcher:Symbol("dispatcher")}});var $ie=H((yWr,kwe)=>{"use strict";d();var{Blob:LAt,File:FAt}=require("node:buffer"),{kState:PA}=Z5(),{webidl:gg}=dc(),Vie=class e{static{s(this,"FileLike")}constructor(t,r,n={}){let i=r,o=n.type,a=n.lastModified??Date.now();this[PA]={blobLike:t,name:i,type:o,lastModified:a}}stream(...t){return gg.brandCheck(this,e),this[PA].blobLike.stream(...t)}arrayBuffer(...t){return gg.brandCheck(this,e),this[PA].blobLike.arrayBuffer(...t)}slice(...t){return gg.brandCheck(this,e),this[PA].blobLike.slice(...t)}text(...t){return gg.brandCheck(this,e),this[PA].blobLike.text(...t)}get size(){return gg.brandCheck(this,e),this[PA].blobLike.size}get type(){return gg.brandCheck(this,e),this[PA].blobLike.type}get name(){return gg.brandCheck(this,e),this[PA].name}get lastModified(){return gg.brandCheck(this,e),this[PA].lastModified}get[Symbol.toStringTag](){return"File"}};gg.converters.Blob=gg.interfaceConverter(LAt);function MAt(e){return e instanceof FAt||e&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&e[Symbol.toStringTag]==="File"}s(MAt,"isFileLike");kwe.exports={FileLike:Vie,isFileLike:MAt}});var XS=H((vWr,Lwe)=>{"use strict";d();var{isBlobLike:UU,iteratorMixin:QAt}=If(),{kState:T0}=Z5(),{kEnumerableProperty:y6}=yi(),{FileLike:Bwe,isFileLike:OAt}=$ie(),{webidl:es}=dc(),{File:Nwe}=require("node:buffer"),Dwe=require("node:util"),Pwe=globalThis.File??Nwe,JS=class e{static{s(this,"FormData")}constructor(t){if(es.util.markAsUncloneable(this),t!==void 0)throw es.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]});this[T0]=[]}append(t,r,n=void 0){es.brandCheck(this,e);let i="FormData.append";if(es.argumentLengthCheck(arguments,2,i),arguments.length===3&&!UU(r))throw new TypeError("Failed to execute 'append' on 'FormData': parameter 2 is not of type 'Blob'");t=es.converters.USVString(t,i,"name"),r=UU(r)?es.converters.Blob(r,i,"value",{strict:!1}):es.converters.USVString(r,i,"value"),n=arguments.length===3?es.converters.USVString(n,i,"filename"):void 0;let o=zie(t,r,n);this[T0].push(o)}delete(t){es.brandCheck(this,e);let r="FormData.delete";es.argumentLengthCheck(arguments,1,r),t=es.converters.USVString(t,r,"name"),this[T0]=this[T0].filter(n=>n.name!==t)}get(t){es.brandCheck(this,e);let r="FormData.get";es.argumentLengthCheck(arguments,1,r),t=es.converters.USVString(t,r,"name");let n=this[T0].findIndex(i=>i.name===t);return n===-1?null:this[T0][n].value}getAll(t){es.brandCheck(this,e);let r="FormData.getAll";return es.argumentLengthCheck(arguments,1,r),t=es.converters.USVString(t,r,"name"),this[T0].filter(n=>n.name===t).map(n=>n.value)}has(t){es.brandCheck(this,e);let r="FormData.has";return es.argumentLengthCheck(arguments,1,r),t=es.converters.USVString(t,r,"name"),this[T0].findIndex(n=>n.name===t)!==-1}set(t,r,n=void 0){es.brandCheck(this,e);let i="FormData.set";if(es.argumentLengthCheck(arguments,2,i),arguments.length===3&&!UU(r))throw new TypeError("Failed to execute 'set' on 'FormData': parameter 2 is not of type 'Blob'");t=es.converters.USVString(t,i,"name"),r=UU(r)?es.converters.Blob(r,i,"name",{strict:!1}):es.converters.USVString(r,i,"name"),n=arguments.length===3?es.converters.USVString(n,i,"name"):void 0;let o=zie(t,r,n),a=this[T0].findIndex(l=>l.name===t);a!==-1?this[T0]=[...this[T0].slice(0,a),o,...this[T0].slice(a+1).filter(l=>l.name!==t)]:this[T0].push(o)}[Dwe.inspect.custom](t,r){let n=this[T0].reduce((o,a)=>(o[a.name]?Array.isArray(o[a.name])?o[a.name].push(a.value):o[a.name]=[o[a.name],a.value]:o[a.name]=a.value,o),{__proto__:null});r.depth??=t,r.colors??=!0;let i=Dwe.formatWithOptions(r,n);return`FormData ${i.slice(i.indexOf("]")+2)}`}};QAt("FormData",JS,T0,"name","value");Object.defineProperties(JS.prototype,{append:y6,delete:y6,get:y6,getAll:y6,has:y6,set:y6,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function zie(e,t,r){if(typeof t!="string"){if(OAt(t)||(t=t instanceof Blob?new Pwe([t],"blob",{type:t.type}):new Bwe(t,"blob",{type:t.type})),r!==void 0){let n={type:t.type,lastModified:t.lastModified};t=t instanceof Nwe?new Pwe([t],r,n):new Bwe(t,r,n)}}return{name:e,value:t}}s(zie,"makeEntry");Lwe.exports={FormData:JS,makeEntry:zie}});var qwe=H((IWr,Uwe)=>{"use strict";d();var{isUSVString:Fwe,bufferToLowerCasedHeaderName:UAt}=yi(),{utf8DecodeBytes:qAt}=If(),{HTTP_TOKEN_CODEPOINTS:WAt,isomorphicDecode:Mwe}=pu(),{isFileLike:GAt}=$ie(),{makeEntry:HAt}=XS(),qU=require("node:assert"),{File:jAt}=require("node:buffer"),VAt=globalThis.File??jAt,$At=Buffer.from('form-data; name="'),Qwe=Buffer.from("; filename"),zAt=Buffer.from("--"),YAt=Buffer.from(`--\r
`);function KAt(e){for(let t=0;t<e.length;++t)if((e.charCodeAt(t)&-128)!==0)return!1;return!0}s(KAt,"isAsciiString");function JAt(e){let t=e.length;if(t<27||t>70)return!1;for(let r=0;r<t;++r){let n=e.charCodeAt(r);if(!(n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122||n===39||n===45||n===95))return!1}return!0}s(JAt,"validateBoundary");function XAt(e,t){qU(t!=="failure"&&t.essence==="multipart/form-data");let r=t.parameters.get("boundary");if(r===void 0)return"failure";let n=Buffer.from(`--${r}`,"utf8"),i=[],o={position:0};for(;e[o.position]===13&&e[o.position+1]===10;)o.position+=2;let a=e.length;for(;e[a-1]===10&&e[a-2]===13;)a-=2;for(a!==e.length&&(e=e.subarray(0,a));;){if(e.subarray(o.position,o.position+n.length).equals(n))o.position+=n.length;else return"failure";if(o.position===e.length-2&&WU(e,zAt,o)||o.position===e.length-4&&WU(e,YAt,o))return i;if(e[o.position]!==13||e[o.position+1]!==10)return"failure";o.position+=2;let l=ZAt(e,o);if(l==="failure")return"failure";let{name:c,filename:u,contentType:f,encoding:m}=l;o.position+=2;let h;{let g=e.indexOf(n.subarray(2),o.position);if(g===-1)return"failure";h=e.subarray(o.position,g-4),o.position+=h.length,m==="base64"&&(h=Buffer.from(h.toString(),"base64"))}if(e[o.position]!==13||e[o.position+1]!==10)return"failure";o.position+=2;let p;u!==null?(f??="text/plain",KAt(f)||(f=""),p=new VAt([h],u,{type:f})):p=qAt(Buffer.from(h)),qU(Fwe(c)),qU(typeof p=="string"&&Fwe(p)||GAt(p)),i.push(HAt(c,p,u))}}s(XAt,"multipartFormDataParser");function ZAt(e,t){let r=null,n=null,i=null,o=null;for(;;){if(e[t.position]===13&&e[t.position+1]===10)return r===null?"failure":{name:r,filename:n,contentType:i,encoding:o};let a=C6(l=>l!==10&&l!==13&&l!==58,e,t);if(a=Yie(a,!0,!0,l=>l===9||l===32),!WAt.test(a.toString())||e[t.position]!==58)return"failure";switch(t.position++,C6(l=>l===32||l===9,e,t),UAt(a)){case"content-disposition":{if(r=n=null,!WU(e,$At,t)||(t.position+=17,r=Owe(e,t),r===null))return"failure";if(WU(e,Qwe,t)){let l=t.position+Qwe.length;if(e[l]===42&&(t.position+=1,l+=1),e[l]!==61||e[l+1]!==34||(t.position+=12,n=Owe(e,t),n===null))return"failure"}break}case"content-type":{let l=C6(c=>c!==10&&c!==13,e,t);l=Yie(l,!1,!0,c=>c===9||c===32),i=Mwe(l);break}case"content-transfer-encoding":{let l=C6(c=>c!==10&&c!==13,e,t);l=Yie(l,!1,!0,c=>c===9||c===32),o=Mwe(l);break}default:C6(l=>l!==10&&l!==13,e,t)}if(e[t.position]!==13&&e[t.position+1]!==10)return"failure";t.position+=2}}s(ZAt,"parseMultipartFormDataHeaders");function Owe(e,t){qU(e[t.position-1]===34);let r=C6(n=>n!==10&&n!==13&&n!==34,e,t);return e[t.position]!==34?null:(t.position++,r=new TextDecoder().decode(r).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),r)}s(Owe,"parseMultipartFormDataName");function C6(e,t,r){let n=r.position;for(;n<t.length&&e(t[n]);)++n;return t.subarray(r.position,r.position=n)}s(C6,"collectASequenceOfBytes");function Yie(e,t,r,n){let i=0,o=e.length-1;if(t)for(;i<e.length&&n(e[i]);)i++;if(r)for(;o>0&&n(e[o]);)o--;return i===0&&o===e.length-1?e:e.subarray(i,o+1)}s(Yie,"removeChars");function WU(e,t,r){if(e.length<t.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[r.position+n])return!1;return!0}s(WU,"bufferStartsWith");Uwe.exports={multipartFormDataParser:XAt,validateBoundary:JAt}});var b6=H((_Wr,Ywe)=>{"use strict";d();var ZS=yi(),{ReadableStreamFrom:e2t,isBlobLike:Wwe,isReadableStreamLike:t2t,readableStreamClose:r2t,createDeferredPromise:n2t,fullyReadBody:i2t,extractMimeType:o2t,utf8DecodeBytes:jwe}=If(),{FormData:Gwe}=XS(),{kState:v6}=Z5(),{webidl:s2t}=dc(),{Blob:a2t}=require("node:buffer"),Kie=require("node:assert"),{isErrored:Vwe,isDisturbed:l2t}=require("node:stream"),{isArrayBuffer:c2t}=require("node:util/types"),{serializeAMimeType:u2t}=pu(),{multipartFormDataParser:f2t}=qwe(),Jie;try{let e=require("node:crypto");Jie=s(t=>e.randomInt(0,t),"random")}catch{Jie=s(e=>Math.floor(Math.random(e)),"random")}var GU=new TextEncoder;function d2t(){}s(d2t,"noop");var Xie=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,Zie;Xie&&(Zie=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&!l2t(t)&&!Vwe(t)&&t.cancel("Response object has been garbage collected").catch(d2t)}));function $we(e,t=!1){let r=null;e instanceof ReadableStream?r=e:Wwe(e)?r=e.stream():r=new ReadableStream({async pull(c){let u=typeof i=="string"?GU.encode(i):i;u.byteLength&&c.enqueue(u),queueMicrotask(()=>r2t(c))},start(){},type:"bytes"}),Kie(t2t(r));let n=null,i=null,o=null,a=null;if(typeof e=="string")i=e,a="text/plain;charset=UTF-8";else if(e instanceof URLSearchParams)i=e.toString(),a="application/x-www-form-urlencoded;charset=UTF-8";else if(c2t(e))i=new Uint8Array(e.slice());else if(ArrayBuffer.isView(e))i=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));else if(ZS.isFormDataLike(e)){let c=`----formdata-undici-0${`${Jie(1e11)}`.padStart(11,"0")}`,u=`--${c}\r
Content-Disposition: form-data`;let f=s(x=>x.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"escape"),m=s(x=>x.replace(/\r?\n|\r/g,`\r
`),"normalizeLinefeeds"),h=[],p=new Uint8Array([13,10]);o=0;let g=!1;for(let[x,b]of e)if(typeof b=="string"){let E=GU.encode(u+`; name="${f(m(x))}"\r
\r
${m(b)}\r
`);h.push(E),o+=E.byteLength}else{let E=GU.encode(`${u}; name="${f(m(x))}"`+(b.name?`; filename="${f(b.name)}"`:"")+`\r
Content-Type: ${b.type||"application/octet-stream"}\r
\r
`);h.push(E,b,p),typeof b.size=="number"?o+=E.byteLength+b.size+p.byteLength:g=!0}let y=GU.encode(`--${c}--\r
`);h.push(y),o+=y.byteLength,g&&(o=null),i=e,n=s(async function*(){for(let x of h)x.stream?yield*x.stream():yield x},"action"),a=`multipart/form-data; boundary=${c}`}else if(Wwe(e))i=e,o=e.size,e.type&&(a=e.type);else if(typeof e[Symbol.asyncIterator]=="function"){if(t)throw new TypeError("keepalive");if(ZS.isDisturbed(e)||e.locked)throw new TypeError("Response body object should not be disturbed or locked");r=e instanceof ReadableStream?e:e2t(e)}if((typeof i=="string"||ZS.isBuffer(i))&&(o=Buffer.byteLength(i)),n!=null){let c;r=new ReadableStream({async start(){c=n(e)[Symbol.asyncIterator]()},async pull(u){let{value:f,done:m}=await c.next();if(m)queueMicrotask(()=>{u.close(),u.byobRequest?.respond(0)});else if(!Vwe(r)){let h=new Uint8Array(f);h.byteLength&&u.enqueue(h)}return u.desiredSize>0},async cancel(u){await c.return()},type:"bytes"})}return[{stream:r,source:i,length:o},a]}s($we,"extractBody");function m2t(e,t=!1){return e instanceof ReadableStream&&(Kie(!ZS.isDisturbed(e),"The body has already been consumed."),Kie(!e.locked,"The stream is locked.")),$we(e,t)}s(m2t,"safelyExtractBody");function h2t(e,t){let[r,n]=t.stream.tee();return Xie&&Zie.register(e,new WeakRef(r)),t.stream=r,{stream:n,length:t.length,source:t.source}}s(h2t,"cloneBody");function p2t(e){if(e.aborted)throw new DOMException("The operation was aborted.","AbortError")}s(p2t,"throwIfAborted");function g2t(e){return{blob(){return x6(this,r=>{let n=Hwe(this);return n===null?n="":n&&(n=u2t(n)),new a2t([r],{type:n})},e)},arrayBuffer(){return x6(this,r=>new Uint8Array(r).buffer,e)},text(){return x6(this,jwe,e)},json(){return x6(this,y2t,e)},formData(){return x6(this,r=>{let n=Hwe(this);if(n!==null)switch(n.essence){case"multipart/form-data":{let i=f2t(r,n);if(i==="failure")throw new TypeError("Failed to parse body as FormData.");let o=new Gwe;return o[v6]=i,o}case"application/x-www-form-urlencoded":{let i=new URLSearchParams(r.toString()),o=new Gwe;for(let[a,l]of i)o.append(a,l);return o}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},e)},bytes(){return x6(this,r=>new Uint8Array(r),e)}}}s(g2t,"bodyMixinMethods");function A2t(e){Object.assign(e.prototype,g2t(e))}s(A2t,"mixinBody");async function x6(e,t,r){if(s2t.brandCheck(e,r),zwe(e))throw new TypeError("Body is unusable: Body has already been read");p2t(e[v6]);let n=n2t(),i=s(a=>n.reject(a),"errorSteps"),o=s(a=>{try{n.resolve(t(a))}catch(l){i(l)}},"successSteps");return e[v6].body==null?(o(Buffer.allocUnsafe(0)),n.promise):(await i2t(e[v6].body,o,i),n.promise)}s(x6,"consumeBody");function zwe(e){let t=e[v6].body;return t!=null&&(t.stream.locked||ZS.isDisturbed(t.stream))}s(zwe,"bodyUnusable");function y2t(e){return JSON.parse(jwe(e))}s(y2t,"parseJSONFromBytes");function Hwe(e){let t=e[v6].headersList,r=o2t(t);return r==="failure"?null:r}s(Hwe,"bodyMimeType");Ywe.exports={extractBody:$we,safelyExtractBody:m2t,cloneBody:h2t,mixinBody:A2t,streamRegistry:Zie,hasFinalizationRegistry:Xie,bodyUnusable:zwe}});var s7e=H((kWr,o7e)=>{"use strict";d();var bn=require("node:assert"),zn=yi(),{channels:Kwe}=c6(),eoe=Pie(),{RequestContentLengthMismatchError:Yv,ResponseContentLengthMismatchError:C2t,RequestAbortedError:r7e,HeadersTimeoutError:x2t,HeadersOverflowError:v2t,SocketError:YU,InformationalError:E6,BodyTimeoutError:b2t,HTTPParserError:E2t,ResponseExceededMaxSizeError:I2t}=Ao(),{kUrl:n7e,kReset:gu,kClient:ioe,kParser:aa,kBlocking:rR,kRunning:Gc,kPending:T2t,kSize:Jwe,kWriting:tC,kQueue:Th,kNoRef:eR,kKeepAliveDefaultTimeout:w2t,kHostHeader:_2t,kPendingIdx:S2t,kRunningIdx:Yd,kError:Kd,kPipelining:$U,kSocket:I6,kKeepAliveTimeoutValue:KU,kMaxHeadersSize:toe,kKeepAliveMaxTimeout:R2t,kKeepAliveTimeoutThreshold:k2t,kHeadersTimeout:B2t,kBodyTimeout:D2t,kStrictContentLength:ooe,kMaxRequests:Xwe,kCounter:P2t,kMaxResponseSize:N2t,kOnError:L2t,kResume:eC,kHTTPContext:i7e}=Qs(),Ag=zTe(),F2t=Buffer.alloc(0),HU=Buffer[Symbol.species],jU=zn.addListener,M2t=zn.removeAllListeners,roe;async function Q2t(){let e=process.env.JEST_WORKER_ID?Fie():void 0,t;try{t=await WebAssembly.compile(JTe())}catch{t=await WebAssembly.compile(e||Fie())}return await WebAssembly.instantiate(t,{env:{wasm_on_url:s((r,n,i)=>0,"wasm_on_url"),wasm_on_status:s((r,n,i)=>{bn(ml.ptr===r);let o=n-Cg+yg.byteOffset;return ml.onStatus(new HU(yg.buffer,o,i))||0},"wasm_on_status"),wasm_on_message_begin:s(r=>(bn(ml.ptr===r),ml.onMessageBegin()||0),"wasm_on_message_begin"),wasm_on_header_field:s((r,n,i)=>{bn(ml.ptr===r);let o=n-Cg+yg.byteOffset;return ml.onHeaderField(new HU(yg.buffer,o,i))||0},"wasm_on_header_field"),wasm_on_header_value:s((r,n,i)=>{bn(ml.ptr===r);let o=n-Cg+yg.byteOffset;return ml.onHeaderValue(new HU(yg.buffer,o,i))||0},"wasm_on_header_value"),wasm_on_headers_complete:s((r,n,i,o)=>(bn(ml.ptr===r),ml.onHeadersComplete(n,!!i,!!o)||0),"wasm_on_headers_complete"),wasm_on_body:s((r,n,i)=>{bn(ml.ptr===r);let o=n-Cg+yg.byteOffset;return ml.onBody(new HU(yg.buffer,o,i))||0},"wasm_on_body"),wasm_on_message_complete:s(r=>(bn(ml.ptr===r),ml.onMessageComplete()||0),"wasm_on_message_complete")}})}s(Q2t,"lazyllhttp");var noe=null,soe=Q2t();soe.catch();var ml=null,yg=null,VU=0,Cg=null,O2t=0,tR=1,T6=2|tR,zU=4|tR,aoe=8|O2t,loe=class{static{s(this,"Parser")}constructor(t,r,{exports:n}){bn(Number.isFinite(t[toe])&&t[toe]>0),this.llhttp=n,this.ptr=this.llhttp.llhttp_alloc(Ag.TYPE.RESPONSE),this.client=t,this.socket=r,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=null,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=t[toe],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=t[N2t]}setTimeout(t,r){t!==this.timeoutValue||r&tR^this.timeoutType&tR?(this.timeout&&(eoe.clearTimeout(this.timeout),this.timeout=null),t&&(r&tR?this.timeout=eoe.setFastTimeout(Zwe,t,new WeakRef(this)):(this.timeout=setTimeout(Zwe,t,new WeakRef(this)),this.timeout.unref())),this.timeoutValue=t):this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.timeoutType=r}resume(){this.socket.destroyed||!this.paused||(bn(this.ptr!=null),bn(ml==null),this.llhttp.llhttp_resume(this.ptr),bn(this.timeoutType===zU),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),this.paused=!1,this.execute(this.socket.read()||F2t),this.readMore())}readMore(){for(;!this.paused&&this.ptr;){let t=this.socket.read();if(t===null)break;this.execute(t)}}execute(t){bn(this.ptr!=null),bn(ml==null),bn(!this.paused);let{socket:r,llhttp:n}=this;t.length>VU&&(Cg&&n.free(Cg),VU=Math.ceil(t.length/4096)*4096,Cg=n.malloc(VU)),new Uint8Array(n.memory.buffer,Cg,VU).set(t);try{let i;try{yg=t,ml=this,i=n.llhttp_execute(this.ptr,Cg,t.length)}catch(a){throw a}finally{ml=null,yg=null}let o=n.llhttp_get_error_pos(this.ptr)-Cg;if(i===Ag.ERROR.PAUSED_UPGRADE)this.onUpgrade(t.slice(o));else if(i===Ag.ERROR.PAUSED)this.paused=!0,r.unshift(t.slice(o));else if(i!==Ag.ERROR.OK){let a=n.llhttp_get_error_reason(this.ptr),l="";if(a){let c=new Uint8Array(n.memory.buffer,a).indexOf(0);l="Response does not match the HTTP/1.1 protocol ("+Buffer.from(n.memory.buffer,a,c).toString()+")"}throw new E2t(l,Ag.ERROR[i],t.slice(o))}}catch(i){zn.destroy(r,i)}}destroy(){bn(this.ptr!=null),bn(ml==null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&eoe.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(t){this.statusText=t.toString()}onMessageBegin(){let{socket:t,client:r}=this;if(t.destroyed)return-1;let n=r[Th][r[Yd]];if(!n)return-1;n.onResponseStarted()}onHeaderField(t){let r=this.headers.length;(r&1)===0?this.headers.push(t):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]),this.trackHeader(t.length)}onHeaderValue(t){let r=this.headers.length;(r&1)===1?(this.headers.push(t),r+=1):this.headers[r-1]=Buffer.concat([this.headers[r-1],t]);let n=this.headers[r-2];if(n.length===10){let i=zn.bufferToLowerCasedHeaderName(n);i==="keep-alive"?this.keepAlive+=t.toString():i==="connection"&&(this.connection+=t.toString())}else n.length===14&&zn.bufferToLowerCasedHeaderName(n)==="content-length"&&(this.contentLength+=t.toString());this.trackHeader(t.length)}trackHeader(t){this.headersSize+=t,this.headersSize>=this.headersMaxSize&&zn.destroy(this.socket,new v2t)}onUpgrade(t){let{upgrade:r,client:n,socket:i,headers:o,statusCode:a}=this;bn(r),bn(n[I6]===i),bn(!i.destroyed),bn(!this.paused),bn((o.length&1)===0);let l=n[Th][n[Yd]];bn(l),bn(l.upgrade||l.method==="CONNECT"),this.statusCode=null,this.statusText="",this.shouldKeepAlive=null,this.headers=[],this.headersSize=0,i.unshift(t),i[aa].destroy(),i[aa]=null,i[ioe]=null,i[Kd]=null,M2t(i),n[I6]=null,n[i7e]=null,n[Th][n[Yd]++]=null,n.emit("disconnect",n[n7e],[n],new E6("upgrade"));try{l.onUpgrade(a,o,i)}catch(c){zn.destroy(i,c)}n[eC]()}onHeadersComplete(t,r,n){let{client:i,socket:o,headers:a,statusText:l}=this;if(o.destroyed)return-1;let c=i[Th][i[Yd]];if(!c)return-1;if(bn(!this.upgrade),bn(this.statusCode<200),t===100)return zn.destroy(o,new YU("bad response",zn.getSocketInfo(o))),-1;if(r&&!c.upgrade)return zn.destroy(o,new YU("bad upgrade",zn.getSocketInfo(o))),-1;if(bn(this.timeoutType===T6),this.statusCode=t,this.shouldKeepAlive=n||c.method==="HEAD"&&!o[gu]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let f=c.bodyTimeout!=null?c.bodyTimeout:i[D2t];this.setTimeout(f,zU)}else this.timeout&&this.timeout.refresh&&this.timeout.refresh();if(c.method==="CONNECT")return bn(i[Gc]===1),this.upgrade=!0,2;if(r)return bn(i[Gc]===1),this.upgrade=!0,2;if(bn((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&i[$U]){let f=this.keepAlive?zn.parseKeepAliveTimeout(this.keepAlive):null;if(f!=null){let m=Math.min(f-i[k2t],i[R2t]);m<=0?o[gu]=!0:i[KU]=m}else i[KU]=i[w2t]}else o[gu]=!0;let u=c.onHeaders(t,a,this.resume,l)===!1;return c.aborted?-1:c.method==="HEAD"||t<200?1:(o[rR]&&(o[rR]=!1,i[eC]()),u?Ag.ERROR.PAUSED:0)}onBody(t){let{client:r,socket:n,statusCode:i,maxResponseSize:o}=this;if(n.destroyed)return-1;let a=r[Th][r[Yd]];if(bn(a),bn(this.timeoutType===zU),this.timeout&&this.timeout.refresh&&this.timeout.refresh(),bn(i>=200),o>-1&&this.bytesRead+t.length>o)return zn.destroy(n,new I2t),-1;if(this.bytesRead+=t.length,a.onData(t)===!1)return Ag.ERROR.PAUSED}onMessageComplete(){let{client:t,socket:r,statusCode:n,upgrade:i,headers:o,contentLength:a,bytesRead:l,shouldKeepAlive:c}=this;if(r.destroyed&&(!n||c))return-1;if(i)return;bn(n>=100),bn((this.headers.length&1)===0);let u=t[Th][t[Yd]];if(bn(u),this.statusCode=null,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,!(n<200)){if(u.method!=="HEAD"&&a&&l!==parseInt(a,10))return zn.destroy(r,new C2t),-1;if(u.onComplete(o),t[Th][t[Yd]++]=null,r[tC])return bn(t[Gc]===0),zn.destroy(r,new E6("reset")),Ag.ERROR.PAUSED;if(c){if(r[gu]&&t[Gc]===0)return zn.destroy(r,new E6("reset")),Ag.ERROR.PAUSED;t[$U]==null||t[$U]===1?setImmediate(()=>t[eC]()):t[eC]()}else return zn.destroy(r,new E6("reset")),Ag.ERROR.PAUSED}}};function Zwe(e){let{socket:t,timeoutType:r,client:n,paused:i}=e.deref();r===T6?(!t[tC]||t.writableNeedDrain||n[Gc]>1)&&(bn(!i,"cannot be paused while waiting for headers"),zn.destroy(t,new x2t)):r===zU?i||zn.destroy(t,new b2t):r===aoe&&(bn(n[Gc]===0&&n[KU]),zn.destroy(t,new E6("socket idle timeout")))}s(Zwe,"onParserTimeout");async function U2t(e,t){e[I6]=t,noe||(noe=await soe,soe=null),t[eR]=!1,t[tC]=!1,t[gu]=!1,t[rR]=!1,t[aa]=new loe(e,t,noe),jU(t,"error",function(n){bn(n.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let i=this[aa];if(n.code==="ECONNRESET"&&i.statusCode&&!i.shouldKeepAlive){i.onMessageComplete();return}this[Kd]=n,this[ioe][L2t](n)}),jU(t,"readable",function(){let n=this[aa];n&&n.readMore()}),jU(t,"end",function(){let n=this[aa];if(n.statusCode&&!n.shouldKeepAlive){n.onMessageComplete();return}zn.destroy(this,new YU("other side closed",zn.getSocketInfo(this)))}),jU(t,"close",function(){let n=this[ioe],i=this[aa];i&&(!this[Kd]&&i.statusCode&&!i.shouldKeepAlive&&i.onMessageComplete(),this[aa].destroy(),this[aa]=null);let o=this[Kd]||new YU("closed",zn.getSocketInfo(this));if(n[I6]=null,n[i7e]=null,n.destroyed){bn(n[T2t]===0);let a=n[Th].splice(n[Yd]);for(let l=0;l<a.length;l++){let c=a[l];zn.errorRequest(n,c,o)}}else if(n[Gc]>0&&o.code!=="UND_ERR_INFO"){let a=n[Th][n[Yd]];n[Th][n[Yd]++]=null,zn.errorRequest(n,a,o)}n[S2t]=n[Yd],bn(n[Gc]===0),n.emit("disconnect",n[n7e],[n],o),n[eC]()});let r=!1;return t.on("close",()=>{r=!0}),{version:"h1",defaultPipelining:1,write(...n){return G2t(e,...n)},resume(){q2t(e)},destroy(n,i){r?queueMicrotask(i):t.destroy(n).on("close",i)},get destroyed(){return t.destroyed},busy(n){return!!(t[tC]||t[gu]||t[rR]||n&&(e[Gc]>0&&!n.idempotent||e[Gc]>0&&(n.upgrade||n.method==="CONNECT")||e[Gc]>0&&zn.bodyLength(n.body)!==0&&(zn.isStream(n.body)||zn.isAsyncIterable(n.body)||zn.isFormDataLike(n.body))))}}}s(U2t,"connectH1");function q2t(e){let t=e[I6];if(t&&!t.destroyed){if(e[Jwe]===0?!t[eR]&&t.unref&&(t.unref(),t[eR]=!0):t[eR]&&t.ref&&(t.ref(),t[eR]=!1),e[Jwe]===0)t[aa].timeoutType!==aoe&&t[aa].setTimeout(e[KU],aoe);else if(e[Gc]>0&&t[aa].statusCode<200&&t[aa].timeoutType!==T6){let r=e[Th][e[Yd]],n=r.headersTimeout!=null?r.headersTimeout:e[B2t];t[aa].setTimeout(n,T6)}}}s(q2t,"resumeH1");function W2t(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}s(W2t,"shouldSendContentLength");function G2t(e,t){let{method:r,path:n,host:i,upgrade:o,blocking:a,reset:l}=t,{body:c,headers:u,contentLength:f}=t,m=r==="PUT"||r==="POST"||r==="PATCH"||r==="QUERY"||r==="PROPFIND"||r==="PROPPATCH";if(zn.isFormDataLike(c)){roe||(roe=b6().extractBody);let[x,b]=roe(c);t.contentType==null&&u.push("content-type",b),c=x.stream,f=x.length}else zn.isBlobLike(c)&&t.contentType==null&&c.type&&u.push("content-type",c.type);c&&typeof c.read=="function"&&c.read(0);let h=zn.bodyLength(c);if(f=h??f,f===null&&(f=t.contentLength),f===0&&!m&&(f=null),W2t(r)&&f>0&&t.contentLength!==null&&t.contentLength!==f){if(e[ooe])return zn.errorRequest(e,t,new Yv),!1;process.emitWarning(new Yv)}let p=e[I6],g=s(x=>{t.aborted||t.completed||(zn.errorRequest(e,t,x||new r7e),zn.destroy(c),zn.destroy(p,new E6("aborted")))},"abort");try{t.onConnect(g)}catch(x){zn.errorRequest(e,t,x)}if(t.aborted)return!1;r==="HEAD"&&(p[gu]=!0),(o||r==="CONNECT")&&(p[gu]=!0),l!=null&&(p[gu]=l),e[Xwe]&&p[P2t]++>=e[Xwe]&&(p[gu]=!0),a&&(p[rR]=!0);let y=`${r} ${n} HTTP/1.1\r
`;if(typeof i=="string"?y+=`host: ${i}\r
`:y+=e[_2t],o?y+=`connection: upgrade\r
upgrade: ${o}\r
`:e[$U]&&!p[gu]?y+=`connection: keep-alive\r
`:y+=`connection: close\r
`,Array.isArray(u))for(let x=0;x<u.length;x+=2){let b=u[x+0],E=u[x+1];if(Array.isArray(E))for(let _=0;_<E.length;_++)y+=`${b}: ${E[_]}\r
`;else y+=`${b}: ${E}\r
`}return Kwe.sendHeaders.hasSubscribers&&Kwe.sendHeaders.publish({request:t,headers:y,socket:p}),!c||h===0?e7e(g,null,e,t,p,f,y,m):zn.isBuffer(c)?e7e(g,c,e,t,p,f,y,m):zn.isBlobLike(c)?typeof c.stream=="function"?t7e(g,c.stream(),e,t,p,f,y,m):j2t(g,c,e,t,p,f,y,m):zn.isStream(c)?H2t(g,c,e,t,p,f,y,m):zn.isIterable(c)?t7e(g,c,e,t,p,f,y,m):bn(!1),!0}s(G2t,"writeH1");function H2t(e,t,r,n,i,o,a,l){bn(o!==0||r[Gc]===0,"stream body cannot be pipelined");let c=!1,u=new JU({abort:e,socket:i,request:n,contentLength:o,client:r,expectsPayload:l,header:a}),f=s(function(g){if(!c)try{!u.write(g)&&this.pause&&this.pause()}catch(y){zn.destroy(this,y)}},"onData"),m=s(function(){c||t.resume&&t.resume()},"onDrain"),h=s(function(){if(queueMicrotask(()=>{t.removeListener("error",p)}),!c){let g=new r7e;queueMicrotask(()=>p(g))}},"onClose"),p=s(function(g){if(!c){if(c=!0,bn(i.destroyed||i[tC]&&r[Gc]<=1),i.off("drain",m).off("error",p),t.removeListener("data",f).removeListener("end",p).removeListener("close",h),!g)try{u.end()}catch(y){g=y}u.destroy(g),g&&(g.code!=="UND_ERR_INFO"||g.message!=="reset")?zn.destroy(t,g):zn.destroy(t)}},"onFinished");t.on("data",f).on("end",p).on("error",p).on("close",h),t.resume&&t.resume(),i.on("drain",m).on("error",p),t.errorEmitted??t.errored?setImmediate(()=>p(t.errored)):(t.endEmitted??t.readableEnded)&&setImmediate(()=>p(null)),(t.closeEmitted??t.closed)&&setImmediate(h)}s(H2t,"writeStream");function e7e(e,t,r,n,i,o,a,l){try{t?zn.isBuffer(t)&&(bn(o===t.byteLength,"buffer body must have content length"),i.cork(),i.write(`${a}content-length: ${o}\r
\r
`,"latin1"),i.write(t),i.uncork(),n.onBodySent(t),!l&&n.reset!==!1&&(i[gu]=!0)):o===0?i.write(`${a}content-length: 0\r
\r
`,"latin1"):(bn(o===null,"no body must not have content length"),i.write(`${a}\r
`,"latin1")),n.onRequestSent(),r[eC]()}catch(c){e(c)}}s(e7e,"writeBuffer");async function j2t(e,t,r,n,i,o,a,l){bn(o===t.size,"blob body must have content length");try{if(o!=null&&o!==t.size)throw new Yv;let c=Buffer.from(await t.arrayBuffer());i.cork(),i.write(`${a}content-length: ${o}\r
\r
`,"latin1"),i.write(c),i.uncork(),n.onBodySent(c),n.onRequestSent(),!l&&n.reset!==!1&&(i[gu]=!0),r[eC]()}catch(c){e(c)}}s(j2t,"writeBlob");async function t7e(e,t,r,n,i,o,a,l){bn(o!==0||r[Gc]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let h=c;c=null,h()}}s(u,"onDrain");let f=s(()=>new Promise((h,p)=>{bn(c===null),i[Kd]?p(i[Kd]):c=h}),"waitForDrain");i.on("close",u).on("drain",u);let m=new JU({abort:e,socket:i,request:n,contentLength:o,client:r,expectsPayload:l,header:a});try{for await(let h of t){if(i[Kd])throw i[Kd];m.write(h)||await f()}m.end()}catch(h){m.destroy(h)}finally{i.off("close",u).off("drain",u)}}s(t7e,"writeIterable");var JU=class{static{s(this,"AsyncWriter")}constructor({abort:t,socket:r,request:n,contentLength:i,client:o,expectsPayload:a,header:l}){this.socket=r,this.request=n,this.contentLength=i,this.client=o,this.bytesWritten=0,this.expectsPayload=a,this.header=l,this.abort=t,r[tC]=!0}write(t){let{socket:r,request:n,contentLength:i,client:o,bytesWritten:a,expectsPayload:l,header:c}=this;if(r[Kd])throw r[Kd];if(r.destroyed)return!1;let u=Buffer.byteLength(t);if(!u)return!0;if(i!==null&&a+u>i){if(o[ooe])throw new Yv;process.emitWarning(new Yv)}r.cork(),a===0&&(!l&&n.reset!==!1&&(r[gu]=!0),i===null?r.write(`${c}transfer-encoding: chunked\r
`,"latin1"):r.write(`${c}content-length: ${i}\r
\r
`,"latin1")),i===null&&r.write(`\r
${u.toString(16)}\r
`,"latin1"),this.bytesWritten+=u;let f=r.write(t);return r.uncork(),n.onBodySent(t),f||r[aa].timeout&&r[aa].timeoutType===T6&&r[aa].timeout.refresh&&r[aa].timeout.refresh(),f}end(){let{socket:t,contentLength:r,client:n,bytesWritten:i,expectsPayload:o,header:a,request:l}=this;if(l.onRequestSent(),t[tC]=!1,t[Kd])throw t[Kd];if(!t.destroyed){if(i===0?o?t.write(`${a}content-length: 0\r
\r
`,"latin1"):t.write(`${a}\r
`,"latin1"):r===null&&t.write(`\r
0\r
\r
`,"latin1"),r!==null&&i!==r){if(n[ooe])throw new Yv;process.emitWarning(new Yv)}t[aa].timeout&&t[aa].timeoutType===T6&&t[aa].timeout.refresh&&t[aa].timeout.refresh(),n[eC]()}}destroy(t){let{socket:r,client:n,abort:i}=this;r[tC]=!1,t&&(bn(n[Gc]<=1,"pipeline should only contain this request"),i(t))}};o7e.exports=U2t});var h7e=H((PWr,m7e)=>{"use strict";d();var Jd=require("node:assert"),{pipeline:V2t}=require("node:stream"),Li=yi(),{RequestContentLengthMismatchError:coe,RequestAbortedError:a7e,SocketError:nR,InformationalError:uoe}=Ao(),{kUrl:XU,kReset:eq,kClient:w6,kRunning:tq,kPending:$2t,kQueue:rC,kPendingIdx:foe,kRunningIdx:wh,kError:Sh,kSocket:Ll,kStrictContentLength:z2t,kOnError:doe,kMaxConcurrentStreams:d7e,kHTTP2Session:_h,kResume:nC,kSize:Y2t,kHTTPContext:K2t}=Qs(),NA=Symbol("open streams"),l7e,c7e=!1,ZU;try{ZU=require("node:http2")}catch{ZU={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:J2t,HTTP2_HEADER_METHOD:X2t,HTTP2_HEADER_PATH:Z2t,HTTP2_HEADER_SCHEME:eyt,HTTP2_HEADER_CONTENT_LENGTH:tyt,HTTP2_HEADER_EXPECT:ryt,HTTP2_HEADER_STATUS:nyt}}=ZU;function iyt(e){let t=[];for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let i of n)t.push(Buffer.from(r),Buffer.from(i));else t.push(Buffer.from(r),Buffer.from(n));return t}s(iyt,"parseH2Headers");async function oyt(e,t){e[Ll]=t,c7e||(c7e=!0,process.emitWarning("H2 support is experimental, expect them to change at any time.",{code:"UNDICI-H2"}));let r=ZU.connect(e[XU],{createConnection:s(()=>t,"createConnection"),peerMaxConcurrentStreams:e[d7e]});r[NA]=0,r[w6]=e,r[Ll]=t,Li.addListener(r,"error",ayt),Li.addListener(r,"frameError",lyt),Li.addListener(r,"end",cyt),Li.addListener(r,"goaway",uyt),Li.addListener(r,"close",function(){let{[w6]:i}=this,{[Ll]:o}=i,a=this[Ll][Sh]||this[Sh]||new nR("closed",Li.getSocketInfo(o));if(i[_h]=null,i.destroyed){Jd(i[$2t]===0);let l=i[rC].splice(i[wh]);for(let c=0;c<l.length;c++){let u=l[c];Li.errorRequest(i,u,a)}}}),r.unref(),e[_h]=r,t[_h]=r,Li.addListener(t,"error",function(i){Jd(i.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Sh]=i,this[w6][doe](i)}),Li.addListener(t,"end",function(){Li.destroy(this,new nR("other side closed",Li.getSocketInfo(this)))}),Li.addListener(t,"close",function(){let i=this[Sh]||new nR("closed",Li.getSocketInfo(this));e[Ll]=null,this[_h]!=null&&this[_h].destroy(i),e[foe]=e[wh],Jd(e[tq]===0),e.emit("disconnect",e[XU],[e],i),e[nC]()});let n=!1;return t.on("close",()=>{n=!0}),{version:"h2",defaultPipelining:1/0,write(...i){return dyt(e,...i)},resume(){syt(e)},destroy(i,o){n?queueMicrotask(o):t.destroy(i).on("close",o)},get destroyed(){return t.destroyed},busy(){return!1}}}s(oyt,"connectH2");function syt(e){let t=e[Ll];t?.destroyed===!1&&(e[Y2t]===0&&e[d7e]===0?(t.unref(),e[_h].unref()):(t.ref(),e[_h].ref()))}s(syt,"resumeH2");function ayt(e){Jd(e.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[Ll][Sh]=e,this[w6][doe](e)}s(ayt,"onHttp2SessionError");function lyt(e,t,r){if(r===0){let n=new uoe(`HTTP/2: "frameError" received - type ${e}, code ${t}`);this[Ll][Sh]=n,this[w6][doe](n)}}s(lyt,"onHttp2FrameError");function cyt(){let e=new nR("other side closed",Li.getSocketInfo(this[Ll]));this.destroy(e),Li.destroy(this[Ll],e)}s(cyt,"onHttp2SessionEnd");function uyt(e){let t=this[Sh]||new nR(`HTTP/2: "GOAWAY" frame received with code ${e}`,Li.getSocketInfo(this)),r=this[w6];if(r[Ll]=null,r[K2t]=null,this[_h]!=null&&(this[_h].destroy(t),this[_h]=null),Li.destroy(this[Ll],t),r[wh]<r[rC].length){let n=r[rC][r[wh]];r[rC][r[wh]++]=null,Li.errorRequest(r,n,t),r[foe]=r[wh]}Jd(r[tq]===0),r.emit("disconnect",r[XU],[r],t),r[nC]()}s(uyt,"onHTTP2GoAway");function fyt(e){return e!=="GET"&&e!=="HEAD"&&e!=="OPTIONS"&&e!=="TRACE"&&e!=="CONNECT"}s(fyt,"shouldSendContentLength");function dyt(e,t){let r=e[_h],{method:n,path:i,host:o,upgrade:a,expectContinue:l,signal:c,headers:u}=t,{body:f}=t;if(a)return Li.errorRequest(e,t,new Error("Upgrade not supported for H2")),!1;let m={};for(let k=0;k<u.length;k+=2){let B=u[k+0],N=u[k+1];if(Array.isArray(N))for(let M=0;M<N.length;M++)m[B]?m[B]+=`,${N[M]}`:m[B]=N[M];else m[B]=N}let h,{hostname:p,port:g}=e[XU];m[J2t]=o||`${p}${g?`:${g}`:""}`,m[X2t]=n;let y=s(k=>{t.aborted||t.completed||(k=k||new a7e,Li.errorRequest(e,t,k),h!=null&&Li.destroy(h,k),Li.destroy(f,k),e[rC][e[wh]++]=null,e[nC]())},"abort");try{t.onConnect(y)}catch(k){Li.errorRequest(e,t,k)}if(t.aborted)return!1;if(n==="CONNECT")return r.ref(),h=r.request(m,{endStream:!1,signal:c}),h.id&&!h.pending?(t.onUpgrade(null,null,h),++r[NA],e[rC][e[wh]++]=null):h.once("ready",()=>{t.onUpgrade(null,null,h),++r[NA],e[rC][e[wh]++]=null}),h.once("close",()=>{r[NA]-=1,r[NA]===0&&r.unref()}),!0;m[Z2t]=i,m[eyt]="https";let x=n==="PUT"||n==="POST"||n==="PATCH";f&&typeof f.read=="function"&&f.read(0);let b=Li.bodyLength(f);if(Li.isFormDataLike(f)){l7e??=b6().extractBody;let[k,B]=l7e(f);m["content-type"]=B,f=k.stream,b=k.length}if(b==null&&(b=t.contentLength),(b===0||!x)&&(b=null),fyt(n)&&b>0&&t.contentLength!=null&&t.contentLength!==b){if(e[z2t])return Li.errorRequest(e,t,new coe),!1;process.emitWarning(new coe)}b!=null&&(Jd(f,"no body must not have content length"),m[tyt]=`${b}`),r.ref();let E=n==="GET"||n==="HEAD"||f===null;return l?(m[ryt]="100-continue",h=r.request(m,{endStream:E,signal:c}),h.once("continue",_)):(h=r.request(m,{endStream:E,signal:c}),_()),++r[NA],h.once("response",k=>{let{[nyt]:B,...N}=k;if(t.onResponseStarted(),t.aborted){let M=new a7e;Li.errorRequest(e,t,M),Li.destroy(h,M);return}t.onHeaders(Number(B),iyt(N),h.resume.bind(h),"")===!1&&h.pause(),h.on("data",M=>{t.onData(M)===!1&&h.pause()})}),h.once("end",()=>{(h.state?.state==null||h.state.state<6)&&t.onComplete([]),r[NA]===0&&r.unref(),y(new uoe("HTTP/2: stream half-closed (remote)")),e[rC][e[wh]++]=null,e[foe]=e[wh],e[nC]()}),h.once("close",()=>{r[NA]-=1,r[NA]===0&&r.unref()}),h.once("error",function(k){y(k)}),h.once("frameError",(k,B)=>{y(new uoe(`HTTP/2: "frameError" received - type ${k}, code ${B}`))}),!0;function _(){!f||b===0?u7e(y,h,null,e,t,e[Ll],b,x):Li.isBuffer(f)?u7e(y,h,f,e,t,e[Ll],b,x):Li.isBlobLike(f)?typeof f.stream=="function"?f7e(y,h,f.stream(),e,t,e[Ll],b,x):hyt(y,h,f,e,t,e[Ll],b,x):Li.isStream(f)?myt(y,e[Ll],x,h,f,e,t,b):Li.isIterable(f)?f7e(y,h,f,e,t,e[Ll],b,x):Jd(!1)}s(_,"writeBodyH2")}s(dyt,"writeH2");function u7e(e,t,r,n,i,o,a,l){try{r!=null&&Li.isBuffer(r)&&(Jd(a===r.byteLength,"buffer body must have content length"),t.cork(),t.write(r),t.uncork(),t.end(),i.onBodySent(r)),l||(o[eq]=!0),i.onRequestSent(),n[nC]()}catch(c){e(c)}}s(u7e,"writeBuffer");function myt(e,t,r,n,i,o,a,l){Jd(l!==0||o[tq]===0,"stream body cannot be pipelined");let c=V2t(i,n,f=>{f?(Li.destroy(c,f),e(f)):(Li.removeAllListeners(c),a.onRequestSent(),r||(t[eq]=!0),o[nC]())});Li.addListener(c,"data",u);function u(f){a.onBodySent(f)}s(u,"onPipeData")}s(myt,"writeStream");async function hyt(e,t,r,n,i,o,a,l){Jd(a===r.size,"blob body must have content length");try{if(a!=null&&a!==r.size)throw new coe;let c=Buffer.from(await r.arrayBuffer());t.cork(),t.write(c),t.uncork(),t.end(),i.onBodySent(c),i.onRequestSent(),l||(o[eq]=!0),n[nC]()}catch(c){e(c)}}s(hyt,"writeBlob");async function f7e(e,t,r,n,i,o,a,l){Jd(a!==0||n[tq]===0,"iterator body cannot be pipelined");let c=null;function u(){if(c){let m=c;c=null,m()}}s(u,"onDrain");let f=s(()=>new Promise((m,h)=>{Jd(c===null),o[Sh]?h(o[Sh]):c=m}),"waitForDrain");t.on("close",u).on("drain",u);try{for await(let m of r){if(o[Sh])throw o[Sh];let h=t.write(m);i.onBodySent(m),h||await f()}t.end(),i.onRequestSent(),l||(o[eq]=!0),n[nC]()}catch(m){e(m)}finally{t.off("close",u).off("drain",u)}}s(f7e,"writeIterable");m7e.exports=oyt});var nq=H((FWr,A7e)=>{"use strict";d();var xg=yi(),{kBodyUsed:iR}=Qs(),hoe=require("node:assert"),{InvalidArgumentError:pyt}=Ao(),gyt=require("node:events"),Ayt=[300,301,302,303,307,308],p7e=Symbol("body"),rq=class{static{s(this,"BodyAsyncIterable")}constructor(t){this[p7e]=t,this[iR]=!1}async*[Symbol.asyncIterator](){hoe(!this[iR],"disturbed"),this[iR]=!0,yield*this[p7e]}},moe=class{static{s(this,"RedirectHandler")}constructor(t,r,n,i){if(r!=null&&(!Number.isInteger(r)||r<0))throw new pyt("maxRedirections must be a positive number");xg.validateHandler(i,n.method,n.upgrade),this.dispatch=t,this.location=null,this.abort=null,this.opts={...n,maxRedirections:0},this.maxRedirections=r,this.handler=i,this.history=[],this.redirectionLimitReached=!1,xg.isStream(this.opts.body)?(xg.bodyLength(this.opts.body)===0&&this.opts.body.on("data",function(){hoe(!1)}),typeof this.opts.body.readableDidRead!="boolean"&&(this.opts.body[iR]=!1,gyt.prototype.on.call(this.opts.body,"data",function(){this[iR]=!0}))):this.opts.body&&typeof this.opts.body.pipeTo=="function"?this.opts.body=new rq(this.opts.body):this.opts.body&&typeof this.opts.body!="string"&&!ArrayBuffer.isView(this.opts.body)&&xg.isIterable(this.opts.body)&&(this.opts.body=new rq(this.opts.body))}onConnect(t){this.abort=t,this.handler.onConnect(t,{history:this.history})}onUpgrade(t,r,n){this.handler.onUpgrade(t,r,n)}onError(t){this.handler.onError(t)}onHeaders(t,r,n,i){if(this.location=this.history.length>=this.maxRedirections||xg.isDisturbed(this.opts.body)?null:yyt(t,r),this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections){this.request&&this.request.abort(new Error("max redirects")),this.redirectionLimitReached=!0,this.abort(new Error("max redirects"));return}if(this.opts.origin&&this.history.push(new URL(this.opts.path,this.opts.origin)),!this.location)return this.handler.onHeaders(t,r,n,i);let{origin:o,pathname:a,search:l}=xg.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),c=l?`${a}${l}`:a;this.opts.headers=Cyt(this.opts.headers,t===303,this.opts.origin!==o),this.opts.path=c,this.opts.origin=o,this.opts.maxRedirections=0,this.opts.query=null,t===303&&this.opts.method!=="HEAD"&&(this.opts.method="GET",this.opts.body=null)}onData(t){if(!this.location)return this.handler.onData(t)}onComplete(t){this.location?(this.location=null,this.abort=null,this.dispatch(this.opts,this)):this.handler.onComplete(t)}onBodySent(t){this.handler.onBodySent&&this.handler.onBodySent(t)}};function yyt(e,t){if(Ayt.indexOf(e)===-1)return null;for(let r=0;r<t.length;r+=2)if(t[r].length===8&&xg.headerNameToString(t[r])==="location")return t[r+1]}s(yyt,"parseLocation");function g7e(e,t,r){if(e.length===4)return xg.headerNameToString(e)==="host";if(t&&xg.headerNameToString(e).startsWith("content-"))return!0;if(r&&(e.length===13||e.length===6||e.length===19)){let n=xg.headerNameToString(e);return n==="authorization"||n==="cookie"||n==="proxy-authorization"}return!1}s(g7e,"shouldRemoveHeader");function Cyt(e,t,r){let n=[];if(Array.isArray(e))for(let i=0;i<e.length;i+=2)g7e(e[i],t,r)||n.push(e[i],e[i+1]);else if(e&&typeof e=="object")for(let i of Object.keys(e))g7e(i,t,r)||n.push(i,e[i]);else hoe(e==null,"headers must be an object or an array");return n}s(Cyt,"cleanRequestHeaders");A7e.exports=moe});var iq=H((OWr,y7e)=>{"use strict";d();var xyt=nq();function vyt({maxRedirections:e}){return t=>s(function(n,i){let{maxRedirections:o=e}=n;if(!o)return t(n,i);let a=new xyt(t,o,n,i);return n={...n,maxRedirections:0},t(n,a)},"Intercept")}s(vyt,"createRedirectInterceptor");y7e.exports=vyt});var fR=H((WWr,S7e)=>{"use strict";d();var LA=require("node:assert"),I7e=require("node:net"),byt=require("node:http"),Kv=yi(),{channels:_6}=c6(),Eyt=LTe(),Iyt=m6(),{InvalidArgumentError:Ra,InformationalError:Tyt,ClientDestroyedError:wyt}=Ao(),_yt=jS(),{kUrl:vg,kServerName:iC,kClient:Syt,kBusy:poe,kConnect:Ryt,kResuming:Jv,kRunning:cR,kPending:uR,kSize:lR,kQueue:Rh,kConnected:kyt,kConnecting:S6,kNeedDrain:sC,kKeepAliveDefaultTimeout:C7e,kHostHeader:Byt,kPendingIdx:kh,kRunningIdx:FA,kError:Dyt,kPipelining:oq,kKeepAliveTimeoutValue:Pyt,kMaxHeadersSize:Nyt,kKeepAliveMaxTimeout:Lyt,kKeepAliveTimeoutThreshold:Fyt,kHeadersTimeout:Myt,kBodyTimeout:Qyt,kStrictContentLength:Oyt,kConnector:oR,kMaxRedirections:Uyt,kMaxRequests:goe,kCounter:qyt,kClose:Wyt,kDestroy:Gyt,kDispatch:Hyt,kInterceptors:x7e,kLocalAddress:sR,kMaxResponseSize:jyt,kOnError:Vyt,kHTTPContext:ka,kMaxConcurrentStreams:$yt,kResume:aR}=Qs(),zyt=s7e(),Yyt=h7e(),v7e=!1,oC=Symbol("kClosedResolve"),b7e=s(()=>{},"noop");function T7e(e){return e[oq]??e[ka]?.defaultPipelining??1}s(T7e,"getPipelining");var Aoe=class extends Iyt{static{s(this,"Client")}constructor(t,{interceptors:r,maxHeaderSize:n,headersTimeout:i,socketTimeout:o,requestTimeout:a,connectTimeout:l,bodyTimeout:c,idleTimeout:u,keepAlive:f,keepAliveTimeout:m,maxKeepAliveTimeout:h,keepAliveMaxTimeout:p,keepAliveTimeoutThreshold:g,socketPath:y,pipelining:x,tls:b,strictContentLength:E,maxCachedSessions:_,maxRedirections:k,connect:B,maxRequestsPerClient:N,localAddress:M,maxResponseSize:te,autoSelectFamily:de,autoSelectFamilyAttemptTimeout:Z,maxConcurrentStreams:G,allowH2:q}={}){if(super(),f!==void 0)throw new Ra("unsupported keepAlive, use pipelining=0 instead");if(o!==void 0)throw new Ra("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(a!==void 0)throw new Ra("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(u!==void 0)throw new Ra("unsupported idleTimeout, use keepAliveTimeout instead");if(h!==void 0)throw new Ra("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(n!=null&&!Number.isFinite(n))throw new Ra("invalid maxHeaderSize");if(y!=null&&typeof y!="string")throw new Ra("invalid socketPath");if(l!=null&&(!Number.isFinite(l)||l<0))throw new Ra("invalid connectTimeout");if(m!=null&&(!Number.isFinite(m)||m<=0))throw new Ra("invalid keepAliveTimeout");if(p!=null&&(!Number.isFinite(p)||p<=0))throw new Ra("invalid keepAliveMaxTimeout");if(g!=null&&!Number.isFinite(g))throw new Ra("invalid keepAliveTimeoutThreshold");if(i!=null&&(!Number.isInteger(i)||i<0))throw new Ra("headersTimeout must be a positive integer or zero");if(c!=null&&(!Number.isInteger(c)||c<0))throw new Ra("bodyTimeout must be a positive integer or zero");if(B!=null&&typeof B!="function"&&typeof B!="object")throw new Ra("connect must be a function or an object");if(k!=null&&(!Number.isInteger(k)||k<0))throw new Ra("maxRedirections must be a positive number");if(N!=null&&(!Number.isInteger(N)||N<0))throw new Ra("maxRequestsPerClient must be a positive number");if(M!=null&&(typeof M!="string"||I7e.isIP(M)===0))throw new Ra("localAddress must be valid string IP address");if(te!=null&&(!Number.isInteger(te)||te<-1))throw new Ra("maxResponseSize must be a positive number");if(Z!=null&&(!Number.isInteger(Z)||Z<-1))throw new Ra("autoSelectFamilyAttemptTimeout must be a positive number");if(q!=null&&typeof q!="boolean")throw new Ra("allowH2 must be a valid boolean value");if(G!=null&&(typeof G!="number"||G<1))throw new Ra("maxConcurrentStreams must be a positive integer, greater than 0");typeof B!="function"&&(B=_yt({...b,maxCachedSessions:_,allowH2:q,socketPath:y,timeout:l,...de?{autoSelectFamily:de,autoSelectFamilyAttemptTimeout:Z}:void 0,...B})),r?.Client&&Array.isArray(r.Client)?(this[x7e]=r.Client,v7e||(v7e=!0,process.emitWarning("Client.Options#interceptor is deprecated. Use Dispatcher#compose instead.",{code:"UNDICI-CLIENT-INTERCEPTOR-DEPRECATED"}))):this[x7e]=[Kyt({maxRedirections:k})],this[vg]=Kv.parseOrigin(t),this[oR]=B,this[oq]=x??1,this[Nyt]=n||byt.maxHeaderSize,this[C7e]=m??4e3,this[Lyt]=p??6e5,this[Fyt]=g??2e3,this[Pyt]=this[C7e],this[iC]=null,this[sR]=M??null,this[Jv]=0,this[sC]=0,this[Byt]=`host: ${this[vg].hostname}${this[vg].port?`:${this[vg].port}`:""}\r
`,this[Qyt]=c??3e5,this[Myt]=i??3e5,this[Oyt]=E??!0,this[Uyt]=k,this[goe]=N,this[oC]=null,this[jyt]=te>-1?te:-1,this[$yt]=G??100,this[ka]=null,this[Rh]=[],this[FA]=0,this[kh]=0,this[aR]=ie=>yoe(this,ie),this[Vyt]=ie=>w7e(this,ie)}get pipelining(){return this[oq]}set pipelining(t){this[oq]=t,this[aR](!0)}get[uR](){return this[Rh].length-this[kh]}get[cR](){return this[kh]-this[FA]}get[lR](){return this[Rh].length-this[FA]}get[kyt](){return!!this[ka]&&!this[S6]&&!this[ka].destroyed}get[poe](){return!!(this[ka]?.busy(null)||this[lR]>=(T7e(this)||1)||this[uR]>0)}[Ryt](t){_7e(this),this.once("connect",t)}[Hyt](t,r){let n=t.origin||this[vg].origin,i=new Eyt(n,t,r);return this[Rh].push(i),this[Jv]||(Kv.bodyLength(i.body)==null&&Kv.isIterable(i.body)?(this[Jv]=1,queueMicrotask(()=>yoe(this))):this[aR](!0)),this[Jv]&&this[sC]!==2&&this[poe]&&(this[sC]=2),this[sC]<2}async[Wyt](){return new Promise(t=>{this[lR]?this[oC]=t:t(null)})}async[Gyt](t){return new Promise(r=>{let n=this[Rh].splice(this[kh]);for(let o=0;o<n.length;o++){let a=n[o];Kv.errorRequest(this,a,t)}let i=s(()=>{this[oC]&&(this[oC](),this[oC]=null),r(null)},"callback");this[ka]?(this[ka].destroy(t,i),this[ka]=null):queueMicrotask(i),this[aR]()})}},Kyt=iq();function w7e(e,t){if(e[cR]===0&&t.code!=="UND_ERR_INFO"&&t.code!=="UND_ERR_SOCKET"){LA(e[kh]===e[FA]);let r=e[Rh].splice(e[FA]);for(let n=0;n<r.length;n++){let i=r[n];Kv.errorRequest(e,i,t)}LA(e[lR]===0)}}s(w7e,"onError");async function _7e(e){LA(!e[S6]),LA(!e[ka]);let{host:t,hostname:r,protocol:n,port:i}=e[vg];if(r[0]==="["){let o=r.indexOf("]");LA(o!==-1);let a=r.substring(1,o);LA(I7e.isIP(a)),r=a}e[S6]=!0,_6.beforeConnect.hasSubscribers&&_6.beforeConnect.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[ka]?.version,servername:e[iC],localAddress:e[sR]},connector:e[oR]});try{let o=await new Promise((a,l)=>{e[oR]({host:t,hostname:r,protocol:n,port:i,servername:e[iC],localAddress:e[sR]},(c,u)=>{c?l(c):a(u)})});if(e.destroyed){Kv.destroy(o.on("error",b7e),new wyt);return}LA(o);try{e[ka]=o.alpnProtocol==="h2"?await Yyt(e,o):await zyt(e,o)}catch(a){throw o.destroy().on("error",b7e),a}e[S6]=!1,o[qyt]=0,o[goe]=e[goe],o[Syt]=e,o[Dyt]=null,_6.connected.hasSubscribers&&_6.connected.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[ka]?.version,servername:e[iC],localAddress:e[sR]},connector:e[oR],socket:o}),e.emit("connect",e[vg],[e])}catch(o){if(e.destroyed)return;if(e[S6]=!1,_6.connectError.hasSubscribers&&_6.connectError.publish({connectParams:{host:t,hostname:r,protocol:n,port:i,version:e[ka]?.version,servername:e[iC],localAddress:e[sR]},connector:e[oR],error:o}),o.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(LA(e[cR]===0);e[uR]>0&&e[Rh][e[kh]].servername===e[iC];){let a=e[Rh][e[kh]++];Kv.errorRequest(e,a,o)}else w7e(e,o);e.emit("connectionError",e[vg],[e],o)}e[aR]()}s(_7e,"connect");function E7e(e){e[sC]=0,e.emit("drain",e[vg],[e])}s(E7e,"emitDrain");function yoe(e,t){e[Jv]!==2&&(e[Jv]=2,Jyt(e,t),e[Jv]=0,e[FA]>256&&(e[Rh].splice(0,e[FA]),e[kh]-=e[FA],e[FA]=0))}s(yoe,"resume");function Jyt(e,t){for(;;){if(e.destroyed){LA(e[uR]===0);return}if(e[oC]&&!e[lR]){e[oC](),e[oC]=null;return}if(e[ka]&&e[ka].resume(),e[poe])e[sC]=2;else if(e[sC]===2){t?(e[sC]=1,queueMicrotask(()=>E7e(e))):E7e(e);continue}if(e[uR]===0||e[cR]>=(T7e(e)||1))return;let r=e[Rh][e[kh]];if(e[vg].protocol==="https:"&&e[iC]!==r.servername){if(e[cR]>0)return;e[iC]=r.servername,e[ka]?.destroy(new Tyt("servername changed"),()=>{e[ka]=null,yoe(e)})}if(e[S6])return;if(!e[ka]){_7e(e);return}if(e[ka].destroyed||e[ka].busy(r))return;!r.aborted&&e[ka].write(r)?e[kh]++:e[Rh].splice(e[kh],1)}}s(Jyt,"_resume");S7e.exports=Aoe});var Coe=H((VWr,R7e)=>{"use strict";d();var sq=class{static{s(this,"FixedCircularBuffer")}constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(t){this.list[this.top]=t,this.top=this.top+1&2047}shift(){let t=this.list[this.bottom];return t===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,t)}};R7e.exports=class{static{s(this,"FixedQueue")}constructor(){this.head=this.tail=new sq}isEmpty(){return this.head.isEmpty()}push(t){this.head.isFull()&&(this.head=this.head.next=new sq),this.head.push(t)}shift(){let t=this.tail,r=t.shift();return t.isEmpty()&&t.next!==null&&(this.tail=t.next),r}}});var B7e=H((YWr,k7e)=>{d();var{kFree:Xyt,kConnected:Zyt,kPending:e5t,kQueued:t5t,kRunning:r5t,kSize:n5t}=Qs(),Xv=Symbol("pool"),xoe=class{static{s(this,"PoolStats")}constructor(t){this[Xv]=t}get connected(){return this[Xv][Zyt]}get free(){return this[Xv][Xyt]}get pending(){return this[Xv][e5t]}get queued(){return this[Xv][t5t]}get running(){return this[Xv][r5t]}get size(){return this[Xv][n5t]}};k7e.exports=xoe});var woe=H((XWr,q7e)=>{"use strict";d();var i5t=m6(),o5t=Coe(),{kConnected:voe,kSize:D7e,kRunning:P7e,kPending:N7e,kQueued:dR,kBusy:s5t,kFree:a5t,kUrl:l5t,kClose:c5t,kDestroy:u5t,kDispatch:f5t}=Qs(),d5t=B7e(),Au=Symbol("clients"),w0=Symbol("needDrain"),mR=Symbol("queue"),boe=Symbol("closed resolve"),Eoe=Symbol("onDrain"),L7e=Symbol("onConnect"),F7e=Symbol("onDisconnect"),M7e=Symbol("onConnectionError"),Ioe=Symbol("get dispatcher"),O7e=Symbol("add client"),U7e=Symbol("remove client"),Q7e=Symbol("stats"),Toe=class extends i5t{static{s(this,"PoolBase")}constructor(){super(),this[mR]=new o5t,this[Au]=[],this[dR]=0;let t=this;this[Eoe]=s(function(n,i){let o=t[mR],a=!1;for(;!a;){let l=o.shift();if(!l)break;t[dR]--,a=!this.dispatch(l.opts,l.handler)}this[w0]=a,!this[w0]&&t[w0]&&(t[w0]=!1,t.emit("drain",n,[t,...i])),t[boe]&&o.isEmpty()&&Promise.all(t[Au].map(l=>l.close())).then(t[boe])},"onDrain"),this[L7e]=(r,n)=>{t.emit("connect",r,[t,...n])},this[F7e]=(r,n,i)=>{t.emit("disconnect",r,[t,...n],i)},this[M7e]=(r,n,i)=>{t.emit("connectionError",r,[t,...n],i)},this[Q7e]=new d5t(this)}get[s5t](){return this[w0]}get[voe](){return this[Au].filter(t=>t[voe]).length}get[a5t](){return this[Au].filter(t=>t[voe]&&!t[w0]).length}get[N7e](){let t=this[dR];for(let{[N7e]:r}of this[Au])t+=r;return t}get[P7e](){let t=0;for(let{[P7e]:r}of this[Au])t+=r;return t}get[D7e](){let t=this[dR];for(let{[D7e]:r}of this[Au])t+=r;return t}get stats(){return this[Q7e]}async[c5t](){this[mR].isEmpty()?await Promise.all(this[Au].map(t=>t.close())):await new Promise(t=>{this[boe]=t})}async[u5t](t){for(;;){let r=this[mR].shift();if(!r)break;r.handler.onError(t)}await Promise.all(this[Au].map(r=>r.destroy(t)))}[f5t](t,r){let n=this[Ioe]();return n?n.dispatch(t,r)||(n[w0]=!0,this[w0]=!this[Ioe]()):(this[w0]=!0,this[mR].push({opts:t,handler:r}),this[dR]++),!this[w0]}[O7e](t){return t.on("drain",this[Eoe]).on("connect",this[L7e]).on("disconnect",this[F7e]).on("connectionError",this[M7e]),this[Au].push(t),this[w0]&&queueMicrotask(()=>{this[w0]&&this[Eoe](t[l5t],[this,t])}),this}[U7e](t){t.close(()=>{let r=this[Au].indexOf(t);r!==-1&&this[Au].splice(r,1)}),this[w0]=this[Au].some(r=>!r[w0]&&r.closed!==!0&&r.destroyed!==!0)}};q7e.exports={PoolBase:Toe,kClients:Au,kNeedDrain:w0,kAddClient:O7e,kRemoveClient:U7e,kGetDispatcher:Ioe}});var R6=H((tGr,j7e)=>{"use strict";d();var{PoolBase:m5t,kClients:aq,kNeedDrain:h5t,kAddClient:p5t,kGetDispatcher:g5t}=woe(),A5t=fR(),{InvalidArgumentError:_oe}=Ao(),W7e=yi(),{kUrl:G7e,kInterceptors:y5t}=Qs(),C5t=jS(),Soe=Symbol("options"),Roe=Symbol("connections"),H7e=Symbol("factory");function x5t(e,t){return new A5t(e,t)}s(x5t,"defaultFactory");var koe=class extends m5t{static{s(this,"Pool")}constructor(t,{connections:r,factory:n=x5t,connect:i,connectTimeout:o,tls:a,maxCachedSessions:l,socketPath:c,autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f,allowH2:m,...h}={}){if(super(),r!=null&&(!Number.isFinite(r)||r<0))throw new _oe("invalid connections");if(typeof n!="function")throw new _oe("factory must be a function.");if(i!=null&&typeof i!="function"&&typeof i!="object")throw new _oe("connect must be a function or an object");typeof i!="function"&&(i=C5t({...a,maxCachedSessions:l,allowH2:m,socketPath:c,timeout:o,...u?{autoSelectFamily:u,autoSelectFamilyAttemptTimeout:f}:void 0,...i})),this[y5t]=h.interceptors?.Pool&&Array.isArray(h.interceptors.Pool)?h.interceptors.Pool:[],this[Roe]=r||null,this[G7e]=W7e.parseOrigin(t),this[Soe]={...W7e.deepClone(h),connect:i,allowH2:m},this[Soe].interceptors=h.interceptors?{...h.interceptors}:void 0,this[H7e]=n,this.on("connectionError",(p,g,y)=>{for(let x of g){let b=this[aq].indexOf(x);b!==-1&&this[aq].splice(b,1)}})}[g5t](){for(let t of this[aq])if(!t[h5t])return t;if(!this[Roe]||this[aq].length<this[Roe]){let t=this[H7e](this[G7e],this[Soe]);return this[p5t](t),t}}};j7e.exports=koe});var K7e=H((iGr,Y7e)=>{"use strict";d();var{BalancedPoolMissingUpstreamError:v5t,InvalidArgumentError:b5t}=Ao(),{PoolBase:E5t,kClients:Hc,kNeedDrain:hR,kAddClient:I5t,kRemoveClient:T5t,kGetDispatcher:w5t}=woe(),_5t=R6(),{kUrl:Boe,kInterceptors:S5t}=Qs(),{parseOrigin:V7e}=yi(),$7e=Symbol("factory"),lq=Symbol("options"),z7e=Symbol("kGreatestCommonDivisor"),Zv=Symbol("kCurrentWeight"),eb=Symbol("kIndex"),Xd=Symbol("kWeight"),cq=Symbol("kMaxWeightPerServer"),uq=Symbol("kErrorPenalty");function R5t(e,t){if(e===0)return t;for(;t!==0;){let r=t;t=e%t,e=r}return e}s(R5t,"getGreatestCommonDivisor");function k5t(e,t){return new _5t(e,t)}s(k5t,"defaultFactory");var Doe=class extends E5t{static{s(this,"BalancedPool")}constructor(t=[],{factory:r=k5t,...n}={}){if(super(),this[lq]=n,this[eb]=-1,this[Zv]=0,this[cq]=this[lq].maxWeightPerServer||100,this[uq]=this[lq].errorPenalty||15,Array.isArray(t)||(t=[t]),typeof r!="function")throw new b5t("factory must be a function.");this[S5t]=n.interceptors?.BalancedPool&&Array.isArray(n.interceptors.BalancedPool)?n.interceptors.BalancedPool:[],this[$7e]=r;for(let i of t)this.addUpstream(i);this._updateBalancedPoolStats()}addUpstream(t){let r=V7e(t).origin;if(this[Hc].find(i=>i[Boe].origin===r&&i.closed!==!0&&i.destroyed!==!0))return this;let n=this[$7e](r,Object.assign({},this[lq]));this[I5t](n),n.on("connect",()=>{n[Xd]=Math.min(this[cq],n[Xd]+this[uq])}),n.on("connectionError",()=>{n[Xd]=Math.max(1,n[Xd]-this[uq]),this._updateBalancedPoolStats()}),n.on("disconnect",(...i)=>{let o=i[2];o&&o.code==="UND_ERR_SOCKET"&&(n[Xd]=Math.max(1,n[Xd]-this[uq]),this._updateBalancedPoolStats())});for(let i of this[Hc])i[Xd]=this[cq];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let t=0;for(let r=0;r<this[Hc].length;r++)t=R5t(this[Hc][r][Xd],t);this[z7e]=t}removeUpstream(t){let r=V7e(t).origin,n=this[Hc].find(i=>i[Boe].origin===r&&i.closed!==!0&&i.destroyed!==!0);return n&&this[T5t](n),this}get upstreams(){return this[Hc].filter(t=>t.closed!==!0&&t.destroyed!==!0).map(t=>t[Boe].origin)}[w5t](){if(this[Hc].length===0)throw new v5t;if(!this[Hc].find(o=>!o[hR]&&o.closed!==!0&&o.destroyed!==!0)||this[Hc].map(o=>o[hR]).reduce((o,a)=>o&&a,!0))return;let n=0,i=this[Hc].findIndex(o=>!o[hR]);for(;n++<this[Hc].length;){this[eb]=(this[eb]+1)%this[Hc].length;let o=this[Hc][this[eb]];if(o[Xd]>this[Hc][i][Xd]&&!o[hR]&&(i=this[eb]),this[eb]===0&&(this[Zv]=this[Zv]-this[z7e],this[Zv]<=0&&(this[Zv]=this[cq])),o[Xd]>=this[Zv]&&!o[hR])return o}return this[Zv]=this[Hc][i][Xd],this[eb]=i,this[Hc][i]}};Y7e.exports=Doe});var k6=H((aGr,n_e)=>{"use strict";d();var{InvalidArgumentError:fq}=Ao(),{kClients:aC,kRunning:J7e,kClose:B5t,kDestroy:D5t,kDispatch:P5t,kInterceptors:N5t}=Qs(),L5t=m6(),F5t=R6(),M5t=fR(),Q5t=yi(),O5t=iq(),X7e=Symbol("onConnect"),Z7e=Symbol("onDisconnect"),e_e=Symbol("onConnectionError"),U5t=Symbol("maxRedirections"),t_e=Symbol("onDrain"),r_e=Symbol("factory"),Poe=Symbol("options");function q5t(e,t){return t&&t.connections===1?new M5t(e,t):new F5t(e,t)}s(q5t,"defaultFactory");var Noe=class extends L5t{static{s(this,"Agent")}constructor({factory:t=q5t,maxRedirections:r=0,connect:n,...i}={}){if(super(),typeof t!="function")throw new fq("factory must be a function.");if(n!=null&&typeof n!="function"&&typeof n!="object")throw new fq("connect must be a function or an object");if(!Number.isInteger(r)||r<0)throw new fq("maxRedirections must be a positive number");n&&typeof n!="function"&&(n={...n}),this[N5t]=i.interceptors?.Agent&&Array.isArray(i.interceptors.Agent)?i.interceptors.Agent:[O5t({maxRedirections:r})],this[Poe]={...Q5t.deepClone(i),connect:n},this[Poe].interceptors=i.interceptors?{...i.interceptors}:void 0,this[U5t]=r,this[r_e]=t,this[aC]=new Map,this[t_e]=(o,a)=>{this.emit("drain",o,[this,...a])},this[X7e]=(o,a)=>{this.emit("connect",o,[this,...a])},this[Z7e]=(o,a,l)=>{this.emit("disconnect",o,[this,...a],l)},this[e_e]=(o,a,l)=>{this.emit("connectionError",o,[this,...a],l)}}get[J7e](){let t=0;for(let r of this[aC].values())t+=r[J7e];return t}[P5t](t,r){let n;if(t.origin&&(typeof t.origin=="string"||t.origin instanceof URL))n=String(t.origin);else throw new fq("opts.origin must be a non-empty string or URL.");let i=this[aC].get(n);return i||(i=this[r_e](t.origin,this[Poe]).on("drain",this[t_e]).on("connect",this[X7e]).on("disconnect",this[Z7e]).on("connectionError",this[e_e]),this[aC].set(n,i)),i.dispatch(t,r)}async[B5t](){let t=[];for(let r of this[aC].values())t.push(r.close());this[aC].clear(),await Promise.all(t)}async[D5t](t){let r=[];for(let n of this[aC].values())r.push(n.destroy(t));this[aC].clear(),await Promise.all(r)}};n_e.exports=Noe});var Moe=H((uGr,a_e)=>{"use strict";d();var{kProxy:W5t,kClose:G5t,kDestroy:H5t,kInterceptors:j5t}=Qs(),{URL:pR}=require("node:url"),V5t=k6(),$5t=R6(),z5t=m6(),{InvalidArgumentError:hq,RequestAbortedError:Y5t,SecureProxyConnectionError:K5t}=Ao(),i_e=jS(),dq=Symbol("proxy agent"),mq=Symbol("proxy client"),gR=Symbol("proxy headers"),Loe=Symbol("request tls settings"),o_e=Symbol("proxy tls settings"),s_e=Symbol("connect endpoint function");function J5t(e){return e==="https:"?443:80}s(J5t,"defaultProtocolPort");function X5t(e,t){return new $5t(e,t)}s(X5t,"defaultFactory");var Z5t=s(()=>{},"noop"),Foe=class extends z5t{static{s(this,"ProxyAgent")}constructor(t){if(super(),!t||typeof t=="object"&&!(t instanceof pR)&&!t.uri)throw new hq("Proxy uri is mandatory");let{clientFactory:r=X5t}=t;if(typeof r!="function")throw new hq("Proxy opts.clientFactory must be a function.");let n=this.#e(t),{href:i,origin:o,port:a,protocol:l,username:c,password:u,hostname:f}=n;if(this[W5t]={uri:i,protocol:l},this[j5t]=t.interceptors?.ProxyAgent&&Array.isArray(t.interceptors.ProxyAgent)?t.interceptors.ProxyAgent:[],this[Loe]=t.requestTls,this[o_e]=t.proxyTls,this[gR]=t.headers||{},t.auth&&t.token)throw new hq("opts.auth cannot be used in combination with opts.token");t.auth?this[gR]["proxy-authorization"]=`Basic ${t.auth}`:t.token?this[gR]["proxy-authorization"]=t.token:c&&u&&(this[gR]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(c)}:${decodeURIComponent(u)}`).toString("base64")}`);let m=i_e({...t.proxyTls});this[s_e]=i_e({...t.requestTls}),this[mq]=r(n,{connect:m}),this[dq]=new V5t({...t,connect:s(async(h,p)=>{let g=h.host;h.port||(g+=`:${J5t(h.protocol)}`);try{let{socket:y,statusCode:x}=await this[mq].connect({origin:o,port:a,path:g,signal:h.signal,headers:{...this[gR],host:h.host},servername:this[o_e]?.servername||f});if(x!==200&&(y.on("error",Z5t).destroy(),p(new Y5t(`Proxy response (${x}) !== 200 when HTTP Tunneling`))),h.protocol!=="https:"){p(null,y);return}let b;this[Loe]?b=this[Loe].servername:b=h.servername,this[s_e]({...h,servername:b,httpSocket:y},p)}catch(y){y.code==="ERR_TLS_CERT_ALTNAME_INVALID"?p(new K5t(y)):p(y)}},"connect")})}dispatch(t,r){let n=eCt(t.headers);if(tCt(n),n&&!("host"in n)&&!("Host"in n)){let{host:i}=new pR(t.origin);n.host=i}return this[dq].dispatch({...t,headers:n},r)}#e(t){return typeof t=="string"?new pR(t):t instanceof pR?t:new pR(t.uri)}async[G5t](){await this[dq].close(),await this[mq].close()}async[H5t](){await this[dq].destroy(),await this[mq].destroy()}};function eCt(e){if(Array.isArray(e)){let t={};for(let r=0;r<e.length;r+=2)t[e[r]]=e[r+1];return t}return e}s(eCt,"buildHeaders");function tCt(e){if(e&&Object.keys(e).find(r=>r.toLowerCase()==="proxy-authorization"))throw new hq("Proxy-Authorization should be sent in ProxyAgent constructor")}s(tCt,"throwIfProxyAuthIsSent");a_e.exports=Foe});var m_e=H((mGr,d_e)=>{"use strict";d();var rCt=m6(),{kClose:nCt,kDestroy:iCt,kClosed:l_e,kDestroyed:c_e,kDispatch:oCt,kNoProxyAgent:AR,kHttpProxyAgent:lC,kHttpsProxyAgent:tb}=Qs(),u_e=Moe(),sCt=k6(),aCt={"http:":80,"https:":443},f_e=!1,Qoe=class extends rCt{static{s(this,"EnvHttpProxyAgent")}#e=null;#t=null;#i=null;constructor(t={}){super(),this.#i=t,f_e||(f_e=!0,process.emitWarning("EnvHttpProxyAgent is experimental, expect them to change at any time.",{code:"UNDICI-EHPA"}));let{httpProxy:r,httpsProxy:n,noProxy:i,...o}=t;this[AR]=new sCt(o);let a=r??process.env.http_proxy??process.env.HTTP_PROXY;a?this[lC]=new u_e({...o,uri:a}):this[lC]=this[AR];let l=n??process.env.https_proxy??process.env.HTTPS_PROXY;l?this[tb]=new u_e({...o,uri:l}):this[tb]=this[lC],this.#o()}[oCt](t,r){let n=new URL(t.origin);return this.#n(n).dispatch(t,r)}async[nCt](){await this[AR].close(),this[lC][l_e]||await this[lC].close(),this[tb][l_e]||await this[tb].close()}async[iCt](t){await this[AR].destroy(t),this[lC][c_e]||await this[lC].destroy(t),this[tb][c_e]||await this[tb].destroy(t)}#n(t){let{protocol:r,host:n,port:i}=t;return n=n.replace(/:\d*$/,"").toLowerCase(),i=Number.parseInt(i,10)||aCt[r]||0,this.#r(n,i)?r==="https:"?this[tb]:this[lC]:this[AR]}#r(t,r){if(this.#s&&this.#o(),this.#t.length===0)return!0;if(this.#e==="*")return!1;for(let n=0;n<this.#t.length;n++){let i=this.#t[n];if(!(i.port&&i.port!==r)){if(/^[.*]/.test(i.hostname)){if(t.endsWith(i.hostname.replace(/^\*/,"")))return!1}else if(t===i.hostname)return!1}}return!0}#o(){let t=this.#i.noProxy??this.#a,r=t.split(/[,\s]/),n=[];for(let i=0;i<r.length;i++){let o=r[i];if(!o)continue;let a=o.match(/^(.+):(\d+)$/);n.push({hostname:(a?a[1]:o).toLowerCase(),port:a?Number.parseInt(a[2],10):0})}this.#e=t,this.#t=n}get#s(){return this.#i.noProxy!==void 0?!1:this.#e!==this.#a}get#a(){return process.env.no_proxy??process.env.NO_PROXY??""}};d_e.exports=Qoe});var pq=H((gGr,A_e)=>{"use strict";d();var B6=require("node:assert"),{kRetryHandlerDefaultRetry:h_e}=Qs(),{RequestRetryError:yR}=Ao(),{isDisturbed:p_e,parseHeaders:lCt,parseRangeHeader:g_e,wrapRequestBody:cCt}=yi();function uCt(e){let t=Date.now();return new Date(e).getTime()-t}s(uCt,"calculateRetryAfterHeader");var Ooe=class e{static{s(this,"RetryHandler")}constructor(t,r){let{retryOptions:n,...i}=t,{retry:o,maxRetries:a,maxTimeout:l,minTimeout:c,timeoutFactor:u,methods:f,errorCodes:m,retryAfter:h,statusCodes:p}=n??{};this.dispatch=r.dispatch,this.handler=r.handler,this.opts={...i,body:cCt(t.body)},this.abort=null,this.aborted=!1,this.retryOpts={retry:o??e[h_e],retryAfter:h??!0,maxTimeout:l??30*1e3,minTimeout:c??500,timeoutFactor:u??2,maxRetries:a??5,methods:f??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:p??[500,502,503,504,429],errorCodes:m??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.start=0,this.end=null,this.etag=null,this.resume=null,this.handler.onConnect(g=>{this.aborted=!0,this.abort?this.abort(g):this.reason=g})}onRequestSent(){this.handler.onRequestSent&&this.handler.onRequestSent()}onUpgrade(t,r,n){this.handler.onUpgrade&&this.handler.onUpgrade(t,r,n)}onConnect(t){this.aborted?t(this.reason):this.abort=t}onBodySent(t){if(this.handler.onBodySent)return this.handler.onBodySent(t)}static[h_e](t,{state:r,opts:n},i){let{statusCode:o,code:a,headers:l}=t,{method:c,retryOptions:u}=n,{maxRetries:f,minTimeout:m,maxTimeout:h,timeoutFactor:p,statusCodes:g,errorCodes:y,methods:x}=u,{counter:b}=r;if(a&&a!=="UND_ERR_REQ_RETRY"&&!y.includes(a)){i(t);return}if(Array.isArray(x)&&!x.includes(c)){i(t);return}if(o!=null&&Array.isArray(g)&&!g.includes(o)){i(t);return}if(b>f){i(t);return}let E=l?.["retry-after"];E&&(E=Number(E),E=Number.isNaN(E)?uCt(E):E*1e3);let _=E>0?Math.min(E,h):Math.min(m*p**(b-1),h);setTimeout(()=>i(null),_)}onHeaders(t,r,n,i){let o=lCt(r);if(this.retryCount+=1,t>=300)return this.retryOpts.statusCodes.includes(t)===!1?this.handler.onHeaders(t,r,n,i):(this.abort(new yR("Request failed",t,{headers:o,data:{count:this.retryCount}})),!1);if(this.resume!=null){if(this.resume=null,t!==206&&(this.start>0||t!==200))return this.abort(new yR("server does not support the range header and the payload was partially consumed",t,{headers:o,data:{count:this.retryCount}})),!1;let l=g_e(o["content-range"]);if(!l)return this.abort(new yR("Content-Range mismatch",t,{headers:o,data:{count:this.retryCount}})),!1;if(this.etag!=null&&this.etag!==o.etag)return this.abort(new yR("ETag mismatch",t,{headers:o,data:{count:this.retryCount}})),!1;let{start:c,size:u,end:f=u-1}=l;return B6(this.start===c,"content-range mismatch"),B6(this.end==null||this.end===f,"content-range mismatch"),this.resume=n,!0}if(this.end==null){if(t===206){let l=g_e(o["content-range"]);if(l==null)return this.handler.onHeaders(t,r,n,i);let{start:c,size:u,end:f=u-1}=l;B6(c!=null&&Number.isFinite(c),"content-range mismatch"),B6(f!=null&&Number.isFinite(f),"invalid content-length"),this.start=c,this.end=f}if(this.end==null){let l=o["content-length"];this.end=l!=null?Number(l)-1:null}return B6(Number.isFinite(this.start)),B6(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=n,this.etag=o.etag!=null?o.etag:null,this.etag!=null&&this.etag.startsWith("W/")&&(this.etag=null),this.handler.onHeaders(t,r,n,i)}let a=new yR("Request failed",t,{headers:o,data:{count:this.retryCount}});return this.abort(a),!1}onData(t){return this.start+=t.length,this.handler.onData(t)}onComplete(t){return this.retryCount=0,this.handler.onComplete(t)}onError(t){if(this.aborted||p_e(this.opts.body))return this.handler.onError(t);this.retryCount-this.retryCountCheckpoint>0?this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint):this.retryCount+=1,this.retryOpts.retry(t,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},r.bind(this));function r(n){if(n!=null||this.aborted||p_e(this.opts.body))return this.handler.onError(n);if(this.start!==0){let i={range:`bytes=${this.start}-${this.end??""}`};this.etag!=null&&(i["if-match"]=this.etag),this.opts={...this.opts,headers:{...this.opts.headers,...i}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(i){this.handler.onError(i)}}s(r,"onRetry")}};A_e.exports=Ooe});var C_e=H((CGr,y_e)=>{"use strict";d();var fCt=GS(),dCt=pq(),Uoe=class extends fCt{static{s(this,"RetryAgent")}#e=null;#t=null;constructor(t,r={}){super(r),this.#e=t,this.#t=r}dispatch(t,r){let n=new dCt({...t,retryOptions:this.#t},{dispatch:this.#e.dispatch.bind(this.#e),handler:r});return this.#e.dispatch(t,n)}close(){return this.#e.close()}destroy(){return this.#e.destroy()}};y_e.exports=Uoe});var Voe=H((bGr,S_e)=>{"use strict";d();var I_e=require("node:assert"),{Readable:mCt}=require("node:stream"),{RequestAbortedError:T_e,NotSupportedError:hCt,InvalidArgumentError:pCt,AbortError:qoe}=Ao(),w_e=yi(),{ReadableStreamFrom:gCt}=yi(),Tf=Symbol("kConsume"),CR=Symbol("kReading"),cC=Symbol("kBody"),x_e=Symbol("kAbort"),__e=Symbol("kContentType"),v_e=Symbol("kContentLength"),ACt=s(()=>{},"noop"),Woe=class extends mCt{static{s(this,"BodyReadable")}constructor({resume:t,abort:r,contentType:n="",contentLength:i,highWaterMark:o=64*1024}){super({autoDestroy:!0,read:t,highWaterMark:o}),this._readableState.dataEmitted=!1,this[x_e]=r,this[Tf]=null,this[cC]=null,this[__e]=n,this[v_e]=i,this[CR]=!1}destroy(t){return!t&&!this._readableState.endEmitted&&(t=new T_e),t&&this[x_e](),super.destroy(t)}_destroy(t,r){this[CR]?r(t):setImmediate(()=>{r(t)})}on(t,...r){return(t==="data"||t==="readable")&&(this[CR]=!0),super.on(t,...r)}addListener(t,...r){return this.on(t,...r)}off(t,...r){let n=super.off(t,...r);return(t==="data"||t==="readable")&&(this[CR]=this.listenerCount("data")>0||this.listenerCount("readable")>0),n}removeListener(t,...r){return this.off(t,...r)}push(t){return this[Tf]&&t!==null?(Hoe(this[Tf],t),this[CR]?super.push(t):!0):super.push(t)}async text(){return xR(this,"text")}async json(){return xR(this,"json")}async blob(){return xR(this,"blob")}async bytes(){return xR(this,"bytes")}async arrayBuffer(){return xR(this,"arrayBuffer")}async formData(){throw new hCt}get bodyUsed(){return w_e.isDisturbed(this)}get body(){return this[cC]||(this[cC]=gCt(this),this[Tf]&&(this[cC].getReader(),I_e(this[cC].locked))),this[cC]}async dump(t){let r=Number.isFinite(t?.limit)?t.limit:131072,n=t?.signal;if(n!=null&&(typeof n!="object"||!("aborted"in n)))throw new pCt("signal must be an AbortSignal");return n?.throwIfAborted(),this._readableState.closeEmitted?null:await new Promise((i,o)=>{this[v_e]>r&&this.destroy(new qoe);let a=s(()=>{this.destroy(n.reason??new qoe)},"onAbort");n?.addEventListener("abort",a),this.on("close",function(){n?.removeEventListener("abort",a),n?.aborted?o(n.reason??new qoe):i(null)}).on("error",ACt).on("data",function(l){r-=l.length,r<=0&&this.destroy()}).resume()})}};function yCt(e){return e[cC]&&e[cC].locked===!0||e[Tf]}s(yCt,"isLocked");function CCt(e){return w_e.isDisturbed(e)||yCt(e)}s(CCt,"isUnusable");async function xR(e,t){return I_e(!e[Tf]),new Promise((r,n)=>{if(CCt(e)){let i=e._readableState;i.destroyed&&i.closeEmitted===!1?e.on("error",o=>{n(o)}).on("close",()=>{n(new TypeError("unusable"))}):n(i.errored??new TypeError("unusable"))}else queueMicrotask(()=>{e[Tf]={type:t,stream:e,resolve:r,reject:n,length:0,body:[]},e.on("error",function(i){joe(this[Tf],i)}).on("close",function(){this[Tf].body!==null&&joe(this[Tf],new T_e)}),xCt(e[Tf])})})}s(xR,"consume");function xCt(e){if(e.body===null)return;let{_readableState:t}=e.stream;if(t.bufferIndex){let r=t.bufferIndex,n=t.buffer.length;for(let i=r;i<n;i++)Hoe(e,t.buffer[i])}else for(let r of t.buffer)Hoe(e,r);for(t.endEmitted?E_e(this[Tf]):e.stream.on("end",function(){E_e(this[Tf])}),e.stream.resume();e.stream.read()!=null;);}s(xCt,"consumeStart");function Goe(e,t){if(e.length===0||t===0)return"";let r=e.length===1?e[0]:Buffer.concat(e,t),n=r.length,i=n>2&&r[0]===239&&r[1]===187&&r[2]===191?3:0;return r.utf8Slice(i,n)}s(Goe,"chunksDecode");function b_e(e,t){if(e.length===0||t===0)return new Uint8Array(0);if(e.length===1)return new Uint8Array(e[0]);let r=new Uint8Array(Buffer.allocUnsafeSlow(t).buffer),n=0;for(let i=0;i<e.length;++i){let o=e[i];r.set(o,n),n+=o.length}return r}s(b_e,"chunksConcat");function E_e(e){let{type:t,body:r,resolve:n,stream:i,length:o}=e;try{t==="text"?n(Goe(r,o)):t==="json"?n(JSON.parse(Goe(r,o))):t==="arrayBuffer"?n(b_e(r,o).buffer):t==="blob"?n(new Blob(r,{type:i[__e]})):t==="bytes"&&n(b_e(r,o)),joe(e)}catch(a){i.destroy(a)}}s(E_e,"consumeEnd");function Hoe(e,t){e.length+=t.length,e.body.push(t)}s(Hoe,"consumePush");function joe(e,t){e.body!==null&&(t?e.reject(t):e.resolve(),e.type=null,e.stream=null,e.resolve=null,e.reject=null,e.length=0,e.body=null)}s(joe,"consumeFinish");S_e.exports={Readable:Woe,chunksDecode:Goe}});var $oe=H((TGr,P_e)=>{d();var vCt=require("node:assert"),{ResponseStatusCodeError:R_e}=Ao(),{chunksDecode:k_e}=Voe(),bCt=128*1024;async function ECt({callback:e,body:t,contentType:r,statusCode:n,statusMessage:i,headers:o}){vCt(t);let a=[],l=0;try{for await(let m of t)if(a.push(m),l+=m.length,l>bCt){a=[],l=0;break}}catch{a=[],l=0}let c=`Response status code ${n}${i?`: ${i}`:""}`;if(n===204||!r||!l){queueMicrotask(()=>e(new R_e(c,n,o)));return}let u=Error.stackTraceLimit;Error.stackTraceLimit=0;let f;try{B_e(r)?f=JSON.parse(k_e(a,l)):D_e(r)&&(f=k_e(a,l))}catch{}finally{Error.stackTraceLimit=u}queueMicrotask(()=>e(new R_e(c,n,o,f)))}s(ECt,"getResolveErrorBodyCallback");var B_e=s(e=>e.length>15&&e[11]==="/"&&e[0]==="a"&&e[1]==="p"&&e[2]==="p"&&e[3]==="l"&&e[4]==="i"&&e[5]==="c"&&e[6]==="a"&&e[7]==="t"&&e[8]==="i"&&e[9]==="o"&&e[10]==="n"&&e[12]==="j"&&e[13]==="s"&&e[14]==="o"&&e[15]==="n","isContentTypeApplicationJson"),D_e=s(e=>e.length>4&&e[4]==="/"&&e[0]==="t"&&e[1]==="e"&&e[2]==="x"&&e[3]==="t","isContentTypeText");P_e.exports={getResolveErrorBodyCallback:ECt,isContentTypeApplicationJson:B_e,isContentTypeText:D_e}});var F_e=H((SGr,zoe)=>{"use strict";d();var ICt=require("node:assert"),{Readable:TCt}=Voe(),{InvalidArgumentError:D6,RequestAbortedError:N_e}=Ao(),wf=yi(),{getResolveErrorBodyCallback:wCt}=$oe(),{AsyncResource:_Ct}=require("node:async_hooks"),gq=class extends _Ct{static{s(this,"RequestHandler")}constructor(t,r){if(!t||typeof t!="object")throw new D6("invalid opts");let{signal:n,method:i,opaque:o,body:a,onInfo:l,responseHeaders:c,throwOnError:u,highWaterMark:f}=t;try{if(typeof r!="function")throw new D6("invalid callback");if(f&&(typeof f!="number"||f<0))throw new D6("invalid highWaterMark");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new D6("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new D6("invalid method");if(l&&typeof l!="function")throw new D6("invalid onInfo callback");super("UNDICI_REQUEST")}catch(m){throw wf.isStream(a)&&wf.destroy(a.on("error",wf.nop),m),m}this.method=i,this.responseHeaders=c||null,this.opaque=o||null,this.callback=r,this.res=null,this.abort=null,this.body=a,this.trailers={},this.context=null,this.onInfo=l||null,this.throwOnError=u,this.highWaterMark=f,this.signal=n,this.reason=null,this.removeAbortListener=null,wf.isStream(a)&&a.on("error",m=>{this.onError(m)}),this.signal&&(this.signal.aborted?this.reason=this.signal.reason??new N_e:this.removeAbortListener=wf.addAbortListener(this.signal,()=>{this.reason=this.signal.reason??new N_e,this.res?wf.destroy(this.res.on("error",wf.nop),this.reason):this.abort&&this.abort(this.reason),this.removeAbortListener&&(this.res?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}))}onConnect(t,r){if(this.reason){t(this.reason);return}ICt(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{callback:o,opaque:a,abort:l,context:c,responseHeaders:u,highWaterMark:f}=this,m=u==="raw"?wf.parseRawHeaders(r):wf.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:m});return}let h=u==="raw"?wf.parseHeaders(r):m,p=h["content-type"],g=h["content-length"],y=new TCt({resume:n,abort:l,contentType:p,contentLength:this.method!=="HEAD"&&g?Number(g):null,highWaterMark:f});this.removeAbortListener&&y.on("close",this.removeAbortListener),this.callback=null,this.res=y,o!==null&&(this.throwOnError&&t>=400?this.runInAsyncScope(wCt,null,{callback:o,body:y,contentType:p,statusCode:t,statusMessage:i,headers:m}):this.runInAsyncScope(o,null,null,{statusCode:t,headers:m,trailers:this.trailers,opaque:a,body:y,context:c}))}onData(t){return this.res.push(t)}onComplete(t){wf.parseHeaders(t,this.trailers),this.res.push(null)}onError(t){let{res:r,callback:n,body:i,opaque:o}=this;n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:o})})),r&&(this.res=null,queueMicrotask(()=>{wf.destroy(r,t)})),i&&(this.body=null,wf.destroy(i,t)),this.removeAbortListener&&(r?.off("close",this.removeAbortListener),this.removeAbortListener(),this.removeAbortListener=null)}};function L_e(e,t){if(t===void 0)return new Promise((r,n)=>{L_e.call(this,e,(i,o)=>i?n(i):r(o))});try{this.dispatch(e,new gq(e,t))}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}s(L_e,"request");zoe.exports=L_e;zoe.exports.RequestHandler=gq});var vR=H((BGr,O_e)=>{d();var{addAbortListener:SCt}=yi(),{RequestAbortedError:RCt}=Ao(),P6=Symbol("kListener"),bg=Symbol("kSignal");function M_e(e){e.abort?e.abort(e[bg]?.reason):e.reason=e[bg]?.reason??new RCt,Q_e(e)}s(M_e,"abort");function kCt(e,t){if(e.reason=null,e[bg]=null,e[P6]=null,!!t){if(t.aborted){M_e(e);return}e[bg]=t,e[P6]=()=>{M_e(e)},SCt(e[bg],e[P6])}}s(kCt,"addSignal");function Q_e(e){e[bg]&&("removeEventListener"in e[bg]?e[bg].removeEventListener("abort",e[P6]):e[bg].removeListener("abort",e[P6]),e[bg]=null,e[P6]=null)}s(Q_e,"removeSignal");O_e.exports={addSignal:kCt,removeSignal:Q_e}});var G_e=H((NGr,W_e)=>{"use strict";d();var BCt=require("node:assert"),{finished:DCt,PassThrough:PCt}=require("node:stream"),{InvalidArgumentError:N6,InvalidReturnValueError:NCt}=Ao(),Bh=yi(),{getResolveErrorBodyCallback:LCt}=$oe(),{AsyncResource:FCt}=require("node:async_hooks"),{addSignal:MCt,removeSignal:U_e}=vR(),Yoe=class extends FCt{static{s(this,"StreamHandler")}constructor(t,r,n){if(!t||typeof t!="object")throw new N6("invalid opts");let{signal:i,method:o,opaque:a,body:l,onInfo:c,responseHeaders:u,throwOnError:f}=t;try{if(typeof n!="function")throw new N6("invalid callback");if(typeof r!="function")throw new N6("invalid factory");if(i&&typeof i.on!="function"&&typeof i.addEventListener!="function")throw new N6("signal must be an EventEmitter or EventTarget");if(o==="CONNECT")throw new N6("invalid method");if(c&&typeof c!="function")throw new N6("invalid onInfo callback");super("UNDICI_STREAM")}catch(m){throw Bh.isStream(l)&&Bh.destroy(l.on("error",Bh.nop),m),m}this.responseHeaders=u||null,this.opaque=a||null,this.factory=r,this.callback=n,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=l,this.onInfo=c||null,this.throwOnError=f||!1,Bh.isStream(l)&&l.on("error",m=>{this.onError(m)}),MCt(this,i)}onConnect(t,r){if(this.reason){t(this.reason);return}BCt(this.callback),this.abort=t,this.context=r}onHeaders(t,r,n,i){let{factory:o,opaque:a,context:l,callback:c,responseHeaders:u}=this,f=u==="raw"?Bh.parseRawHeaders(r):Bh.parseHeaders(r);if(t<200){this.onInfo&&this.onInfo({statusCode:t,headers:f});return}this.factory=null;let m;if(this.throwOnError&&t>=400){let g=(u==="raw"?Bh.parseHeaders(r):f)["content-type"];m=new PCt,this.callback=null,this.runInAsyncScope(LCt,null,{callback:c,body:m,contentType:g,statusCode:t,statusMessage:i,headers:f})}else{if(o===null)return;if(m=this.runInAsyncScope(o,null,{statusCode:t,headers:f,opaque:a,context:l}),!m||typeof m.write!="function"||typeof m.end!="function"||typeof m.on!="function")throw new NCt("expected Writable");DCt(m,{readable:!1},p=>{let{callback:g,res:y,opaque:x,trailers:b,abort:E}=this;this.res=null,(p||!y.readable)&&Bh.destroy(y,p),this.callback=null,this.runInAsyncScope(g,null,p||null,{opaque:x,trailers:b}),p&&E()})}return m.on("drain",n),this.res=m,(m.writableNeedDrain!==void 0?m.writableNeedDrain:m._writableState?.needDrain)!==!0}onData(t){let{res:r}=this;return r?r.write(t):!0}onComplete(t){let{res:r}=this;U_e(this),r&&(this.trailers=Bh.parseHeaders(t),r.end())}onError(t){let{res:r,callback:n,opaque:i,body:o}=this;U_e(this),this.factory=null,r?(this.res=null,Bh.destroy(r,t)):n&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(n,null,t,{opaque:i})})),o&&(this.body=null,Bh.destroy(o,t))}};function q_e(e,t,r){if(r===void 0)return new Promise((n,i)=>{q_e.call(this,e,t,(o,a)=>o?i(o):n(a))});try{this.dispatch(e,new Yoe(e,t,r))}catch(n){if(typeof r!="function")throw n;let i=e?.opaque;queueMicrotask(()=>r(n,{opaque:i}))}}s(q_e,"stream");W_e.exports=q_e});var $_e=H((MGr,V_e)=>{"use strict";d();var{Readable:j_e,Duplex:QCt,PassThrough:OCt}=require("node:stream"),{InvalidArgumentError:bR,InvalidReturnValueError:UCt,RequestAbortedError:Koe}=Ao(),Zd=yi(),{AsyncResource:qCt}=require("node:async_hooks"),{addSignal:WCt,removeSignal:GCt}=vR(),H_e=require("node:assert"),L6=Symbol("resume"),Joe=class extends j_e{static{s(this,"PipelineRequest")}constructor(){super({autoDestroy:!0}),this[L6]=null}_read(){let{[L6]:t}=this;t&&(this[L6]=null,t())}_destroy(t,r){this._read(),r(t)}},Xoe=class extends j_e{static{s(this,"PipelineResponse")}constructor(t){super({autoDestroy:!0}),this[L6]=t}_read(){this[L6]()}_destroy(t,r){!t&&!this._readableState.endEmitted&&(t=new Koe),r(t)}},Zoe=class extends qCt{static{s(this,"PipelineHandler")}constructor(t,r){if(!t||typeof t!="object")throw new bR("invalid opts");if(typeof r!="function")throw new bR("invalid handler");let{signal:n,method:i,opaque:o,onInfo:a,responseHeaders:l}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new bR("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new bR("invalid method");if(a&&typeof a!="function")throw new bR("invalid onInfo callback");super("UNDICI_PIPELINE"),this.opaque=o||null,this.responseHeaders=l||null,this.handler=r,this.abort=null,this.context=null,this.onInfo=a||null,this.req=new Joe().on("error",Zd.nop),this.ret=new QCt({readableObjectMode:t.objectMode,autoDestroy:!0,read:s(()=>{let{body:c}=this;c?.resume&&c.resume()},"read"),write:s((c,u,f)=>{let{req:m}=this;m.push(c,u)||m._readableState.destroyed?f():m[L6]=f},"write"),destroy:s((c,u)=>{let{body:f,req:m,res:h,ret:p,abort:g}=this;!c&&!p._readableState.endEmitted&&(c=new Koe),g&&c&&g(),Zd.destroy(f,c),Zd.destroy(m,c),Zd.destroy(h,c),GCt(this),u(c)},"destroy")}).on("prefinish",()=>{let{req:c}=this;c.push(null)}),this.res=null,WCt(this,n)}onConnect(t,r){let{ret:n,res:i}=this;if(this.reason){t(this.reason);return}H_e(!i,"pipeline cannot be retried"),H_e(!n.destroyed),this.abort=t,this.context=r}onHeaders(t,r,n){let{opaque:i,handler:o,context:a}=this;if(t<200){if(this.onInfo){let c=this.responseHeaders==="raw"?Zd.parseRawHeaders(r):Zd.parseHeaders(r);this.onInfo({statusCode:t,headers:c})}return}this.res=new Xoe(n);let l;try{this.handler=null;let c=this.responseHeaders==="raw"?Zd.parseRawHeaders(r):Zd.parseHeaders(r);l=this.runInAsyncScope(o,null,{statusCode:t,headers:c,opaque:i,body:this.res,context:a})}catch(c){throw this.res.on("error",Zd.nop),c}if(!l||typeof l.on!="function")throw new UCt("expected Readable");l.on("data",c=>{let{ret:u,body:f}=this;!u.push(c)&&f.pause&&f.pause()}).on("error",c=>{let{ret:u}=this;Zd.destroy(u,c)}).on("end",()=>{let{ret:c}=this;c.push(null)}).on("close",()=>{let{ret:c}=this;c._readableState.ended||Zd.destroy(c,new Koe)}),this.body=l}onData(t){let{res:r}=this;return r.push(t)}onComplete(t){let{res:r}=this;r.push(null)}onError(t){let{ret:r}=this;this.handler=null,Zd.destroy(r,t)}};function HCt(e,t){try{let r=new Zoe(e,t);return this.dispatch({...e,body:r.req},r),r.ret}catch(r){return new OCt().destroy(r)}}s(HCt,"pipeline");V_e.exports=HCt});var Z_e=H((UGr,X_e)=>{"use strict";d();var{InvalidArgumentError:ese,SocketError:jCt}=Ao(),{AsyncResource:VCt}=require("node:async_hooks"),z_e=yi(),{addSignal:$Ct,removeSignal:Y_e}=vR(),K_e=require("node:assert"),tse=class extends VCt{static{s(this,"UpgradeHandler")}constructor(t,r){if(!t||typeof t!="object")throw new ese("invalid opts");if(typeof r!="function")throw new ese("invalid callback");let{signal:n,opaque:i,responseHeaders:o}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new ese("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE"),this.responseHeaders=o||null,this.opaque=i||null,this.callback=r,this.abort=null,this.context=null,$Ct(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}K_e(this.callback),this.abort=t,this.context=null}onHeaders(){throw new jCt("bad upgrade",null)}onUpgrade(t,r,n){K_e(t===101);let{callback:i,opaque:o,context:a}=this;Y_e(this),this.callback=null;let l=this.responseHeaders==="raw"?z_e.parseRawHeaders(r):z_e.parseHeaders(r);this.runInAsyncScope(i,null,null,{headers:l,socket:n,opaque:o,context:a})}onError(t){let{callback:r,opaque:n}=this;Y_e(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function J_e(e,t){if(t===void 0)return new Promise((r,n)=>{J_e.call(this,e,(i,o)=>i?n(i):r(o))});try{let r=new tse(e,t);this.dispatch({...e,method:e.method||"GET",upgrade:e.protocol||"Websocket"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}s(J_e,"upgrade");X_e.exports=J_e});var iSe=H((GGr,nSe)=>{"use strict";d();var zCt=require("node:assert"),{AsyncResource:YCt}=require("node:async_hooks"),{InvalidArgumentError:rse,SocketError:KCt}=Ao(),eSe=yi(),{addSignal:JCt,removeSignal:tSe}=vR(),nse=class extends YCt{static{s(this,"ConnectHandler")}constructor(t,r){if(!t||typeof t!="object")throw new rse("invalid opts");if(typeof r!="function")throw new rse("invalid callback");let{signal:n,opaque:i,responseHeaders:o}=t;if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new rse("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT"),this.opaque=i||null,this.responseHeaders=o||null,this.callback=r,this.abort=null,JCt(this,n)}onConnect(t,r){if(this.reason){t(this.reason);return}zCt(this.callback),this.abort=t,this.context=r}onHeaders(){throw new KCt("bad connect",null)}onUpgrade(t,r,n){let{callback:i,opaque:o,context:a}=this;tSe(this),this.callback=null;let l=r;l!=null&&(l=this.responseHeaders==="raw"?eSe.parseRawHeaders(r):eSe.parseHeaders(r)),this.runInAsyncScope(i,null,null,{statusCode:t,headers:l,socket:n,opaque:o,context:a})}onError(t){let{callback:r,opaque:n}=this;tSe(this),r&&(this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(r,null,t,{opaque:n})}))}};function rSe(e,t){if(t===void 0)return new Promise((r,n)=>{rSe.call(this,e,(i,o)=>i?n(i):r(o))});try{let r=new nse(e,t);this.dispatch({...e,method:"CONNECT"},r)}catch(r){if(typeof t!="function")throw r;let n=e?.opaque;queueMicrotask(()=>t(r,{opaque:n}))}}s(rSe,"connect");nSe.exports=rSe});var oSe=H((VGr,F6)=>{"use strict";d();F6.exports.request=F_e();F6.exports.stream=G_e();F6.exports.pipeline=$_e();F6.exports.upgrade=Z_e();F6.exports.connect=iSe()});var ose=H((zGr,sSe)=>{"use strict";d();var{UndiciError:XCt}=Ao(),ise=class e extends XCt{static{s(this,"MockNotMatchedError")}constructor(t){super(t),Error.captureStackTrace(this,e),this.name="MockNotMatchedError",this.message=t||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}};sSe.exports={MockNotMatchedError:ise}});var M6=H((JGr,aSe)=>{"use strict";d();aSe.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected")}});var ER=H((ZGr,ySe)=>{"use strict";d();var{MockNotMatchedError:rb}=ose(),{kDispatches:Aq,kMockAgent:ZCt,kOriginalDispatch:e3t,kOrigin:t3t,kGetNetConnect:r3t}=M6(),{buildURL:n3t}=yi(),{STATUS_CODES:i3t}=require("node:http"),{types:{isPromise:o3t}}=require("node:util");function MA(e,t){return typeof e=="string"?e===t:e instanceof RegExp?e.test(t):typeof e=="function"?e(t)===!0:!1}s(MA,"matchValue");function cSe(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t.toLocaleLowerCase(),r]))}s(cSe,"lowerCaseEntries");function uSe(e,t){if(Array.isArray(e)){for(let r=0;r<e.length;r+=2)if(e[r].toLocaleLowerCase()===t.toLocaleLowerCase())return e[r+1];return}else return typeof e.get=="function"?e.get(t):cSe(e)[t.toLocaleLowerCase()]}s(uSe,"getHeaderByName");function lse(e){let t=e.slice(),r=[];for(let n=0;n<t.length;n+=2)r.push([t[n],t[n+1]]);return Object.fromEntries(r)}s(lse,"buildHeadersFromArray");function fSe(e,t){if(typeof e.headers=="function")return Array.isArray(t)&&(t=lse(t)),e.headers(t?cSe(t):{});if(typeof e.headers>"u")return!0;if(typeof t!="object"||typeof e.headers!="object")return!1;for(let[r,n]of Object.entries(e.headers)){let i=uSe(t,r);if(!MA(n,i))return!1}return!0}s(fSe,"matchHeaders");function lSe(e){if(typeof e!="string")return e;let t=e.split("?");if(t.length!==2)return e;let r=new URLSearchParams(t.pop());return r.sort(),[...t,r.toString()].join("?")}s(lSe,"safeUrl");function s3t(e,{path:t,method:r,body:n,headers:i}){let o=MA(e.path,t),a=MA(e.method,r),l=typeof e.body<"u"?MA(e.body,n):!0,c=fSe(e,i);return o&&a&&l&&c}s(s3t,"matchKey");function dSe(e){return Buffer.isBuffer(e)||e instanceof Uint8Array||e instanceof ArrayBuffer?e:typeof e=="object"?JSON.stringify(e):e.toString()}s(dSe,"getResponseData");function mSe(e,t){let r=t.query?n3t(t.path,t.query):t.path,n=typeof r=="string"?lSe(r):r,i=e.filter(({consumed:o})=>!o).filter(({path:o})=>MA(lSe(o),n));if(i.length===0)throw new rb(`Mock dispatch not matched for path '${n}'`);if(i=i.filter(({method:o})=>MA(o,t.method)),i.length===0)throw new rb(`Mock dispatch not matched for method '${t.method}' on path '${n}'`);if(i=i.filter(({body:o})=>typeof o<"u"?MA(o,t.body):!0),i.length===0)throw new rb(`Mock dispatch not matched for body '${t.body}' on path '${n}'`);if(i=i.filter(o=>fSe(o,t.headers)),i.length===0){let o=typeof t.headers=="object"?JSON.stringify(t.headers):t.headers;throw new rb(`Mock dispatch not matched for headers '${o}' on path '${n}'`)}return i[0]}s(mSe,"getMockDispatch");function a3t(e,t,r){let n={timesInvoked:0,times:1,persist:!1,consumed:!1},i=typeof r=="function"?{callback:r}:{...r},o={...n,...t,pending:!0,data:{error:null,...i}};return e.push(o),o}s(a3t,"addMockDispatch");function sse(e,t){let r=e.findIndex(n=>n.consumed?s3t(n,t):!1);r!==-1&&e.splice(r,1)}s(sse,"deleteMockDispatch");function hSe(e){let{path:t,method:r,body:n,headers:i,query:o}=e;return{path:t,method:r,body:n,headers:i,query:o}}s(hSe,"buildKey");function ase(e){let t=Object.keys(e),r=[];for(let n=0;n<t.length;++n){let i=t[n],o=e[i],a=Buffer.from(`${i}`);if(Array.isArray(o))for(let l=0;l<o.length;++l)r.push(a,Buffer.from(`${o[l]}`));else r.push(a,Buffer.from(`${o}`))}return r}s(ase,"generateKeyValues");function pSe(e){return i3t[e]||"unknown"}s(pSe,"getStatusText");async function l3t(e){let t=[];for await(let r of e)t.push(r);return Buffer.concat(t).toString("utf8")}s(l3t,"getResponse");function gSe(e,t){let r=hSe(e),n=mSe(this[Aq],r);n.timesInvoked++,n.data.callback&&(n.data={...n.data,...n.data.callback(e)});let{data:{statusCode:i,data:o,headers:a,trailers:l,error:c},delay:u,persist:f}=n,{timesInvoked:m,times:h}=n;if(n.consumed=!f&&m>=h,n.pending=m<h,c!==null)return sse(this[Aq],r),t.onError(c),!0;typeof u=="number"&&u>0?setTimeout(()=>{p(this[Aq])},u):p(this[Aq]);function p(y,x=o){let b=Array.isArray(e.headers)?lse(e.headers):e.headers,E=typeof x=="function"?x({...e,headers:b}):x;if(o3t(E)){E.then(N=>p(y,N));return}let _=dSe(E),k=ase(a),B=ase(l);t.onConnect?.(N=>t.onError(N),null),t.onHeaders?.(i,k,g,pSe(i)),t.onData?.(Buffer.from(_)),t.onComplete?.(B),sse(y,r)}s(p,"handleReply");function g(){}return s(g,"resume"),!0}s(gSe,"mockDispatch");function c3t(){let e=this[ZCt],t=this[t3t],r=this[e3t];return s(function(i,o){if(e.isMockActive)try{gSe.call(this,i,o)}catch(a){if(a instanceof rb){let l=e[r3t]();if(l===!1)throw new rb(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect disabled)`);if(ASe(l,t))r.call(this,i,o);else throw new rb(`${a.message}: subsequent request to origin ${t} was not allowed (net.connect is not enabled for this origin)`)}else throw a}else r.call(this,i,o)},"dispatch")}s(c3t,"buildMockDispatch");function ASe(e,t){let r=new URL(t);return e===!0?!0:!!(Array.isArray(e)&&e.some(n=>MA(n,r.host)))}s(ASe,"checkNetConnect");function u3t(e){if(e){let{agent:t,...r}=e;return r}}s(u3t,"buildMockOptions");ySe.exports={getResponseData:dSe,getMockDispatch:mSe,addMockDispatch:a3t,deleteMockDispatch:sse,buildKey:hSe,generateKeyValues:ase,matchValue:MA,getResponse:l3t,getStatusText:pSe,mockDispatch:gSe,buildMockDispatch:c3t,checkNetConnect:ASe,buildMockOptions:u3t,getHeaderByName:uSe,buildHeadersFromArray:lse}});var pse=H((rHr,hse)=>{"use strict";d();var{getResponseData:f3t,buildKey:d3t,addMockDispatch:cse}=ER(),{kDispatches:yq,kDispatchKey:Cq,kDefaultHeaders:use,kDefaultTrailers:fse,kContentLength:dse,kMockDispatch:xq}=M6(),{InvalidArgumentError:Eg}=Ao(),{buildURL:m3t}=yi(),Q6=class{static{s(this,"MockScope")}constructor(t){this[xq]=t}delay(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new Eg("waitInMs must be a valid integer > 0");return this[xq].delay=t,this}persist(){return this[xq].persist=!0,this}times(t){if(typeof t!="number"||!Number.isInteger(t)||t<=0)throw new Eg("repeatTimes must be a valid integer > 0");return this[xq].times=t,this}},mse=class{static{s(this,"MockInterceptor")}constructor(t,r){if(typeof t!="object")throw new Eg("opts must be an object");if(typeof t.path>"u")throw new Eg("opts.path must be defined");if(typeof t.method>"u"&&(t.method="GET"),typeof t.path=="string")if(t.query)t.path=m3t(t.path,t.query);else{let n=new URL(t.path,"data://");t.path=n.pathname+n.search}typeof t.method=="string"&&(t.method=t.method.toUpperCase()),this[Cq]=d3t(t),this[yq]=r,this[use]={},this[fse]={},this[dse]=!1}createMockScopeDispatchData({statusCode:t,data:r,responseOptions:n}){let i=f3t(r),o=this[dse]?{"content-length":i.length}:{},a={...this[use],...o,...n.headers},l={...this[fse],...n.trailers};return{statusCode:t,data:r,headers:a,trailers:l}}validateReplyParameters(t){if(typeof t.statusCode>"u")throw new Eg("statusCode must be defined");if(typeof t.responseOptions!="object"||t.responseOptions===null)throw new Eg("responseOptions must be an object")}reply(t){if(typeof t=="function"){let o=s(l=>{let c=t(l);if(typeof c!="object"||c===null)throw new Eg("reply options callback must return an object");let u={data:"",responseOptions:{},...c};return this.validateReplyParameters(u),{...this.createMockScopeDispatchData(u)}},"wrappedDefaultsCallback"),a=cse(this[yq],this[Cq],o);return new Q6(a)}let r={statusCode:t,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(r);let n=this.createMockScopeDispatchData(r),i=cse(this[yq],this[Cq],n);return new Q6(i)}replyWithError(t){if(typeof t>"u")throw new Eg("error must be defined");let r=cse(this[yq],this[Cq],{error:t});return new Q6(r)}defaultReplyHeaders(t){if(typeof t>"u")throw new Eg("headers must be defined");return this[use]=t,this}defaultReplyTrailers(t){if(typeof t>"u")throw new Eg("trailers must be defined");return this[fse]=t,this}replyContentLength(){return this[dse]=!0,this}};hse.exports.MockInterceptor=mse;hse.exports.MockScope=Q6});var yse=H((oHr,TSe)=>{"use strict";d();var{promisify:h3t}=require("node:util"),p3t=fR(),{buildMockDispatch:g3t}=ER(),{kDispatches:CSe,kMockAgent:xSe,kClose:vSe,kOriginalClose:bSe,kOrigin:ESe,kOriginalDispatch:A3t,kConnected:gse}=M6(),{MockInterceptor:y3t}=pse(),ISe=Qs(),{InvalidArgumentError:C3t}=Ao(),Ase=class extends p3t{static{s(this,"MockClient")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new C3t("Argument opts.agent must implement Agent");this[xSe]=r.agent,this[ESe]=t,this[CSe]=[],this[gse]=1,this[A3t]=this.dispatch,this[bSe]=this.close.bind(this),this.dispatch=g3t.call(this),this.close=this[vSe]}get[ISe.kConnected](){return this[gse]}intercept(t){return new y3t(t,this[CSe])}async[vSe](){await h3t(this[bSe])(),this[gse]=0,this[xSe][ISe.kClients].delete(this[ESe])}};TSe.exports=Ase});var vse=H((lHr,DSe)=>{"use strict";d();var{promisify:x3t}=require("node:util"),v3t=R6(),{buildMockDispatch:b3t}=ER(),{kDispatches:wSe,kMockAgent:_Se,kClose:SSe,kOriginalClose:RSe,kOrigin:kSe,kOriginalDispatch:E3t,kConnected:Cse}=M6(),{MockInterceptor:I3t}=pse(),BSe=Qs(),{InvalidArgumentError:T3t}=Ao(),xse=class extends v3t{static{s(this,"MockPool")}constructor(t,r){if(super(t,r),!r||!r.agent||typeof r.agent.dispatch!="function")throw new T3t("Argument opts.agent must implement Agent");this[_Se]=r.agent,this[kSe]=t,this[wSe]=[],this[Cse]=1,this[E3t]=this.dispatch,this[RSe]=this.close.bind(this),this.dispatch=b3t.call(this),this.close=this[SSe]}get[BSe.kConnected](){return this[Cse]}intercept(t){return new I3t(t,this[wSe])}async[SSe](){await x3t(this[RSe])(),this[Cse]=0,this[_Se][BSe.kClients].delete(this[kSe])}};DSe.exports=xse});var NSe=H((dHr,PSe)=>{"use strict";d();var w3t={pronoun:"it",is:"is",was:"was",this:"this"},_3t={pronoun:"they",is:"are",was:"were",this:"these"};PSe.exports=class{static{s(this,"Pluralizer")}constructor(t,r){this.singular=t,this.plural=r}pluralize(t){let r=t===1,n=r?w3t:_3t,i=r?this.singular:this.plural;return{...n,count:t,noun:i}}}});var FSe=H((gHr,LSe)=>{"use strict";d();var{Transform:S3t}=require("node:stream"),{Console:R3t}=require("node:console"),k3t=process.versions.icu?"\u2705":"Y ",B3t=process.versions.icu?"\u274C":"N ";LSe.exports=class{static{s(this,"PendingInterceptorsFormatter")}constructor({disableColors:t}={}){this.transform=new S3t({transform(r,n,i){i(null,r)}}),this.logger=new R3t({stdout:this.transform,inspectOptions:{colors:!t&&!process.env.CI}})}format(t){let r=t.map(({method:n,path:i,data:{statusCode:o},persist:a,times:l,timesInvoked:c,origin:u})=>({Method:n,Origin:u,Path:i,"Status code":o,Persistent:a?k3t:B3t,Invocations:c,Remaining:a?1/0:l-c}));return this.logger.table(r),this.transform.read().toString()}}});var USe=H((CHr,OSe)=>{"use strict";d();var{kClients:nb}=Qs(),D3t=k6(),{kAgent:bse,kMockAgentSet:vq,kMockAgentGet:MSe,kDispatches:Ese,kIsMockActive:bq,kNetConnect:ib,kGetNetConnect:P3t,kOptions:Eq,kFactory:Iq}=M6(),N3t=yse(),L3t=vse(),{matchValue:F3t,buildMockOptions:M3t}=ER(),{InvalidArgumentError:QSe,UndiciError:Q3t}=Ao(),O3t=GS(),U3t=NSe(),q3t=FSe(),Ise=class extends O3t{static{s(this,"MockAgent")}constructor(t){if(super(t),this[ib]=!0,this[bq]=!0,t?.agent&&typeof t.agent.dispatch!="function")throw new QSe("Argument opts.agent must implement Agent");let r=t?.agent?t.agent:new D3t(t);this[bse]=r,this[nb]=r[nb],this[Eq]=M3t(t)}get(t){let r=this[MSe](t);return r||(r=this[Iq](t),this[vq](t,r)),r}dispatch(t,r){return this.get(t.origin),this[bse].dispatch(t,r)}async close(){await this[bse].close(),this[nb].clear()}deactivate(){this[bq]=!1}activate(){this[bq]=!0}enableNetConnect(t){if(typeof t=="string"||typeof t=="function"||t instanceof RegExp)Array.isArray(this[ib])?this[ib].push(t):this[ib]=[t];else if(typeof t>"u")this[ib]=!0;else throw new QSe("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[ib]=!1}get isMockActive(){return this[bq]}[vq](t,r){this[nb].set(t,r)}[Iq](t){let r=Object.assign({agent:this},this[Eq]);return this[Eq]&&this[Eq].connections===1?new N3t(t,r):new L3t(t,r)}[MSe](t){let r=this[nb].get(t);if(r)return r;if(typeof t!="string"){let n=this[Iq]("http://localhost:9999");return this[vq](t,n),n}for(let[n,i]of Array.from(this[nb]))if(i&&typeof n!="string"&&F3t(n,t)){let o=this[Iq](t);return this[vq](t,o),o[Ese]=i[Ese],o}}[P3t](){return this[ib]}pendingInterceptors(){let t=this[nb];return Array.from(t.entries()).flatMap(([r,n])=>n[Ese].map(i=>({...i,origin:r}))).filter(({pending:r})=>r)}assertNoPendingInterceptors({pendingInterceptorsFormatter:t=new q3t}={}){let r=this.pendingInterceptors();if(r.length===0)return;let n=new U3t("interceptor","interceptors").pluralize(r.length);throw new Q3t(`
${n.count} ${n.noun} ${n.is} pending:

${t.format(r)}
`.trim())}};OSe.exports=Ise});var Tq=H((bHr,HSe)=>{"use strict";d();var qSe=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:W3t}=Ao(),G3t=k6();GSe()===void 0&&WSe(new G3t);function WSe(e){if(!e||typeof e.dispatch!="function")throw new W3t("Argument agent must implement Agent");Object.defineProperty(globalThis,qSe,{value:e,writable:!0,enumerable:!1,configurable:!1})}s(WSe,"setGlobalDispatcher");function GSe(){return globalThis[qSe]}s(GSe,"getGlobalDispatcher");HSe.exports={setGlobalDispatcher:WSe,getGlobalDispatcher:GSe}});var wq=H((wHr,jSe)=>{"use strict";d();jSe.exports=class{static{s(this,"DecoratorHandler")}#e;constructor(t){if(typeof t!="object"||t===null)throw new TypeError("handler must be an object");this.#e=t}onConnect(...t){return this.#e.onConnect?.(...t)}onError(...t){return this.#e.onError?.(...t)}onUpgrade(...t){return this.#e.onUpgrade?.(...t)}onResponseStarted(...t){return this.#e.onResponseStarted?.(...t)}onHeaders(...t){return this.#e.onHeaders?.(...t)}onData(...t){return this.#e.onData?.(...t)}onComplete(...t){return this.#e.onComplete?.(...t)}onBodySent(...t){return this.#e.onBodySent?.(...t)}}});var $Se=H((RHr,VSe)=>{"use strict";d();var H3t=nq();VSe.exports=e=>{let t=e?.maxRedirections;return r=>s(function(i,o){let{maxRedirections:a=t,...l}=i;if(!a)return r(i,o);let c=new H3t(r,a,i,o);return r(l,c)},"redirectInterceptor")}});var YSe=H((DHr,zSe)=>{"use strict";d();var j3t=pq();zSe.exports=e=>t=>s(function(n,i){return t(n,new j3t({...n,retryOptions:{...e,...n.retryOptions}},{handler:i,dispatch:t}))},"retryInterceptor")});var JSe=H((LHr,KSe)=>{"use strict";d();var V3t=yi(),{InvalidArgumentError:$3t,RequestAbortedError:z3t}=Ao(),Y3t=wq(),Tse=class extends Y3t{static{s(this,"DumpHandler")}#e=1024*1024;#t=null;#i=!1;#n=!1;#r=0;#o=null;#s=null;constructor({maxSize:t},r){if(super(r),t!=null&&(!Number.isFinite(t)||t<1))throw new $3t("maxSize must be a number greater than 0");this.#e=t??this.#e,this.#s=r}onConnect(t){this.#t=t,this.#s.onConnect(this.#a.bind(this))}#a(t){this.#n=!0,this.#o=t}onHeaders(t,r,n,i){let a=V3t.parseHeaders(r)["content-length"];if(a!=null&&a>this.#e)throw new z3t(`Response size (${a}) larger than maxSize (${this.#e})`);return this.#n?!0:this.#s.onHeaders(t,r,n,i)}onError(t){this.#i||(t=this.#o??t,this.#s.onError(t))}onData(t){return this.#r=this.#r+t.length,this.#r>=this.#e&&(this.#i=!0,this.#n?this.#s.onError(this.#o):this.#s.onComplete([])),!0}onComplete(t){if(!this.#i){if(this.#n){this.#s.onError(this.reason);return}this.#s.onComplete(t)}}};function K3t({maxSize:e}={maxSize:1024*1024}){return t=>s(function(n,i){let{dumpMaxSize:o=e}=n,a=new Tse({maxSize:o},i);return t(n,a)},"Intercept")}s(K3t,"createDumpInterceptor");KSe.exports=K3t});var eRe=H((QHr,ZSe)=>{"use strict";d();var{isIP:J3t}=require("node:net"),{lookup:X3t}=require("node:dns"),Z3t=wq(),{InvalidArgumentError:O6,InformationalError:ext}=Ao(),XSe=Math.pow(2,31)-1,wse=class{static{s(this,"DNSInstance")}#e=0;#t=0;#i=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(t){this.#e=t.maxTTL,this.#t=t.maxItems,this.dualStack=t.dualStack,this.affinity=t.affinity,this.lookup=t.lookup??this.#n,this.pick=t.pick??this.#r}get full(){return this.#i.size===this.#t}runLookup(t,r,n){let i=this.#i.get(t.hostname);if(i==null&&this.full){n(null,t.origin);return}let o={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...r.dns,maxTTL:this.#e,maxItems:this.#t};if(i==null)this.lookup(t,o,(a,l)=>{if(a||l==null||l.length===0){n(a??new ext("No DNS entries found"));return}this.setRecords(t,l);let c=this.#i.get(t.hostname),u=this.pick(t,c,o.affinity),f;typeof u.port=="number"?f=`:${u.port}`:t.port!==""?f=`:${t.port}`:f="",n(null,`${t.protocol}//${u.family===6?`[${u.address}]`:u.address}${f}`)});else{let a=this.pick(t,i,o.affinity);if(a==null){this.#i.delete(t.hostname),this.runLookup(t,r,n);return}let l;typeof a.port=="number"?l=`:${a.port}`:t.port!==""?l=`:${t.port}`:l="",n(null,`${t.protocol}//${a.family===6?`[${a.address}]`:a.address}${l}`)}}#n(t,r,n){X3t(t.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(i,o)=>{if(i)return n(i);let a=new Map;for(let l of o)a.set(`${l.address}:${l.family}`,l);n(null,a.values())})}#r(t,r,n){let i=null,{records:o,offset:a}=r,l;if(this.dualStack?(n==null&&(a==null||a===XSe?(r.offset=0,n=4):(r.offset++,n=(r.offset&1)===1?6:4)),o[n]!=null&&o[n].ips.length>0?l=o[n]:l=o[n===4?6:4]):l=o[n],l==null||l.ips.length===0)return i;l.offset==null||l.offset===XSe?l.offset=0:l.offset++;let c=l.offset%l.ips.length;return i=l.ips[c]??null,i==null?i:Date.now()-i.timestamp>i.ttl?(l.ips.splice(c,1),this.pick(t,r,n)):i}setRecords(t,r){let n=Date.now(),i={records:{4:null,6:null}};for(let o of r){o.timestamp=n,typeof o.ttl=="number"?o.ttl=Math.min(o.ttl,this.#e):o.ttl=this.#e;let a=i.records[o.family]??{ips:[]};a.ips.push(o),i.records[o.family]=a}this.#i.set(t.hostname,i)}getHandler(t,r){return new _se(this,t,r)}},_se=class extends Z3t{static{s(this,"DNSDispatchHandler")}#e=null;#t=null;#i=null;#n=null;#r=null;constructor(t,{origin:r,handler:n,dispatch:i},o){super(n),this.#r=r,this.#n=n,this.#t={...o},this.#e=t,this.#i=i}onError(t){switch(t.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#e.dualStack){this.#e.runLookup(this.#r,this.#t,(r,n)=>{if(r)return this.#n.onError(r);let i={...this.#t,origin:n};this.#i(i,this)});return}this.#n.onError(t);return}case"ENOTFOUND":this.#e.deleteRecord(this.#r);default:this.#n.onError(t);break}}};ZSe.exports=e=>{if(e?.maxTTL!=null&&(typeof e?.maxTTL!="number"||e?.maxTTL<0))throw new O6("Invalid maxTTL. Must be a positive number");if(e?.maxItems!=null&&(typeof e?.maxItems!="number"||e?.maxItems<1))throw new O6("Invalid maxItems. Must be a positive number and greater than zero");if(e?.affinity!=null&&e?.affinity!==4&&e?.affinity!==6)throw new O6("Invalid affinity. Must be either 4 or 6");if(e?.dualStack!=null&&typeof e?.dualStack!="boolean")throw new O6("Invalid dualStack. Must be a boolean");if(e?.lookup!=null&&typeof e?.lookup!="function")throw new O6("Invalid lookup. Must be a function");if(e?.pick!=null&&typeof e?.pick!="function")throw new O6("Invalid pick. Must be a function");let t=e?.dualStack??!0,r;t?r=e?.affinity??null:r=e?.affinity??4;let n={maxTTL:e?.maxTTL??1e4,lookup:e?.lookup??null,pick:e?.pick??null,dualStack:t,affinity:r,maxItems:e?.maxItems??1/0},i=new wse(n);return o=>s(function(l,c){let u=l.origin.constructor===URL?l.origin:new URL(l.origin);return J3t(u.hostname)!==0?o(l,c):(i.runLookup(u,l,(f,m)=>{if(f)return c.onError(f);let h=null;h={...l,servername:u.hostname,origin:m,headers:{host:u.hostname,...l.headers}},o(h,i.getHandler({origin:u,dispatch:o,handler:c},l))}),!0)},"dnsInterceptor")}});var ob=H((qHr,aRe)=>{"use strict";d();var{kConstruct:txt}=Qs(),{kEnumerableProperty:U6}=yi(),{iteratorMixin:rxt,isValidHeaderName:IR,isValidHeaderValue:rRe}=If(),{webidl:Ji}=dc(),Sse=require("node:assert"),_q=require("node:util"),Ka=Symbol("headers map"),_f=Symbol("headers map sorted");function tRe(e){return e===10||e===13||e===9||e===32}s(tRe,"isHTTPWhiteSpaceCharCode");function nRe(e){let t=0,r=e.length;for(;r>t&&tRe(e.charCodeAt(r-1));)--r;for(;r>t&&tRe(e.charCodeAt(t));)++t;return t===0&&r===e.length?e:e.substring(t,r)}s(nRe,"headerValueNormalize");function iRe(e,t){if(Array.isArray(t))for(let r=0;r<t.length;++r){let n=t[r];if(n.length!==2)throw Ji.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${n.length}.`});Rse(e,n[0],n[1])}else if(typeof t=="object"&&t!==null){let r=Object.keys(t);for(let n=0;n<r.length;++n)Rse(e,r[n],t[r[n]])}else throw Ji.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}s(iRe,"fill");function Rse(e,t,r){if(r=nRe(r),IR(t)){if(!rRe(r))throw Ji.errors.invalidArgument({prefix:"Headers.append",value:r,type:"header value"})}else throw Ji.errors.invalidArgument({prefix:"Headers.append",value:t,type:"header name"});if(sRe(e)==="immutable")throw new TypeError("immutable");return kse(e).append(t,r,!1)}s(Rse,"appendHeader");function oRe(e,t){return e[0]<t[0]?-1:1}s(oRe,"compareHeaderName");var Sq=class e{static{s(this,"HeadersList")}cookies=null;constructor(t){t instanceof e?(this[Ka]=new Map(t[Ka]),this[_f]=t[_f],this.cookies=t.cookies===null?null:[...t.cookies]):(this[Ka]=new Map(t),this[_f]=null)}contains(t,r){return this[Ka].has(r?t:t.toLowerCase())}clear(){this[Ka].clear(),this[_f]=null,this.cookies=null}append(t,r,n){this[_f]=null;let i=n?t:t.toLowerCase(),o=this[Ka].get(i);if(o){let a=i==="cookie"?"; ":", ";this[Ka].set(i,{name:o.name,value:`${o.value}${a}${r}`})}else this[Ka].set(i,{name:t,value:r});i==="set-cookie"&&(this.cookies??=[]).push(r)}set(t,r,n){this[_f]=null;let i=n?t:t.toLowerCase();i==="set-cookie"&&(this.cookies=[r]),this[Ka].set(i,{name:t,value:r})}delete(t,r){this[_f]=null,r||(t=t.toLowerCase()),t==="set-cookie"&&(this.cookies=null),this[Ka].delete(t)}get(t,r){return this[Ka].get(r?t:t.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:t,1:{value:r}}of this[Ka])yield[t,r]}get entries(){let t={};if(this[Ka].size!==0)for(let{name:r,value:n}of this[Ka].values())t[r]=n;return t}rawValues(){return this[Ka].values()}get entriesList(){let t=[];if(this[Ka].size!==0)for(let{0:r,1:{name:n,value:i}}of this[Ka])if(r==="set-cookie")for(let o of this.cookies)t.push([n,o]);else t.push([n,i]);return t}toSortedArray(){let t=this[Ka].size,r=new Array(t);if(t<=32){if(t===0)return r;let n=this[Ka][Symbol.iterator](),i=n.next().value;r[0]=[i[0],i[1].value],Sse(i[1].value!==null);for(let o=1,a=0,l=0,c=0,u=0,f,m;o<t;++o){for(m=n.next().value,f=r[o]=[m[0],m[1].value],Sse(f[1]!==null),c=0,l=o;c<l;)u=c+(l-c>>1),r[u][0]<=f[0]?c=u+1:l=u;if(o!==u){for(a=o;a>c;)r[a]=r[--a];r[c]=f}}if(!n.next().done)throw new TypeError("Unreachable");return r}else{let n=0;for(let{0:i,1:{value:o}}of this[Ka])r[n++]=[i,o],Sse(o!==null);return r.sort(oRe)}}},Dh=class e{static{s(this,"Headers")}#e;#t;constructor(t=void 0){Ji.util.markAsUncloneable(this),t!==txt&&(this.#t=new Sq,this.#e="none",t!==void 0&&(t=Ji.converters.HeadersInit(t,"Headers contructor","init"),iRe(this,t)))}append(t,r){Ji.brandCheck(this,e),Ji.argumentLengthCheck(arguments,2,"Headers.append");let n="Headers.append";return t=Ji.converters.ByteString(t,n,"name"),r=Ji.converters.ByteString(r,n,"value"),Rse(this,t,r)}delete(t){if(Ji.brandCheck(this,e),Ji.argumentLengthCheck(arguments,1,"Headers.delete"),t=Ji.converters.ByteString(t,"Headers.delete","name"),!IR(t))throw Ji.errors.invalidArgument({prefix:"Headers.delete",value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.contains(t,!1)&&this.#t.delete(t,!1)}get(t){Ji.brandCheck(this,e),Ji.argumentLengthCheck(arguments,1,"Headers.get");let r="Headers.get";if(t=Ji.converters.ByteString(t,r,"name"),!IR(t))throw Ji.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.get(t,!1)}has(t){Ji.brandCheck(this,e),Ji.argumentLengthCheck(arguments,1,"Headers.has");let r="Headers.has";if(t=Ji.converters.ByteString(t,r,"name"),!IR(t))throw Ji.errors.invalidArgument({prefix:r,value:t,type:"header name"});return this.#t.contains(t,!1)}set(t,r){Ji.brandCheck(this,e),Ji.argumentLengthCheck(arguments,2,"Headers.set");let n="Headers.set";if(t=Ji.converters.ByteString(t,n,"name"),r=Ji.converters.ByteString(r,n,"value"),r=nRe(r),IR(t)){if(!rRe(r))throw Ji.errors.invalidArgument({prefix:n,value:r,type:"header value"})}else throw Ji.errors.invalidArgument({prefix:n,value:t,type:"header name"});if(this.#e==="immutable")throw new TypeError("immutable");this.#t.set(t,r,!1)}getSetCookie(){Ji.brandCheck(this,e);let t=this.#t.cookies;return t?[...t]:[]}get[_f](){if(this.#t[_f])return this.#t[_f];let t=[],r=this.#t.toSortedArray(),n=this.#t.cookies;if(n===null||n.length===1)return this.#t[_f]=r;for(let i=0;i<r.length;++i){let{0:o,1:a}=r[i];if(o==="set-cookie")for(let l=0;l<n.length;++l)t.push([o,n[l]]);else t.push([o,a])}return this.#t[_f]=t}[_q.inspect.custom](t,r){return r.depth??=t,`Headers ${_q.formatWithOptions(r,this.#t.entries)}`}static getHeadersGuard(t){return t.#e}static setHeadersGuard(t,r){t.#e=r}static getHeadersList(t){return t.#t}static setHeadersList(t,r){t.#t=r}},{getHeadersGuard:sRe,setHeadersGuard:nxt,getHeadersList:kse,setHeadersList:ixt}=Dh;Reflect.deleteProperty(Dh,"getHeadersGuard");Reflect.deleteProperty(Dh,"setHeadersGuard");Reflect.deleteProperty(Dh,"getHeadersList");Reflect.deleteProperty(Dh,"setHeadersList");rxt("Headers",Dh,_f,0,1);Object.defineProperties(Dh.prototype,{append:U6,delete:U6,get:U6,has:U6,set:U6,getSetCookie:U6,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[_q.inspect.custom]:{enumerable:!1}});Ji.converters.HeadersInit=function(e,t,r){if(Ji.util.Type(e)==="Object"){let n=Reflect.get(e,Symbol.iterator);if(!_q.types.isProxy(e)&&n===Dh.prototype.entries)try{return kse(e).entriesList}catch{}return typeof n=="function"?Ji.converters["sequence<sequence<ByteString>>"](e,t,r,n.bind(e)):Ji.converters["record<ByteString, ByteString>"](e,t,r)}throw Ji.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};aRe.exports={fill:iRe,compareHeaderName:oRe,Headers:Dh,HeadersList:Sq,getHeadersGuard:sRe,setHeadersGuard:nxt,setHeadersList:ixt,getHeadersList:kse}});var wR=H((HHr,ARe)=>{"use strict";d();var{Headers:mRe,HeadersList:lRe,fill:oxt,getHeadersGuard:sxt,setHeadersGuard:hRe,setHeadersList:pRe}=ob(),{extractBody:cRe,cloneBody:axt,mixinBody:lxt,hasFinalizationRegistry:cxt,streamRegistry:uxt,bodyUnusable:fxt}=b6(),Bse=yi(),uRe=require("node:util"),{kEnumerableProperty:Sf}=Bse,{isValidReasonPhrase:dxt,isCancelled:mxt,isAborted:hxt,isBlobLike:pxt,serializeJavascriptValueToJSONString:gxt,isErrorLike:Axt,isomorphicEncode:yxt,environmentSettingsObject:Cxt}=If(),{redirectStatusSet:xxt,nullBodyStatus:vxt}=VS(),{kState:la,kHeaders:QA}=Z5(),{webidl:oi}=dc(),{FormData:bxt}=XS(),{URLSerializer:fRe}=pu(),{kConstruct:kq}=Qs(),Dse=require("node:assert"),{types:Ext}=require("node:util"),Ixt=new TextEncoder("utf-8"),sb=class e{static{s(this,"Response")}static error(){return TR(Bq(),"immutable")}static json(t,r={}){oi.argumentLengthCheck(arguments,1,"Response.json"),r!==null&&(r=oi.converters.ResponseInit(r));let n=Ixt.encode(gxt(t)),i=cRe(n),o=TR(q6({}),"response");return dRe(o,r,{body:i[0],type:"application/json"}),o}static redirect(t,r=302){oi.argumentLengthCheck(arguments,1,"Response.redirect"),t=oi.converters.USVString(t),r=oi.converters["unsigned short"](r);let n;try{n=new URL(t,Cxt.settingsObject.baseUrl)}catch(a){throw new TypeError(`Failed to parse URL from ${t}`,{cause:a})}if(!xxt.has(r))throw new RangeError(`Invalid status code ${r}`);let i=TR(q6({}),"immutable");i[la].status=r;let o=yxt(fRe(n));return i[la].headersList.append("location",o,!0),i}constructor(t=null,r={}){if(oi.util.markAsUncloneable(this),t===kq)return;t!==null&&(t=oi.converters.BodyInit(t)),r=oi.converters.ResponseInit(r),this[la]=q6({}),this[QA]=new mRe(kq),hRe(this[QA],"response"),pRe(this[QA],this[la].headersList);let n=null;if(t!=null){let[i,o]=cRe(t);n={body:i,type:o}}dRe(this,r,n)}get type(){return oi.brandCheck(this,e),this[la].type}get url(){oi.brandCheck(this,e);let t=this[la].urlList,r=t[t.length-1]??null;return r===null?"":fRe(r,!0)}get redirected(){return oi.brandCheck(this,e),this[la].urlList.length>1}get status(){return oi.brandCheck(this,e),this[la].status}get ok(){return oi.brandCheck(this,e),this[la].status>=200&&this[la].status<=299}get statusText(){return oi.brandCheck(this,e),this[la].statusText}get headers(){return oi.brandCheck(this,e),this[QA]}get body(){return oi.brandCheck(this,e),this[la].body?this[la].body.stream:null}get bodyUsed(){return oi.brandCheck(this,e),!!this[la].body&&Bse.isDisturbed(this[la].body.stream)}clone(){if(oi.brandCheck(this,e),fxt(this))throw oi.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let t=Pse(this[la]);return TR(t,sxt(this[QA]))}[uRe.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${uRe.formatWithOptions(r,n)}`}};lxt(sb);Object.defineProperties(sb.prototype,{type:Sf,url:Sf,status:Sf,ok:Sf,redirected:Sf,statusText:Sf,headers:Sf,clone:Sf,body:Sf,bodyUsed:Sf,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(sb,{json:Sf,redirect:Sf,error:Sf});function Pse(e){if(e.internalResponse)return gRe(Pse(e.internalResponse),e.type);let t=q6({...e,body:null});return e.body!=null&&(t.body=axt(t,e.body)),t}s(Pse,"cloneResponse");function q6(e){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...e,headersList:e?.headersList?new lRe(e?.headersList):new lRe,urlList:e?.urlList?[...e.urlList]:[]}}s(q6,"makeResponse");function Bq(e){let t=Axt(e);return q6({type:"error",status:0,error:t?e:new Error(e&&String(e)),aborted:e&&e.name==="AbortError"})}s(Bq,"makeNetworkError");function Txt(e){return e.type==="error"&&e.status===0}s(Txt,"isNetworkError");function Rq(e,t){return t={internalResponse:e,...t},new Proxy(e,{get(r,n){return n in t?t[n]:r[n]},set(r,n,i){return Dse(!(n in t)),r[n]=i,!0}})}s(Rq,"makeFilteredResponse");function gRe(e,t){if(t==="basic")return Rq(e,{type:"basic",headersList:e.headersList});if(t==="cors")return Rq(e,{type:"cors",headersList:e.headersList});if(t==="opaque")return Rq(e,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});if(t==="opaqueredirect")return Rq(e,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});Dse(!1)}s(gRe,"filterResponse");function wxt(e,t=null){return Dse(mxt(e)),hxt(e)?Bq(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:t})):Bq(Object.assign(new DOMException("Request was cancelled."),{cause:t}))}s(wxt,"makeAppropriateNetworkError");function dRe(e,t,r){if(t.status!==null&&(t.status<200||t.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in t&&t.statusText!=null&&!dxt(String(t.statusText)))throw new TypeError("Invalid statusText");if("status"in t&&t.status!=null&&(e[la].status=t.status),"statusText"in t&&t.statusText!=null&&(e[la].statusText=t.statusText),"headers"in t&&t.headers!=null&&oxt(e[QA],t.headers),r){if(vxt.includes(e.status))throw oi.errors.exception({header:"Response constructor",message:`Invalid response status code ${e.status}`});e[la].body=r.body,r.type!=null&&!e[la].headersList.contains("content-type",!0)&&e[la].headersList.append("content-type",r.type,!0)}}s(dRe,"initializeResponse");function TR(e,t){let r=new sb(kq);return r[la]=e,r[QA]=new mRe(kq),pRe(r[QA],e.headersList),hRe(r[QA],t),cxt&&e.body?.stream&&uxt.register(r,new WeakRef(e.body.stream)),r}s(TR,"fromInnerResponse");oi.converters.ReadableStream=oi.interfaceConverter(ReadableStream);oi.converters.FormData=oi.interfaceConverter(bxt);oi.converters.URLSearchParams=oi.interfaceConverter(URLSearchParams);oi.converters.XMLHttpRequestBodyInit=function(e,t,r){return typeof e=="string"?oi.converters.USVString(e,t,r):pxt(e)?oi.converters.Blob(e,t,r,{strict:!1}):ArrayBuffer.isView(e)||Ext.isArrayBuffer(e)?oi.converters.BufferSource(e,t,r):Bse.isFormDataLike(e)?oi.converters.FormData(e,t,r,{strict:!1}):e instanceof URLSearchParams?oi.converters.URLSearchParams(e,t,r):oi.converters.DOMString(e,t,r)};oi.converters.BodyInit=function(e,t,r){return e instanceof ReadableStream?oi.converters.ReadableStream(e,t,r):e?.[Symbol.asyncIterator]?e:oi.converters.XMLHttpRequestBodyInit(e,t,r)};oi.converters.ResponseInit=oi.dictionaryConverter([{key:"status",converter:oi.converters["unsigned short"],defaultValue:s(()=>200,"defaultValue")},{key:"statusText",converter:oi.converters.ByteString,defaultValue:s(()=>"","defaultValue")},{key:"headers",converter:oi.converters.HeadersInit}]);ARe.exports={isNetworkError:Txt,makeNetworkError:Bq,makeResponse:q6,makeAppropriateNetworkError:wxt,filterResponse:gRe,Response:sb,cloneResponse:Pse,fromInnerResponse:TR}});var vRe=H(($Hr,xRe)=>{"use strict";d();var{kConnected:yRe,kSize:CRe}=Qs(),Nse=class{static{s(this,"CompatWeakRef")}constructor(t){this.value=t}deref(){return this.value[yRe]===0&&this.value[CRe]===0?void 0:this.value}},Lse=class{static{s(this,"CompatFinalizer")}constructor(t){this.finalizer=t}register(t,r){t.on&&t.on("disconnect",()=>{t[yRe]===0&&t[CRe]===0&&this.finalizer(r)})}unregister(t){}};xRe.exports=function(){return process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18")?(process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:Nse,FinalizationRegistry:Lse}):{WeakRef,FinalizationRegistry}}});var W6=H((KHr,FRe)=>{"use strict";d();var{extractBody:_xt,mixinBody:Sxt,cloneBody:Rxt,bodyUnusable:bRe}=b6(),{Headers:BRe,fill:kxt,HeadersList:Lq,setHeadersGuard:Mse,getHeadersGuard:Bxt,setHeadersList:DRe,getHeadersList:ERe}=ob(),{FinalizationRegistry:Dxt}=vRe()(),Pq=yi(),IRe=require("node:util"),{isValidHTTPToken:Pxt,sameOrigin:TRe,environmentSettingsObject:Dq}=If(),{forbiddenMethodsSet:Nxt,corsSafeListedMethodsSet:Lxt,referrerPolicy:Fxt,requestRedirect:Mxt,requestMode:Qxt,requestCredentials:Oxt,requestCache:Uxt,requestDuplex:qxt}=VS(),{kEnumerableProperty:Ja,normalizedMethodRecordsBase:Wxt,normalizedMethodRecords:Gxt}=Pq,{kHeaders:Rf,kSignal:Nq,kState:xs,kDispatcher:Fse}=Z5(),{webidl:En}=dc(),{URLSerializer:Hxt}=pu(),{kConstruct:Fq}=Qs(),jxt=require("node:assert"),{getMaxListeners:wRe,setMaxListeners:_Re,getEventListeners:Vxt,defaultMaxListeners:SRe}=require("node:events"),$xt=Symbol("abortController"),PRe=new Dxt(({signal:e,abort:t})=>{e.removeEventListener("abort",t)}),Mq=new WeakMap;function RRe(e){return t;function t(){let r=e.deref();if(r!==void 0){PRe.unregister(t),this.removeEventListener("abort",t),r.abort(this.reason);let n=Mq.get(r.signal);if(n!==void 0){if(n.size!==0){for(let i of n){let o=i.deref();o!==void 0&&o.abort(this.reason)}n.clear()}Mq.delete(r.signal)}}}}s(RRe,"buildAbort");var kRe=!1,uC=class e{static{s(this,"Request")}constructor(t,r={}){if(En.util.markAsUncloneable(this),t===Fq)return;let n="Request constructor";En.argumentLengthCheck(arguments,1,n),t=En.converters.RequestInfo(t,n,"input"),r=En.converters.RequestInit(r,n,"init");let i=null,o=null,a=Dq.settingsObject.baseUrl,l=null;if(typeof t=="string"){this[Fse]=r.dispatcher;let b;try{b=new URL(t,a)}catch(E){throw new TypeError("Failed to parse URL from "+t,{cause:E})}if(b.username||b.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+t);i=Qq({urlList:[b]}),o="cors"}else this[Fse]=r.dispatcher||t[Fse],jxt(t instanceof e),i=t[xs],l=t[Nq];let c=Dq.settingsObject.origin,u="client";if(i.window?.constructor?.name==="EnvironmentSettingsObject"&&TRe(i.window,c)&&(u=i.window),r.window!=null)throw new TypeError(`'window' option '${u}' must be null`);"window"in r&&(u="no-window"),i=Qq({method:i.method,headersList:i.headersList,unsafeRequest:i.unsafeRequest,client:Dq.settingsObject,window:u,priority:i.priority,origin:i.origin,referrer:i.referrer,referrerPolicy:i.referrerPolicy,mode:i.mode,credentials:i.credentials,cache:i.cache,redirect:i.redirect,integrity:i.integrity,keepalive:i.keepalive,reloadNavigation:i.reloadNavigation,historyNavigation:i.historyNavigation,urlList:[...i.urlList]});let f=Object.keys(r).length!==0;if(f&&(i.mode==="navigate"&&(i.mode="same-origin"),i.reloadNavigation=!1,i.historyNavigation=!1,i.origin="client",i.referrer="client",i.referrerPolicy="",i.url=i.urlList[i.urlList.length-1],i.urlList=[i.url]),r.referrer!==void 0){let b=r.referrer;if(b==="")i.referrer="no-referrer";else{let E;try{E=new URL(b,a)}catch(_){throw new TypeError(`Referrer "${b}" is not a valid URL.`,{cause:_})}E.protocol==="about:"&&E.hostname==="client"||c&&!TRe(E,Dq.settingsObject.baseUrl)?i.referrer="client":i.referrer=E}}r.referrerPolicy!==void 0&&(i.referrerPolicy=r.referrerPolicy);let m;if(r.mode!==void 0?m=r.mode:m=o,m==="navigate")throw En.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(m!=null&&(i.mode=m),r.credentials!==void 0&&(i.credentials=r.credentials),r.cache!==void 0&&(i.cache=r.cache),i.cache==="only-if-cached"&&i.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(r.redirect!==void 0&&(i.redirect=r.redirect),r.integrity!=null&&(i.integrity=String(r.integrity)),r.keepalive!==void 0&&(i.keepalive=!!r.keepalive),r.method!==void 0){let b=r.method,E=Gxt[b];if(E!==void 0)i.method=E;else{if(!Pxt(b))throw new TypeError(`'${b}' is not a valid HTTP method.`);let _=b.toUpperCase();if(Nxt.has(_))throw new TypeError(`'${b}' HTTP method is unsupported.`);b=Wxt[_]??b,i.method=b}!kRe&&i.method==="patch"&&(process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),kRe=!0)}r.signal!==void 0&&(l=r.signal),this[xs]=i;let h=new AbortController;if(this[Nq]=h.signal,l!=null){if(!l||typeof l.aborted!="boolean"||typeof l.addEventListener!="function")throw new TypeError("Failed to construct 'Request': member signal is not of type AbortSignal.");if(l.aborted)h.abort(l.reason);else{this[$xt]=h;let b=new WeakRef(h),E=RRe(b);try{(typeof wRe=="function"&&wRe(l)===SRe||Vxt(l,"abort").length>=SRe)&&_Re(1500,l)}catch{}Pq.addAbortListener(l,E),PRe.register(h,{signal:l,abort:E},E)}}if(this[Rf]=new BRe(Fq),DRe(this[Rf],i.headersList),Mse(this[Rf],"request"),m==="no-cors"){if(!Lxt.has(i.method))throw new TypeError(`'${i.method} is unsupported in no-cors mode.`);Mse(this[Rf],"request-no-cors")}if(f){let b=ERe(this[Rf]),E=r.headers!==void 0?r.headers:new Lq(b);if(b.clear(),E instanceof Lq){for(let{name:_,value:k}of E.rawValues())b.append(_,k,!1);b.cookies=E.cookies}else kxt(this[Rf],E)}let p=t instanceof e?t[xs].body:null;if((r.body!=null||p!=null)&&(i.method==="GET"||i.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let g=null;if(r.body!=null){let[b,E]=_xt(r.body,i.keepalive);g=b,E&&!ERe(this[Rf]).contains("content-type",!0)&&this[Rf].append("content-type",E)}let y=g??p;if(y!=null&&y.source==null){if(g!=null&&r.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(i.mode!=="same-origin"&&i.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');i.useCORSPreflightFlag=!0}let x=y;if(g==null&&p!=null){if(bRe(t))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let b=new TransformStream;p.stream.pipeThrough(b),x={source:p.source,length:p.length,stream:b.readable}}this[xs].body=x}get method(){return En.brandCheck(this,e),this[xs].method}get url(){return En.brandCheck(this,e),Hxt(this[xs].url)}get headers(){return En.brandCheck(this,e),this[Rf]}get destination(){return En.brandCheck(this,e),this[xs].destination}get referrer(){return En.brandCheck(this,e),this[xs].referrer==="no-referrer"?"":this[xs].referrer==="client"?"about:client":this[xs].referrer.toString()}get referrerPolicy(){return En.brandCheck(this,e),this[xs].referrerPolicy}get mode(){return En.brandCheck(this,e),this[xs].mode}get credentials(){return this[xs].credentials}get cache(){return En.brandCheck(this,e),this[xs].cache}get redirect(){return En.brandCheck(this,e),this[xs].redirect}get integrity(){return En.brandCheck(this,e),this[xs].integrity}get keepalive(){return En.brandCheck(this,e),this[xs].keepalive}get isReloadNavigation(){return En.brandCheck(this,e),this[xs].reloadNavigation}get isHistoryNavigation(){return En.brandCheck(this,e),this[xs].historyNavigation}get signal(){return En.brandCheck(this,e),this[Nq]}get body(){return En.brandCheck(this,e),this[xs].body?this[xs].body.stream:null}get bodyUsed(){return En.brandCheck(this,e),!!this[xs].body&&Pq.isDisturbed(this[xs].body.stream)}get duplex(){return En.brandCheck(this,e),"half"}clone(){if(En.brandCheck(this,e),bRe(this))throw new TypeError("unusable");let t=NRe(this[xs]),r=new AbortController;if(this.signal.aborted)r.abort(this.signal.reason);else{let n=Mq.get(this.signal);n===void 0&&(n=new Set,Mq.set(this.signal,n));let i=new WeakRef(r);n.add(i),Pq.addAbortListener(r.signal,RRe(i))}return LRe(t,r.signal,Bxt(this[Rf]))}[IRe.inspect.custom](t,r){r.depth===null&&(r.depth=2),r.colors??=!0;let n={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${IRe.formatWithOptions(r,n)}`}};Sxt(uC);function Qq(e){return{method:e.method??"GET",localURLsOnly:e.localURLsOnly??!1,unsafeRequest:e.unsafeRequest??!1,body:e.body??null,client:e.client??null,reservedClient:e.reservedClient??null,replacesClientId:e.replacesClientId??"",window:e.window??"client",keepalive:e.keepalive??!1,serviceWorkers:e.serviceWorkers??"all",initiator:e.initiator??"",destination:e.destination??"",priority:e.priority??null,origin:e.origin??"client",policyContainer:e.policyContainer??"client",referrer:e.referrer??"client",referrerPolicy:e.referrerPolicy??"",mode:e.mode??"no-cors",useCORSPreflightFlag:e.useCORSPreflightFlag??!1,credentials:e.credentials??"same-origin",useCredentials:e.useCredentials??!1,cache:e.cache??"default",redirect:e.redirect??"follow",integrity:e.integrity??"",cryptoGraphicsNonceMetadata:e.cryptoGraphicsNonceMetadata??"",parserMetadata:e.parserMetadata??"",reloadNavigation:e.reloadNavigation??!1,historyNavigation:e.historyNavigation??!1,userActivation:e.userActivation??!1,taintedOrigin:e.taintedOrigin??!1,redirectCount:e.redirectCount??0,responseTainting:e.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:e.preventNoCacheCacheControlHeaderModification??!1,done:e.done??!1,timingAllowFailed:e.timingAllowFailed??!1,urlList:e.urlList,url:e.urlList[0],headersList:e.headersList?new Lq(e.headersList):new Lq}}s(Qq,"makeRequest");function NRe(e){let t=Qq({...e,body:null});return e.body!=null&&(t.body=Rxt(t,e.body)),t}s(NRe,"cloneRequest");function LRe(e,t,r){let n=new uC(Fq);return n[xs]=e,n[Nq]=t,n[Rf]=new BRe(Fq),DRe(n[Rf],e.headersList),Mse(n[Rf],r),n}s(LRe,"fromInnerRequest");Object.defineProperties(uC.prototype,{method:Ja,url:Ja,headers:Ja,redirect:Ja,clone:Ja,signal:Ja,duplex:Ja,destination:Ja,body:Ja,bodyUsed:Ja,isHistoryNavigation:Ja,isReloadNavigation:Ja,keepalive:Ja,integrity:Ja,cache:Ja,credentials:Ja,attribute:Ja,referrerPolicy:Ja,referrer:Ja,mode:Ja,[Symbol.toStringTag]:{value:"Request",configurable:!0}});En.converters.Request=En.interfaceConverter(uC);En.converters.RequestInfo=function(e,t,r){return typeof e=="string"?En.converters.USVString(e,t,r):e instanceof uC?En.converters.Request(e,t,r):En.converters.USVString(e,t,r)};En.converters.AbortSignal=En.interfaceConverter(AbortSignal);En.converters.RequestInit=En.dictionaryConverter([{key:"method",converter:En.converters.ByteString},{key:"headers",converter:En.converters.HeadersInit},{key:"body",converter:En.nullableConverter(En.converters.BodyInit)},{key:"referrer",converter:En.converters.USVString},{key:"referrerPolicy",converter:En.converters.DOMString,allowedValues:Fxt},{key:"mode",converter:En.converters.DOMString,allowedValues:Qxt},{key:"credentials",converter:En.converters.DOMString,allowedValues:Oxt},{key:"cache",converter:En.converters.DOMString,allowedValues:Uxt},{key:"redirect",converter:En.converters.DOMString,allowedValues:Mxt},{key:"integrity",converter:En.converters.DOMString},{key:"keepalive",converter:En.converters.boolean},{key:"signal",converter:En.nullableConverter(e=>En.converters.AbortSignal(e,"RequestInit","signal",{strict:!1}))},{key:"window",converter:En.converters.any},{key:"duplex",converter:En.converters.DOMString,allowedValues:qxt},{key:"dispatcher",converter:En.converters.any}]);FRe.exports={Request:uC,makeRequest:Qq,fromInnerRequest:LRe,cloneRequest:NRe}});var SR=H((ZHr,JRe)=>{"use strict";d();var{makeNetworkError:Lo,makeAppropriateNetworkError:Oq,filterResponse:Qse,makeResponse:Uq,fromInnerResponse:zxt}=wR(),{HeadersList:MRe}=ob(),{Request:Yxt,cloneRequest:Kxt}=W6(),fC=require("node:zlib"),{bytesMatch:Jxt,makePolicyContainer:Xxt,clonePolicyContainer:Zxt,requestBadPort:evt,TAOCheck:tvt,appendRequestOriginHeader:rvt,responseLocationURL:nvt,requestCurrentURL:Ig,setRequestReferrerPolicyOnRedirect:ivt,tryUpgradeRequestToAPotentiallyTrustworthyURL:ovt,createOpaqueTimingInfo:Gse,appendFetchMetadata:svt,corsCheck:avt,crossOriginResourcePolicyCheck:lvt,determineRequestsReferrer:cvt,coarsenedSharedCurrentTime:_R,createDeferredPromise:uvt,isBlobLike:fvt,sameOrigin:Wse,isCancelled:ab,isAborted:QRe,isErrorLike:dvt,fullyReadBody:mvt,readableStreamClose:hvt,isomorphicEncode:qq,urlIsLocal:pvt,urlIsHttpHttpsScheme:Hse,urlHasHttpsScheme:gvt,clampAndCoarsenConnectionTimingInfo:Avt,simpleRangeHeaderValue:yvt,buildContentRange:Cvt,createInflate:xvt,extractMimeType:vvt}=If(),{kState:WRe,kDispatcher:bvt}=Z5(),lb=require("node:assert"),{safelyExtractBody:jse,extractBody:ORe}=b6(),{redirectStatusSet:GRe,nullBodyStatus:HRe,safeMethodsSet:Evt,requestBodyHeader:Ivt,subresourceSet:Tvt}=VS(),wvt=require("node:events"),{Readable:_vt,pipeline:Svt,finished:Rvt}=require("node:stream"),{addAbortListener:kvt,isErrored:Bvt,isReadable:Wq,bufferToLowerCasedHeaderName:URe}=yi(),{dataURLProcessor:Dvt,serializeAMimeType:Pvt,minimizeSupportedMimeType:Nvt}=pu(),{getGlobalDispatcher:Lvt}=Tq(),{webidl:Fvt}=dc(),{STATUS_CODES:Mvt}=require("node:http"),Qvt=["GET","HEAD"],Ovt=typeof __UNDICI_IS_NODE__<"u"||typeof esbuildDetection<"u"?"node":"undici",Ose,Gq=class extends wvt{static{s(this,"Fetch")}constructor(t){super(),this.dispatcher=t,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(t){this.state==="ongoing"&&(this.state="terminated",this.connection?.destroy(t),this.emit("terminated",t))}abort(t){this.state==="ongoing"&&(this.state="aborted",t||(t=new DOMException("The operation was aborted.","AbortError")),this.serializedAbortReason=t,this.connection?.destroy(t),this.emit("terminated",t))}};function Uvt(e){jRe(e,"fetch")}s(Uvt,"handleFetchDone");function qvt(e,t=void 0){Fvt.argumentLengthCheck(arguments,1,"globalThis.fetch");let r=uvt(),n;try{n=new Yxt(e,t)}catch(f){return r.reject(f),r.promise}let i=n[WRe];if(n.signal.aborted)return Use(r,i,null,n.signal.reason),r.promise;i.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope"&&(i.serviceWorkers="none");let a=null,l=!1,c=null;return kvt(n.signal,()=>{l=!0,lb(c!=null),c.abort(n.signal.reason);let f=a?.deref();Use(r,i,f,n.signal.reason)}),c=$Re({request:i,processResponseEndOfBody:Uvt,processResponse:s(f=>{if(!l){if(f.aborted){Use(r,i,a,c.serializedAbortReason);return}if(f.type==="error"){r.reject(new TypeError("fetch failed",{cause:f.error}));return}a=new WeakRef(zxt(f,"immutable")),r.resolve(a.deref()),r=null}},"processResponse"),dispatcher:n[bvt]}),r.promise}s(qvt,"fetch");function jRe(e,t="other"){if(e.type==="error"&&e.aborted||!e.urlList?.length)return;let r=e.urlList[0],n=e.timingInfo,i=e.cacheState;Hse(r)&&n!==null&&(e.timingAllowPassed||(n=Gse({startTime:n.startTime}),i=""),n.endTime=_R(),e.timingInfo=n,VRe(n,r.href,t,globalThis,i))}s(jRe,"finalizeAndReportTiming");var VRe=performance.markResourceTiming;function Use(e,t,r,n){if(e&&e.reject(n),t.body!=null&&Wq(t.body?.stream)&&t.body.stream.cancel(n).catch(o=>{if(o.code!=="ERR_INVALID_STATE")throw o}),r==null)return;let i=r[WRe];i.body!=null&&Wq(i.body?.stream)&&i.body.stream.cancel(n).catch(o=>{if(o.code!=="ERR_INVALID_STATE")throw o})}s(Use,"abortFetch");function $Re({request:e,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseEndOfBody:i,processResponseConsumeBody:o,useParallelQueue:a=!1,dispatcher:l=Lvt()}){lb(l);let c=null,u=!1;e.client!=null&&(c=e.client.globalObject,u=e.client.crossOriginIsolatedCapability);let f=_R(u),m=Gse({startTime:f}),h={controller:new Gq(l),request:e,timingInfo:m,processRequestBodyChunkLength:t,processRequestEndOfBody:r,processResponse:n,processResponseConsumeBody:o,processResponseEndOfBody:i,taskDestination:c,crossOriginIsolatedCapability:u};return lb(!e.body||e.body.stream),e.window==="client"&&(e.window=e.client?.globalObject?.constructor?.name==="Window"?e.client:"no-window"),e.origin==="client"&&(e.origin=e.client.origin),e.policyContainer==="client"&&(e.client!=null?e.policyContainer=Zxt(e.client.policyContainer):e.policyContainer=Xxt()),e.headersList.contains("accept",!0)||e.headersList.append("accept","*/*",!0),e.headersList.contains("accept-language",!0)||e.headersList.append("accept-language","*",!0),e.priority,Tvt.has(e.destination),zRe(h).catch(p=>{h.controller.terminate(p)}),h.controller}s($Re,"fetching");async function zRe(e,t=!1){let r=e.request,n=null;if(r.localURLsOnly&&!pvt(Ig(r))&&(n=Lo("local URLs only")),ovt(r),evt(r)==="blocked"&&(n=Lo("bad port")),r.referrerPolicy===""&&(r.referrerPolicy=r.policyContainer.referrerPolicy),r.referrer!=="no-referrer"&&(r.referrer=cvt(r)),n===null&&(n=await(async()=>{let o=Ig(r);return Wse(o,r.url)&&r.responseTainting==="basic"||o.protocol==="data:"||r.mode==="navigate"||r.mode==="websocket"?(r.responseTainting="basic",await qRe(e)):r.mode==="same-origin"?Lo('request mode cannot be "same-origin"'):r.mode==="no-cors"?r.redirect!=="follow"?Lo('redirect mode cannot be "follow" for "no-cors" request'):(r.responseTainting="opaque",await qRe(e)):Hse(Ig(r))?(r.responseTainting="cors",await YRe(e)):Lo("URL scheme must be a HTTP(S) scheme")})()),t)return n;n.status!==0&&!n.internalResponse&&(r.responseTainting,r.responseTainting==="basic"?n=Qse(n,"basic"):r.responseTainting==="cors"?n=Qse(n,"cors"):r.responseTainting==="opaque"?n=Qse(n,"opaque"):lb(!1));let i=n.status===0?n:n.internalResponse;if(i.urlList.length===0&&i.urlList.push(...r.urlList),r.timingAllowFailed||(n.timingAllowPassed=!0),n.type==="opaque"&&i.status===206&&i.rangeRequested&&!r.headers.contains("range",!0)&&(n=i=Lo()),n.status!==0&&(r.method==="HEAD"||r.method==="CONNECT"||HRe.includes(i.status))&&(i.body=null,e.controller.dump=!0),r.integrity){let o=s(l=>qse(e,Lo(l)),"processBodyError");if(r.responseTainting==="opaque"||n.body==null){o(n.error);return}let a=s(l=>{if(!Jxt(l,r.integrity)){o("integrity mismatch");return}n.body=jse(l)[0],qse(e,n)},"processBody");await mvt(n.body,a,o)}else qse(e,n)}s(zRe,"mainFetch");function qRe(e){if(ab(e)&&e.request.redirectCount===0)return Promise.resolve(Oq(e));let{request:t}=e,{protocol:r}=Ig(t);switch(r){case"about:":return Promise.resolve(Lo("about scheme is not supported"));case"blob:":{Ose||(Ose=require("node:buffer").resolveObjectURL);let n=Ig(t);if(n.search.length!==0)return Promise.resolve(Lo("NetworkError when attempting to fetch resource."));let i=Ose(n.toString());if(t.method!=="GET"||!fvt(i))return Promise.resolve(Lo("invalid method"));let o=Uq(),a=i.size,l=qq(`${a}`),c=i.type;if(t.headersList.contains("range",!0)){o.rangeRequested=!0;let u=t.headersList.get("range",!0),f=yvt(u,!0);if(f==="failure")return Promise.resolve(Lo("failed to fetch the data URL"));let{rangeStartValue:m,rangeEndValue:h}=f;if(m===null)m=a-h,h=m+h-1;else{if(m>=a)return Promise.resolve(Lo("Range start is greater than the blob's size."));(h===null||h>=a)&&(h=a-1)}let p=i.slice(m,h,c),g=ORe(p);o.body=g[0];let y=qq(`${p.size}`),x=Cvt(m,h,a);o.status=206,o.statusText="Partial Content",o.headersList.set("content-length",y,!0),o.headersList.set("content-type",c,!0),o.headersList.set("content-range",x,!0)}else{let u=ORe(i);o.statusText="OK",o.body=u[0],o.headersList.set("content-length",l,!0),o.headersList.set("content-type",c,!0)}return Promise.resolve(o)}case"data:":{let n=Ig(t),i=Dvt(n);if(i==="failure")return Promise.resolve(Lo("failed to fetch the data URL"));let o=Pvt(i.mimeType);return Promise.resolve(Uq({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:o}]],body:jse(i.body)[0]}))}case"file:":return Promise.resolve(Lo("not implemented... yet..."));case"http:":case"https:":return YRe(e).catch(n=>Lo(n));default:return Promise.resolve(Lo("unknown scheme"))}}s(qRe,"schemeFetch");function Wvt(e,t){e.request.done=!0,e.processResponseDone!=null&&queueMicrotask(()=>e.processResponseDone(t))}s(Wvt,"finalizeResponse");function qse(e,t){let r=e.timingInfo,n=s(()=>{let o=Date.now();e.request.destination==="document"&&(e.controller.fullTimingInfo=r),e.controller.reportTimingSteps=()=>{if(e.request.url.protocol!=="https:")return;r.endTime=o;let l=t.cacheState,c=t.bodyInfo;t.timingAllowPassed||(r=Gse(r),l="");let u=0;if(e.request.mode!=="navigator"||!t.hasCrossOriginRedirects){u=t.status;let f=vvt(t.headersList);f!=="failure"&&(c.contentType=Nvt(f))}e.request.initiatorType!=null&&VRe(r,e.request.url.href,e.request.initiatorType,globalThis,l,c,u)};let a=s(()=>{e.request.done=!0,e.processResponseEndOfBody!=null&&queueMicrotask(()=>e.processResponseEndOfBody(t)),e.request.initiatorType!=null&&e.controller.reportTimingSteps()},"processResponseEndOfBodyTask");queueMicrotask(()=>a())},"processResponseEndOfBody");e.processResponse!=null&&queueMicrotask(()=>{e.processResponse(t),e.processResponse=null});let i=t.type==="error"?t:t.internalResponse??t;i.body==null?n():Rvt(i.body.stream,()=>{n()})}s(qse,"fetchFinale");async function YRe(e){let t=e.request,r=null,n=null,i=e.timingInfo;if(t.serviceWorkers,r===null){if(t.redirect==="follow"&&(t.serviceWorkers="none"),n=r=await KRe(e),t.responseTainting==="cors"&&avt(t,r)==="failure")return Lo("cors failure");tvt(t,r)==="failure"&&(t.timingAllowFailed=!0)}return(t.responseTainting==="opaque"||r.type==="opaque")&&lvt(t.origin,t.client,t.destination,n)==="blocked"?Lo("blocked"):(GRe.has(n.status)&&(t.redirect!=="manual"&&e.controller.connection.destroy(void 0,!1),t.redirect==="error"?r=Lo("unexpected redirect"):t.redirect==="manual"?r=n:t.redirect==="follow"?r=await Gvt(e,r):lb(!1)),r.timingInfo=i,r)}s(YRe,"httpFetch");function Gvt(e,t){let r=e.request,n=t.internalResponse?t.internalResponse:t,i;try{if(i=nvt(n,Ig(r).hash),i==null)return t}catch(a){return Promise.resolve(Lo(a))}if(!Hse(i))return Promise.resolve(Lo("URL scheme must be a HTTP(S) scheme"));if(r.redirectCount===20)return Promise.resolve(Lo("redirect count exceeded"));if(r.redirectCount+=1,r.mode==="cors"&&(i.username||i.password)&&!Wse(r,i))return Promise.resolve(Lo('cross origin not allowed for request mode "cors"'));if(r.responseTainting==="cors"&&(i.username||i.password))return Promise.resolve(Lo('URL cannot contain credentials for request mode "cors"'));if(n.status!==303&&r.body!=null&&r.body.source==null)return Promise.resolve(Lo());if([301,302].includes(n.status)&&r.method==="POST"||n.status===303&&!Qvt.includes(r.method)){r.method="GET",r.body=null;for(let a of Ivt)r.headersList.delete(a)}Wse(Ig(r),i)||(r.headersList.delete("authorization",!0),r.headersList.delete("proxy-authorization",!0),r.headersList.delete("cookie",!0),r.headersList.delete("host",!0)),r.body!=null&&(lb(r.body.source!=null),r.body=jse(r.body.source)[0]);let o=e.timingInfo;return o.redirectEndTime=o.postRedirectStartTime=_R(e.crossOriginIsolatedCapability),o.redirectStartTime===0&&(o.redirectStartTime=o.startTime),r.urlList.push(i),ivt(r,n),zRe(e,!0)}s(Gvt,"httpRedirectFetch");async function KRe(e,t=!1,r=!1){let n=e.request,i=null,o=null,a=null,l=null,c=!1;n.window==="no-window"&&n.redirect==="error"?(i=e,o=n):(o=Kxt(n),i={...e},i.request=o);let u=n.credentials==="include"||n.credentials==="same-origin"&&n.responseTainting==="basic",f=o.body?o.body.length:null,m=null;if(o.body==null&&["POST","PUT"].includes(o.method)&&(m="0"),f!=null&&(m=qq(`${f}`)),m!=null&&o.headersList.append("content-length",m,!0),f!=null&&o.keepalive,o.referrer instanceof URL&&o.headersList.append("referer",qq(o.referrer.href),!0),rvt(o),svt(o),o.headersList.contains("user-agent",!0)||o.headersList.append("user-agent",Ovt),o.cache==="default"&&(o.headersList.contains("if-modified-since",!0)||o.headersList.contains("if-none-match",!0)||o.headersList.contains("if-unmodified-since",!0)||o.headersList.contains("if-match",!0)||o.headersList.contains("if-range",!0))&&(o.cache="no-store"),o.cache==="no-cache"&&!o.preventNoCacheCacheControlHeaderModification&&!o.headersList.contains("cache-control",!0)&&o.headersList.append("cache-control","max-age=0",!0),(o.cache==="no-store"||o.cache==="reload")&&(o.headersList.contains("pragma",!0)||o.headersList.append("pragma","no-cache",!0),o.headersList.contains("cache-control",!0)||o.headersList.append("cache-control","no-cache",!0)),o.headersList.contains("range",!0)&&o.headersList.append("accept-encoding","identity",!0),o.headersList.contains("accept-encoding",!0)||(gvt(Ig(o))?o.headersList.append("accept-encoding","br, gzip, deflate",!0):o.headersList.append("accept-encoding","gzip, deflate",!0)),o.headersList.delete("host",!0),l==null&&(o.cache="no-store"),o.cache!=="no-store"&&o.cache,a==null){if(o.cache==="only-if-cached")return Lo("only if cached");let h=await Hvt(i,u,r);!Evt.has(o.method)&&h.status>=200&&h.status<=399,c&&h.status,a==null&&(a=h)}if(a.urlList=[...o.urlList],o.headersList.contains("range",!0)&&(a.rangeRequested=!0),a.requestIncludesCredentials=u,a.status===407)return n.window==="no-window"?Lo():ab(e)?Oq(e):Lo("proxy authentication required");if(a.status===421&&!r&&(n.body==null||n.body.source!=null)){if(ab(e))return Oq(e);e.controller.connection.destroy(),a=await KRe(e,t,!0)}return a}s(KRe,"httpNetworkOrCacheFetch");async function Hvt(e,t=!1,r=!1){lb(!e.controller.connection||e.controller.connection.destroyed),e.controller.connection={abort:null,destroyed:!1,destroy(g,y=!0){this.destroyed||(this.destroyed=!0,y&&this.abort?.(g??new DOMException("The operation was aborted.","AbortError")))}};let n=e.request,i=null,o=e.timingInfo;null==null&&(n.cache="no-store");let l=r?"yes":"no";n.mode;let c=null;if(n.body==null&&e.processRequestEndOfBody)queueMicrotask(()=>e.processRequestEndOfBody());else if(n.body!=null){let g=s(async function*(b){ab(e)||(yield b,e.processRequestBodyChunkLength?.(b.byteLength))},"processBodyChunk"),y=s(()=>{ab(e)||e.processRequestEndOfBody&&e.processRequestEndOfBody()},"processEndOfBody"),x=s(b=>{ab(e)||(b.name==="AbortError"?e.controller.abort():e.controller.terminate(b))},"processBodyError");c=async function*(){try{for await(let b of n.body.stream)yield*g(b);y()}catch(b){x(b)}}()}try{let{body:g,status:y,statusText:x,headersList:b,socket:E}=await p({body:c});if(E)i=Uq({status:y,statusText:x,headersList:b,socket:E});else{let _=g[Symbol.asyncIterator]();e.controller.next=()=>_.next(),i=Uq({status:y,statusText:x,headersList:b})}}catch(g){return g.name==="AbortError"?(e.controller.connection.destroy(),Oq(e,g)):Lo(g)}let u=s(async()=>{await e.controller.resume()},"pullAlgorithm"),f=s(g=>{ab(e)||e.controller.abort(g)},"cancelAlgorithm"),m=new ReadableStream({async start(g){e.controller.controller=g},async pull(g){await u(g)},async cancel(g){await f(g)},type:"bytes"});i.body={stream:m,source:null,length:null},e.controller.onAborted=h,e.controller.on("terminated",h),e.controller.resume=async()=>{for(;;){let g,y;try{let{done:b,value:E}=await e.controller.next();if(QRe(e))break;g=b?void 0:E}catch(b){e.controller.ended&&!o.encodedBodySize?g=void 0:(g=b,y=!0)}if(g===void 0){hvt(e.controller.controller),Wvt(e,i);return}if(o.decodedBodySize+=g?.byteLength??0,y){e.controller.terminate(g);return}let x=new Uint8Array(g);if(x.byteLength&&e.controller.controller.enqueue(x),Bvt(m)){e.controller.terminate();return}if(e.controller.controller.desiredSize<=0)return}};function h(g){QRe(e)?(i.aborted=!0,Wq(m)&&e.controller.controller.error(e.controller.serializedAbortReason)):Wq(m)&&e.controller.controller.error(new TypeError("terminated",{cause:dvt(g)?g:void 0})),e.controller.connection.destroy()}return s(h,"onAborted"),i;function p({body:g}){let y=Ig(n),x=e.controller.dispatcher;return new Promise((b,E)=>x.dispatch({path:y.pathname+y.search,origin:y.origin,method:n.method,body:x.isMockActive?n.body&&(n.body.source||n.body.stream):g,headers:n.headersList.entries,maxRedirections:0,upgrade:n.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(_){let{connection:k}=e.controller;o.finalConnectionTimingInfo=Avt(void 0,o.postRedirectStartTime,e.crossOriginIsolatedCapability),k.destroyed?_(new DOMException("The operation was aborted.","AbortError")):(e.controller.on("terminated",_),this.abort=k.abort=_),o.finalNetworkRequestStartTime=_R(e.crossOriginIsolatedCapability)},onResponseStarted(){o.finalNetworkResponseStartTime=_R(e.crossOriginIsolatedCapability)},onHeaders(_,k,B,N){if(_<200)return;let M=[],te="",de=new MRe;for(let z=0;z<k.length;z+=2)de.append(URe(k[z]),k[z+1].toString("latin1"),!0);let Z=de.get("content-encoding",!0);Z&&(M=Z.toLowerCase().split(",").map(z=>z.trim())),te=de.get("location",!0),this.body=new _vt({read:B});let G=[],q=te&&n.redirect==="follow"&&GRe.has(_);if(M.length!==0&&n.method!=="HEAD"&&n.method!=="CONNECT"&&!HRe.includes(_)&&!q)for(let z=M.length-1;z>=0;--z){let j=M[z];if(j==="x-gzip"||j==="gzip")G.push(fC.createGunzip({flush:fC.constants.Z_SYNC_FLUSH,finishFlush:fC.constants.Z_SYNC_FLUSH}));else if(j==="deflate")G.push(xvt({flush:fC.constants.Z_SYNC_FLUSH,finishFlush:fC.constants.Z_SYNC_FLUSH}));else if(j==="br")G.push(fC.createBrotliDecompress({flush:fC.constants.BROTLI_OPERATION_FLUSH,finishFlush:fC.constants.BROTLI_OPERATION_FLUSH}));else{G.length=0;break}}let ie=this.onError.bind(this);return b({status:_,statusText:N,headersList:de,body:G.length?Svt(this.body,...G,z=>{z&&this.onError(z)}).on("error",ie):this.body.on("error",ie)}),!0},onData(_){if(e.controller.dump)return;let k=_;return o.encodedBodySize+=k.byteLength,this.body.push(k)},onComplete(){this.abort&&e.controller.off("terminated",this.abort),e.controller.onAborted&&e.controller.off("terminated",e.controller.onAborted),e.controller.ended=!0,this.body.push(null)},onError(_){this.abort&&e.controller.off("terminated",this.abort),this.body?.destroy(_),e.controller.terminate(_),E(_)},onUpgrade(_,k,B){if(_!==101)return;let N=new MRe;for(let M=0;M<k.length;M+=2)N.append(URe(k[M]),k[M+1].toString("latin1"),!0);return b({status:_,statusText:Mvt[_],headersList:N,socket:B}),!0}}))}s(p,"dispatch")}s(Hvt,"httpNetworkFetch");JRe.exports={fetch:qvt,Fetch:Gq,fetching:$Re,finalizeAndReportTiming:jRe}});var Vse=H((rjr,XRe)=>{"use strict";d();XRe.exports={kState:Symbol("FileReader state"),kResult:Symbol("FileReader result"),kError:Symbol("FileReader error"),kLastProgressEventFired:Symbol("FileReader last progress event fired timestamp"),kEvents:Symbol("FileReader events"),kAborted:Symbol("FileReader aborted")}});var eke=H((ijr,ZRe)=>{"use strict";d();var{webidl:kf}=dc(),Hq=Symbol("ProgressEvent state"),$se=class e extends Event{static{s(this,"ProgressEvent")}constructor(t,r={}){t=kf.converters.DOMString(t,"ProgressEvent constructor","type"),r=kf.converters.ProgressEventInit(r??{}),super(t,r),this[Hq]={lengthComputable:r.lengthComputable,loaded:r.loaded,total:r.total}}get lengthComputable(){return kf.brandCheck(this,e),this[Hq].lengthComputable}get loaded(){return kf.brandCheck(this,e),this[Hq].loaded}get total(){return kf.brandCheck(this,e),this[Hq].total}};kf.converters.ProgressEventInit=kf.dictionaryConverter([{key:"lengthComputable",converter:kf.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"loaded",converter:kf.converters["unsigned long long"],defaultValue:s(()=>0,"defaultValue")},{key:"total",converter:kf.converters["unsigned long long"],defaultValue:s(()=>0,"defaultValue")},{key:"bubbles",converter:kf.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"cancelable",converter:kf.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"composed",converter:kf.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}]);ZRe.exports={ProgressEvent:$se}});var rke=H((ajr,tke)=>{"use strict";d();function jvt(e){if(!e)return"failure";switch(e.trim().toLowerCase()){case"unicode-1-1-utf-8":case"unicode11utf8":case"unicode20utf8":case"utf-8":case"utf8":case"x-unicode20utf8":return"UTF-8";case"866":case"cp866":case"csibm866":case"ibm866":return"IBM866";case"csisolatin2":case"iso-8859-2":case"iso-ir-101":case"iso8859-2":case"iso88592":case"iso_8859-2":case"iso_8859-2:1987":case"l2":case"latin2":return"ISO-8859-2";case"csisolatin3":case"iso-8859-3":case"iso-ir-109":case"iso8859-3":case"iso88593":case"iso_8859-3":case"iso_8859-3:1988":case"l3":case"latin3":return"ISO-8859-3";case"csisolatin4":case"iso-8859-4":case"iso-ir-110":case"iso8859-4":case"iso88594":case"iso_8859-4":case"iso_8859-4:1988":case"l4":case"latin4":return"ISO-8859-4";case"csisolatincyrillic":case"cyrillic":case"iso-8859-5":case"iso-ir-144":case"iso8859-5":case"iso88595":case"iso_8859-5":case"iso_8859-5:1988":return"ISO-8859-5";case"arabic":case"asmo-708":case"csiso88596e":case"csiso88596i":case"csisolatinarabic":case"ecma-114":case"iso-8859-6":case"iso-8859-6-e":case"iso-8859-6-i":case"iso-ir-127":case"iso8859-6":case"iso88596":case"iso_8859-6":case"iso_8859-6:1987":return"ISO-8859-6";case"csisolatingreek":case"ecma-118":case"elot_928":case"greek":case"greek8":case"iso-8859-7":case"iso-ir-126":case"iso8859-7":case"iso88597":case"iso_8859-7":case"iso_8859-7:1987":case"sun_eu_greek":return"ISO-8859-7";case"csiso88598e":case"csisolatinhebrew":case"hebrew":case"iso-8859-8":case"iso-8859-8-e":case"iso-ir-138":case"iso8859-8":case"iso88598":case"iso_8859-8":case"iso_8859-8:1988":case"visual":return"ISO-8859-8";case"csiso88598i":case"iso-8859-8-i":case"logical":return"ISO-8859-8-I";case"csisolatin6":case"iso-8859-10":case"iso-ir-157":case"iso8859-10":case"iso885910":case"l6":case"latin6":return"ISO-8859-10";case"iso-8859-13":case"iso8859-13":case"iso885913":return"ISO-8859-13";case"iso-8859-14":case"iso8859-14":case"iso885914":return"ISO-8859-14";case"csisolatin9":case"iso-8859-15":case"iso8859-15":case"iso885915":case"iso_8859-15":case"l9":return"ISO-8859-15";case"iso-8859-16":return"ISO-8859-16";case"cskoi8r":case"koi":case"koi8":case"koi8-r":case"koi8_r":return"KOI8-R";case"koi8-ru":case"koi8-u":return"KOI8-U";case"csmacintosh":case"mac":case"macintosh":case"x-mac-roman":return"macintosh";case"iso-8859-11":case"iso8859-11":case"iso885911":case"tis-620":case"windows-874":return"windows-874";case"cp1250":case"windows-1250":case"x-cp1250":return"windows-1250";case"cp1251":case"windows-1251":case"x-cp1251":return"windows-1251";case"ansi_x3.4-1968":case"ascii":case"cp1252":case"cp819":case"csisolatin1":case"ibm819":case"iso-8859-1":case"iso-ir-100":case"iso8859-1":case"iso88591":case"iso_8859-1":case"iso_8859-1:1987":case"l1":case"latin1":case"us-ascii":case"windows-1252":case"x-cp1252":return"windows-1252";case"cp1253":case"windows-1253":case"x-cp1253":return"windows-1253";case"cp1254":case"csisolatin5":case"iso-8859-9":case"iso-ir-148":case"iso8859-9":case"iso88599":case"iso_8859-9":case"iso_8859-9:1989":case"l5":case"latin5":case"windows-1254":case"x-cp1254":return"windows-1254";case"cp1255":case"windows-1255":case"x-cp1255":return"windows-1255";case"cp1256":case"windows-1256":case"x-cp1256":return"windows-1256";case"cp1257":case"windows-1257":case"x-cp1257":return"windows-1257";case"cp1258":case"windows-1258":case"x-cp1258":return"windows-1258";case"x-mac-cyrillic":case"x-mac-ukrainian":return"x-mac-cyrillic";case"chinese":case"csgb2312":case"csiso58gb231280":case"gb2312":case"gb_2312":case"gb_2312-80":case"gbk":case"iso-ir-58":case"x-gbk":return"GBK";case"gb18030":return"gb18030";case"big5":case"big5-hkscs":case"cn-big5":case"csbig5":case"x-x-big5":return"Big5";case"cseucpkdfmtjapanese":case"euc-jp":case"x-euc-jp":return"EUC-JP";case"csiso2022jp":case"iso-2022-jp":return"ISO-2022-JP";case"csshiftjis":case"ms932":case"ms_kanji":case"shift-jis":case"shift_jis":case"sjis":case"windows-31j":case"x-sjis":return"Shift_JIS";case"cseuckr":case"csksc56011987":case"euc-kr":case"iso-ir-149":case"korean":case"ks_c_5601-1987":case"ks_c_5601-1989":case"ksc5601":case"ksc_5601":case"windows-949":return"EUC-KR";case"csiso2022kr":case"hz-gb-2312":case"iso-2022-cn":case"iso-2022-cn-ext":case"iso-2022-kr":case"replacement":return"replacement";case"unicodefffe":case"utf-16be":return"UTF-16BE";case"csunicode":case"iso-10646-ucs-2":case"ucs-2":case"unicode":case"unicodefeff":case"utf-16":case"utf-16le":return"UTF-16LE";case"x-user-defined":return"x-user-defined";default:return"failure"}}s(jvt,"getEncoding");tke.exports={getEncoding:jvt}});var uke=H((ujr,cke)=>{"use strict";d();var{kState:G6,kError:zse,kResult:nke,kAborted:RR,kLastProgressEventFired:Yse}=Vse(),{ProgressEvent:Vvt}=eke(),{getEncoding:ike}=rke(),{serializeAMimeType:$vt,parseMIMEType:oke}=pu(),{types:zvt}=require("node:util"),{StringDecoder:ske}=require("string_decoder"),{btoa:ake}=require("node:buffer"),Yvt={enumerable:!0,writable:!1,configurable:!1};function Kvt(e,t,r,n){if(e[G6]==="loading")throw new DOMException("Invalid state","InvalidStateError");e[G6]="loading",e[nke]=null,e[zse]=null;let o=t.stream().getReader(),a=[],l=o.read(),c=!0;(async()=>{for(;!e[RR];)try{let{done:u,value:f}=await l;if(c&&!e[RR]&&queueMicrotask(()=>{dC("loadstart",e)}),c=!1,!u&&zvt.isUint8Array(f))a.push(f),(e[Yse]===void 0||Date.now()-e[Yse]>=50)&&!e[RR]&&(e[Yse]=Date.now(),queueMicrotask(()=>{dC("progress",e)})),l=o.read();else if(u){queueMicrotask(()=>{e[G6]="done";try{let m=Jvt(a,r,t.type,n);if(e[RR])return;e[nke]=m,dC("load",e)}catch(m){e[zse]=m,dC("error",e)}e[G6]!=="loading"&&dC("loadend",e)});break}}catch(u){if(e[RR])return;queueMicrotask(()=>{e[G6]="done",e[zse]=u,dC("error",e),e[G6]!=="loading"&&dC("loadend",e)});break}})()}s(Kvt,"readOperation");function dC(e,t){let r=new Vvt(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(r)}s(dC,"fireAProgressEvent");function Jvt(e,t,r,n){switch(t){case"DataURL":{let i="data:",o=oke(r||"application/octet-stream");o!=="failure"&&(i+=$vt(o)),i+=";base64,";let a=new ske("latin1");for(let l of e)i+=ake(a.write(l));return i+=ake(a.end()),i}case"Text":{let i="failure";if(n&&(i=ike(n)),i==="failure"&&r){let o=oke(r);o!=="failure"&&(i=ike(o.parameters.get("charset")))}return i==="failure"&&(i="UTF-8"),Xvt(e,i)}case"ArrayBuffer":return lke(e).buffer;case"BinaryString":{let i="",o=new ske("latin1");for(let a of e)i+=o.write(a);return i+=o.end(),i}}}s(Jvt,"packageData");function Xvt(e,t){let r=lke(e),n=Zvt(r),i=0;n!==null&&(t=n,i=n==="UTF-8"?3:2);let o=r.slice(i);return new TextDecoder(t).decode(o)}s(Xvt,"decode");function Zvt(e){let[t,r,n]=e;return t===239&&r===187&&n===191?"UTF-8":t===254&&r===255?"UTF-16BE":t===255&&r===254?"UTF-16LE":null}s(Zvt,"BOMSniffing");function lke(e){let t=e.reduce((n,i)=>n+i.byteLength,0),r=0;return e.reduce((n,i)=>(n.set(i,r),r+=i.byteLength,n),new Uint8Array(t))}s(lke,"combineByteSequences");cke.exports={staticPropertyDescriptors:Yvt,readOperation:Kvt,fireAProgressEvent:dC}});var hke=H((mjr,mke)=>{"use strict";d();var{staticPropertyDescriptors:H6,readOperation:jq,fireAProgressEvent:fke}=uke(),{kState:cb,kError:dke,kResult:Vq,kEvents:yo,kAborted:ebt}=Vse(),{webidl:Qo}=dc(),{kEnumerableProperty:yu}=yi(),Ph=class e extends EventTarget{static{s(this,"FileReader")}constructor(){super(),this[cb]="empty",this[Vq]=null,this[dke]=null,this[yo]={loadend:null,error:null,abort:null,load:null,progress:null,loadstart:null}}readAsArrayBuffer(t){Qo.brandCheck(this,e),Qo.argumentLengthCheck(arguments,1,"FileReader.readAsArrayBuffer"),t=Qo.converters.Blob(t,{strict:!1}),jq(this,t,"ArrayBuffer")}readAsBinaryString(t){Qo.brandCheck(this,e),Qo.argumentLengthCheck(arguments,1,"FileReader.readAsBinaryString"),t=Qo.converters.Blob(t,{strict:!1}),jq(this,t,"BinaryString")}readAsText(t,r=void 0){Qo.brandCheck(this,e),Qo.argumentLengthCheck(arguments,1,"FileReader.readAsText"),t=Qo.converters.Blob(t,{strict:!1}),r!==void 0&&(r=Qo.converters.DOMString(r,"FileReader.readAsText","encoding")),jq(this,t,"Text",r)}readAsDataURL(t){Qo.brandCheck(this,e),Qo.argumentLengthCheck(arguments,1,"FileReader.readAsDataURL"),t=Qo.converters.Blob(t,{strict:!1}),jq(this,t,"DataURL")}abort(){if(this[cb]==="empty"||this[cb]==="done"){this[Vq]=null;return}this[cb]==="loading"&&(this[cb]="done",this[Vq]=null),this[ebt]=!0,fke("abort",this),this[cb]!=="loading"&&fke("loadend",this)}get readyState(){switch(Qo.brandCheck(this,e),this[cb]){case"empty":return this.EMPTY;case"loading":return this.LOADING;case"done":return this.DONE}}get result(){return Qo.brandCheck(this,e),this[Vq]}get error(){return Qo.brandCheck(this,e),this[dke]}get onloadend(){return Qo.brandCheck(this,e),this[yo].loadend}set onloadend(t){Qo.brandCheck(this,e),this[yo].loadend&&this.removeEventListener("loadend",this[yo].loadend),typeof t=="function"?(this[yo].loadend=t,this.addEventListener("loadend",t)):this[yo].loadend=null}get onerror(){return Qo.brandCheck(this,e),this[yo].error}set onerror(t){Qo.brandCheck(this,e),this[yo].error&&this.removeEventListener("error",this[yo].error),typeof t=="function"?(this[yo].error=t,this.addEventListener("error",t)):this[yo].error=null}get onloadstart(){return Qo.brandCheck(this,e),this[yo].loadstart}set onloadstart(t){Qo.brandCheck(this,e),this[yo].loadstart&&this.removeEventListener("loadstart",this[yo].loadstart),typeof t=="function"?(this[yo].loadstart=t,this.addEventListener("loadstart",t)):this[yo].loadstart=null}get onprogress(){return Qo.brandCheck(this,e),this[yo].progress}set onprogress(t){Qo.brandCheck(this,e),this[yo].progress&&this.removeEventListener("progress",this[yo].progress),typeof t=="function"?(this[yo].progress=t,this.addEventListener("progress",t)):this[yo].progress=null}get onload(){return Qo.brandCheck(this,e),this[yo].load}set onload(t){Qo.brandCheck(this,e),this[yo].load&&this.removeEventListener("load",this[yo].load),typeof t=="function"?(this[yo].load=t,this.addEventListener("load",t)):this[yo].load=null}get onabort(){return Qo.brandCheck(this,e),this[yo].abort}set onabort(t){Qo.brandCheck(this,e),this[yo].abort&&this.removeEventListener("abort",this[yo].abort),typeof t=="function"?(this[yo].abort=t,this.addEventListener("abort",t)):this[yo].abort=null}};Ph.EMPTY=Ph.prototype.EMPTY=0;Ph.LOADING=Ph.prototype.LOADING=1;Ph.DONE=Ph.prototype.DONE=2;Object.defineProperties(Ph.prototype,{EMPTY:H6,LOADING:H6,DONE:H6,readAsArrayBuffer:yu,readAsBinaryString:yu,readAsText:yu,readAsDataURL:yu,abort:yu,readyState:yu,result:yu,error:yu,onloadstart:yu,onprogress:yu,onload:yu,onabort:yu,onerror:yu,onloadend:yu,[Symbol.toStringTag]:{value:"FileReader",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Ph,{EMPTY:H6,LOADING:H6,DONE:H6});mke.exports={FileReader:Ph}});var $q=H((gjr,pke)=>{"use strict";d();pke.exports={kConstruct:Qs().kConstruct}});var yke=H((yjr,Ake)=>{"use strict";d();var tbt=require("node:assert"),{URLSerializer:gke}=pu(),{isValidHeaderName:rbt}=If();function nbt(e,t,r=!1){let n=gke(e,r),i=gke(t,r);return n===i}s(nbt,"urlEquals");function ibt(e){tbt(e!==null);let t=[];for(let r of e.split(","))r=r.trim(),rbt(r)&&t.push(r);return t}s(ibt,"getFieldValues");Ake.exports={urlEquals:nbt,getFieldValues:ibt}});var vke=H((vjr,xke)=>{"use strict";d();var{kConstruct:obt}=$q(),{urlEquals:sbt,getFieldValues:Kse}=yke(),{kEnumerableProperty:ub,isDisturbed:abt}=yi(),{webidl:on}=dc(),{Response:lbt,cloneResponse:cbt,fromInnerResponse:ubt}=wR(),{Request:OA,fromInnerRequest:fbt}=W6(),{kState:Nh}=Z5(),{fetching:dbt}=SR(),{urlIsHttpHttpsScheme:zq,createDeferredPromise:j6,readAllBytes:mbt}=If(),Jse=require("node:assert"),Yq=class e{static{s(this,"Cache")}#e;constructor(){arguments[0]!==obt&&on.illegalConstructor(),on.util.markAsUncloneable(this),this.#e=arguments[1]}async match(t,r={}){on.brandCheck(this,e);let n="Cache.match";on.argumentLengthCheck(arguments,1,n),t=on.converters.RequestInfo(t,n,"request"),r=on.converters.CacheQueryOptions(r,n,"options");let i=this.#r(t,r,1);if(i.length!==0)return i[0]}async matchAll(t=void 0,r={}){on.brandCheck(this,e);let n="Cache.matchAll";return t!==void 0&&(t=on.converters.RequestInfo(t,n,"request")),r=on.converters.CacheQueryOptions(r,n,"options"),this.#r(t,r)}async add(t){on.brandCheck(this,e);let r="Cache.add";on.argumentLengthCheck(arguments,1,r),t=on.converters.RequestInfo(t,r,"request");let n=[t];return await this.addAll(n)}async addAll(t){on.brandCheck(this,e);let r="Cache.addAll";on.argumentLengthCheck(arguments,1,r);let n=[],i=[];for(let h of t){if(h===void 0)throw on.errors.conversionFailed({prefix:r,argument:"Argument 1",types:["undefined is not allowed"]});if(h=on.converters.RequestInfo(h),typeof h=="string")continue;let p=h[Nh];if(!zq(p.url)||p.method!=="GET")throw on.errors.exception({header:r,message:"Expected http/s scheme when method is not GET."})}let o=[];for(let h of t){let p=new OA(h)[Nh];if(!zq(p.url))throw on.errors.exception({header:r,message:"Expected http/s scheme."});p.initiator="fetch",p.destination="subresource",i.push(p);let g=j6();o.push(dbt({request:p,processResponse(y){if(y.type==="error"||y.status===206||y.status<200||y.status>299)g.reject(on.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(y.headersList.contains("vary")){let x=Kse(y.headersList.get("vary"));for(let b of x)if(b==="*"){g.reject(on.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let E of o)E.abort();return}}},processResponseEndOfBody(y){if(y.aborted){g.reject(new DOMException("aborted","AbortError"));return}g.resolve(y)}})),n.push(g.promise)}let l=await Promise.all(n),c=[],u=0;for(let h of l){let p={type:"put",request:i[u],response:h};c.push(p),u++}let f=j6(),m=null;try{this.#t(c)}catch(h){m=h}return queueMicrotask(()=>{m===null?f.resolve(void 0):f.reject(m)}),f.promise}async put(t,r){on.brandCheck(this,e);let n="Cache.put";on.argumentLengthCheck(arguments,2,n),t=on.converters.RequestInfo(t,n,"request"),r=on.converters.Response(r,n,"response");let i=null;if(t instanceof OA?i=t[Nh]:i=new OA(t)[Nh],!zq(i.url)||i.method!=="GET")throw on.errors.exception({header:n,message:"Expected an http/s scheme when method is not GET"});let o=r[Nh];if(o.status===206)throw on.errors.exception({header:n,message:"Got 206 status"});if(o.headersList.contains("vary")){let p=Kse(o.headersList.get("vary"));for(let g of p)if(g==="*")throw on.errors.exception({header:n,message:"Got * vary field value"})}if(o.body&&(abt(o.body.stream)||o.body.stream.locked))throw on.errors.exception({header:n,message:"Response body is locked or disturbed"});let a=cbt(o),l=j6();if(o.body!=null){let g=o.body.stream.getReader();mbt(g).then(l.resolve,l.reject)}else l.resolve(void 0);let c=[],u={type:"put",request:i,response:a};c.push(u);let f=await l.promise;a.body!=null&&(a.body.source=f);let m=j6(),h=null;try{this.#t(c)}catch(p){h=p}return queueMicrotask(()=>{h===null?m.resolve():m.reject(h)}),m.promise}async delete(t,r={}){on.brandCheck(this,e);let n="Cache.delete";on.argumentLengthCheck(arguments,1,n),t=on.converters.RequestInfo(t,n,"request"),r=on.converters.CacheQueryOptions(r,n,"options");let i=null;if(t instanceof OA){if(i=t[Nh],i.method!=="GET"&&!r.ignoreMethod)return!1}else Jse(typeof t=="string"),i=new OA(t)[Nh];let o=[],a={type:"delete",request:i,options:r};o.push(a);let l=j6(),c=null,u;try{u=this.#t(o)}catch(f){c=f}return queueMicrotask(()=>{c===null?l.resolve(!!u?.length):l.reject(c)}),l.promise}async keys(t=void 0,r={}){on.brandCheck(this,e);let n="Cache.keys";t!==void 0&&(t=on.converters.RequestInfo(t,n,"request")),r=on.converters.CacheQueryOptions(r,n,"options");let i=null;if(t!==void 0)if(t instanceof OA){if(i=t[Nh],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new OA(t)[Nh]);let o=j6(),a=[];if(t===void 0)for(let l of this.#e)a.push(l[0]);else{let l=this.#i(i,r);for(let c of l)a.push(c[0])}return queueMicrotask(()=>{let l=[];for(let c of a){let u=fbt(c,new AbortController().signal,"immutable");l.push(u)}o.resolve(Object.freeze(l))}),o.promise}#t(t){let r=this.#e,n=[...r],i=[],o=[];try{for(let a of t){if(a.type!=="delete"&&a.type!=="put")throw on.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(a.type==="delete"&&a.response!=null)throw on.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#i(a.request,a.options,i).length)throw new DOMException("???","InvalidStateError");let l;if(a.type==="delete"){if(l=this.#i(a.request,a.options),l.length===0)return[];for(let c of l){let u=r.indexOf(c);Jse(u!==-1),r.splice(u,1)}}else if(a.type==="put"){if(a.response==null)throw on.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let c=a.request;if(!zq(c.url))throw on.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(c.method!=="GET")throw on.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(a.options!=null)throw on.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});l=this.#i(a.request);for(let u of l){let f=r.indexOf(u);Jse(f!==-1),r.splice(f,1)}r.push([a.request,a.response]),i.push([a.request,a.response])}o.push([a.request,a.response])}return o}catch(a){throw this.#e.length=0,this.#e=n,a}}#i(t,r,n){let i=[],o=n??this.#e;for(let a of o){let[l,c]=a;this.#n(t,l,c,r)&&i.push(a)}return i}#n(t,r,n=null,i){let o=new URL(t.url),a=new URL(r.url);if(i?.ignoreSearch&&(a.search="",o.search=""),!sbt(o,a,!0))return!1;if(n==null||i?.ignoreVary||!n.headersList.contains("vary"))return!0;let l=Kse(n.headersList.get("vary"));for(let c of l){if(c==="*")return!1;let u=r.headersList.get(c),f=t.headersList.get(c);if(u!==f)return!1}return!0}#r(t,r,n=1/0){let i=null;if(t!==void 0)if(t instanceof OA){if(i=t[Nh],i.method!=="GET"&&!r.ignoreMethod)return[]}else typeof t=="string"&&(i=new OA(t)[Nh]);let o=[];if(t===void 0)for(let l of this.#e)o.push(l[1]);else{let l=this.#i(i,r);for(let c of l)o.push(c[1])}let a=[];for(let l of o){let c=ubt(l,"immutable");if(a.push(c.clone()),a.length>=n)break}return Object.freeze(a)}};Object.defineProperties(Yq.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:ub,matchAll:ub,add:ub,addAll:ub,put:ub,delete:ub,keys:ub});var Cke=[{key:"ignoreSearch",converter:on.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"ignoreMethod",converter:on.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"ignoreVary",converter:on.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}];on.converters.CacheQueryOptions=on.dictionaryConverter(Cke);on.converters.MultiCacheQueryOptions=on.dictionaryConverter([...Cke,{key:"cacheName",converter:on.converters.DOMString}]);on.converters.Response=on.interfaceConverter(lbt);on.converters["sequence<RequestInfo>"]=on.sequenceConverter(on.converters.RequestInfo);xke.exports={Cache:Yq}});var Eke=H((Ijr,bke)=>{"use strict";d();var{kConstruct:kR}=$q(),{Cache:Kq}=vke(),{webidl:jc}=dc(),{kEnumerableProperty:BR}=yi(),Jq=class e{static{s(this,"CacheStorage")}#e=new Map;constructor(){arguments[0]!==kR&&jc.illegalConstructor(),jc.util.markAsUncloneable(this)}async match(t,r={}){if(jc.brandCheck(this,e),jc.argumentLengthCheck(arguments,1,"CacheStorage.match"),t=jc.converters.RequestInfo(t),r=jc.converters.MultiCacheQueryOptions(r),r.cacheName!=null){if(this.#e.has(r.cacheName)){let n=this.#e.get(r.cacheName);return await new Kq(kR,n).match(t,r)}}else for(let n of this.#e.values()){let o=await new Kq(kR,n).match(t,r);if(o!==void 0)return o}}async has(t){jc.brandCheck(this,e);let r="CacheStorage.has";return jc.argumentLengthCheck(arguments,1,r),t=jc.converters.DOMString(t,r,"cacheName"),this.#e.has(t)}async open(t){jc.brandCheck(this,e);let r="CacheStorage.open";if(jc.argumentLengthCheck(arguments,1,r),t=jc.converters.DOMString(t,r,"cacheName"),this.#e.has(t)){let i=this.#e.get(t);return new Kq(kR,i)}let n=[];return this.#e.set(t,n),new Kq(kR,n)}async delete(t){jc.brandCheck(this,e);let r="CacheStorage.delete";return jc.argumentLengthCheck(arguments,1,r),t=jc.converters.DOMString(t,r,"cacheName"),this.#e.delete(t)}async keys(){return jc.brandCheck(this,e),[...this.#e.keys()]}};Object.defineProperties(Jq.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:BR,has:BR,open:BR,delete:BR,keys:BR});bke.exports={CacheStorage:Jq}});var Tke=H((_jr,Ike)=>{"use strict";d();Ike.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var Xse=H((Rjr,kke)=>{"use strict";d();function hbt(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r>=0&&r<=8||r>=10&&r<=31||r===127)return!0}return!1}s(hbt,"isCTLExcludingHtab");function wke(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===60||r===62||r===64||r===44||r===59||r===58||r===92||r===47||r===91||r===93||r===63||r===61||r===123||r===125)throw new Error("Invalid cookie name")}}s(wke,"validateCookieName");function _ke(e){let t=e.length,r=0;if(e[0]==='"'){if(t===1||e[t-1]!=='"')throw new Error("Invalid cookie value");--t,++r}for(;r<t;){let n=e.charCodeAt(r++);if(n<33||n>126||n===34||n===44||n===59||n===92)throw new Error("Invalid cookie value")}}s(_ke,"validateCookieValue");function Ske(e){for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<32||r===127||r===59)throw new Error("Invalid cookie path")}}s(Ske,"validateCookiePath");function pbt(e){if(e.startsWith("-")||e.endsWith(".")||e.endsWith("-"))throw new Error("Invalid cookie domain")}s(pbt,"validateCookieDomain");var gbt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Abt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Xq=Array(61).fill(0).map((e,t)=>t.toString().padStart(2,"0"));function Rke(e){return typeof e=="number"&&(e=new Date(e)),`${gbt[e.getUTCDay()]}, ${Xq[e.getUTCDate()]} ${Abt[e.getUTCMonth()]} ${e.getUTCFullYear()} ${Xq[e.getUTCHours()]}:${Xq[e.getUTCMinutes()]}:${Xq[e.getUTCSeconds()]} GMT`}s(Rke,"toIMFDate");function ybt(e){if(e<0)throw new Error("Invalid cookie max-age")}s(ybt,"validateCookieMaxAge");function Cbt(e){if(e.name.length===0)return null;wke(e.name),_ke(e.value);let t=[`${e.name}=${e.value}`];e.name.startsWith("__Secure-")&&(e.secure=!0),e.name.startsWith("__Host-")&&(e.secure=!0,e.domain=null,e.path="/"),e.secure&&t.push("Secure"),e.httpOnly&&t.push("HttpOnly"),typeof e.maxAge=="number"&&(ybt(e.maxAge),t.push(`Max-Age=${e.maxAge}`)),e.domain&&(pbt(e.domain),t.push(`Domain=${e.domain}`)),e.path&&(Ske(e.path),t.push(`Path=${e.path}`)),e.expires&&e.expires.toString()!=="Invalid Date"&&t.push(`Expires=${Rke(e.expires)}`),e.sameSite&&t.push(`SameSite=${e.sameSite}`);for(let r of e.unparsed){if(!r.includes("="))throw new Error("Invalid unparsed");let[n,...i]=r.split("=");t.push(`${n.trim()}=${i.join("=")}`)}return t.join("; ")}s(Cbt,"stringify");kke.exports={isCTLExcludingHtab:hbt,validateCookieName:wke,validateCookiePath:Ske,validateCookieValue:_ke,toIMFDate:Rke,stringify:Cbt}});var Dke=H((Djr,Bke)=>{"use strict";d();var{maxNameValuePairSize:xbt,maxAttributeValueSize:vbt}=Tke(),{isCTLExcludingHtab:bbt}=Xse(),{collectASequenceOfCodePointsFast:Zq}=pu(),Ebt=require("node:assert");function Ibt(e){if(bbt(e))return null;let t="",r="",n="",i="";if(e.includes(";")){let o={position:0};t=Zq(";",e,o),r=e.slice(o.position)}else t=e;if(!t.includes("="))i=t;else{let o={position:0};n=Zq("=",t,o),i=t.slice(o.position+1)}return n=n.trim(),i=i.trim(),n.length+i.length>xbt?null:{name:n,value:i,...V6(r)}}s(Ibt,"parseSetCookie");function V6(e,t={}){if(e.length===0)return t;Ebt(e[0]===";"),e=e.slice(1);let r="";e.includes(";")?(r=Zq(";",e,{position:0}),e=e.slice(r.length)):(r=e,e="");let n="",i="";if(r.includes("=")){let a={position:0};n=Zq("=",r,a),i=r.slice(a.position+1)}else n=r;if(n=n.trim(),i=i.trim(),i.length>vbt)return V6(e,t);let o=n.toLowerCase();if(o==="expires"){let a=new Date(i);t.expires=a}else if(o==="max-age"){let a=i.charCodeAt(0);if((a<48||a>57)&&i[0]!=="-"||!/^\d+$/.test(i))return V6(e,t);let l=Number(i);t.maxAge=l}else if(o==="domain"){let a=i;a[0]==="."&&(a=a.slice(1)),a=a.toLowerCase(),t.domain=a}else if(o==="path"){let a="";i.length===0||i[0]!=="/"?a="/":a=i,t.path=a}else if(o==="secure")t.secure=!0;else if(o==="httponly")t.httpOnly=!0;else if(o==="samesite"){let a="Default",l=i.toLowerCase();l.includes("none")&&(a="None"),l.includes("strict")&&(a="Strict"),l.includes("lax")&&(a="Lax"),t.sameSite=a}else t.unparsed??=[],t.unparsed.push(`${n}=${i}`);return V6(e,t)}s(V6,"parseUnparsedAttributes");Bke.exports={parseSetCookie:Ibt,parseUnparsedAttributes:V6}});var Lke=H((Ljr,Nke)=>{"use strict";d();var{parseSetCookie:Tbt}=Dke(),{stringify:wbt}=Xse(),{webidl:Fi}=dc(),{Headers:eW}=ob();function _bt(e){Fi.argumentLengthCheck(arguments,1,"getCookies"),Fi.brandCheck(e,eW,{strict:!1});let t=e.get("cookie"),r={};if(!t)return r;for(let n of t.split(";")){let[i,...o]=n.split("=");r[i.trim()]=o.join("=")}return r}s(_bt,"getCookies");function Sbt(e,t,r){Fi.brandCheck(e,eW,{strict:!1});let n="deleteCookie";Fi.argumentLengthCheck(arguments,2,n),t=Fi.converters.DOMString(t,n,"name"),r=Fi.converters.DeleteCookieAttributes(r),Pke(e,{name:t,value:"",expires:new Date(0),...r})}s(Sbt,"deleteCookie");function Rbt(e){Fi.argumentLengthCheck(arguments,1,"getSetCookies"),Fi.brandCheck(e,eW,{strict:!1});let t=e.getSetCookie();return t?t.map(r=>Tbt(r)):[]}s(Rbt,"getSetCookies");function Pke(e,t){Fi.argumentLengthCheck(arguments,2,"setCookie"),Fi.brandCheck(e,eW,{strict:!1}),t=Fi.converters.Cookie(t);let r=wbt(t);r&&e.append("Set-Cookie",r)}s(Pke,"setCookie");Fi.converters.DeleteCookieAttributes=Fi.dictionaryConverter([{converter:Fi.nullableConverter(Fi.converters.DOMString),key:"path",defaultValue:s(()=>null,"defaultValue")},{converter:Fi.nullableConverter(Fi.converters.DOMString),key:"domain",defaultValue:s(()=>null,"defaultValue")}]);Fi.converters.Cookie=Fi.dictionaryConverter([{converter:Fi.converters.DOMString,key:"name"},{converter:Fi.converters.DOMString,key:"value"},{converter:Fi.nullableConverter(e=>typeof e=="number"?Fi.converters["unsigned long long"](e):new Date(e)),key:"expires",defaultValue:s(()=>null,"defaultValue")},{converter:Fi.nullableConverter(Fi.converters["long long"]),key:"maxAge",defaultValue:s(()=>null,"defaultValue")},{converter:Fi.nullableConverter(Fi.converters.DOMString),key:"domain",defaultValue:s(()=>null,"defaultValue")},{converter:Fi.nullableConverter(Fi.converters.DOMString),key:"path",defaultValue:s(()=>null,"defaultValue")},{converter:Fi.nullableConverter(Fi.converters.boolean),key:"secure",defaultValue:s(()=>null,"defaultValue")},{converter:Fi.nullableConverter(Fi.converters.boolean),key:"httpOnly",defaultValue:s(()=>null,"defaultValue")},{converter:Fi.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:Fi.sequenceConverter(Fi.converters.DOMString),key:"unparsed",defaultValue:s(()=>new Array(0),"defaultValue")}]);Nke.exports={getCookies:_bt,deleteCookie:Sbt,getSetCookies:Rbt,setCookie:Pke}});var z6=H((Qjr,Mke)=>{"use strict";d();var{webidl:tn}=dc(),{kEnumerableProperty:Cu}=yi(),{kConstruct:Fke}=Qs(),{MessagePort:kbt}=require("node:worker_threads"),$6=class e extends Event{static{s(this,"MessageEvent")}#e;constructor(t,r={}){if(t===Fke){super(arguments[1],arguments[2]),tn.util.markAsUncloneable(this);return}let n="MessageEvent constructor";tn.argumentLengthCheck(arguments,1,n),t=tn.converters.DOMString(t,n,"type"),r=tn.converters.MessageEventInit(r,n,"eventInitDict"),super(t,r),this.#e=r,tn.util.markAsUncloneable(this)}get data(){return tn.brandCheck(this,e),this.#e.data}get origin(){return tn.brandCheck(this,e),this.#e.origin}get lastEventId(){return tn.brandCheck(this,e),this.#e.lastEventId}get source(){return tn.brandCheck(this,e),this.#e.source}get ports(){return tn.brandCheck(this,e),Object.isFrozen(this.#e.ports)||Object.freeze(this.#e.ports),this.#e.ports}initMessageEvent(t,r=!1,n=!1,i=null,o="",a="",l=null,c=[]){return tn.brandCheck(this,e),tn.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new e(t,{bubbles:r,cancelable:n,data:i,origin:o,lastEventId:a,source:l,ports:c})}static createFastMessageEvent(t,r){let n=new e(Fke,t,r);return n.#e=r,n.#e.data??=null,n.#e.origin??="",n.#e.lastEventId??="",n.#e.source??=null,n.#e.ports??=[],n}},{createFastMessageEvent:Bbt}=$6;delete $6.createFastMessageEvent;var tW=class e extends Event{static{s(this,"CloseEvent")}#e;constructor(t,r={}){let n="CloseEvent constructor";tn.argumentLengthCheck(arguments,1,n),t=tn.converters.DOMString(t,n,"type"),r=tn.converters.CloseEventInit(r),super(t,r),this.#e=r,tn.util.markAsUncloneable(this)}get wasClean(){return tn.brandCheck(this,e),this.#e.wasClean}get code(){return tn.brandCheck(this,e),this.#e.code}get reason(){return tn.brandCheck(this,e),this.#e.reason}},rW=class e extends Event{static{s(this,"ErrorEvent")}#e;constructor(t,r){let n="ErrorEvent constructor";tn.argumentLengthCheck(arguments,1,n),super(t,r),tn.util.markAsUncloneable(this),t=tn.converters.DOMString(t,n,"type"),r=tn.converters.ErrorEventInit(r??{}),this.#e=r}get message(){return tn.brandCheck(this,e),this.#e.message}get filename(){return tn.brandCheck(this,e),this.#e.filename}get lineno(){return tn.brandCheck(this,e),this.#e.lineno}get colno(){return tn.brandCheck(this,e),this.#e.colno}get error(){return tn.brandCheck(this,e),this.#e.error}};Object.defineProperties($6.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:Cu,origin:Cu,lastEventId:Cu,source:Cu,ports:Cu,initMessageEvent:Cu});Object.defineProperties(tW.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:Cu,code:Cu,wasClean:Cu});Object.defineProperties(rW.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:Cu,filename:Cu,lineno:Cu,colno:Cu,error:Cu});tn.converters.MessagePort=tn.interfaceConverter(kbt);tn.converters["sequence<MessagePort>"]=tn.sequenceConverter(tn.converters.MessagePort);var Zse=[{key:"bubbles",converter:tn.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"cancelable",converter:tn.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"composed",converter:tn.converters.boolean,defaultValue:s(()=>!1,"defaultValue")}];tn.converters.MessageEventInit=tn.dictionaryConverter([...Zse,{key:"data",converter:tn.converters.any,defaultValue:s(()=>null,"defaultValue")},{key:"origin",converter:tn.converters.USVString,defaultValue:s(()=>"","defaultValue")},{key:"lastEventId",converter:tn.converters.DOMString,defaultValue:s(()=>"","defaultValue")},{key:"source",converter:tn.nullableConverter(tn.converters.MessagePort),defaultValue:s(()=>null,"defaultValue")},{key:"ports",converter:tn.converters["sequence<MessagePort>"],defaultValue:s(()=>new Array(0),"defaultValue")}]);tn.converters.CloseEventInit=tn.dictionaryConverter([...Zse,{key:"wasClean",converter:tn.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"code",converter:tn.converters["unsigned short"],defaultValue:s(()=>0,"defaultValue")},{key:"reason",converter:tn.converters.USVString,defaultValue:s(()=>"","defaultValue")}]);tn.converters.ErrorEventInit=tn.dictionaryConverter([...Zse,{key:"message",converter:tn.converters.DOMString,defaultValue:s(()=>"","defaultValue")},{key:"filename",converter:tn.converters.USVString,defaultValue:s(()=>"","defaultValue")},{key:"lineno",converter:tn.converters["unsigned long"],defaultValue:s(()=>0,"defaultValue")},{key:"colno",converter:tn.converters["unsigned long"],defaultValue:s(()=>0,"defaultValue")},{key:"error",converter:tn.converters.any}]);Mke.exports={MessageEvent:$6,CloseEvent:tW,ErrorEvent:rW,createFastMessageEvent:Bbt}});var fb=H((qjr,Qke)=>{"use strict";d();var Dbt="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",Pbt={enumerable:!0,writable:!1,configurable:!1},Nbt={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},Lbt={NOT_SENT:0,PROCESSING:1,SENT:2},Fbt={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},Mbt=2**16-1,Qbt={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},Obt=Buffer.allocUnsafe(0),Ubt={string:1,typedArray:2,arrayBuffer:3,blob:4};Qke.exports={uid:Dbt,sentCloseFrameState:Lbt,staticPropertyDescriptors:Pbt,states:Nbt,opcodes:Fbt,maxUnsigned16Bit:Mbt,parserStates:Qbt,emptyBuffer:Obt,sendHints:Ubt}});var DR=H((Gjr,Oke)=>{"use strict";d();Oke.exports={kWebSocketURL:Symbol("url"),kReadyState:Symbol("ready state"),kController:Symbol("controller"),kResponse:Symbol("response"),kBinaryType:Symbol("binary type"),kSentClose:Symbol("sent close"),kReceivedClose:Symbol("received close"),kByteParser:Symbol("byte parser")}});var LR=H((jjr,zke)=>{"use strict";d();var{kReadyState:PR,kController:qbt,kResponse:Wbt,kBinaryType:Gbt,kWebSocketURL:Hbt}=DR(),{states:NR,opcodes:mC}=fb(),{ErrorEvent:jbt,createFastMessageEvent:Vbt}=z6(),{isUtf8:$bt}=require("node:buffer"),{collectASequenceOfCodePointsFast:zbt,removeHTTPWhitespace:Uke}=pu();function Ybt(e){return e[PR]===NR.CONNECTING}s(Ybt,"isConnecting");function Kbt(e){return e[PR]===NR.OPEN}s(Kbt,"isEstablished");function Jbt(e){return e[PR]===NR.CLOSING}s(Jbt,"isClosing");function Xbt(e){return e[PR]===NR.CLOSED}s(Xbt,"isClosed");function eae(e,t,r=(i,o)=>new Event(i,o),n={}){let i=r(e,n);t.dispatchEvent(i)}s(eae,"fireEvent");function Zbt(e,t,r){if(e[PR]!==NR.OPEN)return;let n;if(t===mC.TEXT)try{n=$ke(r)}catch{Wke(e,"Received invalid UTF-8 in text frame.");return}else t===mC.BINARY&&(e[Gbt]==="blob"?n=new Blob([r]):n=eEt(r));eae("message",e,Vbt,{origin:e[Hbt].origin,data:n})}s(Zbt,"websocketMessageReceived");function eEt(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}s(eEt,"toArrayBuffer");function tEt(e){if(e.length===0)return!1;for(let t=0;t<e.length;++t){let r=e.charCodeAt(t);if(r<33||r>126||r===34||r===40||r===41||r===44||r===47||r===58||r===59||r===60||r===61||r===62||r===63||r===64||r===91||r===92||r===93||r===123||r===125)return!1}return!0}s(tEt,"isValidSubprotocol");function rEt(e){return e>=1e3&&e<1015?e!==1004&&e!==1005&&e!==1006:e>=3e3&&e<=4999}s(rEt,"isValidStatusCode");function Wke(e,t){let{[qbt]:r,[Wbt]:n}=e;r.abort(),n?.socket&&!n.socket.destroyed&&n.socket.destroy(),t&&eae("error",e,(i,o)=>new jbt(i,o),{error:new Error(t),message:t})}s(Wke,"failWebsocketConnection");function Gke(e){return e===mC.CLOSE||e===mC.PING||e===mC.PONG}s(Gke,"isControlFrame");function Hke(e){return e===mC.CONTINUATION}s(Hke,"isContinuationFrame");function jke(e){return e===mC.TEXT||e===mC.BINARY}s(jke,"isTextBinaryFrame");function nEt(e){return jke(e)||Hke(e)||Gke(e)}s(nEt,"isValidOpcode");function iEt(e){let t={position:0},r=new Map;for(;t.position<e.length;){let n=zbt(";",e,t),[i,o=""]=n.split("=");r.set(Uke(i,!0,!1),Uke(o,!1,!0)),t.position++}return r}s(iEt,"parseExtensions");function oEt(e){for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0}s(oEt,"isValidClientWindowBits");var Vke=typeof process.versions.icu=="string",qke=Vke?new TextDecoder("utf-8",{fatal:!0}):void 0,$ke=Vke?qke.decode.bind(qke):function(e){if($bt(e))return e.toString("utf-8");throw new TypeError("Invalid utf-8 received.")};zke.exports={isConnecting:Ybt,isEstablished:Kbt,isClosing:Jbt,isClosed:Xbt,fireEvent:eae,isValidSubprotocol:tEt,isValidStatusCode:rEt,failWebsocketConnection:Wke,websocketMessageReceived:Zbt,utf8Decode:$ke,isControlFrame:Gke,isContinuationFrame:Hke,isTextBinaryFrame:jke,isValidOpcode:nEt,parseExtensions:iEt,isValidClientWindowBits:oEt}});var iW=H((zjr,Yke)=>{"use strict";d();var{maxUnsigned16Bit:sEt}=fb(),nW=16386,tae,FR=null,Y6=nW;try{tae=require("node:crypto")}catch{tae={randomFillSync:s(function(t,r,n){for(let i=0;i<t.length;++i)t[i]=Math.random()*255|0;return t},"randomFillSync")}}function aEt(){return Y6===nW&&(Y6=0,tae.randomFillSync(FR??=Buffer.allocUnsafe(nW),0,nW)),[FR[Y6++],FR[Y6++],FR[Y6++],FR[Y6++]]}s(aEt,"generateMask");var rae=class{static{s(this,"WebsocketFrameSend")}constructor(t){this.frameData=t}createFrame(t){let r=this.frameData,n=aEt(),i=r?.byteLength??0,o=i,a=6;i>sEt?(a+=8,o=127):i>125&&(a+=2,o=126);let l=Buffer.allocUnsafe(i+a);l[0]=l[1]=0,l[0]|=128,l[0]=(l[0]&240)+t;l[a-4]=n[0],l[a-3]=n[1],l[a-2]=n[2],l[a-1]=n[3],l[1]=o,o===126?l.writeUInt16BE(i,2):o===127&&(l[2]=l[3]=0,l.writeUIntBE(i,4,6)),l[1]|=128;for(let c=0;c<i;++c)l[a+c]=r[c]^n[c&3];return l}};Yke.exports={WebsocketFrameSend:rae}});var iae=H((Jjr,rBe)=>{"use strict";d();var{uid:lEt,states:MR,sentCloseFrameState:oW,emptyBuffer:cEt,opcodes:uEt}=fb(),{kReadyState:QR,kSentClose:sW,kByteParser:Jke,kReceivedClose:Kke,kResponse:Xke}=DR(),{fireEvent:fEt,failWebsocketConnection:hC,isClosing:dEt,isClosed:mEt,isEstablished:hEt,parseExtensions:pEt}=LR(),{channels:K6}=c6(),{CloseEvent:gEt}=z6(),{makeRequest:AEt}=W6(),{fetching:yEt}=SR(),{Headers:CEt,getHeadersList:xEt}=ob(),{getDecodeSplit:vEt}=If(),{WebsocketFrameSend:bEt}=iW(),nae;try{nae=require("node:crypto")}catch{}function EEt(e,t,r,n,i,o){let a=e;a.protocol=e.protocol==="ws:"?"http:":"https:";let l=AEt({urlList:[a],client:r,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(o.headers){let m=xEt(new CEt(o.headers));l.headersList=m}let c=nae.randomBytes(16).toString("base64");l.headersList.append("sec-websocket-key",c),l.headersList.append("sec-websocket-version","13");for(let m of t)l.headersList.append("sec-websocket-protocol",m);return l.headersList.append("sec-websocket-extensions","permessage-deflate; client_max_window_bits"),yEt({request:l,useParallelQueue:!0,dispatcher:o.dispatcher,processResponse(m){if(m.type==="error"||m.status!==101){hC(n,"Received network error or non-101 status code.");return}if(t.length!==0&&!m.headersList.get("Sec-WebSocket-Protocol")){hC(n,"Server did not respond with sent protocols.");return}if(m.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){hC(n,'Server did not set Upgrade header to "websocket".');return}if(m.headersList.get("Connection")?.toLowerCase()!=="upgrade"){hC(n,'Server did not set Connection header to "upgrade".');return}let h=m.headersList.get("Sec-WebSocket-Accept"),p=nae.createHash("sha1").update(c+lEt).digest("base64");if(h!==p){hC(n,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let g=m.headersList.get("Sec-WebSocket-Extensions"),y;if(g!==null&&(y=pEt(g),!y.has("permessage-deflate"))){hC(n,"Sec-WebSocket-Extensions header does not match.");return}let x=m.headersList.get("Sec-WebSocket-Protocol");if(x!==null&&!vEt("sec-websocket-protocol",l.headersList).includes(x)){hC(n,"Protocol was not set in the opening handshake.");return}m.socket.on("data",Zke),m.socket.on("close",eBe),m.socket.on("error",tBe),K6.open.hasSubscribers&&K6.open.publish({address:m.socket.address(),protocol:x,extensions:g}),i(m,y)}})}s(EEt,"establishWebSocketConnection");function IEt(e,t,r,n){if(!(dEt(e)||mEt(e)))if(!hEt(e))hC(e,"Connection was closed before it was established."),e[QR]=MR.CLOSING;else if(e[sW]===oW.NOT_SENT){e[sW]=oW.PROCESSING;let i=new bEt;t!==void 0&&r===void 0?(i.frameData=Buffer.allocUnsafe(2),i.frameData.writeUInt16BE(t,0)):t!==void 0&&r!==void 0?(i.frameData=Buffer.allocUnsafe(2+n),i.frameData.writeUInt16BE(t,0),i.frameData.write(r,2,"utf-8")):i.frameData=cEt,e[Xke].socket.write(i.createFrame(uEt.CLOSE)),e[sW]=oW.SENT,e[QR]=MR.CLOSING}else e[QR]=MR.CLOSING}s(IEt,"closeWebSocketConnection");function Zke(e){this.ws[Jke].write(e)||this.pause()}s(Zke,"onSocketData");function eBe(){let{ws:e}=this,{[Xke]:t}=e;t.socket.off("data",Zke),t.socket.off("close",eBe),t.socket.off("error",tBe);let r=e[sW]===oW.SENT&&e[Kke],n=1005,i="",o=e[Jke].closingInfo;o&&!o.error?(n=o.code??1005,i=o.reason):e[Kke]||(n=1006),e[QR]=MR.CLOSED,fEt("close",e,(a,l)=>new gEt(a,l),{wasClean:r,code:n,reason:i}),K6.close.hasSubscribers&&K6.close.publish({websocket:e,code:n,reason:i})}s(eBe,"onSocketClose");function tBe(e){let{ws:t}=this;t[QR]=MR.CLOSING,K6.socketError.hasSubscribers&&K6.socketError.publish(e),this.destroy()}s(tBe,"onSocketError");rBe.exports={establishWebSocketConnection:EEt,closeWebSocketConnection:IEt}});var iBe=H((eVr,nBe)=>{"use strict";d();var{createInflateRaw:TEt,Z_DEFAULT_WINDOWBITS:wEt}=require("node:zlib"),{isValidClientWindowBits:_Et}=LR(),SEt=Buffer.from([0,0,255,255]),aW=Symbol("kBuffer"),lW=Symbol("kLength"),oae=class{static{s(this,"PerMessageDeflate")}#e;#t={};constructor(t){this.#t.serverNoContextTakeover=t.has("server_no_context_takeover"),this.#t.serverMaxWindowBits=t.get("server_max_window_bits")}decompress(t,r,n){if(!this.#e){let i=wEt;if(this.#t.serverMaxWindowBits){if(!_Et(this.#t.serverMaxWindowBits)){n(new Error("Invalid server_max_window_bits"));return}i=Number.parseInt(this.#t.serverMaxWindowBits)}this.#e=TEt({windowBits:i}),this.#e[aW]=[],this.#e[lW]=0,this.#e.on("data",o=>{this.#e[aW].push(o),this.#e[lW]+=o.length}),this.#e.on("error",o=>{this.#e=null,n(o)})}this.#e.write(t),r&&this.#e.write(SEt),this.#e.flush(()=>{let i=Buffer.concat(this.#e[aW],this.#e[lW]);this.#e[aW].length=0,this.#e[lW]=0,n(null,i)})}};nBe.exports={PerMessageDeflate:oae}});var pBe=H((nVr,hBe)=>{"use strict";d();var{Writable:REt}=require("node:stream"),kEt=require("node:assert"),{parserStates:xu,opcodes:J6,states:BEt,emptyBuffer:oBe,sentCloseFrameState:sBe}=fb(),{kReadyState:DEt,kSentClose:aBe,kResponse:lBe,kReceivedClose:cBe}=DR(),{channels:cW}=c6(),{isValidStatusCode:PEt,isValidOpcode:NEt,failWebsocketConnection:em,websocketMessageReceived:uBe,utf8Decode:LEt,isControlFrame:fBe,isTextBinaryFrame:sae,isContinuationFrame:FEt}=LR(),{WebsocketFrameSend:dBe}=iW(),{closeWebSocketConnection:mBe}=iae(),{PerMessageDeflate:MEt}=iBe(),aae=class extends REt{static{s(this,"ByteParser")}#e=[];#t=0;#i=!1;#n=xu.INFO;#r={};#o=[];#s;constructor(t,r){super(),this.ws=t,this.#s=r??new Map,this.#s.has("permessage-deflate")&&this.#s.set("permessage-deflate",new MEt(r))}_write(t,r,n){this.#e.push(t),this.#t+=t.length,this.#i=!0,this.run(n)}run(t){for(;this.#i;)if(this.#n===xu.INFO){if(this.#t<2)return t();let r=this.consume(2),n=(r[0]&128)!==0,i=r[0]&15,o=(r[1]&128)===128,a=!n&&i!==J6.CONTINUATION,l=r[1]&127,c=r[0]&64,u=r[0]&32,f=r[0]&16;if(!NEt(i))return em(this.ws,"Invalid opcode received"),t();if(o)return em(this.ws,"Frame cannot be masked"),t();if(c!==0&&!this.#s.has("permessage-deflate")){em(this.ws,"Expected RSV1 to be clear.");return}if(u!==0||f!==0){em(this.ws,"RSV1, RSV2, RSV3 must be clear");return}if(a&&!sae(i)){em(this.ws,"Invalid frame type was fragmented.");return}if(sae(i)&&this.#o.length>0){em(this.ws,"Expected continuation frame");return}if(this.#r.fragmented&&a){em(this.ws,"Fragmented frame exceeded 125 bytes.");return}if((l>125||a)&&fBe(i)){em(this.ws,"Control frame either too large or fragmented");return}if(FEt(i)&&this.#o.length===0&&!this.#r.compressed){em(this.ws,"Unexpected continuation frame");return}l<=125?(this.#r.payloadLength=l,this.#n=xu.READ_DATA):l===126?this.#n=xu.PAYLOADLENGTH_16:l===127&&(this.#n=xu.PAYLOADLENGTH_64),sae(i)&&(this.#r.binaryType=i,this.#r.compressed=c!==0),this.#r.opcode=i,this.#r.masked=o,this.#r.fin=n,this.#r.fragmented=a}else if(this.#n===xu.PAYLOADLENGTH_16){if(this.#t<2)return t();let r=this.consume(2);this.#r.payloadLength=r.readUInt16BE(0),this.#n=xu.READ_DATA}else if(this.#n===xu.PAYLOADLENGTH_64){if(this.#t<8)return t();let r=this.consume(8),n=r.readUInt32BE(0);if(n>2**31-1){em(this.ws,"Received payload length > 2^31 bytes.");return}let i=r.readUInt32BE(4);this.#r.payloadLength=(n<<8)+i,this.#n=xu.READ_DATA}else if(this.#n===xu.READ_DATA){if(this.#t<this.#r.payloadLength)return t();let r=this.consume(this.#r.payloadLength);if(fBe(this.#r.opcode))this.#i=this.parseControlFrame(r),this.#n=xu.INFO;else if(this.#r.compressed){this.#s.get("permessage-deflate").decompress(r,this.#r.fin,(n,i)=>{if(n){mBe(this.ws,1007,n.message,n.message.length);return}if(this.#o.push(i),!this.#r.fin){this.#n=xu.INFO,this.#i=!0,this.run(t);return}uBe(this.ws,this.#r.binaryType,Buffer.concat(this.#o)),this.#i=!0,this.#n=xu.INFO,this.#o.length=0,this.run(t)}),this.#i=!1;break}else{if(this.#o.push(r),!this.#r.fragmented&&this.#r.fin){let n=Buffer.concat(this.#o);uBe(this.ws,this.#r.binaryType,n),this.#o.length=0}this.#n=xu.INFO}}}consume(t){if(t>this.#t)throw new Error("Called consume() before buffers satiated.");if(t===0)return oBe;if(this.#e[0].length===t)return this.#t-=this.#e[0].length,this.#e.shift();let r=Buffer.allocUnsafe(t),n=0;for(;n!==t;){let i=this.#e[0],{length:o}=i;if(o+n===t){r.set(this.#e.shift(),n);break}else if(o+n>t){r.set(i.subarray(0,t-n),n),this.#e[0]=i.subarray(t-n);break}else r.set(this.#e.shift(),n),n+=i.length}return this.#t-=t,r}parseCloseBody(t){kEt(t.length!==1);let r;if(t.length>=2&&(r=t.readUInt16BE(0)),r!==void 0&&!PEt(r))return{code:1002,reason:"Invalid status code",error:!0};let n=t.subarray(2);n[0]===239&&n[1]===187&&n[2]===191&&(n=n.subarray(3));try{n=LEt(n)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:r,reason:n,error:!1}}parseControlFrame(t){let{opcode:r,payloadLength:n}=this.#r;if(r===J6.CLOSE){if(n===1)return em(this.ws,"Received close frame with a 1-byte body."),!1;if(this.#r.closeInfo=this.parseCloseBody(t),this.#r.closeInfo.error){let{code:i,reason:o}=this.#r.closeInfo;return mBe(this.ws,i,o,o.length),em(this.ws,o),!1}if(this.ws[aBe]!==sBe.SENT){let i=oBe;this.#r.closeInfo.code&&(i=Buffer.allocUnsafe(2),i.writeUInt16BE(this.#r.closeInfo.code,0));let o=new dBe(i);this.ws[lBe].socket.write(o.createFrame(J6.CLOSE),a=>{a||(this.ws[aBe]=sBe.SENT)})}return this.ws[DEt]=BEt.CLOSING,this.ws[cBe]=!0,!1}else if(r===J6.PING){if(!this.ws[cBe]){let i=new dBe(t);this.ws[lBe].socket.write(i.createFrame(J6.PONG)),cW.ping.hasSubscribers&&cW.ping.publish({payload:t})}}else r===J6.PONG&&cW.pong.hasSubscribers&&cW.pong.publish({payload:t});return!0}get closingInfo(){return this.#r.closeInfo}};hBe.exports={ByteParser:aae}});var xBe=H((sVr,CBe)=>{"use strict";d();var{WebsocketFrameSend:QEt}=iW(),{opcodes:gBe,sendHints:X6}=fb(),OEt=Coe(),ABe=Buffer[Symbol.species],lae=class{static{s(this,"SendQueue")}#e=new OEt;#t=!1;#i;constructor(t){this.#i=t}add(t,r,n){if(n!==X6.blob){let o=yBe(t,n);if(!this.#t)this.#i.write(o,r);else{let a={promise:null,callback:r,frame:o};this.#e.push(a)}return}let i={promise:t.arrayBuffer().then(o=>{i.promise=null,i.frame=yBe(o,n)}),callback:r,frame:null};this.#e.push(i),this.#t||this.#n()}async#n(){this.#t=!0;let t=this.#e;for(;!t.isEmpty();){let r=t.shift();r.promise!==null&&await r.promise,this.#i.write(r.frame,r.callback),r.callback=r.frame=null}this.#t=!1}};function yBe(e,t){return new QEt(UEt(e,t)).createFrame(t===X6.string?gBe.TEXT:gBe.BINARY)}s(yBe,"createFrame");function UEt(e,t){switch(t){case X6.string:return Buffer.from(e);case X6.arrayBuffer:case X6.blob:return new ABe(e);case X6.typedArray:return new ABe(e.buffer,e.byteOffset,e.byteLength)}}s(UEt,"toBuffer");CBe.exports={SendQueue:lae}});var RBe=H((cVr,SBe)=>{"use strict";d();var{webidl:Gn}=dc(),{URLSerializer:qEt}=pu(),{environmentSettingsObject:vBe}=If(),{staticPropertyDescriptors:pC,states:OR,sentCloseFrameState:WEt,sendHints:uW}=fb(),{kWebSocketURL:bBe,kReadyState:cae,kController:GEt,kBinaryType:fW,kResponse:EBe,kSentClose:HEt,kByteParser:jEt}=DR(),{isConnecting:VEt,isEstablished:$Et,isClosing:zEt,isValidSubprotocol:YEt,fireEvent:IBe}=LR(),{establishWebSocketConnection:KEt,closeWebSocketConnection:TBe}=iae(),{ByteParser:JEt}=pBe(),{kEnumerableProperty:tm,isBlobLike:wBe}=yi(),{getGlobalDispatcher:XEt}=Tq(),{types:_Be}=require("node:util"),{ErrorEvent:ZEt,CloseEvent:e4t}=z6(),{SendQueue:t4t}=xBe(),Bf=class e extends EventTarget{static{s(this,"WebSocket")}#e={open:null,error:null,close:null,message:null};#t=0;#i="";#n="";#r;constructor(t,r=[]){super(),Gn.util.markAsUncloneable(this);let n="WebSocket constructor";Gn.argumentLengthCheck(arguments,1,n);let i=Gn.converters["DOMString or sequence<DOMString> or WebSocketInit"](r,n,"options");t=Gn.converters.USVString(t,n,"url"),r=i.protocols;let o=vBe.settingsObject.baseUrl,a;try{a=new URL(t,o)}catch(c){throw new DOMException(c,"SyntaxError")}if(a.protocol==="http:"?a.protocol="ws:":a.protocol==="https:"&&(a.protocol="wss:"),a.protocol!=="ws:"&&a.protocol!=="wss:")throw new DOMException(`Expected a ws: or wss: protocol, got ${a.protocol}`,"SyntaxError");if(a.hash||a.href.endsWith("#"))throw new DOMException("Got fragment","SyntaxError");if(typeof r=="string"&&(r=[r]),r.length!==new Set(r.map(c=>c.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(r.length>0&&!r.every(c=>YEt(c)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this[bBe]=new URL(a.href);let l=vBe.settingsObject;this[GEt]=KEt(a,r,l,this,(c,u)=>this.#o(c,u),i),this[cae]=e.CONNECTING,this[HEt]=WEt.NOT_SENT,this[fW]="blob"}close(t=void 0,r=void 0){Gn.brandCheck(this,e);let n="WebSocket.close";if(t!==void 0&&(t=Gn.converters["unsigned short"](t,n,"code",{clamp:!0})),r!==void 0&&(r=Gn.converters.USVString(r,n,"reason")),t!==void 0&&t!==1e3&&(t<3e3||t>4999))throw new DOMException("invalid code","InvalidAccessError");let i=0;if(r!==void 0&&(i=Buffer.byteLength(r),i>123))throw new DOMException(`Reason must be less than 123 bytes; received ${i}`,"SyntaxError");TBe(this,t,r,i)}send(t){Gn.brandCheck(this,e);let r="WebSocket.send";if(Gn.argumentLengthCheck(arguments,1,r),t=Gn.converters.WebSocketSendData(t,r,"data"),VEt(this))throw new DOMException("Sent before connected.","InvalidStateError");if(!(!$Et(this)||zEt(this)))if(typeof t=="string"){let n=Buffer.byteLength(t);this.#t+=n,this.#r.add(t,()=>{this.#t-=n},uW.string)}else _Be.isArrayBuffer(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},uW.arrayBuffer)):ArrayBuffer.isView(t)?(this.#t+=t.byteLength,this.#r.add(t,()=>{this.#t-=t.byteLength},uW.typedArray)):wBe(t)&&(this.#t+=t.size,this.#r.add(t,()=>{this.#t-=t.size},uW.blob))}get readyState(){return Gn.brandCheck(this,e),this[cae]}get bufferedAmount(){return Gn.brandCheck(this,e),this.#t}get url(){return Gn.brandCheck(this,e),qEt(this[bBe])}get extensions(){return Gn.brandCheck(this,e),this.#n}get protocol(){return Gn.brandCheck(this,e),this.#i}get onopen(){return Gn.brandCheck(this,e),this.#e.open}set onopen(t){Gn.brandCheck(this,e),this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onerror(){return Gn.brandCheck(this,e),this.#e.error}set onerror(t){Gn.brandCheck(this,e),this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}get onclose(){return Gn.brandCheck(this,e),this.#e.close}set onclose(t){Gn.brandCheck(this,e),this.#e.close&&this.removeEventListener("close",this.#e.close),typeof t=="function"?(this.#e.close=t,this.addEventListener("close",t)):this.#e.close=null}get onmessage(){return Gn.brandCheck(this,e),this.#e.message}set onmessage(t){Gn.brandCheck(this,e),this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get binaryType(){return Gn.brandCheck(this,e),this[fW]}set binaryType(t){Gn.brandCheck(this,e),t!=="blob"&&t!=="arraybuffer"?this[fW]="blob":this[fW]=t}#o(t,r){this[EBe]=t;let n=new JEt(this,r);n.on("drain",r4t),n.on("error",n4t.bind(this)),t.socket.ws=this,this[jEt]=n,this.#r=new t4t(t.socket),this[cae]=OR.OPEN;let i=t.headersList.get("sec-websocket-extensions");i!==null&&(this.#n=i);let o=t.headersList.get("sec-websocket-protocol");o!==null&&(this.#i=o),IBe("open",this)}};Bf.CONNECTING=Bf.prototype.CONNECTING=OR.CONNECTING;Bf.OPEN=Bf.prototype.OPEN=OR.OPEN;Bf.CLOSING=Bf.prototype.CLOSING=OR.CLOSING;Bf.CLOSED=Bf.prototype.CLOSED=OR.CLOSED;Object.defineProperties(Bf.prototype,{CONNECTING:pC,OPEN:pC,CLOSING:pC,CLOSED:pC,url:tm,readyState:tm,bufferedAmount:tm,onopen:tm,onerror:tm,onclose:tm,close:tm,onmessage:tm,binaryType:tm,send:tm,extensions:tm,protocol:tm,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(Bf,{CONNECTING:pC,OPEN:pC,CLOSING:pC,CLOSED:pC});Gn.converters["sequence<DOMString>"]=Gn.sequenceConverter(Gn.converters.DOMString);Gn.converters["DOMString or sequence<DOMString>"]=function(e,t,r){return Gn.util.Type(e)==="Object"&&Symbol.iterator in e?Gn.converters["sequence<DOMString>"](e):Gn.converters.DOMString(e,t,r)};Gn.converters.WebSocketInit=Gn.dictionaryConverter([{key:"protocols",converter:Gn.converters["DOMString or sequence<DOMString>"],defaultValue:s(()=>new Array(0),"defaultValue")},{key:"dispatcher",converter:Gn.converters.any,defaultValue:s(()=>XEt(),"defaultValue")},{key:"headers",converter:Gn.nullableConverter(Gn.converters.HeadersInit)}]);Gn.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(e){return Gn.util.Type(e)==="Object"&&!(Symbol.iterator in e)?Gn.converters.WebSocketInit(e):{protocols:Gn.converters["DOMString or sequence<DOMString>"](e)}};Gn.converters.WebSocketSendData=function(e){if(Gn.util.Type(e)==="Object"){if(wBe(e))return Gn.converters.Blob(e,{strict:!1});if(ArrayBuffer.isView(e)||_Be.isArrayBuffer(e))return Gn.converters.BufferSource(e)}return Gn.converters.USVString(e)};function r4t(){this.ws[EBe].socket.resume()}s(r4t,"onParserDrain");function n4t(e){let t,r;e instanceof e4t?(t=e.reason,r=e.code):t=e.message,IBe("error",this,()=>new ZEt("error",{error:e,message:t})),TBe(this,r)}s(n4t,"onParserError");SBe.exports={WebSocket:Bf}});var uae=H((dVr,kBe)=>{"use strict";d();function i4t(e){return e.indexOf("\0")===-1}s(i4t,"isValidLastEventId");function o4t(e){if(e.length===0)return!1;for(let t=0;t<e.length;t++)if(e.charCodeAt(t)<48||e.charCodeAt(t)>57)return!1;return!0}s(o4t,"isASCIINumber");function s4t(e){return new Promise(t=>{setTimeout(t,e).unref()})}s(s4t,"delay");kBe.exports={isValidLastEventId:i4t,isASCIINumber:o4t,delay:s4t}});var NBe=H((pVr,PBe)=>{"use strict";d();var{Transform:a4t}=require("node:stream"),{isASCIINumber:BBe,isValidLastEventId:DBe}=uae(),UA=[239,187,191],fae=10,dW=13,l4t=58,c4t=32,dae=class extends a4t{static{s(this,"EventSourceStream")}state=null;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(t={}){t.readableObjectMode=!0,super(t),this.state=t.eventSourceSettings||{},t.push&&(this.push=t.push)}_transform(t,r,n){if(t.length===0){n();return}if(this.buffer?this.buffer=Buffer.concat([this.buffer,t]):this.buffer=t,this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===UA[0]){n();return}this.checkBOM=!1,n();return;case 2:if(this.buffer[0]===UA[0]&&this.buffer[1]===UA[1]){n();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===UA[0]&&this.buffer[1]===UA[1]&&this.buffer[2]===UA[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,n();return}this.checkBOM=!1;break;default:this.buffer[0]===UA[0]&&this.buffer[1]===UA[1]&&this.buffer[2]===UA[2]&&(this.buffer=this.buffer.subarray(3)),this.checkBOM=!1;break}for(;this.pos<this.buffer.length;){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===fae){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===fae||this.buffer[this.pos]===dW){this.buffer[this.pos]===dW&&(this.crlfCheck=!0),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,(this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)&&this.processEvent(this.event),this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===fae||this.buffer[this.pos]===dW){this.buffer[this.pos]===dW&&(this.crlfCheck=!0),this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}n()}parseLine(t,r){if(t.length===0)return;let n=t.indexOf(l4t);if(n===0)return;let i="",o="";if(n!==-1){i=t.subarray(0,n).toString("utf8");let a=n+1;t[a]===c4t&&++a,o=t.subarray(a).toString("utf8")}else i=t.toString("utf8"),o="";switch(i){case"data":r[i]===void 0?r[i]=o:r[i]+=`
${o}`;break;case"retry":BBe(o)&&(r[i]=o);break;case"id":DBe(o)&&(r[i]=o);break;case"event":o.length>0&&(r[i]=o);break}}processEvent(t){t.retry&&BBe(t.retry)&&(this.state.reconnectionTime=parseInt(t.retry,10)),t.id&&DBe(t.id)&&(this.state.lastEventId=t.id),t.data!==void 0&&this.push({type:t.event||"message",options:{data:t.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}};PBe.exports={EventSourceStream:dae}});var WBe=H((yVr,qBe)=>{"use strict";d();var{pipeline:u4t}=require("node:stream"),{fetching:f4t}=SR(),{makeRequest:d4t}=W6(),{webidl:qA}=dc(),{EventSourceStream:m4t}=NBe(),{parseMIMEType:h4t}=pu(),{createFastMessageEvent:p4t}=z6(),{isNetworkError:LBe}=wR(),{delay:g4t}=uae(),{kEnumerableProperty:db}=yi(),{environmentSettingsObject:FBe}=If(),MBe=!1,QBe=3e3,UR=0,OBe=1,qR=2,A4t="anonymous",y4t="use-credentials",Z6=class e extends EventTarget{static{s(this,"EventSource")}#e={open:null,error:null,message:null};#t=null;#i=!1;#n=UR;#r=null;#o=null;#s;#a;constructor(t,r={}){super(),qA.util.markAsUncloneable(this);let n="EventSource constructor";qA.argumentLengthCheck(arguments,1,n),MBe||(MBe=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"})),t=qA.converters.USVString(t,n,"url"),r=qA.converters.EventSourceInitDict(r,n,"eventSourceInitDict"),this.#s=r.dispatcher,this.#a={lastEventId:"",reconnectionTime:QBe};let i=FBe,o;try{o=new URL(t,i.settingsObject.baseUrl),this.#a.origin=o.origin}catch(c){throw new DOMException(c,"SyntaxError")}this.#t=o.href;let a=A4t;r.withCredentials&&(a=y4t,this.#i=!0);let l={redirect:"follow",keepalive:!0,mode:"cors",credentials:a==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};l.client=FBe.settingsObject,l.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],l.cache="no-store",l.initiator="other",l.urlList=[new URL(this.#t)],this.#r=d4t(l),this.#l()}get readyState(){return this.#n}get url(){return this.#t}get withCredentials(){return this.#i}#l(){if(this.#n===qR)return;this.#n=UR;let t={request:this.#r,dispatcher:this.#s},r=s(n=>{LBe(n)&&(this.dispatchEvent(new Event("error")),this.close()),this.#c()},"processEventSourceEndOfBody");t.processResponseEndOfBody=r,t.processResponse=n=>{if(LBe(n))if(n.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#c();return}let i=n.headersList.get("content-type",!0),o=i!==null?h4t(i):"failure",a=o!=="failure"&&o.essence==="text/event-stream";if(n.status!==200||a===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#n=OBe,this.dispatchEvent(new Event("open")),this.#a.origin=n.urlList[n.urlList.length-1].origin;let l=new m4t({eventSourceSettings:this.#a,push:s(c=>{this.dispatchEvent(p4t(c.type,c.options))},"push")});u4t(n.body.stream,l,c=>{c?.aborted===!1&&(this.close(),this.dispatchEvent(new Event("error")))})},this.#o=f4t(t)}async#c(){this.#n!==qR&&(this.#n=UR,this.dispatchEvent(new Event("error")),await g4t(this.#a.reconnectionTime),this.#n===UR&&(this.#a.lastEventId.length&&this.#r.headersList.set("last-event-id",this.#a.lastEventId,!0),this.#l()))}close(){qA.brandCheck(this,e),this.#n!==qR&&(this.#n=qR,this.#o.abort(),this.#r=null)}get onopen(){return this.#e.open}set onopen(t){this.#e.open&&this.removeEventListener("open",this.#e.open),typeof t=="function"?(this.#e.open=t,this.addEventListener("open",t)):this.#e.open=null}get onmessage(){return this.#e.message}set onmessage(t){this.#e.message&&this.removeEventListener("message",this.#e.message),typeof t=="function"?(this.#e.message=t,this.addEventListener("message",t)):this.#e.message=null}get onerror(){return this.#e.error}set onerror(t){this.#e.error&&this.removeEventListener("error",this.#e.error),typeof t=="function"?(this.#e.error=t,this.addEventListener("error",t)):this.#e.error=null}},UBe={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:UR,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:OBe,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:qR,writable:!1}};Object.defineProperties(Z6,UBe);Object.defineProperties(Z6.prototype,UBe);Object.defineProperties(Z6.prototype,{close:db,onerror:db,onmessage:db,onopen:db,readyState:db,url:db,withCredentials:db});qA.converters.EventSourceInitDict=qA.dictionaryConverter([{key:"withCredentials",converter:qA.converters.boolean,defaultValue:s(()=>!1,"defaultValue")},{key:"dispatcher",converter:qA.converters.any}]);qBe.exports={EventSource:Z6,defaultReconnectionTime:QBe}});var VBe=H((vVr,Bn)=>{"use strict";d();var C4t=fR(),GBe=GS(),x4t=R6(),v4t=K7e(),b4t=k6(),E4t=Moe(),I4t=m_e(),T4t=C_e(),HBe=Ao(),hW=yi(),{InvalidArgumentError:mW}=HBe,e9=oSe(),w4t=jS(),_4t=yse(),S4t=USe(),R4t=vse(),k4t=ose(),B4t=pq(),{getGlobalDispatcher:jBe,setGlobalDispatcher:D4t}=Tq(),P4t=wq(),N4t=nq(),L4t=iq();Object.assign(GBe.prototype,e9);Bn.exports.Dispatcher=GBe;Bn.exports.Client=C4t;Bn.exports.Pool=x4t;Bn.exports.BalancedPool=v4t;Bn.exports.Agent=b4t;Bn.exports.ProxyAgent=E4t;Bn.exports.EnvHttpProxyAgent=I4t;Bn.exports.RetryAgent=T4t;Bn.exports.RetryHandler=B4t;Bn.exports.DecoratorHandler=P4t;Bn.exports.RedirectHandler=N4t;Bn.exports.createRedirectInterceptor=L4t;Bn.exports.interceptors={redirect:$Se(),retry:YSe(),dump:JSe(),dns:eRe()};Bn.exports.buildConnector=w4t;Bn.exports.errors=HBe;Bn.exports.util={parseHeaders:hW.parseHeaders,headerNameToString:hW.headerNameToString};function WR(e){return(t,r,n)=>{if(typeof r=="function"&&(n=r,r=null),!t||typeof t!="string"&&typeof t!="object"&&!(t instanceof URL))throw new mW("invalid url");if(r!=null&&typeof r!="object")throw new mW("invalid opts");if(r&&r.path!=null){if(typeof r.path!="string")throw new mW("invalid opts.path");let a=r.path;r.path.startsWith("/")||(a=`/${a}`),t=new URL(hW.parseOrigin(t).origin+a)}else r||(r=typeof t=="object"?t:{}),t=hW.parseURL(t);let{agent:i,dispatcher:o=jBe()}=r;if(i)throw new mW("unsupported opts.agent. Did you mean opts.client?");return e.call(o,{...r,origin:t.origin,path:t.search?`${t.pathname}${t.search}`:t.pathname,method:r.method||(r.body?"PUT":"GET")},n)}}s(WR,"makeDispatcher");Bn.exports.setGlobalDispatcher=D4t;Bn.exports.getGlobalDispatcher=jBe;var F4t=SR().fetch;Bn.exports.fetch=s(async function(t,r=void 0){try{return await F4t(t,r)}catch(n){throw n&&typeof n=="object"&&Error.captureStackTrace(n),n}},"fetch");Bn.exports.Headers=ob().Headers;Bn.exports.Response=wR().Response;Bn.exports.Request=W6().Request;Bn.exports.FormData=XS().FormData;Bn.exports.File=globalThis.File??require("node:buffer").File;Bn.exports.FileReader=hke().FileReader;var{setGlobalOrigin:M4t,getGlobalOrigin:Q4t}=Qie();Bn.exports.setGlobalOrigin=M4t;Bn.exports.getGlobalOrigin=Q4t;var{CacheStorage:O4t}=Eke(),{kConstruct:U4t}=$q();Bn.exports.caches=new O4t(U4t);var{deleteCookie:q4t,getCookies:W4t,getSetCookies:G4t,setCookie:H4t}=Lke();Bn.exports.deleteCookie=q4t;Bn.exports.getCookies=W4t;Bn.exports.getSetCookies=G4t;Bn.exports.setCookie=H4t;var{parseMIMEType:j4t,serializeAMimeType:V4t}=pu();Bn.exports.parseMIMEType=j4t;Bn.exports.serializeAMimeType=V4t;var{CloseEvent:$4t,ErrorEvent:z4t,MessageEvent:Y4t}=z6();Bn.exports.WebSocket=RBe().WebSocket;Bn.exports.CloseEvent=$4t;Bn.exports.ErrorEvent=z4t;Bn.exports.MessageEvent=Y4t;Bn.exports.request=WR(e9.request);Bn.exports.stream=WR(e9.stream);Bn.exports.pipeline=WR(e9.pipeline);Bn.exports.connect=WR(e9.connect);Bn.exports.upgrade=WR(e9.upgrade);Bn.exports.MockClient=_4t;Bn.exports.MockPool=R4t;Bn.exports.MockAgent=S4t;Bn.exports.mockErrors=k4t;var{EventSource:K4t}=WBe();Bn.exports.EventSource=K4t});var fi=H((IVr,$Be)=>{d();$Be.exports={options:{usePureJavaScript:!1}}});var KBe=H((wVr,YBe)=>{d();var mae={};YBe.exports=mae;var zBe={};mae.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=J4t(e,t);else{var i=0,o=t.length,a=t.charAt(0),l=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<l.length;++c)u+=l[c]<<8,l[c]=u%o,u=u/o|0;for(;u>0;)l.push(u%o),u=u/o|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=a;for(i=l.length-1;i>=0;--i)n+=t[l[i]]}if(r){var f=new RegExp(".{1,"+r+"}","g");n=n.match(f).join(`\r
`)}return n};mae.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=zBe[t];if(!r){r=zBe[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,o=t.charAt(0),a=[0],n=0;n<e.length;n++){var l=r[e.charCodeAt(n)];if(l===void 0)return;for(var c=0,u=l;c<a.length;++c)u+=a[c]*i,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var f=0;e[f]===o&&f<e.length-1;++f)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function J4t(e,t){var r=0,n=t.length,i=t.charAt(0),o=[0];for(r=0;r<e.length();++r){for(var a=0,l=e.at(r);a<o.length;++a)l+=o[a]<<8,o[a]=l%n,l=l/n|0;for(;l>0;)o.push(l%n),l=l/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=o.length-1;r>=0;--r)c+=t[o[r]];return c}s(J4t,"_encodeWithByteBuffer")});var co=H((RVr,eDe)=>{d();var JBe=fi(),XBe=KBe(),Le=eDe.exports=JBe.util=JBe.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){Le.nextTick=process.nextTick,typeof setImmediate=="function"?Le.setImmediate=setImmediate:Le.setImmediate=Le.nextTick;return}if(typeof setImmediate=="function"){Le.setImmediate=function(){return setImmediate.apply(void 0,arguments)},Le.nextTick=function(l){return setImmediate(l)};return}if(Le.setImmediate=function(l){setTimeout(l,0)},typeof window<"u"&&typeof window.postMessage=="function"){let l=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(f){f()})}};var a=l;s(l,"handler");var e="forge.setImmediate",t=[];Le.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",l,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(i,{attributes:!0});var o=Le.setImmediate;Le.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),o(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}Le.nextTick=Le.setImmediate})();Le.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;Le.globalScope=function(){return Le.isNodejs?global:typeof self>"u"?window:self}();Le.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};Le.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};Le.isArrayBufferView=function(e){return e&&Le.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function GR(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}s(GR,"_checkBitsParam");Le.ByteBuffer=hae;function hae(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(Le.isArrayBuffer(e)||Le.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof hae||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}s(hae,"ByteStringBuffer");Le.ByteStringBuffer=hae;var X4t=4096;Le.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>X4t&&(this.data.substr(0,1),this._constructedStringLength=0)};Le.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};Le.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};Le.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};Le.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};Le.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};Le.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(Le.encodeUtf8(e))};Le.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Le.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Le.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};Le.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};Le.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};Le.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};Le.ByteStringBuffer.prototype.putInt=function(e,t){GR(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};Le.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};Le.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};Le.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};Le.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};Le.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};Le.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};Le.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};Le.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};Le.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};Le.ByteStringBuffer.prototype.getInt=function(e){GR(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};Le.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Le.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Le.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Le.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};Le.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};Le.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};Le.ByteStringBuffer.prototype.copy=function(){var e=Le.createBuffer(this.data);return e.read=this.read,e};Le.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};Le.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};Le.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};Le.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Le.ByteStringBuffer.prototype.toString=function(){return Le.decodeUtf8(this.bytes())};function Z4t(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=Le.isArrayBuffer(e),n=Le.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}s(Z4t,"DataBuffer");Le.DataBuffer=Z4t;Le.DataBuffer.prototype.length=function(){return this.write-this.read};Le.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};Le.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};Le.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};Le.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};Le.DataBuffer.prototype.putBytes=function(e,t){if(Le.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(Le.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof Le.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&Le.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof Le.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var o;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=Le.binary.hex.decode(e,o,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),o=new Uint8Array(this.data.buffer,this.write),this.write+=Le.binary.base64.decode(e,o,this.write),this;if(t==="utf8"&&(e=Le.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=Le.binary.raw.decode(o),this;if(t==="utf16")return this.accommodate(e.length*2),o=new Uint16Array(this.data.buffer,this.write),this.write+=Le.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};Le.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};Le.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};Le.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};Le.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};Le.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};Le.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};Le.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};Le.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};Le.DataBuffer.prototype.putInt=function(e,t){GR(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};Le.DataBuffer.prototype.putSignedInt=function(e,t){return GR(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};Le.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};Le.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};Le.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};Le.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};Le.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};Le.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};Le.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};Le.DataBuffer.prototype.getInt=function(e){GR(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};Le.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};Le.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};Le.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};Le.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};Le.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};Le.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};Le.DataBuffer.prototype.copy=function(){return new Le.DataBuffer(this)};Le.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};Le.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};Le.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};Le.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};Le.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return Le.binary.raw.encode(t);if(e==="hex")return Le.binary.hex.encode(t);if(e==="base64")return Le.binary.base64.encode(t);if(e==="utf8")return Le.text.utf8.decode(t);if(e==="utf16")return Le.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};Le.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=Le.encodeUtf8(e)),new Le.ByteBuffer(e)};Le.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};Le.xorBytes=function(e,t,r){for(var n="",i="",o="",a=0,l=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),l>=10&&(n+=o,o="",l=0),o+=String.fromCharCode(i),++l;return n+=o,n};Le.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};Le.bytesToHex=function(e){return Le.createBuffer(e).toHex()};Le.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var gC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",AC=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],ZBe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Le.encode64=function(e,t){for(var r="",n="",i,o,a,l=0;l<e.length;)i=e.charCodeAt(l++),o=e.charCodeAt(l++),a=e.charCodeAt(l++),r+=gC.charAt(i>>2),r+=gC.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=gC.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":gC.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Le.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,o,a=0;a<e.length;)r=AC[e.charCodeAt(a++)-43],n=AC[e.charCodeAt(a++)-43],i=AC[e.charCodeAt(a++)-43],o=AC[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),o!==64&&(t+=String.fromCharCode((i&3)<<6|o)));return t};Le.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};Le.decodeUtf8=function(e){return decodeURIComponent(escape(e))};Le.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:XBe.encode,decode:XBe.decode}};Le.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};Le.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n};Le.binary.hex.encode=Le.bytesToHex;Le.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,o=r;for(e.length&1&&(i=1,n[o++]=parseInt(e[0],16));i<e.length;i+=2)n[o++]=parseInt(e.substr(i,2),16);return t?o-r:n};Le.binary.base64.encode=function(e,t){for(var r="",n="",i,o,a,l=0;l<e.byteLength;)i=e[l++],o=e[l++],a=e[l++],r+=gC.charAt(i>>2),r+=gC.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=gC.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":gC.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};Le.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,o,a,l,c=0,u=r;c<e.length;)i=AC[e.charCodeAt(c++)-43],o=AC[e.charCodeAt(c++)-43],a=AC[e.charCodeAt(c++)-43],l=AC[e.charCodeAt(c++)-43],n[u++]=i<<2|o>>4,a!==64&&(n[u++]=(o&15)<<4|a>>2,l!==64&&(n[u++]=(a&3)<<6|l));return t?u-r:n.subarray(0,u)};Le.binary.base58.encode=function(e,t){return Le.binary.baseN.encode(e,ZBe,t)};Le.binary.base58.decode=function(e,t){return Le.binary.baseN.decode(e,ZBe,t)};Le.text={utf8:{},utf16:{}};Le.text.utf8.encode=function(e,t,r){e=Le.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n};Le.text.utf8.decode=function(e){return Le.decodeUtf8(String.fromCharCode.apply(null,e))};Le.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var o=r,a=r,l=0;l<e.length;++l)i[a++]=e.charCodeAt(l),o+=2;return t?o-r:n};Le.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};Le.deflate=function(e,t,r){if(t=Le.decode64(e.deflate(Le.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};Le.inflate=function(e,t,r){var n=e.inflate(Le.encode64(t)).rval;return n===null?null:Le.decode64(n)};var pae=s(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=Le.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},"_setStorageObject"),gae=s(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(Le.decode64(r))),r},"_getStorageObject"),eIt=s(function(e,t,r,n){var i=gae(e,t);i===null&&(i={}),i[r]=n,pae(e,t,i)},"_setItem"),tIt=s(function(e,t,r){var n=gae(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),rIt=s(function(e,t,r){var n=gae(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),pae(e,t,n)}},"_removeItem"),nIt=s(function(e,t){pae(e,t,null)},"_clearItems"),pW=s(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,o=!1,a=null;for(var l in r){i=r[l];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),o=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),o=!0)}catch(c){a=c}if(o)break}if(!o)throw a;return n},"_callStorageFunction");Le.setItem=function(e,t,r,n,i){pW(eIt,arguments,i)};Le.getItem=function(e,t,r,n){return pW(tIt,arguments,n)};Le.removeItem=function(e,t,r,n){pW(rIt,arguments,n)};Le.clearItems=function(e,t,r){pW(nIt,arguments,r)};Le.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};Le.format=function(e){for(var t=/%./g,r,n,i=0,o=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&o.push(n),a=t.lastIndex;var l=r[0][1];switch(l){case"s":case"o":i<arguments.length?o.push(arguments[i+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+l+"?>")}}return o.push(e.substring(a)),o.join("")};Le.formatNumber=function(e,t,r,n){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,l=n===void 0?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",f=u.length>3?u.length%3:0;return c+(f?u.substr(0,f)+l:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+l)+(o?a+Math.abs(i-u).toFixed(o).slice(2):"")};Le.formatSize=function(e){return e>=1073741824?e=Le.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=Le.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=Le.formatNumber(e/1024,0)+" KiB":e=Le.formatNumber(e,0)+" bytes",e};Le.bytesFromIP=function(e){return e.indexOf(".")!==-1?Le.bytesFromIPv4(e):e.indexOf(":")!==-1?Le.bytesFromIPv6(e):null};Le.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=Le.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};Le.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=Le.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var o=Le.hexToBytes(e[i]);o.length<2&&n.putByte(0),n.putBytes(o)}return n.getBytes()};Le.bytesToIP=function(e){return e.length===4?Le.bytesToIPv4(e):e.length===16?Le.bytesToIPv6(e):null};Le.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};Le.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var o=Le.bytesToHex(e[i]+e[i+1]);o[0]==="0"&&o!=="0";)o=o.substr(1);if(o==="0"){var a=r[r.length-1],l=t.length;!a||l!==a.end+1?r.push({start:l,end:l}):(a.end=l,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(o)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};Le.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in Le&&!e.update)return t(null,Le.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return Le.cores=navigator.hardwareConcurrency,t(null,Le.cores);if(typeof Worker>"u")return Le.cores=1,t(null,Le.cores);if(typeof Blob>"u")return Le.cores=2,t(null,Le.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var l=Date.now(),c=l+4;Date.now()<c;);self.postMessage({st:l,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,l,c){if(l===0){var u=Math.floor(a.reduce(function(f,m){return f+m},0)/a.length);return Le.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,Le.cores)}i(c,function(f,m){a.push(o(c,m)),n(a,l-1,c)})}s(n,"sample");function i(a,l){for(var c=[],u=[],f=0;f<a;++f){var m=new Worker(r);m.addEventListener("message",function(h){if(u.push(h.data),u.length===a){for(var p=0;p<a;++p)c[p].terminate();l(null,u)}}),c.push(m)}for(var f=0;f<a;++f)c[f].postMessage(f)}s(i,"map");function o(a,l){for(var c=[],u=0;u<a;++u)for(var f=l[u],m=c[u]=[],h=0;h<a;++h)if(u!==h){var p=l[h];(f.st>p.st&&f.st<p.et||p.st>f.st&&p.st<f.et)&&m.push(h)}return c.reduce(function(g,y){return Math.max(g,y.length)},0)}s(o,"reduce")}});var gW=H((DVr,tDe)=>{d();var Fl=fi();co();tDe.exports=Fl.cipher=Fl.cipher||{};Fl.cipher.algorithms=Fl.cipher.algorithms||{};Fl.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Fl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Fl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Fl.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Fl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Fl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Fl.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Fl.cipher.algorithms[e]=t};Fl.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Fl.cipher.algorithms?Fl.cipher.algorithms[e]:null};var Aae=Fl.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};Aae.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Fl.util.createBuffer(),this.output=e.output||Fl.util.createBuffer(),this.mode.start(t)};Aae.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Aae.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var Cae=H((NVr,rDe)=>{d();var Ml=fi();co();Ml.cipher=Ml.cipher||{};var Ii=rDe.exports=Ml.cipher.modes=Ml.cipher.modes||{};Ii.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ii.ecb.prototype.start=function(e){};Ii.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ii.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Ii.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ii.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ii.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Ii.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=AW(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Ii.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};Ii.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Ii.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Ii.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Ii.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Ml.util.createBuffer(),this._partialBytes=0};Ii.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=AW(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ii.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ii.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ii.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ml.util.createBuffer(),this._partialBytes=0};Ii.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=AW(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ii.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Ii.ofb.prototype.decrypt=Ii.ofb.prototype.encrypt;Ii.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ml.util.createBuffer(),this._partialBytes=0};Ii.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=AW(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Ii.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}yW(this._inBlock)};Ii.ctr.prototype.decrypt=Ii.ctr.prototype.encrypt;Ii.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Ml.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Ii.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=Ml.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=Ml.util.createBuffer(e.additionalData):r=Ml.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=Ml.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(yae(n*8)))}this._inBlock=this._j0.slice(0),yW(this._inBlock),this._partialBytes=0,r=Ml.util.createBuffer(r),this._aDataLength=yae(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Ii.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),yW(this._inBlock)};Ii.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),yW(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Ii.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=Ml.util.createBuffer();var n=this._aDataLength.concat(yae(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Ii.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var o=e[i/32|0]&1<<31-i%32;o&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Ii.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};Ii.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,o=this._m[r][i];t[0]^=o[0],t[1]^=o[1],t[2]^=o[2],t[3]^=o[3]}return t};Ii.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};Ii.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var l=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;l[c]=1<<t-1<<u,o[a]=this.generateSubHashTable(this.multiply(l,e),t)}return o};Ii.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var l=i[o],c=i[a];i[o+a]=[l[0]^c[0],l[1]^c[1],l[2]^c[2],l[3]^c[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var u=i[o^n];i[o]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function AW(e,t){if(typeof e=="string"&&(e=Ml.util.createBuffer(e)),Ml.util.isArray(e)&&e.length>4){var r=e;e=Ml.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!Ml.util.isArray(e)){for(var i=[],o=t/4,n=0;n<o;++n)i.push(e.getInt32());e=i}return e}s(AW,"transformIV");function yW(e){e[e.length-1]=e[e.length-1]+1&4294967295}s(yW,"inc32");function yae(e){return[e/4294967296|0,e&4294967295]}s(yae,"from64To32")});var yC=H((MVr,sDe)=>{d();var ts=fi();gW();Cae();co();sDe.exports=ts.aes=ts.aes||{};ts.aes.startEncrypting=function(e,t,r,n){var i=CW({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};ts.aes.createEncryptionCipher=function(e,t){return CW({key:e,output:null,decrypt:!1,mode:t})};ts.aes.startDecrypting=function(e,t,r,n){var i=CW({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};ts.aes.createDecryptionCipher=function(e,t){return CW({key:e,output:null,decrypt:!0,mode:t})};ts.aes.Algorithm=function(e,t){bae||iDe();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:s(function(n,i){return vae(r._w,n,i,!1)},"encrypt"),decrypt:s(function(n,i){return vae(r._w,n,i,!0)},"decrypt")}}),r._init=!1};ts.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=ts.util.createBuffer(t);else if(ts.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=ts.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!ts.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!ts.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=oDe(t,e.decrypt&&!a),this._init=!0}};ts.aes._expandKey=function(e,t){return bae||iDe(),oDe(e,t)};ts.aes._updateBlock=vae;r9("AES-ECB",ts.cipher.modes.ecb);r9("AES-CBC",ts.cipher.modes.cbc);r9("AES-CFB",ts.cipher.modes.cfb);r9("AES-OFB",ts.cipher.modes.ofb);r9("AES-CTR",ts.cipher.modes.ctr);r9("AES-GCM",ts.cipher.modes.gcm);function r9(e,t){var r=s(function(){return new ts.aes.Algorithm(e,t)},"factory");ts.cipher.registerAlgorithm(e,r)}s(r9,"registerAlgorithm");var bae=!1,t9=4,_0,xae,nDe,mb,Lh;function iDe(){bae=!0,nDe=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;_0=new Array(256),xae=new Array(256),mb=new Array(4),Lh=new Array(4);for(var t=0;t<4;++t)mb[t]=new Array(256),Lh[t]=new Array(256);for(var r=0,n=0,i,o,a,l,c,u,f,t=0;t<256;++t){l=n^n<<1^n<<2^n<<3^n<<4,l=l>>8^l&255^99,_0[r]=l,xae[l]=r,c=e[l],i=e[r],o=e[i],a=e[o],u=c<<24^l<<16^l<<8^(l^c),f=(i^o^a)<<24^(r^a)<<16^(r^o^a)<<8^(r^i^a);for(var m=0;m<4;++m)mb[m][r]=u,Lh[m][l]=f,u=u<<24|u>>>8,f=f<<24|f>>>8;r===0?r=n=1:(r=i^e[e[e[i^a]]],n^=e[e[n]])}}s(iDe,"initialize");function oDe(e,t){for(var r=e.slice(0),n,i=1,o=r.length,a=o+6+1,l=t9*a,c=o;c<l;++c)n=r[c-1],c%o===0?(n=_0[n>>>16&255]<<24^_0[n>>>8&255]<<16^_0[n&255]<<8^_0[n>>>24]^nDe[i]<<24,i++):o>6&&c%o===4&&(n=_0[n>>>24]<<24^_0[n>>>16&255]<<16^_0[n>>>8&255]<<8^_0[n&255]),r[c]=r[c-o]^n;if(t){var u,f=Lh[0],m=Lh[1],h=Lh[2],p=Lh[3],g=r.slice(0);l=r.length;for(var c=0,y=l-t9;c<l;c+=t9,y-=t9)if(c===0||c===l-t9)g[c]=r[y],g[c+1]=r[y+3],g[c+2]=r[y+2],g[c+3]=r[y+1];else for(var x=0;x<t9;++x)u=r[y+x],g[c+(3&-x)]=f[_0[u>>>24]]^m[_0[u>>>16&255]]^h[_0[u>>>8&255]]^p[_0[u&255]];r=g}return r}s(oDe,"_expandKey");function vae(e,t,r,n){var i=e.length/4-1,o,a,l,c,u;n?(o=Lh[0],a=Lh[1],l=Lh[2],c=Lh[3],u=xae):(o=mb[0],a=mb[1],l=mb[2],c=mb[3],u=_0);var f,m,h,p,g,y,x;f=t[0]^e[0],m=t[n?3:1]^e[1],h=t[2]^e[2],p=t[n?1:3]^e[3];for(var b=3,E=1;E<i;++E)g=o[f>>>24]^a[m>>>16&255]^l[h>>>8&255]^c[p&255]^e[++b],y=o[m>>>24]^a[h>>>16&255]^l[p>>>8&255]^c[f&255]^e[++b],x=o[h>>>24]^a[p>>>16&255]^l[f>>>8&255]^c[m&255]^e[++b],p=o[p>>>24]^a[f>>>16&255]^l[m>>>8&255]^c[h&255]^e[++b],f=g,m=y,h=x;r[0]=u[f>>>24]<<24^u[m>>>16&255]<<16^u[h>>>8&255]<<8^u[p&255]^e[++b],r[n?3:1]=u[m>>>24]<<24^u[h>>>16&255]<<16^u[p>>>8&255]<<8^u[f&255]^e[++b],r[2]=u[h>>>24]<<24^u[p>>>16&255]<<16^u[f>>>8&255]<<8^u[m&255]^e[++b],r[n?1:3]=u[p>>>24]<<24^u[f>>>16&255]<<16^u[m>>>8&255]<<8^u[h&255]^e[++b]}s(vae,"_updateBlock");function CW(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=ts.cipher.createDecipher(r,e.key):n=ts.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(o,a){var l=null;a instanceof ts.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=o,i.call(n,a)},n}s(CW,"_createCipher")});var CC=H((UVr,aDe)=>{d();var HR=fi();HR.pki=HR.pki||{};var Eae=aDe.exports=HR.pki.oids=HR.oids=HR.oids||{};function Qt(e,t){Eae[e]=t,Eae[t]=e}s(Qt,"_IN");function Eo(e,t){Eae[e]=t}s(Eo,"_I_");Qt("1.2.840.113549.1.1.1","rsaEncryption");Qt("1.2.840.113549.1.1.4","md5WithRSAEncryption");Qt("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Qt("1.2.840.113549.1.1.7","RSAES-OAEP");Qt("1.2.840.113549.1.1.8","mgf1");Qt("1.2.840.113549.1.1.9","pSpecified");Qt("1.2.840.113549.1.1.10","RSASSA-PSS");Qt("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Qt("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Qt("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Qt("1.3.101.112","EdDSA25519");Qt("1.2.840.10040.4.3","dsa-with-sha1");Qt("1.3.14.3.2.7","desCBC");Qt("1.3.14.3.2.26","sha1");Qt("1.3.14.3.2.29","sha1WithRSASignature");Qt("2.16.840.1.101.3.4.2.1","sha256");Qt("2.16.840.1.101.3.4.2.2","sha384");Qt("2.16.840.1.101.3.4.2.3","sha512");Qt("2.16.840.1.101.3.4.2.4","sha224");Qt("2.16.840.1.101.3.4.2.5","sha512-224");Qt("2.16.840.1.101.3.4.2.6","sha512-256");Qt("1.2.840.113549.2.2","md2");Qt("1.2.840.113549.2.5","md5");Qt("1.2.840.113549.1.7.1","data");Qt("1.2.840.113549.1.7.2","signedData");Qt("1.2.840.113549.1.7.3","envelopedData");Qt("1.2.840.113549.1.7.4","signedAndEnvelopedData");Qt("1.2.840.113549.1.7.5","digestedData");Qt("1.2.840.113549.1.7.6","encryptedData");Qt("1.2.840.113549.1.9.1","emailAddress");Qt("1.2.840.113549.1.9.2","unstructuredName");Qt("1.2.840.113549.1.9.3","contentType");Qt("1.2.840.113549.1.9.4","messageDigest");Qt("1.2.840.113549.1.9.5","signingTime");Qt("1.2.840.113549.1.9.6","counterSignature");Qt("1.2.840.113549.1.9.7","challengePassword");Qt("1.2.840.113549.1.9.8","unstructuredAddress");Qt("1.2.840.113549.1.9.14","extensionRequest");Qt("1.2.840.113549.1.9.20","friendlyName");Qt("1.2.840.113549.1.9.21","localKeyId");Qt("1.2.840.113549.1.9.22.1","x509Certificate");Qt("1.2.840.113549.1.12.10.1.1","keyBag");Qt("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Qt("1.2.840.113549.1.12.10.1.3","certBag");Qt("1.2.840.113549.1.12.10.1.4","crlBag");Qt("1.2.840.113549.1.12.10.1.5","secretBag");Qt("1.2.840.113549.1.12.10.1.6","safeContentsBag");Qt("1.2.840.113549.1.5.13","pkcs5PBES2");Qt("1.2.840.113549.1.5.12","pkcs5PBKDF2");Qt("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Qt("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Qt("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Qt("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Qt("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Qt("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Qt("1.2.840.113549.2.7","hmacWithSHA1");Qt("1.2.840.113549.2.8","hmacWithSHA224");Qt("1.2.840.113549.2.9","hmacWithSHA256");Qt("1.2.840.113549.2.10","hmacWithSHA384");Qt("1.2.840.113549.2.11","hmacWithSHA512");Qt("1.2.840.113549.3.7","des-EDE3-CBC");Qt("2.16.840.1.101.3.4.1.2","aes128-CBC");Qt("2.16.840.1.101.3.4.1.22","aes192-CBC");Qt("2.16.840.1.101.3.4.1.42","aes256-CBC");Qt("2.5.4.3","commonName");Qt("2.5.4.4","surname");Qt("2.5.4.5","serialNumber");Qt("2.5.4.6","countryName");Qt("2.5.4.7","localityName");Qt("2.5.4.8","stateOrProvinceName");Qt("2.5.4.9","streetAddress");Qt("2.5.4.10","organizationName");Qt("2.5.4.11","organizationalUnitName");Qt("2.5.4.12","title");Qt("2.5.4.13","description");Qt("2.5.4.15","businessCategory");Qt("2.5.4.17","postalCode");Qt("2.5.4.42","givenName");Qt("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Qt("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Qt("2.16.840.1.113730.1.1","nsCertType");Qt("2.16.840.1.113730.1.13","nsComment");Eo("2.5.29.1","authorityKeyIdentifier");Eo("2.5.29.2","keyAttributes");Eo("2.5.29.3","certificatePolicies");Eo("2.5.29.4","keyUsageRestriction");Eo("2.5.29.5","policyMapping");Eo("2.5.29.6","subtreesConstraint");Eo("2.5.29.7","subjectAltName");Eo("2.5.29.8","issuerAltName");Eo("2.5.29.9","subjectDirectoryAttributes");Eo("2.5.29.10","basicConstraints");Eo("2.5.29.11","nameConstraints");Eo("2.5.29.12","policyConstraints");Eo("2.5.29.13","basicConstraints");Qt("2.5.29.14","subjectKeyIdentifier");Qt("2.5.29.15","keyUsage");Eo("2.5.29.16","privateKeyUsagePeriod");Qt("2.5.29.17","subjectAltName");Qt("2.5.29.18","issuerAltName");Qt("2.5.29.19","basicConstraints");Eo("2.5.29.20","cRLNumber");Eo("2.5.29.21","cRLReason");Eo("2.5.29.22","expirationDate");Eo("2.5.29.23","instructionCode");Eo("2.5.29.24","invalidityDate");Eo("2.5.29.25","cRLDistributionPoints");Eo("2.5.29.26","issuingDistributionPoint");Eo("2.5.29.27","deltaCRLIndicator");Eo("2.5.29.28","issuingDistributionPoint");Eo("2.5.29.29","certificateIssuer");Eo("2.5.29.30","nameConstraints");Qt("2.5.29.31","cRLDistributionPoints");Qt("2.5.29.32","certificatePolicies");Eo("2.5.29.33","policyMappings");Eo("2.5.29.34","policyConstraints");Qt("2.5.29.35","authorityKeyIdentifier");Eo("2.5.29.36","policyConstraints");Qt("2.5.29.37","extKeyUsage");Eo("2.5.29.46","freshestCRL");Eo("2.5.29.54","inhibitAnyPolicy");Qt("1.3.6.1.4.1.11129.2.4.2","timestampList");Qt("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Qt("1.3.6.1.5.5.7.3.1","serverAuth");Qt("1.3.6.1.5.5.7.3.2","clientAuth");Qt("1.3.6.1.5.5.7.3.3","codeSigning");Qt("1.3.6.1.5.5.7.3.4","emailProtection");Qt("1.3.6.1.5.5.7.3.8","timeStamping")});var Fh=H((GVr,cDe)=>{d();var vs=fi();co();CC();var Ir=cDe.exports=vs.asn1=vs.asn1||{};Ir.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Ir.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Ir.create=function(e,t,r,n,i){if(vs.util.isArray(n)){for(var o=[],a=0;a<n.length;++a)n[a]!==void 0&&o.push(n[a]);n=o}var l={tagClass:e,type:t,constructed:r,composed:r||vs.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(l.bitStringContents=i.bitStringContents,l.original=Ir.copy(l)),l};Ir.copy=function(e,t){var r;if(vs.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(Ir.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:Ir.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};Ir.equals=function(e,t,r){if(vs.util.isArray(e)){if(!vs.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Ir.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&Ir.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};Ir.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function jR(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}s(jR,"_checkBufferLength");var iIt=s(function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var o=r&127;jR(e,t,o),n=e.getInt(o<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");Ir.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=vs.util.createBuffer(e));var r=e.length(),n=xW(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function xW(e,t,r,n){var i;jR(e,t,2);var o=e.getByte();t--;var a=o&192,l=o&31;i=e.length();var c=iIt(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var f,m,h=(o&32)===32;if(h)if(f=[],c===void 0)for(;;){if(jR(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}i=e.length(),f.push(xW(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),f.push(xW(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(f===void 0&&a===Ir.Class.UNIVERSAL&&l===Ir.Type.BITSTRING&&(m=e.bytes(c)),f===void 0&&n.decodeBitStrings&&a===Ir.Class.UNIVERSAL&&l===Ir.Type.BITSTRING&&c>1){var p=e.read,g=t,y=0;if(l===Ir.Type.BITSTRING&&(jR(e,t,1),y=e.getByte(),t--),y===0)try{i=e.length();var x={strict:!0,decodeBitStrings:!0},b=xW(e,t,r+1,x),E=i-e.length();t-=E,l==Ir.Type.BITSTRING&&E++;var _=b.tagClass;E===c&&(_===Ir.Class.UNIVERSAL||_===Ir.Class.CONTEXT_SPECIFIC)&&(f=[b])}catch{}f===void 0&&(e.read=p,t=g)}if(f===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(l===Ir.Type.BMPSTRING)for(f="";c>0;c-=2)jR(e,t,2),f+=String.fromCharCode(e.getInt16()),t-=2;else f=e.getBytes(c),t-=c}var k=m===void 0?null:{bitStringContents:m};return Ir.create(a,l,h,f,k)}s(xW,"_fromDer");Ir.toDer=function(e){var t=vs.util.createBuffer(),r=e.tagClass|e.type,n=vs.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=Ir.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var o=0;o<e.value.length;++o)e.value[o]!==void 0&&n.putBuffer(Ir.toDer(e.value[o]))}else if(e.type===Ir.Type.BMPSTRING)for(var o=0;o<e.value.length;++o)n.putInt16(e.value.charCodeAt(o));else e.type===Ir.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&(e.value.charCodeAt(1)&128)===0||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),l="";do l+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(l.length|128);for(var o=l.length-1;o>=0;--o)t.putByte(l.charCodeAt(o))}return t.putBuffer(n),t};Ir.oidToDer=function(e){var t=e.split("."),r=vs.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,o,a,l=2;l<t.length;++l){n=!0,i=[],o=parseInt(t[l],10);do a=o&127,o=o>>>7,n||(a|=128),i.push(a),n=!1;while(o>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};Ir.derToOid=function(e){var t;typeof e=="string"&&(e=vs.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};Ir.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),l=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(l=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,l,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var f=parseInt(e.substr(u+1,2),10),m=parseInt(e.substr(u+4,2),10),h=f*60+m;h*=6e4,c==="+"?t.setTime(+t-h):t.setTime(+t+h)}return t};Ir.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),l=parseInt(e.substr(12,2),10),c=0,u=0,f=!1;e.charAt(e.length-1)==="Z"&&(f=!0);var m=e.length-5,h=e.charAt(m);if(h==="+"||h==="-"){var p=parseInt(e.substr(m+1,2),10),g=parseInt(e.substr(m+4,2),10);u=p*60+g,u*=6e4,h==="+"&&(u*=-1),f=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),f?(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,l,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(o,a,l,c)),t};Ir.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Ir.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Ir.integerToDer=function(e){var t=vs.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};Ir.derToInteger=function(e){typeof e=="string"&&(e=vs.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};Ir.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&vs.util.isArray(t.value))for(var o=0,a=0;i&&a<t.value.length;++a)i=t.value[a].optional||!1,e.value[o]&&(i=Ir.validate(e.value[o],t.value[a],r,n),i?++o:t.value[a].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var l;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var lDe=/[^\\u0000-\\u00ff]/;Ir.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",o=0;o<t*r;++o)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case Ir.Class.UNIVERSAL:n+="Universal:";break;case Ir.Class.APPLICATION:n+="Application:";break;case Ir.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Ir.Class.PRIVATE:n+="Private:";break}if(e.tagClass===Ir.Class.UNIVERSAL)switch(n+=e.type,e.type){case Ir.Type.NONE:n+=" (None)";break;case Ir.Type.BOOLEAN:n+=" (Boolean)";break;case Ir.Type.INTEGER:n+=" (Integer)";break;case Ir.Type.BITSTRING:n+=" (Bit string)";break;case Ir.Type.OCTETSTRING:n+=" (Octet string)";break;case Ir.Type.NULL:n+=" (Null)";break;case Ir.Type.OID:n+=" (Object Identifier)";break;case Ir.Type.ODESC:n+=" (Object Descriptor)";break;case Ir.Type.EXTERNAL:n+=" (External or Instance of)";break;case Ir.Type.REAL:n+=" (Real)";break;case Ir.Type.ENUMERATED:n+=" (Enumerated)";break;case Ir.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Ir.Type.UTF8:n+=" (UTF8)";break;case Ir.Type.ROID:n+=" (Relative Object Identifier)";break;case Ir.Type.SEQUENCE:n+=" (Sequence)";break;case Ir.Type.SET:n+=" (Set)";break;case Ir.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Ir.Type.IA5String:n+=" (IA5String (ASCII))";break;case Ir.Type.UTCTIME:n+=" (UTC time)";break;case Ir.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Ir.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,l="",o=0;o<e.value.length;++o)e.value[o]!==void 0&&(a+=1,l+=Ir.prettyPrint(e.value[o],t+1,r),o+1<e.value.length&&(l+=","));n+=i+"Sub values: "+a+l}else{if(n+=i+"Value: ",e.type===Ir.Type.OID){var c=Ir.derToOid(e.value);n+=c,vs.pki&&vs.pki.oids&&c in vs.pki.oids&&(n+=" ("+vs.pki.oids[c]+") ")}if(e.type===Ir.Type.INTEGER)try{n+=Ir.derToInteger(e.value)}catch{n+="0x"+vs.util.bytesToHex(e.value)}else if(e.type===Ir.Type.BITSTRING){if(e.value.length>1?n+="0x"+vs.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===Ir.Type.OCTETSTRING)lDe.test(e.value)||(n+="("+e.value+") "),n+="0x"+vs.util.bytesToHex(e.value);else if(e.type===Ir.Type.UTF8)try{n+=vs.util.decodeUtf8(e.value)}catch(f){if(f.message==="URI malformed")n+="0x"+vs.util.bytesToHex(e.value)+" (malformed UTF8)";else throw f}else e.type===Ir.Type.PRINTABLESTRING||e.type===Ir.Type.IA5String?n+=e.value:lDe.test(e.value)?n+="0x"+vs.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Tg=H((VVr,uDe)=>{d();var vW=fi();uDe.exports=vW.md=vW.md||{};vW.md.algorithms=vW.md.algorithms||{}});var n9=H((zVr,fDe)=>{d();var WA=fi();Tg();co();var oIt=fDe.exports=WA.hmac=WA.hmac||{};oIt.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(o,a){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in WA.md.algorithms)t=WA.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else t=o;if(a===null)a=e;else{if(typeof a=="string")a=WA.util.createBuffer(a);else if(WA.util.isArray(a)){var l=a;a=WA.util.createBuffer();for(var c=0;c<l.length;++c)a.putByte(l[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=WA.util.createBuffer(),n=WA.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var l=a.at(c);r.putByte(54^l),n.putByte(92^l)}if(u<t.blockLength)for(var l=t.blockLength-u,c=0;c<l;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(o){t.update(o)},i.getMac=function(){var o=t.digest().bytes();return t.start(),t.update(n),t.update(o),t.digest()},i.digest=i.getMac,i}});var EW=H((KVr,pDe)=>{d();var wg=fi();Tg();co();var mDe=pDe.exports=wg.md5=wg.md5||{};wg.md.md5=wg.md.algorithms.md5=mDe;mDe.create=function(){hDe||sIt();var e=null,t=wg.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=wg.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=wg.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),dDe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=wg.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(Iae.substr(0,n.blockLength-a));for(var l,c=0,u=n.fullMessageLength.length-1;u>=0;--u)l=n.fullMessageLength[u]*8+c,c=l/4294967296>>>0,i.putInt32Le(l>>>0);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};dDe(f,r,i);var m=wg.util.createBuffer();return m.putInt32Le(f.h0),m.putInt32Le(f.h1),m.putInt32Le(f.h2),m.putInt32Le(f.h3),m},n};var Iae=null,bW=null,VR=null,i9=null,hDe=!1;function sIt(){Iae="\x80",Iae+=wg.util.fillString("\0",64),bW=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],VR=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],i9=new Array(64);for(var e=0;e<64;++e)i9[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);hDe=!0}s(sIt,"_init");function dDe(e,t,r){for(var n,i,o,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,o=e.h1,a=e.h2,l=e.h3,f=0;f<16;++f)t[f]=r.getInt32Le(),c=l^o&(a^l),n=i+c+i9[f]+t[f],u=VR[f],i=l,l=a,a=o,o+=n<<u|n>>>32-u;for(;f<32;++f)c=a^l&(o^a),n=i+c+i9[f]+t[bW[f]],u=VR[f],i=l,l=a,a=o,o+=n<<u|n>>>32-u;for(;f<48;++f)c=o^a^l,n=i+c+i9[f]+t[bW[f]],u=VR[f],i=l,l=a,a=o,o+=n<<u|n>>>32-u;for(;f<64;++f)c=a^(o|~l),n=i+c+i9[f]+t[bW[f]],u=VR[f],i=l,l=a,a=o,o+=n<<u|n>>>32-u;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,m-=64}}s(dDe,"_update")});var hb=H((ZVr,ADe)=>{d();var TW=fi();co();var gDe=ADe.exports=TW.pem=TW.pem||{};gDe.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=IW(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=IW(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=IW(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=IW(e.headers[i]);return e.procType&&(r+=`\r
`),r+=TW.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};gDe.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,o;o=r.exec(e),!!o;){var a=o[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var l={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:TW.util.decode64(o[3])};if(t.push(l),!!o[2]){for(var c=o[2].split(i),u=0;o&&u<c.length;){for(var f=c[u].replace(/\s+$/,""),m=u+1;m<c.length;++m){var h=c[m];if(!/\s/.test(h[0]))break;f+=h,u=m}if(o=f.match(n),o){for(var p={name:o[1],values:[]},g=o[2].split(","),y=0;y<g.length;++y)p.values.push(aIt(g[y]));if(l.procType)if(!l.contentDomain&&p.name==="Content-Domain")l.contentDomain=g[0]||"";else if(!l.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:g[0],parameters:g[1]||null}}else l.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:g[0],type:g[1]}}}++u}if(l.procType==="ENCRYPTED"&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function IW(e){for(var t=e.name+": ",r=[],n=s(function(c,u){return" "+u},"insertSpace"),i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var o=0,a=-1,i=0;i<t.length;++i,++o)if(o>65&&a!==-1){var l=t[a];l===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+l+t.substr(a+1),o=i-a-1,a=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(a=i);return t}s(IW,"foldHeader");function aIt(e){return e.replace(/^\s+/,"")}s(aIt,"ltrim")});var $R=H((r$r,CDe)=>{d();var Os=fi();gW();Cae();co();CDe.exports=Os.des=Os.des||{};Os.des.startEncrypting=function(e,t,r,n){var i=wW({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Os.des.createEncryptionCipher=function(e,t){return wW({key:e,output:null,decrypt:!1,mode:t})};Os.des.startDecrypting=function(e,t,r,n){var i=wW({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};Os.des.createDecryptionCipher=function(e,t){return wW({key:e,output:null,decrypt:!0,mode:t})};Os.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:s(function(n,i){return yDe(r._keys,n,i,!1)},"encrypt"),decrypt:s(function(n,i){return yDe(r._keys,n,i,!0)},"decrypt")}}),r._init=!1};Os.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=Os.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=gIt(t),this._init=!0}};_g("DES-ECB",Os.cipher.modes.ecb);_g("DES-CBC",Os.cipher.modes.cbc);_g("DES-CFB",Os.cipher.modes.cfb);_g("DES-OFB",Os.cipher.modes.ofb);_g("DES-CTR",Os.cipher.modes.ctr);_g("3DES-ECB",Os.cipher.modes.ecb);_g("3DES-CBC",Os.cipher.modes.cbc);_g("3DES-CFB",Os.cipher.modes.cfb);_g("3DES-OFB",Os.cipher.modes.ofb);_g("3DES-CTR",Os.cipher.modes.ctr);function _g(e,t){var r=s(function(){return new Os.des.Algorithm(e,t)},"factory");Os.cipher.registerAlgorithm(e,r)}s(_g,"registerAlgorithm");var lIt=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],cIt=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],uIt=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],fIt=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],dIt=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],mIt=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],hIt=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],pIt=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function gIt(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],m=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length()>8?3:1,x=[],b=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],E=0,_,k=0;k<y;k++){var B=e.getInt32(),N=e.getInt32();_=(B>>>4^N)&252645135,N^=_,B^=_<<4,_=(N>>>-16^B)&65535,B^=_,N^=_<<-16,_=(B>>>2^N)&858993459,N^=_,B^=_<<2,_=(N>>>-16^B)&65535,B^=_,N^=_<<-16,_=(B>>>1^N)&1431655765,N^=_,B^=_<<1,_=(N>>>8^B)&16711935,B^=_,N^=_<<8,_=(B>>>1^N)&1431655765,N^=_,B^=_<<1,_=B<<8|N>>>20&240,B=N<<24|N<<8&16711680|N>>>8&65280|N>>>24&240,N=_;for(var M=0;M<b.length;++M){b[M]?(B=B<<2|B>>>26,N=N<<2|N>>>26):(B=B<<1|B>>>27,N=N<<1|N>>>27),B&=-15,N&=-15;var te=t[B>>>28]|r[B>>>24&15]|n[B>>>20&15]|i[B>>>16&15]|o[B>>>12&15]|a[B>>>8&15]|l[B>>>4&15],de=c[N>>>28]|u[N>>>24&15]|f[N>>>20&15]|m[N>>>16&15]|h[N>>>12&15]|p[N>>>8&15]|g[N>>>4&15];_=(de>>>16^te)&65535,x[E++]=te^_,x[E++]=de^_<<16}}return x}s(gIt,"_createKeys");function yDe(e,t,r,n){var i=e.length===32?3:9,o;i===3?o=n?[30,-2,-2]:[0,32,2]:o=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,l=t[0],c=t[1];a=(l>>>4^c)&252645135,c^=a,l^=a<<4,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,l=l<<1|l>>>31,c=c<<1|c>>>31;for(var u=0;u<i;u+=3){for(var f=o[u+1],m=o[u+2],h=o[u];h!=f;h+=m){var p=c^e[h],g=(c>>>4|c<<28)^e[h+1];a=l,l=c,c=a^(cIt[p>>>24&63]|fIt[p>>>16&63]|mIt[p>>>8&63]|pIt[p&63]|lIt[g>>>24&63]|uIt[g>>>16&63]|dIt[g>>>8&63]|hIt[g&63])}a=l,l=c,c=a}l=l>>>1|l<<31,c=c>>>1|c<<31,a=(l>>>1^c)&1431655765,c^=a,l^=a<<1,a=(c>>>8^l)&16711935,l^=a,c^=a<<8,a=(c>>>2^l)&858993459,l^=a,c^=a<<2,a=(l>>>16^c)&65535,c^=a,l^=a<<16,a=(l>>>4^c)&252645135,c^=a,l^=a<<4,r[0]=l,r[1]=c}s(yDe,"_updateBlock");function wW(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=Os.cipher.createDecipher(r,e.key):n=Os.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(o,a){var l=null;a instanceof Os.util.ByteBuffer&&(l=a,a={}),a=a||{},a.output=l,a.iv=o,i.call(n,a)},n}s(wW,"_createCipher")});var _W=H((o$r,xDe)=>{d();var S0=fi();n9();Tg();co();var AIt=S0.pkcs5=S0.pkcs5||{},GA;S0.util.isNodejs&&!S0.options.usePureJavaScript&&(GA=require("crypto"));xDe.exports=S0.pbkdf2=AIt.pbkdf2=function(e,t,r,n,i,o){if(typeof i=="function"&&(o=i,i=null),S0.util.isNodejs&&!S0.options.usePureJavaScript&&GA.pbkdf2&&(i===null||typeof i!="object")&&(GA.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),o?GA.pbkdf2Sync.length===4?GA.pbkdf2(e,t,r,n,function(_,k){if(_)return o(_);o(null,k.toString("binary"))}):GA.pbkdf2(e,t,r,n,i,function(_,k){if(_)return o(_);o(null,k.toString("binary"))}):GA.pbkdf2Sync.length===4?GA.pbkdf2Sync(e,t,r,n).toString("binary"):GA.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in S0.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=S0.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var l=new Error("Derived key is too long.");if(o)return o(l);throw l}var c=Math.ceil(n/a),u=n-(c-1)*a,f=S0.hmac.create();f.start(i,e);var m="",h,p,g;if(!o){for(var y=1;y<=c;++y){f.start(null,null),f.update(t),f.update(S0.util.int32ToBytes(y)),h=g=f.digest().getBytes();for(var x=2;x<=r;++x)f.start(null,null),f.update(g),p=f.digest().getBytes(),h=S0.util.xorBytes(h,p,a),g=p;m+=y<c?h:h.substr(0,u)}return m}var y=1,x;function b(){if(y>c)return o(null,m);f.start(null,null),f.update(t),f.update(S0.util.int32ToBytes(y)),h=g=f.digest().getBytes(),x=2,E()}s(b,"outer");function E(){if(x<=r)return f.start(null,null),f.update(g),p=f.digest().getBytes(),h=S0.util.xorBytes(h,p,a),g=p,++x,S0.util.setImmediate(E);m+=y<c?h:h.substr(0,u),++y,b()}s(E,"inner"),b()}});var wae=H((l$r,TDe)=>{d();var Sg=fi();Tg();co();var bDe=TDe.exports=Sg.sha256=Sg.sha256||{};Sg.md.sha256=Sg.md.algorithms.sha256=bDe;bDe.create=function(){EDe||yIt();var e=null,t=Sg.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=Sg.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=Sg.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),vDe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Sg.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(Tae.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};vDe(m,r,i);var h=Sg.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h.putInt32(m.h5),h.putInt32(m.h6),h.putInt32(m.h7),h},n};var Tae=null,EDe=!1,IDe=null;function yIt(){Tae="\x80",Tae+=Sg.util.fillString("\0",64),IDe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],EDe=!0}s(yIt,"_init");function vDe(e,t,r){for(var n,i,o,a,l,c,u,f,m,h,p,g,y,x,b,E=r.length();E>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(f=e.h0,m=e.h1,h=e.h2,p=e.h3,g=e.h4,y=e.h5,x=e.h6,b=e.h7,u=0;u<64;++u)a=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),l=x^g&(y^x),o=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),c=f&m|h&(f^m),n=b+a+l+IDe[u]+t[u],i=o+c,b=x,x=y,y=g,g=p+n>>>0,p=h,h=m,m=f,f=n+i>>>0;e.h0=e.h0+f|0,e.h1=e.h1+m|0,e.h2=e.h2+h|0,e.h3=e.h3+p|0,e.h4=e.h4+g|0,e.h5=e.h5+y|0,e.h6=e.h6+x|0,e.h7=e.h7+b|0,E-=64}}s(vDe,"_update")});var _ae=H((f$r,wDe)=>{d();var Rg=fi();co();var SW=null;Rg.util.isNodejs&&!Rg.options.usePureJavaScript&&!process.versions["node-webkit"]&&(SW=require("crypto"));var CIt=wDe.exports=Rg.prng=Rg.prng||{};CIt.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(u,f){if(!f)return t.generateSync(u);var m=t.plugin.cipher,h=t.plugin.increment,p=t.plugin.formatKey,g=t.plugin.formatSeed,y=Rg.util.createBuffer();t.key=null,x();function x(b){if(b)return f(b);if(y.length()>=u)return f(null,y.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return Rg.util.nextTick(function(){o(x)});var E=m(t.key,t.seed);t.generated+=E.length,y.putBytes(E),t.key=p(m(t.key,h(t.seed))),t.seed=g(m(t.key,t.seed)),Rg.util.setImmediate(x)}s(x,"generate")},t.generateSync=function(u){var f=t.plugin.cipher,m=t.plugin.increment,h=t.plugin.formatKey,p=t.plugin.formatSeed;t.key=null;for(var g=Rg.util.createBuffer();g.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var y=f(t.key,t.seed);t.generated+=y.length,g.putBytes(y),t.key=h(f(t.key,m(t.seed))),t.seed=p(f(t.key,t.seed))}return g.getBytes(u)};function o(u){if(t.pools[0].messageLength>=32)return l(),u();var f=32-t.pools[0].messageLength<<5;t.seedFile(f,function(m,h){if(m)return u(m);t.collect(h),l(),u()})}s(o,"_reseed");function a(){if(t.pools[0].messageLength>=32)return l();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),l()}s(a,"_reseedSync");function l(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var f=1,m=0;m<32;++m)t.reseeds%f===0&&(u.update(t.pools[m].digest().getBytes()),t.pools[m].start()),f=f<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var h=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(h),t.generated=0}s(l,"_seed");function c(u){var f=null,m=Rg.util.globalScope,h=m.crypto||m.msCrypto;h&&h.getRandomValues&&(f=s(function(B){return h.getRandomValues(B)},"getRandomValues"));var p=Rg.util.createBuffer();if(f)for(;p.length()<u;){var g=Math.max(1,Math.min(u-p.length(),65536)/4),y=new Uint32Array(Math.floor(g));try{f(y);for(var x=0;x<y.length;++x)p.putInt32(y[x])}catch(B){if(!(typeof QuotaExceededError<"u"&&B instanceof QuotaExceededError))throw B}}if(p.length()<u)for(var b,E,_,k=Math.floor(Math.random()*65536);p.length()<u;){E=16807*(k&65535),b=16807*(k>>16),E+=(b&32767)<<16,E+=b>>15,E=(E&2147483647)+(E>>31),k=E&4294967295;for(var x=0;x<3;++x)_=k>>>(x<<3),_^=Math.floor(Math.random()*256),p.putByte(_&255)}return p.getBytes(u)}return s(c,"defaultSeedFile"),SW?(t.seedFile=function(u,f){SW.randomBytes(u,function(m,h){if(m)return f(m);f(null,h.toString())})},t.seedFileSync=function(u){return SW.randomBytes(u).toString()}):(t.seedFile=function(u,f){try{f(null,c(u))}catch(m){f(m)}},t.seedFileSync=c),t.collect=function(u){for(var f=u.length,m=0;m<f;++m)t.pools[t.pool].update(u.substr(m,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,f){for(var m="",h=0;h<f;h+=8)m+=String.fromCharCode(u>>h&255);t.collect(m)},t.registerWorker=function(u){if(u===self)t.seedFile=function(m,h){function p(g){var y=g.data;y.forge&&y.forge.prng&&(self.removeEventListener("message",p),h(y.forge.prng.err,y.forge.prng.bytes))}s(p,"listener"),self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:m}}})};else{var f=s(function(m){var h=m.data;h.forge&&h.forge.prng&&t.seedFile(h.forge.prng.needed,function(p,g){u.postMessage({forge:{prng:{err:p,bytes:g}}})})},"listener");u.addEventListener("message",f)}},t}});var rm=H((h$r,Sae)=>{d();var Ql=fi();yC();wae();_ae();co();(function(){if(Ql.random&&Ql.random.getBytes){Sae.exports=Ql.random;return}(function(e){var t={},r=new Array(4),n=Ql.util.createBuffer();t.formatKey=function(m){var h=Ql.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),Ql.aes._expandKey(m,!1)},t.formatSeed=function(m){var h=Ql.util.createBuffer(m);return m=new Array(4),m[0]=h.getInt32(),m[1]=h.getInt32(),m[2]=h.getInt32(),m[3]=h.getInt32(),m},t.cipher=function(m,h){return Ql.aes._updateBlock(m,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(m){return++m[3],m},t.md=Ql.md.sha256;function i(){var m=Ql.prng.create(t);return m.getBytes=function(h,p){return m.generate(h,p)},m.getBytesSync=function(h){return m.generate(h)},m}s(i,"spawnPrng");var o=i(),a=null,l=Ql.util.globalScope,c=l.crypto||l.msCrypto;if(c&&c.getRandomValues&&(a=s(function(m){return c.getRandomValues(m)},"getRandomValues")),Ql.options.usePureJavaScript||!Ql.util.isNodejs&&!a){if(typeof window>"u"||window.document,o.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var f in navigator)try{typeof navigator[f]=="string"&&(u+=navigator[f])}catch{}o.collect(u),u=null}e&&(e().mousemove(function(m){o.collectInt(m.clientX,16),o.collectInt(m.clientY,16)}),e().keypress(function(m){o.collectInt(m.charCode,8)}))}if(!Ql.random)Ql.random=o;else for(var f in o)Ql.random[f]=o[f];Ql.random.createInstance=i,Sae.exports=Ql.random})(typeof jQuery<"u"?jQuery:null)})()});var kae=H((A$r,RDe)=>{d();var vu=fi();co();var Rae=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],_De=[1,2,3,5],xIt=s(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),vIt=s(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");RDe.exports=vu.rc2=vu.rc2||{};vu.rc2.expandKey=function(e,t){typeof e=="string"&&(e=vu.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,o=Math.ceil(i/8),a=255>>(i&7),l;for(l=n;l<128;l++)r.putByte(Rae[r.at(l-1)+r.at(l-n)&255]);for(r.setAt(128-o,Rae[r.at(128-o)&a]),l=127-o;l>=0;l--)r.setAt(l,Rae[r.at(l+1)^r.at(l+o)]);return r};var SDe=s(function(e,t,r){var n=!1,i=null,o=null,a=null,l,c,u,f,m=[];for(e=vu.rc2.expandKey(e,t),u=0;u<64;u++)m.push(e.getInt16Le());r?(l=s(function(g){for(u=0;u<4;u++)g[u]+=m[f]+(g[(u+3)%4]&g[(u+2)%4])+(~g[(u+3)%4]&g[(u+1)%4]),g[u]=xIt(g[u],_De[u]),f++},"mixRound"),c=s(function(g){for(u=0;u<4;u++)g[u]+=m[g[(u+3)%4]&63]},"mashRound")):(l=s(function(g){for(u=3;u>=0;u--)g[u]=vIt(g[u],_De[u]),g[u]-=m[f]+(g[(u+3)%4]&g[(u+2)%4])+(~g[(u+3)%4]&g[(u+1)%4]),f--},"mixRound"),c=s(function(g){for(u=3;u>=0;u--)g[u]-=m[g[(u+3)%4]&63]},"mashRound"));var h=s(function(g){var y=[];for(u=0;u<4;u++){var x=i.getInt16Le();a!==null&&(r?x^=a.getInt16Le():a.putInt16Le(x)),y.push(x&65535)}f=r?0:63;for(var b=0;b<g.length;b++)for(var E=0;E<g[b][0];E++)g[b][1](y);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(y[u]):y[u]^=a.getInt16Le()),o.putInt16Le(y[u])},"runPlan"),p=null;return p={start:s(function(g,y){g&&typeof g=="string"&&(g=vu.util.createBuffer(g)),n=!1,i=vu.util.createBuffer(),o=y||new vu.util.createBuffer,a=g,p.output=o},"start"),update:s(function(g){for(n||i.putBuffer(g);i.length()>=8;)h([[5,l],[1,c],[6,l],[1,c],[5,l]])},"update"),finish:s(function(g){var y=!0;if(r)if(g)y=g(8,i,!r);else{var x=i.length()===8?8:8-i.length();i.fillWithByte(x,x)}if(y&&(n=!0,p.update()),!r&&(y=i.length()===0,y))if(g)y=g(8,o,!r);else{var b=o.length(),E=o.at(b-1);E>b?y=!1:o.truncate(E)}return y},"finish")},p},"createCipher");vu.rc2.startEncrypting=function(e,t,r){var n=vu.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};vu.rc2.createEncryptionCipher=function(e,t){return SDe(e,t,!0)};vu.rc2.startDecrypting=function(e,t,r){var n=vu.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};vu.rc2.createDecryptionCipher=function(e,t){return SDe(e,t,!1)}});var YR=H((x$r,MDe)=>{d();var Bae=fi();MDe.exports=Bae.jsbn=Bae.jsbn||{};var HA,bIt=0xdeadbeefcafe,kDe=(bIt&16777215)==15715070;function Bt(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}s(Bt,"BigInteger");Bae.jsbn.BigInteger=Bt;function uo(){return new Bt(null)}s(uo,"nbi");function EIt(e,t,r,n,i,o){for(;--o>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}s(EIt,"am1");function IIt(e,t,r,n,i,o){for(var a=t&32767,l=t>>15;--o>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,f=l*c+u*a;c=a*c+((f&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+l*u+(i>>>30),r.data[n++]=c&1073741823}return i}s(IIt,"am2");function BDe(e,t,r,n,i,o){for(var a=t&16383,l=t>>14;--o>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,f=l*c+u*a;c=a*c+((f&16383)<<14)+r.data[n]+i,i=(c>>28)+(f>>14)+l*u,r.data[n++]=c&268435455}return i}s(BDe,"am3");typeof navigator>"u"?(Bt.prototype.am=BDe,HA=28):kDe&&navigator.appName=="Microsoft Internet Explorer"?(Bt.prototype.am=IIt,HA=30):kDe&&navigator.appName!="Netscape"?(Bt.prototype.am=EIt,HA=26):(Bt.prototype.am=BDe,HA=28);Bt.prototype.DB=HA;Bt.prototype.DM=(1<<HA)-1;Bt.prototype.DV=1<<HA;var Dae=52;Bt.prototype.FV=Math.pow(2,Dae);Bt.prototype.F1=Dae-HA;Bt.prototype.F2=2*HA-Dae;var TIt="0123456789abcdefghijklmnopqrstuvwxyz",RW=new Array,o9,nm;o9=48;for(nm=0;nm<=9;++nm)RW[o9++]=nm;o9=97;for(nm=10;nm<36;++nm)RW[o9++]=nm;o9=65;for(nm=10;nm<36;++nm)RW[o9++]=nm;function DDe(e){return TIt.charAt(e)}s(DDe,"int2char");function PDe(e,t){var r=RW[e.charCodeAt(t)];return r??-1}s(PDe,"intAt");function wIt(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}s(wIt,"bnpCopyTo");function _It(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}s(_It,"bnpFromInt");function xC(e){var t=uo();return t.fromInt(e),t}s(xC,"nbv");function SIt(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var a=r==8?e[n]&255:PDe(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,o+=r,o>=this.DB&&(o-=this.DB)}r==8&&(e[0]&128)!=0&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&Bt.ZERO.subTo(this,this)}s(SIt,"bnpFromString");function RIt(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}s(RIt,"bnpClamp");function kIt(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,o="",a=this.t,l=this.DB-a*this.DB%t;if(a-- >0)for(l<this.DB&&(n=this.data[a]>>l)>0&&(i=!0,o=DDe(n));a>=0;)l<t?(n=(this.data[a]&(1<<l)-1)<<t-l,n|=this.data[--a]>>(l+=this.DB-t)):(n=this.data[a]>>(l-=t)&r,l<=0&&(l+=this.DB,--a)),n>0&&(i=!0),i&&(o+=DDe(n));return i?o:"0"}s(kIt,"bnToString");function BIt(){var e=uo();return Bt.ZERO.subTo(this,e),e}s(BIt,"bnNegate");function DIt(){return this.s<0?this.negate():this}s(DIt,"bnAbs");function PIt(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}s(PIt,"bnCompareTo");function kW(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}s(kW,"nbits");function NIt(){return this.t<=0?0:this.DB*(this.t-1)+kW(this.data[this.t-1]^this.s&this.DM)}s(NIt,"bnBitLength");function LIt(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}s(LIt,"bnpDLShiftTo");function FIt(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}s(FIt,"bnpDRShiftTo");function MIt(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),a=this.s<<r&this.DM,l;for(l=this.t-1;l>=0;--l)t.data[l+o+1]=this.data[l]>>n|a,a=(this.data[l]&i)<<r;for(l=o-1;l>=0;--l)t.data[l]=0;t.data[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()}s(MIt,"bnpLShiftTo");function QIt(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&o)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}s(QIt,"bnpRShiftTo");function OIt(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}s(OIt,"bnpSubTo");function UIt(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&Bt.ZERO.subTo(t,t)}s(UIt,"bnpMultiplyTo");function qIt(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}s(qIt,"bnpSquareTo");function WIt(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=uo());var o=uo(),a=this.s,l=e.s,c=this.DB-kW(n.data[n.t-1]);c>0?(n.lShiftTo(c,o),i.lShiftTo(c,r)):(n.copyTo(o),i.copyTo(r));var u=o.t,f=o.data[u-1];if(f!=0){var m=f*(1<<this.F1)+(u>1?o.data[u-2]>>this.F2:0),h=this.FV/m,p=(1<<this.F1)/m,g=1<<this.F2,y=r.t,x=y-u,b=t??uo();for(o.dlShiftTo(x,b),r.compareTo(b)>=0&&(r.data[r.t++]=1,r.subTo(b,r)),Bt.ONE.dlShiftTo(u,b),b.subTo(o,o);o.t<u;)o.data[o.t++]=0;for(;--x>=0;){var E=r.data[--y]==f?this.DM:Math.floor(r.data[y]*h+(r.data[y-1]+g)*p);if((r.data[y]+=o.am(0,E,r,x,0,u))<E)for(o.dlShiftTo(x,b),r.subTo(b,r);r.data[y]<--E;)r.subTo(b,r)}t!=null&&(r.drShiftTo(u,t),a!=l&&Bt.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&Bt.ZERO.subTo(r,r)}}}s(WIt,"bnpDivRemTo");function GIt(e){var t=uo();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Bt.ZERO)>0&&e.subTo(t,t),t}s(GIt,"bnMod");function pb(e){this.m=e}s(pb,"Classic");function HIt(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}s(HIt,"cConvert");function jIt(e){return e}s(jIt,"cRevert");function VIt(e){e.divRemTo(this.m,null,e)}s(VIt,"cReduce");function $It(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s($It,"cMulTo");function zIt(e,t){e.squareTo(t),this.reduce(t)}s(zIt,"cSqrTo");pb.prototype.convert=HIt;pb.prototype.revert=jIt;pb.prototype.reduce=VIt;pb.prototype.mulTo=$It;pb.prototype.sqrTo=zIt;function YIt(){if(this.t<1)return 0;var e=this.data[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}s(YIt,"bnpInvDigit");function gb(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}s(gb,"Montgomery");function KIt(e){var t=uo();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Bt.ZERO)>0&&this.m.subTo(t,t),t}s(KIt,"montConvert");function JIt(e){var t=uo();return e.copyTo(t),this.reduce(t),t}s(JIt,"montRevert");function XIt(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}s(XIt,"montReduce");function ZIt(e,t){e.squareTo(t),this.reduce(t)}s(ZIt,"montSqrTo");function e8t(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s(e8t,"montMulTo");gb.prototype.convert=KIt;gb.prototype.revert=JIt;gb.prototype.reduce=XIt;gb.prototype.mulTo=e8t;gb.prototype.sqrTo=ZIt;function t8t(){return(this.t>0?this.data[0]&1:this.s)==0}s(t8t,"bnpIsEven");function r8t(e,t){if(e>4294967295||e<1)return Bt.ONE;var r=uo(),n=uo(),i=t.convert(this),o=kW(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)}s(r8t,"bnpExp");function n8t(e,t){var r;return e<256||t.isEven()?r=new pb(t):r=new gb(t),this.exp(e,r)}s(n8t,"bnModPowInt");Bt.prototype.copyTo=wIt;Bt.prototype.fromInt=_It;Bt.prototype.fromString=SIt;Bt.prototype.clamp=RIt;Bt.prototype.dlShiftTo=LIt;Bt.prototype.drShiftTo=FIt;Bt.prototype.lShiftTo=MIt;Bt.prototype.rShiftTo=QIt;Bt.prototype.subTo=OIt;Bt.prototype.multiplyTo=UIt;Bt.prototype.squareTo=qIt;Bt.prototype.divRemTo=WIt;Bt.prototype.invDigit=YIt;Bt.prototype.isEven=t8t;Bt.prototype.exp=r8t;Bt.prototype.toString=kIt;Bt.prototype.negate=BIt;Bt.prototype.abs=DIt;Bt.prototype.compareTo=PIt;Bt.prototype.bitLength=NIt;Bt.prototype.mod=GIt;Bt.prototype.modPowInt=n8t;Bt.ZERO=xC(0);Bt.ONE=xC(1);function i8t(){var e=uo();return this.copyTo(e),e}s(i8t,"bnClone");function o8t(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}s(o8t,"bnIntValue");function s8t(){return this.t==0?this.s:this.data[0]<<24>>24}s(s8t,"bnByteValue");function a8t(){return this.t==0?this.s:this.data[0]<<16>>16}s(a8t,"bnShortValue");function l8t(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}s(l8t,"bnpChunkSize");function c8t(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}s(c8t,"bnSigNum");function u8t(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=xC(r),i=uo(),o=uo(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(e)+a}s(u8t,"bnpToRadix");function f8t(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,o=0,a=0,l=0;l<e.length;++l){var c=PDe(e,l);if(c<0){e.charAt(l)=="-"&&this.signum()==0&&(i=!0);continue}a=t*a+c,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0)}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),i&&Bt.ZERO.subTo(this,this)}s(f8t,"bnpFromRadix");function d8t(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(Bt.ONE.shiftLeft(e-1),Pae,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(Bt.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}s(d8t,"bnpFromNumber");function m8t(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),(n&128)!=0&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}s(m8t,"bnToByteArray");function h8t(e){return this.compareTo(e)==0}s(h8t,"bnEquals");function p8t(e){return this.compareTo(e)<0?this:e}s(p8t,"bnMin");function g8t(e){return this.compareTo(e)>0?this:e}s(g8t,"bnMax");function A8t(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}s(A8t,"bnpBitwiseTo");function y8t(e,t){return e&t}s(y8t,"op_and");function C8t(e){var t=uo();return this.bitwiseTo(e,y8t,t),t}s(C8t,"bnAnd");function Pae(e,t){return e|t}s(Pae,"op_or");function x8t(e){var t=uo();return this.bitwiseTo(e,Pae,t),t}s(x8t,"bnOr");function NDe(e,t){return e^t}s(NDe,"op_xor");function v8t(e){var t=uo();return this.bitwiseTo(e,NDe,t),t}s(v8t,"bnXor");function LDe(e,t){return e&~t}s(LDe,"op_andnot");function b8t(e){var t=uo();return this.bitwiseTo(e,LDe,t),t}s(b8t,"bnAndNot");function E8t(){for(var e=uo(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}s(E8t,"bnNot");function I8t(e){var t=uo();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}s(I8t,"bnShiftLeft");function T8t(e){var t=uo();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}s(T8t,"bnShiftRight");function w8t(e){if(e==0)return-1;var t=0;return(e&65535)==0&&(e>>=16,t+=16),(e&255)==0&&(e>>=8,t+=8),(e&15)==0&&(e>>=4,t+=4),(e&3)==0&&(e>>=2,t+=2),(e&1)==0&&++t,t}s(w8t,"lbit");function _8t(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+w8t(this.data[e]);return this.s<0?this.t*this.DB:-1}s(_8t,"bnGetLowestSetBit");function S8t(e){for(var t=0;e!=0;)e&=e-1,++t;return t}s(S8t,"cbit");function R8t(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=S8t(this.data[r]^t);return e}s(R8t,"bnBitCount");function k8t(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}s(k8t,"bnTestBit");function B8t(e,t){var r=Bt.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}s(B8t,"bnpChangeBit");function D8t(e){return this.changeBit(e,Pae)}s(D8t,"bnSetBit");function P8t(e){return this.changeBit(e,LDe)}s(P8t,"bnClearBit");function N8t(e){return this.changeBit(e,NDe)}s(N8t,"bnFlipBit");function L8t(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}s(L8t,"bnpAddTo");function F8t(e){var t=uo();return this.addTo(e,t),t}s(F8t,"bnAdd");function M8t(e){var t=uo();return this.subTo(e,t),t}s(M8t,"bnSubtract");function Q8t(e){var t=uo();return this.multiplyTo(e,t),t}s(Q8t,"bnMultiply");function O8t(e){var t=uo();return this.divRemTo(e,t,null),t}s(O8t,"bnDivide");function U8t(e){var t=uo();return this.divRemTo(e,null,t),t}s(U8t,"bnRemainder");function q8t(e){var t=uo(),r=uo();return this.divRemTo(e,t,r),new Array(t,r)}s(q8t,"bnDivideAndRemainder");function W8t(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}s(W8t,"bnpDMultiply");function G8t(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}s(G8t,"bnpDAddOffset");function zR(){}s(zR,"NullExp");function FDe(e){return e}s(FDe,"nNop");function H8t(e,t,r){e.multiplyTo(t,r)}s(H8t,"nMulTo");function j8t(e,t){e.squareTo(t)}s(j8t,"nSqrTo");zR.prototype.convert=FDe;zR.prototype.revert=FDe;zR.prototype.mulTo=H8t;zR.prototype.sqrTo=j8t;function V8t(e){return this.exp(e,new zR)}s(V8t,"bnPow");function $8t(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}s($8t,"bnpMultiplyLowerTo");function z8t(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}s(z8t,"bnpMultiplyUpperTo");function s9(e){this.r2=uo(),this.q3=uo(),Bt.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}s(s9,"Barrett");function Y8t(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=uo();return e.copyTo(t),this.reduce(t),t}s(Y8t,"barrettConvert");function K8t(e){return e}s(K8t,"barrettRevert");function J8t(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}s(J8t,"barrettReduce");function X8t(e,t){e.squareTo(t),this.reduce(t)}s(X8t,"barrettSqrTo");function Z8t(e,t,r){e.multiplyTo(t,r),this.reduce(r)}s(Z8t,"barrettMulTo");s9.prototype.convert=Y8t;s9.prototype.revert=K8t;s9.prototype.reduce=J8t;s9.prototype.mulTo=Z8t;s9.prototype.sqrTo=X8t;function e6t(e,t){var r=e.bitLength(),n,i=xC(1),o;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?o=new pb(t):t.isEven()?o=new s9(t):o=new gb(t);var a=new Array,l=3,c=n-1,u=(1<<n)-1;if(a[1]=o.convert(this),n>1){var f=uo();for(o.sqrTo(a[1],f);l<=u;)a[l]=uo(),o.mulTo(f,a[l-2],a[l]),l+=2}var m=e.t-1,h,p=!0,g=uo(),y;for(r=kW(e.data[m])-1;m>=0;){for(r>=c?h=e.data[m]>>r-c&u:(h=(e.data[m]&(1<<r+1)-1)<<c-r,m>0&&(h|=e.data[m-1]>>this.DB+r-c)),l=n;(h&1)==0;)h>>=1,--l;if((r-=l)<0&&(r+=this.DB,--m),p)a[h].copyTo(i),p=!1;else{for(;l>1;)o.sqrTo(i,g),o.sqrTo(g,i),l-=2;l>0?o.sqrTo(i,g):(y=i,i=g,g=y),o.mulTo(g,a[h],i)}for(;m>=0&&(e.data[m]&1<<r)==0;)o.sqrTo(i,g),y=i,i=g,g=y,--r<0&&(r=this.DB-1,--m)}return o.revert(i)}s(e6t,"bnModPow");function t6t(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}s(t6t,"bnGCD");function r6t(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}s(r6t,"bnpModInt");function n6t(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return Bt.ZERO;for(var r=e.clone(),n=this.clone(),i=xC(1),o=xC(0),a=xC(0),l=xC(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!l.isEven())&&(a.addTo(this,a),l.subTo(e,l)),a.rShiftTo(1,a)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),o.subTo(l,o)):(n.subTo(r,n),t&&a.subTo(i,a),l.subTo(o,l))}if(n.compareTo(Bt.ONE)!=0)return Bt.ZERO;if(l.compareTo(e)>=0)return l.subtract(e);if(l.signum()<0)l.addTo(e,l);else return l;return l.signum()<0?l.add(e):l}s(n6t,"bnModInverse");var Mh=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],i6t=(1<<26)/Mh[Mh.length-1];function o6t(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=Mh[Mh.length-1]){for(t=0;t<Mh.length;++t)if(r.data[0]==Mh[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Mh.length;){for(var n=Mh[t],i=t+1;i<Mh.length&&n<i6t;)n*=Mh[i++];for(n=r.modInt(n);t<i;)if(n%Mh[t++]==0)return!1}return r.millerRabin(e)}s(o6t,"bnIsProbablePrime");function s6t(e){var t=this.subtract(Bt.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=a6t(),o,a=0;a<e;++a){do o=new Bt(this.bitLength(),i);while(o.compareTo(Bt.ONE)<=0||o.compareTo(t)>=0);var l=o.modPow(n,this);if(l.compareTo(Bt.ONE)!=0&&l.compareTo(t)!=0){for(var c=1;c++<r&&l.compareTo(t)!=0;)if(l=l.modPowInt(2,this),l.compareTo(Bt.ONE)==0)return!1;if(l.compareTo(t)!=0)return!1}}return!0}s(s6t,"bnpMillerRabin");function a6t(){return{nextBytes:s(function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)},"nextBytes")}}s(a6t,"bnGetPrng");Bt.prototype.chunkSize=l8t;Bt.prototype.toRadix=u8t;Bt.prototype.fromRadix=f8t;Bt.prototype.fromNumber=d8t;Bt.prototype.bitwiseTo=A8t;Bt.prototype.changeBit=B8t;Bt.prototype.addTo=L8t;Bt.prototype.dMultiply=W8t;Bt.prototype.dAddOffset=G8t;Bt.prototype.multiplyLowerTo=$8t;Bt.prototype.multiplyUpperTo=z8t;Bt.prototype.modInt=r6t;Bt.prototype.millerRabin=s6t;Bt.prototype.clone=i8t;Bt.prototype.intValue=o8t;Bt.prototype.byteValue=s8t;Bt.prototype.shortValue=a8t;Bt.prototype.signum=c8t;Bt.prototype.toByteArray=m8t;Bt.prototype.equals=h8t;Bt.prototype.min=p8t;Bt.prototype.max=g8t;Bt.prototype.and=C8t;Bt.prototype.or=x8t;Bt.prototype.xor=v8t;Bt.prototype.andNot=b8t;Bt.prototype.not=E8t;Bt.prototype.shiftLeft=I8t;Bt.prototype.shiftRight=T8t;Bt.prototype.getLowestSetBit=_8t;Bt.prototype.bitCount=R8t;Bt.prototype.testBit=k8t;Bt.prototype.setBit=D8t;Bt.prototype.clearBit=P8t;Bt.prototype.flipBit=N8t;Bt.prototype.add=F8t;Bt.prototype.subtract=M8t;Bt.prototype.multiply=Q8t;Bt.prototype.divide=O8t;Bt.prototype.remainder=U8t;Bt.prototype.divideAndRemainder=q8t;Bt.prototype.modPow=e6t;Bt.prototype.modInverse=n6t;Bt.prototype.pow=V8t;Bt.prototype.gcd=t6t;Bt.prototype.isProbablePrime=o6t});var a9=H((E$r,qDe)=>{d();var kg=fi();Tg();co();var ODe=qDe.exports=kg.sha1=kg.sha1||{};kg.md.sha1=kg.md.algorithms.sha1=ODe;ODe.create=function(){UDe||l6t();var e=null,t=kg.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return t=kg.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=kg.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=n.fullMessageLength.length-1;l>=0;--l)n.fullMessageLength[l]+=a[1],a[1]=a[0]+(n.fullMessageLength[l]/4294967296>>>0),n.fullMessageLength[l]=n.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(i),QDe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=kg.util.createBuffer();i.putBytes(t.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(Nae.substr(0,n.blockLength-a));for(var l,c,u=n.fullMessageLength[0]*8,f=0;f<n.fullMessageLength.length-1;++f)l=n.fullMessageLength[f+1]*8,c=l/4294967296>>>0,u+=c,i.putInt32(u>>>0),u=l>>>0;i.putInt32(u);var m={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};QDe(m,r,i);var h=kg.util.createBuffer();return h.putInt32(m.h0),h.putInt32(m.h1),h.putInt32(m.h2),h.putInt32(m.h3),h.putInt32(m.h4),h},n};var Nae=null,UDe=!1;function l6t(){Nae="\x80",Nae+=kg.util.fillString("\0",64),UDe=!0}s(l6t,"_init");function QDe(e,t,r){for(var n,i,o,a,l,c,u,f,m=r.length();m>=64;){for(i=e.h0,o=e.h1,a=e.h2,l=e.h3,c=e.h4,f=0;f<16;++f)n=r.getInt32(),t[f]=n,u=l^o&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<20;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=l^o&(a^l),n=(i<<5|i>>>27)+u+c+1518500249+n,c=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<32;++f)n=t[f-3]^t[f-8]^t[f-14]^t[f-16],n=n<<1|n>>>31,t[f]=n,u=o^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<40;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=o^a^l,n=(i<<5|i>>>27)+u+c+1859775393+n,c=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<60;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=o&a|l&(o^a),n=(i<<5|i>>>27)+u+c+2400959708+n,c=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;f<80;++f)n=t[f-6]^t[f-16]^t[f-28]^t[f-32],n=n<<2|n>>>30,t[f]=n,u=o^a^l,n=(i<<5|i>>>27)+u+c+3395469782+n,c=l,l=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+l|0,e.h4=e.h4+c|0,m-=64}}s(QDe,"_update")});var Lae=H((w$r,GDe)=>{d();var Bg=fi();co();rm();a9();var WDe=GDe.exports=Bg.pkcs1=Bg.pkcs1||{};WDe.encode_rsa_oaep=function(e,t,r){var n,i,o,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,o=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),o?o.start():o=Bg.md.sha1.create(),a||(a=o);var l=Math.ceil(e.n.bitLength()/8),c=l-2*o.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),o.update(n,"raw");for(var f=o.digest(),m="",h=c-t.length,p=0;p<h;p++)m+="\0";var g=f.getBytes()+m+""+t;if(!i)i=Bg.random.getBytes(o.digestLength);else if(i.length!==o.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=o.digestLength,u}var y=BW(i,l-o.digestLength-1,a),x=Bg.util.xorBytes(g,y,g.length),b=BW(x,o.digestLength,a),E=Bg.util.xorBytes(i,b,i.length);return"\0"+E+x};WDe.decode_rsa_oaep=function(e,t,r){var n,i,o;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var x=new Error("RSAES-OAEP encoded message length is invalid.");throw x.length=t.length,x.expectedLength=a,x}if(i===void 0?i=Bg.md.sha1.create():i.start(),o||(o=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var l=i.digest().getBytes(),c=t.charAt(0),u=t.substring(1,i.digestLength+1),f=t.substring(1+i.digestLength),m=BW(f,i.digestLength,o),h=Bg.util.xorBytes(u,m,u.length),p=BW(h,a-i.digestLength-1,o),g=Bg.util.xorBytes(f,p,f.length),y=g.substring(0,i.digestLength),x=c!=="\0",b=0;b<i.digestLength;++b)x|=l.charAt(b)!==y.charAt(b);for(var E=1,_=i.digestLength,k=i.digestLength;k<g.length;k++){var B=g.charCodeAt(k),N=B&1^1,M=E?65534:0;x|=B&M,E=E&N,_+=E}if(x||g.charCodeAt(_)!==1)throw new Error("Invalid RSAES-OAEP padding.");return g.substring(_+1)};function BW(e,t,r){r||(r=Bg.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),o=0;o<i;++o){var a=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}s(BW,"rsa_mgf1")});var Mae=H((R$r,Fae)=>{d();var vC=fi();co();YR();rm();(function(){if(vC.prime){Fae.exports=vC.prime;return}var e=Fae.exports=vC.prime=vC.prime||{},t=vC.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=s(function(m,h){return m|h},"op_or");e.generateProbablePrime=function(m,h,p){typeof h=="function"&&(p=h,h={}),h=h||{};var g=h.algorithm||"PRIMEINC";typeof g=="string"&&(g={name:g}),g.options=g.options||{};var y=h.prng||vC.random,x={nextBytes:s(function(b){for(var E=y.getBytesSync(b.length),_=0;_<b.length;++_)b[_]=E.charCodeAt(_)},"nextBytes")};if(g.name==="PRIMEINC")return o(m,x,g.options,p);throw new Error("Invalid prime generation algorithm: "+g.name)};function o(m,h,p,g){return"workers"in p?c(m,h,p,g):a(m,h,p,g)}s(o,"primeincFindPrime");function a(m,h,p,g){var y=u(m,h),x=0,b=f(y.bitLength());"millerRabinTests"in p&&(b=p.millerRabinTests);var E=10;"maxBlockTime"in p&&(E=p.maxBlockTime),l(y,m,h,x,b,E,g)}s(a,"primeincFindPrimeWithoutWorkers");function l(m,h,p,g,y,x,b){var E=+new Date;do{if(m.bitLength()>h&&(m=u(h,p)),m.isProbablePrime(y))return b(null,m);m.dAddOffset(r[g++%8],0)}while(x<0||+new Date-E<x);vC.util.setImmediate(function(){l(m,h,p,g,y,x,b)})}s(l,"_primeinc");function c(m,h,p,g){if(typeof Worker>"u")return a(m,h,p,g);var y=u(m,h),x=p.workers,b=p.workLoad||100,E=b*30/8,_=p.workerScript||"forge/prime.worker.js";if(x===-1)return vC.util.estimateCores(function(B,N){B&&(N=2),x=N-1,k()});k();function k(){x=Math.max(1,x);for(var B=[],N=0;N<x;++N)B[N]=new Worker(_);for(var M=x,N=0;N<x;++N)B[N].addEventListener("message",de);var te=!1;function de(Z){if(!te){--M;var G=Z.data;if(G.found){for(var q=0;q<B.length;++q)B[q].terminate();return te=!0,g(null,new t(G.prime,16))}y.bitLength()>m&&(y=u(m,h));var ie=y.toString(16);Z.target.postMessage({hex:ie,workLoad:b}),y.dAddOffset(E,0)}}s(de,"workerMessage")}s(k,"generate")}s(c,"primeincFindPrimeWithWorkers");function u(m,h){var p=new t(m,h),g=m-1;return p.testBit(g)||p.bitwiseTo(t.ONE.shiftLeft(g),i,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}s(u,"generateRandom");function f(m){return m<=100?27:m<=150?18:m<=200?15:m<=250?12:m<=300?9:m<=350?8:m<=400?7:m<=500?6:m<=600?5:m<=800?4:m<=1250?3:2}s(f,"getMillerRabinTests")})()});var KR=H((D$r,KDe)=>{d();var sn=fi();Fh();YR();CC();Lae();Mae();rm();co();typeof Xi>"u"&&(Xi=sn.jsbn.BigInteger);var Xi,Qae=sn.util.isNodejs?require("crypto"):null,ze=sn.asn1,im=sn.util;sn.pki=sn.pki||{};KDe.exports=sn.pki.rsa=sn.rsa=sn.rsa||{};var Xn=sn.pki,c6t=[6,4,2,4,2,4,6,2],u6t={name:"PrivateKeyInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},f6t={name:"RSAPrivateKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},d6t={name:"RSAPublicKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},m6t=sn.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},h6t={name:"DigestInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:ze.Class.UNIVERSAL,type:ze.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},p6t=s(function(e){var t;if(e.algorithm in Xn.oids)t=Xn.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=ze.oidToDer(t).getBytes(),i=ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[]),o=ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[]);o.value.push(ze.create(ze.Class.UNIVERSAL,ze.Type.OID,!1,n)),o.value.push(ze.create(ze.Class.UNIVERSAL,ze.Type.NULL,!1,""));var a=ze.create(ze.Class.UNIVERSAL,ze.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(o),i.value.push(a),ze.toDer(i).getBytes()},"emsaPkcs1v15encode"),zDe=s(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(Xi.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(Xi.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new Xi(sn.util.bytesToHex(sn.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(Xi.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(o)<0;)i=i.add(t.p);var a=i.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");Xn.rsa.encrypt=function(e,t,r){var n=r,i,o=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=YDe(e,t,r)):(i=sn.util.createBuffer(),i.putBytes(e));for(var a=new Xi(i.toHex(),16),l=zDe(a,t,n),c=l.toString(16),u=sn.util.createBuffer(),f=o-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(sn.util.hexToBytes(c)),u.getBytes()};Xn.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=i,o}var a=new Xi(sn.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var l=zDe(a,t,r),c=l.toString(16),u=sn.util.createBuffer(),f=i-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(sn.util.hexToBytes(c)),n!==!1?DW(u.getBytes(),t,r):u.getBytes()};Xn.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||sn.random,i={nextBytes:s(function(l){for(var c=n.getBytesSync(l.length),u=0;u<l.length;++u)l[u]=c.charCodeAt(u)},"nextBytes")},o=r.algorithm||"PRIMEINC",a;if(o==="PRIMEINC")a={algorithm:o,state:0,bits:e,rng:i,eInt:t||65537,e:new Xi(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+o);return a};Xn.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new Xi(null);r.fromInt(30);for(var n=0,i=s(function(m,h){return m|h},"op_or"),o=+new Date,a,l=0;e.keys===null&&(t<=0||l<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new Xi(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(Xi.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(A6t(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(c6t[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(Xi.ONE).gcd(e.e).compareTo(Xi.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(Xi.ONE),e.q1=e.q.subtract(Xi.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(Xi.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var f=e.e.modInverse(e.phi);e.keys={privateKey:Xn.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:Xn.rsa.setPublicKey(e.n,e.e)}}a=+new Date,l+=a-o,o=a}return e.keys!==null};Xn.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!sn.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(HDe("generateKeyPair"))return Qae.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(l,c,u){if(l)return n(l);n(null,{privateKey:Xn.privateKeyFromPem(u),publicKey:Xn.publicKeyFromPem(c)})});if(jDe("generateKey")&&jDe("exportKey"))return im.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:$De(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(l){return im.globalScope.crypto.subtle.exportKey("pkcs8",l.privateKey)}).then(void 0,function(l){n(l)}).then(function(l){if(l){var c=Xn.privateKeyFromAsn1(ze.fromDer(sn.util.createBuffer(l)));n(null,{privateKey:c,publicKey:Xn.setRsaPublicKey(c.n,c.e)})}});if(VDe("generateKey")&&VDe("exportKey")){var i=im.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:$De(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(l){var c=l.target.result,u=im.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(f){var m=f.target.result,h=Xn.privateKeyFromAsn1(ze.fromDer(sn.util.createBuffer(m)));n(null,{privateKey:h,publicKey:Xn.setRsaPublicKey(h.n,h.e)})},u.onerror=function(f){n(f)}},i.onerror=function(l){n(l)};return}}else if(HDe("generateKeyPairSync")){var o=Qae.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Xn.privateKeyFromPem(o.privateKey),publicKey:Xn.publicKeyFromPem(o.publicKey)}}}var a=Xn.rsa.createKeyPairGenerationState(e,t,r);if(!n)return Xn.rsa.stepKeyPairGenerationState(a,0),a.keys;g6t(a,r,n)};Xn.setRsaPublicKey=Xn.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,o){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:s(function(l,c,u){return YDe(l,c,2).getBytes()},"encode")};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:s(function(l,c){return sn.pkcs1.encode_rsa_oaep(c,l,o)},"encode")};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:s(function(l){return l},"encode")};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return Xn.rsa.encrypt(a,r,!0)},r.verify=function(n,i,o,a){typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),o==="RSASSA-PKCS1-V1_5"?o={verify:s(function(c,u){u=DW(u,r,!0);var f=ze.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),m={},h=[];if(!ze.validate(f,h6t,m,h)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=h,p}var g=ze.derToOid(m.algorithmIdentifier);if(!(g===sn.oids.md2||g===sn.oids.md5||g===sn.oids.sha1||g===sn.oids.sha224||g===sn.oids.sha256||g===sn.oids.sha384||g===sn.oids.sha512||g===sn.oids["sha512-224"]||g===sn.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=g,p}if((g===sn.oids.md2||g===sn.oids.md5)&&!("parameters"in m))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===m.digest},"verify")}:(o==="NONE"||o==="NULL"||o===null)&&(o={verify:s(function(c,u){return u=DW(u,r,!0),c===u},"verify")});var l=Xn.rsa.decrypt(i,r,!0,!1);return o.verify(n,l,r.n.bitLength())},r};Xn.setRsaPrivateKey=Xn.rsa.setPrivateKey=function(e,t,r,n,i,o,a,l){var c={n:e,e:t,d:r,p:n,q:i,dP:o,dQ:a,qInv:l};return c.decrypt=function(u,f,m){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var h=Xn.rsa.decrypt(u,c,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:DW};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:s(function(p,g){return sn.pkcs1.decode_rsa_oaep(g,p,m)},"decode")};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:s(function(p){return p},"decode")};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(h,c,!1)},c.sign=function(u,f){var m=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:p6t},m=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:s(function(){return u},"encode")},m=1);var h=f.encode(u,c.n.bitLength());return Xn.rsa.encrypt(h,c,m)},c};Xn.wrapRsaPrivateKey=function(e){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,ze.integerToDer(0).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.OID,!1,ze.oidToDer(Xn.oids.rsaEncryption).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.NULL,!1,"")]),ze.create(ze.Class.UNIVERSAL,ze.Type.OCTETSTRING,!1,ze.toDer(e).getBytes())])};Xn.privateKeyFromAsn1=function(e){var t={},r=[];if(ze.validate(e,u6t,t,r)&&(e=ze.fromDer(sn.util.createBuffer(t.privateKey))),t={},r=[],!ze.validate(e,f6t,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,o,a,l,c,u,f,m;return i=sn.util.createBuffer(t.privateKeyModulus).toHex(),o=sn.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=sn.util.createBuffer(t.privateKeyPrivateExponent).toHex(),l=sn.util.createBuffer(t.privateKeyPrime1).toHex(),c=sn.util.createBuffer(t.privateKeyPrime2).toHex(),u=sn.util.createBuffer(t.privateKeyExponent1).toHex(),f=sn.util.createBuffer(t.privateKeyExponent2).toHex(),m=sn.util.createBuffer(t.privateKeyCoefficient).toHex(),Xn.setRsaPrivateKey(new Xi(i,16),new Xi(o,16),new Xi(a,16),new Xi(l,16),new Xi(c,16),new Xi(u,16),new Xi(f,16),new Xi(m,16))};Xn.privateKeyToAsn1=Xn.privateKeyToRSAPrivateKey=function(e){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,ze.integerToDer(0).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Dg(e.n)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Dg(e.e)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Dg(e.d)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Dg(e.p)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Dg(e.q)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Dg(e.dP)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Dg(e.dQ)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Dg(e.qInv))])};Xn.publicKeyFromAsn1=function(e){var t={},r=[];if(ze.validate(e,m6t,t,r)){var n=ze.derToOid(t.publicKeyOid);if(n!==Xn.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!ze.validate(e,d6t,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var o=sn.util.createBuffer(t.publicKeyModulus).toHex(),a=sn.util.createBuffer(t.publicKeyExponent).toHex();return Xn.setRsaPublicKey(new Xi(o,16),new Xi(a,16))};Xn.publicKeyToAsn1=Xn.publicKeyToSubjectPublicKeyInfo=function(e){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.OID,!1,ze.oidToDer(Xn.oids.rsaEncryption).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.NULL,!1,"")]),ze.create(ze.Class.UNIVERSAL,ze.Type.BITSTRING,!1,[Xn.publicKeyToRSAPublicKey(e)])])};Xn.publicKeyToRSAPublicKey=function(e){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Dg(e.n)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Dg(e.e))])};function YDe(e,t,r){var n=sn.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=e.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var a=i-3-e.length,l;if(r===0||r===1){l=r===0?0:255;for(var c=0;c<a;++c)n.putByte(l)}else for(;a>0;){for(var u=0,f=sn.random.getBytes(a),c=0;c<a;++c)l=f.charCodeAt(c),l===0?++u:n.putByte(l);a=u}return n.putByte(0),n.putBytes(e),n}s(YDe,"_encodePkcs1_v1_5");function DW(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),o=sn.util.createBuffer(e),a=o.getByte(),l=o.getByte();if(a!==0||r&&l!==0&&l!==1||!r&&l!=2||r&&l===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(l===0){c=i-3-n;for(var u=0;u<c;++u)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(l===1)for(c=0;o.length()>1;){if(o.getByte()!==255){--o.read;break}++c}else if(l===2)for(c=0;o.length()>1;){if(o.getByte()===0){--o.read;break}++c}var f=o.getByte();if(f!==0||c!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}s(DW,"_decodePkcs1_v1_5");function g6t(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){o(e.pBits,function(l,c){if(l)return r(l);if(e.p=c,e.q!==null)return a(l,e.q);o(e.qBits,a)})}s(i,"generate");function o(l,c){sn.prime.generateProbablePrime(l,n,c)}s(o,"getPrime");function a(l,c){if(l)return r(l);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(Xi.ONE).gcd(e.e).compareTo(Xi.ONE)!==0){e.p=null,i();return}if(e.q.subtract(Xi.ONE).gcd(e.e).compareTo(Xi.ONE)!==0){e.q=null,o(e.qBits,a);return}if(e.p1=e.p.subtract(Xi.ONE),e.q1=e.q.subtract(Xi.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(Xi.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,o(e.qBits,a);return}var f=e.e.modInverse(e.phi);e.keys={privateKey:Xn.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:Xn.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}s(a,"finish")}s(g6t,"_generateKeyPair");function Dg(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=sn.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&(r.charCodeAt(1)&128)===0||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}s(Dg,"_bnToBytes");function A6t(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}s(A6t,"_getMillerRabinTests");function HDe(e){return sn.util.isNodejs&&typeof Qae[e]=="function"}s(HDe,"_detectNodeCrypto");function jDe(e){return typeof im.globalScope<"u"&&typeof im.globalScope.crypto=="object"&&typeof im.globalScope.crypto.subtle=="object"&&typeof im.globalScope.crypto.subtle[e]=="function"}s(jDe,"_detectSubtleCrypto");function VDe(e){return typeof im.globalScope<"u"&&typeof im.globalScope.msCrypto=="object"&&typeof im.globalScope.msCrypto.subtle=="object"&&typeof im.globalScope.msCrypto.subtle[e]=="function"}s(VDe,"_detectSubtleMsCrypto");function $De(e){for(var t=sn.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}s($De,"_intToUint8Array")});var Oae=H((L$r,tPe)=>{d();var kr=fi();yC();Fh();$R();Tg();CC();_W();hb();rm();kae();KR();co();typeof JDe>"u"&&(JDe=kr.jsbn.BigInteger);var JDe,ht=kr.asn1,si=kr.pki=kr.pki||{};tPe.exports=si.pbe=kr.pbe=kr.pbe||{};var Ab=si.oids,y6t={name:"EncryptedPrivateKeyInfo",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},C6t={name:"PBES2Algorithms",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:ht.Class.UNIVERSAL,type:ht.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:ht.Class.UNIVERSAL,type:ht.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},x6t={name:"pkcs-12PbeParams",tagClass:ht.Class.UNIVERSAL,type:ht.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:ht.Class.UNIVERSAL,type:ht.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:ht.Class.UNIVERSAL,type:ht.Type.INTEGER,constructed:!1,capture:"iterations"}]};si.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=kr.random.getBytesSync(r.saltSize),i=r.count,o=ht.integerToDer(i),a,l,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,f,m;switch(r.algorithm){case"aes128":a=16,u=16,f=Ab["aes128-CBC"],m=kr.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,f=Ab["aes192-CBC"],m=kr.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,f=Ab["aes256-CBC"],m=kr.aes.createEncryptionCipher;break;case"des":a=8,u=8,f=Ab.desCBC,m=kr.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),g=ePe(p),y=kr.pkcs5.pbkdf2(t,n,i,a,g),x=kr.random.getBytesSync(u),b=m(y);b.start(x),b.update(ht.toDer(e)),b.finish(),c=b.output.getBytes();var E=v6t(n,o,a,p);l=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(Ab.pkcs5PBES2).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(Ab.pkcs5PBKDF2).getBytes()),E]),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(f).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,x)])])])}else if(r.algorithm==="3des"){a=24;var _=new kr.util.ByteBuffer(n),y=si.pbe.generatePkcs12Key(t,_,1,i,a),x=si.pbe.generatePkcs12Key(t,_,2,i,a),b=kr.des.createEncryptionCipher(y);b.start(x),b.update(ht.toDer(e)),b.finish(),c=b.output.getBytes(),l=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(Ab["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,n),ht.create(ht.Class.UNIVERSAL,ht.Type.INTEGER,!1,o.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var k=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[l,ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,c)]);return k};si.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!ht.validate(e,y6t,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=ht.derToOid(n.encryptionOid),l=si.pbe.getCipher(a,n.encryptionParams,t),c=kr.util.createBuffer(n.encryptedData);return l.update(c),l.finish()&&(r=ht.fromDer(l.output)),r};si.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:ht.toDer(e).getBytes()};return kr.pem.encode(r,{maxline:t})};si.encryptedPrivateKeyFromPem=function(e){var t=kr.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return ht.fromDer(t.body)};si.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=si.wrapRsaPrivateKey(si.privateKeyToAsn1(e));return n=si.encryptPrivateKeyInfo(n,t,r),si.encryptedPrivateKeyToPem(n)}var i,o,a,l;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,o=kr.random.getBytesSync(16),l=kr.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,o=kr.random.getBytesSync(16),l=kr.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,o=kr.random.getBytesSync(16),l=kr.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,o=kr.random.getBytesSync(8),l=kr.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,o=kr.random.getBytesSync(8),l=kr.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=kr.pbe.opensslDeriveBytes(t,o.substr(0,8),a),f=l(u);f.start(o),f.update(ht.toDer(si.privateKeyToAsn1(e))),f.finish();var m={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:kr.util.bytesToHex(o).toUpperCase()},body:f.output.getBytes()};return kr.pem.encode(m)};si.decryptRsaPrivateKey=function(e,t){var r=null,n=kr.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var o,a;switch(n.dekInfo.algorithm){case"DES-CBC":o=8,a=kr.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,a=kr.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,a=kr.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,a=kr.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,a=kr.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,a=s(function(m){return kr.rc2.createDecryptionCipher(m,40)},"cipherFn");break;case"RC2-64-CBC":o=8,a=s(function(m){return kr.rc2.createDecryptionCipher(m,64)},"cipherFn");break;case"RC2-128-CBC":o=16,a=s(function(m){return kr.rc2.createDecryptionCipher(m,128)},"cipherFn");break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var l=kr.util.hexToBytes(n.dekInfo.parameters),c=kr.pbe.opensslDeriveBytes(t,l.substr(0,8),o),u=a(c);if(u.start(l),u.update(kr.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=si.decryptPrivateKeyInfo(ht.fromDer(r),t):r=ht.fromDer(r),r!==null&&(r=si.privateKeyFromAsn1(r)),r};si.pbe.generatePkcs12Key=function(e,t,r,n,i,o){var a,l;if(typeof o>"u"||o===null){if(!("sha1"in kr.md))throw new Error('"sha1" hash algorithm unavailable.');o=kr.md.sha1.create()}var c=o.digestLength,u=o.blockLength,f=new kr.util.ByteBuffer,m=new kr.util.ByteBuffer;if(e!=null){for(l=0;l<e.length;l++)m.putInt16(e.charCodeAt(l));m.putInt16(0)}var h=m.length(),p=t.length(),g=new kr.util.ByteBuffer;g.fillWithByte(r,u);var y=u*Math.ceil(p/u),x=new kr.util.ByteBuffer;for(l=0;l<y;l++)x.putByte(t.at(l%p));var b=u*Math.ceil(h/u),E=new kr.util.ByteBuffer;for(l=0;l<b;l++)E.putByte(m.at(l%h));var _=x;_.putBuffer(E);for(var k=Math.ceil(i/c),B=1;B<=k;B++){var N=new kr.util.ByteBuffer;N.putBytes(g.bytes()),N.putBytes(_.bytes());for(var M=0;M<n;M++)o.start(),o.update(N.getBytes()),N=o.digest();var te=new kr.util.ByteBuffer;for(l=0;l<u;l++)te.putByte(N.at(l%c));var de=Math.ceil(p/u)+Math.ceil(h/u),Z=new kr.util.ByteBuffer;for(a=0;a<de;a++){var G=new kr.util.ByteBuffer(_.getBytes(u)),q=511;for(l=te.length()-1;l>=0;l--)q=q>>8,q+=te.at(l)+G.at(l),G.setAt(l,q&255);Z.putBuffer(G)}_=Z,f.putBuffer(N)}return f.truncate(f.length()-i),f};si.pbe.getCipher=function(e,t,r){switch(e){case si.oids.pkcs5PBES2:return si.pbe.getCipherForPBES2(e,t,r);case si.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case si.oids["pbewithSHAAnd40BitRC2-CBC"]:return si.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};si.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!ht.validate(t,C6t,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}if(e=ht.derToOid(n.kdfOid),e!==si.oids.pkcs5PBKDF2){var o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw o.oid=e,o.supportedOids=["pkcs5PBKDF2"],o}if(e=ht.derToOid(n.encOid),e!==si.oids["aes128-CBC"]&&e!==si.oids["aes192-CBC"]&&e!==si.oids["aes256-CBC"]&&e!==si.oids["des-EDE3-CBC"]&&e!==si.oids.desCBC){var o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw o.oid=e,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o}var a=n.kdfSalt,l=kr.util.createBuffer(n.kdfIterationCount);l=l.getInt(l.length()<<3);var c,u;switch(si.oids[e]){case"aes128-CBC":c=16,u=kr.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=kr.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=kr.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=kr.des.createDecryptionCipher;break;case"desCBC":c=8,u=kr.des.createDecryptionCipher;break}var f=ZDe(n.prfOid),m=kr.pkcs5.pbkdf2(r,a,l,c,f),h=n.encIv,p=u(m);return p.start(h),p};si.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!ht.validate(t,x6t,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=kr.util.createBuffer(n.salt),l=kr.util.createBuffer(n.iterations);l=l.getInt(l.length()<<3);var c,u,f;switch(e){case si.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=kr.des.startDecrypting;break;case si.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=s(function(y,x){var b=kr.rc2.createDecryptionCipher(y,40);return b.start(x,null),b},"cipherFn");break;default:var o=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw o.oid=e,o}var m=ZDe(n.prfOid),h=si.pbe.generatePkcs12Key(r,a,1,l,c,m);m.start();var p=si.pbe.generatePkcs12Key(r,a,2,l,u,m);return f(h,p)};si.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in kr.md))throw new Error('"md5" hash algorithm unavailable.');n=kr.md.md5.create()}t===null&&(t="");for(var i=[XDe(n,e+t)],o=16,a=1;o<r;++a,o+=16)i.push(XDe(n,i[a-1]+e+t));return i.join("").substr(0,r)};function XDe(e,t){return e.start().update(t).digest().getBytes()}s(XDe,"hash");function ZDe(e){var t;if(!e)t="hmacWithSHA1";else if(t=si.oids[ht.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return ePe(t)}s(ZDe,"prfOidToMessageDigest");function ePe(e){var t=kr.md;switch(e){case"hmacWithSHA224":t=kr.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}s(ePe,"prfAlgorithmToMessageDigest");function v6t(e,t,r,n){var i=ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OCTETSTRING,!1,e),ht.create(ht.Class.UNIVERSAL,ht.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(ht.create(ht.Class.UNIVERSAL,ht.Type.INTEGER,!1,kr.util.hexToBytes(r.toString(16))),ht.create(ht.Class.UNIVERSAL,ht.Type.SEQUENCE,!0,[ht.create(ht.Class.UNIVERSAL,ht.Type.OID,!1,ht.oidToDer(si.oids[n]).getBytes()),ht.create(ht.Class.UNIVERSAL,ht.Type.NULL,!1,"")])),i}s(v6t,"createPbkdf2Params")});var Uae=H((Q$r,iPe)=>{d();var l9=fi();Fh();co();var wr=l9.asn1,c9=iPe.exports=l9.pkcs7asn1=l9.pkcs7asn1||{};l9.pkcs7=l9.pkcs7||{};l9.pkcs7.asn1=c9;var rPe={name:"ContentInfo",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:wr.Class.UNIVERSAL,type:wr.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:wr.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};c9.contentInfoValidator=rPe;var nPe={name:"EncryptedContentInfo",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:wr.Class.UNIVERSAL,type:wr.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:wr.Class.UNIVERSAL,type:wr.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:wr.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:wr.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};c9.envelopedDataValidator={name:"EnvelopedData",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:wr.Class.UNIVERSAL,type:wr.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(nPe)};c9.encryptedDataValidator={name:"EncryptedData",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:wr.Class.UNIVERSAL,type:wr.Type.INTEGER,constructed:!1,capture:"version"}].concat(nPe)};var b6t={name:"SignerInfo",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:wr.Class.UNIVERSAL,type:wr.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:wr.Class.UNIVERSAL,type:wr.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:wr.Class.UNIVERSAL,type:wr.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:wr.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:wr.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:wr.Class.UNIVERSAL,type:wr.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:wr.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};c9.signedDataValidator={name:"SignedData",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:wr.Class.UNIVERSAL,type:wr.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},rPe,{name:"SignedData.Certificates",tagClass:wr.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:wr.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SET,capture:"signerInfos",optional:!0,value:[b6t]}]};c9.recipientInfoValidator={name:"RecipientInfo",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:wr.Class.UNIVERSAL,type:wr.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:wr.Class.UNIVERSAL,type:wr.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:wr.Class.UNIVERSAL,type:wr.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:wr.Class.UNIVERSAL,type:wr.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:wr.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:wr.Class.UNIVERSAL,type:wr.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var qae=H((U$r,oPe)=>{d();var yb=fi();co();yb.mgf=yb.mgf||{};var E6t=oPe.exports=yb.mgf.mgf1=yb.mgf1=yb.mgf1||{};E6t.create=function(e){var t={generate:s(function(r,n){for(var i=new yb.util.ByteBuffer,o=Math.ceil(n/e.digestLength),a=0;a<o;a++){var l=new yb.util.ByteBuffer;l.putInt32(a),e.start(),e.update(r+l.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()},"generate")};return t}});var aPe=H((G$r,sPe)=>{d();var PW=fi();qae();sPe.exports=PW.mgf=PW.mgf||{};PW.mgf.mgf1=PW.mgf1});var NW=H((j$r,lPe)=>{d();var Cb=fi();rm();co();var I6t=lPe.exports=Cb.pss=Cb.pss||{};I6t.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=Cb.util.createBuffer(i));var o;if("saltLength"in e)o=e.saltLength;else if(i!==null)o=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==o)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||Cb.random,l={};return l.encode=function(c,u){var f,m=u-1,h=Math.ceil(m/8),p=c.digest().getBytes();if(h<n+o+2)throw new Error("Message is too long to encrypt.");var g;i===null?g=a.getBytesSync(o):g=i.bytes();var y=new Cb.util.ByteBuffer;y.fillWithByte(0,8),y.putBytes(p),y.putBytes(g),t.start(),t.update(y.getBytes());var x=t.digest().getBytes(),b=new Cb.util.ByteBuffer;b.fillWithByte(0,h-o-n-2),b.putByte(1),b.putBytes(g);var E=b.getBytes(),_=h-n-1,k=r.generate(x,_),B="";for(f=0;f<_;f++)B+=String.fromCharCode(E.charCodeAt(f)^k.charCodeAt(f));var N=65280>>8*h-m&255;return B=String.fromCharCode(B.charCodeAt(0)&~N)+B.substr(1),B+x+"\xBC"},l.verify=function(c,u,f){var m,h=f-1,p=Math.ceil(h/8);if(u=u.substr(-p),p<n+o+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var g=p-n-1,y=u.substr(0,g),x=u.substr(g,n),b=65280>>8*p-h&255;if((y.charCodeAt(0)&b)!==0)throw new Error("Bits beyond keysize not zero as expected.");var E=r.generate(x,g),_="";for(m=0;m<g;m++)_+=String.fromCharCode(y.charCodeAt(m)^E.charCodeAt(m));_=String.fromCharCode(_.charCodeAt(0)&~b)+_.substr(1);var k=p-n-o-2;for(m=0;m<k;m++)if(_.charCodeAt(m)!==0)throw new Error("Leftmost octets not zero as expected");if(_.charCodeAt(k)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var B=_.substr(-o),N=new Cb.util.ByteBuffer;N.fillWithByte(0,8),N.putBytes(c),N.putBytes(B),t.start(),t.update(N.getBytes());var M=t.digest().getBytes();return x===M},l}});var MW=H(($$r,mPe)=>{d();var an=fi();yC();Fh();$R();Tg();aPe();CC();hb();NW();KR();co();var $=an.asn1,ar=mPe.exports=an.pki=an.pki||{},Zi=ar.oids,ca={};ca.CN=Zi.commonName;ca.commonName="CN";ca.C=Zi.countryName;ca.countryName="C";ca.L=Zi.localityName;ca.localityName="L";ca.ST=Zi.stateOrProvinceName;ca.stateOrProvinceName="ST";ca.O=Zi.organizationName;ca.organizationName="O";ca.OU=Zi.organizationalUnitName;ca.organizationalUnitName="OU";ca.E=Zi.emailAddress;ca.emailAddress="E";var uPe=an.pki.rsa.publicKeyValidator,T6t={name:"Certificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:$.Class.UNIVERSAL,type:$.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:$.Class.UNIVERSAL,type:$.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},uPe,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},w6t={name:"rsapss",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:$.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:$.Class.UNIVERSAL,type:$.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:$.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:$.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:$.Class.UNIVERSAL,type:$.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},_6t={name:"CertificationRequestInfo",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:$.Class.UNIVERSAL,type:$.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},uPe,{name:"CertificationRequestInfo.attributes",tagClass:$.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:$.Class.UNIVERSAL,type:$.Type.SET,constructed:!0}]}]}]},S6t={name:"CertificationRequest",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[_6t,{name:"CertificationRequest.signatureAlgorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:$.Class.UNIVERSAL,type:$.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:$.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:$.Class.UNIVERSAL,type:$.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};ar.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,o,a=0;a<e.value.length;++a){n=e.value[a];for(var l=0;l<n.value.length;++l)o={},i=n.value[l],o.type=$.derToOid(i.value[0].value),o.value=i.value[1].value,o.valueTagClass=i.value[1].type,o.type in Zi&&(o.name=Zi[o.type],o.name in ca&&(o.shortName=ca[o.name])),t&&(t.update(o.type),t.update(o.value)),r.push(o)}return r};ar.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=$.derToOid(n.value[0].value),o=n.value[1].value,a=0;a<o.length;++a){var l={};if(l.type=i,l.value=o[a].value,l.valueTagClass=o[a].type,l.type in Zi&&(l.name=Zi[l.type],l.name in ca&&(l.shortName=ca[l.name])),l.type===Zi.extensionRequest){l.extensions=[];for(var c=0;c<l.value.length;++c)l.extensions.push(ar.certificateExtensionFromAsn1(l.value[c]))}t.push(l)}return t};function bC(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}s(bC,"_getAttribute");var LW=s(function(e,t,r){var n={};if(e!==Zi["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Zi.sha1},mgf:{algorithmOid:Zi.mgf1,hash:{algorithmOid:Zi.sha1}},saltLength:20});var i={},o=[];if(!$.validate(t,w6t,i,o)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=o,a}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=$.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=$.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=$.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),FW=s(function(e){switch(Zi[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return an.md.sha1.create();case"md5WithRSAEncryption":return an.md.md5.create();case"sha256WithRSAEncryption":return an.md.sha256.create();case"sha384WithRSAEncryption":return an.md.sha384.create();case"sha512WithRSAEncryption":return an.md.sha512.create();case"RSASSA-PSS":return an.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),fPe=s(function(e){var t=e.certificate,r;switch(t.signatureOid){case Zi.sha1WithRSAEncryption:case Zi.sha1WithRSASignature:break;case Zi["RSASSA-PSS"]:var n,i;if(n=Zi[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||an.md[n]===void 0){var o=new Error("Unsupported MGF hash function.");throw o.oid=t.signatureParameters.mgf.hash.algorithmOid,o.name=n,o}if(i=Zi[t.signatureParameters.mgf.algorithmOid],i===void 0||an.mgf[i]===void 0){var o=new Error("Unsupported MGF function.");throw o.oid=t.signatureParameters.mgf.algorithmOid,o.name=i,o}if(i=an.mgf[i].create(an.md[n].create()),n=Zi[t.signatureParameters.hash.algorithmOid],n===void 0||an.md[n]===void 0){var o=new Error("Unsupported RSASSA-PSS hash function.");throw o.oid=t.signatureParameters.hash.algorithmOid,o.name=n,o}r=an.pss.create(an.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");ar.certificateFromPem=function(e,t,r){var n=an.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var o=$.fromDer(n.body,r);return ar.certificateFromAsn1(o,t)};ar.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:$.toDer(ar.certificateToAsn1(e)).getBytes()};return an.pem.encode(r,{maxline:t})};ar.publicKeyFromPem=function(e){var t=an.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=$.fromDer(t.body);return ar.publicKeyFromAsn1(n)};ar.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:$.toDer(ar.publicKeyToAsn1(e)).getBytes()};return an.pem.encode(r,{maxline:t})};ar.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:$.toDer(ar.publicKeyToRSAPublicKey(e)).getBytes()};return an.pem.encode(r,{maxline:t})};ar.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||an.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=$.toDer(ar.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=$.toDer(ar.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var o=r.digest();if(t.encoding==="hex"){var a=o.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return o};ar.certificationRequestFromPem=function(e,t,r){var n=an.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var o=$.fromDer(n.body,r);return ar.certificationRequestFromAsn1(o,t)};ar.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:$.toDer(ar.certificationRequestToAsn1(e)).getBytes()};return an.pem.encode(r,{maxline:t})};ar.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return bC(e.issuer,t)},e.issuer.addField=function(t){om([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return bC(e.subject,t)},e.subject.addField=function(t){om([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){om(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){om(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)dPe(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||an.md.sha1.create();var n=Zi[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=ar.getTBSCertificate(e);var o=$.toDer(e.tbsCertificate);e.md.update(o.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,o=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw o.expectedIssuer=i.attributes,o.actualIssuer=n.attributes,o}var a=t.md;if(a===null){a=FW({signatureOid:t.signatureOid,type:"certificate"});var l=t.tbsCertificate||ar.getTBSCertificate(t),c=$.toDer(l);a.update(c.getBytes())}return a!==null&&(r=fPe({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var o,a,l=0;r&&l<n.attributes.length;++l)o=n.attributes[l],a=i.attributes[l],(o.type!==a.type||o.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return ar.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Zi.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return an.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};ar.certificateFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,T6t,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var o=$.derToOid(r.publicKeyOid);if(o!==ar.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=ar.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var l=an.util.createBuffer(r.certSerialNumber);a.serialNumber=l.toHex(),a.signatureOid=an.asn1.derToOid(r.certSignatureOid),a.signatureParameters=LW(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=an.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=LW(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push($.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push($.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=c[0],a.validity.notAfter=c[1],a.tbsCertificate=r.tbsCertificate,t){a.md=FW({signatureOid:a.signatureOid,type:"certificate"});var u=$.toDer(a.tbsCertificate);a.md.update(u.getBytes())}var f=an.md.sha1.create(),m=$.toDer(r.certIssuer);f.update(m.getBytes()),a.issuer.getField=function(g){return bC(a.issuer,g)},a.issuer.addField=function(g){om([g]),a.issuer.attributes.push(g)},a.issuer.attributes=ar.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=f.digest().toHex();var h=an.md.sha1.create(),p=$.toDer(r.certSubject);return h.update(p.getBytes()),a.subject.getField=function(g){return bC(a.subject,g)},a.subject.addField=function(g){om([g]),a.subject.attributes.push(g)},a.subject.attributes=ar.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=h.digest().toHex(),r.certExtensions?a.extensions=ar.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=ar.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};ar.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(ar.certificateExtensionFromAsn1(n.value[i]));return t};ar.certificateExtensionFromAsn1=function(e){var t={};if(t.id=$.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===$.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Zi){if(t.name=Zi[t.id],t.name==="keyUsage"){var r=$.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=$.fromDer(t.value);r.value.length>0&&r.value[0].type===$.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var o=null;r.value.length>0&&r.value[0].type===$.Type.INTEGER?o=r.value[0].value:r.value.length>1&&(o=r.value[1].value),o!==null&&(t.pathLenConstraint=$.derToInteger(o))}else if(t.name==="extKeyUsage")for(var r=$.fromDer(t.value),a=0;a<r.value.length;++a){var l=$.derToOid(r.value[a].value);l in Zi?t[Zi[l]]=!0:t[l]=!0}else if(t.name==="nsCertType"){var r=$.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=$.fromDer(t.value),u=0;u<r.value.length;++u){c=r.value[u];var f={type:c.type,value:c.value};switch(t.altNames.push(f),c.type){case 1:case 2:case 6:break;case 7:f.ip=an.util.bytesToIP(c.value);break;case 8:f.oid=$.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=$.fromDer(t.value);t.subjectKeyIdentifier=an.util.bytesToHex(r.value)}}return t};ar.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!$.validate(e,S6t,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var o=$.derToOid(r.publicKeyOid);if(o!==ar.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=ar.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=an.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=LW(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=an.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=LW(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=FW({signatureOid:a.signatureOid,type:"certification request"});var l=$.toDer(a.certificationRequestInfo);a.md.update(l.getBytes())}var c=an.md.sha1.create();return a.subject.getField=function(u){return bC(a.subject,u)},a.subject.addField=function(u){om([u]),a.subject.attributes.push(u)},a.subject.attributes=ar.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),a.subject.hash=c.digest().toHex(),a.publicKey=ar.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(u){return bC(a,u)},a.addAttribute=function(u){om([u]),a.attributes.push(u)},a.attributes=ar.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};ar.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return bC(e.subject,t)},e.subject.addField=function(t){om([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return bC(e,t)},e.addAttribute=function(t){om([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){om(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){om(t),e.attributes=t},e.sign=function(t,r){e.md=r||an.md.sha1.create();var n=Zi[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=ar.getCertificationRequestInfo(e);var o=$.toDer(e.certificationRequestInfo);e.md.update(o.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=FW({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||ar.getCertificationRequestInfo(e),i=$.toDer(n);r.update(i.getBytes())}return r!==null&&(t=fPe({certificate:e,md:r,signature:e.signature})),t},e};function u9(e){for(var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,o=0;o<i.length;++o){r=i[o];var a=r.value,l=$.Type.PRINTABLESTRING;"valueTagClass"in r&&(l=r.valueTagClass,l===$.Type.UTF8&&(a=an.util.encodeUtf8(a))),n=$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(r.type).getBytes()),$.create($.Class.UNIVERSAL,l,!1,a)])]),t.value.push(n)}return t}s(u9,"_dnToAsn1");function om(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in ar.oids?t.name=ar.oids[t.type]:t.shortName&&t.shortName in ca&&(t.name=ar.oids[ca[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in ar.oids)t.type=ar.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in ca&&(t.shortName=ca[t.name]),t.type===Zi.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=$.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(ar.certificateExtensionToAsn1(dPe(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}s(om,"_fillMissingFields");function dPe(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in ar.oids&&(e.name=ar.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in ar.oids)e.id=ar.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,o=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(o|=128,n=7);var a=String.fromCharCode(n);o!==0?a+=String.fromCharCode(i)+String.fromCharCode(o):i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push($.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;for(var c in e)e[c]===!0&&(c in Zi?l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(Zi[c]).getBytes())):c.indexOf(".")!==-1&&l.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var a=String.fromCharCode(n);i!==0&&(a+=String.fromCharCode(i)),e.value=$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=an.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));e.value.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=$.create($.Class.UNIVERSAL,$.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var m=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=m.toHex(),e.value=$.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,m.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);var l=e.value.value;if(e.keyIdentifier){var h=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;l.push($.create($.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var p=[$.create($.Class.CONTEXT_SPECIFIC,4,!0,[u9(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];l.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,p))}if(e.serialNumber){var g=an.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);l.push($.create($.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if(e.name==="cRLDistributionPoints"){e.value=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);for(var l=e.value.value,y=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]),x=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]),u,f=0;f<e.altNames.length;++f){u=e.altNames[f];var a=u.value;if(u.type===7&&u.ip){if(a=an.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=$.oidToDer($.oidToDer(u.oid)):a=$.oidToDer(a));x.value.push($.create($.Class.CONTEXT_SPECIFIC,u.type,!1,a))}y.value.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[x])),l.push(y)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}s(dPe,"_fillMissingExtensionFields");function Wae(e,t){switch(e){case Zi["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(t.mgf.hash.algorithmOid).getBytes()),$.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(t.saltLength).getBytes())])),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,r);default:return $.create($.Class.UNIVERSAL,$.Type.NULL,!1,"")}}s(Wae,"_signatureParametersToAsn1");function R6t(e){var t=$.create($.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],o=i.value,a=$.Type.UTF8;"valueTagClass"in i&&(a=i.valueTagClass),a===$.Type.UTF8&&(o=an.util.encodeUtf8(o));var l=!1;"valueConstructed"in i&&(l=i.valueConstructed);var c=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(i.type).getBytes()),$.create($.Class.UNIVERSAL,$.Type.SET,!0,[$.create($.Class.UNIVERSAL,a,l,o)])]);t.value.push(c)}return t}s(R6t,"_CRIAttributesToAsn1");var k6t=new Date("1950-01-01T00:00:00Z"),B6t=new Date("2050-01-01T00:00:00Z");function cPe(e){return e>=k6t&&e<B6t?$.create($.Class.UNIVERSAL,$.Type.UTCTIME,!1,$.dateToUtcTime(e)):$.create($.Class.UNIVERSAL,$.Type.GENERALIZEDTIME,!1,$.dateToGeneralizedTime(e))}s(cPe,"_dateToAsn1");ar.getTBSCertificate=function(e){var t=cPe(e.validity.notBefore),r=cPe(e.validity.notAfter),n=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.CONTEXT_SPECIFIC,0,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes())]),$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,an.util.hexToBytes(e.serialNumber)),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.siginfo.algorithmOid).getBytes()),Wae(e.siginfo.algorithmOid,e.siginfo.parameters)]),u9(e.issuer),$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,r]),u9(e.subject),ar.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,1,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push($.create($.Class.CONTEXT_SPECIFIC,2,!0,[$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(ar.certificateExtensionsToAsn1(e.extensions)),n};ar.getCertificationRequestInfo=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.INTEGER,!1,$.integerToDer(e.version).getBytes()),u9(e.subject),ar.publicKeyToAsn1(e.publicKey),R6t(e)]);return t};ar.distinguishedNameToAsn1=function(e){return u9(e)};ar.certificateToAsn1=function(e){var t=e.tbsCertificate||ar.getTBSCertificate(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),Wae(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};ar.certificateExtensionsToAsn1=function(e){var t=$.create($.Class.CONTEXT_SPECIFIC,3,!0,[]),r=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(ar.certificateExtensionToAsn1(e[n]));return t};ar.certificateExtensionToAsn1=function(e){var t=$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[]);t.value.push($.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.id).getBytes())),e.critical&&t.value.push($.create($.Class.UNIVERSAL,$.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=$.toDer(r).getBytes()),t.value.push($.create($.Class.UNIVERSAL,$.Type.OCTETSTRING,!1,r)),t};ar.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||ar.getCertificationRequestInfo(e);return $.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[t,$.create($.Class.UNIVERSAL,$.Type.SEQUENCE,!0,[$.create($.Class.UNIVERSAL,$.Type.OID,!1,$.oidToDer(e.signatureOid).getBytes()),Wae(e.signatureOid,e.signatureParameters)]),$.create($.Class.UNIVERSAL,$.Type.BITSTRING,!1,"\0"+e.signature)])};ar.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var l=r(a.issuer);return l},t.addCertificate=function(a){if(typeof a=="string"&&(a=an.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var l=t.certs[a.subject.hash];an.util.isArray(l)||(l=[l]),l.push(a),t.certs[a.subject.hash]=l}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=an.pki.certificateFromPem(a));var l=r(a.subject);if(!l)return!1;an.util.isArray(l)||(l=[l]);for(var c=$.toDer(ar.certificateToAsn1(a)).getBytes(),u=0;u<l.length;++u){var f=$.toDer(ar.certificateToAsn1(l[u])).getBytes();if(c===f)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var l in t.certs)if(t.certs.hasOwnProperty(l)){var c=t.certs[l];if(!an.util.isArray(c))a.push(c);else for(var u=0;u<c.length;++u)a.push(c[u])}return a},t.removeCertificate=function(a){var l;if(typeof a=="string"&&(a=an.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var c=r(a.subject);if(!an.util.isArray(c))return l=t.certs[a.subject.hash],delete t.certs[a.subject.hash],l;for(var u=$.toDer(ar.certificateToAsn1(a)).getBytes(),f=0;f<c.length;++f){var m=$.toDer(ar.certificateToAsn1(c[f])).getBytes();u===m&&(l=c[f],c.splice(f,1))}return c.length===0&&delete t.certs[a.subject.hash],l};function r(a){return n(a),t.certs[a.hash]||null}s(r,"getBySubject");function n(a){if(!a.hash){var l=an.md.sha1.create();a.attributes=ar.RDNAttributesAsArray(u9(a),l),a.hash=l.digest().toHex()}}if(s(n,"ensureSubjectHasHash"),e)for(var i=0;i<e.length;++i){var o=e[i];t.addCertificate(o)}return t};ar.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};ar.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var o=!0,a=null,l=0;do{var c=t.shift(),u=null,f=!1;if(i&&(i<c.validity.notBefore||i>c.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:ar.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}),a===null){if(u=t[0]||e.getIssuer(c),u===null&&c.isIssuer(c)&&(f=!0,u=c),u){var m=u;an.util.isArray(m)||(m=[m]);for(var h=!1;!h&&m.length>0;){u=m.shift();try{h=u.verify(c)}catch{}}h||(a={message:"Certificate signature is invalid.",error:ar.certificateError.bad_certificate})}a===null&&(!u||f)&&!e.hasCertificate(c)&&(a={message:"Certificate is not trusted.",error:ar.certificateError.unknown_ca})}if(a===null&&u&&!c.isIssuer(u)&&(a={message:"Certificate issuer is invalid.",error:ar.certificateError.bad_certificate}),a===null)for(var p={keyUsage:!0,basicConstraints:!0},g=0;a===null&&g<c.extensions.length;++g){var y=c.extensions[g];y.critical&&!(y.name in p)&&(a={message:"Certificate has an unsupported critical extension.",error:ar.certificateError.unsupported_certificate})}if(a===null&&(!o||t.length===0&&(!u||f))){var x=c.getExtension("basicConstraints"),b=c.getExtension("keyUsage");if(b!==null&&(!b.keyCertSign||x===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:ar.certificateError.bad_certificate}),a===null&&x!==null&&!x.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:ar.certificateError.bad_certificate}),a===null&&b!==null&&"pathLenConstraint"in x){var E=l-1;E>x.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:ar.certificateError.bad_certificate})}}var _=a===null?!0:a.error,k=r.verify?r.verify(_,l,n):_;if(k===!0)a=null;else throw _===!0&&(a={message:"The application rejected the certificate.",error:ar.certificateError.bad_certificate}),(k||k===0)&&(typeof k=="object"&&!an.util.isArray(k)?(k.message&&(a.message=k.message),k.error&&(a.error=k.error)):typeof k=="string"&&(a.error=k)),a;o=!1,++l}while(t.length>0);return!0}});var Hae=H((K$r,pPe)=>{d();var rs=fi();Fh();n9();CC();Uae();Oae();rm();KR();a9();co();MW();var _e=rs.asn1,Ti=rs.pki,XR=pPe.exports=rs.pkcs12=rs.pkcs12||{},hPe={name:"ContentInfo",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:_e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},D6t={name:"PFX",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1,capture:"version"},hPe,{name:"PFX.macData",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:_e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},P6t={name:"SafeBag",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:_e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},N6t={name:"Attribute",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SET,constructed:!0,capture:"values"}]},L6t={name:"CertBag",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:_e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:_e.Class.UNIVERSAL,type:_e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function JR(e,t,r,n){for(var i=[],o=0;o<e.length;o++)for(var a=0;a<e[o].safeBags.length;a++){var l=e[o].safeBags[a];if(!(n!==void 0&&l.type!==n)){if(t===null){i.push(l);continue}l.attributes[t]!==void 0&&l.attributes[t].indexOf(r)>=0&&i.push(l)}}return i}s(JR,"_getBagsByAttribute");XR.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!_e.validate(e,D6t,n,i)){var o=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw o.errors=o,o}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:s(function(x){var b={},E;return"localKeyId"in x?E=x.localKeyId:"localKeyIdHex"in x&&(E=rs.util.hexToBytes(x.localKeyIdHex)),E===void 0&&!("friendlyName"in x)&&"bagType"in x&&(b[x.bagType]=JR(a.safeContents,null,null,x.bagType)),E!==void 0&&(b.localKeyId=JR(a.safeContents,"localKeyId",E,x.bagType)),"friendlyName"in x&&(b.friendlyName=JR(a.safeContents,"friendlyName",x.friendlyName,x.bagType)),b},"getBags"),getBagsByFriendlyName:s(function(x,b){return JR(a.safeContents,"friendlyName",x,b)},"getBagsByFriendlyName"),getBagsByLocalKeyId:s(function(x,b){return JR(a.safeContents,"localKeyId",x,b)},"getBagsByLocalKeyId")};if(n.version.charCodeAt(0)!==3){var o=new Error("PKCS#12 PFX of version other than 3 not supported.");throw o.version=n.version.charCodeAt(0),o}if(_e.derToOid(n.contentType)!==Ti.oids.data){var o=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw o.oid=_e.derToOid(n.contentType),o}var l=n.content.value[0];if(l.tagClass!==_e.Class.UNIVERSAL||l.type!==_e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(l=Gae(l),n.mac){var c=null,u=0,f=_e.derToOid(n.macAlgorithm);switch(f){case Ti.oids.sha1:c=rs.md.sha1.create(),u=20;break;case Ti.oids.sha256:c=rs.md.sha256.create(),u=32;break;case Ti.oids.sha384:c=rs.md.sha384.create(),u=48;break;case Ti.oids.sha512:c=rs.md.sha512.create(),u=64;break;case Ti.oids.md5:c=rs.md.md5.create(),u=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+f);var m=new rs.util.ByteBuffer(n.macSalt),h="macIterations"in n?parseInt(rs.util.bytesToHex(n.macIterations),16):1,p=XR.generateKey(r,m,3,h,u,c),g=rs.hmac.create();g.start(c,p),g.update(l.value);var y=g.getMac();if(y.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return F6t(a,l.value,t,r),a};function Gae(e){if(e.composed||e.constructed){for(var t=rs.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}s(Gae,"_decodePkcs7Data");function F6t(e,t,r,n){if(t=_e.fromDer(t,r),t.tagClass!==_e.Class.UNIVERSAL||t.type!==_e.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var o=t.value[i],a={},l=[];if(!_e.validate(o,hPe,a,l)){var c=new Error("Cannot read ContentInfo.");throw c.errors=l,c}var u={encrypted:!1},f=null,m=a.content.value[0];switch(_e.derToOid(a.contentType)){case Ti.oids.data:if(m.tagClass!==_e.Class.UNIVERSAL||m.type!==_e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");f=Gae(m).value;break;case Ti.oids.encryptedData:f=M6t(m,n),u.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=_e.derToOid(a.contentType),c}u.safeBags=Q6t(f,r,n),e.safeContents.push(u)}}s(F6t,"_decodeAuthenticatedSafe");function M6t(e,t){var r={},n=[];if(!_e.validate(e,rs.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var o=_e.derToOid(r.contentType);if(o!==Ti.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=o,i}o=_e.derToOid(r.encAlgorithm);var a=Ti.pbe.getCipher(o,r.encParameter,t),l=Gae(r.encryptedContentAsn1),c=rs.util.createBuffer(l.value);if(a.update(c),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}s(M6t,"_decryptSafeContents");function Q6t(e,t,r){if(!t&&e.length===0)return[];if(e=_e.fromDer(e,t),e.tagClass!==_e.Class.UNIVERSAL||e.type!==_e.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var o=e.value[i],a={},l=[];if(!_e.validate(o,P6t,a,l)){var c=new Error("Cannot read SafeBag.");throw c.errors=l,c}var u={type:_e.derToOid(a.bagId),attributes:O6t(a.bagAttributes)};n.push(u);var f,m,h=a.bagValue.value[0];switch(u.type){case Ti.oids.pkcs8ShroudedKeyBag:if(h=Ti.decryptPrivateKeyInfo(h,r),h===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case Ti.oids.keyBag:try{u.key=Ti.privateKeyFromAsn1(h)}catch{u.key=null,u.asn1=h}continue;case Ti.oids.certBag:f=L6t,m=s(function(){if(_e.derToOid(a.certId)!==Ti.oids.x509Certificate){var g=new Error("Unsupported certificate type, only X.509 supported.");throw g.oid=_e.derToOid(a.certId),g}var y=_e.fromDer(a.cert,t);try{u.cert=Ti.certificateFromAsn1(y,!0)}catch{u.cert=null,u.asn1=y}},"decoder");break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=u.type,c}if(f!==void 0&&!_e.validate(h,f,a,l)){var c=new Error("Cannot read PKCS#12 "+f.name);throw c.errors=l,c}m()}return n}s(Q6t,"_decodeSafeContents");function O6t(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!_e.validate(e[r],N6t,n,i)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=i,o}var a=_e.derToOid(n.oid);if(Ti.oids[a]!==void 0){t[Ti.oids[a]]=[];for(var l=0;l<n.values.length;++l)t[Ti.oids[a]].push(n.values[l].value)}}return t}s(O6t,"_decodeBagAttributes");XR.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,o;if(i!==null)i=rs.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var a=rs.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=Ti.certificateFromPem(a));var l=rs.md.sha1.create();l.update(_e.toDer(Ti.certificateToAsn1(a)).getBytes()),i=l.digest().getBytes()}else i=rs.random.getBytes(20);var c=[];i!==null&&c.push(_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(Ti.oids.localKeyId).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.SET,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&c.push(_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(Ti.oids.friendlyName).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.SET,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(o=_e.create(_e.Class.UNIVERSAL,_e.Type.SET,!0,c));var u=[],f=[];t!==null&&(rs.util.isArray(t)?f=t:f=[t]);for(var m=[],h=0;h<f.length;++h){t=f[h],typeof t=="string"&&(t=Ti.certificateFromPem(t));var p=h===0?o:void 0,g=Ti.certificateToAsn1(t),y=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(Ti.oids.certBag).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(Ti.oids.x509Certificate).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(g).getBytes())])])]),p]);m.push(y)}if(m.length>0){var x=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,m),b=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(Ti.oids.data).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(x).getBytes())])]);u.push(b)}var E=null;if(e!==null){var _=Ti.wrapRsaPrivateKey(Ti.privateKeyToAsn1(e));r===null?E=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(Ti.oids.keyBag).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_]),o]):E=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(Ti.oids.pkcs8ShroudedKeyBag).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[Ti.encryptPrivateKeyInfo(_,r,n)]),o]);var k=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[E]),B=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(Ti.oids.data).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(k).getBytes())])]);u.push(B)}var N=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,u),M;if(n.useMac){var l=rs.md.sha1.create(),te=new rs.util.ByteBuffer(rs.random.getBytes(n.saltSize)),de=n.count,e=XR.generateKey(r,te,3,de,20),Z=rs.hmac.create();Z.start(l,e),Z.update(_e.toDer(N).getBytes());var G=Z.getMac();M=_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(Ti.oids.sha1).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.NULL,!1,"")]),_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,G.getBytes())]),_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,te.getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.INTEGER,!1,_e.integerToDer(de).getBytes())])}return _e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.INTEGER,!1,_e.integerToDer(3).getBytes()),_e.create(_e.Class.UNIVERSAL,_e.Type.SEQUENCE,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OID,!1,_e.oidToDer(Ti.oids.data).getBytes()),_e.create(_e.Class.CONTEXT_SPECIFIC,0,!0,[_e.create(_e.Class.UNIVERSAL,_e.Type.OCTETSTRING,!1,_e.toDer(N).getBytes())])]),M])};XR.generateKey=rs.pbe.generatePkcs12Key});var Vae=H((Z$r,gPe)=>{d();var EC=fi();Fh();CC();Oae();hb();_W();Hae();NW();KR();co();MW();var jae=EC.asn1,f9=gPe.exports=EC.pki=EC.pki||{};f9.pemToDer=function(e){var t=EC.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return EC.util.createBuffer(t.body)};f9.privateKeyFromPem=function(e){var t=EC.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=jae.fromDer(t.body);return f9.privateKeyFromAsn1(n)};f9.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:jae.toDer(f9.privateKeyToAsn1(e)).getBytes()};return EC.pem.encode(r,{maxline:t})};f9.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:jae.toDer(e).getBytes()};return EC.pem.encode(r,{maxline:t})}});var Xae=H((tzr,IPe)=>{d();var Dt=fi();Fh();n9();EW();hb();Vae();rm();a9();co();var qW=s(function(e,t,r,n){var i=Dt.util.createBuffer(),o=e.length>>1,a=o+(e.length&1),l=e.substr(0,a),c=e.substr(o,a),u=Dt.util.createBuffer(),f=Dt.hmac.create();r=t+r;var m=Math.ceil(n/16),h=Math.ceil(n/20);f.start("MD5",l);var p=Dt.util.createBuffer();u.putBytes(r);for(var g=0;g<m;++g)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),p.putBuffer(f.digest());f.start("SHA1",c);var y=Dt.util.createBuffer();u.clear(),u.putBytes(r);for(var g=0;g<h;++g)f.start(null,null),f.update(u.getBytes()),u.putBuffer(f.digest()),f.start(null,null),f.update(u.bytes()+r),y.putBuffer(f.digest());return i.putBytes(Dt.util.xorBytes(p.getBytes(),y.getBytes(),n)),i},"prf_TLS1"),U6t=s(function(e,t,r){var n=Dt.hmac.create();n.start("SHA1",e);var i=Dt.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},"hmac_sha1"),q6t=s(function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=Dt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"deflate"),W6t=s(function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=Dt.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},"inflate"),Df=s(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return Dt.util.createBuffer(e.getBytes(r))},"readVector"),sm=s(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),ee={};ee.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};ee.SupportedVersions=[ee.Versions.TLS_1_1,ee.Versions.TLS_1_0];ee.Version=ee.SupportedVersions[0];ee.MaxFragment=15360;ee.ConnectionEnd={server:0,client:1};ee.PRFAlgorithm={tls_prf_sha256:0};ee.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};ee.CipherType={stream:0,block:1,aead:2};ee.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};ee.CompressionMethod={none:0,deflate:1};ee.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};ee.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};ee.Alert={};ee.Alert.Level={warning:1,fatal:2};ee.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};ee.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};ee.CipherSuites={};ee.getCipherSuite=function(e){var t=null;for(var r in ee.CipherSuites){var n=ee.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};ee.handleUnexpected=function(e,t){var r=!e.open&&e.entity===ee.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.unexpected_message}})};ee.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(ee.queue(e,ee.createAlert(e,{level:ee.Alert.Level.warning,description:ee.Alert.Description.no_renegotiation})),ee.flush(e)),e.process()};ee.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===ee.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});else{var o=t.fragment,a=o.length();if(n={version:{major:o.getByte(),minor:o.getByte()},random:Dt.util.createBuffer(o.getBytes(32)),session_id:Df(o,1),extensions:[]},i?(n.cipher_suite=o.getBytes(2),n.compression_method=o.getByte()):(n.cipher_suites=Df(o,2),n.compression_methods=Df(o,1)),a=r-(a-o.length()),a>0){for(var l=Df(o,2);l.length()>0;)n.extensions.push({type:[l.getByte(),l.getByte()],data:Df(l,2)});if(!i)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(u.type[0]===0&&u.type[1]===0)for(var f=Df(u.data,2);f.length()>0;){var m=f.getByte();if(m!==0)break;e.session.extensions.server_name.serverNameList.push(Df(f,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=ee.getCipherSuite(n.cipher_suite);else for(var h=Dt.util.createBuffer(n.cipher_suites.bytes());h.length()>0&&(e.session.cipherSuite=ee.getCipherSuite(h.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.handshake_failure},cipherSuite:Dt.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=ee.CompressionMethod.none}return n};ee.createSecurityParameters=function(e,t){var r=e.entity===ee.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,o=r?n:ee.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:ee.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}};ee.handleServerHello=function(e,t,r){var n=ee.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=CPe,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=H6t,e.session.resuming=!1,ee.createSecurityParameters(e,n)),e.session.id=i,e.process()}};ee.handleClientHello=function(e,t,r){var n=ee.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),o=null;if(e.sessionCache&&(o=e.sessionCache.getSession(i),o===null?i="":(o.version.major!==n.version.major||o.version.minor>n.version.minor)&&(o=null,i="")),i.length===0&&(i=Dt.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},o)e.version=e.session.version=o.version,e.session.sp=o.sp;else{for(var a,l=1;l<ee.SupportedVersions.length&&(a=ee.SupportedVersions[l],!(a.minor<=n.version.minor));++l);e.version={major:a.major,minor:a.minor},e.session.version=e.version}o!==null?(e.expect=Kae,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?J6t:Yae,e.session.resuming=!1,ee.createSecurityParameters(e,n)),e.open=!0,ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createServerHello(e)})),e.session.resuming?(ee.queue(e,ee.createRecord(e,{type:ee.ContentType.change_cipher_spec,data:ee.createChangeCipherSpec()})),e.state.pending=ee.createConnectionState(e),e.state.current.write=e.state.pending.write,ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createFinished(e)}))):(ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createCertificate(e)})),e.fail||(ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createServerKeyExchange(e)})),e.verifyClient!==!1&&ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createCertificateRequest(e)})),ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createServerHelloDone(e)})))),ee.flush(e),e.process()}};ee.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:Df(n,3)},o,a,l=[];try{for(;i.certificate_list.length()>0;)o=Df(i.certificate_list,3),a=Dt.asn1.fromDer(o),o=Dt.pki.certificateFromAsn1(a,!0),l.push(o)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.bad_certificate}})}var c=e.entity===ee.ConnectionEnd.client;(c||e.verifyClient===!0)&&l.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}}):l.length===0?e.expect=c?APe:Yae:(c?e.session.serverCertificate=l[0]:e.session.clientCertificate=l[0],ee.verifyCertificateChain(e,l)&&(e.expect=c?APe:Yae)),e.process()};ee.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.unsupported_certificate}});e.expect=j6t,e.process()};ee.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:Df(n,2).getBytes()},o=null;if(e.getPrivateKey)try{o=e.getPrivateKey(e,e.session.serverCertificate),o=Dt.pki.privateKeyFromPem(o)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}})}if(o===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=o.decrypt(i.enc_pre_master_secret);var l=e.session.clientHelloVersion;if(l.major!==a.pre_master_secret.charCodeAt(0)||l.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=Dt.random.getBytes(48)}e.expect=Kae,e.session.clientCertificate!==null&&(e.expect=X6t),e.process()};ee.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:Df(n,1),certificate_authorities:Df(n,2)};e.session.certificateRequest=i,e.expect=V6t,e.process()};ee.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o={signature:Df(n,2).getBytes()},a=Dt.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var l=e.session.clientCertificate;if(!l.publicKey.verify(a,o.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.handshake_failure}})}e.expect=Kae,e.process()};ee.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.insufficient_security}},i=0,o=e.verify(e,n.alert.description,i,[]);if(o!==!0)return(o||o===0)&&(typeof o=="object"&&!Dt.util.isArray(o)?(o.message&&(n.message=o.message),o.alert&&(n.alert.description=o.alert)):typeof o=="number"&&(n.alert.description=o)),e.error(e,n)}e.session.certificateRequest!==null&&(t=ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createCertificate(e)}),ee.queue(e,t)),t=ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createClientKeyExchange(e)}),ee.queue(e,t),e.expect=Y6t;var a=s(function(l,c){l.session.certificateRequest!==null&&l.session.clientCertificate!==null&&ee.queue(l,ee.createRecord(l,{type:ee.ContentType.handshake,data:ee.createCertificateVerify(l,c)})),ee.queue(l,ee.createRecord(l,{type:ee.ContentType.change_cipher_spec,data:ee.createChangeCipherSpec()})),l.state.pending=ee.createConnectionState(l),l.state.current.write=l.state.pending.write,ee.queue(l,ee.createRecord(l,{type:ee.ContentType.handshake,data:ee.createFinished(l)})),l.expect=CPe,ee.flush(l),l.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);ee.getClientSignature(e,a)};ee.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.illegal_parameter}});var r=e.entity===ee.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=ee.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?$6t:Z6t,e.process()};ee.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o=t.fragment.getBytes();n=Dt.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===ee.ConnectionEnd.client,l=a?"server finished":"client finished",c=e.session.sp,u=12,f=qW;if(n=f(c.master_secret,l,n.getBytes(),u),n.getBytes()!==o)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&a||!e.session.resuming&&!a)&&(ee.queue(e,ee.createRecord(e,{type:ee.ContentType.change_cipher_spec,data:ee.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,ee.queue(e,ee.createRecord(e,{type:ee.ContentType.handshake,data:ee.createFinished(e)}))),e.expect=a?z6t:e9t,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,ee.flush(e),e.isConnected=!0,e.connected(e),e.process()};ee.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case ee.Alert.Description.close_notify:i="Connection closed.";break;case ee.Alert.Description.unexpected_message:i="Unexpected message.";break;case ee.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case ee.Alert.Description.decryption_failed:i="Decryption failed.";break;case ee.Alert.Description.record_overflow:i="Record overflow.";break;case ee.Alert.Description.decompression_failure:i="Decompression failed.";break;case ee.Alert.Description.handshake_failure:i="Handshake failure.";break;case ee.Alert.Description.bad_certificate:i="Bad certificate.";break;case ee.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case ee.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case ee.Alert.Description.certificate_expired:i="Certificate expired.";break;case ee.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case ee.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case ee.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case ee.Alert.Description.access_denied:i="Access denied.";break;case ee.Alert.Description.decode_error:i="Decode error.";break;case ee.Alert.Description.decrypt_error:i="Decrypt error.";break;case ee.Alert.Description.export_restriction:i="Export restriction.";break;case ee.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case ee.Alert.Description.insufficient_security:i="Insufficient security.";break;case ee.Alert.Description.internal_error:i="Internal error.";break;case ee.Alert.Description.user_canceled:i="User canceled.";break;case ee.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===ee.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===ee.ConnectionEnd.client?"server":"client",alert:n}),e.process()};ee.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=Dt.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var o=r.bytes(i+4);r.read+=4,n in UW[e.entity][e.expect]?(e.entity===ee.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:Dt.md.md5.create(),sha1:Dt.md.sha1.create()}),n!==ee.HandshakeType.hello_request&&n!==ee.HandshakeType.certificate_verify&&n!==ee.HandshakeType.finished&&(e.session.md5.update(o),e.session.sha1.update(o)),UW[e.entity][e.expect][n](e,t,i)):ee.handleUnexpected(e,t)};ee.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};ee.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),o=r.getBytes(i);if(n===ee.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>o.length)return e.process();ee.queue(e,ee.createRecord(e,{type:ee.ContentType.heartbeat,data:ee.createHeartbeat(ee.HeartbeatMessageType.heartbeat_response,o)})),ee.flush(e)}else if(n===ee.HeartbeatMessageType.heartbeat_response){if(o!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,Dt.util.createBuffer(o))}e.process()};var G6t=0,H6t=1,APe=2,j6t=3,V6t=4,CPe=5,$6t=6,z6t=7,Y6t=8,K6t=0,J6t=1,Yae=2,X6t=3,Kae=4,Z6t=5,e9t=6,X=ee.handleUnexpected,xPe=ee.handleChangeCipherSpec,mc=ee.handleAlert,R0=ee.handleHandshake,vPe=ee.handleApplicationData,hc=ee.handleHeartbeat,Jae=[];Jae[ee.ConnectionEnd.client]=[[X,mc,R0,X,hc],[X,mc,R0,X,hc],[X,mc,R0,X,hc],[X,mc,R0,X,hc],[X,mc,R0,X,hc],[xPe,mc,X,X,hc],[X,mc,R0,X,hc],[X,mc,R0,vPe,hc],[X,mc,R0,X,hc]];Jae[ee.ConnectionEnd.server]=[[X,mc,R0,X,hc],[X,mc,R0,X,hc],[X,mc,R0,X,hc],[X,mc,R0,X,hc],[xPe,mc,X,X,hc],[X,mc,R0,X,hc],[X,mc,R0,vPe,hc],[X,mc,R0,X,hc]];var IC=ee.handleHelloRequest,t9t=ee.handleServerHello,bPe=ee.handleCertificate,yPe=ee.handleServerKeyExchange,$ae=ee.handleCertificateRequest,QW=ee.handleServerHelloDone,EPe=ee.handleFinished,UW=[];UW[ee.ConnectionEnd.client]=[[X,X,t9t,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[IC,X,X,X,X,X,X,X,X,X,X,bPe,yPe,$ae,QW,X,X,X,X,X,X],[IC,X,X,X,X,X,X,X,X,X,X,X,yPe,$ae,QW,X,X,X,X,X,X],[IC,X,X,X,X,X,X,X,X,X,X,X,X,$ae,QW,X,X,X,X,X,X],[IC,X,X,X,X,X,X,X,X,X,X,X,X,X,QW,X,X,X,X,X,X],[IC,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[IC,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,EPe],[IC,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[IC,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X]];var r9t=ee.handleClientHello,n9t=ee.handleClientKeyExchange,i9t=ee.handleCertificateVerify;UW[ee.ConnectionEnd.server]=[[X,r9t,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,bPe,X,X,X,X,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,n9t,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,i9t,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,EPe],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X]];ee.generateKeys=function(e,t){var r=qW,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,o=e.version.major===ee.Versions.TLS_1_0.major&&e.version.minor===ee.Versions.TLS_1_0.minor;o&&(i+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,i),l={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return o&&(l.client_write_IV=a.getBytes(t.fixed_iv_length),l.server_write_IV=a.getBytes(t.fixed_iv_length)),l};ee.createConnectionState=function(e){var t=e.entity===ee.ConnectionEnd.client,r=s(function(){var o={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:s(function(a){return!0},"cipherFunction"),compressionState:null,compressFunction:s(function(a){return!0},"compressFunction"),updateSequenceNumber:s(function(){o.sequenceNumber[1]===4294967295?(o.sequenceNumber[1]=0,++o.sequenceNumber[0]):++o.sequenceNumber[1]},"updateSequenceNumber")};return o},"createMode"),n={read:r(),write:r()};if(n.read.update=function(o,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(o,a,n.read)||o.error(o,{message:"Could not decompress record.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.decompression_failure}}):o.error(o,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.bad_record_mac}}),!o.fail},n.write.update=function(o,a){return n.write.compressFunction(o,a,n.write)?n.write.cipherFunction(a,n.write)||o.error(o,{message:"Could not encrypt record.",send:!1,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}}):o.error(o,{message:"Could not compress record.",send:!1,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}}),!o.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=ee.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case ee.CompressionMethod.none:break;case ee.CompressionMethod.deflate:n.read.compressFunction=W6t,n.write.compressFunction=q6t;break;default:throw new Error("Unsupported compression algorithm.")}}return n};ee.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=Dt.util.createBuffer();return r.putInt32(t),r.putBytes(Dt.random.getBytes(28)),r};ee.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};ee.createAlert=function(e,t){var r=Dt.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),ee.createRecord(e,{type:ee.ContentType.alert,data:r})};ee.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=Dt.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),o=Dt.util.createBuffer();o.putByte(ee.CompressionMethod.none);var a=o.length(),l=Dt.util.createBuffer();if(e.virtualHost){var c=Dt.util.createBuffer();c.putByte(0),c.putByte(0);var u=Dt.util.createBuffer();u.putByte(0),sm(u,2,Dt.util.createBuffer(e.virtualHost));var f=Dt.util.createBuffer();sm(f,2,u),sm(c,2,f),l.putBuffer(c)}var m=l.length();m>0&&(m+=2);var h=e.session.id,p=h.length+1+2+4+28+2+i+1+a+m,g=Dt.util.createBuffer();return g.putByte(ee.HandshakeType.client_hello),g.putInt24(p),g.putByte(e.version.major),g.putByte(e.version.minor),g.putBytes(e.session.sp.client_random),sm(g,1,Dt.util.createBuffer(h)),sm(g,2,t),sm(g,1,o),m>0&&sm(g,2,l),g};ee.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=Dt.util.createBuffer();return n.putByte(ee.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),sm(n,1,Dt.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};ee.createCertificate=function(e){var t=e.entity===ee.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=Dt.util.createBuffer();if(r!==null)try{Dt.util.isArray(r)||(r=[r]);for(var o=null,a=0;a<r.length;++a){var l=Dt.pem.decode(r[a])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=l.type,c}if(l.procType&&l.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=Dt.util.createBuffer(l.body);o===null&&(o=Dt.asn1.fromDer(u.bytes(),!1));var f=Dt.util.createBuffer();sm(f,3,u),i.putBuffer(f)}r=Dt.pki.certificateFromAsn1(o),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(p){return e.error(e,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.bad_certificate}})}var m=3+i.length(),h=Dt.util.createBuffer();return h.putByte(ee.HandshakeType.certificate),h.putInt24(m),sm(h,3,i),h};ee.createClientKeyExchange=function(e){var t=Dt.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(Dt.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,o=Dt.util.createBuffer();return o.putByte(ee.HandshakeType.client_key_exchange),o.putInt24(i),o.putInt16(t.length),o.putBytes(t),o};ee.createServerKeyExchange=function(e){var t=0,r=Dt.util.createBuffer();return t>0&&(r.putByte(ee.HandshakeType.server_key_exchange),r.putInt24(t)),r};ee.getClientSignature=function(e,t){var r=Dt.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,o){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=Dt.pki.privateKeyFromPem(a)}catch(l){n.error(n,{message:"Could not get private key.",cause:l,send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.internal_error}}):i=a.sign(i,null),o(n,i)},e.getSignature(e,r,t)};ee.createCertificateVerify=function(e,t){var r=t.length+2,n=Dt.util.createBuffer();return n.putByte(ee.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};ee.createCertificateRequest=function(e){var t=Dt.util.createBuffer();t.putByte(1);var r=Dt.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],o=Dt.pki.distinguishedNameToAsn1(i.subject),a=Dt.asn1.toDer(o);r.putInt16(a.length()),r.putBuffer(a)}var l=1+t.length()+2+r.length(),c=Dt.util.createBuffer();return c.putByte(ee.HandshakeType.certificate_request),c.putInt24(l),sm(c,1,t),sm(c,2,r),c};ee.createServerHelloDone=function(e){var t=Dt.util.createBuffer();return t.putByte(ee.HandshakeType.server_hello_done),t.putInt24(0),t};ee.createChangeCipherSpec=function(){var e=Dt.util.createBuffer();return e.putByte(1),e};ee.createFinished=function(e){var t=Dt.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===ee.ConnectionEnd.client,n=e.session.sp,i=12,o=qW,a=r?"client finished":"server finished";t=o(n.master_secret,a,t.getBytes(),i);var l=Dt.util.createBuffer();return l.putByte(ee.HandshakeType.finished),l.putInt24(t.length()),l.putBuffer(t),l};ee.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=Dt.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),o=Math.max(16,i-r-3);return n.putBytes(Dt.random.getBytes(o)),n};ee.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===ee.ContentType.handshake||t.type===ee.ContentType.alert||t.type===ee.ContentType.change_cipher_spec))){if(t.type===ee.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=ee.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>ee.MaxFragment;)n.push(ee.createRecord(e,{type:t.type,data:Dt.util.createBuffer(i.slice(0,ee.MaxFragment))})),i=i.slice(ee.MaxFragment);i.length>0&&n.push(ee.createRecord(e,{type:t.type,data:Dt.util.createBuffer(i)}))}for(var o=0;o<n.length&&!e.fail;++o){var a=n[o],l=e.state.current.write;l.update(e,a)&&e.records.push(a)}}};ee.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var zae=s(function(e){switch(e){case!0:return!0;case Dt.pki.certificateError.bad_certificate:return ee.Alert.Description.bad_certificate;case Dt.pki.certificateError.unsupported_certificate:return ee.Alert.Description.unsupported_certificate;case Dt.pki.certificateError.certificate_revoked:return ee.Alert.Description.certificate_revoked;case Dt.pki.certificateError.certificate_expired:return ee.Alert.Description.certificate_expired;case Dt.pki.certificateError.certificate_unknown:return ee.Alert.Description.certificate_unknown;case Dt.pki.certificateError.unknown_ca:return ee.Alert.Description.unknown_ca;default:return ee.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),o9t=s(function(e){switch(e){case!0:return!0;case ee.Alert.Description.bad_certificate:return Dt.pki.certificateError.bad_certificate;case ee.Alert.Description.unsupported_certificate:return Dt.pki.certificateError.unsupported_certificate;case ee.Alert.Description.certificate_revoked:return Dt.pki.certificateError.certificate_revoked;case ee.Alert.Description.certificate_expired:return Dt.pki.certificateError.certificate_expired;case ee.Alert.Description.certificate_unknown:return Dt.pki.certificateError.certificate_unknown;case ee.Alert.Description.unknown_ca:return Dt.pki.certificateError.unknown_ca;default:return Dt.pki.certificateError.bad_certificate}},"_alertDescToCertError");ee.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(o,a,l){var c=zae(o),u=e.verify(e,o,a,l);if(u!==!0){if(typeof u=="object"&&!Dt.util.isArray(u)){var f=new Error("The application rejected the certificate.");throw f.send=!0,f.alert={level:ee.Alert.Level.fatal,description:ee.Alert.Description.bad_certificate},u.message&&(f.message=u.message),u.alert&&(f.alert.description=u.alert),f}u!==o&&(u=o9t(u))}return u},Dt.pki.verifyCertificateChain(e.caStore,t,r)}catch(o){var i=o;(typeof i!="object"||Dt.util.isArray(i))&&(i={send:!0,alert:{level:ee.Alert.Level.fatal,description:zae(o)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:ee.Alert.Level.fatal,description:zae(i.error)}),e.error(e,i)}return!e.fail};ee.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var o=null,a=null;if(i?a=Dt.util.bytesToHex(i):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){o=r.cache[a],delete r.cache[a];for(var l in r.order)if(r.order[l]===a){r.order.splice(l,1);break}}return o},r.setSession=function(i,o){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=Dt.util.bytesToHex(i);r.order.push(a),r.cache[a]=o}}return r};ee.createConnection=function(e){var t=null;e.caStore?Dt.util.isArray(e.caStore)?t=Dt.pki.createCaStore(e.caStore):t=e.caStore:t=Dt.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in ee.CipherSuites)r.push(ee.CipherSuites[n])}var i=e.server?ee.ConnectionEnd.server:ee.ConnectionEnd.client,o=e.sessionCache?ee.createSessionCache(e.sessionCache):null,a={version:{major:ee.Version.major,minor:ee.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:o,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(f,m,h,p){return m},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:Dt.util.createBuffer(),tlsData:Dt.util.createBuffer(),data:Dt.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:s(function(f,m){m.origin=m.origin||(f.entity===ee.ConnectionEnd.client?"client":"server"),m.send&&(ee.queue(f,ee.createAlert(f,m.alert)),ee.flush(f));var h=m.fatal!==!1;h&&(f.fail=!0),e.error(f,m),h&&f.close(!1)},"error"),deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(f){a.version={major:ee.Version.major,minor:ee.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===ee.ConnectionEnd.client?G6t:K6t,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(f||typeof f>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=ee.createConnectionState(a)},a.reset();var l=s(function(f,m){var h=m.type-ee.ContentType.change_cipher_spec,p=Jae[f.entity][f.expect];h in p?p[h](f,m):ee.handleUnexpected(f,m)},"_update"),c=s(function(f){var m=0,h=f.input,p=h.length();if(p<5)m=5-p;else{f.record={type:h.getByte(),version:{major:h.getByte(),minor:h.getByte()},length:h.getInt16(),fragment:Dt.util.createBuffer(),ready:!1};var g=f.record.version.major===f.version.major;g&&f.session&&f.session.version&&(g=f.record.version.minor===f.version.minor),g||f.error(f,{message:"Incompatible TLS version.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.protocol_version}})}return m},"_readRecordHeader"),u=s(function(f){var m=0,h=f.input,p=h.length();if(p<f.record.length)m=f.record.length-p;else{f.record.fragment.putBytes(h.getBytes(f.record.length)),h.compact();var g=f.state.current.read;g.update(f,f.record)&&(f.fragmented!==null&&(f.fragmented.type===f.record.type?(f.fragmented.fragment.putBuffer(f.record.fragment),f.record=f.fragmented):f.error(f,{message:"Invalid fragmented record.",send:!0,alert:{level:ee.Alert.Level.fatal,description:ee.Alert.Description.unexpected_message}})),f.record.ready=!0)}return m},"_readRecord");return a.handshake=function(f){if(a.entity!==ee.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,f=f||"";var m=null;f.length>0&&(a.sessionCache&&(m=a.sessionCache.getSession(f)),m===null&&(f="")),f.length===0&&a.sessionCache&&(m=a.sessionCache.getSession(),m!==null&&(f=m.id)),a.session={id:f,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:Dt.md.md5.create(),sha1:Dt.md.sha1.create()},m&&(a.version=m.version,a.session.sp=m.sp),a.session.sp.client_random=ee.createRandom().getBytes(),a.open=!0,ee.queue(a,ee.createRecord(a,{type:ee.ContentType.handshake,data:ee.createClientHello(a)})),ee.flush(a)}},a.process=function(f){var m=0;return f&&a.input.putBytes(f),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(m=c(a)),!a.fail&&a.record!==null&&!a.record.ready&&(m=u(a)),!a.fail&&a.record!==null&&a.record.ready&&l(a,a.record)),m},a.prepare=function(f){return ee.queue(a,ee.createRecord(a,{type:ee.ContentType.application_data,data:Dt.util.createBuffer(f)})),ee.flush(a)},a.prepareHeartbeatRequest=function(f,m){return f instanceof Dt.util.ByteBuffer&&(f=f.bytes()),typeof m>"u"&&(m=f.length),a.expectedHeartbeatPayload=f,ee.queue(a,ee.createRecord(a,{type:ee.ContentType.heartbeat,data:ee.createHeartbeat(ee.HeartbeatMessageType.heartbeat_request,f,m)})),ee.flush(a)},a.close=function(f){if(!a.fail&&a.sessionCache&&a.session){var m={id:a.session.id,version:a.session.version,sp:a.session.sp};m.sp.keys=null,a.sessionCache.setSession(m.id,m)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,ee.queue(a,ee.createAlert(a,{level:ee.Alert.Level.warning,description:ee.Alert.Description.close_notify})),ee.flush(a)),a.closed(a)),a.reset(f)},a};IPe.exports=Dt.tls=Dt.tls||{};for(OW in ee)typeof ee[OW]!="function"&&(Dt.tls[OW]=ee[OW]);var OW;Dt.tls.prf_tls1=qW;Dt.tls.hmac_sha1=U6t;Dt.tls.createSessionCache=ee.createSessionCache;Dt.tls.createConnection=ee.createConnection});var _Pe=H((izr,wPe)=>{d();var TC=fi();yC();Xae();var am=wPe.exports=TC.tls;am.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:s(function(e){e.bulk_cipher_algorithm=am.BulkCipherAlgorithm.aes,e.cipher_type=am.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=am.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:TPe};am.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:s(function(e){e.bulk_cipher_algorithm=am.BulkCipherAlgorithm.aes,e.cipher_type=am.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=am.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},"initSecurityParameters"),initConnectionState:TPe};function TPe(e,t,r){var n=t.entity===TC.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:TC.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:TC.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=c9t,e.write.cipherFunction=s9t,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=am.hmac_sha1}s(TPe,"initConnectionState");function s9t(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===am.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=TC.random.getBytesSync(16),t.cipherState.init=!0;var o=t.cipherState.cipher;return o.start({iv:i}),e.version.minor>=am.Versions.TLS_1_1.minor&&o.output.putBytes(i),o.update(e.fragment),o.finish(a9t)&&(e.fragment=o.output,e.length=e.fragment.length(),r=!0),r}s(s9t,"encrypt_aes_cbc_sha1");function a9t(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}s(a9t,"encrypt_aes_cbc_sha1_padding");function l9t(e,t,r){var n=!0;if(r){for(var i=t.length(),o=t.last(),a=i-1-o;a<i-1;++a)n=n&&t.at(a)==o;n&&t.truncate(o+1)}return n}s(l9t,"decrypt_aes_cbc_sha1_padding");function c9t(e,t){var r=!1,n;e.version.minor===am.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(l9t);var o=t.macLength,a=TC.random.getBytesSync(o),l=i.output.length();l>=o?(e.fragment=i.output.getBytes(l-o),a=i.output.getBytes(o)):e.fragment=i.output.getBytes(),e.fragment=TC.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=u9t(t.macKey,a,c)&&r,r}s(c9t,"decrypt_aes_cbc_sha1");function u9t(e,t,r){var n=TC.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}s(u9t,"compareMacs")});var tle=H((azr,BPe)=>{d();var bs=fi();Tg();co();var ZR=BPe.exports=bs.sha512=bs.sha512||{};bs.md.sha512=bs.md.algorithms.sha512=ZR;var RPe=bs.sha384=bs.sha512.sha384=bs.sha512.sha384||{};RPe.create=function(){return ZR.create("SHA-384")};bs.md.sha384=bs.md.algorithms.sha384=RPe;bs.sha512.sha256=bs.sha512.sha256||{create:s(function(){return ZR.create("SHA-512/256")},"create")};bs.md["sha512/256"]=bs.md.algorithms["sha512/256"]=bs.sha512.sha256;bs.sha512.sha224=bs.sha512.sha224||{create:s(function(){return ZR.create("SHA-512/224")},"create")};bs.md["sha512/224"]=bs.md.algorithms["sha512/224"]=bs.sha512.sha224;ZR.create=function(e){if(kPe||f9t(),typeof e>"u"&&(e="SHA-512"),!(e in xb))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=xb[e],r=null,n=bs.util.createBuffer(),i=new Array(80),o=0;o<80;++o)i[o]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var l={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var c=l.messageLengthSize/4,u=0;u<c;++u)l.fullMessageLength.push(0);n=bs.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return l},l.start(),l.update=function(c,u){u==="utf8"&&(c=bs.util.encodeUtf8(c));var f=c.length;l.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var m=l.fullMessageLength.length-1;m>=0;--m)l.fullMessageLength[m]+=f[1],f[1]=f[0]+(l.fullMessageLength[m]/4294967296>>>0),l.fullMessageLength[m]=l.fullMessageLength[m]>>>0,f[0]=f[1]/4294967296>>>0;return n.putBytes(c),SPe(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),l},l.digest=function(){var c=bs.util.createBuffer();c.putBytes(n.bytes());var u=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,f=u&l.blockLength-1;c.putBytes(Zae.substr(0,l.blockLength-f));for(var m,h,p=l.fullMessageLength[0]*8,g=0;g<l.fullMessageLength.length-1;++g)m=l.fullMessageLength[g+1]*8,h=m/4294967296>>>0,p+=h,c.putInt32(p>>>0),p=m>>>0;c.putInt32(p);for(var y=new Array(r.length),g=0;g<r.length;++g)y[g]=r[g].slice(0);SPe(y,i,c);var x=bs.util.createBuffer(),b;e==="SHA-512"?b=y.length:e==="SHA-384"?b=y.length-2:b=y.length-4;for(var g=0;g<b;++g)x.putInt32(y[g][0]),(g!==b-1||e!=="SHA-512/224")&&x.putInt32(y[g][1]);return x},l};var Zae=null,kPe=!1,ele=null,xb=null;function f9t(){Zae="\x80",Zae+=bs.util.fillString("\0",128),ele=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],xb={},xb["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],xb["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],xb["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],xb["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],kPe=!0}s(f9t,"_init");function SPe(e,t,r){for(var n,i,o,a,l,c,u,f,m,h,p,g,y,x,b,E,_,k,B,N,M,te,de,Z,G,q,ie,z,j,U,V,K,ae,re,le,ce=r.length();ce>=128;){for(j=0;j<16;++j)t[j][0]=r.getInt32()>>>0,t[j][1]=r.getInt32()>>>0;for(;j<80;++j)K=t[j-2],U=K[0],V=K[1],n=((U>>>19|V<<13)^(V>>>29|U<<3)^U>>>6)>>>0,i=((U<<13|V>>>19)^(V<<3|U>>>29)^(U<<26|V>>>6))>>>0,re=t[j-15],U=re[0],V=re[1],o=((U>>>1|V<<31)^(U>>>8|V<<24)^U>>>7)>>>0,a=((U<<31|V>>>1)^(U<<24|V>>>8)^(U<<25|V>>>7))>>>0,ae=t[j-7],le=t[j-16],V=i+ae[1]+a+le[1],t[j][0]=n+ae[0]+o+le[0]+(V/4294967296>>>0)>>>0,t[j][1]=V>>>0;for(y=e[0][0],x=e[0][1],b=e[1][0],E=e[1][1],_=e[2][0],k=e[2][1],B=e[3][0],N=e[3][1],M=e[4][0],te=e[4][1],de=e[5][0],Z=e[5][1],G=e[6][0],q=e[6][1],ie=e[7][0],z=e[7][1],j=0;j<80;++j)u=((M>>>14|te<<18)^(M>>>18|te<<14)^(te>>>9|M<<23))>>>0,f=((M<<18|te>>>14)^(M<<14|te>>>18)^(te<<23|M>>>9))>>>0,m=(G^M&(de^G))>>>0,h=(q^te&(Z^q))>>>0,l=((y>>>28|x<<4)^(x>>>2|y<<30)^(x>>>7|y<<25))>>>0,c=((y<<4|x>>>28)^(x<<30|y>>>2)^(x<<25|y>>>7))>>>0,p=(y&b|_&(y^b))>>>0,g=(x&E|k&(x^E))>>>0,V=z+f+h+ele[j][1]+t[j][1],n=ie+u+m+ele[j][0]+t[j][0]+(V/4294967296>>>0)>>>0,i=V>>>0,V=c+g,o=l+p+(V/4294967296>>>0)>>>0,a=V>>>0,ie=G,z=q,G=de,q=Z,de=M,Z=te,V=N+i,M=B+n+(V/4294967296>>>0)>>>0,te=V>>>0,B=_,N=k,_=b,k=E,b=y,E=x,V=i+a,y=n+o+(V/4294967296>>>0)>>>0,x=V>>>0;V=e[0][1]+x,e[0][0]=e[0][0]+y+(V/4294967296>>>0)>>>0,e[0][1]=V>>>0,V=e[1][1]+E,e[1][0]=e[1][0]+b+(V/4294967296>>>0)>>>0,e[1][1]=V>>>0,V=e[2][1]+k,e[2][0]=e[2][0]+_+(V/4294967296>>>0)>>>0,e[2][1]=V>>>0,V=e[3][1]+N,e[3][0]=e[3][0]+B+(V/4294967296>>>0)>>>0,e[3][1]=V>>>0,V=e[4][1]+te,e[4][0]=e[4][0]+M+(V/4294967296>>>0)>>>0,e[4][1]=V>>>0,V=e[5][1]+Z,e[5][0]=e[5][0]+de+(V/4294967296>>>0)>>>0,e[5][1]=V>>>0,V=e[6][1]+q,e[6][0]=e[6][0]+G+(V/4294967296>>>0)>>>0,e[6][1]=V>>>0,V=e[7][1]+z,e[7][0]=e[7][0]+ie+(V/4294967296>>>0)>>>0,e[7][1]=V>>>0,ce-=128}}s(SPe,"_update")});var DPe=H(rle=>{d();var d9t=fi();Fh();var Ol=d9t.asn1;rle.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Ol.Class.UNIVERSAL,type:Ol.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Ol.Class.UNIVERSAL,type:Ol.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Ol.Class.UNIVERSAL,type:Ol.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ol.Class.UNIVERSAL,type:Ol.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Ol.Class.UNIVERSAL,type:Ol.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};rle.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Ol.Class.UNIVERSAL,type:Ol.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Ol.Class.UNIVERSAL,type:Ol.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ol.Class.UNIVERSAL,type:Ol.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Ol.Class.UNIVERSAL,type:Ol.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var jPe=H((dzr,HPe)=>{d();var pc=fi();YR();rm();tle();co();var QPe=DPe(),m9t=QPe.publicKeyValidator,h9t=QPe.privateKeyValidator;typeof PPe>"u"&&(PPe=pc.jsbn.BigInteger);var PPe,ole=pc.util.ByteBuffer,bu=typeof Buffer>"u"?Uint8Array:Buffer;pc.pki=pc.pki||{};HPe.exports=pc.pki.ed25519=pc.ed25519=pc.ed25519||{};var wi=pc.ed25519;wi.constants={};wi.constants.PUBLIC_KEY_BYTE_LENGTH=32;wi.constants.PRIVATE_KEY_BYTE_LENGTH=64;wi.constants.SEED_BYTE_LENGTH=32;wi.constants.SIGN_BYTE_LENGTH=64;wi.constants.HASH_BYTE_LENGTH=64;wi.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=pc.random.getBytesSync(wi.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==wi.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+wi.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=jA({message:t,encoding:"binary"});for(var r=new bu(wi.constants.PUBLIC_KEY_BYTE_LENGTH),n=new bu(wi.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return y9t(r,n),{publicKey:r,privateKey:n}};wi.privateKeyFromAsn1=function(e){var t={},r=[],n=pc.asn1.validate(e,h9t,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var o=pc.asn1.derToOid(t.privateKeyOid),a=pc.oids.EdDSA25519;if(o!==a)throw new Error('Invalid OID "'+o+'"; OID must be "'+a+'".');var l=t.privateKey,c=jA({message:pc.asn1.fromDer(l).value,encoding:"binary"});return{privateKeyBytes:c}};wi.publicKeyFromAsn1=function(e){var t={},r=[],n=pc.asn1.validate(e,m9t,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var o=pc.asn1.derToOid(t.publicKeyOid),a=pc.oids.EdDSA25519;if(o!==a)throw new Error('Invalid OID "'+o+'"; OID must be "'+a+'".');var l=t.ed25519PublicKey;if(l.length!==wi.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return jA({message:l,encoding:"binary"})};wi.publicKeyFromPrivateKey=function(e){e=e||{};var t=jA({message:e.privateKey,encoding:"binary"});if(t.length!==wi.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+wi.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new bu(wi.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};wi.sign=function(e){e=e||{};var t=jA(e),r=jA({message:e.privateKey,encoding:"binary"});if(r.length===wi.constants.SEED_BYTE_LENGTH){var n=wi.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==wi.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+wi.constants.SEED_BYTE_LENGTH+" or "+wi.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new bu(wi.constants.SIGN_BYTE_LENGTH+t.length);C9t(i,t,t.length,r);for(var o=new bu(wi.constants.SIGN_BYTE_LENGTH),a=0;a<o.length;++a)o[a]=i[a];return o};wi.verify=function(e){e=e||{};var t=jA(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=jA({message:e.signature,encoding:"binary"});if(r.length!==wi.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+wi.constants.SIGN_BYTE_LENGTH);var n=jA({message:e.publicKey,encoding:"binary"});if(n.length!==wi.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+wi.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new bu(wi.constants.SIGN_BYTE_LENGTH+t.length),o=new bu(wi.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<wi.constants.SIGN_BYTE_LENGTH;++a)i[a]=r[a];for(a=0;a<t.length;++a)i[a+wi.constants.SIGN_BYTE_LENGTH]=t[a];return x9t(o,i,i.length,n)>=0};function jA(e){var t=e.message;if(t instanceof Uint8Array||t instanceof bu)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new ole(t,r)}else if(!(t instanceof ole))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new bu(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}s(jA,"messageToNativeBuffer");var sle=In(),WW=In([1]),p9t=In([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),g9t=In([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),NPe=In([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),LPe=In([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),nle=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),A9t=In([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ek(e,t){var r=pc.md.sha512.create(),n=new ole(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var o=new bu(wi.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)o[a]=i.charCodeAt(a);return o}s(ek,"sha512");function y9t(e,t){var r=[In(),In(),In(),In()],n,i=ek(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,ule(r,i),cle(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}s(y9t,"crypto_sign_keypair");function C9t(e,t,r,n){var i,o,a=new Float64Array(64),l=[In(),In(),In(),In()],c=ek(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var f=ek(e.subarray(32),r+32);for(ale(f),ule(l,f),cle(e,l),i=32;i<64;++i)e[i]=n[i];var m=ek(e,r+64);for(ale(m),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=f[i];for(i=0;i<32;++i)for(o=0;o<32;o++)a[i+o]+=m[i]*c[o];return OPe(e.subarray(32),a),u}s(C9t,"crypto_sign");function x9t(e,t,r,n){var i,o,a=new bu(32),l=[In(),In(),In(),In()],c=[In(),In(),In(),In()];if(o=-1,r<64||v9t(c,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var u=ek(e,r);if(ale(u),WPe(l,c,u),ule(c,t.subarray(32)),lle(l,c),cle(a,l),r-=64,UPe(t,0,a,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return o=r,o}s(x9t,"crypto_sign_open");function OPe(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*nle[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*nle[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*nle[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}s(OPe,"modL");function ale(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;OPe(e,t)}s(ale,"reduce");function lle(e,t){var r=In(),n=In(),i=In(),o=In(),a=In(),l=In(),c=In(),u=In(),f=In();m9(r,e[1],e[0]),m9(f,t[1],t[0]),Ho(r,r,f),d9(n,e[0],e[1]),d9(f,t[0],t[1]),Ho(n,n,f),Ho(i,e[3],t[3]),Ho(i,i,g9t),Ho(o,e[2],t[2]),d9(o,o,o),m9(a,n,r),m9(l,o,i),d9(c,o,i),d9(u,n,r),Ho(e[0],a,l),Ho(e[1],u,c),Ho(e[2],c,l),Ho(e[3],a,u)}s(lle,"add");function FPe(e,t,r){for(var n=0;n<4;++n)GPe(e[n],t[n],r)}s(FPe,"cswap");function cle(e,t){var r=In(),n=In(),i=In();T9t(i,t[2]),Ho(r,t[0],i),Ho(n,t[1],i),GW(e,n),e[31]^=qPe(r)<<7}s(cle,"pack");function GW(e,t){var r,n,i,o=In(),a=In();for(r=0;r<16;++r)a[r]=t[r];for(ile(a),ile(a),ile(a),n=0;n<2;++n){for(o[0]=a[0]-65517,r=1;r<15;++r)o[r]=a[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,GPe(a,o,1-i)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}s(GW,"pack25519");function v9t(e,t){var r=In(),n=In(),i=In(),o=In(),a=In(),l=In(),c=In();return wC(e[2],WW),b9t(e[1],t),vb(i,e[1]),Ho(o,i,p9t),m9(i,i,e[2]),d9(o,e[2],o),vb(a,o),vb(l,a),Ho(c,l,a),Ho(r,c,i),Ho(r,r,o),E9t(r,r),Ho(r,r,i),Ho(r,r,o),Ho(r,r,o),Ho(e[0],r,o),vb(n,e[0]),Ho(n,n,o),MPe(n,i)&&Ho(e[0],e[0],A9t),vb(n,e[0]),Ho(n,n,o),MPe(n,i)?-1:(qPe(e[0])===t[31]>>7&&m9(e[0],sle,e[0]),Ho(e[3],e[0],e[1]),0)}s(v9t,"unpackneg");function b9t(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}s(b9t,"unpack25519");function E9t(e,t){var r=In(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)vb(r,r),n!==1&&Ho(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}s(E9t,"pow2523");function MPe(e,t){var r=new bu(32),n=new bu(32);return GW(r,e),GW(n,t),UPe(r,0,n,0)}s(MPe,"neq25519");function UPe(e,t,r,n){return I9t(e,t,r,n,32)}s(UPe,"crypto_verify_32");function I9t(e,t,r,n,i){var o,a=0;for(o=0;o<i;++o)a|=e[t+o]^r[n+o];return(1&a-1>>>8)-1}s(I9t,"vn");function qPe(e){var t=new bu(32);return GW(t,e),t[0]&1}s(qPe,"par25519");function WPe(e,t,r){var n,i;for(wC(e[0],sle),wC(e[1],WW),wC(e[2],WW),wC(e[3],sle),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,FPe(e,t,n),lle(t,e),lle(e,e),FPe(e,t,n)}s(WPe,"scalarmult");function ule(e,t){var r=[In(),In(),In(),In()];wC(r[0],NPe),wC(r[1],LPe),wC(r[2],WW),Ho(r[3],NPe,LPe),WPe(e,r,t)}s(ule,"scalarbase");function wC(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}s(wC,"set25519");function T9t(e,t){var r=In(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)vb(r,r),n!==2&&n!==4&&Ho(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}s(T9t,"inv25519");function ile(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}s(ile,"car25519");function GPe(e,t,r){for(var n,i=~(r-1),o=0;o<16;++o)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}s(GPe,"sel25519");function In(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}s(In,"gf");function d9(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}s(d9,"A");function m9(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}s(m9,"Z");function vb(e,t){Ho(e,t,t)}s(vb,"S");function Ho(e,t,r){var n,i,o=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=0,g=0,y=0,x=0,b=0,E=0,_=0,k=0,B=0,N=0,M=0,te=0,de=0,Z=0,G=0,q=0,ie=0,z=0,j=0,U=0,V=0,K=0,ae=0,re=r[0],le=r[1],ce=r[2],De=r[3],be=r[4],qe=r[5],Re=r[6],Xe=r[7],ft=r[8],at=r[9],lt=r[10],oe=r[11],Ne=r[12],Ae=r[13],Ge=r[14],Y=r[15];n=t[0],o+=n*re,a+=n*le,l+=n*ce,c+=n*De,u+=n*be,f+=n*qe,m+=n*Re,h+=n*Xe,p+=n*ft,g+=n*at,y+=n*lt,x+=n*oe,b+=n*Ne,E+=n*Ae,_+=n*Ge,k+=n*Y,n=t[1],a+=n*re,l+=n*le,c+=n*ce,u+=n*De,f+=n*be,m+=n*qe,h+=n*Re,p+=n*Xe,g+=n*ft,y+=n*at,x+=n*lt,b+=n*oe,E+=n*Ne,_+=n*Ae,k+=n*Ge,B+=n*Y,n=t[2],l+=n*re,c+=n*le,u+=n*ce,f+=n*De,m+=n*be,h+=n*qe,p+=n*Re,g+=n*Xe,y+=n*ft,x+=n*at,b+=n*lt,E+=n*oe,_+=n*Ne,k+=n*Ae,B+=n*Ge,N+=n*Y,n=t[3],c+=n*re,u+=n*le,f+=n*ce,m+=n*De,h+=n*be,p+=n*qe,g+=n*Re,y+=n*Xe,x+=n*ft,b+=n*at,E+=n*lt,_+=n*oe,k+=n*Ne,B+=n*Ae,N+=n*Ge,M+=n*Y,n=t[4],u+=n*re,f+=n*le,m+=n*ce,h+=n*De,p+=n*be,g+=n*qe,y+=n*Re,x+=n*Xe,b+=n*ft,E+=n*at,_+=n*lt,k+=n*oe,B+=n*Ne,N+=n*Ae,M+=n*Ge,te+=n*Y,n=t[5],f+=n*re,m+=n*le,h+=n*ce,p+=n*De,g+=n*be,y+=n*qe,x+=n*Re,b+=n*Xe,E+=n*ft,_+=n*at,k+=n*lt,B+=n*oe,N+=n*Ne,M+=n*Ae,te+=n*Ge,de+=n*Y,n=t[6],m+=n*re,h+=n*le,p+=n*ce,g+=n*De,y+=n*be,x+=n*qe,b+=n*Re,E+=n*Xe,_+=n*ft,k+=n*at,B+=n*lt,N+=n*oe,M+=n*Ne,te+=n*Ae,de+=n*Ge,Z+=n*Y,n=t[7],h+=n*re,p+=n*le,g+=n*ce,y+=n*De,x+=n*be,b+=n*qe,E+=n*Re,_+=n*Xe,k+=n*ft,B+=n*at,N+=n*lt,M+=n*oe,te+=n*Ne,de+=n*Ae,Z+=n*Ge,G+=n*Y,n=t[8],p+=n*re,g+=n*le,y+=n*ce,x+=n*De,b+=n*be,E+=n*qe,_+=n*Re,k+=n*Xe,B+=n*ft,N+=n*at,M+=n*lt,te+=n*oe,de+=n*Ne,Z+=n*Ae,G+=n*Ge,q+=n*Y,n=t[9],g+=n*re,y+=n*le,x+=n*ce,b+=n*De,E+=n*be,_+=n*qe,k+=n*Re,B+=n*Xe,N+=n*ft,M+=n*at,te+=n*lt,de+=n*oe,Z+=n*Ne,G+=n*Ae,q+=n*Ge,ie+=n*Y,n=t[10],y+=n*re,x+=n*le,b+=n*ce,E+=n*De,_+=n*be,k+=n*qe,B+=n*Re,N+=n*Xe,M+=n*ft,te+=n*at,de+=n*lt,Z+=n*oe,G+=n*Ne,q+=n*Ae,ie+=n*Ge,z+=n*Y,n=t[11],x+=n*re,b+=n*le,E+=n*ce,_+=n*De,k+=n*be,B+=n*qe,N+=n*Re,M+=n*Xe,te+=n*ft,de+=n*at,Z+=n*lt,G+=n*oe,q+=n*Ne,ie+=n*Ae,z+=n*Ge,j+=n*Y,n=t[12],b+=n*re,E+=n*le,_+=n*ce,k+=n*De,B+=n*be,N+=n*qe,M+=n*Re,te+=n*Xe,de+=n*ft,Z+=n*at,G+=n*lt,q+=n*oe,ie+=n*Ne,z+=n*Ae,j+=n*Ge,U+=n*Y,n=t[13],E+=n*re,_+=n*le,k+=n*ce,B+=n*De,N+=n*be,M+=n*qe,te+=n*Re,de+=n*Xe,Z+=n*ft,G+=n*at,q+=n*lt,ie+=n*oe,z+=n*Ne,j+=n*Ae,U+=n*Ge,V+=n*Y,n=t[14],_+=n*re,k+=n*le,B+=n*ce,N+=n*De,M+=n*be,te+=n*qe,de+=n*Re,Z+=n*Xe,G+=n*ft,q+=n*at,ie+=n*lt,z+=n*oe,j+=n*Ne,U+=n*Ae,V+=n*Ge,K+=n*Y,n=t[15],k+=n*re,B+=n*le,N+=n*ce,M+=n*De,te+=n*be,de+=n*qe,Z+=n*Re,G+=n*Xe,q+=n*ft,ie+=n*at,z+=n*lt,j+=n*oe,U+=n*Ne,V+=n*Ae,K+=n*Ge,ae+=n*Y,o+=38*B,a+=38*N,l+=38*M,c+=38*te,u+=38*de,f+=38*Z,m+=38*G,h+=38*q,p+=38*ie,g+=38*z,y+=38*j,x+=38*U,b+=38*V,E+=38*K,_+=38*ae,i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,o+=i-1+37*(i-1),i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=u,e[5]=f,e[6]=m,e[7]=h,e[8]=p,e[9]=g,e[10]=y,e[11]=x,e[12]=b,e[13]=E,e[14]=_,e[15]=k}s(Ho,"M")});var YPe=H((pzr,zPe)=>{d();var Pf=fi();co();rm();YR();zPe.exports=Pf.kem=Pf.kem||{};var VPe=Pf.jsbn.BigInteger;Pf.kem.rsa={};Pf.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||Pf.random,n={};return n.encrypt=function(i,o){var a=Math.ceil(i.n.bitLength()/8),l;do l=new VPe(Pf.util.bytesToHex(r.getBytesSync(a)),16).mod(i.n);while(l.compareTo(VPe.ONE)<=0);l=Pf.util.hexToBytes(l.toString(16));var c=a-l.length;c>0&&(l=Pf.util.fillString("\0",c)+l);var u=i.encrypt(l,"NONE"),f=e.generate(l,o);return{encapsulation:u,key:f}},n.decrypt=function(i,o,a){var l=i.decrypt(o,"NONE");return e.generate(l,a)},n};Pf.kem.kdf1=function(e,t){$Pe(this,e,0,t||e.digestLength)};Pf.kem.kdf2=function(e,t){$Pe(this,e,1,t||e.digestLength)};function $Pe(e,t,r,n){e.generate=function(i,o){for(var a=new Pf.util.ByteBuffer,l=Math.ceil(o/n)+r,c=new Pf.util.ByteBuffer,u=r;u<l;++u){c.putInt32(u),t.start(),t.update(i+c.getBytes());var f=t.digest();a.putBytes(f.getBytes(n))}return a.truncate(a.length()-o),a.getBytes()}}s($Pe,"_createKDF")});var ZPe=H((yzr,XPe)=>{d();var Mi=fi();co();XPe.exports=Mi.log=Mi.log||{};Mi.log.levels=["none","error","warning","info","debug","verbose","max"];var HW={},mle=[],rk=null;Mi.log.LEVEL_LOCKED=2;Mi.log.NO_LEVEL_CHECK=4;Mi.log.INTERPOLATE=8;for(Pg=0;Pg<Mi.log.levels.length;++Pg)fle=Mi.log.levels[Pg],HW[fle]={index:Pg,name:fle.toUpperCase()};var fle,Pg;Mi.log.logMessage=function(e){for(var t=HW[e.level].index,r=0;r<mle.length;++r){var n=mle[r];if(n.flags&Mi.log.NO_LEVEL_CHECK)n.f(e);else{var i=HW[n.level].index;t<=i&&n.f(n,e)}}};Mi.log.prepareStandard=function(e){"standard"in e||(e.standard=HW[e.level].name+" ["+e.category+"] "+e.message)};Mi.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Mi.util.format.apply(this,t)}};Mi.log.prepareStandardFull=function(e){"standardFull"in e||(Mi.log.prepareStandard(e),e.standardFull=e.standard)};for(dle=["error","warning","info","debug","verbose"],Pg=0;Pg<dle.length;++Pg)(function(t){Mi.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),o={timestamp:new Date,level:t,category:r,message:n,arguments:i};Mi.log.logMessage(o)}})(dle[Pg]);var dle,Pg;Mi.log.makeLogger=function(e){var t={flags:0,f:e};return Mi.log.setLevel(t,"none"),t};Mi.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Mi.log.LEVEL_LOCKED))for(var n=0;n<Mi.log.levels.length;++n){var i=Mi.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};Mi.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Mi.log.LEVEL_LOCKED:e.flags&=~Mi.log.LEVEL_LOCKED};Mi.log.addLogger=function(e){mle.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(KPe={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},nk=s(function(e,t){Mi.log.prepareStandard(t);var r=KPe[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),h9=Mi.log.makeLogger(nk)):(nk=s(function(t,r){Mi.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),h9=Mi.log.makeLogger(nk)),Mi.log.setLevel(h9,"debug"),Mi.log.addLogger(h9),rk=h9):console={log:s(function(){},"log")};var h9,KPe,nk;rk!==null&&typeof window<"u"&&window.location&&(tk=new URL(window.location.href).searchParams,tk.has("console.level")&&Mi.log.setLevel(rk,tk.get("console.level").slice(-1)[0]),tk.has("console.lock")&&(JPe=tk.get("console.lock").slice(-1)[0],JPe=="true"&&Mi.log.lock(rk)));var tk,JPe;Mi.log.consoleLogger=rk});var tNe=H((vzr,eNe)=>{d();eNe.exports=Tg();EW();a9();wae();tle()});var iNe=H((Ezr,nNe)=>{d();var Ar=fi();yC();Fh();$R();CC();hb();Uae();rm();co();MW();var Pe=Ar.asn1,k0=nNe.exports=Ar.pkcs7=Ar.pkcs7||{};k0.messageFromPem=function(e){var t=Ar.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=Pe.fromDer(t.body);return k0.messageFromAsn1(n)};k0.messageToPem=function(e,t){var r={type:"PKCS7",body:Pe.toDer(e.toAsn1()).getBytes()};return Ar.pem.encode(r,{maxline:t})};k0.messageFromAsn1=function(e){var t={},r=[];if(!Pe.validate(e,k0.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=Pe.derToOid(t.contentType),o;switch(i){case Ar.pki.oids.envelopedData:o=k0.createEnvelopedData();break;case Ar.pki.oids.encryptedData:o=k0.createEncryptedData();break;case Ar.pki.oids.signedData:o=k0.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return o.fromAsn1(t.content.value[0]),o};k0.createSignedData=function(){var e=null;return e={type:Ar.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:s(function(n){if(ple(e,n,k0.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,o=0;o<i.length;++o)e.certificates.push(Ar.pki.certificateFromAsn1(i[o]))},"fromAsn1"),toAsn1:s(function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(Ar.pki.certificateToAsn1(e.certificates[i]));var o=[],a=Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(e.version).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,n)),o.length>0&&a.value[0].value.push(Pe.create(Pe.Class.CONTEXT_SPECIFIC,1,!0,o)),a.value[0].value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,e.signerInfos)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.type).getBytes()),a])},"toAsn1"),addSigner:s(function(n){var i=n.issuer,o=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=Ar.pki.certificateFromPem(a)),i=a.issuer.attributes,o=a.serialNumber}var l=n.key;if(!l)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof l=="string"&&(l=Ar.pki.privateKeyFromPem(l));var c=n.digestAlgorithm||Ar.pki.oids.sha1;switch(c){case Ar.pki.oids.sha1:case Ar.pki.oids.sha256:case Ar.pki.oids.sha384:case Ar.pki.oids.sha512:case Ar.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var f=!1,m=!1,h=0;h<u.length;++h){var p=u[h];if(!f&&p.type===Ar.pki.oids.contentType){if(f=!0,m)break;continue}if(!m&&p.type===Ar.pki.oids.messageDigest){if(m=!0,f)break;continue}}if(!f||!m)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:l,version:1,issuer:i,serialNumber:o,digestAlgorithm:c,signatureAlgorithm:Ar.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},"addSigner"),sign:s(function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(Ar.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof Ar.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=Ar.util.encodeUtf8(e.content)),n.detached?e.detachedContent=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var o=t();r(o)}},"sign"),verify:s(function(){throw new Error("PKCS#7 signature verification not yet implemented.")},"verify"),addCertificate:s(function(n){typeof n=="string"&&(n=Ar.pki.certificateFromPem(n)),e.certificates.push(n)},"addCertificate"),addCertificateRevokationList:s(function(n){throw new Error("PKCS#7 CRL support not yet implemented.")},"addCertificateRevokationList")},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var o=e.signers[i],a=o.digestAlgorithm;a in n||(n[a]=Ar.md[Ar.pki.oids[a]].create()),o.authenticatedAttributes.length===0?o.md=n[a]:o.md=Ar.md[Ar.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(a).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")]));return n}s(t,"addDigestAlgorithmIds");function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var o=Pe.derToOid(e.contentInfo.value[0].value),a=Pe.toDer(i);a.getByte(),Pe.getBerValueLength(a),a=a.getBytes();for(var l in n)n[l].start().update(a);for(var c=new Date,u=0;u<e.signers.length;++u){var f=e.signers[u];if(f.authenticatedAttributes.length===0){if(o!==Ar.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var m=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,[]),h=0;h<f.authenticatedAttributes.length;++h){var p=f.authenticatedAttributes[h];p.type===Ar.pki.oids.messageDigest?p.value=n[f.digestAlgorithm].digest():p.type===Ar.pki.oids.signingTime&&(p.value||(p.value=c)),m.value.push(hle(p)),f.authenticatedAttributesAsn1.value.push(hle(p))}a=Pe.toDer(m).getBytes(),f.md.start().update(a)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=B9t(e.signers)}s(r,"addSignerInfos")};k0.createEncryptedData=function(){var e=null;return e={type:Ar.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:Ar.pki.oids["aes256-CBC"]},fromAsn1:s(function(t){ple(e,t,k0.asn1.encryptedDataValidator)},"fromAsn1"),decrypt:s(function(t){t!==void 0&&(e.encryptedContent.key=t),rNe(e)},"decrypt")},e};k0.createEnvelopedData=function(){var e=null;return e={type:Ar.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:Ar.pki.oids["aes256-CBC"]},fromAsn1:s(function(t){var r=ple(e,t,k0.asn1.envelopedDataValidator);e.recipients=S9t(r.recipientInfos.value)},"fromAsn1"),toAsn1:s(function(){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.type).getBytes()),Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(e.version).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,R9t(e.recipients)),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,D9t(e.encryptedContent))])])])},"toAsn1"),findRecipient:s(function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],o=i.issuer;if(i.serialNumber===t.serialNumber&&o.length===r.length){for(var a=!0,l=0;l<r.length;++l)if(o[l].type!==r[l].type||o[l].value!==r[l].value){a=!1;break}if(a)return i}}return null},"findRecipient"),decrypt:s(function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case Ar.pki.oids.rsaEncryption:case Ar.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=Ar.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}rNe(e)},"decrypt"),addRecipient:s(function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:Ar.pki.oids.rsaEncryption,key:t.publicKey}})},"addRecipient"),encrypt:s(function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,o;switch(r){case Ar.pki.oids["aes128-CBC"]:n=16,i=16,o=Ar.aes.createEncryptionCipher;break;case Ar.pki.oids["aes192-CBC"]:n=24,i=16,o=Ar.aes.createEncryptionCipher;break;case Ar.pki.oids["aes256-CBC"]:n=32,i=16,o=Ar.aes.createEncryptionCipher;break;case Ar.pki.oids["des-EDE3-CBC"]:n=24,i=8,o=Ar.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=Ar.util.createBuffer(Ar.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=Ar.util.createBuffer(Ar.random.getBytes(i));var a=o(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var l=0;l<e.recipients.length;++l){var c=e.recipients[l];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case Ar.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}},"encrypt")},e};function w9t(e){var t={},r=[];if(!Pe.validate(e,k0.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:Ar.pki.RDNAttributesAsArray(t.issuer),serialNumber:Ar.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:Pe.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}s(w9t,"_recipientFromAsn1");function _9t(e){return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(e.version).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Ar.pki.distinguishedNameToAsn1({attributes:e.issuer}),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Ar.util.hexToBytes(e.serialNumber))]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.encryptedContent.algorithm).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.encryptedContent.content)])}s(_9t,"_recipientToAsn1");function S9t(e){for(var t=[],r=0;r<e.length;++r)t.push(w9t(e[r]));return t}s(S9t,"_recipientsFromAsn1");function R9t(e){for(var t=[],r=0;r<e.length;++r)t.push(_9t(e[r]));return t}s(R9t,"_recipientsToAsn1");function k9t(e){var t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Pe.integerToDer(e.version).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Ar.pki.distinguishedNameToAsn1({attributes:e.issuer}),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.INTEGER,!1,Ar.util.hexToBytes(e.serialNumber))]),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.digestAlgorithm).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.signatureAlgorithm).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.NULL,!1,"")])),t.value.push(Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=Pe.create(Pe.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(hle(i))}t.value.push(r)}return t}s(k9t,"_signerToAsn1");function B9t(e){for(var t=[],r=0;r<e.length;++r)t.push(k9t(e[r]));return t}s(B9t,"_signersToAsn1");function hle(e){var t;if(e.type===Ar.pki.oids.contentType)t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.value).getBytes());else if(e.type===Ar.pki.oids.messageDigest)t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===Ar.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var o=Date.parse(i);isNaN(o)?i.length===13?i=Pe.utcTimeToDate(i):i=Pe.generalizedTimeToDate(i):i=new Date(o)}i>=r&&i<n?t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.UTCTIME,!1,Pe.dateToUtcTime(i)):t=Pe.create(Pe.Class.UNIVERSAL,Pe.Type.GENERALIZEDTIME,!1,Pe.dateToGeneralizedTime(i))}return Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.type).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SET,!0,[t])])}s(hle,"_attributeToAsn1");function D9t(e){return[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(Ar.pki.oids.data).getBytes()),Pe.create(Pe.Class.UNIVERSAL,Pe.Type.SEQUENCE,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OID,!1,Pe.oidToDer(e.algorithm).getBytes()),e.parameter?Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),Pe.create(Pe.Class.CONTEXT_SPECIFIC,0,!0,[Pe.create(Pe.Class.UNIVERSAL,Pe.Type.OCTETSTRING,!1,e.content.getBytes())])]}s(D9t,"_encryptedContentToAsn1");function ple(e,t,r){var n={},i=[];if(!Pe.validate(t,r,n,i)){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}var a=Pe.derToOid(n.contentType);if(a!==Ar.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var l="";if(Ar.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==Pe.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");l+=n.encryptedContent[c].value}else l=n.encryptedContent;e.encryptedContent={algorithm:Pe.derToOid(n.encAlgorithm),parameter:Ar.util.createBuffer(n.encParameter.value),content:Ar.util.createBuffer(l)}}if(n.content){var l="";if(Ar.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==Pe.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");l+=n.content[c].value}else l=n.content;e.content=Ar.util.createBuffer(l)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}s(ple,"_fromAsn1");function rNe(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case Ar.pki.oids["aes128-CBC"]:case Ar.pki.oids["aes192-CBC"]:case Ar.pki.oids["aes256-CBC"]:t=Ar.aes.createDecryptionCipher(e.encryptedContent.key);break;case Ar.pki.oids.desCBC:case Ar.pki.oids["des-EDE3-CBC"]:t=Ar.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}s(rNe,"_decryptContent")});var sNe=H((wzr,oNe)=>{d();var Xa=fi();yC();n9();EW();a9();co();var VW=oNe.exports=Xa.ssh=Xa.ssh||{};VW.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",o="PuTTY-User-Key-File-2: "+n+`\r
`;o+="Encryption: "+i+`\r
`,o+="Comment: "+r+`\r
`;var a=Xa.util.createBuffer();p9(a,n),Ng(a,e.e),Ng(a,e.n);var l=Xa.util.encode64(a.bytes(),64),c=Math.floor(l.length/66)+1;o+="Public-Lines: "+c+`\r
`,o+=l;var u=Xa.util.createBuffer();Ng(u,e.d),Ng(u,e.p),Ng(u,e.q),Ng(u,e.qInv);var f;if(!t)f=Xa.util.encode64(u.bytes(),64);else{var m=u.length()+16-1;m-=m%16;var h=jW(u.bytes());h.truncate(h.length()-m+u.length()),u.putBuffer(h);var p=Xa.util.createBuffer();p.putBuffer(jW("\0\0\0\0",t)),p.putBuffer(jW("\0\0\0",t));var g=Xa.aes.createEncryptionCipher(p.truncate(8),"CBC");g.start(Xa.util.createBuffer().fillWithByte(0,16)),g.update(u.copy()),g.finish();var y=g.output;y.truncate(16),f=Xa.util.encode64(y.bytes(),64)}c=Math.floor(f.length/66)+1,o+=`\r
Private-Lines: `+c+`\r
`,o+=f;var x=jW("putty-private-key-file-mac-key",t),b=Xa.util.createBuffer();p9(b,n),p9(b,i),p9(b,r),b.putInt32(a.length()),b.putBuffer(a),b.putInt32(u.length()),b.putBuffer(u);var E=Xa.hmac.create();return E.start("sha1",x),E.update(b.bytes()),o+=`\r
Private-MAC: `+E.digest().toHex()+`\r
`,o};VW.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=Xa.util.createBuffer();return p9(n,r),Ng(n,e.e),Ng(n,e.n),r+" "+Xa.util.encode64(n.bytes())+" "+t};VW.privateKeyToOpenSSH=function(e,t){return t?Xa.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):Xa.pki.privateKeyToPem(e)};VW.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Xa.md.md5.create(),n="ssh-rsa",i=Xa.util.createBuffer();p9(i,n),Ng(i,e.e),Ng(i,e.n),r.start(),r.update(i.getBytes());var o=r.digest();if(t.encoding==="hex"){var a=o.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return o.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return o};function Ng(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=Xa.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}s(Ng,"_addBigIntegerToBuffer");function p9(e,t){e.putInt32(t.length),e.putString(t)}s(p9,"_addStringToBuffer");function jW(){for(var e=Xa.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}s(jW,"_sha1")});var lNe=H((Rzr,aNe)=>{d();aNe.exports=fi();yC();_Pe();Fh();gW();$R();jPe();n9();YPe();ZPe();tNe();qae();_W();hb();Lae();Hae();iNe();Vae();Mae();_ae();NW();rm();kae();sNe();Xae();co()});var fNe=H(bb=>{"use strict";d();Object.defineProperty(bb,"__esModule",{value:!0});bb.convert=bb.Format=void 0;var ik=lNe(),_C;(function(e){e.der="der",e.pem="pem",e.txt="txt",e.asn1="asn1",e.x509="x509",e.fingerprint="fingerprint"})(_C=bb.Format||(bb.Format={}));function cNe(e){var t=ik.pki.pemToDer(e),r=ik.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,i=n[0],o=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,a=n.slice(o);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}s(cNe,"myASN");function P9t(e){var t=cNe(e),r=t.subject.value.map(function(i){return i.value[0].value[1].value}).join("/"),n=t.valid.value.map(function(i){return i.value}).join(" - ");return["Subject	".concat(r),"Valid	".concat(n),String(e)].join(`
`)}s(P9t,"txtFormat");function uNe(e,t){switch(t){case _C.der:return ik.pki.pemToDer(e);case _C.pem:return e;case _C.txt:return P9t(e);case _C.asn1:return cNe(e);case _C.fingerprint:var r=ik.md.sha1.create(),n=uNe(e,_C.der);return r.update(n.getBytes()),r.digest().toHex();case _C.x509:return ik.pki.certificateFromPem(e);default:throw new Error("unknown format ".concat(t))}}s(uNe,"convert");bb.convert=uNe});var ANe=H(Eu=>{"use strict";d();var SC=Eu&&Eu.__assign||function(){return SC=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},SC.apply(this,arguments)},$W=Eu&&Eu.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.convert=Eu.Format=Eu.addToGlobalAgent=Eu.get=void 0;var gle=require("https"),N9t=require("tls"),dNe=require("child_process"),mNe=VBe(),VA=fNe();Object.defineProperty(Eu,"Format",{enumerable:!0,get:s(function(){return VA.Format},"get")});Object.defineProperty(Eu,"convert",{enumerable:!0,get:s(function(){return VA.convert},"get")});var hNe=process.platform==="darwin",pNe=gle.globalAgent,YW={keychain:"all",unique:!0,excludeBundled:!0,format:VA.Format.pem};function gNe(e){if(e===void 0&&(e=YW),!hNe)return[];e=SC(SC({},YW),e);var t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r=["find-certificate","-a","-p"],n=[];if(e.keychain==="all"||e.keychain==="SystemRootCertificates"){var i="/System/Library/Keychains/SystemRootCertificates.keychain",o=(0,dNe.spawnSync)("/usr/bin/security",r.concat(i)).stdout.toString().split(t).map(function(u){return u.trim()});n=$W($W([],n,!0),o,!0)}if(e.keychain==="all"||e.keychain==="current"){var a=(0,dNe.spawnSync)("/usr/bin/security",r).stdout.toString().split(t).map(function(u){return u.trim()});n=$W($W([],n,!0),a,!0)}if(e.unique||e.excludeBundled){var l=n.map(function(u){return(0,VA.convert)(u,VA.Format.fingerprint)}),c=e.excludeBundled?N9t.rootCertificates.map(function(u){return(0,VA.convert)(u,VA.Format.fingerprint)}):[];n=n.filter(function(u,f){var m=l[f];return!(e.unique&&f!==l.indexOf(m)||e.excludeBundled&&c.includes(m))})}return n.map(function(u){return(0,VA.convert)(u,e.format)})}s(gNe,"get");Eu.get=gNe;var zW=pNe.options.ca,L9t=s(function(e){if(e===void 0&&(e=YW),!!hNe){var t;Array.isArray(zW)?t=Array.from(zW):t=typeof zW<"u"?[zW]:[],gNe(SC(SC(SC({},YW),e),{format:VA.Format.pem,excludeBundled:!1})).forEach(function(r){return t.push(r)}),pNe.options.ca=t,gle.Agent=function(r){return function(n){var i=typeof n<"u"?SC({},n):{};return typeof i.ca>"u"&&(i.ca=t),r.call(this,i)}}(gle.Agent),(0,mNe.setGlobalDispatcher)(new mNe.Agent({connect:{ca:t}}))}},"addToGlobalAgent");Eu.addToGlobalAgent=L9t});var yNe=H((Mzr,Ale)=>{d();function F9t(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),i=[],o=new n.Crypt32;try{let a;for(;a=o.next();){let l=new e(a);i.push(l.toString())}}finally{o.done()}return Array.from(new Set(i))}s(F9t,"all");process.platform!=="win32"?Ale.exports.all=()=>[]:Ale.exports.all=F9t});var _Ne=H((Hzr,wNe)=>{"use strict";d();function TNe(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let i=typeof e;if(n.type&&i!==n.type){if(n.required===!1&&t.slice(r).some(o=>o.type===i))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}s(TNe,"validateParameter");function Q9t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}s(Q9t,"hasOwnProperty");function O9t(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let o=0,a=0;o<t.length;++o,++a){let l=t[o],c=r[a];Q9t(l,"default")&&c==null&&(c=l.default),l.type==="object"&&l.default!=null&&(c=Object.assign({},l.default,c)),l.name==="options"&&(typeof c=="function"||c==null)&&(c={}),TNe(c,t,o)?n.push(c):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((o,a)=>{n.push((l,c)=>{if(l)return a(l);o(c)}),e.apply(this,n)});e.apply(this,n)}}s(O9t,"defineOperation");wNe.exports={defineOperation:O9t,validateParameter:TNe}});var wle=H(($zr,kNe)=>{"use strict";d();var y9=ite()("kerberos"),A9=y9.KerberosClient,SNe=y9.KerberosServer,RC=_Ne().defineOperation,U9t=1,q9t=2,W9t=4,G9t=8,H9t=16,j9t=32,V9t=64,$9t=128,z9t=256,RNe=0,Y9t=9,K9t=6;A9.prototype.step=RC(A9.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);A9.prototype.wrap=RC(A9.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);A9.prototype.unwrap=RC(A9.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);SNe.prototype.step=RC(SNe.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var J9t=RC(y9.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),X9t=RC(y9.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),Z9t=RC(y9.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:RNe}},{name:"callback",type:"function",required:!1}]),eTt=RC(y9.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);kNe.exports={initializeClient:Z9t,initializeServer:eTt,principalDetails:X9t,checkPassword:J9t,GSS_C_DELEG_FLAG:U9t,GSS_C_MUTUAL_FLAG:q9t,GSS_C_REPLAY_FLAG:W9t,GSS_C_SEQUENCE_FLAG:G9t,GSS_C_CONF_FLAG:H9t,GSS_C_INTEG_FLAG:j9t,GSS_C_ANON_FLAG:V9t,GSS_C_PROT_READY_FLAG:$9t,GSS_C_TRANS_FLAG:z9t,GSS_C_NO_OID:RNe,GSS_MECH_OID_KRB5:Y9t,GSS_MECH_OID_SPNEGO:K9t}});var BNe=H((Yzr,tTt)=>{tTt.exports={name:"kerberos",version:"2.2.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"^7.1.2"},devDependencies:{"@types/node":"^22.2.0",chai:"^4.4.1","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^9.9.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.2.1","jsdoc-to-markdown":"^8.0.3",mocha:"^10.7.3",mongodb:"^6.8.0","node-gyp":"^10.1.0",prebuild:"^13.0.0",prettier:"^3.3.3",request:"^2.88.2"},overrides:{prebuild:{"node-gyp":"$node-gyp"}},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"ESLINT_USE_FLAT_CONFIG=false eslint lib test --fix","check:lint":"ESLINT_USE_FLAT_CONFIG=false eslint lib test",precommit:"check-clang-format",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",test:"mocha test",prebuild:"prebuild --runtime napi --strip --verbose --all"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var PNe=H((Kzr,DNe)=>{"use strict";d();var rTt=require("dns"),nTt=wle(),_le=class{static{s(this,"MongoAuthProcess")}constructor(t,r,n,i){i=i||{},this.host=t,this.port=r,this.serviceName=n||i.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof i.gssapiCanonicalizeHostName=="boolean"?i.gssapiCanonicalizeHostName:!1,this._transition=iTt(this),this.retries=10}init(t,r,n){let i=this;this.username=t,this.password=r;function o(a,l,c){if(!a)return c();rTt.resolveCname(l,(u,f)=>{if(u)return c(u);Array.isArray(f)&&f.length>0&&(i.host=f[0]),c()})}s(o,"performGssapiCanonicalizeHostName"),o(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let l={};r!=null&&Object.assign(l,{user:t,password:r});let c=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;nTt.initializeClient(c,l,(u,f)=>{if(u)return n(u,null);i.client=f,n(null,f)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};function iTt(e){return(t,r)=>{e.client.step("",(n,i)=>{if(n)return r(n);e._transition=oTt(e),r(null,i)})}}s(iTt,"firstTransition");function oTt(e){return(t,r)=>{e.client.step(t,(n,i)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=sTt(e),r(null,i||"")})}}s(oTt,"secondTransition");function sTt(e){return(t,r)=>{e.client.unwrap(t,(n,i)=>{if(n)return r(n,!1);e.client.wrap(i,{user:e.username},(o,a)=>{if(o)return r(o,!1);e._transition=aTt(e),r(null,a)})})}}s(sTt,"thirdTransition");function aTt(e){return(t,r)=>{e._transition=null,r(null,!0)}}s(aTt,"fourthTransition");DNe.exports={MongoAuthProcess:_le}});var LNe=H((Zzr,ok)=>{"use strict";d();var NNe=wle();ok.exports=NNe;ok.exports.Kerberos=NNe;ok.exports.version=BNe().version;ok.exports.processes={MongoAuthProcess:PNe().MongoAuthProcess}});var hLe=H(jle=>{"use strict";d();Object.defineProperty(jle,"__esModule",{value:!0});jle.assertNever=qTt;function qTt(e,t=`unexpected value ${e}`){throw new Error(`Unreachable: ${t}`)}s(qTt,"assertNever")});var hk=H(JA=>{"use strict";d();Object.defineProperty(JA,"__esModule",{value:!0});JA.ChatCompletionContentPartOpaque=JA.ChatCompletionContentPartKind=JA.ChatRole=void 0;var WTt=hLe(),gG;(function(e){e[e.System=0]="System",e[e.User=1]="User",e[e.Assistant=2]="Assistant",e[e.Tool=3]="Tool"})(gG||(JA.ChatRole=gG={}));(function(e){function t(r){switch(r){case e.System:return"system";case e.User:return"user";case e.Assistant:return"assistant";case e.Tool:return"tool";default:(0,WTt.assertNever)(r,`unknown chat role ${r}}`)}}s(t,"display"),e.display=t})(gG||(JA.ChatRole=gG={}));var pLe;(function(e){e[e.Image=0]="Image",e[e.Text=1]="Text",e[e.Opaque=2]="Opaque",e[e.CacheBreakpoint=3]="CacheBreakpoint"})(pLe||(JA.ChatCompletionContentPartKind=pLe={}));var gLe;(function(e){function t(r,n){return!r.scope||(r.scope&n)!==0}s(t,"usableIn"),e.usableIn=t})(gLe||(JA.ChatCompletionContentPartOpaque=gLe={}))});var Vle=H(Wg=>{"use strict";d();Object.defineProperty(Wg,"__esModule",{value:!0});Wg.BaseTokensPerName=Wg.BaseTokensPerMessage=Wg.BaseTokensPerCompletion=Wg.ChatRole=void 0;var ALe;(function(e){e.System="system",e.User="user",e.Assistant="assistant",e.Function="function",e.Tool="tool"})(ALe||(Wg.ChatRole=ALe={}));Wg.BaseTokensPerCompletion=3;Wg.BaseTokensPerMessage=3;Wg.BaseTokensPerName=1});var CLe=H(yG=>{"use strict";d();Object.defineProperty(yG,"__esModule",{value:!0});yG.toOpenAiChatMessage=yLe;yG.toOpenAIChatMessages=jTt;var XA=hk(),AG=Vle(),GTt=MC();function $le(e){return e.filter(t=>t.type===XA.ChatCompletionContentPartKind.Text).map(t=>t.text).join("")}s($le,"onlyStringContent");function HTt(e){let t=e.map(r=>{if(r.type===XA.ChatCompletionContentPartKind.Text)return{type:"text",text:r.text};if(r.type===XA.ChatCompletionContentPartKind.Image)return{image_url:r.imageUrl,type:"image_url"};if(r.type===XA.ChatCompletionContentPartKind.Opaque&&XA.ChatCompletionContentPartOpaque.usableIn(r,GTt.OutputMode.OpenAI))return r}).filter(r=>!!r);return t.every(r=>r.type==="text")?t.map(r=>r.text).join(""):t}s(HTt,"stringAndImageContent");function yLe(e){switch(e.role){case XA.ChatRole.System:return{role:AG.ChatRole.System,content:$le(e.content),name:e.name};case XA.ChatRole.User:return{role:AG.ChatRole.User,content:HTt(e.content),name:e.name};case XA.ChatRole.Assistant:return{role:AG.ChatRole.Assistant,content:$le(e.content),name:e.name,tool_calls:e.toolCalls?.map(t=>({id:t.id,function:t.function,type:"function"}))};case XA.ChatRole.Tool:return{role:AG.ChatRole.Tool,content:$le(e.content),tool_call_id:e.toolCallId};default:return}}s(yLe,"toOpenAiChatMessage");function jTt(e){return e.map(yLe).filter(t=>!!t)}s(jTt,"toOpenAIChatMessages")});var vLe=H(vG=>{"use strict";d();Object.defineProperty(vG,"__esModule",{value:!0});vG.toVsCodeChatMessage=xLe;vG.toVsCodeChatMessages=VTt;var xG=hk();function CG(e){return e.filter(t=>t.type===xG.ChatCompletionContentPartKind.Text).map(t=>t.text).join("")}s(CG,"onlyStringContent");var QC;function xLe(e){switch(QC??=require("vscode"),e.role){case xG.ChatRole.Assistant:let t=QC.LanguageModelChatMessage.Assistant(CG(e.content),e.name);return e.toolCalls&&(t.content=[new QC.LanguageModelTextPart(CG(e.content)),...e.toolCalls.map(r=>{let n;try{n=JSON.parse(r.function.arguments)}catch{throw new Error("Invalid JSON in tool call arguments for tool call: "+r.id)}return new QC.LanguageModelToolCallPart(r.id,r.function.name,n)})]),t;case xG.ChatRole.User:return QC.LanguageModelChatMessage.User(CG(e.content),e.name);case xG.ChatRole.Tool:{let r=QC.LanguageModelChatMessage.User("");return r.content=[new QC.LanguageModelToolResultPart(e.toolCallId,[new QC.LanguageModelTextPart(CG(e.content))])],r}default:return}}s(xLe,"toVsCodeChatMessage");function VTt(e){return e.map(xLe).filter(t=>!!t)}s(VTt,"toVsCodeChatMessages")});var MC=H(Oh=>{"use strict";d();Object.defineProperty(Oh,"__esModule",{value:!0});Oh.OutputMode=Oh.Raw=Oh.OpenAI=void 0;Oh.toMode=zle;Oh.toVSCode=$Tt;Oh.toOpenAI=zTt;var bLe=CLe(),ELe=vLe();Oh.OpenAI=Vle();Oh.Raw=hk();var Sb;(function(e){e[e.Raw=1]="Raw",e[e.OpenAI=2]="OpenAI",e[e.VSCode=4]="VSCode"})(Sb||(Oh.OutputMode=Sb={}));function zle(e,t){switch(e){case Sb.Raw:return t;case Sb.VSCode:return t instanceof Array?(0,ELe.toVsCodeChatMessages)(t):(0,ELe.toVsCodeChatMessage)(t);case Sb.OpenAI:return t instanceof Array?(0,bLe.toOpenAIChatMessages)(t):(0,bLe.toOpenAiChatMessage)(t);default:throw new Error(`Unknown output mode: ${e}`)}}s(zle,"toMode");function $Tt(e){return zle(Sb.VSCode,e)}s($Tt,"toVSCode");function zTt(e){return zle(Sb.OpenAI,e)}s(zTt,"toOpenAI")});var Yle=H(pk=>{"use strict";d();Object.defineProperty(pk,"__esModule",{value:!0});pk.jsonRetainedProps=void 0;pk.forEachNode=ILe;pk.jsonRetainedProps=Object.keys({flexBasis:1,flexGrow:1,flexReserve:1,passPriority:1,priority:1});function ILe(e,t){if(t(e),e.type===1)for(let r of e.children)ILe(r,t)}s(ILe,"forEachNode")});var TLe=H(Kle=>{"use strict";d();Object.defineProperty(Kle,"__esModule",{value:!0});Kle.once=YTt;function YTt(e){let t,r=!1,n=s((...i)=>(r||(t=e(...i),r=!0),t),"wrappedFunction");return n.clear=()=>{r=!1},n}s(YTt,"once")});var ece=H(zc=>{"use strict";d();Object.defineProperty(zc,"__esModule",{value:!0});zc.BudgetExceededError=zc.MaterializedChatMessageImage=zc.MaterializedChatMessageBreakpoint=zc.MaterializedChatMessageOpaque=zc.MaterializedChatMessage=zc.MaterializedChatMessageTextChunk=zc.GenericMaterializedContainer=void 0;var w9=TLe(),Qf=MC(),ZA=class e{static{s(this,"GenericMaterializedContainer")}parent;id;name;priority;metadata;flags;children;keepWithId;constructor(t,r,n,i,o,a,l){if(this.parent=t,this.id=r,this.name=n,this.priority=i,this.metadata=a,this.flags=l,this.children=o(this),l&8){if(this.children.length!==2)throw new Error("Invalid number of children for EmptyAlternate flag");let[c,u]=this.children;u.isEmpty?this.children=[c]:this.children=[u]}}has(t){return!!(this.flags&t)}async tokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=UC(n)?await n.tokenCount(t):await n.upperBoundTokenCount(t);r+=i})),r}async upperBoundTokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r}replaceNode(t,r){return NLe(t,this.children,r)}allMetadata(){return PLe(this)}findById(t){return Zle(t,this)}get isEmpty(){return!this.children.some(t=>!t.isEmpty)}onChunksChange(){this.parent?.onChunksChange()}*toChatMessages(){for(let t of this.children)KTt(t),t instanceof e?yield*t.toChatMessages():!t.isEmpty&&t instanceof qh&&(yield t.toChatMessage())}async baseMessageTokenCount(t){let r=0;return await Promise.all(this.children.map(async n=>{if(n instanceof qh||n instanceof e){let i=await n.baseMessageTokenCount(t);r+=i}})),r}removeLowestPriorityChild(){let t=[];return Xle(this,t),t}};zc.GenericMaterializedContainer=ZA;var gk=class{static{s(this,"MaterializedChatMessageTextChunk")}parent;text;priority;metadata;lineBreakBefore;constructor(t,r,n,i=[],o){this.parent=t,this.text=r,this.priority=n,this.metadata=i,this.lineBreakBefore=o}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,w9.once)(async t=>await t.tokenLength({type:Qf.Raw.ChatCompletionContentPartKind.Text,text:this.text})+(this.lineBreakBefore!==0?1:0));get isEmpty(){return!/\S/.test(this.text)}};zc.MaterializedChatMessageTextChunk=gk;var qh=class{static{s(this,"MaterializedChatMessage")}parent;id;role;name;toolCalls;toolCallId;priority;metadata;children;constructor(t,r,n,i,o,a,l,c,u){this.parent=t,this.id=r,this.role=n,this.name=i,this.toolCalls=o,this.toolCallId=a,this.priority=l,this.metadata=c,this.children=u(this)}async tokenCount(t){return this._tokenCount(t)}async upperBoundTokenCount(t){return this._upperBound(t)}get text(){return this._text()}get isEmpty(){return!this.toolCalls?.length&&!this.children.some(t=>!t.isEmpty)}replaceNode(t,r){let n=NLe(t,this.children,r);return n&&this.onChunksChange(),n}removeLowestPriorityChild(){let t=[];return Xle(this,t),t}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear(),this.parent?.onChunksChange()}findById(t){return Zle(t,this)}_tokenCount=(0,w9.once)(async t=>{let r=this.toChatMessage();return t.countMessageTokens((0,Qf.toMode)(t.mode,r))});_upperBound=(0,w9.once)(async t=>{let r=await this.baseMessageTokenCount(t);return await Promise.all(this.children.map(async n=>{let i=await n.upperBoundTokenCount(t);r+=i})),r});baseMessageTokenCount=(0,w9.once)(t=>{let r=this.toChatMessage();return r.content=r.content.map(n=>n.type===Qf.Raw.ChatCompletionContentPartKind.Text?{...n,text:""}:n.type===Qf.Raw.ChatCompletionContentPartKind.Image?void 0:n).filter(n=>!!n),t.countMessageTokens((0,Qf.toMode)(t.mode,r))});_text=(0,w9.once)(()=>{let t=[];for(let{content:r,isTextSibling:n}of BLe(this)){if(r instanceof Rb||r instanceof OC){t.push(r);continue}if(r instanceof Uh){t.at(-1)instanceof Uh?t[t.length-1]=r:t.push(r);continue}if(r.lineBreakBefore===1||r.lineBreakBefore===2&&!n){let i=t[t.length-1];typeof i=="string"&&i&&!i.endsWith(`
`)&&(t[t.length-1]=i+`
`)}typeof t[t.length-1]=="string"?t[t.length-1]+=r.text:t.push(r.text)}return t});toChatMessage(){let t=this.text.map(r=>{if(typeof r=="string")return{type:Qf.Raw.ChatCompletionContentPartKind.Text,text:r};if(r instanceof Rb)return{type:Qf.Raw.ChatCompletionContentPartKind.Image,imageUrl:{url:LLe(r.src),detail:r.detail}};if(r instanceof OC)return r.value;if(r instanceof Uh)return r.part;throw new Error("Unexpected element type")});if(this.role===Qf.Raw.ChatRole.System)return{role:this.role,content:t,...this.name?{name:this.name}:{}};if(this.role===Qf.Raw.ChatRole.Assistant){let r={role:this.role,content:t};return this.name&&(r.name=this.name),this.toolCalls?.length&&(r.toolCalls=this.toolCalls.map(n=>({function:n.function,id:n.id,type:n.type}))),r}else return this.role===Qf.Raw.ChatRole.User?{role:this.role,content:t,...this.name?{name:this.name}:{}}:this.role===Qf.Raw.ChatRole.Tool?{role:this.role,content:t,toolCallId:this.toolCallId}:{role:this.role,content:t,name:this.name}}};zc.MaterializedChatMessage=qh;var OC=class{static{s(this,"MaterializedChatMessageOpaque")}parent;part;metadata=[];priority=Number.MAX_SAFE_INTEGER;get value(){return this.part.value}constructor(t,r){this.parent=t,this.part=r}upperBoundTokenCount(t){return this.part.tokenUsage&&Qf.Raw.ChatCompletionContentPartOpaque.usableIn(this.part,t.mode)?this.part.tokenUsage:0}isEmpty=!1};zc.MaterializedChatMessageOpaque=OC;var Uh=class{static{s(this,"MaterializedChatMessageBreakpoint")}parent;part;metadata=[];priority=Number.MAX_SAFE_INTEGER;constructor(t,r){this.parent=t,this.part=r}upperBoundTokenCount(t){return 0}isEmpty=!1};zc.MaterializedChatMessageBreakpoint=Uh;var Rb=class{static{s(this,"MaterializedChatMessageImage")}parent;id;src;priority;metadata;lineBreakBefore;detail;constructor(t,r,n,i,o=[],a,l){this.parent=t,this.id=r,this.src=n,this.priority=i,this.metadata=o,this.lineBreakBefore=a,this.detail=l}upperBoundTokenCount(t){return this._upperBound(t)}_upperBound=(0,w9.once)(async t=>t.tokenLength({type:Qf.Raw.ChatCompletionContentPartKind.Image,imageUrl:{url:LLe(this.src),detail:this.detail}}));isEmpty=!1};zc.MaterializedChatMessageImage=Rb;function UC(e){return e instanceof ZA||e instanceof qh}s(UC,"isContainerType");function kLe(e){return e instanceof gk||e instanceof Rb||e instanceof OC||e instanceof Uh}s(kLe,"isContentType");function KTt(e){if(!UC(e))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${e.text}"`)}s(KTt,"assertContainerOrChatMessage");function*BLe(e,t=!1){for(let r of e.children)r instanceof gk?(yield{content:r,isTextSibling:t},t=!0):r instanceof Rb||r instanceof OC||r instanceof Uh?yield{content:r,isTextSibling:!1}:r instanceof OC?yield{content:r,isTextSibling:!0}:(r&&(yield*BLe(r,t)),t=!1)}s(BLe,"contentChunks");function JTt(e,t){let r;function n(i,o){if(kLe(i))(!r||i.priority<r.node.priority)&&(r={chain:o.slice(),node:i});else{o.push(i);for(let a of i.children)n(a,o);o.pop()}}if(s(n,"findLowestInTree"),n(e,[]),!r)throw new Error("No lowest priority node found");Ak(r.node,t)}s(JTt,"removeLowestPriorityLegacy");var wLe=new WeakMap;function DLe(e){let t=wLe.get(e);if(t!==void 0)return t;let r=!1;return e instanceof Uh?r=!0:e instanceof qh?r=e.children.some(n=>n instanceof Uh):e instanceof ZA&&(r=e.children.some(DLe)),wLe.set(e,r),r}s(DLe,"hasCachePoint");function XTt(e){if(e instanceof qh)return!0;for(let t=e.parent;t;t=t.parent)if(t instanceof qh)return!1;return!0}s(XTt,"shouldLookForCachePointInNode");function Xle(e,t){let r;if(e instanceof ZA&&e.has(1)){JTt(e,t);return}let n=XTt(e),i=e.children.map((o,a)=>({chain:[e],index:a}));for(let o=0;o<i.length;o++){let{chain:a,index:l}=i[o],c=a[a.length-1].children[l];if(!(n&&DLe(c)&&(r=void 0,c instanceof Uh))){if(c instanceof ZA&&c.has(4)){let u=[...a,c];i.splice(o+1,0,...c.children.map((f,m)=>({chain:u,index:m})))}else if(!r||c.priority<r.value.priority)r={chain:a,index:l,value:c};else if(c.priority===r.value.priority){r.lowestNested??=_Le(r.value);let u=_Le(c);u<r.lowestNested&&(r={chain:a,index:l,value:c,lowestNested:u})}}}if(!r)throw new bG(e);kLe(r.value)||r.value instanceof ZA&&r.value.has(2)||UC(r.value)&&!r.value.children.length?Ak(r.value,t):Xle(r.value,t)}s(Xle,"removeLowestPriorityChild");var bG=class extends Error{static{s(this,"BudgetExceededError")}constructor(t){let r=[t];for(;r[0].parent;)r.unshift(r[0].parent);let n=r.map(i=>i instanceof qh?i.role:i.name||"(anonymous)");super(`No lowest priority node found (path: ${n.join(" -> ")})`)}};zc.BudgetExceededError=bG;function _Le(e){if(!UC(e))return-1;let t=Number.MAX_SAFE_INTEGER;for(let r of e.children)t=Math.min(t,r.priority);return t}s(_Le,"getLowestPriorityAmongChildren");function*PLe(e){yield*e.metadata;for(let t of e.children)UC(t)?yield*PLe(t):yield*t.metadata}s(PLe,"allMetadata");function NLe(e,t,r){for(let n=0;n<t.length;n++){let i=t[n];if(UC(i)){if(i.id===e){let a=t[n];return r.parent=i.parent,t[n]=r,a}let o=i.replaceNode(e,r);if(o)return o}}}s(NLe,"replaceNode");function*SLe(e){let t=[e];for(;t.length>0;){let r=t.pop();yield r,UC(r)&&t.push(...r.children)}}s(SLe,"forEachNode");function ZTt(e){let t=e;for(;t.parent;)t=t.parent;return t}s(ZTt,"getRoot");function RLe(e){return e instanceof ZA&&e.keepWithId!==void 0}s(RLe,"isKeepWith");var Jle=new Set;function ewt(e,t){let r=new Set;for(let n of SLe(e))RLe(n)&&!Jle.has(n.keepWithId)&&r.add(n.keepWithId);if(r.size===0)return!1;for(let n of r)Jle.add(n);try{let n=ZTt(e);for(let i of SLe(n))RLe(i)&&r.has(i.keepWithId)?Ak(i,t):i instanceof qh&&i.toolCalls&&(i.toolCalls=twt(i.toolCalls,o=>!(o.keepWith&&r.has(o.keepWith.id))),i.isEmpty&&Ak(i,t))}finally{for(let n of r)Jle.delete(n)}}s(ewt,"removeOtherKeepWiths");function Zle(e,t){if(t.id===e)return t;for(let r of t.children)if(UC(r)){let n=Zle(e,r);if(n)return n}}s(Zle,"findNodeById");function Ak(e,t){let r=e.parent;if(!r)return;let n=r.children.indexOf(e);n!==-1&&(r.children.splice(n,1),t.push(e),ewt(e,t),r.isEmpty?Ak(r,t):r.onChunksChange())}s(Ak,"removeNode");function LLe(e){let t={"/9j/":"image/jpeg",iVBOR:"image/png",R0lGOD:"image/gif",UklGR:"image/webp"};for(let r of Object.keys(t))if(e.startsWith(r))return`data:${t[r]};base64,${e}`;return e}s(LLe,"getEncodedBase64");function twt(e,t){for(let r=0;r<e.length;r++){if(t(e[r]))continue;let n=e.slice(0,r);for(let i=r+1;i<e.length;i++)t(e[i])&&n.push(e[i]);return n}return e}s(twt,"filterIfDifferent")});var MLe=H(()=>{"use strict";d();function rwt(e,t,...r){return{ctor:e,props:t,children:r.flat()}}s(rwt,"_vscpp");function FLe(){throw new Error("This should not be invoked!")}s(FLe,"_vscppf");FLe.isFragment=!0;globalThis.vscpp=rwt;globalThis.vscppf=FLe});var rce=H(EG=>{"use strict";d();Object.defineProperty(EG,"__esModule",{value:!0});EG.PromptElement=void 0;MLe();var tce=class{static{s(this,"PromptElement")}props;get priority(){return this.props.priority??Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}constructor(t){this.props=t}};EG.PromptElement=tce});var dce=H(Qi=>{"use strict";d();Object.defineProperty(Qi,"__esModule",{value:!0});Qi.LogicalWrapper=Qi.IfEmpty=Qi.AbstractKeepWith=Qi.TokenLimit=Qi.Expandable=Qi.Chunk=Qi.LegacyPrioritization=Qi.ToolResult=Qi.PrioritizedList=Qi.Image=Qi.TextChunk=Qi.ToolMessage=Qi.AssistantMessage=Qi.UserMessage=Qi.SystemMessage=Qi.BaseChatMessage=void 0;Qi.isChatMessagePromptElement=nwt;Qi.useKeepWith=awt;var Ck=Wh(),um=rce();function nwt(e){return e instanceof IG||e instanceof TG||e instanceof wG}s(nwt,"isChatMessagePromptElement");var kb=class extends um.PromptElement{static{s(this,"BaseChatMessage")}render(){return vscpp(vscppf,null,this.props.children)}};Qi.BaseChatMessage=kb;var IG=class extends kb{static{s(this,"SystemMessage")}constructor(t){t.role=Ck.Raw.ChatRole.System,super(t)}};Qi.SystemMessage=IG;var TG=class extends kb{static{s(this,"UserMessage")}constructor(t){t.role=Ck.Raw.ChatRole.User,super(t)}};Qi.UserMessage=TG;var wG=class extends kb{static{s(this,"AssistantMessage")}constructor(t){t.role=Ck.Raw.ChatRole.Assistant,super(t)}};Qi.AssistantMessage=wG;var iwt=/\s+/g,nce=class extends kb{static{s(this,"ToolMessage")}constructor(t){t.role=Ck.Raw.ChatRole.Tool,super(t)}};Qi.ToolMessage=nce;var _G=class extends um.PromptElement{static{s(this,"TextChunk")}async prepare(t,r,n){let i=this.props.breakOnWhitespace?iwt:this.props.breakOn;if(!i)return vscpp(vscppf,null,this.props.children);let o="",a=[];for(let c of this.props.children||[])if(c&&typeof c=="object"){if(typeof c.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");c.ctor==="br"?o+=`
`:a.push(c)}else c!=null&&(o+=c);let l=await owt(t,i,o,n);return vscpp(vscppf,null,a,l)}render(t){return t}};Qi.TextChunk=_G;async function owt(e,t,r,n){if(t instanceof RegExp){if(!t.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${t})`);t.lastIndex=0}let i="",o=-1;for(;o<r.length;){let a;typeof t=="string"?a=r.indexOf(t,o===-1?0:o+t.length):a=t.exec(r)?.index??-1,a===-1&&(a=r.length);let l=i+r.slice(Math.max(0,o),a);if(await e.countTokens({type:Ck.Raw.ChatCompletionContentPartKind.Text,text:l},n)>e.tokenBudget)return i;i=l,o=a}return i}s(owt,"getTextContentBelowBudget");var ice=class extends um.PromptElement{static{s(this,"Image")}constructor(t){super(t)}render(){return vscpp(vscppf,null,this.props.children)}};Qi.Image=ice;var oce=class extends um.PromptElement{static{s(this,"PrioritizedList")}render(){let{children:t,priority:r=0,descending:n}=this.props;if(t)return vscpp(vscppf,null,t.map((i,o)=>{if(!i)return;let a=n?r-o:r-t.length+o;return typeof i!="object"?vscpp(_G,{priority:a},i):(i.props??={},i.props.priority=a,i)}))}};Qi.PrioritizedList=oce;var sce=class extends um.PromptElement{static{s(this,"ToolResult")}render(){return vscpp(vscppf,null,this.props.data.content.map(t=>{if(t&&typeof t.value=="string")return t.value;if(t&&t.value&&typeof t.value.node=="object")return vscpp("elementJSON",{data:t.value})}))}};Qi.ToolResult=sce;var ace=class extends um.PromptElement{static{s(this,"LegacyPrioritization")}render(){return vscpp(vscppf,null,this.props.children)}};Qi.LegacyPrioritization=ace;var lce=class extends um.PromptElement{static{s(this,"Chunk")}render(){return vscpp(vscppf,null,this.props.children)}};Qi.Chunk=lce;var cce=class extends um.PromptElement{static{s(this,"Expandable")}async render(t,r){return vscpp(vscppf,null,await this.props.value(r))}};Qi.Expandable=cce;var uce=class extends um.PromptElement{static{s(this,"TokenLimit")}render(){return vscpp(vscppf,null,this.props.children)}};Qi.TokenLimit=uce;var SG=class extends um.PromptElement{static{s(this,"AbstractKeepWith")}};Qi.AbstractKeepWith=SG;var swt=0;function awt(){let e=swt++;return class extends SG{static{s(this,"KeepWith")}static id=e;id=e;render(){return vscpp(vscppf,null,this.props.children)}}}s(awt,"useKeepWith");var fce=class extends um.PromptElement{static{s(this,"IfEmpty")}render(){return vscpp(vscppf,null,vscpp(yk,null,this.props.alt),vscpp(yk,{flexGrow:1},this.props.children))}};Qi.IfEmpty=fce;var yk=class extends um.PromptElement{static{s(this,"LogicalWrapper")}render(){return vscpp(vscppf,null,this.props.children)}};Qi.LogicalWrapper=yk});var OLe=H(xk=>{"use strict";d();Object.defineProperty(xk,"__esModule",{value:!0});xk.localize=lwt;xk.localize2=cwt;xk.getConfiguredDefaultLocale=uwt;function QLe(e,t){let r;return t.length===0?r=e:r=e.replace(/\{(\d+)\}/g,function(n,i){let o=i[0];return typeof t[o]<"u"?t[o]:n}),r}s(QLe,"_format");function lwt(e,t,...r){return QLe(t,r)}s(lwt,"localize");function cwt(e,t,...r){let n=QLe(t,r);return{original:n,value:n}}s(cwt,"localize2");function uwt(e){}s(uwt,"getConfiguredDefaultLocale")});var gce=H(rr=>{"use strict";d();Object.defineProperty(rr,"__esModule",{value:!0});rr.isAndroid=rr.isEdge=rr.isSafari=rr.isFirefox=rr.isChrome=rr.OS=rr.setTimeout0=rr.setTimeout0IsFaster=rr.translationsConfigFile=rr.platformLocale=rr.locale=rr.Language=rr.language=rr.userAgent=rr.platform=rr.isCI=rr.isMobile=rr.isIOS=rr.webWorkerOrigin=rr.isWebWorker=rr.isWeb=rr.isElectron=rr.isNative=rr.isLinuxSnap=rr.isLinux=rr.isMacintosh=rr.isWindows=rr.LANGUAGE_DEFAULT=void 0;rr.PlatformToString=dwt;rr.isLittleEndian=mwt;rr.isBigSurOrNewer=hwt;var ULe=OLe();rr.LANGUAGE_DEFAULT="en";var Ek=!1,Ik=!1,bk=!1,HLe=!1,jLe=!1,hce=!1,VLe=!1,pce=!1,$Le=!1,zLe=!1,vk,RG=rr.LANGUAGE_DEFAULT,mce=rr.LANGUAGE_DEFAULT,YLe,e2,t2=globalThis,Of;typeof t2.vscode<"u"&&typeof t2.vscode.process<"u"?Of=t2.vscode.process:typeof process<"u"&&(Of=process);var KLe=typeof Of?.versions?.electron=="string",fwt=KLe&&Of?.type==="renderer";if(typeof Of=="object"){Ek=Of.platform==="win32",Ik=Of.platform==="darwin",bk=Of.platform==="linux",HLe=bk&&!!Of.env.SNAP&&!!Of.env.SNAP_REVISION,VLe=KLe,$Le=!!Of.env.CI||!!Of.env.BUILD_ARTIFACTSTAGINGDIRECTORY,vk=rr.LANGUAGE_DEFAULT,RG=rr.LANGUAGE_DEFAULT;let e=Of.env.VSCODE_NLS_CONFIG;if(e)try{let t=JSON.parse(e),r=t.availableLanguages["*"];vk=t.locale,mce=t.osLocale,RG=r||rr.LANGUAGE_DEFAULT,YLe=t._translationsConfigFile}catch{}jLe=!0}else typeof navigator=="object"&&!fwt?(e2=navigator.userAgent,Ek=e2.indexOf("Windows")>=0,Ik=e2.indexOf("Macintosh")>=0,pce=(e2.indexOf("Macintosh")>=0||e2.indexOf("iPad")>=0||e2.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,bk=e2.indexOf("Linux")>=0,zLe=e2?.indexOf("Mobi")>=0,hce=!0,vk=ULe.getConfiguredDefaultLocale(ULe.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||rr.LANGUAGE_DEFAULT,RG=vk,mce=navigator.language):console.error("Unable to resolve platform.");function dwt(e){switch(e){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}s(dwt,"PlatformToString");var kG=0;Ik?kG=1:Ek?kG=3:bk&&(kG=2);rr.isWindows=Ek;rr.isMacintosh=Ik;rr.isLinux=bk;rr.isLinuxSnap=HLe;rr.isNative=jLe;rr.isElectron=VLe;rr.isWeb=hce;rr.isWebWorker=hce&&typeof t2.importScripts=="function";rr.webWorkerOrigin=rr.isWebWorker?t2.origin:void 0;rr.isIOS=pce;rr.isMobile=zLe;rr.isCI=$Le;rr.platform=kG;rr.userAgent=e2;rr.language=RG;var qLe;(function(e){function t(){return rr.language}s(t,"value"),e.value=t;function r(){return rr.language.length===2?rr.language==="en":rr.language.length>=3?rr.language[0]==="e"&&rr.language[1]==="n"&&rr.language[2]==="-":!1}s(r,"isDefaultVariant"),e.isDefaultVariant=r;function n(){return rr.language==="en"}s(n,"isDefault"),e.isDefault=n})(qLe||(rr.Language=qLe={}));rr.locale=vk;rr.platformLocale=mce;rr.translationsConfigFile=YLe;rr.setTimeout0IsFaster=typeof t2.postMessage=="function"&&!t2.importScripts;rr.setTimeout0=(()=>{if(rr.setTimeout0IsFaster){let e=[];t2.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let o=e[n];if(o.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),o.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),t2.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();rr.OS=Ik||pce?2:Ek?1:3;var WLe=!0,GLe=!1;function mwt(){if(!GLe){GLe=!0;let e=new Uint8Array(2);e[0]=1,e[1]=2,WLe=new Uint16Array(e.buffer)[0]===513}return WLe}s(mwt,"isLittleEndian");rr.isChrome=!!(rr.userAgent&&rr.userAgent.indexOf("Chrome")>=0);rr.isFirefox=!!(rr.userAgent&&rr.userAgent.indexOf("Firefox")>=0);rr.isSafari=!!(!rr.isChrome&&rr.userAgent&&rr.userAgent.indexOf("Safari")>=0);rr.isEdge=!!(rr.userAgent&&rr.userAgent.indexOf("Edg/")>=0);rr.isAndroid=!!(rr.userAgent&&rr.userAgent.indexOf("Android")>=0);function hwt(e){return parseFloat(e)>=20}s(hwt,"isBigSurOrNewer")});var XLe=H(Gg=>{"use strict";d();Object.defineProperty(Gg,"__esModule",{value:!0});Gg.arch=Gg.platform=Gg.env=Gg.cwd=void 0;var JLe=gce(),Bb,Ace=globalThis.vscode;if(typeof Ace<"u"&&typeof Ace.process<"u"){let e=Ace.process;Bb={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"?Bb={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:Bb={get platform(){return JLe.isWindows?"win32":JLe.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};Gg.cwd=Bb.cwd;Gg.env=Bb.env;Gg.platform=Bb.platform;Gg.arch=Bb.arch});var eFe=H(Sr=>{"use strict";d();Object.defineProperty(Sr,"__esModule",{value:!0});Sr.delimiter=Sr.sep=Sr.toNamespacedPath=Sr.parse=Sr.format=Sr.extname=Sr.basename=Sr.dirname=Sr.relative=Sr.resolve=Sr.join=Sr.isAbsolute=Sr.normalize=Sr.posix=Sr.win32=void 0;var _9=XLe(),pwt=65,gwt=97,Awt=90,ywt=122,GC=46,ql=47,Iu=92,qC=58,Cwt=63,BG=class extends Error{static{s(this,"ErrorInvalidArgType")}code;constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let o=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${o} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function xwt(e,t){if(e===null||typeof e!="object")throw new BG(t,"Object",e)}s(xwt,"validateObject");function fa(e,t){if(typeof e!="string")throw new BG(t,"string",e)}s(fa,"validateString");var Tu=_9.platform==="win32";function ai(e){return e===ql||e===Iu}s(ai,"isPathSeparator");function yce(e){return e===ql}s(yce,"isPosixPathSeparator");function WC(e){return e>=pwt&&e<=Awt||e>=gwt&&e<=ywt}s(WC,"isWindowsDeviceRoot");function DG(e,t,r,n){let i="",o=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=ql}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||o!==2||i.charCodeAt(i.length-1)!==GC||i.charCodeAt(i.length-2)!==GC){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",o=0):(i=i.slice(0,f),o=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",o=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",o=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),o=u-a-1;a=u,l=0}else c===GC&&l!==-1?++l:l=-1}return i}s(DG,"normalizeString");function ZLe(e,t){xwt(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}s(ZLe,"_format");Sr.win32={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let o;if(i>=0){if(o=e[i],fa(o,"path"),o.length===0)continue}else t.length===0?o=_9.cwd():(o=_9.env[`=${t}`]||_9.cwd(),(o===void 0||o.slice(0,2).toLowerCase()!==t.toLowerCase()&&o.charCodeAt(2)===Iu)&&(o=`${t}\\`));let a=o.length,l=0,c="",u=!1,f=o.charCodeAt(0);if(a===1)ai(f)&&(l=1,u=!0);else if(ai(f))if(u=!0,ai(o.charCodeAt(1))){let m=2,h=m;for(;m<a&&!ai(o.charCodeAt(m));)m++;if(m<a&&m!==h){let p=o.slice(h,m);for(h=m;m<a&&ai(o.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!ai(o.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${o.slice(h,m)}`,l=m)}}}else l=1;else WC(f)&&o.charCodeAt(1)===qC&&(c=o.slice(0,2),l=2,a>2&&ai(o.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${o.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=DG(r,!n,"\\",ai),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){fa(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,o=e.charCodeAt(0);if(t===1)return yce(o)?"\\":e;if(ai(o))if(i=!0,ai(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!ai(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&ai(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!ai(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else WC(o)&&e.charCodeAt(1)===qC&&(n=e.slice(0,2),r=2,t>2&&ai(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?DG(e.slice(r),!i,"\\",ai):"";return a.length===0&&!i&&(a="."),a.length>0&&ai(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){fa(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return ai(r)||t>2&&WC(r)&&e.charCodeAt(1)===qC&&ai(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let o=0;o<e.length;++o){let a=e[o];fa(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&ai(r.charCodeAt(0))){++i;let o=r.length;o>1&&ai(r.charCodeAt(1))&&(++i,o>2&&(ai(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&ai(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return Sr.win32.normalize(t)},relative(e,t){if(fa(e,"from"),fa(t,"to"),e===t)return"";let r=Sr.win32.resolve(e),n=Sr.win32.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===Iu;)i++;let o=e.length;for(;o-1>i&&e.charCodeAt(o-1)===Iu;)o--;let a=o-i,l=0;for(;l<t.length&&t.charCodeAt(l)===Iu;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===Iu;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let g=e.charCodeAt(i+h);if(g!==t.charCodeAt(l+h))break;g===Iu&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===Iu)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===Iu?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=o;++h)(h===o||e.charCodeAt(h)===Iu)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===Iu&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=Sr.win32.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===Iu){if(t.charCodeAt(1)===Iu){let r=t.charCodeAt(2);if(r!==Cwt&&r!==GC)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(WC(t.charCodeAt(0))&&t.charCodeAt(1)===qC&&t.charCodeAt(2)===Iu)return`\\\\?\\${t}`;return e},dirname(e){fa(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return ai(i)?e:".";if(ai(i)){if(r=n=1,ai(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!ai(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&ai(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!ai(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else WC(i)&&e.charCodeAt(1)===qC&&(r=t>2&&ai(e.charCodeAt(2))?3:2,n=r);let o=-1,a=!0;for(let l=t-1;l>=n;--l)if(ai(e.charCodeAt(l))){if(!a){o=l;break}}else a=!1;if(o===-1){if(r===-1)return".";o=r}return e.slice(0,o)},basename(e,t){t!==void 0&&fa(t,"ext"),fa(e,"path");let r=0,n=-1,i=!0,o;if(e.length>=2&&WC(e.charCodeAt(0))&&e.charCodeAt(1)===qC&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(o=e.length-1;o>=r;--o){let c=e.charCodeAt(o);if(ai(c)){if(!i){r=o+1;break}}else l===-1&&(i=!1,l=o+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=o):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(o=e.length-1;o>=r;--o)if(ai(e.charCodeAt(o))){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(r,n)},extname(e){fa(e,"path");let t=0,r=-1,n=0,i=-1,o=!0,a=0;e.length>=2&&e.charCodeAt(1)===qC&&WC(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(ai(c)){if(!o){n=l+1;break}continue}i===-1&&(o=!1,i=l+1),c===GC?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:ZLe.bind(null,"\\"),parse(e){fa(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return ai(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(ai(i)){if(n=1,ai(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!ai(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&ai(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!ai(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if(WC(i)&&e.charCodeAt(1)===qC){if(r<=2)return t.root=t.dir=e,t;if(n=2,ai(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let o=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),ai(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===GC?o===-1?o=u:f!==1&&(f=1):o!==-1&&(f=-1)}return l!==-1&&(o===-1||f===0||f===1&&o===l-1&&o===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,o),t.base=e.slice(a,l),t.ext=e.slice(o,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null};var vwt=(()=>{if(Tu){let e=/\\/g;return()=>{let t=_9.cwd().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>_9.cwd()})();Sr.posix={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:vwt();fa(i,"path"),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===ql)}return t=DG(t,!r,"/",yce),r?`/${t}`:t.length>0?t:"."},normalize(e){if(fa(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===ql,r=e.charCodeAt(e.length-1)===ql;return e=DG(e,!t,"/",yce),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return fa(e,"path"),e.length>0&&e.charCodeAt(0)===ql},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];fa(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":Sr.posix.normalize(t)},relative(e,t){if(fa(e,"from"),fa(t,"to"),e===t||(e=Sr.posix.resolve(e),t=Sr.posix.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,o=1,a=t.length-o,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(o+u))break;m===ql&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(o+u)===ql)return t.slice(o+u+1);if(u===0)return t.slice(o+u)}else i>l&&(e.charCodeAt(r+u)===ql?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===ql)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(o+c)}`},toNamespacedPath(e){return e},dirname(e){if(fa(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===ql,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===ql){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&fa(t,"ext"),fa(e,"path");let r=0,n=-1,i=!0,o;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(o=e.length-1;o>=0;--o){let c=e.charCodeAt(o);if(c===ql){if(!i){r=o+1;break}}else l===-1&&(i=!1,l=o+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=o):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===ql){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(r,n)},extname(e){fa(e,"path");let t=-1,r=0,n=-1,i=!0,o=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===ql){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===GC?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||n===-1||o===0||o===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:ZLe.bind(null,"/"),parse(e){fa(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===ql,n;r?(t.root="/",n=1):n=0;let i=-1,o=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===ql){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===GC?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=o===0&&r?1:o;i===-1||u===0||u===1&&i===a-1&&i===o+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return o>0?t.dir=e.slice(0,o-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Sr.posix.win32=Sr.win32.win32=Sr.win32;Sr.posix.posix=Sr.win32.posix=Sr.posix;Sr.normalize=Tu?Sr.win32.normalize:Sr.posix.normalize;Sr.isAbsolute=Tu?Sr.win32.isAbsolute:Sr.posix.isAbsolute;Sr.join=Tu?Sr.win32.join:Sr.posix.join;Sr.resolve=Tu?Sr.win32.resolve:Sr.posix.resolve;Sr.relative=Tu?Sr.win32.relative:Sr.posix.relative;Sr.dirname=Tu?Sr.win32.dirname:Sr.posix.dirname;Sr.basename=Tu?Sr.win32.basename:Sr.posix.basename;Sr.extname=Tu?Sr.win32.extname:Sr.posix.extname;Sr.format=Tu?Sr.win32.format:Sr.posix.format;Sr.parse=Tu?Sr.win32.parse:Sr.posix.parse;Sr.toNamespacedPath=Tu?Sr.win32.toNamespacedPath:Sr.posix.toNamespacedPath;Sr.sep=Tu?Sr.win32.sep:Sr.posix.sep;Sr.delimiter=Tu?Sr.win32.delimiter:Sr.posix.delimiter});var aFe=H(S9=>{"use strict";d();Object.defineProperty(S9,"__esModule",{value:!0});S9.URI=void 0;S9.isUriComponents=Rwt;S9.uriToFsPath=FG;var tFe=eFe(),NG=gce(),bwt=/^\w[\w\d+.-]*$/,Ewt=/^\//,Iwt=/^\/\//;function Twt(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!bwt.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!Ewt.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Iwt.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}s(Twt,"_validateUri");function wwt(e,t){return!e&&!t?"file":e}s(wwt,"_schemeFix");function _wt(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Gh&&(t=Gh+t):t=Gh;break}return t}s(_wt,"_referenceResolution");var jo="",Gh="/",Swt=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,LG=class e{static{s(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}scheme;authority;path;query;fragment;constructor(t,r,n,i,o,a=!1){typeof t=="object"?(this.scheme=t.scheme||jo,this.authority=t.authority||jo,this.path=t.path||jo,this.query=t.query||jo,this.fragment=t.fragment||jo):(this.scheme=wwt(t,a),this.authority=r||jo,this.path=_wt(this.scheme,n||jo),this.query=i||jo,this.fragment=o||jo,Twt(this,a))}get fsPath(){return FG(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:o,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=jo),n===void 0?n=this.authority:n===null&&(n=jo),i===void 0?i=this.path:i===null&&(i=jo),o===void 0?o=this.query:o===null&&(o=jo),a===void 0?a=this.fragment:a===null&&(a=jo),r===this.scheme&&n===this.authority&&i===this.path&&o===this.query&&a===this.fragment?this:new HC(r,n,i,o,a)}static parse(t,r=!1){let n=Swt.exec(t);return n?new HC(n[2]||jo,PG(n[4]||jo),PG(n[5]||jo),PG(n[7]||jo),PG(n[9]||jo),r):new HC(jo,jo,jo,jo,jo)}static file(t){let r=jo;if(NG.isWindows&&(t=t.replace(/\\/g,Gh)),t[0]===Gh&&t[1]===Gh){let n=t.indexOf(Gh,2);n===-1?(r=t.substring(2),t=Gh):(r=t.substring(2,n),t=t.substring(n)||Gh)}return new HC("file",r,t,jo,jo)}static from(t,r){return new HC(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return NG.isWindows&&t.scheme==="file"?n=e.file(tFe.win32.join(FG(t,!0),...r)).path:n=tFe.posix.join(t.path,...r),t.with({path:n})}toString(t=!1){return Cce(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new HC(t);return r._formatted=t.external??null,r._fsPath=t._sep===iFe?t.fsPath??null:null,r}}else return t}};S9.URI=LG;function Rwt(e){return!e||typeof e!="object"?!1:typeof e.scheme=="string"&&(typeof e.authority=="string"||typeof e.authority>"u")&&(typeof e.path=="string"||typeof e.path>"u")&&(typeof e.query=="string"||typeof e.query>"u")&&(typeof e.fragment=="string"||typeof e.fragment>"u")}s(Rwt,"isUriComponents");var iFe=NG.isWindows?1:void 0,HC=class extends LG{static{s(this,"Uri")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=FG(this,!1)),this._fsPath}toString(t=!1){return t?Cce(this,!0):(this._formatted||(this._formatted=Cce(this,!1)),this._formatted)}toJSON(){let t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=iFe),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t}},oFe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function rFe(e,t,r){let n,i=-1;for(let o=0;o<e.length;o++){let a=e.charCodeAt(o);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,o)),i=-1),n!==void 0&&(n+=e.charAt(o));else{n===void 0&&(n=e.substr(0,o));let l=oFe[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,o)),i=-1),n+=l):i===-1&&(i=o)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}s(rFe,"encodeURIComponentFast");function kwt(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=oFe[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}s(kwt,"encodeURIComponentMinimal");function FG(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,NG.isWindows&&(r=r.replace(/\//g,"\\")),r}s(FG,"uriToFsPath");function Cce(e,t){let r=t?kwt:rFe,n="",{scheme:i,authority:o,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(o||i==="file")&&(n+=Gh,n+=Gh),o){let u=o.indexOf("@");if(u!==-1){let f=o.substr(0,u);o=o.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}o=o.toLowerCase(),u=o.lastIndexOf(":"),u===-1?n+=r(o,!1,!0):(n+=r(o.substr(0,u),!1,!0),n+=o.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:rFe(c,!1,!1)),n}s(Cce,"_asFormatted");function sFe(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+sFe(e.substr(3)):e}}s(sFe,"decodeURIComponentGraceful");var nFe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function PG(e){return e.match(nFe)?e.replace(nFe,t=>sFe(t)):e}s(PG,"percentDecode")});var bce=H(jC=>{"use strict";d();Object.defineProperty(jC,"__esModule",{value:!0});jC.PromptReference=jC.ChatResponseReferencePartStatusKind=jC.PromptMetadata=void 0;var Tk=aFe(),xce=class{static{s(this,"PromptMetadata")}_marker;toString(){return Object.getPrototypeOf(this).constructor.name}};jC.PromptMetadata=xce;var lFe;(function(e){e[e.Complete=1]="Complete",e[e.Partial=2]="Partial",e[e.Omitted=3]="Omitted"})(lFe||(jC.ChatResponseReferencePartStatusKind=lFe={}));var vce=class e{static{s(this,"PromptReference")}anchor;iconPath;options;static fromJSON(t){let r=s(n=>"scheme"in n?Tk.URI.from(n):{uri:Tk.URI.from(n.uri),range:n.range},"uriOrLocation");return new e("variableName"in t.anchor?{variableName:t.anchor.variableName,value:t.anchor.value&&r(t.anchor.value)}:r(t.anchor),t.iconPath&&("scheme"in t.iconPath?Tk.URI.from(t.iconPath):"light"in t.iconPath?{light:Tk.URI.from(t.iconPath.light),dark:Tk.URI.from(t.iconPath.dark)}:t.iconPath),t.options)}constructor(t,r,n){this.anchor=t,this.iconPath=r,this.options=n}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}};jC.PromptReference=vce});var Bce=H(k9=>{"use strict";d();Object.defineProperty(k9,"__esModule",{value:!0});k9.PromptRenderer=k9.MetadataMap=void 0;var Bwt=Yle(),wk=ece(),R9=MC(),Da=dce(),kce=bce(),cFe;(function(e){e.empty={get:s(()=>{},"get"),getAll:s(()=>[],"getAll")}})(cFe||(k9.MetadataMap=cFe={}));var Ice=class{static{s(this,"PromptRenderer")}_endpoint;_ctor;_props;_tokenizer;_usedContext=[];_ignoredFiles=[];_growables=[];_root=new QG(null,0);_tokenLimits=[];tracer=void 0;constructor(t,r,n,i){this._endpoint=t,this._ctor=r,this._props=n,this._tokenizer=i}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(t){return new t.ctor(t.props)}async _processPromptPieces(t,r,n,i){let o=new Map;for(let[c,u]of r.entries()){if(Array.isArray(u.children)&&(u.props=u.props??{},u.props.children=u.children),!u.ctor){let g=mFe(u.path);throw new Error(`Invalid ChatMessage child! Child must be a TSX component that extends PromptElement at ${g}`)}let f=this.createElement(u),m;f instanceof Da.TokenLimit&&(m=u.props.max,this._tokenLimits.push({limit:m,id:u.node.id})),u.node.setObj(f);let h=u.props.flexGrow??1/0,p=o.get(h);p||(p=[],o.set(h,p)),p.push({element:u,promptElementInstance:f,tokenLimit:m})}if(o.size===0)return;let a=[...o.entries()].sort(([c],[u])=>u-c).map(([c,u])=>u),l=s(c=>{let u=0;for(let f=c+1;f<a.length;f++)for(let{element:m}of a[f]){if(!m.props.flexReserve)continue;let h=typeof m.props.flexReserve=="string"?Math.floor(t.remainingTokenBudget/Number(m.props.flexReserve.slice(1))):m.props.flexReserve;u+=h}return t.consume(u),u},"setReserved");for(let[c,u]of a.entries()){let f=l(c),m=0;for(let{element:x}of u)m+=x.props.flexBasis??1;let h=0,p=u.map(x=>{if(x.tokenLimit===void 0)return!1;let b=x.element.props.flexBasis??1,E=b/m;return Math.floor(t.remainingTokenBudget*E)<x.tokenLimit?!1:(m-=b,h+=x.tokenLimit,!0)}),g=u.map((x,b)=>{let E=(x.element.props.flexBasis??1)/m;return{tokenBudget:p[b]?x.tokenLimit:Math.floor((t.remainingTokenBudget-h)*E),endpoint:t.endpoint,countTokens:s((_,k)=>this._tokenizer.tokenLength(typeof _=="string"?{type:R9.Raw.ChatCompletionContentPartKind.Text,text:_}:_,k),"countTokens")}});t.consume(-f),this.tracer?.addRenderEpoch?.({inNode:u[0].element.node.parent?.id,flexValue:u[0].element.props.flexGrow??0,tokenBudget:t.remainingTokenBudget,reservedTokens:f,elements:u.map((x,b)=>({id:x.element.node.id,tokenBudget:g[b].tokenBudget}))}),await Promise.all(u.map(async({element:x,promptElementInstance:b},E)=>{let _=await fFe(x,()=>b.prepare?.(g[E],n,i));x.node.setState(_)}));let y=await Promise.all(u.map(async({element:x,promptElementInstance:b},E)=>{let _=g[E];return await fFe(x,()=>b.render(x.node.getState(),_,n,i))}));for(let[x,{element:b,promptElementInstance:E}]of u.entries()){let _=g[x],k=y[x];if(!k)continue;let B=await this._processPromptRenderPiece(new Db(_.tokenBudget,this._endpoint),b,E,k,n,i);E instanceof Da.Expandable&&this._growables.push({initialConsume:B,elem:b.node}),t.consume(B)}}}async _processPromptRenderPiece(t,r,n,i,o,a){let l=dFe(i),c=new Db(t.tokenBudget,this._endpoint),{tokensConsumed:u}=await Dwt(this._tokenizer,r,n,l);return c.consume(u),await this._handlePromptChildren(r,l,c,o,a),c.consumed}async renderElementJSON(t){return await this._processPromptPieces(new Db(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[],path:[this._ctor]}],void 0,t),{node:this._root.toJSON()}}async render(t,r){let n=await this.renderRaw(t,r);return{...n,messages:(0,R9.toMode)(this._tokenizer.mode,n.messages)}}async renderRaw(t,r){await this._processPromptPieces(new Db(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[],path:[this._ctor]}],t,r);let{container:n,allMetadata:i,removed:o}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,r);this.tracer?.didMaterializeTree?.({budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:n,removed:o,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:s(h=>this._getFinalElementTree(h,void 0).then(p=>({...p,budget:h})),"renderTree")});let a=[...n.toChatMessages()],l=await n.tokenCount(this._tokenizer),c=[...n.allMetadata()],u=new Set,f=c.map(h=>{if(!(h instanceof Hg))return;let p=h.reference,g="variableName"in p.anchor;if(g&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!g)return p}).filter(OG),m=i.map(h=>{if(!(h instanceof Hg)||c.includes(h))return;let p=h.reference,g="variableName"in p.anchor;if(g&&!u.has(p.anchor.variableName))return u.add(p.anchor.variableName),p;if(!g)return p}).filter(OG);return{metadata:{get:s(h=>c.find(p=>p instanceof h),"get"),getAll:s(h=>c.filter(p=>p instanceof h),"getAll")},messages:a,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:l,references:f,omittedReferences:m}}async _getFinalElementTree(t,r){let n=this._root.materialize(),i=[...n.allMetadata()],o=[{limit:t,id:this._root.id},...this._tokenLimits],a=0;for(let l=o.length-1;l>=0;l--){let c=o[l];if(c.limit>t)continue;let u=n.findById(c.id);if(!u)continue;let f=await u.tokenCount(this._tokenizer);if(f<c.limit&&!await this._grow(u,f,c.limit,r))continue;let m=await u.tokenCount(this._tokenizer);for(;m>c.limit;){let h=await u.baseMessageTokenCount(this._tokenizer);do for(let p of u.removeLowestPriorityChild()){a++;let g=p.upperBoundTokenCount(this._tokenizer);m-=typeof g=="number"?g:await g}while(m-h>c.limit);m=await u.tokenCount(this._tokenizer)}}return{container:n,allMetadata:i,removed:a}}async _grow(t,r,n,i){if(!this._growables.length)return!1;for(let o of this._growables){if(!t.findById(o.elem.id))continue;let a=o.elem.getObj();if(!(a instanceof Da.Expandable))throw new Error("unreachable: expected growable");let l=new QG(null,0,o.elem.id),c=new Db(n-r+o.initialConsume,this._endpoint),u=await this._processPromptRenderPiece(c,{node:l,ctor:this._ctor,props:{},children:[],path:[this._ctor]},a,await a.render(void 0,{tokenBudget:c.tokenBudget,endpoint:this._endpoint,countTokens:s((h,p)=>this._tokenizer.tokenLength(typeof h=="string"?{type:R9.Raw.ChatCompletionContentPartKind.Text,text:h}:h,p),"countTokens")}),void 0,i),f=l.materialize();if(!t.replaceNode(o.elem.id,f))throw new Error("unreachable: could not find old element to replace");if(r-=o.initialConsume,r+=u,r>=n)break}return!0}_handlePromptChildren(t,r,n,i,o){if(t.ctor===Da.TextChunk){this._handleExtrinsicTextChunkChildren(t.node,t.node,t.props,r);return}let a=[];for(let l of r){if(l.kind==="literal"){t.node.appendStringChild(l.value,t.props.priority??Number.MAX_SAFE_INTEGER);continue}if(l.kind==="intrinsic"){this._handleIntrinsic(t.node,l.name,{priority:t.props.priority??Number.MAX_SAFE_INTEGER,...l.props},MG(l.children));continue}let c=t.node.createChild();a.push({node:c,ctor:l.ctor,props:l.props,children:l.children,path:[...t.path,l.ctor]})}return this._processPromptPieces(n,a,i,o)}_handleIntrinsic(t,r,n,i,o){switch(r){case"meta":return this._handleIntrinsicMeta(t,n,i);case"br":return this._handleIntrinsicLineBreak(t,n,i,n.priority,o);case"usedContext":return this._handleIntrinsicUsedContext(t,n,i);case"references":return this._handleIntrinsicReferences(t,n,i);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(t,n,i);case"elementJSON":return this._handleIntrinsicElementJSON(t,n.data);case"cacheBreakpoint":return this._handleIntrinsicCacheBreakpoint(t,n,i,o)}throw new Error(`Unknown intrinsic element ${r}!`)}_handleIntrinsicCacheBreakpoint(t,r,n,i){if(n.length>0)throw new Error("<cacheBreakpoint /> must not have children!");t.addCacheBreakpoint(r,i)}_handleIntrinsicMeta(t,r,n){if(n.length>0)throw new Error("<meta /> must not have children!");r.local?t.addMetadata(r.value):this._root.addMetadata(r.value)}_handleIntrinsicLineBreak(t,r,n,i,o){if(n.length>0)throw new Error("<br /> must not have children!");t.appendLineBreak(i??Number.MAX_SAFE_INTEGER,o)}_handleIntrinsicElementJSON(t,r){let n=t.appendPieceJSON(r.node);if(this.tracer?.includeInEpoch)for(let i of n.elements())this.tracer.includeInEpoch({id:i.id,tokenBudget:0})}_handleIntrinsicUsedContext(t,r,n){if(n.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...r.value)}_handleIntrinsicReferences(t,r,n){if(n.length>0)throw new Error("<reference /> must not have children!");for(let i of r.value)t.addMetadata(new Hg(i))}_handleIntrinsicIgnoredFiles(t,r,n){if(n.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...r.value)}_handleExtrinsicTextChunkChildren(t,r,n,i){let o=[],a=[];for(let l of i){if(l.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if(l.kind==="literal"&&o.push(l.value),l.kind==="intrinsic")if(l.name==="br")o.push(`
`);else if(l.name==="references")for(let c of l.props.value)a.push(new Hg(c));else this._handleIntrinsic(t,l.name,l.props,MG(l.children),r.childIndex)}t.appendStringChild(o.join(""),n?.priority??Number.MAX_SAFE_INTEGER,a,r.childIndex,!0)}};k9.PromptRenderer=Ice;async function Dwt(e,t,r,n){let i=0;if((0,Da.isChatMessagePromptElement)(r)){let o={role:t.props.role,content:[],...t.props.name?{name:t.props.name}:void 0,...t.props.toolCalls?{toolCalls:t.props.toolCalls}:void 0,...t.props.toolCallId?{toolCallId:t.props.toolCallId}:void 0};i+=await e.countMessageTokens((0,R9.toMode)(e.mode,o))}for(let o of n)o.kind==="literal"&&(i+=await e.tokenLength({type:R9.Raw.ChatCompletionContentPartKind.Text,text:o.value}));return{tokensConsumed:i}}s(Dwt,"computeTokensConsumedByLiterals");function dFe(e,t=[]){return typeof e>"u"||typeof e=="boolean"?[]:(typeof e=="string"||typeof e=="number"?t.push(new _ce(String(e))):Pwt(e)?MG(e.children,t):Nwt(e)?MG(e,t):typeof e.ctor=="string"?t.push(new Tce(e.ctor,e.props,e.children)):t.push(new wce(e.ctor,e.props,e.children)),t)}s(dFe,"flattenAndReduce");function MG(e,t=[]){for(let r of e)dFe(r,t);return t}s(MG,"flattenAndReduceArr");var Tce=class{static{s(this,"IntrinsicPromptPiece")}name;props;children;kind="intrinsic";constructor(t,r,n){this.name=t,this.props=r,this.children=n}},wce=class{static{s(this,"ExtrinsicPromptPiece")}ctor;props;children;kind="extrinsic";constructor(t,r,n){this.ctor=t,this.props=r,this.children=n}},_ce=class{static{s(this,"LiteralPromptPiece")}value;priority;kind="literal";constructor(t,r){this.value=t,this.priority=r}},Db=class{static{s(this,"PromptSizingContext")}tokenBudget;endpoint;_consumed=0;constructor(t,r){this.tokenBudget=t,this.endpoint=r}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(t){this._consumed+=t}},QG=class e{static{s(this,"PromptTreeElement")}parent;childIndex;id;static _nextId=0;static fromJSON(t,r,n){let i=new e(null,t);switch(i._metadata=r.references?.map(o=>new Hg(kce.PromptReference.fromJSON(o)))??[],i._children=r.children.map((o,a)=>{switch(o.type){case 1:return e.fromJSON(a,o,n);case 2:return _k.fromJSON(i,a,o);default:}}).filter(OG),r.ctor){case 1:i._objFlags=r.flags??0,i._obj=new Da.BaseChatMessage(r.props);break;case 2:{if(r.keepWithId!==void 0){let o=n.get(r.keepWithId);o||(o=(0,Da.useKeepWith)(),n.set(r.keepWithId,o)),i._obj=new o(r.props||{})}else i._obj=new Da.LogicalWrapper(r.props||{});i._objFlags=r.flags??0;break}case 3:i._obj=new Da.Image(r.props);break;default:}return i}kind=1;_obj=null;_state=void 0;_children=[];_metadata=[];_objFlags=0;constructor(t=null,r,n=e._nextId++){this.parent=t,this.childIndex=r,this.id=n}setObj(t){this._obj=t,this._obj instanceof Da.LegacyPrioritization&&(this._objFlags|=1),this._obj instanceof Da.Chunk&&(this._objFlags|=2),this._obj instanceof Da.IfEmpty&&(this._objFlags|=8),this._obj.props.passPriority&&(this._objFlags|=4)}getObj(){return this._obj}setState(t){this._state=t}getState(){return this._state}createChild(){let t=new e(this,this._children.length);return this._children.push(t),t}appendPieceJSON(t){let r=e.fromJSON(this._children.length,t,new Map);return this._children.push(r),r}appendStringChild(t,r,n,i=this._children.length,o=!1){this._children.push(new _k(this,i,t,r,n,o))}appendLineBreak(t,r=this._children.length){this._children.push(new _k(this,r,`
`,t))}toJSON(){let t={type:1,ctor:2,ctorName:this._obj?.constructor.name,children:this._children.slice().sort((r,n)=>r.childIndex-n.childIndex).map(r=>r.toJSON()).filter(OG),props:{},references:this._metadata.filter(r=>r instanceof Hg).map(r=>r.reference.toJSON())};if(this._obj&&(t.props=Ece(this._obj.props,Bwt.jsonRetainedProps)),this._obj instanceof Da.BaseChatMessage)t.ctor=1,Object.assign(t.props,Ece(this._obj.props,["role","name","toolCalls","toolCallId"]));else{if(this._obj instanceof Da.Image)return{...t,ctor:3,props:{...t.props,...Ece(this._obj.props,["src","detail"])}};this._obj instanceof Da.AbstractKeepWith&&(t.keepWithId=this._obj.id)}return this._objFlags!==0&&(t.flags=this._objFlags),t}materialize(t){if(this._children.sort((r,n)=>r.childIndex-n.childIndex),this._obj instanceof Da.Image)return new wk.MaterializedChatMessageImage(t,this.id,this._obj.props.src,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,0,this._obj.props.detail??void 0);if(this._obj instanceof Da.BaseChatMessage){if(this._obj.props.role===void 0||typeof this._obj.props.role!="number")throw new Error("Invalid ChatMessage!");return new wk.MaterializedChatMessage(t,this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof Da.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof Da.ToolMessage?this._obj.props.toolCallId:void 0,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,r=>this._children.map(n=>n.materialize(r)))}else{let r=new wk.GenericMaterializedContainer(t,this.id,this._obj?.constructor.name,this._obj?.props.priority??(this._obj?.props.passPriority?0:Number.MAX_SAFE_INTEGER),n=>this._children.map(i=>i.materialize(n)),this._metadata,this._objFlags);return this._obj instanceof Da.AbstractKeepWith&&(r.keepWithId=this._obj.id),r}}addMetadata(t){this._metadata.push(t)}addCacheBreakpoint(t,r=this._children.length){if(!(this._obj instanceof Da.BaseChatMessage))throw new Error("Cache breakpoints may only be direct children of chat messages");this._children.push(new Sce({type:R9.Raw.ChatCompletionContentPartKind.CacheBreakpoint,cacheType:t.type},r))}*elements(){yield this;for(let t of this._children)t instanceof e&&(yield*t.elements())}},Sce=class{static{s(this,"PromptCacheBreakpoint")}part;childIndex;constructor(t,r){this.part=t,this.childIndex=r}toJSON(){}materialize(t){return new wk.MaterializedChatMessageBreakpoint(t,this.part)}},_k=class e{static{s(this,"PromptText")}parent;childIndex;text;priority;metadata;lineBreakBefore;static fromJSON(t,r,n){return new e(t,r,n.text,n.priority,n.references?.map(i=>new Hg(kce.PromptReference.fromJSON(i))),n.lineBreakBefore)}kind=2;constructor(t,r,n,i,o,a=!1){this.parent=t,this.childIndex=r,this.text=n,this.priority=i,this.metadata=o,this.lineBreakBefore=a}collectLeafs(t){t.push(this)}materialize(t){let r=this.lineBreakBefore?1:this.childIndex===0?2:0;return new wk.MaterializedChatMessageTextChunk(t,this.text,this.priority??Number.MAX_SAFE_INTEGER,this.metadata||[],r)}toJSON(){return{type:2,priority:this.priority,text:this.text,references:this.metadata?.filter(t=>t instanceof Hg).map(t=>t.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}};function Pwt(e){return(typeof e.ctor=="function"&&e.ctor.isFragment)??!1}s(Pwt,"isFragmentCtor");function OG(e){return e!==void 0}s(OG,"isDefined");var Rce=class extends kce.PromptMetadata{static{s(this,"InternalMetadata")}},Hg=class extends Rce{static{s(this,"ReferenceMetadata")}reference;constructor(t){super(),this.reference=t}};function Nwt(e){return!!e&&typeof e[Symbol.iterator]=="function"}s(Nwt,"isIterable");function Ece(e,t){let r={};for(let n of t)e.hasOwnProperty(n)&&(r[n]=e[n]);return r}s(Ece,"pickProps");function mFe(e){return e.map(t=>typeof t=="string"?t:t?t.name||"<anonymous>":String(t)).join(" > ")}s(mFe,"atPath");var uFe=new WeakSet;async function fFe(e,t){try{return await t()}catch(r){throw r instanceof Error&&!uFe.has(r)&&r.constructor.name!=="CancellationError"&&(uFe.add(r),r.message+=` (at tsx element ${mFe(e.path)})`),r}}s(fFe,"annotateError")});var hFe=H(UG=>{"use strict";d();Object.defineProperty(UG,"__esModule",{value:!0});UG.VSCodeTokenizer=void 0;var Dce=MC(),Pce=class{static{s(this,"VSCodeTokenizer")}countTokens;mode=Dce.OutputMode.VSCode;constructor(t,r){if(this.countTokens=t,r!==Dce.OutputMode.VSCode)throw new Error("`mode` must be set to vscode when using vscode.LanguageModelChat as the tokenizer")}async tokenLength(t,r){return t.type===Dce.Raw.ChatCompletionContentPartKind.Text?this.countTokens(t.text,r):Promise.resolve(0)}async countMessageTokens(t){return this.countTokens(t)}};UG.VSCodeTokenizer=Pce});var pFe=H(B9=>{"use strict";d();Object.defineProperty(B9,"__esModule",{value:!0});B9.tracerCss=B9.tracerSrc=void 0;B9.tracerSrc='"use strict";(()=>{var $,m,se,Ue,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function N(t){return t.children}function B(t,e){this.props=t,this.context=e}function I(t,e){if(e==null)return t.__?I(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?I(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??I(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,x,C=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,C),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:C[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),x==null&&b!=null&&(x=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=x}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(N,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=I(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=I(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,x,C,h,v,H,M,P,F,oe,z,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?C=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(U){U&&(U.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,x)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),z=0;z<i._sb.length;z++)i.__h.push(i._sb[z]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(x=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===N&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),C&&(i.__E=i.__=null)}catch(U){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(U,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,x,C=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)C===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),C=n.props||D,!a&&_!=null)for(C={},s=0;s<t.attributes.length;s++)C[(d=t.attributes[s]).name]=d.value;for(s in C)if(d=C[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?x=d:a&&typeof d!="function"||C[s]===d||A(t,s,d,C[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&I(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==C[s])&&A(t,s,b,C[s],r),s="checked",x!==void 0&&x!==t[s]&&A(t,s,x,C[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(N,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,Ue=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=N,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,Ce=y.diffed,xe=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ne,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ne(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ie(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ie(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){Ce&&Ce(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),xe&&xe(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ie(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ne(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(N,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var ze=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(ze,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(ze,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n';B9.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`});var xFe=H(WG=>{"use strict";d();Object.defineProperty(WG,"__esModule",{value:!0});WG.HTMLTracer=void 0;var gFe=pFe(),Pb=ece(),Lwt=MC(),Nce=class{static{s(this,"HTMLTracer")}traceData;epochs=[];addRenderEpoch(t){this.epochs.push(t)}includeInEpoch(t){this.epochs[this.epochs.length-1].elements.push(t)}didMaterializeTree(t){this.traceData=t}async serveHTML(){return Lce.create({epochs:this.epochs,traceData:yFe(this.traceData)})}serveRouter(t){return new qG({baseAddress:t,epochs:this.epochs,traceData:yFe(this.traceData)})}};WG.HTMLTracer=Nce;var qG=class{static{s(this,"RequestRouter")}opts;serverToken=crypto.randomUUID();constructor(t){this.opts=t}route(t,r){let n=t,i=r,o=new URL(n.url||"/","http://localhost"),a=`/${this.serverToken}`;switch(o.pathname){case a:case`${a}/`:this.onRoot(o,n,i);break;case`${a}/regen`:this.onRegen(o,n,i);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){let{traceData:t,epochs:r}=this.opts;return`<body>
			<style>${gFe.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(t.budget)};
				const EPOCHS = ${JSON.stringify(r)};
				const DEFAULT_MODEL = ${JSON.stringify(await AFe(t.tokenizer,t.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${gFe.tracerSrc}
			</script>
		</body>`}async onRegen(t,r,n){let{traceData:i}=this.opts,o=Number(t.searchParams.get("n")||i.budget),a=await i.renderTree(o),l=await AFe(i.tokenizer,a),c=JSON.stringify(l);n.setHeader("Content-Type","application/json"),n.setHeader("Content-Length",Buffer.byteLength(c)),n.end(c)}onRoot(t,r,n){this.getHTML().then(i=>{n.setHeader("Content-Type","text/html"),n.setHeader("Content-Length",Buffer.byteLength(i)),n.end(i)})}},Lce=class e extends qG{static{s(this,"RequestServer")}server;static async create(t){let{createServer:r}=await Promise.resolve().then(()=>require("http")),n=r((a,l)=>{try{o.route(a,l)||(l.statusCode=404,l.end("Not Found"))}catch(c){l.statusCode=500,l.end(String(c))}}),i=await new Promise((a,l)=>{n.listen(0,"127.0.0.1",()=>a(n.address().port)).on("error",l)}),o=new e({...t,baseAddress:`http://127.0.0.1:${i}`},n);return o}constructor(t,r){super(t),this.server=r}dispose(){this.server.closeAllConnections(),this.server.close()}};async function AFe(e,t){return{container:await CFe(e,t.container,!1),removed:t.removed,budget:t.budget}}s(AFe,"serializeRenderData");async function CFe(e,t,r){let n={metadata:t.metadata.map(Mwt),priority:t.priority};if(t instanceof Pb.MaterializedChatMessageTextChunk)return{...n,type:2,value:t.text,tokens:await t.upperBoundTokenCount(e)};if(t instanceof Pb.MaterializedChatMessageImage)return{...n,name:t.id.toString(),id:t.id,type:3,value:t.src,tokens:await t.upperBoundTokenCount(e)};if(t instanceof Pb.MaterializedChatMessageOpaque||t instanceof Pb.MaterializedChatMessageBreakpoint)return;{let i={...n,id:t.id,name:t.name,children:(await Promise.all(t.children.map(o=>CFe(e,o,r||t instanceof Pb.MaterializedChatMessage)))).filter(o=>!!o),tokens:r?await t.upperBoundTokenCount(e):await t.tokenCount(e)};if(t instanceof Pb.GenericMaterializedContainer)return{...i,type:0};if(t instanceof Pb.MaterializedChatMessage){let o=t.text.filter(a=>typeof a=="string").join("").trim();return{...i,type:1,role:Lwt.Raw.ChatRole.display(t.role),text:o}}}Fwt(t)}s(CFe,"serializeMaterialized");function Fwt(e){throw new Error("unreachable")}s(Fwt,"assertNever");function Mwt(e){return{name:e.constructor.name,value:JSON.stringify(e)}}s(Mwt,"serializeMetadata");var yFe=s(e=>{if(e===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return e},"mustGet")});var bFe=H(vFe=>{"use strict";d();Object.defineProperty(vFe,"__esModule",{value:!0})});var IFe=H(EFe=>{"use strict";d();Object.defineProperty(EFe,"__esModule",{value:!0})});var wFe=H(TFe=>{"use strict";d();Object.defineProperty(TFe,"__esModule",{value:!0})});var Wh=H(Is=>{"use strict";d();var Qwt=Is&&Is.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return t[r]},"get")}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Nb=Is&&Is.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Qwt(t,e,r)};Object.defineProperty(Is,"__esModule",{value:!0});Is.contentType=Is.PromptRenderer=Is.MetadataMap=Is.PromptElement=Is.JSONTree=void 0;Is.renderPrompt=qwt;Is.renderElementJSON=Wwt;var Fce=MC(),_Fe=Bce(),Owt=hFe();Nb(xFe(),Is);Is.JSONTree=Yle();Nb(MC(),Is);Nb(dce(),Is);Nb(bce(),Is);Nb(bFe(),Is);Nb(IFe(),Is);Nb(wFe(),Is);var Uwt=rce();Object.defineProperty(Is,"PromptElement",{enumerable:!0,get:s(function(){return Uwt.PromptElement},"get")});var SFe=Bce();Object.defineProperty(Is,"MetadataMap",{enumerable:!0,get:s(function(){return SFe.MetadataMap},"get")});Object.defineProperty(Is,"PromptRenderer",{enumerable:!0,get:s(function(){return SFe.PromptRenderer},"get")});async function qwt(e,t,r,n,i,o,a=Fce.OutputMode.VSCode){let l="countTokens"in n?new Owt.VSCodeTokenizer((m,h)=>n.countTokens(m,h),a):n,c=new _Fe.PromptRenderer(r,e,t,l),u=await c.render(i,o),f=c.getUsedContext();return{...u,usedContext:f}}s(qwt,"renderPrompt");Is.contentType="application/vnd.codechat.prompt+json.1";function Wwt(e,t,r,n){return new _Fe.PromptRenderer({modelMaxPromptTokens:r?.tokenBudget??Number.MAX_SAFE_INTEGER},e,t,{mode:Fce.OutputMode.Raw,countMessageTokens(o){throw new Error("Tools may only return text, not messages.")},tokenLength(o,a){return o.type===Fce.Raw.ChatCompletionContentPartKind.Text?Promise.resolve(r?.countTokens(o.text,a)??Promise.resolve(1)):Promise.resolve(1)}}).renderElementJSON(n)}s(Wwt,"renderElementJSON")});var iB=H((Iyn,TQe)=>{d();var K_t="2.0.0",J_t=Number.MAX_SAFE_INTEGER||9007199254740991,X_t=16,Z_t=250,eSt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];TQe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:X_t,MAX_SAFE_BUILD_LENGTH:Z_t,MAX_SAFE_INTEGER:J_t,RELEASE_TYPES:eSt,SEMVER_SPEC_VERSION:K_t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var oB=H((wyn,wQe)=>{d();var tSt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};wQe.exports=tSt});var aT=H((n1,_Qe)=>{d();var{MAX_SAFE_COMPONENT_LENGTH:nue,MAX_SAFE_BUILD_LENGTH:rSt,MAX_LENGTH:nSt}=iB(),iSt=oB();n1=_Qe.exports={};var oSt=n1.re=[],sSt=n1.safeRe=[],Nr=n1.src=[],aSt=n1.safeSrc=[],Lr=n1.t={},lSt=0,iue="[a-zA-Z0-9-]",cSt=[["\\s",1],["\\d",nSt],[iue,rSt]],uSt=s(e=>{for(let[t,r]of cSt)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},"makeSafeRegex"),Zn=s((e,t,r)=>{let n=uSt(t),i=lSt++;iSt(e,i,t),Lr[e]=i,Nr[i]=t,aSt[i]=n,oSt[i]=new RegExp(t,r?"g":void 0),sSt[i]=new RegExp(n,r?"g":void 0)},"createToken");Zn("NUMERICIDENTIFIER","0|[1-9]\\d*");Zn("NUMERICIDENTIFIERLOOSE","\\d+");Zn("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${iue}*`);Zn("MAINVERSION",`(${Nr[Lr.NUMERICIDENTIFIER]})\\.(${Nr[Lr.NUMERICIDENTIFIER]})\\.(${Nr[Lr.NUMERICIDENTIFIER]})`);Zn("MAINVERSIONLOOSE",`(${Nr[Lr.NUMERICIDENTIFIERLOOSE]})\\.(${Nr[Lr.NUMERICIDENTIFIERLOOSE]})\\.(${Nr[Lr.NUMERICIDENTIFIERLOOSE]})`);Zn("PRERELEASEIDENTIFIER",`(?:${Nr[Lr.NUMERICIDENTIFIER]}|${Nr[Lr.NONNUMERICIDENTIFIER]})`);Zn("PRERELEASEIDENTIFIERLOOSE",`(?:${Nr[Lr.NUMERICIDENTIFIERLOOSE]}|${Nr[Lr.NONNUMERICIDENTIFIER]})`);Zn("PRERELEASE",`(?:-(${Nr[Lr.PRERELEASEIDENTIFIER]}(?:\\.${Nr[Lr.PRERELEASEIDENTIFIER]})*))`);Zn("PRERELEASELOOSE",`(?:-?(${Nr[Lr.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Nr[Lr.PRERELEASEIDENTIFIERLOOSE]})*))`);Zn("BUILDIDENTIFIER",`${iue}+`);Zn("BUILD",`(?:\\+(${Nr[Lr.BUILDIDENTIFIER]}(?:\\.${Nr[Lr.BUILDIDENTIFIER]})*))`);Zn("FULLPLAIN",`v?${Nr[Lr.MAINVERSION]}${Nr[Lr.PRERELEASE]}?${Nr[Lr.BUILD]}?`);Zn("FULL",`^${Nr[Lr.FULLPLAIN]}$`);Zn("LOOSEPLAIN",`[v=\\s]*${Nr[Lr.MAINVERSIONLOOSE]}${Nr[Lr.PRERELEASELOOSE]}?${Nr[Lr.BUILD]}?`);Zn("LOOSE",`^${Nr[Lr.LOOSEPLAIN]}$`);Zn("GTLT","((?:<|>)?=?)");Zn("XRANGEIDENTIFIERLOOSE",`${Nr[Lr.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Zn("XRANGEIDENTIFIER",`${Nr[Lr.NUMERICIDENTIFIER]}|x|X|\\*`);Zn("XRANGEPLAIN",`[v=\\s]*(${Nr[Lr.XRANGEIDENTIFIER]})(?:\\.(${Nr[Lr.XRANGEIDENTIFIER]})(?:\\.(${Nr[Lr.XRANGEIDENTIFIER]})(?:${Nr[Lr.PRERELEASE]})?${Nr[Lr.BUILD]}?)?)?`);Zn("XRANGEPLAINLOOSE",`[v=\\s]*(${Nr[Lr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Nr[Lr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Nr[Lr.XRANGEIDENTIFIERLOOSE]})(?:${Nr[Lr.PRERELEASELOOSE]})?${Nr[Lr.BUILD]}?)?)?`);Zn("XRANGE",`^${Nr[Lr.GTLT]}\\s*${Nr[Lr.XRANGEPLAIN]}$`);Zn("XRANGELOOSE",`^${Nr[Lr.GTLT]}\\s*${Nr[Lr.XRANGEPLAINLOOSE]}$`);Zn("COERCEPLAIN",`(^|[^\\d])(\\d{1,${nue}})(?:\\.(\\d{1,${nue}}))?(?:\\.(\\d{1,${nue}}))?`);Zn("COERCE",`${Nr[Lr.COERCEPLAIN]}(?:$|[^\\d])`);Zn("COERCEFULL",Nr[Lr.COERCEPLAIN]+`(?:${Nr[Lr.PRERELEASE]})?(?:${Nr[Lr.BUILD]})?(?:$|[^\\d])`);Zn("COERCERTL",Nr[Lr.COERCE],!0);Zn("COERCERTLFULL",Nr[Lr.COERCEFULL],!0);Zn("LONETILDE","(?:~>?)");Zn("TILDETRIM",`(\\s*)${Nr[Lr.LONETILDE]}\\s+`,!0);n1.tildeTrimReplace="$1~";Zn("TILDE",`^${Nr[Lr.LONETILDE]}${Nr[Lr.XRANGEPLAIN]}$`);Zn("TILDELOOSE",`^${Nr[Lr.LONETILDE]}${Nr[Lr.XRANGEPLAINLOOSE]}$`);Zn("LONECARET","(?:\\^)");Zn("CARETTRIM",`(\\s*)${Nr[Lr.LONECARET]}\\s+`,!0);n1.caretTrimReplace="$1^";Zn("CARET",`^${Nr[Lr.LONECARET]}${Nr[Lr.XRANGEPLAIN]}$`);Zn("CARETLOOSE",`^${Nr[Lr.LONECARET]}${Nr[Lr.XRANGEPLAINLOOSE]}$`);Zn("COMPARATORLOOSE",`^${Nr[Lr.GTLT]}\\s*(${Nr[Lr.LOOSEPLAIN]})$|^$`);Zn("COMPARATOR",`^${Nr[Lr.GTLT]}\\s*(${Nr[Lr.FULLPLAIN]})$|^$`);Zn("COMPARATORTRIM",`(\\s*)${Nr[Lr.GTLT]}\\s*(${Nr[Lr.LOOSEPLAIN]}|${Nr[Lr.XRANGEPLAIN]})`,!0);n1.comparatorTrimReplace="$1$2$3";Zn("HYPHENRANGE",`^\\s*(${Nr[Lr.XRANGEPLAIN]})\\s+-\\s+(${Nr[Lr.XRANGEPLAIN]})\\s*$`);Zn("HYPHENRANGELOOSE",`^\\s*(${Nr[Lr.XRANGEPLAINLOOSE]})\\s+-\\s+(${Nr[Lr.XRANGEPLAINLOOSE]})\\s*$`);Zn("STAR","(<|>)?=?\\s*\\*");Zn("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Zn("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var pj=H((kyn,SQe)=>{d();var fSt=Object.freeze({loose:!0}),dSt=Object.freeze({}),mSt=s(e=>e?typeof e!="object"?fSt:e:dSt,"parseOptions");SQe.exports=mSt});var oue=H((Pyn,BQe)=>{d();var RQe=/^[0-9]+$/,kQe=s((e,t)=>{let r=RQe.test(e),n=RQe.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},"compareIdentifiers"),hSt=s((e,t)=>kQe(t,e),"rcompareIdentifiers");BQe.exports={compareIdentifiers:kQe,rcompareIdentifiers:hSt}});var Xc=H((Fyn,LQe)=>{d();var gj=oB(),{MAX_LENGTH:DQe,MAX_SAFE_INTEGER:Aj}=iB(),{safeRe:PQe,safeSrc:NQe,t:yj}=aT(),pSt=pj(),{compareIdentifiers:lT}=oue(),sue=class e{static{s(this,"SemVer")}constructor(t,r){if(r=pSt(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>DQe)throw new TypeError(`version is longer than ${DQe} characters`);gj("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?PQe[yj.LOOSE]:PQe[yj.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Aj||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Aj||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Aj||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<Aj)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(gj("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),lT(this.major,t.major)||lT(this.minor,t.minor)||lT(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(gj("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return lT(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(gj("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return lT(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=new RegExp(`^${this.options.loose?NQe[yj.PRERELEASELOOSE]:NQe[yj.PRERELEASE]}$`),o=`-${r}`.match(i);if(!o||o[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),lT(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};LQe.exports=sue});var Zb=H((Oyn,MQe)=>{d();var FQe=Xc(),gSt=s((e,t,r=!1)=>{if(e instanceof FQe)return e;try{return new FQe(e,t)}catch(n){if(!r)return null;throw n}},"parse");MQe.exports=gSt});var OQe=H((Wyn,QQe)=>{d();var ASt=Zb(),ySt=s((e,t)=>{let r=ASt(e,t);return r?r.version:null},"valid");QQe.exports=ySt});var qQe=H((jyn,UQe)=>{d();var CSt=Zb(),xSt=s((e,t)=>{let r=CSt(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},"clean");UQe.exports=xSt});var HQe=H((zyn,GQe)=>{d();var WQe=Xc(),vSt=s((e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new WQe(e instanceof WQe?e.version:e,r).inc(t,n,i).version}catch{return null}},"inc");GQe.exports=vSt});var $Qe=H((Jyn,VQe)=>{d();var jQe=Zb(),bSt=s((e,t)=>{let r=jQe(e,null,!0),n=jQe(t,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,a=o?r:n,l=o?n:r,c=!!a.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(a)===0)return l.minor&&!l.patch?"minor":"patch"}let f=c?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"},"diff");VQe.exports=bSt});var YQe=H((e5n,zQe)=>{d();var ESt=Xc(),ISt=s((e,t)=>new ESt(e,t).major,"major");zQe.exports=ISt});var JQe=H((n5n,KQe)=>{d();var TSt=Xc(),wSt=s((e,t)=>new TSt(e,t).minor,"minor");KQe.exports=wSt});var ZQe=H((s5n,XQe)=>{d();var _St=Xc(),SSt=s((e,t)=>new _St(e,t).patch,"patch");XQe.exports=SSt});var tOe=H((c5n,eOe)=>{d();var RSt=Zb(),kSt=s((e,t)=>{let r=RSt(e,t);return r&&r.prerelease.length?r.prerelease:null},"prerelease");eOe.exports=kSt});var hm=H((d5n,nOe)=>{d();var rOe=Xc(),BSt=s((e,t,r)=>new rOe(e,r).compare(new rOe(t,r)),"compare");nOe.exports=BSt});var oOe=H((p5n,iOe)=>{d();var DSt=hm(),PSt=s((e,t,r)=>DSt(t,e,r),"rcompare");iOe.exports=PSt});var aOe=H((y5n,sOe)=>{d();var NSt=hm(),LSt=s((e,t)=>NSt(e,t,!0),"compareLoose");sOe.exports=LSt});var Cj=H((v5n,cOe)=>{d();var lOe=Xc(),FSt=s((e,t,r)=>{let n=new lOe(e,r),i=new lOe(t,r);return n.compare(i)||n.compareBuild(i)},"compareBuild");cOe.exports=FSt});var fOe=H((I5n,uOe)=>{d();var MSt=Cj(),QSt=s((e,t)=>e.sort((r,n)=>MSt(r,n,t)),"sort");uOe.exports=QSt});var mOe=H((_5n,dOe)=>{d();var OSt=Cj(),USt=s((e,t)=>e.sort((r,n)=>OSt(n,r,t)),"rsort");dOe.exports=USt});var sB=H((k5n,hOe)=>{d();var qSt=hm(),WSt=s((e,t,r)=>qSt(e,t,r)>0,"gt");hOe.exports=WSt});var xj=H((P5n,pOe)=>{d();var GSt=hm(),HSt=s((e,t,r)=>GSt(e,t,r)<0,"lt");pOe.exports=HSt});var aue=H((F5n,gOe)=>{d();var jSt=hm(),VSt=s((e,t,r)=>jSt(e,t,r)===0,"eq");gOe.exports=VSt});var lue=H((O5n,AOe)=>{d();var $St=hm(),zSt=s((e,t,r)=>$St(e,t,r)!==0,"neq");AOe.exports=zSt});var vj=H((W5n,yOe)=>{d();var YSt=hm(),KSt=s((e,t,r)=>YSt(e,t,r)>=0,"gte");yOe.exports=KSt});var bj=H((j5n,COe)=>{d();var JSt=hm(),XSt=s((e,t,r)=>JSt(e,t,r)<=0,"lte");COe.exports=XSt});var cue=H((z5n,xOe)=>{d();var ZSt=aue(),eRt=lue(),tRt=sB(),rRt=vj(),nRt=xj(),iRt=bj(),oRt=s((e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return ZSt(e,r,n);case"!=":return eRt(e,r,n);case">":return tRt(e,r,n);case">=":return rRt(e,r,n);case"<":return nRt(e,r,n);case"<=":return iRt(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}},"cmp");xOe.exports=oRt});var bOe=H((J5n,vOe)=>{d();var sRt=Xc(),aRt=Zb(),{safeRe:Ej,t:Ij}=aT(),lRt=s((e,t)=>{if(e instanceof sRt)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Ej[Ij.COERCEFULL]:Ej[Ij.COERCE]);else{let c=t.includePrerelease?Ej[Ij.COERCERTLFULL]:Ej[Ij.COERCERTL],u;for(;(u=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",o=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",l=t.includePrerelease&&r[6]?`+${r[6]}`:"";return aRt(`${n}.${i}.${o}${a}${l}`,t)},"coerce");vOe.exports=lRt});var IOe=H((eCn,EOe)=>{d();var uue=class{static{s(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};EOe.exports=uue});var pm=H((nCn,SOe)=>{d();var cRt=/\s+/g,fue=class e{static{s(this,"Range")}constructor(t,r){if(r=fRt(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof due)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(cRt," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!wOe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&yRt(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&gRt)|(this.options.loose&&ARt))+":"+t,i=TOe.get(n);if(i)return i;let o=this.options.loose,a=o?ku[B0.HYPHENRANGELOOSE]:ku[B0.HYPHENRANGE];t=t.replace(a,SRt(this.options.includePrerelease)),Ts("hyphen replace",t),t=t.replace(ku[B0.COMPARATORTRIM],mRt),Ts("comparator trim",t),t=t.replace(ku[B0.TILDETRIM],hRt),Ts("tilde trim",t),t=t.replace(ku[B0.CARETTRIM],pRt),Ts("caret trim",t);let l=t.split(" ").map(m=>CRt(m,this.options)).join(" ").split(/\s+/).map(m=>_Rt(m,this.options));o&&(l=l.filter(m=>(Ts("loose invalid filter",m,this.options),!!m.match(ku[B0.COMPARATORLOOSE])))),Ts("range list",l);let c=new Map,u=l.map(m=>new due(m,this.options));for(let m of u){if(wOe(m))return[m];c.set(m.value,m)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return TOe.set(n,f),f}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>_Oe(n,r)&&t.set.some(i=>_Oe(i,r)&&n.every(o=>i.every(a=>o.intersects(a,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new dRt(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(RRt(this.set[r],t,this.options))return!0;return!1}};SOe.exports=fue;var uRt=IOe(),TOe=new uRt,fRt=pj(),due=aB(),Ts=oB(),dRt=Xc(),{safeRe:ku,t:B0,comparatorTrimReplace:mRt,tildeTrimReplace:hRt,caretTrimReplace:pRt}=aT(),{FLAG_INCLUDE_PRERELEASE:gRt,FLAG_LOOSE:ARt}=iB(),wOe=s(e=>e.value==="<0.0.0-0","isNullSet"),yRt=s(e=>e.value==="","isAny"),_Oe=s((e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,t)),i=n.pop();return r},"isSatisfiable"),CRt=s((e,t)=>(Ts("comp",e,t),e=bRt(e,t),Ts("caret",e),e=xRt(e,t),Ts("tildes",e),e=IRt(e,t),Ts("xrange",e),e=wRt(e,t),Ts("stars",e),e),"parseComparator"),D0=s(e=>!e||e.toLowerCase()==="x"||e==="*","isX"),xRt=s((e,t)=>e.trim().split(/\s+/).map(r=>vRt(r,t)).join(" "),"replaceTildes"),vRt=s((e,t)=>{let r=t.loose?ku[B0.TILDELOOSE]:ku[B0.TILDE];return e.replace(r,(n,i,o,a,l)=>{Ts("tilde",e,n,i,o,a,l);let c;return D0(i)?c="":D0(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:D0(a)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:l?(Ts("replaceTilde pr",l),c=`>=${i}.${o}.${a}-${l} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${a} <${i}.${+o+1}.0-0`,Ts("tilde return",c),c})},"replaceTilde"),bRt=s((e,t)=>e.trim().split(/\s+/).map(r=>ERt(r,t)).join(" "),"replaceCarets"),ERt=s((e,t)=>{Ts("caret",e,t);let r=t.loose?ku[B0.CARETLOOSE]:ku[B0.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,o,a,l,c)=>{Ts("caret",e,i,o,a,l,c);let u;return D0(o)?u="":D0(a)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:D0(l)?o==="0"?u=`>=${o}.${a}.0${n} <${o}.${+a+1}.0-0`:u=`>=${o}.${a}.0${n} <${+o+1}.0.0-0`:c?(Ts("replaceCaret pr",c),o==="0"?a==="0"?u=`>=${o}.${a}.${l}-${c} <${o}.${a}.${+l+1}-0`:u=`>=${o}.${a}.${l}-${c} <${o}.${+a+1}.0-0`:u=`>=${o}.${a}.${l}-${c} <${+o+1}.0.0-0`):(Ts("no pr"),o==="0"?a==="0"?u=`>=${o}.${a}.${l}${n} <${o}.${a}.${+l+1}-0`:u=`>=${o}.${a}.${l}${n} <${o}.${+a+1}.0-0`:u=`>=${o}.${a}.${l} <${+o+1}.0.0-0`),Ts("caret return",u),u})},"replaceCaret"),IRt=s((e,t)=>(Ts("replaceXRanges",e,t),e.split(/\s+/).map(r=>TRt(r,t)).join(" ")),"replaceXRanges"),TRt=s((e,t)=>{e=e.trim();let r=t.loose?ku[B0.XRANGELOOSE]:ku[B0.XRANGE];return e.replace(r,(n,i,o,a,l,c)=>{Ts("xRange",e,n,i,o,a,l,c);let u=D0(o),f=u||D0(a),m=f||D0(l),h=m;return i==="="&&h&&(i=""),c=t.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(f&&(a=0),l=0,i===">"?(i=">=",f?(o=+o+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",f?o=+o+1:a=+a+1),i==="<"&&(c="-0"),n=`${i+o}.${a}.${l}${c}`):f?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:m&&(n=`>=${o}.${a}.0${c} <${o}.${+a+1}.0-0`),Ts("xRange return",n),n})},"replaceXRange"),wRt=s((e,t)=>(Ts("replaceStars",e,t),e.trim().replace(ku[B0.STAR],"")),"replaceStars"),_Rt=s((e,t)=>(Ts("replaceGTE0",e,t),e.trim().replace(ku[t.includePrerelease?B0.GTE0PRE:B0.GTE0],"")),"replaceGTE0"),SRt=s(e=>(t,r,n,i,o,a,l,c,u,f,m,h)=>(D0(n)?r="":D0(i)?r=`>=${n}.0.0${e?"-0":""}`:D0(o)?r=`>=${n}.${i}.0${e?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,D0(u)?c="":D0(f)?c=`<${+u+1}.0.0-0`:D0(m)?c=`<${u}.${+f+1}.0-0`:h?c=`<=${u}.${f}.${m}-${h}`:e?c=`<${u}.${f}.${+m+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),"hyphenReplace"),RRt=s((e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(Ts(e[n].semver),e[n].semver!==due.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0},"testSet")});var aB=H((sCn,NOe)=>{d();var lB=Symbol("SemVer ANY"),pue=class e{static{s(this,"Comparator")}static get ANY(){return lB}constructor(t,r){if(r=ROe(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),hue("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===lB?this.value="":this.value=this.operator+this.semver.version,hue("comp",this)}parse(t){let r=this.options.loose?kOe[BOe.COMPARATORLOOSE]:kOe[BOe.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new DOe(n[2],this.options.loose):this.semver=lB}toString(){return this.value}test(t){if(hue("Comparator.test",t,this.options.loose),this.semver===lB||t===lB)return!0;if(typeof t=="string")try{t=new DOe(t,this.options)}catch{return!1}return mue(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new POe(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new POe(this.value,r).test(t.semver):(r=ROe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||mue(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||mue(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};NOe.exports=pue;var ROe=pj(),{safeRe:kOe,t:BOe}=aT(),mue=cue(),hue=oB(),DOe=Xc(),POe=pm()});var cB=H((cCn,LOe)=>{d();var kRt=pm(),BRt=s((e,t,r)=>{try{t=new kRt(t,r)}catch{return!1}return t.test(e)},"satisfies");LOe.exports=BRt});var MOe=H((dCn,FOe)=>{d();var DRt=pm(),PRt=s((e,t)=>new DRt(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");FOe.exports=PRt});var OOe=H((pCn,QOe)=>{d();var NRt=Xc(),LRt=pm(),FRt=s((e,t,r)=>{let n=null,i=null,o=null;try{o=new LRt(t,r)}catch{return null}return e.forEach(a=>{o.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new NRt(n,r))}),n},"maxSatisfying");QOe.exports=FRt});var qOe=H((yCn,UOe)=>{d();var MRt=Xc(),QRt=pm(),ORt=s((e,t,r)=>{let n=null,i=null,o=null;try{o=new QRt(t,r)}catch{return null}return e.forEach(a=>{o.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new MRt(n,r))}),n},"minSatisfying");UOe.exports=ORt});var HOe=H((vCn,GOe)=>{d();var gue=Xc(),URt=pm(),WOe=sB(),qRt=s((e,t)=>{e=new URt(e,t);let r=new gue("0.0.0");if(e.test(r)||(r=new gue("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],o=null;i.forEach(a=>{let l=new gue(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!o||WOe(l,o))&&(o=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),o&&(!r||WOe(r,o))&&(r=o)}return r&&e.test(r)?r:null},"minVersion");GOe.exports=qRt});var VOe=H((ICn,jOe)=>{d();var WRt=pm(),GRt=s((e,t)=>{try{return new WRt(e,t).range||"*"}catch{return null}},"validRange");jOe.exports=GRt});var Tj=H((_Cn,KOe)=>{d();var HRt=Xc(),YOe=aB(),{ANY:jRt}=YOe,VRt=pm(),$Rt=cB(),$Oe=sB(),zOe=xj(),zRt=bj(),YRt=vj(),KRt=s((e,t,r,n)=>{e=new HRt(e,n),t=new VRt(t,n);let i,o,a,l,c;switch(r){case">":i=$Oe,o=zRt,a=zOe,l=">",c=">=";break;case"<":i=zOe,o=YRt,a=$Oe,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if($Rt(e,t,n))return!1;for(let u=0;u<t.set.length;++u){let f=t.set[u],m=null,h=null;if(f.forEach(p=>{p.semver===jRt&&(p=new YOe(">=0.0.0")),m=m||p,h=h||p,i(p.semver,m.semver,n)?m=p:a(p.semver,h.semver,n)&&(h=p)}),m.operator===l||m.operator===c||(!h.operator||h.operator===l)&&o(e,h.semver))return!1;if(h.operator===c&&a(e,h.semver))return!1}return!0},"outside");KOe.exports=KRt});var XOe=H((kCn,JOe)=>{d();var JRt=Tj(),XRt=s((e,t,r)=>JRt(e,t,">",r),"gtr");JOe.exports=XRt});var eUe=H((PCn,ZOe)=>{d();var ZRt=Tj(),ekt=s((e,t,r)=>ZRt(e,t,"<",r),"ltr");ZOe.exports=ekt});var nUe=H((FCn,rUe)=>{d();var tUe=pm(),tkt=s((e,t,r)=>(e=new tUe(e,r),t=new tUe(t,r),e.intersects(t,r)),"intersects");rUe.exports=tkt});var oUe=H((OCn,iUe)=>{d();var rkt=cB(),nkt=hm();iUe.exports=(e,t,r)=>{let n=[],i=null,o=null,a=e.sort((f,m)=>nkt(f,m,r));for(let f of a)rkt(f,t,r)?(o=f,i||(i=f)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let l=[];for(let[f,m]of n)f===m?l.push(f):!m&&f===a[0]?l.push("*"):m?f===a[0]?l.push(`<=${m}`):l.push(`${f} - ${m}`):l.push(`>=${f}`);let c=l.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return c.length<u.length?c:t}});var fUe=H((qCn,uUe)=>{d();var sUe=pm(),yue=aB(),{ANY:Aue}=yue,uB=cB(),Cue=hm(),ikt=s((e,t,r={})=>{if(e===t)return!0;e=new sUe(e,r),t=new sUe(t,r);let n=!1;e:for(let i of e.set){for(let o of t.set){let a=skt(i,o,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},"subset"),okt=[new yue(">=0.0.0-0")],aUe=[new yue(">=0.0.0")],skt=s((e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Aue){if(t.length===1&&t[0].semver===Aue)return!0;r.includePrerelease?e=okt:e=aUe}if(t.length===1&&t[0].semver===Aue){if(r.includePrerelease)return!0;t=aUe}let n=new Set,i,o;for(let p of e)p.operator===">"||p.operator===">="?i=lUe(i,p,r):p.operator==="<"||p.operator==="<="?o=cUe(o,p,r):n.add(p.semver);if(n.size>1)return null;let a;if(i&&o){if(a=Cue(i.semver,o.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let p of n){if(i&&!uB(p,String(i),r)||o&&!uB(p,String(o),r))return null;for(let g of t)if(!uB(p,String(g),r))return!1;return!0}let l,c,u,f,m=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&o.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let p of t){if(f=f||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(l=lUe(i,p,r),l===p&&l!==i)return!1}else if(i.operator===">="&&!uB(i.semver,String(p),r))return!1}if(o){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator==="<"||p.operator==="<="){if(c=cUe(o,p,r),c===p&&c!==o)return!1}else if(o.operator==="<="&&!uB(o.semver,String(p),r))return!1}if(!p.operator&&(o||i)&&a!==0)return!1}return!(i&&u&&!o&&a!==0||o&&f&&!i&&a!==0||h||m)},"simpleSubset"),lUe=s((e,t,r)=>{if(!e)return t;let n=Cue(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},"higherGT"),cUe=s((e,t,r)=>{if(!e)return t;let n=Cue(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e},"lowerLT");uUe.exports=ikt});var vue=H((HCn,hUe)=>{d();var xue=aT(),dUe=iB(),akt=Xc(),mUe=oue(),lkt=Zb(),ckt=OQe(),ukt=qQe(),fkt=HQe(),dkt=$Qe(),mkt=YQe(),hkt=JQe(),pkt=ZQe(),gkt=tOe(),Akt=hm(),ykt=oOe(),Ckt=aOe(),xkt=Cj(),vkt=fOe(),bkt=mOe(),Ekt=sB(),Ikt=xj(),Tkt=aue(),wkt=lue(),_kt=vj(),Skt=bj(),Rkt=cue(),kkt=bOe(),Bkt=aB(),Dkt=pm(),Pkt=cB(),Nkt=MOe(),Lkt=OOe(),Fkt=qOe(),Mkt=HOe(),Qkt=VOe(),Okt=Tj(),Ukt=XOe(),qkt=eUe(),Wkt=nUe(),Gkt=oUe(),Hkt=fUe();hUe.exports={parse:lkt,valid:ckt,clean:ukt,inc:fkt,diff:dkt,major:mkt,minor:hkt,patch:pkt,prerelease:gkt,compare:Akt,rcompare:ykt,compareLoose:Ckt,compareBuild:xkt,sort:vkt,rsort:bkt,gt:Ekt,lt:Ikt,eq:Tkt,neq:wkt,gte:_kt,lte:Skt,cmp:Rkt,coerce:kkt,Comparator:Bkt,Range:Dkt,satisfies:Pkt,toComparators:Nkt,maxSatisfying:Lkt,minSatisfying:Fkt,minVersion:Mkt,validRange:Qkt,outside:Okt,gtr:Ukt,ltr:qkt,intersects:Wkt,simplifyRange:Gkt,subset:Hkt,SemVer:akt,re:xue.re,src:xue.src,tokens:xue.t,SEMVER_SPEC_VERSION:dUe.SEMVER_SPEC_VERSION,RELEASE_TYPES:dUe.RELEASE_TYPES,compareIdentifiers:mUe.compareIdentifiers,rcompareIdentifiers:mUe.rcompareIdentifiers}});var Vf=H(mB=>{"use strict";d();Object.defineProperty(mB,"__esModule",{value:!0});mB.dedent=void 0;function NUe(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(l,c){var u=c.match(/\n([\t ]+|(?!\s).)/g);return u?l.concat(u.map(function(f){var m,h;return(h=(m=f.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&h!==void 0?h:0})):l},[]);if(i.length){var o=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(l){return l.replace(o,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var a=n[0];return t.forEach(function(l,c){var u=a.match(/(?:^|\n)( *)$/),f=u?u[1]:"",m=l;typeof l=="string"&&l.includes(`
`)&&(m=String(l).split(`
`).map(function(h,p){return p===0?h:""+f+h}).join(`
`)),a+=m+n[c+1]}),a}s(NUe,"dedent");mB.dedent=NUe;mB.default=NUe});var WUe=H(Lue=>{"use strict";d();Object.defineProperty(Lue,"__esModule",{value:!0});Lue.workerFile=`
const { parentPort } = require('worker_threads')

parentPort.on('message', async worker => {
  const response = {
    error: null,
    data: null
  }

  try {
    eval(worker)
    // __executor__ is defined in worker
    response.data = await __executor__()
    parentPort.postMessage(response)
  } catch (err) {
    response.data = null
    response.error = {
      message: err.message,
      stack: err.stack
    }

    try {
      parentPort.postMessage(response)
    } catch (err) {
      console.error(err)
    }
  }
})
`});var zUe=H(Mue=>{"use strict";d();Object.defineProperty(Mue,"__esModule",{value:!0});var GUe=require("worker_threads"),cBt=require("v8"),uBt=require("os"),HUe=WUe(),Nj="ready",jUe="spawning",fBt="busy",Lj="off",VUe=uBt.cpus().length,$Ue=process.version.replace("v","").split("."),dBt=parseInt($Ue[0]),mBt=parseInt($Ue[1]),Fue=class{static{s(this,"WorkerPool")}constructor(){this.maxWorkers=VUe,this.taskQueue=[],this.workers=[]}resurrect(t){let r=new GUe.Worker(HUe.workerFile,{eval:!0});t.status=jUe,t.worker=r,r.once("online",()=>process.nextTick(()=>{t.status=Nj,r.removeAllListeners(),this.tick()})),r.once("error",n=>{console.error(n),t.status=Lj,r.removeAllListeners(),this.tick()})}tick(){if(this.workers.filter(({status:c})=>c===Lj).forEach(c=>this.resurrect(c)),this.taskQueue.length===0)return;let t;for(let c=0;c<this.workers.length;c++)if(this.workers[c].status===Nj){t=this.workers[c];break}if(typeof t>"u")return;let r=this.taskQueue.shift();t.status=fBt;let{worker:n}=t,{handler:i,config:o,resolve:a,reject:l}=r;try{let c="";for(let h in o.ctx){if(!o.ctx.hasOwnProperty(h))continue;let p;switch(typeof o.ctx[h]){case"string":p=`'${o.ctx[h]}'`;break;case"object":p=JSON.stringify(o.ctx[h]);break;default:p=o.ctx[h]}c+=`let ${h} = ${p}
`}let u=cBt.serialize(o.data),f=JSON.stringify(u),m=`
      async function __executor__() {
        const v8 = require('v8')
        ${c}
        const dataParsed = JSON.parse('${f}')
        const dataBuffer = Buffer.from(dataParsed.data)
        const dataDeserialized = v8.deserialize(dataBuffer)
        return await (${i.toString()})(dataDeserialized)
      }
      `;n.once("message",h=>{if(this.free(n),typeof h.error>"u"||h.error===null)return a(h.data);let p=new Error(h.error.message);p.stack=h.error.stack,l(p)}),n.once("error",h=>{t.status=Lj,l(h),this.tick()}),n.postMessage(m)}catch(c){this.free(n),l(c)}}enqueue({handler:t,config:r,resolve:n,reject:i}){this.taskQueue.push({handler:t,config:r,resolve:n,reject:i}),this.tick()}free(t){for(let r=0;r<this.workers.length;r++)if(t.threadId===this.workers[r].worker.threadId){this.workers[r].status=Nj,this.workers[r].worker.removeAllListeners(),this.tick();break}}setup(t={}){return this.maxWorkers=t.maxWorkers>0?t.maxWorkers:VUe,this.maxWorkers>10&&console.warn(`Worker pool has more than 10 workers.
You should also increase the Max Listeners of Node.js (https://nodejs.org/docs/latest/api/events.html#events_emitter_setmaxlisteners_n)
Otherwise, limit them with start({maxWorkers: 10})`),new Promise((r,n)=>{let i=0,o=0;for(let a=0;a<this.maxWorkers;a++){let l=new GUe.Worker(HUe.workerFile,{eval:!0});this.workers.push({status:jUe,worker:l}),l.once("online",(c=>()=>{process.nextTick(()=>{this.workers[c].status=Nj,this.workers[c].worker.removeAllListeners(),i++,i>0&&i+o===this.maxWorkers&&r()})})(a)),l.once("error",(c=>u=>{this.workers[c].status=Lj,this.workers[c].worker.removeAllListeners(),o++,o===this.maxWorkers&&n(u)})(a))}})}async teardown(){if(dBt>=12&&mBt>=5){let t=[];for(let{worker:r}of this.workers)t.push(r.terminate());await Promise.all(t),this.workers=[]}else await new Promise(r=>{let n=0;for(let i=0;i<this.workers.length;i++)this.workers[i].worker.terminate(()=>{n++,n===this.workers.length&&(this.workers=[],r())})})}};Mue.default=new Fue});var Fj=H(eE=>{"use strict";d();var hBt=eE&&eE.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eE,"__esModule",{value:!0});var hB=hBt(zUe()),pBt=`job needs a function.
Try with:
> job(() => {...}, config)`,gBt=`job needs an object as ctx.
Try with:
> job(() => {...}, {ctx: {...}})`;function ABt(e,t={ctx:{},data:{}}){return new Promise((r,n)=>{if(typeof e!="function")return n(new Error(pBt));if(t.ctx=t.ctx||{},t.data=t.data||{},typeof t.ctx!="object")return n(new Error(gBt));hB.default.enqueue({handler:e,config:t,resolve:r,reject:n})})}s(ABt,"job");eE.job=ABt;eE.stop=hB.default.teardown.bind(hB.default);eE.start=hB.default.setup.bind(hB.default)});var fqe=H(tE=>{"use strict";d();var l1=tE&&tE.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},$ue=tE&&tE.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},y2,d3;Object.defineProperty(tE,"__esModule",{value:!0});var zue=class{static{s(this,"AwaitLock")}constructor(){y2.set(this,!1),d3.set(this,new Set)}get acquired(){return l1(this,y2,"f")}acquireAsync({timeout:t}={}){if(!l1(this,y2,"f"))return $ue(this,y2,!0,"f"),Promise.resolve();if(t==null)return new Promise(i=>{l1(this,d3,"f").add(i)});let r,n;return Promise.race([new Promise(i=>{r=s(()=>{clearTimeout(n),i()},"resolver"),l1(this,d3,"f").add(r)}),new Promise((i,o)=>{n=setTimeout(()=>{l1(this,d3,"f").delete(r),o(new Error("Timed out waiting for lock"))},t)})])}tryAcquire(){return l1(this,y2,"f")?!1:($ue(this,y2,!0,"f"),!0)}release(){if(!l1(this,y2,"f"))throw new Error("Cannot release an unacquired lock");if(l1(this,d3,"f").size>0){let[t]=l1(this,d3,"f");l1(this,d3,"f").delete(t),t()}else $ue(this,y2,!1,"f")}};tE.default=zue;y2=new WeakMap,d3=new WeakMap});var bHe=H((LGn,vHe)=>{d();var DT=1e3,PT=DT*60,NT=PT*60,uE=NT*24,VMt=uE*7,$Mt=uE*365.25;vHe.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return zMt(e);if(r==="number"&&isFinite(e))return t.long?KMt(e):YMt(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function zMt(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*$Mt;case"weeks":case"week":case"w":return r*VMt;case"days":case"day":case"d":return r*uE;case"hours":case"hour":case"hrs":case"hr":case"h":return r*NT;case"minutes":case"minute":case"mins":case"min":case"m":return r*PT;case"seconds":case"second":case"secs":case"sec":case"s":return r*DT;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}s(zMt,"parse");function YMt(e){var t=Math.abs(e);return t>=uE?Math.round(e/uE)+"d":t>=NT?Math.round(e/NT)+"h":t>=PT?Math.round(e/PT)+"m":t>=DT?Math.round(e/DT)+"s":e+"ms"}s(YMt,"fmtShort");function KMt(e){var t=Math.abs(e);return t>=uE?g$(e,t,uE,"day"):t>=NT?g$(e,t,NT,"hour"):t>=PT?g$(e,t,PT,"minute"):t>=DT?g$(e,t,DT,"second"):e+" ms"}s(KMt,"fmtLong");function g$(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}s(g$,"plural")});var wde=H((QGn,EHe)=>{d();function JMt(e){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=a,r.humanize=bHe(),r.destroy=u,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let m=0;for(let h=0;h<f.length;h++)m=(m<<5)-m+f.charCodeAt(h),m|=0;return r.colors[Math.abs(m)%r.colors.length]}s(t,"selectColor"),r.selectColor=t;function r(f){let m,h=null,p,g;function y(...x){if(!y.enabled)return;let b=y,E=Number(new Date),_=E-(m||E);b.diff=_,b.prev=m,b.curr=E,m=E,x[0]=r.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let k=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(N,M)=>{if(N==="%%")return"%";k++;let te=r.formatters[M];if(typeof te=="function"){let de=x[k];N=te.call(b,de),x.splice(k,1),k--}return N}),r.formatArgs.call(b,x),(b.log||r.log).apply(b,x)}return s(y,"debug"),y.namespace=f,y.useColors=r.useColors(),y.color=r.selectColor(f),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:s(()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,g=r.enabled(f)),g),"get"),set:s(x=>{h=x},"set")}),typeof r.init=="function"&&r.init(y),y}s(r,"createDebug");function n(f,m){let h=r(this.namespace+(typeof m>"u"?":":m)+f);return h.log=this.log,h}s(n,"extend");function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let m,h=(typeof f=="string"?f:"").split(/[\s,]+/),p=h.length;for(m=0;m<p;m++)h[m]&&(f=h[m].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}s(i,"enable");function o(){let f=[...r.names.map(l),...r.skips.map(l).map(m=>"-"+m)].join(",");return r.enable(""),f}s(o,"disable");function a(f){if(f[f.length-1]==="*")return!0;let m,h;for(m=0,h=r.skips.length;m<h;m++)if(r.skips[m].test(f))return!1;for(m=0,h=r.names.length;m<h;m++)if(r.names[m].test(f))return!0;return!1}s(a,"enabled");function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}s(l,"toNamespace");function c(f){return f instanceof Error?f.stack||f.message:f}s(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s(u,"destroy"),r.enable(r.load()),r}s(JMt,"setup");EHe.exports=JMt});var IHe=H((zf,A$)=>{d();zf.formatArgs=ZMt;zf.save=eQt;zf.load=tQt;zf.useColors=XMt;zf.storage=rQt();zf.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();zf.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function XMt(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}s(XMt,"useColors");function ZMt(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+A$.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}s(ZMt,"formatArgs");zf.log=console.debug||console.log||(()=>{});function eQt(e){try{e?zf.storage.setItem("debug",e):zf.storage.removeItem("debug")}catch{}}s(eQt,"save");function tQt(){let e;try{e=zf.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}s(tQt,"load");function rQt(){try{return localStorage}catch{}}s(rQt,"localstorage");A$.exports=wde()(zf);var{formatters:nQt}=A$.exports;nQt.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var wHe=H((GGn,THe)=>{"use strict";d();THe.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var RHe=H((jGn,SHe)=>{"use strict";d();var iQt=require("os"),_He=require("tty"),xm=wHe(),{env:zl}=process,x3;xm("no-color")||xm("no-colors")||xm("color=false")||xm("color=never")?x3=0:(xm("color")||xm("colors")||xm("color=true")||xm("color=always"))&&(x3=1);"FORCE_COLOR"in zl&&(zl.FORCE_COLOR==="true"?x3=1:zl.FORCE_COLOR==="false"?x3=0:x3=zl.FORCE_COLOR.length===0?1:Math.min(parseInt(zl.FORCE_COLOR,10),3));function _de(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}s(_de,"translateLevel");function Sde(e,t){if(x3===0)return 0;if(xm("color=16m")||xm("color=full")||xm("color=truecolor"))return 3;if(xm("color=256"))return 2;if(e&&!t&&x3===void 0)return 0;let r=x3||0;if(zl.TERM==="dumb")return r;if(process.platform==="win32"){let n=iQt.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in zl)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in zl)||zl.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in zl)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(zl.TEAMCITY_VERSION)?1:0;if(zl.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in zl){let n=parseInt((zl.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(zl.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(zl.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(zl.TERM)||"COLORTERM"in zl?1:r}s(Sde,"supportsColor");function oQt(e){let t=Sde(e,e&&e.isTTY);return _de(t)}s(oQt,"getSupportLevel");SHe.exports={supportsColor:oQt,stdout:_de(Sde(!0,_He.isatty(1))),stderr:_de(Sde(!0,_He.isatty(2)))}});var BHe=H((bc,C$)=>{d();var sQt=require("tty"),y$=require("util");bc.init=mQt;bc.log=uQt;bc.formatArgs=lQt;bc.save=fQt;bc.load=dQt;bc.useColors=aQt;bc.destroy=y$.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");bc.colors=[6,2,3,4,5,1];try{let e=RHe();e&&(e.stderr||e).level>=2&&(bc.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}bc.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function aQt(){return"colors"in bc.inspectOpts?!!bc.inspectOpts.colors:sQt.isatty(process.stderr.fd)}s(aQt,"useColors");function lQt(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${t} \x1B[0m`;e[0]=o+e[0].split(`
`).join(`
`+o),e.push(i+"m+"+C$.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=cQt()+t+" "+e[0]}s(lQt,"formatArgs");function cQt(){return bc.inspectOpts.hideDate?"":new Date().toISOString()+" "}s(cQt,"getDate");function uQt(...e){return process.stderr.write(y$.format(...e)+`
`)}s(uQt,"log");function fQt(e){e?process.env.DEBUG=e:delete process.env.DEBUG}s(fQt,"save");function dQt(){return process.env.DEBUG}s(dQt,"load");function mQt(e){e.inspectOpts={};let t=Object.keys(bc.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=bc.inspectOpts[t[r]]}s(mQt,"init");C$.exports=wde()(bc);var{formatters:kHe}=C$.exports;kHe.o=function(e){return this.inspectOpts.colors=this.useColors,y$.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};kHe.O=function(e){return this.inspectOpts.colors=this.useColors,y$.inspect(e,this.inspectOpts)}});var fE=H((KGn,Rde)=>{d();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Rde.exports=IHe():Rde.exports=BHe()});var Lde=H((eHn,LHe)=>{d();var UB=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,hQt=typeof AbortController=="function",x$=hQt?AbortController:class{static{s(this,"AbortController")}constructor(){this.signal=new DHe}abort(){this.signal.dispatchEvent("abort")}},pQt=typeof AbortSignal=="function",gQt=typeof x$.AbortSignal=="function",DHe=pQt?AbortSignal:gQt?x$.AbortController:class{static{s(this,"AbortSignal")}constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},Pde=new Set,kde=s((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;v$(r)&&Nde(r,`${e} option`,`options.${t}`,FT)},"deprecatedOption"),Bde=s((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(v$(r)){let{prototype:n}=FT,{get:i}=Object.getOwnPropertyDescriptor(n,e);Nde(r,`${e} method`,`cache.${t}()`,i)}},"deprecatedMethod"),AQt=s((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(v$(r)){let{prototype:n}=FT,{get:i}=Object.getOwnPropertyDescriptor(n,e);Nde(r,`${e} property`,`cache.${t}`,i)}},"deprecatedProperty"),PHe=s((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),v$=s(e=>!Pde.has(e),"shouldWarn"),Nde=s((e,t,r,n)=>{Pde.add(e);let i=`The ${t} is deprecated. Please use ${r} instead.`;PHe(i,"DeprecationWarning",e,n)},"warn"),dE=s(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),NHe=s(e=>dE(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?LT:null:null,"getUintArray"),LT=class extends Array{static{s(this,"ZeroArray")}constructor(t){super(t),this.fill(0)}},Dde=class{static{s(this,"Stack")}constructor(t){if(t===0)return[];let r=NHe(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},FT=class e{static{s(this,"LRUCache")}constructor(t={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:o,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:c,dispose:u,disposeAfter:f,noDisposeOnSet:m,noUpdateTTL:h,maxSize:p=0,sizeCalculation:g,fetchMethod:y,fetchContext:x,noDeleteOnFetchRejection:b,noDeleteOnStaleGet:E}=t,{length:_,maxAge:k,stale:B}=t instanceof e?{}:t;if(r!==0&&!dE(r))throw new TypeError("max option must be a nonnegative integer");let N=r?NHe(r):Array;if(!N)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=p,this.sizeCalculation=g||_,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=y||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=x,!this.fetchMethod&&x!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new N(r),this.prev=new N(r),this.head=0,this.tail=0,this.free=new Dde(r),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof f=="function"?(this.disposeAfter=f,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!m,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!b,this.maxSize!==0){if(!dE(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!B,this.noDeleteOnStaleGet=!!E,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=dE(i)||i===0?i:1,this.ttlAutopurge=!!o,this.ttl=n||k||0,this.ttl){if(!dE(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let M="LRU_CACHE_UNBOUNDED";v$(M)&&(Pde.add(M),PHe("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",M,e))}B&&kde("stale","allowStale"),k&&kde("maxAge","ttl"),_&&kde("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new LT(this.max),this.starts=new LT(this.max),this.setItemTTL=(n,i,o=UB.now())=>{if(this.starts[n]=i!==0?o:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?UB.now():0};let t=0,r=s(()=>{let n=UB.now();if(this.ttlResolution>0){t=n;let i=setTimeout(()=>t=0,this.ttlResolution);i.unref&&i.unref()}return n},"getNow");this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new LT(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,i)=>{if(!dE(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,t),!dE(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return Bde("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],a={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){a.ttl=this.ttls[r];let l=UB.now()-this.starts[r];a.start=Math.floor(Date.now()-l)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let i=Date.now()-n.start;n.start=UB.now()-i}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,l),this.maxSize&&a>this.maxSize)return this;let u=this.size===0?void 0:this.keyMap.get(t);if(u===void 0)u=this.newIndex(),this.keyList[u]=t,this.valList[u]=r,this.keyMap.set(t,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,a),c=!1;else{let f=this.valList[u];r!==f&&(this.isBackgroundFetch(f)?f.__abortController.abort():o||(this.dispose(f,t,"set"),this.disposeAfter&&this.disposed.push([f,t,"set"])),this.removeItemSize(u),this.valList[u]=r,this.addItemSize(u,a)),this.moveToTail(u)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(u,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(t,r,n,i){let o=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(o))return o;let a=new x$,l={signal:a.signal,options:n,context:i},c=s(h=>(a.signal.aborted||this.set(t,h,l.options),h),"cb"),u=s(h=>{if(this.valList[r]===m&&(!n.noDeleteOnFetchRejection||m.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=m.__staleWhileFetching),m.__returned===m)throw h},"eb"),f=s(h=>h(this.fetchMethod(t,o,l)),"pcall"),m=new Promise(f).then(c,u);return m.__abortController=a,m.__staleWhileFetching=o,m.__returned=null,r===void 0?(this.set(t,m,l.options),r=this.keyMap.get(t)):this.valList[r]=m,m}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,fetchContext:m=this.fetchContext,forceRefresh:h=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let p={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:o,noDisposeOnSet:a,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f},g=this.keyMap.get(t);if(g===void 0){let y=this.backgroundFetch(t,g,p,m);return y.__returned=y}else{let y=this.valList[g];if(this.isBackgroundFetch(y))return r&&y.__staleWhileFetching!==void 0?y.__staleWhileFetching:y.__returned=y;if(!h&&!this.isStale(g))return this.moveToTail(g),n&&this.updateItemAge(g),y;let x=this.backgroundFetch(t,g,p,m);return r&&x.__staleWhileFetching!==void 0?x.__staleWhileFetching:x.__returned=x}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let o=this.keyMap.get(t);if(o!==void 0){let a=this.valList[o],l=this.isBackgroundFetch(a);return this.isStale(o)?l?r?a.__staleWhileFetching:void 0:(i||this.delete(t),r?a:void 0):l?void 0:(this.moveToTail(o),n&&this.updateItemAge(o),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return Bde("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,t,"delete"),this.disposeAfter&&this.disposed.push([i,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return Bde("reset","clear"),this.clear}get length(){return AQt("length","size"),this.size}static get AbortController(){return x$}static get AbortSignal(){return DHe}};LHe.exports=FT});var Qde=H((nHn,FHe)=>{"use strict";d();var qB=class extends Error{static{s(this,"FetchBaseError")}constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}},Fde=class extends qB{static{s(this,"FetchError")}constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},Mde=class extends qB{static{s(this,"AbortError")}constructor(t,r="aborted"){super(t,r,"AbortError")}};FHe.exports={FetchBaseError:qB,FetchError:Fde,AbortError:Mde}});var w2=H((sHn,QHe)=>{"use strict";d();var{constants:{MAX_LENGTH:yQt}}=require("buffer"),{pipeline:b$,PassThrough:CQt}=require("stream"),{promisify:xQt}=require("util"),{createGunzip:vQt,createInflate:bQt,createBrotliDecompress:EQt,constants:{Z_SYNC_FLUSH:MHe}}=require("zlib"),IQt=fE()("helix-fetch:utils"),TQt=xQt(b$),wQt=s((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),_Qt=s((e,t,r,n)=>{if(!wQt(e,t))return r;let i=s(o=>{o&&(IQt(`encountered error while decoding stream: ${o}`),n(o))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return b$(r,vQt({flush:MHe,finishFlush:MHe}),i);case"deflate":case"x-deflate":return b$(r,bQt(),i);case"br":return b$(r,EQt(),i);default:return r}},"decodeStream"),SQt=s(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),E$=s((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?RQt(e,t):kQt(e,t);default:return 0}},"calcSize"),RQt=s((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:E$(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),kQt=s((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let i in e)n.push(i);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(i=>{if(r+=E$(i,t),typeof e[i]=="object"&&e[i]!==null){if(t.has(e[i]))return;t.add(e[i])}r+=E$(e[i],t)}),r},"calcObjectSize"),BQt=s(e=>E$(e,new WeakSet),"sizeof"),DQt=s(async e=>{let t=new CQt,r=0,n=[];return t.on("data",i=>{if(r+i.length>yQt)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await TQt(e,t),Buffer.concat(n,r)},"streamToBuffer");QHe.exports={decodeStream:_Qt,isPlainObject:SQt,sizeof:BQt,streamToBuffer:DQt}});var T$=H((cHn,WHe)=>{"use strict";d();var{PassThrough:OHe,Readable:_2}=require("stream"),{types:{isAnyArrayBuffer:qHe}}=require("util"),{FetchError:PQt,FetchBaseError:NQt}=Qde(),{streamToBuffer:LQt}=w2(),FQt=Buffer.alloc(0),vm=Symbol("Body internals"),MQt=s(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),UHe=s(async e=>{if(e[vm].disturbed)throw new TypeError("Already read");if(e[vm].error)throw new TypeError(`Stream had error: ${e[vm].error.message}`);e[vm].disturbed=!0;let{stream:t}=e[vm];return t===null?FQt:LQt(t)},"consume"),I$=class{static{s(this,"Body")}constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=_2.from(t.toString()):t instanceof _2?r=t:Buffer.isBuffer(t)?r=_2.from(t):qHe(t)?r=_2.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=_2.from(t):r=_2.from(String(t)),this[vm]={stream:r,disturbed:!1,error:null},t instanceof _2&&r.on("error",n=>{let i=n instanceof NQt?n:new PQt(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[vm].error=i})}get body(){return this[vm].stream}get bodyUsed(){return this[vm].disturbed}async buffer(){return UHe(this)}async arrayBuffer(){return MQt(await this.buffer())}async text(){return(await UHe(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties(I$.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var QQt=s(e=>{if(e[vm].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[vm],r=t;if(t instanceof _2){r=new OHe;let n=new OHe;t.pipe(r),t.pipe(n),e[vm].stream=n}return r},"cloneStream"),OQt=s(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||qHe(e)||e instanceof _2?null:"text/plain; charset=utf-8","guessContentType");WHe.exports={Body:I$,cloneStream:QQt,guessContentType:OQt}});var MT=H((dHn,VHe)=>{"use strict";d();var{validateHeaderName:GHe,validateHeaderValue:HHe}=require("http"),{isPlainObject:UQt}=w2(),S2=Symbol("Headers internals"),WB=s(e=>{let t=typeof e!="string"?String(e):e;if(typeof GHe=="function")GHe(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),jHe=s((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof HHe=="function")HHe(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),w$=class e{static{s(this,"Headers")}constructor(t={}){if(this[S2]={map:new Map},t instanceof e)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(UQt(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[S2].map.set(WB(t),jHe(r,t))}has(t){return this[S2].map.has(WB(t))}get(t){let r=this[S2].map.get(WB(t));return r===void 0?null:r}append(t,r){let n=WB(t),i=jHe(r,t),o=this[S2].map.get(n);this[S2].map.set(n,o?`${o}, ${i}`:i)}delete(t){this[S2].map.delete(WB(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[S2].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[S2].map)}};Object.defineProperties(w$.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));VHe.exports={Headers:w$}});var Ode=H((pHn,$He)=>{"use strict";d();var{EventEmitter:qQt}=require("events"),ip=Symbol("AbortSignal internals"),QT=class{static{s(this,"AbortSignal")}constructor(){this[ip]={eventEmitter:new qQt,onabort:null,aborted:!1}}get aborted(){return this[ip].aborted}get onabort(){return this[ip].onabort}set onabort(t){this[ip].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[ip].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[ip].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[ip][n]=="function"&&this[n](r),this[ip].eventEmitter.emit(t,r)}fire(){this[ip].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties(QT.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var S$=class extends QT{static{s(this,"TimeoutSignal")}constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[ip].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[ip].timerId)}};Object.defineProperties(S$.prototype,{clear:{enumerable:!0}});var _$=Symbol("AbortController internals"),R$=class{static{s(this,"AbortController")}constructor(){this[_$]={signal:new QT}}get signal(){return this[_$].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[_$].signal.aborted||this[_$].signal.fire()}};Object.defineProperties(R$.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});$He.exports={AbortController:R$,AbortSignal:QT,TimeoutSignal:S$}});var GB=H((yHn,KHe)=>{"use strict";d();var{randomBytes:WQt}=require("crypto"),{Readable:GQt}=require("stream"),qde=s(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),HQt=s(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),zHe=s(e=>`--${e}--\r
\r
`,"getFooter"),YHe=s((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,qde(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*jQt(e,t){for(let[r,n]of e)yield YHe(t,r,n),qde(n)?yield*n.stream():yield n,yield`\r
`;yield zHe(t)}s(jQt,"formDataIterator");var VQt=s((e,t)=>{let r=0;for(let[n,i]of e)r+=Buffer.byteLength(YHe(t,n,i)),r+=qde(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(zHe(t)),r},"getFormDataLength"),Ude=class{static{s(this,"FormDataSerializer")}constructor(t){this.fd=t,this.boundary=WQt(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=VQt(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return GQt.from(jQt(this.fd,this.boundary))}};KHe.exports={isFormData:HQt,FormDataSerializer:Ude}});var XHe=H((vHn,JHe)=>{"use strict";d();var{AbortSignal:$Qt}=Ode(),{Body:zQt,cloneStream:YQt,guessContentType:KQt}=T$(),{Headers:JQt}=MT(),{isPlainObject:XQt}=w2(),{isFormData:ZQt,FormDataSerializer:eOt}=GB(),tOt=20,v3=Symbol("Request internals"),k$=class e extends zQt{static{s(this,"Request")}constructor(t,r={}){let n=t instanceof e?t:null,i=n?new URL(n.url):new URL(t),o=r.method||n&&n.method||"GET";if(o=o.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(o))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?YQt(n):null),l=new JQt(r.headers||n&&n.headers||{});if(ZQt(a)&&!l.has("content-type")){let m=new eOt(a);a=m.stream(),l.set("content-type",m.contentType()),!l.has("transfer-encoding")&&!l.has("content-length")&&l.set("content-length",m.length())}if(!l.has("content-type"))if(XQt(a))a=JSON.stringify(a),l.set("content-type","application/json");else{let m=KQt(a);m&&l.set("content-type",m)}super(a);let c=n?n.signal:null;if("signal"in r&&(c=r.signal),c&&!(c instanceof $Qt))throw new TypeError("signal needs to be an instance of AbortSignal");let u=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(u))throw new TypeError(`'${u}' is not a valid redirect option`);let f=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(f))throw new TypeError(`'${f}' is not a valid cache option`);this[v3]={init:{...r},method:o,redirect:u,cache:f,headers:l,parsedURL:i,signal:c},r.follow===void 0?!n||n.follow===void 0?this.follow=tOt:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[v3].method}get url(){return this[v3].parsedURL.toString()}get headers(){return this[v3].headers}get redirect(){return this[v3].redirect}get cache(){return this[v3].cache}get signal(){return this[v3].signal}clone(){return new e(this)}get init(){return this[v3].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(k$.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});JHe.exports={Request:k$}});var Wde=H((IHn,ZHe)=>{"use strict";d();var{Body:rOt,cloneStream:nOt,guessContentType:iOt}=T$(),{Headers:oOt}=MT(),{isPlainObject:sOt}=w2(),{isFormData:aOt,FormDataSerializer:lOt}=GB(),op=Symbol("Response internals"),B$=class e extends rOt{static{s(this,"Response")}constructor(t=null,r={}){let n=new oOt(r.headers),i=t;if(aOt(i)&&!n.has("content-type")){let o=new lOt(i);i=o.stream(),n.set("content-type",o.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",o.length())}if(i!==null&&!n.has("content-type"))if(sOt(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let o=iOt(i);o&&n.set("content-type",o)}super(i),this[op]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[op].url||""}get status(){return this[op].status}get statusText(){return this[op].statusText}get ok(){return this[op].status>=200&&this[op].status<300}get redirected(){return this[op].counter>0}get headers(){return this[op].headers}get httpVersion(){return this[op].httpVersion}get decoded(){return this[op].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new e(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new e(nOt(this),{...this[op]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(B$.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});ZHe.exports={Response:B$}});var tje=H((SHn,eje)=>{"use strict";d();var cOt=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),uOt=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),fOt=new Set([500,502,503,504]),dOt={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},mOt={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function mE(e){let t=parseInt(e,10);return isFinite(t)?t:0}s(mE,"toNumberOrZero");function hOt(e){return e?fOt.has(e.status):!0}s(hOt,"isErrorResponse");function Gde(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[i,o]=n.split(/=/,2);t[i.trim()]=o===void 0?!0:o.trim().replace(/^"|"$/g,"")}return t}s(Gde,"parseCacheControl");function pOt(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}s(pOt,"formatCacheControl");eje.exports=class{static{s(this,"CachePolicy")}constructor(t,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:o,ignoreCargoCult:a,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=o!==void 0?o:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=Gde(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=Gde(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":pOt(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&uOt.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||cOt.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=Gde(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)dOt[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return mE(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return mE(this._rescc["s-maxage"])}if(this._rescc["max-age"])return mE(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+mE(this._rescc["stale-if-error"]),n=t+mE(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+mE(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+mE(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(o=>!/^\s*W\//.test(o));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&hOt(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let i={};for(let a in this._resHeaders)i[a]=a in r.headers&&!mOt[a]?r.headers[a]:this._resHeaders[a];let o=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(t,o,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var oje=H((BHn,ije)=>{"use strict";d();var gOt=tje(),{Headers:AOt}=MT(),rje=s(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),nje=s(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),Hde=class{static{s(this,"CachePolicyWrapper")}constructor(t,r,n){this.policy=new gOt(rje(t),nje(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(rje(t))}responseHeaders(t){return new AOt(this.policy.responseHeaders(nje(t)))}timeToLive(){return this.policy.timeToLive()}};ije.exports=Hde});var lje=H((NHn,aje)=>{"use strict";d();var{Readable:yOt}=require("stream"),{Headers:sje}=MT(),{Response:COt}=Wde(),b3=Symbol("CacheableResponse internals"),xOt=s(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),jde=class e extends COt{static{s(this,"CacheableResponse")}constructor(t,r){super(t,r);let n=new sje(r.headers);this[b3]={headers:n,bufferedBody:t}}get headers(){return this[b3].headers}set headers(t){if(t instanceof sje)this[b3].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return yOt.from(this[b3].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[b3].bufferedBody}async arrayBuffer(){return xOt(this[b3].bufferedBody)}async text(){return this[b3].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:i,httpVersion:o,decoded:a,counter:l}=this;return new e(this[b3].bufferedBody,{url:t,status:r,statusText:n,headers:i,httpVersion:o,decoded:a,counter:l})}get[Symbol.toStringTag](){return this.constructor.name}},vOt=s(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:i,headers:o,httpVersion:a,decoded:l,counter:c}=e;return new jde(t,{url:r,status:n,statusText:i,headers:o,httpVersion:a,decoded:l,counter:c})},"cacheableResponse");aje.exports={cacheableResponse:vOt}});var D$=H((MHn,cje)=>{"use strict";d();var Vde=class extends Error{static{s(this,"RequestAbortedError")}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};cje.exports={RequestAbortedError:Vde}});var hje=H((UHn,mje)=>{"use strict";d();var fje=require("http"),dje=require("https"),{Readable:bOt}=require("stream"),R2=fE()("helix-fetch:h1"),{RequestAbortedError:uje}=D$(),{decodeStream:EOt}=w2(),IOt=s((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new dje.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new fje.Agent(n),r.httpAgent):void 0},"getAgent"),TOt=s(e=>{e.h1={}},"setupContext"),wOt=s(async({h1:e})=>{e.httpAgent&&(R2("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(R2("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),_Ot=s((e,t,r)=>{let{statusCode:n,statusMessage:i,httpVersion:o,httpVersionMajor:a,httpVersionMinor:l,headers:c}=e,u=t?EOt(n,c,e,r):e;return{statusCode:n,statusText:i,httpVersion:o,httpVersionMajor:a,httpVersionMinor:l,headers:c,readable:u,decoded:!!(t&&u!==e)}},"createResponse"),SOt=s(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?dje:fje,i=IOt(e,t.protocol),o={...r,agent:i},{socket:a,body:l}=o;return a&&(delete o.socket,a.assigned||(a.assigned=!0,i?o.agent=new Proxy(i,{get:s((c,u)=>u==="createConnection"&&!a.inUse?(f,m)=>{R2(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,m(null,a)}:c[u],"get")}):o.createConnection=(c,u)=>{R2(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,u(null,a)})),new Promise((c,u)=>{R2(`${o.method} ${t.href}`);let f,{signal:m}=o,h=s(()=>{m.removeEventListener("abort",h),a&&!a.inUse&&(R2(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u(new uje),f&&f.abort()},"onAbortSignal");if(m){if(m.aborted){u(new uje);return}m.addEventListener("abort",h)}f=n(t,o),f.once("response",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(R2(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(_Ot(p,o.decode,u))}),f.once("error",p=>{m&&m.removeEventListener("abort",h),a&&!a.inUse&&(R2(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),f.aborted||(R2(`${o.method} ${t.href} failed with: ${p.message}`),f.abort(),u(p))}),l instanceof bOt?l.pipe(f):(l&&f.write(l),f.end())})},"h1Request");mje.exports={request:SOt,setupContext:TOt,resetContext:wOt}});var yje=H((GHn,Aje)=>{"use strict";d();var{connect:ROt,constants:kOt}=require("http2"),{Readable:BOt}=require("stream"),_s=fE()("helix-fetch:h2"),{RequestAbortedError:pje}=D$(),{decodeStream:DOt}=w2(),{NGHTTP2_CANCEL:HB}=kOt,POt=5*60*1e3,NOt=5e3,LOt=s(e=>{e.h2={sessionCache:{}}},"setupContext"),FOt=s(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),_s(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),gje=s((e,t,r,n=()=>{})=>{let i={...e},o=i[":status"];delete i[":status"];let a=r?DOt(o,e,t,n):t;return{statusCode:o,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),MOt=s((e,t,r,n,i,o)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:l,pushedStreamIdleTimeout:c=NOt}}}=e,u=i[":path"],f=`${t}${u}`;_s(`received PUSH_PROMISE: ${f}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${o}`),a&&a(f,i,s(()=>{n.close(HB)},"rejectPush")),n.on("push",(m,h)=>{_s(`received push headers for ${t}${u}, stream #${n.id}, headers: ${JSON.stringify(m)}, flags: ${h}`),n.setTimeout(c,()=>{_s(`closing pushed stream #${n.id} after ${c} ms of inactivity`),n.close(HB)}),l&&l(f,i,gje(m,n,r))}),n.on("aborted",()=>{_s(`pushed stream #${n.id} aborted`)}),n.on("error",m=>{_s(`pushed stream #${n.id} encountered error: ${m}`)}),n.on("frameError",(m,h,p)=>{_s(`pushed stream #${n.id} encountered frameError: type: ${m}, code: ${h}, id: ${p}`)})},"handlePush"),QOt=s(async(e,t,r)=>{let{origin:n,pathname:i,search:o,hash:a}=t,l=`${i}${o}${a}`,{options:{h2:c={}},h2:{sessionCache:u}}=e,{idleSessionTimeout:f=POt,pushPromiseHandler:m,pushHandler:h}=c,p={...r},{method:g,headers:y,socket:x,body:b,decode:E}=p;return x&&delete p.socket,y.host&&(y[":authority"]=y.host,delete y.host),new Promise((_,k)=>{let B=u[n];if(!B||B.closed||B.destroyed){let Z=!(e.options.rejectUnauthorized===!1||c.rejectUnauthorized===!1),G={...c,rejectUnauthorized:Z};x&&!x.inUse&&(G.createConnection=()=>(_s(`reusing socket #${x.id} (${x.servername})`),x.inUse=!0,x)),B=ROt(n,{...G,settings:{enablePush:!!(m||h)}}),B.setMaxListeners(1e3),B.setTimeout(f,()=>{_s(`closing session ${n} after ${f} ms of inactivity`),B.close()}),B.once("connect",()=>{_s(`session ${n} established`),_s(`caching session ${n}`),u[n]=B}),B.on("localSettings",ie=>{_s(`session ${n} localSettings: ${JSON.stringify(ie)}`)}),B.on("remoteSettings",ie=>{_s(`session ${n} remoteSettings: ${JSON.stringify(ie)}`)}),B.once("close",()=>{_s(`session ${n} closed`),u[n]===B&&(_s(`discarding cached session ${n}`),delete u[n])}),B.once("error",ie=>{_s(`session ${n} encountered error: ${ie}`),u[n]===B&&(_s(`discarding cached session ${n}`),delete u[n])}),B.on("frameError",(ie,z,j)=>{_s(`session ${n} encountered frameError: type: ${ie}, code: ${z}, id: ${j}`)}),B.once("goaway",(ie,z,j)=>{_s(`session ${n} received GOAWAY frame: errorCode: ${ie}, lastStreamID: ${z}, opaqueData: ${j?j.toString():void 0}`)}),B.on("stream",(ie,z,j)=>{MOt(e,n,E,ie,z,j)})}else x&&x.id!==B.socket.id&&!x.inUse&&(_s(`discarding redundant socket used for ALPN: #${x.id} ${x.servername}`),x.destroy());_s(`${g} ${t.host}${l}`);let N,{signal:M}=p,te=s(()=>{M.removeEventListener("abort",te),k(new pje),N&&N.close(HB)},"onAbortSignal");if(M){if(M.aborted){k(new pje);return}M.addEventListener("abort",te)}let de=s(Z=>{_s(`session ${n} encountered error during ${p.method} ${t.href}: ${Z}`),k(Z)},"onSessionError");B.once("error",de),N=B.request({":method":g,":path":l,...y}),N.once("response",Z=>{B.off("error",de),M&&M.removeEventListener("abort",te),_(gje(Z,N,p.decode,k))}),N.once("error",Z=>{B.off("error",de),M&&M.removeEventListener("abort",te),N.rstCode!==HB&&(_s(`${p.method} ${t.href} failed with: ${Z.message}`),N.close(HB),k(Z))}),N.once("frameError",(Z,G,q)=>{B.off("error",de),_s(`encountered frameError during ${p.method} ${t.href}: type: ${Z}, code: ${G}, id: ${q}`)}),N.on("push",(Z,G)=>{_s(`received 'push' event: headers: ${JSON.stringify(Z)}, flags: ${G}`)}),b instanceof BOt?b.pipe(N):(b&&N.write(b),N.end())})},"request");Aje.exports={request:QOt,setupContext:LOt,resetContext:FOt}});var xje=H((VHn,Cje)=>{"use strict";d();var{EventEmitter:OOt}=require("events"),UOt=s(()=>{let e={},t=new OOt;return t.setMaxListeners(0),{acquire:s(r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let i=s(o=>{e[r]||(e[r]=!0,t.removeListener(r,i),n(o))},"tryAcquire");t.on(r,i)}),"acquire"),release:s((r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))},"release")}},"lock");Cje.exports=UOt});var vje=H((YHn,qOt)=>{qOt.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var wje=H((KHn,Tje)=>{"use strict";d();var{Readable:WOt}=require("stream"),GOt=require("tls"),{types:{isAnyArrayBuffer:HOt}}=require("util"),jOt=Lde(),$de=fE()("helix-fetch:core"),{RequestAbortedError:P$}=D$(),zde=hje(),N$=yje(),VOt=xje(),{isPlainObject:$Ot}=w2(),{isFormData:zOt,FormDataSerializer:YOt}=GB(),{version:KOt}=vje(),Yde="h2",Kde="h2c",Jde="http/1.0",hE="http/1.1",JOt=100,XOt=60*60*1e3,ZOt=[Yde,hE,Jde],eUt=`helix-fetch/${KOt}`,tUt={method:"GET",compress:!0,decode:!0},bje=0,Eje=VOt(),Ije=s((e,t)=>new Promise((r,n)=>{let{signal:i}=t,o,a=s(()=>{i.removeEventListener("abort",a);let u=new P$;n(u),o&&o.destroy(u)},"onAbortSignal");if(i){if(i.aborted){n(new P$);return}i.addEventListener("abort",a)}let l=+e.port||443,c=s(u=>{i&&i.removeEventListener("abort",a),u instanceof P$||($de(`connecting to ${e.hostname}:${l} failed with: ${u.message}`),n(u))},"onError");o=GOt.connect(l,e.hostname,t),o.once("secureConnect",()=>{i&&i.removeEventListener("abort",a),o.off("error",c),bje+=1,o.id=bje,o.secureConnecting=!1,$de(`established TLS connection: #${o.id} (${o.servername})`),r(o)}),o.once("error",c)}),"connectTLS"),rUt=s(async(e,t)=>{let r=await Eje.acquire(e.origin);try{return r||(r=await Ije(e,t)),r}finally{Eje.release(e.origin,r)}},"connect"),nUt=s(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,i=e.alpnCache.get(n);if(i)return{protocol:i};switch(t.protocol){case"http:":return i=hE,e.alpnCache.set(n,i),{protocol:i};case"http2:":return i=Kde,e.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:o,h1:a={},h2:l={}}}=e,c=!(o===!1||a.rejectUnauthorized===!1||l.rejectUnauthorized===!1),u={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:c};e.options.ca&&(u.ca=e.options.ca);let f=await rUt(t,u);return i=f.alpnProtocol,i||(i=hE),e.alpnCache.set(n,i),{protocol:i,socket:f}},"determineProtocol"),iUt=s(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),oUt=s(async(e,t,r,n)=>{let i=t.protocol==="https:",o;t.port?o=t.port:i?o=443:o=80;let a={...r,host:t.host,hostname:t.hostname,port:o},l=await e(a);if(i){let u={...a,ALPNProtocols:n};u.socket=l,u.servername=a.host;let f=await Ije(t,u);return{protocol:f.alpnProtocol||hE,socket:f}}return{protocol:l.alpnProtocol||hE,socket:l}},"getProtocolAndSocketFromFactory"),sUt=s(async(e,t,r)=>{let n=new URL(t),i={...tUt,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=iUt(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),e.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=e.userAgent);let o;if(i.body instanceof URLSearchParams)o="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(zOt(i.body)){let u=new YOt(i.body);o=u.contentType(),i.body=u.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(u.length()))}else typeof i.body=="string"||i.body instanceof String?o="text/plain; charset=utf-8":$Ot(i.body)?(i.body=JSON.stringify(i.body),o="application/json"):HOt(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&o!==void 0&&(i.headers["content-type"]=o),i.body!=null&&(i.body instanceof WOt||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=i,{protocol:l,socket:c=null}=e.socketFactory?await oUt(e.socketFactory,n,i,e.alpnProtocols):await nUt(e,n,a);switch($de(`${n.host} -> ${l}`),l){case Yde:try{return await N$.request(e,n,c?{...i,socket:c}:i)}catch(u){let{code:f,message:m}=u;throw f==="ERR_HTTP2_ERROR"&&m==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),u}case Kde:return N$.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),c?{...i,socket:c}:i);case Jde:case hE:return zde.request(e,n,c?{...i,socket:c}:i);default:throw new TypeError(`unsupported protocol: ${l}`)}},"request"),aUt=s(async e=>(e.alpnCache.clear(),Promise.all([zde.resetContext(e),N$.resetContext(e)])),"resetContext"),lUt=s(e=>{let{options:{alpnProtocols:t=ZOt,alpnCacheTTL:r=XOt,alpnCacheSize:n=JOt,userAgent:i=eUt,socketFactory:o}}=e;e.alpnProtocols=t,e.alpnCache=new jOt({max:n,ttl:r}),e.userAgent=i,e.socketFactory=o,zde.setupContext(e),N$.setupContext(e)},"setupContext");Tje.exports={request:sUt,setupContext:lUt,resetContext:aUt,RequestAbortedError:P$,ALPN_HTTP2:Yde,ALPN_HTTP2C:Kde,ALPN_HTTP1_1:hE,ALPN_HTTP1_0:Jde}});var Sje=H((ZHn,_je)=>{"use strict";d();var cUt=fE()("helix-fetch:core"),{request:uUt,setupContext:fUt,resetContext:dUt,RequestAbortedError:mUt,ALPN_HTTP2:hUt,ALPN_HTTP2C:pUt,ALPN_HTTP1_1:gUt,ALPN_HTTP1_0:AUt}=wje(),Xde=class e{static{s(this,"RequestContext")}constructor(t){this.options={...t||{}},fUt(this)}api(){return{request:s(async(t,r)=>this.request(t,r),"request"),context:s((t={})=>new e(t).api(),"context"),setCA:s(t=>this.setCA(t),"setCA"),reset:s(async()=>this.reset(),"reset"),RequestAbortedError:mUt,ALPN_HTTP2:hUt,ALPN_HTTP2C:pUt,ALPN_HTTP1_1:gUt,ALPN_HTTP1_0:AUt}}async request(t,r){return uUt(this,t,r)}setCA(t){this.options.ca=t}async reset(){return cUt("resetting context"),dUt(this)}};_je.exports=new Xde().api()});var Pje=H((rjn,Dje)=>{"use strict";d();var{EventEmitter:yUt}=require("events"),{Readable:jB}=require("stream"),Zde=fE()("helix-fetch"),CUt=Lde(),{Body:xUt}=T$(),{Headers:nme}=MT(),{Request:pE}=XHe(),{Response:tme}=Wde(),{FetchBaseError:vUt,FetchError:VB,AbortError:L$}=Qde(),{AbortController:bUt,AbortSignal:EUt,TimeoutSignal:IUt}=Ode(),TUt=oje(),{cacheableResponse:wUt}=lje(),{sizeof:_Ut}=w2(),{isFormData:SUt}=GB(),{context:RUt,RequestAbortedError:kUt}=Sje(),Rje=["GET","HEAD"],BUt=500,DUt=100*1024*1024,eme="push",kje=s(async(e,t,r)=>{let{request:n}=e.context,i=t instanceof pE&&typeof r>"u"?t:new pE(t,r),{method:o,body:a,signal:l,compress:c,decode:u,follow:f,redirect:m,init:{body:h}}=i,p;if(l&&l.aborted){let B=new L$("The operation was aborted.");throw i.init.body instanceof jB&&i.init.body.destroy(B),B}try{p=await n(i.url,{...r,method:o,headers:i.headers.plain(),body:h&&!(h instanceof jB)&&!SUt(h)?h:a,compress:c,decode:u,follow:f,redirect:m,signal:l})}catch(B){throw h instanceof jB&&h.destroy(B),B instanceof TypeError?B:B instanceof kUt?new L$("The operation was aborted."):new VB(B.message,"system",B)}let g=s(()=>{l.removeEventListener("abort",g);let B=new L$("The operation was aborted.");i.init.body instanceof jB&&i.init.body.destroy(B),p.readable.emit("error",B)},"abortHandler");l&&l.addEventListener("abort",g);let{statusCode:y,statusText:x,httpVersion:b,headers:E,readable:_,decoded:k}=p;if([301,302,303,307,308].includes(y)){let{location:B}=E,N=B==null?null:new URL(B,i.url);switch(i.redirect){case"manual":break;case"error":throw l&&l.removeEventListener("abort",g),new VB(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(N===null)break;if(i.counter>=i.follow)throw l&&l.removeEventListener("abort",g),new VB(`maximum redirect reached at: ${i.url}`,"max-redirect");let M={headers:new nme(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(y!==303&&i.body&&i.init.body instanceof jB)throw l&&l.removeEventListener("abort",g),new VB("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(y===303||(y===301||y===302)&&i.method==="POST")&&(M.method="GET",M.body=void 0,M.headers.delete("content-length")),l&&l.removeEventListener("abort",g),kje(e,new pE(N,M))}default:}}return l&&(_.once("end",()=>{l.removeEventListener("abort",g)}),_.once("error",()=>{l.removeEventListener("abort",g)})),new tme(_,{url:i.url,status:y,statusText:x,headers:E,httpVersion:b,decoded:k,counter:i.counter})},"fetch"),Bje=s(async(e,t,r)=>{if(e.options.maxCacheSize===0||!Rje.includes(t.method))return r;let n=new TUt(t,r,{shared:!1});if(n.storable()){let i=await wUt(r);return e.cache.set(t.url,{policy:n,response:i},n.timeToLive()),i}else return r},"cacheResponse"),PUt=s(async(e,t,r)=>{let n=new pE(t,r);if(e.options.maxCacheSize!==0&&Rje.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:l}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){l.headers=new nme(a.responseHeaders(l));let c=l.clone();return c.fromCache=!0,c}}let o=await kje(e,n);return n.cache!=="no-store"?Bje(e,n,o):o},"cachingFetch"),NUt=s((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,i])=>{Array.isArray(i)?i.forEach(o=>r.searchParams.append(n,o)):r.searchParams.append(n,i)}),r.href},"createUrl"),LUt=s(e=>new IUt(e),"timeoutSignal"),rme=class e{static{s(this,"FetchContext")}constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:DUt,i=BUt;n===0&&(n=1,i=1);let o=s(({response:l},c)=>_Ut(l),"sizeCalculation");this.cache=new CUt({max:i,maxSize:n,sizeCalculation:o}),this.eventEmitter=new yUt,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(m=>m.startsWith(":")).forEach(m=>delete f[m]),this.pushPromiseHandler(l,f,u)},this.options.h2.pushHandler=(l,c,u)=>{let f={...c};Object.keys(f).filter(b=>b.startsWith(":")).forEach(b=>delete f[b]);let{statusCode:m,statusText:h,httpVersion:p,headers:g,readable:y,decoded:x}=u;this.pushHandler(l,f,new tme(y,{url:l,status:m,statusText:h,headers:g,httpVersion:p,decoded:x}))}),this.context=RUt(this.options)}api(){return{fetch:s(async(t,r)=>this.fetch(t,r),"fetch"),Body:xUt,Headers:nme,Request:pE,Response:tme,AbortController:bUt,AbortSignal:EUt,FetchBaseError:vUt,FetchError:VB,AbortError:L$,context:s((t={})=>new e(t).api(),"context"),setCA:s(t=>this.setCA(t),"setCA"),noCache:s((t={})=>new e({...t,maxCacheSize:0}).api(),"noCache"),h1:s((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1"),keepAlive:s((t={})=>new e({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAlive"),h1NoCache:s((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),"h1NoCache"),keepAliveNoCache:s((t={})=>new e({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),"keepAliveNoCache"),reset:s(async()=>this.context.reset(),"reset"),onPush:s(t=>this.onPush(t),"onPush"),offPush:s(t=>this.offPush(t),"offPush"),createUrl:NUt,timeoutSignal:LUt,clearCache:s(()=>this.clearCache(),"clearCache"),cacheStats:s(()=>this.cacheStats(),"cacheStats"),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return PUt(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(eme,t)}offPush(t){return this.eventEmitter.off(eme,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){Zde(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let i=new pE(t,{headers:r}),{policy:o}=this.cache.get(t)||{};o&&o.satisfiesWithoutRevalidation(i)&&(Zde(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){Zde(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await Bje(this,new pE(t,{headers:r}),n);this.eventEmitter.emit(eme,t,i)}};Dje.exports=new rme().api()});var Lje=H((ojn,Nje)=>{"use strict";d();Nje.exports=Pje()});var I$e=H((foi,E$e)=>{d();E$e.exports=b$e;b$e.sync=qGt;var x$e=require("fs");function UGt(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}s(UGt,"checkPathExt");function v$e(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:UGt(t,r)}s(v$e,"checkStat");function b$e(e,t,r){x$e.stat(e,function(n,i){r(n,n?!1:v$e(i,e,t))})}s(b$e,"isexe");function qGt(e,t){return v$e(x$e.statSync(e),e,t)}s(qGt,"sync")});var R$e=H((hoi,S$e)=>{d();S$e.exports=w$e;w$e.sync=WGt;var T$e=require("fs");function w$e(e,t,r){T$e.stat(e,function(n,i){r(n,n?!1:_$e(i,t))})}s(w$e,"isexe");function WGt(e,t){return _$e(T$e.statSync(e),t)}s(WGt,"sync");function _$e(e,t){return e.isFile()&&GGt(e,t)}s(_$e,"checkStat");function GGt(e,t){var r=e.mode,n=e.uid,i=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),a=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),l=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),f=l|c,m=r&u||r&c&&i===a||r&l&&n===o||r&f&&o===0;return m}s(GGt,"checkMode")});var B$e=H((yoi,k$e)=>{d();var Aoi=require("fs"),Dz;process.platform==="win32"||global.TESTING_WINDOWS?Dz=I$e():Dz=R$e();k$e.exports=Ume;Ume.sync=HGt;function Ume(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Ume(e,t||{},function(o,a){o?i(o):n(a)})})}Dz(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}s(Ume,"isexe");function HGt(e,t){try{return Dz.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}s(HGt,"sync")});var Q$e=H((voi,M$e)=>{d();var ew=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",D$e=require("path"),jGt=ew?";":":",P$e=B$e(),N$e=s(e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),"getNotFoundError"),L$e=s((e,t)=>{let r=t.colon||jGt,n=e.match(/\//)||ew&&e.match(/\\/)?[""]:[...ew?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=ew?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=ew?i.split(r):[""];return ew&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},"getPathInfo"),F$e=s((e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:o}=L$e(e,t),a=[],l=s(u=>new Promise((f,m)=>{if(u===n.length)return t.all&&a.length?f(a):m(N$e(e));let h=n[u],p=/^".*"$/.test(h)?h.slice(1,-1):h,g=D$e.join(p,e),y=!p&&/^\.[\\\/]/.test(e)?e.slice(0,2)+g:g;f(c(y,u,0))}),"step"),c=s((u,f,m)=>new Promise((h,p)=>{if(m===i.length)return h(l(f+1));let g=i[m];P$e(u+g,{pathExt:o},(y,x)=>{if(!y&&x)if(t.all)a.push(u+g);else return h(u+g);return h(c(u,f,m+1))})}),"subStep");return r?l(0).then(u=>r(null,u),r):l(0)},"which"),VGt=s((e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=L$e(e,t),o=[];for(let a=0;a<r.length;a++){let l=r[a],c=/^".*"$/.test(l)?l.slice(1,-1):l,u=D$e.join(c,e),f=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let m=0;m<n.length;m++){let h=f+n[m];try{if(P$e.sync(h,{pathExt:i}))if(t.all)o.push(h);else return h}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw N$e(e)},"whichSync");M$e.exports=F$e;F$e.sync=VGt});var U$e=H((Ioi,qme)=>{"use strict";d();var O$e=s((e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"},"pathKey");qme.exports=O$e;qme.exports.default=O$e});var H$e=H((_oi,G$e)=>{"use strict";d();var q$e=require("path"),$Gt=Q$e(),zGt=U$e();function W$e(e,t){let r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let a;try{a=$Gt.sync(e.command,{path:r[zGt({env:r})],pathExt:t?q$e.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return a&&(a=q$e.resolve(i?e.options.cwd:"",a)),a}s(W$e,"resolveCommandAttempt");function YGt(e){return W$e(e)||W$e(e,!0)}s(YGt,"resolveCommand");G$e.exports=YGt});var j$e=H((koi,Gme)=>{"use strict";d();var Wme=/([()\][%!^"`<>&|;, *?])/g;function KGt(e){return e=e.replace(Wme,"^$1"),e}s(KGt,"escapeCommand");function JGt(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(Wme,"^$1"),t&&(e=e.replace(Wme,"^$1")),e}s(JGt,"escapeArgument");Gme.exports.command=KGt;Gme.exports.argument=JGt});var $$e=H((Poi,V$e)=>{"use strict";d();V$e.exports=/^#!(.*)/});var Y$e=H((Loi,z$e)=>{"use strict";d();var XGt=$$e();z$e.exports=(e="")=>{let t=e.match(XGt);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var J$e=H((Moi,K$e)=>{"use strict";d();var Hme=require("fs"),ZGt=Y$e();function eHt(e){let r=Buffer.alloc(150),n;try{n=Hme.openSync(e,"r"),Hme.readSync(n,r,0,150,0),Hme.closeSync(n)}catch{}return ZGt(r.toString())}s(eHt,"readShebang");K$e.exports=eHt});var tze=H((Uoi,eze)=>{"use strict";d();var tHt=require("path"),X$e=H$e(),Z$e=j$e(),rHt=J$e(),nHt=process.platform==="win32",iHt=/\.(?:com|exe)$/i,oHt=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function sHt(e){e.file=X$e(e);let t=e.file&&rHt(e.file);return t?(e.args.unshift(e.file),e.command=t,X$e(e)):e.file}s(sHt,"detectShebang");function aHt(e){if(!nHt)return e;let t=sHt(e),r=!iHt.test(t);if(e.options.forceShell||r){let n=oHt.test(t);e.command=tHt.normalize(e.command),e.command=Z$e.command(e.command),e.args=e.args.map(o=>Z$e.argument(o,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}s(aHt,"parseNonShell");function lHt(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:aHt(n)}s(lHt,"parse");eze.exports=lHt});var ize=H((Goi,nze)=>{"use strict";d();var jme=process.platform==="win32";function Vme(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}s(Vme,"notFoundError");function cHt(e,t){if(!jme)return;let r=e.emit;e.emit=function(n,i){if(n==="exit"){let o=rze(i,t);if(o)return r.call(e,"error",o)}return r.apply(e,arguments)}}s(cHt,"hookChildProcess");function rze(e,t){return jme&&e===1&&!t.file?Vme(t.original,"spawn"):null}s(rze,"verifyENOENT");function uHt(e,t){return jme&&e===1&&!t.file?Vme(t.original,"spawnSync"):null}s(uHt,"verifyENOENTSync");nze.exports={hookChildProcess:cHt,verifyENOENT:rze,verifyENOENTSync:uHt,notFoundError:Vme}});var aze=H((Voi,tw)=>{"use strict";d();var oze=require("child_process"),$me=tze(),zme=ize();function sze(e,t,r){let n=$me(e,t,r),i=oze.spawn(n.command,n.args,n.options);return zme.hookChildProcess(i,n),i}s(sze,"spawn");function fHt(e,t,r){let n=$me(e,t,r),i=oze.spawnSync(n.command,n.args,n.options);return i.error=i.error||zme.verifyENOENTSync(i.status,n),i}s(fHt,"spawnSync");tw.exports=sze;tw.exports.spawn=sze;tw.exports.sync=fHt;tw.exports._parse=$me;tw.exports._enoent=zme});var FHt={};V1(FHt,{getTokenizer:()=>lo,getTokenizerAsync:()=>pve,main:()=>Vze});module.exports=AKe(FHt);d();d();Jpe().install();d();d();var L7="github.copilot";d();d();var Hp=class{static{s(this,"Clock")}now(){return new Date}};d();var BN=Ze(t5());function nJ(e){return(0,BN.SHA256)(BN.enc.Utf16.parse(e.prefix+e.suffix)).toString()}s(nJ,"keyForPrompt");var un=class{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}static{s(this,"LRUCacheMap")}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?this.deleteKey(t):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}deleteKey(t){let r=!1;return this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&(r=this.valueMap.delete(t)),r}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};d();d();d();d();var Vs=class extends Error{static{s(this,"CopilotAuthError")}constructor(t,r){super(t,{cause:r}),this.name="CopilotAuthError"}};d();var hd="X-Copilot-RelatedPluginVersion-",M7=(U=>(U.Market="X-MSEdge-Market",U.CorpNet="X-FD-Corpnet",U.Build="X-VSCode-Build",U.ApplicationVersion="X-VSCode-AppVersion",U.TargetPopulation="X-VSCode-TargetPopulation",U.ClientId="X-MSEdge-ClientId",U.ExtensionName="X-VSCode-ExtensionName",U.ExtensionVersion="X-VSCode-ExtensionVersion",U.ExtensionRelease="X-VSCode-ExtensionRelease",U.Language="X-VSCode-Language",U.CopilotClientTimeBucket="X-Copilot-ClientTimeBucket",U.CopilotEngine="X-Copilot-Engine",U.CopilotOverrideEngine="X-Copilot-OverrideEngine",U.CopilotRepository="X-Copilot-Repository",U.CopilotFileType="X-Copilot-FileType",U.CopilotUserKind="X-Copilot-UserKind",U.CopilotDogfood="X-Copilot-Dogfood",U.CopilotCustomModel="X-Copilot-CustomModel",U.CopilotOrgs="X-Copilot-Orgs",U.CopilotCustomModelNames="X-Copilot-CustomModelNames",U.CopilotTrackingId="X-Copilot-CopilotTrackingId",U.CopilotClientVersion="X-Copilot-ClientVersion",U.CopilotRelatedPluginVersionCppTools=hd+"msvscodecpptools",U.CopilotRelatedPluginVersionCMakeTools=hd+"msvscodecmaketools",U.CopilotRelatedPluginVersionMakefileTools=hd+"msvscodemakefiletools",U.CopilotRelatedPluginVersionCSharpDevKit=hd+"msdotnettoolscsdevkit",U.CopilotRelatedPluginVersionPython=hd+"mspythonpython",U.CopilotRelatedPluginVersionPylance=hd+"mspythonvscodepylance",U.CopilotRelatedPluginVersionJavaPack=hd+"vscjavavscodejavapack",U.CopilotRelatedPluginVersionTypescript=hd+"vscodetypescriptlanguagefeatures",U.CopilotRelatedPluginVersionTypescriptNext=hd+"msvscodevscodetypescriptnext",U.CopilotRelatedPluginVersionCSharp=hd+"msdotnettoolscsharp",U))(M7||{});var rJe={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},Bx=class e{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}static{s(this,"FilterSettings")}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let i=rJe[r];i!==void 0&&(t.properties[i]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new e({...this.filters,[t]:r})}};d();var fn=class{static{s(this,"Fetcher")}#e;set rejectUnauthorized(t){this.#e=t}get rejectUnauthorized(){return this.#e}},Q7=class extends Error{static{s(this,"HttpTimeoutError")}constructor(t,r){super(t,{cause:r}),this.name="HttpTimeoutError"}};function Rc(e){return!e||typeof e!="object"?!1:e instanceof Q7||"name"in e&&e.name==="AbortError"||"code"in e&&e.code==="ABORT_ERR"}s(Rc,"isAbortError");var oI=class extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}static{s(this,"JsonParseError")}},Dx=class extends Error{static{s(this,"FetchResponseError")}constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}},nJe=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function O7(e,t=!0){return e instanceof Error?t&&"cause"in e&&O7(e.cause,!1)?!0:e.name==="EditorFetcherError"||e.name==="FetchError"||e instanceof oI||e instanceof Dx||e?.message?.startsWith("net::")||nJe.has(e.code??""):!1}s(O7,"isNetworkError");var r5=class{constructor(t,r,n,i,o){this.status=t;this.statusText=r;this.headers=n;this.getText=i;this.getBody=o;this.ok=this.status>=200&&this.status<300;this.clientError=this.status>=400&&this.status<500}static{s(this,"Response")}async text(){return this.getText()}async json(){let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new oI(`Response content-type is ${r??"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let i=n.message.match(/^(.*?) in JSON at position (\d+)(?: \(line \d+ column \d+\))?$/);if(i&&parseInt(i[2],10)==t.length||n.message==="Unexpected end of JSON input"){let o=new TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new oI(`Response body truncated: actualLength=${o}`,"Truncated"):new oI(`Response body truncated: actualLength=${o}, headerLength=${a}`,"Truncated")}}throw n}}body(){return this.getBody()}};function Px(e,t,r,n,i,o,a,l,c){let u={...l,Authorization:`Bearer ${r}`,"X-Request-Id":i,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(Bs).sessionId,"VScode-MachineId":e.get(Bs).machineId,...Hu(e),"X-GitHub-Api-Version":jm};n&&(u["OpenAI-Intent"]=n);let f={method:"POST",headers:u,json:o,timeout:c},m=e.get(fn);if(a){let p=m.makeAbortController();a.onCancellationRequested(()=>{jt(e,"networking.cancelRequest",dn.createAndMarkAsIssued({headerRequestId:i})),p.abort()}),f.signal=p.signal}return m.fetch(t,f).catch(p=>{if(iJe(p))return jt(e,"networking.disconnectAll"),m.disconnectAll().then(()=>m.fetch(t,f));throw p})}s(Px,"postRequest");function iJe(e){return e instanceof Error?e.message=="ERR_HTTP2_GOAWAY_SESSION"?!0:"code"in e?e.code=="ECONNRESET"||e.code=="ETIMEDOUT"||e.code=="ERR_HTTP2_INVALID_SESSION":!1:!1}s(iJe,"isInterruptedNetworkError");d();d();d();d();d();d();d();var kc={};V1(kc,{HasPropertyKey:()=>DN,IsArray:()=>xa,IsAsyncIterator:()=>iJ,IsBigInt:()=>U7,IsBoolean:()=>Y1,IsDate:()=>Nx,IsFunction:()=>oJ,IsIterator:()=>sJ,IsNull:()=>aJ,IsNumber:()=>ju,IsObject:()=>_o,IsRegExp:()=>q7,IsString:()=>qo,IsSymbol:()=>lJ,IsUint8Array:()=>K1,IsUndefined:()=>va});d();function DN(e,t){return t in e}s(DN,"HasPropertyKey");function iJ(e){return _o(e)&&!xa(e)&&!K1(e)&&Symbol.asyncIterator in e}s(iJ,"IsAsyncIterator");function xa(e){return Array.isArray(e)}s(xa,"IsArray");function U7(e){return typeof e=="bigint"}s(U7,"IsBigInt");function Y1(e){return typeof e=="boolean"}s(Y1,"IsBoolean");function Nx(e){return e instanceof globalThis.Date}s(Nx,"IsDate");function oJ(e){return typeof e=="function"}s(oJ,"IsFunction");function sJ(e){return _o(e)&&!xa(e)&&!K1(e)&&Symbol.iterator in e}s(sJ,"IsIterator");function aJ(e){return e===null}s(aJ,"IsNull");function ju(e){return typeof e=="number"}s(ju,"IsNumber");function _o(e){return typeof e=="object"&&e!==null}s(_o,"IsObject");function q7(e){return e instanceof globalThis.RegExp}s(q7,"IsRegExp");function qo(e){return typeof e=="string"}s(qo,"IsString");function lJ(e){return typeof e=="symbol"}s(lJ,"IsSymbol");function K1(e){return e instanceof globalThis.Uint8Array}s(K1,"IsUint8Array");function va(e){return e===void 0}s(va,"IsUndefined");function oJe(e){return e.map(t=>PN(t))}s(oJe,"ArrayType");function sJe(e){return new Date(e.getTime())}s(sJe,"DateType");function aJe(e){return new Uint8Array(e)}s(aJe,"Uint8ArrayType");function lJe(e){return new RegExp(e.source,e.flags)}s(lJe,"RegExpType");function cJe(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=PN(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=PN(e[r]);return t}s(cJe,"ObjectType");function PN(e){return xa(e)?oJe(e):Nx(e)?sJe(e):K1(e)?aJe(e):q7(e)?lJe(e):_o(e)?cJe(e):e}s(PN,"Visit");function as(e){return PN(e)}s(as,"Clone");function sI(e,t){return t===void 0?as(e):as({...t,...e})}s(sI,"CloneType");d();d();d();function NN(e){return ui(e)&&globalThis.Symbol.asyncIterator in e}s(NN,"IsAsyncIterator");function LN(e){return ui(e)&&globalThis.Symbol.iterator in e}s(LN,"IsIterator");function cJ(e){return ui(e)&&(globalThis.Object.getPrototypeOf(e)===Object.prototype||globalThis.Object.getPrototypeOf(e)===null)}s(cJ,"IsStandardObject");function FN(e){return e instanceof globalThis.Promise}s(FN,"IsPromise");function u0(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}s(u0,"IsDate");function o1e(e){return e instanceof globalThis.Map}s(o1e,"IsMap");function s1e(e){return e instanceof globalThis.Set}s(s1e,"IsSet");function pd(e){return globalThis.ArrayBuffer.isView(e)}s(pd,"IsTypedArray");function aI(e){return e instanceof globalThis.Uint8Array}s(aI,"IsUint8Array");function yn(e,t){return t in e}s(yn,"HasPropertyKey");function ui(e){return e!==null&&typeof e=="object"}s(ui,"IsObject");function Cn(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}s(Cn,"IsArray");function ls(e){return e===void 0}s(ls,"IsUndefined");function J1(e){return e===null}s(J1,"IsNull");function jp(e){return typeof e=="boolean"}s(jp,"IsBoolean");function Xr(e){return typeof e=="number"}s(Xr,"IsNumber");function MN(e){return globalThis.Number.isInteger(e)}s(MN,"IsInteger");function tc(e){return typeof e=="bigint"}s(tc,"IsBigInt");function Oi(e){return typeof e=="string"}s(Oi,"IsString");function n5(e){return typeof e=="function"}s(n5,"IsFunction");function X1(e){return typeof e=="symbol"}s(X1,"IsSymbol");function Vu(e){return tc(e)||jp(e)||J1(e)||Xr(e)||Oi(e)||X1(e)||ls(e)}s(Vu,"IsValueType");var Yo;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,l){return e.ExactOptionalPropertyTypes?l in a:a[l]!==void 0}s(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let l=ui(a);return e.AllowArrayObject?l:l&&!Cn(a)}s(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}s(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return e.AllowNaN?Xr(a):Number.isFinite(a)}s(i,"IsNumberLike"),e.IsNumberLike=i;function o(a){let l=ls(a);return e.AllowNullVoid?l||a===null:l}s(o,"IsVoidLike"),e.IsVoidLike=o})(Yo||(Yo={}));d();function uJe(e){return globalThis.Object.freeze(e).map(t=>W7(t))}s(uJe,"ImmutableArray");function fJe(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=W7(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=W7(e[r]);return globalThis.Object.freeze(t)}s(fJe,"ImmutableObject");function W7(e){return xa(e)?uJe(e):Nx(e)?e:K1(e)?e:q7(e)?e:_o(e)?fJe(e):e}s(W7,"Immutable");function ut(e,t){let r=t!==void 0?{...t,...e}:e;switch(Yo.InstanceMode){case"freeze":return W7(r);case"clone":return as(r);default:return r}}s(ut,"CreateType");d();var xn=class extends Error{static{s(this,"TypeBoxError")}constructor(t){super(t)}};d();d();d();var Ds=Symbol.for("TypeBox.Transform"),Vm=Symbol.for("TypeBox.Readonly"),rc=Symbol.for("TypeBox.Optional"),gd=Symbol.for("TypeBox.Hint"),ot=Symbol.for("TypeBox.Kind");function lI(e){return _o(e)&&e[Vm]==="Readonly"}s(lI,"IsReadonly");function z0(e){return _o(e)&&e[rc]==="Optional"}s(z0,"IsOptional");function uJ(e){return ki(e,"Any")}s(uJ,"IsAny");function fJ(e){return ki(e,"Argument")}s(fJ,"IsArgument");function $m(e){return ki(e,"Array")}s($m,"IsArray");function Lx(e){return ki(e,"AsyncIterator")}s(Lx,"IsAsyncIterator");function Fx(e){return ki(e,"BigInt")}s(Fx,"IsBigInt");function Z1(e){return ki(e,"Boolean")}s(Z1,"IsBoolean");function zm(e){return ki(e,"Computed")}s(zm,"IsComputed");function Ym(e){return ki(e,"Constructor")}s(Ym,"IsConstructor");function dJe(e){return ki(e,"Date")}s(dJe,"IsDate");function Km(e){return ki(e,"Function")}s(Km,"IsFunction");function Jm(e){return ki(e,"Integer")}s(Jm,"IsInteger");function $s(e){return ki(e,"Intersect")}s($s,"IsIntersect");function Mx(e){return ki(e,"Iterator")}s(Mx,"IsIterator");function ki(e,t){return _o(e)&&ot in e&&e[ot]===t}s(ki,"IsKindOf");function QN(e){return Y1(e)||ju(e)||qo(e)}s(QN,"IsLiteralValue");function $u(e){return ki(e,"Literal")}s($u,"IsLiteral");function zu(e){return ki(e,"MappedKey")}s(zu,"IsMappedKey");function cs(e){return ki(e,"MappedResult")}s(cs,"IsMappedResult");function i5(e){return ki(e,"Never")}s(i5,"IsNever");function mJe(e){return ki(e,"Not")}s(mJe,"IsNot");function G7(e){return ki(e,"Null")}s(G7,"IsNull");function Xm(e){return ki(e,"Number")}s(Xm,"IsNumber");function ba(e){return ki(e,"Object")}s(ba,"IsObject");function Qx(e){return ki(e,"Promise")}s(Qx,"IsPromise");function Ox(e){return ki(e,"Record")}s(Ox,"IsRecord");function ra(e){return ki(e,"Ref")}s(ra,"IsRef");function dJ(e){return ki(e,"RegExp")}s(dJ,"IsRegExp");function eA(e){return ki(e,"String")}s(eA,"IsString");function H7(e){return ki(e,"Symbol")}s(H7,"IsSymbol");function Yu(e){return ki(e,"TemplateLiteral")}s(Yu,"IsTemplateLiteral");function hJe(e){return ki(e,"This")}s(hJe,"IsThis");function oo(e){return _o(e)&&Ds in e}s(oo,"IsTransform");function Ku(e){return ki(e,"Tuple")}s(Ku,"IsTuple");function tA(e){return ki(e,"Undefined")}s(tA,"IsUndefined");function Ui(e){return ki(e,"Union")}s(Ui,"IsUnion");function pJe(e){return ki(e,"Uint8Array")}s(pJe,"IsUint8Array");function gJe(e){return ki(e,"Unknown")}s(gJe,"IsUnknown");function AJe(e){return ki(e,"Unsafe")}s(AJe,"IsUnsafe");function yJe(e){return ki(e,"Void")}s(yJe,"IsVoid");function o5(e){return _o(e)&&ot in e&&qo(e[ot])}s(o5,"IsKind");function Ps(e){return uJ(e)||fJ(e)||$m(e)||Z1(e)||Fx(e)||Lx(e)||zm(e)||Ym(e)||dJe(e)||Km(e)||Jm(e)||$s(e)||Mx(e)||$u(e)||zu(e)||cs(e)||i5(e)||mJe(e)||G7(e)||Xm(e)||ba(e)||Qx(e)||Ox(e)||ra(e)||dJ(e)||eA(e)||H7(e)||Yu(e)||hJe(e)||Ku(e)||tA(e)||Ui(e)||pJe(e)||gJe(e)||AJe(e)||yJe(e)||o5(e)}s(Ps,"IsSchema");var Qe={};V1(Qe,{IsAny:()=>u1e,IsArgument:()=>f1e,IsArray:()=>d1e,IsAsyncIterator:()=>m1e,IsBigInt:()=>h1e,IsBoolean:()=>p1e,IsComputed:()=>g1e,IsConstructor:()=>A1e,IsDate:()=>y1e,IsFunction:()=>C1e,IsImport:()=>IJe,IsInteger:()=>x1e,IsIntersect:()=>v1e,IsIterator:()=>b1e,IsKind:()=>z1e,IsKindOf:()=>Ai,IsLiteral:()=>V7,IsLiteralBoolean:()=>TJe,IsLiteralNumber:()=>I1e,IsLiteralString:()=>E1e,IsLiteralValue:()=>T1e,IsMappedKey:()=>w1e,IsMappedResult:()=>_1e,IsNever:()=>S1e,IsNot:()=>R1e,IsNull:()=>k1e,IsNumber:()=>B1e,IsObject:()=>D1e,IsOptional:()=>EJe,IsPromise:()=>P1e,IsProperties:()=>ON,IsReadonly:()=>bJe,IsRecord:()=>N1e,IsRecursive:()=>wJe,IsRef:()=>L1e,IsRegExp:()=>F1e,IsSchema:()=>us,IsString:()=>M1e,IsSymbol:()=>Q1e,IsTemplateLiteral:()=>O1e,IsThis:()=>U1e,IsTransform:()=>q1e,IsTuple:()=>W1e,IsUint8Array:()=>H1e,IsUndefined:()=>G1e,IsUnion:()=>gJ,IsUnionLiteral:()=>_Je,IsUnknown:()=>j1e,IsUnsafe:()=>V1e,IsVoid:()=>$1e,TypeGuardUnknownTypeError:()=>mJ});d();var mJ=class extends xn{static{s(this,"TypeGuardUnknownTypeError")}},CJe=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function a1e(e){try{return new RegExp(e),!0}catch{return!1}}s(a1e,"IsPattern");function hJ(e){if(!qo(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}s(hJ,"IsControlCharacterFree");function l1e(e){return pJ(e)||us(e)}s(l1e,"IsAdditionalProperties");function j7(e){return va(e)||U7(e)}s(j7,"IsOptionalBigInt");function Wo(e){return va(e)||ju(e)}s(Wo,"IsOptionalNumber");function pJ(e){return va(e)||Y1(e)}s(pJ,"IsOptionalBoolean");function So(e){return va(e)||qo(e)}s(So,"IsOptionalString");function xJe(e){return va(e)||qo(e)&&hJ(e)&&a1e(e)}s(xJe,"IsOptionalPattern");function vJe(e){return va(e)||qo(e)&&hJ(e)}s(vJe,"IsOptionalFormat");function c1e(e){return va(e)||us(e)}s(c1e,"IsOptionalSchema");function bJe(e){return _o(e)&&e[Vm]==="Readonly"}s(bJe,"IsReadonly");function EJe(e){return _o(e)&&e[rc]==="Optional"}s(EJe,"IsOptional");function u1e(e){return Ai(e,"Any")&&So(e.$id)}s(u1e,"IsAny");function f1e(e){return Ai(e,"Argument")&&ju(e.index)}s(f1e,"IsArgument");function d1e(e){return Ai(e,"Array")&&e.type==="array"&&So(e.$id)&&us(e.items)&&Wo(e.minItems)&&Wo(e.maxItems)&&pJ(e.uniqueItems)&&c1e(e.contains)&&Wo(e.minContains)&&Wo(e.maxContains)}s(d1e,"IsArray");function m1e(e){return Ai(e,"AsyncIterator")&&e.type==="AsyncIterator"&&So(e.$id)&&us(e.items)}s(m1e,"IsAsyncIterator");function h1e(e){return Ai(e,"BigInt")&&e.type==="bigint"&&So(e.$id)&&j7(e.exclusiveMaximum)&&j7(e.exclusiveMinimum)&&j7(e.maximum)&&j7(e.minimum)&&j7(e.multipleOf)}s(h1e,"IsBigInt");function p1e(e){return Ai(e,"Boolean")&&e.type==="boolean"&&So(e.$id)}s(p1e,"IsBoolean");function g1e(e){return Ai(e,"Computed")&&qo(e.target)&&xa(e.parameters)&&e.parameters.every(t=>us(t))}s(g1e,"IsComputed");function A1e(e){return Ai(e,"Constructor")&&e.type==="Constructor"&&So(e.$id)&&xa(e.parameters)&&e.parameters.every(t=>us(t))&&us(e.returns)}s(A1e,"IsConstructor");function y1e(e){return Ai(e,"Date")&&e.type==="Date"&&So(e.$id)&&Wo(e.exclusiveMaximumTimestamp)&&Wo(e.exclusiveMinimumTimestamp)&&Wo(e.maximumTimestamp)&&Wo(e.minimumTimestamp)&&Wo(e.multipleOfTimestamp)}s(y1e,"IsDate");function C1e(e){return Ai(e,"Function")&&e.type==="Function"&&So(e.$id)&&xa(e.parameters)&&e.parameters.every(t=>us(t))&&us(e.returns)}s(C1e,"IsFunction");function IJe(e){return Ai(e,"Import")&&DN(e,"$defs")&&_o(e.$defs)&&ON(e.$defs)&&DN(e,"$ref")&&qo(e.$ref)&&e.$ref in e.$defs}s(IJe,"IsImport");function x1e(e){return Ai(e,"Integer")&&e.type==="integer"&&So(e.$id)&&Wo(e.exclusiveMaximum)&&Wo(e.exclusiveMinimum)&&Wo(e.maximum)&&Wo(e.minimum)&&Wo(e.multipleOf)}s(x1e,"IsInteger");function ON(e){return _o(e)&&Object.entries(e).every(([t,r])=>hJ(t)&&us(r))}s(ON,"IsProperties");function v1e(e){return Ai(e,"Intersect")&&!(qo(e.type)&&e.type!=="object")&&xa(e.allOf)&&e.allOf.every(t=>us(t)&&!q1e(t))&&So(e.type)&&(pJ(e.unevaluatedProperties)||c1e(e.unevaluatedProperties))&&So(e.$id)}s(v1e,"IsIntersect");function b1e(e){return Ai(e,"Iterator")&&e.type==="Iterator"&&So(e.$id)&&us(e.items)}s(b1e,"IsIterator");function Ai(e,t){return _o(e)&&ot in e&&e[ot]===t}s(Ai,"IsKindOf");function E1e(e){return V7(e)&&qo(e.const)}s(E1e,"IsLiteralString");function I1e(e){return V7(e)&&ju(e.const)}s(I1e,"IsLiteralNumber");function TJe(e){return V7(e)&&Y1(e.const)}s(TJe,"IsLiteralBoolean");function V7(e){return Ai(e,"Literal")&&So(e.$id)&&T1e(e.const)}s(V7,"IsLiteral");function T1e(e){return Y1(e)||ju(e)||qo(e)}s(T1e,"IsLiteralValue");function w1e(e){return Ai(e,"MappedKey")&&xa(e.keys)&&e.keys.every(t=>ju(t)||qo(t))}s(w1e,"IsMappedKey");function _1e(e){return Ai(e,"MappedResult")&&ON(e.properties)}s(_1e,"IsMappedResult");function S1e(e){return Ai(e,"Never")&&_o(e.not)&&Object.getOwnPropertyNames(e.not).length===0}s(S1e,"IsNever");function R1e(e){return Ai(e,"Not")&&us(e.not)}s(R1e,"IsNot");function k1e(e){return Ai(e,"Null")&&e.type==="null"&&So(e.$id)}s(k1e,"IsNull");function B1e(e){return Ai(e,"Number")&&e.type==="number"&&So(e.$id)&&Wo(e.exclusiveMaximum)&&Wo(e.exclusiveMinimum)&&Wo(e.maximum)&&Wo(e.minimum)&&Wo(e.multipleOf)}s(B1e,"IsNumber");function D1e(e){return Ai(e,"Object")&&e.type==="object"&&So(e.$id)&&ON(e.properties)&&l1e(e.additionalProperties)&&Wo(e.minProperties)&&Wo(e.maxProperties)}s(D1e,"IsObject");function P1e(e){return Ai(e,"Promise")&&e.type==="Promise"&&So(e.$id)&&us(e.item)}s(P1e,"IsPromise");function N1e(e){return Ai(e,"Record")&&e.type==="object"&&So(e.$id)&&l1e(e.additionalProperties)&&_o(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&a1e(r[0])&&_o(t.patternProperties)&&us(t.patternProperties[r[0]])})(e)}s(N1e,"IsRecord");function wJe(e){return _o(e)&&gd in e&&e[gd]==="Recursive"}s(wJe,"IsRecursive");function L1e(e){return Ai(e,"Ref")&&So(e.$id)&&qo(e.$ref)}s(L1e,"IsRef");function F1e(e){return Ai(e,"RegExp")&&So(e.$id)&&qo(e.source)&&qo(e.flags)&&Wo(e.maxLength)&&Wo(e.minLength)}s(F1e,"IsRegExp");function M1e(e){return Ai(e,"String")&&e.type==="string"&&So(e.$id)&&Wo(e.minLength)&&Wo(e.maxLength)&&xJe(e.pattern)&&vJe(e.format)}s(M1e,"IsString");function Q1e(e){return Ai(e,"Symbol")&&e.type==="symbol"&&So(e.$id)}s(Q1e,"IsSymbol");function O1e(e){return Ai(e,"TemplateLiteral")&&e.type==="string"&&qo(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}s(O1e,"IsTemplateLiteral");function U1e(e){return Ai(e,"This")&&So(e.$id)&&qo(e.$ref)}s(U1e,"IsThis");function q1e(e){return _o(e)&&Ds in e}s(q1e,"IsTransform");function W1e(e){return Ai(e,"Tuple")&&e.type==="array"&&So(e.$id)&&ju(e.minItems)&&ju(e.maxItems)&&e.minItems===e.maxItems&&(va(e.items)&&va(e.additionalItems)&&e.minItems===0||xa(e.items)&&e.items.every(t=>us(t)))}s(W1e,"IsTuple");function G1e(e){return Ai(e,"Undefined")&&e.type==="undefined"&&So(e.$id)}s(G1e,"IsUndefined");function _Je(e){return gJ(e)&&e.anyOf.every(t=>E1e(t)||I1e(t))}s(_Je,"IsUnionLiteral");function gJ(e){return Ai(e,"Union")&&So(e.$id)&&_o(e)&&xa(e.anyOf)&&e.anyOf.every(t=>us(t))}s(gJ,"IsUnion");function H1e(e){return Ai(e,"Uint8Array")&&e.type==="Uint8Array"&&So(e.$id)&&Wo(e.minByteLength)&&Wo(e.maxByteLength)}s(H1e,"IsUint8Array");function j1e(e){return Ai(e,"Unknown")&&So(e.$id)}s(j1e,"IsUnknown");function V1e(e){return Ai(e,"Unsafe")}s(V1e,"IsUnsafe");function $1e(e){return Ai(e,"Void")&&e.type==="void"&&So(e.$id)}s($1e,"IsVoid");function z1e(e){return _o(e)&&ot in e&&qo(e[ot])&&!CJe.includes(e[ot])}s(z1e,"IsKind");function us(e){return _o(e)&&(u1e(e)||f1e(e)||d1e(e)||p1e(e)||h1e(e)||m1e(e)||g1e(e)||A1e(e)||y1e(e)||C1e(e)||x1e(e)||v1e(e)||b1e(e)||V7(e)||w1e(e)||_1e(e)||S1e(e)||R1e(e)||k1e(e)||B1e(e)||D1e(e)||P1e(e)||N1e(e)||L1e(e)||F1e(e)||M1e(e)||Q1e(e)||O1e(e)||U1e(e)||W1e(e)||G1e(e)||gJ(e)||H1e(e)||j1e(e)||V1e(e)||$1e(e)||z1e(e))}s(us,"IsSchema");d();var AJ="(true|false)",$7="(0|[1-9][0-9]*)",yJ="(.*)",SJe="(?!.*)",H$t=`^${AJ}$`,Vp=`^${$7}$`,$p=`^${yJ}$`,Y1e=`^${SJe}$`;d();var Zm={};V1(Zm,{Clear:()=>kJe,Delete:()=>BJe,Entries:()=>RJe,Get:()=>NJe,Has:()=>DJe,Set:()=>PJe});d();var cI=new Map;function RJe(){return new Map(cI)}s(RJe,"Entries");function kJe(){return cI.clear()}s(kJe,"Clear");function BJe(e){return cI.delete(e)}s(BJe,"Delete");function DJe(e){return cI.has(e)}s(DJe,"Has");function PJe(e,t){cI.set(e,t)}s(PJe,"Set");function NJe(e){return cI.get(e)}s(NJe,"Get");var f0={};V1(f0,{Clear:()=>FJe,Delete:()=>MJe,Entries:()=>LJe,Get:()=>UJe,Has:()=>QJe,Set:()=>OJe});d();var uI=new Map;function LJe(){return new Map(uI)}s(LJe,"Entries");function FJe(){return uI.clear()}s(FJe,"Clear");function MJe(e){return uI.delete(e)}s(MJe,"Delete");function QJe(e){return uI.has(e)}s(QJe,"Has");function OJe(e,t){uI.set(e,t)}s(OJe,"Set");function UJe(e){return uI.get(e)}s(UJe,"Get");d();function K1e(e,t){return e.includes(t)}s(K1e,"SetIncludes");function J1e(e){return[...new Set(e)]}s(J1e,"SetDistinct");function qJe(e,t){return e.filter(r=>t.includes(r))}s(qJe,"SetIntersect");function WJe(e,t){return e.reduce((r,n)=>qJe(r,n),t)}s(WJe,"SetIntersectManyResolve");function X1e(e){return e.length===1?e[0]:e.length>1?WJe(e.slice(1),e[0]):[]}s(X1e,"SetIntersectMany");function Z1e(e){let t=[];for(let r of e)t.push(...r);return t}s(Z1e,"SetUnionMany");d();function s5(e){return ut({[ot]:"Any"},e)}s(s5,"Any");d();function fI(e,t){return ut({[ot]:"Array",type:"array",items:e},t)}s(fI,"Array");d();function eAe(e){return ut({[ot]:"Argument",index:e})}s(eAe,"Argument");d();function dI(e,t){return ut({[ot]:"AsyncIterator",type:"AsyncIterator",items:e},t)}s(dI,"AsyncIterator");d();d();function Ko(e,t,r){return ut({[ot]:"Computed",target:e,parameters:t},r)}s(Ko,"Computed");d();d();function GJe(e,t){let{[t]:r,...n}=e;return n}s(GJe,"DiscardKey");function zs(e,t){return t.reduce((r,n)=>GJe(r,n),e)}s(zs,"Discard");d();function ni(e){return ut({[ot]:"Never",not:{}},e)}s(ni,"Never");d();d();function Vi(e){return ut({[ot]:"MappedResult",properties:e})}s(Vi,"MappedResult");d();d();function mI(e,t,r){return ut({[ot]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}s(mI,"Constructor");d();function zp(e,t,r){return ut({[ot]:"Function",type:"Function",parameters:e,returns:t},r)}s(zp,"Function");d();d();d();d();function z7(e,t){return ut({[ot]:"Union",anyOf:e},t)}s(z7,"UnionCreate");function HJe(e){return e.some(t=>z0(t))}s(HJe,"IsUnionOptional");function tAe(e){return e.map(t=>z0(t)?jJe(t):t)}s(tAe,"RemoveOptionalFromRest");function jJe(e){return zs(e,[rc])}s(jJe,"RemoveOptionalFromType");function VJe(e,t){return HJe(e)?Bc(z7(tAe(e),t)):z7(tAe(e),t)}s(VJe,"ResolveUnion");function Yp(e,t){return e.length===1?ut(e[0],t):e.length===0?ni(t):VJe(e,t)}s(Yp,"UnionEvaluated");d();function so(e,t){return e.length===0?ni(t):e.length===1?ut(e[0],t):z7(e,t)}s(so,"Union");d();d();d();var UN=class extends xn{static{s(this,"TemplateLiteralParserError")}};function $Je(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}s($Je,"Unescape");function CJ(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}s(CJ,"IsNonEscaped");function nA(e,t){return CJ(e,t,"(")}s(nA,"IsOpenParen");function Y7(e,t){return CJ(e,t,")")}s(Y7,"IsCloseParen");function rAe(e,t){return CJ(e,t,"|")}s(rAe,"IsSeparator");function zJe(e){if(!(nA(e,0)&&Y7(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(nA(e,r)&&(t+=1),Y7(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}s(zJe,"IsGroup");function YJe(e){return e.slice(1,e.length-1)}s(YJe,"InGroup");function KJe(e){let t=0;for(let r=0;r<e.length;r++)if(nA(e,r)&&(t+=1),Y7(e,r)&&(t-=1),rAe(e,r)&&t===0)return!0;return!1}s(KJe,"IsPrecedenceOr");function JJe(e){for(let t=0;t<e.length;t++)if(nA(e,t))return!0;return!1}s(JJe,"IsPrecedenceAnd");function XJe(e){let[t,r]=[0,0],n=[];for(let o=0;o<e.length;o++)if(nA(e,o)&&(t+=1),Y7(e,o)&&(t-=1),rAe(e,o)&&t===0){let a=e.slice(r,o);a.length>0&&n.push(hI(a)),r=o+1}let i=e.slice(r);return i.length>0&&n.push(hI(i)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}s(XJe,"Or");function ZJe(e){function t(i,o){if(!nA(i,o))throw new UN("TemplateLiteralParser: Index must point to open parens");let a=0;for(let l=o;l<i.length;l++)if(nA(i,l)&&(a+=1),Y7(i,l)&&(a-=1),a===0)return[o,l];throw new UN("TemplateLiteralParser: Unclosed group parens in expression")}s(t,"Group");function r(i,o){for(let a=o;a<i.length;a++)if(nA(i,a))return[o,a];return[o,i.length]}s(r,"Range");let n=[];for(let i=0;i<e.length;i++)if(nA(e,i)){let[o,a]=t(e,i),l=e.slice(o,a+1);n.push(hI(l)),i=a}else{let[o,a]=r(e,i),l=e.slice(o,a);l.length>0&&n.push(hI(l)),i=a-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}s(ZJe,"And");function hI(e){return zJe(e)?hI(YJe(e)):KJe(e)?XJe(e):JJe(e)?ZJe(e):{type:"const",const:$Je(e)}}s(hI,"TemplateLiteralParse");function pI(e){return hI(e.slice(1,e.length-1))}s(pI,"TemplateLiteralParseExact");var xJ=class extends xn{static{s(this,"TemplateLiteralFiniteError")}};function eXe(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}s(eXe,"IsNumberExpression");function tXe(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}s(tXe,"IsBooleanExpression");function rXe(e){return e.type==="const"&&e.const===".*"}s(rXe,"IsStringExpression");function Ux(e){return eXe(e)||rXe(e)?!1:tXe(e)?!0:e.type==="and"?e.expr.every(t=>Ux(t)):e.type==="or"?e.expr.every(t=>Ux(t)):e.type==="const"?!0:(()=>{throw new xJ("Unknown expression type")})()}s(Ux,"IsTemplateLiteralExpressionFinite");function qN(e){let t=pI(e.pattern);return Ux(t)}s(qN,"IsTemplateLiteralFinite");d();var vJ=class extends xn{static{s(this,"TemplateLiteralGenerateError")}};function*nAe(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of nAe(e.slice(1)))yield`${t}${r}`}s(nAe,"GenerateReduce");function*nXe(e){return yield*nAe(e.expr.map(t=>[...K7(t)]))}s(nXe,"GenerateAnd");function*iXe(e){for(let t of e.expr)yield*K7(t)}s(iXe,"GenerateOr");function*oXe(e){return yield e.const}s(oXe,"GenerateConst");function*K7(e){return e.type==="and"?yield*nXe(e):e.type==="or"?yield*iXe(e):e.type==="const"?yield*oXe(e):(()=>{throw new vJ("Unknown expression")})()}s(K7,"TemplateLiteralExpressionGenerate");function gI(e){let t=pI(e.pattern);return Ux(t)?[...K7(t)]:[]}s(gI,"TemplateLiteralGenerate");d();d();function Bi(e,t){return ut({[ot]:"Literal",const:e,type:typeof e},t)}s(Bi,"Literal");d();function WN(e){return ut({[ot]:"Boolean",type:"boolean"},e)}s(WN,"Boolean");d();function AI(e){return ut({[ot]:"BigInt",type:"bigint"},e)}s(AI,"BigInt");d();function Ad(e){return ut({[ot]:"Number",type:"number"},e)}s(Ad,"Number");d();function d0(e){return ut({[ot]:"String",type:"string"},e)}s(d0,"String");function*sXe(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield WN():t==="number"?yield Ad():t==="bigint"?yield AI():t==="string"?yield d0():yield(()=>{let r=t.split("|").map(n=>Bi(n.trim()));return r.length===0?ni():r.length===1?r[0]:Yp(r)})()}s(sXe,"FromUnion");function*aXe(e){if(e[1]!=="{"){let t=Bi("$"),r=bJ(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=sXe(e.slice(2,t)),n=bJ(e.slice(t+1));return yield*[...r,...n]}yield Bi(e)}s(aXe,"FromTerminal");function*bJ(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=Bi(e.slice(0,t)),n=aXe(e.slice(t));return yield*[r,...n]}yield Bi(e)}s(bJ,"FromSyntax");function iAe(e){return[...bJ(e)]}s(iAe,"TemplateLiteralSyntax");d();var EJ=class extends xn{static{s(this,"TemplateLiteralPatternError")}};function lXe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(lXe,"Escape");function oAe(e,t){return Yu(e)?e.pattern.slice(1,e.pattern.length-1):Ui(e)?`(${e.anyOf.map(r=>oAe(r,t)).join("|")})`:Xm(e)?`${t}${$7}`:Jm(e)?`${t}${$7}`:Fx(e)?`${t}${$7}`:eA(e)?`${t}${yJ}`:$u(e)?`${t}${lXe(e.const.toString())}`:Z1(e)?`${t}${AJ}`:(()=>{throw new EJ(`Unexpected Kind '${e[ot]}'`)})()}s(oAe,"Visit");function IJ(e){return`^${e.map(t=>oAe(t,"")).join("")}$`}s(IJ,"TemplateLiteralPattern");d();function qx(e){let r=gI(e).map(n=>Bi(n));return Yp(r)}s(qx,"TemplateLiteralToUnion");d();function GN(e,t){let r=qo(e)?IJ(iAe(e)):IJ(e);return ut({[ot]:"TemplateLiteral",type:"string",pattern:r},t)}s(GN,"TemplateLiteral");function cXe(e){return gI(e).map(r=>r.toString())}s(cXe,"FromTemplateLiteral");function uXe(e){let t=[];for(let r of e)t.push(...Y0(r));return t}s(uXe,"FromUnion");function fXe(e){return[e.toString()]}s(fXe,"FromLiteral");function Y0(e){return[...new Set(Yu(e)?cXe(e):Ui(e)?uXe(e.anyOf):$u(e)?fXe(e.const):Xm(e)?["[number]"]:Jm(e)?["[number]"]:[])]}s(Y0,"IndexPropertyKeys");d();function dXe(e,t,r){let n={};for(let i of Object.getOwnPropertyNames(t))n[i]=a5(e,Y0(t[i]),r);return n}s(dXe,"FromProperties");function mXe(e,t,r){return dXe(e,t.properties,r)}s(mXe,"FromMappedResult");function sAe(e,t,r){let n=mXe(e,t,r);return Vi(n)}s(sAe,"IndexFromMappedResult");function lAe(e,t){return e.map(r=>cAe(r,t))}s(lAe,"FromRest");function hXe(e){return e.filter(t=>!i5(t))}s(hXe,"FromIntersectRest");function pXe(e,t){return HN(hXe(lAe(e,t)))}s(pXe,"FromIntersect");function gXe(e){return e.some(t=>i5(t))?[]:e}s(gXe,"FromUnionRest");function AXe(e,t){return Yp(gXe(lAe(e,t)))}s(AXe,"FromUnion");function yXe(e,t){return t in e?e[t]:t==="[number]"?Yp(e):ni()}s(yXe,"FromTuple");function CXe(e,t){return t==="[number]"?e:ni()}s(CXe,"FromArray");function xXe(e,t){return t in e?e[t]:ni()}s(xXe,"FromProperty");function cAe(e,t){return $s(e)?pXe(e.allOf,t):Ui(e)?AXe(e.anyOf,t):Ku(e)?yXe(e.items??[],t):$m(e)?CXe(e.items,t):ba(e)?xXe(e.properties,t):ni()}s(cAe,"IndexFromPropertyKey");function J7(e,t){return t.map(r=>cAe(e,r))}s(J7,"IndexFromPropertyKeys");function aAe(e,t){return Yp(J7(e,t))}s(aAe,"FromSchema");function a5(e,t,r){if(ra(e)||ra(t)){let n="Index types using Ref parameters require both Type and Key to be of TSchema";if(!Ps(e)||!Ps(t))throw new xn(n);return Ko("Index",[e,t])}return cs(t)?sAe(e,t,r):zu(t)?uAe(e,t,r):ut(Ps(t)?aAe(e,Y0(t)):aAe(e,t),r)}s(a5,"Index");function vXe(e,t,r){return{[t]:a5(e,[t],as(r))}}s(vXe,"MappedIndexPropertyKey");function bXe(e,t,r){return t.reduce((n,i)=>({...n,...vXe(e,i,r)}),{})}s(bXe,"MappedIndexPropertyKeys");function EXe(e,t,r){return bXe(e,t.keys,r)}s(EXe,"MappedIndexProperties");function uAe(e,t,r){let n=EXe(e,t,r);return Vi(n)}s(uAe,"IndexFromMappedKey");d();function yI(e,t){return ut({[ot]:"Iterator",type:"Iterator",items:e},t)}s(yI,"Iterator");d();function IXe(e){let t=[];for(let r in e)z0(e[r])||t.push(r);return t}s(IXe,"RequiredKeys");function TXe(e,t){let r=IXe(e),n=r.length>0?{[ot]:"Object",type:"object",properties:e,required:r}:{[ot]:"Object",type:"object",properties:e};return ut(n,t)}s(TXe,"_Object");var ao=TXe;d();function jN(e,t){return ut({[ot]:"Promise",type:"Promise",item:e},t)}s(jN,"Promise");d();d();function wXe(e){return ut(zs(e,[Vm]))}s(wXe,"RemoveReadonly");function _Xe(e){return ut({...e,[Vm]:"Readonly"})}s(_Xe,"AddReadonly");function SXe(e,t){return t===!1?wXe(e):_Xe(e)}s(SXe,"ReadonlyWithFlag");function K0(e,t){let r=t??!0;return cs(e)?fAe(e,r):SXe(e,r)}s(K0,"Readonly");function RXe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=K0(e[n],t);return r}s(RXe,"FromProperties");function kXe(e,t){return RXe(e.properties,t)}s(kXe,"FromMappedResult");function fAe(e,t){let r=kXe(e,t);return Vi(r)}s(fAe,"ReadonlyFromMappedResult");d();function yd(e,t){return ut(e.length>0?{[ot]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[ot]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}s(yd,"Tuple");function dAe(e,t){return e in t?Cd(e,t[e]):Vi(t)}s(dAe,"FromMappedResult");function BXe(e){return{[e]:Bi(e)}}s(BXe,"MappedKeyToKnownMappedResultProperties");function DXe(e){let t={};for(let r of e)t[r]=Bi(r);return t}s(DXe,"MappedKeyToUnknownMappedResultProperties");function PXe(e,t){return K1e(t,e)?BXe(e):DXe(t)}s(PXe,"MappedKeyToMappedResultProperties");function NXe(e,t){let r=PXe(e,t);return dAe(e,r)}s(NXe,"FromMappedKey");function X7(e,t){return t.map(r=>Cd(e,r))}s(X7,"FromRest");function LXe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(t))r[n]=Cd(e,t[n]);return r}s(LXe,"FromProperties");function Cd(e,t){let r={...t};return z0(t)?Bc(Cd(e,zs(t,[rc]))):lI(t)?K0(Cd(e,zs(t,[Vm]))):cs(t)?dAe(e,t.properties):zu(t)?NXe(e,t.keys):Ym(t)?mI(X7(e,t.parameters),Cd(e,t.returns),r):Km(t)?zp(X7(e,t.parameters),Cd(e,t.returns),r):Lx(t)?dI(Cd(e,t.items),r):Mx(t)?yI(Cd(e,t.items),r):$s(t)?Dc(X7(e,t.allOf),r):Ui(t)?so(X7(e,t.anyOf),r):Ku(t)?yd(X7(e,t.items??[]),r):ba(t)?ao(LXe(e,t.properties),r):$m(t)?fI(Cd(e,t.items),r):Qx(t)?jN(Cd(e,t.item),r):t}s(Cd,"FromSchemaType");function FXe(e,t){let r={};for(let n of e)r[n]=Cd(n,t);return r}s(FXe,"MappedFunctionReturnType");function mAe(e,t,r){let n=Ps(e)?Y0(e):e,i=t({[ot]:"MappedKey",keys:n}),o=FXe(n,i);return ao(o,r)}s(mAe,"Mapped");d();function MXe(e){return ut(zs(e,[rc]))}s(MXe,"RemoveOptional");function QXe(e){return ut({...e,[rc]:"Optional"})}s(QXe,"AddOptional");function OXe(e,t){return t===!1?MXe(e):QXe(e)}s(OXe,"OptionalWithFlag");function Bc(e,t){let r=t??!0;return cs(e)?hAe(e,r):OXe(e,r)}s(Bc,"Optional");function UXe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=Bc(e[n],t);return r}s(UXe,"FromProperties");function qXe(e,t){return UXe(e.properties,t)}s(qXe,"FromMappedResult");function hAe(e,t){let r=qXe(e,t);return Vi(r)}s(hAe,"OptionalFromMappedResult");d();function Z7(e,t={}){let r=e.every(i=>ba(i)),n=Ps(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return ut(t.unevaluatedProperties===!1||Ps(t.unevaluatedProperties)||r?{...n,[ot]:"Intersect",type:"object",allOf:e}:{...n,[ot]:"Intersect",allOf:e},t)}s(Z7,"IntersectCreate");function WXe(e){return e.every(t=>z0(t))}s(WXe,"IsIntersectOptional");function GXe(e){return zs(e,[rc])}s(GXe,"RemoveOptionalFromType");function pAe(e){return e.map(t=>z0(t)?GXe(t):t)}s(pAe,"RemoveOptionalFromRest");function HXe(e,t){return WXe(e)?Bc(Z7(pAe(e),t)):Z7(pAe(e),t)}s(HXe,"ResolveIntersect");function HN(e,t={}){if(e.length===1)return ut(e[0],t);if(e.length===0)return ni(t);if(e.some(r=>oo(r)))throw new Error("Cannot intersect transform types");return HXe(e,t)}s(HN,"IntersectEvaluated");d();function Dc(e,t){if(e.length===1)return ut(e[0],t);if(e.length===0)return ni(t);if(e.some(r=>oo(r)))throw new Error("Cannot intersect transform types");return Z7(e,t)}s(Dc,"Intersect");d();function xd(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new xn("Ref: $ref must be a string");return ut({[ot]:"Ref",$ref:t},r)}s(xd,"Ref");function jXe(e,t){return Ko("Awaited",[Ko(e,t)])}s(jXe,"FromComputed");function VXe(e){return Ko("Awaited",[xd(e)])}s(VXe,"FromRef");function $Xe(e){return Dc(gAe(e))}s($Xe,"FromIntersect");function zXe(e){return so(gAe(e))}s(zXe,"FromUnion");function YXe(e){return CI(e)}s(YXe,"FromPromise");function gAe(e){return e.map(t=>CI(t))}s(gAe,"FromRest");function CI(e,t){return ut(zm(e)?jXe(e.target,e.parameters):$s(e)?$Xe(e.allOf):Ui(e)?zXe(e.anyOf):Qx(e)?YXe(e.item):ra(e)?VXe(e.$ref):e,t)}s(CI,"Awaited");d();d();d();d();function AAe(e){let t=[];for(let r of e)t.push(J0(r));return t}s(AAe,"FromRest");function KXe(e){let t=AAe(e);return Z1e(t)}s(KXe,"FromIntersect");function JXe(e){let t=AAe(e);return X1e(t)}s(JXe,"FromUnion");function XXe(e){return e.map((t,r)=>r.toString())}s(XXe,"FromTuple");function ZXe(e){return["[number]"]}s(ZXe,"FromArray");function eZe(e){return globalThis.Object.getOwnPropertyNames(e)}s(eZe,"FromProperties");function tZe(e){return TJ?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}s(tZe,"FromPatternProperties");function J0(e){return $s(e)?KXe(e.allOf):Ui(e)?JXe(e.anyOf):Ku(e)?XXe(e.items??[]):$m(e)?ZXe(e.items):ba(e)?eZe(e.properties):Ox(e)?tZe(e.patternProperties):[]}s(J0,"KeyOfPropertyKeys");var TJ=!1;function iA(e){TJ=!0;let t=J0(e);return TJ=!1,`^(${t.map(n=>`(${n})`).join("|")})$`}s(iA,"KeyOfPattern");function rZe(e,t){return Ko("KeyOf",[Ko(e,t)])}s(rZe,"FromComputed");function nZe(e){return Ko("KeyOf",[xd(e)])}s(nZe,"FromRef");function iZe(e,t){let r=J0(e),n=oZe(r),i=Yp(n);return ut(i,t)}s(iZe,"KeyOfFromType");function oZe(e){return e.map(t=>t==="[number]"?Ad():Bi(t))}s(oZe,"KeyOfPropertyKeysToRest");function xI(e,t){return zm(e)?rZe(e.target,e.parameters):ra(e)?nZe(e.$ref):cs(e)?yAe(e,t):iZe(e,t)}s(xI,"KeyOf");function sZe(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=xI(e[n],as(t));return r}s(sZe,"FromProperties");function aZe(e,t){return sZe(e.properties,t)}s(aZe,"FromMappedResult");function yAe(e,t){let r=aZe(e,t);return Vi(r)}s(yAe,"KeyOfFromMappedResult");d();function VN(e){let t=J0(e),r=J7(e,t);return t.map((n,i)=>[t[i],r[i]])}s(VN,"KeyOfPropertyEntries");function lZe(e){let t=[];for(let r of e)t.push(...J0(r));return J1e(t)}s(lZe,"CompositeKeys");function cZe(e){return e.filter(t=>!i5(t))}s(cZe,"FilterNever");function uZe(e,t){let r=[];for(let n of e)r.push(...J7(n,[t]));return cZe(r)}s(uZe,"CompositeProperty");function fZe(e,t){let r={};for(let n of t)r[n]=HN(uZe(e,n));return r}s(fZe,"CompositeProperties");function CAe(e,t){let r=lZe(e),n=fZe(e,r);return ao(n,t)}s(CAe,"Composite");d();d();function $N(e){return ut({[ot]:"Date",type:"Date"},e)}s($N,"Date");d();function zN(e){return ut({[ot]:"Null",type:"null"},e)}s(zN,"Null");d();function YN(e){return ut({[ot]:"Symbol",type:"symbol"},e)}s(YN,"Symbol");d();function KN(e){return ut({[ot]:"Undefined",type:"undefined"},e)}s(KN,"Undefined");d();function JN(e){return ut({[ot]:"Uint8Array",type:"Uint8Array"},e)}s(JN,"Uint8Array");d();function eh(e){return ut({[ot]:"Unknown"},e)}s(eh,"Unknown");function dZe(e){return e.map(t=>wJ(t,!1))}s(dZe,"FromArray");function mZe(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=K0(wJ(e[r],!1));return t}s(mZe,"FromProperties");function XN(e,t){return t===!0?e:K0(e)}s(XN,"ConditionalReadonly");function wJ(e,t){return iJ(e)?XN(s5(),t):sJ(e)?XN(s5(),t):xa(e)?K0(yd(dZe(e))):K1(e)?JN():Nx(e)?$N():_o(e)?XN(ao(mZe(e)),t):oJ(e)?XN(zp([],eh()),t):va(e)?KN():aJ(e)?zN():lJ(e)?YN():U7(e)?AI():ju(e)?Bi(e):Y1(e)?Bi(e):qo(e)?Bi(e):ao({})}s(wJ,"FromValue");function xAe(e,t){return ut(wJ(e,!0),t)}s(xAe,"Const");d();function vAe(e,t){return Ym(e)?yd(e.parameters,t):ni(t)}s(vAe,"ConstructorParameters");d();function bAe(e,t){if(va(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(o=>isNaN(o)).map(o=>e[o]),i=[...new Set(r)].map(o=>Bi(o));return so(i,{...t,[gd]:"Enum"})}s(bAe,"Enum");d();d();d();var SJ=class extends xn{static{s(this,"ExtendsResolverError")}},dt;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(dt||(dt={}));function vd(e){return e===dt.False?e:dt.True}s(vd,"IntoBooleanResult");function vI(e){throw new SJ(e)}s(vI,"Throw");function Ua(e){return Qe.IsNever(e)||Qe.IsIntersect(e)||Qe.IsUnion(e)||Qe.IsUnknown(e)||Qe.IsAny(e)}s(Ua,"IsStructuralRight");function qa(e,t){return Qe.IsNever(t)?RAe(e,t):Qe.IsIntersect(t)?ZN(e,t):Qe.IsUnion(t)?DJ(e,t):Qe.IsUnknown(t)?PAe(e,t):Qe.IsAny(t)?BJ(e,t):vI("StructuralRight")}s(qa,"StructuralRight");function BJ(e,t){return dt.True}s(BJ,"FromAnyRight");function hZe(e,t){return Qe.IsIntersect(t)?ZN(e,t):Qe.IsUnion(t)&&t.anyOf.some(r=>Qe.IsAny(r)||Qe.IsUnknown(r))?dt.True:Qe.IsUnion(t)?dt.Union:Qe.IsUnknown(t)||Qe.IsAny(t)?dt.True:dt.Union}s(hZe,"FromAny");function pZe(e,t){return Qe.IsUnknown(e)?dt.False:Qe.IsAny(e)?dt.Union:Qe.IsNever(e)?dt.True:dt.False}s(pZe,"FromArrayRight");function gZe(e,t){return Qe.IsObject(t)&&eL(t)?dt.True:Ua(t)?qa(e,t):Qe.IsArray(t)?vd(Ro(e.items,t.items)):dt.False}s(gZe,"FromArray");function AZe(e,t){return Ua(t)?qa(e,t):Qe.IsAsyncIterator(t)?vd(Ro(e.items,t.items)):dt.False}s(AZe,"FromAsyncIterator");function yZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsRecord(t)?bd(e,t):Qe.IsBigInt(t)?dt.True:dt.False}s(yZe,"FromBigInt");function _Ae(e,t){return Qe.IsLiteralBoolean(e)||Qe.IsBoolean(e)?dt.True:dt.False}s(_Ae,"FromBooleanRight");function CZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsRecord(t)?bd(e,t):Qe.IsBoolean(t)?dt.True:dt.False}s(CZe,"FromBoolean");function xZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsConstructor(t)?e.parameters.length>t.parameters.length?dt.False:e.parameters.every((r,n)=>vd(Ro(t.parameters[n],r))===dt.True)?vd(Ro(e.returns,t.returns)):dt.False:dt.False}s(xZe,"FromConstructor");function vZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsRecord(t)?bd(e,t):Qe.IsDate(t)?dt.True:dt.False}s(vZe,"FromDate");function bZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsFunction(t)?e.parameters.length>t.parameters.length?dt.False:e.parameters.every((r,n)=>vd(Ro(t.parameters[n],r))===dt.True)?vd(Ro(e.returns,t.returns)):dt.False:dt.False}s(bZe,"FromFunction");function SAe(e,t){return Qe.IsLiteral(e)&&kc.IsNumber(e.const)||Qe.IsNumber(e)||Qe.IsInteger(e)?dt.True:dt.False}s(SAe,"FromIntegerRight");function EZe(e,t){return Qe.IsInteger(t)||Qe.IsNumber(t)?dt.True:Ua(t)?qa(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsRecord(t)?bd(e,t):dt.False}s(EZe,"FromInteger");function ZN(e,t){return t.allOf.every(r=>Ro(e,r)===dt.True)?dt.True:dt.False}s(ZN,"FromIntersectRight");function IZe(e,t){return e.allOf.some(r=>Ro(r,t)===dt.True)?dt.True:dt.False}s(IZe,"FromIntersect");function TZe(e,t){return Ua(t)?qa(e,t):Qe.IsIterator(t)?vd(Ro(e.items,t.items)):dt.False}s(TZe,"FromIterator");function wZe(e,t){return Qe.IsLiteral(t)&&t.const===e.const?dt.True:Ua(t)?qa(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsRecord(t)?bd(e,t):Qe.IsString(t)?DAe(e,t):Qe.IsNumber(t)?kAe(e,t):Qe.IsInteger(t)?SAe(e,t):Qe.IsBoolean(t)?_Ae(e,t):dt.False}s(wZe,"FromLiteral");function RAe(e,t){return dt.False}s(RAe,"FromNeverRight");function _Ze(e,t){return dt.True}s(_Ze,"FromNever");function EAe(e){let[t,r]=[e,0];for(;Qe.IsNot(t);)t=t.not,r+=1;return r%2===0?t:eh()}s(EAe,"UnwrapTNot");function SZe(e,t){return Qe.IsNot(e)?Ro(EAe(e),t):Qe.IsNot(t)?Ro(e,EAe(t)):vI("Invalid fallthrough for Not")}s(SZe,"FromNot");function RZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsRecord(t)?bd(e,t):Qe.IsNull(t)?dt.True:dt.False}s(RZe,"FromNull");function kAe(e,t){return Qe.IsLiteralNumber(e)||Qe.IsNumber(e)||Qe.IsInteger(e)?dt.True:dt.False}s(kAe,"FromNumberRight");function kZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsRecord(t)?bd(e,t):Qe.IsInteger(t)||Qe.IsNumber(t)?dt.True:dt.False}s(kZe,"FromNumber");function X0(e,t){return Object.getOwnPropertyNames(e.properties).length===t}s(X0,"IsObjectPropertyCount");function IAe(e){return eL(e)}s(IAe,"IsObjectStringLike");function TAe(e){return X0(e,0)||X0(e,1)&&"description"in e.properties&&Qe.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(Qe.IsString(e.properties.description.anyOf[0])&&Qe.IsUndefined(e.properties.description.anyOf[1])||Qe.IsString(e.properties.description.anyOf[1])&&Qe.IsUndefined(e.properties.description.anyOf[0]))}s(TAe,"IsObjectSymbolLike");function _J(e){return X0(e,0)}s(_J,"IsObjectNumberLike");function wAe(e){return X0(e,0)}s(wAe,"IsObjectBooleanLike");function BZe(e){return X0(e,0)}s(BZe,"IsObjectBigIntLike");function DZe(e){return X0(e,0)}s(DZe,"IsObjectDateLike");function PZe(e){return eL(e)}s(PZe,"IsObjectUint8ArrayLike");function NZe(e){let t=Ad();return X0(e,0)||X0(e,1)&&"length"in e.properties&&vd(Ro(e.properties.length,t))===dt.True}s(NZe,"IsObjectFunctionLike");function LZe(e){return X0(e,0)}s(LZe,"IsObjectConstructorLike");function eL(e){let t=Ad();return X0(e,0)||X0(e,1)&&"length"in e.properties&&vd(Ro(e.properties.length,t))===dt.True}s(eL,"IsObjectArrayLike");function FZe(e){let t=zp([s5()],s5());return X0(e,0)||X0(e,1)&&"then"in e.properties&&vd(Ro(e.properties.then,t))===dt.True}s(FZe,"IsObjectPromiseLike");function BAe(e,t){return Ro(e,t)===dt.False||Qe.IsOptional(e)&&!Qe.IsOptional(t)?dt.False:dt.True}s(BAe,"Property");function Pc(e,t){return Qe.IsUnknown(e)?dt.False:Qe.IsAny(e)?dt.Union:Qe.IsNever(e)||Qe.IsLiteralString(e)&&IAe(t)||Qe.IsLiteralNumber(e)&&_J(t)||Qe.IsLiteralBoolean(e)&&wAe(t)||Qe.IsSymbol(e)&&TAe(t)||Qe.IsBigInt(e)&&BZe(t)||Qe.IsString(e)&&IAe(t)||Qe.IsSymbol(e)&&TAe(t)||Qe.IsNumber(e)&&_J(t)||Qe.IsInteger(e)&&_J(t)||Qe.IsBoolean(e)&&wAe(t)||Qe.IsUint8Array(e)&&PZe(t)||Qe.IsDate(e)&&DZe(t)||Qe.IsConstructor(e)&&LZe(t)||Qe.IsFunction(e)&&NZe(t)?dt.True:Qe.IsRecord(e)&&Qe.IsString(RJ(e))?t[gd]==="Record"?dt.True:dt.False:Qe.IsRecord(e)&&Qe.IsNumber(RJ(e))?X0(t,0)?dt.True:dt.False:dt.False}s(Pc,"FromObjectRight");function MZe(e,t){return Ua(t)?qa(e,t):Qe.IsRecord(t)?bd(e,t):Qe.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!Qe.IsOptional(t.properties[r]))return dt.False;if(Qe.IsOptional(t.properties[r]))return dt.True;if(BAe(e.properties[r],t.properties[r])===dt.False)return dt.False}return dt.True})():dt.False}s(MZe,"FromObject");function QZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)&&FZe(t)?dt.True:Qe.IsPromise(t)?vd(Ro(e.item,t.item)):dt.False}s(QZe,"FromPromise");function RJ(e){return Vp in e.patternProperties?Ad():$p in e.patternProperties?d0():vI("Unknown record key pattern")}s(RJ,"RecordKey");function kJ(e){return Vp in e.patternProperties?e.patternProperties[Vp]:$p in e.patternProperties?e.patternProperties[$p]:vI("Unable to get record value schema")}s(kJ,"RecordValue");function bd(e,t){let[r,n]=[RJ(t),kJ(t)];return Qe.IsLiteralString(e)&&Qe.IsNumber(r)&&vd(Ro(e,n))===dt.True?dt.True:Qe.IsUint8Array(e)&&Qe.IsNumber(r)||Qe.IsString(e)&&Qe.IsNumber(r)||Qe.IsArray(e)&&Qe.IsNumber(r)?Ro(e,n):Qe.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if(BAe(n,e.properties[i])===dt.False)return dt.False;return dt.True})():dt.False}s(bd,"FromRecordRight");function OZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsRecord(t)?Ro(kJ(e),kJ(t)):dt.False}s(OZe,"FromRecord");function UZe(e,t){let r=Qe.IsRegExp(e)?d0():e,n=Qe.IsRegExp(t)?d0():t;return Ro(r,n)}s(UZe,"FromRegExp");function DAe(e,t){return Qe.IsLiteral(e)&&kc.IsString(e.const)||Qe.IsString(e)?dt.True:dt.False}s(DAe,"FromStringRight");function qZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsRecord(t)?bd(e,t):Qe.IsString(t)?dt.True:dt.False}s(qZe,"FromString");function WZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsRecord(t)?bd(e,t):Qe.IsSymbol(t)?dt.True:dt.False}s(WZe,"FromSymbol");function GZe(e,t){return Qe.IsTemplateLiteral(e)?Ro(qx(e),t):Qe.IsTemplateLiteral(t)?Ro(e,qx(t)):vI("Invalid fallthrough for TemplateLiteral")}s(GZe,"FromTemplateLiteral");function HZe(e,t){return Qe.IsArray(t)&&e.items!==void 0&&e.items.every(r=>Ro(r,t.items)===dt.True)}s(HZe,"IsArrayOfTuple");function jZe(e,t){return Qe.IsNever(e)?dt.True:Qe.IsUnknown(e)?dt.False:Qe.IsAny(e)?dt.Union:dt.False}s(jZe,"FromTupleRight");function VZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)&&eL(t)||Qe.IsArray(t)&&HZe(e,t)?dt.True:Qe.IsTuple(t)?kc.IsUndefined(e.items)&&!kc.IsUndefined(t.items)||!kc.IsUndefined(e.items)&&kc.IsUndefined(t.items)?dt.False:kc.IsUndefined(e.items)&&!kc.IsUndefined(t.items)||e.items.every((r,n)=>Ro(r,t.items[n])===dt.True)?dt.True:dt.False:dt.False}s(VZe,"FromTuple");function $Ze(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsRecord(t)?bd(e,t):Qe.IsUint8Array(t)?dt.True:dt.False}s($Ze,"FromUint8Array");function zZe(e,t){return Ua(t)?qa(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsRecord(t)?bd(e,t):Qe.IsVoid(t)?JZe(e,t):Qe.IsUndefined(t)?dt.True:dt.False}s(zZe,"FromUndefined");function DJ(e,t){return t.anyOf.some(r=>Ro(e,r)===dt.True)?dt.True:dt.False}s(DJ,"FromUnionRight");function YZe(e,t){return e.anyOf.every(r=>Ro(r,t)===dt.True)?dt.True:dt.False}s(YZe,"FromUnion");function PAe(e,t){return dt.True}s(PAe,"FromUnknownRight");function KZe(e,t){return Qe.IsNever(t)?RAe(e,t):Qe.IsIntersect(t)?ZN(e,t):Qe.IsUnion(t)?DJ(e,t):Qe.IsAny(t)?BJ(e,t):Qe.IsString(t)?DAe(e,t):Qe.IsNumber(t)?kAe(e,t):Qe.IsInteger(t)?SAe(e,t):Qe.IsBoolean(t)?_Ae(e,t):Qe.IsArray(t)?pZe(e,t):Qe.IsTuple(t)?jZe(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsUnknown(t)?dt.True:dt.False}s(KZe,"FromUnknown");function JZe(e,t){return Qe.IsUndefined(e)||Qe.IsUndefined(e)?dt.True:dt.False}s(JZe,"FromVoidRight");function XZe(e,t){return Qe.IsIntersect(t)?ZN(e,t):Qe.IsUnion(t)?DJ(e,t):Qe.IsUnknown(t)?PAe(e,t):Qe.IsAny(t)?BJ(e,t):Qe.IsObject(t)?Pc(e,t):Qe.IsVoid(t)?dt.True:dt.False}s(XZe,"FromVoid");function Ro(e,t){return Qe.IsTemplateLiteral(e)||Qe.IsTemplateLiteral(t)?GZe(e,t):Qe.IsRegExp(e)||Qe.IsRegExp(t)?UZe(e,t):Qe.IsNot(e)||Qe.IsNot(t)?SZe(e,t):Qe.IsAny(e)?hZe(e,t):Qe.IsArray(e)?gZe(e,t):Qe.IsBigInt(e)?yZe(e,t):Qe.IsBoolean(e)?CZe(e,t):Qe.IsAsyncIterator(e)?AZe(e,t):Qe.IsConstructor(e)?xZe(e,t):Qe.IsDate(e)?vZe(e,t):Qe.IsFunction(e)?bZe(e,t):Qe.IsInteger(e)?EZe(e,t):Qe.IsIntersect(e)?IZe(e,t):Qe.IsIterator(e)?TZe(e,t):Qe.IsLiteral(e)?wZe(e,t):Qe.IsNever(e)?_Ze(e,t):Qe.IsNull(e)?RZe(e,t):Qe.IsNumber(e)?kZe(e,t):Qe.IsObject(e)?MZe(e,t):Qe.IsRecord(e)?OZe(e,t):Qe.IsString(e)?qZe(e,t):Qe.IsSymbol(e)?WZe(e,t):Qe.IsTuple(e)?VZe(e,t):Qe.IsPromise(e)?QZe(e,t):Qe.IsUint8Array(e)?$Ze(e,t):Qe.IsUndefined(e)?zZe(e,t):Qe.IsUnion(e)?YZe(e,t):Qe.IsUnknown(e)?KZe(e,t):Qe.IsVoid(e)?XZe(e,t):vI(`Unknown left type operand '${e[ot]}'`)}s(Ro,"Visit");function l5(e,t){return Ro(e,t)}s(l5,"ExtendsCheck");d();d();d();function ZZe(e,t,r,n,i){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=bI(e[a],t,r,n,as(i));return o}s(ZZe,"FromProperties");function eet(e,t,r,n,i){return ZZe(e.properties,t,r,n,i)}s(eet,"FromMappedResult");function NAe(e,t,r,n,i){let o=eet(e,t,r,n,i);return Vi(o)}s(NAe,"ExtendsFromMappedResult");function tet(e,t,r,n){let i=l5(e,t);return i===dt.Union?so([r,n]):i===dt.True?r:n}s(tet,"ExtendsResolve");function bI(e,t,r,n,i){return cs(e)?NAe(e,t,r,n,i):zu(e)?ut(LAe(e,t,r,n,i)):ut(tet(e,t,r,n),i)}s(bI,"Extends");function ret(e,t,r,n,i){return{[e]:bI(Bi(e),t,r,n,as(i))}}s(ret,"FromPropertyKey");function net(e,t,r,n,i){return e.reduce((o,a)=>({...o,...ret(a,t,r,n,i)}),{})}s(net,"FromPropertyKeys");function iet(e,t,r,n,i){return net(e.keys,t,r,n,i)}s(iet,"FromMappedKey");function LAe(e,t,r,n,i){let o=iet(e,t,r,n,i);return Vi(o)}s(LAe,"ExtendsFromMappedKey");d();function oet(e){return e.allOf.every(t=>oA(t))}s(oet,"Intersect");function set(e){return e.anyOf.some(t=>oA(t))}s(set,"Union");function aet(e){return!oA(e.not)}s(aet,"Not");function oA(e){return e[ot]==="Intersect"?oet(e):e[ot]==="Union"?set(e):e[ot]==="Not"?aet(e):e[ot]==="Undefined"}s(oA,"ExtendsUndefinedCheck");d();function FAe(e,t){return EI(qx(e),t)}s(FAe,"ExcludeFromTemplateLiteral");function cet(e,t){let r=e.filter(n=>l5(n,t)===dt.False);return r.length===1?r[0]:so(r)}s(cet,"ExcludeRest");function EI(e,t,r={}){return Yu(e)?ut(FAe(e,t),r):cs(e)?ut(MAe(e,t),r):ut(Ui(e)?cet(e.anyOf,t):l5(e,t)!==dt.False?ni():e,r)}s(EI,"Exclude");function uet(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=EI(e[n],t);return r}s(uet,"FromProperties");function fet(e,t){return uet(e.properties,t)}s(fet,"FromMappedResult");function MAe(e,t){let r=fet(e,t);return Vi(r)}s(MAe,"ExcludeFromMappedResult");d();d();d();function QAe(e,t){return II(qx(e),t)}s(QAe,"ExtractFromTemplateLiteral");function det(e,t){let r=e.filter(n=>l5(n,t)!==dt.False);return r.length===1?r[0]:so(r)}s(det,"ExtractRest");function II(e,t,r){return Yu(e)?ut(QAe(e,t),r):cs(e)?ut(OAe(e,t),r):ut(Ui(e)?det(e.anyOf,t):l5(e,t)!==dt.False?e:ni(),r)}s(II,"Extract");function met(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=II(e[n],t);return r}s(met,"FromProperties");function het(e,t){return met(e.properties,t)}s(het,"FromMappedResult");function OAe(e,t){let r=het(e,t);return Vi(r)}s(OAe,"ExtractFromMappedResult");d();function UAe(e,t){return Ym(e)?ut(e.returns,t):ni(t)}s(UAe,"InstanceType");d();d();function tL(e){return K0(Bc(e))}s(tL,"ReadonlyOptional");d();function Wx(e,t,r){return ut({[ot]:"Record",type:"object",patternProperties:{[e]:t}},r)}s(Wx,"RecordCreateFromPattern");function PJ(e,t,r){let n={};for(let i of e)n[i]=t;return ao(n,{...r,[gd]:"Record"})}s(PJ,"RecordCreateFromKeys");function pet(e,t,r){return qN(e)?PJ(Y0(e),t,r):Wx(e.pattern,t,r)}s(pet,"FromTemplateLiteralKey");function get(e,t,r){return PJ(Y0(so(e)),t,r)}s(get,"FromUnionKey");function Aet(e,t,r){return PJ([e.toString()],t,r)}s(Aet,"FromLiteralKey");function yet(e,t,r){return Wx(e.source,t,r)}s(yet,"FromRegExpKey");function Cet(e,t,r){let n=va(e.pattern)?$p:e.pattern;return Wx(n,t,r)}s(Cet,"FromStringKey");function xet(e,t,r){return Wx($p,t,r)}s(xet,"FromAnyKey");function vet(e,t,r){return Wx(Y1e,t,r)}s(vet,"FromNeverKey");function bet(e,t,r){return ao({true:t,false:t},r)}s(bet,"FromBooleanKey");function Eet(e,t,r){return Wx(Vp,t,r)}s(Eet,"FromIntegerKey");function Iet(e,t,r){return Wx(Vp,t,r)}s(Iet,"FromNumberKey");function rL(e,t,r={}){return Ui(e)?get(e.anyOf,t,r):Yu(e)?pet(e,t,r):$u(e)?Aet(e.const,t,r):Z1(e)?bet(e,t,r):Jm(e)?Eet(e,t,r):Xm(e)?Iet(e,t,r):dJ(e)?yet(e,t,r):eA(e)?Cet(e,t,r):uJ(e)?xet(e,t,r):i5(e)?vet(e,t,r):ni(r)}s(rL,"Record");function nL(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}s(nL,"RecordPattern");function qAe(e){let t=nL(e);return t===$p?d0():t===Vp?Ad():d0({pattern:t})}s(qAe,"RecordKey");function iL(e){return e.patternProperties[nL(e)]}s(iL,"RecordValue");function Tet(e,t){return t.parameters=e_(e,t.parameters),t.returns=th(e,t.returns),t}s(Tet,"FromConstructor");function wet(e,t){return t.parameters=e_(e,t.parameters),t.returns=th(e,t.returns),t}s(wet,"FromFunction");function _et(e,t){return t.allOf=e_(e,t.allOf),t}s(_et,"FromIntersect");function Ret(e,t){return t.anyOf=e_(e,t.anyOf),t}s(Ret,"FromUnion");function ket(e,t){return va(t.items)||(t.items=e_(e,t.items)),t}s(ket,"FromTuple");function Bet(e,t){return t.items=th(e,t.items),t}s(Bet,"FromArray");function Det(e,t){return t.items=th(e,t.items),t}s(Det,"FromAsyncIterator");function Pet(e,t){return t.items=th(e,t.items),t}s(Pet,"FromIterator");function Net(e,t){return t.item=th(e,t.item),t}s(Net,"FromPromise");function Let(e,t){let r=Oet(e,t.properties);return{...t,...ao(r)}}s(Let,"FromObject");function Fet(e,t){let r=th(e,qAe(t)),n=th(e,iL(t)),i=rL(r,n);return{...t,...i}}s(Fet,"FromRecord");function Met(e,t){return t.index in e?e[t.index]:eh()}s(Met,"FromArgument");function Qet(e,t){let r=lI(t),n=z0(t),i=th(e,t);return r&&n?tL(i):r&&!n?K0(i):!r&&n?Bc(i):i}s(Qet,"FromProperty");function Oet(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:Qet(e,t[n])}),{})}s(Oet,"FromProperties");function e_(e,t){return t.map(r=>th(e,r))}s(e_,"FromTypes");function th(e,t){return Ym(t)?Tet(e,t):Km(t)?wet(e,t):$s(t)?_et(e,t):Ui(t)?Ret(e,t):Ku(t)?ket(e,t):$m(t)?Bet(e,t):Lx(t)?Det(e,t):Mx(t)?Pet(e,t):Qx(t)?Net(e,t):ba(t)?Let(e,t):Ox(t)?Fet(e,t):fJ(t)?Met(e,t):t}s(th,"FromType");function WAe(e,t){return th(t,sI(e))}s(WAe,"Instantiate");d();function GAe(e){return ut({[ot]:"Integer",type:"integer"},e)}s(GAe,"Integer");d();d();d();function Uet(e,t,r){return{[e]:rh(Bi(e),t,as(r))}}s(Uet,"MappedIntrinsicPropertyKey");function qet(e,t,r){return e.reduce((i,o)=>({...i,...Uet(o,t,r)}),{})}s(qet,"MappedIntrinsicPropertyKeys");function Wet(e,t,r){return qet(e.keys,t,r)}s(Wet,"MappedIntrinsicProperties");function HAe(e,t,r){let n=Wet(e,t,r);return Vi(n)}s(HAe,"IntrinsicFromMappedKey");function Get(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}s(Get,"ApplyUncapitalize");function Het(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}s(Het,"ApplyCapitalize");function jet(e){return e.toUpperCase()}s(jet,"ApplyUppercase");function Vet(e){return e.toLowerCase()}s(Vet,"ApplyLowercase");function $et(e,t,r){let n=pI(e.pattern);if(!Ux(n))return{...e,pattern:jAe(e.pattern,t)};let a=[...K7(n)].map(u=>Bi(u)),l=VAe(a,t),c=so(l);return GN([c],r)}s($et,"FromTemplateLiteral");function jAe(e,t){return typeof e=="string"?t==="Uncapitalize"?Get(e):t==="Capitalize"?Het(e):t==="Uppercase"?jet(e):t==="Lowercase"?Vet(e):e:e.toString()}s(jAe,"FromLiteralValue");function VAe(e,t){return e.map(r=>rh(r,t))}s(VAe,"FromRest");function rh(e,t,r={}){return zu(e)?HAe(e,t,r):Yu(e)?$et(e,t,r):Ui(e)?so(VAe(e.anyOf,t),r):$u(e)?Bi(jAe(e.const,t),r):ut(e,r)}s(rh,"Intrinsic");function $Ae(e,t={}){return rh(e,"Capitalize",t)}s($Ae,"Capitalize");d();function zAe(e,t={}){return rh(e,"Lowercase",t)}s(zAe,"Lowercase");d();function YAe(e,t={}){return rh(e,"Uncapitalize",t)}s(YAe,"Uncapitalize");d();function KAe(e,t={}){return rh(e,"Uppercase",t)}s(KAe,"Uppercase");d();d();d();d();d();function zet(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=c5(e[i],t,as(r));return n}s(zet,"FromProperties");function Yet(e,t,r){return zet(e.properties,t,r)}s(Yet,"FromMappedResult");function JAe(e,t,r){let n=Yet(e,t,r);return Vi(n)}s(JAe,"OmitFromMappedResult");function Ket(e,t){return e.map(r=>NJ(r,t))}s(Ket,"FromIntersect");function Jet(e,t){return e.map(r=>NJ(r,t))}s(Jet,"FromUnion");function Xet(e,t){let{[t]:r,...n}=e;return n}s(Xet,"FromProperty");function Zet(e,t){return t.reduce((r,n)=>Xet(r,n),e)}s(Zet,"FromProperties");function ett(e,t){let r=zs(e,[Ds,"$id","required","properties"]),n=Zet(e.properties,t);return ao(n,r)}s(ett,"FromObject");function ttt(e){let t=e.reduce((r,n)=>QN(n)?[...r,Bi(n)]:r,[]);return so(t)}s(ttt,"UnionFromPropertyKeys");function NJ(e,t){return $s(e)?Dc(Ket(e.allOf,t)):Ui(e)?so(Jet(e.anyOf,t)):ba(e)?ett(e,t):ao({})}s(NJ,"OmitResolve");function c5(e,t,r){let n=xa(t)?ttt(t):t,i=Ps(t)?Y0(t):t,o=ra(e),a=ra(t);return cs(e)?JAe(e,i,r):zu(t)?XAe(e,t,r):o&&a?Ko("Omit",[e,n],r):!o&&a?Ko("Omit",[e,n],r):o&&!a?Ko("Omit",[e,n],r):ut({...NJ(e,i),...r})}s(c5,"Omit");function rtt(e,t,r){return{[t]:c5(e,[t],as(r))}}s(rtt,"FromPropertyKey");function ntt(e,t,r){return t.reduce((n,i)=>({...n,...rtt(e,i,r)}),{})}s(ntt,"FromPropertyKeys");function itt(e,t,r){return ntt(e,t.keys,r)}s(itt,"FromMappedKey");function XAe(e,t,r){let n=itt(e,t,r);return Vi(n)}s(XAe,"OmitFromMappedKey");d();d();d();function ott(e,t,r){let n={};for(let i of globalThis.Object.getOwnPropertyNames(e))n[i]=u5(e[i],t,as(r));return n}s(ott,"FromProperties");function stt(e,t,r){return ott(e.properties,t,r)}s(stt,"FromMappedResult");function ZAe(e,t,r){let n=stt(e,t,r);return Vi(n)}s(ZAe,"PickFromMappedResult");function att(e,t){return e.map(r=>LJ(r,t))}s(att,"FromIntersect");function ltt(e,t){return e.map(r=>LJ(r,t))}s(ltt,"FromUnion");function ctt(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}s(ctt,"FromProperties");function utt(e,t){let r=zs(e,[Ds,"$id","required","properties"]),n=ctt(e.properties,t);return ao(n,r)}s(utt,"FromObject");function ftt(e){let t=e.reduce((r,n)=>QN(n)?[...r,Bi(n)]:r,[]);return so(t)}s(ftt,"UnionFromPropertyKeys");function LJ(e,t){return $s(e)?Dc(att(e.allOf,t)):Ui(e)?so(ltt(e.anyOf,t)):ba(e)?utt(e,t):ao({})}s(LJ,"PickResolve");function u5(e,t,r){let n=xa(t)?ftt(t):t,i=Ps(t)?Y0(t):t,o=ra(e),a=ra(t);return cs(e)?ZAe(e,i,r):zu(t)?e2e(e,t,r):o&&a?Ko("Pick",[e,n],r):!o&&a?Ko("Pick",[e,n],r):o&&!a?Ko("Pick",[e,n],r):ut({...LJ(e,i),...r})}s(u5,"Pick");function dtt(e,t,r){return{[t]:u5(e,[t],as(r))}}s(dtt,"FromPropertyKey");function mtt(e,t,r){return t.reduce((n,i)=>({...n,...dtt(e,i,r)}),{})}s(mtt,"FromPropertyKeys");function htt(e,t,r){return mtt(e,t.keys,r)}s(htt,"FromMappedKey");function e2e(e,t,r){let n=htt(e,t,r);return Vi(n)}s(e2e,"PickFromMappedKey");d();d();function ptt(e,t){return Ko("Partial",[Ko(e,t)])}s(ptt,"FromComputed");function gtt(e){return Ko("Partial",[xd(e)])}s(gtt,"FromRef");function Att(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Bc(e[r]);return t}s(Att,"FromProperties");function ytt(e){let t=zs(e,[Ds,"$id","required","properties"]),r=Att(e.properties);return ao(r,t)}s(ytt,"FromObject");function t2e(e){return e.map(t=>r2e(t))}s(t2e,"FromRest");function r2e(e){return zm(e)?ptt(e.target,e.parameters):ra(e)?gtt(e.$ref):$s(e)?Dc(t2e(e.allOf)):Ui(e)?so(t2e(e.anyOf)):ba(e)?ytt(e):Fx(e)||Z1(e)||Jm(e)||$u(e)||G7(e)||Xm(e)||eA(e)||H7(e)||tA(e)?e:ao({})}s(r2e,"PartialResolve");function TI(e,t){return cs(e)?n2e(e,t):ut({...r2e(e),...t})}s(TI,"Partial");function Ctt(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=TI(e[n],as(t));return r}s(Ctt,"FromProperties");function xtt(e,t){return Ctt(e.properties,t)}s(xtt,"FromMappedResult");function n2e(e,t){let r=xtt(e,t);return Vi(r)}s(n2e,"PartialFromMappedResult");d();d();function vtt(e,t){return Ko("Required",[Ko(e,t)])}s(vtt,"FromComputed");function btt(e){return Ko("Required",[xd(e)])}s(btt,"FromRef");function Ett(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=zs(e[r],[rc]);return t}s(Ett,"FromProperties");function Itt(e){let t=zs(e,[Ds,"$id","required","properties"]),r=Ett(e.properties);return ao(r,t)}s(Itt,"FromObject");function i2e(e){return e.map(t=>o2e(t))}s(i2e,"FromRest");function o2e(e){return zm(e)?vtt(e.target,e.parameters):ra(e)?btt(e.$ref):$s(e)?Dc(i2e(e.allOf)):Ui(e)?so(i2e(e.anyOf)):ba(e)?Itt(e):Fx(e)||Z1(e)||Jm(e)||$u(e)||G7(e)||Xm(e)||eA(e)||H7(e)||tA(e)?e:ao({})}s(o2e,"RequiredResolve");function wI(e,t){return cs(e)?s2e(e,t):ut({...o2e(e),...t})}s(wI,"Required");function Ttt(e,t){let r={};for(let n of globalThis.Object.getOwnPropertyNames(e))r[n]=wI(e[n],t);return r}s(Ttt,"FromProperties");function wtt(e,t){return Ttt(e.properties,t)}s(wtt,"FromMappedResult");function s2e(e,t){let r=wtt(e,t);return Vi(r)}s(s2e,"RequiredFromMappedResult");function _tt(e,t){return t.map(r=>ra(r)?FJ(e,r.$ref):Ju(e,r))}s(_tt,"DereferenceParameters");function FJ(e,t){return t in e?ra(e[t])?FJ(e,e[t].$ref):Ju(e,e[t]):ni()}s(FJ,"Dereference");function Stt(e){return CI(e[0])}s(Stt,"FromAwaited");function Rtt(e){return a5(e[0],e[1])}s(Rtt,"FromIndex");function ktt(e){return xI(e[0])}s(ktt,"FromKeyOf");function Btt(e){return TI(e[0])}s(Btt,"FromPartial");function Dtt(e){return c5(e[0],e[1])}s(Dtt,"FromOmit");function Ptt(e){return u5(e[0],e[1])}s(Ptt,"FromPick");function Ntt(e){return wI(e[0])}s(Ntt,"FromRequired");function Ltt(e,t,r){let n=_tt(e,r);return t==="Awaited"?Stt(n):t==="Index"?Rtt(n):t==="KeyOf"?ktt(n):t==="Partial"?Btt(n):t==="Omit"?Dtt(n):t==="Pick"?Ptt(n):t==="Required"?Ntt(n):ni()}s(Ltt,"FromComputed");function Ftt(e,t){return fI(Ju(e,t))}s(Ftt,"FromArray");function Mtt(e,t){return dI(Ju(e,t))}s(Mtt,"FromAsyncIterator");function Qtt(e,t,r){return mI(t_(e,t),Ju(e,r))}s(Qtt,"FromConstructor");function Ott(e,t,r){return zp(t_(e,t),Ju(e,r))}s(Ott,"FromFunction");function Utt(e,t){return Dc(t_(e,t))}s(Utt,"FromIntersect");function qtt(e,t){return yI(Ju(e,t))}s(qtt,"FromIterator");function Wtt(e,t){return ao(globalThis.Object.keys(t).reduce((r,n)=>({...r,[n]:Ju(e,t[n])}),{}))}s(Wtt,"FromObject");function Gtt(e,t){let[r,n]=[Ju(e,iL(t)),nL(t)],i=sI(t);return i.patternProperties[n]=r,i}s(Gtt,"FromRecord");function Htt(e,t){return ra(t)?{...FJ(e,t.$ref),[Ds]:t[Ds]}:t}s(Htt,"FromTransform");function jtt(e,t){return yd(t_(e,t))}s(jtt,"FromTuple");function Vtt(e,t){return so(t_(e,t))}s(Vtt,"FromUnion");function t_(e,t){return t.map(r=>Ju(e,r))}s(t_,"FromTypes");function Ju(e,t){return z0(t)?ut(Ju(e,zs(t,[rc])),t):lI(t)?ut(Ju(e,zs(t,[Vm])),t):oo(t)?ut(Htt(e,t),t):$m(t)?ut(Ftt(e,t.items),t):Lx(t)?ut(Mtt(e,t.items),t):zm(t)?ut(Ltt(e,t.target,t.parameters)):Ym(t)?ut(Qtt(e,t.parameters,t.returns),t):Km(t)?ut(Ott(e,t.parameters,t.returns),t):$s(t)?ut(Utt(e,t.allOf),t):Mx(t)?ut(qtt(e,t.items),t):ba(t)?ut(Wtt(e,t.properties),t):Ox(t)?ut(Gtt(e,t)):Ku(t)?ut(jtt(e,t.items||[]),t):Ui(t)?ut(Vtt(e,t.anyOf),t):t}s(Ju,"FromType");function $tt(e,t){return t in e?Ju(e,e[t]):ni()}s($tt,"ComputeType");function a2e(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:$tt(e,r)}),{})}s(a2e,"ComputeModuleProperties");var MJ=class{static{s(this,"TModule")}constructor(t){let r=a2e(t),n=this.WithIdentifiers(r);this.$defs=n}Import(t,r){let n={...this.$defs,[t]:ut(this.$defs[t],r)};return ut({[ot]:"Import",$defs:n,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,n)=>({...r,[n]:{...t[n],$id:n}}),{})}};function l2e(e){return new MJ(e)}s(l2e,"Module");d();function c2e(e,t){return ut({[ot]:"Not",not:e},t)}s(c2e,"Not");d();function u2e(e,t){return Km(e)?yd(e.parameters,t):ni()}s(u2e,"Parameters");d();var ztt=0;function f2e(e,t={}){va(t.$id)&&(t.$id=`T${ztt++}`);let r=sI(e({[ot]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,ut({[gd]:"Recursive",...r},t)}s(f2e,"Recursive");d();function d2e(e,t){let r=qo(e)?new globalThis.RegExp(e):e;return ut({[ot]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}s(d2e,"RegExp");d();function Ytt(e){return $s(e)?e.allOf:Ui(e)?e.anyOf:Ku(e)?e.items??[]:[]}s(Ytt,"RestResolve");function m2e(e){return Ytt(e)}s(m2e,"Rest");d();function h2e(e,t){return Km(e)?ut(e.returns,t):ni(t)}s(h2e,"ReturnType");d();var QJ=class{static{s(this,"TransformDecodeBuilder")}constructor(t){this.schema=t}Decode(t){return new OJ(this.schema,t)}},OJ=class{static{s(this,"TransformEncodeBuilder")}constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let o={Encode:s(a=>r[Ds].Encode(t(a)),"Encode"),Decode:s(a=>this.decode(r[Ds].Decode(a)),"Decode")};return{...r,[Ds]:o}}EncodeSchema(t,r){let n={Decode:this.decode,Encode:t};return{...r,[Ds]:n}}Encode(t){return oo(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};function p2e(e){return new QJ(e)}s(p2e,"Transform");d();function g2e(e={}){return ut({[ot]:e[ot]??"Unsafe"},e)}s(g2e,"Unsafe");d();function A2e(e){return ut({[ot]:"Void",type:"void"},e)}s(A2e,"Void");d();var UJ={};V1(UJ,{Any:()=>s5,Argument:()=>eAe,Array:()=>fI,AsyncIterator:()=>dI,Awaited:()=>CI,BigInt:()=>AI,Boolean:()=>WN,Capitalize:()=>$Ae,Composite:()=>CAe,Const:()=>xAe,Constructor:()=>mI,ConstructorParameters:()=>vAe,Date:()=>$N,Enum:()=>bAe,Exclude:()=>EI,Extends:()=>bI,Extract:()=>II,Function:()=>zp,Index:()=>a5,InstanceType:()=>UAe,Instantiate:()=>WAe,Integer:()=>GAe,Intersect:()=>Dc,Iterator:()=>yI,KeyOf:()=>xI,Literal:()=>Bi,Lowercase:()=>zAe,Mapped:()=>mAe,Module:()=>l2e,Never:()=>ni,Not:()=>c2e,Null:()=>zN,Number:()=>Ad,Object:()=>ao,Omit:()=>c5,Optional:()=>Bc,Parameters:()=>u2e,Partial:()=>TI,Pick:()=>u5,Promise:()=>jN,Readonly:()=>K0,ReadonlyOptional:()=>tL,Record:()=>rL,Recursive:()=>f2e,Ref:()=>xd,RegExp:()=>d2e,Required:()=>wI,Rest:()=>m2e,ReturnType:()=>h2e,String:()=>d0,Symbol:()=>YN,TemplateLiteral:()=>GN,Transform:()=>p2e,Tuple:()=>yd,Uint8Array:()=>JN,Uncapitalize:()=>YAe,Undefined:()=>KN,Union:()=>so,Unknown:()=>eh,Unsafe:()=>g2e,Uppercase:()=>KAe,Void:()=>A2e});d();var I=UJ;var $Ce=Ze(ii()),zCe=I.Object({accessToken:I.Optional(I.String({minLength:1})),handle:I.Optional(I.String({minLength:1})),githubAppId:I.Optional(I.String({minLength:1}))}),hZ;(r=>(r.method="github/didChangeAuth",r.type=new $Ce.ProtocolNotificationType(r.method)))(hZ||={});d();var YCe=Ze(ii()),pZ;(r=>(r.method="copilot/ipCodeCitation",r.type=new YCe.NotificationType(r.method)))(pZ||={});d();var KCe=Ze(ii()),jL;(r=>(r.method="context/update",r.type=new KCe.ProtocolRequestType(r.method)))(jL||={});d();d();var x5="Cancelled";d();var Fn=Ze(ii()),f_=I.String(),nu=I.Object({uri:f_}),zx=I.Intersect([nu,I.Object({version:I.Optional(I.Integer())})]),S0r=I.Required(zx),_l=I.Object({line:I.Integer({minimum:0}),character:I.Integer({minimum:0})}),Ea=I.Object({start:_l,end:_l}),gZ=I.Union([I.Integer(),I.String()]),R0r=I.Object({isCancellationRequested:I.Boolean(),onCancellationRequested:I.Any()});d();var JCe=Ze(ii()),AZ;(r=>(r.method="textDocument/didFocus",r.type=new JCe.ProtocolNotificationType(r.method)))(AZ||={});d();var Zrt=I.Object({didChangeFeatureFlags:I.Boolean(),fetch:I.Boolean(),ipCodeCitation:I.Boolean(),redirectedTelemetry:I.Boolean(),related:I.Boolean(),token:I.Boolean(),watchedFiles:I.Boolean()}),ent=I.Object({name:I.String(),version:I.String(),readableName:I.Optional(I.String())}),XCe=I.Object({name:I.String(),version:I.Optional(I.String()),readableName:I.Optional(I.String())}),ZCe=I.Object({editorInfo:I.Optional(XCe),editorPluginInfo:I.Optional(XCe),relatedPluginInfo:I.Optional(I.Array(ent)),copilotIntegrationId:I.Optional(I.String()),copilotCapabilities:I.Optional(I.Partial(Zrt)),githubAppId:I.Optional(I.String())});d();var d_=Ze(ii());var VL=(r=>(r[r.Invoked=1]="Invoked",r[r.Automatic=2]="Automatic",r))(VL||{}),tnt=I.Enum(VL),rnt=I.Object({triggerKind:tnt,selectedCompletionInfo:I.Optional(I.Object({text:I.String(),range:Ea,tooltipSignature:I.Optional(I.String())}))}),e3e=I.Object({textDocument:zx,position:_l,formattingOptions:I.Optional(I.Object({tabSize:I.Optional(I.Union([I.Integer({minimum:1}),I.String()])),insertSpaces:I.Optional(I.Union([I.Boolean(),I.String()]))})),context:rnt,data:I.Optional(I.Unknown())}),yZ;(r=>(r.method="textDocument/inlineCompletion",r.type=new d_.ProtocolRequestType(r.method)))(yZ||={});var t3e=I.Object({command:I.Object({arguments:I.Tuple([I.String({minLength:1})])})}),r3e=I.Object({item:t3e}),CZ;(r=>(r.method="textDocument/didShowCompletion",r.type=new d_.ProtocolNotificationType(r.method)))(CZ||={});var n3e=I.Object({item:t3e,acceptedLength:I.Integer({minimum:1})}),xZ;(r=>(r.method="textDocument/didPartiallyAcceptCompletion",r.type=new d_.ProtocolNotificationType(r.method)))(xZ||={});d();var i3e=Ze(ii()),vZ;(r=>(r.method="textDocument/inlineCompletionPrompt",r.type=new i3e.ProtocolRequestType(r.method)))(vZ||={});d();var o3e=Ze(ii()),s3e=I.Object({textDocument:zx,position:_l}),nnt=I.Object({command:I.Object({arguments:I.Tuple([I.String({minLength:1})])})}),a3e=I.Object({item:nnt}),bZ;(r=>(r.method="textDocument/didShowInlineEdit",r.type=new o3e.ProtocolNotificationType(r.method)))(bZ||={});d();var $L=Ze(ii());var l3e=I.Object({textDocument:zx,position:_l,partialResultToken:I.Optional(gZ),workDoneToken:I.Optional(gZ)}),zL;(n=>(n.method="textDocument/copilotPanelCompletion",n.type=new $L.ProtocolRequestType(n.method),n.partialResult=new $L.ProgressType))(zL||={});d();var c3e=Ze(ii()),EZ;(r=>(r.method="copilot/related",r.type=new c3e.ProtocolRequestType(r.method)))(EZ||={});d();var u3e=Ze(ii()),IZ;(r=>(r.method="statusNotification",r.type=new u3e.ProtocolNotificationType(r.method)))(IZ||={});var f3e=Ze(require("events"));var YL="CopilotToken",Zp=class{static{s(this,"CopilotTokenNotifier")}#e=new f3e.default;#t;constructor(){this.#e.setMaxListeners(20)}emitToken(t){if(t.token!==this.#t?.token)return this.#t=t,this.#e.emit(YL,t)}onToken(t){return this.#e.on(YL,t),Fn.Disposable.create(()=>this.#e.off(YL,t))}};function Ks(e,t){let r=ef(e,t,`event.${YL}`);return e.get(Zp).onToken(r)}s(Ks,"onCopilotToken");function m_(e,t){return e.get(Zp).emitToken(t)}s(m_,"emitCopilotToken");var ic=class{static{s(this,"TelemetryUserConfig")}constructor(t,r,n,i){this.trackingId=r,this.optedIn=n??!1,this.ftFlag=i??"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){Ks(t,r=>{let n=r.getTokenValue("rt")==="1",i=r.getTokenValue("ft")??"",o=r.getTokenValue("tid"),a=r.organization_list,l=r.enterprise_list,c=r.getTokenValue("sku");o!==void 0&&(this.trackingId=o,this.organizationsList=a?.toString(),this.enterpriseList=l?.toString(),this.sku=c,this.optedIn=n,this.ftFlag=i)})}};var KL=Ze(t5()),JL=Ze(require("os"));var int=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function ont(e){let t={type:e.name,value:e.message},r=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r?.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let n of r.slice(e.toString().length+1).split(/\n/).reverse()){let i=n.match(int),o={filename:"",function:""};i&&(o.function=i[2]?.trim()?.replace(/^[^.]{1,2}(\.|$)/,"_$1")??o.function,o.filename=(i[4]?.trim()??o.filename).replace(/^\.\/dist\//,"/github-copilot/dist/"),i[5]&&i[5]!==":0"&&(o.lineno=i[5].slice(1)),i[6]&&i[5]!==":0"&&(o.colno=i[6].slice(1)),o.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(o.filename)),t.stacktrace.push(o)}}return t}s(ont,"buildExceptionDetail");function TZ(e,t){let r=e.get(gn),n=r.getEditorInfo(),i=e.get(ic),o={"#editor":n.devName??n.name,"#editor_version":eg({name:n.devName??n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":eg(r.getEditorPluginInfo()),"#session_id":e.get(Bs).sessionId,"#machine_id":e.get(Bs).machineId,"#architecture":JL.arch(),"#os_platform":JL.platform(),...t};return i.trackingId&&(o.user=i.trackingId,o["#tracking_id"]=i.trackingId),o}s(TZ,"buildContext");function d3e(e,t){let r=e.get(go),n=e.get(gn).getEditorInfo(),i=typeof process<"u"?process.versions.node:"web",o={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:TZ(e,{"#node_version":i}),sensitive_context:{}},a=[];o.exception_detail=[];let l=0,c=t;for(;c instanceof Error&&l<10;){let f=ont(c);o.exception_detail.unshift(f),a.unshift([c,f]),l+=1,c=c.cause}let u=[];for(let[f,m]of a)if(m.stacktrace&&m.stacktrace.length>0){u.push(`${m.type}: ${f.code??""}`);let h=[...m.stacktrace].reverse();for(let p of h)if(p.filename?.startsWith("/github-copilot/"))return o;for(let p of h)if(p.in_app){u.push(`${p.filename?.replace(/^\.\//,"")}:${p.lineno}:${p.colno}`);break}u.push(`${h[0].filename?.replace(/^\.\//,"")}`)}else return o;return o.exception_detail.length>0&&(o.rollup_id=(0,KL.SHA256)(KL.enc.Utf16.parse(u.join(`
`))).toString()),o}s(d3e,"buildPayload");d();var h_=class{static{s(this,"FailingTelemetryReporter")}sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,i){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};d();var tg=class{constructor(t=5){this.perTenMinutes=t;this.cache=new un}static{s(this,"ExceptionRateLimiter")}isThrottled(t){let r=Date.now(),n=this.cache.get(t)||new Array(this.perTenMinutes).fill(0);return r-n[0]<6e5?!0:(n.push(r),n.shift(),this.cache.set(t,n),!1)}};d();var Td=class e{constructor(t){this.flags=t}static{s(this,"RuntimeMode")}static fromEnvironment(t,r=process.argv,n=process.env){return new e({debug:p3e(r,n),verboseLogging:ant(r,n),testMode:t,simulation:snt(n)})}};function oh(e){return e.get(Td).flags.testMode}s(oh,"isRunningInTest");function VI(e){return oh(e)}s(VI,"shouldFailForDebugPurposes");function p_(e){return e.get(Td).flags.debug}s(p_,"isDebugEnabled");function h3e(e){return e.get(Td).flags.verboseLogging}s(h3e,"isVerboseLoggingEnabled");function p3e(e,t){return e.includes("--debug")||wZ(t,"DEBUG")}s(p3e,"determineDebugFlag");function snt(e){return wZ(e,"SIMULATION")}s(snt,"determineSimulationFlag");function ZL(e){return e.get(Td).flags.simulation}s(ZL,"isRunningInSimulation");function ant(e,t){return t.COPILOT_AGENT_VERBOSE==="1"||t.COPILOT_AGENT_VERBOSE?.toLowerCase()==="true"||wZ(t,"VERBOSE")||p3e(e,t)}s(ant,"determineVerboseLoggingEnabled");function wZ(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||n?.toLowerCase()==="true"}return!1}s(wZ,"determineEnvFlagEnabled");d();var ko=class{constructor(){this.promises=new Set}static{s(this,"PromiseQueue")}register(t){this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};d();var y3e=require("os"),C3e=Ze(require("path"));function g_(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}s(g_,"redactPaths");var lnt=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),cnt=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/u,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/u];function SZ(e){if(lnt.has(e))return e;for(let t of cnt)if(t.test(e))return e;return g_(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}s(SZ,"redactMessage");function eF(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(eF,"escapeForRegExp");var unt=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+eF((0,y3e.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function _Z(e){return e.replace(unt,"~")}s(_Z,"redactHomeDir");var x3e="[\\\\/]?([^:)]*)(?=:\\d)",g3e=new RegExp(eF(C3e.sep),"g"),A3e=new RegExp(eF(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+x3e,"gi");function RZ(e,t,r=!1,n=[]){let i=new Error(t(e));i.name=e.name,typeof e.syscall=="string"&&(i.syscall=e.syscall),typeof e.code=="string"&&(i.code=e.code),typeof e.errno=="number"&&(i.errno=e.errno),i.stack=void 0;let o=e.stack?.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let l of[e.toString(),`${e.name}: ${e.message}`])if(o?.startsWith(l+`
`)){a=o.slice(l.length+1).split(/\n/);break}if(a){i.stack=i.toString();for(let l of a)if(A3e.test(l))i.stack+=`
${g_(l.replace(A3e,(c,u)=>"./"+u.replace(g3e,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(l))i.stack+=`
${g_(l)}`;else{let c=!1;for(let{prefix:u,path:f}of n){let m=new RegExp(eF(f.replace(/[\\/]$/,""))+x3e,"gi");if(m.test(l)){i.stack+=`
${g_(l.replace(m,(h,p)=>u+p.replace(g3e,"/")))}`,c=!0;break}}if(c)continue;r?i.stack+=`
${_Z(l)}`:i.stack+=`
    at [redacted]:0:0`}}else r&&o&&(i.stack=_Z(o));return e.cause instanceof Error&&(i.cause=RZ(e.cause,t,r,n)),i}s(RZ,"cloneError");function v3e(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}s(v3e,"errorMessageWithoutPath");function b3e(e,t){return RZ(e,s(function(n){return _Z(v3e(n))},"prepareMessage"),!0,t)}s(b3e,"prepareErrorForRestrictedTelemetry");function kZ(e,t,r=!1){return RZ(e,s(function(i){if(r)return SZ(v3e(i));let o="[redacted]";return typeof i.code=="string"&&(o=i.code+" "+o),typeof i.syscall=="string"?o=g_(i.syscall)+" "+o:"erroredSysCall"in i&&typeof i.erroredSysCall=="string"&&(o=i.erroredSysCall+" "+o),o},"prepareMessage"),!1,t)}s(kZ,"redactError");d();d();function fnt(e){switch(e.errorType){case nt.ArrayContains:return"Expected array to contain at least one matching value";case nt.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case nt.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case nt.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case nt.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case nt.ArrayUniqueItems:return"Expected array elements to be unique";case nt.Array:return"Expected array";case nt.AsyncIterator:return"Expected AsyncIterator";case nt.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case nt.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case nt.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case nt.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case nt.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case nt.BigInt:return"Expected bigint";case nt.Boolean:return"Expected boolean";case nt.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case nt.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case nt.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case nt.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case nt.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case nt.Date:return"Expected Date";case nt.Function:return"Expected function";case nt.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case nt.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case nt.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case nt.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case nt.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case nt.Integer:return"Expected integer";case nt.IntersectUnevaluatedProperties:return"Unexpected property";case nt.Intersect:return"Expected all values to match";case nt.Iterator:return"Expected Iterator";case nt.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case nt.Never:return"Never";case nt.Not:return"Value should not match";case nt.Null:return"Expected null";case nt.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case nt.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case nt.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case nt.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case nt.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case nt.Number:return"Expected number";case nt.Object:return"Expected object";case nt.ObjectAdditionalProperties:return"Unexpected property";case nt.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case nt.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case nt.ObjectRequiredProperty:return"Expected required property";case nt.Promise:return"Expected Promise";case nt.RegExp:return"Expected string to match regular expression";case nt.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case nt.StringFormat:return`Expected string to match '${e.schema.format}' format`;case nt.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case nt.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case nt.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case nt.String:return"Expected string";case nt.Symbol:return"Expected symbol";case nt.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case nt.Tuple:return"Expected tuple";case nt.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case nt.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case nt.Uint8Array:return"Expected Uint8Array";case nt.Undefined:return"Expected undefined";case nt.Union:return"Expected union value";case nt.Void:return"Expected void";case nt.Kind:return`Expected kind '${e.schema[ot]}'`;default:return"Unknown error type"}}s(fnt,"DefaultErrorFunction");var dnt=fnt;function E3e(){return dnt}s(E3e,"GetErrorFunction");d();var BZ=class extends xn{static{s(this,"TypeDereferenceError")}constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`),this.schema=t}};function mnt(e,t){let r=t.find(n=>n.$id===e.$ref);if(r===void 0)throw new BZ(e);return $i(r,t)}s(mnt,"Resolve");function Sl(e,t){return!Oi(e.$id)||t.some(r=>r.$id===e.$id)||t.push(e),t}s(Sl,"Pushref");function $i(e,t){return e[ot]==="This"||e[ot]==="Ref"?mnt(e,t):e}s($i,"Deref");d();var DZ=class extends xn{static{s(this,"ValueHashError")}constructor(t){super("Unable to hash value"),this.value=t}},tf;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(tf||(tf={}));var $I=BigInt("14695981039346656037"),[hnt,pnt]=[BigInt("1099511628211"),BigInt("18446744073709551616")],gnt=Array.from({length:256}).map((e,t)=>BigInt(t)),I3e=new Float64Array(1),T3e=new DataView(I3e.buffer),w3e=new Uint8Array(I3e.buffer);function*Ant(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}s(Ant,"NumberToBytes");function ynt(e){Mc(tf.Array);for(let t of e)zI(t)}s(ynt,"ArrayType");function Cnt(e){Mc(tf.Boolean),Mc(e?1:0)}s(Cnt,"BooleanType");function xnt(e){Mc(tf.BigInt),T3e.setBigInt64(0,e);for(let t of w3e)Mc(t)}s(xnt,"BigIntType");function vnt(e){Mc(tf.Date),zI(e.getTime())}s(vnt,"DateType");function bnt(e){Mc(tf.Null)}s(bnt,"NullType");function Ent(e){Mc(tf.Number),T3e.setFloat64(0,e);for(let t of w3e)Mc(t)}s(Ent,"NumberType");function Int(e){Mc(tf.Object);for(let t of globalThis.Object.getOwnPropertyNames(e).sort())zI(t),zI(e[t])}s(Int,"ObjectType");function Tnt(e){Mc(tf.String);for(let t=0;t<e.length;t++)for(let r of Ant(e.charCodeAt(t)))Mc(r)}s(Tnt,"StringType");function wnt(e){Mc(tf.Symbol),zI(e.description)}s(wnt,"SymbolType");function _nt(e){Mc(tf.Uint8Array);for(let t=0;t<e.length;t++)Mc(e[t])}s(_nt,"Uint8ArrayType");function Snt(e){return Mc(tf.Undefined)}s(Snt,"UndefinedType");function zI(e){if(Cn(e))return ynt(e);if(jp(e))return Cnt(e);if(tc(e))return xnt(e);if(u0(e))return vnt(e);if(J1(e))return bnt(e);if(Xr(e))return Ent(e);if(ui(e))return Int(e);if(Oi(e))return Tnt(e);if(X1(e))return wnt(e);if(aI(e))return _nt(e);if(ls(e))return Snt(e);throw new DZ(e)}s(zI,"Visit");function Mc(e){$I=$I^gnt[e],$I=$I*hnt%pnt}s(Mc,"FNV1A64");function v5(e){return $I=BigInt("14695981039346656037"),zI(e),$I}s(v5,"Hash");d();var PZ=class extends xn{static{s(this,"ValueCheckUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function Rnt(e){return e[ot]==="Any"||e[ot]==="Unknown"}s(Rnt,"IsAnyOrUnknown");function bi(e){return e!==void 0}s(bi,"IsDefined");function knt(e,t,r){return!0}s(knt,"FromAny");function Bnt(e,t,r){return!0}s(Bnt,"FromArgument");function Dnt(e,t,r){if(!Cn(r)||bi(e.minItems)&&!(r.length>=e.minItems)||bi(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(o=>Rl(e.items,t,o))||e.uniqueItems===!0&&!function(){let o=new Set;for(let a of r){let l=v5(a);if(o.has(l))return!1;o.add(l)}return!0}())return!1;if(!(bi(e.contains)||Xr(e.minContains)||Xr(e.maxContains)))return!0;let n=bi(e.contains)?e.contains:ni(),i=r.reduce((o,a)=>Rl(n,t,a)?o+1:o,0);return!(i===0||Xr(e.minContains)&&i<e.minContains||Xr(e.maxContains)&&i>e.maxContains)}s(Dnt,"FromArray");function Pnt(e,t,r){return NN(r)}s(Pnt,"FromAsyncIterator");function Nnt(e,t,r){return!(!tc(r)||bi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||bi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||bi(e.maximum)&&!(r<=e.maximum)||bi(e.minimum)&&!(r>=e.minimum)||bi(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}s(Nnt,"FromBigInt");function Lnt(e,t,r){return jp(r)}s(Lnt,"FromBoolean");function Fnt(e,t,r){return Rl(e.returns,t,r.prototype)}s(Fnt,"FromConstructor");function Mnt(e,t,r){return!(!u0(r)||bi(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||bi(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||bi(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||bi(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||bi(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}s(Mnt,"FromDate");function Qnt(e,t,r){return n5(r)}s(Qnt,"FromFunction");function Ont(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return Rl(i,[...t,...n],r)}s(Ont,"FromImport");function Unt(e,t,r){return!(!MN(r)||bi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||bi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||bi(e.maximum)&&!(r<=e.maximum)||bi(e.minimum)&&!(r>=e.minimum)||bi(e.multipleOf)&&r%e.multipleOf!==0)}s(Unt,"FromInteger");function qnt(e,t,r){let n=e.allOf.every(i=>Rl(i,t,r));if(e.unevaluatedProperties===!1){let i=new RegExp(iA(e)),o=Object.getOwnPropertyNames(r).every(a=>i.test(a));return n&&o}else if(Ps(e.unevaluatedProperties)){let i=new RegExp(iA(e)),o=Object.getOwnPropertyNames(r).every(a=>i.test(a)||Rl(e.unevaluatedProperties,t,r[a]));return n&&o}else return n}s(qnt,"FromIntersect");function Wnt(e,t,r){return LN(r)}s(Wnt,"FromIterator");function Gnt(e,t,r){return r===e.const}s(Gnt,"FromLiteral");function Hnt(e,t,r){return!1}s(Hnt,"FromNever");function jnt(e,t,r){return!Rl(e.not,t,r)}s(jnt,"FromNot");function Vnt(e,t,r){return J1(r)}s(Vnt,"FromNull");function $nt(e,t,r){return!(!Yo.IsNumberLike(r)||bi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||bi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||bi(e.minimum)&&!(r>=e.minimum)||bi(e.maximum)&&!(r<=e.maximum)||bi(e.multipleOf)&&r%e.multipleOf!==0)}s($nt,"FromNumber");function znt(e,t,r){if(!Yo.IsObjectLike(r)||bi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||bi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let i of n){let o=e.properties[i];if(e.required&&e.required.includes(i)){if(!Rl(o,t,r[i])||(oA(o)||Rnt(o))&&!(i in r))return!1}else if(Yo.IsExactOptionalProperty(r,i)&&!Rl(o,t,r[i]))return!1}if(e.additionalProperties===!1){let i=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&i.length===n.length?!0:i.every(o=>n.includes(o))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(o=>n.includes(o)||Rl(e.additionalProperties,t,r[o])):!0}s(znt,"FromObject");function Ynt(e,t,r){return FN(r)}s(Ynt,"FromPromise");function Knt(e,t,r){if(!Yo.IsRecordLike(r)||bi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||bi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,i]=Object.entries(e.patternProperties)[0],o=new RegExp(n),a=Object.entries(r).every(([u,f])=>o.test(u)?Rl(i,t,f):!0),l=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,f])=>o.test(u)?!0:Rl(e.additionalProperties,t,f)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>o.test(u)):!0;return a&&l&&c}s(Knt,"FromRecord");function Jnt(e,t,r){return Rl($i(e,t),t,r)}s(Jnt,"FromRef");function Xnt(e,t,r){let n=new RegExp(e.source,e.flags);return bi(e.minLength)&&!(r.length>=e.minLength)||bi(e.maxLength)&&!(r.length<=e.maxLength)?!1:n.test(r)}s(Xnt,"FromRegExp");function Znt(e,t,r){return!Oi(r)||bi(e.minLength)&&!(r.length>=e.minLength)||bi(e.maxLength)&&!(r.length<=e.maxLength)||bi(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:bi(e.format)?Zm.Has(e.format)?Zm.Get(e.format)(r):!1:!0}s(Znt,"FromString");function eit(e,t,r){return X1(r)}s(eit,"FromSymbol");function tit(e,t,r){return Oi(r)&&new RegExp(e.pattern).test(r)}s(tit,"FromTemplateLiteral");function rit(e,t,r){return Rl($i(e,t),t,r)}s(rit,"FromThis");function nit(e,t,r){if(!Cn(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!Rl(e.items[n],t,r[n]))return!1;return!0}s(nit,"FromTuple");function iit(e,t,r){return ls(r)}s(iit,"FromUndefined");function oit(e,t,r){return e.anyOf.some(n=>Rl(n,t,r))}s(oit,"FromUnion");function sit(e,t,r){return!(!aI(r)||bi(e.maxByteLength)&&!(r.length<=e.maxByteLength)||bi(e.minByteLength)&&!(r.length>=e.minByteLength))}s(sit,"FromUint8Array");function ait(e,t,r){return!0}s(ait,"FromUnknown");function lit(e,t,r){return Yo.IsVoidLike(r)}s(lit,"FromVoid");function cit(e,t,r){return f0.Has(e[ot])?f0.Get(e[ot])(e,r):!1}s(cit,"FromKind");function Rl(e,t,r){let n=bi(e.$id)?Sl(e,t):t,i=e;switch(i[ot]){case"Any":return knt(i,n,r);case"Argument":return Bnt(i,n,r);case"Array":return Dnt(i,n,r);case"AsyncIterator":return Pnt(i,n,r);case"BigInt":return Nnt(i,n,r);case"Boolean":return Lnt(i,n,r);case"Constructor":return Fnt(i,n,r);case"Date":return Mnt(i,n,r);case"Function":return Qnt(i,n,r);case"Import":return Ont(i,n,r);case"Integer":return Unt(i,n,r);case"Intersect":return qnt(i,n,r);case"Iterator":return Wnt(i,n,r);case"Literal":return Gnt(i,n,r);case"Never":return Hnt(i,n,r);case"Not":return jnt(i,n,r);case"Null":return Vnt(i,n,r);case"Number":return $nt(i,n,r);case"Object":return znt(i,n,r);case"Promise":return Ynt(i,n,r);case"Record":return Knt(i,n,r);case"Ref":return Jnt(i,n,r);case"RegExp":return Xnt(i,n,r);case"String":return Znt(i,n,r);case"Symbol":return eit(i,n,r);case"TemplateLiteral":return tit(i,n,r);case"This":return rit(i,n,r);case"Tuple":return nit(i,n,r);case"Undefined":return iit(i,n,r);case"Union":return oit(i,n,r);case"Uint8Array":return sit(i,n,r);case"Unknown":return ait(i,n,r);case"Void":return lit(i,n,r);default:if(!f0.Has(i[ot]))throw new PZ(i);return cit(i,n,r)}}s(Rl,"Visit");function mi(...e){return e.length===3?Rl(e[0],e[1],e[2]):Rl(e[0],[],e[1])}s(mi,"Check");var nt;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(nt||(nt={}));var NZ=class extends xn{static{s(this,"ValueErrorsUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}};function lA(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}s(lA,"EscapeKey");function Ei(e){return e!==void 0}s(Ei,"IsDefined");var b5=class{static{s(this,"ValueErrorIterator")}constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};function br(e,t,r,n,i=[]){return{type:e,schema:t,path:r,value:n,message:E3e()({errorType:e,path:r,schema:t,value:n,errors:i}),errors:i}}s(br,"Create");function*uit(e,t,r,n){}s(uit,"FromAny");function*fit(e,t,r,n){}s(fit,"FromArgument");function*dit(e,t,r,n){if(!Cn(n))return yield br(nt.Array,e,r,n);Ei(e.minItems)&&!(n.length>=e.minItems)&&(yield br(nt.ArrayMinItems,e,r,n)),Ei(e.maxItems)&&!(n.length<=e.maxItems)&&(yield br(nt.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*kl(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let l of n){let c=v5(l);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield br(nt.ArrayUniqueItems,e,r,n)),!(Ei(e.contains)||Ei(e.minContains)||Ei(e.maxContains)))return;let i=Ei(e.contains)?e.contains:ni(),o=n.reduce((a,l,c)=>kl(i,t,`${r}${c}`,l).next().done===!0?a+1:a,0);o===0&&(yield br(nt.ArrayContains,e,r,n)),Xr(e.minContains)&&o<e.minContains&&(yield br(nt.ArrayMinContains,e,r,n)),Xr(e.maxContains)&&o>e.maxContains&&(yield br(nt.ArrayMaxContains,e,r,n))}s(dit,"FromArray");function*mit(e,t,r,n){NN(n)||(yield br(nt.AsyncIterator,e,r,n))}s(mit,"FromAsyncIterator");function*hit(e,t,r,n){if(!tc(n))return yield br(nt.BigInt,e,r,n);Ei(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield br(nt.BigIntExclusiveMaximum,e,r,n)),Ei(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield br(nt.BigIntExclusiveMinimum,e,r,n)),Ei(e.maximum)&&!(n<=e.maximum)&&(yield br(nt.BigIntMaximum,e,r,n)),Ei(e.minimum)&&!(n>=e.minimum)&&(yield br(nt.BigIntMinimum,e,r,n)),Ei(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield br(nt.BigIntMultipleOf,e,r,n))}s(hit,"FromBigInt");function*pit(e,t,r,n){jp(n)||(yield br(nt.Boolean,e,r,n))}s(pit,"FromBoolean");function*git(e,t,r,n){yield*kl(e.returns,t,r,n.prototype)}s(git,"FromConstructor");function*Ait(e,t,r,n){if(!u0(n))return yield br(nt.Date,e,r,n);Ei(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield br(nt.DateExclusiveMaximumTimestamp,e,r,n)),Ei(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield br(nt.DateExclusiveMinimumTimestamp,e,r,n)),Ei(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield br(nt.DateMaximumTimestamp,e,r,n)),Ei(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield br(nt.DateMinimumTimestamp,e,r,n)),Ei(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield br(nt.DateMultipleOfTimestamp,e,r,n))}s(Ait,"FromDate");function*yit(e,t,r,n){n5(n)||(yield br(nt.Function,e,r,n))}s(yit,"FromFunction");function*Cit(e,t,r,n){let i=globalThis.Object.values(e.$defs),o=e.$defs[e.$ref];yield*kl(o,[...t,...i],r,n)}s(Cit,"FromImport");function*xit(e,t,r,n){if(!MN(n))return yield br(nt.Integer,e,r,n);Ei(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield br(nt.IntegerExclusiveMaximum,e,r,n)),Ei(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield br(nt.IntegerExclusiveMinimum,e,r,n)),Ei(e.maximum)&&!(n<=e.maximum)&&(yield br(nt.IntegerMaximum,e,r,n)),Ei(e.minimum)&&!(n>=e.minimum)&&(yield br(nt.IntegerMinimum,e,r,n)),Ei(e.multipleOf)&&n%e.multipleOf!==0&&(yield br(nt.IntegerMultipleOf,e,r,n))}s(xit,"FromInteger");function*vit(e,t,r,n){let i=!1;for(let o of e.allOf)for(let a of kl(o,t,r,n))i=!0,yield a;if(i)return yield br(nt.Intersect,e,r,n);if(e.unevaluatedProperties===!1){let o=new RegExp(iA(e));for(let a of Object.getOwnPropertyNames(n))o.test(a)||(yield br(nt.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let o=new RegExp(iA(e));for(let a of Object.getOwnPropertyNames(n))if(!o.test(a)){let l=kl(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}s(vit,"FromIntersect");function*bit(e,t,r,n){LN(n)||(yield br(nt.Iterator,e,r,n))}s(bit,"FromIterator");function*Eit(e,t,r,n){n!==e.const&&(yield br(nt.Literal,e,r,n))}s(Eit,"FromLiteral");function*Iit(e,t,r,n){yield br(nt.Never,e,r,n)}s(Iit,"FromNever");function*Tit(e,t,r,n){kl(e.not,t,r,n).next().done===!0&&(yield br(nt.Not,e,r,n))}s(Tit,"FromNot");function*wit(e,t,r,n){J1(n)||(yield br(nt.Null,e,r,n))}s(wit,"FromNull");function*_it(e,t,r,n){if(!Yo.IsNumberLike(n))return yield br(nt.Number,e,r,n);Ei(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield br(nt.NumberExclusiveMaximum,e,r,n)),Ei(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield br(nt.NumberExclusiveMinimum,e,r,n)),Ei(e.maximum)&&!(n<=e.maximum)&&(yield br(nt.NumberMaximum,e,r,n)),Ei(e.minimum)&&!(n>=e.minimum)&&(yield br(nt.NumberMinimum,e,r,n)),Ei(e.multipleOf)&&n%e.multipleOf!==0&&(yield br(nt.NumberMultipleOf,e,r,n))}s(_it,"FromNumber");function*Sit(e,t,r,n){if(!Yo.IsObjectLike(n))return yield br(nt.Object,e,r,n);Ei(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield br(nt.ObjectMinProperties,e,r,n)),Ei(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield br(nt.ObjectMaxProperties,e,r,n));let i=Array.isArray(e.required)?e.required:[],o=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let l of i)a.includes(l)||(yield br(nt.ObjectRequiredProperty,e.properties[l],`${r}/${lA(l)}`,void 0));if(e.additionalProperties===!1)for(let l of a)o.includes(l)||(yield br(nt.ObjectAdditionalProperties,e,`${r}/${lA(l)}`,n[l]));if(typeof e.additionalProperties=="object")for(let l of a)o.includes(l)||(yield*kl(e.additionalProperties,t,`${r}/${lA(l)}`,n[l]));for(let l of o){let c=e.properties[l];e.required&&e.required.includes(l)?(yield*kl(c,t,`${r}/${lA(l)}`,n[l]),oA(e)&&!(l in n)&&(yield br(nt.ObjectRequiredProperty,c,`${r}/${lA(l)}`,void 0))):Yo.IsExactOptionalProperty(n,l)&&(yield*kl(c,t,`${r}/${lA(l)}`,n[l]))}}s(Sit,"FromObject");function*Rit(e,t,r,n){FN(n)||(yield br(nt.Promise,e,r,n))}s(Rit,"FromPromise");function*kit(e,t,r,n){if(!Yo.IsRecordLike(n))return yield br(nt.Object,e,r,n);Ei(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield br(nt.ObjectMinProperties,e,r,n)),Ei(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield br(nt.ObjectMaxProperties,e,r,n));let[i,o]=Object.entries(e.patternProperties)[0],a=new RegExp(i);for(let[l,c]of Object.entries(n))a.test(l)&&(yield*kl(o,t,`${r}/${lA(l)}`,c));if(typeof e.additionalProperties=="object")for(let[l,c]of Object.entries(n))a.test(l)||(yield*kl(e.additionalProperties,t,`${r}/${lA(l)}`,c));if(e.additionalProperties===!1){for(let[l,c]of Object.entries(n))if(!a.test(l))return yield br(nt.ObjectAdditionalProperties,e,`${r}/${lA(l)}`,c)}}s(kit,"FromRecord");function*Bit(e,t,r,n){yield*kl($i(e,t),t,r,n)}s(Bit,"FromRef");function*Dit(e,t,r,n){if(!Oi(n))return yield br(nt.String,e,r,n);if(Ei(e.minLength)&&!(n.length>=e.minLength)&&(yield br(nt.StringMinLength,e,r,n)),Ei(e.maxLength)&&!(n.length<=e.maxLength)&&(yield br(nt.StringMaxLength,e,r,n)),!new RegExp(e.source,e.flags).test(n))return yield br(nt.RegExp,e,r,n)}s(Dit,"FromRegExp");function*Pit(e,t,r,n){if(!Oi(n))return yield br(nt.String,e,r,n);Ei(e.minLength)&&!(n.length>=e.minLength)&&(yield br(nt.StringMinLength,e,r,n)),Ei(e.maxLength)&&!(n.length<=e.maxLength)&&(yield br(nt.StringMaxLength,e,r,n)),Oi(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield br(nt.StringPattern,e,r,n))),Oi(e.format)&&(Zm.Has(e.format)?Zm.Get(e.format)(n)||(yield br(nt.StringFormat,e,r,n)):yield br(nt.StringFormatUnknown,e,r,n))}s(Pit,"FromString");function*Nit(e,t,r,n){X1(n)||(yield br(nt.Symbol,e,r,n))}s(Nit,"FromSymbol");function*Lit(e,t,r,n){if(!Oi(n))return yield br(nt.String,e,r,n);new RegExp(e.pattern).test(n)||(yield br(nt.StringPattern,e,r,n))}s(Lit,"FromTemplateLiteral");function*Fit(e,t,r,n){yield*kl($i(e,t),t,r,n)}s(Fit,"FromThis");function*Mit(e,t,r,n){if(!Cn(n))return yield br(nt.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield br(nt.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield br(nt.TupleLength,e,r,n);if(e.items)for(let i=0;i<e.items.length;i++)yield*kl(e.items[i],t,`${r}/${i}`,n[i])}s(Mit,"FromTuple");function*Qit(e,t,r,n){ls(n)||(yield br(nt.Undefined,e,r,n))}s(Qit,"FromUndefined");function*Oit(e,t,r,n){if(mi(e,t,n))return;let i=e.anyOf.map(o=>new b5(kl(o,t,r,n)));yield br(nt.Union,e,r,n,i)}s(Oit,"FromUnion");function*Uit(e,t,r,n){if(!aI(n))return yield br(nt.Uint8Array,e,r,n);Ei(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield br(nt.Uint8ArrayMaxByteLength,e,r,n)),Ei(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield br(nt.Uint8ArrayMinByteLength,e,r,n))}s(Uit,"FromUint8Array");function*qit(e,t,r,n){}s(qit,"FromUnknown");function*Wit(e,t,r,n){Yo.IsVoidLike(n)||(yield br(nt.Void,e,r,n))}s(Wit,"FromVoid");function*Git(e,t,r,n){f0.Get(e[ot])(e,n)||(yield br(nt.Kind,e,r,n))}s(Git,"FromKind");function*kl(e,t,r,n){let i=Ei(e.$id)?[...t,e]:t,o=e;switch(o[ot]){case"Any":return yield*uit(o,i,r,n);case"Argument":return yield*fit(o,i,r,n);case"Array":return yield*dit(o,i,r,n);case"AsyncIterator":return yield*mit(o,i,r,n);case"BigInt":return yield*hit(o,i,r,n);case"Boolean":return yield*pit(o,i,r,n);case"Constructor":return yield*git(o,i,r,n);case"Date":return yield*Ait(o,i,r,n);case"Function":return yield*yit(o,i,r,n);case"Import":return yield*Cit(o,i,r,n);case"Integer":return yield*xit(o,i,r,n);case"Intersect":return yield*vit(o,i,r,n);case"Iterator":return yield*bit(o,i,r,n);case"Literal":return yield*Eit(o,i,r,n);case"Never":return yield*Iit(o,i,r,n);case"Not":return yield*Tit(o,i,r,n);case"Null":return yield*wit(o,i,r,n);case"Number":return yield*_it(o,i,r,n);case"Object":return yield*Sit(o,i,r,n);case"Promise":return yield*Rit(o,i,r,n);case"Record":return yield*kit(o,i,r,n);case"Ref":return yield*Bit(o,i,r,n);case"RegExp":return yield*Dit(o,i,r,n);case"String":return yield*Pit(o,i,r,n);case"Symbol":return yield*Nit(o,i,r,n);case"TemplateLiteral":return yield*Lit(o,i,r,n);case"This":return yield*Fit(o,i,r,n);case"Tuple":return yield*Mit(o,i,r,n);case"Undefined":return yield*Qit(o,i,r,n);case"Union":return yield*Oit(o,i,r,n);case"Uint8Array":return yield*Uit(o,i,r,n);case"Unknown":return yield*qit(o,i,r,n);case"Void":return yield*Wit(o,i,r,n);default:if(!f0.Has(o[ot]))throw new NZ(e);return yield*Git(o,i,r,n)}}s(kl,"Visit");function rg(...e){let t=e.length===3?kl(e[0],e[1],"",e[2]):kl(e[0],[],"",e[1]);return new b5(t)}s(rg,"Errors");d();d();var YI=class extends xn{static{s(this,"TransformDecodeCheckError")}constructor(t,r,n){super("Unable to decode value as it does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},LZ=class extends xn{static{s(this,"TransformDecodeError")}constructor(t,r,n,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=t,this.path=r,this.value=n,this.error=i}};function Ls(e,t,r){try{return oo(e)?e[Ds].Decode(r):r}catch(n){throw new LZ(e,t,r,n)}}s(Ls,"Default");function Hit(e,t,r,n){return Cn(n)?Ls(e,r,n.map((i,o)=>sh(e.items,t,`${r}/${o}`,i))):Ls(e,r,n)}s(Hit,"FromArray");function jit(e,t,r,n){if(!ui(n)||Vu(n))return Ls(e,r,n);let i=VN(e),o=i.map(f=>f[0]),a={...n};for(let[f,m]of i)f in a&&(a[f]=sh(m,t,`${r}/${f}`,a[f]));if(!oo(e.unevaluatedProperties))return Ls(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.unevaluatedProperties,u={...a};for(let f of l)o.includes(f)||(u[f]=Ls(c,`${r}/${f}`,u[f]));return Ls(e,r,u)}s(jit,"FromIntersect");function Vit(e,t,r,n){let i=globalThis.Object.values(e.$defs),o=e.$defs[e.$ref],a=sh(o,[...t,...i],r,n);return Ls(e,r,a)}s(Vit,"FromImport");function $it(e,t,r,n){return Ls(e,r,sh(e.not,t,r,n))}s($it,"FromNot");function zit(e,t,r,n){if(!ui(n))return Ls(e,r,n);let i=J0(e),o={...n};for(let u of i)yn(o,u)&&(ls(o[u])&&(!tA(e.properties[u])||Yo.IsExactOptionalProperty(o,u))||(o[u]=sh(e.properties[u],t,`${r}/${u}`,o[u])));if(!Ps(e.additionalProperties))return Ls(e,r,o);let a=Object.getOwnPropertyNames(o),l=e.additionalProperties,c={...o};for(let u of a)i.includes(u)||(c[u]=Ls(l,`${r}/${u}`,c[u]));return Ls(e,r,c)}s(zit,"FromObject");function Yit(e,t,r,n){if(!ui(n))return Ls(e,r,n);let i=Object.getOwnPropertyNames(e.patternProperties)[0],o=new RegExp(i),a={...n};for(let f of Object.getOwnPropertyNames(n))o.test(f)&&(a[f]=sh(e.patternProperties[i],t,`${r}/${f}`,a[f]));if(!Ps(e.additionalProperties))return Ls(e,r,a);let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)o.test(f)||(u[f]=Ls(c,`${r}/${f}`,u[f]));return Ls(e,r,u)}s(Yit,"FromRecord");function Kit(e,t,r,n){let i=$i(e,t);return Ls(e,r,sh(i,t,r,n))}s(Kit,"FromRef");function Jit(e,t,r,n){let i=$i(e,t);return Ls(e,r,sh(i,t,r,n))}s(Jit,"FromThis");function Xit(e,t,r,n){return Cn(n)&&Cn(e.items)?Ls(e,r,e.items.map((i,o)=>sh(i,t,`${r}/${o}`,n[o]))):Ls(e,r,n)}s(Xit,"FromTuple");function Zit(e,t,r,n){for(let i of e.anyOf){if(!mi(i,t,n))continue;let o=sh(i,t,r,n);return Ls(e,r,o)}return Ls(e,r,n)}s(Zit,"FromUnion");function sh(e,t,r,n){let i=Sl(e,t),o=e;switch(e[ot]){case"Array":return Hit(o,i,r,n);case"Import":return Vit(o,i,r,n);case"Intersect":return jit(o,i,r,n);case"Not":return $it(o,i,r,n);case"Object":return zit(o,i,r,n);case"Record":return Yit(o,i,r,n);case"Ref":return Kit(o,i,r,n);case"Symbol":return Ls(o,r,n);case"This":return Jit(o,i,r,n);case"Tuple":return Xit(o,i,r,n);case"Union":return Zit(o,i,r,n);default:return Ls(o,r,n)}}s(sh,"Visit");function KI(e,t,r){return sh(e,t,"",r)}s(KI,"TransformDecode");d();var JI=class extends xn{static{s(this,"TransformEncodeCheckError")}constructor(t,r,n){super("The encoded value does not match the expected schema"),this.schema=t,this.value=r,this.error=n}},FZ=class extends xn{static{s(this,"TransformEncodeError")}constructor(t,r,n,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=t,this.path=r,this.value=n,this.error=i}};function oc(e,t,r){try{return oo(e)?e[Ds].Encode(r):r}catch(n){throw new FZ(e,t,r,n)}}s(oc,"Default");function eot(e,t,r,n){let i=oc(e,r,n);return Cn(i)?i.map((o,a)=>ah(e.items,t,`${r}/${a}`,o)):i}s(eot,"FromArray");function tot(e,t,r,n){let i=globalThis.Object.values(e.$defs),o=e.$defs[e.$ref],a=oc(e,r,n);return ah(o,[...t,...i],r,a)}s(tot,"FromImport");function rot(e,t,r,n){let i=oc(e,r,n);if(!ui(n)||Vu(n))return i;let o=VN(e),a=o.map(m=>m[0]),l={...i};for(let[m,h]of o)m in l&&(l[m]=ah(h,t,`${r}/${m}`,l[m]));if(!oo(e.unevaluatedProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.unevaluatedProperties,f={...l};for(let m of c)a.includes(m)||(f[m]=oc(u,`${r}/${m}`,f[m]));return f}s(rot,"FromIntersect");function not(e,t,r,n){return oc(e.not,r,oc(e,r,n))}s(not,"FromNot");function iot(e,t,r,n){let i=oc(e,r,n);if(!ui(i))return i;let o=J0(e),a={...i};for(let f of o)yn(a,f)&&(ls(a[f])&&(!tA(e.properties[f])||Yo.IsExactOptionalProperty(a,f))||(a[f]=ah(e.properties[f],t,`${r}/${f}`,a[f])));if(!Ps(e.additionalProperties))return a;let l=Object.getOwnPropertyNames(a),c=e.additionalProperties,u={...a};for(let f of l)o.includes(f)||(u[f]=oc(c,`${r}/${f}`,u[f]));return u}s(iot,"FromObject");function oot(e,t,r,n){let i=oc(e,r,n);if(!ui(n))return i;let o=Object.getOwnPropertyNames(e.patternProperties)[0],a=new RegExp(o),l={...i};for(let m of Object.getOwnPropertyNames(n))a.test(m)&&(l[m]=ah(e.patternProperties[o],t,`${r}/${m}`,l[m]));if(!Ps(e.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),u=e.additionalProperties,f={...l};for(let m of c)a.test(m)||(f[m]=oc(u,`${r}/${m}`,f[m]));return f}s(oot,"FromRecord");function sot(e,t,r,n){let i=$i(e,t),o=ah(i,t,r,n);return oc(e,r,o)}s(sot,"FromRef");function aot(e,t,r,n){let i=$i(e,t),o=ah(i,t,r,n);return oc(e,r,o)}s(aot,"FromThis");function lot(e,t,r,n){let i=oc(e,r,n);return Cn(e.items)?e.items.map((o,a)=>ah(o,t,`${r}/${a}`,i[a])):[]}s(lot,"FromTuple");function cot(e,t,r,n){for(let i of e.anyOf){if(!mi(i,t,n))continue;let o=ah(i,t,r,n);return oc(e,r,o)}for(let i of e.anyOf){let o=ah(i,t,r,n);if(mi(e,t,o))return oc(e,r,o)}return oc(e,r,n)}s(cot,"FromUnion");function ah(e,t,r,n){let i=Sl(e,t),o=e;switch(e[ot]){case"Array":return eot(o,i,r,n);case"Import":return tot(o,i,r,n);case"Intersect":return rot(o,i,r,n);case"Not":return not(o,i,r,n);case"Object":return iot(o,i,r,n);case"Record":return oot(o,i,r,n);case"Ref":return sot(o,i,r,n);case"This":return aot(o,i,r,n);case"Tuple":return lot(o,i,r,n);case"Union":return cot(o,i,r,n);default:return oc(o,r,n)}}s(ah,"Visit");function XI(e,t,r){return ah(e,t,"",r)}s(XI,"TransformEncode");d();function uot(e,t){return oo(e)||ll(e.items,t)}s(uot,"FromArray");function fot(e,t){return oo(e)||ll(e.items,t)}s(fot,"FromAsyncIterator");function dot(e,t){return oo(e)||ll(e.returns,t)||e.parameters.some(r=>ll(r,t))}s(dot,"FromConstructor");function mot(e,t){return oo(e)||ll(e.returns,t)||e.parameters.some(r=>ll(r,t))}s(mot,"FromFunction");function hot(e,t){return oo(e)||oo(e.unevaluatedProperties)||e.allOf.some(r=>ll(r,t))}s(hot,"FromIntersect");function pot(e,t){let r=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((i,o)=>[...i,e.$defs[o]],[]),n=e.$defs[e.$ref];return oo(e)||ll(n,[...r,...t])}s(pot,"FromImport");function got(e,t){return oo(e)||ll(e.items,t)}s(got,"FromIterator");function Aot(e,t){return oo(e)||ll(e.not,t)}s(Aot,"FromNot");function yot(e,t){return oo(e)||Object.values(e.properties).some(r=>ll(r,t))||Ps(e.additionalProperties)&&ll(e.additionalProperties,t)}s(yot,"FromObject");function Cot(e,t){return oo(e)||ll(e.item,t)}s(Cot,"FromPromise");function xot(e,t){let r=Object.getOwnPropertyNames(e.patternProperties)[0],n=e.patternProperties[r];return oo(e)||ll(n,t)||Ps(e.additionalProperties)&&oo(e.additionalProperties)}s(xot,"FromRecord");function vot(e,t){return oo(e)?!0:ll($i(e,t),t)}s(vot,"FromRef");function bot(e,t){return oo(e)?!0:ll($i(e,t),t)}s(bot,"FromThis");function Eot(e,t){return oo(e)||!ls(e.items)&&e.items.some(r=>ll(r,t))}s(Eot,"FromTuple");function Iot(e,t){return oo(e)||e.anyOf.some(r=>ll(r,t))}s(Iot,"FromUnion");function ll(e,t){let r=Sl(e,t),n=e;if(e.$id&&MZ.has(e.$id))return!1;switch(e.$id&&MZ.add(e.$id),e[ot]){case"Array":return uot(n,r);case"AsyncIterator":return fot(n,r);case"Constructor":return dot(n,r);case"Function":return mot(n,r);case"Import":return pot(n,r);case"Intersect":return hot(n,r);case"Iterator":return got(n,r);case"Not":return Aot(n,r);case"Object":return yot(n,r);case"Promise":return Cot(n,r);case"Record":return xot(n,r);case"Ref":return vot(n,r);case"This":return bot(n,r);case"Tuple":return Eot(n,r);case"Union":return Iot(n,r);default:return oo(e)}}s(ll,"Visit");var MZ=new Set;function cA(e,t){return MZ.clear(),ll(e,t)}s(cA,"HasTransform");var QZ=class{static{s(this,"TypeCheck")}constructor(t,r,n,i){this.schema=t,this.references=r,this.checkFunc=n,this.code=i,this.hasTransform=cA(t,r)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(t){return rg(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new YI(this.schema,t,this.Errors(t).First());return this.hasTransform?KI(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?XI(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new JI(this.schema,t,this.Errors(t).First());return r}},uA;(function(e){function t(o){return o===36}s(t,"DollarSign"),e.DollarSign=t;function r(o){return o===95}s(r,"IsUnderscore"),e.IsUnderscore=r;function n(o){return o>=65&&o<=90||o>=97&&o<=122}s(n,"IsAlpha"),e.IsAlpha=n;function i(o){return o>=48&&o<=57}s(i,"IsNumeric"),e.IsNumeric=i})(uA||(uA={}));var tF;(function(e){function t(o){return o.length===0?!1:uA.IsNumeric(o.charCodeAt(0))}s(t,"IsFirstCharacterNumeric");function r(o){if(t(o))return!1;for(let a=0;a<o.length;a++){let l=o.charCodeAt(a);if(!(uA.IsAlpha(l)||uA.IsNumeric(l)||uA.DollarSign(l)||uA.IsUnderscore(l)))return!1}return!0}s(r,"IsAccessor");function n(o){return o.replace(/'/g,"\\'")}s(n,"EscapeHyphen");function i(o,a){return r(a)?`${o}.${a}`:`${o}['${n(a)}']`}s(i,"Encode"),e.Encode=i})(tF||(tF={}));var OZ;(function(e){function t(r){let n=[];for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);uA.IsNumeric(o)||uA.IsAlpha(o)?n.push(r.charAt(i)):n.push(`_${o}_`)}return n.join("").replace(/__/g,"_")}s(t,"Encode"),e.Encode=t})(OZ||(OZ={}));var UZ;(function(e){function t(r){return r.replace(/'/g,"\\'")}s(t,"Escape"),e.Escape=t})(UZ||(UZ={}));var qZ=class extends xn{static{s(this,"TypeCompilerUnknownTypeError")}constructor(t){super("Unknown type"),this.schema=t}},rF=class extends xn{static{s(this,"TypeCompilerTypeGuardError")}constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}},Yx;(function(e){function t(a,l,c){return Yo.ExactOptionalPropertyTypes?`('${l}' in ${a} ? ${c} : true)`:`(${tF.Encode(a,l)} !== undefined ? ${c} : true)`}s(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Yo.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}s(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Yo.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}s(n,"IsRecordLike"),e.IsRecordLike=n;function i(a){return Yo.AllowNaN?`typeof ${a} === 'number'`:`Number.isFinite(${a})`}s(i,"IsNumberLike"),e.IsNumberLike=i;function o(a){return Yo.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}s(o,"IsVoidLike"),e.IsVoidLike=o})(Yx||(Yx={}));var ms;(function(e){function t(oe){return oe[ot]==="Any"||oe[ot]==="Unknown"}s(t,"IsAnyOrUnknown");function*r(oe,Ne,Ae){yield"true"}s(r,"FromAny");function*n(oe,Ne,Ae){yield"true"}s(n,"FromArgument");function*i(oe,Ne,Ae){yield`Array.isArray(${Ae})`;let[Ge,Y]=[Re("value","any"),Re("acc","number")];Xr(oe.maxItems)&&(yield`${Ae}.length <= ${oe.maxItems}`),Xr(oe.minItems)&&(yield`${Ae}.length >= ${oe.minItems}`);let ne=ce(oe.items,Ne,"value");if(yield`${Ae}.every((${Ge}) => ${ne})`,us(oe.contains)||Xr(oe.minContains)||Xr(oe.maxContains)){let Fe=us(oe.contains)?oe.contains:ni(),Se=ce(Fe,Ne,"value"),Ce=Xr(oe.minContains)?[`(count >= ${oe.minContains})`]:[],Ue=Xr(oe.maxContains)?[`(count <= ${oe.maxContains})`]:[],Ve=`const count = value.reduce((${Y}, ${Ge}) => ${Se} ? acc + 1 : acc, 0)`,tt=["(count > 0)",...Ce,...Ue].join(" && ");yield`((${Ge}) => { ${Ve}; return ${tt}})(${Ae})`}oe.uniqueItems===!0&&(yield`((${Ge}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${Ae})`)}s(i,"FromArray");function*o(oe,Ne,Ae){yield`(typeof value === 'object' && Symbol.asyncIterator in ${Ae})`}s(o,"FromAsyncIterator");function*a(oe,Ne,Ae){yield`(typeof ${Ae} === 'bigint')`,tc(oe.exclusiveMaximum)&&(yield`${Ae} < BigInt(${oe.exclusiveMaximum})`),tc(oe.exclusiveMinimum)&&(yield`${Ae} > BigInt(${oe.exclusiveMinimum})`),tc(oe.maximum)&&(yield`${Ae} <= BigInt(${oe.maximum})`),tc(oe.minimum)&&(yield`${Ae} >= BigInt(${oe.minimum})`),tc(oe.multipleOf)&&(yield`(${Ae} % BigInt(${oe.multipleOf})) === 0`)}s(a,"FromBigInt");function*l(oe,Ne,Ae){yield`(typeof ${Ae} === 'boolean')`}s(l,"FromBoolean");function*c(oe,Ne,Ae){yield*re(oe.returns,Ne,`${Ae}.prototype`)}s(c,"FromConstructor");function*u(oe,Ne,Ae){yield`(${Ae} instanceof Date) && Number.isFinite(${Ae}.getTime())`,Xr(oe.exclusiveMaximumTimestamp)&&(yield`${Ae}.getTime() < ${oe.exclusiveMaximumTimestamp}`),Xr(oe.exclusiveMinimumTimestamp)&&(yield`${Ae}.getTime() > ${oe.exclusiveMinimumTimestamp}`),Xr(oe.maximumTimestamp)&&(yield`${Ae}.getTime() <= ${oe.maximumTimestamp}`),Xr(oe.minimumTimestamp)&&(yield`${Ae}.getTime() >= ${oe.minimumTimestamp}`),Xr(oe.multipleOfTimestamp)&&(yield`(${Ae}.getTime() % ${oe.multipleOfTimestamp}) === 0`)}s(u,"FromDate");function*f(oe,Ne,Ae){yield`(typeof ${Ae} === 'function')`}s(f,"FromFunction");function*m(oe,Ne,Ae){let Ge=globalThis.Object.getOwnPropertyNames(oe.$defs).reduce((Y,ne)=>[...Y,oe.$defs[ne]],[]);yield*re(xd(oe.$ref),[...Ne,...Ge],Ae)}s(m,"FromImport");function*h(oe,Ne,Ae){yield`Number.isInteger(${Ae})`,Xr(oe.exclusiveMaximum)&&(yield`${Ae} < ${oe.exclusiveMaximum}`),Xr(oe.exclusiveMinimum)&&(yield`${Ae} > ${oe.exclusiveMinimum}`),Xr(oe.maximum)&&(yield`${Ae} <= ${oe.maximum}`),Xr(oe.minimum)&&(yield`${Ae} >= ${oe.minimum}`),Xr(oe.multipleOf)&&(yield`(${Ae} % ${oe.multipleOf}) === 0`)}s(h,"FromInteger");function*p(oe,Ne,Ae){let Ge=oe.allOf.map(Y=>ce(Y,Ne,Ae)).join(" && ");if(oe.unevaluatedProperties===!1){let Y=be(`${new RegExp(iA(oe))};`),ne=`Object.getOwnPropertyNames(${Ae}).every(key => ${Y}.test(key))`;yield`(${Ge} && ${ne})`}else if(us(oe.unevaluatedProperties)){let Y=be(`${new RegExp(iA(oe))};`),ne=`Object.getOwnPropertyNames(${Ae}).every(key => ${Y}.test(key) || ${ce(oe.unevaluatedProperties,Ne,`${Ae}[key]`)})`;yield`(${Ge} && ${ne})`}else yield`(${Ge})`}s(p,"FromIntersect");function*g(oe,Ne,Ae){yield`(typeof value === 'object' && Symbol.iterator in ${Ae})`}s(g,"FromIterator");function*y(oe,Ne,Ae){typeof oe.const=="number"||typeof oe.const=="boolean"?yield`(${Ae} === ${oe.const})`:yield`(${Ae} === '${UZ.Escape(oe.const)}')`}s(y,"FromLiteral");function*x(oe,Ne,Ae){yield"false"}s(x,"FromNever");function*b(oe,Ne,Ae){yield`(!${ce(oe.not,Ne,Ae)})`}s(b,"FromNot");function*E(oe,Ne,Ae){yield`(${Ae} === null)`}s(E,"FromNull");function*_(oe,Ne,Ae){yield Yx.IsNumberLike(Ae),Xr(oe.exclusiveMaximum)&&(yield`${Ae} < ${oe.exclusiveMaximum}`),Xr(oe.exclusiveMinimum)&&(yield`${Ae} > ${oe.exclusiveMinimum}`),Xr(oe.maximum)&&(yield`${Ae} <= ${oe.maximum}`),Xr(oe.minimum)&&(yield`${Ae} >= ${oe.minimum}`),Xr(oe.multipleOf)&&(yield`(${Ae} % ${oe.multipleOf}) === 0`)}s(_,"FromNumber");function*k(oe,Ne,Ae){yield Yx.IsObjectLike(Ae),Xr(oe.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${oe.minProperties}`),Xr(oe.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${oe.maxProperties}`);let Ge=Object.getOwnPropertyNames(oe.properties);for(let Y of Ge){let ne=tF.Encode(Ae,Y),Fe=oe.properties[Y];if(oe.required&&oe.required.includes(Y))yield*re(Fe,Ne,ne),(oA(Fe)||t(Fe))&&(yield`('${Y}' in ${Ae})`);else{let Se=ce(Fe,Ne,ne);yield Yx.IsExactOptionalProperty(Ae,Y,Se)}}if(oe.additionalProperties===!1)if(oe.required&&oe.required.length===Ge.length)yield`Object.getOwnPropertyNames(${Ae}).length === ${Ge.length}`;else{let Y=`[${Ge.map(ne=>`'${ne}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${Ae}).every(key => ${Y}.includes(key))`}if(typeof oe.additionalProperties=="object"){let Y=ce(oe.additionalProperties,Ne,`${Ae}[key]`),ne=`[${Ge.map(Fe=>`'${Fe}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${Ae}).every(key => ${ne}.includes(key) || ${Y}))`}}s(k,"FromObject");function*B(oe,Ne,Ae){yield`${Ae} instanceof Promise`}s(B,"FromPromise");function*N(oe,Ne,Ae){yield Yx.IsRecordLike(Ae),Xr(oe.minProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length >= ${oe.minProperties}`),Xr(oe.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ae}).length <= ${oe.maxProperties}`);let[Ge,Y]=Object.entries(oe.patternProperties)[0],ne=be(`${new RegExp(Ge)}`),Fe=ce(Y,Ne,"value"),Se=us(oe.additionalProperties)?ce(oe.additionalProperties,Ne,Ae):oe.additionalProperties===!1?"false":"true",Ce=`(${ne}.test(key) ? ${Fe} : ${Se})`;yield`(Object.entries(${Ae}).every(([key, value]) => ${Ce}))`}s(N,"FromRecord");function*M(oe,Ne,Ae){let Ge=$i(oe,Ne);if(le.functions.has(oe.$ref))return yield`${De(oe.$ref)}(${Ae})`;yield*re(Ge,Ne,Ae)}s(M,"FromRef");function*te(oe,Ne,Ae){let Ge=be(`${new RegExp(oe.source,oe.flags)};`);yield`(typeof ${Ae} === 'string')`,Xr(oe.maxLength)&&(yield`${Ae}.length <= ${oe.maxLength}`),Xr(oe.minLength)&&(yield`${Ae}.length >= ${oe.minLength}`),yield`${Ge}.test(${Ae})`}s(te,"FromRegExp");function*de(oe,Ne,Ae){yield`(typeof ${Ae} === 'string')`,Xr(oe.maxLength)&&(yield`${Ae}.length <= ${oe.maxLength}`),Xr(oe.minLength)&&(yield`${Ae}.length >= ${oe.minLength}`),oe.pattern!==void 0&&(yield`${be(`${new RegExp(oe.pattern)};`)}.test(${Ae})`),oe.format!==void 0&&(yield`format('${oe.format}', ${Ae})`)}s(de,"FromString");function*Z(oe,Ne,Ae){yield`(typeof ${Ae} === 'symbol')`}s(Z,"FromSymbol");function*G(oe,Ne,Ae){yield`(typeof ${Ae} === 'string')`,yield`${be(`${new RegExp(oe.pattern)};`)}.test(${Ae})`}s(G,"FromTemplateLiteral");function*q(oe,Ne,Ae){yield`${De(oe.$ref)}(${Ae})`}s(q,"FromThis");function*ie(oe,Ne,Ae){if(yield`Array.isArray(${Ae})`,oe.items===void 0)return yield`${Ae}.length === 0`;yield`(${Ae}.length === ${oe.maxItems})`;for(let Ge=0;Ge<oe.items.length;Ge++)yield`${ce(oe.items[Ge],Ne,`${Ae}[${Ge}]`)}`}s(ie,"FromTuple");function*z(oe,Ne,Ae){yield`${Ae} === undefined`}s(z,"FromUndefined");function*j(oe,Ne,Ae){yield`(${oe.anyOf.map(Y=>ce(Y,Ne,Ae)).join(" || ")})`}s(j,"FromUnion");function*U(oe,Ne,Ae){yield`${Ae} instanceof Uint8Array`,Xr(oe.maxByteLength)&&(yield`(${Ae}.length <= ${oe.maxByteLength})`),Xr(oe.minByteLength)&&(yield`(${Ae}.length >= ${oe.minByteLength})`)}s(U,"FromUint8Array");function*V(oe,Ne,Ae){yield"true"}s(V,"FromUnknown");function*K(oe,Ne,Ae){yield Yx.IsVoidLike(Ae)}s(K,"FromVoid");function*ae(oe,Ne,Ae){let Ge=le.instances.size;le.instances.set(Ge,oe),yield`kind('${oe[ot]}', ${Ge}, ${Ae})`}s(ae,"FromKind");function*re(oe,Ne,Ae,Ge=!0){let Y=Oi(oe.$id)?[...Ne,oe]:Ne,ne=oe;if(Ge&&Oi(oe.$id)){let Fe=De(oe.$id);if(le.functions.has(Fe))return yield`${Fe}(${Ae})`;{le.functions.set(Fe,"<deferred>");let Se=qe(Fe,oe,Ne,"value",!1);return le.functions.set(Fe,Se),yield`${Fe}(${Ae})`}}switch(ne[ot]){case"Any":return yield*r(ne,Y,Ae);case"Argument":return yield*n(ne,Y,Ae);case"Array":return yield*i(ne,Y,Ae);case"AsyncIterator":return yield*o(ne,Y,Ae);case"BigInt":return yield*a(ne,Y,Ae);case"Boolean":return yield*l(ne,Y,Ae);case"Constructor":return yield*c(ne,Y,Ae);case"Date":return yield*u(ne,Y,Ae);case"Function":return yield*f(ne,Y,Ae);case"Import":return yield*m(ne,Y,Ae);case"Integer":return yield*h(ne,Y,Ae);case"Intersect":return yield*p(ne,Y,Ae);case"Iterator":return yield*g(ne,Y,Ae);case"Literal":return yield*y(ne,Y,Ae);case"Never":return yield*x(ne,Y,Ae);case"Not":return yield*b(ne,Y,Ae);case"Null":return yield*E(ne,Y,Ae);case"Number":return yield*_(ne,Y,Ae);case"Object":return yield*k(ne,Y,Ae);case"Promise":return yield*B(ne,Y,Ae);case"Record":return yield*N(ne,Y,Ae);case"Ref":return yield*M(ne,Y,Ae);case"RegExp":return yield*te(ne,Y,Ae);case"String":return yield*de(ne,Y,Ae);case"Symbol":return yield*Z(ne,Y,Ae);case"TemplateLiteral":return yield*G(ne,Y,Ae);case"This":return yield*q(ne,Y,Ae);case"Tuple":return yield*ie(ne,Y,Ae);case"Undefined":return yield*z(ne,Y,Ae);case"Union":return yield*j(ne,Y,Ae);case"Uint8Array":return yield*U(ne,Y,Ae);case"Unknown":return yield*V(ne,Y,Ae);case"Void":return yield*K(ne,Y,Ae);default:if(!f0.Has(ne[ot]))throw new qZ(oe);return yield*ae(ne,Y,Ae)}}s(re,"Visit");let le={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function ce(oe,Ne,Ae,Ge=!0){return`(${[...re(oe,Ne,Ae,Ge)].join(" && ")})`}s(ce,"CreateExpression");function De(oe){return`check_${OZ.Encode(oe)}`}s(De,"CreateFunctionName");function be(oe){let Ne=`local_${le.variables.size}`;return le.variables.set(Ne,`const ${Ne} = ${oe}`),Ne}s(be,"CreateVariable");function qe(oe,Ne,Ae,Ge,Y=!0){let[ne,Fe]=[`
`,Ve=>"".padStart(Ve," ")],Se=Re("value","any"),Ce=Xe("boolean"),Ue=[...re(Ne,Ae,Ge,Y)].map(Ve=>`${Fe(4)}${Ve}`).join(` &&${ne}`);return`function ${oe}(${Se})${Ce} {${ne}${Fe(2)}return (${ne}${Ue}${ne}${Fe(2)})
}`}s(qe,"CreateFunction");function Re(oe,Ne){let Ae=le.language==="typescript"?`: ${Ne}`:"";return`${oe}${Ae}`}s(Re,"CreateParameter");function Xe(oe){return le.language==="typescript"?`: ${oe}`:""}s(Xe,"CreateReturns");function ft(oe,Ne,Ae){let Ge=qe("check",oe,Ne,"value"),Y=Re("value","any"),ne=Xe("boolean"),Fe=[...le.functions.values()],Se=[...le.variables.values()],Ce=Oi(oe.$id)?`return function check(${Y})${ne} {
  return ${De(oe.$id)}(value)
}`:`return ${Ge}`;return[...Se,...Fe,Ce].join(`
`)}s(ft,"Build");function at(...oe){let Ne={language:"javascript"},[Ae,Ge,Y]=oe.length===2&&Cn(oe[1])?[oe[0],oe[1],Ne]:oe.length===2&&!Cn(oe[1])?[oe[0],[],oe[1]]:oe.length===3?[oe[0],oe[1],oe[2]]:oe.length===1?[oe[0],[],Ne]:[null,[],Ne];if(le.language=Y.language,le.variables.clear(),le.functions.clear(),le.instances.clear(),!us(Ae))throw new rF(Ae);for(let ne of Ge)if(!us(ne))throw new rF(ne);return ft(Ae,Ge,Y)}s(at,"Code"),e.Code=at;function lt(oe,Ne=[]){let Ae=at(oe,Ne,{language:"javascript"}),Ge=globalThis.Function("kind","format","hash",Ae),Y=new Map(le.instances);function ne(Ue,Ve,tt){if(!f0.Has(Ue)||!Y.has(Ve))return!1;let Ct=f0.Get(Ue),Pt=Y.get(Ve);return Ct(Pt,tt)}s(ne,"typeRegistryFunction");function Fe(Ue,Ve){return Zm.Has(Ue)?Zm.Get(Ue)(Ve):!1}s(Fe,"formatRegistryFunction");function Se(Ue){return v5(Ue)}s(Se,"hashFunction");let Ce=Ge(ne,Fe,Se);return new QZ(oe,Ne,Ce,Ae)}s(lt,"Compile"),e.Compile=lt})(ms||(ms={}));var oF=Ze(t5());d();d();var sc=[];for(let e=0;e<256;++e)sc.push((e+256).toString(16).slice(1));function _3e(e,t=0){return(sc[e[t+0]]+sc[e[t+1]]+sc[e[t+2]]+sc[e[t+3]]+"-"+sc[e[t+4]]+sc[e[t+5]]+"-"+sc[e[t+6]]+sc[e[t+7]]+"-"+sc[e[t+8]]+sc[e[t+9]]+"-"+sc[e[t+10]]+sc[e[t+11]]+sc[e[t+12]]+sc[e[t+13]]+sc[e[t+14]]+sc[e[t+15]]).toLowerCase()}s(_3e,"unsafeStringify");d();var S3e=require("crypto");var iF=new Uint8Array(256),nF=iF.length;function WZ(){return nF>iF.length-16&&((0,S3e.randomFillSync)(iF),nF=0),iF.slice(nF,nF+=16)}s(WZ,"rng");d();d();var R3e=require("crypto"),GZ={randomUUID:R3e.randomUUID};function Tot(e,t,r){if(GZ.randomUUID&&!t&&!e)return GZ.randomUUID();e=e||{};let n=e.random??e.rng?.()??WZ();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return _3e(n)}s(Tot,"v4");var _r=Tot;var sF=Ze(ii());function ZI(e){return e===1}s(ZI,"isRestricted");var wot=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"],A_=8192,_ot=21;var Fs=class{static{s(this,"TelemetryReporters")}getReporter(t,r=0){return ZI(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(aF(t))return this.reporterRestricted;if(VI(t))return new h_}getFTReporter(t){if(B3e(t))return this.reporterFT;if(VI(t))return new h_}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}},Sot=I.Object({},{additionalProperties:I.String()}),Rot=I.Object({meanLogProb:I.Optional(I.Number()),meanAlternativeLogProb:I.Optional(I.Number())},{additionalProperties:I.Number()}),kot=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function Bot(e){return kot.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}s(Bot,"isOomError");function Dot(e){return O7(e)?"network":Bot(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}s(Dot,"getErrorType");var dn=class e{static{s(this,"TelemetryData")}static{this.validateTelemetryProperties=ms.Compile(Sot)}static{this.validateTelemetryMeasurements=ms.Compile(Rot)}static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new e(t||{},r||{},ia())}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},o=new e(n,i,this.issuedTime);return o.displayedTime=this.displayedTime,o}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=ia())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(sr).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=eg(t.get(gn).getEditorInfo()),this.properties.editor_plugin_version=eg(t.get(gn).getEditorPluginInfo());let r=t.get(Bs);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${Jx(t)}`,typeof process<"u"&&(this.properties.runtime_version=`node/${process.versions.node}`);let n=t.get(gn);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=eg(n.getEditorInfo());let i=t.get(fn);this.properties.fetcher=i.name;let o=i.proxySettings;this.properties.proxy_enabled=o?"true":"false",this.properties.proxy_auth=o?.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=o?.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=i.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=F3e(t);r["copilot.build"]=M3e(t),r["copilot.buildType"]=_d(t),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(ZI(t))return r;let n={};for(let i in r)e.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=e.sanitizeKeys(this.properties),this.measurements=e.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}multiplexProperties(){this.properties=e.multiplexProperties(this.properties)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let i=e.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=t[n]}return r}static multiplexProperties(t){let r={...t};for(let n in t){let i=t[n],o=i?.length??0;if(o>A_){let a=0,l=0;for(;o>0&&l<_ot;){l+=1;let c=n;l>1&&(c=n+"_"+(l<10?"0":"")+l);let u=a+A_;o<A_&&(u=a+o),r[c]=i.slice(a,u),o-=A_,a+=A_}}}return r}updateMeasurements(t){let r=t-this.issuedTime;if(this.measurements.timeSinceIssuedMs=r,this.displayedTime!==void 0){let n=t-this.displayedTime;this.measurements.timeSinceDisplayedMs=n}this.measurements.current_time===void 0&&(this.measurements.current_time=Lot(t))}validateData(t,r){let n;if(e.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...e.validateTelemetryProperties.Errors(this.properties)])}),!e.validateTelemetryMeasurements.Check(this.measurements)){let i=JSON.stringify([...e.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:i}:(n.problem="both",n.error+=`; ${i}`)}if(n===void 0)return!0;if(VI(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return Kx(t,"invalidTelemetryData",e.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),ZI(r)&&Kx(t,"invalidTelemetryData_in_secure",e.createAndMarkAsIssued({problem:n.problem,requestId:this.properties.requestId??"unknown"}),0),!1}async makeReadyForSending(t,r,n,i){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),this.multiplexProperties(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(i),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Object.assign(this.properties,D3e(t))}},ng=class e extends dn{static{s(this,"TelemetryWithExp")}constructor(t,r,n,i){super(t,r,n),this.filtersAndExp=i}extendedBy(t,r){let n={...this.properties,...t},i={...this.measurements,...r},o=new e(n,i,this.issuedTime,this.filtersAndExp);return o.displayedTime=this.displayedTime,o}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new e({},{},0,{filters:new Bx({}),exp:wd.createEmptyConfig()})}};function y_(e,t,r,n){e.get(Fs).getReporter(e,t)?.sendTelemetryEvent(r,dn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(y_,"sendTelemetryEvent");function Pot(e,t,r,n){e.get(Fs).getReporter(e,t)?.sendTelemetryErrorEvent(r,dn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(Pot,"sendTelemetryErrorEvent");function Not(e,t,r,n){e.get(Fs).getFTReporter(e)?.sendTelemetryEvent(r,dn.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}s(Not,"sendFTTelemetryEvent");function e8(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}s(e8,"telemetrizePromptLength");function ia(){return performance.now()}s(ia,"now");function Lot(e){return Math.floor(e/1e3)}s(Lot,"nowSeconds");function aF(e){return e.get(ic).optedIn}s(aF,"shouldSendRestricted");function B3e(e){return e.get(ic).ftFlag!==""}s(B3e,"shouldSendFinetuningTelemetry");function jt(e,t,r,n){return e.get(ko).register(Fot(e,t,ia(),r?.extendedBy(),n))}s(jt,"telemetry");async function Fot(e,t,r,n,i=0){let o=n||dn.createAndMarkAsIssued({},{});await o.makeReadyForSending(e,i??!1,"IncludeExp",r),(!ZI(i)||aF(e))&&y_(e,i,t,o),ZI(i)&&wot.includes(t)&&B3e(e)&&Not(e,i,t,o)}s(Fot,"_telemetry");function lF(e,t){return e.get(ko).register(Mot(e,t,ia()))}s(lF,"telemetryExpProblem");async function Mot(e,t,r){let n="expProblem",i=dn.createAndMarkAsIssued(t,{});await i.makeReadyForSending(e,0,"SkipExp",r),y_(e,0,n,i)}s(Mot,"_telemetryExpProblem");function jZ(e,t,r,n){return e.get(ko).register(Qot(e,t,r,n))}s(jZ,"telemetryRaw");async function Qot(e,t,r,n){let i={...r,...D3e(e)};y_(e,0,t,{properties:i,measurements:n})}s(Qot,"_telemetryRaw");function D3e(e){let t=e.get(gn),r={unique_id:_r(),common_extname:t.getEditorPluginInfo().name,common_extversion:t.getEditorPluginInfo().version,common_vscodeversion:eg(t.getEditorInfo())},n=e.get(ic);return n.trackingId&&(r.copilot_trackingId=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),r}s(D3e,"createRequiredProperties");var HZ=class extends Error{static{s(this,"CopilotNonError")}constructor(t){let r;try{r=JSON.stringify(t)}catch{r=String(t)}super(r),this.name="CopilotNonError",this.code=(0,oF.SHA256)(oF.enc.Utf16.parse(this.message)).toString().slice(0,16)}};function Ia(e,t,r,n,i){return e.get(ko).register(P3e(e,t,ia(),r,{...n},i))}s(Ia,"telemetryException");async function P3e(e,t,r,n,i,o){let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||Rc(a)||a instanceof Vs||a instanceof sF.ConnectionError||a instanceof sF.ResponseError)return}else{if(a=new HZ(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if(a.stack?.startsWith(`${a}
`)){let y=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*_telemetryException\b/.test(y[0]??"")&&y.shift(),/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(y[0]??"")&&y.shift(),a.stack=`${a}
${y.join(`
`)}`}}let l=e.get(gn).getEditorInfo(),c;l.root&&(c=[{prefix:`${l.name}:`,path:l.root}]);let u=kZ(a,c),f=aF(e),m=Dot(a),h=m==="exception",p=dn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:u.stack||u.toString(),message:u.message,...i});if(await p.makeReadyForSending(e,0,"IncludeExp",r),o?.exception_detail)for(let y of o.exception_detail)y.value&&(f?y.value=SZ(y.value):y.value="[redacted]");if(o??=d3e(e,kZ(a,c,f)),o.context={...o.context,"copilot_event.unique_id":p.properties.unique_id,"#restricted_telemetry":f?"true":"false"},n&&(o.context["#origin"]=n,o.transaction=n),o.rollup_id!=="auto"&&(p.properties.errno=o.rollup_id),o.created_at=new Date(p.issuedTime).toISOString(),f){let y=b3e(a,c),x=dn.createAndMarkAsIssued({origin:n??"",type:a.name,code:`${a.code??""}`,reason:y.stack||y.toString(),message:y.message,...i});o.rollup_id!=="auto"&&(x.properties.errno=o.rollup_id),await x.makeReadyForSending(e,1,"IncludeExp",r),x.properties.unique_id=p.properties.unique_id,p.properties.restricted_unique_id=x.properties.unique_id,y_(e,1,`error.${m}`,x)}let g=o.rollup_id==="auto"?a.stack??"":o.rollup_id;h&&!e.get(tg).isThrottled(g)&&(p.properties.failbot_payload=JSON.stringify(o)),y_(e,0,`error.${m}`,p)}s(P3e,"_telemetryException");function ef(e,t,r,n){let i=s(async(...o)=>{try{await t(...o)}catch(a){await P3e(e,a,ia(),r,n)}},"wrapped");return(...o)=>e.get(ko).register(i(...o))}s(ef,"telemetryCatch");function Kx(e,t,r,n){return e.get(ko).register(Oot(e,t,ia(),r?.extendedBy(),n))}s(Kx,"telemetryError");async function Oot(e,t,r,n,i=0){if(ZI(i)&&!aF(e))return;let o=n||dn.createAndMarkAsIssued({},{});await o.makeReadyForSending(e,i,"IncludeExp",r),Pot(e,i,t,o)}s(Oot,"_telemetryError");function N3e(e,t,r,n,i){let o=dn.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:i.toString()});if(r.logprobs)for(let[a,l]of Object.entries(r.logprobs))o.properties["logprobs_"+a]=JSON.stringify(l)??"unset";return o.extendWithRequestId(n),jt(e,"engine.completion",o,1)}s(N3e,"logEngineCompletion");function L3e(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix)}:n={promptJson:JSON.stringify(t.prefix)};let i=r.extendedBy(n);return jt(e,"engine.prompt",i,1)}s(L3e,"logEnginePrompt");var wd=class e{static{s(this,"ExpConfig")}constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return lF(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new e({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};d();d();d();var U3e=require("os"),uF=require("path");d();var Q3e;(()=>{"use strict";var e={975:G=>{function q(j){if(typeof j!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(j))}s(q,"e");function ie(j,U){for(var V,K="",ae=0,re=-1,le=0,ce=0;ce<=j.length;++ce){if(ce<j.length)V=j.charCodeAt(ce);else{if(V===47)break;V=47}if(V===47){if(!(re===ce-1||le===1))if(re!==ce-1&&le===2){if(K.length<2||ae!==2||K.charCodeAt(K.length-1)!==46||K.charCodeAt(K.length-2)!==46){if(K.length>2){var De=K.lastIndexOf("/");if(De!==K.length-1){De===-1?(K="",ae=0):ae=(K=K.slice(0,De)).length-1-K.lastIndexOf("/"),re=ce,le=0;continue}}else if(K.length===2||K.length===1){K="",ae=0,re=ce,le=0;continue}}U&&(K.length>0?K+="/..":K="..",ae=2)}else K.length>0?K+="/"+j.slice(re+1,ce):K=j.slice(re+1,ce),ae=ce-re-1;re=ce,le=0}else V===46&&le!==-1?++le:le=-1}return K}s(ie,"r");var z={resolve:s(function(){for(var j,U="",V=!1,K=arguments.length-1;K>=-1&&!V;K--){var ae;K>=0?ae=arguments[K]:(j===void 0&&(j=process.cwd()),ae=j),q(ae),ae.length!==0&&(U=ae+"/"+U,V=ae.charCodeAt(0)===47)}return U=ie(U,!V),V?U.length>0?"/"+U:"/":U.length>0?U:"."},"resolve"),normalize:s(function(j){if(q(j),j.length===0)return".";var U=j.charCodeAt(0)===47,V=j.charCodeAt(j.length-1)===47;return(j=ie(j,!U)).length!==0||U||(j="."),j.length>0&&V&&(j+="/"),U?"/"+j:j},"normalize"),isAbsolute:s(function(j){return q(j),j.length>0&&j.charCodeAt(0)===47},"isAbsolute"),join:s(function(){if(arguments.length===0)return".";for(var j,U=0;U<arguments.length;++U){var V=arguments[U];q(V),V.length>0&&(j===void 0?j=V:j+="/"+V)}return j===void 0?".":z.normalize(j)},"join"),relative:s(function(j,U){if(q(j),q(U),j===U||(j=z.resolve(j))===(U=z.resolve(U)))return"";for(var V=1;V<j.length&&j.charCodeAt(V)===47;++V);for(var K=j.length,ae=K-V,re=1;re<U.length&&U.charCodeAt(re)===47;++re);for(var le=U.length-re,ce=ae<le?ae:le,De=-1,be=0;be<=ce;++be){if(be===ce){if(le>ce){if(U.charCodeAt(re+be)===47)return U.slice(re+be+1);if(be===0)return U.slice(re+be)}else ae>ce&&(j.charCodeAt(V+be)===47?De=be:be===0&&(De=0));break}var qe=j.charCodeAt(V+be);if(qe!==U.charCodeAt(re+be))break;qe===47&&(De=be)}var Re="";for(be=V+De+1;be<=K;++be)be!==K&&j.charCodeAt(be)!==47||(Re.length===0?Re+="..":Re+="/..");return Re.length>0?Re+U.slice(re+De):(re+=De,U.charCodeAt(re)===47&&++re,U.slice(re))},"relative"),_makeLong:s(function(j){return j},"_makeLong"),dirname:s(function(j){if(q(j),j.length===0)return".";for(var U=j.charCodeAt(0),V=U===47,K=-1,ae=!0,re=j.length-1;re>=1;--re)if((U=j.charCodeAt(re))===47){if(!ae){K=re;break}}else ae=!1;return K===-1?V?"/":".":V&&K===1?"//":j.slice(0,K)},"dirname"),basename:s(function(j,U){if(U!==void 0&&typeof U!="string")throw new TypeError('"ext" argument must be a string');q(j);var V,K=0,ae=-1,re=!0;if(U!==void 0&&U.length>0&&U.length<=j.length){if(U.length===j.length&&U===j)return"";var le=U.length-1,ce=-1;for(V=j.length-1;V>=0;--V){var De=j.charCodeAt(V);if(De===47){if(!re){K=V+1;break}}else ce===-1&&(re=!1,ce=V+1),le>=0&&(De===U.charCodeAt(le)?--le==-1&&(ae=V):(le=-1,ae=ce))}return K===ae?ae=ce:ae===-1&&(ae=j.length),j.slice(K,ae)}for(V=j.length-1;V>=0;--V)if(j.charCodeAt(V)===47){if(!re){K=V+1;break}}else ae===-1&&(re=!1,ae=V+1);return ae===-1?"":j.slice(K,ae)},"basename"),extname:s(function(j){q(j);for(var U=-1,V=0,K=-1,ae=!0,re=0,le=j.length-1;le>=0;--le){var ce=j.charCodeAt(le);if(ce!==47)K===-1&&(ae=!1,K=le+1),ce===46?U===-1?U=le:re!==1&&(re=1):U!==-1&&(re=-1);else if(!ae){V=le+1;break}}return U===-1||K===-1||re===0||re===1&&U===K-1&&U===V+1?"":j.slice(U,K)},"extname"),format:s(function(j){if(j===null||typeof j!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof j);return function(U,V){var K=V.dir||V.root,ae=V.base||(V.name||"")+(V.ext||"");return K?K===V.root?K+ae:K+"/"+ae:ae}(0,j)},"format"),parse:s(function(j){q(j);var U={root:"",dir:"",base:"",ext:"",name:""};if(j.length===0)return U;var V,K=j.charCodeAt(0),ae=K===47;ae?(U.root="/",V=1):V=0;for(var re=-1,le=0,ce=-1,De=!0,be=j.length-1,qe=0;be>=V;--be)if((K=j.charCodeAt(be))!==47)ce===-1&&(De=!1,ce=be+1),K===46?re===-1?re=be:qe!==1&&(qe=1):re!==-1&&(qe=-1);else if(!De){le=be+1;break}return re===-1||ce===-1||qe===0||qe===1&&re===ce-1&&re===le+1?ce!==-1&&(U.base=U.name=le===0&&ae?j.slice(1,ce):j.slice(le,ce)):(le===0&&ae?(U.name=j.slice(1,re),U.base=j.slice(1,ce)):(U.name=j.slice(le,re),U.base=j.slice(le,ce)),U.ext=j.slice(re,ce)),le>0?U.dir=j.slice(0,le-1):ae&&(U.dir="/"),U},"parse"),sep:"/",delimiter:":",win32:null,posix:null};z.posix=z,G.exports=z}},t={};function r(G){var q=t[G];if(q!==void 0)return q.exports;var ie=t[G]={exports:{}};return e[G](ie,ie.exports,r),ie.exports}s(r,"r"),r.d=(G,q)=>{for(var ie in q)r.o(q,ie)&&!r.o(G,ie)&&Object.defineProperty(G,ie,{enumerable:!0,get:q[ie]})},r.o=(G,q)=>Object.prototype.hasOwnProperty.call(G,q),r.r=G=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:s(()=>h,"URI"),Utils:s(()=>Z,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let o=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;function c(G,q){if(!G.scheme&&q)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${G.authority}", path: "${G.path}", query: "${G.query}", fragment: "${G.fragment}"}`);if(G.scheme&&!o.test(G.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(G.path){if(G.authority){if(!a.test(G.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(G.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}s(c,"a");let u="",f="/",m=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class h{static{s(this,"l")}static isUri(q){return q instanceof h||!!q&&typeof q.authority=="string"&&typeof q.fragment=="string"&&typeof q.path=="string"&&typeof q.query=="string"&&typeof q.scheme=="string"&&typeof q.fsPath=="string"&&typeof q.with=="function"&&typeof q.toString=="function"}scheme;authority;path;query;fragment;constructor(q,ie,z,j,U,V=!1){typeof q=="object"?(this.scheme=q.scheme||u,this.authority=q.authority||u,this.path=q.path||u,this.query=q.query||u,this.fragment=q.fragment||u):(this.scheme=function(K,ae){return K||ae?K:"file"}(q,V),this.authority=ie||u,this.path=function(K,ae){switch(K){case"https":case"http":case"file":ae?ae[0]!==f&&(ae=f+ae):ae=f}return ae}(this.scheme,z||u),this.query=j||u,this.fragment=U||u,c(this,V))}get fsPath(){return E(this,!1)}with(q){if(!q)return this;let{scheme:ie,authority:z,path:j,query:U,fragment:V}=q;return ie===void 0?ie=this.scheme:ie===null&&(ie=u),z===void 0?z=this.authority:z===null&&(z=u),j===void 0?j=this.path:j===null&&(j=u),U===void 0?U=this.query:U===null&&(U=u),V===void 0?V=this.fragment:V===null&&(V=u),ie===this.scheme&&z===this.authority&&j===this.path&&U===this.query&&V===this.fragment?this:new g(ie,z,j,U,V)}static parse(q,ie=!1){let z=m.exec(q);return z?new g(z[2]||u,N(z[4]||u),N(z[5]||u),N(z[7]||u),N(z[9]||u),ie):new g(u,u,u,u,u)}static file(q){let ie=u;if(i&&(q=q.replace(/\\/g,f)),q[0]===f&&q[1]===f){let z=q.indexOf(f,2);z===-1?(ie=q.substring(2),q=f):(ie=q.substring(2,z),q=q.substring(z)||f)}return new g("file",ie,q,u,u)}static from(q){let ie=new g(q.scheme,q.authority,q.path,q.query,q.fragment);return c(ie,!0),ie}toString(q=!1){return _(this,q)}toJSON(){return this}static revive(q){if(q){if(q instanceof h)return q;{let ie=new g(q);return ie._formatted=q.external,ie._fsPath=q._sep===p?q.fsPath:null,ie}}return q}}let p=i?1:void 0;class g extends h{static{s(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=E(this,!1)),this._fsPath}toString(q=!1){return q?_(this,!0):(this._formatted||(this._formatted=_(this,!1)),this._formatted)}toJSON(){let q={$mid:1};return this._fsPath&&(q.fsPath=this._fsPath,q._sep=p),this._formatted&&(q.external=this._formatted),this.path&&(q.path=this.path),this.scheme&&(q.scheme=this.scheme),this.authority&&(q.authority=this.authority),this.query&&(q.query=this.query),this.fragment&&(q.fragment=this.fragment),q}}let y={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function x(G,q,ie){let z,j=-1;for(let U=0;U<G.length;U++){let V=G.charCodeAt(U);if(V>=97&&V<=122||V>=65&&V<=90||V>=48&&V<=57||V===45||V===46||V===95||V===126||q&&V===47||ie&&V===91||ie&&V===93||ie&&V===58)j!==-1&&(z+=encodeURIComponent(G.substring(j,U)),j=-1),z!==void 0&&(z+=G.charAt(U));else{z===void 0&&(z=G.substr(0,U));let K=y[V];K!==void 0?(j!==-1&&(z+=encodeURIComponent(G.substring(j,U)),j=-1),z+=K):j===-1&&(j=U)}}return j!==-1&&(z+=encodeURIComponent(G.substring(j))),z!==void 0?z:G}s(x,"m");function b(G){let q;for(let ie=0;ie<G.length;ie++){let z=G.charCodeAt(ie);z===35||z===63?(q===void 0&&(q=G.substr(0,ie)),q+=y[z]):q!==void 0&&(q+=G[ie])}return q!==void 0?q:G}s(b,"y");function E(G,q){let ie;return ie=G.authority&&G.path.length>1&&G.scheme==="file"?`//${G.authority}${G.path}`:G.path.charCodeAt(0)===47&&(G.path.charCodeAt(1)>=65&&G.path.charCodeAt(1)<=90||G.path.charCodeAt(1)>=97&&G.path.charCodeAt(1)<=122)&&G.path.charCodeAt(2)===58?q?G.path.substr(1):G.path[1].toLowerCase()+G.path.substr(2):G.path,i&&(ie=ie.replace(/\//g,"\\")),ie}s(E,"v");function _(G,q){let ie=q?b:x,z="",{scheme:j,authority:U,path:V,query:K,fragment:ae}=G;if(j&&(z+=j,z+=":"),(U||j==="file")&&(z+=f,z+=f),U){let re=U.indexOf("@");if(re!==-1){let le=U.substr(0,re);U=U.substr(re+1),re=le.lastIndexOf(":"),re===-1?z+=ie(le,!1,!1):(z+=ie(le.substr(0,re),!1,!1),z+=":",z+=ie(le.substr(re+1),!1,!0)),z+="@"}U=U.toLowerCase(),re=U.lastIndexOf(":"),re===-1?z+=ie(U,!1,!0):(z+=ie(U.substr(0,re),!1,!0),z+=U.substr(re))}if(V){if(V.length>=3&&V.charCodeAt(0)===47&&V.charCodeAt(2)===58){let re=V.charCodeAt(1);re>=65&&re<=90&&(V=`/${String.fromCharCode(re+32)}:${V.substr(3)}`)}else if(V.length>=2&&V.charCodeAt(1)===58){let re=V.charCodeAt(0);re>=65&&re<=90&&(V=`${String.fromCharCode(re+32)}:${V.substr(2)}`)}z+=ie(V,!0,!1)}return K&&(z+="?",z+=ie(K,!1,!1)),ae&&(z+="#",z+=q?ae:x(ae,!1,!1)),z}s(_,"b");function k(G){try{return decodeURIComponent(G)}catch{return G.length>3?G.substr(0,3)+k(G.substr(3)):G}}s(k,"C");let B=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function N(G){return G.match(B)?G.replace(B,q=>k(q)):G}s(N,"w");var M=r(975);let te=M.posix||M,de="/";var Z;(function(G){G.joinPath=function(q,...ie){return q.with({path:te.join(q.path,...ie)})},G.resolvePath=function(q,...ie){let z=q.path,j=!1;z[0]!==de&&(z=de+z,j=!0);let U=te.resolve(z,...ie);return j&&U[0]===de&&!q.authority&&(U=U.substring(1)),q.with({path:U})},G.dirname=function(q){if(q.path.length===0||q.path===de)return q;let ie=te.dirname(q.path);return ie.length===1&&ie.charCodeAt(0)===46&&(ie=""),q.with({path:ie})},G.basename=function(q){return te.basename(q.path)},G.extname=function(q){return te.extname(q.path)}})(Z||(Z={})),Q3e=n})();var{URI:E5,Utils:cF}=Q3e;function q3e(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+q3e(e.substring(3)):e}}s(q3e,"decodeURIComponentGraceful");var O3e=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function VZ(e){return e.match(O3e)?e.replace(O3e,t=>q3e(t)):e}s(VZ,"percentDecode");function cl(e){if(/^[A-Za-z][A-Za-z0-9+.-]+:/.test(e))throw new Error("Path must not contain a scheme");if(!e)throw new Error("Path must not be empty");return E5.file(e).toString()}s(cl,"makeFsUri");function t8(e){if(typeof e!="string"&&(e=e.uri),/^[A-Za-z]:\\/.test(e))throw new Error(`Could not parse <${e}>: Windows-style path`);try{let t=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return t?E5.parse(t[1]+t[2],!0):E5.parse(e,!0)}catch(t){throw new Error(`Could not parse <${e}>`,{cause:t})}}s(t8,"parseUri");function W3e(e){return t8(e),e}s(W3e,"validateUri");function ac(e){try{return t8(e).toString()}catch{return e}}s(ac,"normalizeUri");var G3e=new Set(["file","notebook","vscode-notebook","vscode-notebook-cell"]);function Ga(e){let t=t8(e);if(!G3e.has(t.scheme))throw new Error(`Unsupported scheme: ${t.scheme}`);if((0,U3e.platform)()==="win32"){let r=t.path;return t.authority?r=`//${t.authority}${t.path}`:/^\/[A-Za-z]:/.test(r)&&(r=r.substring(1)),(0,uF.normalize)(r)}else{if(t.authority)throw new Error("Unsupported remote file path");return t.path}}s(Ga,"fsPath");function Xo(e){try{return Ga(e)}catch{return}}s(Xo,"getFsPath");function H3e(e){let t=Xo(e);if(t)return E5.file(t).toString()}s(H3e,"getFsUri");function Xx(e,...t){let r,n=Xo(e);return n?r=cl((0,uF.resolve)(n,...t)):r=cF.resolvePath(t8(e),...t.map(i=>j3e(i))).toString(),typeof e=="string"?r:{uri:r}}s(Xx,"resolveFilePath");function Do(e,...t){let r=cF.joinPath(t8(e),...t.map(j3e)).toString();return typeof e=="string"?r:{uri:r}}s(Do,"joinPath");function j3e(e){return Uot(e)?e.replaceAll("\\","/"):e}s(j3e,"pathToURIPath");function Uot(e){return/^[^/\\]*\\/.test(e)}s(Uot,"isWinPath");function Di(e){return VZ((typeof e=="string"?e:e.uri).replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}s(Di,"basename");function rf(e){let t=cF.dirname(t8(e)),r;return G3e.has(t.scheme)&&t.scheme!=="file"?r=t.with({scheme:"file",fragment:""}).toString():r=t.toString(),typeof e=="string"?r:{uri:r}}s(rf,"dirname");var hs=class{static{s(this,"NetworkConfiguration")}},fF={api:"https://api.githubcopilot.com",proxy:"https://copilot-proxy.githubusercontent.com",telemetry:"https://copilot-telemetry.githubusercontent.com","origin-tracker":"https://origin-tracker.githubusercontent.com"};function $Z(e,t,r){if(r&&oh(e)){for(let n of r){let i=Mn(e,n);if(i)return i}return}for(let n of t){let i=Mn(e,n);if(i)return i}}s($Z,"urlConfigOverride");function qot(e,t){switch(t){case"api":return $Z(e,[bt.DebugOverrideCapiUrl,bt.DebugOverrideCapiUrlLegacy],[bt.DebugTestOverrideCapiUrl,bt.DebugTestOverrideCapiUrlLegacy]);case"proxy":return $Z(e,[bt.DebugOverrideProxyUrl,bt.DebugOverrideProxyUrlLegacy],[bt.DebugTestOverrideProxyUrl,bt.DebugTestOverrideProxyUrlLegacy]);case"origin-tracker":if(!dF(e))return $Z(e,[bt.DebugSnippyOverrideUrl])}}s(qot,"getEndpointOverrideUrl");function r8(e,t,r,...n){let i=qot(e,r)??(t.envelope.endpoints??fF)[r];return Do(i,...n)}s(r8,"getEndpointUrl");var lh=class{static{s(this,"ExpConfigMaker")}},C_=class extends lh{constructor(r="",n={}){super();this.overrideTASUrl=r;this.defaultFilters=n}static{s(this,"ExpConfigFromTAS")}async fetchExperiments(r,n){let i=r.get(fn),o=Object.keys(n).length===0?this.defaultFilters:n,a=this.overrideTASUrl.length===0?r.get(hs).getExperimentationUrl():this.overrideTASUrl,l;try{l=await i.fetch(a,{method:"GET",headers:o,timeout:5e3})}catch(m){return wd.createFallbackConfig(r,`Error fetching ExP config: ${String(m)}`)}if(!l.ok)return wd.createFallbackConfig(r,`ExP responded with ${l.status}`);let c;try{c=await l.json()}catch(m){if(m instanceof SyntaxError)return Ia(r,m,"fetchExperiments"),wd.createFallbackConfig(r,"ExP responded with invalid JSON");throw m}let u=c.Configs.find(m=>m.Id==="vscode")??{Id:"vscode",Parameters:{}},f=Object.entries(u.Parameters).map(([m,h])=>m+(h?"":"cf"));return new wd(u.Parameters,c.AssignmentContext,f.join(";"))}},mF=class extends lh{static{s(this,"ExpConfigNone")}fetchExperiments(t,r){return Promise.resolve(wd.createEmptyConfig())}};d();d();var hF=class{constructor(t){this.prefix=t}static{s(this,"GranularityImplementation")}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}},zZ=class extends hF{static{s(this,"ConstantGranularity")}getValue(t){return this.prefix}getUpcomingValues(t){return[]}},V3e=s(e=>new zZ(e),"DEFAULT_GRANULARITY"),pF=class extends hF{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}static{s(this,"TimeBucketGranularity")}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),o=this.getUpcomingByCallBucketStrings();for(let a of i)for(let l of o)n.push(this.prefix+a+l);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var $3e="X-Copilot-ClientTimeBucket",gF=class{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=V3e(t)}static{s(this,"GranularityDirectory")}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let i=new pF(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(t,i)}}extendFilters(t){let r=this.selectGranularity(t),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange($3e,n),otherFilterSettingsToPrefetch:i.map(o=>t.withChange($3e,o))}}};d();d();d();d();d();d();function AF(e){return["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","faef89d9169d5eacf1d8c8dde3412e37","4535c7beffc844b46bb1ed4aa04d759a"].find(r=>e.includes(r))}s(AF,"findKnownOrg");d();d();var Zx=(i=>(i[i.DEBUG=4]="DEBUG",i[i.INFO=3]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=1]="ERROR",i))(Zx||{}),Ha=class{static{s(this,"LogTarget")}},ig=class{static{s(this,"TelemetryLogSender")}},Gt=class{constructor(t){this.category=t}static{s(this,"Logger")}log(t,r,...n){t.get(Ha).logIt(t,r,this.category,...n)}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){t.get(ig).sendError(t,this.category,...r),this.errorWithoutTelemetry(t,...r)}errorWithoutTelemetry(t,...r){this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let i=n;n.startsWith(".")&&(i=n.substring(1),n=`${this.category}${n}`),t.get(ig).sendException(t,r,n);let o=r instanceof Error?r:new Error(`Non-error thrown: ${String(r)}`);this.log(t,1,`${i}:`,o)}},Wn=new Gt("default");d();var ja=class{static{s(this,"NotificationSender")}async showWarningMessageOnlyOnce(t,r,...n){return this.showWarningMessage(r,...n)}};d();var lc=class{static{s(this,"UrlOpener")}};var Wot=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],z3e="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",Y3e="https://gh.io/copilot-network-errors",iu=class{constructor(){this.notifiedErrorCodes=[]}static{s(this,"UserErrorNotifier")}notifyUser(t,r){if(!(r instanceof Error))return;let n=r;n.code&&Wot.includes(n.code)&&!this.didNotifyBefore(n.code)&&(this.notifiedErrorCodes.push(n.code),this.displayCertificateErrorNotification(t,n))}async displayCertificateErrorNotification(t,r){new Gt("certificates").error(t,`${z3e} Please visit ${Y3e} to learn more. Original cause:`,r);let n={title:"Learn more"};return t.get(ja).showWarningMessage(z3e,n).then(i=>{if(i?.title===n.title)return t.get(lc).open(Y3e)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};d();d();function yF(){return typeof process>"u"}s(yF,"isWeb");async function ch(e,t,r,n={}){return n={...n,headers:{Authorization:`Bearer ${t.accessToken}`,...yF()?{}:Hu(e),...n.headers}},await e.get(fn).fetch(new URL(r,t.apiUrl).href,n)}s(ch,"apiFetch");var m0=new Gt("auth"),X3e=60;function n8(e){let t=e.serverUrl?.match(/^https?:\/\//)?e.serverUrl:"",r=e.apiUrl?.match(/^https?:\/\//)?e.apiUrl:"";return t?r||=t.replace("://","://api."):r?.includes("://api.")&&(t||=r.replace("://api.","://")),(!t||!r)&&(t="https://github.com",r="https://api.github.com"),{apiUrl:r,serverUrl:t}}s(n8,"fillGitHubUrls");function K3e(){return Math.floor(Date.now()/1e3)}s(K3e,"nowSeconds");async function CF(e,t){let r=dn.createAndMarkAsIssued({},{});jt(e,"auth.new_login");let n=await Got(e,t),i=await n.json(),o=i.user_notification;if(J3e(e,o,t),n.clientError&&!n.headers.get("x-github-request-id")&&m0.error(e,`HTTP ${n.status} response does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`),n.status===401){let c="Failed to get copilot token due to 401 status. Please sign out and try again.";return m0.info(e,c),Kx(e,"auth.unknown_401",r),{kind:"failure",reason:"HTTP401",message:c,envelope:i}}if(!n.ok||!i.token){m0.info(e,`Invalid copilot token: missing token: ${n.status} ${n.statusText}`),Kx(e,"auth.invalid_token",r.extendedBy({status:n.status.toString(),status_text:n.statusText}));let c=i.error_details;return c?.notification_id!=="not_signed_up"&&J3e(e,c,t),{kind:"failure",reason:"NotAuthorized",message:"User not authorized",envelope:i,...c}}let a=i.expires_at;i.expires_at=K3e()+i.refresh_in+X3e;let l=new fA(i);return m_(e,l),jt(e,"auth.new_token",r.extendedBy({},{adjusted_expires_at:i.expires_at,expires_at:a,current_time:K3e()})),{kind:"success",envelope:i}}s(CF,"authFromGitHubToken");async function Got(e,t){let r={"X-GitHub-Api-Version":jm},n=t.devOverride?.copilotTokenUrl??"copilot_internal/v2/token";try{return await ch(e,t,n,{timeout:12e4,headers:r})}catch(i){throw e.get(iu).notifyUser(e,i),i}}s(Got,"fetchCopilotToken");function J3e(e,t,r){t&&e.get(ja).showWarningMessageOnlyOnce(t.notification_id,t.message,{title:t.title},{title:"Dismiss"}).then(async n=>{let i=n?.title===t.title,o=i||n?.title==="Dismiss";if(i){let a=e.get(gn).getEditorPluginInfo(),l=t.url.replace("{EDITOR}",encodeURIComponent(a.name+"_"+a.version));await e.get(lc).open(l)}t.notification_id&&o&&await Hot(e,t.notification_id,r)}).catch(n=>{m0.exception(e,n,"copilotToken.notification")})}s(J3e,"notifyUser");async function Hot(e,t,r){let n=r.devOverride?.notificationUrl??"copilot_internal/notification",i=await ch(e,r,n,{method:"POST",headers:{"X-GitHub-Api-Version":jm},body:JSON.stringify({notification_id:t})});(!i||!i.ok)&&m0.error(e,`Failed to send notification result to GitHub: ${i?.status} ${i?.statusText}`)}s(Hot,"sendNotificationResultToGitHub");var fA=class{constructor(t){this.envelope=t;this.token=t.token,this.organization_list=t.organization_list,this.enterprise_list=t.enterprise_list,this.tokenMap=this.parseToken(this.token)}static{s(this,"CopilotToken")}needsRefresh(){return(this.envelope.expires_at-X3e)*1e3<Date.now()}isExpired(){return this.envelope.expires_at*1e3<Date.now()}get hasKnownOrg(){return AF(this.organization_list||[])!==void 0}parseToken(t){let r=new Map,i=(t??"").split(":")[0].split(";");for(let o of i){let[a,l]=o.split("=");r.set(a,l)}return r}getTokenValue(t){return this.tokenMap.get(t)}getTokenValues(){return Object.fromEntries(this.tokenMap)}};d();d();d();var nxe=Ze(exe()),ixe=Ze(rxe()),nf=Ze(require("os"));var i8=class{constructor(t,r,n,i=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=i;this.onCopilotToken=s(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:s((t,r)=>{if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=t.headers??{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let i={method:"POST",headers:n,body:t.data};this.ctx.get(fn).fetch(t.urlString,i).then(o=>o.text().then(a=>{r(o.status,Object.fromEntries(o.headers),a)})).catch(o=>{Wn.errorWithoutTelemetry(this.ctx,"Error sending telemetry",o),r(0,{})})},"sendPOST")};this.client=new ixe.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(hs).getTelemetryUrl(),extensionConfig:{[nxe.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=jot(t),this.commonProperties=Vot(t),this.#e=Ks(t,this.onCopilotToken)}static{s(this,"AppInsightsReporter")}#e;sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let i=this.qualifyEventName(t);this.client.track({name:i,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:i,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.#e.dispose(),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};function jot(e){let t={},r=e.get(Bs);t["ai.session.id"]=r.sessionId;let n=e.get(ic);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${nf.type()} ${nf.release()}`,t["ai.device.osArchitecture"]=nf.arch(),t["ai.device.osPlatform"]=nf.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(go).getVersion(),t}s(jot,"getTags");function Vot(e){let t={};t.common_os=nf.platform(),t.common_platformversion=nf.release(),t.common_arch=nf.arch(),t.common_cpu=Array.from(new Set(nf.cpus().map(n=>n.model))).join();let r=e.get(Bs);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind=r.uiKind,t.common_remotename=r.remoteName,t.common_isnewappinstall="",t}s(Vot,"getCommonProperties");var oxe="7d7048df-6dd0-4048-bb23-b716c1461f8f",sxe="3fdd7f28-937a-48c8-9a21-ba337db23bd1",$ot="f0000000-0000-0000-0000-000000000000",of=class{constructor(){this._initialized=!1}static{s(this,"TelemetryInitialization")}get isInitialized(){return this._initialized}get isEnabled(){return this._enabled??!1}async initialize(t,r,n){let i=t.get(Fs).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let o=t.get(Fs);o.setReporter(new i8(t,r,oxe)),o.setRestrictedReporter(new i8(t,r,sxe)),o.setFTReporter(new i8(t,r,$ot,!0))}await i}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};function I5(e,t,r){return e.get(of).initialize(e,t,r)}s(I5,"setupTelemetryReporters");var kn=class{constructor(t,r){this.authPersistence=t;this._copilotTokenManager=r;this.pendingSignIn=void 0}static{s(this,"AuthManager")}#e;#t;getCopilotTokenManager(){return this._copilotTokenManager}updateEnterpriseConfig(t,r){if(this.#t=void 0,this.authPersistence.setAuthAuthority(void 0),r?.uri?.match(/^https?:\/\//))try{this.authPersistence.setAuthAuthority(new URL(r.uri).host),this.#t=r.uri}catch(n){m0.exception(t,n,`Ignoring invalid github-enterprise.uri: <${r.uri}>`)}}getConfiguredUrls(){let t=this.#t??"https://github.com";return{serverUrl:t,apiUrl:t.replace("://","://api.")}}async checkAndUpdateStatus(t,r){let n=r?.localChecksOnly??!1,i;return r?.githubAppId!==void 0?i=await this.getPersistedSession(t,r):i=await this.getSession(t),i===void 0?(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),{status:"NotSignedIn"}):n?{status:"MaybeOK",user:i.login}:(r?.forceRefresh&&this._copilotTokenManager.resetToken(),{status:await this.getTokenWithSignUpLimited(t,i,r?.freshSignIn??!1),user:i.login})}async getTokenWithSignUpLimited(t,r,n){try{await this._copilotTokenManager.getToken()}catch(i){if(i instanceof Sd)return n&&i.result.envelope?.can_signup_for_limited&&await this.signUpLimited(t,r)?this.getTokenWithSignUpLimited(t,r,!1):i.result.reason==="HTTP401"?"NotSignedIn":i.result.reason;throw i}return"OK"}async getSession(t){let r=zot(process.env)??this.#e;if(r)return{...r,...n8(r)};if(r!==null)return await this.getPersistedSession(t)}async getPersistedSession(t,r){let n=await this.authPersistence.getAuthRecord(r);if(n===void 0)return;let i={...this.getConfiguredUrls(),accessToken:n.oauth_token,login:n.user,githubAppId:n.githubAppId};return n.dev_override&&_d(t)==="dev"&&(i.devOverride={copilotTokenUrl:n.dev_override.copilot_token_url,notificationUrl:n.dev_override.notification_url,contentRestrictionsUrl:n.dev_override.content_restrictions_url}),i}async signUpLimited(t,r){let n="copilot_internal/subscribe_limited_user";try{return(await(await ch(t,r,n,{method:"POST",headers:{"X-GitHub-Api-Version":jm},body:JSON.stringify({restricted_telemetry:t.get(of).isEnabled?"enabled":"disabled",public_code_suggestions:"enabled"})})).json())?.subscribed||!1}catch(i){return m0.exception(t,i,"signUpLimited failed"),!1}}async setPersistedSession({accessToken:t,login:r,githubAppId:n,serverUrl:i}){await this.authPersistence.saveAuthRecord({oauth_token:t,user:r,githubAppId:n},new URL(i||this.getConfiguredUrls().serverUrl).host),this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken(),await this.authPersistence.purgeLegacyAuthRecords()}setTransientSession(t,r=!0){this.#e=t,r&&this._copilotTokenManager.resetToken()}async deletePersistedSession(){await this.authPersistence.deleteAuthRecord(),await this.authPersistence.purgeLegacyAuthRecords(),!this.#e&&(this._copilotTokenManager.resetToken(),await this._copilotTokenManager.primeToken())}};function zot(e){if(e.GH_COPILOT_TOKEN&&!/=/.test(e.GH_COPILOT_TOKEN))return{apiUrl:e.GH_COPILOT_API_URL,serverUrl:e.GH_COPILOT_SERVER_URL,login:"<GH_COPILOT_TOKEN-user>",accessToken:e.GH_COPILOT_TOKEN};if(e.GITHUB_COPILOT_TOKEN)return{apiUrl:e.GITHUB_COPILOT_API_URL,serverUrl:e.GITHUB_COPILOT_SERVER_URL,login:"<GITHUB_COPILOT_TOKEN-user>",accessToken:e.GITHUB_COPILOT_TOKEN};if(e.CODESPACES==="true"&&e.GITHUB_TOKEN)return{apiUrl:e.GITHUB_API_URL,serverUrl:e.GITHUB_SERVER_URL,login:e.GITHUB_USER||"<codespaces-user>",accessToken:e.GITHUB_TOKEN}}s(zot,"getSessionFromEnv");d();var zi=class{static{s(this,"StatusReporter")}#e=0;#t="Normal";#i;#n;#r=!0;get busy(){return this.#e>0}withProgress(t){return this.#t==="Warning"&&this.forceNormal(),this.#e++===0&&this.#o(),t().finally(()=>{--this.#e===0&&this.#o()})}forceStatus(t,r,n){this.#t===t&&this.#i===r&&!n&&!this.#n&&!this.#r||(this.#t=t,this.#i=r,this.#n=n,this.#r=!1,this.#o())}forceNormal(){this.#t!=="Inactive"&&this.forceStatus("Normal")}setError(t,r){this.forceStatus("Error",t,r)}setWarning(t){this.#t!=="Error"&&this.forceStatus("Warning",t)}setInactive(t){this.#t==="Error"||this.#t==="Warning"||this.forceStatus("Inactive",t)}clearInactive(){this.#t==="Inactive"&&this.forceStatus("Normal")}#o(){let t={kind:this.#t,message:this.#i,busy:this.busy,command:this.#n};this.didChange(t)}},bF=class extends zi{static{s(this,"NoOpStatusReporter")}didChange(){}};var en=class{constructor(t=!1){this.primed=t}static{s(this,"CopilotTokenManager")}primeToken(){this.primed=!0;try{return this.getToken().then(()=>!0,()=>!1)}catch{return Promise.resolve(!1)}}},Sd=class extends Vs{constructor(r){super(r.message??"");this.result=r}static{s(this,"TokenResultError")}},EF=class extends en{constructor(r,n=!1){super(n);this.ctx=r;this.token=void 0;this.tokenPromise=void 0}static{s(this,"CopilotTokenManagerFromGitHubTokenBase")}async fetchCopilotTokenEnvelope(){let r=await this.getGitHubSession();if(!r)throw new Sd({reason:"NotSignedIn"});if(!r?.accessToken)throw new Sd({reason:"HTTP401"});let n=await CF(this.ctx,r);if(n.kind==="failure"){if(n.message)throw new Sd(n);let i=new Error(`Unexpected error getting Copilot token: ${n.reason}`);throw i.code=`CopilotToken.${n.reason}`,i}return n.envelope}async getToken(){if(!this.primed){let r=new Error("Token requested before initialization");if(axe(this.ctx))throw r;m0.exception(this.ctx,r,".getToken")}if(!this.tokenPromise&&(!this.token||this.token?.needsRefresh())){let r=this.fetchCopilotTokenEnvelope().then(n=>{let i=new fA(n);return this.tokenPromise!==r?i:(this.token=i,this.tokenPromise=void 0,this.ctx.get(zi).forceNormal(),this.token)},n=>{if(this.tokenPromise!==r)throw n;this.tokenPromise=void 0;let i=this.ctx.get(zi);if(n instanceof Sd)switch(n.result.reason){case"NotSignedIn":i.setError("You are not signed into GitHub.",{command:"github.copilot.signIn",title:"Sign In"});break;case"HTTP401":i.setError("Your GitHub token is invalid. Try signing in again.");break;case"NotAuthorized":i.setError(n.message||"No access to Copilot found.");break}else i.setWarning(String(n));throw n});this.tokenPromise=r}return this.token&&!this.token.isExpired()?this.token:await this.tokenPromise}resetToken(r){r!==void 0?(jt(this.ctx,"auth.reset_token_"+r),m0.debug(this.ctx,`Resetting copilot token on HTTP error ${r}`)):m0.debug(this.ctx,"Resetting copilot token"),this.token=void 0,this.tokenPromise=void 0}},o8=class extends EF{static{s(this,"CopilotTokenManagerFromAuthManager")}async getGitHubSession(){return await this.ctx.get(kn).getSession(this.ctx)}};function Yot(e){let t=e.getCopilotIntegrationId();if(t)return t;switch(e.getEditorPluginInfo().name){case"copilot-intellij":return"jetbrains-chat";case"copilot":case"copilot-vs":return;default:return"jetbrains-chat"}}s(Yot,"getIntegrationId");function T5(e){let t={...Hu(e),"X-GitHub-Api-Version":jm},r=Yot(e.get(gn));return r&&(t["Copilot-Integration-Id"]=r),t}s(T5,"getCapiHeaders");function s8(e,t,...r){return r8(e,t,"api",...r)}s(s8,"getCapiUrl");async function ev(e,t){let r=await e.get(en).getToken(),n=s8(e,r,t),i={Authorization:`Bearer ${r.token}`,...T5(e)};return await e.get(fn).fetch(new URL(n).href,{method:"GET",headers:i})}s(ev,"fetchCapiUrl");async function lxe(e,t,r){let n=await e.get(en).getToken(),i=s8(e,n,t),o={Authorization:`Bearer ${n.token}`,...T5(e)};return await e.get(fn).fetch(new URL(i).href,{method:"POST",headers:o,body:r})}s(lxe,"postCapiUrl");d();var cxe=10*60*1e3,ei={Gpt35turbo:"gpt-3.5-turbo",Gpt4:"gpt-4",Gpt4turbo:"gpt-4-turbo",Gpt4o:"gpt-4o",Gpt4oMini:"gpt-4o-mini",O1Mini:"o1-mini",O1Ga:"o1-ga",Claude35Sonnet:"claude-3.5-sonnet",O3Mini:"o3-mini",Gemini20Flash:"gemini-2.0-flash",Gemini20Pro:"gemini-2.0-pro",Claude37Sonnet:"claude-3.7-sonnet",Claude37SonnetThought:"claude-3.7-sonnet-thought",Gpt45:"gpt-4.5",CopilotBase:"copilot-base",Unknown:"unknown"},uxe=new Set([ei.O1Ga,ei.O3Mini,ei.O1Mini,ei.Gemini20Pro,ei.Gemini20Flash]);function Rd(e){switch(e){case"edits":case"user":case"inline":return[ei.Gpt4o,ei.Gpt4turbo,ei.Gpt4,ei.O1Mini,ei.O1Ga,ei.Claude35Sonnet,ei.O3Mini,ei.Gemini20Flash,ei.Claude37Sonnet,ei.Claude37SonnetThought,ei.Gpt45,ei.CopilotBase];case"meta":case"suggestions":case"synonyms":return[ei.Gpt4oMini,ei.Gpt35turbo,ei.CopilotBase];case"gitCommit":return[ei.Gpt4oMini,ei.Gpt4o,ei.Gpt4,ei.CopilotBase];case"codeReview":return[ei.Gpt4,ei.CopilotBase];case"nesStubs":return[ei.Gpt4oMini,ei.CopilotBase]}}s(Rd,"getSupportedModelFamiliesForPrompt");var wF={textEmbedding3Small:"text-embedding-3-small"},Kot=I.Object({type:I.Union([I.Literal("chat"),I.Literal("embeddings"),I.Literal("completion")]),tokenizer:I.String(),family:I.String(),object:I.String(),supports:I.Optional(I.Object({tool_calls:I.Optional(I.Boolean()),parallel_tool_calls:I.Optional(I.Boolean()),streaming:I.Optional(I.Boolean()),vision:I.Optional(I.Boolean())})),limits:I.Optional(I.Object({max_inputs:I.Optional(I.Number()),max_prompt_tokens:I.Optional(I.Number()),max_output_tokens:I.Optional(I.Number()),max_context_window_tokens:I.Optional(I.Number())}))}),Jot=I.Object({id:I.String(),name:I.String(),version:I.String(),model_picker_enabled:I.Boolean(),is_chat_default:I.Optional(I.Boolean()),is_chat_fallback:I.Optional(I.Boolean()),capabilities:Kot,billing:I.Optional(I.Object({is_premium:I.Optional(I.Boolean()),multiplier:I.Optional(I.Number())})),object:I.String(),preview:I.Optional(I.Boolean()),isExperimental:I.Optional(I.Boolean()),policy:I.Optional(I.Object({state:I.String(),terms:I.String()}))}),fxe=I.Object({data:I.Array(Jot)}),sf=class{static{s(this,"ModelMetadataProvider")}},IF=class extends sf{constructor(r){super();this.ctx=r;this._metadata=[];this._lastFetchTime=0;Ks(r,()=>{this._lastFetchTime=0})}static{s(this,"CapiModelMetadataProvider")}async getMetadata(){return this.shouldRefreshModels()&&await this.fetchMetadata(),this._metadata.slice()}async getFallbackModel(){return(await this.getMetadata()).find(n=>n.is_chat_fallback)}async fetchMetadata(){let r=await ev(this.ctx,"/models");if(r.status<200||r.status>=300){if(r.status===429&&this._metadata.length>0){Wn.error(this.ctx,"Rate limited while fetching models from CAPI",{status:r.status,statusText:r.statusText});return}throw Wn.error(this.ctx,"Failed to fetch models from CAPI",{status:r.status,statusText:r.statusText}),new Dx(r)}await this.processModels(r)}async fetchModel(r){let n=await ev(this.ctx,`/models/${r}`);if(!n.ok){Wn.error(this.ctx,`Failed to fetch model ${r} from CAPI`,{status:n.status,statusText:n.statusText});return}return await n.json()}async acceptModelPolicy(r){return(await lxe(this.ctx,`/models/${r}/policy`,JSON.stringify({status:"enabled"}))).ok?(await this.fetchMetadata(),!0):!1}async processModels(r){try{let n=await r.json();this._metadata=n.data,this._lastFetchTime=Date.now()}catch(n){Wn.error(this.ctx,"Failed to parse models from CAPI",{error:n})}}shouldRefreshModels(){return this._metadata.length===0||!this._lastFetchTime?!0:this.isLastFetchOlderTenMinutes()}isLastFetchOlderTenMinutes(){return Date.now()-this._lastFetchTime>cxe}},TF=class extends sf{constructor(r,n){super();this.ctx=r;this.delegate=n;this._exp_models_cache=new Map}static{s(this,"ExpModelMetadataProvider")}async getMetadata(){let r=this.ctx.get(sr),n=await r.updateExPValuesAndAssignments(),i=r.ideChatExpModelIds(n),o=[];if(i){let a=i?.split(",");for(let l of a){let c=await this.fetchModel(l.trim());c!==void 0&&(c.isExperimental=!0,o.push(c))}}return o.concat(await this.delegate.getMetadata())}async fetchModel(r){let n=this._exp_models_cache.get(r);if(n){let[o,a]=n;if(Date.now()-a<cxe)return o}let i=await this.delegate.fetchModel(r);if(i)return this._exp_models_cache.set(r,[i,Date.now()]),i}async acceptModelPolicy(r){return await this.delegate.acceptModelPolicy(r)}async getFallbackModel(){return await this.delegate.getFallbackModel()}};d();function dxe(e){let t=Mn(e,bt.UserSelectedCompletionModel);return typeof t=="string"&&t.length>0?t:null}s(dxe,"getUserSelectedModelConfiguration");d();d();var Xot=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},hxe=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},YZ,_F,pxe,KZ=class extends xn{static{s(this,"AssertError")}constructor(t){let r=t.First();super(r===void 0?"Invalid Value":r.message),YZ.add(this),_F.set(this,void 0),Xot(this,_F,t,"f"),this.error=r}Errors(){return new b5(hxe(this,YZ,"m",pxe).call(this))}};_F=new WeakMap,YZ=new WeakSet,pxe=s(function*(){this.error&&(yield this.error),yield*hxe(this,_F,"f")},"_AssertError_Iterator");function mxe(e,t,r){if(!mi(e,t,r))throw new KZ(rg(e,t,r))}s(mxe,"AssertValue");function SF(...e){return e.length===3?mxe(e[0],e[1],e[2]):mxe(e[0],[],e[1])}s(SF,"Assert");d();d();d();function Zot(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Yi(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Yi(e[r]);return t}s(Zot,"FromObject");function est(e){return e.map(t=>Yi(t))}s(est,"FromArray");function tst(e){return e.slice()}s(tst,"FromTypedArray");function rst(e){return new Map(Yi([...e.entries()]))}s(rst,"FromMap");function nst(e){return new Set(Yi([...e.entries()]))}s(nst,"FromSet");function ist(e){return new Date(e.toISOString())}s(ist,"FromDate");function Yi(e){if(Cn(e))return est(e);if(u0(e))return ist(e);if(pd(e))return tst(e);if(o1e(e))return rst(e);if(s1e(e))return nst(e);if(ui(e))return Zot(e);if(Vu(e))return e;throw new Error("ValueClone: Unable to clone value")}s(Yi,"Clone");var af=class extends xn{static{s(this,"ValueCreateError")}constructor(t,r){super(r),this.schema=t}};function Ki(e){return n5(e)?e():Yi(e)}s(Ki,"FromDefault");function ost(e,t){return yn(e,"default")?Ki(e.default):{}}s(ost,"FromAny");function sst(e,t){return{}}s(sst,"FromArgument");function ast(e,t){if(e.uniqueItems===!0&&!yn(e,"default"))throw new af(e,"Array with the uniqueItems constraint requires a default value");if("contains"in e&&!yn(e,"default"))throw new af(e,"Array with the contains constraint requires a default value");return"default"in e?Ki(e.default):e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>ou(e.items,t)):[]}s(ast,"FromArray");function lst(e,t){return yn(e,"default")?Ki(e.default):async function*(){}()}s(lst,"FromAsyncIterator");function cst(e,t){return yn(e,"default")?Ki(e.default):BigInt(0)}s(cst,"FromBigInt");function ust(e,t){return yn(e,"default")?Ki(e.default):!1}s(ust,"FromBoolean");function fst(e,t){if(yn(e,"default"))return Ki(e.default);{let r=ou(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,i]of Object.entries(r)){let o=this;o[n]=i}}}:class{}}}s(fst,"FromConstructor");function dst(e,t){return yn(e,"default")?Ki(e.default):e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}s(dst,"FromDate");function mst(e,t){return yn(e,"default")?Ki(e.default):()=>ou(e.returns,t)}s(mst,"FromFunction");function hst(e,t){let r=globalThis.Object.values(e.$defs),n=e.$defs[e.$ref];return ou(n,[...t,...r])}s(hst,"FromImport");function pst(e,t){return yn(e,"default")?Ki(e.default):e.minimum!==void 0?e.minimum:0}s(pst,"FromInteger");function gst(e,t){if(yn(e,"default"))return Ki(e.default);{let r=e.allOf.reduce((n,i)=>{let o=ou(i,t);return typeof o=="object"?{...n,...o}:o},{});if(!mi(e,t,r))throw new af(e,"Intersect produced invalid value. Consider using a default value.");return r}}s(gst,"FromIntersect");function Ast(e,t){return yn(e,"default")?Ki(e.default):function*(){}()}s(Ast,"FromIterator");function yst(e,t){return yn(e,"default")?Ki(e.default):e.const}s(yst,"FromLiteral");function Cst(e,t){if(yn(e,"default"))return Ki(e.default);throw new af(e,"Never types cannot be created. Consider using a default value.")}s(Cst,"FromNever");function xst(e,t){if(yn(e,"default"))return Ki(e.default);throw new af(e,"Not types must have a default value")}s(xst,"FromNot");function vst(e,t){return yn(e,"default")?Ki(e.default):null}s(vst,"FromNull");function bst(e,t){return yn(e,"default")?Ki(e.default):e.minimum!==void 0?e.minimum:0}s(bst,"FromNumber");function Est(e,t){if(yn(e,"default"))return Ki(e.default);{let r=new Set(e.required),n={};for(let[i,o]of Object.entries(e.properties))r.has(i)&&(n[i]=ou(o,t));return n}}s(Est,"FromObject");function Ist(e,t){return yn(e,"default")?Ki(e.default):Promise.resolve(ou(e.item,t))}s(Ist,"FromPromise");function Tst(e,t){let[r,n]=Object.entries(e.patternProperties)[0];if(yn(e,"default"))return Ki(e.default);if(r===$p||r===Vp)return{};{let i=r.slice(1,r.length-1).split("|"),o={};for(let a of i)o[a]=ou(n,t);return o}}s(Tst,"FromRecord");function wst(e,t){return yn(e,"default")?Ki(e.default):ou($i(e,t),t)}s(wst,"FromRef");function _st(e,t){if(yn(e,"default"))return Ki(e.default);throw new af(e,"RegExp types cannot be created. Consider using a default value.")}s(_st,"FromRegExp");function Sst(e,t){if(e.pattern!==void 0){if(yn(e,"default"))return Ki(e.default);throw new af(e,"String types with patterns must specify a default value")}else if(e.format!==void 0){if(yn(e,"default"))return Ki(e.default);throw new af(e,"String types with formats must specify a default value")}else return yn(e,"default")?Ki(e.default):e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>" ").join(""):""}s(Sst,"FromString");function Rst(e,t){return yn(e,"default")?Ki(e.default):"value"in e?Symbol.for(e.value):Symbol()}s(Rst,"FromSymbol");function kst(e,t){if(yn(e,"default"))return Ki(e.default);if(!qN(e))throw new af(e,"Can only create template literals that produce a finite variants. Consider using a default value.");return gI(e)[0]}s(kst,"FromTemplateLiteral");function Bst(e,t){if(gxe++>Ost)throw new af(e,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return yn(e,"default")?Ki(e.default):ou($i(e,t),t)}s(Bst,"FromThis");function Dst(e,t){return yn(e,"default")?Ki(e.default):e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>ou(e.items[n],t))}s(Dst,"FromTuple");function Pst(e,t){if(yn(e,"default"))return Ki(e.default)}s(Pst,"FromUndefined");function Nst(e,t){if(yn(e,"default"))return Ki(e.default);if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return ou(e.anyOf[0],t)}s(Nst,"FromUnion");function Lst(e,t){return yn(e,"default")?Ki(e.default):e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}s(Lst,"FromUint8Array");function Fst(e,t){return yn(e,"default")?Ki(e.default):{}}s(Fst,"FromUnknown");function Mst(e,t){if(yn(e,"default"))return Ki(e.default)}s(Mst,"FromVoid");function Qst(e,t){if(yn(e,"default"))return Ki(e.default);throw new Error("User defined types must specify a default value")}s(Qst,"FromKind");function ou(e,t){let r=Sl(e,t),n=e;switch(n[ot]){case"Any":return ost(n,r);case"Argument":return sst(n,r);case"Array":return ast(n,r);case"AsyncIterator":return lst(n,r);case"BigInt":return cst(n,r);case"Boolean":return ust(n,r);case"Constructor":return fst(n,r);case"Date":return dst(n,r);case"Function":return mst(n,r);case"Import":return hst(n,r);case"Integer":return pst(n,r);case"Intersect":return gst(n,r);case"Iterator":return Ast(n,r);case"Literal":return yst(n,r);case"Never":return Cst(n,r);case"Not":return xst(n,r);case"Null":return vst(n,r);case"Number":return bst(n,r);case"Object":return Est(n,r);case"Promise":return Ist(n,r);case"Record":return Tst(n,r);case"Ref":return wst(n,r);case"RegExp":return _st(n,r);case"String":return Sst(n,r);case"Symbol":return Rst(n,r);case"TemplateLiteral":return kst(n,r);case"This":return Bst(n,r);case"Tuple":return Dst(n,r);case"Undefined":return Pst(n,r);case"Union":return Nst(n,r);case"Uint8Array":return Lst(n,r);case"Unknown":return Fst(n,r);case"Void":return Mst(n,r);default:if(!f0.Has(n[ot]))throw new af(n,"Unknown type");return Qst(n,r)}}s(ou,"Visit");var Ost=512,gxe=0;function kd(...e){return gxe=0,e.length===2?ou(e[0],e[1]):ou(e[0],[])}s(kd,"Create");var RF=class extends xn{static{s(this,"ValueCastError")}constructor(t,r){super(r),this.schema=t}};function Ust(e,t,r){if(e[ot]==="Object"&&typeof r=="object"&&!J1(r)){let n=e,i=Object.getOwnPropertyNames(r),o=Object.entries(n.properties),[a,l]=[1/o.length,o.length];return o.reduce((c,[u,f])=>{let m=f[ot]==="Literal"&&f.const===r[u]?l:0,h=mi(f,t,r[u])?a:0,p=i.includes(u)?a:0;return c+(m+h+p)},0)}else return mi(e,t,r)?1:0}s(Ust,"ScoreUnion");function qst(e,t,r){let n=e.anyOf.map(a=>$i(a,t)),[i,o]=[n[0],0];for(let a of n){let l=Ust(a,t,r);l>o&&(i=a,o=l)}return i}s(qst,"SelectUnion");function Wst(e,t,r){if("default"in e)return typeof r=="function"?e.default:Yi(e.default);{let n=qst(e,t,r);return x_(n,t,r)}}s(Wst,"CastUnion");function Gst(e,t,r){return mi(e,t,r)?Yi(r):kd(e,t)}s(Gst,"DefaultClone");function Hst(e,t,r){return mi(e,t,r)?r:kd(e,t)}s(Hst,"Default");function jst(e,t,r){if(mi(e,t,r))return Yi(r);let n=Cn(r)?Yi(r):kd(e,t),i=Xr(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=(Xr(e.maxItems)&&i.length>e.maxItems?i.slice(0,e.maxItems):i).map(c=>uh(e.items,t,c));if(e.uniqueItems!==!0)return a;let l=[...new Set(a)];if(!mi(e,t,l))throw new RF(e,"Array cast produced invalid data due to uniqueItems constraint");return l}s(jst,"FromArray");function Vst(e,t,r){if(mi(e,t,r))return kd(e,t);let n=new Set(e.returns.required||[]),i=s(function(){},"result");for(let[o,a]of Object.entries(e.returns.properties))!n.has(o)&&r.prototype[o]===void 0||(i.prototype[o]=uh(a,t,r.prototype[o]));return i}s(Vst,"FromConstructor");function $st(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return uh(i,[...t,...n],r)}s($st,"FromImport");function zst(e,t,r){let n=kd(e,t),i=ui(n)&&ui(r)?{...n,...r}:r;return mi(e,t,i)?i:kd(e,t)}s(zst,"FromIntersect");function Yst(e,t,r){throw new RF(e,"Never types cannot be cast")}s(Yst,"FromNever");function Kst(e,t,r){if(mi(e,t,r))return r;if(r===null||typeof r!="object")return kd(e,t);let n=new Set(e.required||[]),i={};for(let[o,a]of Object.entries(e.properties))!n.has(o)&&r[o]===void 0||(i[o]=uh(a,t,r[o]));if(typeof e.additionalProperties=="object"){let o=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))o.includes(a)||(i[a]=uh(e.additionalProperties,t,r[a]))}return i}s(Kst,"FromObject");function Jst(e,t,r){if(mi(e,t,r))return Yi(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return kd(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[n],o={};for(let[a,l]of Object.entries(r))o[a]=uh(i,t,l);return o}s(Jst,"FromRecord");function Xst(e,t,r){return uh($i(e,t),t,r)}s(Xst,"FromRef");function Zst(e,t,r){return uh($i(e,t),t,r)}s(Zst,"FromThis");function eat(e,t,r){return mi(e,t,r)?Yi(r):Cn(r)?e.items===void 0?[]:e.items.map((n,i)=>uh(n,t,r[i])):kd(e,t)}s(eat,"FromTuple");function tat(e,t,r){return mi(e,t,r)?Yi(r):Wst(e,t,r)}s(tat,"FromUnion");function uh(e,t,r){let n=Oi(e.$id)?Sl(e,t):t,i=e;switch(e[ot]){case"Array":return jst(i,n,r);case"Constructor":return Vst(i,n,r);case"Import":return $st(i,n,r);case"Intersect":return zst(i,n,r);case"Never":return Yst(i,n,r);case"Object":return Kst(i,n,r);case"Record":return Jst(i,n,r);case"Ref":return Xst(i,n,r);case"This":return Zst(i,n,r);case"Tuple":return eat(i,n,r);case"Union":return tat(i,n,r);case"Date":case"Symbol":case"Uint8Array":return Gst(e,t,r);default:return Hst(i,n,r)}}s(uh,"Visit");function x_(...e){return e.length===3?uh(e[0],e[1],e[2]):uh(e[0],[],e[1])}s(x_,"Cast");d();function rat(e){return o5(e)&&e[ot]!=="Unsafe"}s(rat,"IsCheckable");function nat(e,t,r){return Cn(r)?r.map(n=>su(e.items,t,n)):r}s(nat,"FromArray");function iat(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return su(i,[...t,...n],r)}s(iat,"FromImport");function oat(e,t,r){let n=e.unevaluatedProperties,o=e.allOf.map(l=>su(l,t,Yi(r))).reduce((l,c)=>ui(c)?{...l,...c}:c,{});if(!ui(r)||!ui(o)||!o5(n))return o;let a=J0(e);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||mi(n,t,r[l])&&(o[l]=su(n,t,r[l]));return o}s(oat,"FromIntersect");function sat(e,t,r){if(!ui(r)||Cn(r))return r;let n=e.additionalProperties;for(let i of Object.getOwnPropertyNames(r)){if(yn(e.properties,i)){r[i]=su(e.properties[i],t,r[i]);continue}if(o5(n)&&mi(n,t,r[i])){r[i]=su(n,t,r[i]);continue}delete r[i]}return r}s(sat,"FromObject");function aat(e,t,r){if(!ui(r))return r;let n=e.additionalProperties,i=Object.getOwnPropertyNames(r),[o,a]=Object.entries(e.patternProperties)[0],l=new RegExp(o);for(let c of i){if(l.test(c)){r[c]=su(a,t,r[c]);continue}if(o5(n)&&mi(n,t,r[c])){r[c]=su(n,t,r[c]);continue}delete r[c]}return r}s(aat,"FromRecord");function lat(e,t,r){return su($i(e,t),t,r)}s(lat,"FromRef");function cat(e,t,r){return su($i(e,t),t,r)}s(cat,"FromThis");function uat(e,t,r){if(!Cn(r))return r;if(ls(e.items))return[];let n=Math.min(r.length,e.items.length);for(let i=0;i<n;i++)r[i]=su(e.items[i],t,r[i]);return r.length>n?r.slice(0,n):r}s(uat,"FromTuple");function fat(e,t,r){for(let n of e.anyOf)if(rat(n)&&mi(n,t,r))return su(n,t,r);return r}s(fat,"FromUnion");function su(e,t,r){let n=Oi(e.$id)?Sl(e,t):t,i=e;switch(i[ot]){case"Array":return nat(i,n,r);case"Import":return iat(i,n,r);case"Intersect":return oat(i,n,r);case"Object":return sat(i,n,r);case"Record":return aat(i,n,r);case"Ref":return lat(i,n,r);case"This":return cat(i,n,r);case"Tuple":return uat(i,n,r);case"Union":return fat(i,n,r);default:return r}}s(su,"Visit");function kF(...e){return e.length===3?su(e[0],e[1],e[2]):su(e[0],[],e[1])}s(kF,"Clean");d();function BF(e){return Oi(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}s(BF,"IsStringNumeric");function dat(e){return tc(e)||jp(e)||Xr(e)}s(dat,"IsValueToString");function v_(e){return e===!0||Xr(e)&&e===1||tc(e)&&e===BigInt("1")||Oi(e)&&(e.toLowerCase()==="true"||e==="1")}s(v_,"IsValueTrue");function b_(e){return e===!1||Xr(e)&&(e===0||Object.is(e,-0))||tc(e)&&e===BigInt("0")||Oi(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}s(b_,"IsValueFalse");function mat(e){return Oi(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}s(mat,"IsTimeStringWithTimeZone");function hat(e){return Oi(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}s(hat,"IsTimeStringWithoutTimeZone");function pat(e){return Oi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}s(pat,"IsDateTimeStringWithTimeZone");function gat(e){return Oi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}s(gat,"IsDateTimeStringWithoutTimeZone");function Aat(e){return Oi(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}s(Aat,"IsDateString");function yat(e,t){let r=yxe(e);return r===t?r:e}s(yat,"TryConvertLiteralString");function Cat(e,t){let r=Cxe(e);return r===t?r:e}s(Cat,"TryConvertLiteralNumber");function xat(e,t){let r=Axe(e);return r===t?r:e}s(xat,"TryConvertLiteralBoolean");function vat(e,t){return Oi(e.const)?yat(t,e.const):Xr(e.const)?Cat(t,e.const):jp(e.const)?xat(t,e.const):t}s(vat,"TryConvertLiteral");function Axe(e){return v_(e)?!0:b_(e)?!1:e}s(Axe,"TryConvertBoolean");function bat(e){let t=s(r=>r.split(".")[0],"truncateInteger");return BF(e)?BigInt(t(e)):Xr(e)?BigInt(Math.trunc(e)):b_(e)?BigInt(0):v_(e)?BigInt(1):e}s(bat,"TryConvertBigInt");function yxe(e){return X1(e)&&e.description!==void 0?e.description.toString():dat(e)?e.toString():e}s(yxe,"TryConvertString");function Cxe(e){return BF(e)?parseFloat(e):v_(e)?1:b_(e)?0:e}s(Cxe,"TryConvertNumber");function Eat(e){return BF(e)?parseInt(e):Xr(e)?Math.trunc(e):v_(e)?1:b_(e)?0:e}s(Eat,"TryConvertInteger");function Iat(e){return Oi(e)&&e.toLowerCase()==="null"?null:e}s(Iat,"TryConvertNull");function Tat(e){return Oi(e)&&e==="undefined"?void 0:e}s(Tat,"TryConvertUndefined");function wat(e){return u0(e)?e:Xr(e)?new Date(e):v_(e)?new Date(1):b_(e)?new Date(0):BF(e)?new Date(parseInt(e)):hat(e)?new Date(`1970-01-01T${e}.000Z`):mat(e)?new Date(`1970-01-01T${e}`):gat(e)?new Date(`${e}.000Z`):pat(e)?new Date(e):Aat(e)?new Date(`${e}T00:00:00.000Z`):e}s(wat,"TryConvertDate");function _at(e,t,r){return(Cn(r)?r:[r]).map(i=>fh(e.items,t,i))}s(_at,"FromArray");function Sat(e,t,r){return bat(r)}s(Sat,"FromBigInt");function Rat(e,t,r){return Axe(r)}s(Rat,"FromBoolean");function kat(e,t,r){return wat(r)}s(kat,"FromDate");function Bat(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return fh(i,[...t,...n],r)}s(Bat,"FromImport");function Dat(e,t,r){return Eat(r)}s(Dat,"FromInteger");function Pat(e,t,r){return e.allOf.reduce((n,i)=>fh(i,t,n),r)}s(Pat,"FromIntersect");function Nat(e,t,r){return vat(e,r)}s(Nat,"FromLiteral");function Lat(e,t,r){return Iat(r)}s(Lat,"FromNull");function Fat(e,t,r){return Cxe(r)}s(Fat,"FromNumber");function Mat(e,t,r){if(!ui(r))return r;for(let n of Object.getOwnPropertyNames(e.properties))yn(r,n)&&(r[n]=fh(e.properties[n],t,r[n]));return r}s(Mat,"FromObject");function Qat(e,t,r){if(!ui(r))return r;let i=Object.getOwnPropertyNames(e.patternProperties)[0],o=e.patternProperties[i];for(let[a,l]of Object.entries(r))r[a]=fh(o,t,l);return r}s(Qat,"FromRecord");function Oat(e,t,r){return fh($i(e,t),t,r)}s(Oat,"FromRef");function Uat(e,t,r){return yxe(r)}s(Uat,"FromString");function qat(e,t,r){return Oi(r)||Xr(r)?Symbol(r):r}s(qat,"FromSymbol");function Wat(e,t,r){return fh($i(e,t),t,r)}s(Wat,"FromThis");function Gat(e,t,r){return Cn(r)&&!ls(e.items)?r.map((i,o)=>o<e.items.length?fh(e.items[o],t,i):i):r}s(Gat,"FromTuple");function Hat(e,t,r){return Tat(r)}s(Hat,"FromUndefined");function jat(e,t,r){for(let n of e.anyOf){let i=fh(n,t,Yi(r));if(mi(n,t,i))return i}return r}s(jat,"FromUnion");function fh(e,t,r){let n=Sl(e,t),i=e;switch(e[ot]){case"Array":return _at(i,n,r);case"BigInt":return Sat(i,n,r);case"Boolean":return Rat(i,n,r);case"Date":return kat(i,n,r);case"Import":return Bat(i,n,r);case"Integer":return Dat(i,n,r);case"Intersect":return Pat(i,n,r);case"Literal":return Nat(i,n,r);case"Null":return Lat(i,n,r);case"Number":return Fat(i,n,r);case"Object":return Mat(i,n,r);case"Record":return Qat(i,n,r);case"Ref":return Oat(i,n,r);case"String":return Uat(i,n,r);case"Symbol":return qat(i,n,r);case"This":return Wat(i,n,r);case"Tuple":return Gat(i,n,r);case"Undefined":return Hat(i,n,r);case"Union":return jat(i,n,r);default:return r}}s(fh,"Visit");function DF(...e){return e.length===3?fh(e[0],e[1],e[2]):fh(e[0],[],e[1])}s(DF,"Convert");d();function xxe(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!mi(t,r,n))throw new YI(t,n,rg(t,r,n).First());return cA(t,r)?KI(t,r,n):n}s(xxe,"Decode");d();function dA(e,t){let r=yn(e,"default")?e.default:void 0,n=n5(r)?r():Yi(r);return ls(t)?n:ui(t)&&ui(n)?Object.assign(n,t):t}s(dA,"ValueOrDefault");function JZ(e){return o5(e)&&"default"in e}s(JZ,"HasDefaultProperty");function Vat(e,t,r){if(Cn(r)){for(let i=0;i<r.length;i++)r[i]=h0(e.items,t,r[i]);return r}let n=dA(e,r);if(!Cn(n))return n;for(let i=0;i<n.length;i++)n[i]=h0(e.items,t,n[i]);return n}s(Vat,"FromArray");function $at(e,t,r){return u0(r)?r:dA(e,r)}s($at,"FromDate");function zat(e,t,r){let n=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return h0(i,[...t,...n],r)}s(zat,"FromImport");function Yat(e,t,r){let n=dA(e,r);return e.allOf.reduce((i,o)=>{let a=h0(o,t,n);return ui(a)?{...i,...a}:a},{})}s(Yat,"FromIntersect");function Kat(e,t,r){let n=dA(e,r);if(!ui(n))return n;let i=Object.getOwnPropertyNames(e.properties);for(let o of i){let a=h0(e.properties[o],t,n[o]);ls(a)||(n[o]=h0(e.properties[o],t,n[o]))}if(!JZ(e.additionalProperties))return n;for(let o of Object.getOwnPropertyNames(n))i.includes(o)||(n[o]=h0(e.additionalProperties,t,n[o]));return n}s(Kat,"FromObject");function Jat(e,t,r){let n=dA(e,r);if(!ui(n))return n;let i=e.additionalProperties,[o,a]=Object.entries(e.patternProperties)[0],l=new RegExp(o);for(let c of Object.getOwnPropertyNames(n))l.test(c)&&JZ(a)&&(n[c]=h0(a,t,n[c]));if(!JZ(i))return n;for(let c of Object.getOwnPropertyNames(n))l.test(c)||(n[c]=h0(i,t,n[c]));return n}s(Jat,"FromRecord");function Xat(e,t,r){return h0($i(e,t),t,dA(e,r))}s(Xat,"FromRef");function Zat(e,t,r){return h0($i(e,t),t,r)}s(Zat,"FromThis");function elt(e,t,r){let n=dA(e,r);if(!Cn(n)||ls(e.items))return n;let[i,o]=[e.items,Math.max(e.items.length,n.length)];for(let a=0;a<o;a++)a<i.length&&(n[a]=h0(i[a],t,n[a]));return n}s(elt,"FromTuple");function tlt(e,t,r){let n=dA(e,r);for(let i of e.anyOf){let o=h0(i,t,Yi(n));if(mi(i,t,o))return o}return n}s(tlt,"FromUnion");function h0(e,t,r){let n=Sl(e,t),i=e;switch(i[ot]){case"Array":return Vat(i,n,r);case"Date":return $at(i,n,r);case"Import":return zat(i,n,r);case"Intersect":return Yat(i,n,r);case"Object":return Kat(i,n,r);case"Record":return Jat(i,n,r);case"Ref":return Xat(i,n,r);case"This":return Zat(i,n,r);case"Tuple":return elt(i,n,r);case"Union":return tlt(i,n,r);default:return dA(i,r)}}s(h0,"Visit");function PF(...e){return e.length===3?h0(e[0],e[1],e[2]):h0(e[0],[],e[1])}s(PF,"Default");d();d();var dh={};V1(dh,{Delete:()=>nlt,Format:()=>E_,Get:()=>olt,Has:()=>ilt,Set:()=>rlt,ValuePointerRootDeleteError:()=>LF,ValuePointerRootSetError:()=>NF});d();var NF=class extends xn{static{s(this,"ValuePointerRootSetError")}constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}},LF=class extends xn{static{s(this,"ValuePointerRootDeleteError")}constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};function vxe(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}s(vxe,"Escape");function*E_(e){if(e==="")return;let[t,r]=[0,0];for(let n=0;n<e.length;n++)e.charAt(n)==="/"?(n===0||(r=n,yield vxe(e.slice(t,r))),t=n+1):r=n;yield vxe(e.slice(t))}s(E_,"Format");function rlt(e,t,r){if(t==="")throw new NF(e,t,r);let[n,i,o]=[null,e,""];for(let a of E_(t))i[a]===void 0&&(i[a]={}),n=i,i=i[a],o=a;n[o]=r}s(rlt,"Set");function nlt(e,t){if(t==="")throw new LF(e,t);let[r,n,i]=[null,e,""];for(let o of E_(t)){if(n[o]===void 0||n[o]===null)return;r=n,n=n[o],i=o}if(Array.isArray(r)){let o=parseInt(i);r.splice(o,1)}else delete r[i]}s(nlt,"Delete");function ilt(e,t){if(t==="")return!0;let[r,n,i]=[null,e,""];for(let o of E_(t)){if(n[o]===void 0)return!1;r=n,n=n[o],i=o}return Object.getOwnPropertyNames(r).includes(i)}s(ilt,"Has");function olt(e,t){if(t==="")return e;let r=e;for(let n of E_(t)){if(r[n]===void 0)return;r=r[n]}return r}s(olt,"Get");d();function slt(e,t){if(!ui(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(i=>tv(e[i],t[i]))}s(slt,"ObjectType");function alt(e,t){return u0(t)&&e.getTime()===t.getTime()}s(alt,"DateType");function llt(e,t){return!Cn(t)||e.length!==t.length?!1:e.every((r,n)=>tv(r,t[n]))}s(llt,"ArrayType");function clt(e,t){return!pd(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>tv(r,t[n]))}s(clt,"TypedArrayType");function ult(e,t){return e===t}s(ult,"ValueType");function tv(e,t){if(u0(e))return alt(e,t);if(pd(e))return clt(e,t);if(Cn(e))return llt(e,t);if(ui(e))return slt(e,t);if(Vu(e))return ult(e,t);throw new Error("ValueEquals: Unable to compare value")}s(tv,"Equal");var flt=ao({type:Bi("insert"),path:d0(),value:eh()}),dlt=ao({type:Bi("update"),path:d0(),value:eh()}),mlt=ao({type:Bi("delete"),path:d0()}),Exe=so([flt,dlt,mlt]),FF=class extends xn{static{s(this,"ValueDiffError")}constructor(t,r){super(r),this.value=t}};function MF(e,t){return{type:"update",path:e,value:t}}s(MF,"CreateUpdate");function Ixe(e,t){return{type:"insert",path:e,value:t}}s(Ixe,"CreateInsert");function Txe(e){return{type:"delete",path:e}}s(Txe,"CreateDelete");function bxe(e){if(globalThis.Object.getOwnPropertySymbols(e).length>0)throw new FF(e,"Cannot diff objects with symbols")}s(bxe,"AssertDiffable");function*hlt(e,t,r){if(bxe(t),bxe(r),!cJ(r))return yield MF(e,r);let n=globalThis.Object.getOwnPropertyNames(t),i=globalThis.Object.getOwnPropertyNames(r);for(let o of i)yn(t,o)||(yield Ixe(`${e}/${o}`,r[o]));for(let o of n)yn(r,o)&&(tv(t,r)||(yield*QF(`${e}/${o}`,t[o],r[o])));for(let o of n)yn(r,o)||(yield Txe(`${e}/${o}`))}s(hlt,"ObjectType");function*plt(e,t,r){if(!Cn(r))return yield MF(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*QF(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield Ixe(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield Txe(`${e}/${n}`))}s(plt,"ArrayType");function*glt(e,t,r){if(!pd(r)||t.length!==r.length||globalThis.Object.getPrototypeOf(t).constructor.name!==globalThis.Object.getPrototypeOf(r).constructor.name)return yield MF(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*QF(`${e}/${n}`,t[n],r[n])}s(glt,"TypedArrayType");function*Alt(e,t,r){t!==r&&(yield MF(e,r))}s(Alt,"ValueType");function*QF(e,t,r){if(cJ(t))return yield*hlt(e,t,r);if(Cn(t))return yield*plt(e,t,r);if(pd(t))return yield*glt(e,t,r);if(Vu(t))return yield*Alt(e,t,r);throw new FF(t,"Unable to diff value")}s(QF,"Visit");function wxe(e,t){return[...QF("",e,t)]}s(wxe,"Diff");function ylt(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}s(ylt,"IsRootUpdate");function Clt(e){return e.length===0}s(Clt,"IsIdentity");function _xe(e,t){if(ylt(t))return Yi(t[0].value);if(Clt(t))return Yi(e);let r=Yi(e);for(let n of t)switch(n.type){case"insert":{dh.Set(r,n.path,n.value);break}case"update":{dh.Set(r,n.path,n.value);break}case"delete":{dh.Delete(r,n.path);break}}return r}s(_xe,"Patch");d();function Sxe(...e){let[t,r,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]],i=cA(t,r)?XI(t,r,n):n;if(!mi(t,r,i))throw new JI(t,i,rg(t,r,i).First());return i}s(Sxe,"Encode");d();function OF(e){return ui(e)&&!Cn(e)}s(OF,"IsStandardObject");var UF=class extends xn{static{s(this,"ValueMutateError")}constructor(t){super(t)}};function xlt(e,t,r,n){if(!OF(r))dh.Set(e,t,Yi(n));else{let i=Object.getOwnPropertyNames(r),o=Object.getOwnPropertyNames(n);for(let a of i)o.includes(a)||delete r[a];for(let a of o)i.includes(a)||(r[a]=null);for(let a of o)XZ(e,`${t}/${a}`,r[a],n[a])}}s(xlt,"ObjectType");function vlt(e,t,r,n){if(!Cn(r))dh.Set(e,t,Yi(n));else{for(let i=0;i<n.length;i++)XZ(e,`${t}/${i}`,r[i],n[i]);r.splice(n.length)}}s(vlt,"ArrayType");function blt(e,t,r,n){if(pd(r)&&r.length===n.length)for(let i=0;i<r.length;i++)r[i]=n[i];else dh.Set(e,t,Yi(n))}s(blt,"TypedArrayType");function Elt(e,t,r,n){r!==n&&dh.Set(e,t,n)}s(Elt,"ValueType");function XZ(e,t,r,n){if(Cn(n))return vlt(e,t,r,n);if(pd(n))return blt(e,t,r,n);if(OF(n))return xlt(e,t,r,n);if(Vu(n))return Elt(e,t,r,n)}s(XZ,"Visit");function Rxe(e){return pd(e)||Vu(e)}s(Rxe,"IsNonMutableValue");function Ilt(e,t){return OF(e)&&Cn(t)||Cn(e)&&OF(t)}s(Ilt,"IsMismatchedValue");function kxe(e,t){if(Rxe(e)||Rxe(t))throw new UF("Only object and array types can be mutated at the root level");if(Ilt(e,t))throw new UF("Cannot assign due type mismatch of assignable values");XZ(e,"",e,t)}s(kxe,"Mutate");d();var qF=class extends xn{static{s(this,"ParseError")}constructor(t){super(t)}},ZZ;(function(e){let t=new Map([["Assert",(o,a,l)=>(SF(o,a,l),l)],["Cast",(o,a,l)=>x_(o,a,l)],["Clean",(o,a,l)=>kF(o,a,l)],["Clone",(o,a,l)=>Yi(l)],["Convert",(o,a,l)=>DF(o,a,l)],["Decode",(o,a,l)=>cA(o,a)?KI(o,a,l):l],["Default",(o,a,l)=>PF(o,a,l)],["Encode",(o,a,l)=>cA(o,a)?XI(o,a,l):l]]);function r(o){t.delete(o)}s(r,"Delete"),e.Delete=r;function n(o,a){t.set(o,a)}s(n,"Set"),e.Set=n;function i(o){return t.get(o)}s(i,"Get"),e.Get=i})(ZZ||(ZZ={}));var Bxe=["Clone","Clean","Default","Convert","Assert","Decode"];function Tlt(e,t,r,n){return e.reduce((i,o)=>{let a=ZZ.Get(o);if(ls(a))throw new qF(`Unable to find Parse operation '${o}'`);return a(t,r,i)},n)}s(Tlt,"ParseValue");function Dxe(...e){let[t,r,n,i]=e.length===4?[e[0],e[1],e[2],e[3]]:e.length===3?Cn(e[0])?[e[0],e[1],[],e[2]]:[Bxe,e[0],e[1],e[2]]:e.length===2?[Bxe,e[0],[],e[1]]:(()=>{throw new qF("Invalid Arguments")})();return Tlt(t,r,n,i)}s(Dxe,"Parse");d();var w5={};V1(w5,{Assert:()=>SF,Cast:()=>x_,Check:()=>mi,Clean:()=>kF,Clone:()=>Yi,Convert:()=>DF,Create:()=>kd,Decode:()=>xxe,Default:()=>PF,Diff:()=>wxe,Edit:()=>Exe,Encode:()=>Sxe,Equal:()=>tv,Errors:()=>rg,Hash:()=>v5,Mutate:()=>kxe,Parse:()=>Dxe,Patch:()=>_xe,ValueErrorIterator:()=>b5});d();var wlt={capabilities:{family:"gpt-3.5-turbo",object:"model_capabilities",supports:{streaming:!0},tokenizer:"cl100k_base",type:"completion"},id:"copilot-codex",model_picker_enabled:!0,name:"GPT-3.5 Turbo",object:"model",preview:!1,version:"copilot-codex"},_lt="gpt-4o-copilot",Bd=class e{constructor(t,r=!0){this._ctx=t;this.onModelsFetchedCallbacks=[];this.fetchedModelData=[];this.customModels=[];this.editorPreviewFeaturesDisabled=!1;r&&Ks(this._ctx,n=>this.refreshAvailableModels(n))}static{s(this,"AvailableModelsManager")}async refreshAvailableModels(t){await this.refreshModels(t);for(let r of this.onModelsFetchedCallbacks)r()}addHandler(t){this.onModelsFetchedCallbacks.push(t)}getDefaultModelId(){if(this.fetchedModelData){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled)[0];if(t)return t.id}return _lt}parseModelsResponse(t){try{return w5.Parse(fxe,t)}catch(r){Wn.exception(this._ctx,r,"Failed to parse /models response from CAPI");return}}async refreshModels(t){let r=await this.fetchModels(t);r&&(this.fetchedModelData=r)}async fetchModels(t){return this.customModels=t.getTokenValue("cml")?.split(",")??[],this.editorPreviewFeaturesDisabled=t.getTokenValue("editor_preview_features")=="0",t.getTokenValue("fcv1")=="1"?Promise.resolve([wlt]):await this.fetch()}async fetch(){let t=await ev(this._ctx,"/models");return t.ok?this.parseModelsResponse(await t.json())?.data??[]:(Wn.error(this._ctx,"Failed to fetch models from CAPI",{status:t.status,statusText:t.statusText}),null)}getGenericCompletionModels(){let t=e.filterCompletionModels(this.fetchedModelData,this.editorPreviewFeaturesDisabled);return e.mapCompletionModels(t)}static filterCompletionModels(t,r){return t.filter(n=>n.capabilities.type==="completion").filter(n=>!r||n.preview===!1||n.preview===void 0)}static filterModelsWithEditorPreviewFeatures(t,r){return t.filter(n=>!r||n.preview===!1||n.preview===void 0)}static mapCompletionModels(t){return t.map(r=>({modelId:r.id,label:r.name,preview:!!r.preview}))}getCurrentModelRequestInfo(t=void 0){let r=this.getDefaultModelId(),n=dxe(this._ctx);if(n){let l=this.getGenericCompletionModels().map(c=>c.modelId);l.includes(n)||(l.length>0&&Wn.error(this._ctx,`User selected model ${n} is not in the list of generic models: ${l.join(", ")}, falling back to default model.`),n=null),r===n&&(n=null)}let i=Mn(this._ctx,bt.DebugOverrideEngine)||Mn(this._ctx,bt.DebugOverrideEngineLegacy);if(i)return new _5(i,"override");let o=t?this._ctx.get(sr).customEngine(t):"",a=t?this._ctx.get(sr).customEngineTargetEngine(t):void 0;return n?o&&a&&n===a?new _5(o,"exp"):new _5(n,"modelpicker"):o?new _5(o,"exp"):this.customModels.length>0?new _5(this.customModels[0],"custommodel"):new _5(r,"default")}},_5=class{constructor(t,r){this.modelId=t;this.modelChoiceSource=r}static{s(this,"ModelRequestInfo")}get headers(){return{}}};function S5(e,t=void 0){let r=e.get(Bd).getCurrentModelRequestInfo(t);return{headers:r.headers,modelId:r.modelId,engineChoiceSource:r.modelChoiceSource}}s(S5,"getEngineRequestInfo");d();d();var vo=class{static{s(this,"FileSystem")}};var Kxe=Ze(Yxe());function Jxe(e){return e!==void 0&&e!==0}s(Jxe,"isRepoInfo");async function Xxe(e){let r=(await e.get(en).getToken()).organization_list??[];return AF(r)??""}s(Xxe,"getUserKind");async function I_(e,t){return(await e.get(en).getToken()).getTokenValue(t)??""}s(I_,"getTokenKeyValue");function Zxe(e){if(e===void 0||e===0)return"";let t=mA(e);if(t==="github/github")return t;let r=Zlt(e)?.toLowerCase();return r!==void 0?r:""}s(Zxe,"getDogFood");function mA(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}s(mA,"tryGetGitHubNWO");function Zlt(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}s(Zlt,"tryGetADONWO");function R5(e,t){let r=rf(t);return ect(e,r)}s(R5,"extractRepoInfoInBackground");var ect=ict(tct,1e4);async function tct(e,t){let r=H3e(t);if(!r)return;let n=await rct(e,r);if(!n)return;let i=e.get(vo),o=Do(n,".git","config"),a;try{a=await i.readFileString(o)}catch{return}let l=nct(a)??"",c=nee(l),u={uri:n};return c===void 0?{baseFolder:u,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:u,url:l,...c}}s(tct,"extractRepoInfo");function nee(e){let t;try{if(t=(0,Kxe.default)(e),t.resource==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.resource,owner:t.owner,repo:t.name,pathname:t.pathname}}s(nee,"parseRepoUrl");async function rct(e,t){let r=t+"_add_to_make_longer",n=e.get(vo);for(;t!=="file:///"&&t.length<r.length;){let i=Do(t,".git","config"),o=!1;try{await n.stat(i),o=!0}catch{o=!1}if(o)return t;r=t,t=rf(t)}}s(rct,"getRepoBaseUri");function nct(e){let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,i=/^\s*\[/,o,a,l=!1;for(let c of e.split(`
`))if(l&&o!==void 0){if(o+=c,c.endsWith("\\"))o=o.substring(0,o.length-1);else if(l=!1,a==="origin")return o}else{let u=c.match(t)??c.match(r);if(u)a=u[1];else if(c.match(i))a=void 0;else{if(o&&a!=="origin")continue;{let f=c.match(n);if(f){if(o=f[1],o.endsWith("\\"))o=o.substring(0,o.length-1),l=!0;else if(a==="origin")return o}}}}return o}s(nct,"getRepoUrlFromConfigText");var ree=class{static{s(this,"CompletedComputation")}constructor(t){this.result=t}};function ict(e,t){let r=new un(t),n=new Set;return(i,...o)=>{let a=JSON.stringify(o),l=r.get(a);if(l)return l.result;if(n.has(a))return 0;let c=e(i,...o);return n.add(a),c.then(u=>{r.set(a,new ree(u)),n.delete(a)}),0}}s(ict,"computeInBackgroundAndMemoize");d();d();d();d();d();d();d();var a8=class extends Error{constructor(r,n){super(r,{cause:n});this.code="CopilotPromptLoadFailure"}static{s(this,"CopilotPromptLoadFailure")}};d();var eve=Ze(require("node:fs/promises")),WF=Ze(require("node:path"));async function GF(e){return await eve.readFile(iee(e))}s(GF,"readFile");function iee(e){return WF.default.resolve(WF.default.extname(__filename)!==".ts"?__dirname:WF.default.resolve(__dirname,"../../dist"),e)}s(iee,"locateFile");var c8=Ze(hve());var l8=new Map;function lo(e="cl100k_base"){let t=l8.get(e);return t!==void 0?t:l8.get("cl100k_base")}s(lo,"getTokenizer");async function pve(e="cl100k_base"){return await gee,lo(e)}s(pve,"getTokenizerAsync");async function xct(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=await GF(e),r=new Map,n=[];for(let i=0;i<t.length;i++){if(t[i]!==255||n.length===0){n.push(t[i]);continue}r.set(Uint8Array.from(n),r.size),n=[]}return r.set(Uint8Array.from(n),r.size),r}s(xct,"parseTikTokenNoIndex");var YF=class e{constructor(t){this._tokenizer=t}static{s(this,"TTokenizer")}static async create(t){try{let r=(0,c8.createTokenizer)(await xct(`resources/${t}.tiktoken.noindex`),(0,c8.getSpecialTokensByEncoder)(t),(0,c8.getRegexByEncoder)(t),32768);return new e(r)}catch(r){throw r instanceof Error?new a8("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(n=>this.detokenize([n]))}takeLastTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,o=Math.min(t.length,r*n),a=t.slice(-o),l=this.tokenize(a);for(;l.length<r+2&&o<t.length;)o=Math.min(t.length,o+r*i),a=t.slice(-o),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(-r),{text:this.detokenize(l),tokens:l})}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,i=1,o=Math.min(t.length,r*n),a=t.slice(0,o),l=this.tokenize(a);for(;l.length<r+2&&o<t.length;)o=Math.min(t.length,o+r*i),a=t.slice(0,o),l=this.tokenize(a);return l.length<r?{text:t,tokens:l}:(l=l.slice(0,r),{text:this.detokenize(l),tokens:l})}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},hee=class{constructor(){this.hash=s(t=>{let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);r=(r<<5)-r+i,r&=r&65535}return r},"hash")}static{s(this,"MockTokenizer")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){let n=this.tokenizeStrings(t).slice(-r);return{text:n.join(""),tokens:n.map(this.hash)}}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let{text:n}=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let i=n.indexOf(`
`);return n.substring(i+1)}},pee=class{static{s(this,"ApproximateTokenizer")}tokenize(t){throw new Error("Not implemented")}detokenize(t){throw new Error("Not implemented")}tokenizeStrings(t){throw new Error("Not implemented")}tokenLength(t){return Math.ceil(t.length/4)}takeLastTokens(t,r){return r<=0?{text:"",tokens:[]}:{text:t.slice(-r*4),tokens:Array.from({length:r},(i,o)=>o)}}takeFirstTokens(t,r){throw new Error("Not implemented")}takeLastLinesTokens(t,r){throw new Error("Not implemented")}},gee=(async()=>{l8.set("mock",new hee),l8.set("approximate",new pee),l8.set("cl100k_base",await YF.create("cl100k_base")),l8.set("o200k_base",await YF.create("o200k_base"))})();var vct={tokenizerName:"cl100k_base"};function bct(e){return{...vct,...e}}s(bct,"cursorContextOptions");function __(e,t={}){let r=bct(t),n=lo(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let i=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(i=i.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(i=n.takeLastLinesTokens(i,r.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:n.tokenLength(i),tokenizerName:r.tokenizerName}}s(__,"getCursorContext");d();d();var Ect={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function gve(e,t){let r=Ect[e.semantics],n=["snippets"].includes(e.semantics)?"these":"this",o=(e.relativePath?`Compare ${n} ${r} from ${e.relativePath}:`:`Compare ${n} ${r}:`)+`
`+e.snippet;return o.endsWith(`
`)||(o+=`
`),o}s(gve,"announceSnippet");var Aee=class{constructor(t){this.keys=[];this.cache={};this.size=t}static{s(this,"FifoCache")}put(t,r){if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let n=this.keys.shift()??"";delete this.cache[n]}}get(t){return this.cache[t]}};var yee=class{static{s(this,"Tokenizer")}constructor(t){this.stopsForLanguage=_ct.get(t.languageId)??wct}tokenize(t){return new Set(Ict(t).filter(r=>!this.stopsForLanguage.has(r)))}},Ave=new Aee(20),u8=class{static{s(this,"WindowedMatcher")}constructor(t){this.referenceDoc=t,this.tokenizer=new yee(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){return this.referenceTokensCache??=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,i)=>n.score>i.score?1:-1):r=="descending"?t.sort((n,i)=>n.score>i.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){let n=[];if(t.source.length===0||(await this.referenceTokens).size===0)return n;let i=t.source.split(`
`),o=this.id()+":"+t.source,a=Ave.get(o)??[],l=a.length==0,c=l?i.map(u=>this.tokenizer.tokenize(u),this.tokenizer):[];for(let[u,[f,m]]of this.getWindowsDelineations(i).entries()){if(l){let g=new Set;c.slice(f,m).forEach(y=>y.forEach(x=>g.add(x),g)),a.push(g)}let h=a[u],p=this.similarityScore(h,await this.referenceTokens);if(n.length&&f>0&&n[n.length-1].endLine>f){n[n.length-1].score<p&&(n[n.length-1].score=p,n[n.length-1].startLine=f,n[n.length-1].endLine=m);continue}n.push({score:p,startLine:f,endLine:m})}return l&&Ave.put(o,a),this.sortScoredSnippets(n,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let n=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let o=[];for(let a=0;a<i.length&&a<r;a++)if(i[a].score!==0){let l=n.slice(i[a].startLine,i[a].endLine).join(`
`);o.push({snippet:l,semantics:"snippet",provider:"similar-files",...i[a]})}return o}};function Ict(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}s(Ict,"splitIntoWords");var Tct=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),wct=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...Tct]),_ct=new Map([]);d();d();d();function Cee(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}s(Cee,"virtualNode");function yve(e,t,r,n,i){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:i}}s(yve,"lineNode");function xee(e){return{type:"blank",lineNumber:e,subs:[]}}s(xee,"blankNode");function KF(e){return{type:"top",indentation:-1,subs:e??[]}}s(KF,"topNode");function cc(e){return e.type==="blank"}s(cc,"isBlank");function rv(e){return e.type==="line"}s(rv,"isLine");function nv(e){return e.type==="virtual"}s(nv,"isVirtual");function Cve(e,t){return Qc(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}s(Cve,"clearLabelsIf");function iv(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(n=>iv(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>iv(r,t)),label:e.label?t(e.label):void 0}}}s(iv,"mapLabels");function Qc(e,t,r){function n(i){r==="topDown"&&t(i),i.subs.forEach(o=>{n(o)}),r==="bottomUp"&&t(i)}s(n,"_visit"),n(e)}s(Qc,"visitTree");function vee(e,t,r,n){let i=t;function o(a){i=r(a,i)}return s(o,"visitor"),Qc(e,o,n),i}s(vee,"foldTree");function JF(e,t,r){let n=s(o=>{if(r!==void 0&&r(o))return o;{let a=o.subs.map(n).filter(l=>l!==void 0);return o.subs=a,t(o)}},"rebuild"),i=n(e);return i!==void 0?i:KF()}s(JF,"rebuildTree");d();function Rct(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function i(u){let[f,m]=o(u+1,r[u]);return[yve(r[u],u,n[u],f),m]}s(i,"parseNode");function o(u,f){let m,h=[],p=u,g;for(;p<n.length&&(n[p]===""||r[p]>f);)if(n[p]==="")g===void 0&&(g=p),p+=1;else{if(g!==void 0){for(let y=g;y<p;y++)h.push(xee(y));g=void 0}[m,p]=i(p),h.push(m)}return g!==void 0&&(p=g),[h,p]}s(o,"parseSubs");let[a,l]=o(0,-1),c=l;for(;c<n.length&&n[c]==="";)a.push(xee(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return KF(a)}s(Rct,"parseRaw");function S_(e,t){function r(n){if(rv(n)){let i=t.find(o=>o.matches(n.sourceLine));i&&(n.label=i.label)}}s(r,"visitor"),Qc(e,r,"bottomUp")}s(S_,"labelLines");function XF(e){function t(r){if(nv(r)&&r.label===void 0){let n=r.subs.filter(i=>!cc(i));n.length===1&&(r.label=n[0].label)}}s(t,"visitor"),Qc(e,t,"bottomUp")}s(XF,"labelVirtualInherited");function R_(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=s(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}s(R_,"buildLabelRules");function bee(e){let r=JF(e,s(function(n){if(n.subs.length===0||n.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return n;let i=[],o;for(let a=0;a<n.subs.length;a++){let l=n.subs[a],c=n.subs[a-1];if(l.label==="opener"&&c!==void 0&&rv(c))c.subs.push(l),l.subs.forEach(u=>c.subs.push(u)),l.subs=[];else if(l.label==="closer"&&o!==void 0&&(rv(l)||nv(l))&&l.indentation>=o.indentation){let u=i.length-1;for(;u>0&&cc(i[u]);)u-=1;if(o.subs.push(...i.splice(u+1)),l.subs.length>0){let f=o.subs.findIndex(g=>g.label!=="newVirtual"),m=o.subs.slice(0,f),h=o.subs.slice(f),p=h.length>0?[Cee(l.indentation,h,"newVirtual")]:[];o.subs=[...m,...p,l]}else o.subs.push(l)}else i.push(l),cc(l)||(o=l)}return n.subs=i,n},"rebuilder"));return Cve(e,n=>n==="newVirtual"),r}s(bee,"combineClosersAndOpeners");function xve(e,t=cc,r){return JF(e,s(function(i){if(i.subs.length<=1)return i;let o=[],a=[],l,c=!1;function u(f=!1){if(l!==void 0&&(o.length>0||!f)){let m=Cee(l,a,r);o.push(m)}else a.forEach(m=>o.push(m))}s(u,"flushBlockIntoNewSubs");for(let f=0;f<i.subs.length;f++){let m=i.subs[f],h=t(m);!h&&c&&(u(),a=[]),c=h,a.push(m),cc(m)||(l=l??m.indentation)}return u(!0),i.subs=o,i},"rebuilder"))}s(xve,"groupBlocks");function ov(e){return JF(e,s(function(r){return nv(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&nv(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}s(ov,"flattenVirtual");var kct={opener:/^[[({]/,closer:/^[\])}]/},Bct=R_(kct),vve={};function Eee(e,t){vve[e]=t}s(Eee,"registerLanguageSpecificParser");function k_(e,t){let r=Rct(e),n=vve[t??""];return n?n(r):(S_(r,Bct),bee(r))}s(k_,"parseTree");function ZF(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let i=0;i<n-e+1;i++)r.push([i,i+e]);return r}s(ZF,"getBasicWindowDelineations");var eM=class e extends u8{static{s(this,"FixedWindowSizeJaccardMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=s(t=>({to:s(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return ZF(this.windowLength,t)}_getCursorContextInfo(t){return __(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return Dct(t,r)}};function Dct(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}s(Dct,"computeScore");d();d();var tM=Ze(bve());var Tee={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java",php:"php"};function lf(e){return e in Tee&&e!=="csharp"&&e!=="java"&&e!=="php"}s(lf,"isSupportedLanguageId");function rM(e){if(!(e in Tee))throw new Error(`Unrecognized language: ${e}`);return Tee[e]}s(rM,"languageIdToWasmLanguage");var Iee=new Map;async function Pct(e){let t;try{t=await GF(`tree-sitter-${e}.wasm`)}catch(r){throw r instanceof Error&&"code"in r&&typeof r.code=="string"&&r.name==="Error"?new a8(`Could not load tree-sitter-${e}.wasm`,r):r}return tM.default.Language.load(t)}s(Pct,"loadWasmLanguage");function Nct(e){let t=rM(e);if(!Iee.has(t)){let r=Pct(t);Iee.set(t,r)}return Iee.get(t)}s(Nct,"getLanguage");var wee=class extends Error{static{s(this,"WrappedError")}constructor(t,r){super(t,{cause:r})}};async function hA(e,t){await tM.default.init({locateFile:s(o=>iee(o),"locateFile")});let r;try{r=new tM.default}catch(o){throw o&&typeof o=="object"&&"message"in o&&typeof o.message=="string"&&o.message.includes("table index is out of bounds")?new wee(`Could not init Parse for language <${e}>`,o):o}let n=await Nct(e);r.setLanguage(n);let i=r.parse(t);return r.delete(),i}s(hA,"parseTreeSitter");function Eve(e){switch(rM(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":case"php":return"}";case"ruby":return"end"}}s(Eve,"getBlockCloseToken");function Lct(e,t){let r=[];for(let n of e){if(!n[1]){let i=t.tree.getLanguage();n[1]=i.query(n[0])}r.push(...n[1].matches(t))}return r}s(Lct,"innerQuery");var Fct=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Ive(e){return Lct([Fct],e).length==1}s(Ive,"queryPythonIsDocstring");var nM=class e extends u8{static{s(this,"BlockTokenSubsetMatcher")}constructor(t,r){super(t),this.windowLength=r}static{this.FACTORY=s(t=>({to:s(r=>new e(r,t),"to")}),"FACTORY")}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return ZF(this.windowLength,t)}_getCursorContextInfo(t){return __(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=e.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){let t=(await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))?.startIndex,r=this.referenceDoc.offset,n=t?this.referenceDoc.source.slice(t,r):__(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(n)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return Mct(t,r)}async getEnclosingMemberStart(t,r){let n;try{n=await hA(this.referenceDoc.languageId,t);let i=n.rootNode.namedDescendantForIndex(r);for(;i&&!(e.isMember(i)||e.isBlock(i));)i=i.parent??void 0;return i}finally{n?.delete()}}static isMember(t){switch(t?.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t?.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};function Mct(e,t){let r=new Set;return t.forEach(n=>{e.has(n)&&r.add(n)}),r.size}s(Mct,"computeScore");var Qct=0,Oct=60,Uct=4,qct=1,Wct=20,Gct=1e4,_ee={snippetLength:Oct,threshold:Qct,maxTopSnippets:Uct,maxCharPerFile:Gct,maxNumberOfFiles:Wct,maxSnippetsPerFile:qct,useSubsetMatching:!1};var iM={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};function Hct(e,t){return(t.useSubsetMatching?nM.FACTORY(t.snippetLength):eM.FACTORY(t.snippetLength)).to(e)}s(Hct,"getMatcher");async function Tve(e,t,r){let n=Hct(e,r);return r.maxTopSnippets===0?[]:(await t.filter(o=>o.source.length<r.maxCharPerFile&&o.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(o,a)=>(await o).concat((await n.findMatches(a,r.maxSnippetsPerFile)).map(l=>({relativePath:a.relativePath,...l}))),Promise.resolve([]))).filter(o=>o.score&&o.snippet&&o.score>r.threshold).sort((o,a)=>o.score-a.score).slice(-r.maxTopSnippets)}s(Tve,"getSimilarSnippets");var B_=500,D_=8192-B_,wve=4;var oM=10,sM=15;var jct={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function P_(e){return e=e.toLowerCase(),jct[e]??e}s(P_,"normalizeLanguageId");var See=class{constructor(t){this.ctx=t;this.cache=new un(200)}static{s(this,"FilterSettingsToExpConfigs")}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new Ree(()=>this.ctx.get(lh).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){return this.cache.get(t.stringify())?.value()}},Ree=class{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}static{s(this,"Task")}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};function $ct(e){return"uri"in e}s($ct,"isCompletionsFiltersInfo");var sr=class e{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.dynamicFilterGroups=[];this.upcomingDynamicFilters={};this.assignments=new See(this.ctx)}static{s(this,"Features")}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}registerDynamicFilterGroup(t){this.dynamicFilterGroups.push(t)}getDynamicFilterValues(){let t={};for(let r of this.dynamicFilterGroups)Object.assign(t,r());for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments(t,r=dn.createAndMarkAsIssued()){if(r instanceof ng)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let n=t&&$ct(t)?R5(this.ctx,t.uri):void 0,i=mA(n)??"",o=Zxe(n)??"",a=t?.languageId??"",l=S5(this.ctx).modelId,c=await Xxe(this.ctx),u=await I_(this.ctx,"ft"),f=await I_(this.ctx,"ol"),m=await I_(this.ctx,"cml"),h=await I_(this.ctx,"tid"),p={"X-Copilot-Repository":i,"X-Copilot-FileType":a,"X-Copilot-UserKind":c,"X-Copilot-Dogfood":o,"X-Copilot-Engine":l,"X-Copilot-CustomModel":u,"X-Copilot-Orgs":f,"X-Copilot-CustomModelNames":m,"X-Copilot-CopilotTrackingId":h},g=this.getGranularityDirectory(),y=this.makeFilterSettings(p),x=g.extendFilters(y),b=await this.getExpConfig(x.newFilterSettings);g.update(y,+(b.variables.copilotbycallbuckets??NaN),+(b.variables.copilottimeperiodsizeinh??NaN));let E=g.extendFilters(y),_=E.newFilterSettings,k=await this.getExpConfig(_),B=new Promise(N=>setTimeout(N,e.upcomingDynamicFilterCheckDelayMs));for(let N of E.otherFilterSettingsToPrefetch)B=B.then(async()=>{await new Promise(M=>setTimeout(M,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(N)});return this.prepareForUpcomingFilters(_),new ng(r.properties,r.measurements,r.issuedTime,{filters:_,exp:k})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(Bs).machineId;this.granularityDirectory=new gF(t,this.ctx.get(Hp))}return this.granularityDirectory}makeFilterSettings(t){return new Bx({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return wd.createFallbackConfig(this.ctx,`Error fetching ExP config: ${String(r)}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-e.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(i=>setTimeout(i,e.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){let t=this.assignments.getCachedExpConfig(new Bx({}));return JSON.stringify(t?.variables??{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}disableLogProb(t){return t.filtersAndExp.exp.variables.copilotdisablelogprob??!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}customEngine(t){return t.filtersAndExp.exp.variables.copilotcustomengine??""}customEngineTargetEngine(t){return t.filtersAndExp.exp.variables.copilotcustomenginetargetengine}suffixPercent(t){return t.filtersAndExp.exp.variables.CopilotSuffixPercent??sM}suffixMatchThreshold(t){return t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold??oM}cppHeadersEnableSwitch(t){return t.filtersAndExp.exp.variables.copilotcppheadersenableswitch??!1}relatedFilesVSCodeCSharp(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodecsharp??!1}relatedFilesVSCodeTypeScript(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscodetypescript??!1}relatedFilesVSCode(t){return t.filtersAndExp.exp.variables.copilotrelatedfilesvscode??!1}excludeOpenTabFilesCSharp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescsharp??!1}excludeOpenTabFilesCpp(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilescpp??!1}excludeOpenTabFilesTypeScript(t){return t.filtersAndExp.exp.variables.copilotexcludeopentabfilestypescript??!1}fallbackToOpenTabFilesWithNoRelatedFiles(t){return t.filtersAndExp.exp.variables.copilotfallbacktoopentabfiles??!1}contextProviders(t){let r=t.filtersAndExp.exp.variables.copilotcontextproviders??"";return r?r.split(",").map(n=>n.trim()):[]}includeNeighboringFiles(t){return t.filtersAndExp.exp.variables.copilotincludeneighboringfiles??!1}maxPromptCompletionTokens(t){return t.filtersAndExp.exp.variables.maxpromptcompletionTokens??D_+B_}ideChatMaxRequestTokens(t){return t.filtersAndExp.exp.variables.idechatmaxrequesttokens??-1}ideChatExpModelIds(t){return t.filtersAndExp.exp.variables.idechatexpmodelids??""}ideChatEnableProjectMetadata(t){return t.filtersAndExp.exp.variables.idechatenableprojectmetadata??!1}ideEnableCopilotEditsAgent(t){return t.filtersAndExp.exp.variables.ideenablecopiloteditsagent??!1}ideEnableCopilotNewBilling(t){return t.filtersAndExp.exp.variables.ideenablecopilotnewbilling??!1}recentEditsInPrompt(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinprompt??!1}recentEditsEditCount(t){return t.filtersAndExp.exp.variables.copilotrecenteditseditcount??5}recentEditsMaxFiles(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxfiles??5}recentEditsContextLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditscontextlines??3}recentEditsEditMergeLineDistance(t){return t.filtersAndExp.exp.variables.copilotrecenteditseditmergelinedistance??3}recentEditsRemoveDeletedLines(t){return t.filtersAndExp.exp.variables.copilotrecenteditsremovedeletedlines??!1}recentEditsInsertionsBeforeDeletions(t){return t.filtersAndExp.exp.variables.copilotrecenteditsinsertionsbeforedeletions??!1}recentEditsAppendNoReplyMarker(t){return t.filtersAndExp.exp.variables.copilotrecenteditsappendnoreplymarker??!1}recentEditsMaxLinesBetweenEdits(t){return t.filtersAndExp.exp.variables.copilotrecenteditsmaxlinesbetweenedits??100}recentEditsActiveDocDistanceLimitFromCursor(t){return t.filtersAndExp.exp.variables.copilotrecenteditsactivedocdistancelimitfromcursor??100}recentEditsSummarizationFormat(t){return t.filtersAndExp.exp.variables.copilotrecenteditsummarizationformat??"diff"}triggerCompletionAfterAccept(t){return t.filtersAndExp.exp.variables.copilottriggercompletionafteraccept}enableAsyncCompletions(t){return t.filtersAndExp.exp.variables.copilotasynccompletions??!1}enableSpeculativeRequests(t){return t.filtersAndExp.exp.variables.copilotspeculativerequests??!1}cppContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotcppContextProviderParams}csharpContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotcsharpcontextproviderparams}javaContextProviderParams(t){return t.filtersAndExp.exp.variables.copilotjavacontextproviderparams}disableContextualFilter(t){return t.filtersAndExp.exp.variables.copilotdisablecontextualfilter??!1}vscodeDebounceThreshold(t){return t.filtersAndExp.exp.variables.copilotvscodedebouncethreshold}enableElectronFetcher(t){return t.filtersAndExp.exp.variables.copilotelectronfetcher??!1}asyncCompletionsTimeout(t){return t.filtersAndExp.exp.variables.copilotasynccompletionstimeout??100}enablePromptContextProxyField(t){return t.filtersAndExp.exp.variables.copilotenablepromptcontextproxyfield??!1}enableProgressiveReveal(t){return t.filtersAndExp.exp.variables.copilotprogressivereveal??!1}modelAlwaysTerminatesSingleline(t){return t.filtersAndExp.exp.variables.copilotmodelterminatesingleline??!1}longLookaheadSize(t){return t.filtersAndExp.exp.variables.copilotprogressivereveallonglookaheadsize??7}shortLookaheadSize(t){return t.filtersAndExp.exp.variables.copilotprogressiverevealshortlookaheadsize??3}enableMultilineAfterAccept(t){return t.filtersAndExp.exp.variables.copilotmultilineafteraccept??!1}enablePrefixCompletionsCache(t){return t.filtersAndExp.exp.variables.copilotprefixcompletionscache??!1}completionsElisionStrategy(t){return(t.filtersAndExp.exp.variables.copilotcompletionselisionstrategy??"")==="elidableText"?"elidableText":"wishlist"}approximateElision(t){return t.filtersAndExp.exp.variables.copilotapproximateelision??!1}enableNESXTab(t){return t.filtersAndExp.exp.variables.copilotnesxtab??!1}};d();var pA=class{constructor(t){this.node=t;this.children=[];this.collapsed=!1}static{s(this,"StatementNode")}addChild(t){t.parent=this,t.nextSibling=void 0,this.children.length>0&&(this.children[this.children.length-1].nextSibling=t),this.children.push(t)}childrenFinished(){}containsStatement(t){return this.node.startIndex<=t.node.startIndex&&this.node.endIndex>=t.node.endIndex}statementAt(t){if(this.node.startIndex>t||this.node.endIndex<t)return;let r;return this.children.find(n=>(r=n.statementAt(t),r!==void 0)),r??this}collapse(){this.children.length=0,this.collapsed=!0}get description(){return`${this.node.type} ([${this.node.startPosition.row},${this.node.startPosition.column}]..[${this.node.endPosition.row},${this.node.endPosition.column}]): ${JSON.stringify(this.node.text.length>33?this.node.text.substring(0,15)+"..."+this.node.text.slice(-15):this.node.text)}`}dump(t="",r=""){let n=[`${t}${this.description}`];return this.children.forEach(i=>{n.push(i.dump(`${r}+- `,i.nextSibling===void 0?`${r}   `:`${r}|  `))}),n.join(`
`)}dumpPath(t="",r="",n=!1){if(this.parent){let i=this.parent.dumpPath(t,r,!0),o=i.length-i.lastIndexOf(`
`)-1-r.length,a=" ".repeat(o),l=n?`
${r}${a}+- `:"";return i+this.description+l}else{let i=n?`
${r}+- `:"";return t+this.description+i}}},g0=class{constructor(t,r,n,i){this.languageId=t;this.text=r;this.startOffset=n;this.endOffset=i;this.statements=[]}static{s(this,"StatementTree")}static isSupported(t){return N_.languageIds.has(t)||L_.languageIds.has(t)||F_.languageIds.has(t)||M_.languageIds.has(t)||Q_.languageIds.has(t)||O_.languageIds.has(t)||U_.languageIds.has(t)}static create(t,r,n,i){if(N_.languageIds.has(t))return new N_(t,r,n,i);if(L_.languageIds.has(t))return new L_(t,r,n,i);if(F_.languageIds.has(t))return new F_(t,r,n,i);if(O_.languageIds.has(t))return new O_(t,r,n,i);if(M_.languageIds.has(t))return new M_(t,r,n,i);if(Q_.languageIds.has(t))return new Q_(t,r,n,i);if(U_.languageIds.has(t))return new U_(t,r,n,i);throw new Error(`Unsupported languageId: ${t}`)}[Symbol.dispose](){this.tree&&(this.tree.delete(),this.tree=void 0)}clear(){this.statements.length=0}statementAt(t){let r;return this.statements.find(n=>(r=n.statementAt(t),r!==void 0)),r}async build(){let t=[];this.clear();let r=await this.parse();this.getStatementQuery(r).captures(r.rootNode,this.offsetToPosition(this.startOffset),this.offsetToPosition(this.endOffset)).forEach(i=>{let o=this.createNode(i.node);for(;t.length>0&&!t[0].containsStatement(o);)t.shift()?.childrenFinished();t.length>0?t[0].addChild(o):this.addStatement(o),t.unshift(o)}),t.forEach(i=>i.childrenFinished())}addStatement(t){t.parent=void 0,t.nextSibling=void 0,this.statements.length>0&&(this.statements[this.statements.length-1].nextSibling=t),this.statements.push(t)}async parse(){return this.tree||(this.tree=await hA(this.languageId,this.text)),this.tree}getStatementQuery(t){return this.getQuery(t.getLanguage(),this.getStatementQueryText())}getQuery(t,r){return t.query(r)}offsetToPosition(t){let r=this.text.slice(0,t).split(`
`),n=r.length-1,i=r[r.length-1].length;return{row:n,column:i}}dump(t=""){let r=[];return this.statements.forEach((n,i)=>{let o=`[${i}]`,a=" ".repeat(o.length);r.push(n.dump(`${t} ${o} `,`${t} ${a} `))}),r.join(`
`)}},kee=class e extends pA{static{s(this,"JSStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","generator_function_declaration","class_declaration","statement_block","if_statement","switch_statement","for_statement","for_in_statement","while_statement","do_statement","try_statement","with_statement","labeled_statement","method_definition","interface_declaration"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="statement_block"||this.children.length===2&&this.node.childForFieldName("else")!==null&&this.children[0].node.type!=="statement_block"&&this.children[1].node.type!=="statement_block"}},N_=class extends g0{static{s(this,"JSStatementTree")}static{this.languageIds=new Set(["javascript","javascriptreact","jsx","typescript","typescriptreact"])}createNode(t){return new kee(t)}getStatementQueryText(){return`[
            (export_statement)
            (import_statement)
            (debugger_statement)
            (expression_statement)
            (declaration)
            (statement_block)
            (if_statement)
            (switch_statement)
            (for_statement)
            (for_in_statement)
            (while_statement)
            (do_statement)
            (try_statement)
            (with_statement)
            (break_statement)
            (continue_statement)
            (return_statement)
            (throw_statement)
            (empty_statement)
            (labeled_statement)
            (method_definition)
            (public_field_definition)
        ] @statement`}},Bee=class e extends pA{static{s(this,"PyStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","for_statement","while_statement","try_statement","with_statement","function_definition","class_definition","decorated_definition","match_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"?!1:this.node.startPosition.row===this.node.endPosition.row}},L_=class extends g0{static{s(this,"PyStatementTree")}static{this.languageIds=new Set(["python"])}createNode(t){return new Bee(t)}getStatementQueryText(){return`[
            (future_import_statement)
            (import_statement)
            (import_from_statement)
            (print_statement)
            (assert_statement)
            (expression_statement)
            (return_statement)
            (delete_statement)
            (raise_statement)
            (pass_statement)
            (break_statement)
            (continue_statement)
            (global_statement)
            (nonlocal_statement)
            (exec_statement)
            (if_statement)
            (for_statement)
            (while_statement)
            (try_statement)
            (with_statement)
            (function_definition)
            (class_definition)
            (decorated_definition)
            (match_statement)
            (block)
        ] @statement`}},Dee=class e extends pA{static{s(this,"GoStatementNode")}static{this.compoundTypeNames=new Set(["function_declaration","method_declaration","if_statement","for_statement","expression_switch_statement","type_switch_statement","select_statement","block"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},F_=class extends g0{static{s(this,"GoStatementTree")}static{this.languageIds=new Set(["go"])}createNode(t){return new Dee(t)}getStatementQueryText(){return`[
            (package_clause)
            (function_declaration)
            (method_declaration)
            (import_declaration)
            (_statement)
            (block)
        ] @statement`}},Pee=class e extends pA{static{s(this,"PhpStatementNode")}static{this.compoundTypeNames=new Set(["if_statement","else_clause","else_if_clause","for_statement","foreach_statement","while_statement","do_statement","switch_statement","try_statement","catch_clause","finally_clause","anonymous_function","compound_statement"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},M_=class extends g0{static{s(this,"PhpStatementTree")}static{this.languageIds=new Set(["php"])}createNode(t){return new Pee(t)}getStatementQueryText(){return`[
            (statement)
            (compound_statement)
            (method_declaration)
            (property_declaration)
            (const_declaration)
            (use_declaration)
        ] @statement`}},Nee=class e extends pA{static{s(this,"RubyStatementNode")}static{this.compoundTypeNames=new Set(["if","case","while","until","for","begin","module","class","method"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}},Q_=class extends g0{static{s(this,"RubyStatementTree")}static{this.languageIds=new Set(["ruby"])}createNode(t){return new Nee(t)}getStatementQueryText(){return`[
            (_statement)
            (when)
        ] @statement`}},Lee=class e extends pA{static{s(this,"JavaStatementNode")}static{this.compoundTypeNames=new Set(["block","do_statement","enhanced_for_statement","for_statement","if_statement","labeled_statement","switch_expression","synchronized_statement","try_statement","try_with_resources_statement","while_statement","interface_declaration","method_declaration","constructor_declaration","compact_constructor_declaration","class_declaration","annotation_type_declaration","static_initializer"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},O_=class extends g0{static{s(this,"JavaStatementTree")}static{this.languageIds=new Set(["java"])}createNode(t){return new Lee(t)}getStatementQueryText(){return`[
            (statement)
            (field_declaration)
            (record_declaration)
            (method_declaration)
            (compact_constructor_declaration)
            (class_declaration)
            (interface_declaration)
            (annotation_type_declaration)
            (enum_declaration)
            (block)
            (static_initializer)
            (constructor_declaration)
            ] @statement`}},Fee=class e extends pA{static{s(this,"CSharpStatementNode")}static{this.compoundTypeNames=new Set(["block","checked_statement","class_declaration","constructor_declaration","destructor_declaration","do_statement","fixed_statement","for_statement","foreach_statement","if_statement","interface_declaration","lock_statement","method_declaration","struct_declaration","switch_statement","try_statement","unsafe_statement","while_statement"])}get isCompoundStatementType(){return!this.collapsed&&e.compoundTypeNames.has(this.node.type)}childrenFinished(){this.isSingleLineIfStatement()&&this.collapse()}isSingleLineIfStatement(){return this.node.type!=="if_statement"||this.node.startPosition.row!==this.node.endPosition.row?!1:this.children.length===1&&this.children[0].node.type!=="block"}},U_=class extends g0{static{s(this,"CSharpStatementTree")}static{this.languageIds=new Set(["csharp"])}createNode(t){return new Fee(t)}getStatementQueryText(){return`[
            (extern_alias_directive)
            (using_directive)
            (global_attribute)
            (preproc_if)
            (namespace_declaration)
            (file_scoped_namespace_declaration)
            (statement)
            (type_declaration)
            (declaration)
            (accessor_declaration)
            (block)
        ] @statement`}};var Mee={};V1(Mee,{activationEvents:()=>m0t,badges:()=>d0t,browser:()=>h0t,bugs:()=>i0t,build:()=>Xct,buildType:()=>Zct,categories:()=>u0t,contributes:()=>Qee,default:()=>v0t,dependencies:()=>C0t,description:()=>Kct,devDependencies:()=>y0t,displayName:()=>Yct,enabledApiProposals:()=>g0t,engines:()=>c0t,extensionPack:()=>l0t,homepage:()=>r0t,icon:()=>s0t,keywords:()=>f0t,license:()=>n0t,main:()=>p0t,name:()=>zct,overrides:()=>x0t,preview:()=>t0t,pricing:()=>a0t,publisher:()=>e0t,qna:()=>o0t,scripts:()=>A0t,version:()=>Jct});var zct="copilot",Yct="GitHub Copilot",Kct="Your AI pair programmer",Jct="1.323.0",Xct="1577",Zct="prod",e0t="GitHub",t0t=!1,r0t="https://github.com/features/copilot?editor=vscode",n0t="https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",i0t={url:"https://github.com/microsoft/vscode-copilot-release/issues"},o0t="https://github.com/github-community/community/discussions/categories/copilot",s0t="assets/Copilot-App-Icon.png",a0t="Trial",l0t=["GitHub.copilot-chat","GitHub.copilot"],c0t={vscode:"^1.98.0",node:">=20.0.0",npm:">=9.0.0"},u0t=["AI","Chat","Programming Languages","Machine Learning"],f0t=["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],d0t=[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],m0t=["onStartupFinished"],h0t="./dist/web",p0t="./dist/extension",g0t=["inlineCompletionsAdditions"],Qee={commands:[{command:"github.copilot.toggleStatusMenu",title:"Open Status Menu",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.acceptCursorPanelSolution",title:"Accept Panel Suggestion at the Cursor",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the Previous Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the Next Panel Suggestion",enablement:"github.copilot.panelVisible",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",enablement:"github.copilot.activated && !isWeb",category:"GitHub Copilot"},{command:"github.copilot.completions.disable",title:"Disable Completions",enablement:"github.copilot.activated && config.editor.inlineSuggest.enabled && github.copilot.completions.enabled",category:"GitHub Copilot"},{command:"github.copilot.completions.enable",title:"Enable Completions",enablement:"github.copilot.activated && !(config.editor.inlineSuggest.enabled && github.copilot.completions.enabled)",category:"GitHub Copilot"},{command:"github.copilot.completions.toggle",title:"Toggle (Enable/Disable) Completions",enablement:"github.copilot.activated",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"},{command:"github.copilot.openModelPicker",title:"Change Completions Model",category:"GitHub Copilot",enablement:"!isWeb"},{command:"github.copilot.sendCompletionFeedback",title:"Send Copilot Completion Feedback",category:"GitHub Copilot",enablement:"!isWeb"}],keybindings:[{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"}],configuration:[{title:"GitHub Copilot",properties:{"github.copilot.selectedCompletionModel":{type:"string",default:"",markdownDescription:'The currently selected completion model ID. To select from a list of available models, use the __"Change Completion Model"__ command or open the model picker from the Copilot menu. The value must be a valid model ID. An empty value indicates that the default model will be used.'},"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},authPermissions:{type:"string",enum:["default","minimal"],markdownEnumDescriptions:["Default (recommended) - The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.","Minimal - The minimal permissions required for Copilot functionality."],default:"default",markdownDescription:"Controls what kind of permissions are asked for when signing in to Copilot. The options are\n* `default` - (strongly recommended) The default permissions enable the best that Copilot has to offer including, but not limited to, faster repo indexing and the power of the `@github` agent.\n* `minimal` - The minimal permissions are the least that Copilot needs to function. Some features may behave slower or not at all."},useLanguageServer:{type:"boolean",default:!1,description:"Experimental: Use language server"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],deprecationMessage:"Set overrideLogLevels.* to ERROR to filter out unwanted categories.",description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",scope:"window",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:{type:"boolean"},markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.enable instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,deprecationMessage:"This setting has no effect. Please use github.copilot.enable instead.",description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},A0t={build:"tsx esbuild.ts",clean:"./script/build/clean.sh",compress:"tsx ./script/compressTokenizer.ts","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"tsx script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"tsx script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --quiet --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"npm install",pretest:"npm run build","pretest:headless":"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build","pretest:lib-e2e":"npm run build",prewatch:"npm run build","prewatch:esbuild":"npm run build",start:"npm run watch",test:'npm-run-all "test:extension --ignore-scripts" "test:headless --ignore-scripts" lint',"test:headless":'npm-run-all test:lib test:agent "test:lib-e2e --ignore-scripts" test:prompt "test:lsp-client --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.{ts,tsx}"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.{ts,tsx}"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.{ts,tsx}" --exclude "lib/e2e/src/prompt/**/*.test.ts"',"test:lib-e2e-no-ci":'mocha "lib/e2e/no-ci/**/*.test.{ts,tsx}"',"test:lib-prompt-e2e":'mocha "lib/e2e/src/prompt/prompt.test.ts"',"test:lib-prompt-e2e-perf":"INCLUDE_PERFORMANCE=true npm run test:lib-prompt-e2e","test:lsp-client":'mocha "lsp-client/test/*.test.{ts,tsx}"',"test:prompt":'mocha "prompt/test/**/*.test.{ts,tsx}"',"vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package --allow-missing-repository",watch:'run-p "watch:esbuild --ignore-scripts" "watch:types -- --preserveWatchOutput"',"watch:esbuild":"tsx esbuild.ts --watch","watch:types":"tsc --noEmit --watch"},y0t={"@datadog/datadog-ci":"^3.5.0","@github/prettier-config":"0.0.6","@limegrass/eslint-plugin-import-alias":"^1.5.1","@parcel/watcher":"^2.5.1","@types/benchmark":"^2.1.5","@types/crypto-js":"^4.2.2","@types/diff":"^7.0.2","@types/git-url-parse":"^16.0.0","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.10","@types/node":"~20.8.0","@types/semver":"^7.7.0","@types/sinon":"^17.0.4","@types/uuid":"^10.0.0","@types/vscode":"1.98.0","@types/yargs":"^17.0.24","@vscode/test-electron":"^2.5.2","@vscode/vsce":"^3.3.2","@yao-pkg/pkg":"^6.4.1",benchmark:"^2.1.4",boxen:"^8.0.1",chalk:"^5.4.1","dependency-cruiser":"^16.10.2",electron:"^28.1.4",esbuild:"^0.25.4","esbuild-plugin-copy":"^2.1.1",eslint:"^9.26.0","eslint-formatter-visualstudio":"^8.40.0","eslint-plugin-mocha":"^10.5.0",fantasticon:"^3.0.0",glob:"^11.0.2",globals:"^16.1.0","js-yaml":"^4.1.0",mocha:"^11.2.2","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",prettier:"^3.5.3","prettier-plugin-organize-imports":"^4.1.0",proxy:"^2.1.1","simple-git":"^3.27.0",sinon:"^20.0.0","ts-dedent":"^2.2.0",tsx:"^4.19.4",typescript:"^5.8.3","typescript-eslint":"^8.32.0","vscode-dts":"^0.3.3"},C0t={"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/memoize":"1.1.5","@microsoft/1ds-post-js":"^4.3.6","@microsoft/applicationinsights-web-basic":"^3.3.6","@microsoft/tiktokenizer":"^1.0.10","@modelcontextprotocol/sdk":"^1.11.1","@sinclair/typebox":"^0.34.33","@types/vscode-webview":"^1.57.4","@vscode/codicons":"^0.0.36","@vscode/prompt-tsx":"0.4.0-alpha.1","@vscode/webview-ui-toolkit":"^1.3.1","await-lock":"^2.2.2","crypto-js":"^4.2.0",diff:"^7.0.0",dldr:"^0.0.10","get-stream":"^6.0.1","git-url-parse":"^16.0.3",kerberos:"^2.2.0","mac-ca":"^3.1.1",microjob:"^0.7.0",minimatch:"^9.0.3",open:"^10.1.2","os-browserify":"^0.3.0","path-browserify":"^1.0.1",semver:"^7.7.1",shiki:"~1.15.0","source-map-support":"^0.5.21",sqlite3:"^5.1.7",uuid:"^11.1.0","vscode-languageclient":"^9.0.0","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.1.0","web-tree-sitter":"^0.20.8","windows-ca-certs":"^0.1.0",yargs:"^17.7.2"},x0t={fsevents:"<0",bindings:"npm:bundled-bindings@^1.5.0"},v0t={name:zct,displayName:Yct,description:Kct,version:Jct,build:Xct,buildType:Zct,publisher:e0t,preview:t0t,homepage:r0t,license:n0t,bugs:i0t,qna:o0t,icon:s0t,pricing:a0t,extensionPack:l0t,engines:c0t,categories:u0t,keywords:f0t,badges:d0t,activationEvents:m0t,browser:h0t,main:p0t,enabledApiProposals:g0t,contributes:Qee,scripts:A0t,devDependencies:y0t,dependencies:C0t,overrides:x0t};var bt={Enable:"enable",UserSelectedCompletionModel:"selectedCompletionModel",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",FetchStrategy:"fetchStrategy",RelatedFilesVSCodeCSharp:"advanced.relatedFilesVSCodeCSharp",RelatedFilesVSCodeTypeScript:"advanced.relatedFilesVSCodeTypeScript",RelatedFilesVSCode:"advanced.relatedFilesVSCode",ExcludeOpenTabFilesCSharp:"advanced.excludeOpenTabFilesCSharp",ExcludeOpenTabFilesCpp:"advanced.excludeOpenTabFilesCpp",ExcludeOpenTabFilesTypeScript:"advanced.excludeOpenTabFilesTypeScript",FallbackToOpenTabFilesWithNoRelatedFiles:"advanced.fallbackToOpenTabFilesWithNoRelatedFiles",ContextProviders:"advanced.contextProviders",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher",UseSubsetMatching:"advanced.useSubsetMatching",ContextProviderTimeBudget:"advanced.contextProviderTimeBudget",DebugOverrideCapiUrl:"internal.capiUrl",DebugOverrideCapiUrlLegacy:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"internal.capiTestUrl",DebugTestOverrideCapiUrlLegacy:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"internal.completionsUrl",DebugOverrideProxyUrlLegacy:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"internal.completionsTestUrl",DebugTestOverrideProxyUrlLegacy:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"internal.completionModel",DebugOverrideEngineLegacy:"advanced.debug.overrideEngine",UseAsyncCompletions:"internal.useAsyncCompletions",EnableSpeculativeRequests:"internal.enableSpeculativeRequests",EnablePrefixCache:"internal.enablePrefixCache",AlwaysRequestMultiline:"internal.alwaysRequestMultiline",ModelAlwaysTerminatesSingleline:"internal.modelAlwaysTerminatesSingleline",TrimCompletionsAggressively:"internal.trimCompletionsAggressively",VSCodeDebounceThreshold:"internal.vscodeDebounceThreshold",RecentEditsInPrompt:"internal.recentEditsInPrompt",RecentEditsEditCount:"internal.recentEditsEditCount",RecentEditsMaxFiles:"internal.recentEditsMaxFiles",RecentEditsContextLines:"internal.recentEditsContextLines",RecentEditsEditMergeLineDistance:"internal.recentEditsEditMergeLineDistance",RecentEditsRemoveDeletedLines:"internal.recentEditsRemoveDeletedLines",InsertionsBeforeDeletions:"internal.recentEditsInsertionsBeforeDeletions",RecentEditsAppendNoReplyMarker:"internal.recentEditsAppendNoReplyMarker",RecentEditsMaxLinesBetweenEdits:"internal.recentEditsMaxLinesBetweenEdits",RecentEditsActiveDocDistanceLimitFromCursor:"internal.recentEditsActiveDocDistanceLimitFromCursor",RecentEditsSummarizationFormat:"internal.recentEditsSummarizationFormat",IncludeNeighboringFiles:"internal.includeNeighboringFiles",DebugOverrideCppHeadersEnableSwitch:"internal.cppHeadersEnableSwitch",MultilineAfterAccept:"internal.multilineAfterAccept",NESXTab:"internal.useXTab"};function Rve(e){return["server","parsingandserver"].includes(e)}s(Rve,"shouldDoServerTrimming");var mh=class{static{s(this,"BlockModeConfig")}},d8=class extends mh{static{s(this,"ConfigBlockModeConfig")}forLanguage(t,r,n){let i=t.get(sr).overrideBlockMode(n);if(i)return _ve(i,r);let o=t.get(sr).enableProgressiveReveal(n);return Mn(t,bt.AlwaysRequestMultiline)??o?_ve("moremultiline",r):r=="ruby"?"parsing":lf(r)?"parsingandserver":"server"}};function b0t(e){return["parsing","parsingandserver","moremultiline"].includes(e)}s(b0t,"blockModeRequiresTreeSitter");function _ve(e,t){return e==="moremultiline"&&g0.isSupported(t)?e:b0t(e)&&!lf(t)?"server":e}s(_ve,"toApplicableBlockMode");var ag=class{static{s(this,"ConfigProvider")}},m8=class extends ag{static{s(this,"DefaultsOnlyConfigProvider")}getConfig(t){return I0t(t)}getOptionalConfig(t){return T0t(t)}dumpForTelemetry(){return{}}},sv=class extends ag{constructor(r,n){super();this.baseConfigProvider=r;this.overrides=n}static{s(this,"InMemoryConfigProvider")}getOptionalOverride(r){return this.overrides.get(r)}getConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getConfig(r)}getOptionalConfig(r){return this.getOptionalOverride(r)??this.baseConfigProvider.getOptionalConfig(r)}setConfig(r,n){n!==void 0?this.overrides.set(r,n):this.overrides.delete(r)}dumpForTelemetry(){let r=this.baseConfigProvider.dumpForTelemetry();for(let n of[bt.ShowEditorCompletions,bt.EnableAutoCompletions,bt.DelayCompletions,bt.FilterCompletions]){let i=this.overrides.get(n);i!==void 0&&(r[n]=JSON.stringify(i))}return r}};function E0t(e){return e?.type==="object"&&"properties"in e}s(E0t,"isContributesObject");function kve(e,t){let r=e,n=[];for(let i of t.split(".")){let o=[...n,i].join(".");r&&typeof r=="object"&&o in r?(r=r[o],n.length=0):n.push(i)}if(!(r===void 0||n.length>0))return r}s(kve,"getConfigKeyRecursively");function I0t(e){if(f8.has(e))return f8.get(e);throw new Error(`Missing config default value: ${L7}.${e}`)}s(I0t,"getConfigDefaultForKey");function T0t(e){return f8.get(e)}s(T0t,"getOptionalConfigDefaultForKey");var f8=new Map([[bt.DebugOverrideCppHeadersEnableSwitch,!1],[bt.RelatedFilesVSCodeCSharp,!1],[bt.RelatedFilesVSCodeTypeScript,!1],[bt.RelatedFilesVSCode,!1],[bt.ExcludeOpenTabFilesCSharp,!1],[bt.ExcludeOpenTabFilesCpp,!1],[bt.ExcludeOpenTabFilesTypeScript,!1],[bt.FallbackToOpenTabFilesWithNoRelatedFiles,!1],[bt.IncludeNeighboringFiles,!1],[bt.ContextProviders,[]],[bt.DebugUseEditorFetcher,null],[bt.DebugUseElectronFetcher,null],[bt.DebugOverrideLogLevels,{}],[bt.DebugSnippyOverrideUrl,""],[bt.FetchStrategy,"auto"],[bt.UseSubsetMatching,null],[bt.ContextProviderTimeBudget,150],[bt.DebugOverrideCapiUrl,""],[bt.DebugTestOverrideCapiUrl,""],[bt.DebugOverrideProxyUrl,""],[bt.DebugTestOverrideProxyUrl,""],[bt.DebugOverrideEngine,""],[bt.UseAsyncCompletions,void 0],[bt.EnableSpeculativeRequests,void 0],[bt.EnablePrefixCache,void 0],[bt.AlwaysRequestMultiline,void 0],[bt.ModelAlwaysTerminatesSingleline,void 0],[bt.TrimCompletionsAggressively,void 0],[bt.VSCodeDebounceThreshold,void 0],[bt.RecentEditsInPrompt,void 0],[bt.RecentEditsEditCount,void 0],[bt.RecentEditsMaxFiles,void 0],[bt.RecentEditsContextLines,void 0],[bt.RecentEditsEditMergeLineDistance,void 0],[bt.RecentEditsRemoveDeletedLines,void 0],[bt.InsertionsBeforeDeletions,void 0],[bt.RecentEditsAppendNoReplyMarker,void 0],[bt.RecentEditsMaxLinesBetweenEdits,void 0],[bt.RecentEditsActiveDocDistanceLimitFromCursor,void 0],[bt.RecentEditsSummarizationFormat,void 0],[bt.MultilineAfterAccept,void 0],[bt.NESXTab,void 0],[bt.ShowEditorCompletions,void 0],[bt.DelayCompletions,void 0],[bt.FilterCompletions,void 0]]);for(let e of Object.values(bt)){let t=Qee.configuration[0],r=[],n=`${L7}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let i=t.properties[r.join(".")];if(E0t(i))r.length=0,t=i;else if(n.length==0&&i?.default!==void 0){if(f8.has(e))throw new Error(`Duplicate config default value ${L7}.${e}`);f8.set(e,i.default)}}if(!f8.has(e))throw new Error(`Missing config default value ${L7}.${e}`)}function Mn(e,t){return e.get(ag).getConfig(t)}s(Mn,"getConfig");function F3e(e){return e.get(ag).dumpForTelemetry()}s(F3e,"dumpForTelemetry");var go=class{constructor(){this.packageJson=Mee}static{s(this,"BuildInfo")}isPreRelease(){return this.getBuildType()==="nightly"}isProduction(){return this.getBuildType()!=="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};function dF(e){return e.get(go).isProduction()}s(dF,"isProduction");function axe(e){return e.get(go).getBuildType()==="dev"}s(axe,"isDevBuild");function _d(e){return e.get(go).getBuildType()}s(_d,"getBuildType");function M3e(e){return e.get(go).getBuild()}s(M3e,"getBuild");function Jx(e){return e.get(go).getVersion()}s(Jx,"getVersion");var Bs=class{constructor(t,r,n="none",i="desktop"){this.sessionId=t;this.machineId=r;this.remoteName=n;this.uiKind=i}static{s(this,"EditorSession")}};function eg({name:e,version:t}){return`${e}/${t}`}s(eg,"formatNameAndVersion");var gn=class{static{s(this,"EditorAndPluginInfo")}getCopilotIntegrationId(){}},jm="2025-05-01";function Hu(e){let t=e.get(gn);return{"Editor-Version":eg(t.getEditorInfo()),"Editor-Plugin-Version":eg(t.getEditorPluginInfo()),"Copilot-Language-Server-Version":Jx(e)}}s(Hu,"editorVersionHeaders");var Sve="Iv1.b507a08c87ecfe98",Ta=class{static{s(this,"GitHubAppInfo")}findAppIdToAuthenticate(){return this.githubAppId??Sve}fallbackAppId(){return Sve}};d();d();d();var av={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".h.in",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".containerfile",".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".buckconfig",".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".json.example",".jsonl",".mcmeta",".sarif",".tact",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Package.resolved","Pipfile.lock","bun.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},python:{extensions:[".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:[".gclient","DEPS","SConscript","SConstruct","wscript"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".gpx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};d();d();var Bve=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],Dve={".php":[".blade"]},q_=Object.keys(av).flatMap(e=>av[e].extensions);var Oee=Ze(require("node:path"));var p8=class{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}static{s(this,"Language")}},W_=class{static{s(this,"LanguageDetection")}},Uee=new Map,h8=new Map;for(let[e,{extensions:t,filenames:r}]of Object.entries(av)){for(let n of t)Uee.set(n,[...Uee.get(n)??[],e]);for(let n of r??[])h8.set(n,[...h8.get(n)??[],e])}var qee=class extends W_{static{s(this,"FilenameAndExensionLanguageDetection")}detectLanguage(t){let r=Di(t.uri),n=Oee.extname(r).toLowerCase(),i=this.extensionWithoutTemplateLanguage(r,n),o=this.detectLanguageId(r,i),a=this.computeFullyQualifiedExtension(n,i);return o?new p8(o.languageId,o.isGuess,a):new p8(t.languageId,!0,a)}extensionWithoutTemplateLanguage(t,r){if(Bve.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),i=Oee.extname(n).toLowerCase();if(i.length>0&&q_.includes(i)&&this.isExtensionValidForTemplateLanguage(r,i))return i}return r}isExtensionValidForTemplateLanguage(t,r){let n=Dve[t];return!n||n.includes(r)}detectLanguageId(t,r){if(h8.has(t))return{languageId:h8.get(t)[0],isGuess:!1};let n=Uee.get(r)??[];if(n.length>0)return{languageId:n[0],isGuess:n.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),h8.has(t))return{languageId:h8.get(t)[0],isGuess:!1}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}},Wee=class extends W_{constructor(r){super();this.delegate=r}static{s(this,"GroupingLanguageDetection")}detectLanguage(r){let n=this.delegate.detectLanguage(r),i=n.languageId;return i==="c"||i==="cpp"?new p8("cpp",n.isGuess,n.fileExtension):n}},Gee=class extends W_{constructor(r){super();this.delegate=r}static{s(this,"ClientProvidedLanguageDetection")}detectLanguage(r){return r.uri.startsWith("untitled:")||r.uri.startsWith("vscode-notebook-cell:")?new p8(r.languageId,!0,""):this.delegate.detectLanguage(r)}},w0t=new Wee(new Gee(new qee));function g8({uri:e,languageId:t}){let r=w0t.detectLanguage({uri:e,languageId:"UNKNOWN"});return r.languageId==="UNKNOWN"?t:r.languageId}s(g8,"detectLanguage");d();d();d();d();function gA(e){if(e.isCancellationRequested)throw new aM}s(gA,"throwIfCancellationRequested");function G_(e){return e instanceof aM?!0:e instanceof Error&&e.name===Hee&&e.message===Hee}s(G_,"isCancellationError");var aM=class extends Error{static{s(this,"CancellationError")}constructor(){super(Hee),this.name=this.message}},Hee="Canceled",lM=class{constructor(){this.items=[]}static{s(this,"Stack")}push(t){this.items.push(t)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}tryPeek(){return this.items.length>0}toArray(){return this.items}};function lv(e){switch(e){case 0:case 2:case 7:case 8:case 11:case 12:case 13:case 14:return!0;default:return!1}}s(lv,"isTypeDefinition");var au=class e{static{s(this,"TextRange")}static{this.empty=new e(0,0)}constructor(t,r){this.start=t,this.length=r}static fromBounds(t,r){return new e(t,r-t)}get end(){return this.start+this.length}contains(t){return this.start<=t&&this.end>=t}containsRange(t){return this.start<=t.start&&this.end>=t.end}equals(t){return this.start===t.start&&this.length===t.length}getText(t){return t.slice(this.start,this.end)}getTextWithIndentation(t,r){let n=[],i=this.start;for(i=Nve(t,t.length,i),Pve(n,r);i<this.end;)t[i]!=="\r"&&t[i]!==`
`?n.push(t[i++]):t[i]==="\r"&&i<t.length&&t[i+1]!==`
`||t[i]===`
`?(n.push(`
`),i=Nve(t,t.length,++i),Pve(n,r)):i++;return n.join("")}};function Pve(e,t){for(let r=0;r<t;r++)e.push(" ")}s(Pve,"appendIndent");function Nve(e,t,r){for(;r<t&&(e[r]===" "||e[r]==="	");)r++;return r}s(Nve,"consumeIndent");var B5=class{constructor(t,r,n,i,o,a,l,c,u){this.fileName=t;this.fullyQualifiedName=r;this.unqualifiedName=n;this.commentRange=i;this.nameRange=o;this.bodyRange=a;this.extentRange=l;this.kind=c;this.refKind=u;if(t.indexOf("\\")!==-1)throw new Error("fileName must be normalized to use forward slashes as path separators")}static{s(this,"SymbolRange")}equals(t){return this.fileName===t.fileName&&this.fullyQualifiedName===t.fullyQualifiedName&&this.unqualifiedName===t.unqualifiedName&&this.commentRange.equals(t.commentRange)&&this.nameRange.equals(t.nameRange)&&this.bodyRange.equals(t.bodyRange)&&this.extentRange.equals(t.extentRange)&&this.kind===t.kind&&this.refKind===t.refKind}},uc=class e{constructor(){this.queriesCache=new Map}static{s(this,"SymbolExtractorBase")}async findMatches(t,r){let n=await hA(this.languageId,t),i=n.getLanguage(),a=this.getOrCreateQuery(i,r).matches(n.rootNode);return{tree:n,matches:a}}async executeQuery(t,r,n){let i;try{i=await this.findMatches(r,n);let o=new lM,a=[];for(let l of i.matches){let c=this.createSymbolRange(o,t,r,l.captures);c&&a.push(c)}return a}catch{return[]}finally{i?.tree.delete()}}getOrCreateQuery(t,r){let n=this.queriesCache.get(r);return n||(n=t.query(r),this.queriesCache.set(r,n)),n}createSymbolRange(t,r,n,i){let o=0,a=0,l=0,c=0,u=0,f=0,m=0,h=0,p=null,g=null;for(let b=0;b<i.length;b++){let E=i[b].name;E==="name"?(u=i[b].node.startIndex,f=i[b].node.endIndex):E==="reference"?(u=i[b].node.startIndex,f=i[b].node.endIndex,l=i[b].node.startIndex,c=i[b].node.endIndex,p=E):E==="body"?(m=i[b].node.startIndex,h=i[b].node.endIndex):E==="comment"?(o=o===0?i[b].node.startIndex:Math.min(o,i[b].node.startIndex),a=Math.max(a,i[b].node.endIndex)):E==="receiver"?g=au.fromBounds(i[b].node.startIndex,i[b].node.endIndex).getText(n):(l=i[b].node.startIndex,c=i[b].node.endIndex,p=E)}p==="definition.module.filescoped"&&(h=n.length,c=h);let y=au.fromBounds(l,c),x=l>0||c>0||u>0||f>0?new B5(r,"","",au.fromBounds(o,a),au.fromBounds(u,f),au.fromBounds(m,h),y,e.kindFromString(p),0):null;if(x){e.updateScopesForSymbol(t,x);let b=x.nameRange.getText(n),E=this.createNameFromScopes(n,t.toArray());return E=g?`${g}.${E}`:E,new B5(r,E,b.substring(b.lastIndexOf(".")+1),x.commentRange,x.nameRange,x.bodyRange,x.extentRange,x.kind,0)}return null}static updateScopesForSymbol(t,r){for(;t.tryPeek()&&!t.peek()?.extentRange.containsRange(r.extentRange);)t.pop();t.push(r)}static kindFromString(t){switch(t){case"definition.class":return 0;case"definition.constant":return 1;case"definition.enum_variant":return 3;case"definition.enum":return 2;case"definition.field":return 4;case"definition.function":return 5;case"definition.implementation":return 6;case"definition.interface":return 7;case"definition.macro":return 8;case"definition.method":return 9;case"import.module":case"definition.module":case"definition.module.filescoped":return 10;case"definition.struct":return 11;case"definition.trait":return 12;case"definition.type":return 13;case"definition.union":return 14;case"reference":return 16;case"wildcard":return 18;case"alias":return 19;case"import":return 17;default:throw new Error("NotSupportedException")}}cleanQuotedString(t){return t.replace(/^(['"])(.*)\1$/,"$2")}};var cM=class extends uc{static{s(this,"GoSymbolExtractor")}get languageId(){return"go"}extractSymbols(t,r){return this.executeQuery(t,r,_0t)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},uM=class extends uc{static{s(this,"GoReferenceExtractor")}get languageId(){return"go"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}extractReferences(t,r){return this.executeQuery(t,r,S0t)}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,R0t),o=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...o.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}};var _0t=`
(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (struct_type (field_declaration_list) @body))) @definition.struct
)

(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (interface_type (_)) @body)) @definition.interface
)

(
    ((comment)* @comment)
    .
    (method_declaration receiver: (parameter_list (parameter_declaration type: [(type_identifier) @receiver (pointer_type (type_identifier) @receiver)] )) name: (_) @name body: (_) @body) @definition.method
)

(
    ((comment)* @comment)
    .
    (method_elem name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (function_declaration name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (field_declaration name: (_) @name) @definition.field
)
`;var S0t=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`,R0t=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`;d();var fM=class extends uc{static{s(this,"JavaSymbolExtractor")}get languageId(){return"java"}extractSymbols(t,r){return this.executeQuery(t,r,k0t)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},dM=class extends uc{static{s(this,"JavaReferenceExtractor")}get languageId(){return"java"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}extractReferences(t,r){return this.executeQuery(t,r,B0t)}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,D0t),o=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...o.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}};var k0t=`
(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (class_declaration name: (identifier) @name body: (class_body) @body) @definition.class
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (constructor_declaration name: (identifier) @name body: (constructor_body) @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (method_declaration name: (identifier) @name body: (block)? @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (interface_declaration name: (identifier) @name body: (interface_body) @body) @definition.interface
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (field_declaration declarator: (variable_declarator name: (identifier) @name)) @definition.field
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_declaration name: (_) @name body: (_) @body) @definition.enum
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_constant name: (identifier) @name) @definition.enum_variant
)
`;var B0t=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`,D0t=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`;d();var P0t=new Set(["null","undefined","void","object","symbol","bigint","Array","Promise","Date","RegExp","Map","Set"]),mM=class extends uc{static{s(this,"JavaScriptSymbolExtractor")}get languageId(){return"javascript"}extractSymbols(t,r){return this.executeQuery(t,r,N0t)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},hM=class extends uc{static{s(this,"JavaScriptReferenceExtractor")}extractLocalReferences(t,r,n){throw new Error("Method not implemented.")}get languageId(){return"javascript"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}async extractReferences(t,r){return(await this.executeQuery(t,r,L0t)).filter(i=>!P0t.has(i.unqualifiedName))}},N0t=`
(
    ((comment)* @comment)
    .
    [
        (class_declaration name: (_) @name body: (_) @body) @definition.class
        (function_declaration name: (_) @name body: (_) @body) @definition.function
        (export_statement declaration: (lexical_declaration (variable_declarator name: (identifier) @name value: (_) @body))) @definition.function
    ]
)
`,L0t=`
(call_expression function: (_) @name) @reference
`;d();var F0t=new Set(["int","str","float","bool","list","dict","tuple","set"]),pM=class extends uc{static{s(this,"PythonSymbolExtractor")}get languageId(){return"python"}extractSymbols(t,r){return this.executeQuery(t,r,M0t)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},gM=class extends uc{static{s(this,"PythonReferenceExtractor")}get languageId(){return"python"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}async extractReferences(t,r){return(await this.executeQuery(t,r,Q0t)).filter(i=>!F0t.has(i.unqualifiedName))}async extractLocalReferences(t,r,n){let i=await this.executeQuery(t,r,O0t),o=i.filter(c=>c.kind!==9),a=i.filter(c=>c.kind===9&&c.extentRange.containsRange(n)),l=[];for(let c of a)l.push(...o.filter(u=>c.extentRange.containsRange(u.extentRange)));return l}};var M0t=`
(
    ((comment)* @comment)
    .
    (class_definition name: (_) @name body: (_) @body) @definition.class
)

(
    ((comment)* @comment)
    .
    (function_definition name: (_) @name body: (_) @body) @definition.method
)
`,Q0t=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
]) @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`;var O0t=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
])  @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`;d();var U0t=new Set(["string","number","boolean","null","undefined","void","any","never","object","symbol","bigint","Array","Promise","Date","RegExp","Map","Set"]),AM=class extends uc{static{s(this,"TypeScriptSymbolExtractor")}get languageId(){return"typescript"}extractSymbols(t,r){return this.executeQuery(t,r,q0t)}createNameFromScopes(t,r){return r.map(n=>n.nameRange.getText(t)).join(".")}},yM=class extends uc{static{s(this,"TypeScriptReferenceExtractor")}get languageId(){return"typescript"}createNameFromScopes(t,r){return r.length>0?r[r.length-1].nameRange.getText(t):""}async extractReferences(t,r){return(await this.executeQuery(t,r,W0t)).filter(i=>!U0t.has(i.unqualifiedName))}async extractLocalReferences(t,r,n){throw new Error("Method not implemented.")}},q0t=`
(
    ((comment)* @comment)
    .
    [
        (class_declaration name: (_) @name body: (_) @body) @definition.class
        (interface_declaration name: (_) @name body: (_) @body) @definition.interface
        (type_alias_declaration name: (type_identifier) @name) @definition.type
        (abstract_class_declaration name: (type_identifier) @name) @definition.class
        (enum_declaration name: (identifier) @name) @definition.type
    ]
)

(
    ((comment)* @comment)
    .
    [
        (method_definition name: (_) @name body: (_) @body) @definition.method
        (function_declaration name: (_) @name body: (_) @body) @definition.function
        (function_signature name: (identifier) @name) @definition.function
        (method_signature name: (property_identifier) @name) @definition.method
        (abstract_method_signature name: (property_identifier) @name) @definition.method
        (variable_declarator name: (identifier) @name type: (type_annotation (type_identifier)))
    ]
)
`,W0t=`
(call_expression function: (_) @name) @reference

(type_identifier) @name @reference

(new_expression constructor: (identifier) @name) @reference
`;var CM=[{symbolExtractor:new fM,referenceExtractor:new dM,languageId:"java"},{symbolExtractor:new cM,referenceExtractor:new uM,languageId:"go"},{symbolExtractor:new pM,referenceExtractor:new gM,languageId:"python"},{symbolExtractor:new AM,referenceExtractor:new yM,languageId:"typescript"},{symbolExtractor:new mM,referenceExtractor:new hM,languageId:"javascript"}];function Fve(e){let t=g8({uri:e});if(t&&CM.some(r=>t===r.languageId))return t}s(Fve,"getSupportedLanguageIdForMultiLanguageProvider");var Mve=CM.map(e=>e.referenceExtractor),xM=CM.map(e=>e.symbolExtractor),jee=CM.map(e=>av[e.languageId].extensions).flat();d();d();d();d();d();d();d();d();var G0t={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},H0t=R_(G0t);function Qve(e){let t=e;return S_(t,H0t),t=bee(t),t=ov(t),XF(t),Qc(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!cc(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}s(Qve,"processJava");d();var j0t={heading:/^# /,subheading:/^## /,subsubheading:/### /},V0t=R_(j0t);function Ove(e){let t=e;if(S_(t,V0t),cc(t))return t;function r(o){if(o.label==="heading")return 1;if(o.label==="subheading")return 2;if(o.label==="subsubheading")return 3}s(r,"headingLevel");let n=[t],i=[...t.subs];t.subs=[];for(let o of i){let a=r(o);if(a===void 0||cc(o))n[n.length-1].subs.push(o);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(o),n[a]=o;n.length>a+1;)n.pop()}}return t=xve(t),t=ov(t),XF(t),t}s(Ove,"processMarkdown");d();function Uve(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}s(Uve,"deparseLine");Eee("markdown",Ove);Eee("java",Qve);var $0t={worthUp:.9,worthSibling:.88,worthDown:.8};function Vee(e,t,r=lo(),n=$0t){let i=iv(e,o=>o?1:void 0);return Qc(i,o=>{if(cc(o))return;let a=o.subs.reduce((l,c)=>Math.max(l,c.label??0),0);o.label=Math.max(o.label??0,a*n.worthUp)},"bottomUp"),Qc(i,o=>{if(cc(o))return;let a=o.subs.map(u=>u.label??0),l=[...a];for(let u=0;u<a.length;u++)a[u]!==0&&(l=l.map((f,m)=>Math.max(f,Math.pow(n.worthSibling,Math.abs(u-m))*a[u])));let c=o.label;c!==void 0&&(l=l.map(u=>Math.max(u,n.worthDown*c))),o.subs.forEach((u,f)=>u.label=l[f])},"topDown"),z0t(i,t,r)}s(Vee,"fromTreeWithFocussedLines");function z0t(e,t,r=lo()){let n=vee(e,[],(i,o)=>((i.type==="line"||i.type==="blank")&&o.push(i.type==="line"?[Uve(i).trimEnd(),i.label??0]:["",i.label??0]),o),"topDown");return new Yt(n,t,r)}s(z0t,"fromTreeWithValuedLines");function cf(e,t=!0,r=!0,n,i=lo()){let o=typeof e=="string"?k_(e):k_(e.source,e.languageId);ov(o);let a=iv(o,l=>t&&l!=="closer");return Qc(a,l=>{l.label===void 0&&(l.label=t&&l.label!==!1)},"topDown"),t&&Qc(a,l=>{if(l.label){let c=!1;for(let u of[...l.subs].reverse())u.label&&!c?c=!0:u.label=!1}else for(let c of l.subs)c.label=!1;l.subs.length>0&&(l.label=!1)},"topDown"),r&&Qc(a,l=>{l.label||=(rv(l)||cc(l))&&l.lineNumber==0},"topDown"),Vee(a,n,i)}s(cf,"elidableTextForSourceCode");d();var H_=class e{constructor(t,r,n,i="strict",o){this.text=t;this._value=r;this._cost=n;this.metadata=o;if(t.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}static{s(this,"LineWithValueAndCost")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>lo().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new e(this.text,this.value,this.cost,"none",this.metadata)}};var vM="elidableTextChunk",Yt=class e{constructor(t,r,n=lo()){this.metadata=r;this.tokenizer=n;this.lines=[];let i=[];for(let o of t){let a=Array.isArray(o)?o[1]:1,l=Array.isArray(o)?o[0]:o;typeof l=="string"?l.split(`
`).forEach(c=>i.push(new H_(c,a,n.tokenLength(c+`
`),"strict",this.metadata))):l instanceof e?l.lines.forEach(c=>i.push(c.copy().adjustValue(a))):"source"in l&&"languageId"in l&&cf(l).lines.forEach(c=>i.push(c.copy().adjustValue(a)))}this.lines=i}static{s(this,"ElidableText")}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>lo().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}elide(t,r="[...]",n=!0,i="removeLeastDesirable",o=this.tokenizer,a="topToBottom"){let l=this.lines.map(c=>c.copy());return Y0t(l,t,r,n,i,o,a)}};function Y0t(e,t,r,n,i,o,a){if(o.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");let l=0,c=0,u=0;for(let x of e)l+=x.cost,c=Math.max(c,x.value),u=Math.max(u,x.text.length),i==="removeLeastBangForBuck"&&x.adjustValue(1/x.cost);let f=c+1,m=u+1,h=r.trim(),p=s(x=>x?.text.match(/^\s*/)?.[0].length??0,"getIndentation"),g=s(x=>x?.text.trim()===h,"isEllipsis"),y=e.length+1;for(;l>t&&y-- >0;){let x=-1,b=1/0;for(let M=0;M<e.length;M++){let te=e[M];(te.value<b||te.value===b&&a==="bottomToTop")&&(b=te.value,x=M)}let E=e[x],_=E.metadata?.get(vM);if(_!==void 0&&_.size>0)for(let M of e){let te=M.metadata?.get(vM);te&&te.size>0&&[..._].every(de=>te.has(de))&&M.text.trim()!==h&&M.adjustValue(0)}let k=0;if(n){let M=e.slice(0,x+1).reverse().find(Z=>Z.text.trim()!==""),te=e[x-1],de=e[x+1];k=Math.min(M?p(M):0,g(te)?p(te):m,g(de)?p(de):m)}let B=" ".repeat(k)+r,N=new H_(B,f,o.tokenLength(B+`
`),"loose",E.metadata);l-=E.cost,e.splice(x,1,N),l+=N.cost,g(e[x+1])&&(l-=e[x+1].cost,e.splice(x+1,1)),g(e[x-1])&&(l-=e[x-1].cost,e.splice(x-1,1),x--),l>t&&e.every(M=>M.value===f)&&(n=!1)}if(y<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e=e.filter(x=>x.value!==0),{getText:s(()=>e.map(x=>x.text).join(`
`),"getText"),getLines:s(()=>e,"getLines")}}s(Y0t,"elide");d();d();function hh(){}s(hh,"Diff");hh.prototype={diff:s(function(t,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.callback;typeof i=="function"&&(o=i,i={});var a=this;function l(k){return k=a.postProcess(k,i),o?(setTimeout(function(){o(k)},0),!0):k}s(l,"done"),t=this.castInput(t,i),r=this.castInput(r,i),t=this.removeEmpty(this.tokenize(t,i)),r=this.removeEmpty(this.tokenize(r,i));var c=r.length,u=t.length,f=1,m=c+u;i.maxEditLength!=null&&(m=Math.min(m,i.maxEditLength));var h=(n=i.timeout)!==null&&n!==void 0?n:1/0,p=Date.now()+h,g=[{oldPos:-1,lastComponent:void 0}],y=this.extractCommon(g[0],r,t,0,i);if(g[0].oldPos+1>=u&&y+1>=c)return l(qve(a,g[0].lastComponent,r,t,a.useLongestToken));var x=-1/0,b=1/0;function E(){for(var k=Math.max(x,-f);k<=Math.min(b,f);k+=2){var B=void 0,N=g[k-1],M=g[k+1];N&&(g[k-1]=void 0);var te=!1;if(M){var de=M.oldPos-k;te=M&&0<=de&&de<c}var Z=N&&N.oldPos+1<u;if(!te&&!Z){g[k]=void 0;continue}if(!Z||te&&N.oldPos<M.oldPos?B=a.addToPath(M,!0,!1,0,i):B=a.addToPath(N,!1,!0,1,i),y=a.extractCommon(B,r,t,k,i),B.oldPos+1>=u&&y+1>=c)return l(qve(a,B.lastComponent,r,t,a.useLongestToken));g[k]=B,B.oldPos+1>=u&&(b=Math.min(b,k-1)),y+1>=c&&(x=Math.max(x,k+1))}f++}if(s(E,"execEditLength"),o)s(function k(){setTimeout(function(){if(f>m||Date.now()>p)return o();E()||k()},0)},"exec")();else for(;f<=m&&Date.now()<=p;){var _=E();if(_)return _}},"diff"),addToPath:s(function(t,r,n,i,o){var a=t.lastComponent;return a&&!o.oneChangePerToken&&a.added===r&&a.removed===n?{oldPos:t.oldPos+i,lastComponent:{count:a.count+1,added:r,removed:n,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:r,removed:n,previousComponent:a}}},"addToPath"),extractCommon:s(function(t,r,n,i,o){for(var a=r.length,l=n.length,c=t.oldPos,u=c-i,f=0;u+1<a&&c+1<l&&this.equals(n[c+1],r[u+1],o);)u++,c++,f++,o.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return f&&!o.oneChangePerToken&&(t.lastComponent={count:f,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=c,u},"extractCommon"),equals:s(function(t,r,n){return n.comparator?n.comparator(t,r):t===r||n.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:s(function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},"removeEmpty"),castInput:s(function(t){return t},"castInput"),tokenize:s(function(t){return Array.from(t)},"tokenize"),join:s(function(t){return t.join("")},"join"),postProcess:s(function(t){return t},"postProcess")};function qve(e,t,r,n,i){for(var o=[],a;t;)o.push(t),a=t.previousComponent,delete t.previousComponent,t=a;o.reverse();for(var l=0,c=o.length,u=0,f=0;l<c;l++){var m=o[l];if(m.removed)m.value=e.join(n.slice(f,f+m.count)),f+=m.count;else{if(!m.added&&i){var h=r.slice(u,u+m.count);h=h.map(function(p,g){var y=n[f+g];return y.length>p.length?y:p}),m.value=e.join(h)}else m.value=e.join(r.slice(u,u+m.count));u+=m.count,m.added||(f+=m.count)}}return o}s(qve,"buildValues");var Pxr=new hh;function Wve(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}s(Wve,"longestCommonPrefix");function Gve(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}s(Gve,"longestCommonSuffix");function $ee(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}s($ee,"replacePrefix");function zee(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}s(zee,"replaceSuffix");function j_(e,t){return $ee(e,t,"")}s(j_,"removePrefix");function bM(e,t){return zee(e,t,"")}s(bM,"removeSuffix");function Hve(e,t){return t.slice(0,K0t(e,t))}s(Hve,"maximumOverlap");function K0t(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var n=t.length;e.length<t.length&&(n=e.length);var i=Array(n),o=0;i[0]=0;for(var a=1;a<n;a++){for(t[a]==t[o]?i[a]=i[o]:i[a]=o;o>0&&t[a]!=t[o];)o=i[o];t[a]==t[o]&&o++}o=0;for(var l=r;l<e.length;l++){for(;o>0&&e[l]!=t[o];)o=i[o];e[l]==t[o]&&o++}return o}s(K0t,"overlapCount");var EM="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",J0t=new RegExp("[".concat(EM,"]+|\\s+|[^").concat(EM,"]"),"ug"),IM=new hh;IM.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};IM.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(o){return o.segment})}else r=e.match(J0t)||[];var n=[],i=null;return r.forEach(function(o){/\s/.test(o)?i==null?n.push(o):n.push(n.pop()+o):/\s/.test(i)?n[n.length-1]==i?n.push(n.pop()+o):n.push(i+o):n.push(o),i=o}),n};IM.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};IM.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,n=null,i=null;return e.forEach(function(o){o.added?n=o:o.removed?i=o:((n||i)&&jve(r,i,n,o),r=o,n=null,i=null)}),(n||i)&&jve(r,i,n,null),e};function jve(e,t,r,n){if(t&&r){var i=t.value.match(/^\s*/)[0],o=t.value.match(/\s*$/)[0],a=r.value.match(/^\s*/)[0],l=r.value.match(/\s*$/)[0];if(e){var c=Wve(i,a);e.value=zee(e.value,a,c),t.value=j_(t.value,c),r.value=j_(r.value,c)}if(n){var u=Gve(o,l);n.value=$ee(n.value,l,u),t.value=bM(t.value,u),r.value=bM(r.value,u)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),n&&(n.value=n.value.replace(/^\s*/,""));else if(e&&n){var f=n.value.match(/^\s*/)[0],m=t.value.match(/^\s*/)[0],h=t.value.match(/\s*$/)[0],p=Wve(f,m);t.value=j_(t.value,p);var g=Gve(j_(f,p),h);t.value=bM(t.value,g),n.value=$ee(n.value,f,g),e.value=zee(e.value,f,f.slice(0,f.length-g.length))}else if(n){var y=n.value.match(/^\s*/)[0],x=t.value.match(/\s*$/)[0],b=Hve(x,y);t.value=bM(t.value,b)}else if(e){var E=e.value.match(/\s*$/)[0],_=t.value.match(/^\s*/)[0],k=Hve(E,_);t.value=j_(t.value,k)}}s(jve,"dedupeWhitespaceInChangeObjects");var X0t=new hh;X0t.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(EM,"]+|[^\\S\\n\\r]+|[^").concat(EM,"]"),"ug");return e.match(t)||[]};var Xee=new hh;Xee.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var o=n[i];i%2&&!t.newlineIsToken?r[r.length-1]+=o:r.push(o)}return r};Xee.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),hh.prototype.equals.call(this,e,t,r)};var Z0t=new hh;Z0t.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var eut=new hh;eut.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Yee(e){"@babel/helpers - typeof";return Yee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yee(e)}s(Yee,"_typeof");var V_=new hh;V_.useLongestToken=!0;V_.tokenize=Xee.tokenize;V_.castInput=function(e,t){var r=t.undefinedReplacement,n=t.stringifyReplacer,i=n===void 0?function(o,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(Kee(e,null,null,i),i,"  ")};V_.equals=function(e,t,r){return hh.prototype.equals.call(V_,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function Kee(e,t,r,n,i){t=t||[],r=r||[],n&&(e=n(i,e));var o;for(o=0;o<t.length;o+=1)if(t[o]===e)return r[o];var a;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),o=0;o<e.length;o+=1)a[o]=Kee(e[o],t,r,n,i);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),Yee(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var l=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&l.push(c);for(l.sort(),o=0;o<l.length;o+=1)c=l[o],a[c]=Kee(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}s(Kee,"canonicalize");var Jee=new hh;Jee.tokenize=function(e){return e.slice()};Jee.join=Jee.removeEmpty=function(e){return e};var Vve=require("fs");async function $ve(e,t,r,n,i){let o=new Map,a=0;for(let m of e){let h=m.node.fileName.toLowerCase(),p=o.get(h);p?p.symbols.push(m):o.set(h,{symbols:[m],topRank:a}),a++}if(o.delete(r.toLowerCase()),o.size===0)return[];let l=t,c=t/Math.min(4,o.size),u=[],f=Array.from(o.keys());f.sort((m,h)=>{let p=o.get(m).topRank,g=o.get(h).topRank;return p-g});for(let m of f){let h=o.get(m).symbols;if(h.length===0)continue;let p=h[0].node.fileName,g=h.reduce((y,x)=>y+x.node.extentRange.length,0);for(let y of h){if(l<=5)return u;gA(i);let x=y.node.extentRange.length/g,b=Math.min(l,x*c),E=(await rut([y])).elide(b).getText();l-=n.tokenLength(E),u.push({uri:p,value:E})}}return u}s($ve,"symbolRangesToCodeSnippets");async function rut(e){if(e.length===0)return new Yt([]);let t=e[0].node.fileName,r=[],n="";try{let i=Xo(t);i&&(n=(await Vve.promises.readFile(i)).toString())}catch{}for(let i of e)zve(i,n).forEach(o=>r.push(o));return new Yt(r)}s(rut,"sameFileSymbolRangeToElidableText");function zve(e,t){let n=[],i=e.node,o=t.substring(Zee(t,i.commentRange.start),i.commentRange.end);n.push([ete(o),1-3e-4]);let a=Zee(t,i.bodyRange.start),l=Zee(t,i.extentRange.start),c=i.bodyRange.length===0?t.substring(l,i.extentRange.end):t.substring(i.commentRange.length===0?l:i.commentRange.end,a);if(lv(i.kind)&&(c="BEGIN "+c.trimStart()),n.push([ete(c),1-1e-4]),e.children.length>0)for(let u of e.children)n.push(...zve(u,t));else{let u=1-(lv(e.node.kind)?3e-4:4e-4),f=t.substring(a,i.bodyRange.end);n.push([ete(f),u])}return lv(i.kind)&&n.push(["END "+c.substring(6),1-1e-4]),n.filter(u=>u[0].length>0)}s(zve,"prepareForElidableText");function Zee(e,t){for(;t-1>=0&&(e[t-1]==="	"||e[t-1]===" ");)t--;return t}s(Zee,"shiftLeftToNearestLineEndingOrAlphanumeric");function ete(e){let t=0;for(;t<e.length&&(e[t]==="\r"||e[t]===`
`);)t++;let r=e.length-1;for(;r>=0&&(e[r]==="\r"||e[r]===`
`||e[r]===" "||e[r]==="	");)r--;return e.substring(t,r+1)}s(ete,"trimLineEndingsAndTrailingWhitespace");var tte=class{constructor(t,r){this.referenceExtractors=new Map;this.index=t;for(let n of r)this.referenceExtractors.set(n.languageId,n)}static{s(this,"ContextRetrievalStrategy")}},cv=class extends tte{static{s(this,"UnqualifiedNameRetrievalStrategy")}constructor(t,r,n,i){super(t,r),this.caseSensitive=n,this.typesOnly=i}async getContextAtPositionAsync(t,r,n,i,o){let a=this.referenceExtractors.get(i);if(!a)return[];gA(o);let l=await a.extractReferences(t,r);gA(o);let c=Array.from(l);c.sort((h,p)=>this.compareSymbolRangesByProximityToCaret(h,p,n));let u=[],f=new Set,m=await this.findDefinitionsViaUnqualifiedNames(c,o);this.typesOnly&&(m=m.filter(h=>lv(h.kind)));for(let h of m)f.has(JSON.stringify(h))||(f.add(JSON.stringify(h)),u.push(await this.makeSymbolRangeNodeFromDefinition(h,o)));return u}async findDefinitionsViaUnqualifiedNames(t,r){let n=Array.from(new Set(t.map(f=>f.unqualifiedName))),i=!this.caseSensitive,o=await this.index.findPotentialDefinitionsAsync(n,i,r),a=s(f=>i?f.toLowerCase():f,"lowercaseIfCaseInsensitive"),l=s(f=>a(f.unqualifiedName),"getSymbolKey"),c=new Map;for(let f of o){let m=l(f),h=c.get(m)??[];c.set(m,[...h,f])}let u=[];for(let f of n){let m=c.get(a(f));!m||m.length>20||u.push(...m)}return u}async makeSymbolRangeNodeFromDefinition(t,r){if(gA(r),lv(t.kind)){let n=await this.index.findSymbolsByFullyQualifiedNamePrefix(t.fileName,t.fullyQualifiedName+".",r),i=await Promise.all(n.map(o=>this.makeSymbolRangeNodeFromDefinition(o,r)));return{node:t,children:i}}else return{node:t,children:[]}}compareSymbolRangesByProximityToCaret(t,r,n){let i=t.extentRange.end<=n,o=r.extentRange.end<=n;if(i&&!o)return-1;if(!i&&o)return 1;let a=Math.abs(t.extentRange.start-n),l=Math.abs(r.extentRange.start-n);return a-l}},TM=class{constructor(t,r){this.strategies=new Map;this.strategies.set("go",new cv(t,r,!0,!0)),this.strategies.set("java",new cv(t,r,!0,!0)),this.strategies.set("python",new cv(t,r,!0,!1)),this.strategies.set("typescript",new cv(t,r,!0,!0)),this.strategies.set("javascript",new cv(t,r,!0,!1))}static{s(this,"SyntaxAwareContextRetrieval")}async getStringifiedContextAtPositionAsync(t,r,n,i,o,a){let l=await this.getContextAtPositionAsync(t,r,n,i,a);gA(a);let c=lo();return $ve(l,o,t,c,a)}async getContextAtPositionAsync(t,r,n,i,o){return this.strategies.has(i)?this.strategies.get(i).getContextAtPositionAsync(t,r,n,i,o):[]}};d();d();d();d();var uv={Id:"id"},uf={FilePath:"filePath",LastWriteTimeUtc:"lastWriteTimeUtc"},Pi={DocumentId:"documentId",FullyQualifiedName:"fullyQualifiedName",UnqualifiedName:"unqualifiedName",CommentStart:"commentStart",CommentLength:"commentLength",NameStart:"nameStart",NameLength:"nameLength",BodyStart:"bodyStart",BodyLength:"bodyLength",ExtentStart:"extentStart",ExtentLength:"extentLength",SymbolKind:"symbolKind",RefKind:"refKind"};d();d();var wM=class{constructor(t,r,n){this.tableName=t;this.createOptimizations=r;this.extraCreateDeclarations=n;this.primaryKey=new rte(uv.Id)}static{s(this,"SQLTableQueryGenerator")}createTableQueries(){return this.createTableString??=this.generateCreateTableString(),[this.createTableString,...this.createOptimizations]}generateCreateTableString(){let t=this.fields.map(r=>r.initColumnString());return this.extraCreateDeclarations&&t.push(this.extraCreateDeclarations),t.push(),[`CREATE TABLE IF NOT EXISTS ${this.tableName} (`,`    ${this.primaryKey.initColumnString()},`,`    ${t.join(`,
`)}`,")"].join(`
`)}insertQuery(t,r){this.cachedInsertQueryStrings??=this.generateInsertQueryStrings();let n=[this.cachedInsertQueryStrings.prefix,Array(r).fill(this.cachedInsertQueryStrings.valuesTemplate).join(`,
`)];return t&&n.push("ON CONFLICT DO NOTHING"),n.join(`
`)}generateInsertQueryStrings(){return{prefix:`INSERT INTO ${this.tableName} (${this.fields.map(t=>t.name).join(", ")})
VALUES`,valuesTemplate:`(${Array(this.fields.length).fill("?").join(", ")})`}}},$_=class e extends wM{constructor(){super(e.tableName,[`CREATE UNIQUE INDEX IF NOT EXISTS 'IX_Document_FilePath' ON '${e.tableName}' ('${uf.FilePath}');`]);this.fields=[new K_(uf.FilePath,{notNull:!0,collate:!0,noCase:!0,unique:!0}),new lu(uf.LastWriteTimeUtc,{notNull:!0})]}static{s(this,"DocumentQueryGenerator")}static{this.tableName="Document"}},z_=class e extends wM{constructor(){super(e.tableName,[`CREATE INDEX IF NOT EXISTS 'IX_Symbol_DocumentId' ON '${e.tableName}' ('${Pi.DocumentId}', '${Pi.ExtentStart}', '${Pi.ExtentLength}');`,`CREATE INDEX IF NOT EXISTS 'IX_Symbol_UnqualifiedName' ON '${e.tableName}' ('${Pi.UnqualifiedName}');`],`FOREIGN KEY(${Pi.DocumentId}) REFERENCES Document(${uv.Id}) ON DELETE CASCADE`);this.fields=[new lu(Pi.DocumentId),new K_(Pi.FullyQualifiedName,{notNull:!0}),new K_(Pi.UnqualifiedName,{notNull:!0}),new lu(Pi.CommentStart,{notNull:!0}),new lu(Pi.CommentLength,{notNull:!0}),new lu(Pi.NameStart,{notNull:!0}),new lu(Pi.NameLength,{notNull:!0}),new lu(Pi.BodyStart,{notNull:!0}),new lu(Pi.BodyLength,{notNull:!0}),new lu(Pi.ExtentStart,{notNull:!0}),new lu(Pi.ExtentLength,{notNull:!0}),new lu(Pi.SymbolKind,{notNull:!0}),new lu(Pi.RefKind,{notNull:!0})]}static{s(this,"SymbolQueryGenerator")}static{this.tableName="Symbol"}},Y_=class{constructor(t,r){this.name=t;this.notNull=r?.notNull??!1}static{s(this,"SQLField")}},K_=class extends Y_{static{s(this,"StringColumn")}constructor(t,r){super(t,{notNull:r?.notNull}),this.collate=r?.collate??!1,this.noCase=r?.noCase??!1,this.unique=r?.unique??!1}initColumnString(){let t=this.collate?"COLLATE":void 0,r=this.noCase?"NOCASE":void 0,n=this.notNull?"NOT NULL":void 0,i=this.unique?"UNIQUE":void 0,o=[t,r,n,i].filter(a=>a).join(" ");return`'${this.name}' VARCHAR(500) ${o}`}},lu=class extends Y_{static{s(this,"NumberColumn")}initColumnString(){return`'${this.name}' INTEGER${this.notNull?" NOT NULL":""}`}},rte=class extends Y_{static{s(this,"NumberPrimaryKeyColumn")}initColumnString(){return`'${this.name}' INTEGER PRIMARY KEY AUTOINCREMENT${this.notNull?" NOT NULL":""}`}};var _M=class{static{s(this,"SQLTable")}constructor(t){this.queryGenerator=this.createQueryGenerator(),this.init=this.doInit(t)}async doInit(t){let r=await t;if(r)return await this.create(r),r}async create(t){let r=s(i=>new Promise((o,a)=>{t.run(i,l=>{l?a(l):o()})}),"runQuery"),n=this.queryGenerator.createTableQueries();for(let i of n)await r(i)}async insert(t,r){let n=await this.init;n&&await new Promise((i,o)=>{let a=this.queryGenerator.insertQuery(r,t.length);n.run(a,t.map(l=>Object.values(l)).flat(),function(l){l?o(l):i(this)})})}async getAllRows(){let t=await this.init;return t?Dd(t,`SELECT * FROM ${this.queryGenerator.tableName}`,[]):[]}async deleteRow(t){let r=await this.init;if(r)return Dd(r,`DELETE FROM ${this.queryGenerator.tableName} WHERE ${uv.Id} = ?`,[t])}},AA=class e extends _M{static{s(this,"DocumentTable")}static{this.tableName=$_.tableName}createQueryGenerator(){return new $_}async updateTimestamp(t,r){let n=await this.init;n&&await Dd(n,`UPDATE ${e.tableName} SET ${uf.LastWriteTimeUtc} = ? WHERE ${uf.FilePath} = ?`,[r,t])}async deleteAllWithPath(t){let r=await this.init;r&&await Dd(r,`DELETE FROM ${e.tableName} WHERE ${uf.FilePath} = ?`,[t])}async getDocumentByFilePath(t){let r=await this.init;return r?Dd(r,`SELECT * FROM ${this.queryGenerator.tableName} WHERE ${uf.FilePath} = ?`,[t]):[]}},za=class e extends _M{static{s(this,"SymbolTable")}static{this.tableName=z_.tableName}createQueryGenerator(){return new z_}async clearAllSymbolsFromDocument(t){let r=await this.init;if(r)return Dd(r,`DELETE FROM ${e.tableName} WHERE ${Pi.DocumentId} = ?`,[t])}};async function Dd(e,t,r){return new Promise((n,i)=>e.all(t,r,(o,a)=>{o&&i(o),n(a)}))}s(Dd,"runPromisifiedDBQuery");var kM=class{constructor(t){this.databaseFileName=t;this.innerJoinStatement=`INNER JOIN ${AA.tableName} ON ${za.tableName}.${Pi.DocumentId} = ${AA.tableName}.${uv.Id}`;this.db=this.initDb(t),this.documentTable=new AA(this.db),this.symbolTable=new za(this.db)}static{s(this,"DocumentSymbolDatabase")}async initDb(t){let r;try{r=await Promise.resolve().then(()=>Ze(sbe()))}catch(i){console.error("Error loading sqlite3 module:",i);return}let n;try{n=await new Promise((i,o)=>{let a=new r.default.Database(t,l=>{l?o(l):i(a)})})}catch(i){console.error("Error initializing database:",i);return}return await Dd(n,"pragma journal_mode=wal",[]),await Dd(n,"pragma synchronous=normal",[]),await Dd(n,"pragma optimize=0x10002",[]),await Dd(n,"pragma foreign_keys = ON",[]),n}async close(){let t=await this.db;if(t)return await this.documentTable.init,await this.symbolTable.init,new Promise((r,n)=>{t.close(i=>i?n(i):r())})}async querySymbolsFuzzilyUsingUnqualifiedName(t,r){return await this.query([`SELECT * FROM ${za.tableName}`,this.innerJoinStatement,`WHERE ${Pi.UnqualifiedName} BETWEEN ? AND (? || '~')`,`ORDER BY ${Pi.UnqualifiedName}`,"LIMIT ?"].join(`
`),[t,t,r])}async querySymbolsUsingUnqualifiedNames(t,r){let n=t.map(()=>"?").join(", "),i=r?"COLLATE NOCASE ":"";return await this.query([`SELECT * FROM ${za.tableName}`,this.innerJoinStatement,`WHERE ${Pi.UnqualifiedName} ${i}IN (${n})`].join(`
`),t)}async querySymbolsUsingFullyQualifiedName(t){return this.query([`SELECT * FROM ${za.tableName}`,this.innerJoinStatement,`WHERE ${Pi.FullyQualifiedName} = ?`].join(`
`),[t])}async querySymbolsContainingPosition(t,r){return this.query([`SELECT * FROM ${za.tableName}`,this.innerJoinStatement,`WHERE ${AA.tableName}.${uf.FilePath} = ? AND ${za.tableName}.${Pi.ExtentStart} <= ? AND (${za.tableName}.${Pi.ExtentStart} + ${za.tableName}.${Pi.ExtentLength}) >= ?`].join(`
`),[t,r,r])}async querySymbolsContainedByRange(t,r,n){return this.query([`SELECT * FROM ${za.tableName}`,this.innerJoinStatement,`WHERE ${AA.tableName}.${uf.FilePath} = ? AND ${za.tableName}.${Pi.ExtentStart} >= ? AND (${za.tableName}.${Pi.ExtentStart} + ${za.tableName}.${Pi.ExtentLength}) <= ?`,`ORDER BY ${za.tableName}.${Pi.ExtentStart}`].join(`
`),[t,r,n])}async querySymbolsByQualifiedNamePrefix(t,r){return this.query([`SELECT * FROM ${za.tableName}`,this.innerJoinStatement,`WHERE ${AA.tableName}.${uf.FilePath} = ? AND ${za.tableName}.${Pi.FullyQualifiedName} LIKE ?`,`ORDER BY ${za.tableName}.${Pi.ExtentStart}`].join(`
`),[t,`${r}%`])}async insertSymbols(t){return await this.symbolTable.insert(t,!1)}async insertDocument(t,r,n=!1){return await this.documentTable.insert([{filePath:t,lastWriteTimeUtc:r}],n)}async clearAllSymbolsFromDocument(t){return this.symbolTable.clearAllSymbolsFromDocument(t)}async updateDocumentTimestamp(t,r){return this.documentTable.updateTimestamp(t,r)}async deleteAllDocumentsWithPath(t){return this.documentTable.deleteAllWithPath(t)}async getAllDocuments(){return this.documentTable.getAllRows()}getDocument(t){return this.documentTable.getDocumentByFilePath(t)}async query(t,r){let n=await this.db;return n?(await this.documentTable.init,await this.symbolTable.init,Dd(n,t,r)):[]}};var BM=class{static{s(this,"SQLStorageReaderWriter")}constructor(t){this.database=new kM(t)}async close(){await this.database.close()}async insertOrReplaceDocumentSymbolsAsync(t,r,n){let i=await this.getOrCreateDocumentAsync(t,r);await this.database.clearAllSymbolsFromDocument(i.id),n.length>0&&await this.database.insertSymbols(n.map(o=>({documentId:i.id,fullyQualifiedName:o.fullyQualifiedName,unqualifiedName:o.unqualifiedName,commentStart:o.commentRange.start,commentLength:o.commentRange.length,nameStart:o.nameRange.start,nameLength:o.nameRange.length,bodyStart:o.bodyRange.start,bodyLength:o.bodyRange.length,extentStart:o.extentRange.start,extentLength:o.extentRange.length,symbolKind:o.kind,refKind:o.refKind}))),await this.database.updateDocumentTimestamp(t,r)}async addDocumentsAsync(t){for(let r of t)r=r.toLowerCase(),await this.database.insertDocument(r,Date.now(),!0)}async deleteDocumentAsync(t){return await this.database.deleteAllDocumentsWithPath(t.toLowerCase())}async updateDocumentTimestampAsync(t,r){return await this.database.updateDocumentTimestamp(t.toLowerCase(),r)}async fuzzyMatchSymbolsAsync(t,r){return C8(await this.database.querySymbolsFuzzilyUsingUnqualifiedName(t,r))}async findPotentialDefinitionsAsync(t,r,n){let i=[],a=0;for(;a<t.length;){let l=t.slice(a,a+500);a+=500;let c=await this.database.querySymbolsUsingUnqualifiedNames(l,r);i.push(...c),gA(n)}return C8(i)}async getDefinitionsAsync(t){return C8(await this.database.querySymbolsUsingFullyQualifiedName(t))}async findSymbolsContainingPositionAsync(t,r){let n=await this.database.querySymbolsContainingPosition(t.toLowerCase(),r);return C8(n)}async findSymbolsContainedByRangeAsync(t,r,n){return C8(await this.database.querySymbolsContainedByRange(t.toLowerCase(),r,n))}async findSymbolsByFullyQualifiedNamePrefix(t,r){return C8(await this.database.querySymbolsByQualifiedNamePrefix(t.toLowerCase(),r))}async getDocumentsAsync(){return this.database.getAllDocuments()}async getDocumentAsync(t){let r=await this.database.getDocument(t);if(r?.at(0))return r[0]}async getOrCreateDocumentAsync(t,r){let n=await this.database.getDocument(t);if(n?.at(0))return n[0];await this.database.insertDocument(t,r,!0);let i=await this.database.getDocument(t);if(!i)throw Error("Unable to insert document");return i[0]}};function C8(e){return e.map(t=>new B5(t.filePath,t.fullyQualifiedName,t.unqualifiedName,new au(t.commentStart,t.commentLength),new au(t.nameStart,t.nameLength),new au(t.bodyStart,t.bodyLength),new au(t.extentStart,t.extentLength),t.symbolKind,t.refKind))}s(C8,"symbolsToSymbolRanges");var PM=Ze(require("fs/promises"));var DM=class{static{s(this,"Index")}constructor(t,r){this.storage=new BM(t),this.symbolExtractors=r}dispose(){return this.storage.close()}get reader(){return this.storage}async indexFile(t,r){let n=Xo(t);if(!n)throw Error(`Cannot resolve a readable file path from ${t}`);let i;try{i=await PM.stat(n)}catch{await this.storage.deleteDocumentAsync(t);return}let o=i.mtimeMs,a=await this.storage.getDocumentAsync(t);if(a&&a.lastWriteTimeUtc>=o)return;let l=this.symbolExtractors.find(f=>f.languageId==r);if(!l)return;let c=(await PM.readFile(n)).toString(),u=await l.extractSymbols(t,c);await this.storage.insertOrReplaceDocumentSymbolsAsync(t,o,u)}async getDocumentFilePaths(){return(await this.storage.getDocumentsAsync()).map(r=>r.filePath)}};d();function lte(e){let t=e;return typeof t?.cwd=="string"&&Array.isArray(t?.indexWorkspaceRoots)&&t.indexWorkspaceRoots.every(r=>uut(r))}s(lte,"isIndexWorkerData");var X_=class{static{s(this,"IndexNotification")}constructor(t){this.operation=t}},D5=class extends X_{constructor(r,n){super(n);this.id=r;this.id=r}static{s(this,"IndexRequest")}},NM=class extends X_{constructor(r){super(Oc.Cancel);this.messageIdToCancel=r}static{s(this,"CancellationNotification")}},Oc={CreateIndex:"createIndex",AddOrInvalidated:"addOrInvalidated",GetContext:"getContext",Exit:"exit",Response:"response",RemoveIndex:"removeIndex",Cancel:"cancel",GetAllDocumentsInWorkspace:"getAllDocumentsInWorkspace"},LM=class extends D5{constructor(r,n,i){super(r,Oc.CreateIndex);this.baseWorkspaceFolderUri=n;this.databaseFilePath=i}static{s(this,"CreateIndexRequest")}},FM=class extends D5{constructor(r,n){super(r,Oc.RemoveIndex);this.baseWorkspaceFolderUri=n}static{s(this,"RemoveIndexRequest")}},MM=class extends D5{constructor(r,n,i){super(r,Oc.AddOrInvalidated);this.fileUri=n;this.languageId=i}static{s(this,"AddOrInvalidatedRequest")}},QM=class extends D5{constructor(r,n){super(r,Oc.GetAllDocumentsInWorkspace);this.baseWorkspaceFolderUri=n}static{s(this,"GetAllDocumentsRequest")}},OM=class extends D5{constructor(r,n,i,o,a){super(r,Oc.GetContext);this.fileUri=n;this.code=i;this.offset=o;this.languageId=a}static{s(this,"GetContextRequest")}},UM=class extends D5{static{s(this,"ExitRequest")}constructor(t){super(t,Oc.Exit)}},ph=class extends X_{constructor(r,n,i){super(Oc.Response);this.id=r;this.error=n;this.data=i;n&&"code"in n&&typeof n.code=="string"&&(this.code=n.code)}static{s(this,"ResponseMessage")}};function uut(e){return"databaseFilePath"in e&&"rootPath"in e}s(uut,"isIndexableWorkspaceFolder");var abe=Ze(ii()),fv=require("worker_threads");var qM=class{static{s(this,"IndexInfo")}constructor(t){this.index=new DM(t,xM),this.contextRetreival=new TM(this.index.reader,Mve)}},cte=class e{constructor(t,r){this.indices=new Map;this.cancellationTokens=new Map;for(let n of r){let i=Ga(n.rootPath);this.indices.set(i,new qM(n.databaseFilePath))}this.port=t,this.port.on("message",n=>void this.dispatchMessage(n,this.indices,this.cancellationTokens))}static{s(this,"IndexWorker")}async dispatchMessage(t,r,n){try{let i=new abe.CancellationTokenSource;n.set(t.id,i);let o;switch(t.operation){case Oc.AddOrInvalidated:o=await e.dispatchAddOrInvalidate(t,r,i.token);break;case Oc.GetContext:o=await e.dispatchGetContext(t,r,i.token);break;case Oc.Cancel:n.get(t.id)?.cancel(),o=new ph(t.id,void 0,void 0);break;case Oc.Exit:o=await this.dispatchExit(t,r,i.token);break;case Oc.CreateIndex:o=await e.dispatchCreateIndex(t,r,i.token);break;case Oc.RemoveIndex:o=await e.dispatchRemoveIndex(t,r,i.token);break;case Oc.GetAllDocumentsInWorkspace:o=await e.GetAllDocumentsInWorkspaceRequest(t,r,i.token);break;default:this.port?.postMessage(new Error(`Unknown operation: ${t.operation}`))}o&&this.port?.postMessage(o),n.get(t.id)?.dispose(),n.delete(t.id)}catch(i){if(!(i instanceof Error))throw i;this.port?.postMessage(new ph(t.id,i,void 0))}}static async GetAllDocumentsInWorkspaceRequest(t,r,n){let i=Ga(t.baseWorkspaceFolderUri),o,a;return r.has(i)?a=await r.get(i).index.getDocumentFilePaths():o=new Error(`Index not found for ${t.baseWorkspaceFolderUri}`),new ph(t.id,o,a)}static async dispatchAddOrInvalidate(t,r,n){let i=Ga(t.fileUri),o=e.getIndexInfo(i,r)?.index,a;return o?await o.indexFile(t.fileUri,t.languageId):a=new Error(`Index not found for ${t.fileUri}`),new ph(t.id,a,void 0)}static async dispatchGetContext(t,r,n){let i=Ga(t.fileUri),o=e.getIndexInfo(i,r)?.contextRetreival,a,l;return o?l=await o.getStringifiedContextAtPositionAsync(t.fileUri,t.code,t.offset,t.languageId,8e3,n):a=new Error(`ContextRetrieval not found for ${t.fileUri}`),new ph(t.id,a,l)}async dispatchExit(t,r,n){for(let i of r.values())await i.index.dispose();r.clear(),this.port?.postMessage(new ph(t.id,void 0,void 0)),this.port?.close()}static async dispatchCreateIndex(t,r,n){let i=Ga(t.baseWorkspaceFolderUri);return r.has(i)||r.set(i,new qM(t.databaseFilePath)),new ph(t.id,void 0,void 0)}static async dispatchRemoveIndex(t,r,n){let i=Ga(t.baseWorkspaceFolderUri);if(r.has(i)){let o=r.get(i);o&&await o.index.dispose(),r.delete(i)}return new ph(t.id,void 0,void 0)}static getIndexInfo(t,r){for(let[n,i]of r)if(t.startsWith(n))return i}};function lbe(){return lte(fv.workerData)}s(lbe,"isIndexWorker");function cbe(){let e=fv.parentPort;if(!e)throw new Error("This must be run a worker thread.");if(!lte(fv.workerData))throw new Error("Worker data must provide a valid database path.");let t=fv.workerData.cwd;process.cwd=()=>t,new cte(e,fv.workerData.indexWorkspaceRoots)}s(cbe,"runIndexWorker");d();var Z_=Ze(require("util"));function ube(e){let t=new console.Console(process.stderr,process.stderr);function r(n,...i){if(_d(e)==="dev")return e.get(Ha).logIt(e,n,"console",...i)}return s(r,"logIt"),t.debug=(...n)=>r(4,...n),t.info=(...n)=>r(3,...n),t.warn=(...n)=>r(2,...n),t.error=(...n)=>r(1,...n),t.assert=(n,...i)=>{n||(i.length===0?r(2,"Assertion failed"):r(2,"Assertion failed:",Z_.format(...i)))},t.dir=(n,i)=>r(4,Z_.inspect(n,i)),t.log=t.debug.bind(t),t.trace=(...n)=>{let i=new Error(Z_.format(...n));i.name="Trace",t.log(i)},t}s(ube,"createConsole");var Gze=Ze(require("fs/promises")),Hze=Ze(require("os")),Im=Ze(Ah()),jze=require("worker_threads");d();d();var TQ=require("assert");d();d();var Eft={right:Sft,center:Rft},Ift=0,yQ=1,Tft=2,CQ=3,Lte=class{static{s(this,"UI")}constructor(t){var r;this.width=t.width,this.wrap=(r=t.wrap)!==null&&r!==void 0?r:!0,this.rows=[]}span(...t){let r=this.div(...t);r.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let r=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(r),r}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let r=t.split(`
`).map(i=>i.split("	")),n=0;return r.forEach(i=>{i.length>1&&ff.stringWidth(i[0])>n&&(n=Math.min(Math.floor(this.width*.5),ff.stringWidth(i[0])))}),r.forEach(i=>{this.div(...i.map((o,a)=>({text:o.trim(),padding:this.measurePadding(o),width:a===0&&i.length>1?n:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let r=ff.stripAnsi(t);return[0,r.match(/\s*$/)[0].length,0,r.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(r=>{this.rowToString(r,t)}),t.filter(r=>!r.hidden).map(r=>r.text).join(`
`)}rowToString(t,r){return this.rasterize(t).forEach((n,i)=>{let o="";n.forEach((a,l)=>{let{width:c}=t[l],u=this.negatePadding(t[l]),f=a;if(u>ff.stringWidth(a)&&(f+=" ".repeat(u-ff.stringWidth(a))),t[l].align&&t[l].align!=="left"&&this.wrap){let h=Eft[t[l].align];f=h(f,u),ff.stringWidth(f)<u&&(f+=" ".repeat((c||0)-ff.stringWidth(f)-1))}let m=t[l].padding||[0,0,0,0];m[CQ]&&(o+=" ".repeat(m[CQ])),o+=iEe(t[l],f,"| "),o+=f,o+=iEe(t[l],f," |"),m[yQ]&&(o+=" ".repeat(m[yQ])),i===0&&r.length>0&&(o=this.renderInline(o,r[r.length-1]))}),r.push({text:o.replace(/ +$/,""),span:t.span})}),r}renderInline(t,r){let n=t.match(/^ */),i=n?n[0].length:0,o=r.text,a=ff.stringWidth(o.trimRight());return r.span?this.wrap?i<a?t:(r.hidden=!0,o.trimRight()+" ".repeat(i-a)+t.trimLeft()):(r.hidden=!0,o+t):t}rasterize(t){let r=[],n=this.columnWidths(t),i;return t.forEach((o,a)=>{o.width=n[a],this.wrap?i=ff.wrap(o.text,this.negatePadding(o),{hard:!0}).split(`
`):i=o.text.split(`
`),o.border&&(i.unshift("."+"-".repeat(this.negatePadding(o)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(o)+2)+"'")),o.padding&&(i.unshift(...new Array(o.padding[Ift]||0).fill("")),i.push(...new Array(o.padding[Tft]||0).fill(""))),i.forEach((l,c)=>{r[c]||r.push([]);let u=r[c];for(let f=0;f<a;f++)u[f]===void 0&&u.push("");u.push(l)})}),r}negatePadding(t){let r=t.width||0;return t.padding&&(r-=(t.padding[CQ]||0)+(t.padding[yQ]||0)),t.border&&(r-=4),r}columnWidths(t){if(!this.wrap)return t.map(a=>a.width||ff.stringWidth(a.text));let r=t.length,n=this.width,i=t.map(a=>{if(a.width)return r--,n-=a.width,a.width}),o=r?Math.floor(n/r):0;return i.map((a,l)=>a===void 0?Math.max(o,wft(t[l])):a)}};function iEe(e,t,r){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?r:"  ":""}s(iEe,"addBorder");function wft(e){let t=e.padding||[],r=1+(t[CQ]||0)+(t[yQ]||0);return e.border?r+4:r}s(wft,"_minWidth");function _ft(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}s(_ft,"getWindowWidth");function Sft(e,t){e=e.trim();let r=ff.stringWidth(e);return r<t?" ".repeat(t-r)+e:e}s(Sft,"alignRight");function Rft(e,t){e=e.trim();let r=ff.stringWidth(e);return r>=t?e:" ".repeat(t-r>>1)+e}s(Rft,"alignCenter");var ff;function oEe(e,t){return ff=t,new Lte({width:e?.width||_ft(),wrap:e?.wrap})}s(oEe,"cliui");d();var sEe=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function Fte(e){return e.replace(sEe,"")}s(Fte,"stripAnsi");function aEe(e,t){let[r,n]=e.match(sEe)||["",""];e=Fte(e);let i="";for(let o=0;o<e.length;o++)o!==0&&o%t===0&&(i+=`
`),i+=e.charAt(o);return r&&n&&(i=`${r}${i}${n}`),i}s(aEe,"wrap");function Mte(e){return oEe(e,{stringWidth:s(t=>[...t].length,"stringWidth"),stripAnsi:Fte,wrap:aEe})}s(Mte,"ui");d();var E8=require("path"),xQ=require("fs");function Qte(e,t){let r=(0,E8.resolve)(".",e),n;for((0,xQ.statSync)(r).isDirectory()||(r=(0,E8.dirname)(r));;){if(n=t(r,(0,xQ.readdirSync)(r)),n)return(0,E8.resolve)(r,n);if(r=(0,E8.dirname)(n=r),n===r)break}}s(Qte,"default");var EEe=require("util"),IEe=require("fs"),TEe=require("url");d();var dEe=require("util"),IQ=require("path");d();function pv(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let r="",n=!1,i=e.match(/^-+/);for(let o=i?i[0].length:0;o<e.length;o++){let a=e.charAt(o);n&&(n=!1,a=a.toUpperCase()),o!==0&&(a==="-"||a==="_")?n=!0:a!=="-"&&a!=="_"&&(r+=a)}return r}}s(pv,"camelCase");function vQ(e,t){let r=e.toLowerCase();t=t||"-";let n="";for(let i=0;i<e.length;i++){let o=r.charAt(i),a=e.charAt(i);o!==a&&i>0?n+=`${t}${r.charAt(i)}`:n+=a}return n}s(vQ,"decamelize");function bQ(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}s(bQ,"looksLikeNumber");d();d();function lEe(e){if(Array.isArray(e))return e.map(a=>typeof a!="string"?a+"":a);e=e.trim();let t=0,r=null,n=null,i=null,o=[];for(let a=0;a<e.length;a++){if(r=n,n=e.charAt(a),n===" "&&!i){r!==" "&&t++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),o[t]||(o[t]=""),o[t]+=n}return o}s(lEe,"tokenizeArgString");d();var Qd;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(Qd||(Qd={}));var yA,EQ=class{static{s(this,"YargsParser")}constructor(t){yA=t}parse(t,r){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),i=lEe(t),o=typeof t=="string",a=kft(Object.assign(Object.create(null),n.alias)),l=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),c=Object.assign(Object.create(null),n.default),u=n.configObjects||[],f=n.envPrefix,m=l["populate--"],h=m?"--":"_",p=Object.create(null),g=Object.create(null),y=n.__||yA.format,x={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},b=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,E=new RegExp("^--"+l["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(Y){let ne=typeof Y=="object"?Y.key:Y,Fe=Object.keys(Y).map(function(Se){return{boolean:"bools",string:"strings",number:"numbers"}[Se]}).filter(Boolean).pop();Fe&&(x[Fe][ne]=!0),x.arrays[ne]=!0,x.keys.push(ne)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(Y){x.bools[Y]=!0,x.keys.push(Y)}),[].concat(n.string||[]).filter(Boolean).forEach(function(Y){x.strings[Y]=!0,x.keys.push(Y)}),[].concat(n.number||[]).filter(Boolean).forEach(function(Y){x.numbers[Y]=!0,x.keys.push(Y)}),[].concat(n.count||[]).filter(Boolean).forEach(function(Y){x.counts[Y]=!0,x.keys.push(Y)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(Y){x.normalize[Y]=!0,x.keys.push(Y)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([Y,ne])=>{typeof ne=="number"&&(x.nargs[Y]=ne,x.keys.push(Y))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([Y,ne])=>{typeof ne=="function"&&(x.coercions[Y]=ne,x.keys.push(Y))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(Y){x.configs[Y]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([Y,ne])=>{(typeof ne=="boolean"||typeof ne=="function")&&(x.configs[Y]=ne)})),De(n.key,a,n.default,x.arrays),Object.keys(c).forEach(function(Y){(x.aliases[Y]||[]).forEach(function(ne){c[ne]=c[Y]})});let _=null;Ge();let k=[],B=Object.assign(Object.create(null),{_:[]}),N={};for(let Y=0;Y<i.length;Y++){let ne=i[Y],Fe=ne.replace(/^-{3,}/,"---"),Se,Ce,Ue,Ve,tt,Ct;if(ne!=="--"&&/^-/.test(ne)&&ft(ne))M(ne);else if(Fe.match(/^---+(=|$)/)){M(ne);continue}else if(ne.match(/^--.+=/)||!l["short-option-groups"]&&ne.match(/^-.+=/))Ve=ne.match(/^--?([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&(be(Ve[1],x.arrays)?Y=de(Y,Ve[1],i,Ve[2]):be(Ve[1],x.nargs)!==!1?Y=te(Y,Ve[1],i,Ve[2]):Z(Ve[1],Ve[2],!0));else if(ne.match(E)&&l["boolean-negation"])Ve=ne.match(E),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],Z(Ce,be(Ce,x.arrays)?[!1]:!1));else if(ne.match(/^--.+/)||!l["short-option-groups"]&&ne.match(/^-[^-]+/))Ve=ne.match(/^--?(.+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],be(Ce,x.arrays)?Y=de(Y,Ce,i):be(Ce,x.nargs)!==!1?Y=te(Y,Ce,i):(tt=i[Y+1],tt!==void 0&&(!tt.match(/^-/)||tt.match(b))&&!be(Ce,x.bools)&&!be(Ce,x.counts)||/^(true|false)$/.test(tt)?(Z(Ce,tt),Y++):Z(Ce,lt(Ce))));else if(ne.match(/^-.\..+=/))Ve=ne.match(/^-([^=]+)=([\s\S]*)$/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=3&&Z(Ve[1],Ve[2]);else if(ne.match(/^-.\..+/)&&!ne.match(b))tt=i[Y+1],Ve=ne.match(/^-(.\..+)/),Ve!==null&&Array.isArray(Ve)&&Ve.length>=2&&(Ce=Ve[1],tt!==void 0&&!tt.match(/^-/)&&!be(Ce,x.bools)&&!be(Ce,x.counts)?(Z(Ce,tt),Y++):Z(Ce,lt(Ce)));else if(ne.match(/^-[^-]+/)&&!ne.match(b)){Ue=ne.slice(1,-1).split(""),Se=!1;for(let Pt=0;Pt<Ue.length;Pt++){if(tt=ne.slice(Pt+2),Ue[Pt+1]&&Ue[Pt+1]==="="){Ct=ne.slice(Pt+3),Ce=Ue[Pt],be(Ce,x.arrays)?Y=de(Y,Ce,i,Ct):be(Ce,x.nargs)!==!1?Y=te(Y,Ce,i,Ct):Z(Ce,Ct),Se=!0;break}if(tt==="-"){Z(Ue[Pt],tt);continue}if(/[A-Za-z]/.test(Ue[Pt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(tt)&&be(tt,x.bools)===!1){Z(Ue[Pt],tt),Se=!0;break}if(Ue[Pt+1]&&Ue[Pt+1].match(/\W/)){Z(Ue[Pt],tt),Se=!0;break}else Z(Ue[Pt],lt(Ue[Pt]))}Ce=ne.slice(-1)[0],!Se&&Ce!=="-"&&(be(Ce,x.arrays)?Y=de(Y,Ce,i):be(Ce,x.nargs)!==!1?Y=te(Y,Ce,i):(tt=i[Y+1],tt!==void 0&&(!/^(-|--)[^-]/.test(tt)||tt.match(b))&&!be(Ce,x.bools)&&!be(Ce,x.counts)||/^(true|false)$/.test(tt)?(Z(Ce,tt),Y++):Z(Ce,lt(Ce))))}else if(ne.match(/^-[0-9]$/)&&ne.match(b)&&be(ne.slice(1),x.bools))Ce=ne.slice(1),Z(Ce,lt(Ce));else if(ne==="--"){k=i.slice(Y+1);break}else if(l["halt-at-non-option"]){k=i.slice(Y);break}else M(ne)}V(B,!0),V(B,!1),z(B),U(),re(B,x.aliases,c,!0),K(B),l["set-placeholder-key"]&&ae(B),Object.keys(x.counts).forEach(function(Y){le(B,Y.split("."))||Z(Y,0)}),m&&k.length&&(B[h]=[]),k.forEach(function(Y){B[h].push(Y)}),l["camel-case-expansion"]&&l["strip-dashed"]&&Object.keys(B).filter(Y=>Y!=="--"&&Y.includes("-")).forEach(Y=>{delete B[Y]}),l["strip-aliased"]&&[].concat(...Object.keys(a).map(Y=>a[Y])).forEach(Y=>{l["camel-case-expansion"]&&Y.includes("-")&&delete B[Y.split(".").map(ne=>pv(ne)).join(".")],delete B[Y]});function M(Y){let ne=ie("_",Y);(typeof ne=="string"||typeof ne=="number")&&B._.push(ne)}s(M,"pushPositional");function te(Y,ne,Fe,Se){let Ce,Ue=be(ne,x.nargs);if(Ue=typeof Ue!="number"||isNaN(Ue)?1:Ue,Ue===0)return Ae(Se)||(_=Error(y("Argument unexpected for: %s",ne))),Z(ne,lt(ne)),Y;let Ve=Ae(Se)?0:1;if(l["nargs-eats-options"])Fe.length-(Y+1)+Ve<Ue&&(_=Error(y("Not enough arguments following: %s",ne))),Ve=Ue;else{for(Ce=Y+1;Ce<Fe.length&&(!Fe[Ce].match(/^-[^0-9]/)||Fe[Ce].match(b)||ft(Fe[Ce]));Ce++)Ve++;Ve<Ue&&(_=Error(y("Not enough arguments following: %s",ne)))}let tt=Math.min(Ve,Ue);for(!Ae(Se)&&tt>0&&(Z(ne,Se),tt--),Ce=Y+1;Ce<tt+Y+1;Ce++)Z(ne,Fe[Ce]);return Y+tt}s(te,"eatNargs");function de(Y,ne,Fe,Se){let Ce=[],Ue=Se||Fe[Y+1],Ve=be(ne,x.nargs);if(be(ne,x.bools)&&!/^(true|false)$/.test(Ue))Ce.push(!0);else if(Ae(Ue)||Ae(Se)&&/^-/.test(Ue)&&!b.test(Ue)&&!ft(Ue)){if(c[ne]!==void 0){let tt=c[ne];Ce=Array.isArray(tt)?tt:[tt]}}else{Ae(Se)||Ce.push(q(ne,Se,!0));for(let tt=Y+1;tt<Fe.length&&!(!l["greedy-arrays"]&&Ce.length>0||Ve&&typeof Ve=="number"&&Ce.length>=Ve||(Ue=Fe[tt],/^-/.test(Ue)&&!b.test(Ue)&&!ft(Ue)));tt++)Y=tt,Ce.push(q(ne,Ue,o))}return typeof Ve=="number"&&(Ve&&Ce.length<Ve||isNaN(Ve)&&Ce.length===0)&&(_=Error(y("Not enough arguments following: %s",ne))),Z(ne,Ce),Y}s(de,"eatArray");function Z(Y,ne,Fe=o){if(/-/.test(Y)&&l["camel-case-expansion"]){let Ue=Y.split(".").map(function(Ve){return pv(Ve)}).join(".");G(Y,Ue)}let Se=q(Y,ne,Fe),Ce=Y.split(".");ce(B,Ce,Se),x.aliases[Y]&&x.aliases[Y].forEach(function(Ue){let Ve=Ue.split(".");ce(B,Ve,Se)}),Ce.length>1&&l["dot-notation"]&&(x.aliases[Ce[0]]||[]).forEach(function(Ue){let Ve=Ue.split("."),tt=[].concat(Ce);tt.shift(),Ve=Ve.concat(tt),(x.aliases[Y]||[]).includes(Ve.join("."))||ce(B,Ve,Se)}),be(Y,x.normalize)&&!be(Y,x.arrays)&&[Y].concat(x.aliases[Y]||[]).forEach(function(Ve){Object.defineProperty(N,Ve,{enumerable:!0,get(){return ne},set(tt){ne=typeof tt=="string"?yA.normalize(tt):tt}})})}s(Z,"setArg");function G(Y,ne){x.aliases[Y]&&x.aliases[Y].length||(x.aliases[Y]=[ne],p[ne]=!0),x.aliases[ne]&&x.aliases[ne].length||G(ne,Y)}s(G,"addNewAlias");function q(Y,ne,Fe){Fe&&(ne=Bft(ne)),(be(Y,x.bools)||be(Y,x.counts))&&typeof ne=="string"&&(ne=ne==="true");let Se=Array.isArray(ne)?ne.map(function(Ce){return ie(Y,Ce)}):ie(Y,ne);return be(Y,x.counts)&&(Ae(Se)||typeof Se=="boolean")&&(Se=Ote()),be(Y,x.normalize)&&be(Y,x.arrays)&&(Array.isArray(ne)?Se=ne.map(Ce=>yA.normalize(Ce)):Se=yA.normalize(ne)),Se}s(q,"processValue");function ie(Y,ne){return!l["parse-positional-numbers"]&&Y==="_"||!be(Y,x.strings)&&!be(Y,x.bools)&&!Array.isArray(ne)&&(bQ(ne)&&l["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${ne}`)))||!Ae(ne)&&be(Y,x.numbers))&&(ne=Number(ne)),ne}s(ie,"maybeCoerceNumber");function z(Y){let ne=Object.create(null);re(ne,x.aliases,c),Object.keys(x.configs).forEach(function(Fe){let Se=Y[Fe]||ne[Fe];if(Se)try{let Ce=null,Ue=yA.resolve(yA.cwd(),Se),Ve=x.configs[Fe];if(typeof Ve=="function"){try{Ce=Ve(Ue)}catch(tt){Ce=tt}if(Ce instanceof Error){_=Ce;return}}else Ce=yA.require(Ue);j(Ce)}catch(Ce){Ce.name==="PermissionDenied"?_=Ce:Y[Fe]&&(_=Error(y("Invalid JSON config file: %s",Se)))}})}s(z,"setConfig");function j(Y,ne){Object.keys(Y).forEach(function(Fe){let Se=Y[Fe],Ce=ne?ne+"."+Fe:Fe;typeof Se=="object"&&Se!==null&&!Array.isArray(Se)&&l["dot-notation"]?j(Se,Ce):(!le(B,Ce.split("."))||be(Ce,x.arrays)&&l["combine-arrays"])&&Z(Ce,Se)})}s(j,"setConfigObject");function U(){typeof u<"u"&&u.forEach(function(Y){j(Y)})}s(U,"setConfigObjects");function V(Y,ne){if(typeof f>"u")return;let Fe=typeof f=="string"?f:"",Se=yA.env();Object.keys(Se).forEach(function(Ce){if(Fe===""||Ce.lastIndexOf(Fe,0)===0){let Ue=Ce.split("__").map(function(Ve,tt){return tt===0&&(Ve=Ve.substring(Fe.length)),pv(Ve)});(ne&&x.configs[Ue.join(".")]||!ne)&&!le(Y,Ue)&&Z(Ue.join("."),Se[Ce])}})}s(V,"applyEnvVars");function K(Y){let ne,Fe=new Set;Object.keys(Y).forEach(function(Se){if(!Fe.has(Se)&&(ne=be(Se,x.coercions),typeof ne=="function"))try{let Ce=ie(Se,ne(Y[Se]));[].concat(x.aliases[Se]||[],Se).forEach(Ue=>{Fe.add(Ue),Y[Ue]=Ce})}catch(Ce){_=Ce}})}s(K,"applyCoercions");function ae(Y){return x.keys.forEach(ne=>{~ne.indexOf(".")||typeof Y[ne]>"u"&&(Y[ne]=void 0)}),Y}s(ae,"setPlaceholderKeys");function re(Y,ne,Fe,Se=!1){Object.keys(Fe).forEach(function(Ce){le(Y,Ce.split("."))||(ce(Y,Ce.split("."),Fe[Ce]),Se&&(g[Ce]=!0),(ne[Ce]||[]).forEach(function(Ue){le(Y,Ue.split("."))||ce(Y,Ue.split("."),Fe[Ce])}))})}s(re,"applyDefaultsAndAliases");function le(Y,ne){let Fe=Y;l["dot-notation"]||(ne=[ne.join(".")]),ne.slice(0,-1).forEach(function(Ce){Fe=Fe[Ce]||{}});let Se=ne[ne.length-1];return typeof Fe!="object"?!1:Se in Fe}s(le,"hasKey");function ce(Y,ne,Fe){let Se=Y;l["dot-notation"]||(ne=[ne.join(".")]),ne.slice(0,-1).forEach(function(Ct){Ct=cEe(Ct),typeof Se=="object"&&Se[Ct]===void 0&&(Se[Ct]={}),typeof Se[Ct]!="object"||Array.isArray(Se[Ct])?(Array.isArray(Se[Ct])?Se[Ct].push({}):Se[Ct]=[Se[Ct],{}],Se=Se[Ct][Se[Ct].length-1]):Se=Se[Ct]});let Ce=cEe(ne[ne.length-1]),Ue=be(ne.join("."),x.arrays),Ve=Array.isArray(Fe),tt=l["duplicate-arguments-array"];!tt&&be(Ce,x.nargs)&&(tt=!0,(!Ae(Se[Ce])&&x.nargs[Ce]===1||Array.isArray(Se[Ce])&&Se[Ce].length===x.nargs[Ce])&&(Se[Ce]=void 0)),Fe===Ote()?Se[Ce]=Ote(Se[Ce]):Array.isArray(Se[Ce])?tt&&Ue&&Ve?Se[Ce]=l["flatten-duplicate-arrays"]?Se[Ce].concat(Fe):(Array.isArray(Se[Ce][0])?Se[Ce]:[Se[Ce]]).concat([Fe]):!tt&&!!Ue==!!Ve?Se[Ce]=Fe:Se[Ce]=Se[Ce].concat([Fe]):Se[Ce]===void 0&&Ue?Se[Ce]=Ve?Fe:[Fe]:tt&&!(Se[Ce]===void 0||be(Ce,x.counts)||be(Ce,x.bools))?Se[Ce]=[Se[Ce],Fe]:Se[Ce]=Fe}s(ce,"setKey");function De(...Y){Y.forEach(function(ne){Object.keys(ne||{}).forEach(function(Fe){x.aliases[Fe]||(x.aliases[Fe]=[].concat(a[Fe]||[]),x.aliases[Fe].concat(Fe).forEach(function(Se){if(/-/.test(Se)&&l["camel-case-expansion"]){let Ce=pv(Se);Ce!==Fe&&x.aliases[Fe].indexOf(Ce)===-1&&(x.aliases[Fe].push(Ce),p[Ce]=!0)}}),x.aliases[Fe].concat(Fe).forEach(function(Se){if(Se.length>1&&/[A-Z]/.test(Se)&&l["camel-case-expansion"]){let Ce=vQ(Se,"-");Ce!==Fe&&x.aliases[Fe].indexOf(Ce)===-1&&(x.aliases[Fe].push(Ce),p[Ce]=!0)}}),x.aliases[Fe].forEach(function(Se){x.aliases[Se]=[Fe].concat(x.aliases[Fe].filter(function(Ce){return Se!==Ce}))}))})})}s(De,"extendAliases");function be(Y,ne){let Fe=[].concat(x.aliases[Y]||[],Y),Se=Object.keys(ne),Ce=Fe.find(Ue=>Se.includes(Ue));return Ce?ne[Ce]:!1}s(be,"checkAllAliases");function qe(Y){let ne=Object.keys(x);return[].concat(ne.map(Se=>x[Se])).some(function(Se){return Array.isArray(Se)?Se.includes(Y):Se[Y]})}s(qe,"hasAnyFlag");function Re(Y,...ne){return[].concat(...ne).some(function(Se){let Ce=Y.match(Se);return Ce&&qe(Ce[1])})}s(Re,"hasFlagsMatching");function Xe(Y){if(Y.match(b)||!Y.match(/^-[^-]+/))return!1;let ne=!0,Fe,Se=Y.slice(1).split("");for(let Ce=0;Ce<Se.length;Ce++){if(Fe=Y.slice(Ce+2),!qe(Se[Ce])){ne=!1;break}if(Se[Ce+1]&&Se[Ce+1]==="="||Fe==="-"||/[A-Za-z]/.test(Se[Ce])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(Fe)||Se[Ce+1]&&Se[Ce+1].match(/\W/))break}return ne}s(Xe,"hasAllShortFlags");function ft(Y){return l["unknown-options-as-args"]&&at(Y)}s(ft,"isUnknownOptionAsArg");function at(Y){return Y=Y.replace(/^-{3,}/,"--"),Y.match(b)||Xe(Y)?!1:!Re(Y,/^-+([^=]+?)=[\s\S]*$/,E,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}s(at,"isUnknownOption");function lt(Y){return!be(Y,x.bools)&&!be(Y,x.counts)&&`${Y}`in c?c[Y]:oe(Ne(Y))}s(lt,"defaultValue");function oe(Y){return{[Qd.BOOLEAN]:!0,[Qd.STRING]:"",[Qd.NUMBER]:void 0,[Qd.ARRAY]:[]}[Y]}s(oe,"defaultForType");function Ne(Y){let ne=Qd.BOOLEAN;return be(Y,x.strings)?ne=Qd.STRING:be(Y,x.numbers)?ne=Qd.NUMBER:be(Y,x.bools)?ne=Qd.BOOLEAN:be(Y,x.arrays)&&(ne=Qd.ARRAY),ne}s(Ne,"guessType");function Ae(Y){return Y===void 0}s(Ae,"isUndefined");function Ge(){Object.keys(x.counts).find(Y=>be(Y,x.arrays)?(_=Error(y("Invalid configuration: %s, opts.count excludes opts.array.",Y)),!0):be(Y,x.nargs)?(_=Error(y("Invalid configuration: %s, opts.count excludes opts.narg.",Y)),!0):!1)}return s(Ge,"checkConfiguration"),{aliases:Object.assign({},x.aliases),argv:Object.assign(N,B),configuration:l,defaulted:Object.assign({},g),error:_,newAliases:Object.assign({},p)}}};function kft(e){let t=[],r=Object.create(null),n=!0;for(Object.keys(e).forEach(function(i){t.push([].concat(e[i],i))});n;){n=!1;for(let i=0;i<t.length;i++)for(let o=i+1;o<t.length;o++)if(t[i].filter(function(l){return t[o].indexOf(l)!==-1}).length){t[i]=t[i].concat(t[o]),t.splice(o,1),n=!0;break}}return t.forEach(function(i){i=i.filter(function(a,l,c){return c.indexOf(a)===l});let o=i.pop();o!==void 0&&typeof o=="string"&&(r[o]=i)}),r}s(kft,"combineAliases");function Ote(e){return e!==void 0?e+1:1}s(Ote,"increment");function cEe(e){return e==="__proto__"?"___proto___":e}s(cEe,"sanitizeKey");function Bft(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}s(Bft,"stripQuotes");var mEe=require("fs");var Ute,qte,Wte,uEe=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,fEe=(qte=(Ute=process==null?void 0:process.versions)===null||Ute===void 0?void 0:Ute.node)!==null&&qte!==void 0?qte:(Wte=process==null?void 0:process.version)===null||Wte===void 0?void 0:Wte.slice(1);if(fEe&&Number(fEe.match(/^([^.]+)/)[1])<uEe)throw Error(`yargs parser supports a minimum Node.js version of ${uEe}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var Dft=process?process.env:{},hEe=new EQ({cwd:process.cwd,env:s(()=>Dft,"env"),format:dEe.format,normalize:IQ.normalize,resolve:IQ.resolve,require:s(e=>{if(typeof require<"u")return require(e);if(e.match(/\.json$/))return JSON.parse((0,mEe.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")},"require")}),sS=s(function(t,r){return hEe.parse(t.slice(),r).argv},"Parser");sS.detailed=function(e,t){return hEe.parse(e.slice(),t)};sS.camelCase=pv;sS.decamelize=vQ;sS.looksLikeNumber=bQ;var pEe=sS;var Ch=require("path");d();function Pft(){return Nft()?0:1}s(Pft,"getProcessArgvBinIndex");function Nft(){return Lft()&&!process.defaultApp}s(Nft,"isBundledElectronApp");function Lft(){return!!process.versions.electron}s(Lft,"isElectronApp");function gEe(){return process.argv[Pft()]}s(gEe,"getProcessArgvBin");d();var ps=class e extends Error{static{s(this,"YError")}constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,e)}};d();d();var I8=require("fs"),AEe=require("util"),yEe=require("path");var CEe={fs:{readFileSync:I8.readFileSync,writeFile:I8.writeFile},format:AEe.format,resolve:yEe.resolve,exists:s(e=>{try{return(0,I8.statSync)(e).isFile()}catch{return!1}},"exists")};d();var yh,Gte=class{static{s(this,"Y18N")}constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let r=t.shift(),n=s(function(){},"cb");return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]=r,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),yh.format.apply(yh.format,[this.cache[this.locale][r]||r].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),r=t.shift(),n=t.shift(),i=t.shift(),o=s(function(){},"cb");typeof t[t.length-1]=="function"&&(o=t.pop()),this.cache[this.locale]||this._readLocaleFile();let a=i===1?r:n;this.cache[this.locale][r]&&(a=this.cache[this.locale][r][i===1?"one":"other"]),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]={one:r,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:o})):o();let l=[a];return~a.indexOf("%d")&&l.push(i),yh.format.apply(yh.format,l.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.cache[this.locale][r]=t[r])}_taggedLiteral(t,...r){let n="";return t.forEach(function(i,o){let a=r[o+1];n+=i,typeof a<"u"&&(n+="%s")}),this.__.apply(this,[n].concat([].slice.call(r,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,r=this.writeQueue[0],n=r.directory,i=r.locale,o=r.cb,a=this._resolveLocaleFile(n,i),l=JSON.stringify(this.cache[i],null,2);yh.fs.writeFile(a,l,"utf-8",function(c){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),o(c)})}_readLocaleFile(){let t={},r=this._resolveLocaleFile(this.directory,this.locale);try{yh.fs.readFileSync&&(t=JSON.parse(yh.fs.readFileSync(r,"utf-8")))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+r),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t}_resolveLocaleFile(t,r){let n=yh.resolve(t,"./",r+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~r.lastIndexOf("_")){let i=yh.resolve(t,"./",r.split("_")[0]+".json");this._fileExistsSync(i)&&(n=i)}return n}_fileExistsSync(t){return yh.exists(t)}};function xEe(e,t){yh=t;let r=new Gte(e);return{__:r.__.bind(r),__n:r.__n.bind(r),setLocale:r.setLocale.bind(r),getLocale:r.getLocale.bind(r),updateLocale:r.updateLocale.bind(r),locale:r.locale}}s(xEe,"y18n");var Fft=s(e=>xEe(e,CEe),"y18n"),vEe=Fft;var Mft="require is not supported by ESM",bEe="loading a directory of commands is not supported yet for ESM",aS;try{aS=(0,TEe.fileURLToPath)(importMetaUrlShim)}catch{aS=process.cwd()}var Qft=aS.substring(0,aS.lastIndexOf("node_modules")),wEe={assert:{notStrictEqual:TQ.notStrictEqual,strictEqual:TQ.strictEqual},cliui:Mte,findUp:Qte,getEnv:s(e=>process.env[e],"getEnv"),inspect:EEe.inspect,getCallerFile:s(()=>{throw new ps(bEe)},"getCallerFile"),getProcessArgvBin:gEe,mainFilename:Qft||process.cwd(),Parser:pEe,path:{basename:Ch.basename,dirname:Ch.dirname,extname:Ch.extname,relative:Ch.relative,resolve:Ch.resolve},process:{argv:s(()=>process.argv,"argv"),cwd:process.cwd,emitWarning:s((e,t)=>process.emitWarning(e,t),"emitWarning"),execPath:s(()=>process.execPath,"execPath"),exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:IEe.readFileSync,require:s(()=>{throw new ps(Mft)},"require"),requireDirectory:s(()=>{throw new ps(bEe)},"requireDirectory"),stringWidth:s(e=>[...e].length,"stringWidth"),y18n:vEe({directory:(0,Ch.resolve)(aS,"../../../locales"),updateFiles:!1})};d();d();d();function y0(e,t,r,n){r.assert.notStrictEqual(e,t,n)}s(y0,"assertNotStrictEqual");function Hte(e,t){t.assert.strictEqual(typeof e,"string")}s(Hte,"assertSingleKey");function T8(e){return Object.keys(e)}s(T8,"objectKeys");d();function gs(e){return!!e&&!!e.then&&typeof e.then=="function"}s(gs,"isPromise");d();d();d();function F5(e){let r=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=r.shift();if(!i)throw new Error(`No command found in: ${e}`);let o={cmd:i.replace(n,""),demanded:[],optional:[]};return r.forEach((a,l)=>{let c=!1;a=a.replace(/\s/g,""),/\.+[\]>]/.test(a)&&l===r.length-1&&(c=!0),/^\[/.test(a)?o.optional.push({cmd:a.replace(n,"").split("|"),variadic:c}):o.demanded.push({cmd:a.replace(n,"").split("|"),variadic:c})}),o}s(F5,"parseCommand");var Oft=["first","second","third","fourth","fifth","sixth"];function Fr(e,t,r){function n(){return typeof e=="object"?[{demanded:[],optional:[]},e,t]:[F5(`cmd ${e}`),t,r]}s(n,"parseArgs");try{let i=0,[o,a,l]=n(),c=[].slice.call(a);for(;c.length&&c[c.length-1]===void 0;)c.pop();let u=l||c.length;if(u<o.demanded.length)throw new ps(`Not enough arguments provided. Expected ${o.demanded.length} but received ${c.length}.`);let f=o.demanded.length+o.optional.length;if(u>f)throw new ps(`Too many arguments provided. Expected max ${f} but received ${u}.`);o.demanded.forEach(m=>{let h=c.shift(),p=_Ee(h);m.cmd.filter(y=>y===p||y==="*").length===0&&SEe(p,m.cmd,i),i+=1}),o.optional.forEach(m=>{if(c.length===0)return;let h=c.shift(),p=_Ee(h);m.cmd.filter(y=>y===p||y==="*").length===0&&SEe(p,m.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}s(Fr,"argsert");function _Ee(e){return Array.isArray(e)?"array":e===null?"null":typeof e}s(_Ee,"guessType");function SEe(e,t,r){throw new ps(`Invalid ${Oft[r]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}s(SEe,"argumentTypeError");var wQ=class{static{s(this,"GlobalMiddleware")}constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,r,n=!0,i=!1){if(Fr("<array|function> [boolean] [boolean] [boolean]",[t,r,n],arguments.length),Array.isArray(t)){for(let o=0;o<t.length;o++){if(typeof t[o]!="function")throw Error("middleware must be a function");let a=t[o];a.applyBeforeValidation=r,a.global=n}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let o=t;o.applyBeforeValidation=r,o.global=n,o.mutates=i,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,r){let n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let o=[...n[r]||[],r];return i.option?!o.includes(i.option):!0}),t.option=r,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function REe(e){return e?e.map(t=>(t.applyBeforeValidation=!1,t)):[]}s(REe,"commandMiddlewareFactory");function gv(e,t,r,n){return r.reduce((i,o)=>{if(o.applyBeforeValidation!==n)return i;if(o.mutates){if(o.applied)return i;o.applied=!0}if(gs(i))return i.then(a=>Promise.all([a,o(a,t)])).then(([a,l])=>Object.assign(a,l));{let a=o(i,t);return gs(a)?a.then(l=>Object.assign(i,l)):Object.assign(i,a)}},e)}s(gv,"applyMiddleware");d();function Av(e,t,r=n=>{throw n}){try{let n=Uft(e)?e():e;return gs(n)?n.then(i=>t(i)):t(n)}catch(n){return r(n)}}s(Av,"maybeAsyncResult");function Uft(e){return typeof e=="function"}s(Uft,"isFunction");d();function jte(e){if(typeof require>"u")return null;for(let t=0,r=Object.keys(require.cache),n;t<r.length;t++)if(n=require.cache[r[t]],n.exports===e)return n;return null}s(jte,"whichModule");var w8=/(^\*)|(^\$0)/,Vte=class{static{s(this,"CommandInstance")}constructor(t,r,n,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=t,this.globalMiddleware=n,this.validation=r}addDirectory(t,r,n,i){i=i||{},typeof i.recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let o=typeof i.visit=="function"?i.visit:a=>a;i.visit=(a,l,c)=>{let u=o(a,l,c);if(u){if(this.requireCache.has(l))return u;this.requireCache.add(l),this.addHandler(u)}return u},this.shim.requireDirectory({require:r,filename:n},t,i)}addHandler(t,r,n,i,o,a){let l=[],c=REe(o);if(i=i||(()=>{}),Array.isArray(t))if(qft(t))[t,...l]=t;else for(let u of t)this.addHandler(u);else if(Gft(t)){let u=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(u=[].concat(u).concat(t.aliases)),this.addHandler(u,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(kEe(n)){this.addHandler([t].concat(l),r,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof t=="string"){let u=F5(t);l=l.map(h=>F5(h).cmd);let f=!1,m=[u.cmd].concat(l).filter(h=>w8.test(h)?(f=!0,!1):!0);m.length===0&&f&&m.push("$0"),f&&(u.cmd=m[0],l=m.slice(1),t=t.replace(w8,u.cmd)),l.forEach(h=>{this.aliasMap[h]=u.cmd}),r!==!1&&this.usage.command(t,r,f,l,a),this.handlers[u.cmd]={original:t,description:r,handler:i,builder:n||{},middlewares:c,deprecated:a,demanded:u.demanded,optional:u.optional},f&&(this.defaultCommand=this.handlers[u.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,r,n,i,o,a){let l=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,c=r.getInternalMethods().getContext(),u=c.commands.slice(),f=!t;t&&(c.commands.push(t),c.fullCommands.push(l.original));let m=this.applyBuilderUpdateUsageAndParse(f,l,r,n.aliases,u,i,o,a);return gs(m)?m.then(h=>this.applyMiddlewareAndGetResult(f,l,h.innerArgv,c,o,h.aliases,r)):this.applyMiddlewareAndGetResult(f,l,m.innerArgv,c,o,m.aliases,r)}applyBuilderUpdateUsageAndParse(t,r,n,i,o,a,l,c){let u=r.builder,f=n;if(_Q(u)){n.getInternalMethods().getUsageInstance().freeze();let m=u(n.getInternalMethods().reset(i),c);if(gs(m))return m.then(h=>(f=DEe(h)?h:n,this.parseAndUpdateUsage(t,r,f,o,a,l)))}else Wft(u)&&(n.getInternalMethods().getUsageInstance().freeze(),f=n.getInternalMethods().reset(i),Object.keys(r.builder).forEach(m=>{f.option(m,u[m])}));return this.parseAndUpdateUsage(t,r,f,o,a,l)}parseAndUpdateUsage(t,r,n,i,o,a){t&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,r),r.description);let l=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,o,a);return gs(l)?l.then(c=>({aliases:n.parsed.aliases,innerArgv:c})):{aliases:n.parsed.aliases,innerArgv:l}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,r){let n=w8.test(r.original)?r.original.replace(w8,"").trim():r.original,i=t.filter(o=>!w8.test(o));return i.push(n),`$0 ${i.join(" ")}`}handleValidationAndGetResult(t,r,n,i,o,a,l,c){if(!a.getInternalMethods().getHasOutput()){let u=a.getInternalMethods().runValidation(o,c,a.parsed.error,t);n=Av(n,f=>(u(f),f))}if(r.handler&&!a.getInternalMethods().getHasOutput()){a.getInternalMethods().setHasOutput();let u=!!a.getOptions().configuration["populate--"];a.getInternalMethods().postProcess(n,u,!1,!1),n=gv(n,a,l,!1),n=Av(n,f=>{let m=r.handler(f);return gs(m)?m.then(()=>f):f}),t||a.getInternalMethods().getUsageInstance().cacheHelpMessage(),gs(n)&&!a.getInternalMethods().hasParseCallback()&&n.catch(f=>{try{a.getInternalMethods().getUsageInstance().fail(null,f)}catch{}})}return t||(i.commands.pop(),i.fullCommands.pop()),n}applyMiddlewareAndGetResult(t,r,n,i,o,a,l){let c={};if(o)return n;l.getInternalMethods().getHasOutput()||(c=this.populatePositionals(r,n,i,l));let u=this.globalMiddleware.getMiddleware().slice(0).concat(r.middlewares),f=gv(n,l,u,!0);return gs(f)?f.then(m=>this.handleValidationAndGetResult(t,r,m,i,a,l,u,c)):this.handleValidationAndGetResult(t,r,f,i,a,l,u,c)}populatePositionals(t,r,n,i){r._=r._.slice(n.commands.length);let o=t.demanded.slice(0),a=t.optional.slice(0),l={};for(this.validation.positionalCount(o.length,r._.length);o.length;){let c=o.shift();this.populatePositional(c,r,l)}for(;a.length;){let c=a.shift();this.populatePositional(c,r,l)}return r._=n.commands.concat(r._.map(c=>""+c)),this.postProcessPositionals(r,l,this.cmdToParseOptions(t.original),i),l}populatePositional(t,r,n){let i=t.cmd[0];t.variadic?n[i]=r._.splice(0).map(String):r._.length&&(n[i]=[String(r._.shift())])}cmdToParseOptions(t){let r={array:[],default:{},alias:{},demand:{}},n=F5(t);return n.demanded.forEach(i=>{let[o,...a]=i.cmd;i.variadic&&(r.array.push(o),r.default[o]=[]),r.alias[o]=a,r.demand[o]=!0}),n.optional.forEach(i=>{let[o,...a]=i.cmd;i.variadic&&(r.array.push(o),r.default[o]=[]),r.alias[o]=a}),r}postProcessPositionals(t,r,n,i){let o=Object.assign({},i.getOptions());o.default=Object.assign(n.default,o.default);for(let u of Object.keys(n.alias))o.alias[u]=(o.alias[u]||[]).concat(n.alias[u]);o.array=o.array.concat(n.array),o.config={};let a=[];if(Object.keys(r).forEach(u=>{r[u].map(f=>{o.configuration["unknown-options-as-args"]&&(o.key[u]=!0),a.push(`--${u}`),a.push(f)})}),!a.length)return;let l=Object.assign({},o.configuration,{"populate--":!1}),c=this.shim.Parser.detailed(a,Object.assign({},o,{configuration:l}));if(c.error)i.getInternalMethods().getUsageInstance().fail(c.error.message,c.error);else{let u=Object.keys(r);Object.keys(r).forEach(f=>{u.push(...c.aliases[f])}),Object.keys(c.argv).forEach(f=>{u.includes(f)&&(r[f]||(r[f]=c.argv[f]),!this.isInConfigs(i,f)&&!this.isDefaulted(i,f)&&Object.prototype.hasOwnProperty.call(t,f)&&Object.prototype.hasOwnProperty.call(c.argv,f)&&(Array.isArray(t[f])||Array.isArray(c.argv[f]))?t[f]=[].concat(t[f],c.argv[f]):t[f]=c.argv[f])})}}isDefaulted(t,r){let{default:n}=t.getOptions();return Object.prototype.hasOwnProperty.call(n,r)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(r))}isInConfigs(t,r){let{configObjects:n}=t.getOptions();return n.some(i=>Object.prototype.hasOwnProperty.call(i,r))||n.some(i=>Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(r)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let n=w8.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}let r=this.defaultCommand.builder;if(_Q(r))return r(t,!0);kEe(r)||Object.keys(r).forEach(n=>{t.option(n,r[n])})}moduleName(t){let r=jte(t);if(!r)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(r.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:r,desc:n}){for(let i of[t,r,n]){if(typeof i=="string"||i===!1)return i;y0(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();y0(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function BEe(e,t,r,n){return new Vte(e,t,r,n)}s(BEe,"command");function kEe(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}s(kEe,"isCommandBuilderDefinition");function qft(e){return e.every(t=>typeof t=="string")}s(qft,"isCommandAndAliases");function _Q(e){return typeof e=="function"}s(_Q,"isCommandBuilderCallback");function Wft(e){return typeof e=="object"}s(Wft,"isCommandBuilderOptionDefinitions");function Gft(e){return typeof e=="object"&&!Array.isArray(e)}s(Gft,"isCommandHandlerDefinition");d();d();function M5(e={},t=()=>!0){let r={};return T8(e).forEach(n=>{t(n,e[n])&&(r[n]=e[n])}),r}s(M5,"objFilter");d();function Q5(e){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let r=t;r._handle&&r.isTTY&&typeof r._handle.setBlocking=="function"&&r._handle.setBlocking(e)})}s(Q5,"setBlocking");function Hft(e){return typeof e=="boolean"}s(Hft,"isBoolean");function NEe(e,t){let r=t.y18n.__,n={},i=[];n.failFn=s(function(q){i.push(q)},"failFn");let o=null,a=null,l=!0;n.showHelpOnFail=s(function(q=!0,ie){let[z,j]=typeof q=="string"?[!0,q]:[q,ie];return e.getInternalMethods().isGlobalContext()&&(a=j),o=j,l=z,n},"showHelpOnFailFn");let c=!1;n.fail=s(function(q,ie){let z=e.getInternalMethods().getLoggerInstance();if(i.length)for(let j=i.length-1;j>=0;--j){let U=i[j];if(Hft(U)){if(ie)throw ie;if(q)throw Error(q)}else U(q,ie,n)}else{if(e.getExitProcess()&&Q5(!0),!c){c=!0,l&&(e.showHelp("error"),z.error()),(q||ie)&&z.error(q||ie);let j=o||a;j&&((q||ie)&&z.error(""),z.error(j))}if(ie=ie||new ps(q),e.getExitProcess())return e.exit(1);if(e.getInternalMethods().hasParseCallback())return e.exit(1,ie);throw ie}},"fail");let u=[],f=!1;n.usage=(G,q)=>G===null?(f=!0,u=[],n):(f=!1,u.push([G,q||""]),n),n.getUsage=()=>u,n.getUsageDisabled=()=>f,n.getPositionalGroupName=()=>r("Positionals:");let m=[];n.example=(G,q)=>{m.push([G,q||""])};let h=[];n.command=s(function(q,ie,z,j,U=!1){z&&(h=h.map(V=>(V[2]=!1,V))),h.push([q,ie||"",z,j,U])},"command"),n.getCommands=()=>h;let p={};n.describe=s(function(q,ie){Array.isArray(q)?q.forEach(z=>{n.describe(z,ie)}):typeof q=="object"?Object.keys(q).forEach(z=>{n.describe(z,q[z])}):p[q]=ie},"describe"),n.getDescriptions=()=>p;let g=[];n.epilog=G=>{g.push(G)};let y=!1,x;n.wrap=G=>{y=!0,x=G},n.getWrap=()=>t.getEnv("YARGS_DISABLE_WRAP")?null:(y||(x=te(),y=!0),x);let b="__yargsString__:";n.deferY18nLookup=G=>b+G,n.help=s(function(){if(k)return k;_();let q=e.customScriptName?e.$0:t.path.basename(e.$0),ie=e.getDemandedOptions(),z=e.getDemandedCommands(),j=e.getDeprecatedOptions(),U=e.getGroups(),V=e.getOptions(),K=[];K=K.concat(Object.keys(p)),K=K.concat(Object.keys(ie)),K=K.concat(Object.keys(z)),K=K.concat(Object.keys(V.default)),K=K.filter(N),K=Object.keys(K.reduce((Re,Xe)=>(Xe!=="_"&&(Re[Xe]=!0),Re),{}));let ae=n.getWrap(),re=t.cliui({width:ae,wrap:!!ae});if(!f){if(u.length)u.forEach(Re=>{re.div({text:`${Re[0].replace(/\$0/g,q)}`}),Re[1]&&re.div({text:`${Re[1]}`,padding:[1,0,0,0]})}),re.div();else if(h.length){let Re=null;z._?Re=`${q} <${r("command")}>
`:Re=`${q} [${r("command")}]
`,re.div(`${Re}`)}}if(h.length>1||h.length===1&&!h[0][2]){re.div(r("Commands:"));let Re=e.getInternalMethods().getContext(),Xe=Re.commands.length?`${Re.commands.join(" ")} `:"";e.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(h=h.sort((at,lt)=>at[0].localeCompare(lt[0])));let ft=q?`${q} `:"";h.forEach(at=>{let lt=`${ft}${Xe}${at[0].replace(/^\$0 ?/,"")}`;re.span({text:lt,padding:[0,2,0,2],width:E(h,ae,`${q}${Xe}`)+4},{text:at[1]});let oe=[];at[2]&&oe.push(`[${r("default")}]`),at[3]&&at[3].length&&oe.push(`[${r("aliases:")} ${at[3].join(", ")}]`),at[4]&&(typeof at[4]=="string"?oe.push(`[${r("deprecated: %s",at[4])}]`):oe.push(`[${r("deprecated")}]`)),oe.length?re.div({text:oe.join(" "),padding:[0,0,0,2],align:"right"}):re.div()}),re.div()}let le=(Object.keys(V.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);K=K.filter(Re=>!e.parsed.newAliases[Re]&&le.every(Xe=>(V.alias[Xe]||[]).indexOf(Re)===-1));let ce=r("Options:");U[ce]||(U[ce]=[]),B(K,V.alias,U,ce);let De=s(Re=>/^--/.test(SQ(Re)),"isLongSwitch"),be=Object.keys(U).filter(Re=>U[Re].length>0).map(Re=>{let Xe=U[Re].filter(N).map(ft=>{if(le.includes(ft))return ft;for(let at=0,lt;(lt=le[at])!==void 0;at++)if((V.alias[lt]||[]).includes(ft))return lt;return ft});return{groupName:Re,normalizedKeys:Xe}}).filter(({normalizedKeys:Re})=>Re.length>0).map(({groupName:Re,normalizedKeys:Xe})=>{let ft=Xe.reduce((at,lt)=>(at[lt]=[lt].concat(V.alias[lt]||[]).map(oe=>Re===n.getPositionalGroupName()?oe:(/^[0-9]$/.test(oe)?V.boolean.includes(lt)?"-":"--":oe.length>1?"--":"-")+oe).sort((oe,Ne)=>De(oe)===De(Ne)?0:De(oe)?1:-1).join(", "),at),{});return{groupName:Re,normalizedKeys:Xe,switches:ft}});if(be.filter(({groupName:Re})=>Re!==n.getPositionalGroupName()).some(({normalizedKeys:Re,switches:Xe})=>!Re.every(ft=>De(Xe[ft])))&&be.filter(({groupName:Re})=>Re!==n.getPositionalGroupName()).forEach(({normalizedKeys:Re,switches:Xe})=>{Re.forEach(ft=>{De(Xe[ft])&&(Xe[ft]=jft(Xe[ft],4))})}),be.forEach(({groupName:Re,normalizedKeys:Xe,switches:ft})=>{re.div(Re),Xe.forEach(at=>{let lt=ft[at],oe=p[at]||"",Ne=null;oe.includes(b)&&(oe=r(oe.substring(b.length))),V.boolean.includes(at)&&(Ne=`[${r("boolean")}]`),V.count.includes(at)&&(Ne=`[${r("count")}]`),V.string.includes(at)&&(Ne=`[${r("string")}]`),V.normalize.includes(at)&&(Ne=`[${r("string")}]`),V.array.includes(at)&&(Ne=`[${r("array")}]`),V.number.includes(at)&&(Ne=`[${r("number")}]`);let Ae=s(ne=>typeof ne=="string"?`[${r("deprecated: %s",ne)}]`:`[${r("deprecated")}]`,"deprecatedExtra"),Ge=[at in j?Ae(j[at]):null,Ne,at in ie?`[${r("required")}]`:null,V.choices&&V.choices[at]?`[${r("choices:")} ${n.stringifiedValues(V.choices[at])}]`:null,M(V.default[at],V.defaultDescription[at])].filter(Boolean).join(" ");re.span({text:SQ(lt),padding:[0,2,0,2+PEe(lt)],width:E(ft,ae)+4},oe);let Y=e.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;Ge&&!Y?re.div({text:Ge,padding:[0,0,0,2],align:"right"}):re.div()}),re.div()}),m.length&&(re.div(r("Examples:")),m.forEach(Re=>{Re[0]=Re[0].replace(/\$0/g,q)}),m.forEach(Re=>{Re[1]===""?re.div({text:Re[0],padding:[0,2,0,2]}):re.div({text:Re[0],padding:[0,2,0,2],width:E(m,ae)+4},{text:Re[1]})}),re.div()),g.length>0){let Re=g.map(Xe=>Xe.replace(/\$0/g,q)).join(`
`);re.div(`${Re}
`)}return re.toString().replace(/\s*$/,"")},"help");function E(G,q,ie){let z=0;return Array.isArray(G)||(G=Object.values(G).map(j=>[j])),G.forEach(j=>{z=Math.max(t.stringWidth(ie?`${ie} ${SQ(j[0])}`:SQ(j[0]))+PEe(j[0]),z)}),q&&(z=Math.min(z,parseInt((q*.5).toString(),10))),z}s(E,"maxWidth");function _(){let G=e.getDemandedOptions(),q=e.getOptions();(Object.keys(q.alias)||[]).forEach(ie=>{q.alias[ie].forEach(z=>{p[z]&&n.describe(ie,p[z]),z in G&&e.demandOption(ie,G[z]),q.boolean.includes(z)&&e.boolean(ie),q.count.includes(z)&&e.count(ie),q.string.includes(z)&&e.string(ie),q.normalize.includes(z)&&e.normalize(ie),q.array.includes(z)&&e.array(ie),q.number.includes(z)&&e.number(ie)})})}s(_,"normalizeAliases");let k;n.cacheHelpMessage=function(){k=this.help()},n.clearCachedHelpMessage=function(){k=void 0},n.hasCachedHelpMessage=function(){return!!k};function B(G,q,ie,z){let j=[],U=null;return Object.keys(ie).forEach(V=>{j=j.concat(ie[V])}),G.forEach(V=>{U=[V].concat(q[V]),U.some(K=>j.indexOf(K)!==-1)||ie[z].push(V)}),j}s(B,"addUngroupedKeys");function N(G){return e.getOptions().hiddenOptions.indexOf(G)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}s(N,"filterHiddenOptions"),n.showHelp=G=>{let q=e.getInternalMethods().getLoggerInstance();G||(G="error"),(typeof G=="function"?G:q[G])(n.help())},n.functionDescription=G=>["(",G.name?t.Parser.decamelize(G.name,"-"):r("generated-value"),")"].join(""),n.stringifiedValues=s(function(q,ie){let z="",j=ie||", ",U=[].concat(q);return!q||!U.length||U.forEach(V=>{z.length&&(z+=j),z+=JSON.stringify(V)}),z},"stringifiedValues");function M(G,q){let ie=`[${r("default:")} `;if(G===void 0&&!q)return null;if(q)ie+=q;else switch(typeof G){case"string":ie+=`"${G}"`;break;case"object":ie+=JSON.stringify(G);break;default:ie+=G}return`${ie}]`}s(M,"defaultString");function te(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}s(te,"windowWidth");let de=null;n.version=G=>{de=G},n.showVersion=G=>{let q=e.getInternalMethods().getLoggerInstance();G||(G="error"),(typeof G=="function"?G:q[G])(de)},n.reset=s(function(q){return o=null,c=!1,u=[],f=!1,g=[],m=[],h=[],p=M5(p,ie=>!q[ie]),n},"reset");let Z=[];return n.freeze=s(function(){Z.push({failMessage:o,failureOutput:c,usages:u,usageDisabled:f,epilogs:g,examples:m,commands:h,descriptions:p})},"freeze"),n.unfreeze=s(function(q=!1){let ie=Z.pop();ie&&(q?(p={...ie.descriptions,...p},h=[...ie.commands,...h],u=[...ie.usages,...u],m=[...ie.examples,...m],g=[...ie.epilogs,...g]):{failMessage:o,failureOutput:c,usages:u,usageDisabled:f,epilogs:g,examples:m,commands:h,descriptions:p}=ie)},"unfreeze"),n}s(NEe,"usage");function $te(e){return typeof e=="object"}s($te,"isIndentedText");function jft(e,t){return $te(e)?{text:e.text,indentation:e.indentation+t}:{text:e,indentation:t}}s(jft,"addIndentation");function PEe(e){return $te(e)?e.indentation:0}s(PEe,"getIndentation");function SQ(e){return $te(e)?e.text:e}s(SQ,"getText");d();d();var LEe=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,FEe=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var zte=class{static{s(this,"Completion")}constructor(t,r,n,i){var o,a,l;this.yargs=t,this.usage=r,this.command=n,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(l=((o=this.shim.getEnv("SHELL"))===null||o===void 0?void 0:o.includes("zsh"))||((a=this.shim.getEnv("ZSH_NAME"))===null||a===void 0?void 0:a.includes("zsh")))!==null&&l!==void 0?l:!1}defaultCompletion(t,r,n,i){let o=this.command.getCommandHandlers();for(let l=0,c=t.length;l<c;++l)if(o[t[l]]&&o[t[l]].builder){let u=o[t[l]].builder;if(_Q(u)){this.indexAfterLastReset=l+1;let f=this.yargs.getInternalMethods().reset();return u(f,!0),f.argv}}let a=[];this.commandCompletions(a,t,n),this.optionCompletions(a,t,r,n),this.choicesFromOptionsCompletions(a,t,r,n),this.choicesFromPositionalsCompletions(a,t,r,n),i(null,a)}commandCompletions(t,r,n){let i=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&i[i.length-1]!==n&&!this.previousArgHasChoices(r)&&this.usage.getCommands().forEach(o=>{let a=F5(o[0]).cmd;if(r.indexOf(a)===-1)if(!this.zshShell)t.push(a);else{let l=o[1]||"";t.push(a.replace(/:/g,"\\:")+":"+l)}})}optionCompletions(t,r,n,i){if((i.match(/^-/)||i===""&&t.length===0)&&!this.previousArgHasChoices(r)){let o=this.yargs.getOptions(),a=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(o.key).forEach(l=>{let c=!!o.configuration["boolean-negation"]&&o.boolean.includes(l);!a.includes(l)&&!o.hiddenOptions.includes(l)&&!this.argsContainKey(r,l,c)&&this.completeOptionKey(l,t,i,c&&!!o.default[l])})}}choicesFromOptionsCompletions(t,r,n,i){if(this.previousArgHasChoices(r)){let o=this.getPreviousArgChoices(r);o&&o.length>0&&t.push(...o.map(a=>a.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,r,n,i){if(i===""&&t.length>0&&this.previousArgHasChoices(r))return;let o=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],a=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),l=o[n._.length-a-1];if(!l)return;let c=this.yargs.getOptions().choices[l]||[];for(let u of c)u.startsWith(i)&&t.push(u.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let r=t[t.length-1],n="";if(!r.startsWith("-")&&t.length>1&&(n=r,r=t[t.length-2]),!r.startsWith("-"))return;let i=r.replace(/^-+/,""),o=this.yargs.getOptions(),a=[i,...this.yargs.getAliases()[i]||[]],l;for(let c of a)if(Object.prototype.hasOwnProperty.call(o.key,c)&&Array.isArray(o.choices[c])){l=o.choices[c];break}if(l)return l.filter(c=>!n||c.startsWith(n))}previousArgHasChoices(t){let r=this.getPreviousArgChoices(t);return r!==void 0&&r.length>0}argsContainKey(t,r,n){let i=s(o=>t.indexOf((/^[^0-9]$/.test(o)?"-":"--")+o)!==-1,"argsContains");if(i(r)||n&&i(`no-${r}`))return!0;if(this.aliases){for(let o of this.aliases[r])if(i(o))return!0}return!1}completeOptionKey(t,r,n,i){var o,a,l,c;let u=t;if(this.zshShell){let p=this.usage.getDescriptions(),g=(a=(o=this===null||this===void 0?void 0:this.aliases)===null||o===void 0?void 0:o[t])===null||a===void 0?void 0:a.find(b=>{let E=p[b];return typeof E=="string"&&E.length>0}),y=g?p[g]:void 0,x=(c=(l=p[t])!==null&&l!==void 0?l:y)!==null&&c!==void 0?c:"";u=`${t.replace(/:/g,"\\:")}:${x.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}let f=s(p=>/^--/.test(p),"startsByTwoDashes"),m=s(p=>/^[^0-9]$/.test(p),"isShortOption"),h=!f(n)&&m(t)?"-":"--";r.push(h+u),i&&r.push(h+"no-"+u)}customCompletion(t,r,n,i){if(y0(this.customCompletionFunction,null,this.shim),$ft(this.customCompletionFunction)){let o=this.customCompletionFunction(n,r);return gs(o)?o.then(a=>{this.shim.process.nextTick(()=>{i(null,a)})}).catch(a=>{this.shim.process.nextTick(()=>{i(a,void 0)})}):i(null,o)}else return zft(this.customCompletionFunction)?this.customCompletionFunction(n,r,(o=i)=>this.defaultCompletion(t,r,n,o),o=>{i(null,o)}):this.customCompletionFunction(n,r,o=>{i(null,o)})}getCompletion(t,r){let n=t.length?t[t.length-1]:"",i=this.yargs.parse(t,!0),o=this.customCompletionFunction?a=>this.customCompletion(t,a,n,r):a=>this.defaultCompletion(t,a,n,r);return gs(i)?i.then(o):o(i)}generateCompletionScript(t,r){let n=this.zshShell?FEe:LEe,i=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),n=n.replace(/{{app_name}}/g,i),n=n.replace(/{{completion_command}}/g,r),n.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function MEe(e,t,r,n){return new zte(e,t,r,n)}s(MEe,"completion");function $ft(e){return e.length<3}s($ft,"isSyncCompletionFunction");function zft(e){return e.length>3}s(zft,"isFallbackCompletionFunction");d();d();function QEe(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let r=[],n;for(n=0;n<=t.length;n++)r[n]=[n];let i;for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)===e.charAt(i-1)?r[n][i]=r[n-1][i-1]:n>1&&i>1&&t.charAt(n-2)===e.charAt(i-1)&&t.charAt(n-1)===e.charAt(i-2)?r[n][i]=r[n-2][i-2]+1:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}s(QEe,"levenshtein");var OEe=["$0","--","_"];function UEe(e,t,r){let n=r.y18n.__,i=r.y18n.__n,o={};o.nonOptionCount=s(function(m){let h=e.getDemandedCommands(),g=m._.length+(m["--"]?m["--"].length:0)-e.getInternalMethods().getContext().commands.length;h._&&(g<h._.min||g>h._.max)&&(g<h._.min?h._.minMsg!==void 0?t.fail(h._.minMsg?h._.minMsg.replace(/\$0/g,g.toString()).replace(/\$1/,h._.min.toString()):null):t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",g,g.toString(),h._.min.toString())):g>h._.max&&(h._.maxMsg!==void 0?t.fail(h._.maxMsg?h._.maxMsg.replace(/\$0/g,g.toString()).replace(/\$1/,h._.max.toString()):null):t.fail(i("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",g,g.toString(),h._.max.toString()))))},"nonOptionCount"),o.positionalCount=s(function(m,h){h<m&&t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",h,h+"",m+""))},"positionalCount"),o.requiredArguments=s(function(m,h){let p=null;for(let g of Object.keys(h))(!Object.prototype.hasOwnProperty.call(m,g)||typeof m[g]>"u")&&(p=p||{},p[g]=h[g]);if(p){let g=[];for(let x of Object.keys(p)){let b=p[x];b&&g.indexOf(b)<0&&g.push(b)}let y=g.length?`
${g.join(`
`)}`:"";t.fail(i("Missing required argument: %s","Missing required arguments: %s",Object.keys(p).length,Object.keys(p).join(", ")+y))}},"requiredArguments"),o.unknownArguments=s(function(m,h,p,g,y=!0){var x;let b=e.getInternalMethods().getCommandInstance().getCommands(),E=[],_=e.getInternalMethods().getContext();if(Object.keys(m).forEach(k=>{!OEe.includes(k)&&!Object.prototype.hasOwnProperty.call(p,k)&&!Object.prototype.hasOwnProperty.call(e.getInternalMethods().getParseContext(),k)&&!o.isValidAndSomeAliasIsNotNew(k,h)&&E.push(k)}),y&&(_.commands.length>0||b.length>0||g)&&m._.slice(_.commands.length).forEach(k=>{b.includes(""+k)||E.push(""+k)}),y){let B=((x=e.getDemandedCommands()._)===null||x===void 0?void 0:x.max)||0,N=_.commands.length+B;N<m._.length&&m._.slice(N).forEach(M=>{M=String(M),!_.commands.includes(M)&&!E.includes(M)&&E.push(M)})}E.length&&t.fail(i("Unknown argument: %s","Unknown arguments: %s",E.length,E.map(k=>k.trim()?k:`"${k}"`).join(", ")))},"unknownArguments"),o.unknownCommands=s(function(m){let h=e.getInternalMethods().getCommandInstance().getCommands(),p=[],g=e.getInternalMethods().getContext();return(g.commands.length>0||h.length>0)&&m._.slice(g.commands.length).forEach(y=>{h.includes(""+y)||p.push(""+y)}),p.length>0?(t.fail(i("Unknown command: %s","Unknown commands: %s",p.length,p.join(", "))),!0):!1},"unknownCommands"),o.isValidAndSomeAliasIsNotNew=s(function(m,h){if(!Object.prototype.hasOwnProperty.call(h,m))return!1;let p=e.parsed.newAliases;return[m,...h[m]].some(g=>!Object.prototype.hasOwnProperty.call(p,g)||!p[m])},"isValidAndSomeAliasIsNotNew"),o.limitedChoices=s(function(m){let h=e.getOptions(),p={};if(!Object.keys(h.choices).length)return;Object.keys(m).forEach(x=>{OEe.indexOf(x)===-1&&Object.prototype.hasOwnProperty.call(h.choices,x)&&[].concat(m[x]).forEach(b=>{h.choices[x].indexOf(b)===-1&&b!==void 0&&(p[x]=(p[x]||[]).concat(b))})});let g=Object.keys(p);if(!g.length)return;let y=n("Invalid values:");g.forEach(x=>{y+=`
  ${n("Argument: %s, Given: %s, Choices: %s",x,t.stringifiedValues(p[x]),t.stringifiedValues(h.choices[x]))}`}),t.fail(y)},"limitedChoices");let a={};o.implies=s(function(m,h){Fr("<string|object> [array|number|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{o.implies(p,m[p])}):(e.global(m),a[m]||(a[m]=[]),Array.isArray(h)?h.forEach(p=>o.implies(m,p)):(y0(h,void 0,r),a[m].push(h)))},"implies"),o.getImplied=s(function(){return a},"getImplied");function l(f,m){let h=Number(m);return m=isNaN(h)?m:h,typeof m=="number"?m=f._.length>=m:m.match(/^--no-.+/)?(m=m.match(/^--no-(.+)/)[1],m=!Object.prototype.hasOwnProperty.call(f,m)):m=Object.prototype.hasOwnProperty.call(f,m),m}s(l,"keyExists"),o.implications=s(function(m){let h=[];if(Object.keys(a).forEach(p=>{let g=p;(a[p]||[]).forEach(y=>{let x=g,b=y;x=l(m,x),y=l(m,y),x&&!y&&h.push(` ${g} -> ${b}`)})}),h.length){let p=`${n("Implications failed:")}
`;h.forEach(g=>{p+=g}),t.fail(p)}},"implications");let c={};o.conflicts=s(function(m,h){Fr("<string|object> [array|string]",[m,h],arguments.length),typeof m=="object"?Object.keys(m).forEach(p=>{o.conflicts(p,m[p])}):(e.global(m),c[m]||(c[m]=[]),Array.isArray(h)?h.forEach(p=>o.conflicts(m,p)):c[m].push(h))},"conflicts"),o.getConflicting=()=>c,o.conflicting=s(function(m){Object.keys(m).forEach(h=>{c[h]&&c[h].forEach(p=>{p&&m[h]!==void 0&&m[p]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})}),e.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(c).forEach(h=>{c[h].forEach(p=>{p&&m[r.Parser.camelCase(h)]!==void 0&&m[r.Parser.camelCase(p)]!==void 0&&t.fail(n("Arguments %s and %s are mutually exclusive",h,p))})})},"conflictingFn"),o.recommendCommands=s(function(m,h){h=h.sort((x,b)=>b.length-x.length);let g=null,y=1/0;for(let x=0,b;(b=h[x])!==void 0;x++){let E=QEe(m,b);E<=3&&E<y&&(y=E,g=b)}g&&t.fail(n("Did you mean %s?",g))},"recommendCommands"),o.reset=s(function(m){return a=M5(a,h=>!m[h]),c=M5(c,h=>!m[h]),o},"reset");let u=[];return o.freeze=s(function(){u.push({implied:a,conflicting:c})},"freeze"),o.unfreeze=s(function(){let m=u.pop();y0(m,void 0,r),{implied:a,conflicting:c}=m},"unfreeze"),o}s(UEe,"validation");d();var Yte=[],lS;function RQ(e,t,r,n){lS=n;let i={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return i;let o=/\.json|\..*rc$/.test(e.extends),a=null;if(o)a=Kft(t,e.extends);else try{a=require.resolve(e.extends)}catch{return e}Yft(a),Yte.push(a),i=o?JSON.parse(lS.readFileSync(a,"utf8")):require(e.extends),delete e.extends,i=RQ(i,lS.path.dirname(a),r,lS)}return Yte=[],r?qEe(i,e):Object.assign({},i,e)}s(RQ,"applyExtends");function Yft(e){if(Yte.indexOf(e)>-1)throw new ps(`Circular extended configurations: '${e}'.`)}s(Yft,"checkForCircularExtends");function Kft(e,t){return lS.path.resolve(e,t)}s(Kft,"getPathToDefaultConfig");function qEe(e,t){let r={};function n(i){return i&&typeof i=="object"&&!Array.isArray(i)}s(n,"isObject"),Object.assign(r,e);for(let i of Object.keys(t))n(t[i])&&n(r[i])?r[i]=qEe(e[i],t[i]):r[i]=t[i];return r}s(qEe,"mergeDeep");var Qr=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},pe=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},wa,yv,cS,Od,df,kQ,O5,Cv,BQ,Ud,DQ,qd,lg,mf,Wd,PQ,_8,Bl,Yr,NQ,LQ,hf,xv,S8,vv,U5,FQ,Qn,bv,Ev,Iv,Vn,MQ,cg,oa;function a4e(e){return(t=[],r=e.process.cwd(),n)=>{let i=new sre(t,r,n,e);return Object.defineProperty(i,"argv",{get:s(()=>i.parse(),"get"),enumerable:!0}),i.help(),i.version(),i}}s(a4e,"YargsFactory");var WEe=Symbol("copyDoubleDash"),GEe=Symbol("copyDoubleDash"),Kte=Symbol("deleteFromParserHintObject"),HEe=Symbol("emitWarning"),jEe=Symbol("freeze"),VEe=Symbol("getDollarZero"),Tv=Symbol("getParserConfiguration"),$Ee=Symbol("getUsageConfiguration"),Jte=Symbol("guessLocale"),zEe=Symbol("guessVersion"),YEe=Symbol("parsePositionalNumbers"),Xte=Symbol("pkgUp"),q5=Symbol("populateParserHintArray"),R8=Symbol("populateParserHintSingleValueDictionary"),Zte=Symbol("populateParserHintArrayDictionary"),ere=Symbol("populateParserHintDictionary"),tre=Symbol("sanitizeKey"),rre=Symbol("setKey"),nre=Symbol("unfreeze"),KEe=Symbol("validateAsync"),JEe=Symbol("getCommandInstance"),XEe=Symbol("getContext"),ZEe=Symbol("getHasOutput"),e4e=Symbol("getLoggerInstance"),t4e=Symbol("getParseContext"),r4e=Symbol("getUsageInstance"),n4e=Symbol("getValidationInstance"),QQ=Symbol("hasParseCallback"),i4e=Symbol("isGlobalContext"),wv=Symbol("postProcess"),o4e=Symbol("rebase"),ire=Symbol("reset"),uS=Symbol("runYargsParserAndExecuteCommands"),ore=Symbol("runValidation"),s4e=Symbol("setHasOutput"),_v=Symbol("kTrackManuallySetKeys"),sre=class{static{s(this,"YargsInstance")}constructor(t=[],r,n,i){this.customScriptName=!1,this.parsed=!1,wa.set(this,void 0),yv.set(this,void 0),cS.set(this,{commands:[],fullCommands:[]}),Od.set(this,null),df.set(this,null),kQ.set(this,"show-hidden"),O5.set(this,null),Cv.set(this,!0),BQ.set(this,{}),Ud.set(this,!0),DQ.set(this,[]),qd.set(this,void 0),lg.set(this,{}),mf.set(this,!1),Wd.set(this,null),PQ.set(this,!0),_8.set(this,void 0),Bl.set(this,""),Yr.set(this,void 0),NQ.set(this,void 0),LQ.set(this,{}),hf.set(this,null),xv.set(this,null),S8.set(this,{}),vv.set(this,{}),U5.set(this,void 0),FQ.set(this,!1),Qn.set(this,void 0),bv.set(this,!1),Ev.set(this,!1),Iv.set(this,!1),Vn.set(this,void 0),MQ.set(this,{}),cg.set(this,null),oa.set(this,void 0),Qr(this,Qn,i,"f"),Qr(this,U5,t,"f"),Qr(this,yv,r,"f"),Qr(this,NQ,n,"f"),Qr(this,qd,new wQ(this),"f"),this.$0=this[VEe](),this[ire](),Qr(this,wa,pe(this,wa,"f"),"f"),Qr(this,Vn,pe(this,Vn,"f"),"f"),Qr(this,oa,pe(this,oa,"f"),"f"),Qr(this,Yr,pe(this,Yr,"f"),"f"),pe(this,Yr,"f").showHiddenOpt=pe(this,kQ,"f"),Qr(this,_8,this[GEe](),"f")}addHelpOpt(t,r){let n="help";return Fr("[string|boolean] [string]",[t,r],arguments.length),pe(this,Wd,"f")&&(this[Kte](pe(this,Wd,"f")),Qr(this,Wd,null,"f")),t===!1&&r===void 0?this:(Qr(this,Wd,typeof t=="string"?t:n,"f"),this.boolean(pe(this,Wd,"f")),this.describe(pe(this,Wd,"f"),r||pe(this,Vn,"f").deferY18nLookup("Show help")),this)}help(t,r){return this.addHelpOpt(t,r)}addShowHiddenOpt(t,r){if(Fr("[string|boolean] [string]",[t,r],arguments.length),t===!1&&r===void 0)return this;let n=typeof t=="string"?t:pe(this,kQ,"f");return this.boolean(n),this.describe(n,r||pe(this,Vn,"f").deferY18nLookup("Show hidden options")),pe(this,Yr,"f").showHiddenOpt=n,this}showHidden(t,r){return this.addShowHiddenOpt(t,r)}alias(t,r){return Fr("<object|string|array> [string|array]",[t,r],arguments.length),this[Zte](this.alias.bind(this),"alias",t,r),this}array(t){return Fr("<array|string>",[t],arguments.length),this[q5]("array",t),this[_v](t),this}boolean(t){return Fr("<array|string>",[t],arguments.length),this[q5]("boolean",t),this[_v](t),this}check(t,r){return Fr("<function> [boolean]",[t,r],arguments.length),this.middleware((n,i)=>Av(()=>t(n,i.getOptions()),o=>(o?(typeof o=="string"||o instanceof Error)&&pe(this,Vn,"f").fail(o.toString(),o):pe(this,Vn,"f").fail(pe(this,Qn,"f").y18n.__("Argument check failed: %s",t.toString())),n),o=>(pe(this,Vn,"f").fail(o.message?o.message:o.toString(),o),n)),!1,r),this}choices(t,r){return Fr("<object|string|array> [string|array]",[t,r],arguments.length),this[Zte](this.choices.bind(this),"choices",t,r),this}coerce(t,r){if(Fr("<object|string|array> [function]",[t,r],arguments.length),Array.isArray(t)){if(!r)throw new ps("coerce callback must be provided");for(let n of t)this.coerce(n,r);return this}else if(typeof t=="object"){for(let n of Object.keys(t))this.coerce(n,t[n]);return this}if(!r)throw new ps("coerce callback must be provided");return pe(this,Yr,"f").key[t]=!0,pe(this,qd,"f").addCoerceMiddleware((n,i)=>{let o;return Object.prototype.hasOwnProperty.call(n,t)?Av(()=>(o=i.getAliases(),r(n[t])),l=>{n[t]=l;let c=i.getInternalMethods().getParserConfiguration()["strip-aliased"];if(o[t]&&c!==!0)for(let u of o[t])n[u]=l;return n},l=>{throw new ps(l.message)}):n},t),this}conflicts(t,r){return Fr("<string|object> [string|array]",[t,r],arguments.length),pe(this,oa,"f").conflicts(t,r),this}config(t="config",r,n){return Fr("[object|string] [string|function] [function]",[t,r,n],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=RQ(t,pe(this,yv,"f"),this[Tv]()["deep-merge-config"]||!1,pe(this,Qn,"f")),pe(this,Yr,"f").configObjects=(pe(this,Yr,"f").configObjects||[]).concat(t),this):(typeof r=="function"&&(n=r,r=void 0),this.describe(t,r||pe(this,Vn,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(i=>{pe(this,Yr,"f").config[i]=n||!0}),this)}completion(t,r,n){return Fr("[string] [string|boolean|function] [function]",[t,r,n],arguments.length),typeof r=="function"&&(n=r,r=void 0),Qr(this,df,t||pe(this,df,"f")||"completion","f"),!r&&r!==!1&&(r="generate completion script"),this.command(pe(this,df,"f"),r),n&&pe(this,Od,"f").registerFunction(n),this}command(t,r,n,i,o,a){return Fr("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,r,n,i,o,a],arguments.length),pe(this,wa,"f").addHandler(t,r,n,i,o,a),this}commands(t,r,n,i,o,a){return this.command(t,r,n,i,o,a)}commandDir(t,r){Fr("<string> [object]",[t,r],arguments.length);let n=pe(this,NQ,"f")||pe(this,Qn,"f").require;return pe(this,wa,"f").addDirectory(t,n,pe(this,Qn,"f").getCallerFile(),r),this}count(t){return Fr("<array|string>",[t],arguments.length),this[q5]("count",t),this[_v](t),this}default(t,r,n){return Fr("<object|string|array> [*] [string]",[t,r,n],arguments.length),n&&(Hte(t,pe(this,Qn,"f")),pe(this,Yr,"f").defaultDescription[t]=n),typeof r=="function"&&(Hte(t,pe(this,Qn,"f")),pe(this,Yr,"f").defaultDescription[t]||(pe(this,Yr,"f").defaultDescription[t]=pe(this,Vn,"f").functionDescription(r)),r=r.call()),this[R8](this.default.bind(this),"default",t,r),this}defaults(t,r,n){return this.default(t,r,n)}demandCommand(t=1,r,n,i){return Fr("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,r,n,i],arguments.length),typeof r!="number"&&(n=r,r=1/0),this.global("_",!1),pe(this,Yr,"f").demandedCommands._={min:t,max:r,minMsg:n,maxMsg:i},this}demand(t,r,n){return Array.isArray(r)?(r.forEach(i=>{y0(n,!0,pe(this,Qn,"f")),this.demandOption(i,n)}),r=1/0):typeof r!="number"&&(n=r,r=1/0),typeof t=="number"?(y0(n,!0,pe(this,Qn,"f")),this.demandCommand(t,r,n,n)):Array.isArray(t)?t.forEach(i=>{y0(n,!0,pe(this,Qn,"f")),this.demandOption(i,n)}):typeof n=="string"?this.demandOption(t,n):(n===!0||typeof n>"u")&&this.demandOption(t),this}demandOption(t,r){return Fr("<object|string|array> [string]",[t,r],arguments.length),this[R8](this.demandOption.bind(this),"demandedOptions",t,r),this}deprecateOption(t,r){return Fr("<string> [string|boolean]",[t,r],arguments.length),pe(this,Yr,"f").deprecatedOptions[t]=r,this}describe(t,r){return Fr("<object|string|array> [string]",[t,r],arguments.length),this[rre](t,!0),pe(this,Vn,"f").describe(t,r),this}detectLocale(t){return Fr("<boolean>",[t],arguments.length),Qr(this,Cv,t,"f"),this}env(t){return Fr("[string|boolean]",[t],arguments.length),t===!1?delete pe(this,Yr,"f").envPrefix:pe(this,Yr,"f").envPrefix=t||"",this}epilogue(t){return Fr("<string>",[t],arguments.length),pe(this,Vn,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,r){return Fr("<string|array> [string]",[t,r],arguments.length),Array.isArray(t)?t.forEach(n=>this.example(...n)):pe(this,Vn,"f").example(t,r),this}exit(t,r){Qr(this,mf,!0,"f"),Qr(this,O5,r,"f"),pe(this,Ud,"f")&&pe(this,Qn,"f").process.exit(t)}exitProcess(t=!0){return Fr("[boolean]",[t],arguments.length),Qr(this,Ud,t,"f"),this}fail(t){if(Fr("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new ps("Invalid first argument. Expected function or boolean 'false'");return pe(this,Vn,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,r){return Fr("<array> [function]",[t,r],arguments.length),r?pe(this,Od,"f").getCompletion(t,r):new Promise((n,i)=>{pe(this,Od,"f").getCompletion(t,(o,a)=>{o?i(o):n(a)})})}getDemandedOptions(){return Fr([],0),pe(this,Yr,"f").demandedOptions}getDemandedCommands(){return Fr([],0),pe(this,Yr,"f").demandedCommands}getDeprecatedOptions(){return Fr([],0),pe(this,Yr,"f").deprecatedOptions}getDetectLocale(){return pe(this,Cv,"f")}getExitProcess(){return pe(this,Ud,"f")}getGroups(){return Object.assign({},pe(this,lg,"f"),pe(this,vv,"f"))}getHelp(){if(Qr(this,mf,!0,"f"),!pe(this,Vn,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[uS](pe(this,U5,"f"),void 0,void 0,0,!0);if(gs(r))return r.then(()=>pe(this,Vn,"f").help())}let t=pe(this,wa,"f").runDefaultBuilderOn(this);if(gs(t))return t.then(()=>pe(this,Vn,"f").help())}return Promise.resolve(pe(this,Vn,"f").help())}getOptions(){return pe(this,Yr,"f")}getStrict(){return pe(this,bv,"f")}getStrictCommands(){return pe(this,Ev,"f")}getStrictOptions(){return pe(this,Iv,"f")}global(t,r){return Fr("<string|array> [boolean]",[t,r],arguments.length),t=[].concat(t),r!==!1?pe(this,Yr,"f").local=pe(this,Yr,"f").local.filter(n=>t.indexOf(n)===-1):t.forEach(n=>{pe(this,Yr,"f").local.includes(n)||pe(this,Yr,"f").local.push(n)}),this}group(t,r){Fr("<string|array> <string>",[t,r],arguments.length);let n=pe(this,vv,"f")[r]||pe(this,lg,"f")[r];pe(this,vv,"f")[r]&&delete pe(this,vv,"f")[r];let i={};return pe(this,lg,"f")[r]=(n||[]).concat(t).filter(o=>i[o]?!1:i[o]=!0),this}hide(t){return Fr("<string>",[t],arguments.length),pe(this,Yr,"f").hiddenOptions.push(t),this}implies(t,r){return Fr("<string|object> [number|string|array]",[t,r],arguments.length),pe(this,oa,"f").implies(t,r),this}locale(t){return Fr("[string]",[t],arguments.length),t===void 0?(this[Jte](),pe(this,Qn,"f").y18n.getLocale()):(Qr(this,Cv,!1,"f"),pe(this,Qn,"f").y18n.setLocale(t),this)}middleware(t,r,n){return pe(this,qd,"f").addMiddleware(t,!!r,n)}nargs(t,r){return Fr("<string|object|array> [number]",[t,r],arguments.length),this[R8](this.nargs.bind(this),"narg",t,r),this}normalize(t){return Fr("<array|string>",[t],arguments.length),this[q5]("normalize",t),this}number(t){return Fr("<array|string>",[t],arguments.length),this[q5]("number",t),this[_v](t),this}option(t,r){if(Fr("<string|object> [object]",[t,r],arguments.length),typeof t=="object")Object.keys(t).forEach(n=>{this.options(n,t[n])});else{typeof r!="object"&&(r={}),this[_v](t),pe(this,cg,"f")&&(t==="version"||r?.alias==="version")&&this[HEe](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),pe(this,Yr,"f").key[t]=!0,r.alias&&this.alias(t,r.alias);let n=r.deprecate||r.deprecated;n&&this.deprecateOption(t,n);let i=r.demand||r.required||r.require;i&&this.demand(t,i),r.demandOption&&this.demandOption(t,typeof r.demandOption=="string"?r.demandOption:void 0),r.conflicts&&this.conflicts(t,r.conflicts),"default"in r&&this.default(t,r.default),r.implies!==void 0&&this.implies(t,r.implies),r.nargs!==void 0&&this.nargs(t,r.nargs),r.config&&this.config(t,r.configParser),r.normalize&&this.normalize(t),r.choices&&this.choices(t,r.choices),r.coerce&&this.coerce(t,r.coerce),r.group&&this.group(t,r.group),(r.boolean||r.type==="boolean")&&(this.boolean(t),r.alias&&this.boolean(r.alias)),(r.array||r.type==="array")&&(this.array(t),r.alias&&this.array(r.alias)),(r.number||r.type==="number")&&(this.number(t),r.alias&&this.number(r.alias)),(r.string||r.type==="string")&&(this.string(t),r.alias&&this.string(r.alias)),(r.count||r.type==="count")&&this.count(t),typeof r.global=="boolean"&&this.global(t,r.global),r.defaultDescription&&(pe(this,Yr,"f").defaultDescription[t]=r.defaultDescription),r.skipValidation&&this.skipValidation(t);let o=r.describe||r.description||r.desc,a=pe(this,Vn,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(a,t)||typeof o=="string")&&this.describe(t,o),r.hidden&&this.hide(t),r.requiresArg&&this.requiresArg(t)}return this}options(t,r){return this.option(t,r)}parse(t,r,n){Fr("[string|array] [function|boolean|object] [function]",[t,r,n],arguments.length),this[jEe](),typeof t>"u"&&(t=pe(this,U5,"f")),typeof r=="object"&&(Qr(this,xv,r,"f"),r=n),typeof r=="function"&&(Qr(this,hf,r,"f"),r=!1),r||Qr(this,U5,t,"f"),pe(this,hf,"f")&&Qr(this,Ud,!1,"f");let i=this[uS](t,!!r),o=this.parsed;return pe(this,Od,"f").setParsed(this.parsed),gs(i)?i.then(a=>(pe(this,hf,"f")&&pe(this,hf,"f").call(this,pe(this,O5,"f"),a,pe(this,Bl,"f")),a)).catch(a=>{throw pe(this,hf,"f")&&pe(this,hf,"f")(a,this.parsed.argv,pe(this,Bl,"f")),a}).finally(()=>{this[nre](),this.parsed=o}):(pe(this,hf,"f")&&pe(this,hf,"f").call(this,pe(this,O5,"f"),i,pe(this,Bl,"f")),this[nre](),this.parsed=o,i)}parseAsync(t,r,n){let i=this.parse(t,r,n);return gs(i)?i:Promise.resolve(i)}parseSync(t,r,n){let i=this.parse(t,r,n);if(gs(i))throw new ps(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(t){return Fr("<object>",[t],arguments.length),Qr(this,LQ,t,"f"),this}pkgConf(t,r){Fr("<string> [string]",[t,r],arguments.length);let n=null,i=this[Xte](r||pe(this,yv,"f"));return i[t]&&typeof i[t]=="object"&&(n=RQ(i[t],r||pe(this,yv,"f"),this[Tv]()["deep-merge-config"]||!1,pe(this,Qn,"f")),pe(this,Yr,"f").configObjects=(pe(this,Yr,"f").configObjects||[]).concat(n)),this}positional(t,r){Fr("<string> <object>",[t,r],arguments.length);let n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];r=M5(r,(a,l)=>a==="type"&&!["string","number","boolean"].includes(l)?!1:n.includes(a));let i=pe(this,cS,"f").fullCommands[pe(this,cS,"f").fullCommands.length-1],o=i?pe(this,wa,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return T8(o).forEach(a=>{let l=o[a];Array.isArray(l)?l.indexOf(t)!==-1&&(r[a]=!0):l[t]&&!(a in r)&&(r[a]=l[t])}),this.group(t,pe(this,Vn,"f").getPositionalGroupName()),this.option(t,r)}recommendCommands(t=!0){return Fr("[boolean]",[t],arguments.length),Qr(this,FQ,t,"f"),this}required(t,r,n){return this.demand(t,r,n)}require(t,r,n){return this.demand(t,r,n)}requiresArg(t){return Fr("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&pe(this,Yr,"f").narg[t]?this:(this[R8](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,r){return Fr("[string] [string]",[t,r],arguments.length),t=t||this.$0,pe(this,_8,"f").log(pe(this,Od,"f").generateCompletionScript(t,r||pe(this,df,"f")||"completion")),this}showHelp(t){if(Fr("[string|function]",[t],arguments.length),Qr(this,mf,!0,"f"),!pe(this,Vn,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[uS](pe(this,U5,"f"),void 0,void 0,0,!0);if(gs(n))return n.then(()=>{pe(this,Vn,"f").showHelp(t)}),this}let r=pe(this,wa,"f").runDefaultBuilderOn(this);if(gs(r))return r.then(()=>{pe(this,Vn,"f").showHelp(t)}),this}return pe(this,Vn,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,r){return Fr("[boolean|string] [string]",[t,r],arguments.length),pe(this,Vn,"f").showHelpOnFail(t,r),this}showVersion(t){return Fr("[string|function]",[t],arguments.length),pe(this,Vn,"f").showVersion(t),this}skipValidation(t){return Fr("<array|string>",[t],arguments.length),this[q5]("skipValidation",t),this}strict(t){return Fr("[boolean]",[t],arguments.length),Qr(this,bv,t!==!1,"f"),this}strictCommands(t){return Fr("[boolean]",[t],arguments.length),Qr(this,Ev,t!==!1,"f"),this}strictOptions(t){return Fr("[boolean]",[t],arguments.length),Qr(this,Iv,t!==!1,"f"),this}string(t){return Fr("<array|string>",[t],arguments.length),this[q5]("string",t),this[_v](t),this}terminalWidth(){return Fr([],0),pe(this,Qn,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return Fr("<object>",[t],arguments.length),Qr(this,Cv,!1,"f"),pe(this,Qn,"f").y18n.updateLocale(t),this}usage(t,r,n,i){if(Fr("<string|null|undefined> [string|boolean] [function|object] [function]",[t,r,n,i],arguments.length),r!==void 0){if(y0(t,null,pe(this,Qn,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,r,n,i);throw new ps(".usage() description must start with $0 if being used as alias for .command()")}else return pe(this,Vn,"f").usage(t),this}usageConfiguration(t){return Fr("<object>",[t],arguments.length),Qr(this,MQ,t,"f"),this}version(t,r,n){let i="version";if(Fr("[boolean|string] [string] [string]",[t,r,n],arguments.length),pe(this,cg,"f")&&(this[Kte](pe(this,cg,"f")),pe(this,Vn,"f").version(void 0),Qr(this,cg,null,"f")),arguments.length===0)n=this[zEe](),t=i;else if(arguments.length===1){if(t===!1)return this;n=t,t=i}else arguments.length===2&&(n=r,r=void 0);return Qr(this,cg,typeof t=="string"?t:i,"f"),r=r||pe(this,Vn,"f").deferY18nLookup("Show version number"),pe(this,Vn,"f").version(n||void 0),this.boolean(pe(this,cg,"f")),this.describe(pe(this,cg,"f"),r),this}wrap(t){return Fr("<number|null|undefined>",[t],arguments.length),pe(this,Vn,"f").wrap(t),this}[(wa=new WeakMap,yv=new WeakMap,cS=new WeakMap,Od=new WeakMap,df=new WeakMap,kQ=new WeakMap,O5=new WeakMap,Cv=new WeakMap,BQ=new WeakMap,Ud=new WeakMap,DQ=new WeakMap,qd=new WeakMap,lg=new WeakMap,mf=new WeakMap,Wd=new WeakMap,PQ=new WeakMap,_8=new WeakMap,Bl=new WeakMap,Yr=new WeakMap,NQ=new WeakMap,LQ=new WeakMap,hf=new WeakMap,xv=new WeakMap,S8=new WeakMap,vv=new WeakMap,U5=new WeakMap,FQ=new WeakMap,Qn=new WeakMap,bv=new WeakMap,Ev=new WeakMap,Iv=new WeakMap,Vn=new WeakMap,MQ=new WeakMap,cg=new WeakMap,oa=new WeakMap,WEe)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch{}return t}[GEe](){return{log:s((...t)=>{this[QQ]()||console.log(...t),Qr(this,mf,!0,"f"),pe(this,Bl,"f").length&&Qr(this,Bl,pe(this,Bl,"f")+`
`,"f"),Qr(this,Bl,pe(this,Bl,"f")+t.join(" "),"f")},"log"),error:s((...t)=>{this[QQ]()||console.error(...t),Qr(this,mf,!0,"f"),pe(this,Bl,"f").length&&Qr(this,Bl,pe(this,Bl,"f")+`
`,"f"),Qr(this,Bl,pe(this,Bl,"f")+t.join(" "),"f")},"error")}}[Kte](t){T8(pe(this,Yr,"f")).forEach(r=>{if((i=>i==="configObjects")(r))return;let n=pe(this,Yr,"f")[r];Array.isArray(n)?n.includes(t)&&n.splice(n.indexOf(t),1):typeof n=="object"&&delete n[t]}),delete pe(this,Vn,"f").getDescriptions()[t]}[HEe](t,r,n){pe(this,BQ,"f")[n]||(pe(this,Qn,"f").process.emitWarning(t,r),pe(this,BQ,"f")[n]=!0)}[jEe](){pe(this,DQ,"f").push({options:pe(this,Yr,"f"),configObjects:pe(this,Yr,"f").configObjects.slice(0),exitProcess:pe(this,Ud,"f"),groups:pe(this,lg,"f"),strict:pe(this,bv,"f"),strictCommands:pe(this,Ev,"f"),strictOptions:pe(this,Iv,"f"),completionCommand:pe(this,df,"f"),output:pe(this,Bl,"f"),exitError:pe(this,O5,"f"),hasOutput:pe(this,mf,"f"),parsed:this.parsed,parseFn:pe(this,hf,"f"),parseContext:pe(this,xv,"f")}),pe(this,Vn,"f").freeze(),pe(this,oa,"f").freeze(),pe(this,wa,"f").freeze(),pe(this,qd,"f").freeze()}[VEe](){let t="",r;return/\b(node|iojs|electron)(\.exe)?$/.test(pe(this,Qn,"f").process.argv()[0])?r=pe(this,Qn,"f").process.argv().slice(1,2):r=pe(this,Qn,"f").process.argv().slice(0,1),t=r.map(n=>{let i=this[o4e](pe(this,yv,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<n.length?i:n}).join(" ").trim(),pe(this,Qn,"f").getEnv("_")&&pe(this,Qn,"f").getProcessArgvBin()===pe(this,Qn,"f").getEnv("_")&&(t=pe(this,Qn,"f").getEnv("_").replace(`${pe(this,Qn,"f").path.dirname(pe(this,Qn,"f").process.execPath())}/`,"")),t}[Tv](){return pe(this,LQ,"f")}[$Ee](){return pe(this,MQ,"f")}[Jte](){if(!pe(this,Cv,"f"))return;let t=pe(this,Qn,"f").getEnv("LC_ALL")||pe(this,Qn,"f").getEnv("LC_MESSAGES")||pe(this,Qn,"f").getEnv("LANG")||pe(this,Qn,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[zEe](){return this[Xte]().version||"unknown"}[YEe](t){let r=t["--"]?t["--"]:t._;for(let n=0,i;(i=r[n])!==void 0;n++)pe(this,Qn,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(r[n]=Number(i));return t}[Xte](t){let r=t||"*";if(pe(this,S8,"f")[r])return pe(this,S8,"f")[r];let n={};try{let i=t||pe(this,Qn,"f").mainFilename;!t&&pe(this,Qn,"f").path.extname(i)&&(i=pe(this,Qn,"f").path.dirname(i));let o=pe(this,Qn,"f").findUp(i,(a,l)=>{if(l.includes("package.json"))return"package.json"});y0(o,void 0,pe(this,Qn,"f")),n=JSON.parse(pe(this,Qn,"f").readFileSync(o,"utf8"))}catch{}return pe(this,S8,"f")[r]=n||{},pe(this,S8,"f")[r]}[q5](t,r){r=[].concat(r),r.forEach(n=>{n=this[tre](n),pe(this,Yr,"f")[t].push(n)})}[R8](t,r,n,i){this[ere](t,r,n,i,(o,a,l)=>{pe(this,Yr,"f")[o][a]=l})}[Zte](t,r,n,i){this[ere](t,r,n,i,(o,a,l)=>{pe(this,Yr,"f")[o][a]=(pe(this,Yr,"f")[o][a]||[]).concat(l)})}[ere](t,r,n,i,o){if(Array.isArray(n))n.forEach(a=>{t(a,i)});else if((a=>typeof a=="object")(n))for(let a of T8(n))t(a,n[a]);else o(r,this[tre](n),i)}[tre](t){return t==="__proto__"?"___proto___":t}[rre](t,r){return this[R8](this[rre].bind(this),"key",t,r),this}[nre](){var t,r,n,i,o,a,l,c,u,f,m,h;let p=pe(this,DQ,"f").pop();y0(p,void 0,pe(this,Qn,"f"));let g;t=this,r=this,n=this,i=this,o=this,a=this,l=this,c=this,u=this,f=this,m=this,h=this,{options:{set value(y){Qr(t,Yr,y,"f")}}.value,configObjects:g,exitProcess:{set value(y){Qr(r,Ud,y,"f")}}.value,groups:{set value(y){Qr(n,lg,y,"f")}}.value,output:{set value(y){Qr(i,Bl,y,"f")}}.value,exitError:{set value(y){Qr(o,O5,y,"f")}}.value,hasOutput:{set value(y){Qr(a,mf,y,"f")}}.value,parsed:this.parsed,strict:{set value(y){Qr(l,bv,y,"f")}}.value,strictCommands:{set value(y){Qr(c,Ev,y,"f")}}.value,strictOptions:{set value(y){Qr(u,Iv,y,"f")}}.value,completionCommand:{set value(y){Qr(f,df,y,"f")}}.value,parseFn:{set value(y){Qr(m,hf,y,"f")}}.value,parseContext:{set value(y){Qr(h,xv,y,"f")}}.value}=p,pe(this,Yr,"f").configObjects=g,pe(this,Vn,"f").unfreeze(),pe(this,oa,"f").unfreeze(),pe(this,wa,"f").unfreeze(),pe(this,qd,"f").unfreeze()}[KEe](t,r){return Av(r,n=>(t(n),n))}getInternalMethods(){return{getCommandInstance:this[JEe].bind(this),getContext:this[XEe].bind(this),getHasOutput:this[ZEe].bind(this),getLoggerInstance:this[e4e].bind(this),getParseContext:this[t4e].bind(this),getParserConfiguration:this[Tv].bind(this),getUsageConfiguration:this[$Ee].bind(this),getUsageInstance:this[r4e].bind(this),getValidationInstance:this[n4e].bind(this),hasParseCallback:this[QQ].bind(this),isGlobalContext:this[i4e].bind(this),postProcess:this[wv].bind(this),reset:this[ire].bind(this),runValidation:this[ore].bind(this),runYargsParserAndExecuteCommands:this[uS].bind(this),setHasOutput:this[s4e].bind(this)}}[JEe](){return pe(this,wa,"f")}[XEe](){return pe(this,cS,"f")}[ZEe](){return pe(this,mf,"f")}[e4e](){return pe(this,_8,"f")}[t4e](){return pe(this,xv,"f")||{}}[r4e](){return pe(this,Vn,"f")}[n4e](){return pe(this,oa,"f")}[QQ](){return!!pe(this,hf,"f")}[i4e](){return pe(this,PQ,"f")}[wv](t,r,n,i){return n||gs(t)||(r||(t=this[WEe](t)),(this[Tv]()["parse-positional-numbers"]||this[Tv]()["parse-positional-numbers"]===void 0)&&(t=this[YEe](t)),i&&(t=gv(t,this,pe(this,qd,"f").getMiddleware(),!1))),t}[ire](t={}){Qr(this,Yr,pe(this,Yr,"f")||{},"f");let r={};r.local=pe(this,Yr,"f").local||[],r.configObjects=pe(this,Yr,"f").configObjects||[];let n={};r.local.forEach(a=>{n[a]=!0,(t[a]||[]).forEach(l=>{n[l]=!0})}),Object.assign(pe(this,vv,"f"),Object.keys(pe(this,lg,"f")).reduce((a,l)=>{let c=pe(this,lg,"f")[l].filter(u=>!(u in n));return c.length>0&&(a[l]=c),a},{})),Qr(this,lg,{},"f");let i=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],o=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return i.forEach(a=>{r[a]=(pe(this,Yr,"f")[a]||[]).filter(l=>!n[l])}),o.forEach(a=>{r[a]=M5(pe(this,Yr,"f")[a],l=>!n[l])}),r.envPrefix=pe(this,Yr,"f").envPrefix,Qr(this,Yr,r,"f"),Qr(this,Vn,pe(this,Vn,"f")?pe(this,Vn,"f").reset(n):NEe(this,pe(this,Qn,"f")),"f"),Qr(this,oa,pe(this,oa,"f")?pe(this,oa,"f").reset(n):UEe(this,pe(this,Vn,"f"),pe(this,Qn,"f")),"f"),Qr(this,wa,pe(this,wa,"f")?pe(this,wa,"f").reset():BEe(pe(this,Vn,"f"),pe(this,oa,"f"),pe(this,qd,"f"),pe(this,Qn,"f")),"f"),pe(this,Od,"f")||Qr(this,Od,MEe(this,pe(this,Vn,"f"),pe(this,wa,"f"),pe(this,Qn,"f")),"f"),pe(this,qd,"f").reset(),Qr(this,df,null,"f"),Qr(this,Bl,"","f"),Qr(this,O5,null,"f"),Qr(this,mf,!1,"f"),this.parsed=!1,this}[o4e](t,r){return pe(this,Qn,"f").path.relative(t,r)}[uS](t,r,n,i=0,o=!1){let a=!!n||o;t=t||pe(this,U5,"f"),pe(this,Yr,"f").__=pe(this,Qn,"f").y18n.__,pe(this,Yr,"f").configuration=this[Tv]();let l=!!pe(this,Yr,"f").configuration["populate--"],c=Object.assign({},pe(this,Yr,"f").configuration,{"populate--":!0}),u=pe(this,Qn,"f").Parser.detailed(t,Object.assign({},pe(this,Yr,"f"),{configuration:{"parse-positional-numbers":!1,...c}})),f=Object.assign(u.argv,pe(this,xv,"f")),m,h=u.aliases,p=!1,g=!1;Object.keys(f).forEach(y=>{y===pe(this,Wd,"f")&&f[y]?p=!0:y===pe(this,cg,"f")&&f[y]&&(g=!0)}),f.$0=this.$0,this.parsed=u,i===0&&pe(this,Vn,"f").clearCachedHelpMessage();try{if(this[Jte](),r)return this[wv](f,l,!!n,!1);pe(this,Wd,"f")&&[pe(this,Wd,"f")].concat(h[pe(this,Wd,"f")]||[]).filter(_=>_.length>1).includes(""+f._[f._.length-1])&&(f._.pop(),p=!0),Qr(this,PQ,!1,"f");let y=pe(this,wa,"f").getCommands(),x=pe(this,Od,"f").completionKey in f,b=p||x||o;if(f._.length){if(y.length){let E;for(let _=i||0,k;f._[_]!==void 0;_++)if(k=String(f._[_]),y.includes(k)&&k!==pe(this,df,"f")){let B=pe(this,wa,"f").runCommand(k,this,u,_+1,o,p||g||o);return this[wv](B,l,!!n,!1)}else if(!E&&k!==pe(this,df,"f")){E=k;break}!pe(this,wa,"f").hasDefaultCommand()&&pe(this,FQ,"f")&&E&&!b&&pe(this,oa,"f").recommendCommands(E,y)}pe(this,df,"f")&&f._.includes(pe(this,df,"f"))&&!x&&(pe(this,Ud,"f")&&Q5(!0),this.showCompletionScript(),this.exit(0))}if(pe(this,wa,"f").hasDefaultCommand()&&!b){let E=pe(this,wa,"f").runCommand(null,this,u,0,o,p||g||o);return this[wv](E,l,!!n,!1)}if(x){pe(this,Ud,"f")&&Q5(!0),t=[].concat(t);let E=t.slice(t.indexOf(`--${pe(this,Od,"f").completionKey}`)+1);return pe(this,Od,"f").getCompletion(E,(_,k)=>{if(_)throw new ps(_.message);(k||[]).forEach(B=>{pe(this,_8,"f").log(B)}),this.exit(0)}),this[wv](f,!l,!!n,!1)}if(pe(this,mf,"f")||(p?(pe(this,Ud,"f")&&Q5(!0),a=!0,this.showHelp("log"),this.exit(0)):g&&(pe(this,Ud,"f")&&Q5(!0),a=!0,pe(this,Vn,"f").showVersion("log"),this.exit(0))),!a&&pe(this,Yr,"f").skipValidation.length>0&&(a=Object.keys(f).some(E=>pe(this,Yr,"f").skipValidation.indexOf(E)>=0&&f[E]===!0)),!a){if(u.error)throw new ps(u.error.message);if(!x){let E=this[ore](h,{},u.error);n||(m=gv(f,this,pe(this,qd,"f").getMiddleware(),!0)),m=this[KEe](E,m??f),gs(m)&&!n&&(m=m.then(()=>gv(f,this,pe(this,qd,"f").getMiddleware(),!1)))}}}catch(y){if(y instanceof ps)pe(this,Vn,"f").fail(y.message,y);else throw y}return this[wv](m??f,l,!!n,!0)}[ore](t,r,n,i){let o={...this.getDemandedOptions()};return a=>{if(n)throw new ps(n.message);pe(this,oa,"f").nonOptionCount(a),pe(this,oa,"f").requiredArguments(a,o);let l=!1;pe(this,Ev,"f")&&(l=pe(this,oa,"f").unknownCommands(a)),pe(this,bv,"f")&&!l?pe(this,oa,"f").unknownArguments(a,t,r,!!i):pe(this,Iv,"f")&&pe(this,oa,"f").unknownArguments(a,t,{},!1,!1),pe(this,oa,"f").limitedChoices(a),pe(this,oa,"f").implications(a),pe(this,oa,"f").conflicting(a)}}[s4e](){Qr(this,mf,!0,"f")}[_v](t){if(typeof t=="string")pe(this,Yr,"f").key[t]=!0;else for(let r of t)pe(this,Yr,"f").key[r]=!0}};function DEe(e){return!!e&&typeof e.getInternalMethods=="function"}s(DEe,"isYargsInstance");var Jft=a4e(wEe),l4e=Jft;d();d();var fS="apps",are="hosts",dS=class{constructor(t,r){this.ctx=t;this.persistenceManager=r}static{s(this,"AuthPersistence")}#e;setAuthAuthority(t){this.#e=t}async getAuthRecord({githubAppId:t}={}){let r=this.getAuthAuthority(),n=await this.persistenceManager.read(fS,this.authRecordKey(this.ctx,r,t));return!t&&!n?(t=this.ctx.get(Ta).fallbackAppId(),n=await this.persistenceManager.read(fS,this.authRecordKey(this.ctx,r,t))):t??=this.ctx.get(Ta).findAppIdToAuthenticate(),n?{...n,oauth_token:n.access_token||n.oauth_token,user:n.login||n.user,githubAppId:t}:await this.legacyAuthRecordMaybe(r)}async legacyAuthRecordMaybe(t){let r=await this.persistenceManager.read(are,t);if(r){let n=this.ctx.get(Ta).fallbackAppId();return{...r,githubAppId:n}}}async saveAuthRecord(t,r=this.getAuthAuthority()){await this.persistenceManager.update(fS,this.authRecordKey(this.ctx,r,t.githubAppId),t)}async deleteAuthRecord(){let t=this.getAuthAuthority(),r=await this.getAuthRecord();if(r){let n=this.ctx.get(Ta).fallbackAppId();r.githubAppId===n&&await this.persistenceManager.delete(are,t),await this.persistenceManager.delete(fS,this.authRecordKey(this.ctx,t)),await this.persistenceManager.delete(fS,this.authRecordKey(this.ctx,t,n))}}async purgeLegacyAuthRecords(){await this.persistenceManager.deleteSetting(are)}authRecordKey(t,r,n){let i=n??t.get(Ta).findAppIdToAuthenticate();return`${r}:${i}`}getAuthAuthority(){return this.#e??"github.com"}};d();d();var OQ={AuthNotifyShown:"auth.auth_notify_shown",AuthNotifyDismissed:"auth.auth_notify_dismissed",NewGitHubLogin:"auth.new_github_login",GitHubLoginSuccess:"auth.github_login_success"};function c4e(e,t){let r=dn.createAndMarkAsIssued({authSource:t});return jt(e,OQ.AuthNotifyShown,r)}s(c4e,"telemetryAuthNotifyShown");function u4e(e){return jt(e,OQ.AuthNotifyDismissed)}s(u4e,"telemetryAuthNotifyDismissed");function UQ(e,t,r){let n=dn.createAndMarkAsIssued({authSource:t,authType:r});return jt(e,OQ.NewGitHubLogin,n)}s(UQ,"telemetryNewGitHubLogin");function qQ(e,t){let r=dn.createAndMarkAsIssued({authType:t});return jt(e,OQ.GitHubLoginSuccess,r)}s(qQ,"telemetryGitHubLoginSuccess");async function Xft(e,t,{serverUrl:r}){UQ(e,"unknown","deviceFlow");let n={method:"POST",headers:{Accept:"application/json",...Hu(e)},json:{client_id:t},timeout:30*1e3},i,o=new URL("login/device/code",r).href;try{i=await e.get(fn).fetch(o,n)}catch(a){throw a instanceof Error&&O7(a)?new Vs(`Could not log in with device flow on ${r}: ${a.message}`):a}if(!i.ok)throw new Vs(`Could not log in with device flow on ${r}: HTTP ${i.status}`);return await i.json()}s(Xft,"requestDeviceFlowStage1");async function Zft(e,t,r,{serverUrl:n}){let i={method:"POST",headers:{Accept:"application/json",...Hu(e)},json:{client_id:r,device_code:t,grant_type:"urn:ietf:params:oauth:grant-type:device_code"},timeout:3e4};return await(await e.get(fn).fetch(new URL("login/oauth/access_token",n).href,i)).json()}s(Zft,"requestDeviceFlowStage2");async function edt(e,t){return qQ(e,"deviceFlow"),await(await ch(e,t,"user",{headers:{Accept:"application/json"}})).json()}s(edt,"requestUserInfo");var Sv=class{static{s(this,"GitHubDeviceFlow")}async getToken(t,r,n){try{return await this.getTokenUnguarded(t,r,n)}catch(i){throw t.get(iu).notifyUser(t,i),i}}async getTokenUnguarded(t,r,n){let i=await Xft(t,r,n),o=(async()=>{let a=i.expires_in,l;for(;a>0;){let c=await Zft(t,i.device_code,r,n);if(a-=i.interval,await new Promise(u=>setTimeout(u,1e3*i.interval)),l=c.access_token,l){let u=await edt(t,{...n,accessToken:l});if("errors"in u)throw new Vs(`Error retrieving user information: ${String(u.errors)}`);return{...n,githubAppId:r,login:u.login,accessToken:l}}}throw new Vs("Timed out waiting for login to complete")})();return{...i,waitForAuth:o}}};d();var pf=class{static{s(this,"CitationManager")}},WQ=class extends pf{static{s(this,"NoOpCitationManager")}async handleIPCodeCitation(t,r){}};d();d();d();var tdt={didChangeFeatureFlags:!1,fetch:!1,ipCodeCitation:!1,redirectedTelemetry:!1,related:!1,token:!1,watchedFiles:!1},Go=class{constructor(){this.capabilities={...tdt}}static{s(this,"CopilotCapabilitiesProvider")}setCapabilities(t){let r;for(r in t){let n=t[r];n!==void 0&&(this.capabilities[r]=n)}}getCapabilities(){return this.capabilities}};d();var mS=class extends Error{constructor(r){super(`No instance of ${r.name} has been registered`);this.ctor=r;this.name="UnregisteredContextError",this.code=r.name}static{s(this,"UnregisteredContextError")}},k8=class{constructor(){this.instances=new Map}static{s(this,"Context")}get(t){let r=this.tryGet(t);if(r)return r;throw new mS(t)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};d();d();d();var GQ=class e{static{s(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=m4e(n.range),o=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(a,this._content.length);let l=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,f=f4e(n.text,!1,o);if(c-l===f.length)for(let h=0,p=f.length;h<p;h++)u[h+l+1]=f[h];else f.length<1e4?u.splice(l+1,c-l,...f):this._lineOffsets=u=u.slice(0,l+1).concat(f,u.slice(c+1));let m=n.text.length-(a-o);if(m!==0)for(let h=l+1+f.length,p=u.length;h<p;h++)u[h]=u[h]+m}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=f4e(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let o=n-1;return t=this.ensureBeforeEOL(t,r[o]),{line:o,character:t-r[o]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let i=t.line+1<r.length?r[t.line+1]:this._content.length,o=Math.min(n+t.character,i);return this.ensureBeforeEOL(o,n)}ensureBeforeEOL(t,r){for(;t>r&&d4e(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},W5;(function(e){function t(i,o,a,l){return new GQ(i,o,a,l)}s(t,"create"),e.create=t;function r(i,o,a){if(i instanceof GQ)return i.update(o,a),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}s(r,"update"),e.update=r;function n(i,o){let a=i.getText(),l=lre(o.map(rdt),(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),c=0,u=[];for(let f of l){let m=i.offsetAt(f.range.start);if(m<c)throw new Error("Overlapping edit");m>c&&u.push(a.substring(c,m)),f.newText.length&&u.push(f.newText),c=i.offsetAt(f.range.end)}return u.push(a.substr(c)),u.join("")}s(n,"applyEdits"),e.applyEdits=n})(W5||(W5={}));function lre(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);lre(n,t),lre(i,t);let o=0,a=0,l=0;for(;o<n.length&&a<i.length;)t(n[o],i[a])<=0?e[l++]=n[o++]:e[l++]=i[a++];for(;o<n.length;)e[l++]=n[o++];for(;a<i.length;)e[l++]=i[a++];return e}s(lre,"mergeSort");function f4e(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);d4e(o)&&(o===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}s(f4e,"computeLineOffsets");function d4e(e){return e===13||e===10}s(d4e,"isEOL");function m4e(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}s(m4e,"getWellformedRange");function rdt(e){let t=m4e(e.range);return t!==e.range?{newText:e.newText,range:t}:e}s(rdt,"getWellformedEdit");d();var h4e;(function(e){function t(r){return typeof r=="string"}s(t,"is"),e.is=t})(h4e||(h4e={}));var cre;(function(e){function t(r){return typeof r=="string"}s(t,"is"),e.is=t})(cre||(cre={}));var p4e;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}s(t,"is"),e.is=t})(p4e||(p4e={}));var HQ;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}s(t,"is"),e.is=t})(HQ||(HQ={}));var qc;(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=HQ.MAX_VALUE),i===Number.MAX_VALUE&&(i=HQ.MAX_VALUE),{line:n,character:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.uinteger(i.line)&&Ke.uinteger(i.character)}s(r,"is"),e.is=r})(qc||(qc={}));var Zo;(function(e){function t(n,i,o,a){if(Ke.uinteger(n)&&Ke.uinteger(i)&&Ke.uinteger(o)&&Ke.uinteger(a))return{start:qc.create(n,i),end:qc.create(o,a)};if(qc.is(n)&&qc.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${a}]`)}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&qc.is(i.start)&&qc.is(i.end)}s(r,"is"),e.is=r})(Zo||(Zo={}));var jQ;(function(e){function t(n,i){return{uri:n,range:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Zo.is(i.range)&&(Ke.string(i.uri)||Ke.undefined(i.uri))}s(r,"is"),e.is=r})(jQ||(jQ={}));var g4e;(function(e){function t(n,i,o,a){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Zo.is(i.targetRange)&&Ke.string(i.targetUri)&&Zo.is(i.targetSelectionRange)&&(Zo.is(i.originSelectionRange)||Ke.undefined(i.originSelectionRange))}s(r,"is"),e.is=r})(g4e||(g4e={}));var ure;(function(e){function t(n,i,o,a){return{red:n,green:i,blue:o,alpha:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.numberRange(i.red,0,1)&&Ke.numberRange(i.green,0,1)&&Ke.numberRange(i.blue,0,1)&&Ke.numberRange(i.alpha,0,1)}s(r,"is"),e.is=r})(ure||(ure={}));var A4e;(function(e){function t(n,i){return{range:n,color:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Zo.is(i.range)&&ure.is(i.color)}s(r,"is"),e.is=r})(A4e||(A4e={}));var y4e;(function(e){function t(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.string(i.label)&&(Ke.undefined(i.textEdit)||D8.is(i))&&(Ke.undefined(i.additionalTextEdits)||Ke.typedArray(i.additionalTextEdits,D8.is))}s(r,"is"),e.is=r})(y4e||(y4e={}));var C4e;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(C4e||(C4e={}));var x4e;(function(e){function t(n,i,o,a,l,c){let u={startLine:n,endLine:i};return Ke.defined(o)&&(u.startCharacter=o),Ke.defined(a)&&(u.endCharacter=a),Ke.defined(l)&&(u.kind=l),Ke.defined(c)&&(u.collapsedText=c),u}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.uinteger(i.startLine)&&Ke.uinteger(i.startLine)&&(Ke.undefined(i.startCharacter)||Ke.uinteger(i.startCharacter))&&(Ke.undefined(i.endCharacter)||Ke.uinteger(i.endCharacter))&&(Ke.undefined(i.kind)||Ke.string(i.kind))}s(r,"is"),e.is=r})(x4e||(x4e={}));var fre;(function(e){function t(n,i){return{location:n,message:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&jQ.is(i.location)&&Ke.string(i.message)}s(r,"is"),e.is=r})(fre||(fre={}));var v4e;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(v4e||(v4e={}));var b4e;(function(e){e.Unnecessary=1,e.Deprecated=2})(b4e||(b4e={}));var E4e;(function(e){function t(r){let n=r;return Ke.objectLiteral(n)&&Ke.string(n.href)}s(t,"is"),e.is=t})(E4e||(E4e={}));var VQ;(function(e){function t(n,i,o,a,l,c){let u={range:n,message:i};return Ke.defined(o)&&(u.severity=o),Ke.defined(a)&&(u.code=a),Ke.defined(l)&&(u.source=l),Ke.defined(c)&&(u.relatedInformation=c),u}s(t,"create"),e.create=t;function r(n){var i;let o=n;return Ke.defined(o)&&Zo.is(o.range)&&Ke.string(o.message)&&(Ke.number(o.severity)||Ke.undefined(o.severity))&&(Ke.integer(o.code)||Ke.string(o.code)||Ke.undefined(o.code))&&(Ke.undefined(o.codeDescription)||Ke.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(Ke.string(o.source)||Ke.undefined(o.source))&&(Ke.undefined(o.relatedInformation)||Ke.typedArray(o.relatedInformation,fre.is))}s(r,"is"),e.is=r})(VQ||(VQ={}));var B8;(function(e){function t(n,i,...o){let a={title:n,command:i};return Ke.defined(o)&&o.length>0&&(a.arguments=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.title)&&Ke.string(i.command)}s(r,"is"),e.is=r})(B8||(B8={}));var D8;(function(e){function t(o,a){return{range:o,newText:a}}s(t,"replace"),e.replace=t;function r(o,a){return{range:{start:o,end:o},newText:a}}s(r,"insert"),e.insert=r;function n(o){return{range:o,newText:""}}s(n,"del"),e.del=n;function i(o){let a=o;return Ke.objectLiteral(a)&&Ke.string(a.newText)&&Zo.is(a.range)}s(i,"is"),e.is=i})(D8||(D8={}));var dre;(function(e){function t(n,i,o){let a={label:n};return i!==void 0&&(a.needsConfirmation=i),o!==void 0&&(a.description=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Ke.string(i.label)&&(Ke.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(Ke.string(i.description)||i.description===void 0)}s(r,"is"),e.is=r})(dre||(dre={}));var P8;(function(e){function t(r){let n=r;return Ke.string(n)}s(t,"is"),e.is=t})(P8||(P8={}));var I4e;(function(e){function t(o,a,l){return{range:o,newText:a,annotationId:l}}s(t,"replace"),e.replace=t;function r(o,a,l){return{range:{start:o,end:o},newText:a,annotationId:l}}s(r,"insert"),e.insert=r;function n(o,a){return{range:o,newText:"",annotationId:a}}s(n,"del"),e.del=n;function i(o){let a=o;return D8.is(a)&&(dre.is(a.annotationId)||P8.is(a.annotationId))}s(i,"is"),e.is=i})(I4e||(I4e={}));var mre;(function(e){function t(n,i){return{textDocument:n,edits:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&yre.is(i.textDocument)&&Array.isArray(i.edits)}s(r,"is"),e.is=r})(mre||(mre={}));var hre;(function(e){function t(n,i,o){let a={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&Ke.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||Ke.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ke.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||P8.is(i.annotationId))}s(r,"is"),e.is=r})(hre||(hre={}));var pre;(function(e){function t(n,i,o,a){let l={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(l.options=o),a!==void 0&&(l.annotationId=a),l}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&Ke.string(i.oldUri)&&Ke.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||Ke.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||Ke.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||P8.is(i.annotationId))}s(r,"is"),e.is=r})(pre||(pre={}));var gre;(function(e){function t(n,i,o){let a={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&Ke.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||Ke.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||Ke.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||P8.is(i.annotationId))}s(r,"is"),e.is=r})(gre||(gre={}));var Are;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>Ke.string(i.kind)?hre.is(i)||pre.is(i)||gre.is(i):mre.is(i)))}s(t,"is"),e.is=t})(Are||(Are={}));var T4e;(function(e){function t(n){return{uri:n}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)}s(r,"is"),e.is=r})(T4e||(T4e={}));var w4e;(function(e){function t(n,i){return{uri:n,version:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)&&Ke.integer(i.version)}s(r,"is"),e.is=r})(w4e||(w4e={}));var yre;(function(e){function t(n,i){return{uri:n,version:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)&&(i.version===null||Ke.integer(i.version))}s(r,"is"),e.is=r})(yre||(yre={}));var _4e;(function(e){function t(n,i,o,a){return{uri:n,languageId:i,version:o,text:a}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.string(i.uri)&&Ke.string(i.languageId)&&Ke.integer(i.version)&&Ke.string(i.text)}s(r,"is"),e.is=r})(_4e||(_4e={}));var Cre;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}s(t,"is"),e.is=t})(Cre||(Cre={}));var hS;(function(e){function t(r){let n=r;return Ke.objectLiteral(r)&&Cre.is(n.kind)&&Ke.string(n.value)}s(t,"is"),e.is=t})(hS||(hS={}));var S4e;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(S4e||(S4e={}));var R4e;(function(e){e.PlainText=1,e.Snippet=2})(R4e||(R4e={}));var k4e;(function(e){e.Deprecated=1})(k4e||(k4e={}));var B4e;(function(e){function t(n,i,o){return{newText:n,insert:i,replace:o}}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Ke.string(i.newText)&&Zo.is(i.insert)&&Zo.is(i.replace)}s(r,"is"),e.is=r})(B4e||(B4e={}));var D4e;(function(e){e.asIs=1,e.adjustIndentation=2})(D4e||(D4e={}));var P4e;(function(e){function t(r){let n=r;return n&&(Ke.string(n.detail)||n.detail===void 0)&&(Ke.string(n.description)||n.description===void 0)}s(t,"is"),e.is=t})(P4e||(P4e={}));var N4e;(function(e){function t(r){return{label:r}}s(t,"create"),e.create=t})(N4e||(N4e={}));var L4e;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}s(t,"create"),e.create=t})(L4e||(L4e={}));var $Q;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return Ke.string(i)||Ke.objectLiteral(i)&&Ke.string(i.language)&&Ke.string(i.value)}s(r,"is"),e.is=r})($Q||($Q={}));var F4e;(function(e){function t(r){let n=r;return!!n&&Ke.objectLiteral(n)&&(hS.is(n.contents)||$Q.is(n.contents)||Ke.typedArray(n.contents,$Q.is))&&(r.range===void 0||Zo.is(r.range))}s(t,"is"),e.is=t})(F4e||(F4e={}));var M4e;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}s(t,"create"),e.create=t})(M4e||(M4e={}));var Q4e;(function(e){function t(r,n,...i){let o={label:r};return Ke.defined(n)&&(o.documentation=n),Ke.defined(i)?o.parameters=i:o.parameters=[],o}s(t,"create"),e.create=t})(Q4e||(Q4e={}));var O4e;(function(e){e.Text=1,e.Read=2,e.Write=3})(O4e||(O4e={}));var U4e;(function(e){function t(r,n){let i={range:r};return Ke.number(n)&&(i.kind=n),i}s(t,"create"),e.create=t})(U4e||(U4e={}));var q4e;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(q4e||(q4e={}));var W4e;(function(e){e.Deprecated=1})(W4e||(W4e={}));var G4e;(function(e){function t(r,n,i,o,a){let l={name:r,kind:n,location:{uri:o,range:i}};return a&&(l.containerName=a),l}s(t,"create"),e.create=t})(G4e||(G4e={}));var H4e;(function(e){function t(r,n,i,o){return o!==void 0?{name:r,kind:n,location:{uri:i,range:o}}:{name:r,kind:n,location:{uri:i}}}s(t,"create"),e.create=t})(H4e||(H4e={}));var j4e;(function(e){function t(n,i,o,a,l,c){let u={name:n,detail:i,kind:o,range:a,selectionRange:l};return c!==void 0&&(u.children=c),u}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Ke.string(i.name)&&Ke.number(i.kind)&&Zo.is(i.range)&&Zo.is(i.selectionRange)&&(i.detail===void 0||Ke.string(i.detail))&&(i.deprecated===void 0||Ke.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}s(r,"is"),e.is=r})(j4e||(j4e={}));var V4e;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(V4e||(V4e={}));var zQ;(function(e){e.Invoked=1,e.Automatic=2})(zQ||(zQ={}));var $4e;(function(e){function t(n,i,o){let a={diagnostics:n};return i!=null&&(a.only=i),o!=null&&(a.triggerKind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.typedArray(i.diagnostics,VQ.is)&&(i.only===void 0||Ke.typedArray(i.only,Ke.string))&&(i.triggerKind===void 0||i.triggerKind===zQ.Invoked||i.triggerKind===zQ.Automatic)}s(r,"is"),e.is=r})($4e||($4e={}));var z4e;(function(e){function t(n,i,o){let a={title:n},l=!0;return typeof i=="string"?(l=!1,a.kind=i):B8.is(i)?a.command=i:a.edit=i,l&&o!==void 0&&(a.kind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return i&&Ke.string(i.title)&&(i.diagnostics===void 0||Ke.typedArray(i.diagnostics,VQ.is))&&(i.kind===void 0||Ke.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||B8.is(i.command))&&(i.isPreferred===void 0||Ke.boolean(i.isPreferred))&&(i.edit===void 0||Are.is(i.edit))}s(r,"is"),e.is=r})(z4e||(z4e={}));var Y4e;(function(e){function t(n,i){let o={range:n};return Ke.defined(i)&&(o.data=i),o}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Zo.is(i.range)&&(Ke.undefined(i.command)||B8.is(i.command))}s(r,"is"),e.is=r})(Y4e||(Y4e={}));var K4e;(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Ke.uinteger(i.tabSize)&&Ke.boolean(i.insertSpaces)}s(r,"is"),e.is=r})(K4e||(K4e={}));var J4e;(function(e){function t(n,i,o){return{range:n,target:i,data:o}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Zo.is(i.range)&&(Ke.undefined(i.target)||Ke.string(i.target))}s(r,"is"),e.is=r})(J4e||(J4e={}));var X4e;(function(e){function t(n,i){return{range:n,parent:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&Zo.is(i.range)&&(i.parent===void 0||e.is(i.parent))}s(r,"is"),e.is=r})(X4e||(X4e={}));var Z4e;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(Z4e||(Z4e={}));var eIe;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(eIe||(eIe={}));var tIe;(function(e){function t(r){let n=r;return Ke.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}s(t,"is"),e.is=t})(tIe||(tIe={}));var rIe;(function(e){function t(n,i){return{range:n,text:i}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Zo.is(i.range)&&Ke.string(i.text)}s(r,"is"),e.is=r})(rIe||(rIe={}));var nIe;(function(e){function t(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Zo.is(i.range)&&Ke.boolean(i.caseSensitiveLookup)&&(Ke.string(i.variableName)||i.variableName===void 0)}s(r,"is"),e.is=r})(nIe||(nIe={}));var iIe;(function(e){function t(n,i){return{range:n,expression:i}}s(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Zo.is(i.range)&&(Ke.string(i.expression)||i.expression===void 0)}s(r,"is"),e.is=r})(iIe||(iIe={}));var oIe;(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.defined(i)&&Zo.is(n.stoppedLocation)}s(r,"is"),e.is=r})(oIe||(oIe={}));var xre;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}s(t,"is"),e.is=t})(xre||(xre={}));var vre;(function(e){function t(n){return{value:n}}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&(i.tooltip===void 0||Ke.string(i.tooltip)||hS.is(i.tooltip))&&(i.location===void 0||jQ.is(i.location))&&(i.command===void 0||B8.is(i.command))}s(r,"is"),e.is=r})(vre||(vre={}));var sIe;(function(e){function t(n,i,o){let a={position:n,label:i};return o!==void 0&&(a.kind=o),a}s(t,"create"),e.create=t;function r(n){let i=n;return Ke.objectLiteral(i)&&qc.is(i.position)&&(Ke.string(i.label)||Ke.typedArray(i.label,vre.is))&&(i.kind===void 0||xre.is(i.kind))&&i.textEdits===void 0||Ke.typedArray(i.textEdits,D8.is)&&(i.tooltip===void 0||Ke.string(i.tooltip)||hS.is(i.tooltip))&&(i.paddingLeft===void 0||Ke.boolean(i.paddingLeft))&&(i.paddingRight===void 0||Ke.boolean(i.paddingRight))}s(r,"is"),e.is=r})(sIe||(sIe={}));var aIe;(function(e){function t(r){return{kind:"snippet",value:r}}s(t,"createSnippet"),e.createSnippet=t})(aIe||(aIe={}));var lIe;(function(e){function t(r,n,i,o){return{insertText:r,filterText:n,range:i,command:o}}s(t,"create"),e.create=t})(lIe||(lIe={}));var cIe;(function(e){function t(r){return{items:r}}s(t,"create"),e.create=t})(cIe||(cIe={}));var uIe;(function(e){e.Invoked=0,e.Automatic=1})(uIe||(uIe={}));var fIe;(function(e){function t(r,n){return{range:r,text:n}}s(t,"create"),e.create=t})(fIe||(fIe={}));var dIe;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}s(t,"create"),e.create=t})(dIe||(dIe={}));var mIe;(function(e){function t(r){let n=r;return Ke.objectLiteral(n)&&cre.is(n.uri)&&Ke.string(n.name)}s(t,"is"),e.is=t})(mIe||(mIe={}));var hIe;(function(e){function t(o,a,l,c){return new bre(o,a,l,c)}s(t,"create"),e.create=t;function r(o){let a=o;return!!(Ke.defined(a)&&Ke.string(a.uri)&&(Ke.undefined(a.languageId)||Ke.string(a.languageId))&&Ke.uinteger(a.lineCount)&&Ke.func(a.getText)&&Ke.func(a.positionAt)&&Ke.func(a.offsetAt))}s(r,"is"),e.is=r;function n(o,a){let l=o.getText(),c=i(a,(f,m)=>{let h=f.range.start.line-m.range.start.line;return h===0?f.range.start.character-m.range.start.character:h}),u=l.length;for(let f=c.length-1;f>=0;f--){let m=c[f],h=o.offsetAt(m.range.start),p=o.offsetAt(m.range.end);if(p<=u)l=l.substring(0,h)+m.newText+l.substring(p,l.length);else throw new Error("Overlapping edit");u=h}return l}s(n,"applyEdits"),e.applyEdits=n;function i(o,a){if(o.length<=1)return o;let l=o.length/2|0,c=o.slice(0,l),u=o.slice(l);i(c,a),i(u,a);let f=0,m=0,h=0;for(;f<c.length&&m<u.length;)a(c[f],u[m])<=0?o[h++]=c[f++]:o[h++]=u[m++];for(;f<c.length;)o[h++]=c[f++];for(;m<u.length;)o[h++]=u[m++];return o}s(i,"mergeSort")})(hIe||(hIe={}));var bre=class{static{s(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let o=r.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return qc.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);r[a]>t?i=a:n=a+1}let o=n-1;return qc.create(o,t-r[o])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}},Ke;(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}s(r,"defined"),e.defined=r;function n(p){return typeof p>"u"}s(n,"undefined"),e.undefined=n;function i(p){return p===!0||p===!1}s(i,"boolean"),e.boolean=i;function o(p){return t.call(p)==="[object String]"}s(o,"string"),e.string=o;function a(p){return t.call(p)==="[object Number]"}s(a,"number"),e.number=a;function l(p,g,y){return t.call(p)==="[object Number]"&&g<=p&&p<=y}s(l,"numberRange"),e.numberRange=l;function c(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}s(c,"integer"),e.integer=c;function u(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}s(u,"uinteger"),e.uinteger=u;function f(p){return t.call(p)==="[object Function]"}s(f,"func"),e.func=f;function m(p){return p!==null&&typeof p=="object"}s(m,"objectLiteral"),e.objectLiteral=m;function h(p,g){return Array.isArray(p)&&p.every(g)}s(h,"typedArray"),e.typedArray=h})(Ke||(Ke={}));var No=class{static{s(this,"LocationFactory")}static{this.range=Zo.create.bind(Zo)}static{this.position=qc.create.bind(qc)}},CA=class e{constructor(t,r,n){this.uri=t;this._textDocument=r;this.detectedLanguageId=n}static{s(this,"CopilotTextDocument")}static withChanges(t,r,n){let i=W5.create(t.clientUri,t.clientLanguageId,n,t.getText());return W5.update(i,r,n),new e(t.uri,i,t.detectedLanguageId)}applyEdits(t){let r=W5.create(this.clientUri,this.clientLanguageId,this.version,this.getText());return W5.update(r,t.map(n=>({text:n.newText,range:n.range})),this.version),new e(this.uri,r,this.detectedLanguageId)}static create(t,r,n,i,o=g8({uri:t,languageId:r})){return new e(ac(t),W5.create(t,r,n,i),o)}get clientUri(){return this._textDocument.uri}get clientLanguageId(){return this._textDocument.languageId}get languageId(){return this._textDocument.languageId}get version(){return this._textDocument.version}get lineCount(){return this._textDocument.lineCount}getText(t){return this._textDocument.getText(t)}positionAt(t){return this._textDocument.positionAt(t)}offsetAt(t){return this._textDocument.offsetAt(t)}lineAt(t){let r=typeof t=="number"?t:t.line;if(r<0||r>=this.lineCount)throw new RangeError("Illegal value for lineNumber");let n=Zo.create(r,0,r+1,0),i=this.getText(n).replace(/\r\n$|\r$|\n$/g,""),o=Zo.create(qc.create(r,0),qc.create(r,i.length)),a=i.trim().length===0;return{text:i,range:o,isEmptyOrWhitespace:a}}};d();d();d();d();var pS={isBlocked:!1,reason:"VALID_FILE"},YQ={isBlocked:!1,reason:"NO_MATCHING_POLICY"},pIe={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"},Rv={all:"all",repo:"repo"},xA=new Gt("contentExclusion");d();d();var KQ=class{static{s(this,"PolicyEvaluator")}};d();d();d();var gIe=new Gt("repository"),kv=class e{constructor(){this.data={}}static{s(this,"GitConfigData")}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),i=`.${r}`.toLowerCase();return Object.keys(this.data).filter(o=>o.startsWith(n)&&o.endsWith(i)).map(o=>o.slice(n.length,-i.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,i])=>(i.forEach(o=>r.add(n,o)),r),new e)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}},xh=class{static{s(this,"GitConfigLoader")}},JQ=class extends xh{constructor(r){super();this.loaders=r}static{s(this,"GitFallbackConfigLoader")}async getConfig(r,n){for(let i of this.loaders){let o=await i.getConfig(r,n);if(o)return o}}};d();var AIe=require("os");var XQ=class{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}static{s(this,"GitRemoteUrl")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test(this.hostname??"")}isADO(){return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test(this.hostname??"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return E5.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=E5.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,AIe.platform)()!=="win32"||(t.groups?.host?.length??0)>1)){let r=t.groups?.host??"";return this._scheme="ssh",this.setAuthority(r),this.setPath(this.url.substring(r.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};var ZQ=class{static{s(this,"GitRemoteResolver")}async resolveRemote(t,r){let n=await t.get(xh).getConfig(t,r);if(!n)return;let i=this.getRemotes(n),o=i.filter(a=>a.url.isGitHub());if(o.length)return o.find(a=>a.name==="origin")?.url??o[0].url;if(i.length)return i.find(a=>a.name==="origin")?.url??i[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>({name:n,url:new XQ(this.applyInsteadOfRules(r,t.get(`remote.${n}.url`)??""))})).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};var ndt=100,Ere=class{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}static{s(this,"GitRepository")}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){return this.remote?.isGitHub()??!1}isADO(){return this.remote?.isADO()??!1}setNWO(){let t=this.remote?.path?.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t?.[0],this._name=t?.[1]?.replace(/\.git$/,"");let r=/^(?<tenant>[^.]+)\.ghe\.com$/.exec(this.remote?.hostname??"");r&&(this._tenant=r.groups?.tenant)}else if(this.isADO()&&t?.length===4){if(this.remote?.scheme==="ssh"){this._adoOrganization=t?.[1],this._owner=t?.[2],this._name=t?.[3];return}let r=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec(this.remote?.hostname??"");r?(this._adoOrganization=r.groups?.org,this._owner=t?.[1],this._name=t?.[3]):(this._adoOrganization=t?.[0],this._owner=t?.[1],this._name=t?.[3])}}},vA=class e{constructor(t){this.ctx=t;this.remoteResolver=new ZQ;this.cache=new un(ndt)}static{s(this,"RepositoryManager")}async getRepo({uri:t}){let r,n=[];do{if(this.cache.has(t.toString())){let o=this.cache.get(t);return this.updateCache(n,o),o}n.push(t.toString());let i=await this.tryGetRepoForFolder(t);if(i)return this.updateCache(n,i),i;r=t,t=rf(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new Ere(typeof t=="string"?{uri:t}:t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await e.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(vo),i=Do(r,".git");if((await n.stat(i)).type&1)return await this.getConfigLocationForGitfile(n,r,i);let a=Do(i,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let o=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!o)return;let a=Xx(r,o[1]),l=Do(a,"config");if(await this.tryStat(t,l)!==void 0)return l;let c=Do(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=Do(a,"commondir");a=Xx(a,(await t.readFileString(u)).trimEnd());let f=Do(a,"config");return await t.stat(f),f}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};d();var yIe=s((e,t)=>{if(w5.Check(e,t))return t;let r=`Typebox schema validation failed:
${[...w5.Errors(e,t)].map(n=>`${n.path} ${n.message}`).join(`
`)}`;throw new Error(r)},"assertShape");d();d();d();var tO=new WeakMap;function rO(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",i=0,o=Object.prototype.toString.call(e);if(o!=="[object RegExp]"&&o!=="[object Date]"&&tO.has(e))return tO.get(e);switch(tO.set(e,"~"+ ++t),o){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";i<r.length;n+=rO(r[i++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();i<r.length;n+=r[i]+rO(e[r[i++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();i<r.length;n+=r[i]+rO(e.get(r[i++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return tO.set(e,n),n}s(rO,"t");function nO(e){return rO(e,0)}s(nO,"r");var Ire=new WeakMap;function CIe(e,t,r=nO(t)){let n,i,o=Ire.get(e);o||(Ire.set(e,o=[[],i=[],n=[]]),queueMicrotask(function(){let u,f=0;function m(h){for(;u=n[f++];u.r(h));}s(m,"o"),Ire.delete(e),e(i).then(function(h){if(h.length!==n.length)return m(new Error("loader value length mismatch"));for(;u=h[f++],f<=h.length;u instanceof Error?n[f-1].r(u):n[f-1].s(u));},m)}));let a=o[0].indexOf(r);if(~a)return o[2][a].p;let l=o[0].push(r)-1,c=o[2][l]={};return o[1][l]=t,c.p=new Promise(function(u,f){c.s=u,c.r=f})}s(CIe,"n");var xIe=new WeakMap;function idt(e,t,r,n=nO(r)){if(t||(t=xIe.get(e)),t||xIe.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let i=CIe(e,r,n);return t.set(n,i),i.catch(()=>t.delete(n)),i}s(idt,"n");function vIe(e,t){return function(r,n){return idt(e,t,r,n)}}s(vIe,"o");d();var WIe=Ze(NIe(),1);d();var AS=s(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");d();d();var ddt={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},yS=s(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),mdt=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),LIe=s(e=>e.join(""),"rangesToString"),FIe=s((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],o=r+1,a=!1,l=!1,c=!1,u=!1,f=r,m="";e:for(;o<e.length;){let y=e.charAt(o);if((y==="!"||y==="^")&&o===r+1){u=!0,o++;continue}if(y==="]"&&a&&!c){f=o+1;break}if(a=!0,y==="\\"&&!c){c=!0,o++;continue}if(y==="["&&!c){for(let[x,[b,E,_]]of Object.entries(ddt))if(e.startsWith(x,o)){if(m)return["$.",!1,e.length-r,!0];o+=x.length,_?i.push(b):n.push(b),l=l||E;continue e}}if(c=!1,m){y>m?n.push(yS(m)+"-"+yS(y)):y===m&&n.push(yS(y)),m="",o++;continue}if(e.startsWith("-]",o+1)){n.push(yS(y+"-")),o+=2;continue}if(e.startsWith("-",o+1)){m=y,o+=2;continue}n.push(yS(y)),o++}if(f<o)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,e.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let y=n[0].length===2?n[0].slice(-1):n[0];return[mdt(y),!1,f-r,!1]}let h="["+(u?"^":"")+LIe(n)+"]",p="["+(u?"":"^")+LIe(i)+"]";return[n.length&&i.length?"("+h+"|"+p+")":n.length?h:p,l,f-r,!0]},"parseClass");d();var G5=s((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var hdt=new Set(["!","?","+","*","@"]),MIe=s(e=>hdt.has(e),"isExtglobType"),pdt="(?!(?:^|/)\\.\\.?(?:$|/))",iO="(?!\\.)",gdt=new Set(["[","."]),Adt=new Set(["..","."]),ydt=new Set("().*{}+?[]^$\\!"),Cdt=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),_re="[^/]",QIe=_re+"*?",OIe=_re+"+?",N8=class e{static{s(this,"AST")}type;#e;#t;#i=!1;#n=[];#r;#o;#s;#a=!1;#l;#c;#f=!1;constructor(t,r,n={}){this.type=t,t&&(this.#t=!0),this.#r=r,this.#e=this.#r?this.#r.#e:this,this.#l=this.#e===this?n:this.#e.#l,this.#s=this.#e===this?[]:this.#e.#s,t==="!"&&!this.#e.#a&&this.#s.push(this),this.#o=this.#r?this.#r.#n.length:0}get hasMagic(){if(this.#t!==void 0)return this.#t;for(let t of this.#n)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#t=!0;return this.#t}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#n.map(t=>String(t)).join("|")+")":this.#c=this.#n.map(t=>String(t)).join("")}#m(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let t;for(;t=this.#s.pop();){if(t.type!=="!")continue;let r=t,n=r.#r;for(;n;){for(let i=r.#o+1;!n.type&&i<n.#n.length;i++)for(let o of t.#n){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(n.#n[i])}r=n,n=r.#r}}return this}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof e&&r.#r===this))throw new Error("invalid part: "+r);this.#n.push(r)}}toJSON(){let t=this.type===null?this.#n.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#n.map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&this.#r?.type==="!")&&t.push({}),t}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(this.#o===0)return!0;let t=this.#r;for(let r=0;r<this.#o;r++){let n=t.#n[r];if(!(n instanceof e&&n.type==="!"))return!1}return!0}isEnd(){if(this.#e===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let t=this.#r?this.#r.#n.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new e(this.type,t);for(let n of this.#n)r.copyIn(n);return r}static#u(t,r,n,i){let o=!1,a=!1,l=-1,c=!1;if(r.type===null){let p=n,g="";for(;p<t.length;){let y=t.charAt(p++);if(o||y==="\\"){o=!o,g+=y;continue}if(a){p===l+1?(y==="^"||y==="!")&&(c=!0):y==="]"&&!(p===l+2&&c)&&(a=!1),g+=y;continue}else if(y==="["){a=!0,l=p,c=!1,g+=y;continue}if(!i.noext&&MIe(y)&&t.charAt(p)==="("){r.push(g),g="";let x=new e(y,r);p=e.#u(t,x,p,i),r.push(x);continue}g+=y}return r.push(g),p}let u=n+1,f=new e(null,r),m=[],h="";for(;u<t.length;){let p=t.charAt(u++);if(o||p==="\\"){o=!o,h+=p;continue}if(a){u===l+1?(p==="^"||p==="!")&&(c=!0):p==="]"&&!(u===l+2&&c)&&(a=!1),h+=p;continue}else if(p==="["){a=!0,l=u,c=!1,h+=p;continue}if(MIe(p)&&t.charAt(u)==="("){f.push(h),h="";let g=new e(p,f);f.push(g),u=e.#u(t,g,u,i);continue}if(p==="|"){f.push(h),h="",m.push(f),f=new e(null,r);continue}if(p===")")return h===""&&r.#n.length===0&&(r.#f=!0),f.push(h),h="",r.push(...m,f),u;h+=p}return r.type=null,r.#t=void 0,r.#n=[t.substring(n-1)],u}static fromGlob(t,r={}){let n=new e(null,void 0,r);return e.#u(t,n,0,r),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();let t=this.toString(),[r,n,i,o]=this.toRegExpSource();if(!(i||this.#t||this.#l.nocase&&!this.#l.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let l=(this.#l.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${r}$`,l),{_src:r,_glob:t})}get options(){return this.#l}toRegExpSource(t){let r=t??!!this.#l.dot;if(this.#e===this&&this.#m(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#n.map(p=>{let[g,y,x,b]=typeof p=="string"?e.#h(p,this.#t,c):p.toRegExpSource(t);return this.#t=this.#t||x,this.#i=this.#i||b,g}).join(""),f="";if(this.isStart()&&typeof this.#n[0]=="string"&&!(this.#n.length===1&&Adt.has(this.#n[0]))){let g=gdt,y=r&&g.has(u.charAt(0))||u.startsWith("\\.")&&g.has(u.charAt(2))||u.startsWith("\\.\\.")&&g.has(u.charAt(4)),x=!r&&!t&&g.has(u.charAt(0));f=y?pdt:x?iO:""}let m="";return this.isEnd()&&this.#e.#a&&this.#r?.type==="!"&&(m="(?:$|\\/)"),[f+u+m,G5(u),this.#t=!!this.#t,this.#i]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",o=this.#d(r);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){let c=this.toString();return this.#n=[c],this.type=null,this.#t=void 0,[c,G5(this.toString()),!1,!1]}let a=!n||t||r||!iO?"":this.#d(!0);a===o&&(a=""),a&&(o=`(?:${o})(?:${a})*?`);let l="";if(this.type==="!"&&this.#f)l=(this.isStart()&&!r?iO:"")+OIe;else{let c=this.type==="!"?"))"+(this.isStart()&&!r&&!t?iO:"")+QIe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;l=i+o+c}return[l,G5(o),this.#t=!!this.#t,this.#i]}#d(t){return this.#n.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,o,a]=r.toRegExpSource(t);return this.#i=this.#i||a,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#h(t,r,n=!1){let i=!1,o="",a=!1;for(let l=0;l<t.length;l++){let c=t.charAt(l);if(i){i=!1,o+=(ydt.has(c)?"\\":"")+c;continue}if(c==="\\"){l===t.length-1?o+="\\\\":i=!0;continue}if(c==="["){let[u,f,m,h]=FIe(t,l);if(m){o+=u,a=a||f,l+=m-1,r=r||h;continue}}if(c==="*"){n&&t==="*"?o+=OIe:o+=QIe,r=!0;continue}if(c==="?"){o+=_re,r=!0;continue}o+=Cdt(c)}return[o,G5(t),!!r,a]}};d();var Sre=s((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var _a=s((e,t,r={})=>(AS(t),!r.nocomment&&t.charAt(0)==="#"?!1:new L8(t,r).match(e)),"minimatch"),xdt=/^\*+([^+@!?\*\[\(]*)$/,vdt=s(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),bdt=s(e=>t=>t.endsWith(e),"starDotExtTestDot"),Edt=s(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),Idt=s(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),Tdt=/^\*+\.\*+$/,wdt=s(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),_dt=s(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),Sdt=/^\.\*+$/,Rdt=s(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),kdt=/^\*+$/,Bdt=s(e=>e.length!==0&&!e.startsWith("."),"starTest"),Ddt=s(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),Pdt=/^\?+([^+@!?\*\[\(]*)?$/,Ndt=s(([e,t=""])=>{let r=GIe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),Ldt=s(([e,t=""])=>{let r=HIe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),Fdt=s(([e,t=""])=>{let r=HIe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),Mdt=s(([e,t=""])=>{let r=GIe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),GIe=s(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),HIe=s(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),jIe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",UIe={win32:{sep:"\\"},posix:{sep:"/"}},Qdt=jIe==="win32"?UIe.win32.sep:UIe.posix.sep;_a.sep=Qdt;var Hd=Symbol("globstar **");_a.GLOBSTAR=Hd;var Odt="[^/]",Udt=Odt+"*?",qdt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Wdt="(?:(?!(?:\\/|^)\\.).)*?",Gdt=s((e,t={})=>r=>_a(r,e,t),"filter");_a.filter=Gdt;var Gd=s((e,t={})=>Object.assign({},e,t),"ext"),Hdt=s(e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return _a;let t=_a;return Object.assign(s((n,i,o={})=>t(n,i,Gd(e,o)),"m"),{Minimatch:class extends t.Minimatch{static{s(this,"Minimatch")}constructor(i,o={}){super(i,Gd(e,o))}static defaults(i){return t.defaults(Gd(e,i)).Minimatch}},AST:class extends t.AST{static{s(this,"AST")}constructor(i,o,a={}){super(i,o,Gd(e,a))}static fromGlob(i,o={}){return t.AST.fromGlob(i,Gd(e,o))}},unescape:s((n,i={})=>t.unescape(n,Gd(e,i)),"unescape"),escape:s((n,i={})=>t.escape(n,Gd(e,i)),"escape"),filter:s((n,i={})=>t.filter(n,Gd(e,i)),"filter"),defaults:s(n=>t.defaults(Gd(e,n)),"defaults"),makeRe:s((n,i={})=>t.makeRe(n,Gd(e,i)),"makeRe"),braceExpand:s((n,i={})=>t.braceExpand(n,Gd(e,i)),"braceExpand"),match:s((n,i,o={})=>t.match(n,i,Gd(e,o)),"match"),sep:t.sep,GLOBSTAR:Hd})},"defaults");_a.defaults=Hdt;var VIe=s((e,t={})=>(AS(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,WIe.default)(e)),"braceExpand");_a.braceExpand=VIe;var jdt=s((e,t={})=>new L8(e,t).makeRe(),"makeRe");_a.makeRe=jdt;var Vdt=s((e,t,r={})=>{let n=new L8(t,r);return e=e.filter(i=>n.match(i)),n.options.nonull&&!e.length&&e.push(t),e},"match");_a.match=Vdt;var qIe=/[?*]|[+@!]\(.*?\)|\[|\]/,$dt=s(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),L8=class{static{s(this,"Minimatch")}options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,r={}){AS(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||jIe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((o,a,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=o[0]===""&&o[1]===""&&(o[2]==="?"||!qIe.test(o[2]))&&!qIe.test(o[3]),u=/^[a-z]:/i.test(o[0]);if(c)return[...o.slice(0,4),...o.slice(4).map(f=>this.parse(f))];if(u)return[o[0],...o.slice(1).map(f=>this.parse(f))]}return o.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){let a=this.set[o];a[0]===""&&a[1]===""&&this.globParts[o][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]==="**"&&(t[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,i)=>{let o=n[n.length-1];return i==="**"&&o==="**"?n:i===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){let o=t[i];i===1&&o===""&&t[0]===""||(o==="."||o==="")&&(r=!0,t.splice(i,1),i--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let i=t[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let a=i;for(;n[a+1]==="**";)a++;a>i&&n.splice(i+1,a-i);let l=n[i+1],c=n[i+2],u=n[i+3];if(l!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(i,1);let f=n.slice(0);f[i]="**",t.push(f),i--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let l=n[a];a===1&&l===""&&n[0]===""||(l==="."||l==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let o=0;for(;(o=n.indexOf("..",o+1))!==-1;){let a=n[o-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=o===1&&n[o+1]==="**"?["."]:[];n.splice(o-1,2,...c),n.length===0&&n.push(""),o-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let i=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);if(i){t[r]=[],t[n]=i;break}}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let i=0,o=0,a=[],l="";for(;i<t.length&&o<r.length;)if(t[i]===r[o])a.push(l==="b"?r[o]:t[i]),i++,o++;else if(n&&t[i]==="**"&&r[o]===t[i+1])a.push(t[i]),i++;else if(n&&r[o]==="**"&&t[i]===r[o+1])a.push(r[o]),o++;else if(t[i]==="*"&&r[o]&&(this.options.dot||!r[o].startsWith("."))&&r[o]!=="**"){if(l==="b")return!1;l="a",a.push(t[i]),i++,o++}else if(r[o]==="*"&&t[i]&&(this.options.dot||!t[i].startsWith("."))&&t[i]!=="**"){if(l==="a")return!1;l="b",a.push(r[o]),i++,o++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let i=this.options;if(this.isWindows){let y=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),x=!y&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),b=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),E=!b&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),_=x?3:y?0:void 0,k=E?3:b?0:void 0;if(typeof _=="number"&&typeof k=="number"){let[B,N]=[t[_],r[k]];B.toLowerCase()===N.toLowerCase()&&(r[k]=B,k>_?r=r.slice(k):_>k&&(t=t.slice(_)))}}let{optimizationLevel:o=1}=this.options;o>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,l=0,c=t.length,u=r.length;a<c&&l<u;a++,l++){this.debug("matchOne loop");var f=r[l],m=t[a];if(this.debug(r,f,m),f===!1)return!1;if(f===Hd){this.debug("GLOBSTAR",[r,f,m]);var h=a,p=l+1;if(p===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!i.dot&&t[a].charAt(0)===".")return!1;return!0}for(;h<c;){var g=t[h];if(this.debug(`
globstar while`,t,h,r,p,g),this.matchOne(t.slice(h),r.slice(p),n))return this.debug("globstar found match!",h,c,g),!0;if(g==="."||g===".."||!i.dot&&g.charAt(0)==="."){this.debug("dot detected!",t,h,r,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,h,r,p),h===c))}let y;if(typeof f=="string"?(y=m===f,this.debug("string match",f,m,y)):(y=f.test(m),this.debug("pattern match",f,m,y)),!y)return!1}if(a===c&&l===u)return!0;if(a===c)return n;if(l===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return VIe(this.pattern,this.options)}parse(t){AS(t);let r=this.options;if(t==="**")return Hd;if(t==="")return"";let n,i=null;(n=t.match(kdt))?i=r.dot?Ddt:Bdt:(n=t.match(xdt))?i=(r.nocase?r.dot?Idt:Edt:r.dot?bdt:vdt)(n[1]):(n=t.match(Pdt))?i=(r.nocase?r.dot?Ldt:Ndt:r.dot?Fdt:Mdt)(n):(n=t.match(Tdt))?i=r.dot?_dt:wdt:(n=t.match(Sdt))&&(i=Rdt);let o=N8.fromGlob(t,this.options).toMMPattern();return i&&typeof o=="object"&&Reflect.defineProperty(o,"test",{value:i}),o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Udt:r.dot?qdt:Wdt,i=new Set(r.nocase?["i"]:[]),o=t.map(c=>{let u=c.map(f=>{if(f instanceof RegExp)for(let m of f.flags.split(""))i.add(m);return typeof f=="string"?$dt(f):f===Hd?Hd:f._src});return u.forEach((f,m)=>{let h=u[m+1],p=u[m-1];f!==Hd||p===Hd||(p===void 0?h!==void 0&&h!==Hd?u[m+1]="(?:\\/|"+n+"\\/)?"+h:u[m]=n:h===void 0?u[m-1]=p+"(?:\\/|"+n+")?":h!==Hd&&(u[m-1]=p+"(?:\\/|\\/"+n+"\\/)"+h,u[m+1]=Hd))}),u.filter(f=>f!==Hd).join("/")}).join("|"),[a,l]=t.length>1?["(?:",")"]:["",""];o="^"+a+o+l+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let i=this.slashSplit(t);this.debug(this.pattern,"split",i);let o=this.set;this.debug(this.pattern,"set",o);let a=i[i.length-1];if(!a)for(let l=i.length-2;!a&&l>=0;l--)a=i[l];for(let l=0;l<o.length;l++){let c=o[l],u=i;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return _a.defaults(t).Minimatch}};_a.AST=N8;_a.Minimatch=L8;_a.escape=Sre;_a.unescape=G5;var Rre="contentExclusion",oO=class extends KQ{static{s(this,"CopilotContentExclusion")}#e;#t=new un(1e4);#i=new un(200);constructor(t){super(),this.#e=t}async evaluate(t,r){try{t=Xx(t).toString();let n=await this.getGitRepo({uri:t}),i=await this.#n(n?.url??Rv.all);if(!i)return YQ;let o=n?.baseFolder?.uri??"file://",a=this.evaluateFilePathRules(t,o,i);if(a.isBlocked)return a;let l=this.evaluateTextBasedRules(t,i,r);if(l.isBlocked)return l}catch(n){return xA.exception(this.#e,n,`${Rre}.evaluate`),pIe}return pS}evaluateFilePathRules(t,r,n){let i=t;if(this.#t.has(i))return this.#t.get(i);let o=pS,a,l=VZ(t.replace(r,""));e:for(let c of n)for(let u of c.paths)if(_a(l,u,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){o=kre(c,"FILE_BLOCKED_PATH"),a=u;break e}return xA.debug(this.#e,`Evaluated path-based exclusion rules for <${t}>`,{result:o,baseUri:r,fileName:l,matchingPattern:a}),this.#t.set(i,o),o}evaluateTextBasedRules(t,r,n){let i=r.filter(l=>l.ifAnyMatch),o=r.filter(l=>l.ifNoneMatch);if(!n||i.length===0&&o.length===0)return pS;let a=this.evaluateFileContent(i,o,n);return xA.debug(this.#e,`Evaluated text-based exclusion rules for <${t}>`,{result:a}),a}evaluateFileContent(t,r,n){for(let i of t)if(i.ifAnyMatch&&i.ifAnyMatch.length>0&&i.ifAnyMatch.map(a=>$Ie(a)).some(a=>a.test(n)))return kre(i,"FILE_BLOCKED_TEXT_BASED");for(let i of r)if(i.ifNoneMatch&&i.ifNoneMatch.length>0&&!i.ifNoneMatch.map(a=>$Ie(a)).some(a=>a.test(n)))return kre(i,"FILE_BLOCKED_TEXT_BASED");return pS}async refresh(){try{let t=[...this.#i.keys()];this.reset(),await Promise.all(t.map(r=>this.#o(r)))}catch(t){Ia(this.#e,t,`${Rre}.refresh`)}}reset(){this.#i.clear(),this.#t.clear()}async#n(t){if(this.#r?.length)return this.#r;let r=await this.#o(t.toLowerCase());if(r.length!==0)return r}#r;setTestingRules(t){this.#r=t}#o=vIe(async t=>{let r=await this.#e.get(en).getGitHubSession();if(!r)throw new Vs("No token found");let n=r.devOverride?.contentRestrictionsUrl??"copilot_internal/content_exclusion",i=new URL(n,r.apiUrl),o=t.includes(Rv.all);t.filter(u=>u!==Rv.all).length>0&&i.searchParams.set("repos",t.filter(u=>u!==Rv.all).join(",")),i.searchParams.set("scope",o?Rv.all:Rv.repo);let l=await ch(this.#e,r,i.href),c=await l.json();if(!l.ok){if(l.status===404)return Array.from(t,()=>[]);throw this.#s("fetch.error",{message:c.message}),new Dx(l)}return this.#s("fetch.success"),yIe(Jdt,c).map(u=>u.rules)},this.#i);async getGitRepo(t){let n=await this.#e.get(vA).getRepo(rf(t));if(!n||!n?.remote)return;let i=n.remote.getUrlForApi();if(i)return{baseFolder:n.baseFolder,url:i}}#s(t,r,n){jt(this.#e,`${Rre}.${t}`,dn.createAndMarkAsIssued(r,n))}};function $Ie(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}s($Ie,"stringToRegex");function kre(e,t){return{isBlocked:!0,message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`,reason:t}}s(kre,"fileBlockedEvaluationResult");var zdt=I.Object({name:I.String(),type:I.String()}),Ydt=I.Object({paths:I.Array(I.String()),ifNoneMatch:I.Optional(I.Array(I.String())),ifAnyMatch:I.Optional(I.Array(I.String())),source:zdt}),Bre=I.Array(Ydt),Kdt=I.Object({rules:Bre,last_updated_at:I.String(),scope:I.String()}),Jdt=I.Array(Kdt);var Wc=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new oO(this.ctx);this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=s(async t=>{if(!this.#e)return;if(!t){this.updateStatusIcon(!1);return}let r=await this.ctx.get(Vr).getTextDocumentValidation(t.document),n=r.status==="invalid",i=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,i)},"onDidChangeActiveTextEditor");this.ctx.get(Vr).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),Ks(this.ctx,r=>{this.#e=r.envelope.copilotignore_enabled??!1,this.evaluateResultCache.clear(),this.#t.refresh()})}static{s(this,"CopilotContentExclusionManager")}#e;#t;get enabled(){return this.#e}async evaluate(t,r,n){let i=Xo(t)!==void 0;if(i||xA.debug(this.ctx,`Unsupported file URI <${t}>`),!this.#e||!i)return{isBlocked:!1};let o=[],a=s(async(u,f)=>{let m=Date.now(),h=await f.evaluate(t,r),p=Date.now();return o.push({key:u,result:h,elapsedMs:p-m}),h},"track"),c=(await Promise.all([a("contentExclusion.evaluate",this.#t)])).find(u=>u?.isBlocked)??{isBlocked:!1};try{for(let u of o)this.#i(u.key,t,u.result,u.elapsedMs)}catch(u){xA.error(this.ctx,"Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(t,r){this.#e&&(t?this.ctx.get(zi).setInactive(r??"Copilot is disabled"):this.ctx.get(zi).clearInactive())}#i(t,r,n,i){let o=r+t;if(this.evaluateResultCache.get(o)===n.reason)return!1;if(this.evaluateResultCache.set(o,n.reason??"UNKNOWN"),n.reason===YQ.reason)return xA.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let l={isBlocked:n.isBlocked?"true":"false",reason:n.reason??"UNKNOWN"},c={elapsedMs:i};return jt(this.ctx,t,dn.createAndMarkAsIssued(l,c)),jt(this.ctx,t,dn.createAndMarkAsIssued({...l,path:r},c),1),xA.debug(this.ctx,`[${t}] ${r}`,n),!0}setTestingRules(t){this.#t.setTestingRules(t)}set __contentExclusions(t){this.#t=t}get __contentExclusions(){return this.#t}};async function Bv(e,t,r){let n=await e.get(Wc).evaluate(t.uri,r);return n.isBlocked?{status:"invalid",reason:n.message??"Document is blocked by repository policy"}:{status:"valid"}}s(Bv,"isDocumentValid");var Vr=class{constructor(t){this.ctx=t}static{s(this,"TextDocumentManager")}async textDocuments(){let t=this.getTextDocumentsUnsafe(),r=[];for(let n of t)(await Bv(this.ctx,n,n.getText())).status==="valid"&&r.push(n);return r}getTextDocumentUnsafe(t){let r=ac(t.uri);return this.getTextDocumentsUnsafe().find(n=>n.uri===r)}async getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}validateTextDocument(t,r){return Bv(this.ctx,t,r)}async getTextDocumentValidation(t){try{let r=this.getTextDocumentUnsafe(t)?.getText()??await this.readTextDocumentFromDisk(t.uri);return r===void 0?this.notFoundResult(t):this.validateTextDocument(t,r)}catch{return this.notFoundResult(t)}}async getTextDocumentWithValidation(t){let r=this.getTextDocumentUnsafe(t);if(!r)return this.notFoundResult(t);let n=await this.validateTextDocument(t,r.getText());return n.status==="valid"?{status:"valid",document:r}:n}notFoundResult({uri:t}){return{status:"notfound",message:`Document for URI could not be found: ${t}`}}async readTextDocumentFromDisk(t){try{if((await this.ctx.get(vo).stat(t)).size>5*1024*1024)return}catch{return}return await this.ctx.get(vo).readFileString(t)}getWorkspaceFolder(t){let r=ac(t.uri);return this.getWorkspaceFolders().find(n=>r.startsWith(ac(n.uri)))}getRelativePath(t){if(t.uri.startsWith("untitled:"))return;let r=ac(t.uri);for(let n of this.getWorkspaceFolders()){let i=ac(n.uri).replace(/[#?].*/,"").replace(/\/?$/,"/");if(r.startsWith(i))return r.slice(i.length)}return Di(r)}};function As(e){switch(e.status){case"valid":return e.document.getText().trim().length===0?"empty":"included";case"invalid":return"blocked";case"notfound":return"notfound"}}s(As,"statusFromTextDocumentResult");var On=class{constructor(t){this.ctx=t}static{s(this,"FileReader")}getRelativePath(t){return this.ctx.get(Vr).getRelativePath(t)??Di(t.uri)}getOrReadTextDocument(t){return this.readFile(t.uri)}getOrReadTextDocumentWithFakeClientProperties(t){return this.readFile(t.uri)}async readFile(t){let n=await this.ctx.get(Vr).getTextDocumentWithValidation({uri:t});if(n.status!=="notfound")return n;try{if(await this.getFileSizeMB(t)>1)return{status:"notfound",message:"File too large"};let o=await this.doReadFile(t),a=await Bv(this.ctx,{uri:t},o);return a.status==="valid"?{status:"valid",document:CA.create(t,"UNKNOWN",-1,o)}:a}catch{return{status:"notfound",message:"File not found"}}}async doReadFile(t){return await this.ctx.get(vo).readFileString(t)}async getFileSizeMB(t){return(await this.ctx.get(vo).stat(t)).size/1024/1024}};d();d();var M8=class{constructor(){this.resolve=s(()=>{},"resolve");this.reject=s(()=>{},"reject");this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}static{s(this,"Deferred")}};function Dv(e,t=void 0){return new Promise(r=>setTimeout(()=>r(t),e))}s(Dv,"delay");d();var Dre=class{constructor(){this.observers=new Set}static{s(this,"Subject")}subscribe(t){return this.observers.add(t),()=>this.observers.delete(t)}next(t){for(let r of this.observers)r.next(t)}error(t){for(let r of this.observers)r.error?.(t)}complete(){for(let t of this.observers)t.complete?.()}},sO=class extends Dre{static{s(this,"ReplaySubject")}subscribe(t){let r=super.subscribe(t);return this._value!==void 0&&t.next(this._value),r}next(t){this._value=t,super.next(t)}};var vh=class{constructor(t){this.ctx=t;this.#e=!1;this.#t=new Gt("AsyncCompletionManager");this.requests=new un(100);this.mostRecentRequestId="";Ks(t,r=>{this.#e=r.hasKnownOrg})}static{s(this,"AsyncCompletionManager")}#e;#t;clear(){this.requests.clear()}isEnabled(t){let r=Mn(this.ctx,bt.UseAsyncCompletions);return this.#e&&typeof r=="boolean"?r:this.ctx.get(sr).enableAsyncCompletions(t)}shouldWaitForAsyncCompletions(t,r){for(let[n,i]of this.requests)if(Pre(t,r,i))return!0;return!1}updateCompletion(t,r){let n=this.requests.get(t);n!==void 0&&(n.partialCompletionText=r,n.subject.next(n))}queueCompletionRequest(t,r,n,i,o){this.#t.debug(this.ctx,`[${t}] Queueing async completion request:`,r.substring(r.lastIndexOf(`
`)+1));let a=new sO;return this.requests.set(t,{state:2,cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a}),o.then(l=>{if(this.requests.delete(t),l.type!=="success"){this.#t.debug(this.ctx,`[${t}] Request failed with`,l.reason),a.error(l.reason);return}let c={cancellationTokenSource:i,headerRequestId:t,prefix:r,prompt:n,subject:a,choice:l.value[0],result:l,state:0,allChoicesPromise:l.value[1]};this.requests.set(t,c),a.next(c),a.complete()}).catch(l=>{this.#t.error(this.ctx,`[${t}] Request errored with`,l),this.requests.delete(t),a.error(l)})}getFirstMatchingRequestWithTimeout(t,r,n,i,o){let a=this.ctx.get(sr).asyncCompletionsTimeout(o);return a<0?(this.#t.debug(this.ctx,`[${t}] Waiting for completions without timeout`),this.getFirstMatchingRequest(t,r,n,i)):(this.#t.debug(this.ctx,`[${t}] Waiting for completions with timeout of ${a}ms`),Promise.race([this.getFirstMatchingRequest(t,r,n,i),new Promise(l=>setTimeout(()=>l(null),a))]).then(l=>{if(l===null){this.#t.debug(this.ctx,`[${t}] Timed out waiting for completion`);return}return l}))}async getFirstMatchingRequest(t,r,n,i){i||(this.mostRecentRequestId=t);let o=!1,a=new M8,l=new Map,c=s(f=>()=>{let m=l.get(f);m!==void 0&&(m(),l.delete(f),!o&&l.size===0&&(o=!0,this.#t.debug(this.ctx,`[${t}] No matching completions found`),a.resolve(void 0)))},"finishRequest"),u=s(f=>{if(Pre(r,n,f)){if(f.state===0){let m=r.substring(f.prefix.length),{completionText:h}=f.choice;if(!h.startsWith(m)||h.length<=m.length){c(f.headerRequestId)();return}h=h.substring(m.length),f.choice.telemetryData.measurements.foundOffset=m.length,this.#t.debug(this.ctx,`[${t}] Found completion at offset ${m.length}: ${JSON.stringify(h)}`),a.resolve([{...f.choice,completionText:h},f.allChoicesPromise]),o=!0}}else this.cancelRequest(t,f),c(f.headerRequestId)()},"next");for(let[f,m]of this.requests)Pre(r,n,m)?l.set(f,m.subject.subscribe({next:u,error:c(f),complete:c(f)})):this.cancelRequest(t,m);return a.promise.finally(()=>{for(let f of l.values())f()})}cancelRequest(t,r){t===this.mostRecentRequestId&&r.state!==0&&(this.#t.debug(this.ctx,`[${t}] Cancelling request: ${r.headerRequestId}`),r.cancellationTokenSource.cancel(),this.requests.delete(r.headerRequestId))}};function Pre(e,t,r){if(r.prompt.suffix!==t.suffix||!e.startsWith(r.prefix))return!1;let n=e.substring(r.prefix.length);return r.state===0?r.choice.completionText.startsWith(n)&&r.choice.completionText.trimEnd().length>n.length:r.partialCompletionText===void 0?!0:r.partialCompletionText.startsWith(n)}s(Pre,"isCandidate");d();d();var xS=class{constructor(t){this.maxSize=t;this.root=new CS;this.leafNodes=new Set}static{s(this,"LRURadixTrie")}set(t,r){let{node:n,remainingKey:i}=this.findClosestNode(t);if(i.length>0){for(let[o,a]of n.children)if(o.startsWith(i)){let l=o.slice(0,i.length),c=new CS;n.removeChild(o),n.addChild(l,c),c.addChild(o.slice(l.length),a),n=c,i=i.slice(l.length);break}if(i.length>0){let o=new CS;n.addChild(i,o),n=o}}n.value=r,this.leafNodes.add(n),this.leafNodes.size>this.maxSize&&this.evictLeastRecentlyUsed()}findAll(t){return this.findClosestNode(t).stack.map(({node:r,remainingKey:n})=>r.value!==void 0?{remainingKey:n,value:r.value}:void 0).filter(r=>r!==void 0)}delete(t){let{node:r,remainingKey:n}=this.findClosestNode(t);n.length>0||this.deleteNode(r)}findClosestNode(t){let r=!0,n=this.root,i=[{node:n,remainingKey:t}];for(;t.length>0&&r;){r=!1;for(let[o,a]of n.children)if(t.startsWith(o)){t=t.slice(o.length),i.unshift({node:a,remainingKey:t}),n=a,r=!0;break}}return{node:n,remainingKey:t,stack:i}}deleteNode(t){if(t.value=void 0,this.leafNodes.delete(t),t.parent===void 0||t.childCount>1)return;let{node:r,edge:n}=t.parent;if(t.childCount===1){let[o,a]=Array.from(t.children)[0];t.removeChild(o),r.removeChild(n),r.addChild(n+o,a);return}if(r.removeChild(n),r.parent===void 0)return;let i=r.parent;if(r.value===void 0&&r.childCount===1){let[o,a]=Array.from(r.children)[0],l=i.edge+o;r.removeChild(o),i.node.removeChild(i.edge),i.node.addChild(l,a)}}evictLeastRecentlyUsed(){let t=this.findLeastRecentlyUsed();t&&this.deleteNode(t)}findLeastRecentlyUsed(){let t;for(let r of this.leafNodes)(t===void 0||r.touched<t.touched)&&(t=r);return t}},CS=class{constructor(){this._children=new Map;this._touched=performance.now()}static{s(this,"LRURadixNode")}get children(){return this._children.entries()}get childCount(){return this._children.size}addChild(t,r){this._children.set(t,r),r.parent={node:this,edge:t}}removeChild(t){let r=this._children.get(t);r&&(r.parent=void 0),this._children.delete(t)}get value(){return this.touch(),this._value}set value(t){this.touch(),this._value=t}get touched(){return this._touched}touch(){this._touched=performance.now()}};var gf=class{static{s(this,"CompletionsCache")}constructor(){this._cache=new un(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}},bh=class{constructor(){this.cache=new xS(100)}static{s(this,"PrefixCompletionsCache")}findAll(t){return this.cache.findAll(t).flatMap(({remainingKey:r,value:n})=>n.choices.filter(i=>i.completionText.startsWith(r)&&i.completionText.length>r.length).map(i=>({...i,completionText:i.completionText.slice(r.length),telemetryData:i.telemetryData.extendedBy({},{foundOffset:r.length})})))}append(t,r){let n=this.cache.findAll(t);if(n.length>0&&n[0].remainingKey===""){let i=n[0].value.choices;this.cache.set(t,{choices:[...i,...r]})}else this.cache.set(t,{choices:r})}clear(){this.cache=new xS(100)}};d();d();var Nre={javascript:1,typescript:2,typescriptreact:3,python:4,vue:5,php:6,dart:7,javascriptreact:8,go:9,css:10,cpp:11,html:12,scss:13,markdown:14,csharp:15,java:16,json:17,rust:18,ruby:19,c:20},uu={" ":1,"!":2,'"':3,"#":4,$:5,"%":6,"&":7,"'":8,"(":9,")":10,"*":11,"+":12,",":13,"-":14,".":15,"/":16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,":":27,";":28,"<":29,"=":30,">":31,"?":32,"@":33,A:34,B:35,C:36,D:37,E:38,F:39,G:40,H:41,I:42,J:43,K:44,L:45,M:46,N:47,O:48,P:49,Q:50,R:51,S:52,T:53,U:54,V:55,W:56,X:57,Y:58,Z:59,"[":60,"\\":61,"]":62,"^":63,_:64,"`":65,a:66,b:67,c:68,d:69,e:70,f:71,g:72,h:73,i:74,j:75,k:76,l:77,m:78,n:79,o:80,p:81,q:82,r:83,s:84,t:85,u:86,v:87,w:88,x:89,y:90,z:91,"{":92,"|":93,"}":94,"~":95};d();function zIe(e){let t;e[0]>1e-35?e[29]>1e-35?e[138]>1e-35?t=.49496579646815353:t=.47546580490346646:e[30]>1e-35?t=.4456371992737078:e[4]>3.238486181444842?e[135]>1e-35?t=.2645576817782658:e[46]>1e-35?t=.20251922126765812:t=.37359143313367105:e[7]>.9662372103242399?t=.44975631109230374:t=.4067133376207218:e[7]>.960816451500545?e[29]>1e-35?e[4]>1.7005986908310777?t=.4240336839258693:t=.35414085998710754:e[4]>3.238486181444842?t=.353882328354817:e[100]>1e-35?t=.48783079865293355:e[30]>1e-35?t=.419904106522537:t=.38599249795612806:e[4]>3.6242520361853052?e[29]>1e-35?e[7]>.5086748127709895?t=.37522628419389664:t=.3359393805000766:e[30]>1e-35?t=.3685210833144829:e[135]>1e-35?t=.22140958666091123:e[134]>1e-35?t=.38379851487275685:e[46]>1e-35?t=.1926283522107934:t=.3098162447812857:e[46]>1e-35?t=.22698331991181095:e[4]>1.4978661367769956?e[30]>1e-35?e[4]>2.138333059508028?t=.39709448374768985:t=.34711865383837703:e[134]>1e-35?t=.40608455346469957:e[135]>1e-35?t=.3084120164848763:e[48]>1e-35?t=.24193590696691425:e[51]>1e-35?t=.2087938690163009:e[4]>3.1984648276080736?t=.3529508564858481:t=.3698795818909763:t=.30210240039979064;let r;e[0]>1e-35?e[2]>2.4414009612931857?e[2]>3.676220550121792?e[7]>.9246495578512688?r=.0570428673081833:r=.019779482100154476:e[7]>.9705672697050661?r=.1023948532887641:r=.06265430080550045:e[29]>1e-35?e[5]>4.658699722134796?e[2]>1.2424533248940002?r=.12784241430585772:r=.15126156743993927:e[8]>1e-35?e[2]>.8958797346140276?r=.10624230855386699:r=-.1699142543394302:r=.10290106276456985:e[5]>3.5694334999727624?r=.09368877801612557:r=.1552615744687782:e[2]>3.3842466058243152?e[4]>3.5694334999727624?e[29]>1e-35?e[7]>.7022798213723723?r=.02282408308012389:r=-.032610792718175546:r=-.04405498437523181:e[46]>1e-35?r=-.14475563528583885:e[7]>.9159108669154322?r=.02539215399728953:e[134]>1e-35?r=.04720629593220485:e[4]>1.8688348091416842?r=-.00150052748656963:r=-.04528409340753242:e[5]>3.5694334999727624?e[4]>3.6505739029280164?e[29]>1e-35?r=.050909089229765704:e[39]>1e-35?r=-.08747827386821926:e[46]>1e-35?r=-.11300671054986217:r=-.002669293928522137:e[46]>1e-35?r=-.07873653229849684:e[39]>1e-35?r=-.06389470798465265:e[2]>.8958797346140276?e[47]>1e-35?r=-.07102696386827136:e[4]>1.8688348091416842?r=.04567768852273886:r=.016429189359442275:r=.024223384872688037:e[7]>.9569480028661056?r=.12458720561596202:r=-.006224718391409129;let n;e[29]>1e-35?e[2]>2.602003343538398?e[2]>4.166635176627655?e[7]>.8375851232899904?n=.027219239366992384:n=-.023288925509443156:e[7]>.5866799179067689?n=.05780689652787357:n=.019914206435185725:e[2]>1.2424533248940002?e[7]>.9246495578512688?n=.1091540005913688:n=.08430043254349175:e[6]>4.832297822126891?e[125]>1e-35?n=.029350728374412424:n=.1327178977041336:e[8]>1e-35?e[7]>.9793410316570949?n=-.10742256752042179:n=.10128035205992136:n=.08719230025231978:e[5]>3.772694874805912?e[39]>1e-35?n=-.07712063687837625:e[46]>1e-35?n=-.09987046122905541:e[2]>3.6242520361853052?e[134]>1e-35?n=.0549278412468898:e[155]>1e-35?n=.0628934857241284:e[47]>1e-35?n=-.14605662411148382:e[48]>1e-35?n=-.1460221669882455:n=.002073957868392086:e[2]>1e-35?e[47]>1e-35?n=-.0769198367034467:e[155]>1e-35?n=.0769122902449957:e[134]>1e-35?n=.06856131328753592:e[152]>1e-35?n=.07081107422282688:e[51]>1e-35?n=-.11095669360187602:e[91]>1e-35?n=-.08136006552659215:e[48]>1e-35?n=-.07180356044417698:e[18]>1e-35?n=-.029572927306223313:e[50]>1e-35?n=-.11419309779400831:n=.03331652781327257:n=.0015747823792064454:e[7]>.9662372103242399?n=.1203598683210537:n=.011240838199712565;let i;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.03420147928485?i=.03823654007072966:e[7]>.9033253454895247?i=.09329944316059466:i=.06705865009439997:e[134]>1e-35?i=.06865805795066232:e[30]>1e-35?i=.05189058132179502:e[217]>1e-35?i=.044913757044379055:i=-.05078929160105722:e[1]>1e-35?e[6]>5.161920636569023?e[2]>1.4978661367769956?i=.10652732380394028:i=.13307829460294332:e[7]>.985694415330804?i=.06936133858882627:i=.11090193559908544:e[30]>1e-35?i=.10406540623634791:i=.03985408831881549:e[1]>1e-35?e[2]>3.772694874805912?e[29]>1e-35?e[7]>.7316379010844482?i=.012897973304512032:i=-.028068579877067623:i=.024577017676752924:e[5]>3.417592293073651?e[22]>1e-35?i=-.023871063947594612:e[7]>.8255520169851381?i=.0513970804870914:e[153]>1e-35?i=.0032035784177419503:i=.038713568639820416:e[7]>.9527510849235538?i=.10975706910869304:i=-.009433959232316078:e[38]>1e-35?i=.05195298239886214:e[30]>1e-35?i=.02476336300816124:e[2]>2.524928003624769?e[217]>1e-35?i=.0135414448190362:e[135]>1e-35?i=-.14660288310803915:i=-.07298980826531443:e[135]>1e-35?i=-.11136111748165503:e[123]>1e-35?i=-.1489448617480049:e[46]>1e-35?i=-.0922792773195811:i=-.024587716086845016;let o;e[0]>1e-35?e[2]>2.249904835165133?e[1]>1e-35?e[2]>3.540854293052788?e[3]>2.249904835165133?o=.0590142410559562:e[7]>.6376007852429183?o=.043799948513989724:o=-4018626768373957e-20:o=.0790082705503403:e[38]>1e-35?o=.06581244939148062:e[30]>1e-35?o=.04874874335011108:o=-.03908081910821116:e[3]>2.602003343538398?e[1]>1e-35?o=.0902076086329385:e[30]>1e-35?o=.10143876154366023:o=.021304615514737626:e[2]>1.4978661367769956?o=.10248710197602005:e[8]>1e-35?e[125]>1e-35?o=-.1652240484643952:o=.09695355914385996:o=.12574960258243387:e[1]>1e-35?e[2]>3.8815106545092593?e[3]>2.249904835165133?o=.030411053020370282:e[7]>.8375851232899904?o=.01347947217941036:o=-.02329004077119854:e[7]>.9480659774309611?e[22]>1e-35?o=-.021734552060979462:e[100]>1e-35?o=.12154672718218543:e[3]>1e-35?o=.0467045097539336:o=.07133232987671506:e[4]>2.012675845367575?e[4]>3.9219243190762363?o=.018631928508103857:o=.04026129961424531:o=-.0060403819170799225:e[38]>1e-35?o=.04740678443866351:e[30]>1e-35?o=.022411595432555845:e[2]>2.970085626360216?e[121]>1e-35?o=.016385457091892035:o=-.07115043890873148:e[4]>3.417592293073651?o=-.04057726754591634:e[29]>1e-35?o=-.10601923621749415:o=-.013474385705240824;let a;e[3]>1e-35?e[3]>3.481121732133104?e[30]>1e-35?a=.03419190074885174:e[39]>1e-35?a=-.07596248521514803:e[142]>1e-35?a=-.09906305142951233:e[143]>1e-35?a=-.11544208927241095:e[134]>1e-35?a=.03231677158309109:e[217]>1e-35?a=.04584520241402839:a=-.014587374070287719:e[30]>1e-35?e[141]>1e-35?a=-.05022127515891476:e[6]>3.540854293052788?a=.046006786519929344:e[3]>2.3502401828962087?a=.03746852485580482:a=.11887634683908754:e[142]>1e-35?a=-.0715680845257123:e[134]>1e-35?a=.05310603374316432:e[39]>1e-35?a=-.05301061369502469:e[143]>1e-35?a=-.06806923450459589:e[21]>1e-35?a=-.054617004299251364:e[113]>1e-35?e[6]>3.795426061844291?a=.03901365322581413:a=.11833310693969545:e[141]>1e-35?a=-.039041289505442084:e[3]>3.0677824455408698?a=.010823236602311471:e[29]>1e-35?a=-.062100944449970996:e[58]>1e-35?a=-.04585181543113668:e[99]>1e-35?a=.053796582993543764:e[100]>1e-35?e[6]>3.676220550121792?a=.02800134029424525:a=.12622387863644666:e[98]>1e-35?a=.06289940430905602:a=.023655750883710656:e[138]>1e-35?a=.09902929683374195:e[6]>5.161920636569023?a=.07160940969782595:e[141]>1e-35?a=.11975693334861698:a=.03480602671098732;let l;e[0]>1e-35?e[2]>2.4414009612931857?e[1]>1e-35?e[2]>4.600145018061341?l=.02024868069387139:e[2]>3.1984648276080736?l=.048682024362267456:l=.07158946327961134:e[134]>1e-35?l=.05360858064017479:e[30]>1e-35?l=.03969788038954029:e[39]>1e-35?l=-.1339275468398512:l=-.03340699462411555:e[1]>1e-35?e[2]>1.2424533248940002?l=.09338368602561321:e[5]>4.5379471377116305?l=.11818377094705468:l=.02406138301472482:e[30]>1e-35?l=.08786833398626331:l=.031294938606502315:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[2]>4.923617305492666?l=-.0247806554659429:l=.00415615978158072:e[4]>2.138333059508028?e[4]>3.6505739029280164?l=-.0025888569756007704:l=.033556460788819964:l=-.011238496891848667:e[5]>3.5694334999727624?e[4]>2.012675845367575?e[2]>.8958797346140276?l=.03964701920383755:l=.024902380380505313:e[141]>1e-35?l=-.07221122170573789:l=.009221806859728395:e[2]>.8958797346140276?l=.09633850035166669:l=.007323280248710229:e[134]>1e-35?l=.038330704525669945:e[30]>1e-35?l=.01660549386778516:e[2]>2.524928003624769?e[217]>1e-35?l=.008967266036665084:e[29]>1e-35?l=-.12693911437262784:l=-.05779560753585583:e[29]>1e-35?l=-.0908743155940788:e[4]>3.314020688089767?l=-.030882471980034343:l=-.010429019903489632;let c;e[0]>1e-35?e[2]>2.138333059508028?e[1]>1e-35?e[2]>3.4498615536424366?e[3]>2.249904835165133?c=.04956831432894648:e[2]>5.223051249395764?c=-.010305811579773205:c=.027491320728082233:c=.06656735137915168:e[38]>1e-35?c=.05309749470598965:e[30]>1e-35?c=.03843762763805799:c=-.030980078724697425:e[3]>1e-35?e[1]>1e-35?c=.08089335516186445:c=.04120452858949669:e[6]>4.832297822126891?e[2]>.8958797346140276?c=.10006865536846919:c=.11917243570572485:e[8]>1e-35?e[2]>.8958797346140276?c=.06704577104028654:c=-.1454046740476985:e[219]>1e-35?c=-.13678871665753098:c=.07859247859374968:e[1]>1e-35?e[2]>3.314020688089767?e[3]>2.249904835165133?c=.024623237775190106:e[2]>4.73179313355342?c=-.02080435685185878:c=.0026175118278487855:e[6]>3.417592293073651?e[22]>1e-35?c=-.025465692791530083:e[45]>1e-35?c=-.044807460105408044:e[8]>1e-35?c=.008766235663186964:c=.032712521408248645:e[3]>2.602003343538398?c=-.0056332432294706036:e[6]>2.524928003624769?c=.09592889105245415:c=-.013339150198983546:e[38]>1e-35?c=.03563564253379704:e[30]>1e-35?c=.014870517098142924:e[2]>2.970085626360216?c=-.054537994223319376:e[219]>1e-35?c=-.13242819761683536:e[39]>1e-35?c=-.0910629106840573:c=-.01970485337755703;let u;e[0]>1e-35?e[2]>2.012675845367575?e[1]>1e-35?e[2]>3.4498615536424366?e[7]>.9246495578512688?u=.04812308497880073:e[29]>1e-35?u=.0005380021336956461:u=.03361690381564229:e[5]>3.5694334999727624?u=.05947219194425965:u=.11024468105183681:e[134]>1e-35?u=.04905351957215242:e[138]>1e-35?u=.05554447267811877:u=-.021863233324542066:e[29]>1e-35?e[5]>4.855921334140645?e[2]>.8958797346140276?u=.09590438270550732:u=.11498869480105023:u=.04093609484315685:u=.06588820186431316:e[1]>1e-35?e[2]>2.970085626360216?e[29]>1e-35?e[7]>.41763374498947375?u=.0043146758499583255:u=-.03443798345003191:e[58]>1e-35?u=-.08355523706358281:u=.017928058505534663:e[5]>3.5694334999727624?e[22]>1e-35?u=-.02209335592785362:e[2]>.8958797346140276?u=.03223396066919647:u=.0170789547385017:e[7]>.9546729796082215?e[2]>.8958797346140276?u=.09545837551902411:u=.008923660539643153:u=-.012322532316048181:e[134]>1e-35?u=.03182502017906531:e[138]>1e-35?e[29]>1e-35?u=-.06617589040350445:u=.040440282181288686:e[2]>2.802901033147999?u=-.043412758816960974:e[219]>1e-35?u=-.11700143817568372:e[48]>1e-35?u=-.11379636451926181:e[49]>1e-35?u=-.14202838670262277:e[39]>1e-35?u=-.08160450909782378:u=-.013448620144296253;let f;e[1]>1e-35?e[2]>2.602003343538398?e[3]>2.249904835165133?e[4]>3.6505739029280164?f=.004170792297448336:f=.0368033867902024:e[7]>.8333442551332461?e[2]>4.677480030793064?f=.009136341105716223:f=.03568813371096505:e[7]>.22301866079069904?e[2]>5.1209788959100075?f=-.02365589472388456:f=.00919157417627931:f=-.0379399276194825:e[3]>1e-35?e[5]>3.5694334999727624?e[2]>.8958797346140276?e[22]>1e-35?f=-.019258819649469603:f=.03709105125649261:f=.016860660630369267:e[3]>2.602003343538398?f=-.00991261350028801:e[7]>.9626084674797213?f=.11517814309711256:f=-.009719045525281071:e[2]>1.2424533248940002?e[7]>.7316379010844482?f=.07097600019370685:f=.04586465946843457:e[6]>4.783307617946789?f=.09722756919612678:e[8]>1e-35?e[7]>.9793410316570949?f=-.11805054859481241:f=.07110946491407406:f=.05402719662002902:e[134]>1e-35?f=.03393227005537922:e[30]>1e-35?f=.023661319650909306:e[2]>2.970085626360216?e[121]>1e-35?f=.031049210793405797:e[135]>1e-35?f=-.10837216222444626:e[219]>1e-35?f=-.14640457784236915:f=-.03965818070110935:e[121]>1e-35?f=.039992710146502054:e[143]>1e-35?f=-.09311937611688731:e[46]>1e-35?f=-.07559392834101462:e[219]>1e-35?f=-.09895720087616466:e[135]>1e-35?f=-.07586062007425573:f=-.011775153504486295;let m;e[1]>1e-35?e[3]>1e-35?e[141]>1e-35?m=-.03681630636575175:e[22]>1e-35?m=-.024594313135047084:e[7]>.9626084674797213?e[6]>3.676220550121792?m=.03355559026428929:e[3]>2.602003343538398?m=.012516956280523336:m=.1113827943542528:e[3]>2.3502401828962087?e[39]>1e-35?m=-.03483153469277968:e[29]>1e-35?m=-.06012725416594425:m=.03180949281577552:e[3]>1.2424533248940002?m=.007572391854701212:m=-.04833059473573461:e[7]>.5866799179067689?e[138]>1e-35?m=.084956566507563:e[7]>.9407436463973539?e[6]>5.161920636569023?m=.07174368742657447:e[7]>.9793410316570949?m=.024186357466630726:m=.07739671408330714:m=.048429456456843774:e[6]>5.078289090109146?e[138]>1e-35?m=.07555203090037793:m=.033181836695182196:m=-.02197298038836975:e[38]>1e-35?m=.031334580210504996:e[30]>1e-35?m=.021270582199851534:e[121]>1e-35?m=.0329970846397004:e[42]>1e-35?m=.04064092183581017:e[135]>1e-35?m=-.08440485061890712:e[219]>1e-35?m=-.10638369254266776:e[143]>1e-35?m=-.09755269717731242:e[144]>1e-35?m=-.1173397395002877:e[51]>1e-35?m=-.1288517354356988:e[49]>1e-35?m=-.13923283846721088:e[91]>1e-35?m=-.1224188861275682:e[3]>3.156774023138548?m=-.02477169567121223:m=-.006917307470148426;let h;e[2]>2.802901033147999?e[7]>.9159108669154322?e[3]>3.314020688089767?h=-.0010700017432373199:e[2]>4.832297822126891?h=.009582861728698568:h=.029780100164495754:e[30]>1e-35?e[210]>1e-35?h=-.028942339056712313:h=.020599853201598167:e[3]>3.540854293052788?h=-.030156164189210577:e[2]>4.620046665062766?e[3]>1.8688348091416842?h=-.00103151911027294:e[217]>1e-35?h=.005930672148987754:h=-.03586108945255643:h=.004417350848115493:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?e[3]>3.6242520361853052?e[30]>1e-35?h=.02388317653477103:h=-.0034021644637823034:e[125]>1e-35?h=-.059034648546006076:e[18]>1e-35?h=-.02514305472376584:e[46]>1e-35?h=-.05290744310611087:e[21]>1e-35?h=-.03750702516022783:e[39]>1e-35?h=-.031092446888446753:h=.028272541588979773:e[7]>.9676186228082213?e[3]>2.602003343538398?h=-.009169247394016047:h=.11347856526033356:h=-.00310251177264949:e[2]>1e-35?h=.00844340216096322:h=-.00894414829369423:e[2]>1.4978661367769956?e[7]>.6223082132708274?e[6]>3.0677824455408698?h=.04885293193722139:h=.10736598620828455:h=.026545392586289893:e[6]>4.938058177869999?e[2]>.8958797346140276?h=.07355143458077283:h=.09420954595651049:e[8]>1e-35?e[2]>.8958797346140276?h=.07966619891180966:h=-.10471235843714122:h=.04867207725748343;let p;e[1]>1e-35?e[3]>1e-35?e[5]>3.5694334999727624?e[3]>2.249904835165133?e[22]>1e-35?p=-.0262424908256809:e[8]>1e-35?p=.001637419319408071:e[155]>1e-35?p=.053444838794586114:e[99]>1e-35?p=.05039717103923269:p=.02448689278350471:e[141]>1e-35?p=-.05723199469388615:p=.005411562031545046:e[7]>.9626084674797213?e[3]>2.602003343538398?p=.00980665121101267:p=.10420505846679201:p=-.001639851950872336:e[7]>.26911173821332884?e[138]>1e-35?p=.07591724033622518:e[7]>.9275861021112151?e[5]>5.173316863805991?p=.06276466446882598:e[194]>1e-35?p=-.1330802382498368:e[5]>3.156774023138548?e[8]>1e-35?p=-.027034262965141144:p=.03949417085855365:p=.08851962788853085:e[9]>1e-35?p=.05379608621573637:p=.032253635727649325:e[138]>1e-35?p=.058048925881989615:p=.005620237500451222:e[134]>1e-35?p=.02734220426041116:e[30]>1e-35?p=.017746745665275825:e[142]>1e-35?p=-.07814745820732061:e[143]>1e-35?p=-.08860968498533135:e[14]>1e-35?p=.01954819512523945:e[42]>1e-35?p=.03333354798081121:e[147]>1e-35?p=-.11642554317575503:e[49]>1e-35?p=-.12425086420883341:e[146]>1e-35?p=-.12996952774815626:e[3]>3.817651943129708?p=-.03275661606585881:p=-.014860694091417102;let g;e[1]>1e-35?e[2]>2.524928003624769?e[3]>2.249904835165133?e[3]>3.725620842493839?g=-.000906155627647317:e[24]>1e-35?g=.0785324151067157:e[154]>1e-35?g=-.058309500036909157:g=.026762512119806844:e[7]>.26911173821332884?e[2]>4.505334588423558?g=-.010584135839537876:g=.013982545022862853:g=-.03208712711019827:e[3]>1e-35?e[2]>.8958797346140276?e[5]>3.5694334999727624?g=.026401003398891884:e[3]>2.602003343538398?g=-.008168418058515686:e[7]>.9662372103242399?g=.10626422692131453:g=-.01031637351522216:g=.010358942714602982:e[2]>1.2424533248940002?e[2]>2.012675845367575?g=.0312811686023135:g=.05423507965224627:e[6]>4.832297822126891?g=.08479742987484738:e[8]>1e-35?e[7]>.9793410316570949?g=-.09338070882722671:g=.058145805002919916:g=.04227449937397909:e[38]>1e-35?g=.025289091019879376:e[2]>3.1132683346437333?e[3]>.8958797346140276?e[46]>1e-35?g=-.09114331684757576:e[135]>1e-35?g=-.07948190608487016:e[48]>1e-35?g=-.12911151777601662:e[143]>1e-35?g=-.09735205976374478:g=-.017192402584465798:g=-.08661537827420282:e[217]>1e-35?g=.033425023239885124:e[14]>1e-35?g=.02729990952110066:e[48]>1e-35?g=-.09098188061865646:e[46]>1e-35?g=-.05848458618550134:e[91]>1e-35?g=-.10969774095556883:g=-.0068971807474334365;let y;e[1]>1e-35?e[3]>1e-35?e[3]>1.2424533248940002?e[125]>1e-35?y=-.06150017523108556:e[39]>1e-35?y=-.03350257370473994:e[22]>1e-35?y=-.02193617429266551:e[8]>1e-35?y=7274245146620154e-20:e[6]>3.676220550121792?e[4]>2.3502401828962087?y=.026702786904914785:y=.00851181280021978:e[4]>2.673553765358735?y=.010358811529123666:e[6]>2.802901033147999?y=.08891517935366504:y=.023114323891227237:y=-.02875694375159779:e[4]>1.7005986908310777?e[138]>1e-35?y=.06720372648635974:e[6]>5.427147823217923?e[9]>1e-35?y=.0544777682515472:y=.037060547607205986:e[6]>1e-35?y=.022016394753027843:y=-.1559604133821172:e[6]>3.540854293052788?y=-.009372509268454739:y=-.24388295956457617:e[38]>1e-35?y=.023012278764368795:e[138]>1e-35?y=.03564423186175008:e[30]>1e-35?y=.008093643695090883:e[217]>1e-35?y=.028810461962454004:e[135]>1e-35?y=-.07120877224354143:e[46]>1e-35?y=-.06546454537408128:e[144]>1e-35?y=-.09534262423492412:e[143]>1e-35?y=-.0770344566882831:e[29]>1e-35?y=-.06285371287531509:e[14]>1e-35?y=.02073120300153793:e[123]>1e-35?y=-.09016320513643451:e[51]>1e-35?y=-.10496442920973255:e[3]>3.1132683346437333?y=-.019949599427836494:y=-.0019060085544902166;let x;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.1984648276080736?e[1]>1e-35?e[3]>2.249904835165133?x=.03174009468268253:e[2]>5.363634090365639?x=-.019608371322822362:x=.012560836552403976:x=-.006925466014569184:e[1]>1e-35?x=.047796055675515446:x=.014363935217773802:e[6]>5.391349638084432?e[2]>.8958797346140276?e[3]>1e-35?x=.05193425865217324:x=.07891754708034264:x=.09859506024630252:e[8]>1e-35?e[5]>4.424828703319957?x=.0288226384042998:x=-.09397342098461306:e[4]>.8958797346140276?x=.06181532763949055:e[3]>1e-35?x=.0661728888522049:x=-.18938681666136592:e[2]>3.6242520361853052?e[30]>1e-35?x=.005754128097002715:e[4]>1.7005986908310777?e[1]>1e-35?e[3]>1.8688348091416842?x=.003940381852503271:x=-.01767544594631589:e[134]>1e-35?x=.005683243725945637:x=-.033167818200618454:x=-.049739953036904844:e[1]>1e-35?e[5]>3.417592293073651?e[3]>2.249904835165133?e[3]>4.051747139190486?x=-.013281167238314323:x=.016971087295600894:x=-.0032296953806057044:e[8]>1e-35?e[3]>1e-35?x=-.09772932329003692:x=.10215199291158968:e[3]>1e-35?x=.04042124133857408:e[4]>1.7005986908310777?x=-.03780917296974188:x=-.29617407728303585:e[3]>1.2424533248940002?e[134]>1e-35?x=.019695468056761475:x=-.008073287117671947:x=-.07196945037292647;let b;e[0]>1e-35?e[3]>1e-35?e[30]>1e-35?b=.04565870990720628:e[4]>3.481121732133104?b=-.0010242035152053465:e[46]>1e-35?b=-.06735757101078846:b=.028047085557873476:e[4]>.8958797346140276?b=.061451212522936484:b=-.008994471708946133:e[4]>3.8815106545092593?b=-.015862290359637304:e[4]>1.2424533248940002?e[156]>1e-35?b=-.0353203284829365:e[135]>1e-35?b=-.029955239188290975:e[153]>1e-35?b=-.024262881593313065:e[21]>1e-35?b=-.04039396048201336:e[155]>1e-35?b=.031605649750965394:e[46]>1e-35?b=-.0412690351363074:e[18]>1e-35?b=-.02516534034859168:e[51]>1e-35?b=-.09383050740007202:e[219]>1e-35?e[30]>1e-35?b=.05781620337941066:b=-.031029108058883783:e[54]>1e-35?b=-.1312103962175427:e[14]>1e-35?b=.029309503966067275:e[52]>1e-35?b=-.12376041877584809:e[49]>1e-35?b=-.08405476403385437:e[129]>1e-35?b=-.07017699310303659:e[3]>3.238486181444842?b=.0005864979938663785:e[90]>1e-35?b=-.19027994988708324:e[4]>2.4414009612931857?b=.013036973814688194:e[141]>1e-35?b=-.05866284827055356:e[196]>1e-35?e[3]>1.2424533248940002?e[3]>1.4978661367769956?b=.021738540839636195:b=.10410506831002041:b=-.25590968590756463:b=.0023982515170817725:b=-.04143304307857132;let E;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>3.417592293073651?e[2]>5.335128436483344?E=-.011443269019739626:e[1]>1e-35?E=.015228192424880932:E=-.005492858431736962:e[1]>1e-35?e[5]>3.5694334999727624?E=.03605247912942737:E=.08439131345296227:E=.009650676995478455:e[5]>5.096808314315481?e[2]>.8958797346140276?e[29]>1e-35?E=.07077360688836766:E=.044754385330663386:E=.09313294724999382:e[8]>1e-35?e[2]>.8958797346140276?E=.04214845406094496:E=-.10283747682230321:e[4]>.8958797346140276?E=.05232959789940822:e[2]>.8958797346140276?E=.00730829946441921:E=-.23825070451282065:e[7]>.9358314658959646?e[5]>3.417592293073651?e[8]>1e-35?E=-.013117301012430346:E=.010418379595902224:e[19]>1e-35?E=-.07514668047310291:E=.05032486941219513:e[29]>1e-35?e[1]>1e-35?e[7]>.14547530463198097?e[4]>2.138333059508028?E=-.009576060406554683:E=-.04582944318062007:E=-.04685159067258116:E=-.07022291581850879:e[1]>1e-35?e[4]>2.3502401828962087?e[4]>3.8815106545092593?E=-.008313873320272646:e[140]>1e-35?E=-.029352675967497712:e[37]>1e-35?E=-.09937923794037767:E=.015967772276156707:E=-.009857373135428817:e[38]>1e-35?E=.011345159604794278:e[2]>2.4414009612931857?e[30]>1e-35?E=.001522017389940959:E=-.026992183902105407:E=-.006358778971076675;let _;e[0]>1e-35?e[2]>1.8688348091416842?e[2]>2.970085626360216?e[7]>.8649016459419877?_=.018617011644318126:e[29]>1e-35?e[2]>4.832297822126891?_=-.03407648259949232:_=-.0036502511604675977:e[4]>3.540854293052788?_=-.00934040898683245:_=.010922739771398862:e[7]>.9676186228082213?_=.05137169375874399:_=.02682190004807807:e[29]>1e-35?e[2]>.8958797346140276?_=.065076078729683:e[8]>1e-35?e[7]>.9750059495478345?e[7]>.996914501566243?_=.08915557171019604:_=-.06286636147644172:_=.0902247220475161:e[4]>.8958797346140276?_=.09051085461905525:e[9]>1e-35?_=-.19701197524821418:_=.005536577088671752:e[30]>1e-35?_=.0682573098268795:_=.031380692115494484:e[2]>4.151008904875603?e[155]>1e-35?_=.026867659395235544:e[7]>.5866799179067689?_=-.008345671861059714:_=-.02185200164340811:e[7]>.9626084674797213?e[22]>1e-35?_=-.024341883095402903:e[141]>1e-35?e[29]>1e-35?_=.08888912525147288:_=-.040584195806350004:_=.014817521849450843:e[4]>1.7005986908310777?e[4]>3.9219243190762363?_=-.01259238316205765:e[156]>1e-35?_=-.03305969547622109:e[50]>1e-35?_=-.10133912689920138:e[155]>1e-35?_=.025358210175047153:e[55]>1e-35?_=-.14645261489281414:e[9]>1e-35?_=.012035823488806215:_=.0010743871783232305:_=-.030440082321355873;let k;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[4]>.8958797346140276?e[138]>1e-35?k=.0708169212387357:e[7]>.9974623466432676?k=.06323909894881967:k=.04463133906529934:k=-.006876640569960593:e[4]>2.138333059508028?k=.02983313061920756:k=-.012849740499321841:e[138]>1e-35?k=.05170725384597862:e[134]>1e-35?k=.03407970940934425:e[32]>1e-35?k=.04641257566344885:e[217]>1e-35?k=.04726549849359106:e[152]>1e-35?k=.04284855498215312:k=-.018635981778740818:e[7]>.9358314658959646?e[1]>1e-35?k=.013495195381145214:k=-.0017562536904350947:e[153]>1e-35?k=-.035450683955968364:e[135]>1e-35?k=-.033677490938511655:e[1]>1e-35?e[156]>1e-35?k=-.03492338371344172:e[4]>2.012675845367575?e[8]>1e-35?k=-.012478407554855247:e[58]>1e-35?k=-.06588308463544146:k=.01024668455910621:k=-.017964352445712636:e[138]>1e-35?k=.023509519134334668:e[134]>1e-35?k=.009985116251562821:e[219]>1e-35?k=-.08089904073615993:e[144]>1e-35?k=-.08668450969211726:e[146]>1e-35?k=-.11193950701534479:e[91]>1e-35?k=-.09510832561737878:e[47]>1e-35?k=-.06671901650698997:e[145]>1e-35?k=-.10185972302071798:e[142]>1e-35?k=-.050979038763275586:k=-.008318124414257324;let B;e[2]>2.4414009612931857?e[7]>.5866799179067689?e[1]>1e-35?e[2]>5.059420419187638?B=-.004966114458456121:e[3]>1.4978661367769956?e[6]>3.9219243190762363?B=.016160825033090097:e[4]>2.673553765358735?B=-.008119911797705546:e[7]>.9676186228082213?B=.10191214482603793:B=.010406721157764452:e[4]>2.602003343538398?B=.011963972867583182:e[209]>1e-35?e[24]>1e-35?B=-.4633165603515741:B=-.027241411195905924:B=-.01021341522779383:e[3]>.8958797346140276?e[39]>1e-35?B=-.07106669495723826:B=-.003949154414882924:B=-.06434150131915288:e[3]>1.7005986908310777?e[1]>1e-35?B=.005050893558647285:B=-.01649483548684653:e[217]>1e-35?B=.0027009145619870485:e[7]>.16413460456379095?B=-.021492035902356262:B=-.04956173856083012:e[3]>1e-35?e[2]>.8958797346140276?e[4]>3.314020688089767?B=.004614615289098078:e[125]>1e-35?B=-.053838919278819175:e[141]>1e-35?B=-.031232660335016666:e[7]>.9676186228082213?B=.031522536832188655:B=.016369948821613637:B=-.001970208279177045:e[2]>1.2424533248940002?e[7]>.8045995506441456?e[6]>3.0677824455408698?B=.035653122678366796:B=.09668798382116887:B=.017192957672541906:e[6]>5.427147823217923?e[2]>.8958797346140276?B=.05167603828162103:B=.07201242912898732:e[4]>.8958797346140276?e[6]>4.3882378946731615?B=.04079789432551034:B=-.00477197753110532:B=-.1330224689055222;let N;e[0]>1e-35?e[1]>1e-35?e[6]>5.519456907163478?e[3]>1e-35?N=.025938224253040522:e[7]>.9480659774309611?N=.06369970668749851:N=.04567224211157202:e[8]>1e-35?N=-.03272937728465352:e[7]>.8002228006195066?e[219]>1e-35?N=-.06304921759586735:N=.04293432033794005:N=.0034607309539607385:e[30]>1e-35?N=.03333728636724803:e[134]>1e-35?N=.03171739664928598:e[32]>1e-35?N=.04247521237473512:e[217]>1e-35?N=.04515237436183519:e[138]>1e-35?N=.043674672816657406:N=-.021495642896979555:e[153]>1e-35?e[7]>.7405695827634472?N=-.005353425538700483:N=-.03818743916821677:e[1]>1e-35?e[156]>1e-35?N=-.026937004040991603:e[9]>1e-35?N=.01687211330975012:e[129]>1e-35?N=-.06344334253531962:e[5]>3.276966702012906?e[3]>2.4414009612931857?e[3]>4.3882378946731615?N=-.029787052855333836:e[140]>1e-35?N=-.0315337765152156:N=.01010125865272709:N=-.003643087951301554:e[3]>1.8688348091416842?N=-.009293469974765106:e[7]>.9407436463973539?e[19]>1e-35?N=-.10837629052758145:N=.08012552652666853:N=-.03240188731353479:e[3]>.8958797346140276?e[138]>1e-35?N=.028089541906112948:e[134]>1e-35?N=.011775653029555359:e[54]>1e-35?N=-.1329256322319015:N=-.010520589644656487:N=-.058476715353390545;let M;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>2.970085626360216?e[3]>1.4978661367769956?e[1]>1e-35?M=.015966021866473425:M=-.004942501766182043:e[7]>.7646034107159144?M=.0008922354520049755:M=-.02377096637770522:e[1]>1e-35?M=.03185471115279236:M=.009030463601278762:e[6]>5.033695261903033?e[2]>.8958797346140276?e[3]>1e-35?M=.03583918176912262:M=.05978765203310842:e[3]>1.4978661367769956?M=.04363706154403441:M=.08596238935719265:e[8]>1e-35?e[4]>3.676220550121792?M=-.14139420543234502:e[6]>4.135134555718313?M=.06641653507737781:M=-.08482961471233386:e[219]>1e-35?M=-.08432601495298837:M=.036383288293587494:e[2]>4.212100162283537?e[4]>4.06899022722607?M=-.027653216441781994:e[4]>1.2424533248940002?M=-.0074990353344818825:M=-.047274115298751654:e[3]>4.350257124271638?M=-.021535524001034215:e[7]>.9626084674797213?e[6]>3.314020688089767?M=.008343192891130257:e[3]>2.602003343538398?M=-.029175290449111352:e[19]>1e-35?M=-.0982821612709299:M=.07967468666491928:e[3]>2.012675845367575?e[1]>1e-35?e[141]>1e-35?M=-.050000478457880464:e[99]>1e-35?M=.03066844761711629:M=.00757148708610041:e[14]>1e-35?M=.030325269400598688:e[138]>1e-35?M=.029925649226634522:M=-.005865781126590595:e[7]>.14547530463198097?M=-.006746433384005582:M=-.03419211369300411;let te;e[7]>.8453853180651066?e[9]>1e-35?e[204]>1e-35?e[5]>3.979637980058199?te=.03492440471960614:te=.10640952227810228:te=.024674544399570984:e[21]>1e-35?te=-.03056548710005192:e[24]>1e-35?te=.04417102228084844:e[18]>1e-35?e[5]>3.417592293073651?te=-.01915628728670732:te=.08218968786016527:e[22]>1e-35?te=-.015022557207326592:e[7]>.9941118339384912?te=.024199625103362956:e[135]>1e-35?te=-.01204089678887213:e[5]>3.156774023138548?e[14]>1e-35?te=.03343354440638259:e[144]>1e-35?te=-.06832894943893354:te=.0114980261254499:e[12]>1e-35?e[100]>1e-35?te=.09915326976032354:te=-.011405707270850872:te=.05400113313957842:e[138]>1e-35?te=.029070115198082648:e[7]>.11348809759407426?e[9]>1e-35?te=.0124381999772114:e[14]>1e-35?te=.021548670539672424:e[152]>1e-35?te=.02386756199239544:e[155]>1e-35?te=.024879667358339554:e[217]>1e-35?te=.014495299809094343:e[17]>1e-35?te=.023665548251738264:e[21]>1e-35?te=-.04352613176288253:e[142]>1e-35?te=-.041479100066479035:e[47]>1e-35?te=-.054730987834988636:e[135]>1e-35?te=-.02041552814087628:e[12]>1e-35?te=.00599257601351913:e[19]>1e-35?te=.017289098956116435:te=-.005346146967029123:te=-.015035114021856248;let de;e[2]>2.524928003624769?e[39]>1e-35?de=-.054727205204329936:e[2]>5.1209788959100075?e[3]>1.7005986908310777?de=-.006846267565269392:e[5]>6.826002629905951?de=-.031164989612379426:de=-.002741497453668024:e[91]>1e-35?de=-.09671408062751485:e[4]>1.4978661367769956?e[1]>1e-35?e[3]>2.249904835165133?de=.01457038163563883:e[7]>.1998775237752378?de=.0022386178156093236:de=-.023878153904868322:e[138]>1e-35?de=.02577301491883366:e[134]>1e-35?de=.012196636151923639:de=-.011620066788940737:de=-.02547345266933859:e[3]>1e-35?e[2]>1e-35?e[1]>1e-35?e[125]>1e-35?de=-.054140900037670386:e[5]>3.5694334999727624?de=.011956526123643832:e[3]>2.602003343538398?de=-.02114925328017154:e[7]>.9662372103242399?de=.08782010508103752:de=-.017223208918198857:e[138]>1e-35?de=.03552967765214556:e[134]>1e-35?de=.02029988465200251:de=-.0027071098830831453:de=-.010563423003945922:e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?de=.020789754957971127:e[8]>1e-35?de=.09676607622337308:de=-.13431522143386382:de=-.04328684841078818:e[6]>5.427147823217923?e[2]>.8958797346140276?de=.04286558286931383:de=.0632450248289209:e[4]>.8958797346140276?e[8]>1e-35?e[4]>3.676220550121792?de=-.12134536828900527:de=-.0021406313647826976:de=.02703554321037796:de=-.10987991092748431;let Z;e[3]>3.238486181444842?e[30]>1e-35?Z=.009506310623811853:e[39]>1e-35?Z=-.0390989997202559:e[187]>1e-35?Z=-.07249802958837052:e[46]>1e-35?Z=-.05080833699879983:e[143]>1e-35?Z=-.06014247774751084:e[219]>1e-35?Z=-.05179602905357869:e[6]>6.1537953943602615?e[15]>1e-35?Z=-.025022238573512268:Z=.0011147676050071987:Z=-.013840284878987585:e[7]>.9626084674797213?e[5]>3.417592293073651?e[3]>1e-35?e[6]>3.9219243190762363?Z=.008593726678003006:Z=.05272960047875293:e[5]>4.424828703319957?Z=.03164186747443643:Z=-.019512539098210834:e[3]>2.602003343538398?Z=-.0016290671598964486:e[3]>1.2424533248940002?e[8]>1e-35?Z=-.1920669264002081:Z=.09024848315677546:e[8]>1e-35?Z=.06434775905745808:e[44]>1e-35?Z=.11389595321585716:Z=-.036695137521575945:e[6]>4.987019604243537?e[141]>1e-35?Z=-.03813401544172915:e[138]>1e-35?Z=.029859363038130183:e[58]>1e-35?Z=-.06135288076045784:e[39]>1e-35?Z=-.04609789446034826:e[7]>.14547530463198097?e[11]>1e-35?Z=.0007666746170242386:e[129]>1e-35?Z=-.04984156530077896:e[18]>1e-35?Z=-.01554744241744757:e[10]>1e-35?e[219]>1e-35?Z=-.043774129950223145:Z=.0062051346459236715:Z=.014331149613197688:Z=-.004868728135790881:Z=-.009310258638274059;let G;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.817651943129708?e[3]>1.8688348091416842?G=.0015603015891380355:G=-.018128739944024166:e[5]>3.5694334999727624?e[6]>5.427147823217923?G=.017445711714402918:G=-.006013735620008879:e[3]>1.2424533248940002?G=.08568755276415789:e[4]>2.602003343538398?G=.03195371214541369:e[6]>2.970085626360216?G=-.3506562612672139:G=-.038898555979475155:e[6]>5.391349638084432?e[2]>.8958797346140276?G=.04755052122467952:e[3]>1.4978661367769956?G=.03861414711908666:G=.08185303441168128:e[8]>1e-35?e[5]>4.424828703319957?G=.016473058697350277:G=-.08025494910794358:e[219]>1e-35?G=-.06606152909975703:G=.033955083083682974:e[153]>1e-35?G=-.022769519242142378:e[155]>1e-35?G=.021917770434351808:e[3]>4.051747139190486?G=-.016298405734735375:e[4]>1.2424533248940002?e[156]>1e-35?G=-.023334559703496013:e[91]>1e-35?G=-.07354920004445119:e[21]>1e-35?G=-.03472005783841508:e[9]>1e-35?G=.0088614848397155:e[152]>1e-35?G=.01650058356046536:e[50]>1e-35?G=-.08689386936995537:e[219]>1e-35?G=-.025293957964644554:e[22]>1e-35?G=-.02911571993589908:e[52]>1e-35?G=-.10060771324188006:e[151]>1e-35?G=-.11187645020980451:e[49]>1e-35?G=-.07269389735370566:G=.00010096962399904588:G=-.0308050484468705;let q;e[0]>1e-35?e[2]>1.7005986908310777?e[2]>3.1132683346437333?e[2]>5.589117819455554?q=-.01634394676179118:e[135]>1e-35?q=-.025978770194490092:q=.003478202132522329:e[5]>3.772694874805912?e[6]>5.55101783490842?q=.0201238113260563:q=-.003889163967162744:q=.0619995705843029:e[6]>5.391349638084432?e[2]>.8958797346140276?q=.04441301244720888:q=.07580163057048642:e[5]>4.424828703319957?q=.030400021609279876:e[135]>1e-35?e[6]>4.03420147928485?q=-.1614949959350695:q=.011868201115510678:e[144]>1e-35?q=-.24480189212017833:q=.00743113235503554:e[135]>1e-35?q=-.02500550080046047:e[155]>1e-35?q=.019914668189284807:e[14]>1e-35?q=.016272311078771865:e[2]>4.436734027666816?q=-.010942143677155697:e[152]>1e-35?q=.01655515192923104:e[5]>3.276966702012906?e[208]>1e-35?q=.01544696196221499:e[209]>1e-35?q=.011686634595667988:e[204]>1e-35?q=.012948259428096241:e[54]>1e-35?q=-.0987840586310838:e[17]>1e-35?q=.019642065140602974:e[9]>1e-35?q=.002408217148588979:e[129]>1e-35?q=-.051760999013377655:e[53]>1e-35?q=-.12326801905337725:e[156]>1e-35?q=-.027148214121600067:q=-.00591946140033722:e[141]>1e-35?q=.08076229481403298:e[100]>1e-35?q=.09029873540689846:q=.004633440115146894;let ie;e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?e[7]>.9738681190948303?e[4]>2.249904835165133?ie=.0335386338744903:ie=.08871810783567416:ie=.019225035967642936:e[7]>.5866799179067689?e[44]>1e-35?ie=-.028577747938027556:e[22]>1e-35?ie=-.017080349342057245:e[123]>1e-35?ie=-.06459630434555787:ie=.01496396100048332:e[7]>.04507521918085865?ie=.0037545927605624665:ie=-.024364818555823085:e[7]>.3301972011875425?e[4]>.8958797346140276?ie=.003955118988355861:ie=-.024852972286710795:e[210]>1e-35?ie=-.06918033561606161:ie=-.016436360434421187:e[219]>1e-35?ie=-.07074619361594191:e[14]>1e-35?ie=.02288621182895308:e[30]>1e-35?ie=.009951065285890723:e[4]>3.0677824455408698?e[48]>1e-35?ie=-.08645289278185848:e[18]>1e-35?ie=-.07128859518483391:e[46]>1e-35?ie=-.059012415377229614:e[51]>1e-35?ie=-.09897820075751956:e[143]>1e-35?ie=-.0658809793369211:e[39]>1e-35?ie=-.05072244120975425:e[145]>1e-35?ie=-.1041573357946847:e[21]>1e-35?ie=-.07265724033978356:e[121]>1e-35?ie=.032340406020414894:e[150]>1e-35?ie=-.12780465144045577:e[50]>1e-35?ie=-.10084067045905792:ie=-.008282579596590931:e[31]>1e-35?ie=.09475423612489574:e[134]>1e-35?ie=.016436600209473996:ie=-.0032052350949025154;let z;e[0]>1e-35?e[1]>1e-35?e[6]>5.980149988077803?e[3]>1e-35?z=.016868562767356994:e[7]>.9480659774309611?z=.0490126593301439:z=.03183712887814021:e[4]>.8958797346140276?e[8]>1e-35?z=-.018344689935240077:e[7]>.5762123732244849?z=.027823839417468396:z=.0022237549483396734:z=-.049221463486990365:e[30]>1e-35?z=.024881540664409785:e[4]>3.0677824455408698?z=-.012956173562801246:z=.010844244442972509:e[153]>1e-35?z=-.021011529883710918:e[135]>1e-35?z=-.022862755771243214:e[91]>1e-35?z=-.06523564179230792:e[3]>4.3372693810700085?z=-.01836396186345982:e[4]>1.2424533248940002?e[14]>1e-35?z=.018063557788938384:e[1]>1e-35?e[58]>1e-35?z=-.05666864992513037:e[37]>1e-35?z=-.09859173931566362:e[140]>1e-35?z=-.026368697925604742:e[139]>1e-35?z=-.06458698835998881:e[3]>2.4414009612931857?e[8]>1e-35?z=-.012750470980894203:e[128]>1e-35?z=-.06062526587440112:z=.011637315217958607:e[7]>.9569480028661056?e[6]>3.314020688089767?e[6]>8.256477558772088?z=-.01867324944649552:z=.013333709765106694:e[19]>1e-35?z=-.0862336521704207:z=.06263843669460754:z=-.005209374987876728:e[29]>1e-35?z=-.05314556259108334:e[144]>1e-35?z=-.06747511467043471:z=-.0032459743896180644:z=-.025647852465095045;let j;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?j=-.028446025186518367:e[135]>1e-35?j=-.030498458478750823:e[4]>1.4978661367769956?j=.0028332406263713176:j=-.029966327008991617:j=.018714561890725637:e[6]>5.033695261903033?e[2]>.8958797346140276?j=.041738631496127304:j=.0701395739744944:e[7]>.9811887196001154?e[28]>1e-35?e[194]>1e-35?j=-.6270617037879163:j=-.14198370205598315:j=-.008029082191082339:j=.03966126215239892:e[153]>1e-35?j=-.018792731305353614:e[135]>1e-35?j=-.020500053366640306:e[156]>1e-35?e[11]>1e-35?j=-.05063175110475535:j=-.0120172710473678:e[147]>1e-35?j=-.06181360325166399:e[7]>.06275229375044648?e[52]>1e-35?j=-.09381845963236321:e[4]>4.424828703319957?j=-.015836182358134197:e[4]>1.2424533248940002?e[48]>1e-35?j=-.047387335727107405:e[50]>1e-35?j=-.07061356901704502:e[151]>1e-35?j=-.09680213548388712:e[46]>1e-35?j=-.028970851669790916:e[123]>1e-35?j=-.035197840867969954:e[49]>1e-35?j=-.06299268464836878:e[149]>1e-35?j=-.10197175263174806:e[58]>1e-35?j=-.03908263666673043:e[22]>1e-35?j=-.021903737116021876:e[2]>.8958797346140276?j=.005307704388235018:j=-.0020984759645931708:j=-.021935509998616008:j=-.01887705116018838;let U;e[2]>2.4414009612931857?e[2]>4.749261159734808?e[219]>1e-35?U=-.0427111578574511:e[153]>1e-35?U=-.030189831687705213:e[135]>1e-35?U=-.03512251542671204:U=-.005813108237155817:e[39]>1e-35?U=-.03612853474204475:e[91]>1e-35?U=-.07347487395456895:e[142]>1e-35?U=-.04314124434818331:e[21]>1e-35?U=-.03933135423264962:e[29]>1e-35?e[6]>4.3882378946731615?e[1]>1e-35?U=-.0015250307417007892:U=-.0490054084929899:e[209]>1e-35?U=-.19107169934362123:U=-.032434842765588306:e[18]>1e-35?U=-.04413318629193353:e[5]>3.772694874805912?U=.004026864766696988:e[7]>.9705672697050661?e[4]>2.602003343538398?U=-.0184663870129198:U=.08888448773905216:U=-.0040785146358560806:e[29]>1e-35?e[2]>1.2424533248940002?e[1]>1e-35?e[5]>3.156774023138548?U=.012676257607559291:e[4]>2.012675845367575?U=.07794141958502514:U=-.23905004122480836:U=-.03904279404529968:e[6]>5.818597045157784?e[1]>1e-35?U=.04439337662833094:U=-.009601154125838422:e[28]>1e-35?e[7]>.9926276364955392?e[156]>1e-35?U=.08495906118788314:e[153]>1e-35?U=.09808912606252018:U=-.41470362752984724:U=.024659633328041372:e[6]>4.3882378946731615?U=.02348696158531392:U=-.011219631635525798:e[2]>.8958797346140276?U=.00764827947682953:U=-.002636723662133651;let V;e[0]>1e-35?e[138]>1e-35?V=.04040206743401164:e[7]>.47159631571429605?e[39]>1e-35?V=-.04204265697956852:e[18]>1e-35?V=-.02345608311313191:e[46]>1e-35?V=-.07250113205332377:e[47]>1e-35?V=-.06901706560471924:e[123]>1e-35?V=-.02471508138476658:e[91]>1e-35?V=-.08527667683257537:e[6]>5.519456907163478?e[7]>.9811887196001154?V=.033642311398086024:V=.019968221974742344:e[6]>3.540854293052788?e[28]>1e-35?e[7]>.9914949911911836?V=-.17171139407761582:V=.033182911468765224:V=.0060896749985828915:e[7]>.9626084674797213?V=.050178751374534494:V=-.008697473314227091:e[6]>5.957131031247307?V=.008840008772752947:V=-.00839587224544437:e[57]>1e-35?V=-.11000065936717814:e[187]>1e-35?V=-.039919217528968265:e[135]>1e-35?V=-.01777859479698383:e[7]>.841541958453746?e[6]>8.681774988134558?V=-.006645633391127337:V=.005363553180866138:e[7]>.06275229375044648?e[141]>1e-35?V=-.028575934798358252:e[147]>1e-35?V=-.06523418671938815:e[53]>1e-35?V=-.12439699935111644:e[47]>1e-35?V=-.04201034294282216:e[21]>1e-35?V=-.029998534764449716:e[11]>1e-35?V=-.008349262144218515:e[10]>1e-35?e[152]>1e-35?V=.03211843381827455:V=-.009616753935387912:V=.001507728277179471:V=-.018453367252451447;let K;e[2]>2.4414009612931857?e[155]>1e-35?K=.02097415247337288:e[2]>5.1209788959100075?e[219]>1e-35?K=-.04107586321461544:e[153]>1e-35?K=-.030708779452328257:K=-.008547089256234949:e[24]>1e-35?e[113]>1e-35?K=.10372474211849725:K=.010871474495452506:e[46]>1e-35?K=-.048875079231930615:e[152]>1e-35?K=.0169028183837229:e[91]>1e-35?K=-.06545106192484919:e[7]>.5395500104437768?e[21]>1e-35?K=-.03634133884877529:e[123]>1e-35?K=-.04524486315275367:K=.0007726000210664368:e[153]>1e-35?K=-.026631444280113794:K=-.005897540198114922:e[29]>1e-35?e[2]>1.2424533248940002?e[141]>1e-35?K=.06938494238244022:e[1]>1e-35?e[4]>2.602003343538398?e[7]>.21160651352969054?K=.016731168841731828:K=-.009280453313693341:K=-.006549806005743951:K=-.035447929694275064:e[8]>1e-35?K=-.0032912467465369953:e[4]>1.2424533248940002?e[1]>1e-35?e[2]>.8958797346140276?K=.024369266212637037:e[138]>1e-35?K=.06205121318768558:K=.03811769435016647:K=-.009452348851889555:K=-.025248141993897872:e[2]>1e-35?e[57]>1e-35?K=-.12191990737301042:e[4]>3.3842466058243152?K=.00020591213976092076:e[141]>1e-35?K=-.03252260939244301:e[186]>1e-35?K=-.13818838492678748:K=.009368844137034227:K=-.007973426105216213;let ae;e[2]>2.3502401828962087?e[14]>1e-35?ae=.015015656987761437:e[30]>1e-35?e[210]>1e-35?e[7]>.6876768869498817?ae=.00543900892248828:ae=-.04253496769494065:e[141]>1e-35?ae=-.052958350924390156:e[140]>1e-35?ae=-.10364099832282586:ae=.010452960405207413:e[24]>1e-35?e[113]>1e-35?ae=.09898709072741292:e[209]>1e-35?e[7]>.9821472231924556?ae=-.26615665549082984:ae=.09636256138859388:ae=.01708542025496261:e[217]>1e-35?ae=.008049408683788317:e[21]>1e-35?ae=-.04590265539954756:e[90]>1e-35?ae=-.13784770816769107:e[142]>1e-35?ae=-.04628126597884301:e[47]>1e-35?ae=-.05827975565933709:e[135]>1e-35?ae=-.0223224900840969:e[18]>1e-35?ae=-.03220713396184497:e[91]>1e-35?ae=-.06447405488640102:e[58]>1e-35?ae=-.05284544446869763:e[48]>1e-35?ae=-.06649148594881385:e[123]>1e-35?ae=-.04383701454842744:e[7]>.07815070294696584?e[52]>1e-35?ae=-.11846610284210293:e[50]>1e-35?ae=-.08907531725085399:e[156]>1e-35?ae=-.018270336483319834:e[150]>1e-35?ae=-.1090721461891663:e[151]>1e-35?ae=-.12157322199183473:ae=-.001565820654257863:ae=-.02380240397829804:e[7]>.7957410883753849?ae=.01267070049428537:e[9]>1e-35?ae=.012970301396505988:ae=.0031136826722851885;let re;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>3.817651943129708?e[29]>1e-35?re=-.01811927921170173:re=-.0007182192063435364:e[30]>1e-35?re=.024303187146750442:e[1]>1e-35?re=.011106265465270054:e[134]>1e-35?re=.029835980521591587:re=-.011058553872914158:e[29]>1e-35?e[4]>.8958797346140276?e[2]>.8958797346140276?re=.038081831260496:e[7]>.9761943980359399?e[7]>.9974623466432676?re=.0678338591810893:re=.02371719224774027:re=.0682898584583309:re=-.023148464063014726:e[30]>1e-35?re=.04610988679672867:re=.003060113702583105:e[29]>1e-35?e[2]>.8958797346140276?e[4]>2.4414009612931857?e[7]>.9587163092581167?re=.01081564552001606:re=-.006807357600587744:re=-.02409609521595022:re=-.033329165496176885:e[4]>4.051747139190486?re=-.01130115168237245:e[129]>1e-35?re=-.04589370141507604:e[21]>1e-35?re=-.029442074982620643:e[14]>1e-35?re=.016895124578179443:e[186]>1e-35?re=-.11907557430036886:e[1]>1e-35?e[139]>1e-35?re=-.06194447560538838:e[133]>1e-35?re=-.0758465323292204:e[58]>1e-35?re=-.04330766372695393:e[138]>1e-35?re=-.04155491116231014:e[156]>1e-35?re=-.04841608169206507:e[44]>1e-35?re=-.01948221703985556:re=.006580878599054945:e[217]>1e-35?re=.022433802380447482:re=-.00412091757515532;let le;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.970085626360216?e[153]>1e-35?le=-.024502725801264887:e[2]>5.589117819455554?le=-.01230190569981064:le=.0013078979950003464:e[1]>1e-35?le=.016172143068823742:le=.0006345060509537773:e[2]>.8958797346140276?le=.030005982109869073:e[7]>.9811887196001154?e[7]>.9983480540068196?le=.0671951915420627:e[4]>.8958797346140276?e[204]>1e-35?e[4]>2.4414009612931857?le=.044068636573383585:le=-.6634026033584294:e[28]>1e-35?e[194]>1e-35?le=-.3139210817530322:le=-.030502668897116853:le=.02841326513237545:le=-.12080826254458728:le=.05983169094937563:e[25]>1e-35?le=-.03468266531519899:e[17]>1e-35?le=.018557285805987474:e[91]>1e-35?le=-.051420462987159146:e[153]>1e-35?e[24]>1e-35?le=.04301006671297924:e[57]>1e-35?le=-.09748386515224282:e[7]>.43956365248689394?le=-.00756781004151352:le=-.03008603678955382:e[40]>1e-35?le=-.06712212199178254:e[9]>1e-35?e[99]>1e-35?le=.02709638137622776:le=.00311232737924217:e[219]>1e-35?le=-.021650545703290135:e[129]>1e-35?le=-.04139534817677377:e[4]>4.482986592105174?le=-.01666373169408667:e[7]>.14547530463198097?e[28]>1e-35?le=.0203181446326991:e[24]>1e-35?le=.019321702534414745:le=-.0013149142637674523:le=-.010572437649803333;let ce;e[1]>1e-35?e[99]>1e-35?ce=.024922390516579074:e[7]>.6223082132708274?e[5]>8.674624195715621?ce=-.0013697481432616754:e[8]>1e-35?e[5]>3.0201273556387074?e[5]>4.855921334140645?ce=-.0034268395365245545:ce=-.034186463672076346:e[29]>1e-35?ce=.07759914281958613:ce=-.07773573805144608:e[22]>1e-35?ce=-.0175879419801366:e[7]>.9626084674797213?ce=.016773359142537643:ce=.008028381804196754:e[133]>1e-35?ce=-.0535216100744091:ce=-.0005000628423357899:e[38]>1e-35?e[14]>1e-35?ce=.05090247458630403:ce=.007750826606170666:e[30]>1e-35?ce=.007698939719746262:e[121]>1e-35?ce=.02303487268261317:e[56]>1e-35?ce=.04301822779572479:e[219]>1e-35?ce=-.061056125991793546:e[49]>1e-35?ce=-.08519783826666813:e[54]>1e-35?ce=-.11098408863832084:e[51]>1e-35?ce=-.07495147940928196:e[52]>1e-35?ce=-.10268521021357209:e[143]>1e-35?ce=-.050337621945760906:e[50]>1e-35?ce=-.08215637358309871:e[135]>1e-35?ce=-.037923453156281546:e[29]>1e-35?ce=-.03275476659364492:e[118]>1e-35?ce=-.05655325181162936:e[46]>1e-35?ce=-.03579874818682071:e[55]>1e-35?ce=-.10858775815345066:e[98]>1e-35?ce=-.02949179817285505:e[91]>1e-35?ce=-.06114394873657414:ce=-.0024381269826722327;let De;e[0]>1e-35?e[138]>1e-35?De=.03188433658945665:e[6]>5.957131031247307?e[29]>1e-35?De=.02161439640262312:e[46]>1e-35?De=-.05856082884648366:De=.00579188508436574:e[5]>3.417592293073651?De=-.0023781291067078423:e[6]>2.524928003624769?e[29]>1e-35?De=-.009165058612451055:De=.06060298049441096:De=-.024654633200924148:e[29]>1e-35?e[141]>1e-35?De=.047057536167451744:e[5]>7.751690325550034?De=-.014630738159823437:e[6]>1e-35?De=-.0022830386545257364:De=-.1244934159203967:e[141]>1e-35?De=-.03108265181870111:e[151]>1e-35?De=-.0899976208431091:e[53]>1e-35?De=-.10125439914522794:e[57]>1e-35?De=-.08285049636367613:e[48]>1e-35?De=-.04071723813859757:e[147]>1e-35?De=-.05043191744833317:e[49]>1e-35?De=-.05480244282058292:e[52]>1e-35?De=-.07341553831872409:e[91]>1e-35?De=-.04164336745260387:e[50]>1e-35?De=-.05943962674275153:e[40]>1e-35?De=-.054773037913883875:e[129]>1e-35?De=-.03640370706396673:e[54]>1e-35?De=-.07483146938849299:e[22]>1e-35?De=-.02027834075472462:e[186]>1e-35?De=-.08116240011202293:e[143]>1e-35?De=-.028437692949603324:e[21]>1e-35?De=-.02421670339700474:e[46]>1e-35?De=-.02303808594532841:De=.0030552215125396933;let be;e[0]>1e-35?e[1]>1e-35?e[4]>2.138333059508028?e[9]>1e-35?be=.02933727780739186:e[6]>4.722943345003718?e[7]>.9246495578512688?be=.024680404379144982:be=.012015730636539185:e[113]>1e-35?be=.09112392780348796:e[135]>1e-35?e[7]>.990877425524446?be=-.11617284449593282:be=-.005246041787488675:be=-.011069319481086321:e[90]>1e-35?be=-.2763006993902732:e[7]>.9546729796082215?e[6]>3.0677824455408698?be=.009233858920042097:be=.08920751503262825:be=-.008824102277148265:e[138]>1e-35?be=.02736126919460762:e[4]>2.917405368531303?e[30]>1e-35?be=.013112272135200274:e[217]>1e-35?be=.035799930603658235:be=-.015618218537266096:be=.010656981322113845:e[14]>1e-35?be=.01147191978691208:e[17]>1e-35?be=.016681596753170068:e[135]>1e-35?be=-.017396147137824756:e[4]>1.8688348091416842?e[4]>4.03420147928485?be=-.008863534867945834:e[31]>1e-35?be=.05416038384474034:e[113]>1e-35?be=.012656827040897288:e[204]>1e-35?be=.011410879858785482:e[208]>1e-35?e[1]>1e-35?be=.02085606775425661:be=-.008618410086291444:e[53]>1e-35?be=-.09674487817291225:e[155]>1e-35?be=.010841012663281826:be=-.0027234799964982103:e[100]>1e-35?e[6]>4.226807104886684?be=-.02684998739505702:be=.09196076999373319:be=-.014557367931257406;let qe;e[1]>1e-35?e[4]>2.4414009612931857?e[140]>1e-35?qe=-.020508725755139606:e[9]>1e-35?qe=.014160204295049248:e[37]>1e-35?qe=-.06190233326923697:e[6]>1e-35?qe=.005164496028342236:qe=-.11389189550910446:e[141]>1e-35?qe=-.04125881484049697:e[186]>1e-35?qe=-.17160163910476212:e[29]>1e-35?e[6]>3.676220550121792?qe=-.010283419868136159:e[7]>.9626084674797213?qe=-.1716178372310524:qe=-.008856137283327148:e[28]>1e-35?qe=.05315666786902214:e[129]>1e-35?qe=-.04136913767615559:e[7]>.9705672697050661?e[6]>3.540854293052788?qe=.00751812285476753:e[8]>1e-35?qe=-.11960098941111366:qe=.06631760098044483:e[210]>1e-35?e[30]>1e-35?qe=-.05338190010412709:qe=.017275201286894953:e[30]>1e-35?qe=.014424216946760394:e[99]>1e-35?qe=.027062693955934525:qe=-.006762492910108134:e[219]>1e-35?qe=-.0534489198792768:e[138]>1e-35?qe=.017328465617667224:e[4]>2.970085626360216?e[144]>1e-35?qe=-.0662951231725991:e[143]>1e-35?qe=-.04739088646917139:e[145]>1e-35?qe=-.07635546796992515:e[14]>1e-35?qe=.012433708195861912:e[217]>1e-35?qe=.021046036228368578:e[51]>1e-35?qe=-.07024391932712475:qe=-.007585229386863768:e[127]>1e-35?qe=.0788172427657374:qe=.0036475442240054556;let Re;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>2.802901033147999?e[153]>1e-35?Re=-.02488671343402725:e[135]>1e-35?Re=-.026342401137212534:e[4]>1.4978661367769956?Re=-.0002120610158998857:Re=-.02619014803287452:e[5]>3.772694874805912?Re=.00791871819482647:Re=.05245006986819034:e[5]>5.431533816254341?e[2]>.8958797346140276?Re=.026755493155023333:Re=.05657996196424821:e[5]>4.424828703319957?e[28]>1e-35?Re=-.12833948112036647:Re=.02009706276124955:e[135]>1e-35?Re=-.1062651205805238:Re=-.014392542658357654:e[156]>1e-35?e[11]>1e-35?Re=-.0426876288098691:Re=-.009210886749467585:e[25]>1e-35?Re=-.029685120249418873:e[153]>1e-35?e[24]>1e-35?Re=.039675921298659045:Re=-.01470247025894634:e[135]>1e-35?Re=-.013162475027411236:e[2]>1e-35?e[22]>1e-35?Re=-.01924589513592333:e[21]>1e-35?Re=-.02301719200164619:e[5]>8.75754777636908?e[4]>2.602003343538398?Re=-.0007468484638490539:Re=-.0158247553028744:e[1]>1e-35?e[99]>1e-35?Re=.024493682002973784:e[42]>1e-35?Re=-.07469088345156226:e[45]>1e-35?Re=-.03838380763638677:e[114]>1e-35?Re=.02409327545276692:e[154]>1e-35?Re=-.038977286951036944:e[208]>1e-35?Re=.021915882358345885:Re=.003839964304606302:Re=-.0014382346596150915:Re=-.008713493537728363;let Xe;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.119004124609202?e[3]>1.2424533248940002?Xe=-.0017308950709495397:Xe=-.020269742816377157:e[5]>3.5694334999727624?e[6]>6.468474521450064?Xe=.007854184286630537:Xe=-.005163758444496073:e[3]>1.2424533248940002?e[12]>1e-35?Xe=-.009039854020477722:Xe=.08762320620103459:e[194]>1e-35?Xe=-.3433922378591172:e[24]>1e-35?Xe=-.2523113760729937:Xe=-.000461371156912453:e[5]>5.692045796563381?e[3]>1.4978661367769956?Xe=.007177758561499448:e[2]>.8958797346140276?Xe=.03195343200682438:Xe=.059909349900388334:e[5]>4.424828703319957?e[28]>1e-35?Xe=-.10695282804536732:Xe=.019125081292682575:e[135]>1e-35?Xe=-.09257011968677195:Xe=-.012855523323410875:e[14]>1e-35?Xe=.010052176448775013:e[152]>1e-35?Xe=.011482760058014926:e[156]>1e-35?Xe=-.017677609761538152:e[24]>1e-35?Xe=.01670301885059328:e[39]>1e-35?Xe=-.02425844450882272:e[12]>1e-35?e[3]>1.2424533248940002?e[6]>5.980149988077803?Xe=.01117036123239103:e[3]>1.4978661367769956?Xe=-.005154239762347923:Xe=.06349844063391799:Xe=-.011876368966362884:e[4]>3.772694874805912?Xe=-.010120762110714197:e[5]>3.276966702012906?e[4]>2.4414009612931857?e[4]>3.1132683346437333?Xe=-.0035902728428789336:Xe=.003411450739155564:e[5]>8.17933999189099?Xe=-.018866709049095685:Xe=-.0038747233097564068:Xe=.024379138339081993;let ft;e[7]>.5866799179067689?e[11]>1e-35?e[217]>1e-35?ft=.01816196279626246:ft=-.008720340174685528:e[14]>1e-35?ft=.017422275374961747:e[3]>2.802901033147999?e[6]>6.0026509725338455?e[18]>1e-35?ft=-.035421013136394335:e[219]>1e-35?ft=-.03997357699142973:e[3]>4.993822430271426?ft=-.03250278247092862:ft=.004080430247607075:ft=-.010055330454519094:e[5]>9.345963324807864?ft=-.008136951493137817:e[90]>1e-35?ft=-.16414188828180187:e[45]>1e-35?ft=-.0395103723535772:e[17]>1e-35?e[6]>3.314020688089767?ft=.03144428117941763:ft=-.12305809642153893:e[5]>3.417592293073651?ft=.006863569747629234:e[7]>.9626084674797213?e[204]>1e-35?ft=.08986402088848823:e[100]>1e-35?ft=.09658177526577977:e[141]>1e-35?ft=.06795495668113817:e[28]>1e-35?e[3]>1e-35?ft=.10311172778826272:ft=-.12367638872784459:e[209]>1e-35?ft=.06796205879581844:e[6]>3.0677824455408698?e[3]>2.012675845367575?ft=-.1815028770626217:ft=-.027600842388305583:ft=.013979123567456554:ft=-.003475039039176338:e[6]>4.3882378946731615?e[3]>3.6242520361853052?ft=-.008151073332139989:e[3]>2.4414009612931857?e[48]>1e-35?ft=-.05732062477153205:ft=.0038104987226822806:e[7]>.14547530463198097?ft=-.0015360108147469411:ft=-.014797616303672155:e[3]>.8958797346140276?ft=-.010446976011382926:ft=-.039018423658353285;let at;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>4.620046665062766?e[3]>1.8688348091416842?at=-.0031733808376565214:at=-.019463570735432378:at=.0032566959999593536:e[5]>5.692045796563381?e[3]>1.4978661367769956?at=.006472511895453073:e[2]>.8958797346140276?at=.029439910335277677:at=.05703290277034656:e[219]>1e-35?at=-.06489530937321614:e[5]>4.424828703319957?at=.017756995160153607:e[125]>1e-35?at=-.13863131633711023:at=-.011337464460106939:e[29]>1e-35?e[2]>.8958797346140276?e[3]>1e-35?at=-.04822012795561216:e[125]>1e-35?at=.06083023155995546:e[141]>1e-35?at=.04503531231698771:e[5]>7.751690325550034?at=-.008826435995092507:at=.0004769856196102064:e[5]>5.895778350950796?at=-.03439788269853701:at=.0012862199645308793:e[141]>1e-35?e[3]>3.0677824455408698?at=.0046610227653059695:at=-.04504560149384845:e[3]>4.3372693810700085?at=-.011924612526365003:e[151]>1e-35?at=-.07909878419302184:e[40]>1e-35?at=-.04837106565429512:e[52]>1e-35?at=-.06478730352567258:e[18]>1e-35?e[46]>1e-35?at=.060888920864590634:e[5]>3.5694334999727624?at=-.02601024872439008:at=.07960150564774994:e[46]>1e-35?at=-.027213119561154103:e[51]>1e-35?at=-.054081846676903716:e[54]>1e-35?at=-.07375359621246233:e[50]>1e-35?at=-.0570341640965886:at=.0021129818482267812;let lt;e[2]>2.861792550976191?e[11]>1e-35?e[58]>1e-35?lt=-.09222476830824185:e[156]>1e-35?lt=-.044357001480428:lt=-.009033627105152873:e[8]>1e-35?e[5]>7.429817490674132?lt=-.007435399919321396:lt=-.025630334739367253:e[155]>1e-35?lt=.02064199664419035:e[5]>8.75754777636908?e[2]>4.119004124609202?lt=-.012759040985224594:lt=-.0009375109950390992:e[21]>1e-35?lt=-.028664595543047417:e[187]>1e-35?lt=-.03837361994986333:e[22]>1e-35?lt=-.027274995074267547:e[14]>1e-35?lt=.016392245342055616:e[17]>1e-35?lt=.022509678093313362:e[28]>1e-35?lt=.025145343126000193:e[39]>1e-35?lt=-.02939647868188604:lt=.00042395552644239256:e[29]>1e-35?e[2]>2.012675845367575?lt=-.0030925701821976686:e[5]>6.0390628155997765?e[2]>.8958797346140276?lt=.010736817315927911:lt=.02426980448005241:e[28]>1e-35?e[194]>1e-35?lt=-.3070569158934055:e[196]>1e-35?lt=-.5506885961570867:lt=-.033353293982668515:lt=.006553036790621832:e[2]>1.2424533248940002?e[5]>3.5694334999727624?e[155]>1e-35?lt=.02102370525016274:lt=.003409533559556135:e[204]>1e-35?lt=.08873962123163927:e[24]>1e-35?lt=.10555359938821945:e[28]>1e-35?lt=.09719645392539251:e[196]>1e-35?lt=.08224623369607056:lt=-.020134405544960793:lt=-.0015937623030202052;let oe;e[0]>1e-35?e[2]>1.8688348091416842?e[3]>1.4978661367769956?e[3]>3.540854293052788?oe=-.0076758153562413375:e[18]>1e-35?oe=-.04295196457825341:e[51]>1e-35?oe=-.13248011320062422:oe=.008952360414023641:e[7]>.987306237235768?oe=.006439776900137331:oe=-.012660562195035134:e[3]>2.861792550976191?e[30]>1e-35?oe=.026757175255811883:oe=-.01062556784320532:e[2]>.8958797346140276?oe=.02114926571950188:e[8]>1e-35?e[7]>.9738681190948303?e[7]>.996914501566243?oe=.039844832378913425:oe=-.06690456482695102:oe=.05010759067838343:e[7]>.9901971344332651?e[204]>1e-35?e[7]>.9945060383544003?oe=.03772632631184001:oe=-.28522617893050056:e[28]>1e-35?oe=-.060992612788434375:oe=.03341245674945403:oe=.051288950777861456:e[8]>1e-35?oe=-.010769283931178146:e[29]>1e-35?e[2]>.8958797346140276?e[1]>1e-35?e[7]>.98482287934795?oe=.009069204772381522:oe=-.004081394384581673:oe=-.03594060084257492:e[7]>.9216401592048815?oe=-.00442206228805168:oe=-.03576891499137606:e[55]>1e-35?oe=-.08223884312902127:e[57]>1e-35?oe=-.0742535346669798:e[149]>1e-35?oe=-.07940704728071792:e[39]>1e-35?oe=-.017161105634171125:e[49]>1e-35?oe=-.04763279499691125:e[139]>1e-35?oe=-.027192821855546695:e[10]>1e-35?oe=-.0036316338579956914:oe=.0026484338648234077;let Ne;e[0]>1e-35?e[2]>1.4978661367769956?e[2]>5.527441013321604?Ne=-.012306712525171806:e[7]>.26911173821332884?e[18]>1e-35?Ne=-.027850707388722303:e[91]>1e-35?Ne=-.07216882827488169:e[2]>2.740319461670996?e[3]>1.4978661367769956?Ne=.005596837686865309:Ne=-.0059429747278747225:Ne=.009524033665726878:Ne=-.0077898166249992535:e[6]>5.912149824839399?e[3]>1.4978661367769956?e[30]>1e-35?Ne=.032201880996274065:Ne=-.009587971174292791:e[2]>.8958797346140276?Ne=.02761965407835318:Ne=.05238312639482409:e[7]>.990877425524446?e[28]>1e-35?e[156]>1e-35?Ne=.08220352701195494:Ne=-.16200772313735304:e[135]>1e-35?e[6]>4.310776603370241?Ne=-.03126230621131264:Ne=-.15437767199900418:e[219]>1e-35?e[2]>.8958797346140276?Ne=.018944713961164792:e[3]>1e-35?Ne=.06629929139668997:Ne=-.16790799717043633:e[192]>1e-35?Ne=-.3320398525405097:Ne=.009790162291004705:e[125]>1e-35?Ne=-.0996239956884951:Ne=.017982806591038288:e[25]>1e-35?Ne=-.02642518530716432:e[6]>9.286096980078398?e[3]>2.740319461670996?Ne=-.0027582177390145703:Ne=-.02047492290459601:e[17]>1e-35?Ne=.01622159988588393:e[7]>.5866799179067689?Ne=.0012556670436606133:e[3]>2.3502401828962087?e[3]>3.314020688089767?Ne=-.00567335909535631:Ne=.0036605424249172938:e[7]>.085616240166877?Ne=-.00662352094724046:Ne=-.024196995936398374;let Ae;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.802901033147999?e[3]>1.8688348091416842?e[4]>3.6242520361853052?Ae=-.008283589876968955:Ae=.005263882290960596:e[7]>.9662372103242399?Ae=.0028703212438091555:Ae=-.014488335095453487:e[5]>3.5694334999727624?Ae=.006182444666070272:Ae=.04834325475124454:e[5]>5.821564412917691?e[3]>1.4978661367769956?Ae=.006862035478899274:e[2]>1e-35?Ae=.03694434517261685:Ae=.06818308291563471:e[8]>1e-35?e[4]>3.979637980058199?Ae=-.14792403668068005:e[5]>4.297262267176281?Ae=.04085199387960594:Ae=-.08112459203056922:e[7]>.990877425524446?e[204]>1e-35?e[4]>2.4414009612931857?Ae=.040094872099644886:Ae=-.37432021591644105:e[128]>1e-35?e[17]>1e-35?Ae=.11216772098992614:Ae=-.39517539261887863:Ae=-.006202508512715542:Ae=.031730389306944315:e[8]>1e-35?e[5]>3.156774023138548?Ae=-.011787620507206525:e[3]>1.2424533248940002?Ae=-.0681989521208321:Ae=.06597717957453096:e[2]>1e-35?e[25]>1e-35?Ae=-.024543929344106336:e[5]>8.193814844759492?e[4]>2.602003343538398?e[2]>5.167634984480833?Ae=-.00996811570890536:Ae=.001134417943860963:Ae=-.013004815776467261:e[1]>1e-35?e[22]>1e-35?Ae=-.019057324908699217:e[141]>1e-35?Ae=-.026707851278989517:Ae=.005608056403567553:Ae=-.0017699070677530831:e[3]>1.4978661367769956?Ae=-.005457163739006659:Ae=-.02994467745413277;let Ge;e[11]>1e-35?e[154]>1e-35?Ge=-.07640004589975245:e[153]>1e-35?Ge=-.027921183286970398:e[156]>1e-35?Ge=-.02508900369371103:e[47]>1e-35?Ge=-.09621039139423637:e[46]>1e-35?Ge=-.05890206826599292:Ge=-.0018521707885188695:e[7]>.1998775237752378?e[39]>1e-35?Ge=-.02026563108381904:e[91]>1e-35?Ge=-.03979999802398471:e[14]>1e-35?e[134]>1e-35?Ge=.044705853812635206:Ge=.01112016315736189:e[24]>1e-35?e[6]>3.417592293073651?Ge=.01585670681557334:Ge=.0820229237073549:e[9]>1e-35?e[204]>1e-35?e[6]>3.9219243190762363?Ge=.01475544028693712:e[30]>1e-35?Ge=.10219265831102325:Ge=-.0567832116465987:e[154]>1e-35?Ge=-.04682869193620295:Ge=.0058147572533605784:e[123]>1e-35?Ge=-.04011640490395746:e[17]>1e-35?e[6]>3.314020688089767?Ge=.016472642951500794:Ge=-.10372235311156908:e[19]>1e-35?Ge=.013619887374131652:e[28]>1e-35?e[6]>3.1984648276080736?e[6]>5.5816130673839615?Ge=.021404525777064917:Ge=-.022090537029637168:Ge=.07927547222505857:e[129]>1e-35?Ge=-.0315112950229846:e[90]>1e-35?Ge=-.08016175793969123:e[60]>1e-35?Ge=-.044255594885932:e[150]>1e-35?Ge=-.0643645650066138:Ge=18071436579202054e-21:e[6]>6.132312266239896?Ge=.00017227075512669227:Ge=-.010904669702571911;let Y;e[0]>1e-35?e[1]>1e-35?e[7]>.30853255358841714?e[154]>1e-35?Y=-.053460642910797676:Y=.009652079082741289:Y=-.0017676195976280011:e[134]>1e-35?Y=.01746182064829904:e[32]>1e-35?Y=.033149881191962445:e[138]>1e-35?Y=.02149173543949675:e[37]>1e-35?Y=.028519159270523897:e[152]>1e-35?Y=.023352031441951773:e[217]>1e-35?Y=.02290558132732214:Y=-.01850975101703459:e[152]>1e-35?Y=.010488854074509982:e[155]>1e-35?e[12]>1e-35?Y=.027490522294963154:Y=.002575743497494008:e[131]>1e-35?Y=-.07138027268500055:e[57]>1e-35?Y=-.06658662137088783:e[28]>1e-35?Y=.015141080652315508:e[55]>1e-35?Y=-.07156337757427284:e[204]>1e-35?Y=.008085415901726045:e[99]>1e-35?e[1]>1e-35?Y=.01803019280250009:Y=-.012275416064615064:e[113]>1e-35?Y=.007680714218522011:e[102]>1e-35?Y=.01923593781092882:e[38]>1e-35?Y=.00598208846998872:e[112]>1e-35?Y=.00895148693111358:e[217]>1e-35?Y=.004322676779141819:e[114]>1e-35?e[1]>1e-35?Y=.019173900241286065:e[18]>1e-35?Y=-.1302545616586715:Y=-.012219608237225175:e[89]>1e-35?Y=.019080595932083305:e[95]>1e-35?Y=.009182530113836561:Y=-.006531048204768366;let ne;e[2]>4.135134555718313?e[47]>1e-35?ne=-.06057129526622943:e[5]>6.805168536739806?e[3]>2.4414009612931857?e[1]>1e-35?e[32]>1e-35?ne=-.09672976728291365:e[217]>1e-35?ne=-.09138286775903748:e[114]>1e-35?ne=.034435801312936894:ne=.003550781249532139:e[56]>1e-35?ne=.06582022232543998:e[144]>1e-35?ne=-.08601101006110747:ne=-.006766914059699758:e[217]>1e-35?ne=.001822103802069182:ne=-.013646878234832634:e[8]>1e-35?ne=-.02495807137678248:e[1]>1e-35?ne=.009517017217557915:ne=-.007488737506950444:e[6]>6.1537953943602615?e[140]>1e-35?ne=-.013180308369805589:e[51]>1e-35?ne=-.0496089337787575:e[15]>1e-35?e[30]>1e-35?ne=.017032153502995334:ne=-.01330098154550191:e[10]>1e-35?e[56]>1e-35?ne=.04713518460375107:ne=-.0016223104582873055:e[131]>1e-35?ne=-.07291331059881433:e[27]>1e-35?ne=-.015619378359486803:ne=.006051005570772542:e[3]>3.1132683346437333?e[8]>1e-35?ne=-.02945681137428643:ne=-.00725026522062693:e[6]>1e-35?e[3]>1.2424533248940002?ne=.0035081297381004684:e[194]>1e-35?e[5]>3.772694874805912?ne=-.03142097937872678:ne=-.17253564001853064:e[5]>3.156774023138548?ne=-.004860170522962415:e[12]>1e-35?ne=-.04169370739781986:ne=.05886396855048806:ne=-.10415236736977414;let Fe;e[2]>2.3502401828962087?e[11]>1e-35?e[58]>1e-35?Fe=-.07548370555339029:Fe=-.009060327134219393:e[21]>1e-35?Fe=-.02536204329245056:e[155]>1e-35?Fe=.01626198918750622:e[142]>1e-35?Fe=-.029262265693304763:e[4]>1.8688348091416842?e[48]>1e-35?Fe=-.0522966414357639:e[47]>1e-35?Fe=-.03867213359133592:e[149]>1e-35?Fe=-.10392339919606915:e[135]>1e-35?Fe=-.010541433982611018:e[51]>1e-35?Fe=-.06273170107556418:e[54]>1e-35?Fe=-.08769404750229767:e[18]>1e-35?e[1]>1e-35?Fe=.0022966362330231133:e[31]>1e-35?Fe=.19571528454816625:Fe=-.04919246049942885:e[50]>1e-35?Fe=-.06766114512966344:e[7]>.9793410316570949?Fe=.00837983401462093:Fe=.0007986280224776339:e[186]>1e-35?Fe=-.16446174535054356:e[62]>1e-35?Fe=.06508947502037822:Fe=-.010260699234562241:e[6]>5.486867329823672?e[140]>1e-35?Fe=-.01589822136096899:e[125]>1e-35?Fe=-.025465846683560996:e[190]>1e-35?Fe=-.03671457167643481:e[91]>1e-35?Fe=-.03821691103237143:e[57]>1e-35?Fe=-.07502589184745939:e[50]>1e-35?Fe=-.05395522531288487:Fe=.005241788285288346:e[4]>3.1132683346437333?Fe=-.008741587825172916:e[12]>1e-35?e[100]>1e-35?Fe=.06608964318040904:Fe=-.012827641806975033:Fe=.004744161815471635;let Se;e[4]>.8958797346140276?e[2]>5.4049245766661995?e[5]>6.0051201133541365?Se=-.008352440702113342:Se=.00818161196788124:e[123]>1e-35?Se=-.02387242845183433:e[190]>1e-35?Se=-.03574127589374163:e[152]>1e-35?Se=.01262147105943106:e[11]>1e-35?e[58]>1e-35?Se=-.05955906348417553:Se=-.003717083835106387:e[6]>6.0026509725338455?e[15]>1e-35?e[30]>1e-35?Se=.023589988800048537:Se=-.01290090410411923:e[38]>1e-35?Se=.015295369946508892:e[1]>1e-35?e[4]>2.740319461670996?e[22]>1e-35?Se=-.01614208413608714:e[42]>1e-35?Se=-.05454658382875832:Se=.008894057269932708:e[141]>1e-35?Se=-.029660896741885025:Se=.0007918628584206305:e[12]>1e-35?Se=.010735865892076339:e[218]>1e-35?Se=.06499398466334683:e[29]>1e-35?Se=-.02987220407530282:e[118]>1e-35?Se=-.05994319680494358:Se=-.0022119035344297464:e[113]>1e-35?e[24]>1e-35?Se=.09992180359591052:Se=.003953091072683087:e[204]>1e-35?e[4]>2.249904835165133?Se=.0012737346185997833:e[5]>3.979637980058199?Se=.012350990163327259:e[29]>1e-35?Se=-.4173182186315585:Se=.09483857671510697:Se=-.0034771114722081282:e[19]>1e-35?Se=.04818172610227253:e[158]>1e-35?Se=.09085872490042819:e[123]>1e-35?Se=.046170414156546824:Se=-.030833991141721785;let Ce;e[0]>1e-35?e[2]>1.2424533248940002?e[2]>2.138333059508028?e[3]>1.4978661367769956?e[3]>4.197173680708697?Ce=-.015067858446918237:e[5]>3.979637980058199?Ce=.0025493966284458503:e[24]>1e-35?Ce=.10170949517680355:e[3]>2.3502401828962087?Ce=-.010182198776560389:e[7]>.9662372103242399?Ce=.0855616171705204:Ce=-.0044290837387121786:e[7]>.992067132663463?Ce=.006950766900495411:Ce=-.011703657118613042:e[3]>3.314020688089767?Ce=-.007590151825214328:Ce=.011931088318037653:e[5]>4.424828703319957?e[3]>1.4978661367769956?Ce=.003895993078605918:e[2]>1e-35?e[5]>5.859359688974663?Ce=.03311360926528595:e[7]>.9936484368123463?e[28]>1e-35?Ce=-.1296383065201116:e[18]>1e-35?Ce=-.2304238024287801:Ce=-.0007035160942990814:Ce=.03872938637191365:Ce=.05931958562003542:e[204]>1e-35?e[7]>.9926276364955392?Ce=-.2503820824196552:Ce=.01514980593659256:e[135]>1e-35?e[7]>.990877425524446?Ce=-.12146435764173391:Ce=.03579230653026111:e[125]>1e-35?Ce=-.11990587076136816:Ce=-.0017264106529335022:e[2]>.8958797346140276?e[3]>4.878999622893762?Ce=-.028006872909888104:e[17]>1e-35?Ce=.015327119563713427:e[14]>1e-35?Ce=.008966123864441086:e[24]>1e-35?Ce=.014884319812071584:Ce=-.0008180929266082377:e[29]>1e-35?e[5]>5.895778350950796?Ce=-.02927173520516398:Ce=.004256706136162408:Ce=-.0030692852485265805;let Ue;e[39]>1e-35?Ue=-.019116728566000912:e[152]>1e-35?Ue=.011159312353677259:e[52]>1e-35?Ue=-.06556505864685434:e[7]>.14547530463198097?e[187]>1e-35?Ue=-.02203060071288757:e[48]>1e-35?Ue=-.03406851575382452:e[10]>1e-35?e[219]>1e-35?Ue=-.026242020752538932:Ue=-.0026163734864036088:e[21]>1e-35?Ue=-.016803181860075653:e[8]>1e-35?e[5]>3.0201273556387074?e[6]>4.722943345003718?e[125]>1e-35?Ue=-.07907862980413462:Ue=-.0024968534057976956:e[141]>1e-35?Ue=.01751368963010255:Ue=-.035334686232177996:e[3]>1e-35?Ue=-.049727650261844114:Ue=.06649006602788514:e[51]>1e-35?Ue=-.047051279496267896:e[58]>1e-35?e[19]>1e-35?Ue=.06794814379814933:Ue=-.033933057704283995:e[6]>8.681774988134558?Ue=-.001906867260604815:e[3]>3.3842466058243152?e[23]>1e-35?Ue=.029126145919054786:e[12]>1e-35?e[59]>1e-35?Ue=.06547842372312768:Ue=.005706402727440608:e[89]>1e-35?Ue=.05238448470974841:Ue=-.003970577798047124:e[141]>1e-35?e[3]>1e-35?Ue=-.02994666941636212:Ue=.029175297065511276:e[139]>1e-35?Ue=-.03926804943552878:e[7]>.9626084674797213?Ue=.010270060885238803:e[6]>4.5379471377116305?Ue=.0051640733904868355:Ue=-.006326617548806485:e[3]>2.3502401828962087?Ue=-.001064039369711557:Ue=-.015232776877478657;let Ve;e[4]>.8958797346140276?e[0]>1e-35?e[3]>3.540854293052788?e[138]>1e-35?Ve=.020620751195117866:Ve=-.007657642824282572:e[9]>1e-35?Ve=.013255738783000171:e[123]>1e-35?Ve=-.04553588467808997:e[14]>1e-35?Ve=.020257942633657516:e[17]>1e-35?Ve=.02379466680602821:e[7]>.26911173821332884?Ve=.004563013176326579:Ve=-.006044878247080096:e[208]>1e-35?e[1]>1e-35?Ve=.016583051243963785:Ve=-.005473696128326885:e[53]>1e-35?Ve=-.07392011100318682:e[3]>4.840234496705036?Ve=-.022277334024938686:e[49]>1e-35?Ve=-.04140311782670083:e[40]>1e-35?Ve=-.041278341040658334:e[156]>1e-35?Ve=-.01087788432462589:e[8]>1e-35?e[141]>1e-35?Ve=.032404890147508435:Ve=-.008762958389316138:e[153]>1e-35?e[18]>1e-35?Ve=.03064796696780178:e[19]>1e-35?Ve=.025912082684934896:e[7]>.9033253454895247?Ve=.00010665286308939541:Ve=-.019390651252802232:e[133]>1e-35?Ve=-.013215417920201165:e[35]>1e-35?Ve=-.07409193965805899:e[16]>1e-35?Ve=.010595288788401727:Ve=.0004445963442680354:e[19]>1e-35?Ve=.043800560164078434:e[62]>1e-35?Ve=.08440762960688118:e[123]>1e-35?Ve=.04196062757398021:e[44]>1e-35?e[7]>.9880960409521241?Ve=-.14025705728324367:Ve=.07605327900446729:Ve=-.030453882536033008;let tt;e[14]>1e-35?e[134]>1e-35?tt=.03807815059641535:tt=.007895137847547357:e[39]>1e-35?tt=-.019172673927560828:e[138]>1e-35?tt=.009207480510332959:e[152]>1e-35?e[10]>1e-35?tt=.029310247627617716:tt=.006422126177312616:e[3]>3.5114340430413216?e[155]>1e-35?tt=.02869511059037871:e[137]>1e-35?tt=.048763707543632046:e[218]>1e-35?tt=.0393143924208134:tt=-.0065205942363783:e[4]>2.4414009612931857?e[113]>1e-35?tt=.016047178137914484:e[35]>1e-35?tt=-.09486179869071369:e[118]>1e-35?tt=-.032706818831570415:e[0]>1e-35?tt=.004733859562945298:tt=-4345884264792552e-20:e[29]>1e-35?e[204]>1e-35?e[4]>2.3502401828962087?tt=-.23804773582311067:tt=.0015066742334155967:e[194]>1e-35?e[4]>1.7005986908310777?tt=-.013296404682101122:tt=-.14340192620927933:e[196]>1e-35?tt=-.17446678790111786:tt=-.01140535620661492:e[141]>1e-35?tt=-.03362328403627273:e[99]>1e-35?tt=.02082592497315901:e[196]>1e-35?tt=.02125156827172031:e[204]>1e-35?tt=.018738441981476887:e[194]>1e-35?tt=.022230335367621302:e[114]>1e-35?tt=.017460982004618885:e[210]>1e-35?e[11]>1e-35?tt=-.07421933796695453:tt=-.02600449772874995:e[62]>1e-35?tt=.0435295764572802:tt=-.0036358741919687645;let Ct;e[2]>4.749261159734808?e[5]>6.826002629905951?e[29]>1e-35?Ct=-.012866931871530748:e[47]>1e-35?Ct=-.06511122680099479:Ct=-.0033152297369715466:e[1]>1e-35?Ct=.00634942519508748:Ct=-.008516826211528918:e[6]>6.1537953943602615?e[11]>1e-35?e[121]>1e-35?e[1]>1e-35?Ct=-.06214080664476329:Ct=.037029947625630194:e[47]>1e-35?Ct=-.08203414630098728:Ct=-.0044122376347199765:e[15]>1e-35?e[30]>1e-35?Ct=.012452689013210465:Ct=-.011970977023212193:e[10]>1e-35?e[152]>1e-35?Ct=.02888624440861723:Ct=-.0026872248277927456:e[27]>1e-35?Ct=-.01471521834054285:e[21]>1e-35?Ct=-.014970363019863132:e[13]>1e-35?Ct=-.0057151868439017945:e[38]>1e-35?Ct=.01633003881478886:Ct=.005850603591179588:e[113]>1e-35?e[5]>3.979637980058199?Ct=.006600693642185256:e[6]>3.1984648276080736?Ct=.07576534772024612:Ct=-.013028252220942527:e[204]>1e-35?e[9]>1e-35?e[6]>3.9219243190762363?Ct=.01266221511189265:e[29]>1e-35?Ct=-.20167612409830682:Ct=.09361829582187109:Ct=.0016303497789744046:e[6]>4.310776603370241?Ct=-.0015960016142716584:e[141]>1e-35?e[2]>2.249904835165133?e[6]>2.970085626360216?Ct=-.05054316446311788:Ct=.06528096075929847:e[29]>1e-35?Ct=.07763431964140277:Ct=-.017239135292908336:Ct=-.011068823413100247;let Pt;e[91]>1e-35?Pt=-.03524202222673902:e[55]>1e-35?Pt=-.07505808762820981:e[47]>1e-35?Pt=-.026314216162986376:e[49]>1e-35?Pt=-.045488810456426665:e[54]>1e-35?Pt=-.06424779605129435:e[0]>1e-35?e[39]>1e-35?Pt=-.03267263134559766:e[46]>1e-35?Pt=-.049285436356671077:e[51]>1e-35?Pt=-.09277060040547602:e[4]>.8958797346140276?e[123]>1e-35?Pt=-.027164727231258436:e[7]>.4232249052377311?e[14]>1e-35?Pt=.021561483416797714:e[9]>1e-35?e[58]>1e-35?Pt=-.08387877475105178:Pt=.014404401501386124:Pt=.004694473365260974:Pt=-.0001897538693116325:Pt=-.017140588284242805:e[5]>9.119594757170685?e[3]>2.740319461670996?Pt=-.0007153953072197825:Pt=-.010378474356201449:e[8]>1e-35?e[5]>3.276966702012906?e[125]>1e-35?Pt=-.06966241558514917:e[4]>4.82429765145367?Pt=-.05703428861212874:Pt=-.007549683006633188:e[3]>1.2424533248940002?Pt=-.05340556429257431:Pt=.0524214727387076:e[22]>1e-35?Pt=-.012756524179901607:e[186]>1e-35?Pt=-.06578146880564559:e[208]>1e-35?Pt=.011189277267677045:e[11]>1e-35?e[58]>1e-35?Pt=-.05051984734793551:e[3]>1.2424533248940002?Pt=-.0002576217567062796:e[134]>1e-35?Pt=-.07452351335236179:Pt=-.010366062496356129:e[94]>1e-35?Pt=-.04206673603732986:Pt=.0017654268359667174;let yt;e[2]>2.3502401828962087?e[28]>1e-35?yt=.018743416209068924:e[142]>1e-35?yt=-.027628078748284907:e[4]>1.7005986908310777?e[123]>1e-35?yt=-.039485087567133176:e[48]>1e-35?yt=-.04707407726639779:e[49]>1e-35?yt=-.0644727439161007:e[47]>1e-35?yt=-.03586301268310228:e[52]>1e-35?yt=-.08213761833929575:e[60]>1e-35?yt=-.036939376764301805:e[22]>1e-35?yt=-.02264827779335228:e[153]>1e-35?e[24]>1e-35?yt=.03651632275248908:yt=-.010403215174169965:e[18]>1e-35?e[31]>1e-35?yt=.17011943799802248:yt=-.024083374989820074:e[147]>1e-35?yt=-.05792387046048145:e[39]>1e-35?yt=-.019000152117179:e[54]>1e-35?yt=-.09256681585621543:e[50]>1e-35?yt=-.06535283940797192:e[187]>1e-35?yt=-.023020538580498528:e[149]>1e-35?yt=-.09670391878996044:e[8]>1e-35?e[6]>5.865049616265698?yt=.0007122257672540384:yt=-.024203929126070334:e[55]>1e-35?yt=-.10687519344783902:e[21]>1e-35?yt=-.019836359134795922:yt=.0028141634686288143:e[153]>1e-35?yt=-.044827592367532504:yt=-.009894012855110334:e[140]>1e-35?e[18]>1e-35?yt=.060584003745668275:yt=-.015006980258423744:e[6]>5.161920636569023?e[125]>1e-35?yt=-.021624709427283298:yt=.0035264081894521636:yt=-.0030260520850755417;let Kt;e[57]>1e-35?Kt=-.06665941268716478:e[2]>5.4049245766661995?Kt=-.0048763725607228565:e[17]>1e-35?Kt=.012937023835595996:e[91]>1e-35?Kt=-.032642493399923284:e[40]>1e-35?Kt=-.04355571234278559:e[14]>1e-35?e[217]>1e-35?Kt=-.030555708374197955:Kt=.010895997063478696:e[1]>1e-35?e[99]>1e-35?Kt=.016029829045206837:e[114]>1e-35?Kt=.017475123428921584:e[139]>1e-35?Kt=-.042037981483985604:e[210]>1e-35?e[29]>1e-35?Kt=.015395913258454092:Kt=-.024779051599098958:e[90]>1e-35?Kt=-.09436512907953146:e[25]>1e-35?Kt=-.0385103760507401:e[113]>1e-35?Kt=.014955995782471:e[208]>1e-35?Kt=.01363101947809469:Kt=.0004708078358576994:e[29]>1e-35?Kt=-.02567148566035587:e[217]>1e-35?Kt=.017896286118860596:e[118]>1e-35?Kt=-.04366196842115269:e[144]>1e-35?Kt=-.04332564222613586:e[54]>1e-35?Kt=-.08095356842154083:e[31]>1e-35?e[15]>1e-35?Kt=-.12797365603832508:Kt=.05407709367007049:e[56]>1e-35?Kt=.030874690971051524:e[148]>1e-35?Kt=-.06664437092250396:e[50]>1e-35?Kt=-.05710031053092695:e[114]>1e-35?e[18]>1e-35?Kt=-.12348764088627251:Kt=-.014081947133593207:e[147]>1e-35?Kt=-.044629298717173554:Kt=-.000742893245658901;let Xt;e[138]>1e-35?Xt=.008266725465725232:e[1]>1e-35?e[37]>1e-35?Xt=-.06288072801700428:e[114]>1e-35?Xt=.01701875404216428:e[128]>1e-35?Xt=-.022207708344996902:e[113]>1e-35?e[24]>1e-35?Xt=.08078133512323216:Xt=.010126216487392538:e[11]>1e-35?e[58]>1e-35?Xt=-.0542116306120395:Xt=-.004962440421854299:e[155]>1e-35?e[30]>1e-35?Xt=.02107443326718807:Xt=-.01069225359959257:Xt=.0009105709984003484:e[218]>1e-35?Xt=.05160355321154702:e[134]>1e-35?Xt=.006114948378400552:e[121]>1e-35?Xt=.016106484014031797:e[89]>1e-35?Xt=.01912348851711998:e[56]>1e-35?Xt=.029777849606436514:e[157]>1e-35?Xt=.04060172642469715:e[31]>1e-35?Xt=.040190765597096945:e[115]>1e-35?Xt=.038285461163007885:e[144]>1e-35?Xt=-.04397941351839926:e[53]>1e-35?Xt=-.09153555712989248:e[34]>1e-35?Xt=.05063635650139542:e[145]>1e-35?Xt=-.05531793235403996:e[18]>1e-35?e[142]>1e-35?Xt=.050915836711889595:Xt=-.038668153033606156:e[142]>1e-35?Xt=-.03161888799270195:e[21]>1e-35?Xt=-.039152400008548416:e[147]>1e-35?Xt=-.06369054146375448:e[146]>1e-35?Xt=-.06687062048733548:e[143]>1e-35?Xt=-.0374398909044375:Xt=-.004075281311375503;let lr;e[19]>1e-35?lr=.011138060439416179:e[7]>.054053454943712505?e[17]>1e-35?e[30]>1e-35?lr=.031458353209402545:lr=.006712963530887799:e[135]>1e-35?lr=-.008268741342836259:e[60]>1e-35?lr=-.026373116795568554:e[7]>.8375851232899904?e[3]>2.602003343538398?e[6]>4.832297822126891?lr=.001164103411669833:e[8]>1e-35?lr=-.04419920795209664:lr=-.007580602414427876:e[6]>3.417592293073651?e[6]>8.80963889693121?lr=-.00653283113371423:e[8]>1e-35?e[125]>1e-35?lr=-.10156793652811894:lr=-.004200534838133274:e[18]>1e-35?lr=-.01192673279840267:lr=.007421951916920296:e[7]>.9626084674797213?e[29]>1e-35?e[6]>2.970085626360216?lr=-.0032059430383565256:lr=.05159315082197918:e[8]>1e-35?lr=-.0890031715943104:e[22]>1e-35?lr=-.16814104441488775:e[12]>1e-35?e[100]>1e-35?lr=.1021284677424052:lr=-.13655977142603173:lr=.09393254504800182:lr=-.0008030674521708154:e[153]>1e-35?e[18]>1e-35?lr=.028570793527563892:lr=-.01146507406243734:e[125]>1e-35?e[3]>1e-35?lr=-.04344386283066575:lr=.049543778722220704:e[47]>1e-35?lr=-.025602694767462936:lr=41633336342102227e-21:e[3]>2.3502401828962087?e[3]>3.3497501700808394?lr=-.018924000087166926:lr=.005374758944061522:e[14]>1e-35?lr=.02825013192303339:lr=-.028367959366723622;let ge;e[190]>1e-35?ge=-.033259392758942484:e[4]>2.4414009612931857?e[123]>1e-35?ge=-.030965448877928344:e[150]>1e-35?ge=-.05353588365501967:e[53]>1e-35?ge=-.07322459471644706:e[0]>1e-35?e[6]>6.9012339353508745?ge=.007566110700214329:e[4]>3.0677824455408698?e[7]>.5242163672259389?e[8]>1e-35?e[6]>4.722943345003718?ge=-.00508197369229565:e[4]>3.5694334999727624?ge=-.09566908841488272:ge=-.009799018561370653:e[29]>1e-35?ge=.01134634874419129:ge=-.008480456528154491:ge=-.010775036248093376:ge=.006611525544742429:e[23]>1e-35?ge=.01761735039511882:e[19]>1e-35?ge=.01278442042249664:ge=-.0002242132003162585:e[186]>1e-35?ge=-.1282956565830828:e[99]>1e-35?ge=.018493666625505303:e[141]>1e-35?ge=-.026024552608676074:e[29]>1e-35?e[5]>3.5694334999727624?e[217]>1e-35?ge=.010089877008871859:e[7]>.9569480028661056?ge=-.0021891593882122327:ge=-.019455050281455402:e[7]>.960816451500545?ge=-.13777176433158442:ge=.02722608122697913:e[28]>1e-35?e[194]>1e-35?ge=.09549833737461155:ge=.012447932823540411:e[129]>1e-35?e[26]>1e-35?ge=.147381625399948:ge=-.03418523266130075:e[7]>.26911173821332884?ge=.0014660191124088442:e[217]>1e-35?ge=-.08282397562490618:e[210]>1e-35?ge=-.0386848317545183:ge=-.001892646396528824;let Me;e[57]>1e-35?Me=-.059790543460520464:e[55]>1e-35?Me=-.06524069243313577:e[3]>4.283562780082224?e[37]>1e-35?Me=-.054605342954169904:Me=-.006343751747681404:e[17]>1e-35?Me=.011961708215735271:e[40]>1e-35?Me=-.04296088601962452:e[6]>1e-35?e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?Me=-.026498922218692673:Me=.10501477027016158:e[6]>4.03420147928485?Me=.012792216148037112:e[7]>.9830997303909479?Me=-.2271005546552327:Me=-.008348690537914538:e[9]>1e-35?e[153]>1e-35?e[7]>.20588252599634785?Me=-.004842123367456505:Me=-.03575275485660392:e[99]>1e-35?e[1]>1e-35?Me=.032397176999597294:Me=-.0033271937210452387:e[204]>1e-35?Me=.02154799118278769:Me=.0034498877728340095:e[28]>1e-35?e[6]>3.0677824455408698?e[6]>5.5816130673839615?Me=.01602715871650751:e[7]>.9901971344332651?e[194]>1e-35?Me=-.21161676626091178:e[127]>1e-35?Me=-.4024450297968636:Me=-.030976570087232314:Me=.0031980605341801454:Me=.07943810970798848:e[135]>1e-35?Me=-.00869354055420051:e[123]>1e-35?Me=-.022241787113206086:e[62]>1e-35?Me=.037165483434744594:e[7]>.04507521918085865?e[21]>1e-35?Me=-.013433718654288605:e[155]>1e-35?Me=.00919342834132915:Me=-.0002729025327531227:Me=-.012537468897218136:Me=-.07894994665155514;let Je;e[4]>.8958797346140276?e[14]>1e-35?Je=.007800140351631253:e[138]>1e-35?Je=.007294945388686309:e[1]>1e-35?e[32]>1e-35?e[28]>1e-35?Je=.09462192942805535:Je=-.06376046128949985:e[37]>1e-35?Je=-.06442220885770956:e[140]>1e-35?e[30]>1e-35?Je=-.09261012186873348:Je=-.015294712278584928:e[98]>1e-35?Je=.019329173498247088:e[58]>1e-35?Je=-.026405515460271967:e[5]>8.608586615680721?e[4]>2.602003343538398?Je=6125118307170923e-20:Je=-.009497787119169794:e[40]>1e-35?Je=-.05491317248554455:e[7]>.30853255358841714?Je=.003951848833690266:Je=-.0021827028977256715:e[219]>1e-35?Je=-.03918852409108207:e[98]>1e-35?Je=-.025490621458423603:e[218]>1e-35?Je=.04685239586600909:e[4]>2.970085626360216?e[152]>1e-35?Je=.019288400231624092:e[132]>1e-35?Je=.04845025214421127:e[157]>1e-35?Je=.03681235344369351:e[18]>1e-35?Je=-.034132162265456074:e[48]>1e-35?Je=-.04861483835690636:e[142]>1e-35?Je=-.031057400959951156:e[148]>1e-35?Je=-.06903688486009983:Je=-.004426858558248682:e[31]>1e-35?Je=.06983425899920179:Je=.002335587968443938:e[19]>1e-35?Je=.04178364096434334:e[123]>1e-35?Je=.03954255208630935:e[62]>1e-35?Je=.07169067239737285:Je=-.022094630155173406;let rt;e[190]>1e-35?rt=-.029705030481716018:e[2]>2.4414009612931857?e[125]>1e-35?e[3]>1e-35?rt=-.052080713549693486:rt=.015237248725743169:e[49]>1e-35?rt=-.05738028956460733:e[28]>1e-35?rt=.015629889576502864:e[14]>1e-35?rt=.007178838639724632:e[217]>1e-35?rt=.006873744757442591:e[3]>.8958797346140276?rt=-.0009297977761919447:e[4]>2.740319461670996?rt=-.0032588616048005344:e[209]>1e-35?rt=-.09352716353634213:rt=-.015820890219545396:e[0]>1e-35?e[2]>.8958797346140276?e[30]>1e-35?rt=.019248760742983276:e[3]>2.861792550976191?e[6]>8.372051799062541?rt=.011687619771455333:rt=-.014380012538782239:rt=.007119108038702808:e[5]>4.424828703319957?e[3]>2.249904835165133?rt=-.004571416888569663:e[4]>.8958797346140276?e[2]>1e-35?rt=.03291298609827498:rt=.056149641245301286:e[6]>5.66469358412419?rt=.03259771207074825:rt=-.09357704176112766:e[135]>1e-35?e[4]>3.1132683346437333?e[4]>3.276966702012906?rt=-.061655392996083594:rt=-.32745698278768204:rt=.05791789791717941:rt=-.018505458368810124:e[2]>1.2424533248940002?rt=.0026761409362875913:e[3]>1e-35?e[30]>1e-35?e[210]>1e-35?rt=-.039544237504098204:rt=-.00840469876565937:e[138]>1e-35?rt=-.03964217397514852:rt=-4311139741723525e-22:e[5]>6.136645972583987?rt=-.022772355719852342:rt=.00817231129409795;let Rt;e[91]>1e-35?Rt=-.028069212077752072:e[2]>5.1209788959100075?e[25]>1e-35?e[4]>3.314020688089767?Rt=-.07374751231467579:Rt=-.012603466600012023:Rt=-.003323309316995181:e[0]>1e-35?e[2]>1.2424533248940002?e[11]>1e-35?Rt=-.008138434386494645:e[2]>1.8688348091416842?e[18]>1e-35?Rt=-.021752576521312197:e[142]>1e-35?Rt=-.03703704004008216:e[21]>1e-35?Rt=-.031901873695323615:Rt=.0007949433315561949:e[156]>1e-35?Rt=.04622194605125366:Rt=.007164185384903575:e[156]>1e-35?Rt=.05649230717257425:e[192]>1e-35?Rt=-.14560972428612223:e[144]>1e-35?Rt=-.0847860756426489:e[4]>.8958797346140276?e[2]>.8958797346140276?Rt=.009443385055723438:e[9]>1e-35?Rt=.0384706300742172:e[7]>.9738681190948303?e[7]>.9983480540068196?Rt=.03566002120217884:e[125]>1e-35?Rt=-.08601531943220733:e[28]>1e-35?Rt=-.07136595081940608:Rt=.005430826378707227:Rt=.026279964393698674:e[2]>.8958797346140276?Rt=.025916235406054845:Rt=-.05093685243097706:e[2]>.8958797346140276?e[4]>2.4414009612931857?e[22]>1e-35?Rt=-.018458649485324576:e[123]>1e-35?Rt=-.027048533130577097:e[9]>1e-35?Rt=.005768627348361876:Rt=.0011976274380886302:e[196]>1e-35?Rt=.024074476840894424:Rt=-.0040891042038809855:e[156]>1e-35?Rt=-.03722816735059365:Rt=-.004021663177778795;let Et;e[57]>1e-35?Et=-.054174378986311306:e[55]>1e-35?Et=-.05937408126377534:e[35]>1e-35?Et=-.06355743050048665:e[52]>1e-35?Et=-.049028563645544726:e[10]>1e-35?e[152]>1e-35?Et=.023779508772836917:e[217]>1e-35?Et=.00760039749111183:Et=-.005758267779536595:e[6]>1e-35?e[50]>1e-35?Et=-.03899686693288482:e[53]>1e-35?Et=-.06158372699069763:e[19]>1e-35?Et=.009506113370718208:e[154]>1e-35?Et=-.021220440237800273:e[129]>1e-35?e[26]>1e-35?Et=.12643307498280917:Et=-.02322694568396696:e[49]>1e-35?Et=-.03489161935560748:e[173]>1e-35?Et=-.041310484369004336:e[116]>1e-35?Et=-.026931019221510855:e[150]>1e-35?Et=-.04336081700276943:e[46]>1e-35?Et=-.01503021840754708:e[21]>1e-35?Et=-.011723313966476847:e[187]>1e-35?e[30]>1e-35?Et=.029035482597327224:Et=-.020238143126606493:e[22]>1e-35?Et=-.0092659038594408:e[6]>8.954867306462836?Et=-.002270298325316596:e[25]>1e-35?e[1]>1e-35?e[152]>1e-35?Et=.025059955137215612:Et=-.058962720741665454:Et=4061285457160542e-20:e[7]>.787025207541384?Et=.0045073893285534905:e[156]>1e-35?Et=-.00956127321029558:e[153]>1e-35?Et=-.006428735642845697:Et=.0020065887307204903:Et=-.07142994726664682;let Mt;e[190]>1e-35?Mt=-.026482483927372538:e[11]>1e-35?e[153]>1e-35?Mt=-.019448665116575673:e[46]>1e-35?Mt=-.046207503035123526:e[143]>1e-35?Mt=-.060693025841649276:e[125]>1e-35?Mt=-.0635615784828548:Mt=-.0020226769939179086:e[10]>1e-35?e[152]>1e-35?Mt=.021657999498329004:e[217]>1e-35?Mt=.006867901248533881:e[186]>1e-35?Mt=-.17526174685635476:e[7]>.3736576099860928?e[125]>1e-35?Mt=-.06860813037660739:Mt=-.0030373931794416857:e[153]>1e-35?Mt=-.036659407900460406:Mt=-.009138716679401575:e[8]>1e-35?e[141]>1e-35?Mt=.022488528656368925:Mt=-.004824813956579289:e[155]>1e-35?e[29]>1e-35?Mt=-.0923825728762917:Mt=.013279779321478072:e[13]>1e-35?e[29]>1e-35?Mt=-.02015430689927317:Mt=-.0014075476679032272:e[21]>1e-35?Mt=-.010052866682366596:e[15]>1e-35?e[127]>1e-35?Mt=-.11613127921904604:Mt=-.004425492436566155:e[61]>1e-35?Mt=-.04761391619756717:e[38]>1e-35?Mt=.010790742168686546:e[138]>1e-35?e[25]>1e-35?Mt=-.03936956646884221:Mt=.012187893435100131:e[18]>1e-35?e[46]>1e-35?Mt=.052404637972043124:e[29]>1e-35?e[219]>1e-35?Mt=-.026128288926960785:Mt=.01402455905339408:Mt=-.018095204676971146:Mt=.002238241111198228;let Ot;e[3]>4.993822430271426?Ot=-.021704560089024494:e[39]>1e-35?Ot=-.012978601337522922:e[57]>1e-35?Ot=-.04850734344953324:e[190]>1e-35?Ot=-.02323817835232452:e[55]>1e-35?Ot=-.054265924680079236:e[144]>1e-35?Ot=-.020797331827991154:e[52]>1e-35?Ot=-.04407078296749134:e[50]>1e-35?Ot=-.03531075513550682:e[14]>1e-35?e[217]>1e-35?Ot=-.02603818360896512:Ot=.00845420085528292:e[90]>1e-35?e[3]>3.5114340430413216?Ot=.010289606334961197:Ot=-.10259966877314837:e[139]>1e-35?Ot=-.01903913128660918:e[17]>1e-35?e[30]>1e-35?Ot=.027295226228104732:e[38]>1e-35?Ot=.036847447575421244:e[3]>2.861792550976191?Ot=-.016454620470329126:Ot=.010475083165212631:e[19]>1e-35?Ot=.008675111927467:e[40]>1e-35?Ot=-.036362054443170776:e[9]>1e-35?Ot=.0031294075955568394:e[123]>1e-35?Ot=-.02131953072683769:e[24]>1e-35?e[113]>1e-35?e[3]>2.602003343538398?Ot=-.005045224468848018:e[3]>2.3502401828962087?Ot=.1006727710215487:Ot=-.21606952724358763:e[209]>1e-35?Ot=-.07903381656359819:Ot=.0099843967860757:e[28]>1e-35?Ot=.009909672751437115:e[155]>1e-35?e[3]>3.941534675652877?Ot=.04961274235179155:Ot=.005113567009198253:e[158]>1e-35?Ot=.031566828492110836:Ot=-.0012534895812835874;let _t;e[4]>2.4414009612931857?e[123]>1e-35?_t=-.022743199998420272:e[47]>1e-35?_t=-.02199867034393067:e[3]>3.238486181444842?e[155]>1e-35?_t=.015256601991879549:e[23]>1e-35?_t=.01997791344831838:e[97]>1e-35?_t=.024977281654938052:e[218]>1e-35?_t=.031730655567930977:e[32]>1e-35?e[1]>1e-35?_t=-.05855958691798028:_t=-.009630189044251312:e[195]>1e-35?_t=-.009842090802252708:e[125]>1e-35?_t=-.030084333742373532:_t=-.0009935375527704107:e[135]>1e-35?_t=-.006040875366017567:e[43]>1e-35?_t=-.03616920022546756:e[44]>1e-35?_t=-.014787601622259254:e[0]>1e-35?_t=.005949240867095038:_t=.0018435357767462809:e[141]>1e-35?e[3]>1e-35?_t=-.030610116678182732:_t=.01960307197844505:e[3]>1.2424533248940002?e[101]>1e-35?_t=-.04366907994393087:e[28]>1e-35?e[194]>1e-35?_t=.0927536258129216:_t=.00806369969474508:e[198]>1e-35?_t=.03402296877725087:_t=-.00033907517363096143:e[194]>1e-35?e[19]>1e-35?_t=-.16957712930341856:e[28]>1e-35?_t=-.2078243840685859:_t=-.01982072284112783:e[134]>1e-35?_t=-.059093837808976674:e[155]>1e-35?_t=-.11429749518431415:e[1]>1e-35?e[123]>1e-35?_t=.04159085402090426:_t=-.0053579302271092874:_t=-.038428527597709254;let kt;e[2]>2.249904835165133?e[53]>1e-35?kt=-.09149569302330776:e[142]>1e-35?kt=-.020143603866796752:e[29]>1e-35?e[1]>1e-35?e[4]>2.740319461670996?e[0]>1e-35?kt=-.005838073295705989:kt=.0025448179376697196:e[217]>1e-35?kt=.010391363152324442:e[6]>3.9219243190762363?e[7]>.9546729796082215?kt=.00016709708501075782:kt=-.019274537854809464:e[7]>.9717523368299734?e[2]>4.848108675189105?kt=.0038332904395533517:e[141]>1e-35?e[6]>3.0677824455408698?kt=-.12592300140122323:kt=-1.2073741246841418:kt=-.17682453022795175:kt=-.004373737265888883:kt=-.032810714691009164:e[18]>1e-35?kt=-.024280045660709612:e[156]>1e-35?kt=-.023509654115095334:e[1]>1e-35?e[141]>1e-35?kt=-.032438707623116556:e[32]>1e-35?kt=-.061272201063817755:kt=.004415514992097752:kt=-.0017176659108089432:e[0]>1e-35?e[6]>6.288787065535392?e[2]>.8958797346140276?kt=.008680085548304642:e[29]>1e-35?kt=.03767506445697859:kt=-.0007537359215762705:e[4]>.8958797346140276?kt=.0002799056937607271:kt=-.039667032027283916:e[2]>1.2424533248940002?kt=.002506908961838236:e[29]>1e-35?e[7]>.950335336459789?kt=.0027367426972748597:kt=-.021265206402010337:e[30]>1e-35?e[210]>1e-35?kt=-.03496264625173957:kt=-.007705718616493613:e[138]>1e-35?kt=-.035840689909527164:kt=.0006855012949462712;let St;e[2]>5.418317700738354?e[5]>6.0051201133541365?e[156]>1e-35?St=-.024776046248283234:St=-.004761578172448051:e[8]>1e-35?St=-.025343070913887773:St=.012224469039913016:e[150]>1e-35?St=-.04079051452350429:e[10]>1e-35?e[152]>1e-35?St=.019743419118584654:e[186]>1e-35?St=-.15575093795294756:e[217]>1e-35?St=.0056968023991711995:St=-.004356449942923164:e[5]>6.0051201133541365?e[125]>1e-35?St=-.01597803134795572:e[151]>1e-35?St=-.05058454115923059:e[50]>1e-35?St=-.03619853041443809:e[49]>1e-35?St=-.03261722685392842:e[24]>1e-35?St=.011909155984778505:e[2]>2.012675845367575?St=.0004933624031973823:e[219]>1e-35?St=.015579421213152617:St=.002812703494519415:e[113]>1e-35?e[24]>1e-35?St=.09675188599473092:St=.0008025077587732017:e[204]>1e-35?e[9]>1e-35?e[5]>3.772694874805912?St=.02609533140492082:e[29]>1e-35?St=-.21256031284758028:St=.09442590919716193:St=-.004086903422513798:e[24]>1e-35?e[5]>3.979637980058199?St=-.011071875945121415:e[209]>1e-35?St=-.19367443751378252:St=-.04414838576908475:e[178]>1e-35?St=-.06538606241685795:e[100]>1e-35?e[5]>3.772694874805912?St=-.01294941588968201:e[5]>2.673553765358735?St=.08150000027300734:St=-.08989919051554107:St=-.0032151101072856354;let qt;e[35]>1e-35?qt=-.05704221149718709:e[91]>1e-35?qt=-.023832002943165256:e[102]>1e-35?qt=.015441451551750014:e[3]>4.993822430271426?qt=-.020159490027748073:e[4]>2.3502401828962087?e[144]>1e-35?qt=-.022873219553742163:e[22]>1e-35?qt=-.01287591196884623:e[47]>1e-35?e[18]>1e-35?qt=.07657102696661595:qt=-.0243921910773003:e[150]>1e-35?qt=-.043982850497096056:e[138]>1e-35?e[25]>1e-35?qt=-.03740348349716821:qt=.008237493112057112:e[49]>1e-35?qt=-.03254806921800082:e[53]>1e-35?qt=-.057370285686186163:e[3]>4.085941003063911?e[37]>1e-35?qt=-.04084726667137505:e[155]>1e-35?qt=.0323666619020495:qt=-.0038866525930422893:e[118]>1e-35?e[18]>1e-35?qt=-.0975422096275863:qt=-.014038224866250074:e[136]>1e-35?qt=-.03199938604211209:qt=.0014268928516615767:e[99]>1e-35?qt=.018668567929263327:e[5]>7.334002872979111?e[156]>1e-35?qt=-.05380541629812827:e[210]>1e-35?e[30]>1e-35?qt=-.047112416583853595:qt=.00900546030963941:e[208]>1e-35?qt=.02334424121914086:e[158]>1e-35?qt=.04595592178250823:qt=-.006709820970668842:e[204]>1e-35?e[5]>3.772694874805912?qt=.009489783712825852:e[3]>2.249904835165133?qt=.09999429949553015:qt=-.03961464289941561:qt=-.001190853283470586;let $t;e[39]>1e-35?$t=-.011391872842603505:e[190]>1e-35?$t=-.021093147889461955:e[51]>1e-35?e[18]>1e-35?$t=.08723256651643213:$t=-.04233732133209843:e[19]>1e-35?$t=.008078856044745801:e[4]>.8958797346140276?e[60]>1e-35?$t=-.022165860715145688:e[129]>1e-35?e[3]>3.314020688089767?$t=.019990677612126993:$t=-.035520772730423776:e[153]>1e-35?e[2]>.8958797346140276?$t=-.006946377120973384:e[0]>1e-35?e[8]>1e-35?e[5]>5.692045796563381?$t=.04230611914121616:$t=-.1152833284663223:$t=.03987788751961305:$t=-.02748865099804465:e[46]>1e-35?e[18]>1e-35?$t=.047655531405650486:$t=-.022707509947190632:e[18]>1e-35?e[3]>.8958797346140276?e[31]>1e-35?$t=.1425984397283696:e[143]>1e-35?$t=.05597721538261218:$t=-.02117927246804007:$t=.011077153043550766:e[143]>1e-35?$t=-.0158979963012007:e[187]>1e-35?e[30]>1e-35?$t=.02515771028113912:$t=-.019084229614362958:e[49]>1e-35?e[1]>1e-35?$t=.014623537050735559:$t=-.05320125987679328:e[58]>1e-35?e[3]>3.1132683346437333?$t=.021421346835282216:$t=-.03287702034784505:e[16]>1e-35?$t=.008645735809593434:e[3]>4.993822430271426?$t=-.01889537207927676:$t=.00131546333396141:e[153]>1e-35?$t=-.09822789507794744:$t=-.010292962989428067;let Zt;e[11]>1e-35?e[156]>1e-35?e[4]>3.1132683346437333?Zt=-.009153166060719259:Zt=-.035386636811765286:e[58]>1e-35?Zt=-.03881024236774208:e[153]>1e-35?e[7]>.12645023619128054?Zt=-.01286680669029116:Zt=-.0573874491021103:e[3]>3.276966702012906?e[38]>1e-35?Zt=-.03084033316462023:Zt=-.00517175216868761:e[195]>1e-35?Zt=.01773824295809578:e[131]>1e-35?Zt=-.17828043850421407:Zt=.0005554487984838318:e[7]>.14547530463198097?e[105]>1e-35?Zt=-.018589129226123456:e[116]>1e-35?Zt=-.0227108777687536:e[24]>1e-35?Zt=.009520152980411787:e[135]>1e-35?Zt=-.004364970908897872:e[0]>1e-35?e[18]>1e-35?Zt=-.015737703364129243:Zt=.003711277180349787:e[12]>1e-35?e[4]>3.540854293052788?e[155]>1e-35?Zt=.04655165952772795:Zt=.009321761971665682:e[210]>1e-35?Zt=.018839890489201528:e[129]>1e-35?Zt=-.03111680952187252:Zt=.0002649813454447912:e[23]>1e-35?Zt=.014110539528977999:e[109]>1e-35?Zt=.014168740682742625:Zt=-.0008607565404007093:e[3]>2.3502401828962087?e[9]>1e-35?e[4]>3.3842466058243152?Zt=-.004252607769147212:Zt=.02017003996344357:e[16]>1e-35?Zt=.01594899805169211:Zt=-.006372071796745688:e[12]>1e-35?Zt=-.0251011457777017:e[121]>1e-35?Zt=-.07822588279288774:Zt=-.005026529762858;let dr;e[7]>.8375851232899904?e[155]>1e-35?e[3]>1.2424533248940002?dr=.014982109981371684:dr=-.08302064203662592:e[3]>2.602003343538398?e[125]>1e-35?dr=-.02862612402789537:dr=-.0004831913476108919:e[42]>1e-35?dr=-.08030278175390543:e[90]>1e-35?dr=-.11931838045625616:dr=.003328726909052652:e[125]>1e-35?e[3]>1e-35?dr=-.03347653784336098:dr=.0381767649776156:e[3]>2.4414009612931857?e[3]>3.1132683346437333?e[137]>1e-35?dr=.04078434374172937:e[130]>1e-35?dr=.04811471469938318:e[152]>1e-35?dr=.012079515899716571:e[23]>1e-35?dr=.017817807971301534:e[122]>1e-35?dr=.049338146544587284:e[115]>1e-35?dr=.026905923036994708:e[10]>1e-35?dr=-.008135082370740723:e[89]>1e-35?dr=.023584069012120446:e[95]>1e-35?dr=.013988944683250695:dr=-.002584756192745314:e[139]>1e-35?dr=-.04454469703180858:e[99]>1e-35?e[3]>2.524928003624769?dr=.010620580427538877:dr=.047779724434429495:e[131]>1e-35?dr=-.08155143867377633:dr=.0031488702256745843:e[7]>.06275229375044648?e[99]>1e-35?dr=.016956254821045937:e[90]>1e-35?dr=-.11685880917620971:e[210]>1e-35?e[11]>1e-35?dr=-.040607887814632475:dr=-.006287900824728332:dr=-.0018997472673294537:e[14]>1e-35?dr=.02358706984105576:dr=-.01737075534918072;let xr;e[6]>1e-35?e[2]>5.4049245766661995?e[5]>6.441743353550561?e[29]>1e-35?e[4]>2.673553765358735?xr=-.007517267159018327:xr=-.02379463821120899:xr=-.0026543290628044274:e[8]>1e-35?xr=-.022865480180725452:xr=.009005117181880752:e[6]>5.161920636569023?e[0]>1e-35?e[2]>.8958797346140276?e[2]>2.012675845367575?e[3]>2.3502401828962087?xr=.0021573820428423146:xr=-.0046125093600082965:e[3]>3.314020688089767?xr=-.005566488595229649:e[6]>6.288787065535392?xr=.012796965207082116:xr=-.0023971957228440767:e[3]>2.249904835165133?e[2]>1e-35?xr=-.0003832411399288501:e[1]>1e-35?xr=-.03148874544425103:xr=-.3158553329522586:e[2]>1e-35?xr=.025981575700247922:xr=.052944809618023905:e[6]>8.681774988134558?e[3]>2.970085626360216?xr=-.0005280655103032829:xr=-.009402467452152188:e[2]>.8958797346140276?xr=.0018798828715775142:e[3]>1.7005986908310777?xr=-.0002583719758369029:xr=-.014467497542301198:e[128]>1e-35?xr=-.03075061856353219:e[3]>3.0201273556387074?e[8]>1e-35?xr=-.03107874404542307:xr=-.0063178690978266385:e[113]>1e-35?e[24]>1e-35?xr=.10168122236339333:xr=.0027676566086997536:e[100]>1e-35?e[3]>1.4978661367769956?xr=-.019182725682091863:e[3]>1.2424533248940002?xr=.10007959215270637:xr=-.049901874168813753:e[12]>1e-35?xr=-.008354674563617942:xr=.000556773623388255:xr=-.06338083699889271;let ur;e[14]>1e-35?e[5]>7.841296344941067?e[217]>1e-35?ur=-.03452197748259044:e[141]>1e-35?ur=-.05526745933972476:ur=.003096257901065188:ur=.013468654879205778:e[90]>1e-35?ur=-.04633994478668718:e[7]>.04507521918085865?e[39]>1e-35?ur=-.011427282692256308:e[188]>1e-35?ur=-.11824461537515621:e[17]>1e-35?e[5]>3.276966702012906?ur=.009014346731620665:ur=-.10784986305366669:e[102]>1e-35?ur=.014356846380168074:e[109]>1e-35?ur=.0100955463134877:e[31]>1e-35?ur=.025672511171270042:e[127]>1e-35?ur=-.10904631172619624:e[19]>1e-35?ur=.007015456473363717:e[60]>1e-35?ur=-.02409044800892067:e[217]>1e-35?e[7]>.9914949911911836?ur=.02334115299069277:e[1]>1e-35?ur=-29013080593250377e-21:ur=.014307421165143329:e[1]>1e-35?e[42]>1e-35?ur=-.06673983904970003:e[37]>1e-35?ur=-.05636396687178933:e[32]>1e-35?ur=-.042854874962508754:e[140]>1e-35?ur=-.014546243613252019:e[119]>1e-35?ur=.02592806792359847:ur=.0008331579108247542:e[12]>1e-35?ur=.004348565717870661:e[195]>1e-35?ur=-.016064193157584304:e[210]>1e-35?ur=-.01896835246692864:e[122]>1e-35?ur=.06415669138405272:e[219]>1e-35?ur=-.03191239858069586:ur=-.0022170295258555585:ur=-.00965022020696389;let mr;e[55]>1e-35?mr=-.04649484416236924:e[6]>1e-35?e[35]>1e-35?mr=-.04814595674860986:e[173]>1e-35?mr=-.030965289355370126:e[190]>1e-35?mr=-.01892908615035444:e[50]>1e-35?mr=-.03023310323845746:e[14]>1e-35?e[134]>1e-35?mr=.029102388421738776:e[217]>1e-35?mr=-.021829759931582565:mr=.005209049556942947:e[90]>1e-35?e[3]>3.276966702012906?mr=.007482519637019732:e[28]>1e-35?mr=.08823476156200263:mr=-.1134870648564767:e[17]>1e-35?e[5]>3.156774023138548?e[3]>2.861792550976191?e[134]>1e-35?mr=.037573808092493166:mr=-.008120569804875069:mr=.015185866424900767:mr=-.10150107137017012:e[39]>1e-35?mr=-.011108691883331833:e[4]>2.4414009612931857?e[123]>1e-35?mr=-.019406534412652932:e[22]>1e-35?mr=-.011646225036274034:e[118]>1e-35?e[1]>1e-35?mr=.007977856608752276:mr=-.038946271309380914:mr=.0009257226566265858:e[101]>1e-35?e[6]>5.769881059461895?mr=-.06484570063989317:mr=.016294764421436982:e[29]>1e-35?e[204]>1e-35?e[5]>5.859359688974663?mr=.036329398743295674:mr=-.20474934656494398:e[4]>1.7005986908310777?mr=-.0005630875641286038:e[5]>3.5694334999727624?e[19]>1e-35?mr=.03322386202318951:mr=-.01687696637036405:mr=-.10533305728771972:mr=-.0004901077590279651:mr=-.05758869249681345;let nr;e[57]>1e-35?nr=-.043478488738181505:e[53]>1e-35?nr=-.05188532777589009:e[11]>1e-35?e[156]>1e-35?nr=-.01733439245316815:e[58]>1e-35?nr=-.03508850349398082:e[134]>1e-35?e[38]>1e-35?e[3]>3.156774023138548?nr=-.02641618586067251:nr=.0053883499998111746:nr=-.04111067521339709:e[46]>1e-35?nr=-.03960880739147387:e[56]>1e-35?nr=.02833430038101972:e[3]>4.548585836935273?nr=-.028156779064728323:nr=-.0006287807275955149:e[105]>1e-35?nr=-.018589321466431944:e[187]>1e-35?e[30]>1e-35?nr=.021938681282791916:nr=-.016917430307970042:e[7]>.015258684697466883?e[132]>1e-35?nr=.026815659384164206:e[204]>1e-35?e[7]>.992067132663463?nr=-.010565408217521758:e[7]>.9738681190948303?e[9]>1e-35?e[30]>1e-35?nr=.09345774314045512:nr=-.003460687191126055:nr=.009778848673591349:nr=.006207652194161698:e[134]>1e-35?e[14]>1e-35?nr=.026940863472122597:nr=.004032635910042969:e[16]>1e-35?e[156]>1e-35?nr=-.014571620220052964:e[219]>1e-35?nr=.03394257525872151:e[189]>1e-35?nr=-.16441255476933125:nr=.006890416623408193:e[7]>.5866799179067689?e[156]>1e-35?e[9]>1e-35?nr=-.002374233797129139:nr=.015343494638416642:nr=.0007085956801478842:nr=-.0014226167854637043:nr=-.014931890774210171;let hr;e[52]>1e-35?hr=-.040552145534119004:e[88]>1e-35?hr=-.11616238297789526:e[147]>1e-35?e[21]>1e-35?hr=.08405882357263977:hr=-.028120036866471673:e[89]>1e-35?hr=.013417411709807947:e[138]>1e-35?e[25]>1e-35?hr=-.03104795267483152:e[8]>1e-35?hr=-.013793892541819341:hr=.007067793368543704:e[3]>4.212100162283537?e[37]>1e-35?hr=-.04169781427571004:e[59]>1e-35?hr=.039366779099462186:e[190]>1e-35?hr=-.0746572875957972:hr=-.0046665287028623895:e[31]>1e-35?e[3]>3.3497501700808394?hr=-.015043885860062665:hr=.04427790295514171:e[127]>1e-35?hr=-.09222397003880911:e[188]>1e-35?hr=-.11791399942046604:e[116]>1e-35?hr=-.022670774074606673:e[21]>1e-35?e[118]>1e-35?hr=-.08590814127371893:hr=-.009079159755287763:e[10]>1e-35?e[153]>1e-35?e[7]>.12025037553499339?hr=-.010834658570263708:hr=-.06942979142484561:e[59]>1e-35?hr=-.0368654965105411:e[186]>1e-35?hr=-.13585047638050318:hr=-.001475385731000911:e[11]>1e-35?e[47]>1e-35?hr=-.07021793045868131:e[58]>1e-35?hr=-.03264322466138671:e[153]>1e-35?e[7]>.4982752029697964?hr=-.000719771928860618:hr=-.02550581685370434:hr=-.001300530189452872:e[216]>1e-35?hr=-.04553949138490546:hr=.0013445292966782988;let Ie;e[152]>1e-35?Ie=.005642349825665321:e[108]>1e-35?e[1]>1e-35?Ie=.012759171568581189:Ie=-.0015650437871311187:e[102]>1e-35?Ie=.012533880283367552:e[10]>1e-35?e[4]>1.4978661367769956?e[7]>.9888588760569341?Ie=.007453521083396632:Ie=-.0036225862281260785:e[3]>.8958797346140276?Ie=-.0027177080775155366:e[5]>5.782284349061034?Ie=-.04454373321655838:Ie=.021964247026786614:e[11]>1e-35?e[47]>1e-35?Ie=-.06196070580382676:e[121]>1e-35?e[1]>1e-35?Ie=-.06122312462911518:e[7]>.3847172300624272?Ie=.03518239795956787:e[3]>2.4414009612931857?Ie=.006811972713764457:Ie=-.0933556055347465:e[5]>4.938058177869999?Ie=-.004012086267764631:Ie=.01930669434547199:e[5]>6.0051201133541365?e[27]>1e-35?Ie=-.012304580143719986:Ie=.0013650712455989071:e[3]>2.802901033147999?Ie=-.0083470520183599:e[7]>.5811983411966435?e[7]>.990877425524446?e[219]>1e-35?e[3]>1e-35?Ie=.06211865200552023:e[17]>1e-35?Ie=.06775644666502018:Ie=-.06866304616688222:e[217]>1e-35?Ie=.059656960273077646:Ie=-.004328630560280456:e[204]>1e-35?e[4]>2.249904835165133?Ie=.006371564018556469:e[3]>2.138333059508028?Ie=.09486061534469152:Ie=-.09409330595635478:e[4]>2.602003343538398?Ie=.011308844028341723:e[100]>1e-35?Ie=.0439316487073224:Ie=-.003403233436702135:Ie=-.00960652384005499;let O;e[144]>1e-35?e[18]>1e-35?O=.07197995497453837:e[1]>1e-35?O=-.001274320993832369:O=-.040032546534329444:e[52]>1e-35?e[18]>1e-35?O=.09098124993319018:O=-.04537404774072243:e[40]>1e-35?O=-.02515534903180516:e[53]>1e-35?O=-.04736675675905027:e[178]>1e-35?O=-.021374380471858013:e[55]>1e-35?O=-.04240162360893064:e[51]>1e-35?e[18]>1e-35?O=.07999652271774131:O=-.036649228565504045:e[109]>1e-35?O=.009067075019741765:e[54]>1e-35?e[1]>1e-35?O=.019160818735605257:O=-.05967997790089002:e[35]>1e-35?O=-.043420689526233285:e[173]>1e-35?O=-.027561163630755333:e[190]>1e-35?O=-.016370101115869642:e[14]>1e-35?e[217]>1e-35?O=-.019735056448517897:e[141]>1e-35?O=-.028090004807030017:O=.006865378253320941:e[139]>1e-35?e[1]>1e-35?O=-.032389864623829076:O=.005458607214221278:e[60]>1e-35?O=-.019089857559617188:e[153]>1e-35?e[18]>1e-35?O=.015189336996079859:e[19]>1e-35?O=.013745154147527805:e[1]>1e-35?O=-.005284271350108698:O=-.0374184512092477:e[18]>1e-35?e[99]>1e-35?O=-.0595395395199616:e[100]>1e-35?O=-.09991342902311327:O=-.0042488091801234805:O=.0006682804828197052;let me;e[46]>1e-35?me=-.012191380765172536:e[88]>1e-35?me=-.10266216005056819:e[91]>1e-35?me=-.018445844031974568:e[50]>1e-35?me=-.027431707051961525:e[144]>1e-35?e[7]>.9945060383544003?me=.03614842925379388:me=-.02095650990295711:e[4]>2.4414009612931857?e[123]>1e-35?e[3]>3.0201273556387074?me=-.01053451990903616:me=-.05114195197878968:e[16]>1e-35?me=.007316468830803533:e[9]>1e-35?me=.003316750172048933:me=860911526134492e-20:e[141]>1e-35?e[3]>1e-35?me=-.02547358042212171:me=.019472890771357998:e[186]>1e-35?me=-.09288424685816356:e[41]>1e-35?me=-.1310231930206974:e[42]>1e-35?me=-.056216247465863484:e[29]>1e-35?e[5]>3.5694334999727624?e[134]>1e-35?me=-.054747915129536466:e[1]>1e-35?e[131]>1e-35?me=-.16815706432319097:me=-.002818043413853223:me=-.041951940639575136:e[7]>.960816451500545?e[219]>1e-35?me=.10052885656939581:me=-.11599835225683999:me=.029922858316313545:e[101]>1e-35?e[5]>7.429817490674132?me=-.06576516230122952:me=-.0008540865426696243:e[210]>1e-35?e[114]>1e-35?me=.013062456952379193:e[7]>.7267616382562012?me=.0022613700798703854:me=-.03938763940013096:e[59]>1e-35?e[12]>1e-35?me=.008501036224046256:me=-.06542467236134167:me=.002585754319607976;let ye;e[28]>1e-35?ye=.008779900390406317:e[7]>.9880960409521241?e[8]>1e-35?ye=-.008991654120695218:e[3]>1e-35?e[140]>1e-35?ye=-.02731072195122447:ye=.002008744895602654:e[217]>1e-35?ye=.02359361264236281:ye=.007024522001417586:e[2]>2.138333059508028?e[3]>2.4414009612931857?e[125]>1e-35?ye=-.04199133736767654:e[47]>1e-35?ye=-.027561033349225085:e[3]>4.085941003063911?e[12]>1e-35?ye=.007807873722550442:e[152]>1e-35?ye=.030689318204494505:e[137]>1e-35?ye=.06699720359975746:ye=-.010441301216813357:e[118]>1e-35?ye=-.03153852460438172:e[48]>1e-35?ye=-.03440026517387997:ye=.0015296602873888215:e[0]>1e-35?e[2]>6.607325405747152?ye=-.027110120892630915:e[153]>1e-35?ye=-.017016088064422574:ye=-.005723165911539293:e[187]>1e-35?ye=-.031718114891806884:ye=-.0005272212291525389:e[0]>1e-35?e[2]>.8958797346140276?e[46]>1e-35?ye=-.09171631422683799:ye=.003327268948098216:e[3]>2.3502401828962087?e[125]>1e-35?ye=-.5887915327321841:e[2]>1e-35?ye=-.006637502258168407:ye=-.08424468641004934:e[125]>1e-35?ye=-.06617256968162606:ye=.028846174454930092:e[2]>1.2424533248940002?e[15]>1e-35?ye=-.016616715415331784:ye=.002680237807803091:e[3]>1e-35?ye=-.0012589163812412535:ye=-.015154395987664649;let J;e[6]>9.286096980078398?e[4]>2.970085626360216?J=-.001155963563974424:J=-.011949331884445141:e[6]>6.3071868642287745?e[2]>5.150393035655617?J=-.0033183579364470086:e[11]>1e-35?J=-.0018887492076874403:e[169]>1e-35?J=-.09486398911649394:J=.0025252552927441433:e[4]>3.0677824455408698?e[7]>.09963982551990838?e[141]>1e-35?e[6]>3.314020688089767?J=.012137569190879735:J=.09584425242224671:e[8]>1e-35?e[7]>.987306237235768?e[2]>.8958797346140276?J=-.020817404206469048:J=-.06464699261956137:J=-.008121005894366425:J=-.002273798477153842:e[4]>3.5114340430413216?J=-.024199637055494112:J=-.0044500308011184275:e[12]>1e-35?J=-.00483411782477681:e[5]>3.156774023138548?e[8]>1e-35?e[5]>3.772694874805912?e[6]>3.795426061844291?J=.0013628724281773107:J=-.04205266437322089:e[141]>1e-35?e[4]>2.861792550976191?e[5]>3.417592293073651?J=-.15445392240959782:e[2]>2.970085626360216?J=-.5683130345409004:J=-1.2639522532467855:J=-.12861577169349267:J=-.08527127841498366:e[4]>2.4414009612931857?e[7]>.29163353806150266?J=.003881870206848933:J=.01474849027472377:e[18]>1e-35?e[219]>1e-35?J=-.07387984252991263:J=-.013089382916580447:J=-.0008129634296833813:e[3]>2.3502401828962087?e[2]>3.1132683346437333?J=.019943967048858428:J=-.04278248600927625:e[17]>1e-35?J=-.11809979934412335:J=.03777084692378827;let F;e[57]>1e-35?F=-.03805766278012468:e[6]>9.286096980078398?e[2]>3.725620842493839?F=-.010152097691926694:F=-.000726856757223527:e[25]>1e-35?e[4]>2.917405368531303?e[6]>4.226807104886684?e[5]>8.866229029069968?F=.016965184252348844:F=-.027524673351863413:F=-.09999982742666325:e[219]>1e-35?F=-.11642840619184194:e[6]>3.1984648276080736?F=.02202934385365115:F=-.0758508504188626:e[17]>1e-35?e[5]>3.276966702012906?e[3]>2.861792550976191?e[38]>1e-35?F=.03529859841404316:F=-.005442656204983076:F=.013832633319757828:F=-.07099090377505678:e[40]>1e-35?e[12]>1e-35?F=.020780509349314687:F=-.0412229778697227:e[178]>1e-35?e[6]>4.832297822126891?F=-.012751356404573045:F=-.07365946414911166:e[6]>1e-35?e[91]>1e-35?F=-.018973855754862178:e[31]>1e-35?e[3]>3.3497501700808394?F=-.019342018507399077:F=.04336755184633714:e[52]>1e-35?F=-.034601279556920723:e[53]>1e-35?F=-.04570921257037347:e[4]>2.4414009612931857?e[22]>1e-35?F=-.009909029766665835:e[88]>1e-35?F=-.13759996623650647:F=.0010774168904012999:e[90]>1e-35?F=-.09942790916464699:e[5]>8.17933999189099?F=-.006237804261380787:e[154]>1e-35?F=-.02869365685254793:e[41]>1e-35?F=-.11951308633255478:F=.0005720279396045617:F=-.05091927304878396;let Te;e[2]>8.18910569469239?Te=-.011281718118735835:e[2]>8.136957041085973?Te=.007639929297282146:e[2]>6.178980383851587?Te=-.006867711027875817:e[6]>4.5379471377116305?e[125]>1e-35?e[3]>1e-35?Te=-.026657037414316055:Te=.03822052894720058:e[89]>1e-35?Te=.01442240494610187:Te=.0005482931472826037:e[3]>2.970085626360216?e[8]>1e-35?Te=-.04157937378268839:e[25]>1e-35?Te=-.07438346384769444:Te=-.007688780027797844:e[113]>1e-35?e[24]>1e-35?Te=.10208422768618285:Te=-.0025376848550412623:e[24]>1e-35?e[209]>1e-35?e[7]>.9738681190948303?Te=-.18081467351794253:Te=.06403272706376394:Te=-.006045919721112658:e[100]>1e-35?e[3]>1.4978661367769956?Te=-.034372452343283254:e[3]>1.2424533248940002?Te=.10087241747333926:Te=-.06270133551905664:e[12]>1e-35?e[209]>1e-35?Te=.02872327658284419:Te=-.012940407270969699:e[5]>3.276966702012906?e[8]>1e-35?Te=-.02165149142042258:e[3]>2.249904835165133?Te=.011522668417532612:Te=-.005129494488342788:e[3]>2.3502401828962087?e[2]>3.1132683346437333?Te=.018894357520732635:Te=-.03443967069634786:e[19]>1e-35?e[0]>1e-35?Te=.0868126244943877:e[2]>1.4978661367769956?e[194]>1e-35?Te=-.16834554324370338:Te=.08799302490518951:Te=.007907573815540844:e[17]>1e-35?Te=-.07843101628051594:Te=.04322926522720053;let Oe;e[7]>.987306237235768?e[8]>1e-35?e[5]>6.285066127789834?Oe=6536595256810364e-20:e[153]>1e-35?Oe=-.07687008855803332:Oe=-.015088524832702519:e[18]>1e-35?Oe=-.012556097563484098:e[217]>1e-35?e[5]>8.28387302567733?Oe=-.004574660978375117:Oe=.02566519458840368:Oe=.003837771337656032:e[28]>1e-35?e[194]>1e-35?e[29]>1e-35?e[5]>3.979637980058199?Oe=.04675774128546983:Oe=-.16922871147253024:e[5]>5.821564412917691?Oe=.017788548280824237:Oe=.101599048954043:e[5]>4.424828703319957?Oe=.009470487487627452:Oe=-.046977132290520585:e[95]>1e-35?Oe=.008579165333164537:e[204]>1e-35?e[7]>.9782662069407232?e[9]>1e-35?Oe=.0717824359443052:Oe=.01776258010455891:Oe=.003970948558978321:e[208]>1e-35?e[1]>1e-35?Oe=.012428835257375037:e[18]>1e-35?Oe=-.08152843296689005:Oe=-.0059907248803252305:e[109]>1e-35?Oe=.008117980905290326:e[89]>1e-35?e[1]>1e-35?Oe=-.08097766993639294:Oe=.014258345453663996:e[62]>1e-35?Oe=.025185598552042956:e[213]>1e-35?Oe=.01261362855232781:e[138]>1e-35?e[1]>1e-35?e[29]>1e-35?Oe=.004355449069502461:Oe=-.03327693117307522:e[29]>1e-35?Oe=-.024228224306581475:e[5]>5.244385543610066?Oe=.01690188327986934:Oe=-.02426164440751183:Oe=-.0016932467092565535;let xt;e[116]>1e-35?xt=-.018106356667092538:e[24]>1e-35?e[113]>1e-35?e[5]>4.658699722134796?xt=-.0289267666661116:xt=.10225466717059267:e[5]>3.979637980058199?xt=.007715497036238576:e[209]>1e-35?xt=-.1596622066794057:xt=-.02153459011172981:e[46]>1e-35?e[18]>1e-35?xt=.044010040060630896:xt=-.018791912393741998:e[39]>1e-35?xt=-.008648992983623099:e[3]>4.993822430271426?xt=-.01442291433054286:e[158]>1e-35?xt=.023944934429097977:e[21]>1e-35?xt=-.008731676115726167:e[51]>1e-35?e[18]>1e-35?xt=.07015276907667169:xt=-.03981801316250594:e[152]>1e-35?e[12]>1e-35?e[7]>.9811887196001154?xt=.025342984951627335:e[56]>1e-35?xt=-.039652717595259894:xt=-.003499774006708361:e[4]>3.676220550121792?xt=.026612369959601385:e[0]>1e-35?e[2]>2.012675845367575?xt=.012259156005894655:xt=.04466570041636591:xt=.002369030228609974:e[50]>1e-35?xt=-.02625338435100237:e[198]>1e-35?e[5]>3.156774023138548?e[4]>2.602003343538398?xt=.004706524615587467:xt=.03172381727140614:xt=-.08877100979833137:e[19]>1e-35?e[156]>1e-35?xt=.047690620764284854:xt=.004980692597287184:e[188]>1e-35?xt=-.10330323519600788:e[108]>1e-35?xt=.006389080836282864:e[217]>1e-35?xt=.0034861135133741716:xt=-.0005184951270632008;let Wt;e[150]>1e-35?Wt=-.03083355660591381:e[6]>8.681774988134558?e[0]>1e-35?Wt=.0032708551521722813:e[3]>2.970085626360216?Wt=-.0008773771112515323:Wt=-.008194765714031488:e[1]>1e-35?e[42]>1e-35?Wt=-.0544661644610188:e[114]>1e-35?Wt=.014743200719322279:e[25]>1e-35?Wt=-.03415156332118204:e[121]>1e-35?e[0]>1e-35?Wt=-.012241568524042012:Wt=-.08332027167107449:e[119]>1e-35?Wt=.02487058944439717:e[210]>1e-35?e[4]>2.602003343538398?Wt=.003409540133128587:e[7]>.985694415330804?Wt=.014360134818665793:Wt=-.029939754177999198:e[140]>1e-35?e[30]>1e-35?Wt=-.07017324311241228:Wt=-.00954038893956995:e[32]>1e-35?Wt=-.0321895511220355:Wt=.0018389054792352236:e[3]>.8958797346140276?e[138]>1e-35?Wt=.014210083256713822:e[3]>2.970085626360216?e[56]>1e-35?Wt=.03179391063657913:e[132]>1e-35?Wt=.044860161753142676:e[122]>1e-35?Wt=.056053352587009365:e[44]>1e-35?Wt=.011126140459263092:e[217]>1e-35?Wt=.015177735064648389:e[30]>1e-35?Wt=.00292550151642784:e[0]>1e-35?Wt=-.01370614277688821:Wt=-.00467240699644943:e[30]>1e-35?e[17]>1e-35?Wt=.06455607454604466:Wt=-.018525791968354337:e[127]>1e-35?Wt=.058525937257934674:Wt=.004550050432870272:Wt=-.024273015893662056;let Lt;e[57]>1e-35?Lt=-.03433295479723807:e[35]>1e-35?Lt=-.039185287251387806:e[2]>8.18910569469239?Lt=-.01005594457537474:e[2]>8.136957041085973?Lt=.006899889609485921:e[2]>5.6542404955442525?e[156]>1e-35?Lt=-.021428903659715646:Lt=-.003794036359277691:e[6]>4.3882378946731615?e[125]>1e-35?Lt=-.012625422706971806:e[0]>1e-35?e[2]>.8958797346140276?e[32]>1e-35?Lt=.024078606665492636:e[6]>6.9309832857755405?e[2]>2.012675845367575?Lt=.00015676395930232578:Lt=.008324926956588046:Lt=-.0031526636810443134:e[156]>1e-35?Lt=.053603289446623514:e[6]>5.912149824839399?Lt=.022861200347258755:e[128]>1e-35?e[9]>1e-35?Lt=-.44322676747225076:Lt=-.07989645752877887:Lt=.005736631305989689:e[6]>9.286096980078398?Lt=-.005302861539231229:e[133]>1e-35?Lt=-.011410750972764748:e[2]>1e-35?e[139]>1e-35?Lt=-.01695599188677891:e[12]>1e-35?e[129]>1e-35?Lt=-.029257180272820173:e[106]>1e-35?Lt=.03593102425808264:e[59]>1e-35?Lt=.03336711951593411:e[114]>1e-35?Lt=.021293721644930708:Lt=.0031644417228525465:e[140]>1e-35?e[2]>2.802901033147999?Lt=.005338088459754211:Lt=-.018863893195455395:e[59]>1e-35?e[20]>1e-35?Lt=-.2145461556048109:Lt=-.013833058686928565:Lt=.0010745795613665528:Lt=-.003974960846380726:Lt=-.004018386137909663;let or;e[55]>1e-35?or=-.038436881673730244:e[49]>1e-35?e[1]>1e-35?or=.013340924551504776:or=-.04038081752369706:e[135]>1e-35?e[17]>1e-35?or=.02160784630817418:e[6]>4.722943345003718?e[2]>3.9981586158983733?or=-.012347824466576033:or=-.000545766507983511:e[4]>3.0201273556387074?e[2]>1e-35?or=-.0252070573488502:or=-.13173630032620282:or=.009893647988200364:e[6]>1e-35?e[73]>1e-35?or=-.05384174968342247:e[52]>1e-35?e[1]>1e-35?or=.02326718288961822:or=-.04799167043714381:e[7]>.8453853180651066?e[4]>3.481121732133104?e[12]>1e-35?e[59]>1e-35?or=.061286381265316374:e[3]>3.481121732133104?or=.005424469650470853:e[6]>4.310776603370241?or=.014609485744972962:or=.06126754321077295:e[156]>1e-35?e[2]>8.898092196194755?or=-.2427431056579565:or=.018014774163852717:or=.0018695162213364096:e[61]>1e-35?or=-.07802947082997094:e[45]>1e-35?or=-.024426413301391545:e[140]>1e-35?e[4]>.8958797346140276?or=-.021126260874271455:e[6]>4.03420147928485?or=-.08415757514826445:e[3]>1e-35?or=.10708927158160722:or=-.24178647896179492:or=.0008522369825914582:e[218]>1e-35?or=.02373187641553724:e[57]>1e-35?or=-.04729470896114382:e[6]>4.135134555718313?or=-.00014270136560779048:or=-.007024429214918294:or=-.08338039048086893;let cr;e[72]>1e-35?cr=.056415744834310104:e[102]>1e-35?cr=.010312560108512227:e[109]>1e-35?cr=.007457767681676636:e[208]>1e-35?e[4]>3.0677824455408698?e[18]>1e-35?cr=-.06595581480202953:cr=.0010087955639505731:cr=.010976237400105874:e[4]>2.4414009612931857?e[123]>1e-35?e[2]>4.5900436644025815?cr=-.05474288807524913:cr=-.010369052951168002:e[47]>1e-35?e[18]>1e-35?cr=.06670108938458437:e[20]>1e-35?cr=.08555144132474565:cr=-.021968528557862133:e[48]>1e-35?e[18]>1e-35?cr=.06392608504748652:cr=-.02321056177872842:e[54]>1e-35?cr=-.03592967725793262:e[6]>5.519456907163478?cr=.0008682946366782881:e[133]>1e-35?cr=-.029370515479889298:e[4]>3.0201273556387074?cr=-.004567764283497172:e[12]>1e-35?cr=-.008355751724201374:e[113]>1e-35?cr=.04158028065835193:cr=.005544170962219649:e[141]>1e-35?cr=-.01706283616408152:e[186]>1e-35?cr=-.08075713781164345:e[196]>1e-35?e[4]>2.012675845367575?cr=-.004591551989937031:e[4]>.8958797346140276?e[18]>1e-35?cr=-.1239344826496822:cr=.026355647530608275:cr=-.07955511774996737:e[41]>1e-35?cr=-.10181506412232362:e[42]>1e-35?cr=-.0453542732395041:e[116]>1e-35?cr=-.040407946567398226:e[158]>1e-35?cr=.027239009428531448:cr=-.002118967070037752;let Ut;e[174]>1e-35?Ut=-.02339144841300339:e[173]>1e-35?Ut=-.02466576607302462:e[60]>1e-35?Ut=-.014400177078045:e[187]>1e-35?Ut=-.009580909976967153:e[6]>8.681774988134558?Ut=-.0018832004566674773:e[1]>1e-35?e[42]>1e-35?e[10]>1e-35?Ut=-.13287881120130746:Ut=-.03759084751116859:e[25]>1e-35?Ut=-.029737667621816583:e[119]>1e-35?Ut=.022639692376110337:e[98]>1e-35?Ut=.014991063146855506:e[195]>1e-35?e[6]>3.417592293073651?Ut=.008961268500787772:Ut=-.023240187732927162:e[61]>1e-35?e[7]>.428769371249852?Ut=-.08413653233956772:Ut=.0010489731231787087:e[140]>1e-35?e[3]>.8958797346140276?e[5]>4.855921334140645?e[44]>1e-35?Ut=-.009299863216357543:Ut=-.0613782065666655:Ut=-.06705655672927394:e[5]>3.772694874805912?Ut=.0008635593500817348:Ut=.08361268069705163:Ut=.001087642897550713:e[98]>1e-35?Ut=-.021712258264119783:e[3]>.8958797346140276?e[105]>1e-35?Ut=-.039681509263849626:e[195]>1e-35?e[18]>1e-35?Ut=-.07079074829049314:Ut=-.008109353986158243:e[210]>1e-35?e[18]>1e-35?Ut=-.10610285355896108:Ut=-.009292320249100847:e[157]>1e-35?Ut=.03507595269407085:e[97]>1e-35?Ut=.0249669535461336:e[48]>1e-35?Ut=-.027595291123779366:Ut=.0011643902717306173:Ut=-.0211420439263067;let Tt;e[138]>1e-35?e[1]>1e-35?e[42]>1e-35?e[3]>3.5114340430413216?Tt=-.022448598781455772:Tt=-.07031164685918086:e[2]>1e-35?e[2]>2.740319461670996?Tt=.00894455632762117:Tt=-.003454709734759444:e[0]>1e-35?Tt=.060858110677215166:Tt=-.03435493609374257:e[3]>2.602003343538398?e[2]>.8958797346140276?Tt=.0168978378983998:Tt=-.009237748165804088:Tt=-.016931758267026403:e[3]>4.424828703319957?Tt=-.005659352703826067:e[24]>1e-35?e[113]>1e-35?e[6]>4.460127707454046?Tt=-.023722482692479133:Tt=.10064484300766507:e[6]>4.03420147928485?Tt=.007526717802235146:e[209]>1e-35?e[4]>2.970085626360216?Tt=.11711852031495243:Tt=-.15067622815741855:Tt=-.011085192149895408:e[108]>1e-35?Tt=.0059255171206349135:e[19]>1e-35?e[156]>1e-35?Tt=.04454460743043898:e[37]>1e-35?Tt=-.14161163738926447:e[4]>1.4978661367769956?e[4]>1.7005986908310777?e[217]>1e-35?Tt=-.020705364221039385:Tt=.006460529078997639:e[0]>1e-35?e[98]>1e-35?Tt=.10347448218504114:Tt=-.04090123141769794:e[6]>5.636572136251498?Tt=-.001212671493834005:e[2]>1.8688348091416842?Tt=-.15821279618670178:Tt=-.03563734739460456:Tt=.027924859655082585:e[57]>1e-35?Tt=-.03743904649648422:e[35]>1e-35?Tt=-.0414066369468363:e[46]>1e-35?Tt=-.011240341460759123:Tt=-.0003091959047563666;let fr;e[14]>1e-35?e[5]>7.841296344941067?e[141]>1e-35?fr=-.04382809259971909:e[217]>1e-35?e[4]>3.417592293073651?fr=-.05008164665262682:fr=.0007032387608254502:e[190]>1e-35?fr=-.19371592847895003:fr=.0017489801221668277:e[129]>1e-35?fr=-.24591656603456258:fr=.011026730387591234:e[72]>1e-35?fr=.05658163433406649:e[90]>1e-35?e[4]>3.5114340430413216?fr=.017141361021852975:e[28]>1e-35?fr=.07243997319099477:fr=-.08677988948169385:e[138]>1e-35?fr=.0038201430289573884:e[23]>1e-35?e[4]>2.917405368531303?fr=.014990462643385919:fr=-.013592080985068531:e[217]>1e-35?e[4]>1.8688348091416842?fr=.0022421195021632245:e[4]>1.2424533248940002?fr=.03891295508085918:e[4]>.8958797346140276?fr=-.08902318396862074:fr=.02476911275463073:e[2]>3.1132683346437333?e[29]>1e-35?e[19]>1e-35?fr=.023731839695418987:e[5]>7.366761104104307?e[4]>3.417592293073651?e[6]>6.633975895571033?e[8]>1e-35?fr=.016171629088047517:e[134]>1e-35?fr=.03196373735768742:fr=-.006820341969572339:fr=-.02712238491085242:fr=-.016309188486296804:fr=-.0019386576944297078:e[156]>1e-35?fr=-.03079416196682616:e[123]>1e-35?fr=-.020888866054988395:e[4]>3.238486181444842?fr=-.0027078359220281674:e[141]>1e-35?fr=-.029581214969996845:fr=.002299670778244013:fr=.0001804027795430786;let zo=Xdt(t+r+n+i+o+a+l+c+u+f+m+h+p+g+y+x+b+E+_+k+B+N+M+te+de+Z+G+q+ie+z+j+U+V+K+ae+re+le+ce+De+be+qe+Re+Xe+ft+at+lt+oe+Ne+Ae+Ge+Y+ne+Fe+Se+Ce+Ue+Ve+tt+Ct+Pt+yt+Kt+Xt+lr+ge+Me+Je+rt+Rt+Et+Mt+Ot+_t+kt+St+qt+$t+Zt+dr+xr+ur+mr+nr+hr+Ie+O+me+ye+J+F+Te+Oe+xt+Wt+Lt+or+cr+Ut+Tt+fr);return[1-zo,zo]}s(zIe,"treeScore");function Xdt(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}s(Xdt,"sigmoid");var Af=class{static{s(this,"ContextualFilterManager")}constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};function YIe(e){let t=e.split(`
`);return t[t.length-1].length}s(YIe,"getLastLineLength");function KIe(e,t,r){let n=e.get(Af),i=n.previousLabel,o=0;"afterCursorWhitespace"in t.properties&&t.properties.afterCursorWhitespace==="true"&&(o=1);let a=(Date.now()-n.previousLabelTimestamp)/1e3,l=Math.log(1+a),c=0,u=0,f=r.prefix;if(f){c=Math.log(1+YIe(f));let k=f.slice(-1);uu[k]!==void 0&&(u=uu[k])}let m=0,h=0,p=f.trimEnd();if(p){m=Math.log(1+YIe(p));let k=p.slice(-1);uu[k]!==void 0&&(h=uu[k])}let g=0;if("documentLength"in t.measurements){let k=t.measurements.documentLength;g=Math.log(1+k)}let y=0;if("promptEndPos"in t.measurements){let k=t.measurements.promptEndPos;y=Math.log(1+k)}let x=0;if("promptEndPos"in t.measurements&&"documentLength"in t.measurements){let k=t.measurements.documentLength;x=(t.measurements.promptEndPos+.5)/(1+k)}let b=0;Nre[t.properties.languageId]!==void 0&&(b=Nre[t.properties.languageId]);let E=0,_=new Array(221).fill(0);return _[0]=i,_[1]=o,_[2]=l,_[3]=c,_[4]=m,_[5]=g,_[6]=y,_[7]=x,_[8+b]=1,_[29+u]=1,_[125+h]=1,E=zIe(_)[1],e.get(Af).probabilityAccept=E,E}s(KIe,"contextualFilterScore");d();d();d();var H5=class{constructor(t,r,n){this.languageId=t;this.prefix=r;this.completion=n}static{s(this,"BlockTrimmer")}static isSupported(t){return g0.isSupported(t)}async withParsedStatementTree(t){var n=[];try{let r=BK(n,g0.create(this.languageId,this.prefix+this.completion,this.prefix.length,this.prefix.length+this.completion.length));await r.build();return await t(r)}catch(i){var o=i,a=!0}finally{DK(n,o,a)}}trimmedCompletion(t){return t===void 0?this.completion:this.completion.substring(0,t)}getStatementAtCursor(t){return t.statementAt(Math.max(this.prefix.length-1,0))??t.statements[0]}getContainingBlockOffset(t){let r;if(t&&this.isCompoundStatement(t))r=t;else if(t){let n=t.parent;for(;n&&!this.isCompoundStatement(n);)n=n.parent;r=n}if(r){let n=this.asCompletionOffset(r.node.endIndex);if(n&&this.completion.substring(n).trim()!=="")return n}}hasNonStatementContentAfter(t){if(!t||!t.nextSibling)return!1;let r=this.asCompletionOffset(t.node.endIndex),n=this.asCompletionOffset(t.nextSibling.node.startIndex);return this.completion.substring(Math.max(0,r??0),Math.max(0,n??0)).trim()!==""}asCompletionOffset(t){return t===void 0?void 0:t-this.prefix.length}isCompoundStatement(t){return t.isCompoundStatementType||t.children.length>0}};var aO=class extends H5{constructor(r,n,i,o=3,a=7){super(r,n,i);this.lineLimit=o;this.lookAhead=a;let l=[...this.completion.matchAll(/\n/g)],c=this.lineLimit+this.lookAhead;l.length>=this.lineLimit&&this.lineLimit>0&&(this.limitOffset=l[this.lineLimit-1].index),l.length>=c&&c>0&&(this.lookAheadOffset=l[c-1].index)}static{s(this,"TerseBlockTrimmer")}async getCompletionTrimOffset(){return await this.withParsedStatementTree(async r=>{let n=r.statementAt(this.stmtStartPos()),i=this.getContainingBlockOffset(n);return i=this.trimAtFirstBlankLine(i),n&&(i=this.trimAtStatementChange(n,i)),this.limitOffset&&this.lookAheadOffset&&(i===void 0||i>this.lookAheadOffset)?this.limitOffset:i})}stmtStartPos(){let r=this.completion.match(/\S/);return r&&r.index!==void 0?this.prefix.length+r.index:Math.max(this.prefix.length-1,0)}trimAtFirstBlankLine(r){let n=[...this.trimmedCompletion(r).matchAll(/\r?\n\s*\r?\n/g)];for(;n.length>0&&(r===void 0||r>n[0].index);){let i=n.shift();if(this.completion.substring(0,i.index).trim()!=="")return i.index}return r}trimAtStatementChange(r,n){let i=this.prefix.length,o=this.prefix.length+(n??this.completion.length);if(r.node.endIndex>i&&this.isCompoundStatement(r))return r.nextSibling&&r.node.endIndex<o?this.asCompletionOffset(r.node.endIndex):n;let a=r,l=r.nextSibling;for(;l&&l.node.endIndex<=o&&!this.hasNonStatementContentAfter(a)&&!this.isCompoundStatement(l);)a=l,l=l.nextSibling;return l&&a.node.endIndex>i&&a.node.endIndex<o?this.asCompletionOffset(a.node.endIndex):n}};async function JIe(e,t){var l=[];try{let r=e.getText();let n=e.offsetAt(t);let i=BK(l,g0.create(e.detectedLanguageId,r,0,r.length));await i.build();let o=i.statementAt(n);if(!o)return"non-block";if(!o.isCompoundStatementType&&o.children.length===0)return o.parent&&!o.nextSibling&&o.node.endPosition.row<=t.line?"block-end":o.parent?"mid-block":"non-block";if(o.children.length===0)return"empty-block";let a=o.children[o.children.length-1];if(n<a.node.startIndex)return"mid-block";return"block-end"}catch(c){var u=c,f=!0}finally{DK(l,u,f)}}s(JIe,"getBlockPositionType");d();d();function XIe(e){let t;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>427.50000000000006?e[9]>13.500000000000002?e[121]>1e-35?t=-.3793786744885956:e[149]>1e-35?t=-.34717430705356905:t=-.26126834451035963:t=-.2431318366096852:e[5]>888.5000000000001?t=-.20600463586387135:t=-.2568037008471491:e[308]>1e-35?t=-.2363064824497454:e[8]>370.50000000000006?t=-.37470755210284723:t=-.321978453730494:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?t=-.26259136509758885:t=-.3096719634039438:e[4]>30.500000000000004?e[9]>18.500000000000004?t=-.34254903852890883:e[2]>98.50000000000001?t=-.41585250791146294:t=-.3673574858887241:e[9]>6.500000000000001?t=-.31688079287876225:e[31]>1e-35?t=-.29110977864003823:e[308]>1e-35?t=-.3201411739040839:t=-.36874023066055506:e[8]>691.5000000000001?e[82]>1e-35?t=-.41318393149040566:e[133]>1e-35?t=-.3741272613525161:e[32]>1e-35?t=-.4112378041027121:e[227]>1e-35?t=-.37726615155719356:e[10]>3.5000000000000004?t=-.3164502293560397:t=-.2930071546509045:e[9]>13.500000000000002?t=-.277366858539218:e[308]>1e-35?e[4]>10.500000000000002?t=-.30975610686807187:e[4]>1.5000000000000002?t=-.2549142136728043:t=-.3271325650785176:e[127]>1e-35?e[0]>1937.5000000000002?t=-.2533046188098832:t=-.325520883579:t=-.331628896481776;let r;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?e[9]>13.500000000000002?r=.031231253521808708:r=.05380836288014532:e[5]>423.00000000000006?e[8]>114.50000000000001?r=.06751619128429062:r=.09625089153176467:r=.027268163053989804:e[308]>1e-35?r=.060174483556283756:r=-.049062854038919135:e[3]>24.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?r=-.03969241799174589:r=.01086816842550381:e[31]>1e-35?r=-.003284694817583201:e[9]>6.500000000000001?e[4]>30.500000000000004?r=-.04224490699947552:r=-.011834162944360616:e[308]>1e-35?e[32]>1e-35?r=-.13448447971850278:r=-.019569456707046823:e[19]>1e-35?e[9]>1.5000000000000002?r=-.07256260662659254:e[4]>60.50000000000001?r=-.08227503453609311:r=-.020596416747563847:r=-.07396549241564149:e[8]>691.5000000000001?e[82]>1e-35?r=-.10046536995362734:e[133]>1e-35?r=-.06407649822752297:e[225]>1e-35?r=.08035785003303324:e[92]>1e-35?r=.018901360933204676:e[20]>1e-35?r=.05252546973665552:e[8]>2592.5000000000005?r=-.040543705016462955:r=-.011236043818320725:e[9]>17.500000000000004?r=.025560632674895334:e[308]>1e-35?e[0]>1847.5000000000002?r=.03527165701669741:r=-.0071847350825815035:e[127]>1e-35?r=.024373016379595405:e[9]>2.5000000000000004?r=-.0035090719709448288:r=-.03514829488063766;let n;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?n=.03848674861536988:e[5]>423.00000000000006?e[8]>114.50000000000001?e[9]>56.50000000000001?n=-.003764520033319488:n=.06570817919969299:e[4]>61.50000000000001?n=.028346156293069538:n=.0908154644362606:n=.02445594243234816:e[308]>1e-35?e[8]>65.50000000000001?n=.0019305229020073053:n=.09279357295883772:n=-.04458984161917124:e[3]>24.500000000000004?e[23]>1e-35?n=.0027405390271277013:e[4]>29.500000000000004?e[52]>1e-35?n=.044727478132905285:e[115]>1e-35?n=.10245804828855934:e[9]>17.500000000000004?n=-.03353173647469207:e[2]>98.50000000000001?n=-.10048106638102179:n=-.05484231104348874:e[31]>1e-35?n=.016807537467116516:e[9]>6.500000000000001?n=-.012113620535295137:e[4]>8.500000000000002?e[308]>1e-35?n=-.01882594250504289:n=-.05585658862796076:n=.04279591277938338:e[8]>691.5000000000001?e[82]>1e-35?n=-.09262278043707878:e[133]>1e-35?n=-.058454257768893625:e[32]>1e-35?n=-.09769348447126434:e[25]>1e-35?n=-.0725430043727677:e[122]>1e-35?n=-.10047841601578077:n=-.00580671054458958:e[9]>13.500000000000002?n=.021399199032818294:e[308]>1e-35?e[4]>10.500000000000002?n=-.0076376731757173515:n=.03394923033036848:e[127]>1e-35?n=.02070489091204209:n=-.02290162726126496;let i;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?i=.010230295672324606:i=.038540509248742805:e[8]>125.50000000000001?e[1]>49.50000000000001?i=.03086356292895467:i=.057128750867458604:e[5]>888.5000000000001?i=.07861602941396924:i=.030523262699070908:e[308]>1e-35?i=.048236117667577356:e[8]>370.50000000000006?i=-.05642125069212264:i=-.007232836777168195:e[3]>24.500000000000004?e[23]>1e-35?e[131]>1e-35?i=.03640661467213915:i=-.005889820723907028:e[31]>1e-35?i=-.0009007166998276938:e[9]>6.500000000000001?i=-.022590340093882378:e[308]>1e-35?e[32]>1e-35?i=-.1215445089091064:i=-.01435612266219722:e[19]>1e-35?e[9]>1.5000000000000002?i=-.061555513040777825:e[4]>60.50000000000001?i=-.07053475504569347:i=-.013733369453963092:i=-.06302097189114152:e[227]>1e-35?i=-.05820440333190048:e[8]>683.5000000000001?e[82]>1e-35?i=-.08466979526809346:e[10]>24.500000000000004?i=-.017092159721119944:e[92]>1e-35?i=.03592901452463749:i=-.00359310519524756:e[5]>1809.5000000000002?e[243]>1e-35?i=-.03963116207386097:e[118]>1e-35?i=-.09483996283536394:e[217]>1e-35?i=-.03394542089519989:e[242]>1e-35?i=-.07985899422287938:i=.019706602160656964:e[9]>12.500000000000002?i=.014072998937735146:i=-.021156294523894684;let o;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[9]>21.500000000000004?o=.009197756540516563:o=.03458896869535166:e[5]>5082.500000000001?o=.08265545468131008:e[131]>1e-35?o=.0740738432473315:o=.045159136632942756:e[8]>319.50000000000006?o=-.04653401534465376:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?o=-.011400839766681709:o=.11149800187510031:o=-.08683250977599462:o=.08355310136724753:e[4]>23.500000000000004?e[23]>1e-35?e[131]>1e-35?o=.040389083779932555:o=-.009887614274108602:e[52]>1e-35?o=.03705353499757327:e[9]>6.500000000000001?o=-.025401260429257562:e[2]>98.50000000000001?o=-.09237673187534504:o=-.04298556869281803:e[222]>1e-35?o=-.045221965895986184:e[8]>691.5000000000001?e[133]>1e-35?o=-.05435318330148897:e[128]>1e-35?o=-.08672907303184191:e[227]>1e-35?o=-.05568304584186561:e[122]>1e-35?o=-.09623059693538563:e[225]>1e-35?o=.07558331642202279:e[82]>1e-35?o=-.07360566227233566:o=-.005646164647395919:e[242]>1e-35?o=-.08203758341228108:e[9]>13.500000000000002?o=.018726123829696042:e[308]>1e-35?e[4]>10.500000000000002?o=-.011153942154062704:o=.03132858912391067:e[127]>1e-35?o=.021455228822345174:e[23]>1e-35?o=.01959966745346997:o=-.021764790177579325;let a;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>284.50000000000006?e[121]>1e-35?e[18]>1e-35?a=.07547602514276922:a=-.08529678832140396:a=.030314822344598043:e[5]>888.5000000000001?e[4]>61.50000000000001?a=.011143589009415464:a=.0654700456802118:a=.021794712646632755:e[308]>1e-35?a=.04231872551095028:a=-.034381999950549455:e[4]>23.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?a=-.03678981254332261:a=.010518160384496255:e[8]>825.5000000000001?a=-.04506534842082387:e[9]>38.50000000000001?a=.01004983052203438:a=-.030580958620701027:e[39]>1e-35?a=-.12802435021505382:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>6.500000000000001?a=.030426957004611704:a=-.0726407693060581:a=.017395521646964375:e[4]>7.500000000000001?e[0]>93.50000000000001?e[9]>7.500000000000001?a=-.008024349629981291:e[31]>1e-35?a=.01296539930850471:e[308]>1e-35?a=-.012855016509024084:a=-.04564527976851505:a=-.15681420504058596:e[10]>4.500000000000001?e[243]>1e-35?a=-.1012064426380198:a=-.0062808850924854194:a=.030706323726162416:e[9]>13.500000000000002?a=.017081636133736405:e[308]>1e-35?e[4]>10.500000000000002?a=-.009306613091760644:e[4]>1.5000000000000002?a=.03655523200850989:a=-.02671654212893341:e[127]>1e-35?a=.019261510468604387:a=-.017627818570628936;let l;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>892.5000000000001?e[308]>1e-35?l=.036100405995889276:l=.011709313297015793:e[0]>119.50000000000001?e[8]>125.50000000000001?l=.03622542297472574:l=.05595579157301536:l=-.02234751038146796:e[8]>319.50000000000006?l=-.040132029478400735:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?l=-.009306153573847916:l=.10058509567064988:l=-.0785668890966017:e[9]>28.500000000000004?l=-.04781977604130416:l=.09753292614937459:e[4]>23.500000000000004?e[131]>1e-35?l=.02372493254975127:e[148]>1e-35?l=.028103095989516644:e[4]>58.50000000000001?e[10]>1e-35?l=-.05000852203469597:l=.02922366846119705:e[23]>1e-35?l=-.0026335076988151292:l=-.03073993752935585:e[222]>1e-35?l=-.03867374428185713:e[32]>1e-35?l=-.07220729365053084:e[39]>1e-35?l=-.11624524614351733:e[8]>691.5000000000001?e[133]>1e-35?l=-.04836360271198036:e[8]>4968.500000000001?l=-.10873681915578029:e[149]>1e-35?l=-.11847484033769298:e[122]>1e-35?l=-.08916172460307559:e[82]>1e-35?l=-.06774726602152634:l=-.0033469147714351327:e[126]>1e-35?l=-.09474445392080015:e[8]>131.50000000000003?e[118]>1e-35?l=-.09002547031023511:l=.015475385187009489:e[25]>1e-35?l=-.08175501232759151:l=-.000429679055394914;let c;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>546.5000000000001?c=.021942996005324917:c=.042349138084484074:e[308]>1e-35?c=.036507270845732874:c=-.028981850556764995:e[3]>24.500000000000004?e[23]>1e-35?c=.00210930790963475:e[31]>1e-35?c=.006825358293027163:e[9]>6.500000000000001?c=-.013772084269062394:e[308]>1e-35?c=-.008307929099892574:e[19]>1e-35?c=-.027706313312904487:c=-.04891108984170914:e[134]>1e-35?c=-.0605730733844732:e[25]>1e-35?c=-.05347926493253117:e[227]>1e-35?c=-.049415829249003666:e[32]>1e-35?c=-.06807799662179595:e[308]>1e-35?e[4]>10.500000000000002?e[2]>13.500000000000002?c=-.00016302718260794637:c=-.10247095758122947:e[210]>1e-35?c=-.022149002072787024:e[95]>1e-35?c=.15222631630626304:c=.027393884520465712:e[9]>7.500000000000001?e[225]>1e-35?c=.13483346577752245:e[3]>9.500000000000002?e[243]>1e-35?c=-.045352728133789516:e[8]>683.5000000000001?c=.00474372227519902:c=.02635476098707525:e[92]>1e-35?c=.05659380819933452:e[105]>1e-35?c=.07431443210341222:e[186]>1e-35?c=.0915821133384904:c=-.016414750130401053:e[127]>1e-35?c=.011824693641866162:e[23]>1e-35?c=.0228468674288774:e[284]>1e-35?c=.06606936863302432:c=-.02872463273902358;let u;e[13]>1e-35?e[3]>1.5000000000000002?e[8]>125.50000000000001?e[288]>1e-35?u=-.019844363904157558:e[1]>50.50000000000001?e[131]>1e-35?u=.044961338592245194:u=.003659599513761676:e[121]>1e-35?u=-.04057103630479994:u=.03158560697078578:e[0]>421.50000000000006?e[4]>61.50000000000001?u=-.0003708603406529278:u=.05331312264472391:u=.0006575958601218936:e[8]>319.50000000000006?u=-.034654694051901545:e[7]>3.5000000000000004?e[0]>1230.5000000000002?e[0]>2579.5000000000005?u=-.0076053515916517005:u=.09116695486305336:u=-.07137458699162028:u=.06633130654035282:e[4]>29.500000000000004?e[23]>1e-35?e[4]>63.50000000000001?u=-.0308520802187302:u=.013156423968295541:e[115]>1e-35?u=.11581171687488252:e[52]>1e-35?e[10]>22.500000000000004?u=.12264179915175587:u=-.021905727233873535:e[8]>799.5000000000001?u=-.04181869575935412:u=-.023695901673350575:e[222]>1e-35?u=-.034612899265371776:e[8]>691.5000000000001?e[9]>98.50000000000001?u=-.06892116536821917:e[149]>1e-35?u=-.11194586444154514:e[133]>1e-35?u=-.04269583234000504:e[128]>1e-35?u=-.0644631966969502:e[8]>4968.500000000001?u=-.09650726096330133:u=-.004219129180139438:e[126]>1e-35?u=-.08038306745347751:e[5]>1809.5000000000002?u=.009265335288169993:e[9]>2.5000000000000004?u=.006447645462117438:u=-.021047132609551503;let f;e[13]>1e-35?e[3]>1.5000000000000002?e[9]>21.500000000000004?e[121]>1e-35?f=-.08436540015142402:e[8]>1861.5000000000002?f=-.01621425699342421:f=.01878613821895428:f=.031052879158242532:e[8]>319.50000000000006?f=-.031536619360997865:e[7]>3.5000000000000004?f=-.004510586962343298:f=.0596524941011746:e[4]>18.500000000000004?e[23]>1e-35?f=.004757490541310808:e[9]>6.500000000000001?f=-.008842393772207996:e[31]>1e-35?f=.0010536183837006993:e[308]>1e-35?f=-.008145882815435419:e[2]>98.50000000000001?f=-.08404937622173021:e[276]>1e-35?f=.0020072791321856663:e[19]>1e-35?f=-.023031820639490178:f=-.04553314326377875:e[8]>2134.5000000000005?f=-.02244583113572251:e[134]>1e-35?f=-.05592137394753121:e[308]>1e-35?e[49]>1e-35?f=.09989109704064947:e[4]>10.500000000000002?e[2]>13.500000000000002?f=-.00447733056482096:f=-.10191061664873849:f=.021765308380331864:e[9]>7.500000000000001?e[118]>1e-35?f=-.07570059131536411:e[243]>1e-35?f=-.040983393346598646:e[3]>9.500000000000002?f=.014763759061483812:e[92]>1e-35?f=.05136368898963024:f=-.008162398981149495:e[127]>1e-35?f=.013999119696708346:e[23]>1e-35?e[20]>1e-35?f=.14138985500120907:f=.008668274102844162:e[284]>1e-35?f=.06356484011042893:f=-.024781304572706303;let m;e[13]>1e-35?e[3]>8.500000000000002?e[8]>892.5000000000001?e[0]>384.50000000000006?m=.014387526569215037:e[8]>2266.5000000000005?m=-.1397298649743087:m=.007953931014097788:e[0]>119.50000000000001?e[4]>61.50000000000001?m=.0029819092211896296:e[218]>1e-35?m=.08450459375645737:m=.031646488019280654:m=-.03544960151460596:e[9]>9.500000000000002?m=-.026002317735915183:e[7]>1.5000000000000002?m=.005074258810794793:m=.0745247650477651:e[4]>29.500000000000004?e[131]>1e-35?m=.023269218675640847:e[148]>1e-35?m=.03812942399144545:e[115]>1e-35?m=.10512283476967227:m=-.02607307479736138:e[227]>1e-35?m=-.036576708299046294:e[101]>1e-35?m=.027948683650881864:e[149]>1e-35?m=-.08195628451594297:e[50]>1e-35?m=-.16997544922278504:e[8]>691.5000000000001?e[9]>101.50000000000001?m=-.06860333850762075:e[225]>1e-35?m=.06066641950951723:e[10]>22.500000000000004?e[1]>29.500000000000004?e[127]>1e-35?m=.028599705845427533:m=-.010746719511640914:e[0]>4877.500000000001?m=-.07251187886096228:m=-.021299712241446785:e[118]>1e-35?m=-.11902023760964736:m=15874469526809387e-21:e[8]>267.50000000000006?m=.01317292185402293:e[148]>1e-35?e[9]>20.500000000000004?m=.09614842415142123:m=.006049073167176467:e[189]>1e-35?m=.05562696451900713:m=-.006257541923837303;let h;e[13]>1e-35?e[9]>14.500000000000002?e[2]>11.500000000000002?e[1]>71.50000000000001?e[8]>1252.5000000000002?h=-.10069846585436666:h=-.010577995535809317:e[146]>1e-35?h=-.008877238274428668:e[280]>1e-35?h=.10076055897012692:e[6]>70.50000000000001?h=-.020603523042565547:e[7]>1.5000000000000002?h=.02819095420813202:h=-.1223354167911277:h=-.025073583348334844:e[8]>416.50000000000006?h=.01718560189149466:e[230]>1e-35?h=.12281803224342265:h=.03281276971308565:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?h=-.13070568109867683:e[4]>63.50000000000001?h=-.027221825262496814:h=.01530862490082352:e[9]>6.500000000000001?e[5]>4320.500000000001?e[2]>31.500000000000004?h=-.00605574271293711:h=.04739407327741249:h=-.012537528620315956:e[31]>1e-35?e[20]>1e-35?h=.1252215087035768:h=.003905888677601057:e[52]>1e-35?h=.045466299731038815:e[2]>100.50000000000001?h=-.07815624550168065:e[308]>1e-35?h=-.007715815250508057:e[276]>1e-35?e[9]>1.5000000000000002?h=-.03538265083203445:e[18]>1e-35?h=.1591211669800727:h=.015151475408241136:e[8]>557.5000000000001?h=-.04225569725456342:h=-.022455546324243267:e[308]>1e-35?h=.01325441736085826:e[197]>1e-35?h=.03752194600682512:e[225]>1e-35?h=.06583712394533976:h=-.005205289866839043;let p;e[13]>1e-35?e[9]>21.500000000000004?e[2]>12.500000000000002?p=.010264022580774884:p=-.02335958814489217:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?p=-.0936747137352166:e[0]>384.50000000000006?p=.019846244507320695:p=-.0751102554077272:p=-.026885329334203723:e[0]>966.5000000000001?e[10]>48.50000000000001?p=.11654906890054273:p=.0346250587613322:e[4]>39.50000000000001?p=-.08568002378645614:e[9]>16.500000000000004?p=-.12010535752923689:p=.021321923389033808:e[4]>14.500000000000002?e[23]>1e-35?e[21]>1e-35?p=-.12056431231412057:e[131]>1e-35?p=.03652965550568472:p=.002563006128791669:e[9]>6.500000000000001?e[30]>1e-35?p=-.10141481732178981:p=-.003936457893178248:e[31]>1e-35?p=.008215898756249477:e[52]>1e-35?e[0]>4188.500000000001?p=.12972828769588213:p=-.003137412232297087:e[2]>100.50000000000001?p=-.0730872929087944:e[308]>1e-35?p=-.006958622747243333:e[35]>1e-35?e[0]>3707.5000000000005?p=.07934620723812878:p=-.018598568353702116:p=-.030635505446410763:e[128]>1e-35?p=-.06962290453843294:e[84]>1e-35?p=-.15290337844960322:e[308]>1e-35?e[8]>2543.5000000000005?p=-.034938657503885584:p=.016339322898966915:e[197]>1e-35?p=.03358907965870046:e[18]>1e-35?p=-.01754013791515288:p=-.0004944586067698557;let g;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?g=.005888790687820524:g=.0429676533834978:e[2]>7.500000000000001?e[0]>119.50000000000001?e[6]>79.50000000000001?g=-.0224319889201976:e[212]>1e-35?g=.06249587051783863:e[8]>963.5000000000001?e[8]>1156.5000000000002?g=.010357273289123324:g=-.029749145161304082:e[218]>1e-35?g=.06449336340743606:g=.018047654539345502:g=-.07350502390293116:g=-.019594829995832414:e[4]>39.50000000000001?g=-.019338083179859314:e[39]>1e-35?g=-.10427066919173111:e[222]>1e-35?e[0]>612.5000000000001?g=-.019197415255018464:g=-.0836562507048181:e[149]>1e-35?g=-.07679624472577429:e[32]>1e-35?g=-.05097506748590604:e[191]>1e-35?g=.04670476485250936:e[30]>1e-35?g=-.05313073892148652:e[8]>691.5000000000001?e[23]>1e-35?e[203]>1e-35?e[4]>8.500000000000002?g=.03930363008271334:g=-.06029171685615689:g=.016203086182431294:e[4]>7.500000000000001?g=-.013824248237085224:e[10]>4.500000000000001?e[94]>1e-35?g=-.09817668643367765:e[10]>40.50000000000001?g=-.023558078753593125:g=.0065113494780482326:e[8]>809.5000000000001?e[297]>1e-35?g=-.1352063548573715:g=.058203900441270634:g=-.035243959159285736:e[10]>59.50000000000001?e[1]>43.50000000000001?g=-.012552876807800442:g=.05991247777734298:g=.0035893102109330177;let y;e[13]>1e-35?e[9]>21.500000000000004?e[145]>1e-35?y=.03507251990078782:e[2]>14.500000000000002?y=.004905698363309292:e[8]>2421.5000000000005?y=-.10306119951984316:y=-.018951037816654928:e[8]>416.50000000000006?e[3]>4.500000000000001?e[295]>1e-35?y=-.08503171085833393:y=.015130974593044409:y=-.024425267075198206:y=.02624054905103126:e[4]>19.500000000000004?e[131]>1e-35?y=.02100191580704534:e[32]>1e-35?e[8]>2302.5000000000005?y=.09908783187786288:y=-.06920877329925636:e[8]>241.50000000000003?y=-.016756131804203496:e[9]>33.50000000000001?y=.04903179955263626:e[217]>1e-35?y=-.047416847619291644:y=-.0017200891991431119:e[39]>1e-35?y=-.10389927604977028:e[134]>1e-35?y=-.050480365434872866:e[178]>1e-35?y=-.05167855791556937:e[8]>2134.5000000000005?y=-.01663197335585307:e[242]>1e-35?y=-.05361323756615453:e[118]>1e-35?y=-.05299780866211368:e[10]>24.500000000000004?e[10]>55.50000000000001?e[8]>764.5000000000001?y=-.0016544848369620534:y=.04494144460483587:y=-.009283616456736156:e[121]>1e-35?e[0]>4463.500000000001?y=.051166688553608355:y=-.06623908820705383:e[84]>1e-35?y=-.12990936092409747:e[306]>1e-35?y=-.07020596855118943:e[49]>1e-35?y=.06272964802556856:e[192]>1e-35?y=.06540204627162581:y=.008277910531592885;let x;e[13]>1e-35?e[308]>1e-35?e[210]>1e-35?x=.003325460510319164:x=.037153108286272905:e[2]>12.500000000000002?e[1]>124.50000000000001?x=-.09880713344892134:e[7]>60.50000000000001?e[10]>71.50000000000001?x=.0697359767152808:e[230]>1e-35?x=.06513506845651572:x=-.02826625276613455:e[5]>246.50000000000003?e[8]>95.50000000000001?x=.013616385013146277:x=.04171540100223404:x=-.04360396575094823:e[212]>1e-35?x=.025945477945627522:x=-.019793208261535442:e[4]>39.50000000000001?e[25]>1e-35?x=-.07856453318384411:x=-.014803893522351739:e[39]>1e-35?x=-.09185452630751932:e[149]>1e-35?x=-.07122426086157027:e[134]>1e-35?x=-.04231052091434186:e[227]>1e-35?x=-.029815824273994197:e[50]>1e-35?x=-.15736496271211153:e[222]>1e-35?x=-.02360285356956629:e[128]>1e-35?x=-.03922080193836443:e[136]>1e-35?x=-.07219685327698587:e[10]>24.500000000000004?e[1]>8.500000000000002?x=-.0029736170756835783:x=-.06482902102259112:e[84]>1e-35?x=-.11340924635708383:e[94]>1e-35?x=-.03635703457792193:e[118]>1e-35?x=-.058181913914186034:e[126]>1e-35?x=-.062030576241517366:e[116]>1e-35?x=-.045086301850604006:e[25]>1e-35?x=-.031665223656767286:e[203]>1e-35?x=-.009444685731407691:x=.0112265153772187;let b;e[13]>1e-35?e[1]>64.50000000000001?e[9]>14.500000000000002?e[9]>54.50000000000001?b=.022717227245241684:b=-.049700413274686266:b=.007175776918589741:e[5]>50.50000000000001?e[8]>61.50000000000001?e[21]>1e-35?b=-.07927556792063156:e[3]>8.500000000000002?e[4]>23.500000000000004?e[281]>1e-35?b=-.12263724050601095:b=.0070743478891288035:e[288]>1e-35?b=-.050439138582109:b=.0255701593657891:b=-.005812703740580558:e[6]>49.50000000000001?b=-.008542694147899113:b=.035147383686665:b=-.0960461939274094:e[32]>1e-35?b=-.04555453745517765:e[222]>1e-35?e[0]>612.5000000000001?b=-.01800870272656664:b=-.07817304234604389:e[30]>1e-35?b=-.05227061750368981:e[25]>1e-35?e[0]>4449.500000000001?e[217]>1e-35?b=.08778416018479411:b=-.026563982720830256:b=-.05296139548112329:e[50]>1e-35?b=-.14926464875852247:e[8]>779.5000000000001?e[133]>1e-35?b=-.036572140520852024:e[183]>1e-35?b=-.10766853736801459:b=-.003966794968701808:e[217]>1e-35?e[5]>5237.500000000001?b=.09513215942486053:b=-.03641865277445567:e[10]>59.50000000000001?b=.03177172388687933:e[39]>1e-35?b=-.10234241303898953:e[243]>1e-35?b=-.02966738115984321:e[190]>1e-35?b=-.04312785336449181:e[118]>1e-35?b=-.05808521194081524:b=.006720381600740378;let E;e[308]>1e-35?e[5]>423.00000000000006?e[133]>1e-35?E=-.046284053681928526:e[210]>1e-35?E=49778070699847876e-21:e[13]>1e-35?E=.03328070054739309:e[128]>1e-35?E=-.054790214922938896:e[126]>1e-35?E=-.08524792218532945:E=.014414055975542446:e[1]>38.50000000000001?E=-.07287851335872973:E=.005263371501687163:e[9]>7.500000000000001?e[21]>1e-35?e[10]>4.500000000000001?E=-.12459748864088374:E=-.004626323021331593:e[298]>1e-35?e[4]>64.50000000000001?E=.13044981041138526:e[9]>71.50000000000001?E=-.056068402282406865:e[9]>12.500000000000002?E=.038957722962512764:E=-.04598815982492169:e[8]>691.5000000000001?e[126]>1e-35?E=-.0852126122372075:e[225]>1e-35?E=.10082066771689505:e[1]>161.50000000000003?E=-.11609832500613824:e[3]>8.500000000000002?e[8]>1685.5000000000002?E=-.010835400874777133:E=.004607419973807752:E=-.016989075258564062:E=.009205417251698097:e[23]>1e-35?e[20]>1e-35?E=.10184317139657878:e[0]>5724.500000000001?E=-.1163666496650542:e[1]>106.50000000000001?E=.1303850608190687:e[129]>1e-35?E=.10745031509534769:E=.006166901738036226:e[31]>1e-35?E=.010177092833155127:e[13]>1e-35?e[0]>213.50000000000003?E=.005004582564506611:E=-.10481581731668346:e[19]>1e-35?E=-.009850706427306281:E=-.02608226348051303;let _;e[13]>1e-35?e[1]>64.50000000000001?e[2]>4.500000000000001?_=-.0024117174588695603:_=-.058339700513831916:e[212]>1e-35?e[0]>2215.5000000000005?e[8]>847.5000000000001?e[10]>21.500000000000004?e[1]>39.50000000000001?_=.04575380761203418:_=-.10025595041353463:e[15]>1e-35?_=.17705790384964004:_=.0073813837628615014:_=.07676373681392407:_=-.027167992693885996:e[3]>11.500000000000002?e[280]>1e-35?_=.07078572910026419:e[4]>23.500000000000004?_=.005513918674164821:_=.0206586476926392:e[0]>5269.500000000001?_=.07706773525822633:_=-.010233826953776122:e[148]>1e-35?e[8]>1622.5000000000002?_=-.03204783603215824:_=.027405418223981973:e[4]>14.500000000000002?e[131]>1e-35?e[9]>1.5000000000000002?e[0]>5026.500000000001?_=-.0930246911392012:_=.011173087289703683:e[3]>24.500000000000004?_=.03281421918878597:_=.12449335091369843:e[204]>1e-35?_=.06634531187326123:_=-.011522999669353388:e[92]>1e-35?e[10]>42.50000000000001?_=-.041196758517013515:e[4]>7.500000000000001?_=-2942718111029724e-20:e[4]>6.500000000000001?_=.11953909558532852:_=.03188615019450534:e[122]>1e-35?_=-.0616037324662157:e[101]>1e-35?_=.027230889593349412:e[8]>4968.500000000001?_=-.1113986516540856:e[3]>2.5000000000000004?_=-.002045140426885727:e[129]>1e-35?_=.12641163374304432:_=.014909826232873194;let k;e[308]>1e-35?e[0]>7277.500000000001?k=-.09337446795435:e[5]>423.00000000000006?e[133]>1e-35?k=-.040884836258675006:e[210]>1e-35?k=-.0003719413278428804:e[13]>1e-35?k=.030287610160818174:k=.011174130013595384:e[1]>38.50000000000001?k=-.0662442170185784:k=.004332185707008564:e[9]>7.500000000000001?e[145]>1e-35?e[285]>1e-35?k=-.08092286307197555:k=.029866363328584986:e[21]>1e-35?e[10]>4.500000000000001?k=-.1155211149523894:k=-.0032903546638958538:e[149]>1e-35?k=-.03632198993199768:e[3]>9.500000000000002?e[8]>999.5000000000001?k=-.003507023626534306:e[128]>1e-35?e[4]>13.500000000000002?e[0]>3459.5000000000005?k=-.025416927789760076:k=.02777568919793122:k=-.10310351509769732:k=.013549608903688785:e[186]>1e-35?k=.08513865847420551:k=-.009306721292510369:e[31]>1e-35?k=.009780833952582307:e[23]>1e-35?k=.011143773934157629:e[210]>1e-35?k=.025354797285173356:e[17]>1e-35?e[10]>3.5000000000000004?k=-.04846287537743046:k=-.014647271080376757:e[2]>5.500000000000001?e[7]>57.50000000000001?k=-.034224938681445764:e[8]>1641.5000000000002?k=-.027298372075800673:e[191]>1e-35?e[10]>18.500000000000004?k=-.027950103994861836:k=.14575930827829034:k=-.007124740389354946:e[10]>22.500000000000004?k=.013173304107866726:k=-.11119620042551365;let B;e[131]>1e-35?B=.01892225243240137:e[308]>1e-35?e[5]>691.5000000000001?e[133]>1e-35?B=-.037118314390013646:e[1]>51.50000000000001?e[5]>3749.5000000000005?e[8]>58.50000000000001?B=-.022305242912035072:B=.024792895826340516:B=.013666137278072166:e[88]>1e-35?e[10]>27.500000000000004?B=.2080083584805785:B=.04247197078083379:e[10]>40.50000000000001?e[18]>1e-35?e[1]>27.500000000000004?B=.060783227455868206:B=-.056904865557409035:B=-.03278952553107572:e[192]>1e-35?B=.13117402617043625:B=.01647119888257836:B=-.01825870445636398:e[9]>6.500000000000001?e[298]>1e-35?B=.026536210945939682:e[8]>691.5000000000001?e[126]>1e-35?B=-.07927319604548912:e[10]>3.5000000000000004?e[21]>1e-35?B=-.11083976837572328:e[146]>1e-35?B=-.03359294484446772:B=-.0042815953591236475:e[190]>1e-35?B=-.09264239592903775:e[10]>1e-35?B=.022282638485105657:B=-.0205994057928458:e[5]>4918.500000000001?B=.03430715695199153:e[243]>1e-35?e[2]>57.50000000000001?B=.08935072241972036:B=-.03781647876237494:B=.0062655753179671515:e[31]>1e-35?B=.008603500300349887:e[230]>1e-35?B=.03350056932774173:e[23]>1e-35?e[241]>1e-35?B=.10277555508503314:B=.0017901817172993888:e[2]>98.50000000000001?B=-.05920081229672715:B=-.015722173275739208;let N;e[13]>1e-35?e[118]>1e-35?N=.07957905150112207:e[1]>125.50000000000001?N=-.0662620579858685:e[145]>1e-35?N=.029682040828779843:e[19]>1e-35?e[6]>15.500000000000002?N=-.0009597832580977798:N=-.081474760755753:e[212]>1e-35?N=.03637001492325179:N=.006912305498963309:e[32]>1e-35?N=-.03919900630910754:e[134]>1e-35?N=-.036225295529777886:e[4]>4.500000000000001?e[5]>384.50000000000006?e[204]>1e-35?N=.06671440854602108:e[136]>1e-35?N=-.07577364230133474:e[148]>1e-35?e[4]>7.500000000000001?N=.026430947016830915:N=-.04075501264495112:e[9]>93.50000000000001?N=-.04353169430417609:e[50]>1e-35?N=-.1411224537622882:e[17]>1e-35?e[49]>1e-35?N=.068392679163672:e[10]>1.5000000000000002?N=-.0209659792007492:N=-.0004393235559249831:e[133]>1e-35?e[9]>64.50000000000001?N=.07254524592323175:N=-.0319087835282534:N=.00037444813327793425:N=-.025138768151370408:e[243]>1e-35?N=-.050010891710502096:e[94]>1e-35?N=-.0817513550778599:e[122]>1e-35?N=-.061038875809822285:e[19]>1e-35?e[8]>1085.5000000000002?N=-.008408408775061623:e[2]>5.500000000000001?e[218]>1e-35?N=.1454877641381946:N=.053787998331240316:e[9]>33.50000000000001?N=.08602629796680285:N=-.03895127455803038:N=.008830878042315722;let M;e[131]>1e-35?M=.01687979707990516:e[8]>2915.5000000000005?e[297]>1e-35?M=.07473600489975568:e[0]>93.50000000000001?M=-.021596848506011502:M=-.13840802327735696:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?M=.10264284346448256:M=.031042487183181262:M=-.016653982936827776:e[4]>60.50000000000001?e[10]>75.50000000000001?M=.04226403420647408:e[10]>1e-35?e[0]>4733.500000000001?M=.006271403149804702:M=-.030013637555715046:e[0]>4449.500000000001?M=-.06556876058654929:M=.06437994816903034:e[32]>1e-35?M=-.043814577251655815:e[308]>1e-35?e[0]>7277.500000000001?M=-.09349726304052086:e[210]>1e-35?M=-.0035960132209098003:e[5]>691.5000000000001?e[133]>1e-35?M=-.029188394315052574:M=.017219308333820193:M=-.017378928852189585:e[9]>6.500000000000001?e[0]>2653.5000000000005?e[149]>1e-35?M=-.04428555753857688:M=.0001456106867817353:e[5]>213.50000000000003?M=.01740292726636365:M=-.011361718115556464:e[7]>4.500000000000001?e[0]>316.50000000000006?e[19]>1e-35?e[10]>54.50000000000001?M=.03410288911259329:e[121]>1e-35?M=-.06056527462120627:e[8]>2592.5000000000005?M=.12166808844363577:e[191]>1e-35?M=.11669879218998758:M=-.001664858391716235:M=-.01262927450503166:M=-.04506589951879664:e[227]>1e-35?M=-.08548904959752329:M=.02156080776537726;let te;e[306]>1e-35?e[149]>1e-35?te=-.1389218965136736:te=-.032218642644416894:e[13]>1e-35?te=.006465035217331847:e[50]>1e-35?te=-.1381687930130022:e[179]>1e-35?te=-.13112784985951215:e[148]>1e-35?e[8]>1726.5000000000002?te=-.03262719498763048:te=.023342916702125613:e[191]>1e-35?te=.030005484947580197:e[4]>4.500000000000001?e[204]>1e-35?te=.047767773119269434:e[136]>1e-35?e[0]>1937.5000000000002?te=-.09989343595668776:te=.06533942033334243:e[15]>1e-35?e[9]>86.50000000000001?te=-.10577989354150097:e[8]>668.5000000000001?e[126]>1e-35?te=-.09165257825246746:e[9]>32.50000000000001?te=.02484870392366004:te=-.008499493096971395:e[8]>24.500000000000004?te=.02459679192828244:te=-.010527978013140512:e[25]>1e-35?e[217]>1e-35?te=.0015644546318714849:te=-.06579524865022705:te=-.0060233890975120614:e[122]>1e-35?e[1]>36.50000000000001?te=.03331853632960164:te=-.09482264761126993:e[19]>1e-35?e[8]>1430.5000000000002?te=-.019091477207111116:te=.037878468575478504:e[94]>1e-35?te=-.08013082284576584:e[4]>2.5000000000000004?e[186]>1e-35?te=.16919658785098224:e[243]>1e-35?te=-.06580584936754524:te=.01567555159935563:e[129]>1e-35?te=.06721746994993226:e[10]>32.50000000000001?te=-.046394462507797975:te=-.006436180519584767;let de;e[131]>1e-35?de=.015039096856208693:e[8]>779.5000000000001?e[145]>1e-35?de=.019122095523977856:e[298]>1e-35?de=.023828936462317443:e[1]>23.500000000000004?e[5]>384.50000000000006?e[7]>59.50000000000001?de=-.026094309429557913:e[204]>1e-35?de=.09163404305658318:e[1]>27.500000000000004?e[149]>1e-35?e[6]>34.50000000000001?de=.012643810980689466:de=-.07884161741497837:de=-.0025267379810891104:e[2]>43.50000000000001?e[0]>2860.5000000000005?de=.04493082949897325:de=.18046359750455776:e[7]>18.500000000000004?de=-.018667348656891496:de=.02584325784698236:de=-.045696524897545915:e[0]>3321.5000000000005?e[201]>1e-35?de=.04749240016989375:de=-.0333334578246718:e[5]>3276.5000000000005?de=.11330554740098908:e[7]>94.50000000000001?de=.1296600395033268:de=-.003576436308940934:e[15]>1e-35?e[183]>1e-35?de=-.13787130789142835:e[0]>1847.5000000000002?de=.017915229729920556:e[10]>23.500000000000004?e[10]>31.500000000000004?e[6]>7.500000000000001?de=.028856848462727104:de=-.11197632885851168:de=.08169801342016791:e[1]>22.500000000000004?de=-.021052888644970163:de=.019048604298876753:e[7]>4.500000000000001?de=-.002603328695276418:e[7]>1.5000000000000002?e[2]>5.500000000000001?de=.03432638833359197:de=-.0036767863082454973:e[1]>48.50000000000001?de=.03087375270128195:e[2]>3.5000000000000004?de=-.04219917149740248:de=.018818493993207935;let Z;e[306]>1e-35?Z=-.04076858123502297:e[13]>1e-35?e[1]>67.50000000000001?e[9]>14.500000000000002?e[9]>53.50000000000001?e[8]>1971.5000000000002?Z=-.09091897542577475:Z=.04042943082645558:e[218]>1e-35?Z=.056254985867151:Z=-.053848117950183044:Z=.003881630017086845:e[5]>5152.500000000001?e[8]>857.5000000000001?e[6]>28.500000000000004?Z=.021581808008986944:Z=-.05639286496176611:Z=.052838875036198954:e[5]>50.50000000000001?e[5]>4082.5000000000005?e[17]>1e-35?Z=.023061479860228728:e[145]>1e-35?e[9]>10.500000000000002?Z=.023885302967553288:Z=.1617794086125622:e[212]>1e-35?Z=.04504545345658806:e[3]>17.500000000000004?e[4]>45.50000000000001?Z=-.03948072448245435:e[1]>47.50000000000001?e[9]>18.500000000000004?Z=.01894935813286188:Z=-.06449356357429188:Z=.012297239104320094:e[1]>26.500000000000004?e[8]>33.50000000000001?Z=-.034718828212885515:Z=.0898976288814321:e[1]>17.500000000000004?Z=-.15440137451988326:Z=-.03864183216821465:Z=.009988507307006308:Z=-.08540311947043305:e[50]>1e-35?Z=-.13323659732101975:e[134]>1e-35?Z=-.031820386486894385:e[32]>1e-35?e[8]>2302.5000000000005?Z=.08082476177379844:Z=-.041665761903645876:e[179]>1e-35?Z=-.12405023987936657:e[39]>1e-35?Z=-.06247416524997478:e[138]>1e-35?Z=-.10724031753676487:Z=-.0005423122305122404;let G;e[308]>1e-35?G=.006160742906729798:e[190]>1e-35?e[0]>2461.5000000000005?e[10]>22.500000000000004?G=.023223358334607133:G=-.04383410185346742:G=-.08542395045055405:e[297]>1e-35?e[8]>51.50000000000001?e[1]>13.500000000000002?G=.023406489302867494:G=-.085521220804058:G=-.02921899554854833:e[298]>1e-35?e[9]>12.500000000000002?G=.028120059780969632:G=-.04211009474298743:e[294]>1e-35?G=-.05040415676618239:e[86]>1e-35?e[1]>36.50000000000001?G=-.0993035220737934:G=-.0005384930611060366:e[230]>1e-35?e[4]>6.500000000000001?G=.029770210551187937:G=-.016272917551655715:e[4]>60.50000000000001?e[280]>1e-35?G=.06421359317599738:G=-.01963732469244167:e[218]>1e-35?e[3]>3.5000000000000004?G=.024368404612215164:G=-.04045232374803373:e[131]>1e-35?G=.017372701982485795:e[120]>1e-35?G=.08812710275150198:e[18]>1e-35?e[90]>1e-35?G=.18451364351180236:e[7]>33.50000000000001?G=-.03850813130183531:e[195]>1e-35?G=.06966114053446336:e[3]>16.500000000000004?G=-.0012869181693341211:e[0]>4242.500000000001?G=-.054625548611291035:G=-.014431095117473881:e[5]>4558.500000000001?e[8]>1.5000000000000002?G=.006302103427145562:G=.13967622319898698:e[121]>1e-35?G=-.038798585213145644:e[5]>4544.500000000001?G=-.08050498033009466:G=-.002986974112681435;let q;e[0]>384.50000000000006?e[2]>101.50000000000001?e[1]>16.500000000000004?q=-.03461119351456781:q=.05659026566680352:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?q=-.12404435523286539:q=-.0034376913880382956:q=-.09821622245095822:e[131]>1e-35?e[9]>1.5000000000000002?q=.0037507103585310234:q=.03610387965829944:e[8]>999.5000000000001?e[9]>137.50000000000003?q=-.11985021663179699:e[0]>1847.5000000000002?e[126]>1e-35?q=-.04832024079663151:e[37]>1e-35?q=-.037103393468366934:q=-.004248086592531705:e[8]>3084.0000000000005?e[9]>43.50000000000001?q=.032539071163832034:e[5]>1643.5000000000002?q=.036408625378035665:e[0]>1500.5000000000002?q=-.1346358322854993:q=-.027586559522081014:e[3]>1e-35?e[190]>1e-35?q=-.1133991164577881:e[9]>52.50000000000001?q=-.024478640359723122:q=.03673777861098756:q=-.1037451237591819:e[230]>1e-35?e[9]>48.50000000000001?e[10]>20.500000000000004?q=.002583438691776944:q=.10773520810108106:e[9]>12.500000000000002?e[1]>16.500000000000004?q=-.02141222346712401:q=.06392462314316179:e[4]>12.500000000000002?q=.08700122294434816:e[8]>267.50000000000006?q=.056923170082743224:q=-.07716309825583327:e[32]>1e-35?q=-.03961343943752142:q=.002674914122888783:e[1]>42.50000000000001?q=-.05217539654421676:e[145]>1e-35?q=.09553630282946368:q=-.009424791262477729;let ie;e[183]>1e-35?ie=-.05753337139158443:e[308]>1e-35?ie=.00562436671450989:e[9]>7.500000000000001?e[21]>1e-35?e[10]>8.500000000000002?ie=-.10477869875380448:ie=-.0070301869937306055:e[3]>9.500000000000002?e[8]>1765.5000000000002?e[0]>4571.500000000001?ie=-.12526505173232894:e[10]>1e-35?e[9]>71.50000000000001?ie=-.04442302951713574:ie=.00012409888451734224:ie=-.092199119633697:e[225]>1e-35?ie=.13773072450201831:e[0]>2882.5000000000005?ie=.0028540012229920533:e[298]>1e-35?ie=.07134486044361629:ie=.014297412329837425:e[145]>1e-35?ie=.05608385321902638:e[92]>1e-35?ie=.038298413603926135:e[107]>1e-35?e[2]>6.500000000000001?ie=-.0039957800609801315:ie=.0776927564241081:e[203]>1e-35?ie=-.05502900859432093:e[105]>1e-35?ie=.06062892720841595:ie=-.009574839629252128:e[31]>1e-35?ie=.009488858841144216:e[23]>1e-35?e[20]>1e-35?ie=.08818126313644752:e[8]>161.50000000000003?ie=.014353968957885408:ie=-.022240738532827903:e[210]>1e-35?ie=.024648862719806694:e[2]>5.500000000000001?e[4]>4.500000000000001?e[17]>1e-35?e[10]>16.500000000000004?ie=-.043902062079383485:ie=-.014741559220396223:ie=-.00934935734853194:e[6]>32.50000000000001?ie=.1514593126307404:ie=.010771222510801532:e[10]>22.500000000000004?ie=.01412495209334078:ie=-.08576940379502533;let z;e[0]>384.50000000000006?e[84]>1e-35?z=-.06647690967306838:e[2]>101.50000000000001?z=-.024451334501552457:e[306]>1e-35?z=-.034517188927733505:e[131]>1e-35?e[9]>1.5000000000000002?z=.0031858381443673127:z=.032574927024450646:e[204]>1e-35?e[1]>62.50000000000001?z=-.08601340441214533:e[1]>29.500000000000004?z=.10487598629539963:e[8]>597.5000000000001?z=-.0786529133673238:z=.08689436600511559:e[8]>779.5000000000001?e[10]>2.5000000000000004?e[9]>100.50000000000001?z=-.04883600353740688:e[126]>1e-35?z=-.03794042763348827:z=-.003358871967539988:e[210]>1e-35?z=.054991356498447566:e[6]>19.500000000000004?z=-.007418396981635549:z=.018032606049498613:e[18]>1e-35?e[7]>35.50000000000001?e[2]>44.50000000000001?z=-.02143003429501711:z=-.09016000554055564:e[1]>19.500000000000004?e[1]>42.50000000000001?e[8]>17.500000000000004?z=-.006636355416244082:z=-.06483095743431454:e[4]>21.500000000000004?z=-.028975965946833545:z=.022012264796522657:z=-.06653648243193663:e[5]>4593.500000000001?z=.01753551428088607:e[217]>1e-35?z=-.028864824937700297:e[94]>1e-35?z=-.04885192273020658:e[279]>1e-35?z=.08105715462329498:e[121]>1e-35?z=-.04576676034750651:z=.004795141324949362:e[1]>42.50000000000001?z=-.047446619702809195:e[145]>1e-35?z=.08400495571952321:z=-.00854528836489364;let j;e[294]>1e-35?j=-.042529778074638265:e[266]>1e-35?j=-.1180276669679798:e[134]>1e-35?j=-.026818144353279623:e[183]>1e-35?j=-.05120747503479363:e[227]>1e-35?e[8]>1641.5000000000002?j=-.07265906898294434:e[4]>12.500000000000002?e[17]>1e-35?j=-.027516137530797014:e[0]>4331.500000000001?e[1]>64.50000000000001?j=-.03049646619610203:e[1]>50.50000000000001?j=.20634590755061122:j=.06956378103625731:e[0]>3770.5000000000005?j=-.07946414366134913:e[19]>1e-35?j=.17083312065604694:e[2]>21.500000000000004?j=-.02327981978127724:j=.129717297518715:e[145]>1e-35?j=.006891245076133524:j=-.0789123467863741:e[3]>99.50000000000001?j=-.02022281202803071:e[302]>1e-35?e[10]>47.50000000000001?j=.06447639919732716:j=-.05457561977645972:e[306]>1e-35?j=-.029995903305383882:e[191]>1e-35?j=.030596508110850414:e[242]>1e-35?j=-.024085578702020216:e[8]>3198.5000000000005?e[297]>1e-35?j=.09518584795377832:j=-.018197744600833596:e[13]>1e-35?j=.006751790086127549:e[148]>1e-35?j=.01904174573618417:e[99]>1e-35?j=.025287735102561926:e[4]>14.500000000000002?j=-.004364337681643273:e[1]>15.500000000000002?e[35]>1e-35?j=-.09467943982430241:e[243]>1e-35?j=-.02521824751996268:j=.005437570718352172:j=-.022476214821960674;let U;e[0]>384.50000000000006?e[84]>1e-35?U=-.06088131453064195:e[147]>1e-35?U=-.05332792965930566:e[135]>1e-35?e[9]>32.50000000000001?U=.04219361472548491:U=-.07227529211725771:e[10]>4.500000000000001?e[21]>1e-35?U=-.0787279848043689:e[17]>1e-35?e[3]>18.500000000000004?e[188]>1e-35?U=-.054347604504400286:e[0]>3544.5000000000005?e[0]>5850.500000000001?U=-.11431764534511478:U=.013549717238356157:U=-.020987333767091276:e[6]>2.5000000000000004?U=-.02914877855133127:U=.08483464900160231:e[8]>58.50000000000001?e[183]>1e-35?U=-.10087072787978416:e[37]>1e-35?U=-.030467397753331196:e[229]>1e-35?U=-.1017559811057469:e[4]>20.500000000000004?U=-.00413177742240167:e[20]>1e-35?U=.05213315982685969:U=.0037921635866823133:e[8]>51.50000000000001?U=.07327913092421544:e[6]>49.50000000000001?U=-.03457694284156811:e[6]>18.500000000000004?e[7]>17.500000000000004?U=.02744420891894289:U=.11288946357194463:U=.003482908820966248:e[18]>1e-35?e[1]>20.500000000000004?e[7]>4.500000000000001?U=-.012329314369909049:U=.026816658655600168:U=-.0872405354618811:U=.007872673500247845:e[1]>42.50000000000001?U=-.04309044198258254:e[145]>1e-35?U=.07572529147860785:e[7]>5.500000000000001?U=-.013837187093264945:e[1]>17.500000000000004?U=.04208698439539668:U=-.06284346769019863;let V;e[294]>1e-35?V=-.0384794324818203:e[266]>1e-35?V=-.1087205883821061:e[32]>1e-35?e[8]>2302.5000000000005?V=.07432960094940501:V=-.035248735855751855:e[134]>1e-35?V=-.02456191365284949:e[121]>1e-35?e[0]>4720.500000000001?e[1]>39.50000000000001?V=-.01706896375068821:V=.08212247914968074:e[2]>59.50000000000001?V=-.09546478958824225:e[6]>53.50000000000001?V=.12317082897575611:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?V=.02816463285971267:V=.15449139016588445:V=-.10199787406123524:V=-.038068684323297096:e[223]>1e-35?e[8]>668.5000000000001?V=-.13924786681478077:V=-.0072772442570213335:e[39]>1e-35?V=-.05392786531177836:e[0]>93.50000000000001?e[40]>1e-35?V=-.054059371343144036:e[306]>1e-35?e[2]>14.500000000000002?e[149]>1e-35?V=-.11174465335620831:V=.00013144040097180107:V=-.08493919336681105:e[42]>1e-35?V=-.11078582572836196:e[84]>1e-35?e[4]>17.500000000000004?V=-.015540659878839153:V=-.14442609417300142:e[21]>1e-35?V=-.025251979447574083:V=.0023698372645272847:e[18]>1e-35?V=.07269739695712212:e[8]>2592.5000000000005?V=-.1460388776448558:e[9]>30.500000000000004?e[1]>23.500000000000004?V=-.01835130329646532:e[9]>45.50000000000001?V=.02023047454629885:V=.16469378262221102:V=-.042975030085836426;let K;e[8]>2915.5000000000005?e[297]>1e-35?K=.06257393915394144:e[0]>93.50000000000001?e[4]>1.5000000000000002?K=-.01034964686484714:K=-.07357437440667927:K=-.11987794734779106:e[298]>1e-35?e[8]>81.50000000000001?e[0]>3370.5000000000005?e[8]>155.50000000000003?e[8]>660.5000000000001?e[8]>2134.5000000000005?K=-.09476398869062203:e[9]>72.50000000000001?K=-.0757383854264379:K=.02806542779508718:K=-.05147742568418084:K=.10212721564444344:K=.0518263760642861:K=-.08743405377022222:e[189]>1e-35?e[0]>5269.500000000001?K=-.10669213185972036:K=.027050434286384796:e[302]>1e-35?K=-.0407832394672723:e[116]>1e-35?e[10]>38.50000000000001?K=.06354599160071946:e[1]>67.50000000000001?K=.05317447949011187:K=-.059138165935307165:e[212]>1e-35?e[19]>1e-35?K=-.09369289448773599:e[0]>2215.5000000000005?K=.04077965380363924:e[0]>807.5000000000001?K=-.0591771776458298:K=.057315736906679376:e[308]>1e-35?e[1]>52.50000000000001?e[5]>3749.5000000000005?K=-.016323380219241672:K=.007291062979527741:e[210]>1e-35?e[8]>1641.5000000000002?K=.03720704290087811:K=-.008730548158766654:e[4]>80.50000000000001?K=-.05346644687473197:K=.014596824736762107:e[218]>1e-35?e[3]>3.5000000000000004?K=.019984510398089086:K=-.03917825025861855:e[9]>170.50000000000003?K=-.09759719821334525:K=-.0023586682752856298;let ae;e[183]>1e-35?e[17]>1e-35?ae=.030100940443356424:e[10]>1.5000000000000002?ae=-.10861112216742408:ae=.017680668976453255:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?ae=-.032062878390325456:ae=-.10808232631806887:e[8]>1641.5000000000002?ae=-.06147013392655731:e[4]>12.500000000000002?ae=.03324767551088266:e[145]>1e-35?ae=.028851633810612017:ae=-.054871239091792784:e[134]>1e-35?ae=-.023813968121342108:e[266]>1e-35?ae=-.10037039667146351:e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>1939.5000000000002?ae=-.055566877553100726:e[2]>24.500000000000004?e[8]>182.50000000000003?e[10]>43.50000000000001?e[10]>55.50000000000001?ae=-.025350325484720576:ae=.1579024598549572:e[9]>2.5000000000000004?e[0]>3746.5000000000005?ae=.056817276537534815:ae=-.07674158463557636:ae=-.06335553143454145:e[1]>56.50000000000001?ae=.16390494217299284:ae=-.0027330160430847177:e[10]>36.50000000000001?e[8]>1067.5000000000002?ae=.041717597065890205:ae=-.10357913492269129:e[10]>29.500000000000004?ae=.1365512866715726:ae=.020600048310575665:ae=.09708785634773187:ae=-.060427658852305666:e[126]>1e-35?e[10]>32.50000000000001?e[6]>24.500000000000004?e[8]>1146.5000000000002?ae=-.03146213719547347:ae=.11784024316238083:ae=-.050940520532045355:ae=-.047988344143075616:e[191]>1e-35?ae=.028764654731460032:ae=.0011911575567860023;let re;e[294]>1e-35?e[10]>50.50000000000001?re=-.11630092297244568:e[0]>2432.5000000000005?e[0]>4199.500000000001?re=-.05103908560370243:re=.05002066201169583:re=-.09976646725732496:e[32]>1e-35?e[0]>4242.500000000001?re=-.0648838712201258:e[5]>3721.5000000000005?e[9]>4.500000000000001?re=.127983140816313:re=-.05436534163636867:re=-.024514536544596455:e[121]>1e-35?e[0]>4449.500000000001?e[4]>9.500000000000002?re=-.009504203657088933:e[8]>819.5000000000001?re=.18689664822602375:re=.03635576744011826:re=-.029862411809998525:e[223]>1e-35?re=-.06474496692999487:e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?re=-.09405026597863717:e[0]>4153.500000000001?re=.053577663326799765:re=-.05062127873995668:re=.06512222894425874:e[39]>1e-35?re=-.04985311717827547:e[51]>1e-35?re=-.04541229517934797:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?re=-.02860634573675884:re=.08863753005590103:re=.11158892111063744:e[0]>655.5000000000001?re=-.031005736641654926:re=-.1439827004505974:e[222]>1e-35?e[1]>11.500000000000002?e[0]>612.5000000000001?re=-.00843386136334982:re=-.05273594615999777:re=.1060183822015004:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?re=-.015774115523598486:re=.10147367091236065:re=-.048307000563071016:re=.002118376117677254;let le;e[8]>1014.5000000000001?e[9]>137.50000000000003?le=-.10279096288817871:e[0]>93.50000000000001?e[8]>1067.5000000000002?e[227]>1e-35?le=-.03544332389470493:e[285]>1e-35?e[9]>64.50000000000001?le=.07211107542565391:le=-.041556776020476104:e[145]>1e-35?e[1]>66.50000000000001?le=-.0751486415451188:e[1]>59.50000000000001?le=.13459005084554104:le=.024184371850147466:e[0]>3072.5000000000005?e[95]>1e-35?le=.06715575425741895:le=-.005895690393702183:e[8]>2915.5000000000005?le=-.010205039411753762:e[9]>33.50000000000001?e[9]>47.50000000000001?le=-.00029068886245881074:le=.0613467393188786:e[148]>1e-35?le=-.06074463294936236:e[3]>1.5000000000000002?e[5]>1849.5000000000002?e[1]>15.500000000000002?le=.003887223773199377:le=-.08553893131979015:le=.025654192706396767:le=-.05651733979610658:le=-.02039913645229667:e[2]>7.500000000000001?le=-.1058450646728524:le=.02267192191610376:e[1]>120.50000000000001?e[2]>60.50000000000001?le=-.12304707569000428:e[1]>132.50000000000003?e[6]>41.50000000000001?le=.1283258201586378:le=-.01718135372229775:le=-.07702452408491414:e[125]>1e-35?le=-.0804612900572707:e[178]>1e-35?e[0]>4533.500000000001?le=.04273051857848212:le=-.04533122948101463:e[2]>196.50000000000003?le=-.10543331044088727:e[94]>1e-35?e[5]>4532.500000000001?le=.0231032972703664:le=-.04807386814498683:le=.002729435991332102;let ce;e[179]>1e-35?ce=-.08065315471211375:e[183]>1e-35?e[17]>1e-35?ce=.026484626664041125:e[10]>1.5000000000000002?ce=-.10187000872941615:ce=.015274190652133752:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?ce=.09574540795390041:ce=-.06454986703691233:ce=-.11411849349353141:e[266]>1e-35?ce=-.09281838517322076:e[32]>1e-35?e[8]>2302.5000000000005?ce=.06685250330182936:e[4]>67.50000000000001?e[2]>97.50000000000001?ce=-.04403391373512386:ce=.1132928075412222:e[2]>47.50000000000001?ce=-.09700191391838056:ce=-.02147184357182825:e[10]>4.500000000000001?e[21]>1e-35?ce=-.0735617817957859:e[17]>1e-35?e[3]>18.500000000000004?ce=-.001668912999010927:ce=-.02363511102970245:e[8]>58.50000000000001?ce=-.00035213368294640616:e[3]>17.500000000000004?e[2]>28.500000000000004?e[10]>23.500000000000004?e[1]>38.50000000000001?ce=.0911011436534449:e[1]>28.500000000000004?ce=-.07192390493729035:ce=.06913818091291246:ce=-.012312625373699222:ce=.06784496312307986:ce=-167756936027735e-19:e[18]>1e-35?e[8]>302.50000000000006?ce=.0026564453057705273:ce=-.025425772389361445:e[122]>1e-35?ce=-.12046786388602149:e[0]>3183.5000000000005?ce=.01162092842804907:e[91]>1e-35?ce=.07000265526928563:e[1]>22.500000000000004?e[0]>576.5000000000001?ce=-.0001647792543020228:ce=-.023664538532907665:ce=.01609078206180752;let De;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4141.500000000001?De=-.051473645433684705:e[0]>3030.5000000000005?e[1]>51.50000000000001?De=-.017696526862422682:De=.1450050954613223:De=-.05406930069823832:De=-.08308700260259043:e[120]>1e-35?De=.058316269489189415:e[297]>1e-35?e[94]>1e-35?De=-.07425512495167255:e[8]>51.50000000000001?e[1]>13.500000000000002?e[1]>33.50000000000001?e[19]>1e-35?e[0]>4498.500000000001?De=.038431826961746934:De=-.05937462906539856:e[9]>65.50000000000001?De=.10814845712507865:e[4]>9.500000000000002?e[2]>22.500000000000004?e[1]>39.50000000000001?e[1]>44.50000000000001?e[10]>44.50000000000001?De=.12297945639231944:e[0]>3796.5000000000005?e[4]>26.500000000000004?De=-.09579030954062734:De=.025064711572811746:De=.02579440518821548:De=.1044440128091862:De=-.058348633139536844:De=.07766788227934436:De=-.01021229539092708:e[2]>2.5000000000000004?e[10]>29.500000000000004?e[0]>3770.5000000000005?e[0]>4438.500000000001?De=.07463684068207214:De=.18244269035484484:e[6]>39.50000000000001?De=-.06050050067471004:De=.05787759066913493:De=.010783225857972171:De=.1674891243602606:e[4]>9.500000000000002?De=-.004814132027475892:De=-.14543299413454813:De=-.02935093398687923:e[116]>1e-35?e[9]>2.5000000000000004?e[8]>1218.5000000000002?De=-.07634466313617769:De=.0287825335169114:De=-.06894721943300268:De=-.00023988459059521937;let be;e[131]>1e-35?e[1]>93.50000000000001?be=-.05706887458825395:e[2]>1.5000000000000002?be=.011446637886629108:be=-.10616119878749211:e[230]>1e-35?e[4]>6.500000000000001?e[0]>4977.500000000001?be=.08424281276381033:e[3]>17.500000000000004?e[20]>1e-35?be=.11146885439601915:e[8]>61.50000000000001?e[0]>3530.5000000000005?e[9]>48.50000000000001?e[9]>61.50000000000001?be=.026278724448495064:be=.17053138400480508:e[0]>4463.500000000001?be=-.06482289890096041:be=.03026516489536295:be=-.031785170717683144:be=.1312690622980455:e[13]>1e-35?be=.14336922540461444:be=.03523850945454039:be=-.015407465968975714:e[39]>1e-35?be=-.054809635385158186:e[32]>1e-35?e[0]>4242.500000000001?be=-.0659975068798723:be=-.008386582621403979:e[4]>60.50000000000001?e[10]>75.50000000000001?e[3]>107.50000000000001?be=-.04225314193574262:e[3]>70.50000000000001?e[1]>29.500000000000004?be=.057409156184759516:be=.2024322059866388:be=-.030670938454461245:e[10]>1e-35?e[0]>4733.500000000001?be=.010648654146284154:e[308]>1e-35?be=.008728141696325391:e[4]>64.50000000000001?e[298]>1e-35?be=.12364025998551711:be=-.02247495081065243:e[1]>22.500000000000004?be=-.0726295464624251:be=.03481895086048152:e[0]>4331.500000000001?be=-.04775443357020673:be=.07172377425057568:e[2]>89.50000000000001?be=-.11782645274716962:be=.00010092665257989378;let qe;e[147]>1e-35?qe=-.041560228567115574:e[302]>1e-35?e[10]>47.50000000000001?qe=.062292114082780084:e[10]>5.500000000000001?e[7]>22.500000000000004?qe=-.016101990375700172:e[0]>2579.5000000000005?qe=-.13045089661551845:qe=-.02874367814784938:qe=.025835149631944995:e[167]>1e-35?e[0]>3928.5000000000005?qe=.17084176915326055:qe=-.019195947948312853:e[222]>1e-35?e[30]>1e-35?e[1]>36.50000000000001?e[8]>45.50000000000001?e[8]>578.5000000000001?e[1]>67.50000000000001?qe=.10591712319944074:qe=-.024082167264285:qe=.16497698867036126:qe=-.04985066326861431:e[0]>1937.5000000000002?e[2]>16.500000000000004?qe=-.021012910475524206:qe=-.13058422554298485:e[0]>1102.5000000000002?qe=.10955864175201457:qe=-.03566689354348996:e[1]>11.500000000000002?qe=-.02093884208606101:qe=.09107244766183857:e[126]>1e-35?e[10]>32.50000000000001?e[8]>719.5000000000001?qe=-.013861861436128482:qe=.09756849802202777:e[224]>1e-35?e[1]>51.50000000000001?qe=.10163873449625677:qe=-.02779270277623805:e[1]>26.500000000000004?qe=-.08035058228527389:qe=.0005719695099064484:e[191]>1e-35?e[9]>9.500000000000002?qe=-.007028075523033826:qe=.0489470913925288:e[1]>61.50000000000001?e[132]>1e-35?qe=.11230846723576784:e[0]>350.50000000000006?e[2]>1.5000000000000002?qe=-.0032075580718124892:qe=-.04442829143298883:qe=-.06597073245775804:qe=.0015594090939337751;let Re;e[223]>1e-35?e[8]>668.5000000000001?Re=-.12803889879260094:Re=.002171373740016862:e[121]>1e-35?e[0]>4720.500000000001?e[217]>1e-35?Re=.08967966612917375:e[1]>39.50000000000001?Re=-.059791671514498074:Re=.05648934961902822:e[2]>59.50000000000001?Re=-.08633234097449628:e[6]>53.50000000000001?Re=.11140345067444689:e[1]>56.50000000000001?e[4]>7.500000000000001?e[0]>3560.5000000000005?Re=.025606129643140924:Re=.13835395886271978:Re=-.09361630641448024:e[4]>7.500000000000001?e[1]>26.500000000000004?e[1]>49.50000000000001?Re=-.09975506556937946:e[10]>36.50000000000001?Re=-.09427724661655643:e[10]>24.500000000000004?Re=.07329330653410447:Re=-.02271182965807972:Re=-.09767874967639482:e[6]>13.500000000000002?e[10]>23.500000000000004?Re=-.05082091374050816:Re=.1687114435254966:e[0]>2314.5000000000005?Re=-.06422664016383926:Re=.0636688376664789:e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?Re=-.06857762517406195:e[9]>71.50000000000001?e[0]>4188.500000000001?Re=-.1274167728754332:Re=.01308079126447365:e[4]>73.50000000000001?Re=.13854015371106546:e[4]>48.50000000000001?Re=-.03684255740123261:e[6]>45.50000000000001?Re=.10329912215813097:e[10]>77.50000000000001?Re=-.08630788656925215:Re=.031022006843800853:e[1]>25.500000000000004?Re=-.08278381528048026:Re=.06664374548141594:e[84]>1e-35?Re=-.05624227409079396:Re=.00012184182357340415;let Xe;e[179]>1e-35?Xe=-.07443348719246982:e[40]>1e-35?e[0]>1937.5000000000002?Xe=-.07595415373151816:Xe=.054065040429292326:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[0]>1187.5000000000002?Xe=.022822510448266862:Xe=.17491569312933697:Xe=-.058362287133533565:e[2]>2.5000000000000004?Xe=-.03633895806364428:Xe=.06397808186120692:e[8]>4968.500000000001?e[1]>31.500000000000004?Xe=-.07294848747514579:Xe=.025053613105805606:e[230]>1e-35?e[4]>6.500000000000001?e[107]>1e-35?Xe=-.07009535282685533:e[8]>2640.0000000000005?Xe=-.051761240111316276:e[131]>1e-35?Xe=-.06245774419231631:Xe=.03495606662854905:Xe=-.013863522184803188:e[131]>1e-35?e[1]>93.50000000000001?e[1]>105.50000000000001?Xe=.0015036626973581122:Xe=-.12505706794835883:e[1]>48.50000000000001?e[276]>1e-35?Xe=.10435171369790015:e[0]>5026.500000000001?e[0]>5308.500000000001?Xe=.022343994371919224:Xe=-.14087991797693533:e[8]>1323.5000000000002?e[10]>49.50000000000001?Xe=.07724450228328664:e[0]>3853.5000000000005?Xe=-.15671707454435677:e[10]>28.500000000000004?Xe=-.10179090671841723:Xe=.014878216919760927:Xe=.03967665658164865:e[8]>2696.5000000000005?e[15]>1e-35?Xe=.14054154485273487:Xe=.01821247272493051:e[2]>5.500000000000001?e[2]>100.50000000000001?Xe=-.08632985141410315:Xe=.005524157938954954:Xe=-.08802502622523681:Xe=-.0004649168897260341;let ft;e[86]>1e-35?e[8]>65.50000000000001?e[1]>32.50000000000001?e[4]>16.500000000000004?ft=-.007458687464321174:ft=-.09444966249102484:e[1]>23.500000000000004?ft=.08564129697360716:ft=-.07105002902845851:ft=.05688756955238231:e[294]>1e-35?e[10]>50.50000000000001?ft=-.10326216566705966:e[1]>26.500000000000004?ft=.0050539832484585365:ft=-.07080395606126953:e[306]>1e-35?e[149]>1e-35?ft=-.10399433201474328:e[2]>14.500000000000002?e[9]>6.500000000000001?ft=.05783632021087773:e[10]>17.500000000000004?ft=-.06720598671764105:e[1]>47.50000000000001?ft=.097495825172558:ft=-.013372242800584872:ft=-.06463226787713715:e[42]>1e-35?ft=-.0885725817597767:e[204]>1e-35?e[1]>62.50000000000001?ft=-.07496598696848249:e[1]>29.500000000000004?e[8]>446.50000000000006?ft=.11051270080118503:ft=.027719462817590454:e[8]>597.5000000000001?ft=-.08441503592016869:ft=.05534229430302502:e[223]>1e-35?e[8]>668.5000000000001?ft=-.12190088985091102:ft=-.0067442838156576345:e[148]>1e-35?e[9]>79.50000000000001?ft=.09225972475904022:e[2]>10.500000000000002?e[1]>102.50000000000001?ft=.11805676536334647:e[8]>1726.5000000000002?e[9]>10.500000000000002?ft=.016585157185448045:ft=-.11032043771149425:ft=.01586986028570486:e[8]>388.50000000000006?ft=-.10592413013261853:ft=.04930703248769364:e[13]>1e-35?ft=.003621937787920821:ft=-.0013786331198611841;let at;e[145]>1e-35?e[1]>32.50000000000001?e[1]>38.50000000000001?e[10]>55.50000000000001?e[1]>54.50000000000001?at=.009769895322846493:at=-.10620052926943656:e[9]>19.500000000000004?at=.03781202525403449:e[9]>14.500000000000002?at=-.11485785321365344:e[9]>6.500000000000001?at=.07677177833073881:e[0]>4342.500000000001?at=-.07079285609687631:e[49]>1e-35?at=.06156814809246001:at=-.014788509042554625:at=-.032659201618470655:e[5]>5207.500000000001?at=-.09013500825185713:e[3]>10.500000000000002?e[8]>1787.5000000000002?at=-.03094160322187924:e[1]>29.500000000000004?at=.09474646043921069:at=.023445783928231618:at=.09342846694174194:e[0]>533.5000000000001?e[204]>1e-35?e[1]>62.50000000000001?at=-.07164443768784848:e[1]>29.500000000000004?at=.089473622509272:e[8]>597.5000000000001?at=-.08155349903101317:at=.07098423265024251:e[8]>691.5000000000001?e[5]>2252.5000000000005?at=-.004003900679358653:e[190]>1e-35?at=-.09236113461485262:e[8]>3198.5000000000005?at=-.0124130160451179:at=.018453070064009328:e[15]>1e-35?at=.012013209112857824:e[7]>4.500000000000001?e[7]>5.500000000000001?at=-.0009580759587680961:at=-.03227283036698222:at=.01369287669536875:e[1]>50.50000000000001?at=-.04213060332500437:e[35]>1e-35?at=-.11508095777767471:e[190]>1e-35?at=-.08611884672400155:e[297]>1e-35?at=.05723551879433584:at=-.004829340082311461;let lt;e[183]>1e-35?lt=-.037994150023203555:e[227]>1e-35?e[17]>1e-35?e[3]>20.500000000000004?e[10]>36.50000000000001?lt=-.11753465135886734:lt=-.007515490299047085:lt=-.08576941990777916:e[8]>1641.5000000000002?e[10]>37.50000000000001?lt=-.12371142493530439:e[1]>36.50000000000001?lt=.032189417575190435:lt=-.10339125953022954:e[3]>32.50000000000001?e[4]>27.500000000000004?e[1]>59.50000000000001?lt=-.0784518658439288:e[2]>54.50000000000001?lt=.12477882322370665:lt=.000313468482399738:lt=.12261955132611434:e[8]>81.50000000000001?e[23]>1e-35?lt=.04969252946760318:e[8]>511.50000000000006?e[8]>1146.5000000000002?lt=.0353146070135579:lt=-.06327619611098285:lt=.02813577701641991:lt=-.12354390728506215:e[34]>1e-35?lt=-.07664408516055397:e[3]>99.50000000000001?e[1]>16.500000000000004?e[1]>26.500000000000004?lt=-.01245803535276381:lt=-.07169472553475001:e[1]>11.500000000000002?lt=.12989984824561698:lt=-.01201544398886606:e[6]>91.50000000000001?e[1]>22.500000000000004?lt=.010390226893521422:e[10]>14.500000000000002?lt=.16790888126487719:lt=.010614982228955577:e[4]>79.50000000000001?e[9]>44.50000000000001?e[0]>3853.5000000000005?lt=-.043398307129729134:lt=.09963544907820426:e[9]>30.500000000000004?lt=-.13540713124984502:e[9]>17.500000000000004?lt=.0509435850590757:lt=-.04761897852404613:e[4]>78.50000000000001?lt=.09197086656470652:lt=.0006771050176682337;let oe;e[122]>1e-35?e[6]>36.50000000000001?oe=.05686884451670743:oe=-.05334759543084309:e[266]>1e-35?oe=-.08603579519816038:e[157]>1e-35?oe=-.06736746113382097:e[302]>1e-35?e[0]>2579.5000000000005?oe=-.0499592651503952:e[0]>725.5000000000001?oe=.11780353905132664:oe=-.05232097173108943:e[147]>1e-35?e[1]>53.50000000000001?oe=-.11398297342629615:e[0]>2604.5000000000005?e[0]>3629.5000000000005?oe=-.03190157229022304:oe=.07985197845805492:oe=-.0763078988943886:e[4]>41.50000000000001?e[280]>1e-35?oe=.05162933940904835:e[11]>1e-35?e[0]>460.50000000000006?oe=-.027174047777029083:oe=.057117284879796476:e[3]>43.50000000000001?oe=-.0016147040913107311:oe=-.05856597304613519:e[2]>45.50000000000001?e[0]>4663.500000000001?e[18]>1e-35?oe=-.04779247091640426:e[10]>25.500000000000004?e[9]>22.500000000000004?e[22]>1e-35?oe=-.01466076988151239:oe=.13375695925484857:oe=-.04885873081899647:e[0]>5566.500000000001?oe=.11086813028591343:e[8]>992.5000000000001?oe=-.07622304217072383:oe=.04316019272026325:e[10]>12.500000000000002?e[9]>36.50000000000001?e[9]>45.50000000000001?oe=.03285858361708423:oe=-.12354858211764992:oe=.0672788301823281:e[15]>1e-35?oe=.08658836986585006:oe=-.02741484278509758:e[290]>1e-35?oe=-.08161310335133287:e[135]>1e-35?oe=-.04824156054814152:oe=.0009156904299554183;let Ne;e[3]>7.500000000000001?Ne=.0006791852818377787:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Ne=.03642374718166293:Ne=.16379973756366603:Ne=-.03946685266127979:e[186]>1e-35?Ne=.07618896623420895:e[96]>1e-35?Ne=.0680272261319657:e[107]>1e-35?e[1]>48.50000000000001?Ne=-.022822371600847505:Ne=.0501405836324949:e[203]>1e-35?e[1]>77.50000000000001?Ne=.044416424920571296:Ne=-.0648450593196238:e[5]>3921.5000000000005?e[1]>110.50000000000001?Ne=-.11110466767595227:e[9]>5.500000000000001?e[9]>52.50000000000001?e[1]>50.50000000000001?Ne=.1061937286809567:e[7]>54.50000000000001?Ne=.11487507743121311:e[8]>819.5000000000001?Ne=-.07181278009001418:e[10]>25.500000000000004?Ne=.13499019430369633:e[1]>31.500000000000004?Ne=.09032979489780704:Ne=-.12754166393372374:e[9]>37.50000000000001?Ne=-.05093963635361407:Ne=-.005026651151683848:e[9]>2.5000000000000004?Ne=.07619735785573735:Ne=.012363301341532136:e[26]>1e-35?Ne=-.10685800454968203:e[8]>125.50000000000001?e[8]>446.50000000000006?e[0]>3842.5000000000005?Ne=-.08783796894105043:e[282]>1e-35?e[1]>47.50000000000001?e[9]>40.50000000000001?Ne=-.10764172927882483:Ne=.01890760098464703:Ne=.06573095405846417:e[8]>634.5000000000001?Ne=-.00783575973273707:Ne=-.050612689680229306:e[1]>22.500000000000004?Ne=-.0016842490401359626:Ne=.0738227088444087:Ne=-.02663970950432175;let Ae;e[31]>1e-35?e[8]>17.500000000000004?Ae=.013678038624884814:e[1]>35.50000000000001?e[1]>51.50000000000001?Ae=.007191286124908192:Ae=-.09347881647636902:e[10]>1.5000000000000002?Ae=.07938758708008091:Ae=-.008702935600305113:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ae=.12321804057595996:Ae=-.018281109320672437:e[23]>1e-35?e[4]>62.50000000000001?Ae=-.04644244754790671:Ae=.024546310702263208:e[8]>862.5000000000001?e[0]>3429.5000000000005?e[4]>9.500000000000002?e[52]>1e-35?Ae=.0706108609273337:e[2]>40.50000000000001?Ae=-.028046629962303716:Ae=-.06497613993109329:Ae=.01076489668586676:e[1]>33.50000000000001?e[0]>966.5000000000001?e[2]>14.500000000000002?e[1]>38.50000000000001?Ae=-.03056331974267756:Ae=-.11886389712497057:Ae=.053364962175658184:e[8]>2233.5000000000005?Ae=-.0448152521157682:Ae=.1508651602190868:e[2]>33.50000000000001?e[0]>2882.5000000000005?e[0]>3183.5000000000005?Ae=.03818796510453344:Ae=.23673992112982362:Ae=.02858814226507374:e[10]>44.50000000000001?Ae=-.1125863771551199:Ae=.009129996952394916:e[1]>7.500000000000001?Ae=-.004374525302461639:Ae=-.07858519434925451:e[149]>1e-35?e[6]>23.500000000000004?Ae=.0005231594491642136:e[0]>4053.5000000000005?e[8]>660.5000000000001?Ae=-.13677189943034931:e[10]>2.5000000000000004?Ae=.039591891437078086:Ae=-.09312596849507347:Ae=-.02423172142089822:Ae=.0009836986075266283;let Ge;e[189]>1e-35?e[0]>5269.500000000001?Ge=-.103183298350443:e[2]>51.50000000000001?Ge=.09784373530929913:e[10]>26.500000000000004?e[8]>764.5000000000001?Ge=-.05186168947388339:Ge=.0496996365539082:e[10]>23.500000000000004?Ge=.1404445738719:e[93]>1e-35?Ge=.0027146310074558505:e[5]>3821.5000000000005?Ge=.002153033152069652:e[4]>2.5000000000000004?Ge=.007663539551317215:Ge=.13902616832015402:e[298]>1e-35?e[8]>81.50000000000001?e[4]>64.50000000000001?Ge=.11498405722487515:e[2]>23.500000000000004?e[0]>2815.5000000000005?e[2]>44.50000000000001?e[4]>42.50000000000001?Ge=-.021479467709980358:Ge=.09336868994327292:e[1]>22.500000000000004?e[15]>1e-35?Ge=.021660293256233334:Ge=-.0927396152303864:Ge=.0665074081601698:e[0]>1550.5000000000002?Ge=.08972407105958534:Ge=-.0380796411182682:e[6]>13.500000000000002?e[10]>2.5000000000000004?Ge=.06761927942466854:Ge=-.015762168112653286:e[17]>1e-35?Ge=.10311304131145381:Ge=-.017672785252336027:Ge=-.08629805732772755:e[1]>24.500000000000004?e[138]>1e-35?Ge=-.10638321435298535:Ge=.0007073011744385905:e[18]>1e-35?Ge=-.027056185501334325:e[145]>1e-35?Ge=.023191199677450886:e[9]>33.50000000000001?e[201]>1e-35?Ge=.09762140519655171:e[9]>110.50000000000001?Ge=-.06581942957595835:e[6]>54.50000000000001?Ge=.04959634035251596:Ge=.0022616298654554207:Ge=-.007437620924990854;let Y;e[179]>1e-35?Y=-.06961998209988884:e[167]>1e-35?e[0]>3928.5000000000005?Y=.1470294450403005:Y=-.01671476793947083:e[187]>1e-35?e[6]>13.500000000000002?e[4]>30.500000000000004?e[13]>1e-35?Y=.07448480853603114:e[0]>1012.5000000000001?e[5]>2883.5000000000005?e[0]>3682.5000000000005?e[5]>4031.5000000000005?e[23]>1e-35?Y=.07965955447707423:e[10]>10.500000000000002?Y=-.09236156404262426:Y=.03396273196231458:Y=-.13246465021467432:Y=.07092822261735353:Y=-.08753829085942:Y=.09409024840640956:e[1]>40.50000000000001?e[8]>984.5000000000001?e[8]>1514.5000000000002?e[8]>2134.5000000000005?Y=.004705878789890202:Y=.13775378964952867:Y=-.04770928980587811:e[10]>29.500000000000004?Y=.011221519891071544:e[0]>3853.5000000000005?Y=.06365381191628273:Y=.15506252245336827:e[1]>37.50000000000001?Y=-.07254777021042061:Y=.026514587757252385:e[308]>1e-35?Y=.04115804816617256:e[10]>26.500000000000004?Y=.02077721353011946:e[5]>3548.5000000000005?Y=-.1280907116663952:Y=-.021974774274438:e[306]>1e-35?Y=-.02700446558079895:e[297]>1e-35?e[212]>1e-35?Y=.07794139136748461:e[7]>5.500000000000001?e[19]>1e-35?Y=-.005710865560475598:e[94]>1e-35?Y=-.06751507982853555:Y=.027250040757588703:e[9]>52.50000000000001?Y=.07060357924595577:Y=-.030297760713011795:Y=-.0006005400085266517;let ne;e[113]>1e-35?ne=-.07311041707507712:e[40]>1e-35?e[0]>1937.5000000000002?ne=-.06996356565314456:ne=.04780211300352931:e[10]>52.50000000000001?e[49]>1e-35?ne=-.08317707559926495:e[21]>1e-35?ne=-.0817284654645976:e[15]>1e-35?e[2]>3.5000000000000004?ne=-.010538203005984922:ne=.08454819465349446:e[9]>124.50000000000001?ne=.09015659250299132:e[7]>15.500000000000002?e[5]>5732.500000000001?ne=-.08542251249346582:e[9]>50.50000000000001?ne=-.023428882537657472:ne=.010042500833979073:ne=.020697210754240154:e[10]>28.500000000000004?e[5]>423.00000000000006?e[148]>1e-35?ne=.03006025206979096:e[9]>108.50000000000001?ne=-.09153851322499747:e[145]>1e-35?e[5]>4814.500000000001?e[2]>38.50000000000001?ne=.04222035773042132:ne=-.09078149053947535:e[8]>568.5000000000001?e[1]>64.50000000000001?ne=-.07209095448054853:ne=.028065954981903313:ne=.08714651929917122:ne=-.006678820669279169:e[10]>40.50000000000001?ne=.006982396294941626:ne=-.07889649792011418:e[94]>1e-35?e[4]>30.500000000000004?ne=-.09351114982645548:e[4]>3.5000000000000004?ne=-.004837550129223451:ne=-.08324141237464677:e[303]>1e-35?ne=.10703037493990825:e[9]>156.50000000000003?ne=-.10803018621648303:e[116]>1e-35?ne=-.03208302566598311:e[212]>1e-35?e[243]>1e-35?ne=.10261721665006701:ne=.018994509090668264:ne=.0011244262442038839;let Fe;e[86]>1e-35?e[8]>65.50000000000001?e[1]>46.50000000000001?Fe=-.08404263465005328:e[0]>3682.5000000000005?Fe=.041259223920298876:e[1]>29.500000000000004?Fe=-.09541257493441671:Fe=.001482192721625409:Fe=.051541427372951004:e[3]>7.500000000000001?e[157]>1e-35?Fe=-.08268996098437432:e[230]>1e-35?Fe=.015749498159959817:e[4]>7.500000000000001?e[3]>11.500000000000002?Fe=-913218977737457e-19:e[4]>10.500000000000002?Fe=-.056334165674005156:e[127]>1e-35?Fe=-.0784634021824036:e[2]>9.500000000000002?e[1]>62.50000000000001?Fe=-.04231200150318989:e[10]>42.50000000000001?Fe=.10182973257894812:Fe=.015934763950068445:Fe=-.03130938805859397:e[92]>1e-35?e[4]>6.500000000000001?e[1]>51.50000000000001?e[9]>19.500000000000004?Fe=-.041117068322885315:Fe=.1167767830037126:Fe=.13611206992387337:e[10]>41.50000000000001?Fe=-.07120286010564107:Fe=.022032788063345417:e[8]>1.5000000000000002?e[1]>51.50000000000001?e[9]>72.50000000000001?Fe=-.07702290997669524:e[198]>1e-35?Fe=.08776558554437136:Fe=-.008290740324975692:e[2]>32.50000000000001?Fe=.07198457624219955:Fe=.005463113714361629:Fe=.09414099512900526:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?Fe=.03295785445437507:Fe=.15140250150674536:Fe=-.035613213948910254:e[186]>1e-35?Fe=.06849425535860769:e[96]>1e-35?Fe=.06028225812727254:Fe=-.007582543288662308;let Se;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Se=.08396556264106572:Se=-.0562516995099192:Se=-.10593011018789432:e[183]>1e-35?e[15]>1e-35?Se=-.09705176473553752:e[7]>18.500000000000004?e[2]>37.50000000000001?Se=.0052017514017035915:Se=-.11194119432743639:Se=.03724337696163019:e[227]>1e-35?e[17]>1e-35?e[2]>16.500000000000004?Se=-.025692451287403446:Se=-.09511862672123193:e[8]>1661.5000000000002?e[10]>37.50000000000001?Se=-.11892250746801664:e[10]>22.500000000000004?Se=.07548493166973796:Se=-.05973048107712209:e[4]>12.500000000000002?e[0]>4319.500000000001?e[10]>4.500000000000001?e[10]>37.50000000000001?Se=.13750699058082427:e[18]>1e-35?Se=.06535408879552801:Se=-.054118179035040674:Se=.1344282838979622:e[0]>3982.5000000000005?Se=-.10409582202467015:e[19]>1e-35?Se=.12672850705810795:e[8]>587.5000000000001?e[1]>35.50000000000001?Se=.012705935670766466:Se=.14149359442527545:Se=-.047977876173706004:e[20]>1e-35?Se=.057945228080337946:e[0]>3642.5000000000005?Se=-.008726535792122467:Se=-.08424769891378858:e[34]>1e-35?Se=-.0699329538228602:e[134]>1e-35?e[11]>1e-35?e[4]>15.500000000000002?e[0]>1187.5000000000002?Se=.01196849566739346:Se=.1614642278429876:Se=-.043022338150701625:e[3]>5.500000000000001?Se=-.03907848255033881:Se=.018280601026175593:Se=.0006654540402589085;let Ce;e[31]>1e-35?e[2]>58.50000000000001?e[9]>1.5000000000000002?Ce=-.01386103677247845:Ce=.11386694333005128:e[4]>27.500000000000004?Ce=-.021862617610091336:e[2]>31.500000000000004?Ce=.0828858469030438:Ce=.006483353475830127:e[224]>1e-35?e[149]>1e-35?e[13]>1e-35?Ce=.11303635767048735:Ce=-.01645525128352694:e[23]>1e-35?e[4]>62.50000000000001?Ce=-.04238798044549342:Ce=.022091190130494303:e[5]>5082.500000000001?Ce=-.04287166152163786:e[8]>862.5000000000001?e[19]>1e-35?Ce=.000660344696244351:e[4]>9.500000000000002?e[0]>1277.5000000000002?Ce=-.04291104140431434:e[17]>1e-35?Ce=.11256797532342613:Ce=-.017206916368289193:Ce=.026482035265709743:e[1]>8.500000000000002?e[11]>1e-35?Ce=.04060606971664621:e[0]>4733.500000000001?e[8]>214.50000000000003?e[5]>4814.500000000001?Ce=.03581712466863222:Ce=.14770264307668884:e[8]>73.50000000000001?Ce=-.13093289429740068:Ce=.042461737442702936:e[52]>1e-35?Ce=.0501831919044939:Ce=-.010450249720465756:Ce=-.0753365425372656:e[149]>1e-35?e[6]>23.500000000000004?Ce=.0005381332165438493:Ce=-.04549431717503909:e[133]>1e-35?e[2]>5.500000000000001?e[8]>698.5000000000001?e[282]>1e-35?Ce=.04849637311285226:Ce=-.036671377119808564:e[0]>421.50000000000006?Ce=.00020968499911058945:Ce=.11636422423182405:Ce=-.12687837788222575:Ce=.0012774367867215346;let Ue;e[120]>1e-35?Ue=.04776057572434719:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?Ue=-.042799574885345304:Ue=.07412430171193245:Ue=-.11248270469336048:e[193]>1e-35?Ue=-.060694220820603384:e[121]>1e-35?e[217]>1e-35?e[0]>4449.500000000001?e[4]>8.500000000000002?Ue=.028911612178122104:Ue=.12326369727728437:e[0]>4091.5000000000005?Ue=-.09370267064141052:e[0]>3519.5000000000005?e[8]>668.5000000000001?Ue=.1159839898100149:Ue=-.01924880886585737:e[8]>501.50000000000006?e[10]>16.500000000000004?Ue=-.0216343737351583:Ue=-.1220272260878369:e[2]>18.500000000000004?Ue=.09152924475072398:e[8]>55.50000000000001?Ue=.039508716651005665:Ue=-.11714436880423203:e[18]>1e-35?e[9]>2.5000000000000004?Ue=.06793009902674053:Ue=-.024060578029812988:e[4]>2.5000000000000004?e[2]>16.500000000000004?e[4]>11.500000000000002?Ue=-.04391068849624096:Ue=.04009967593394672:e[8]>1085.5000000000002?Ue=-.024773826356034825:Ue=-.13919707884246582:Ue=.06659278075192335:e[223]>1e-35?e[8]>668.5000000000001?Ue=-.11567917501901476:Ue=-.006813640337684114:e[3]>7.500000000000001?Ue=.0010671269682548076:e[7]>3.5000000000000004?e[1]>33.50000000000001?e[0]>1597.5000000000002?e[10]>1.5000000000000002?Ue=-.001754586408351048:Ue=-.055422422450722056:Ue=-.06090032532532226:e[0]>5269.500000000001?Ue=.11787981735983527:Ue=-.00198119768540783:Ue=.00210412924303036;let Ve;e[294]>1e-35?e[10]>50.50000000000001?Ve=-.09738558653332406:e[0]>2432.5000000000005?e[0]>4533.500000000001?Ve=-.06063239096209816:Ve=.03317022411417386:Ve=-.08607562321324262:e[120]>1e-35?e[4]>18.500000000000004?Ve=-.013608609329298802:Ve=.09078000157330264:e[99]>1e-35?Ve=.014828708581964632:e[10]>52.50000000000001?e[49]>1e-35?Ve=-.07536137260189814:Ve=.006253266595455118:e[10]>28.500000000000004?Ve=-.006106041147592768:e[9]>156.50000000000003?Ve=-.11828932797811101:e[94]>1e-35?Ve=-.02566078479505714:e[303]>1e-35?Ve=.09544850289775349:e[15]>1e-35?e[224]>1e-35?e[4]>56.50000000000001?Ve=-.08401252789168523:e[5]>4244.500000000001?Ve=.026372887658499107:e[1]>16.500000000000004?Ve=-.027836756345634026:Ve=.09205362097909099:Ve=.00934612788718244:e[203]>1e-35?Ve=-.016371658366767253:e[7]>26.500000000000004?e[0]>966.5000000000001?e[1]>38.50000000000001?e[146]>1e-35?e[9]>21.500000000000004?Ve=-.09580979052540028:e[1]>50.50000000000001?Ve=-.06402211827281554:Ve=.08342858760095972:e[2]>36.50000000000001?Ve=.008114897658204584:e[92]>1e-35?Ve=.09541587072672864:Ve=-.022342147210555434:Ve=-.01660492519175128:Ve=.014721622240945446:e[4]>25.500000000000004?e[11]>1e-35?Ve=.15846731118501817:Ve=.039498507912023195:e[245]>1e-35?Ve=.07008718676813333:Ve=.0019806389728814727;let tt;e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[0]>4188.500000000001?tt=-.01192072916082109:tt=.13888590840802637:e[1]>16.500000000000004?e[8]>2302.5000000000005?tt=.06874032717466054:e[4]>40.50000000000001?tt=-.07752510020707537:e[1]>76.50000000000001?tt=-.09944032260703917:e[8]>1381.5000000000002?tt=-.054466635810800745:e[1]>32.50000000000001?tt=.05974084520839573:tt=-.0384718740755954:tt=-.11374190719134032:e[0]>2151.5000000000005?tt=-.13703645155803298:tt=.004833344758654556:e[297]>1e-35?e[212]>1e-35?tt=.06954747264544993:e[7]>9.500000000000002?e[19]>1e-35?e[1]>30.500000000000004?e[0]>4242.500000000001?tt=.013539805885738608:tt=-.0692740641801559:e[0]>2653.5000000000005?e[10]>57.50000000000001?tt=.09941880179344399:tt=-.01608127391210995:tt=.08025226531247417:e[9]>67.50000000000001?tt=.13525448212444113:e[6]>61.50000000000001?tt=-.05511099182158894:e[94]>1e-35?tt=-.06821509831783572:e[128]>1e-35?tt=.11361314817714643:tt=.030160785008575566:e[1]>13.500000000000002?e[8]>17.500000000000004?e[16]>1e-35?tt=-.09954181329804547:e[197]>1e-35?tt=.10102833149755386:e[188]>1e-35?tt=.05584490988313965:e[9]>49.50000000000001?e[4]>5.500000000000001?tt=-.03781554214742005:tt=.09927933385592314:tt=-.020006000056720083:tt=-.10520473615957895:tt=-.12006990846253787:tt=-.00026111570975317574;let Ct;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[0]>1725.5000000000002?e[7]>14.500000000000002?e[2]>38.50000000000001?Ct=-.019188245509744628:Ct=-.13354864350075848:e[0]>2461.5000000000005?Ct=.051885477468354396:Ct=-.0833581968852119:Ct=.08233441701532287:Ct=-.10865584951212362:e[8]>2992.5000000000005?e[10]>49.50000000000001?e[10]>56.50000000000001?e[1]>45.50000000000001?e[0]>2041.5000000000002?Ct=.09926337893072812:Ct=-.027753610497327715:e[0]>1972.5000000000002?Ct=-.09780045823152517:Ct=.032380915168504935:Ct=.11502632261226381:e[17]>1e-35?Ct=-.06094965899579662:e[10]>40.50000000000001?Ct=-.07500475582440802:Ct=.006499832113084677:e[10]>4.500000000000001?e[4]>10.500000000000002?Ct=-.09584538995220808:Ct=-.00908705814304442:Ct=.03203281520813893:e[10]>49.50000000000001?Ct=-.03146271513986384:e[2]>63.50000000000001?Ct=.13172001315536286:e[224]>1e-35?Ct=.08945777550527927:e[0]>2282.5000000000005?e[4]>4.500000000000001?Ct=.09521549382082259:Ct=-.04414925613522197:e[0]>1847.5000000000002?Ct=-.09118580379557353:Ct=.009206744918282364:e[178]>1e-35?e[2]>25.500000000000004?e[1]>31.500000000000004?Ct=.03525144509943896:Ct=-.053340750721609057:e[0]>1057.5000000000002?e[10]>2.5000000000000004?Ct=-.04766112322938157:e[2]>10.500000000000002?Ct=.0728516504357201:Ct=-.05049625965272536:Ct=-.10868663055825774:Ct=.0005382613419948969;let Pt;e[147]>1e-35?e[1]>53.50000000000001?Pt=-.10615739288764095:e[0]>2604.5000000000005?e[0]>3629.5000000000005?Pt=-.030504020655417463:Pt=.07102458639110094:Pt=-.07058131985243714:e[302]>1e-35?e[10]>47.50000000000001?Pt=.055304563442710876:e[1]>53.50000000000001?Pt=.033723409577443623:e[8]>175.50000000000003?e[0]>2628.5000000000005?e[9]>40.50000000000001?Pt=-.1568835288372895:Pt=-.0279829124400056:Pt=.04493843959601833:Pt=-.11637042729644327:e[191]>1e-35?e[282]>1e-35?Pt=-.054133834303687026:e[9]>48.50000000000001?Pt=.11263810289007213:e[9]>9.500000000000002?Pt=-.02202034562838259:e[4]>45.50000000000001?Pt=-.03410927569045158:Pt=.04381615166534081:e[242]>1e-35?e[0]>3615.5000000000005?e[3]>19.500000000000004?e[1]>56.50000000000001?e[4]>28.500000000000004?Pt=-.029687297407295893:Pt=.10673602850001934:e[4]>42.50000000000001?Pt=.0036275562945108117:Pt=-.0760789221330622:Pt=-.10385623431741903:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?Pt=.08274426793676076:Pt=-.07076234425516396:Pt=.13890177606150175:Pt=-.019863286503635686:e[53]>1e-35?e[18]>1e-35?Pt=-.09250637750836187:Pt=-.0031531727902009026:e[2]>107.50000000000001?e[4]>91.50000000000001?e[1]>16.500000000000004?Pt=-.01897867921812603:Pt=.04890781705365262:Pt=-.11569892307597907:e[2]>106.50000000000001?Pt=.09032697440623969:Pt=.00047935919155035045;let yt;e[115]>1e-35?yt=.05338335681275557:e[242]>1e-35?e[0]>3615.5000000000005?e[4]>42.50000000000001?e[4]>75.50000000000001?yt=-.10131179514695865:e[8]>938.5000000000001?yt=.10203729808015481:yt=-.015357944186835289:e[1]>56.50000000000001?e[2]>22.500000000000004?yt=.03574015165562999:yt=-.07763042506449493:yt=-.0813323116215548:e[2]>34.50000000000001?e[2]>44.50000000000001?e[4]>51.50000000000001?yt=.0665706259130275:yt=-.06586817559309924:yt=.11925564412287476:yt=-.014170019267143326:e[1]>124.50000000000001?e[2]>30.500000000000004?e[8]>533.5000000000001?e[4]>41.50000000000001?e[8]>977.5000000000001?yt=.046017146627455346:yt=-.08623321630086885:e[8]>1765.5000000000002?yt=-.017990564319859934:e[10]>25.500000000000004?e[10]>48.50000000000001?yt=.11143827902215087:yt=-.01817808730473413:yt=.16980985030210127:yt=-.09357806298740017:e[10]>7.500000000000001?e[10]>54.50000000000001?yt=.010168994879727824:yt=-.09099594488792513:e[9]>1.5000000000000002?yt=.0533459678147928:yt=-.06886854808370108:e[99]>1e-35?e[17]>1e-35?e[9]>22.500000000000004?yt=-.062346959148773695:e[1]>47.50000000000001?yt=-.0021578343835599316:e[2]>27.500000000000004?yt=.19567373210166172:yt=.07851555379116423:e[18]>1e-35?yt=.03711549097804649:e[8]>359.50000000000006?yt=.012492346746905587:e[4]>20.500000000000004?yt=.047511695735697544:yt=-.07999269063948773:yt=6802045404471004e-20;let Kt;e[222]>1e-35?e[0]>612.5000000000001?e[10]>1e-35?e[8]>2167.5000000000005?e[4]>25.500000000000004?Kt=.0011484728213539738:Kt=-.0936582904650763:e[2]>25.500000000000004?e[8]>182.50000000000003?e[10]>22.500000000000004?e[0]>5026.500000000001?Kt=-.09828874964938798:e[8]>1586.5000000000002?Kt=.13726397438080162:e[4]>48.50000000000001?e[2]>63.50000000000001?Kt=.011938269926919522:Kt=.17541983715953954:e[19]>1e-35?Kt=.023002786011088672:Kt=-.06221461272461431:e[9]>2.5000000000000004?e[0]>3818.5000000000005?Kt=.06508934844183291:Kt=-.10168553534835639:Kt=-.07755626499024171:e[2]>51.50000000000001?e[4]>65.50000000000001?Kt=.021140806225203937:Kt=-.1167833342453639:e[2]>33.50000000000001?Kt=.13163585734056618:Kt=-.00203273890889717:e[10]>36.50000000000001?e[8]>1067.5000000000002?Kt=.06314479201263888:Kt=-.09639088327091713:e[10]>29.500000000000004?Kt=.09225469303582386:e[0]>3129.5000000000005?e[0]>4091.5000000000005?e[0]>4354.500000000001?Kt=40577156464836036e-21:Kt=.12322387121810757:Kt=-.03697224045046014:e[1]>22.500000000000004?Kt=.016474835887320276:Kt=.16919298733903063:Kt=.07633203630214054:Kt=-.047438037934250644:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?Kt=.14150493354700563:Kt=-.01831155354975749:e[1]>28.500000000000004?Kt=-.07952557178685365:e[10]>28.500000000000004?Kt=.0665695554984927:Kt=-.053640139319277094:Kt=.0004754840665898665;let Xt;e[76]>1e-35?Xt=-.06814884255939921:e[179]>1e-35?Xt=-.06325743795510681:e[122]>1e-35?e[6]>36.50000000000001?Xt=.05052338063261613:e[8]>626.5000000000001?e[1]>38.50000000000001?Xt=.004193658608848433:Xt=-.1066968975983452:e[8]>302.50000000000006?Xt=.05476730110440451:Xt=-.06382970920394895:e[218]>1e-35?e[2]>3.5000000000000004?e[6]>13.500000000000002?e[2]>19.500000000000004?e[0]>3200.5000000000005?e[4]>91.50000000000001?Xt=-.12156071809840739:e[9]>21.500000000000004?e[5]>3883.5000000000005?e[8]>919.5000000000001?e[8]>1085.5000000000002?Xt=.013555772109446666:Xt=-.09856116699770784:Xt=.0284329611813383:e[2]>52.50000000000001?Xt=.04008708444763762:e[9]>29.500000000000004?Xt=-.1289599546008197:Xt=-.018566534248335896:e[8]>747.5000000000001?Xt=.02236484980076122:Xt=.1148871655157582:e[8]>3084.0000000000005?Xt=-.05573875952902531:e[10]>17.500000000000004?e[2]>51.50000000000001?Xt=.03164751204281298:Xt=.11752140436184891:e[9]>42.50000000000001?Xt=-.07180559595410106:e[22]>1e-35?Xt=.09325040416256854:Xt=-.016041122807939914:Xt=-.02765708954618808:e[1]>30.500000000000004?e[1]>66.50000000000001?Xt=-.010718250133458515:Xt=.09818827994853763:Xt=.010180038981174032:Xt=-.039472162599295535:e[9]>170.50000000000003?Xt=-.08536729235976731:e[189]>1e-35?e[0]>5269.500000000001?Xt=-.08674788057474031:Xt=.02077653508548371:Xt=-.0003536561382007414;let lr;e[86]>1e-35?e[10]>6.500000000000001?e[0]>4376.500000000001?lr=.018337297491457794:lr=-.05926206443180149:lr=.024026520855881126:e[288]>1e-35?e[184]>1e-35?lr=.10747078482128616:e[126]>1e-35?lr=-.10550625192391357:e[7]>71.50000000000001?lr=-.07698346027863572:e[8]>302.50000000000006?e[6]>49.50000000000001?e[4]>47.50000000000001?e[1]>38.50000000000001?e[15]>1e-35?lr=.1317396472229434:lr=-.025035791351328947:lr=-.0728334305864372:e[8]>963.5000000000001?lr=.023642201723096064:lr=.183010326734258:e[128]>1e-35?lr=.04228920135648387:e[2]>34.50000000000001?e[15]>1e-35?lr=.002801782941492993:e[3]>40.50000000000001?e[4]>39.50000000000001?lr=-.1088876900335281:lr=.02758317023002635:lr=-.11886771300807207:e[9]>59.50000000000001?e[1]>33.50000000000001?lr=-.01928020117446408:lr=.10193718474139135:e[1]>48.50000000000001?e[4]>9.500000000000002?e[8]>932.5000000000001?lr=.07893723375925096:lr=-.009878929627026153:e[10]>2.5000000000000004?e[9]>20.500000000000004?lr=-.10301657587280551:lr=.005787463140224318:lr=.07421364314695046:e[0]>2840.5000000000005?e[10]>29.500000000000004?lr=-.019296977889522397:lr=-.07274529751752634:e[1]>30.500000000000004?lr=-.050368901143148286:lr=.029630869489466655:e[2]>6.500000000000001?e[4]>9.500000000000002?lr=.0015332402792773946:lr=.09930153676749967:lr=-.06370844564357069:lr=.00042272155209927616;let ge;e[71]>1e-35?e[4]>17.500000000000004?ge=.12586844370423247:ge=-.006791999603126354:e[222]>1e-35?e[1]>10.500000000000002?e[30]>1e-35?e[1]>36.50000000000001?e[9]>1.5000000000000002?e[10]>25.500000000000004?ge=-.08474891624263797:e[8]>125.50000000000001?ge=.08125086980439704:ge=-.04082085238068532:e[0]>3863.5000000000005?ge=.020481535807469208:ge=.14810819386202126:e[0]>1937.5000000000002?e[2]>16.500000000000004?ge=-.019110200161573936:ge=-.12387719685855114:e[0]>1102.5000000000002?ge=.08376595701957407:ge=-.031821919580524834:e[9]>4.500000000000001?ge=-.08116383486497568:e[7]>8.500000000000002?e[2]>24.500000000000004?ge=-.02154820850475448:e[0]>3863.5000000000005?e[8]>902.5000000000001?ge=.1349841206807871:ge=.011864053595560297:e[1]>41.50000000000001?ge=-.08203662486612544:e[2]>18.500000000000004?ge=-.009541865642346947:ge=.08345043168501759:e[2]>10.500000000000002?ge=-.09585031818030947:ge=.019432330487099865:ge=.08399259524715129:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?ge=.11951517733981365:ge=-.016651014735738538:e[1]>28.500000000000004?ge=-.07410922545030711:e[10]>28.500000000000004?ge=.05886430683844788:ge=-.04929626605117184:e[191]>1e-35?e[9]>9.500000000000002?e[9]>48.50000000000001?ge=.04802269879144705:ge=-.026208212831796737:e[4]>45.50000000000001?ge=-.03227476944664786:ge=.05124575625622705:ge=.00020506696916003137;let Me;e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?Me=-.03042091758483443:e[10]>14.500000000000002?Me=.09816619204768777:Me=.01332124067720947:e[8]>8.500000000000002?e[4]>15.500000000000002?Me=-.02381165060401718:Me=-.10950361804974783:Me=.03538211665111128:e[212]>1e-35?e[19]>1e-35?Me=-.09940014650006174:e[0]>2215.5000000000005?e[5]>5056.500000000001?e[3]>5.500000000000001?e[10]>25.500000000000004?Me=-.06371052144380579:Me=.0835500621252692:Me=-.10408255929333915:e[1]>74.50000000000001?Me=.13208968122712403:e[1]>64.50000000000001?Me=-.04778844603644965:e[8]>51.50000000000001?e[8]>201.50000000000003?e[8]>660.5000000000001?e[6]>4.500000000000001?e[9]>5.500000000000001?e[1]>29.500000000000004?e[0]>3830.5000000000005?Me=.09922816902423433:Me=.016366955328796718:Me=.1592412560903584:e[1]>39.50000000000001?Me=.05409467990258923:Me=-.08260633210459611:Me=-.06307205775247567:e[9]>36.50000000000001?Me=.040253940015648144:Me=.14202568969471283:Me=-.028761848341594044:Me=.08994073058773508:e[0]>807.5000000000001?Me=-.043427848826323195:Me=.04573516446846493:e[20]>1e-35?e[188]>1e-35?Me=-.0758877731600639:e[23]>1e-35?Me=.05913923322043199:e[8]>155.50000000000003?e[128]>1e-35?Me=.08124700978741987:Me=.013296063087086852:e[7]>5.500000000000001?Me=-.01640196088612987:Me=-.12685498840146067:Me=-.0004940792382459551;let Je;e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Je=-.05584993681929434:e[9]>27.500000000000004?e[0]>3916.5000000000005?Je=.08513773825688947:Je=-.1184664832315282:Je=.05676963535893477:Je=.14263843210340613:Je=.0005795003292924202:e[18]>1e-35?e[0]>5453.500000000001?e[1]>11.500000000000002?Je=-.10669720555606924:Je=.029016613003137307:e[2]>46.50000000000001?e[10]>9.500000000000002?Je=.0664744575868955:Je=-.08469256188890871:Je=-.026746678040592144:e[281]>1e-35?Je=-.07408427239006925:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Je=.012131807587207655:Je=-.12776015795398743:Je=.04320472481083551:Je=.08390980661550446:e[10]>227.50000000000003?Je=-.09771783809101153:e[10]>130.50000000000003?Je=.11175201938704937:e[8]>779.5000000000001?e[5]>3325.5000000000005?e[128]>1e-35?Je=-.07610698254064358:e[8]>902.5000000000001?Je=-.03136381213599649:e[131]>1e-35?Je=.0704821739127936:e[224]>1e-35?Je=-.056961477774953785:e[10]>30.500000000000004?e[9]>43.50000000000001?Je=.10431473040024908:e[8]>841.5000000000001?Je=.07304745320500514:Je=-.038011541882439825:Je=-.01679746695007364:e[0]>3129.5000000000005?Je=.05589952587431965:e[210]>1e-35?Je=.06227198085800842:Je=-.0011341890997947812:e[8]>740.5000000000001?Je=.04817300084412584:Je=-.000577001010789238;let rt;e[187]>1e-35?e[6]>12.500000000000002?e[10]>8.500000000000002?e[10]>16.500000000000004?e[8]>234.50000000000003?e[4]>43.50000000000001?e[0]>4476.500000000001?rt=-.10504730480402079:e[5]>3341.5000000000005?rt=.11087894671081754:rt=-.0406668834674614:rt=.03308382165616109:e[8]>104.50000000000001?rt=-.10431436764549162:rt=.0073928337244891455:e[4]>34.50000000000001?rt=-.10571751512748416:rt=-.006081128814142983:e[13]>1e-35?rt=.1299673566095023:e[4]>60.50000000000001?rt=-.06587492443829139:e[0]>2604.5000000000005?e[3]>19.500000000000004?rt=.04857126072645073:rt=-.03431365358104773:e[4]>16.500000000000004?rt=.04101865986596709:rt=.16480274980378218:e[10]>26.500000000000004?rt=.03673978504199255:e[10]>9.500000000000002?rt=-.10996402743800027:e[308]>1e-35?rt=.0553693735082498:rt=-.041600136235644125:e[306]>1e-35?e[8]>1156.5000000000002?e[4]>14.500000000000002?e[10]>21.500000000000004?rt=.010902983761213922:rt=.1325118659895645:rt=-.064362945508595:e[1]>66.50000000000001?rt=.033416767779331176:rt=-.054080316225040496:e[42]>1e-35?rt=-.07762364337810815:e[10]>1089.5000000000002?rt=-.08465599849125216:e[31]>1e-35?e[8]>30.500000000000004?rt=.012788520036013586:e[1]>32.50000000000001?e[1]>51.50000000000001?rt=.0220102041325908:rt=-.06516708740003069:rt=.012833498905748267:e[224]>1e-35?rt=-.007038418272997865:rt=.00037666304316290967;let Rt;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Rt=.07554189644995735:Rt=-.052089349455904946:Rt=-.10148206848169845:e[113]>1e-35?Rt=-.06666678653225779:e[39]>1e-35?e[9]>3.5000000000000004?e[0]>3670.5000000000005?Rt=.07172653627995676:Rt=-.07602959317610998:Rt=-.08790686271287523:e[229]>1e-35?e[0]>2952.5000000000005?e[0]>3904.5000000000005?Rt=-.0399322883690891:Rt=.06523495517476098:Rt=-.10358715295743802:e[193]>1e-35?Rt=-.05551414334329124:e[134]>1e-35?e[11]>1e-35?e[2]>13.500000000000002?e[10]>1.5000000000000002?Rt=.015928764772252406:Rt=.1341513061552287:Rt=-.04975001987586173:e[10]>2.5000000000000004?e[3]>5.500000000000001?e[9]>2.5000000000000004?e[8]>310.50000000000006?Rt=-.033592997607280156:Rt=-.12432458028446665:e[1]>32.50000000000001?e[217]>1e-35?Rt=-.08402551858097379:Rt=.017401984506038796:e[1]>25.500000000000004?Rt=.13337205393591278:Rt=-.01160208350090984:Rt=.06708317942315471:e[8]>227.50000000000003?Rt=-.08486943882418681:Rt=-.013970104864235007:e[8]>4968.500000000001?e[1]>31.500000000000004?e[9]>4.500000000000001?Rt=-.10496268177586783:Rt=-.020921489532370493:Rt=.02629915927247642:e[7]>20.500000000000004?e[8]>251.50000000000003?e[115]>1e-35?Rt=.11639296062157028:Rt=-.004275784356569115:e[32]>1e-35?Rt=-.07297384970166025:Rt=.006026841626381599:Rt=.002034611134960428;let Et;e[248]>1e-35?Et=.06091438745093315:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Et=-.06455513326540585:e[1]>29.500000000000004?Et=.07718474591552532:e[4]>7.500000000000001?Et=.040139336931404826:Et=-.09685734690563386:Et=.00015327283570347363:e[9]>88.50000000000001?Et=.10079017954199324:e[1]>47.50000000000001?e[2]>20.500000000000004?e[2]>27.500000000000004?Et=-.04077257804338707:Et=.0739963982640615:e[9]>1.5000000000000002?e[17]>1e-35?Et=.03778141591008941:Et=-.06459919920634845:Et=-.11193190957880604:e[7]>6.500000000000001?e[11]>1e-35?e[18]>1e-35?Et=.14063930759326346:e[0]>179.50000000000003?Et=.07287482250668585:e[8]>1180.5000000000002?Et=-.14419393112726253:e[10]>28.500000000000004?Et=-.07993142770099469:e[17]>1e-35?Et=-.04702595410391655:e[7]>21.500000000000004?e[2]>26.500000000000004?Et=.05527969663610186:Et=-.10824385941441346:e[3]>11.500000000000002?Et=.12358502961047915:Et=-.017509147119622873:e[0]>74.50000000000001?Et=-.014907705458730486:e[8]>95.50000000000001?Et=-.02225118168342062:Et=-.1222374623708485:e[8]>1.5000000000000002?e[8]>950.5000000000001?Et=.06946188930925638:e[3]>6.500000000000001?e[10]>2.5000000000000004?e[19]>1e-35?Et=.04962819555610421:Et=-.07213577821855309:Et=.09139529824708481:e[19]>1e-35?Et=.013439401088345224:Et=-.049274647207292056:Et=.10531673719686951;let Mt;e[40]>1e-35?e[0]>1937.5000000000002?Mt=-.06421671152073961:Mt=.04235421241226177:e[294]>1e-35?e[10]>50.50000000000001?Mt=-.09100102290316286:e[0]>3030.5000000000005?e[0]>4177.500000000001?Mt=-.03520420769287065:e[8]>1085.5000000000002?Mt=-.019817352506127633:Mt=.11444439424520964:Mt=-.06854631664538167:e[120]>1e-35?e[4]>18.500000000000004?Mt=-.010490117519863269:Mt=.08104430117757461:e[121]>1e-35?e[243]>1e-35?Mt=.16408304891242204:e[217]>1e-35?e[0]>4449.500000000001?Mt=.06619344145920268:e[0]>4091.5000000000005?Mt=-.08813353450871053:e[0]>3519.5000000000005?e[8]>668.5000000000001?Mt=.10016091391222309:Mt=-.017407607199427293:e[8]>501.50000000000006?e[10]>16.500000000000004?Mt=-.019511460451434884:Mt=-.11643672465055221:e[2]>18.500000000000004?Mt=.07848228087333317:e[8]>55.50000000000001?Mt=.032583027899956235:Mt=-.11209832692153521:e[11]>1e-35?Mt=.027482174104412567:e[10]>1.5000000000000002?e[6]>26.500000000000004?e[4]>19.500000000000004?e[9]>31.500000000000004?Mt=-.09996887746328006:e[9]>2.5000000000000004?Mt=.02157682011863397:Mt=-.05247727848991843:Mt=.07409150201483244:e[1]>38.50000000000001?Mt=-.11378466075449625:e[224]>1e-35?Mt=-.10741749127732923:e[1]>26.500000000000004?Mt=.07343136534146562:Mt=-.07013573628594773:e[25]>1e-35?Mt=-.04626669734164317:Mt=.05518333197956482:Mt=.00032434010867555516;let Ot;e[183]>1e-35?e[10]>1.5000000000000002?e[17]>1e-35?Ot=.026313251010808853:Ot=-.08997339150292381:Ot=.025062509535227952:e[227]>1e-35?e[1]>6.500000000000001?e[2]>9.500000000000002?e[210]>1e-35?Ot=.08071107515789745:e[23]>1e-35?e[1]>75.50000000000001?Ot=.0905155504503746:e[8]>1049.5000000000002?Ot=-.062312558183394054:e[8]>719.5000000000001?Ot=.09583836191410239:e[0]>3719.5000000000005?Ot=-.0778097309430818:Ot=.04012012419054895:e[4]>12.500000000000002?e[8]>1496.5000000000002?e[10]>42.50000000000001?Ot=-.12920865648544927:e[0]>2699.5000000000005?Ot=-.07086587879041864:Ot=.022614182502461846:e[4]>15.500000000000002?e[8]>55.50000000000001?e[1]>60.50000000000001?e[8]>652.5000000000001?Ot=-.11377786322600797:Ot=-.009486325820117998:e[1]>55.50000000000001?Ot=.12430248795958142:e[0]>2952.5000000000005?e[0]>4331.500000000001?e[1]>38.50000000000001?Ot=-.07938291201004219:e[2]>36.50000000000001?Ot=.01520046732530246:Ot=.13649854049662832:Ot=-.07145015938528873:e[8]>407.50000000000006?Ot=-.00350257360822279:Ot=.11332047082193297:Ot=-.10060624458629897:Ot=.05429496612497562:e[8]>1446.5000000000002?Ot=.006073419197482838:Ot=-.08718676350883998:Ot=-.11532497988252638:Ot=.10766270463068293:e[34]>1e-35?Ot=-.06345912440611544:e[131]>1e-35?e[9]>1.5000000000000002?Ot=-.0004109812623829506:Ot=.021601073497455662:Ot=-7343540098965853e-20;let _t;e[298]>1e-35?e[9]>12.500000000000002?e[133]>1e-35?_t=-.06107663265515864:e[9]>70.50000000000001?e[10]>37.50000000000001?_t=.05995640200798119:e[0]>3443.5000000000005?_t=-.14698883458733583:_t=-.030039164579240187:e[189]>1e-35?_t=-.06086763220538141:e[1]>86.50000000000001?_t=-.05096727866142538:e[4]>64.50000000000001?_t=.11240554253834577:e[4]>45.50000000000001?_t=-.030279760168394117:e[6]>45.50000000000001?_t=.10161088917815142:e[10]>77.50000000000001?_t=-.0792333078055653:e[7]>23.500000000000004?e[0]>2882.5000000000005?_t=-.06672020005240323:_t=.08831457502630258:e[8]>2592.5000000000005?_t=-.052617701047376654:e[10]>29.500000000000004?_t=.08499327690298047:e[2]>12.500000000000002?e[9]>41.50000000000001?_t=.12880460816709416:e[9]>25.500000000000004?e[4]>11.500000000000002?_t=-.064099222705728:_t=.044332487521538365:e[0]>2882.5000000000005?_t=.031099546885005065:_t=.12938467051623853:e[0]>4221.500000000001?_t=-.0928676413498701:e[9]>30.500000000000004?_t=-.05781824812803708:_t=.07561268901778094:e[8]>711.5000000000001?e[2]>22.500000000000004?_t=-.06648105454098469:_t=.05985487552383097:_t=-.13070190291919334:e[116]>1e-35?e[10]>38.50000000000001?_t=.05282385499619401:e[1]>66.50000000000001?_t=.048802929108006314:e[2]>4.500000000000001?e[0]>4593.500000000001?_t=.027885690791379255:_t=-.08407126408362446:_t=.014432924125571093:_t=-9903435845205118e-20;let kt;e[76]>1e-35?kt=-.06307875292162934:e[21]>1e-35?e[7]>10.500000000000002?e[10]>4.500000000000001?e[8]>944.5000000000001?e[0]>3655.5000000000005?kt=.013633653464240465:kt=-.10164319411983509:kt=-.1228424374328996:e[1]>26.500000000000004?e[2]>28.500000000000004?kt=.00632864847804078:kt=-.08393000368134668:kt=.07870508617440916:e[284]>1e-35?kt=.1092302727710421:kt=-.0025505047582483234:e[248]>1e-35?kt=.07101822393621864:e[274]>1e-35?kt=-.06621099406425579:e[1]>26.500000000000004?e[1]>28.500000000000004?kt=.0003077044909372931:e[10]>2.5000000000000004?e[0]>3770.5000000000005?kt=.025081789181021243:kt=-.014813325803582618:e[9]>33.50000000000001?kt=-.033466921233840194:e[3]>12.500000000000002?e[23]>1e-35?kt=.11926990418060353:kt=.01852125513565268:kt=.0975367595927343:e[5]>3325.5000000000005?e[8]>892.5000000000001?e[133]>1e-35?kt=-.1178464984373743:e[283]>1e-35?kt=.043370859226927405:e[5]>4320.500000000001?kt=-.01103141226366587:e[8]>1104.5000000000002?kt=-.023053423988095886:kt=-.0734238953804657:e[6]>18.500000000000004?e[8]>85.50000000000001?kt=.000579145585864887:kt=.03389152834202143:e[128]>1e-35?kt=-.14527722052568462:e[210]>1e-35?kt=-.08915971541902741:e[7]>9.500000000000002?kt=-.03307314577076116:e[18]>1e-35?kt=-.05521712302023565:kt=.009315605032770029:kt=.0036332551852289933;let St;e[0]>689.5000000000001?e[5]>768.5000000000001?e[20]>1e-35?e[5]>4368.500000000001?St=-.07583539600416284:e[188]>1e-35?St=-.07042659515500142:e[23]>1e-35?e[0]>3807.5000000000005?St=-.011038193049597113:St=.08154028164397753:e[1]>85.50000000000001?St=.10259361975201933:St=.011640408330521594:St=-.00023319159023748508:e[92]>1e-35?St=.13771692859530546:St=.022860029819654806:e[1]>22.500000000000004?e[1]>24.500000000000004?e[2]>96.50000000000001?St=.09967230141007705:e[30]>1e-35?St=-.08888529037551285:St=-.008615931385397808:e[10]>5.500000000000001?e[4]>36.50000000000001?St=.08284665960761373:St=-.029292565021289504:e[7]>7.500000000000001?St=-.09945093355204493:St=-.008381393701708593:e[20]>1e-35?St=-.04218678460370465:e[10]>6.500000000000001?e[9]>2.5000000000000004?e[1]>13.500000000000002?e[8]>143.50000000000003?e[4]>7.500000000000001?e[2]>36.50000000000001?St=.07585582641438211:e[8]>284.50000000000006?St=-.029387993239886723:St=.07716738177321587:e[1]>18.500000000000004?St=.026745348497993746:St=.1427429617069753:e[9]>16.500000000000004?e[9]>33.50000000000001?St=.02337306890530338:St=-.10390355904767366:St=.07390521199638532:St=-.06788247515155237:St=-.04201446383470994:e[2]>25.500000000000004?e[2]>29.500000000000004?e[8]>227.50000000000003?St=-.06360325615644084:St=.04342192339836601:St=-.10598779152030145:St=.05253384605768211;let qt;e[3]>7.500000000000001?e[157]>1e-35?qt=-.07514182877923786:qt=.000636205502279271:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?qt=.028692053800951845:qt=.14081686716133598:qt=-.03316566526940354:e[186]>1e-35?e[0]>2653.5000000000005?qt=.0037139292567243084:qt=.12662311031652707:e[107]>1e-35?e[0]>612.5000000000001?qt=.01202688580305612:qt=.0993509141454483:e[203]>1e-35?e[1]>77.50000000000001?qt=.043935495082738626:qt=-.05639305759669704:e[247]>1e-35?qt=-.06770766046891649:e[105]>1e-35?e[19]>1e-35?qt=.10331836202616368:qt=.0006926658459781341:e[96]>1e-35?qt=.05361846065599475:e[127]>1e-35?e[0]>2723.5000000000005?e[1]>54.50000000000001?qt=-.0741403257305367:qt=.022900127535540854:e[7]>3.5000000000000004?qt=.038110741403836294:qt=.14618649985842758:e[5]>3921.5000000000005?e[1]>110.50000000000001?qt=-.09552842289807008:e[1]>27.500000000000004?qt=.012505935885798007:qt=-.020509603428689526:e[282]>1e-35?e[9]>45.50000000000001?e[6]>5.500000000000001?qt=-.1046104767723845:qt=.031388606992301074:e[8]>114.50000000000001?e[9]>17.500000000000004?e[9]>22.500000000000004?e[1]>32.50000000000001?qt=.023466328488582572:qt=.11730925774586994:qt=-.04771965631104874:qt=.17059689880751394:qt=-.08181850955999449:e[26]>1e-35?qt=-.12727482696678769:qt=-.014343123272734182;let $t;e[147]>1e-35?e[1]>53.50000000000001?$t=-.0993064321015924:e[0]>2604.5000000000005?e[0]>3629.5000000000005?$t=-.02763546051134888:$t=.06423344777499343:$t=-.064606430904295:e[302]>1e-35?e[10]>2.5000000000000004?e[10]>47.50000000000001?$t=.049825139823021586:e[7]>22.500000000000004?$t=-.01131680751379858:e[0]>2579.5000000000005?$t=-.10673674485369694:$t=-.015387212937189957:$t=.04347325151148724:e[179]>1e-35?$t=-.05788885608624092:e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?$t=.0650355590939066:$t=-.0473332870892226:$t=-.09699315983340703:e[288]>1e-35?e[88]>1e-35?$t=.11139543329789044:e[126]>1e-35?$t=-.09726928633696198:e[8]>149.50000000000003?e[9]>46.50000000000001?e[4]>1.5000000000000002?e[8]>1861.5000000000002?$t=.06370903833231022:e[10]>29.500000000000004?$t=.03415223859607161:e[10]>3.5000000000000004?$t=-.07415518117873297:$t=-.0014119203473324082:$t=.12617652343819508:e[9]>41.50000000000001?$t=-.10311145857176976:e[8]>2757.5000000000005?$t=-.08106484219011428:e[7]>71.50000000000001?$t=-.09783384432091176:e[1]>88.50000000000001?$t=.06249739709782831:e[3]>9.500000000000002?e[5]>1601.5000000000002?$t=-.008884084501608536:$t=.061339437777743616:$t=-.042490992675121846:e[2]>6.500000000000001?e[3]>10.500000000000002?$t=.01526664064166223:$t=.13534828515415498:$t=-.06985484465894776:$t=.0005758961943178744;let Zt;e[86]>1e-35?e[1]>23.500000000000004?e[1]>29.500000000000004?e[4]>16.500000000000004?e[2]>31.500000000000004?Zt=-.029152732370514342:Zt=.07173628916139178:e[1]>36.50000000000001?Zt=-.08859111297255318:Zt=.0018030071815630785:Zt=.13652461563759322:Zt=-.07550137680349367:e[10]>52.50000000000001?e[49]>1e-35?Zt=-.07145140450454163:e[21]>1e-35?Zt=-.07422841663493233:Zt=.006289319702780104:e[10]>40.50000000000001?e[9]>59.50000000000001?e[19]>1e-35?e[13]>1e-35?Zt=.11864240653986852:e[3]>33.50000000000001?Zt=-.08821209591953476:Zt=.05706392280054726:Zt=-.03600088051578915:e[18]>1e-35?e[1]>24.500000000000004?Zt=.01953613016837112:Zt=-.059781039130025006:e[148]>1e-35?Zt=.052668447861325476:e[3]>30.500000000000004?e[9]>49.50000000000001?Zt=.07207826841738371:e[202]>1e-35?Zt=.08163917539410503:Zt=-.01319846363832958:e[9]>35.50000000000001?e[5]>4134.500000000001?e[10]>44.50000000000001?Zt=-.06858280496900336:Zt=-.1781828899516648:Zt=-.04024620133969553:e[9]>10.500000000000002?e[1]>22.500000000000004?e[1]>37.50000000000001?Zt=.018232649414147116:Zt=-.04419781124222661:Zt=.05145485182416554:e[1]>23.500000000000004?e[0]>655.5000000000001?e[5]>4901.500000000001?e[10]>45.50000000000001?Zt=.11452368095776105:Zt=-.036496437259924026:Zt=-.040445338739465486:Zt=.0816572651001145:Zt=-.08968914517368663:Zt=.0002826343082585516;let dr;e[189]>1e-35?e[0]>5269.500000000001?dr=-.08839493050459957:e[10]>85.50000000000001?dr=.10046908365702462:e[8]>2592.5000000000005?dr=-.09632233975926387:e[8]>2000.5000000000002?dr=.10282992953871627:e[8]>1266.5000000000002?e[9]>34.50000000000001?dr=.035504970430426296:e[1]>31.500000000000004?dr=-.1133764813142531:dr=-.01138280942244812:e[8]>1125.5000000000002?dr=.09800530246229806:dr=.016170419267589393:e[218]>1e-35?e[9]>99.50000000000001?e[9]>101.50000000000001?e[9]>124.50000000000001?dr=.07316772160107896:dr=-.059095014819051765:dr=.17859437315769733:e[2]>1.5000000000000002?e[9]>86.50000000000001?dr=-.09150209066166894:e[8]>3084.0000000000005?dr=-.05443972593168094:e[1]>65.50000000000001?e[10]>11.500000000000002?e[9]>33.50000000000001?dr=-.04449234460408263:dr=.05568837973347338:dr=-.12362324875024472:e[1]>41.50000000000001?e[10]>12.500000000000002?e[8]>1336.5000000000002?dr=.12741077850267066:dr=.007372371864985329:e[2]>39.50000000000001?dr=.02295917234617787:dr=.14966532083907075:e[1]>39.50000000000001?dr=-.06685557815340279:e[10]>22.500000000000004?e[2]>52.50000000000001?dr=-.02511861881285652:e[1]>27.500000000000004?dr=.08683660011672288:dr=.02956214835267301:e[9]>15.500000000000002?dr=-.016538805462996232:dr=.04352738094981517:dr=-.05561856645643868:e[9]>170.50000000000003?dr=-.07996752635874248:e[179]>1e-35?dr=-.09065975936933919:dr=-.00042817975060427177;let xr;e[39]>1e-35?e[4]>25.500000000000004?xr=.03443173196222934:xr=-.06554248341270724:e[32]>1e-35?e[8]>90.50000000000001?e[4]>67.50000000000001?e[4]>86.50000000000001?xr=-.0013415395759330318:xr=.12950978489563347:e[1]>22.500000000000004?e[10]>19.500000000000004?e[4]>30.500000000000004?e[9]>41.50000000000001?xr=.002297618040307216:xr=-.12522800128774994:e[4]>8.500000000000002?e[8]>1075.5000000000002?xr=-.015297257305397608:xr=.09651828834062742:xr=-.06636003334371929:e[10]>11.500000000000002?xr=.17631616138309397:e[0]>1639.5000000000002?xr=3804386478092585e-20:xr=-.09099296398683193:xr=-.06874415876172972:e[0]>2151.5000000000005?xr=-.1311264883406766:xr=.00809052010141122:e[253]>1e-35?xr=-.06338558211939296:e[178]>1e-35?e[2]>25.500000000000004?e[2]>30.500000000000004?e[0]>2151.5000000000005?e[10]>10.500000000000002?e[0]>3615.5000000000005?xr=.045038497754638605:xr=-.07770167665661752:xr=-.08596294280650517:xr=.08538655727027213:xr=.09829076418590559:e[1]>39.50000000000001?e[9]>1.5000000000000002?xr=.054627956617973275:e[1]>61.50000000000001?xr=-.11994465088415499:e[4]>8.500000000000002?xr=.06676200239406452:xr=-.027503148069376867:e[8]>676.5000000000001?xr=-.10363964928357075:e[4]>8.500000000000002?xr=-.07589816227175682:xr=.034664436544646814:e[1]>159.50000000000003?e[6]>25.500000000000004?xr=.009093153189012338:xr=-.06119765876605404:xr=.0004668642103528348;let ur;e[223]>1e-35?e[1]>31.500000000000004?e[8]>711.5000000000001?ur=-.10100794502567233:ur=.08000205636470442:ur=-.11945419826856896:e[113]>1e-35?ur=-.06105445938688056:e[167]>1e-35?e[0]>3928.5000000000005?ur=.1224302423880318:ur=-.01875566982911468:e[222]>1e-35?e[1]>8.500000000000002?e[1]>24.500000000000004?e[4]>3.5000000000000004?e[0]>725.5000000000001?e[0]>1682.5000000000002?e[0]>2860.5000000000005?ur=.0019277012166729114:e[1]>28.500000000000004?ur=-.054445821715687494:ur=.045645722976713245:e[30]>1e-35?ur=.13402660155331655:ur=.008921176001777645:ur=-.058547426505451076:ur=.08841202222426625:e[1]>22.500000000000004?e[10]>9.500000000000002?ur=-.13526418192218206:ur=-.03266013432583145:e[1]>20.500000000000004?e[4]>27.500000000000004?ur=.0007263224246135398:ur=.12450043268647056:e[1]>17.500000000000004?e[9]>1.5000000000000002?ur=-.11575657261278308:ur=-.01530376565862095:e[4]>13.500000000000002?e[4]>22.500000000000004?ur=-.01995960178292952:ur=.11216586049153021:ur=-.10050961087149474:ur=.08848063368485726:e[30]>1e-35?e[224]>1e-35?e[1]>52.50000000000001?ur=.10303451081526649:ur=-.01375730267020699:e[1]>28.500000000000004?e[2]>20.500000000000004?ur=-.043799548968209395:ur=-.12451444314954115:e[4]>12.500000000000002?ur=-.03838117361958468:ur=.06504990789767144:e[57]>1e-35?ur=.06890006938293915:ur=.0003914274695562949;let mr;e[53]>1e-35?e[4]>11.500000000000002?e[8]>617.5000000000001?e[2]>41.50000000000001?mr=.004271749009686975:mr=-.10523878297127605:mr=.04633982158107851:mr=-.10349713975483057:e[183]>1e-35?e[15]>1e-35?mr=-.08655730561951676:e[8]>919.5000000000001?mr=-.0676453705610183:e[7]>18.500000000000004?mr=-.027787974193650575:mr=.08012784576991301:e[227]>1e-35?e[1]>6.500000000000001?e[3]>8.500000000000002?e[210]>1e-35?mr=.07185850683316512:e[8]>201.50000000000003?e[8]>348.50000000000006?e[23]>1e-35?e[8]>1049.5000000000002?mr=-.03473877164537313:e[8]>719.5000000000001?mr=.10471053866934404:mr=.008236107678382981:e[4]>57.50000000000001?mr=.09412219478825269:e[10]>66.50000000000001?mr=-.13884338641811986:e[10]>19.500000000000004?e[10]>22.500000000000004?e[0]>2490.5000000000005?mr=-.040681323751002293:mr=.06374650297561021:mr=.12884615227401788:e[10]>5.500000000000001?mr=-.0887517295786972:e[8]>597.5000000000001?e[18]>1e-35?mr=-.05474068967150784:mr=.03744700650806603:mr=-.07846396348680855:e[1]>42.50000000000001?mr=.018972315810821302:mr=.10953621007604744:e[5]>4439.500000000001?mr=.010999776705494586:e[1]>40.50000000000001?mr=-.12394200059775967:e[10]>2.5000000000000004?mr=.013528093962849453:mr=-.09222088417048682:mr=-.12662967149701485:mr=.09327296405849603:e[3]>99.50000000000001?mr=-.013581954439986752:mr=.0005526498251862075;let nr;e[187]>1e-35?e[243]>1e-35?nr=-.08392792551692502:e[10]>68.50000000000001?nr=.07871769409454053:e[10]>8.500000000000002?e[10]>16.500000000000004?e[2]>17.500000000000004?e[3]>31.500000000000004?e[91]>1e-35?e[10]>21.500000000000004?e[10]>33.50000000000001?e[10]>48.50000000000001?nr=-.0825306209711224:nr=.049559996084532945:nr=-.1064938580886302:nr=.03353240732240275:nr=.045985370399163464:e[1]>42.50000000000001?e[4]>20.500000000000004?nr=.16966001471529374:e[1]>57.50000000000001?nr=-.005772777673676247:nr=.09383677041525058:e[8]>747.5000000000001?nr=.054068175469351235:nr=-.049968216310277036:e[8]>753.5000000000001?nr=-.0679383555784074:e[4]>8.500000000000002?nr=-.059757341189735386:nr=.05701083682780414:nr=-.052497281448921164:e[6]>12.500000000000002?e[8]>969.5000000000001?e[4]>23.500000000000004?nr=.05820296128730006:nr=-.1063042385102475:e[1]>49.50000000000001?e[8]>302.50000000000006?nr=.15340611616954566:nr=.04385036188666874:e[0]>4449.500000000001?nr=-.02110897605541555:e[1]>24.500000000000004?e[2]>17.500000000000004?nr=.004840354641006495:nr=.09967827580276283:nr=.11605363537391578:e[9]>19.500000000000004?nr=-.0735831692725717:nr=.019973331823355176:e[306]>1e-35?e[149]>1e-35?nr=-.08968948874343531:e[8]>1094.5000000000002?e[10]>15.500000000000002?nr=-.02442182361342386:nr=.10334853004243093:nr=-.030431948680167104:nr=-956078595250818e-19;let hr;e[294]>1e-35?e[1]>26.500000000000004?e[0]>4078.5000000000005?hr=-.040232505718244854:e[0]>3030.5000000000005?hr=.0634109586813073:hr=-.04043617034245621:hr=-.06385323610738443:e[120]>1e-35?e[4]>18.500000000000004?hr=-.007859096946435131:hr=.07282728486115758:e[229]>1e-35?e[0]>2952.5000000000005?e[17]>1e-35?hr=.05515771679628051:hr=-.04214471312668263:hr=-.09589322222261765:e[193]>1e-35?hr=-.05056345906812831:e[121]>1e-35?e[243]>1e-35?hr=.14857706653119385:e[4]>9.500000000000002?e[1]>26.500000000000004?e[2]>59.50000000000001?hr=-.08152604001147906:e[11]>1e-35?hr=.09132936522356462:e[15]>1e-35?e[4]>23.500000000000004?hr=.13100930780107503:e[10]>25.500000000000004?hr=.05921074710011526:hr=-.07226005736695183:e[0]>3304.5000000000005?e[0]>3707.5000000000005?e[0]>4053.5000000000005?hr=.0009447118243153454:hr=-.09820565036865991:hr=.057146909749745546:e[0]>2115.5000000000005?hr=-.12331216726611678:hr=.007281983677694285:e[2]>56.50000000000001?hr=.012310154675612615:hr=-.08873665774670461:e[6]>25.500000000000004?hr=.134708740821879:e[9]>5.500000000000001?hr=-.0805901581148979:e[224]>1e-35?hr=-.063684477784257:e[7]>2.5000000000000004?e[19]>1e-35?hr=.10842593386554122:e[2]>13.500000000000002?hr=.06466798320378395:hr=-.08578130788886655:hr=-.03590892078300114:hr=.0003499894043880708;let Ie;e[134]>1e-35?e[6]>50.50000000000001?e[0]>3601.5000000000005?Ie=.10839808814624702:Ie=-.028043875308180352:e[7]>30.500000000000004?e[8]>932.5000000000001?Ie=-.007478368069393829:Ie=-.09066751344326617:e[0]>3588.5000000000005?e[5]>4748.500000000001?Ie=.04035247751736232:e[0]>4255.500000000001?Ie=-.1310865624507367:e[0]>4004.5000000000005?Ie=.06647367311982634:Ie=-.08339693352955757:e[4]>10.500000000000002?e[1]>34.50000000000001?Ie=-.011618902907510411:Ie=.1114646660406691:e[10]>2.5000000000000004?e[0]>3072.5000000000005?Ie=.09356028223727986:Ie=-.03811765057032162:Ie=-.09456215497345526:e[280]>1e-35?e[7]>70.50000000000001?Ie=.10322956436499003:e[2]>22.500000000000004?e[1]>83.50000000000001?Ie=.1146142460964847:e[1]>62.50000000000001?Ie=-.09679869865322362:e[9]>71.50000000000001?Ie=-.07377580769927583:e[4]>19.500000000000004?e[0]>4571.500000000001?Ie=-.039046426387852974:Ie=.04558778688367152:Ie=.11220830937352602:e[7]>5.500000000000001?e[9]>17.500000000000004?e[8]>1067.5000000000002?Ie=.03261697816211156:e[15]>1e-35?Ie=.02586252542264368:e[2]>14.500000000000002?Ie=-.016420452667484604:Ie=-.1011799626006976:Ie=-.13787471318963773:e[6]>4.500000000000001?e[8]>427.50000000000006?e[10]>36.50000000000001?Ie=.010193588102560583:Ie=.11748729525930773:Ie=-.04468162226743652:Ie=-.028365274393617957:e[71]>1e-35?Ie=.05115139346588793:Ie=-.0001510425316936658;let O;e[298]>1e-35?e[8]>81.50000000000001?e[8]>119.50000000000001?e[4]>64.50000000000001?O=.09072192054181037:e[9]>72.50000000000001?e[8]>1094.5000000000002?O=.020637047900190317:O=-.1017300802134141:e[1]>23.500000000000004?e[9]>12.500000000000002?e[0]>2815.5000000000005?e[0]>3183.5000000000005?e[3]>23.500000000000004?e[3]>45.50000000000001?e[4]>48.50000000000001?O=-.04632587527094407:O=.08603684785510396:O=-.05101401015448496:O=.025466432054358498:O=-.07897811963329214:e[6]>13.500000000000002?e[10]>26.500000000000004?O=.020385355430046367:O=.12032592051335252:O=-.012387370292173013:e[2]>23.500000000000004?O=-.12568545484492677:O=-.022261190943521976:e[8]>634.5000000000001?e[8]>857.5000000000001?O=.043528764484784536:O=.14352071657196003:O=-.009332833816977268:O=.11186782227735846:O=-.0737365712425554:e[136]>1e-35?e[0]>1937.5000000000002?O=-.05649104643152564:O=.03884200719305747:e[42]>1e-35?O=-.07191700385792335:e[116]>1e-35?e[9]>2.5000000000000004?e[9]>17.500000000000004?O=-.04103416502526736:O=.04881823954656287:e[4]>15.500000000000002?O=.009342724662897898:e[0]>3969.5000000000005?O=-.025637309961309498:O=-.12574492012987865:e[212]>1e-35?e[19]>1e-35?O=-.08185697075265091:e[0]>2215.5000000000005?O=.030063975892297354:e[0]>807.5000000000001?O=-.03924325550733229:O=.0415330999189793:O=-.00024374664461674863;let me;e[3]>7.500000000000001?me=.0005117490419655908:e[129]>1e-35?e[0]>2904.5000000000005?e[0]>4004.5000000000005?me=.025798416259686565:me=.13251610353146012:me=-.029900559552677654:e[1]>81.50000000000001?e[1]>110.50000000000001?e[0]>4242.500000000001?me=-.11098564237775424:me=25960925309712775e-21:e[0]>4177.500000000001?e[9]>35.50000000000001?me=.15347826616466054:e[3]>4.500000000000001?me=.10379320730958941:me=-.008896303020010654:e[0]>3415.5000000000005?e[0]>3830.5000000000005?me=.03159791088468647:me=-.10612873364104258:me=.05059856107348746:e[133]>1e-35?e[2]>5.500000000000001?me=-.02335760775001469:me=-.1379386577903324:e[1]>62.50000000000001?e[3]>2.5000000000000004?me=-.011164334474672973:me=-.06594044410501655:e[207]>1e-35?me=-.1014214372326535:e[8]>3.5000000000000004?e[107]>1e-35?e[2]>6.500000000000001?me=-.01725821503981916:me=.05594086838700241:e[203]>1e-35?e[1]>44.50000000000001?e[1]>51.50000000000001?me=-.04226531631656534:me=-.14409800530171432:me=-.03245576341206398:e[8]>4214.500000000001?me=.0895409165534886:e[247]>1e-35?me=-.06506383629143335:e[118]>1e-35?me=-.07214270121257443:e[8]>546.5000000000001?me=-.004385020865473831:me=.009321812545248529:e[0]>1639.5000000000002?e[13]>1e-35?me=.046278501133958524:me=-.030835570926968044:e[0]>493.50000000000006?me=-.12794504651610425:me=.009415039807550776;let ye;e[304]>1e-35?ye=-.04717777269217453:e[76]>1e-35?ye=-.05813439142128324:e[1]>59.50000000000001?e[0]>350.50000000000006?e[53]>1e-35?ye=-.09648224457374217:e[132]>1e-35?ye=.07089308107910267:e[0]>2248.5000000000005?e[5]>2525.5000000000005?e[9]>1.5000000000000002?e[114]>1e-35?ye=-.08595213071749083:e[9]>14.500000000000002?e[9]>33.50000000000001?e[285]>1e-35?ye=.10838431695638147:e[230]>1e-35?ye=.06458713915750626:e[0]>3219.5000000000005?e[3]>23.500000000000004?e[9]>69.50000000000001?ye=.050071316251979:ye=-.006356941111525215:e[6]>8.500000000000002?ye=-.0384814076434817:e[1]>73.50000000000001?e[0]>3746.5000000000005?ye=.10217402850540398:ye=-.048840949025349197:ye=-.03668313197909846:e[7]>39.50000000000001?ye=-.0562642841496003:e[10]>2.5000000000000004?ye=.09749777369987417:ye=-.04848223121417616:e[0]>5453.500000000001?ye=.08316648226133942:ye=-.0261979698267618:e[212]>1e-35?ye=.09565573198318654:e[5]>4814.500000000001?e[8]>963.5000000000001?e[8]>1514.5000000000002?ye=.04837009746506856:ye=-.09184360565631328:ye=.0032411047845613606:e[0]>4733.500000000001?ye=.0977378556864798:ye=.010776545559325588:ye=-.012483310473120218:ye=-.049284121449103935:ye=.011962641341789565:e[1]>67.50000000000001?e[1]>77.50000000000001?ye=-.08380361910948711:ye=.07375088778585813:ye=-.1084864186071348:ye=.0007819503469605476;let J;e[7]>17.500000000000004?e[115]>1e-35?J=.08741852531696623:e[167]>1e-35?J=.10078975495600809:J=-.0018324767784017562:e[290]>1e-35?J=-.0850089851255888:e[74]>1e-35?e[10]>16.500000000000004?J=.1379733311640402:J=-.0038500648529631075:e[6]>29.500000000000004?e[8]>876.5000000000001?e[0]>3129.5000000000005?e[9]>5.500000000000001?e[8]>1765.5000000000002?J=-.09360083033774169:J=.061471353193188374:e[10]>11.500000000000002?e[10]>31.500000000000004?J=-.015599362579530679:e[0]>4593.500000000001?J=-.12029549262691491:J=-.018917032256501397:J=.04632831686576592:J=.06892347785444271:e[4]>8.500000000000002?e[10]>33.50000000000001?J=-.05894883236412263:J=.05213944998315824:J=.12621779223564986:e[243]>1e-35?e[6]>16.500000000000004?e[0]>4141.500000000001?e[0]>5850.500000000001?J=.07577412405680808:J=-.053144737214742235:e[1]>29.500000000000004?e[9]>16.500000000000004?J=-.0277076900736147:e[1]>65.50000000000001?J=-.023587471585763506:J=.10184896592433082:J=-.057699270527916825:J=-.041191811945739454:e[114]>1e-35?e[2]>23.500000000000004?J=.06566902102799584:e[10]>25.500000000000004?J=-.07033633753181047:J=-.01599120398351932:e[242]>1e-35?e[0]>2402.5000000000005?J=-.08108035861059537:J=.04184690010531078:e[35]>1e-35?e[0]>2904.5000000000005?J=-.12431182772561139:J=.01886235886984271:J=.0025579594894418116;let F;e[8]>2915.5000000000005?e[101]>1e-35?F=.08648323956719083:e[0]>93.50000000000001?e[196]>1e-35?F=-.09509320772734361:e[4]>1.5000000000000002?e[5]>1106.5000000000002?e[5]>1191.5000000000002?e[283]>1e-35?F=-.11268313808648661:e[10]>12.500000000000002?e[131]>1e-35?F=.0687641681341721:e[10]>102.50000000000001?F=-.09667920080214842:e[4]>15.500000000000002?e[8]>2992.5000000000005?e[1]>24.500000000000004?e[1]>71.50000000000001?F=-.06762578396473291:e[10]>65.50000000000001?F=-.05226727783610509:e[282]>1e-35?F=.09911438410640917:e[19]>1e-35?F=.06915156336429933:F=-.006565637886508241:F=-.08344300251849307:F=-.0928863907927501:e[1]>60.50000000000001?e[2]>17.500000000000004?F=.19428463865406298:F=.016073883020956765:e[13]>1e-35?F=.06864077097923665:F=-.01388867527034731:e[0]>1847.5000000000002?F=.004655280608161356:e[1]>40.50000000000001?F=.031406054057765996:F=.12798062439212832:F=.09859670536264255:e[10]>2.5000000000000004?e[9]>68.50000000000001?F=.08821759640665892:e[9]>32.50000000000001?e[8]>3960.0000000000005?e[1]>31.500000000000004?F=-.0706095614785733:F=.04227164041372561:F=-.1056906923176064:e[2]>8.500000000000002?e[19]>1e-35?F=-.07139533369873902:F=.008952586782921625:F=.06086212582180936:F=-.0816938490403437:F=-.051224901945956025:F=-.10525399124186095:F=.000270924147208224;let Te;e[122]>1e-35?e[0]>2461.5000000000005?e[2]>36.50000000000001?Te=.029186512383291244:e[7]>1.5000000000000002?Te=-.14984127276725573:e[1]>40.50000000000001?Te=.032757060730648144:Te=-.07675575422749602:e[6]>8.500000000000002?Te=.10599766037117893:Te=-.0541423394552156:e[1]>24.500000000000004?e[103]>1e-35?e[8]>61.50000000000001?e[17]>1e-35?Te=-.051394622947855385:Te=.03237141302699347:Te=.12526173027943244:Te=.000579473126472788:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?Te=-.07383912482657777:e[0]>5147.500000000001?Te=.07008813937042091:e[10]>38.50000000000001?Te=-.06779203808365307:Te=-.013782769999524498:Te=.0880038869117715:Te=-.12846294176070952:e[281]>1e-35?Te=-.06810806903850834:e[10]>227.50000000000003?Te=-.08937977001661111:e[10]>130.50000000000003?Te=.10538920632708033:e[145]>1e-35?e[4]>6.500000000000001?e[9]>16.500000000000004?e[4]>18.500000000000004?Te=.011036530162093841:Te=-.11500797478569702:Te=.03702229366129399:Te=.07242026683784307:e[189]>1e-35?Te=.03331407112090286:e[9]>33.50000000000001?e[201]>1e-35?Te=.08979610115743614:e[7]>57.50000000000001?e[1]>20.500000000000004?Te=-.02608892716555304:Te=.09609599320761308:e[9]>105.50000000000001?Te=-.06848127135991534:Te=.0023675721254089715:e[86]>1e-35?Te=-.11049635625500497:Te=-.004847764219432233;let Oe;e[125]>1e-35?e[0]>3969.5000000000005?Oe=-.09462233499115416:Oe=.05235324508465096:e[17]>1e-35?e[49]>1e-35?e[10]>19.500000000000004?Oe=-.030700661288166148:Oe=.0870883677166864:e[10]>3.5000000000000004?e[3]>18.500000000000004?e[0]>3544.5000000000005?e[188]>1e-35?e[9]>7.500000000000001?Oe=.03149547314036763:Oe=-.08166208257451366:e[0]>5850.500000000001?Oe=-.10228136324773157:e[102]>1e-35?Oe=-.10572585290676295:e[8]>726.5000000000001?e[5]>3657.5000000000005?Oe=.01782894842128785:e[13]>1e-35?Oe=.002680190260979968:Oe=.1773965720476949:e[2]>72.50000000000001?Oe=.09090831938627947:e[1]>59.50000000000001?Oe=-.12297206702816128:e[0]>4977.500000000001?Oe=.09899015653118268:Oe=-.022207141540838887:e[4]>32.50000000000001?e[1]>34.50000000000001?Oe=-.0675900954187773:Oe=.012336403425364092:Oe=-.0017002325391924573:e[6]>7.500000000000001?e[1]>17.500000000000004?Oe=-.02671721777458802:Oe=-.09242452991958029:e[284]>1e-35?Oe=-.08585691288582491:Oe=.013332890564324447:e[4]>14.500000000000002?Oe=-.005245022074799553:e[23]>1e-35?Oe=-.020036720167235768:e[1]>29.500000000000004?e[114]>1e-35?Oe=-.09289852307936758:e[116]>1e-35?Oe=-.09686573010015055:e[8]>804.5000000000001?Oe=.03812547148215318:Oe=.005162744968176633:e[9]>43.50000000000001?Oe=-.059246106396159376:Oe=.050370113808135275:Oe=.000794041852811028;let xt;e[3]>7.500000000000001?xt=.0004981426543104341:e[9]>114.50000000000001?xt=.05666010099424601:e[129]>1e-35?e[6]>3.5000000000000004?xt=-.019061766497948867:xt=.07193491146561211:e[186]>1e-35?e[0]>2653.5000000000005?xt=-.006044199577160493:xt=.1147136801028133:e[6]>85.50000000000001?e[8]>847.5000000000001?xt=.11486607015912494:e[9]>16.500000000000004?xt=-.08686820858087294:xt=.06119632492911875:e[127]>1e-35?e[0]>2723.5000000000005?e[0]>3682.5000000000005?e[1]>38.50000000000001?xt=-.022230207980026437:xt=.1056683690528792:xt=-.05859530800943035:xt=.06970608927597141:e[7]>3.5000000000000004?e[105]>1e-35?xt=.08073568184886762:e[107]>1e-35?e[2]>6.500000000000001?xt=-.05177544573528314:xt=.05370469772149028:e[1]>35.50000000000001?e[0]>4106.500000000001?e[9]>46.50000000000001?e[0]>4633.500000000001?xt=.15159657923771555:xt=-.0060542654587671055:e[9]>5.500000000000001?xt=-.042808028205051786:e[1]>48.50000000000001?xt=-.010449538258110742:xt=.10026907521968294:xt=-.04249349329714756:e[9]>42.50000000000001?e[1]>19.500000000000004?e[8]>852.5000000000001?xt=-.02272452389409874:xt=-.11202691218244319:e[5]>1809.5000000000002?xt=-.04460413584255906:xt=.08196329474205256:e[10]>69.50000000000001?xt=.10221481166238167:xt=.0004063052701699382:e[243]>1e-35?xt=-.07563941678849846:e[18]>1e-35?xt=.02563513231103432:xt=-.004740081147303786;let Wt;e[84]>1e-35?e[9]>6.500000000000001?e[2]>43.50000000000001?Wt=.057446442918106:Wt=-.04404018270156349:Wt=-.09282976714550464:e[0]>384.50000000000006?e[204]>1e-35?e[1]>62.50000000000001?Wt=-.05930486238817954:e[1]>29.500000000000004?Wt=.06955866121256543:e[8]>597.5000000000001?Wt=-.06538593556505168:Wt=.06212512595497445:Wt=.00021102929959182257:e[9]>90.50000000000001?Wt=.0958061289119631:e[102]>1e-35?Wt=.07172059675638813:e[1]>47.50000000000001?Wt=-.03879798603977766:e[297]>1e-35?Wt=.054948234271956144:e[282]>1e-35?e[2]>6.500000000000001?Wt=.003805910996312012:Wt=.09304295674749524:e[11]>1e-35?e[18]>1e-35?Wt=.11252376801858695:e[288]>1e-35?Wt=-.10293901912180432:Wt=.014669268837893872:e[1]>42.50000000000001?Wt=-.05988274123836837:e[145]>1e-35?Wt=.06142784665288495:e[3]>1.5000000000000002?e[4]>4.500000000000001?e[1]>21.500000000000004?e[1]>27.500000000000004?e[9]>24.500000000000004?Wt=.038791154988529926:e[10]>22.500000000000004?e[2]>19.500000000000004?Wt=-.03366718308159971:Wt=.11936550608549797:e[1]>31.500000000000004?Wt=-.07454716789539667:Wt=.027859650621164217:e[10]>10.500000000000002?Wt=-.11806374092321247:Wt=-.03506042229223101:Wt=-.0007080765837654515:e[10]>6.500000000000001?Wt=-.028077713664996503:e[2]>7.500000000000001?Wt=.15803724124216814:Wt=.0351381284833169:Wt=-.07877953381054767;let Lt;e[131]>1e-35?e[282]>1e-35?e[4]>23.500000000000004?Lt=.14144941521975005:Lt=.0007727806714190652:e[9]>1.5000000000000002?e[8]>2134.5000000000005?e[2]>34.50000000000001?Lt=.10514088112381886:e[7]>18.500000000000004?Lt=-.10370643555956745:Lt=.04093594315421388:e[6]>15.500000000000002?e[4]>9.500000000000002?e[10]>27.500000000000004?e[10]>71.50000000000001?Lt=-.0508129468802936:e[224]>1e-35?Lt=-.037816066368733595:e[10]>43.50000000000001?Lt=.07793408602607932:Lt=.017646166646099453:e[9]>3.5000000000000004?e[9]>29.500000000000004?e[17]>1e-35?Lt=.036972453794202324:Lt=-.08727431092411866:e[8]>427.50000000000006?e[8]>1278.5000000000002?Lt=.09475302525132188:Lt=-.03580104945898193:Lt=.08349488283861875:e[10]>3.5000000000000004?e[0]>1847.5000000000002?e[0]>4280.500000000001?e[2]>27.500000000000004?Lt=-.1282448778804823:Lt=-.014395808269207212:Lt=-.008940927190750592:Lt=-.1459118815453748:e[0]>4897.500000000001?Lt=-.09733068457286576:e[1]>57.50000000000001?Lt=.06575271409540207:Lt=-.019556422817450115:Lt=-.10623959222984136:e[18]>1e-35?Lt=.11280940901275241:e[8]>319.50000000000006?e[2]>6.500000000000001?Lt=.008125645893104896:Lt=-.11084368630465868:Lt=.0584398731508786:e[0]>350.50000000000006?e[3]>83.50000000000001?Lt=-.05854904579626861:e[4]>5.500000000000001?Lt=.02985784951394175:Lt=-.03247600140149334:Lt=-.11152899295304973:Lt=-.00035424577714215764;let or;e[32]>1e-35?e[17]>1e-35?e[8]>359.50000000000006?e[8]>804.5000000000001?or=-.06563670567578264:or=.067656954313663:or=-.10388217548685377:e[8]>2302.5000000000005?or=.07190621943790435:e[4]>67.50000000000001?or=.060020507643618604:e[4]>38.50000000000001?or=-.08707253184321638:e[2]>11.500000000000002?e[2]>16.500000000000004?e[1]>31.500000000000004?e[1]>59.50000000000001?or=-.06568134366461277:e[8]>1075.5000000000002?or=-.004768057709758692:or=.11785959165999467:or=-.05080221682879267:or=.14814206127494542:or=-.07241946332311736:e[253]>1e-35?or=-.058893562861261274:e[4]>61.50000000000001?e[283]>1e-35?e[10]>23.500000000000004?or=-.02471195342450034:or=.11866056464409412:e[10]>44.50000000000001?e[1]>16.500000000000004?e[8]>2640.0000000000005?or=-.10741850739482771:or=.010051635824944:or=.12502069436017124:e[8]>1971.5000000000002?e[1]>23.500000000000004?e[308]>1e-35?or=.10511236013756364:e[10]>10.500000000000002?e[1]>53.50000000000001?or=-.08992396138178163:or=.010944365997007212:or=.06221307021813793:or=.1286024087559141:e[127]>1e-35?or=.06568148624531012:e[10]>40.50000000000001?or=-.07567979134643352:e[5]>5647.500000000001?or=.07594672895572069:or=-.018158016446439187:e[6]>55.50000000000001?or=.009293422430111872:e[4]>45.50000000000001?or=-.017749818406964022:e[2]>46.50000000000001?or=.01714136511113982:or=-724762291423549e-19;let cr;e[1]>24.500000000000004?e[103]>1e-35?e[8]>48.50000000000001?e[17]>1e-35?cr=-.048689215588703864:e[9]>27.500000000000004?e[0]>3916.5000000000005?cr=.07084726276890757:cr=-.11232323677722932:cr=.04812773089510436:cr=.11757502216780046:e[5]>1464.5000000000002?e[5]>1505.5000000000002?e[167]>1e-35?cr=.07470606002425358:e[1]>53.50000000000001?e[132]>1e-35?cr=.0879462816013881:cr=-.002966662093626573:e[306]>1e-35?cr=-.04588085188342676:cr=.0031910005157084823:e[3]>10.500000000000002?e[10]>20.500000000000004?cr=-.006600332774461143:cr=.1272481351557754:cr=-.09030973597154808:e[284]>1e-35?e[1]>38.50000000000001?e[10]>2.5000000000000004?cr=.011884312066620044:cr=.11678751052403374:e[4]>8.500000000000002?cr=.03627129613273813:cr=-.12132783497902287:cr=-.006784372643244717:e[18]>1e-35?e[3]>4.500000000000001?e[3]>6.500000000000001?e[0]>5453.500000000001?cr=-.06830131718398992:e[0]>5147.500000000001?cr=.062360406249609306:e[4]>4.500000000000001?cr=-.013162203864592055:cr=-.07153029184927609:cr=.07628618062271557:cr=-.12085065687320373:e[190]>1e-35?cr=-.045816889524231186:e[137]>1e-35?cr=-.07956001795911584:e[199]>1e-35?e[0]>3853.5000000000005?cr=.025895337822752502:cr=-.06503949350616421:e[10]>227.50000000000003?cr=-.09989456525790491:e[10]>130.50000000000003?cr=.08616651057030683:cr=.0001234981796706021;let Ut;e[8]>1014.5000000000001?e[9]>137.50000000000003?Ut=-.08778879924617534:e[8]>1022.5000000000001?e[285]>1e-35?e[9]>64.50000000000001?Ut=.04955806187281689:e[0]>3670.5000000000005?e[10]>32.50000000000001?Ut=-.141732381961068:Ut=-.0317152307496497:Ut=-.02074638849097191:e[0]>93.50000000000001?e[0]>3072.5000000000005?e[10]>100.50000000000001?e[4]>24.500000000000004?e[8]>1336.5000000000002?Ut=.12191801556691254:Ut=-.0003444689085397977:Ut=.005739668504631604:e[146]>1e-35?e[308]>1e-35?Ut=.015237524791728777:e[6]>61.50000000000001?e[4]>63.50000000000001?Ut=-.05676033995381961:Ut=.10933961076803381:e[4]>26.500000000000004?Ut=-.11667582544549814:e[8]>1765.5000000000002?Ut=.032174455312047705:Ut=-.0755016390126608:e[293]>1e-35?Ut=-.08234885407658332:e[9]>41.50000000000001?e[0]>3830.5000000000005?Ut=.026571311956824436:e[15]>1e-35?Ut=.06175459479851121:Ut=-.018778084411148754:e[9]>40.50000000000001?Ut=-.09420232889965811:Ut=-.004578248021263184:e[2]>1.5000000000000002?Ut=.005453714644971445:Ut=-.03907138175699279:Ut=-.055296364182154736:e[23]>1e-35?Ut=.036555134842143476:e[0]>4188.500000000001?e[6]>29.500000000000004?Ut=-.09358146510580179:Ut=.060524657996178094:Ut=-.11245101144669545:e[125]>1e-35?e[9]>1.5000000000000002?Ut=-.12698331085931538:Ut=.006059605604079918:e[2]>196.50000000000003?Ut=-.09451315810804783:Ut=.0011390147031687425;let Tt;e[8]>2830.5000000000005?e[1]>31.500000000000004?e[9]>32.50000000000001?e[5]>1234.5000000000002?e[8]>3794.5000000000005?Tt=.05517359070460923:Tt=-.04758751221404857:Tt=-.09482078194138792:e[8]>2992.5000000000005?e[1]>101.50000000000001?Tt=.1040436595565776:e[9]>21.500000000000004?Tt=.04032250517675179:e[107]>1e-35?Tt=.05978752253058374:e[210]>1e-35?e[4]>37.50000000000001?Tt=.1192453009230486:e[1]>51.50000000000001?Tt=.0443376336292195:Tt=-.07967674833321865:e[5]>2117.5000000000005?e[9]>10.500000000000002?Tt=-.10025078607591283:e[0]>2882.5000000000005?e[18]>1e-35?Tt=-.08999822408398037:Tt=.017533219253893447:e[9]>1.5000000000000002?e[4]>12.500000000000002?Tt=-.061850439226075:Tt=.08849196353361093:Tt=.10536348167793089:e[92]>1e-35?Tt=.04894947712119185:e[9]>16.500000000000004?Tt=.05900227903883853:e[9]>5.500000000000001?Tt=-.11946594348916476:Tt=-.03652096348071964:e[1]>41.50000000000001?Tt=-.07411603110840567:Tt=-.00021033247574340914:e[10]>22.500000000000004?e[9]>68.50000000000001?Tt=.08493634342741495:e[11]>1e-35?Tt=-.10899097825564363:Tt=-.006156708838964173:e[8]>3198.5000000000005?e[2]>41.50000000000001?Tt=.08356655906359918:e[7]>25.500000000000004?Tt=-.09475076526194888:e[10]>5.500000000000001?Tt=-.01999406228763778:Tt=.06696212545889428:e[6]>20.500000000000004?Tt=.14713592661393468:Tt=.0459917279002218:Tt=.00027445928493734093;let fr;e[223]>1e-35?e[1]>31.500000000000004?e[8]>634.5000000000001?fr=-.06904501553217077:fr=.05696231672035904:fr=-.1124703178077813:e[99]>1e-35?e[1]>89.50000000000001?fr=-.05074261170009721:e[1]>57.50000000000001?e[8]>969.5000000000001?fr=-.011419256378538392:e[0]>3830.5000000000005?fr=.140315841503076:fr=.02403434913963024:e[1]>31.500000000000004?e[8]>65.50000000000001?e[2]>10.500000000000002?fr=-.04027822909411164:fr=.03176085103667189:fr=.06779515865838849:e[4]>15.500000000000002?fr=.0762878389015175:e[8]>175.50000000000003?e[0]>3030.5000000000005?e[8]>1041.5000000000002?fr=.06124039747298539:fr=-.04312732764434027:fr=.09161522761808062:fr=-.09663512235460074:e[280]>1e-35?e[6]>45.50000000000001?e[1]>46.50000000000001?fr=.11211681010488772:e[13]>1e-35?fr=.06725735814960367:fr=-.046744031455827846:e[10]>44.50000000000001?e[0]>3400.5000000000005?e[0]>4004.5000000000005?e[2]>22.500000000000004?fr=.11743605068905603:fr=-.011309033539148687:fr=-.07896094707523052:fr=.12862714793172117:e[10]>1.5000000000000002?e[8]>455.50000000000006?e[0]>4706.500000000001?fr=-.09218756798869711:e[10]>19.500000000000004?e[0]>1894.5000000000002?e[0]>3719.5000000000005?fr=.02836295848998302:fr=.12210680366745175:fr=-.058302317470509096:e[5]>4144.500000000001?fr=.06123341960495106:fr=-.03840046906926525:fr=-.05221474543453495:fr=.03988215485860711:fr=-.00033074684693083496;let zo=Zdt(t+r+n+i+o+a+l+c+u+f+m+h+p+g+y+x+b+E+_+k+B+N+M+te+de+Z+G+q+ie+z+j+U+V+K+ae+re+le+ce+De+be+qe+Re+Xe+ft+at+lt+oe+Ne+Ae+Ge+Y+ne+Fe+Se+Ce+Ue+Ve+tt+Ct+Pt+yt+Kt+Xt+lr+ge+Me+Je+rt+Rt+Et+Mt+Ot+_t+kt+St+qt+$t+Zt+dr+xr+ur+mr+nr+hr+Ie+O+me+ye+J+F+Te+Oe+xt+Wt+Lt+or+cr+Ut+Tt+fr);return[1-zo,zo]}s(XIe,"multilineModelPredict");function Zdt(e){if(e<0){let t=Math.exp(e);return t/(1+t)}return 1/(1+Math.exp(-e))}s(Zdt,"sigmoid");var emt={javascript:["//"],typescript:["//"],typescriptreact:["//"],javascriptreact:["//"],vue:["//","-->"],php:["//","#"],dart:["//"],go:["//"],cpp:["//"],scss:["//"],csharp:["//"],java:["//"],c:["//"],rust:["//"],python:["#"],markdown:["#","-->"],css:["*/"]},ZIe={javascript:1,javascriptreact:2,typescript:3,typescriptreact:4,python:5,go:6,ruby:7};function e8e(e,t,r,n=!0){let i=e.split(`
`);if(n&&(i=i.filter(l=>l.trim().length>0)),Math.abs(t)>i.length||t>=i.length)return!1;t<0&&(t=i.length+t);let o=i[t];return(emt[r]??[]).some(l=>o.includes(l))}s(e8e,"hasComment");var lO=class{static{s(this,"PromptFeatures")}constructor(t,r){let[n,i]=this.firstAndLast(t),o=this.firstAndLast(t.trimEnd());this.language=r,this.length=t.length,this.firstLineLength=n.length,this.lastLineLength=i.length,this.lastLineRstripLength=i.trimEnd().length,this.lastLineStripLength=i.trim().length,this.rstripLength=t.trimEnd().length,this.stripLength=t.trim().length,this.rstripLastLineLength=o[1].length,this.rstripLastLineStripLength=o[1].trim().length,this.secondToLastLineHasComment=e8e(t,-2,r),this.rstripSecondToLastLineHasComment=e8e(t.trimEnd(),-2,r),this.prefixEndsWithNewline=t.endsWith(`
`),this.lastChar=t.slice(-1),this.rstripLastChar=t.trimEnd().slice(-1),this.firstChar=t[0],this.lstripFirstChar=t.trimStart().slice(0,1)}firstAndLast(t){let r=t.split(`
`),n=r.length,i=r[0],o=r[n-1];return o==""&&n>1&&(o=r[n-2]),[i,o]}},Lre=class{static{s(this,"MultilineModelFeatures")}constructor(t,r,n){this.language=n,this.prefixFeatures=new lO(t,n),this.suffixFeatures=new lO(r,n)}constructFeatures(){let t=new Array(14).fill(0);t[0]=this.prefixFeatures.length,t[1]=this.prefixFeatures.firstLineLength,t[2]=this.prefixFeatures.lastLineLength,t[3]=this.prefixFeatures.lastLineRstripLength,t[4]=this.prefixFeatures.lastLineStripLength,t[5]=this.prefixFeatures.rstripLength,t[6]=this.prefixFeatures.rstripLastLineLength,t[7]=this.prefixFeatures.rstripLastLineStripLength,t[8]=this.suffixFeatures.length,t[9]=this.suffixFeatures.firstLineLength,t[10]=this.suffixFeatures.lastLineLength,t[11]=this.prefixFeatures.secondToLastLineHasComment?1:0,t[12]=this.prefixFeatures.rstripSecondToLastLineHasComment?1:0,t[13]=this.prefixFeatures.prefixEndsWithNewline?1:0;let r=new Array(Object.keys(ZIe).length+1).fill(0);r[ZIe[this.language]??0]=1;let n=new Array(Object.keys(uu).length+1).fill(0);n[uu[this.prefixFeatures.lastChar]??0]=1;let i=new Array(Object.keys(uu).length+1).fill(0);i[uu[this.prefixFeatures.rstripLastChar]??0]=1;let o=new Array(Object.keys(uu).length+1).fill(0);o[uu[this.suffixFeatures.firstChar]??0]=1;let a=new Array(Object.keys(uu).length+1).fill(0);return a[uu[this.suffixFeatures.lstripFirstChar]??0]=1,t.concat(r,n,i,o,a)}};function tmt(e,t){return new Lre(e.prefix,e.suffix,t)}s(tmt,"constructMultilineFeatures");function t8e(e,t){let r=tmt(e,t).constructFeatures();return XIe(r)[1]}s(t8e,"requestMultilineScore");d();d();d();d();async function*bA(e,t){for await(let r of e)yield t(r)}s(bA,"asyncIterableMap");async function*r8e(e,t){for await(let r of e)await t(r)&&(yield r)}s(r8e,"asyncIterableFilter");async function*vS(e,t){for await(let r of e){let n=await t(r);n!==void 0&&(yield n)}}s(vS,"asyncIterableMapFilter");async function*n8e(...e){for(let t of e)yield*t}s(n8e,"asyncIterableConcat");d();async function bS(e,t,r,n){let i=dn.createAndMarkAsIssued({messageId:t,conversationId:r});return await e.get(sr).updateExPValuesAndAssignments(n,i)}s(bS,"createTelemetryWithExpWithId");function fc(e,{turn:t,conversation:r}={},n){return bS(e,t?.telemetryId??"",r?.telemetryId??"",n)}s(fc,"createTelemetryWithExpWithTurn");function ES(e,t,r,n,i,o,a,l){let c=e.turns[e.turns.length-1].skills.map(m=>m.skillId).sort(),u={source:"user",turnIndex:(e.turns.length-1).toString(),uiKind:t,skillIds:c.join(",")},f={promptTokenLen:n,messageCharLen:r};return i&&(u.suggestion=i),o&&(u.suggestionId=o),l.length>0&&(u.skillResolutionsJson=JSON.stringify(rmt(l))),a=a.extendedBy(u,f),a}s(ES,"extendUserMessageTelemetryData");function rmt(e){return e.map(t=>({skillId:t.skillId,resolution:t.resolution,fileStatus:t.files?.map(r=>r.status),tokensPreEliding:t.tokensPreEliding??0,resolutionTimeMs:t.resolutionTimeMs??0,processingTimeMs:t.processingTimeMs??0}))}s(rmt,"mapSkillResolutionsForTelemetry");function i8e(e,t,r,n,i,o,a){return n!=null&&(a=a.extendedBy({offTopic:n.toString()})),cO(e,o,t,r,{uiKind:t,headerRequestId:i},{},a).properties.messageId}s(i8e,"createUserMessageTelemetryData");function o8e(e,t,r,n,i,o,a,l){let c=imt(n);return cO(e,a,r,n,{source:"model",turnIndex:(t.turns.length-1).toString(),headerRequestId:o,uiKind:r,codeBlockLanguages:JSON.stringify({...c})},{messageCharLen:n.length,numCodeBlocks:c.length,numTokens:i},l).properties.messageId}s(o8e,"createModelMessageTelemetryData");function s8e(e,t,r,n,i,o,a){cO(e,o,r,n,{source:"offTopic",turnIndex:t.turns.length.toString(),userMessageId:i,uiKind:r},{messageCharLen:n.length},a)}s(s8e,"createOffTopicMessageTelemetryData");function a8e(e,t,r,n,i,o,a,l,c){let u=cO(e,l,r,n,{source:"suggestion",suggestion:o,turnIndex:(t.turns.length-1).toString(),uiKind:r,suggestionId:a},{promptTokenLen:i,messageCharLen:n.length},c);return nmt(e,r,o,u.properties.messageId,u.properties.conversationId,a,c,l),u.properties.messageId}s(a8e,"createSuggestionMessageTelemetryData");var l8e={synonymTimeMs:0,rankingTimeMs:0,chunkCount:0,localSnippetCount:0,embeddingsTimeMs:0,rerankingTimeMs:0};async function c8e(e,t,r){let n=await fc(e.ctx,e),i=e.conversation.source==="inline"?"conversationInline":"conversationPanel";yf(e.ctx,void 0,{conversationId:e.conversation.telemetryId,turnIndex:(e.conversation.turns.length-1).toString(),userMessageId:e.turn.telemetryId,provider:t,uiKind:i},r,"index.codesearch",n)}s(c8e,"telemetryIndexCodesearch");function cO(e,t,r,n,i,o,a){let l=a??dn.createAndMarkAsIssued(),c={messageText:n,...i};if(!("messageId"in i)&&!("messageId"in l.properties)){let h=_r();i.messageId=h,c.messageId=h}t&&(i.languageId=t.detectedLanguageId,o.documentLength=t.getText().length,o.documentLineCount=t.lineCount);let u=l.extendedBy(i,o),f=l.extendedBy(c),m=C0(r);return jt(e,`${m}.message`,u),jt(e,`${m}.messageText`,f,1),u}s(cO,"telemetryMessage");function u8e(e,t,r,n){yf(e,n,{uiKind:t},{},"conversation.suggestionShown",r)}s(u8e,"createSuggestionShownTelemetryData");function nmt(e,t,r,n,i,o,a,l){yf(e,l,{suggestion:r,messageId:n,conversationId:i,suggestionId:o,uiKind:t},{},"conversation.suggestionSelected",a)}s(nmt,"createSuggestionSelectedTelemetryData");function yf(e,t,r,n,i,o){let a=o??dn.createAndMarkAsIssued();t&&(r.languageId=t.detectedLanguageId,n.documentLength=t.getText().length,n.documentLineCount=t.lineCount);let l=a.extendedBy(r,n);return jt(e,i,l),l}s(yf,"telemetryUserAction");function Q8(e,t,r){let n=r.extendedBy({messagesJson:JSON.stringify(t)});return jt(e,"engine.messages",n,1)}s(Q8,"logEngineMessages");function C0(e){switch(e){case"agentPanel":return"copilotAgentConversation";case"editsPanel":return"copilotEditsPanel";case"conversationInline":return"inlineConversation";case"conversationPanel":default:return"conversation"}}s(C0,"telemetryPrefixForUiKind");function imt(e){let t=e.split(`
`),r=[],n=[];for(let i=0;i<t.length;i++){let o=t[i];o.startsWith("```")&&(n.length>0&&o==="```"?r.push(n.pop()):n.length===0&&n.push(o.substring(3)))}return r}s(imt,"getCodeBlocks");function f8e(e){return e=="conversationInline"?"conversation-inline":"conversation-panel"}s(f8e,"uiKindToIntent");function j5(e){return e==="inline"?"conversationInline":"conversationPanel"}s(j5,"conversationSourceToUiKind");function d8e(e,t,r,n,i){let o={conversationId:t.conversation.telemetryId,turnIndex:(t.conversation.turns.length-1).toString(),roundId:r.toString(),uiKind:"agentPanel"},a={totalTimeMs:n};h8e(e,"round",i.extendedBy(o,a))}s(d8e,"createAgentRoundTelemetryData");function m8e(e,t,r,n,i,o,a,l){let c={conversationId:t.conversation.telemetryId,turnIndex:(t.conversation.turns.length-1).toString(),roundId:i.toString(),toolName:r.name,toolType:r.type,toolProviderId:r.toolProvider.id,toolCallId:n,toolCallStatus:a,uiKind:"agentPanel"},u={totalTimeMs:o};h8e(e,"toolCall",l.extendedBy(c,u))}s(m8e,"createToolInvocationTelemetryData");function h8e(e,t,r){return jt(e,`${C0("agentPanel")}.${t}`,r)}s(h8e,"logAgenticEvent");d();var du=new Gt("streamChoices"),Fre=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new Ore;this.tool_calls=[];this.function_call=new Qre;this.copilot_references=[];this.yielded=!1}static{s(this,"APIJsonDataStreaming")}append(t){if(t.text&&this.text.push(t.text),t.delta?.content&&t.delta.role!=="function"&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push(t.logprobs.tokens??[]),this.text_offset.push(t.logprobs.text_offset??[]),this.logprobs.push(t.logprobs.token_logprobs??[]),this.top_logprobs.push(t.logprobs.top_logprobs??[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),t.delta?.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),t.delta?.tool_calls&&t.delta.tool_calls.length>0)for(let r of t.delta.tool_calls){let n=r.index;this.tool_calls[n]||(this.tool_calls[n]=new Mre),this.tool_calls[n].update(r)}t.delta?.function_call&&this.function_call.update(t.delta.function_call),t?.finish_reason&&(this.finish_reason=t.finish_reason)}};function omt(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}s(omt,"splitChunk");var Mre=class{constructor(){this.arguments=[]}static{s(this,"StreamingToolCall")}update(t){t.function.name&&(this.name=t.function.name),this.arguments.push(t.function.arguments)}},Qre=class{constructor(){this.arguments=[]}static{s(this,"StreamingFunctionCall")}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}},Ore=class{constructor(){this.current={}}static{s(this,"StreamCopilotAnnotations")}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(i=>this.update_namespace(r,i))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],i=n.findIndex(o=>o.id===r.id);i>=0?n[i]=r:n.push(r)}for(t){return this.current[t]??[]}},V5=class e{constructor(t,r,n,i,o,a,l){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=i;this.telemetryData=o;this.dropCompletionReasons=a;this.cancellationToken=l;this.requestId=$5(this.response);this.stats=new Ure;this.solutions={}}static{s(this,"SSEProcessor")}static create(t,r,n,i,o,a){let l=n.body();if(l===null)throw new Error("No response body available");return typeof l.setEncoding=="function"?l.setEncoding("utf8"):l=l.pipeThrough(new TextDecoderStream),new e(t,r,n,l,i,o??[],a)}async*processSSE(t=()=>{}){try{yield*this.processSSEInner(t)}finally{this.cancel(),du.debug(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),du.debug(this.ctx,"request stats:",this.stats)}}async*processSSEInner(t){let r="",n=null,i,o;e:for await(let a of this.body){if(this.maybeCancel("after awaiting body chunk"))return;du.debug(this.ctx,"chunk",a.toString());let[l,c]=omt(r+a.toString());r=c;for(let u of l){let f=u.slice(5).trim();if(f=="[DONE]"){yield*this.finishSolutions(n,i,o,t);return}n=null;let m;try{m=JSON.parse(f)}catch{du.error(this.ctx,"Error parsing JSON stream data",u);continue}if(m.copilot_confirmation&&smt(m.copilot_confirmation)&&await t("",{text:"",requestId:this.requestId,copilotConfirmation:m.copilot_confirmation}),m.copilot_references&&await t("",{text:"",requestId:this.requestId,copilotReferences:m.copilot_references}),m.choices===void 0){!m.copilot_references&&!m.copilot_confirmation&&(m.error!==void 0?du.error(this.ctx,"Error in response:",m.error.message):du.error(this.ctx,"Unexpected response with no choices or error: "+f)),m.copilot_errors&&await t("",{text:"",requestId:this.requestId,copilotErrors:m.copilot_errors});continue}if(this.requestId.created==0&&(this.requestId=$5(this.response,m),this.requestId.created===0&&m.choices?.length&&du.error(this.ctx,'Request id invalid, should have "completionId" and "created":',this.requestId)),i===void 0&&m.model&&(i=m.model),o===void 0&&m.usage&&(o=m.usage),this.allSolutionsDone()){r="";break e}for(let h=0;h<m.choices?.length;h++){let p=m.choices[h];du.debug(this.ctx,"choice",p),this.stats.add(p.index),p.index in this.solutions||(this.solutions[p.index]=new Fre);let g=this.solutions[p.index];if(g==null)continue;g.append(p);let y=this.asSolutionDecision(),x=p.text?.indexOf(`
`)>-1||p.delta?.content?.indexOf(`
`)>-1;if(p.finish_reason||x){let E=g.text.join("");if(y=this.asSolutionDecision(await t(E,{text:E,index:p.index,requestId:this.requestId,annotations:g.copilot_annotations,copilotReferences:g.copilot_references,getAPIJsonData:s(()=>IS(g),"getAPIJsonData"),finished:!!p.finish_reason,telemetryData:this.telemetryData})),this.maybeCancel("after awaiting finishedCb"))return}if(p.finish_reason&&g.function_call.name!==void 0){n=p.finish_reason;continue}if(p.finish_reason&&(y.yieldSolution=!0,y.continueStreaming=!1),!y.yieldSolution)continue;let b=p.finish_reason??"client-trimmed";if(jt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:b,engineName:i??"",engineChoiceSource:S5(this.ctx,this.telemetryData).engineChoiceSource})),this.dropCompletionReasons.includes(p.finish_reason)?this.solutions[p.index]=null:g.yielded||(this.stats.markYielded(p.index),yield{solution:g,finishOffset:y.finishOffset,reason:p.finish_reason,requestId:this.requestId,index:p.index,model:i,usage:o},g.yielded=!0),this.maybeCancel("after yielding finished choice"))return;y.continueStreaming||(this.solutions[p.index]=null)}}}for(let[a,l]of Object.entries(this.solutions)){let c=Number(a);if(l!=null&&(jt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:"Iteration Done",engineName:i??""})),this.stats.markYielded(c),yield{solution:l,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:c,model:i,usage:o},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let a=JSON.parse(r);a.error!==void 0&&du.error(this.ctx,`Error in response: ${a.error.message}`,a.error)}catch{du.error(this.ctx,`Error parsing extraData: ${r}`)}}asSolutionDecision(t){return t===void 0?{yieldSolution:!1,continueStreaming:!0}:typeof t=="number"?{yieldSolution:!0,continueStreaming:!1,finishOffset:t}:t}async*finishSolutions(t,r,n,i){for(let[o,a]of Object.entries(this.solutions)){let l=Number(o);if(a==null)continue;let c=a.text.join("");if(await i(c,{text:c,index:l,requestId:this.requestId,annotations:a.copilot_annotations,copilotReferences:a.copilot_references,getAPIJsonData:s(()=>IS(a),"getAPIJsonData"),finished:!0,telemetryData:this.telemetryData}),!a.yielded&&(this.stats.markYielded(l),jt(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:t??"DONE",engineName:r??""})),yield{solution:a,finishOffset:void 0,reason:t??"DONE",requestId:this.requestId,index:l,model:r,usage:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){return this.cancellationToken?.isCancellationRequested?(du.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body&&"destroy"in this.body&&typeof this.body.destroy=="function"?this.body.destroy():this.body instanceof ReadableStream&&this.body.cancel()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};function uO(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(du.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),du.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),du.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let o=IS(t.solution);return fO(e,n,o,t.index,t.requestId,i,r)}s(uO,"prepareSolutionForReturn");function IS(e){let t=e.text.join(""),r=amt(e),n=lmt(e),i=e.copilot_annotations.current,o={text:t,tokens:e.text,tool_calls:r,function_call:n,copilot_annotations:i,finish_reason:e.finish_reason??"stop"};if(e.logprobs.length===0)return o;let a=e.logprobs.reduce((f,m)=>f.concat(m),[]),l=e.top_logprobs.reduce((f,m)=>f.concat(m),[]),c=e.text_offset.reduce((f,m)=>f.concat(m),[]),u=e.tokens.reduce((f,m)=>f.concat(m),[]);return{...o,logprobs:{token_logprobs:a,top_logprobs:l,text_offset:c,tokens:u}}}s(IS,"convertToAPIJsonData");function smt(e){return typeof e.title=="string"&&typeof e.message=="string"&&!!e.confirmation}s(smt,"isCopilotConfirmation");function amt(e){let t=[];for(let r of e.tool_calls)if(r.name){let n=r.arguments.length>0?JSON.parse(r.arguments.join("")):{};t.push({type:"function",function:{name:r.name,arguments:n},approxNumTokens:r.arguments.length+1})}return t}s(amt,"extractToolCalls");function lmt(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):{};return{name:e.function_call.name,arguments:t}}}s(lmt,"extractFunctionCall");var Ure=class{constructor(){this.choices=new Map}static{s(this,"ChunkStats")}getChoiceStats(t){let r=this.choices.get(t);return r||(r=new qre,this.choices.set(t,r)),r}add(t){this.getChoiceStats(t).increment()}markYielded(t){this.getChoiceStats(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},qre=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}static{s(this,"ChoiceStats")}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};d();function dO(e,t){return e!==null&&typeof e=="object"&&t in e}s(dO,"hasKey");function x0(e,t){return dO(e,t)?e[t]:void 0}s(x0,"getKey");var g8e=Ze(ii());var Js=new Gt("fetchCompletions");function $5(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}s($5,"getRequestId");function O8(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}s(O8,"getProcessingTime");function A8e(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}s(A8e,"uiKindToIntent");var mu=class{static{s(this,"OpenAIFetcher")}};function cmt(e,t,r,n){return r8(e,t,"proxy","v1/engines",r,n)}s(cmt,"getProxyEngineUrl");async function p8e(e,t,r,n,i,o,a,l,c,u,f){let m=e.get(zi),h=cmt(e,a,r,n),p=c.extendedBy({endpoint:n,engineName:r,uiKind:l},e8(t));for(let[x,b]of Object.entries(o))x=="prompt"||x=="suffix"||x=="context"||(p.properties[`request.option.${x}`]=JSON.stringify(b)??"undefined");p.properties.headerRequestId=i,jt(e,"request.sent",p);let g=ia(),y=A8e(l);return Px(e,h,a.token,y,i,o,u,f).then(x=>{let b=$5(x,void 0);p.extendWithRequestId(b);let E=ia()-g;return p.measurements.totalTimeMs=E,Js.info(e,`Request ${i} at <${h}> finished with ${x.status} status after ${E}ms`),p.properties.status=String(x.status),Js.debug(e,"request.response properties",p.properties),Js.debug(e,"request.response measurements",p.measurements),Js.debug(e,"prompt:",t),jt(e,"request.response",p),x}).catch(x=>{if(Rc(x))throw jt(e,"request.cancel",p),x;m.setWarning(x0(x,"message")??"");let b=p.extendedBy({error:"Network exception"});jt(e,"request.shownWarning",b),p.properties.message=String(x0(x,"name")??""),p.properties.code=String(x0(x,"code")??""),p.properties.errno=String(x0(x,"errno")??""),p.properties.type=String(x0(x,"type")??"");let E=ia()-g;throw p.measurements.totalTimeMs=E,Js.info(e,`Request ${i} at <${h}> rejected with ${String(x)} after ${E}ms`),Js.debug(e,"request.error properties",p.properties),Js.debug(e,"request.error measurements",p.measurements),jt(e,"request.error",p),x}).finally(()=>{L3e(e,t,p)})}s(p8e,"fetchWithInstrumentation");async function umt(e,t,r,n,i,o,a,l,c,u){let f=c.extendedBy({endpoint:"chat/completions",engineModelId:r,uiKind:l});for(let[g,y]of Object.entries(o))g!=="messages"&&(f.properties[`request.option.${g}`]=JSON.stringify(y)??"undefined");f.properties.headerRequestId=i,jt(e,"request.sent",f);let m=ia(),h=A8e(l),p={...T5(e)};try{let g=await Px(e,n,a.token,h,i,o,u,p),y=$5(g,void 0);f.extendWithRequestId(y);let x=ia()-m;return f.measurements.totalTimeMs=x,Js.info(e,`Request ${i} at <${n}> finished with ${g.status} status after ${x}ms`),Js.debug(e,"request.response properties",f.properties),Js.debug(e,"request.response measurements",f.measurements),Js.debug(e,"messages:",JSON.stringify(t)),jt(e,"request.response",f),g}catch(g){if(Rc(g))throw jt(e,"request.cancel",f),g;let y=f.extendedBy({error:"Network exception"});jt(e,"request.shownWarning",y),f.properties.message=String(x0(g,"name")??""),f.properties.code=String(x0(g,"code")??""),f.properties.errno=String(x0(g,"errno")??""),f.properties.type=String(x0(g,"type")??"");let x=ia()-m;throw f.measurements.totalTimeMs=x,Js.info(e,`Request ${i} at <${n}> rejected with ${String(g)} after ${x}ms`),Js.debug(e,"request.error properties",f.properties),Js.debug(e,"request.error measurements",f.measurements),jt(e,"request.error",f),g}finally{Q8(e,t,f)}}s(umt,"fetchChatWithInstrumentation");function Wre(e){return r8e(e,t=>t.completionText.trim().length>0)}s(Wre,"postProcessChoices");var fmt="github.copilot.completions.quotaExceeded",TS=class extends mu{static{s(this,"LiveOpenAIFetcher")}#e;async fetchAndStreamCompletions(t,r,n,i,o){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(zi),l="completions",c=await t.get(en).getToken(),u=await this.fetchWithParameters(t,l,r,c,n,o);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(o?.isCancellationRequested){let p=u.body();try{p&&"destroy"in p&&typeof p.destroy=="function"?p.destroy():p instanceof ReadableStream&&p.cancel()}catch(g){Js.exception(t,g,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u.status!==200){let p=this.createTelemetryData(l,t,r);return this.handleError(t,a,p,u,c)}let m=V5.create(t,r.count,u,n,[],o).processSSE(i),h=bA(m,p=>uO(t,p,n));return{type:"success",choices:Wre(h),getProcessingTime:s(()=>O8(u),"getProcessingTime")}}async fetchAndStreamChat(t,r,n,i,o,a,l,c={},u){if(this.#e)return{type:"canceled",reason:this.#e};let f="https://copilot-proxy.githubusercontent.com/chat/completions",m={messages:r,model:l.id,stream:!0,...c},h=n.extendedBy({endpoint:f,model:l.name}),p=t.get(zi),g=await t.get(en).getToken(),y=await umt(t,r,l.id,f,o,m,g,i,h,u);if(u?.isCancellationRequested){let _=y.body();try{_&&"destroy"in _&&typeof _.destroy=="function"?_.destroy():_ instanceof ReadableStream&&_.cancel()}catch(k){Js.exception(t,k,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(y.status!==200){let _=dn.createAndMarkAsIssued({endpoint:f,engineName:l.name,uiKind:i,headerRequestId:o});return this.handleError(t,p,_,y,g)}let b=V5.create(t,1,y,h,[],g8e.CancellationToken.None).processSSE(),E=bA(b,_=>uO(t,_,n));return{type:"success",choices:Wre(E),getProcessingTime:s(()=>O8(y),"getProcessingTime")}}async fetchAndStreamSpeculation(t,r,n,i,o){if(this.#e)return{type:"canceled",reason:this.#e};let a=t.get(zi),l="speculation",c=await t.get(en).getToken(),u={prompt:{prefix:r.prompt,suffix:"",isFimEnabled:!1},postOptions:{speculation:r.speculation,temperature:r.temperature,stream:r.stream,stop:r.stops??[]},languageId:"",count:0,repoInfo:void 0,ourRequestId:_r(),engineModelId:r.engineModelId,uiKind:r.uiKind,headers:r.headers},f=await this.fetchSpeculationWithParameters(t,l,u,c,n,o);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(o?.isCancellationRequested){let g=f.body();try{g&&"destroy"in g&&typeof g.destroy=="function"?g.destroy():g instanceof ReadableStream&&g.cancel()}catch(y){Js.exception(t,y,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f.status!==200){let g=this.createTelemetryData(l,t,u);return this.handleError(t,a,g,f,c)}let h=V5.create(t,1,f,n,[],o).processSSE(i),p=bA(h,g=>uO(t,g,n));return{type:"success",choices:Wre(p),getProcessingTime:s(()=>O8(f),"getProcessingTime")}}createTelemetryData(t,r,n){return dn.createAndMarkAsIssued({endpoint:t,engineName:n.engineModelId,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchSpeculationWithParameters(t,r,n,i,o,a){let l={prompt:n.prompt.prefix};return n.postOptions&&Object.assign(l,n.postOptions),await Dv(0),a?.isCancellationRequested?"not-sent":await p8e(t,n.prompt,n.engineModelId,r,n.ourRequestId,l,i,n.uiKind,o,a,n.headers)}async fetchWithParameters(t,r,n,i,o,a){let l=t.get(sr).disableLogProb(o),c=t.get(sr).enablePromptContextProxyField(o),u={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:hO(t),temperature:U8(t,n.count),top_p:mO(t),n:n.count,stop:y8e(t,n.languageId)};(n.requestLogProbs||!l)&&(u.logprobs=2);let f=mA(n.repoInfo);return f!==void 0&&(u.nwo=f),n.postOptions&&Object.assign(u,n.postOptions),c&&n.prompt.context&&(u.extra?u.extra.context=n.prompt.context:u.extra={language:n.languageId,prompt_tokens:n.prompt.prefixTokens??0,suffix_tokens:n.prompt.suffixTokens??0,context:n.prompt.context}),await Dv(0),a?.isCancellationRequested?"not-sent":await p8e(t,n.prompt,n.engineModelId,r,n.ourRequestId,u,i,n.uiKind,o,a,n.headers)}async handleError(t,r,n,i,o){let a=await i.text();if(i.status===402){this.#e="monthly free code completions exhausted",r.setError("Completions limit reached",{command:fmt,title:"Learn More"});let c=Ks(t,u=>{this.#e=void 0,(u.envelope.limited_user_quotas?.completions??1)>0&&(r.forceNormal(),c.dispose())});return{type:"failed",reason:this.#e}}if(i.status===466)return r.setError(a),Js.info(t,a),{type:"failed",reason:`client not supported: ${a}`};if(i.clientError&&!i.headers.get("x-github-request-id")){let l=`Last response was a ${i.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;Js.error(t,l),r.setWarning(l),n.properties.error=`Response status was ${i.status} with no x-github-request-id header`}else i.clientError?(Js.warn(t,`Response status was ${i.status}:`,a),r.setWarning(`Last response was a ${i.status} error: ${a}`),n.properties.error=`Response status was ${i.status}: ${a}`):(r.setWarning(`Last response was a ${i.status} error`),n.properties.error=`Response status was ${i.status}`);return n.properties.status=String(i.status),jt(t,"request.shownWarning",n),i.status===401||i.status===403?(t.get(en).resetToken(i.status),{type:"failed",reason:`token expired or invalid: ${i.status}`}):i.status===429?(setTimeout(()=>{this.#e=void 0},10*1e3),this.#e="rate limited",Js.warn(t,"Rate limited by server. Denying completions for the next 10 seconds."),{type:"failed",reason:this.#e}):i.status===499?(Js.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"}):(Js.error(t,"Unhandled status from server:",i.status,a),{type:"failed",reason:`unhandled status from server: ${i.status} ${a}`})}};function fO(e,t,r,n,i,o,a){return N3e(e,t,r,i,n),{completionText:t,meanLogProb:dmt(e,r),meanAlternativeLogProb:mmt(e,r),choiceIndex:n,requestId:i,blockFinished:o,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a,copilotAnnotations:r.copilot_annotations,clientCompletionId:_r(),finishReason:r.finish_reason}}s(fO,"convertToAPIChoice");function dmt(e,t){if(t?.logprobs?.token_logprobs)try{let r=0,n=0,i=50;for(let o=0;o<t.logprobs.token_logprobs.length-1&&i>0;o++,i--)r+=t.logprobs.token_logprobs[o],n+=1;return n>0?r/n:void 0}catch(r){Wn.exception(e,r,"Error calculating mean prob")}}s(dmt,"calculateMeanLogProb");function mmt(e,t){if(t?.logprobs?.top_logprobs)try{let r=0,n=0,i=50;for(let o=0;o<t.logprobs.token_logprobs.length-1&&i>0;o++,i--){let a={...t.logprobs.top_logprobs[o]};delete a[t.logprobs.tokens[o]],r+=Math.max(...Object.values(a)),n+=1}return n>0?r/n:void 0}catch(r){Wn.exception(e,r,"Error calculating mean prob")}}s(mmt,"calculateMeanAlternativeLogProb");function U8(e,t){return oh(e)||t<=1?0:t<10?.2:t<20?.4:.8}s(U8,"getTemperatureForSamples");var hmt={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function y8e(e,t){return hmt[t??""]??[`


`,"\n```"]}s(y8e,"getStops");function mO(e){return 1}s(mO,"getTopP");function hO(e){return B_}s(hO,"getMaxSolutionTokens");var Gre=class e{constructor(t,r){this.index=t;this.documentPrefix=r;this.startOffset=0;this.text="";this.trimCount=0}static{s(this,"StreamingCompletion")}updateText(t){this.text=t}get addedToPrefix(){return this.text.substring(0,this.startOffset)}get effectivePrefix(){return this.documentPrefix+this.addedToPrefix}get effectiveText(){return this.text.substring(this.startOffset)}get isFirstCompletion(){return this.trimCount===0}get firstNewlineOffset(){let t=[...this.text.matchAll(/\r?\n/g)];return t.length>0&&t[0].index===0&&t.shift(),t.length>0?t[0].index:-1}trimAt(t){let r=new e(this.index,this.documentPrefix);return r.startOffset=this.startOffset,r.text=this.text.substring(0,this.startOffset+t),r.trimCount=this.trimCount,this.startOffset+=t,this.trimCount++,r}},pO=class{constructor(t,r,n,i,o,a){this.ctx=t;this.prefix=r;this.languageId=n;this.initialSingleLine=i;this.trimmerLookahead=o;this.cacheFunction=a;this.lineLimit=3;this.completions=new Map}static{s(this,"StreamedCompletionSplitter")}getFinishedCallback(){return async(t,r)=>{let n=r.index??0,i=this.getCompletion(n,t);if(i.isFirstCompletion&&this.initialSingleLine&&i.firstNewlineOffset>=0){let o={yieldSolution:!0,continueStreaming:!0,finishOffset:i.firstNewlineOffset};return i.trimAt(o.finishOffset),r.finished&&await this.trimAll(r,i),o}return r.finished?await this.trimAll(r,i):await this.trimOnce(r,i)}}getCompletion(t,r){let n=this.completions.get(t);return n||(n=new Gre(t,this.prefix),this.completions.set(t,n)),n.updateText(r),n}async trimOnce(t,r){let n=await this.trim(r);return n===void 0?{yieldSolution:!1,continueStreaming:!0}:r.isFirstCompletion?(r.trimAt(n),{yieldSolution:!0,continueStreaming:!0,finishOffset:n}):(this.cacheCompletion(t,r,n),{yieldSolution:!1,continueStreaming:!0})}async trimAll(t,r){let n,i;do n=await this.trim(r),r.isFirstCompletion?(i=n,r.trimAt(n??r.effectiveText.length)):this.cacheCompletion(t,r,n);while(n!==void 0);return i!==void 0?{yieldSolution:!0,continueStreaming:!0,finishOffset:i}:{yieldSolution:!1,continueStreaming:!0}}async trim(t){return await new aO(this.languageId,t.effectivePrefix,t.effectiveText,this.lineLimit,this.trimmerLookahead).getCompletionTrimOffset()}cacheCompletion(t,r,n){let i=r.trimAt(n??r.effectiveText.length);if(i.effectiveText.trim()==="")return;let o=fO(this.ctx,i.effectiveText.trimEnd(),t.getAPIJsonData(),i.index,t.requestId,n!==void 0,t.telemetryData);o.copilotAnnotations=this.adjustedAnnotations(o,r,i),o.generatedChoiceIndex=i.trimCount,this.cacheFunction(i.addedToPrefix,o)}adjustedAnnotations(t,r,n){if(t.copilotAnnotations===void 0)return;let i=n.addedToPrefix.length,a=i+t.completionText.length>=r.text.length,l={};for(let[c,u]of Object.entries(t.copilotAnnotations)){let f=u.filter(m=>m.start_offset-i<t.completionText.length&&m.stop_offset-i>0).map(m=>{let h={...m};return h.start_offset-=i,h.stop_offset-=i,a||(h.stop_offset=Math.min(h.stop_offset,t.completionText.length)),h});f.length>0&&(l[c]=f)}return Object.keys(l).length>0?l:void 0}};d();var gO=new Gt("getCompletions");function AO(e,t,r){r.telemetry.markAsDisplayed(),r.telemetry.properties.reason=q8(r.resultType),jt(e,`${t}.shown`,r.telemetry)}s(AO,"telemetryShown");function C8e(e,t,r){let n=t+".accepted",i=e.get(Af);i.previousLabel=1,i.previousLabelTimestamp=Date.now(),jt(e,n,r)}s(C8e,"telemetryAccepted");function x8e(e,t,r){let n=t+".rejected",i=e.get(Af);i.previousLabel=0,i.previousLabelTimestamp=Date.now(),jt(e,n,r)}s(x8e,"telemetryRejected");function ug(e,t={}){return{...t,telemetryBlob:e}}s(ug,"mkCanceledResultTelemetry");function Xs(e){let t={headerRequestId:e.properties.headerRequestId,copilot_trackingId:e.properties.copilot_trackingId};return e.properties.sku!==void 0&&(t.sku=e.properties.sku),e.properties.opportunityId!==void 0&&(t.opportunityId=e.properties.opportunityId),e.properties.organizations_list!==void 0&&(t.organizations_list=e.properties.organizations_list),e.properties.enterprise_list!==void 0&&(t.enterprise_list=e.properties.enterprise_list),e.properties.clientCompletionId!==void 0&&(t.clientCompletionId=e.properties.clientCompletionId),t["abexp.assignmentcontext"]=e.filtersAndExp.exp.assignmentContext,t}s(Xs,"mkBasicResultTelemetry");function v8e(e,t){if(t.type!=="promptOnly"){if(t.type==="success"){let r=ia()-t.telemetryBlob.issuedTime,n=q8(t.resultType),i=JSON.stringify(t.performanceMetrics),o={...t.telemetryData,reason:n,performanceMetrics:i},{foundOffset:a}=t.telemetryBlob.measurements,l=t.performanceMetrics?.map(([c,u])=>`
${u.toFixed(2)}	${c}`).join("")??"";return gO.debug(e,`ghostText produced from ${n} in ${Math.round(r)}ms with foundOffset ${a}${l}`),jZ(e,"ghostText.produced",o,{timeToProduceMs:r,foundOffset:a}),t.value}if(gO.debug(e,"No ghostText produced -- "+t.type+": "+t.reason),t.type==="canceled"){jt(e,"ghostText.canceled",t.telemetryData.telemetryBlob.extendedBy({reason:t.reason,cancelledNetworkRequest:t.telemetryData.cancelledNetworkRequest?"true":"false"}));return}jZ(e,`ghostText.${t.type}`,{...t.telemetryData,reason:t.reason},{})}}s(v8e,"handleGhostTextResultTelemetry");function q8(e){switch(e){case 0:return"network";case 1:return"cache";case 3:return"cycling";case 2:return"typingAsSuggested";case 4:return"async"}}s(q8,"resultTypeToString");d();d();d();var pmt={maxSnippetLength:3e3,maxSnippetCount:7,enabledFeatures:"Deferred",timeBudgetMs:7,doAggregateSnippets:!0},gmt="ms-vscode.cpptools",Amt="CppCompletionContextProvider";function b8e(e,t,r,n){(t.includes(Amt)||t.length===1&&t[0]==="*")&&I8e(e,r,n)}s(b8e,"fillInCppVSActiveExperiments");function E8e(e,t,r,n){(t.length===1&&t[0]==="*"||t.includes(gmt))&&I8e(e,r,n)}s(E8e,"fillInCppVSCodeActiveExperiments");function I8e(e,t,r){try{let n=pmt,i=e.get(sr).cppContextProviderParams(r);if(i)try{n=JSON.parse(i)}catch(o){Wn.error(e,"Failed to parse cppContextProviderParams",o)}for(let[o,a]of Object.entries(n))t.set(o,a)}catch(n){Wn.exception(e,n,"fillInCppActiveExperiments")}}s(I8e,"addActiveExperiments");d();function yO(e,t,r){try{let n=e.get(sr).csharpContextProviderParams(r);if(n){let i=JSON.parse(n);for(let[o,a]of Object.entries(i))t.set(o,a)}}catch(n){return Wn.debug(e,"Failed to get the active C# experiments for the Context Provider API",n),!1}return!0}s(yO,"fillInCSharpActiveExperiments");d();var T8e=I.Object({importance:I.Optional(I.Integer({minimum:0,maximum:100})),id:I.Optional(I.String()),origin:I.Optional(I.Union([I.Literal("request"),I.Literal("update")]))}),w8e=I.Intersect([I.Object({name:I.String(),value:I.String()}),T8e]),_8e=I.Intersect([I.Object({uri:I.String(),value:I.String(),additionalUris:I.Optional(I.Array(I.String()))}),T8e]),ymt=[w8e,_8e],Cmt=I.Union(ymt),xmt=new Map([["Trait",ms.Compile(w8e)],["CodeSnippet",ms.Compile(_8e)]]),vmt=s(e=>e,"ensureTypesAreEqual");vmt(!0);var bmt=I.Object({contextItems:I.Array(Cmt)}),Emt=I.Object({selector:I.Array(I.Union([I.String(),I.Object({language:I.Optional(I.String()),scheme:I.Optional(I.String()),pattern:I.Optional(I.String())})]))}),Hre=I.Object({id:I.String()}),Imt=I.Intersect([Hre,Emt]),Tmt=I.Intersect([Hre,bmt]),S8e=I.Object({providers:I.Array(Imt)}),R8e=I.Object({providers:I.Array(Hre)}),jre=I.Object({providers:I.Array(Tmt),updating:I.Optional(I.Array(I.String()))}),CO=I.Intersect([e3e,I.Object({contextItems:I.Optional(jre)})]);function xO(e,t){return e.map(r=>{let n=r.data.filter(i=>i.type===t);return n.length>0?{...r,data:n}:void 0}).filter(r=>r!==void 0)}s(xO,"filterContextItemsByType");function k8e(e){let t=[],r=0;return e.forEach(n=>{let i=!1;for(let[o,a]of xmt.entries())if(a.Check(n)){t.push({...n,type:o}),i=!0;break}i||r++}),[t,r]}s(k8e,"filterSupportedContextItems");function wmt(e){return e.length>0&&e.replaceAll(/[^a-zA-Z0-9-]/g,"").length===e.length}s(wmt,"validateContextItemId");function B8e(e,t){let r=new Set,n=[];for(let i of t){let o=i.id??_r();if(!wmt(o)){let a=_r();Wn.error(e,`Invalid context item ID ${o}, replacing with ${a}`),o=a}if(r.has(o)){let a=_r();Wn.error(e,`Duplicate context item ID ${o}, replacing with ${a}`),o=a}r.add(o),n.push({...i,id:o})}return n}s(B8e,"addOrValidateContextItemsIDs");d();var Dl=class{constructor(t=()=>new Vre){this.createStatistics=t;this.statistics=new un(25)}static{s(this,"ContextProviderStatistics")}getStatisticsForCompletion(t){let r=this.statistics.get(t);if(r)return r;let n=this.createStatistics();return this.statistics.set(t,n),n}getPreviousStatisticsForCompletion(t){let r=Array.from(this.statistics.keys());for(let n=r.length-1;n>=0;n--){let i=r[n];if(i!==t)return this.statistics.peek(i)}}},Vre=class{constructor(){this._expectations=new Map;this._lastResolution=new Map;this._statistics=new Map}static{s(this,"PerCompletionContextProviderStatistics")}addExpectations(t,r){let n=this._expectations.get(t)??[];this._expectations.set(t,[...n,...r])}clearExpectations(){this._expectations.clear()}setLastResolution(t,r){this._lastResolution.set(t,r)}get(t){return this._statistics.get(t)}computeMatch(t){try{for(let[r,n]of this._expectations){if(n.length===0)continue;let i=this._lastResolution.get(r)??"none";if(i==="none"||i==="error"){this._statistics.set(r,{usage:"none",resolution:i});continue}let o=[];for(let[u,f]of n){let m={id:u.id,type:u.type};if(u.origin&&(m.origin=u.origin),f==="content_excluded"){o.push({...m,usage:"none_content_excluded"});continue}let h=t.find(p=>p.source===u);h===void 0?o.push({...m,usage:"error"}):o.push({...m,usage:h.expectedTokens>0&&h.expectedTokens===h.actualTokens?"full":h.actualTokens>0?"partial":"none",expectedTokens:h.expectedTokens,actualTokens:h.actualTokens})}let l=o.reduce((u,f)=>f.usage==="full"?u+1:f.usage==="partial"?u+.5:u,0)/n.length,c=l===1?"full":l===0?"none":"partial";this._statistics.set(r,{resolution:i,usage:c,usageDetails:o})}}finally{this.clearExpectations(),this._lastResolution.clear()}}};function D8e(e){return e.map(t=>{if(!(t.source===void 0||t.expectedTokens===void 0||t.actualTokens===void 0))return{source:t.source,expectedTokens:t.expectedTokens,actualTokens:t.actualTokens}}).filter(t=>t!==void 0)}s(D8e,"componentStatisticsToPromptMatcher");var P8e=Ze(ii());var fl=class{static{s(this,"ContextProviderRegistry")}},z5=class{static{s(this,"DefaultContextProviders")}},W8=class extends z5{constructor(){super();this.ids=[]}static{s(this,"DefaultContextProvidersContainer")}setIds(r){this.ids=r}getIds(){return this.ids}},$re=class extends fl{constructor(r,n){super();this.ctx=r;this.match=n;this._providers=[]}static{s(this,"CoreContextProviderRegistry")}registerContextProvider(r){if(r.id.includes(",")||r.id.includes("*"))throw new Error(`A context provider id cannot contain a comma or an asterisk. The id ${r.id} is invalid.`);if(this._providers.find(n=>n.id===r.id))throw new Error(`A context provider with id ${r.id} has already been registered`);this._providers.push(r)}unregisterContextProvider(r){this._providers=this._providers.filter(n=>n.id!==r)}get providers(){return this._providers.slice()}async resolveAllProviders(r,n,i,o,a){if(o?.isCancellationRequested)return Wn.debug(this.ctx,"Resolving context providers cancelled"),[];let l=new Map;yO(this.ctx,l,i);let c=[];if(this._providers.length===0)return c;let u=await this.matchProviders(n,i),f=u.filter(g=>g[1]>0),m=u.filter(g=>g[1]<=0);if(E8e(this.ctx,f.map(g=>g[0].id),l,i),m.forEach(([g,y])=>{let x={providerId:g.id,matchScore:y,resolution:"none",resolutionTimeMs:0,data:[]};c.push(x)}),f.length===0)return c;if(o?.isCancellationRequested)return Wn.debug(this.ctx,"Resolving context providers cancelled"),[];let h=p_(this.ctx)&&!ZL(this.ctx)?0:Mn(this.ctx,bt.ContextProviderTimeBudget),p=f.length>0?h/f.length:h;for(let[g,y]of f){let x={completionId:r,documentContext:n,activeExperiments:l,timeBudget:p,data:a},b=this.ctx.get(Dl).getPreviousStatisticsForCompletion(r)?.get(g.id);b&&(x.previousUsageStatistics=b);let E=new P8e.CancellationTokenSource;o?.onCancellationRequested(q=>{E.cancel()});let _=performance.now(),k=g.resolver.resolve(x,E.token),[B,N]=await _mt(this.ctx,k,x,g,E),M=performance.now();this.ctx.get(Dl).getStatisticsForCompletion(r).setLastResolution(g.id,N);let[te,de]=k8e(B);de&&Wn.error(this.ctx,`Dropped ${de} context items from ${g.id} due to invalid schema`);let Z=B8e(this.ctx,te),G={providerId:g.id,matchScore:y,resolution:N,resolutionTimeMs:M-_,data:Z};c.push(G)}return c.sort((g,y)=>y.matchScore-g.matchScore)}async matchProviders(r,n){let i=bO(this.ctx,n),o=i.length===1&&i[0]==="*";return await Promise.all(this._providers.map(async l=>{if(!o&&!i.includes(l.id))return[l,0];let c=await this.match(this.ctx,l.selector,r);return[l,c]}))}},zre=class extends fl{constructor(r){super();this.delegate=r;this._cachedContextItems=new un(5)}static{s(this,"CachedContextProviderRegistry")}registerContextProvider(r){this.delegate.registerContextProvider(r)}unregisterContextProvider(r){this.delegate.unregisterContextProvider(r)}get providers(){return this.delegate.providers}async resolveAllProviders(r,n,i,o,a){let l=this._cachedContextItems.get(r);if(r&&l&&l.length>0)return l;let c=await this.delegate.resolveAllProviders(r,n,i,o,a);return c.length>0&&r&&this._cachedContextItems.set(r,c),c}};function N8e(e){return e>0?Dv(e,null):new Promise(()=>{})}s(N8e,"nullTimeout");async function _mt(e,t,r,n,i){let o=[],a;return t instanceof Promise?[o,a]=await Smt(e,t,r,n,i):[o,a]=await Rmt(e,t,r,n,i),[o,a]}s(_mt,"extractDataFromPendingContextItem");async function Smt(e,t,r,n,i){let o=[],a,l=N8e(r.timeBudget);try{let c=await Promise.race([t,l]);c===null?(a="none",i.cancel(),Wn.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):(a="full",Array.isArray(c)?o.push(...c):o.push(c))}catch(c){return G_(c)||Wn.error(e,`Error resolving context from ${n.id}: `,c),i.cancel(),[[],"error"]}return[o,a]}s(Smt,"handlePromiseContextItem");async function Rmt(e,t,r,n,i){let o=[],a,l=N8e(r.timeBudget),c=(async()=>{for await(let u of t)o.push(u);return o})();try{await Promise.race([c,l])===null?(a=o.length>0?"partial":"none",i.cancel(),Wn.info(e,`Context provider ${n.id} exceeded time budget of ${r.timeBudget}ms`)):a="full"}catch(u){return G_(u)||Wn.error(e,`Error resolving context from ${n.id}: `,u),i.cancel(),[[],"error"]}return[o,a]}s(Rmt,"handleAsyncIteratorContextItem");function vO(e,t){return new zre(new $re(e,t))}s(vO,"getContextProviderRegistry");function L8e(e,t,r){let n=e.get(Dl).getStatisticsForCompletion(t);return r.map(o=>{let{providerId:a,resolution:l,resolutionTimeMs:c,matchScore:u,data:f}=o,m=n.get(a),h=m?.usage??"none";(u<=0||l==="none"||l==="error")&&(h="none");let p={providerId:a,resolution:l,resolutionTimeMs:c,usage:h,usageDetails:m?.usageDetails,matched:u>0,numResolvedItems:f.length},g=m?.usageDetails!==void 0?m?.usageDetails.filter(x=>x.usage==="full"||x.usage==="partial"||x.usage==="partial_content_excluded").length:void 0,y=m?.usageDetails!==void 0?m?.usageDetails.filter(x=>x.usage==="partial"||x.usage==="partial_content_excluded").length:void 0;return g!==void 0&&(p.numUsedItems=g),y!==void 0&&(p.numPartiallyUsedItems=y),p})}s(L8e,"telemetrizeContextItems");function F8e(e){return e.matchScore>0&&e.resolution!=="error"}s(F8e,"matchContextItems");function bO(e,t){let r=Yre(e,t),n=Mn(e,bt.ContextProviders)??[];if(r.length===1&&r[0]==="*"||n.length===1&&n[0]==="*")return["*"];let i=e.get(z5).getIds();return Array.from(new Set([...i,...r,...n]))}s(bO,"getActiveContextProviders");function Yre(e,t){return p_(e)?["*"]:e.get(sr).contextProviders(t)}s(Yre,"getExpContextProviders");function Kre(e,t){return bO(e,t).length>0}s(Kre,"useContextProviderAPI");var jd=class{constructor(t){this.ctx=t;this.scheduledResolutions=new un(25)}static{s(this,"ContextProviderBridge")}schedule(t,r,n,i,o){let a=this.ctx.get(fl),{textDocument:l,originalPosition:c,originalOffset:u,originalVersion:f,editsWithPosition:m}=t,h=a.resolveAllProviders(r,{uri:l.uri,languageId:l.detectedLanguageId,version:f,offset:u,position:c,proposedEdits:m.length>0?m:void 0},n,i,o?.data);this.scheduledResolutions.set(r,h)}async resolution(t){let r=this.scheduledResolutions.get(t);return r?await r:[]}};d();d();var EO=class{constructor(t,r,n){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=n}static{s(this,"BaseBlockParser")}async getNodeMatchAtPosition(t,r,n){let i=await hA(this.languageId,t);try{let a=i.rootNode.descendantForIndex(r);for(;a;){let l=this.nodeMatch[a.type];if(l){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if((c==""?a.namedChildren[0]:a.childForFieldName(c))?.type==l)break}a=a.parent}return a?n(a):void 0}finally{i.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,i=>{let o=i.children.reverse().find(a=>a.type==this.nodeMatch[i.type]);if(o){if(this.languageId=="python"&&o.parent){let a=o.parent.type==":"?o.parent.parent:o.parent,l=a?.nextSibling;for(;l&&l.type=="comment";){let c=l.startPosition.row==o.endPosition.row&&l.startPosition.column>=o.endPosition.column,u=l.startPosition.row>a.endPosition.row&&l.startPosition.column>a.startPosition.column;if(c||u)o=l,l=l.nextSibling;else break}}if(!(o.endIndex>=o.tree.rootNode.endIndex-1&&(o.hasError()||o.parent.hasError())))return n(o)}})}async isBlockBodyFinished(t,r,n){let i=(t+r).trimEnd(),o=await this.getNextBlockAtPosition(i,n,a=>a.endIndex);if(o!==void 0&&o<i.length){let a=o-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,i=>i.startIndex)}},IO=class extends EO{constructor(r,n,i,o,a){super(r,o,a);this.blockEmptyMatch=n;this.lineMatch=i}static{s(this,"RegexBasedBlockParser")}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,n){let i=await this.getNextBlockAtPosition(r,n,o=>{o.startIndex<n&&(n=o.startIndex);let a=r.substring(n,o.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(r,n){return n=Q8e(r,n),this.isBlockStart(kmt(r,n))&&this.isBlockBodyEmpty(r,n)}};function kmt(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}s(kmt,"getLineAtOffset");function Q8e(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}s(Q8e,"rewindToNearestNonWs");function M8e(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,i=t.substring(n,r);if(/^\s*$/.test(i))return i}s(M8e,"indent");function Bmt(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=M8e(e,r),i=M8e(t,r);return n!==void 0&&i!==void 0&&n.startsWith(i)}s(Bmt,"outdented");var EA=class extends EO{constructor(r,n,i,o,a,l,c){super(r,n,i);this.startKeywords=o;this.blockNodeType=a;this.emptyStatementType=l;this.curlyBraceLanguage=c}static{s(this,"TreeSitterBasedBlockParser")}isBlockEmpty(r,n){let i=r.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(r.parent?.type=="class_definition"||r.parent?.type=="function_definition")&&r.children.length==1&&Ive(r.parent))}async isEmptyBlockStart(r,n){if(n>r.length)throw new RangeError("Invalid offset");for(let o=n;o<r.length&&r.charAt(o)!=`
`;o++)if(/\S/.test(r.charAt(o)))return!1;n=Q8e(r,n);let i=await hA(this.languageId,r);try{let o=i.rootNode.descendantForIndex(n-1);if(o==null||this.curlyBraceLanguage&&o.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&o.parent&&o.parent.type=="object"&&o.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let f=o;for(;f.parent;){if(f.type=="function_signature"||f.type=="method_signature"){let m=o.nextSibling;return m&&f.hasError()&&Bmt(f,m,r)?!0:!f.children.find(p=>p.type==";")&&f.endIndex<=n}f=f.parent}}let a=null,l=null,c=null,u=o;for(;u!=null;){if(u.type==this.blockNodeType){l=u;break}if(this.nodeMatch[u.type]){c=u;break}if(u.type=="ERROR"){a=u;break}u=u.parent}if(l!=null){if(!l.parent||!this.nodeMatch[l.parent.type])return!1;if(this.languageId=="python"){let f=l.previousSibling;if(f!=null&&f.hasError()&&(f.text.startsWith('"""')||f.text.startsWith("'''")))return!0}return this.isBlockEmpty(l,n)}if(a!=null){if(a.previousSibling?.type=="module"||a.previousSibling?.type=="internal_module"||a.previousSibling?.type=="def")return!0;let f=[...a.children].reverse(),m=f.find(p=>this.startKeywords.includes(p.type)),h=f.find(p=>p.type==this.blockNodeType);if(m){switch(this.languageId){case"python":{m.type=="try"&&o.type=="identifier"&&o.text.length>4&&(h=f.find(y=>y.hasError())?.children.find(y=>y.type=="block"));let p,g=0;for(let y of a.children){if(y.type==":"&&g==0){p=y;break}y.type=="("&&(g+=1),y.type==")"&&(g-=1)}if(p&&m.endIndex<=p.startIndex&&p.nextSibling){if(m.type=="def"){let y=p.nextSibling;if(y.type=='"'||y.type=="'"||y.type=="ERROR"&&(y.text=='"""'||y.text=="'''"))return!0}return!1}break}case"javascript":{let p=f.find(x=>x.type=="formal_parameters");if(m.type=="class"&&p)return!0;let g=f.find(x=>x.type=="{");if(g&&g.startIndex>m.endIndex&&g.nextSibling!=null||f.find(x=>x.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}case"typescript":{let p=f.find(y=>y.type=="{");if(p&&p.startIndex>m.endIndex&&p.nextSibling!=null||f.find(y=>y.type=="do")&&m.type=="while"||m.type=="=>"&&m.nextSibling&&m.nextSibling.type!="{")return!1;break}}return h&&h.startIndex>m.endIndex?this.isBlockEmpty(h,n):!0}}if(c!=null){let f=this.nodeMatch[c.type],m=c.children.slice().reverse().find(h=>h.type==f);if(m)return this.isBlockEmpty(m,n);if(this.nodeTypesWithBlockOrStmtChild.has(c.type)){let h=this.nodeTypesWithBlockOrStmtChild.get(c.type),p=h==""?c.children[0]:c.childForFieldName(h);if(p&&p.type!=this.blockNodeType&&p.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}},Dmt={python:new EA("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new EA("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new EA("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new EA("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new IO("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new IO("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new EA("csharp",{},new Map([]),[],"block",null,!0),java:new EA("java",{},new Map([]),[],"block",null,!0),php:new EA("php",{},new Map([]),[],"block",null,!0)};function Jre(e){if(!lf(e))throw new Error(`Language ${e} is not supported`);return Dmt[rM(e)]}s(Jre,"getBlockParser");async function O8e(e,t,r){return lf(e)?Jre(e).isEmptyBlockStart(t,r):!1}s(O8e,"isEmptyBlockStart");async function U8e(e,t,r,n){if(lf(e))return Jre(e).isBlockBodyFinished(t,r,n)}s(U8e,"isBlockBodyFinished");async function q8e(e,t,r){if(lf(e))return Jre(e).getNodeStart(t,r)}s(q8e,"getNodeStart");var SSr=new Gt("parseBlock");function _S(e,t,r,n){let i=t.getText(No.range(No.position(0,0),r))+(n?`
`:""),o=t.offsetAt(r)+(n?1:0),a=t.detectedLanguageId;return l=>U8e(a,i,l,o)}s(_S,"parsingBlockFinished");function wO(e,t){return O8e(e.detectedLanguageId,e.getText(),e.offsetAt(t))}s(wO,"isEmptyBlockStartUtil");async function W8e(e,t,r,n){let o=t.getText(No.range(No.position(0,0),r))+n,a=await q8e(t.detectedLanguageId,o,t.offsetAt(r));if(a)return t.positionAt(a)}s(W8e,"getNodeStartUtil");var Pmt=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),Nmt=new RegExp(`^(${Pmt.join("|")})`);function Lmt(e){return Nmt.test(e.trimLeft().toLowerCase())}s(Lmt,"isContinuationLine");function TO(e){let t=/^(\s*)([^]*)$/.exec(e);if(t&&t[2]&&t[2].length>0)return t[1].length}s(TO,"indentationOfLine");function SS(e,t){let r=e.getText(),n=e.offsetAt(t);return Xre(r,n,e.detectedLanguageId)}s(SS,"contextIndentation");function Xre(e,t,r){let n=e.slice(0,t).split(`
`),i=e.slice(t).split(`
`);function o(f,m,h){let p=m,g,y;for(;g===void 0&&p>=0&&p<f.length;)g=TO(f[p]),y=p,p+=h;if(r==="python"&&h===-1){p++;let x=f[p].trim();if(x.endsWith('"""')){if(!(x.startsWith('"""')&&x!=='"""'))for(p--;p>=0&&!f[p].trim().startsWith('"""');)p--;if(p>=0)for(g=void 0,p--;g===void 0&&p>=0;)g=TO(f[p]),y=p,p--}}return[g,y]}s(o,"seekNonBlank");let[a,l]=o(n,n.length-1,-1),c=(()=>{if(!(a===void 0||l===void 0))for(let f=l-1;f>=0;f--){let m=TO(n[f]);if(m!==void 0&&m<a)return m}})(),[u]=o(i,1,1);return{prev:c,current:a??0,next:u}}s(Xre,"contextIndentationFromText");var Fmt=!1;function Mmt(e,t,r){let n=e.split(`
`),i=r!==void 0,o=r?.split(`
`).pop(),a=0;if(i&&o?.trim()!=""&&n[0].trim()!==""&&a++,!i&&Fmt&&n[0].trim()===""&&a++,i||a++,n.length===a)return"continue";let l=Math.max(t.current,t.next??0);for(let c=a;c<n.length;c++){let u=n[c];c==0&&o!==void 0&&(u=o+u);let f=TO(u);if(f!==void 0&&(f<l||f===l&&!Lmt(u)))return n.slice(0,c).join(`
`).length}return"continue"}s(Mmt,"completionCutOrContinue");function G8e(e,t){return async r=>{let n=Mmt(r,e,t);return n==="continue"?void 0:n}}s(G8e,"indentationBlockFinished");d();d();d();function H8e(e,t){return{...iM,useSubsetMatching:Zre(e,t)}}s(H8e,"getCppSimilarFilesOptions");function j8e(e){return iM.maxTopSnippets}s(j8e,"getCppNumberOfSnippets");var Qmt=new Map([["cpp",H8e]]);function _O(e,t,r){let n=Qmt.get(r);return n?n(e,t):{..._ee,useSubsetMatching:Zre(e,t)}}s(_O,"getSimilarFilesOptions");var Omt=new Map([["cpp",j8e]]);function V8e(e,t){let r=Omt.get(t);return r?r(e):wve}s(V8e,"getNumberOfSnippets");function Zre(e,t){return(t.filtersAndExp.exp.variables.copilotsubsetmatching||Mn(e,bt.UseSubsetMatching))??!1}s(Zre,"useSubsetMatching");d();d();var Umt=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function qmt(e){return Umt.has(e.code??"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}s(qmt,"isOomError");function SO(e,t,r,n=Wn){if(!Rc(t)){if(t instanceof Error){let i=t;qmt(i)?e.get(zi).setWarning("Out of memory"):i.code==="EMFILE"||i.code==="ENFILE"?e.get(zi).setWarning("Too many open files"):i.code==="CopilotPromptLoadFailure"?e.get(zi).setWarning("Corrupted Copilot installation"):`${i.code}`.startsWith("CopilotPromptWorkerExit")?e.get(zi).setWarning("Worker unexpectedly exited"):i.syscall==="uv_cwd"&&i.code==="ENOENT"&&e.get(zi).setWarning("Current working directory does not exist")}n.exception(e,t,r)}}s(SO,"handleException");function $8e(e){process.addListener("uncaughtException",r=>{SO(e,r,"uncaughtException")});let t=!1;process.addListener("unhandledRejection",r=>{if(!t)try{t=!0,SO(e,r,"unhandledRejection")}finally{t=!1}})}s($8e,"registerDefaultHandlers");d();d();var Wmt="content_excluded";async function z8e(e,t,r,n){let i=xO(r,"CodeSnippet");if(i.length===0)return[];let o=new Set,a=i.flatMap(f=>f.data.map(m=>(o.add(m.uri),m.additionalUris?.forEach(h=>o.add(h)),{providerId:f.providerId,data:m}))),l=e.get(Vr),c=new Map;await Promise.all(Array.from(o).map(async f=>{c.set(f,await l.getTextDocumentValidation({uri:f}))}));let u=e.get(Dl).getStatisticsForCompletion(t);return a.filter(f=>{let h=[f.data.uri,...f.data.additionalUris??[]].every(p=>c.get(p)?.status==="valid");return h?u.addExpectations(f.providerId,[[f.data,"included"]]):u.addExpectations(f.providerId,[[f.data,Wmt]]),h}).map(f=>f.data)}s(z8e,"getCodeSnippetsFromContextItems");function Y8e(e,t){let r=e.get(Vr);return t.map(n=>({snippet:n,relativePath:r.getRelativePath(n)}))}s(Y8e,"addRelativePathToCodeSnippets");d();function sa(e){if(e.children)return Array.isArray(e.children)?e.children.join(""):e.children}s(sa,"Text");function RO(e){return e.children}s(RO,"Chunk");d();function $n(e,t,r){let n=[];Array.isArray(t.children)?n=t.children:t.children&&(n=[t.children]);let i={...t,children:n};return r&&(i.key=r),{type:e,props:i}}s($n,"functionComponentFunction");function IA(e){return{type:"f",children:e}}s(IA,"fragmentFunction");IA.isFragmentFunction=!0;var K8e=s((e,t)=>{let[r,n]=t.useState(),[i,o]=t.useState();if(t.useData(hu,u=>{u.codeSnippets!==r&&n(u.codeSnippets),u.document.uri!==i?.uri&&o(u.document)}),!r||r.length===0||!i)return;let a=Y8e(e.ctx,r),l=new Map;for(let u of a){let f=u.relativePath??u.snippet.uri,m=l.get(f);m===void 0&&(m=[],l.set(f,m)),m.push(u)}let c=[];for(let[u,f]of l.entries()){let m=f.filter(h=>h.snippet.value.length>0);m.length>0&&c.push({chunkElements:m.map(h=>h.snippet),importance:Math.max(...m.map(h=>h.snippet.importance??0)),uri:u})}if(c.length!==0)return c.sort((u,f)=>f.importance-u.importance),c.reverse(),c.map(u=>{let f=[];return f.push($n(sa,{children:`Compare ${u.chunkElements.length>1?"these snippets":"this snippet"} from ${u.uri}:`})),u.chunkElements.forEach((m,h)=>{f.push($n(sa,{source:m,children:m.value},m.id)),u.chunkElements.length>1&&h<u.chunkElements.length-1&&f.push($n(sa,{children:"---"}))}),$n(RO,{children:f})})},"CodeSnippets");d();d();d();function J8e(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let i=0;i<e.length;i++)r[i][n]=Math.min((i==0?n:r[i-1][n])+1,(n==0?i:r[i][n-1])+1,(i==0||n==0?Math.max(i,n):r[i-1][n-1])+(e[i]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}s(J8e,"findEditDistanceScore");var X8e=50;function Gmt(e){let t=e*4,r=e*.1;return Math.floor(t+r)}s(Gmt,"approximateMaxCharacters");function RS(e,t){let[r,n]=t.useState(),[i,o]=t.useState(),[a,l]=t.useState(0),[c,u]=t.useState();t.useData(hu,m=>{let h=m.document;(m.document.uri!==r?.uri||h.getText()!==r?.getText())&&n(h),m.position!==i&&o(m.position),m.suffixMatchThreshold!==c&&u(m.suffixMatchThreshold),m.maxPromptTokens!==a&&l(m.maxPromptTokens)});let f=Gmt(a);return $n(IA,{children:[$n(Hmt,{document:r,position:i,maxCharacters:f}),$n(ene,{document:r,position:i,suffixMatchThreshold:c,maxCharacters:f})]})}s(RS,"CurrentFile");function Hmt(e){if(e.document===void 0||e.position===void 0)return $n(sa,{});let t=e.document.getText({start:{line:0,character:0},end:e.position});return t.length>e.maxCharacters&&(t=t.slice(-e.maxCharacters)),$n(sa,{children:t})}s(Hmt,"BeforeCursor");function ene(e,t){let[r,n]=t.useState("");if(e.document===void 0||e.position===void 0)return $n(sa,{});let i=e.document.getText({start:e.position,end:{line:Number.MAX_VALUE,character:Number.MAX_VALUE}});i.length>e.maxCharacters&&(i=i.slice(0,e.maxCharacters));let o=i.replace(/^.*/,"").trimStart();if(o==="")return $n(sa,{});if(r===o)return $n(sa,{children:r});let a=o;if(r!==""){let l=lo(),c=l.takeFirstTokens(o,X8e);c.tokens.length>0&&100*J8e(c.tokens,l.takeFirstTokens(r,X8e).tokens)?.score<(e.suffixMatchThreshold??oM)*c.tokens.length&&(a=r)}return a!==r&&n(a),$n(sa,{children:a})}s(ene,"AfterCursor");d();var kO=class{static{s(this,"WishlistElision")}elide(t,r,n,i,o){if(r<=0)throw new Error("Prefix limit must be greater than 0");let[a,l]=this.preparePrefixBlocks(t,o),{elidedSuffix:c,adjustedPrefixTokenLimit:u}=this.elideSuffix(n,i,r,l,o),f=this.elidePrefix(a,u,l,o);return[c,...f]}preparePrefixBlocks(t,r){let n=0,i=new Set;return[t.map((a,l)=>{let c=r.tokenLength(a.value);n+=c;let u=a.componentPath;if(i.has(u))throw new Error(`Duplicate component path in prefix blocks: ${u}`);return i.add(u),{...a,tokens:c,markedForRemoval:!1,originalIndex:l}}),n]}elideSuffix(t,r,n,i,o){let a=t.value;if(a.length===0||r<=0)return{elidedSuffix:{...t,tokens:0,elidedValue:"",elidedTokens:0},adjustedPrefixTokenLimit:n+Math.max(0,r)};i<n&&(r=r+(n-i),n=i);let l=o.takeFirstTokens(a,r);return{elidedSuffix:{...t,value:a,tokens:o.tokenLength(a),elidedValue:l.text,elidedTokens:l.tokens.length},adjustedPrefixTokenLimit:n+Math.max(0,r-l.tokens.length)}}elidePrefix(t,r,n,i){let o=this.removeLowWeightPrefixBlocks(t,r,n),a=o.filter(f=>!f.markedForRemoval).flatMap(f=>f.value.split(/([^\n]*\n+)/).map(h=>({line:h,componentPath:f.componentPath}))).filter(f=>f.line!=="");if(a.length===0)return[];let[l,c]=this.trimPrefixLinesToFit(a,r,i),u=c;return o.map(f=>{if(f.markedForRemoval)return u+f.tokens<=r&&!f.chunks?(u+=f.tokens,{...f,elidedValue:f.value,elidedTokens:f.tokens}):{...f,elidedValue:"",elidedTokens:0};let m=l.filter(p=>p.componentPath===f.componentPath&&p.line!=="").map(p=>p.line).join(""),h=f.tokens;return m!==f.value&&(h=m!==""?i.tokenLength(m):0),{...f,elidedValue:m,elidedTokens:h}})}removeLowWeightPrefixBlocks(t,r,n){let i=n;t.sort((o,a)=>o.weight-a.weight);for(let o of t){if(i<=r)break;if(o.weight!==1&&!(o.chunks&&o.markedForRemoval))if(o.chunks&&o.chunks.size>0)for(let a of t)!a.markedForRemoval&&a.chunks&&[...o.chunks].every(l=>a.chunks?.has(l))&&(a.markedForRemoval=!0,i-=a.tokens);else o.markedForRemoval=!0,i-=o.tokens}return t.sort((o,a)=>o.originalIndex-a.originalIndex).map(o=>{let{originalIndex:a,...l}=o;return l})}trimPrefixLinesToFit(t,r,n){let i=0,o=[];for(let a=t.length-1;a>=0;a--){let l=t[a],c=l.line,u=n.tokenLength(c);if(i+u<=r)o.unshift(l),i+=u;else break}if(o.length===0){let a=t[t.length-1];if(a&&a.line.length>0){let c=n.takeLastTokens(a.line,r);return o.push({line:c.text,componentPath:a.componentPath}),[o,c.tokens.length]}let l=`Cannot fit prefix within limit of ${r} tokens`;throw new Error(l)}return[o,i]}};function tne(e){return e.map(t=>t.elidedValue).join("")}s(tne,"makePrompt");function e6e(e){return e.filter(t=>t.type==="prefix").map(t=>t.elidedValue).join("")}s(e6e,"makePrefixPrompt");function t6e(e){return e.filter(t=>t.type==="context").map(t=>t.elidedValue).join("").trim()}s(t6e,"makeContextPrompt");var BO=class{constructor(t="[...]",r=`
`){this.ellipsis=t;this.delimiter=r}static{s(this,"ElidableTextElision")}elide(t,r,n,i,o){let a=new Yt(t.map(h=>Z8e(h,o)),void 0,o),l;if(n.value.length===0||i<=o.tokenLength(this.ellipsis))l=[],r=r+Math.max(0,i);else{let p=Z8e(n,o).elide(i,this.ellipsis,!0,"removeLeastDesirable",o,"bottomToTop");r=r+Math.max(0,i-o.tokenLength(p.getText())),l=p.getLines()}let c=a.elide(r),u=r-o.tokenLength(c.getText()),f=[...c.getLines(),...l],m=[n,...t];return m.map((h,p)=>{let g=f.filter(y=>y.metadata?.get("componentPath")===h.componentPath);if(g.length===0)return{...h,tokens:o.tokenLength(h.value),elidedValue:"",elidedTokens:0};{let y=g.map(x=>x.text).join(this.delimiter);return p===m.length-1&&u>0&&y.trim()===this.ellipsis?y=this.ellipsis+this.delimiter+o.takeLastTokens(h.value,u-o.tokenLength(this.ellipsis+this.delimiter)).text:p!==0&&p!==m.length-1&&(y=y.endsWith(this.delimiter)?y:y+this.delimiter),{...h,tokens:o.tokenLength(h.value),elidedValue:y,elidedTokens:o.tokenLength(y)}}})}},r6e=(r=>(r.componentPath="componentPath",r[r.chunk=vM]="chunk",r))(r6e||{});function Z8e(e,t){let r=new Map([["componentPath",e.componentPath],[r6e.chunk,e.chunks]]);return new Yt([[e.value,e.expElidableTextWeight]],r,t)}s(Z8e,"prepareWeightedBlock");var DO=class{constructor(t){this.delegate=t;this.approximateTokenizer=lo("approximate")}static{s(this,"ApproximateElision")}elide(t,r,n,i,o){let[a,...l]=this.delegate.elide(t,r,n,i,this.approximateTokenizer),c=tne(l);return o.tokenLength(c+a.elidedValue)>r+i?this.delegate.elide(t,r,n,i,o):[a,...l]}};d();var PO=class{constructor(t,r=rne()){this.snapshot=t;this.transformers=r}static{s(this,"SnapshotWalker")}walkSnapshot(t){this.walkSnapshotNode(this.snapshot,void 0,t,{})}walkSnapshotNode(t,r,n,i){let o=this.transformers.reduce((l,c)=>c(t,r,l),{...i});if(n(t,r,o))for(let l of t.children??[])this.walkSnapshotNode(l,t,n,o)}};function rne(){return[(e,t,r)=>{r.weight===void 0&&(r.weight=1);let n=e.props?.weight??1,i=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,weight:i*r.weight}},(e,t,r)=>{r.expElidableTextWeight===void 0&&(r.expElidableTextWeight=1);let n=e.props?.expElidableTextWeight??1,i=typeof n=="number"?Math.max(0,Math.min(1,n)):1;return{...r,expElidableTextWeight:i*r.expElidableTextWeight}},(e,t,r)=>{if(e.name===RO.name){let n=r.chunks?new Set(r.chunks):new Set;return n.add(e.path),{...r,chunks:n}}return r},(e,t,r)=>e.props?.source!==void 0?{...r,source:e.props.source}:r]}s(rne,"defaultTransformers");d();var kS={abap:{lineComment:{start:'"',end:""},markdownLanguageIds:["abap","sap-abap"]},aspdotnet:{lineComment:{start:"<%--",end:"--%>"}},bat:{lineComment:{start:"REM",end:""}},bibtex:{lineComment:{start:"%",end:""},markdownLanguageIds:["bibtex"]},blade:{lineComment:{start:"#",end:""}},BluespecSystemVerilog:{lineComment:{start:"//",end:""}},c:{lineComment:{start:"//",end:""},markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";",end:""},markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["coffeescript","coffee","cson","iced"]},cpp:{lineComment:{start:"//",end:""},markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"]},csharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["csharp","cs"]},css:{lineComment:{start:"/*",end:"*/"}},cuda:{lineComment:{start:"//",end:""}},dart:{lineComment:{start:"//",end:""}},dockerfile:{lineComment:{start:"#",end:""},markdownLanguageIds:["dockerfile","docker"]},dotenv:{lineComment:{start:"#",end:""}},elixir:{lineComment:{start:"#",end:""}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%",end:""},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//",end:""},markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"]},go:{lineComment:{start:"//",end:""},markdownLanguageIds:["go","golang"]},graphql:{lineComment:{start:"#",end:""}},groovy:{lineComment:{start:"//",end:""}},haml:{lineComment:{start:"-#",end:""}},handlebars:{lineComment:{start:"{{!",end:"}}"},markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"]},haskell:{lineComment:{start:"--",end:""},markdownLanguageIds:["haskell","hs"]},hlsl:{lineComment:{start:"//",end:""}},html:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["html","xhtml"]},ini:{lineComment:{start:";",end:""}},java:{lineComment:{start:"//",end:""},markdownLanguageIds:["java","jsp"]},javascript:{lineComment:{start:"//",end:""},markdownLanguageIds:["javascript","js"]},javascriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},jsonc:{lineComment:{start:"//",end:""}},jsx:{lineComment:{start:"//",end:""},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#",end:""},markdownLanguageIds:["julia","jl"]},kotlin:{lineComment:{start:"//",end:""},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%",end:""},markdownLanguageIds:["tex"]},legend:{lineComment:{start:"//",end:""}},less:{lineComment:{start:"//",end:""}},lua:{lineComment:{start:"--",end:""},markdownLanguageIds:["lua","pluto"]},makefile:{lineComment:{start:"#",end:""},markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"[]: #",end:""},markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec","mm","objc","obj-c"]},"objective-cpp":{lineComment:{start:"//",end:""},markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#",end:""},markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//",end:""}},powershell:{lineComment:{start:"#",end:""},markdownLanguageIds:["powershell","ps","ps1"]},pug:{lineComment:{start:"//",end:""}},python:{lineComment:{start:"#",end:""},markdownLanguageIds:["python","py","gyp"]},ql:{lineComment:{start:"//",end:""}},r:{lineComment:{start:"#",end:""}},razor:{lineComment:{start:"<!--",end:"-->"},markdownLanguageIds:["cshtml","razor","razor-cshtml"]},ruby:{lineComment:{start:"#",end:""},markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"]},rust:{lineComment:{start:"//",end:""},markdownLanguageIds:["rust","rs"]},sass:{lineComment:{start:"//",end:""}},scala:{lineComment:{start:"//",end:""}},scss:{lineComment:{start:"//",end:""}},shellscript:{lineComment:{start:"#",end:""},markdownLanguageIds:["bash","sh","zsh"]},slang:{lineComment:{start:"//",end:""}},slim:{lineComment:{start:"/",end:""}},solidity:{lineComment:{start:"//",end:""},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--",end:""}},stylus:{lineComment:{start:"//",end:""}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//",end:""}},systemverilog:{lineComment:{start:"//",end:""}},terraform:{lineComment:{start:"#",end:""}},tex:{lineComment:{start:"%",end:""}},typescript:{lineComment:{start:"//",end:""},markdownLanguageIds:["typescript","ts"]},typescriptreact:{lineComment:{start:"//",end:""},markdownLanguageIds:["tsx"]},vb:{lineComment:{start:"'",end:""},markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//",end:""}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//",end:""}},xml:{lineComment:{start:"<!--",end:"-->"}},xsl:{lineComment:{start:"<!--",end:"-->"}},yaml:{lineComment:{start:"#",end:""},markdownLanguageIds:["yaml","yml"]}},nne={};for(let[e,t]of Object.entries(kS))if(t.markdownLanguageIds)for(let r of t.markdownLanguageIds)nne[r]=e;else nne[e]=e;function i6e(e){return nne[e]}s(i6e,"mdCodeBlockLangToLanguageId");var jmt={start:"//",end:""},Vmt=["php","plaintext"],ine={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function o6e(e){return Object.values(ine).includes(e.trim())}s(o6e,"isShebangLine");function $mt({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}s($mt,"hasLanguageMarker");function zmt(e,t){let r=kS[t]?kS[t].lineComment:jmt;if(r){let n=r.end==""?"":" "+r.end;return`${r.start} ${e}${n}`}return""}s(zmt,"comment");function NO(e,t){if(e==="")return"";let r=e.endsWith(`
`),i=(r?e.slice(0,-1):e).split(`
`).map(o=>zmt(o,t)).join(`
`);return r?i+`
`:i}s(NO,"commentBlockAsSingles");function s6e(e){let{languageId:t}=e;return Vmt.indexOf(t)===-1&&!$mt(e)?t in ine?ine[t]:`Language: ${t}`:""}s(s6e,"getLanguageMarker");function a6e(e){return e.relativePath?`Path: ${e.relativePath}`:""}s(a6e,"getPathMarker");function BS(e){return e===""||e.endsWith(`
`)?e:e+`
`}s(BS,"newLineEnded");function l6e(e){return n6e(typeof e=="string"?e:"plaintext")}s(l6e,"getLanguage");function n6e(e){return kS[e]!==void 0?{languageId:e,...kS[e]}:{languageId:e,lineComment:{start:"//",end:""}}}s(n6e,"_getLanguage");var Ymt=5;function one(e){return e.children}s(one,"CompletionsContext");var LO=class{constructor(){this.renderId=0}static{s(this,"CompletionsPromptRenderer")}render(t,r,n){let i=this.renderId++,o=performance.now();try{if(n?.isCancellationRequested)return{status:"cancelled"};let a=r.delimiter??"",l=r.tokenizer??lo(),{prefixBlocks:c,suffixBlock:u,componentStatistics:f}=this.processSnapshot(t,a,r.languageId,r.separateContext),{prefixTokenLimit:m,suffixTokenLimit:h}=this.getPromptLimits(u,r),p=performance.now(),g=Xmt(r),[y,...x]=g.elide(c,m,u,h,l),b=performance.now(),E=r.separateContext?e6e(x):tne(x),_=r.separateContext?t6e(x):void 0,k=y.elidedValue,B=x.reduce((M,te)=>M+te.elidedTokens,0),N=B+y.elidedTokens;return f.push(...Jmt([...x,y])),{prefix:E,prefixTokens:B,suffix:k,suffixTokens:y.elidedTokens,context:_,tokens:N,status:"ok",metadata:{actualTokens:N,renderId:i,elisionTimeMs:b-p,renderTimeMs:performance.now()-o,componentStatistics:f,updateDataTimeMs:f.reduce((M,te)=>M+(te.updateDataTimeMs??0),0),status:"ok"}}}catch(a){return{status:"error",error:a}}}getPromptLimits(t,r){let n=t?.value??"",i=r.promptTokenLimit,o=r.suffixPercent;if(n.length==0||o==0)return{prefixTokenLimit:i,suffixTokenLimit:0};i=n.length>0?i-Ymt:i;let a=Math.ceil(i*(o/100));return{prefixTokenLimit:i-a,suffixTokenLimit:a}}processSnapshot(t,r,n,i){let o=[],a=[],l=[],c=!1,u=!1;if(new PO(t,Kmt).walkSnapshot((h,p,g)=>{if(h===t||(h.name===RS.name?c=!0:h.name===ene.name&&(u=!0),h.statistics.updateDataTimeMs&&h.statistics.updateDataTimeMs>0&&l.push({componentPath:h.path,updateDataTimeMs:h.statistics.updateDataTimeMs}),h.value===void 0||h.value===""))return!0;let y=g.chunks;if(u)a.push({value:c6e(h.value),type:"suffix",weight:g.weight,expElidableTextWeight:g.expElidableTextWeight,componentPath:h.path,nodeStatistics:h.statistics,chunks:y,source:g.source});else{let x=h.value.endsWith(r)?h.value:h.value+r,b=g.isInCompletionsContext?this.contextValue(x,i,n):h.value;o.push({type:g.isInCompletionsContext?"context":"prefix",value:c6e(b),weight:g.weight,expElidableTextWeight:g.expElidableTextWeight,componentPath:h.path,nodeStatistics:h.statistics,chunks:y,source:g.source})}return!0}),!c)throw new Error(`Node of type ${RS.name} not found`);if(a.length>1)throw new Error("Only one suffix is allowed");let m=a.length===1?a[0]:{componentPath:"",value:"",weight:1,expElidableTextWeight:1,nodeStatistics:{},type:"suffix"};return{prefixBlocks:o,suffixBlock:m,componentStatistics:l}}contextValue(t,r,n){return r||o6e(t)?t:NO(t,n)}},Kmt=[...rne(),(e,t,r)=>e.name===one.name?{...r,isInCompletionsContext:!0}:r];function Jmt(e){return e.map(t=>{let r={componentPath:t.componentPath};return t.tokens!==0&&(r.expectedTokens=t.tokens,r.actualTokens=t.elidedTokens),t.nodeStatistics.updateDataTimeMs!==void 0&&(r.updateDataTimeMs=t.nodeStatistics.updateDataTimeMs),t.source&&(r.source=t.source),r})}s(Jmt,"computeComponentStatistics");function c6e(e){return e.replace(/\r\n?/g,`
`)}s(c6e,"normalizeLineEndings");function Xmt(e){let t=e.elisionStrategy==="elidableText"?new BO(e.ellipsis,e.delimiter):new kO;return e.approximateElision?new DO(t):t}s(Xmt,"chooseElisionStrategy");d();var u6e=s((e,t)=>{let[r,n]=t.useState();if(t.useData(hu,i=>{n(i.telemetryData)}),r&&e.by(e.ctx,r))return e.children},"Gated");d();var f6e=s((e,t)=>{let[r,n]=t.useState();if(t.useData(hu,i=>{i.document.uri!==r?.uri&&n(i.document)}),r){let i=e.ctx.get(Vr),o=i.getRelativePath(r),a={uri:r.uri,source:r.getText(),relativePath:o,languageId:r.detectedLanguageId},l=i.findNotebook(r);return a.relativePath&&!l?$n(Zmt,{docInfo:a}):$n(eht,{docInfo:a})}},"DocumentMarker"),Zmt=s(e=>$n(sa,{children:a6e(e.docInfo)}),"PathMarker"),eht=s(e=>$n(sa,{children:s6e(e.docInfo)}),"LanguageMarker");d();d();d();var m6e={maxFiles:5,maxEditsPerFile:5,diffContextLines:3,editMergeLineDistance:3};function h6e(e,t){return Object.values(e).flatMap(r=>r.edits).sort((r,n)=>r.timestamp-n.timestamp).slice(t===void 0?0:-t)}s(h6e,"getAllRecentEditsByTimestamp");function p6e(e,t){let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;let n=e.length-1,i=t.length-1;for(;n>=r&&i>=r&&e[n]===t[i];)n--,i--;return r>n&&r>i?null:{start:r,endPrev:n,endNew:i}}s(p6e,"findChangeSpan");function tht(e,t,r,n,i,o,a){let l=Math.max(0,n-a),c=Math.min(r.length,o+a+1);return{file:e,pre:l,post:c,before:t.slice(l,n),removed:t.slice(n,i+1),added:r.slice(n,o+1),after:r.slice(o+1,c)}}s(tht,"getDiff");function g6e(e,t=!1,r=!1,n=!1){let i=[];i.push(`--- a/${e.file}`),i.push(`+++ b/${e.file}`);let o=e.before.length+e.removed.length+e.after.length,a=e.before.length+e.added.length+e.after.length;i.push(`@@ -${e.pre+1},${o} +${e.pre+1},${a} @@`);for(let l of e.before)i.push(" "+l);if(r)for(let l of e.added)i.push("+"+l);if(!t){let l=n?" --- IGNORE ---":"";for(let c of e.removed)i.push("-"+c+l)}if(!r)for(let l of e.added)i.push("+"+l);for(let l of e.after)i.push(" "+l);return i.join(`
`)+`
`}s(g6e,"unifiedDiff");function A6e(e,t=!1){let{before:r,removed:n,added:i,after:o}=e,a=[];return a.push(">>>>>>> SEARCH"),a.push(...r),t?a.push("..."):a.push(...n),a.push(...o),a.push("======="),a.push(...r),a.push(...i),a.push(...o),a.push("<<<<<<<<< REPLACE"),a.join(`
`)}s(A6e,"aidersDiff");function y6e(e,t=!1){let{before:r,removed:n,added:i,after:o}=e,a=t?["..."]:n.map(f=>`${f} --- DO NOT REPLY WITH CODE FROM THIS LINE ---`),l=[...r,...a,...o],c=[...r,...i,...o],u=[];return u.push("--- User edited code: ---"),u.push(...l),a.length===0?u.push(`--- and added ${i.length} line${i.length===1?"":"s"} to make: ---`):i.length===0?u.push(`--- and deleted ${a.length} line${a.length===1?"":"s"} to make: ---`):u.push("--- and replaced it with: ---"),u.push(...c),u.push("--- End of edit ---"),u.join(`
`)}s(y6e,"findReplaceDiff");function d6e(e,t){for(let r of t){let n=e.slice(0,r.startLine),i=e.slice(r.endLine+1),o=r.diff.added?r.diff.added:[];e=[...n,...o,...i]}return e}s(d6e,"applyEditsToLines");function rht(e,t,r){let{added:n}=t.diff,i=t.startLine,o=t.startLine+n.length,a=e.startLine,l=e.endLine+1;return a<=o+r&&l>=i-r}s(rht,"editsOverlap");function nht(e,t,r,n,i=m6e){let o=[...t];if(o.length>0){let a=o[o.length-1];if(rht(r,a,i.editMergeLineDistance)){let c=d6e(e.split(`
`),o.slice(0,-1)),u=p6e(c,n);u&&(r=C6e(r.file,c,n,u,i),o=[...o.slice(0,-1),r])}else o.push(r)}else o.push(r);if(o.length>i.maxEditsPerFile){let a=o.slice(0,o.length-i.maxEditsPerFile);o=o.slice(o.length-i.maxEditsPerFile,o.length),e=d6e(e.split(`
`),a).join(`
`)}return{originalContent:e,edits:o}}s(nht,"updateEdits");function C6e(e,t,r,n,i){let{start:o,endPrev:a,endNew:l}=n;if(!i||typeof i.diffContextLines!="number")throw new Error("Invalid configuration passed to buildIncomingEdit");let c=tht(e,t,r,o,a,l,i.diffContextLines);return{file:e,startLine:o,endLine:a,diff:c,timestamp:performance.now()}}s(C6e,"buildIncomingEdit");function iht(e,t){let r={...e},n=Object.entries(e).filter(([o])=>e[o].edits.length).sort(([o,a],[l,c])=>a.edits[a.edits.length-1].timestamp-c.edits[c.edits.length-1].timestamp),i=Math.max(0,n.length-t);if(i)for(let o=0;o<i;o++){let a=n[o][0];delete r[a]}return r}s(iht,"trimOldFilesFromState");function x6e(e={},t,r,n={}){if(r.length>2*1024*1024)return e;let i={...m6e,...n},o=e[t];if(!o)return{...e,[t]:{originalContent:r,currentContent:r,edits:[]}};if(o.currentContent===r)return e;let a=o.currentContent.split(`
`),l=r.split(`
`),c=p6e(a,l);if(!c)return{...e,[t]:{...o,currentContent:r}};let u=C6e(t,a,l,c,i),{originalContent:f,edits:m}=nht(o.originalContent,o.edits,u,l,i),h={...e,[t]:{originalContent:f,currentContent:r,edits:m}};return iht(h,i.maxFiles)}s(x6e,"recentEditsReducer");d();d();d();function TA(e,t){let r=Cf(e,t);return r===-1?void 0:e[r]}s(TA,"findLastMonotonous");function Cf(e,t,r=0,n=e.length){let i=r,o=n;for(;i<o;){let a=Math.floor((i+o)/2);t(e[a])?i=a+1:o=a}return i-1}s(Cf,"findLastIdxMonotonous");function v6e(e,t){let r=Pv(e,t);return r===e.length?void 0:e[r]}s(v6e,"findFirstMonotonous");function Pv(e,t,r=0,n=e.length){let i=r,o=n;for(;i<o;){let a=Math.floor((i+o)/2);t(e[a])?o=a:i=a+1}return i}s(Pv,"findFirstIdxMonotonousOrArrLen");var DS=class e{constructor(t){this._array=t;this._findLastMonotonousLastIdx=0}static{s(this,"MonotonousArray")}static{this.assertInvariants=!1}findLastMonotonous(t){if(e.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!t(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=t}let r=Cf(this._array,t,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};d();var sne=class{static{s(this,"ErrorHandler")}constructor(){this.listeners=[],this.unexpectedErrorHandler=function(t){setTimeout(()=>{throw t.stack?FO.isErrorNoTelemetry(t)?new FO(t.message+`

`+t.stack):new Error(t.message+`

`+t.stack):t},0)}}addListener(t){return this.listeners.push(t),()=>{this._removeListener(t)}}emit(t){this.listeners.forEach(r=>{r(t)})}_removeListener(t){this.listeners.splice(this.listeners.indexOf(t),1)}setUnexpectedErrorHandler(t){this.unexpectedErrorHandler=t}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(t){this.unexpectedErrorHandler(t),this.emit(t)}onUnexpectedExternalError(t){this.unexpectedErrorHandler(t)}},b6e=new sne;function Nv(e){b6e.onUnexpectedError(e)}s(Nv,"onBugIndicatingError");function G8(e){oht(e)||b6e.onUnexpectedError(e)}s(G8,"onUnexpectedError");var ane="Canceled";function oht(e){return e instanceof fg?!0:e instanceof Error&&e.name===ane&&e.message===ane}s(oht,"isCancellationError");var fg=class extends Error{static{s(this,"CancellationError")}constructor(){super(ane),this.name=this.message}};function PS(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}s(PS,"illegalArgument");function E6e(e){return e?new Error(`Illegal state: ${e}`):new Error("Illegal state")}s(E6e,"illegalState");var FO=class e extends Error{static{s(this,"ErrorNoTelemetry")}constructor(t){super(t),this.name="CodeExpectedError"}static fromError(t){if(t instanceof e)return t;let r=new e;return r.message=t.message,r.stack=t.stack,r}static isErrorNoTelemetry(t){return t.name==="CodeExpectedError"}},vn=class e extends Error{static{s(this,"BugIndicatingError")}constructor(t){super(t||"An unexpected bug occurred."),Object.setPrototypeOf(this,e.prototype)}};function Lv(e,t,r=(n,i)=>n===i){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!r(e[n],t[n]))return!1;return!0}s(Lv,"equals");function*H8(e,t){let r,n;for(let i of e)n!==void 0&&t(n,i)?r.push(i):(r&&(yield r),r=[i]),n=i;r&&(yield r)}s(H8,"groupAdjacentBy");function T6e(e,t){for(let r=0;r<=e.length;r++)t(r===0?void 0:e[r-1],r===e.length?void 0:e[r])}s(T6e,"forEachAdjacent");function w6e(e,t){for(let r=0;r<e.length;r++)t(r===0?void 0:e[r-1],e[r],r+1===e.length?void 0:e[r+1])}s(w6e,"forEachWithNeighbors");function _6e(e){return e.filter(t=>!!t)}s(_6e,"coalesce");function S6e(e,t){for(let r of t)e.push(r)}s(S6e,"pushMany");var R6e;(l=>{function e(c){return c<0}l.isLessThan=e,s(e,"isLessThan");function t(c){return c<=0}l.isLessThanOrEqual=t,s(t,"isLessThanOrEqual");function r(c){return c>0}l.isGreaterThan=r,s(r,"isGreaterThan");function n(c){return c===0}l.isNeitherLessOrGreaterThan=n,s(n,"isNeitherLessOrGreaterThan"),l.greaterThan=1,l.lessThan=-1,l.neitherLessOrGreaterThan=0})(R6e||={});function xf(e,t){return(r,n)=>t(e(r),e(n))}s(xf,"compareBy");var vf=s((e,t)=>e-t,"numberComparator");function k6e(e){return(t,r)=>-e(t,r)}s(k6e,"reverseOrder");var MO=class{constructor(t){this.items=t;this.firstIdx=0;this.lastIdx=this.items.length-1}static{s(this,"ArrayQueue")}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(t){let r=this.firstIdx;for(;r<this.items.length&&t(this.items[r]);)r++;let n=r===this.firstIdx?null:this.items.slice(this.firstIdx,r);return this.firstIdx=r,n}takeFromEndWhile(t){let r=this.lastIdx;for(;r>=0&&t(this.items[r]);)r--;let n=r===this.lastIdx?null:this.items.slice(r+1,this.lastIdx+1);return this.lastIdx=r,n}peek(){if(this.length!==0)return this.items[this.firstIdx]}peekLast(){if(this.length!==0)return this.items[this.lastIdx]}dequeue(){let t=this.items[this.firstIdx];return this.firstIdx++,t}removeLast(){let t=this.items[this.lastIdx];return this.lastIdx--,t}takeCount(t){let r=this.items.slice(this.firstIdx,this.firstIdx+t);return this.firstIdx+=t,r}},I6e=class e{constructor(t){this.iterate=t}static{s(this,"CallbackIterable")}static{this.empty=new e(t=>{})}forEach(t){this.iterate(r=>(t(r),!0))}toArray(){let t=[];return this.iterate(r=>(t.push(r),!0)),t}filter(t){return new e(r=>this.iterate(n=>t(n)?r(n):!0))}map(t){return new e(r=>this.iterate(n=>r(t(n))))}some(t){let r=!1;return this.iterate(n=>(r=t(n),!r)),r}findFirst(t){let r;return this.iterate(n=>t(n)?(r=n,!1):!0),r}findLast(t){let r;return this.iterate(n=>(t(n)&&(r=n),!0)),r}findLastMaxBy(t){let r,n=!0;return this.iterate(i=>((n||R6e.isGreaterThan(t(i,r)))&&(n=!1,r=i),!0)),r}};d();function N6e(e,t){let r=Object.create(null);for(let n of e){let i=t(n),o=r[i];o||(o=r[i]=[]),o.push(n)}return r}s(N6e,"groupBy");var D6e,P6e,B6e=class{constructor(t,r){this.toKey=r;this._map=new Map;this[D6e]="SetWithKey";for(let n of t)this.add(n)}static{s(this,"SetWithKey")}get size(){return this._map.size}add(t){let r=this.toKey(t);return this._map.set(r,t),this}delete(t){return this._map.delete(this.toKey(t))}has(t){return this._map.has(this.toKey(t))}*entries(){for(let t of this._map.values())yield[t,t]}keys(){return this.values()}*values(){for(let t of this._map.values())yield t}clear(){this._map.clear()}forEach(t,r){this._map.forEach(n=>t.call(r,n,n,this))}[(P6e=Symbol.iterator,D6e=Symbol.toStringTag,P6e)](){return this.values()}};d();function lne(e,t){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,t)try{i=e.apply(r,arguments)}finally{t()}else i=e.apply(r,arguments);return i}}s(lne,"createSingleCallFunction");d();var cne;(_=>{function e(k){return k&&typeof k=="object"&&typeof k[Symbol.iterator]=="function"}_.is=e,s(e,"is");let t=Object.freeze([]);function r(){return t}_.empty=r,s(r,"empty");function*n(k){yield k}_.single=n,s(n,"single");function i(k){return e(k)?k:n(k)}_.wrap=i,s(i,"wrap");function o(k){return k||t}_.from=o,s(o,"from");function*a(k){for(let B=k.length-1;B>=0;B--)yield k[B]}_.reverse=a,s(a,"reverse");function l(k){return!k||k[Symbol.iterator]().next().done===!0}_.isEmpty=l,s(l,"isEmpty");function c(k){return k[Symbol.iterator]().next().value}_.first=c,s(c,"first");function u(k,B){let N=0;for(let M of k)if(B(M,N++))return!0;return!1}_.some=u,s(u,"some");function f(k,B){for(let N of k)if(B(N))return N}_.find=f,s(f,"find");function*m(k,B){for(let N of k)B(N)&&(yield N)}_.filter=m,s(m,"filter");function*h(k,B){let N=0;for(let M of k)yield B(M,N++)}_.map=h,s(h,"map");function*p(k,B){let N=0;for(let M of k)yield*B(M,N++)}_.flatMap=p,s(p,"flatMap");function*g(...k){for(let B of k)yield*B}_.concat=g,s(g,"concat");function y(k,B,N){let M=N;for(let te of k)M=B(M,te);return M}_.reduce=y,s(y,"reduce");function*x(k,B,N=k.length){for(B<-k.length&&(B=0),B<0&&(B+=k.length),N<0?N+=k.length:N>k.length&&(N=k.length);B<N;B++)yield k[B]}_.slice=x,s(x,"slice");function b(k,B=Number.POSITIVE_INFINITY){let N=[];if(B===0)return[N,k];let M=k[Symbol.iterator]();for(let te=0;te<B;te++){let de=M.next();if(de.done)return[N,_.empty()];N.push(de.value)}return[N,{[Symbol.iterator](){return M}}]}_.consume=b,s(b,"consume");async function E(k){let B=[];for await(let N of k)B.push(N);return Promise.resolve(B)}_.asyncToArray=E,s(E,"asyncToArray")})(cne||={});d();var une=class{constructor(t,r){this.uri=t;this.value=r}static{s(this,"ResourceMapEntry")}};function aht(e){return Array.isArray(e)}s(aht,"isEntries");var F6e,QO=class e{constructor(t,r){this[F6e]="ResourceMap";if(t instanceof e)this.map=new Map(t.map),this.toKey=r??e.defaultToKey;else if(aht(t)){this.map=new Map,this.toKey=r??e.defaultToKey;for(let[n,i]of t)this.set(n,i)}else this.map=new Map,this.toKey=t??e.defaultToKey}static{s(this,"ResourceMap")}static{this.defaultToKey=s(t=>t.toString(),"defaultToKey")}set(t,r){return this.map.set(this.toKey(t),new une(t,r)),this}get(t){return this.map.get(this.toKey(t))?.value}has(t){return this.map.has(this.toKey(t))}get size(){return this.map.size}clear(){this.map.clear()}delete(t){return this.map.delete(this.toKey(t))}forEach(t,r){typeof r<"u"&&(t=t.bind(r));for(let[n,i]of this.map)t(i.value,i.uri,this)}*values(){for(let t of this.map.values())yield t.value}*keys(){for(let t of this.map.values())yield t.uri}*entries(){for(let t of this.map.values())yield[t.uri,t.value]}*[(F6e=Symbol.toStringTag,Symbol.iterator)](){for(let[,t]of this.map)yield[t.uri,t.value]}},M6e,L6e=class{constructor(t,r){this[M6e]="ResourceSet";!t||typeof t=="function"?this._map=new QO(t):(this._map=new QO(r),t.forEach(this.add,this))}static{s(this,"ResourceSet")}get size(){return this._map.size}add(t){return this._map.set(t,t),this}clear(){this._map.clear()}delete(t){return this._map.delete(t)}forEach(t,r){this._map.forEach((n,i)=>t.call(r,i,i,this))}has(t){return this._map.has(t)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(M6e=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var Q6e,fne=class{constructor(){this[Q6e]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}static{s(this,"LinkedMap")}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=0){let n=this._map.get(t);if(n)return r!==0&&this.touch(n,r),n.value}set(t,r,n=0){let i=this._map.get(t);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.key,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}values(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.value,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}entries(){let t=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(t._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:[n.key,n.value],done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}[(Q6e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}trimNew(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._tail,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.previous,n--;this._tail=r,this._size=n,r&&(r.next=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===2){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}},dne=class extends fne{static{s(this,"Cache")}constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=2){return super.get(t,r)}peek(t){return super.get(t,0)}set(t,r){return super.set(t,r,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}},OO=class extends dne{static{s(this,"LRUCache")}constructor(t,r=1){super(t,r)}trim(t){this.trimOld(t)}set(t,r){return super.set(t,r),this.checkTrim(),this}};var j8=class{constructor(){this.map=new Map}static{s(this,"SetMap")}add(t,r){let n=this.map.get(t);n||(n=new Set,this.map.set(t,n)),n.add(r)}delete(t,r){let n=this.map.get(t);n&&(n.delete(r),n.size===0&&this.map.delete(t))}forEach(t,r){let n=this.map.get(t);n&&n.forEach(r)}get(t){let r=this.map.get(t);return r||new Set}};var lht=!1,V8=null;var O6e=class e{constructor(){this.livingDisposables=new Map}static{s(this,"DisposableTracker")}static{this.idx=0}getDisposableData(t){let r=this.livingDisposables.get(t);return r||(r={parent:null,source:null,isSingleton:!1,value:t,idx:e.idx++},this.livingDisposables.set(t,r)),r}trackDisposable(t){let r=this.getDisposableData(t);r.source||(r.source=new Error().stack)}setParent(t,r){let n=this.getDisposableData(t);n.parent=r}markAsDisposed(t){this.livingDisposables.delete(t)}markAsSingleton(t){this.getDisposableData(t).isSingleton=!0}getRootParent(t,r){let n=r.get(t);if(n)return n;let i=t.parent?this.getRootParent(this.getDisposableData(t.parent),r):t;return r.set(t,i),i}getTrackedDisposables(){let t=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,t).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(t=10,r){let n;if(r)n=r;else{let c=new Map,u=[...this.livingDisposables.values()].filter(m=>m.source!==null&&!this.getRootParent(m,c).isSingleton);if(u.length===0)return;let f=new Set(u.map(m=>m.value));if(n=u.filter(m=>!(m.parent&&f.has(m.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(c){function u(m,h){for(;m.length>0&&h.some(p=>typeof p=="string"?p===m[0]:m[0].match(p));)m.shift()}s(u,"removePrefix");let f=c.source.split(`
`).map(m=>m.trim().replace("at ","")).filter(m=>m!=="");return u(f,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),f.reverse()}s(i,"getStackTracePath");let o=new j8;for(let c of n){let u=i(c);for(let f=0;f<=u.length;f++)o.add(u.slice(0,f).join(`
`),c)}n.sort(xf(c=>c.idx,vf));let a="",l=0;for(let c of n.slice(0,t)){l++;let u=i(c),f=[];for(let m=0;m<u.length;m++){let h=u[m];h=`(shared with ${o.get(u.slice(0,m+1).join(`
`)).size}/${n.length} leaks) at ${h}`;let g=o.get(u.slice(0,m).join(`
`)),y=N6e([...g].map(x=>i(x)[m]),x=>x);delete y[u[m]];for(let[x,b]of Object.entries(y))f.unshift(`    - stacktraces of ${b.length} other leaks continue with ${x}`);f.unshift(h)}a+=`


==================== Leaking disposable ${l}/${n.length}: ${c.value.constructor.name} ====================
${f.join(`
`)}
============================================================

`}return n.length>t&&(a+=`


... and ${n.length-t} more leaking disposables

`),{leaks:n,details:a}}};function cht(e){V8=e}s(cht,"setDisposableTracker");if(lht){let e="__is_disposable_tracked__";cht(new class{trackDisposable(t){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{t[e]||console.log(r)},3e3)}setParent(t,r){if(t&&t!==ys.None)try{t[e]=!0}catch{}}markAsDisposed(t){if(t&&t!==ys.None)try{t[e]=!0}catch{}}markAsSingleton(t){}})}function $8(e){return V8?.trackDisposable(e),e}s($8,"trackDisposable");function z8(e){V8?.markAsDisposed(e)}s(z8,"markAsDisposed");function mne(e,t){V8?.setParent(e,t)}s(mne,"setParentOfDisposable");function uht(e,t){if(V8)for(let r of e)V8.setParent(r,t)}s(uht,"setParentOfDisposables");function U6e(e){return typeof e=="object"&&e!==null&&typeof e.dispose=="function"&&e.dispose.length===0}s(U6e,"isDisposable");function UO(e){if(cne.is(e)){let t=[];for(let r of e)if(r)try{r.dispose()}catch(n){t.push(n)}if(t.length===1)throw t[0];if(t.length>1)throw new AggregateError(t,"Encountered errors while disposing of store");return Array.isArray(e)?[]:e}else if(e)return e.dispose(),e}s(UO,"dispose");function q6e(...e){let t=Sa(()=>UO(e));return uht(e,t),t}s(q6e,"combinedDisposable");function Sa(e){let t=$8({dispose:lne(()=>{z8(t),e()})});return t}s(Sa,"toDisposable");var v0=class e{constructor(){this._toDispose=new Set;this._isDisposed=!1;$8(this)}static{s(this,"DisposableStore")}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(z8(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{UO(this._toDispose)}finally{this._toDispose.clear()}}add(t){if(!t)return t;if(t===this)throw new Error("Cannot register a disposable on itself!");return mne(t,this),this._isDisposed?e.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(t),t}delete(t){if(t){if(t===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(t),t.dispose()}}deleteAndLeak(t){t&&this._toDispose.has(t)&&(this._toDispose.delete(t),mne(t,null))}},ys=class{constructor(){this._store=new v0;$8(this),mne(this._store,this)}static{s(this,"Disposable")}static{this.None=Object.freeze({dispose(){}})}dispose(){z8(this),this._store.dispose()}_register(t){if(t===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(t)}};d();d();d();d();d();d();function NS(e,t="Unreachable"){throw new Error(t)}s(NS,"assertNever");function Pl(e,t="unexpected state"){if(!e)throw new vn(`Assertion Failed: ${t}`)}s(Pl,"assert");function b0(e){if(!e()){debugger;e(),G8(new vn("Assertion Failed"))}}s(b0,"assertFn");function Y5(e,t){let r=0;for(;r<e.length-1;){let n=e[r],i=e[r+1];if(!t(n,i))return!1;r++}return!0}s(Y5,"checkAdjacentItems");d();var wA=s((e,t)=>e===t,"strictEquals");d();d();var Cs=class e{static{s(this,"Node")}static{this.Undefined=new e(void 0)}constructor(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}},LS=class{constructor(){this._first=Cs.Undefined;this._last=Cs.Undefined;this._size=0}static{s(this,"LinkedList")}get size(){return this._size}isEmpty(){return this._first===Cs.Undefined}clear(){let t=this._first;for(;t!==Cs.Undefined;){let r=t.next;t.prev=Cs.Undefined,t.next=Cs.Undefined,t=r}this._first=Cs.Undefined,this._last=Cs.Undefined,this._size=0}unshift(t){return this._insert(t,!1)}push(t){return this._insert(t,!0)}_insert(t,r){let n=new Cs(t);if(this._first===Cs.Undefined)this._first=n,this._last=n;else if(r){let o=this._last;this._last=n,n.prev=o,o.next=n}else{let o=this._first;this._first=n,n.next=o,o.prev=n}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(n))}}shift(){if(this._first!==Cs.Undefined){let t=this._first.element;return this._remove(this._first),t}}pop(){if(this._last!==Cs.Undefined){let t=this._last.element;return this._remove(this._last),t}}_remove(t){if(t.prev!==Cs.Undefined&&t.next!==Cs.Undefined){let r=t.prev;r.next=t.next,t.next.prev=r}else t.prev===Cs.Undefined&&t.next===Cs.Undefined?(this._first=Cs.Undefined,this._last=Cs.Undefined):t.next===Cs.Undefined?(this._last=this._last.prev,this._last.next=Cs.Undefined):t.prev===Cs.Undefined&&(this._first=this._first.next,this._first.prev=Cs.Undefined);this._size-=1}*[Symbol.iterator](){let t=this._first;for(;t!==Cs.Undefined;)yield t.element,t=t.next}};d();var fht=globalThis.performance&&typeof globalThis.performance.now=="function",Y8=class e{static{s(this,"StopWatch")}static create(t){return new e(t)}constructor(t){this._now=fht&&t===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var W6e=!1,dht=!1,Fv;(z=>{z.None=s(()=>ys.None,"None");function t(j){if(dht){let{onDidAddListener:U}=j,V=MS.create(),K=0;j.onDidAddListener=()=>{++K===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),V.print()),U?.()}}}s(t,"_addLeakageTraceLogic");function r(j,U){return p(j,()=>{},0,void 0,!0,void 0,U)}z.defer=r,s(r,"defer");function n(j){return(U,V=null,K)=>{let ae=!1,re;return re=j(le=>{if(!ae)return re?re.dispose():ae=!0,U.call(V,le)},null,K),ae&&re.dispose(),re}}z.once=n,s(n,"once");function i(j,U){return z.once(z.filter(j,U))}z.onceIf=i,s(i,"onceIf");function o(j,U,V){return m((K,ae=null,re)=>j(le=>K.call(ae,U(le)),null,re),V)}z.map=o,s(o,"map");function a(j,U,V){return m((K,ae=null,re)=>j(le=>{U(le),K.call(ae,le)},null,re),V)}z.forEach=a,s(a,"forEach");function l(j,U,V){return m((K,ae=null,re)=>j(le=>U(le)&&K.call(ae,le),null,re),V)}z.filter=l,s(l,"filter");function c(j){return j}z.signal=c,s(c,"signal");function u(...j){return(U,V=null,K)=>{let ae=q6e(...j.map(re=>re(le=>U.call(V,le))));return h(ae,K)}}z.any=u,s(u,"any");function f(j,U,V,K){let ae=V;return o(j,re=>(ae=U(ae,re),ae),K)}z.reduce=f,s(f,"reduce");function m(j,U){let V,K={onWillAddFirstListener(){V=j(ae.fire,ae)},onDidRemoveLastListener(){V?.dispose()}};U||t(K);let ae=new bf(K);return U?.add(ae),ae.event}s(m,"snapshot");function h(j,U){return U instanceof Array?U.push(j):U&&U.add(j),j}s(h,"addAndReturnDisposable");function p(j,U,V=100,K=!1,ae=!1,re,le){let ce,De,be,qe=0,Re,Xe={leakWarningThreshold:re,onWillAddFirstListener(){ce=j(at=>{qe++,De=U(De,at),K&&!be&&(ft.fire(De),De=void 0),Re=s(()=>{let lt=De;De=void 0,be=void 0,(!K||qe>1)&&ft.fire(lt),qe=0},"doFire"),typeof V=="number"?(clearTimeout(be),be=setTimeout(Re,V)):be===void 0&&(be=0,queueMicrotask(Re))})},onWillRemoveListener(){ae&&qe>0&&Re?.()},onDidRemoveLastListener(){Re=void 0,ce.dispose()}};le||t(Xe);let ft=new bf(Xe);return le?.add(ft),ft.event}z.debounce=p,s(p,"debounce");function g(j,U=0,V){return z.debounce(j,(K,ae)=>K?(K.push(ae),K):[ae],U,void 0,!0,void 0,V)}z.accumulate=g,s(g,"accumulate");function y(j,U=(K,ae)=>K===ae,V){let K=!0,ae;return l(j,re=>{let le=K||!U(re,ae);return K=!1,ae=re,le},V)}z.latch=y,s(y,"latch");function x(j,U,V){return[z.filter(j,U,V),z.filter(j,K=>!U(K),V)]}z.split=x,s(x,"split");function b(j,U=!1,V=[],K){let ae=V.slice(),re=j(De=>{ae?ae.push(De):ce.fire(De)});K&&K.add(re);let le=s(()=>{ae?.forEach(De=>ce.fire(De)),ae=null},"flush"),ce=new bf({onWillAddFirstListener(){re||(re=j(De=>ce.fire(De)),K&&K.add(re))},onDidAddFirstListener(){ae&&(U?setTimeout(le):le())},onDidRemoveLastListener(){re&&re.dispose(),re=null}});return K&&K.add(ce),ce.event}z.buffer=b,s(b,"buffer");function E(j,U){return s((K,ae,re)=>{let le=U(new k);return j(function(ce){let De=le.evaluate(ce);De!==_&&K.call(ae,De)},void 0,re)},"fn")}z.chain=E,s(E,"chain");let _=Symbol("HaltChainable");class k{constructor(){this.steps=[]}static{s(this,"ChainableSynthesis")}map(U){return this.steps.push(U),this}forEach(U){return this.steps.push(V=>(U(V),V)),this}filter(U){return this.steps.push(V=>U(V)?V:_),this}reduce(U,V){let K=V;return this.steps.push(ae=>(K=U(K,ae),K)),this}latch(U=(V,K)=>V===K){let V=!0,K;return this.steps.push(ae=>{let re=V||!U(ae,K);return V=!1,K=ae,re?ae:_}),this}evaluate(U){for(let V of this.steps)if(U=V(U),U===_)break;return U}}function B(j,U,V=K=>K){let K=s((...ce)=>le.fire(V(...ce)),"fn"),ae=s(()=>j.on(U,K),"onFirstListenerAdd"),re=s(()=>j.removeListener(U,K),"onLastListenerRemove"),le=new bf({onWillAddFirstListener:ae,onDidRemoveLastListener:re});return le.event}z.fromNodeEventEmitter=B,s(B,"fromNodeEventEmitter");function N(j,U,V=K=>K){let K=s((...ce)=>le.fire(V(...ce)),"fn"),ae=s(()=>j.addEventListener(U,K),"onFirstListenerAdd"),re=s(()=>j.removeEventListener(U,K),"onLastListenerRemove"),le=new bf({onWillAddFirstListener:ae,onDidRemoveLastListener:re});return le.event}z.fromDOMEventEmitter=N,s(N,"fromDOMEventEmitter");function M(j,U){return new Promise(V=>n(j)(V,null,U))}z.toPromise=M,s(M,"toPromise");function te(j){let U=new bf;return j.then(V=>{U.fire(V)},()=>{U.fire(void 0)}).finally(()=>{U.dispose()}),U.event}z.fromPromise=te,s(te,"fromPromise");function de(j,U){return j(V=>U.fire(V))}z.forward=de,s(de,"forward");function Z(j,U,V){return U(V),j(K=>U(K))}z.runAndSubscribe=Z,s(Z,"runAndSubscribe");class G{constructor(U,V){this._observable=U;this._counter=0;this._hasChanged=!1;let K={onWillAddFirstListener:s(()=>{U.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:s(()=>{U.removeObserver(this)},"onDidRemoveLastListener")};V||t(K),this.emitter=new bf(K),V&&V.add(this.emitter)}static{s(this,"EmitterObserver")}beginUpdate(U){this._counter++}handlePossibleChange(U){}handleChange(U,V){this._hasChanged=!0}endUpdate(U){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function q(j,U){return new G(j,U).emitter.event}z.fromObservable=q,s(q,"fromObservable");function ie(j){return(U,V,K)=>{let ae=0,re=!1,le={beginUpdate(){ae++},endUpdate(){ae--,ae===0&&(j.reportChanges(),re&&(re=!1,U.call(V)))},handlePossibleChange(){},handleChange(){re=!0}};j.addObserver(le),j.reportChanges();let ce={dispose(){j.removeObserver(le)}};return K instanceof v0?K.add(ce):Array.isArray(K)&&K.push(ce),ce}}z.fromObservableLight=ie,s(ie,"fromObservableLight")})(Fv||={});var hne=class e{constructor(t){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${t}_${e._idPool++}`,e.all.add(this)}static{s(this,"EventProfiling")}static{this.all=new Set}static{this._idPool=0}start(t){this._stopWatch=new Y8,this.listenerCount=t}stop(){if(this._stopWatch){let t=this._stopWatch.elapsed();this.durations.push(t),this.elapsedOverall+=t,this.invocationCount+=1,this._stopWatch=void 0}}},G6e=-1;var pne=class e{constructor(t,r,n=(e._idPool++).toString(16).padStart(3,"0")){this._errorHandler=t;this.threshold=r;this.name=n;this._warnCountdown=0}static{s(this,"LeakageMonitor")}static{this._idPool=1}dispose(){this._stacks?.clear()}check(t,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(t.value)||0;if(this._stacks.set(t.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let[o,a]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${a}):`;console.warn(l),console.warn(o);let c=new gne(l,o);this._errorHandler(c)}return()=>{let o=this._stacks.get(t.value)||0;this._stacks.set(t.value,o-1)}}getMostFrequentStack(){if(!this._stacks)return;let t,r=0;for(let[n,i]of this._stacks)(!t||r<i)&&(t=[n,i],r=i);return t}},MS=class e{constructor(t){this.value=t}static{s(this,"Stacktrace")}static create(){let t=new Error;return new e(t.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},gne=class extends Error{static{s(this,"ListenerLeakError")}constructor(t,r){super(t),this.name="ListenerLeakError",this.stack=r}},Ane=class extends Error{static{s(this,"ListenerRefusalError")}constructor(t,r){super(t),this.name="ListenerRefusalError",this.stack=r}},mht=0,K8=class{constructor(t){this.value=t;this.id=mht++}static{s(this,"UniqueContainer")}},hht=2,pht=s((e,t)=>{if(e instanceof K8)t(e);else for(let r=0;r<e.length;r++){let n=e[r];n&&t(n)}},"forEachListener"),bf=class{constructor(t){this._size=0;this._options=t,this._leakageMon=G6e>0||this._options?.leakWarningThreshold?new pne(t?.onListenerError??G8,this._options?.leakWarningThreshold??G6e):void 0,this._perfMon=this._options?._profName?new hne(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}static{s(this,"Emitter")}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(W6e){let t=this._listeners;queueMicrotask(()=>{pht(t,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(t,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){let c=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(c);let u=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],f=new Ane(`${c}. HINT: Stack shows most frequent listener (${u[1]}-times)`,u[0]);return(this._options?.onListenerError||G8)(f),ys.None}if(this._disposed)return ys.None;r&&(t=t.bind(r));let i=new K8(t),o,a;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=MS.create(),o=this._leakageMon.check(i.stack,this._size+1)),W6e&&(i.stack=a??MS.create()),this._listeners?this._listeners instanceof K8?(this._deliveryQueue??=new yne,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._options?.onDidAddListener?.(this),this._size++;let l=Sa(()=>{o?.(),this._removeListener(i)});return n instanceof v0?n.add(l):Array.isArray(n)&&n.push(l),l},this._event}_removeListener(t){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(t);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*hht<=r.length){let o=0;for(let a=0;a<r.length;a++)r[a]?r[o++]=r[a]:i&&o<this._deliveryQueue.end&&(this._deliveryQueue.end--,o<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=o}}_deliver(t,r){if(!t)return;let n=this._options?.onListenerError||G8;if(!n){t.value(r);return}try{t.value(r)}catch(i){n(i)}}_deliverQueue(t){let r=t.current._listeners;for(;t.i<t.end;)this._deliver(r[t.i++],t.value);t.reset()}fire(t){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof K8)this._deliver(this._listeners,t);else{let r=this._deliveryQueue;r.enqueue(this,t,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var yne=class{constructor(){this.i=-1;this.end=0}static{s(this,"EventDeliveryQueuePrivate")}enqueue(t,r,n){this.i=0,this.end=n,this.current=t,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};d();var E0=class{constructor(t,r,n){this.owner=t;this.debugNameSource=r;this.referenceFn=n}static{s(this,"DebugNameData")}getDebugName(t){return $6e(t,this)}},H6e=new Map,Cne=new WeakMap;function $6e(e,t){let r=Cne.get(e);if(r)return r;let n=ght(e,t);if(n){let i=H6e.get(n)??0;i++,H6e.set(n,i);let o=i===1?n:`${n}#${i}`;return Cne.set(e,o),o}}s($6e,"getDebugName");function ght(e,t){let r=Cne.get(e);if(r)return r;let n=t.owner?yht(t.owner)+".":"",i,o=t.debugNameSource;if(o!==void 0)if(typeof o=="function"){if(i=o(),i!==void 0)return n+i}else return n+o;let a=t.referenceFn;if(a!==void 0&&(i=qO(a),i!==void 0))return n+i;if(t.owner!==void 0){let l=Aht(t.owner,e);if(l!==void 0)return n+l}}s(ght,"computeDebugName");function Aht(e,t){for(let r in e)if(e[r]===t)return r}s(Aht,"findKey");var j6e=new Map,V6e=new WeakMap;function yht(e){let t=V6e.get(e);if(t)return t;let r=Cht(e),n=j6e.get(r)??0;n++,j6e.set(r,n);let i=n===1?r:`${r}#${n}`;return V6e.set(e,i),i}s(yht,"formatOwner");function Cht(e){let t=e.constructor;return t?t.name:"Object"}s(Cht,"getClassName");function qO(e){let t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t);return(n?n[1]:void 0)?.trim()}s(qO,"getFunctionName");d();var Mv;function GO(e){Mv?Mv instanceof WO?Mv.loggers.push(e):Mv=new WO([Mv,e]):Mv=e}s(GO,"addLogger");function Ms(){return Mv}s(Ms,"getLogger");var xne;function z6e(e){xne=e}s(z6e,"setLogObservableFn");function Y6e(e){xne&&xne(e)}s(Y6e,"logObservable");var WO=class{constructor(t){this.loggers=t}static{s(this,"ComposedLogger")}handleObservableCreated(t){for(let r of this.loggers)r.handleObservableCreated(t)}handleOnListenerCountChanged(t,r){for(let n of this.loggers)n.handleOnListenerCountChanged(t,r)}handleObservableUpdated(t,r){for(let n of this.loggers)n.handleObservableUpdated(t,r)}handleAutorunCreated(t){for(let r of this.loggers)r.handleAutorunCreated(t)}handleAutorunDisposed(t){for(let r of this.loggers)r.handleAutorunDisposed(t)}handleAutorunDependencyChanged(t,r,n){for(let i of this.loggers)i.handleAutorunDependencyChanged(t,r,n)}handleAutorunStarted(t){for(let r of this.loggers)r.handleAutorunStarted(t)}handleAutorunFinished(t){for(let r of this.loggers)r.handleAutorunFinished(t)}handleDerivedDependencyChanged(t,r,n){for(let i of this.loggers)i.handleDerivedDependencyChanged(t,r,n)}handleDerivedCleared(t){for(let r of this.loggers)r.handleDerivedCleared(t)}handleBeginTransaction(t){for(let r of this.loggers)r.handleBeginTransaction(t)}handleEndTransaction(t){for(let r of this.loggers)r.handleEndTransaction(t)}};var K6e;function J6e(e){K6e=e}s(J6e,"_setRecomputeInitiallyAndOnChange");var X6e;function Z6e(e){X6e=e}s(Z6e,"_setKeepObserved");var vne;function e9e(e){vne=e}s(e9e,"_setDerivedOpts");var HO=class{static{s(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(t){return t?t.readObservable(this):this.get()}map(t,r){let n=r===void 0?void 0:t,i=r===void 0?t:r;return vne({owner:n,debugName:s(()=>{let o=qO(i);if(o!==void 0)return o;let l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(i.toString());if(l)return`${this.debugName}.${l[2]}`;if(!n)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:i},o=>i(this.read(o),o))}flatten(){return vne({owner:void 0,debugName:s(()=>`${this.debugName} (flattened)`,"debugName")},t=>this.read(t).read(t))}recomputeInitiallyAndOnChange(t,r){return t.add(K6e(this,r)),this}keepObserved(t){return t.add(X6e(this)),this}get debugValue(){return this.get()}},K5=class extends HO{constructor(){super();this.observers=new Set;Ms()?.handleObservableCreated(this)}static{s(this,"BaseObservable")}addObserver(r){let n=this.observers.size;this.observers.add(r),n===0&&this.onFirstObserverAdded(),n!==this.observers.size&&Ms()?.handleOnListenerCountChanged(this,this.observers.size)}removeObserver(r){let n=this.observers.delete(r);n&&this.observers.size===0&&this.onLastObserverRemoved(),n&&Ms()?.handleOnListenerCountChanged(this,this.observers.size)}onFirstObserverAdded(){}onLastObserverRemoved(){}log(){let r=!!Ms();return Y6e(this),r||Ms()?.handleObservableCreated(this),this}};function VO(e,t){let r=new J8(e,t);try{e(r)}finally{r.finish()}}s(VO,"transaction");function bne(e,t,r){e?t(e):VO(t,r)}s(bne,"subtransaction");var J8=class{constructor(t,r){this._fn=t;this._getDebugName=r;this.updatingObservers=[];Ms()?.handleBeginTransaction(this)}static{s(this,"TransactionImpl")}getDebugName(){return this._getDebugName?this._getDebugName():qO(this._fn)}updateObserver(t,r){this.updatingObservers.push({observer:t,observable:r}),t.beginUpdate(r)}finish(){let t=this.updatingObservers;for(let r=0;r<t.length;r++){let{observer:n,observable:i}=t[r];n.endUpdate(i)}this.updatingObservers=null,Ms()?.handleEndTransaction(this)}};function Eh(e,t){let r;return typeof e=="string"?r=new E0(void 0,e,void 0):r=new E0(e,void 0,void 0),new jO(r,t,wA)}s(Eh,"observableValue");var jO=class extends K5{constructor(r,n,i){super();this._debugNameData=r;this._equalityComparator=i;this._value=n,Ms()?.handleObservableUpdated(this,{hadValue:!1,newValue:n,change:void 0,didChange:!0,oldValue:void 0})}static{s(this,"ObservableValue")}get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}get(){return this._value}set(r,n,i){if(i===void 0&&this._equalityComparator(this._value,r))return;let o;n||(n=o=new J8(()=>{},()=>`Setting ${this.debugName}`));try{let a=this._value;this._setValue(r),Ms()?.handleObservableUpdated(this,{oldValue:a,newValue:r,change:i,didChange:!0,hadValue:!0});for(let l of this.observers)n.updateObserver(l,this),l.handleChange(this,i)}finally{o&&o.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(r){this._value=r}};d();d();function Qv(e){return new X8(new E0(void 0,void 0,e),e,void 0,void 0)}s(Qv,"autorun");function Ene(e,t){return new X8(new E0(e.owner,e.debugName,e.debugReferenceFn??t),t,void 0,void 0)}s(Ene,"autorunOpts");function $O(e,t){return new X8(new E0(e.owner,e.debugName,e.debugReferenceFn??t),t,e.createEmptyChangeSummary,e.handleChange)}s($O,"autorunHandleChanges");function Ine(e,t){let r=new v0,n=$O({owner:e.owner,debugName:e.debugName,debugReferenceFn:e.debugReferenceFn??t,createEmptyChangeSummary:e.createEmptyChangeSummary,handleChange:e.handleChange},(i,o)=>{r.clear(),t(i,o,r)});return Sa(()=>{n.dispose(),r.dispose()})}s(Ine,"autorunWithStoreHandleChanges");function Tne(e){let t=new v0,r=Ene({owner:void 0,debugName:void 0,debugReferenceFn:e},n=>{t.clear(),e(n,t)});return Sa(()=>{r.dispose(),t.dispose()})}s(Tne,"autorunWithStore");var X8=class{constructor(t,r,n,i){this._debugNameData=t;this._runFn=r;this.createChangeSummary=n;this._handleChange=i;this.state=2;this.updateCount=0;this.disposed=!1;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this._isRunning=!1;this.changeSummary=this.createChangeSummary?.(),Ms()?.handleAutorunCreated(this),this._runIfNeeded(),$8(this)}static{s(this,"AutorunObserver")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(let t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),Ms()?.handleAutorunDisposed(this),z8(this)}_runIfNeeded(){if(this.state===3)return;let t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3;try{if(!this.disposed){Ms()?.handleAutorunStarted(this);let r=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._isRunning=!0,this._runFn(this,r)}catch(n){Nv(n)}finally{this._isRunning=!1}}}finally{this.disposed||Ms()?.handleAutorunFinished(this);for(let r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(t){this.state===3&&(this.state=1),this.updateCount++}endUpdate(t){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let r of this.dependencies)if(r.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}b0(()=>this.updateCount>=0)}handlePossibleChange(t){this.state===3&&this._isDependency(t)&&(this.state=1)}handleChange(t,r){if(this._isDependency(t)){Ms()?.handleAutorunDependencyChanged(this,t,r);try{(this._handleChange?this._handleChange({changedObservable:t,change:r,didChange:s(i=>i===t,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(n){Nv(n)}}}_isDependency(t){return this.dependencies.has(t)&&!this.dependenciesToBeRemoved.has(t)}readObservable(t){if(!this._isRunning)throw new vn("The reader object cannot be used outside its compute function!");if(this.disposed)return t.get();t.addObserver(this);let r=t.get();return this.dependencies.add(t),this.dependenciesToBeRemoved.delete(t),r}};(t=>t.Observer=X8)(Qv||={});d();function zO(e,t){return new Ov(new E0(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??wA)}s(zO,"derivedOpts");e9e(zO);var Ov=class extends K5{constructor(r,n,i,o,a=void 0,l){super();this._debugNameData=r;this._computeFn=n;this.createChangeSummary=i;this._handleChange=o;this._handleLastObserverRemoved=a;this._equalityComparator=l;this.state=0;this.value=void 0;this.updateCount=0;this.dependencies=new Set;this.dependenciesToBeRemoved=new Set;this.changeSummary=void 0;this._isUpdating=!1;this._isComputing=!1;this._removedObserverToCallEndUpdateOn=null;this._isReaderValid=!1;this.changeSummary=this.createChangeSummary?.()}static{s(this,"Derived")}get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0,Ms()?.handleDerivedCleared(this);for(let r of this.dependencies)r.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this._isComputing,this.observers.size===0){let n;try{this._isReaderValid=!0,n=this._computeFn(this,this.createChangeSummary?.())}finally{this._isReaderValid=!1}return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(let n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;let r=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=r;let n=this.state!==0,i=this.value;this.state=3;let o=!1;this._isComputing=!0;try{let a=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this._isReaderValid=!0,this.value=this._computeFn(this,a)}finally{this._isReaderValid=!1;for(let l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}o=n&&!this._equalityComparator(i,this.value),Ms()?.handleObservableUpdated(this,{oldValue:i,newValue:this.value,change:void 0,didChange:o,hadValue:n})}catch(a){Nv(a)}if(this._isComputing=!1,o)for(let a of this.observers)a.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(r){if(this._isUpdating)throw new vn("Cyclic deriveds are not supported yet!");this.updateCount++,this._isUpdating=!0;try{let n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(let i of this.observers)i.handlePossibleChange(this);if(n)for(let i of this.observers)i.beginUpdate(this)}finally{this._isUpdating=!1}}endUpdate(r){if(this.updateCount--,this.updateCount===0){let n=[...this.observers];for(let i of n)i.endUpdate(this);if(this._removedObserverToCallEndUpdateOn){let i=[...this._removedObserverToCallEndUpdateOn];this._removedObserverToCallEndUpdateOn=null;for(let o of i)o.endUpdate(this)}}b0(()=>this.updateCount>=0)}handlePossibleChange(r){if(this.state===3&&this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){this.state=1;for(let n of this.observers)n.handlePossibleChange(this)}}handleChange(r,n){if(this.dependencies.has(r)&&!this.dependenciesToBeRemoved.has(r)){Ms()?.handleDerivedDependencyChanged(this,r,n);let i=!1;try{i=this._handleChange?this._handleChange({changedObservable:r,change:n,didChange:s(a=>a===r,"didChange")},this.changeSummary):!0}catch(a){Nv(a)}let o=this.state===3;if(i&&(this.state===1||o)&&(this.state=2,o))for(let a of this.observers)a.handlePossibleChange(this)}}readObservable(r){if(!this._isReaderValid)throw new vn("The reader object cannot be used outside its compute function!");r.addObserver(this);let n=r.get();return this.dependencies.add(r),this.dependenciesToBeRemoved.delete(r),n}addObserver(r){let n=!this.observers.has(r)&&this.updateCount>0;super.addObserver(r),n&&(this._removedObserverToCallEndUpdateOn&&this._removedObserverToCallEndUpdateOn.has(r)?this._removedObserverToCallEndUpdateOn.delete(r):r.beginUpdate(this))}removeObserver(r){this.observers.has(r)&&this.updateCount>0&&(this._removedObserverToCallEndUpdateOn||(this._removedObserverToCallEndUpdateOn=new Set),this._removedObserverToCallEndUpdateOn.add(r)),super.removeObserver(r)}};d();d();function wne(...e){let t,r,n;return e.length===3?[t,r,n]=e:[r,n]=e,new J5(new E0(t,void 0,n),r,n,()=>J5.globalTransaction,wA)}s(wne,"observableFromEvent");var J5=class extends K5{constructor(r,n,i,o,a){super();this._debugNameData=r;this.event=n;this._getValue=i;this._getTransaction=o;this._equalityComparator=a;this.hasValue=!1;this.handleEvent=s(r=>{let n=this._getValue(r),i=this.value,o=!this.hasValue||!this._equalityComparator(i,n),a=!1;o&&(this.value=n,this.hasValue&&(a=!0,bne(this._getTransaction(),l=>{Ms()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:o,hadValue:this.hasValue});for(let c of this.observers)l.updateObserver(c,this),c.handleChange(this,void 0)},()=>{let l=this.getDebugName();return"Event fired"+(l?`: ${l}`:"")})),this.hasValue=!0),a||Ms()?.handleObservableUpdated(this,{oldValue:i,newValue:n,change:void 0,didChange:o,hadValue:this.hasValue})},"handleEvent")}static{s(this,"FromEventObservable")}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){let r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}};(r=>{r.Observer=J5;function t(n,i){let o=!1;J5.globalTransaction===void 0&&(J5.globalTransaction=n,o=!0);try{i()}finally{o&&(J5.globalTransaction=void 0)}}r.batchEventsGlobally=t,s(t,"batchEventsGlobally")})(wne||={});function r9e(e){let t=new YO(!1,void 0);return e.addObserver(t),Sa(()=>{e.removeObserver(t)})}s(r9e,"keepObserved");Z6e(r9e);function n9e(e,t){let r=new YO(!0,t);return e.addObserver(r),t?t(e.get()):e.reportChanges(),Sa(()=>{e.removeObserver(r)})}s(n9e,"recomputeInitiallyAndOnChange");J6e(n9e);var YO=class{constructor(t,r){this._forceRecompute=t;this._handleValue=r;this._counter=0}static{s(this,"KeepAliveObserver")}beginUpdate(t){this._counter++}endUpdate(t){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(t.get()):t.reportChanges())}handlePossibleChange(t){}handleChange(t,r){}};function Ef(e,t,r,n){let i=new KO(r,n);return zO({debugReferenceFn:r,owner:e,onLastObserverRemoved:s(()=>{i.dispose(),i=new KO(r)},"onLastObserverRemoved")},a=>(i.setItems(t.read(a)),i.getItems()))}s(Ef,"mapObservableArrayCached");var KO=class{constructor(t,r){this._map=t;this._keySelector=r;this._cache=new Map;this._items=[]}static{s(this,"ArrayMap")}dispose(){this._cache.forEach(t=>t.store.dispose()),this._cache.clear()}setItems(t){let r=[],n=new Set(this._cache.keys());for(let i of t){let o=this._keySelector?this._keySelector(i):i,a=this._cache.get(o);if(a)n.delete(o);else{let l=new v0;a={out:this._map(i,l),store:l},this._cache.set(o,a)}r.push(a.out)}for(let i of n)this._cache.get(i).store.dispose(),this._cache.delete(i);this._items=r}getItems(){return this._items}};function _ne(e,t){let r;return Ine({createEmptyChangeSummary:s(()=>({deltas:[],didChange:!1}),"createEmptyChangeSummary"),handleChange:s((n,i)=>{if(n.didChange(e)){let o=n.change;o!==void 0&&i.deltas.push(o),i.didChange=!0}return!0},"handleChange")},(n,i)=>{let o=e.read(n),a=r;i.didChange&&(r=o,t(o,a,i.deltas))})}s(_ne,"runOnChange");d();d();d();var i9e=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),JO;(n=>{function e(i){return i===n.None||i===n.Cancelled||i instanceof Z8?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=e,s(e,"isCancellationToken"),n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Fv.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i9e})})(JO||={});var Z8=class{constructor(){this._isCancelled=!1;this._emitter=null}static{s(this,"MutableToken")}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i9e:(this._emitter||(this._emitter=new bf),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},_A=class{constructor(t){this._token=void 0;this._parentListener=void 0;this._parentListener=t&&t.onCancellationRequested(this.cancel,this)}static{s(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new Z8),this._token}cancel(){this._token?this._token instanceof Z8&&this._token.cancel():this._token=JO.Cancelled}dispose(t=!1){t&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof Z8&&this._token.dispose():this._token=JO.None}};d();var XO;function o9e(e){XO||(XO=new OS,GO(XO)),XO.addFilteredObj(e)}s(o9e,"logObservableToConsole");var OS=class{constructor(){this.indentation=0;this.changedObservablesSets=new WeakMap}static{s(this,"ConsoleObservableLogger")}addFilteredObj(t){this._filteredObjects||(this._filteredObjects=new Set),this._filteredObjects.add(t)}_isIncluded(t){return this._filteredObjects?.has(t)??!0}textToConsoleArgs(t){return xht([e6(Eht("|  ",this.indentation)),t])}formatInfo(t){return t.hadValue?t.didChange?[e6(" "),Vd(QS(t.oldValue,70),{color:"red",strikeThrough:!0}),e6(" "),Vd(QS(t.newValue,60),{color:"green"})]:[e6(" (unchanged)")]:[e6(" "),Vd(QS(t.newValue,60),{color:"green"}),e6(" (initial)")]}handleObservableCreated(t){if(t instanceof Ov){let r=t;if(this.changedObservablesSets.set(r,new Set),!1){let i=[];r.__debugUpdating=i;let o=r.beginUpdate;r.beginUpdate=l=>(i.push(l),o.apply(r,[l]));let a=r.endUpdate;r.endUpdate=l=>{let c=i.indexOf(l);return c===-1&&console.error("endUpdate called without beginUpdate",r.debugName,l.debugName),i.splice(c,1),a.apply(r,[l])}}}}handleOnListenerCountChanged(t,r){}handleObservableUpdated(t,r){if(this._isIncluded(t)){if(t instanceof Ov){this._handleDerivedRecomputed(t,r);return}console.log(...this.textToConsoleArgs([t6("observable value changed"),Vd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r)]))}}formatChanges(t){if(t.size!==0)return Vd(" (changed deps: "+[...t].map(r=>r.debugName).join(", ")+")",{color:"gray"})}handleDerivedDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t)?.add(r)}_handleDerivedRecomputed(t,r){if(!this._isIncluded(t))return;let n=this.changedObservablesSets.get(t);n&&(console.log(...this.textToConsoleArgs([t6("derived recomputed"),Vd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),this.formatChanges(n),{data:[{fn:t._debugNameData.referenceFn??t._computeFn}]}])),n.clear())}handleDerivedCleared(t){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([t6("derived cleared"),Vd(t.debugName,{color:"BlueViolet"})]))}handleFromEventObservableTriggered(t,r){this._isIncluded(t)&&console.log(...this.textToConsoleArgs([t6("observable from event triggered"),Vd(t.debugName,{color:"BlueViolet"}),...this.formatInfo(r),{data:[{fn:t._getValue}]}]))}handleAutorunCreated(t){this._isIncluded(t)&&this.changedObservablesSets.set(t,new Set)}handleAutorunDisposed(t){}handleAutorunDependencyChanged(t,r,n){this._isIncluded(t)&&this.changedObservablesSets.get(t).add(r)}handleAutorunStarted(t){let r=this.changedObservablesSets.get(t);r&&(this._isIncluded(t)&&console.log(...this.textToConsoleArgs([t6("autorun"),Vd(t.debugName,{color:"BlueViolet"}),this.formatChanges(r),{data:[{fn:t._debugNameData.referenceFn??t._runFn}]}])),r.clear(),this.indentation++)}handleAutorunFinished(t){this.indentation--}handleBeginTransaction(t){let r=t.getDebugName();r===void 0&&(r=""),this._isIncluded(t)&&console.log(...this.textToConsoleArgs([t6("transaction"),Vd(r,{color:"BlueViolet"}),{data:[{fn:t._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}};function xht(e){let t=new Array,r=[],n="";function i(a){if("length"in a)for(let l of a)l&&i(l);else"text"in a?(n+=`%c${a.text}`,t.push(a.style),a.data&&r.push(...a.data)):"data"in a&&r.push(...a.data)}s(i,"process"),i(e);let o=[n,...t];return o.push(...r),o}s(xht,"consoleTextToArgs");function e6(e){return Vd(e,{color:"black"})}s(e6,"normalText");function t6(e){return Vd(Iht(`${e}: `,10),{color:"black",bold:!0})}s(t6,"formatKind");function Vd(e,t={color:"black"}){function r(i){return Object.entries(i).reduce((o,[a,l])=>`${o}${a}:${l};`,"")}s(r,"objToCss");let n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:r(n)}}s(Vd,"styled");function QS(e,t){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return e===null?"null":Array.isArray(e)?vht(e,t):bht(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}s(QS,"formatValue");function vht(e,t){let r="[ ",n=!0;for(let i of e){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${QS(i,t-r.length)}`}return r+=" ]",r}s(vht,"formatArray");function bht(e,t){if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString){let i=e.toString();return i.length<=t?i:i.substring(0,t-3)+"..."}let r="{ ",n=!0;for(let[i,o]of Object.entries(e)){if(n||(r+=", "),r.length-5>t){r+="...";break}n=!1,r+=`${i}: ${QS(o,t-r.length)}`}return r+=" }",r}s(bht,"formatObject");function Eht(e,t){let r="";for(let n=1;n<=t;n++)r+=e;return r}s(Eht,"repeat");function Iht(e,t){for(;e.length<t;)e+=" ";return e}s(Iht,"padStr");z6e(o9e);var Tht=!1;Tht&&GO(new OS);d();function dg(e,t,r){let n=new Map(Object.entries(t).map(([o,a])=>[a,o])),i=new Map(Object.keys(t).map(o=>[o,void 0]));return $O({owner:e,createEmptyChangeSummary:s(()=>({}),"createEmptyChangeSummary"),handleChange:s((o,a)=>{let l=n.get(o.changedObservable);return a[l]===void 0&&(a[l]={value:void 0,changes:[]}),a[l].changes.push(o.change),!0},"handleChange")},(o,a)=>{for(let[l,c]of Object.entries(t)){let u=c.read(o);a[l]===void 0&&(a[l]={value:u,changes:[],previous:i.get(l)}),a[l].value=u,a[l].previous=i.get(l)===void 0?void 0:i.get(l),i.set(l,u)}r(a)})}s(dg,"autorunWithChanges");var ZO=class extends ys{constructor(r,n=!1){super();this.recentEditMap={};this.recentEdits=[];this.recentEditsReducerConfig={};this.workspace=r,this._started=!1,n||this.start()}static{s(this,"RecentEditsProvider")}getRecentEdits(){return this.start(),this.recentEdits}updateRecentEdits(r,n,i){this.recentEditMap=x6e(this.recentEditMap,r,n,i),this.recentEdits=h6e(this.recentEditMap)}setConfig(r){this.recentEditsReducerConfig=r}start(){this._started||(this._started=!0,Ef(this,this.workspace.openDocuments,(r,n)=>{n.add(dg(this,{value:r.value,selection:r.selection,languageId:r.languageId},i=>{let o=i.value.value.value&&!this.recentEditMap[r.id.toString()],a=i.value.changes.length>0;if(o||a){let l=i.value.value.value;this.updateRecentEdits(r.id.toString(),l,this.recentEditsReducerConfig)}}))},r=>r.id).recomputeInitiallyAndOnChange(this._store))}};d();function s9e(e,t,r){return e.get(Sne).safeStartIfApplicable(t,r)}s(s9e,"startRecentEditsPromptFeatureIfApplicable");var Sne=class{static{s(this,"RecentEditsPromptFeatureLifecycle")}};function wht(e,t,r){return Mn(e,bt.RecentEditsInPrompt)??t.recentEditsInPrompt(r)}s(wht,"isRecentEditsActive");var a9e=s((e,t)=>{let r=e.get(sr);return wht(e,r,t)},"recentEditsPredicate"),Rne=new WeakMap;function _ht(e,t=!1,r=void 0,n){if(t&&(r===void 0||n.activeDocDistanceLimitFromCursor===void 0))throw new Error("cursorLine and activeDocDistanceLimitFromCursor are required when filterByCursorLine is true");let i=e.startLine-1,o=e.endLine-1;if(t&&(Math.abs(i-r)<=n.activeDocDistanceLimitFromCursor||Math.abs(o-r)<=n.activeDocDistanceLimitFromCursor))return null;if(Rne.has(e))return Rne.get(e);let a=e.diff.removed.filter(u=>u.trim().length>0),l=e.diff.added.filter(u=>u.trim().length>0),c;if(n.removeDeletedLines&&l.length===0)c=null;else if(a.length===0&&l.length===0)c=null;else if(a.join("").trim()===l.join("").trim())c=null;else if(e.diff.added.length>100||e.diff.removed.length>100)c=null;else if(n.summarizationFormat==="aiders-diff")c=A6e(e.diff);else if(n.summarizationFormat==="diff")c=g6e(e.diff,n.removeDeletedLines,n.insertionsBeforeDeletions,n.appendNoReplyMarker);else if(n.summarizationFormat==="find-replace")c=y6e(e.diff);else throw new Error(`Unknown summarization format: ${n.summarizationFormat}`);return Rne.set(e,c),c}s(_ht,"summarizeEdit");var l9e=s((e,t)=>{let[r,n]=t.useState();return t.useData(hu,i=>{if(!i.document)return;let o=i.telemetryData,a=e.ctx.get(sr);s9e(e.ctx,o,a);let l=Mn(e.ctx,bt.RecentEditsRemoveDeletedLines)??a.recentEditsRemoveDeletedLines(o),c=Mn(e.ctx,bt.InsertionsBeforeDeletions)??a.recentEditsInsertionsBeforeDeletions(o),u=Mn(e.ctx,bt.RecentEditsAppendNoReplyMarker)??a.recentEditsAppendNoReplyMarker(o),f=Mn(e.ctx,bt.RecentEditsActiveDocDistanceLimitFromCursor)??a.recentEditsActiveDocDistanceLimitFromCursor(o),h={summarizationFormat:Mn(e.ctx,bt.RecentEditsSummarizationFormat)??a.recentEditsSummarizationFormat(o),removeDeletedLines:l,insertionsBeforeDeletions:c,appendNoReplyMarker:u,activeDocDistanceLimitFromCursor:f},p=Mn(e.ctx,bt.RecentEditsEditCount)??a.recentEditsEditCount(o),g=Mn(e.ctx,bt.RecentEditsMaxFiles)??a.recentEditsMaxFiles(o),y=Mn(e.ctx,bt.RecentEditsContextLines)??a.recentEditsContextLines(o),x=Mn(e.ctx,bt.RecentEditsEditMergeLineDistance)??a.recentEditsEditMergeLineDistance(o),b=e.ctx.get(ZO);b.setConfig({maxFiles:g,maxEditsPerFile:p,diffContextLines:y,editMergeLineDistance:x});let E=b.getRecentEdits(),_=new Set,k=e.ctx.get(Vr),B=[];for(let M=E.length-1;M>=0&&!(B.length>=p);M--){let te=!_.has(E[M].file);if(_.size+(te?1:0)>g)break;let Z=E[M],G=Z.file===i.document?.uri,q=G?i.position.line:void 0,ie=_ht(Z,G,q,h);if(ie){_.add(Z.file);let z=k.getRelativePath({uri:Z.file});B.unshift(BS(`File: ${z}`)+BS(ie))}}if(B.length===0){n(void 0);return}let N=BS("These are recently edited files. Do not suggest code that has been deleted.")+B.join("")+BS("End of recent edits");n(N)}),r?$n(sa,{children:r}):void 0},"RecentEdits");d();d();function c9e(e,t,r){let n=xO(r,"Trait");for(let o of n)Sht(e,t,o.data,o.providerId);return n.flatMap(o=>o.data).sort((o,a)=>(o.importance??0)-(a.importance??0))}s(c9e,"getTraitsFromContextItems");function Sht(e,t,r,n){let i=e.get(Dl).getStatisticsForCompletion(t);r.forEach(o=>{i.addExpectations(n,[[o,"included"]])})}s(Sht,"setupExpectationsForTraits");function u9e(e){return e.map(t=>({name:t.name,value:t.value}))}s(u9e,"convertRelatedFileTraitsToTraits");function f9e(e){return e.promptTextOverride?{kind:"string",value:e.promptTextOverride}:{kind:"name-value",name:e.name,value:e.value}}s(f9e,"addKindToRelatedFileTrait");var Rht=new Map([["TargetFrameworks","targetFrameworks"],["LanguageVersion","languageVersion"]]);function eU(e,t,r,n,i,o){if(r.length>0){let a={};a.detectedLanguageId=n,a.languageId=i;for(let c of r){let u=Rht.get(c.name);u&&(a[u]=c.value)}let l=o.extendedBy(a,{});return jt(t,e,l)}}s(eU,"ReportTraitsTelemetry");d();d();d();var kne=new un;function d9e(e){return[...e].sort((t,r)=>{let n=kne.get(t.uri)??0;return(kne.get(r.uri)??0)-n})}s(d9e,"sortByAccessTimes");var m9e=s(e=>e.get(Vr).onDidFocusTextDocument(t=>{t&&kne.set(t.document.uri.toString(),Date.now())}),"registerDocumentTracker");var tU=class{constructor(t){this.docManager=t}static{s(this,"OpenTabFiles")}async truncateDocs(t,r,n,i){let o=new Map,a=0;for(let l of t)if(!(a+l.getText().length>Uv.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(l.uri.startsWith("file:")&&r.startsWith("file:")&&l.uri!==r&&rU(n,l.detectedLanguageId)&&(o.set(l.uri.toString(),{uri:l.uri.toString(),relativePath:this.docManager.getRelativePath(l),source:l.getText()}),a+=l.getText().length),o.size>=i))break;return o}async getNeighborFiles(t,r,n){let i=new Map,o=new Map;return i=await this.truncateDocs(d9e(await this.docManager.textDocuments()),t,r,n),o.set("opentabs",Array.from(i.keys()).map(a=>a.toString())),{docs:i,neighborSource:o}}};d();d();function h9e(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(i=>{setTimeout(i,t,r)})])}}s(h9e,"shortCircuit");d();function Bht(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}s(Bht,"defaultHash");function Bne(e,t={}){let{hash:r=Bht,cache:n=new Map}=t;return function(...i){let o=r.apply(this,i);if(n.has(o))return n.get(o);let a=e.apply(this,i);return a instanceof Promise&&(a=a.catch(l=>{throw n.delete(o),l})),n.set(o,a),a}}s(Bne,"memoize");var p9e={entries:[],traits:[]},nU={entries:new Map,traits:[]},Dne=class extends un{constructor(r,n=2*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}static{s(this,"LRUExpirationCacheMap")}bumpRetryCount(r){let n=this._cacheTimestamps.get(r);return n?++n.retryCount:(this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),0)}has(r){return this.isValid(r)?super.has(r):(this.deleteExpiredEntry(r),!1)}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){let i=super.set(r,n);return this.isValid(r)||this._cacheTimestamps.set(r,{timestamp:Date.now(),retryCount:0}),i}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n.timestamp<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.deleteKey(r)}},dl=new Gt("relatedFiles"),Dht=1e3,iU=class extends Error{static{s(this,"RelatedFilesProviderFailure")}constructor(){super("The provider failed providing the list of relatedFiles")}},qv=class e{constructor(t){this.context=t}static{s(this,"RelatedFilesProvider")}async getRelatedFiles(t,r,n){let i=await this.getRelatedFilesResponse(t,r,n);if(i===void 0)return;let o={entries:new Map,traits:i.traits??[]};for(let a of i.entries){let l=o.entries.get(a.type);l||(l=new Map,o.entries.set(a.type,l));for(let c of a.uris)try{dl.debug(this.context,`Processing ${c}`);let u=await this.getFileContent(c);if(!u||u.length==0){dl.debug(this.context,`Skip ${c} due to empty content or loading issue.`);continue}if(await this.isContentExcluded(c,u)){dl.debug(this.context,`Skip ${c} due content exclusion.`);continue}u=e.dropBOM(u),l.set(c,u)}catch(u){dl.warn(this.context,u)}}return o}async getFileContent(t){try{return this.context.get(vo).readFileString(t)}catch(r){dl.debug(this.context,r)}}async isContentExcluded(t,r){try{return(await this.context.get(Wc).evaluate(t,r)).isBlocked}catch(n){dl.exception(this.context,n,"isContentExcluded")}return!0}static dropBOM(t){return t.charCodeAt(0)===65279?t.slice(1):t}},Pht=3,g9e=new Dne(Dht);async function A9e(e,t,r,n,i){let o=performance.now(),a;try{a=await i.getRelatedFiles(t,r,n)}catch(c){dl.exception(e,c,".getRelatedFiles"),a=void 0}a===void 0&&(g9e.bumpRetryCount(t.uri)>=Pht?a=nU:a=void 0);let l=performance.now()-o;if(dl.debug(e,a!==void 0?`Fetched ${[...a.entries.values()].map(c=>c.size).reduce((c,u)=>c+u,0)} related files for '${t.uri}' in ${l}ms.`:`Failing fetching files for '${t.uri}' in ${l}ms.`),a===void 0)throw new iU;return a}s(A9e,"getRelatedFiles");var Pne=Bne(A9e,{cache:g9e,hash:s((e,t,r,n,i)=>`${t.uri}`,"hash")});Pne=h9e(Pne,200,nU);async function y9e(e,t,r,n,i,o=!1){let a=e.get(qv),l=nU;try{let c={uri:t.uri,clientLanguageId:t.clientLanguageId,data:i};l=o?await A9e(e,c,r,n,a):await Pne(e,c,r,n,a)}catch(c){l=nU,c instanceof iU&&jt(e,"getRelatedFilesList",r)}return eU("related.traits",e,u9e(l.traits),t.detectedLanguageId,t.clientLanguageId,r),dl.debug(e,l!=null?`Fetched following traits ${l.traits.map(c=>`{${c.name} : ${c.value}}`).join("")} for '${t.uri}'`:`Failing fecthing traits for '${t.uri}'.`),l}s(y9e,"getRelatedFilesAndTraits");function rU(e,t){return P_(e)===P_(t)}s(rU,"considerNeighborFile");var Uv=class e{static{s(this,"NeighborSource")}static{this.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5}static{this.MAX_NEIGHBOR_FILES=20}static{this.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"]}static defaultEmptyResult(){return{docs:new Map,neighborSource:new Map,traits:[]}}static reset(){e.instance=void 0}static async getNeighborFilesAndTraits(t,r,n,i,o,a,l){let c=t.get(Vr);e.instance===void 0&&(e.instance=new tU(c));let u=Wht(t,n,i),f=Uht(t,i),m=!u||f?{...await e.instance.getNeighborFiles(r,n,e.MAX_NEIGHBOR_FILES),traits:[]}:e.defaultEmptyResult(),h=await c.getTextDocument({uri:r});if(!h)return dl.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: failed to get the document ${r}`),m;let p=c.getWorkspaceFolder(h);if(!p)return dl.debug(t,"neighborFiles.getNeighborFilesAndTraits",`Failed to get the related files: ${r} is not under the workspace folder`),m;let g=await y9e(t,h,i,o,a,l);if(g.entries.size===0)return dl.debug(t,"neighborFiles.getNeighborFilesAndTraits",`0 related files found for ${r}`),m.traits.push(...g.traits),m;let y=u?e.defaultEmptyResult():m;return g.entries.forEach((x,b)=>{let E=[];x.forEach((_,k)=>{let B=e.getRelativePath(k,p.uri);if(!B||y.docs.has(k))return;let N={relativePath:B,uri:k,source:_};E.unshift(N),y.docs.set(k,N)}),E.length>0&&y.neighborSource.set(b,E.map(_=>_.uri.toString()))}),y.traits.push(...g.traits),y}static basename(t){return decodeURIComponent(t.replace(/[#?].*$/,"").replace(/^.*[/:]/,""))}static getRelativePath(t,r){let n=r.toString().replace(/[#?].*/,"").replace(/\/?$/,"/");return t.toString().startsWith(n)?t.toString().slice(n.length):e.basename(t)}},Nht=["cpp","c"],Lht=["typescript","javascript","typescriptreact","javascriptreact"],Fht=["csharp"];function Mht(e,t){return e.get(sr).excludeOpenTabFilesCSharp(t)||Mn(e,bt.ExcludeOpenTabFilesCSharp)}s(Mht,"isExcludeOpenTabFilesCSharpActive");function Qht(e,t){return e.get(sr).excludeOpenTabFilesCpp(t)||Mn(e,bt.ExcludeOpenTabFilesCpp)}s(Qht,"isExcludeOpenTabFilesCppActive");function Oht(e,t){return e.get(sr).excludeOpenTabFilesTypeScript(t)||Mn(e,bt.ExcludeOpenTabFilesTypeScript)}s(Oht,"isExcludeOpenTabFilesTypeScriptActive");function Uht(e,t){return e.get(sr).fallbackToOpenTabFilesWithNoRelatedFiles(t)||Mn(e,bt.FallbackToOpenTabFilesWithNoRelatedFiles)}s(Uht,"isFallbackToOpenTabFilesActive");var qht=new Map([...Nht.map(e=>[e,Qht]),...Lht.map(e=>[e,Oht]),...Fht.map(e=>[e,Mht])]);function Wht(e,t,r){let n=qht.get(t);return n?n(e,r):!1}s(Wht,"isExcludeOpenTabFilesActive");function C9e(e,t){return e.get(sr).includeNeighboringFiles(t)||Mn(e,bt.IncludeNeighboringFiles)}s(C9e,"isIncludeNeighborFilesActive");var x9e=s((e,t)=>{let[r,n]=t.useState(),[i,o]=t.useState([]),[a,l]=t.useState();t.useData(hu,async m=>{m.document.uri!==r?.uri&&o([]),n(m.document);let h=m.turnOffSimilarFiles?Uv.defaultEmptyResult():await Uv.getNeighborFilesAndTraits(e.ctx,m.document.uri,m.document.detectedLanguageId,m.telemetryData,m.cancellationToken,m.data),p=await c(m.telemetryData,m.document,m,h);o(p);let g=h.traits.filter(y=>y.includeInPrompt).map(f9e);l(f(g,m.document))});async function c(m,h,p,g){let y=oU(e.ctx,m,h.detectedLanguageId);return(await u(y,m,h,p,g)).filter(b=>b.snippet.length>0).sort((b,E)=>b.score-E.score).map(b=>({text:gve(b,h.detectedLanguageId),score:b.score}))}s(c,"produceSimilarFiles");async function u(m,h,p,g,y){let x=m.similarFilesOptions||_O(e.ctx,h,p.detectedLanguageId),E=e.ctx.get(Vr).getRelativePath(p),_={uri:p.uri,source:p.getText(),offset:p.offsetAt(g.position),relativePath:E,languageId:p.detectedLanguageId};return await Tve(_,Array.from(y.docs.values()),x)}s(u,"findSimilarSnippets");function f(m,h){if(m.length>0&&h!==void 0)return`Consider this related information:
`+m.map(p=>p.kind==="string"?p.value:`${p.name}: ${p.value}`).join(`
`)}return s(f,"produceTraitsText"),$n(IA,{children:[a!==void 0?$n(sa,{children:a}):void 0,...i.map((m,h)=>$n(Ght,{text:m.text}))]})},"SimilarFiles"),Ght=s((e,t)=>$n(sa,{children:e.text}),"SimilarFile");d();var v9e=s((e,t)=>{let[r,n]=t.useState(),[i,o]=t.useState();if(t.useData(hu,a=>{a.traits!==r&&n(a.traits);let l=P_(a.document.detectedLanguageId);l!==i&&o(l)}),!(!r||r.length===0||!i))return $n(IA,{children:[$n(sa,{children:`Consider this related information:
`}),...r.map(a=>$n(sa,{source:a,children:`${a.name}: ${a.value}`},a.id))]})},"Traits");d();d();d();var sU=class{constructor(t){this.states=t;this.currentIndex=0;this.stateChanged=!1}static{s(this,"UseState")}useState(t){let r=this.currentIndex;if(this.states[r]===void 0){let i=typeof t=="function"?t():t;this.states[r]=i}let n=s(i=>{let o=typeof i=="function"?i(this.states[r]):i;this.states[r]=o,this.stateChanged=!0},"setState");return this.currentIndex++,[this.states[r],n]}hasChanged(){return this.stateChanged}},aU=class{constructor(t){this.measureUpdateTime=t;this.consumers=[]}static{s(this,"UseData")}useData(t,r){this.consumers.push(n=>{if(t(n))return r(n)})}async updateData(t){if(this.consumers.length>0){let r=performance.now();for(let n of this.consumers)await n(t);this.measureUpdateTime(performance.now()-r)}}};var lU=class{constructor(t){this.lifecycleData=new Map;this.vTree=this.virtualizeElement(t,"$",0)}static{s(this,"VirtualPromptReconciler")}reconcile(t){if(!this.vTree)throw new Error("No tree to reconcile, make sure to pass a valid prompt");return t?.isCancellationRequested?this.vTree:(this.vTree=this.reconcileNode(this.vTree,"$",0,t),this.vTree)}reconcileNode(t,r,n,i){if(!t.children&&!t.lifecycle)return t;let o=t;if(t.lifecycle?.isRemountRequired()){let l=this.collectChildPaths(t);o=this.virtualizeElement(t.component,r,n);let c=this.collectChildPaths(o);this.cleanupState(l,c)}else if(t.children){let l=[];for(let c=0;c<t.children.length;c++){let u=t.children[c];if(u){let f=this.reconcileNode(u,t.path,c,i);f!==void 0&&l.push(f)}}o.children=l}return o}virtualizeElement(t,r,n){if(!(typeof t>"u")){if(typeof t=="string"||typeof t=="number")return{name:typeof t,path:`${r}[${n}]`,props:{value:t},component:t};if(Hht(t.type)){let i=t.type(t.props.children),o=r!=="$"?`[${n}]`:"",a=`${r}${o}.${i.type}`,l=i.children.map((c,u)=>this.virtualizeElement(c,a,u));return this.ensureUniqueKeys(l),{name:i.type,path:a,children:l.flat().filter(c=>c!==void 0),component:t}}return this.virtualizeFunctionComponent(r,n,t,t.type)}}virtualizeFunctionComponent(t,r,n,i){let o=n.props.key?`["${n.props.key}"]`:`[${r}]`,a=`${t}${o}.${i.name}`,l=new Lne(this.getOrCreateLifecycleData(a)),c=i(n.props,l),m=(Array.isArray(c)?c:[c]).map((h,p)=>this.virtualizeElement(h,a,p)).flat().filter(h=>h!==void 0);return this.ensureUniqueKeys(m),{name:i.name,path:a,props:n.props,children:m,component:n,lifecycle:l}}ensureUniqueKeys(t){let r=new Map;for(let i of t){if(!i)continue;let o=i.props?.key;o&&r.set(o,(r.get(o)||0)+1)}let n=Array.from(r.entries()).filter(([i,o])=>o>1).map(([i])=>i);if(n.length>0)throw new Error(`Duplicate keys found: ${n.join(", ")}`)}collectChildPaths(t){let r=[];if(t?.children)for(let n of t.children)n&&(r.push(n.path),r.push(...this.collectChildPaths(n)));return r}cleanupState(t,r){for(let n of t)r.includes(n)||this.lifecycleData.delete(n)}getOrCreateLifecycleData(t){return this.lifecycleData.has(t)||this.lifecycleData.set(t,new Nne([])),this.lifecycleData.get(t)}createPipe(){return{pump:s(async t=>{await this.pumpData(t)},"pump")}}async pumpData(t){if(!this.vTree)throw new Error("No tree to pump data into. Pumping data before initializing?");await this.recursivelyPumpData(t,this.vTree)}async recursivelyPumpData(t,r){if(!r)throw new Error("Can't pump data into undefined node.");await r.lifecycle?.dataHook.updateData(t);for(let n of r.children||[])await this.recursivelyPumpData(t,n)}},Nne=class{static{s(this,"PromptElementLifecycleData")}constructor(t){this.state=t,this._updateTimeMs=0}getUpdateTimeMsAndReset(){let t=this._updateTimeMs;return this._updateTimeMs=0,t}},Lne=class{constructor(t){this.lifecycleData=t;this.stateHook=new sU(t.state),this.dataHook=new aU(r=>{t._updateTimeMs=r})}static{s(this,"PromptElementLifecycle")}useState(t){return this.stateHook.useState(t)}useData(t,r){this.dataHook.useData(t,r)}isRemountRequired(){return this.stateHook.hasChanged()}};function Hht(e){return typeof e=="function"&&"isFragmentFunction"in e}s(Hht,"isFragmentFunction");var US=class{static{s(this,"VirtualPrompt")}constructor(t){this.reconciler=new lU(t)}snapshotNode(t,r){if(!t)return;if(r?.isCancellationRequested)return"cancelled";let n=[];for(let i of t.children??[]){let o=this.snapshotNode(i,r);if(o==="cancelled")return"cancelled";o!==void 0&&n.push(o)}return{value:t.props?.value?.toString(),name:t.name,path:t.path,props:t.props,children:n,statistics:{updateDataTimeMs:t.lifecycle?.lifecycleData.getUpdateTimeMsAndReset()}}}snapshot(t){try{let r=this.reconciler.reconcile(t);if(t?.isCancellationRequested)return{snapshot:void 0,status:"cancelled"};if(!r)throw new Error("Invalid virtual prompt tree");let n=this.snapshotNode(r,t);return n==="cancelled"||t?.isCancellationRequested?{snapshot:void 0,status:"cancelled"}:{snapshot:n,status:"ok"}}catch(r){return{snapshot:void 0,status:"error",error:r}}}createPipe(){return this.reconciler.createPipe()}};var Ih=class{static{s(this,"CompletionsPromptFactory")}};function cU(e,t){return new Fne(new Mne(new Qne(e,t)))}s(cU,"createCompletionsPromptFactory");var Fne=class extends Ih{constructor(r){super();this.delegate=r}static{s(this,"SequentialCompletionsPromptFactory")}prompt(r,n){return this.lastPromise=this.promptAsync(r,n),this.lastPromise}async promptAsync(r,n){if(await this.lastPromise,n?.isCancellationRequested)return r6;try{return await this.delegate.prompt(r,n)}catch{return One}}},jht=1200,Mne=class extends Ih{constructor(r){super();this.delegate=r}static{s(this,"TimeoutHandlingCompletionsPromptFactory")}async prompt(r,n){let i=new Fn.CancellationTokenSource,o=i.token;return n?.onCancellationRequested(()=>{i.cancel()}),await Promise.race([this.delegate.prompt(r,o),new Promise(a=>{setTimeout(()=>{i.cancel(),a(w9e)},jht)})])}};function hu(e){if(!e||typeof e!="object")return!1;let t=e;return!(!t.document||!t.position||t.position.line===void 0||t.position.character===void 0||!t.telemetryData)}s(hu,"isCompletionRequestData");var Qne=class extends Ih{constructor(r,n){super();this.ctx=r;this.renderer=new LO;this.virtualPrompt=n??new US(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe()}static{s(this,"ComponentsCompletionsPromptFactory")}async prompt(r,n){try{return await this.createPromptUnsafe(r,n)}catch(i){return this.errorPrompt(i)}}async createPromptUnsafe({completionId:r,completionState:n,telemetryData:i,promptOpts:o},a){let{maxPromptLength:l,suffixPercent:c,suffixMatchThreshold:u}=oU(this.ctx,i,n.textDocument.detectedLanguageId),f=await this.failFastPrompt(n.textDocument,n.position,c??0,a);if(f)return f;let m=performance.now(),{traits:h,codeSnippets:p,turnOffSimilarFiles:g,resolvedContextItems:y}=await this.resolveContext(r,n,i,a,o);if(await this.updateComponentData(n.textDocument,n.position,h,p,i,g,l??D_,a,o,u),a?.isCancellationRequested)return r6;let x=this.virtualPrompt.snapshot(a),b=x.status;if(b==="cancelled")return r6;if(b==="error")return this.errorPrompt(x.error);let E=this.renderer.render(x.snapshot,{delimiter:`
`,tokenizer:lo(),promptTokenLimit:l??D_,suffixPercent:c??sM,separateContext:o?.separateContext??!1,elisionStrategy:this.ctx.get(sr).completionsElisionStrategy(i),approximateElision:this.ctx.get(sr).approximateElision(i),languageId:n.textDocument.detectedLanguageId},a);if(E.status==="cancelled")return r6;if(E.status==="error")return this.errorPrompt(E.error);let[_,k]=n6(E.prefix),B={...E,prefix:_},N;if(Kre(this.ctx,i)){let te=D8e(E.metadata.componentStatistics);this.ctx.get(Dl).getStatisticsForCompletion(r).computeMatch(te),N=L8e(this.ctx,r,y),Wn.debug(this.ctx,`Context providers telemetry: '${JSON.stringify(N)}'`)}let M=performance.now();return this.resetIfEmpty(E),this.successPrompt(B,M,m,k,N)}async updateComponentData(r,n,i,o,a,l,c,u,f={},m){let h=this.createRequestData(r,n,a,u,f,c,i,o,l,m);await this.pipe.pump(h)}async resolveContext(r,n,i,o,a={}){let l=[],c,u,f=!1;if(Kre(this.ctx,i)){l=await this.ctx.get(jd).resolution(r);let{textDocument:m}=n,h=l.filter(F8e);Vht(this.ctx,m.detectedLanguageId,h,i)||(f=!0),c=c9e(this.ctx,r,h),eU("contextProvider.traits",this.ctx,c,m.detectedLanguageId,m.detectedLanguageId,i),u=await z8e(this.ctx,r,h,m.detectedLanguageId)}return{traits:c,codeSnippets:u,turnOffSimilarFiles:f,resolvedContextItems:l}}async failFastPrompt(r,n,i,o){if(o?.isCancellationRequested)return r6;if((await this.ctx.get(Wc).evaluate(r.uri,r.getText(),"UPDATE")).isBlocked)return T9e;if((i>0?r.getText().length:r.offsetAt(n))<E9e)return I9e}completionsPrompt(){return $n(IA,{children:[$n(one,{children:[$n(f6e,{ctx:this.ctx,weight:.7,expElidableTextWeight:.8}),$n(v9e,{weight:.6,expElidableTextWeight:.5}),$n(K8e,{ctx:this.ctx,weight:.9,expElidableTextWeight:.7}),$n(x9e,{ctx:this.ctx,weight:.8,expElidableTextWeight:.6}),$n(u6e,{ctx:this.ctx,by:a9e,children:$n(l9e,{ctx:this.ctx,weight:.99,expElidableTextWeight:.9})})]}),$n(RS,{weight:1,expElidableTextWeight:1})]})}createRequestData(r,n,i,o,a,l,c,u,f,m){return{document:r,position:n,telemetryData:i,cancellationToken:o,data:a.data,traits:c,codeSnippets:u,turnOffSimilarFiles:f,suffixMatchThreshold:m,maxPromptTokens:l}}resetIfEmpty(r){r.prefix.length===0&&r.suffix.length===0&&this.reset()}successPrompt(r,n,i,o,a){return{type:"prompt",prompt:{prefix:r.prefix,prefixTokens:r.prefixTokens,suffix:r.suffix,suffixTokens:r.suffixTokens,context:r.context,isFimEnabled:r.suffix.length>0},computeTimeMs:n-i,trailingWs:o,neighborSource:new Map,metadata:r.metadata,contextProvidersTelemetry:a}}errorPrompt(r){return Ia(this.ctx,r,"PromptComponents.CompletionsPromptFactory"),this.reset(),One}reset(){this.virtualPrompt=new US(this.completionsPrompt()),this.pipe=this.virtualPrompt.createPipe()}};function Vht(e,t,r,n){let i=["cpp","c"];return C9e(e,n)||i.includes(t)||!r.some(a=>a.data.some(l=>l.type==="CodeSnippet"))}s(Vht,"similarFilesEnabled");async function b9e(e){try{await gee}catch(t){SO(e,t,"initializeTokenizers")}}s(b9e,"waitForTokenizers");var E9e=10,I9e={type:"contextTooShort"},T9e={type:"copilotContentExclusion"},One={type:"promptError"},r6={type:"promptCancelled"},w9e={type:"promptTimeout"};function n6(e){let t=e.split(`
`),r=t[t.length-1],n=r.length-r.trimEnd().length,i=e.slice(0,e.length-n),o=e.slice(i.length);return[r.length==n?i:e,o]}s(n6,"trimLastLine");function i6(e,t,r,n,i,o={}){let l=e.get(Vr).findNotebook(r.textDocument),c=l?.getCellFor(r.textDocument);l&&c&&(r=zht(r,l,c)),n.extendWithConfigProperties(e),n.sanitizeKeys();let u=e.get(sr).enablePromptContextProxyField(n);return e.get(Ih).prompt({completionId:t,completionState:r,telemetryData:n,promptOpts:{...o,separateContext:u}},i)}s(i6,"extractPrompt");function $ht(e,t){let r=e.document.detectedLanguageId,n=e.document.getText();return r===t?n:NO(n,t)}s($ht,"addNeighboringCellsToPrompt");function zht(e,t,r){let i=t.getCells().filter(l=>l.index<r.index&&rU(r.document.detectedLanguageId,l.document.detectedLanguageId)),o=i.length>0?i.map(l=>$ht(l,r.document.detectedLanguageId)).join(`

`)+`

`:"",a={line:0,character:0};return e.applyEdits([{newText:o,range:{start:a,end:a}}])}s(zht,"applyEditsForNotebook");function oU(e,t,r){let i=e.get(sr).maxPromptCompletionTokens(t)-hO(e),o=V8e(t,r),a=_O(e,t,r),l={maxPromptLength:i,similarFilesOptions:a,numberOfSnippets:o},c=e.get(sr).suffixPercent(t),u=e.get(sr).suffixMatchThreshold(t);return c>0&&u>0&&(l={...l,suffixPercent:c,suffixMatchThreshold:u}),l}s(oU,"getPromptOptions");d();d();var _9e=2.98410452738298,S9e=-.838732736843507,R9e=1.50314646255716,k9e=-.237798634012662,uU={python:.314368072478742},B9e={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var Yht={link:s(e=>Math.exp(e)/(1+Math.exp(e)),"link"),unlink:s(e=>Math.log(e/(1-e)),"unlink")};function Kht(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),i=t.get(r),o=t.get(n);return o+(i-o)*(e-n)/(r-n)}s(Kht,"linearInterpolation");var o6=class{static{s(this,"Regressor")}constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(i=>i)}contribution(t){return this.coefficient*this.transformation(t)}},Une=class{constructor(t,r,n){this.link=Yht;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let i in n)this.logitsToQuantiles.set(n[i],Number(i))}static{s(this,"LogisticRegression")}predict(t,r){let n=this.intercept;for(let i of this.coefficients){let o=r[i.name];if(o===void 0)return NaN;n+=i.contribution(o)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return Kht(n,this.logitsToQuantiles)}},D9e=new Une(_9e,[new o6("compCharLen",S9e,e=>Math.log(1+e)),new o6("meanLogProb",R9e),new o6("meanAlternativeLogProb",k9e)].concat(Object.entries(uU).map(e=>new o6(e[0],e[1]))),B9e);function P9e(e,t){let r={...t.measurements};return Object.keys(uU).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),D9e.predict(e,r)}s(P9e,"ghostTextScoreConfidence");function N9e(e,t){let r={...t.measurements};return Object.keys(uU).forEach(n=>{r[n]=t.properties["customDimensions.languageId"]==n?1:0}),D9e.quantile(e,r)}s(N9e,"ghostTextScoreQuantile");d();d();var Jht=[{max_token_sequence_length:1,last_tokens_to_consider:10},{max_token_sequence_length:10,last_tokens_to_consider:30},{max_token_sequence_length:20,last_tokens_to_consider:45},{max_token_sequence_length:30,last_tokens_to_consider:60}];function fU(e){let t=e.slice();return t.reverse(),L9e(t)||L9e(t.filter(r=>r.trim().length>0))}s(fU,"isRepetitive");function L9e(e){let t=Xht(e);for(let r of Jht){if(e.length<r.last_tokens_to_consider)continue;if(r.last_tokens_to_consider-1-t[r.last_tokens_to_consider-1]<=r.max_token_sequence_length)return!0}return!1}s(L9e,"isRepeatedPattern");function Xht(e){let t=Array(e.length).fill(0);t[0]=-1;let r=-1;for(let n=1;n<e.length;n++){for(;r>=0&&e[r+1]!==e[n];)r=t[r];e[r+1]===e[n]&&r++,t[n]=r}return t}s(Xht,"kmp_prefix_function");function Zht(e,t,r,n){let i="}";try{i=Eve(t.detectedLanguageId)??"}"}catch{}return ept({getLineText:s(o=>t.lineAt(o).text,"getLineText"),getLineCount:s(()=>t.lineCount,"getLineCount")},r,n,i)}s(Zht,"maybeSnipCompletion");function ept(e,t,r,n){let i=tpt(r),o=i.lines;if(o.length===1)return r;for(let a=1;a<o.length;a++){let l=!0,c=0,u=0;for(let f=0;f+a+u<o.length;f++){let m;for(;;){let y=t.line+1+f+c;if(m=y>=e.getLineCount()?void 0:e.getLineText(y),m!==void 0&&m.trim()==="")c++;else break}let h,p;for(;h=a+f+u,p=h>=o.length?void 0:o[h],p!==void 0&&p.trim()==="";)u++;let g=h===o.length-1;if(!p||!(m&&(g?m.startsWith(p)||p.startsWith(m):m===p&&p.trim()===n))){l=!1;break}}if(l)return o.slice(0,a).join(i.newLineCharacter)}return r}s(ept,"maybeSnipCompletionImpl");function tpt(e){let t=e.includes(`\r
`)?`\r
`:`
`;return{lines:e.split(t),newLineCharacter:t}}s(tpt,"splitByNewLine");function rpt(e,t,r,n){let i="",o=t.line+1,a=n?r.trim():r;for(;i===""&&o<e.lineCount;){if(i=e.lineAt(o).text,n&&(i=i.trim()),i===a)return!0;o++}return!1}s(rpt,"matchesNextLine");function qS(e,t,r,n,i,o){if(fU(n.tokens)){let l=dn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),jt(e,"repetition.detected",l,1),o.info(e,"Filtered out repetitive solution");return}let a={...n};if(rpt(t,r,a.completionText,!i)){let l=dn.createAndMarkAsIssued();l.extendWithRequestId(n.requestId),jt(e,"completion.alreadyInDocument",l),jt(e,"completion.alreadyInDocument",l.extendedBy({completionTextJson:JSON.stringify(a.completionText)}),1),o.info(e,"Filtered out solution matching next line");return}return a.completionText=Zht(e,t,r,a.completionText),a.completionText?a:void 0}s(qS,"postProcessChoiceInContext");function F9e(e,t,r){let i=e.lineAt(t.line).text.substring(t.character);if(i.length>0){if(r.completionText.indexOf(i)!==-1)return i.length;{let o=-1,a=0;for(let l of i){let c=r.completionText.indexOf(l,o+1);if(c>o)a++,o=c;else break}return a}}return 0}s(F9e,"checkSuffix");var O9e=Ze(t5());var Ni=new Gt("ghostText");async function U9e(e,t,r,n,i,o,a){Ni.debug(e,`Getting ${o} from network`),r=r.extendedBy();let l=t.isCycling?3:1,c=U8(e,l),u={language:t.languageId,next_indent:t.indentation.next??0,trim_by_indentation:Rve(t.blockMode),prompt_tokens:t.prompt.prefixTokens??0,suffix_tokens:t.prompt.suffixTokens??0},f={stream:!0,n:l,temperature:c,extra:u},m=Mn(e,bt.ModelAlwaysTerminatesSingleline)??e.get(sr).modelAlwaysTerminatesSingleline(r),h=t.blockMode==="moremultiline"&&H5.isSupported(t.languageId)&&!m;!t.multiline&&!h?f.stop=[`
`]:t.stop&&(f.stop=t.stop);let p=Date.now(),g={endpoint:"completions",uiKind:"ghostText",temperature:JSON.stringify(c),n:JSON.stringify(l),stop:JSON.stringify(f.stop)??"unset",logit_bias:JSON.stringify(f.logit_bias??null)};Object.assign(r.properties,g);try{let y={prompt:t.prompt,languageId:t.languageId,repoInfo:t.repoInfo,ourRequestId:t.ourRequestId,engineModelId:t.engineModelId,count:l,uiKind:"ghostText",postOptions:f,headers:t.headers},x=await e.get(mu).fetchAndStreamCompletions(e,y,r,i,n);return x.type==="failed"?{type:"failed",reason:x.reason,telemetryData:Xs(r)}:x.type==="canceled"?(Ni.debug(e,"Cancelled after awaiting fetchCompletions"),{type:"canceled",reason:x.reason,telemetryData:ug(r)}):a(p,x.getProcessingTime(),x.choices)}catch(y){if(Rc(y))return{type:"canceled",reason:"network request aborted",telemetryData:ug(r,{cancelledNetworkRequest:!0})};if(Ni.exception(e,y,"Error on ghost text request"),e.get(iu).notifyUser(e,y),VI(e))throw y;return{type:"failed",reason:"non-abort error on ghost text request",telemetryData:Xs(r)}}}s(U9e,"genericGetCompletionsFromNetwork");function qne(e,t,r){if(r||(r=[]),e.completionText=e.completionText.trimEnd(),!!e.completionText&&r.findIndex(n=>n.completionText.trim()===e.completionText.trim())===-1)return t.requestForNextLine&&(e.completionText=`
`+e.completionText),e}s(qne,"postProcessChoices");async function opt(e,t,r,n,i){return U9e(e,t,r,n,i,"completions",async(o,a,l)=>{let u=await l[Symbol.asyncIterator]().next();if(u.done)return Ni.debug(e,"All choices redacted"),{type:"empty",reason:"all choices redacted",telemetryData:Xs(r)};if(n?.isCancellationRequested)return Ni.debug(e,"Cancelled after awaiting redactedChoices iterator"),{type:"canceled",reason:"after awaiting redactedChoices iterator",telemetryData:ug(r)};let f=u.value;if(f===void 0)return Ni.debug(e,"Got undefined choice from redactedChoices iterator"),{type:"empty",reason:"got undefined choice from redactedChoices iterator",telemetryData:Xs(r)};W9e(e,"performance",f,o,a),Ni.debug(e,`Awaited first result, id:  ${f.choiceIndex}`);let m=qne(f,t);m&&(mU(e,t,{multiline:t.multiline,choices:[m]},r),Ni.debug(e,`GhostText first completion (index ${m?.choiceIndex}): ${JSON.stringify(m?.completionText)}`));let h=(async()=>{let p=m!==void 0?[m]:[];for await(let g of l){if(g===void 0)continue;Ni.debug(e,`GhostText later completion (index ${g?.choiceIndex}): ${JSON.stringify(g.completionText)}`);let y=qne(g,t,p);y&&(p.push(y),mU(e,t,{multiline:t.multiline,choices:[y]},r))}})();return oh(e)&&await h,m?{type:"success",value:[dU(m,{forceSingleLine:!1}),h],telemetryData:Xs(r),telemetryBlob:r,resultType:0}:{type:"empty",reason:"got undefined processedFirstChoice",telemetryData:Xs(r)}})}s(opt,"getCompletionsFromNetwork");async function spt(e,t,r,n,i){return U9e(e,t,r,n,i,"all completions",async(o,a,l)=>{let c=[];for await(let u of l){if(n?.isCancellationRequested)return Ni.debug(e,"Cancelled after awaiting choices iterator"),{type:"canceled",reason:"after awaiting choices iterator",telemetryData:ug(r)};let f=qne(u,t,c);f&&c.push(f)}return c.length>0&&(mU(e,t,{multiline:t.multiline,choices:c},r),W9e(e,"cyclingPerformance",c[0],o,a)),{type:"success",value:[c,Promise.resolve()],telemetryData:Xs(r),telemetryBlob:r,resultType:3}})}s(spt,"getAllCompletionsFromNetwork");function dU(e,t){let r={...e};if(t.forceSingleLine){let{completionText:n}=r,i=n.match(/^\r?\n/);i?r.completionText=i[0]+n.split(`
`)[1]:r.completionText=n.split(`
`)[0]}return r}s(dU,"makeGhostAPIChoice");function M9e(e){return t=>{let r=t?.split(`
`)??[];if(r.length>e+1)return r.slice(0,e+1).join(`
`).length}}s(M9e,"takeNLines");async function apt(e,t,r,n,i,o,a,l,c){let u=e.get(mh).forLanguage(e,t.textDocument.detectedLanguageId,c);switch(u){case"server":return o&&l?{blockMode:"parsing",requestMultiline:!0,finishedCb:M9e(1),stop:[`

`]}:{blockMode:"server",requestMultiline:!0,finishedCb:s(f=>{},"finishedCb")};case"parsing":case"parsingandserver":case"moremultiline":default:{let f;try{f=await ppt(e,u,t.textDocument,t.position,i,o,a,r)}catch(m){Ni.exception(e,m,".getGhostTextStrategy"),f={requestMultiline:!1}}if(f.requestMultiline){let m;return r.trailingWs.length>0&&!r.prompt.prefix.endsWith(r.trailingWs)?m=No.position(t.position.line,Math.max(t.position.character-r.trailingWs.length,0)):m=t.position,{blockMode:u,requestMultiline:!0,finishedCb:Q9e(e,u,t.textDocument,m,f.blockPosition,a,!0,r.prompt,c)}}return o&&l?{blockMode:"parsing",requestMultiline:!0,finishedCb:M9e(1),stop:[`

`]}:{blockMode:u,requestMultiline:!1,finishedCb:Q9e(e,u,t.textDocument,t.position,f.blockPosition,a,!1,r.prompt,c)}}}}s(apt,"getGhostTextStrategy");function Q9e(e,t,r,n,i,o,a,l,c){if(t==="moremultiline"&&H5.isSupported(r.detectedLanguageId)){let u=r.getText(No.range(No.position(0,0),n))+(o?`
`:""),f=i==="empty-block"||i==="block-end"?e.get(sr).longLookaheadSize(c):e.get(sr).shortLookaheadSize(c);return new pO(e,u,r.detectedLanguageId,!a,f,(m,h)=>{let p={prefix:u+m,prompt:{...l,prefix:l.prefix+m}};mU(e,p,{multiline:!0,choices:[h]},h.telemetryData)}).getFinishedCallback()}return a?_S(e,r,n,o):u=>{}}s(Q9e,"buildFinishedCallback");var lpt={isCycling:!1,promptOnly:!1,isSpeculative:!1};async function cpt(e,t,r,n,i,o){let a=n.issuedTime,l=[];function c(_){let k=ia();l.push([_,k-a]),a=k}s(c,"recordPerformance"),c("telemetry");let u={...lpt,...o},f=e.get($d),m=f.clientCompletionId,h=e.get(sr);if(i?.isCancellationRequested)return{type:"abortedBeforeIssued",reason:"cancelled before extractPrompt",telemetryData:Xs(n)};let p=fpt(t.textDocument,t.position);if(p===void 0)return Ni.debug(e,"Breaking, invalid middle of the line"),{type:"abortedBeforeIssued",reason:"Invalid middle of the line",telemetryData:Xs(n)};let g=e.get(vh).isEnabled(n)?e.get(vh):void 0,y=i,x=new Fn.CancellationTokenSource;g&&(i=x.token);let b=await i6(e,r,t,n,i,u);return c("prompt"),b.type==="copilotContentExclusion"?(Ni.debug(e,"Copilot not available, due to content exclusion"),{type:"abortedBeforeIssued",reason:"Copilot not available due to content exclusion",telemetryData:Xs(n)}):b.type==="contextTooShort"?(Ni.debug(e,"Breaking, not enough context"),{type:"abortedBeforeIssued",reason:"Not enough context",telemetryData:Xs(n)}):b.type==="promptError"?(Ni.debug(e,"Error while building the prompt"),{type:"abortedBeforeIssued",reason:"Error while building the prompt",telemetryData:Xs(n)}):u.promptOnly?{type:"promptOnly",reason:"Breaking, promptOnly set to true",prompt:b}:b.type==="promptCancelled"?(Ni.debug(e,"Cancelled during extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled during extractPrompt",telemetryData:Xs(n)}):b.type==="promptTimeout"?(Ni.debug(e,"Timeout during extractPrompt"),{type:"abortedBeforeIssued",reason:"Timeout",telemetryData:Xs(n)}):b.prompt.prefix.length===0&&b.prompt.suffix.length===0?(Ni.debug(e,"Error empty prompt"),{type:"abortedBeforeIssued",reason:"Empty prompt",telemetryData:Xs(n)}):i?.isCancellationRequested?(Ni.debug(e,"Cancelled after extractPrompt"),{type:"abortedBeforeIssued",reason:"Cancelled after extractPrompt",telemetryData:Xs(n)}):e.get(zi).withProgress(async()=>{let[_]=n6(t.textDocument.getText(No.range(No.position(0,0),t.position))),k=h.triggerCompletionAfterAccept(n),B=e.get($d).hasAcceptedCurrentCompletion(_,b.prompt.suffix),N=Mn(e,bt.MultilineAfterAccept)??h.enableMultilineAfterAccept(n),M=k&&!N?B:void 0,te=b.prompt;M&&(b.prompt={...b.prompt,prefix:b.prompt.prefix+`
`});let de=await apt(e,t,b,u.isCycling,p,B,M??!1,N,n);if(c("strategy"),i?.isCancellationRequested)return Ni.debug(e,"Cancelled after requestMultiline"),{type:"abortedBeforeIssued",reason:"Cancelled after requestMultiline",telemetryData:Xs(n)};let Z=upt(e,_,te,de.requestMultiline,n);c("cache");let G=R5(e,t.textDocument.uri),q=S5(e,n),ie={blockMode:de.blockMode,languageId:t.textDocument.detectedLanguageId,repoInfo:G,engineModelId:q.modelId,ourRequestId:r,prefix:_,prompt:b.prompt,multiline:de.requestMultiline,indentation:SS(t.textDocument,t.position),isCycling:u.isCycling,headers:q.headers,requestForNextLine:M,stop:de.stop};ie.headers={...ie.headers,"X-Copilot-Async":g?"true":"false","X-Copilot-Speculative":u.isSpeculative?"true":"false"};let z=bpt(e,t.textDocument,ie,t.position,b,n,q,u),j=Mn(e,bt.EnableSpeculativeRequests),U=h.enableSpeculativeRequests(n),V=(j??U)&&!u.isSpeculative&&!u.isCycling,K=Promise.resolve();if(g&&Z===void 0&&!u.isCycling&&g.shouldWaitForAsyncCompletions(_,b.prompt)){let be=await g.getFirstMatchingRequestWithTimeout(r,_,b.prompt,u.isSpeculative,z);if(c("asyncWait"),be){let qe=!de.requestMultiline;Z=[[dU(be[0],{forceSingleLine:qe})],4],K=be[1]}if(y?.isCancellationRequested)return Ni.debug(e,"Cancelled before requesting a new completion"),{type:"abortedBeforeIssued",reason:"Cancelled after waiting for async completion",telemetryData:Xs(z)}}let ae=de.blockMode==="moremultiline"&&H5.isSupported(t.textDocument.detectedLanguageId);if(Z!==void 0&&(Z[0]=Z[0].map(be=>qS(e,t.textDocument,t.position,be,ae,Ni)).filter(be=>be!==void 0)),Z!==void 0&&Z[0].length===0)return Ni.debug(e,`Found empty inline suggestions locally via ${q8(Z[1])}`),{type:"empty",reason:"cached results empty after post-processing",telemetryData:Xs(z)};if(Z!==void 0&&Z[0].length>0&&(!u.isCycling||Z[0].length>1))Ni.debug(e,`Found inline suggestions locally via ${q8(Z[1])}`);else{if(u.isCycling){let be=await spt(e,ie,z,i,de.finishedCb);if(be.type==="success"){let qe=Z?.[0]??[];be.value[0].forEach(Re=>{qe.findIndex(Xe=>Xe.completionText.trim()===Re.completionText.trim())===-1&&qe.push(Re)}),Z=[qe,3]}else if(Z===void 0)return be}else{if(i?.isCancellationRequested)return Ni.debug(e,"Cancelled before contextual filter"),{type:"canceled",reason:"before contextual filter",telemetryData:ug(z)};if(!h.disableContextualFilter(n)&&z.measurements.contextualFilterScore<35/100)return Ni.debug(e,"Cancelled by contextual filter"),{type:"canceled",reason:"contextualFilterScore below threshold",telemetryData:ug(z)};let be=g?(Re,Xe)=>(g.updateCompletion(r,Re),de.finishedCb(Re,Xe)):de.finishedCb,qe=opt(e,ie,z,i,be);if(g){g.queueCompletionRequest(r,_,b.prompt,x,qe);let Re=await g.getFirstMatchingRequest(r,_,b.prompt,u.isSpeculative);if(Re===void 0)return{type:"empty",reason:"received no results from async completions",telemetryData:Xs(z)};Z=[[Re[0]],4],K=Re[1]}else{let Re=await qe;if(Re.type!=="success")return Re;Z=[[Re.value[0]],0],K=Re.value[1]}}c("network")}if(Z===void 0)return{type:"failed",reason:"internal error: choices should be defined after network call",telemetryData:Xs(z)};let[re,le]=Z,ce=re.map(be=>qS(e,t.textDocument,t.position,be,ae,Ni)).filter(be=>be!==void 0),De=[];for(let be of ce){let qe=vpt(e,t.textDocument,ie,be,z),Re=p?F9e(t.textDocument,t.position,be):0,ft={completion:Apt(be.choiceIndex,be.completionText,b.trailingWs),telemetry:qe,isMiddleOfTheLine:p,suffixCoverage:Re,copilotAnnotations:be.copilotAnnotations};De.push(ft)}if(y?.isCancellationRequested)return Ni.debug(e,"Cancelled after post processing completions"),{type:"canceled",reason:"after post processing completions",telemetryData:ug(z)};if(z.properties.clientCompletionId=De?.[0]?.telemetry?.properties.clientCompletionId,z.measurements.foundOffset=De?.[0]?.telemetry?.measurements?.foundOffset??-1,Ni.debug(e,`Produced ${De.length} results from ${q8(le)} at ${z.measurements.foundOffset} offset`),m!==f.clientCompletionId){let be=f.getCompletionsForUserTyping(_,b.prompt.suffix);if(be&&be.length>0)return Ni.debug(e,"Current completion changed before returning"),{type:"canceled",reason:"current completion changed before returning",telemetryData:ug(z)}}if(V&&De.length>0&&le!==2){t=t.applyEdits([{newText:De[0].completion.completionText,range:{start:t.position,end:t.position}}]);let be=new Fn.CancellationTokenSource().token;K.then(()=>{Wne(e,t,be,{isSpeculative:!0,opportunityId:u.opportunityId})})}return u.isSpeculative||f.setGhostText(_,b.prompt.suffix,ce,le),c("complete"),{type:"success",value:[De,le],telemetryData:Xs(z),telemetryBlob:z,resultType:le,performanceMetrics:l}})}s(cpt,"getGhostTextWithoutAbortHandling");async function Wne(e,t,r,n){let i=_r(),o=await xpt(e,t.textDocument,i,n);try{return e.get(jd).schedule(t,i,o,r,n),await cpt(e,t,i,o,r,n)}catch(a){if(Rc(a))return{type:"canceled",reason:"aborted at unknown location",telemetryData:ug(o,{cancelledNetworkRequest:!0})};throw a}}s(Wne,"getGhostText");function upt(e,t,r,n,i){let o=e.get($d).getCompletionsForUserTyping(t,r.suffix),a=Cpt(e,t,r,n,i);if(o&&o.length>0){let l=(a??[]).filter(c=>!o.some(u=>u.completionText===c.completionText));return[o.concat(l),2]}if(a&&a.length>0)return[a,1]}s(upt,"getLocalInlineSuggestion");function fpt(e,t){let r=dpt(t,e),n=mpt(t,e);return r&&!n?void 0:r&&n}s(fpt,"isInlineSuggestion");function dpt(e,t){return t.lineAt(e).text.substr(e.character).trim().length!=0}s(dpt,"isMiddleOfTheLine");function mpt(e,t){let n=t.lineAt(e).text.substr(e.character).trim();return/^\s*[)>}\]"'`]*\s*[:{;,]?\s*$/.test(n)}s(mpt,"isValidMiddleOfTheLinePosition");function hpt(e,t){return t.lineAt(e).text.trim().length===0}s(hpt,"isNewLine");var SA=class e{constructor(t=!1){this.requestMultilineOverride=t}static{s(this,"ForceMultiLine")}static{this.default=new e}};async function ppt(e,t,r,n,i,o,a,l){if(e.get(SA).requestMultilineOverride)return{requestMultiline:!0};if(r.lineCount>=8e3)jt(e,"ghostText.longFileMultilineSkip",dn.createAndMarkAsIssued({languageId:r.detectedLanguageId,lineCount:String(r.lineCount),currentLine:String(n.line)}));else{if(t=="moremultiline"&&H5.isSupported(r.detectedLanguageId)){let f=await JIe(r,n);return o||f==="empty-block"?{requestMultiline:!0,blockPosition:f}:{requestMultiline:!1,blockPosition:f}}if(a){let f=SS(r,n),m=f.current>0?r.lineAt(n).text[0]:void 0,h={range:{start:n,end:n},newText:`
`+(m?m.repeat(f.current):"")};r=r.applyEdits([h])}if(["typescript","typescriptreact"].includes(r.detectedLanguageId)&&hpt(n,r))return{requestMultiline:!0};let u=!1;return!i&&lf(r.detectedLanguageId)?u=await wO(r,n):i&&lf(r.detectedLanguageId)&&(u=await wO(r,n)||await wO(r,r.lineAt(n).range.end)),u||["javascript","javascriptreact","python"].includes(r.detectedLanguageId)&&(u=t8e(l.prompt,r.detectedLanguageId)>.5),{requestMultiline:u}}return{requestMultiline:!1}}s(ppt,"shouldRequestMultiline");function mU(e,t,r,n){if(Mn(e,bt.EnablePrefixCache)??e.get(sr).enablePrefixCompletionsCache(n)){e.get(bh).append(t.prefix,r.choices);return}let i={...t.prompt};t.requestForNextLine&&(i.prefix=i.prefix.slice(0,-1));let o=nJ(i),a=e.get(gf).get(o);a&&a.multiline===r.multiline?e.get(gf).set(o,{multiline:a.multiline,choices:a.choices.concat(r.choices)}):e.get(gf).set(o,r),Ni.debug(e,`Appended ${r.choices.length} cached ghost text for key: ${o}, multiline: ${r.multiline}, total number of suggestions: ${(a?.choices.length??0)+r.choices.length}`)}s(mU,"appendToCache");function gpt(e,t,r){let n=e.get(gf).get(t);if(n&&!(r&&!n.multiline))return n.choices}s(gpt,"getCachedChoices");function Apt(e,t,r){if(r.length>0){if(t.startsWith(r))return{completionIndex:e,completionText:t,displayText:t.substring(r.length),displayNeedsWsOffset:!1};{let n=t.substring(0,t.length-t.trimStart().length);return r.startsWith(n)?{completionIndex:e,completionText:t,displayText:t.trimStart(),displayNeedsWsOffset:!0}:{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}}else return{completionIndex:e,completionText:t,displayText:t,displayNeedsWsOffset:!1}}s(Apt,"adjustLeadingWhitespace");var ypt=50;function Cpt(e,t,r,n,i){if(Mn(e,bt.EnablePrefixCache)??e.get(sr).enablePrefixCompletionsCache(i)){let o=e.get(bh).findAll(t);return o.length===0?(Ni.debug(e,"Found no completions in prefix cache"),[]):(Ni.debug(e,`Found ${o.length} completions in prefix cache`),o.map(a=>dU(a,{forceSingleLine:!n})))}for(let o=0;o<ypt;o++){let a=[],l=r.prefix.substring(0,r.prefix.length-o),c=nJ({prefix:l,suffix:r.suffix}),u=gpt(e,c,n);if(!u)continue;Ni.debug(e,`Got completions from cache at ${o} characters back for key: ${c}, multiline: ${n}`);let f=r.prefix.substring(l.length);for(let m of u){let h=m.completionText;if(!h.startsWith(f)||h.length<=f.length)continue;h=h.substring(f.length);let p=dU({...m,completionText:h},{forceSingleLine:!n});p.telemetryData.measurements.foundOffset=o,p.completionText!==""&&a.push(p)}if(Ni.debug(e,`Found ${a.length} matching completions from cache at ${o} characters back`),a.length>0)return a}return[]}s(Cpt,"getCompletionsFromCache");async function xpt(e,t,r,n){let i={headerRequestId:r};n?.opportunityId&&(i.opportunityId=n.opportunityId),n?.selectedCompletionInfo?.text&&(i.completionsActive="true"),n?.isSpeculative&&(i.reason="speculative");let o=dn.createAndMarkAsIssued(i);return await e.get(sr).updateExPValuesAndAssignments({uri:t.uri,languageId:t.detectedLanguageId},o)}s(xpt,"createTelemetryWithExp");function vpt(e,t,r,n,i){let o=n.requestId,a={choiceIndex:n.choiceIndex.toString(),clientCompletionId:n.clientCompletionId};n.generatedChoiceIndex!==void 0&&(a.originalChoiceIndex=a.choiceIndex,a.choiceIndex=(1e4*(n.generatedChoiceIndex+1)+n.choiceIndex).toString());let l=n.completionText.split(`
`).length,c={compCharLen:n.completionText.length,numLines:r.requestForNextLine?l-1:l};n.meanLogProb&&(c.meanLogProb=n.meanLogProb),n.meanAlternativeLogProb&&(c.meanAlternativeLogProb=n.meanAlternativeLogProb);let u=n.telemetryData.extendedBy(a,c);return u.issuedTime=i.issuedTime,u.measurements.timeToProduceMs=performance.now()-i.issuedTime,q9e(u,t),u.extendWithRequestId(o),u.measurements.confidence=P9e(e,u),u.measurements.quantile=N9e(e,u),Ni.debug(e,`Extended telemetry for ${n.telemetryData.properties.headerRequestId} with retention confidence ${u.measurements.confidence} (expected as good or better than about ${u.measurements.quantile} of all suggestions)`),u}s(vpt,"telemetryWithAddData");function bpt(e,t,r,n,i,o,a,l){let c={languageId:t.detectedLanguageId};r.requestForNextLine!==void 0&&(c.requestForNextLine=r.requestForNextLine.toString()),c.isSpeculative=l.isSpeculative.toString();let u=o.extendedBy(c);q9e(u,t);let f=r.repoInfo;u.properties.gitRepoInformation=f===void 0?"unavailable":f===0?"pending":"available",f!==void 0&&f!==0&&(u.properties.gitRepoUrl=f.url,u.properties.gitRepoHost=f.hostname,u.properties.gitRepoOwner=f.owner,u.properties.gitRepoName=f.repo,u.properties.gitRepoPath=f.pathname),u.properties.engineName=a.modelId,u.properties.engineChoiceSource=a.engineChoiceSource,u.properties.isMultiline=JSON.stringify(r.multiline),u.properties.isCycling=JSON.stringify(r.isCycling);let m=t.lineAt(n.line),h=t.getText(No.range(m.range.start,n)),p=t.getText(No.range(n,m.range.end)),g=Array.from(i.neighborSource.entries()).map(E=>[E[0],E[1].map(_=>(0,O9e.SHA256)(_).toString())]),y={beforeCursorWhitespace:JSON.stringify(h.trim()===""),afterCursorWhitespace:JSON.stringify(p.trim()===""),neighborSource:JSON.stringify(g),blockMode:r.blockMode},x={...e8(i.prompt),promptEndPos:t.offsetAt(n),promptComputeTimeMs:i.computeTimeMs};i.metadata&&(y.promptMetadata=JSON.stringify(i.metadata)),i.contextProvidersTelemetry&&(y.contextProviders=JSON.stringify(i.contextProvidersTelemetry));let b=u.extendedBy(y,x);return b.measurements.contextualFilterScore=KIe(e,b,i.prompt),jt(e,"ghostText.issued",b),u}s(bpt,"telemetryIssued");function q9e(e,t){e.measurements.documentLength=t.getText().length,e.measurements.documentLineCount=t.lineCount}s(q9e,"addDocumentTelemetry");function W9e(e,t,r,n,i){let o=Date.now()-n,a=o-i,l=r.telemetryData.extendedBy({},{completionCharLen:r.completionText.length,requestTimeMs:o,processingTimeMs:i,deltaMs:a,meanLogProb:r.meanLogProb||NaN,meanAlternativeLogProb:r.meanAlternativeLogProb||NaN});l.extendWithRequestId(r.requestId),jt(e,`ghostText.${t}`,l)}s(W9e,"telemetryPerformance");var $d=class{constructor(){this.choices=[]}static{s(this,"CurrentGhostText")}get clientCompletionId(){return this.choices[0]?.clientCompletionId}setGhostText(t,r,n,i){i!==2&&(this.prefix=t,this.suffix=r,this.choices=n)}getCompletionsForUserTyping(t,r){let n=this.getRemainingPrefix(t,r);if(n!==void 0&&G9e(this.choices[0].completionText,n))return Ept(this.choices,n)}hasAcceptedCurrentCompletion(t,r){let n=this.getRemainingPrefix(t,r);if(n===void 0)return!1;let i=n===this.choices?.[0].completionText,o=this.choices?.[0].finishReason;return i&&o==="stop"}getRemainingPrefix(t,r){if(!(this.prefix===void 0||this.suffix===void 0||this.choices.length===0)&&this.suffix===r&&t.startsWith(this.prefix))return t.substring(this.prefix.length)}};function Ept(e,t){return e.filter(r=>G9e(r.completionText,t)).map(r=>({...r,completionText:r.completionText.substring(t.length)}))}s(Ept,"adjustChoicesStart");function G9e(e,t){return e.startsWith(t)&&e.length>t.length}s(G9e,"startsWithAndExceeds");d();d();d();var Wv=class{constructor(t,r,n){this._referenceCount=0;this._isDisposed=!1;this._offset=n;let i=t.get(Vr);this._tracker=i.onDidChangeTextDocument(o=>{if(o.document.uri===r){for(let a of o.contentChanges)if(a.rangeOffset+a.rangeLength<=this.offset){let l=a.text.length-a.rangeLength;this._offset=this._offset+l}}})}static{s(this,"ChangeTracker")}get offset(){return this._offset}push(t,r){if(this._isDisposed)throw new Error("Unable to push new actions to a disposed ChangeTracker");this._referenceCount++,setTimeout(()=>{t(),this._referenceCount--,this._referenceCount===0&&(this._tracker.dispose(),this._isDisposed=!0)},r)}};d();var Gne=class e{constructor(t,r,n=[],i,o,a){this._textDocument=t;this._position=r;this.originalPosition=i??Fn.Position.create(r.line,r.character),this.originalVersion=o??t.version,this.originalOffset=a??t.offsetAt(this.originalPosition),this._editsWithPosition=[...n]}static{s(this,"CompletionState")}get textDocument(){return this._textDocument}get position(){return this._position}get editsWithPosition(){return[...this._editsWithPosition]}updateState(t,r,n){return new e(t,r,n??this.editsWithPosition,this.originalPosition,this.originalVersion,this.originalOffset)}updatePosition(t){return this.updateState(this._textDocument,t)}addSelectedCompletionInfo(t){if(this.editsWithPosition.find(n=>n.source==="selectedCompletionInfo"))throw new Error("Selected completion info already applied");let r={range:t.range,newText:t.text};return this.applyEdits([r],!0)}applyEdits(t,r=!1){if(r&&t.length>1)throw new Error("Selected completion info should be a single edit");let n=this._textDocument,i=this._position,o=n.offsetAt(i),a=this.editsWithPosition;for(let{range:l,newText:c}of t){let u=n.getText(l),f=n.offsetAt(l.end);if(n=n.applyEdits([{range:l,newText:c}]),o<n.offsetAt(l.start)){let h={range:l,newText:c,positionAfterEdit:Fn.Position.create(i.line,i.character)};r&&(h.source="selectedCompletionInfo"),a.push(h);continue}o<f&&(o=f),o+=c.length-u.length,i=n.positionAt(o);let m={range:l,newText:c,positionAfterEdit:Fn.Position.create(i.line,i.character)};r&&(m.source="selectedCompletionInfo"),a.push(m)}return this.updateState(n,i,a)}};function mg(e,t){return new Gne(e,t)}s(mg,"createCompletionState");d();function Hne(e,t,r=(n,i)=>n===i?0:1){if(t.length===0||e.length===0)return{distance:t.length,startOffset:0,endOffset:0};let n=new Array(t.length+1).fill(0),i=new Array(t.length+1).fill(0),o=new Array(e.length+1).fill(0),a=new Array(e.length+1).fill(0),l=t[0];for(let u=0;u<e.length+1;u++)u===0?n[u]=1:n[u]=r(e[u-1],l,u-1,0),i[u]=u>0?u-1:0;for(let u=1;u<t.length;u++){let f=o;o=n,n=f,f=a,a=i,i=f,l=t[u],n[0]=u+1;for(let m=1;m<e.length+1;m++){let h=1+o[m],p=1+n[m-1],g=r(e[m-1],l,m-1,u)+o[m-1];n[m]=Math.min(p,h,g),n[m]===g?i[m]=a[m-1]:n[m]===h?i[m]=a[m]:i[m]=i[m-1]}}let c=0;for(let u=0;u<e.length+1;u++)n[u]<n[c]&&(c=u);return{distance:n[c],startOffset:i[c],endOffset:c}}s(Hne,"editDistance");function Ipt(){return new Map}s(Ipt,"emptyLexDictionary");function Tpt(e){let t=new Array(e.size);for(let[r,n]of e)t[n]=r;return t}s(Tpt,"reverseLexDictionary");function*wpt(e){let t="",r;(l=>(l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other"))(r||={});let n=0;for(let i of e){let o;new RegExp("(\\p{L}|\\p{Nd}|_)","u").test(i)?o=0:i===" "?o=1:o=2,o===n&&o!==2?t+=i:(t.length>0&&(yield t),t=i,n=o)}t.length>0&&(yield t)}s(wpt,"lexGeneratorWords");function H9e(e,t,r,n){let i=[],o=0;for(let a of r(e))n(a)&&(t.has(a)||t.set(a,t.size),i.push([t.get(a),o])),o+=a.length;return[i,t]}s(H9e,"lexicalAnalyzer");function j9e(e){return e!==" "}s(j9e,"notSingleSpace");function V9e(e,t,r=wpt){let[n,i]=H9e(e,Ipt(),r,j9e),[o,a]=H9e(t,i,r,j9e);if(o.length===0||n.length===0)return{lexDistance:o.length,startOffset:0,endOffset:0,haystackLexLength:n.length,needleLexLength:o.length};let l=Tpt(a),c=o.length,u=l[o[0][0]],f=l[o[c-1][0]];function m(y,x,b,E){if(E===0||E===c-1){let _=l[n[b][0]];return E==0&&_.endsWith(u)||E==c-1&&_.startsWith(f)?0:1}else return y===x?0:1}s(m,"compare");let h=Hne(n.map(y=>y[0]),o.map(y=>y[0]),m),p=n[h.startOffset][1],g=h.endOffset<n.length?n[h.endOffset][1]:e.length;return g>0&&e[g-1]===" "&&--g,{lexDistance:h.distance,startOffset:p,endOffset:g,haystackLexLength:n.length,needleLexLength:o.length}}s(V9e,"lexEditDistance");d();function $9e(e,t){return e.compType==="partial"?e.acceptedLength:t.length}s($9e,"computeCompCharLen");function z9e(e,t){return t.compType==="partial"?e.substring(0,t.acceptedLength):e}s(z9e,"computeCompletionText");function Y9e(e,t,r){return e.displayText!==e.insertText&&e.insertText.trim()===e.displayText||r===3?t:t-e.range.end.character+e.range.start.character}s(Y9e,"computePartialLength");var X5=new Gt("postInsertion"),K9e=[{seconds:15,captureCode:!1,captureRejection:!1},{seconds:30,captureCode:!0,captureRejection:!0},{seconds:120,captureCode:!1,captureRejection:!1},{seconds:300,captureCode:!1,captureRejection:!1},{seconds:600,captureCode:!1,captureRejection:!1}],J9e=50,_pt=1500,Spt=.5,Rpt=500,jne={triggerPostInsertionSynchroneously:!1,captureCode:!1,captureRejection:!1};async function X9e(e,t,r,n,i){let o=await e.get(On).getOrReadTextDocumentWithFakeClientProperties({uri:t});if(o.status!=="valid")return X5.info(e,`Could not get document for ${t}. Maybe it was closed by the editor.`),{prompt:{prefix:"",suffix:"",isFimEnabled:!1},capturedCode:"",terminationOffset:0};let a=o.document,l=a.getText(),c=l.substring(0,n),u=a.positionAt(n),f=await i6(e,r.properties.headerRequestId,mg(a,u),r),m=f.type==="prompt"?f.prompt:{prefix:c,suffix:"",isFimEnabled:!1};if(m.isFimEnabled&&i!==void 0){let h=l.substring(n,i);return m.suffix=l.substring(i),{prompt:m,capturedCode:h,terminationOffset:0}}else{let h=l.substring(n),p=Xre(c,n,a.detectedLanguageId),y=await G8e(p,void 0)(h),x=Math.min(l.length,n+(y?y*2:Rpt)),b=l.substring(n,x);return{prompt:m,capturedCode:b,terminationOffset:y??-1}}}s(X9e,"captureCode");function hU(e,t,r,n,i){i.forEach(({completionText:c,completionTelemetryData:u})=>{X5.debug(e,`${t}.rejected choiceIndex: ${u.properties.choiceIndex}`),x8e(e,t,u)});let o=new Wv(e,n,r-1),a=new Wv(e,n,r),l=s(async c=>{X5.debug(e,`Original offset: ${r}, Tracked offset: ${o.offset}`);let{completionTelemetryData:u}=i[0],{prompt:f,capturedCode:m,terminationOffset:h}=await X9e(e,n,u,o.offset+1,a.offset),p;f.isFimEnabled?p={hypotheticalPromptPrefixJson:JSON.stringify(f.prefix),hypotheticalPromptSuffixJson:JSON.stringify(f.suffix)}:p={hypotheticalPromptJson:JSON.stringify(f.prefix)};let g=u.extendedBy({...p,capturedCodeJson:JSON.stringify(m)},{timeout:c.seconds,insertionOffset:r,trackedOffset:o.offset,terminationOffsetInCapturedCode:h});X5.debug(e,`${t}.capturedAfterRejected choiceIndex: ${u.properties.choiceIndex}`,g),jt(e,t+".capturedAfterRejected",g,1)},"checkInCode");K9e.filter(c=>c.captureRejection).map(c=>o.push(ef(e,()=>l(c),"postRejectionTasks"),c.seconds*1e3))}s(hU,"postRejectionTasks");function Gv(e,t,r,n,i,o,a,l){let c=o.extendedBy({compType:a.compType},{compCharLen:$9e(a,r)});X5.debug(e,`${t}.accepted choiceIndex: ${c.properties.choiceIndex}`),C8e(e,t,c);let u=r;r=z9e(r,a);let f=r.trim(),m=new Wv(e,i,n),h=new Wv(e,i,n+r.length),p=s(async g=>{await Ppt(e,t,f,n,i,g,c,m,h)},"stillInCodeCheck");if(jne.triggerPostInsertionSynchroneously&&oh(e)){let g=p({seconds:0,captureCode:jne.captureCode,captureRejection:jne.captureRejection});e.get(ko).register(g)}else K9e.map(g=>m.push(ef(e,()=>p(g),"postInsertionTasks"),g.seconds*1e3));ef(e,kpt,"post insertion citation check")(e,i,u,r,n,l)}s(Gv,"postInsertionTasks");async function kpt(e,t,r,n,i,o){if(!o||(o.ip_code_citations?.length??0)<1)return;let a=await e.get(Vr).getTextDocument({uri:t});if(a){let l=Vne(a.getText(),n,J9e,i);l.stillInCodeHeuristic&&(i=l.foundOffset)}for(let l of o.ip_code_citations){let c=Bpt(r.length,n.length,l.start_offset);if(c===void 0){X5.info(e,`Full completion for ${t} contains a reference matching public code, but the partially inserted text did not include the match.`);continue}let u=i+c,f=a?.positionAt(u),m=i+Dpt(r.length,n.length,l.stop_offset),h=a?.positionAt(m),p=f&&h?a?.getText({start:f,end:h}):"<unknown>";await e.get(pf).handleIPCodeCitation(e,{inDocumentUri:t,offsetStart:u,offsetEnd:m,version:a?.version,location:f&&h?{start:f,end:h}:void 0,matchingText:p,details:l.details.citations})}}s(kpt,"citationCheck");function Bpt(e,t,r){if(!(t<e&&r>t))return r}s(Bpt,"computeCitationStart");function Dpt(e,t,r){return t<e?Math.min(r,t):r}s(Dpt,"computeCitationEnd");function Vne(e,t,r,n){let i=e.substring(Math.max(0,n-r),Math.min(e.length,n+t.length+r)),o=V9e(i,t),a=o.lexDistance/o.needleLexLength,{distance:l}=Hne(i.substring(o.startOffset,o.endOffset),t);return{relativeLexEditDistance:a,charEditDistance:l,completionLexLength:o.needleLexLength,foundOffset:o.startOffset+Math.max(0,n-r),lexEditDistance:o.lexDistance,stillInCodeHeuristic:a<=Spt?1:0}}s(Vne,"find");async function Ppt(e,t,r,n,i,o,a,l,c){let u=await e.get(On).getOrReadTextDocument({uri:i});if(u.status==="valid"){let m=u.document.getText(),h=Vne(m,r,J9e,l.offset);h.stillInCodeHeuristic||(h=Vne(m,r,_pt,l.offset)),X5.debug(e,`stillInCode: ${h.stillInCodeHeuristic?"Found":"Not found"}! Completion '${r}' in file ${i}. lexEditDistance fraction was ${h.relativeLexEditDistance}. Char edit distance was ${h.charEditDistance}. Inserted at ${n}, tracked at ${l.offset}, found at ${h.foundOffset}. choiceIndex: ${a.properties.choiceIndex}`);let p=a.extendedBy({},{timeout:o.seconds,insertionOffset:n,trackedOffset:l.offset}).extendedBy({},h);if(jt(e,t+".stillInCode",p),o.captureCode){let{prompt:g,capturedCode:y,terminationOffset:x}=await X9e(e,i,p,l.offset,c.offset),b;g.isFimEnabled?b={hypotheticalPromptPrefixJson:JSON.stringify(g.prefix),hypotheticalPromptSuffixJson:JSON.stringify(g.suffix)}:b={hypotheticalPromptJson:JSON.stringify(g.prefix)};let E=a.extendedBy({...b,capturedCodeJson:JSON.stringify(y)},{timeout:o.seconds,insertionOffset:n,trackedOffset:l.offset,terminationOffsetInCapturedCode:x});X5.debug(e,`${t}.capturedAfterAccepted choiceIndex: ${a.properties.choiceIndex}`,p),jt(e,t+".capturedAfterAccepted",E,1)}}}s(Ppt,"checkStillInCode");var $ne=new Gt("ghostText"),I0=class{static{s(this,"LastGhostText")}#e;#t;#i=[];get position(){return this.#e}get shownCompletions(){return this.#i||[]}get uri(){return this.#t}resetState(){this.#t=void 0,this.#e=void 0,this.#i=[]}setState({uri:t},r){this.#t=t,this.#e=r,this.#i=[]}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};function Npt(e){let t=[];return e.shownCompletions.forEach(r=>{if(r.displayText&&r.telemetry){let n,i;e.partiallyAcceptedLength?(n=r.displayText.substring(e.partiallyAcceptedLength-1),i=r.telemetry.extendedBy({compType:"partial"},{compCharLen:n.length})):(n=r.displayText,i=r.telemetry);let o={completionText:n,completionTelemetryData:i,offset:r.offset};t.push(o)}}),t}s(Npt,"computeRejectedCompletions");function zne(e,t){let r=e.get(I0);if(!r.position||!r.uri)return;let n=Npt(r);n.length>0&&hU(e,"ghostText",t??n[0].offset,r.uri,n),r.resetState(),r.resetPartialAcceptanceState()}s(zne,"rejectLastShown");function Z9e(e,t,r,n){let i=e.get(I0);return i.position&&i.uri&&!(i.position.line===r.line&&i.position.character===r.character&&i.uri.toString()===t.uri.toString())&&n!==2&&zne(e,t.offsetAt(i.position)),i.setState(t,r),i.index}s(Z9e,"setLastShown");function eTe(e,t){let r=e.get(I0);if(r.index=t.index,!r.shownCompletions.find(n=>n.index===t.index)&&(t.uri===r.uri&&r.position?.line===t.position.line&&r.position?.character==t.position.character&&r.shownCompletions.push(t),t.displayText)){let n=t.resultType!==0;$ne.debug(e,`[${t.telemetry.properties.headerRequestId}] shown choiceIndex: ${t.telemetry.properties.choiceIndex}, fromCache ${n}`),t.telemetry.measurements.compCharLen=t.displayText.length,AO(e,"ghostText",t)}}s(eTe,"handleGhostTextShown");function pU(e,t){let r=e.get(I0);r.resetState(),$ne.debug(e,"Ghost text post insert");let n=r.partiallyAcceptedLength?{compType:"partial",acceptedLength:t.displayText.length}:{compType:"full"};return r.resetPartialAcceptanceState(),Gv(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,n,t.copilotAnnotations)}s(pU,"handleGhostTextPostInsert");function tTe(e,t,r,n=0){let i=e.get(I0);r===t.insertText.length&&i.resetState(),$ne.debug(e,"Ghost text partial post insert");let o=Y9e(t,r,n);if(o)return i.partiallyAcceptedLength=r,Gv(e,"ghostText",t.displayText,t.offset,t.uri,t.telemetry,{compType:"partial",acceptedLength:o},t.copilotAnnotations)}s(tTe,"handlePartialGhostTextPostInsert");function rTe(e){let t=new k8;return t.set(ag,e),t.set(Hp,new Hp),t.set(go,new go),t.set(bh,new bh),t.set(gf,new gf),t.set(Zp,new Zp),t.set(sr,new sr(t)),t.set(tg,new tg),t.set(ic,new ic(t)),t.set(Fs,new Fs),t.set(of,new of),t.set(iu,new iu),t.set(Af,new Af),t.set(mu,new TS),t.set(mh,new d8),t.set(lh,new C_),t.set(ko,new ko),t.set(On,new On(t)),t.set(Ih,cU(t)),t.set(I0,new I0),t.set($d,new $d),t.set(SA,SA.default),t.set(vA,new vA(t)),t.set(Bd,new Bd(t)),t.set(Ta,new Ta),t.set(vh,new vh(t)),t.set(Go,new Go),t}s(rTe,"createCommonContext");d();d();var gU=class extends Error{static{s(this,"FetchSpeculationCanceledException")}constructor(t){super(t),this.name="FetchSpeculationCanceledException"}};d();var s6=class extends Error{static{s(this,"FetchSpeculationFailedException")}constructor(t){super(t),this.name="FetchSpeculationFailedException"}};var XUr=I.Object({prompt:I.String(),speculation:I.String(),languageId:I.String(),stops:I.Array(I.String())}),Hv=class{static{s(this,"SpeculationFetcher")}constructor(t){this.ctx=t}async fetchSpeculation(t,r){let i={prompt:t.prompt,speculation:t.speculation,engineModelId:"copilot-centralus-h100",uiKind:"editsPanel",temperature:0,stream:!0,stops:t.stops},o=await this.ctx.get(sr).updateExPValuesAndAssignments(),a=await this.ctx.get(mu).fetchAndStreamSpeculation(this.ctx,i,o,async(l,c)=>{},r);switch(a.type){case"success":return a;case"canceled":throw new gU(a.reason);case"failed":throw new s6(a.reason)}}};d();d();var nTe=Ze(require("node:util"));function iTe(e,...t){return`[${e}] ${Lpt(t)}`}s(iTe,"formatLogMessage");function Lpt(e){return nTe.default.formatWithOptions({maxStringLength:1/0},...e)}s(Lpt,"format");function AU(e){return h3e(e)}s(AU,"verboseLogging");var yU=class extends Ha{constructor(r){super();this.console=r}static{s(this,"ConsoleLog")}logIt(r,n,i,...o){n==1?this.console.error(`[${i}]`,...o):(n==2||AU(r))&&this.console.warn(`[${i}]`,...o)}};d();var oTe=require("node:util");var a6=class extends ig{static{s(this,"TelemetryLogSenderImpl")}sendError(t,r,...n){Kx(t,"log",dn.createAndMarkAsIssued({context:r,level:Zx[1],message:Fpt(...n)}),1)}sendException(t,r,n){Ia(t,r,n)}};function Fpt(...e){return e.map(t=>(0,oTe.inspect)(t)).join(" ")}s(Fpt,"telemetryMessage");d();var CNe=Ze(require("crypto")),xNe=Ze(require("fs")),vNe=Ze(ANe()),bNe=require("tls"),ENe=Ze(yNe());var g9=new Gt("certificates"),Za=class{static{s(this,"RootCertificateReader")}};function KW(e,t=process.platform){return new Cle(e,[new xle,new vle,M9t(e,t)])}s(KW,"getRootCertificateReader");function M9t(e,t){switch(t){case"linux":return new ble(e);case"darwin":return new Ele(e);case"win32":return new Ile(e);default:return new Tle}}s(M9t,"createPlatformReader");var yle=class extends Za{constructor(r,n){super();this.ctx=r;this.delegate=n}static{s(this,"ErrorHandlingCertificateReader")}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return g9.warn(this.ctx,"Failed to read root certificates:",r),[]}}},Cle=class extends Za{constructor(r,n){super();this.ctx=r;this.delegates=n.map(i=>new yle(r,i))}static{s(this,"CachingRootCertificateReader")}async getAllRootCAs(){return this.certificates||(this.certificates=this.removeExpiredCertificates((await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat())),this.certificates}removeExpiredCertificates(r){let n=Date.now(),i=r.filter(o=>{try{let a=new CNe.X509Certificate(o),l=Date.parse(a.validTo);return isNaN(l)||l>n}catch(a){return g9.warn(this.ctx,"Failed to parse certificate",o,a),!1}});return r.length!==i.length&&g9.info(this.ctx,`Removed ${r.length-i.length} expired certificates`),i}},xle=class extends Za{static{s(this,"NodeTlsRootCertificateReader")}getAllRootCAs(){return bNe.rootCertificates}},vle=class extends Za{static{s(this,"EnvironmentVariableRootCertificateReader")}async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await INe(t):[]}},ble=class extends Za{constructor(r){super();this.ctx=r}static{s(this,"LinuxRootCertificateReader")}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let i=await INe(n);g9.debug(this.ctx,`Read ${i.length} certificates from ${n}`),r=r.concat(i)}return r}},Ele=class extends Za{constructor(r){super();this.ctx=r}static{s(this,"MacRootCertificateReader")}getAllRootCAs(){let r=vNe.get();return g9.debug(this.ctx,`Read ${r.length} certificates from Mac keychain`),r}},Ile=class extends Za{constructor(r){super();this.ctx=r}static{s(this,"WindowsRootCertificateReader")}getAllRootCAs(){let r=ENe.all();return g9.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}},Tle=class extends Za{static{s(this,"UnsupportedPlatformRootCertificateReader")}getAllRootCAs(){return Promise.reject(new Error("No certificate reader available for unsupported platform"))}};async function INe(e){try{let r=(await xNe.promises.readFile(e,{encoding:"utf8"})).match(/-----BEGIN CERTIFICATE-----[\s\S]*?-----END CERTIFICATE-----/g);if(!r)return[];let n=r.filter(o=>o.length>0),i=new Set(n);return Array.from(i)}catch(t){if(t instanceof Error&&"code"in t&&t.code==="ENOENT")return[];throw t}}s(INe,"readCertsFromFile");d();var FNe=Ze(require("http"));var lTt=407,gc=new Gt("proxySocketFactory"),Lg=class{static{s(this,"ProxySocketFactory")}},Eb=class extends Error{static{s(this,"ProxySocketError")}constructor(t,r,n){super(t),this.code=r?.code,this.syscall=r?.syscall,this.errno=r?.errno,/^Failed to establish a socket connection to proxies:/.test(r?.message??"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test(r?.message??"")?this.code="ProxyInitializeSecurityContext":r?.message==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test(r?.message??"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};function JW(e){return new Sle(e,new Rle(e))}s(JW,"getProxySocketFactory");var Sle=class extends Lg{constructor(r,n,i=new sk,o=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=i;this.platform=o;this.successfullyAuthorized=new un(20)}static{s(this,"KerberosProxySocketFactory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(gc.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof Eb&&i.code===`ProxyStatusCode${lTt}`){gc.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let o=await this.authorizeAndCreateSocket(r,n);if(o)return gc.debug(this.ctx,"Proxy authorization successful, caching result"),jt(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),o}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(gc.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(gc.debug(this.ctx,"Proxy authorization successful, received token"),i)return gc.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){gc.debug(this.ctx,"Loading kerberos module");let n=await this.kerberosLoader.load(),i=this.computeSpn(r);gc.debug(this.ctx,"Initializing kerberos client using spn",i);let o=await n.initializeClient(i);gc.debug(this.ctx,"Perform client side kerberos step");let a=await o.step("");return gc.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return gc.debug(this.ctx,"Using configured kerberos spn",n),n;let i=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return gc.debug(this.ctx,"Using default kerberos spn",i),i}getProxyCacheKey(r){return r.host+":"+r.port}},Rle=class extends Lg{constructor(r){super();this.ctx=r}static{s(this,"TunnelingProxySocketFactory")}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((o,a)=>{gc.debug(this.ctx,"Attempting to establish connection to proxy");let l=FNe.request(i);l.useChunkedEncodingByDefault=!1,l.once("connect",(c,u,f)=>{gc.debug(this.ctx,"Socket Connect returned status code",c.statusCode),l.removeAllListeners(),u.removeAllListeners(),c.statusCode!==200?(u.destroy(),a(new Eb(`tunneling socket could not be established, statusCode=${c.statusCode}`,void 0,`ProxyStatusCode${c.statusCode}`))):f.length>0?(u.destroy(),a(new Eb(`got non-empty response body from proxy, length=${f.length}`,void 0,"ProxyNonEmptyResponseBody"))):(gc.debug(this.ctx,"Successfully established tunneling connection to proxy"),o(u))}),l.once("error",c=>{gc.debug(this.ctx,"Proxy socket connection error",c.message),l.removeAllListeners(),a(new Eb(`tunneling socket could not be established, cause=${c.message}`,c))}),l.on("timeout",()=>{gc.debug(this.ctx,"Proxy socket connection timeout"),a(new Eb(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.host}:${i.port}`,void 0,"ProxyTimeout"))}),l.end()})}createConnectRequestOptions(r,n){let i=`${r.hostname}:${r.port}`,o={...n,method:"CONNECT",path:i,agent:!1,headers:{host:i,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(o.localAddress=r.localAddress),this.configureProxyAuthorization(o,r),o}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}},sk=class{static{s(this,"KerberosLoader")}load(){return Promise.resolve().then(()=>Ze(LNe()))}};d();var UNe=require("node:os");var cTt=new Gt("repository"),Ib="\\\\",qNe="(?:[#;].*)",C9=`(?:[^"${Ib}]|${Ib}.)`,uTt="[0-9A-Za-z-]",MNe=`[A-Za-z]${uTt}*`,WNe=`\\s*${qNe}?$`,GNe=`(?:[^"${Ib};#]|${Ib}.)`,fTt=`(?:"${C9}*"|"${C9}*(?<strCont>${Ib})$)`,dTt=`(?:${GNe}|${fTt})+`,mTt=`(?:(?<cont>${Ib})$)`,HNe=`(?<value>${dTt})${mTt}?${WNe}`,QNe=new RegExp(`^${HNe}`),hTt=new RegExp(`^(?<value>${C9}*(?:(?<strCont>${Ib})$|(?<quote>")))`),pTt=new RegExp(`^\\s*(?:(?<key>${MNe})\\s*=\\s*${HNe}|(?<soloKey>${MNe})${WNe})`),gTt=new RegExp(`(?<value>${GNe}+)|"(?<string>${C9}*)"`,"g"),ONe="[-.0-9A-Za-z]+",ATt=`\\s+"(?<ext>${C9}*)"`,yTt=`\\s+"(?<extOnly>${C9}*)"`,CTt=new RegExp(`^\\s*\\[(?:(?<simple>${ONe})${ATt}|${yTt}|(?<simpleOnly>${ONe}))\\]`),xTt=new RegExp(`^\\s*${qNe}$`),kle=class{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}static{s(this,"GitConfigParser")}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){let t=this.line.match(CTt);t&&(t.groups?.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):t.groups?.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){let t=this.line.match(pTt);if(t){if(t.groups?.key){let r=this.handleContinued(t);this.configValueHandler?.(this.nameWithSection(t.groups.key.toLowerCase()),r)}else t.groups?.soloKey&&this.configValueHandler?.(this.nameWithSection(t.groups.soloKey.toLowerCase()),"");this.line=""}}handleContinued(t){let r=t,n=[this.matchedValue(r)];for(;r?.groups?.cont||r?.groups?.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(hTt),r?(n.push(this.matchedValue(r)),r.groups?.quote&&(r=this.line.slice(r[0].length).match(QNe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(QNe),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(gTt)].map(i=>i.groups?.value?(r=!0,this.unescapeValue(i.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(i.groups.string))).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,i)=>r[i]||i)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){xTt.test(this.line)&&(this.line="")}},XW=class extends xh{static{s(this,"GitParsingConfigLoader")}async getConfig(t,r){let n=await vA.getRepoConfigLocation(t,r);if(!n)return;let i=await this.getParsedConfig(t,n);if(i)return this.mergeConfig(await this.baseConfig(t,n),i)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new kv)}async getParsedConfig(t,r,n=!0){let i=await this.tryLoadConfig(t,r,n);if(!i)return;let o=new kle(i),a=new kv;return o.parse((l,c)=>a.add(l,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(vo).readFileString(r)}catch(i){(n||!(i instanceof Error)||i.code!=="ENOENT")&&cTt.warn(t,`Failed to load git config from ${JSON.stringify(r)}:`,i);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),i=Do(this.xdgConfigUri(),"git","config"),o=Do(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,i,!1),await this.getParsedConfig(t,o,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(Di(r).toLowerCase()!=="config.worktree")return;let n=rf(r),i=Do(n,"commondir");try{let o=(await t.get(vo).readFileString(i)).trimEnd();return Do(Xx(n,o),"config")}catch{return}}xdgConfigUri(){return typeof process<"u"&&process.env.XDG_CONFIG_HOME?cl(process.env.XDG_CONFIG_HOME):Do(this.homeUri(),".config")}homeUri(){return cl((0,UNe.homedir)())}};d();var jNe=require("child_process");var ZW=class extends xh{static{s(this,"GitCLIConfigLoader")}runCommand(t,r,n){return new Promise((i,o)=>{(0,jNe.execFile)(r,n,{cwd:t},(a,l)=>{a?o(a):i(l)})})}async tryRunCommand(t,r,n,i){try{return await this.runCommand(r,n,i)}catch(o){gIe.info(t,`Failed to run command '${n}' in ${r}:`,o);return}}async getConfig(t,r){let n=Xo(r);if(n===void 0)return;let i=await this.tryRunCommand(t,n,"git",["-c","safe.directory=*","config","--list","--null",...this.extraArgs()]);return i?this.extractConfig(i):void 0}extractConfig(t){let r=new kv;for(let n of t.split("\0").filter(i=>i)){let i=n.split(`
`,1)[0],o=n.slice(i.length+1);r.add(i,o)}return r}extraArgs(){return[]}};d();var $Ne=Ze(require("node:events"));var VNe="onWorkspaceChanged",Nf=class{constructor(){this.emitter=new $Ne.default}static{s(this,"WorkspaceNotifier")}onChange(t){this.emitter.on(VNe,t)}emit(t){this.emitter.emit(VNe,t)}};function zNe(e){let t=rTe(e);return vTt(t),t.set(Za,KW(t)),t.set(Lg,JW(t)),t.set(xh,new JQ([new ZW,new XW])),t.set(Nf,new Nf),t.set(Hv,new Hv(t)),t}s(zNe,"createProductionContext");function vTt(e){e.set(Td,Td.fromEnvironment(!1)),e.set(ig,new a6),e.set(Ha,new yU(console))}s(vTt,"setupRudimentaryLogging");var FYr=new Gt("context");d();d();var Kr=new Gt("chat");d();d();var hl=(o=>(o.System="system",o.User="user",o.Assistant="assistant",o.Function="function",o.Tool="tool",o))(hl||{});function ln(e){return e?(e=Lf(e),typeof e=="string"?e:e.map(t=>"text"in t?t.text:"").join("")):""}s(ln,"getTextPart");var YNe=s((e,t)=>I.Unsafe({type:"string",enum:e,description:t?.description}),"StringEnum"),KNe=I.Optional(I.Object({agentSlug:I.String(),state:I.Union([I.Literal("accepted"),I.Literal("dismissed")]),confirmation:I.Any()}));function kC(e){if(typeof e.function.arguments=="string")try{return JSON.parse(e.function.arguments)}catch{return{}}return e.function.arguments}s(kC,"parseToolCallArguments");function JNe(e){return typeof e.function.arguments=="object"&&(e.function.arguments=JSON.stringify(e.function.arguments)),e}s(JNe,"toOpenAIToolCall");function XNe(e,t,r,n,i,o,a,l){let c=JSON.parse(JSON.stringify(t));return r.tool_calls&&(c.tool_calls=r.tool_calls),Q8(e,[c],l),{message:t,choiceIndex:n,requestId:i,blockFinished:o,finishReason:a,tokens:r.tokens,numTokens:r.tokens.length,tool_calls:r.tool_calls,function_call:r.function_call,telemetryData:l}}s(XNe,"convertToChatCompletion");function Ble(e){return Array.isArray(e)&&e.every(t=>"type"in t&&!("role"in t))}s(Ble,"isChatCompletionContentPartArray");function eG(e){return Array.isArray(e)&&e.every(t=>"role"in t)}s(eG,"isChatMessageArray");function Lf(e){if(typeof e=="string")return e;if(Ble(e))return e;if(eG(e)){let t=e.filter(n=>n.role==="assistant"),r=[];for(let n of t)Array.isArray(n.content)?r.push(...n.content):r.push({type:"text",text:n.content});return r}return""}s(Lf,"resolveAsChatMessageContent");function ak(e,t){return(typeof e=="string"||Ble(e))&&(e=[{role:"assistant",content:e}]),e.push(t),e}s(ak,"appendChatMessageContent");function Dle(e,t){if(e){if(typeof e=="string"||Ble(e))return[{role:"assistant",content:e}];if(eG(e))return t?e:e.filter(r=>r.role!=="tool").map(r=>r.tool_calls?{...r,tool_calls:void 0,tool_call_id:void 0}:r)}else return[];return[]}s(Dle,"resolveResponseAsChatMessages");d();var Ple=new Gt("streamMessages");function ZNe(e,t,r){let n=t.solution.text.join(""),i=!1;t.finishOffset!==void 0&&(Ple.debug(e,`message ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),i=!0),Ple.info(e,`message ${t.index} returned. finish reason: [${t.reason}]`),Ple.debug(e,`message ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let o=IS(t.solution),a={role:"assistant",content:n};return XNe(e,a,o,t.index,t.requestId,i,t.reason??"",r)}s(ZNe,"prepareChatCompletionForReturn");var lm=new Gt("fetchChat"),tG=class{static{s(this,"OpenAIChatMLFetcher")}async fetchAndStreamChat(t,r,n,i,o){let a=await this.fetchWithParameters(t,r.endpoint,r,n,o);if(a==="not-sent")return{type:"canceled",reason:"before fetch request"};if(o?.isCancellationRequested){let l=a.body();try{l.destroy()}catch(c){lm.exception(t,c,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(a.status!==200){let l=this.createTelemetryData(r.endpoint,t,r);return this.handleError(t,l,a)}if(r.postOptions?.stream===!1){let l=await a.text(),c=JSON.parse(l),u=c.choices!=null?c.choices[0].message:{role:"assistant",content:""},f=a.headers.get("X-Request-ID")??_r(),m={blockFinished:!1,choiceIndex:0,finishReason:"stop",message:u,tokens:ln(u.content).split(" "),requestId:{headerRequestId:f,completionId:c.id?c.id:"",created:c.created?Number(c.created):0,deploymentId:"",serverExperiments:""},telemetryData:n,numTokens:0},h=ln(u.content);return await i(h,{text:h,copilotReferences:c.copilot_references}),{type:"success",chatCompletions:async function*(){yield m}(),getProcessingTime:s(()=>O8(a),"getProcessingTime")}}else{let c=V5.create(t,r.count,a,n,[],o).processSSE(i);return{type:"success",chatCompletions:bA(c,f=>ZNe(t,f,n)),getProcessingTime:s(()=>O8(a),"getProcessingTime")}}}createTelemetryData(t,r,n){return dn.createAndMarkAsIssued({endpoint:t,engineName:n.engineName,uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,i,o){let a={messages:n.messages,tools:n.tools,tool_choice:n.tool_choice,model:n.model,temperature:U8(t,n.count),top_p:mO(t),n:n.count,stop:[`


`],copilot_thread_id:n.copilot_thread_id},l=mA(n.repoInfo);return l!==void 0&&(a.nwo=l),n.postOptions&&Object.assign(a,n.postOptions),n.intent&&(a.intent=n.intent,n.intent_model&&(a.intent_model=n.intent_model),n.intent_tokenizer&&(a.intent_tokenizer=n.intent_tokenizer),n.intent_threshold&&(a.intent_threshold=n.intent_threshold),n.intent_content&&(a.intent_content=n.intent_content)),o?.isCancellationRequested?"not-sent":await bTt(t,n.messages,n.capiUrl,n.engineName,r,n.ourRequestId,a,n.authToken,n.uiKind,i,n.llmInteraction,o)}async handleError(t,r,n){if(n.clientError&&!n.headers.get("x-github-request-id")){let o=`Last response was a ${n.status} error and does not appear to originate from GitHub. Is a proxy or firewall intercepting this request? https://gh.io/copilot-firewall`;lm.error(t,o),r.properties.error=`Response status was ${n.status} with no x-github-request-id header`}else r.properties.error=`Response status was ${n.status}`;if(r.properties.status=String(n.status),jt(t,"request.shownWarning",r),n.status===401)try{let o=await n.text(),a=JSON.parse(o);if(a.authorize_url)return{type:"authRequired",reason:"not authorized",authUrl:a.authorize_url}}catch{}if(n.status===401||n.status===403)return t.get(en).resetToken(n.status),{type:"failed",reason:`token expired or invalid: ${n.status}`,code:n.status};if(n.status===499)return lm.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server",code:n.status};let i=await n.text();if(n.status===466)return lm.info(t,i),{type:"failed",reason:`client not supported: ${i}`,code:n.status};if(n.status===400&&i.includes("off_topic"))return{type:"failed",reason:"filtered as off_topic by intent classifier: message was not programming related",code:n.status};if(n.status===400&&i.includes("model_not_supported"))return{type:"failed",reason:"model is not supported.",code:n.status};if(n.status==400&&i.includes("model_max_prompt_tokens_exceeded"))return{type:"failed",reason:"model max prompt tokens exceeded.",code:n.status};if(n.status===424)return{type:"failedDependency",reason:i};if(n.status===402){if(i.includes("free_quota_exceeded")){let l=n.headers.get("retry-after");return{type:"failed",reason:l?`You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait until ${new Date(l).toLocaleString()} for your limit to reset.`:"You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",code:n.status}}else if(i.includes("overage_limit_reached"))return{type:"failed",reason:"You cannot accrue additional overages at this time. Please contact [GitHub Support](https://support.github.com/contact) to continue using Copilot.",code:n.status};return{type:"failed",reason:"Quota Exceeded.",code:n.status}}return lm.error(t,"Unhandled status from server:",n.status,i),{type:"failed",reason:`unhandled status from server: ${n.status} ${i}`,code:n.status}}};async function bTt(e,t,r,n,i,o,a,l,c,u,f,m){let h=Do(r,n,i);if(!l)throw new Error(`Failed to send request to ${h} due to missing key`);let p=u.extendedBy({endpoint:i,engineName:n,uiKind:c});for(let[b,E]of Object.entries(a))b!="messages"&&(p.properties[`request.option.${b}`]=JSON.stringify(E)??"undefined");p.properties.headerRequestId=o,jt(e,"request.sent",p);let g=ia(),y=f8e(c),x={...T5(e),...f.toCapiHeaders()};return a.messages?.some(b=>Array.isArray(b.content)?b.content.some(E=>"image_url"in E):!1)&&(x["Copilot-Vision-Request"]="true"),a.messages&&a.messages.forEach(b=>{ETt(b)&&b.tool_calls&&(b.tool_calls=b.tool_calls.map(E=>JNe(E)))}),Px(e,h,l,y,o,a,m,x).then(b=>{let E=$5(b,void 0);p.extendWithRequestId(E);let _=ia()-g;return p.measurements.totalTimeMs=_,lm.info(e,`Request ${o} at <${h}> finished with ${b.status} status after ${_}ms`),lm.debug(e,"request.response properties",p.properties),lm.debug(e,"request.response measurements",p.measurements),lm.debug(e,"messages:",JSON.stringify(t)),jt(e,"request.response",p),b}).catch(b=>{if(Rc(b))throw b;let E=p.extendedBy({error:"Network exception"});jt(e,"request.shownWarning",E),p.properties.message=String(x0(b,"name")??""),p.properties.code=String(x0(b,"code")??""),p.properties.errno=String(x0(b,"errno")??""),p.properties.type=String(x0(b,"type")??"");let _=ia()-g;throw p.measurements.totalTimeMs=_,lm.info(e,`Request ${o} at <${h}> rejected with ${String(b)} after ${_}ms`),lm.debug(e,"request.error properties",p.properties),lm.debug(e,"request.error measurements",p.measurements),jt(e,"request.error",p),b}).finally(()=>{Q8(e,t,p)})}s(bTt,"fetchWithInstrumentation");function ETt(e){return"tool_calls"in e}s(ETt,"isChatMessageWithToolCalls");var Ba=class{constructor(t){this.ctx=t;this.fetcher=new tG}static{s(this,"ChatMLFetcher")}async fetchResponse(t,r,n,i){let o=_r(),a={n:t.num_suggestions??1,temperature:t.temperature??0,stop:t.stop,top_p:t.topP??1,copilot_thread_id:t.copilot_thread_id},l=t.modelConfiguration;l&&(a.max_tokens=l.maxResponseTokens,a.stream=!!l.stream),t.logitBias&&(a.logit_bias=t.logitBias);let c=await this.ctx.get(en).getToken(),u=s8(this.ctx,c),f=t.endpoint??"completions",m=t.authToken??c.token,h={messages:t.messages,repoInfo:void 0,ourRequestId:o,capiUrl:u,engineName:t.engineName??"chat",endpoint:f,count:t.num_suggestions??1,uiKind:t.uiKind,postOptions:a,authToken:m,...t.intentParams,llmInteraction:t.llmInteraction};return l&&(h.model=l.modelId),t.tools&&t.tools?.length>0&&(l===void 0||l.toolCalls)&&(h.tools=t.tools,h.tool_choice=t.tool_choice??"auto"),await this.fetch(h,i,r,n)}async fetch(t,r,n,i){try{let o=await this.fetcher.fetchAndStreamChat(this.ctx,t,i.extendedBy({uiKind:t.uiKind}),r||(()=>{}),n);switch(o.type){case"success":return await this.processSuccessfulResponse(t,o,t.ourRequestId,i);case"canceled":return this.processCanceledResponse(o,t.ourRequestId);case"failed":case"failedDependency":return this.processFailedResponse(o,t.ourRequestId);case"authRequired":return{type:"agentAuthRequired",reason:"Agent authentication required.",authUrl:o.authUrl,requestId:t.ourRequestId}}}catch(o){return this.processError(o,t.ourRequestId)}}async processSuccessfulResponse(t,r,n,i){let o=[],a=vS(r.chatCompletions,c=>this.postProcess(c,i));Kr.debug(this.ctx,`Process success response for request ${t.ourRequestId} with chatParams: ${JSON.stringify(t,null,2)}`);let l=0;for await(let c of a)Kr.debug(this.ctx,`Received choice #${l} for request ${t.ourRequestId}: ${JSON.stringify(c,null,2)}`),o.push(c),l++;if(o.length==1){let c=o[0];switch(c.finishReason){case"stop":return{type:"success",value:ln(c.message?.content)??"",toolCalls:c.tool_calls,requestId:n,numTokens:c.numTokens};case"tool_calls":return{type:"tool_calls",toolCalls:c.tool_calls,requestId:n};case"content_filter":return{type:"filtered",reason:"Response got filtered.",requestId:n};case"length":return{type:"length",reason:"Response too long.",requestId:n};case"DONE":return{type:"no_finish_reason",reason:"No finish reason received.",requestId:n};default:return{type:"unknown",reason:"Unknown finish reason received.",requestId:n}}}else if(o.length>1){let c=o.filter(u=>u.finishReason=="stop"||u.finishReason=="tool_calls");if(c.length>0)return{type:"successMultiple",value:c.map(u=>ln(u.message.content)),toolCalls:c.map(u=>u.tool_calls).filter(u=>u),requestId:n}}return{type:"no_choices",reason:"Response contained no choices.",requestId:n}}postProcess(t,r){return fU(t.tokens)?(r.extendWithRequestId(t.requestId),jt(this.ctx,"conversation.repetition.detected",r,0),t.finishReason!==""?t:void 0):t.message?t:void 0}processCanceledResponse(t,r){return Kr.debug(this.ctx,"Cancelled after awaiting fetchConversation"),{type:"canceled",reason:t.reason,requestId:r}}processFailedResponse(t,r){return t?.reason.includes("filtered as off_topic by intent classifier")?{type:"offTopic",reason:t.reason,requestId:r}:t?.reason.includes("model is not supported")?{type:"model_not_supported",reason:t.reason,requestId:r}:t?.reason.includes("model max prompt tokens exceeded")?{type:"model_max_prompt_tokens_exceeded",reason:t.reason,requestId:r}:{type:"failed",reason:t.reason,requestId:r,code:t.type==="failed"?t.code:void 0}}processError(t,r){return Rc(t)?{type:"canceled",reason:"network request aborted",requestId:r}:(Kr.exception(this.ctx,t,"Error on conversation request"),{type:"failed",reason:"Error on conversation request. Check the log for more details.",requestId:r})}};d();var Fg=class{constructor(t){this.ctx=t}static{s(this,"AbstractClientToolConfirmationInvoker")}};d();var BC=class{constructor(t){this.ctx=t}static{s(this,"AbstractClientToolInvoker")}};d();var Ac=class{constructor(t){this.ctx=t}static{s(this,"EditProgressReporter")}},rG=class extends Ac{constructor(){super(...arguments);this.items=[]}static{s(this,"LibTestEditProgressReporter")}reset(){this.items=[]}async reportTurn(r,n){this.items.push({editConversationId:r.editConversationId,editTurnId:r.editTurnId,...n})}};d();d();d();function nG(){return _r()}s(nG,"uuidV4");d();var DC=class extends Error{static{s(this,"CopilotEditsCancelledByUserException")}constructor(){super("Operation cancelled by user"),this.name="CopilotEditsCancelledByUserException"}};d();var PC=class extends Error{static{s(this,"CopilotEditsProcessCodeBlockException")}constructor(t){super(t),this.name="CopilotEditsProcessCodeBlockException"}};d();d();d();var lk="filepath:",Ul="...existing code...",Tb="copilot-edited-file";d();function NC(e){let t=e.matchAll(/^\s*(```+)/gm),r=Math.max(3,...Array.from(t,n=>n[1].length+1));return"`".repeat(r)}s(NC,"getFenceForCodeBlock");var Ff=class{constructor(t){this.params=t;this.params.noFilePath===void 0&&(this.params.noFilePath=!1)}static{s(this,"CodeBlock")}renderAsArray(){let t=NC(this.params.code),r=[`${t}${this.params.languageId}`];return!this.params.noFilePath&&this.params.uri&&r.push(`// ${lk} ${Ga(this.params.uri)}`),r.push(this.params.shouldTrim?this.params.code.trim():this.params.code,t),r}renderAsString(t=`
`){return this.renderAsArray().join(t)}};var Nle=class{constructor(t){this.props=t}static{s(this,"CodeBlockChangeDescription")}render(){if(this.props.markdownBeforeBlock)return["This is the description of what the code block changes:","<changeDescription>",this.props.markdownBeforeBlock,"","</changeDescription>",""].join(`
`)}},iG=class{constructor(t){this.props=t;this.shouldTrim=!0}static{s(this,"CodeMapperPrompt")}async render(){let t=await this.props.textDocumentProvider.getByUri(this.props.uri.toString());return[{role:"system",content:this.buildSystemMessage(t)},{role:"user",content:this.buildUserMessage(t)}]}transformToSpeculationPrompt(t,r,n){return t.reduce((o,a)=>{if(a.role==="system"){let l=ln(a.content).endsWith(`
`)?ln(a.content):`${ln(a.content)}
`;return`${o}<SYSTEM>
${l}
End your response with </${Tb}>.
</SYSTEM>


`}return o+ln(a.content)},"")+`


The resulting document:
<${Tb}>
${n}${r}
`}buildSystemMessage(t){if(t.status!=="valid")return"";let r=[];return r.push("You are an AI programming assistant that is specialized in applying code changes to an existing document.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",`The user has a code block that represents a suggestion for a code change and a ${t.document.detectedLanguageId} file opened in a code editor.`,"Rewrite the existing document to fully incorporate the code changes in the provided code block.","For the response, always follow these instructions:","1. Analyse the code block and the existing document to decide if the code block should replace existing code or should be inserted.","2. If necessary, break up the code block into multiple parts and insert each part at the appropriate location.","3. Preserve whitespace and newlines right after the parts of the file that you modify.",`4. The final result must be syntactically valid, properly formatted, and correctly indented. It should not contain any \`${Ul}\` comments.`,"5. Finally, provide the fully rewritten file. You must output the complete file."),r.join(`
`)}buildUserMessage(t){let r=[];if(t.status!=="valid")return"";if(t.document.getText().length>0){let a=new Ff({code:t.document.getText(),languageId:t.document.detectedLanguageId,noFilePath:!0,shouldTrim:this.shouldTrim});r.push(`I have the following code open in the editor, starting from line 1 to line ${t.document.lineCount}.`,...a.renderAsArray())}else r.push("I am in an empty editor.");let i=new Nle({markdownBeforeBlock:this.props.markdownBeforeBlock}).render();i&&r.push(i);let o=new Ff({code:this.props.codeBlock,languageId:t.document.detectedLanguageId,noFilePath:!0,shouldTrim:this.shouldTrim});return r.push("This is the code block that represents the suggested code change:",...o.renderAsArray(),"<userPrompt>","Provide the fully rewritten file, incorporating the suggested code change. You must produce the complete file.","</userPrompt>"),r.join(`
`)}};d();var Mg=class{constructor(t){this.ctx=t}static{s(this,"DefaultTextDocumentProvider")}async getByUri(t){return await this.ctx.get(On).getOrReadTextDocument({uri:t})}};var x9=class{static{s(this,"CodeMapper")}constructor(t){this.ctx=t,this.logger=new Gt("CopilotEditsCodeMapper")}async mapCode(t,r,n,i=!1){if(!t.resource)throw new PC("No uri found in code block");if(r.isCancellationRequested)throw new DC;if(!t.code.includes(Ul))if(this.logger.debug(this.ctx,`Code block for uri ${t.resource} does not contain existing code marker`),i)this.logger.debug(this.ctx,`Running in agent mode, continue to do the speculation for ${t.resource}`);else return n&&await this.reportCodeBlock(t,n),t.code;let o=await this.ctx.get(On).getOrReadTextDocument({uri:t.resource});if(o.status==="notfound")return n&&await this.reportCodeBlock(t,n),t.code;if(o.status==="invalid"){let b=`Failed to find file ${t.resource} with status ${o.status} and reason ${o.reason}`,E=new PC(b);throw this.logger.error(this.ctx,b,E),E}let a=new iG({documentContext:{document:o},codeBlock:t.code,uri:t.resource,markdownBeforeBlock:t.markdownBeforeBlock,textDocumentProvider:new Mg(this.ctx)}),l=await a.render(),c=o.document.detectedLanguageId,u=NC(t.code),f=o.document.getText();if(f.length>0){let b=NC(f);b.length>u.length&&(u=b)}let m=a.transformToSpeculationPrompt(l,c,u);n&&await n({fileGenerationStatus:"edit-plan-generated",uri:t.resource,basename:Di(t.resource),editDescription:t.markdownBeforeBlock});let h=nG(),p={prompt:m,speculation:o.document.getText(),languageId:c,stops:[`${u}
</${Tb}>`,`${u}\r
</${Tb}>`,`</${Tb}>`]};this.logger.debug(this.ctx,`Send speculation request ${h} with params: ${JSON.stringify(p,null,2)}`);let g=await this.ctx.get(Hv).fetchSpeculation(p,r),y=[];for await(let b of g.choices)y.push(b.completionText);this.logger.debug(this.ctx,`Received speculation response ${h} with completions: ${JSON.stringify(y,null,2)}`);let x=y.find(b=>b.length>0);if(x)return n&&await n({fileGenerationStatus:"updated-code-generated",uri:t.resource,basename:Di(t.resource),partialText:x,languageId:c,markdownCodeFence:NC(x)}),x;{let b=`No valid completion found for uri ${t.resource}`;throw new PC(b)}}async reportCodeBlock(t,r){await r({fileGenerationStatus:"edit-plan-generated",uri:t.resource,basename:Di(t.resource),editDescription:t.markdownBeforeBlock}),await r({fileGenerationStatus:"updated-code-generated",partialText:t.code,uri:t.resource,basename:Di(t.resource)})}};d();var Vc=class extends Error{constructor(r){super(r.message);this.editConversationError=r;this.name="EditConversationException"}static{s(this,"EditConversationException")}};d();d();var LC=class{static{s(this,"CapiErrorTranslator")}static translateErrorMessage(t,r){switch(t){case 466:return"Oops, your plugin is out of date. Please update it.";case 401:return"Oops, you are not authorized. Please sign in.";case 402:return r||"Oops, you need to upgrade your plan.";case 413:return"Oops, your request is too large. Please try again with a smaller input.";case 429:return"Oops, you reached the rate limit. Please try again later.";default:return"Sorry, an error occurred while generating a response."}}};d();d();var oG=class extends Error{static{s(this,"EditTurnNotFoundException")}constructor(t){super(t),this.name="EditTurnNotFoundException"}};var FC=class{constructor(t,r){this.request=t;this.id=_r();this.timestamp=Date.now();this.status="in-progress";this.workingSet=[];r&&r.length>0&&(this.workingSet=r)}static{s(this,"EditTurn")}},Lle=class{constructor(t=[]){this.turns=[];this.turns=t}static{s(this,"EditTurnManager")}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){if(this.turns.length!==0)return this.turns[this.turns.length-1]}hasTurn(t){return this.turns.some(r=>r.id===t)}getTurns(){return[...this.turns]}},sG=class{constructor(t=[],r="panel",n="en"){this._id=_r();this._timestamp=Date.now();this.source="panel";this.userLanguage="en";this.source=r,this.userLanguage=n,this.turnsManager=new Lle(t)}static{s(this,"EditConversation")}get id(){return this._id}get timestamp(){return this._timestamp}getUserLanguage(){return this.userLanguage}getTurns(){return this.turnsManager.getTurns()}getSource(){return this.source}addTurn(t){this.turnsManager.addTurn(t)}deleteTurn(t){this.turnsManager.deleteTurn(t)}getLastTurn(){let t=this.turnsManager.getLastTurn();if(t===void 0)throw new oG(`No turns in the conversation ${this._id}`);return t}hasTurn(t){return this.turnsManager.hasTurn(t)}};var aG=class{static{s(this,"EditCodeResultProcessor")}static processResult(t,r){switch(r.type){case"success":return r.value;case"offTopic":{t.currentTurn.status="off-topic";let n="Sorry, but I can only assist with programming related questions.";throw t.currentTurn.response={message:n,type:"offtopic-detection"},new Vc({message:n,responseIsFiltered:!0})}case"canceled":throw t.currentTurn.status="cancelled",t.currentTurn.response={message:x5,type:"user"},new Vc({message:x5});case"failed":throw t.currentTurn.status="error",t.currentTurn.response={message:r.reason,type:"server"},new Vc({message:LC.translateErrorMessage(r.code,r.reason),code:r.code});case"filtered":throw t.currentTurn.status="filtered",new Vc({message:"Oops, your response got filtered.",responseIsFiltered:!0});case"length":throw t.currentTurn.status="error",new Vc({message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0});case"agentAuthRequired":throw t.currentTurn.status="error",t.currentTurn.response={message:"Authorization required",type:"server"},new Vc({message:"Authorization required",responseIsFiltered:!1});case"no_choices":throw t.currentTurn.status="error",t.currentTurn.response={message:"No choices returned",type:"server"},new Vc({message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"no_finish_reason":throw t.currentTurn.status="error",t.currentTurn.response={message:"No finish reason",type:"server"},new Vc({message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"model_not_supported":throw t.currentTurn.status="error",t.currentTurn.response={message:"Model not supported",type:"server"},new Vc({message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1});case"model_max_prompt_tokens_exceeded":throw t.currentTurn.status="error",t.currentTurn.response={message:"Model max prompt tokens exceeded",type:"server"},new Vc({message:"Oops, the token limit exceeded. Try to shorten your prompt or start a new conversation.",code:400,reason:"model_max_prompt_tokens_exceeded",responseIsFiltered:!1});case"successMultiple":case"tool_calls":case"unknown":throw t.currentTurn.status="error",new Vc({message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1})}}};d();async function*tLe(e){yield e}s(tLe,"stringToAsyncIterable");d();d();var $A=class{static{s(this,"CopilotEditsPromptUriUtils")}static pathToUri(t,r){let n=t.mapToUriInWorkingSet(r);return n||cl(r)}static uriToPath(t){let r=Xo(t);if(r)return r;throw new Error(`Unsupported URI scheme: ${t.split(":")[0]}`)}static posixFilePathToUri(t){return process.platform==="win32"?`file:///c:${t}`:`file://${t}`}};var lG=class{constructor(t){this.props=t;this.exampleFilePath=this.getExampleFilePath("/path/to/file"),this.tsExampleFilePath=this.getExampleFilePath("/Users/someone/proj01/example.ts")}static{s(this,"EditCodePrompt")}async render(){let t=await this.getValidFilesInWorkingSet(),r=[{role:"system",content:this.buildSystemMessage(t)}];if(this.props.history&&this.props.history.length>0)for(let n of this.props.history)r.push({role:"user",content:n.request.message}),n.response&&n.response.type==="model"&&r.push({role:"assistant",content:n.response.message});return r.push({role:"user",content:this.buildUserMessage(t)}),r}getExampleFilePath(t){return this.getFilePath($A.posixFilePathToUri(t))}getFilePath(t){return $A.uriToPath(t)}async getValidFilesInWorkingSet(){let t=new Map;if(this.props.workingSet===void 0||this.props.workingSet===null||this.props.workingSet.length===0)return t;for(let r of this.props.workingSet){let n=await this.props.textDocumentProvider.getByUri(r.uri);n.status==="valid"&&t.set(r.uri,n.document)}return t}buildSystemMessage(t){let r=[];return r.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",t.size>0?"The user has a request for modifying one or more files.":["If the user asks a question, then answer it.",`If you need to change existing files and it's not clear which files should be changed, then refuse and answer with "Please add the files to be modified to the working set"`].join(`
`),"1. Please come up with a solution that you first describe step-by-step.","2. Group your changes by file. Use the file path as the header.","3. For each file, give a short summary of what needs to be changed followed by a code block that contains the code changes.","4. Each file's code block must start with a comment containing the filepath.","5. Use a single code block per file that needs to be modified, even if there are multiple changes for a file.","6. The user is very smart and can understand how to merge your code blocks into their files, you just need to provide minimal hints.","7. Avoid repeating existing code, instead use comments to represent regions of unchanged code. The user prefers that you are as concise as possible. For example: ",["<file>","````languageId",`// ${lk} ${this.exampleFilePath}`,`// ${Ul}`,"{ changed code }",`// ${Ul}`,"{ changed code }",`// ${Ul}`,"````","</file>"].join(`
`),"8. If you generate edits for a Markdown file, use four backticks for the outer code block.",""),this.props.userLanguage&&r.push(`Respond in the following locale: ${this.props.userLanguage}`),this.props.modelName&&r.push(`You use the ${this.props.modelName} large language model.`),r.push("Here is an example of how you should format a code block belonging to the file example.ts in your response:","<example>",[`### ${this.tsExampleFilePath}`,"","Add a new property 'age' and a new method 'getAge' to the class Person.","","<file>","```typescript",`// ${lk} ${this.tsExampleFilePath}`,"class Person {",`   // ${Ul}`,"   age: number;",`   // ${Ul}`,"   getAge() {","      return this.age;","   }","}","```","</file>"].join(`
`),"</example>"),r.join(`
`)}buildUserMessage(t){let r=[];if(t.size>0){r.push("The user has provided the following files as input. Always make changes to these files unless the user asks to create a new file.","Untitled files are files that are not yet named. Make changes to them like regular files.");for(let[n,i]of t){let o=new Ff({code:i.getText(),languageId:i.detectedLanguageId,uri:n});r.push("<file>",...o.renderAsArray(),"</file>")}}return r.push("<reminder>",`Avoid repeating existing code, instead use a line comment with \`${Ul}\` to represent regions of unchanged code.`,"Each file's code block must start with a line comment containing the filepath. This includes Markdown files.","For existing files, make sure the filepath exactly matches the filepath of the original file."),this.props.workspaceFolder&&r.push(`When suggesting to create new files, pick a location inside \`${this.getFilePath(this.props.workspaceFolder)}\``),r.push("</reminder>"),r.push("<prompt>",`${this.props.userMessage}`,"</prompt>"),r.join(`
`)}};d();d();var cG=class{constructor(t){this._source=t;this._buffer="";this._atEnd=!1}static{s(this,"PartialAsyncTextReader")}get endOfStream(){return this._buffer.length===0&&this._atEnd}async extendBuffer(){if(this._atEnd)return;let{value:t,done:r}=await this._source.next();r?this._atEnd=!0:this._buffer+=t}async waitForLength(t){for(;this._buffer.length<t&&!this._atEnd;)await this.extendBuffer()}async peek(t){return await this.waitForLength(t),this._buffer.substring(0,t)}async read(t){await this.waitForLength(t);let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}async readUntil(t){let r="";for(;!this.endOfStream;){let n=this.readImmediateExcept(t);if(r+=n,await this.peek(1)===t)break}return r}async readLineIncludingLF(){let t=await this.readUntil(`
`);return t+=await this.read(1),t}async readLine(){let t=await this.readUntil(`
`);return await this.read(1),t}readImmediateExcept(t){let r=this._buffer.indexOf(t);return this.readImmediate(r===-1?this._buffer.length:r)}readImmediate(t){let r=this._buffer.substring(0,t);return this._buffer=this._buffer.substring(t),r}};var Fle="<file>",ck="```",fk="###",TTt=/^(`+)([^ \n]*)/,uk="filepath:";async function*nLe(e,t){let r=new cG(e[Symbol.asyncIterator]()),n=[];for(;!r.endOfStream;){for(;!r.endOfStream;){let y=await r.peek(Math.max(ck.length,Fle.length,fk.length));if(y.startsWith(Fle)||y.startsWith(ck))break;if(y.startsWith(fk)){let x=await r.readLineIncludingLF(),b=x.substring(fk.length).trim();await t(b)?n.length=0:n.push(x)}else await rLe(r,n)}if(r.endOfStream)break;let i=await r.readLineIncludingLF(),o=i.startsWith(Fle);for(;!r.endOfStream&&!i.startsWith(ck);)i=await r.readLineIncludingLF();if(r.endOfStream)break;let a=i.match(TTt),l=a?a[2]:void 0,c=l6e(l?i6e(l):void 0),u=[`${c.lineComment.start} ${uk}`,`:: ${uk}`,`<!-- ${uk}`,`// ${uk}`,`# ${uk}`],f=Math.max(...u.map(y=>y.length)),m=c.lineComment.end??"",h="</file>",p,g=[];for(;!r.endOfStream;){let y=await r.peek(Math.max(ck.length,f));if(y.startsWith(ck)){let x=await r.readLineIncludingLF();if(!o)break;if(await r.peek(h.length)===h){await r.readLineIncludingLF();break}else{g.push(x);continue}}if(!p&&u.some(x=>y.startsWith(x))){let x=await r.readLineIncludingLF(),b=u.reduce((E,_)=>y.startsWith(_)?x.substring(_.length):E,x);b=b.split("-->")[0].trim(),b.endsWith(m)&&(b=b.substring(0,b.length-m.length)),b=b.trim(),p=await t(b);continue}await rLe(r,g)}yield{resource:p,language:l,code:g.join(""),markdownBeforeBlock:n.join("")},n.length=0}}s(nLe,"getCodeBlocksFromResponse");async function rLe(e,t){for(;!e.endOfStream;){let r=e.readImmediateExcept(`
`);if(r.length>0&&t?.push(r),await e.peek(1)===`
`){e.readImmediate(1),t?.push(`
`);break}}}s(rLe,"pipeOneLine");function iLe(e){if(e.startsWith(`${fk} `))return"";let t=e.indexOf(`
${fk} `);return t===-1?"":e.substring(0,t)+`
`}s(iLe,"parseOverallDescription");d();d();var uG=class extends Error{static{s(this,"EditConversationNotFoundException")}constructor(t){super(t),this.name="EditConversationNotFoundException"}};var wTt=new Gt("CopilotEditsConversations"),el=class{constructor(t){this.editConversations=new un(50);this.ctx=t}static{s(this,"EditConversations")}create(t="panel",r){let n=new sG([],t,r);return this.editConversations.set(n.id,n),n}destroy(t){this.editConversations.delete(t)!==!0&&wTt.warn(this.ctx,`Edit code conversation ${t} does not exist`)}addTurn(t,r){return this.get(t).addTurn(r),r}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getEditConversation(t)}getEditConversation(t){let r=this.editConversations.get(t);if(!r)throw new uG(`Conversation with id ${t} does not exist`);return r}getAll(){return Array.from(this.editConversations.values())}findByTurnId(t){let r=this.getAll();for(let n of r)if(n.hasTurn(t))return n}};d();d();var ua=class{static{s(this,"ModelConfigurationProvider")}},fG=class extends ua{constructor(r){super();this.ctx=r}static{s(this,"DefaultModelConfigurationProvider")}async getBestChatModelConfig(r,n){let i=[];for(let o of r){let a=await this.getFirstMatchingChatModelConfiguration(o,n);a&&i.push(a)}if(i.length>0){let o=i.find(a=>a.isExperimental);return o||i[0]}throw Kr.error(this.ctx,`No model configuration found for families: ${r.join(", ")}. Available models: ${JSON.stringify(await this.ctx.get(sf).getMetadata())}`),new Error("No model configuration found")}async getFirstMatchingModelMetadata(r){let n=await this.ctx.get(sf).getMetadata(),i=STt(n,r);if(i.length>0)return i[0]}async getFirstMatchingChatModelConfiguration(r,n){let i=await this.getFirstMatchingModelMetadata({family:r,type:"chat",supports:n});if(i!==void 0)return r===ei.Gpt35turbo||r===ei.Gpt4oMini?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:Qle(6144,i),maxResponseTokens:Mle(2048,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r===ei.Gpt4||r===ei.Gpt4turbo?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:Qle(10240,i),maxResponseTokens:Mle(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:r===ei.Gpt4o?{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:await _Tt(this.ctx,i),maxResponseTokens:Mle(4096,i),baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}:{modelId:i.id,uiName:i.name,modelFamily:r,maxRequestTokens:i.capabilities.limits?.max_prompt_tokens??8192,maxResponseTokens:i.capabilities.limits?.max_output_tokens??4096,baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:i.capabilities.tokenizer,isExperimental:i.isExperimental??!1,stream:i.capabilities.supports?.streaming??!1,toolCalls:i.capabilities.supports?.tool_calls??!1}}async getFirstMatchingEmbeddingModelConfiguration(r){let n=await this.getFirstMatchingModelMetadata({family:r,type:"embeddings"});if(n!==void 0)switch(r){case wF.textEmbedding3Small:return{modelId:n.id,modelFamily:r,maxBatchSize:n.capabilities.limits?.max_inputs??16,maxTokens:8191,tokenizer:"cl100k_base"}}}};async function _Tt(e,t){let r=e.get(sr),n=await r.updateExPValuesAndAssignments(),i=r.ideChatMaxRequestTokens(n);return i===-1&&(i=16384),Qle(i,t)}s(_Tt,"getExpRequestTokens");function Qle(e,t){return t.capabilities.limits?.max_prompt_tokens?Math.min(e,t.capabilities.limits.max_prompt_tokens):e}s(Qle,"getRequestTokens");function Mle(e,t){return t.capabilities.limits?.max_output_tokens?Math.min(e,t.capabilities.limits.max_output_tokens):e}s(Mle,"getResponseTokens");function STt(e,t){return e.filter(r=>r.capabilities.type!==t.type||r.capabilities.family!==t.family?!1:r.capabilities.supports===void 0||t.supports===void 0?!0:Object.keys(t.supports).every(n=>t.supports?.[n]===r.capabilities.supports?.[n]))}s(STt,"filterModelsByCapabilities");var Co=class{static{s(this,"ModelPickerUtils")}static async getModelConfiguration(t,r,n,i){return n?t.get(ua).getBestChatModelConfig([n]):t.get(ua).getBestChatModelConfig(Rd(r),i)}static transformMessages(t,r){return r===ei.O1Ga||r===ei.O1Mini?t.map(n=>n.role!=="user"?{role:"user",content:n.content}:n):t}};var zA=class{constructor(t,r){this.chatFetcher=r;this.ctx=t,this.chatFetcher=this.chatFetcher??new Ba(t)}static{s(this,"CopilotEditsService")}async createOrContinueEditConversation(t,r){try{await this.reportBegin(t);let n=await this.getEditCodeResult(t,r),i=aG.processResult(t,n);await this.parseAndSendProgressBack(t,i,r),t.currentTurn.response={message:i,type:"model"},t.currentTurn.status="success",await this.reportEnd(t)}catch(n){if(n instanceof DC)await this.reportEnd(t,{message:x5});else if(n instanceof Vc)await this.reportEnd(t,n.editConversationError);else{let i=n instanceof Error?n.message:String(n);t.currentTurn.status="error",t.currentTurn.response={message:i,type:"meta"},await this.reportEnd(t,{message:i})}}return[]}async getEditCodeResult(t,r){await this.abortIfCancelled(t,r);let n=await this.buildEditCodePromptMessages(t),i=await this.ctx.get(sr).updateExPValuesAndAssignments();await this.abortIfCancelled(t,r);let o=await Co.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),a=Co.transformMessages(n,o.modelFamily);return await this.abortIfCancelled(t,r),await this.chatFetcher.fetchResponse({modelConfiguration:o,messages:a,uiKind:"editsPanel",intentParams:{intent:!0},temperature:.1,llmInteraction:t.toLlmInteraction()},r,i)}async buildEditCodePromptMessages(t){let r=t.currentTurn,n=await Co.getModelConfiguration(this.ctx,"edits",t.userSelectedModel),i=t.editConversation.getTurns(),o=i.length>1?i.slice(0,-1):[];return await new lG({userMessage:r.request.message,workspaceFolder:r.workspaceFolder,workingSet:r.workingSet,userLanguage:t.editConversation.getUserLanguage(),textDocumentProvider:new Mg(this.ctx),modelName:n.uiName,history:o}).render()}async abortIfCancelled(t,r){if(r.isCancellationRequested)throw t.currentTurn.status="cancelled",t.currentTurn.response={message:x5,type:"user"},new DC;this.ctx.get(el).get(t.editConversationId)}async parseAndSendProgressBack(t,r,n){try{let i=tLe(r),o=new x9(this.ctx),a=s(async u=>$A.pathToUri(t,u),"createUri"),l=[],c=iLe(r);c&&await this.ctx.get(Ac).reportTurn(t,{fileGenerationStatus:"overall-description-generated",editDescription:c}),await this.abortIfCancelled(t,n);for await(let u of nLe(i,a))l.push(o.mapCode(u,n,async f=>{await this.ctx.get(Ac).reportTurn(t,f)}));await Promise.all(l),l.length===0&&await this.reportNoCodeBlocks(t,r)}catch(i){if(i instanceof PC||i instanceof s6)t.currentTurn.status="error",t.currentTurn.response={message:i.message,type:"meta"},await this.reportEnd(t,{message:i.message});else if(i instanceof DC)t.currentTurn.status="cancelled",t.currentTurn.response={message:x5,type:"user"},await this.reportEnd(t,{message:x5});else throw i}}async reportNoCodeBlocks(t,r){await this.ctx.get(Ac).reportTurn(t,{fileGenerationStatus:"no-code-blocks-found",rawResponse:r})}async reportBegin(t){await this.ctx.get(Ac).reportTurn(t,{fileGenerationStatus:"edit-conversation-begin"})}async reportEnd(t,r){await this.ctx.get(Ac).reportTurn(t,{fileGenerationStatus:"edit-conversation-end",error:r})}};d();var sLe="github.com",oLe=`https://${sLe}`,v9=class extends hs{constructor(r,n={}){super();this.env=n;this.recalculateUrlDefaults(oLe),Ks(r,i=>this.onCopilotToken(r,i))}static{s(this,"DefaultNetworkConfiguration")}onCopilotToken(r,n){this.updateServiceEndpoints(r,n.envelope.endpoints)}getLastKnownEndpointUrl(r,n){return this.join((this.lastEndpoints??fF)[r],n)}getAuthAuthority(){return this.baseUrlObject.host}getAPIUrl(r){return this.join(this.apiUrl,r)}getLoginReachabilityUrl(){return this.loginReachabilityUrl}getTelemetryUrl(r){return this.join(this.telemetryUrl,r)}setTelemetryUrlForTesting(r){this.telemetryUrl=r}getExperimentationUrl(r){return this.join(this.experimentationUrl,r)}validateBaseUrl(r,n){return this.isPermittedUrl(r,n)?!0:(r.get(ja).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${n}".`),!1)}updateBaseUrl(r,n){n||=oLe;let i=this.baseUrlObject;this.validateBaseUrl(r,n)&&this.withTelemetryReInitialization(r,()=>{if(this.recalculateUrlDefaults(n),i.href!==this.baseUrlObject.href)try{r.get(en).resetToken()}catch(o){if(!(o instanceof mS))throw o}})}updateBaseUrlFromTokenEndpoint(r,n){try{let i=new URL(n);i.hostname.startsWith("api.")?this.updateBaseUrl(r,`https://${i.hostname.substring(4)}`):this.updateBaseUrl(r)}catch{this.updateBaseUrl(r)}}updateServiceEndpoints(r,n){this.lastEndpoints=n,n&&this.isPermittedUrl(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=this.join(n.telemetry,"telemetry"),this.experimentationUrl=this.join(n.telemetry,"telemetry")})}withTelemetryReInitialization(r,n){let i=this.telemetryUrl;if(n(),i===this.telemetryUrl)return;let o=r.get(of);o.isInitialized&&o.reInitialize(r)}recalculateUrlDefaults(r){let n=this.parseUrls(r);this.baseUrlObject=n.base;let i=n.api,o=this.baseUrlObject.host!==sLe;this.apiUrl=i.href,this.loginReachabilityUrl=this.join(this.baseUrlObject.href,"/login/device"),this.telemetryUrl=this.join(o?this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href:fF.telemetry,"/telemetry"),this.experimentationUrl=this.telemetryUrl}parseUrls(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL&&!this.env.GITHUB_COPILOT_TOKEN&&!this.env.GH_COPILOT_TOKEN)try{return{base:new URL(this.env.GITHUB_SERVER_URL),api:new URL(this.env.GITHUB_API_URL)}}catch{}let n=new URL(r),i=this.prefixWith("api.",n);return{base:n,api:i}}isPermittedUrl(r,n){return this.isValidUrl(n)&&this.hasSupportedProtocol(r,n)}isValidUrl(r){try{if(r)return new URL(r),!0}catch{}return!1}hasSupportedProtocol(r,n){let i=new URL(n).protocol;return i==="https:"||!dF(r)&&i==="http:"}join(r,n){return n?new URL(n,r).href:r}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}};d();var gen=new Gt("exp");function aLe(e){let t=e.get(sr);t.registerStaticFilters(BTt(e)),t.registerDynamicFilter("X-Copilot-OverrideEngine",()=>Mn(e,bt.DebugOverrideEngine)||Mn(e,bt.DebugOverrideEngineLegacy)),t.registerDynamicFilter("X-VSCode-ExtensionName",()=>yF()?"copilot-web":e.get(gn).getEditorPluginInfo().name),t.registerDynamicFilter("X-VSCode-ExtensionVersion",()=>Ole(!e.get(go).isProduction()&&e.get(gn).getEditorPluginInfo().name==="copilot"?"1.999.0":e.get(gn).getEditorPluginInfo().version)),t.registerDynamicFilter("X-VSCode-ExtensionRelease",()=>RTt(e)),t.registerDynamicFilter("X-VSCode-Build",()=>e.get(gn).getEditorInfo().name),t.registerDynamicFilter("X-VSCode-AppVersion",()=>Ole(e.get(gn).getEditorInfo().version)),t.registerDynamicFilter("X-VSCode-TargetPopulation",()=>kTt(e)),t.registerDynamicFilterGroup(()=>{let r={};for(let n of e.get(gn).getRelatedPluginInfo()){let i=hd+n.name.replace(/[^A-Za-z]/g,"").toLowerCase();if(!Object.values(M7).includes(i)){lF(e,{reason:`A filter could not be registered for the unrecognized related plugin "${n.name}".`});continue}r[i]=Ole(n.version)}return r})}s(aLe,"setupExperimentationService");function RTt(e){let t=e.get(gn).getEditorPluginInfo();return t.name==="copilot"&&_d(e)==="nightly"||t.name==="copilot-intellij"&&t.version.endsWith("nightly")?"nightly":"stable"}s(RTt,"getPluginRelease");function kTt(e){let t=e.get(gn).getEditorInfo();return t.name==="vscode"&&t.version.endsWith("-insider")?"insider":"public"}s(kTt,"getTargetPopulation");function BTt(e){return DTt(e)}s(BTt,"createAllFilters");function DTt(e){let t=e.get(Bs);return{"X-MSEdge-ClientId":t.machineId,"X-Copilot-ClientVersion":Jx(e)}}s(DTt,"createDefaultFilters");function Ole(e){return e.split("-")[0]}s(Ole,"trimVersionSuffix");d();var dk=(r=>(r.enabled="enabled",r.disabled="disabled",r))(dk||{}),Mf=class{static{s(this,"McpManager")}};d();d();d();var Ule=class{constructor(t,r){this.baseDebounceTime=t;this.expectedTotalTime=r;this.providerInvocationTime=Date.now()}static{s(this,"DelaySession")}getDebounceTime(){let t=this.expectedTotalTime===void 0?this.baseDebounceTime:Math.min(this.baseDebounceTime,this.expectedTotalTime),r=Date.now()-this.providerInvocationTime;return Math.max(0,t-r)}getArtificalDelay(){if(this.expectedTotalTime===void 0)return 0;let t=Date.now()-this.providerInvocationTime;return Math.max(0,this.expectedTotalTime-t)}},dG=class{constructor(){this._recentUserActions=[]}static{s(this,"Delayer")}createDelaySession(){let n=this._getExpectedTotalTime(200);return new Ule(200,n)}handleAcceptance(){this._recordUserAction("accepted")}handleRejection(){this._recordUserAction("rejected")}_recordUserAction(t){this._recentUserActions.push({time:Date.now(),kind:t}),this._recentUserActions=this._recentUserActions.slice(-10)}_getExpectedTotalTime(t){let l=Date.now(),c=1;for(let f of this._recentUserActions){let m=l-f.time;if(m>6e5)continue;let h=Math.exp(-m/6e5),p=f.kind==="rejected"?1.5:.8;c*=1+(p-1)*h}let u=t*c;return u=Math.min(3e3,Math.max(50,u)),u}};d();d();d();var Oo;(n=>{function e(i){return new qle(i)}n.ok=e,s(e,"ok");function t(i){return new Wle(i)}n.error=t,s(t,"error");function r(i){return n.error(new Error(i))}n.fromString=r,s(r,"fromString")})(Oo||={});var qle=class e{constructor(t){this.val=t}static{s(this,"ResultOk")}map(t){return new e(t(this.val))}flatMap(t){return t(this.val)}isOk(){return!0}isError(){return!1}},Wle=class{constructor(t){this.err=t}static{s(this,"ResultError")}map(t){return this}flatMap(t){return this}isOk(){return!1}isError(){return!0}};d();d();d();function lLe(e){return e}s(lLe,"identity");var mG=class{constructor(t,r){this.lastCache=void 0;this.lastArgKey=void 0;typeof t=="function"?(this._fn=t,this._computeKey=lLe):(this._fn=r,this._computeKey=t.getCacheKey)}static{s(this,"LRUCachedFunction")}get(t){let r=this._computeKey(t);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this._fn(t)),this.lastCache}},YA=class{constructor(t,r){this._map=new Map;this._map2=new Map;typeof t=="function"?(this._fn=t,this._computeKey=lLe):(this._fn=r,this._computeKey=t.getCacheKey)}static{s(this,"CachedFunction")}get cachedValues(){return this._map}get(t){let r=this._computeKey(t);if(this._map2.has(r))return this._map2.get(r);let n=this._fn(t);return this._map.set(t,n),this._map2.set(r,n),n}};d();d();var Qg=class{constructor(t){this.executor=t;this._didRun=!1}static{s(this,"Lazy")}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(t){this._error=t}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};d();function wb(e){return e<0?0:e>4294967295?4294967295:e|0}s(wb,"toUint32");function Gle(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}s(Gle,"escapeRegExpCharacters");function Og(e){return e.split(/\r\n|\r|\n/)}s(Og,"splitLines");function mk(e,t){let r=Math.min(e.length,t.length),n;for(n=0;n<r;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return r}s(mk,"commonPrefixLength");function E9(e,t){let r=Math.min(e.length,t.length),n,i=e.length-1,o=t.length-1;for(n=0;n<r;n++)if(e.charCodeAt(i-n)!==t.charCodeAt(o-n))return n;return r}s(E9,"commonSuffixLength");var NTt=/^[\t\n\r\x20-\x7E]*$/;function Hle(e){return NTt.test(e)}s(Hle,"isBasicASCII");var Ven=String.fromCharCode(65279);var cLe=class e{static{s(this,"GraphemeBreakTree")}static{this._INSTANCE=null}static getInstance(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}constructor(){this._data=LTt()}getGraphemeBreakType(t){if(t<32)return t===10?3:t===13?2:4;if(t<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(t<r[3*i])i=2*i;else if(t>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function LTt(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}s(LTt,"getGraphemeBreakRawData");var uLe=class e{constructor(t){this.confusableDictionary=t}static{s(this,"AmbiguousCharacters")}static{this.ambiguousCharacterData=new Qg(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new mG({getCacheKey:JSON.stringify},t=>{function r(f){let m=new Map;for(let h=0;h<f.length;h+=2)m.set(f[h],f[h+1]);return m}s(r,"arrayToMap");function n(f,m){let h=new Map(f);for(let[p,g]of m)h.set(p,g);return h}s(n,"mergeMaps");function i(f,m){if(!f)return m;let h=new Map;for(let[p,g]of f)m.has(p)&&h.set(p,g);return h}s(i,"intersectMaps");let o=this.ambiguousCharacterData.value,a=t.filter(f=>!f.startsWith("_")&&f in o);a.length===0&&(a=["_default"]);let l;for(let f of a){let m=r(o[f]);l=i(l,m)}let c=r(o._common),u=n(c,l);return new e(u)})}static getInstance(t){return e.cache.get(Array.from(t))}static{this._locales=new Qg(()=>Object.keys(e.ambiguousCharacterData.value).filter(t=>!t.startsWith("_")))}static getLocales(){return e._locales.value}isAmbiguous(t){return this.confusableDictionary.has(t)}containsAmbiguousCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&this.isAmbiguous(n))return!0}return!1}getPrimaryConfusable(t){return this.confusableDictionary.get(t)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},fLe=class e{static{s(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(e.getRawData())),this._data}static isInvisibleCharacter(t){return e.getData().has(t)}static containsInvisibleCharacter(t){for(let r=0;r<t.length;r++){let n=t.codePointAt(r);if(typeof n=="number"&&e.isInvisibleCharacter(n))return!0}return!1}static get codePoints(){return e.getData()}};d();d();var Vt=class e{constructor(t,r){this.start=t;this.endExclusive=r;if(t>r)throw new vn(`Invalid range: ${this.toString()}`)}static{s(this,"OffsetRange")}static fromTo(t,r){return new e(t,r)}static addRange(t,r){let n=0;for(;n<r.length&&r[n].endExclusive<t.start;)n++;let i=n;for(;i<r.length&&r[i].start<=t.endExclusive;)i++;if(n===i)r.splice(n,0,t);else{let o=Math.min(t.start,r[n].start),a=Math.max(t.endExclusive,r[i-1].endExclusive);r.splice(n,i-n,new e(o,a))}}static tryCreate(t,r){if(!(t>r))return new e(t,r)}static ofLength(t){return new e(0,t)}static ofStartAndLength(t,r){return new e(t,t+r)}static emptyAt(t){return new e(t,t)}get isEmpty(){return this.start===this.endExclusive}delta(t){return new e(this.start+t,this.endExclusive+t)}deltaStart(t){return new e(this.start+t,this.endExclusive)}deltaEnd(t){return new e(this.start,this.endExclusive+t)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(t){return this.start===t.start&&this.endExclusive===t.endExclusive}containsRange(t){return this.start<=t.start&&t.endExclusive<=this.endExclusive}contains(t){return this.start<=t&&t<this.endExclusive}join(t){return new e(Math.min(this.start,t.start),Math.max(this.endExclusive,t.endExclusive))}intersect(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);if(r<=n)return new e(r,n)}intersectionLength(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return Math.max(0,n-r)}intersects(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<n}intersectsOrTouches(t){let r=Math.max(this.start,t.start),n=Math.min(this.endExclusive,t.endExclusive);return r<=n}isBefore(t){return this.endExclusive<=t.start}isAfter(t){return this.start>=t.endExclusive}slice(t){return t.slice(this.start,this.endExclusive)}substring(t){return t.substring(this.start,this.endExclusive)}clip(t){if(this.isEmpty)throw new vn(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,t))}clipCyclic(t){if(this.isEmpty)throw new vn(`Invalid clipping range: ${this.toString()}`);return t<this.start?this.endExclusive-(this.start-t)%this.length:t>=this.endExclusive?this.start+(t-this.start)%this.length:t}map(t){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.start;r<this.endExclusive;r++)t(r)}};d();d();var mn=class e{static{s(this,"Position")}constructor(t,r){this.lineNumber=t,this.column=r}with(t=this.lineNumber,r=this.column){return t===this.lineNumber&&r===this.column?this:new e(t,r)}delta(t=0,r=0){return this.with(this.lineNumber+t,this.column+r)}equals(t){return e.equals(this,t)}static equals(t,r){return!t&&!r?!0:!!t&&!!r&&t.lineNumber===r.lineNumber&&t.column===r.column}isBefore(t){return e.isBefore(this,t)}static isBefore(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<r.column}isBeforeOrEqual(t){return e.isBeforeOrEqual(this,t)}static isBeforeOrEqual(t,r){return t.lineNumber<r.lineNumber?!0:r.lineNumber<t.lineNumber?!1:t.column<=r.column}static compare(t,r){let n=t.lineNumber|0,i=r.lineNumber|0;if(n===i){let o=t.column|0,a=r.column|0;return o-a}return n-i}clone(){return new e(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(t){return new e(t.lineNumber,t.column)}static isIPosition(t){return t&&typeof t.lineNumber=="number"&&typeof t.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};var yr=class e{static{s(this,"Range")}constructor(t,r,n,i){t>n||t===n&&r>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=t,this.endColumn=r):(this.startLineNumber=t,this.startColumn=r,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return e.isEmpty(this)}static isEmpty(t){return t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn}containsPosition(t){return e.containsPosition(this,t)}static containsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<t.startColumn||r.lineNumber===t.endLineNumber&&r.column>t.endColumn)}static strictContainsPosition(t,r){return!(r.lineNumber<t.startLineNumber||r.lineNumber>t.endLineNumber||r.lineNumber===t.startLineNumber&&r.column<=t.startColumn||r.lineNumber===t.endLineNumber&&r.column>=t.endColumn)}containsRange(t){return e.containsRange(this,t)}static containsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>t.endColumn)}strictContainsRange(t){return e.strictContainsRange(this,t)}static strictContainsRange(t,r){return!(r.startLineNumber<t.startLineNumber||r.endLineNumber<t.startLineNumber||r.startLineNumber>t.endLineNumber||r.endLineNumber>t.endLineNumber||r.startLineNumber===t.startLineNumber&&r.startColumn<=t.startColumn||r.endLineNumber===t.endLineNumber&&r.endColumn>=t.endColumn)}plusRange(t){return e.plusRange(this,t)}static plusRange(t,r){let n,i,o,a;return r.startLineNumber<t.startLineNumber?(n=r.startLineNumber,i=r.startColumn):r.startLineNumber===t.startLineNumber?(n=r.startLineNumber,i=Math.min(r.startColumn,t.startColumn)):(n=t.startLineNumber,i=t.startColumn),r.endLineNumber>t.endLineNumber?(o=r.endLineNumber,a=r.endColumn):r.endLineNumber===t.endLineNumber?(o=r.endLineNumber,a=Math.max(r.endColumn,t.endColumn)):(o=t.endLineNumber,a=t.endColumn),new e(n,i,o,a)}intersectRanges(t){return e.intersectRanges(this,t)}static intersectRanges(t,r){let n=t.startLineNumber,i=t.startColumn,o=t.endLineNumber,a=t.endColumn,l=r.startLineNumber,c=r.startColumn,u=r.endLineNumber,f=r.endColumn;return n<l?(n=l,i=c):n===l&&(i=Math.max(i,c)),o>u?(o=u,a=f):o===u&&(a=Math.min(a,f)),n>o||n===o&&i>a?null:new e(n,i,o,a)}equalsRange(t){return e.equalsRange(this,t)}static equalsRange(t,r){return!t&&!r?!0:!!t&&!!r&&t.startLineNumber===r.startLineNumber&&t.startColumn===r.startColumn&&t.endLineNumber===r.endLineNumber&&t.endColumn===r.endColumn}getEndPosition(){return e.getEndPosition(this)}static getEndPosition(t){return new mn(t.endLineNumber,t.endColumn)}getStartPosition(){return e.getStartPosition(this)}static getStartPosition(t){return new mn(t.startLineNumber,t.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(t,r){return new e(this.startLineNumber,this.startColumn,t,r)}setStartPosition(t,r){return new e(t,r,this.endLineNumber,this.endColumn)}collapseToStart(){return e.collapseToStart(this)}static collapseToStart(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)}collapseToEnd(){return e.collapseToEnd(this)}static collapseToEnd(t){return new e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn)}delta(t){return new e(this.startLineNumber+t,this.startColumn,this.endLineNumber+t,this.endColumn)}isSingleLine(){return this.startLineNumber===this.endLineNumber}static fromPositions(t,r=t){return new e(t.lineNumber,t.column,r.lineNumber,r.column)}static lift(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null}static isIRange(t){return t&&typeof t.startLineNumber=="number"&&typeof t.startColumn=="number"&&typeof t.endLineNumber=="number"&&typeof t.endColumn=="number"}static areIntersectingOrTouching(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<t.startColumn)}static areIntersecting(t,r){return!(t.endLineNumber<r.startLineNumber||t.endLineNumber===r.startLineNumber&&t.endColumn<=r.startColumn||r.endLineNumber<t.startLineNumber||r.endLineNumber===t.startLineNumber&&r.endColumn<=t.startColumn)}static compareRangesUsingStarts(t,r){if(t&&r){let o=t.startLineNumber|0,a=r.startLineNumber|0;if(o===a){let l=t.startColumn|0,c=r.startColumn|0;if(l===c){let u=t.endLineNumber|0,f=r.endLineNumber|0;if(u===f){let m=t.endColumn|0,h=r.endColumn|0;return m-h}return u-f}return l-c}return o-a}return(t?1:0)-(r?1:0)}static compareRangesUsingEnds(t,r){return t.endLineNumber===r.endLineNumber?t.endColumn===r.endColumn?t.startLineNumber===r.startLineNumber?t.startColumn-r.startColumn:t.startLineNumber-r.startLineNumber:t.endColumn-r.endColumn:t.endLineNumber-r.endLineNumber}static spansMultipleLines(t){return t.endLineNumber>t.startLineNumber}toJSON(){return this}};var Cr=class e{static{s(this,"LineRange")}static fromRange(t){return new e(t.startLineNumber,t.endLineNumber)}static fromRangeInclusive(t){return new e(t.startLineNumber,t.endLineNumber+1)}static subtract(t,r){return r?t.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(t.startLineNumber,r.startLineNumber),new e(r.endLineNumberExclusive,t.endLineNumberExclusive)]:r.startLineNumber<=t.startLineNumber&&t.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<t.endLineNumberExclusive?[new e(Math.max(r.endLineNumberExclusive,t.startLineNumber),t.endLineNumberExclusive)]:[new e(t.startLineNumber,Math.min(r.startLineNumber,t.endLineNumberExclusive))]:[t]}static joinMany(t){if(t.length===0)return[];let r=new _b(t[0].slice());for(let n=1;n<t.length;n++)r=r.getUnion(new _b(t[n].slice()));return r.ranges}static join(t){if(t.length===0)throw new vn("lineRanges cannot be empty");let r=t[0].startLineNumber,n=t[0].endLineNumberExclusive;for(let i=1;i<t.length;i++)r=Math.min(r,t[i].startLineNumber),n=Math.max(n,t[i].endLineNumberExclusive);return new e(r,n)}static ofLength(t,r){return new e(t,t+r)}static deserialize(t){return new e(t[0],t[1])}constructor(t,r){if(t>r)throw new vn(`startLineNumber ${t} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=t,this.endLineNumberExclusive=r}contains(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(t){return new e(this.startLineNumber+t,this.endLineNumberExclusive+t)}deltaLength(t){return new e(this.startLineNumber,this.endLineNumberExclusive+t)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(t){return new e(Math.min(this.startLineNumber,t.startLineNumber),Math.max(this.endLineNumberExclusive,t.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(t){let r=Math.max(this.startLineNumber,t.startLineNumber),n=Math.min(this.endLineNumberExclusive,t.endLineNumberExclusive);if(r<=n)return new e(r,n)}intersectsStrict(t){return this.startLineNumber<t.endLineNumberExclusive&&t.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(t){return this.startLineNumber<=t.endLineNumberExclusive&&t.startLineNumber<=this.endLineNumberExclusive}equals(t){return this.startLineNumber===t.startLineNumber&&this.endLineNumberExclusive===t.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new yr(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new yr(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(t){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(t(n));return r}forEach(t){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)t(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(t){return this.startLineNumber<=t&&t<this.endLineNumberExclusive}toOffsetRange(){return new Vt(this.startLineNumber-1,this.endLineNumberExclusive-1)}distanceToRange(t){return this.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-this.endLineNumberExclusive:t.endLineNumberExclusive<=this.startLineNumber?this.startLineNumber-t.endLineNumberExclusive:0}distanceToLine(t){return this.contains(t)?0:t<this.startLineNumber?this.startLineNumber-t:t-this.endLineNumberExclusive}addMargin(t,r){return new e(this.startLineNumber-t,this.endLineNumberExclusive+r)}},_b=class e{constructor(t=[]){this._normalizedRanges=t}static{s(this,"LineRangeSet")}get ranges(){return this._normalizedRanges}addRange(t){if(t.length===0)return;let r=Pv(this._normalizedRanges,i=>i.endLineNumberExclusive>=t.startLineNumber),n=Cf(this._normalizedRanges,i=>i.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,t);else if(r===n-1){let i=this._normalizedRanges[r];this._normalizedRanges[r]=i.join(t)}else{let i=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(t);this._normalizedRanges.splice(r,n-r,i)}}contains(t){let r=TA(this._normalizedRanges,n=>n.startLineNumber<=t);return!!r&&r.endLineNumberExclusive>t}intersects(t){let r=TA(this._normalizedRanges,n=>n.startLineNumber<t.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>t.startLineNumber}getUnion(t){if(this._normalizedRanges.length===0)return t;if(t._normalizedRanges.length===0)return this;let r=[],n=0,i=0,o=null;for(;n<this._normalizedRanges.length||i<t._normalizedRanges.length;){let a=null;if(n<this._normalizedRanges.length&&i<t._normalizedRanges.length){let l=this._normalizedRanges[n],c=t._normalizedRanges[i];l.startLineNumber<c.startLineNumber?(a=l,n++):(a=c,i++)}else n<this._normalizedRanges.length?(a=this._normalizedRanges[n],n++):(a=t._normalizedRanges[i],i++);o===null?o=a:o.endLineNumberExclusive>=a.startLineNumber?o=new Cr(o.startLineNumber,Math.max(o.endLineNumberExclusive,a.endLineNumberExclusive)):(r.push(o),o=a)}return o!==null&&r.push(o),new e(r)}subtractFrom(t){let r=Pv(this._normalizedRanges,a=>a.endLineNumberExclusive>=t.startLineNumber),n=Cf(this._normalizedRanges,a=>a.startLineNumber<=t.endLineNumberExclusive)+1;if(r===n)return new e([t]);let i=[],o=t.startLineNumber;for(let a=r;a<n;a++){let l=this._normalizedRanges[a];l.startLineNumber>o&&i.push(new Cr(o,l.startLineNumber)),o=l.endLineNumberExclusive}return o<t.endLineNumberExclusive&&i.push(new Cr(o,t.endLineNumberExclusive)),new e(i)}toString(){return this._normalizedRanges.map(t=>t.toString()).join(", ")}getIntersection(t){let r=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<t._normalizedRanges.length;){let o=this._normalizedRanges[n],a=t._normalizedRanges[i],l=o.intersect(a);l&&!l.isEmpty&&r.push(l),o.endLineNumberExclusive<a.endLineNumberExclusive?n++:i++}return new e(r)}getWithDelta(t){return new e(this._normalizedRanges.map(r=>r.delta(t)))}};d();var dLe=-1;function I9(){return dLe!==-1?dLe:Date.now()}s(I9,"now");function mLe(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}s(mLe,"lineRangeDistance");d();d();var cm=class e{constructor(t){this.edits=t;let r=-1;for(let n of t){if(!(n.replaceRange.start>=r))throw new vn(`Edits must be disjoint and sorted. Found ${n} after ${r}`);r=n.replaceRange.endExclusive}}static{s(this,"OffsetEdit")}static{this.empty=new e([])}static fromJson(t){return new e(t.map(tl.fromJson))}static from(t){let r=t.map(i=>new tl(Vt.ofStartAndLength(i.rangeOffset,i.rangeLength),i.text));return r.reverse(),new e(r)}static single(t,r){return new e([new tl(t,r)])}normalize(){let t=[],r;for(let n of this.edits)n.newText.length===0&&n.replaceRange.length===0||(r&&r.replaceRange.endExclusive===n.replaceRange.start?r=new tl(r.replaceRange.join(n.replaceRange),r.newText+n.newText):(r&&t.push(r),r=n));return r&&t.push(r),new e(t)}normalizeEOL(t){return new e(this.edits.map(r=>r.normalizeEOL(t)))}isNoop(t){return this.edits.every(r=>r.isNoop(t))}toString(){return`[${this.edits.map(r=>r.toString()).join(", ")}]`}apply(t){let r=[],n=0;for(let i of this.edits)r.push(t.substring(n,i.replaceRange.start)),r.push(i.newText),n=i.replaceRange.endExclusive;return r.push(t.substring(n)),r.join("")}compose(t){return FTt(this,t)}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(new tl(Vt.ofStartAndLength(i.replaceRange.start+n,i.newText.length),t.substring(i.replaceRange.start,i.replaceRange.endExclusive))),n+=i.newText.length-i.replaceRange.length;return new e(r)}getNewTextRanges(){let t=[],r=0;for(let n of this.edits)t.push(Vt.ofStartAndLength(n.replaceRange.start+r,n.newText.length)),r+=n.newText.length-n.replaceRange.length;return t}get isEmpty(){return this.edits.length===0}tryRebase(t){let r=[],n=0,i=0,o=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)a?l.replaceRange.intersects(a.replaceRange)?i++:l.replaceRange.start<a.replaceRange.start?(r.push(new tl(l.replaceRange.delta(o),l.newText)),i++):(n++,o+=a.newText.length-a.replaceRange.length):(r.push(new tl(l.replaceRange.delta(o),l.newText)),i++);else break}return new e(r)}removeCommonSuffixPrefix(t){let r=[];for(let n of this.edits){let i=n.removeCommonSuffixPrefix(t);i.isEmpty||r.push(i)}return new e(r)}applyToOffset(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return n.replaceRange.start+r;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRange(t){return new Vt(this.applyToOffset(t.start),this.applyToOffset(t.endExclusive))}applyToOffsetOrUndefined(t){let r=0;for(let n of this.edits)if(n.replaceRange.start<=t){if(t<n.replaceRange.endExclusive)return;r+=n.newText.length-n.replaceRange.length}else break;return t+r}applyToOffsetRangeOrUndefined(t){let r=this.applyToOffsetOrUndefined(t.start);if(r===void 0)return;let n=this.applyToOffsetOrUndefined(t.endExclusive);if(n!==void 0)return new Vt(r,n)}applyInverseToOffset(t){let r=0;for(let n of this.edits){let i=n.newText.length;if(n.replaceRange.start<=t-r){if(t-r<n.replaceRange.start+i)return n.replaceRange.start;r+=i-n.replaceRange.length}else break}return t-r}},tl=class e{constructor(t,r){this.replaceRange=t;this.newText=r}static{s(this,"SingleOffsetEdit")}static delete(t){return new e(t,"")}static fromJson(t){return new e(Vt.ofStartAndLength(t.pos,t.len),t.txt)}toString(){return`${this.replaceRange} -> "${this.newText}"`}removeCommonSuffixPrefix(t){let r=t.substring(this.replaceRange.start,this.replaceRange.endExclusive),n=mk(r,this.newText),i=Math.min(r.length-n,this.newText.length-n,E9(r,this.newText)),o=new Vt(this.replaceRange.start+n,this.replaceRange.endExclusive-i),a=this.newText.substring(n,this.newText.length-i);return new e(o,a)}normalizeEOL(t){let r=this.newText.replace(/\r\n|\n/g,t);return new e(this.replaceRange,r)}isNoop(t){return this.newText===t.substring(this.replaceRange.start,this.replaceRange.endExclusive)}get isEmpty(){return this.newText.length===0&&this.replaceRange.length===0}};function FTt(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty)return t;if(t.isEmpty)return e;let r=[...e.edits],n=[],i=0;for(let o of t.edits){for(;;){let u=r[0];if(!u||u.replaceRange.start+i+u.newText.length>=o.replaceRange.start)break;r.shift(),n.push(u),i+=u.newText.length-u.replaceRange.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.replaceRange.start+i>o.replaceRange.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.replaceRange.length}if(!l)n.push(new tl(o.replaceRange.delta(-i),o.newText));else{let u="",f=o.replaceRange.start-(l.replaceRange.start+a);f>0&&(u=l.newText.slice(0,f));let m=c.replaceRange.endExclusive+i-o.replaceRange.endExclusive;if(m>0){let g=new tl(Vt.ofStartAndLength(c.replaceRange.endExclusive,0),c.newText.slice(-m));r.unshift(g),i-=g.newText.length-g.replaceRange.length}let h=u+o.newText,p=new Vt(Math.min(l.replaceRange.start,o.replaceRange.start-a),o.replaceRange.endExclusive-i);n.push(new tl(p,h))}}for(;;){let o=r.shift();if(!o)break;n.push(o)}return new cm(n).normalize()}s(FTt,"joinEdits");var Es=class e{constructor(t){this.edits=t;Pl(Y5(t,(r,n)=>r.range.endExclusive<=n.range.start))}static{s(this,"Edit")}static deserialize(t){return new e(t.map(r=>Us.deserialize(r)))}static{this.empty=new e([])}static create(t){return new e(t)}static single(t){return new e([t])}static replace(t,r){return new e([Us.replace(t,r)])}static insert(t,r){return new e([Us.insert(t,r)])}static fromOffsetEdit(t){return new e(t.edits.map(r=>Us.replace(r.replaceRange,r.newText)))}static compose(t){let r;for(let n of t)r===void 0?r=n:r=r.compose(n);return r??e.empty}static trySwap(t,r){let n=t.inverse((a,l)=>" ".repeat(l-a)),i=r.tryRebase(n);if(!i)return;let o=t.tryRebase(i);if(o)return{e1:i,e2:o}}toOffsetEdit(){return new cm(this.edits.map(t=>new tl(t.range,t.newText)))}compose(t){return MTt(this,t)}getNewRanges(){return this.toOffsetEdit().getNewTextRanges()}apply(t){let r="",n=0;for(let i of this.edits)r+=t.substring(n,i.range.start),r+=i.newText,n=i.range.endExclusive;return r+=t.substring(n),r}normalize(){let t=[],r;for(let n of this.edits)if(!(n.newText.length===0&&n.range.length===0))if(r&&r.range.endExclusive===n.range.start){let i=r.data?.merge(n.data)??void 0;r=Us.replaceWithData(r.range.join(n.range),r.newText+n.newText,i)}else r&&t.push(r),r=n;return r&&t.push(r),new e(t)}normalizeOnSource(t){let r=this.apply(t),i=Us.replace(Vt.ofLength(t.length),r).removeCommonSuffixAndPrefix(t);return i.isNeutral()?e.empty:i.toEdit()}toString(){return this.edits.map(t=>t.toString()).join("")}decompose(t){if(t===void 0){let i=[],o=0;for(let a of this.edits)i.push(Us.replaceWithData(Vt.ofStartAndLength(a.range.start+o,a.range.length),a.newText,a.data)),o+=a.newText.length-a.range.length;return new hG(i)}if(this.edits.length!==t.arrayLength)throw PS(`Number of edits ${this.edits.length} does not match ${t.arrayLength}`);let r=[],n=this.edits.slice();for(let i=0;i<this.edits.length;++i){let o=t.mapIndexBack(i),a=n[o];r.push(a);for(let l=o;l<n.length;++l){let c=a.newText.length-a.range.length,u=n[l];n[l]=Us.replaceWithData(Vt.ofStartAndLength(u.range.start+c,u.range.length),u.newText,u.data)}}return new hG(r)}getRange(){if(this.edits.length!==0)return this.edits[0].range.join(this.edits[this.edits.length-1].range)}isEmpty(){return this.edits.length===0}applyInverseToOffsetRange(t){let r=this.toOffsetEdit(),n=r.applyInverseToOffset(t.start),i=r.applyInverseToOffset(t.endExclusive);return new Vt(n,i)}serialize(){return this.edits.map(t=>t.serialize())}equals(t){if(this.edits.length!==t.edits.length)return!1;for(let r=0;r<this.edits.length;++r)if(!this.edits[r].equals(t.edits[r]))return!1;return!0}inverse(t){let r=[],n=0;for(let i of this.edits)r.push(Us.replace(Vt.ofStartAndLength(i.range.start+n,i.newText.length),t(i.range.start,i.range.endExclusive))),n+=i.newText.length-i.range.length;return new e(r)}inverseOnString(t){return this.inverse((r,n)=>t.substring(r,n))}mapData(t){return e.create(this.edits.map(r=>r.mapData(t)))}tryRebase(t){let r=[],n=0,i=0,o=0;for(;i<this.edits.length||n<t.edits.length;){let a=t.edits[n],l=this.edits[i];if(l)if(!a)r.push(Us.replace(l.range.delta(o),l.newText)),i++;else{if(l.range.intersectsOrTouches(a.range))return;l.range.start<a.range.start?(r.push(Us.replace(l.range.delta(o),l.newText)),i++):(n++,o+=a.newText.length-a.range.length)}else break}return new e(r)}};function MTt(e,t){if(e=e.normalize(),t=t.normalize(),e.isEmpty())return t;if(t.isEmpty())return e;let r=[...e.edits],n=[],i=0;for(let o of t.edits){for(;;){let u=r[0];if(!u||u.range.start+i+u.newText.length>=o.range.start)break;r.shift(),n.push(u),i+=u.newText.length-u.range.length}let a=i,l,c;for(;;){let u=r[0];if(!u||u.range.start+i>o.range.endExclusive)break;l||(l=u),c=u,r.shift(),i+=u.newText.length-u.range.length}if(!l)n.push(Us.replaceWithData(o.range.delta(-i),o.newText,o.data));else{let u=o.range.start-a-l.range.start;u>0&&n.push(Us.replaceWithData(Vt.emptyAt(l.range.start),l.newText.slice(0,u),l.data));let f=c.range.endExclusive+i-o.range.endExclusive;if(f>0){let h=Us.replaceWithData(Vt.emptyAt(c.range.endExclusive),c.newText.slice(-f),c.data);r.unshift(h),i-=h.newText.length-h.range.length}let m=new Vt(Math.min(l.range.start,o.range.start-a),o.range.endExclusive-i);n.push(Us.replaceWithData(m,o.newText,o.data))}}for(;;){let o=r.shift();if(!o)break;n.push(o)}return Es.create(n).normalize()}s(MTt,"joinEdits");var Us=class e{constructor(t,r,n){this.range=t;this.newText=r;this.data=n}static{s(this,"SingleEdit")}static deserialize(t){return new e(new Vt(t[0],t[1]),t[2],void 0)}static replace(t,r){return new e(t,r,void 0)}static insert(t,r){return new e(new Vt(t,t),r,void 0)}static delete(t){return new e(t,"",void 0)}static replaceWithData(t,r,n){return new e(t,r,n)}static insertWithData(t,r,n){return new e(new Vt(t,t),r,n)}static deleteWithData(t,r){return new e(t,"",r)}static fromSingleOffsetEdit(t){return new e(t.replaceRange,t.newText,void 0)}toString(){return`${this.range}->${JSON.stringify(this.newText)}`}serialize(){return[this.range.start,this.range.endExclusive,this.newText]}toEdit(){return Es.create([this])}equals(t){return this.range.equals(t.range)&&this.newText===t.newText}removeCommonSuffixAndPrefix(t){return this.removeCommonSuffix(t).removeCommonPrefix(t)}removeCommonPrefix(t){let r=this.range.substring(t),n=QTt(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaStart(n),this.newText.substring(n),this.data)}removeCommonSuffix(t){let r=this.range.substring(t),n=OTt(r,this.newText);return n===0?this:e.replaceWithData(this.range.deltaEnd(-n),this.newText.substring(0,this.newText.length-n),this.data)}isNeutral(){return this.newText.length===0&&this.range.length===0}mapData(t){return new e(this.range,this.newText,t(this.data))}};function QTt(e,t){let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return r}s(QTt,"commonPrefixLength");function OTt(e,t){let r=0;for(;r<e.length&&r<t.length&&e[e.length-1-r]===t[t.length-1-r];)r++;return r}s(OTt,"commonSuffixLength");var $c=class e{constructor(t,r){this.base=t;this.edit=r}static{s(this,"RootedEdit")}getEditedState(){return this.base.apply(this.edit)}rebase(t){return b0(()=>null.base.equals(this.base.apply(t))),b0(()=>null.base.apply(null.edit).equals(this.base.apply(t).apply(this.edit))),null}toString(){return qg.fromEdit(this).toString()}normalize(){return new e(this.base,this.edit.normalizeOnSource(this.base.value))}equals(t){return this.base.equals(t.base)&&this.edit.equals(t.edit)}},hG=class e{constructor(t){this.edits=t}static{s(this,"SingleEdits")}static{this.empty=new e([])}compose(){return Es.compose(this.edits.map(t=>t.toEdit()))}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}toEdits(){return new Ug(this.edits.map(t=>t.toEdit()))}},Ug=class e{constructor(t){this.edits=t}static{s(this,"Edits")}static{this.empty=new e([])}static single(t){return new e([t])}compose(){return Es.compose(this.edits)}add(t){return new e([...this.edits,t])}apply(t){return this.compose().apply(t)}isEmpty(){return this.edits.length===0}swap(t){let r=t,n=[];for(let i of this.edits){let o=Es.trySwap(r,i);if(!o)return;n.push(o.e1),r=o.e2}return{edits:new e(n),editLast:r}}mapData(t){return new e(this.edits.map(r=>r.mapData(t)))}serialize(){return this.edits.map(t=>t.serialize())}static deserialize(t){return new e(t.map(r=>Es.deserialize(r)))}toHumanReadablePatch(t){let r=t,n=[];for(let i of this.edits){let o=Fo.fromEdit(new $c(r,i));n.push(o.humanReadablePatch(r.getLines())),r=r.apply(i)}return n.join(`
---
`)}};d();var T9=class e{constructor(t){this.edits=t}static{s(this,"TextEdit")}static fromEdit(t,r){let n=t.edits.map(i=>new KA(r.getTransformer().getRange(i.range),i.newText));return new e(n)}toEdit(t){let r=this.edits.map(n=>Us.replace(t.getTransformer().getOffsetRange(n.range),n.newText));return Es.create(r)}mapEdits(t){return new e(this.edits.map(t))}},KA=class e{constructor(t,r){this.range=t;this.newText=r}static{s(this,"SingleTextEdit")}static joinEdits(t,r){if(t.length===0)throw new vn;if(t.length===1)return t[0];let n=t[0].range.getStartPosition(),i=t[t.length-1].range.getEndPosition(),o="";for(let a=0;a<t.length;a++){let l=t[a];if(o+=l.newText,a<t.length-1){let c=t[a+1],u=yr.fromPositions(l.range.getEndPosition(),c.range.getStartPosition()),f=r.getValueOfRange(u);o+=f}}return new e(yr.fromPositions(n,i),o)}static fromSingleEdit(t,r){return new e(r.getTransformer().getRange(t.range),t.newText)}extendToCoverRange(t,r){if(this.range.containsRange(t))return this;let n=this.range.plusRange(t),i=r.getValueOfRange(yr.fromPositions(n.getStartPosition(),this.range.getStartPosition())),o=r.getValueOfRange(yr.fromPositions(this.range.getEndPosition(),n.getEndPosition())),a=i+this.newText+o;return new e(n,a)}extendToFullLine(t){let r=new yr(this.range.startLineNumber,1,this.range.endLineNumber,t.getTransformer().getLineLength(this.range.endLineNumber)+1);return this.extendToCoverRange(r,t)}toSingleEdit(t){let n=t.getTransformer().getOffsetRange(this.range);return Us.replace(n,this.newText)}};var Fo=class e{constructor(t){this.edits=t;Pl(Y5(t,(r,n)=>r.lineRange.endLineNumberExclusive<=n.lineRange.startLineNumber))}static{s(this,"LineEdit")}static{this.empty=new e([])}static deserialize(t){return new e(t.map(r=>Qh.deserialize(r)))}static fromEdit(t){let r=T9.fromEdit(t.edit,t.base);return e.fromTextEdit(r,t.base)}static fromTextEdit(t,r){let n=t.edits,i=[],o=[];for(let a=0;a<n.length;a++){let l=n[a],c=a+1<n.length?n[a+1]:void 0;if(o.push(l),c&&c.range.startLineNumber===l.range.endLineNumber)continue;let u=KA.joinEdits(o,r);o.length=0;let f=Qh.fromSingleTextEdit(u,r);i.push(f)}return new e(i)}static createFromUnsorted(t){let r=t.slice();return r.sort(xf(n=>n.lineRange.startLineNumber,vf)),new e(r)}isEmpty(){return this.edits.length===0}toEdit(t){let r=[];for(let n of this.edits){let i=n.toSingleEdit(t);r.push(i)}return Es.create(r)}toString(){return this.edits.map(t=>t.toString()).join(",")}serialize(){return this.edits.map(t=>t.serialize())}getNewLineRanges(){let t=[],r=0;for(let n of this.edits)t.push(Cr.ofLength(n.lineRange.startLineNumber+r,n.newLines.length)),r+=n.newLines.length-n.lineRange.length;return t}mapLineNumber(t){let r=0;for(let n of this.edits){if(n.lineRange.endLineNumberExclusive>t)break;r+=n.newLines.length-n.lineRange.length}return t+r}mapLineRange(t){return new Cr(this.mapLineNumber(t.startLineNumber),this.mapLineNumber(t.endLineNumberExclusive))}mapBackLineRange(t,r){return this.inverse(r).mapLineRange(t)}touches(t){return this.edits.some(r=>t.edits.some(n=>r.lineRange.intersect(n.lineRange)))}rebase(t){return new e(this.edits.map(r=>new Qh(t.mapLineRange(r.lineRange),r.newLines)))}humanReadablePatch(t){let r=[];function n(l,c,u,f){let m=u==="unmodified"?" ":u==="deleted"?"-":"+";f===void 0&&(f="[[[[[ WARNING: LINE DOES NOT EXIST ]]]]]");let h=l===-1?"   ":l.toString().padStart(3," "),p=c===-1?"   ":c.toString().padStart(3," ");r.push(`${m} ${h} ${p} ${f}`)}s(n,"pushLine");function i(){r.push("---")}s(i,"pushSeperator");let o=0,a=!0;for(let l of H8(this.edits,(c,u)=>mLe(c.lineRange,u.lineRange)<=5)){a?a=!1:i();let c=l[0].lineRange.startLineNumber-2;for(let u of l){for(let h=Math.max(1,c);h<u.lineRange.startLineNumber;h++)n(h,h+o,"unmodified",t[h-1]);let f=u.lineRange,m=u.newLines;for(let h of f.mapToLineArray(p=>p)){let p=t[h-1];n(h,-1,"deleted",p)}for(let h=0;h<m.length;h++){let p=m[h];n(-1,f.startLineNumber+o+h,"added",p)}c=f.endLineNumberExclusive,o+=u.newLines.length-u.lineRange.length}for(let u=c;u<=Math.min(c+2,t.length);u++)n(u,u+o,"unmodified",t[u-1])}return r.join(`
`)}apply(t){let r=[],n=0;for(let i of this.edits){for(;n<i.lineRange.startLineNumber-1;)r.push(t[n]),n++;for(let o of i.newLines)r.push(o);n=i.lineRange.endLineNumberExclusive-1}for(;n<t.length;)r.push(t[n]),n++;return r}inverse(t){let r=this.getNewLineRanges();return new e(this.edits.map((n,i)=>new Qh(r[i],t.slice(n.lineRange.startLineNumber-1,n.lineRange.endLineNumberExclusive-1))))}},Qh=class e{constructor(t,r){this.lineRange=t;this.newLines=r}static{s(this,"SingleLineEdit")}static deserialize(t){return new e(Cr.ofLength(t[0],t[1]-t[0]),t[2])}static fromSingleTextEdit(t,r){let n=Og(t.newText),i=t.range.startLineNumber,o=r.getValueOfRange(yr.fromPositions(new mn(t.range.startLineNumber,1),t.range.getStartPosition()));n[0]=o+n[0];let a=t.range.endLineNumber+1,l=r.getTransformer().getLineLength(t.range.endLineNumber)+1,c=r.getValueOfRange(yr.fromPositions(t.range.getEndPosition(),new mn(t.range.endLineNumber,l)));n[n.length-1]=n[n.length-1]+c;let u=t.range.startColumn===r.getTransformer().getLineLength(t.range.startLineNumber)+1,f=t.range.endColumn===1;return u&&n[0].length===o.length&&(i++,n.shift()),n.length>0&&i<a&&f&&n[n.length-1].length===c.length&&(a--,n.pop()),new e(new Cr(i,a),n)}toLineEdit(){return new Fo([this])}toSingleTextEdit(t){if(this.newLines.length===0){let r=t.getTransformer().textLength;if(this.lineRange.endLineNumberExclusive===r.lineCount+2){let n;if(this.lineRange.startLineNumber>1){let o=this.lineRange.startLineNumber-1,a=t.getTransformer().getLineLength(o)+1;n=new mn(o,a)}else n=new mn(1,1);let i=r.addToPosition(new mn(1,1));return new KA(yr.fromPositions(n,i),"")}else return new KA(new yr(this.lineRange.startLineNumber,1,this.lineRange.endLineNumberExclusive,1),"")}else if(this.lineRange.isEmpty){let r,n,i,o=this.lineRange.startLineNumber;return o===t.getTransformer().textLength.lineCount+2?(r=o-1,n=t.getTransformer().getLineLength(r)+1,i=this.newLines.map(a=>`
`+a).join("")):(r=o,n=1,i=this.newLines.map(a=>a+`
`).join("")),new KA(yr.fromPositions(new mn(r,n)),i)}else{let r=this.lineRange.endLineNumberExclusive-1,n=t.getTransformer().getLineLength(r)+1,i=new yr(this.lineRange.startLineNumber,1,r,n),o=this.newLines.join(`
`);return new KA(i,o)}}toSingleEdit(t){let r=this.toSingleTextEdit(t),n=t.getTransformer().getOffsetRange(r.range);return Us.replace(n,r.newText)}toString(){return`${this.lineRange}->${JSON.stringify(this.newLines)}`}serialize(){return[this.lineRange.startLineNumber,this.lineRange.endLineNumberExclusive,this.newLines]}removeCommonSuffixPrefixLines(t){let r=this.lineRange.startLineNumber,n=this.lineRange.endLineNumberExclusive,i=0;for(;r<n&&i<this.newLines.length&&this.newLines[i]===t.getLineAt(r);)r++,i++;let o=0;for(;r<n&&o+i<this.newLines.length&&this.newLines[this.newLines.length-1-o]===t.getLineAt(n-1);)n--,o++;return i===0&&o===0?this:new e(new Cr(r,n),this.newLines.slice(i,this.newLines.length-o))}},UTt;(t=>{function e(r){return Array.isArray(r)&&r.length===3&&typeof r[0]=="number"&&typeof r[1]=="number"&&Array.isArray(r[2])&&r[2].every(n=>typeof n=="string")}t.is=e,s(e,"is")})(UTt||={});var qg=class e{constructor(t,r){this.base=t;this.edit=r}static{s(this,"RootedLineEdit")}static fromEdit(t){let r=Fo.fromEdit(t);return new e(t.base,r)}toString(){return this.edit.humanReadablePatch(this.base.getLines())}toEdit(){return this.edit.toEdit(this.base)}toRootedEdit(){return new $c(this.base,this.toEdit())}getEditedState(){let t=this.base.getLines();return this.edit.apply(t)}removeCommonSuffixPrefixLines(){let t=s(n=>!n.lineRange.isEmpty||n.newLines.length>0,"isNotEmptyEdit"),r=this.edit.edits.map(n=>n.removeCommonSuffixPrefixLines(this.base)).filter(n=>t(n));return new e(this.base,new Fo(r))}};d();var pG=class e{constructor(t){this._indexMap=t}static{s(this,"Permutation")}get arrayLength(){return this._indexMap.length}static createSortPermutation(t,r){let n=Array.from(t.keys()).sort((i,o)=>r(t[i],t[o]));return new e(n)}apply(t){if(t.length!==this.arrayLength)throw PS(`Permutation must be applied on an array of same length. Received length: ${t.length}. Expected length: ${this.arrayLength}`);return t.map((r,n)=>t[this._indexMap[n]])}mapIndexBack(t){let r=this._indexMap.at(t);if(r===void 0)throw PS(`Given index must be within original array length. Received: ${t}. Expected: 0 <= x < ${this.arrayLength}`);return r}inverse(){let t=this._indexMap.slice();for(let r=0;r<this._indexMap.length;r++)t[this._indexMap[r]]=r;return new e(t)}};d();d();var Sk=Ze(Wh());function RFe(e){return e.map(Gwt).join(`
`)}s(RFe,"stringifyChatMessages");function Gwt({role:e,content:t}){if(e!==Sk.Raw.ChatRole.User&&e!==Sk.Raw.ChatRole.System)return"omitted because of non-user and non-system role";let r=e===Sk.Raw.ChatRole.User?"User":"System",n=t.at(0);return n?.type!==Sk.Raw.ChatCompletionContentPartKind.Text?"omitted because of non-text content":`${r}
------
${n.text}
==================`}s(Gwt,"stringifyMessage");d();d();var Hwt=Symbol("MicrotaskDelay");function jwt(e){let t=new _A,r=e(t.token),n=new Promise((i,o)=>{let a=t.token.onCancellationRequested(()=>{a.dispose(),o(new fg)});Promise.resolve(r).then(l=>{a.dispose(),t.dispose(),i(l)},l=>{a.dispose(),t.dispose(),o(l)})});return new class{cancel(){t.cancel(),t.dispose()}then(i,o){return n.then(i,o)}catch(i){return this.then(void 0,i)}finally(i){return n.finally(i)}}}s(jwt,"createCancelablePromise");function r2(e,t){return t?new Promise((r,n)=>{let i=setTimeout(()=>{o.dispose(),r()},e),o=t.onCancellationRequested(()=>{clearTimeout(i),o.dispose(),n(new fg)})}):jwt(r=>r2(e,r))}s(r2,"timeout");var GG=class{constructor(t,r){this._isDisposed=!1;this._token=-1,typeof t=="function"&&typeof r=="number"&&this.setIfNotSet(t,r)}static{s(this,"TimeoutTimer")}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(t,r){if(this._isDisposed)throw new vn("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,t()},r)}setIfNotSet(t,r){if(this._isDisposed)throw new vn("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,t()},r))}};var Rk=class{static{s(this,"DeferredPromise")}get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}constructor(){this.p=new Promise((t,r)=>{this.completeCallback=t,this.errorCallback=r})}complete(t){return new Promise(r=>{this.completeCallback(t),this.outcome={outcome:0,value:t},r()})}error(t){return new Promise(r=>{this.errorCallback(t),this.outcome={outcome:1,value:t},r()})}cancel(){return this.error(new fg)}},Vwt;(r=>{async function e(n){let i,o=await Promise.all(n.map(a=>a.then(l=>l,l=>{i||(i=l)})));if(typeof i<"u")throw i;return o}r.settled=e,s(e,"settled");function t(n){return new Promise(async(i,o)=>{try{await n(i,o)}catch(a){o(a)}})}r.withAsyncBody=t,s(t,"withAsyncBody")})(Vwt||={});var kk=class e{static{s(this,"AsyncIterableObject")}static fromArray(t){return new e(r=>{r.emitMany(t)})}static fromPromise(t){return new e(async r=>{r.emitMany(await t)})}static fromPromisesResolveOrder(t){return new e(async r=>{await Promise.all(t.map(async n=>r.emitOne(await n)))})}static merge(t){return new e(async r=>{await Promise.all(t.map(async n=>{for await(let i of n)r.emitOne(i)}))})}static{this.EMPTY=e.fromArray([])}constructor(t,r){this._state=0,this._results=[],this._error=null,this._onReturn=r,this._onStateChanged=new bf,queueMicrotask(async()=>{let n={emitOne:s(i=>this.emitOne(i),"emitOne"),emitMany:s(i=>this.emitMany(i),"emitMany"),reject:s(i=>this.reject(i),"reject")};try{await Promise.resolve(t(n)),this.resolve()}catch(i){this.reject(i)}finally{n.emitOne=void 0,n.emitMany=void 0,n.reject=void 0}})}[Symbol.asyncIterator](){let t=0;return{next:s(async()=>{do{if(this._state===2)throw this._error;if(t<this._results.length)return{done:!1,value:this._results[t++]};if(this._state===1)return{done:!0,value:void 0};await Fv.toPromise(this._onStateChanged.event)}while(!0)},"next"),return:s(async()=>(this._onReturn?.(),{done:!0,value:void 0}),"return")}}static map(t,r){return new e(async n=>{for await(let i of t)n.emitOne(r(i))})}map(t){return e.map(this,t)}static filter(t,r){return new e(async n=>{for await(let i of t)r(i)&&n.emitOne(i)})}filter(t){return e.filter(this,t)}static coalesce(t){return e.filter(t,r=>!!r)}coalesce(){return e.coalesce(this)}static async toPromise(t){let r=[];for await(let n of t)r.push(n);return r}toPromise(){return e.toPromise(this)}emitOne(t){this._state===0&&(this._results.push(t),this._onStateChanged.fire())}emitMany(t){this._state===0&&(this._results=this._results.concat(t),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(t){this._state===0&&(this._state=2,this._error=t,this._onStateChanged.fire())}};var HG=class{constructor(t){this._deferred=new Rk;this._asyncIterable=new kk(i=>{if(r){i.reject(r);return}return n&&i.emitMany(n),this._errorFn=o=>i.reject(o),this._emitFn=o=>i.emitOne(o),this._deferred.p},t);let r,n;this._emitFn=i=>{n||(n=[]),n.push(i)},this._errorFn=i=>{r||(r=i)}}static{s(this,"AsyncIterableSource")}get asyncIterable(){return this._asyncIterable}resolve(){this._deferred.complete()}reject(t){this._errorFn(t),this._deferred.complete()}emitOne(t){this._emitFn(t)}};d();d();d();d();d();var VG=!1,$G=!1,jG=!1,$wt=!1,zwt=!1,kFe=!1,Ywt=!1,Kwt=!1,Jwt=!1,Xwt=!1;var n2,i2=globalThis,fm;typeof i2.vscode<"u"&&typeof i2.vscode.process<"u"?fm=i2.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(fm=process);var BFe=typeof fm?.versions?.electron=="string",Zwt=BFe&&fm?.type==="renderer";typeof fm=="object"?(VG=fm.platform==="win32",$G=fm.platform==="darwin",jG=fm.platform==="linux",$wt=jG&&!!fm.env.SNAP&&!!fm.env.SNAP_REVISION,Ywt=BFe,Jwt=!!fm.env.CI||!!fm.env.BUILD_ARTIFACTSTAGINGDIRECTORY,zwt=!0):typeof navigator=="object"&&!Zwt?(n2=navigator.userAgent,VG=n2.indexOf("Windows")>=0,$G=n2.indexOf("Macintosh")>=0,Kwt=(n2.indexOf("Macintosh")>=0||n2.indexOf("iPad")>=0||n2.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,jG=n2.indexOf("Linux")>=0,Xwt=n2?.indexOf("Mobi")>=0,kFe=!0):console.error("Unable to resolve platform.");var Mce=0;$G?Mce=1:VG?Mce=3:jG&&(Mce=2);var Lb=VG,DFe=$G;var e7t=kFe&&typeof i2.importScripts=="function",Hnn=e7t?i2.origin:void 0;var jg=n2;var t7t=typeof i2.postMessage=="function"&&!i2.importScripts,jnn=(()=>{if(t7t){let e=[];i2.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let o=e[n];if(o.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),o.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),i2.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})();var r7t=!!(jg&&jg.indexOf("Chrome")>=0),Vnn=!!(jg&&jg.indexOf("Firefox")>=0),$nn=!!(!r7t&&jg&&jg.indexOf("Safari")>=0),znn=!!(jg&&jg.indexOf("Edg/")>=0),Ynn=!!(jg&&jg.indexOf("Android")>=0);var Fb,Qce=globalThis.vscode;if(typeof Qce<"u"&&typeof Qce.process<"u"){let e=Qce.process;Fb={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd(){return e.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?Fb={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:Fb={get platform(){return Lb?"win32":DFe?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var Bk=Fb.cwd,PFe=Fb.env,NFe=Fb.platform,tin=Fb.arch;var i7t=65,o7t=97,s7t=90,a7t=122,zC=46,Wl=47,wu=92,VC=58,l7t=63,zG=class extends Error{static{s(this,"ErrorInvalidArgType")}constructor(t,r,n){let i;typeof r=="string"&&r.indexOf("not ")===0?(i="must not be",r=r.replace(/^not /,"")):i="must be";let o=t.indexOf(".")!==-1?"property":"argument",a=`The "${t}" ${o} ${i} of type ${r}`;a+=`. Received type ${typeof n}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}};function c7t(e,t){if(e===null||typeof e!="object")throw new zG(t,"Object",e)}s(c7t,"validateObject");function da(e,t){if(typeof e!="string")throw new zG(t,"string",e)}s(da,"validateString");var _u=NFe==="win32";function li(e){return e===Wl||e===wu}s(li,"isPathSeparator");function Oce(e){return e===Wl}s(Oce,"isPosixPathSeparator");function $C(e){return e>=i7t&&e<=s7t||e>=o7t&&e<=a7t}s($C,"isWindowsDeviceRoot");function YG(e,t,r,n){let i="",o=0,a=-1,l=0,c=0;for(let u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(n(c))break;c=Wl}if(n(c)){if(!(a===u-1||l===1))if(l===2){if(i.length<2||o!==2||i.charCodeAt(i.length-1)!==zC||i.charCodeAt(i.length-2)!==zC){if(i.length>2){let f=i.lastIndexOf(r);f===-1?(i="",o=0):(i=i.slice(0,f),o=i.length-1-i.lastIndexOf(r)),a=u,l=0;continue}else if(i.length!==0){i="",o=0,a=u,l=0;continue}}t&&(i+=i.length>0?`${r}..`:"..",o=2)}else i.length>0?i+=`${r}${e.slice(a+1,u)}`:i=e.slice(a+1,u),o=u-a-1;a=u,l=0}else c===zC&&l!==-1?++l:l=-1}return i}s(YG,"normalizeString");function u7t(e){return e?`${e[0]==="."?"":"."}${e}`:""}s(u7t,"formatExt");function LFe(e,t){c7t(t,"pathObject");let r=t.dir||t.root,n=t.base||`${t.name||""}${u7t(t.ext)}`;return r?r===t.root?`${r}${n}`:`${r}${e}${n}`:n}s(LFe,"_format");var ma={resolve(...e){let t="",r="",n=!1;for(let i=e.length-1;i>=-1;i--){let o;if(i>=0){if(o=e[i],da(o,`paths[${i}]`),o.length===0)continue}else t.length===0?o=Bk():(o=PFe[`=${t}`]||Bk(),(o===void 0||o.slice(0,2).toLowerCase()!==t.toLowerCase()&&o.charCodeAt(2)===wu)&&(o=`${t}\\`));let a=o.length,l=0,c="",u=!1,f=o.charCodeAt(0);if(a===1)li(f)&&(l=1,u=!0);else if(li(f))if(u=!0,li(o.charCodeAt(1))){let m=2,h=m;for(;m<a&&!li(o.charCodeAt(m));)m++;if(m<a&&m!==h){let p=o.slice(h,m);for(h=m;m<a&&li(o.charCodeAt(m));)m++;if(m<a&&m!==h){for(h=m;m<a&&!li(o.charCodeAt(m));)m++;(m===a||m!==h)&&(c=`\\\\${p}\\${o.slice(h,m)}`,l=m)}}}else l=1;else $C(f)&&o.charCodeAt(1)===VC&&(c=o.slice(0,2),l=2,a>2&&li(o.charCodeAt(2))&&(u=!0,l=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(n){if(t.length>0)break}else if(r=`${o.slice(l)}\\${r}`,n=u,u&&t.length>0)break}return r=YG(r,!n,"\\",li),n?`${t}\\${r}`:`${t}${r}`||"."},normalize(e){da(e,"path");let t=e.length;if(t===0)return".";let r=0,n,i=!1,o=e.charCodeAt(0);if(t===1)return Oce(o)?"\\":e;if(li(o))if(i=!0,li(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!li(e.charCodeAt(l));)l++;if(l<t&&l!==c){let u=e.slice(c,l);for(c=l;l<t&&li(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!li(e.charCodeAt(l));)l++;if(l===t)return`\\\\${u}\\${e.slice(c)}\\`;l!==c&&(n=`\\\\${u}\\${e.slice(c,l)}`,r=l)}}}else r=1;else $C(o)&&e.charCodeAt(1)===VC&&(n=e.slice(0,2),r=2,t>2&&li(e.charCodeAt(2))&&(i=!0,r=3));let a=r<t?YG(e.slice(r),!i,"\\",li):"";return a.length===0&&!i&&(a="."),a.length>0&&li(e.charCodeAt(t-1))&&(a+="\\"),n===void 0?i?`\\${a}`:a:i?`${n}\\${a}`:`${n}${a}`},isAbsolute(e){da(e,"path");let t=e.length;if(t===0)return!1;let r=e.charCodeAt(0);return li(r)||t>2&&$C(r)&&e.charCodeAt(1)===VC&&li(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,r;for(let o=0;o<e.length;++o){let a=e[o];da(a,"path"),a.length>0&&(t===void 0?t=r=a:t+=`\\${a}`)}if(t===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&li(r.charCodeAt(0))){++i;let o=r.length;o>1&&li(r.charCodeAt(1))&&(++i,o>2&&(li(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<t.length&&li(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return ma.normalize(t)},relative(e,t){if(da(e,"from"),da(t,"to"),e===t)return"";let r=ma.resolve(e),n=ma.resolve(t);if(r===n||(e=r.toLowerCase(),t=n.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===wu;)i++;let o=e.length;for(;o-1>i&&e.charCodeAt(o-1)===wu;)o--;let a=o-i,l=0;for(;l<t.length&&t.charCodeAt(l)===wu;)l++;let c=t.length;for(;c-1>l&&t.charCodeAt(c-1)===wu;)c--;let u=c-l,f=a<u?a:u,m=-1,h=0;for(;h<f;h++){let g=e.charCodeAt(i+h);if(g!==t.charCodeAt(l+h))break;g===wu&&(m=h)}if(h!==f){if(m===-1)return n}else{if(u>f){if(t.charCodeAt(l+h)===wu)return n.slice(l+h+1);if(h===2)return n.slice(l+h)}a>f&&(e.charCodeAt(i+h)===wu?m=h:h===2&&(m=3)),m===-1&&(m=0)}let p="";for(h=i+m+1;h<=o;++h)(h===o||e.charCodeAt(h)===wu)&&(p+=p.length===0?"..":"\\..");return l+=m,p.length>0?`${p}${n.slice(l,c)}`:(n.charCodeAt(l)===wu&&++l,n.slice(l,c))},toNamespacedPath(e){if(typeof e!="string"||e.length===0)return e;let t=ma.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===wu){if(t.charCodeAt(1)===wu){let r=t.charCodeAt(2);if(r!==l7t&&r!==zC)return`\\\\?\\UNC\\${t.slice(2)}`}}else if($C(t.charCodeAt(0))&&t.charCodeAt(1)===VC&&t.charCodeAt(2)===wu)return`\\\\?\\${t}`;return e},dirname(e){da(e,"path");let t=e.length;if(t===0)return".";let r=-1,n=0,i=e.charCodeAt(0);if(t===1)return li(i)?e:".";if(li(i)){if(r=n=1,li(e.charCodeAt(1))){let l=2,c=l;for(;l<t&&!li(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&li(e.charCodeAt(l));)l++;if(l<t&&l!==c){for(c=l;l<t&&!li(e.charCodeAt(l));)l++;if(l===t)return e;l!==c&&(r=n=l+1)}}}}else $C(i)&&e.charCodeAt(1)===VC&&(r=t>2&&li(e.charCodeAt(2))?3:2,n=r);let o=-1,a=!0;for(let l=t-1;l>=n;--l)if(li(e.charCodeAt(l))){if(!a){o=l;break}}else a=!1;if(o===-1){if(r===-1)return".";o=r}return e.slice(0,o)},basename(e,t){t!==void 0&&da(t,"suffix"),da(e,"path");let r=0,n=-1,i=!0,o;if(e.length>=2&&$C(e.charCodeAt(0))&&e.charCodeAt(1)===VC&&(r=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(o=e.length-1;o>=r;--o){let c=e.charCodeAt(o);if(li(c)){if(!i){r=o+1;break}}else l===-1&&(i=!1,l=o+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=o):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(o=e.length-1;o>=r;--o)if(li(e.charCodeAt(o))){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(r,n)},extname(e){da(e,"path");let t=0,r=-1,n=0,i=-1,o=!0,a=0;e.length>=2&&e.charCodeAt(1)===VC&&$C(e.charCodeAt(0))&&(t=n=2);for(let l=e.length-1;l>=t;--l){let c=e.charCodeAt(l);if(li(c)){if(!o){n=l+1;break}continue}i===-1&&(o=!1,i=l+1),c===zC?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:LFe.bind(null,"\\"),parse(e){da(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.length,n=0,i=e.charCodeAt(0);if(r===1)return li(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(li(i)){if(n=1,li(e.charCodeAt(1))){let m=2,h=m;for(;m<r&&!li(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&li(e.charCodeAt(m));)m++;if(m<r&&m!==h){for(h=m;m<r&&!li(e.charCodeAt(m));)m++;m===r?n=m:m!==h&&(n=m+1)}}}}else if($C(i)&&e.charCodeAt(1)===VC){if(r<=2)return t.root=t.dir=e,t;if(n=2,li(e.charCodeAt(2))){if(r===3)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let o=-1,a=n,l=-1,c=!0,u=e.length-1,f=0;for(;u>=n;--u){if(i=e.charCodeAt(u),li(i)){if(!c){a=u+1;break}continue}l===-1&&(c=!1,l=u+1),i===zC?o===-1?o=u:f!==1&&(f=1):o!==-1&&(f=-1)}return l!==-1&&(o===-1||f===0||f===1&&o===l-1&&o===a+1?t.base=t.name=e.slice(a,l):(t.name=e.slice(a,o),t.base=e.slice(a,l),t.ext=e.slice(o,l))),a>0&&a!==n?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},f7t=(()=>{if(_u){let e=/\\/g;return()=>{let t=Bk().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>Bk()})(),Pa={resolve(...e){let t="",r=!1;for(let n=e.length-1;n>=-1&&!r;n--){let i=n>=0?e[n]:f7t();da(i,`paths[${n}]`),i.length!==0&&(t=`${i}/${t}`,r=i.charCodeAt(0)===Wl)}return t=YG(t,!r,"/",Oce),r?`/${t}`:t.length>0?t:"."},normalize(e){if(da(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Wl,r=e.charCodeAt(e.length-1)===Wl;return e=YG(e,!t,"/",Oce),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return da(e,"path"),e.length>0&&e.charCodeAt(0)===Wl},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){let n=e[r];da(n,"path"),n.length>0&&(t===void 0?t=n:t+=`/${n}`)}return t===void 0?".":Pa.normalize(t)},relative(e,t){if(da(e,"from"),da(t,"to"),e===t||(e=Pa.resolve(e),t=Pa.resolve(t),e===t))return"";let r=1,n=e.length,i=n-r,o=1,a=t.length-o,l=i<a?i:a,c=-1,u=0;for(;u<l;u++){let m=e.charCodeAt(r+u);if(m!==t.charCodeAt(o+u))break;m===Wl&&(c=u)}if(u===l)if(a>l){if(t.charCodeAt(o+u)===Wl)return t.slice(o+u+1);if(u===0)return t.slice(o+u)}else i>l&&(e.charCodeAt(r+u)===Wl?c=u:u===0&&(c=0));let f="";for(u=r+c+1;u<=n;++u)(u===n||e.charCodeAt(u)===Wl)&&(f+=f.length===0?"..":"/..");return`${f}${t.slice(o+c)}`},toNamespacedPath(e){return e},dirname(e){if(da(e,"path"),e.length===0)return".";let t=e.charCodeAt(0)===Wl,r=-1,n=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===Wl){if(!n){r=i;break}}else n=!1;return r===-1?t?"/":".":t&&r===1?"//":e.slice(0,r)},basename(e,t){t!==void 0&&da(t,"ext"),da(e,"path");let r=0,n=-1,i=!0,o;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,l=-1;for(o=e.length-1;o>=0;--o){let c=e.charCodeAt(o);if(c===Wl){if(!i){r=o+1;break}}else l===-1&&(i=!1,l=o+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(n=o):(a=-1,n=l))}return r===n?n=l:n===-1&&(n=e.length),e.slice(r,n)}for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===Wl){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(r,n)},extname(e){da(e,"path");let t=-1,r=0,n=-1,i=!0,o=0;for(let a=e.length-1;a>=0;--a){let l=e.charCodeAt(a);if(l===Wl){if(!i){r=a+1;break}continue}n===-1&&(i=!1,n=a+1),l===zC?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||n===-1||o===0||o===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:LFe.bind(null,"/"),parse(e){da(e,"path");let t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;let r=e.charCodeAt(0)===Wl,n;r?(t.root="/",n=1):n=0;let i=-1,o=0,a=-1,l=!0,c=e.length-1,u=0;for(;c>=n;--c){let f=e.charCodeAt(c);if(f===Wl){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===zC?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}if(a!==-1){let f=o===0&&r?1:o;i===-1||u===0||u===1&&i===a-1&&i===o+1?t.base=t.name=e.slice(f,a):(t.name=e.slice(f,i),t.base=e.slice(f,a),t.ext=e.slice(i,a))}return o>0?t.dir=e.slice(0,o-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Pa.win32=ma.win32=ma;Pa.posix=ma.posix=Pa;var nin=_u?ma.normalize:Pa.normalize,iin=_u?ma.isAbsolute:Pa.isAbsolute,oin=_u?ma.join:Pa.join,sin=_u?ma.resolve:Pa.resolve,ain=_u?ma.relative:Pa.relative,lin=_u?ma.dirname:Pa.dirname,FFe=_u?ma.basename:Pa.basename,MFe=_u?ma.extname:Pa.extname,cin=_u?ma.format:Pa.format,uin=_u?ma.parse:Pa.parse,fin=_u?ma.toNamespacedPath:Pa.toNamespacedPath,din=_u?ma.sep:Pa.sep,min=_u?ma.delimiter:Pa.delimiter;var m7t=/^\w[\w\d+.-]*$/,h7t=/^\//,p7t=/^\/\//;function g7t(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!m7t.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path){if(e.authority){if(!h7t.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p7t.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}s(g7t,"_validateUri");function A7t(e,t){return!e&&!t?"file":e}s(A7t,"_schemeFix");function y7t(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Hh&&(t=Hh+t):t=Hh;break}return t}s(y7t,"_referenceResolution");var Vo="",Hh="/",C7t=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,KC=class e{static{s(this,"URI")}static isUri(t){return t instanceof e?!0:t?typeof t.authority=="string"&&typeof t.fragment=="string"&&typeof t.path=="string"&&typeof t.query=="string"&&typeof t.scheme=="string"&&typeof t.fsPath=="string"&&typeof t.with=="function"&&typeof t.toString=="function":!1}constructor(t,r,n,i,o,a=!1){typeof t=="object"?(this.scheme=t.scheme||Vo,this.authority=t.authority||Vo,this.path=t.path||Vo,this.query=t.query||Vo,this.fragment=t.fragment||Vo):(this.scheme=A7t(t,a),this.authority=r||Vo,this.path=y7t(this.scheme,n||Vo),this.query=i||Vo,this.fragment=o||Vo,g7t(this,a))}get fsPath(){return Uce(this,!1)}with(t){if(!t)return this;let{scheme:r,authority:n,path:i,query:o,fragment:a}=t;return r===void 0?r=this.scheme:r===null&&(r=Vo),n===void 0?n=this.authority:n===null&&(n=Vo),i===void 0?i=this.path:i===null&&(i=Vo),o===void 0?o=this.query:o===null&&(o=Vo),a===void 0?a=this.fragment:a===null&&(a=Vo),r===this.scheme&&n===this.authority&&i===this.path&&o===this.query&&a===this.fragment?this:new YC(r,n,i,o,a)}static parse(t,r=!1){let n=C7t.exec(t);return n?new YC(n[2]||Vo,KG(n[4]||Vo),KG(n[5]||Vo),KG(n[7]||Vo),KG(n[9]||Vo),r):new YC(Vo,Vo,Vo,Vo,Vo)}static file(t){let r=Vo;if(Lb&&(t=t.replace(/\\/g,Hh)),t[0]===Hh&&t[1]===Hh){let n=t.indexOf(Hh,2);n===-1?(r=t.substring(2),t=Hh):(r=t.substring(2,n),t=t.substring(n)||Hh)}return new YC("file",r,t,Vo,Vo)}static from(t,r){return new YC(t.scheme,t.authority,t.path,t.query,t.fragment,r)}static joinPath(t,...r){if(!t.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return Lb&&t.scheme==="file"?n=e.file(ma.join(Uce(t,!0),...r)).path:n=Pa.join(t.path,...r),t.with({path:n})}toString(t=!1){return qce(this,t)}toJSON(){return this}static revive(t){if(t){if(t instanceof e)return t;{let r=new YC(t);return r._formatted=t.external??null,r._fsPath=t._sep===UFe?t.fsPath??null:null,r}}else return t}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}};var UFe=Lb?1:void 0,YC=class extends KC{constructor(){super(...arguments);this._formatted=null;this._fsPath=null}static{s(this,"Uri")}get fsPath(){return this._fsPath||(this._fsPath=Uce(this,!1)),this._fsPath}toString(r=!1){return r?qce(this,!0):(this._formatted||(this._formatted=qce(this,!1)),this._formatted)}toJSON(){let r={$mid:1};return this._fsPath&&(r.fsPath=this._fsPath,r._sep=UFe),this._formatted&&(r.external=this._formatted),this.path&&(r.path=this.path),this.scheme&&(r.scheme=this.scheme),this.authority&&(r.authority=this.authority),this.query&&(r.query=this.query),this.fragment&&(r.fragment=this.fragment),r}},qFe={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function QFe(e,t,r){let n,i=-1;for(let o=0;o<e.length;o++){let a=e.charCodeAt(o);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===45||a===46||a===95||a===126||t&&a===47||r&&a===91||r&&a===93||r&&a===58)i!==-1&&(n+=encodeURIComponent(e.substring(i,o)),i=-1),n!==void 0&&(n+=e.charAt(o));else{n===void 0&&(n=e.substr(0,o));let l=qFe[a];l!==void 0?(i!==-1&&(n+=encodeURIComponent(e.substring(i,o)),i=-1),n+=l):i===-1&&(i=o)}}return i!==-1&&(n+=encodeURIComponent(e.substring(i))),n!==void 0?n:e}s(QFe,"encodeURIComponentFast");function x7t(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n===35||n===63?(t===void 0&&(t=e.substr(0,r)),t+=qFe[n]):t!==void 0&&(t+=e[r])}return t!==void 0?t:e}s(x7t,"encodeURIComponentMinimal");function Uce(e,t){let r;return e.authority&&e.path.length>1&&e.scheme==="file"?r=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?t?r=e.path.substr(1):r=e.path[1].toLowerCase()+e.path.substr(2):r=e.path,Lb&&(r=r.replace(/\//g,"\\")),r}s(Uce,"uriToFsPath");function qce(e,t){let r=t?x7t:QFe,n="",{scheme:i,authority:o,path:a,query:l,fragment:c}=e;if(i&&(n+=i,n+=":"),(o||i==="file")&&(n+=Hh,n+=Hh),o){let u=o.indexOf("@");if(u!==-1){let f=o.substr(0,u);o=o.substr(u+1),u=f.lastIndexOf(":"),u===-1?n+=r(f,!1,!1):(n+=r(f.substr(0,u),!1,!1),n+=":",n+=r(f.substr(u+1),!1,!0)),n+="@"}o=o.toLowerCase(),u=o.lastIndexOf(":"),u===-1?n+=r(o,!1,!0):(n+=r(o.substr(0,u),!1,!0),n+=o.substr(u))}if(a){if(a.length>=3&&a.charCodeAt(0)===47&&a.charCodeAt(2)===58){let u=a.charCodeAt(1);u>=65&&u<=90&&(a=`/${String.fromCharCode(u+32)}:${a.substr(3)}`)}else if(a.length>=2&&a.charCodeAt(1)===58){let u=a.charCodeAt(0);u>=65&&u<=90&&(a=`${String.fromCharCode(u+32)}:${a.substr(2)}`)}n+=r(a,!0,!1)}return l&&(n+="?",n+=r(l,!1,!1)),c&&(n+="#",n+=t?c:QFe(c,!1,!1)),n}s(qce,"_asFormatted");function WFe(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+WFe(e.substr(3)):e}}s(WFe,"decodeURIComponentGraceful");var OFe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function KG(e){return e.match(OFe)?e.replace(OFe,t=>WFe(t)):e}s(KG,"percentDecode");d();var jh=class e{constructor(t){this.uri=t;this._uri=KC.parse(ac(this.uri))}static{s(this,"DocumentId")}static{this._cache=new YA({getCacheKey:JSON.stringify},t=>new e(t.uri))}static create(t){return e._cache.get({uri:t})}get path(){return this._uri.path}get fragment(){return this._uri.fragment}toString(){return this.uri}get baseName(){return FFe(this.uri)}get extension(){return MFe(this.uri)}toUri(){return this._uri}};d();var Mb;(r=>{r.PlainText="plaintext";function t(n){return n}r.create=t,s(t,"create")})(Mb||={});d();d();var Gl=class e{constructor(t,r){this.lineCount=t;this.columnCount=r}static{s(this,"TextLength")}static{this.zero=new e(0,0)}static lengthDiffNonNegative(t,r){return r.isLessThan(t)?e.zero:t.lineCount===r.lineCount?new e(0,r.columnCount-t.columnCount):new e(r.lineCount-t.lineCount,r.columnCount)}static betweenPositions(t,r){return t.lineNumber===r.lineNumber?new e(0,r.column-t.column):new e(r.lineNumber-t.lineNumber,r.column-1)}static fromPosition(t){return new e(t.lineNumber-1,t.column-1)}static ofRange(t){return e.betweenPositions(t.getStartPosition(),t.getEndPosition())}static ofText(t){let r=0,n=0;for(let i of t)i===`
`?(r++,n=0):n++;return new e(r,n)}isZero(){return this.lineCount===0&&this.columnCount===0}isLessThan(t){return this.lineCount!==t.lineCount?this.lineCount<t.lineCount:this.columnCount<t.columnCount}isGreaterThan(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>t.columnCount}isGreaterThanOrEqualTo(t){return this.lineCount!==t.lineCount?this.lineCount>t.lineCount:this.columnCount>=t.columnCount}equals(t){return this.lineCount===t.lineCount&&this.columnCount===t.columnCount}compare(t){return this.lineCount!==t.lineCount?this.lineCount-t.lineCount:this.columnCount-t.columnCount}add(t){return t.lineCount===0?new e(this.lineCount,this.columnCount+t.columnCount):new e(this.lineCount+t.lineCount,t.columnCount)}createRange(t){return this.lineCount===0?new yr(t.lineNumber,t.column,t.lineNumber,t.column+this.columnCount):new yr(t.lineNumber,t.column,t.lineNumber+this.lineCount,this.columnCount+1)}toRange(){return new yr(1,1,this.lineCount+1,this.columnCount+1)}toLineRange(){return Cr.ofLength(1,this.lineCount)}addToPosition(t){return this.lineCount===0?new mn(t.lineNumber,t.column+this.columnCount):new mn(t.lineNumber+this.lineCount,this.columnCount+1)}addToRange(t){return yr.fromPositions(this.addToPosition(t.getStartPosition()),this.addToPosition(t.getEndPosition()))}toString(){return`${this.lineCount},${this.columnCount}`}};var Hl=class e{constructor(t){this.value=t}static{s(this,"StringValue")}apply(t){return new e(t.apply(this.value))}equals(t){return this.value===t.value}getTransformer(){return this._transformer||(this._transformer=new Wce(this.value)),this._transformer}getValueOfRange(t){return this.getTransformer().getOffsetRange(t).substring(this.value)}getLines(){return Og(this.value)}getLineAt(t){return this.getLines()[t-1]}toString(){return this.value}getTextLength(){return this.getTransformer().textLength}},Wce=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{s(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Vt(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=Cf(this.lineStartOffsetByLineIdx,o=>o<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new mn(n,i)}getRange(t){return yr.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return Gl.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new Gl(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var Dk=class e{constructor(t,r){this.firstEditStrategy=t;this.maxLinesPerEdit=r}static{s(this,"StatelessNextEditOptions")}doesFitMaxLinesPerEdit(t){return this.maxLinesPerEdit===void 0||t.lineRange.length<=this.maxLinesPerEdit&&t.newLines.length<=this.maxLinesPerEdit}serialize(){return{firstEditStrategy:this.firstEditStrategy,maxLinesPerEdit:this.maxLinesPerEdit}}static deserialize(t){return new e(t.firstEditStrategy,t.maxLinesPerEdit)}},JG=class e{constructor(t,r,n,i,o){this.id=t;this.documents=r;this.activeDocumentIdx=n;this.xtabEditHistory=i;this.options=o;this.seqid=String(++e.ID);this.cancellationTokenSource=new _A;this.liveDependentants=0;this.fetchIssued=!1;this._result=new Rk;Pl(r.length>0),Pl(n>=0&&n<r.length)}static{s(this,"StatelessNextEditRequest")}static{this.ID=0}get result(){return this._result.p}setResult(t){this._result.complete(t)}setResultError(t){this._result.error(t)}hasDocument(t){return this.documents.find(r=>r.id===t)!==void 0}static deserialize(t){return new e(t.id,t.documents.map(r=>Pk.deserialize(r)),t.activeDocumentIdx,[],Dk.deserialize(t.options))}getActiveDocument(){return this.documents[this.activeDocumentIdx]}serialize(){return{id:this.id,documents:this.documents.map(t=>t.serialize()),activeDocumentIdx:this.activeDocumentIdx,options:this.options.serialize()}}toString(){return this.toMarkdown()}toMarkdown(){return`### StatelessNextEditRequest

${this.documents.map((r,n)=>` * [${n+1}/${this.documents.length}] ${n===this.activeDocumentIdx?"(active document) ":""}`+r.toMarkdown()).join(`

`)}`}},Pk=class e{constructor(t,r,n,i,o,a,l,c,u,f,m,h,p=i.length,g=new Cr(1,i.length+1),y=void 0){this.id=t;this.workspaceRoot=r;this.languageId=n;this.documentLinesBeforeEdit=i;this.recentEdit=o;this.recentlyEditedInLinesAfterEditRange=a;this.documentBeforeEdits=l;this.recentEdits=c;this.documentAfterEditsNoShortening=u;this.toEditOnDocumentAfterEditsNoShortening=f;this.toOffsetOnDocumentAfterEditsNoShortening=m;this.toProjectedOffset=h;this.lineCountBeforeClipping=p;this.clippingRange=g;this.lastSelectionInAfterEdit=y;this.recentlyEditedInLinesAfterEdit=this.recentlyEditedInLinesAfterEditRange===void 0?void 0:Cr.fromRangeInclusive(this.recentlyEditedInLinesAfterEditRange);this.documentAfterEdits=new Hl(this.recentEdits.apply(this.documentBeforeEdits.value));this.documentAfterEditsLines=this.documentAfterEdits.getLines()}static{s(this,"StatelessNextEditDocument")}static deserialize(t){return new e(jh.create(t.id),t.workspaceRoot?KC.parse(t.workspaceRoot):void 0,Mb.create(t.languageId),t.documentLinesBeforeEdit,Fo.deserialize(t.recentEdit),t.recentlyEditedInLinesAfterEditRange?yr.lift(t.recentlyEditedInLinesAfterEditRange):void 0,new Hl(t.documentBeforeEdits),Ug.deserialize(t.recentEdits),new Hl(t.documentAfterEditsNoShortening),r=>{throw new Error("Deserializing serialized document does not implement translation of line edit to edit")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},r=>{throw new Error("Deserializing serialized document does not implement translation of offsets")},t.lineCountBeforeClipping,Cr.deserialize(t.clippingRange))}serialize(){return{id:this.id.uri,workspaceRoot:this.workspaceRoot?.toString(),languageId:this.languageId,documentLinesBeforeEdit:this.documentLinesBeforeEdit,recentEdit:this.recentEdit.serialize(),recentlyEditedInLinesAfterEditRange:this.recentlyEditedInLinesAfterEditRange?.toJSON(),documentBeforeEdits:this.documentBeforeEdits.value,recentEdits:this.recentEdits.serialize(),documentAfterEditsNoShortening:this.documentAfterEditsNoShortening.value,lineCountBeforeClipping:this.lineCountBeforeClipping,clippingRange:this.clippingRange.serialize()}}getDisplayPath(){return this.id.uri}toString(){return this.toMarkdown()}toMarkdown(){let t=[];return t.push(`StatelessNextEditDocument: **${this.id.uri}**
`),t.push("```patch"),t.push(this.recentEdit.humanReadablePatch(this.documentLinesBeforeEdit)),t.push("```"),t.push(""),t.join(`
`)}};var _i=class e{constructor(t,r){this.nextEdit=t;this.telemetry=r}static{s(this,"StatelessNextEditResult")}static noEdit(t,r){let n=Oo.error(t),i=r.build(n);return new e(n,i)}static edit(t,r){let n=Oo.ok(t),i=r.build(n);return new e(n,i)}},JC=class{constructor(t){this._request=t;this.startTime=Date.now(),this.requestUuid=t.id}static{s(this,"StatelessNextEditTelemetryBuilder")}build(t){let n=Date.now()-this.startTime,i=this._prompt?RFe(this._prompt):void 0,o=i?.split(`
`).length,a=i?.length,l=t.isOk(),c=t.isOk()?void 0:t.err.kind,u;if(!t.isOk())switch(t.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":break;case"gotCancelled":case"filteredOut":u=t.err.message;break;case"fetchFailure":case"uncategorized":case"unexpected":u=t.err.error.stack?t.err.error.stack:t.err.error.message;break;default:NS(t.err)}return{hadStatelessNextEditProviderCall:!0,firstEditStrategy:this._request.options.firstEditStrategy,maxLinesPerEdit:this._request.options.maxLinesPerEdit,hasNextEdit:l,noNextEditReasonKind:c,noNextEditReasonMessage:u,statelessNextEditProviderDuration:n,logProbThreshold:this._logProbThreshold,promptLineCount:o,promptCharCount:a,isDefaultEndpoint:this._isDefaultEndpoint,debounceTime:this._debounceTime,fetchStartedAt:this._fetchStartedAt,ttft:this._ttft,fetchTime:this._fetchTime,fetchResult:this._fetchResult,fetchError:this._fetchError,hadLowLogProbSuggestion:this._hadLowLogProbSuggestion,response:this._response,nonTerminatingError:this._nonTerminatingError,nEditsSuggested:this._nEditsSuggested,nextEditLogprob:this._nextEditLogProb,kthEditPicked:this._kthEditPicked,lineDistanceToMostRecentEdit:this._lineDistanceToMostRecentEdit,firstPickStrategyOverride:this._firstPickStrategyOverride}}setLogProbThreshold(t){return this._logProbThreshold=t,this}setHadLowLogProbSuggestion(t){return this._hadLowLogProbSuggestion=t,this}setPrompt(t){return this._prompt=t,this}setIsDefaultEndpoint(t){return this._isDefaultEndpoint=t,this}setDebounceTime(t){return this._debounceTime=t,this}setFetchStartedAt(){return this._fetchStartedAt=Date.now(),this}get fetchStartedAt(){return this._fetchStartedAt}setTtft(t){return this._ttft=t,this}setFetchResultIfNotSet(t,r){return this._fetchResult===void 0&&(this._fetchResult=t,this._fetchError=r,Pl(this._fetchStartedAt!==void 0,"fetchStartedAt must be set before setting fetchTime"),this._fetchTime=Date.now()-this._fetchStartedAt),this}get fetchResult(){return this._fetchResult}get fetchError(){return this._fetchError}get fetchTime(){return this._fetchTime}setResponse(t){return this._response=t,this}setNonTerminatingError(t){return this._nonTerminatingError=t,this}setNextEditLogProb(t){return this._nextEditLogProb=t,this}setNEditsSuggested(t){return this._nEditsSuggested=t,this}setKthEditPicked(t){return this._kthEditPicked=t,this}setLineDistanceToMostRecentEdit(t){return this._lineDistanceToMostRecentEdit=t,this}setFirstPickStrategyOverride(t){return this._firstPickStrategyOverride=t,this}};function v7t(e,...t){let r=e;for(let n of t)r=n(r);return r}s(v7t,"chainStatelessNextEditProviders");var D9=class{constructor(t,r){this.ID=t;this._providers=r;let n={ID:this.ID,provideNextEdit:s((i,o)=>this.provideNextEditBase(i,o),"provideNextEdit")};this._impl=v7t(n,...this._providers)}static{s(this,"ChainedStatelessNextEditProvider")}provideNextEdit(t,r){return this._impl.provideNextEdit(t,r)}},P9=class{constructor(t){this._baseProvider=t}static{s(this,"EditFilterAspect")}get ID(){return this._baseProvider.ID}async provideNextEdit(t,r){let n=await this._baseProvider.provideNextEdit(t,r);if(n.nextEdit.isError())return n;let i=n.nextEdit.val,o=i.permutation===void 0?i.edit.edits:i.permutation.apply(i.edit.edits),a=this.filterEdit(t.getActiveDocument(),o);if(a.length===o.length)return n;if(a.length===0)return new _i(Oo.error({kind:"filteredOut",message:"uncategorized"}),n.telemetry);let l=pG.createSortPermutation(a,xf(u=>u.lineRange.startLineNumber,vf)),c=new Fo(l.apply(a));return new _i(Oo.ok({edit:c,permutation:l.inverse()}),n.telemetry)}},N9=class extends P9{static{s(this,"IgnoreTriviaWhitespaceChangesAspect")}filterEdit(t,r){return r.filter(i=>!this._isWhitespaceOnlyChange(i,t.documentAfterEditsLines))}_isWhitespaceOnlyChange(t,r){let n=t.lineRange.toOffsetRange().slice(r),i=t.newLines,o=i.length===0;if(o&&n.every(a=>a.trim()==="")||!o&&i.every(a=>a.trim()===""))return!0;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],c=i[a];if(l.trim()!==c.trim())return!1}return!0}},L9=class extends P9{static{s(this,"IgnoreEditsAtClippingBorderAspect")}filterEdit(t,r){return r.filter(i=>!this._isAtClippingBorder(i,t.clippingRange,t.lineCountBeforeClipping))}_isAtClippingBorder(t,r,n){return r.startLineNumber>1&&t.lineRange.startLineNumber===1||r.endLineNumberExclusive<n&&t.lineRange.endLineNumberExclusive===r.length}};d();d();var b7t=Object.freeze({abap:{lineComment:{start:"'"},markdownLanguageIds:["abap","sap-abap"]},bat:{lineComment:{start:"REM"},alternativeLineComments:[{start:"::"}],aliases:["Batch","bat"],extensions:[".bat",".cmd"]},bibtex:{lineComment:{start:"%"},aliases:["BibTeX","bibtex"],extensions:[".bib"]},blade:{lineComment:{start:"#"}},c:{lineComment:{start:"//"},aliases:["C","c"],extensions:[".c",".i"],markdownLanguageIds:["c","h"]},clojure:{lineComment:{start:";"},aliases:["Clojure","clojure"],extensions:[".clj",".cljs",".cljc",".cljx",".clojure",".edn"],markdownLanguageIds:["clojure","clj"]},coffeescript:{lineComment:{start:"//"},aliases:["CoffeeScript","coffeescript","coffee"],extensions:[".coffee",".cson",".iced"],markdownLanguageIds:["coffeescript","coffee","cson","iced"],blockComment:["###","###"]},cpp:{lineComment:{start:"//"},aliases:["C++","Cpp","cpp"],extensions:[".cpp",".cc",".cxx",".c++",".hpp",".hh",".hxx",".h++",".h",".ii",".ino",".inl",".ipp",".ixx",".tpp",".txx",".hpp.in",".h.in"],markdownLanguageIds:["cpp","hpp","cc","hh","c++","h++","cxx","hxx"],blockComment:["/*","*/"]},csharp:{lineComment:{start:"//"},aliases:["C#","csharp"],extensions:[".cs",".csx",".cake"],markdownLanguageIds:["csharp","cs"],blockComment:["/*","*/"]},css:{lineComment:{start:"/*",end:"*/"},aliases:["CSS","css"],extensions:[".css"],blockComment:["/*","*/"]},dart:{lineComment:{start:"//"},aliases:["Dart"],extensions:[".dart"],blockComment:["/*","*/"]},dockerfile:{lineComment:{start:"#"},aliases:["Docker","Dockerfile","Containerfile"],extensions:[".dockerfile",".containerfile"],markdownLanguageIds:["dockerfile","docker"]},elixir:{lineComment:{start:"#"}},erb:{lineComment:{start:"<%#",end:"%>"}},erlang:{lineComment:{start:"%"},markdownLanguageIds:["erlang","erl"]},fsharp:{lineComment:{start:"//"},aliases:["F#","FSharp","fsharp"],extensions:[".fs",".fsi",".fsx",".fsscript"],markdownLanguageIds:["fsharp","fs","fsx","fsi","fsscript"],blockComment:["(*","*)"]},go:{lineComment:{start:"//"},aliases:["Go"],extensions:[".go"],markdownLanguageIds:["go","golang"],blockComment:["/*","*/"]},groovy:{lineComment:{start:"//"},aliases:["Groovy","groovy"],extensions:[".groovy",".gvy",".gradle",".jenkinsfile",".nf"],blockComment:["/*","*/"]},haml:{lineComment:{start:"-#"}},handlebars:{lineComment:{start:"{{!",end:"}}"},extensions:[".hbs",".handlebars"],markdownLanguageIds:["handlebars","hbs","html.hbs","html.handlebars"],blockComment:["{{!--","--}}"]},haskell:{lineComment:{start:"--"},markdownLanguageIds:["haskell","hs"]},html:{lineComment:{start:"<!--",end:"-->"},aliases:["HTML","htm","html","xhtml"],extensions:[".html",".htm",".shtml",".xhtml",".xht",".mdoc",".jsp",".asp",".aspx",".jshtm",".volt",".ejs",".rhtml"],markdownLanguageIds:["html","xhtml"],blockComment:["<!--","-->"]},ini:{lineComment:{start:";"},blockComment:[";"," "]},java:{lineComment:{start:"//"},extensions:[".java",".class"],markdownLanguageIds:["java","jsp"],blockComment:["/*","*/"]},javascript:{lineComment:{start:"//"},aliases:["JavaScript","javascript","js"],extensions:[".js",".es6",".mjs",".cjs",".pac"],markdownLanguageIds:["javascript","js"],blockComment:["/*","*/"]},javascriptreact:{lineComment:{start:"//"},aliases:["JavaScript JSX","JavaScript React","jsx"],extensions:[".jsx"],markdownLanguageIds:["jsx"]},json:{extensions:[".json"],lineComment:{start:"//"},blockComment:["/*","*/"]},jsonc:{lineComment:{start:"//"}},jsx:{lineComment:{start:"//"},markdownLanguageIds:["jsx"]},julia:{lineComment:{start:"#"},aliases:["Julia","julia"],extensions:[".jl"],markdownLanguageIds:["julia","jl"],blockComment:["#=","=#"]},kotlin:{lineComment:{start:"//"},markdownLanguageIds:["kotlin","kt"]},latex:{lineComment:{start:"%"},aliases:["LaTeX","latex"],extensions:[".tex",".ltx",".ctx"],markdownLanguageIds:["tex"]},less:{lineComment:{start:"//"},aliases:["Less","less"],extensions:[".less"],blockComment:["/*","*/"]},lua:{lineComment:{start:"--"},aliases:["Lua","lua"],extensions:[".lua"],markdownLanguageIds:["lua","pluto"],blockComment:["--[[","]]"]},makefile:{lineComment:{start:"#"},aliases:["Makefile","makefile"],extensions:[".mak",".mk"],markdownLanguageIds:["makefile","mk","mak","make"]},markdown:{lineComment:{start:"//"},aliases:["Markdown","markdown"],extensions:[".md",".mkd",".mdwn",".mdown",".markdown",".markdn",".mdtxt",".mdtext",".workbook"],markdownLanguageIds:["markdown","md","mkdown","mkd"]},"objective-c":{lineComment:{start:"//"},aliases:["Objective-C"],extensions:[".m"],markdownLanguageIds:["objectivec","mm","objc","obj-c"],blockComment:["/*","*/"]},"objective-cpp":{lineComment:{start:"//"},aliases:["Objective-C++"],extensions:[".mm"],markdownLanguageIds:["objectivec++","objc+"]},perl:{lineComment:{start:"#"},aliases:["Perl","perl"],extensions:[".pl",".pm",".pod",".t",".PL",".psgi"],markdownLanguageIds:["perl","pl","pm"]},php:{lineComment:{start:"//"},aliases:["PHP","php"],extensions:[".php",".php4",".php5",".phtml",".ctp"],blockComment:["/*","*/"]},powershell:{lineComment:{start:"#"},aliases:["PowerShell","powershell","ps","ps1"],extensions:[".ps1",".psm1",".psd1",".pssc",".psrc"],markdownLanguageIds:["powershell","ps","ps1"],blockComment:["<#","#>"]},pug:{lineComment:{start:"//"}},python:{lineComment:{start:"#"},aliases:["Python","py"],extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi",".pyi",".ipy",".pyt"],markdownLanguageIds:["python","py","gyp"],blockComment:['"""','"""']},ql:{lineComment:{start:"//"}},r:{lineComment:{start:"#"},aliases:["R","r"],extensions:[".r",".rhistory",".rprofile",".rt"]},razor:{lineComment:{start:"<!--",end:"-->"},aliases:["Razor","razor"],extensions:[".cshtml",".razor"],markdownLanguageIds:["cshtml","razor","razor-cshtml"],blockComment:["<!--","-->"]},ruby:{lineComment:{start:"#"},aliases:["Ruby","rb"],extensions:[".rb",".rbx",".rjs",".gemspec",".rake",".ru",".erb",".podspec",".rbi"],markdownLanguageIds:["ruby","rb","gemspec","podspec","thor","irb"],blockComment:["=begin","=end"]},rust:{lineComment:{start:"//"},aliases:["Rust","rust"],extensions:[".rs"],markdownLanguageIds:["rust","rs"],blockComment:["/*","*/"]},sass:{lineComment:{start:"//"}},scala:{lineComment:{start:"//"}},scss:{lineComment:{start:"//"},aliases:["SCSS","scss"],extensions:[".scss"],blockComment:["/*","*/"]},shellscript:{lineComment:{start:"#"},aliases:["Shell Script","shellscript","bash","fish","sh","zsh","ksh","csh"],extensions:[".sh",".bash",".bashrc",".bash_aliases",".bash_profile",".bash_login",".ebuild",".profile",".bash_logout",".xprofile",".xsession",".xsessionrc",".Xsession",".zsh",".zshrc",".zprofile",".zlogin",".zlogout",".zshenv",".zsh-theme",".fish",".ksh",".csh",".cshrc",".tcshrc",".yashrc",".yash_profile"],markdownLanguageIds:["bash","sh","zsh"]},slim:{lineComment:{start:"/"}},solidity:{lineComment:{start:"//"},markdownLanguageIds:["solidity","sol"]},sql:{lineComment:{start:"--"},aliases:["SQL"],extensions:[".sql",".dsql"],blockComment:["/*","*/"]},stylus:{lineComment:{start:"//"}},svelte:{lineComment:{start:"<!--",end:"-->"}},swift:{lineComment:{start:"//"},aliases:["Swift","swift"],extensions:[".swift"],blockComment:["/*","*/"]},terraform:{lineComment:{start:"#"}},tex:{lineComment:{start:"%"},aliases:["TeX","tex"],extensions:[".sty",".cls",".bbx",".cbx"]},typescript:{lineComment:{start:"//"},aliases:["TypeScript","ts","typescript"],extensions:[".ts",".cts",".mts"],markdownLanguageIds:["typescript","ts"],blockComment:["/*","*/"]},typescriptreact:{lineComment:{start:"//"},aliases:["TypeScript JSX","TypeScript React","tsx"],extensions:[".tsx"],markdownLanguageIds:["tsx"],blockComment:["/*","*/"]},vb:{lineComment:{start:"'"},aliases:["Visual Basic","vb"],extensions:[".vb",".brs",".vbs",".bas",".vba"],markdownLanguageIds:["vb","vbscript"]},verilog:{lineComment:{start:"//"}},"vue-html":{lineComment:{start:"<!--",end:"-->"}},vue:{lineComment:{start:"//"},extensions:[".vue"]},xml:{lineComment:{start:"<!--",end:"-->"},aliases:["XML","xml"],extensions:[".xml",".xsd",".ascx",".atom",".axml",".axaml",".bpmn",".cpt",".csl",".csproj",".csproj.user",".dita",".ditamap",".dtd",".ent",".mod",".dtml",".fsproj",".fxml",".iml",".isml",".jmx",".launch",".menu",".mxml",".nuspec",".opml",".owl",".proj",".props",".pt",".publishsettings",".pubxml",".pubxml.user",".rbxlx",".rbxmx",".rdf",".rng",".rss",".shproj",".storyboard",".svg",".targets",".tld",".tmx",".vbproj",".vbproj.user",".vcxproj",".vcxproj.filters",".wsdl",".wxi",".wxl",".wxs",".xaml",".xbl",".xib",".xlf",".xliff",".xpdl",".xul",".xoml"],blockComment:["<!--","-->"]},xsl:{lineComment:{start:"<!--",end:"-->"},aliases:["XSL","xsl"],extensions:[".xsl",".xslt"]},yaml:{lineComment:{start:"#"},markdownLanguageIds:["yaml","yml"]}}),E7t=new Map(Object.entries(b7t).map(([e,t])=>[e,{languageId:e,...t}]));function HFe(e){return Gce(typeof e=="string"?e:typeof e>"u"?"plaintext":e.languageId)}s(HFe,"getLanguage");function Gce(e){return E7t.get(e.toLowerCase())??{languageId:e,lineComment:{start:"//"}}}s(Gce,"_getLanguage");d();var F9=class e{static{s(this,"TextEdit")}static isTextEdit(t){return t instanceof e?!0:t?Su.isRange(t)&&typeof t.newText=="string":!1}static replace(t,r){return new e(t,r)}static insert(t,r){return e.replace(new Su(t,t),r)}static delete(t){return e.replace(t,"")}static setEndOfLine(t){let r=new e(new Su(new Io(0,0),new Io(0,0)),"");return r.newEol=t,r}get range(){return this._range}set range(t){if(t&&!Su.isRange(t))throw XC("range");this._range=t}get newText(){return this._newText||""}set newText(t){if(t&&typeof t!="string")throw XC("newText");this._newText=t}get newEol(){return this._newEol}set newEol(t){if(t&&typeof t!="number")throw XC("newEol");this._newEol=t}constructor(t,r){this._range=t,this._newText=r}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};var Io=class e{static{s(this,"Position")}static Min(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isBefore(r)&&(r=i)}return r}static Max(...t){if(t.length===0)throw new TypeError;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];i.isAfter(r)&&(r=i)}return r}static isPosition(t){if(!t)return!1;if(t instanceof e)return!0;let{line:r,character:n}=t;return typeof r=="number"&&typeof n=="number"}get line(){return this._line}get character(){return this._character}constructor(t,r){if(t<0)throw XC("line must be non-negative");if(r<0)throw XC("character must be non-negative");this._line=t,this._character=r}isBefore(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<t._character}isBeforeOrEqual(t){return this._line<t._line?!0:t._line<this._line?!1:this._character<=t._character}isAfter(t){return!this.isBeforeOrEqual(t)}isAfterOrEqual(t){return!this.isBefore(t)}isEqual(t){return this._line===t._line&&this._character===t._character}compareTo(t){return this._line<t._line?-1:this._line>t.line?1:this._character<t._character?-1:this._character>t._character?1:0}translate(t,r=0){if(t===null||r===null)throw XC();let n;return typeof t>"u"?n=0:typeof t=="number"?n=t:(n=typeof t.lineDelta=="number"?t.lineDelta:0,r=typeof t.characterDelta=="number"?t.characterDelta:0),n===0&&r===0?this:new e(this.line+n,this.character+r)}with(t,r=this.character){if(t===null||r===null)throw XC();let n;return typeof t>"u"?n=this.line:typeof t=="number"?n=t:(n=typeof t.line=="number"?t.line:this.line,r=typeof t.character=="number"?t.character:this.character),n===this.line&&r===this.character?this:new e(n,r)}toJSON(){return{line:this.line,character:this.character}}[Symbol.for("debug.description")](){return`(${this.line}:${this.character})`}},Su=class e{static{s(this,"Range")}static isRange(t){return t instanceof e?!0:t?Io.isPosition(t.start)&&Io.isPosition(t.end):!1}get start(){return this._start}get end(){return this._end}constructor(t,r,n,i){let o,a;if(typeof t=="number"&&typeof r=="number"&&typeof n=="number"&&typeof i=="number"?(o=new Io(t,r),a=new Io(n,i)):Io.isPosition(t)&&Io.isPosition(r)&&(o=t,a=r),!o||!a)throw new Error("Invalid arguments");o.isBefore(a)?(this._start=o,this._end=a):(this._start=a,this._end=o)}contains(t){return e.isRange(t)?this.contains(t.start)&&this.contains(t.end):Io.isPosition(t)?!(t.isBefore(this._start)||this._end.isBefore(t)):!1}isEqual(t){return this._start.isEqual(t._start)&&this._end.isEqual(t._end)}intersection(t){let r=Io.Max(t.start,this._start),n=Io.Min(t.end,this._end);if(!r.isAfter(n))return new e(r,n)}union(t){if(this.contains(t))return this;if(t.contains(this))return t;let r=Io.Min(t.start,this._start),n=Io.Max(t.end,this.end);return new e(r,n)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(t,r=this.end){if(t===null||r===null)throw XC();let n;return t?Io.isPosition(t)?n=t:(n=t.start||this.start,r=t.end||this.end):n=this.start,n.isEqual(this._start)&&r.isEqual(this.end)?this:new e(n,r)}toJSON(){return[this.start,this.end]}[Symbol.for("debug.description")](){return I7t(this)}};function XC(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}s(XC,"illegalArgument");function I7t(e){return e.isEmpty?`[${e.start.line}:${e.start.character})`:`[${e.start.line}:${e.start.character} -> ${e.end.line}:${e.end.character})`}s(I7t,"getDebugDescriptionOfRange");d();function jFe(e){let r=e.split(/\r?\n/).map(T7t),n=r.filter(o=>o===1).length,i=r.filter(o=>o===2).length;return n>i}s(jFe,"looksLikeCode");function T7t(e){if(e.length===0)return 0;let t=0,r=0;if(["==","!=","===","!==",">=","<=","&&","||",">>",">>>","<<","<<<","+=","-=","*=","/=","%=","<<=","<<<=",">>=",">>>=","++","--","=>","->","...","??","??="].some(i=>e.includes(i))||e.match(/^\s/)||e.match(/^[;{}()\[\]`~?]/))return 1;e.charAt(0).match(/[A-Z]/)&&(t+=1),e[e.length-1]==="."&&(t+=1),Hle(e)||(t+=1);{Hle(e.charAt(0))&&!e.charAt(0).match(/[A-Z]/)&&(r+=1),e.match(/^\s/)&&(r+=1);let o=[";","{","}","(",")","[","]","`","~","#","$","%","^","&","*","_","=","+","\\","|","<",">"].map(a=>e.includes(a)?1:0).filter(a=>a).length;r+=o}return t>r?2:r>t?1:0}s(T7t,"guessLineType");var M9;(r=>{function e(n){return n.length===0?[]:n.split(/\r\n|\r|\n/g)}r.fromString=e,s(e,"fromString");function t(n){if(n.lineCount===0)return[];let i=[];for(let o=0;o<n.lineCount;o++)i.push(n.lineAt(o).text);return i}r.fromDocument=t,s(t,"fromDocument")})(M9||={});function w7t(e){return e.replace(/^\s+/g,"")}s(w7t,"trimLeadingWhitespace");function Hce(e,t){switch(t){case"java":return!!e.match(/^\s*import\s/);case"typescript":case"typescriptreact":case"javascript":case"javascriptreact":return!!e.match(/^\s*import[\s{*]|^\s*[var|const|let].*=\s*require\(/);case"php":return!!e.match(/^\s*use/);case"rust":return!!e.match(/^\s*use\s+[\w:{}, ]+\s*(as\s+\w+)?;/);case"python":return!!e.match(/^\s*from\s+[\w.]+\s+import\s+[\w, *]+$/)||!!e.match(/^\s*import\s+[\w, ]+$/);default:return!1}}s(Hce,"isImportStatement");var _7t=new YA(e=>{let t=HFe(e),{start:r,end:n}=t.lineComment,i=`(?:${Gle(r)})`,o=n?`(?:${Gle(n)})?`:"";return new RegExp(`${i}(.*)${o}$`)});function jce(e,t){let r=e.match(_7t.get(t));if(!r)return;let n=r.index;if(typeof n>"u")return;let i=e.substring(0,n),o=r[0],a=w7t(r[1]||"");return{content:i,commentWithTokens:o,commentWithoutTokens:a}}s(jce,"extractEndLineComment");function ZG(e,t){let r=jce(e,t);if(!(r&&r.content.trim().length>0&&jFe(r.commentWithoutTokens)))return r}s(ZG,"extractExplicativeEndLineComment");var Q9=class e extends P9{static{s(this,"IgnoreImportChangesAspect")}static isImportChange(t,r,n){return t.newLines.some(i=>Hce(i,r))||S7t(t,n).some(i=>Hce(i,r))}filterEdit(t,r){let n=t.languageId;return r.filter(o=>!e.isImportChange(o,n,t.documentLinesBeforeEdit))}};function S7t(e,t){return _6e(e.lineRange.mapToLineArray(r=>t[r-1]))}s(S7t,"getOldLines");d();var $ce=Ze(Wh());d();d();d();var Vh;(i=>{i.serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies";function n(o){return o[i.DI_DEPENDENCIES]||[]}i.getServiceDependencies=n,s(n,"getServiceDependencies")})(Vh||={});var Vg=Uf("instantiationService");function R7t(e,t,r){t[Vh.DI_TARGET]===t?t[Vh.DI_DEPENDENCIES].push({id:e,index:r}):(t[Vh.DI_DEPENDENCIES]=[{id:e,index:r}],t[Vh.DI_TARGET]=t)}s(R7t,"storeServiceDependency");function Uf(e){if(Vh.serviceIds.has(e))return Vh.serviceIds.get(e);let t=s(function(r,n,i){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");R7t(t,r,i)},"id");return t.toString=()=>e,Vh.serviceIds.set(e,t),t}s(Uf,"createDecorator");d();d();var qf=class{static{s(this,"SyncDescriptor")}constructor(t,r=[],n=!1){this.ctor=t,this.staticArguments=r,this.supportsDelayedInstantiation=n}};d();var Vce=class{constructor(t,r){this.key=t;this.data=r;this.incoming=new Map;this.outgoing=new Map}static{s(this,"Node")}},Nk=class{constructor(t){this._hashFn=t;this._nodes=new Map}static{s(this,"Graph")}roots(){let t=[];for(let r of this._nodes.values())r.outgoing.size===0&&t.push(r);return t}insertEdge(t,r){let n=this.lookupOrInsertNode(t),i=this.lookupOrInsertNode(r);n.outgoing.set(i.key,i),i.incoming.set(n.key,n)}removeNode(t){let r=this._hashFn(t);this._nodes.delete(r);for(let n of this._nodes.values())n.outgoing.delete(r),n.incoming.delete(r)}lookupOrInsertNode(t){let r=this._hashFn(t),n=this._nodes.get(r);return n||(n=new Vce(r,t),this._nodes.set(r,n)),n}lookup(t){return this._nodes.get(this._hashFn(t))}isEmpty(){return this._nodes.size===0}toString(){let t=[];for(let[r,n]of this._nodes)t.push(`${r}
	(-> incoming)[${[...n.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...n.outgoing.keys()].join(",")}]
`);return t.join(`
`)}findCycleSlow(){for(let[t,r]of this._nodes){let n=new Set([t]),i=this._findCycle(r,n);if(i)return i}}_findCycle(t,r){for(let[n,i]of t.outgoing){if(r.has(n))return[...r,n].join(" -> ");r.add(n);let o=this._findCycle(i,r);if(o)return o;r.delete(n)}}};d();var Qb=class{constructor(...t){this._entries=new Map;for(let[r,n]of t)this.set(r,n)}static{s(this,"ServiceCollection")}set(t,r){let n=this._entries.get(t);return this._entries.set(t,r),n}has(t){return this._entries.has(t)}get(t){return this._entries.get(t)}};var k7t=!1,eH=class extends Error{static{s(this,"CyclicDependencyError")}constructor(t){super("cyclic dependency between services"),this.message=t.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}},tH=class e{constructor(t=new Qb,r=!1,n,i=k7t){this._services=t;this._strict=r;this._parent=n;this._enableTracing=i;this._isDisposed=!1;this._servicesToMaybeDispose=new Set;this._children=new Set;this._activeInstantiations=new Set;this._services.set(Vg,this),this._globalGraph=i?n?._globalGraph??new Nk(o=>o):void 0}static{s(this,"InstantiationService")}dispose(){if(!this._isDisposed){this._isDisposed=!0,UO(this._children),this._children.clear();for(let t of this._servicesToMaybeDispose)U6e(t)&&t.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(t,r){this._throwIfDisposed();let n=this,i=new class extends e{dispose(){n._children.delete(i),super.dispose()}}(t,this._strict,this,this._enableTracing);return this._children.add(i),r?.add(i),i}invokeFunction(t,...r){this._throwIfDisposed();let n=Lk.traceInvocation(this._enableTracing,t),i=!1;try{return t({get:s(a=>{if(i)throw E6e("service accessor is only valid during the invocation of its target method");let l=this._getOrCreateServiceInstance(a,n);if(!l)throw new Error(`[invokeFunction] unknown service '${a}'`);return l},"get")},...r)}finally{i=!0,n.stop()}}createInstance(t,...r){this._throwIfDisposed();let n,i;return t instanceof qf?(n=Lk.traceCreation(this._enableTracing,t.ctor),i=this._createInstance(t.ctor,t.staticArguments.concat(r),n)):(n=Lk.traceCreation(this._enableTracing,t),i=this._createInstance(t,r,n)),n.stop(),i}_createInstance(t,r=[],n){let i=Vh.getServiceDependencies(t).sort((l,c)=>l.index-c.index),o=[];for(let l of i){let c=this._getOrCreateServiceInstance(l.id,n);c||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${l.id}.`,!1),o.push(c)}let a=i.length>0?i[0].index:r.length;if(r.length!==a){console.trace(`[createInstance] First service dependency of ${t.name} at position ${a+1} conflicts with ${r.length} static arguments`);let l=a-r.length;l>0?r=r.concat(new Array(l)):r=r.slice(0,a)}return Reflect.construct(t,r.concat(o))}_setCreatedServiceInstance(t,r){if(this._services.get(t)instanceof qf)this._services.set(t,r);else if(this._parent)this._parent._setCreatedServiceInstance(t,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let r=this._services.get(t);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):r}_getOrCreateServiceInstance(t,r){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(t));let n=this._getServiceInstanceOrDescriptor(t);return n instanceof qf?this._safeCreateAndCacheServiceInstance(t,n,r.branch(t,!0)):(r.branch(t,!1),n)}_safeCreateAndCacheServiceInstance(t,r,n){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,r,n)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,r,n){let i=new Nk(c=>c.id.toString()),o=0,a=[{id:t,desc:r,_trace:n}],l=new Set;for(;a.length;){let c=a.pop();if(!l.has(String(c.id))){if(l.add(String(c.id)),i.lookupOrInsertNode(c),o++>1e3)throw new eH(i);for(let u of Vh.getServiceDependencies(c.desc.ctor)){let f=this._getServiceInstanceOrDescriptor(u.id);if(f||this._throwIfStrict(`[createInstance] ${t} depends on ${u.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(c.id),String(u.id)),f instanceof qf){let m={id:u.id,desc:f,_trace:c._trace.branch(u.id,!0)};i.insertEdge(c,m),a.push(m)}}}}for(;;){let c=i.roots();if(c.length===0){if(!i.isEmpty())throw new eH(i);break}for(let{data:u}of c){if(this._getServiceInstanceOrDescriptor(u.id)instanceof qf){let m=this._createServiceInstanceWithOwner(u.id,u.desc.ctor,u.desc.staticArguments,u.desc.supportsDelayedInstantiation,u._trace);this._setCreatedServiceInstance(u.id,m)}i.removeNode(u)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,r,n=[],i,o){if(this._services.get(t)instanceof qf)return this._createServiceInstance(t,r,n,i,o,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,r,n,i,o);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(t,r,n=[],i,o,a){if(i)throw new Error("Delayed instantiation not supported");{let l=this._createInstance(r,n,o);return a.add(l),l}}_throwIfStrict(t,r){if(r&&console.warn(t),this._strict)throw new Error(t)}};var Lk=class e{constructor(t,r){this.type=t;this.name=r;this._start=Date.now();this._dep=[]}static{s(this,"Trace")}static{this.all=new Set}static{this._None=new class extends e{constructor(){super(0,null)}stop(){}branch(){return this}}}static traceInvocation(t,r){return t?new e(2,r.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):e._None}static traceCreation(t,r){return t?new e(1,r.name):e._None}static{this._totals=0}branch(t,r){let n=new e(3,t.toString());return this._dep.push([t,r,n]),n}stop(){let t=Date.now()-this._start;e._totals+=t;let r=!1;function n(o,a){let l=[],c=new Array(o+1).join("	");for(let[u,f,m]of a._dep)if(f&&m){r=!0,l.push(`${c}CREATES -> ${u}`);let h=n(o+1,m);h&&l.push(h)}else l.push(`${c}uses -> ${u}`);return l.join(`
`)}s(n,"printChild");let i=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${n(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${e._totals.toFixed(2)}ms)`];(t>2||r)&&e.all.add(i.join(`
`))}};var rH=class{constructor(t){this._isSealed=!1;this._collection=Array.isArray(t)?new Qb(...t):t??new Qb}static{s(this,"InstantiationServiceBuilder")}define(t,r){if(this._isSealed)throw new Error("This accessor is sealed and cannot be modified anymore.");this._collection.set(t,r)}seal(){if(this._isSealed)throw new Error("This accessor is sealed and cannot be seal again anymore.");return this._isSealed=!0,new tH(this._collection,!0)}};var iH=Uf("ITelemetrySender"),$h=Uf("IChatMLFetcher");var nH=class{constructor(){this._stream=new HG;this._seenAnnotationTypes=new Set}static{s(this,"FetchStreamSource")}get stream(){return this._stream.asyncIterable}update(t,r){r.codeVulnAnnotations&&(!((t.match(/(^|\n)```/g)?.length??0)%2===1)||t.match(/(^|\n)```\w*\s*$/))&&(r.codeVulnAnnotations=void 0),r.codeVulnAnnotations&&(r.codeVulnAnnotations=r.codeVulnAnnotations.filter(n=>!this._seenAnnotationTypes.has(n.details.type)),r.codeVulnAnnotations.forEach(n=>this._seenAnnotationTypes.add(n.details.type))),this._stream.emitOne({text:t,delta:r})}resolve(){this._stream.resolve()}};d();var o2=Uf("IParserService");d();var O9=class{static{s(this,"DiffChange")}constructor(t,r,n,i){this.originalStart=t,this.originalLength=r,this.modifiedStart=n,this.modifiedLength=i}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}},Fk=class{constructor(t,r=!0){this.lines=t;this.trimWhitespace=r}static{s(this,"LineSequence")}getElements(){let t=[];for(let r=0,n=this.lines.length;r<n;r++)t[r]=this.trimWhitespace?this.lines[r].trim():this.lines[r];return t}getCharCount(){let t=0;for(let r of this.lines)t+=r.length;return t}},Mk=class{static{s(this,"CharSequence")}constructor(t){this._chars=t.split("")}getElements(){return this._chars}},ZC=class{static{s(this,"Debug")}static Assert(t,r){if(!t)throw new Error(r)}},e3=class{static{s(this,"MyArray")}static Copy(t,r,n,i,o){for(let a=0;a<o;a++)n[i+a]=t[r+a]}static Copy2(t,r,n,i,o){for(let a=0;a<o;a++)n[i+a]=t[r+a]}};var oH=class{static{s(this,"DiffChangeHelper")}constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new O9(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_originalCount++}AddModifiedElement(t,r){this.m_originalStart=Math.min(this.m_originalStart,t),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},Qk=class e{static{s(this,"LcsDiff")}constructor(t,r){let[n,i]=e._getElements(t),[o,a]=e._getElements(r);this._originalStringElements=n,this._originalElementsOrHash=i,this._modifiedStringElements=o,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _getElements(t){let r=t.getElements(),n=new Int32Array(r.length);for(let i=0,o=r.length;i<o;i++)n[i]=this._stringHash(r[i],0);return[r,n]}static _numberHash(t,r){return(r<<5)-r+t|0}static _stringHash(t,r){r=this._numberHash(149417,r);for(let n=0,i=t.length;n<i;n++)r=this._numberHash(t.charCodeAt(n),r);return r}ElementsAreEqual(t,r){return this._originalElementsOrHash[t]!==this._modifiedElementsOrHash[r]?!1:this._originalStringElements[t]===this._modifiedStringElements[r]}ComputeDiff(){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1)}_ComputeDiff(t,r,n,i){return this.ComputeDiffRecursive(t,r,n,i)}ComputeDiffRecursive(t,r,n,i){for(;t<=r&&n<=i&&this.ElementsAreEqual(t,n);)t++,n++;for(;r>=t&&i>=n&&this.ElementsAreEqual(r,i);)r--,i--;if(t>r||n>i){let f;return n<=i?(ZC.Assert(t===r+1,"originalStart should only be one more than originalEnd"),f=[new O9(t,0,n,i-n+1)]):t<=r?(ZC.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[new O9(t,r-t+1,n,0)]):(ZC.Assert(t===r+1,"originalStart should only be one more than originalEnd"),ZC.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),f=[]),f}let o=[0],a=[0],l=this.ComputeRecursionPoint(t,r,n,i,o,a),c=o[0],u=a[0];if(l!==null)return l;{let f=this.ComputeDiffRecursive(t,c,n,u),m=this.ComputeDiffRecursive(c+1,r,u+1,i);return this.ConcatenateChanges(f,m)}}WALKTRACE(t,r,n,i,o,a,l,c,u,f,m,h,p,g,y,x,b){let E=null,_=null,k=new oH,B=r,N=n,M=p[0]-x[0]-i,te=-1073741824,de=this.m_forwardHistory.length-1;do{let Z=M+t;Z===B||Z<N&&u[Z-1]<u[Z+1]?(m=u[Z+1],g=m-M-i,m<te&&k.MarkNextChange(),te=m,k.AddModifiedElement(m+1,g),M=Z+1-t):(m=u[Z-1]+1,g=m-M-i,m<te&&k.MarkNextChange(),te=m-1,k.AddOriginalElement(m,g+1),M=Z-1-t),de>=0&&(u=this.m_forwardHistory[de],t=u[0],B=1,N=u.length-1)}while(--de>=-1);E=k.getReverseChanges(),k=new oH,B=a,N=l,M=p[0]-x[0]-c,te=1073741824,de=b?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let Z=M+o;Z===B||Z<N&&f[Z-1]>=f[Z+1]?(m=f[Z+1]-1,g=m-M-c,m>te&&k.MarkNextChange(),te=m+1,k.AddOriginalElement(m+1,g+1),M=Z+1-o):(m=f[Z-1],g=m-M-c,m>te&&k.MarkNextChange(),te=m,k.AddModifiedElement(m+1,g+1),M=Z-1-o),de>=0&&(f=this.m_reverseHistory[de],o=f[0],B=1,N=f.length-1)}while(--de>=-1);return _=k.getChanges(),this.ConcatenateChanges(E,_)}ComputeRecursionPoint(t,r,n,i,o,a){let l=0,c=0,u=0,f=0,m=0,h=0;t--,n--,o[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let p=r-t+(i-n),g=p+1,y=new Int32Array(g),x=new Int32Array(g),b=i-n,E=r-t,_=t-n,k=r-i,N=(E-b)%2===0;y[b]=t,x[E]=r;for(let M=1;M<=p/2+1;M++){let te=0,de=0;u=this.ClipDiagonalBound(b-M,M,b,g),f=this.ClipDiagonalBound(b+M,M,b,g);for(let Z=u;Z<=f;Z+=2){Z===u||Z<f&&y[Z-1]<y[Z+1]?l=y[Z+1]:l=y[Z-1]+1,c=l-(Z-b)-_;let G=l;for(;l<r&&c<i&&this.ElementsAreEqual(l+1,c+1);)l++,c++;if(y[Z]=l,l+c>te+de&&(te=l,de=c),!N&&Math.abs(Z-E)<=M-1&&l>=x[Z])return o[0]=l,a[0]=c,G<=x[Z]&&M<=1448?this.WALKTRACE(b,u,f,_,E,m,h,k,y,x,l,r,o,c,i,a,N):null}m=this.ClipDiagonalBound(E-M,M,E,g),h=this.ClipDiagonalBound(E+M,M,E,g);for(let Z=m;Z<=h;Z+=2){Z===m||Z<h&&x[Z-1]>=x[Z+1]?l=x[Z+1]-1:l=x[Z-1],c=l-(Z-E)-k;let G=l;for(;l>t&&c>n&&this.ElementsAreEqual(l,c);)l--,c--;if(x[Z]=l,N&&Math.abs(Z-b)<=M&&l<=y[Z])return o[0]=l,a[0]=c,G>=y[Z]&&M<=1448?this.WALKTRACE(b,u,f,_,E,m,h,k,y,x,l,r,o,c,i,a,N):null}if(M<=1447){let Z=new Int32Array(f-u+2);Z[0]=b-u+1,e3.Copy2(y,u,Z,1,f-u+1),this.m_forwardHistory.push(Z),Z=new Int32Array(h-m+2),Z[0]=E-m+1,e3.Copy2(x,m,Z,1,h-m+1),this.m_reverseHistory.push(Z)}}return this.WALKTRACE(b,u,f,_,E,m,h,k,y,x,l,r,o,c,i,a,N)}ConcatenateChanges(t,r){let n=[];if(t.length===0||r.length===0)return r.length>0?r:t;if(this.ChangesOverlap(t[t.length-1],r[0],n)){let i=new Array(t.length+r.length-1);return e3.Copy(t,0,i,0,t.length-1),i[t.length-1]=n[0],e3.Copy(r,1,i,t.length,r.length-1),i}else{let i=new Array(t.length+r.length);return e3.Copy(t,0,i,0,t.length),e3.Copy(r,0,i,t.length,r.length),i}}ChangesOverlap(t,r,n){if(ZC.Assert(t.originalStart<=r.originalStart,"Left change is not less than or equal to right change"),ZC.Assert(t.modifiedStart<=r.modifiedStart,"Left change is not less than or equal to right change"),t.originalStart+t.originalLength>=r.originalStart||t.modifiedStart+t.modifiedLength>=r.modifiedStart){let i=t.originalStart,o=t.originalLength,a=t.modifiedStart,l=t.modifiedLength;return t.originalStart+t.originalLength>=r.originalStart&&(o=r.originalStart+r.originalLength-t.originalStart),t.modifiedStart+t.modifiedLength>=r.modifiedStart&&(l=r.modifiedStart+r.modifiedLength-t.modifiedStart),n[0]=new O9(i,o,a,l),!0}else return n[0]=null,!1}ClipDiagonalBound(t,r,n,i){if(t>=0&&t<i)return t;let o=n,a=i-n-1,l=r%2===0;if(t<0){let c=o%2===0;return l===c?0:1}else{let c=a%2===0;return l===c?i-1:i-2}}};d();d();function VFe(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}s(VFe,"isObject");function sH(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}s(sH,"assertType");function $Fe(e){let t=new Set;return JSON.stringify(e,(r,n)=>{if(VFe(n)||Array.isArray(n)){if(t.has(n))return"[Circular]";t.add(n)}return typeof n=="bigint"?`[BigInt ${n.toString()}]`:n})}s($Fe,"safeStringify");var aH=!1,Kce=!0,B7t=200,Ok=class{constructor(t,r){this.ID=t;this._parserService=r;this.dependsOnSelection=!0}static{s(this,"AbstractNearbyCursorInlineEditProvider")}async provideNextEdit(t,r){let n=new JC(t),i=t.getActiveDocument(),o=Ob(i);if(!o||!o.isEmpty())return _i.noEdit({kind:"uncategorized",error:new Error("Selection is not empty")},n);let a=i.documentLinesBeforeEdit,l=i.recentEdit.apply(a),c=[];for(let E of t.documents)E.id!==i.id&&(c.push(`RELATED DOC: ${E.getDisplayPath()}`),c.push("```patch"),c.push(...F7t(E)),c.push("```"),c.push(""));c.push(`ORIGINAL VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...a),c.push("```"),c.push("");let u="// ...rest of the lines omitted...",f=new Cr(1,Math.max(1,o.startLineNumber-1)),m=i.recentEdit.edits.length>0?i.recentEdit.edits[i.recentEdit.edits.length-1].lineRange.endLineNumberExclusive-1:0,h;if(m>0&&m>=f.endLineNumberExclusive){let E=m<l.length;c.push(`IN PROGRESS VERSION ${E?" PREFIX":""}: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,m)),E&&(c.push(u),h={editRange:new Cr(f.endLineNumberExclusive,m+1),omittedMessage:u}),c.push("```"),c.push("")}c.push(`NEXT VERSION: ${i.getDisplayPath()}`),c.push("```"),c.push(...l.slice(0,f.endLineNumberExclusive-1)),c.push("");let p=l.slice(f.endLineNumberExclusive-1).join(`
`),g=await this.fetchUntilConvergence(c.join(`
`),p,r);if(r.isCancellationRequested)return _i.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n);if(g.isError())return g.err.kind==="cancel"?_i.noEdit({kind:"gotCancelled",message:"afterFetchCall"},n):_i.noEdit({kind:"fetchFailure",error:new Error($Fe(g.err))},n);let{result:y}=g.val;if(y.trim().length===0)return _i.noEdit({kind:"noSuggestions"},n);let x=lH(i.languageId,l,f,void 0,y,h),b=await Zce(this._parserService,x,i,{requireEditWithinNLines:5});if(b){let E=new Fo([b]);return _i.edit({edit:E},n)}else return _i.noEdit({kind:"filteredOut",message:"uncategorized"},n)}};Ok=c0([js(1,o2)],Ok);var U9=class extends Ok{constructor(r,n){super(U9.ID,r);this._chatMLFetcher=n}static{s(this,"MiniNearbyCursorInlineEditProvider")}static{this.ID="MiniNearbyCursorInlineEditProvider"}async fetchUntilConvergence(r,n,i){if(i.isCancellationRequested)return Oo.error({kind:"cancel"});let o=await Jce(this.ID,this._chatMLFetcher,[{role:$ce.OpenAI.ChatRole.System,content:`
Please no talking.
You must only provide code.
Simply provide the code that follows most logically.
You don't change code if not necessary.
You see the same file multiple times, but only the last one is the final version.
`.trim()},{role:$ce.OpenAI.ChatRole.User,content:r}],{convergence:n},i);if(o.isError())return o;let{ignored:a,result:l,headersTime:c}=o.val;return l=l.replace(/^```[^\n]*\n/,""),Oo.ok({ignored:a,result:l,headersTime:c})}};U9=c0([js(0,o2),js(1,$h)],U9);async function Jce(e,t,r,n,i){let o=new nH,a=!1,l,c=o.stream.map(y=>({choices:[{index:0,finish_reason:null,logprobs:null,text:y.delta.text}]})),u=P7t(c,n),f=t.fetchOne(r,async(y,x,b)=>(typeof l>"u"&&(l=Date.now()),o.update(y,b),a?y.length:void 0),{id:"copilot-nes-v",name:"proxy-4o-mini"},{},i);(async()=>{try{await f}finally{o.resolve()}})();let{ignored:m,result:h,shouldCancelRequest:p}=await u;typeof l>"u"&&(l=Date.now()),p&&(a=!0);let g=await f;return g.type!=="success"?Oo.error({kind:"failure",err:new Error(`Fetch failed (${g.type}, ${g.reason})`)}):Oo.ok({headersTime:l,ignored:m,result:h})}s(Jce,"fetchUntilConvergence");function Ob(e){let t=new Vt(0,0);return e.lastSelectionInAfterEdit&&!e.lastSelectionInAfterEdit.equals(t)?e.documentAfterEdits.getTransformer().getRange(e.lastSelectionInAfterEdit):e.recentEdit.edits.length===0?null:D7t(e)}s(Ob,"getOrDeduceSelectionFromLastEdit");function D7t(e){let t=e.recentEdit.edits[e.recentEdit.edits.length-1],r=t.lineRange,i=e.recentEdit.getNewLineRanges()[e.recentEdit.edits.length-1].endLineNumberExclusive-1,o=t.newLines[t.newLines.length-1]??"";if(r.length===0)return new yr(i,o.length+1,i,o.length+1);let a=e.documentLinesBeforeEdit[r.endLineNumberExclusive-2],l=E9(a,o),c=o.length-l+1;return new yr(i,c,i,c)}s(D7t,"deduceSelectionFromLastEdit");async function P7t(e,t){let r=N7t(e,t.ignoreReplyTextBefore),n=t.convergence,i=t.maxCompletionLineCount??20,o=t.convergenceNonWhitespaceCharOverlap??40,a=n.replace(/\s/g,""),l=[],c=[],u=[],f=[],m=s(h=>{let p=c[0];return{ignored:l[0]??"",result:p.substring(0,p.lastIndexOf(`
`)+1),shouldCancelRequest:!0}},"returnEarly");for await(let h of r){if(h.kind==="ignore"){l[h.index]=(l[h.index]??"")+h.text;continue}let p=h.text;if(c[h.index]=c[h.index]??"",c[h.index]+=p,f[h.index]=f[h.index]??"",f[h.index]+=p.replace(/\s/g,""),u[h.index]=u[h.index]??0,u[h.index]+=p.split(`
`).length-1,p.indexOf(`
`)===-1||h.index!==0)continue;if(u[h.index]>i)return m(`too many lines: ${u[h.index]}`);let g=c[h.index];if(n.startsWith(g))continue;let y=g.split(`
`).slice(-4,-1);if(y.length<3||n.indexOf(y.join(`
`)+`
`)<=0)continue;let b=f[h.index].substring(f[h.index].length-o);if(a.indexOf(b)>0)return m("convergence!")}return{ignored:l[0]??"",result:c[0]??"",shouldCancelRequest:!1}}s(P7t,"fetchCompletionUntilConvergence");function N7t(e,t){let r=[],n=[];return new kk(async i=>{for await(let o of e)for(let a of o.choices){let l=a.index,c=a.text??"";if(!t||r[l]){i.emitOne({kind:"completion",index:l,text:c});continue}n[l]=(n[l]??"")+c;let u=n[l].match(t);!u||typeof u.index>"u"||(r[l]=!0,i.emitOne({kind:"ignore",index:l,text:n[l].substring(0,u.index+u[0].length)}),i.emitOne({kind:"completion",index:a.index,text:n[l].substring(u.index+u[0].length)}),n[l]=void 0)}for(let o=0;o<n.length;o++)typeof n[o]<"u"&&i.emitOne({kind:"ignore",index:o,text:n[o]})})}s(N7t,"getTextAfterFirstPattern");function L7t(e,t,r){let n=t.startLineNumber,i=t.endLineNumberExclusive,o=r.slice(0);for(;n+1<i&&o.length>0;){let a=e[i-2],l=o[o.length-1];if(a!==l)break;i--,o.pop()}for(;n+1<i&&o.length>0;){let a=e[n-1],l=o[0];if(a!==l)break;n++,o.shift()}return new Qh(new Cr(n,i),o)}s(L7t,"createReducedLineEdit");var q9=class{constructor(t,r,n,i){this.languageId=t;this.oldLines=r;this.oldLines=r,this.edit=L7t(r,n,i);let o=new Fo([this.edit]);this.newLines=o.apply(r)}static{s(this,"PossibleEdit")}hasEditWithinFirstLines(t){let r=this.oldLines.slice(this.edit.lineRange.startLineNumber-1,this.edit.lineRange.endLineNumberExclusive-1),n=this.edit.newLines;return o(r,n)<t;function o(a,l){for(let c=0;c<Math.min(a.length,l.length);c++)if(a[c]!==l[c])return c;return Math.min(a.length,l.length)}}resolveDiff(){let t=s((m,h,p)=>m.map(g=>{let y=h.lines.slice(g.originalStart,g.originalStart+g.originalLength),x=p.lines.slice(g.modifiedStart,g.modifiedStart+g.modifiedLength),b=y.join(`
`),E=x.join(`
`),{editDistance:_}=f(b,E);return new zce(g.originalStart,g.originalLength,g.modifiedStart,g.modifiedLength,_)}),"computeEditDistances"),r=s(m=>{let h=0;for(let p of m)h+=p.editDistance;return{editDistance:h}},"computeDiffMetrics"),n=!1,i=new Fk(this.oldLines,n),o=new Fk(this.newLines,n),a=new Qk(i,o),l=t(a.ComputeDiff(),i,o),c=r(l),u=[];{let m=0;for(let h of l)u=u.concat(this.oldLines.slice(m,h.originalStart)),u=u.concat(this.newLines.slice(h.modifiedStart,h.modifiedStart+h.modifiedLength)),m=h.originalStart+h.originalLength;u=u.concat(this.oldLines.slice(m))}if(Lv(this.newLines,u))return new Yce(this.languageId,this.oldLines,this.edit,this.newLines,l,c);return YFe(this.languageId,this.oldLines,u);function f(m,h){let p=new Mk(m),g=new Mk(h),x=new Qk(p,g).ComputeDiff(),b=0,E=0;for(let N of x)b+=N.originalLength,E+=N.modifiedLength;let _=m.length,k=h.length,B=b+E;return{aChanged:b,bChanged:E,aLength:_,bLength:k,editDistance:B}}}},zce=class{constructor(t,r,n,i,o){this.originalStart=t;this.originalLength=r;this.modifiedStart=n;this.modifiedLength=i;this.editDistance=o}static{s(this,"DiffChangeWithEditDistance")}},Yce=class{constructor(t,r,n,i,o,a){this.languageId=t;this.oldLines=r;this.edit=n;this.newLines=i;this.diff=o;this.diffMetrics=a;this.parseErrorCount="unknown"}static{s(this,"PossibleEditWithDiff")}toLineEdit(t){if(t==="single")return new Fo([this.edit]);{let r=this.groupInHunks();return new Fo(r.map(n=>{let i=n[0],o=n[n.length-1];return new Qh(new Cr(i.originalStart+1,o.originalStart+o.originalLength+1),this.newLines.slice(i.modifiedStart,o.modifiedStart+o.modifiedLength))}))}}eliminateLargeChangeHunks(){if(!Kce)return this;let t=this.groupInHunks(),r=[];for(let n of t)n.every(o=>o.originalLength===0)||n.reduce((a,l)=>a+l.editDistance,0)>B7t&&(r=r.concat(n));if(r.length===this.diff.length)return null;if(r.length>0){let n=this._recreateNewLinesWithoutDiffs(r);return this._createPossibleEditFromLines(n)}return this}containWithinLines(t){let r=this.groupInHunks(),n=[];for(let i of r)for(let o of i){let a=o.originalStart+1,l=o.originalStart+o.originalLength+1;if(!Xce(new Cr(a,l),t)){n=n.concat(i);break}}if(n.length===this.diff.length)return null;if(n.length>0){let i=this._recreateNewLinesWithoutDiffs(n);return this._createPossibleEditFromLines(i).containWithinLines(t)}return this}groupInHunks(){let t=[];for(let r of this.diff){let n=t.length>0?t[t.length-1]:null;if(!n){t.push([r]);continue}let i=n[n.length-1],o=this.oldLines.slice(i.originalStart+i.originalLength,r.originalStart);if(o.length>1){t.push([r]);continue}if(o[0].trim().length>10){t.push([r]);continue}if(n.reduce((c,u)=>c+u.originalLength,0)>1){t.push([r]);continue}n.push(r)}return t}_recreateNewLinesWithoutDiffs(t){let r=[],n=0;for(let i of t)r=r.concat(this.newLines.slice(n,i.modifiedStart)),r=r.concat(this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength)),n=i.modifiedStart+i.modifiedLength;return r=r.concat(this.newLines.slice(n)),r}async resolveParseErrorCountIfPossible(t,r){let n=new Fo([this.edit]),i=r(n);this.parseErrorCount=await Uk(t,this.languageId,i)}eliminateEmptyLineChanges(){let t=s(r=>this._createPossibleEditFromLines(r).eliminateEmptyLineChanges(),"recurseWithNewLines");for(let r of this.diff){let n=this.oldLines.slice(r.originalStart,r.originalStart+r.originalLength),i=this.newLines.slice(r.modifiedStart,r.modifiedStart+r.modifiedLength);if(r.modifiedLength===0){if(n.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,0,...n),t(a)}continue}if(r.originalLength===0){if(i.every(a=>a.trim().length===0)){let a=this.newLines.slice(0);return a.splice(r.modifiedStart,r.modifiedLength),t(a)}continue}for(let o=0;o<n.length&&o<i.length;o++){let a=n[o],l=i[o],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+o,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+o,1),t(f)}}}for(let o=1;o<=n.length&&o<=i.length;o++){let a=n[n.length-o],l=i[i.length-o],c=a.trim().length===0,u=l.trim().length===0;if(!(c&&u)){if(!c&&!u)break;if(c){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-o+1,0,a),t(f)}if(u){let f=this.newLines.slice(0);return f.splice(r.modifiedStart+r.modifiedLength-o,1),t(f)}}}}return this}eliminateInsertedOrDeletedComments(){let t=[],r=0,n=!1;for(let i of this.diff){t=t.concat(this.newLines.slice(r,i.modifiedStart));let o=this.oldLines.slice(i.originalStart,i.originalStart+i.originalLength),a=this.newLines.slice(i.modifiedStart,i.modifiedStart+i.modifiedLength),{hasChanges:l,newDiffModifiedLines:c}=this._eliminateCommentsDiff(o,a);n=n||l,t=t.concat(c),r=i.modifiedStart+i.modifiedLength}return t=t.concat(this.newLines.slice(r)),n?this._createPossibleEditFromLines(t):this}_eliminateCommentsDiff(t,r){if(r.length===0){let c=!1,u=!1;for(let f of t){if(f.trim().length===0)continue;let m=ZG(f,this.languageId);m&&m.content.trim().length===0?c=!0:u=!0}if(c&&!u)return{hasChanges:!0,newDiffModifiedLines:t}}let n=t.map(c=>ZG(c,this.languageId)),i=r.map(c=>ZG(c,this.languageId)),o=n.filter(c=>!!c).length,a=i.filter(c=>!!c).length;if(o===0&&a===0)return{hasChanges:!1,newDiffModifiedLines:r};if(o>0)return{hasChanges:!1,newDiffModifiedLines:r};let l=!1;for(let c=0;c<r.length;c++){let u=r[c],f=i[c];if(!f)continue;let{content:m}=f;r[c]=u.substring(0,m.length).trimEnd(),l=!0}return{hasChanges:l,newDiffModifiedLines:r}}_createPossibleEditFromLines(t){return YFe(this.languageId,this.oldLines,t)}};function Xce(e,t){return t.startLineNumber<e.startLineNumber&&e.startLineNumber<t.endLineNumberExclusive&&e.endLineNumberExclusive<=t.endLineNumberExclusive}s(Xce,"editIsInsideEditWindow");function YFe(e,t,r){let i=t.length+1,o=r.slice(0);return new q9(e,t,new Cr(1,i),o).resolveDiff()}s(YFe,"createPossibleEditFromLines");function lH(e,t,r,n,i,o){if(i.trim().length===0)return[];let a=M9.fromString(i.trimEnd()),l=o?a.some(x=>x.indexOf(o.omittedMessage)>=0):!1,c=[],u=s((x,b)=>{c.push(new q9(e,t,x,b))},"generateEdit");function f(){n&&u(n,a)}s(f,"generateEditCompletionRange");function m(){if(l)return;let b=new Cr(r.endLineNumberExclusive,t.length+1);b.length>a.length+5||u(b,a)}s(m,"generateEditAllDoc");function h(){for(let x=1;x<a.length;x++){let E=a.slice(a.length-x).join(`
`);for(let _=r.endLineNumberExclusive-1;_<t.length;_++){let B=t.slice(_,_+x).join(`
`);E===B&&u(new Cr(r.endLineNumberExclusive,_+1),a.slice(0,a.length-x))}}}s(h,"generateEditsUsingOverlappingLines");function p(){if(!o||!l)return;let x=[];for(let b of a){if(b.indexOf(o.omittedMessage)>=0){u(o.editRange,x.map(E=>E));return}x.push(b)}}if(s(p,"generateEditWhenReplyContainsOmittedMessage"),f(),p(),m(),h(),!i.endsWith(`
`)){let x=i.substring(0,i.lastIndexOf(`
`)+1);c.push(...lH(e,t,r,n,x,o))}return g(c);function g(x){return y(x,s(E=>E.edit.lineRange.startLineNumber+","+E.edit.lineRange.endLineNumberExclusive+","+E.edit.newLines.join("|"),"keyfn"))}function y(x,b){let E=new Set,_=[];for(let k of x){let B=b(k);E.has(B)||(E.add(B),_.push(k))}return _}}s(lH,"generatePossibleEdits");async function Zce(e,t,r,n){let a=t.filter(m=>m.hasEditWithinFirstLines(n.requireEditWithinNLines)).map(m=>m.resolveDiff()).map(m=>m.eliminateEmptyLineChanges()),l=aH?await Uk(e,r.languageId,r.documentAfterEditsNoShortening.value):"unknown";if(aH){let m=s(h=>{let p=r.documentAfterEditsNoShortening;return r.toEditOnDocumentAfterEditsNoShortening(h).apply(p.value)},"applyToDocumentNoShortening");await Promise.all(a.map(h=>h.resolveParseErrorCountIfPossible(e,m)))}let c=a.filter(m=>l==="unknown"?m.parseErrorCount===0:m.parseErrorCount!=="unknown"&&m.parseErrorCount<=l),u=c.length>0?c:a;u.sort((m,h)=>m.parseErrorCount===h.parseErrorCount?0:m.parseErrorCount==="unknown"?1:h.parseErrorCount==="unknown"?-1:m.parseErrorCount-h.parseErrorCount);let f=s(m=>m.diffMetrics.editDistance,"score");return u.sort((m,h)=>f(m)-f(h)),u.length>0?u[0].edit:null}s(Zce,"selectBestEdit");function F7t(e){let r=[],n=e.documentLinesBeforeEdit,i=0,o=0,a=-1,l=s((c,u)=>{c>a+1&&r.push("[...]"),u?r.push(`-${n[c]}`):r.push(`${n[c]}`),a=c},"addOldLineIndex");for(let c of e.recentEdit.edits){for(;i<c.lineRange.startLineNumber-1;)Math.min(c.lineRange.startLineNumber-i-1,o>0?i-o-2:1073741824)<=2&&l(i,!1),i++;for(;i<c.lineRange.endLineNumberExclusive-1;)l(i,!0),i++;r.push(c.newLines.map(u=>`+${u}`).join(`
`)),o=c.lineRange.endLineNumberExclusive}for(;i<n.length;)i-o+2<=2&&l(i,!1),i++;return r.push("[...]"),r}s(F7t,"summariseDocDiff");function KFe(e){let t=[];for(let r of e.recentEdit.edits){let n=e.documentLinesBeforeEdit.slice(r.lineRange.startLineNumber-1,r.lineRange.endLineNumberExclusive-1),i=r.newLines;if(n.filter(a=>a.trim().length>0).length===0&&i.filter(a=>a.trim().length>0).length===0)continue;let o=r.lineRange.startLineNumber+e.clippingRange.startLineNumber-1;t.push(`@@ -${o},${n.length} +${o},${i.length} @@`),t.push(...n.map(a=>`-${a}`)),t.push(...i.map(a=>`+${a}`))}return t}s(KFe,"summarizeEditsAsUnifiedDiff");async function Uk(e,t,r){return await e.getTreeSitterAST({languageId:t,getText:s(()=>r,"getText")})?.getParseErrorCount()??"unknown"}s(Uk,"getParseErrorCount");d();var s2=Ze(Wh());d();var qk=Uf("ITokenizerProvider");var t3=class extends s2.PromptRenderer{constructor(r,n,i={validate:!0},o,a,l){let c=o.acquireTokenizer({tokenizer:l.tokenizerName}),u={modelMaxPromptTokens:l.tokenBudget};super(u,r,n,c);this.options=i;this._instantiationService=a}static{s(this,"PromptRenderer")}static create(r,n,i,o={validate:!0}){return r.invokeFunction(a=>{let l=a.get(qk);return new t3(n,i,o,l,r,a.get($h))})}createElement(r,...n){return this._instantiationService.createInstance(r.ctor,r.props,...n)}async render(r,n,i){let o=await super.render(r,n);i={...{trace:!0},...i};for(let c=1;c<o.messages.length;c++){let u=o.messages[c],f=o.messages[c-1];if(u.role===s2.Raw.ChatRole.System&&f.role===s2.Raw.ChatRole.System){let m=f.content.at(-1),h=u.content.at(0);m&&h&&m.type===s2.Raw.ChatCompletionContentPartKind.Text&&h.type===s2.Raw.ChatCompletionContentPartKind.Text?(m.text=m.text.trimEnd()+`
`+h.text,f.content=f.content.concat(u.content.slice(1))):(f.content.push({type:s2.Raw.ChatCompletionContentPartKind.Text,text:`
`}),f.content=f.content.concat(u.content)),o.messages.splice(c,1),c--}}let l=o.messages[o.messages.length-1];if(this.options.validate&&l&&l.role!==s2.Raw.ChatRole.User)throw new Error("Sorry, this message is too long. Please try a shorter question.");return{...o,references:[]}}async countTokens(r){return(await super.render(void 0,r)).tokenCount}};t3=c0([js(3,qk),js(4,Vg),js(5,$h)],t3);d();var JFe=Ze(Wh());var cH=class extends JFe.PromptElement{static{s(this,"SafetyRules")}render(){return vscpp(vscppf,null,"Follow Microsoft content policies.",vscpp("br",null),"Avoid content that violates copyrights.",vscpp("br",null),`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,vscpp("br",null),"Keep your answers short and impersonal.",vscpp("br",null))}};d();d();var Ub=class{constructor(t){this.text=t;this.lineStartOffsetByLineIdx=[],this.lineEndOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let r=0;r<t.length;r++)t.charAt(r)===`
`&&(this.lineStartOffsetByLineIdx.push(r+1),r>0&&t.charAt(r-1)==="\r"?this.lineEndOffsetByLineIdx.push(r-1):this.lineEndOffsetByLineIdx.push(r));this.lineEndOffsetByLineIdx.push(t.length)}static{s(this,"PositionOffsetTransformer")}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}getOffsetRange(t){return new Vt(this.getOffset(t.getStartPosition()),this.getOffset(t.getEndPosition()))}getPosition(t){let r=Cf(this.lineStartOffsetByLineIdx,o=>o<=t),n=r+1,i=t-this.lineStartOffsetByLineIdx[r]+1;return new mn(n,i)}getRange(t){return yr.fromPositions(this.getPosition(t.start),this.getPosition(t.endExclusive))}getTextLength(t){return Gl.ofRange(this.getRange(t))}get textLength(){let t=this.lineStartOffsetByLineIdx.length-1;return new Gl(t,this.text.length-this.lineStartOffsetByLineIdx[t])}getLineLength(t){return this.lineEndOffsetByLineIdx[t-1]-this.lineStartOffsetByLineIdx[t-1]}};var e0e=class{static{s(this,"AbstractDocument")}rangeToOffsetRange(t){return new Vt(this.getOffsetAtPosition(t.start),this.getOffsetAtPosition(t.end))}offsetRangeToRange(t){return new Su(this.getPositionAtOffset(t.start),this.getPositionAtOffset(t.endExclusive))}},zh=class extends e0e{constructor(r){super();this.value=r;this._transformer=new Ub(this.value)}static{s(this,"StringTextDocument")}getText(){return this.value}getLineText(r){let n=this._transformer.getOffset(new mn(r+1,1)),i=n+this.getLineLength(r);return this.value.substring(n,i)}getLineLength(r){return this._transformer.getLineLength(r+1)}getLineCount(){return this._transformer.textLength.lineCount+1}getTextInOffsetRange(r){return r.substring(this.value)}getPositionAtOffset(r){return M7t(this._transformer.getPosition(r))}getOffsetAtPosition(r){return r=this._validatePosition(r),this._transformer.getOffset(Q7t(r))}_validatePosition(r){if(r.line<0)return new Io(0,0);let n=this._transformer.textLength.lineCount+1;if(r.line>=n){let o=this._transformer.getLineLength(n);return new Io(n-1,o)}if(r.character<0)return new Io(r.line,0);let i=this._transformer.getLineLength(r.line+1);return r.character>i?new Io(r.line,i):r}};function M7t(e){return new Io(e.lineNumber-1,e.column-1)}s(M7t,"corePositionToVSCodePosition");function Q7t(e){return new mn(e.line+1,e.character+1)}s(Q7t,"vsCodePositionToCorePosition");d();d();function XFe(e){if(e.length===0)return 1/0;let t=e[0];for(let r=1;r<e.length;r++)t=Math.min(t,e[r]);return t}s(XFe,"min");d();function t0e(e,t){let r=t(e);return{...r,range:[r.range.start,r.range.endExclusive],children:r.children?.map(n=>t0e(n,t))}}s(t0e,"toAstNode");function ZFe(e,t){let r=Pv(t,a=>a.endExclusive>=e.start),n=Cf(t,a=>a.start<=e.endExclusive)+1;if(r===n)return[e];let i=[],o=e.start;for(let a=r;a<n;a++){let l=t[a];l.start>o&&i.push(new Vt(o,l.start)),o=l.endExclusive}return o<e.endExclusive&&i.push(new Vt(o,e.endExclusive)),i}s(ZFe,"subtractRange");d();d();d();var uH=class{static{s(this,"PrefixSumComputer")}constructor(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}getCount(){return this.values.length}insertValues(t,r){t=wb(t);let n=this.values,i=this.prefixSum,o=r.length;return o===0?!1:(this.values=new Uint32Array(n.length+o),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t),t+o),this.values.set(r,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(t,r){return t=wb(t),r=wb(r),this.values[t]===r?!1:(this.values[t]=r,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)}removeValues(t,r){t=wb(t),r=wb(r);let n=this.values,i=this.prefixSum;if(t>=n.length)return!1;let o=n.length-t;return r>=o&&(r=o),r===0?!1:(this.values=new Uint32Array(n.length-r),this.values.set(n.subarray(0,t),0),this.values.set(n.subarray(t+r),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(t){return t<0?0:(t=wb(t),this._getPrefixSum(t))}_getPrefixSum(t){if(t<=this.prefixSumValidIndex[0])return this.prefixSum[t];let r=this.prefixSumValidIndex[0]+1;r===0&&(this.prefixSum[0]=this.values[0],r++),t>=this.values.length&&(t=this.values.length-1);for(let n=r;n<=t;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],t),this.prefixSum[t]}getIndexOf(t){t=Math.floor(t),this.getTotalSum();let r=0,n=this.values.length-1,i=0,o=0,a=0;for(;r<=n;)if(i=r+(n-r)/2|0,o=this.prefixSum[i],a=o-this.values[i],t<a)n=i-1;else if(t>=o)r=i+1;else break;return new r0e(i,t-a)}};var r0e=class{constructor(t,r){this.index=t;this.remainder=r;this._prefixSumIndexOfResultBrand=void 0;this.index=t,this.remainder=r}static{s(this,"PrefixSumIndexOfResult")}};var Wk=class{static{s(this,"PositionOffsetTransformer")}constructor(t){this._lines=Og(t),this._eol=t.charAt(this._lines[0].length)==="\r"?`\r
`:`
`;let r=new Uint32Array(this._lines.length);for(let n=0;n<this._lines.length;n++)r[n]=this._lines[n].length+this._eol.length;this._lineStarts=new uH(r)}_getText(){return this._lines.join(this._eol)}applyOffsetEdits(t){let{edits:r}=t;for(let n=r.length-1;n>=0;n--){let i=r[n],o=this.toRange(i.replaceRange);this._acceptDeleteRange(o),this._acceptInsertText(o.start,i.newText)}}_acceptDeleteRange(t){if(t.start.line===t.end.line){if(t.start.character===t.end.character)return;this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.start.line].substring(t.end.character));return}this._setLineText(t.start.line,this._lines[t.start.line].substring(0,t.start.character)+this._lines[t.end.line].substring(t.end.character)),this._lines.splice(t.start.line+1,t.end.line-t.start.line),this._lineStarts.removeValues(t.start.line+1,t.end.line-t.start.line)}_acceptInsertText(t,r){if(r.length===0)return;let n=Og(r);if(n.length===1){this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]+this._lines[t.line].substring(t.character));return}n[n.length-1]+=this._lines[t.line].substring(t.character),this._setLineText(t.line,this._lines[t.line].substring(0,t.character)+n[0]);let i=new Uint32Array(n.length-1);for(let o=1;o<n.length;o++)this._lines.splice(t.line+1+o-1,0,n[o]),i[o-1]=n[o].length+this._eol.length;this._lineStarts.insertValues(t.line+1,i)}_setLineText(t,r){this._lines[t]=r,this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}getLineCount(){return this._lines.length}getOffset(t){return t=this.validatePosition(t),this._lineStarts.getPrefixSum(t.line-1)+t.character}getPosition(t){t=Math.floor(t),t=Math.max(0,t);let r=this._lineStarts.getIndexOf(t),n=this._lines[r.index].length;return new Io(r.index,Math.min(r.remainder,n))}toRange(t){return new Su(this.getPosition(t.start),this.getPosition(t.endExclusive))}toOffsetRange(t){return new Vt(this.getOffset(t.start),this.getOffset(t.end))}toOffsetEdit(t){let r=t.map(n=>new F9(this.validateRange(n.range),n.newText));return new cm(r.map(n=>new tl(this.toOffsetRange(n.range),n.newText)))}toTextEdits(t){return t.edits.map(r=>new F9(this.toRange(r.replaceRange),r.newText))}validatePosition(t){if(!(t instanceof Io))throw new Error("Invalid argument");if(this._lines.length===0)return t.with(0,0);let{line:r,character:n}=t,i=!1;if(r<0)r=0,n=0,i=!0;else if(r>=this._lines.length)r=this._lines.length-1,n=this._lines[r].length,i=!0;else{let o=this._lines[r].length;n<0?(n=0,i=!0):n>o&&(n=o,i=!0)}return i?new Io(r,n):t}validateRange(t){return new Su(this.validatePosition(t.start),this.validatePosition(t.end))}};var fH=class{constructor(t,r){this.originalText=t;this.edits=r;this._positionOffsetTransformer=new Qg(()=>new Wk(this.text));this._originalPositionOffsetTransformer=new Qg(()=>new Wk(this.originalText));this._text=new Qg(()=>this.edits.apply(this.originalText))}static{s(this,"ProjectedText")}get positionOffsetTransformer(){return this._positionOffsetTransformer.value}get originalPositionOffsetTransformer(){return this._originalPositionOffsetTransformer.value}get text(){return this._text.value}get lineCount(){return this.positionOffsetTransformer.getLineCount()}get isOriginal(){return this.edits.isEmpty||this.edits.isNoop(this.originalText)}project(t){return this.edits.applyToOffset(t)}projectOffsetRange(t){return this.edits.applyToOffsetRange(t)}projectRange(t){let r=this.originalPositionOffsetTransformer.toOffsetRange(t),n=this.projectOffsetRange(r);return this.positionOffsetTransformer.toRange(n)}projectOffsetEdit(t){return t.tryRebase(this.edits)}projectBack(t){return this.edits.applyInverseToOffset(t)}projectBackOffsetEdit(t){return t.tryRebase(this.edits.inverse(this.originalText))}projectBackTextEdit(t){let r=this.positionOffsetTransformer.toOffsetEdit(t),n=this.projectBackOffsetEdit(r);return this.originalPositionOffsetTransformer.toTextEdits(n)}};var n0e=class{constructor(t,r,n,i,o){this.parent=t;this.overlayNode=r;this.range=n;this.children=i;this._document=o}static{s(this,"RemovableNode")}get kind(){return this.overlayNode.kind}get text(){return this._document.getTextInOffsetRange(this.range)}},Wb=class extends fH{constructor(r,n){super(r.getText(),n);this.baseDocument=r}static{s(this,"ProjectedDocument")}getLanguageId(){return this.baseDocument.languageId}};function mH(e,t,r){let n=[],i=[],o=[];for(let l=0;l<r.length;l++){let{document:c,overlayNodeRoot:u,selection:f}=r[l],m=c.getText(),h=f?c.rangeToOffsetRange(f):void 0,p=eMe(u,c),g=i0e.fromRootNode(p,m),y=o0e.fromNode(g,!!t.tryPreserveTypeChecking,!!t.alwaysUseEllipsisForElisions);h&&y.visitAll(M=>M.node.range.intersectsOrTouches(h)?(M.node.children.length===0&&M.markAsSurviving(),!0):!1),n.push(y),i.push(y.getTextFragment());let x=s(M=>h?M.range.endExclusive<h.start?h.start-M.range.endExclusive:M.range.start>h.endExclusive?3*(M.range.start-h.endExclusive):0:0,"distanceScoreToSelection"),b=new YA(M=>h?M.children.length===0?M.range.intersectsOrTouches(h)?0:Number.MAX_SAFE_INTEGER:XFe(M.children.map(te=>b.get(te)))+1:0),E=new YA(M=>{let te=M.parent?E.get(M.parent):Number.MAX_SAFE_INTEGER,de=b.get(M);return Math.min(te,de)}),_=!!t.tryPreserveTypeChecking,k=s(M=>_&&M.node?.kind==="import_statement"?0:100*E.get(M)+M.depth+10*(x(M)/m.length),"costFn"),B=typeof t.costFnOverride=="object"?t.costFnOverride.createCostFn(c):t.costFnOverride;if(B!==void 0){let M=k;k=s(te=>{let de=M(te);return de===!1?!1:te.node?B(te.node,de,c):de},"costFn")}let N=y.getDescendantsAndSelf();for(let M of N){if(!M.node.node)continue;let te=k(M.node);te!==!1&&o.push({idx:l,node:M,cost:te})}}o.sort(xf(l=>l.cost,vf));for(let{node:l,idx:c}of o){if(l.markAsSurviving(),n.reduce((f,m)=>f+m.getTextFragment().length,0)>e)break;i[c]=n[c].getTextFragment()}let a=[];for(let l=0;l<i.length;l++){let c=i[l],{document:u}=r[l],f=new Wb(u,c.toTextEditFromOriginal(u.getText().length)),m=f,h=n[l];m.getVisualization=()=>({$fileExtension:"ast.w",source:{value:f.originalText,decorations:ZFe(Vt.ofLength(f.originalText.length),f.edits.edits.map(p=>p.replaceRange)).map(p=>({range:[p.start,p.endExclusive],color:"lime"}))},root:t0e(h,p=>({label:(p.node.node?.kind||"unknown")+` (${o.find(g=>g.node===p)?.cost})`,range:p.node.range,children:p.childNodes,isMarked:p._surviving}))}),a.push(f)}return a}s(mH,"summarizeDocumentsSyncImpl");function eMe(e,t,r=void 0){let n=new Vt(e.startIndex,e.endIndex),i=[],o=new n0e(r,e,n,i,t);for(let a of e.children)i.push(eMe(a,t,o));return o}s(eMe,"createRemovableNodeFromOverlayNode");var i0e=class e{constructor(t,r,n,i,o,a){this.node=t;this.range=r;this.children=n;this.depth=i;this.parent=o;this.document=a}static{s(this,"TextNode")}static fromRootNode(t,r){let n=new Vt(0,r.length);if(t.range.equals(n))return e.fromNode(t,r);let i=new Vt(0,t.range.start),o=new Vt(t.range.endExclusive,r.length),a=[],l=new e(void 0,n,a,0,null,r);return i.isEmpty||a.push(new e(void 0,i,[],0,l,r)),a.push(e.fromNode(t,r,1,null)),o.isEmpty||a.push(new e(void 0,o,[],0,l,r)),l}static fromNode(t,r,n=0,i=null){let o=[],a=new e(t,t.range,o,n,i,r);if(t.children.length>0){let l=t.range.start;for(let u of t.children){let f=new Vt(l,u.range.start);f.isEmpty||o.push(new e(void 0,f,[],n,a,r)),o.push(e.fromNode(u,r,n+1,a)),l=u.range.endExclusive}let c=new Vt(l,t.range.endExclusive);c.isEmpty||o.push(new e(void 0,c,[],n,a,r))}return a}getLeadingWs(){return O7t(this.document,this.range)}getTrailingWs(){return U7t(this.document,this.range)}};function O7t(e,t){let r=t.substring(e),n=r.length-r.trimStart().length;return r.substring(0,n)}s(O7t,"getLeadingWs");function U7t(e,t){let r=t.substring(e),n=r.length-r.trimEnd().length;return r.substring(r.length-n)}s(U7t,"getTrailingWs");var o0e=class e{constructor(t,r,n,i,o){this.node=t;this.parent=r;this.childNodes=n;this._tryPreserveTypeChecking=i;this._alwaysUseEllipsisForElisions=o;this._surviving=!1;this._textFragment=null}static{s(this,"SurvivingTextNode")}static fromNode(t,r,n){return e.fromNodeParent(t,null,r,n)}static fromNodeParent(t,r,n,i){let o=[],a=new e(t,r,o,n,i);for(let l of t.children){let c=e.fromNodeParent(l,a,n,i);o.push(c)}return a}visitAll(t){if(t(this))for(let r of this.childNodes)r.visitAll(t)}markAsSurviving(){this._surviving||(this._surviving=!0,this.parent&&this.parent.markAsSurviving(),this.invalidate())}invalidate(){this._textFragment&&(this._textFragment=null,this.parent&&this.parent.invalidate())}getTextFragment(){return this._textFragment||(this._textFragment=this._computeSummarization()),this._textFragment}_computeSummarization(){if(this.childNodes.length===0&&(this._surviving||!this.node.node))return new r3(this.node.range,this.node.document);if(!this._surviving)return new qb("");let t=Array.from(H8(this.childNodes.map(n=>({node:n,fragment:n.getTextFragment()})),(n,i)=>n.fragment.length===0==(i.fragment.length===0)));for(let n=0;n<t.length;n++){let i=t[n],o=i[0].fragment.length===0;if(o&&n>0&&n<t.length-1){let a=t[n-1].at(-1),l=t[n+1].at(0);if(a.fragment instanceof r3&&l.fragment instanceof r3){let c=a.fragment.trimEnd(),u=l.fragment.trimStart();if(c.endsWith("{")&&u.startsWith("}")){t[n-1][t[n-1].length-1].fragment=c,i.length=1,i[0].fragment=new qb(this._tryPreserveTypeChecking?"/ * ... * /":"\u2026"),t[n+1][0].fragment=u;continue}}}if(this._alwaysUseEllipsisForElisions&&o&&(n>0||n<t.length-1)){i.length=1;let a=i.at(0).node.node.getLeadingWs(),l=a.lastIndexOf(`
`);l!==-1&&(a=a.substring(l+1));let c=i.at(-1).node.node.getTrailingWs();i[0].fragment=new qb(a+(this._tryPreserveTypeChecking?"/ * ... * /":"\u2026")+c)}}let r=[];for(let n of t)for(let i of n)q7t(r,i.fragment);return dH.from(r)}getDescendantsAndSelf(){let t=[];return this._getDescendantsAndSelf(t),t}_getDescendantsAndSelf(t){t.push(this);for(let r of this.childNodes)r._getDescendantsAndSelf(t)}},Gk=class{static{s(this,"TextFragment")}toString(){return this.text}toTextEditFromOriginal(t){let r=[],n=0,i="";function o(l){(n!==l||i.length>0)&&(r.push(new tl(new Vt(n,l),i)),i="")}s(o,"emit");function a(l){if(l instanceof dH)for(let c of l.fragments)a(c);else l instanceof qb?i+=l.text:l instanceof r3&&(o(l.range.start),n=l.range.endExclusive)}return s(a,"process"),a(this),o(t),new cm(r)}},qb=class extends Gk{constructor(r){super();this.text=r}static{s(this,"LiteralTextFragment")}get length(){return this.text.length}},r3=class e extends Gk{constructor(r,n){super();this.range=r;this.originalText=n}static{s(this,"OriginalTextFragment")}get length(){return this.range.length}get text(){return this.range.substring(this.originalText)}trimStart(){let r=this.text.trimStart();return r.length===this.length?this:new e(new Vt(this.range.endExclusive-r.length,this.range.endExclusive),this.originalText)}trimEnd(){let r=this.text.trimEnd();return r.length===this.length?this:new e(new Vt(this.range.start,this.range.start+r.length),this.originalText)}startsWith(r){return this.text.startsWith(r)}endsWith(r){return this.text.endsWith(r)}tryJoin(r){return this.range.endExclusive===r.range.start?new e(new Vt(this.range.start,r.range.endExclusive),this.originalText):null}},dH=class e extends Gk{constructor(r){super();this.fragments=r;this.length=this.fragments.reduce((r,n)=>r+n.length,0)}static{s(this,"ConcatenatedTextFragment")}static from(r){return r.length===0?new qb(""):r.length===1?r[0]:new e(r)}get text(){return this.fragments.map(r=>r.text).join("")}};function q7t(e,t){if(t.length===0)return;let r=e[e.length-1];if(r&&r instanceof r3&&t instanceof r3){let n=r.tryJoin(t);if(n){e[e.length-1]=n;return}}e.push(t)}s(q7t,"pushFragment");d();var hH=Ze(Wh());function Hk(e){if(Array.isArray(e))return e.map(r=>Hk(r));let t=(0,hH.toMode)(hH.OutputMode.OpenAI,e);if("copilot_references"in e&&(t.copilot_references=e.copilot_references),"copilot_confirmations"in e&&(t.copilot_confirmations=e.copilot_confirmations),typeof t.content=="string")t.content=t.content.trimEnd();else for(let r of t.content)r.type==="text"&&(r.text=r.text.trimEnd());return t}s(Hk,"rawMessageToCAPI");d();d();var pH=class{constructor(t,r,n,i){this.startIndex=t;this.endIndex=r;this.kind=n;this.children=i;if(t>r)throw new vn("startIndex must be less than endIndex");let o=t;for(let a of i){if(a.startIndex<o)throw new vn("Invalid child startIndex");if(a.endIndex>r)throw new vn("Invalid child endIndex");o=Math.max(a.endIndex,o)}}static{s(this,"OverlayNode")}toString(){let t=[];function r(n,i=""){t.push(`${i}${n.kind} [${n.startIndex}, ${n.endIndex}]`),n.children.forEach(o=>r(o,i+"    "))}return s(r,"toString"),r(this),t.join(`
`)}};function rMe(e,t,r){let n=e.getText().split(/\r\n|\r|\n/g),i=r||{tabSize:4},o={getLineCount:s(()=>n.length,"getLineCount"),getLineContent:s(a=>n[a-1],"getLineContent"),getOptions:s(()=>i,"getOptions")};try{let a=W7t(o,t),[l]=nMe(e,a,void 0);return l.adjust(e,iMe(t)),l.toOverlayNode(e,!0)}catch{return new gH(1,e.getLineCount(),[]).toOverlayNode(e,!0)}}s(rMe,"getStructureUsingIndentation");function nMe(e,t,r){if(typeof r<"u"&&r>=t.length)throw new Error(`Invalid region index ${r}`);let n=typeof r>"u"?1:t.getStartLineNumber(r),i=typeof r>"u"?e.getLineCount():t.getEndLineNumber(r),o=[],a=null;for(r=typeof r>"u"?0:r+1;r<t.length;){let l=t.getStartLineNumber(r),c=t.getEndLineNumber(r);if(l>i||c>i)break;let u=a;if([a,r]=nMe(e,t,r),u&&a.startLineNumber<=u.endLineNumber)throw new vn("Invalid Folding Ranges: overlapping children");if(a.startLineNumber<n)throw new vn("Invalid Folding Ranges: child starts before parent");o.push(a)}return[new gH(n,i,o),r]}s(nMe,"createFoldingRangeTree");var gH=class{constructor(t,r,n){this.startLineNumber=t;this.endLineNumber=r;this.children=n;if(t>r)throw new vn("Invalid Folding Ranges: startLineNumber > endLineNumber")}static{s(this,"FoldingRangeNode")}adjust(t,r){r?this._adjustOffside():this._adjustRegular(t,t.getLineCount())}_adjustOffside(){this.startLineNumber++;for(let t of this.children)t._adjustOffside()}_adjustRegular(t,r){if(this.endLineNumber<r){let n=t.getLineText(this.endLineNumber).trim(),i=/^[\}\]\)];?$/.test(n),o=/^<\/\w/.test(n);(i||o)&&this.endLineNumber++}for(let n=this.children.length-1;n>=0;n--){let i=this.children[n],o=n+1<this.children.length?this.children[n+1].startLineNumber-1:r;i._adjustRegular(t,o)}}toOverlayNode(t,r){let n=[],i=r&&this.startLineNumber===1?1:this.startLineNumber+1;for(let o of this.children){for(let a=i;a<o.startLineNumber;a++){let l=s0e(t,a,a,"LINE",[]);l&&n.push(l)}n.push(o.toOverlayNode(t,!1)),i=o.endLineNumber+1}for(let o=i;o<this.endLineNumber;o++){let a=s0e(t,o,o,"LINE",[]);a&&n.push(a)}return s0e(t,this.startLineNumber,this.endLineNumber,"FOLD",n)}};function s0e(e,t,r,n,i){let o=e.getOffsetAtPosition(new Io(t-1,0)),a=r<e.getLineCount()?new Io(r,0):new Io(r-1,e.getLineLength(r-1)),l=e.getOffsetAtPosition(a);return new pH(o,l,n,i)}s(s0e,"createOverlayNode");function W7t(e,t){return G7t(e,iMe(t))}s(W7t,"generateFoldingRegions");function iMe(e){return["clojure","coffeescript","fsharp","latex","markdown","pug","python","sql","yaml"].includes(e)}s(iMe,"isOffSide");function G7t(e,t){let r=e.getOptions().tabSize,n=new a0e,i=[],o=e.getLineCount()+1;i.push({indent:-1,endAbove:o,line:o});for(let a=e.getLineCount();a>0;a--){let l=e.getLineContent(a),c=j7t(l,r),u=i[i.length-1];if(c===-1){t&&(u.endAbove=a);continue}if(u.indent>c){do i.pop(),u=i[i.length-1];while(u.indent>c);let f=u.endAbove-1;f-a>=1&&n.insertFirst(a,f,c)}u.indent===c?u.endAbove=a:i.push({indent:c,endAbove:a,line:a})}return n.toIndentRanges()}s(G7t,"_computeRanges");var H7t=65535,Gb=16777215,tMe=4278190080,a0e=class{static{s(this,"RangesCollector")}constructor(){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0}insertFirst(t,r,n){if(t>Gb||r>Gb)return;let i=this._length;this._startIndexes[i]=t,this._endIndexes[i]=r,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(){let t=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let n=this._length-1,i=0;n>=0;n--,i++)t[i]=this._startIndexes[n],r[i]=this._endIndexes[n];return new l0e(t,r)}};function j7t(e,t){let r=0,n=0,i=e.length;for(;n<i;){let o=e.charCodeAt(n);if(o===32)r++;else if(o===9)r=r-r%t+t;else break;n++}return n===i?-1:r}s(j7t,"computeIndentLevel");var l0e=class{static{s(this,"FoldingRegions")}constructor(t,r){this._startIndexes=t,this._endIndexes=r,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let t=[],r=s((n,i)=>{let o=t[t.length-1];return this.getStartLineNumber(o)<=n&&this.getEndLineNumber(o)>=i},"isInsideLast");for(let n=0,i=this._startIndexes.length;n<i;n++){let o=this._startIndexes[n],a=this._endIndexes[n];if(o>Gb||a>Gb)throw new Error("startLineNumber or endLineNumber must not exceed "+Gb);for(;t.length>0&&!r(o,a);)t.pop();let l=t.length>0?t[t.length-1]:-1;t.push(n),this._startIndexes[n]=o+((l&255)<<24),this._endIndexes[n]=a+((l&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(t){return this._startIndexes[t]&Gb}getEndLineNumber(t){return this._endIndexes[t]&Gb}getParentIndex(t){this.ensureParentIndices();let r=((this._startIndexes[t]&tMe)>>>24)+((this._endIndexes[t]&tMe)>>>16);return r===H7t?-1:r}contains(t,r){return this.getStartLineNumber(t)<=r&&this.getEndLineNumber(t)>=r}findIndex(t){let r=0,n=this._startIndexes.length;if(n===0)return-1;for(;r<n;){let i=Math.floor((r+n)/2);t<this.getStartLineNumber(i)?n=i:r=i+1}return r-1}findRange(t){let r=this.findIndex(t);if(r>=0){if(this.getEndLineNumber(r)>=t)return r;for(r=this.getParentIndex(r);r!==-1;){if(this.contains(r,t))return r;r=this.getParentIndex(r)}}return-1}};d();function Hb(e){return e instanceof Error?e:typeof e=="string"?new Error(e):new Error(`An unexpected error occurred: ${e}`)}s(Hb,"fromUnknown");var pl=Ze(Wh());var AH="current-version",Wf="next-version",sMe=2,aMe=10,lMe=.7,V7t=/```[^\n]*\n/,a2=class extends D9{constructor(r,n,i){super(a2.ID,[o=>new Q9(o),o=>new N9(o),o=>new L9(o)]);this.fetcher=r;this._parserService=n;this._instantiationService=i;this.dependsOnSelection=!0;this.showNextEditPreference="always";this._delayer=new dG}static{s(this,"GhNearbyNesProvider")}static{this.ID="GhNearbyNesProvider"}canReuseResult(r,n){if(r.getActiveDocument().id!==n.getActiveDocument().id||r.documents.length!==n.documents.length)return!1;let i=new Map(r.documents.map(a=>[a.id,a]));for(let a of n.documents){let l=i.get(a.id);if(!l||!o(l,a))return!1}return!0;function o(a,l){if(a.documentAfterEditsNoShortening.value!==l.documentAfterEditsNoShortening.value)return!1;let c=Ob(a),u=c?c0e(a,c):null,f=Ob(l),m=f?c0e(l,f):null;return!u||!m?!0:Math.abs(u.line-m.line)<Math.min(sMe,aMe)}}handleAcceptance(){this._delayer.handleAcceptance()}handleRejection(){this._delayer.handleRejection()}async provideNextEditBase(r,n){let i=new JC(r),o=this._delayer.createDelaySession(),a;try{a=await this.doGetNextEdit(r,i,o,n)}catch(c){return _i.noEdit({kind:"unexpected",error:Hb(c)},i)}let l=o.getArtificalDelay();return l>0&&await r2(l),a}async doGetNextEdit(r,n,i,o){return r.documents.some(c=>{if(c.recentEdit.edits.length===0)return!1;for(let u of c.recentEdit.edits)if(!u.lineRange.isEmpty||u.newLines.length>0)return!0;return!1})?await this.sendRequestAndProcessResult(r,i,o,n):_i.noEdit({kind:"activeDocumentHasNoEdits"},n)}async sendRequestAndProcessResult(r,n,i,o){let a=await this.createPrompt(r,i);if(!a)return _i.noEdit({kind:"noSuggestions"},o);if(!a.editWindowIsInPrompt)return _i.noEdit({kind:"filteredOut",message:"promptTooLarge"},o);if(await this.debounce(n,o),i.isCancellationRequested){let k={kind:"gotCancelled",message:"afterDebounce"};return _i.noEdit(k,o)}let{summarizedEditWindow:l,editWindowAllowedEditLineRange:c,allowedEditLineRange:u,maxCompletionLineCount:f,messages:m,completionPrefixRange:h,completionRange:p,convergence:g,activeDocument:y,activeDocumentLines:x}=a;o.setFetchStartedAt(),r.fetchIssued=!0;let b=await Jce(this.ID,this.fetcher,Hk(m),{convergence:g,ignoreReplyTextBefore:V7t,maxCompletionLineCount:f,convergenceNonWhitespaceCharOverlap:1e3},i);if(o.setFetchResultIfNotSet(b.isOk()?"success":b.err.kind==="cancel"||i.isCancellationRequested?"cancelled":"failure"),i.isCancellationRequested)return _i.noEdit({kind:"gotCancelled",message:"afterFetchCall"},o);if(b.isError())return b.err.kind==="cancel"?_i.noEdit({kind:"gotCancelled",message:"afterFetchCall"},o):_i.noEdit({kind:"fetchFailure",error:Hb(b.err.err)},o);let{result:E}=b.val;if(E.length===0){let k=`<${Wf}>
`,B=b.val.ignored.indexOf(k);B>=0&&(E=b.val.ignored.substring(B+k.length))}if(E=$7t(E),E.trim().length===0)return _i.noEdit({kind:"noSuggestions"},o);let _;if(l&&c&&u){let k=z7t(y,l,c,E);if(!k||k.edits.length===0)return _i.noEdit({kind:"filteredOut",message:"Content is identical or cannot get clean diff within edit window"},o);let B=Y7t(l,k);if(B.edits.length===0)return _i.noEdit({kind:"filteredOut",message:"No-op edit or could not map back to original document"},o);if(aH){let te=await Uk(this._parserService,y.languageId,y.documentAfterEditsNoShortening.value),de=B.apply(y.documentAfterEditsNoShortening.value);if(await Uk(this._parserService,y.languageId,de)>te)return _i.noEdit({kind:"filteredOut",message:"More parse errors after edit"},o)}_=K7t(y,B);let N=_.edits[0].lineRange.startLineNumber,M=_.edits[_.edits.length-1].lineRange.endLineNumberExclusive;if(!Xce(new Cr(N,M),u))return _i.noEdit({kind:"filteredOut",message:"Outside edit window after projection"},o)}else{let k=lH(y.languageId,x,h,p,E,void 0),B=await Zce(this._parserService,k,y,{requireEditWithinNLines:100});if(!B)return _i.noEdit({kind:"filteredOut",message:"Could not identify best edit"},o);_=new Fo([B])}return J7t(y,_)?_i.noEdit({kind:"filteredOut",message:"Undo of recent edit"},o):X7t(y,_)?_i.noEdit({kind:"filteredOut",message:"Deletion of recent insertion"},o):Z7t(y,_)?_i.noEdit({kind:"filteredOut",message:"uncategorized"},o):e_t(y,_)?_i.noEdit({kind:"filteredOut",message:"uncategorized"},o):_i.edit({edit:_},o)}async debounce(r,n){let i=r.getDebounceTime();n.setDebounceTime(i),await r2(i)}async createPrompt(r,n){let i=r.getActiveDocument(),a=i.documentAfterEdits.value.includes(`\r
`)?`\r
`:`
`,l=i.documentAfterEdits.value.split(a),c=Ob(i);if(c===null)return;let u=c0e(i,c),f=new zh(i.documentAfterEditsNoShortening.value),m=await n_t(this._parserService,{getText:s(()=>f.getText(),"getText"),languageId:i.languageId}),{firstEditableLineInShortenedDocument:h,lastEditableLineInShortenedDocument:p,editWindow:g}=function(){let de=t_t(i.documentAfterEditsLines,c.startLineNumber),Z=Math.max(1,Math.min(de,c.startLineNumber-sMe)),G=c.startLineNumber-Z,q=Math.min(l.length,c.endLineNumber+aMe),ie=q-c.endLineNumber,z=u.line-G,j=u.line+ie,U=new Su(z,0,j,f.getLineLength(j));return{firstEditableLineInShortenedDocument:Z,lastEditableLineInShortenedDocument:q,editWindow:U}}(),y=mH(0,{alwaysUseEllipsisForElisions:!0},[{overlayNodeRoot:m,document:f,selection:g}])[0],x=new Cr(1,h),b=new Cr(h,p+1),E=y.text,{messages:_,prediction:k,editWindowIsInPrompt:B}=await this._renderPrompt({request:r,activeDocumentSlice:E,languageId:i.languageId},n),N=E.split(/\r\n|\r|\n/).length,M=y.projectRange(g),te=y.positionOffsetTransformer.toOffsetRange(M);return{summarizedEditWindow:y,editWindowAllowedEditLineRange:new Cr(M.start.line+1,M.end.line+2),allowedEditLineRange:new Cr(h,p+1),messages:_,prediction:k,editWindowIsInPrompt:B,activeDocument:i,activeDocumentLines:l,completionPrefixRange:x,completionRange:b,convergence:E,expectedConvergencePrefix:te.start,maxCompletionLineCount:N+20}}async _renderPrompt(r,n){let o=await t3.create(this._instantiationService,f0e,r).render(void 0,n,{trace:!1}),a=o.metadata.get(bH)?.prediction,l=!!o.metadata.get(CH);return{messages:o.messages,prediction:a,editWindowIsInPrompt:l}}};a2=c0([js(0,$h),js(1,o2),js(2,Vg)],a2);function $7t(e){function t(r,n,i){let o=r.lastIndexOf(n);if(o===-1)return r;let a=r.slice(0,o);return a.trim().length>0?a+i:a}return s(t,"getStringBeforeLastPattern"),e=t(e,"\n```",`
`),e=t(e,`\`\`\`</${Wf}>`,`
`),e=t(e,`\`\`\`
</${Wf}>`,`
`),e=t(e,`</${Wf}>`,`
`),e}s($7t,"removeSuffixFromReply");function c0e(e,t){let r=e.documentAfterEdits.getTransformer().getOffset(t.getEndPosition()),n=e.toOffsetOnDocumentAfterEditsNoShortening(r);return new zh(e.documentAfterEditsNoShortening.value).getPositionAtOffset(n)}s(c0e,"getCursorPositionInOuterDocument");function z7t(e,t,r,n){let i=M9.fromString(t.text),o=M9.fromString(n.trimEnd()),l=new q9(e.languageId,i,new Cr(1,i.length+1),o).resolveDiff().eliminateEmptyLineChanges().eliminateInsertedOrDeletedComments().eliminateEmptyLineChanges(),c=t.isOriginal?l:l.containWithinLines(r);if(!c)return null;let u=Kce?c.eliminateLargeChangeHunks():c;return u?u.toLineEdit("multiple-hunks"):null}s(z7t,"generateSummarizedEditWindowEdit");function Y7t(e,t){let r=t.toEdit(new Hl(e.text));return e.projectBackOffsetEdit(r.toOffsetEdit())}s(Y7t,"convertSummarizedEditWindowEditToOuterDocumentEdit");function K7t(e,t){let r=t.edits.map(i=>{let o=i.replaceRange.start,a=e.toProjectedOffset(o);return Us.replace(new Vt(a,a+i.replaceRange.length),i.newText)}),n=new $c(e.documentAfterEdits,Es.create(r));return Fo.fromEdit(n)}s(K7t,"convertOuterDocumentEditToProjectedEdit");function J7t(e,t){let r=t.toEdit(e.documentAfterEdits),n=cMe(e.documentAfterEdits.value,r),i=new yH,o=e.documentBeforeEdits.value;for(let a of e.recentEdits.edits)i=i.combine(cMe(o,a)),o=a.apply(o);return!!i.isUndoneBy(n)}s(J7t,"editWouldUndo");function X7t(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!hMe(r))return!1;for(let n=e.recentEdits.edits.length-1;n>=0;n--){let i=e.recentEdits.edits[n],o=r.tryRebase(i);if(!o)return!0;r=o}return!1}s(X7t,"editWouldDeleteWhatWasJustInserted");function Z7t(e,t){let r=t.toEdit(e.documentAfterEdits);if(r=r.normalizeOnSource(e.documentAfterEdits.value),!hMe(r))return!1;for(let n of r.edits){let i=e.documentAfterEdits.value.substring(n.range.start,n.range.endExclusive);if(jce(i,e.languageId))return!0}return!1}s(Z7t,"editWouldDeleteAComment");function e_t(e,t){if(t.edits.length!==1)return!1;let r=t.edits[0];if(!r.lineRange.isEmpty)return!1;let n=s(l=>l.trim().length>5,"isSignificantLine"),i=new Set(r.newLines.filter(n));if(i.size<=1)return!1;let o=new Set(e.documentAfterEditsLines.filter(n));return u0e(o,i)/i.size>.8}s(e_t,"editWouldDuplicateExistingLines");function hMe(e){let t=e.edits.reduce((n,i)=>n+i.range.length,0);return e.edits.reduce((n,i)=>n+i.newText.length,0)===0&&t>0}s(hMe,"editIsDeletion");function t_t(e,t){for(;t>0;){if(e[t-1].trim().length>0)return t;t--}return 1}s(t_t,"findLineNumberAboveWithContent");var yH=class e{constructor(t=new Set,r=new Set){this.inserted=t;this.deleted=r}static{s(this,"InformationDelta")}combine(t){return new e(fMe(this.inserted,t.inserted),fMe(this.deleted,t.deleted))}isUndoneBy(t){let r=dMe(t.inserted,t.deleted),n=dMe(t.deleted,t.inserted),i=u0e(n,this.inserted),o=u0e(r,this.deleted);return n.size>6&&i/n.size>lMe||r.size>6&&o/r.size>lMe}};function cMe(e,t){let r=new Set,n=new Set,i=s(a=>{if(!a)return;let l=e.substring(a.start,a.endExclusive);for(let c of l.split(/\r\n|\r|\n/)){c=c.trim();for(let u of uMe(c))n.add(u)}},"tryAddDeleted"),o=s(a=>{for(let l of a.split(/\r\n|\r|\n/)){l=l.trim();for(let c of uMe(l))r.add(c)}},"tryAddInserted");for(let a of t.edits){let l=a.removeCommonPrefix(e).removeCommonSuffix(e),c=a.removeCommonSuffix(e).removeCommonPrefix(e);l.isNeutral()||(i(l.range),i(c.range),i(l.range.intersect(c.range)),o(r_t(l.newText,c.newText)))}return new yH(r,n)}s(cMe,"getInformationDelta");function r_t(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let i=e.slice(0,e.length-n),o=t.slice(n);if(i===o)return i}return""}s(r_t,"trimOverlap");function uMe(e){let t=[];for(let r=4;r<e.length;r++){let n=e.slice(r-4,r);t.push(n)}return t}s(uMe,"to4grams");function fMe(e,t){let r=new Set;for(let n of e)r.add(n);for(let n of t)r.add(n);return r}s(fMe,"setUnion");function dMe(e,t){let r=new Set;for(let n of e)t.has(n)||r.add(n);return r}s(dMe,"setMinus");function u0e(e,t){let r=0;for(let n of e)t.has(n)&&r++;return r}s(u0e,"setIntersectionCount");async function n_t(e,t){let n=await e.getTreeSitterAST(t)?.getStructure();return n||rMe(new zh(t.getText()),t.languageId,void 0)}s(n_t,"getStructure");var f0e=class extends pl.PromptElement{static{s(this,"GHNearbyPrompt")}async render(t,r){let{request:n,activeDocumentSlice:i,languageId:o}=this.props,a=[`<${Wf}>`,`\`\`\`${o}`,`${i}`,"```",`</${Wf}>`].join(`
`),l=(0,pl.useKeepWith)();return vscpp(vscppf,null,vscpp("meta",{value:new bH(a)}),vscpp(pl.SystemMessage,{priority:1e3},vscpp(cH,null),this._getInstructions()),vscpp(pl.UserMessage,{priority:900},"These are the files I'm working on, before I started making changes to them:",vscpp("br",null),"<original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(pl.Chunk,{priority:300},vscpp(xH,{doc:c}))):vscpp(pl.Chunk,{priority:100+u},vscpp(xH,{doc:c}))),vscpp("br",null),"</original_code>",vscpp("br",null),vscpp("br",null),"This is a sequence of edits that I made on these files, starting from the oldest to the newest:",vscpp("br",null),"<edits_to_original_code>",vscpp("br",null),n.documents.map((c,u)=>c.id===n.getActiveDocument().id?vscpp(l,{priority:300},vscpp(pl.Chunk,{priority:300},vscpp(vH,{doc:c}))):vscpp(pl.Chunk,{priority:200+u},vscpp(vH,{doc:c}))),vscpp("br",null),"</edits_to_original_code>",vscpp("br",null),vscpp("br",null),vscpp(l,{priority:300},vscpp(pl.Chunk,{priority:300},vscpp("meta",{local:!0,value:new CH}),"Here is the piece of code I am currently editing in"," ",n.getActiveDocument().getDisplayPath(),":",vscpp("br",null),vscpp("br",null),"<",AH,">",vscpp("br",null),"```",o,vscpp("br",null),i,vscpp("br",null),"```",vscpp("br",null),"</",AH,">",vscpp("br",null),vscpp("br",null),"Based on my most recent edits, what will I do next? Rewrite the code between <",AH,"> and </",AH,"> based on what I will do next. Do not skip any lines. Do not be lazy.",vscpp("br",null)))))}_getInstructions(){switch("v1"){case"v1":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Make only the necessary changes as indicated by the context.",vscpp("br",null),"- Avoid unnecessary rewrites and make only the necessary changes, using ellipses to indicate partial code where appropriate.",vscpp("br",null),"- Ensure all specified additions, modifications, and new elements (e.g., methods, parameters, function calls) are included in the response.",vscpp("br",null),"- Adhere strictly to the provided pattern, structure, and content, including matching the exact structure and formatting of the expected response.",vscpp("br",null),"- Maintain the integrity of the existing code while making necessary updates.",vscpp("br",null),"- Provide complete and detailed code snippets without omissions, ensuring all necessary parts such as additional classes, methods, or specific steps are included.",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Match the expected response exactly, even if it includes errors or corruptions, to ensure consistency.",vscpp("br",null),"- Do not alter method signatures, add or remove return values, or modify existing logic unless explicitly instructed.",vscpp("br",null),"- You must ONLY reply using the tag: <",Wf,">.");case"v2":return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is being actively edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- Ensure that all necessary conditional logic and key-value pairs are preserved in the updated code.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- Avoid introducing unnecessary variables or methods that are not part of the original code structure.",vscpp("br",null),"- You must ONLY reply using the tag: <",Wf,">.",vscpp("br",null),"- Provide a complete and functional code snippet without placeholders or incomplete sections unless explicitly required.");default:return vscpp(vscppf,null,"The programmer will provide you with a set of recently viewed files, their recent edits, and a snippet of code that is currently edited.",vscpp("br",null),vscpp("br",null),"When helping the programmer, your goals are:",vscpp("br",null),"- Keep the programmer on the pattern that you think they are on. Some examples are:",vscpp("br",null),"- Further implementing a class, method, or variable.",vscpp("br",null),"- Improving quality of the code.",vscpp("br",null),"- Making sure the programmer does not get distracted - make sure the next changes are relevant.",vscpp("br",null),"- Consider what edits need to be made next, if any.",vscpp("br",null),"- If you think changes should be made, ask yourself if this is really what needs to happen. If you are confident about it, then continue with the edits.",vscpp("br",null),vscpp("br",null),"When responding to the programmer, you must follow these rules:",vscpp("br",null),"- Only answer with the updated code. The programmer will copy and paste your code as is in place of the programmer's provided snippet.",vscpp("br",null),"- You must ONLY reply using the tag: <",Wf,">.:",vscpp("br",null),"- If you see further edits to make to the programmer's code, you must provide the updated code in the <",Wf,"> tag.:",vscpp("br",null),"- If the programmer's code is already correct and requires no further edits, simply answer with <",Wf,">IDENTICAL</",Wf,">.",vscpp("br",null),"- Make sure that the indentation level of any new code is correct and consistent with the existing code.",vscpp("br",null),vscpp("br",null),"Remember, you must ONLY respond using the tag: <",Wf,">.")}}},CH=class extends pl.PromptMetadata{static{s(this,"EditWindowMarkerMetadata")}},xH=class extends pl.PromptElement{static{s(this,"OriginalDocument")}async render(t,r){let{doc:n}=this.props,i=[];for(let o=0;o<n.documentLinesBeforeEdit.length;o++){let a=n.documentLinesBeforeEdit[o];i.push(`${n.clippingRange.startLineNumber+o}\u2502${a}`)}return vscpp(vscppf,null,n.getDisplayPath(),":",vscpp("br",null),i.join(`
`))}},vH=class extends pl.PromptElement{static{s(this,"DocumentDiffs")}async render(t,r){let{doc:n}=this.props,i=[];return i.push("```"),i.push(`---${n.getDisplayPath()}:`),i.push(`+++${n.getDisplayPath()}:`),i.push(...KFe(n)),i.push("```"),vscpp(vscppf,null,i.join(`
`))}},bH=class extends pl.PromptMetadata{constructor(r){super();this.prediction=r}static{s(this,"PredictionMetadata")}};d();d();function pMe(e,t){let r=[];for(let[n,i]of e.entries())i===t&&r.push(n);return r}s(pMe,"findIndexes");function i_t(e,t,r,n=10){if(t.length===0)return t;let i=[...t],o=t.length-1;for(;o>=0&&t[o].trim()==="";)o--;if(o<0)return t;let a=pMe(r,t[o]).slice(0,n);for(let m of a){let h=!1,p=o;for(;p>=0&&m>=0;){let g=t[p],y=r[m];if(g===y)p--,m--;else if(y.trim()==="")m--;else{h=!0;break}}if(!h&&m===-1&&p!==t.length-1){t=t.slice(0,p+1);break}else t=[...i]}if(!t.length)return t;let l=0;for(;t.length&&t[l].trim()==="";)l++;let c=[...t],f=pMe(e,t[l]).slice(-n).reverse();for(let m of f){let h=!1,p=l;for(;p<t.length&&m<e.length;){let g=t[p],y=e[m];if(g===y)p++,m++;else if(y.trim()==="")m++;else{h=!0;break}}if(!h&&m===e.length&&p!==0){t=t.slice(p);break}else t=[...c]}return t}s(i_t,"deduplicateEditRegion");function gMe(e,t,r){let n=e.getLines(),i=n.slice(0,t[0]),o=n.slice(t[1]+1);return{updatedEditWindow:i_t(i,r.split(/\r?\n/),o).join(`
`)}}s(gMe,"postProcessUpdatedEditWindow");d();var d0e={id:"xtab-274-2-full-ft",name:"xtab-4o-mini-finetuned"};d();var EH=Ze(Wh());function AMe(e){return e?typeof e=="string"?e:Array.isArray(e)?e.map(t=>t.type===EH.Raw.ChatCompletionContentPartKind.Text?t.text:"").join(""):e.type===EH.Raw.ChatCompletionContentPartKind.Text?e.text:"":""}s(AMe,"getTextPart");function o_t(e){return{type:EH.Raw.ChatCompletionContentPartKind.Text,text:e}}s(o_t,"toTextPart");function m0e(e){return[o_t(e)]}s(m0e,"toTextParts");d();var IH=Uf("IDiffService");var y0e=Ze(Wh());d();var TH="<|cursor|>",jb="<|code_to_edit|>",W9="<|/code_to_edit|>",CMe="<|area_around_code_to_edit|>",xMe="<|/area_around_code_to_edit|>",s_t="<|current_file_content|>",a_t="<|/current_file_content|>",l_t="<|edit_diff_history|>",c_t="<|/edit_diff_history|>",u_t="<|recently_viewed_code_snippets|>",f_t="<|/recently_viewed_code_snippets|>",d_t="<|recently_viewed_code_snippet|>",m_t="<|/recently_viewed_code_snippet|>",vMe=`Your role as an AI assistant is to help developers complete their code tasks by assisting in editing specific sections of code marked by the ${jb} and ${W9} tags, while adhering to Microsoft's content policies and avoiding the creation of content that violates copyrights.

You have access to the following information to help you make informed suggestions:

- recently_viewed_code_snippets: These are code snippets that the developer has recently looked at, which might provide context or examples relevant to the current task. They are listed from oldest to newest, with line numbers in the form #| to help you understand the edit diff history. It's possible these are entirely irrelevant to the developer's change.
- current_file_content: The content of the file the developer is currently working on, providing the broader context of the code. Line numbers in the form #| are included to help you understand the edit diff history.
- edit_diff_history: A record of changes made to the code, helping you understand the evolution of the code and the developer's intentions. These changes are listed from oldest to latest. It's possible a lot of old edit diff history is entirely irrelevant to the developer's change.
- area_around_code_to_edit: The context showing the code surrounding the section to be edited.
- cursor position marked as ${TH}: Indicates where the developer's cursor is currently located, which can be crucial for understanding what part of the code they are focusing on.

Your task is to predict and complete the changes the developer would have made next in the ${jb} section. The developer may have stopped in the middle of typing. Your goal is to keep the developer on the path that you think they're following. Some examples include further implementing a class, method, or variable, or improving the quality of the code. Make sure the developer doesn't get distracted and ensure your suggestion is relevant. Consider what changes need to be made next, if any. If you think changes should be made, ask yourself if this is truly what needs to happen. If you are confident about it, then proceed with the changes.

# Steps

1. **Review Context**: Analyze the context from the resources provided, such as recently viewed snippets, edit history, surrounding code, and cursor location.
2. **Evaluate Current Code**: Determine if the current code within the tags requires any corrections or enhancements.
3. **Suggest Edits**: If changes are required, ensure they align with the developer's patterns and improve code quality.
4. **Maintain Consistency**: Ensure indentation and formatting follow the existing code style.

# Output Format

- Provide only the revised code within the tags. If no changes are necessary, simply return the original code from within the ${jb} and ${W9} tags.
- There are line numbers in the form #| in the code displayed to you above, but these are just for your reference. Please do not include the numbers of the form #| in your response.
- Ensure that you do not output duplicate code that exists outside of these tags. The output should be the revised code that was between these tags and should not include the ${jb} or ${W9} tags.

\`\`\`
// Your revised code goes here
\`\`\`

# Notes

- Apologize with "Sorry, I can't assist with that." for requests that may breach Microsoft content guidelines.
- Avoid undoing or reverting the developer's last change unless there are obvious typos or errors.
- Don't include the line numbers of the form #| in your response.`;function bMe(e,t,r,n){let i=e.getActiveDocument(),o=g_t(e,n),a=h_t(e,n,2e3),l=i.workspaceRoot===void 0?i.id.path:i.id.path.startsWith(i.workspaceRoot.path)?i.id.path.substring(i.workspaceRoot.path.length+1):i.id.path;return`
\`\`\`
${u_t}
${o}
${f_t}

${s_t}
current_file_path: ${l}
${t}
${a_t}

${l_t}
${a}
${c_t}

${r}
\`\`\`

The developer was working on a section of code within the tags \`code_to_edit\` in the file located at \`${l}\`. Using the given \`recently_viewed_code_snippets\`, \`current_file_content\`, \`edit_diff_history\`, \`area_around_code_to_edit\`, and the cursor position marked as \`${TH}\`, please continue the developer's work. Update the \`code_to_edit\` section by predicting and completing the changes they would have made next. Provide the revised code that was between the \`${jb}\` and \`${W9}\` tags with the following format, but do not include the tags themselves.
\`\`\`
// Your revised code goes here
\`\`\`
`.trim()}s(bMe,"getUserPrompt");function h_t(e,t,r){let n=[];for(let a of e.xtabEditHistory.reverse()){let l=p_t(a);if(l===null)continue;let c=t(l);if(r-=c,r<0)break;n.push(l)}let i=n.reverse(),o=i.join(`

`);return i.length>0&&(o+=`
`),o}s(h_t,"getEditDiffHistory");function p_t(e){let t=[],r=Fo.fromEdit(e.edit);for(let i of r.edits){let o=e.edit.base.getLines().slice(i.lineRange.startLineNumber-1,i.lineRange.endLineNumberExclusive-1),a=i.newLines;if(o.filter(c=>c.trim().length>0).length===0&&a.filter(c=>c.trim().length>0).length===0)continue;let l=i.lineRange.startLineNumber-1;t.push(`@@ -${l},${o.length} +${l},${a.length} @@`),t.push(...o.map(c=>`-${c}`)),t.push(...a.map(c=>`+${c}`))}return t.length===0?null:[`--- ${e.docId.path}`,`+++ ${e.docId.path}`,...t].join(`
`)}s(p_t,"generateDocDiff");function yMe(e,t,r=!1){let n=r?`code_snippet_file_path: ${e} (truncated)`:`code_snippet_file_path: ${e}`;return[d_t,n,t,m_t].join(`
`)}s(yMe,"formatCodeSnippet");function g_t(e,t,r=2e3,n=!1){r=r||Number.POSITIVE_INFINITY;let i=e.getActiveDocument(),a=e.documents.filter(u=>u.id!==i.id).map(u=>({path:u.id.path,content:u.documentAfterEdits.value})),l=[],c=0;for(let u=a.length-1;u>=0;u--){let f=a[u],m=f.content.split(/\r?\n/);n&&(m=m.map((x,b)=>`${b+1}|${x}`));let h=m.map(x=>t(x)+1),p=t(yMe(f.path,"",!0)),g=h.reduce((x,b)=>x+b,0)+p,y=!1;for(;m.length>0&&c+g>r;)m.pop(),g-=h.pop()||0,y=!0;m.length>0&&(c+=g,l.push(yMe(f.path,m.join(`
`),y)))}return l.join(`

`)}s(g_t,"getRecentCodeSnippets");function h0e(e,t,r){if(!e.length)return[0,0];let n=r*4,i=0,o=t?e.length-1:0;for(;i<n;)if(i+=e[o].length+1,t){if(o--,o<0)break}else if(o++,o>=e.length)break;return t?[o+1,e.length]:[0,o]}s(h0e,"truncateCode");var EMe=2,IMe=10,p0e=15,g0e=1e3,A0e=2e3;var $g=class extends D9{constructor(r,n){super($g.ID,[i=>new Q9(i),i=>new N9(i),i=>new L9(i)]);this.diffService=r;this._chatMLFetcher=n;this.documentShorteningStrategy="noShortening";this.dependsOnSelection=!0;this.showNextEditPreference="always"}static{s(this,"XtabProvider")}static{this.ID="XtabProvider"}static{this.DEBOUNCE_MS=200}async provideNextEditBase(r,n){let i=new JC(r);try{if(r.xtabEditHistory.length===0)return _i.noEdit({kind:"activeDocumentHasNoEdits"},i);let o=await this.doGetNextEdit(r,n,i);return new _i(o,i.build(o))}catch(o){return _i.noEdit({kind:"unexpected",error:Hb(o)},i)}}async doGetNextEdit(r,n,i){let o=r.getActiveDocument(),a=Ob(o);if(a===null)return Oo.error({kind:"uncategorized",error:Hb(new Error("NoSelection"))});let l=s(K=>Math.floor(K.length/4),"computeTokens"),c=new mn(a.endLineNumber,a.endColumn),u=o.documentAfterEdits.getTransformer().getOffset(c),f=o.documentAfterEdits.value,m=f.substring(0,u)+TH+f.substring(u),h=c.lineNumber-1,p=m.split(/\r?\n/),g=Math.max(0,h-p0e),y=Math.min(p.length,h+p0e+1),x=EMe,b=IMe,E=Math.max(0,h-x),_=Math.min(p.length,h+b+1),k=o.documentAfterEdits.getTransformer().getOffsetRange(new yr(E,0,_,0)),B;B=f.split(/\r?\n/).slice(E,_);let N=[E,_],M=p.slice(E,_),te=[CMe,...p.slice(g,E),jb,...M,W9,...p.slice(_,y),xMe].join(`
`),de=te,Z;{let K=l(te),ae=0;if(K>=A0e)Z=te,ae=g;else{let re=Math.floor((A0e-K)/2),[le]=h0e(p.slice(0,g),!0,re),[,ce]=h0e(p.slice(y),!1,re);ae=Math.max(le,h-g0e);let De=Math.min(ce+y,h+g0e+1);Z=[...p.slice(ae,g),te,...p.slice(y,De)].join(`
`)}}let G=bMe(r,Z,de,l),q=[{role:y0e.Raw.ChatRole.System,content:m0e(vMe)},{role:y0e.Raw.ChatRole.User,content:m0e(G)}];if(i.setPrompt(q),await this.debounce(i),n.isCancellationRequested)return Oo.error({kind:"gotCancelled",message:"afterDebounce"});r.fetchIssued=!0;let ie=new Y8,z,j=await this._chatMLFetcher.fetchOne(Hk(q),async(K,ae,re)=>{z===void 0&&(z=ie.elapsed())},{id:d0e.id,name:d0e.name},{temperature:0},n);if(j.type==="canceled")return Oo.error({kind:"gotCancelled",message:"afterFetchCall"});if(j.type!=="success")return Oo.error({kind:"fetchFailure",error:Hb(j)});z&&i.setTtft(z),i.setResponse(j.value);let U=$g.getBacktickSection(j.value);return await this.generateReturnEditFormat(o,k,B.join(`
`),U,N,i)}async generateReturnEditFormat(r,n,i,o,a,l){let{updatedEditWindow:c}=gMe(r.documentAfterEdits,a,o),u=await this.diffService.computeDiff(i,c,{ignoreTrimWhitespace:!1,maxComputationTimeMs:0,computeMoves:!1}),f=c.split(/\r?\n/),m=u.changes.map(h=>new Qh(new Cr(a[0]+h.original.startLineNumber,a[0]+h.original.endLineNumberExclusive),f.slice(h.modified.startLineNumber-1,h.modified.endLineNumberExclusive-1)));return m.length<1?Oo.error({kind:"noSuggestions"}):Oo.ok({editWindow:n,edit:new Fo(m)})}static getBacktickSection(r){return r.replace(/^\`\`\`[a-zA-Z]*\r?\n/,"").replace(/(\r?\n)\`\`\`$/,"")}async debounce(r){let n=Date.now()-r.startTime,i=Math.max(0,$g.DEBOUNCE_MS-n);r.setDebounceTime(i),await r2(i)}};$g=c0([js(0,IH),js(1,$h)],$g);d();var zg=class{static{s(this,"ObservableWorkspace")}getDocument(t){return Promise.resolve(this.openDocuments.get().find(r=>r.id===t))}};var wH=class extends ys{constructor(r,n,i,o,a,l){super();this.id=r;this.workspaceRoot=l;this.value=Eh(this,n),this.selection=Eh(this,i),this.languageId=Eh(this,o),this._register(Sa(a))}static{s(this,"MutableObservableDocument")}applyEdit(r,n=void 0){let i=this.value.get().apply(r);this.value.set(i,n,r)}updateSelection(r,n=void 0){this.selection.set(r,n)}};d();var _H=class e extends ys{constructor(r,n=e.MAX_HISTORY_SIZE){super();this.maxHistorySize=n;this.idToEntry=new Map,this.history=new LS,Ef(this,r.openDocuments,(i,o)=>{o.add(dg(this,{rootedEdits:i.value},a=>{if(a.rootedEdits.changes.length<1||a.rootedEdits.previous===void 0)return;Pl(a.rootedEdits.changes.length===1,`Expected 1 edit change but got ${a.rootedEdits.changes.length}`);let l=a.rootedEdits.changes[0];if(l.edits.length===0)return;let c=this.idToEntry.get(i.id),u=a.rootedEdits.previous,f=new $c(u,l);if(c===void 0){this.pushToHistory(i.id,f);return}let m=c.entry.edit,h=Fo.fromEdit(m),p=Fo.fromEdit(f);if(!p.isEmpty()&&!h.isEmpty()&&h.edits[0].lineRange.startLineNumber===p.edits[0].lineRange.startLineNumber){c.removeFromHistory();let g=m.edit.compose(l),y=new $c(m.base,g);this.pushToHistory(i.id,y)}else this.pushToHistory(i.id,f)}))},i=>i.id).recomputeInitiallyAndOnChange(this._store)}static{s(this,"NesXtabHistoryTracker")}static{this.MAX_HISTORY_SIZE=50}getHistory(){return[...this.history]}pushToHistory(r,n){let i={docId:r,edit:n},o=this.history.push(i);if(this.idToEntry.set(r,{entry:i,removeFromHistory:o}),this.history.size>this.maxHistorySize){let a=this.history.shift();if(a!==void 0){let l=this.idToEntry.get(a.docId);l!==void 0&&a===l.entry&&this.idToEntry.delete(a.docId)}}}};d();d();d();d();var C0e=class e{constructor(t){this.edits=t;b0(()=>Y5(t,(r,n)=>r.range.getEndPosition().isBeforeOrEqual(n.range.getStartPosition())))}static{s(this,"TextEdit")}static fromOffsetEdit(t,r){let n=t.edits.map(i=>new Yg(r.getTransformer().getRange(i.replaceRange),i.newText));return new e(n)}static single(t,r){return new e([new Yg(t,r)])}static insert(t,r){return new e([new Yg(yr.fromPositions(t,t),r)])}normalize(){let t=[];for(let r of this.edits)if(t.length>0&&t[t.length-1].range.getEndPosition().equals(r.range.getStartPosition())){let n=t[t.length-1];t[t.length-1]=new Yg(n.range.plusRange(r.range),n.text+r.text)}else r.isEmpty||t.push(r);return new e(t)}mapPosition(t){let r=0,n=0,i=0;for(let o of this.edits){let a=o.range.getStartPosition();if(t.isBeforeOrEqual(a))break;let l=o.range.getEndPosition(),c=Gl.ofText(o.text);if(t.isBefore(l)){let u=new mn(a.lineNumber+r,a.column+(a.lineNumber+r===n?i:0)),f=c.addToPosition(u);return SH(u,f)}a.lineNumber+r!==n&&(i=0),r+=c.lineCount-(o.range.endLineNumber-o.range.startLineNumber),c.lineCount===0?l.lineNumber!==a.lineNumber?i+=c.columnCount-(l.column-1):i+=c.columnCount-(l.column-a.column):i=c.columnCount,n=l.lineNumber+r}return new mn(t.lineNumber+r,t.column+(t.lineNumber+r===n?i:0))}mapRange(t){function r(a){return a instanceof mn?a:a.getStartPosition()}s(r,"getStart");function n(a){return a instanceof mn?a:a.getEndPosition()}s(n,"getEnd");let i=r(this.mapPosition(t.getStartPosition())),o=n(this.mapPosition(t.getEndPosition()));return SH(i,o)}inverseMapPosition(t,r){return this.inverse(r).mapPosition(t)}inverseMapRange(t,r){return this.inverse(r).mapRange(t)}apply(t){let r="",n=new mn(1,1);for(let o of this.edits){let a=o.range,l=a.getStartPosition(),c=a.getEndPosition(),u=SH(n,l);u.isEmpty()||(r+=t.getValueOfRange(u)),r+=o.text,n=c}let i=SH(n,t.endPositionExclusive);return i.isEmpty()||(r+=t.getValueOfRange(i)),r}applyToString(t){let r=new v0e(t);return this.apply(r)}inverse(t){let r=this.getNewRanges();return new e(this.edits.map((n,i)=>new Yg(r[i],t.getValueOfRange(n.range))))}getNewRanges(){let t=[],r=0,n=0,i=0;for(let o of this.edits){let a=Gl.ofText(o.text),l=mn.lift({lineNumber:o.range.startLineNumber+n,column:o.range.startColumn+(o.range.startLineNumber===r?i:0)}),c=a.createRange(l);t.push(c),n=c.endLineNumber-o.range.endLineNumber,i=c.endColumn-o.range.endColumn,r=o.range.endLineNumber}return t}toSingle(t){if(this.edits.length===0)throw new vn;if(this.edits.length===1)return this.edits[0];let r=this.edits[0].range.getStartPosition(),n=this.edits[this.edits.length-1].range.getEndPosition(),i="";for(let o=0;o<this.edits.length;o++){let a=this.edits[o];if(i+=a.text,o<this.edits.length-1){let l=this.edits[o+1],c=yr.fromPositions(a.range.getEndPosition(),l.range.getStartPosition()),u=t.getValueOfRange(c);i+=u}}return new Yg(yr.fromPositions(r,n),i)}equals(t){return Lv(this.edits,t.edits,(r,n)=>r.equals(n))}},Yg=class e{constructor(t,r){this.range=t;this.text=r}static{s(this,"SingleTextEdit")}static joinEdits(t,r){if(t.length===0)throw new vn;if(t.length===1)return t[0];let n=t[0].range.getStartPosition(),i=t[t.length-1].range.getEndPosition(),o="";for(let a=0;a<t.length;a++){let l=t[a];if(o+=l.text,a<t.length-1){let c=t[a+1],u=yr.fromPositions(l.range.getEndPosition(),c.range.getStartPosition()),f=r.getValueOfRange(u);o+=f}}return new e(yr.fromPositions(n,i),o)}get isEmpty(){return this.range.isEmpty()&&this.text.length===0}static equals(t,r){return t.range.equalsRange(r.range)&&t.text===r.text}toSingleEditOperation(){return{range:this.range,text:this.text}}toEdit(){return new C0e([this])}equals(t){return e.equals(this,t)}extendToCoverRange(t,r){if(this.range.containsRange(t))return this;let n=this.range.plusRange(t),i=r.getValueOfRange(yr.fromPositions(n.getStartPosition(),this.range.getStartPosition())),o=r.getValueOfRange(yr.fromPositions(this.range.getEndPosition(),n.getEndPosition())),a=i+this.text+o;return new e(n,a)}extendToFullLine(t){let r=new yr(this.range.startLineNumber,1,this.range.endLineNumber,t.getTransformer().getLineLength(this.range.endLineNumber)+1);return this.extendToCoverRange(r,t)}removeCommonPrefix(t){let r=t.getValueOfRange(this.range).replaceAll(`\r
`,`
`),n=this.text.replaceAll(`\r
`,`
`),i=mk(r,n),o=Gl.ofText(r.substring(0,i)).addToPosition(this.range.getStartPosition()),a=n.substring(i),l=yr.fromPositions(o,this.range.getEndPosition());return new e(l,a)}isEffectiveDeletion(t){let r=this.text.replaceAll(`\r
`,`
`),n=t.getValueOfRange(this.range).replaceAll(`\r
`,`
`),i=mk(r,n);r=r.substring(i),n=n.substring(i);let o=E9(r,n);return r=r.substring(0,r.length-o),n=n.substring(0,n.length-o),r===""}};function SH(e,t){if(e.lineNumber===t.lineNumber&&e.column===Number.MAX_SAFE_INTEGER)return yr.fromPositions(t,t);if(!e.isBeforeOrEqual(t))throw new vn("start must be before end");return new yr(e.lineNumber,e.column,t.lineNumber,t.column)}s(SH,"rangeFromPositions");var RH=class{constructor(){this._transformer=void 0}static{s(this,"AbstractText")}get endPositionExclusive(){return this.length.addToPosition(new mn(1,1))}get lineRange(){return this.length.toLineRange()}getValue(){return this.getValueOfRange(this.length.toRange())}getLineLength(t){return this.getValueOfRange(new yr(t,1,t,Number.MAX_SAFE_INTEGER)).length}getTransformer(){return this._transformer||(this._transformer=new Ub(this.getValue())),this._transformer}getLineAt(t){return this.getValueOfRange(new yr(t,1,t,Number.MAX_SAFE_INTEGER))}getLines(){let t=this.getValue();return Og(t)}},x0e=class extends RH{constructor(r,n){Pl(n>=1);super();this._getLineContent=r;this._lineCount=n}static{s(this,"LineBasedText")}getValueOfRange(r){if(r.startLineNumber===r.endLineNumber)return this._getLineContent(r.startLineNumber).substring(r.startColumn-1,r.endColumn-1);let n=this._getLineContent(r.startLineNumber).substring(r.startColumn-1);for(let i=r.startLineNumber+1;i<r.endLineNumber;i++)n+=`
`+this._getLineContent(i);return n+=`
`+this._getLineContent(r.endLineNumber).substring(0,r.endColumn-1),n}getLineLength(r){return this._getLineContent(r).length}get length(){let r=this._getLineContent(this._lineCount);return new Gl(this._lineCount-1,r.length)}},Vb=class extends x0e{static{s(this,"ArrayText")}constructor(t){super(r=>t[r-1],t.length)}},v0e=class extends RH{constructor(r){super();this.value=r;this._t=new Ub(this.value)}static{s(this,"StringText")}getValueOfRange(r){return this._t.getOffsetRange(r).substring(this.value)}get length(){return this._t.textLength}};d();var G9=class{constructor(t,r,n){this.changes=t;this.moves=r;this.hitTimeout=n}static{s(this,"LinesDiff")}},H9=class e{static{s(this,"MovedText")}constructor(t,r){this.lineRangeMapping=t,this.changes=r}flip(){return new e(this.lineRangeMapping.flip(),this.changes.map(t=>t.flip()))}};d();var dm=class e{static{s(this,"LineRangeMapping")}static inverse(t,r,n){let i=[],o=1,a=1;for(let c of t){let u=new e(new Cr(o,c.original.startLineNumber),new Cr(a,c.modified.startLineNumber));u.modified.isEmpty||i.push(u),o=c.original.endLineNumberExclusive,a=c.modified.endLineNumberExclusive}let l=new e(new Cr(o,r+1),new Cr(a,n+1));return l.modified.isEmpty||i.push(l),i}static clip(t,r,n){let i=[];for(let o of t){let a=o.original.intersect(r),l=o.modified.intersect(n);a&&!a.isEmpty&&l&&!l.isEmpty&&i.push(new e(a,l))}return i}constructor(t,r){this.original=t,this.modified=r}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new e(this.modified,this.original)}join(t){return new e(this.original.join(t.original),this.modified.join(t.modified))}get changedLineCount(){return Math.max(this.original.length,this.modified.length)}toRangeMapping(){let t=this.original.toInclusiveRange(),r=this.modified.toInclusiveRange();if(t&&r)return new Ru(t,r);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1))throw new vn("not a valid diff");return new Ru(new yr(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new yr(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else return new Ru(new yr(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new yr(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}toRangeMapping2(t,r){if(TMe(this.original.endLineNumberExclusive,t)&&TMe(this.modified.endLineNumberExclusive,r))return new Ru(new yr(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new yr(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1));if(!this.original.isEmpty&&!this.modified.isEmpty)return new Ru(yr.fromPositions(new mn(this.original.startLineNumber,1),j9(new mn(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)),yr.fromPositions(new mn(this.modified.startLineNumber,1),j9(new mn(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),r)));if(this.original.startLineNumber>1&&this.modified.startLineNumber>1)return new Ru(yr.fromPositions(j9(new mn(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER),t),j9(new mn(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),t)),yr.fromPositions(j9(new mn(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER),r),j9(new mn(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),r)));throw new vn}};function j9(e,t){if(e.lineNumber<1)return new mn(1,1);if(e.lineNumber>t.length)return new mn(t.length,t[t.length-1].length+1);let r=t[e.lineNumber-1];return e.column>r.length+1?new mn(e.lineNumber,r.length+1):e}s(j9,"normalizePosition");function TMe(e,t){return e>=1&&e<=t.length}s(TMe,"isValidLineNumber");var n3=class e extends dm{static{s(this,"DetailedLineRangeMapping")}static fromRangeMappings(t){let r=Cr.join(t.map(i=>Cr.fromRangeInclusive(i.originalRange))),n=Cr.join(t.map(i=>Cr.fromRangeInclusive(i.modifiedRange)));return new e(r,n,t)}constructor(t,r,n){super(t,r),this.innerChanges=n}flip(){return new e(this.modified,this.original,this.innerChanges?.map(t=>t.flip()))}withInnerChangesFromLineRanges(){return new e(this.original,this.modified,[this.toRangeMapping()])}},Ru=class e{static{s(this,"RangeMapping")}static fromEdit(t){let r=t.getNewRanges();return t.edits.map((i,o)=>new e(i.range,r[o]))}static fromEditJoin(t){let r=t.getNewRanges(),n=t.edits.map((i,o)=>new e(i.range,r[o]));return e.join(n)}static join(t){if(t.length===0)throw new vn("Cannot join an empty list of range mappings");let r=t[0];for(let n=1;n<t.length;n++)r=r.join(t[n]);return r}static assertSorted(t){for(let r=1;r<t.length;r++){let n=t[r-1],i=t[r];if(!(n.originalRange.getEndPosition().isBeforeOrEqual(i.originalRange.getStartPosition())&&n.modifiedRange.getEndPosition().isBeforeOrEqual(i.modifiedRange.getStartPosition())))throw new vn("Range mappings must be sorted")}}constructor(t,r){this.originalRange=t,this.modifiedRange=r}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new e(this.modifiedRange,this.originalRange)}toTextEdit(t){let r=t.getValueOfRange(this.modifiedRange);return new Yg(this.originalRange,r)}join(t){return new e(this.originalRange.plusRange(t.originalRange),this.modifiedRange.plusRange(t.modifiedRange))}};function b0e(e,t,r,n=!1){let i=[];for(let o of H8(e.map(a=>y_t(a,t,r)),(a,l)=>a.original.overlapOrTouch(l.original)||a.modified.overlapOrTouch(l.modified))){let a=o[0],l=o[o.length-1];i.push(new n3(a.original.join(l.original),a.modified.join(l.modified),o.map(c=>c.innerChanges[0])))}return b0(()=>!n&&i.length>0&&(i[0].modified.startLineNumber!==i[0].original.startLineNumber||r.length.lineCount-i[i.length-1].modified.endLineNumberExclusive!==t.length.lineCount-i[i.length-1].original.endLineNumberExclusive)?!1:Y5(i,(o,a)=>a.original.startLineNumber-o.original.endLineNumberExclusive===a.modified.startLineNumber-o.modified.endLineNumberExclusive&&o.original.endLineNumberExclusive<a.original.startLineNumber&&o.modified.endLineNumberExclusive<a.modified.startLineNumber)),i}s(b0e,"lineRangeMappingFromRangeMappings");function y_t(e,t,r){let n=0,i=0;e.modifiedRange.endColumn===1&&e.originalRange.endColumn===1&&e.originalRange.startLineNumber+n<=e.originalRange.endLineNumber&&e.modifiedRange.startLineNumber+n<=e.modifiedRange.endLineNumber&&(i=-1),e.modifiedRange.startColumn-1>=r.getLineLength(e.modifiedRange.startLineNumber)&&e.originalRange.startColumn-1>=t.getLineLength(e.originalRange.startLineNumber)&&e.originalRange.startLineNumber<=e.originalRange.endLineNumber+i&&e.modifiedRange.startLineNumber<=e.modifiedRange.endLineNumber+i&&(n=1);let o=new Cr(e.originalRange.startLineNumber+n,e.originalRange.endLineNumber+1+i),a=new Cr(e.modifiedRange.startLineNumber+n,e.modifiedRange.endLineNumber+1+i);return new n3(o,a,[e])}s(y_t,"getLineRangeMapping");d();var Jg=class e{constructor(t,r){this.diffs=t;this.hitTimeout=r}static{s(this,"DiffAlgorithmResult")}static trivial(t,r){return new e([new $o(Vt.ofLength(t.length),Vt.ofLength(r.length))],!1)}static trivialTimedOut(t,r){return new e([new $o(Vt.ofLength(t.length),Vt.ofLength(r.length))],!0)}},$o=class e{constructor(t,r){this.seq1Range=t;this.seq2Range=r}static{s(this,"SequenceDiff")}static invert(t,r){let n=[];return T6e(t,(i,o)=>{n.push(e.fromOffsetPairs(i?i.getEndExclusives():Kg.zero,o?o.getStarts():new Kg(r,(i?i.seq2Range.endExclusive-i.seq1Range.endExclusive:0)+r)))}),n}static fromOffsetPairs(t,r){return new e(new Vt(t.offset1,r.offset1),new Vt(t.offset2,r.offset2))}static assertSorted(t){let r;for(let n of t){if(r&&!(r.seq1Range.endExclusive<=n.seq1Range.start&&r.seq2Range.endExclusive<=n.seq2Range.start))throw new vn("Sequence diffs must be sorted");r=n}}swap(){return new e(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(t){return new e(this.seq1Range.join(t.seq1Range),this.seq2Range.join(t.seq2Range))}delta(t){return t===0?this:new e(this.seq1Range.delta(t),this.seq2Range.delta(t))}deltaStart(t){return t===0?this:new e(this.seq1Range.deltaStart(t),this.seq2Range.deltaStart(t))}deltaEnd(t){return t===0?this:new e(this.seq1Range.deltaEnd(t),this.seq2Range.deltaEnd(t))}intersectsOrTouches(t){return this.seq1Range.intersectsOrTouches(t.seq1Range)||this.seq2Range.intersectsOrTouches(t.seq2Range)}intersect(t){let r=this.seq1Range.intersect(t.seq1Range),n=this.seq2Range.intersect(t.seq2Range);if(!(!r||!n))return new e(r,n)}getStarts(){return new Kg(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new Kg(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}},Kg=class e{constructor(t,r){this.offset1=t;this.offset2=r}static{s(this,"OffsetPair")}static{this.zero=new e(0,0)}static{this.max=new e(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER)}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(t){return t===0?this:new e(this.offset1+t,this.offset2+t)}equals(t){return this.offset1===t.offset1&&this.offset2===t.offset2}},i3=class e{static{s(this,"InfiniteTimeout")}static{this.instance=new e}isValid(){return!0}},kH=class{constructor(t){this.timeout=t;this.startTime=Date.now();this.valid=!0;if(t<=0)throw new vn("timeout must be positive")}static{s(this,"DateTimeout")}isValid(){return!(Date.now()-this.startTime<this.timeout)&&this.valid&&(this.valid=!1),this.valid}disable(){this.timeout=Number.MAX_SAFE_INTEGER,this.isValid=()=>!0,this.valid=!0}};d();d();var V9=class{constructor(t,r){this.width=t;this.height=r;this.array=[];this.array=new Array(t*r)}static{s(this,"Array2D")}get(t,r){return this.array[t+r*this.width]}set(t,r,n){this.array[t+r*this.width]=n}};function Vk(e){return e===32||e===9}s(Vk,"isSpace");var jk=class e{constructor(t,r,n){this.range=t;this.lines=r;this.source=n;this.histogram=[];let i=0;for(let o=t.startLineNumber-1;o<t.endLineNumberExclusive-1;o++){let a=r[o];for(let c=0;c<a.length;c++){i++;let u=a[c],f=e.getKey(u);this.histogram[f]=(this.histogram[f]||0)+1}i++;let l=e.getKey(`
`);this.histogram[l]=(this.histogram[l]||0)+1}this.totalCount=i}static{s(this,"LineRangeFragment")}static{this.chrKeys=new Map}static getKey(t){let r=this.chrKeys.get(t);return r===void 0&&(r=this.chrKeys.size,this.chrKeys.set(t,r)),r}computeSimilarity(t){let r=0,n=Math.max(this.histogram.length,t.histogram.length);for(let i=0;i<n;i++)r+=Math.abs((this.histogram[i]??0)-(t.histogram[i]??0));return 1-r/(this.totalCount+t.totalCount)}};var BH=class{static{s(this,"DynamicProgrammingDiffing")}compute(t,r,n=i3.instance,i){if(t.length===0||r.length===0)return Jg.trivial(t,r);let o=new V9(t.length,r.length),a=new V9(t.length,r.length),l=new V9(t.length,r.length);for(let g=0;g<t.length;g++)for(let y=0;y<r.length;y++){if(!n.isValid())return Jg.trivialTimedOut(t,r);let x=g===0?0:o.get(g-1,y),b=y===0?0:o.get(g,y-1),E;t.getElement(g)===r.getElement(y)?(g===0||y===0?E=0:E=o.get(g-1,y-1),g>0&&y>0&&a.get(g-1,y-1)===3&&(E+=l.get(g-1,y-1)),E+=i?i(g,y):1):E=-1;let _=Math.max(x,b,E);if(_===E){let k=g>0&&y>0?l.get(g-1,y-1):0;l.set(g,y,k+1),a.set(g,y,3)}else _===x?(l.set(g,y,0),a.set(g,y,1)):_===b&&(l.set(g,y,0),a.set(g,y,2));o.set(g,y,_)}let c=[],u=t.length,f=r.length;function m(g,y){(g+1!==u||y+1!==f)&&c.push(new $o(new Vt(g+1,u),new Vt(y+1,f))),u=g,f=y}s(m,"reportDecreasingAligningPositions");let h=t.length-1,p=r.length-1;for(;h>=0&&p>=0;)a.get(h,p)===3?(m(h,p),h--,p--):a.get(h,p)===1?h--:p--;return m(-1,-1),c.reverse(),new Jg(c,!1)}};d();var $9=class{static{s(this,"MyersDiffAlgorithm")}compute(t,r,n=i3.instance){if(t.length===0||r.length===0)return Jg.trivial(t,r);let i=t,o=r;function a(y,x){for(;y<i.length&&x<o.length&&i.getElement(y)===o.getElement(x);)y++,x++;return y}s(a,"getXAfterSnake");let l=0,c=new E0e;c.set(0,a(0,0));let u=new I0e;u.set(0,c.get(0)===0?null:new DH(null,0,0,c.get(0)));let f=0;e:for(;;){if(l++,!n.isValid())return Jg.trivialTimedOut(i,o);let y=-Math.min(l,o.length+l%2),x=Math.min(l,i.length+l%2);for(f=y;f<=x;f+=2){let b=0,E=f===x?-1:c.get(f+1),_=f===y?-1:c.get(f-1)+1;b++;let k=Math.min(Math.max(E,_),i.length),B=k-f;if(b++,k>i.length||B>o.length)continue;let N=a(k,B);c.set(f,N);let M=k===E?u.get(f+1):u.get(f-1);if(u.set(f,N!==k?new DH(M,k,B,N-k):M),c.get(f)===i.length&&c.get(f)-f===o.length)break e}}let m=u.get(f),h=[],p=i.length,g=o.length;for(;;){let y=m?m.x+m.length:0,x=m?m.y+m.length:0;if((y!==p||x!==g)&&h.push(new $o(new Vt(y,p),new Vt(x,g))),!m)break;p=m.x,g=m.y,m=m.prev}return h.reverse(),new Jg(h,!1)}},DH=class{constructor(t,r,n,i){this.prev=t;this.x=r;this.y=n;this.length=i}static{s(this,"SnakePath")}},E0e=class{constructor(){this.positiveArr=new Int32Array(10);this.negativeArr=new Int32Array(10)}static{s(this,"FastInt32Array")}get(t){return t<0?(t=-t-1,this.negativeArr[t]):this.positiveArr[t]}set(t,r){if(t<0){if(t=-t-1,t>=this.negativeArr.length){let n=this.negativeArr;this.negativeArr=new Int32Array(n.length*2),this.negativeArr.set(n)}this.negativeArr[t]=r}else{if(t>=this.positiveArr.length){let n=this.positiveArr;this.positiveArr=new Int32Array(n.length*2),this.positiveArr.set(n)}this.positiveArr[t]=r}}},I0e=class{constructor(){this.positiveArr=[];this.negativeArr=[]}static{s(this,"FastArrayNegativeIndices")}get(t){return t<0?(t=-t-1,this.negativeArr[t]):this.positiveArr[t]}set(t,r){t<0?(t=-t-1,this.negativeArr[t]=r):this.positiveArr[t]=r}};d();d();var o3=class{constructor(t,r,n){this.lines=t;this.range=r;this.considerWhitespaceChanges=n;this.elements=[];this.firstElementOffsetByLineIdx=[];this.lineStartOffsets=[];this.trimmedWsLengthsByLineIdx=[];this.firstElementOffsetByLineIdx.push(0);for(let i=this.range.startLineNumber;i<=this.range.endLineNumber;i++){let o=t[i-1],a=0;i===this.range.startLineNumber&&this.range.startColumn>1&&(a=this.range.startColumn-1,o=o.substring(a)),this.lineStartOffsets.push(a);let l=0;if(!n){let u=o.trimStart();l=o.length-u.length,o=u.trimEnd()}this.trimmedWsLengthsByLineIdx.push(l);let c=i===this.range.endLineNumber?Math.min(this.range.endColumn-1-a-l,o.length):o.length;for(let u=0;u<c;u++)this.elements.push(o.charCodeAt(u));i<this.range.endLineNumber&&(this.elements.push(10),this.firstElementOffsetByLineIdx.push(this.elements.length))}}static{s(this,"LinesSliceCharSequence")}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new Vt(0,this.length))}getText(t){return this.elements.slice(t.start,t.endExclusive).map(r=>String.fromCharCode(r)).join("")}getElement(t){return this.elements[t]}get length(){return this.elements.length}getBoundaryScore(t){let r=SMe(t>0?this.elements[t-1]:-1),n=SMe(t<this.elements.length?this.elements[t]:-1);if(r===7&&n===8)return 0;if(r===8)return 150;let i=0;return r!==n&&(i+=10,r===0&&n===1&&(i+=1)),i+=_Me(r),i+=_Me(n),i}translateOffset(t,r="right"){let n=Cf(this.firstElementOffsetByLineIdx,o=>o<=t),i=t-this.firstElementOffsetByLineIdx[n];return new mn(this.range.startLineNumber+n,1+this.lineStartOffsets[n]+i+(i===0&&r==="left"?0:this.trimmedWsLengthsByLineIdx[n]))}translateRange(t){let r=this.translateOffset(t.start,"right"),n=this.translateOffset(t.endExclusive,"left");return n.isBefore(r)?yr.fromPositions(n,n):yr.fromPositions(r,n)}findWordContaining(t){if(t<0||t>=this.elements.length||!z9(this.elements[t]))return;let r=t;for(;r>0&&z9(this.elements[r-1]);)r--;let n=t;for(;n<this.elements.length&&z9(this.elements[n]);)n++;return new Vt(r,n)}findSubWordContaining(t){if(t<0||t>=this.elements.length||!z9(this.elements[t]))return;let r=t;for(;r>0&&z9(this.elements[r-1])&&!wMe(this.elements[r]);)r--;let n=t;for(;n<this.elements.length&&z9(this.elements[n])&&!wMe(this.elements[n]);)n++;return new Vt(r,n)}countLinesIn(t){return this.translateOffset(t.endExclusive).lineNumber-this.translateOffset(t.start).lineNumber}isStronglyEqual(t,r){return this.elements[t]===this.elements[r]}extendToFullLines(t){let r=TA(this.firstElementOffsetByLineIdx,i=>i<=t.start)??0,n=v6e(this.firstElementOffsetByLineIdx,i=>t.endExclusive<=i)??this.elements.length;return new Vt(r,n)}};function z9(e){return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57}s(z9,"isWordChar");function wMe(e){return e>=65&&e<=90}s(wMe,"isUpperCase");var C_t={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function _Me(e){return C_t[e]}s(_Me,"getCategoryBoundaryScore");function SMe(e){return e===10?8:e===13?7:Vk(e)?6:e>=97&&e<=122?0:e>=65&&e<=90?1:e>=48&&e<=57?2:e===-1?3:e===44||e===59?5:4}s(SMe,"getCategory");function kMe(e,t,r,n,i,o){let{moves:a,excludedChanges:l}=v_t(e,t,r,o);if(!o.isValid())return[];let c=e.filter(f=>!l.has(f)),u=b_t(c,n,i,t,r,o);return S6e(a,u),a=E_t(a),a=a.filter(f=>{let m=f.original.toOffsetRange().slice(t).map(p=>p.trim());return m.join(`
`).length>=15&&x_t(m,p=>p.length>=2)>=2}),a=I_t(e,a),a}s(kMe,"computeMovedLines");function x_t(e,t){let r=0;for(let n of e)t(n)&&r++;return r}s(x_t,"countWhere");function v_t(e,t,r,n){let i=[],o=e.filter(c=>c.modified.isEmpty&&c.original.length>=3).map(c=>new jk(c.original,t,c)),a=new Set(e.filter(c=>c.original.isEmpty&&c.modified.length>=3).map(c=>new jk(c.modified,r,c))),l=new Set;for(let c of o){let u=-1,f;for(let m of a){let h=c.computeSimilarity(m);h>u&&(u=h,f=m)}if(u>.9&&f&&(a.delete(f),i.push(new dm(c.range,f.range)),l.add(c.source),l.add(f.source)),!n.isValid())return{moves:i,excludedChanges:l}}return{moves:i,excludedChanges:l}}s(v_t,"computeMovesFromSimpleDeletionsToSimpleInsertions");function b_t(e,t,r,n,i,o){let a=[],l=new j8;for(let h of e)for(let p=h.original.startLineNumber;p<h.original.endLineNumberExclusive-2;p++){let g=`${t[p-1]}:${t[p+1-1]}:${t[p+2-1]}`;l.add(g,{range:new Cr(p,p+3)})}let c=[];e.sort(xf(h=>h.modified.startLineNumber,vf));for(let h of e){let p=[];for(let g=h.modified.startLineNumber;g<h.modified.endLineNumberExclusive-2;g++){let y=`${r[g-1]}:${r[g+1-1]}:${r[g+2-1]}`,x=new Cr(g,g+3),b=[];l.forEach(y,({range:E})=>{for(let k of p)if(k.originalLineRange.endLineNumberExclusive+1===E.endLineNumberExclusive&&k.modifiedLineRange.endLineNumberExclusive+1===x.endLineNumberExclusive){k.originalLineRange=new Cr(k.originalLineRange.startLineNumber,E.endLineNumberExclusive),k.modifiedLineRange=new Cr(k.modifiedLineRange.startLineNumber,x.endLineNumberExclusive),b.push(k);return}let _={modifiedLineRange:x,originalLineRange:E};c.push(_),b.push(_)}),p=b}if(!o.isValid())return[]}c.sort(k6e(xf(h=>h.modifiedLineRange.length,vf)));let u=new _b,f=new _b;for(let h of c){let p=h.modifiedLineRange.startLineNumber-h.originalLineRange.startLineNumber,g=u.subtractFrom(h.modifiedLineRange),y=f.subtractFrom(h.originalLineRange).getWithDelta(p),x=g.getIntersection(y);for(let b of x.ranges){if(b.length<3)continue;let E=b,_=b.delta(-p);a.push(new dm(_,E)),u.addRange(E),f.addRange(_)}}a.sort(xf(h=>h.original.startLineNumber,vf));let m=new DS(e);for(let h=0;h<a.length;h++){let p=a[h],g=m.findLastMonotonous(N=>N.original.startLineNumber<=p.original.startLineNumber),y=TA(e,N=>N.modified.startLineNumber<=p.modified.startLineNumber),x=Math.max(p.original.startLineNumber-g.original.startLineNumber,p.modified.startLineNumber-y.modified.startLineNumber),b=m.findLastMonotonous(N=>N.original.startLineNumber<p.original.endLineNumberExclusive),E=TA(e,N=>N.modified.startLineNumber<p.modified.endLineNumberExclusive),_=Math.max(b.original.endLineNumberExclusive-p.original.endLineNumberExclusive,E.modified.endLineNumberExclusive-p.modified.endLineNumberExclusive),k;for(k=0;k<x;k++){let N=p.original.startLineNumber-k-1,M=p.modified.startLineNumber-k-1;if(N>n.length||M>i.length||u.contains(M)||f.contains(N)||!RMe(n[N-1],i[M-1],o))break}k>0&&(f.addRange(new Cr(p.original.startLineNumber-k,p.original.startLineNumber)),u.addRange(new Cr(p.modified.startLineNumber-k,p.modified.startLineNumber)));let B;for(B=0;B<_;B++){let N=p.original.endLineNumberExclusive+B,M=p.modified.endLineNumberExclusive+B;if(N>n.length||M>i.length||u.contains(M)||f.contains(N)||!RMe(n[N-1],i[M-1],o))break}B>0&&(f.addRange(new Cr(p.original.endLineNumberExclusive,p.original.endLineNumberExclusive+B)),u.addRange(new Cr(p.modified.endLineNumberExclusive,p.modified.endLineNumberExclusive+B))),(k>0||B>0)&&(a[h]=new dm(new Cr(p.original.startLineNumber-k,p.original.endLineNumberExclusive+B),new Cr(p.modified.startLineNumber-k,p.modified.endLineNumberExclusive+B)))}return a}s(b_t,"computeUnchangedMoves");function RMe(e,t,r){if(e.trim()===t.trim())return!0;if(e.length>300&&t.length>300)return!1;let i=new $9().compute(new o3([e],new yr(1,1,1,e.length),!1),new o3([t],new yr(1,1,1,t.length),!1),r),o=0,a=$o.invert(i.diffs,e.length);for(let f of a)f.seq1Range.forEach(m=>{Vk(e.charCodeAt(m))||o++});function l(f){let m=0;for(let h=0;h<e.length;h++)Vk(f.charCodeAt(h))||m++;return m}s(l,"countNonWsChars");let c=l(e.length>t.length?e:t);return o/c>.6&&c>10}s(RMe,"areLinesSimilar");function E_t(e){if(e.length===0)return e;e.sort(xf(r=>r.original.startLineNumber,vf));let t=[e[0]];for(let r=1;r<e.length;r++){let n=t[t.length-1],i=e[r],o=i.original.startLineNumber-n.original.endLineNumberExclusive,a=i.modified.startLineNumber-n.modified.endLineNumberExclusive;if(o>=0&&a>=0&&o+a<=2){t[t.length-1]=n.join(i);continue}t.push(i)}return t}s(E_t,"joinCloseConsecutiveMoves");function I_t(e,t){let r=new DS(e);return t=t.filter(n=>{let i=r.findLastMonotonous(l=>l.original.startLineNumber<n.original.endLineNumberExclusive)||new dm(new Cr(1,1),new Cr(1,1)),o=TA(e,l=>l.modified.startLineNumber<n.modified.endLineNumberExclusive);return i!==o}),t}s(I_t,"removeMovesInSameDiff");d();function T0e(e,t,r){let n=r;return n=BMe(e,t,n),n=BMe(e,t,n),n=T_t(e,t,n),n}s(T0e,"optimizeSequenceDiffs");function BMe(e,t,r){if(r.length===0)return r;let n=[];n.push(r[0]);for(let o=1;o<r.length;o++){let a=n[n.length-1],l=r[o];if(l.seq1Range.isEmpty||l.seq2Range.isEmpty){let c=l.seq1Range.start-a.seq1Range.endExclusive,u;for(u=1;u<=c&&!(e.getElement(l.seq1Range.start-u)!==e.getElement(l.seq1Range.endExclusive-u)||t.getElement(l.seq2Range.start-u)!==t.getElement(l.seq2Range.endExclusive-u));u++);if(u--,u===c){n[n.length-1]=new $o(new Vt(a.seq1Range.start,l.seq1Range.endExclusive-c),new Vt(a.seq2Range.start,l.seq2Range.endExclusive-c));continue}l=l.delta(-u)}n.push(l)}let i=[];for(let o=0;o<n.length-1;o++){let a=n[o+1],l=n[o];if(l.seq1Range.isEmpty||l.seq2Range.isEmpty){let c=a.seq1Range.start-l.seq1Range.endExclusive,u;for(u=0;u<c&&!(!e.isStronglyEqual(l.seq1Range.start+u,l.seq1Range.endExclusive+u)||!t.isStronglyEqual(l.seq2Range.start+u,l.seq2Range.endExclusive+u));u++);if(u===c){n[o+1]=new $o(new Vt(l.seq1Range.start+c,a.seq1Range.endExclusive),new Vt(l.seq2Range.start+c,a.seq2Range.endExclusive));continue}u>0&&(l=l.delta(u))}i.push(l)}return n.length>0&&i.push(n[n.length-1]),i}s(BMe,"joinSequenceDiffsByShifting");function T_t(e,t,r){if(!e.getBoundaryScore||!t.getBoundaryScore)return r;for(let n=0;n<r.length;n++){let i=n>0?r[n-1]:void 0,o=r[n],a=n+1<r.length?r[n+1]:void 0,l=new Vt(i?i.seq1Range.endExclusive+1:0,a?a.seq1Range.start-1:e.length),c=new Vt(i?i.seq2Range.endExclusive+1:0,a?a.seq2Range.start-1:t.length);o.seq1Range.isEmpty?r[n]=DMe(o,e,t,l,c):o.seq2Range.isEmpty&&(r[n]=DMe(o.swap(),t,e,c,l).swap())}return r}s(T_t,"shiftSequenceDiffs");function DMe(e,t,r,n,i){let a=1;for(;e.seq1Range.start-a>=n.start&&e.seq2Range.start-a>=i.start&&r.isStronglyEqual(e.seq2Range.start-a,e.seq2Range.endExclusive-a)&&a<100;)a++;a--;let l=0;for(;e.seq1Range.start+l<n.endExclusive&&e.seq2Range.endExclusive+l<i.endExclusive&&r.isStronglyEqual(e.seq2Range.start+l,e.seq2Range.endExclusive+l)&&l<100;)l++;if(a===0&&l===0)return e;let c=0,u=-1;for(let f=-a;f<=l;f++){let m=e.seq2Range.start+f,h=e.seq2Range.endExclusive+f,p=e.seq1Range.start+f,g=t.getBoundaryScore(p)+r.getBoundaryScore(m)+r.getBoundaryScore(h);g>u&&(u=g,c=f)}return e.delta(c)}s(DMe,"shiftDiffToBetterPosition");function PMe(e,t,r){let n=[];for(let i of r){let o=n[n.length-1];if(!o){n.push(i);continue}i.seq1Range.start-o.seq1Range.endExclusive<=2||i.seq2Range.start-o.seq2Range.endExclusive<=2?n[n.length-1]=new $o(o.seq1Range.join(i.seq1Range),o.seq2Range.join(i.seq2Range)):n.push(i)}return n}s(PMe,"removeShortMatches");function w0e(e,t,r,n,i=!1){let o=$o.invert(r,e.length),a=[],l=new Kg(0,0);function c(f,m){if(f.offset1<l.offset1||f.offset2<l.offset2)return;let h=n(e,f.offset1),p=n(t,f.offset2);if(!h||!p)return;let g=new $o(h,p),y=g.intersect(m),x=y.seq1Range.length,b=y.seq2Range.length;for(;o.length>0;){let E=o[0];if(!(E.seq1Range.intersects(g.seq1Range)||E.seq2Range.intersects(g.seq2Range)))break;let k=n(e,E.seq1Range.start),B=n(t,E.seq2Range.start),N=new $o(k,B),M=N.intersect(E);if(x+=M.seq1Range.length,b+=M.seq2Range.length,g=g.join(N),g.seq1Range.endExclusive>=E.seq1Range.endExclusive)o.shift();else break}(i&&x+b<g.seq1Range.length+g.seq2Range.length||x+b<(g.seq1Range.length+g.seq2Range.length)*2/3)&&a.push(g),l=g.getEndExclusives()}for(s(c,"scanWord");o.length>0;){let f=o.shift();f.seq1Range.isEmpty||(c(f.getStarts(),f),c(f.getEndExclusives().delta(-1),f))}return w_t(r,a)}s(w0e,"extendDiffsToEntireWordIfAppropriate");function w_t(e,t){let r=[];for(;e.length>0||t.length>0;){let n=e[0],i=t[0],o;n&&(!i||n.seq1Range.start<i.seq1Range.start)?o=e.shift():o=t.shift(),r.length>0&&r[r.length-1].seq1Range.endExclusive>=o.seq1Range.start?r[r.length-1]=r[r.length-1].join(o):r.push(o)}return r}s(w_t,"mergeSequenceDiffs");function NMe(e,t,r){let n=r;if(n.length===0)return n;let i=0,o;do{o=!1;let l=[n[0]];for(let c=1;c<n.length;c++){let m=function(p,g){let y=new Vt(f.seq1Range.endExclusive,u.seq1Range.start);return e.getText(y).replace(/\s/g,"").length<=4&&(p.seq1Range.length+p.seq2Range.length>5||g.seq1Range.length+g.seq2Range.length>5)};var a=m;s(m,"shouldJoinDiffs");let u=n[c],f=l[l.length-1];m(f,u)?(o=!0,l[l.length-1]=l[l.length-1].join(u)):l.push(u)}n=l}while(i++<10&&o);return n}s(NMe,"removeVeryShortMatchingLinesBetweenDiffs");function LMe(e,t,r){let n=r;if(n.length===0)return n;let i=0,o;do{o=!1;let c=[n[0]];for(let u=1;u<n.length;u++){let h=function(g,y){let x=new Vt(m.seq1Range.endExclusive,f.seq1Range.start);if(e.countLinesIn(x)>5||x.length>500)return!1;let E=e.getText(x).trim();if(E.length>20||E.split(/\r\n|\r|\n/).length>1)return!1;let _=e.countLinesIn(g.seq1Range),k=g.seq1Range.length,B=t.countLinesIn(g.seq2Range),N=g.seq2Range.length,M=e.countLinesIn(y.seq1Range),te=y.seq1Range.length,de=t.countLinesIn(y.seq2Range),Z=y.seq2Range.length,G=2*40+50;function q(ie){return Math.min(ie,G)}return s(q,"cap"),Math.pow(Math.pow(q(_*40+k),1.5)+Math.pow(q(B*40+N),1.5),1.5)+Math.pow(Math.pow(q(M*40+te),1.5)+Math.pow(q(de*40+Z),1.5),1.5)>(G**1.5)**1.5*1.3};var l=h;s(h,"shouldJoinDiffs");let f=n[u],m=c[c.length-1];h(m,f)?(o=!0,c[c.length-1]=c[c.length-1].join(f)):c.push(f)}n=c}while(i++<10&&o);let a=[];return w6e(n,(c,u,f)=>{let m=u;function h(E){return E.length>0&&E.trim().length<=3&&u.seq1Range.length+u.seq2Range.length>100}s(h,"shouldMarkAsChanged");let p=e.extendToFullLines(u.seq1Range),g=e.getText(new Vt(p.start,u.seq1Range.start));h(g)&&(m=m.deltaStart(-g.length));let y=e.getText(new Vt(u.seq1Range.endExclusive,p.endExclusive));h(y)&&(m=m.deltaEnd(y.length));let x=$o.fromOffsetPairs(c?c.getEndExclusives():Kg.zero,f?f.getStarts():Kg.max),b=m.intersect(x);a.length>0&&b.getStarts().equals(a[a.length-1].getEndExclusives())?a[a.length-1]=a[a.length-1].join(b):a.push(b)}),a}s(LMe,"removeVeryShortMatchingTextBetweenLongDiffs");d();var $k=class{constructor(t,r){this.trimmedHash=t;this.lines=r}static{s(this,"LineSequence")}getElement(t){return this.trimmedHash[t]}get length(){return this.trimmedHash.length}getBoundaryScore(t){let r=t===0?0:FMe(this.lines[t-1]),n=t===this.lines.length?0:FMe(this.lines[t]);return 1e3-(r+n)}getText(t){return this.lines.slice(t.start,t.endExclusive).join(`
`)}isStronglyEqual(t,r){return this.lines[t]===this.lines[r]}};function FMe(e){let t=0;for(;t<e.length&&(e.charCodeAt(t)===32||e.charCodeAt(t)===9);)t++;return t}s(FMe,"getIndentation");var PH=class{constructor(){this.dynamicProgrammingDiffing=new BH;this.myersDiffingAlgorithm=new $9}static{s(this,"DefaultLinesDiffComputer")}computeDiff(t,r,n){if(t.length<=1&&Lv(t,r,(B,N)=>B===N))return new G9([],[],!1);if(t.length===1&&t[0].length===0||r.length===1&&r[0].length===0)return new G9([new n3(new Cr(1,t.length+1),new Cr(1,r.length+1),[new Ru(new yr(1,1,t.length,t[t.length-1].length+1),new yr(1,1,r.length,r[r.length-1].length+1))])],[],!1);let i=n.maxComputationTimeMs===0?i3.instance:new kH(n.maxComputationTimeMs),o=!n.ignoreTrimWhitespace,a=new Map;function l(B){let N=a.get(B);return N===void 0&&(N=a.size,a.set(B,N)),N}s(l,"getOrCreateHash");let c=t.map(B=>l(B.trim())),u=r.map(B=>l(B.trim())),f=new $k(c,t),m=new $k(u,r),h=f.length+m.length<1700?this.dynamicProgrammingDiffing.compute(f,m,i,(B,N)=>t[B]===r[N]?r[N].length===0?.1:1+Math.log(1+r[N].length):.99):this.myersDiffingAlgorithm.compute(f,m,i),p=h.diffs,g=h.hitTimeout;p=T0e(f,m,p),p=NMe(f,m,p);let y=[],x=s(B=>{if(o)for(let N=0;N<B;N++){let M=b+N,te=E+N;if(t[M]!==r[te]){let de=this.refineDiff(t,r,new $o(new Vt(M,M+1),new Vt(te,te+1)),i,o,n);for(let Z of de.mappings)y.push(Z);de.hitTimeout&&(g=!0)}}},"scanForWhitespaceChanges"),b=0,E=0;for(let B of p){b0(()=>B.seq1Range.start-b===B.seq2Range.start-E);let N=B.seq1Range.start-b;x(N),b=B.seq1Range.endExclusive,E=B.seq2Range.endExclusive;let M=this.refineDiff(t,r,B,i,o,n);M.hitTimeout&&(g=!0);for(let te of M.mappings)y.push(te)}x(t.length-b);let _=b0e(y,new Vb(t),new Vb(r)),k=[];return n.computeMoves&&(k=this.computeMoves(_,t,r,c,u,i,o,n)),b0(()=>{function B(M,te){if(M.lineNumber<1||M.lineNumber>te.length)return!1;let de=te[M.lineNumber-1];return!(M.column<1||M.column>de.length+1)}s(B,"validatePosition");function N(M,te){return!(M.startLineNumber<1||M.startLineNumber>te.length+1||M.endLineNumberExclusive<1||M.endLineNumberExclusive>te.length+1)}s(N,"validateRange");for(let M of _){if(!M.innerChanges)return!1;for(let te of M.innerChanges)if(!(B(te.modifiedRange.getStartPosition(),r)&&B(te.modifiedRange.getEndPosition(),r)&&B(te.originalRange.getStartPosition(),t)&&B(te.originalRange.getEndPosition(),t)))return!1;if(!N(M.modified,r)||!N(M.original,t))return!1}return!0}),new G9(_,k,g)}computeMoves(t,r,n,i,o,a,l,c){return kMe(t,r,n,i,o,a).map(m=>{let h=this.refineDiff(r,n,new $o(m.original.toOffsetRange(),m.modified.toOffsetRange()),a,l,c),p=b0e(h.mappings,new Vb(r),new Vb(n),!0);return new H9(m,p)})}refineDiff(t,r,n,i,o,a){let c=__t(n).toRangeMapping2(t,r),u=new o3(t,c.originalRange,o),f=new o3(r,c.modifiedRange,o),m=u.length+f.length<500?this.dynamicProgrammingDiffing.compute(u,f,i):this.myersDiffingAlgorithm.compute(u,f,i),h=!1,p=m.diffs;h&&$o.assertSorted(p),p=T0e(u,f,p),h&&$o.assertSorted(p),p=w0e(u,f,p,(y,x)=>y.findWordContaining(x)),h&&$o.assertSorted(p),a.extendToSubwords&&(p=w0e(u,f,p,(y,x)=>y.findSubWordContaining(x),!0),h&&$o.assertSorted(p)),p=PMe(u,f,p),h&&$o.assertSorted(p),p=LMe(u,f,p),h&&$o.assertSorted(p);let g=p.map(y=>new Ru(u.translateRange(y.seq1Range),f.translateRange(y.seq2Range)));return h&&Ru.assertSorted(g),{mappings:g,hitTimeout:m.hitTimeout}}};function __t(e){return new dm(new Cr(e.seq1Range.start+1,e.seq1Range.endExclusive+1),new Cr(e.seq2Range.start+1,e.seq2Range.endExclusive+1))}s(__t,"toLineRangeMapping");var NH=class{static{s(this,"DiffServiceImpl")}constructor(){}dispose(){}async computeDiff(t,r,n){let i=await S_t(t,r,n);return{identical:i.identical,quitEarly:i.quitEarly,changes:a(i.changes),moves:i.moves.map(l=>new H9(new dm(new Cr(l[0],l[1]),new Cr(l[2],l[3])),a(l[4])))};function a(l){return l.map(c=>new n3(new Cr(c[0],c[1]),new Cr(c[2],c[3]),c[4]?.map(u=>new Ru(new yr(u[0],u[1],u[2],u[3]),new yr(u[4],u[5],u[6],u[7])))))}}};async function S_t(e,t,r){let n=e.split(/\r\n|\r|\n/),i=t.split(/\r\n|\r|\n/),a=new PH().computeDiff(n,i,r),l=a.changes.length>0?!1:e===t;function c(u){return u.map(f=>[f.original.startLineNumber,f.original.endLineNumberExclusive,f.modified.startLineNumber,f.modified.endLineNumberExclusive,f.innerChanges?.map(m=>[m.originalRange.startLineNumber,m.originalRange.startColumn,m.originalRange.endLineNumber,m.originalRange.endColumn,m.modifiedRange.startLineNumber,m.modifiedRange.startColumn,m.modifiedRange.endLineNumber,m.modifiedRange.endColumn])])}return s(c,"getLineChanges"),{identical:l,quitEarly:a.hitTimeout,changes:c(a.changes),moves:a.moves.map(u=>[u.lineRangeMapping.original.startLineNumber,u.lineRangeMapping.original.endLineNumberExclusive,u.lineRangeMapping.modified.startLineNumber,u.lineRangeMapping.modified.endLineNumberExclusive,c(u.changes)])}}s(S_t,"computeDiff");d();var _0e=Ze(require("crypto"));var zk=_0e.randomUUID.bind(_0e);var jMe=Ze(Wh()),D0e=Ze(hk());d();var LH=Uf("ISnippyService");d();d();var Yk=new RegExp("[_\\p{L}\\p{Nd}]+|====+|----+|####+|////+|\\*\\*\\*\\*+|[\\p{P}\\p{S}]","gu"),FH=65;function R_t(e){let t=0,r;Yk.lastIndex=0;do if(r=Yk.exec(e),r&&(t+=1),t>=FH)break;while(r);return t}s(R_t,"lexemeLength");function k_t(e,t){let r=0,n;Yk.lastIndex=0;do if(n=Yk.exec(e),n&&(r+=1,r>=t))return Yk.lastIndex;while(n);return e.length}s(k_t,"offsetFirstLexemes");function MMe(e,t){let r=e.split("").reverse().join(""),n=k_t(r,t);return r.length-n}s(MMe,"offsetLastLexemes");function S0e(e){return R_t(e)>=FH}s(S0e,"hasMinLexemeLength");d();d();var QMe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.matched_source=="string"&&typeof r.occurrences=="string"&&typeof r.capped=="boolean"&&typeof r.cursor=="string"&&typeof r.github_url=="string"}t.is=e,s(e,"is")})(QMe||={});var R0e;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.kind=="string"&&typeof r.reason=="string"&&typeof r.code=="number"&&typeof r.msg=="string"}t.is=e,s(e,"is")})(R0e||={});var OMe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"snippets"in r&&Array.isArray(r.snippets)&&r.snippets.every(QMe.is)}t.is=e,s(e,"is")})(OMe||={});var k0e;(t=>{function e(r){if(R0e.is(r))return Oo.error(r);if(OMe.is(r))return Oo.ok(r)}t.to=e,s(e,"to")})(k0e||={});var UMe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.commit_id=="string"&&typeof r.license=="string"&&typeof r.nwo=="string"&&typeof r.path=="string"&&typeof r.url=="string"}t.is=e,s(e,"is")})(UMe||={});var qMe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.has_next_page=="boolean"&&typeof r.cursor=="string"}t.is=e,s(e,"is")})(qMe||={});var WMe;(t=>{function e(r){return typeof r=="object"&&r!==null&&typeof r.count=="object"&&Object.values(r.count).every(n=>typeof n=="string")}t.is=e,s(e,"is")})(WMe||={});var GMe;(t=>{function e(r){return typeof r=="object"&&r!==null&&"file_matches"in r&&Array.isArray(r.file_matches)&&r.file_matches.every(UMe.is)&&"page_info"in r&&qMe.is(r.page_info)&&"license_stats"in r&&WMe.is(r.license_stats)}t.is=e,s(e,"is")})(GMe||={});var B0e;(t=>{function e(r){if(R0e.is(r))return Oo.error(r);if(GMe.is(r))return Oo.ok(r)}t.to=e,s(e,"to")})(B0e||={});var MH=class e{static{s(this,"SnippyFetchService")}static{this.TWIRP_URL="twirp/github.snippy.v1.SnippyAPI"}constructor(t){this.ctx=t}async fetchMatch(t){let r={source:t};return this.fetch("Match",r,k0e.to)}async fetchFilesForMatch(t){let r={cursor:t};return this.fetch("FilesForMatch",r,B0e.to)}async fetch(t,r,n){let i=this.ctx.get(fn),o=await this.ctx.get(en).getToken(),a=r8(this.ctx,o,"origin-tracker",`${e.TWIRP_URL}/${t}`),l={Authorization:`Bearer ${o.token}`,...Hu(this.ctx),"X-GitHub-Api-Version":jm},c=i.makeAbortController(),u=await i.fetch(a,{method:"POST",headers:l,json:r,signal:c.signal});if(!u.ok)throw new Error(`Failed with status ${u.status} and body: ${await u.text()}`);let f=await u.json();return n(f)}};var HMe=new Gt("[CODE REFERENCING]"),Y9=class{constructor(t,r){this.instantiationService=r;this.ctx=t,this.fetcher=this.instantiationService.createInstance(MH,this.ctx)}static{s(this,"SnippyService")}async handlePostInsertion(t,r,n){let i=this.computeSourceToCheck(r,n);if(!i)return;let a=await this.ctx.get(Vr).getTextDocument({uri:t.toString()});if(!a){HMe.error(this.ctx,"Unable to raise IP code citation notification: could not determine document version.");return}let l=a.version,c;try{c=await this.fetcher.fetchMatch(i.source)}catch(p){throw p}if(!c)throw new Error(`Failed to parse match response: ${c}`);if(c.isError())throw new Error(`Failed to match: ${c.err}`);if(c.val.snippets.length===0)return;let{snippets:u}=c.val,f=u.map(async p=>{let g=await this.fetcher.fetchFilesForMatch(p.cursor);if(!g||g.isError())return;let{file_matches:y,license_stats:x}=g.val;return{match:p,files:y,licenseStats:x}}),h=(await Promise.all(f)).filter(p=>!!p);if(h.length===0){HMe.error(this.ctx,"Should never happen as per https://github.com/github/copilot-client/blob/34cae5c581d662525eb3305d58f0762e952f866d/extension/src/codeReferencing/handlePostInsertion.ts#L138");return}for(let p of h){let g=new Set(Object.keys(p.licenseStats?.count??{}));g.delete("NOASSERTION")&&g.add("unknown");let y=Array.from(g).sort(),x=`${p.match.matched_source.slice(0,100).replace(/[\r\n\t]+|^[ \t]+/gm," ").trim()}...`,b={inDocumentUri:t.toString(),offsetStart:i.startOffset,offsetEnd:i.endOffset,matchingText:x,location:{start:{line:i.startPosition.lineNumber,character:i.startPosition.column},end:{line:i.endPosition.lineNumber,character:i.endPosition.column}},version:l,details:y.map(E=>({license:E,url:`${p.match.github_url}`}))};await this.ctx.get(pf).handleIPCodeCitation(this.ctx,b)}}computeSourceToCheck(t,r){if(r.newText==="")return;let n=Es.single(r),o=n.getNewRanges().reduce((h,p)=>h.join(p)),a=t.apply(n),l=o.start,c=a.value.substring(o.start,o.endExclusive);if(!S0e(c)){let h=a.value.slice(0,o.start),p=MMe(h,FH);l=p,c=a.value.slice(p,o.start+r.newText.length)}if(!S0e(c))return;let u=a.getTransformer(),f=u.getPosition(l),m=u.getPosition(o.endExclusive);return{source:c,startOffset:l,endOffset:o.endExclusive,startPosition:f,endPosition:m}}};Y9=c0([js(1,Vg)],Y9);async function VMe(e){let t=new rH;return t.define(iH,new P0e(e)),t.define(IH,new NH),t.define(o2,new qf(N0e,[!0])),t.define(LH,new qf(Y9,[e])),t.define($h,await L0e.Create(e)),t.define(qk,new qf(F0e)),t.seal()}s(VMe,"createInstantiationService");var P0e=class{constructor(t){this.ctx=t;this.ctx=t}static{s(this,"TelemetrySender")}sendTelemetryEvent(t,r,n){let i=Object.fromEntries(Object.entries(r??{}).filter(([l,c])=>c!==void 0)),o=Object.fromEntries(Object.entries(n??{}).filter(([l,c])=>c!==void 0)),a=dn.createAndMarkAsIssued(i,o);jt(this.ctx,t,a)}},N0e=class{static{s(this,"ParserServiceImpl")}getTreeSitterAST(t){}},L0e=class e{constructor(t,r){this.ctx=t;this.modelConfiguration=r}static{s(this,"CLSChatMLFetcher")}static async Create(t){let r=await Co.getModelConfiguration(t,"nesStubs");return new e(t,r)}get tokenBudget(){return this.modelConfiguration.maxRequestTokens}get tokenizerName(){return this.modelConfiguration.tokenizer}async fetchOne(t,r,n,i,o){let a=t.map(u=>e.chatMessageToClsChatMessage(u)),l=zk(),c=await this.ctx.get(mu).fetchAndStreamChat(this.ctx,a,ng.createEmptyConfigForTesting(),"nextEditSuggestion",l,async(u,f)=>{if(r)return await r(u,0,{text:f.text})},n,i,o);if(c.type==="success"){let u=[];if(r)for await(let m of c.choices)if(m.finishReason!=="snippy")await r(m.completionText,0,{text:m.completionText}),u.push(m.completionText);else return{type:"filtered",reason:"snippy",category:"snippy",requestId:l,serverRequestId:m.requestId.headerRequestId};let f=u.join("");return{type:"success",value:f}}else return{type:e.clsResponseTypeToResponseType(c.type),reason:c.type}}static chatMessageToClsChatMessage(t){switch(t.role){case"system":return{role:"system",content:AMe(t.content)};case"user":if(typeof t.content!="string"&&t.content.some(r=>r.type!=="text"))throw new Error("CLS only supports text content in user messages");return{role:"user",content:t.content};default:throw new Error(`Unsupported chat role: ${t.role}`)}}static clsResponseTypeToResponseType(t){switch(t){case"success":return"success";case"successMultiple":return"success";case"offTopic":return"offTopic";case"canceled":return"canceled";case"filtered":return"filtered";case"length":return"length";case"failed":return"failed";case"agentAuthRequired":return"agent_unauthorized";default:return"unknown"}}},F0e=class e{constructor(){this.tokenizers=new Map;this.cl100kTokenizer=new QH("cl100k_base")}static{s(this,"CLSTokenizerProvider")}acquireTokenizer(t){let r=this.tokenizers.get(t.tokenizer);return r||(r=new QH(e.typeToName(t.tokenizer)),this.tokenizers.set(t.tokenizer,r)),r}static typeToName(t){switch(t){case"cl100k_base":return"cl100k_base";case"o200k_base":return"o200k_base";case"llama3":throw new Error("Llama3 tokenizer is not supported");default:throw new Error(`Unknown tokenizer type: ${t}`)}}},QH=class{constructor(t){this.mode=jMe.OutputMode.Raw;this.tokenizer=lo(t)}static{s(this,"CLSTokenizer")}tokenLength(t){if(typeof t=="string")return this.tokenizer.tokenLength(t);if(t.type===D0e.ChatCompletionContentPartKind.Text)return this.tokenizer.tokenLength(t.text);throw new Error(`Unsupported content part type: ${t.type}`)}countMessageTokens(t){let r=0;if(typeof t.content=="string")return this.tokenLength(t.content);if(Array.isArray(t.content))for(let n of t.content)if(n.type===D0e.ChatCompletionContentPartKind.Text)r+=this.tokenLength(n.text);else throw new Error(`Unsupported message content part type: ${n.type}`);else throw new Error("Unsupported message content type");return r}countMessagesTokens(t){let r=0;for(let n of t)r+=this.countMessageTokens(n);return r}countToolTokens(t){throw new Error("Method not implemented.")}};d();d();var OH=class extends ys{constructor(r){super();this.workspace=r;this._garbageCollector=new O0e(20);this._documentCaches=new Map;Ef(this,r.openDocuments,(n,i)=>{let o=new M0e(n.id,n.value.get(),this._garbageCollector);this._documentCaches.set(o.docId,o),i.add(dg(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)o.handleEdit(l)})),i.add(Sa(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{s(this,"RejectionCollector")}reject(r,n){let i=this._documentCaches.get(r);i&&i.reject(n)}isRejected(r,n){let i=this._documentCaches.get(r);return i?i.isRejected(n):!1}},M0e=class{constructor(t,r,n){this.docId=t;this._garbageCollector=n;this._rejectedEdits=new Set}static{s(this,"DocumentRejectionTracker")}handleEdit(t){for(let r of[...this._rejectedEdits])r.handleEdit(t)}reject(t){if(this.isRejected(t))return;let r=new Q0e(t.toEdit(),()=>{this._rejectedEdits.delete(r)});this._rejectedEdits.add(r),this._garbageCollector.put(r)}isRejected(t){for(let r of this._rejectedEdits)if(r.isRejected(t))return!0;return!1}},Q0e=class{constructor(t,r){this._edit=t;this._onDispose=r}static{s(this,"RejectedEdit")}handleEdit(t){let r=this._edit.tryRebase(t);r?this._edit=r:this.dispose()}isRejected(t){return this._edit.equals(t.toEdit())}dispose(){this._onDispose()}},O0e=class{constructor(t){this._maxSize=t;this._disposables=[]}static{s(this,"LRUGarbageCollector")}put(t){this._disposables.push(t),this._disposables.length>this._maxSize&&this._disposables.shift().dispose()}dispose(){for(let t of this._disposables)t.dispose();this._disposables=[]}};d();d();d();var Kk=class{constructor(t,r){this.prev=null;this.next=null;this.key=t,this.value=r}static{s(this,"Node")}},UH=class{static{s(this,"LRUCache")}constructor(t=10){if(t<1)throw new Error("Cache size must be at least 1");this._capacity=t,this._cache=new Map,this._head=new Kk("",null),this._tail=new Kk("",null),this._head.next=this._tail,this._tail.prev=this._head}_addNode(t){t.prev=this._head,t.next=this._head.next,this._head.next.prev=t,this._head.next=t}_removeNode(t){let r=t.prev,n=t.next;r.next=n,n.prev=r}_moveToHead(t){this._removeNode(t),this._addNode(t)}_popTail(){let t=this._tail.prev;return this._removeNode(t),t}clear(){this._cache.clear(),this._head.next=this._tail,this._tail.prev=this._head}deleteKey(t){let r=this._cache.get(t);if(r)return this._removeNode(r),this._cache.delete(t),r.value}get(t){let r=this._cache.get(t);if(r)return this._moveToHead(r),r.value}keys(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.key),r=r.next;return t}getValues(){let t=[],r=this._head.next;for(;r!==this._tail;)t.push(r.value),r=r.next;return t}put(t,r){let n=this._cache.get(t);if(n)n.value=r,this._moveToHead(n);else if(n=new Kk(t,r),this._cache.set(t,n),this._addNode(n),this._cache.size>this._capacity){let i=this._popTail();return this._cache.delete(i.key),[i.key,i.value]}}};var qH=class extends ys{constructor(r){super();this.workspace=r;this._documentCaches=new Map;this._sharedCache=new UH(50);Ef(this,r.openDocuments,(n,i)=>{let o=new U0e(n.id,n.value.get(),this._sharedCache);this._documentCaches.set(o.docId,o),i.add(dg(this,{value:n.value,selection:n.selection,languageId:n.languageId},a=>{for(let l of a.value.changes)o.handleEdit(l)})),i.add(Sa(()=>{this._documentCaches.delete(n.id)}))}).recomputeInitiallyAndOnChange(this._store)}static{s(this,"NextEditCache")}setNextEdits(r,n,i){let o=this._documentCaches.get(r);o&&o.setNextEdits(n,i)}lookupNextEdit(r){let n=this._documentCaches.get(r);if(n)return n.lookupNextEdit()}},U0e=class{constructor(t,r,n){this.docId=t;this._sharedCache=n;this._value=r}static{s(this,"DocumentEditCache")}handleEdit(t){this._value=this._value.apply(t)}setNextEdits(t,r){let n=this._value;for(let i=0;i<t.edits.length;i++){let o=t.edits[i],a=this._getKey(n.value);this._sharedCache.put(a,{edit:o,subsequentN:i,source:r,documentBeforeEdit:n}),n=n.apply(o.toEdit())}}lookupNextEdit(){let t=this._getKey(this._value.value),r=this._sharedCache.get(t);if(r)return r}_getKey(t){return JSON.stringify([this.docId.uri,t])}};d();var WH=class e{constructor(t){this._providerId=t;this._isFromCache=!1;this._wasPreviouslyRejected=!1;this._isShown=!1;this._acceptance="notAccepted";this._startTime=Date.now(),this._requestN=++e.requestN}static{s(this,"NextEditProviderTelemetryBuilder")}static{this.requestN=0}build(){let t,r,n,i,o,a;if(this._request){let c=this._request.getActiveDocument();t=this._request.documents.length,r=this._request.documents.reduce((u,f)=>u+f.recentEdits.edits.length,0),n=c.recentEdits.edits.length,i=c.languageId,o=c.lineCountBeforeClipping,a=c.clippingRange.length}let l=this._statelessNextEditTelemetry?.fetchStartedAt===void 0?void 0:this._statelessNextEditTelemetry.fetchStartedAt-this._startTime;return{opportunityId:this._opportunityId||"",headerRequestId:this._headerRequestId||"",requestN:this._requestN,providerId:this._providerId,nextEditProviderDuration:this._duration||0,isFromCache:this._isFromCache,subsequentEditOrder:this._subsequentEditOrder,documentShorteningStrategy:this._documentShorteningStrategy,documentsCount:t,editsCount:r,activeDocumentEditsCount:n,activeDocumentLanguageId:i,activeDocumentOriginalLineCount:o,activeDocumentShortenedLineCount:a,fetchStartedAfterMs:l,wasPreviouslyRejected:this._wasPreviouslyRejected,isShown:this._isShown,acceptance:this._acceptance,...this._statelessNextEditTelemetry}}setOpportunityId(t){return this._opportunityId=t,this}setHeaderRequestId(t){return this._headerRequestId=t,this}setIsFromCache(){return this._isFromCache=!0,this}setSubsequentEditOrder(t){return this._subsequentEditOrder=t,this}setDocumentShorteningStrategy(t){return this._documentShorteningStrategy=t,this}setRequest(t){return this._request=t,this}setStatelessNextEditTelemetry(t){return this._statelessNextEditTelemetry=t,this}setWasPreviouslyRejected(){return this._wasPreviouslyRejected=!0,this}markEndTime(){return this._duration=Date.now()-this._startTime,this}setAsShown(){return this._isShown=!0,this}setAcceptance(t){return this._acceptance=t,this}},K9=class{constructor(t){this.telemetrySender=t;this._map=new Map}static{s(this,"TelemetrySender")}markNextEditResultAsShown(t){let r=this._map.get(t);r&&r.builder.setAsShown()}scheduleSendingTelemetry(t,r){let n=setTimeout(()=>{this._doSendTelemetry(r),this._map.delete(t)},12e4);this._map.set(t,{builder:r,timeout:n})}sendTelemetryFor(t,r){let n=this._map.get(t);if(!n)return;this._map.delete(t),clearTimeout(n.timeout);let i=n.builder;i.setAcceptance(r),this._doSendTelemetry(i)}sendTelemetry(t){this._doSendTelemetry(t)}_doSendTelemetry(t){let r=t.build(),{opportunityId:n,headerRequestId:i,requestN:o,providerId:a,hadStatelessNextEditProviderCall:l,statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:f,subsequentEditOrder:m,documentShorteningStrategy:h,activeDocumentLanguageId:p,activeDocumentOriginalLineCount:g,activeDocumentShortenedLineCount:y,wasPreviouslyRejected:x,isShown:b,acceptance:E,logProbThreshold:_,documentsCount:k,editsCount:B,activeDocumentEditsCount:N,promptLineCount:M,promptCharCount:te,isDefaultEndpoint:de,hadLowLogProbSuggestion:Z,nonTerminatingError:G,nEditsSuggested:q,kthEditPicked:ie,lineDistanceToMostRecentEdit:z,debounceTime:j,hasNextEdit:U,nextEditLogprob:V,maxLinesPerEdit:K,noNextEditReasonKind:ae,noNextEditReasonMessage:re,firstEditStrategy:le,firstPickStrategyOverride:ce,fetchTime:De,fetchResult:be,fetchError:qe,fetchStartedAfterMs:Re}=r;this._sendTelemetryToBoth({opportunityId:n,headerRequestId:i,providerId:a,documentShorteningStrategy:h,activeDocumentLanguageId:p,acceptance:E,nonTerminatingError:G,noNextEditReasonKind:ae,noNextEditReasonMessage:re,firstEditStrategy:le,firstPickStrategyOverride:ce,fetchResult:be,fetchError:qe},{requestN:o,hadStatelessNextEditProviderCall:this._boolToNum(l),statelessNextEditProviderDuration:c,nextEditProviderDuration:u,isFromCache:this._boolToNum(f),subsequentEditOrder:m,isDefaultEndpoint:this._boolToNum(de),activeDocumentOriginalLineCount:g,activeDocumentShortenedLineCount:y,wasPreviouslyRejected:this._boolToNum(x),isShown:this._boolToNum(b),logProbThreshold:_,documentsCount:k,editsCount:B,activeDocumentEditsCount:N,promptLineCount:M,promptCharCount:te,hadLowLogProbSuggestion:this._boolToNum(Z),nEditsSuggested:q,kthEditPicked:ie,lineDistanceToMostRecentEdit:z,debounceTime:j,fetchStartedAfterMs:Re,fetchTime:De,hasNextEdit:this._boolToNum(U),nextEditLogprob:V,maxLinesPerEdit:K})}_sendTelemetryToBoth(t,r){this.telemetrySender.sendTelemetryEvent("copilot-nes/provideInlineEdit",t,r)}_boolToNum(t){return t===void 0?void 0:t?1:0}};K9=c0([js(0,iH)],K9);d();var J9=class{constructor(t){this.result=t}static{s(this,"NextEditResult")}};var $b=!1,$Me=300,X9=class extends ys{constructor(r,n,i,o,a,l,c){super();this._workspace=r;this._statelessNextEditProvider=n;this._historyContextProvider=i;this._xtabHistoryTracker=o;this._parseService=a;this._instantiationService=l;this._snippyService=c;this._rejectionCollector=new OH(this._workspace);this._nextEditCache=new qH(this._workspace);this._recentlyShownCache=new G0e;this._pendingStatelessNextEditRequest=null;this._lastShownTime=0;this._lastRejectionTime=0;this._lastTriggerTime=0;Ef(this,this._workspace.openDocuments,(u,f)=>{f.add(_ne(u.value,m=>{this._cancelPendingRequestDueToDocChange(u.id,m)}))}).recomputeInitiallyAndOnChange(this._store),this._telemetrySender=this._instantiationService.createInstance(K9)}static{s(this,"NextEditProvider")}get lastRejectionTime(){return this._lastRejectionTime}get lastTriggerTime(){return this._lastTriggerTime}_cancelPendingRequestDueToDocChange(r,n){if(this._pendingStatelessNextEditRequest===null)return;let i=this._pendingStatelessNextEditRequest.getActiveDocument();i.id===r&&i.documentAfterEditsNoShortening.value!==n.value&&this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel()}async getNextEdit(r,n,i){this._lastTriggerTime=Date.now();let o=await this._workspace.getDocument(r);if(!o)return{result:void 0};let a=o.value.get(),l=new WH(this._statelessNextEditProvider.ID);l.setOpportunityId(n.requestUuid??zk());let c=this._recentlyShownCache.get(r,a),u=this._nextEditCache.lookupNextEdit(r),f,m,h,p;if(c)f=c[0],p=c[1],m=a,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),await r2($Me);else if(u)f=u.edit,p=u.source,m=u.documentBeforeEdit,l.setHeaderRequestId(p.headerRequestId),l.setIsFromCache(),l.setSubsequentEditOrder(u.subsequentN),await r2($Me);else{p=new W0e,l.setHeaderRequestId(p.headerRequestId);let x=o.value.get();m=x;let b=await this.fetchNextEdit(p,r,l,i),E=x.value!==o.value.get().value;if(b.isError())switch(b.err.kind){case"activeDocumentHasNoEdits":case"noSuggestions":case"gotCancelled":case"filteredOut":case"uncategorized":break;case"fetchFailure":case"unexpected":h=b.err.error;break;default:NS(b.err)}else if(!E){let _=b.val;_.isEmpty()||(f=_.edits[0],(!this._statelessNextEditProvider.dependsOnSelection||_.edits.length>1)&&this._nextEditCache.setNextEdits(r,_,p))}}if(l.markEndTime(),h)throw this._telemetrySender.sendTelemetry(l),h;if(!f)return this._telemetrySender.sendTelemetry(l),new J9(void 0);if(this._rejectionCollector.isRejected(r,f))return l.setWasPreviouslyRejected(),this._telemetrySender.sendTelemetry(l),new J9(void 0);Pl(m!==void 0,"should be defined if edit is defined");let g=this._statelessNextEditProvider.showNextEditPreference??"aroundEdit",y=new J9({edit:f,showRangePreference:g,documentBeforeEdits:m});return this._telemetrySender.scheduleSendingTelemetry(y,l),f.isNeutral()||this._recentlyShownCache.add(r,a,[f,p]),y}async _shortenDocument(r,n){let i=r.lastEdit.getEditedState(),{document:o,clippedRange:a}=n==="noShortening"?this.getProjectedDocumentNoShortening(r.lastEdit):n==="clipping"?this.getProjectedDocumentClipping(r.lastEdit):await this.getProjectedDocumentSummarizedDocument(r.languageId,r.lastEdit),l=Es.fromOffsetEdit(o.edits).inverseOnString(o.originalText),{edits:c,editLast:u}=q0e(r.lastEdits.swap(l)),f=c.compose(),m=new Wb(new zh(r.lastEdits.apply(o.originalText)),u.toOffsetEdit().inverse(c.apply(o.text))),h=new Hl(o.text),g=qg.fromEdit(new $c(h,f)).removeCommonSuffixPrefixLines(),y=c.edits.at(-1)?.getNewRanges().at(0),x;y&&(x=new Hl(m.text).getTransformer().getRange(y));let b=r.lastSelection?m.projectOffsetRange(r.lastSelection):void 0,E=this._workspace.getWorkspaceRoot(r.docId),_=s(M=>{let de=new qg(new Hl(m.text),M).toEdit();return zMe(de,m)},"toEditOnDocumentAfterEditsNoShortening"),k=s(M=>m.projectBack(M),"toOffsetOnDocumentAfterEditsNoShortening"),B=s(M=>m.project(M),"toProjectedOffset"),N=new Pk(r.docId,E,r.languageId,g.base.getLines(),g.edit,x,h,c,i,_,k,B,r.lastEdit.base.getTextLength().lineCount,a,b);return{recentEdit:r.lastEdit,nextEditDoc:N,projectedDocument:m}}async fetchNextEdit(r,n,i,o){let a=await this._historyContextProvider.getHistoryContext(n);if(!a)return Oo.error({kind:"unexpected",error:new Error("DocumentMissingInHistoryContext")});let l=q0e(a.getDocumentAndIdx(n)),c=this.getDocumentShorteningStrategy();i.setDocumentShorteningStrategy(c);let u=await Promise.all(a.documents.map(M=>this._shortenDocument(M,c))),f=u[l.idx],m=this._xtabHistoryTracker.getHistory(),h=new JG(r.headerRequestId,u.map(M=>M.nextEditDoc),l.idx,m,this.nextEditOptions),p=this._findExistingPendingRequest(h),g,y;if(p){g=p,$b&&console.log(`=> reusing an existing request ${g.seqid}`),i.setHeaderRequestId(p.id),i.setIsFromCache(),i.setRequest(g);let M=this._hookupCancellation(g,o);try{y=await g.result}finally{M.dispose()}}else{g=h,this._pendingStatelessNextEditRequest&&(this._pendingStatelessNextEditRequest.cancellationTokenSource.cancel(),this._pendingStatelessNextEditRequest=null),this._pendingStatelessNextEditRequest=g;let M=s(()=>{this._pendingStatelessNextEditRequest===g&&(this._pendingStatelessNextEditRequest=null)},"removeFromPending");i.setRequest(g);let te=this._hookupCancellation(g,o);try{y=await this._statelessNextEditProvider.provideNextEdit(g,g.cancellationTokenSource.token),g.setResult(y)}catch(de){throw g.setResultError(de),de}finally{te.dispose(),M()}}i.setStatelessNextEditTelemetry(y.telemetry);let x=y.nextEdit;if(x.isError())return x;let b=x.val.edit;if(b.edits.length===0)return Oo.error({kind:"noSuggestions"});let _=new qg(new Hl(f.projectedDocument.text),b).toEdit(),k=zMe(_,f.projectedDocument),B=_.edits.length===k.edits.length?x.val.permutation:void 0,N=k.decompose(B);return Oo.ok(N)}_hookupCancellation(r,n){let i=new v0,o=!1,a=s(()=>{o||(o=!0,r.liveDependentants--)},"removeDependant"),l=i.add(new GG);return i.add(n.onCancellationRequested(()=>{if(a(),r.liveDependentants>0){$b&&console.log(`=> ignoring UI cancellation signal for ${r.seqid} because others depend on this request`);return}if(!r.fetchIssued){$b&&console.log(`=> canceling ${r.seqid} due to UI cancellation signal`),r.cancellationTokenSource.cancel();return}l.setIfNotSet(()=>{if(r.liveDependentants>0){$b&&console.log(`=> ignoring timer cancellation signal for ${r.seqid} because others depend on this request`);return}$b&&console.log(`=> canceling ${r.seqid} due to timer after UI cancellation signal`),r.cancellationTokenSource.cancel()},500)})),i.add(Sa(()=>{a()})),r.liveDependentants++,i}_findExistingPendingRequest(r){if(this._statelessNextEditProvider.canReuseResult&&this._pendingStatelessNextEditRequest&&!this._pendingStatelessNextEditRequest.cancellationTokenSource.token.isCancellationRequested&&this._statelessNextEditProvider.canReuseResult(this._pendingStatelessNextEditRequest,r))return this._pendingStatelessNextEditRequest}handleShown(r){this._lastShownTime=Date.now(),this._telemetrySender.markNextEditResultAsShown(r)}handleAcceptance(r,n){this._telemetrySender.sendTelemetryFor(n,"accepted"),this.runSnippy(r,n),this._statelessNextEditProvider.handleAcceptance?.()}handleRejection(r,n){sH(n.result,"@ulugbekna: undefined edit cannot be rejected?"),Date.now()-this._lastShownTime>1e3&&n.result&&(this._recentlyShownCache.remove(n.result.edit),this._rejectionCollector.reject(r,n.result.edit)),this._lastRejectionTime=Date.now(),this._telemetrySender.sendTelemetryFor(n,"rejected")}getProjectedDocumentNoShortening(r){return{document:new Wb(new zh(r.base.value),new cm([])),clippedRange:new Cr(1,r.base.getTextLength().lineCount+1)}}getProjectedDocumentClipping(r){let n=r.base.getTransformer(),i=n.getRange(r.edit.getRange()??new Vt(0,0)),o=Cr.fromRange(i);function a(m,h){return new Cr(m.startLineNumber-h,m.endLineNumberExclusive+h)}s(a,"extendRange");let l=new Cr(1,n.textLength.lineCount+1),c=q0e(l.intersect(a(o,100))),u=Cr.subtract(l,c);return{document:new Wb(new zh(r.base.value),new cm(u.map(m=>tl.delete(n.getOffsetRange(new yr(m.startLineNumber,1,m.endLineNumberExclusive,1)))))),clippedRange:c}}getDocumentShorteningStrategy(){return this._statelessNextEditProvider.documentShorteningStrategy??"clipping"}get nextEditOptions(){return new Dk("firstByLineNumber",8)}async getProjectedDocumentSummarizedDocument(r,n){let i=await N_t(this._parseService,{getText:s(()=>n.base.value,"getText"),languageId:r});if(!i)return this.getProjectedDocumentClipping(n);let o=new zh(n.base.value),a=n.edit.edits.at(0)?.range??new Vt(0,0),l;if(n.edit.edits.length!==0){let p=n.edit.edits.at(0),g=n.edit.edits.at(-1);l=o.offsetRangeToRange(new Vt(p.range.start,g.range.endExclusive))}let c=YMe(o.offsetRangeToRange(a)),u=mH(200*50,{costFnOverride:s((p,g,y)=>{let x=YMe(y.offsetRangeToRange(p.range)),b=P_t(c,x);return b>100?!1:b},"costFnOverride")},[{overlayNodeRoot:i,document:o,selection:l}])[0],f=u.projectBack(1)-1,m=n.base.getTransformer().getPosition(f).lineNumber,h=new Cr(m,m+u.lineCount);return{document:u,clippedRange:h}}async runSnippy(r,n){n.result!==void 0&&this._snippyService.handlePostInsertion(r.toUri(),n.result.documentBeforeEdits,n.result.edit)}};X9=c0([js(4,o2),js(5,Vg),js(6,LH)],X9);function zMe(e,t){let r=t.projectBackOffsetEdit(e.toOffsetEdit());return Es.fromOffsetEdit(r)}s(zMe,"projectBackEdit");function YMe(e){return new Cr(e.start.line+1,e.end.line+1)}s(YMe,"lineRangeFromVSCodeRange");function P_t(e,t){return e.endLineNumberExclusive<=t.startLineNumber?t.startLineNumber-e.endLineNumberExclusive:t.endLineNumberExclusive<=e.startLineNumber?e.startLineNumber-t.endLineNumberExclusive:0}s(P_t,"lineRangeDist");async function N_t(e,t){return await e.getTreeSitterAST(t)?.getStructure()}s(N_t,"getStructure");function q0e(e){if(!e)throw new vn("expected value to be defined, but it was not");return e}s(q0e,"assertDefined");var W0e=class{constructor(){this.headerRequestId=zk()}static{s(this,"NextEditFetchRequest")}},G0e=class{constructor(){this._cache=new OO(10)}static{s(this,"RecentlyShownCache")}add(t,r,n){let i=this._key(t,r);this._cache.set(i,n)}get(t,r){let n=this._key(t,r);return this._cache.get(n)}remove(t){for(let r of this._cache)if(r[1][0]===t){this._cache.delete(r[0]);break}}_key(t,r){return t.uri+";"+r.value}};d();d();d();d();var zb=0;function GH(e){return e===0}s(GH,"lengthIsZero");var Gf=2**26;function Z9(e,t){return e*Gf+t}s(Z9,"toLength");function l2(e){let t=e,r=Math.floor(t/Gf),n=t-r*Gf;return new Gl(r,n)}s(l2,"lengthToObj");function Jk(e,t){let r=e+t;return t>=Gf&&(r=r-e%Gf),r}s(Jk,"lengthAdd");function KMe(e,t){return e.reduce((r,n)=>Jk(r,t(n)),zb)}s(KMe,"sumLengths");function H0e(e,t){return e===t}s(H0e,"lengthEquals");function Xk(e,t){let r=e,n=t;if(n-r<=0)return zb;let o=Math.floor(r/Gf),a=Math.floor(n/Gf),l=n-a*Gf;if(o===a){let c=r-o*Gf;return Z9(0,l-c)}else return Z9(a-o,l)}s(Xk,"lengthDiffNonNegative");function JMe(e,t){let r=e,n=Math.floor(r/Gf),i=r-n*Gf,o=t,a=Math.floor(o/Gf),l=o-a*Gf;return new yr(n+1,i+1,a+1,l+1)}s(JMe,"lengthsToRange");d();var eT=class{constructor(t,r,n){this.startOffset=t;this.endOffset=r;this.newLength=n}static{s(this,"TextEditInfo")}toString(){return`[${l2(this.startOffset)}...${l2(this.endOffset)}) -> ${l2(this.newLength)}`}};function ZMe(e,t){if(e.length===0)return t;if(t.length===0)return e;let r=new MO(XMe(e)),n=XMe(t);n.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let i=r.dequeue();function o(u){if(u===void 0){let m=r.takeWhile(h=>!0)||[];return i&&m.unshift(i),m}let f=[];for(;i&&!GH(u);){let[m,h]=i.splitAt(u);f.push(m),u=Xk(m.lengthAfter,u),i=h??r.dequeue()}return GH(u)||f.push(new Zk(!1,u,u)),f}s(o,"nextS0ToS1MapWithS1LengthOf");let a=[];function l(u,f,m){if(a.length>0&&H0e(a[a.length-1].endOffset,u)){let h=a[a.length-1];a[a.length-1]=new eT(h.startOffset,f,Jk(h.newLength,m))}else a.push({startOffset:u,endOffset:f,newLength:m})}s(l,"pushEdit");let c=zb;for(let u of n){let f=o(u.lengthBefore);if(u.modified){let m=KMe(f,p=>p.lengthBefore),h=Jk(c,m);l(c,h,u.lengthAfter),c=h}else for(let m of f){let h=c;c=Jk(c,m.lengthBefore),m.modified&&l(h,c,m.lengthAfter)}}return a}s(ZMe,"combineTextEditInfos");var Zk=class e{constructor(t,r,n){this.modified=t;this.lengthBefore=r;this.lengthAfter=n}static{s(this,"LengthMapping")}splitAt(t){let r=Xk(t,this.lengthAfter);return H0e(r,zb)?[this,void 0]:this.modified?[new e(this.modified,this.lengthBefore,t),new e(this.modified,zb,r)]:[new e(this.modified,t,t),new e(this.modified,r,r)]}toString(){return`${this.modified?"M":"U"}:${l2(this.lengthBefore)} -> ${l2(this.lengthAfter)}`}};function XMe(e){let t=[],r=zb;for(let n of e){let i=Xk(r,n.startOffset);GH(i)||t.push(new Zk(!1,i,i));let o=Xk(n.startOffset,n.endOffset);t.push(new Zk(!0,o,n.newLength)),r=n.endOffset}return t}s(XMe,"toLengthMapping");var eB=class e{constructor(t){this.edits=t}static{s(this,"TextLengthEdit")}static{this.empty=new e([])}static fromTextEdit(t){let r=t.edits.map(n=>new HH(n.range,Gl.ofText(n.newText)));return new e(r)}static _fromTextEditInfo(t){let r=t.map(n=>{let i=l2(n.newLength);return new HH(JMe(n.startOffset,n.endOffset),new Gl(i.lineCount,i.columnCount))});return new e(r)}_toTextEditInfo(){return this.edits.map(t=>new eT(Z9(t.range.startLineNumber-1,t.range.startColumn-1),Z9(t.range.endLineNumber-1,t.range.endColumn-1),Z9(t.newLength.lineCount,t.newLength.columnCount)))}compose(t){let r=this._toTextEditInfo(),n=t._toTextEditInfo(),i=ZMe(r,n);return e._fromTextEditInfo(i)}getRange(){if(this.edits.length!==0)return yr.fromPositions(this.edits[0].range.getStartPosition(),this.edits.at(-1).range.getEndPosition())}toString(){return`[${this.edits.join(", ")}]`}},HH=class{constructor(t,r){this.range=t;this.newLength=r}static{s(this,"SingleTextEditLength")}toString(){return`{ range: ${this.range}, newLength: ${this.newLength} }`}};d();var jH=class{constructor(t){this.documents=t;Pl(t.length>0)}static{s(this,"HistoryContext")}getMostRecentDocument(){return this.documents.at(-1)}getDocument(t){return this.documents.find(r=>r.docId===t)}getDocumentAndIdx(t){let r=this.documents.findIndex(n=>n.docId.uri===t.uri);if(r!==-1)return{doc:this.documents[r],idx:r}}},VH=class{constructor(t,r,n,i,o){this.docId=t;this.languageId=r;this.base=n;this.lastEdits=i;this.lastSelection=o;this.lastEdit=new $c(this.base,this.lastEdits.compose())}static{s(this,"DocumentHistory")}};d();var $H=class extends ys{constructor(){super();this.branch=Eh("branchName",void 0);this._register(Tne((r,n)=>{this.init(n)}))}static{s(this,"ObservableGitStub")}async init(r){}};var YH=class extends ys{constructor(r,n=!1){super();this._documentState=new Map;this._lastDocuments=new V0e(50);this.workspace=r,this._lastGitCheckout=void 0,this._started=!1,n||this.start()}static{s(this,"NesHistoryContextProvider")}start(){if(this._started)return;this._started=!0;let r=new $H;this._register(Qv(n=>{n.readObservable(r.branch)!==void 0&&(this._lastGitCheckout=I9(),this._documentState.forEach(o=>o.applyAllEdits()))})),Ef(this,this.workspace.openDocuments,(n,i)=>{let o=n.selection.get().at(0),a=new j0e(n.id,n.value.get().value,n.languageId.get(),o);this._documentState.set(a.docId,a),o&&this._lastDocuments.push(a),i.add(dg(this,{value:n.value,selection:n.selection,languageId:n.languageId},l=>{l.languageId.changes.length>0&&(a.languageId=l.languageId.value);let c=this._isAwaitingGitCheckoutCooldown();for(let u of l.value.changes)this._lastDocuments.push(a),a.handleEdit(u,c);l.selection.changes.length>0&&(a.handleSelection(l.selection.value.at(0)),this._lastDocuments.push(a))})),i.add(Sa(()=>{let l=this._documentState.get(n.id);l&&this._lastDocuments.remove(l),this._documentState.delete(n.id)}))},n=>n.id).recomputeInitiallyAndOnChange(this._store)}async getHistoryContext(r,n=5,i=100){let o=this._documentState.get(r);if(!o||!this._lastDocuments.has(o)||!await this.workspace.getDocument(r))return;let a=[],l=!1;for(let c of this._lastDocuments.getItemsReversed()){let u=c.getRecentEdit(n,i);if(u!==void 0){if(u.editCount===0&&l)break;if(await this.workspace.getDocument(c.docId)&&(c.docId===r&&(l=!0),a.push(u.history),n-=u.editCount,n<=0))break}}if(a.reverse(),!!a.some(c=>c.docId===r))return new jH(a)}_isAwaitingGitCheckoutCooldown(){if(!this._lastGitCheckout)return!1;let r=I9()-this._lastGitCheckout<2*1e3;return r||(this._lastGitCheckout=void 0),r}getRecentDocumentUris(){return this._lastDocuments.getItems().map(r=>r.docId.uri)}},j0e=class e{constructor(t,r,n,i){this.docId=t;this.languageId=n;this._edits=[];this._isUserDocument=!1;this._baseValue=new Hl(r),this._currentValue=this._baseValue,this.handleSelection(i)}static{s(this,"DocumentState")}static{this.MAX_EDITED_LINES_PER_EDIT=10}static{this.MAX_EDITED_CHARS_PER_EDIT=5e3}getSelection(){return this._selection}handleSelection(t){t&&(this._isUserDocument=!0),this._selection=t}handleEdit(t,r){if(t.isEmpty())return;this._currentValue=this._currentValue.apply(t);let n=T9.fromEdit(t,this._currentValue),i=eB.fromTextEdit(n);if(r){this._baseValue=this._currentValue,this._edits=[];return}function o(l){return zH(l.edits,c=>c.newText.length)}s(o,"editInsertSize");let a=this._edits.at(-1);a&&o(a.edit)<200&&L_t(t,a.edit)?(a.edit=a.edit.compose(t),a.textLengthEdit=a.textLengthEdit.compose(i),a.instant=I9(),a.edit.isEmpty()&&this._edits.pop()):this._edits.push({edit:t,textLengthEdit:i,instant:I9()})}getRecentEdit(t,r){if(!this._isUserDocument)return;let{editCount:n}=this._applyStaleEdits(t,r),i=new Ug(this._edits.map(o=>o.edit));return{history:new VH(this.docId,this.languageId,this._baseValue,i,this._selection),editCount:n}}applyAllEdits(){this._baseValue=this._currentValue,this._edits=[]}_applyStaleEdits(t,r){let n=this._currentValue,i=Es.empty,o=eB.empty,a,l=0,c=Es.empty;for(a=this._edits.length-1;a>=0;a--){let u=this._edits[a];if(I9()-u.instant>10*60*1e3)break;let f=u.textLengthEdit.compose(o),m=f.getRange();sH(m,"we only compose non-empty Edits");let h=m.endLineNumber-m.startLineNumber;if(r>0&&h>r)break;let p=zH(u.textLengthEdit.edits,B=>B.range.endLineNumber-B.range.startLineNumber+B.newLength.lineCount);if(p>e.MAX_EDITED_LINES_PER_EDIT||zH(u.edit.edits,B=>B.newText.length)>e.MAX_EDITED_CHARS_PER_EDIT||zH(u.edit.edits,B=>B.range.length)>e.MAX_EDITED_CHARS_PER_EDIT)break;if(a===this._edits.length-1)c=u.edit;else{let B=Es.trySwap(u.edit,c);if(B)c=B.e1;else{if(p>=2)break;c=u.edit.compose(c)}}let x=u.edit.inverseOnString(n.value);n=n.apply(x);let b=u.edit.compose(i),E=Fo.fromEdit(new $c(n,b)),k=new qg(n,E).removeCommonSuffixPrefixLines().edit.edits.length;if(k>t)break;l=k,i=b,o=f}for(let u=0;u<=a;u++){let f=this._edits[u];this._baseValue=this._baseValue.apply(f.edit)}return this._edits=this._edits.slice(a+1),{editCount:l}}toString(){return new Ug(this._edits.map(t=>t.edit)).toHumanReadablePatch(this._baseValue)}};function zH(e,t){let r=0;for(let n of e)r+=t(n);return r}s(zH,"sum");function L_t(e,t){let r=t.getNewRanges();return e.edits.every(n=>F_t(n.range,r))}s(L_t,"editExtends");function F_t(e,t){return t.some(r=>e.start===r.endExclusive||e.endExclusive===r.start)}s(F_t,"doesTouch");var V0e=class{constructor(t){this.maxSize=t;this._arr=[]}static{s(this,"FifoSet")}push(t){let r=this._arr.indexOf(t);r!==-1?this._arr.splice(r,1):this._arr.length>=this.maxSize&&this._arr.shift(),this._arr.push(t)}remove(t){let r=this._arr.indexOf(t);r!==-1&&this._arr.splice(r,1)}getItems(){return this._arr}getItemsReversed(){let t=[...this._arr];return t.reverse(),t}has(t){return this._arr.indexOf(t)!==-1}};var eQe=10,Yh=class{constructor(t){this.lastResultsById=new un(eQe);this.lastResultsByUri=new un(eQe);this.ctx=t}static{s(this,"NextEditSuggestionsManager")}async handleNextEditRequest(t,r,n){let i=await(this.nextEditProvider??=this.createNextEditProvider()),o=this.lastResultsByUri.get(t);o&&(this.lastResultsByUri.delete(t),this.lastResultsById.delete(o.resultId),i.handleRejection(o.documentId,o.nextEditResult));let a=jh.create(t),l=await i.getNextEdit(a,{triggerKind:1},n);if(l.result==null)return;let c=await this.ctx.get(Vr).getTextDocument({uri:t});if(!c)return;let u=c.positionAt(l.result.edit.range.start),f=c.positionAt(l.result.edit.range.endExclusive),m=_r(),h={resultId:m,nextEditResult:l,documentId:a};return this.lastResultsById.set(m,h),this.lastResultsByUri.set(t,h),[{edit:{text:l.result?.edit.newText??"",range:{start:u,end:f},textDocument:{uri:t,version:r}},id:m}]}async handleAcceptance(t){let r=await this.nextEditProvider,n=this.lastResultsById.get(t);!r||!n||n.resultId===t&&(this.lastResultsByUri.delete(n.resultId),this.lastResultsById.delete(n.resultId),await r.handleAcceptance(n.documentId,n.nextEditResult))}async handleShown(t){let r=await this.nextEditProvider,n=this.lastResultsById.get(t);!r||!n||n.resultId===t&&r.handleShown(n.nextEditResult)}async createNextEditProvider(){let t=await VMe(this.ctx),r;try{let o=await this.ctx.get(sr).updateExPValuesAndAssignments(),a=M_t(this.ctx,o);r=t.createInstance(a?$g:a2)}catch{r=t.createInstance(a2)}let n=this.ctx.get(zg),i=new YH(n);return t.createInstance(X9,n,r,i,new _H(n))}};function M_t(e,t){let r=Mn(e,bt.NESXTab);return r!==void 0?r:e.get(sr).enableNESXTab(t)}s(M_t,"shouldUseXTab");d();var tQe=Ze(ii());var KH=class extends zg{constructor(r,n=!1){super();this._openDocuments=Eh(this,[]);this.openDocuments=this._openDocuments;this._documents=new Map;this._started=!1;this.ctx=r,this._started=!1,n||this.start()}static{s(this,"ObservableLspWorkspace")}start(){if(this._started)return;this._started=!0;let r=this.ctx.get(Vr);for(let n of r.getTextDocumentsUnsafe())n&&this.addLspDocument(n.uri,n.clientLanguageId,n.getText());r.onDidOpenTextDocument(async n=>{this.addLspDocument(n.document.uri,n.document.languageId,n.document.text)}),r.onDidCloseTextDocument(async n=>{this.removeClosedLspDocument(n.document.uri)}),r.onDidChangeTextDocument(async n=>{this.onDidChangeLspDocument(n.document.uri,n.contentChanges)})}addLspDocument(r,n,i){let o=jh.create(r);return this.addDocument({id:o,initialValue:i,languageId:Mb.create(n)},void 0)}onDidChangeLspDocument(r,n){let i=jh.create(r),o=this._documents.get(i);o&&o.applyLspContentChanges(n)}onUserPositionChange(r,n){let i=jh.create(r),o=this._documents.get(i);o&&o.updateSelectionFromLspPosition(n)}removeClosedLspDocument(r){let n=jh.create(r);this._documents.get(n)?.dispose()}addDocument(r,n=void 0){let i=this._documents.get(r.id);if(i)return i;let o=new $0e(r.id,new Hl(r.initialValue??""),[],r.languageId??Mb.PlainText,()=>{this._documents.delete(r.id);let a=this._openDocuments.get(),l=a.filter(c=>c.id!==o.id);l.length!==a.length&&this._openDocuments.set(l,n,{added:[],removed:[o]})},r.workspaceRoot);return this._documents.set(r.id,o),this._openDocuments.set([...this._openDocuments.get(),o],n,{added:[o],removed:[]}),o}async getDocument(r){if(await this.ctx.get(Vr).getTextDocument(r))return this._documents.get(r)}clear(){this._openDocuments.set([],void 0,{added:[],removed:this._openDocuments.get()});for(let r of this._documents.values())r.dispose();this._documents.clear()}getWorkspaceRoot(r){return this._documents.get(r)?.workspaceRoot}},$0e=class extends wH{static{s(this,"MutableObservableLspDocument")}constructor(t,r,n,i,o,a){super(t,r,n,i,o,a)}applyLspContentChanges(t){let r=this.editFromLspContentChanges(t);this.applyEdit(r.compose(),void 0)}updateSelectionFromLspPosition(t){let r=this.value.get().getTransformer().getOffset(new mn(t.lineNumber+1,t.column+1));this.updateSelection([new Vt(r,r)])}editFromLspContentChanges(t){return new Ug(t.map(n=>this.editFromLspContentChange(n)))}editFromLspContentChange(t){if(tQe.TextDocumentContentChangeEvent.isIncremental(t)){let r=this.value.get().getTransformer(),n=r.getOffset(new mn(t.range.start.line+1,t.range.start.character+1)),i=r.getOffset(new mn(t.range.end.line+1,t.range.end.character+1));if(n>i)throw new vn(`Invalid range: [${n}, ${i}) from ${JSON.stringify(t.range)}`);return Es.replace(new Vt(n,i),t.text)}throw new Error("Full replacement edits are not supported")}};d();var s3=require("fs"),rQe=require("os"),nQe=Ze(require("path")),tT=require("process");var yc=class{static{s(this,"PersistenceManager")}},z0e=class extends yc{constructor(r){super();this.directory=r}static{s(this,"FilePersistenceManager")}async read(r,n){try{return(await this.readJsonObject(r))[n]}catch{return}}async update(r,n,i){await s3.promises.mkdir(this.directory,{recursive:!0,mode:448});let o=`${this.directory}/${r}.json`,a=await this.readJsonObject(r);a[n]=i,await s3.promises.writeFile(o,JSON.stringify(a)+`
`,{encoding:"utf8"})}async delete(r,n){let i=`${this.directory}/${r}.json`;try{let o=await this.readJsonObject(r);delete o[n];let a=JSON.stringify(o)+`
`;a===`{}
`?await s3.promises.rm(i):await s3.promises.writeFile(i,a,{encoding:"utf8"})}catch{}}async deleteSetting(r){let n=`${this.directory}/${r}.json`;try{await s3.promises.rm(n)}catch{}}async listSettings(){try{return(await s3.promises.readdir(this.directory)).filter(n=>n.endsWith(".json")).map(n=>n.slice(0,-5))}catch{return[]}}async listKeys(r){return Object.keys(await this.readJsonObject(r))}async readJsonObject(r){let n=`${this.directory}/${r}.json`;try{let i=await s3.promises.readFile(n,{encoding:"utf8"});return JSON.parse(i)}catch{return{}}}};function Q_t(){return tT.env.XDG_CONFIG_HOME&&nQe.isAbsolute(tT.env.XDG_CONFIG_HOME)?tT.env.XDG_CONFIG_HOME+"/github-copilot":(0,rQe.platform)()==="win32"?tT.env.USERPROFILE+"\\AppData\\Local\\github-copilot":tT.env.HOME+"/.config/github-copilot"}s(Q_t,"getXdgConfigPath");function iQe(){return new z0e(Q_t())}s(iQe,"makeXdgPersistenceManager");d();var oQe=require("crypto"),Xg=Ze(require("fs/promises")),sQe=require("os"),c2=Ze(require("path"));var u2=class{constructor(t){this.ctx=t;this.logger=new Gt("ripgrep")}static{s(this,"RipgrepPathResolver")}async resolvePath(){if(this.rgPath)return this.rgPath;let t=process.platform,r=process.arch;return this.rgPath=await this.resolvePathByOs(t,r),this.rgPath}async resolvePathByOs(t,r){if(this.logger.debug(this.ctx,`Start resolving ripgrep path for platform: ${t} and architecture: ${r}`),r!=="arm64"&&r!=="x64")throw new Error(`Unsupported architecture: ${r}`);let n=t==="win32"?"rg.exe":"rg";this.logger.debug(this.ctx,`__filename is ${__filename}, __dirname is ${__dirname}`);let i=c2.extname(__filename)===".ts"?c2.resolve(__dirname,"../../../packages/ripgrep/bin"):c2.resolve(__dirname,"./bin"),o=c2.resolve(i,t,r,n);if("pkg"in process){this.logger.debug(this.ctx,"Running inside pkg binary, start to copy ripgrep to a temporary location");let a=await Xg.readFile(o),l=(0,oQe.createHash)("sha256").update(a).digest("hex"),c=c2.join((0,sQe.homedir)(),".cache/pkg",l);await Xg.mkdir(c,{recursive:!0});let u=Di(cl(o)),f=c2.join(c,u);try{await Xg.stat(f)}catch{await Xg.copyFile(o,f),this.logger.debug(this.ctx,`Copied ripgrep to ${f}`)}o=f,t!=="win32"&&await Xg.chmod(o,493).catch(m=>{this.logger.error(this.ctx,`Failed to set executable permission for ${o}: ${m}`)})}return o}};d();var aQe=require("child_process"),Y0e=require("perf_hooks");var f2=new Gt("ripgrepProcessManager"),Kh=class{constructor(t,r,n){this.ctx=t;this.defaultTimeoutInMs=30*1e3;this.maxProcesses=4;this.maxPendingTasks=20;this.taskQueue=[];this.activeProcesses=new Set;this.maxProcesses=r??this.maxProcesses,this.maxPendingTasks=n??this.maxPendingTasks,f2.debug(this.ctx,`initialized with maxProcesses: ${this.maxProcesses} and maxPendingTasks: ${this.maxPendingTasks}`)}static{s(this,"RipgrepProcessManager")}dispose(){f2.debug(this.ctx,`Disposing ripgrep process manager with ${this.activeProcesses.size} active processes`),this.activeProcesses.forEach(t=>{if(!t.killed)try{t.kill()}catch(r){f2.error(this.ctx,"Failed to kill process. ",r)}}),this.activeProcesses.clear()}execute(t,r,n,i,o){return new Promise((a,l)=>{if(this.taskQueue.length>=this.maxPendingTasks){f2.error(this.ctx,`Task queue limit reached: ${this.maxPendingTasks}`),l(new Error(`Task queue limit of ${this.maxPendingTasks} reached`));return}if(o!==void 0&&o<=0){f2.error(this.ctx,`Invalid timeout value: ${o}`),l(new Error(`Invalid timeout value: ${o}`));return}f2.debug(this.ctx,`Adding task to queue: ${t} ${r.join(" ")}`),this.taskQueue.push({id:nG(),command:t,args:r,options:i,resolve:a,reject:l,timeoutInMs:o??this.defaultTimeoutInMs,token:n});let c=this.taskQueue.map(u=>this.getTaskSimpleInfo(u)).join(`
`);f2.debug(this.ctx,`Current task queue length: ${this.taskQueue.length}, task list: ${c}`),this.runNextTask()})}runNextTask(){if(this.taskQueue.length===0||this.activeProcesses.size>=this.maxProcesses)return;let t=this.taskQueue.shift(),r=Y0e.performance.now();f2.debug(this.ctx,`Starting task: ${this.getTaskSimpleInfo(t)}`);try{let n=(0,aQe.spawn)(t.command,t.args,t.options);this.activeProcesses.add(n);let i="",o="",a,l=s(()=>{a&&clearTimeout(a),this.activeProcesses.delete(n),n.stdout?.removeAllListeners(),n.stderr?.removeAllListeners(),n.removeAllListeners()},"cleanup");t.timeoutInMs&&(a=setTimeout(()=>{n.killed||(n.kill(),t.reject(new Error(`Process timed out after ${t.timeoutInMs} ms. Partial output: ${i}`))),l(),this.runNextTask()},t.timeoutInMs)),t.token&&t.token.onCancellationRequested(()=>{n.killed||(n.kill(),t.reject(new Error("Process was cancelled. Partial output: "+i))),l(),this.runNextTask()}),n.stdout?.on("data",c=>{i+=c.toString()}),n.stderr?.on("data",c=>{o+=c.toString()}),n.on("close",c=>{let f=Y0e.performance.now()-r;f2.debug(this.ctx,`Task ${t.id} completed in ${f} ms`),l(),c===0?t.resolve(i):c===1?t.resolve(""):t.reject(new Error(`Process exited with code ${c}: ${o}`)),this.runNextTask()}),n.on("error",c=>{l(),t.reject(new Error(`Failed to start process: ${c.message}`)),this.runNextTask()})}catch(n){t.reject(new Error(`Error spawning process: ${n.message}`)),this.runNextTask()}}getTaskSimpleInfo(t){return`${t.id} - ${t.command} ${t.args.join(" ")}`}};d();d();d();var lQe=Ze(require("node:events"));var JH="onWorkspaceWatcherChanged";var XH=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.emitter=new lQe.default;this.status="created",this.startWatching()}static{s(this,"WorkspaceWatcher")}onFileChange(t){this.emitter.on(JH,ef(this.ctx,t,"WorkspaceWatcher.onFileChange"))}onFilesCreated(t){this.emitter.emit(JH,{type:"create",documents:t,workspaceFolder:this.workspaceFolder})}onFilesUpdated(t){this.emitter.emit(JH,{type:"update",documents:t,workspaceFolder:this.workspaceFolder})}onFilesDeleted(t){this.emitter.emit(JH,{type:"delete",documents:t,workspaceFolder:this.workspaceFolder})}};var Yc=class{constructor(t){this.ctx=t;this.watchers=new un(25)}static{s(this,"WorkspaceWatcherProvider")}getWatcher(t){let r=this.watchers.get(t.uri);if(r)return r;let n=this.getParentFolder(t.uri);return n?this.watchers.get(n):void 0}getParentFolder(t){return[...this.watchers.keys()].find(n=>{let i=n.replace(/[#?].*/,"").replace(/\/?$/,"/");return t!==n&&t.startsWith(i)})}hasWatcher(t){return this.getParentFolder(t.uri)||this.getWatcher(t)!==void 0}startWatching(t){if(Kr.debug(this.ctx,`WorkspaceWatcherProvider - Start watching workspace ${t.uri}`),this.hasWatcher(t)){this.getWatcher(t)?.startWatching();return}let r=this.createWatcher(t);this.watchers.set(t.uri,r)}stopWatching(t){this.getWatcher(t)?.stopWatching()}terminateSubfolderWatchers(t){let r=[];for(let o of this.watchers.values())r.push(o.workspaceFolder);let n=t.uri.replace(/[#?].*/,"").replace(/\/?$/,"/"),i=r.filter(o=>o.uri!==t.uri&&o.uri.startsWith(n));for(let o of i)this.terminateWatching(o);return i}terminateWatching(t){if(this.getWatcher(t)?.status!=="stopped")return this.stopWatching(t),this.watchers.delete(t.uri);this.watchers.delete(t.uri)}onFileChange(t,r){this.getWatcher(t)?.onFileChange(r)}async getWatchedFiles(t){return await this.getWatcher(t)?.getWatchedFiles()??[]}getStatus(t){return this.getWatcher(t)?.status}};var rT=class{static{s(this,"WorkspaceLifecycleListener")}start(){}onWorkspaceAdded(t){}onWorkspaceRemoved(t){}onWorkspaceSubfoldersTerminated(t,r){}onFileChange(t){}},O_t="workspaceLifecycleManager",Kc=new Gt(O_t),Zg=class e{constructor(t){this.ctx=t;this.activeListeners=[];this.watchedWorkspaces=[];this.ctx=t;let r=Ks(t,async()=>{r.dispose(),await this.start()})}static{s(this,"WorkspaceLifecycleManager")}async start(){for(let t of this.activeListeners)await t.isEnabled()?t.isStarted()?Kc.debug(this.ctx,`listener ${t.constructor.name} is already started`):(Kc.debug(this.ctx,`starting listener ${t.constructor.name}`),await t.start()):Kc.debug(this.ctx,`listener ${t.constructor.name} is not enabled`);Kc.debug(this.ctx,"WorkspaceLifecycleManager started"),this.ctx.get(Nf).onChange(t=>{this.onWorkspacesAdded(t.added,this.ctx),this.onWorkspacesRemoved(t.removed,this.ctx)}),await this.onWorkspacesAdded(this.ctx.get(Vr).getWorkspaceFolders(),this.ctx)}static isSubfolder(t,r){let n=t.uri,i=r.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");return n!==i&&n.startsWith(i)}async onWorkspacesAdded(t,r){if(!t.length){Kc.debug(r,"No workspaces to add.");return}Kc.debug(r,`Adding workspaces: ${t.map(l=>l.uri).join(", ")}`);let n=[...this.watchedWorkspaces,...t];Kc.debug(r,`Combined workspaces: ${n.map(l=>l.uri).join(", ")}`);let i=n.filter((l,c,u)=>u.findIndex(f=>f.uri===l.uri)===c&&!u.some(f=>e.isSubfolder(l,f)));Kc.debug(r,`Filtered workspaces: ${i.map(l=>l.uri).join(", ")}`);let o=i.filter(l=>!this.watchedWorkspaces.some(c=>c.uri===l.uri));Kc.debug(r,`New workspaces: ${o.map(l=>l.uri).join(", ")}`);let a=this.watchedWorkspaces.filter(l=>!i.some(c=>c.uri===l.uri));Kc.debug(r,`Removed workspaces: ${a.map(l=>l.uri).join(", ")}`),this.watchedWorkspaces=i;for(let l of a){Kc.debug(r,`Terminating watching for removed workspace: ${l.uri}`),r.get(Yc).terminateWatching(l);for(let u of this.activeListeners)Kc.debug(r,`Notifying listener of removed workspace: ${l.uri}`),await u.onWorkspaceRemoved(l)}for(let l of o){if(!l.uri)continue;Kc.debug(r,`Starting to watch new workspace: ${l.uri}`);let c=r.get(Yc);if(c.shouldStartWatching(l)){c.startWatching(l);let u=c.terminateSubfolderWatchers(l);if(u.length){Kc.debug(r,`Terminated subfolder watchers for workspace: ${l.uri}, Subfolders: ${u.map(f=>f.uri).join(", ")}`);for(let f of this.activeListeners)await f.onWorkspaceSubfoldersTerminated(l,u)}for(let f of this.activeListeners)Kc.debug(r,`Adding file change listener for workspace: ${l.uri}`),c.onFileChange(l,f.onFileChange.bind(f))}}for(let l of this.activeListeners)for(let c of o)Kc.debug(r,`Notifying ${l.constructor.name} of added workspace: ${c.uri}`),await l.onWorkspaceAdded(c)}async onWorkspacesRemoved(t,r){if(t.length)for(let n of t){if(!n.uri)continue;r.get(Yc).terminateWatching(n),this.watchedWorkspaces=this.watchedWorkspaces.filter(o=>o.uri!==n.uri);for(let o of this.activeListeners)await o.onWorkspaceRemoved(n)}}addListener(t){this.activeListeners.push(t)}removeListener(t){this.activeListeners=this.activeListeners.filter(r=>r!==t)}removeAllListeners(){this.activeListeners=[]}};function ZH(e){e.set(Zg,new Zg(e))}s(ZH,"setupWorkspaceLifecycleListener");d();d();var gl=class extends Error{static{s(this,"CanceledError")}constructor(){super("Canceled"),this.name="Canceled"}};d();var ej=class{constructor(){this._tools=new Map}static{s(this,"ToolRegistry")}registerTool(t){this._tools.set(t.id,t)}unregisterTool(t){return this._tools.delete(t)}getTool(t){return this._tools.get(t)}listTools(){return Array.from(this._tools.values())}};d();d();d();d();var l3={id:"copilot",displayName:"Copilot Language Server",description:"Copilot Language Server tool provider",isFirstPartyTool:!0},e1={id:"copilot-editor",displayName:"Editor",description:"Editor tool provider",isFirstPartyTool:!0},K0e=class{static{s(this,"LanguageModelTool")}constructor(t){this.type=t.type,this.toolProvider=t.toolProvider,this.name=t.name,this.displayName=t.displayName??this.name,this.description=t.description,this.displayDescription=t.displayDescription??this.description,this.inputSchema=t.inputSchema,this.id=`${this.toolProvider.id}.${this.name}`,this.nameForModel=this.toolProvider.isFirstPartyTool?this.name:`${this.toolProvider.id}_${this.name}`}},a3=class extends K0e{static{s(this,"BaseLanguageModelTool")}constructor(t){super(t)}},eo=class{static{s(this,"LanguageModelTextPart")}constructor(t){this.value=t}},nT=class{static{s(this,"LanguageModelPromptTsxPart")}constructor(t){this.value=t}};var to=class{static{s(this,"LanguageModelToolResult")}constructor(t,r){this.status=r,this.content=t}},uQe=I.Object({content:I.Array(I.Union([I.Object({value:I.String()}),I.Object({value:I.Unknown()})])),status:I.Optional(I.Union([I.Literal("success"),I.Literal("error"),I.Literal("cancelled")]))}),tj=(r=>(r.Accept="accept",r.Dismiss="dismiss",r))(tj||{}),fQe=I.Object({result:I.Enum(tj)});var mm=class extends a3{static{s(this,"ClsLanguageModelTool")}constructor(t){super({...t,toolProvider:l3,type:"shared"})}};d();var U_t=new Map([["copilot_semanticSearch","semantic_search"],["copilot_readFile","read_file"],["copilot_listDir","list_dir"],["copilot_getErrors","get_errors"],["copilot_runInTerminal","run_in_terminal"],["copilot_insertEdit","insert_edit_into_file"],["copilot_createFile","create_file"],["copilot_replaceString","replace_string_in_file"],["copilot_updateUserPreferences","update_user_preferences"],["copilot_fileSearch","file_search"],["copilot_findTextInFiles","grep_search"]]),q_t=new Map;for(let[e,t]of U_t)q_t.set(t,e);d();function iT(e){return`[${Di(e)}](${e})`}s(iT,"formatUriForFileWidget");function t1(e){let t=W_t(e);if(!t)throw new Error(`Invalid input path: ${e}. Be sure to use an absolute path.`);return t}s(t1,"resolvePathInput");function W_t(e){if(e.startsWith("/")||mQe()&&H_t(e)||mQe()&&e.startsWith("\\\\"))return cl(e)}s(W_t,"resolveFsUri");function mQe(){return process.platform==="win32"}s(mQe,"isWindows");function G_t(e){return e>=65&&e<=90||e>=97&&e<=122}s(G_t,"isWindowsDriveLetter");function H_t(e){return G_t(e.charCodeAt(0))&&e.charCodeAt(1)===58}s(H_t,"hasDriveLetter");function rj(e){let t="";return e.length>0&&(t=e.map(r=>r instanceof eo?r.value:(r instanceof nT,"")).join(`
`)),t===""?"(empty)":t}s(rj,"parseToolResultToString");var nj=class extends mm{static{s(this,"EditFileTool")}constructor(){super({name:"insert_edit_into_file",displayName:"Edit File",description:`Edit a file in the workspace. Use this tool once per file that needs to be modified, even if there are multiple changes for a file. Generate the "explanation" property first.
The system is very smart and can understand how to apply your edits to the files, you just need to provide minimal hints.
Avoid repeating existing code, instead use comments to represent regions of unchanged code. Be as concise as possible. For example:
// ...existing code...
{ changed code }
// ...existing code...
{ changed code }
// ...existing code...

Here is an example of how you should use format an edit to an existing Person class:
class Person {
	// ...existing code...
	age: number;
	// ...existing code...
	getAge() {
	return this.age;
	}
}`,displayDescription:"Edit a file in the workspace.",inputSchema:I.Object({filePath:I.String({description:"The absolute path of the file to edit."}),code:I.String({description:`The code change to apply to the file.
The system is very smart and can understand how to apply your edits to the files, you just need to provide minimal hints.
Avoid repeating existing code, instead use comments to represent regions of unchanged code. Be as concise as possible. For example:
// ...existing code...
{ changed code }
// ...existing code...
{ changed code }
// ...existing code...

Here is an example of how you should use format an edit to an existing Person class:
class Person {
	// ...existing code...
	age: number;
	// ...existing code...
	getAge() {
		return this.age;
	}
}`}),explanation:I.String({description:"A short explanation of the edit being made."})})})}async invoke(t,r,n){try{let i=await this.mapCode(r.input,t,n),o=await this.invokeClientEditFileTool(t,r,i,n);return this.getFinalEditFileResult(r,o)}catch(i){let o=i instanceof Error?i.message:"An unknown error occurred";return new to([new eo(o)],"error")}}async mapCode(t,r,n){let{filePath:i}=t,o=t1(i);if(!o)throw new Error(`Invalid file path: ${i}`);return await new x9(r.ctx).mapCode({code:t.code,resource:o,markdownBeforeBlock:t.explanation},n,void 0,!0)}async invokeClientEditFileTool(t,r,n,i){let o=t.ctx.get(Jc).getToolByNameAndProvider("insert_edit_into_file",e1);if(!o)throw new Error("Client tool insert_edit_into_file is not registered");return t.ctx.get(Jc).invokeTool(t,o.id,{toolInvocationToken:r.toolInvocationToken,input:{filePath:r.input.filePath,code:n,explanation:r.input.explanation},roundId:r.roundId,toolCallId:r.toolCallId},i)}getFinalEditFileResult(t,r){if(r.status!=="success")return r;let n=rj(r.content),i=g8({uri:t1(t.input.filePath),languageId:"UNKNOWN"}),o=[];o.push(`<file_after_edit path="${t.input.filePath}">`),o.push("This is the new state of the file after the edit. Base future edits off of this file, no need to read it again, unless a terminal command may have changed it.");let a=new Ff({code:n,languageId:i,noFilePath:!0});return o.push(...a.renderAsArray()),o.push("</file_after_edit>"),new to([new eo(o.join(`
`))],"success")}prepareInvocation(t,r){let{input:n}=t;if(!n.filePath.length)return{progressMessage:"Running insert_edit_into_file tool"};let i=t1(n.filePath);return{progressMessage:`Editing ${iT(i)}`}}static toEditFileParams(t){if(typeof t.filePath!="string")throw new Error("filePath must be a string");if(typeof t.code!="string")throw new Error("code must be a string");if(typeof t.explanation!="string")throw new Error("explanation must be a string");return{filePath:t.filePath,code:t.code,explanation:t.explanation}}};d();var hQe=new Gt("findFilesTool"),ij=class e extends mm{static{s(this,"FindFilesTool")}static{this.timeOutInSeconds=15}constructor(){super({name:"file_search",displayName:"Find Files",description:`Search for files in the workspace by glob pattern. This only returns the paths of matching files. Use this tool when you know the exact filename pattern of the files you're searching for. Glob patterns match from the root of the workspace folder. Examples:
- **/*.{js,ts} to match all js/ts files in the workspace.
- src/** to match all files under the top-level src folder.
- **/foo/**/*.js to match all js files under any foo folder in the workspace.`,displayDescription:"Search for files in the workspace by glob pattern.",inputSchema:I.Object({query:I.String({description:"Search for files with names or paths matching this glob pattern."}),maxResults:I.Optional(I.Number({description:"The maximum number of results to return. Do not use this unless necessary, it can slow things down. By default, only some matches are returned. If you use this and don't see what you're looking for, you can try again with a more specific query or a larger maxResults."}))})})}async invoke(t,r,n){try{let i;try{if(n.isCancellationRequested)return new to([new eo("Cancelled")],"cancelled");i=await t.ctx.get(u2).resolvePath()}catch(g){throw new Error(`Failed to run file_search since failed to get ripgrep path: ${String(g)}`)}let{query:o,maxResults:a=20}=r.input,l=t.turn.workspaceFolders;if(!l?.length)return new to([new eo("Failed to invoke tool file_search since no workspace folders found")],"error");let c=t.ctx.get(Kh),u={},f=l.map(async g=>{if(n.isCancellationRequested)throw new Error("Canceled");try{hQe.debug(t.ctx,`Start searching for query ${o} in workspace folder: ${g.uri.toString()}`);let y=await c.execute(i,["--files","-g",o],n,{cwd:Ga(g.uri)},e.timeOutInSeconds*1e3);hQe.debug(t.ctx,`Finished searching for query ${o} in workspace folder: ${g.uri.toString()} with results: ${y}`),u[g.uri.toString()]=y.split(`
`).map(x=>x.trim()).filter(x=>x.length>0).map(x=>`${Ga(Do(g.uri,x))}`)}catch(y){let x=y instanceof Error?y.message:"An unknown error occurred";throw new Error(`Error processing workspace folder ${g.uri.toString()}: ${x}`)}});try{await Promise.all(f)}catch(g){let y=g instanceof Error?g.message:"An unknown error occurred";return new to([new eo(y)],"error")}let m=[],h=a;for(;h>0;){let g=!1;for(let y in u)u[y].length>0&&h>0&&(m.push(u[y].shift()),h--,g=!0);if(!g)break}let p=m.length===0?`No files found matching query: ${o}`:m.length===1?`Found 1 file matching query: ${o}
${m[0]}`:`Found ${m.length} files matching query: ${o}
${m.join(`
`)}`;return new to([new eo(p)],"success")}catch(i){let o=i instanceof Error?i.message:"An unknown error occurred";return new to([new eo(o)],"error")}}prepareInvocation(t,r){let{input:n}=t;return n.query.length?{progressMessage:`Searching for files matching query: ${n.query}`}:{progressMessage:"Running file_search tool"}}static toFindFilesParams(t){if(typeof t.query!="string")throw new Error("query must be a string");if(t.maxResults!=null&&(typeof t.maxResults!="number"||t.maxResults<0))throw new Error("maxResults must be a positive number or undefined");return{query:t.query,maxResults:typeof t.maxResults=="number"?t.maxResults:void 0}}};d();var pQe=new Gt("findTextInFilesTool"),oj=class e extends mm{static{s(this,"FindTextInFilesTool")}static{this.timeOutInSeconds=15}constructor(){super({name:"grep_search",displayName:"Find Text In Files",description:"Do a text search in the workspace. Use this tool when you know the exact string you're searching for.",displayDescription:"Do a text search in the workspace.",inputSchema:I.Object({query:I.String({description:"The pattern to search for in files in the workspace. Can be a regex or plain text pattern"}),isRegexp:I.Optional(I.Boolean({description:"Whether the pattern is a regex. False by default."})),includePattern:I.Optional(I.String({description:"Search files matching this glob pattern. Will be applied to the relative path of files within the workspace."}))})})}async invoke(t,r,n){try{let i;try{if(n.isCancellationRequested)return new to([new eo("Cancelled")],"cancelled");i=await t.ctx.get(u2).resolvePath()}catch(x){throw new Error(`Failed to run grep_search since failed to get ripgrep path: ${String(x)}`)}let{query:o,isRegexp:a=!1,includePattern:l}=r.input,c=20,u=t.turn.workspaceFolders;if(!u?.length)return new to([new eo("Failed to invoke tool grep_search since no workspace folders found")],"error");let f=t.ctx.get(Kh),m={},h=u.map(async x=>{if(n.isCancellationRequested)throw new Error("Canceled");try{pQe.debug(t.ctx,`Start searching for query ${o} in workspace folder: ${x.uri.toString()}`);let b=[a?"--regexp":"--fixed-strings",o,...l?["-g",l]:[],"--no-heading","--line-number","--color","never",Ga(x.uri)],E=await f.execute(i,b,n,{cwd:Ga(x.uri)},e.timeOutInSeconds*1e3);pQe.debug(t.ctx,`Finished searching for query ${o} in workspace folder: ${x.uri.toString()} with results: ${E}`),m[x.uri.toString()]=E.split(`
`).map(_=>_.trim()).filter(_=>_.length>0)}catch(b){let E=b instanceof Error?b.message:"An unknown error occurred";throw new Error(`Error processing workspace folder ${x.uri.toString()}: ${E}`)}});try{await Promise.all(h)}catch(x){let b=x instanceof Error?x.message:"An unknown error occurred";return new to([new eo(b)],"error")}let p=[],g=c;for(;g>0;){let x=!1;for(let b in m)m[b].length>0&&g>0&&(p.push(m[b].shift()),g--,x=!0);if(!x)break}let y=p.length===0?`Searched text for ${o}, no results`:p.length===1?`Searched text for: ${o}, 1 result
${p[0]}`:`Searched text for: ${o}, ${p.length} results
${p.join(`
`)}`;return new to([new eo(y)],"success")}catch(i){let o=i instanceof Error?i.message:"An unknown error occurred";return new to([new eo(o)],"error")}}prepareInvocation(t,r){let{input:n}=t;return n.query.length?{progressMessage:`Searching for text in files matching query: ${n.query}`}:{progressMessage:"Running grep_search tool"}}static toFindTextInFilesParams(t){if(typeof t.query!="string")throw new Error("query must be a string");if(t.isRegexp!==void 0&&typeof t.isRegexp!="boolean")throw new Error("isRegexp must be a boolean");if(t.includePattern!==void 0&&typeof t.includePattern!="string")throw new Error("includePattern must be a string");return{query:t.query,isRegexp:t.isRegexp??!1,includePattern:t.includePattern}}};d();var sj=class extends mm{static{s(this,"ListDirTool")}constructor(){super({name:"list_dir",displayName:"List Directory",description:"List the contents of a directory. Result will have the name of the child. If the name ends in /, it's a folder, otherwise a file",displayDescription:"List the contents of a directory",inputSchema:I.Object({path:I.String({description:"The absolute path to the directory to list."})})})}async invoke(t,r,n){let{path:i}=r.input,o=t1(i),l=await t.ctx.get(vo).readDirectory(o.toString());return l.length===0?new to([new eo("Folder is empty")],"success"):new to([new eo(l.map(([c,u])=>`${c}${u===2?"/":""}`).join(`
`))],"success")}prepareInvocation(t,r){let n=t1(t.input.path);return{progressMessage:`Reading directory ${iT(n)}`}}static toListDirParams(t){if(typeof t.path!="string")throw new Error("path must be a string");return{path:t.path}}};d();var aj=class extends mm{static{s(this,"ReadFileTool")}constructor(){super({name:"read_file",displayName:"Read File",description:`Read the contents of a file.

You must specify the line range you're interested in, and if the file is larger, you will be given an outline of the rest of the file. If the file contents returned are insufficient for your task, you may call this tool again to retrieve more content.`,displayDescription:"Read a file in the workspace.",inputSchema:I.Object({filePath:I.String({description:"The absolute path of the file to read."}),startLineNumberBaseZero:I.Number({description:"The line number to start reading from, 0-based."}),endLineNumberBaseZero:I.Number({description:"The inclusive line number to end reading at, 0-based."})})})}async invoke(t,r,n){try{let{filePath:i,startLineNumberBaseZero:o,endLineNumberBaseZero:a}=r.input,l=t1(i);if(!l)throw new Error(`Invalid file path: ${i}`);let u=await t.ctx.get(On).getOrReadTextDocument({uri:l});if(u.status==="valid"){let f=new Ff({code:u.document.getText({start:{line:o,character:0},end:{line:a+1,character:0}}),languageId:u.document.detectedLanguageId,uri:l});return new to([new eo(f.renderAsString(`
`))],"success")}else return new to([new eo(`Failed to read file ${i} with result ${JSON.stringify(u)}`)],"error")}catch(i){let o=i instanceof Error?i.message:"An unknown error occurred";return new to([new eo(o)],"error")}}prepareInvocation(t,r){let{input:n}=t;if(!n.filePath.length)return{progressMessage:"Running read_file tool"};let i=t1(n.filePath);return{progressMessage:`Reading file ${iT(i)}`}}static toReadFileParams(t){if(typeof t.filePath!="string")throw new Error("filePath must be a string");if(typeof t.startLineNumberBaseZero!="number")throw new Error("startLineNumberBaseZero must be a number");if(typeof t.endLineNumberBaseZero!="number")throw new Error("endLineNumberBaseZero must be a number");return{filePath:t.filePath,startLineNumberBaseZero:t.startLineNumberBaseZero,endLineNumberBaseZero:t.endLineNumberBaseZero}}};function gQe(){return[new sj,new aj,new nj,new ij,new oj]}s(gQe,"getAllClsTools");var Jc=class{constructor(t){this.ctx=t;this._toolRegistry=new ej;for(let r of gQe())this._toolRegistry.registerTool(r)}static{s(this,"ToolsService")}registerTool(t){this._toolRegistry.registerTool(t)}unregisterTool(t){return typeof t=="string"?this._toolRegistry.unregisterTool(t):this._toolRegistry.unregisterTool(t.id)}prepareInvocation(t,r,n){let i=this._toolRegistry.getTool(t);if(!i)throw new Error(`Tool with id '${t}' is undefined`);return i.prepareInvocation?.(r,n)??{}}async invokeTool(t,r,n,i){if(i.isCancellationRequested)throw new gl;let o=this._toolRegistry.getTool(r);if(!o)throw new Error(`Tool with id '${r}' is undefined`);return await o.invoke?.(t,n,i)??new to([],"success")}async invokeToolConfirmation(t,r,n,i){if(i.isCancellationRequested)throw new gl;let o=this._toolRegistry.getTool(r);if(!o)throw new Error(`Tool with id '${r}' is undefined`);return await o.invokeConfirmation?.(t,n,i)??{result:"dismiss"}}getToolById(t){return this._toolRegistry.getTool(t)}getToolByNameAndProvider(t,r){return this._toolRegistry.listTools().find(n=>n.name===t&&n.toolProvider.id===r.id)}getToolsForModel(){return Array.from(this.getToolMapForModel().values())}getToolMapForModel(){let t=new Map;for(let c of this._toolRegistry.listTools())t.has(c.toolProvider.id)||t.set(c.toolProvider.id,[]),t.get(c.toolProvider.id)?.push(c);let r=t.get(l3.id)?.find(c=>c.name==="insert_edit_into_file");r&&t.get(l3.id)?.splice(t.get(l3.id)?.indexOf(r)??0,1);let n=t.get(e1.id)?.find(c=>c.name==="insert_edit_into_file");n&&t.get(e1.id)?.splice(t.get(e1.id)?.indexOf(n)??0,1);let i=new Map;r&&n&&i.set(r.nameForModel,r);let o=t.get(e1.id)??[],a=t.get(l3.id)??[],l=Array.from(t.entries()).filter(([c])=>c!==l3.id&&c!==e1.id).flatMap(([,c])=>c);return o.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),a.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),l.forEach(c=>{i.has(c.nameForModel)||i.set(c.nameForModel,c)}),i}};d();d();var Yb=class{static{s(this,"MultiLanguageContextProviderFeatureLifecycle")}async dispose(){}};d();var CQe=require("crypto"),J0e=require("fs"),X0e=Ze(require("path"));var AQe="symbolDatabaseLookup",yQe="multiLanguageContextProviderDocumentSymbols",Kb=class{constructor(t){this.persistenceManager=t}static{s(this,"WorkspaceDatabasePersistenceManager")}async getDBFilePath(t){await this.init();let r=await this.persistenceManager.read(AQe,t);return r||(r=await this.createDBFile(t)),X0e.default.join(this.persistenceManager.directory,yQe,r)}async init(){let t=X0e.default.join(this.persistenceManager.directory,yQe);await this.createIfNotExists(t)}async dirExists(t){try{return await J0e.promises.access(t),!0}catch{return!1}}async createIfNotExists(t){try{await this.dirExists(t)||await J0e.promises.mkdir(t,{recursive:!0})}catch{throw new Error(`Failed to create directory: ${t}`)}}async createDBFile(t){let r=`${(0,CQe.randomUUID)()}.db`;return await this.persistenceManager.update(AQe,t,r),r}async deleteDBFile(t){}};d();d();var Jb=class{static{s(this,"FileSearch")}};d();var tB=class{constructor(t,r){this.workspaceUris=t;this.params=r}static{s(this,"FileWatcher")}};d();d();d();var lj=Ze(require("path")),xQe=require("worker_threads");function vQe(e,t){return new xQe.Worker(lj.default.resolve(lj.default.extname(__filename)!==".ts"?__dirname:lj.default.resolve(__dirname,"../../dist"),e),{workerData:t})}s(vQe,"createWorker");d();var cj=class{constructor(t){this.maxDegreeOfParalellism=t;this.outstandingPromises=[],this.runningPromises=0}static{s(this,"PriorityLimiter")}queue(t,r=!1){return new Promise((n,i)=>{r?this.outstandingPromises.unshift({factory:t,c:n,e:i}):this.outstandingPromises.push({factory:t,c:n,e:i}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){let t=this.outstandingPromises.shift();this.runningPromises++;let r=t.factory();r.then(t.c,t.e),r.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningPromises--,this.outstandingPromises.length>0&&this.consume()}};var bQe=Ze(ii());var uj="main.js",fj=class{constructor(t,r=3){this.promiseResolvers=new Map;this.id=0;try{let n={cwd:process.cwd(),indexWorkspaceRoots:t};this.worker=vQe(uj,n),this.worker.on("message",this.handleWorkerMessage.bind(this)),this.worker.on("error",i=>{this.handleUnexpectedError(i)}),this.postMessageQueue=new cj(r)}catch(n){throw console.error(`Failed to create worker: ${n.message}`),n}}static{s(this,"IndexClient")}dispose(){return this.postMessageInQueue(new UM(this.id++),bQe.CancellationToken.None,!0)}async indexFile(t,r,n){return await this.postMessageInQueue(new MM(this.id++,t,r),n)}async getAllFileNames(t,r){return this.postMessageInQueue(new QM(this.id++,t),r)}getContext(t,r,n,i,o){return this.postMessageInQueue(new OM(this.id++,t,r,n,i),o,!0)}tryCreateIndex(t,r,n){return this.postMessageInQueue(new LM(this.id++,t,r),n)}async postMessageInQueue(t,r,n=!1){return this.postMessageQueue.queue(()=>this.postMessageAndWait(t,r),n)}tryRemoveIndex(t,r){return this.postMessageAndWait(new FM(this.id++,t),r)}async postMessageAndWait(t,r){if(this.fatalError)return Promise.reject(this.fatalError);let n=new Promise((o,a)=>{this.promiseResolvers.set(t.id,{resolve:o,reject:a})});this.worker.postMessage(t);let i=r.onCancellationRequested(()=>{this.worker.postMessage(new NM(t.id))});try{return await n}finally{i.dispose()}}handleWorkerMessage(t){if(t.operation!=="response")throw new Error("Unexpected message operation");let r=this.promiseResolvers.get(t.id);if(!r)throw new Error(`Received response for message that isn't in progress: ${t.id}`);this.promiseResolvers.delete(t.id),t.error?(t.error.code=t.code,r.reject(t.error)):r.resolve(t.data)}handleUnexpectedError(t){let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&r.message?.endsWith(uj+"'")&&(r=new Error(`Failed to load ${uj}`),r.code="CopilotPromptLoadFailure");let n=new Error().stack;r.stack&&n?.match(/^Error\n/)&&(r.stack+=n.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&"status"in t&&t.name==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`${uj} exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let n of this.promiseResolvers.values())n.reject(r);this.promiseResolvers.clear(),this.fatalError=r}};var rB=Ze(ii());var sT="fallbackContextProvider",Hf=new Gt(sT),Xb=class{constructor(t,r,n,i){this.ctx=t;this.watcher=r;this.workspaceDatabasePersistenceManager=n;this.workspaceInit=new Map;this.watcher.onFileChange(async(o,a)=>{await this.indexFile(a,this.languageId(a)??"plaintext")}),this.watcher.onWorkspaceChange(async(o,a)=>{if(o===1){Hf.debug(this.ctx,`workspace removed: ${a}`),await this.indexClient.tryRemoveIndex(a,rB.CancellationToken.None);return}Hf.debug(this.ctx,`workspace added: ${a}`),await this.indexAddedWorkspace(a)}),this.indexClient=new fj(i);for(let o of i){let a=o.rootPath;this.workspaceInit.set(a,this.doWorkspaceIndex(a).then(()=>{Hf.debug(this.ctx,`workspace ${a} indexed`),this.workspaceInit.delete(a)}))}}static{s(this,"MultiLanguageContextIndexWatcher")}isInitializing(t){for(let[r]of this.workspaceInit)if(t.startsWith(r))return!0;return!1}dispose(){return this.indexClient.dispose()}async indexAddedWorkspace(t){let r=await V_t(t,this.workspaceDatabasePersistenceManager);await this.indexClient.tryCreateIndex(r.rootPath,r.databaseFilePath,rB.CancellationToken.None),this.workspaceInit.has(t)&&await this.workspaceInit.get(t);let n=this.doWorkspaceIndex(t).then(()=>{Hf.debug(this.ctx,`workspace ${t} indexed`),this.workspaceInit.delete(t)});this.workspaceInit.set(t,n)}async doWorkspaceIndex(t){Hf.debug(this.ctx,`indexing workspace ${t}`);let r=jee.map(f=>`*${f}`);if(r.length===0)return;let i=`**/${jee.length===1?r[0]:`{${r.join(",")}}`}`,o=this.ctx.get(Jb),a=await Promise.all([o.findFiles(i,{uri:t},{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0,excludeIDESearchIgnoredFiles:!0}),this.indexClient.getAllFileNames(t,rB.CancellationToken.None)]),l=a[0],c=a[1],u=Array.from(new Set([...l,...c]));Hf.debug(this.ctx,`found ${u.length} files to index in ${t}`),await Promise.all(u.map(async f=>{let m=this.languageId(f);m&&await this.indexFile(f.replace(/\/+$/,""),m)})),Hf.debug(this.ctx,`finished indexing workspace ${t}`)}async indexFile(t,r){try{Hf.debug(this.ctx,`index triggered for ${t}`),await this.indexClient.indexFile(t,r,rB.CancellationToken.None)}catch(n){Hf.debug(this.ctx,`failed to index ${t} with ${n}`)}}languageId(t){return Fve(t)}};async function V_t(e,t){return{databaseFilePath:await t.getDBFilePath(e),rootPath:e}}s(V_t,"createIndexableWorkspaceFolder");d();d();var EQe=100,$_t=5e3,dj=class{static{s(this,"CachedContextFetcher")}constructor(){}runWithCache(t,r,n,i,o,a,l){let c=Date.now(),u=this.get(n,i,r,c);if(u)return this.incrementRefCount(u),l.onCancellationRequested(()=>this.decrementRefCount(u)),u.value;if(!a)return t(r,n,i,o,l);let f=new Fn.CancellationTokenSource,m=s(()=>f.cancel(),"cancel"),h=t(r,n,i,o,f.token);return u=this.setBasedOnLastDelimiter(n,i,r,c,h,m),this.incrementRefCount(u),l.onCancellationRequested(()=>this.decrementRefCount(u)),h}get(t,r,n,i){if(this.cachedValue&&this.cachedValue.uri===n&&!(Math.abs(this.cachedValue.cursorPosition-r)>EQe)){if(r>this.cachedValue.cursorPosition){if(t.substring(this.cachedValue.cursorPosition,r).match(/[^A-Za-z0-9]/))return}else if(r<this.cachedValue.cursorPosition)return;if(!(i-this.cachedValue.timestamp>$_t))return this.cachedValue}}setBasedOnLastDelimiter(t,r,n,i,o,a){let l=t.substring(0,r),c=/[A-Za-z0-9]+$/.exec(l),u=r;c&&(u=c.index),r-u>EQe&&(u=r);let f={cursorPosition:u,uri:n,timestamp:i,fullText:t,value:o.finally(()=>{f.complete=!0}),refCount:0,cancel:a,uuid:_r(),complete:!1};return this.cachedValue=f}incrementRefCount(t){t&&t.refCount++}decrementRefCount(t){t&&!t.complete&&(t.refCount--,t.refCount<=0&&t.cancel())}};var mj=class{constructor(t){this.id=sT;this.selector=xM.map(t=>({language:t.languageId}));try{this.documentManager=t.get(Vr),this.resolver=new Z0e(this.documentManager,t)}catch(r){throw Hf.error(t,"Failed to create multi-language context provider",r),r}}static{s(this,"MultiLanguageContextProvider")}},Z0e=class{constructor(t,r){this.ctx=r;this.documentManager=t,this.cachedContextFetcher=new dj}static{s(this,"MultiLanguageContextResolver")}resolve(t,r){return this.resolveImpl(t,r)}async resolveImpl(t,r){let n=this.ctx.get(Yb).indexWatcher;if(!n)return[];if(n.isInitializing(t.documentContext.uri))return[];let i=n.indexClient;try{let o=await this.documentManager.getTextDocument({uri:t.documentContext.uri});if(o===void 0||o?.version!==t.documentContext.version)return[];let a=t.documentContext.position,l=t.documentContext.proposedEdits??[],c=mg(o,a);c=c.applyEdits(l);let u=await this.cachedContextFetcher.runWithCache(i.getContext.bind(i),t.documentContext.uri,c.textDocument.getText(),c.textDocument.offsetAt(c.position),t.documentContext.languageId,c.editsWithPosition.length===0,r);return Hf.debug(this.ctx,`Context items found for ${t.documentContext.uri}: ${u.map(f=>JSON.stringify(f)).join(", ")}`),u}catch(o){if(G_(o))return[];throw Hf.error(this.ctx,"Failed to get context",o),o}}};var nB=class extends rT{constructor(r){super();this.started=!1;this.ctx=r,this.ctx.get(Zg).addListener(this)}static{s(this,"AgentMultiLanguageContextProvider")}async start(){if(!this.started&&await this.isEnabled()&&!this.ctx.get(fl).providers.some(r=>r.id===sT)){let r=this.ctx.get(Kb);this.fileWatcher=new eue([],{excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!1,excludeIDESearchIgnoredFiles:!1}),this.multiLanguageContextIndexWatcher=new Xb(this.ctx,this.fileWatcher,r,[]),this.fileSearch=new tue(this.ctx),this.ctx.set(tB,this.fileWatcher),this.ctx.set(Jb,this.fileSearch),this.ctx.set(Xb,this.multiLanguageContextIndexWatcher),this.ctx.get(fl).registerContextProvider(new mj(this.ctx)),this.started=!0}}isStarted(){return this.started}async isEnabled(){let r=await this.ctx.get(sr).updateExPValuesAndAssignments(),n=bO(this.ctx,r);return n.includes(sT)||n.length===1&&n[0]==="*"}async onWorkspaceAdded(r){await this.isEnabled()&&await this.fileWatcher?.triggerWorkspaceChange(0,r.uri)}async onWorkspaceRemoved(r){await this.isEnabled()&&await this.fileWatcher?.triggerWorkspaceChange(1,r.uri)}async onWorkspaceSubfoldersTerminated(r,n){if(await this.isEnabled())return super.onWorkspaceSubfoldersTerminated(r,n)}async onFileChange(r){if(await this.isEnabled())for(let n of r.documents)await this.fileWatcher?.triggerFileChange(this.toFileWatcherType(r.type),n.uri)}toFileWatcherType(r){switch(r){case"create":return 2;case"delete":return 1;case"update":return 0;default:throw new Error("Unknown file watcher event type")}}},eue=class extends tB{constructor(r,n){super(r,n);this.fileChangeListeners=[];this.workspaceChangeListeners=[]}static{s(this,"MultiLanguageFileWatcher")}onFileChange(r){this.fileChangeListeners.push(r)}onWorkspaceChange(r){this.workspaceChangeListeners.push(r)}dispose(){}async triggerFileChange(r,n){for(let i of this.fileChangeListeners)await i(r,n)}async triggerWorkspaceChange(r,n){for(let i of this.workspaceChangeListeners)await i(r,n)}},tue=class extends Jb{constructor(r){super();this.ctx=r}static{s(this,"LspFileSearch")}async findFiles(r,n,i){return(await this.ctx.get(Yc).getWatchedFiles(n)).map(a=>this.ctx.get(Vr).getTextDocumentUnsafe(a)?.clientUri??a.uri)}};var rue=class extends Yb{static{s(this,"AgentMultiLanguageContextProviderFeatureLifecycle")}constructor(t){super(),this.agentMultiLanguageContextProvider=new nB(t),t.set(nB,this.agentMultiLanguageContextProvider)}get indexWatcher(){return this.agentMultiLanguageContextProvider?.multiLanguageContextIndexWatcher}async tryStart(t){}async dispose(){return super.dispose()}};function IQe(e){let t=e.get(yc),r=new Kb(t);e.set(Kb,r),e.set(Yb,new rue(e))}s(IQe,"setupMultiLanguageContextProviderFeature");d();d();d();var r1=new Map;r1.set("copilot",{app:"copilot-client",catalog_service:"CopilotCompletionsVSCode"});r1.set("copilot-intellij",{app:"copilot-intellij",catalog_service:"CopilotIntelliJ"});r1.set("copilot-xcode",{app:"copilot-xcode",catalog_service:"CopilotXcode"});r1.set("copilot-eclipse",{app:"copilot-eclipse",catalog_service:"CopilotEclipse"});r1.set("copilot.vim",{app:"copilot-vim",catalog_service:"CopilotVim"});r1.set("copilot-vs",{app:"copilot-vs",catalog_service:"CopilotVS"});var Y_t=new Gt("sdk");function hj(e,t){r1.has(e.get(gn).getEditorPluginInfo().name)||Y_t.warn(e,...t)}s(hj,"deprecationWarning");var _Ve=Ze(vue()),sp=Ze(Ah());d();d();d();var nn={ParseError:-32700,InvalidRequest:-32600,MethodNotFound:-32601,InvalidParams:-32602,InternalError:-32603,ServerNotInitialized:-32002,RequestCancelled:-32800,ContentModified:-32801,ServerCancelled:-32802,NoCopilotToken:1e3,DeviceFlowFailed:1001,CopilotNotAvailable:1002};var Cc=class extends Error{static{s(this,"SchemaValidationError")}constructor(t){super(pUe(t))}};function st(e,t){let r=ms.Compile(e);return async(n,i,o)=>{if(!r.Check(o)){let a=pUe(r.Errors(o));return[null,{code:nn.InvalidParams,message:a}]}return t(n,i,o)}}s(st,"addMethodHandlerValidation");function pUe(e){return`Schema validation failed with the following errors:
${Array.from(e).map(r=>`- ${r.path}: ${r.message}`).join(`
`)}`}s(pUe,"createErrorMessage");d();var bue=Ze(ii());d();var i1=class{constructor(t){this.ctx=t}static{s(this,"AbstractCommand")}};var wj="github.copilot.finishDeviceFlow",Eue=class extends i1{constructor(){super(...arguments);this.name=wj;this.arguments=I.Tuple([])}static{s(this,"FinishDeviceFlowCommand")}async handle(r,n){let i=this.ctx.get(kn).pendingSignIn;if(!i)throw new bue.ResponseError(nn.InvalidRequest,"No pending sign in");try{await this.ctx.get(lc).open(i.verificationUri)}catch(o){m0.warn(this.ctx,"Failed to open",i.verificationUri),m0.exception(this.ctx,o,wj)}try{return await i.status}catch(o){throw new bue.ResponseError(nn.DeviceFlowFailed,String(o))}finally{this.ctx.get(kn).pendingSignIn=void 0}}},gUe=[Eue];d();d();var ns=class extends un{static{s(this,"CopilotCompletionCache")}constructor(t=100){super(t)}};var fB="github.copilot.didAcceptCompletionItem",Iue=class extends i1{constructor(){super(...arguments);this.name=fB;this.arguments=I.Tuple([I.String({minLength:1})])}static{s(this,"DidAcceptCommand")}handle(r,[n]){let o=this.ctx.get(ns).get(n);return o?(pU(this.ctx,o),!0):!1}},AUe=[Iue];d();var jkt="github.copilot.didAcceptNextEditSuggestionItem",Tue=class extends i1{constructor(){super(...arguments);this.name=jkt;this.arguments=I.Tuple([I.String({minLength:1})])}static{s(this,"DidAcceptCommand")}async handle(r,[n]){return await this.ctx.get(Yh).handleAcceptance(n),!0}},yUe=[Tue];d();var _ue="github.copilot.didAcceptPanelCompletionItem",wue=class extends i1{constructor(){super(...arguments);this.name=_ue;this.arguments=I.Tuple([I.String({minLength:1})])}static{s(this,"DidAcceptPanelCompletionItemCommand")}handle(r,n){let[i]=n,a=this.ctx.get(ns).get(i);return a?(Gv(this.ctx,a.triggerCategory,a.insertText,a.offset,a.uri,a.telemetry,{compType:"full"},a.copilotAnnotations),!0):!1}},CUe=[wue];var Vkt=[...gUe,...AUe,...yUe,...CUe];function xUe(e,t){let r=new Map;for(let n of Vkt){let i=new n(e),o=ms.Compile(i.arguments);r.set(i.name,{typeCheck:o,command:i})}return t.onExecuteCommand((n,i)=>{let o=r.get(n.command);if(!o)throw new Error(`Unknown command: ${n.command}`);let a=m2(n.arguments??[]);if(a.length<o.command.arguments.minItems&&(a.length=o.command.arguments.minItems),o.typeCheck.Check(n.arguments))return o.command.handle(i,a);throw new Cc(o.typeCheck.Errors(n.arguments))}),[...r.keys()]}s(xUe,"registerCommands");d();var vUe=Ze(require("node:events"));var jf=class extends sv{constructor(r){super(new m8,new Map);this.emitters=new Map;this.envSettings=new Map;this.env={...r},this.setOverridesFromEnvironment()}static{s(this,"AgentConfigProvider")}setOverridesFromEnvironment(){["DebugOverrideEngine","DebugOverrideProxyUrl","DebugOverrideCapiUrl","DebugUseEditorFetcher","UseSubsetMatching","ExcludeOpenTabFilesCSharp","ExcludeOpenTabFilesCpp","FallbackToOpenTabFilesWithNoRelatedFiles"].forEach(n=>{for(let i of["AGENT_DEBUG_","GITHUB_COPILOT_","GH_COPILOT_"]){let o=`${i}${$kt(n.replace(/^Debug/,""))}`;o in this.env&&(this.envSettings.set(bt[n],this.env[o]),this.setConfig(bt[n],this.env[o]))}})}setConfig(r,n){super.setConfig(r,n??this.envSettings.get(r)),this.emitters.get(r)?.emit("change",n)}onConfigChange(r,n){this.emitters.has(r)||this.emitters.set(r,new vUe.default),this.emitters.get(r)?.on("change",n)}};function $kt(e){return e.replace(/([a-z])([A-Z]+)/g,"$1_$2").toUpperCase()}s($kt,"camelCaseToSnakeCaseAllCaps");var zkt="unknown-editor",bUe="unknown-editor-plugin",_j=class extends gn{static{s(this,"AgentEditorInfo")}setEditorAndPluginInfo(t,r,n=[]){this._editorInfo=r,this._editorPluginInfo=t,this._relatedPluginInfo=n}setCopilotIntegrationId(t){this._copilotIntegrationId=t}getEditorInfo(){return this._editorInfo?this._editorInfo:{name:zkt,version:"0"}}getEditorPluginInfo(){return this._editorPluginInfo?this._editorPluginInfo:{name:bUe,version:"0"}}getRelatedPluginInfo(){return this._relatedPluginInfo??[]}getCopilotIntegrationId(){return this._copilotIntegrationId}};function EUe(e){return e.getEditorPluginInfo().name!==bUe}s(EUe,"hasValidInfo");d();var TUe=require("node:events");var IUe="initialize",h2=class{constructor(){this.emitter=new TUe.EventEmitter;this.initialized=!1}static{s(this,"InitializedNotifier")}once(t){this.emitter.once(IUe,t)}emit(){if(this.initialized)throw new Error("Already initialized");this.initialized=!0,this.emitter.emit(IUe)}};d();var p2=Ze(Ah());var Ykt=new Map([[4,p2.MessageType.Log],[3,p2.MessageType.Info],[2,p2.MessageType.Warning],[1,p2.MessageType.Error]]),Sj=class extends Ha{static{s(this,"NotificationLogger")}logIt(t,r,n,...i){if(r==4&&!AU(t)&&n!=="console")return;let o={type:Ykt.get(r),message:iTe(n,...i)},a=t.get(Wr).connection;try{a.sendNotification(new p2.NotificationType("window/logMessage"),o)}catch(l){if(l instanceof p2.ConnectionError)return;throw l}}};d();var wUe=Ze(ul());var Rj=class{constructor(t,r=!1){this.ctx=t;this.codeSnippets=r}static{s(this,"RedirectTelemetryReporter")}get notificationName(){return this.codeSnippets?"codeSnippetTelemetry":"uedTelemetry"}sendTelemetryEvent(t,r,n){this.ctx.get(Wr).connection.sendNotification(new wUe.NotificationType(this.notificationName),{type:"event",name:t,properties:r||{},measurements:n||{}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(t,r,n)}dispose(){return Promise.resolve()}};async function _Ue(e){let t=e.get(Fs),r=t.deactivate();t.setReporter(new Rj(e)),t.setRestrictedReporter(new Rj(e,!0)),await r}s(_Ue,"setupRedirectingTelemetryReporters");d();d();var kj=class{static{s(this,"InstallationManager")}async startup(t){await this.isNewInstall(t)?(await this.markInstalled(t),this.handleInstall(t,await this.wasPreviouslyInstalled(t))):await this.isNewUpgrade(t)&&(await this.markUpgraded(t),this.handleUpgrade(t))}uninstall(t){return this.handleUninstall(t)}handleInstall(t,r){r?jt(t,"installed.reinstall"):jt(t,"installed.new")}handleUpgrade(t){jt(t,"installed.upgrade")}handleUninstall(t){jt(t,"uninstalled")}};var dB=Ze(vue());var cT=class extends kj{static{s(this,"AgentInstallationManager")}async isNewInstall(t){let r=t.get(gn).getEditorPluginInfo();return await t.get(yc).read("versions",r.name)===void 0&&!await this.hasPersistedSettings(t)}async hasPersistedSettings(t){return(await t.get(yc).listSettings()).length>0}async markInstalled(t){let r=t.get(gn).getEditorPluginInfo();await t.get(yc).update("versions",r.name,r.version)}wasPreviouslyInstalled(t){return Promise.resolve(!1)}async isNewUpgrade(t){try{let r=t.get(gn).getEditorPluginInfo(),n=await t.get(yc).read("versions",r.name);return n===void 0&&await this.hasPersistedSettings(t)?!0:(0,dB.gt)((0,dB.coerce)(r.version),(0,dB.coerce)(n))}catch{return!1}}async markUpgraded(t){await this.markInstalled(t)}async uninstall(t){await super.uninstall(t);let r=t.get(gn).getEditorPluginInfo();await t.get(yc).delete("versions",r.name),(await t.get(yc).listKeys("versions")).length===0&&await t.get(yc).deleteSetting("versions")}};d();var SUe=require("events"),Rue=Ze(require("path")),Bj=Ze(ul());var Sue="didChangeWatchedFiles",Kkt={watchedFiles:[],contentRestrictedFiles:[],unknownFileExtensions:[]},Jh=class e{constructor(t){this.ctx=t;this.emitter=new SUe.EventEmitter}static{s(this,"LspFileWatcher")}static{this.requestType=new Bj.ProtocolRequestType("copilot/watchedFiles")}get connection(){return this.ctx.get(Wr).connection}init(){this.ctx.get(Go).getCapabilities().watchedFiles&&this.connection.onNotification(Bj.DidChangeWatchedFilesNotification.type,r=>{"workspaceUri"in r&&typeof r.workspaceUri=="string"&&this.didChangeWatchedFilesHandler(r)})}async getWatchedFiles(t){if(!this.ctx.get(Go).getCapabilities().watchedFiles)return Kkt;let i=(await this.connection.sendRequest(e.requestType,t)).files,o=[],a=[],l=[];for(let c of i){typeof c=="object"&&(c=c.uri);let u=Rue.extname(c).toLowerCase();if(!q_.includes(u)){l.push({uri:c});continue}let f=await this.getValidDocument(c);if(f===void 0){a.push({uri:c});continue}o.push(f)}return{watchedFiles:o,contentRestrictedFiles:a,unknownFileExtensions:l}}onDidChangeWatchedFiles(t){this.emitter.on(Sue,t)}offDidChangeWatchedFiles(t){this.emitter.off(Sue,t)}async didChangeWatchedFilesHandler(t){let r=[],n=[],i=[];for(let o of t.changes){let a=o.uri,l={uri:a,isRestricted:!1,isUnknownFileExtension:!1},c=Rue.extname(o.uri).toLowerCase();if(!q_.includes(c))l.isUnknownFileExtension=!0;else{let u=await this.getValidDocument(a);u===void 0?l.isRestricted=!0:l.document=u}switch(o.type){case 1:n.push(l);break;case 2:r.push(l);break;case 3:i.push(l);break}}this.emitter.emit(Sue,{workspaceFolder:{uri:t.workspaceUri},created:n,changed:r,deleted:i})}async getValidDocument(t){let n=await this.ctx.get(On).getOrReadTextDocument({uri:t});return n.status==="valid"?n.document:void 0}};d();d();var Jkt=I.Object({uri:I.String({minLength:1})});async function Xkt(e,t,r){let n=await e.get(On).getOrReadTextDocument(r);return[{status:As(n),...n.status==="invalid"&&{reason:n.reason},...n.status==="notfound"&&{reason:n.message}},null]}s(Xkt,"handleCheckFileStatusChecked");var RUe=st(Jkt,Xkt);d();var Zkt=I.Object({options:I.Optional(I.Object({localChecksOnly:I.Optional(I.Boolean()),forceRefresh:I.Optional(I.Boolean())}))});async function eBt(e,t,r){return[await e.get(kn).checkAndUpdateStatus(e,r.options),null]}s(eBt,"handleCheckStatusChecked");var kUe=st(Zkt,eBt);d();d();d();d();d();d();function BUe(e){return e?e.filter(t=>t.type==="github.web-search").map(t=>t):[]}s(BUe,"filterUnsupportedReferences");function DUe(e){return e?e.filter(t=>t.type==="github.web-search"):[]}s(DUe,"convertToCopilotReferences");var PUe=I.Object({type:I.Literal("github.web-search"),id:I.String(),data:I.Object({query:I.String(),type:I.String(),results:I.Optional(I.Array(I.Object({title:I.String(),excerpt:I.String(),url:I.String()})))}),metadata:I.Optional(I.Object({display_name:I.Optional(I.String()),display_icon:I.Optional(I.String())}))});var c3=class{constructor(t){this.deltaApplier=t;this.appliedLength=0;this.appliedText="";this.appliedAnnotations=[]}static{s(this,"ConversationFinishCallback")}isFinishedAfter(t,r){let n=t.substring(this.appliedLength,t.length),o=this.mapAnnotations(r.annotations).filter(a=>!this.appliedAnnotations.includes(a.id));this.append(n,o,BUe(r.copilotReferences),r.copilotErrors??[],r.copilotConfirmation)}append(t,r,n,i,o){this.deltaApplier(t,r,n,i,o),this.appliedLength+=t.length,this.appliedText+=t,this.appliedAnnotations.push(...r.map(a=>a.id))}mapAnnotations(t){if(!t)return[];let r=[],n=t.for("CodeVulnerability").map(o=>({...o,type:"code_vulnerability"})),i=t.for("IPCodeCitations").map(o=>({...o,type:"ip_code_citations"}));return r.push(...n),r.push(...i),r}};d();var rl=class{static{s(this,"ConversationInspector")}};d();var kue={Unknown:-1,Default:0,ToolRoundExceedError:1e4};var ws=class{constructor(t){this.ctx=t;this.progressEntries=new un(250)}static{s(this,"ConversationProgress")}async begin(t,r,n){let i={status:"open",handler:n};this.progressEntries.set(t.id,i),await i.handler.begin(this.ctx,t,r)}async report(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&await i.handler.report(this.ctx,t,r,n)}async end(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&(this.progressEntries.set(t.id,{...i,status:"done",updatedAt:Date.now()}),await i.handler.end(this.ctx,t,r,n))}async cancel(t,r,n){let i=this.getProgressEntry(t);i.status==="open"&&(this.progressEntries.set(t.id,{...i,status:"cancelled",updatedAt:Date.now()}),await i.handler.cancel(this.ctx,t,r,n))}getProgressEntry(t){let r=this.progressEntries.get(t.id);if(r===void 0)throw new Error(`No work done token for conversation ${t.id}`);return r.status!=="open"&&Kr.error(this.ctx,`Work done token for conversation ${t.id} is already ${r.status}, last updated at ${r.updatedAt}`),r}};d();d();var o1=class{constructor(t){this.ctx=t;this.githubRepositoryInfoCache=new Map}static{s(this,"GitHubRepositoryApi")}async getRepositoryInfo(t,r){let n=this.githubRepositoryInfoCache.get(`${t}/${r}`);if(n)return n;let i=await this._doGetRepositoryInfo(t,r);if(i.ok){let o=await i.json();return this.githubRepositoryInfoCache.set(`${t}/${r}`,o),o}throw new Error(`Failed to fetch repository info for ${t}/${r}`)}async _doGetRepositoryInfo(t,r){let n=await this.ctx.get(en).getGitHubSession(),i={Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"};n&&(i.Authorization=`Bearer ${n.accessToken}`);let o=this.ctx.get(hs).getAPIUrl(`repos/${t}/${r}`);return this.ctx.get(fn).fetch(o,{method:"GET",headers:i})}async isAvailable(t,r){try{return(await this._doGetRepositoryInfo(t,r)).ok}catch{return!1}}};d();d();d();var LUe=Ze(Vf());var s1=class{constructor(t,r,n){this.doc=t;this.selection=r;this.visibleRange=n}static{s(this,"ElidableDocument")}fromSelectedCode(t){let r=this.getExpandedSelection(),n=r;if(t.trimNewLines){let o=this.doc.getText(r),a=o.match(/^\n*/)?.[0].length??0,l=o.match(/\n*$/)?.[0].length??0;n={start:this.getLineStart(r.start.line+a),end:this.expandLineToEnd(r.end.line-l)}}let i=new Yt([(0,LUe.default)(this.doc.getText(n)).trim()]);return[this.wrapInTicks(i),n]}fromAllCode(t){let r=this.getDocumentRange(),n=this.getExpandedSelection(),i;!this.visibleRange||!this.rangeContainedIn(this.visibleRange,n)?i=n:i={start:this.getLineStart(this.visibleRange.start.line),end:this.expandLineToEnd(this.visibleRange.end.line)};let o={start:r.start,end:i.start.line>0?this.expandLineToEnd(i.start.line-1):r.start},a={start:i.start,end:n.start.line>0&&n.start.line>i.start.line?this.expandLineToEnd(n.start.line-1):i.start},l={start:n.end.line<this.doc.lineCount-1&&n.end.line<i.end.line?this.getLineStart(n.end.line+1):i.end,end:i.end},c={start:i.end.line<this.doc.lineCount-1?this.getLineStart(i.end.line+1):r.end,end:r.end},u=[[o,.6],[a,.8],[n,1],[l,.4],[c,.2]],f=new Yt(u.filter(([m,h])=>!uT(m)||h===1).map(([m,h])=>{let p;return t.addLineNumbers?p=this.addLineNumbers(m):p=this.doc.getText(m),[h==1?p:cf(p),h]}));return this.wrapInTicks(f)}selectionIsDocument(){return this.rangeEquals(this.getExpandedSelection(),this.getDocumentRange())}selectionIsEmpty(){return this.selection==null||uT(this.selection)}getExpandedSelection(){return this.selection!==void 0?{start:this.getLineStart(this.selection.start.line),end:this.expandLineToEnd(this.selection.end.line)}:this.getDocumentRange()}getDocumentRange(){return{start:this.getLineStart(0),end:this.expandLineToEnd(this.doc.lineCount-1)}}getLineStart(t){return{line:t,character:0}}expandLineToEnd(t){return t>this.doc.lineCount-1&&(t=this.doc.lineCount-1),{line:t,character:this.doc.lineAt({line:t,character:0}).text.length}}rangeContainedIn(t,r){return t.start.line<=r.start.line&&t.end.line>=r.end.line}rangeEquals(t,r){return t.start.line==r.start.line&&t.end.line==r.end.line}wrapInTicks(t,r){return new Yt([["```"+this.doc.detectedLanguageId,1],[t,r??1],["```",1]])}addLineNumbers(t){let r=this.doc.getText(t).split(`
`),n=this.doc.lineCount.toString().length;return r.map((o,a)=>`${(t.start.line+a+1).toString().padEnd(n," ")}:${o}`).join(`
`)}};function uT(e){return e.start.line==e.end.line&&e.start.character==e.end.character}s(uT,"isEmptyRange");var FUe=Ze(require("path"));var MUe=I.Object({uri:I.String(),visibleRange:I.Optional(Ea),selection:I.Optional(Ea)}),Bue=class{constructor(t){this.turnContext=t}static{s(this,"CurrentEditorSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(On),n=await r.getOrReadTextDocument(t),i=As(n);if(await this.turnContext.collectFile(Zc,t.uri,i),n.status==="valid"){let o=this.turnContext.conversation.source==="inline",a=new s1(n.document,t.selection,t.visibleRange),l=r.getRelativePath(n.document);if(i==="empty")return new Yt([`The currently open file \`${l}\` is empty.`]);let c=[[`Code excerpt from the currently open file \`${l}\`:`,1],[a.fromAllCode({addLineNumbers:o}),1]],u=[];if(a.selectionIsDocument())u=[["The user is selecting the entire file.",1]];else if(o){let[f,m]=a.fromSelectedCode({trimNewLines:!0}),h=m.start.line+1;if(uT(m))u=[[`The user is selecting line ${h}, which is empty.`,1]];else{let p=m.end.line+1;u=[["The user is selecting"+(h==p?` line ${h}:`:` lines ${h} to ${p} (inclusive):`),1],[f,1]]}}else a.selectionIsEmpty()||(u=[["The user is selecting this code:",1],[a.fromSelectedCode({trimNewLines:!1})[0],1]]);return new Yt([...c,...u])}else if(n.status==="invalid")return new Yt([`The currently open file \`${FUe.basename(t.uri)}\` is content excluded.`])}},Zc="current-editor",Dj=class{constructor(t){this._resolver=t;this.id=Zc;this.type="explicit"}static{s(this,"CurrentEditorSkill")}description(){return"The code from the user's currently open file"}resolver(){return this._resolver}processor(t){return new Bue(t)}};d();d();var Al=class{constructor(){this.skills=[]}static{s(this,"ConversationSkillRegistry")}registerSkill(t){if(this.getSkill(t.id))throw new Error(`Skill with id '${t.id}' already registered`);this.skills.push(t)}getSkill(t){return this.skills.find(r=>r.id===t)}getDescriptors(){return[...this.skills]}},Due=class{constructor(t,r,n){this.delegate=t;this.stepId=r;this.stepTitle=n}static{s(this,"StepReportingSkillResolver")}async resolveSkill(t){await t.steps.start(this.stepId,this.stepTitle);try{let r=await this.delegate.resolveSkill(t);return r||await t.steps.finish(this.stepId),r}catch(r){throw await t.steps.error(this.stepId,r instanceof Error?r.message:`Error resolving ${this.stepTitle}`),r}}},Pue=class{constructor(t,r){this.delegate=t;this.stepId=r}static{s(this,"StepReportingSkillProcessor")}value(){return this.delegate.value()}async processSkill(t,r){try{let n=await this.delegate.processSkill(t,r);return await r.steps.finish(this.stepId),n}catch(n){throw await r.steps.error(this.stepId,n instanceof Error?n.message:`Error processing ${this.stepId}`),n}}},jl=class{constructor(t,r,n,i,o,a="explicit",l=[],c=()=>!0){this.id=t;this._description=r;this.stepTitle=n;this._resolver=i;this._processor=o;this.type=a;this._examples=l;this._isAvailable=c}static{s(this,"SingleStepReportingSkill")}description(){return this._description}examples(){return this._examples}isAvailable(t){return this._isAvailable(t)}resolver(t){return new Due(this._resolver(t),this.id,this.stepTitle)}processor(t){return new Pue(this._processor(t),this.id)}};var QUe=I.Object({name:I.String(),url:I.String()}),OUe=I.Object({path:I.String(),head:I.Optional(I.Object({name:I.String(),upstream:I.Optional(QUe)})),remotes:I.Optional(I.Array(QUe))}),Nue=class{constructor(t){this.turnContext=t}static{s(this,"GitMetadataSkillProcessor")}value(){return .8}processSkill(t){this.turnContext.collectLabel(a1,"git repository information");let r=[];return r.push([new Yt(["Metadata about the current git repository:"]),1]),t.head&&t.head.name?(r.push([new Yt([`- Current branch name: ${t.head.name}`]),1]),t.head.upstream&&r.push([new Yt([`- Upstream name and url: ${t.head.upstream.name} - ${t.head.upstream.url}`]),1])):r.push([new Yt(["- Detached HEAD: yes"]),1]),t.remotes&&t.remotes.length>0&&r.push([new Yt([`- Remotes: ${t.remotes.map(n=>n.name).join(", ")}`]),1]),new Yt(r)}},a1="git-metadata",Pj=class extends jl{static{s(this,"GitMetadataSkill")}constructor(t){super(a1,"Metadata about the current git repository, useful for questions about branch management and git related commands","Reading git information",()=>t,r=>new Nue(r))}};async function UUe(e){let t=await e.skillResolver.resolve(Zc);if(t){let a=t.uri,l=R5(e.ctx,a);if(Jxe(l))return{repoInfo:l,skillUsed:Zc}}let r=await e.skillResolver.resolve(a1);if(!r||!r.remotes||r.remotes.length===0){Kr.debug(e.ctx,"Git metadata skill is not available or no remotes available.");return}let i=r.remotes.find(a=>a.name==="origin")??r.remotes[0],o=nee(i.url);if(o)return{repoInfo:{baseFolder:{uri:r.path},url:i.url,...o},skillUsed:a1}}s(UUe,"extractRepoInfo");async function qUe(e){let t=[];return await tBt(e,t),await rBt(e,t),await nBt(e,t),t}s(qUe,"skillsToReference");async function tBt(e,t){let r=await iBt(e);r&&t.push(r)}s(tBt,"addRepositoryReference");async function rBt(e,t){let r=await oBt(e);r&&t.push(r)}s(rBt,"addSelectionReference");async function nBt(e,t){let r=[],n=await aBt(e);n&&r.push(n),r.push(...await lBt(e)),r.length>0&&t.push(...r)}s(nBt,"addFileReferences");async function iBt(e){let t=await UUe(e);if(t){let r=e.ctx.get(o1),n=t.repoInfo.owner,i=t.repoInfo.repo;if(await r.isAvailable(n,i))return{type:"github.repository",id:`${n}/${i}`,data:{type:"repository",name:i,ownerLogin:n,id:(await r.getRepositoryInfo(n,i)).id}}}}s(iBt,"gitMetadataToReference");async function oBt(e){let t=await e.skillResolver.resolve(Zc);if(t&&t.selection){let n=await e.ctx.get(On).getOrReadTextDocument(t),i=As(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i,t.selection),n.status==="valid")return sBt(t,n.document)}}s(oBt,"currentEditorToSelectionReference");function sBt(e,t){if(e.selection&&!uT(e.selection)){let r=t.getText(e.selection);return{type:"client.selection",id:e.uri,data:{start:{line:e.selection.start.line,col:e.selection.start.character},end:{line:e.selection.end.line,col:e.selection.end.character},content:r}}}}s(sBt,"extractSelection");async function aBt(e){let t=await e.skillResolver.resolve(Zc);if(t){let n=await e.ctx.get(On).getOrReadTextDocument(t),i=As(n);if(await e.collectFile(e.turn.agent.agentSlug,t.uri,i),n.status==="valid")return{type:"client.file",id:n.document.uri,data:{content:n.document.getText(),language:n.document.detectedLanguageId}}}}s(aBt,"currentEditorToFileReference");async function lBt(e){let t=[],r=e.turn.request.references;if(r&&r.length>0){let n=e.ctx.get(On);for(let i of r)if(i.type==="file"){let o=await n.getOrReadTextDocument(i),a=As(o);if(await e.collectFile(e.turn.agent.agentSlug,i.uri,a,i.selection),o.status==="valid"){let l=o.document.getText();t.push({type:"client.file",id:i.uri,data:{content:l,language:o.document.detectedLanguageId}})}}}return t}s(lBt,"fileReferenceToPlatformFileReference");d();d();d();d();var YUe=Ze(Fj()),Que=Ze(require("path"));var KUe=500,yBt=Math.floor(.25*KUe),Mj=class{static{s(this,"FixedSizeChunking")}async chunk(t,r){let n=[],i=Que.default.extname(__filename)===".ts"?Que.default.resolve(__dirname,"../../../../../../dist/main.js"):__filename;return n=await YUe.job(async({text:o,uri:a,tokenizerName:l,directory:c,chunkSize:u,overlap:f})=>{let h=await require(c).getTokenizerAsync(l),p=h.tokenize(o),g=p.length,y=[],x=0;for(;x<g;){let b=x+u>=g,E=b?g:x+u,_=p.slice(x,E),k=h.detokenize(_),B=o.indexOf(k);y.push({id:`${a.toString()}#${x}`,chunk:k,tokenCount:_.length,range:{start:B,end:B+k.length}}),x=b?E:E-f}return y},{data:{text:t.getText(),uri:t.uri.toString(),tokenizerName:r.tokenizer,directory:i,chunkSize:KUe,overlap:yBt}}),n}};var CBt="fixedSize",xBt=new Map([["fixedSize",Mj]]);function JUe(e){let t=e==="default"?CBt:e,r=xBt.get(t);if(!r)throw new Error(`Chunking constructor for type ${e} not found`);return r}s(JUe,"getChunkingAlgorithm");d();d();var Qj=Ze(t5()),g2=Ze(require("fs")),XUe=require("os"),Xh=Ze(require("path")),fT=require("process");var Oue=5e4,vBt=new Gt("workspaceChunks"),Oj=class e{constructor(t,r){this.ctx=t;this.pathHashLength=8;let n=Di(r.uri),i=(0,Qj.SHA256)(r.uri).toString().substring(0,this.pathHashLength);this.cacheRootPath=Xh.join(bBt(),"project-context",`${n}.${i}`)}static{s(this,"WorkspaceChunks")}static{this.CACHE_VERSION="1.0.0"}getChunksCacheFile(t){let r=(0,Qj.SHA256)(t).toString().substring(0,this.pathHashLength),n=Xh.basename(t);return Xh.join(this.cacheRootPath,`${n}.${r}.json`)}async getChunksCacheFromCacheFile(t){let r=await g2.promises.readFile(t,{encoding:"utf8"}).catch(()=>{});if(r)try{return JSON.parse(r)}catch{}}async getChunksCache(t){let r=this.getChunksCacheFile(t);return await this.getChunksCacheFromCacheFile(r)}async setChunksCache(t,r){let n=this.getChunksCacheFile(t);try{await g2.promises.mkdir(Xh.dirname(n),{recursive:!0}),await g2.promises.writeFile(n,JSON.stringify(r),{encoding:"utf8"})}catch(i){vBt.debug(this.ctx,"Failed to set chunks cache:",i)}}async removeChunksCache(t){let r=this.getChunksCacheFile(t);await g2.promises.rm(r).catch(()=>{})}async enumerateChunksCacheFileNames(){return await g2.promises.readdir(this.cacheRootPath).catch(()=>[])}async getFilesCount(){return(await this.enumerateChunksCacheFileNames()).length}async getChunksCount(){let t=0;for await(let r of this.getChunks())t++;return t++}async*getChunksForFile({uri:t}){let r=await this.getChunksCache(t);r!==void 0&&(yield*r.documentChunks)}async*getChunksFromCacheFile(t){let r=await this.getChunksCacheFromCacheFile(t);yield*r?r.documentChunks:[]}async*getChunks(t){if(t!==void 0)yield*this.getChunksForFile(t);else{let r=await this.enumerateChunksCacheFileNames();for(let n of r)yield*this.getChunksFromCacheFile(Xh.join(this.cacheRootPath,n))}}async getFileHash(t){let r=Xo(t),n="";return r&&(n=await g2.promises.readFile(r,{encoding:"utf8"}).catch(()=>"")),(0,Qj.SHA256)(n).toString()}async addChunks({uri:t},r){let n=await this.getFileHash(t),i=await this.getChunksCache(t);if(i!==void 0&&i.hash===n&&i.version===e.CACHE_VERSION)return;let o={version:e.CACHE_VERSION,filePath:t,hash:n,documentChunks:r};await this.setChunksCache(t,o)}async deleteChunksForSource(t){let r=cl(t),n=await this.getChunksCache(r);return n===void 0?[]:(await this.removeChunksCache(r),n.documentChunks)}async deleteChunks({uri:t}){let r=Xo(t);if(!r)return[];let n;try{n=await g2.promises.readdir(r)}catch{return await this.deleteChunksForSource(r)}let i=[];for(let o of n){let a=cl(Xh.join(r,o));i.push(...await this.deleteChunks({uri:a}))}return i}async clear(){await g2.promises.rm(this.cacheRootPath,{recursive:!0}).catch(()=>{})}};function bBt(){return fT.env.XDG_CACHE_HOME&&Xh.isAbsolute(fT.env.XDG_CACHE_HOME)?fT.env.XDG_CACHE_HOME+"/github-copilot":(0,XUe.platform)()==="win32"?fT.env.USERPROFILE+"\\AppData\\Local\\Temp\\github-copilot":fT.env.HOME+"/.cache/github-copilot"}s(bBt,"getXdgCachePath");var Uue=1e4;var Uj=class{constructor(t,r,n){this.workspaceFolder=r;this.implementation=n;this._chunkLimiter=new Wue;this.status="notStarted",this.workspaceChunks=new Oj(t,r),this.cancellationToken=new que,this._chunkingTimeMs=0,this._fileCountExceeded=!1,this._chunkCountExceeded=!1,this._totalFileCount=0,this._filesUpdated=new Set}static{s(this,"ChunkingHandler")}async chunk(t,r){return r?await this.chunkFiles(t,r):await this.chunkWorkspace(t)}async chunkWorkspace(t){let r=performance.now();if(this.status="started",this.cancellationToken.isCancelled())return this.status="cancelled",this.updateChunkingTime(r,performance.now()),this.workspaceChunks.getChunks();await this.updateModelConfig(t);let n=await t.get(Yc).getWatchedFiles(this.workspaceFolder);this._totalFileCount=n.length,n.length>Uue&&(this._fileCountExceeded=!0,n=n.slice(0,Uue));let i=n.map(async o=>{this.cancellationToken.isCancelled()||await this._chunkLimiter.queue(()=>this._chunk(t,o))});try{await Promise.all(i)}catch(o){Ia(t,o,"ChunkingProvider.chunk"),this.terminateChunking()}return this.status=this.cancellationToken.isCancelled()?"cancelled":"completed",this.updateChunkingTime(r,performance.now()),await this.workspaceChunks.getChunksCount()>Oue&&(this._chunkCountExceeded=!0),this.workspaceChunks.getChunks()}async chunkFiles(t,r){await this.updateModelConfig(t);let n=r.map(async i=>{this.cancellationToken.isCancelled()||(this._filesUpdated.add(i.uri),await this._chunkLimiter.queue(()=>this._chunk(t,i)))});try{await Promise.all(n)}catch(i){Ia(t,i,"ChunkingProvider.chunkFiles"),this.terminateChunking()}return await this.workspaceChunks.getChunksCount()>Oue&&(this._chunkCountExceeded=!0),await this.workspaceChunks.getFilesCount()>Uue&&(this._fileCountExceeded=!0),n8e(...r.map(i=>this.workspaceChunks.getChunks(i)))}async _chunk(t,r){if(this.cancellationToken.isCancelled())return;let n=await this.implementation.chunk(r,this.modelConfig);await this.workspaceChunks.addChunks(r,n)}async updateModelConfig(t){this.modelConfig||(this.modelConfig=await Co.getModelConfiguration(t,"user"))}terminateChunking(){this.cancellationToken.cancel()}async clearChunks(){await this.workspaceChunks.clear()}updateChunkingTime(t,r){this._chunkingTimeMs=r-t}get chunkingTimeMs(){return Math.floor(this._chunkingTimeMs)}get fileCountExceeded(){return this._fileCountExceeded}get totalFileCount(){return this._totalFileCount}get chunkCountExceeded(){return this._chunkCountExceeded}get filesUpdatedCount(){return this._filesUpdated.size}async getFilesCount(){return this.workspaceChunks.getFilesCount()}getChunks(){return this.workspaceChunks.getChunks()}async getChunksCount(){return this.workspaceChunks.getChunksCount()}deleteSubfolderChunks(t){return this.workspaceChunks.deleteChunks({uri:t})}deleteFileChunks(t){return this._filesUpdated.add(t),this.workspaceChunks.deleteChunks({uri:t})}},que=class{constructor(){this.cancelled=!1}static{s(this,"ChunkingCancellationToken")}cancel(){this.cancelled=!0}isCancelled(){return this.cancelled}},Wue=class{constructor(t=20){this.maxCount=t;this.tasks=[];this.runningTasks=0}static{s(this,"Limiter")}async queue(t){return new Promise((r,n)=>{this.tasks.push({factory:t,resolve:r,reject:n}),this.consume()})}consume(){for(;this.tasks.length>0&&this.runningTasks<=this.maxCount;){let{factory:t,resolve:r,reject:n}=this.tasks.shift();this.runningTasks++;let i=t();i.then(r,n),i.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this.runningTasks--,this.consume()}};var ha=class{constructor(t){this.ctx=t;this.workspaceChunkingProviders=new Map}static{s(this,"ChunkingProvider")}get workspaceCount(){return this.workspaceChunkingProviders.size}createImplementation(t,r){let n=JUe(r),i=new n;return new Uj(this.ctx,t,i)}getImplementation(t,r="default"){let n=this.getParentFolder(t);if(n)return this.workspaceChunkingProviders.get(n.uri);let i=this.workspaceChunkingProviders.get(t.uri);return i||(i=this.createImplementation(t,r),this.workspaceChunkingProviders.set(t.uri,i)),i}getParentFolder(t){let r=[];for(let n of this.workspaceChunkingProviders.values())r.push(n.workspaceFolder);return r.find(n=>{let i=n.uri.replace(/[#?].*/,"").replace(/\/?$/,"/");return t.uri!==n.uri&&t.uri.startsWith(i)})}status(t){return this.getImplementation(t).status}checkLimits(t){let r=this.getImplementation(t);return{fileCountExceeded:r.fileCountExceeded,chunkCountExceeded:r.chunkCountExceeded}}fileCount(t){return this.getImplementation(t).getFilesCount()}chunkCount(t){return this.getImplementation(t).getChunksCount()}chunkingTimeMs(t){return this.getImplementation(t).chunkingTimeMs}getChunks(t){return this.getImplementation(t).getChunks()}terminateChunking(t,r){let n=this.getImplementation(r);n.terminateChunking();let o=dn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:n.filesUpdatedCount});jt(t,"index.terminate",o),this.workspaceChunkingProviders.delete(r.uri)}async clearChunks(t,r){this.terminateChunking(t,r),await this.getImplementation(r).clearChunks()}async deleteSubfolderChunks(t,r){return await this.getImplementation(t).deleteSubfolderChunks(r.uri)}async deleteFileChunks(t,r){let n=this.getImplementation(t),i=[];Array.isArray(r)||(r=[r]);for(let o of r)i.push(...await n.deleteFileChunks(o));return i}async chunk(t,r,n,i){let o;return n&&(Array.isArray(n)?o=n:i=n),i||(i="default"),o?await this.chunkFiles(t,r,o,i):await this.chunkFolder(t,r,i)}async chunkFolder(t,r,n="default"){let i=this.getImplementation(r,n),o=await i.chunk(t),l=dn.createAndMarkAsIssued().extendedBy(void 0,{fileCount:i.totalFileCount,chunkCount:await i.getChunksCount(),timeTakenMs:i.chunkingTimeMs,workspaceCount:this.workspaceCount});return jt(t,"index.chunk",l),o}async chunkFiles(t,r,n,i="default"){return await this.getImplementation(r,i).chunk(t,n)}};d();d();d();d();d();function Wj(e){switch(e){case"Agent":return"Agent";case"Ask":default:return"Ask"}}s(Wj,"toChatModeEnum");var u3=class{constructor(t,r){this.request=t;this.telemetryId=_r();this.timestamp=Date.now();this.status="in-progress";this.skills=[];this.ignoredSkills=[];this.annotations=[];this.id=r??this.telemetryId}static{s(this,"Turn")}},qj=class e{constructor(t=[],r="panel",n="en",i){this.turns=t;this.source=r;this.userLanguage=n;this._telemetryId=_r();this._timestamp=Date.now();this.id=i??this.telemetryId}static{s(this,"Conversation")}copy(){let t=JSON.parse(JSON.stringify(this.turns)),r=new e(t,this.source,this.userLanguage,this.id);return r._telemetryId=this.telemetryId,r._timestamp=this.timestamp,r}get telemetryId(){return this._telemetryId}get timestamp(){return this._timestamp}addTurn(t){this.turns.push(t)}deleteTurn(t){this.turns=this.turns.filter(r=>r.id!==t)}getLastTurn(){return this.turns[this.turns.length-1]}findTurn(t){return this.turns.find(r=>r.id===t)}};d();d();d();var ZUe={id:0,start_offset:0,stop_offset:0,type:"ip_code_citations",details:{},citations:{snippet:`html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canvas Example</title>
<`,url:"https://github.com/duonghle285/gnoud9x.github.io/tree/c95127bc5b7a491d9223f21ac3b8c5100996e754/26062020-vehinhchunhat%2Findex.html",ip_type:"LICENSE",license:"NOASSERTION"}},eqe="Alright, This response contains a code citation.";d();var tqe=`
# Should render

## Links
Links should render. However, if a user clicks on the link, it should open a confirmation dialog before navigating to the link. 

markdown:

[GitHub Copilot](https://copilot.github.com)

html:

<a href="https://copilot.github.com">GitHub Copilot</a>

## Images
The following images do come from one of these sources and should render:

- \`raw.githubusercontent.com/\`
- \`private-user-images.githubusercontent.com/\`
- \`avatars.githubusercontent.com\`
- \`gist.github.com/assets/\`


markdown:

![logo](https://avatars.githubusercontent.com/u/147005046?v=4)

html:

<img src="https://avatars.githubusercontent.com/u/147005046?v=4" alt="logo"/>

## Headers

markdown:

# Header 1
## Header 2
### Header 3
#### Header 4
##### Header 5
###### Header 6

html:

<h1>Header 1</h1>
<h2>Header 2</h2>
<h3>Header 3</h3>
<h4>Header 4</h4>
<h5>Header 5</h5>
<h6>Header 6</h6>

## Paragraphs

html:

<p>This is a paragraph.</p>

## Bold

markdown:

**bold text**

html:

<strong>bold text</strong>

## Italic

markdown:

_italic text_

html:

<i>italic text</i>

## Codeblock

markdown:

\`\`\`javascript
console.log('Hello, World!');
\`\`\`

html:

<code>console.log('Hello, World!');</code>

## Unordered List

markdown:

- item 1
- item 2
- item 3

html:

<ul>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ul>

## Ordered List

markdown:

1. item 1
2. item 2
3. item 3

html:

<ol>
  <li>item 1</li>
  <li>item 2</li>
  <li>item 3</li>
</ol>

## Table

markdown:

| Header 1 | Header 2 | Header 3 |
|----------|----------|----------|
| cell 1   | cell 2   | cell 3   |
| cell 4   | cell 5   | cell 6   |

html:

<table>
    <thead>
        <tr>
            <th>Header 1</th>
            <th>Header 2</th>
            <th>Header 3</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>cell 1</td>
            <td>cell 2</td>
            <td>cell 3</td>
        </tr>
        <tr>
            <td>cell 4</td>
            <td>cell 5</td>
            <td>cell 6</td>
        </tr>
    </tbody>
</table>

## Blockquote

markdown:

> This is a blockquote.

html:

<blockquote>This is a blockquote.</blockquote>


# Should not render

## html tags
Unsupported tags like \`<div>\` should not render but should be escaped. This code:

\`\`\`html
<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

should be rendered as:

\`\`\`html
<div>
* Foo
<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/>
\`\`\`

code:

<div><ul><li>Foo</li></ul><img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="20"/></div>

## images
The following images do *not* come from one of the trusted domains and should not render.

markdown:

![productivity](https://github.com/images/modules/site/copilot/productivity-bg-head.png)

html:

<img src="https://github.com/images/modules/site/copilot/productivity-bg-head.png" alt="productivity" width="100"/>

## Invisible characters

### Inline styles
Styled elements should not be rendered styled. This may trick the user to think elements are actually IDE controls

<p style="color: red;">This is an <span style="display: none;">harmfully</span> styled text!</p>

### html attributes
Only img src/alt and a href attributes should make it to the dom. 

The following paragraph should not render the \`id\` attribute in the dom.

<p id="foo">This is a paragraph with an id</p>
`;d();d();var rqe=Ze(require("fs")),P0=Ze(require("path"));var Gue=[".test",".spec","_test","Test","_spec","_test","Tests",".Tests","Spec"],Hue="test_",pB={js:{suffix:[".test",".spec"],location:"sameFolder"},ts:{suffix:[".test",".spec"],location:"sameFolder"},go:{suffix:["_test"],location:"sameFolder"},java:{suffix:["Test"],location:"testFolder"},php:{suffix:["Test"],location:"testFolder"},dart:{suffix:["_test"],location:"testFolder"},cs:{suffix:["Test"],location:"testFolder"},rb:{suffix:["_test","_spec"],location:"testFolder"},py:{prefix:"test_",location:"testFolder"},ps1:{suffix:[".Tests"],location:"testFolder"},kt:{suffix:["Test"],location:"testFolder"}},gB=class{constructor(t,r,n=void 0){this.ctx=t;this.fileExists=r;this.baseUri=n}static{s(this,"TestFileFinder")}async findTestFileForSourceFile(t){let r=Di(t),n=P0.extname(r).replace(".",""),i=pB[n]??{location:"sameFolder",prefix:Hue,suffix:Gue},o=[];if(i.prefix&&o.push(i.prefix+r),i.suffix)for(let u of i.suffix??[]){let f=r.replace(`.${n}`,u+"."+n);o.push(f)}let a=i.location??"sameFolder",l;if(a==="sameFolder"){if(l=Xo(rf(t)),l===void 0)return}else{let u=Xo(t);if(u===void 0)return;l=this.determineTestFolder(u,a)}for(let u of o){let f=P0.join(l,u),m=this.parseTestFilePath(f);if(m&&await this.fileExists(m))return m}let c=cl(l);if(await this.fileExists(c))return Do(c,o[0])}parseTestFilePath(t){try{return cl(t)}catch(r){Wn.error(this.ctx,`Failed to parse test file path: ${t}`,r);return}}async findImplFileForTestFile(t){let r=Di(t),n=P0.extname(r).replace(".",""),i=pB[n]??{location:"sameFolder",prefix:Hue,suffix:Gue},o=[];if(i.prefix&&o.push(r.substring(i.prefix.length)),i.suffix)for(let c of i.suffix??[]){let f=r.substring(0,r.length-c.length-1-n.length)+"."+n;o.push(f)}let a=i.location??"sameFolder",l;a==="sameFolder"?l=rf(t):l=this.determineImplFolder(t);for(let c of o){let u=Do(l,c);if(await this.fileExists(u))return u}}findExampleTestFile(t){let r=Xo(t);if(r===void 0)return;let n=P0.extname(Di(t)).replace(".",""),i,o=pB[n]?.location??"sameFolder";o==="sameFolder"?i=P0.dirname(r):i=this.determineTestFolder(r,o);let a=this.findFiles(i,`.${n}`,pB[n]);if(a.length>0)return cl(a[0])}findFiles(t,r,n){let i=this._readdir(t),o=[];for(let a of i){let l=`${t}${P0.sep}${a}`;n?.prefix&&a.startsWith(n.prefix)&&o.push(l),n?.suffix&&n?.suffix.some(c=>a.endsWith(c+r))&&o.push(l)}return o}_readdir(t){return rqe.readdirSync(t,{withFileTypes:!0}).filter(r=>r.isFile()).map(r=>r.name)}determineTestFolder(t,r){let n=(this.baseUri&&Xo(this.baseUri))??"",i=P0.extname(t).replace(".",""),o=this.getRelativeTestFolder(t,n,i,r);return[n,...o].filter(a=>a).join(P0.sep)}getRelativeTestFolder(t,r,n,i){let o=P0.dirname(t).replace(r,"");switch(n){case"php":case"dart":case"py":return["tests"];case"ps1":return["Tests"];case"rb":return["test",o];case"cs":return[o.replace("src","src/tests")];case"java":case"scala":case"kt":return[o.replace(/src[\\/]main/,"src/test")];default:return i==="testFolder"?[o.replace("src","test")]:[o]}}determineImplFolder(t){let r=P0.extname(Di(t)).replace(".",""),n=rf(t);switch(r){case"php":case"dart":case"py":return n.replace("tests","src");case"ps1":return n.replace("Tests","src");case"rb":return n.replace("/test","");case"cs":return n.replace("src/tests","src");case"java":case"scala":case"kt":return n.replace("src/test","src/main");default:return n.replace("test/","src/")}}};function AB(e){let t=Di(e),r=P0.extname(t),n=pB[r.replace(".","")];return n?!(n.suffix&&!n.suffix.some(o=>t.endsWith(o+r))||n.prefix&&!t.startsWith(n.prefix)):!!(Gue.some(o=>t.endsWith(o+r))||t.startsWith(Hue))}s(AB,"isTestFile");d();var nqe=["indexed","indexing","not_indexed"],f3=class{constructor(){this._cache=new un(100)}static{s(this,"BlackbirdIndexingStatus")}async queryIndexingStatus(t,r,n){let i=t.ctx;if(!n)return!1;let o=`repos/${r}/copilot_internal/embeddings_index`,a=await ch(i,n,o);return a.ok?(await a.json()).semantic_code_search_ok:!1}isValid(t){return t!==void 0&&Date.now()-t.timestamp<30*60*1e3}async isRepoIndexed(t,r,n,i=!1){let o=mA(r);if(!o)return!1;let a=this._cache.get(o);if(!i&&this.isValid(a))return a.status;let l=await this.queryIndexingStatus(t,o,n);return this._cache.set(o,{status:l,timestamp:Date.now()}),l}get cache(){return this._cache}};d();d();d();async function iqe(e,t,r,n){let i=lo(t.tokenizer),o=r.filter(m=>i.tokenLength(m.text)<t.maxTokens);if(o.length===0)return;let a=[],l=await e.get(en).getToken(),c=s8(e,l,"embeddings"),u=l.token,f=0;for(;f<o.length&&!n.isCancellationRequested;){let m=o.slice(f,f+t.maxBatchSize),h=await EBt(e,c,u,t.modelId,m,n);a.push(...h||[]),f+=t.maxBatchSize}return a.length?a:void 0}s(iqe,"fetchEmbeddings");async function EBt(e,t,r,n,i,o){let a=_r(),l=i.map(u=>u.text),c=await Px(e,t,r,void 0,a,{input:l,model:n,dimensions:1024},o,T5(e));if(c.status!==200||o.isCancellationRequested){Ia(e,new A2(`Failed to request dense embeddings, status: ${c.status}`),"LocalSnippetProvider.fetchEmbeddings");return}try{return(await c.json()).data.map(f=>({id:i[f.index].id,embedding:f.embedding}))}catch{return}}s(EBt,"sendEmbeddingsRequest");d();d();var Gj=class{static{s(this,"CosineSimilarityScoring")}score(t,r){let n=Math.sqrt(t.reduce((a,l)=>a+l*l,0)),i=Math.sqrt(r.reduce((a,l)=>a+l*l,0));return t.reduce((a,l,c)=>a+l*r[c],0)/(n*i)}terminateScoring(){}};var IBt="cosine",TBt=new Map([["cosine",Gj]]);function oqe(e){let t=e==="default"?IBt:e,r=TBt.get(t);if(!r)throw new Error(`Scoring constructor for type ${e} not found`);return r}s(oqe,"getScoringAlgorithm");d();var $f=class{constructor(){this.workspaceScoringProviders=new un(25)}static{s(this,"ScoringProvider")}createImplementation(t,r){let n=oqe(r);return new n}getImplementation(t,r,n="default"){let i=this.workspaceScoringProviders.get(r.uri);return i||(i=this.createImplementation(t,n),this.workspaceScoringProviders.set(r.uri,i)),i}score(t,r,n,i,o){return this.getImplementation(t,r,o).score(n,i)}terminateScoring(t,r,n){this.getImplementation(t,r,n).terminateScoring(),this.workspaceScoringProviders.delete(r.uri)}};var sqe={modelFamily:wF.textEmbedding3Small,scoringType:"default",dimensions:null};async function aqe(e,t,r,n,i,o,a,l=sqe){let c={...sqe,...l},u=_Bt(e,t,r,n);Kr.debug(e,`EmbeddingsReranker: Reranking ${u.length} snippets (includes the user query)`);let f=await e.get(ua).getFirstMatchingEmbeddingModelConfiguration(c.modelFamily);if(f===void 0)throw new Error(`EmbeddingsReranker: Model configuration not found for ${c.modelFamily}`);let m=performance.now(),h=await iqe(e,f,u,o),p=performance.now();if(a.embeddingsTimeMs=Math.floor(p-m),h===void 0||h.length===0)return[];let g=h.findIndex(B=>B.id==="userQuery");if(g===void 0)return[];let y=h.splice(g,1)[0];if(o.isCancellationRequested)return[];let x=performance.now(),b=SBt(e,t,h,y,c.scoringType),E=performance.now();a.rerankingTimeMs=Math.floor(E-x);let _=b.slice(0,i);return Kr.debug(e,`EmbeddingsReranker: Returning ${_.length} snippets`),_.map(B=>u.find(N=>N.id===B.id).id)}s(aqe,"rerankSnippets");function _Bt(e,t,r,n){let i=n.map(o=>({id:o.id,text:o.chunk.toLowerCase()}));return i.push({id:"userQuery",text:r.toLowerCase()}),i}s(_Bt,"formatEmbeddingsInput");function SBt(e,t,r,n,i){let o=e.get($f);return r.map(l=>({id:l.id,score:o.score(e,t,n.embedding,l.embedding,i)})).sort((l,c)=>c.score-l.score)}s(SBt,"scoreEmbeddings");d();d();d();var Vue=Ze(Fj());var RBt=.75,kBt=1.2,BBt=47,Hj=class{constructor(t,r){this.ctx=t;this.workspaceFolder=r;this.chunksCount=0;this.sumTokenCount=0;this.status="notStarted"}static{s(this,"BM25Ranking")}get avgTokenCount(){return this.sumTokenCount/this.chunksCount}async initialize(t){this.sumTokenCount=0,this.chunksCount=0;for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++;this.status="completed"}async addChunks(t){for await(let r of t)this.sumTokenCount+=r.tokenCount,this.chunksCount++}async query(t){let r=await jj();try{return await this.doQuery(t)}finally{await r.stopWorkerPool()}}async doQuery(t){let r=t.map(l=>l.toLowerCase()),n=await this.calculateIDFValues(r),i=Math.min(10*t.length,BBt),o=Math.min(i,this.chunksCount);return await this.calculateBM25Scores(r,this.avgTokenCount,n,o)}async calculateIDFValues(t){let r=this.ctx.get(ha).getChunks(this.workspaceFolder),n=bA(r,o=>({...o,chunk:o.chunk.toLowerCase()})),i=bA(n,o=>o.chunk);return await DBt(t,i)}async calculateBM25Scores(t,r,n,i){let o=this.ctx.get(ha).getChunks(this.workspaceFolder),a=new jue(i);for await(let l of o){let c=await PBt({...l,chunk:l.chunk.toLowerCase()},t,r,n);a.add({...c,chunk:l.chunk})}return a.toArray(.75)}deleteEmbeddings(t){this.chunksCount-=t.length,this.sumTokenCount-=t.reduce((r,n)=>r+n.tokenCount,0)}terminateRanking(){}};async function DBt(e,t){let r=new SharedArrayBuffer(e.length*Int32Array.BYTES_PER_ELEMENT),n=new Int32Array(r),i=[],o=0;for await(let c of t){o++;let u=Vue.job(({snippet:f,keywords:m})=>m.map(p=>f.includes(p)?1:0),{data:{snippet:c,keywords:e}}).then(f=>{for(let m=0;m<e.length;m++)Atomics.add(n,m,f[m])});i.push(u)}await Promise.all(i);let a=new Int32Array(r),l={};for(let c=0;c<e.length;c++)l[e[c]]=Math.log((o-a[c]+.5)/(a[c]+.5)+1);return l}s(DBt,"calculateIDFValues");async function PBt(e,t,r,n){return{score:await Vue.job(({keywords:o,document:a,docLength:l,avgTokenCount:c,idfValues:u,k1:f,b:m})=>{let h=0;for(let p of o){let g=u[p],y=(a.match(new RegExp(p,"g"))||[]).length,x=g*(y*(f+1)),b=y+f*(1-m+m*l/c);h+=x/b}return h},{data:{document:e.chunk,docLength:e.tokenCount,keywords:t,avgTokenCount:r,idfValues:n,k1:kBt,b:RBt}}),...e}}s(PBt,"calculateBM25Score");var jue=class{constructor(t,r=-1/0){this.maxSize=t;this.minScore=r;this.store=[]}static{s(this,"SimpleHeap")}toArray(t){if(this.store.length&&typeof t=="number"){let r=this.store.at(0).score*(1-t);return this.store.filter(n=>n.score>=r)}return this.store}add(t){if(t.score<=this.minScore)return;let r=this.store.findIndex(n=>n.score<t.score);for(this.store.splice(r>=0?r:this.store.length,0,t);this.store.length>this.maxSize;)this.store.pop();this.store.length===this.maxSize&&(this.minScore=this.store.at(-1)?.score??this.minScore)}};var LBt="bm25",FBt=new Map([["bm25",Hj]]);function lqe(e){let t=e==="default"?LBt:e,r=FBt.get(t);if(!r)throw new Error(`Ranking constructor for type ${e} not found`);return r}s(lqe,"getRankingAlgorithm");var xc=class{constructor(){this.workspaceRankingProviders=new un(25)}static{s(this,"RankingProvider")}createImplementation(t,r,n){let i=lqe(n);return new i(t,r)}getImplementation(t,r,n="default"){let i=this.workspaceRankingProviders.get(r.uri);return i||(i=this.createImplementation(t,r,n),this.workspaceRankingProviders.set(r.uri,i)),i}status(t,r,n){return this.getImplementation(t,r,n).status}async initialize(t,r,n,i="default"){await this.getImplementation(t,r,i).initialize(n)}async addChunks(t,r,n,i="default"){await this.getImplementation(t,r,i).addChunks(n)}async query(t,r,n,i){return this.getImplementation(t,r,i).query(n)}async terminateRanking(t,r,n){await this.getImplementation(t,r,n).terminateRanking(),this.workspaceRankingProviders.delete(r.uri)}deleteEmbeddings(t,r,n,i){return this.getImplementation(t,r,i).deleteEmbeddings(n)}};d();async function cqe(e,t){let r=e.ctx,n=await Co.getModelConfiguration(r,"synonyms",void 0,{tool_calls:!0}),i={promptType:"synonyms",modelConfiguration:n},o=await r.get(vc).toPrompt(e,i);if(!o.toolConfig)return;let a={modelConfiguration:n,uiKind:"conversationPanel",messages:o.messages,tools:o.toolConfig?.tools,tool_choice:o.toolConfig?.tool_choice,llmInteraction:e.toLlmInteraction()},l=new Ba(r),c=await fc(r,e),u=await l.fetchResponse(a,t,c.extendedBy({messageSource:"chat.synonyms"}));if(u.type==="success"&&u.toolCalls&&u.toolCalls.length>0){let f=u.toolCalls[0],m=o.toolConfig?.extractArguments(f).keywords;return!m||!Array.isArray(m)?void 0:(Kr.debug(r,`UserQueryParser: Parsed ${m.length} keywords from the original user query: ${m.join(", ")}`),m.length?m:void 0)}else{let f="reason"in u?u.reason:"";Ia(r,new A2(`Failed to request user query synonyms, result type: ${u.type}, reason: ${f}`),"LocalSnippetProvider.parseUserQuery")}}s(cqe,"parseUserQuery");var uqe=Ze(Vf());var A2=class extends Error{static{s(this,"LocalSnippetProviderError")}constructor(t){super(String(t),{cause:t}),this.name="LocalSnippetProviderError"}},Vj=class{constructor(){this.providerType="local"}static{s(this,"LocalSnippetProvider")}snippetProviderStatus(t,r){if(!t.turn.workspaceFolder)return Promise.resolve("not_indexed");r===void 0&&(r=!0);let n=t.ctx,i=n.get(ha),o=i.status(t.turn.workspaceFolder),a=n.get(xc),l=a.status(n,t.turn.workspaceFolder);if(o==="completed"&&l==="completed")return Promise.resolve("indexed");if(o==="started"||l==="started")return Promise.resolve("indexing");if(r){let c=t.turn.workspaceFolder;if(o==="notStarted")return Promise.race([i.chunk(n,c).then(u=>{if(i.status(c)==="completed")return a.initialize(n,c,u)}).then(()=>this.snippetProviderStatus(t,!1)),new Promise(u=>setTimeout(()=>u("not_indexed"),1e3))]);if(l==="notStarted"){let u=i.getChunks(c);return Promise.race([a.initialize(n,c,u).then(()=>this.snippetProviderStatus(t,!1)),new Promise(f=>setTimeout(()=>f("not_indexed"),1e3))])}}return Promise.resolve("not_indexed")}async collectLocalSnippets(t,r){let n=t.turn.workspaceFolder;if(!n)return[];let i=t.ctx,a=await i.get(ha).chunkCount(n);if(a===0)return[];r.chunkCount=a;let l,c=performance.now();try{l=await cqe(t,t.cancelationToken)}catch(g){let y=new A2(g);Ia(i,y,"LocalSnippetProvider.parseUserQuery")}let u=performance.now();if(r.synonymTimeMs=Math.floor(u-c),l===void 0)return[];let f=i.get(xc),m=[],h=performance.now();try{let g=await f.query(i,n,l);r.localSnippetCount=g.length,m=g}catch(g){let y=new A2(g);Ia(i,y,"LocalSnippetProvider.rankingQuery")}let p=performance.now();return r.rankingTimeMs=Math.floor(p-h),m}async rerankLocalSnippets(t,r,n){let i=t.turn.workspaceFolder;if(!i)return[];let o=t.ctx,a=ln(t.turn.request.message),l=[];try{l=await aqe(o,i,a,r,5,t.cancelationToken,n)}catch(f){let m=new A2(f);Ia(o,m,"LocalSnippetProvider.rerankSnippets")}let c=[],u=o.get(On);for(let f of l){let m=f.split("#")[0],h=await u.getOrReadTextDocument({uri:m}),p=r.find(g=>g.id===f);if(h.status==="valid"){let g=h.document.positionAt(p.range.start),y=h.document.positionAt(p.range.end),x=No.range(g,y);c.push({uri:h.document.uri,range:x,snippet:p.chunk})}}return c}async provideSnippets(t){let r=this.collectInfoMessage(t);r&&await t.info(r);let n={...l8e},i=await this.collectLocalSnippets(t,n);if(i.length===0)return{snippets:[],measurements:n};let o=t.ctx;return Kr.debug(o,`LocalSnippetProvider: First pass: Found ${i.length} snippets.`),{snippets:await this.rerankLocalSnippets(t,i,n),measurements:n}}collectInfoMessage(t){let r=t.turn.workspaceFolder;if(!r)return;let o=t.ctx.get(ha).checkLimits(r);if(o.fileCountExceeded||o.chunkCountExceeded)return uqe.default`
Copilot has partially indexed this project as it exceeds the file limit. As a result, responses may have incomplete context. Consider excluding large, less relevant files or folders (e.g., large CSV files) to improve accuracy.
`}};var dqe=Ze(fqe()),Yj=Ze(Fj()),mqe=Ze(require("os")),hqe=Ze(Vf());var OBt=Math.max(mqe.cpus().length-1,1),yB=class e{constructor(){this.isActive=!0}static{s(this,"WorkerPoolToken")}static{this.workerPoolStarted=!1}static{this.activeProcessCount=0}static{this.allTokens=[]}static{this.lock=new dqe.default}static async startWorkerPool(){await e.lock.acquireAsync();try{e.workerPoolStarted||(e.workerPoolStarted=!0,await Yj.start({maxWorkers:OBt})),e.activeProcessCount++;let t=new e;return e.allTokens.push(t),t}finally{e.lock.release()}}async stopWorkerPool(){if(this.isActive){await e.lock.acquireAsync();try{this.isActive&&(this.isActive=!1,e.activeProcessCount--,e.activeProcessCount==0&&(await Yj.stop(),e.workerPoolStarted=!1),e.allTokens.includes(this)&&e.allTokens.splice(e.allTokens.indexOf(this),1))}finally{e.lock.release()}}}static async forceStopWorkerPool(){let t=e.allTokens[Symbol.iterator]();for(let r of t)await r.stopWorkerPool();e.workerPoolStarted=!1,e.activeProcessCount=0}},jj=yB.startWorkerPool.bind(yB);var pIn=I.Object({uri:I.String(),snippet:I.String(),range:I.Object({start:I.Object({line:I.Number(),character:I.Number()}),end:I.Object({line:I.Number(),character:I.Number()})})}),Yue=class{constructor(t){this.turnContext=t}static{s(this,"ProjectContextSkillProcessor")}value(){return 1}async processSkill(t){if(this.turnContext.cancelationToken.isCancellationRequested){await this.turnContext.steps.cancel(dT);return}let r=[],n=this.turnContext.ctx.get(On),i=this.removeDuplicateSnippets(t);for(let o of i){let{uri:a,snippet:l,range:c}=o,u=await n.getOrReadTextDocument(o);if(u.status==="valid"){let f=new s1(u.document,c,c),m=new Yt([l]),p=AB(a)?.5:.8;r.push([`Code excerpt from file \`${Xo(a)}\`:`,1],[f.wrapInTicks(m,p),1]),await this.turnContext.collectFile(mT,a,As(u),c)}}if(r.length>0)return r.unshift([new Yt(["The user wants you to consider the following snippets when computing your answer."]),1]),new Yt(r)}removeDuplicateSnippets(t){let r={};return t.forEach(n=>{let i=`${n.uri}#[${n.range.start.line},${n.range.start.character}]-[${n.range.end.line},${n.range.end.character}]`;r[i]||(r[i]=n)}),Object.values(r)}},dT="collect-project-context",$j=class extends rT{constructor(r,n=[new Vj]){super();this.ctx=r;this.snippetProviders=n;this.ready=!1;this.ctx.get(Zg).addListener(this)}static{s(this,"ProjectContextSkillResolver")}start(){this.ready=!0}async onWorkspaceAdded(r){if(!await this.isEnabled()||(this.workerPoolToken=await jj(),!r.uri))return;let n=this.ctx.get(ha),i=this.ctx.get(Yc),o=this.ctx.get(xc),a=await n.chunk(this.ctx,r);n.status(r)!=="completed"&&i.terminateWatching(r),await o.initialize(this.ctx,r,a),await this.workerPoolToken.stopWorkerPool()}async onWorkspaceRemoved(r){if(!await this.isEnabled())return;let n=this.ctx.get(ha);if(!r)return;let i=n.getParentFolder(r);if(i){let l=await n.deleteSubfolderChunks(i,r);await this.ctx.get(xc).deleteEmbeddings(this.ctx,i,l);return}n.terminateChunking(this.ctx,r),await this.ctx.get(xc).terminateRanking(this.ctx,r),this.ctx.get($f).terminateScoring(this.ctx,r),n.workspaceCount===0&&await yB.forceStopWorkerPool()}async onWorkspaceSubfoldersTerminated(r,n){let i=this.ctx.get(ha),o=this.ctx.get(xc),a=this.ctx.get($f);for(let l of n)i.terminateChunking(this.ctx,l),await o.terminateRanking(this.ctx,l),a.terminateScoring(this.ctx,r)}async onFileChange(r){if(!await this.isEnabled())return;let n=await jj();try{let i=r.documents.map(c=>c.uri),o=r.workspaceFolder;if(!o)return;let a=this.ctx.get(ha),l=this.ctx.get(xc);if(r.type==="delete"||r.type==="update"){let c=await a.deleteFileChunks(o,i);await l.deleteEmbeddings(this.ctx,o,c)}if(r.type==="create"||r.type==="update"){let c=await a.chunk(this.ctx,o,r.documents);await l.addChunks(this.ctx,o,c)}}finally{await n.stopWorkerPool()}}isStarted(){return this.ready}async isEnabled(){return!0}async resolveSkill(r){await r.steps.start(dT,"Collecting relevant project context"),await r.info(hqe.default`Project context is applied to this response, which may lead to slightly longer load times. For faster and more general Copilot responses, remove the project context option from your prompt.`);let n=this.snippetProviders.map(async l=>l.snippetProviderStatus(r)),i=await Promise.all(n),o="not_indexed",a;for(let l of nqe){let c=i.findIndex(u=>u===l);if(c!==-1){o=l,a=this.snippetProviders[c];break}}switch(o){case"indexed":{let{snippets:l,measurements:c}=await a.provideSnippets(r);if(await c8e(r,a.providerType,c),l.length===0){await r.steps.error(dT,"No project context found");return}return await r.steps.finish(dT),l}case"indexing":{await r.steps.error(dT,"Indexing repository, please try again later");return}case"not_indexed":{await r.steps.error(dT,"No project context available");return}}}},mT="project-context",zj=class extends jl{static{s(this,"ProjectContextSkill")}constructor(t){super(mT,"Code snippets and documentation from the open project. This skill is useful when the user question is specific to the open project and its context. Do not include this skill for general programming questions.","Performing code search",()=>t,r=>new Yue(r),"implicit",["Relevant: How do I add a custom server route?","Relevant: Where is the code that processes the response from CopyableThreadElement?","Relevant: Where do I add tests for the InputValidation class?","Relevant: How to implement a shared buffer component","Not relevant: What does numpy do?"],()=>!0)}};d();var pqe=I.Object({labels:I.Array(I.String())}),Kue=class{constructor(t){this.turnContext=t}static{s(this,"ProjectLabelsSkillProcessor")}value(){return 1}processSkill(t){let r=[];return r.push([new Yt(["The developer is working on a project with the following characteristics (languages, frameworks):"]),1]),t.labels.forEach(n=>{r.push([new Yt([`- ${n}`]),.9]),this.turnContext.collectLabel(Zh,n)}),new Yt(r)}},Zh="project-labels",Kj=class{constructor(t){this._resolver=t;this.id=Zh;this.type="explicit"}static{s(this,"ProjectLabelsSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new Kue(t)}};d();var Jj=Ze(Vf());var Aqe={id:0,start_offset:0,stop_offset:0,type:"code_vulnerability",details:{type:"server-side-unvalidated-url-redirection",description:"Allows a URL to be redirected to a different URL that is specified by an external user.",ui_type:"test",ui_description:"test"}},yqe=Jj.dedent`
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna 
    aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
`,Cqe=Jj.dedent`
    \`\`\`kotlin
    fun main() {
        println("Hello, World!")
    }
    \`\`\`
`,UBt=Jj.dedent`
    ### Inputs
    
    \`p\` - paragraph message
    
    \`c\` - code block
    
    \`<number>\` - number of vulnerabilities, must be at the end of the string (applies to all code blocks)
    
    ### Examples
    
    \`/debug.vulnerability\` - 1 paragraph followed by 1 code block with 1 vulnerability
    
    \`/debug.vulnerability pcc2\` - 1 paragraph followed by 2 code blocks with 2 vulnerabilities each
    
    \`/debug.vulnerability cpc3\` - 1 code block followed by 1 paragraph followed by 1 code block--each code block has 3 vulnerabilities
`,Jue=`

`,gqe=yqe+Jue+Cqe;function xqe(e){let t=1;if(e.length===0)return{reply:gqe,vulnerabilities:t};if(e==="0")return{reply:gqe,vulnerabilities:0};if(e==="help")return{reply:UBt,vulnerabilities:t};let r=e.slice(-1);isNaN(Number(r))||(t=Number(r),e=e.slice(0,-1));let n="";for(let i of e)i==="p"?n+=yqe+Jue:i==="c"&&(n+=Cqe+Jue);return{reply:n.trimEnd(),vulnerabilities:t}}s(xqe,"parseVulnerabilitiesInstructions");var vqe=Ze(Vf());var qBt="Oops, your response got filtered. Vote down if you think this shouldn't have happened",WBt="You've reached your monthly chat messages limit. Upgrade to Copilot Pro (30-day free trial) or wait for your limit to reset.",Xue=class{constructor(){this.id="debug.fail";this.description="Fail for debugging purposes";this.shortDescription="Fail";this.scopes=["chat-panel"]}static{s(this,"DebugFailPromptTemplate")}response(t,r){throw new Error(r.length>0?r:"Debug Fail")}},GBt=new Xue,Zue=class{constructor(){this.id="debug.upgrade";this.description="upgrade for debugging purposes";this.shortDescription="upgrade";this.scopes=["chat-panel"]}static{s(this,"DebugUpgradePromptTemplate")}response(t){return new Vl(WBt,{message:"",code:402,responseIsIncomplete:!0,responseIsFiltered:!1})}},HBt=new Zue,efe=class{constructor(){this.id="debug.notify";this.description="Notify for debugging purposes";this.shortDescription="Notify";this.scopes=["chat-panel","inline"]}static{s(this,"DebugNotificationPromptTemplate")}response(t,r){let n="warning";r.includes("info")&&(n="info");let i=r.replace("info","").replace("warning","").trim(),o=[{severity:n,message:i.length>0?i:"Debug Notification"}];return new Vl("Alright, I'm producing a notification",void 0,[],o)}},jBt=new efe,tfe=class{constructor(){this.id="debug.filter";this.description="Make the RAI filter kick in";this.shortDescription="RAI Filter";this.scopes=["chat-panel"]}static{s(this,"DebugFilterPromptTemplate")}response(t){return t.turn.status="filtered",new Vl(qBt,{message:"",responseIsFiltered:!0,responseIsIncomplete:!1})}},VBt=new tfe,rfe=class{constructor(){this.id="debug.dump";this.description="Dump the conversation";this.shortDescription="Dump";this.scopes=["chat-panel"]}static{s(this,"DebugDumpPromptTemplate")}async response(t){return new Vl(await Eqe(t))}},$Bt=new rfe,nfe=class{constructor(){this.id="debug.tree";this.description="Jingle bells, jingle bells, jingle all the way";this.shortDescription="Christmas Tree";this.scopes=["chat-panel"]}static{s(this,"DebugChristmasTreePromptTemplate")}requiredSkills(){return[Zh,Zc]}instructions(t,r){return"Create a function that prints a christmas tree"}},zBt=new nfe,ife=class{constructor(){this.id="debug.echo";this.description="Echo the user message back to the user";this.shortDescription="Echo";this.scopes=["chat-panel"]}static{s(this,"DebugEchoPromptTemplate")}response(t){return new Vl(ln(t.turn.request.message))}},YBt=new ife,ofe=class{constructor(){this.id="debug.prompt";this.description="Show the prompt for the last response or generate a new one";this.shortDescription="Prompt";this.scopes=["chat-panel"]}static{s(this,"DebugPromptPromptTemplate")}response(t,r){let n=t.ctx.get($l).getLastTurnPrompts();if(n!==void 0&&n.size>0){let i="Here are the prompts used in the last turn:";return n.forEach((o,a)=>{i+=vqe.default`

                        ### ${a} prompt
                        
                        \`\`\`\`
                        ${o}
                        \`\`\`\`
                    `}),new Vl(i)}return new Vl("No prompt available")}},KBt=new ofe,sfe=class{constructor(){this.id="debug.skills";this.description="Resolves and displays all available skills or a single skill (id) if provided";this.shortDescription="Skills";this.scopes=["chat-panel"]}static{s(this,"DebugSkillsPromptTemplate")}async response(t,r,n){let i,o;if(r.length>0){let a=r.split(" ");i=a[0],o=a.slice(1).join(" ")}return t.turn.request.message=o??"",new Vl(await Iqe(t,n,i))}},JBt=new sfe,afe=class{constructor(){this.id="debug.vulnerability";this.description="Create a message with a vulnerability annotation";this.shortDescription="Vulnerability";this.scopes=["chat-panel"]}static{s(this,"DebugVulnerabilityPromptTemplate")}response(t,r){let{reply:n,vulnerabilities:i}=xqe(r);for(let o=0;o<i;o++)t.turn.annotations.push(Aqe);return new Vl(n,void 0,t.turn.annotations)}},XBt=new afe,lfe=class{constructor(){this.id="debug.citation";this.description="Create a message with a code citation annotation";this.shortDescription="CodeCitation";this.scopes=["chat-panel"]}static{s(this,"DebugCodeCitationPromptTemplate")}response(t){return t.turn.annotations.push(ZUe),new Vl(eqe,void 0,t.turn.annotations)}},ZBt=new lfe,cfe=class{constructor(){this.id="debug.markdown";this.description="Markdown rendering specification by example";this.shortDescription="Markdown";this.scopes=["chat-panel","inline"]}static{s(this,"DebugMarkdownRenderingPromptTemplate")}response(){return new Vl(tqe)}},eDt=new cfe,ufe=class{constructor(){this.id="debug.long";this.description="Generate a long response";this.shortDescription="Long";this.scopes=["chat-panel"]}static{s(this,"DebugLongPromptTemplate")}instructions(t,r){return"Write out the OWASP top 10 with code examples in java"}},tDt=new ufe,ffe=class{constructor(){this.id="debug.project";this.description="Generate a response using the project context skill";this.shortDescription="Project";this.scopes=["chat-panel","inline"]}static{s(this,"DebugProjectContextPromptTemplate")}requiredSkills(){return[mT]}},rDt=new ffe,dfe=class{constructor(){this.id="debug.confirmation";this.description="Generate a response with a confirmation";this.shortDescription="Confirmation";this.scopes=["chat-panel","inline"]}static{s(this,"DebugConfirmationPromptTemplate")}response(){let t={type:"action",title:"Confirmation that you want to proceed",message:"Do you want to proceed?",agentSlug:"debug.confirmation",confirmation:{answer:"yes"}};return new Vl("Alright, I'm producing a notification",void 0,[],[],[],t)}},nDt=new dfe;function bqe(){return[GBt,HBt,jBt,VBt,zBt,$Bt,YBt,KBt,JBt,XBt,ZBt,nDt,eDt,tDt,rDt]}s(bqe,"getDebugTemplates");d();d();function m3(e,t){if(e.length==0)return new Yt([]);let r=e.map((n,i)=>{let o;switch(t){case"linear":o=1-i/e.length;break;case"inverseLinear":o=(i+1)/e.length;break;case"positional":o=1/(i+1);break;case"inversePositional":o=1/(e.length-i);break}return Array.isArray(n)&&n.length==2&&(o*=n[1],n=n[0]),[n,o]});return new Yt(r)}s(m3,"weighElidableList");var Tqe=I.Object({uri:I.String(),problems:I.Array(I.Object({message:I.String(),range:Ea}))}),mfe=class{constructor(t){this.turnContext=t}static{s(this,"ProblemsInActiveDocumentSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(On),n=await r.getOrReadTextDocument(t);if(await this.turnContext.collectFile(h3,t.uri,As(n)),n.status==="valid"){let i=r.getRelativePath(n.document);this.turnContext.collectLabel(h3,`problems in ${i}`);let o=this.getElidableProblems(t,n,i);return await this.preElideDocuments(o)}else this.turnContext.collectLabel(h3,"problem markers")}getElidableProblems(t,r,n){let i=[];return i.push(new Yt([`Problems and errors in the active document (\`${n}\`):`])),i.push(...this.createElidableProblems(t,r)),m3(i,"linear")}createElidableProblems(t,r){return t.problems.map(n=>{let i=[];i.push(new Yt([`- "${n.message}" at line ${n.range.start.line}.`+(r.document?" Excerpt from the code:":"")]));let o=n.range,a;if(o&&(this.isEmpty(o)?a=r.document.lineAt(o.start).text:a=r.document.getText(o),a)){let l=r.document.detectedLanguageId;i.push(new Yt([["```"+l,1],[cf(a),.8],["```",1]]))}return new Yt(i)})}isEmpty(t){return t.start.line===t.end.line&&t.start.character===t.end.character}async preElideDocuments(t){let r=(await Co.getModelConfiguration(this.turnContext.ctx,"user")).maxRequestTokens,n=t.elide(Math.floor(r*.1)).getText();return new Yt([n])}},h3="problems-in-active-document",Xj=class extends jl{static{s(this,"ProblemsInActiveDocumentSkill")}constructor(t){super(h3,"List of problems and errors in the active document, useful when the user question is about finding and fixing errors, non-functioning code, compilation issues, etc.","Analyzing problems and errors",()=>t,r=>new mfe(r),"explicit",["How can I fix the errors?","Why is my app not working?","Why am I getting compilation errors?","Raw error messages or stack traces"])}};d();d();var Zj=class{constructor(t){this.turnContext=t}static{s(this,"PromptForTestGeneration")}async fromImplementationFile(t){let r=this.turnContext.ctx.get(Vr).getWorkspaceFolder(t),n=this.fileExistFn(),i=new gB(this.turnContext.ctx,n,r?.uri),o=await i.findTestFileForSourceFile(t.uri),a=AB(t.uri);if(o&&!a){let l=t.detectedLanguageId;if(await n(o))return await this.asTestFilePrompt(l,o);{let c=i.findExampleTestFile(t.uri);if(c)return await this.asExampleFilePrompt(l,c)}}}async fromTestFile(t){if(!AB(t))return;let n=this.turnContext.ctx.get(Vr).getWorkspaceFolder(t),i=this.fileExistFn(),a=await new gB(this.turnContext.ctx,i,n?.uri).findImplFileForTestFile(t.uri);if(a){let l=t.detectedLanguageId;if(await i(a))return await this.asImplFilePrompt(l,a)}}async asImplFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,o]=n;return new Yt([[`${iDt} \`${o}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Yt([])}async asTestFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,o]=n;return new Yt([[`${oDt} \`${o}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Yt([])}async asExampleFilePrompt(t,r){let n=await this.fileInfoForPrompt(r);if(n){let[i,o]=n;return new Yt([[`${sDt} \`${o}\`:`,1],["```"+t,1],[i,.9],["```",1]])}return new Yt([])}async fileInfoForPrompt(t){if(!this.turnContext.isFileIncluded(t)){let r=this.turnContext.ctx.get(On),n=await r.getOrReadTextDocument({uri:t});if(await this.turnContext.collectFile(ep,t,As(n)),n.status==="valid"){let i=r.getRelativePath(n.document);return[cf(n.document.getText()),i]}}}fileExistFn(){return async t=>{try{return await this.turnContext.ctx.get(vo).stat(t),!0}catch{return!1}}}},iDt="Code excerpt from the implementation source file",oDt="Code excerpt from the test file",sDt="Code excerpt from an example test file";var wqe=I.Object({currentFileUri:I.String(),sourceFileUri:I.Optional(I.String()),testFileUri:I.Optional(I.String())}),pfe=class{constructor(t){this.turnContext=t}static{s(this,"TestContextSkillProcessor")}value(){return .9}async processSkill(t){let r=this.turnContext.ctx.get(On),n=new Zj(this.turnContext);if(t.sourceFileUri&&t.testFileUri){if(t.sourceFileUri!==t.currentFileUri&&t.testFileUri!==t.currentFileUri)return;if(t.testFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.testFileUri});if(await this.turnContext.collectFile(ep,t.testFileUri,As(i)),i.status==="valid")return await n.asImplFilePrompt(i.document.detectedLanguageId,t.sourceFileUri)}else if(t.sourceFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.sourceFileUri});if(await this.turnContext.collectFile(ep,t.sourceFileUri,As(i)),i.status==="valid")return await n.asTestFilePrompt(i.document.detectedLanguageId,t.testFileUri)}}else if(t.sourceFileUri&&t.sourceFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.sourceFileUri});if(await this.turnContext.collectFile(ep,t.sourceFileUri,As(i)),i.status==="valid")return await n.fromImplementationFile(i.document)}else if(t.testFileUri&&t.testFileUri===t.currentFileUri){let i=await r.getOrReadTextDocument({uri:t.testFileUri});if(await this.turnContext.collectFile(ep,t.testFileUri,As(i)),i.status==="valid")return await n.fromTestFile(i.document)}}},ep="test-context",eV=class extends jl{static{s(this,"TestContextSkill")}constructor(t){super(ep,"Example tests useful for creating, adding and fixing tests, to detect available test frameworks as well as finding the corresponding implementation to existing tests","Searching test examples",()=>t,r=>new pfe(r))}};d();var _qe=Ze(Vf());var Sqe=I.Object({failures:I.Array(I.Object({testName:I.String(),testSuite:I.Optional(I.String()),testFileUri:I.String(),failureReason:I.Optional(I.String()),testLocation:Ea}))}),gfe=class{constructor(t){this.turnContext=t}static{s(this,"TestFailuresSkillProcessor")}value(){return .9}async processSkill(t){if(t.failures.length>0){this.turnContext.collectLabel(rE,"test failures");let r=await this.createElidableFailures(t.failures);if(r){let n=new Yt(["The latest test run produced the following failures and errors:"]);return new Yt([[n,1],[r,1]])}}}async createElidableFailures(t){let r=this.turnContext.ctx.get(On),n=[],i=this.groupFailuresByFile(t);for(let[o,a]of i.entries()){let l=await r.getOrReadTextDocument({uri:o});if(await this.turnContext.collectFile(rE,o,As(l)),l.status==="valid"){let c=r.getRelativePath(l.document),u=this.createElidableFailuresOfDoc(a,c),f=this.appendCode(u,c,l.document);n.push([f,1])}}if(n.length>0)return new Yt(n)}groupFailuresByFile(t){let r=new Map;for(let n of t){let i=r.get(n.testFileUri)||[];i.push(n),r.set(n.testFileUri,i)}return r}createElidableFailuresOfDoc(t,r){let n=t.map(i=>{let o=`\`${i.testName}\``,a=`${i.testSuite?` in suite \`${i.testSuite}\``:""}`,l=` in file \`${r}\` `,c=". ";i.failureReason&&(c=" with the following error:",i.failureReason.includes(`
`)?c+="\n```\n"+i.failureReason+"\n```\n":c+=` \`${i.failureReason}\`. `);let u=`${i.testLocation.start.line==i.testLocation.end.line?"on line "+i.testLocation.start.line:"between lines "+i.testLocation.start.line+" and "+i.testLocation.end.line}`;return[new Yt([_qe.default`\n\n- Test ${o}${a}${l}failed${c}The failed test is ${u}.\n`]),1]});return new Yt(n)}appendCode(t,r,n){let i=[new Yt([`
The code of file \`${r}\` is:
`]),.6],o=[new Yt([["```"+n.detectedLanguageId,1],[cf(n.getText()),.9],["```",1]]),.7];return new Yt([[t,1],i,o])}},rE="test-failures",tV=class extends jl{static{s(this,"TestFailuresSkill")}constructor(t){super(rE,"Test failures and errors of the latest test run","Collecting test failures",()=>t,r=>new gfe(r))}};var gm=Ze(Vf());var Vl=class{constructor(t,r,n=[],i=[],o=[],a){this.message=t;this.error=r;this.annotations=n;this.notifications=i;this.references=o;this.confirmationRequest=a}static{s(this,"PromptTemplateResponse")}},nE=class{constructor(t,r,n,i,o=[],a=[],l,c=!1){this.id=t;this.description=r;this.shortDescription=n;this.prompt=i;this.skills=o;this.scopes=a;this.inlinePrompt=l;this.producesCodeEdits=c}static{s(this,"StaticPromptTemplate")}instructions(t,r,n="panel"){let i;return n==="inline"?i=this.inlinePrompt??this.prompt:i=this.prompt,i+`
`+r}requiredSkills(){return this.skills}},aDt=new nE("tests","Generate unit tests","Generate Tests",gm.default`
        Write a set of unit tests for the code above, or for the selected code if provided.
        Provide tests for the functionality of the code and not the implementation details.
        The tests should test the happy path as well as the edge cases.
        Choose self explanatory names for the tests that describe the tested behavior. Do not start the test names with "test".
        Think about the different scenarios that could happen and test them.
        Do reply with the tests only and do not explain them further.
        Do reply with new or modified tests only and not with the complete test class or suite.
        Follow the same test style as in existing tests if they exist.
        You must not create inline comments like "Arrange, Act, Assert", unless existing tests use inline comments as well.
        If existing tests use any mocking or stubbing libraries, use the same libraries before writing your own test doubles.
        `,[ep,rE],["chat-panel","editor"]),lDt=new nE("simplify","Simplify the code","Simplify This",gm.default`
        Provide a simplified version of the selected code above.
        Do not change the behavior of the code. 
        The code should still be readable and easy to understand. 
        Do not reply with the original code but only a simplified version. 
        Do only reply with one code snippet that contains the complete simplified code and explain what you have simplified after.`,[],["editor","chat-panel","inline"],gm.default`
        Provide a simplified version of the selected code.
        Modify the selected code to make it simpler and easier to understand.
        Do not change the behavior of the code. 
        Removing empty lines is not a simplification.
        You must not omit any code that is necessary for the code to compile and run, for example by replacing lines with ... or similar.
        Do not reply with the original code but only a simplified version.`,!0),cDt=new nE("fix","Fix problems and compile errors","Fix This",gm.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed. 
        Group problems if they are related and can be fixed by the same change. 
        Present a group as a single problem with a simple description that does not repeat the single problems but explains the whole group of problems in a few words.
        Explain each group of problems without repeating the detailed error message. 
        Show how the error can be fixed by providing a code snippet that displays the code before and after it has been fixed after each group. 
        Shorten fully qualified class names to the simple class name and full file paths to the file names only.
        When enumerating the groups, start with the word "Problem" followed by the number and a quick summary of the problem. Format this headline bold.
        At last provide a completely fixed version of the code if the fixes required multiple code changes.`,[h3],["editor","chat-panel","inline"],gm.default`
        Fix the provided errors and problems. 
        Do not invent new problems.
        The fixed code should still be readable and easy to understand.
        If there are no problems provided do reply that you can't detect any problems and the user should describe more precisely what they want to be fixed.
        Do not attempt to fix problems that are not provided, like unbalanced brackets or parentheses that are not causing errors.
        Briefly explain the problems without repeating the detailed error message.`,!0),uDt=new nE("explain","Explain how the code works","Explain This",gm.default`
        Write an explanation for the selected code above as paragraphs of text. 
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        The explanation should be easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,[],["editor","chat-panel","inline"],gm.default`
        Write an explanation for the code the user is selecting.
        Include excerpts of code snippets to underline your explanation. 
        Do not repeat the complete code.
        Keep the explanation brief and easy to understand for a developer who is familiar with the programming language used but not familiar with the code.`,!1),fDt=new nE("doc","Document the current selection of code","Generate Docs",gm.default`
        Write documentation for the selected code.
        The reply should be a codeblock containing the original selection with the documentation added as comments.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.)`,[],["editor","chat-panel","inline"],gm.default`
        Add documentation to the selected code.
        Modify the selected code by adding documentation as comments.
        You must only modify the selected code and nothing else.
        Use the most appropriate documentation style for the programming language used (e.g. JSDoc for JavaScript, docstrings for Python etc.).
        Place the comments before functions and methods, unless the language has a different convention (for example Python's docstring).`,!0),Afe=class{constructor(){this.id="feedback";this.description="Steps to provide feedback";this.shortDescription="Feedback";this.scopes=["chat-panel"]}static{s(this,"FeedbackPromptTemplate")}response(t){let r=xfe(t.conversation),n=gm.default`
            You can provide direct feedback by pressing the thumbs up/down buttons on a single message. 
            In case you want to share more details, please click [here](https://gh.io/copilot-chat-jb-feedback) to share your feedback.
            `;return r?new Vl(n+`

In order to help us understand your feedback better, you can include the following identifier in your feedback: by doing so, you are granting us permission to access the telemetry data associated with your feedback.
\`\`\`yaml
${t.conversation.id}/${r}
\`\`\``):new Vl(n)}},dDt=new Afe,yfe=class{constructor(){this.id="help";this.description="Get help on how to use Copilot chat";this.shortDescription="Help";this.scopes=["chat-panel"]}static{s(this,"HelpPromptTemplate")}response(t){let r=Cfe(t.ctx).filter(i=>i!=this),n=gm.default`
            You can ask me general programming questions, or use one of the following commands to get help with a specific task:

            ${r.map(i=>`- \`/${i.id}\` - ${i.description}`).join(`
`)}

            To have a great conversation, ask me questions as if I was a real programmer:
            
            - **Show me the code** you want to talk about by having the files open and selecting the most important lines.
            - On top of files, **I take different parts of your IDE into consideration** when answering questions. This includes, but is not limited to, test results and failures, build and runtime logs, active Git repository as well as details of the open project.
            - **Make refinements** by asking me follow-up questions, adding clarifications, providing errors, etc.
            - **Review my suggested code** and tell me about issues or improvements, so I can iterate on it.
        `;return new Vl(n)}},mDt=new yfe;function CB(){return[aDt,lDt,cDt,uDt,fDt,dDt,mDt,...bqe()]}s(CB,"getPromptTemplates");function Cfe(e){let t=CB();return!p_(e)&&!oh(e)&&(t=t.filter(r=>!r.id.startsWith("debug."))),t}s(Cfe,"getUserFacingPromptTemplates");var vfe=class{constructor(t,r){this.conversation=t;this.capabilities=r}static{s(this,"ConversationHolder")}},Wi=class{constructor(t){this.ctx=t;this.conversations=new un(100)}static{s(this,"Conversations")}create({capabilities:t,source:r,userLanguage:n,conversationId:i}={}){let o=new qj([],r??"panel",n,i),a=t?.skills??[];return t?.allSkills&&(a=this.ctx.get(Al).getDescriptors().map(l=>l.id)),this.conversations.set(o.id,new vfe(o,{skills:a})),o}destroy(t){this.conversations.delete(t)}async addTurn(t,r,n,i,o,a,l,c){let u=this.get(t);return r.request.references=n&&n.length>0?n:[],i&&(r.request.activeEditor=i),o&&(r.workspaceFolder=o),a&&a.length>0&&(r.workspaceFolders=a),l&&l.length>0&&(r.ignoredSkills=l.map(f=>({skillId:f}))),c&&(r.agent={agentSlug:c.agentSlug},r.confirmationResponse=c),await this.determineAndApplyAgent(u,r),await this.determineAndApplyTemplate(u,r),u.addTurn(r),r}async determineAndApplyAgent(t,r){if(t.source==="panel"&&ln(r.request.message).trim().startsWith("@")){let[n,i]=this.extractKeywordAndQuestionFromRequest(ln(r.request.message),"@");(await c1(this.ctx)).find(l=>l.slug===n)&&(r.request.message=i,r.request.type="user",r.agent={agentSlug:n})}}async determineAndApplyTemplate(t,r){if(ln(r.request.message).trim().startsWith("/")){let[n,i]=this.extractKeywordAndQuestionFromRequest(ln(r.request.message),"/"),o=CB().find(a=>a.id===n);if(o){r.request.message=i,r.request.type="user",await this.determineAndApplyAgent(t,r);let a=o.instructions?o.instructions(this.ctx,r.request.message,t.source):i;r.template={templateId:n,userQuestion:r.request.message},r.request.message=a,r.request.type="template"}}}extractKeywordAndQuestionFromRequest(t,r){let[n,...i]=t.trim().split(" "),o=i.join(" ");return[n.replace(r,""),o]}deleteTurn(t,r){this.get(t).deleteTurn(r)}get(t){return this.getHolder(t).conversation}getCapabilities(t){return this.getHolder(t).capabilities}getSupportedSkills(t){let r=this.ctx.get(Al).getDescriptors().filter(i=>i.type==="implicit").map(i=>i.id),n=this.getCapabilities(t).skills;return[...r,...n]}filterSupportedSkills(t,r){let n=this.getSupportedSkills(t);return r.filter(i=>n.includes(i))}getHolder(t){let r=this.conversations.get(t);if(!r)throw new Error(`Conversation with id ${t} does not exist`);return r}getAll(){let t=this.conversations.values();return Array.from(t).map(r=>r.conversation)}findByTurnId(t){for(let r of this.getAll()){let n=r.findTurn(t);if(n)return{conversation:r,turn:n}}}};d();function Hqe(e){return typeof e>"u"||e===null}s(Hqe,"isNothing");function hDt(e){return typeof e=="object"&&e!==null}s(hDt,"isObject");function pDt(e){return Array.isArray(e)?e:Hqe(e)?[]:[e]}s(pDt,"toArray");function gDt(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}s(gDt,"extend");function ADt(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}s(ADt,"repeat");function yDt(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}s(yDt,"isNegativeZero");var CDt=Hqe,xDt=hDt,vDt=pDt,bDt=ADt,EDt=yDt,IDt=gDt,yl={isNothing:CDt,isObject:xDt,toArray:vDt,repeat:bDt,isNegativeZero:EDt,extend:IDt};function jqe(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}s(jqe,"formatError");function vB(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=jqe(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}s(vB,"YAMLException$1");vB.prototype=Object.create(Error.prototype);vB.prototype.constructor=vB;vB.prototype.toString=s(function(t){return this.name+": "+jqe(this,t)},"toString");var Bu=vB;function bfe(e,t,r,n,i){var o="",a="",l=Math.floor(i/2)-1;return n-t>l&&(o=" ... ",t=n-l+o.length),r-n>l&&(a=" ...",r=n+l-a.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+a,pos:n-t+o.length}}s(bfe,"getLine");function Efe(e,t){return yl.repeat(" ",t-e.length)+e}s(Efe,"padStart");function TDt(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,a=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var l="",c,u,f=Math.min(e.line+t.linesAfter,i.length).toString().length,m=t.maxLength-(t.indent+f+3);for(c=1;c<=t.linesBefore&&!(a-c<0);c++)u=bfe(e.buffer,n[a-c],i[a-c],e.position-(n[a]-n[a-c]),m),l=yl.repeat(" ",t.indent)+Efe((e.line-c+1).toString(),f)+" | "+u.str+`
`+l;for(u=bfe(e.buffer,n[a],i[a],e.position,m),l+=yl.repeat(" ",t.indent)+Efe((e.line+1).toString(),f)+" | "+u.str+`
`,l+=yl.repeat("-",t.indent+f+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(a+c>=i.length);c++)u=bfe(e.buffer,n[a+c],i[a+c],e.position-(n[a]-n[a+c]),m),l+=yl.repeat(" ",t.indent)+Efe((e.line+c+1).toString(),f)+" | "+u.str+`
`;return l.replace(/\n$/,"")}s(TDt,"makeSnippet");var wDt=TDt,_Dt=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],SDt=["scalar","sequence","mapping"];function RDt(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}s(RDt,"compileStyleAliases");function kDt(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(_Dt.indexOf(r)===-1)throw new Bu('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=RDt(t.styleAliases||null),SDt.indexOf(this.kind)===-1)throw new Bu('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}s(kDt,"Type$1");var e0=kDt;function Rqe(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,a){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=a)}),r[i]=n}),r}s(Rqe,"compileList");function BDt(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(s(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}s(BDt,"compileMap");function Tfe(e){return this.extend(e)}s(Tfe,"Schema$1");Tfe.prototype.extend=s(function(t){var r=[],n=[];if(t instanceof e0)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Bu("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof e0))throw new Bu("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Bu("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Bu("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof e0))throw new Bu("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Tfe.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Rqe(i,"implicit"),i.compiledExplicit=Rqe(i,"explicit"),i.compiledTypeMap=BDt(i.compiledImplicit,i.compiledExplicit),i},"extend");var DDt=Tfe,PDt=new e0("tag:yaml.org,2002:str",{kind:"scalar",construct:s(function(e){return e!==null?e:""},"construct")}),NDt=new e0("tag:yaml.org,2002:seq",{kind:"sequence",construct:s(function(e){return e!==null?e:[]},"construct")}),LDt=new e0("tag:yaml.org,2002:map",{kind:"mapping",construct:s(function(e){return e!==null?e:{}},"construct")}),FDt=new DDt({explicit:[PDt,NDt,LDt]});function MDt(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}s(MDt,"resolveYamlNull");function QDt(){return null}s(QDt,"constructYamlNull");function ODt(e){return e===null}s(ODt,"isNull");var UDt=new e0("tag:yaml.org,2002:null",{kind:"scalar",resolve:MDt,construct:QDt,predicate:ODt,represent:{canonical:s(function(){return"~"},"canonical"),lowercase:s(function(){return"null"},"lowercase"),uppercase:s(function(){return"NULL"},"uppercase"),camelcase:s(function(){return"Null"},"camelcase"),empty:s(function(){return""},"empty")},defaultStyle:"lowercase"});function qDt(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}s(qDt,"resolveYamlBoolean");function WDt(e){return e==="true"||e==="True"||e==="TRUE"}s(WDt,"constructYamlBoolean");function GDt(e){return Object.prototype.toString.call(e)==="[object Boolean]"}s(GDt,"isBoolean");var HDt=new e0("tag:yaml.org,2002:bool",{kind:"scalar",resolve:qDt,construct:WDt,predicate:GDt,represent:{lowercase:s(function(e){return e?"true":"false"},"lowercase"),uppercase:s(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:s(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function jDt(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}s(jDt,"isHexCode");function VDt(e){return 48<=e&&e<=55}s(VDt,"isOctCode");function $Dt(e){return 48<=e&&e<=57}s($Dt,"isDecCode");function zDt(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!jDt(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!VDt(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!$Dt(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}s(zDt,"resolveYamlInteger");function YDt(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}s(YDt,"constructYamlInteger");function KDt(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!yl.isNegativeZero(e)}s(KDt,"isInteger");var JDt=new e0("tag:yaml.org,2002:int",{kind:"scalar",resolve:zDt,construct:YDt,predicate:KDt,represent:{binary:s(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:s(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:s(function(e){return e.toString(10)},"decimal"),hexadecimal:s(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),XDt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function ZDt(e){return!(e===null||!XDt.test(e)||e[e.length-1]==="_")}s(ZDt,"resolveYamlFloat");function ePt(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}s(ePt,"constructYamlFloat");var tPt=/^[-+]?[0-9]+e/;function rPt(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(yl.isNegativeZero(e))return"-0.0";return r=e.toString(10),tPt.test(r)?r.replace("e",".e"):r}s(rPt,"representYamlFloat");function nPt(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||yl.isNegativeZero(e))}s(nPt,"isFloat");var iPt=new e0("tag:yaml.org,2002:float",{kind:"scalar",resolve:ZDt,construct:ePt,predicate:nPt,represent:rPt,defaultStyle:"lowercase"}),oPt=FDt.extend({implicit:[UDt,HDt,JDt,iPt]}),sPt=oPt,Vqe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),$qe=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function aPt(e){return e===null?!1:Vqe.exec(e)!==null||$qe.exec(e)!==null}s(aPt,"resolveYamlTimestamp");function lPt(e){var t,r,n,i,o,a,l,c=0,u=null,f,m,h;if(t=Vqe.exec(e),t===null&&(t=$qe.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],a=+t[5],l=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(f=+t[10],m=+(t[11]||0),u=(f*60+m)*6e4,t[9]==="-"&&(u=-u)),h=new Date(Date.UTC(r,n,i,o,a,l,c)),u&&h.setTime(h.getTime()-u),h}s(lPt,"constructYamlTimestamp");function cPt(e){return e.toISOString()}s(cPt,"representYamlTimestamp");var uPt=new e0("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:aPt,construct:lPt,instanceOf:Date,represent:cPt});function fPt(e){return e==="<<"||e===null}s(fPt,"resolveYamlMerge");var dPt=new e0("tag:yaml.org,2002:merge",{kind:"scalar",resolve:fPt}),kfe=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function mPt(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=kfe;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}s(mPt,"resolveYamlBinary");function hPt(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=kfe,a=0,l=[];for(t=0;t<i;t++)t%4===0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)),a=a<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)):r===18?(l.push(a>>10&255),l.push(a>>2&255)):r===12&&l.push(a>>4&255),new Uint8Array(l)}s(hPt,"constructYamlBinary");function pPt(e){var t="",r=0,n,i,o=e.length,a=kfe;for(n=0;n<o;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}s(pPt,"representYamlBinary");function gPt(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}s(gPt,"isBinary");var APt=new e0("tag:yaml.org,2002:binary",{kind:"scalar",resolve:mPt,construct:hPt,predicate:gPt,represent:pPt}),yPt=Object.prototype.hasOwnProperty,CPt=Object.prototype.toString;function xPt(e){if(e===null)return!0;var t=[],r,n,i,o,a,l=e;for(r=0,n=l.length;r<n;r+=1){if(i=l[r],a=!1,CPt.call(i)!=="[object Object]")return!1;for(o in i)if(yPt.call(i,o))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}s(xPt,"resolveYamlOmap");function vPt(e){return e!==null?e:[]}s(vPt,"constructYamlOmap");var bPt=new e0("tag:yaml.org,2002:omap",{kind:"sequence",resolve:xPt,construct:vPt}),EPt=Object.prototype.toString;function IPt(e){if(e===null)return!0;var t,r,n,i,o,a=e;for(o=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],EPt.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}s(IPt,"resolveYamlPairs");function TPt(e){if(e===null)return[];var t,r,n,i,o,a=e;for(o=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}s(TPt,"constructYamlPairs");var wPt=new e0("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:IPt,construct:TPt}),_Pt=Object.prototype.hasOwnProperty;function SPt(e){if(e===null)return!0;var t,r=e;for(t in r)if(_Pt.call(r,t)&&r[t]!==null)return!1;return!0}s(SPt,"resolveYamlSet");function RPt(e){return e!==null?e:{}}s(RPt,"constructYamlSet");var kPt=new e0("tag:yaml.org,2002:set",{kind:"mapping",resolve:SPt,construct:RPt}),zqe=sPt.extend({implicit:[uPt,dPt],explicit:[APt,bPt,wPt,kPt]}),g3=Object.prototype.hasOwnProperty,rV=1,Yqe=2,Kqe=3,nV=4,Ife=1,BPt=2,kqe=3,DPt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PPt=/[\x85\u2028\u2029]/,NPt=/[,\[\]\{\}]/,Jqe=/^(?:!|!!|![a-z\-]+!)$/i,Xqe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Bqe(e){return Object.prototype.toString.call(e)}s(Bqe,"_class");function u1(e){return e===10||e===13}s(u1,"is_EOL");function oE(e){return e===9||e===32}s(oE,"is_WHITE_SPACE");function Du(e){return e===9||e===32||e===10||e===13}s(Du,"is_WS_OR_EOL");function pT(e){return e===44||e===91||e===93||e===123||e===125}s(pT,"is_FLOW_INDICATOR");function LPt(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}s(LPt,"fromHexCode");function FPt(e){return e===120?2:e===117?4:e===85?8:0}s(FPt,"escapedHexLen");function MPt(e){return 48<=e&&e<=57?e-48:-1}s(MPt,"fromDecimalCode");function Dqe(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}s(Dqe,"simpleEscapeSequence");function QPt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}s(QPt,"charFromCodepoint");var Zqe=new Array(256),eWe=new Array(256);for(iE=0;iE<256;iE++)Zqe[iE]=Dqe(iE)?1:0,eWe[iE]=Dqe(iE);var iE;function OPt(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||zqe,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}s(OPt,"State$1");function tWe(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=wDt(r),new Bu(t,r)}s(tWe,"generateError");function rn(e,t){throw tWe(e,t)}s(rn,"throwError");function iV(e,t){e.onWarning&&e.onWarning.call(null,tWe(e,t))}s(iV,"throwWarning");var Pqe={YAML:s(function(t,r,n){var i,o,a;t.version!==null&&rn(t,"duplication of %YAML directive"),n.length!==1&&rn(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&rn(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),a=parseInt(i[2],10),o!==1&&rn(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&iV(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:s(function(t,r,n){var i,o;n.length!==2&&rn(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],Jqe.test(i)||rn(t,"ill-formed tag handle (first argument) of the TAG directive"),g3.call(t.tagMap,i)&&rn(t,'there is a previously declared suffix for "'+i+'" tag handle'),Xqe.test(o)||rn(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{rn(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o},"handleTagDirective")};function p3(e,t,r,n){var i,o,a,l;if(t<r){if(l=e.input.slice(t,r),n)for(i=0,o=l.length;i<o;i+=1)a=l.charCodeAt(i),a===9||32<=a&&a<=1114111||rn(e,"expected valid JSON character");else DPt.test(l)&&rn(e,"the stream contains non-printable characters");e.result+=l}}s(p3,"captureSegment");function Nqe(e,t,r,n){var i,o,a,l;for(yl.isObject(r)||rn(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,l=i.length;a<l;a+=1)o=i[a],g3.call(t,o)||(t[o]=r[o],n[o]=!0)}s(Nqe,"mergeMappings");function gT(e,t,r,n,i,o,a,l,c){var u,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,f=i.length;u<f;u+=1)Array.isArray(i[u])&&rn(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Bqe(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&Bqe(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(u=0,f=o.length;u<f;u+=1)Nqe(e,t,o[u],r);else Nqe(e,t,o,r);else!e.json&&!g3.call(r,i)&&g3.call(t,i)&&(e.line=a||e.line,e.lineStart=l||e.lineStart,e.position=c||e.position,rn(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}s(gT,"storeMappingPair");function Bfe(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):rn(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}s(Bfe,"readLineBreak");function nl(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;oE(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(u1(i))for(Bfe(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&iV(e,"deficient indentation"),n}s(nl,"skipSeparationSpace");function aV(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Du(r)))}s(aV,"testDocumentSeparator");function Dfe(e,t){t===1?e.result+=" ":t>1&&(e.result+=yl.repeat(`
`,t-1))}s(Dfe,"writeFoldedLines");function UPt(e,t,r){var n,i,o,a,l,c,u,f,m=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),Du(p)||pT(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),Du(i)||r&&pT(i)))return!1;for(e.kind="scalar",e.result="",o=a=e.position,l=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),Du(i)||r&&pT(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),Du(n))break}else{if(e.position===e.lineStart&&aV(e)||r&&pT(p))break;if(u1(p))if(c=e.line,u=e.lineStart,f=e.lineIndent,nl(e,!1,-1),e.lineIndent>=t){l=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=c,e.lineStart=u,e.lineIndent=f;break}}l&&(p3(e,o,a,!1),Dfe(e,e.line-c),o=a=e.position,l=!1),oE(p)||(a=e.position+1),p=e.input.charCodeAt(++e.position)}return p3(e,o,a,!1),e.result?!0:(e.kind=m,e.result=h,!1)}s(UPt,"readPlainScalar");function qPt(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(p3(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else u1(r)?(p3(e,n,i,!0),Dfe(e,nl(e,!1,t)),n=i=e.position):e.position===e.lineStart&&aV(e)?rn(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);rn(e,"unexpected end of the stream within a single quoted scalar")}s(qPt,"readSingleQuotedScalar");function WPt(e,t){var r,n,i,o,a,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return p3(e,r,e.position,!0),e.position++,!0;if(l===92){if(p3(e,r,e.position,!0),l=e.input.charCodeAt(++e.position),u1(l))nl(e,!1,t);else if(l<256&&Zqe[l])e.result+=eWe[l],e.position++;else if((a=FPt(l))>0){for(i=a,o=0;i>0;i--)l=e.input.charCodeAt(++e.position),(a=LPt(l))>=0?o=(o<<4)+a:rn(e,"expected hexadecimal character");e.result+=QPt(o),e.position++}else rn(e,"unknown escape sequence");r=n=e.position}else u1(l)?(p3(e,r,n,!0),Dfe(e,nl(e,!1,t)),r=n=e.position):e.position===e.lineStart&&aV(e)?rn(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}rn(e,"unexpected end of the stream within a double quoted scalar")}s(WPt,"readDoubleQuotedScalar");function GPt(e,t){var r=!0,n,i,o,a=e.tag,l,c=e.anchor,u,f,m,h,p,g=Object.create(null),y,x,b,E;if(E=e.input.charCodeAt(e.position),E===91)f=93,p=!1,l=[];else if(E===123)f=125,p=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),E=e.input.charCodeAt(++e.position);E!==0;){if(nl(e,!0,t),E=e.input.charCodeAt(e.position),E===f)return e.position++,e.tag=a,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=l,!0;r?E===44&&rn(e,"expected the node content, but found ','"):rn(e,"missed comma between flow collection entries"),x=y=b=null,m=h=!1,E===63&&(u=e.input.charCodeAt(e.position+1),Du(u)&&(m=h=!0,e.position++,nl(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,AT(e,t,rV,!1,!0),x=e.tag,y=e.result,nl(e,!0,t),E=e.input.charCodeAt(e.position),(h||e.line===n)&&E===58&&(m=!0,E=e.input.charCodeAt(++e.position),nl(e,!0,t),AT(e,t,rV,!1,!0),b=e.result),p?gT(e,l,g,x,y,b,n,i,o):m?l.push(gT(e,null,g,x,y,b,n,i,o)):l.push(y),nl(e,!0,t),E=e.input.charCodeAt(e.position),E===44?(r=!0,E=e.input.charCodeAt(++e.position)):r=!1}rn(e,"unexpected end of the stream within a flow collection")}s(GPt,"readFlowCollection");function HPt(e,t){var r,n,i=Ife,o=!1,a=!1,l=t,c=0,u=!1,f,m;if(m=e.input.charCodeAt(e.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)Ife===i?i=m===43?kqe:BPt:rn(e,"repeat of a chomping mode identifier");else if((f=MPt(m))>=0)f===0?rn(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?rn(e,"repeat of an indentation width identifier"):(l=t+f-1,a=!0);else break;if(oE(m)){do m=e.input.charCodeAt(++e.position);while(oE(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!u1(m)&&m!==0)}for(;m!==0;){for(Bfe(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!a||e.lineIndent<l)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>l&&(l=e.lineIndent),u1(m)){c++;continue}if(e.lineIndent<l){i===kqe?e.result+=yl.repeat(`
`,o?1+c:c):i===Ife&&o&&(e.result+=`
`);break}for(n?oE(m)?(u=!0,e.result+=yl.repeat(`
`,o?1+c:c)):u?(u=!1,e.result+=yl.repeat(`
`,c+1)):c===0?o&&(e.result+=" "):e.result+=yl.repeat(`
`,c):e.result+=yl.repeat(`
`,o?1+c:c),o=!0,a=!0,c=0,r=e.position;!u1(m)&&m!==0;)m=e.input.charCodeAt(++e.position);p3(e,r,e.position,!1)}return!0}s(HPt,"readBlockScalar");function Lqe(e,t){var r,n=e.tag,i=e.anchor,o=[],a,l=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,rn(e,"tab characters must not be used in indentation")),!(c!==45||(a=e.input.charCodeAt(e.position+1),!Du(a))));){if(l=!0,e.position++,nl(e,!0,-1)&&e.lineIndent<=t){o.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,AT(e,t,Kqe,!1,!0),o.push(e.result),nl(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)rn(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}s(Lqe,"readBlockSequence");function jPt(e,t,r){var n,i,o,a,l,c,u=e.tag,f=e.anchor,m={},h=Object.create(null),p=null,g=null,y=null,x=!1,b=!1,E;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),E=e.input.charCodeAt(e.position);E!==0;){if(!x&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,rn(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(E===63||E===58)&&Du(n))E===63?(x&&(gT(e,m,h,p,g,null,a,l,c),p=g=y=null),b=!0,x=!0,i=!0):x?(x=!1,i=!0):rn(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,E=n;else{if(a=e.line,l=e.lineStart,c=e.position,!AT(e,r,Yqe,!1,!0))break;if(e.line===o){for(E=e.input.charCodeAt(e.position);oE(E);)E=e.input.charCodeAt(++e.position);if(E===58)E=e.input.charCodeAt(++e.position),Du(E)||rn(e,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(gT(e,m,h,p,g,null,a,l,c),p=g=y=null),b=!0,x=!1,i=!1,p=e.tag,g=e.result;else if(b)rn(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=f,!0}else if(b)rn(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=f,!0}if((e.line===o||e.lineIndent>t)&&(x&&(a=e.line,l=e.lineStart,c=e.position),AT(e,t,nV,!0,i)&&(x?g=e.result:y=e.result),x||(gT(e,m,h,p,g,y,a,l,c),p=g=y=null),nl(e,!0,-1),E=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&E!==0)rn(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return x&&gT(e,m,h,p,g,null,a,l,c),b&&(e.tag=u,e.anchor=f,e.kind="mapping",e.result=m),b}s(jPt,"readBlockMapping");function VPt(e){var t,r=!1,n=!1,i,o,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&rn(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(o=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):rn(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!Du(a);)a===33&&(n?rn(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Jqe.test(i)||rn(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),NPt.test(o)&&rn(e,"tag suffix cannot contain flow indicator characters")}o&&!Xqe.test(o)&&rn(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{rn(e,"tag name is malformed: "+o)}return r?e.tag=o:g3.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:rn(e,'undeclared tag handle "'+i+'"'),!0}s(VPt,"readTagProperty");function $Pt(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&rn(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Du(r)&&!pT(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&rn(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}s($Pt,"readAnchorProperty");function zPt(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Du(n)&&!pT(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&rn(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),g3.call(e.anchorMap,r)||rn(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],nl(e,!0,-1),!0}s(zPt,"readAlias");function AT(e,t,r,n,i){var o,a,l,c=1,u=!1,f=!1,m,h,p,g,y,x;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=l=nV===r||Kqe===r,n&&nl(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;VPt(e)||$Pt(e);)nl(e,!0,-1)?(u=!0,l=o,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):l=!1;if(l&&(l=u||i),(c===1||nV===r)&&(rV===r||Yqe===r?y=t:y=t+1,x=e.position-e.lineStart,c===1?l&&(Lqe(e,x)||jPt(e,x,y))||GPt(e,y)?f=!0:(a&&HPt(e,y)||qPt(e,y)||WPt(e,y)?f=!0:zPt(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&rn(e,"alias node should not have any properties")):UPt(e,y,rV===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(f=l&&Lqe(e,x))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&rn(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,h=e.implicitTypes.length;m<h;m+=1)if(g=e.implicitTypes[m],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(g3.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,p=e.typeMap.multi[e.kind||"fallback"],m=0,h=p.length;m<h;m+=1)if(e.tag.slice(0,p[m].tag.length)===p[m].tag){g=p[m];break}g||rn(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&rn(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):rn(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}s(AT,"composeNode");function YPt(e){var t=e.position,r,n,i,o=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(nl(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(o=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!Du(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&rn(e,"directive name must not be less than one character in length");a!==0;){for(;oE(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!u1(a));break}if(u1(a))break;for(r=e.position;a!==0&&!Du(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&Bfe(e),g3.call(Pqe,n)?Pqe[n](e,n,i):iV(e,'unknown document directive "'+n+'"')}if(nl(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,nl(e,!0,-1)):o&&rn(e,"directives end mark is expected"),AT(e,e.lineIndent-1,nV,!1,!0),nl(e,!0,-1),e.checkLineBreaks&&PPt.test(e.input.slice(t,e.position))&&iV(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&aV(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,nl(e,!0,-1));return}if(e.position<e.length-1)rn(e,"end of the stream or a document separator is expected");else return}s(YPt,"readDocument");function rWe(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new OPt(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,rn(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)YPt(r);return r.documents}s(rWe,"loadDocuments");function KPt(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=rWe(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}s(KPt,"loadAll$1");function JPt(e,t){var r=rWe(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Bu("expected a single document in the stream, but found more")}}s(JPt,"load$1");var XPt=KPt,ZPt=JPt,nWe={loadAll:XPt,load:ZPt},iWe=Object.prototype.toString,oWe=Object.prototype.hasOwnProperty,Pfe=65279,eNt=9,bB=10,tNt=13,rNt=32,nNt=33,iNt=34,wfe=35,oNt=37,sNt=38,aNt=39,lNt=42,sWe=44,cNt=45,oV=58,uNt=61,fNt=62,dNt=63,mNt=64,aWe=91,lWe=93,hNt=96,cWe=123,pNt=124,uWe=125,t0={};t0[0]="\\0";t0[7]="\\a";t0[8]="\\b";t0[9]="\\t";t0[10]="\\n";t0[11]="\\v";t0[12]="\\f";t0[13]="\\r";t0[27]="\\e";t0[34]='\\"';t0[92]="\\\\";t0[133]="\\N";t0[160]="\\_";t0[8232]="\\L";t0[8233]="\\P";var gNt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ANt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function yNt(e,t){var r,n,i,o,a,l,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)a=n[i],l=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),c=e.compiledTypeMap.fallback[a],c&&oWe.call(c.styleAliases,l)&&(l=c.styleAliases[l]),r[a]=l;return r}s(yNt,"compileStyleMap");function CNt(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Bu("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+yl.repeat("0",n-t.length)+t}s(CNt,"encodeHex");var xNt=1,EB=2;function vNt(e){this.schema=e.schema||zqe,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=yl.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=yNt(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?EB:xNt,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}s(vNt,"State");function Fqe(e,t){for(var r=yl.repeat(" ",t),n=0,i=-1,o="",a,l=e.length;n<l;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=l):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(o+=r),o+=a;return o}s(Fqe,"indentString");function _fe(e,t){return`
`+yl.repeat(" ",e.indent*t)}s(_fe,"generateNextLine");function bNt(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}s(bNt,"testImplicitResolving");function sV(e){return e===rNt||e===eNt}s(sV,"isWhitespace");function IB(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Pfe||65536<=e&&e<=1114111}s(IB,"isPrintable");function Mqe(e){return IB(e)&&e!==Pfe&&e!==tNt&&e!==bB}s(Mqe,"isNsCharOrWhitespace");function Qqe(e,t,r){var n=Mqe(e),i=n&&!sV(e);return(r?n:n&&e!==sWe&&e!==aWe&&e!==lWe&&e!==cWe&&e!==uWe)&&e!==wfe&&!(t===oV&&!i)||Mqe(t)&&!sV(t)&&e===wfe||t===oV&&i}s(Qqe,"isPlainSafe");function ENt(e){return IB(e)&&e!==Pfe&&!sV(e)&&e!==cNt&&e!==dNt&&e!==oV&&e!==sWe&&e!==aWe&&e!==lWe&&e!==cWe&&e!==uWe&&e!==wfe&&e!==sNt&&e!==lNt&&e!==nNt&&e!==pNt&&e!==uNt&&e!==fNt&&e!==aNt&&e!==iNt&&e!==oNt&&e!==mNt&&e!==hNt}s(ENt,"isPlainSafeFirst");function INt(e){return!sV(e)&&e!==oV}s(INt,"isPlainSafeLast");function xB(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}s(xB,"codePointAt");function fWe(e){var t=/^\n* /;return t.test(e)}s(fWe,"needIndentIndicator");var dWe=1,Sfe=2,mWe=3,hWe=4,hT=5;function TNt(e,t,r,n,i,o,a,l){var c,u=0,f=null,m=!1,h=!1,p=n!==-1,g=-1,y=ENt(xB(e,0))&&INt(xB(e,e.length-1));if(t||a)for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=xB(e,c),!IB(u))return hT;y=y&&Qqe(u,f,l),f=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=xB(e,c),u===bB)m=!0,p&&(h=h||c-g-1>n&&e[g+1]!==" ",g=c);else if(!IB(u))return hT;y=y&&Qqe(u,f,l),f=u}h=h||p&&c-g-1>n&&e[g+1]!==" "}return!m&&!h?y&&!a&&!i(e)?dWe:o===EB?hT:Sfe:r>9&&fWe(e)?hT:a?o===EB?hT:Sfe:h?hWe:mWe}s(TNt,"chooseScalarStyle");function wNt(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===EB?'""':"''";if(!e.noCompatMode&&(gNt.indexOf(t)!==-1||ANt.test(t)))return e.quotingType===EB?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),l=n||e.flowLevel>-1&&r>=e.flowLevel;function c(u){return bNt(e,u)}switch(s(c,"testAmbiguity"),TNt(t,l,e.indent,a,c,e.quotingType,e.forceQuotes&&!n,i)){case dWe:return t;case Sfe:return"'"+t.replace(/'/g,"''")+"'";case mWe:return"|"+Oqe(t,e.indent)+Uqe(Fqe(t,o));case hWe:return">"+Oqe(t,e.indent)+Uqe(Fqe(_Nt(t,a),o));case hT:return'"'+SNt(t)+'"';default:throw new Bu("impossible error: invalid scalar style")}}()}s(wNt,"writeScalar");function Oqe(e,t){var r=fWe(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}s(Oqe,"blockHeader");function Uqe(e){return e[e.length-1]===`
`?e.slice(0,-1):e}s(Uqe,"dropEndingNewline");function _Nt(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,qqe(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",o,a;a=r.exec(e);){var l=a[1],c=a[2];o=c[0]===" ",n+=l+(!i&&!o&&c!==""?`
`:"")+qqe(c,t),i=o}return n}s(_Nt,"foldString");function qqe(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,a=0,l=0,c="";n=r.exec(e);)l=n.index,l-i>t&&(o=a>i?a:l,c+=`
`+e.slice(i,o),i=o+1),a=l;return c+=`
`,e.length-i>t&&a>i?c+=e.slice(i,a)+`
`+e.slice(a+1):c+=e.slice(i),c.slice(1)}s(qqe,"foldLine");function SNt(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=xB(e,i),n=t0[r],!n&&IB(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||CNt(r);return t}s(SNt,"escapeString");function RNt(e,t,r){var n="",i=e.tag,o,a,l;for(o=0,a=r.length;o<a;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(C2(e,t,l,!1,!1)||typeof l>"u"&&C2(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}s(RNt,"writeFlowSequence");function Wqe(e,t,r,n){var i="",o=e.tag,a,l,c;for(a=0,l=r.length;a<l;a+=1)c=r[a],e.replacer&&(c=e.replacer.call(r,String(a),c)),(C2(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&C2(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=_fe(e,t)),e.dump&&bB===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}s(Wqe,"writeBlockSequence");function kNt(e,t,r){var n="",i=e.tag,o=Object.keys(r),a,l,c,u,f;for(a=0,l=o.length;a<l;a+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),c=o[a],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),C2(e,t,c,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),C2(e,t,u,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}s(kNt,"writeFlowMapping");function BNt(e,t,r,n){var i="",o=e.tag,a=Object.keys(r),l,c,u,f,m,h;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new Bu("sortKeys must be a boolean or a function");for(l=0,c=a.length;l<c;l+=1)h="",(!n||i!=="")&&(h+=_fe(e,t)),u=a[l],f=r[u],e.replacer&&(f=e.replacer.call(r,u,f)),C2(e,t+1,u,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&bB===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,m&&(h+=_fe(e,t)),C2(e,t+1,f,!0,m)&&(e.dump&&bB===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=o,e.dump=i||"{}"}s(BNt,"writeBlockMapping");function Gqe(e,t,r){var n,i,o,a,l,c;for(i=r?e.explicitTypes:e.implicitTypes,o=0,a=i.length;o<a;o+=1)if(l=i[o],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(r?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(c=e.styleMap[l.tag]||l.defaultStyle,iWe.call(l.represent)==="[object Function]")n=l.represent(t,c);else if(oWe.call(l.represent,c))n=l.represent[c](t,c);else throw new Bu("!<"+l.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}s(Gqe,"detectType");function C2(e,t,r,n,i,o,a){e.tag=null,e.dump=r,Gqe(e,r,!1)||Gqe(e,r,!0);var l=iWe.call(e.dump),c=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=l==="[object Object]"||l==="[object Array]",m,h;if(f&&(m=e.duplicates.indexOf(r),h=m!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(f&&h&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),l==="[object Object]")n&&Object.keys(e.dump).length!==0?(BNt(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(kNt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?Wqe(e,t-1,e.dump,i):Wqe(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(RNt(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&wNt(e,e.dump,t,o,c);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Bu("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}s(C2,"writeNode");function DNt(e,t){var r=[],n=[],i,o;for(Rfe(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}s(DNt,"getDuplicateReferences");function Rfe(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)Rfe(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)Rfe(e[n[i]],t,r)}s(Rfe,"inspectNode");function PNt(e,t){t=t||{};var r=new vNt(t);r.noRefs||DNt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),C2(r,0,n,!0,!0)?r.dump+`
`:""}s(PNt,"dump$1");var NNt=PNt,LNt={dump:NNt};function Nfe(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}s(Nfe,"renamed");var l6n=nWe.load,c6n=nWe.loadAll,Lfe=LNt.dump;var u6n=Nfe("safeLoad","load"),f6n=Nfe("safeLoadAll","loadAll"),d6n=Nfe("safeDump","dump");var sE=Ze(Vf());var Ffe=class{constructor(){this.resolvedSkills={};this.resolutions=[]}static{s(this,"SkillDump")}},$l=class{constructor(){this.dump=new un(25);this.promptsDump=new un(1)}static{s(this,"ConversationDumper")}addResolvedSkill(t,r,n){let i=this.getDump(t);i.resolvedSkills[r]=n}getResolvedSkill(t,r){return this.getDump(t).resolvedSkills[r]}addResolution(t,r){this.getDump(t).resolutions.push(r)}getDump(t){let r=this.dump.get(t);return r||(r=new Ffe,this.dump.set(t,r)),r}addPrompt(t,r,n){let i=this.promptsDump.get(t);i===void 0&&(i=new Map,this.promptsDump.set(t,i)),i.set(n,r)}getLastTurnPrompts(){if(this.promptsDump===void 0)return;let t=this.promptsDump.values().next();if(!t.done)return t.value}};function pWe(e){let t=e.copy();return t.turns=t.turns.filter(r=>r.status!=="in-progress"&&(r.response===void 0||r.response?.type==="model")),t}s(pWe,"filterConversationTurns");function xfe(e){return pWe(e).getLastTurn()?.id}s(xfe,"getLastTurnId");async function Eqe(e){let t=pWe(e.conversation),r=xfe(e.conversation);if(!r)return"Nothing to dump because no request has been sent to the model yet.";let i=e.ctx.get($l).getDump(r),o=QNt(i,t.turns);Wn.debug(e.ctx,`conversation.dump
`,`
`+o);let a=await ONt(i,e.ctx);return sE.default`
        ${MNt(e.conversation,r)}
        ${FNt(e.ctx)}

        The following code can be copied into a chat simulation \`yml\` file. This response has not polluted the conversation history and did not cause any model roundtrip.
        \`\`\`yaml
        ${o}
        \`\`\`${a?`
${a}`:""}
        `}s(Eqe,"getConversationDump");function FNt(e){let t=e.get(gn);return sE.default`
        - IDE: \`${t.getEditorInfo().name} (${t.getEditorInfo().version})\`
        - Plugin: \`${t.getEditorPluginInfo().version}\`
    `}s(FNt,"getEditorInfoDumpMessage");function MNt(e,t){return sE.default`
        Debug information for the last turn of the conversation.

        - ConversationId: \`${e.id}\`
        - MessageId: \`${t}\`
    `}s(MNt,"getInfoDumpMessage");async function Iqe(e,t,r){let n=e.ctx.get(Al),i="# Available skills",o=n.getDescriptors().filter(a=>e.ctx.get(Wi).getSupportedSkills(e.conversation.id).includes(a.id));if(r&&(o=o.filter(a=>a.id===r)),o.length===0)return`No skill with id ${r} available`;for(let a of o)i+=`
- ${a.id}`;e.turn.request.message&&ln(e.turn.request.message).trim().length>0&&(i+=`

**User message**: ${ln(e.turn.request.message)}`);for(let a of o){i+=`
## ${a.id}`,i+=sE.default`
            \n\n
            **Description**
            
            ${a.description()}`;let l=n.getSkill(a.id),c=await l?.resolver(e).resolveSkill(e);if(c){i+=sE.default`
                \n\n
                **Resolution**
                
                \`\`\`yaml
                ${Lfe(c)}
                \`\`\``;let u=await l?.processor(e).processSkill(c,e);if(u){let f=typeof u=="string"?u:u.elide(1e3).getText();i+=sE.default`
                    \n\n
                    **Processed value**
                    
                    ${f}`}else i+=`

**Unprocessable**`}else i+=`

**Unresolvable**`}return i}s(Iqe,"getSkillsDump");function QNt(e,t){let r={state:{skills:e.resolvedSkills},turns:t.map((n,i)=>{let o={request:ln(n.request.message)};return n.response&&(o.response=ln(n.response.message)),o})};return Lfe(r)}s(QNt,"toSimulationFormat");async function ONt(e,t){let r=e.resolutions.map(o=>o.files).flat(),n=r.filter((o,a)=>o&&r.indexOf(o)===a),i;for(let o of n)if(o&&o.status==="included"){i||(i=`The following files have been used:
`);let a=await t.get(On).getOrReadTextDocument(o),l;a.status==="valid"&&(l=a.document);let c=l?.getText();Wn.debug(t,`conversation.dump.file
`,c),i+=`
**${o.uri}**

\`\`\`${l?.detectedLanguageId}
${c}
\`\`\``}return i}s(ONt,"fileDump");d();function Mfe(e,t){let r=lo(t.tokenizer),n=0;for(let i of e)n+=t.baseTokensPerMessage,i.role&&(n+=r.tokenize(i.role).length),i.name&&(n+=r.tokenize(i.name).length+t.baseTokensPerName),i.content&&(n+=r.tokenize(ln(i.content)).length);return n+=t.baseTokensPerCompletion,n}s(Mfe,"countMessagesTokens");d();function gWe(e,t,r,n,i){let o=["You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","You can answer general programming questions and perform the following tasks:","* Ask a question about the files in your current workspace","* Explain how the code in your active editor works","* Make changes to existing code","* Review the selected code in your active editor","* Generate unit tests for the selected code","* Propose a fix for the problems in the selected code","* Scaffold code for a new file or project in a workspace","* Create a new Jupyter Notebook","* Ask questions about VS Code","* Generate query parameters for workspace search","* Ask how to do something in the terminal","* Explain what just happened in the terminal"].join(`
`),a=["The active document is the source code the user is looking at right now.","You have read access to the code in the active document, files the user has recently worked with and open tabs. You are able to retrieve, read and use this code to answer questions.","You cannot retrieve code that is outside of the current project.","You can only give one reply for each conversation turn."].join(`
`),l=t?`The user works in an IDE called ${t} which can be used to edit code, run and debug the user's application as well as executing tests.`:"",c=n?`The user is using ${n} as their operating system.`:"",u=i?`You use the ${i} large language model.`:"",f=r?`The user is logged in as ${r} on GitHub.`:"";return[o,c,u,f,l,a].filter(m=>m&&m!="").join(`
`)}s(gWe,"chatBasePrompt");d();d();d();d();d();var UNt=".github/copilot-instructions.md",qNt=".github/git-commit-instructions.md",lV=class{static{s(this,"CustomInstructionsService")}static async _collectInstructionsFromFile(t,r,n,i,o,a){try{let l=Do(r.uri,n),c=await t.getByUri(l);if(c.status!=="valid"||!c.document)return;let u=c.document.getText().trim();u&&o.push({kind:a,content:[{instruction:u,languageId:i}],reference:l})}catch{}}static async readFromWorkspaces(t,r,n={}){let i=[];if(!r.length)return i;let o=new Mg(t),a=r.flatMap(l=>{let c=[];return n.includeCodeGenerationInstructions!==!1&&c.push(this._collectInstructionsFromFile(o,l,UNt,n.languageId,i,0)),n.includeCommitMessageGenerationInstructions&&c.push(this._collectInstructionsFromFile(o,l,qNt,void 0,i,0)),c});return await Promise.all(a),i}};var yT=class{static{s(this,"CustomInstruction")}static async getInstructions(t,r,n={}){try{let i=await lV.readFromWorkspaces(t,r,n);return this.processInstructions(i,n)}catch{return}}static processInstructions(t,r={}){if(!t||t.length===0)return;let n=[];for(let o of t){let a=this.createInstructionElement(o,r);a&&n.push(a)}return n.length===0?void 0:`${r.customIntroduction||"When generating code, please follow these user provided coding instructions. You can ignore an instruction if it contradicts a system message."}

<instructions>${n.join(`
`)}</instructions>`}static createInstructionElement(t,r={}){let n=[];for(let i of t.content)i.languageId?r.languageId&&i.languageId===r.languageId&&n.push(`For ${i.languageId} code: ${i.instruction}`):n.push(i.instruction);if(n.length!==0)return n.join(`
`)}};d();d();function AWe(e){let t=e.split(`
`),r=[],n=!1,i=[];for(let o of t)o.startsWith("```")?(n?(r.push([cf(i.join(`
`)),1]),i=[],r.push([new Yt([o]),1])):r.push([new Yt([o]),1]),n=!n):n?i.push(o):r.push([new Yt([o]),.8]);return n&&(r.push([cf(i.join(`
`)),1]),r.push([new Yt(["```"]),1])),new Yt(r)}s(AWe,"fromMessage");function CT(e){let t=Qfe(e),r=[];for(let n=0;n<t.length;n++){let i=t[n],o=yWe(i.request,n+1),a=i.response&&i.response?.type!=="meta"?yWe(i.response):"",l=o;a!==""&&(l+=`
`+a+(t.length>1&&n!==t.length-1?`
`:"")),r.push(AWe(l))}return r.length>0?new Yt([[new Yt(["Consider the following conversation history:"]),1],[m3(r,"inverseLinear"),1]]):null}s(CT,"fromHistory");var WNt=5;function Qfe(e,t){return e.filter(n=>(n.status==="success"||n.status==="in-progress")&&ln(n.request.message)!=""&&n.agent?.agentSlug===t).reverse().slice(0,WNt).reverse()}s(Qfe,"filterTurns");function yWe(e,t=0){let r;switch(e.type){case"user":case"template":r="User";break;case"model":r="GitHub Copilot";break;default:r=e.type}let n=ln(e.message).startsWith("```")?`
`:" ";return`${t>0?`${t}) `:""}${r}:${n}${ln(e.message)}`}s(yWe,"formatTurnMessage");d();d();d();var GNt=4,Ofe={skillIds:[]},cV=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{s(this,"MetaPromptFetcher")}async fetchPromptContext(t,r,n,i,o){let a=t.conversation.getLastTurn().request.message;if(r.length>0){let l=await Co.getModelConfiguration(t.ctx,"meta",void 0,{tool_calls:!0}),c={promptType:"meta",supportedSkillDescriptors:r,modelConfiguration:l},u=await this.ctx.get(vc).toPrompt(t,c),f=i.extendedBy({messageSource:"chat.metaprompt"},{promptTokenLen:u.tokens}),m={modelConfiguration:l,messages:u.messages,uiKind:o,llmInteraction:t.toLlmInteraction()};if(u.toolConfig===void 0)throw new Error("No tool call configuration found in meta prompt.");m.tool_choice=u.toolConfig.tool_choice,m.tools=u.toolConfig.tools;let h=await this.chatFetcher.fetchResponse(m,n,f);return h.type!=="success"&&(Kr.error(this.ctx,"Failed to fetch prompt context, trying again..."),h=await this.chatFetcher.fetchResponse(m,n,f)),await t.ctx.get(rl).inspectFetchResult(h),this.handleResult(h,f,ln(a),o,u.toolConfig)}else return Ofe}handleResult(t,r,n,i,o){if(t.type!=="success")return this.telemetryError(r,t),Ofe;let l;if(t.toolCalls&&t.toolCalls.length>0)l=o.extractArguments(t.toolCalls[0]).skillIds?.slice(0,GNt);else return Kr.error(this.ctx,"Missing tool call in meta prompt response"),Ofe;let c=r.extendedBy({uiKind:i,skillIds:l?.join(",")??""},{numTokens:t.numTokens+t.toolCalls[0].approxNumTokens}),u=c.extendedBy({messageText:n});return jt(this.ctx,`${C0(i)}.metaPrompt`,c,0),jt(this.ctx,`${C0(i)}.promptContext`,u,1),{skillIds:l??[]}}telemetryError(t,r){let n=t.extendedBy({resultType:r.type,reason:r.reason??""});jt(this.ctx,"conversation.promptContextError",n,1)}};d();d();d();var uV=class{constructor(){this.languageId=["java","kotlin","scala","groovy"]}static{s(this,"JavaProjectMetadataLookup")}determineBuildTools(t){return[...t.buildTools]}determineApplicationFrameworks(t){let r=[];return he(t,r,"org.springframework.boot","Spring Boot"),he(t,r,"jakarta.jakartaee-api","Jakarta EE"),he(t,r,"javax:javaee-api","Java EE"),he(t,r,"org.apache.struts:struts2-core","Apache Struts"),he(t,r,"org.hibernate:hibernate-core","Hibernate"),he(t,r,"org.apache.wicket:wicket-core","Apache Wicket"),he(t,r,"javax.faces:jsf-api","JSF"),he(t,r,"org.grails:grails-core","Grails"),r}determineCoreLibraries(t){let r=[];return he(t,r,"com.google.guava","Google Guava"),he(t,r,"org.apache.commons:commons-lang3","Apache Commons Lang"),he(t,r,"org.apache.commons:commons-io","Apache Commons IO"),he(t,r,"joda-time:joda-time","Joda-Time"),he(t,r,"com.google.code.gson:gson","Google Gson"),he(t,r,"org.apache.commons:commons-math3","Apache Commons Math"),he(t,r,"org.apache.commons:commons-collections4","Apache Commons Collections"),he(t,r,"org.apache.commons:commons-net","Apache Commons Net"),he(t,r,"org.apache.poi:poi","Apache POI"),he(t,r,"com.fasterxml.jackson.core:jackson-databind","Jackson"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"org.junit.jupiter:junit-jupiter","JUnit"),he(t,r,"junit:junit","JUnit"),he(t,r,"org.testng:testng","TestNG"),he(t,r,"org.spockframework:spock-core","Spock"),he(t,r,"io.cucumber:cucumber-java","Cucumber"),he(t,r,"org.jboss.arquillian.junit:arquillian-junit-container","Arquillian"),r}determineTestingLibraries(t){let r=[];return he(t,r,"org.mockito","Mockito"),he(t,r,"org.assertj","AssertJ"),he(t,r,"org.hamcrest","Hamcrest"),he(t,r,"org.powermock","PowerMock"),he(t,r,"org.jmock","JMock"),he(t,r,"org.easymock","EasyMock"),he(t,r,"org.jmockit:jmockit","JMockit"),he(t,r,"com.github.tomakehurst:wiremock","WireMock"),he(t,r,"org.dbunit:dbunit","DBUnit"),he(t,r,"com.icegreen:greenmail","GreenMail"),he(t,r,"net.sourceforge.htmlunit:htmlunit","HtmlUnit"),he(t,r,"org.seleniumhq.selenium:selenium-java","Selenium"),he(t,r,"io.rest-assured:rest-assured","Rest-Assured"),he(t,r,"io.gatling.highcharts:gatling-charts-highcharts","Gatling"),he(t,r,"org.apache.jmeter:ApacheJMeter","JMeter"),r}},fV=class{constructor(){this.languageId=["javascript","javascriptreact","typescript","typescriptreact","vue"]}static{s(this,"JavaScriptProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"@types/node","Node.js"),he(t,r,"react-native","React Native"),r.find(n=>n.name==="React Native")||he(t,r,"react","React"),he(t,r,"angular","Angular"),he(t,r,"vue","Vue.js"),he(t,r,"ember","Ember.js"),he(t,r,"backbone","Backbone.js"),he(t,r,"meteor","Meteor"),he(t,r,"polymer","Polymer"),he(t,r,"aurelia","Aurelia"),he(t,r,"knockout","Knockout.js"),he(t,r,"dojo","Dojo Toolkit"),he(t,r,"mithril","Mithril.js"),he(t,r,"marionette","Marionette.js"),he(t,r,"marko","Marko.js"),he(t,r,"svelte","Svelte"),he(t,r,"hyperapp","Hyperapp"),he(t,r,"inferno","Inferno.js"),he(t,r,"preact","Preact"),he(t,r,"riot","Riot.js"),he(t,r,"moon","Moon.js"),he(t,r,"stencil","Stencil.js"),r}determineCoreLibraries(t){let r=[];return he(t,r,"lodash","Lodash"),he(t,r,"moment","Moment.js"),he(t,r,"axios","Axios"),he(t,r,"redux","Redux"),he(t,r,"recoil","Recoil"),he(t,r,"jquery","jQuery"),he(t,r,"d3","D3.js"),he(t,r,"underscore","Underscore.js"),he(t,r,"ramda","Ramda"),he(t,r,"immutable","Immutable.js"),he(t,r,"rxjs","RxJS"),he(t,r,"three","Three.js"),he(t,r,"socket.io","Socket.IO"),he(t,r,"express","Express.js"),he(t,r,"next","Next.js"),he(t,r,"puppeteer","Puppeteer"),he(t,r,"cheerio","Cheerio"),he(t,r,"nodemailer","Nodemailer"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"jest","Jest"),he(t,r,"mocha","Mocha"),he(t,r,"jasmine","Jasmine"),he(t,r,"ava","AVA"),he(t,r,"qunit","QUnit"),he(t,r,"tape","Tape"),r}determineTestingLibraries(t){let r=[];return he(t,r,"chai","Chai"),he(t,r,"sinon","Sinon"),he(t,r,"enzyme","Enzyme"),he(t,r,"protractor","Protractor"),he(t,r,"supertest","Supertest"),he(t,r,"nock","Nock"),he(t,r,"cypress","Cypress"),he(t,r,"@testing-library/react","React Testing Library"),r}},dV=class{constructor(){this.languageId="go"}static{s(this,"GoProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"github.com/gorilla/mux","Gorilla Mux"),he(t,r,"github.com/go-chi/chi","Chi"),he(t,r,"github.com/gin-gonic/gin","Gin"),he(t,r,"github.com/labstack/echo","Echo"),he(t,r,"github.com/revel/revel","Revel"),he(t,r,"github.com/astaxie/beego","Beego"),he(t,r,"github.com/go-martini/martini","Martini"),he(t,r,"github.com/gobuffalo/buffalo","Buffalo"),he(t,r,"github.com/goji/goji","Goji"),he(t,r,"github.com/hoisie/web","Web.go"),r}determineCoreLibraries(t){let r=[];return he(t,r,"net/http","net/http"),he(t,r,"fmt","fmt"),he(t,r,"io","io"),he(t,r,"time","time"),he(t,r,"math","math"),he(t,r,"strconv","strconv"),he(t,r,"strings","strings"),he(t,r,"sort","sort"),he(t,r,"encoding/json","encoding/json"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"github.com/onsi/ginkgo","ginkgo"),he(t,r,"github.com/onsi/gomega","gomega"),he(t,r,"github.com/stretchr/testify","testify"),he(t,r,"gopkg.in/check.v1","gocheck"),he(t,r,"github.com/franela/goblin","goblin"),he(t,r,"github.com/DATA-DOG/godog","godog"),he(t,r,"github.com/stesla/gospec","gospec"),he(t,r,"github.com/rjeczalik/gotest","gotest"),he(t,r,"github.com/smartystreets/goconvey","goconvey"),r}determineTestingLibraries(t){let r=[];return he(t,r,"github.com/stretchr/testify","Testify"),he(t,r,"github.com/smartystreets/goconvey","GoConvey"),he(t,r,"github.com/onsi/ginkgo","Ginkgo"),he(t,r,"github.com/golang/mock","GoMock"),he(t,r,"gopkg.in/check.v1","GoCheck"),he(t,r,"github.com/franela/goblin","Goblin"),he(t,r,"github.com/DATA-DOG/godog","GoDog"),he(t,r,"github.com/onsi/gomega","Gomega"),he(t,r,"github.com/stesla/gospec","GoSpec"),he(t,r,"github.com/rjeczalik/gotest","GoTest"),r}},mV=class{constructor(){this.languageId=["python","jupyter"]}static{s(this,"PythonProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"flask","Flask"),he(t,r,"django","Django"),he(t,r,"pyramid","Pyramid"),he(t,r,"tornado","Tornado"),he(t,r,"fastapi","FastAPI"),r}determineCoreLibraries(t){let r=[];return he(t,r,"requests","requests"),he(t,r,"numpy","numpy"),he(t,r,"pandas","pandas"),he(t,r,"scipy","scipy"),he(t,r,"matplotlib","matplotlib"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"pytest","Pytest"),he(t,r,"unittest","Unittest"),he(t,r,"doctest","Doctest"),he(t,r,"nose","Nose"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mock","Mock"),he(t,r,"hypothesis","Hypothesis"),he(t,r,"behave","Behave"),he(t,r,"lettuce","Lettuce"),he(t,r,"testify","Testify"),he(t,r,"pyhamcrest","PyHamcrest"),r}},hV=class{constructor(){this.languageId=["php","blade"]}static{s(this,"PhpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"laravel/framework","Laravel"),he(t,r,"symfony/symfony","Symfony"),he(t,r,"slim/slim","Slim"),he(t,r,"cakephp/cakephp","CakePHP"),he(t,r,"yiisoft/yii2","Yii"),he(t,r,"zendframework/zendframework","Zend Framework"),he(t,r,"phalcon/cphalcon","Phalcon"),he(t,r,"bcosca/fatfree","Fat-Free"),he(t,r,"fuel/fuel","FuelPHP"),he(t,r,"phpixie/framework","PHPixie"),r}determineCoreLibraries(t){let r=[];return he(t,r,"monolog/monolog","Monolog"),he(t,r,"vlucas/phpdotenv","PHP dotenv"),he(t,r,"symfony/console","Symfony Console"),he(t,r,"guzzlehttp/guzzle","GuzzleHttp"),he(t,r,"ramsey/uuid","Ramsey UUID"),he(t,r,"doctrine/orm","Doctrine ORM"),he(t,r,"php-di/php-di","PHP-DI"),he(t,r,"phpunit/php-timer","PHPUnit Timer"),he(t,r,"symfony/finder","Symfony Finder"),he(t,r,"symfony/yaml","Symfony Yaml"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"phpunit/phpunit","PHPUnit"),he(t,r,"behat/behat","Behat"),he(t,r,"phpspec/phpspec","PHPSpec"),he(t,r,"codeception/codeception","Codeception"),he(t,r,"atoum/atoum","Atoum"),he(t,r,"pestphp/pest","PestPHP"),he(t,r,"kahlan/kahlan","Kahlan"),he(t,r,"peridot-php/peridot","Peridot"),he(t,r,"phake/phake","Phake"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mockery/mockery","Mockery"),he(t,r,"php-mock/php-mock","PHP-Mock"),he(t,r,"php-mock/php-mock-phpunit","PHP-Mock PHPUnit"),he(t,r,"padraic/mockery","Padraic Mockery"),he(t,r,"phpspec/prophecy","PHPSpec Prophecy"),he(t,r,"phpunit/php-invoker","PHPUnit Invoker"),he(t,r,"phpunit/php-token-stream","PHPUnit Token Stream"),he(t,r,"phpunit/php-code-coverage","PHPUnit Code Coverage"),he(t,r,"phpunit/php-timer","PHPUnit Timer"),he(t,r,"phpunit/php-text-template","PHPUnit Text Template"),r}},pV=class{constructor(){this.languageId="csharp"}static{s(this,"CSharpProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"Microsoft.NETCore.App",".NET Core"),he(t,r,"Microsoft.AspNetCore.App","ASP.NET Core"),r}determineCoreLibraries(t){let r=[];return he(t,r,"EntityFramework","Entity Framework"),he(t,r,"Newtonsoft.Json","Newtonsoft.Json"),he(t,r,"AutoMapper","AutoMapper"),he(t,r,"Serilog","Serilog"),he(t,r,"Dapper","Dapper"),he(t,r,"Polly","Polly"),he(t,r,"FluentValidation","FluentValidation"),he(t,r,"MediatR","MediatR"),he(t,r,"Hangfire","Hangfire"),he(t,r,"RabbitMQ.Client","RabbitMQ.Client"),he(t,r,"MassTransit","MassTransit"),he(t,r,"Microsoft.Extensions.Logging","Microsoft.Extensions.Logging"),he(t,r,"Microsoft.Extensions.DependencyInjection","Microsoft.Extensions.DependencyInjection"),he(t,r,"Microsoft.Extensions.Configuration","Microsoft.Extensions.Configuration"),he(t,r,"Microsoft.Extensions.Http","Microsoft.Extensions.Http"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"xunit","xUnit"),he(t,r,"NUnit","NUnit"),he(t,r,"SpecFlow","SpecFlow"),r}determineTestingLibraries(t){let r=[];return he(t,r,"Moq","Moq"),he(t,r,"FluentAssertions","FluentAssertions"),he(t,r,"Bogus","Bogus"),he(t,r,"RestSharp","RestSharp"),he(t,r,"Swashbuckle.AspNetCore","Swashbuckle.AspNetCore"),r}},gV=class{constructor(){this.languageId="dart"}static{s(this,"DartProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"flutter","Flutter"),he(t,r,"angular","AngularDart"),r}determineCoreLibraries(t){let r=[];return he(t,r,"dartx","dartx"),he(t,r,"provider","Provider"),he(t,r,"rxdart","RxDart"),he(t,r,"dio","Dio"),he(t,r,"json_serializable","json_serializable"),he(t,r,"freezed","Freezed"),he(t,r,"moor","Moor"),he(t,r,"hive","Hive"),he(t,r,"http","http"),he(t,r,"path","path"),he(t,r,"intl","intl"),he(t,r,"equatable","equatable"),he(t,r,"get_it","get_it"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"test","test"),he(t,r,"flutter_test","flutter_test"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mockito","mockito"),he(t,r,"bloc_test","bloc_test"),r}},AV=class{constructor(){this.languageId="ruby"}static{s(this,"RubyProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"rails","Rails"),he(t,r,"sinatra","Sinatra"),he(t,r,"hanami","Hanami"),he(t,r,"grape","Grape"),he(t,r,"roda","Roda"),he(t,r,"padrino","Padrino"),he(t,r,"cuba","Cuba"),he(t,r,"ramaze","Ramaze"),he(t,r,"nyara","Nyara"),he(t,r,"rack","Rack"),r}determineCoreLibraries(t){let r=[];return he(t,r,"active_record","ActiveRecord"),he(t,r,"sequel","Sequel"),he(t,r,"rom","ROM"),he(t,r,"datamapper","DataMapper"),he(t,r,"mongoid","Mongoid"),he(t,r,"neo4j","Neo4j"),he(t,r,"redis","Redis"),he(t,r,"cassandra","Cassandra"),he(t,r,"couchrest","CouchRest"),he(t,r,"riak","Riak"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"rspec","RSpec"),he(t,r,"minitest","Minitest"),he(t,r,"cucumber","Cucumber"),he(t,r,"spinach","Spinach"),he(t,r,"turnip","Turnip"),he(t,r,"bacon","Bacon"),he(t,r,"shoulda","Shoulda"),he(t,r,"test-unit","Test::Unit"),he(t,r,"wrong","Wrong"),he(t,r,"contest","Contest"),r}determineTestingLibraries(t){let r=[];return he(t,r,"factory_bot","FactoryBot"),he(t,r,"faker","Faker"),he(t,r,"ffaker","FFaker"),he(t,r,"fabrication","Fabrication"),he(t,r,"machinist","Machinist"),he(t,r,"mocha","Mocha"),he(t,r,"flexmock","FlexMock"),he(t,r,"rr","RR"),he(t,r,"bourne","Bourne"),he(t,r,"not_a_mock","NotAMock"),r}},yV=class{constructor(){this.languageId="rust"}static{s(this,"RustProjectMetadataLookup")}determineBuildTools(t){return t.buildTools}determineApplicationFrameworks(t){let r=[];return he(t,r,"tokio","tokio"),he(t,r,"async-std","async-std"),he(t,r,"hyper","hyper"),he(t,r,"actix-web","actix-web"),he(t,r,"rocket","rocket"),r}determineCoreLibraries(t){let r=[];return he(t,r,"serde","serde"),he(t,r,"regex","regex"),he(t,r,"rand","rand"),he(t,r,"log","log"),he(t,r,"lazy_static","lazy_static"),he(t,r,"libc","libc"),he(t,r,"futures","futures"),he(t,r,"rayon","rayon"),he(t,r,"reqwest","reqwest"),he(t,r,"warp","warp"),r}determineTestingFrameworks(t){let r=[];return he(t,r,"test-case","test-case"),he(t,r,"proptest","proptest"),he(t,r,"quickcheck","quickcheck"),r}determineTestingLibraries(t){let r=[];return he(t,r,"mockall","mockall"),he(t,r,"double","double"),he(t,r,"rstest","rstest"),he(t,r,"mockiato","mockiato"),he(t,r,"mock_derive","mock_derive"),he(t,r,"mocktopus","mocktopus"),he(t,r,"mockers","mockers"),he(t,r,"mock_it","mock_it"),r}},CV=class{constructor(){this.languageId=["c","cpp"]}static{s(this,"CProjectMetadataLookup")}determineBuildTools(t){return t.buildTools.filter(r=>["gcc","clang","make","cmake","autotools","ninja","meson"].includes(r.name))}determineApplicationFrameworks(t){return t.libraries.filter(r=>["libc","libuv","openssl","zlib","libevent","libcurl"].includes(r.name))}determineCoreLibraries(t){return t.libraries.filter(r=>["libpng","libjpeg","libxml2","sqlite","postgres","mysql"].includes(r.name))}determineTestingFrameworks(t){return t.libraries.filter(r=>["unity","criterion","cmocka","check","ctest","minunit"].includes(r.name))}determineTestingLibraries(t){return t.libraries.filter(r=>["cmock","fff","trompeloeil","fakeit"].includes(r.name))}};function he(e,t,r,n){let i=e.libraries.find(o=>o.name.toLowerCase().indexOf(r.toLowerCase())>-1);i&&t.push({name:n,version:i.version})}s(he,"addFromLibraries");var xV=class{constructor(t,r){this.languageId=t;this.delegates=r}static{s(this,"CompositeProjectMetadataLookup")}determineBuildTools(t){return this.delegates.map(r=>r.determineBuildTools(t)).flat()}determineApplicationFrameworks(t){return this.delegates.map(r=>r.determineApplicationFrameworks(t)).flat()}determineCoreLibraries(t){return this.delegates.map(r=>r.determineCoreLibraries(t)).flat()}determineTestingFrameworks(t){return this.delegates.map(r=>r.determineTestingFrameworks(t)).flat()}determineTestingLibraries(t){return this.delegates.map(r=>r.determineTestingLibraries(t)).flat()}};function xWe(e){return e.language.version?e.language.name+" "+e.language.version:e.language.name}s(xWe,"determineProgrammingLanguage");var CWe=[new uV,new fV,new dV,new mV,new hV,new pV,new gV,new AV,new yV,new CV];function vWe(e){let t=CWe.find(r=>typeof r.languageId=="string"?r.languageId===e:Array.isArray(r.languageId)?r.languageId.includes(e):!1)??new xV(e,CWe);return new Ufe(t)}s(vWe,"getMetadataLookup");var Ufe=class{constructor(t){this.delegate=t;this.languageId=t.languageId}static{s(this,"DistinctProjectMetadataLookup")}determineBuildTools(t){return this.deduplicateDependencies(this.delegate.determineBuildTools(t))}determineApplicationFrameworks(t){return this.deduplicateDependencies(this.delegate.determineApplicationFrameworks(t))}determineCoreLibraries(t){return this.deduplicateDependencies(this.delegate.determineCoreLibraries(t))}determineTestingFrameworks(t){return this.deduplicateDependencies(this.delegate.determineTestingFrameworks(t))}determineTestingLibraries(t){return this.deduplicateDependencies(this.delegate.determineTestingLibraries(t))}deduplicateDependencies(t){let r=[];return t.forEach(n=>{r.find(i=>i.name===n.name)||r.push(n)}),r}};var bWe=I.Object({name:I.String(),version:I.Optional(I.String())}),EWe=I.Object({language:I.Object({id:I.String(),name:I.String(),version:I.Optional(I.String())}),libraries:I.Array(bWe),buildTools:I.Array(bWe)}),qfe=class{constructor(t){this.turnContext=t}static{s(this,"ProjectMetadataSkillProcessor")}value(){return 1}processSkill(t){let r=[];r.push([new Yt([`The user is working on a project with the following characteristics:
`]),1]);let n=vWe(t.language.id);return this.addProgrammingLanguage(t,r),this.addBuildTools(t,r,n),this.addApplicationFramework(t,r,n),this.addCoreLibraries(t,r,n),this.addTestingFrameworks(t,r,n),this.addTestingLibraries(t,r,n),new Yt(r)}addProgrammingLanguage(t,r){let n=xWe(t);this.turnContext.collectLabel(f1,n),r.push([new Yt([`- programming language: ${n}`]),1])}addBuildTools(t,r,n){this.addToPrompt(r,"- build tools:",n.determineBuildTools(t))}addApplicationFramework(t,r,n){this.addToPrompt(r,"- application frameworks:",n.determineApplicationFrameworks(t))}addCoreLibraries(t,r,n){this.addToPrompt(r,"- core libraries:",n.determineCoreLibraries(t))}addTestingFrameworks(t,r,n){this.addToPrompt(r,"- testing frameworks:",n.determineTestingFrameworks(t))}addTestingLibraries(t,r,n){this.addToPrompt(r,"- testing libraries:",n.determineTestingLibraries(t))}addToPrompt(t,r,n){if(n.length>0){n.forEach(o=>{this.turnContext.collectLabel(f1,`${o.name}${o.version?" "+o.version:""}`)});let i=n.map(o=>`  - ${o.name}${o.version?" "+o.version:""}`).join(`
`);t.push([new Yt([`${r}
${i}`]),1])}}},f1="project-metadata",vV=class{constructor(t){this._resolver=t;this.id=f1;this.type="explicit"}static{s(this,"ProjectMetadataSkill")}description(){return"The characteristics of the project the developer is working on (languages, frameworks)"}resolver(){return this._resolver}processor(t){return new qfe(t)}};d();var IWe=Ze(require("path"));var Wfe=class{constructor(t){this.turnContext=t}static{s(this,"ReferencesSkillProcessor")}value(){return 1}async processSkill(t){let r=this.turnContext.ctx.get(On),n=[],i=this.filterIncludedFiles(t),o=(await this.toFileChunks(i,r)).filter(a=>a!==void 0).flat();if(o.length>0)return n.push([new Yt(["The user wants you to consider the following referenced files when computing your answer."]),1]),n.push(...o),new Yt(n)}filterIncludedFiles(t){return t.filter(r=>r.type==="file"&&!this.turnContext.isFileIncluded(r.uri))}async toFileChunks(t,r){return await Promise.all(t.map(async n=>{if(n.type==="file"&&n.uri)return await this.elideReferencedFiles(r,n)}))}async elideReferencedFiles(t,r){let n=await t.getOrReadTextDocument(r),i=As(n);if(await this.turnContext.collectFile(EV,r.uri,i),n.status==="valid"){let o=t.getRelativePath(n.document);if(i==="included"){let a=new s1(n.document,r.selection,r.visibleRange);return[[`Code excerpt from referenced file \`${o}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),1]]}else if(i==="empty")return[[new Yt([`The referenced file \`${o}\` is empty.`]),1]]}else if(n.status==="invalid")return[[new Yt([`The referenced file \`${IWe.basename(r.uri)}\` is content excluded.`]),1]]}},Gfe=class{static{s(this,"ReferencesSkillResolver")}resolveSkill(t){if(t.turn.request.references&&t.turn.request.references.length>0)return t.turn.request.references}},EV="references",bV=class{constructor(){this.id=EV;this.type="implicit"}static{s(this,"ReferencesSkill")}description(){return"The code from the user's referenced files"}resolver(){return new Gfe}processor(t){return new Wfe(t)}};var aE=s(()=>[f1,Zh,EV,Zc],"mandatorySkills"),IV=class{constructor(t,r){this.chatFetcher=r;this.metaPromptFetcher=new cV(t,this.chatFetcher)}static{s(this,"ConversationContextCollector")}async collectContext(t,r,n,i,o,a){let l=[];if(o){let c=o.requiredSkills?await o.requiredSkills(t.ctx):[];l.push(...c.filter(u=>!aE().includes(u)))}else(await this.metaPromptFetcher.fetchPromptContext(t,await this.selectableSkillDescriptors(t.ctx,t.conversation,t.turn),r,n,i)).skillIds.reverse().forEach(u=>{!l.includes(u)&&!aE().includes(u)&&l.push(u)});if(a){let c=await a.additionalSkills(t.ctx);l.push(...c.filter(u=>!aE().includes(u)))}return l.push(...aE()),l=l.filter(c=>!this.isIgnoredSkill(c,t.turn)),{skillIds:t.ctx.get(Wi).filterSupportedSkills(t.conversation.id,l)}}async selectableSkillDescriptors(t,r,n){let i=await this.getNonSelectableSkills(t),o=t.get(Wi).getSupportedSkills(r.id),a=t.get(Al).getDescriptors(),l=[];for(let c of a){if(i.includes(c.id)||!o.includes(c.id))continue;(c.isAvailable?await c.isAvailable(t):!0)&&!this.isIgnoredSkill(c.id,n)&&l.push(c)}return l}async getNonSelectableSkills(t){let r=await c1(t),n=(await Promise.all(r.map(i=>i.additionalSkills(t)))).flat();return[...aE(),...n]}isIgnoredSkill(t,r){return r.ignoredSkills?.some(n=>n.skillId===t)}};d();d();var TV=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.rounds=[]}static{s(this,"AgentToolCalls")}getRound(t){return this.rounds.find(r=>r.roundId===t)}async start(t,r,n,i){let o=this.getRound(t);if(o||(o={roundId:t,reply:""},this.rounds.push(o)),o.toolCalls?.find(l=>l.id===r))Kr.error(this.ctx,`Tool call ${r} already exists for the round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`);else{let l={id:r,name:n,progressMessage:i,status:"running"};o.toolCalls=[l],await this.progress.report(this.conversation,this.turn,{editAgentRounds:[o]})}}async finish(t,r){await this.update(t,r,n=>{n.status="completed"})}async cancel(t,r){await this.update(t,r,n=>{n.status="cancelled"})}async finishAll(t="completed"){let r=this.rounds.filter(n=>{let i=n.toolCalls?.filter(o=>o.status==="running").map(o=>(o.status=t,o));if(i&&i.length>0)return n.toolCalls=i,!0});r.length>0&&await this.progress.report(this.conversation,this.turn,{editAgentRounds:r})}async error(t,r,n){await this.update(t,r,i=>{i.status="error",i.error=n||"Unknown error"})}async update(t,r,n){let i=this.rounds.find(a=>a.roundId===t);i||(i={roundId:t,reply:""},this.rounds.push(i));let o=i.toolCalls?.find(a=>a.id===r);o?(n(o),await this.progress.report(this.conversation,this.turn,{editAgentRounds:[i]})):Kr.error(this.ctx,`Tool call ${r} not found for the agent round ${t} in conversation ${this.conversation.id} and turn ${this.turn.id}`)}};d();var wV=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.progress=i;this.steps=[]}static{s(this,"Steps")}async start(t,r,n){let i=this.steps.find(o=>o.id===t);if(!i)i={id:t,title:r,description:n,status:"running"},this.steps.push(i),await this.progress.report(this.conversation,this.turn,{steps:[i]});else throw new Error(`Step with id "${t}" already started`)}async finish(t){await this.updateStep(t,r=>{r.status="completed"})}async cancel(t){await this.updateStep(t,r=>{r.status="cancelled"})}async finishAll(t="completed"){let r=this.steps.filter(n=>n.status==="running").map(n=>(n.status=t,n));r.length>0&&await this.progress.report(this.conversation,this.turn,{steps:r})}async error(t,r){return this.updateStep(t,n=>{n.status="failed",n.error={message:r||"Unknown error"}})}async updateStep(t,r){let n=this.steps.find(i=>i.id===t);n?(r(n),await this.progress.report(this.conversation,this.turn,{steps:[n]})):Kr.error(this.ctx,`Step ${t} not found for conversation ${this.conversation.id} and turn ${this.turn.id}`)}};d();var HNt="X-Initiator",jNt="X-Interaction-ID",VNt="X-Interaction-Type";var _V=class{static{s(this,"LlmInteractionInitiator")}static id(){throw new Error("Must be implemented by subclass")}},Hfe=class extends _V{static{s(this,"User")}static id(){return"user"}},jfe=class extends _V{static{s(this,"Agent")}static id(){return"agent"}},Vfe=class{static{s(this,"GenericLlmInteraction")}constructor(t,r,n){this.initiator=t.id(),this.interactionType=r,this.interactionId=n}toCapiHeaders(){return{[HNt]:this.initiator,[jNt]:this.interactionId,[VNt]:this.interactionType.toString()}}},Pu=class e extends Vfe{static{s(this,"LlmInteraction")}static user(t,r){return new e(Hfe,t,r)}static agent(t,r){return new e(jfe,t,r)}};var A3=class{constructor(t,r,n,i){this.ctx=t;this.conversation=r;this.turn=n;this.cancelationToken=i;this.skillResolver=new $fe(this),this.steps=new wV(t,r,n,t.get(ws)),this.collector=new zfe(r,n,t.get(ws)),this.agentToolCalls=new TV(t,r,n,t.get(ws))}static{s(this,"TurnContext")}toLlmInteraction(){return this.conversation.source==="inline"?Pu.user("conversation-inline",this.turn.telemetryId):this.agentToolCalls.rounds.length?Pu.agent("conversation-panel",this.turn.telemetryId):Pu.user("conversation-panel",this.turn.telemetryId)}async collectFile(t,r,n,i){let o={type:"file",collector:t,uri:r,status:n};i&&(o.range=i),await this.collector.collect(o)}collectLabel(t,r){this.collector.collect({type:"label",collector:t,label:r})}isFileIncluded(t){return this.collector.collectibles.some(r=>r.type==="file"&&r.status==="included"&&r.uri===t)}async info(t){await this.sendChatNotification(t,"info")}async warn(t){await this.sendChatNotification(t,"warning")}async sendChatNotification(t,r){await this.ctx.get(ws).report(this.conversation,this.turn,{notifications:[{severity:r,message:t}]})}},SV=class extends Error{constructor(r,n){super(`Cycle detected while resolving skills: ${n.join(" -> ")} -> ${r}`);this.skillId=r;this.skillStack=n}static{s(this,"CycleError")}},TB=class extends Error{static{s(this,"ConversationAbortError")}constructor(t){super(t)}},$fe=class{constructor(t){this.turnContext=t;this.resolveStack=[]}static{s(this,"SkillResolver")}async resolve(t){if(this.turnContext.ctx.get(Wi).getSupportedSkills(this.turnContext.conversation.id).includes(t)){this.ensureNoCycle(t);let n=this.turnContext.ctx.get($l).getResolvedSkill(this.turnContext.turn.id,t);if(n)return this.resolveStack.pop(),n;let i=await this.newlyResolve(t);return this.resolveStack.pop(),i}}ensureNoCycle(t){if(this.resolveStack.includes(t))throw new SV(t,this.resolveStack);this.resolveStack.push(t)}async newlyResolve(t){let n=this.turnContext.ctx.get(Al).getSkill(t);try{let i=await n?.resolver(this.turnContext).resolveSkill(this.turnContext);if(i)return this.turnContext.ctx.get($l).addResolvedSkill(this.turnContext.turn.id,t,i),i}catch(i){if(i instanceof SV||i instanceof TB)throw i;Kr.exception(this.turnContext.ctx,i,`Error while resolving skill ${t}`)}}},zfe=class{constructor(t,r,n){this.conversation=t;this.turn=r;this.conversationProgress=n;this.collectibles=[]}static{s(this,"Collector")}async collect(t){this.collectibles.push(t),await this.reportCollectedFile(t)}async reportCollectedFile(t){t.type==="file"&&await this.conversationProgress.report(this.conversation,this.turn,{references:[{type:"file",uri:t.uri,status:t.status,range:t.range}]})}collectiblesForCollector(t){return this.collectibles.filter(r=>r.collector===t)}};async function TWe(e,t){let[r,n,i]=await $Nt(e,t);return i.push(...KNt(e)),r.length>0||n.length>0?[new Yt([[new Yt(["Consider the additional context:"]),1],[m3(r,"inverseLinear"),.9],...n]),i]:[null,i]}s(TWe,"fromSkills");async function $Nt(e,t){let r=[],n=[],i=[],o=[...e.turn.skills].reverse();for(let a of o){if(!await JNt(e,a.skillId,t?.languageId??""))continue;let[l,c]=await zNt(e,a.skillId);l&&(aE().indexOf(a.skillId)===-1?n.push(l):i.push(l)),r.push(c)}return n.reverse(),i.reverse(),r.reverse(),[n,i,r]}s($Nt,"handleSkillsInReverse");async function zNt(e,t){let n=e.ctx.get(Al).getSkill(t);try{let i=Date.now(),o=await e.skillResolver.resolve(t),a=Date.now()-i;if(o){let l=n?.processor(e),c=Date.now(),u=await l?.processSkill(o,e),f=Date.now()-c;return u?await YNt(e,n,l,u,a,f):[void 0,await kV(e,n,"unprocessable",void 0,a,f)]}else return[void 0,await kV(e,n,"unresolvable",void 0,a)]}catch(i){if(Kr.exception(e.ctx,i,`Error while resolving skill ${t}`),i instanceof TB)throw i;return[void 0,await kV(e,n,"failed")]}}s(zNt,"safelyProcessSkill");async function YNt(e,t,r,n,i,o){let a;return typeof n=="string"?a=new Yt([[n,1]]):a=n,[[a,r?.value()||0],await kV(e,t,"resolved",a,i,o)]}s(YNt,"handleProcessedSkill");async function kV(e,t,r,n,i,o){let l=e.collector.collectiblesForCollector(t?.id??"unknown").filter(u=>u.type==="file"),c={skillId:t?.id??"unknown",resolution:r,files:l,resolutionTimeMs:i,processingTimeMs:o};if(n){let u=await e.ctx.get(ua).getBestChatModelConfig(Rd("user")),f=n.elide(u.maxRequestTokens).getText();c.tokensPreEliding=lo(u.tokenizer).tokenLength(f)}return e.ctx.get($l).addResolution(e.turn.id,c),c}s(kV,"determineResolution");function KNt(e){return e.turn.ignoredSkills.map(t=>({skillId:t.skillId,resolution:"ignored"}))}s(KNt,"handleIgnoredSkills");async function JNt(e,t,r){if(t!==f1&&t!==Zh)return!0;let n=e.ctx.get(sr),i=await n.updateExPValuesAndAssignments({languageId:r});return n.ideChatEnableProjectMetadata(i)?t===f1:t===Zh}s(JNt,"includeSkill");var wWe=Ze(Vf());var lE=class{static{s(this,"AbstractUserPromptStrategy")}async elidableContent(t,r){let n=[],i=CT(t.conversation.turns.slice(0,-1));i!==null&&n.push([i,.6]);let[o,a]=await this.elidableSkills(t,r);return o!==null&&(i!==null&&n.push(["",.1]),n.push([o,.8])),[new Yt(n),a]}async elidableSkills(t,r){return await TWe(t,r)}async promptContent(t,r,n){let i;t.turn.workspaceFolder&&(i=await yT.getInstructions(t.ctx,[t.turn.workspaceFolder],{includeCodeGenerationInstructions:!0,includeCommitMessageGenerationInstructions:!1}));let o=Lf(t.conversation.getLastTurn().request.message),a;i?typeof o=="string"?a=i+`

`+o:a=[{type:"text",text:i},...o]:a=o;let[l,c]=await this.elidableContent(t,n);return[[{role:"system",content:r},{role:"user",content:l},{role:"system",content:this.suffix(t)},{role:"user",content:a}],c]}},BV=class extends lE{static{s(this,"PanelUserPromptStrategy")}suffix(t){return wWe.default` 
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            When generating code, think step-by-step. Briefly explain the code and then output it in a single code block.
            When fixing problems and errors, provide a brief description first.
            When generating classes, use a separate code block for each class.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers.
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Avoid wrapping the whole response in triple backticks.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.
        `.trim()}};var _We=Ze(Vf());var DV=class extends lE{static{s(this,"InlineUserPromptStrategy")}suffix(t){return _We.default`
            Use the above information, including the additional context and conversation history (if available) to answer the user's question below.
            Prioritize the context given in the user's question.
            Keep your answers short and impersonal.
            Use Markdown formatting in your answers. 
            Escape special Markdown characters (like *, ~, -, _, etc.) with a backslash or backticks when using them in your answers.
            You must enclose file names and paths in single backticks. Never use single or double quotes for file names or paths.
            Make sure to include the programming language name at the start of every code block.
            Only use triple backticks codeblocks for code.
            Do not repeat the user's code excerpt when answering.
            Do not prefix your answer with "GitHub Copilot".
            Do not start your answer with a programming language name.
            Do not include follow up questions or suggestions for next turns.
            Respond in the following locale: ${t.conversation.userLanguage}.

            The user is editing an open file in their editor.
            The user's code is provided with line numbers prepended, for example: '1:code', starting at 1.
            The selected code line numbers are provided and are inclusive.

            If the user's question is about modifying the code in the editor, adhere to the following rules:

            To edit a range of the user's code, use the following format:
            - Generate a codeblock with the new code.
            - Prefix the codeblock with a markdown comment of the form <!-- replace lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line edits can be done by setting start and end to the same line number: <!-- replace lines X to X -->
            - The original code between the start and end will be replaced with the new code.
            - This format can be used to replace as well as add new code to the user's code.

            For example, to replace lines X to Y of the user's code, use the following format:
            <!-- replace lines X to Y -->
            \`\`\`language
            new code
            \`\`\`

            To delete a range of the user's code, use the following format:
            - Generate a codeblock with the original code.
            - Prefix the codeblock with a markdown comment of the form <!-- delete lines start to end -->
            - Start and end are line numbers in the user's original code.
            - Start and end are inclusive.
            - Single line deletions can be done by setting start and end to the same line number: <!-- delete lines X to X -->
            - The original code in the range will be deleted from the user's code.

            For example, to delete lines X to Y of the user's code, use the following format:
            <!-- delete lines X to Y -->
            \`\`\`language
            original code
            \`\`\`

            Remember:
            - Prefix comments must be placed directly above/after the code block respectively.
            - The first row of a codeblock must never be indented.
            - Code in codeblocks must not contain line numbers.
            - You must not return a codeblock containing the final code, but only individual codeblocks for each change.
        `.trim()}};d();var Yfe=Ze(Vf());var PV=class{static{s(this,"MetaPromptStrategy")}elidableContent(t){let r=CT(t.turns.slice(0,-1)),n=[];return r!==null&&n.push([r,.6]),new Yt(n)}suffix(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");if(!t.supportedSkillDescriptors)throw new Error("Supported skills must be provided for meta prompts");return this.buildMetaPrompt(t.supportedSkillDescriptors)}buildMetaPrompt(t){return Yfe.default`
            Your task is to provide a helpful answer to the user's question.
            To help you create that answer, you can resolve skills that give you more context.
            Each skill has a description and some example user questions to help you understand when the skill may be useful. 
            
            List of available skills:
            ${t.map(r=>`${this.skillToPrompt(r)}
`).join(`
`)}
        `.trim()}createFunctionArgumentSchema(t){let r=YNe(t.map(n=>n.id));return I.Object({skillIds:I.Array(r,{description:"The skill ids to resolve ranked from most to least useful"})})}toolConfig(t){if(t.promptType!=="meta")throw new Error("Invalid prompt options for strategy");return{tool_choice:{type:"function",function:{name:"resolveSkills"}},tools:[{type:"function",function:{name:"resolveSkills",description:"Resolves the skills by id to help answer the user question.",parameters:this.createFunctionArgumentSchema(t.supportedSkillDescriptors)}}],extractArguments(r){return{skillIds:kC(r).skillIds}}}}skillToPrompt(t){let r=t.description?t.description():t.id,n=`Skill Id: ${t.id}
Skill Description: ${r}`,i=t.examples?t.examples():[];return i.length>0&&(n+=`
Skill Examples:
${i.map(o=>`  - ${o}`).join(`
`)}`),n}promptContent(t,r,n){let i=t.conversation.getLastTurn().request.message,o=this.elidableContent(t.conversation);return[[{role:"system",content:r},{role:"user",content:o},{role:"system",content:this.suffix(n)},{role:"user",content:Yfe.default`
                    This is the user's question: 
                    ${ln(i).trim()} 
                `.trim()}],[]]}};d();var SWe=Ze(Vf());var NV=class{static{s(this,"SuggestionsPromptStrategy")}toolConfig(){return{tool_choice:{type:"function",function:{name:"showSuggestions"}},tools:[{type:"function",function:{name:"showSuggestions",description:"Show the computed suggestions to the user",parameters:I.Object({suggestedTitle:I.String({description:"The suggested title for the conversation"}),followUp:I.String({description:"The suggested follow-up question for the conversation"})})}}],extractArguments(t){let r=kC(t);return{suggestedTitle:r.suggestedTitle,followUp:r.followUp}}}}suffix(t){return SWe.default`
            Your task is to come up with two suggestions:

            1) Suggest a title for the current conversation based on the history of the conversation so far.
                - The title must be a short phrase that captures the essence of the conversation.
                - The title must be relevant to the conversation context.
                - The title must not be offensive or inappropriate.
                - The title must be in the following locale: ${t.conversation.userLanguage}.

            2) Write a short one-sentence question that the user can ask as a follow up to continue the current conversation.
                - The question must be phrased as a question asked by the user, not by Copilot.
                - The question must be relevant to the conversation context.
                - The question must not be offensive or inappropriate.
                - The question must not appear in the conversation history.
                - The question must not have already been answered.
                - The question must be in the following locale: ${t.conversation.userLanguage}.
        `.trim()}elidableContent(t){let r=CT(t.turns.slice()),n=[];return r!==null&&n.push([r,.6]),new Yt(n)}promptContent(t,r,n){return[[{role:"system",content:r},{role:"user",content:this.elidableContent(t.conversation)},{role:"system",content:this.suffix(t)}],[]]}};d();var XNt=[{type:"function",function:{name:"queryWithKeywords",description:"Searches the workspace for synonyms and relevant keywords related to the original user query. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code.",parameters:I.Object({keywords:I.Array(I.Object({keyword:I.String({description:"A keyword or phrase relevant to the original user query that a user could search to answer their question. Keywords are not generic and do not repeat."}),variations:I.Array(I.String(),{description:"An array of relevant variations of the keyword. Variations include synonyms and plural forms. Variations are not generic and do not repeat."})}))})}}],LV=class extends lE{static{s(this,"UserQuerySynonymsPromptStrategy")}suffix(){return`
You are a coding assistant that helps developers find relevant code in their workspace by providing a list of relevant keywords they can search for.
The user will provide you with potentially relevant information from the workspace. This information may be incomplete.

# Additional Rules

Think step by step:
1. Read the user's question to understand what they are asking about their workspace.
2. If there are pronouns in the question, such as 'it', 'that', 'this', try to understand what they refer to by looking at the rest of the question and the conversation history.
3. Output a list of up to 8 relevant keywords that the user could search to answer their question. These keywords could be used as file names, symbol names, abbreviations, or comments in the relevant code. Put the keywords most relevant to the question first. Do not include overly generic keywords. Do not repeat keywords.
4. For each keyword in the list of relevant keywords, output a list of relevant variations of the keyword if applicable. Consider synonyms and plural forms. Do not include overly generic variations. Do not repeat variations.

# Example

User: Where is the code for base64 encoding?

Response:

queryWithKeywords([
    { "keyword": "base64 encoding", "variations": ["base64 encoder", "base64 encode"] },
    { "keyword": "base64", "variations": ["base 64"] },
    { "keyword": "encode", "variations": ["encoding", "encoded", "encoder", "encoders"] }
]);
`.trim()}promptContent(t,r,n){if(n.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");let i=Lf(t.conversation.getLastTurn().request.message),o=[{role:"system",content:r},{role:"system",content:this.suffix()},{role:"user",content:i}];return Promise.resolve([o,[]])}toolConfig(t){if(t.promptType!=="synonyms")throw new Error("Invalid prompt options for user query strategy");return{tools:XNt,tool_choice:{type:"function",function:{name:"queryWithKeywords"}},extractArguments(r){let n=kC(r).keywords;if(!n||!Array.isArray(n))return{keywords:[]};let i=new Set;for(let o of n)if(!(!dO(o,"keyword")||!o.keyword||typeof o.keyword!="string")&&(i.add(o.keyword.toLowerCase()),!(!dO(o,"variations")||!o.variations||!Array.isArray(o.variations))))for(let a of o.variations)typeof a=="string"&&i.add(a.toLowerCase());return{keywords:Array.from(i)??[]}}}}};var Kfe=class{constructor(t,r,n){this.promptType=t;this.strategy=n;this.modelFamilies=Array.isArray(r)?r:[r]}static{s(this,"PromptStrategyDescriptor")}};function wB(e,t,r){return new Kfe(e,t,r)}s(wB,"descriptor");var RWe=[wB("user",Rd("user"),()=>new BV),wB("inline",Rd("inline"),()=>new DV),wB("meta",Rd("meta"),()=>new PV),wB("suggestions",Rd("suggestions"),()=>new NV),wB("synonyms",Rd("synonyms"),()=>new LV)],FV=class{static{s(this,"DefaultPromptStrategyFactory")}async createPromptStrategy(t,r,n){let i=RWe.find(o=>o.promptType===r&&o.modelFamilies.includes(n));if(!i)throw new Error(`No prompt strategy found for promptType: ${r} and modelFamily: ${n}`);return i.strategy(t)}get descriptors(){return RWe}};var BWe=require("console");var vc=class{constructor(t,r=new FV){this.ctx=t;this.promptStrategyFactory=r}static{s(this,"ConversationPromptEngine")}async toPrompt(t,r){let n=await this.promptStrategyFactory.createPromptStrategy(this.ctx,r.promptType,r.modelConfiguration.modelFamily),[i,o]=await n.promptContent(t,await this.safetyPrompt(r.userSelectedModelName??r.modelConfiguration.uiName),r),[a,l]=this.elideChatMessages(i,r.modelConfiguration);return await this.ctx.get(rl).inspectPrompt({type:r.promptType,prompt:kWe(a),tokens:l}),this.ctx.get($l).addPrompt(t.turn.id,kWe(a),r.promptType),{messages:a,tokens:l,skillResolutions:o,toolConfig:n.toolConfig?.(r)}}elideChatMessages(t,r){let n=t.filter(l=>!(typeof l.content=="string"||Array.isArray(l.content)));(0,BWe.assert)(n.length==1,"Only one elidable message is supported right now.");let i=this.computeNonElidableTokens(t,r),o=r.maxRequestTokens-i,a=t.map(l=>typeof l.content=="string"||Array.isArray(l.content)?l:{role:l.role,content:ZNt(l.content.elide(o).getText())}).filter(l=>l.content.length>0);return[a,Mfe(a,r)]}computeNonElidableTokens(t,r){let n=t.filter(i=>typeof i.content=="string");return n.push({role:"user",content:""}),Mfe(n,r)}async safetyPrompt(t){let r=await this.ctx.get(kn).getSession(this.ctx),n=this.ctx.get(gn).getEditorInfo().readableName??this.ctx.get(gn).getEditorInfo().name,i=eLt(process.platform);return gWe(this.ctx,n,r?.login,i,t)}};function ZNt(e){return e.trimStart().replace(/^\[\.\.\.\]\n?/,"")}s(ZNt,"processResultOfElidableText");function kWe(e){return e.map(t=>ln(t.content)).join(`

`)}s(kWe,"debugChatMessages");function eLt(e){switch(e){case"darwin":return"macOS";case"win32":return"Windows";case"linux":return"Linux";case"freebsd":return"FreeBSD";case"openbsd":return"OpenBSD";case"sunos":return"SunOS";case"aix":return"AIX";default:return}}s(eLt,"mapPlatformToOs");var MV=class{constructor(t,r){this.ctx=t;this.chatFetcher=r}static{s(this,"TurnSuggestions")}async fetchRawSuggestions(t,r,n,i){let o=await Co.getModelConfiguration(t.ctx,"suggestions",void 0,{tool_calls:!0}),a={promptType:"suggestions",modelConfiguration:o},l=await this.ctx.get(vc).toPrompt(t,a),c=i.extendedBy({messageSource:"chat.suggestions"},{promptTokenLen:l.tokens}),u={modelConfiguration:o,messages:l.messages,uiKind:n,llmInteraction:t.toLlmInteraction()};if(l.toolConfig===void 0)throw new Error("No tool call configuration found in suggestions prompt.");u.tool_choice=l.toolConfig.tool_choice,u.tools=l.toolConfig.tools;let f=await this.chatFetcher.fetchResponse(u,r,c);if(f.type!=="success"&&(Kr.error(this.ctx,"Failed to fetch suggestions, trying again..."),f=await this.chatFetcher.fetchResponse(u,r,c)),f.type==="success"){if(!f.toolCalls||f.toolCalls.length===0){Kr.error(this.ctx,"Missing tool call in suggestions response");return}let m=f.toolCalls[0],{followUp:h,suggestedTitle:p}=l.toolConfig.extractArguments(m);if(!h||!p){Kr.error(this.ctx,"Missing follow-up or suggested title in suggestions response");return}return{followUp:h.trim(),suggestedTitle:p.trim(),promptTokenLen:l.tokens,numTokens:f.numTokens+m.approxNumTokens}}else if(f.type==="successMultiple"){Kr.error(this.ctx,"successMultiple response is unexpected for suggestions");return}else if(f.type==="tool_calls"){Kr.error(this.ctx,"tool_calls response is unexpected for suggestions");return}else{Kr.error(this.ctx,`Failed to fetch suggestions due to reason: ${f.reason}`);return}}};var xT=class{constructor(t,r,n){this.turnContext=t;this.chatFetcher=r;this.computeSuggestions=n}static{s(this,"ChatFetchResultPostProcessor")}async postProcess(t,r,n,i,o,a,l,c){switch(i8e(this.turnContext.ctx,l,a,t.type=="offTopic",t.requestId,c,o.extendedBy({},{fileCount:this.turnContext.ctx.get(ha).workspaceCount})),await this.turnContext.ctx.get(rl).inspectFetchResult(t),t.type){case"success":return await this.processSuccessfulFetchResult(n,t.numTokens,t.requestId,r,l,i,o,c);case"offTopic":return this.processOffTopicFetchResult(o,l,c);case"canceled":return this.turnContext.turn.status="cancelled",this.turnContext.turn.response={message:"Cancelled",type:"user"},{error:{message:ln(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}};case"failed":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:t.reason,type:"server"},{error:{message:LC.translateErrorMessage(t.code,t.reason),code:t.code}};case"filtered":return this.turnContext.turn.status="filtered",{error:{message:"Oops, your response got filtered. Vote down if you think this shouldn't have happened.",responseIsFiltered:!0}};case"length":return this.turnContext.turn.status="error",{error:{message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0}};case"agentAuthRequired":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},{error:{message:"Authorization required",responseIsFiltered:!1}};case"no_choices":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"No choices returned",type:"server"},{error:{message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"no_finish_reason":return this.turnContext.turn.status="error",n&&n.length>0?this.turnContext.turn.response={message:n,type:"model",references:this.turnContext.turn.response?.references}:this.turnContext.turn.response={message:"No finish reason",type:"server"},{error:{message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0}};case"model_not_supported":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Model not supported",type:"server"},{error:{message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1}};case"model_max_prompt_tokens_exceeded":return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Model max prompt tokens exceeded",type:"server"},{error:{message:"Oops, the token limit exceeded. Try to shorten your prompt or start a new conversation.",code:400,reason:"model_max_prompt_tokens_exceeded",responseIsFiltered:!1}};case"successMultiple":case"tool_calls":case"unknown":return this.turnContext.turn.status="error",{error:{message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1}}}}async processSuccessfulFetchResult(t,r,n,i,o,a,l,c){if(t&&t.length>0){a.markAsDisplayed(),l.markAsDisplayed(),this.turnContext.turn.status="success",this.turnContext.turn.response={message:t,type:"model",references:this.turnContext.turn.response?.references},o8e(this.turnContext.ctx,this.turnContext.conversation,o,t,r,n,c,l);let u=this.computeSuggestions?await this.fetchSuggestions(i,o,a,c):void 0;if(u){let{followUp:f,suggestedTitle:m}=u;return{followup:f.message!==""?f:void 0,suggestedTitle:m!==""?m:void 0}}return{}}return this.turnContext.turn.status="error",this.turnContext.turn.response={message:"The model returned successful but did not contain any response text.",type:"meta"},{error:{message:ln(this.turnContext.turn.response?.message??""),type:this.turnContext.turn.response?.type}}}async fetchSuggestions(t,r,n,i){let a=await new MV(this.turnContext.ctx,this.chatFetcher).fetchRawSuggestions(this.turnContext,t,r,n);if(a===void 0)return;let l=this.enrichFollowup(a,r,n,i);return Kr.debug(this.turnContext.ctx,"Computed followup",l),Kr.debug(this.turnContext.ctx,"Computed suggested title",a.suggestedTitle),{followUp:l,suggestedTitle:a.suggestedTitle}}enrichFollowup(t,r,n,i){let o=n.extendedBy({messageSource:"chat.suggestions",suggestionId:_r(),suggestion:"Follow-up from model"},{promptTokenLen:t.promptTokenLen,numTokens:t.numTokens});return u8e(this.turnContext.ctx,r,o,i),{message:t.followUp,id:o.properties.suggestionId,type:o.properties.suggestion}}processOffTopicFetchResult(t,r,n){let i="Sorry, but I can only assist with programming related questions.";return this.turnContext.turn.response={message:i,type:"offtopic-detection"},this.turnContext.turn.status="off-topic",s8e(this.turnContext.ctx,this.turnContext.conversation,r,i,t.properties.messageId,n,t),{error:{message:i,responseIsFiltered:!0}}}};d();var QV=I.Union([I.String(),I.Number()]),cE=I.Union([I.String(),I.Number()]),tLt=I.Union([I.Literal("included"),I.Literal("blocked"),I.Literal("notfound"),I.Literal("empty")]),OV=I.Object({uri:I.String(),position:I.Optional(_l)}),_B=I.Object({type:I.Literal("file"),uri:I.String(),visibleRange:I.Optional(Ea),selection:I.Optional(Ea),status:I.Optional(tLt),range:I.Optional(Ea)}),vT=I.Union([_B,PUe]),Am=I.Union([I.Literal("panel"),I.Literal("inline")]),rLt=I.Union([I.Object({type:I.Literal("text"),text:I.String()}),I.Object({type:I.Literal("image_url"),imageUrl:I.Object({url:I.String(),detail:I.Optional(I.Union([I.Literal("low"),I.Literal("high")]))})})]),Jfe=I.Union([I.String(),I.Array(rLt)]),DWe=I.Object({request:Jfe,response:I.Optional(I.String()),agentSlug:I.Optional(I.String()),turnId:I.Optional(cE)});function UV(e){return typeof e=="string"?e:e.map(t=>t.type==="image_url"?{type:"image_url",image_url:{url:t.imageUrl.url,detail:t.imageUrl.detail}}:{type:"text",text:t.text})}s(UV,"convertToMessageContent");function qV(e,t){if(e=Lf(e),typeof e=="string")return e+t;let r=e.map(n=>n.type==="text").lastIndexOf(!0);if(r>=0){let n=[...e],i=n[r];return n[r]={type:"text",text:i.text+t},n}return[...e,{type:"text",text:t}]}s(qV,"appendToMessage");var WV=I.Union([I.Literal("Ask"),I.Literal("Agent")]),nLt=I.Object({type:I.String(),description:I.String()}),PWe=I.Object({name:I.String(),description:I.String(),inputSchema:I.Optional(I.Object({type:I.String(),properties:I.Record(I.String(),nLt),required:I.Array(I.String())})),confirmationMessages:I.Optional(I.Object({title:I.String(),message:I.String()}))}),GV=I.Object({uri:I.String(),name:I.String()});var Xfe="generate-response",HV=class extends Error{constructor(r,n,i,o){super(r);this.authorizationUri=n;this.agentSlug=i;this.agentName=o}static{s(this,"RemoteAgentAuthorizationError")}},SB=class{constructor(t,r,n){this.agent=t;this.turnContext=r;this.chatFetcher=n;this.conversationProgress=r.ctx.get(ws),this.chatFetcher=this.chatFetcher??new Ba(r.ctx),this.postProcessor=new xT(r,this.chatFetcher,!1),this.conversation=r.conversation,this.turn=r.turn}static{s(this,"RemoteAgentTurnProcessor")}async process(t,r,n,i){try{await this.processWithAgent(t,r,this.turnContext,i)}catch(o){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,o);let a=o instanceof Error?o.message:String(o);this.turn.status="error",this.turn.response={message:a,type:"meta"},o instanceof HV?await this.endProgress({unauthorized:{authorizationUri:o.authorizationUri,agentSlug:o.agentSlug,agentName:o.agentName}}):await this.endProgress({error:{message:a,responseIsIncomplete:!0}})}}async processWithAgent(t,r,n,i){await this.conversationProgress.begin(this.conversation,this.turn,t);let o=await fc(this.turnContext.ctx,this.turnContext,{languageId:i?.detectedLanguageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let a=await this.buildAgentPrompt(n);if(!a)await this.endTurnWithResponse(`No prompt created for agent ${this.agent.id}`,"error");else{let l={type:"user",prompt:JSON.stringify(a.messages,null,2),tokens:a.tokens};await n.ctx.get(rl).inspectPrompt(l),await n.steps.start(Xfe,"Generating response");let c=this.augmentTelemetry(a,o,this.turn.template,i);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let u=await this.fetchConversationResponse(n,a.messages,r,o.extendedBy({messageSource:"chat.user"},{promptTokenLen:a.tokens}),c,i);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(u,n),await this.endProgress({error:u.error,followUp:u.followup,suggestedTitle:u.suggestedTitle,skillResolutions:a.skillResolutions}))}}async buildAgentPrompt(t){let r=this.createMessagesFromHistory(t),n=await this.computeCopilotReferences(t),i=this.getOrCreateAgentSessionId(t);return this.turn.agent&&(this.turn.agent.sessionId=i),this.turn.confirmationResponse?this.addConfirmationResponse(this.turn.confirmationResponse,r):r.push({role:"user",content:Lf(t.turn.request.message),copilot_references:n.length>0?n:void 0}),{messages:r,tokens:-1,skillResolutions:[]}}getOrCreateAgentSessionId(t){let r=this.turn.agent?.agentSlug;if(r){for(let n of t.conversation.turns)if(n.agent?.agentSlug===r&&n.agent.sessionId)return n.agent.sessionId}return _r()}addConfirmationResponse(t,r){r.push({role:"user",content:"",copilot_confirmations:[t]})}createMessagesFromHistory(t){return Qfe(t.conversation.turns.slice(0,-1),this.agent.slug).flatMap(r=>{let n=[];if(r.request&&n.push({role:"user",content:Lf(r.request.message)}),r.response&&r.response.type==="model"){let i=DUe(r.response.references);n.push({role:"assistant",content:Lf(r.response.message),copilot_references:i.length>0?i:void 0})}return n})}async computeCopilotReferences(t){return await qUe(t)}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async fetchConversationResponse(t,r,n,i,o,a){n.onCancellationRequested(async()=>{await this.cancelProgress()});let l=new c3((m,h,p,g,y)=>{let x=y?{...y,agentSlug:this.agent.slug}:void 0;this.conversationProgress.report(this.conversation,this.turn,{reply:m,annotations:h,references:p,notifications:g.map(b=>({message:b.message,severity:"warning"})),confirmationRequest:x}),this.turn.response?(this.turn.response.message=qV(this.turn.response.message,m),this.turn.response.references.push(...p)):this.turn.response={message:m,type:"model",references:p},this.turn.annotations.push(...h??[]),x&&(this.turn.confirmationRequest=x)}),c=await this.turnContext.ctx.get(en).getGitHubSession(),u={engineName:"agents",endpoint:this.agent.endpoint??this.agent.slug,messages:r,uiKind:"conversationPanel",intentParams:{intent:!0,intent_threshold:.7,intent_content:ln(this.turn.request.message)},authToken:c?.accessToken,copilot_thread_id:this.turn.agent?.sessionId,llmInteraction:t.toLlmInteraction()},f=await this.chatFetcher.fetchResponse(u,n,i,(m,h)=>l.isFinishedAfter(m,h));return this.ensureAgentIsAuthorized(f),await this.postProcessor.postProcess(f,n,l.appliedText,i,o.extendedBy(this.addExtensibilityInfoTelemetry()),ln(this.turn.request.message),"conversationPanel",a)}ensureAgentIsAuthorized(t){if(t.type==="agentAuthRequired")throw this.turnContext.turn.status="error",this.turnContext.turn.response={message:"Authorization required",type:"server"},new HV("Authorization required",t.authUrl,this.agent.slug,this.agent.name)}augmentTelemetry(t,r,n,i){return ES(this.conversation,"conversationPanel",ln(this.turn.request.message).length,t.tokens,n?.templateId,void 0,r,t.skillResolutions)}addExtensibilityInfoTelemetry(){return{extensibilityInfoJson:JSON.stringify({agent:this.agent.slug,outgoingReferences:this.turn.request.references?.map(t=>t.type)??[],incomingReferences:this.turn.response?.references?.map(t=>t.type)??[]})}}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(Xfe,t.error.message):await r.steps.finish(Xfe)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};var RB=class{constructor(t,r,n,i,o,a){this.id=t;this.slug=r;this.name=n;this.description=i;this.avatarUrl=o;this.endpoint=a}static{s(this,"RemoteAgent")}additionalSkills(){return[]}turnProcessor(t){return new SB(this,t)}},jV=class extends RB{static{s(this,"ExtensibilityPlatformAgent")}constructor(){super(0,"github","GitHub","Get answers grounded in web search, code search, and your enterprise's knowledge bases.","https://avatars.githubusercontent.com/u/9919?s=200&v=4","chat")}turnProcessor(t){return new SB(this,t)}};d();var iLt="github",tp=class{static{s(this,"RemoteAgentRegistry")}},VV=class extends tp{constructor(r){super();this.ctx=r;this._agents=void 0;this._lastFetchTime=0}static{s(this,"CapiRemoteAgentRegistry")}async agents(){return this.shouldRefreshAgents()&&(this._agents=await this.fetchAgents()),this._agents!=null?this._agents.slice():[]}shouldRefreshAgents(){return!this._agents||!this._lastFetchTime?!0:this.isLastFetchOlderOneHour()}isLastFetchOlderOneHour(){return Date.now()-this._lastFetchTime>36e5}async fetchAgents(){let r=await ev(this.ctx,"/agents");return r.ok?(this._lastFetchTime=Date.now(),this.parseAgents(await r.text())):(Wn.error(this.ctx,"Failed to fetch agents from CAPI",{status:r.status,statusText:r.statusText}),[])}parseAgents(r){let n;try{n=JSON.parse(r).agents,Array.isArray(n)||Wn.error(this.ctx,"Expected 'agents' to be an array")}catch(i){return r.includes("access denied")||Wn.warn(this.ctx,"Invalid remote agent response:",r,i),[]}return n.filter(i=>i.slug!==iLt).map(i=>new RB(i.id,i.slug,i.name,i.description,i.avatar_url))}};var Zfe=class{constructor(){this.slug="project";this.name="Project";this.description="Ask about your project"}static{s(this,"ProjectAgent")}additionalSkills(){return[mT]}};async function c1(e){let t=[];return t.push(new jV),t.push(...await e.get(tp).agents()),t.push(new Zfe),t}s(c1,"getAgents");d();var NWe=Ze(ul());async function $V(e){let t=await e.get(kn).checkAndUpdateStatus(e);if(t.status!=="OK")throw new NWe.ResponseError(nn.NoCopilotToken,`Not authenticated: ${t.status}`)}s($V,"verifyAuthenticated");function To(e){return async(t,r,n)=>(await $V(t),e(t,r,n))}s(To,"ensureAuthenticated");var oLt=I.Object({});async function sLt(e,t,r){return[(await c1(e)).map(o=>({slug:o.slug,name:o.name,description:o.description,avatarUrl:o.avatarUrl})),null]}s(sLt,"handleConversationAgentsChecked");var LWe=To(st(oLt,sLt));d();d();var kB=Ze(ul());function aLt(e,t,r){let n=dn.createAndMarkAsIssued({languageId:String(t.detectedLanguageId),requestedDocumentVersion:String(r),actualDocumentVersion:String(t.version)});return jt(e,"getCompletions.docVersionMismatch",n)}s(aLt,"telemetryVersionMismatch");async function rp(e,t,r){let i=e.get(Vr).getTextDocumentUnsafe(t);if(!i)throw new kB.ResponseError(nn.InvalidParams,`Document for URI could not be found: ${t.uri}`);await $V(e);let o=await Bv(e,t,i.getText());if(o.status==="invalid")throw e.get(zi).setInactive(o.reason),new kB.ResponseError(nn.CopilotNotAvailable,o.reason);if(t.version!==void 0&&i.version!==t.version)throw r?.isCancellationRequested||(aLt(e,i,t.version),N0.debug(e,`Requested document version was ${t.version} but actual document version was ${i.version}.`)),new kB.ResponseError(nn.ContentModified,"Document Version Mismatch");return i}s(rp,"getTextDocument");async function d1(e,t,r){let n=t.textDocument??t.doc;if(!n){await $V(e);return}try{return await rp(e,n,r)}catch(i){if(i instanceof kB.ResponseError&&i.code===nn.CopilotNotAvailable)return;throw i}}s(d1,"getTextDocumentIfAvailable");var lLt=I.Union([I.Literal("keyboard"),I.Literal("toolbar")]),cLt=I.Object({turnId:cE,codeBlockIndex:I.Number(),source:lLt,copiedCharacters:I.Number(),totalCharacters:I.Number(),copiedText:I.String(),doc:I.Optional(OV),textDocument:I.Optional(nu),position:I.Optional(_l),conversationSource:I.Optional(Am)});async function uLt(e,t,r){let n=await d1(e,r,t),i={totalCharacters:r.totalCharacters,copiedCharacters:r.copiedCharacters},o=r.position??r.doc?.position;n&&o&&(i={...i,currentLine:o.line});let a=j5(r.conversationSource),l=await fc(e,e.get(Wi).findByTurnId(r.turnId),{languageId:n?.detectedLanguageId??""});return yf(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:a},i,`${C0(a)}.acceptedCopy`,l),["OK",null]}s(uLt,"handleConversationCodeCopyChecked");var FWe=st(cLt,uLt);d();var fLt=I.Union([I.Literal("keyboard"),I.Literal("toolbar"),I.Literal("diff")]),dLt=I.Object({turnId:cE,source:fLt,codeBlockIndex:I.Number(),acceptedLength:I.Optional(I.Number()),totalCharacters:I.Number(),newFile:I.Optional(I.Boolean()),doc:I.Optional(OV),textDocument:I.Optional(nu),position:I.Optional(_l),conversationSource:I.Optional(Am)});async function mLt(e,t,r){let n=await d1(e,r,t),i={totalCharacters:r.totalCharacters,acceptedLength:r.acceptedLength??r.totalCharacters},o=r.position??r.doc?.position;n&&o&&(i={...i,insertionOffset:n.offsetAt(o),currentLine:o.line});let a=j5(r.conversationSource),l=await fc(e,e.get(Wi).findByTurnId(r.turnId),{languageId:n?.detectedLanguageId??""});return yf(e,n,{codeBlockIndex:r.codeBlockIndex.toString(),source:r.source,uiKind:a,compType:r.acceptedLength&&r.acceptedLength<r.totalCharacters?"partial":"full"},i,`${C0(a)}.acceptedInsert`,l),["OK",null]}s(mLt,"handleConversationCodeInsertChecked");var MWe=st(dLt,mLt);d();d();var zV=I.Array(Ea);function YV(e){if(e.textDocument?.uri)return{uri:e.textDocument.uri,selection:e.selection,visibleRange:e.visibleRanges?.[0]}}s(YV,"resolveAsActiveEditor");d();var QWe=Ze(ul());var KV=new QWe.ProgressType,ede=class{constructor(t){this.progressToken=t}static{s(this,"WorkDoneProgressHandler")}async begin(t,r,n){await t.get(Wr).connection.sendProgress(KV,this.progressToken,{kind:"begin",title:`Conversation ${r.id} Turn ${n.id}`,conversationId:r.id,turnId:n.id,agentSlug:n.agent?.agentSlug})}async report(t,r,n,i){await t.get(Wr).connection.sendProgress(KV,this.progressToken,{kind:"report",conversationId:r.id,turnId:n.id,...i})}async end(t,r,n,i){await t.get(Wr).connection.sendProgress(KV,this.progressToken,{kind:"end",conversationId:r.id,turnId:n.id,...i})}async cancel(t,r,n,i){await t.get(Wr).connection.sendProgress(KV,this.progressToken,{kind:"end",conversationId:r.id,turnId:n.id,cancellationReason:"CancelledByUser",error:i})}};function bT(e){return new ede(e.workDoneToken)}s(bT,"createProgressHandler");d();d();d();var L0=class extends Error{constructor(r){super(r.message);this.conversationError=r;this.name="AgentConversationError"}static{s(this,"AgentConversationError")}};d();var x2=class extends Error{static{s(this,"ToolCallCanceledError")}constructor(t){super(t),this.name="Canceled"}};d();var ET=class extends Error{static{s(this,"ToolRoundExceedError")}constructor(){super('Oops, maximum tool attempts reached. You can type "continue" to proceed or rephrase your request.'),this.name="ToolRoundExceedError"}};d();d();var OWe="```",BB=String.raw`<!-- (?<mode>[\w-]+) lines? (?<start>\d+)(?: to (?<end>\d+))? -->`,hLt=String.raw`${OWe}[\w]*?\n(?<codeblock>[\s\S]*?)\n${OWe}`,pLt=new RegExp(BB+`
`+hLt,"gs"),tde=["replace","delete"];function rde(e,t){let r=e.matchAll(pLt),n=Array.from(r),i=[];for(let o of n){let a=o.groups;if(!a||!tde.includes(a.mode))continue;let l=a.start?parseInt(a.start)-1:-1,c=a.end?parseInt(a.end)-1:l,f=a.codeblock.split(`
`),m=f[0].match(/^\s*/)?.[0]??"";f.forEach((y,x)=>{f[x]=y.slice(m.length)});let h={mode:a.mode,codeblock:f.join(`
`),start:l,end:c},p=nde([h],t);if(!p)continue;let g={text:p,uri:t.uri};i.push({...h,updatedDocument:g})}return i}s(rde,"extractEditsFromTaggedCodeblocks");function nde(e,t){if(e.length===0)return;e.sort((n,i)=>n.start!==i.start?i.start-n.start:i.end-n.end);let r=t.getText().split(`
`);for(let n of e){let i=n.start,o=n.end,a=n.mode,l=n.codeblock.split(`
`);if(!(i<0||o<0||o<i)&&!(i>=r.length||o>=r.length)){if(a==="delete")r.splice(i,o-i+1);else if(a==="replace"){let c=r[i].match(/^\s*/)?.[0]??"";l.forEach((u,f)=>{l[f]=c+u}),r.splice(i,o-i+1,...l)}}}return r.join(`
`)}s(nde,"applyEditsToDocument");d();d();d();d();var v2=class{constructor(t,r,n=[]){this.textDocumentResult=t;this.range=r;this.descriptions=n;this.descriptions=n}static{s(this,"FileAttachment")}render(){if(this.textDocumentResult.status!=="valid")return[];let t=this.textDocumentResult.document,r=new Ff({code:t.getText(this.range),languageId:t.detectedLanguageId,uri:t.uri}),n=["<attachment>"];return n.push(...this.descriptions),n.push(...r.renderAsArray()),n.push("</attachment>"),n}};var gLt=new Gt("activeEditorPrompt");async function UWe(e,t){let r=[],n=e.turnContext.turn.request.activeEditor;if(n){if(t.isCancellationRequested)throw new gl;let i=await e.textDocumentProvider.getByUri(n.uri);if(i.status==="valid")if(n.selection&&ALt(n.selection)){let o=new v2(i,n.selection,["User's active selection, this should be the main focus:",`Excerpt from ${Di(n.uri)}, lines ${n.selection.start.line+1} to ${n.selection.end.line+1}:`]);r.push(...o.render());let a=new v2(i,void 0,["User's active file for additional context:"]);r.push(...a.render())}else if(n.visibleRange){let o=new v2(i,n.visibleRange,["User's current visible code:",`Excerpt from ${Di(n.uri)}, lines ${n.visibleRange.start.line+1} to ${n.visibleRange.end.line+1}:`]);r.push(...o.render())}else{let o=new v2(i,void 0,["User's active file for additional context:"]);r.push(...o.render())}else gLt.warn(e.context,`Failed to read file in active editor ${n.uri} with status ${i.status} and reason ${i.status==="notfound"?i.message:i.reason}`)}return r}s(UWe,"processActiveEditor");function ALt(e){return e.start.line!==e.end.line||e.start.character!==e.end.character}s(ALt,"notEmptySelection");var yLt=new Gt("fileReferencesPrompt");async function qWe(e,t){let r=e.turnContext.turn.request.references?.filter(a=>a.type==="file")||[];if(r.length===0&&!e.turnContext.turn.request.activeEditor)return[];let[n,i]=await Promise.all([Promise.all(r.map(async a=>{if(t.isCancellationRequested)throw new gl;let l=[],c=await e.textDocumentProvider.getByUri(a.uri);if(c.status==="valid"){let u=new v2(c,void 0,[]);u&&l.push(...u.render())}else yLt.warn(e.context,`Failed to read file ${a.uri} with status ${c.status} and reason ${c.status==="notfound"?c.message:c.reason}`);return l})),UWe(e,t)]),o=n.flat();return o.length>0||i.length>0?["<attachments>",...o,...i,"</attachments>"]:[]}s(qWe,"processFileReferences");d();d();function WWe(e){return e.reduce((r,n)=>r+n.value.length,0)+Math.max(0,e.length-1)}s(WWe,"partsLength");async function HWe(e,t=1/0,r){let n=GWe(0,e,t),i=t-WWe(n);for(;;){let o=!1,a=[];for(let l of n)if(l.type==="text")a.push(l);else if(l.type==="dir"){a.push({type:"text",uri:l.uri,value:l.value});let c=await l.getChildren();if(r?.isCancellationRequested)return CLt();let u=GWe(l.level+1,c,i-1);u.length&&(o=!0,i-=WWe(u)+1,a.push(...u))}if(n=a,!o)break}return{files:n.map(o=>o.uri).filter(o=>o!==void 0),tree:n.map(o=>o.value).join(`
`)}}s(HWe,"visualFileTree");function GWe(e,t,r){let n="	".repeat(e),i=[],o=r;for(let a=0;a<t.length;++a){let l=t[a],c=n+l.name+(l.type===2?"/":"");if(c.length>o){let u=n+"...";for(;u.length>o&&i.length>0;)o+=i.pop().value.length+1;u.length<=o&&i.push({type:"text",uri:void 0,value:u});break}l.type===2?i.push({type:"dir",uri:l.uri,level:e,value:c,getChildren:l.getChildren}):i.push({type:"text",uri:l.uri,value:c}),o-=c.length,a!==t.length-1&&(o-=1)}return i}s(GWe,"toParts");var CLt=s(()=>({tree:"",files:[]}),"emptyTree");async function jWe(e,t,r,n){let i=await xLt(e,t,r,n);if(!i.length)return"";let o;if(i.length===1)o=i[0].tree.tree;else{o="";for(let{label:l,tree:c}of i){o+=`${l}/
`;for(let u of c.tree.split(`
`))o+=`	${u}
`}}let a=NC(o);return["I am working in a workspace that has the following structure:",a,o,a,"This view of the workspace structure may be truncated. You can use tools to collect more context if needed."].join(`
`)}s(jWe,"generateWorkspaceStructurePrompt");async function xLt(e,t,r,n){return t.length?Promise.all(t.map(async i=>{let o=i.name,a=await HWe(await VWe(e,i.uri,r,n),r.maxLength/t.length,n);return{label:o,tree:a}})):[]}s(xLt,"generateWorkspaceStructure");async function VWe(e,t,r,n){if(n.isCancellationRequested)return[];let i;try{i=await e.get(vo).readDirectory(t)}catch{return[]}return n.isCancellationRequested?[]:(i.sort((o,a)=>o[1]===a[1]?o[0].localeCompare(a[0]):o[1]===2?1:-1),Promise.all(i.map(([o,a])=>{let l=Do(t,o);return r.excludeDotFiles&&o.startsWith(".")||ELt(l)?null:a===2?{type:2,uri:l,name:o,getChildren:s(()=>VWe(e,l,r,n),"getChildren")}:{type:1,uri:l,name:o}})).then(o=>o.filter(a=>a!=null)))}s(VWe,"buildFileList");var vLt=["node_modules","venv","out","dist",".git",".yarn",".npm",".venv","foo.asar",".vscode-test"],bLt=[".ds_store","thumbs.db","package-lock.json","yarn.lock",".cache"];function ELt(e){return!!(bLt.includes(Di(e).toLowerCase())||Xo(e)?.toLowerCase()?.split(/[/\\]/g)?.some(r=>vLt.includes(r)))}s(ELt,"shouldAlwaysIgnoreFile");var $We=new Gt("editAgentPrompt"),JV=class{constructor(t,r){this._toolsService=t;this.props=r;this.ctx=r.turnContext.ctx,this.turnContext=r.turnContext,this.currentTurn=r.turnContext.turn}static{s(this,"EditAgentPrompt")}async render(t){let r=this.turnContext.conversation.turns.slice(0,-1),n=this.createChatMessagesFromHistory(r),i=Dle(this.currentTurn.response?.message,!0),o=[{role:"system",content:this.buildSystemMessage().join(`
`)},...n,{role:"system",content:this.buildDefaultAgentPrompt().join(`
`)},{role:"user",content:(await this.buildUserPrompt(this.props.userMessage,t)).join(`
`)},...i];return i.length&&o.push({role:"user",content:"Above is the result of calling one or more tools. The user cannot see the results, so you should explain them to the user if referencing them in your answer. Continue from where you left off without repeating yourself."}),o}createChatMessagesFromHistory(t){let r=[];for(let n of t)if(n.request&&r.push({role:"user",content:Lf(n.request.message)}),n.response){let i=Dle(n.response.message,!0);i.forEach(o=>r.push(this.fixToolCallsInResponse(o,i)))}return r}fixToolCallsInResponse(t,r){if(t.tool_calls&&t.tool_calls.length){let n=t.tool_calls,i=[];for(let o of n)r.find(l=>l.role==="tool"&&l.tool_call_id===o.id)?i.push(o):$We.warn(this.ctx,`Tool call ${o.id} does not have a result in the response. Removing it from the tool calls history.`);t.tool_calls=i}return t}addToolCallModelResponse(t,r){let n={role:"assistant",content:t,tool_calls:r.length?r:void 0};this.currentTurn.response?this.currentTurn.response.message=ak(this.currentTurn.response.message,n):this.currentTurn.response={message:[n],type:"model"}}addToolCallResult(t,r){let n="";switch(t.status){case"error":n="Tool call failed with error: ";break;case"cancelled":n="Tool call is cancelled with result: ";break;default:case"success":n=""}let i=n+rj(t.content),o={role:"tool",content:i,tool_call_id:r};if(!this.currentTurn.response)this.currentTurn.response={message:[o],type:"model"};else{if(eG(this.currentTurn.response.message)&&this.currentTurn.response.message.find(l=>l.role==="tool"&&l.tool_call_id===r)){$We.info(this.ctx,`Tool call result for ${r} already exists in the turn response. Ignoring the new one.`);return}this.currentTurn.response.message=ak(this.currentTurn.response.message,o)}}buildSystemMessage(){let t=[];return t.push("You are an AI programming assistant.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.",`Respond in the following locale: ${this.props.turnContext.conversation.userLanguage}.`),t}buildDefaultAgentPrompt(){let t=this._toolsService.getToolMapForModel().get("get_errors")!==void 0,r=this._toolsService.getToolMapForModel().get("run_in_terminal")!==void 0,n=this._toolsService.getToolMapForModel().get("replace_string_in_file")!==void 0,i=this._toolsService.getToolMapForModel().get("update_user_preferences")!==void 0,o=[];return o.push("<instructions>"),o.push("You are a highly sophisticated automated coding agent with expert-level knowledge across many different programming languages and frameworks."),o.push("The user will ask a question, or ask you to perform a task, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question."),o.push("If you can infer the project type (languages, frameworks, and libraries) from the user's query or the context that you have, make sure to keep them in mind when making changes."),o.push("If the user wants you to implement a feature and they have not specified the files to edit, first break down the user's request into smaller concepts and think about the kinds of files you need to grasp each concept."),o.push("If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have. It's YOUR RESPONSIBILITY to make sure that you have done all you can to collect necessary context."),o.push("Prefer using the semantic_search tool to search for context unless you know the exact string or filename pattern you're searching for."),o.push("Don't make assumptions about the situation-gather context first, then perform the task or answer the question."),o.push("Think creatively and explore the workspace in order to make a complete fix."),o.push("Don't repeat yourself after a tool call, pick up where you left off."),o.push(`NEVER print out a codeblock with file changes unless the user asked for it. Use the insert_edit_into_file ${n?"or replace_string_in_file":""} tool instead.`),r&&o.push("NEVER print out a codeblock with a terminal command to run unless the user asked for it. Use the run_in_terminal tool instead."),o.push("You don't need to read a file if it's already provided in context."),o.push("</instructions>"),o.push("<toolUseInstructions>"),o.push("When using a tool, follow the json schema very carefully and make sure to include ALL required properties."),o.push("Always output valid JSON when using a tool."),o.push("If a tool exists to do a task, use the tool instead of asking the user to manually take an action."),o.push("If you say that you will take an action, then go ahead and use the tool to do it. No need to ask permission."),o.push("Never use multi_tool_use.parallel or any tool that does not exist. Use tools using the proper procedure, DO NOT write out a json codeblock with the tool inputs."),o.push("Never say the name of a tool to a user."),o.push(`For example, instead of saying that you'll use the run_in_terminal tool, say "I'll run the command in a terminal".`),o.push("If you think running multiple tools can answer the user's question, prefer calling them in parallel whenever possible, but do not call semantic_search in parallel."),o.push("If semantic_search returns the full contents of the text files in the workspace, you have all the workspace context."),r&&o.push("Don't call the run_in_terminal tool multiple times in parallel. Instead, run one command and wait for the output before running the next command."),i&&o.push("After you have performed the user's task, if the user corrected something you did, expressed a coding preference, or communicated a fact that you need to remember, use the update_user_preferences tool to save their preferences."),o.push("</toolUseInstructions>"),o.push("<editFileInstructions>"),n?(o.push("Before you edit an existing file, make sure you either already have it in the provided context, or read it with the read_file tool, so that you can make proper changes."),o.push("Use the replace_string_in_file tool to replace a string in a file, but only if you are sure that the string is unique enough to not cause any issues. You can use this tool multiple times per file."),o.push("Use the insert_edit_into_file tool to insert code into a file."),o.push("When editing files, group your changes by file."),o.push("NEVER show the changes to the user, just call the tool, and the edits will be applied and shown to the user."),o.push("NEVER print a codeblock that represents a change to a file, use insert_edit_into_file or replace_string_in_file instead."),o.push("For each file, give a short description of what needs to be changed, then use the replace_string_in_file or insert_edit_into_file tools. You can use any tool multiple times in a response, and you can keep writing text after using a tool.")):(o.push("Don't try to edit an existing file without reading it first, so you can make changes properly."),o.push("Use the insert_edit_into_file tool to edit files. When editing files, group your changes by file."),o.push("NEVER show the changes to the user, just call the tool, and the edits will be applied and shown to the user."),o.push(`NEVER print a codeblock that represents a change to a file, use insert_edit_into_file ${n?"or replace_string_in_file":""} instead.`),o.push(`For each file, give a short description of what needs to be changed, then use the ${n?"replace_string_in_file or":""} insert_edit_into_file tool. You can use any tool multiple times in a response, and you can keep writing text after using a tool.`)),o.push(`Follow best practices when editing files. If a popular external library exists to solve a problem, use it and properly install the package e.g. ${r?'with "npm install" or ':""}creating a "requirements.txt".`),t&&o.push("After editing a file, you MUST call get_errors to validate the change. Fix the errors if they are relevant to your change or the prompt, and remember to validate that they were actually fixed."),o.push("The insert_edit_into_file tool is very smart and can understand how to apply your edits to the user's files, you just need to provide minimal hints."),o.push("When you use the insert_edit_into_file tool, avoid repeating existing code, instead use comments to represent regions of unchanged code. The tool prefers that you are as concise as possible. For example:"),o.push(`// ${Ul}`),o.push("changed code"),o.push(`// ${Ul}`),o.push("changed code"),o.push(`// ${Ul}`),o.push(""),o.push("Here is an example of how you should format an edit to an existing Person class:"),o.push("class Person {"),o.push(`	// ${Ul}`),o.push("	age: number;"),o.push(`	// ${Ul}`),o.push("	getAge() {"),o.push("		return this.age;"),o.push("	}"),o.push("}"),o.push("</editFileInstructions>"),o}async buildUserPrompt(t,r){let n=this._toolsService.getToolMapForModel().get("replace_string_in_file")!==void 0,i=[],o=await qWe({turnContext:this.props.turnContext,textDocumentProvider:this.props.textDocumentProvider,context:this.ctx},r);return o.length>0&&i.push(...o),i.push("<context>"),i.push(`${this.getCurrentDate()}`),i.push(`${this.getUserOS()}`),i.push(`${this.getWorkspaceFoldersHint()}`),i.push(`${await this.getWorkspaceStructureHint(r)}`),i.push("</context>"),i.push("<reminder>"),i.push(`When using the insert_edit_into_file tool, avoid repeating existing code, instead use a line comment with \`${Ul}\` to represent regions of unchanged code.`),n&&i.push("When using the replace_string_in_file tool, include 3-5 lines of unchanged code before and after the string you want to replace, to make it unambiguous which part of the file should be edited."),i.push("</reminder>"),i.push("<prompt>"),i.push(t),i.push("</prompt>"),i}getWorkspaceFoldersHint(){return this.props.workspaceFolders&&this.props.workspaceFolders.length>0?`I am working in a workspace with the following folders:
${this.props.workspaceFolders.map(r=>` - ${Xo(r.uri)}`).join(`
`)}`:"There is no workspace currently open."}async getWorkspaceStructureHint(t){return this.props.workspaceFolders?await jWe(this.props.turnContext.ctx,this.props.workspaceFolders,{maxLength:2e3,excludeDotFiles:!0},t):""}getCurrentDate(){return`The current date is ${new Date().toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}.`}getUserOS(){let t=process.platform;return`My current OS is: ${t==="win32"?"Windows":t==="darwin"?"macOS":t==="linux"?"Linux":"Unknown"}`}};d();function ide(e){if(e instanceof Error)return e.stack?e.stack:e.message;if(typeof e=="string")return e;try{return JSON.stringify(e)}catch{return String(e)}}s(ide,"toString");var zWe=15,IT=new Gt("toolCallingLoop"),XV=class e{constructor(t,r,n,i){this.turnContext=t;this.chatFetcher=r;this.modelConfiguration=n;this.baseTelemetryWithExp=i;this.toolCallRounds=[];this.conversationProgress=t.ctx.get(ws),this.conversation=t.conversation,this.turn=t.turn,this.toolsService=t.ctx.get(Jc),this.prompt=new JV(this.toolsService,{turnContext:this.turnContext,userMessage:ln(this.turnContext.turn.request.message),workspaceFolders:this.turnContext.turn.workspaceFolders,textDocumentProvider:new Mg(this.turnContext.ctx)}),this.requestId=_r(),this.baseTelemetryWithExp=this.baseTelemetryWithExp.extendedBy({requestId:this.requestId})}static{s(this,"ToolCallingLoop")}static{this.NextToolCallId=Date.now()}async run(t){this.abortIfCanceled(t);let r=0,n;for(;;){r++,this.abortIfCanceled(t),this.validateIteration(r,n);let i=performance.now(),o=await this.runOne(r,t);if(d8e(this.turnContext.ctx,this.turnContext,r,performance.now()-i,this.baseTelemetryWithExp),n={...o},this.toolCallRounds.push(o.round),!o.round.toolCalls.length||o.response.type!=="success"&&o.response.type!=="tool_calls"){this.turn.status==="in-progress"&&(this.turn.status="success");return}}}async runOne(t,r){this.abortIfCanceled(r);let n=await this.prompt.render(r),i="",o=new c3((u,f,m,h)=>{let p=u.trim().match(BB)!==null;this.conversationProgress.report(this.conversation,this.turn,{annotations:f,references:m,hideText:p,notifications:h.map(g=>({severity:"warning",message:g.message})),editAgentRounds:[{roundId:t,reply:u}]}),this.turn.annotations.push(...f??[]),i+=u});this.abortIfCanceled(r);let a=this.toolsService.getToolsForModel();this.abortIfCanceled(r);let l={messages:n,modelConfiguration:this.modelConfiguration,uiKind:"agentPanel",tools:this.getAvailableChatTools(a),intentParams:{intent:!0},llmInteraction:this.turnContext.toLlmInteraction()};IT.debug(this.turnContext.ctx,`Send request for iteration ${t} for turn ${this.turn.id} with: ${JSON.stringify(l,null,2)}`);let c=await this.chatFetcher.fetchResponse(l,r,this.baseTelemetryWithExp,(u,f)=>o.isFinishedAfter(u,f));return this.processChatFetchResult(t,c,i,a,r)}async processChatFetchResult(t,r,n,i,o){switch(this.abortIfCanceled(o),IT.debug(this.turnContext.ctx,`Processing fetch type: ${r.type} in iteration ${t} for turn ${this.turn.id}: ${JSON.stringify(r,null,2)}`),r.type){case"success":return this.turn.status="success",this.prompt.addToolCallModelResponse(n,[]),{response:r,round:{response:r.value,toolInputRetry:0,toolCalls:[]}};case"offTopic":throw this.turn.status="off-topic",new L0({message:"Sorry, but I can only assist with programming related questions.",responseIsFiltered:!0});case"canceled":throw new gl;case"failed":throw this.turn.status="error",new L0({message:LC.translateErrorMessage(r.code,r.reason),code:r.code});case"filtered":throw this.turn.status="filtered",new L0({message:"Oops, your response got filtered.",responseIsFiltered:!0});case"length":throw this.turn.status="error",new L0({message:"Oops, the response got too long. Try to reformulate your question.",responseIsIncomplete:!0});case"agentAuthRequired":throw this.turn.status="error",new L0({message:"Authorization required",responseIsFiltered:!1});case"no_choices":throw this.turn.status="error",new L0({message:"Oops, no choices received from the server. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"no_finish_reason":throw this.turn.status="error",new L0({message:"Oops, unexpected end of stream. Please try again.",responseIsFiltered:!1,responseIsIncomplete:!0});case"model_not_supported":throw this.turn.status="error",new L0({message:"Oops, the model is not supported. Please try again.",code:400,reason:"model_not_supported",responseIsFiltered:!1});case"model_max_prompt_tokens_exceeded":throw this.turn.status="error",new L0({message:"Oops, the token limit exceeded. Try to shorten your prompt or start a new conversation.",responseIsFiltered:!1});case"tool_calls":return await this.handleToolCalls(r,n,i,t,o);case"successMultiple":case"unknown":default:throw this.turn.status="error",new L0({message:"Unknown server side error occurred. Please try again.",responseIsFiltered:!1})}}async handleToolCalls(t,r,n,i,o){if(t.type!=="tool_calls")throw new Error(`Expected tool_calls type but got ${t.type}`);if(!t.toolCalls)throw new Error("Tool calls are required but were not provided");let a=t.toolCalls.map(l=>{if(!l.id){let c=`cls_${e.NextToolCallId++}`;l.id=c}return l});this.prompt.addToolCallModelResponse(r,a);for(let l of a)await this.handleSingleToolCall(l,n,i,o);return{response:t,round:{response:r,toolInputRetry:0,toolCalls:a.map(l=>({id:l.id,name:l.function.name,arguments:JSON.stringify(l.function.arguments)}))}}}async handleSingleToolCall(t,r,n,i){if(!t.id)throw new Error(`Tool call id is required but was not provided for function ${t.function.name}`);let o=this.findToolByName(r,t.function.name);if(o){let a=performance.now(),l="success";try{let c=kC(t),u=this.toolsService.prepareInvocation(o.id,{input:c},i),f=this.turnContext.turn.needToolCallConfirmation!==void 0?this.turnContext.turn.needToolCallConfirmation:!1;await this.requestToolInvocationApproval(u,f,o.id,c,n,t.id,i),this.abortIfCanceled(i),await this.turnContext.agentToolCalls.start(n,t.id,o.name,u.progressMessage||`Running ${o.displayName} tool`);let m=await this.toolsService.invokeTool(this.turnContext,o.id,{toolInvocationToken:t.id,input:c,roundId:n,toolCallId:t.id},i);this.abortIfCanceled(i),await this.turnContext.agentToolCalls.finish(n,t.id),this.prompt.addToolCallResult(m,t.id)}catch(c){if(c instanceof x2||c instanceof gl)throw this.turn.status="cancelled",l="cancelled",this.prompt.addToolCallResult(new to([new eo("")],"cancelled"),t.id),new x2(c.message);{IT.error(this.turnContext.ctx,`Error while invoking tool ${t.id}: ${ide(c)}`,c),l="error";let u=new to([new eo(ide(c).substring(0,300))],"error");this.prompt.addToolCallResult(u,t.id),this.abortIfCanceled(i),await this.turnContext.agentToolCalls.finish(n,t.id)}}finally{let c=performance.now()-a;m8e(this.turnContext.ctx,this.turnContext,o,t.id,n,c,l,this.baseTelemetryWithExp)}}else{let a=`Tool with name ${t.function.name} not found in registered tools`;IT.error(this.turnContext.ctx,a);let l=new to([new eo(a)],"error");this.prompt.addToolCallResult(l,t.id)}}getAvailableChatTools(t){return t.map(r=>({type:"function",function:{name:r.nameForModel,description:r.description,parameters:r.inputSchema}}))}findToolByName(t,r){return t.find(n=>n.nameForModel===r)}abortIfCanceled(t){if(t.isCancellationRequested)throw this.turn.status="cancelled",new gl}async requestToolInvocationApproval(t,r,n,i,o,a,l){if(t.confirmationMessages&&r){let c=await this.toolsService.invokeToolConfirmation(this.turnContext,n,{title:t.confirmationMessages.title,message:t.confirmationMessages.message,input:i,roundId:o,toolCallId:a},l);switch(c.result){case"dismiss":throw this.turn.status="cancelled",new x2("Cancelled by user");case"accept":return Promise.resolve();default:throw new x2(`Invalid confirmation result ${c.result}`)}}else IT.debug(this.turnContext.ctx,`Tool call confirmation not required for ${n} with confirmation messages '${t.confirmationMessages?.message}' and needToolConfirm '${r}'`)}validateIteration(t,r){if(r&&t>zWe)throw IT.debug(this.turnContext.ctx,`Tool calling loop exceeds max iterations ${zWe} for turn ${this.turn.id}`),new ET}};var ZV=new Gt("agenticTurnProcessor"),e$=class{constructor(t,r){this.turnContext=t;this.chatFetcher=r;this.conversationProgress=t.ctx.get(ws),this.chatFetcher=this.chatFetcher??new Ba(t.ctx),this.conversation=t.conversation,this.turn=t.turn}static{s(this,"AgenticTurnProcessor")}async process(t,r,n,i,o){try{await this.processWithModelAndToolCall(t,r,this.turnContext,n,i,o)}catch(a){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.updateTurnResponseWithError(l),await this.endProgress({error:{message:l,code:kue.Unknown,responseIsIncomplete:!0}})}}async processWithModelAndToolCall(t,r,n,i,o,a){if(r.isCancellationRequested)return;await this.conversationProgress.begin(this.conversation,this.turn,t);let l=await fc(this.turnContext.ctx,this.turnContext,{languageId:o?.detectedLanguageId??""});r.onCancellationRequested(async()=>{ZV.info(this.turnContext.ctx,`Cancellation requested for turn ${this.turn.id}`),this.turn.status="cancelled",await this.cancelProgress()});try{let c=await Co.getModelConfiguration(this.turnContext.ctx,"edits",a);await new XV(this.turnContext,this.chatFetcher,c,l).run(r),await this.endProgress({})}catch(c){if(c instanceof x2)ZV.info(this.turnContext.ctx,`Tool call canceled for turn ${this.turn.id}`,c),this.turn.status="cancelled",await this.cancelProgress();else if(c instanceof gl)ZV.info(this.turnContext.ctx,`Turn ${this.turn.id} was cancelled`,c),this.turn.status="cancelled",this.updateTurnResponseWithError("Cancelled by user"),await this.cancelProgress();else if(c instanceof ET)this.turn.status="error",this.updateTurnResponseWithError(c.message),await this.endProgress({error:{message:c.message,code:kue.ToolRoundExceedError,responseIsIncomplete:!0}});else if(c instanceof L0)this.turn.status="error",this.updateTurnResponseWithError(c.message),await this.endProgress({error:c.conversationError});else throw ZV.error(this.turnContext.ctx,`Error in processing turn ${this.turn.id}`,c),c}}updateTurnResponseWithError(t){this.turn.response?.message?this.turn.response.message=ak(this.turn.response?.message,{role:"assistant",content:t}):this.turn.response={message:t,type:"meta"}}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.agentToolCalls.finishAll("cancelled"),await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var ode="collect-context",sde="generate-response",t$=class{constructor(t,r,n){this.turnContext=t;this.strategy=r;this.chatFetcher=n;this.conversationProgress=t.ctx.get(ws),this.chatFetcher=this.chatFetcher??new Ba(t.ctx),this.postProcessor=new xT(t,this.chatFetcher,r.computeSuggestions),this.conversation=t.conversation,this.turn=t.turn}static{s(this,"ModelTurnProcessor")}async process(t,r,n,i,o){try{await this.processWithModel(t,r,this.turnContext,n,i,o)}catch(a){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turn.id}`,a);let l=a instanceof Error?a.message:String(a);this.turn.status="error",this.turn.response={message:l,type:"meta"},await this.endProgress({error:{message:l,responseIsIncomplete:!0}})}}async processWithModel(t,r,n,i,o,a){await this.conversationProgress.begin(this.conversation,this.turn,t);let l=await fc(this.turnContext.ctx,this.turnContext,{languageId:o?.detectedLanguageId??""});if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let c=CB().find(h=>h.id===this.turn.template?.templateId);if(c?.response){await this.handleTemplateResponse(c,this.turn.template.userQuestion,r);return}let u=(await c1(this.turnContext.ctx)).find(h=>h.slug===this.turn.agent?.agentSlug);if(u){let h=await this.checkAgentPreconditions(u);if(h){await this.endProgress(h);return}}await n.steps.start(ode,"Collecting context"),await this.collectContext(n,r,l,this.strategy.uiKind,c,u);let f=a?(await this.turnContext.ctx.get(ua).getBestChatModelConfig([a])).uiName:void 0,m=await this.strategy.buildConversationPrompt(n,o?.detectedLanguageId??"",void 0,f);if(!m)await n.steps.error(ode,"Failed to collect context"),await this.endTurnWithResponse(this.strategy.earlyReturnResponse,"error");else{await n.steps.finish(ode),await n.steps.start(sde,"Generating response");let h=this.augmentTelemetry(m,l,c,i,o);if(r.isCancellationRequested){this.turn.status="cancelled",await this.cancelProgress();return}let p=await this.fetchConversationResponse(m.messages,r,l.extendedBy({messageSource:"chat.user"},{promptTokenLen:m.tokens}),h,o,a),g=await this.strategy.processResponse(this.turn);this.turn.status==="cancelled"&&this.turn.response?.type==="user"?await this.cancelProgress():(await this.finishGenerateResponseStep(p,n),await this.endProgress({error:p.error,followUp:p.followup,suggestedTitle:p.suggestedTitle,skillResolutions:m.skillResolutions,updatedDocuments:g}))}}async checkAgentPreconditions(t){try{let r=t.checkPreconditions?await t.checkPreconditions(this.turnContext.ctx,this.turn):void 0;if(r&&r.type==="authorizationRequired")return{unauthorized:{...r,agentName:t.name,agentSlug:t.slug}}}catch(r){Kr.error(this.turnContext.ctx,`Error checking preconditions for agent ${t.slug}`,r);let n=r instanceof Error?r.message:String(r);return this.turn.status="error",this.turn.response={message:n,type:"meta"},{error:{message:n,responseIsIncomplete:!0}}}}async endTurnWithResponse(t,r){this.turn.response={type:"meta",message:t},this.turn.status=r,await this.conversationProgress.report(this.conversation,this.turn,{reply:t}),await this.endProgress()}async handleTemplateResponse(t,r,n){if(!t.response)return;let i=await t.response(this.turnContext,r,n);this.turn.response={type:"meta",message:i.message},this.turn.status=i.error?.responseIsFiltered?"filtered":i.error?.responseIsIncomplete?"error":"success",i.error?.responseIsFiltered||i.error?.responseIsIncomplete?(await this.conversationProgress.report(this.conversation,this.turn,{reply:"Sure, I can definitely do that!",annotations:i.annotations,notifications:i.notifications,references:i.references}),await this.turnContext.steps.finishAll(),await this.endProgress({error:{message:i.message,code:i.error?.code||0,responseIsIncomplete:i.error?.responseIsIncomplete,responseIsFiltered:i.error?.responseIsFiltered}})):(await this.conversationProgress.report(this.conversation,this.turn,{reply:i.message,annotations:i.annotations,notifications:i.notifications,references:i.references,confirmationRequest:i.confirmationRequest}),await this.endProgress())}async collectContext(t,r,n,i,o,a){let c=await new IV(this.turnContext.ctx,this.chatFetcher).collectContext(t,r,n,i,o,a);return this.turn.skills=c.skillIds.map(u=>({skillId:u})),c}async fetchConversationResponse(t,r,n,i,o,a){r.onCancellationRequested(async()=>{await this.cancelProgress()});let l="",c=0,u=new c3((p,g,y,x)=>{let b=p.trim().match(BB)!==null;if(this.conversationProgress.report(this.conversation,this.turn,{reply:p,annotations:g,references:y,hideText:b,notifications:x.map(E=>({severity:"warning",message:E.message}))}),this.turn.response?this.turn.response.message=qV(this.turn.response.message,p):this.turn.response={message:p,type:"model"},this.turn.annotations.push(...g??[]),l+=p,this.strategy.currentDocument){let E=this.strategy.extractEditsFromResponse(l,this.strategy.currentDocument);E&&E.length>0&&(l="",this.conversationProgress.report(this.conversation,this.turn,{codeEdits:E}),c+=E.length)}}),f=await Co.getModelConfiguration(this.turnContext.ctx,"user",a);t=Co.transformMessages(t,f.modelFamily);let m={modelConfiguration:f,messages:t,uiKind:this.strategy.uiKind,intentParams:{intent:!0,intent_threshold:.7,intent_content:ln(this.turn.request.message)},llmInteraction:this.turnContext.toLlmInteraction()},h=await this.chatFetcher.fetchResponse(m,r,n,(p,g)=>u.isFinishedAfter(p,g));return i=i.extendedBy(void 0,{numCodeEdits:c}),await this.postProcessor.postProcess(h,r,u.appliedText,n,i,ln(this.turn.request.message),this.strategy.uiKind,o)}augmentTelemetry(t,r,n,i,o){let a;return i?(this.turn.request.type="follow-up",a8e(this.turnContext.ctx,this.conversation,this.strategy.uiKind,ln(this.turn.request.message),t.tokens,i.type,i.id,o,r),a=ES(this.conversation,this.strategy.uiKind,ln(this.turn.request.message).length,t.tokens,i.type,i.id,r,t.skillResolutions)):a=ES(this.conversation,this.strategy.uiKind,ln(this.turn.request.message).length,t.tokens,n?.id,void 0,r,t.skillResolutions),a}async finishGenerateResponseStep(t,r){t.error?await r.steps.error(sde,t.error.message):await r.steps.finish(sde)}async endProgress(t){await this.turnContext.steps.finishAll(),await this.conversationProgress.end(this.conversation,this.turn,t)}async cancelProgress(){await this.turnContext.steps.finishAll("cancelled"),await this.conversationProgress.cancel(this.conversation,this.turn)}};d();var r$=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Oops, an error has occurred. Please try again";this.uiKind="conversationPanel";this.computeSuggestions=!0}static{s(this,"PanelTurnProcessorStrategy")}processResponse(){return[]}async buildConversationPrompt(t,r,n,i){let o="user",a=await Co.getModelConfiguration(t.ctx,o),l={promptType:o,modelConfiguration:a,languageId:r,userSelectedModelName:i};return await this.ctx.get(vc).toPrompt(t,l)}extractEditsFromResponse(t,r){return[]}},n$=class{constructor(t){this.ctx=t;this.earlyReturnResponse="Please open a file and select code for the inline chat to be available";this.uiKind="conversationInline";this.computeSuggestions=!1}static{s(this,"InlineTurnProcessorStrategy")}async buildConversationPrompt(t,r,n){let i=await this.getCurrentEditorSkill(t);if(!i)return;let o=await this.getDocumentIfValid(i.uri);if(!o)return;let a=n?.producesCodeEdits===!1?"user":"inline",l=await t.ctx.get(ua).getBestChatModelConfig(Rd(a)),c={promptType:a,modelConfiguration:l,languageId:r};return c.promptType==="inline"&&(this.currentDocument=o),await this.ctx.get(vc).toPrompt(t,c)}async processResponse(t){let r=[],n=ln(t.response?.message??"");if(n&&t.status==="success"&&this.currentDocument){let i=await this.processInlineResponse(n,this.currentDocument);i&&r.push(i)}return r}async getCurrentEditorSkill(t){let r=await t.skillResolver.resolve(Zc);if(r)return r}async getDocumentIfValid(t){let r=await this.ctx.get(On).getOrReadTextDocument({uri:t});if(r.status==="valid")return r.document}async processInlineResponse(t,r){let i=rde(t,r).filter(a=>tde.includes(a.mode)),o=nde(i,r);if(o)return await this.ctx.get(rl).documentDiff({original:r.getText(),updated:o}),{uri:r.uri,text:o}}extractEditsFromResponse(t,r){return rde(t,r)}};d();d();var YWe=Ze(ul()),KWe=Ze(Ah());var F0=class{constructor(t,r,n){this.ctx=t;this.skillId=r;this.requestType=new YWe.ProtocolRequestType("conversation/context");this.typeCheck=ms.Compile(n)}static{s(this,"AgentSkillResolver")}async resolveSkill(t){let r=this.ctx.get(Wr).connection,n={conversationId:t.conversation.id,turnId:t.turn.id,skillId:this.skillId},i;try{let o=await r.sendRequest(this.requestType,n),[a,l]=o;if(l){let c=new KWe.ResponseError(l.code,l.message,l.data);Kr.error(this.ctx,`ResponseError while resolving skill ${this.skillId}`,c);return}i=a}catch(o){Kr.error(this.ctx,`Error while resolving skill ${this.skillId}`,o);return}if(i!=null){if(!this.typeCheck.Check(i))throw new Cc(this.typeCheck.Errors(i));return i}}};var ade=class{constructor(t,r,n="",i="",o=[],a=[]){this.progressToken=t;this.chunks=r;this.followUp=n;this.suggestedTitle=i;this.skills=o;this.references=a}static{s(this,"SyntheticTurn")}},b2=class{constructor(){this.turns=[]}static{s(this,"SyntheticTurns")}add(t,r,n="",i="",o=[],a=[]){let l=new ade(t,r,n,i,o,a);return this.turns.push(l),l}get(t){return this.turns.find(r=>r.progressToken===t)}},i$=class{constructor(t,r){this.turnContext=t;this.syntheticTurn=r;this.conversationProgress=t.ctx.get(ws)}static{s(this,"SyntheticTurnProcessor")}async process(t,r){try{await this.processWithSyntheticTurns(this.syntheticTurn,t,r)}catch(n){Kr.error(this.turnContext.ctx,`Error processing turn ${this.turnContext.turn.id}`,n);let i=n.message;this.turnContext.turn.status="error",this.turnContext.turn.response={message:i,type:"meta"},await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{error:{message:i,responseIsIncomplete:!0}})}}async processWithSyntheticTurns(t,r,n){await this.conversationProgress.begin(this.turnContext.conversation,this.turnContext.turn,r),await this.resolveSyntheticSkill(t,n),await this.processSyntheticChunks(t,n),await this.endSyntheticProgress(t,n),this.turnContext.turn.response={type:"model",message:t.chunks.join("")},this.turnContext.turn.status=n.isCancellationRequested?"cancelled":"success"}async resolveSyntheticSkill(t,r){let n=this.turnContext.ctx.get(Wi).getCapabilities(this.turnContext.conversation.id),i=t.skills.filter(o=>n.skills.includes(o));for(let o of i){let l=await new F0(this.turnContext.ctx,o,I.Object({value:I.String()})).resolveSkill(this.turnContext);l&&!r.isCancellationRequested&&await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:l.value})}}async processSyntheticChunks(t,r){for(let n of t.chunks)r.isCancellationRequested||(await this.conversationProgress.report(this.turnContext.conversation,this.turnContext.turn,{reply:n}),await Dv(1))}async endSyntheticProgress(t,r){r.isCancellationRequested?await this.conversationProgress.cancel(this.turnContext.conversation,this.turnContext.turn):await this.conversationProgress.end(this.turnContext.conversation,this.turnContext.turn,{followUp:{message:t.followUp,type:"followup",id:_r()},suggestedTitle:t.suggestedTitle,updatedDocuments:this.turnContext.conversation.source==="inline"?[{uri:"fakeUpdatedDoc.ts",text:"fake"}]:void 0})}};var E2=class{static{s(this,"TurnProcessorFactory")}async createProcessor(t,r,n){let i=t.ctx.get(b2).get(r);if(i)return new i$(t,i);let a=(await c1(t.ctx)).find(c=>c.slug===t.turn.agent?.agentSlug);if(a?.turnProcessor)return a.turnProcessor(t);let l;return t.conversation.source==="inline"?l=new n$(t.ctx):l=new r$(t.ctx),t.turn.chatMode==="Agent"?new e$(t):(n!==void 0&&(l.computeSuggestions=n),new t$(t,l))}};d();var JWe=Ze(ul());var TT=class{static{s(this,"WorkspaceFoldersValidator")}static validate(t){if(!t)return;let r=new Set;for(let n of t){if(r.has(n.uri))throw new JWe.ResponseError(nn.InvalidParams,`Duplicate workspace folder uri ${n.uri}`);r.add(n.uri)}}};d();function o$(e){if(e&&e.uri.length>0)return[{uri:e.uri,name:Di(e.uri)}]}s(o$,"resolveAsWorkspaceFolders");d();d();var ILt=Object.freeze(function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}),Nu=class{constructor(t){this.tokens=[];this.handlers=[];this._isCancelled=!1;this.onCancellationRequested=s((t,r)=>this._isCancelled?ILt(t,r):(this.handlers.push(t.bind(r)),{dispose:s(()=>{},"dispose")}),"onCancellationRequested");this.tokens=t,this._isCancelled=t.some(r=>r.isCancellationRequested),t.forEach(r=>{r.onCancellationRequested(n=>this.cancel(n))})}static{s(this,"MergedToken")}cancel(t){this._isCancelled||(this._isCancelled=!0,this.handlers.forEach(r=>r(t)))}get isCancellationRequested(){return this.tokens.some(t=>t.isCancellationRequested)}};var M0=class{constructor(){this.tokens=new un(250)}static{s(this,"ProgressTokens")}add(t,r){let n=new Fn.CancellationTokenSource,i=new Nu([r,n.token]);return this.tokens.set(t.toString(),n),i}cancel(t){let r=this.tokens.get(t.toString());r&&(r.cancel(),this.tokens.delete(t.toString()))}};var TLt=I.Object({conversationId:I.Optional(QV),workDoneToken:I.Union([I.String(),I.Number()]),turns:I.Array(DWe,{minItems:1}),capabilities:I.Optional(I.Object({allSkills:I.Optional(I.Boolean()),skills:I.Optional(I.Array(I.String()))})),doc:I.Optional(nu),textDocument:I.Optional(nu),selection:I.Optional(Ea),visibleRanges:I.Optional(zV),computeSuggestions:I.Optional(I.Boolean()),references:I.Optional(I.Array(vT)),source:I.Optional(Am),workspaceFolder:I.Optional(I.String()),workspaceFolders:I.Optional(I.Array(GV)),ignoredSkills:I.Optional(I.Array(I.String())),userLanguage:I.Optional(I.String()),model:I.Optional(I.String()),chatMode:I.Optional(WV),needToolCallConfirmation:I.Optional(I.Boolean())});async function wLt(e,t,r){TT.validate(r.workspaceFolders);let n=await d1(e,r,t),i=e.get(Wi).create(r);await _Lt(e,i,r,n);let o=i.turns[i.turns.length-1],a=bT(r),l=e.get(M0).add(a.progressToken,t),c=new A3(e,i,o,l);return await(await e.get(E2).createProcessor(c,a.progressToken,r.computeSuggestions)).process(a,l,void 0,n,r.model),[{conversationId:i.id,turnId:o.id,agentSlug:o.agent?.agentSlug,modelFamily:r.model},null]}s(wLt,"handleConversationCreateChecked");async function _Lt(e,t,r,n){for(let i of r.turns){let o=UV(i.request),a=new u3({message:o,type:"user"},i.turnId);i.response&&(a.response={message:i.response,type:"model"}),i.agentSlug&&(a.agent={agentSlug:i.agentSlug}),a.chatMode=Wj(r.chatMode),a.needToolCallConfirmation=r.needToolCallConfirmation;let l=r.workspaceFolder?{uri:r.workspaceFolder}:void 0,c=r.workspaceFolders&&r.workspaceFolders.length>0?r.workspaceFolders:o$(l),u=YV({textDocument:n,selection:r.selection,visibleRanges:r.visibleRanges});await e.get(Wi).addTurn(t.id,a,r.references,u,l,c,r.ignoredSkills,void 0)}}s(_Lt,"addTurns");var XWe=st(TLt,wLt);d();var SLt=I.Object({conversationId:I.String()});function RLt(e,t,r){return e.get(Wi).destroy(r.conversationId),["OK",null]}s(RLt,"handleConversationDestroyChecked");var ZWe=To(st(SLt,RLt));d();var kLt=I.Object({});function BLt(e,t,r){return[{path:e.get(yc).directory},null]}s(BLt,"handleConversationPersistenceChecked");var eGe=To(st(kLt,BLt));d();d();var rGe=Ze(require("node:events"));var lde=class{static{s(this,"TokenPreconditionCheck")}async check(t){let r=await t.get(kn).getSession(t),n=t.get(Ta),i=n.fallbackAppId();return r&&r.githubAppId&&r.githubAppId!==i?{type:"token",status:"ok"}:{type:"token",status:"failed",githubAppId:n.githubAppId}}},cde=class{static{s(this,"ChatEnabledPreconditionCheck")}async check(t){return{type:"chat_enabled",status:(await t.get(en).getToken()).envelope.chat_enabled?"ok":"failed"}}},DLt=[new lde,new cde],tGe="onPreconditionsChanged",ym=class{constructor(t,r=DLt){this.ctx=t;this.checks=r;this.emitter=new rGe.default;Ks(t,async()=>{await this.check()})}static{s(this,"PreconditionsCheck")}check(t){return t&&(this.result=void 0),this.result===void 0&&(this.result=this.requestChecks()),this.result}async requestChecks(){let t=[];this.checks.length>0&&(t=await Promise.all(this.checks.map(i=>i.check(this.ctx))));let r=t.every(i=>i.status==="ok")?"ok":"failed",n={results:t,status:r};return this.emit(n),n}onChange(t){this.emitter.on(tGe,t)}emit(t){this.emitter.emit(tGe,t)}};var PLt=I.Object({forceCheck:I.Optional(I.Boolean())});async function NLt(e,t,r){let n=r.forceCheck??!1;return[await e.get(ym).check(n),null]}s(NLt,"handleConversationPreconditionsChecked");var nGe=To(st(PLt,NLt));d();var LLt=I.Object({turnId:I.String(),rating:I.Number(),doc:I.Optional(nu),textDocument:I.Optional(nu),source:I.Optional(Am)});async function FLt(e,t,r){let n=await d1(e,r,t),i=j5(r.source),o="unrated";r.rating>0?o="positive":r.rating<0&&(o="negative");let a=await fc(e,e.get(Wi).findByTurnId(r.turnId),{languageId:n?.detectedLanguageId??""});return yf(e,n,{rating:o,uiKind:i},{},`${C0(i)}.messageRating`,a),["OK",null]}s(FLt,"handleConversationRatingChecked");var iGe=st(LLt,FLt);d();d();var s$=class extends a3{static{s(this,"ClientLanguageModelTool")}constructor(t){super({...t,toolProvider:e1,type:"client"}),this.confirmationMessages=t.confirmationMessages}prepareInvocation(t,r){return{progressMessage:`Running ${this.name} tool`,confirmationMessages:this.confirmationMessages}}async invoke(t,r,n){let i={name:this.name,input:r.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:r.roundId,toolCallId:r.toolCallId};try{return await t.ctx.get(BC).invokeClientTool(t,i)}catch(o){throw new Error(`Failed to invoke client tool ${this.name}: ${String(o)}`)}}async invokeConfirmation(t,r,n){if(n.isCancellationRequested)throw new gl;let i={name:this.name,title:r.title,message:r.message,input:r.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:r.roundId,toolCallId:r.toolCallId};try{return await t.ctx.get(Fg).invokeClientToolConfirmation(t,i)}catch(o){throw new Error(`Failed to invoke client tool confirmation ${this.name}: ${String(o)}`)}}};var MLt=I.Object({tools:I.Array(PWe)});function QLt(e,t,r){return r.tools.forEach(n=>{e.get(Jc).registerTool(new s$({name:n.name,description:n.description,inputSchema:n.inputSchema,confirmationMessages:n.confirmationMessages}))}),["OK",null]}s(QLt,"conversationRegisterToolsChecked");var oGe=st(MLt,QLt);d();var OLt=I.Object({});function ULt(e,t,r){return[Cfe(e).map(i=>({id:i.id,description:i.description,shortDescription:i.shortDescription,scopes:i.scopes})),null]}s(ULt,"handleConversationTemplatesChecked");var sGe=To(st(OLt,ULt));d();var qLt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),conversationId:QV,turnId:I.Optional(cE),message:Jfe,followUp:I.Optional(I.Object({id:I.String(),type:I.String()})),doc:I.Optional(nu),textDocument:I.Optional(nu),selection:I.Optional(Ea),visibleRanges:I.Optional(zV),computeSuggestions:I.Optional(I.Boolean()),references:I.Optional(I.Array(vT)),workspaceFolder:I.Optional(I.String()),workspaceFolders:I.Optional(I.Array(GV)),ignoredSkills:I.Optional(I.Array(I.String())),confirmationResponse:KNe,model:I.Optional(I.String()),chatMode:I.Optional(WV),needToolCallConfirmation:I.Optional(I.Boolean())});async function WLt(e,t,r){TT.validate(r.workspaceFolders);let n=await d1(e,r,t),i=e.get(Wi),o=i.get(r.conversationId),a=UV(r.message),l=new u3({message:a,type:"user"},r.turnId);l.chatMode=Wj(r.chatMode),l.needToolCallConfirmation=r.needToolCallConfirmation;let c=r.workspaceFolder?{uri:r.workspaceFolder}:void 0,u=r.workspaceFolders&&r.workspaceFolders.length>0?r.workspaceFolders:o$(c),f=YV({textDocument:n,selection:r.selection,visibleRanges:r.visibleRanges});l=await i.addTurn(o.id,l,r.references,f,c,u,r.ignoredSkills,r.confirmationResponse);let m=bT(r),h=e.get(M0).add(m.progressToken,t),p=new A3(e,o,l,h);return await(await e.get(E2).createProcessor(p,m.progressToken,r.computeSuggestions)).process(m,h,r.followUp,n,r.model),[{conversationId:o.id,turnId:l.id,agentSlug:l.agent?.agentSlug,modelFamily:r.model},null]}s(WLt,"handleConversationTurnChecked");var aGe=st(qLt,WLt);d();var GLt=I.Object({conversationId:I.String(),turnId:I.String(),source:I.Optional(Am)});async function HLt(e,t,r){e.get(Wi).deleteTurn(r.conversationId,r.turnId);let i=j5(r.source),o=await fc(e,e.get(Wi).findByTurnId(r.turnId),{languageId:""});return yf(e,void 0,{messageId:r.turnId,uiKind:i,conversationId:r.conversationId},{},`${C0(i)}.messageDelete`,o),["OK",null]}s(HLt,"handleConversationTurnDeleteChecked");var lGe=To(st(GLt,HLt));d();var jLt=I.Object({document:I.Object({uri:I.String(),text:I.String(),languageId:I.String(),version:I.Number()}),selection:I.Object({start:I.Object({line:I.Number(),character:I.Number()}),end:I.Object({line:I.Number(),character:I.Number()})})});function VLt(){return["You are a world-class software engineer and the author and maintainer of the discussed code. Your feedback prefectly combines detailed feedback and explanation of context.",'When asked for your name, you must respond with "GitHub Copilot".',"Follow the user's requirements carefully & to the letter.","Follow Microsoft content policies.","Avoid content that violates copyrights.",`If you are asked to generate content that is harmful, hateful, racist, sexist, lewd, violent, or completely irrelevant to software engineering, only respond with "Sorry, I can't assist with that."`,"Keep your answers short and impersonal.","Use Markdown formatting in your answers.","Make sure to include the programming language name at the start of the Markdown code blocks.","Avoid wrapping the whole response in triple backticks.","The user works in an IDE called Visual Studio Code which has a concept for editors with open files, integrated unit test support, an output pane that shows the output of running the code as well as an integrated terminal.","The active document is the source code the user is looking at right now.","You can only give one reply for each conversation turn.","","Additional Rules","Think step by step:","1. Examine the provided code and any other context like user question, related errors, project details, class definitions, etc.","2. Provide feedback on the current selection on where it can be improved or introduces a problem.","2a. Avoid commenting on correct code.","2b. Avoid commenting on commented out code.","2c. Keep scoping rules in mind.","3. Reply with an enumerated list of feedback with source line number, filepath, kind (bug, performance, consistency, documentation, naming, readability, style, other), severity (low, medium, high), and feedback text.","3a. E.g.: 1. Line 357 in src/flow.js, bug, high severity: `i` is not incremented.","3b. E.g.: 2. Line 361 in src/arrays.js, documentation, low severity: Function `binarySearch` is not documented.","3c. E.g.: 3. Line 176 in src/vs/platform/actionWidget/browser/actionWidget.ts, consistency, medium severity: The color id `'background.actionBar'` is not consistent with the other color ids used. Use `'actionBar.background'` instead.","3d. E.g.: 4. Line 410 in src/search.js, documentation, medium severity: Returning `-1` when the target is not found is a common convention, but it should be documented.","3e. E.g.: 5. Line 51 in src/account.py, bug, high severity: The deposit method is not thread-safe. You should use a lock to ensure that the balance update is an atomic operation.","3f. E.g.: 6. Line 220 in src/account.py, readability, low severity: The withdraw method is very long and combines multipe logical steps, consider splitting it into multiple methods.","4. Try to sort the feedback by file and line number.",'5. When there is no feedback to provide, reply with "No feedback to provide."',"","Focus on being clear, helpful, and thorough.","Use developer-friendly terms and analogies in your explanations.","Provide clear and relevant examples when helpful."].join(`
`)}s(VLt,"buildSystemMessage");function $Lt(e){let r=e.document.text.split(`
`).slice(e.selection.start.line,e.selection.end.line+1),n=e.selection.start.line+1,i=e.selection.end.line+1,o=r.map((a,l)=>{let c=e.selection.start.line+l+1;return`/* ${c>n&&c<i?"Selected ":""}Line ${c} */${a}`}).join(`
`);return["<currentChange>","Current selection with the selected lines labeled as such:","",`From the file: ${e.document.uri}`,`\`\`\`${e.document.languageId}/${e.document.uri}: FROM_LINE: ${n} - TO_LINE: ${i}`,o,"```","","</currentChange>"].join(`
`)}s($Lt,"buildUserMessage");function zLt(e,t){let r=[],n=e.text.split(`
`),i=/(\d+)\.\s*Line\s*(\d+)\s*in\s*([^,]+),\s*(\w+),\s*(\w+)\s*severity:\s*((?:[^`.\n]|`[^`]*`|\.(?=\s*[A-Z]))+)(?:\.|$)/gm,o;for(;(o=i.exec(t))!==null;){let[a,l,c,u,f,m,h]=o;if(!["bug","performance","consistency","documentation","naming","readability","style","other"].includes(f.toLowerCase()))continue;let p=parseInt(c)-1;if(p<0||p>=n.length)continue;let g=n[p],y=Math.max(g.search(/\S/),0),x=g.trimEnd().length,b={uri:e.uri,range:{start:{line:p,character:y},end:{line:p,character:x}},message:h.trim(),kind:f.toLowerCase(),severity:m.toLowerCase()};r.push(b)}return r}s(zLt,"parseReviewComments");async function YLt(e,t,r){if(!r.document.text)return[null,{code:nn.InvalidRequest,message:"Document text is required"}];if(!r.document.uri)return[null,{code:nn.InvalidRequest,message:"Document URI is required"}];if(!r.document.languageId)return[null,{code:nn.InvalidRequest,message:"Document language ID is required"}];let n=r.document.text.split(`
`);if(r.selection.start.line<0||r.selection.end.line>=n.length)return[null,{code:nn.InvalidRequest,message:"Invalid selection range"}];if(r.selection.start.line>r.selection.end.line)return[null,{code:nn.InvalidRequest,message:"Selection start line must be before end line"}];let i=e.get(Ba),o=await Co.getModelConfiguration(e,"codeReview"),a=[{role:"system",content:VLt()},{role:"user",content:$Lt(r)}],l=await e.get(sr).updateExPValuesAndAssignments(),c=await i.fetchResponse({modelConfiguration:o,messages:a,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:Pu.user("code-review",_r())},t,l);if(c.type!=="success")return[null,{code:nn.InternalError,message:"Failed to generate code review"}];let u=zLt(r.document,c.value);return u.sort((f,m)=>f.range.start.line-m.range.start.line),[{comments:u},null]}s(YLt,"handleCopilotCodeReviewChecked");var cGe=To(st(jLt,YLt));d();d();var y3=class{constructor(t,r,n,i,o){this.ctx=t;this.editConversation=r;this.currentTurn=n;this.partialResultToken=i;this.userSelectedModel=o;this.workingSetUriToPathMap=new Map;for(let a of n.workingSet)this.workingSetUriToPathMap.set(a.uri,$A.uriToPath(a.uri))}static{s(this,"EditTurnContext")}get editTurnId(){return this.currentTurn.id}get editConversationId(){return this.editConversation.id}mapToUriInWorkingSet(t){for(let[r,n]of this.workingSetUriToPathMap)if(n===t)return r}toLlmInteraction(){return Pu.user("conversation-edit-panel",this.editTurnId)}};d();async function a$(e,t,r,n){let o=e.get(el).create("panel","en"),a=new FC({message:"",type:"user"},[]),l="file:///path/to/HelloWorld.java",c=new y3(e,o,a,n,ei.Gpt4o),u=e.get(Ac);await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.java](${l})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:l}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:l,partialText:`public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!");
    }
}`,languageId:"java",markdownCodeFence:"```"});let f="file:///path/to/HelloWorld.py";await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"edit-plan-generated",editDescription:`### [HelloWorld.py](${f})

Complete the \`main\` method to print "Hello, World!" to the console.`,uri:f}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`def main():
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generating",uri:f,partialText:`    println("Hello, World!")
`,languageId:"python",markdownCodeFence:"```"}),await u.reportTurn(c,{editConversationId:t,editTurnId:r,fileGenerationStatus:"updated-code-generated",uri:f,partialText:"",languageId:"python",markdownCodeFence:"```"})}s(a$,"streamMockedResult");d();var KLt=I.Object({enableMock:I.Boolean()}),m1=class{constructor(){this.enableMock=!1}static{s(this,"CopilotEditsMockManager")}isMockEnabled(){return this.enableMock}setMockEnabled(t){this.enableMock=t}};function JLt(e,t,r){return e.get(m1).setMockEnabled(r.enableMock),["OK",null]}s(JLt,"handleTestingSetCopilotEditsResponseChecked");var uGe=st(KLt,JLt);var XLt=I.Object({request:I.String(),response:I.Optional(I.String())}),ZLt=I.Union([I.Literal("panel")]),eFt=I.Object({partialResultToken:I.Union([I.String(),I.Number()]),turns:I.Array(XLt,{minItems:1}),workingSet:I.Optional(I.Array(_B)),source:I.Optional(ZLt),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String()),model:I.Optional(I.String())});function tFt(e,t){let r=e.create(t.source,t.userLanguage);for(let n of t.turns){let i=new FC({message:n.request,type:"user"},t.workingSet);n.response&&(i.response={message:n.response,type:"model"}),t.workspaceFolder&&(i.workspaceFolder=t.workspaceFolder),e.addTurn(r.id,i)}return r}s(tFt,"buildEditConversation");async function rFt(e,t,r){if(e.get(m1).isMockEnabled())return await a$(e,_r(),_r(),r.partialResultToken),[[],null];let n=tFt(e.get(el),r),i=n.getLastTurn(),o=new y3(e,n,i,r.partialResultToken,r.model),a=e.get(M0).add(r.partialResultToken,t);return[await e.get(zA).createOrContinueEditConversation(o,a),null]}s(rFt,"handleEditConversationCreateChecked");var fGe=To(st(eFt,rFt));d();var nFt=I.Object({editConversationId:I.String()});function iFt(e,t,r){return e.get(el).destroy(r.editConversationId),["OK",null]}s(iFt,"handleEditConversationDestroyChecked");var dGe=To(st(nFt,iFt));d();var oFt=I.Object({partialResultToken:I.Union([I.String(),I.Number()]),editConversationId:I.String(),message:I.String(),workingSet:I.Optional(I.Array(_B)),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String()),model:I.Optional(I.String())});function sFt(e,t,r){let n=e.get(t),i=new FC({message:r.message,type:"user"},r.workingSet);return r.workspaceFolder&&(i.workspaceFolder=r.workspaceFolder),e.addTurn(n.id,i),n}s(sFt,"buildEditConversation");async function aFt(e,t,r){if(e.get(m1).isMockEnabled())return await a$(e,r.editConversationId,_r(),r.partialResultToken),[[],null];let n=e.get(el),i=sFt(n,r.editConversationId,r),o=i.getLastTurn(),a=new y3(e,i,o,r.partialResultToken,r.model),l=e.get(M0).add(r.partialResultToken,t);return[await e.get(zA).createOrContinueEditConversation(a,l),null]}s(aFt,"handleEditConversationTurnChecked");var mGe=To(st(oFt,aFt));d();var lFt=I.Object({editConversationId:I.String(),editTurnId:I.String(),source:I.Optional(Am)});async function cFt(e,t,r){e.get(el).deleteTurn(r.editConversationId,r.editTurnId);let i=await bS(e,r.editTurnId,r.editConversationId,{languageId:""});return yf(e,void 0,{messageId:r.editTurnId,uiKind:"editsPanel",conversationId:r.editConversationId},{},`${C0("editsPanel")}.copilotEditsMessageDelete`,i),["OK",null]}s(cFt,"handleEditConversationTurnDeleteChecked");var hGe=To(st(lFt,cFt));d();var uFt=I.Object({}),fFt=I.Object({servers:I.Array(I.Object({name:I.String(),tools:I.Array(I.Object({name:I.String(),status:I.Enum(dk)}))}))});function dFt(e,t,r){return[e.get(Mf).getAllTools(),null]}s(dFt,"handleGetMCPToolsChecked");function mFt(e,t,r){for(let{name:i,tools:o}of r.servers)for(let{name:a,status:l}of o)e.get(Mf).updateMCPToolStatus(i,a,l);return[e.get(Mf).getAllTools(),null]}s(mFt,"handleUpdateMCPToolsStatusChecked");var pGe=st(uFt,dFt),gGe=st(fFt,mFt);d();var hFt=I.Object({});async function pFt(e,t,r){let n=await e.get(en).getToken();return[gFt(await e.get(sf).getMetadata(),n),null]}s(pFt,"handleCopilotModelsChecked");function gFt(e,t){let r=t.getTokenValue("editor_preview_features")=="0",n=Bd.filterModelsWithEditorPreviewFeatures(e,r),i=[];return n.forEach(o=>{if(o.model_picker_enabled===!0){let a=[];o.capabilities.type==="chat"?(a.push("chat-panel"),a.push("edit-panel"),a.push("inline"),!uxe.has(o.capabilities.family)&&o.capabilities.supports?.tool_calls&&(o.capabilities.limits?.max_prompt_tokens??!1)&&a.push("agent-panel"),i.push({modelFamily:o.capabilities.family,modelName:o.name,modelPolicy:o.policy,scopes:a,id:o.id,preview:o.preview??!1,isChatDefault:o.is_chat_default??!1,isChatFallback:o.is_chat_fallback??!1,capabilities:{supports:{vision:o.capabilities.supports?.vision??!1}},billing:o.billing?{isPremium:o.billing?.is_premium??!0,multiplier:o.billing?.multiplier??0}:void 0})):o.capabilities.type==="completion"?i.push({modelFamily:o.capabilities.family,modelName:o.name,modelPolicy:o.policy,scopes:["completion"],id:o.id,preview:o.preview??!1,isChatDefault:o.is_chat_default??!1,isChatFallback:o.is_chat_fallback??!1,capabilities:{supports:{vision:o.capabilities.supports?.vision??!1}},billing:o.billing?{isPremium:o.billing?.is_premium??!0,multiplier:o.billing?.multiplier??0}:void 0}):i.push({modelFamily:o.capabilities.family,modelName:o.name,modelPolicy:o.policy,scopes:a,id:o.id,preview:o.preview??!1,isChatDefault:o.is_chat_default??!1,isChatFallback:o.is_chat_fallback??!1,capabilities:{supports:{vision:o.capabilities.supports?.vision??!1}},billing:o.billing?{isPremium:o.billing?.is_premium??!0,multiplier:o.billing?.multiplier??0}:void 0})}}),i}s(gFt,"filterModels");var AGe=To(st(hFt,pFt));d();var AFt=I.Object({model:I.Optional(I.String()),status:I.Optional(I.String())});async function yFt(e,t,r){return r.model&&r.status==="enabled"?await e.get(sf).acceptModelPolicy(r.model)?["OK",null]:[null,{code:nn.InternalError,message:"Failed to accept model policy"}]:[null,{code:nn.InvalidRequest,message:"Invalid model or status"}]}s(yFt,"handleCopilotModelsPolicyChecked");var yGe=To(st(AFt,yFt));d();d();var I2=10;function CGe(e,t){let r=t,n=e.lineAt(t.line);return n.isEmptyOrWhitespace||(r=n.range.end),r}s(CGe,"panelPositionForDocument");d();var ude=new Gt("solutions");async function*CFt(e){for await(let t of e){let r={...t};r.completionText=r.completionText.trimEnd(),yield r}}s(CFt,"trimChoices");var wT=class{constructor(t,r,n,i){this.textDocument=t;this.startPosition=r;this.cancellationToken=n;this.solutionCountTarget=i;this.targetPosition=CGe(this.textDocument,this.startPosition)}static{s(this,"SolutionManager")}get savedTelemetryData(){return this._savedTelemetryData}set savedTelemetryData(t){this._savedTelemetryData=t}};function l$(e){return e.replace(/\s+/g,"")}s(l$,"normalizeCompletionText");async function xFt(e,t){let r=t.targetPosition,n=t.textDocument,i=R5(e,n.uri),o=_r(),a=dn.createAndMarkAsIssued({headerRequestId:o,languageId:n.detectedLanguageId,source:"open copilot"},{});t.savedTelemetryData=await e.get(sr).updateExPValuesAndAssignments({uri:n.uri,languageId:n.detectedLanguageId},a);let l=await i6(e,o,mg(n,r),t.savedTelemetryData);if(l.type==="copilotContentExclusion")return{status:"FinishedNormally"};if(l.type==="contextTooShort")return{status:"FinishedWithError",error:"Context too short"};if(l.type==="promptCancelled")return{status:"FinishedWithError",error:"Prompt cancelled"};if(l.type==="promptTimeout")return{status:"FinishedWithError",error:"Prompt timeout"};if(l.type==="promptError")return{status:"FinishedWithError",error:"Prompt error"};let c=l.prompt,u=l.trailingWs;u.length>0&&(t.startPosition=No.position(t.startPosition.line,t.startPosition.character-u.length));let f=t.cancellationToken;t.savedTelemetryData=t.savedTelemetryData.extendedBy({},{...e8(c),solutionCount:t.solutionCountTarget,promptEndPos:n.offsetAt(r)}),ude.debug(e,"prompt:",c),jt(e,"solution.requested",t.savedTelemetryData);let m=e.get(mh).forLanguage(e,n.detectedLanguageId,t.savedTelemetryData),h=lf(n.detectedLanguageId),p=SS(n,r),g={stream:!0,extra:{language:n.detectedLanguageId,next_indent:p.next??0,prompt_tokens:c.prefixTokens??0,suffix_tokens:c.suffixTokens??0}};m==="parsing"&&!h&&(g.stop=[`

`,`\r
\r
`]);let y=S5(e,t.savedTelemetryData),x={prompt:c,languageId:n.detectedLanguageId,repoInfo:i,ourRequestId:o,engineModelId:y.modelId,count:t.solutionCountTarget,uiKind:"synthesize",postOptions:g,headers:y.headers},b;switch(m){case"server":b=s(()=>{},"finishedCb"),g.extra.force_indent=p.prev??-1,g.extra.trim_by_indentation=!0;break;case"parsingandserver":b=h?_S(e,n,t.startPosition,!1):()=>{},g.extra.force_indent=p.prev??-1,g.extra.trim_by_indentation=!0;break;case"parsing":default:b=h?_S(e,n,t.startPosition,!1):()=>{};break}let E=t.savedTelemetryData,_=await e.get(mu).fetchAndStreamCompletions(e,x,E.extendedBy(),b,f);if(_.type==="failed"||_.type==="canceled")return{status:"FinishedWithError",error:`${_.type}: ${_.reason}`};let k=_.choices;k=CFt(k),k=vS(k,M=>qS(e,n,r,M,!1,ude));let B=vS(k,async M=>{let te=M.completionText;ude.info(e,`Open Copilot completion: [${M.completionText}]`);let de=await W8e(e,n,r,M.completionText)??No.position(r.line,0),[Z]=n6(n.getText(No.range(de,r)));te=Z+te;let G=M.completionText;u.length>0&&G.startsWith(u)&&(G=G.substring(u.length));let q=M.meanLogProb,ie=q!==void 0?Math.exp(q):0,z=E.extendedBy({choiceIndex:M.choiceIndex.toString()});return{completionText:G,insertText:te,range:No.range(de,r),meanProb:ie,meanLogProb:q||0,requestId:M.requestId,choiceIndex:M.choiceIndex,telemetryData:z,copilotAnnotations:M.copilotAnnotations}});return vGe(f,B[Symbol.asyncIterator]())}s(xFt,"launchSolutions");async function xGe(e,t){let r=await e;switch(r.status){case"Solution":await t.onSolution(r.solution),await xGe(r.next,t);break;case"FinishedNormally":await t.onFinishedNormally();break;case"FinishedWithError":await t.onFinishedWithError(r.error);break}}s(xGe,"reportSolutions");async function c$(e,t,r){return e.get(zi).withProgress(async()=>{let i=xFt(e,t);return await xGe(i,r)})}s(c$,"runSolutions");async function vGe(e,t){if(e.isCancellationRequested)return{status:"FinishedWithError",error:"Cancelled"};let r=await t.next();return r.done===!0?{status:"FinishedNormally"}:{status:"Solution",solution:r.value,next:vGe(e,t)}}s(vGe,"generateSolutionsStream");var EGe=Ze(t5()),PB=Ze(ul());d();d();function u$(e,t){let r=e.split(`
`),n=t,i=t,o=r[t.line],a=o.indexOf("%");a!==-1&&(o=o.substring(0,a)+o.substring(a+1),n={line:t.line,character:a});let l=o.indexOf("^");if(l!==-1){let c=o.indexOf("^",l+1);if(c===-1)throw new Error("Challenge document must contain zero or two ^ characters.");o=o.substring(0,l)+o.substring(l+1,c)+o.substring(c+1),n={line:t.line,character:t.character},i={line:t.line,character:t.character+c-l-1}}return{cursorLine:o,lines:r,start:n,end:i}}s(u$,"parseChallengeDoc");var vFt=I.Object({text:I.String(),score:I.Number()}),bFt=I.Object({documents:I.Array(vFt),options:I.Optional(I.Object({}))});async function f$(e,t,r){let n=_r();for(let i=0;i<t.length&&i<10;i++){let{text:o,score:a}=t[i],{cursorLine:l,lines:c,start:u}=u$(o,e),f=[l.slice(Math.min(u.character,e.character))].concat(c.slice(e.line+1)).join(`
`);r.offset=c.slice(0,e.line).reduce((m,h)=>m+h.length+1,0)+u.character,await r.onSolution({requestId:{headerRequestId:n,completionId:_r(),created:0,serverExperiments:"",deploymentId:""},completionText:f,insertText:f,range:{start:e,end:e},meanProb:a,meanLogProb:-1,choiceIndex:i,telemetryData:ng.createEmptyConfigForTesting()})}await r.onFinishedNormally()}s(f$,"runTestSolutions");var np=class{constructor(t){this.documents=t}static{s(this,"ExternalTestingPanelCompletionDocuments")}};function EFt(e,t,r){return e.forceSet(np,new np(r.documents)),["OK",null]}s(EFt,"handleTestingSetPanelCompletionDocumentsChecked");var bGe=st(bFt,EFt);var IGe=zL.type;function IFt(e,t,r,n,i){let o=l$(n.completionText),a=(0,EGe.SHA256)(o).toString();return e.get(ns).set(a,{displayText:n.completionText,insertText:n.insertText,offset:r,uuid:a,range:n.range,uri:t.textDocument.uri,telemetry:n.telemetryData.extendedBy({},{rank:i-1}),index:n.choiceIndex,position:t.position,resultType:0,triggerCategory:"solution",copilotAnnotations:n.copilotAnnotations}),{range:n.range,insertText:n.insertText,command:{command:_ue,title:`Accept completion ${i}`,arguments:[a]}}}s(IFt,"makeCompletion");function dde(e,t){return`${e}/${t}`}s(dde,"progressMessage");var fde=class{constructor(t,r,n){this.ctx=t;this.params=r;this.onCompletion=n;this.offset=0;this.count=0;this.items=new Map}static{s(this,"SolutionHandler")}get service(){return this.ctx.get(Wr)}async onSolution(t){this.count+=1;let r=IFt(this.ctx,this.params,this.offset,t,this.items.size+1);this.items.has(r.command.arguments[0])||(this.items.set(r.command.arguments[0],r),await this.onCompletion(r)),this.params.workDoneToken!==void 0&&await this.service.connection.sendProgress(PB.WorkDoneProgress.type,this.params.workDoneToken,{kind:"report",message:dde(this.count,I2),percentage:Math.round(100*this.count/I2)})}onFinishedNormally(){return TFt(this.params.workDoneToken,this.service,this.count)}async onFinishedWithError(t){if(this.error=t,this.params.workDoneToken!==void 0)return this.service.connection.sendProgress(PB.WorkDoneProgress.type,this.params.workDoneToken,{kind:"end",message:`Error: ${t}`})}};async function TFt(e,t,r=0){e!==void 0&&await t.connection.sendProgress(PB.WorkDoneProgress.type,e,{kind:"end",message:dde(r,I2)})}s(TFt,"reportDone");var DB;async function wFt(e,t,r){let n=await rp(e,r.textDocument,t),i=r.position;r.workDoneToken!==void 0&&await e.get(Wr).connection.sendProgress(PB.WorkDoneProgress.type,r.workDoneToken,{kind:"begin",title:"GitHub Copilot Completions Panel",cancellable:!0,message:dde(0,I2),percentage:0});let o=[],a=s(f=>(o.push(f),Promise.resolve()),"onCompletion"),l=r.partialResultToken;l!==void 0&&(a=s(async f=>{await e.get(Wr).connection.sendProgress(zL.partialResult,l,{items:[f]})},"onCompletion"));let c=new fde(e,r,a),u=e.get(np);if(u.documents){let f=u.documents;await f$(i,f,c)}else{c.offset=n.offsetAt(i);let f=new wT(n,i,t,I2);await c$(e,f,c)}return c.error!==void 0?[null,{code:nn.InternalError,message:c.error}]:[{items:o},null]}s(wFt,"handleChecked");async function _Ft(e,t,r){DB&&(DB.cancel(),DB.dispose()),DB=new Fn.CancellationTokenSource;let n=DB.token,i=new Nu([t,n]);try{return await wFt(e,i,r)}catch(o){if(n.isCancellationRequested&&!t.isCancellationRequested)return[null,{code:nn.ServerCancelled,message:"Request was superseded by a new request"}];throw o}}s(_Ft,"handleCheckedWithAbort");var TGe=st(l3e,_Ft);d();d();d();function RFt(e){let t=e.get(hs).getLoginReachabilityUrl(),r=e.get(hs).getAPIUrl(),n=e.get(hs).getLastKnownEndpointUrl("proxy","_ping"),i=e.get(hs).getLastKnownEndpointUrl("api","_ping"),o=e.get(hs).getLastKnownEndpointUrl("telemetry","_ping");function a(l){return new URL(l).host}return s(a,"label"),[{label:a(t),url:t},{label:a(r),url:r},{label:a(n),url:n},{label:a(i),url:i},{label:a(o),url:o}]}s(RFt,"urlsToCheck");async function wGe(e){let t=RFt(e).map(async({label:r,url:n})=>{let{message:i,status:o}=await kFt(e,n);return{label:r,url:n,message:i,status:o}});return await Promise.all(t)}s(wGe,"checkReachability");async function kFt(e,t){try{let r=await e.get(fn).fetch(t,{}),n=r.status>=200&&r.status<400?"reachable":"unreachable";return{message:`HTTP ${r.status}`+(r.statusText?` - ${r.statusText}`:""),status:n}}catch(r){return{message:String(r),status:"unreachable"}}}s(kFt,"determineReachability");var Cm=Ze(require("os")),_T=Ze(require("tls"));async function _Ge(e){return{sections:[BFt(e),DFt(),await NFt(e),PFt(),LFt(e),await FFt(e)]}}s(_Ge,"collectDiagnostics");function SGe(e){return e.sections.map(MFt).join(Cm.EOL+Cm.EOL)}s(SGe,"formatDiagnosticsAsMarkdown");function BFt(e){return{name:"Copilot",items:{Version:Jx(e),Build:_d(e),Editor:Hu(e)["Editor-Version"]}}}s(BFt,"collectCopilotSection");function DFt(){return{name:"Environment",items:{http_proxy:T2("http_proxy"),https_proxy:T2("https_proxy"),no_proxy:T2("no_proxy"),SSL_CERT_FILE:T2("SSL_CERT_FILE"),SSL_CERT_DIR:T2("SSL_CERT_DIR"),OPENSSL_CONF:T2("OPENSSL_CONF")}}}s(DFt,"collectEnvironmentSection");function PFt(){return{name:"Node setup",items:{"Number of root certificates":_T.rootCertificates.length,"Operating system":Cm.type(),"Operating system version":Cm.release(),"Operating system architecture":Cm.arch(),NODE_OPTIONS:T2("NODE_OPTIONS"),NODE_EXTRA_CA_CERTS:T2("NODE_EXTRA_CA_CERTS"),NODE_TLS_REJECT_UNAUTHORIZED:T2("NODE_TLS_REJECT_UNAUTHORIZED"),"tls default min version":_T.DEFAULT_MIN_VERSION,"tls default max version":_T.DEFAULT_MAX_VERSION}}}s(PFt,"collectNodeSection");async function NFt(e){let t={};try{let r=await e.get(en).getToken();t["Send Restricted Telemetry"]=r.getTokenValue("rt")==="1"?"enabled":"disabled",t.Chat=r.envelope?.chat_enabled?"enabled":void 0,t["Content exclusion"]=r.envelope?.copilotignore_enabled?"enabled":"unavailable"}catch{}return Object.keys(t).forEach(r=>t[r]===void 0&&delete t[r]),{name:"Feature Flags",items:t}}s(NFt,"collectFeatureFlagsSection");function LFt(e){let t=e.get(fn);return{name:"Network Configuration",items:{"Proxy host":t.proxySettings?.host,"Proxy port":t.proxySettings?.port,"Kerberos SPN":t.proxySettings?.kerberosServicePrincipal,"Reject unauthorized":t.rejectUnauthorized?"enabled":"disabled",Fetcher:t.name}}}s(LFt,"collectNetworkConfigSection");async function FFt(e){return{name:"Reachability",items:Object.fromEntries((await wGe(e)).map(({label:r,status:n,message:i})=>[r,i]))}}s(FFt,"collectReachabilitySection");function T2(e){let t=Object.keys(process.env).find(r=>r.toLowerCase()===e.toLowerCase());return t?process.env[t]:void 0}s(T2,"findEnvironmentVariable");function MFt(e){return`## ${e.name}`+Cm.EOL+Cm.EOL+Object.keys(e.items).filter(t=>t!=="name").map(t=>`- ${t}: ${e.items[t]??"n/a"}`).join(Cm.EOL)}s(MFt,"formatSectionAsMarkdown");var QFt=I.Object({});async function OFt(e){return[{report:SGe(await _Ge(e))},null]}s(OFt,"handleDiagnosticsChecked");var RGe=st(QFt,OFt);d();d();d();d();function kGe(e,t,r){function n(o,a,l){let c=new RegExp(`^(${a})+`,"g");return o.split(`
`).map(u=>{let f=u.replace(c,""),m=u.length-f.length;return l(m)+f}).join(`
`)}s(n,"replace");let i;if(e.tabSize===void 0||typeof e.tabSize=="string"?i=4:i=e.tabSize,e.insertSpaces===!1){let o=s(a=>n(a," ",l=>"	".repeat(Math.floor(l/i))+" ".repeat(l%i)),"r");t.displayText=o(t.displayText),t.completionText=o(t.completionText)}else if(e.insertSpaces===!0){let o=s(a=>n(a,"	",l=>" ".repeat(l*i)),"r");if(t.displayText=o(t.displayText),t.completionText=o(t.completionText),r){let a=s(l=>{if(l==="")return l;let c=l.split(`
`)[0],u=c.length-c.trimStart().length,f=u%i;if(f!==0&&u>0){let m=" ".repeat(f);return n(l,m,h=>" ".repeat((Math.floor(h/i)+1)*i))}else return l},"re");t.displayText=a(t.displayText),t.completionText=a(t.completionText)}}return t}s(kGe,"normalizeIndentCharacter");function BGe(e,t,r,n,i,o,a){let l=n.lineAt(i),c=t.map(u=>{let f=No.range(No.position(i.line,0),No.position(i.line,i.character+u.suffixCoverage)),m="";if(o&&(u.completion=kGe(o,u.completion,l.isEmptyOrWhitespace)),l.isEmptyOrWhitespace&&(u.completion.displayNeedsWsOffset||u.completion.completionText.startsWith(l.text)))m=u.completion.completionText;else{let p=No.range(f.start,i);m=n.getText(p)+u.completion.displayText}return{uuid:_r(),insertText:m,range:f,uri:n.uri,index:u.completion.completionIndex,telemetry:u.telemetry,displayText:u.completion.displayText,position:i,offset:n.offsetAt(i),resultType:r,copilotAnnotations:u.copilotAnnotations}});if(r===2&&a!==void 0){let u=c.find(f=>f.index===a);if(u){let f=c.filter(m=>m.index!==a);c=[u,...f]}}return c}s(BGe,"completionsFromGhostTextResults");async function mde(e,t,r,n={}){let i=0;n.selectedCompletionInfo?.text&&!n.selectedCompletionInfo.text.includes(")")&&(t=t.addSelectedCompletionInfo(n.selectedCompletionInfo),i=t.position.character-n.selectedCompletionInfo.range.end.character);let o=await Wne(e,t,r,n);if(o.type!=="success")return o;let[a,l]=o.value;if(r?.isCancellationRequested)return{type:"canceled",reason:"after getGhostText",telemetryData:{telemetryBlob:o.telemetryBlob}};let c=Z9e(e,t.textDocument,t.position,l),u=BGe(e,a,l,t.textDocument,t.position,n.formattingOptions,c);if(u.length===0)return{type:"empty",reason:"no completions in final result",telemetryData:o.telemetryData};let f=u.map(m=>{let{start:h,end:p}=m.range,g=Fn.Range.create(h,Fn.Position.create(p.line,p.character-i));return{...m,range:g}});return{...o,value:f}}s(mde,"getInlineCompletionsResult");async function d$(e,t,r,n,i={}){UFt(e,t,r);let o=await mde(e,mg(t,r),n,i);return v8e(e,o)}s(d$,"getInlineCompletions");function UFt(e,t,r){let n=t.getText({start:{line:Math.max(r.line-1,0),character:0},end:r}),i=t.getText({start:r,end:{line:Math.min(r.line+2,t.lineCount-1),character:t.lineCount-1>r.line?0:r.character}});gO.debug(e,`Requesting for ${t.uri} at ${r.line}:${r.character}`,`between ${JSON.stringify(n)} and ${JSON.stringify(i)}.`)}s(UFt,"logCompletionLocation");var MGe=Ze(ul());d();var DGe=require("crypto");var ST=class{static{s(this,"LspClientContextProvider")}constructor(t,r,n){this.id=r,this.selector=n,this.resolver=new pde(t,this.id)}},pde=class{constructor(t,r){this.ctx=t;this.id=r;this.contextItems=[];this.update=!1}static{s(this,"LspClientContextResolver")}async resolve(t,r){let n=[];if(this.contextItems.length>0)n=this.contextItems;else if(this.update){let i=this.ctx.get(Wr),o=(0,DGe.randomUUID)(),a=i.connection.onProgress(jL.type,o,l=>{n.push(...l)});r.onCancellationRequested(()=>{a?.dispose()});try{let l=await i.connection.sendRequest(jL.type,{providerId:this.id,data:this.data,textDocument:{uri:t.documentContext.uri,languageId:t.documentContext.languageId,version:t.documentContext.version},position:t.documentContext.position,partialResultToken:o},r);n.push(...l)}finally{a?.dispose()}}return this.reset(),Promise.resolve(n)}setContextItems(t){this.contextItems=t}clearContextItems(){this.contextItems=[]}setUpdate(t){this.update=t}clearData(){this.data=void 0}reset(){this.clearContextItems(),this.clearData(),this.setUpdate(!1)}};function RT(e,t,r){try{let n=e.get(fl),i=new Map;n.providers.forEach(o=>{i.set(o.id,o)}),t.providers.forEach(o=>{let a=i.get(o.id);a&&a instanceof ST&&a.resolver.setContextItems(o.contextItems)}),t.updating&&t.updating.length>0&&t.updating.forEach(o=>{let a=i.get(o);a&&a instanceof ST&&(a.resolver.setUpdate(!0),a.resolver.data=r)})}catch(n){Wn.error(e,"Failed to set context items on context providers",n)}}s(RT,"setContextItems");var hde={nocase:!0,matchBase:!0,nonegate:!0,dot:!0};async function PGe(e,t,r){return t.map(i=>{try{if(typeof i=="string")return _a(r.uri,i,hde);if(typeof i=="object"){let o=!0;return"language"in i&&(o&&=r.languageId==(i.language||"")),"scheme"in i&&(o&&=_a(r.uri,i.scheme||"",hde)),"pattern"in i&&(o&&=_a(r.uri,i.pattern||"",hde)),o}}catch{return!1}return!1}).some(Boolean)?10:0}s(PGe,"match");d();var qFt=I.Object({documents:I.Array(I.String()),basename:I.Optional(I.String()),options:I.Optional(I.Object({}))}),C3=class{constructor(t,r){this.documents=t;this.basename=r}static{s(this,"ExternalTestingCompletionDocuments")}};function WFt(e,t,r){return e.forceSet(C3,new C3(r.documents,r.basename||"")),["OK",null]}s(WFt,"handleTestingSetCompletionDocumentsChecked");var NGe=new Gt("setCompletionDocuments"),FGe=st(qFt,WFt);function m$(e,t,r,n){let i=e.get(C3);if(i.documents){let o=n?3:1;if(r&&i.basename&&i.basename.trim().length>0){NGe.debug(e,`Returning filtered completions by basename ${i.basename}`);let a=GFt(i,r);return a&&a.length>0?LGe(a,o,t):void 0}else return NGe.debug(e,"Returning completions for all pre-set documents"),LGe(i.documents,o,t)}}s(m$,"getTestCompletions");function LGe(e,t,r){return e.slice(0,t).map(n=>{let{cursorLine:i,lines:o,start:a,end:l}=u$(n,r);return{insertText:[i.slice(Math.min(a.character,r.character))].concat(o.slice(r.line+1)).join(`
`),range:{start:a,end:l}}})}s(LGe,"sliceAndMapCompletions");function GFt(e,t){return e.basename===Di(t)?e.documents||[]:[]}s(GFt,"getFilteredDocs");var QGe=I.Object({doc:I.Object({position:_l,insertSpaces:I.Optional(I.Boolean()),tabSize:I.Optional(I.Number()),uri:f_,version:I.Number()}),contextItems:I.Optional(jre)}),NB;async function OGe(e,t,r,n){NB&&(NB.cancel(),NB.dispose()),NB=new Fn.CancellationTokenSource;let i=new Nu([t,NB.token]);r.contextItems&&RT(e,r.contextItems);let o=m$(e,r.doc.position,r.doc.uri,n);if(o)return[{completions:o.map(h=>({uuid:_r(),text:h.insertText,displayText:h.insertText,position:r.doc.position,range:h.range,docVersion:r.doc.version}))},null];let a;try{a=await rp(e,r.doc,i)}catch(m){if(!(m instanceof MGe.ResponseError))throw m;switch(m.code){case nn.CopilotNotAvailable:case nn.ContentModified:return[{completions:[]},null]}throw m}let l=r.doc.position,c=await d$(e,a,l,i,{isCycling:n,formattingOptions:r.doc});if(!c)return[{completions:[]},null];let u=e.get(ns);for(let m of c)u.set(m.uuid,{...m,triggerCategory:"ghostText"});return[{completions:c.map(m=>({uuid:m.uuid,text:m.insertText,range:m.range,displayText:m.displayText,position:m.position,docVersion:a.version}))},null]}s(OGe,"handleGetCompletionsHelper");var UGe=st(QGe,(e,t,r)=>OGe(e,t,r,!1)),qGe=st(QGe,(e,t,r)=>OGe(e,t,r,!0));d();var WGe=Ze(t5()),kT=Ze(ul());var HFt=I.Object({doc:I.Object({position:_l,uri:f_,version:I.Number()}),panelId:I.String()});function jFt(e,t,r,n,i){let o=l$(i.completionText),a=(0,WGe.SHA256)(o).toString();return e.get(ns).set(a,{displayText:i.insertText,insertText:i.completionText,offset:n,uuid:a,range:r,uri:t.doc.uri,telemetry:i.telemetryData,index:i.choiceIndex,position:r.end,resultType:0,triggerCategory:"solution",copilotAnnotations:i.copilotAnnotations}),{panelId:t.panelId,range:r,completionText:i.completionText,displayText:i.insertText,score:i.meanProb,solutionId:a}}s(jFt,"makeSolution");var gde=class{constructor(t,r,n){this.ctx=t;this.params=r;this.range=n;this.offset=0}static{s(this,"SolutionHandler")}get service(){return this.ctx.get(Wr)}onSolution(t){return this.service.connection.sendNotification(new kT.NotificationType("PanelSolution"),jFt(this.ctx,this.params,this.range,this.offset,t))}onFinishedNormally(){return GGe(this.params.panelId,this.service)}onFinishedWithError(t){return this.service.connection.sendNotification(new kT.NotificationType("PanelSolutionsDone"),{status:"Error",message:t,panelId:this.params.panelId})}};async function GGe(e,t){return t.connection.sendNotification(new kT.NotificationType("PanelSolutionsDone"),{status:"OK",panelId:e})}s(GGe,"reportDone");var LB;async function VFt(e,t,r){LB&&(LB.cancel(),LB.dispose()),LB=new Fn.CancellationTokenSource;let n=new Nu([t,LB.token]),i=r.doc.position,o=No.range(i,i),a=new gde(e,r,o),l=e.get(np);if(l.documents){let c=l.documents;f$(i,c,a)}else{let c;try{c=await rp(e,r.doc,n)}catch(f){if(!(f instanceof kT.ResponseError))throw f;switch(f.code){case nn.CopilotNotAvailable:case nn.ContentModified:return $Ft(e,r)}throw f}a.offset=c.offsetAt(i);let u=new wT(c,i,n,I2);c$(e,u,a)}return[{solutionCountTarget:I2},null]}s(VFt,"handleGetPanelCompletionsChecked");async function $Ft(e,t){return await GGe(t.panelId,e.get(Wr)),[{solutionCountTarget:0},null]}s($Ft,"produceEmptySolutions");var HGe=st(HFt,VFt);d();var zFt=I.Object({});function YFt(e,t,r){return[{version:e.get(go).getDisplayVersion(),buildType:_d(e),runtimeVersion:`node/${process.versions.node}`},null]}s(YFt,"handleGetVersionChecked");var jGe=st(zFt,YFt);d();var KFt=I.Object({changes:I.Array(I.String()),userCommits:I.Array(I.String()),recentCommits:I.Array(I.String()),workspaceFolder:I.Optional(I.String()),userLanguage:I.Optional(I.String())});async function JFt(e,t){let r=["You are an AI programming assistant, helping a software developer to come up with the best git commit message for their code changes.","You excel in interpreting the purpose behind code changes to craft succinct, clear commit messages that adhere to the repository's guidelines.","","# First, think step-by-step:","1. Analyze the CODE CHANGES thoroughly to understand what's been modified.","2. Identify the purpose of the changes to answer the *why* for the commit messages, also considering the optionally provided RECENT USER COMMITS.","3. Review the provided RECENT REPOSITORY COMMITS to identify established commit message conventions. Focus on the format and style, ignoring commit-specific details like refs, tags, and authors.","4. Generate a thoughtful and succinct commit message for the given CODE CHANGES. It MUST follow the established writing conventions.","5. Remove any meta information like issue references, tags, or author names from the commit message. The developer will add them.","6. Now only show your message, wrapped with a single markdown ```text codeblock! Do not provide any explanations or details"];return t&&r.push(`
Current git branch name: ${t}`),e&&r.push(`
Respond in the following locale: ${e}`),r.join(`
`)}s(JFt,"buildSystemMessage");function XFt(e,t){let r=[];return e.userCommits.length>0&&r.push("# RECENT USER COMMITS (For reference only, do not copy!):",e.userCommits.map(n=>`- ${n}`).join(`
`),""),e.recentCommits.length>0&&r.push("# RECENT REPOSITORY COMMITS (For reference only, do not copy!):",e.recentCommits.map(n=>`- ${n}`).join(`
`),""),r.push("# CODE CHANGES:",e.changes.join(`
`),"","<reminder>","Now generate a commit message that describes the CODE CHANGES.","DO NOT COPY commits from RECENT COMMITS, but use them as reference for the commit style.","ONLY return a single markdown code block, NO OTHER PROSE!","```text","commit message goes here","```","</reminder>"),t&&r.push("<custom-instructions>",t,"</custom-instructions>"),r.join(`
`)}s(XFt,"buildUserMessage");async function ZFt(e,t,r){if(r.changes.length===0)return[null,{code:nn.InvalidRequest,message:"No changes provided"}];let n=new Ba(e),i=await Co.getModelConfiguration(e,"gitCommit"),o=[{uri:r.workspaceFolder?r.workspaceFolder:cl(process.cwd())}],a=await yT.getInstructions(e,o,{includeCodeGenerationInstructions:!1,includeCommitMessageGenerationInstructions:!0,customIntroduction:"When generating the commit message, please use the following custom instructions provided by the user."}),l=e.get(Wi),c=l.create({capabilities:{skills:[a1]}}),u=new u3({message:"",type:"user"});await l.addTurn(c.id,u);let f=bT({workDoneToken:_r()});await e.get(ws).begin(c,u,f);let p=(await new A3(e,c,u,t).skillResolver.resolve(a1))?.head?.name,g=[{role:"system",content:await JFt(r.userLanguage,p)},{role:"user",content:XFt(r,a)}],y=await e.get(sr).updateExPValuesAndAssignments(),x=await n.fetchResponse({modelConfiguration:i,messages:g,uiKind:"conversationPanel",intentParams:{intent:!0},llmInteraction:Pu.user("git-commit",_r())},t,y);if(x.type!=="success")return[null,{code:nn.InternalError,message:"Failed to generate commit message"}];let b=x.value.match(/```text\n([\s\S]*?)\n```/);return[{commitMessage:b?b[1].trim():x.value.trim()},null]}s(ZFt,"handleGitCommitGenerateChecked");var VGe=To(st(KFt,ZFt));d();var zGe=yZ.type,FB;function $Ge(e){return{title:"Completion Accepted",command:fB,arguments:[e]}}s($Ge,"makeCommand");async function eMt(e,t,r){FB&&(FB.cancel(),FB.dispose());let n=r.context.triggerKind===1;FB=new Fn.CancellationTokenSource;let i=FB.token,o=new Nu([t,i]);r.contextItems&&RT(e,r.contextItems,r.data);let a=m$(e,r.position,r.textDocument.uri,n);if(a)return[{items:a.map(p=>({command:$Ge(_r()),...p}))},null];let l=await rp(e,r.textDocument,o),c=r.position,u=await d$(e,l,c,o,{isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(!u)return t.isCancellationRequested?[null,{code:nn.RequestCancelled,message:"Request was canceled"}]:i.isCancellationRequested?[null,{code:nn.ServerCancelled,message:"Request was superseded by a new request"}]:[{items:[]},null];let f=e.get(ns);for(let h of u)f.set(h.uuid,{...h,triggerCategory:"ghostText"});return[{items:u.map(h=>({command:$Ge(h.uuid),insertText:h.insertText,range:h.range}))},null]}s(eMt,"handleChecked");var YGe=st(CO,(e,t,r)=>eMt(e,t,r));d();var KGe=vZ.type,MB;async function rMt(e,t,r){MB&&(MB.cancel(),MB.dispose());let n=r.context.triggerKind===1;MB=new Fn.CancellationTokenSource;let i=MB.token,o=new Nu([t,i]);r.contextItems&&RT(e,r.contextItems);let a=await rp(e,r.textDocument,o),l=await mde(e,mg(a,r.position),o,{promptOnly:!0,isCycling:n,selectedCompletionInfo:r.context.selectedCompletionInfo,formattingOptions:r.formattingOptions,data:r.data});if(l.type!=="promptOnly")throw new Error(`Unexpected result type ${l.type}`);return[{prompt:l.prompt},null]}s(rMt,"handleChecked");var JGe=st(CO,(e,t,r)=>rMt(e,t,r));d();d();function Ade(e){let t=e.indexOf("-----BEGIN CERTIFICATE-----")+27,r=e.indexOf("-----END CERTIFICATE-----"),n=30,i=e.substring(t,t+n)+"..."+e.substring(r-n,r-1);return BT(i)}s(Ade,"asReadableCert");function BT(e){return e.replace(/\s/g,"")}s(BT,"normalizeNewlines");var iMt=I.Object({});async function oMt(e){return[{certificates:(await e.get(Za).getAllRootCAs()).map(BT)},null]}s(oMt,"handleListCertificatesChecked");var XGe=st(iMt,oMt);d();async function sMt(e,t,r){let n=e.get(Yh);if(r.textDocument.version===void 0)throw new Error("textDocument.version is undefined");let i=ac(r.textDocument.uri);e.get(zg).onUserPositionChange(i,new mn(r.position.line,r.position.character));let o=await n.handleNextEditRequest(i,r.textDocument.version,t);return o?[{edits:o.map(l=>({text:l.edit.text,textDocument:l.edit.textDocument,range:l.edit.range,command:{title:"Accept inline edit",command:fB,arguments:[l.id]}}))},null]:[{edits:[]},null]}s(sMt,"handleChecked");var ZGe=st(s3e,sMt);d();var aMt=I.Object({uuid:I.String({minLength:1}),acceptedLength:I.Optional(I.Number({minimum:1}))});function lMt(e,t,r){let n=e.get(ns),i=n.get(r.uuid);if(i){n.delete(r.uuid);let o=cMt(r,i);Gv(e,i.triggerCategory,i.insertText,i.offset,i.uri,i.telemetry,o,i.copilotAnnotations)}return["OK",null]}s(lMt,"notifyAcceptedChecked");function cMt(e,t){return e.acceptedLength===void 0?{compType:"full"}:e.acceptedLength<t.insertText.length?{compType:"partial",acceptedLength:e.acceptedLength}:{compType:"full"}}s(cMt,"getSuggestionStatus");var eHe=st(aMt,lMt);d();var uMt=I.Object({uuids:I.Array(I.String())});function fMt(e,t,r){let n=e.get(ns),i=r.uuids.flatMap(o=>n.get(o)??[]);if(i.length>0){let o=i[0];for(let l of r.uuids)n.delete(l);let a=i.map(l=>({completionText:l.displayText,completionTelemetryData:l.telemetry}));hU(e,"ghostText",o.offset,o.uri,a),e.get(I0).resetState()}return["OK",null]}s(fMt,"notifyRejectedChecked");var tHe=st(uMt,fMt);d();var dMt=I.Object({uuid:I.String({minLength:1})});function mMt(e,t,r){let i=e.get(ns).get(r.uuid);return i&&AO(e,i.triggerCategory,i),["OK",null]}s(mMt,"notifyShownChecked");var rHe=st(dMt,mMt);d();var hMt=S8e;function pMt(e,t,r){let n=e.get(fl),i={unregistered:[],registered:[]};return r.providers.forEach(o=>{try{let a=new ST(e,o.id,o.selector);n.registerContextProvider(a),i.registered.push(o.id)}catch{i.unregistered.push(o.id)}}),[i,null]}s(pMt,"registerContextProviders");var nHe=st(hMt,pMt);d();d();var iHe=require("net");function yde(e){return e.HTTPS_PROXY||e.https_proxy||e.HTTP_PROXY||e.http_proxy}s(yde,"getProxyFromEnvironment");function gMt(e){return e.NODE_TLS_REJECT_UNAUTHORIZED!=="0"}s(gMt,"getRejectUnauthorizedFromEnvironment");var oHe=I.Object({proxy:I.Optional(I.String()),proxyStrictSSL:I.Optional(I.Boolean()),proxyAuthorization:I.Optional(I.String()),proxyKerberosServicePrincipal:I.Optional(I.String())});function sHe(e){let r={proxy:yde(e),proxyStrictSSL:gMt(e)},n=e.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??e.AGENT_KERBEROS_SERVICE_PRINCIPAL;return n&&(r.proxyKerberosServicePrincipal=n),r}s(sHe,"getHttpSettingsFromEnvironment");function QB(e){(0,iHe.isIPv6)(e)?e="https://["+e+"]":/:\/\//.test(e)||(e=`https://${e}`);let{hostname:t,port:r,username:n,password:i}=new URL(e);return{host:t,port:AMt(r),proxyAuth:yMt(n,i)}}s(QB,"proxySettingFromUrl");function AMt(e){if(!e)return 80;let t=Number(e);if(isNaN(t))throw new TypeError("Invalid proxy port");return t}s(AMt,"parsePort");function yMt(e,t){return!e||!t?"":`${decodeURIComponent(e)}:${decodeURIComponent(t)}`}s(yMt,"getAuth");d();var xde=I.Object({host:I.String(),port:I.Number(),username:I.Optional(I.String()),password:I.Optional(I.String()),rejectUnauthorized:I.Optional(I.Boolean())}),CMt=I.Object({uri:I.Optional(I.String())}),xMt=I.Object({showEditorCompletions:I.Optional(I.Boolean()),enableAutoCompletions:I.Optional(I.Boolean()),delayCompletions:I.Optional(I.Boolean()),filterCompletions:I.Optional(I.Boolean())}),lHe=I.Object({github:I.Optional(I.Object({copilot:I.Optional(I.Object({}))})),"github-enterprise":I.Optional(CMt),http:I.Optional(oHe),telemetry:I.Optional(I.Object({telemetryLevel:I.Optional(I.String())}))}),vde=Object.keys(lHe.properties).filter(e=>e!=="github"),vMt=I.Intersect([lHe,xMt]),bMt=I.Object({settings:I.Optional(I.Union([I.Object({}),I.Array(I.Unknown(),{maxItems:0})])),networkProxy:I.Optional(xde),authProvider:I.Optional(I.Never())}),aHe=ms.Compile(bMt),Cde=ms.Compile(vMt);async function cHe(e,t){if(!aHe.Check(t))throw new Cc(aHe.Errors(t));let r=Array.isArray(t.settings)?{}:t.settings;r&&await bde(e,r),t.networkProxy!==void 0&&h$(e,t.networkProxy),await OB(e,r)}s(cHe,"notifyChangeConfiguration");async function bde(e,t){for(let i of Cde.Errors(t)){let o=i.path.split("/")?.[1];N0.warn(e,`Invalid ${i.path.slice(1).replace(/\//g,".")} setting:`,i.message),delete t[o]}if(!Cde.Check(t))throw new Cc(Cde.Errors(t));let r=e.get(jf);r.setConfig(bt.ShowEditorCompletions,t.showEditorCompletions),r.setConfig(bt.DelayCompletions,t.delayCompletions),r.setConfig(bt.EnableAutoCompletions,t.enableAutoCompletions),r.setConfig(bt.FilterCompletions,t.filterCompletions),t.http&&Ede(e,t.http);let n=t["github-enterprise"];n&&(e.get(hs).updateBaseUrl(e,n.uri),e.get(kn).updateEnterpriseConfig(e,n)),t.github?.copilot&&await EMt(e,t.github.copilot)}s(bde,"applySettingsToConfiguration");async function EMt(e,t){let r=e.get(jf);for(let n of Object.values(bt)){let i=kve(t,n);r.setConfig(n,i)}t.mcp?await IMt(e,t.mcp):await TMt(e)}s(EMt,"applyCopilotConfiguration");function Ede(e,t){let r=e.get(jf),n=e.get(fn);if(t.proxy===void 0&&(t=sHe(r.env)),n.rejectUnauthorized=t?.proxyStrictSSL,!t.proxy){n.proxySettings=void 0;return}try{n.proxySettings=QB(t.proxy),t.proxyAuthorization&&(n.proxySettings.proxyAuth=t.proxyAuthorization),t.proxyKerberosServicePrincipal&&(n.proxySettings.kerberosServicePrincipal=t.proxyKerberosServicePrincipal)}catch(i){if(!(i instanceof TypeError))throw i;N0.warn(e,"Invalid proxy URL",t.proxy,i),n.proxySettings=void 0}}s(Ede,"applyHttpConfiguration");function h$(e,t){if(!t){e.get(fn).proxySettings=void 0,e.get(fn).rejectUnauthorized=void 0;return}let r;t.username&&(t.password?r=t.username+":"+t.password:r=t.username),e.get(fn).proxySettings={host:t.host,port:t.port,proxyAuth:r},e.get(fn).rejectUnauthorized=t.rejectUnauthorized??!0}s(h$,"applyNetworkProxyConfiguration");async function IMt(e,t){try{let r=JSON.parse(t);await e.get(Mf).updateMCPServers(r)}catch(r){N0.error(e,"Failed to apply MCP configuration",r)}}s(IMt,"applyMCPConfiguration");async function TMt(e){await e.get(Mf).updateMCPServers({})}s(TMt,"removeMCPConfiguration");async function OB(e,t){if(!e.get(Go).getCapabilities().redirectedTelemetry){let r=(t?.telemetry?.telemetryLevel??"all")==="all";await I5(e,"agent",r)}await e.get(en).primeToken()}s(OB,"initializePostConfigurationDependencies");var uHe=I.Object({name:I.String(),version:I.String(),readableName:I.Optional(I.String())}),wMt=I.Object({editorInfo:uHe,editorPluginInfo:uHe,editorConfiguration:I.Optional(I.Object({})),networkProxy:I.Optional(xde),authProvider:I.Optional(I.Never()),redirectTelemetry:I.Optional(I.Boolean()),options:I.Optional(I.Object({}))});async function _Mt(e,t,r){e.get(gn).setEditorAndPluginInfo(r.editorPluginInfo,r.editorInfo),hj(e,["setEditorInfo is deprecated. Use initializationOptions for editorInfo and editorPluginInfo","and workspace/didChangeConfiguration for editorConfiguration."]),r.editorConfiguration&&await bde(e,r.editorConfiguration);let n=e.get(fn),i=e.get(jf).env,o=yde(i);if(r.editorInfo.name==="VisualStudio"){if(o)n.proxySettings=QB(o);else if(r.networkProxy){h$(e,r.networkProxy);let a=i.GH_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.GITHUB_COPILOT_KERBEROS_SERVICE_PRINCIPAL??i.AGENT_KERBEROS_SERVICE_PRINCIPAL;n.proxySettings&&a&&(n.proxySettings.kerberosServicePrincipal??=a)}}else r.networkProxy?h$(e,r.networkProxy):o&&(n.proxySettings=QB(o));return await OB(e,r.editorConfiguration),["OK",null]}s(_Mt,"handleSetEditorInfoChecked");var fHe=st(wMt,_Mt);d();var SMt=I.Object({options:I.Optional(I.Object({}))});async function RMt(e,t,r){let n=e.get(kn).pendingSignIn?.status;if(n===void 0)return[null,{code:nn.InvalidRequest,message:"No pending sign in"}];let i;try{return i=await n,[i,null]}catch(o){return[null,{code:nn.DeviceFlowFailed,message:String(o)}]}finally{e.get(kn).pendingSignIn=void 0}}s(RMt,"handleSignInConfirmChecked");var dHe=st(SMt,RMt);d();var kMt=I.Object({options:I.Optional(I.Object({})),githubAppId:I.Optional(I.String())});async function BMt(e,t,r){try{let n=e.get(kn),i=await n.checkAndUpdateStatus(e,{githubAppId:r.githubAppId});if(i.status==="OK")return[{status:"AlreadySignedIn",user:i.user},null];let o=r.githubAppId??e.get(Ta).findAppIdToAuthenticate(),a=await e.get(Sv).getToken(e,o,n.getConfiguredUrls()),l=a.waitForAuth.then(async c=>(e.get(Ta).githubAppId=o,await e.get(kn).setPersistedSession(c),await e.get(kn).checkAndUpdateStatus(e,{freshSignIn:!0})));return e.get(kn).pendingSignIn={verificationUri:a.verification_uri,status:l},[{status:"PromptUserDeviceFlow",userCode:a.user_code,verificationUri:a.verification_uri,expiresIn:a.expires_in,interval:a.interval,command:{command:wj,title:"Sign in with GitHub",arguments:[]}},null]}catch(n){if(!(n instanceof Vs))throw n;return[null,{code:nn.DeviceFlowFailed,message:n.message}]}}s(BMt,"handleSignInInitiateChecked");var Ide=st(kMt,BMt);d();var DMt=I.Object({githubToken:I.String({minLength:1}),user:I.String({minLength:1}),githubAppId:I.Optional(I.String({minLength:1}))});async function PMt(e,t,r){let n=r.githubToken,i=r.user,o=r.githubAppId;return await e.get(kn).setPersistedSession({accessToken:n,login:i,githubAppId:o}),[await e.get(kn).checkAndUpdateStatus(e),null]}s(PMt,"handleSignInWithGithubTokenChecked");var mHe=st(DMt,PMt);d();var NMt=I.Object({options:I.Optional(I.Object({}))});async function LMt(e,t,r){return await e.get(kn).deletePersistedSession(),[await e.get(kn).checkAndUpdateStatus(e),null]}s(LMt,"handleSignOutChecked");var hHe=st(NMt,LMt);d();var FMt=I.Object({});function MMt(e,t,r){return u4e(e),["OK",null]}s(MMt,"handleTelemetryAuthNotifyDismissedChecked");var pHe=st(FMt,MMt);d();var QMt=I.Object({authSource:I.Union([I.Literal("toast"),I.Literal("goldbar"),I.Literal("menu")])});function OMt(e,t,r){return c4e(e,r.authSource),["OK",null]}s(OMt,"handleTelemetryAuthNotifyShownChecked");var gHe=st(QMt,OMt);d();var UMt=I.Object({authType:I.Union([I.Literal("editorAuth"),I.Literal("deviceFlow")])});function qMt(e,t,r){return qQ(e,r.authType),["OK",null]}s(qMt,"handleTelemetryGitHubLoginSuccessChecked");var AHe=st(UMt,qMt);d();var WMt=I.Object({authSource:I.Union([I.Literal("toast"),I.Literal("goldbar"),I.Literal("menu")]),authType:I.Union([I.Literal("editorAuth"),I.Literal("deviceFlow")])});function GMt(e,t,r){return UQ(e,r.authSource,r.authType),["OK",null]}s(GMt,"handleTelemetryNewGitHubLoginChecked");var yHe=st(WMt,GMt);d();var HMt=I.Object({transaction:I.Optional(I.String()),stacktrace:I.Optional(I.String()),properties:I.Optional(I.Record(I.String(),I.String())),platform:I.Optional(I.String()),exception_detail:I.Optional(I.Array(I.Object({type:I.Optional(I.String()),value:I.Optional(I.String()),stacktrace:I.Optional(I.Array(I.Object({filename:I.Optional(I.String()),lineno:I.Optional(I.Union([I.String(),I.Integer()])),colno:I.Optional(I.Union([I.String(),I.Integer()])),function:I.Optional(I.String()),in_app:I.Optional(I.Boolean())})))})))}),Tde=class extends Error{constructor(r,n){super(r);this.code=n;this.name="AgentEditorError"}static{s(this,"AgentEditorError")}};function jMt(e,t,r){let n=e.get(go),i=e.get(gn).getEditorPluginInfo(),o=r.properties||{},a;r.platform&&r.exception_detail&&r1.has(i.name)&&(a=Object.assign({rollup_id:"auto",context:TZ(e),sensitive_context:{},deployed_to:n.getBuildType(),platform:r.platform,exception_detail:r.exception_detail},r1.get(i.name)),r.transaction&&(a.transaction=r.transaction),n.getBuildType()!=="dev"&&(a.release=`${a.app}@${i.version}`));let l=new Tde(r.stacktrace??"N/A",i.name);return l.stack=void 0,Ia(e,l,void 0,o,a),["OK",null]}s(jMt,"handleTelemetryExceptionChecked");var CHe=st(HMt,jMt);d();d();d();d();d();d();var xHe=Ze(require("tls"));var p$=class{static{s(this,"RootCertificateConfigurator")}#e;constructor(t){this._certificateReader=t.get(Za)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async createSecureContext(){let t=await this._certificateReader.getAllRootCAs(),n=xHe.createSecureContext({_vscodeAdditionalCaCerts:t}),i=n.context;for(let o of t)i.addCACert(o);return{secureContext:n,certs:t}}async applyToRequestOptions(t){this.#e??=this.createSecureContext();let r=await this.#e;t.secureContext=r.secureContext,t.ca=r.certs,t.cert=r.certs}};d();var OT=Ze(Lje(),1),ajn={ALPN_HTTP2:OT.default.ALPN_HTTP2,ALPN_HTTP2C:OT.default.ALPN_HTTP2C,ALPN_HTTP1_1:OT.default.ALPN_HTTP1_1,ALPN_HTTP1_0:OT.default.ALPN_HTTP1_0},{fetch:ljn,context:Fje,reset:cjn,noCache:ujn,h1:fjn,keepAlive:djn,h1NoCache:mjn,keepAliveNoCache:hjn,cacheStats:pjn,clearCache:gjn,offPush:Ajn,onPush:yjn,createUrl:Cjn,timeoutSignal:xjn,Body:vjn,Headers:Mje,Request:bjn,Response:Ejn,AbortController:F$,AbortError:M$,AbortSignal:Qje,FetchBaseError:Ijn,FetchError:Tjn,ALPN_HTTP2:wjn,ALPN_HTTP2C:_jn,ALPN_HTTP1_1:Sjn,ALPN_HTTP1_0:Rjn}=OT.default;var UT=class extends fn{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=s((r,n)=>async i=>{i.rejectUnauthorized=n,i.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(i);let o=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(i,o)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new p$(r),this.proxySocketFactory=r.get(Lg)}static{s(this,"HelixFetcher")}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(go);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),Fje({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let i=n.signal,o=!1;if(n.timeout){let u=this.makeAbortController();setTimeout(()=>{u.abort(),o=!0},n.timeout),n.signal?.addEventListener("abort",()=>u.abort()),n.signal?.aborted&&u.abort(),i=u.signal}let a={...n,body:n.body?n.body:n.json,signal:i};await this.certificateConfigurator.applyToRequestOptions(a);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let c=await this.fetchApi.fetch(r,a).catch(u=>{throw o?new Q7(`Request to <${r}> timed out after ${n.timeout}ms`,u):u});return new r5(c.status,c.statusText,c.headers,()=>c.text(),()=>c.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new F$}};d();d();var $B=require("fs");var qT=class extends vo{static{s(this,"LocalFileSystem")}async readFileString(t){return(await $B.promises.readFile(Ga(t))).toString()}async stat(t){let{targetStat:r,lstat:n,stat:i}=await this.statWithLink(Ga(t));return{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size,type:this.getFileType(r,n,i)}}async readDirectory(t){let r=Ga(t),n=await $B.promises.readdir(r,{withFileTypes:!0}),i=[];for(let o of n)i.push([o.name,o.isFile()?1:2]);return i}async statWithLink(t){let r=await $B.promises.lstat(t);if(r.isSymbolicLink())try{let n=await $B.promises.stat(t);return{lstat:r,stat:n,targetStat:n}}catch{}return{lstat:r,targetStat:r}}getFileType(t,r,n){let i=0;return t.isFile()&&(i=1),t.isDirectory()&&(i=2),r.isSymbolicLink()&&n&&(i|=64),i}};d();var Q$=class extends tp{constructor(r=[]){super();this._agents=r}static{s(this,"TestRemoteAgentRegistry")}agents(){return this._agents}};d();var O$=class extends rl{constructor(){super(...arguments);this.prompts=[];this.fetchResults=[];this.diffs=[]}static{s(this,"TestConversationInspector")}shouldInspect(){return!0}inspectPrompt(r){this.shouldInspect()&&this.prompts.push(r)}inspectFetchResult(r){this.shouldInspect()&&this.fetchResults.push(r)}documentDiff(r){this.shouldInspect()&&this.diffs.push(r)}};d();var ime=class extends Za{constructor(r){super();this.certificates=r}static{s(this,"TestCertificateReader")}getAllRootCAs(){return this.certificates}},Uje=s(e=>new ime(e),"createTestCertificateReader");function ame(e,t,r){let n=new ome;n.set("x-github-request-id","1");for(let[i,o]of Object.entries(r||{}))n.set(i,o);return new r5(e,"status text",n,()=>Promise.resolve(t??""),()=>null)}s(ame,"createFakeResponse");function qje(e,t,r){let n;return typeof t=="string"?n=t:n=JSON.stringify(t),ame(e,n,Object.assign({"content-type":"application/json"},r))}s(qje,"createFakeJsonResponse");var zB=class extends fn{constructor(){super(...arguments);this.name="FakeFetcher"}static{s(this,"FakeFetcher")}disconnectAll(){throw new Error("Method not implemented.")}makeAbortController(){return new sme}};var U$=class extends zB{static{s(this,"NoFetchFetcher")}fetch(t,r){throw new Error("NoFetchFetcher does not support fetching")}};var ome=class{constructor(){this.headers=new Map}static{s(this,"FakeHeaders")}append(t,r){this.headers.set(t.toLowerCase(),r)}delete(t){this.headers.delete(t.toLowerCase())}get(t){return this.headers.get(t.toLowerCase())??null}has(t){return this.headers.has(t.toLowerCase())}set(t,r){this.headers.set(t.toLowerCase(),r)}entries(){return this.headers.entries()}keys(){return this.headers.keys()}values(){return this.headers.values()}[Symbol.iterator](){return this.headers.entries()}},sme=class{constructor(){this.signal={aborted:!1,addEventListener:s(()=>{},"addEventListener"),removeEventListener:s(()=>{},"removeEventListener")}}static{s(this,"FakeAbortController")}abort(){this.signal.aborted=!0}};d();function FUt(e){return{modelId:"gpt-3.5-turbo",modelFamily:e,uiName:"Test GPT",maxRequestTokens:6144,maxResponseTokens:2048,baseTokensPerMessage:3,baseTokensPerName:1,baseTokensPerCompletion:3,tokenizer:"cl100k_base",isExperimental:!1,stream:!0,toolCalls:!0}}s(FUt,"fakeChatModelConfiguration");function MUt(e){return{modelId:"embedding-test",modelFamily:e,maxBatchSize:1,maxTokens:50,tokenizer:"cl100k_base"}}s(MUt,"fakeEmbeddingModelConfiguration");var q$=class extends ua{static{s(this,"TestModelConfigurationProvider")}getBestChatModelConfig(t){let r=t[0];return Promise.resolve(FUt(r))}getFirstMatchingEmbeddingModelConfiguration(t){return Promise.resolve(MUt(t))}};d();var W$=class extends lc{constructor(){super(...arguments);this.openedUrls=[];this.opened=new M8}static{s(this,"TestUrlOpener")}open(r){return this.openedUrls.push(r),this.opened.resolve(),Promise.resolve()}},G$=class extends ja{constructor(){super();this.sentMessages=[];this.warningPromises=[]}static{s(this,"TestNotificationSender")}performDismiss(){this.actionToPerform="DISMISS"}performAction(r){this.actionToPerform=r}showWarningMessage(r,...n){this.sentMessages.push(r);let i;if(this.actionToPerform)if(this.actionToPerform==="DISMISS")i=Promise.resolve(void 0);else{let o=n.find(a=>a.title===this.actionToPerform);i=o?Promise.resolve(o):Promise.resolve(void 0)}else i=n?Promise.resolve(n[0]):Promise.resolve(void 0);return this.warningPromises.push(i),i}async waitForWarningMessages(){await Promise.all(this.warningPromises)}};d();function Wje(e,t,r,n){return CA.create(W3e(e),t,r,n,t)}s(Wje,"createTextDocument");var lme=class extends Vr{constructor(r){super(r);this._openTextDocuments=[];this._notebookDocuments=new Map;this._workspaceFolders=[];this._focusSubscribers=[];this._changeSubscribers=[];this._openSubscribers=[];this._closeSubscribers=[];this.onDidFocusTextDocument=s((r,n,i)=>{let o=r.bind(n);return this._focusSubscribers.push(o),{dispose:s(()=>{this._focusSubscribers=this._focusSubscribers.filter(a=>a!==o)},"dispose")}},"onDidFocusTextDocument");this.onDidChangeTextDocument=s((r,n,i)=>{let o=r.bind(n);return this._changeSubscribers.push(o),{dispose:s(()=>{this._changeSubscribers=this._changeSubscribers.filter(a=>a!==o)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=s((r,n,i)=>{let o=r.bind(n);return this._openSubscribers.push(o),{dispose:s(()=>{this._openSubscribers=this._openSubscribers.filter(a=>a!==o)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=s((r,n,i)=>{let o=r.bind(n);return this._closeSubscribers.push(o),{dispose:s(()=>{this._closeSubscribers=this._closeSubscribers.filter(a=>a!==o)},"dispose")}},"onDidCloseTextDocument")}static{s(this,"SimpleTestTextDocumentManager")}init(r){this._workspaceFolders=r.map(n=>({uri:n.uri,name:n.name??Di(n.uri)}))}async readTextDocumentFromDisk(r){return super.readTextDocumentFromDisk(r)}getTextDocumentsUnsafe(){return this._openTextDocuments}setTextDocument(r,n,i){let o=Wje(r,n,0,i);return this._openTextDocuments.push(o),o}updateTextDocument(r,n){let i=this._openTextDocuments.findIndex(a=>a.uri===r.toString());if(i<0)throw new Error("Document not found");let o=this._openTextDocuments[i];this._openTextDocuments[i]=Wje(r,o.clientLanguageId,o.version+1,n)}setNotebookDocument(r,n){this._notebookDocuments.set(r.uri.replace(/#.*/,""),n)}findNotebook({uri:r}){return this._notebookDocuments.get(r.replace(/#.*/,""))}getWorkspaceFolders(){return this._workspaceFolders}emitEvent(r){switch(r.eventName){case"focus":this._focusSubscribers.forEach(n=>n(r.args));break;case"change":this._changeSubscribers.forEach(n=>n(r.args));break;case"open":this._openSubscribers.forEach(n=>n(r.args));break;case"close":this._closeSubscribers.forEach(n=>n(r.args));break}}},H$=class extends lme{constructor(r){super(r);this.contents=new Map}static{s(this,"TestTextDocumentManager")}readTextDocumentFromDisk(r){return Promise.resolve(this.contents.get(r))}setDiskContents(r,n){this.contents.set(r,n)}};var cme=class extends Ha{static{s(this,"NullLog")}logIt(...t){}};function QUt(e){let t=new k8;return t.set(ag,e),t.set(sv,e),t.set(go,new go),t.set(Td,new Td({debug:!1,verboseLogging:!1,testMode:!0,simulation:!1})),t.set(Za,Uje([])),t.set(Lg,JW(t)),t.set(Hp,new Hp),t.set(lh,new mF),t.set(Af,new Af),t.set(Zp,new Zp),t.set(tg,new tg),t.set(ic,new ic(t,"tid=test",!0)),t.set(Fs,new Fs),t.set(ja,new G$),t.set(lc,new W$),t.set(ig,new a6),t.set(Ha,new cme),t.set(iu,new iu),t.set(Bs,new Bs("test-session","test-machine")),t.set(hs,new v9(t)),t.set(of,new of),I5(t,"copilot-test",!0),t.set(sr,new sr(t)),t.set(bh,new bh),t.set(gf,new gf),t.set(mh,new d8),t.set(en,new E3("tid=test")),t.set(zi,new bF),t.set(ko,new ko),t.set(Ih,cU(t)),t.set(I0,new I0),t.set($d,new $d),t.set(SA,SA.default),t.set(Nf,new Nf),t.set(Bd,new Bd(t,!1)),t.set(Ta,new Ta),t.set(On,new On(t)),t.set(pf,new WQ),t.set(Dl,new Dl),t.set(fl,vO(t,async(r,n,i)=>n.find(o=>o==="*")?1:n.find(o=>typeof o!="string"&&o.language===i.languageId)?10:0)),t.set(jd,new jd(t)),OUt(t),t.set(vh,new vh(t)),t.set(Go,new Go),t}s(QUt,"_createBaselineContext");function OUt(e){e.set(Wi,new Wi(e)),e.set(ws,new ws(e)),e.set(vc,new vc(e)),e.set(Al,new Al),e.set($l,new $l),e.set(rl,new O$),e.set(ym,new ym(e,[])),e.set(ua,new q$),e.set(tp,new Q$),e.set(o1,new o1(e)),e.set(f3,new f3),e.set(ha,new ha(e)),e.set(xc,new xc),e.set($f,new $f)}s(OUt,"registerConversation");function Gje(){let e=QUt(new sv(new m8,new Map));return e.set(fn,new U$),e.set(gn,new ume),e.set(Vr,new H$(e)),e.set(vo,new qT),e.set(Wc,new Wc(e)),e.set(el,new el(e)),e.set(Ac,new rG(e)),e.set(z5,new W8),ZH(e),e}s(Gje,"createLibTestingContext");var ume=class extends gn{constructor(r={name:"lib-tests-plugin",version:"2"},n={name:"lib-tests-editor",version:"1"},i=[{name:"lib-tests-related-plugin",version:"3"}]){super();this.editorPluginInfo=r;this.editorInfo=n;this.relatedPluginInfo=i}static{s(this,"LibTestsEditorInfo")}getEditorInfo(){return this.editorInfo}getEditorPluginInfo(){return this.editorPluginInfo}getRelatedPluginInfo(){return this.relatedPluginInfo}};var jje=Ze(require("fs"));var Hje=`${process.env.HOME}/.copilot-testing-gh-token`,j$,V$;async function Vje(e){e.forceSet(en,new E3(await UUt()))}s(Vje,"setTestingCopilotTokenManager");var UUt=s(async()=>{if(process.env.GH_COPILOT_IDE_TOKEN)return process.env.GH_COPILOT_IDE_TOKEN;let e=process.env.GH_COPILOT_TOKEN??"";if(/=/.test(e))return e;if(V$)return V$;let t=e||process.env.GITHUB_COPILOT_TOKEN||await qUt(),r=Gje(),n=new UT(r);return r.forceSet(fn,n),V$=CF(r,{...n8({}),accessToken:t}).then(i=>{if(i.kind==="success")return i.envelope.token;throw new Vs('Could not fetch testing Copilot token. Try running "npm run get_token" again?')}),V$},"getCopilotToken");async function qUt(){try{j$??=(await jje.promises.readFile(Hje)).toString().trim()}catch{j$??=process.env.GITHUB_TOKEN??""}if(!j$)throw new Error(`Tests: either GH_COPILOT_IDE_TOKEN, GH_COPILOT_TOKEN, or GITHUB_TOKEN must be set, or there must be a GitHub token from an app with access to Copilot in ${Hje}. Run "npm run get_token" to get one.`);return j$}s(qUt,"getTestingGitHubToken");function $je(e){return new fA({token:`test token ${_r()}`,refresh_in:0,expires_at:0,...e})}s($je,"createTestCopilotToken");var fme=class extends en{constructor(r){super();this.copilotToken=r;this.wasReset=!1;this.ghSession=zje()}static{s(this,"FakeCopilotTokenManagerFromCopilotToken")}async getGitHubSession(){return Promise.resolve(this.ghSession)}getToken(){return Promise.resolve(this.copilotToken)}resetToken(){this.wasReset=!0}checkCopilotToken(){return Promise.resolve({status:"OK"})}},$$=class extends fme{static{s(this,"TestCopilotTokenManager")}constructor(t){super($je(t))}},E3=class extends $${static{s(this,"FixedCopilotTokenManager")}constructor(t){super({token:t})}};function zje(e={}){return{accessToken:_r(),...e,...n8(e)}}s(zje,"testGitHubSession");var z$=class extends kn{static{s(this,"NotAuthManager")}constructor(){super(null,null)}getPersistedSession(){return Promise.resolve(void 0)}checkAndUpdateStatus(){return Promise.resolve({status:"NotSignedIn"})}},WT=class extends kn{constructor(r=new E3("tid=valid-copilot-token"),n=""){super(null,r);this.githubAppId=n}static{s(this,"AlwaysAuthManager")}getPersistedSession(){return Promise.resolve({login:"user",accessToken:"",githubAppId:this.githubAppId,...this.getConfiguredUrls()})}};var WUt=I.Object({options:I.Optional(I.Object({}))});async function GUt(e,t,r){return e.forceSet(kn,new WT),e.get(en).resetToken(),e.get(zi).forceNormal(),await new Promise(n=>setTimeout(n,0)),["OK",null]}s(GUt,"handleTestingAlwaysAuthChecked");var Yje=st(WUt,GUt);d();var HUt=I.Object({messages:I.Array(I.Object({role:I.Enum(hl),content:I.String(),name:I.Optional(I.String())})),modelFamily:I.Optional(I.Enum(ei)),stop:I.Optional(I.Array(I.String())),conversationOptions:I.Optional(I.Object({maxResponseTokens:I.Optional(I.Number()),temperature:I.Optional(I.Number())}))});async function jUt(e,t,r){let n=new Ba(e),i=await e.get(ua).getBestChatModelConfig([r.modelFamily??ei.CopilotBase]),o=await bS(e,"","");return[await n.fetchResponse({modelConfiguration:i,messages:r.messages,uiKind:"conversationIntegrationTest",stop:r.stop,intentParams:{intent:!0},llmInteraction:Pu.user("test",_r())},t,o),null]}s(jUt,"handleChatMLChecked");var Kje=To(st(HUt,jUt));d();d();var Jje=require("crypto"),Xje=require("http"),Zje=require("stream"),eVe=require("util"),HT=Ze(Ah());var VUt=9e4,$Ut=new HT.ProtocolRequestType("copilot/fetch"),zUt=new HT.ProtocolRequestType("copilot/fetchCancel"),YUt=new HT.ProgressType,KUt=new HT.ProtocolRequestType("copilot/fetchDisconnectAll"),h1=class extends Error{static{s(this,"EditorFetcherError")}constructor(t){super(t),this.name="EditorFetcherError"}},GT=class extends fn{constructor(r){super();this.ctx=r;this.name="EditorFetcher";this.userAgent=`GithubCopilot/${r.get(go).getVersion()}`}static{s(this,"EditorFetcher")}disconnectAll(){return this.ctx.get(Wr).connection.sendRequest(KUt,{})}makeAbortController(){return new F$}async fetch(r,n){n.headers||={},n.headers["user-agent"]=this.userAgent;let{signal:i}=n,o=this.ctx.get(Wr).connection,a=(0,Jje.randomUUID)(),l=new Fn.CancellationTokenSource,c=new Zje.PassThrough,u=s(()=>{o.sendRequest(zUt,{workDoneToken:a})},"sendCancelRequest"),f=s(()=>{c.emit("error",new M$("EditorFetch request aborted")),c.end()},"destroyBodyStream");if(i){if(!(i instanceof Qje))throw new h1("EditorFetcher received unexpected abort signal");if(i.aborted)throw new M$("EditorFetcher signal aborted before fetch");i.addEventListener("abort",u)}o.onProgress(YUt,a,h=>{h.kind==="end"?(i?.removeEventListener("abort",u),i?.removeEventListener("abort",f),h.error&&c.emit("error",new h1(h.error)),c.end()):h.kind==="report"&&c.write(h.chunk)});let m=await new Promise((h,p)=>{let g=setTimeout(()=>{p(new h1("Request timed out from lsp server"))},n.timeout??VUt),y=s(()=>{p(new M$("EditorFetcher request aborted"))},"rejectIfAborted");i?.addEventListener("abort",y),o.sendRequest($Ut,XUt(r,a,n),l.token).then(h).catch(x=>{let b="EditorFetcher request failed";x&&typeof x=="object"&&"message"in x&&(b+=`: ${String(x.message)}`),x&&typeof x=="object"&&"data"in x&&(b+=`: ${(0,eVe.inspect)(x.data)}`),p(new h1(b))}).finally(()=>{i?.removeEventListener("abort",y),clearTimeout(g)})});if(!m.status)throw new h1("EditorFetcher received invalid response");return i?.addEventListener("abort",f),new r5(m.status,Xje.STATUS_CODES[m.status]??"",new Mje(m.headers),()=>JUt(c),()=>c)}};function JUt(e){return new Promise((t,r)=>{let n="";e.on("error",r),e.on("end",()=>t(n)),e.on("data",i=>n+=String(i))})}s(JUt,"consumeStream");function XUt(e,t,r){let{timeout:n,method:i}=r,o=r.headers??{},a=r.json?JSON.stringify(r.json):r.body;return r.json&&(o["content-type"]="application/json"),{url:e,headers:o,body:a,timeout:n,method:i,workDoneToken:t}}s(XUt,"convertOptionsToParams");var ZUt=I.Object({url:I.String(),headers:I.Optional(I.Record(I.String(),I.String())),body:I.Optional(I.String()),timeout:I.Optional(I.Number()),method:I.Optional(I.Union([I.Literal("GET"),I.Literal("POST")])),cancelBeforeRequest:I.Optional(I.Boolean()),cancelAfterRequest:I.Optional(I.Boolean()),cancelAfterFirstChunk:I.Optional(I.Boolean())});async function eqt(e,t,r){let n=new GT(e),i=n.makeAbortController(),o=i.signal,{url:a,cancelBeforeRequest:l,cancelAfterRequest:c,cancelAfterFirstChunk:u,...f}=r;l&&i.abort();let m=n.fetch(a,{signal:o,...f});c&&i.abort();let h;try{h=await m}catch(y){return[{error:`Fetch stream error: ${y instanceof h1?y.message:String(y)}`},null]}let{status:p}=h,g=Object.fromEntries(Array.from(h.headers));try{if(u){let x=h.body();for await(let b of x){let E=b.toString();return i.abort(),[{status:p,headers:g,body:E},null]}}let y=await h.text();return[{status:p,headers:g,body:y},null]}catch(y){return[{error:`Fetch stream error: ${y instanceof h1?y.message:String(y)}`},null]}}s(eqt,"handleTestingFetchChecked");var tVe=st(ZUt,eqt);d();var tqt=I.Object({});async function rqt(e,t,r){return await e.get(ko).flush(),["OK",null]}s(rqt,"handleTestingFlushPromiseQueueChecked");var rVe=st(tqt,rqt);d();var nqt=I.Object({filePath:I.String(),code:I.String(),offset:I.Number(),languageId:I.String(),timeout:I.Optional(I.Number()),waitForContext:I.Optional(I.Boolean())});async function iqt(e,t,r){try{await e.get(Zg).start();let n=e.get(Xb),i=r.timeout??1e3,o=Date.now(),a=[],l=!0;for(;l;)try{a=await n.indexClient.getContext(r.filePath,r.code,r.offset,r.languageId,t)}catch{}finally{l=(r.waitForContext??!1)&&a.length==0&&Date.now()-o<i}return[{initialized:!0,context:a},null]}catch{return[{initialized:!1,context:[]},null]}}s(iqt,"handleTestingGetContextChecked");var nVe=st(nqt,iqt);d();var oqt=I.Object({uri:I.String()});async function sqt(e,t,r){let i=await e.get(Vr).getTextDocument(r);return[{uri:r.uri,languageId:i?.clientLanguageId??"unknown",version:i?.version??-1,text:i?.getText()??""},null]}s(sqt,"handleGetDocumentChecked");var iVe=st(oqt,sqt);d();d();d();var Y$=Ze(require("assert"));var k2=class{constructor(){this.events=[];this.errors=[]}static{s(this,"TelemetrySpy")}sendTelemetryEvent(t,r={},n={}){this.events.push({name:t,properties:r,measurements:n})}sendTelemetryErrorEvent(t,r={},n={},i){this.errors.push({name:t,properties:r,measurements:n,errorProps:i})}sendTelemetryException(t,r={},n={}){this.events.push({name:"error.exception",properties:{message:t.message,...r},measurements:n})}dispose(){return Promise.resolve()}get hasEvent(){return this.events.length>0}get hasError(){return this.errors.length>0}get exceptions(){return this.events.filter(t=>t.name==="error.exception")}get hasException(){return this.exceptions.length>0}get firstEvent(){return this.events[0]}get firstError(){return this.errors[0]}get firstException(){return this.exceptions[0]}eventsMatching(t){return this.events.filter(t)}eventByName(t){let r=this.events.filter(n=>n.name===t);return Y$.strictEqual(r.length,1,`Expected exactly one event with name ${t}`),r[0]}errorsMatching(t){return this.errors.filter(t)}exceptionsMatching(t){return this.exceptions.filter(t)}assertHasProperty(t){Y$.ok(this.eventsMatching(r=>r.name!=="ghostText.produced").every(r=>t(r.properties)))}};var jT=class extends ko{static{s(this,"TestPromiseQueue")}async awaitPromises(){await Promise.all(this.promises)}};var aqt=I.Object({});async function lqt(e,t,r){let n=e.get(Fs),i=n.getReporter(e),o=n.getRestrictedReporter(e);if(!(i instanceof k2)||!(o instanceof k2||o===void 0))return[null,{code:nn.InternalError,message:"Telemetry is not being captured. You must first call testing/setTelemetryCapture."}];let a=e.get(ko);return a instanceof jT&&await a.awaitPromises(),[{standard:{events:i.events,errors:i.errors},restricted:{events:o?.events||[],errors:o?.errors||[]}},null]}s(lqt,"handleTestingGetTelemetryChecked");var oVe=st(aqt,lqt);d();var cqt=I.Object({options:I.Optional(I.Object({}))});async function uqt(e,t,r){e.forceSet(kn,new z$),e.get(en).resetToken();try{await e.get(en).getToken()}catch{}return await new Promise(n=>setTimeout(n,0)),["OK",null]}s(uqt,"handleTestingNeverAuthChecked");var sVe=st(cqt,uqt);d();d();var dme=class extends zB{static{s(this,"ExpConfigFetcher")}constructor(t){super(),this.fullConfig={Features:[],Flights:{},Configs:[{Id:"vscode",Parameters:t.Parameters}],ParameterGroups:[],AssignmentContext:t.AssignmentContext}}fetch(t,r){return t.endsWith("telemetry")?Promise.resolve(qje(200,this.fullConfig)):Promise.resolve(ame(404,""))}},K$=class extends dme{constructor(r,n){super(r);this.delegate=n}static{s(this,"ExpConfigFetcherWithDelegate")}fetch(r,n){return r.endsWith("telemetry")?super.fetch(r,n):this.delegate.fetch(r,n)}makeAbortController(){return this.delegate.makeAbortController()}};var fqt=I.Object({expFlags:I.Record(I.String(),I.Union([I.String(),I.Number(),I.Boolean()]))});function dqt(e,t,r){if(r.expFlags){let n={AssignmentContext:"assignmentcontext",Parameters:{...r.expFlags}};e.forceSet(fn,new K$(n,e.get(fn)))}return["OK",null]}s(dqt,"handleTestingOverrideExpFlagsChecked");var aVe=st(fqt,dqt);d();var mqt=I.Object({rules:Bre});function hqt(e,t,r){let n=e.get(Wc);return n?(n.setTestingRules(r.rules),["OK",null]):[null,{code:nn.InternalError,message:"Could not set content exclusion rules"}]}s(hqt,"handleTestingSetContentExclusionRulesChecked");var lVe=st(mqt,hqt);d();var pqt=I.Object({workDoneToken:I.Union([I.String(),I.Number()]),chunks:I.Array(I.String()),followUp:I.Optional(I.String()),suggestedTitle:I.Optional(I.String()),skills:I.Optional(I.Array(I.String())),references:I.Optional(I.Array(vT)),options:I.Optional(I.Object({}))});function gqt(e,t,r){return e.get(b2).add(r.workDoneToken,r.chunks,r.followUp,r.suggestedTitle,r.skills,r.references),["OK",null]}s(gqt,"handleTestingSetSyntheticTurnsChecked");var cVe=st(pqt,gqt);d();var Aqt=I.Object({telemetryCapture:I.Boolean()});async function yqt(e,t,r){return r.telemetryCapture?(await I5(e,"agent",!1),e.get(Fs).setReporter(new k2),e.get(Fs).setRestrictedReporter(new k2),e.forceSet(ko,new jT)):(await I5(e,"agent",!0),e.forceSet(ko,new ko)),["OK",null]}s(yqt,"handleTestingSetTelemetryCaptureChecked");var uVe=st(Aqt,yqt);d();var Cqt=I.Object({});async function xqt(e,t,r){let n=e.get(ja),i=e.get(Ha);return await n.showWarningMessage("This is a test message",{title:"Some Action"}).then(a=>o(3,"response from message request",a?.title)).catch(a=>o(1,"error sending show message request",a)),["OK",null];function o(a,l,c){return i.logIt(e,a,"triggerShowMessage",`${l} (${String(c)})`)}s(o,"sendNotification")}s(xqt,"handleTriggerShowMessageChecked");var fVe=st(Cqt,xqt);d();var vqt=I.Object({options:I.Optional(I.Object({})),githubAppId:I.Optional(I.String())});async function bqt(e,t,r){return await Vje(e),e.forceSet(kn,new WT(e.get(en),r.githubAppId)),["OK",null]}s(bqt,"handleTestingUseTestingTokenChecked");var dVe=st(vqt,bqt);d();var Eqt=I.Object({});async function Iqt(e,t,r){return await new cT().uninstall(e),["OK",null]}s(Iqt,"handleUninstallChecked");var mVe=st(Eqt,Iqt);d();var Tqt=R8e;function wqt(e,t,r){let n=e.get(fl),i={unregistered:[],notUnregistered:[]};return r.providers.forEach(o=>{try{n.unregisterContextProvider(o.id),i.unregistered.push(o.id)}catch{i.notUnregistered.push(o.id)}}),[i,null]}s(wqt,"unregisterContextProviders");var hVe=st(Tqt,wqt);d();var mme=Ze(require("os"));var _qt=I.Object({expectedCertificate:I.String()});async function Sqt(e,t,r){let i=(await KW(e).getAllRootCAs()).map(BT),o=BT(r.expectedCertificate);return i.includes(o)?[{status:!0,message:"Certificate verified"},null]:[{status:!1,message:`expected certificate not found - Expected to find certificate ${Ade(o)}. Only found those installed on the system:${mme.EOL}${i.map(a=>"- "+Ade(a)).join(mme.EOL)}`},null]}s(Sqt,"handleVerifyCertificateChecked");var pVe=st(_qt,Sqt);d();var Rqt=I.Object({});async function kqt(){return[{status:!!await new sk().load()},null]}s(kqt,"handleVerifyKerberosChecked");var gVe=st(Rqt,kqt);d();var Bqt=I.Object({source:I.String(),version:I.Number(),uri:I.String()});async function Dqt(e,t,r){let i=await e.get(Vr).getTextDocument(r);return i?i.getText()!==r.source?[{status:!1,message:`Source mismatch: [State] ${i.getText()} !== [Request] ${r.source}`},null]:i.version!==r.version?[{status:!1,message:`Version mismatch: [State] ${i.version} !== [Request] ${r.version}`},null]:[{status:!0,message:""},null]:[{status:!1,message:`Document not found: <${r.uri}>`},null]}s(Dqt,"handleVerifyStateChecked");var AVe=st(Bqt,Dqt);d();var Pqt=I.Object({});function Nqt(e,t,r){return[e.get(Vr).getWorkspaceFolders().map(i=>{let o=new URL(i.uri),a=decodeURIComponent(o.pathname);return{...i,path:a}}),null]}s(Nqt,"handleVerifyWorkspaceStateChecked");var yVe=st(Pqt,Nqt);var gE=class{constructor(t){this.handlers=t}static{s(this,"MethodHandlers")}};function CVe(){let e=new Map;return e.set(zGe.method,YGe),e.set(KGe.method,JGe),e.set("getCompletions",UGe),e.set("getCompletionsCycling",qGe),e.set("getPanelCompletions",HGe),e.set(IGe.method,TGe),e.set("getVersion",jGe),e.set("setEditorInfo",fHe),e.set("checkStatus",kUe),e.set("checkFileStatus",RUe),e.set("signInInitiate",Ide),e.set("signIn",Ide),e.set("signInConfirm",dHe),e.set("signInWithGithubToken",mHe),e.set("signOut",hHe),e.set("notifyShown",rHe),e.set("notifyAccepted",eHe),e.set("notifyRejected",tHe),e.set("telemetry/exception",CHe),e.set("telemetry/authNotifyDismissed",pHe),e.set("telemetry/authNotifyShown",gHe),e.set("telemetry/gitHubLoginSuccess",AHe),e.set("telemetry/newGitHubLogin",yHe),e.set("textDocument/copilotInlineEdit",ZGe),e.set("testing/overrideExpFlags",aVe),e.set("testing/alwaysAuth",Yje),e.set("testing/neverAuth",sVe),e.set("testing/useTestingToken",dVe),e.set("testing/setCompletionDocuments",FGe),e.set("testing/setPanelCompletionDocuments",bGe),e.set("testing/triggerShowMessageRequest",fVe),e.set("testing/getTelemetry",oVe),e.set("testing/setTelemetryCapture",uVe),e.set("testing/flushPromiseQueue",rVe),e.set("testing/getDocument",iVe),e.set("testing/chatml",Kje),e.set("testing/setSyntheticTurns",cVe),e.set("testing/fetch",tVe),e.set("testing/setContentExclusionRules",lVe),e.set("testing/setCopilotEditsResponse",uGe),e.set("testing/getContext",nVe),e.set("uninstall",mVe),e.set("debug/diagnostics",RGe),e.set("debug/listCertificates",XGe),e.set("debug/verifyState",AVe),e.set("debug/verifyCertificate",pVe),e.set("debug/verifyKerberos",gVe),e.set("debug/verifyWorkspaceState",yVe),e.set("context/registerProviders",nHe),e.set("context/unregisterProviders",hVe),e.set("conversation/preconditions",nGe),e.set("conversation/persistence",eGe),e.set("conversation/create",XWe),e.set("conversation/turn",aGe),e.set("conversation/turnDelete",lGe),e.set("conversation/destroy",ZWe),e.set("conversation/rating",iGe),e.set("conversation/copyCode",FWe),e.set("conversation/insertCode",MWe),e.set("conversation/templates",sGe),e.set("conversation/agents",LWe),e.set("conversation/registerTools",oGe),e.set("copilot/models",AGe),e.set("copilot/setModelPolicy",yGe),e.set("copilot/codeReview",cGe),e.set("git/commitGenerate",VGe),e.set("editConversation/create",fGe),e.set("editConversation/turn",mGe),e.set("editConversation/turnDelete",hGe),e.set("editConversation/destroy",dGe),e.set("mcp/getTools",pGe),e.set("mcp/updateToolsStatus",gGe),new gE(e)}s(CVe,"getAllMethods");d();d();d();var xVe=Ze(Ah());var p1=class{constructor(t){this.ctx=t}static{s(this,"AbstractNotification")}get type(){return new xVe.NotificationType(this.name)}};var hme=class extends p1{constructor(){super(...arguments);this.name=hZ.method;this.params=zCe}static{s(this,"DidChangeAuthNotificationHandler")}handle(r){let n=this.ctx.get(kn);r?.handle&&r?.accessToken?n.setTransientSession({accessToken:r.accessToken,login:r.handle,githubAppId:r.githubAppId}):n.setTransientSession(null)}},vVe=[hme];d();var pme=class extends p1{constructor(){super(...arguments);this.name=CZ.method;this.params=r3e}static{s(this,"DidShowCompletionNotificationHandler")}handle(r){let n=r.item.command.arguments[0],o=this.ctx.get(ns).get(n);o&&eTe(this.ctx,o)}},gme=class extends p1{constructor(){super(...arguments);this.name=bZ.method;this.params=a3e}static{s(this,"DidShowInlineEditNotificationHandler")}async handle(r){let n=r.item.command.arguments[0];await this.ctx.get(Yh).handleShown(n)}},Ame=class extends p1{constructor(){super(...arguments);this.name=xZ.method;this.params=n3e}static{s(this,"DidPartiallyAcceptCompletionNotificationHandler")}handle(r){let n=r.item.command.arguments[0],i=r.acceptedLength,o=this.ctx.get(ns),a=o.get(n);a&&(o.delete(n),i>=a.insertText.length?pU(this.ctx,a):tTe(this.ctx,a,i))}},bVe=[pme,gme,Ame];d();var J$=class extends p1{constructor(){super(...arguments);this.name="window/workDoneProgress/cancel";this.params=I.Object({token:I.Union([I.String(),I.Number()])})}static{s(this,"WorkDoneProgressCancelNotification")}handle(r){this.ctx.get(M0).cancel(r.token)}};var Lqt=[...vVe,...bVe,J$];function EVe(e,t){for(let r of Lqt){let n=new r(e),i=ms.Compile(n.params);t.onNotification(n.type,ef(e,async o=>{m2(o),i.Check(o)?await n.handle(o):N0.error(e,`Notification ${n.name}:`,new Cc(i.Errors(o)))},`Notification ${n.name}`))}}s(EVe,"registerNotifications");d();var TVe=Ze(require("events")),X$=Ze(ul());var IVe=new Gt("AgentTextDocumentConfiguration"),yme=class{constructor(t){this.ctx=t;this.emitter=new TVe.default}static{s(this,"AgentTextDocumentsConfiguration")}create(t,r,n,i){try{return CA.create(t,r,n,i)}catch(o){throw IVe.exception(this.ctx,o,".create"),o}}update(t,r,n){try{let i=[];for(let a of r)if(X$.TextDocumentContentChangeEvent.isIncremental(a)){let l={range:a.range,rangeOffset:t.offsetAt(a.range.start),rangeLength:t.offsetAt(a.range.end)-t.offsetAt(a.range.start),text:a.text};i.push(l)}let o={document:{uri:t.uri,version:n},contentChanges:i};return this.emitter.emit("change",o),CA.withChanges(t,r,n)}catch(i){throw IVe.exception(this.ctx,i,".update"),i}}},I3=class extends Vr{constructor(r){super(r);this._documents=new Map;this.workspaceFolders=[];this.onDidChangeTextDocument=s((r,n,i)=>{let o=r.bind(n);return this._textDocumentConfiguration.emitter.on("change",o),{dispose:s(()=>{this._textDocumentConfiguration.emitter.removeListener("change",o)},"dispose")}},"onDidChangeTextDocument");this.onDidOpenTextDocument=s((r,n,i)=>{let o=r.bind(n);return this._textDocumentConfiguration.emitter.on("open",o),{dispose:s(()=>{this._textDocumentConfiguration.emitter.removeListener("open",o)},"dispose")}},"onDidOpenTextDocument");this.onDidCloseTextDocument=s((r,n,i)=>{let o=r.bind(n);return this._textDocumentConfiguration.emitter.on("close",o),{dispose:s(()=>{this._textDocumentConfiguration.emitter.removeListener("close",o)},"dispose")}},"onDidCloseTextDocument");this.onDidFocusTextDocument=s((r,n,i)=>this.connection.onNotification(AZ.type,o=>{let a=("textDocument"in o?o.textDocument:o)??{};r.call(n,"uri"in a?{document:a}:void 0)}),"onDidFocusTextDocument");this._textDocumentConfiguration=new yme(r),this._notebookDocuments=new X$.NotebookDocuments(this._textDocumentConfiguration)}static{s(this,"AgentTextDocumentManager")}get connection(){return this.ctx.get(Wr).connection}init(r){this.connection.onDidOpenTextDocument(n=>{let i=n.textDocument,o=this._textDocumentConfiguration.create(i.uri,i.languageId,i.version,i.text);this._documents.set(ac(i.uri),o),this._textDocumentConfiguration.emitter.emit("open",{document:{...i,uri:o.uri}})}),this.connection.onDidChangeTextDocument(n=>{let i=n.textDocument,o=n.contentChanges,{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let l=ac(i.uri),c=this._documents.get(l);c!==void 0&&(c=this._textDocumentConfiguration.update(c,o,a),this._documents.set(l,c))}),this.connection.onDidCloseTextDocument(n=>{let i=ac(n.textDocument.uri);this._documents.delete(i),this._textDocumentConfiguration.emitter.emit("close",{document:{uri:i}})}),this._notebookDocuments.listen(this.connection),this.workspaceFolders.length=0,this.workspaceFolders.push(...r)}didChangeWorkspaceFolders(r){r.added.forEach(n=>this.registerWorkspaceFolder(n)),r.removed.forEach(n=>this.unregisterWorkspaceFolder(n))}unregisterWorkspaceFolder(r){let n=this.workspaceFolders.findIndex(i=>i.uri===r.uri);n>=0&&this.workspaceFolders.splice(n,1)}registerWorkspaceFolder(r){this.workspaceFolders.push(r)}getTextDocumentsUnsafe(){return[...this._documents.values()]}getTextDocumentUnsafe(r){return this._documents.get(ac(r.uri))}getWorkspaceFolders(){return this.workspaceFolders}findNotebook(r){let n=this._notebookDocuments.findNotebookDocumentForCell(r.uri);if(n)return{getCells:s(()=>n.cells.map((i,o)=>this.wrapCell(i,o)).filter(i=>!!i),"getCells"),getCellFor:s(({uri:i})=>{let o=n.cells.findIndex(a=>a.document===i);return o!==-1?this.wrapCell(n.cells[o],o):void 0},"getCellFor")}}wrapCell(r,n){let i=this._notebookDocuments.getCellTextDocument(r);if(i)return{kind:r.kind,metadata:r.metadata??{},index:n,document:i}}};var wVe=ms.Compile(ZCe);function m2(e){if(e!==null){if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=m2(e[t]);else if(typeof e=="object"){let t=e;for(let r in t)t[r]===null?delete t[r]:t[r]=m2(t[r])}return e}}s(m2,"purgeNulls");var Wr=class{constructor(t,r){this.ctx=t;this.connection=r;this.initialized=!1;this.#i=this.ctx.get(Ha)}static{s(this,"Service")}#e;#t;#i;get clientCapabilities(){return this.#t}listen(){let t=this.ctx,r=this.connection;r.onRequest(this.messageHandler.bind(this)),EVe(t,r);let n={name:"GitHub Copilot Language Server",version:t.get(go).getDisplayVersion(),nodeVersion:process.versions.node},i,o=s(async c=>{try{if(i&&c&&typeof c=="object"&&!("settings"in c)){let u=await r.workspace.getConfiguration(["github.copilot",...vde].map(m=>({section:m}))),f={github:{copilot:u.shift()}};for(let m of vde)f[m]=u.shift();c.settings=f}return cHe(t,m2(c))}catch(u){N0.exception(t,u,"didChangeConfiguration")}},"didChangeConfiguration");function a(c){try{t.get(I3).didChangeWorkspaceFolders(c),t.get(Nf).emit(c)}catch(u){N0.exception(t,u,"didChangeWorkspaceFolders")}}s(a,"didChangeWorkspaceFolders"),this.connection.onNotification("vs/didAddWorkspaceFolder",({name:c,uri:u})=>a({added:[{uri:u,name:c??u}],removed:[]})),this.connection.onNotification("vs/didRemoveWorkspaceFolder",({name:c,uri:u})=>a({added:[],removed:[{uri:u,name:c??u}]})),r.onInitialize(async c=>{if(this.initialized)throw new Error("initialize request sent after initialized notification");this.#t=c.capabilities;let u=c.capabilities.copilot,f=m2(c.initializationOptions);if(f){if(!wVe.Check(f))throw new Cc(wVe.Errors(f));let g=f,y=t.get(gn);g.editorPluginInfo?y.setEditorAndPluginInfo({version:"unknown",...g.editorPluginInfo},g.editorInfo&&{version:"unknown",...g.editorInfo},g.relatedPluginInfo??[]):N0.warn(t,"editorInfo and editorPluginInfo will soon be required in initializationOptions. This will replace setEditorInfo."),g.copilotIntegrationId&&y.setCopilotIntegrationId(g.copilotIntegrationId),g.githubAppId&&(t.get(Ta).githubAppId=g.githubAppId),g.copilotCapabilities&&(u=g.copilotCapabilities)}let m=c.capabilities.workspace?.workspaceFolders??!1;t.get(I3).init(c.workspaceFolders??[]),m9e(this.ctx),t.get(Nf).emit({added:c.workspaceFolders??[],removed:[]}),i=c.capabilities.workspace?.configuration,u&&(t.get(Go).setCapabilities(u),"openURL"in u&&hj(t,["The openURL Copilot capability has been removed in favor of window/showDocument."]));let p=s(async()=>{this.initialized||(this.initialized=!0,N0.info(t,`${n.name} ${n.version} initialized`),m&&r.workspace.onDidChangeWorkspaceFolders(a),i?await o({}):await OB(t),this.installationTelemetryTimer=setTimeout(()=>{new cT().startup(t).catch(()=>{})},1e3),t.get(h2).emit(),await b9e(t))},"onInitialized");return r.onInitialized(ef(t,p,"onInitialized")),t.get(Jh).init(),u?.token&&t.get(kn).setTransientSession(null),u?.redirectedTelemetry&&await _Ue(t),_Ve.lt(process.versions.node,"20.8.0")&&N0.warn(t,`Node.js ${process.versions.node} support is deprecated. Please upgrade to Node.js 20.8 or newer.`),{capabilities:{textDocumentSync:{openClose:!0,change:sp.TextDocumentSyncKind.Incremental},notebookDocumentSync:{notebookSelector:[{notebook:"*"}]},workspace:{workspaceFolders:{supported:m,changeNotifications:m}},executeCommandProvider:{commands:xUe(t,r)},inlineCompletionProvider:{}},serverInfo:n}}),r.onShutdown(async()=>{await(this.#e??=this.deactivate())}),r.onExit(()=>void this.onExit()),r.onDidChangeConfiguration(ef(t,o,"onDidChangeConfiguration")),r.listen();let l=new Sj;this.ctx.forceSet(Ha,l)}async messageHandler(t,r,n){let i=this.ctx.get(gE).handlers.get(t);if(!i)return new sp.ResponseError(nn.MethodNotFound,`Method not found: ${t}`);if(!this.initialized)return new sp.ResponseError(nn.ServerNotInitialized,"Agent service not initialized.");if(this.#e)return new sp.ResponseError(nn.InvalidRequest,"Agent service shut down.");if(t!=="setEditorInfo"&&!EUe(this.ctx.get(gn)))throw new sp.ResponseError(nn.ServerNotInitialized,"editorInfo and editorPluginInfo not set in initializationOptions");Array.isArray(r)&&(r=r[0]),m2(r);try{let[o,a]=await i(this.ctx,n,r);return a?new sp.ResponseError(a.code,a.message,a.data):o}catch(o){if(n.isCancellationRequested)return new sp.ResponseError(nn.RequestCancelled,"Request was canceled");if(o instanceof Vs)return new sp.ResponseError(nn.NoCopilotToken,`Not authenticated: ${o.message}`);throw o instanceof sp.ResponseError||N0.exception(this.ctx,o,`Request ${t}`),o}}async onExit(){try{this.ctx.get(Kh).dispose()}catch(t){N0.exception(this.ctx,t,"failed to dispose ripgrep process manager")}this.ctx.forceSet(Ha,this.#i),await(this.#e??=this.deactivate())}async deactivate(){let t=this.ctx;clearTimeout(this.installationTelemetryTimer),zne(t),await Promise.race([new Promise(r=>setTimeout(r,100)),t.get(ko).flush()]),await Promise.race([new Promise(r=>setTimeout(r,1800)),t.get(Fs).deactivate()])}dispose(){clearTimeout(this.installationTelemetryTimer),this.connection.dispose()}},N0=new Gt("lsp");var Z$=class e extends qv{constructor(r){super(r);this.reportedUnknownProviders=new Set}static{s(this,"AgentRelatedFilesProvider")}get service(){return this.context.get(Wr)}static mapProviderNameToNeighboringFileType(r){let n="CSharpCopilotCompletionContextProvider",i="CSharpRoslynCompletionRelatedContextProvider",o="CppCopilotCompletionContextProvider",a="CppCopilotCompletionSemanticCodeContextProvider";switch(r){case n:return"related/csharp";case i:return"related/csharproslyn";case o:return"related/cpp";case a:return"related/cppsemanticcodecontext";default:return"related/other"}}convert(r){let n={entries:[],traits:r.traits};for(let i of r.entries){let o={type:e.mapProviderNameToNeighboringFileType(i.providerName),uris:i.uris};n.entries.push(o),o.type==="related/other"&&!this.reportedUnknownProviders.has(i.providerName)&&(this.reportedUnknownProviders.add(i.providerName),dl.warn(this.context,`unknown providerName ${i.providerName}`))}return n}async getRelatedFilesResponse(r,n,i){dl.debug(this.context,`Fetching related files for ${r.uri}`);let o=this.context.get(Go).getCapabilities().related??!1;if(e.relatedCapabilityTelemetry(this.context,n,o),!o)return dl.debug(this.context,"`copilot/related` not supported"),p9e;try{let a=await this.service.connection.sendRequest(EZ.type,{textDocument:{uri:r.uri},data:r.data,telemetry:{properties:n.properties,measurements:n.measurements}},i);return this.convert(a)}catch(a){dl.exception(this.context,a,".copilotRelated");return}}static{this.telemetrySent=!1}static relatedCapabilityTelemetry(r,n,i){try{if(!i||e.telemetrySent)return;e.telemetrySent=!0,jt(r,"copilotRelated.hasRelatedCapability",n)}catch(o){dl.exception(r,o,"copilotRelated")}}};d();var SVe=Ze(ul());var Cme=new Gt("copilotTokenManager"),xme=class e extends o8{static{s(this,"AgentClientCopilotTokenManager")}static{this.RequestType=new SVe.ProtocolRequestType("copilot/token")}constructor(t,r=!1){super(t,r)}async fetchCopilotTokenEnvelope(){let t=this.ctx.get(Wr).connection;try{this.didChangeToken??=t.onNotification("copilot/didChangeToken",()=>{this.resetToken()});let r=await t.sendRequest(e.RequestType,{force:!1});if(!r?.envelope)throw Cme.debug(this.ctx,"Envelope missing from copilot/token response"),new Sd({reason:"NotSignedIn",message:"Editor did not return a token"});let{accessToken:n,handle:i,githubAppId:o,envelope:a,tokenEndpoint:l}=r;Cme.debug(this.ctx,"Retrieved envelope from copilot/token");let c=new fA(a);if(c.isExpired())throw new Vs("Expired token in copilot/token response");if(i&&n){let u;if(l!==void 0){try{u=new URL(l).origin}catch{Cme.warn(this.ctx,`Invalid token endpoint URL <${l}>`)}this.ctx.get(hs).updateBaseUrlFromTokenEndpoint(this.ctx,l)}this.ctx.get(kn).setTransientSession({accessToken:n,login:i,githubAppId:o,apiUrl:u},!1)}else if(!await this.getGitHubSession())throw new Sd({reason:"NotSignedIn"});return m_(this.ctx,c),a}catch(r){throw r instanceof Error?new Vs(r.message,r):r}}},YB=class extends en{constructor(r,n=new o8(r,!0)){super();this.ctx=r;this.fallback=n;this.client=new xme(r,!0)}static{s(this,"AgentCopilotTokenManager")}canGetToken(){return this.ctx.get(Go).getCapabilities().token??!1}getDelegate(){return this.canGetToken()?this.client:this.fallback}resetToken(r){this.getDelegate().resetToken(r)}async getToken(){return this.getDelegate().getToken()}async getGitHubSession(){return this.fallback.getGitHubSession()}};d();var Fqt=new Gt("Public Code References"),ez=class extends pf{static{s(this,"CLSCitationManager")}async handleIPCodeCitation(t,r){let n=r.location?.start.line!==void 0?r.location.start.line+1:"-",i=r.location?.start.character!==void 0?r.location.start.character+1:"-",o=(r.matchingText??"").replace(/[\r\n]/g," ");Fqt.info(t,`Text found matching public code in ${r.inDocumentUri} [Ln ${n}, Col ${i}] near ${o}...:`+r.details.map((a,l)=>`
  ${l+1}) [${a.license}] ${a.url}`).join("")),!(r.version===void 0||r.location===void 0)&&t.get(Go).getCapabilities().ipCodeCitation===!0&&await t.get(Wr).connection.sendNotification(pZ.type,{uri:r.inDocumentUri,version:r.version,range:r.location,matchingText:r.matchingText??"",citations:r.details})}};d();d();function RVe(e){Mqt(e)}s(RVe,"activateExtensibilityPlatformFeature");function Mqt(e){e.set(tp,new VV(e)),e.set(o1,new o1(e))}s(Mqt,"registerContextDependencies");d();var kVe=I.String(),vme=class{constructor(t){this.turnContext=t}static{s(this,"BuildLogsSkillProcessor")}value(){return .9}processSkill(t){return this.turnContext.collectLabel(rz,"build logs"),`The contents of the application build logs:
\`\`\`
${t}
\`\`\``}},rz="build-logs",tz=class extends jl{static{s(this,"BuildLogsSkill")}constructor(t){super(rz,"The application build logs, which can be used to fix build or compilation errors.","Reading build logs",()=>t,r=>new vme(r))}};d();var Qqt=I.Object({uri:I.String(),visibleRange:I.Optional(Ea),openedAt:I.Optional(I.String()),activeAt:I.Optional(I.String())}),BVe=I.Object({files:I.Array(Qqt)}),Oqt=3,bme=class{constructor(t){this.turnContext=t}static{s(this,"RecentFilesSkillProcessor")}value(){return .7}async processSkill(t){let r=await this.getDocuments(t);if(r.length>0){let n=this.toElidableDocs(r),i=m3(n,"inversePositional");return await this.preElideDocuments(i)}}async getDocuments(t){let r=this.sortFiles(t.files);r=this.filterIncludedDocs(r);let n=this.turnContext.ctx.get(On),i=[];for(let o of r){let a=await n.getOrReadTextDocument(o),l=As(a);if(await this.turnContext.collectFile(iz,o.uri,l),a.status==="valid"&&l!=="empty"&&(i.push([a.document,o]),i.length===Oqt))break}return i.reverse()}sortFiles(t){return t.sort((r,n)=>r.activeAt&&n.activeAt?new Date(r.activeAt).getTime()-new Date(n.activeAt).getTime():r.activeAt?-1:n.activeAt?1:0).reverse()}filterIncludedDocs(t){return t.filter(r=>!this.turnContext.isFileIncluded(r.uri))}toElidableDocs(t){return t.map(r=>{let[n,i]=r,o=this.turnContext.ctx.get(On).getRelativePath(n),a=new s1(n,void 0,i.visibleRange);return new Yt([[`Code excerpt from file \`${o}\`:`,1],[a.fromAllCode({addLineNumbers:!1}),.9]])})}async preElideDocuments(t){let r=(await Co.getModelConfiguration(this.turnContext.ctx,"user")).maxRequestTokens,n=t.elide(Math.floor(r*.1)).getText();return new Yt([n])}},iz="recent-files",nz=class extends jl{static{s(this,"RecentFilesSkill")}constructor(t){super(iz,"Provides code examples helpful for creating, explaining, refactoring, or fixing code. It's based on the files the user has worked on in the editor.","Resolving recent files",()=>t,r=>new bme(r))}};d();var DVe=I.String(),Eme=class{constructor(t){this.turnContext=t}static{s(this,"RuntimeLogsSkillProcessor")}value(){return .9}processSkill(t){return this.turnContext.collectLabel(sz,"runtime logs"),`The contents of the application runtime logs:
\`\`\`
${t}
\`\`\``}},sz="runtime-logs",oz=class extends jl{static{s(this,"RuntimeLogsSkill")}constructor(t){super(sz,"The application runtime or debug logs, which are used to view output logs from the console. This is useful for debugging and troubleshooting runtime issues.","Reading runtime logs",()=>t,r=>new Eme(r))}};d();var az=Ze(Ah());var lz=class extends rl{constructor(r){super();this.ctx=r}static{s(this,"AgentConversationInspector")}shouldInspect(){return ZL(this.ctx)}get connection(){if(this.shouldInspect())return this.ctx.get(Wr).connection}async inspectPrompt(r){return this.connection?.sendNotification(new az.NotificationType("conversation/inspectPrompt"),r)}async inspectFetchResult(r){return this.connection?.sendNotification(new az.NotificationType("conversation/inspectFetchResult"),r)}async documentDiff(r){return this.connection?.sendNotification(new az.NotificationType("conversation/documentDiff"),r)}};d();var PVe=Ze(ul());var KB=class{constructor(t){this.ctx=t;this.notificationEndpoint="conversation/preconditionsNotification";t.get(ym).onChange(r=>{this.sendNotification(r)})}static{s(this,"PreconditionsNotifier")}sendNotification(t){return this.ctx.get(Wr).connection.sendNotification(new PVe.NotificationType(this.notificationEndpoint),t)}};function NVe(e){Uqt(e),qqt(e),RVe(e)}s(NVe,"activateConversationFeature");function Uqt(e){e.set(Wi,new Wi(e)),e.set($l,new $l),e.set(vc,new vc(e)),e.set(ua,new fG(e)),e.set(b2,new b2),e.set(ws,new ws(e)),e.set(ym,new ym(e)),e.set(KB,new KB(e)),e.set(sf,new TF(e,new IF(e))),e.set(E2,new E2),e.set(f3,new f3),e.set(rl,new lz(e)),e.set(ha,new ha(e)),e.set(xc,new xc),e.set($f,new $f)}s(Uqt,"registerContextDependencies");function qqt(e){let t=new Al;t.registerSkill(new zj(new $j(e))),t.registerSkill(new vV(new F0(e,f1,EWe))),t.registerSkill(new Kj(new F0(e,Zh,pqe))),t.registerSkill(new Dj(new F0(e,Zc,MUe))),t.registerSkill(new bV),t.registerSkill(new nz(new F0(e,iz,BVe))),t.registerSkill(new Pj(new F0(e,a1,OUe))),t.registerSkill(new Xj(new F0(e,h3,Tqe))),t.registerSkill(new oz(new F0(e,sz,DVe))),t.registerSkill(new tz(new F0(e,rz,kVe))),t.registerSkill(new eV(new F0(e,ep,wqe))),t.registerSkill(new tV(new F0(e,rE,Sqe))),e.set(Al,t)}s(qqt,"registerSkills");d();var LVe=Ze(ii());var cz=class extends Ac{static{s(this,"AgentEditProgressReporter")}constructor(t){super(t)}async reportTurn(t,r){await this.ctx.get(Wr).connection.sendProgress(new LVe.ProgressType,t.partialResultToken,[{editConversationId:t.editConversationId,editTurnId:t.editTurnId,...r}])}};d();var FVe=Ze(ul()),MVe=Ze(Ah());var uz=class extends Fg{constructor(){super(...arguments);this.requestType=new FVe.ProtocolRequestType("conversation/invokeClientToolConfirmation");this.typeCheck=ms.Compile(fQe)}static{s(this,"AgentClientToolConfirmationInvoker")}async invokeClientToolConfirmation(r,n){let i=this.ctx.get(Wr).connection,o;try{let a=await i.sendRequest(this.requestType,n),[l,c]=a;if(c){let u=new MVe.ResponseError(c.code,c.message,c.data);throw Kr.error(this.ctx,`ResponseError while invoking client tool confirmation ${n.name}`,u),new Error(`Failed to invoke client tool confirmation ${n.name}: ${c.message}`)}o=l}catch(a){throw new Error(`Failed to invoke client tool confirmation ${n.name}: ${String(a)}`)}if(o==null)throw new Error(`Failed to invoke client tool confirmation ${n.name}: No result returned`);if(!this.typeCheck.Check(o))throw new Cc(this.typeCheck.Errors(o));return o}};d();var QVe=Ze(ul()),OVe=Ze(Ah());var fz=class extends BC{constructor(){super(...arguments);this.requestType=new QVe.ProtocolRequestType("conversation/invokeClientTool");this.typeCheck=ms.Compile(uQe)}static{s(this,"AgentClientToolInvoker")}async invokeClientTool(r,n){let i=this.ctx.get(Wr).connection,o;try{let a=await i.sendRequest(this.requestType,n),[l,c]=a;if(c){let u=new OVe.ResponseError(c.code,c.message,c.data);throw Kr.error(this.ctx,`ResponseError while invoking client tool ${n.name}`,u),new Error(`Failed to invoke client tool ${n.name}: ${c.message}`)}o=l}catch(a){throw new Error(`Failed to invoke client tool ${n.name}: ${String(a)}`)}if(o==null)throw new Error(`Failed to invoke client tool ${n.name}: No result returned`);if(!this.typeCheck.Check(o))throw new Cc(this.typeCheck.Errors(o));return this.transformToToolResult(o)}transformToToolResult(r){let n=r.content.map(i=>typeof i.value=="string"?new eo(i.value):new nT(i.value));return new to(n,r.status??"success")}};d();d();function UVe(e,t,r){try{let n=e.get(sr).javaContextProviderParams(r);if(n){let i=JSON.parse(n);for(let[o,a]of Object.entries(i))t.set(o,a)}}catch(n){return Wn.debug(e,"Failed to get the active Java experiments for the Context Provider API",n),!1}return!0}s(UVe,"fillInJavaActiveExperiments");var Ime=Ze(Ah());var Wqt={type:new Ime.NotificationType("featureFlagsNotification")},Gqt={type:new Ime.NotificationType("copilot/didChangeFeatureFlags")},JB=class{constructor(t){this.ctx=t;Ks(t,r=>this.sendNotification(r))}static{s(this,"FeatureFlagsNotifier")}async sendNotification(t){let r=this.ctx,n=r.get(sr),i=await n.updateExPValuesAndAssignments(),o=!1;t.envelope.chat_enabled&&(o=n.ideEnableCopilotEditsAgent(i));let a=n.ideEnableCopilotNewBilling(i),l={},c=Yre(r,i);c.length>0&&(l.ExpContextProviders=c);let u=new Map;b8e(r,c,u,i),yO(r,u,i),UVe(r,u,i);for(let[h,p]of u.entries())l[h]=p;let f=r.get(Go),m=r.get(Wr).connection;if(f.getCapabilities().didChangeFeatureFlags)await m.sendNotification(Gqt.type,{envelope:{...t.envelope,token:void 0,expires_at:void 0,refresh_in:void 0,user_notification:void 0,limited_user_quotas:void 0,limited_user_reset_date:void 0,error_details:void 0,organization_list:void 0,enterprise_list:void 0,endpoints:void 0},token:t.getTokenValues(),activeExps:l,cea:o});else{let h={rt:t.getTokenValue("rt")==="1",sn:t.getTokenValue("sn")==="1",chat:t.envelope.chat_enabled??!1,ic:t.envelope.chat_enabled??!1,pc:!0,cea:o,cnb:a,ae:l};t.envelope.xcode_chat&&t.envelope.chat_enabled&&(h.xc=!0),await m.sendNotification(Wqt.type,h)}}};d();var dz=class extends zi{constructor(r){super();this.ctx=r;this.notificationEndpoint="statusNotification"}static{s(this,"NotificationStatusReporter")}didChange(r){let n=r.kind;r.busy&&n!=="Error"&&(n="InProgress"),this.ctx.get(Wr).connection.sendNotification(IZ.type,{busy:r.busy,kind:r.kind,status:n,message:r.message??""}),this.ctx.get(Wr).connection.sendNotification("didChangeStatus",{busy:r.busy,kind:r.kind,message:r.message})}};d();var qVe=new qT;d();d();d();var ap=new Gt("CopilotMCP");d();var Hqt=process.platform==="win32"?["APPDATA","HOMEDRIVE","HOMEPATH","LOCALAPPDATA","PATH","PROCESSOR_ARCHITECTURE","SYSTEMDRIVE","SYSTEMROOT","TEMP","USERNAME","USERPROFILE"]:["HOME","LOGNAME","PATH","SHELL","TERM","USER"];function WVe(){let e={};for(let t of Hqt){let r=process.env[t];r!==void 0&&(r.startsWith("()")||(e[t]=r))}return e}s(WVe,"getDefaultEnvironment");d();d();d();d();var ro;(function(e){e.assertEqual=i=>i;function t(i){}s(t,"assertIs"),e.assertIs=t;function r(i){throw new Error}s(r,"assertNever"),e.assertNever=r,e.arrayToEnum=i=>{let o={};for(let a of i)o[a]=a;return o},e.getValidEnumValues=i=>{let o=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(let l of o)a[l]=i[l];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let a in i)Object.prototype.hasOwnProperty.call(i,a)&&o.push(a);return o},e.find=(i,o)=>{for(let a of i)if(o(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(o)}s(n,"joinValues"),e.joinValues=n,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(ro||(ro={}));var wme;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(wme||(wme={}));var Dr=ro.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),D2=s(e=>{switch(typeof e){case"undefined":return Dr.undefined;case"string":return Dr.string;case"number":return isNaN(e)?Dr.nan:Dr.number;case"boolean":return Dr.boolean;case"function":return Dr.function;case"bigint":return Dr.bigint;case"symbol":return Dr.symbol;case"object":return Array.isArray(e)?Dr.array:e===null?Dr.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Dr.promise:typeof Map<"u"&&e instanceof Map?Dr.map:typeof Set<"u"&&e instanceof Set?Dr.set:typeof Date<"u"&&e instanceof Date?Dr.date:Dr.object;default:return Dr.unknown}},"getParsedType"),Ht=ro.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),jqt=s(e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),"quotelessJson"),Yf=class e extends Error{static{s(this,"ZodError")}get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(o){return o.message},n={_errors:[]},i=s(o=>{for(let a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){let u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}},"processError");return i(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ro.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Yf.create=e=>new Yf(e);var zT=s((e,t)=>{let r;switch(e.code){case Ht.invalid_type:e.received===Dr.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ht.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ro.jsonStringifyReplacer)}`;break;case Ht.unrecognized_keys:r=`Unrecognized key(s) in object: ${ro.joinValues(e.keys,", ")}`;break;case Ht.invalid_union:r="Invalid input";break;case Ht.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ro.joinValues(e.options)}`;break;case Ht.invalid_enum_value:r=`Invalid enum value. Expected ${ro.joinValues(e.options)}, received '${e.received}'`;break;case Ht.invalid_arguments:r="Invalid function arguments";break;case Ht.invalid_return_type:r="Invalid function return type";break;case Ht.invalid_date:r="Invalid date";break;case Ht.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ro.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ht.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ht.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ht.custom:r="Invalid input";break;case Ht.invalid_intersection_types:r="Intersection results could not be merged";break;case Ht.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ht.not_finite:r="Number must be finite";break;default:r=t.defaultError,ro.assertNever(e)}return{message:r}},"errorMap"),VVe=zT;function Vqt(e){VVe=e}s(Vqt,"setErrorMap");function mz(){return VVe}s(mz,"getErrorMap");var hz=s(e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,o=[...r,...i.path||[]],a={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let l="",c=n.filter(u=>!!u).slice().reverse();for(let u of c)l=u(a,{data:t,defaultError:l}).message;return{...i,path:o,message:l}},"makeIssue"),$qt=[];function Er(e,t){let r=mz(),n=hz({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===zT?void 0:zT].filter(i=>!!i)});e.common.issues.push(n)}s(Er,"addIssueToContext");var r0=class e{static{s(this,"ParseStatus")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let i of r){if(i.status==="aborted")return Un;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let i of r){let o=await i.key,a=await i.value;n.push({key:o,value:a})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let i of r){let{key:o,value:a}=i;if(o.status==="aborted"||a.status==="aborted")return Un;o.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[o.value]=a.value)}return{status:t.value,value:n}}},Un=Object.freeze({status:"aborted"}),$T=s(e=>({status:"dirty",value:e}),"DIRTY"),Q0=s(e=>({status:"valid",value:e}),"OK"),_me=s(e=>e.status==="aborted","isAborted"),Sme=s(e=>e.status==="dirty","isDirty"),AE=s(e=>e.status==="valid","isValid"),eD=s(e=>typeof Promise<"u"&&e instanceof Promise,"isAsync");function pz(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}s(pz,"__classPrivateFieldGet");function $Ve(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}s($Ve,"__classPrivateFieldSet");var jr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(jr||(jr={}));var XB,ZB,Em=class{static{s(this,"ParseInputLazyPath")}constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},GVe=s((e,t)=>{if(AE(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Yf(e.common.issues);return this._error=r,this._error}}},"handleResult");function ti(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:s((a,l)=>{var c,u;let{message:f}=e;return a.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??n)!==null&&c!==void 0?c:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}},"customMap"),description:i}}s(ti,"processCreateParams");var ri=class{static{s(this,"ZodType")}get description(){return this._def.description}_getType(t){return D2(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:D2(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new r0,ctx:{common:t.parent.common,data:t.data,parsedType:D2(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(eD(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:D2(t)},o=this._parseSync({data:t,path:i.path,parent:i});return GVe(i,o)}"~validate"(t){var r,n;let i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:D2(t)};if(!this["~standard"].async)try{let o=this._parseSync({data:t,path:[],parent:i});return AE(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((n=(r=o?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(o=>AE(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:D2(t)},i=this._parse({data:t,path:n.path,parent:n}),o=await(eD(i)?i:Promise.resolve(i));return GVe(n,o)}refine(t,r){let n=s(i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r,"getIssueProperties");return this._refinement((i,o)=>{let a=t(i),l=s(()=>o.addIssue({code:Ht.custom,...n(i)}),"setError");return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Kf({schema:this,typeName:Dn.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s(r=>this["~validate"](r),"validate")}}optional(){return bm.create(this,this._def)}nullable(){return A1.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return N2.create(this)}promise(){return _3.create(this,this._def)}or(t){return IE.create([this,t],this._def)}and(t){return TE.create(this,t,this._def)}transform(t){return new Kf({...ti(this._def),schema:this,typeName:Dn.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new kE({...ti(this._def),innerType:this,defaultValue:r,typeName:Dn.ZodDefault})}brand(){return new tD({typeName:Dn.ZodBranded,type:this,...ti(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new BE({...ti(this._def),innerType:this,catchValue:r,typeName:Dn.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return rD.create(this,t)}readonly(){return DE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},zqt=/^c[^\s-]{8,}$/i,Yqt=/^[0-9a-z]+$/,Kqt=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Jqt=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Xqt=/^[a-z0-9_-]{21}$/i,Zqt=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,eWt=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tWt=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rWt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Tme,nWt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iWt=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oWt=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,sWt=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,aWt=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lWt=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zVe="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cWt=new RegExp(`^${zVe}$`);function YVe(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}s(YVe,"timeRegexSource");function uWt(e){return new RegExp(`^${YVe(e)}$`)}s(uWt,"timeRegex");function KVe(e){let t=`${zVe}T${YVe(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}s(KVe,"datetimeRegex");function fWt(e,t){return!!((t==="v4"||!t)&&nWt.test(e)||(t==="v6"||!t)&&oWt.test(e))}s(fWt,"isValidIP");function dWt(e,t){if(!Zqt.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}s(dWt,"isValidJWT");function mWt(e,t){return!!((t==="v4"||!t)&&iWt.test(e)||(t==="v6"||!t)&&sWt.test(e))}s(mWt,"isValidCidr");var T3=class e extends ri{static{s(this,"ZodString")}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Dr.string){let o=this._getOrReturnCtx(t);return Er(o,{code:Ht.invalid_type,expected:Dr.string,received:o.parsedType}),Un}let n=new r0,i;for(let o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){let a=t.data.length>o.value,l=t.data.length<o.value;(a||l)&&(i=this._getOrReturnCtx(t,i),a?Er(i,{code:Ht.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&Er(i,{code:Ht.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")tWt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"email",code:Ht.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Tme||(Tme=new RegExp(rWt,"u")),Tme.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"emoji",code:Ht.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")Jqt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"uuid",code:Ht.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")Xqt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"nanoid",code:Ht.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")zqt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"cuid",code:Ht.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")Yqt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"cuid2",code:Ht.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")Kqt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"ulid",code:Ht.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Er(i,{validation:"url",code:Ht.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"regex",code:Ht.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?KVe(o).test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?cWt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?uWt(o).test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?eWt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"duration",code:Ht.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?fWt(t.data,o.version)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"ip",code:Ht.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?dWt(t.data,o.alg)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"jwt",code:Ht.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?mWt(t.data,o.version)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"cidr",code:Ht.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?aWt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"base64",code:Ht.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?lWt.test(t.data)||(i=this._getOrReturnCtx(t,i),Er(i,{validation:"base64url",code:Ht.invalid_string,message:o.message}),n.dirty()):ro.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Ht.invalid_string,...jr.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...jr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...jr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...jr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...jr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...jr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...jr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...jr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...jr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...jr.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...jr.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...jr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...jr.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...jr.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(r=t?.offset)!==null&&r!==void 0?r:!1,local:(n=t?.local)!==null&&n!==void 0?n:!1,...jr.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...jr.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...jr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...jr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...jr.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...jr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...jr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...jr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...jr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...jr.errToObj(r)})}nonempty(t){return this.min(1,jr.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};T3.create=e=>{var t;return new T3({checks:[],typeName:Dn.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...ti(e)})};function hWt(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,o=parseInt(e.toFixed(i).replace(".","")),a=parseInt(t.toFixed(i).replace(".",""));return o%a/Math.pow(10,i)}s(hWt,"floatSafeRemainder");var yE=class e extends ri{static{s(this,"ZodNumber")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Dr.number){let o=this._getOrReturnCtx(t);return Er(o,{code:Ht.invalid_type,expected:Dr.number,received:o.parsedType}),Un}let n,i=new r0;for(let o of this._def.checks)o.kind==="int"?ro.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?hWt(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.not_finite,message:o.message}),i.dirty()):ro.assertNever(o);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,jr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,jr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,jr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,jr.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:jr.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:jr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:jr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:jr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:jr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:jr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:jr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:jr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:jr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:jr.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ro.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};yE.create=e=>new yE({checks:[],typeName:Dn.ZodNumber,coerce:e?.coerce||!1,...ti(e)});var CE=class e extends ri{static{s(this,"ZodBigInt")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Dr.bigint)return this._getInvalidInput(t);let n,i=new r0;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Er(n,{code:Ht.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):ro.assertNever(o);return{status:i.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return Er(r,{code:Ht.invalid_type,expected:Dr.bigint,received:r.parsedType}),Un}gte(t,r){return this.setLimit("min",t,!0,jr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,jr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,jr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,jr.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:jr.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:jr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:jr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:jr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:jr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:jr.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};CE.create=e=>{var t;return new CE({checks:[],typeName:Dn.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...ti(e)})};var xE=class extends ri{static{s(this,"ZodBoolean")}_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Dr.boolean){let n=this._getOrReturnCtx(t);return Er(n,{code:Ht.invalid_type,expected:Dr.boolean,received:n.parsedType}),Un}return Q0(t.data)}};xE.create=e=>new xE({typeName:Dn.ZodBoolean,coerce:e?.coerce||!1,...ti(e)});var vE=class e extends ri{static{s(this,"ZodDate")}_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Dr.date){let o=this._getOrReturnCtx(t);return Er(o,{code:Ht.invalid_type,expected:Dr.date,received:o.parsedType}),Un}if(isNaN(t.data.getTime())){let o=this._getOrReturnCtx(t);return Er(o,{code:Ht.invalid_date}),Un}let n=new r0,i;for(let o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),Er(i,{code:Ht.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):ro.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:jr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:jr.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};vE.create=e=>new vE({checks:[],coerce:e?.coerce||!1,typeName:Dn.ZodDate,...ti(e)});var YT=class extends ri{static{s(this,"ZodSymbol")}_parse(t){if(this._getType(t)!==Dr.symbol){let n=this._getOrReturnCtx(t);return Er(n,{code:Ht.invalid_type,expected:Dr.symbol,received:n.parsedType}),Un}return Q0(t.data)}};YT.create=e=>new YT({typeName:Dn.ZodSymbol,...ti(e)});var bE=class extends ri{static{s(this,"ZodUndefined")}_parse(t){if(this._getType(t)!==Dr.undefined){let n=this._getOrReturnCtx(t);return Er(n,{code:Ht.invalid_type,expected:Dr.undefined,received:n.parsedType}),Un}return Q0(t.data)}};bE.create=e=>new bE({typeName:Dn.ZodUndefined,...ti(e)});var EE=class extends ri{static{s(this,"ZodNull")}_parse(t){if(this._getType(t)!==Dr.null){let n=this._getOrReturnCtx(t);return Er(n,{code:Ht.invalid_type,expected:Dr.null,received:n.parsedType}),Un}return Q0(t.data)}};EE.create=e=>new EE({typeName:Dn.ZodNull,...ti(e)});var w3=class extends ri{static{s(this,"ZodAny")}constructor(){super(...arguments),this._any=!0}_parse(t){return Q0(t.data)}};w3.create=e=>new w3({typeName:Dn.ZodAny,...ti(e)});var P2=class extends ri{static{s(this,"ZodUnknown")}constructor(){super(...arguments),this._unknown=!0}_parse(t){return Q0(t.data)}};P2.create=e=>new P2({typeName:Dn.ZodUnknown,...ti(e)});var lp=class extends ri{static{s(this,"ZodNever")}_parse(t){let r=this._getOrReturnCtx(t);return Er(r,{code:Ht.invalid_type,expected:Dr.never,received:r.parsedType}),Un}};lp.create=e=>new lp({typeName:Dn.ZodNever,...ti(e)});var KT=class extends ri{static{s(this,"ZodVoid")}_parse(t){if(this._getType(t)!==Dr.undefined){let n=this._getOrReturnCtx(t);return Er(n,{code:Ht.invalid_type,expected:Dr.void,received:n.parsedType}),Un}return Q0(t.data)}};KT.create=e=>new KT({typeName:Dn.ZodVoid,...ti(e)});var N2=class e extends ri{static{s(this,"ZodArray")}_parse(t){let{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Dr.array)return Er(r,{code:Ht.invalid_type,expected:Dr.array,received:r.parsedType}),Un;if(i.exactLength!==null){let a=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(a||l)&&(Er(r,{code:a?Ht.too_big:Ht.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Er(r,{code:Ht.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Er(r,{code:Ht.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>i.type._parseAsync(new Em(r,a,r.path,l)))).then(a=>r0.mergeArray(n,a));let o=[...r.data].map((a,l)=>i.type._parseSync(new Em(r,a,r.path,l)));return r0.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:jr.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:jr.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:jr.toString(r)}})}nonempty(t){return this.min(1,t)}};N2.create=(e,t)=>new N2({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Dn.ZodArray,...ti(t)});function VT(e){if(e instanceof Lu){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=bm.create(VT(n))}return new Lu({...e._def,shape:s(()=>t,"shape")})}else return e instanceof N2?new N2({...e._def,type:VT(e.element)}):e instanceof bm?bm.create(VT(e.unwrap())):e instanceof A1?A1.create(VT(e.unwrap())):e instanceof g1?g1.create(e.items.map(t=>VT(t))):e}s(VT,"deepPartialify");var Lu=class e extends ri{static{s(this,"ZodObject")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=ro.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Dr.object){let u=this._getOrReturnCtx(t);return Er(u,{code:Ht.invalid_type,expected:Dr.object,received:u.parsedType}),Un}let{status:n,ctx:i}=this._processInputParams(t),{shape:o,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof lp&&this._def.unknownKeys==="strip"))for(let u in i.data)a.includes(u)||l.push(u);let c=[];for(let u of a){let f=o[u],m=i.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new Em(i,m,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof lp){let u=this._def.unknownKeys;if(u==="passthrough")for(let f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(u==="strict")l.length>0&&(Er(i,{code:Ht.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let f of l){let m=i.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new Em(i,m,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let u=[];for(let f of c){let m=await f.key,h=await f.value;u.push({key:m,value:h,alwaysSet:f.alwaysSet})}return u}).then(u=>r0.mergeObjectSync(n,u)):r0.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return jr.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:s((r,n)=>{var i,o,a,l;let c=(a=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=jr.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}},"errorMap")}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:s(()=>({...this._def.shape(),...t}),"shape")})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:s(()=>({...this._def.shape(),...t._def.shape()}),"shape"),typeName:Dn.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};return ro.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new e({...this._def,shape:s(()=>r,"shape")})}omit(t){let r={};return ro.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new e({...this._def,shape:s(()=>r,"shape")})}deepPartial(){return VT(this)}partial(t){let r={};return ro.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new e({...this._def,shape:s(()=>r,"shape")})}required(t){let r={};return ro.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof bm;)o=o._def.innerType;r[n]=o}}),new e({...this._def,shape:s(()=>r,"shape")})}keyof(){return JVe(ro.objectKeys(this.shape))}};Lu.create=(e,t)=>new Lu({shape:s(()=>e,"shape"),unknownKeys:"strip",catchall:lp.create(),typeName:Dn.ZodObject,...ti(t)});Lu.strictCreate=(e,t)=>new Lu({shape:s(()=>e,"shape"),unknownKeys:"strict",catchall:lp.create(),typeName:Dn.ZodObject,...ti(t)});Lu.lazycreate=(e,t)=>new Lu({shape:e,unknownKeys:"strip",catchall:lp.create(),typeName:Dn.ZodObject,...ti(t)});var IE=class extends ri{static{s(this,"ZodUnion")}_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function i(o){for(let l of o)if(l.result.status==="valid")return l.result;for(let l of o)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;let a=o.map(l=>new Yf(l.ctx.common.issues));return Er(r,{code:Ht.invalid_union,unionErrors:a}),Un}if(s(i,"handleResults"),r.common.async)return Promise.all(n.map(async o=>{let a={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let o,a=[];for(let c of n){let u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;let l=a.map(c=>new Yf(c));return Er(r,{code:Ht.invalid_union,unionErrors:l}),Un}}get options(){return this._def.options}};IE.create=(e,t)=>new IE({options:e,typeName:Dn.ZodUnion,...ti(t)});var B2=s(e=>e instanceof wE?B2(e.schema):e instanceof Kf?B2(e.innerType()):e instanceof _E?[e.value]:e instanceof SE?e.options:e instanceof RE?ro.objectValues(e.enum):e instanceof kE?B2(e._def.innerType):e instanceof bE?[void 0]:e instanceof EE?[null]:e instanceof bm?[void 0,...B2(e.unwrap())]:e instanceof A1?[null,...B2(e.unwrap())]:e instanceof tD||e instanceof DE?B2(e.unwrap()):e instanceof BE?B2(e._def.innerType):[],"getDiscriminator"),gz=class e extends ri{static{s(this,"ZodDiscriminatedUnion")}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Dr.object)return Er(r,{code:Ht.invalid_type,expected:Dr.object,received:r.parsedType}),Un;let n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(Er(r,{code:Ht.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Un)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let o of r){let a=B2(o.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let l of a){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,o)}}return new e({typeName:Dn.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...ti(n)})}};function Rme(e,t){let r=D2(e),n=D2(t);if(e===t)return{valid:!0,data:e};if(r===Dr.object&&n===Dr.object){let i=ro.objectKeys(t),o=ro.objectKeys(e).filter(l=>i.indexOf(l)!==-1),a={...e,...t};for(let l of o){let c=Rme(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===Dr.array&&n===Dr.array){if(e.length!==t.length)return{valid:!1};let i=[];for(let o=0;o<e.length;o++){let a=e[o],l=t[o],c=Rme(a,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Dr.date&&n===Dr.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}s(Rme,"mergeValues");var TE=class extends ri{static{s(this,"ZodIntersection")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=s((o,a)=>{if(_me(o)||_me(a))return Un;let l=Rme(o.value,a.value);return l.valid?((Sme(o)||Sme(a))&&r.dirty(),{status:r.value,value:l.data}):(Er(n,{code:Ht.invalid_intersection_types}),Un)},"handleParsed");return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,a])=>i(o,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};TE.create=(e,t,r)=>new TE({left:e,right:t,typeName:Dn.ZodIntersection,...ti(r)});var g1=class e extends ri{static{s(this,"ZodTuple")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Dr.array)return Er(n,{code:Ht.invalid_type,expected:Dr.array,received:n.parsedType}),Un;if(n.data.length<this._def.items.length)return Er(n,{code:Ht.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Un;!this._def.rest&&n.data.length>this._def.items.length&&(Er(n,{code:Ht.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let o=[...n.data].map((a,l)=>{let c=this._def.items[l]||this._def.rest;return c?c._parse(new Em(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(o).then(a=>r0.mergeArray(r,a)):r0.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};g1.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new g1({items:e,typeName:Dn.ZodTuple,rest:null,...ti(t)})};var Az=class e extends ri{static{s(this,"ZodRecord")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Dr.object)return Er(n,{code:Ht.invalid_type,expected:Dr.object,received:n.parsedType}),Un;let i=[],o=this._def.keyType,a=this._def.valueType;for(let l in n.data)i.push({key:o._parse(new Em(n,l,n.path,l)),value:a._parse(new Em(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?r0.mergeObjectAsync(r,i):r0.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof ri?new e({keyType:t,valueType:r,typeName:Dn.ZodRecord,...ti(n)}):new e({keyType:T3.create(),valueType:t,typeName:Dn.ZodRecord,...ti(r)})}},JT=class extends ri{static{s(this,"ZodMap")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Dr.map)return Er(n,{code:Ht.invalid_type,expected:Dr.map,received:n.parsedType}),Un;let i=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new Em(n,l,n.path,[u,"key"])),value:o._parse(new Em(n,c,n.path,[u,"value"]))}));if(n.common.async){let l=new Map;return Promise.resolve().then(async()=>{for(let c of a){let u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return Un;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{let l=new Map;for(let c of a){let u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return Un;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}};JT.create=(e,t,r)=>new JT({valueType:t,keyType:e,typeName:Dn.ZodMap,...ti(r)});var XT=class e extends ri{static{s(this,"ZodSet")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Dr.set)return Er(n,{code:Ht.invalid_type,expected:Dr.set,received:n.parsedType}),Un;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Er(n,{code:Ht.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Er(n,{code:Ht.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let o=this._def.valueType;function a(c){let u=new Set;for(let f of c){if(f.status==="aborted")return Un;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}s(a,"finalizeSet");let l=[...n.data.values()].map((c,u)=>o._parse(new Em(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,r){return new e({...this._def,minSize:{value:t,message:jr.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:jr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};XT.create=(e,t)=>new XT({valueType:e,minSize:null,maxSize:null,typeName:Dn.ZodSet,...ti(t)});var yz=class e extends ri{static{s(this,"ZodFunction")}constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Dr.function)return Er(r,{code:Ht.invalid_type,expected:Dr.function,received:r.parsedType}),Un;function n(l,c){return hz({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,mz(),zT].filter(u=>!!u),issueData:{code:Ht.invalid_arguments,argumentsError:c}})}s(n,"makeArgsIssue");function i(l,c){return hz({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,mz(),zT].filter(u=>!!u),issueData:{code:Ht.invalid_return_type,returnTypeError:c}})}s(i,"makeReturnsIssue");let o={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof _3){let l=this;return Q0(async function(...c){let u=new Yf([]),f=await l._def.args.parseAsync(c,o).catch(p=>{throw u.addIssue(n(c,p)),u}),m=await Reflect.apply(a,this,f);return await l._def.returns._def.type.parseAsync(m,o).catch(p=>{throw u.addIssue(i(m,p)),u})})}else{let l=this;return Q0(function(...c){let u=l._def.args.safeParse(c,o);if(!u.success)throw new Yf([n(c,u.error)]);let f=Reflect.apply(a,this,u.data),m=l._def.returns.safeParse(f,o);if(!m.success)throw new Yf([i(f,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:g1.create(t).rest(P2.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||g1.create([]).rest(P2.create()),returns:r||P2.create(),typeName:Dn.ZodFunction,...ti(n)})}},wE=class extends ri{static{s(this,"ZodLazy")}get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};wE.create=(e,t)=>new wE({getter:e,typeName:Dn.ZodLazy,...ti(t)});var _E=class extends ri{static{s(this,"ZodLiteral")}_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return Er(r,{received:r.data,code:Ht.invalid_literal,expected:this._def.value}),Un}return{status:"valid",value:t.data}}get value(){return this._def.value}};_E.create=(e,t)=>new _E({value:e,typeName:Dn.ZodLiteral,...ti(t)});function JVe(e,t){return new SE({values:e,typeName:Dn.ZodEnum,...ti(t)})}s(JVe,"createZodEnum");var SE=class e extends ri{static{s(this,"ZodEnum")}constructor(){super(...arguments),XB.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return Er(r,{expected:ro.joinValues(n),received:r.parsedType,code:Ht.invalid_type}),Un}if(pz(this,XB,"f")||$Ve(this,XB,new Set(this._def.values),"f"),!pz(this,XB,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return Er(r,{received:r.data,code:Ht.invalid_enum_value,options:n}),Un}return Q0(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};XB=new WeakMap;SE.create=JVe;var RE=class extends ri{static{s(this,"ZodNativeEnum")}constructor(){super(...arguments),ZB.set(this,void 0)}_parse(t){let r=ro.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Dr.string&&n.parsedType!==Dr.number){let i=ro.objectValues(r);return Er(n,{expected:ro.joinValues(i),received:n.parsedType,code:Ht.invalid_type}),Un}if(pz(this,ZB,"f")||$Ve(this,ZB,new Set(ro.getValidEnumValues(this._def.values)),"f"),!pz(this,ZB,"f").has(t.data)){let i=ro.objectValues(r);return Er(n,{received:n.data,code:Ht.invalid_enum_value,options:i}),Un}return Q0(t.data)}get enum(){return this._def.values}};ZB=new WeakMap;RE.create=(e,t)=>new RE({values:e,typeName:Dn.ZodNativeEnum,...ti(t)});var _3=class extends ri{static{s(this,"ZodPromise")}unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Dr.promise&&r.common.async===!1)return Er(r,{code:Ht.invalid_type,expected:Dr.promise,received:r.parsedType}),Un;let n=r.parsedType===Dr.promise?r.data:Promise.resolve(r.data);return Q0(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};_3.create=(e,t)=>new _3({type:e,typeName:Dn.ZodPromise,...ti(t)});var Kf=class extends ri{static{s(this,"ZodEffects")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Dn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s(a=>{Er(n,a),a.fatal?r.abort():r.dirty()},"addIssue"),get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let a=i.transform(n.data,o);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return Un;let c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Un:c.status==="dirty"||r.value==="dirty"?$T(c.value):c});{if(r.value==="aborted")return Un;let l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?Un:l.status==="dirty"||r.value==="dirty"?$T(l.value):l}}if(i.type==="refinement"){let a=s(l=>{let c=i.refinement(l,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l},"executeRefinement");if(n.common.async===!1){let l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Un:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Un:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!AE(a))return a;let l=i.transform(a.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>AE(a)?Promise.resolve(i.transform(a.value,o)).then(l=>({status:r.value,value:l})):a);ro.assertNever(i)}};Kf.create=(e,t,r)=>new Kf({schema:e,typeName:Dn.ZodEffects,effect:t,...ti(r)});Kf.createWithPreprocess=(e,t,r)=>new Kf({schema:t,effect:{type:"preprocess",transform:e},typeName:Dn.ZodEffects,...ti(r)});var bm=class extends ri{static{s(this,"ZodOptional")}_parse(t){return this._getType(t)===Dr.undefined?Q0(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};bm.create=(e,t)=>new bm({innerType:e,typeName:Dn.ZodOptional,...ti(t)});var A1=class extends ri{static{s(this,"ZodNullable")}_parse(t){return this._getType(t)===Dr.null?Q0(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};A1.create=(e,t)=>new A1({innerType:e,typeName:Dn.ZodNullable,...ti(t)});var kE=class extends ri{static{s(this,"ZodDefault")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===Dr.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};kE.create=(e,t)=>new kE({innerType:e,typeName:Dn.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ti(t)});var BE=class extends ri{static{s(this,"ZodCatch")}_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return eD(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Yf(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Yf(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};BE.create=(e,t)=>new BE({innerType:e,typeName:Dn.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ti(t)});var ZT=class extends ri{static{s(this,"ZodNaN")}_parse(t){if(this._getType(t)!==Dr.nan){let n=this._getOrReturnCtx(t);return Er(n,{code:Ht.invalid_type,expected:Dr.nan,received:n.parsedType}),Un}return{status:"valid",value:t.data}}};ZT.create=e=>new ZT({typeName:Dn.ZodNaN,...ti(e)});var pWt=Symbol("zod_brand"),tD=class extends ri{static{s(this,"ZodBranded")}_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},rD=class e extends ri{static{s(this,"ZodPipeline")}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return s(async()=>{let o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Un:o.status==="dirty"?(r.dirty(),$T(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})},"handleAsync")();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Un:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:Dn.ZodPipeline})}},DE=class extends ri{static{s(this,"ZodReadonly")}_parse(t){let r=this._def.innerType._parse(t),n=s(i=>(AE(i)&&(i.value=Object.freeze(i.value)),i),"freeze");return eD(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};DE.create=(e,t)=>new DE({innerType:e,typeName:Dn.ZodReadonly,...ti(t)});function HVe(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}s(HVe,"cleanParams");function XVe(e,t={},r){return e?w3.create().superRefine((n,i)=>{var o,a;let l=e(n);if(l instanceof Promise)return l.then(c=>{var u,f;if(!c){let m=HVe(t,n),h=(f=(u=m.fatal)!==null&&u!==void 0?u:r)!==null&&f!==void 0?f:!0;i.addIssue({code:"custom",...m,fatal:h})}});if(!l){let c=HVe(t,n),u=(a=(o=c.fatal)!==null&&o!==void 0?o:r)!==null&&a!==void 0?a:!0;i.addIssue({code:"custom",...c,fatal:u})}}):w3.create()}s(XVe,"custom");var gWt={object:Lu.lazycreate},Dn;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Dn||(Dn={}));var AWt=s((e,t={message:`Input not instance of ${e.name}`})=>XVe(r=>r instanceof e,t),"instanceOfType"),ZVe=T3.create,e$e=yE.create,yWt=ZT.create,CWt=CE.create,t$e=xE.create,xWt=vE.create,vWt=YT.create,bWt=bE.create,EWt=EE.create,IWt=w3.create,TWt=P2.create,wWt=lp.create,_Wt=KT.create,SWt=N2.create,RWt=Lu.create,kWt=Lu.strictCreate,BWt=IE.create,DWt=gz.create,PWt=TE.create,NWt=g1.create,LWt=Az.create,FWt=JT.create,MWt=XT.create,QWt=yz.create,OWt=wE.create,UWt=_E.create,qWt=SE.create,WWt=RE.create,GWt=_3.create,jVe=Kf.create,HWt=bm.create,jWt=A1.create,VWt=Kf.createWithPreprocess,$Wt=rD.create,zWt=s(()=>ZVe().optional(),"ostring"),YWt=s(()=>e$e().optional(),"onumber"),KWt=s(()=>t$e().optional(),"oboolean"),JWt={string:s(e=>T3.create({...e,coerce:!0}),"string"),number:s(e=>yE.create({...e,coerce:!0}),"number"),boolean:s(e=>xE.create({...e,coerce:!0}),"boolean"),bigint:s(e=>CE.create({...e,coerce:!0}),"bigint"),date:s(e=>vE.create({...e,coerce:!0}),"date")},XWt=Un,xe=Object.freeze({__proto__:null,defaultErrorMap:zT,setErrorMap:Vqt,getErrorMap:mz,makeIssue:hz,EMPTY_PATH:$qt,addIssueToContext:Er,ParseStatus:r0,INVALID:Un,DIRTY:$T,OK:Q0,isAborted:_me,isDirty:Sme,isValid:AE,isAsync:eD,get util(){return ro},get objectUtil(){return wme},ZodParsedType:Dr,getParsedType:D2,ZodType:ri,datetimeRegex:KVe,ZodString:T3,ZodNumber:yE,ZodBigInt:CE,ZodBoolean:xE,ZodDate:vE,ZodSymbol:YT,ZodUndefined:bE,ZodNull:EE,ZodAny:w3,ZodUnknown:P2,ZodNever:lp,ZodVoid:KT,ZodArray:N2,ZodObject:Lu,ZodUnion:IE,ZodDiscriminatedUnion:gz,ZodIntersection:TE,ZodTuple:g1,ZodRecord:Az,ZodMap:JT,ZodSet:XT,ZodFunction:yz,ZodLazy:wE,ZodLiteral:_E,ZodEnum:SE,ZodNativeEnum:RE,ZodPromise:_3,ZodEffects:Kf,ZodTransformer:Kf,ZodOptional:bm,ZodNullable:A1,ZodDefault:kE,ZodCatch:BE,ZodNaN:ZT,BRAND:pWt,ZodBranded:tD,ZodPipeline:rD,ZodReadonly:DE,custom:XVe,Schema:ri,ZodSchema:ri,late:gWt,get ZodFirstPartyTypeKind(){return Dn},coerce:JWt,any:IWt,array:SWt,bigint:CWt,boolean:t$e,date:xWt,discriminatedUnion:DWt,effect:jVe,enum:qWt,function:QWt,instanceof:AWt,intersection:PWt,lazy:OWt,literal:UWt,map:FWt,nan:yWt,nativeEnum:WWt,never:wWt,null:EWt,nullable:jWt,number:e$e,object:RWt,oboolean:KWt,onumber:YWt,optional:HWt,ostring:zWt,pipeline:$Wt,preprocess:VWt,promise:GWt,record:LWt,set:MWt,strictObject:kWt,string:ZVe,symbol:vWt,transformer:jVe,tuple:NWt,undefined:bWt,union:BWt,unknown:TWt,void:_Wt,NEVER:XWt,ZodIssueCode:Ht,quotelessJson:jqt,ZodError:Yf});var kme="2025-03-26",r$e=[kme,"2024-11-05","2024-10-07"],Cz="2.0",n$e=xe.union([xe.string(),xe.number().int()]),i$e=xe.string(),ZWt=xe.object({progressToken:xe.optional(n$e)}).passthrough(),cp=xe.object({_meta:xe.optional(ZWt)}).passthrough(),Jf=xe.object({method:xe.string(),params:xe.optional(cp)}),nD=xe.object({_meta:xe.optional(xe.object({}).passthrough())}).passthrough(),y1=xe.object({method:xe.string(),params:xe.optional(nD)}),up=xe.object({_meta:xe.optional(xe.object({}).passthrough())}).passthrough(),xz=xe.union([xe.string(),xe.number().int()]),o$e=xe.object({jsonrpc:xe.literal(Cz),id:xz}).merge(Jf).strict(),s$e=s(e=>o$e.safeParse(e).success,"isJSONRPCRequest"),a$e=xe.object({jsonrpc:xe.literal(Cz)}).merge(y1).strict(),l$e=s(e=>a$e.safeParse(e).success,"isJSONRPCNotification"),c$e=xe.object({jsonrpc:xe.literal(Cz),id:xz,result:up}).strict(),Bme=s(e=>c$e.safeParse(e).success,"isJSONRPCResponse"),S3;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError"})(S3||(S3={}));var u$e=xe.object({jsonrpc:xe.literal(Cz),id:xz,error:xe.object({code:xe.number().int(),message:xe.string(),data:xe.optional(xe.unknown())})}).strict(),f$e=s(e=>u$e.safeParse(e).success,"isJSONRPCError"),d$e=xe.union([o$e,a$e,c$e,u$e]),NE=up.strict(),vz=y1.extend({method:xe.literal("notifications/cancelled"),params:nD.extend({requestId:xz,reason:xe.string().optional()})}),m$e=xe.object({name:xe.string(),version:xe.string()}).passthrough(),eGt=xe.object({experimental:xe.optional(xe.object({}).passthrough()),sampling:xe.optional(xe.object({}).passthrough()),roots:xe.optional(xe.object({listChanged:xe.optional(xe.boolean())}).passthrough())}).passthrough(),tGt=Jf.extend({method:xe.literal("initialize"),params:cp.extend({protocolVersion:xe.string(),capabilities:eGt,clientInfo:m$e})});var rGt=xe.object({experimental:xe.optional(xe.object({}).passthrough()),logging:xe.optional(xe.object({}).passthrough()),completions:xe.optional(xe.object({}).passthrough()),prompts:xe.optional(xe.object({listChanged:xe.optional(xe.boolean())}).passthrough()),resources:xe.optional(xe.object({subscribe:xe.optional(xe.boolean()),listChanged:xe.optional(xe.boolean())}).passthrough()),tools:xe.optional(xe.object({listChanged:xe.optional(xe.boolean())}).passthrough())}).passthrough(),Dme=up.extend({protocolVersion:xe.string(),capabilities:rGt,serverInfo:m$e,instructions:xe.optional(xe.string())}),nGt=y1.extend({method:xe.literal("notifications/initialized")});var bz=Jf.extend({method:xe.literal("ping")}),iGt=xe.object({progress:xe.number(),total:xe.optional(xe.number())}).passthrough(),Ez=y1.extend({method:xe.literal("notifications/progress"),params:nD.merge(iGt).extend({progressToken:n$e})}),Iz=Jf.extend({params:cp.extend({cursor:xe.optional(i$e)}).optional()}),Tz=up.extend({nextCursor:xe.optional(i$e)}),h$e=xe.object({uri:xe.string(),mimeType:xe.optional(xe.string())}).passthrough(),p$e=h$e.extend({text:xe.string()}),g$e=h$e.extend({blob:xe.string().base64()}),oGt=xe.object({uri:xe.string(),name:xe.string(),description:xe.optional(xe.string()),mimeType:xe.optional(xe.string())}).passthrough(),sGt=xe.object({uriTemplate:xe.string(),name:xe.string(),description:xe.optional(xe.string()),mimeType:xe.optional(xe.string())}).passthrough(),aGt=Iz.extend({method:xe.literal("resources/list")}),Pme=Tz.extend({resources:xe.array(oGt)}),lGt=Iz.extend({method:xe.literal("resources/templates/list")}),Nme=Tz.extend({resourceTemplates:xe.array(sGt)}),cGt=Jf.extend({method:xe.literal("resources/read"),params:cp.extend({uri:xe.string()})}),Lme=up.extend({contents:xe.array(xe.union([p$e,g$e]))}),uGt=y1.extend({method:xe.literal("notifications/resources/list_changed")}),fGt=Jf.extend({method:xe.literal("resources/subscribe"),params:cp.extend({uri:xe.string()})}),dGt=Jf.extend({method:xe.literal("resources/unsubscribe"),params:cp.extend({uri:xe.string()})}),mGt=y1.extend({method:xe.literal("notifications/resources/updated"),params:nD.extend({uri:xe.string()})}),hGt=xe.object({name:xe.string(),description:xe.optional(xe.string()),required:xe.optional(xe.boolean())}).passthrough(),pGt=xe.object({name:xe.string(),description:xe.optional(xe.string()),arguments:xe.optional(xe.array(hGt))}).passthrough(),gGt=Iz.extend({method:xe.literal("prompts/list")}),Fme=Tz.extend({prompts:xe.array(pGt)}),AGt=Jf.extend({method:xe.literal("prompts/get"),params:cp.extend({name:xe.string(),arguments:xe.optional(xe.record(xe.string()))})}),wz=xe.object({type:xe.literal("text"),text:xe.string()}).passthrough(),_z=xe.object({type:xe.literal("image"),data:xe.string().base64(),mimeType:xe.string()}).passthrough(),Sz=xe.object({type:xe.literal("audio"),data:xe.string().base64(),mimeType:xe.string()}).passthrough(),A$e=xe.object({type:xe.literal("resource"),resource:xe.union([p$e,g$e])}).passthrough(),yGt=xe.object({role:xe.enum(["user","assistant"]),content:xe.union([wz,_z,Sz,A$e])}).passthrough(),Mme=up.extend({description:xe.optional(xe.string()),messages:xe.array(yGt)}),CGt=y1.extend({method:xe.literal("notifications/prompts/list_changed")}),xGt=xe.object({title:xe.optional(xe.string()),readOnlyHint:xe.optional(xe.boolean()),destructiveHint:xe.optional(xe.boolean()),idempotentHint:xe.optional(xe.boolean()),openWorldHint:xe.optional(xe.boolean())}).passthrough(),vGt=xe.object({name:xe.string(),description:xe.optional(xe.string()),inputSchema:xe.object({type:xe.literal("object"),properties:xe.optional(xe.object({}).passthrough())}).passthrough(),annotations:xe.optional(xGt)}).passthrough(),bGt=Iz.extend({method:xe.literal("tools/list")}),Qme=Tz.extend({tools:xe.array(vGt)}),Rz=up.extend({content:xe.array(xe.union([wz,_z,Sz,A$e])),isError:xe.boolean().default(!1).optional()}),Vii=Rz.or(up.extend({toolResult:xe.unknown()})),EGt=Jf.extend({method:xe.literal("tools/call"),params:cp.extend({name:xe.string(),arguments:xe.optional(xe.record(xe.unknown()))})}),IGt=y1.extend({method:xe.literal("notifications/tools/list_changed")}),y$e=xe.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),TGt=Jf.extend({method:xe.literal("logging/setLevel"),params:cp.extend({level:y$e})}),wGt=y1.extend({method:xe.literal("notifications/message"),params:nD.extend({level:y$e,logger:xe.optional(xe.string()),data:xe.unknown()})}),_Gt=xe.object({name:xe.string().optional()}).passthrough(),SGt=xe.object({hints:xe.optional(xe.array(_Gt)),costPriority:xe.optional(xe.number().min(0).max(1)),speedPriority:xe.optional(xe.number().min(0).max(1)),intelligencePriority:xe.optional(xe.number().min(0).max(1))}).passthrough(),RGt=xe.object({role:xe.enum(["user","assistant"]),content:xe.union([wz,_z,Sz])}).passthrough(),kGt=Jf.extend({method:xe.literal("sampling/createMessage"),params:cp.extend({messages:xe.array(RGt),systemPrompt:xe.optional(xe.string()),includeContext:xe.optional(xe.enum(["none","thisServer","allServers"])),temperature:xe.optional(xe.number()),maxTokens:xe.number().int(),stopSequences:xe.optional(xe.array(xe.string())),metadata:xe.optional(xe.object({}).passthrough()),modelPreferences:xe.optional(SGt)})}),BGt=up.extend({model:xe.string(),stopReason:xe.optional(xe.enum(["endTurn","stopSequence","maxTokens"]).or(xe.string())),role:xe.enum(["user","assistant"]),content:xe.discriminatedUnion("type",[wz,_z,Sz])}),DGt=xe.object({type:xe.literal("ref/resource"),uri:xe.string()}).passthrough(),PGt=xe.object({type:xe.literal("ref/prompt"),name:xe.string()}).passthrough(),NGt=Jf.extend({method:xe.literal("completion/complete"),params:cp.extend({ref:xe.union([PGt,DGt]),argument:xe.object({name:xe.string(),value:xe.string()}).passthrough()})}),Ome=up.extend({completion:xe.object({values:xe.array(xe.string()).max(100),total:xe.optional(xe.number().int()),hasMore:xe.optional(xe.boolean())}).passthrough()}),LGt=xe.object({uri:xe.string().startsWith("file://"),name:xe.optional(xe.string())}).passthrough(),FGt=Jf.extend({method:xe.literal("roots/list")}),MGt=up.extend({roots:xe.array(LGt)}),QGt=y1.extend({method:xe.literal("notifications/roots/list_changed")}),$ii=xe.union([bz,tGt,NGt,TGt,AGt,gGt,aGt,lGt,cGt,fGt,dGt,EGt,bGt]),zii=xe.union([vz,Ez,nGt,QGt]),Yii=xe.union([NE,BGt,MGt]),Kii=xe.union([bz,kGt,FGt]),Jii=xe.union([vz,Ez,wGt,mGt,uGt,IGt,CGt]),Xii=xe.union([NE,Dme,Ome,Mme,Fme,Pme,Nme,Lme,Rz,Qme]),PE=class extends Error{static{s(this,"McpError")}constructor(t,r,n){super(`MCP error ${t}: ${r}`),this.code=t,this.data=n,this.name="McpError"}};var OGt=6e4,kz=class{static{s(this,"Protocol")}constructor(t){this._options=t,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this.setNotificationHandler(vz,r=>{let n=this._requestHandlerAbortControllers.get(r.params.requestId);n?.abort(r.params.reason)}),this.setNotificationHandler(Ez,r=>{this._onprogress(r)}),this.setRequestHandler(bz,r=>({}))}_setupTimeout(t,r,n,i,o=!1){this._timeoutInfo.set(t,{timeoutId:setTimeout(i,r),startTime:Date.now(),timeout:r,maxTotalTimeout:n,resetTimeoutOnProgress:o,onTimeout:i})}_resetTimeout(t){let r=this._timeoutInfo.get(t);if(!r)return!1;let n=Date.now()-r.startTime;if(r.maxTotalTimeout&&n>=r.maxTotalTimeout)throw this._timeoutInfo.delete(t),new PE(S3.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:n});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(t){let r=this._timeoutInfo.get(t);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(t))}async connect(t){this._transport=t,this._transport.onclose=()=>{this._onclose()},this._transport.onerror=r=>{this._onerror(r)},this._transport.onmessage=(r,n)=>{Bme(r)||f$e(r)?this._onresponse(r):s$e(r)?this._onrequest(r,n):l$e(r)?this._onnotification(r):this._onerror(new Error(`Unknown message type: ${JSON.stringify(r)}`))},await this._transport.start()}_onclose(){var t;let r=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._transport=void 0,(t=this.onclose)===null||t===void 0||t.call(this);let n=new PE(S3.ConnectionClosed,"Connection closed");for(let i of r.values())i(n)}_onerror(t){var r;(r=this.onerror)===null||r===void 0||r.call(this,t)}_onnotification(t){var r;let n=(r=this._notificationHandlers.get(t.method))!==null&&r!==void 0?r:this.fallbackNotificationHandler;n!==void 0&&Promise.resolve().then(()=>n(t)).catch(i=>this._onerror(new Error(`Uncaught error in notification handler: ${i}`)))}_onrequest(t,r){var n,i,o,a;let l=(n=this._requestHandlers.get(t.method))!==null&&n!==void 0?n:this.fallbackRequestHandler;if(l===void 0){(i=this._transport)===null||i===void 0||i.send({jsonrpc:"2.0",id:t.id,error:{code:S3.MethodNotFound,message:"Method not found"}}).catch(f=>this._onerror(new Error(`Failed to send an error response: ${f}`)));return}let c=new AbortController;this._requestHandlerAbortControllers.set(t.id,c);let u={signal:c.signal,sessionId:(o=this._transport)===null||o===void 0?void 0:o.sessionId,_meta:(a=t.params)===null||a===void 0?void 0:a._meta,sendNotification:s(f=>this.notification(f,{relatedRequestId:t.id}),"sendNotification"),sendRequest:s((f,m,h)=>this.request(f,m,{...h,relatedRequestId:t.id}),"sendRequest"),authInfo:r?.authInfo,requestId:t.id};Promise.resolve().then(()=>l(t,u)).then(f=>{var m;if(!c.signal.aborted)return(m=this._transport)===null||m===void 0?void 0:m.send({result:f,jsonrpc:"2.0",id:t.id})},f=>{var m,h;if(!c.signal.aborted)return(m=this._transport)===null||m===void 0?void 0:m.send({jsonrpc:"2.0",id:t.id,error:{code:Number.isSafeInteger(f.code)?f.code:S3.InternalError,message:(h=f.message)!==null&&h!==void 0?h:"Internal error"}})}).catch(f=>this._onerror(new Error(`Failed to send response: ${f}`))).finally(()=>{this._requestHandlerAbortControllers.delete(t.id)})}_onprogress(t){let{progressToken:r,...n}=t.params,i=Number(r),o=this._progressHandlers.get(i);if(!o){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(t)}`));return}let a=this._responseHandlers.get(i),l=this._timeoutInfo.get(i);if(l&&a&&l.resetTimeoutOnProgress)try{this._resetTimeout(i)}catch(c){a(c);return}o(n)}_onresponse(t){let r=Number(t.id),n=this._responseHandlers.get(r);if(n===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(t)}`));return}if(this._responseHandlers.delete(r),this._progressHandlers.delete(r),this._cleanupTimeout(r),Bme(t))n(t);else{let i=new PE(t.error.code,t.error.message,t.error.data);n(i)}}get transport(){return this._transport}async close(){var t;await((t=this._transport)===null||t===void 0?void 0:t.close())}request(t,r,n){let{relatedRequestId:i,resumptionToken:o,onresumptiontoken:a}=n??{};return new Promise((l,c)=>{var u,f,m,h,p;if(!this._transport){c(new Error("Not connected"));return}((u=this._options)===null||u===void 0?void 0:u.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(t.method),(f=n?.signal)===null||f===void 0||f.throwIfAborted();let g=this._requestMessageId++,y={...t,jsonrpc:"2.0",id:g};n?.onprogress&&(this._progressHandlers.set(g,n.onprogress),y.params={...t.params,_meta:{progressToken:g}});let x=s(_=>{var k;this._responseHandlers.delete(g),this._progressHandlers.delete(g),this._cleanupTimeout(g),(k=this._transport)===null||k===void 0||k.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:g,reason:String(_)}},{relatedRequestId:i,resumptionToken:o,onresumptiontoken:a}).catch(B=>this._onerror(new Error(`Failed to send cancellation: ${B}`))),c(_)},"cancel");this._responseHandlers.set(g,_=>{var k;if(!(!((k=n?.signal)===null||k===void 0)&&k.aborted)){if(_ instanceof Error)return c(_);try{let B=r.parse(_.result);l(B)}catch(B){c(B)}}}),(m=n?.signal)===null||m===void 0||m.addEventListener("abort",()=>{var _;x((_=n?.signal)===null||_===void 0?void 0:_.reason)});let b=(h=n?.timeout)!==null&&h!==void 0?h:OGt,E=s(()=>x(new PE(S3.RequestTimeout,"Request timed out",{timeout:b})),"timeoutHandler");this._setupTimeout(g,b,n?.maxTotalTimeout,E,(p=n?.resetTimeoutOnProgress)!==null&&p!==void 0?p:!1),this._transport.send(y,{relatedRequestId:i,resumptionToken:o,onresumptiontoken:a}).catch(_=>{this._cleanupTimeout(g),c(_)})})}async notification(t,r){if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(t.method);let n={...t,jsonrpc:"2.0"};await this._transport.send(n,r)}setRequestHandler(t,r){let n=t.shape.method.value;this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(i,o)=>Promise.resolve(r(t.parse(i),o)))}removeRequestHandler(t){this._requestHandlers.delete(t)}assertCanSetRequestHandler(t){if(this._requestHandlers.has(t))throw new Error(`A request handler for ${t} already exists, which would be overridden`)}setNotificationHandler(t,r){this._notificationHandlers.set(t.shape.method.value,n=>Promise.resolve(r(t.parse(n))))}removeNotificationHandler(t){this._notificationHandlers.delete(t)}};function C$e(e,t){return Object.entries(t).reduce((r,[n,i])=>(i&&typeof i=="object"?r[n]=r[n]?{...r[n],...i}:i:r[n]=i,r),{...e})}s(C$e,"mergeCapabilities");var Bz=class extends kz{static{s(this,"Client")}constructor(t,r){var n;super(r),this._clientInfo=t,this._capabilities=(n=r?.capabilities)!==null&&n!==void 0?n:{}}registerCapabilities(t){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=C$e(this._capabilities,t)}assertCapability(t,r){var n;if(!(!((n=this._serverCapabilities)===null||n===void 0)&&n[t]))throw new Error(`Server does not support ${t} (required for ${r})`)}async connect(t,r){if(await super.connect(t),t.sessionId===void 0)try{let n=await this.request({method:"initialize",params:{protocolVersion:kme,capabilities:this._capabilities,clientInfo:this._clientInfo}},Dme,r);if(n===void 0)throw new Error(`Server sent invalid initialize result: ${n}`);if(!r$e.includes(n.protocolVersion))throw new Error(`Server's protocol version is not supported: ${n.protocolVersion}`);this._serverCapabilities=n.capabilities,this._serverVersion=n.serverInfo,this._instructions=n.instructions,await this.notification({method:"notifications/initialized"})}catch(n){throw this.close(),n}}getServerCapabilities(){return this._serverCapabilities}getServerVersion(){return this._serverVersion}getInstructions(){return this._instructions}assertCapabilityForMethod(t){var r,n,i,o,a;switch(t){case"logging/setLevel":if(!(!((r=this._serverCapabilities)===null||r===void 0)&&r.logging))throw new Error(`Server does not support logging (required for ${t})`);break;case"prompts/get":case"prompts/list":if(!(!((n=this._serverCapabilities)===null||n===void 0)&&n.prompts))throw new Error(`Server does not support prompts (required for ${t})`);break;case"resources/list":case"resources/templates/list":case"resources/read":case"resources/subscribe":case"resources/unsubscribe":if(!(!((i=this._serverCapabilities)===null||i===void 0)&&i.resources))throw new Error(`Server does not support resources (required for ${t})`);if(t==="resources/subscribe"&&!this._serverCapabilities.resources.subscribe)throw new Error(`Server does not support resource subscriptions (required for ${t})`);break;case"tools/call":case"tools/list":if(!(!((o=this._serverCapabilities)===null||o===void 0)&&o.tools))throw new Error(`Server does not support tools (required for ${t})`);break;case"completion/complete":if(!(!((a=this._serverCapabilities)===null||a===void 0)&&a.completions))throw new Error(`Server does not support completions (required for ${t})`);break;case"initialize":break;case"ping":break}}assertNotificationCapability(t){var r;switch(t){case"notifications/roots/list_changed":if(!(!((r=this._capabilities.roots)===null||r===void 0)&&r.listChanged))throw new Error(`Client does not support roots list changed notifications (required for ${t})`);break;case"notifications/initialized":break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(t){switch(t){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Client does not support sampling capability (required for ${t})`);break;case"roots/list":if(!this._capabilities.roots)throw new Error(`Client does not support roots capability (required for ${t})`);break;case"ping":break}}async ping(t){return this.request({method:"ping"},NE,t)}async complete(t,r){return this.request({method:"completion/complete",params:t},Ome,r)}async setLoggingLevel(t,r){return this.request({method:"logging/setLevel",params:{level:t}},NE,r)}async getPrompt(t,r){return this.request({method:"prompts/get",params:t},Mme,r)}async listPrompts(t,r){return this.request({method:"prompts/list",params:t},Fme,r)}async listResources(t,r){return this.request({method:"resources/list",params:t},Pme,r)}async listResourceTemplates(t,r){return this.request({method:"resources/templates/list",params:t},Nme,r)}async readResource(t,r){return this.request({method:"resources/read",params:t},Lme,r)}async subscribeResource(t,r){return this.request({method:"resources/subscribe",params:t},NE,r)}async unsubscribeResource(t,r){return this.request({method:"resources/unsubscribe",params:t},NE,r)}async callTool(t,r=Rz,n){return this.request({method:"tools/call",params:t},r,n)}async listTools(t,r){return this.request({method:"tools/list",params:t},Qme,r)}async sendRootsListChanged(){return this.notification({method:"notifications/roots/list_changed"})}};d();var cze=Ze(aze(),1),iD=Ze(require("node:process"),1),uze=require("node:stream");d();var Pz=class{static{s(this,"ReadBuffer")}append(t){this._buffer=this._buffer?Buffer.concat([this._buffer,t]):t}readMessage(){if(!this._buffer)return null;let t=this._buffer.indexOf(`
`);if(t===-1)return null;let r=this._buffer.toString("utf8",0,t).replace(/\r$/,"");return this._buffer=this._buffer.subarray(t+1),dHt(r)}clear(){this._buffer=void 0}};function dHt(e){return d$e.parse(JSON.parse(e))}s(dHt,"deserializeMessage");function lze(e){return JSON.stringify(e)+`
`}s(lze,"serializeMessage");var mHt=iD.default.platform==="win32"?["APPDATA","HOMEDRIVE","HOMEPATH","LOCALAPPDATA","PATH","PROCESSOR_ARCHITECTURE","SYSTEMDRIVE","SYSTEMROOT","TEMP","USERNAME","USERPROFILE"]:["HOME","LOGNAME","PATH","SHELL","TERM","USER"];function hHt(){let e={};for(let t of mHt){let r=iD.default.env[t];r!==void 0&&(r.startsWith("()")||(e[t]=r))}return e}s(hHt,"getDefaultEnvironment");var Nz=class{static{s(this,"StdioClientTransport")}constructor(t){this._abortController=new AbortController,this._readBuffer=new Pz,this._stderrStream=null,this._serverParams=t,(t.stderr==="pipe"||t.stderr==="overlapped")&&(this._stderrStream=new uze.PassThrough)}async start(){if(this._process)throw new Error("StdioClientTransport already started! If using Client class, note that connect() calls start() automatically.");return new Promise((t,r)=>{var n,i,o,a,l,c;this._process=(0,cze.default)(this._serverParams.command,(n=this._serverParams.args)!==null&&n!==void 0?n:[],{env:(i=this._serverParams.env)!==null&&i!==void 0?i:hHt(),stdio:["pipe","pipe",(o=this._serverParams.stderr)!==null&&o!==void 0?o:"inherit"],shell:!1,signal:this._abortController.signal,windowsHide:iD.default.platform==="win32"&&pHt(),cwd:this._serverParams.cwd}),this._process.on("error",u=>{var f,m;if(u.name==="AbortError"){(f=this.onclose)===null||f===void 0||f.call(this);return}r(u),(m=this.onerror)===null||m===void 0||m.call(this,u)}),this._process.on("spawn",()=>{t()}),this._process.on("close",u=>{var f;this._process=void 0,(f=this.onclose)===null||f===void 0||f.call(this)}),(a=this._process.stdin)===null||a===void 0||a.on("error",u=>{var f;(f=this.onerror)===null||f===void 0||f.call(this,u)}),(l=this._process.stdout)===null||l===void 0||l.on("data",u=>{this._readBuffer.append(u),this.processReadBuffer()}),(c=this._process.stdout)===null||c===void 0||c.on("error",u=>{var f;(f=this.onerror)===null||f===void 0||f.call(this,u)}),this._stderrStream&&this._process.stderr&&this._process.stderr.pipe(this._stderrStream)})}get stderr(){var t,r;return this._stderrStream?this._stderrStream:(r=(t=this._process)===null||t===void 0?void 0:t.stderr)!==null&&r!==void 0?r:null}processReadBuffer(){for(var t,r;;)try{let n=this._readBuffer.readMessage();if(n===null)break;(t=this.onmessage)===null||t===void 0||t.call(this,n)}catch(n){(r=this.onerror)===null||r===void 0||r.call(this,n)}}async close(){this._abortController.abort(),this._process=void 0,this._readBuffer.clear()}send(t){return new Promise(r=>{var n;if(!(!((n=this._process)===null||n===void 0)&&n.stdin))throw new Error("Not connected");let i=lze(t);this._process.stdin.write(i)?r():this._process.stdin.once("drain",r)})}};function pHt(){return"type"in iD.default}s(pHt,"isElectron");var Lz=class{constructor(t,r,n){this.transport=null;this.ctx=t,this.mcp=new Bz({name:r,version:n})}static{s(this,"MCPStdioServer")}async connect(t){t.env={...WVe(),...t.env||{}},this.transport=new Nz(t);try{await this.mcp.connect(this.transport)}catch(r){throw ap.error(this.ctx,"Connection failed:",r),r}}async getToolsList(){let t=[];return this.transport&&(t=(await this.mcp.listTools()).tools.map(n=>({name:n.name,description:n.description,inputSchema:{...n.inputSchema||{},properties:n.inputSchema?.properties||{},type:n.inputSchema?.type||"object"},_status:"enabled"}))),t}async callTool(t,r){try{let n=await this.mcp.callTool({name:t,arguments:r});return n&&typeof n=="object"?n.content?JSON.stringify(n.content):(ap.error(this.ctx,`Error calling tool ${t}: `+JSON.stringify(n)),`Error calling tool ${t}: `+JSON.stringify(n)):(ap.error(this.ctx,`Error calling tool ${t}: `+String(n)),`Error calling tool ${t}: `+String(n))}catch(n){ap.error(this.ctx,`Error calling tool ${t}:`,n);let i=n instanceof Error?n.message:"An unknown error occurred";return"Error calling tool "+t+": "+i}}async cleanup(){this.transport&&await this.mcp.close()}};d();var Fz=class extends a3{static{s(this,"McpLanguageModelTool")}constructor(t,r){super({...t,toolProvider:{id:t.serverName,displayName:t.serverName,description:t.serverName,isFirstPartyTool:!1},type:"mcp"}),this.invoker=r}prepareInvocation(t,r){let n={title:`Confirm MCP Tool: ${this.name}`,message:`Do you want to allow the external MCP tool "${this.toolProvider.displayName}/${this.displayName}" to run?`};return{progressMessage:`Running MCP tool: ${this.displayName}`,confirmationMessages:n}}async invoke(t,r,n){let i=await this.invoker(r.input);return new to([new eo(i)],"success")}async invokeConfirmation(t,r,n){if(n.isCancellationRequested)throw new gl;let i={name:this.name,title:r.title,message:r.message,input:r.input,conversationId:t.conversation.id,turnId:t.turn.id,roundId:r.roundId,toolCallId:r.toolCallId};try{return await t.ctx.get(Fg).invokeClientToolConfirmation(t,i)}catch(o){throw new Error(`Failed to invoke client tool confirmation ${this.name}: ${String(o)}`)}}};var fze=Ze(ul());var Mz=class e extends Mf{constructor(r){super();this.MCPServersMap=new Map;this.cachedMCPServerTools=[];this.ctx=r}static{s(this,"CLSMCPManager")}static{this.requestType=new fze.ProtocolNotificationType("copilot/mcpTools")}async updateMCPServers(r){await this.clearAllServers();for(let n of Object.keys(r))await this.addServer({name:n,...r[n]});await this.getAndCacheAllTools(),this.registerTools(),await this.notifyClient()}getAllTools(){return this.cachedMCPServerTools}updateMCPToolStatus(r,n,i){let o=this.getTool(r,n);if(!o){ap.error(this.ctx,`Not found MCP ${r} server ${n} tool`);return}o._status=i,i==="enabled"?this.ctx.get(Jc).getToolById(`${r}.${n}`)||this.registerTool(r,o):this.unregisterTool(r,n)}async callTool(r,n,i){let o=this.MCPServersMap.get(r);if(o){let{status:a,server:l}=o;if(a==="running"&&l)return await l.callTool(n,i)}throw new Error(`MCP server ${r} is not running`)}getTool(r,n){let o=this.getAllTools().find(a=>a.name===r)?.tools;return!o||o.length===0?null:o.find(a=>a.name===n)||null}async getAndCacheAllTools(){let r=[];for(let n of this.MCPServersMap.keys()){let i=this.MCPServersMap.get(n);try{if(i.status==="running"&&i.server){let o=await i.server.getToolsList();o.forEach(a=>{let l=a.name,c=this.getToolStatus(n,l);c&&(a._status=c)}),r.push({name:n,status:i.status,tools:o})}else i.status==="error"?r.push({name:n,status:i.status,tools:[],error:i.error}):r.push({name:n,status:i.status,tools:[]})}catch(o){ap.error(this.ctx,`Error getting tools list for MCP server ${n}:`,o);let a=o instanceof Error?`message: ${o.message} stack: ${o.stack}`:String(o);r.push({name:n,status:i.status,tools:[],error:a})}}this.cachedMCPServerTools=r}getToolStatus(r,n){let i=this.getTool(r,n);return i?i._status:null}async addServer(r){try{this.MCPServersMap.set(r.name,{status:"stopped",server:null});let n=new Lz(this.ctx,r.name,r.version||"1.0.0");await n.connect(r),this.MCPServersMap.set(r.name,{status:"running",server:n})}catch(n){ap.error(this.ctx,`Error initializing MCP server ${r.name}:`,n);let i=n instanceof Error?`message: ${n.message} stack: ${n.stack}`:String(n);this.MCPServersMap.set(r.name,{status:"error",server:null,error:i}),this.ctx.get(ja).showWarningMessageOnlyOnce(`${r.name}.initialize`,`Failed to initialize MCP server '${r.name}'. Please check the logs for more details.`)}}async notifyClient(){let r=this.getAllTools();await this.ctx.get(Wr).connection.sendNotification(e.requestType,{servers:r})}registerTools(){for(let r of this.cachedMCPServerTools){let{name:n,tools:i}=r;for(let o of i)this.registerTool(n,o)}}registerTool(r,n){let{name:i,description:o,inputSchema:a,_status:l}=n;ap.debug(this.ctx,"register MCP Tool:",r,i,o,a,l),l!=="disabled"&&this.ctx.get(Jc).registerTool(new Fz({serverName:r,name:i,displayName:`${r}_${i}`,description:o||"",displayDescription:o||"",inputSchema:a},c=>(ap.debug(this.ctx,"copilot MCP Invoker:",r,i,c),this.callTool(r,i,c))))}unregisterAllTools(){for(let r of this.cachedMCPServerTools){let{name:n,tools:i}=r;for(let o of i){let{name:a}=o;this.unregisterTool(n,a)}}}unregisterTool(r,n){this.ctx.get(Jc).unregisterTool(`${r}.${n}`)}async clearAllServers(){this.unregisterAllTools();for(let r of this.MCPServersMap.values()){let{status:n,server:i}=r;n==="running"&&i&&await i.cleanup()}this.MCPServersMap.clear()}};d();d();var gHt=new Gt("fetcher"),AHt="https://default.exp-tas.com/",Qz=class extends fn{constructor(r,n,i,o){super();this.ctx=r;this.defaultFetcher=n;this.fallbackFetcher=i;this.onFallbackSuccess=o}static{s(this,"FallbackFetcher")}async fetch(r,n){try{return await this.defaultFetcher.fetch(r,n)}catch(i){if(Rc(i)||`${r}/`.startsWith(AHt))throw i;gHt.info(this.ctx,`Request to <${r}> failed, attempting fallback.`,i);let o=await this.fallbackFetcher.fetch(r,n);return this.onFallbackSuccess(),o}}set proxySettings(r){this.defaultFetcher.proxySettings=r}get proxySettings(){return this.defaultFetcher.proxySettings}get name(){return this.defaultFetcher.name}async disconnectAll(){return this.defaultFetcher.disconnectAll()}makeAbortController(){return this.defaultFetcher.makeAbortController()}};var dze=new Gt("fetcher"),Oz=class extends fn{constructor(r,n=new UT(r),i=new GT(r)){super();this.ctx=r;this.helixFetcher=n;this.editorFetcher=i;this.currentFetcher=this.helixFetcher,this.fallbackFetcher=new Qz(r,n,i,()=>{dze.info(this.ctx,"Fallback fetch succeeded, switching to editor fetcher."),this.currentFetcher=this.editorFetcher}),r.get(h2).once(()=>{this.updateFetcher()}),r.get(jf).onConfigChange(bt.FetchStrategy,a=>{this.fetchStrategy=a,this.updateFetcher()}),this.fetchStrategy=Mn(r,bt.FetchStrategy)}static{s(this,"AgentDelegatingFetcher")}get editorFetcherCapability(){return this.ctx.get(Go).getCapabilities().fetch??!1}updateFetcher(){let r,n;if(!this.editorFetcherCapability)n="Using Helix fetcher, editor does not have fetch capability.",r=this.helixFetcher;else if(this.fetchStrategy==="client")n="Using editor fetcher, fetch strategy set to client.",r=this.editorFetcher;else if(this.fetchStrategy==="native")n="Using Helix fetcher, fetch strategy set to native.",r=this.helixFetcher;else{let i=Mn(this.ctx,bt.DebugUseEditorFetcher);i?.toString()==="true"?(n="Using editor fetcher, debug flag is enabled.",r=this.editorFetcher):i?.toString()==="false"?(n="Using Helix fetcher, debug flag is disabled.",r=this.helixFetcher):(n="Editor fetcher capability available, will fallback if needed.",r=this.fallbackFetcher)}this.currentFetcher!=r&&(dze.debug(this.ctx,n),this.currentFetcher=r)}get name(){return this.currentFetcher.name}set proxySettings(r){this.helixFetcher.proxySettings=r}get proxySettings(){return this.helixFetcher.proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.helixFetcher.rejectUnauthorized=r}get rejectUnauthorized(){return super.rejectUnauthorized}fetch(r,n){return this.currentFetcher.fetch(r,n)}disconnectAll(){return this.currentFetcher.disconnectAll()}makeAbortController(){return this.currentFetcher.makeAbortController()}};d();var Uz=class extends ja{constructor(r){super();this.ctx=r}static{s(this,"ConnectionNotificationSender")}get connection(){return this.ctx.get(Wr).connection}showWarningMessage(r,...n){return this.connection.window.showWarningMessage(r,...n)}};d();d();var mze=Ze(require("crypto")),hze=require("os");var yHt=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function CHt(e){let t=e.replace(/-/g,":").toLowerCase();return!yHt.has(t)}s(CHt,"validateMacAddress");function xHt(){let e=(0,hze.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(CHt(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}s(xHt,"getMac");var Yme;function vHt(){try{let e=xHt();return mze.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}s(vHt,"getMacMachineId");function pze(){return Yme||(Yme=vHt()||_r()),Yme}s(pze,"getMachineId");var bHt=_r()+Date.now(),gze=new Bs(bHt,pze());d();d();var oD=Ze(require("node:process"),1),ahe=require("node:buffer"),lhe=Ze(require("node:path"),1),Lze=require("node:url"),Fze=Ze(require("node:util"),1),che=Ze(require("node:child_process"),1),FE=Ze(require("node:fs/promises"),1);d();var ehe=Ze(require("node:process"),1),Cze=Ze(require("node:os"),1),xze=Ze(require("node:fs"),1);d();var Aze=Ze(require("node:fs"),1);d();var Jme=Ze(require("node:fs"),1);var Kme;function EHt(){try{return Jme.default.statSync("/.dockerenv"),!0}catch{return!1}}s(EHt,"hasDockerEnv");function IHt(){try{return Jme.default.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}s(IHt,"hasDockerCGroup");function Xme(){return Kme===void 0&&(Kme=EHt()||IHt()),Kme}s(Xme,"isDocker");var Zme,THt=s(()=>{try{return Aze.default.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv");function rw(){return Zme===void 0&&(Zme=THt()||Xme()),Zme}s(rw,"isInsideContainer");var yze=s(()=>{if(ehe.default.platform!=="linux")return!1;if(Cze.default.release().toLowerCase().includes("microsoft"))return!rw();try{return xze.default.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!rw():!1}catch{return!1}},"isWsl"),nw=ehe.default.env.__IS_WSL_TEST__?yze:yze();d();function LE(e,t,r){let n=s(i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let i=r();return n(i),i},set(i){n(i)}}),e}s(LE,"defineLazyProperty");d();var Rze=require("node:util"),Wz=Ze(require("node:process"),1),kze=require("node:child_process");d();var vze=require("node:util"),bze=Ze(require("node:process"),1),Eze=require("node:child_process");var wHt=(0,vze.promisify)(Eze.execFile);async function the(){if(bze.default.platform!=="darwin")throw new Error("macOS only");let{stdout:e}=await wHt("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(e)?.groups.id??"com.apple.Safari"}s(the,"defaultBrowserId");d();d();var Ize=Ze(require("node:process"),1),Tze=require("node:util"),rhe=require("node:child_process");var _Ht=(0,Tze.promisify)(rhe.execFile);async function wze(e,{humanReadableOutput:t=!0}={}){if(Ize.default.platform!=="darwin")throw new Error("macOS only");let r=t?[]:["-ss"],{stdout:n}=await _Ht("osascript",["-e",e,r]);return n.trim()}s(wze,"runAppleScript");async function nhe(e){return wze(`tell application "Finder" to set app_path to application file id "${e}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}s(nhe,"bundleName");d();var _ze=require("node:util"),Sze=require("node:child_process");var SHt=(0,_ze.promisify)(Sze.execFile),RHt={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},qz=class extends Error{static{s(this,"UnknownBrowserError")}};async function ihe(e=SHt){let{stdout:t}=await e("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),r=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(t);if(!r)throw new qz(`Cannot find Windows browser in stdout: ${JSON.stringify(t)}`);let{id:n}=r.groups,i=RHt[n];if(!i)throw new qz(`Unknown browser ID: ${n}`);return i}s(ihe,"defaultBrowser");var kHt=(0,Rze.promisify)(kze.execFile),BHt=s(e=>e.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,t=>t.toUpperCase()),"titleize");async function ohe(){if(Wz.default.platform==="darwin"){let e=await the();return{name:await nhe(e),id:e}}if(Wz.default.platform==="linux"){let{stdout:e}=await kHt("xdg-mime",["query","default","x-scheme-handler/http"]),t=e.trim();return{name:BHt(t.replace(/.desktop$/,"").replace("-"," ")),id:t}}if(Wz.default.platform==="win32")return ihe();throw new Error("Only macOS, Linux, and Windows are supported")}s(ohe,"defaultBrowser");var DHt=Fze.default.promisify(che.default.execFile),she=lhe.default.dirname((0,Lze.fileURLToPath)(importMetaUrlShim)),Bze=lhe.default.join(she,"xdg-open"),{platform:iw,arch:Dze}=oD.default,PHt=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await FE.default.access(r,FE.constants.F_OK),n=!0}catch{}if(!n)return e;let i=await FE.default.readFile(r,{encoding:"utf8"}),o=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return o?(t=o.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),Mze=s(async()=>`${await PHt()}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`,"getPowershellPathFromWsl");async function NHt(){let e=await Mze(),r=ahe.Buffer.from('(Get-ItemProperty -Path "HKCU:\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice").ProgId',"utf16le").toString("base64"),{stdout:n}=await DHt(e,["-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand",r],{encoding:"utf8"}),i=n.trim(),o={ChromeHTML:"com.google.chrome",MSEdgeHTM:"com.microsoft.edge",FirefoxURL:"org.mozilla.firefox"};return o[i]?{id:o[i]}:{}}s(NHt,"getWindowsDefaultBrowserFromWsl");var Pze=s(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(i){r=i}throw r},"pTryEach"),Gz=s(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return Pze(e.app,l=>Gz({...e,app:l}));let{name:t,arguments:r=[]}=e.app??{};if(r=[...r],Array.isArray(t))return Pze(t,l=>Gz({...e,app:{name:l,arguments:r}}));if(t==="browser"||t==="browserPrivate"){let l={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","com.microsoft.edgemac":"edge","microsoft-edge.desktop":"edge"},c={chrome:"--incognito",firefox:"--private-window",edge:"--inPrivate"},u=nw?await NHt():await ohe();if(u.id in l){let f=l[u.id];return t==="browserPrivate"&&r.push(c[f]),Gz({...e,app:{name:ow[f],arguments:r}})}throw new Error(`${u.name} is not supported as a default browser`)}let n,i=[],o={};if(iw==="darwin")n="open",e.wait&&i.push("--wait-apps"),e.background&&i.push("--background"),e.newInstance&&i.push("--new"),t&&i.push("-a",t);else if(iw==="win32"||nw&&!rw()&&!t){n=nw?await Mze():`${oD.default.env.SYSTEMROOT||oD.default.env.windir||"C:\\Windows"}\\System32\\WindowsPowerShell\\v1.0\\powershell`,i.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),nw||(o.windowsVerbatimArguments=!0);let l=["Start"];e.wait&&l.push("-Wait"),t?(l.push(`"\`"${t}\`""`),e.target&&r.push(e.target)):e.target&&l.push(`"${e.target}"`),r.length>0&&(r=r.map(c=>`"\`"${c}\`""`),l.push("-ArgumentList",r.join(","))),e.target=ahe.Buffer.from(l.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let l=!she||she==="/",c=!1;try{await FE.default.access(Bze,FE.constants.X_OK),c=!0}catch{}n=oD.default.versions.electron??(iw==="android"||l||!c)?"xdg-open":Bze}r.length>0&&i.push(...r),e.wait||(o.stdio="ignore",o.detached=!0)}iw==="darwin"&&r.length>0&&i.push("--args",...r),e.target&&i.push(e.target);let a=che.default.spawn(n,i,o);return e.wait?new Promise((l,c)=>{a.once("error",c),a.once("close",u=>{if(!e.allowNonzeroExitCode&&u>0){c(new Error(`Exited with code ${u}`));return}l(a)})}):(a.unref(),a)},"baseOpen"),LHt=s((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return Gz({...t,target:e})},"open");function Nze(e){if(typeof e=="string"||Array.isArray(e))return e;let{[Dze]:t}=e;if(!t)throw new Error(`${Dze} is not supported`);return t}s(Nze,"detectArchBinary");function uhe({[iw]:e},{wsl:t}){if(t&&nw)return Nze(t);if(!e)throw new Error(`${iw} is not supported`);return Nze(e)}s(uhe,"detectPlatformBinary");var ow={};LE(ow,"chrome",()=>uhe({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));LE(ow,"firefox",()=>uhe({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));LE(ow,"edge",()=>uhe({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));LE(ow,"browser",()=>"browser");LE(ow,"browserPrivate",()=>"browserPrivate");var Hz=LHt;var jz=class extends lc{constructor(r,n=new fhe){super();this.ctx=r;this.fallback=n}static{s(this,"AgentUrlOpener")}async open(r){let n=this.ctx.get(Wr);if(!(n.clientCapabilities?.window?.showDocument?.support&&(await n.connection.window.showDocument({uri:r,external:!0})).success))return this.fallback.open(r)}},fhe=class extends lc{static{s(this,"SpawnUrlOpener")}async open(t){await Hz(t)}};d();d();var Vz=class extends XH{static{s(this,"AgentWorkspaceWatcher")}async getWatchedFiles(){return(await this.ctx.get(Jh).getWatchedFiles({workspaceUri:this.workspaceFolder.uri,workspaceFolder:this.workspaceFolder,excludeGitignoredFiles:!0,excludeIDEIgnoredFiles:!0})).watchedFiles}startWatching(){if(this.status==="ready")return;this.ctx.get(Jh).onDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this)),this.status="ready"}stopWatching(){this.status="stopped",this.ctx.get(Jh).offDidChangeWatchedFiles(this.onDidChangeWatchedFilesHandler.bind(this))}onDidChangeWatchedFilesHandler(t){if(t.workspaceFolder.uri!==this.workspaceFolder.uri)return;let n=t.created.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(n.length){let a=n.map(l=>l.document).filter(l=>l!==void 0);this.onFilesCreated(a)}let i=t.changed.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);if(i.length){let a=i.map(l=>l.document).filter(l=>l!==void 0);this.onFilesUpdated(a)}let o=t.deleted.filter(a=>!a.isRestricted&&!a.isUnknownFileExtension);o.length&&this.onFilesDeleted(o.map(a=>({uri:a.uri})))}};var $z=class extends Yc{static{s(this,"AgentWorkspaceWatcherProvider")}createWatcher(t){return new Vz(this.ctx,t)}shouldStartWatching(t){return!!this.ctx.get(Go).getCapabilities().watchedFiles&&(!this.hasWatcher(t)||this.getStatus(t)==="stopped")}};function Qze(e){let t=new jf(process.env),r=zNe(t);r.set(jf,t),r.set(h2,new h2),r.set(fn,new Oz(r)),r.set(Ba,new Ba(r)),Ede(r,{});let n=iQe();r.set(yc,n);let i=new YB(r);r.set(en,i),r.set(YB,i);let o=new dS(r,n);r.set(dS,o),r.set(kn,new kn(o,i)),r.set(Sv,new Sv),r.set(Bs,gze),r.set(gn,new _j),r.set(gE,CVe()),r.set(ns,new ns),r.set(vo,qVe),r.set(qv,new Z$(r)),r.set(Yc,new $z(r)),r.set(Jh,new Jh(r)),r.set(Dl,new Dl),r.set(fl,vO(r,PGe)),r.set(jd,new jd(r)),r.set(z5,new W8),ZH(r),IQe(r),$8e(r),r.set(Wr,new Wr(r,e)),r.set(ja,new Uz(r)),r.set(lc,new jz(r)),r.set(zi,new dz(r)),r.set(JB,new JB(r));let a=new I3(r);return r.set(Vr,a),r.set(I3,a),r.set(hs,new v9(r,process.env)),r.set(Wc,new Wc(r)),NVe(r),aLe(r),r.set(M0,new M0),r.set(C3,new C3),r.set(np,new np),r.set(pf,new ez),r.set(m1,new m1),r.set(zg,new KH(r)),r.set(Yh,new Yh(r)),r.set(zA,new zA(r)),r.set(el,new el(r)),r.set(Ac,new cz(r)),r.set(BC,new fz(r)),r.set(Fg,new uz(r)),r.set(Jc,new Jc(r)),r.set(u2,new u2(r)),r.set(Kh,new Kh(r)),r.set(Mf,new Mz(r)),r}s(Qze,"createLanguageServerContext");d();var dhe=require("events"),sD=Ze(require("fs"));var Yz=Ze(ul());d();var Uze=Ze(require("fs")),qze=Ze(require("http")),sw=Ze(require("path"));var zz=class{constructor(t,r){this.port=t;let n;this.server=qze.createServer((i,o)=>{if(i.headers.accept&&i.headers.accept=="text/event-stream")switch(o.writeHead(200,{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}),i.url){case"/stdin":r.on("read",l=>{Oze(o,JSON.stringify(l))});return;case"/stdout":r.on("write",l=>{Oze(o,JSON.stringify(l))});return;default:o.writeHead(404),o.end();return}o.writeHead(200,{"Content-Type":"text/html"});let a=__dirname;sw.basename(__dirname)!=="debug"&&(a=sw.dirname(__dirname)),n??=Uze.readFileSync(sw.join(a,"dist","debugServer.html")).toString(),o.write(n),o.end()}),this.server.on("error",i=>{console.error(i)})}static{s(this,"DebugServer")}listen(){return this.server.listen(this.port),this}getPort(){return this.server.address().port}};function Oze(e,t){e.write("data: "+t.toString().replace(/\n/g,`
data: `)+`

`)}s(Oze,"writeData");var mhe=class extends Yz.AbstractMessageWriter{constructor(r,n){super();this.delegate=r;this.ev=n}static{s(this,"DebugMessageWriter")}async write(r){return this.ev.emit("write",r),this.delegate.write(r)}end(){this.ev.emit("end"),this.delegate.end()}},hhe=class extends Yz.AbstractMessageReader{constructor(r,n){super();this.delegate=r;this.ev=n}static{s(this,"DebugMessageReader")}listen(r){return this.delegate.listen(n=>{this.ev.emit("read",n),r(n)})}};async function Wze(e,t,r){let n,i=parseInt(e.GH_COPILOT_DEBUG_UI_PORT??e.GITHUB_COPILOT_DEBUG_UI_PORT);if(!isNaN(i)){n??=new dhe.EventEmitter;let l=new zz(i,n).listen();i===0&&await Hz(`http://localhost:${l.getPort()}`)}let o=e.GITHUB_COPILOT_RECORD??"",a;try{let l=Date.now().toString();o==="1"||o==="true"?a=sD.openSync(`stdio${l}.log`,"w"):o&&o!=="0"&&o!=="false"&&(a=sD.openSync(o.replaceAll("%s",l),"w"))}catch(l){console.error(l)}if(a){let l=s(c=>{a&&sD.appendFile(a,c,u=>{u&&(a=void 0,console.error(u))})},"log");n??=new dhe.EventEmitter,n.on("read",c=>l(`<-- ${JSON.stringify(c)}
`)),n.on("write",c=>l(`--> ${JSON.stringify(c)}
`))}return n&&(t=new hhe(t,n),r=new mhe(r,n)),[t,r]}s(Wze,"wrapTransports");async function Vze(){let e=l4e(process.argv.slice(2)).version(new go().getDisplayVersion()).strict().option("debug",{type:"boolean",hidden:!0}).option("clientProcessId",{type:"string",hidden:!0}).option("stdio",{type:"boolean",describe:"Use stdio"});"pkg"in process||e.option("node-ipc",{type:"boolean",describe:"Use node IPC",conflicts:"stdio"});let t=await e.parse(),r,n;t["node-ipc"]?(r=new Im.IPCMessageReader(process),n=new Im.IPCMessageWriter(process)):t.stdio?(r=new Im.StreamMessageReader(process.stdin),n=new Im.StreamMessageWriter(process.stdout)):(console.error("error: required option '--stdio' not specified"),process.exit(1)),"pkg"in process&&process.platform!=="win32"&&(process.env.TMPDIR=await Gze.mkdtemp(Hze.default.tmpdir()+"/github-copilot-"));let i=(0,Im.createConnection)(Im.ProposedFeatures.all,...await Wze(process.env,r,n)),o=Qze(i);console=ube(o);let a=o.get(Wr);r.onClose(()=>a.onExit()),process.on("SIGINT",()=>{a.onExit().finally(()=>process.exit(130)).catch(()=>{})}),process.on("SIGTERM",()=>{a.onExit().finally(()=>process.exit(143)).catch(()=>{})}),a.listen()}s(Vze,"main");jze.isMainThread?require.main===module&&Vze():lbe()&&cbe();0&&(module.exports={getTokenizer,getTokenizerAsync,main});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.8 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)

undici/lib/web/fetch/body.js:
  (*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

undici/lib/web/websocket/frame.js:
  (*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> *)

@vscode/prompt-tsx/dist/base/util/vs/nls.js:
@vscode/prompt-tsx/dist/base/util/vs/common/platform.js:
@vscode/prompt-tsx/dist/base/util/vs/common/process.js:
@vscode/prompt-tsx/dist/base/util/vs/common/path.js:
@vscode/prompt-tsx/dist/base/util/vs/common/uri.js:
  (*!!! DO NOT modify, this file was COPIED from 'microsoft/vscode' *)

yargs-parser/build/lib/string-utils.js:
yargs-parser/build/lib/tokenize-arg-string.js:
yargs-parser/build/lib/yargs-parser-types.js:
yargs-parser/build/lib/yargs-parser.js:
  (**
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

yargs-parser/build/lib/index.js:
  (**
   * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
   * CJS and ESM environments.
   *
   * @license
   * Copyright (c) 2016, Contributors
   * SPDX-License-Identifier: ISC
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=main.js.map
